{"items":[{"tags":["java","proxy","jvm"],"comments":[{"owner":{"account_id":31617,"reputation":52351,"user_id":86967,"accept_rate":56,"display_name":"Brent Bradburn"},"score":0,"creation_date":1508940082,"post_id":120797,"comment_id":80816010,"body_markdown":"The [Oracle documentation](https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html) around this seems pretty stale (though still probably valid).  Here&#39;s something more modern from Spring: https://docs.spring.io/spring-integration/reference/html/http.html#http-proxy","body":"The <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html\" rel=\"nofollow noreferrer\">Oracle documentation</a> around this seems pretty stale (though still probably valid).  Here&#39;s something more modern from Spring: <a href=\"https://docs.spring.io/spring-integration/reference/html/http.html#http-proxy\" rel=\"nofollow noreferrer\">docs.spring.io/spring-integration/reference/html/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":259956,"reputation":7267,"user_id":543220,"accept_rate":97,"display_name":"Joeblackdev"},"score":6,"creation_date":1299014468,"post_id":120802,"comment_id":5794869,"body_markdown":"Hi guys, how can you include the username and password in this also? Thanks","body":"Hi guys, how can you include the username and password in this also? Thanks"},{"owner":{"account_id":32963,"reputation":1195,"user_id":91856,"accept_rate":79,"display_name":"aasukisuki"},"score":8,"creation_date":1302897979,"post_id":120802,"comment_id":6487680,"body_markdown":"@Joeblackdev look at http.proxyUser and http.proxyPassword","body":"@Joeblackdev look at http.proxyUser and http.proxyPassword"},{"owner":{"account_id":274136,"reputation":5721,"user_id":1910558,"accept_rate":76,"display_name":"Srujan Kumar Gulla"},"score":1,"creation_date":1370456913,"post_id":120802,"comment_id":24470681,"body_markdown":"On my experience: to find the proxy address go to IE -&gt; InternetOptions-&gt; Lan setttings","body":"On my experience: to find the proxy address go to IE -&gt; InternetOptions-&gt; Lan setttings"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":5,"creation_date":1464663277,"post_id":120802,"comment_id":62562249,"body_markdown":"@aasukisuki `http.proxyUser` and `http.proxyPassword` are not Java system properties. They are for the Apache HTTP client.","body":"@aasukisuki <code>http.proxyUser</code> and <code>http.proxyPassword</code> are not Java system properties. They are for the Apache HTTP client."},{"owner":{"account_id":914392,"reputation":5655,"user_id":947526,"accept_rate":46,"display_name":"C-Otto"},"score":42,"creation_date":1469540789,"post_id":120802,"comment_id":64571587,"body_markdown":"Also, don&#39;t forget to configure `https.proxyHost` and `https.proxyPort` for HTTPs.","body":"Also, don&#39;t forget to configure <code>https.proxyHost</code> and <code>https.proxyPort</code> for HTTPs."},{"owner":{"account_id":2313483,"reputation":3401,"user_id":2031068,"accept_rate":62,"display_name":"Evgeniy Mishustin"},"score":0,"creation_date":1487174942,"post_id":120802,"comment_id":71666617,"body_markdown":"This should be run at each start-up of the jar, am I right ?","body":"This should be run at each start-up of the jar, am I right ?"},{"owner":{"account_id":1287160,"reputation":3077,"user_id":1240018,"accept_rate":54,"display_name":"eventhorizon"},"score":1,"creation_date":1516708496,"post_id":120802,"comment_id":83790123,"body_markdown":"ADDITIONALLY: Keep an eye on changes done between jdk 1.8.0_025 and jdk 1.8.0_144! If your proxy uses basic authentication it seems as if you have to set the property `jdk.http.auth.tunneling.disabledSchemes` to an empty string - or remove &quot;basic&quot; from it! The jdk default is to NOT USE basic authentication here! Just add something like `-Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot;` as a jvm-option to allow (all) authentication types.","body":"ADDITIONALLY: Keep an eye on changes done between jdk 1.8.0_025 and jdk 1.8.0_144! If your proxy uses basic authentication it seems as if you have to set the property <code>jdk.http.auth.tunneling.disabledSchemes</code> to an empty string - or remove &quot;basic&quot; from it! The jdk default is to NOT USE basic authentication here! Just add something like <code>-Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot;</code> as a jvm-option to allow (all) authentication types."},{"owner":{"account_id":2142792,"reputation":1932,"user_id":1901067,"display_name":"David"},"score":0,"creation_date":1572243095,"post_id":120802,"comment_id":103486396,"body_markdown":"`http.nonProxyHosts (default: localhost|127.*|[::1])` prevents testing localhost APIs, so I am using this setting for that case `-Dhttp.nonProxyHosts=` (empty value) to override default. See https://docs.oracle.com/javase/7/docs/api/java/net/doc-files/net-properties.html","body":"<code>http.nonProxyHosts (default: localhost|127.*|[::1])</code> prevents testing localhost APIs, so I am using this setting for that case <code>-Dhttp.nonProxyHosts=</code> (empty value) to override default. See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/doc-files/net-properties.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/net/doc-files/&hellip;</a>"},{"owner":{"account_id":1230591,"reputation":137,"user_id":1195286,"display_name":"Krupal Ghorpade"},"score":0,"creation_date":1664875095,"post_id":120802,"comment_id":130564797,"body_markdown":"I&#39;m getting following error; help pls - \nException:org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;https://hostname.com/api/&quot;: Unexpected response code for CONNECT: 400; nested exception is java.io.IOException: Unexpected response code for CONNECT: 400","body":"I&#39;m getting following error; help pls -  Exception:org.springframework.web.client.ResourceAccessExcep&zwnj;&#8203;tion: I/O error on GET request for &quot;<a href=\"https://hostname.com/api/\" rel=\"nofollow noreferrer\">hostname.com/api</a>&quot;: Unexpected response code for CONNECT: 400; nested exception is java.io.IOException: Unexpected response code for CONNECT: 400"}],"tags":[],"owner":{"account_id":8636,"reputation":28679,"user_id":15649,"accept_rate":62,"display_name":"Leonel"},"comment_count":9,"down_vote_count":0,"up_vote_count":401,"is_accepted":true,"score":401,"last_activity_date":1655981762,"creation_date":1222174463,"answer_id":120802,"question_id":120797,"body_markdown":"From the Java documentation (*not* the javadoc API):\r\n\r\nhttp://download.oracle.com/javase/6/docs/technotes/guides/net/proxies.html\r\n\r\nSet the JVM flags `http.proxyHost` and `http.proxyPort` when starting your JVM on the command line.\r\nThis is usually done in a shell script (in Unix) or bat file (in Windows). Here&#39;s the example with the Unix shell script:\r\n\r\n    JAVA_FLAGS=-Dhttp.proxyHost=10.0.0.100 -Dhttp.proxyPort=8800\r\n    java ${JAVA_FLAGS} ...\r\n\r\nWhen using containers such as JBoss or WebLogic, my solution is to edit the start-up scripts supplied by the vendor.\r\n\r\nMany developers are familiar with the Java API (javadocs), but many times the rest of the documentation is overlooked. It contains a lot of interesting information: http://download.oracle.com/javase/6/docs/technotes/guides/\r\n\r\n------------------\r\n**Update :** If you do not want to use proxy to resolve some local/intranet hosts, check out the comment from @Tomalak:\r\n\r\n&gt; Also don&#39;t forget the http.nonProxyHosts property!\r\n\r\n    -Dhttp.nonProxyHosts=&quot;localhost|127.0.0.1|10.*.*.*|*.example.com|etc&quot;","title":"How do I set the proxy to be used by the JVM","body":"<p>From the Java documentation (<em>not</em> the javadoc API):</p>\n<p><a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/net/proxies.html\" rel=\"noreferrer\">http://download.oracle.com/javase/6/docs/technotes/guides/net/proxies.html</a></p>\n<p>Set the JVM flags <code>http.proxyHost</code> and <code>http.proxyPort</code> when starting your JVM on the command line.\nThis is usually done in a shell script (in Unix) or bat file (in Windows). Here's the example with the Unix shell script:</p>\n<pre><code>JAVA_FLAGS=-Dhttp.proxyHost=10.0.0.100 -Dhttp.proxyPort=8800\njava ${JAVA_FLAGS} ...\n</code></pre>\n<p>When using containers such as JBoss or WebLogic, my solution is to edit the start-up scripts supplied by the vendor.</p>\n<p>Many developers are familiar with the Java API (javadocs), but many times the rest of the documentation is overlooked. It contains a lot of interesting information: <a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/\" rel=\"noreferrer\">http://download.oracle.com/javase/6/docs/technotes/guides/</a></p>\n<hr />\n<p><strong>Update :</strong> If you do not want to use proxy to resolve some local/intranet hosts, check out the comment from @Tomalak:</p>\n<blockquote>\n<p>Also don't forget the http.nonProxyHosts property!</p>\n</blockquote>\n<pre><code>-Dhttp.nonProxyHosts=&quot;localhost|127.0.0.1|10.*.*.*|*.example.com|etc&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":36,"creation_date":1302221483,"post_id":120818,"comment_id":6360922,"body_markdown":"&quot;proxySet&quot; does nothing. Proof: set it to &quot;false&quot;. There is not and has never been such a property in the JDK, various books and online references notwithstanding. It came from the long-defunct HotJavaBean, an encapsulated browser, died a death in about 1998.","body":"&quot;proxySet&quot; does nothing. Proof: set it to &quot;false&quot;. There is not and has never been such a property in the JDK, various books and online references notwithstanding. It came from the long-defunct HotJavaBean, an encapsulated browser, died a death in about 1998."},{"owner":{"account_id":162901,"reputation":10387,"user_id":384674,"accept_rate":69,"display_name":"Betlista"},"score":3,"creation_date":1335176562,"post_id":120818,"comment_id":13221371,"body_markdown":"Really are the property names without http/https ?","body":"Really are the property names without http/https ?"},{"owner":{"account_id":494247,"reputation":2304,"user_id":981435,"display_name":"Rob Cranfill"},"score":18,"creation_date":1383690403,"post_id":120818,"comment_id":29436088,"body_markdown":"This is wrong on three counts: 1: as mentioned, there is no &quot;proxySet&quot; item; 2: &quot;proxyHost&quot; and &quot;proxyPort&quot; need to be &quot;http.proxyHost&quot; and &quot;http.proxyPort&quot; (or the &#39;https&#39; equivalent); 3: System.getProperties().put(X,Y) is *not* the same as System.setProperty(X,Y). Other than that, though - great answer.","body":"This is wrong on three counts: 1: as mentioned, there is no &quot;proxySet&quot; item; 2: &quot;proxyHost&quot; and &quot;proxyPort&quot; need to be &quot;http.proxyHost&quot; and &quot;http.proxyPort&quot; (or the &#39;https&#39; equivalent); 3: System.getProperties().put(X,Y) is <i>not</i> the same as System.setProperty(X,Y). Other than that, though - great answer."},{"owner":{"account_id":1180749,"reputation":8956,"user_id":1155721,"accept_rate":77,"display_name":"csvan"},"score":0,"creation_date":1468397100,"post_id":120818,"comment_id":64105159,"body_markdown":"Almost correct. See: http://memorynotfound.com/configure-http-proxy-settings-java/","body":"Almost correct. See: <a href=\"http://memorynotfound.com/configure-http-proxy-settings-java/\" rel=\"nofollow noreferrer\">memorynotfound.com/configure-http-proxy-settings-java</a>"},{"owner":{"account_id":9348686,"reputation":764,"user_id":6944068,"accept_rate":100,"display_name":"toolforger"},"score":1,"creation_date":1542951777,"post_id":120818,"comment_id":93755301,"body_markdown":"@RobCranfill 1: &quot;proxySet&quot; used to be a non-standard flag that was needed by an old JDK but is not necessary anymore; 2: &quot;proxyHost&quot; and &quot;proxyPort&quot; do work, the &quot;http.&quot; prefix just restricts them to the HTTP protocol (similar for &quot;https.&quot;), 3: here you&#39;re right.","body":"@RobCranfill 1: &quot;proxySet&quot; used to be a non-standard flag that was needed by an old JDK but is not necessary anymore; 2: &quot;proxyHost&quot; and &quot;proxyPort&quot; do work, the &quot;http.&quot; prefix just restricts them to the HTTP protocol (similar for &quot;https.&quot;), 3: here you&#39;re right."}],"tags":[],"owner":{"account_id":6878,"reputation":9611,"user_id":11705,"accept_rate":73,"display_name":"GHad"},"comment_count":5,"down_vote_count":21,"up_vote_count":71,"is_accepted":false,"score":50,"last_activity_date":1517329197,"creation_date":1222174668,"answer_id":120818,"question_id":120797,"body_markdown":"You can set those flags programmatically this way:\r\n\r\n\tif (needsProxy()) {\r\n\t    System.setProperty(&quot;http.proxyHost&quot;,getProxyHost());\r\n\t    System.setProperty(&quot;http.proxyPort&quot;,getProxyPort());\r\n\t} else {\r\n\t    System.setProperty(&quot;http.proxyHost&quot;,&quot;&quot;);\r\n\t    System.setProperty(&quot;http.proxyPort&quot;,&quot;&quot;);\r\n\t}\r\n\r\nJust return the right values from the methods `needsProxy()`, `getProxyHost()` and `getProxyPort()` and you can call this code snippet whenever you want.","title":"How do I set the proxy to be used by the JVM","body":"<p>You can set those flags programmatically this way:</p>\n\n<pre><code>if (needsProxy()) {\n    System.setProperty(\"http.proxyHost\",getProxyHost());\n    System.setProperty(\"http.proxyPort\",getProxyPort());\n} else {\n    System.setProperty(\"http.proxyHost\",\"\");\n    System.setProperty(\"http.proxyPort\",\"\");\n}\n</code></pre>\n\n<p>Just return the right values from the methods <code>needsProxy()</code>, <code>getProxyHost()</code> and <code>getProxyPort()</code> and you can call this code snippet whenever you want.</p>\n"},{"tags":[],"owner":{"account_id":10874,"reputation":13103,"user_id":20734,"display_name":"John M"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1222189749,"creation_date":1222189749,"answer_id":122355,"question_id":120797,"body_markdown":"&gt; reading an XML file and needs to download its schema\r\n\r\nIf you are counting on retrieving schemas or DTDs over the internet, you&#39;re building a slow, chatty, fragile application.  What happens when that remote server hosting the file takes planned or unplanned downtime?  Your app breaks.  Is that OK?\r\n\r\nSee http://xml.apache.org/commons/components/resolver/resolver-article.html#s.catalog.files\r\n\r\nURL&#39;s for schemas and the like are best thought of as unique identifiers.  Not as requests to actually access that file remotely.  Do some google searching on &quot;XML catalog&quot;.  An XML catalog allows you to host such resources locally, resolving the slowness, chattiness and fragility.\r\n\r\nIt&#39;s basically a permanently cached copy of the remote content.  And that&#39;s OK, since the remote content will never change.  If there&#39;s ever an update, it&#39;d be at a different URL.  Making the actual retrieval of the resource over the internet especially silly.","title":"How do I set the proxy to be used by the JVM","body":"<blockquote>\n  <p>reading an XML file and needs to download its schema</p>\n</blockquote>\n\n<p>If you are counting on retrieving schemas or DTDs over the internet, you're building a slow, chatty, fragile application.  What happens when that remote server hosting the file takes planned or unplanned downtime?  Your app breaks.  Is that OK?</p>\n\n<p>See <a href=\"http://xml.apache.org/commons/components/resolver/resolver-article.html#s.catalog.files\" rel=\"noreferrer\">http://xml.apache.org/commons/components/resolver/resolver-article.html#s.catalog.files</a></p>\n\n<p>URL's for schemas and the like are best thought of as unique identifiers.  Not as requests to actually access that file remotely.  Do some google searching on \"XML catalog\".  An XML catalog allows you to host such resources locally, resolving the slowness, chattiness and fragility.</p>\n\n<p>It's basically a permanently cached copy of the remote content.  And that's OK, since the remote content will never change.  If there's ever an update, it'd be at a different URL.  Making the actual retrieval of the resource over the internet especially silly.</p>\n"},{"comments":[{"owner":{"account_id":964550,"reputation":1360,"user_id":988231,"accept_rate":100,"display_name":"Randnum"},"score":0,"creation_date":1323313788,"post_id":122579,"comment_id":10410352,"body_markdown":"this does not work.  if you are not already authenticated the first line in the main function gets a bunch of null values and the code stops. This doesn&#39;t help someone authenticate their jvm so that they can make URL calls through a proxy.","body":"this does not work.  if you are not already authenticated the first line in the main function gets a bunch of null values and the code stops. This doesn&#39;t help someone authenticate their jvm so that they can make URL calls through a proxy."}],"tags":[],"owner":{"account_id":9828,"reputation":144340,"user_id":18300,"accept_rate":92,"display_name":"Alex. S."},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1222192116,"creation_date":1222192116,"answer_id":122579,"question_id":120797,"body_markdown":"\r\nYou can set some properties about the proxy server as jvm parameters\r\n\r\n-Dhttp.proxyPort=8080, proxyHost, etc.\r\n\r\nbut if you need pass through an authenticating proxy, you need an authenticator like this example:\r\n\r\n**ProxyAuthenticator.java**\r\n\r\n    import java.net.*;\r\n    import java.io.*;\r\n    \r\n    public class ProxyAuthenticator extends Authenticator {\r\n    \r\n        private String userName, password;\r\n    \r\n        protected PasswordAuthentication getPasswordAuthentication() {\r\n            return new PasswordAuthentication(userName, password.toCharArray());\r\n        }\r\n    \r\n        public ProxyAuthenticator(String userName, String password) {\r\n            this.userName = userName;\r\n            this.password = password;\r\n        }\r\n    }\r\n\r\n**Example.java**\r\n\r\n        import java.net.Authenticator;\r\n        import ProxyAuthenticator;\r\n    \r\n    public class Example {\r\n        \r\n        public static void main(String[] args) {\r\n            String username = System.getProperty(&quot;proxy.authentication.username&quot;);\r\n            String password = System.getProperty(&quot;proxy.authentication.password&quot;);\r\n            \r\n    \t\t\t\tif (username != null &amp;&amp; !username.equals(&quot;&quot;)) {\r\n                Authenticator.setDefault(new ProxyAuthenticator(username, password));\r\n            }\r\n            \r\n    \t\t\t\t// here your JVM will be authenticated\r\n            \r\n        }\r\n    }\r\n\r\nBased on this reply:\r\nhttp://mail-archives.apache.org/mod_mbox/jakarta-jmeter-user/200208.mbox/%3C494FD350388AD511A9DD00025530F33102F1DC2C@MMSX006%3E\r\n\r\n\r\n\r\n\r\n","title":"How do I set the proxy to be used by the JVM","body":"<p>You can set some properties about the proxy server as jvm parameters</p>\n\n<p>-Dhttp.proxyPort=8080, proxyHost, etc.</p>\n\n<p>but if you need pass through an authenticating proxy, you need an authenticator like this example:</p>\n\n<p><strong>ProxyAuthenticator.java</strong></p>\n\n<pre><code>import java.net.*;\nimport java.io.*;\n\npublic class ProxyAuthenticator extends Authenticator {\n\n    private String userName, password;\n\n    protected PasswordAuthentication getPasswordAuthentication() {\n        return new PasswordAuthentication(userName, password.toCharArray());\n    }\n\n    public ProxyAuthenticator(String userName, String password) {\n        this.userName = userName;\n        this.password = password;\n    }\n}\n</code></pre>\n\n<p><strong>Example.java</strong></p>\n\n<pre><code>    import java.net.Authenticator;\n    import ProxyAuthenticator;\n\npublic class Example {\n\n    public static void main(String[] args) {\n        String username = System.getProperty(\"proxy.authentication.username\");\n        String password = System.getProperty(\"proxy.authentication.password\");\n\n                if (username != null &amp;&amp; !username.equals(\"\")) {\n            Authenticator.setDefault(new ProxyAuthenticator(username, password));\n        }\n\n                // here your JVM will be authenticated\n\n    }\n}\n</code></pre>\n\n<p>Based on this reply:\n<a href=\"http://mail-archives.apache.org/mod_mbox/jakarta-jmeter-user/200208.mbox/%3C494FD350388AD511A9DD00025530F33102F1DC2C@MMSX006%3E\" rel=\"noreferrer\">http://mail-archives.apache.org/mod_mbox/jakarta-jmeter-user/200208.mbox/%3C494FD350388AD511A9DD00025530F33102F1DC2C@MMSX006%3E</a></p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1302223567,"post_id":137174,"comment_id":6361221,"body_markdown":"If &quot;java.net.socks.username/password&quot; are set, why *also* set an Authenticator?","body":"If &quot;java.net.socks.username/password&quot; are set, why <i>also</i> set an Authenticator?"},{"owner":{"account_id":964550,"reputation":1360,"user_id":988231,"accept_rate":100,"display_name":"Randnum"},"score":3,"creation_date":1323302604,"post_id":137174,"comment_id":10408517,"body_markdown":"why isn&#39;t &quot;con.setRequest...&quot; the con isn&#39;t recognized. What libraries are needed for this.","body":"why isn&#39;t &quot;con.setRequest...&quot; the con isn&#39;t recognized. What libraries are needed for this."},{"owner":{"account_id":416952,"reputation":2995,"user_id":792668,"accept_rate":59,"display_name":"manuzhang"},"score":1,"creation_date":1381988057,"post_id":137174,"comment_id":28787279,"body_markdown":"+1 for the socks proxy option as sometimes http proxy can&#39;t solve my problem","body":"+1 for the socks proxy option as sometimes http proxy can&#39;t solve my problem"},{"owner":{"account_id":9399,"reputation":17347,"user_id":17339,"accept_rate":87,"display_name":"Drew Stephens"},"score":1,"creation_date":1392825941,"post_id":137174,"comment_id":33139617,"body_markdown":"In my testing, it works if you only set the default Authenticator—no need to set the authentication properties","body":"In my testing, it works if you only set the default Authenticator—no need to set the authentication properties"},{"owner":{"account_id":9399,"reputation":17347,"user_id":17339,"accept_rate":87,"display_name":"Drew Stephens"},"score":1,"creation_date":1392826293,"post_id":137174,"comment_id":33139881,"body_markdown":"Doesn&#39;t work if you only the system properties.  Methinks the java.net.socks.(username|password) properties do nothing.","body":"Doesn&#39;t work if you only the system properties.  Methinks the java.net.socks.(username|password) properties do nothing."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1464663347,"post_id":137174,"comment_id":62562264,"body_markdown":"@DrewStephens They don&#39;t even [exist](https://docs.oracle.com/javase/8/docs/technotes/guides/net/properties.html).","body":"@DrewStephens They don&#39;t even <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/properties.html\" rel=\"nofollow noreferrer\">exist</a>."},{"owner":{"account_id":1032118,"reputation":2439,"user_id":1040245,"accept_rate":80,"display_name":"golimar"},"score":0,"creation_date":1513867741,"post_id":137174,"comment_id":82822932,"body_markdown":"Should this affect every connection made from the Java program? The SOCKS settings seem to have no effect when making the connection through Netty...","body":"Should this affect every connection made from the Java program? The SOCKS settings seem to have no effect when making the connection through Netty..."}],"tags":[],"owner":{"account_id":855,"reputation":3955,"user_id":1119,"accept_rate":100,"display_name":"Chris Carruthers"},"comment_count":7,"down_vote_count":2,"up_vote_count":94,"is_accepted":false,"score":92,"last_activity_date":1222390242,"creation_date":1222390242,"answer_id":137174,"question_id":120797,"body_markdown":"To set an HTTP/HTTPS and/or SOCKS proxy programmatically:\r\n\r\n    ...\r\n\r\n    public void setProxy() {\r\n        if (isUseHTTPProxy()) {\r\n            // HTTP/HTTPS Proxy\r\n            System.setProperty(&quot;http.proxyHost&quot;, getHTTPHost());\r\n            System.setProperty(&quot;http.proxyPort&quot;, getHTTPPort());\r\n            System.setProperty(&quot;https.proxyHost&quot;, getHTTPHost());\r\n            System.setProperty(&quot;https.proxyPort&quot;, getHTTPPort());\r\n            if (isUseHTTPAuth()) {\r\n                String encoded = new String(Base64.encodeBase64((getHTTPUsername() + &quot;:&quot; + getHTTPPassword()).getBytes()));\r\n                con.setRequestProperty(&quot;Proxy-Authorization&quot;, &quot;Basic &quot; + encoded);\r\n                Authenticator.setDefault(new ProxyAuth(getHTTPUsername(), getHTTPPassword()));\r\n            }\r\n        }\r\n        if (isUseSOCKSProxy()) {\r\n            // SOCKS Proxy\r\n            System.setProperty(&quot;socksProxyHost&quot;, getSOCKSHost());\r\n            System.setProperty(&quot;socksProxyPort&quot;, getSOCKSPort());\r\n            if (isUseSOCKSAuth()) {\r\n                System.setProperty(&quot;java.net.socks.username&quot;, getSOCKSUsername());\r\n                System.setProperty(&quot;java.net.socks.password&quot;, getSOCKSPassword());\r\n                Authenticator.setDefault(new ProxyAuth(getSOCKSUsername(), getSOCKSPassword()));\r\n            }\r\n        }\r\n    }\r\n\r\n    ...\r\n\r\n    public class ProxyAuth extends Authenticator {\r\n        private PasswordAuthentication auth;\r\n\r\n        private ProxyAuth(String user, String password) {\r\n            auth = new PasswordAuthentication(user, password == null ? new char[]{} : password.toCharArray());\r\n        }\r\n\r\n        protected PasswordAuthentication getPasswordAuthentication() {\r\n            return auth;\r\n        }\r\n    }\r\n\r\n    ...\r\n\r\nRemember that HTTP proxies and SOCKS proxies operate at different levels in the network stack, so you can use one or the other or both.\r\n","title":"How do I set the proxy to be used by the JVM","body":"<p>To set an HTTP/HTTPS and/or SOCKS proxy programmatically:</p>\n\n<pre><code>...\n\npublic void setProxy() {\n    if (isUseHTTPProxy()) {\n        // HTTP/HTTPS Proxy\n        System.setProperty(\"http.proxyHost\", getHTTPHost());\n        System.setProperty(\"http.proxyPort\", getHTTPPort());\n        System.setProperty(\"https.proxyHost\", getHTTPHost());\n        System.setProperty(\"https.proxyPort\", getHTTPPort());\n        if (isUseHTTPAuth()) {\n            String encoded = new String(Base64.encodeBase64((getHTTPUsername() + \":\" + getHTTPPassword()).getBytes()));\n            con.setRequestProperty(\"Proxy-Authorization\", \"Basic \" + encoded);\n            Authenticator.setDefault(new ProxyAuth(getHTTPUsername(), getHTTPPassword()));\n        }\n    }\n    if (isUseSOCKSProxy()) {\n        // SOCKS Proxy\n        System.setProperty(\"socksProxyHost\", getSOCKSHost());\n        System.setProperty(\"socksProxyPort\", getSOCKSPort());\n        if (isUseSOCKSAuth()) {\n            System.setProperty(\"java.net.socks.username\", getSOCKSUsername());\n            System.setProperty(\"java.net.socks.password\", getSOCKSPassword());\n            Authenticator.setDefault(new ProxyAuth(getSOCKSUsername(), getSOCKSPassword()));\n        }\n    }\n}\n\n...\n\npublic class ProxyAuth extends Authenticator {\n    private PasswordAuthentication auth;\n\n    private ProxyAuth(String user, String password) {\n        auth = new PasswordAuthentication(user, password == null ? new char[]{} : password.toCharArray());\n    }\n\n    protected PasswordAuthentication getPasswordAuthentication() {\n        return auth;\n    }\n}\n\n...\n</code></pre>\n\n<p>Remember that HTTP proxies and SOCKS proxies operate at different levels in the network stack, so you can use one or the other or both.</p>\n"},{"tags":[],"owner":{"display_name":"user279796"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1266954391,"creation_date":1266954391,"answer_id":2321168,"question_id":120797,"body_markdown":"You can utilize the http.proxy* JVM variables if you&#39;re within a standalone JVM but you SHOULD NOT modify their startup scripts and/or do this within your application server (except maybe jboss or tomcat).  Instead you should utilize the JAVA Proxy API (not System.setProperty) or utilize the vendor&#39;s own configuration options.  Both WebSphere and WebLogic have very defined ways of setting up the proxies that are far more powerful than the J2SE one.  Additionally, for WebSphere and WebLogic you will likely break your application server in little ways by overriding the startup scripts (particularly the server&#39;s interop processes as you might be telling them to use your proxy as well...).  ","title":"How do I set the proxy to be used by the JVM","body":"<p>You can utilize the http.proxy* JVM variables if you're within a standalone JVM but you SHOULD NOT modify their startup scripts and/or do this within your application server (except maybe jboss or tomcat).  Instead you should utilize the JAVA Proxy API (not System.setProperty) or utilize the vendor's own configuration options.  Both WebSphere and WebLogic have very defined ways of setting up the proxies that are far more powerful than the J2SE one.  Additionally, for WebSphere and WebLogic you will likely break your application server in little ways by overriding the startup scripts (particularly the server's interop processes as you might be telling them to use your proxy as well...).  </p>\n"},{"comments":[{"owner":{"account_id":4956497,"reputation":576,"user_id":3988931,"accept_rate":80,"display_name":"Boris"},"score":1,"creation_date":1441209628,"post_id":2409610,"comment_id":52588685,"body_markdown":"I wish I could upvote this multiple times, it is the only solution that worked for me; thank you! I had to download the apache commons logging jar from here: https://commons.apache.org/proper/commons-logging/download_logging.cgi   \nMy code in Main():      System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\n      System.out.println(&quot;detecting proxies&quot;);\n      ExtendedProxyManager.init();","body":"I wish I could upvote this multiple times, it is the only solution that worked for me; thank you! I had to download the apache commons logging jar from here: <a href=\"https://commons.apache.org/proper/commons-logging/download_logging.cgi\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-logging/download_logging.c&zwnj;&#8203;gi</a>    My code in Main():      System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);       System.out.println(&quot;detecting proxies&quot;);       ExtendedProxyManager.init();"},{"owner":{"account_id":49589,"reputation":2819,"user_id":147673,"accept_rate":70,"display_name":"Houtman"},"score":0,"creation_date":1519138292,"post_id":2409610,"comment_id":84780817,"body_markdown":"What would the `xbootclasspath` pointing to deploy.jar have for effect, couldn&#39;t i take that jar onto my normal classpath (when running without webstart)?","body":"What would the <code>xbootclasspath</code> pointing to deploy.jar have for effect, couldn&#39;t i take that jar onto my normal classpath (when running without webstart)?"},{"owner":{"account_id":49589,"reputation":2819,"user_id":147673,"accept_rate":70,"display_name":"Houtman"},"score":1,"creation_date":1519139949,"post_id":2409610,"comment_id":84781990,"body_markdown":"in JDK 9, it fails :(  `Exception in thread &quot;main&quot; java.lang.IllegalAccessError: class ...) cannot access class com.sun.deploy.net.proxy.DeployProxySelector (in module jdk.deploy) because module jdk.deploy does not export com.sun.deploy.net.proxy`","body":"in JDK 9, it fails :(  <code>Exception in thread &quot;main&quot; java.lang.IllegalAccessError: class ...) cannot access class com.sun.deploy.net.proxy.DeployProxySelector (in module jdk.deploy) because module jdk.deploy does not export com.sun.deploy.net.proxy</code>"}],"tags":[],"owner":{"account_id":98784,"reputation":10491,"user_id":267197,"accept_rate":68,"display_name":"dma_k"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1268144291,"creation_date":1268144291,"answer_id":2409610,"question_id":120797,"body_markdown":"Recently I&#39;ve discovered the way to allow JVM to use browser proxy settings. What you need to do is to add `${java.home}/lib/deploy.jar` to your project and to init the library like the following:\r\n\r\n    import com.sun.deploy.net.proxy.DeployProxySelector;\r\n    import com.sun.deploy.services.PlatformType;\r\n    import com.sun.deploy.services.ServiceManager;\r\n    \r\n    import org.apache.commons.logging.Log;\r\n    import org.apache.commons.logging.LogFactory;\r\n    \r\n    public abstract class ExtendedProxyManager {\r\n    \r\n    \tprivate static final Log logger = LogFactory.getLog(ExtendedProxyManager.class);\r\n    \r\n    \t/**\r\n    \t * After calling this method, proxy settings can be magically retrieved from default browser settings.\r\n    \t */\r\n    \tpublic static boolean init() {\r\n    \t\tlogger.debug(&quot;Init started&quot;);\r\n    \r\n    \t\t// Initialization code was taken from com.sun.deploy.ClientContainer:\r\n    \t\tServiceManager\r\n    \t\t\t\t.setService(System.getProperty(&quot;os.name&quot;).toLowerCase().indexOf(&quot;windows&quot;) != -1 ? PlatformType.STANDALONE_TIGER_WIN32\r\n    \t\t\t\t\t\t: PlatformType.STANDALONE_TIGER_UNIX);\r\n    \r\n    \t\ttry {\r\n    \t\t\t// This will call ProxySelector.setDefault():\r\n    \t\t\tDeployProxySelector.reset();\r\n    \t\t} catch (Throwable throwable) {\r\n    \t\t\tlogger.error(&quot;Unable to initialize extended dynamic browser proxy settings support.&quot;, throwable);\r\n    \r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\treturn true;\r\n    \t}\r\n    }\r\n\r\nAfterwards the proxy settings are available to Java API via `java.net.ProxySelector`.\r\n\r\nThe only problem with this approach is that you need to start JVM with `deploy.jar` in bootclasspath e.g. `java -Xbootclasspath/a:&quot;%JAVA_HOME%\\jre\\lib\\deploy.jar&quot; -jar my.jar`. If somebody knows how to overcome this limitation, let me know.","title":"How do I set the proxy to be used by the JVM","body":"<p>Recently I've discovered the way to allow JVM to use browser proxy settings. What you need to do is to add <code>${java.home}/lib/deploy.jar</code> to your project and to init the library like the following:</p>\n\n<pre><code>import com.sun.deploy.net.proxy.DeployProxySelector;\nimport com.sun.deploy.services.PlatformType;\nimport com.sun.deploy.services.ServiceManager;\n\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\n\npublic abstract class ExtendedProxyManager {\n\n    private static final Log logger = LogFactory.getLog(ExtendedProxyManager.class);\n\n    /**\n     * After calling this method, proxy settings can be magically retrieved from default browser settings.\n     */\n    public static boolean init() {\n        logger.debug(\"Init started\");\n\n        // Initialization code was taken from com.sun.deploy.ClientContainer:\n        ServiceManager\n                .setService(System.getProperty(\"os.name\").toLowerCase().indexOf(\"windows\") != -1 ? PlatformType.STANDALONE_TIGER_WIN32\n                        : PlatformType.STANDALONE_TIGER_UNIX);\n\n        try {\n            // This will call ProxySelector.setDefault():\n            DeployProxySelector.reset();\n        } catch (Throwable throwable) {\n            logger.error(\"Unable to initialize extended dynamic browser proxy settings support.\", throwable);\n\n            return false;\n        }\n\n        return true;\n    }\n}\n</code></pre>\n\n<p>Afterwards the proxy settings are available to Java API via <code>java.net.ProxySelector</code>.</p>\n\n<p>The only problem with this approach is that you need to start JVM with <code>deploy.jar</code> in bootclasspath e.g. <code>java -Xbootclasspath/a:\"%JAVA_HOME%\\jre\\lib\\deploy.jar\" -jar my.jar</code>. If somebody knows how to overcome this limitation, let me know.</p>\n"},{"tags":[],"owner":{"account_id":1017258,"reputation":1,"user_id":1028540,"display_name":"nylas"},"comment_count":0,"down_vote_count":6,"up_vote_count":1,"is_accepted":false,"score":-5,"last_activity_date":1320353290,"creation_date":1320353290,"answer_id":8001659,"question_id":120797,"body_markdown":"I think configuring [WINHTTP][1] will also work.\r\n\r\nMany programs including Windows Updates are having problems behind proxy. By setting up WINHTTP will always fix this kind of problems\r\n\r\n\r\n  [1]: http://www.deconf.com/en/networking/windows-update-using-proxy/","title":"How do I set the proxy to be used by the JVM","body":"<p>I think configuring <a href=\"http://www.deconf.com/en/networking/windows-update-using-proxy/\" rel=\"nofollow\">WINHTTP</a> will also work.</p>\n\n<p>Many programs including Windows Updates are having problems behind proxy. By setting up WINHTTP will always fix this kind of problems</p>\n"},{"comments":[{"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"score":0,"creation_date":1418100713,"post_id":11527488,"comment_id":43194605,"body_markdown":"Awesome setting jvm arguement works for me like charm.. Thanks","body":"Awesome setting jvm arguement works for me like charm.. Thanks"},{"owner":{"account_id":383400,"reputation":1972,"user_id":739228,"accept_rate":69,"display_name":"Fer"},"score":0,"creation_date":1450955965,"post_id":11527488,"comment_id":56645425,"body_markdown":"I used this code to disable the proxy by &quot;false&quot; value on my SSLSocket. Thanks.","body":"I used this code to disable the proxy by &quot;false&quot; value on my SSLSocket. Thanks."},{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":1,"creation_date":1552987197,"post_id":11527488,"comment_id":97207786,"body_markdown":"Perhaps it is because my proxy requires authentication, but this did not work for me. I wish it did.","body":"Perhaps it is because my proxy requires authentication, but this did not work for me. I wish it did."},{"owner":{"account_id":1916420,"reputation":196,"user_id":1728922,"display_name":"Michael_S"},"score":5,"creation_date":1556535304,"post_id":11527488,"comment_id":98459527,"body_markdown":"This does not work with Proxy Auto-Config (PAC) files, see https://stackoverflow.com/questions/10324996/does-javas-proxyselector-not-work-with-automatic-proxy-configuration-scripts","body":"This does not work with Proxy Auto-Config (PAC) files, see <a href=\"https://stackoverflow.com/questions/10324996/does-javas-proxyselector-not-work-with-automatic-proxy-configuration-scripts\" title=\"does javas proxyselector not work with automatic proxy configuration scripts\">stackoverflow.com/questions/10324996/&hellip;</a>"},{"owner":{"account_id":9216104,"reputation":101,"user_id":14610296,"display_name":"Anurag"},"score":0,"creation_date":1651813687,"post_id":11527488,"comment_id":127457254,"body_markdown":"This is not working although it shows in VM arguments . Any help appriciated","body":"This is not working although it shows in VM arguments . Any help appriciated"},{"owner":{"account_id":926849,"reputation":1539,"user_id":957476,"display_name":"gr5"},"score":0,"creation_date":1651940433,"post_id":11527488,"comment_id":127487440,"body_markdown":"It has been 10 years but I think this only grabs the proxy server ip (or dns) and the port. I don&#39;t think java knew how to grab authentication information.  Maybe because there are something like dozens of completely unrelated authentication methods.  I had to also add lots of code to ask the user for and store and transmit username/password and even that wasn&#39;t good enough as there were other types of authentication.","body":"It has been 10 years but I think this only grabs the proxy server ip (or dns) and the port. I don&#39;t think java knew how to grab authentication information.  Maybe because there are something like dozens of completely unrelated authentication methods.  I had to also add lots of code to ask the user for and store and transmit username/password and even that wasn&#39;t good enough as there were other types of authentication."}],"tags":[],"owner":{"account_id":926849,"reputation":1539,"user_id":957476,"display_name":"gr5"},"comment_count":6,"down_vote_count":0,"up_vote_count":143,"is_accepted":false,"score":143,"last_activity_date":1390931091,"creation_date":1342545207,"answer_id":11527488,"question_id":120797,"body_markdown":"To use the system proxy setup:\r\n\r\n    java -Djava.net.useSystemProxies=true ...\r\n\r\nOr programatically:\r\n\r\n    System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\r\n\r\nSource: http://docs.oracle.com/javase/7/docs/api/java/net/doc-files/net-properties.html\r\n","title":"How do I set the proxy to be used by the JVM","body":"<p>To use the system proxy setup:</p>\n\n<pre><code>java -Djava.net.useSystemProxies=true ...\n</code></pre>\n\n<p>Or programatically:</p>\n\n<pre><code>System.setProperty(\"java.net.useSystemProxies\", \"true\");\n</code></pre>\n\n<p>Source: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/doc-files/net-properties.html\">http://docs.oracle.com/javase/7/docs/api/java/net/doc-files/net-properties.html</a></p>\n"},{"tags":[],"owner":{"account_id":952285,"reputation":101,"user_id":978180,"accept_rate":25,"display_name":"Pallavi"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1484657977,"creation_date":1346917027,"answer_id":12295125,"question_id":120797,"body_markdown":"I am also behind firewall, this worked for me!!\r\n\r\n    System.setProperty(&quot;http.proxyHost&quot;, &quot;proxy host addr&quot;);\r\n    System.setProperty(&quot;http.proxyPort&quot;, &quot;808&quot;);\r\n    Authenticator.setDefault(new Authenticator() {\r\n        protected PasswordAuthentication getPasswordAuthentication() {\r\n\r\n            return new PasswordAuthentication(&quot;domain\\\\user&quot;,&quot;password&quot;.toCharArray());\r\n        }\r\n    });\r\n\r\n    URL url = new URL(&quot;http://www.google.com/&quot;);\r\n    URLConnection con = url.openConnection();\r\n\r\n    BufferedReader in = new BufferedReader(new InputStreamReader(\r\n\t\t\t\t\t    con.getInputStream()));\r\n\r\n    // Read it ...\r\n    String inputLine;\r\n    while ((inputLine = in.readLine()) != null)\r\n        System.out.println(inputLine);\r\n\r\n    in.close();","title":"How do I set the proxy to be used by the JVM","body":"<p>I am also behind firewall, this worked for me!!</p>\n\n<pre><code>System.setProperty(\"http.proxyHost\", \"proxy host addr\");\nSystem.setProperty(\"http.proxyPort\", \"808\");\nAuthenticator.setDefault(new Authenticator() {\n    protected PasswordAuthentication getPasswordAuthentication() {\n\n        return new PasswordAuthentication(\"domain\\\\user\",\"password\".toCharArray());\n    }\n});\n\nURL url = new URL(\"http://www.google.com/\");\nURLConnection con = url.openConnection();\n\nBufferedReader in = new BufferedReader(new InputStreamReader(\n                    con.getInputStream()));\n\n// Read it ...\nString inputLine;\nwhile ((inputLine = in.readLine()) != null)\n    System.out.println(inputLine);\n\nin.close();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":5,"creation_date":1464663421,"post_id":12995494,"comment_id":62562273,"body_markdown":"`http.proxyUser` and `http.proxyPassword` are not Java system properties. They are for the Apache HTTP client.","body":"<code>http.proxyUser</code> and <code>http.proxyPassword</code> are not Java system properties. They are for the Apache HTTP client."},{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":1,"creation_date":1552987593,"post_id":12995494,"comment_id":97208026,"body_markdown":"Use `System.setProperty` instead of `System.getProperties().put(...)`","body":"Use <code>System.setProperty</code> instead of <code>System.getProperties().put(...)</code>"}],"tags":[],"owner":{"account_id":1106279,"reputation":9834,"user_id":1097600,"accept_rate":80,"display_name":"Sorter"},"comment_count":2,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1351775432,"creation_date":1350800249,"answer_id":12995494,"question_id":120797,"body_markdown":"Add this before you connect to a URL behind a proxy.\r\n\r\n\r\n    System.getProperties().put(&quot;http.proxyHost&quot;, &quot;someProxyURL&quot;);\r\n    System.getProperties().put(&quot;http.proxyPort&quot;, &quot;someProxyPort&quot;);\r\n    System.getProperties().put(&quot;http.proxyUser&quot;, &quot;someUserName&quot;);\r\n    System.getProperties().put(&quot;http.proxyPassword&quot;, &quot;somePassword&quot;);\r\n","title":"How do I set the proxy to be used by the JVM","body":"<p>Add this before you connect to a URL behind a proxy.</p>\n\n<pre><code>System.getProperties().put(\"http.proxyHost\", \"someProxyURL\");\nSystem.getProperties().put(\"http.proxyPort\", \"someProxyPort\");\nSystem.getProperties().put(\"http.proxyUser\", \"someUserName\");\nSystem.getProperties().put(\"http.proxyPassword\", \"somePassword\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":558350,"reputation":41,"user_id":920859,"display_name":"patdevelop"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1355988169,"creation_date":1355988169,"answer_id":13967127,"question_id":120797,"body_markdown":"As is pointed out in other answers, if you need to use Authenticated proxies, there&#39;s no reliable way to do this purely using command-line variables - which is annoying if you&#39;re using someone else&#39;s application and don&#39;t want to mess with the source code.\r\n\r\n[Will Iverson](https://stackoverflow.com/users/311440/will-iverson) makes the helpful suggestion over at https://stackoverflow.com/questions/5678000/using-httpproxy-to-connect-to-a-host-with-preemtive-authentication to use a Proxy-management tool such as Proxifier ( http://www.proxifier.com/ for Mac OS X and Windows) to handle this.\r\n\r\nFor example with Proxifier you can set it up to only intercept java commands to be managed and redirected through its (authenticated) proxy. You&#39;re going to want to set the proxyHost and proxyPort values to blank in this case though, e.g. pass in `-Dhttp.proxyHost= -Dhttp.proxyPort=` to your java commands.","title":"How do I set the proxy to be used by the JVM","body":"<p>As is pointed out in other answers, if you need to use Authenticated proxies, there's no reliable way to do this purely using command-line variables - which is annoying if you're using someone else's application and don't want to mess with the source code.</p>\n\n<p><a href=\"https://stackoverflow.com/users/311440/will-iverson\">Will Iverson</a> makes the helpful suggestion over at <a href=\"https://stackoverflow.com/questions/5678000/using-httpproxy-to-connect-to-a-host-with-preemtive-authentication\">Using HttpProxy to connect to a host with preemtive authentication</a> to use a Proxy-management tool such as Proxifier ( <a href=\"http://www.proxifier.com/\" rel=\"nofollow noreferrer\">http://www.proxifier.com/</a> for Mac OS X and Windows) to handle this.</p>\n\n<p>For example with Proxifier you can set it up to only intercept java commands to be managed and redirected through its (authenticated) proxy. You're going to want to set the proxyHost and proxyPort values to blank in this case though, e.g. pass in <code>-Dhttp.proxyHost= -Dhttp.proxyPort=</code> to your java commands.</p>\n"},{"comments":[{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":0,"creation_date":1552987651,"post_id":24551536,"comment_id":97208051,"body_markdown":"This answer doesn&#39;t provide anything that hasn&#39;t already been said in the other answers.","body":"This answer doesn&#39;t provide anything that hasn&#39;t already been said in the other answers."}],"tags":[],"owner":{"account_id":1170835,"reputation":1183,"user_id":1148069,"display_name":"Viet Tran"},"comment_count":1,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1465967510,"creation_date":1404384203,"answer_id":24551536,"question_id":120797,"body_markdown":"That works for me:\r\n\r\n    public void setHttpProxy(boolean isNeedProxy) {\r\n        if (isNeedProxy) {\r\n            System.setProperty(&quot;http.proxyHost&quot;, getProxyHost());\r\n            System.setProperty(&quot;http.proxyPort&quot;, getProxyPort());\r\n        } else {\r\n            System.clearProperty(&quot;http.proxyHost&quot;);\r\n            System.clearProperty(&quot;http.proxyPort&quot;);\r\n        }\r\n    }\r\n\r\nP/S: I base on GHad&#39;s answer.","title":"How do I set the proxy to be used by the JVM","body":"<p>That works for me:</p>\n\n<pre><code>public void setHttpProxy(boolean isNeedProxy) {\n    if (isNeedProxy) {\n        System.setProperty(\"http.proxyHost\", getProxyHost());\n        System.setProperty(\"http.proxyPort\", getProxyPort());\n    } else {\n        System.clearProperty(\"http.proxyHost\");\n        System.clearProperty(\"http.proxyPort\");\n    }\n}\n</code></pre>\n\n<p>P/S: I base on GHad's answer.</p>\n"},{"comments":[{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":2,"creation_date":1552987456,"post_id":27919196,"comment_id":97207953,"body_markdown":"Use `System.setProperty` instead of `System.getProperties().put(...)`","body":"Use <code>System.setProperty</code> instead of <code>System.getProperties().put(...)</code>"}],"tags":[],"owner":{"account_id":1612518,"reputation":797,"user_id":1491081,"display_name":"sarath"},"comment_count":1,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1548336232,"creation_date":1421142566,"answer_id":27919196,"question_id":120797,"body_markdown":"JVM uses the proxy to make HTTP calls\r\n\r\n    System.getProperties().put(&quot;http.proxyHost&quot;, &quot;someProxyURL&quot;);\r\n    System.getProperties().put(&quot;http.proxyPort&quot;, &quot;someProxyPort&quot;);\r\n\t\t\t\r\nThis may use user setting proxy\r\n\r\n    System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);","title":"How do I set the proxy to be used by the JVM","body":"<p>JVM uses the proxy to make HTTP calls</p>\n\n<pre><code>System.getProperties().put(\"http.proxyHost\", \"someProxyURL\");\nSystem.getProperties().put(\"http.proxyPort\", \"someProxyPort\");\n</code></pre>\n\n<p>This may use user setting proxy</p>\n\n<pre><code>System.setProperty(\"java.net.useSystemProxies\", \"true\");\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user3999721"},"score":0,"creation_date":1678110880,"post_id":32511851,"comment_id":133464626,"body_markdown":"This option not working inside docker, only adding `ARG _JAVA_OPTIONS=&quot;-Dhttps.proxyHost=myproxy -Dhttps.proxyPort=myport&quot;` like this working.. but hardcoding is not feasible...","body":"This option not working inside docker, only adding <code>ARG _JAVA_OPTIONS=&quot;-Dhttps.proxyHost=myproxy -Dhttps.proxyPort=myport&quot;</code> like this working.. but hardcoding is not feasible..."}],"tags":[],"owner":{"account_id":68667,"reputation":2301,"user_id":200234,"display_name":"Mihai Capotă"},"comment_count":1,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1455043417,"creation_date":1441920327,"answer_id":32511851,"question_id":120797,"body_markdown":"Set the [`java.net.useSystemProxies`][1] property to `true`. You can set it, for example, through the [JAVA_TOOL_OPTIONS][2] environmental variable. In Ubuntu, you can, for example, add the following line to `.bashrc`:\r\n\r\n&gt; export JAVA_TOOL_OPTIONS+=&quot; -Djava.net.useSystemProxies=true&quot;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/net/doc-files/net-properties.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/envvars002.html","title":"How do I set the proxy to be used by the JVM","body":"<p>Set the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/doc-files/net-properties.html\" rel=\"noreferrer\"><code>java.net.useSystemProxies</code></a> property to <code>true</code>. You can set it, for example, through the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/envvars002.html\" rel=\"noreferrer\">JAVA_TOOL_OPTIONS</a> environmental variable. In Ubuntu, you can, for example, add the following line to <code>.bashrc</code>:</p>\n\n<blockquote>\n  <p>export JAVA_TOOL_OPTIONS+=\" -Djava.net.useSystemProxies=true\"</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1464663532,"post_id":32897878,"comment_id":62562297,"body_markdown":"This is since Java 1.5, not 1.7.","body":"This is since Java 1.5, not 1.7."}],"tags":[],"owner":{"account_id":6176254,"reputation":1267,"user_id":4813037,"display_name":"Philip M."},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1443738881,"creation_date":1443738881,"answer_id":32897878,"question_id":120797,"body_markdown":"This is a minor update, but since Java 7, proxy connections can now be created programmatically rather than through system properties.  This may be useful if:\r\n\r\n 1. Proxy needs to be dynamically rotated during the program&#39;s runtime\r\n 2. Multiple parallel proxies need to be used\r\n 3. Or just make your code cleaner :)\r\n\r\nHere&#39;s a contrived example in groovy:\r\n\r\n    // proxy configuration read from file resource under &quot;proxyFileName&quot;\r\n    String proxyFileName = &quot;proxy.txt&quot;\r\n    String proxyPort = &quot;1234&quot;\r\n    String url = &quot;http://www.promised.land&quot;\r\n    File testProxyFile = new File(proxyFileName)\r\n\tURLConnection connection\r\n\r\n\tif (!testProxyFile.exists()) {\r\n\r\n\t\tlogger.debug &quot;proxyFileName doesn&#39;t exist.  Bypassing connection via proxy.&quot;\r\n\t\tconnection = url.toURL().openConnection()\r\n\r\n\t} else {\r\n\t\tString proxyAddress = testProxyFile.text\r\n\t\tconnection = url.toURL().openConnection(new Proxy(Proxy.Type.HTTP, new InetSocketAddress(proxyAddress, proxyPort)))\r\n\t}\r\n\r\n\ttry {\r\n        connection.connect()\r\n    }\r\n    catch (Exception e) {\r\n        logger.error e.printStackTrace()\r\n    }\r\n\r\n\r\nFull Reference:\r\n[http://docs.oracle.com/javase/7/docs/technotes/guides/net/proxies.html][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/guides/net/proxies.html","title":"How do I set the proxy to be used by the JVM","body":"<p>This is a minor update, but since Java 7, proxy connections can now be created programmatically rather than through system properties.  This may be useful if:</p>\n\n<ol>\n<li>Proxy needs to be dynamically rotated during the program's runtime</li>\n<li>Multiple parallel proxies need to be used</li>\n<li>Or just make your code cleaner :)</li>\n</ol>\n\n<p>Here's a contrived example in groovy:</p>\n\n<pre><code>// proxy configuration read from file resource under \"proxyFileName\"\nString proxyFileName = \"proxy.txt\"\nString proxyPort = \"1234\"\nString url = \"http://www.promised.land\"\nFile testProxyFile = new File(proxyFileName)\nURLConnection connection\n\nif (!testProxyFile.exists()) {\n\n    logger.debug \"proxyFileName doesn't exist.  Bypassing connection via proxy.\"\n    connection = url.toURL().openConnection()\n\n} else {\n    String proxyAddress = testProxyFile.text\n    connection = url.toURL().openConnection(new Proxy(Proxy.Type.HTTP, new InetSocketAddress(proxyAddress, proxyPort)))\n}\n\ntry {\n    connection.connect()\n}\ncatch (Exception e) {\n    logger.error e.printStackTrace()\n}\n</code></pre>\n\n<p>Full Reference:\n<a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/net/proxies.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/technotes/guides/net/proxies.html</a></p>\n"},{"comments":[{"owner":{"account_id":384624,"reputation":15403,"user_id":741249,"display_name":"THelper"},"score":6,"creation_date":1504520312,"post_id":41862236,"comment_id":79029802,"body_markdown":"ProxyUser and proxyPassword are not Java system properties, but Apache HTTP client properties so this doesn&#39;t work in all cases.","body":"ProxyUser and proxyPassword are not Java system properties, but Apache HTTP client properties so this doesn&#39;t work in all cases."}],"tags":[],"owner":{"account_id":436296,"reputation":2813,"user_id":823368,"accept_rate":0,"display_name":"Andreas Panagiotidis"},"comment_count":1,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1563107805,"creation_date":1485380841,"answer_id":41862236,"question_id":120797,"body_markdown":"The following shows how to set in Java a proxy with **proxy user and proxy password** from the command line, which is a very common case. You should not save passwords and hosts in the code, as a rule in the first place. \r\n\r\nPassing the system properties in command line with -D and setting them in the code with System.setProperty(&quot;name&quot;, &quot;value&quot;) is equivalent. \r\n\r\n**But note this**\r\n\r\nExample that works: \r\n\r\n    C:\\temp&gt;java -Dhttps.proxyHost=host -Dhttps.proxyPort=port -Dhttps.proxyUser=user -Dhttps.proxyPassword=&quot;password&quot; -Djavax.net.ssl.trustStore=c:/cacerts -Djavax.net.ssl.trustStorePassword=changeit com.andreas.JavaNetHttpConnection\r\n\r\nBut the following **does not work**:\r\n\r\n    C:\\temp&gt;java com.andreas.JavaNetHttpConnection -Dhttps.proxyHost=host -Dhttps.proxyPort=port -Dhttps=proxyUser=user -Dhttps.proxyPassword=&quot;password&quot; -Djavax.net.ssl.trustStore=c:/cacerts -Djavax.net.ssl.trustStorePassword=changeit\r\n   \r\nThe only difference is the position of the system properties! (before and after the class)\r\n\r\nIf you have special characters in password, you are allowed to put it in quotes &quot;@MyPass123%&quot;, like in the above example. \r\n\r\nIf you access an HTTPS service, you have to use `https.proxyHost`, `https.proxyPort` etc. \r\n\r\nIf you access an HTTP service, you have to use `http.proxyHost`, `http.proxyPort` etc. \r\n","title":"How do I set the proxy to be used by the JVM","body":"<p>The following shows how to set in Java a proxy with <strong>proxy user and proxy password</strong> from the command line, which is a very common case. You should not save passwords and hosts in the code, as a rule in the first place. </p>\n\n<p>Passing the system properties in command line with -D and setting them in the code with System.setProperty(\"name\", \"value\") is equivalent. </p>\n\n<p><strong>But note this</strong></p>\n\n<p>Example that works: </p>\n\n<pre><code>C:\\temp&gt;java -Dhttps.proxyHost=host -Dhttps.proxyPort=port -Dhttps.proxyUser=user -Dhttps.proxyPassword=\"password\" -Djavax.net.ssl.trustStore=c:/cacerts -Djavax.net.ssl.trustStorePassword=changeit com.andreas.JavaNetHttpConnection\n</code></pre>\n\n<p>But the following <strong>does not work</strong>:</p>\n\n<pre><code>C:\\temp&gt;java com.andreas.JavaNetHttpConnection -Dhttps.proxyHost=host -Dhttps.proxyPort=port -Dhttps=proxyUser=user -Dhttps.proxyPassword=\"password\" -Djavax.net.ssl.trustStore=c:/cacerts -Djavax.net.ssl.trustStorePassword=changeit\n</code></pre>\n\n<p>The only difference is the position of the system properties! (before and after the class)</p>\n\n<p>If you have special characters in password, you are allowed to put it in quotes \"@MyPass123%\", like in the above example. </p>\n\n<p>If you access an HTTPS service, you have to use <code>https.proxyHost</code>, <code>https.proxyPort</code> etc. </p>\n\n<p>If you access an HTTP service, you have to use <code>http.proxyHost</code>, <code>http.proxyPort</code> etc. </p>\n"},{"tags":[],"owner":{"account_id":222722,"reputation":2329,"user_id":2135941,"accept_rate":75,"display_name":"SanThee"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1499868748,"creation_date":1499868748,"answer_id":45060126,"question_id":120797,"body_markdown":"Combining Sorter&#39;s and javabrett/Leonel&#39;s answers:\r\n\r\n    java -Dhttp.proxyHost=10.10.10.10 -Dhttp.proxyPort=8080 -Dhttp.proxyUser=username -Dhttp.proxyPassword=password -jar myJar.jar","title":"How do I set the proxy to be used by the JVM","body":"<p>Combining Sorter's and javabrett/Leonel's answers:</p>\n\n<pre><code>java -Dhttp.proxyHost=10.10.10.10 -Dhttp.proxyPort=8080 -Dhttp.proxyUser=username -Dhttp.proxyPassword=password -jar myJar.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2150868,"reputation":3882,"user_id":1907282,"display_name":"Marcelo C."},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1512079325,"creation_date":1512079325,"answer_id":47583369,"question_id":120797,"body_markdown":"If you want &quot;Socks Proxy&quot;, inform the &quot;socksProxyHost&quot; and &quot;socksProxyPort&quot; VM arguments.\r\n\r\ne.g.\r\n\r\n    java -DsocksProxyHost=127.0.0.1 -DsocksProxyPort=8080 org.example.Main\r\n\r\n","title":"How do I set the proxy to be used by the JVM","body":"<p>If you want \"Socks Proxy\", inform the \"socksProxyHost\" and \"socksProxyPort\" VM arguments.</p>\n\n<p>e.g.</p>\n\n<pre><code>java -DsocksProxyHost=127.0.0.1 -DsocksProxyPort=8080 org.example.Main\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17629418,"reputation":111,"user_id":12793815,"display_name":"nuclear_party"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675075150,"creation_date":1657054645,"answer_id":72875447,"question_id":120797,"body_markdown":"This is a complete example that worked for me - note that for HTTPS there are separate properties (as per https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html).\r\n\r\nCode below sends a request to https://api.myip.com API and prints the response.  \r\n\r\n    public static void main(String[] args) throws IOException {\r\n        System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\r\n        final String proxyUser = &quot;proxy-user&quot;;\r\n        final String proxyPass = &quot;password123&quot;;\r\n        final String host = &quot;some.proxy.io&quot;;\r\n        final Integer port = 50201;\r\n\r\n        // http\r\n        System.setProperty(&quot;http.proxyHost&quot;,host);\r\n        System.setProperty(&quot;http.proxyPort&quot;, String.valueOf(port));\r\n        System.setProperty(&quot;http.proxyUser&quot;, proxyUser);\r\n        System.setProperty(&quot;http.proxyPassword&quot;, proxyPass);\r\n\r\n        // https\r\n        System.setProperty(&quot;https.proxyHost&quot;,host);\r\n        System.setProperty(&quot;https.proxyPort&quot;, String.valueOf(port));\r\n        System.setProperty(&quot;https.proxyUser&quot;, proxyUser);\r\n        System.setProperty(&quot;https.proxyPassword&quot;, proxyPass);\r\n\r\n        System.setProperty(&quot;jdk.http.auth.tunneling.disabledSchemes&quot;, &quot;&quot;);\r\n        System.setProperty(&quot;jdk.https.auth.tunneling.disabledSchemes&quot;, &quot;&quot;);\r\n\r\n        Authenticator.setDefault(new Authenticator() {\r\n                    @Override\r\n                    public PasswordAuthentication getPasswordAuthentication() {\r\n                        return new PasswordAuthentication(proxyUser, proxyPass.toCharArray());\r\n                    }\r\n            }\r\n        );\r\n\r\n        // create and send a https request to myip.com API\r\n        URL url = new URL(&quot;https://api.myip.com&quot;);\r\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n        connection.setRequestMethod(&quot;GET&quot;);\r\n        int status = connection.getResponseCode();\r\n        \r\n        // read the response\r\n        BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n        String responseLine;\r\n        StringBuffer responseContent = new StringBuffer();\r\n        while ((responseLine = in.readLine()) != null) \r\n            responseContent.append(responseLine);\r\n        \r\n        in.close();\r\n        connection.disconnect();\r\n        \r\n        // print the response\r\n        System.out.println(status);\r\n        System.out.println(responseContent);\r\n    }\r\n\r\n","title":"How do I set the proxy to be used by the JVM","body":"<p>This is a complete example that worked for me - note that for HTTPS there are separate properties (as per <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/net/proxies.html</a>).</p>\n<p>Code below sends a request to <a href=\"https://api.myip.com\" rel=\"nofollow noreferrer\">https://api.myip.com</a> API and prints the response.</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\n    final String proxyUser = &quot;proxy-user&quot;;\n    final String proxyPass = &quot;password123&quot;;\n    final String host = &quot;some.proxy.io&quot;;\n    final Integer port = 50201;\n\n    // http\n    System.setProperty(&quot;http.proxyHost&quot;,host);\n    System.setProperty(&quot;http.proxyPort&quot;, String.valueOf(port));\n    System.setProperty(&quot;http.proxyUser&quot;, proxyUser);\n    System.setProperty(&quot;http.proxyPassword&quot;, proxyPass);\n\n    // https\n    System.setProperty(&quot;https.proxyHost&quot;,host);\n    System.setProperty(&quot;https.proxyPort&quot;, String.valueOf(port));\n    System.setProperty(&quot;https.proxyUser&quot;, proxyUser);\n    System.setProperty(&quot;https.proxyPassword&quot;, proxyPass);\n\n    System.setProperty(&quot;jdk.http.auth.tunneling.disabledSchemes&quot;, &quot;&quot;);\n    System.setProperty(&quot;jdk.https.auth.tunneling.disabledSchemes&quot;, &quot;&quot;);\n\n    Authenticator.setDefault(new Authenticator() {\n                @Override\n                public PasswordAuthentication getPasswordAuthentication() {\n                    return new PasswordAuthentication(proxyUser, proxyPass.toCharArray());\n                }\n        }\n    );\n\n    // create and send a https request to myip.com API\n    URL url = new URL(&quot;https://api.myip.com&quot;);\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n    connection.setRequestMethod(&quot;GET&quot;);\n    int status = connection.getResponseCode();\n    \n    // read the response\n    BufferedReader in = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n    String responseLine;\n    StringBuffer responseContent = new StringBuffer();\n    while ((responseLine = in.readLine()) != null) \n        responseContent.append(responseLine);\n    \n    in.close();\n    connection.disconnect();\n    \n    // print the response\n    System.out.println(status);\n    System.out.println(responseContent);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8353739,"reputation":41,"user_id":6274858,"display_name":"Kolja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697523984,"creation_date":1697523984,"answer_id":77306584,"question_id":120797,"body_markdown":"I know the question asks explicitly for the functionality inside Java. However, I think it is important to think about whether you SHOULD configure a proxy inside your application. I want to make it very clear, in my point of view, that this is not the best practice. In my experience, this kind of approach led to a complicated setup and boilerplate code. \r\n\r\nMainly due to better portability and separation of concerns, you should try to fix this issue NOT on the application layer. Also, different parts of your application may require different proxy configurations due to inconsistencies inside your dependencies. \r\n\r\nEspecially if your application runs containerized, it will make your life pretty hard. The main container platforms have their own solutions to implement proxy-configuration by network policies, services, and proxy settings on platform level. Handling Network-Settings on application level will interfere with the platform solutions. \r\n\r\nPlease consider to configuring your hosting system to use a proxy, to configure the server your application is running on or to configure the container your application is running in.","title":"How do I set the proxy to be used by the JVM","body":"<p>I know the question asks explicitly for the functionality inside Java. However, I think it is important to think about whether you SHOULD configure a proxy inside your application. I want to make it very clear, in my point of view, that this is not the best practice. In my experience, this kind of approach led to a complicated setup and boilerplate code.</p>\n<p>Mainly due to better portability and separation of concerns, you should try to fix this issue NOT on the application layer. Also, different parts of your application may require different proxy configurations due to inconsistencies inside your dependencies.</p>\n<p>Especially if your application runs containerized, it will make your life pretty hard. The main container platforms have their own solutions to implement proxy-configuration by network policies, services, and proxy settings on platform level. Handling Network-Settings on application level will interfere with the platform solutions.</p>\n<p>Please consider to configuring your hosting system to use a proxy, to configure the server your application is running on or to configure the container your application is running in.</p>\n"}],"owner":{"account_id":8636,"reputation":28679,"user_id":15649,"accept_rate":62,"display_name":"Leonel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":841093,"favorite_count":0,"down_vote_count":0,"up_vote_count":368,"accepted_answer_id":120802,"answer_count":21,"score":368,"last_activity_date":1697523984,"creation_date":1222174405,"question_id":120797,"body_markdown":"Many times, a Java app needs to connect to the Internet. The most common example happens when it is reading an XML file and needs to download its schema.\r\n\r\nI am behind a proxy server. How can I set my JVM to use the proxy ?","title":"How do I set the proxy to be used by the JVM","body":"<p>Many times, a Java app needs to connect to the Internet. The most common example happens when it is reading an XML file and needs to download its schema.</p>\n\n<p>I am behind a proxy server. How can I set my JVM to use the proxy ?</p>\n"},{"tags":["java","spring-boot","gradle","google-cloud-platform","gcloud"],"owner":{"account_id":17981792,"reputation":21,"user_id":20117603,"display_name":"pradeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697523874,"creation_date":1697520702,"question_id":77306366,"body_markdown":"**gradle.build**\r\n\r\n        buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.google.cloud.tools:appengine-gradle-plugin:2.4.5&#39;\r\n        }\r\n        }\r\n\r\n        plugins {\r\n        id &#39;application&#39;\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;2.5.4&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n        }\r\n\r\n\r\n        apply plugin: &#39;com.google.cloud.tools.appengine&#39;\r\n\r\n\r\n        repositories {\r\n        mavenCentral()\r\n        maven { url &quot;https://packages.jetbrains.team/maven/p/ij/intellij-dependencies&quot; }\r\n        flatDir {\r\n            dirs &#39;lib&#39;\r\n        }\r\n        google()\r\n        }\r\n\r\n        application {\r\n        mainClass = &quot;com.example.demo.DemoApplication&quot;\r\n        applicationName = &#39;gcloud&#39;\r\n        }\r\n\r\n        dependencies {\r\n        testImplementation platform(&#39;org.junit:junit-bom:5.9.1&#39;)\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter&#39;\r\n\r\n        implementation &#39;com.google.firebase:firebase-database:20.0.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-admin:9.0.0&#39;\r\n        // https://mvnrepository.com/artifact/org.json/json\r\n        implementation group: &#39;org.json&#39;, name: &#39;json&#39;, version: &#39;20230618&#39;\r\n\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        }\r\n\r\n        test {\r\n        useJUnitPlatform()\r\n        }\r\n\r\n        task getProjectId {\r\n        doLast {\r\n            def projectId = System.getenv(&#39;GOOGLE_CLOUD_PROJECT&#39;)\r\n            if (projectId == null) {\r\n            projectId = ServiceOptions.getDefaultProjectId()\r\n            }\r\n            println(&quot;Project ID: ${projectId}&quot;)\r\n        }\r\n        }\r\n\r\n        appengine {\r\n        deploy {\r\n        \r\n            projectId = &#39;gcloud config get-value project&#39;.execute().text.trim()\r\n            version = 3\r\n            stopPreviousVersion = true\r\n        }\r\n        }\r\n\r\n\r\n**java file**\r\n\r\n        package com.example.demo;\r\n\r\n\r\n        import org.springframework.boot.SpringApplication;\r\n        import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n        import org.springframework.scheduling.annotation.EnableScheduling;\r\n        import org.springframework.scheduling.annotation.Scheduled;\r\n        import org.springframework.web.bind.annotation.GetMapping;\r\n        import org.springframework.web.bind.annotation.RestController;\r\n\r\n\r\n        @SpringBootApplication\r\n        @RestController\r\n        @EnableScheduling\r\n        public class DemoApplication {\r\n\r\n        public static void main(String[] args) {\r\n\r\n            SpringApplication.run(DemoApplication.class, args);\r\n        }\r\n\r\n        @Scheduled(fixedRate = 60000)\r\n        public void myScheduledTask() {\r\n\r\n            System.out.println(&quot;one minite&quot;);\r\n\r\n        }\r\n\r\n        @GetMapping(&quot;/gcloud&quot;)\r\n        public String hello() {\r\n            return &quot;You are not hacked!&quot;;\r\n        }\r\n\r\n        }\r\n\r\n\r\n**app.yaml**\r\n\r\n    runtime: java11\r\n    env: standard\r\n    instance_class: F4_1G\r\n    entrypoint: java -cp appengine-web.jar com.example.demo.DemoApplication\r\n\r\n\r\n\r\nIf run this code in my local computer it works smoothly.\r\n\r\nI deployed my code with this cmd \r\n\r\n      gradle appengineDeploy\r\n\r\nBut, after deploying in gcloud spring boot&#39;s Scheduled task not worked.\r\n\r\nwhat I did wrong in this ?\r\n\r\n\r\n\r\nI want to run spring boot&#39;s Scheduled task in google cloud standard env.\r\n\r\nhow do I do that ?\r\n\r\n\r\nI see console output using this cmd `gcloud app logs tail -s default` but nothing is printed.\r\n\r\nIf I go to my website. It comes like this \r\n\r\n![image](https://github.com/GoogleCloudPlatform/app-gradle-plugin/assets/96039278/5cc2621f-3f3a-4d0c-bc75-dfbf85a535ae)\r\n\r\nmy website also doesn&#39;t work.\r\n\r\nHow do I solve this ?","title":"spring boot&#39;s Scheduled task not worked in Google cloud app engine standard environment","body":"<p><strong>gradle.build</strong></p>\n<pre><code>    buildscript {\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.google.cloud.tools:appengine-gradle-plugin:2.4.5'\n    }\n    }\n\n    plugins {\n    id 'application'\n    id 'java'\n    id 'org.springframework.boot' version '2.5.4'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    }\n\n\n    apply plugin: 'com.google.cloud.tools.appengine'\n\n\n    repositories {\n    mavenCentral()\n    maven { url &quot;https://packages.jetbrains.team/maven/p/ij/intellij-dependencies&quot; }\n    flatDir {\n        dirs 'lib'\n    }\n    google()\n    }\n\n    application {\n    mainClass = &quot;com.example.demo.DemoApplication&quot;\n    applicationName = 'gcloud'\n    }\n\n    dependencies {\n    testImplementation platform('org.junit:junit-bom:5.9.1')\n    testImplementation 'org.junit.jupiter:junit-jupiter'\n\n    implementation 'com.google.firebase:firebase-database:20.0.1'\n    implementation 'com.google.firebase:firebase-admin:9.0.0'\n    // https://mvnrepository.com/artifact/org.json/json\n    implementation group: 'org.json', name: 'json', version: '20230618'\n\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    }\n\n    test {\n    useJUnitPlatform()\n    }\n\n    task getProjectId {\n    doLast {\n        def projectId = System.getenv('GOOGLE_CLOUD_PROJECT')\n        if (projectId == null) {\n        projectId = ServiceOptions.getDefaultProjectId()\n        }\n        println(&quot;Project ID: ${projectId}&quot;)\n    }\n    }\n\n    appengine {\n    deploy {\n    \n        projectId = 'gcloud config get-value project'.execute().text.trim()\n        version = 3\n        stopPreviousVersion = true\n    }\n    }\n</code></pre>\n<p><strong>java file</strong></p>\n<pre><code>    package com.example.demo;\n\n\n    import org.springframework.boot.SpringApplication;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n    import org.springframework.scheduling.annotation.EnableScheduling;\n    import org.springframework.scheduling.annotation.Scheduled;\n    import org.springframework.web.bind.annotation.GetMapping;\n    import org.springframework.web.bind.annotation.RestController;\n\n\n    @SpringBootApplication\n    @RestController\n    @EnableScheduling\n    public class DemoApplication {\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @Scheduled(fixedRate = 60000)\n    public void myScheduledTask() {\n\n        System.out.println(&quot;one minite&quot;);\n\n    }\n\n    @GetMapping(&quot;/gcloud&quot;)\n    public String hello() {\n        return &quot;You are not hacked!&quot;;\n    }\n\n    }\n</code></pre>\n<p><strong>app.yaml</strong></p>\n<pre><code>runtime: java11\nenv: standard\ninstance_class: F4_1G\nentrypoint: java -cp appengine-web.jar com.example.demo.DemoApplication\n</code></pre>\n<p>If run this code in my local computer it works smoothly.</p>\n<p>I deployed my code with this cmd</p>\n<pre><code>  gradle appengineDeploy\n</code></pre>\n<p>But, after deploying in gcloud spring boot's Scheduled task not worked.</p>\n<p>what I did wrong in this ?</p>\n<p>I want to run spring boot's Scheduled task in google cloud standard env.</p>\n<p>how do I do that ?</p>\n<p>I see console output using this cmd <code>gcloud app logs tail -s default</code> but nothing is printed.</p>\n<p>If I go to my website. It comes like this</p>\n<p><img src=\"https://github.com/GoogleCloudPlatform/app-gradle-plugin/assets/96039278/5cc2621f-3f3a-4d0c-bc75-dfbf85a535ae\" alt=\"image\" /></p>\n<p>my website also doesn't work.</p>\n<p>How do I solve this ?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","hikaricp"],"comments":[{"owner":{"account_id":15125782,"reputation":387,"user_id":10915131,"display_name":"yeahseol"},"score":0,"creation_date":1582158060,"post_id":60310858,"comment_id":106685202,"body_markdown":"What is `root cause`?","body":"What is <code>root cause</code>?"},{"owner":{"account_id":17801894,"reputation":466,"user_id":12928469,"display_name":"Sanjog"},"score":0,"creation_date":1582240497,"post_id":60310858,"comment_id":106719656,"body_markdown":"Here&#39;s the complete exception stack:","body":"Here&#39;s the complete exception stack:"}],"answers":[{"comments":[{"owner":{"account_id":1075946,"reputation":365,"user_id":1074100,"display_name":"Abhishek Aggarwal"},"score":2,"creation_date":1587557095,"post_id":60380157,"comment_id":108556341,"body_markdown":"Do you know that is the property against which we have to set that value?","body":"Do you know that is the property against which we have to set that value?"},{"owner":{"account_id":946198,"reputation":399,"user_id":973417,"display_name":"GiovanyMoreno"},"score":4,"creation_date":1596399572,"post_id":60380157,"comment_id":111793067,"body_markdown":"spring.datasource.hikari.max-lifetime=600000 (in milliseconds)","body":"spring.datasource.hikari.max-lifetime=600000 (in milliseconds)"},{"owner":{"account_id":6905825,"reputation":599,"user_id":5654696,"display_name":"Canatto Filipe"},"score":1,"creation_date":1615640038,"post_id":60380157,"comment_id":117756727,"body_markdown":"I did a test using wait_timeout = 300 (5 minutes), and max-lifetime = 600000 (10 minutes). However I was not able to get this error. Do you know why ?","body":"I did a test using wait_timeout = 300 (5 minutes), and max-lifetime = 600000 (10 minutes). However I was not able to get this error. Do you know why ?"},{"owner":{"account_id":8522424,"reputation":1363,"user_id":6790957,"display_name":"Vikas Tawniya"},"score":1,"creation_date":1630064178,"post_id":60380157,"comment_id":121859892,"body_markdown":"@CanattoFilipe The error occurs when the application tries to interact with DB with the old pool of connection(older than DB wait_timeout) which it assumes to be live. So I think you should try simulating that.","body":"@CanattoFilipe The error occurs when the application tries to interact with DB with the old pool of connection(older than DB wait_timeout) which it assumes to be live. So I think you should try simulating that."},{"owner":{"account_id":2001051,"reputation":1982,"user_id":1820715,"accept_rate":75,"display_name":"Magno C"},"score":0,"creation_date":1643047027,"post_id":60380157,"comment_id":125230999,"body_markdown":"RAVI SHANKAR&#39;s answer is best because it tell us &quot;do this to solve&quot; instead &quot;find out how to do this to solve&quot;","body":"RAVI SHANKAR&#39;s answer is best because it tell us &quot;do this to solve&quot; instead &quot;find out how to do this to solve&quot;"},{"owner":{"account_id":14214715,"reputation":65,"user_id":10268946,"display_name":"chaatat"},"score":1,"creation_date":1669211813,"post_id":60380157,"comment_id":131593017,"body_markdown":"@Kirby : Do we have wait_timeout in oracle also? we are having similar issue in our application but we are using oracle11g. where do we set this wait_timeout. Also the application is deployed in weblogic. is this error related to some weblogic settings?","body":"@Kirby : Do we have wait_timeout in oracle also? we are having similar issue in our application but we are using oracle11g. where do we set this wait_timeout. Also the application is deployed in weblogic. is this error related to some weblogic settings?"}],"tags":[],"owner":{"account_id":7641562,"reputation":676,"user_id":5793492,"display_name":"Karbert"},"comment_count":6,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1669733523,"creation_date":1582561746,"answer_id":60380157,"question_id":60310858,"body_markdown":"The problem is that the default value of the `spring.datasource.hikari.maxLifetime` property (default of 30 minutes, https://github.com/brettwooldridge/HikariCP#gear-configuration-knobs-baby) is higher than the database&#39;s `wait_timeout`, 10 minutes in my case.  \r\nSo you have two options, either decrease the `hikari.maxLifetime` below 10 minutes, or increase the database&#39;s `wait_timeout` property.","title":"Possibly consider using a shorter maxLifetime value - hikari connection pool spring boot","body":"<p>The problem is that the default value of the <code>spring.datasource.hikari.maxLifetime</code> property (default of 30 minutes, <a href=\"https://github.com/brettwooldridge/HikariCP#gear-configuration-knobs-baby\" rel=\"noreferrer\">https://github.com/brettwooldridge/HikariCP#gear-configuration-knobs-baby</a>) is higher than the database's <code>wait_timeout</code>, 10 minutes in my case.<br />\nSo you have two options, either decrease the <code>hikari.maxLifetime</code> below 10 minutes, or increase the database's <code>wait_timeout</code> property.</p>\n"},{"tags":[],"owner":{"account_id":18429183,"reputation":219,"user_id":13424737,"display_name":"RAVI SHANKAR"},"comment_count":0,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1683732229,"creation_date":1592932508,"answer_id":62540259,"question_id":60310858,"body_markdown":"You can set the value as below in the `application.properties` file\r\n```\r\nspring.datasource.hikari.maxLifeTime=600000 #10 minutes wait time\r\n```","title":"Possibly consider using a shorter maxLifetime value - hikari connection pool spring boot","body":"<p>You can set the value as below in the <code>application.properties</code> file</p>\n<pre><code>spring.datasource.hikari.maxLifeTime=600000 #10 minutes wait time\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":8,"creation_date":1641894995,"post_id":70664694,"comment_id":124920815,"body_markdown":"You don;t need to define the bean, just provide the proper properties in your `application.properties` suggesting to fix this by replacing the bean isn&#39;t the proper solution.","body":"You don;t need to define the bean, just provide the proper properties in your <code>application.properties</code> suggesting to fix this by replacing the bean isn&#39;t the proper solution."},{"owner":{"account_id":3765239,"reputation":11306,"user_id":3128926,"accept_rate":76,"display_name":"Levent Divilioglu"},"score":0,"creation_date":1646412663,"post_id":70664694,"comment_id":126124382,"body_markdown":"@M.Deinum However making people aware of the beans does not harm. I still find it useful but I agree that the best practice for configuration is to use properties file.","body":"@M.Deinum However making people aware of the beans does not harm. I still find it useful but I agree that the best practice for configuration is to use properties file."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":7,"creation_date":1646473336,"post_id":70664694,"comment_id":126135736,"body_markdown":"The problem with this is that when you define the bean, without further/proper knowledgeee, in Spring Boot parts of the auto configuration back off. Which often lead to surprising results for users without the proper knowledge.","body":"The problem with this is that when you define the bean, without further/proper knowledgeee, in Spring Boot parts of the auto configuration back off. Which often lead to surprising results for users without the proper knowledge."}],"tags":[],"owner":{"account_id":21100099,"reputation":528,"user_id":15510171,"display_name":"bittap"},"comment_count":3,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1641894742,"creation_date":1641894742,"answer_id":70664694,"question_id":60310858,"body_markdown":"In my case, I solved the problem through this setting \r\n\r\n\t@Configuration\r\n\tpublic class HikariSetting{\r\n\r\n\t\t@Bean\r\n\t\tpublic HikariConfig config() {\r\n\t\t\tHikariConfig hikariConfig = new HikariConfig();\r\n\t\t\t\r\n\t\t\t// other setting\r\n\t\t\t\r\n\t\t\thikariConfig.addDataSourceProperty(&quot;socketTimeout&quot;, 600000);\r\n\t\t\thikariConfig.setMaxLifetime(600000);\r\n\t\t\t\r\n\t\t\treturn hikariConfig;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nreference [this][1]\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/brettwooldridge/HikariCP/issues/1256#issuecomment-524020345","title":"Possibly consider using a shorter maxLifetime value - hikari connection pool spring boot","body":"<p>In my case, I solved the problem through this setting</p>\n<pre><code>@Configuration\npublic class HikariSetting{\n\n    @Bean\n    public HikariConfig config() {\n        HikariConfig hikariConfig = new HikariConfig();\n        \n        // other setting\n        \n        hikariConfig.addDataSourceProperty(&quot;socketTimeout&quot;, 600000);\n        hikariConfig.setMaxLifetime(600000);\n        \n        return hikariConfig;\n    }\n    \n}\n</code></pre>\n<p>reference <a href=\"https://github.com/brettwooldridge/HikariCP/issues/1256#issuecomment-524020345\" rel=\"nofollow noreferrer\">this</a></p>\n"},{"tags":[],"owner":{"account_id":11574148,"reputation":399,"user_id":8480036,"display_name":"Ashish Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697523808,"creation_date":1697523808,"answer_id":77306562,"question_id":60310858,"body_markdown":"This warning comes when the database connection is closed after some time of being idle but the connetion thread tries making a call after that. I use below Hikari configs in application yml to keep my connetion alive.\r\n\r\n    hikari:\r\n      connectionTestQuery: SELECT 1\r\n      connection-timeout: 300000\r\n      idle-timeout: 15000\r\n      max-lifetime: 35000\r\n      validationTimeout: 300000\r\n\r\nconnectionTestQuery will be used to query DB after some interval and won&#39;t let the db connection get closed.\r\n\r\nThen just point these configs in the db configuration class like below.\r\n\r\n&gt; @ConfigurationProperties(prefix = &quot;hikari&quot;)  \r\n public\r\n&gt; DataSource dataSource() {...\r\n&gt;     }\r\n\r\n\r\nNote: This is just a warning and does not impacts your code as such other than opening a new connection resuming the task.","title":"Possibly consider using a shorter maxLifetime value - hikari connection pool spring boot","body":"<p>This warning comes when the database connection is closed after some time of being idle but the connetion thread tries making a call after that. I use below Hikari configs in application yml to keep my connetion alive.</p>\n<pre><code>hikari:\n  connectionTestQuery: SELECT 1\n  connection-timeout: 300000\n  idle-timeout: 15000\n  max-lifetime: 35000\n  validationTimeout: 300000\n</code></pre>\n<p>connectionTestQuery will be used to query DB after some interval and won't let the db connection get closed.</p>\n<p>Then just point these configs in the db configuration class like below.</p>\n<blockquote>\n<p>@ConfigurationProperties(prefix = &quot;hikari&quot;)<br />\npublic\nDataSource dataSource() {...\n}</p>\n</blockquote>\n<p>Note: This is just a warning and does not impacts your code as such other than opening a new connection resuming the task.</p>\n"}],"owner":{"account_id":17801894,"reputation":466,"user_id":12928469,"display_name":"Sanjog"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91700,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"answer_count":4,"score":44,"last_activity_date":1697523808,"creation_date":1582155214,"question_id":60310858,"body_markdown":"After starting my SpringBoot application, getting an exception on few minutes of the server startup. Did not use any HikariPool Configuration externally, Spring Boot is using HikariPool by default\r\nThis is the error I am getting in the console:\r\n\r\n\r\n    2020-02-20 03:16:23 - HikariPool-4 - Failed to validate connection \r\n    com.mysql.cj.jdbc.ConnectionImpl@4c4180c8 (No operations allowed after connection closed.). \r\n    Possibly consider using a shorter maxLifetime value.\r\n    2020-02-20 03:16:28 - HikariPool-4 - Failed to validate connection \r\n    com.mysql.cj.jdbc.ConnectionImpl@679c2f50 (No operations allowed after connection closed.). \r\n    Possibly consider using a shorter maxLifetime value.\r\n    2020-02-20 03:16:33 - HikariPool-4 - Failed to validate connection \r\n    com.mysql.cj.jdbc.ConnectionImpl@16083061 (No operations allowed after connection closed.). \r\n    Possibly consider using a shorter maxLifetime value.\r\n    2020-02-20 03:16:38 - HikariPool-4 - Failed to validate connection \r\n    com.mysql.cj.jdbc.ConnectionImpl@4fcaf421 (No operations allowed after connection closed.). \r\n    Possibly consider using a shorter maxLifetime value.\r\n    2020-02-20 03:16:43 - HikariPool-4 - Failed to validate connection \r\n    com.mysql.cj.jdbc.ConnectionImpl@33df5d54 (No operations allowed after connection closed.). \r\n    Possibly consider using a shorter maxLifetime value.\r\n    2020-02-20 03:16:48 - HikariPool-4 - Failed to validate connection \r\n    com.mysql.cj.jdbc.ConnectionImpl@373d288c (No operations allowed after connection closed.). \r\n    Possibly consider using a shorter maxLifetime value.\r\n    2020-02-20 03:16:48 - SQL Error: 0, SQLState: 08003\r\n    2020-02-20 03:16:48 - HikariPool-4 - Connection is not available, request timed out after \r\n    30156ms.\r\n    2020-02-20 03:16:48 - No operations allowed after connection closed.\r\n    2020-02-20 03:16:48 - Servlet.service() for servlet [dispatcherServlet] in context with path \r\n    [] threw exception [Request processing failed; nested exception is \r\n    org.springframework.dao.DataAccessResourceFailureException: Unable to acquire JDBC \r\n    Connection; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to \r\n    acquire JDBC Connection] with root cause","title":"Possibly consider using a shorter maxLifetime value - hikari connection pool spring boot","body":"<p>After starting my SpringBoot application, getting an exception on few minutes of the server startup. Did not use any HikariPool Configuration externally, Spring Boot is using HikariPool by default\nThis is the error I am getting in the console:</p>\n\n<pre><code>2020-02-20 03:16:23 - HikariPool-4 - Failed to validate connection \ncom.mysql.cj.jdbc.ConnectionImpl@4c4180c8 (No operations allowed after connection closed.). \nPossibly consider using a shorter maxLifetime value.\n2020-02-20 03:16:28 - HikariPool-4 - Failed to validate connection \ncom.mysql.cj.jdbc.ConnectionImpl@679c2f50 (No operations allowed after connection closed.). \nPossibly consider using a shorter maxLifetime value.\n2020-02-20 03:16:33 - HikariPool-4 - Failed to validate connection \ncom.mysql.cj.jdbc.ConnectionImpl@16083061 (No operations allowed after connection closed.). \nPossibly consider using a shorter maxLifetime value.\n2020-02-20 03:16:38 - HikariPool-4 - Failed to validate connection \ncom.mysql.cj.jdbc.ConnectionImpl@4fcaf421 (No operations allowed after connection closed.). \nPossibly consider using a shorter maxLifetime value.\n2020-02-20 03:16:43 - HikariPool-4 - Failed to validate connection \ncom.mysql.cj.jdbc.ConnectionImpl@33df5d54 (No operations allowed after connection closed.). \nPossibly consider using a shorter maxLifetime value.\n2020-02-20 03:16:48 - HikariPool-4 - Failed to validate connection \ncom.mysql.cj.jdbc.ConnectionImpl@373d288c (No operations allowed after connection closed.). \nPossibly consider using a shorter maxLifetime value.\n2020-02-20 03:16:48 - SQL Error: 0, SQLState: 08003\n2020-02-20 03:16:48 - HikariPool-4 - Connection is not available, request timed out after \n30156ms.\n2020-02-20 03:16:48 - No operations allowed after connection closed.\n2020-02-20 03:16:48 - Servlet.service() for servlet [dispatcherServlet] in context with path \n[] threw exception [Request processing failed; nested exception is \norg.springframework.dao.DataAccessResourceFailureException: Unable to acquire JDBC \nConnection; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to \nacquire JDBC Connection] with root cause\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697523669,"post_id":77306533,"comment_id":136286941,"body_markdown":"TIles doesn&#39;t support JakartaEE and has been removed from the supported frameworks. You arew mixing Spring 6 with Sprng 5.3 which is always going to fail. In short Tiles isn&#39;t supported with Spring 6 and thus Spring BOot 3.","body":"TIles doesn&#39;t support JakartaEE and has been removed from the supported frameworks. You arew mixing Spring 6 with Sprng 5.3 which is always going to fail. In short Tiles isn&#39;t supported with Spring 6 and thus Spring BOot 3."},{"owner":{"account_id":29677044,"reputation":1,"user_id":22744710,"display_name":"Tiến Trần"},"score":0,"creation_date":1697525117,"post_id":77306533,"comment_id":136287155,"body_markdown":"Oh. thanks you very much","body":"Oh. thanks you very much"},{"owner":{"account_id":29677044,"reputation":1,"user_id":22744710,"display_name":"Tiến Trần"},"score":0,"creation_date":1697525685,"post_id":77306533,"comment_id":136287255,"body_markdown":"I still can&#39;t fix it. Maybe I should recreate another project. or what needs to be done. Please give me some advice","body":"I still can&#39;t fix it. Maybe I should recreate another project. or what needs to be done. Please give me some advice"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697526334,"post_id":77306533,"comment_id":136287352,"body_markdown":"Read, please read. Tiles doesn&#39;t work with Springt Boot 3, simply because the support has been removed from Spring as Tiles doesn&#39;t support JakartaEE.","body":"Read, please read. Tiles doesn&#39;t work with Springt Boot 3, simply because the support has been removed from Spring as Tiles doesn&#39;t support JakartaEE."}],"owner":{"account_id":29677044,"reputation":1,"user_id":22744710,"display_name":"Tiến Trần"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697523702,"creation_date":1697523429,"question_id":77306533,"body_markdown":"I can&#39;t run it when I add &quot;Bean&quot; tooooo. I tried adding another maven, and tried lowering the spring boot version. are not the solution\r\nPlease tell me what I need to do next. They say I can&#39;t create a bean class\r\n\r\nthis is my error\r\n\r\n    Error creating bean with name &#39;getTilesConfigurer&#39; defined in class path resource [com/example/demo/config/tilesconfig.class]: Post-processing of merged bean definition failed\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:575) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.12.jar:6.0.12]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.12.jar:6.0.12]\r\n\r\nHere is my entire pom.xml file\r\n\r\n        &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--        --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--        sql--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--        validate--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Tiles JSP --&gt;\r\n        &lt;!-- http://mvnrepository.com/artifact/org.apache.tiles/tiles-jsp --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tiles-jsp&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\nHere is my entire tiles.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;!DOCTYPE tiles-definitions PUBLIC\r\n        &quot;-//Apache Software Foundation//DTD Tiles Configuration \r\n    3.0//EN&quot;\r\n        &quot;http://tiles.apache.org/dtds/tiles-config_3_0.dtd&quot;&gt;\r\n    &lt;tiles-definitions&gt;\r\n    &lt;definition name=&quot;layout&quot; template=&quot;/WEB- \r\n    INF/views/layout/index.jsp&quot;&gt;\r\n        &lt;put-attribute name=&quot;header&quot; value=&quot;/WEB- \r\n    INF/views/layout/_header.jsp&quot;/&gt;\r\n        &lt;put-attribute name=&quot;menu&quot; value=&quot;/WEB- \r\n    INF/views/layout/_menu.jsp&quot;/&gt;\r\n        &lt;put-attribute name=&quot;body&quot; value=&quot;&quot;/&gt;\r\n        &lt;put-attribute name=&quot;aside&quot; value=&quot;/WEB- \r\n    INF/views/layout/_aside.jsp&quot;/&gt;\r\n        &lt;put-attribute name=&quot;footer&quot; value=&quot;/WEB- \r\n    INF/views/layout/_footer.jsp&quot;/&gt;\r\n    &lt;/definition&gt;\r\n    &lt;definition name=&quot;*/*&quot; extends=&quot;layout&quot;&gt;\r\n        &lt;put-attribute name=&quot;body&quot; value=&quot;/WEB- \r\n    INF/views/{1}/{2}.jsp&quot;/&gt;\r\n    &lt;/definition&gt;\r\n    &lt;/tiles-definitions&gt; \r\n\r\nI don&#39;t even know what&#39;s the problem.\r\nI make sure the links are correct\r\n\r\n\r\nSorry for last all the lines in the same row. I did it because otherwise, it shows as a table on the preview area","title":"Error creating bean with name &#39;getTilesConfigurer&#39; defined in class path resource","body":"<p>I can't run it when I add &quot;Bean&quot; tooooo. I tried adding another maven, and tried lowering the spring boot version. are not the solution\nPlease tell me what I need to do next. They say I can't create a bean class</p>\n<p>this is my error</p>\n<pre><code>Error creating bean with name 'getTilesConfigurer' defined in class path resource [com/example/demo/config/tilesconfig.class]: Post-processing of merged bean definition failed\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:575) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.12.jar:6.0.12]\n</code></pre>\n<p>Here is my entire pom.xml file</p>\n<pre><code>    &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!--        --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!--        sql--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!--        validate--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Tiles JSP --&gt;\n    &lt;!-- http://mvnrepository.com/artifact/org.apache.tiles/tiles-jsp --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n        &lt;artifactId&gt;tiles-jsp&lt;/artifactId&gt;\n        &lt;version&gt;3.0.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;5.3.20&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Here is my entire tiles.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;!DOCTYPE tiles-definitions PUBLIC\n    &quot;-//Apache Software Foundation//DTD Tiles Configuration \n3.0//EN&quot;\n    &quot;http://tiles.apache.org/dtds/tiles-config_3_0.dtd&quot;&gt;\n&lt;tiles-definitions&gt;\n&lt;definition name=&quot;layout&quot; template=&quot;/WEB- \nINF/views/layout/index.jsp&quot;&gt;\n    &lt;put-attribute name=&quot;header&quot; value=&quot;/WEB- \nINF/views/layout/_header.jsp&quot;/&gt;\n    &lt;put-attribute name=&quot;menu&quot; value=&quot;/WEB- \nINF/views/layout/_menu.jsp&quot;/&gt;\n    &lt;put-attribute name=&quot;body&quot; value=&quot;&quot;/&gt;\n    &lt;put-attribute name=&quot;aside&quot; value=&quot;/WEB- \nINF/views/layout/_aside.jsp&quot;/&gt;\n    &lt;put-attribute name=&quot;footer&quot; value=&quot;/WEB- \nINF/views/layout/_footer.jsp&quot;/&gt;\n&lt;/definition&gt;\n&lt;definition name=&quot;*/*&quot; extends=&quot;layout&quot;&gt;\n    &lt;put-attribute name=&quot;body&quot; value=&quot;/WEB- \nINF/views/{1}/{2}.jsp&quot;/&gt;\n&lt;/definition&gt;\n&lt;/tiles-definitions&gt; \n</code></pre>\n<p>I don't even know what's the problem.\nI make sure the links are correct</p>\n<p>Sorry for last all the lines in the same row. I did it because otherwise, it shows as a table on the preview area</p>\n"},{"tags":["java","android","broadcastreceiver","android-service","localbroadcastmanager"],"comments":[{"owner":{"account_id":14218047,"reputation":11740,"user_id":10271334,"display_name":"Jeel Vankhede"},"score":1,"creation_date":1667228334,"post_id":74264850,"comment_id":131114669,"body_markdown":"One way to solve this dilemma is to use application level live data that any activity can observe &amp; manipulate it from service.","body":"One way to solve this dilemma is to use application level live data that any activity can observe &amp; manipulate it from service."},{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1667230663,"post_id":74264850,"comment_id":131115535,"body_markdown":"@JeelVankhede thanks, but do you have a sample of this?","body":"@JeelVankhede thanks, but do you have a sample of this?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1667231603,"post_id":74264850,"comment_id":131115876,"body_markdown":"Have the service update some sort of repository or other singleton. Have that repository expose a reactive API (RxJava, `LiveData`, etc.) that your UI layer (e.g., viewmodel) can observe.","body":"Have the service update some sort of repository or other singleton. Have that repository expose a reactive API (RxJava, <code>LiveData</code>, etc.) that your UI layer (e.g., viewmodel) can observe."},{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1667232061,"post_id":74264850,"comment_id":131116057,"body_markdown":"thanks @commonsWare, do you have a work example? on the net when I search for sending data from service to activity I only found sample with LocalBroadcastManager","body":"thanks @commonsWare, do you have a work example? on the net when I search for sending data from service to activity I only found sample with LocalBroadcastManager"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1667232976,"post_id":74264850,"comment_id":131116413,"body_markdown":"If you mean examples of repository singletons and reactive APIs, I demonstrate it in [this free book](https://commonsware.com/Jetpack) in several places, including [this sample](https://commonsware.com/Jetpack/pages/chap-internet-003). I do not show anything involving a service, as few apps need services nowadays. But, in the end, it is not significantly different than having a UI work with a repository, other than perhaps differences in how you get your hands on the repository singleton.","body":"If you mean examples of repository singletons and reactive APIs, I demonstrate it in <a href=\"https://commonsware.com/Jetpack\" rel=\"nofollow noreferrer\">this free book</a> in several places, including <a href=\"https://commonsware.com/Jetpack/pages/chap-internet-003\" rel=\"nofollow noreferrer\">this sample</a>. I do not show anything involving a service, as few apps need services nowadays. But, in the end, it is not significantly different than having a UI work with a repository, other than perhaps differences in how you get your hands on the repository singleton."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1667233081,"post_id":74264850,"comment_id":131116461,"body_markdown":"More generally, the use of a layered architecture, including repositories, has been covered quite a bit online in the past few years. See, for example, [the documentation](https://developer.android.com/topic/architecture).","body":"More generally, the use of a layered architecture, including repositories, has been covered quite a bit online in the past few years. See, for example, <a href=\"https://developer.android.com/topic/architecture\" rel=\"nofollow noreferrer\">the documentation</a>."},{"owner":{"account_id":10927511,"reputation":3072,"user_id":8031784,"display_name":"Aniruddh Parihar"},"score":0,"creation_date":1669360228,"post_id":74264850,"comment_id":131628532,"body_markdown":"Use AIDL feature of Android. It&#39;s inbuilt feature of android. Reference : https://developer.android.com/guide/components/aidl","body":"Use AIDL feature of Android. It&#39;s inbuilt feature of android. Reference : <a href=\"https://developer.android.com/guide/components/aidl\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/aidl</a>"},{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1669360539,"post_id":74264850,"comment_id":131628593,"body_markdown":"thanks @AniruddhParihar but how to use AIDL ?","body":"thanks @AniruddhParihar but how to use AIDL ?"},{"owner":{"account_id":10927511,"reputation":3072,"user_id":8031784,"display_name":"Aniruddh Parihar"},"score":0,"creation_date":1669360625,"post_id":74264850,"comment_id":131628620,"body_markdown":"wait I am Posting the Answer.","body":"wait I am Posting the Answer."},{"owner":{"account_id":10927511,"reputation":3072,"user_id":8031784,"display_name":"Aniruddh Parihar"},"score":1,"creation_date":1669373244,"post_id":74264850,"comment_id":131632247,"body_markdown":"@zeus : Check the Posted Answer.","body":"@zeus : Check the Posted Answer."}],"answers":[{"comments":[{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1669183526,"post_id":74540645,"comment_id":131584009,"body_markdown":"thanks Aorlin, but I need a workable example, do you have one ? I do not want to use a tiers library like GreenRobot for the same reason why they deprecated LocalBroadCastManager","body":"thanks Aorlin, but I need a workable example, do you have one ? I do not want to use a tiers library like GreenRobot for the same reason why they deprecated LocalBroadCastManager"},{"owner":{"account_id":7004992,"reputation":728,"user_id":5369727,"display_name":"Aorlinn"},"score":1,"creation_date":1669235176,"post_id":74540645,"comment_id":131601219,"body_markdown":"Because the answer of @MariosP does not show how you bind service and activity I added an example.","body":"Because the answer of @MariosP does not show how you bind service and activity I added an example."},{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1669452663,"post_id":74540645,"comment_id":131647293,"body_markdown":"thanks for your help, I updated the question and add a note at the end regarding background threading. does your solution will still work in such scenario ?","body":"thanks for your help, I updated the question and add a note at the end regarding background threading. does your solution will still work in such scenario ?"},{"owner":{"account_id":7004992,"reputation":728,"user_id":5369727,"display_name":"Aorlinn"},"score":0,"creation_date":1669481173,"post_id":74540645,"comment_id":131652255,"body_markdown":"It depends ;-) See my update...","body":"It depends ;-) See my update..."},{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1669711268,"post_id":74540645,"comment_id":131698666,"body_markdown":"Your answer was very good, thanks! but it&#39;s like all the others, so i simply gave the bounty to the one who have the most vote :(","body":"Your answer was very good, thanks! but it&#39;s like all the others, so i simply gave the bounty to the one who have the most vote :("}],"tags":[],"owner":{"account_id":7004992,"reputation":728,"user_id":5369727,"display_name":"Aorlinn"},"comment_count":5,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1669481154,"creation_date":1669164975,"answer_id":74540645,"question_id":74264850,"body_markdown":"If you have the possibility to use `LiveData`, this would be the simplest and cleanest option. If you have complex data which you don&#39;t want to share within the `LiveData` or if it&#39;s not thread save, you can just use `LiveData` for signaling and read the particular data in a thread save way.\r\n\r\nHowever, if this is not possible/accurate there are options with event busses, such as [GreenRobot][1] (there is [that guide][2] for instance).\r\nBut they may lack some of the same problems, why they deprecated `LocalBroadcastManager`.\r\n\r\nAn alternative is to use a global broadcast. If you have complex data you might use it for signaling only and add a `ContentResolver` or similar to get the data. But note that it is not very performant, as it&#39;s handled by the OS and trying to find any appropriate `BroadcastRecievers` on the device and doing a lot of RAM transactions (you find it in [that video from Google][3])\r\n\r\nSo for a local only used Service you could use [`IBinder`][4]/[`Binder`][5].\r\n\r\nIf you have simple data, you use `transact(int code, Parcel data, Parcel reply, int flags)`, where the third parameter is the data you want back as an answer from the `Service`. But there are two restrictions:\r\n1. It&#39;s a parcel, so only serializable data is possible\r\n2. From the service you cannot directly notify the client (`Activity` in your case).\r\n\r\nIf you have more complex data, you can implement a specific method in your Binder class and use parameters and return values.\r\n\r\nIf you implement a LiveData in the Binder, you can use that for notification or, if the data is not very complex (like the token in your case) to contain the whole data.\r\n\r\nYou would implement it like that:\r\n\r\n    public class MyService extends Service\r\n    {\r\n    \tprotected MutableLiveData&lt;String&gt; mToken;\r\n    \r\n    \tpublic MyService()\r\n    \t{\r\n    \t\tmToken = new MutableLiveData&lt;&gt;(&quot;current token&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic IBinder onBind(Intent intent)\r\n    \t{\r\n    \t\treturn new Binder();\r\n    \t}\r\n    \r\n    \tpublic class Binder extends android.os.Binder\r\n    \t{\r\n    \t\tpublic void changeToken(String newToken)\r\n    \t\t{\r\n    \t\t\tmToken.postValue(newToken);\r\n    \t\t}\r\n    \r\n    \t\tpublic LiveData&lt;String&gt; getToken()\r\n    \t\t{\r\n    \t\t\treturn mToken;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nand your Activity:\r\n\r\n    public class MainActivity extends AppCompatActivity\r\n    {\r\n    \tprivate ActivityMainBinding binding;\r\n    \tprivate ServiceConnection mConnection;\r\n        \r\n    \t@Override\r\n    \tprotected void onStart()\r\n    \t{\r\n    \t\tsuper.onStart();\r\n    \t\t// Bind to LocalService\r\n    \t\tIntent intent = new Intent(this, MyService.class);\r\n    \t\tmConnection = new ServiceConnection();\r\n    \t\t// If your service is already running, this will just bind it.\r\n    \t\t// If it&#39;s not running, it will also start it because of the second argument\r\n    \t\tbindService(intent, mConnection, Context.BIND_AUTO_CREATE);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void onStop()\r\n    \t{\r\n    \t\tsuper.onStop();\r\n    \t\tif (mConnection != null)\r\n    \t\t{\r\n    \t\t\tunbindService(mConnection);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Defines callbacks for service binding, passed to bindService()\r\n    \t */\r\n    \tprivate class ServiceConnection implements android.content.ServiceConnection\r\n    \t{\r\n    \t\t@Override\r\n    \t\tpublic void onServiceConnected(ComponentName className,\r\n    \t\t\t\t\t\t\t\t\t   IBinder service)\r\n    \t\t{\r\n    \t\t\t// We&#39;ve bound to MyService.Binder, cast the IBinder and get MyService.Binder instance\r\n    \t\t\tMyService.Binder binder = (MyService.Binder) service;\r\n    \t\t\tbinder.getToken().observe(MainActivity.this, (newToken) -&gt; binding.Token.setText(newToken));\r\n    \t\t\tbinding.StartButton.setOnClickListener((click) -&gt; binder.changeToken(&quot;newToken&quot; + new Random().nextInt()));\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void onServiceDisconnected(ComponentName arg0)\r\n    \t\t{\r\n    \t\t\tmConnection = null;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nI tested the example, it&#39;s working ;-)\r\n\r\nIf for any reason you cannot bind `Service` and `Activity` that tight, you can instead establish a `LiveData` (of whatever kind) in your `Application` class, listen to it in your `Activity` and change it from your `Service`. But only do that, if the `Service` is a) very independent from your `Activity` and b) running most of the time. Otherwise you will have `LiveData` that is inappropriate most of the time.\r\n\r\nI personally often use &quot;Services&quot;. Not in the means of how Android describe them, but singleton classes that are responsible for some part of my application (you might also call them controllers, even though it&#39;s not completely accurate). I then register them as singleton with [Hilt][6] ([Dagger][7] some time ago).\r\nIn your case you could then establish `LiveData` on such a &quot;Service&quot;.\r\n\r\n**Update**\r\n\r\nBecause of your update that you must not loose any of these tokens, the answer is a bit trickier.\r\n\r\nIf you are sure, that the update might not happen more frequent than, let&#39;s say every 10 seconds, you can safely use the code above. If it can happen more frequent or you are not sure then don&#39;t. \r\n\r\nWhy? Because there are two methods on `LiveData`: `setValue` and `postValue`. `setValue` performes the notification immediately and so every new token will be dispatched to the observer. But it can only be called from the main thread, which is not the case for you. So you need to call `postValue` which posts a task to the end of the internal task list of the main thread. If a new call to `postValue` is done before the notification is executed, no new task is added to the queue and only the latest value will be delivered.\r\n\r\nWhat can you do instead? You might alter the service to the following:\r\n\r\n    public class MyService extends Service\r\n    {\r\n    \tprotected MutableLiveData&lt;Integer&gt; mVersion = new MutableLiveData&lt;&gt;(0);\r\n    \tprotected ConcurrentLinkedQueue&lt;String&gt; mTokens = new ConcurrentLinkedQueue&lt;&gt;();\r\n    \r\n    \tpublic void newToken(String token)\r\n    \t{\r\n    \t\tmTokens.offer(token);\r\n    \t\tmVersion.postValue(mVersion.getValue() + 1);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic IBinder onBind(Intent intent)\r\n    \t{\r\n    \t\treturn new Binder();\r\n    \t}\r\n    \r\n    \tpublic class Binder extends android.os.Binder\r\n    \t{\r\n    \t\tpublic AbstractQueue&lt;String&gt; getTokens()\r\n    \t\t{\r\n    \t\t\treturn mTokens;\r\n    \t\t}\r\n    \r\n    \t\tpublic LiveData&lt;Integer&gt; getSignal()\r\n    \t\t{\r\n    \t\t\treturn mVersion;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nOn your activity you just call `mTokens.poll()` as long as the queue is not empty. But this only works, if your service only runs, when the activity is present (more or less), and your activity is the only one that binds to your service (=&gt; is the only consumer). If the service might run in background, this could eventually end in a memory overflow, if you have lots of new tokens. Plus you could loose your data, if for any reason your service is shut down by the OS.\r\n\r\nA better way is to persist the data somewhere and only use the LiveData to keep the version. Your activity can then keep a local variable containing the latest version and only read the remaining tokens.\r\nTo do so you can use several approaches:\r\n- A [repository][8] that writes to a file, which you might call from the activity to read it.\r\n- A [database][9]\r\n- A [ContentProvider][10]\r\n- [SharedPreferences][11] (but only if you have a few tokens)\r\n\r\nThere are of course more ways, but as I don&#39;t know enough about the tokens and what you want to do with them I cannot even say, which of these approaches fits the best for you.\r\n\r\n\r\n  [1]: https://greenrobot.org/eventbus/\r\n  [2]: https://guides.codepath.com/android/communicating-with-an-event-bus\r\n  [3]: https://www.youtube.com/watch?v=vBjTXKpaFj8\r\n  [4]: https://developer.android.com/reference/android/os/IBinder\r\n  [5]: https://developer.android.com/reference/android/os/Binder\r\n  [6]: https://developer.android.com/training/dependency-injection/hilt-android\r\n  [7]: https://developer.android.com/training/dependency-injection/dagger-android\r\n  [8]: https://developer.android.com/codelabs/basic-android-kotlin-training-repository-pattern#0\r\n  [9]: https://developer.android.com/training/data-storage/sqlite\r\n  [10]: https://developer.android.com/guide/topics/providers/content-provider-basics\r\n  [11]: https://developer.android.com/training/data-storage/shared-preferences","title":"LocalBroadcastManager is now deprecated, how to send data from service to activity?","body":"<p>If you have the possibility to use <code>LiveData</code>, this would be the simplest and cleanest option. If you have complex data which you don't want to share within the <code>LiveData</code> or if it's not thread save, you can just use <code>LiveData</code> for signaling and read the particular data in a thread save way.</p>\n<p>However, if this is not possible/accurate there are options with event busses, such as <a href=\"https://greenrobot.org/eventbus/\" rel=\"nofollow noreferrer\">GreenRobot</a> (there is <a href=\"https://guides.codepath.com/android/communicating-with-an-event-bus\" rel=\"nofollow noreferrer\">that guide</a> for instance).\nBut they may lack some of the same problems, why they deprecated <code>LocalBroadcastManager</code>.</p>\n<p>An alternative is to use a global broadcast. If you have complex data you might use it for signaling only and add a <code>ContentResolver</code> or similar to get the data. But note that it is not very performant, as it's handled by the OS and trying to find any appropriate <code>BroadcastRecievers</code> on the device and doing a lot of RAM transactions (you find it in <a href=\"https://www.youtube.com/watch?v=vBjTXKpaFj8\" rel=\"nofollow noreferrer\">that video from Google</a>)</p>\n<p>So for a local only used Service you could use <a href=\"https://developer.android.com/reference/android/os/IBinder\" rel=\"nofollow noreferrer\"><code>IBinder</code></a>/<a href=\"https://developer.android.com/reference/android/os/Binder\" rel=\"nofollow noreferrer\"><code>Binder</code></a>.</p>\n<p>If you have simple data, you use <code>transact(int code, Parcel data, Parcel reply, int flags)</code>, where the third parameter is the data you want back as an answer from the <code>Service</code>. But there are two restrictions:</p>\n<ol>\n<li>It's a parcel, so only serializable data is possible</li>\n<li>From the service you cannot directly notify the client (<code>Activity</code> in your case).</li>\n</ol>\n<p>If you have more complex data, you can implement a specific method in your Binder class and use parameters and return values.</p>\n<p>If you implement a LiveData in the Binder, you can use that for notification or, if the data is not very complex (like the token in your case) to contain the whole data.</p>\n<p>You would implement it like that:</p>\n<pre><code>public class MyService extends Service\n{\n    protected MutableLiveData&lt;String&gt; mToken;\n\n    public MyService()\n    {\n        mToken = new MutableLiveData&lt;&gt;(&quot;current token&quot;);\n    }\n\n    @Override\n    public IBinder onBind(Intent intent)\n    {\n        return new Binder();\n    }\n\n    public class Binder extends android.os.Binder\n    {\n        public void changeToken(String newToken)\n        {\n            mToken.postValue(newToken);\n        }\n\n        public LiveData&lt;String&gt; getToken()\n        {\n            return mToken;\n        }\n    }\n}\n</code></pre>\n<p>and your Activity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity\n{\n    private ActivityMainBinding binding;\n    private ServiceConnection mConnection;\n    \n    @Override\n    protected void onStart()\n    {\n        super.onStart();\n        // Bind to LocalService\n        Intent intent = new Intent(this, MyService.class);\n        mConnection = new ServiceConnection();\n        // If your service is already running, this will just bind it.\n        // If it's not running, it will also start it because of the second argument\n        bindService(intent, mConnection, Context.BIND_AUTO_CREATE);\n    }\n\n    @Override\n    protected void onStop()\n    {\n        super.onStop();\n        if (mConnection != null)\n        {\n            unbindService(mConnection);\n        }\n    }\n\n    /**\n     * Defines callbacks for service binding, passed to bindService()\n     */\n    private class ServiceConnection implements android.content.ServiceConnection\n    {\n        @Override\n        public void onServiceConnected(ComponentName className,\n                                       IBinder service)\n        {\n            // We've bound to MyService.Binder, cast the IBinder and get MyService.Binder instance\n            MyService.Binder binder = (MyService.Binder) service;\n            binder.getToken().observe(MainActivity.this, (newToken) -&gt; binding.Token.setText(newToken));\n            binding.StartButton.setOnClickListener((click) -&gt; binder.changeToken(&quot;newToken&quot; + new Random().nextInt()));\n        }\n\n        @Override\n        public void onServiceDisconnected(ComponentName arg0)\n        {\n            mConnection = null;\n        }\n    }\n}\n</code></pre>\n<p>I tested the example, it's working ;-)</p>\n<p>If for any reason you cannot bind <code>Service</code> and <code>Activity</code> that tight, you can instead establish a <code>LiveData</code> (of whatever kind) in your <code>Application</code> class, listen to it in your <code>Activity</code> and change it from your <code>Service</code>. But only do that, if the <code>Service</code> is a) very independent from your <code>Activity</code> and b) running most of the time. Otherwise you will have <code>LiveData</code> that is inappropriate most of the time.</p>\n<p>I personally often use &quot;Services&quot;. Not in the means of how Android describe them, but singleton classes that are responsible for some part of my application (you might also call them controllers, even though it's not completely accurate). I then register them as singleton with <a href=\"https://developer.android.com/training/dependency-injection/hilt-android\" rel=\"nofollow noreferrer\">Hilt</a> (<a href=\"https://developer.android.com/training/dependency-injection/dagger-android\" rel=\"nofollow noreferrer\">Dagger</a> some time ago).\nIn your case you could then establish <code>LiveData</code> on such a &quot;Service&quot;.</p>\n<p><strong>Update</strong></p>\n<p>Because of your update that you must not loose any of these tokens, the answer is a bit trickier.</p>\n<p>If you are sure, that the update might not happen more frequent than, let's say every 10 seconds, you can safely use the code above. If it can happen more frequent or you are not sure then don't.</p>\n<p>Why? Because there are two methods on <code>LiveData</code>: <code>setValue</code> and <code>postValue</code>. <code>setValue</code> performes the notification immediately and so every new token will be dispatched to the observer. But it can only be called from the main thread, which is not the case for you. So you need to call <code>postValue</code> which posts a task to the end of the internal task list of the main thread. If a new call to <code>postValue</code> is done before the notification is executed, no new task is added to the queue and only the latest value will be delivered.</p>\n<p>What can you do instead? You might alter the service to the following:</p>\n<pre><code>public class MyService extends Service\n{\n    protected MutableLiveData&lt;Integer&gt; mVersion = new MutableLiveData&lt;&gt;(0);\n    protected ConcurrentLinkedQueue&lt;String&gt; mTokens = new ConcurrentLinkedQueue&lt;&gt;();\n\n    public void newToken(String token)\n    {\n        mTokens.offer(token);\n        mVersion.postValue(mVersion.getValue() + 1);\n    }\n\n    @Override\n    public IBinder onBind(Intent intent)\n    {\n        return new Binder();\n    }\n\n    public class Binder extends android.os.Binder\n    {\n        public AbstractQueue&lt;String&gt; getTokens()\n        {\n            return mTokens;\n        }\n\n        public LiveData&lt;Integer&gt; getSignal()\n        {\n            return mVersion;\n        }\n    }\n}\n</code></pre>\n<p>On your activity you just call <code>mTokens.poll()</code> as long as the queue is not empty. But this only works, if your service only runs, when the activity is present (more or less), and your activity is the only one that binds to your service (=&gt; is the only consumer). If the service might run in background, this could eventually end in a memory overflow, if you have lots of new tokens. Plus you could loose your data, if for any reason your service is shut down by the OS.</p>\n<p>A better way is to persist the data somewhere and only use the LiveData to keep the version. Your activity can then keep a local variable containing the latest version and only read the remaining tokens.\nTo do so you can use several approaches:</p>\n<ul>\n<li>A <a href=\"https://developer.android.com/codelabs/basic-android-kotlin-training-repository-pattern#0\" rel=\"nofollow noreferrer\">repository</a> that writes to a file, which you might call from the activity to read it.</li>\n<li>A <a href=\"https://developer.android.com/training/data-storage/sqlite\" rel=\"nofollow noreferrer\">database</a></li>\n<li>A <a href=\"https://developer.android.com/guide/topics/providers/content-provider-basics\" rel=\"nofollow noreferrer\">ContentProvider</a></li>\n<li><a href=\"https://developer.android.com/training/data-storage/shared-preferences\" rel=\"nofollow noreferrer\">SharedPreferences</a> (but only if you have a few tokens)</li>\n</ul>\n<p>There are of course more ways, but as I don't know enough about the tokens and what you want to do with them I cannot even say, which of these approaches fits the best for you.</p>\n"},{"comments":[{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1669452708,"post_id":74544184,"comment_id":131647302,"body_markdown":"thanks for your help, I updated the question and add a note at the end regarding background threading. does your solution will still work in such scenario ?","body":"thanks for your help, I updated the question and add a note at the end regarding background threading. does your solution will still work in such scenario ?"},{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1669711258,"post_id":74544184,"comment_id":131698658,"body_markdown":"Your answer was very good, thanks! but it&#39;s like all the others, so i simply gave the bounty to the one who have the most vote :(","body":"Your answer was very good, thanks! but it&#39;s like all the others, so i simply gave the bounty to the one who have the most vote :("}],"tags":[],"owner":{"account_id":19715420,"reputation":8505,"user_id":14434976,"display_name":"MariosP"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1669508682,"creation_date":1669194428,"answer_id":74544184,"question_id":74264850,"body_markdown":"As per the official documentation of [LocalBroadcastManager][1]:\r\n\r\n&gt; This class is deprecated. LocalBroadcastManager is an application-wide\r\n&gt; event bus and embraces layer violations in your app: any component may\r\n&gt; listen events from any other. You can replace usage of\r\n&gt; LocalBroadcastManager with other implementation of observable pattern,\r\n&gt; depending on your usecase suitable options may be\r\n&gt; androidx.lifecycle.LiveData or reactive streams.\r\n\r\nSo you can replace it with other observable pattern like `LiveData` or reactive streams. Because `LiveData` is most popular nowadays and it is lifecycle-aware which ensures that it updates app component observers like activities, fragments, or services which have an active lifecycle state only below i will describe the steps to replace the `LocalBroadcastManager` using `LiveData`.\r\n\r\n1.)Declare a `NotificationLiveData` class which extends from `LiveData&lt;T&gt;` where T is a String in the below example:\r\n\r\n    public class NotificationLiveData extends LiveData&lt;String&gt; {\r\n    \r\n        public void setNotification(String message){\r\n            postValue(message);\r\n        }\r\n    }\r\n2.)Declare a `NotificationManager` class which is responsible to update the message like below:\r\n\r\n    public class NotificationManager {\r\n    \r\n        private static final NotificationLiveData notificationLiveData = new NotificationLiveData();\r\n    \r\n        public static void updateNotificationMessage(String message){\r\n            notificationLiveData.setNotification(message);\r\n        }\r\n    \r\n        public static NotificationLiveData getNotificationLiveData() {\r\n            return notificationLiveData;\r\n        }\r\n    }\r\n3.)In every `Activity` you want to listen for updates you can observe the change like below:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        NotificationManager.getNotificationLiveData().observe(this, notificationObserver);\r\n    }\r\n\r\n    private final Observer&lt;String&gt; notificationObserver = new Observer&lt;String&gt;() {\r\n        @Override\r\n        public void onChanged(String s) {\r\n            //do anything after a change happened\r\n        }\r\n    };\r\n\r\n4.)In every `Fragment` you want to listen for updates you can observe the change like below:\r\n\r\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        NotificationManager.getNotificationLiveData().observe(getViewLifecycleOwner(), notificationObserver);\r\n    } \r\n\r\n    private final Observer&lt;String&gt; notificationObserver = new Observer&lt;String&gt;() {\r\n        @Override\r\n        public void onChanged(String s) {\r\n            //do anything after a change happened\r\n        }\r\n    };\r\n5.)From your `Service` you can send a message like below:\r\n\r\n    NotificationManager.updateNotificationMessage(&quot;My message&quot;);\r\n\r\n6.)Finally don&#39;t forget to remove the observer from any `Activity` or `Fragment` in `onDestroy()` method like below:\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        NotificationManager.getNotificationLiveData().removeObserver(notificationObserver);\r\n    }\r\n\r\nThe above will listen the change only when the `Activity/Fragment` has an active lifecycle state. In case you want to listen always the change  independent of the lifecycle state you can use `observeForever` instead of `observe` like below:\r\n\r\n    NotificationManager.getNotificationLiveData().observeForever(notificationObserver);\r\n\r\n**Update:**\r\n\r\nAs per your new requirement having multiple of background Threads which are sending simultaneously a number of Tokens you cannot use anymore the `postValue` method as it does not guarantee that the specific Token will be received from the observer if the `postValue` is called a lot of times simultaneously so in that case only the latest token will be received to the observer. You can test this if you call the `postValue()` and immediately call the `getValue()` method where you may not receive the value you have just set. However this can be solved only by using the `setValue` method which is executed from the Main Thread only. When the Main Thread sets the value, then you will get immediately the value in the observer but be careful the `observe` listens the change only if the `Activity/Fragment` has an active lifecycle state. If you want to listen always the change independent of the lifecycle you must use the `observeForever` instead.\r\n\r\nSo you need to change the `NotificationLiveData` class to use the `setValue` in the Main Thread like below:\r\n\r\n    public class NotificationLiveData extends MutableLiveData&lt;String&gt; {\r\n    \r\n        public void setNotification(String message){\r\n            new Handler(Looper.getMainLooper()).post(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    setValue(message);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nBut in the Multithreading environment it is better to use `RxJava` which uses reactive streams for sending bunch of data simultaneously. `RxJava` has a better level of abstraction around threading which  simplifies the implementation of complex concurrent behavior so it suits better in this case. Below i will describe how you can achieve this using `RxJava` instead of `LiveData`.\r\n\r\n**RxJava - Approach**\r\n\r\n1.)First declare in your app dependencies the below `Reactivex` implementations: \r\n\r\n    implementation &#39;io.reactivex.rxjava3:rxandroid:3.0.2&#39;\r\n    implementation &#39;io.reactivex.rxjava3:rxjava:3.1.5&#39;\r\nHere is the official documentation of [ReactiveX/RxAndroid][2] for more details.\r\n\r\n2.)Declare the new `NotificationManager` class to be like the below:\r\n\r\n    public class NotificationManager {\r\n    \r\n        private static final Subject&lt;String&gt; notificationSubject = PublishSubject.create();\r\n    \r\n        public static void updateNotificationMessage(String message){\r\n            notificationSubject.onNext(message);\r\n        }\r\n    \r\n        public static Subject&lt;String&gt; getNotificationSubject() {\r\n            return notificationSubject;\r\n        }\r\n    } \r\nThe `PublishSubject` represents an `Observer` and an `Observable` at the same time, allowing multicasting events from a single source to multiple child Observers. It emits to an observer all the subsequent items of the source Observable at the time of the subscription.\r\n\r\n3.)You can subscribe to any `Activity` like the below sample:\r\n\r\n    Disposable disposable = NotificationManager.getNotificationSubject()\r\n            .doOnNext(s -&gt; { Log.d(&quot;OnNext=&quot;, s);})\r\n            .doOnComplete(() -&gt; { })\r\n            .doOnError(throwable -&gt; { })\r\n            .subscribe();\r\n\r\nThe `doOnNext` is called every time you do a call to the `notificationSubject.onNext(token)`.  \r\n\r\n4.)In your `Service` in each of your Threads you can emit simultaneously the new tokens like the below sample:\r\n\r\n    Thread thread1 = new Thread() {\r\n        public void run() {\r\n            for (int i = 0; i &lt; 10; i++) {\r\n                NotificationManager.updateNotificationMessage(&quot;Thread1:&quot; + i);\r\n            }\r\n        }\r\n    };\r\n    thread1.start();\r\n    \r\n    Thread thread2 = new Thread() {\r\n        public void run() {\r\n            for (int i = 0; i &lt; 10; i++) {\r\n                NotificationManager.updateNotificationMessage(&quot;Thread2:&quot; + i);\r\n            }\r\n        }\r\n    };\r\n    thread2.start();\r\n\r\n5.) Finally in `onDestroy()` method of your `Activity` you have to dispose the `PublishSubject` like below:\r\n\r\n \r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n      super.onDestroy();\r\n      disposable.dispose();\r\n    }\r\n\r\n And the results of the above multithreading example will be something like the below:\r\n\r\n    D/OnNext=: Thread2:0\r\n    D/OnNext=: Thread2:1\r\n    D/OnNext=: Thread2:2\r\n    D/OnNext=: Thread2:3 \r\n    D/OnNext=: Thread2:4\r\n    D/OnNext=: Thread2:5\r\n    D/OnNext=: Thread1:0\r\n    D/OnNext=: Thread2:6\r\n    D/OnNext=: Thread2:7\r\n    D/OnNext=: Thread1:1\r\n    D/OnNext=: Thread2:8\r\n    D/OnNext=: Thread1:2\r\n    D/OnNext=: Thread2:9\r\n    D/OnNext=: Thread1:3\r\n    D/OnNext=: Thread1:4\r\n    D/OnNext=: Thread1:5\r\n    D/OnNext=: Thread1:6\r\n    D/OnNext=: Thread1:7\r\n    D/OnNext=: Thread1:8\r\n    D/OnNext=: Thread1:9\r\n\r\nAlso if you know when the transmission of data is finished you can simply use the `notificationSubject.onComplete()` method and the `.doOnComplete(() -&gt; { })` will be called in the `Activity` and automatically disposes the `PublishSubject` `Observable`. A similar call can be used when something goes wrong using the  `notificationSubject.onError(new Throwable())` which triggers the `Activity` `.doOnError(throwable -&gt; { })` callback.\r\n \r\n\r\n  [1]: https://developer.android.com/reference/androidx/localbroadcastmanager/content/LocalBroadcastManager\r\n  [2]: https://github.com/ReactiveX/RxAndroid","title":"LocalBroadcastManager is now deprecated, how to send data from service to activity?","body":"<p>As per the official documentation of <a href=\"https://developer.android.com/reference/androidx/localbroadcastmanager/content/LocalBroadcastManager\" rel=\"nofollow noreferrer\">LocalBroadcastManager</a>:</p>\n<blockquote>\n<p>This class is deprecated. LocalBroadcastManager is an application-wide\nevent bus and embraces layer violations in your app: any component may\nlisten events from any other. You can replace usage of\nLocalBroadcastManager with other implementation of observable pattern,\ndepending on your usecase suitable options may be\nandroidx.lifecycle.LiveData or reactive streams.</p>\n</blockquote>\n<p>So you can replace it with other observable pattern like <code>LiveData</code> or reactive streams. Because <code>LiveData</code> is most popular nowadays and it is lifecycle-aware which ensures that it updates app component observers like activities, fragments, or services which have an active lifecycle state only below i will describe the steps to replace the <code>LocalBroadcastManager</code> using <code>LiveData</code>.</p>\n<p>1.)Declare a <code>NotificationLiveData</code> class which extends from <code>LiveData&lt;T&gt;</code> where T is a String in the below example:</p>\n<pre><code>public class NotificationLiveData extends LiveData&lt;String&gt; {\n\n    public void setNotification(String message){\n        postValue(message);\n    }\n}\n</code></pre>\n<p>2.)Declare a <code>NotificationManager</code> class which is responsible to update the message like below:</p>\n<pre><code>public class NotificationManager {\n\n    private static final NotificationLiveData notificationLiveData = new NotificationLiveData();\n\n    public static void updateNotificationMessage(String message){\n        notificationLiveData.setNotification(message);\n    }\n\n    public static NotificationLiveData getNotificationLiveData() {\n        return notificationLiveData;\n    }\n}\n</code></pre>\n<p>3.)In every <code>Activity</code> you want to listen for updates you can observe the change like below:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    NotificationManager.getNotificationLiveData().observe(this, notificationObserver);\n}\n\nprivate final Observer&lt;String&gt; notificationObserver = new Observer&lt;String&gt;() {\n    @Override\n    public void onChanged(String s) {\n        //do anything after a change happened\n    }\n};\n</code></pre>\n<p>4.)In every <code>Fragment</code> you want to listen for updates you can observe the change like below:</p>\n<pre><code>public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n    NotificationManager.getNotificationLiveData().observe(getViewLifecycleOwner(), notificationObserver);\n} \n\nprivate final Observer&lt;String&gt; notificationObserver = new Observer&lt;String&gt;() {\n    @Override\n    public void onChanged(String s) {\n        //do anything after a change happened\n    }\n};\n</code></pre>\n<p>5.)From your <code>Service</code> you can send a message like below:</p>\n<pre><code>NotificationManager.updateNotificationMessage(&quot;My message&quot;);\n</code></pre>\n<p>6.)Finally don't forget to remove the observer from any <code>Activity</code> or <code>Fragment</code> in <code>onDestroy()</code> method like below:</p>\n<pre><code>@Override\nprotected void onDestroy() {\n    super.onDestroy();\n    NotificationManager.getNotificationLiveData().removeObserver(notificationObserver);\n}\n</code></pre>\n<p>The above will listen the change only when the <code>Activity/Fragment</code> has an active lifecycle state. In case you want to listen always the change  independent of the lifecycle state you can use <code>observeForever</code> instead of <code>observe</code> like below:</p>\n<pre><code>NotificationManager.getNotificationLiveData().observeForever(notificationObserver);\n</code></pre>\n<p><strong>Update:</strong></p>\n<p>As per your new requirement having multiple of background Threads which are sending simultaneously a number of Tokens you cannot use anymore the <code>postValue</code> method as it does not guarantee that the specific Token will be received from the observer if the <code>postValue</code> is called a lot of times simultaneously so in that case only the latest token will be received to the observer. You can test this if you call the <code>postValue()</code> and immediately call the <code>getValue()</code> method where you may not receive the value you have just set. However this can be solved only by using the <code>setValue</code> method which is executed from the Main Thread only. When the Main Thread sets the value, then you will get immediately the value in the observer but be careful the <code>observe</code> listens the change only if the <code>Activity/Fragment</code> has an active lifecycle state. If you want to listen always the change independent of the lifecycle you must use the <code>observeForever</code> instead.</p>\n<p>So you need to change the <code>NotificationLiveData</code> class to use the <code>setValue</code> in the Main Thread like below:</p>\n<pre><code>public class NotificationLiveData extends MutableLiveData&lt;String&gt; {\n\n    public void setNotification(String message){\n        new Handler(Looper.getMainLooper()).post(new Runnable() {\n            @Override\n            public void run() {\n                setValue(message);\n            }\n        });\n    }\n}\n</code></pre>\n<p>But in the Multithreading environment it is better to use <code>RxJava</code> which uses reactive streams for sending bunch of data simultaneously. <code>RxJava</code> has a better level of abstraction around threading which  simplifies the implementation of complex concurrent behavior so it suits better in this case. Below i will describe how you can achieve this using <code>RxJava</code> instead of <code>LiveData</code>.</p>\n<p><strong>RxJava - Approach</strong></p>\n<p>1.)First declare in your app dependencies the below <code>Reactivex</code> implementations:</p>\n<pre><code>implementation 'io.reactivex.rxjava3:rxandroid:3.0.2'\nimplementation 'io.reactivex.rxjava3:rxjava:3.1.5'\n</code></pre>\n<p>Here is the official documentation of <a href=\"https://github.com/ReactiveX/RxAndroid\" rel=\"nofollow noreferrer\">ReactiveX/RxAndroid</a> for more details.</p>\n<p>2.)Declare the new <code>NotificationManager</code> class to be like the below:</p>\n<pre><code>public class NotificationManager {\n\n    private static final Subject&lt;String&gt; notificationSubject = PublishSubject.create();\n\n    public static void updateNotificationMessage(String message){\n        notificationSubject.onNext(message);\n    }\n\n    public static Subject&lt;String&gt; getNotificationSubject() {\n        return notificationSubject;\n    }\n} \n</code></pre>\n<p>The <code>PublishSubject</code> represents an <code>Observer</code> and an <code>Observable</code> at the same time, allowing multicasting events from a single source to multiple child Observers. It emits to an observer all the subsequent items of the source Observable at the time of the subscription.</p>\n<p>3.)You can subscribe to any <code>Activity</code> like the below sample:</p>\n<pre><code>Disposable disposable = NotificationManager.getNotificationSubject()\n        .doOnNext(s -&gt; { Log.d(&quot;OnNext=&quot;, s);})\n        .doOnComplete(() -&gt; { })\n        .doOnError(throwable -&gt; { })\n        .subscribe();\n</code></pre>\n<p>The <code>doOnNext</code> is called every time you do a call to the <code>notificationSubject.onNext(token)</code>.</p>\n<p>4.)In your <code>Service</code> in each of your Threads you can emit simultaneously the new tokens like the below sample:</p>\n<pre><code>Thread thread1 = new Thread() {\n    public void run() {\n        for (int i = 0; i &lt; 10; i++) {\n            NotificationManager.updateNotificationMessage(&quot;Thread1:&quot; + i);\n        }\n    }\n};\nthread1.start();\n\nThread thread2 = new Thread() {\n    public void run() {\n        for (int i = 0; i &lt; 10; i++) {\n            NotificationManager.updateNotificationMessage(&quot;Thread2:&quot; + i);\n        }\n    }\n};\nthread2.start();\n</code></pre>\n<p>5.) Finally in <code>onDestroy()</code> method of your <code>Activity</code> you have to dispose the <code>PublishSubject</code> like below:</p>\n<pre><code>@Override\nprotected void onDestroy() {\n  super.onDestroy();\n  disposable.dispose();\n}\n</code></pre>\n<p>And the results of the above multithreading example will be something like the below:</p>\n<pre><code>D/OnNext=: Thread2:0\nD/OnNext=: Thread2:1\nD/OnNext=: Thread2:2\nD/OnNext=: Thread2:3 \nD/OnNext=: Thread2:4\nD/OnNext=: Thread2:5\nD/OnNext=: Thread1:0\nD/OnNext=: Thread2:6\nD/OnNext=: Thread2:7\nD/OnNext=: Thread1:1\nD/OnNext=: Thread2:8\nD/OnNext=: Thread1:2\nD/OnNext=: Thread2:9\nD/OnNext=: Thread1:3\nD/OnNext=: Thread1:4\nD/OnNext=: Thread1:5\nD/OnNext=: Thread1:6\nD/OnNext=: Thread1:7\nD/OnNext=: Thread1:8\nD/OnNext=: Thread1:9\n</code></pre>\n<p>Also if you know when the transmission of data is finished you can simply use the <code>notificationSubject.onComplete()</code> method and the <code>.doOnComplete(() -&gt; { })</code> will be called in the <code>Activity</code> and automatically disposes the <code>PublishSubject</code> <code>Observable</code>. A similar call can be used when something goes wrong using the  <code>notificationSubject.onError(new Throwable())</code> which triggers the <code>Activity</code> <code>.doOnError(throwable -&gt; { })</code> callback.</p>\n"},{"comments":[{"owner":{"account_id":7004992,"reputation":728,"user_id":5369727,"display_name":"Aorlinn"},"score":2,"creation_date":1669237210,"post_id":74545041,"comment_id":131601731,"body_markdown":"Static data can be very error prone, especially for testing. If you use &quot;static&quot; data, better move it to your application class.","body":"Static data can be very error prone, especially for testing. If you use &quot;static&quot; data, better move it to your application class."},{"owner":{"account_id":16839534,"reputation":4249,"user_id":12175239,"display_name":"Squti"},"score":0,"creation_date":1669262357,"post_id":74545041,"comment_id":131606079,"body_markdown":"How can it be error-prone in my example? Moreover, the application class is not responsible for handling static data. @Aorlinn","body":"How can it be error-prone in my example? Moreover, the application class is not responsible for handling static data. @Aorlinn"},{"owner":{"account_id":7004992,"reputation":728,"user_id":5369727,"display_name":"Aorlinn"},"score":0,"creation_date":1669283140,"post_id":74545041,"comment_id":131611233,"body_markdown":"For instance when you have tests that read from it or behavior that rely on it. The next test will always have the value of the previous one, and you don&#39;t know if the value was written this time or in the test before. If you put it to application class it&#39;s removed and recreated next time.","body":"For instance when you have tests that read from it or behavior that rely on it. The next test will always have the value of the previous one, and you don&#39;t know if the value was written this time or in the test before. If you put it to application class it&#39;s removed and recreated next time."},{"owner":{"account_id":16839534,"reputation":4249,"user_id":12175239,"display_name":"Squti"},"score":0,"creation_date":1669298104,"post_id":74545041,"comment_id":131616394,"body_markdown":"You use services in integration tests. In integration tests all of the states and variables will be reset in eache test case. Moreover the LiveData field is final so you can&#39;t reassign it.","body":"You use services in integration tests. In integration tests all of the states and variables will be reset in eache test case. Moreover the LiveData field is final so you can&#39;t reassign it."},{"owner":{"account_id":7004992,"reputation":728,"user_id":5369727,"display_name":"Aorlinn"},"score":0,"creation_date":1669299273,"post_id":74545041,"comment_id":131616797,"body_markdown":"When you say integration tests you are speaking about Android Instrumentation tests, right? If so, static variables are not reset automatically (only if you do it by your self explicitly. But in that case you always need to remember to do so). If not, tell me what you are using, then I definitely need take a look at it.","body":"When you say integration tests you are speaking about Android Instrumentation tests, right? If so, static variables are not reset automatically (only if you do it by your self explicitly. But in that case you always need to remember to do so). If not, tell me what you are using, then I definitely need take a look at it."},{"owner":{"account_id":16839534,"reputation":4249,"user_id":12175239,"display_name":"Squti"},"score":0,"creation_date":1669316331,"post_id":74545041,"comment_id":131621852,"body_markdown":"Every time you test a scenario test runner runs a new instance of the app with default states.","body":"Every time you test a scenario test runner runs a new instance of the app with default states."},{"owner":{"account_id":7004992,"reputation":728,"user_id":5369727,"display_name":"Aorlinn"},"score":0,"creation_date":1669317113,"post_id":74545041,"comment_id":131622069,"body_markdown":"That is done by &quot;killing&quot; all objects, such as Application etc. But as all tests are run within the same process it does not affect static fields. Test it yourself: add a static field to e.g. your Application class and initialize it with new Random().nextInt(). You will see that every test will have the same value, which was not the case, if it was reinitialized for every new test execution.","body":"That is done by &quot;killing&quot; all objects, such as Application etc. But as all tests are run within the same process it does not affect static fields. Test it yourself: add a static field to e.g. your Application class and initialize it with new Random().nextInt(). You will see that every test will have the same value, which was not the case, if it was reinitialized for every new test execution."},{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1669416653,"post_id":74545041,"comment_id":131643462,"body_markdown":"@Squti I have one question, if we remove the &quot;Thread.sleep(1000);&quot; does the activity will still receive ALL the messages sent via sendTokenToObserver or some will not view/handled by the activity ? IE does it&#39;s will work like a queue ?","body":"@Squti I have one question, if we remove the &quot;Thread.sleep(1000);&quot; does the activity will still receive ALL the messages sent via sendTokenToObserver or some will not view/handled by the activity ? IE does it&#39;s will work like a queue ?"},{"owner":{"account_id":16839534,"reputation":4249,"user_id":12175239,"display_name":"Squti"},"score":0,"creation_date":1669441645,"post_id":74545041,"comment_id":131646113,"body_markdown":"LiveData postValue() posts a task to the main thread to set the given value. If you called this method multiple times before the main thread executed a posted task, only the last value would be dispatched and previous values will be dropped. If you need to access all dispatched values you have to use setValue() method instead. But the problem is that you need to call setValue() on the main thread and in the above example you need to move sendTokenToObserver() out of run() method of Thread class. If you do a heavy or long-running operation on the main thread you may block the UI rendering.@zeus","body":"LiveData postValue() posts a task to the main thread to set the given value. If you called this method multiple times before the main thread executed a posted task, only the last value would be dispatched and previous values will be dropped. If you need to access all dispatched values you have to use setValue() method instead. But the problem is that you need to call setValue() on the main thread and in the above example you need to move sendTokenToObserver() out of run() method of Thread class. If you do a heavy or long-running operation on the main thread you may block the UI rendering.@zeus"},{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1669452686,"post_id":74545041,"comment_id":131647296,"body_markdown":"@Squti thanks for your help, I updated the question and add a note at the end regarding background threading. does your solution will still work in such scenario ?","body":"@Squti thanks for your help, I updated the question and add a note at the end regarding background threading. does your solution will still work in such scenario ?"},{"owner":{"account_id":16839534,"reputation":4249,"user_id":12175239,"display_name":"Squti"},"score":0,"creation_date":1669457475,"post_id":74545041,"comment_id":131647980,"body_markdown":"I&#39;ve updated my solution and it will guarantee all of the tokens emitted by any thread would be observable by main activity. @zeus","body":"I&#39;ve updated my solution and it will guarantee all of the tokens emitted by any thread would be observable by main activity. @zeus"},{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":2,"creation_date":1678289208,"post_id":74545041,"comment_id":133504255,"body_markdown":"Have you heard of Kotlin and Flows?","body":"Have you heard of Kotlin and Flows?"},{"owner":{"account_id":6932995,"reputation":129,"user_id":5321926,"display_name":"MKE"},"score":0,"creation_date":1693779027,"post_id":74545041,"comment_id":135801995,"body_markdown":"How would this change if the direction was data from the activity to the service?","body":"How would this change if the direction was data from the activity to the service?"}],"tags":[],"owner":{"account_id":16839534,"reputation":4249,"user_id":12175239,"display_name":"Squti"},"comment_count":13,"down_vote_count":3,"up_vote_count":8,"is_accepted":true,"score":5,"last_activity_date":1669459421,"creation_date":1669198155,"answer_id":74545041,"question_id":74264850,"body_markdown":"Make a `service` class and define a `LiveData` to replace the `LocalBroadcastManager` responsibility like so:\r\n\r\n    //This service sends an example token ten times to its observers\r\n    public class MyService extends Service {\r\n        //Define a LiveData to observe in activity\r\n        public static final MutableLiveData&lt;String&gt; tokenLiveData = new MutableLiveData&lt;&gt;();\r\n    \r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            //You need a separate thread if you don not use IntentService\r\n    \r\n            Thread thread1 = new Thread() {\r\n                public void run() {\r\n                    for (int i = 0; i &lt; 10; i++) {\r\n                        //send random strings az an example token ten times.\r\n                        //You can remove this loop and replace it with your logic\r\n                        String token1 = UUID.randomUUID().toString();\r\n                        new Handler(Looper.getMainLooper()).post(() -&gt; sendTokenToObserver(&quot;Thread1: &quot; + token1));\r\n    \r\n                    }\r\n                }\r\n            };\r\n            thread1.start();\r\n    \r\n            Thread thread2 = new Thread() {\r\n                public void run() {\r\n                    for (int i = 0; i &lt; 10; i++) {\r\n                        String token2 = UUID.randomUUID().toString();\r\n                        new Handler(Looper.getMainLooper()).post(() -&gt; sendTokenToObserver(&quot;Thread2: &quot; + token2));\r\n                    }\r\n                }\r\n            };\r\n            thread2.start();\r\n            return START_STICKY;\r\n        }\r\n    \r\n        //Post token to observers\r\n        public void sendTokenToObserver(String token) {\r\n            tokenLiveData.setValue(token);\r\n    \r\n        }\r\n    }\r\n\r\nThen start the `service` in the `activity` and observe the `LiveData` like below:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            //You can observe the emitted token here and do what you want(Show in view or notification). \r\n            //I&#39;ve just logged it to the console.\r\n            startService(new Intent(this,MyService.class));\r\n            MyService.tokenLiveData.observe(this, token -&gt; Log.d(&quot;token&quot;, token));\r\n        }\r\n    }\r\n\r\nYou can also `start` the `service` from `another activity` and observe it in the `MainActivity`;","title":"LocalBroadcastManager is now deprecated, how to send data from service to activity?","body":"<p>Make a <code>service</code> class and define a <code>LiveData</code> to replace the <code>LocalBroadcastManager</code> responsibility like so:</p>\n<pre><code>//This service sends an example token ten times to its observers\npublic class MyService extends Service {\n    //Define a LiveData to observe in activity\n    public static final MutableLiveData&lt;String&gt; tokenLiveData = new MutableLiveData&lt;&gt;();\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        //You need a separate thread if you don not use IntentService\n\n        Thread thread1 = new Thread() {\n            public void run() {\n                for (int i = 0; i &lt; 10; i++) {\n                    //send random strings az an example token ten times.\n                    //You can remove this loop and replace it with your logic\n                    String token1 = UUID.randomUUID().toString();\n                    new Handler(Looper.getMainLooper()).post(() -&gt; sendTokenToObserver(&quot;Thread1: &quot; + token1));\n\n                }\n            }\n        };\n        thread1.start();\n\n        Thread thread2 = new Thread() {\n            public void run() {\n                for (int i = 0; i &lt; 10; i++) {\n                    String token2 = UUID.randomUUID().toString();\n                    new Handler(Looper.getMainLooper()).post(() -&gt; sendTokenToObserver(&quot;Thread2: &quot; + token2));\n                }\n            }\n        };\n        thread2.start();\n        return START_STICKY;\n    }\n\n    //Post token to observers\n    public void sendTokenToObserver(String token) {\n        tokenLiveData.setValue(token);\n\n    }\n}\n</code></pre>\n<p>Then start the <code>service</code> in the <code>activity</code> and observe the <code>LiveData</code> like below:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //You can observe the emitted token here and do what you want(Show in view or notification). \n        //I've just logged it to the console.\n        startService(new Intent(this,MyService.class));\n        MyService.tokenLiveData.observe(this, token -&gt; Log.d(&quot;token&quot;, token));\n    }\n}\n</code></pre>\n<p>You can also <code>start</code> the <code>service</code> from <code>another activity</code> and observe it in the <code>MainActivity</code>;</p>\n"},{"tags":[],"owner":{"account_id":10927511,"reputation":3072,"user_id":8031784,"display_name":"Aniruddh Parihar"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1669361661,"creation_date":1669361661,"answer_id":74569516,"question_id":74264850,"body_markdown":"The **Android Interface Definition Language (AIDL)** is analogous to other IDLs you would possibly have worked with. It allows you to define the programming interface that both the client and repair agree upon so as to speak with one another using interprocess communication (IPC). Traditionally the Android way a process cannot access the memory of some other process. So in order to be able to communicate they decompose their objects into primitives that the Operating System can understand well, and marshall the objects across that boundary for you. The code to try to do that marshaling is tedious to write down, so Android handles it for you with AIDL.\r\n\r\n\r\n&gt; **Note**: Using AIDL is important as long as you permit clients from different applications to access your service for IPC and need to\r\n&gt; handle multithreading in your service.\r\n\r\n \r\n\r\nBut Before you go off start designing your own AIDL, do note that calls to an AIDL are straightaway right function calls! So you shouldn’t assume about the thread during the execution of whom the decision occurs. What happens is different counting on whether the decision is **from a thread** within **the local process** or a **foreign process**. \r\n\r\n**Specifically**\r\n\r\n 1. Calls made up of the local process are executed within the same\r\n    thread that’s making the decision. If this call is from your main UI\r\n    thread often then that will continue to exec within the AIDL\r\n    interface, however in case if it is another one (thread) then that\r\n    one will execute yours within the service!\r\n  \r\n 2. Calls from a foreign process are dispatched from a thread pool the\r\n    platform maintains inside your own process. you want to be prepared\r\n    for incoming calls from unknown threads, with multiple calls\r\n    happening at an equivalent time.\r\n\r\n 3. The *oneway keyword* decides how the behavior of the remote call\r\n    would be, When used, a foreign call doesn’t block; it simply sends\r\n    the transaction data and immediately returns. The implementation of\r\n    the interface eventually receives this as a daily call from the\r\n    Binder thread pool as a traditional remote call. If oneway is\r\n    employed with an area call, there’s no impact and therefore the call\r\n    remains synchronous.\r\n\r\n**Defining an AIDL Interface** \r\n\r\nYou must define your AIDL interface in a `.aidl` file using the Java programming language syntax, then reserve it within the ASCII text file (in the src/ directory) of both the appliance hosting the service and the other application that binds to the service. To create a `.aidl` file use this [link][1]!\r\n\r\n  [1]: https://developer.android.com/guide/components/aidl#Create\r\n\r\n**Well, here’s an example:**\r\n\r\nProcess A needs info of Call status to work out whether it must change Call Type (for instance changing voice to video). you’ll get call status from certain listeners but to vary Call type from Audio to Video, Process A needs a hook to vary. This “Hook” or way of adjusting calls is usually a part of “&gt; a part of Telephony Classes which are part of Telephony Process. So as to get such a piece of information from the Telephony process, One may write a telephony service (which runs as a neighborhood of android telephony process), which can allow you to question or change call type. Since Process A(Client) here is using this remote Service which communicates with the Telephony process to change call type, it must have an interface to speak to the service. Since Telephony service is that the provider and Process A (client) is that the user, they both got to agree on an interface (protocol) they will understand and cling to. Such an interface is AIDL, which allows you to speak (via a foreign service) to the Telephony process and obtain some work done.\r\n\r\nSimply put in laymen’s terms, AIDL is an “agreement” the Client gets, which tells it about the way to ask for service. The service itself will have a replica of that agreement(since it published for its clients). Service will then implement details on how it handles once an invitation arrives or say when someone is lecturing it\r\n\r\nSo process A requests to vary call via Service, Service gets the request, it talks to telephony process(since it’s a part of it) and changes call to video.\r\n\r\nAn important point to notice is, AIDL is merely necessary for a multithreading environment. you’ll do away with Binders if you do not get to affect multithreaded arch. Example: Process A needs info of Call status to work out whether it must change Call Type (for example Audio to Video Call or Vice-versa). you’ll get call status from certain listeners but to vary Call type from Audio to Video, Process A needs a hook to vary. This “Hook” or way of adjusting calls is usually a part of “&gt; a part of Telephony Classes which are part of Telephony Process. So as to get such information from the Telephony process, One may write a telephony service (which runs as a neighborhood of the android telephony process), which can allow you to question or change call type. Since Process A(Client) here is using this remote Service which communicates with the Telephony process to change call type, it must have an interface to speak to the service. Since Telephony service is that the provider and Process A (client) is that the user, they both got to agree on an interface (protocol) they will understand and cling to. Such an interface is AIDL, which allows you to speak (via a foreign service) to the Telephony process and obtain some work done.\r\n\r\nSimply put in laymen’s terms, AIDL is an “agreement” the Client gets, which tells it about the way to ask for service. The service itself will have a replica of that agreement(since it published for its clients). Service will then implement details on how it handles once an invitation arrives or say when someone is lecturing it\r\n\r\nSo process A requests to vary call via Service, Service gets the request, it talks to telephony process(since it’s a part of it) and changes call to video.\r\n\r\nAn important point to notice is, AIDL is merely necessary for a multithreading environment. you’ll do away with Binders if you do not get to affect multithreaded arch.\r\n\r\n\r\n**Here’s a code snippet to guide you in action:** \r\n\r\n\r\n    // Declare any non-default types\r\n    // here with import statements\r\n    interface AidlInterface {\r\n            int add(int x,int y);\r\n            int sub(int x,int y);\r\n        }\r\n\r\n\r\n**The AIDL Service for the above code is:**\r\n\r\n    public class AidlServiceGfG extends Service {\r\n    \r\n    \tprivate static final String TAG = &quot;AIDLServiceLogs&quot;;\r\n    \tprivate static final String className = &quot; AidlService&quot;;\r\n    \r\n    \tpublic AidlService() {\r\n    \t\tLog.i(TAG, className+&quot; Constructor&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic IBinder onBind(Intent intent) {\r\n    \t\t// GfG Example of Binder\r\n    \t\tLog.i(TAG, className+&quot; onBind&quot;);\r\n    \t\treturn iCalculator.asBinder();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onCreate() {\r\n    \t\tsuper.onCreate();\r\n    \t\tLog.i(TAG, className+&quot; onCreate&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void onDestroy() {\r\n    \t\tsuper.onDestroy();\r\n    \t\tLog.i(TAG, className+&quot; onDestroy&quot;);\r\n    \t}\r\n    \r\n    \tICalculator.Stub iCalculator = new ICalculator.Stub() {\r\n    \t\t@Override\r\n    \t\tpublic int add(int x, int y) throws RemoteException {\r\n    \t\t\tLog.i(TAG, className+&quot; add Thread Name: &quot;+Thread.currentThread().getName());\r\n    \t\t\tint z = x+y;\r\n    \t\t\treturn z;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic int sub(int x, int y) throws RemoteException {\r\n    \t\t\tLog.i(TAG, className+&quot; add Thread Name: &quot;+Thread.currentThread().getName());\r\n    \t\t\tint z = x-y;\r\n    \t\t\treturn z;\r\n    \t\t}\r\n    \t};\r\n    \r\n    }\r\n\r\n\r\n**And here’s the service connection:** \r\n\r\n\r\n\r\n    // Returns the stub\r\n    ServiceConnection serviceConnection = new ServiceConnection() {\r\n    \t\t@Override\r\n    \t\tpublic void onServiceConnected(ComponentName name, IBinder service) {\r\n    \t\t\tLog.i(TAG, className + &quot; onServiceConnected&quot;);\r\n    \t\t\tiCalculator = ICalculator.Stub.asInterface(service);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void onServiceDisconnected(ComponentName name) {\r\n    \r\n    \t\t\tunbindService(serviceConnection);\r\n    \t\t}\r\n    \t};\r\n\r\n\r\n\r\n**Conclusion**\r\n\r\nAIDL uses the binder kernel driver to form calls. once you make a call, a way identifier and every one of the objects are packed onto a buffer and copied to a foreign process where a binder thread waits to read the info. When calls are made within the same process and therefore the same backend, no proxy objects exist, then calls are direct with no packing or unpacking.\r\n","title":"LocalBroadcastManager is now deprecated, how to send data from service to activity?","body":"<p>The <strong>Android Interface Definition Language (AIDL)</strong> is analogous to other IDLs you would possibly have worked with. It allows you to define the programming interface that both the client and repair agree upon so as to speak with one another using interprocess communication (IPC). Traditionally the Android way a process cannot access the memory of some other process. So in order to be able to communicate they decompose their objects into primitives that the Operating System can understand well, and marshall the objects across that boundary for you. The code to try to do that marshaling is tedious to write down, so Android handles it for you with AIDL.</p>\n<blockquote>\n<p><strong>Note</strong>: Using AIDL is important as long as you permit clients from different applications to access your service for IPC and need to\nhandle multithreading in your service.</p>\n</blockquote>\n<p>But Before you go off start designing your own AIDL, do note that calls to an AIDL are straightaway right function calls! So you shouldn’t assume about the thread during the execution of whom the decision occurs. What happens is different counting on whether the decision is <strong>from a thread</strong> within <strong>the local process</strong> or a <strong>foreign process</strong>.</p>\n<p><strong>Specifically</strong></p>\n<ol>\n<li><p>Calls made up of the local process are executed within the same\nthread that’s making the decision. If this call is from your main UI\nthread often then that will continue to exec within the AIDL\ninterface, however in case if it is another one (thread) then that\none will execute yours within the service!</p>\n</li>\n<li><p>Calls from a foreign process are dispatched from a thread pool the\nplatform maintains inside your own process. you want to be prepared\nfor incoming calls from unknown threads, with multiple calls\nhappening at an equivalent time.</p>\n</li>\n<li><p>The <em>oneway keyword</em> decides how the behavior of the remote call\nwould be, When used, a foreign call doesn’t block; it simply sends\nthe transaction data and immediately returns. The implementation of\nthe interface eventually receives this as a daily call from the\nBinder thread pool as a traditional remote call. If oneway is\nemployed with an area call, there’s no impact and therefore the call\nremains synchronous.</p>\n</li>\n</ol>\n<p><strong>Defining an AIDL Interface</strong></p>\n<p>You must define your AIDL interface in a <code>.aidl</code> file using the Java programming language syntax, then reserve it within the ASCII text file (in the src/ directory) of both the appliance hosting the service and the other application that binds to the service. To create a <code>.aidl</code> file use this <a href=\"https://developer.android.com/guide/components/aidl#Create\" rel=\"nofollow noreferrer\">link</a>!</p>\n<p><strong>Well, here’s an example:</strong></p>\n<p>Process A needs info of Call status to work out whether it must change Call Type (for instance changing voice to video). you’ll get call status from certain listeners but to vary Call type from Audio to Video, Process A needs a hook to vary. This “Hook” or way of adjusting calls is usually a part of “&gt; a part of Telephony Classes which are part of Telephony Process. So as to get such a piece of information from the Telephony process, One may write a telephony service (which runs as a neighborhood of android telephony process), which can allow you to question or change call type. Since Process A(Client) here is using this remote Service which communicates with the Telephony process to change call type, it must have an interface to speak to the service. Since Telephony service is that the provider and Process A (client) is that the user, they both got to agree on an interface (protocol) they will understand and cling to. Such an interface is AIDL, which allows you to speak (via a foreign service) to the Telephony process and obtain some work done.</p>\n<p>Simply put in laymen’s terms, AIDL is an “agreement” the Client gets, which tells it about the way to ask for service. The service itself will have a replica of that agreement(since it published for its clients). Service will then implement details on how it handles once an invitation arrives or say when someone is lecturing it</p>\n<p>So process A requests to vary call via Service, Service gets the request, it talks to telephony process(since it’s a part of it) and changes call to video.</p>\n<p>An important point to notice is, AIDL is merely necessary for a multithreading environment. you’ll do away with Binders if you do not get to affect multithreaded arch. Example: Process A needs info of Call status to work out whether it must change Call Type (for example Audio to Video Call or Vice-versa). you’ll get call status from certain listeners but to vary Call type from Audio to Video, Process A needs a hook to vary. This “Hook” or way of adjusting calls is usually a part of “&gt; a part of Telephony Classes which are part of Telephony Process. So as to get such information from the Telephony process, One may write a telephony service (which runs as a neighborhood of the android telephony process), which can allow you to question or change call type. Since Process A(Client) here is using this remote Service which communicates with the Telephony process to change call type, it must have an interface to speak to the service. Since Telephony service is that the provider and Process A (client) is that the user, they both got to agree on an interface (protocol) they will understand and cling to. Such an interface is AIDL, which allows you to speak (via a foreign service) to the Telephony process and obtain some work done.</p>\n<p>Simply put in laymen’s terms, AIDL is an “agreement” the Client gets, which tells it about the way to ask for service. The service itself will have a replica of that agreement(since it published for its clients). Service will then implement details on how it handles once an invitation arrives or say when someone is lecturing it</p>\n<p>So process A requests to vary call via Service, Service gets the request, it talks to telephony process(since it’s a part of it) and changes call to video.</p>\n<p>An important point to notice is, AIDL is merely necessary for a multithreading environment. you’ll do away with Binders if you do not get to affect multithreaded arch.</p>\n<p><strong>Here’s a code snippet to guide you in action:</strong></p>\n<pre><code>// Declare any non-default types\n// here with import statements\ninterface AidlInterface {\n        int add(int x,int y);\n        int sub(int x,int y);\n    }\n</code></pre>\n<p><strong>The AIDL Service for the above code is:</strong></p>\n<pre><code>public class AidlServiceGfG extends Service {\n\n    private static final String TAG = &quot;AIDLServiceLogs&quot;;\n    private static final String className = &quot; AidlService&quot;;\n\n    public AidlService() {\n        Log.i(TAG, className+&quot; Constructor&quot;);\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        // GfG Example of Binder\n        Log.i(TAG, className+&quot; onBind&quot;);\n        return iCalculator.asBinder();\n    }\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        Log.i(TAG, className+&quot; onCreate&quot;);\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        Log.i(TAG, className+&quot; onDestroy&quot;);\n    }\n\n    ICalculator.Stub iCalculator = new ICalculator.Stub() {\n        @Override\n        public int add(int x, int y) throws RemoteException {\n            Log.i(TAG, className+&quot; add Thread Name: &quot;+Thread.currentThread().getName());\n            int z = x+y;\n            return z;\n        }\n\n        @Override\n        public int sub(int x, int y) throws RemoteException {\n            Log.i(TAG, className+&quot; add Thread Name: &quot;+Thread.currentThread().getName());\n            int z = x-y;\n            return z;\n        }\n    };\n\n}\n</code></pre>\n<p><strong>And here’s the service connection:</strong></p>\n<pre><code>// Returns the stub\nServiceConnection serviceConnection = new ServiceConnection() {\n        @Override\n        public void onServiceConnected(ComponentName name, IBinder service) {\n            Log.i(TAG, className + &quot; onServiceConnected&quot;);\n            iCalculator = ICalculator.Stub.asInterface(service);\n        }\n\n        @Override\n        public void onServiceDisconnected(ComponentName name) {\n\n            unbindService(serviceConnection);\n        }\n    };\n</code></pre>\n<p><strong>Conclusion</strong></p>\n<p>AIDL uses the binder kernel driver to form calls. once you make a call, a way identifier and every one of the objects are packed onto a buffer and copied to a foreign process where a binder thread waits to read the info. When calls are made within the same process and therefore the same backend, no proxy objects exist, then calls are direct with no packing or unpacking.</p>\n"},{"comments":[{"owner":{"account_id":13680665,"reputation":735,"user_id":9871101,"display_name":"Dinh Lam"},"score":0,"creation_date":1669686904,"post_id":74598960,"comment_id":131694186,"body_markdown":"@zeus you can check my editted answer for your note.","body":"@zeus you can check my editted answer for your note."},{"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"score":0,"creation_date":1669711222,"post_id":74598960,"comment_id":131698653,"body_markdown":"@dinhlan your answer was very good like all the others, so i simply gave the bounty to the one who have the most vote :(","body":"@dinhlan your answer was very good like all the others, so i simply gave the bounty to the one who have the most vote :("}],"tags":[],"owner":{"account_id":13680665,"reputation":735,"user_id":9871101,"display_name":"Dinh Lam"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1669686840,"creation_date":1669630060,"answer_id":74598960,"question_id":74264850,"body_markdown":"I think you can consinder to use `EventBus`, link here: https://github.com/greenrobot/EventBus \r\n\r\nFAQ: https://greenrobot.github.io/EventBus/\r\n\r\n&gt;Q: How&#39;s EventBus different to Android&#39;s BroadcastReceiver/Intent system?\r\n&gt; \r\n&gt; A: Unlike Android&#39;s BroadcastReceiver/Intent system, EventBus uses standard Java classes as events and offers a more convenient API. EventBus is intended for a lot more uses cases where you wouldn&#39;t want to go through the hassle of setting up Intents, preparing Intent extras, implementing broadcast receivers, and extracting Intent extras again. Also, EventBus comes with a much lower overhead.\r\n\r\nSo you can declare you data class like:\r\n```java\r\npublic class RefreshTokenData {\r\n  private String token;\r\n  private String...\r\n  ...// Other field\r\n}\r\n```\r\n\r\nIn your activity, simple way:\r\n```java\r\n@Subscribe(threadMode = ThreadMode.MAIN)  \r\npublic void onRefreshToken(RefreshTokenData data) {\r\n    // Do something\r\n}\r\n```\r\n\r\nYou can switch to other thread instead `main` by `ThreadMode`.\r\n\r\nIn your service:\r\n```java\r\npublic void onTokenRefresh() {\r\n      \r\n    final RefreshTokenData refreshTokenData = new RefreshTokenData(&quot;xxx&quot;, ...);\r\n    \r\n    EventBus.getDefault().post(refreshTokenData);\r\n}\r\n```\r\nAfter the token will be send to activity in method `onRefreshToken` declared above.\r\n\r\nDon&#39;t forget unsubscribe your activity:\r\n```java\r\n@Override\r\npublic void onStart() {\r\n     super.onStart();\r\n     EventBus.getDefault().register(this);\r\n}\r\n\r\n@Override\r\npublic void onStop() {\r\n     super.onStop();\r\n     EventBus.getDefault().unregister(this);\r\n}\r\n````\r\n\r\nMore details: https://greenrobot.org/eventbus/documentation/how-to-get-started/ \r\n\r\n**Thread Mode and your note**\r\n\r\nLink: https://greenrobot.org/eventbus/documentation/delivery-threads-threadmode/\r\n\r\nI suggest to use `ThreadMode: MAIN_ORDERED`, you will get all your refresh token sequentially because `With MAIN_ORDERED, the first event handler will finish, and then the second one will be invoked at a later point in time`.\r\n","title":"LocalBroadcastManager is now deprecated, how to send data from service to activity?","body":"<p>I think you can consinder to use <code>EventBus</code>, link here: <a href=\"https://github.com/greenrobot/EventBus\" rel=\"nofollow noreferrer\">https://github.com/greenrobot/EventBus</a></p>\n<p>FAQ: <a href=\"https://greenrobot.github.io/EventBus/\" rel=\"nofollow noreferrer\">https://greenrobot.github.io/EventBus/</a></p>\n<blockquote>\n<p>Q: How's EventBus different to Android's BroadcastReceiver/Intent system?</p>\n<p>A: Unlike Android's BroadcastReceiver/Intent system, EventBus uses standard Java classes as events and offers a more convenient API. EventBus is intended for a lot more uses cases where you wouldn't want to go through the hassle of setting up Intents, preparing Intent extras, implementing broadcast receivers, and extracting Intent extras again. Also, EventBus comes with a much lower overhead.</p>\n</blockquote>\n<p>So you can declare you data class like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RefreshTokenData {\n  private String token;\n  private String...\n  ...// Other field\n}\n</code></pre>\n<p>In your activity, simple way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Subscribe(threadMode = ThreadMode.MAIN)  \npublic void onRefreshToken(RefreshTokenData data) {\n    // Do something\n}\n</code></pre>\n<p>You can switch to other thread instead <code>main</code> by <code>ThreadMode</code>.</p>\n<p>In your service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void onTokenRefresh() {\n      \n    final RefreshTokenData refreshTokenData = new RefreshTokenData(&quot;xxx&quot;, ...);\n    \n    EventBus.getDefault().post(refreshTokenData);\n}\n</code></pre>\n<p>After the token will be send to activity in method <code>onRefreshToken</code> declared above.</p>\n<p>Don't forget unsubscribe your activity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onStart() {\n     super.onStart();\n     EventBus.getDefault().register(this);\n}\n\n@Override\npublic void onStop() {\n     super.onStop();\n     EventBus.getDefault().unregister(this);\n}\n</code></pre>\n<p>More details: <a href=\"https://greenrobot.org/eventbus/documentation/how-to-get-started/\" rel=\"nofollow noreferrer\">https://greenrobot.org/eventbus/documentation/how-to-get-started/</a></p>\n<p><strong>Thread Mode and your note</strong></p>\n<p>Link: <a href=\"https://greenrobot.org/eventbus/documentation/delivery-threads-threadmode/\" rel=\"nofollow noreferrer\">https://greenrobot.org/eventbus/documentation/delivery-threads-threadmode/</a></p>\n<p>I suggest to use <code>ThreadMode: MAIN_ORDERED</code>, you will get all your refresh token sequentially because <code>With MAIN_ORDERED, the first event handler will finish, and then the second one will be invoked at a later point in time</code>.</p>\n"},{"tags":[],"owner":{"account_id":29296300,"reputation":1,"user_id":22445566,"display_name":"Lemahe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697523141,"creation_date":1697523141,"answer_id":77306515,"question_id":74264850,"body_markdown":"If you only want to receive data in a single class at a time you can create an object that passes the information:\r\n\r\n        object NotificationManager {\r\n\r\n           private var notification: ((String) -&gt; Unit)? = null\r\n    \r\n           fun updateNotificationMessage(message: String) {\r\n               notification?.invoke(message)\r\n           }\r\n    \r\n           fun setNotificationCallback(callback: (String) -&gt; Unit) {\r\n               this.notification = callback\r\n           }\r\n      }\r\n\r\n\r\nTo send the message:\r\n\r\n    NotificationManager.updateNotificationMessage(&quot;MSG&quot;)\r\n\r\n\r\n\r\nTo listen to the callback and receive the message:\r\n\r\n    NotificationManager.setNotificationCallback { msg -&gt;\r\n         ...\r\n    }\r\n\r\n","title":"LocalBroadcastManager is now deprecated, how to send data from service to activity?","body":"<p>If you only want to receive data in a single class at a time you can create an object that passes the information:</p>\n<pre><code>    object NotificationManager {\n\n       private var notification: ((String) -&gt; Unit)? = null\n\n       fun updateNotificationMessage(message: String) {\n           notification?.invoke(message)\n       }\n\n       fun setNotificationCallback(callback: (String) -&gt; Unit) {\n           this.notification = callback\n       }\n  }\n</code></pre>\n<p>To send the message:</p>\n<pre><code>NotificationManager.updateNotificationMessage(&quot;MSG&quot;)\n</code></pre>\n<p>To listen to the callback and receive the message:</p>\n<pre><code>NotificationManager.setNotificationCallback { msg -&gt;\n     ...\n}\n</code></pre>\n"}],"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3136,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":74545041,"answer_count":6,"score":10,"last_activity_date":1697523141,"creation_date":1667226621,"question_id":74264850,"body_markdown":"I have a service that needs to notify the main activity. I use `LocalBroadcastManager`, and it works fine, but `LocalBroadcastManager` has been deprecated.\r\n\r\nThis is my actual code in the service:\r\n\r\n    public void onTokenRefresh() {\r\n          \r\n        /* build the intent */\r\n        Intent intent = new Intent(ACTION_TOKENREFRESHED);\r\n        intent.putExtra(&quot;token&quot;, &quot;xxx&quot;);\r\n        \r\n        /* send the data to registered receivers */\r\n        try{\r\n          LocalBroadcastManager.getInstance(this).sendBroadcast(intent);\r\n        } catch (Throwable e){\r\n          //no exception handling\r\n        }  \r\n      \r\n      }\r\n\r\nIn the main activity, I get informed of the notification like this :\r\n\r\n    context.registerReceiver(broadcastReceiver, intentFilter);\r\n\r\nWhat can I use now to remove the deprecated warning? All examples I found regarding sending data from service to activity use LocalBroadcastManager. Can someone give me a workable model for migrating my existing code?\r\n\r\n**NOTE**\r\n\r\nIn my example, The `onTokenRefresh` is called from inside a `background thread`. That is very important because it means I can simultaneously receive several onTokenRefresh, and I must forward all these tokens to the activity. Most of the offered solutions use live data but make a declaration like :\r\n\r\n    public static final MutableLiveData&lt;String&gt; tokenLiveData = new MutableLiveData&lt;&gt;();\r\n    \r\n    Background Thread1:\r\n    tokenLiveData.postValue(Token1);\r\n\r\n    Background Thread2 (at same time):\r\n    tokenLiveData.postValue(Token2);\r\n\r\n\r\nWill forward ALL tokens received simultaneously to the main activity that observes the tokenLiveData? Will the main activity always receive for sure token1 and token2?","title":"LocalBroadcastManager is now deprecated, how to send data from service to activity?","body":"<p>I have a service that needs to notify the main activity. I use <code>LocalBroadcastManager</code>, and it works fine, but <code>LocalBroadcastManager</code> has been deprecated.</p>\n<p>This is my actual code in the service:</p>\n<pre><code>public void onTokenRefresh() {\n      \n    /* build the intent */\n    Intent intent = new Intent(ACTION_TOKENREFRESHED);\n    intent.putExtra(&quot;token&quot;, &quot;xxx&quot;);\n    \n    /* send the data to registered receivers */\n    try{\n      LocalBroadcastManager.getInstance(this).sendBroadcast(intent);\n    } catch (Throwable e){\n      //no exception handling\n    }  \n  \n  }\n</code></pre>\n<p>In the main activity, I get informed of the notification like this :</p>\n<pre><code>context.registerReceiver(broadcastReceiver, intentFilter);\n</code></pre>\n<p>What can I use now to remove the deprecated warning? All examples I found regarding sending data from service to activity use LocalBroadcastManager. Can someone give me a workable model for migrating my existing code?</p>\n<p><strong>NOTE</strong></p>\n<p>In my example, The <code>onTokenRefresh</code> is called from inside a <code>background thread</code>. That is very important because it means I can simultaneously receive several onTokenRefresh, and I must forward all these tokens to the activity. Most of the offered solutions use live data but make a declaration like :</p>\n<pre><code>public static final MutableLiveData&lt;String&gt; tokenLiveData = new MutableLiveData&lt;&gt;();\n\nBackground Thread1:\ntokenLiveData.postValue(Token1);\n\nBackground Thread2 (at same time):\ntokenLiveData.postValue(Token2);\n</code></pre>\n<p>Will forward ALL tokens received simultaneously to the main activity that observes the tokenLiveData? Will the main activity always receive for sure token1 and token2?</p>\n"},{"tags":["java","eclipse","dom","w3c","java-12"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":8,"creation_date":1564567822,"post_id":57286825,"comment_id":101071286,"body_markdown":"That is a limitation of Java 9 and higher: the same package name must not be used in more than one module. Everything on the classpath is considered as contained in the `&lt;unnamed&gt;` module. Since `org.w3c.dom` is already used in the system library, your code and all dependencies/JARs must not use this package even without using JPMS (without having a `module-info.java` file). So, either use Java 8 or get rid of the code/dependency that contains the `org.w3c.dom` package.","body":"That is a limitation of Java 9 and higher: the same package name must not be used in more than one module. Everything on the classpath is considered as contained in the <code>&lt;unnamed&gt;</code> module. Since <code>org.w3c.dom</code> is already used in the system library, your code and all dependencies/JARs must not use this package even without using JPMS (without having a <code>module-info.java</code> file). So, either use Java 8 or get rid of the code/dependency that contains the <code>org.w3c.dom</code> package."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1564568154,"post_id":57286825,"comment_id":101071493,"body_markdown":"Possible duplicate of [Eclipse can&#39;t find XML related classes after switching build path to JDK 10](https://stackoverflow.com/questions/51094274/eclipse-cant-find-xml-related-classes-after-switching-build-path-to-jdk-10)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/51094274/eclipse-cant-find-xml-related-classes-after-switching-build-path-to-jdk-10\">Eclipse can&#39;t find XML related classes after switching build path to JDK 10</a>"},{"owner":{"account_id":13218782,"reputation":649,"user_id":9546338,"display_name":"poovaraj"},"score":0,"creation_date":1564586946,"post_id":57286825,"comment_id":101082832,"body_markdown":"Thank you for the update.  I am using java 12 version, so I cannot downgrade version. Please let me know how to create code/dependency that contains the org.w3c.dom package ?","body":"Thank you for the update.  I am using java 12 version, so I cannot downgrade version. Please let me know how to create code/dependency that contains the org.w3c.dom package ?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1564610261,"post_id":57286825,"comment_id":101092537,"body_markdown":"Your code and everything on the classpath must not contain the `org.w3c.dom` package (as it already used in the system library). Maybe a newer version of the JAR containing `org.w3c.dom` has in newer versions its own name space for packages instead of `org.w3c.dom` so it can be used in Java 9 and higher.","body":"Your code and everything on the classpath must not contain the <code>org.w3c.dom</code> package (as it already used in the system library). Maybe a newer version of the JAR containing <code>org.w3c.dom</code> has in newer versions its own name space for packages instead of <code>org.w3c.dom</code> so it can be used in Java 9 and higher."},{"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"score":0,"creation_date":1579449838,"post_id":57286825,"comment_id":105762109,"body_markdown":"Duplication https://stackoverflow.com/questions/51094274/eclipse-cant-find-xml-related-classes-after-switching-build-path-to-jdk-10","body":"Duplication <a href=\"https://stackoverflow.com/questions/51094274/eclipse-cant-find-xml-related-classes-after-switching-build-path-to-jdk-10\" title=\"eclipse cant find xml related classes after switching build path to jdk 10\">stackoverflow.com/questions/51094274/&hellip;</a>"},{"owner":{"account_id":11432941,"reputation":3304,"user_id":8381155,"display_name":"ochs.tobi"},"score":0,"creation_date":1587118834,"post_id":57286825,"comment_id":108388651,"body_markdown":"@howlger How can I find out that a transitive dependency is using `org.w3c.dom` package? I have already excluded the dependencies: `stax-api`, `xml-apis` and `xercesImpl` as stated in other comments/answers but the errors remains.","body":"@howlger How can I find out that a transitive dependency is using <code>org.w3c.dom</code> package? I have already excluded the dependencies: <code>stax-api</code>, <code>xml-apis</code> and <code>xercesImpl</code> as stated in other comments/answers but the errors remains."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1587120257,"post_id":57286825,"comment_id":108389397,"body_markdown":"@ochs.tobi The error message tells the package and you can use Java search (Ctrl+H) to find where the package is _declared_. By the way, your Eclipse is three releases behind. You might waste time by facing already fixed issues.","body":"@ochs.tobi The error message tells the package and you can use Java search (Ctrl+H) to find where the package is <i>declared</i>. By the way, your Eclipse is three releases behind. You might waste time by facing already fixed issues."},{"owner":{"account_id":11432941,"reputation":3304,"user_id":8381155,"display_name":"ochs.tobi"},"score":0,"creation_date":1587359621,"post_id":57286825,"comment_id":108470280,"body_markdown":"@howlger When I search for the declaration it tells me the import is from JDK11 -&gt; java.xml. Can&#39;t see any other declaration. I don&#39;t have the issue in my IDE. I get the error from command line using maven. Maybe I should open a seperate question.","body":"@howlger When I search for the declaration it tells me the import is from JDK11 -&gt; java.xml. Can&#39;t see any other declaration. I don&#39;t have the issue in my IDE. I get the error from command line using maven. Maybe I should open a seperate question."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1587364674,"post_id":57286825,"comment_id":108471850,"body_markdown":"@ochs.tobi Yes, it&#39;s different when you get an error only in Maven but not in Eclipse. Maybe scopes are involved. If you open a question, tell which dependencies of which scope the package is contained, and if you have a `module-info.java` file.","body":"@ochs.tobi Yes, it&#39;s different when you get an error only in Maven but not in Eclipse. Maybe scopes are involved. If you open a question, tell which dependencies of which scope the package is contained, and if you have a <code>module-info.java</code> file."},{"owner":{"account_id":7281,"reputation":248677,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1656531907,"post_id":57286825,"comment_id":128598874,"body_markdown":"@howlger Could you explain that a little more? *&quot;the same package name must not be used in more than one module&quot;* Is the implication that because Java itself already uses `org.w3c.dom.NodeList` internally somewhere, that means **i** cannot use it in my project? That seems like an unreasonable demand Java 9 is putting on developers.","body":"@howlger Could you explain that a little more? <i>&quot;the same package name must not be used in more than one module&quot;</i> Is the implication that because Java itself already uses <code>org.w3c.dom.NodeList</code> internally somewhere, that means <b>i</b> cannot use it in my project? That seems like an unreasonable demand Java 9 is putting on developers."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1656577299,"post_id":57286825,"comment_id":128608385,"body_markdown":"@IanBoyd Yes exactly, that&#39;s what it means. I guess the reason for this new requirement is to make it easier for the HotSpot Java VM.","body":"@IanBoyd Yes exactly, that&#39;s what it means. I guess the reason for this new requirement is to make it easier for the HotSpot Java VM."},{"owner":{"account_id":7281,"reputation":248677,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1656599262,"post_id":57286825,"comment_id":128616887,"body_markdown":"@howlger Something&#39;s not right. I have code that imports `java.lang`, and it doesn&#39;t get an error when it tries to use `String` or `Integer`.","body":"@howlger Something&#39;s not right. I have code that imports <code>java.lang</code>, and it doesn&#39;t get an error when it tries to use <code>String</code> or <code>Integer</code>."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1656602359,"post_id":57286825,"comment_id":128618269,"body_markdown":"@IanBoyd Importing is not a problem. But you are not allowed to have a `java.lang` plackage of your own.","body":"@IanBoyd Importing is not a problem. But you are not allowed to have a <code>java.lang</code> plackage of your own."}],"answers":[{"tags":[],"owner":{"account_id":17757871,"reputation":21,"user_id":12894537,"display_name":"Praveen Kumar jkp"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581623808,"creation_date":1581623808,"answer_id":60215525,"question_id":57286825,"body_markdown":"Just open the configure build path and verify the modules which are all you have added as part of the project, which contains the class files as *\r\n\r\n&gt; org.w3c.dom\r\n\r\n\r\n**This error, we usually gets in Java due to same kind of multiple API packages added in one project.**\r\n\r\nAs, am using the same version as you mentioned, am not facing any issues., so just make sure that you don&#39;t have any duplicate modules.","title":"The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml","body":"<p>Just open the configure build path and verify the modules which are all you have added as part of the project, which contains the class files as *</p>\n\n<blockquote>\n  <p>org.w3c.dom</p>\n</blockquote>\n\n<p><strong>This error, we usually gets in Java due to same kind of multiple API packages added in one project.</strong></p>\n\n<p>As, am using the same version as you mentioned, am not facing any issues., so just make sure that you don't have any duplicate modules.</p>\n"},{"comments":[{"owner":{"account_id":2611171,"reputation":1028,"user_id":2261243,"display_name":"Damien C"},"score":0,"creation_date":1582392953,"post_id":60354871,"comment_id":106765325,"body_markdown":"My configuration  : debian 10, java 11 (openjdk), maven 3.3.9, eclipse 4.14","body":"My configuration  : debian 10, java 11 (openjdk), maven 3.3.9, eclipse 4.14"}],"tags":[],"owner":{"account_id":2611171,"reputation":1028,"user_id":2261243,"display_name":"Damien C"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1582392874,"creation_date":1582392874,"answer_id":60354871,"question_id":57286825,"body_markdown":"On my side, I&#39;ve spent a few hours to understand my issue, really closed to this one.    \r\n```The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml```\r\n\r\nI wanted to migrate a project from Java 8 to Java 11. A few library issues. Easy to fix. But on this one, \r\n\r\n * I&#39;ve tried to create module-info.java → it was worst. \r\n * Find a issue on my OS (debian 10) \r\n → even if Java 11 was default JRE, $JAVA_HOME was not rightly set for\r\n   maven build. And when I was thinking it was only an Eclipse issue, I finally consider that it was a global compilation problem. To fix this I had to add following line in ```~/.mavenrc```\r\n\r\n  ```JAVA_HOME=/usr/lib/jvm/default-java```\r\n\r\n * Deep analysis on maven dependencies shows me a third-level dependency on **xom**.jar which trigger the issue. Dependency was linked to **Saxon HE** library  → an upgrade to **VERSION 9.9.X** has resolved this boring problem. \r\n\r\nHope this will helps other people. ","title":"The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml","body":"<p>On my side, I've spent a few hours to understand my issue, really closed to this one.<br>\n<code>The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml</code></p>\n\n<p>I wanted to migrate a project from Java 8 to Java 11. A few library issues. Easy to fix. But on this one, </p>\n\n<ul>\n<li>I've tried to create module-info.java → it was worst. </li>\n<li><p>Find a issue on my OS (debian 10) \n→ even if Java 11 was default JRE, $JAVA_HOME was not rightly set for\nmaven build. And when I was thinking it was only an Eclipse issue, I finally consider that it was a global compilation problem. To fix this I had to add following line in <code>~/.mavenrc</code></p>\n\n<p><code>JAVA_HOME=/usr/lib/jvm/default-java</code></p></li>\n<li><p>Deep analysis on maven dependencies shows me a third-level dependency on <strong>xom</strong>.jar which trigger the issue. Dependency was linked to <strong>Saxon HE</strong> library  → an upgrade to <strong>VERSION 9.9.X</strong> has resolved this boring problem. </p></li>\n</ul>\n\n<p>Hope this will helps other people. </p>\n"},{"comments":[{"owner":{"account_id":2478109,"reputation":2505,"user_id":2158271,"accept_rate":56,"display_name":"haba713"},"score":0,"creation_date":1699019562,"post_id":61457564,"comment_id":136481651,"body_markdown":"In my case I had to exclude with Java 17 `xml-apis` as a `xercesImpl` dependency in `build.gradle` like this: `implementation (&#39;xerces:xercesImpl:2.12.2&#39;) { exclude group: &#39;xml-apis&#39;, module: &#39;xml-apis&#39; }`","body":"In my case I had to exclude with Java 17 <code>xml-apis</code> as a <code>xercesImpl</code> dependency in <code>build.gradle</code> like this: <code>implementation (&#39;xerces:xercesImpl:2.12.2&#39;) { exclude group: &#39;xml-apis&#39;, module: &#39;xml-apis&#39; }</code>"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1618575490,"creation_date":1587985894,"answer_id":61457564,"question_id":57286825,"body_markdown":"I had a similar issue because of a transitive `xml-apis` dependency. I resolved it using a Maven exclusion:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n    &lt;artifactId&gt;fop&lt;/artifactId&gt;\r\n    &lt;version&gt;0.95&lt;/version&gt;\r\n    \r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAnother dependency that just causes trouble and I don&#39;t have a solution other than removing it is this one:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.oracle.database.xml&lt;/groupId&gt;\r\n    &lt;artifactId&gt;xmlparserv2&lt;/artifactId&gt;\r\n    &lt;version&gt;${oracle.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nUse `mvn dependency:tree` to see who brings in the transitive dependency, and then exclude that from there.","title":"The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml","body":"<p>I had a similar issue because of a transitive <code>xml-apis</code> dependency. I resolved it using a Maven exclusion:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n    &lt;artifactId&gt;fop&lt;/artifactId&gt;\n    &lt;version&gt;0.95&lt;/version&gt;\n    \n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n            &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Another dependency that just causes trouble and I don't have a solution other than removing it is this one:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.oracle.database.xml&lt;/groupId&gt;\n    &lt;artifactId&gt;xmlparserv2&lt;/artifactId&gt;\n    &lt;version&gt;${oracle.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Use <code>mvn dependency:tree</code> to see who brings in the transitive dependency, and then exclude that from there.</p>\n"},{"comments":[{"owner":{"account_id":2344577,"reputation":3561,"user_id":2055163,"accept_rate":81,"display_name":"Thorsten Sch&#246;ning"},"score":2,"creation_date":1665221500,"post_id":62258081,"comment_id":130652443,"body_markdown":"Same problem here, because `dom4j` depends on Jaxen and that bundles `org.w3c.dom.UserContentHandler`.","body":"Same problem here, because <code>dom4j</code> depends on Jaxen and that bundles <code>org.w3c.dom.UserContentHandler</code>."}],"tags":[],"owner":{"account_id":4070973,"reputation":149,"user_id":3561097,"display_name":"zico"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1591605554,"creation_date":1591605249,"answer_id":62258081,"question_id":57286825,"body_markdown":"In my case, it was caused by combining the usage of:\r\n\r\n - `JDK 11`\r\n - `dom4j 2.1.3` library\r\n\r\nAs pointed out by others, the root cause is that `dom4j` and its dependencies (e.g., `pull-parser`) use some packages names (`javax.xml.parsers`, `org.w3c.dom`) that have been used by the JDK.\r\n\r\nI had to remove `dom4j` to solve the problem. Just use JDK&#39;s own XML api.","title":"The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml","body":"<p>In my case, it was caused by combining the usage of:</p>\n\n<ul>\n<li><code>JDK 11</code></li>\n<li><code>dom4j 2.1.3</code> library</li>\n</ul>\n\n<p>As pointed out by others, the root cause is that <code>dom4j</code> and its dependencies (e.g., <code>pull-parser</code>) use some packages names (<code>javax.xml.parsers</code>, <code>org.w3c.dom</code>) that have been used by the JDK.</p>\n\n<p>I had to remove <code>dom4j</code> to solve the problem. Just use JDK's own XML api.</p>\n"},{"tags":[],"owner":{"account_id":910835,"reputation":561,"user_id":944746,"display_name":"MSillence"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1644319721,"creation_date":1593591747,"answer_id":62672624,"question_id":57286825,"body_markdown":"Disappointingly I don&#39;t see any compiler flags to show what jar the problem is with\r\nEven -Xlint:module doesn&#39;t seem to show up anything useful and eclipse doesn&#39;t shed any light on the issue\r\n\r\nInstead to find where org.w3c.dom comes from I&#39;ve been using this script:\r\n\r\n&lt;!-- language-all: bash --&gt;\r\n\r\n    mvn dependency:copy-dependencies -DincludeScope=test -DoutputDirectory=deps\r\n    for i in deps/*.jar; do if unzip -l $i| grep -q org.w3c.dom; then echo $i; fi ; done\r\n\r\nStrictly you don&#39;t have to specify the scope test as that&#39;s the default but I&#39;ve included it as you might want to use `compile` instead","title":"The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml","body":"<p>Disappointingly I don't see any compiler flags to show what jar the problem is with\nEven -Xlint:module doesn't seem to show up anything useful and eclipse doesn't shed any light on the issue</p>\n<p>Instead to find where org.w3c.dom comes from I've been using this script:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>mvn dependency:copy-dependencies -DincludeScope=test -DoutputDirectory=deps\nfor i in deps/*.jar; do if unzip -l $i| grep -q org.w3c.dom; then echo $i; fi ; done\n</code></pre>\n<p>Strictly you don't have to specify the scope test as that's the default but I've included it as you might want to use <code>compile</code> instead</p>\n"},{"tags":[],"owner":{"account_id":5387572,"reputation":327,"user_id":4291005,"accept_rate":80,"display_name":"Sanjay Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1599051559,"creation_date":1599051559,"answer_id":63706050,"question_id":57286825,"body_markdown":"**org.w3c.dom** is used in:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\r\n        &lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCheck if this is imported transitively via some other dependency.\r\n**Exclude the same**\r\n\r\nAdd dependency for: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\r\n        &lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml","body":"<p><strong>org.w3c.dom</strong> is used in:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\n    &lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Check if this is imported transitively via some other dependency.\n<strong>Exclude the same</strong></p>\n<p>Add dependency for:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\n    &lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\n    &lt;version&gt;2.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20085846,"reputation":31,"user_id":14727420,"display_name":"AsTeRiX"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1606616169,"creation_date":1606616169,"answer_id":65056402,"question_id":57286825,"body_markdown":"For Java 9 and higher Delete org.w3c.dom jar file from the class path, and you are done. By the way delete module info file too. You don&#39;t need to add the external jar file, its already included in the system library of java 9 and higher.","title":"The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml","body":"<p>For Java 9 and higher Delete org.w3c.dom jar file from the class path, and you are done. By the way delete module info file too. You don't need to add the external jar file, its already included in the system library of java 9 and higher.</p>\n"},{"tags":[],"owner":{"account_id":16051415,"reputation":887,"user_id":11585187,"display_name":"Peter Wauyo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612334952,"creation_date":1612334952,"answer_id":66022550,"question_id":57286825,"body_markdown":"In my case I was using:   \r\n`JDK 14` and `xmlbeans.jar` library.  \r\nI just had to remove the `xmlbeans.jar` library and it surely solved the issue.\r\n","title":"The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml","body":"<p>In my case I was using:<br />\n<code>JDK 14</code> and <code>xmlbeans.jar</code> library.<br />\nI just had to remove the <code>xmlbeans.jar</code> library and it surely solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":18049398,"reputation":11,"user_id":13119460,"display_name":"Kiran Kumar R"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622530738,"creation_date":1622530738,"answer_id":67784068,"question_id":57286825,"body_markdown":"If you are in a simple **Java Project**, not Maven.\r\nThen just **remove the dom-jaxb jar** from the Libraries.\r\n\r\n**Steps : \r\nRight click on project -&gt; Properties -&gt; Java BuildPath -&gt; Libraries Tab -&gt; select on jars such as dom-2.3.0-jaxb-1.0.6(version might differ) -&gt; Remove.**\r\n\r\nNow it will build without error.\r\n\r\nThe error is occurring because &quot;org.w3c.dom.Document&quot; is coming from both the removed &quot;dom-2.3.0-jaxb-1.0.6&quot; jar and from Java&#39;s in-built libraries. Removing additional jar will let it come only from Java&#39;s in-built libraries.","title":"The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml","body":"<p>If you are in a simple <strong>Java Project</strong>, not Maven.\nThen just <strong>remove the dom-jaxb jar</strong> from the Libraries.</p>\n<p><strong>Steps :\nRight click on project -&gt; Properties -&gt; Java BuildPath -&gt; Libraries Tab -&gt; select on jars such as dom-2.3.0-jaxb-1.0.6(version might differ) -&gt; Remove.</strong></p>\n<p>Now it will build without error.</p>\n<p>The error is occurring because &quot;org.w3c.dom.Document&quot; is coming from both the removed &quot;dom-2.3.0-jaxb-1.0.6&quot; jar and from Java's in-built libraries. Removing additional jar will let it come only from Java's in-built libraries.</p>\n"},{"comments":[{"owner":{"account_id":2090327,"reputation":8485,"user_id":1860309,"accept_rate":53,"display_name":"Boris Brodski"},"score":0,"creation_date":1645600731,"post_id":69054034,"comment_id":125911724,"body_markdown":"Sure, but I need `xercesImpl.jar`! What should I do?","body":"Sure, but I need <code>xercesImpl.jar</code>! What should I do?"}],"tags":[],"owner":{"account_id":279876,"reputation":11654,"user_id":575281,"accept_rate":82,"display_name":"RajSanpui"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630747667,"creation_date":1630747667,"answer_id":69054034,"question_id":57286825,"body_markdown":"You need to manually check and remove all the jars (libraries) which has the possibility of conflicting with `java.xml` package.\r\n\r\nIn my case, I edited my `.classpath` file and removed the following jars and it resolved the issue:\r\n\r\n    jtidy.jar, castor-0.9.5.4-xml.jar, xercesImpl.jar, xml-apis.jar","title":"The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml","body":"<p>You need to manually check and remove all the jars (libraries) which has the possibility of conflicting with <code>java.xml</code> package.</p>\n<p>In my case, I edited my <code>.classpath</code> file and removed the following jars and it resolved the issue:</p>\n<pre><code>jtidy.jar, castor-0.9.5.4-xml.jar, xercesImpl.jar, xml-apis.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2987615,"reputation":1799,"user_id":2535987,"accept_rate":67,"display_name":"Monish Sen"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1632862371,"creation_date":1632862371,"answer_id":69368351,"question_id":57286825,"body_markdown":"In my case, culprit was Apache POI library. Added exclusion as below\r\n\r\n    &lt;!-- Apache POI Library for Parsing Excel Sheets --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;","title":"The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml","body":"<p>In my case, culprit was Apache POI library. Added exclusion as below</p>\n<pre><code>&lt;!-- Apache POI Library for Parsing Excel Sheets --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\n                &lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4394469,"reputation":3058,"user_id":3585768,"accept_rate":80,"display_name":"Jonathan Benn"},"score":0,"creation_date":1690467381,"post_id":71070040,"comment_id":135360609,"body_markdown":"How can you run this when the code won&#39;t compile?","body":"How can you run this when the code won&#39;t compile?"}],"tags":[],"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644515854,"creation_date":1644515854,"answer_id":71070040,"question_id":57286825,"body_markdown":"You can use this code (for example in a unit test) to determine all JARs that contain a class:\r\n\r\n    getClass().getClassLoader().getResources(&quot;org/w3c/dom/NodeList.class&quot;);\r\n\r\nThis gives you an `Enumeration`. The easiest way to print this is:\r\n\r\n    Collections.list(e).forEach(System.out::println);","title":"The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml","body":"<p>You can use this code (for example in a unit test) to determine all JARs that contain a class:</p>\n<pre><code>getClass().getClassLoader().getResources(&quot;org/w3c/dom/NodeList.class&quot;);\n</code></pre>\n<p>This gives you an <code>Enumeration</code>. The easiest way to print this is:</p>\n<pre><code>Collections.list(e).forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17594,"reputation":3216,"user_id":39531,"accept_rate":50,"display_name":"jevon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649201997,"creation_date":1649201997,"answer_id":71759583,"question_id":57286825,"body_markdown":"In a Gradle land, you can track down which dependencies are contributing to `xml-api`s by running:\r\n\r\n```\r\ngradlew -q dependencies\r\n```\r\n\r\n(or `core:dependencies` for the `core` project in a multi-project environment).\r\n\r\nIn my case, `xml-apis` was being requested by both `net.sourceforge.htmlunit` and `xom`, so the solution is to exclude `xml-apis` in your `build.gradle` as so:\r\n\r\n```gradle\r\ndependencies {\r\n  implementation(&quot;net.sourceforge.htmlunit:neko-htmlunit:$nekoHtmlUnitVersion&quot;) {\r\n    exclude group: &quot;xml-apis&quot;\r\n  }\r\n  testImplementation(&quot;xom:xom:$xomVersion&quot;) {\r\n    exclude group: &quot;xml-apis&quot;\r\n  }\r\n  // ...other dependencies\r\n}\r\n```","title":"The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml","body":"<p>In a Gradle land, you can track down which dependencies are contributing to <code>xml-api</code>s by running:</p>\n<pre><code>gradlew -q dependencies\n</code></pre>\n<p>(or <code>core:dependencies</code> for the <code>core</code> project in a multi-project environment).</p>\n<p>In my case, <code>xml-apis</code> was being requested by both <code>net.sourceforge.htmlunit</code> and <code>xom</code>, so the solution is to exclude <code>xml-apis</code> in your <code>build.gradle</code> as so:</p>\n<pre><code>dependencies {\n  implementation(&quot;net.sourceforge.htmlunit:neko-htmlunit:$nekoHtmlUnitVersion&quot;) {\n    exclude group: &quot;xml-apis&quot;\n  }\n  testImplementation(&quot;xom:xom:$xomVersion&quot;) {\n    exclude group: &quot;xml-apis&quot;\n  }\n  // ...other dependencies\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2089365,"reputation":406,"user_id":1859539,"display_name":"Jukka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660898035,"creation_date":1660898035,"answer_id":73413961,"question_id":57286825,"body_markdown":"Sometimes even when you have removed duplicate classes the same error &quot;The package **org.w3c.dom** is accessible from more than one module&quot; may remain, especially with IDEs.\r\n\r\n**IT IS NOT always enought to find only org.w3c.dom**!!!! You may need to remove duplicate classes which share the same parent package org.w3c.xxx, for example org.w3c.css\r\n\r\nWe managed to fix it like this:\r\n- In IDE search classes starting with: org.w3c\r\n- Add pom.xml exclusions or increase library version, since org.w3c has been removed in some newer lib versions\r\n- Test compile in both IDE and command line \r\n\r\nIf the issue persists:\r\n- Export all dependencies to file: mvn dependency:copy-dependencies -DincludeScope=test -DoutputDirectory=deps\r\n- From jar-files find any classes of org.w3c\r\n- Keep adjusting pom.xml","title":"The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml","body":"<p>Sometimes even when you have removed duplicate classes the same error &quot;The package <strong>org.w3c.dom</strong> is accessible from more than one module&quot; may remain, especially with IDEs.</p>\n<p><strong>IT IS NOT always enought to find only org.w3c.dom</strong>!!!! You may need to remove duplicate classes which share the same parent package org.w3c.xxx, for example org.w3c.css</p>\n<p>We managed to fix it like this:</p>\n<ul>\n<li>In IDE search classes starting with: org.w3c</li>\n<li>Add pom.xml exclusions or increase library version, since org.w3c has been removed in some newer lib versions</li>\n<li>Test compile in both IDE and command line</li>\n</ul>\n<p>If the issue persists:</p>\n<ul>\n<li>Export all dependencies to file: mvn dependency:copy-dependencies -DincludeScope=test -DoutputDirectory=deps</li>\n<li>From jar-files find any classes of org.w3c</li>\n<li>Keep adjusting pom.xml</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":24500340,"reputation":7,"user_id":18416027,"display_name":"lalit dhend"},"score":0,"creation_date":1677927379,"post_id":75628407,"comment_id":133436457,"body_markdown":"above code is just fix my issue but due to above the changes create new issue like testsuite not working. so its fix solution is found is to increase verison of poi-ooxml to 3.17. It fix my all issues.","body":"above code is just fix my issue but due to above the changes create new issue like testsuite not working. so its fix solution is found is to increase verison of poi-ooxml to 3.17. It fix my all issues."}],"tags":[],"owner":{"account_id":24500340,"reputation":7,"user_id":18416027,"display_name":"lalit dhend"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677854184,"creation_date":1677854184,"answer_id":75628407,"question_id":57286825,"body_markdown":"I am getting an error when I add the class DocumentBuilderFactory to my maven project. After investing many hours I get a fixed solution that is related to maven dependency.\r\n\r\nI see the same javax.xml is present in the many jar file. so I make it exclude. \r\n\r\nfor exclude the jar file from maven dependency ---&gt;\r\n\r\n 1. right click on jar file \r\n 2. click on maven \r\n 3. use see the open exclude click on that,it gets exculde. \r\n\r\ncheck-in your pom.xml file.\r\nsee my below code for your ref.\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.10-FINAL&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;dom4j&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;stax&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;stax-api&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n","title":"The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml","body":"<p>I am getting an error when I add the class DocumentBuilderFactory to my maven project. After investing many hours I get a fixed solution that is related to maven dependency.</p>\n<p>I see the same javax.xml is present in the many jar file. so I make it exclude.</p>\n<p>for exclude the jar file from maven dependency ---&gt;</p>\n<ol>\n<li>right click on jar file</li>\n<li>click on maven</li>\n<li>use see the open exclude click on that,it gets exculde.</li>\n</ol>\n<p>check-in your pom.xml file.\nsee my below code for your ref.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;3.10-FINAL&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n                &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;dom4j&lt;/groupId&gt;\n                &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;stax&lt;/groupId&gt;\n                &lt;artifactId&gt;stax-api&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\n                &lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3130790,"reputation":11,"user_id":2648626,"display_name":"Parag"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685618025,"creation_date":1685618025,"answer_id":76381290,"question_id":57286825,"body_markdown":"For me the issue was with dom4j.2.1.3 dependency. I replaced it with latest dom4j dependency\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.dom4j&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.4&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nAlso, made some changes in code to remove org.w3c.dom dependency of jdk11 and replace below methods like\r\n\r\n*Document doc = dBuilder.parse(inputFile);* ===&gt; **Document doc = reader.read(inputFile);**\r\n\r\n*doc.getDocumentElement().normalize();* ===&gt; **doc.getDocument().normalize();**\r\n\r\n*NodeList nList = doc.getElementsByTag(&quot;STOCKITEM&quot;)* ===&gt; **List&lt;Node&gt; nList = doc.selectNodes(&quot;STOCKITEM&quot;);**\r\n\r\n*String closingQty = eElement .getElementsByTagName(&quot;CLOSINGQTY&quot;) .item(0).getTextContent();* ===&gt; **String closingQty = eElement.selectSingleNode(&quot;CLOSINGQTY&quot;).getText();**","title":"The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml","body":"<p>For me the issue was with dom4j.2.1.3 dependency. I replaced it with latest dom4j dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.dom4j&lt;/groupId&gt;\n    &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n    &lt;version&gt;2.1.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also, made some changes in code to remove org.w3c.dom dependency of jdk11 and replace below methods like</p>\n<p><em>Document doc = dBuilder.parse(inputFile);</em> ===&gt; <strong>Document doc = reader.read(inputFile);</strong></p>\n<p><em>doc.getDocumentElement().normalize();</em> ===&gt; <strong>doc.getDocument().normalize();</strong></p>\n<p><em>NodeList nList = doc.getElementsByTag(&quot;STOCKITEM&quot;)</em> ===&gt; <strong>List nList = doc.selectNodes(&quot;STOCKITEM&quot;);</strong></p>\n<p><em>String closingQty = eElement .getElementsByTagName(&quot;CLOSINGQTY&quot;) .item(0).getTextContent();</em> ===&gt; <strong>String closingQty = eElement.selectSingleNode(&quot;CLOSINGQTY&quot;).getText();</strong></p>\n"},{"comments":[{"owner":{"account_id":4114115,"reputation":307,"user_id":5095483,"display_name":"Deepa Dhanalakota"},"score":0,"creation_date":1691790452,"post_id":76754681,"comment_id":135544304,"body_markdown":"This resolved my issue. Thanks!","body":"This resolved my issue. Thanks!"}],"tags":[],"owner":{"account_id":6479282,"reputation":41,"user_id":5016887,"display_name":"mgrecol"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690202992,"creation_date":1690202992,"answer_id":76754681,"question_id":57286825,"body_markdown":"For me the issue was:\r\n \r\n\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.monitorjbl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xlsx-streamer&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis package had a dependency on xml-api&#39;s.\r\n\r\nI added this exclusion:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.monitorjbl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xlsx-streamer&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.0&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n                &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;","title":"The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml","body":"<p>For me the issue was:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.monitorjbl&lt;/groupId&gt;\n        &lt;artifactId&gt;xlsx-streamer&lt;/artifactId&gt;\n        &lt;version&gt;2.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This package had a dependency on xml-api's.</p>\n<p>I added this exclusion:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.monitorjbl&lt;/groupId&gt;\n        &lt;artifactId&gt;xlsx-streamer&lt;/artifactId&gt;\n        &lt;version&gt;2.2.0&lt;/version&gt;\n        &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n            &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2248953,"reputation":2149,"user_id":1981644,"display_name":"Ullas Hunka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697522866,"creation_date":1697347107,"answer_id":77295386,"question_id":57286825,"body_markdown":"If you are using Xerces with Java 11+, then please exclude XML-API from the dependency and use the Java Internal org.w3c package.\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;xerces&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n\t\t\t\t&lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\r\n\t\t&lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThe problem was the conflict between two packages available within JRE and dependency.\r\n\r\nIf anyone has this problem with any other class, &quot;The package xxx.xxxx.xxx is accessible from more than one module: &lt;unnamed&gt;, xxx.xxx&quot; error message in Eclipse\r\n\r\nThen the debugging process is the same: try searching for the dependency that has conflicts and remove it.","title":"The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml","body":"<p>If you are using Xerces with Java 11+, then please exclude XML-API from the dependency and use the Java Internal org.w3c package.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;xerces&lt;/groupId&gt;\n    &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n            &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The problem was the conflict between two packages available within JRE and dependency.</p>\n<p>If anyone has this problem with any other class, &quot;The package xxx.xxxx.xxx is accessible from more than one module: , xxx.xxx&quot; error message in Eclipse</p>\n<p>Then the debugging process is the same: try searching for the dependency that has conflicts and remove it.</p>\n"}],"owner":{"account_id":13218782,"reputation":649,"user_id":9546338,"display_name":"poovaraj"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86338,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"answer_count":18,"score":52,"last_activity_date":1697522866,"creation_date":1564563238,"question_id":57286825,"body_markdown":"I am unable to import `org.w3c.dom.NodeList` package to Eclipse. It is showing \r\n\r\n&gt; The package org.w3c.dom is accessible from more than one module: `&lt;unnamed&gt;`, java.xml&quot; error message in eclipse.\r\n\r\nPlease let me know how to fix this ?\r\n\r\n**Eclipse Version:**\r\n\r\nEclipse IDE for Enterprise Java Developers.\r\n\r\nVersion: 2019-06 (4.12.0)\r\n\r\nBuild id: 20190614-1200\r\n\r\n**Java version:**\r\n\r\njava version &quot;12.0.1&quot; 2019-04-16\r\n\r\nJava(TM) SE Runtime Environment (build 12.0.1+12)\r\n\r\nJava HotSpot(TM) 64-Bit Server VM (build 12.0.1+12, mixed mode, sharing)","title":"The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml","body":"<p>I am unable to import <code>org.w3c.dom.NodeList</code> package to Eclipse. It is showing </p>\n\n<blockquote>\n  <p>The package org.w3c.dom is accessible from more than one module: <code>&lt;unnamed&gt;</code>, java.xml\" error message in eclipse.</p>\n</blockquote>\n\n<p>Please let me know how to fix this ?</p>\n\n<p><strong>Eclipse Version:</strong></p>\n\n<p>Eclipse IDE for Enterprise Java Developers.</p>\n\n<p>Version: 2019-06 (4.12.0)</p>\n\n<p>Build id: 20190614-1200</p>\n\n<p><strong>Java version:</strong></p>\n\n<p>java version \"12.0.1\" 2019-04-16</p>\n\n<p>Java(TM) SE Runtime Environment (build 12.0.1+12)</p>\n\n<p>Java HotSpot(TM) 64-Bit Server VM (build 12.0.1+12, mixed mode, sharing)</p>\n"},{"tags":["java","compiler-errors"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1600349384,"post_id":63938809,"comment_id":113064437,"body_markdown":"The problem (and the solution) is described here: https://stackoverflow.com/questions/55571046/eclipse-is-confused-by-imports-accessible-from-more-than-one-module","body":"The problem (and the solution) is described here: <a href=\"https://stackoverflow.com/questions/55571046/eclipse-is-confused-by-imports-accessible-from-more-than-one-module\" title=\"eclipse is confused by imports accessible from more than one module\">stackoverflow.com/questions/55571046/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601300935,"creation_date":1601300935,"answer_id":64103518,"question_id":63938809,"body_markdown":"&gt; I tried so far to exclude javax.xml.stream for all dependencies within child\r\n&gt; `&lt;exclude&gt;javax.xml.stream&lt;/exclude&gt;` but with no success.\r\n\r\nNot sure how you did the exclusion? I would say it should be done in pom.xml. Similar to this:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;A_GROUP_ID&lt;/groupId&gt;\r\n        &lt;artifactId&gt;AN_ARTIFACT_ID&lt;/artifactId&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;javax.xml.stream&lt;/groupId&gt;\r\n                &lt;artifactId&gt;stax-api&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;","title":"The package javax.xml.stream is accessible from more than one module: &lt;unnamed&gt;, java.xml","body":"<blockquote>\n<p>I tried so far to exclude javax.xml.stream for all dependencies within child\n<code>&lt;exclude&gt;javax.xml.stream&lt;/exclude&gt;</code> but with no success.</p>\n</blockquote>\n<p>Not sure how you did the exclusion? I would say it should be done in pom.xml. Similar to this:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;A_GROUP_ID&lt;/groupId&gt;\n    &lt;artifactId&gt;AN_ARTIFACT_ID&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;javax.xml.stream&lt;/groupId&gt;\n            &lt;artifactId&gt;stax-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":15833778,"reputation":319,"user_id":11424259,"display_name":"janusz j"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9832,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1697522515,"creation_date":1600348362,"question_id":63938809,"body_markdown":"I have compilation error: `The package javax.xml.stream is accessible from more than one module: &lt;unnamed&gt;, java.xml`. Application with `maven install` build succesfully but it doesn&#39;t run as java application. \r\n\r\nCTRL + SHIFT + T shows me that `javax.xml.stream` package is a part of JDK-11 (Modulepath) and `stax-api` (Classpath). \r\n`stax-api` is a dependency of parent module which cannot be deleted. This problem occurs on Eclipse 2019-12, 2020-03, 2020-06 and IntelliJ and different versions of Java 11.\r\n\r\nI tried so far to exclude javax.xml.stream for all dependencies within child \r\n`&lt;exclude&gt;javax.xml.stream&lt;/exclude&gt;`\r\nbut with no success.\r\n\r\nHow can I resolve this issue? ","title":"The package javax.xml.stream is accessible from more than one module: &lt;unnamed&gt;, java.xml","body":"<p>I have compilation error: <code>The package javax.xml.stream is accessible from more than one module: &lt;unnamed&gt;, java.xml</code>. Application with <code>maven install</code> build succesfully but it doesn't run as java application.</p>\n<p>CTRL + SHIFT + T shows me that <code>javax.xml.stream</code> package is a part of JDK-11 (Modulepath) and <code>stax-api</code> (Classpath).\n<code>stax-api</code> is a dependency of parent module which cannot be deleted. This problem occurs on Eclipse 2019-12, 2020-03, 2020-06 and IntelliJ and different versions of Java 11.</p>\n<p>I tried so far to exclude javax.xml.stream for all dependencies within child\n<code>&lt;exclude&gt;javax.xml.stream&lt;/exclude&gt;</code>\nbut with no success.</p>\n<p>How can I resolve this issue?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":5,"creation_date":1412469632,"post_id":26198519,"comment_id":41081638,"body_markdown":"Why do you want to do this?","body":"Why do you want to do this?"},{"owner":{"account_id":3841568,"reputation":4593,"user_id":3184475,"accept_rate":80,"display_name":"Erran Morad"},"score":2,"creation_date":1412470195,"post_id":26198519,"comment_id":41081715,"body_markdown":"Yes, why do you want to do this ? Is this a homework problem or some random thing you wanted to try ?","body":"Yes, why do you want to do this ? Is this a homework problem or some random thing you wanted to try ?"},{"owner":{"account_id":5031725,"reputation":3511,"user_id":4041697,"accept_rate":50,"display_name":"Kulu Limpa"},"score":1,"creation_date":1412470685,"post_id":26198519,"comment_id":41081785,"body_markdown":"Well, your variable `i` is a local variable that is only available inside the loop and inside the thread that is exeuting the loop. However, are you sure you want your two threads to alternate in writing? You could achieve this by having one thread triggering the other and vice versa, but you&#39;ll basically make your program run sequentially. Alternatively, you could let your two threads write in no particular order, e.g., Thread1 writes 1, Thread1 writes 2, Thread2 writes 3, ... **Edit**: Sorry, actually your `i` isn&#39;t a local variable, but you&#39;d need to update it atomically.","body":"Well, your variable <code>i</code> is a local variable that is only available inside the loop and inside the thread that is exeuting the loop. However, are you sure you want your two threads to alternate in writing? You could achieve this by having one thread triggering the other and vice versa, but you&#39;ll basically make your program run sequentially. Alternatively, you could let your two threads write in no particular order, e.g., Thread1 writes 1, Thread1 writes 2, Thread2 writes 3, ... <b>Edit</b>: Sorry, actually your <code>i</code> isn&#39;t a local variable, but you&#39;d need to update it atomically."}],"answers":[{"comments":[{"owner":{"account_id":1701823,"reputation":46441,"user_id":3857942,"display_name":"Michael Petch"},"score":0,"creation_date":1412484320,"post_id":26198593,"comment_id":41083763,"body_markdown":"I agree. If Java 1.5+ is being targeted I&#39;d go with an `AtomicInteger`. You then get atomicity and you can use synchronization on that object and use notify and wait for signalling to keep the threads in lock step with one another (so that the output remains interlaced)","body":"I agree. If Java 1.5+ is being targeted I&#39;d go with an <code>AtomicInteger</code>. You then get atomicity and you can use synchronization on that object and use notify and wait for signalling to keep the threads in lock step with one another (so that the output remains interlaced)"}],"tags":[],"owner":{"account_id":1983312,"reputation":648,"user_id":1779327,"accept_rate":75,"display_name":"Benedikt B&#252;nz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412470501,"creation_date":1412470501,"answer_id":26198593,"question_id":26198519,"body_markdown":"First off you should read this http://www.oracle.com/technetwork/java/codeconventions-135099.html.\r\nSecondly the class member variables are not shared memory. You need to explicitly pass an object (such as the counter) to both objects, such that it becomes shared. However, this will still not be enough. The shared memory can be cached by the threads so you will have race-conditions. To solve this you will need to use a [Lock][1] or use an [AtomicInteger][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/locks/Lock.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicInteger.html","title":"Multi-threading program to print numbers from 1 to 50?","body":"<p>First off you should read this <a href=\"http://www.oracle.com/technetwork/java/codeconventions-135099.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/codeconventions-135099.html</a>.\nSecondly the class member variables are not shared memory. You need to explicitly pass an object (such as the counter) to both objects, such that it becomes shared. However, this will still not be enough. The shared memory can be cached by the threads so you will have race-conditions. To solve this you will need to use a <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/locks/Lock.html\" rel=\"nofollow\">Lock</a> or use an <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow\">AtomicInteger</a></p>\n"},{"tags":[],"owner":{"account_id":5031725,"reputation":3511,"user_id":4041697,"accept_rate":50,"display_name":"Kulu Limpa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412473917,"creation_date":1412473540,"answer_id":26198834,"question_id":26198519,"body_markdown":"It seems what you want to do is: \r\n\r\n * Write all numbers from 1 to 50 to `System.out`\r\n   * without any number being printed multiple times\r\n   * with the numbers being printed in order\r\n * Have this execution be done by two concurrent threads\r\n\r\nFirst, let&#39;s look at what is happening in your code: Each number is printed twice. The reason for this is that `i` is an instance variable of `me`, your `Thread`. So each `Thread` has its own `i`, i.e., they do not share the value. \r\n\r\nTo make the two threads share the same value, we need to pass the same value when constructing `me`. Now, doing so with the primitive `int` won&#39;t help us much, because by passing an `int` we are not passing a reference, hence the two threads will still work on independent memory locations. \r\n\r\nLet us define a new class, `Value` which holds the integer for us: (**Edit:** The same could also be achieved by passing an array `int[]`, which also holds the reference to the memory location of its content)\r\n\r\n    class Value{\r\n      int i = 1;\r\n    }\r\n\r\nNow, `main` can instantiate **one** object of type `Value` and pass the reference to it to both threads. This way, they can access the same memory location. \r\n\r\n    class Me extends Thread {\r\n      final Value v; \r\n      public Me(Value v){\r\n        this.v = v;\r\n      }\r\n      public void run(){\r\n        for(; v.i &lt; 50; v.i++){\r\n        // ...\r\n      }\r\n\r\n      public static void main(){\r\n        Value valueInstance = new Value(); \r\n        Me a = new Me(valueInstance); \r\n        Me b = new Me(valueInstance); \r\n      }\r\n    }\r\n\r\nNow `i` isn&#39;t printed twice each time. However, you&#39;ll notice that the behavior is still not as desired. This is because the operations are interleaved: `a` may read `i`, let&#39;s say, the value is 5. Next, `b` increments the value of `i`, and stores the new value. `i` is now 6. However, `a` did still read the old value, 5, and will print 5 again, even though `b` just printed 5. \r\n\r\nTo solve this, we must **lock** the instance `v`, i.e., the object of type `Value`. Java provides the keyword `synchronized`, which will hold a lock during the execution of all code inside the `synchronized` block. However, if you simply put synchronize in your method, you still won&#39;t get what you desire. Assuming you write: \r\n\r\n    public void run(){ synchronized(v) {\r\n      for(; v.i &lt; 50; v.i++) {\r\n      // ...\r\n    }}\r\n\r\nYour first thread will acquire the lock, but never release it until the entire loop has been executed (which is when `i` has the value 50). Hence, you must release the lock somehow when it is safe to do so. Well... the only code in your `run` method that does not depend on `i` (and hence does not need to be locking) is `sleep`, which luckily also is where the thread spends the most time in. \r\n\r\nSince everything is in the loop body, a simple `synchronized` block won&#39;t do. We can use `Semaphore` to acquire a lock. So, we create a `Semaphore` instance in the `main` method, and, similar to `v`, pass it to both threads. We can then acquire and release the lock on the `Semaphore` to let both threads have the chance to get the resource, while guaranteeing safety. \r\n\r\nHere&#39;s the code that will do the trick: \r\n\r\n    public class Me extends Thread {\r\n        public int name;\r\n        final Value v;\r\n        final Semaphore lock;\r\n    \r\n        public Me(Value v, Semaphore lock) {\r\n            this.v = v;\r\n            this.lock = lock;\r\n        }\r\n    \r\n        public void run() {\r\n            try {\r\n                lock.acquire();\r\n                while (v.i &lt;= 50) {\r\n                    System.out.println(&quot;Thread&quot; + name + &quot; : &quot; + v.i);\r\n                    v.i++;\r\n                    lock.release();\r\n                    sleep(100);\r\n                    lock.acquire();\r\n                }\r\n                lock.release();\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;some problem&quot;);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Value v = new Value();\r\n            Semaphore lock = new Semaphore(1);\r\n            Me a = new Me(v, lock);\r\n            Me b = new Me(v, lock);\r\n            a.name = 1;\r\n            b.name = 2;\r\n            a.start();\r\n            b.start();\r\n        }\r\n    \r\n        static class Value {\r\n            int i = 1;\r\n        }\r\n    }\r\n\r\nNote: Since we are acquiring the lock at the end of the loop, we must also release it after the loop, or the resource will never be freed. Also, I changed the `for`-loop to a `while` loop, because we need to update `i` before releasing the lock for the first time, or the other thread can again read the same value. ","title":"Multi-threading program to print numbers from 1 to 50?","body":"<p>It seems what you want to do is: </p>\n\n<ul>\n<li>Write all numbers from 1 to 50 to <code>System.out</code>\n<ul>\n<li>without any number being printed multiple times</li>\n<li>with the numbers being printed in order</li>\n</ul></li>\n<li>Have this execution be done by two concurrent threads</li>\n</ul>\n\n<p>First, let's look at what is happening in your code: Each number is printed twice. The reason for this is that <code>i</code> is an instance variable of <code>me</code>, your <code>Thread</code>. So each <code>Thread</code> has its own <code>i</code>, i.e., they do not share the value. </p>\n\n<p>To make the two threads share the same value, we need to pass the same value when constructing <code>me</code>. Now, doing so with the primitive <code>int</code> won't help us much, because by passing an <code>int</code> we are not passing a reference, hence the two threads will still work on independent memory locations. </p>\n\n<p>Let us define a new class, <code>Value</code> which holds the integer for us: (<strong>Edit:</strong> The same could also be achieved by passing an array <code>int[]</code>, which also holds the reference to the memory location of its content)</p>\n\n<pre><code>class Value{\n  int i = 1;\n}\n</code></pre>\n\n<p>Now, <code>main</code> can instantiate <strong>one</strong> object of type <code>Value</code> and pass the reference to it to both threads. This way, they can access the same memory location. </p>\n\n<pre><code>class Me extends Thread {\n  final Value v; \n  public Me(Value v){\n    this.v = v;\n  }\n  public void run(){\n    for(; v.i &lt; 50; v.i++){\n    // ...\n  }\n\n  public static void main(){\n    Value valueInstance = new Value(); \n    Me a = new Me(valueInstance); \n    Me b = new Me(valueInstance); \n  }\n}\n</code></pre>\n\n<p>Now <code>i</code> isn't printed twice each time. However, you'll notice that the behavior is still not as desired. This is because the operations are interleaved: <code>a</code> may read <code>i</code>, let's say, the value is 5. Next, <code>b</code> increments the value of <code>i</code>, and stores the new value. <code>i</code> is now 6. However, <code>a</code> did still read the old value, 5, and will print 5 again, even though <code>b</code> just printed 5. </p>\n\n<p>To solve this, we must <strong>lock</strong> the instance <code>v</code>, i.e., the object of type <code>Value</code>. Java provides the keyword <code>synchronized</code>, which will hold a lock during the execution of all code inside the <code>synchronized</code> block. However, if you simply put synchronize in your method, you still won't get what you desire. Assuming you write: </p>\n\n<pre><code>public void run(){ synchronized(v) {\n  for(; v.i &lt; 50; v.i++) {\n  // ...\n}}\n</code></pre>\n\n<p>Your first thread will acquire the lock, but never release it until the entire loop has been executed (which is when <code>i</code> has the value 50). Hence, you must release the lock somehow when it is safe to do so. Well... the only code in your <code>run</code> method that does not depend on <code>i</code> (and hence does not need to be locking) is <code>sleep</code>, which luckily also is where the thread spends the most time in. </p>\n\n<p>Since everything is in the loop body, a simple <code>synchronized</code> block won't do. We can use <code>Semaphore</code> to acquire a lock. So, we create a <code>Semaphore</code> instance in the <code>main</code> method, and, similar to <code>v</code>, pass it to both threads. We can then acquire and release the lock on the <code>Semaphore</code> to let both threads have the chance to get the resource, while guaranteeing safety. </p>\n\n<p>Here's the code that will do the trick: </p>\n\n<pre><code>public class Me extends Thread {\n    public int name;\n    final Value v;\n    final Semaphore lock;\n\n    public Me(Value v, Semaphore lock) {\n        this.v = v;\n        this.lock = lock;\n    }\n\n    public void run() {\n        try {\n            lock.acquire();\n            while (v.i &lt;= 50) {\n                System.out.println(\"Thread\" + name + \" : \" + v.i);\n                v.i++;\n                lock.release();\n                sleep(100);\n                lock.acquire();\n            }\n            lock.release();\n        } catch (Exception e) {\n            System.out.println(\"some problem\");\n        }\n    }\n\n    public static void main(String[] args) {\n        Value v = new Value();\n        Semaphore lock = new Semaphore(1);\n        Me a = new Me(v, lock);\n        Me b = new Me(v, lock);\n        a.name = 1;\n        b.name = 2;\n        a.start();\n        b.start();\n    }\n\n    static class Value {\n        int i = 1;\n    }\n}\n</code></pre>\n\n<p>Note: Since we are acquiring the lock at the end of the loop, we must also release it after the loop, or the resource will never be freed. Also, I changed the <code>for</code>-loop to a <code>while</code> loop, because we need to update <code>i</code> before releasing the lock for the first time, or the other thread can again read the same value. </p>\n"},{"comments":[{"owner":{"account_id":5277236,"reputation":8320,"user_id":4213662,"accept_rate":80,"display_name":"Persixty"},"score":1,"creation_date":1498836907,"post_id":44849708,"comment_id":76680849,"body_markdown":"There are a number of problems with this if only because the first thread to acquire the lock never surrenders it. That&#39;s bad enough but it then waits on being notified which will never complete because the notifying thread (if not the main thread never relinquishes the lock. Fixing that still won&#39;t do because there is absolutely no guarantee that threads will be called round-robin as the question asks.","body":"There are a number of problems with this if only because the first thread to acquire the lock never surrenders it. That&#39;s bad enough but it then waits on being notified which will never complete because the notifying thread (if not the main thread never relinquishes the lock. Fixing that still won&#39;t do because there is absolutely no guarantee that threads will be called round-robin as the question asks."},{"owner":{"account_id":1014342,"reputation":2352,"user_id":3300205,"display_name":"avojak"},"score":1,"creation_date":1498838395,"post_id":44849708,"comment_id":76681895,"body_markdown":"Please avoid posting link-only answers. You should summarize relevant parts of the article that you&#39;ve included so that your answer by itself is sufficient to answer the question. This helps to ensure that answers are still useful even if the link becomes dead at some point in the future.","body":"Please avoid posting link-only answers. You should summarize relevant parts of the article that you&#39;ve included so that your answer by itself is sufficient to answer the question. This helps to ensure that answers are still useful even if the link becomes dead at some point in the future."}],"tags":[],"owner":{"account_id":11229469,"reputation":1,"user_id":8238042,"display_name":"Arhaan"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1498835610,"creation_date":1498835610,"answer_id":44849708,"question_id":26198519,"body_markdown":"Check the below link for the solution. Using multiple threads we can print the numbers in ascending order\r\n\r\nhttp://cooltekhie.blogspot.in/2017/06/#987628206008590221","title":"Multi-threading program to print numbers from 1 to 50?","body":"<p>Check the below link for the solution. Using multiple threads we can print the numbers in ascending order</p>\n\n<p><a href=\"http://cooltekhie.blogspot.in/2017/06/#987628206008590221\" rel=\"nofollow noreferrer\">http://cooltekhie.blogspot.in/2017/06/#987628206008590221</a></p>\n"}],"owner":{"account_id":5128472,"reputation":11,"user_id":4109588,"display_name":"me784"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1697522515,"creation_date":1412469530,"question_id":26198519,"body_markdown":"im trying to write a program in which two threads are created and the output should be like 1st thread prints 1 and the next thread prints 2 ,1st thread again prints 3 and so on. im a beginner so pls help me clearly. i thought thread share the same memory so they will share the i variable and print accordingly. but in output i get like thread1: 1, thread2 : 1, thread1: 2, thread2 : 2 nd so on. pls help. here is my code\r\n\r\n    class me extends Thread\r\n    {\r\n\tpublic int name,i;\r\n\tpublic void run()\r\n\t{\r\n\t\tfor(i=1;i&lt;=50;i++)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Thread&quot; + name + &quot; : &quot; + i);\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tsleep(1000);\r\n\t\t\t}\r\n\t\t\tcatch(Exception e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;some problem&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    }\r\n    public class he\r\n    {\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tme a=new me();\r\n\t\tme b=new me();\r\n\t\ta.name=1;\r\n\t\tb.name=2;\r\n\t\ta.start();\r\n\t\tb.start();\r\n\t}\r\n    }\r\n","title":"Multi-threading program to print numbers from 1 to 50?","body":"<p>im trying to write a program in which two threads are created and the output should be like 1st thread prints 1 and the next thread prints 2 ,1st thread again prints 3 and so on. im a beginner so pls help me clearly. i thought thread share the same memory so they will share the i variable and print accordingly. but in output i get like thread1: 1, thread2 : 1, thread1: 2, thread2 : 2 nd so on. pls help. here is my code</p>\n\n<pre><code>class me extends Thread\n{\npublic int name,i;\npublic void run()\n{\n    for(i=1;i&lt;=50;i++)\n    {\n        System.out.println(\"Thread\" + name + \" : \" + i);\n        try\n        {\n            sleep(1000);\n        }\n        catch(Exception e)\n        {\n            System.out.println(\"some problem\");\n        }\n    }\n}\n}\npublic class he\n{\npublic static void main(String[] args)\n{\n    me a=new me();\n    me b=new me();\n    a.name=1;\n    b.name=2;\n    a.start();\n    b.start();\n}\n}\n</code></pre>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":450898,"reputation":15332,"user_id":846476,"accept_rate":86,"display_name":"RNJ"},"score":0,"creation_date":1350385196,"post_id":12913167,"comment_id":17493947,"body_markdown":"are you sure you want a table here?","body":"are you sure you want a table here?"},{"owner":{"account_id":1944254,"reputation":11,"user_id":1749754,"display_name":"user1749754"},"score":0,"creation_date":1350385344,"post_id":12913167,"comment_id":17494028,"body_markdown":"Table or not doesn&#39;t really matter. Just seemed to be an easy way to do it. What would be a better way of doing it?","body":"Table or not doesn&#39;t really matter. Just seemed to be an easy way to do it. What would be a better way of doing it?"},{"owner":{"account_id":1790949,"reputation":77601,"user_id":1631379,"accept_rate":80,"display_name":"Maxim Shoustin"},"score":0,"creation_date":1350385726,"post_id":12913167,"comment_id":17494227,"body_markdown":"Did you change tableModel? Jtable here is only represents model data.","body":"Did you change tableModel? Jtable here is only represents model data."},{"owner":{"account_id":1944254,"reputation":11,"user_id":1749754,"display_name":"user1749754"},"score":0,"creation_date":1350388427,"post_id":12913167,"comment_id":17495538,"body_markdown":"Nope, didn&#39;t change tableModel.","body":"Nope, didn&#39;t change tableModel."}],"answers":[{"comments":[{"owner":{"account_id":1944254,"reputation":11,"user_id":1749754,"display_name":"user1749754"},"score":0,"creation_date":1350388456,"post_id":12913702,"comment_id":17495549,"body_markdown":"Changing int rows to 2 only makes it possible to show 2 rows at a time. Gonna check row header out later, thanks :)","body":"Changing int rows to 2 only makes it possible to show 2 rows at a time. Gonna check row header out later, thanks :)"}],"tags":[],"owner":{"account_id":1421913,"reputation":11238,"user_id":1346369,"accept_rate":57,"display_name":"vels4j"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350386878,"creation_date":1350386878,"answer_id":12913702,"question_id":12913167,"body_markdown":"From the above you specify row count to get single row in a table\r\n    \r\n     final int rows = 2;\r\n\r\nAlternatively you could try with table with Row header. Here is a sample\r\nhttp://www.java2s.com/Code/Java/Swing-Components/TableRowHeaderExample.htm","title":"Limit rows shown in JTable + Next/Previous button","body":"<p>From the above you specify row count to get single row in a table</p>\n\n<pre><code> final int rows = 2;\n</code></pre>\n\n<p>Alternatively you could try with table with Row header. Here is a sample\n<a href=\"http://www.java2s.com/Code/Java/Swing-Components/TableRowHeaderExample.htm\" rel=\"nofollow\">http://www.java2s.com/Code/Java/Swing-Components/TableRowHeaderExample.htm</a></p>\n"}],"owner":{"account_id":1944254,"reputation":11,"user_id":1749754,"display_name":"user1749754"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9848,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697522515,"creation_date":1350385050,"question_id":12913167,"body_markdown":"I&#39;m trying to create a JTable that&#39;s only showing one row at the time. When you press Next/Previous, the table will display either the next or the previous row, depending on the button pressed. If there is no Next/Previous, the JTable shall display the first/last element.\r\n\r\nCode for only showing one row at a time:\r\n\r\n\r\n    tableModel = new DefaultTableModel(data, columnNames);\r\n    tableModel.setRowCount(0); //If I remove this, the things I add ends up att the 2nd line.\r\n    tableModel.addTableModelListener(resultTable);\r\n\tresultTable = new JTable(tableModel);\r\n\tscroll = new JScrollPane(resultTable, JScrollPane.VERTICAL_SCROLLBAR_NEVER, JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\r\n    \r\n\tfinal int rows = 1;\r\n\tDimension d = resultTable.getPreferredSize();\r\n    resultTable.setPreferredSize(new Dimension(d.width,resultTable.getRowHeight()*rows));\r\n\r\nCode for Next-button (Not working, what do to? Shows the same element as before):\r\n\r\n    int height = resultTable.getRowHeight()*(rows-1);\r\n    JScrollBar bar = scroll.getVerticalScrollBar();\r\n    bar.setValue( bar.getValue()+height);\r\n\r\nCode for Previous-button (Not working, same as above, nothing happens/changes.)\r\n\r\n    int height = resultTable.getRowHeight()*(rows-1);\r\n    JScrollBar bar = scroll.getVerticalScrollBar();\r\n    bar.setValue(bar.getValue()-height);\r\n\r\nWhat do to? Some help would be greatly appreciated. Been trying to solve this forever.\r\n\r\nEdit: Trying to follow the code from here: https://stackoverflow.com/questions/6175139/jtable-row-limitation but can&#39;t get it to work.. Though I only want to show 1 row, not 10.\r\n\r\n\r\n\r\n","title":"Limit rows shown in JTable + Next/Previous button","body":"<p>I'm trying to create a JTable that's only showing one row at the time. When you press Next/Previous, the table will display either the next or the previous row, depending on the button pressed. If there is no Next/Previous, the JTable shall display the first/last element.</p>\n\n<p>Code for only showing one row at a time:</p>\n\n<pre><code>tableModel = new DefaultTableModel(data, columnNames);\ntableModel.setRowCount(0); //If I remove this, the things I add ends up att the 2nd line.\ntableModel.addTableModelListener(resultTable);\nresultTable = new JTable(tableModel);\nscroll = new JScrollPane(resultTable, JScrollPane.VERTICAL_SCROLLBAR_NEVER, JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n\nfinal int rows = 1;\nDimension d = resultTable.getPreferredSize();\nresultTable.setPreferredSize(new Dimension(d.width,resultTable.getRowHeight()*rows));\n</code></pre>\n\n<p>Code for Next-button (Not working, what do to? Shows the same element as before):</p>\n\n<pre><code>int height = resultTable.getRowHeight()*(rows-1);\nJScrollBar bar = scroll.getVerticalScrollBar();\nbar.setValue( bar.getValue()+height);\n</code></pre>\n\n<p>Code for Previous-button (Not working, same as above, nothing happens/changes.)</p>\n\n<pre><code>int height = resultTable.getRowHeight()*(rows-1);\nJScrollBar bar = scroll.getVerticalScrollBar();\nbar.setValue(bar.getValue()-height);\n</code></pre>\n\n<p>What do to? Some help would be greatly appreciated. Been trying to solve this forever.</p>\n\n<p>Edit: Trying to follow the code from here: <a href=\"https://stackoverflow.com/questions/6175139/jtable-row-limitation\">JTable row limitation</a> but can't get it to work.. Though I only want to show 1 row, not 10.</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"answers":[{"comments":[{"owner":{"account_id":24070389,"reputation":1,"user_id":18046391,"display_name":"Kelvin Huynh"},"score":0,"creation_date":1697597458,"post_id":77306161,"comment_id":136298593,"body_markdown":"I tried using the @Transactional annotation on the run method in CommandLineRunner, When I run the application with this annotation, The error message points to an issue that seems to be unrelated to the transaction. So I think it could be related to how my entities are managed or persisted","body":"I tried using the @Transactional annotation on the run method in CommandLineRunner, When I run the application with this annotation, The error message points to an issue that seems to be unrelated to the transaction. So I think it could be related to how my entities are managed or persisted"}],"tags":[],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697516307,"creation_date":1697516307,"answer_id":77306161,"question_id":77305942,"body_markdown":"If you use CommandLineRunner, you should annotate run method with @Transactional. From VN with love","title":"Spring Boot Hibernate Error: Detached Entity Passed to Persist - anyone know how to Solve It?","body":"<p>If you use CommandLineRunner, you should annotate run method with @Transactional. From VN with love</p>\n"},{"comments":[{"owner":{"account_id":24070389,"reputation":1,"user_id":18046391,"display_name":"Kelvin Huynh"},"score":0,"creation_date":1697597246,"post_id":77306453,"comment_id":136298575,"body_markdown":"Thank you, I think you right, and ya I can fixed the issue after that\n\nIn my service class, I was indeed trying to set the user to the account with account.setUser(user). However, I had not explicitly saved the user to the database before associating it with the account. This resulted in a &quot;detached entity passed to persist&quot; error.\nTo resolve this issue, I added userRepository.save(user) before creating the account, ensuring that the User entity is properly saved in the database and isn&#39;t in a detached state when associated with the Account entity.","body":"Thank you, I think you right, and ya I can fixed the issue after that  In my service class, I was indeed trying to set the user to the account with account.setUser(user). However, I had not explicitly saved the user to the database before associating it with the account. This resulted in a &quot;detached entity passed to persist&quot; error. To resolve this issue, I added userRepository.save(user) before creating the account, ensuring that the User entity is properly saved in the database and isn&#39;t in a detached state when associated with the Account entity."},{"owner":{"account_id":28585246,"reputation":36,"user_id":21885617,"display_name":"krishna.nitheesh"},"score":0,"creation_date":1697601235,"post_id":77306453,"comment_id":136298857,"body_markdown":"Glad it helped you kelvin, can you please upvote my answer?","body":"Glad it helped you kelvin, can you please upvote my answer?"},{"owner":{"account_id":24070389,"reputation":1,"user_id":18046391,"display_name":"Kelvin Huynh"},"score":0,"creation_date":1697612068,"post_id":77306453,"comment_id":136300030,"body_markdown":"ya of course, thank you so much","body":"ya of course, thank you so much"}],"tags":[],"owner":{"account_id":28585246,"reputation":36,"user_id":21885617,"display_name":"krishna.nitheesh"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697522139,"creation_date":1697522139,"answer_id":77306453,"question_id":77305942,"body_markdown":"I have answered a similar question which is attached below. Here account entity has a unidirectional Many to one relationship with the User entity which according to me will work better the other way around, in the service class we are setting the user to account with setUser() but please make sure that the User you are setting is saved in the table by userRepository.save(user);\r\n\r\nhttps://stackoverflow.com/questions/77297461/how-to-fix-detached-entity-passed-to-persist-thrown-by-jpa-and-hibernate/77297490#77297490","title":"Spring Boot Hibernate Error: Detached Entity Passed to Persist - anyone know how to Solve It?","body":"<p>I have answered a similar question which is attached below. Here account entity has a unidirectional Many to one relationship with the User entity which according to me will work better the other way around, in the service class we are setting the user to account with setUser() but please make sure that the User you are setting is saved in the table by userRepository.save(user);</p>\n<p><a href=\"https://stackoverflow.com/questions/77297461/how-to-fix-detached-entity-passed-to-persist-thrown-by-jpa-and-hibernate/77297490#77297490\">How to fix detached entity passed to persist thrown by JPA and Hibernate</a></p>\n"}],"owner":{"account_id":24070389,"reputation":1,"user_id":18046391,"display_name":"Kelvin Huynh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697522139,"creation_date":1697511282,"question_id":77305942,"body_markdown":"I&#39;m currently working on a Spring Boot application where I have two entities, User and Account. The Account entity has a many-to-one relationship with User. Here&#39;s the basic structure of the entities:\r\n\r\n``` \r\n@Table(name = &quot;accounts&quot;)\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class Account {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String currency;\r\n    private Double balance = 0.00;\r\n    @Column(name = &quot;created_at&quot;)\r\n    private LocalDateTime createdAt = LocalDateTime.now();\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n}\r\n```\r\n\r\nIn my service class, I have a method to create an Account associated with a User. Here&#39;s the code snippet:\r\n\r\n```\r\n@Table(name = &quot;users&quot;)\r\n@Entity\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n}\r\n\r\n@Repository\r\npublic interface AccountRepository extends JpaRepository&lt;Account, Long&gt; {\r\n//    List&lt;Account&gt; findByUser(User user);\r\n}\r\n\r\n\r\n    public void createAccount(User user, String currency) {\r\n        Account account = new Account();\r\n        account.setCurrency(currency);\r\n        account.setUser(user);\r\n\r\n        accountRepository.save(account);\r\n    }\r\n```\r\n\r\nHowever, when I run my application, I encounter the following error:\r\n\r\n```\r\n2023-10-10T21:44:06.549+02:00 ERROR 9340 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:777) ~[spring-boot-3.1.4.jar:3.1.4]\r\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:758) ~[spring-boot-3.1.4.jar:3.1.4]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:322) ~[spring-boot-3.1.4.jar:3.1.4]\r\n    at pl.bartoszmech.BankApp.Application.main(Application.java:31) ~[classes/:na]\r\nCaused by: org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: pl.bartoszmech.BankApp.model.User\r\n```\r\n\r\nI know this error is related to trying to persist a detached entity, but I&#39;m not sure how to correctly associate the User with the Account and resolve this issue.\r\n\r\nCan someone please guide me on how to fix this issue and ensure that the User entity is properly associated with the Account entity when saving it in Spring Boot with Hibernate? Any insights or solutions would be greatly appreciated. Thank you!","title":"Spring Boot Hibernate Error: Detached Entity Passed to Persist - anyone know how to Solve It?","body":"<p>I'm currently working on a Spring Boot application where I have two entities, User and Account. The Account entity has a many-to-one relationship with User. Here's the basic structure of the entities:</p>\n<pre><code>@Table(name = &quot;accounts&quot;)\n@Entity\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Account {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String currency;\n    private Double balance = 0.00;\n    @Column(name = &quot;created_at&quot;)\n    private LocalDateTime createdAt = LocalDateTime.now();\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n}\n</code></pre>\n<p>In my service class, I have a method to create an Account associated with a User. Here's the code snippet:</p>\n<pre><code>@Table(name = &quot;users&quot;)\n@Entity\n@Getter\n@Setter\n@NoArgsConstructor\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n}\n\n@Repository\npublic interface AccountRepository extends JpaRepository&lt;Account, Long&gt; {\n//    List&lt;Account&gt; findByUser(User user);\n}\n\n\n    public void createAccount(User user, String currency) {\n        Account account = new Account();\n        account.setCurrency(currency);\n        account.setUser(user);\n\n        accountRepository.save(account);\n    }\n</code></pre>\n<p>However, when I run my application, I encounter the following error:</p>\n<pre><code>2023-10-10T21:44:06.549+02:00 ERROR 9340 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:777) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:758) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:322) ~[spring-boot-3.1.4.jar:3.1.4]\n    at pl.bartoszmech.BankApp.Application.main(Application.java:31) ~[classes/:na]\nCaused by: org.springframework.dao.InvalidDataAccessApiUsageException: detached entity passed to persist: pl.bartoszmech.BankApp.model.User\n</code></pre>\n<p>I know this error is related to trying to persist a detached entity, but I'm not sure how to correctly associate the User with the Account and resolve this issue.</p>\n<p>Can someone please guide me on how to fix this issue and ensure that the User entity is properly associated with the Account entity when saving it in Spring Boot with Hibernate? Any insights or solutions would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","openapi","quarkus"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1697435053,"post_id":77298280,"comment_id":136274567,"body_markdown":"https://docs.swagger.io/swagger-core/v2.0.6/apidocs/io/swagger/v3/oas/annotations/Parameter.html#ref--","body":"<a href=\"https://docs.swagger.io/swagger-core/v2.0.6/apidocs/io/swagger/v3/oas/annotations/Parameter.html#ref--\" rel=\"nofollow noreferrer\">docs.swagger.io/swagger-core/v2.0.6/apidocs/io/swagger/v3/oa&zwnj;&#8203;s/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1191136,"reputation":386,"user_id":1163897,"accept_rate":44,"display_name":"Krizs&#225;n Balazs"},"score":0,"creation_date":1697471636,"post_id":77301522,"comment_id":136281074,"body_markdown":"I already tried something similar. But in this solution I will have the $ref, but it will be in an array, and the first parameter will be model, but I&#39;d like to move all parameters to one model. I&#39;m not even sure it is possible. Maybe I should just add manually a @Schema value object somewhere in my code, and let my SDK generator know about the component.","body":"I already tried something similar. But in this solution I will have the $ref, but it will be in an array, and the first parameter will be model, but I&#39;d like to move all parameters to one model. I&#39;m not even sure it is possible. Maybe I should just add manually a @Schema value object somewhere in my code, and let my SDK generator know about the component."},{"owner":{"account_id":382847,"reputation":350,"user_id":738343,"display_name":"Michael Edgar"},"score":0,"creation_date":1702032810,"post_id":77301522,"comment_id":136850773,"body_markdown":"&gt; I&#39;d like to move all parameters to one model. I&#39;m not even sure it is possible\n\nIt&#39;s not possible, the parameter list in the OpenAPI spec will always be expanded. If you&#39;d like to have them in one model in your Java code, you can place them all in a POJO (with the JAX-RS annotations on each property) and pass that to your REST method annotated with `@BeanParam`.","body":"&gt; I&#39;d like to move all parameters to one model. I&#39;m not even sure it is possible  It&#39;s not possible, the parameter list in the OpenAPI spec will always be expanded. If you&#39;d like to have them in one model in your Java code, you can place them all in a POJO (with the JAX-RS annotations on each property) and pass that to your REST method annotated with <code>@BeanParam</code>."}],"tags":[],"owner":{"account_id":382847,"reputation":350,"user_id":738343,"display_name":"Michael Edgar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697455061,"creation_date":1697455061,"answer_id":77301522,"question_id":77298280,"body_markdown":"This can be accomplished by defining the parameter separately in the OpenAPI components and using the `ref` property of `@Parameter` on the JAX-RS REST parameter.\r\n\r\n```java\r\n@OpenAPIDefinition(\r\n    info = @Info(/* Required info properties */),\r\n    components = @Components(\r\n        parameters = {\r\n            @Parameter(\r\n                name = &quot;ids&quot;,\r\n                in = ParameterIn.QUERY,\r\n                schema = @Schema(implementation = String[].class)\r\n            )\r\n        }\r\n    )\r\n)\r\npublic class MyApplication extends Application {\r\n}\r\n```\r\n\r\nThe parameter definition above can then be referenced with `@Parameter(ref = &quot;ids&quot;)` on the REST operation&#39;s parameter. Using annotations to set the parameter in `components` limits you to using the same `name` for both the parameter and its key for the entry in `components`, in this example `ids`. If you require the name to be different from the entry&#39;s key, you can provide a static OpenAPI file at `/META-INF/openapi.yaml` or `/META-INF/openapi.json` with the parameter defined as you want it, then use `@Parameter(ref = &quot;your-custom-entry-key&quot;)`.","title":"Quarkus+OpenApi reuseable query parameters with $ref","body":"<p>This can be accomplished by defining the parameter separately in the OpenAPI components and using the <code>ref</code> property of <code>@Parameter</code> on the JAX-RS REST parameter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@OpenAPIDefinition(\n    info = @Info(/* Required info properties */),\n    components = @Components(\n        parameters = {\n            @Parameter(\n                name = &quot;ids&quot;,\n                in = ParameterIn.QUERY,\n                schema = @Schema(implementation = String[].class)\n            )\n        }\n    )\n)\npublic class MyApplication extends Application {\n}\n</code></pre>\n<p>The parameter definition above can then be referenced with <code>@Parameter(ref = &quot;ids&quot;)</code> on the REST operation's parameter. Using annotations to set the parameter in <code>components</code> limits you to using the same <code>name</code> for both the parameter and its key for the entry in <code>components</code>, in this example <code>ids</code>. If you require the name to be different from the entry's key, you can provide a static OpenAPI file at <code>/META-INF/openapi.yaml</code> or <code>/META-INF/openapi.json</code> with the parameter defined as you want it, then use <code>@Parameter(ref = &quot;your-custom-entry-key&quot;)</code>.</p>\n"},{"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697521301,"creation_date":1697521301,"answer_id":77306392,"question_id":77298280,"body_markdown":"As described in Quarkus [&quot;Using OpenAPI and Swagger UI&quot;][1] it is possibile to merge autogenerated openapi documentation with static files so the solution is to create a file named `META-INF/openapi.yaml` with this content:\r\n```\r\ncomponents:\r\n  parameters:\r\n    list-of-id:\r\n      in: query\r\n      name: ids\r\n      schema:\r\n        type: array\r\n        items:\r\n          type: string\r\n```\r\n(note that your file doesn&#39;t need to be a complete openapi files,only the parts you need to describe manually).\r\nThan access this ref using `@Parameter(ref = &quot;list-of-ids&quot;)`.\r\n\r\n  [1]: https://quarkus.io/guides/openapi-swaggerui#loading-openapi-schema-from-static-files","title":"Quarkus+OpenApi reuseable query parameters with $ref","body":"<p>As described in Quarkus <a href=\"https://quarkus.io/guides/openapi-swaggerui#loading-openapi-schema-from-static-files\" rel=\"nofollow noreferrer\">&quot;Using OpenAPI and Swagger UI&quot;</a> it is possibile to merge autogenerated openapi documentation with static files so the solution is to create a file named <code>META-INF/openapi.yaml</code> with this content:</p>\n<pre><code>components:\n  parameters:\n    list-of-id:\n      in: query\n      name: ids\n      schema:\n        type: array\n        items:\n          type: string\n</code></pre>\n<p>(note that your file doesn't need to be a complete openapi files,only the parts you need to describe manually).\nThan access this ref using <code>@Parameter(ref = &quot;list-of-ids&quot;)</code>.</p>\n"}],"owner":{"account_id":1191136,"reputation":386,"user_id":1163897,"accept_rate":44,"display_name":"Krizs&#225;n Balazs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697521301,"creation_date":1697399693,"question_id":77298280,"body_markdown":"**Quarkus v3.4.1**\r\n\r\n**OpenApi v3.0.3**\r\n\r\nI would like to have $ref with 1 model for query parameters.\r\n\r\nWhat I have now:\r\n\r\n      &quot;paths&quot; : {\r\n        &quot;/s3/upload&quot; : {\r\n          &quot;get&quot; : {\r\n            &quot;parameters&quot; : [ {\r\n              &quot;name&quot; : &quot;ids&quot;,\r\n              &quot;in&quot; : &quot;query&quot;,\r\n              &quot;schema&quot; : {\r\n                &quot;type&quot; : &quot;array&quot;,\r\n                &quot;items&quot; : {\r\n                  &quot;type&quot; : &quot;string&quot;\r\n                }\r\n              }\r\n            } ],\r\n            &quot;responses&quot; : ...\r\n            }\r\n          },\r\n\r\nWhat I need is something like this:\r\n\r\n      &quot;paths&quot; : {\r\n        &quot;/s3/upload&quot; : {\r\n          &quot;get&quot; : {\r\n            &quot;$ref&quot; : &quot;#/components/schemas/ParameterListValueObject&quot;,\r\n            &quot;responses&quot; : ...\r\n            }\r\n          },\r\n\r\nI tried so many versions with the annotations, but nothing was similar.","title":"Quarkus+OpenApi reuseable query parameters with $ref","body":"<p><strong>Quarkus v3.4.1</strong></p>\n<p><strong>OpenApi v3.0.3</strong></p>\n<p>I would like to have $ref with 1 model for query parameters.</p>\n<p>What I have now:</p>\n<pre><code>  &quot;paths&quot; : {\n    &quot;/s3/upload&quot; : {\n      &quot;get&quot; : {\n        &quot;parameters&quot; : [ {\n          &quot;name&quot; : &quot;ids&quot;,\n          &quot;in&quot; : &quot;query&quot;,\n          &quot;schema&quot; : {\n            &quot;type&quot; : &quot;array&quot;,\n            &quot;items&quot; : {\n              &quot;type&quot; : &quot;string&quot;\n            }\n          }\n        } ],\n        &quot;responses&quot; : ...\n        }\n      },\n</code></pre>\n<p>What I need is something like this:</p>\n<pre><code>  &quot;paths&quot; : {\n    &quot;/s3/upload&quot; : {\n      &quot;get&quot; : {\n        &quot;$ref&quot; : &quot;#/components/schemas/ParameterListValueObject&quot;,\n        &quot;responses&quot; : ...\n        }\n      },\n</code></pre>\n<p>I tried so many versions with the annotations, but nothing was similar.</p>\n"},{"tags":["java","oracle","oracle11g","drop-table"],"comments":[{"owner":{"account_id":779805,"reputation":4963,"user_id":836215,"display_name":"ibre5041"},"score":1,"creation_date":1432718485,"post_id":30478070,"comment_id":49035451,"body_markdown":"did you try `purge dba_recyclebin`? It looks like you&#39;re hitting some Oracle bug.","body":"did you try <code>purge dba_recyclebin</code>? It looks like you&#39;re hitting some Oracle bug."},{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1432718584,"post_id":30478070,"comment_id":49035534,"body_markdown":"It seems like I can not run `purge dba_recyclebin`.","body":"It seems like I can not run <code>purge dba_recyclebin</code>."},{"owner":{"account_id":9388,"reputation":10421,"user_id":17323,"accept_rate":59,"display_name":"Rene"},"score":0,"creation_date":1432718685,"post_id":30478070,"comment_id":49035606,"body_markdown":"purge recyclebin if you don&#39;t have DBA role","body":"purge recyclebin if you don&#39;t have DBA role"},{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1432718924,"post_id":30478070,"comment_id":49035791,"body_markdown":"That&#39;s what I tried and I mentioned on my post","body":"That&#39;s what I tried and I mentioned on my post"},{"owner":{"account_id":779805,"reputation":4963,"user_id":836215,"display_name":"ibre5041"},"score":0,"creation_date":1432719834,"post_id":30478070,"comment_id":49036512,"body_markdown":"When you do not have DBA privs. maybe you should contact your DBAs. Such a command should not fail. You can also try to set tracing on your session to see which recursive query was called from that purge command. There is quite high chance, that you will not be able to fix this without DBA privs.","body":"When you do not have DBA privs. maybe you should contact your DBAs. Such a command should not fail. You can also try to set tracing on your session to see which recursive query was called from that purge command. There is quite high chance, that you will not be able to fix this without DBA privs."},{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1432721289,"post_id":30478070,"comment_id":49037538,"body_markdown":"What does &quot;show recyclebin&quot; tell you? Did you perhaps try to (re-)drop a BIN$ table name? Which shouldn&#39;t be allowed, just trying to think how it could have got to an invalid state... You may need to raise a service request with Oracle.","body":"What does &quot;show recyclebin&quot; tell you? Did you perhaps try to (re-)drop a BIN$ table name? Which shouldn&#39;t be allowed, just trying to think how it could have got to an invalid state... You may need to raise a service request with Oracle."},{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1432721332,"post_id":30478070,"comment_id":49037577,"body_markdown":"You changed the question significantly - are you getting that error dropping a table (and if so a normal table or one that is already in the recyclebin), or when you try to purge?","body":"You changed the question significantly - are you getting that error dropping a table (and if so a normal table or one that is already in the recyclebin), or when you try to purge?"},{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1432721414,"post_id":30478070,"comment_id":49037633,"body_markdown":"I was getting error when I was trying to purge table. Now, when I tried to drop normal table. I got same error. So, I changed the question and made it in simple word.","body":"I was getting error when I was trying to purge table. Now, when I tried to drop normal table. I got same error. So, I changed the question and made it in simple word."},{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":1,"creation_date":1432721745,"post_id":30478070,"comment_id":49037839,"body_markdown":"But if the drop errors only started after the purge errors, they are probably related. *Did* you try to re-drop a BIN$ table before the issue began? You need to contact Oracle support anyway, I think, or at least your DBA who may be able to fix it or may have to contact support.","body":"But if the drop errors only started after the purge errors, they are probably related. <i>Did</i> you try to re-drop a BIN$ table before the issue began? You need to contact Oracle support anyway, I think, or at least your DBA who may be able to fix it or may have to contact support."}],"answers":[{"comments":[{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1432721745,"post_id":30479505,"comment_id":49037840,"body_markdown":"It is totally new user. I just created first object and trying to drop it.","body":"It is totally new user. I just created first object and trying to drop it."},{"owner":{"account_id":302544,"reputation":30455,"user_id":610979,"accept_rate":92,"display_name":"Frank Schmitt"},"score":0,"creation_date":1432726227,"post_id":30479505,"comment_id":49040902,"body_markdown":"If it&#39;s a trigger, it might have been created in another schema. But I agree with the other comments - you should definitely contact your DBA and - if necessary - Oracle support.","body":"If it&#39;s a trigger, it might have been created in another schema. But I agree with the other comments - you should definitely contact your DBA and - if necessary - Oracle support."}],"tags":[],"owner":{"account_id":302544,"reputation":30455,"user_id":610979,"accept_rate":92,"display_name":"Frank Schmitt"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432721645,"creation_date":1432721645,"answer_id":30479505,"question_id":30478070,"body_markdown":"One possible explanation is a database trigger that fires for each `DROP TABLE` statement. To find the trigger, query the `_TRIGGERS` dictionary views:\r\n\r\n    select * from all_triggers\r\n    where trigger_type in (&#39;AFTER EVENT&#39;, &#39;BEFORE EVENT&#39;)\r\n\r\ndisable any suspicious trigger with\r\n\r\n       alter trigger &lt;trigger_name&gt; disable;\r\n\r\nand try re-running your `DROP TABLE` statement","title":"How to solve : SQL Error: ORA-00604: error occurred at recursive SQL level 1","body":"<p>One possible explanation is a database trigger that fires for each <code>DROP TABLE</code> statement. To find the trigger, query the <code>_TRIGGERS</code> dictionary views:</p>\n\n<pre><code>select * from all_triggers\nwhere trigger_type in ('AFTER EVENT', 'BEFORE EVENT')\n</code></pre>\n\n<p>disable any suspicious trigger with</p>\n\n<pre><code>   alter trigger &lt;trigger_name&gt; disable;\n</code></pre>\n\n<p>and try re-running your <code>DROP TABLE</code> statement</p>\n"},{"comments":[{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1432799087,"post_id":30499310,"comment_id":49076723,"body_markdown":"You must have been SYS to modify dual, which is a really bad idea ([weird things can and will happen](https://asktom.oracle.com/pls/asktom/f?p=100:11:0::::P11_QUESTION_ID:1562813956388)), so odd you couldn&#39;t see the DBA recyclebin. Modifying anything directly in any built-in schema is dangerous.","body":"You must have been SYS to modify dual, which is a really bad idea (<a href=\"https://asktom.oracle.com/pls/asktom/f?p=100:11:0::::P11_QUESTION_ID:1562813956388\" rel=\"nofollow noreferrer\">weird things can and will happen</a>), so odd you couldn&#39;t see the DBA recyclebin. Modifying anything directly in any built-in schema is dangerous."},{"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"score":0,"creation_date":1432821998,"post_id":30499310,"comment_id":49093262,"body_markdown":"Correct. It can be dangerous if we play with `dual` table. But, right now, I didn&#39;t had any choice","body":"Correct. It can be dangerous if we play with <code>dual</code> table. But, right now, I didn&#39;t had any choice"}],"tags":[],"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1592502222,"creation_date":1432796326,"answer_id":30499310,"question_id":30478070,"body_markdown":"I noticed following line from error.\r\n\r\n    exact fetch returns more than requested number of rows\r\n\r\nThat means Oracle was expecting one row but It was getting multiple rows. And, only dual table has that characteristic, which returns only one row.\r\n\r\nLater I recall, I have done few changes in dual table and when I executed dual table. Then found multiple rows.\r\n\r\nSo, I truncated `dual` table and inserted only row which `X` value. And, everything working fine. ","title":"How to solve : SQL Error: ORA-00604: error occurred at recursive SQL level 1","body":"<p>I noticed following line from error.</p>\n\n<pre><code>exact fetch returns more than requested number of rows\n</code></pre>\n\n<p>That means Oracle was expecting one row but It was getting multiple rows. And, only dual table has that characteristic, which returns only one row.</p>\n\n<p>Later I recall, I have done few changes in dual table and when I executed dual table. Then found multiple rows.</p>\n\n<p>So, I truncated <code>dual</code> table and inserted only row which <code>X</code> value. And, everything working fine. </p>\n"},{"tags":[],"owner":{"account_id":26525242,"reputation":11,"user_id":20158337,"display_name":"Guillermo Alvarado"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664888081,"creation_date":1664887992,"answer_id":73948163,"question_id":30478070,"body_markdown":"I know the post is old and solved, but maybe someone is facing or will face my situation, so I want to leave the aquired knowledge here, after deal with the error for a week. I was facing the error: &quot;ORA-00604: error occurred at recursive SQL level 1&quot; , but with the internal error: &quot; ORA-06502: error: character string buffer too smal numeric or value&quot;, this happened only when I try to logon the database, and using an specific driver, trying to connect from an Visual Studio C# application, the weirdest thing on that moment was that I connect from SQLDeveloper or TOAD and everything worked fine.\r\nLater I discovered that my machine name had this format &quot;guillermo-aX474b5&quot;, then I proceed to rename it like this &quot;guillermo&quot; without the &quot;-&quot; and the other stuff, and it worked!! Looks like in some drivers and situations, ORACLE Database does&#39;nt like the &quot;-&quot; in the LogOn connection.\r\n\r\nHope it helps!","title":"How to solve : SQL Error: ORA-00604: error occurred at recursive SQL level 1","body":"<p>I know the post is old and solved, but maybe someone is facing or will face my situation, so I want to leave the aquired knowledge here, after deal with the error for a week. I was facing the error: &quot;ORA-00604: error occurred at recursive SQL level 1&quot; , but with the internal error: &quot; ORA-06502: error: character string buffer too smal numeric or value&quot;, this happened only when I try to logon the database, and using an specific driver, trying to connect from an Visual Studio C# application, the weirdest thing on that moment was that I connect from SQLDeveloper or TOAD and everything worked fine.\nLater I discovered that my machine name had this format &quot;guillermo-aX474b5&quot;, then I proceed to rename it like this &quot;guillermo&quot; without the &quot;-&quot; and the other stuff, and it worked!! Looks like in some drivers and situations, ORACLE Database does'nt like the &quot;-&quot; in the LogOn connection.</p>\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":2093262,"reputation":9491,"user_id":1862590,"display_name":"Sathiamoorthy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697521273,"creation_date":1697521273,"answer_id":77306388,"question_id":30478070,"body_markdown":"I have faced the same issue in the windows. \r\n\r\nSolved the issue by changing the regional format to `English(United States)`, maybe the solution bit weird but it worked.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uPpyH.png\r\n\r\n","title":"How to solve : SQL Error: ORA-00604: error occurred at recursive SQL level 1","body":"<p>I have faced the same issue in the windows.</p>\n<p>Solved the issue by changing the regional format to <code>English(United States)</code>, maybe the solution bit weird but it worked.</p>\n<p><a href=\"https://i.stack.imgur.com/uPpyH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uPpyH.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207718,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":30499310,"answer_count":4,"score":4,"last_activity_date":1697521287,"creation_date":1432718118,"question_id":30478070,"body_markdown":"When I&#39;m trying to drop table then I&#39;m getting error\r\n\r\n\r\n    SQL Error: ORA-00604: error occurred at recursive SQL level 2\r\n    ORA-01422: exact fetch returns more than requested number of rows\r\n    00604. 00000 -  &quot;error occurred at recursive SQL level %s&quot;\r\n    *Cause:    An error occurred while processing a recursive SQL statement\r\n               (a statement applying to internal dictionary tables).\r\n    *Action:   If the situation described in the next error on the stack\r\n               can be corrected, do so; otherwise contact Oracle Support.\r\n\r\n","title":"How to solve : SQL Error: ORA-00604: error occurred at recursive SQL level 1","body":"<p>When I'm trying to drop table then I'm getting error</p>\n\n<pre><code>SQL Error: ORA-00604: error occurred at recursive SQL level 2\nORA-01422: exact fetch returns more than requested number of rows\n00604. 00000 -  \"error occurred at recursive SQL level %s\"\n*Cause:    An error occurred while processing a recursive SQL statement\n           (a statement applying to internal dictionary tables).\n*Action:   If the situation described in the next error on the stack\n           can be corrected, do so; otherwise contact Oracle Support.\n</code></pre>\n"},{"tags":["java","ftp","apache-commons-net"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697521186,"creation_date":1468832669,"answer_id":38432603,"question_id":38415821,"body_markdown":"- Use the [`FTPClient.mlistDir` method](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#mlistDir(java.lang.String))  \r\n  (or [`FTPClient.listFiles`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#listFiles(java.lang.String)), if the server does not support `MLSD` command)\r\n- Iterate the returned array of [`FTPFile`s](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPFile.html).\r\n- For those entries where the [`FTPFile.isDirectory()`](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPFile.html#isDirectory()) is true, call the `FTPClient.mlistDir` again.","title":"Listing subfolders recursivelly on FTP server","body":"<ul>\n<li>Use the <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#mlistDir(java.lang.String)\" rel=\"nofollow noreferrer\"><code>FTPClient.mlistDir</code> method</a><br />\n(or <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#listFiles(java.lang.String)\" rel=\"nofollow noreferrer\"><code>FTPClient.listFiles</code></a>, if the server does not support <code>MLSD</code> command)</li>\n<li>Iterate the returned array of <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPFile.html\" rel=\"nofollow noreferrer\"><code>FTPFile</code>s</a>.</li>\n<li>For those entries where the <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPFile.html#isDirectory()\" rel=\"nofollow noreferrer\"><code>FTPFile.isDirectory()</code></a> is true, call the <code>FTPClient.mlistDir</code> again.</li>\n</ul>\n"}],"owner":{"account_id":1507312,"reputation":591,"user_id":1410396,"accept_rate":64,"display_name":"Lasse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38432603,"answer_count":1,"score":1,"last_activity_date":1697521186,"creation_date":1468704587,"question_id":38415821,"body_markdown":"My problem is to get the paths of all files on the FTP server in Java. I want to be able to make `List&lt;String&gt;` of the paths of all files on on the server. I need this, to be able to determine, if a file exists on the server that is not on a local computer and vice versa. How do I get a list of the paths for each file on the server? \r\n\r\nlike: \r\n\r\n    ... \r\n    List&lt;String&gt; templist = new LinkedList&lt;&gt;();\r\n    String strings[] = someMethod()\r\n    for(int i = 0; i &lt; strings.length; i++){\r\n        templist.add(strings[i]);\r\n    } \r\n    ...\r\n\r\nThat when `.forEach(System.out::println())` is run over the `templist` displays something like: \r\n\r\n    xxx.txt \r\n    foo/bar.txt\r\n    foo/b/y.txt\r\n\r\nI&#39;m using the Apache Commons FTP library in Java. \r\n\r\nThanks for the help!\r\n","title":"Listing subfolders recursivelly on FTP server","body":"<p>My problem is to get the paths of all files on the FTP server in Java. I want to be able to make <code>List&lt;String&gt;</code> of the paths of all files on on the server. I need this, to be able to determine, if a file exists on the server that is not on a local computer and vice versa. How do I get a list of the paths for each file on the server? </p>\n\n<p>like: </p>\n\n<pre><code>... \nList&lt;String&gt; templist = new LinkedList&lt;&gt;();\nString strings[] = someMethod()\nfor(int i = 0; i &lt; strings.length; i++){\n    templist.add(strings[i]);\n} \n...\n</code></pre>\n\n<p>That when <code>.forEach(System.out::println())</code> is run over the <code>templist</code> displays something like: </p>\n\n<pre><code>xxx.txt \nfoo/bar.txt\nfoo/b/y.txt\n</code></pre>\n\n<p>I'm using the Apache Commons FTP library in Java. </p>\n\n<p>Thanks for the help!</p>\n"},{"tags":["java","spring-boot","github","spring-cloud","spring-cloud-config"],"answers":[{"comments":[{"owner":{"account_id":1440390,"reputation":1403,"user_id":1360700,"accept_rate":75,"display_name":"Numan Karaaslan"},"score":0,"creation_date":1606566720,"post_id":39923710,"comment_id":115001417,"body_markdown":"woow, simple as that :D","body":"woow, simple as that :D"},{"owner":{"account_id":2480042,"reputation":1134,"user_id":2159680,"accept_rate":81,"display_name":"Eric Huang"},"score":0,"creation_date":1625733593,"post_id":39923710,"comment_id":120706947,"body_markdown":"Where is this in the doc.... for the life of me I couldn&#39;t find it.  Like would be greately appreciated.\n\nThanks","body":"Where is this in the doc.... for the life of me I couldn&#39;t find it.  Like would be greately appreciated.  Thanks"},{"owner":{"account_id":302841,"reputation":390,"user_id":2521176,"display_name":"M&#225;rio de S&#225; Vera"},"score":0,"creation_date":1639071838,"post_id":39923710,"comment_id":124261126,"body_markdown":"lovely ... thanks ! But yeah ... that is in fact in the docs : https://cloud.spring.io/spring-cloud-config/reference/html/","body":"lovely ... thanks ! But yeah ... that is in fact in the docs : <a href=\"https://cloud.spring.io/spring-cloud-config/reference/html/\" rel=\"nofollow noreferrer\">cloud.spring.io/spring-cloud-config/reference/html</a>"},{"owner":{"account_id":19347544,"reputation":88,"user_id":14145740,"display_name":"Prashant Balotra"},"score":0,"creation_date":1644225939,"post_id":39923710,"comment_id":125539347,"body_markdown":"Hi, Can we use GitHub token instead of a password?","body":"Hi, Can we use GitHub token instead of a password?"},{"owner":{"account_id":981284,"reputation":27959,"user_id":1000933,"display_name":"Master Slave"},"score":0,"creation_date":1647266654,"post_id":39923710,"comment_id":126321284,"body_markdown":"yes, you can use GitHub token","body":"yes, you can use GitHub token"}],"tags":[],"owner":{"account_id":981284,"reputation":27959,"user_id":1000933,"display_name":"Master Slave"},"comment_count":5,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1475864840,"creation_date":1475864840,"answer_id":39923710,"question_id":39922594,"body_markdown":"you need to add the \r\n\r\n    spring.cloud.config.server.git.username=your_github_username\r\n    spring.cloud.config.server.git.password=your_github_password\r\n\r\nand things should workout for you","title":"Authentication issue with repo accessed from Spring Cloud Config Server hosted on GitHub","body":"<p>you need to add the </p>\n\n<pre><code>spring.cloud.config.server.git.username=your_github_username\nspring.cloud.config.server.git.password=your_github_password\n</code></pre>\n\n<p>and things should workout for you</p>\n"},{"tags":[],"owner":{"account_id":18619335,"reputation":81,"user_id":13569926,"display_name":"harsha k"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602772747,"creation_date":1589830592,"answer_id":61877611,"question_id":39922594,"body_markdown":"     - SPRING_CLOUD_CONFIG_SERVER_GIT_USERNAME=XXXXX\r\n      - SPRING_CLOUD_CONFIG_SERVER_GIT_PASSWORD=XXXXXXXXXXXX\r\n      - SPRING_CLOUD_CONFIG_SERVER_GIT_DEFAULT-LABEL=branchXXXXX\r\n\r\n\r\n\r\n\r\n\r\nI am running this as docker, and it worked for me\r\n\r\n for the starter&#39;s this how I am using spring cloud server as docker container \r\n\r\n\r\n\r\n    container_name: sccserver\r\n    ports:\r\n      - 8080:8080\r\n    volumes:\r\n      - /data/config-dir:/data\r\n    environment:\r\n      - EUREKA_HOST=$DOCKERHOST\r\n      - scc_search_paths={application}, {application}/extended-attributes, {application}/feature-flags, {application}/properties, {application}/error-codes,{application}/seed-data,{application}/globalization,{application}/json-validator-schema,{application}/seedData\r\n      - VIRTUAL_HOST=$DOCKERHOST\r\n      - MESSAGING_HOST=$DOCKERHOST\r\n      - SCC_GIT_URI=https://bitbucket.com/XXXXXXX.git \r\n      - &quot;JAVA_OPTS=-Xmx512m&quot;\r\n      - SCC_GIT_SKIPSSLVALIDATION=true\r\n      - SPRING_CLOUD_CONFIG_SERVER_GIT_USERNAME=\r\n      - SPRING_CLOUD_CONFIG_SERVER_GIT_PASSWORD=\r\n      - SPRING_CLOUD_CONFIG_SERVER_GIT_DEFAULT-LABEL=\r\n    extra_hosts:\r\n      - &quot;dockerhost:$DOCKERHOST&quot;\r\n~                                                ","title":"Authentication issue with repo accessed from Spring Cloud Config Server hosted on GitHub","body":"<pre><code> - SPRING_CLOUD_CONFIG_SERVER_GIT_USERNAME=XXXXX\n  - SPRING_CLOUD_CONFIG_SERVER_GIT_PASSWORD=XXXXXXXXXXXX\n  - SPRING_CLOUD_CONFIG_SERVER_GIT_DEFAULT-LABEL=branchXXXXX\n</code></pre>\n<p>I am running this as docker, and it worked for me</p>\n<p>for the starter's this how I am using spring cloud server as docker container</p>\n<pre><code>container_name: sccserver\nports:\n  - 8080:8080\nvolumes:\n  - /data/config-dir:/data\nenvironment:\n  - EUREKA_HOST=$DOCKERHOST\n  - scc_search_paths={application}, {application}/extended-attributes, {application}/feature-flags, {application}/properties, {application}/error-codes,{application}/seed-data,{application}/globalization,{application}/json-validator-schema,{application}/seedData\n  - VIRTUAL_HOST=$DOCKERHOST\n  - MESSAGING_HOST=$DOCKERHOST\n  - SCC_GIT_URI=https://bitbucket.com/XXXXXXX.git \n  - &quot;JAVA_OPTS=-Xmx512m&quot;\n  - SCC_GIT_SKIPSSLVALIDATION=true\n  - SPRING_CLOUD_CONFIG_SERVER_GIT_USERNAME=\n  - SPRING_CLOUD_CONFIG_SERVER_GIT_PASSWORD=\n  - SPRING_CLOUD_CONFIG_SERVER_GIT_DEFAULT-LABEL=\nextra_hosts:\n  - &quot;dockerhost:$DOCKERHOST&quot;\n</code></pre>\n<p>~</p>\n"},{"tags":[],"owner":{"account_id":17682075,"reputation":558,"user_id":12835742,"display_name":"Ibrahim Kelly"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660417405,"creation_date":1660417405,"answer_id":73346977,"question_id":39922594,"body_markdown":"I found the same problem, we were working on a private project.\r\nSo I do not find very secure to provide my github username and password so :\r\n\r\nI made repository -&gt; public.\r\nSo it worked for me.","title":"Authentication issue with repo accessed from Spring Cloud Config Server hosted on GitHub","body":"<p>I found the same problem, we were working on a private project.\nSo I do not find very secure to provide my github username and password so :</p>\n<p>I made repository -&gt; public.\nSo it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":2093262,"reputation":9491,"user_id":1862590,"display_name":"Sathiamoorthy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697520978,"creation_date":1666117008,"answer_id":74115689,"question_id":39922594,"body_markdown":"[Master Slave][1] solution works but add the token instead of the github password.\r\n\r\n    spring.cloud.config.server.git.username=&lt;your_github_username&gt;\r\n    spring.cloud.config.server.git.password=&lt;your_github_token&gt;\r\n\r\n**Token Generation Steps:**\r\n\r\n1. Go to github settings.\r\n2. Then Developer Settings\r\n3. Generate the token here.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/39923710/1862590","title":"Authentication issue with repo accessed from Spring Cloud Config Server hosted on GitHub","body":"<p><a href=\"https://stackoverflow.com/a/39923710/1862590\">Master Slave</a> solution works but add the token instead of the github password.</p>\n<pre><code>spring.cloud.config.server.git.username=&lt;your_github_username&gt;\nspring.cloud.config.server.git.password=&lt;your_github_token&gt;\n</code></pre>\n<p><strong>Token Generation Steps:</strong></p>\n<ol>\n<li>Go to github settings.</li>\n<li>Then Developer Settings</li>\n<li>Generate the token here.</li>\n</ol>\n"}],"owner":{"account_id":1164062,"reputation":1339,"user_id":1143032,"accept_rate":64,"display_name":"learnAndImprove"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17690,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":39923710,"answer_count":4,"score":18,"last_activity_date":1697520978,"creation_date":1475860030,"question_id":39922594,"body_markdown":"I&#39;m hosting a configuration in a repo on GitHub. If I keep the repo public all&#39;s good, but if I make it private I face:\r\n\r\n    org.eclipse.jgit.errors.TransportException: \r\n     https://github.com/my-user/my-repo:\r\n     Authentication is required but no CredentialsProvider has been registered\r\n\r\nthe property I use to target the repo is \r\n\r\n    spring.cloud.config.server.git.uri=https://github.com/my-user/my-repo\r\n\r\nWhat should I do to configure this properly with the private repo, thanks","title":"Authentication issue with repo accessed from Spring Cloud Config Server hosted on GitHub","body":"<p>I'm hosting a configuration in a repo on GitHub. If I keep the repo public all's good, but if I make it private I face:</p>\n\n<pre><code>org.eclipse.jgit.errors.TransportException: \n https://github.com/my-user/my-repo:\n Authentication is required but no CredentialsProvider has been registered\n</code></pre>\n\n<p>the property I use to target the repo is </p>\n\n<pre><code>spring.cloud.config.server.git.uri=https://github.com/my-user/my-repo\n</code></pre>\n\n<p>What should I do to configure this properly with the private repo, thanks</p>\n"},{"tags":["java","maven","javadoc","maven-javadoc-plugin"],"answers":[{"tags":[],"owner":{"account_id":3557006,"reputation":338,"user_id":2970515,"display_name":"abilng"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697520628,"creation_date":1697520628,"answer_id":77306362,"question_id":76212048,"body_markdown":"According to [Documentation][1]\r\n\r\n&gt;To run the Javadocs reports selectively, you need to include only the Javadocs reports that you prefer. \r\n\r\nYou can skip generating Javadoc for the tests by removing it from the config\r\n\r\n```xml\r\n\r\n\t&lt;reporting&gt;\r\n\t\t&lt;plugins&gt;\r\n           ....\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;show&gt;public&lt;/show&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;reportSets&gt;\r\n\t\t\t\t\t&lt;reportSet&gt;\r\n\t\t\t\t\t\t&lt;id&gt;default&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;reports&gt;\r\n\t\t\t\t\t\t\t&lt;report&gt;javadoc&lt;/report&gt;\r\n                            &lt;!-- &lt;report&gt;test-javadoc&lt;/report&gt; --&gt;\r\n\t\t\t\t\t\t&lt;/reports&gt;\r\n\t\t\t\t\t&lt;/reportSet&gt;\r\n\t\t\t\t\t&lt;reportSet&gt;\r\n\t\t\t\t\t\t&lt;id&gt;aggregate&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;reports&gt;\r\n\t\t\t\t\t\t\t&lt;report&gt;aggregate&lt;/report&gt;\r\n\t\t\t\t\t\t&lt;/reports&gt;\r\n\t\t\t\t\t&lt;/reportSet&gt;\r\n\t\t\t\t&lt;/reportSets&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n        ...\r\n\t&lt;/reporting&gt;\r\n\r\n```\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-javadoc-plugin/examples/selective-javadocs-report.html","title":"maven-site-plugin to skip Generating &quot;Test Javadoc&quot; report --- maven-javadoc-plugin","body":"<p>According to <a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/examples/selective-javadocs-report.html\" rel=\"nofollow noreferrer\">Documentation</a></p>\n<blockquote>\n<p>To run the Javadocs reports selectively, you need to include only the Javadocs reports that you prefer.</p>\n</blockquote>\n<p>You can skip generating Javadoc for the tests by removing it from the config</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n    &lt;reporting&gt;\n        &lt;plugins&gt;\n           ....\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;show&gt;public&lt;/show&gt;\n                &lt;/configuration&gt;\n                &lt;reportSets&gt;\n                    &lt;reportSet&gt;\n                        &lt;id&gt;default&lt;/id&gt;\n                        &lt;reports&gt;\n                            &lt;report&gt;javadoc&lt;/report&gt;\n                            &lt;!-- &lt;report&gt;test-javadoc&lt;/report&gt; --&gt;\n                        &lt;/reports&gt;\n                    &lt;/reportSet&gt;\n                    &lt;reportSet&gt;\n                        &lt;id&gt;aggregate&lt;/id&gt;\n                        &lt;reports&gt;\n                            &lt;report&gt;aggregate&lt;/report&gt;\n                        &lt;/reports&gt;\n                    &lt;/reportSet&gt;\n                &lt;/reportSets&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        ...\n    &lt;/reporting&gt;\n\n</code></pre>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77306362,"answer_count":1,"score":0,"last_activity_date":1697520628,"creation_date":1683653770,"question_id":76212048,"body_markdown":"What I am trying to achieve:\r\n\r\nGenerate project website from maven site plugin, without the javadoc for tests (but with javadoc for the classes)\r\n\r\nWhat did I try:\r\n\r\n```\r\n&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.0-M8&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;reporting&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;outputDirectory&gt;target/javadoc&lt;/outputDirectory&gt;\r\n                    &lt;reportOutputDirectory&gt;target/javadoc&lt;/reportOutputDirectory&gt;\r\n                    &lt;javadocExecutable&gt;${java.home}/bin/javadoc&lt;/javadocExecutable&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jxr-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.4.3&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/reporting&gt;\r\n```\r\n\r\n```mvn clean install site -U javadoc:javadoc```\r\n\r\nIssue:\r\n\r\nreproducible 100%, I am seeing this error:\r\n\r\n```\r\n[INFO] Rendering site for default locale\r\nDownloading from spring-milestones: https://repo.spring.io/milestone/org/springframework/boot/spring-boot-starter-parent/3.1.0-M2/spring-boot-starter-parent-3.1.0-M2-site.xml\r\nDownloading from central: https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/3.1.0-M2/spring-boot-starter-parent-3.1.0-M2-site.xml\r\nDownloading from spring-milestones: https://repo.spring.io/milestone/org/springframework/boot/spring-boot-dependencies/3.1.0-M2/spring-boot-dependencies-3.1.0-M2-site.xml\r\nDownloading from central: https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-dependencies/3.1.0-M2/spring-boot-dependencies-3.1.0-M2-site.xml\r\n[WARNING] Unable to find a URL to the parent project. The parent menu will NOT be added.\r\n[INFO] Relativizing decoration links with respect to localized project URL: http://example.com/abc\r\n[INFO] Rendering content with org.apache.maven.skins:maven-fluido-skin:jar:2.0.0-M2 skin.\r\n[INFO] Skipped &quot;Javadoc&quot; report (maven-javadoc-plugin:3.5.0:javadoc), file &quot;apidocs/index.html&quot; already exists.\r\n[INFO] Skipped &quot;Javadoc&quot; report (maven-javadoc-plugin:3.5.0:javadoc-no-fork), file &quot;apidocs/index.html&quot; already exists.\r\n[INFO] Skipped &quot;Test Javadoc&quot; report (maven-javadoc-plugin:3.5.0:test-javadoc), file &quot;testapidocs/index.html&quot; already exists.\r\n[INFO] Skipped &quot;Test Javadoc&quot; report (maven-javadoc-plugin:3.5.0:test-javadoc-no-fork), file &quot;testapidocs/index.html&quot; already exists.\r\n[INFO] Skipped &quot;Source Xref&quot; report (maven-jxr-plugin:3.3.0:jxr-no-fork), file &quot;xref/index.html&quot; already exists.\r\n[INFO] Skipped &quot;Test Source Xref&quot; report (maven-jxr-plugin:3.3.0:test-jxr-no-fork), file &quot;xref-test/index.html&quot; already exists.\r\n[INFO] Generating &quot;Javadoc&quot; report       --- maven-javadoc-plugin:3.5.0:aggregate-no-fork\r\n[INFO] No previous run data found, generating javadoc.\r\n[INFO] Generating &quot;Test Javadoc&quot; report  --- maven-javadoc-plugin:3.5.0:test-aggregate-no-fork\r\n[INFO] Configuration changed, re-generating javadoc.\r\n[INFO]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Skipping abc\r\n[INFO] This project has been banned from the build due to previous failures.\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  28.498 s\r\n[INFO] Finished at: 2023-04-10T08:45:32+08:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-site-plugin:4.0.0-M6:site (default-site) on project abc: Error generating maven-javadoc-plugin:3.5.0:test-aggregate-no-fork report:\r\n[ERROR] Exit code: 1\r\n[ERROR] error: No public or protected classes found to document.\r\n[ERROR] 1 error\r\n[ERROR] Command line was: cmd.exe /X /C &quot;xxx\\bin\\javadoc.exe @options @packages&quot;\r\n[ERROR]\r\n\r\n```\r\n\r\nQuestion:\r\n\r\nHow to generate a project website with maven site plugin, with the javadoc for the classes, but not the javadoc for the tests?","title":"maven-site-plugin to skip Generating &quot;Test Javadoc&quot; report --- maven-javadoc-plugin","body":"<p>What I am trying to achieve:</p>\n<p>Generate project website from maven site plugin, without the javadoc for tests (but with javadoc for the classes)</p>\n<p>What did I try:</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.0.0-M8&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;reporting&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;target/javadoc&lt;/outputDirectory&gt;\n                    &lt;reportOutputDirectory&gt;target/javadoc&lt;/reportOutputDirectory&gt;\n                    &lt;javadocExecutable&gt;${java.home}/bin/javadoc&lt;/javadocExecutable&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jxr-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.4.3&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n</code></pre>\n<p><code>mvn clean install site -U javadoc:javadoc</code></p>\n<p>Issue:</p>\n<p>reproducible 100%, I am seeing this error:</p>\n<pre><code>[INFO] Rendering site for default locale\nDownloading from spring-milestones: https://repo.spring.io/milestone/org/springframework/boot/spring-boot-starter-parent/3.1.0-M2/spring-boot-starter-parent-3.1.0-M2-site.xml\nDownloading from central: https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-starter-parent/3.1.0-M2/spring-boot-starter-parent-3.1.0-M2-site.xml\nDownloading from spring-milestones: https://repo.spring.io/milestone/org/springframework/boot/spring-boot-dependencies/3.1.0-M2/spring-boot-dependencies-3.1.0-M2-site.xml\nDownloading from central: https://repo.maven.apache.org/maven2/org/springframework/boot/spring-boot-dependencies/3.1.0-M2/spring-boot-dependencies-3.1.0-M2-site.xml\n[WARNING] Unable to find a URL to the parent project. The parent menu will NOT be added.\n[INFO] Relativizing decoration links with respect to localized project URL: http://example.com/abc\n[INFO] Rendering content with org.apache.maven.skins:maven-fluido-skin:jar:2.0.0-M2 skin.\n[INFO] Skipped &quot;Javadoc&quot; report (maven-javadoc-plugin:3.5.0:javadoc), file &quot;apidocs/index.html&quot; already exists.\n[INFO] Skipped &quot;Javadoc&quot; report (maven-javadoc-plugin:3.5.0:javadoc-no-fork), file &quot;apidocs/index.html&quot; already exists.\n[INFO] Skipped &quot;Test Javadoc&quot; report (maven-javadoc-plugin:3.5.0:test-javadoc), file &quot;testapidocs/index.html&quot; already exists.\n[INFO] Skipped &quot;Test Javadoc&quot; report (maven-javadoc-plugin:3.5.0:test-javadoc-no-fork), file &quot;testapidocs/index.html&quot; already exists.\n[INFO] Skipped &quot;Source Xref&quot; report (maven-jxr-plugin:3.3.0:jxr-no-fork), file &quot;xref/index.html&quot; already exists.\n[INFO] Skipped &quot;Test Source Xref&quot; report (maven-jxr-plugin:3.3.0:test-jxr-no-fork), file &quot;xref-test/index.html&quot; already exists.\n[INFO] Generating &quot;Javadoc&quot; report       --- maven-javadoc-plugin:3.5.0:aggregate-no-fork\n[INFO] No previous run data found, generating javadoc.\n[INFO] Generating &quot;Test Javadoc&quot; report  --- maven-javadoc-plugin:3.5.0:test-aggregate-no-fork\n[INFO] Configuration changed, re-generating javadoc.\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] Skipping abc\n[INFO] This project has been banned from the build due to previous failures.\n[INFO] ------------------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  28.498 s\n[INFO] Finished at: 2023-04-10T08:45:32+08:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-site-plugin:4.0.0-M6:site (default-site) on project abc: Error generating maven-javadoc-plugin:3.5.0:test-aggregate-no-fork report:\n[ERROR] Exit code: 1\n[ERROR] error: No public or protected classes found to document.\n[ERROR] 1 error\n[ERROR] Command line was: cmd.exe /X /C &quot;xxx\\bin\\javadoc.exe @options @packages&quot;\n[ERROR]\n\n</code></pre>\n<p>Question:</p>\n<p>How to generate a project website with maven site plugin, with the javadoc for the classes, but not the javadoc for the tests?</p>\n"},{"tags":["java","text-based"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1697502013,"post_id":77305531,"comment_id":136285220,"body_markdown":"Tangential: `Item item = new Item(...); Item.addItem(item);` seems very odd. Are you sure you don&#39;t want a `List` or a `List` specialization?","body":"Tangential: <code>Item item = new Item(...); Item.addItem(item);</code> seems very odd. Are you sure you don&#39;t want a <code>List</code> or a <code>List</code> specialization?"},{"owner":{"account_id":29687365,"reputation":1,"user_id":22752565,"display_name":"EXT_Rue"},"score":0,"creation_date":1697503235,"post_id":77305531,"comment_id":136285318,"body_markdown":"i have an items class with an array list for the items","body":"i have an items class with an array list for the items"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1697504421,"post_id":77305531,"comment_id":136285418,"body_markdown":"Not according to the code, but ok &#129335;‍♂️","body":"Not according to the code, but ok 🤷‍♂️"},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1697504890,"post_id":77305531,"comment_id":136285452,"body_markdown":"What error are you getting? Please share full error message~","body":"What error are you getting? Please share full error message~"},{"owner":{"account_id":29687365,"reputation":1,"user_id":22752565,"display_name":"EXT_Rue"},"score":0,"creation_date":1697506250,"post_id":77305531,"comment_id":136285542,"body_markdown":"Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\n\tat java.base/java.util.Scanner.nextLine(Scanner.java:1656)\n\tat Driver.main(Driver.java:86)","body":"Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found \tat java.base/java.util.Scanner.nextLine(Scanner.java:1656) \tat Driver.main(Driver.java:86)"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1697512552,"post_id":77305531,"comment_id":136285941,"body_markdown":"Edit your question and add the full stacktrace.","body":"Edit your question and add the full stacktrace."}],"answers":[{"tags":[],"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697520391,"creation_date":1697519937,"answer_id":77306321,"question_id":77305531,"body_markdown":"Your delimiter pattern does not account for newlines. So your file is read as:\r\n\r\n    itemName    itemDesc         itemLocation    IGNORED_INPUT_nextLine\r\n    ---------------------------------------------------------------------------\r\n    beep        An old beep      3\\ngun          An old gun with no bullets|2\\n\r\n    stun        HUNG             1\\n             \r\n\r\nAt this point, we fail to read a token. If an `\\n` existed after the final `1`, it would be consumed by the `itemLocation` regardless, as it is not a part of the delimiter pattern. Remember, the delimiter pattern isn&#39;t just what you want to split tokens by, but also what should not be included inside of a token. The java-specific default is `&quot;\\\\p{javaWhitespace}+&quot;` which is almost equivalent to `\\\\s+`. You of course don&#39;t want to include generic whitespace, but rather just newlines for delimiters (such that they are not included in your tokens). A rough approach:\r\n\r\n    itemReader.useDelimiter(&quot;[\\r\\n]+|\\\\|&quot;); //note |\\\\| meaning &quot;or a single |&quot;\r\n\r\nThis will allow you to ignore those newlines, and appropriately finish your loop:\r\n\r\n\r\n    itemName    itemDesc                      itemLocation    IGNORED_INPUT_nextLine\r\n    --------------------------------------------------------------------------------\r\n    beep        An old beep                   3               \\n\r\n    gun         An old gun with no bullets    2               \\n\r\n    stun        HUNG                          1               \\n             \r\n\r\nA simpler approach may be instead just reading the lines flat-out, and then parsing the lines individually:\r\n\r\n    //zero need for itemReader.useDelimiter\r\n    while (itemReader.hasNextLine()) {\r\n        String line = itemReader.nextLine();\r\n        String spl = line.split(&quot;\\\\|&quot;);\r\n        //note our implicit assumption (each line has 3 elements) is much more explicit now!\r\n        String itemName = spl[0];\r\n        String itemDesc = spl[1];\r\n        String itemLocation = spl[2];\r\n        //...\r\n    }\r\n\r\nNow you also avoid running afoul of the latest JDK code for parsing line-by-line (whether it is `\\n`, `\\r\\n`, `\\u2028`, or so on).","title":"keep getting this java.util.NoSuchElementException: No line found","body":"<p>Your delimiter pattern does not account for newlines. So your file is read as:</p>\n<pre><code>itemName    itemDesc         itemLocation    IGNORED_INPUT_nextLine\n---------------------------------------------------------------------------\nbeep        An old beep      3\\ngun          An old gun with no bullets|2\\n\nstun        HUNG             1\\n             \n</code></pre>\n<p>At this point, we fail to read a token. If an <code>\\n</code> existed after the final <code>1</code>, it would be consumed by the <code>itemLocation</code> regardless, as it is not a part of the delimiter pattern. Remember, the delimiter pattern isn't just what you want to split tokens by, but also what should not be included inside of a token. The java-specific default is <code>&quot;\\\\p{javaWhitespace}+&quot;</code> which is almost equivalent to <code>\\\\s+</code>. You of course don't want to include generic whitespace, but rather just newlines for delimiters (such that they are not included in your tokens). A rough approach:</p>\n<pre><code>itemReader.useDelimiter(&quot;[\\r\\n]+|\\\\|&quot;); //note |\\\\| meaning &quot;or a single |&quot;\n</code></pre>\n<p>This will allow you to ignore those newlines, and appropriately finish your loop:</p>\n<pre><code>itemName    itemDesc                      itemLocation    IGNORED_INPUT_nextLine\n--------------------------------------------------------------------------------\nbeep        An old beep                   3               \\n\ngun         An old gun with no bullets    2               \\n\nstun        HUNG                          1               \\n             \n</code></pre>\n<p>A simpler approach may be instead just reading the lines flat-out, and then parsing the lines individually:</p>\n<pre><code>//zero need for itemReader.useDelimiter\nwhile (itemReader.hasNextLine()) {\n    String line = itemReader.nextLine();\n    String spl = line.split(&quot;\\\\|&quot;);\n    //note our implicit assumption (each line has 3 elements) is much more explicit now!\n    String itemName = spl[0];\n    String itemDesc = spl[1];\n    String itemLocation = spl[2];\n    //...\n}\n</code></pre>\n<p>Now you also avoid running afoul of the latest JDK code for parsing line-by-line (whether it is <code>\\n</code>, <code>\\r\\n</code>, <code>\\u2028</code>, or so on).</p>\n"}],"owner":{"account_id":29687365,"reputation":1,"user_id":22752565,"display_name":"EXT_Rue"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697520391,"creation_date":1697501213,"question_id":77305531,"body_markdown":"I get this error when I try to read a text file.\r\n\r\nThis is my code for the items reader:\r\n```java\r\nFile itemFile = new File(&quot;src/items.txt&quot;);\r\nScanner itemReader = null;\r\ntry {\r\n    itemReader = new Scanner(itemFile);\r\n    //roomReader = new Scanner(roomFile);\r\n}\r\ncatch (FileNotFoundException e) {\r\n    System.out.println(&quot;The Items.txt file has not been found&quot;);\r\n}\r\n// read one value at a time\r\nif (itemReader != null) {\r\n    itemReader.useDelimiter(&quot;\\\\|&quot;);\r\n    while (itemReader.hasNext()) {\r\n        String itemName = itemReader.next();\r\n        String itemDesc = itemReader.next();\r\n        String itemLocation = itemReader.next();\r\n\r\n        // Process the item data\r\n        Item item = new Item(itemName, itemDesc, itemLocation);\r\n        Item.addItem(item);\r\n        itemReader.nextLine(); // Move to the next line\r\n    }\r\n    itemReader.close();\r\n}\r\n```\r\nThis is the stack trace as well:\r\n\r\n    Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n    \tat java.base/java.util.Scanner.nextLine(Scanner.java:1656)\r\n    \tat Driver.main(Driver.java:86)\r\n\r\nThis is my *items.txt* file as a test:\r\n\r\n```none\r\nbeep|An old beep|3\r\ngun|An old gun with no bullets|2\r\nstun|HUNG|1\r\n```\r\nI tried checking the format and I tried rewriting the text file.\r\n","title":"keep getting this java.util.NoSuchElementException: No line found","body":"<p>I get this error when I try to read a text file.</p>\n<p>This is my code for the items reader:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File itemFile = new File(&quot;src/items.txt&quot;);\nScanner itemReader = null;\ntry {\n    itemReader = new Scanner(itemFile);\n    //roomReader = new Scanner(roomFile);\n}\ncatch (FileNotFoundException e) {\n    System.out.println(&quot;The Items.txt file has not been found&quot;);\n}\n// read one value at a time\nif (itemReader != null) {\n    itemReader.useDelimiter(&quot;\\\\|&quot;);\n    while (itemReader.hasNext()) {\n        String itemName = itemReader.next();\n        String itemDesc = itemReader.next();\n        String itemLocation = itemReader.next();\n\n        // Process the item data\n        Item item = new Item(itemName, itemDesc, itemLocation);\n        Item.addItem(item);\n        itemReader.nextLine(); // Move to the next line\n    }\n    itemReader.close();\n}\n</code></pre>\n<p>This is the stack trace as well:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\n    at java.base/java.util.Scanner.nextLine(Scanner.java:1656)\n    at Driver.main(Driver.java:86)\n</code></pre>\n<p>This is my <em>items.txt</em> file as a test:</p>\n<pre class=\"lang-none prettyprint-override\"><code>beep|An old beep|3\ngun|An old gun with no bullets|2\nstun|HUNG|1\n</code></pre>\n<p>I tried checking the format and I tried rewriting the text file.</p>\n"},{"tags":["java","sql","postgresql","jdbc"],"comments":[{"owner":{"account_id":2887780,"reputation":1856,"user_id":2477215,"accept_rate":74,"display_name":"Ashish"},"score":0,"creation_date":1477991148,"post_id":40356750,"comment_id":67967138,"body_markdown":"it has to be `acttype=?` and in `prepared statement` cast it to `enum`","body":"it has to be <code>acttype=?</code> and in <code>prepared statement</code> cast it to <code>enum</code>"},{"owner":{"account_id":463980,"reputation":6172,"user_id":867206,"accept_rate":14,"display_name":"Ajay Takur"},"score":0,"creation_date":1477999420,"post_id":40356750,"comment_id":67971335,"body_markdown":"@ Ashish I did try with your solution but i got org.postgresql.util.PSQLException: ERROR: type &quot;enum&quot; does not exist","body":"@ Ashish I did try with your solution but i got org.postgresql.util.PSQLException: ERROR: type &quot;enum&quot; does not exist"}],"answers":[{"comments":[{"owner":{"account_id":158578,"reputation":3109,"user_id":377320,"accept_rate":25,"display_name":"Martin Vysny"},"score":2,"creation_date":1551105877,"post_id":40356977,"comment_id":96507795,"body_markdown":"Thank you for excellent explanation. However I believe it is a bug in Postgres JDBC driver: https://github.com/pgjdbc/pgjdbc/issues/1420","body":"Thank you for excellent explanation. However I believe it is a bug in Postgres JDBC driver: <a href=\"https://github.com/pgjdbc/pgjdbc/issues/1420\" rel=\"nofollow noreferrer\">github.com/pgjdbc/pgjdbc/issues/1420</a>"}],"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":1,"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1477991379,"creation_date":1477991379,"answer_id":40356977,"question_id":40356750,"body_markdown":"From JDBC&#39;s point-of-view, just treat the PostgreSQL enum like a string.\n\nQuoting blog [Convert between Java enums and PostgreSQL enums][1]:\n\n &gt; PostgreSQL allows you to create enum types using the following syntax:\n &gt;\n &gt; &lt;!-- language: sql --&gt;\n &gt;\n &gt;     CREATE TYPE animal_type AS ENUM(&#39;DOG&#39;, &#39;CAT&#39;, &#39;SQUIRREL&#39;);\n &gt;\n &gt; You can now use ‘animal’ as a datatype in your tables, for example:\n &gt;\n &gt; &lt;!-- language: sql --&gt;\n &gt;\n &gt;     create table pet (                         \n &gt;         pet_id        integer         not null,\n &gt;         pet_type      animal_type     not null,\n &gt;         name          varchar(20)     not null\n &gt;     );\n &gt;\n &gt; In Java, you’d have a corresponding enum type:\n &gt;\n &gt; &lt;!-- language: java --&gt;\n &gt;\n &gt;     public enum AnimalType {\n &gt;         DOG,\n &gt;         CAT,\n &gt;         SQUIRREL;\n &gt;     }\n &gt;\n &gt; Converting between Java and PostgreSQL enums is straightforward. For example, to insert or update an enum field you could use the CAST syntax in your SQL PreparedStatement:\n &gt;\n &gt; &lt;!-- language: sql --&gt;\n &gt;\n &gt;     INSERT INTO pet (pet_id, pet_type, name) VALUES (?, CAST(? AS animal_type), ?);\n &gt;     \n &gt;     --or\n &gt;     \n &gt;     INSERT INTO pet (pet_id, pet_type, name) VALUES (?, ?::animal_type, ?);\n &gt;\n &gt; **Postgres will also let you insert/update an enum just by passing its value as a string.**\n &gt;\n &gt; Whether casting or not, the Java side is the same. You would set the fields like this:\n &gt;\n &gt; &lt;!-- language: java --&gt;\n &gt;\n &gt;     stmt.setInt(1, 1);\n &gt;     stmt.setString(2, AnimalType.DOG.toString());\n &gt;     stmt.setString(3, &#39;Rex&#39;);\n &gt;\n &gt; Retrieving the enum from a SELECT statement looks like this:\n &gt;\n &gt; &lt;!-- language: java --&gt;\n &gt;\n &gt;     AnimalType.valueOf(stmt.getString(&quot;pet_type&quot;));\n &gt;\n &gt; Take into consideration that enums are case-sensitive, so any case mismatches between your Postgres enums and Java enums will have to be accounted for. Also note that the PostgreSQL enum type is non-standard SQL, and thus not portable.\n\n\n  [1]: http://www.gotoquiz.com/web-coding/programming/java-programming/convert-between-java-enums-and-postgresql-enums/","title":"How do I make Java &amp; Postgres enums work together for update?","body":"<p>From JDBC's point-of-view, just treat the PostgreSQL enum like a string.</p>\n<p>Quoting blog <a href=\"http://www.gotoquiz.com/web-coding/programming/java-programming/convert-between-java-enums-and-postgresql-enums/\" rel=\"noreferrer\">Convert between Java enums and PostgreSQL enums</a>:</p>\n<blockquote>\n<p>PostgreSQL allows you to create enum types using the following syntax:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TYPE animal_type AS ENUM('DOG', 'CAT', 'SQUIRREL');\n</code></pre>\n<p>You can now use ‘animal’ as a datatype in your tables, for example:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table pet (                         \n    pet_id        integer         not null,\n    pet_type      animal_type     not null,\n    name          varchar(20)     not null\n);\n</code></pre>\n<p>In Java, you’d have a corresponding enum type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum AnimalType {\n    DOG,\n    CAT,\n    SQUIRREL;\n}\n</code></pre>\n<p>Converting between Java and PostgreSQL enums is straightforward. For example, to insert or update an enum field you could use the CAST syntax in your SQL PreparedStatement:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO pet (pet_id, pet_type, name) VALUES (?, CAST(? AS animal_type), ?);\n\n--or\n\nINSERT INTO pet (pet_id, pet_type, name) VALUES (?, ?::animal_type, ?);\n</code></pre>\n<p><strong>Postgres will also let you insert/update an enum just by passing its value as a string.</strong></p>\n<p>Whether casting or not, the Java side is the same. You would set the fields like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>stmt.setInt(1, 1);\nstmt.setString(2, AnimalType.DOG.toString());\nstmt.setString(3, 'Rex');\n</code></pre>\n<p>Retrieving the enum from a SELECT statement looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>AnimalType.valueOf(stmt.getString(&quot;pet_type&quot;));\n</code></pre>\n<p>Take into consideration that enums are case-sensitive, so any case mismatches between your Postgres enums and Java enums will have to be accounted for. Also note that the PostgreSQL enum type is non-standard SQL, and thus not portable.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5786048,"reputation":1847,"user_id":4565235,"display_name":"David Lilljegren"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1631214360,"creation_date":1552493041,"answer_id":55146310,"question_id":40356750,"body_markdown":"You can avoid the `toString()` on the Enum by doing this\r\n\r\n```java\r\nstmt.setObject(2,AnimalType.DOG,java.sql.Types.OTHER)\r\n```\r\n\r\nWorks for JDBC driver PostgreSQL 42.2.5","title":"How do I make Java &amp; Postgres enums work together for update?","body":"<p>You can avoid the <code>toString()</code> on the Enum by doing this</p>\n<pre class=\"lang-java prettyprint-override\"><code>stmt.setObject(2,AnimalType.DOG,java.sql.Types.OTHER)\n</code></pre>\n<p>Works for JDBC driver PostgreSQL 42.2.5</p>\n"},{"comments":[{"owner":{"account_id":4550242,"reputation":439,"user_id":3695718,"display_name":"zolee"},"score":0,"creation_date":1644227347,"post_id":60835212,"comment_id":125539862,"body_markdown":"Great answer as this solves it in the DB level hence it works with any framework. Didn&#39;t even know about this auto cast feature of postgres before.","body":"Great answer as this solves it in the DB level hence it works with any framework. Didn&#39;t even know about this auto cast feature of postgres before."}],"tags":[],"owner":{"account_id":18046339,"reputation":91,"user_id":13117236,"display_name":"Marcin Sarniak"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1585067223,"creation_date":1585067223,"answer_id":60835212,"question_id":40356750,"body_markdown":"You have to define implicit conversion in Postgres along with your type definition, like below:\r\n\r\n    CREATE CAST (varchar AS animal_type) WITH INOUT AS IMPLICIT;\r\n\r\nThan you can skip the explicit conversion in insert; so it works also with Spring Data JDBC and other libs that do generate insert query for you.","title":"How do I make Java &amp; Postgres enums work together for update?","body":"<p>You have to define implicit conversion in Postgres along with your type definition, like below:</p>\n\n<pre><code>CREATE CAST (varchar AS animal_type) WITH INOUT AS IMPLICIT;\n</code></pre>\n\n<p>Than you can skip the explicit conversion in insert; so it works also with Spring Data JDBC and other libs that do generate insert query for you.</p>\n"},{"tags":[],"owner":{"account_id":17029076,"reputation":298,"user_id":12319598,"display_name":"Jacek Sawko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631214434,"creation_date":1626436644,"answer_id":68408637,"question_id":40356750,"body_markdown":"If you&#39;re using SpringJDBC, just provide `Types.OTHER` as explicit type using JdbcTemplate, for example:\r\n\r\n```java\r\nString sql = &quot;INSERT INTO dir_act (actcode,actname,acttype,national_code) VALUES (?,?,?,?)&quot;;\r\nObject[] arguments = new Object[]{&quot;code&quot;, &quot;name&quot;, Enum.Type, &quot;nat_code&quot;};\r\nint[] argumentTypes = new int[]{Types.VARCHAR, Types.VARCHAR, Types.OTHER, Types.VARCHAR};\r\n\r\njdbcTemplate.update(sql, arguments, argumentTypes);\r\n```","title":"How do I make Java &amp; Postgres enums work together for update?","body":"<p>If you're using SpringJDBC, just provide <code>Types.OTHER</code> as explicit type using JdbcTemplate, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sql = &quot;INSERT INTO dir_act (actcode,actname,acttype,national_code) VALUES (?,?,?,?)&quot;;\nObject[] arguments = new Object[]{&quot;code&quot;, &quot;name&quot;, Enum.Type, &quot;nat_code&quot;};\nint[] argumentTypes = new int[]{Types.VARCHAR, Types.VARCHAR, Types.OTHER, Types.VARCHAR};\n\njdbcTemplate.update(sql, arguments, argumentTypes);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22311054,"reputation":44,"user_id":16535023,"display_name":"James Winnchester"},"score":0,"creation_date":1697519947,"post_id":77306318,"comment_id":136286483,"body_markdown":"import javax.persistence.EnumType;\nimport javax.persistence.Enumerated;","body":"import javax.persistence.EnumType; import javax.persistence.Enumerated;"}],"tags":[],"owner":{"account_id":22311054,"reputation":44,"user_id":16535023,"display_name":"James Winnchester"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697519900,"creation_date":1697519900,"answer_id":77306318,"question_id":40356750,"body_markdown":"```\r\n@Enumerated(EnumType.STRING)\r\n@Column(name = &quot;type&quot;, nullable = false)\r\nprivate TypeEnum type;\r\n```\r\n```\r\npublic enum JobTypeEnum {\r\n    A,\r\n    B\r\n}\r\n```\r\n```\r\ncreate table public.my_table (\r\n\tid varchar(255) not null,\r\n\t&quot;type&quot; varchar(10) not null,\r\n\tconstraint my_table primary key (id)\r\n);\r\n```","title":"How do I make Java &amp; Postgres enums work together for update?","body":"<pre><code>@Enumerated(EnumType.STRING)\n@Column(name = &quot;type&quot;, nullable = false)\nprivate TypeEnum type;\n</code></pre>\n<pre><code>public enum JobTypeEnum {\n    A,\n    B\n}\n</code></pre>\n<pre><code>create table public.my_table (\n    id varchar(255) not null,\n    &quot;type&quot; varchar(10) not null,\n    constraint my_table primary key (id)\n);\n</code></pre>\n"}],"owner":{"account_id":463980,"reputation":6172,"user_id":867206,"accept_rate":14,"display_name":"Ajay Takur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25273,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":55146310,"answer_count":5,"score":25,"last_activity_date":1697519900,"creation_date":1477990419,"question_id":40356750,"body_markdown":"acttype is an enumcs so you can&#39;t insert it as a normal string\r\nwithout casting it to an enumcs `INSERT INTO dir_act (actcode,actname,acttype,national_code) VALUES (?,?,?::enumcs,?)`\r\n\r\nWhere as for updating I tried with same typecasting as follows, but it does not worked.\r\n\r\n    update dir_act set actname=?,acttype=?::enumcs,national_code=? where actcode=?","title":"How do I make Java &amp; Postgres enums work together for update?","body":"<p>acttype is an enumcs so you can't insert it as a normal string\nwithout casting it to an enumcs <code>INSERT INTO dir_act (actcode,actname,acttype,national_code) VALUES (?,?,?::enumcs,?)</code></p>\n<p>Where as for updating I tried with same typecasting as follows, but it does not worked.</p>\n<pre><code>update dir_act set actname=?,acttype=?::enumcs,national_code=? where actcode=?\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"score":1,"creation_date":1697514581,"post_id":77306057,"comment_id":136286080,"body_markdown":"I am not sure if this is what you really want to achieve. Do you want to avoid having more then 10 instances created at all or in parallel? Anyway, throwing RuntimeException during construction is not a good practice. I would rather go for private constructors and a Factory method. If you need assist on that, let me know","body":"I am not sure if this is what you really want to achieve. Do you want to avoid having more then 10 instances created at all or in parallel? Anyway, throwing RuntimeException during construction is not a good practice. I would rather go for private constructors and a Factory method. If you need assist on that, let me know"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1697514712,"post_id":77306057,"comment_id":136286089,"body_markdown":"And using `RuntimeException` like that in any circumstances is not good practice.  Either use an existing more specific exception class ... or declare one for yourself.","body":"And using <code>RuntimeException</code> like that in any circumstances is not good practice.  Either use an existing more specific exception class ... or declare one for yourself."},{"owner":{"account_id":29636514,"reputation":5,"user_id":22713628,"display_name":"Duo"},"score":0,"creation_date":1697515212,"post_id":77306057,"comment_id":136286128,"body_markdown":"Pls ingore the `RuntimeException` here, it may be something other...","body":"Pls ingore the <code>RuntimeException</code> here, it may be something other..."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1697515393,"post_id":77306057,"comment_id":136286135,"body_markdown":"So what&#39;s your question exactly?","body":"So what&#39;s your question exactly?"},{"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"score":1,"creation_date":1697515711,"post_id":77306057,"comment_id":136286153,"body_markdown":"What happens when an instance goes out of scope and/or is garbage collected?  Do you want only 10 instances created for the life of the application, or a limit of 10 instances at any one time?","body":"What happens when an instance goes out of scope and/or is garbage collected?  Do you want only 10 instances created for the life of the application, or a limit of 10 instances at any one time?"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1697520158,"post_id":77306057,"comment_id":136286510,"body_markdown":"What are you trying to prevent? Are you trying to guard against coding mistakes (&quot;oops, I created too many objects!&quot;) or something like a malicious attack? Right off the bat, one thing that jumps out with your `static count` approach is that it&#39;ll make it harder to unit test: either tests will have to reuse objects (which makes them more fragile) or you&#39;ll have to figure out a backdoor that lets you get around the 10-instance restriction. (Or you&#39;ll be limited to a max of ~10 tests.)","body":"What are you trying to prevent? Are you trying to guard against coding mistakes (&quot;oops, I created too many objects!&quot;) or something like a malicious attack? Right off the bat, one thing that jumps out with your <code>static count</code> approach is that it&#39;ll make it harder to unit test: either tests will have to reuse objects (which makes them more fragile) or you&#39;ll have to figure out a backdoor that lets you get around the 10-instance restriction. (Or you&#39;ll be limited to a max of ~10 tests.)"}],"answers":[{"comments":[{"owner":{"account_id":29636514,"reputation":5,"user_id":22713628,"display_name":"Duo"},"score":0,"creation_date":1697518151,"post_id":77306142,"comment_id":136286335,"body_markdown":"It&#39;ll bypass with reflection.","body":"It&#39;ll bypass with reflection."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":1,"creation_date":1697519966,"post_id":77306142,"comment_id":136286488,"body_markdown":"If the external code you&#39;re worried about has permissions to access private members via reflection, there&#39;s not much you can do. In the snippet in your question, for example, someone could also just use reflection to set `count = 0` (or even set it to 15 before you instantiate any objects, as a denial of service).","body":"If the external code you&#39;re worried about has permissions to access private members via reflection, there&#39;s not much you can do. In the snippet in your question, for example, someone could also just use reflection to set <code>count = 0</code> (or even set it to 15 before you instantiate any objects, as a denial of service)."},{"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"score":1,"creation_date":1697522721,"post_id":77306142,"comment_id":136286810,"body_markdown":"As yshavit already mentioned, there is not much you can do against reflection, if you do not limit it via the security manager. Some could also decompile your class files, change the code and use &#39;customized&#39; classes","body":"As yshavit already mentioned, there is not much you can do against reflection, if you do not limit it via the security manager. Some could also decompile your class files, change the code and use &#39;customized&#39; classes"},{"owner":{"account_id":29636514,"reputation":5,"user_id":22713628,"display_name":"Duo"},"score":0,"creation_date":1697545078,"post_id":77306142,"comment_id":136290903,"body_markdown":"↑ Thank you to tell me the `security manager` has capability to limit reflection.","body":"↑ Thank you to tell me the <code>security manager</code> has capability to limit reflection."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1697559757,"post_id":77306142,"comment_id":136294033,"body_markdown":"Oh, also: you should check `count` _before_ you increment it, not after. As written, this code (and the code in the question itself) has a vulnerability: if you invoke it enough times to cause integer overflow, you&#39;ll be able to create more objects. I haven&#39;t tried it (don&#39;t have Java on my current machine), but I doubt it would take very long.","body":"Oh, also: you should check <code>count</code> <i>before</i> you increment it, not after. As written, this code (and the code in the question itself) has a vulnerability: if you invoke it enough times to cause integer overflow, you&#39;ll be able to create more objects. I haven&#39;t tried it (don&#39;t have Java on my current machine), but I doubt it would take very long."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1697568160,"post_id":77306142,"comment_id":136295388,"body_markdown":"Use of Java modules will also protect against reflective access, as long as you control the startup of Java.","body":"Use of Java modules will also protect against reflective access, as long as you control the startup of Java."}],"tags":[],"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697515864,"creation_date":1697515864,"answer_id":77306142,"question_id":77306057,"body_markdown":"As mentioned in the comments. If you want to limit the instantiation of your class, I would rather prefer a factory method. Setting the class to final should also prevent overwriting it...\r\n\r\n    package abc;\r\n\r\n    public final class Foo {\r\n    \r\n        private static final Object o = new Object();\r\n    \r\n        private static volatile int count = 0;\r\n    \r\n        public static void main(String... args) throws InstantiationException {\r\n            for (int i = 1; i &lt; 12; i++) {\r\n                final Foo foo = Foo.newInstance(&quot;HelloWorld!-&quot; + i);\r\n                System.out.println(foo.getMessage());\r\n            }\r\n        }\r\n    \r\n        public static Foo newInstance(final String message) throws InstantiationException {\r\n            synchronized (o) {\r\n                count++;\r\n                if (count &gt; 10) {\r\n                    throw new InstantiationException(&quot;the instance cannot be created for more than 10 times.&quot;);\r\n                }\r\n                return new Foo(message);\r\n            }\r\n        }\r\n    \r\n        private final String message;\r\n    \r\n        private Foo(final String message) {\r\n            this.message = message;\r\n        }\r\n    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    }\r\n\r\nBut once more is this really what you want to do? Or do you want to reduce the number of parallel instances?\r\n\r\nRegards,\r\nThomas","title":"how to know the number of times that an instance has been created?","body":"<p>As mentioned in the comments. If you want to limit the instantiation of your class, I would rather prefer a factory method. Setting the class to final should also prevent overwriting it...</p>\n<pre><code>package abc;\n\npublic final class Foo {\n\n    private static final Object o = new Object();\n\n    private static volatile int count = 0;\n\n    public static void main(String... args) throws InstantiationException {\n        for (int i = 1; i &lt; 12; i++) {\n            final Foo foo = Foo.newInstance(&quot;HelloWorld!-&quot; + i);\n            System.out.println(foo.getMessage());\n        }\n    }\n\n    public static Foo newInstance(final String message) throws InstantiationException {\n        synchronized (o) {\n            count++;\n            if (count &gt; 10) {\n                throw new InstantiationException(&quot;the instance cannot be created for more than 10 times.&quot;);\n            }\n            return new Foo(message);\n        }\n    }\n\n    private final String message;\n\n    private Foo(final String message) {\n        this.message = message;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n}\n</code></pre>\n<p>But once more is this really what you want to do? Or do you want to reduce the number of parallel instances?</p>\n<p>Regards,\nThomas</p>\n"}],"owner":{"account_id":29636514,"reputation":5,"user_id":22713628,"display_name":"Duo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77306142,"answer_count":1,"score":0,"last_activity_date":1697519459,"creation_date":1697514090,"question_id":77306057,"body_markdown":"I want to prevent instances from been created over the limit, the following code is the best practices?\r\n\r\n```\r\npublic class Foo {\r\n    private static volatile int count = 0;\r\n\r\n    {\r\n        synchronized (Foo.class) {\r\n            count++;\r\n            if (count &gt; 10) {\r\n                throw new RuntimeException(&quot;the instance cannot be created for more than 10 times.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    public Foo() { ... }\r\n    public Foo(String arg) { ... }\r\n    ...\r\n}\r\n```\r\n\r\n\r\nI&#39;m not sure if there are any ways to bypass the check.","title":"how to know the number of times that an instance has been created?","body":"<p>I want to prevent instances from been created over the limit, the following code is the best practices?</p>\n<pre><code>public class Foo {\n    private static volatile int count = 0;\n\n    {\n        synchronized (Foo.class) {\n            count++;\n            if (count &gt; 10) {\n                throw new RuntimeException(&quot;the instance cannot be created for more than 10 times.&quot;);\n            }\n        }\n    }\n\n    public Foo() { ... }\n    public Foo(String arg) { ... }\n    ...\n}\n</code></pre>\n<p>I'm not sure if there are any ways to bypass the check.</p>\n"},{"tags":["java","gradle","groovy","multi-tenant","micronaut"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1697460389,"post_id":77301863,"comment_id":136278797,"body_markdown":"Posts on stackoverflow get nothing from me.","body":"Posts on stackoverflow get nothing from me."}],"owner":{"account_id":29683171,"reputation":1,"user_id":22749389,"display_name":"Vivek Sangode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697518807,"creation_date":1697458284,"question_id":77301863,"body_markdown":"If I hit the post method I got the error `Internal Server Error: No GORM implementations configured. Ensure GORM has been initialized correctly`\r\nIn MultiTenantResolver, resolveCurrentTenantIdentifier is use to identify the tenantId from header which passed during the request get hit, I implemented the multitenancy code properly but my database is not changing while tenantid is in header\r\n\r\n\r\n```\r\nimport grails.gorm.multitenancy.CurrentTenant\r\nimport grails.gorm.multitenancy.Tenants\r\nimport io.micronaut.http.annotation.Body\r\nimport io.micronaut.http.annotation.Controller\r\nimport io.micronaut.http.annotation.Post\r\nimport jakarta.inject.Inject\r\nimport java.net.http.HttpResponse\r\n\r\n@Controller(&quot;/api&quot;)\r\n@CurrentTenant\r\nclass DummyController {\r\n    @Inject\r\n    private Accountserviceimpl accountserviceimpl;\r\n    @Inject\r\n    private MultiTenantResolver multiTenantResolver;\r\n    @Post(&quot;/accounts&quot;)\r\n    public HttpResponse&lt;Account&gt; createAccounts(@Body Account account){\r\n        String tenantId = multiTenantResolver.resolveCurrentTenantIdentifier();\r\n        Account account1;\r\n        Tenants.withId(tenantId){\r\n            account1 = accountserviceimpl.saveAccount(account);\r\n        }\r\n        return io.micronaut.http.HttpResponse.created(account1);\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"Multitenancy in micronaut java","body":"<p>If I hit the post method I got the error <code>Internal Server Error: No GORM implementations configured. Ensure GORM has been initialized correctly</code>\nIn MultiTenantResolver, resolveCurrentTenantIdentifier is use to identify the tenantId from header which passed during the request get hit, I implemented the multitenancy code properly but my database is not changing while tenantid is in header</p>\n<pre><code>import grails.gorm.multitenancy.CurrentTenant\nimport grails.gorm.multitenancy.Tenants\nimport io.micronaut.http.annotation.Body\nimport io.micronaut.http.annotation.Controller\nimport io.micronaut.http.annotation.Post\nimport jakarta.inject.Inject\nimport java.net.http.HttpResponse\n\n@Controller(&quot;/api&quot;)\n@CurrentTenant\nclass DummyController {\n    @Inject\n    private Accountserviceimpl accountserviceimpl;\n    @Inject\n    private MultiTenantResolver multiTenantResolver;\n    @Post(&quot;/accounts&quot;)\n    public HttpResponse&lt;Account&gt; createAccounts(@Body Account account){\n        String tenantId = multiTenantResolver.resolveCurrentTenantIdentifier();\n        Account account1;\n        Tenants.withId(tenantId){\n            account1 = accountserviceimpl.saveAccount(account);\n        }\n        return io.micronaut.http.HttpResponse.created(account1);\n    }\n}\n</code></pre>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":3691447,"reputation":6845,"user_id":3073945,"accept_rate":90,"display_name":"Md. Sajedul Karim"},"score":0,"creation_date":1526459815,"post_id":13012584,"comment_id":87748243,"body_markdown":"Check this answer. It has complete answer:\nhttps://stackoverflow.com/a/50365522/3073945","body":"Check this answer. It has complete answer: <a href=\"https://stackoverflow.com/a/50365522/3073945\">stackoverflow.com/a/50365522/3073945</a>"},{"owner":{"account_id":1697192,"reputation":608,"user_id":1558323,"display_name":"him"},"score":0,"creation_date":1539822108,"post_id":13012584,"comment_id":92644702,"body_markdown":"he&#39;s using jpa, not spring","body":"he&#39;s using jpa, not spring"}],"answers":[{"comments":[{"owner":{"account_id":262192,"reputation":5128,"user_id":546888,"accept_rate":68,"display_name":"Gunjan Shah"},"score":4,"creation_date":1350924334,"post_id":13013074,"comment_id":17663766,"body_markdown":"Thanks for the answer.Here I dont need DTO pattern. My requirement is not to hide the annotation details from the client. So I dont need to create one more POJO in my app. My requirement is to cast the result set to qa pojo that is not an JAVA entity but simple POJO class that have same fields as result set columns.","body":"Thanks for the answer.Here I dont need DTO pattern. My requirement is not to hide the annotation details from the client. So I dont need to create one more POJO in my app. My requirement is to cast the result set to qa pojo that is not an JAVA entity but simple POJO class that have same fields as result set columns."}],"tags":[],"owner":{"account_id":1716961,"reputation":9711,"user_id":1573835,"accept_rate":49,"display_name":"Zaw Than oo"},"comment_count":1,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1350914439,"creation_date":1350914439,"answer_id":13013074,"question_id":13012584,"body_markdown":"Use `DTO Design Pattern`. It was used in `EJB 2.0`. Entity was container managed. `DTO Design Pattern` is used to solve this problem.\r\nBut, it might be use now, when the application is developed `Server Side` and `Client Side` separately.`DTO` is used when `Server side` doesn&#39;t want to pass/return `Entity` with annotation to `Client Side`.\r\n\r\nDTO Example :\r\n\r\nPersonEntity.java\r\n\t\r\n\t@Entity\r\n\tpublic class PersonEntity {\r\n\t\t@Id\r\n\t\tprivate String id;\r\n\t\tprivate String address;\r\n\t\t\r\n\t\tpublic PersonEntity(){\r\n\t\t\r\n\t\t}\r\n\t\tpublic PersonEntity(String id, String address) {\r\n\t\t\tthis.id = id;\r\n\t\t\tthis.address = address;\r\n\t\t}\r\n\t\t//getter and setter\r\n\t\t\r\n\t}\r\n\t\r\nPersonDTO.java\r\n\t\r\n\tpublic class PersonDTO {\r\n\t\tprivate String id;\r\n\t\tprivate String address;\r\n\t\t\r\n\t\tpublic PersonDTO() {\r\n\t\t}\r\n\t\tpublic PersonDTO(String id, String address) {\r\n\t\t\tthis.id = id;\r\n\t\t\tthis.address = address;\r\n\t\t}\r\n\t\t\r\n\t\t//getter and setter\t\r\n\t}\r\n\r\nDTOBuilder.java\r\n\t\r\n\tpublic class DTOBuilder() {\r\n\t\tpublic static PersonDTO buildPersonDTO(PersonEntity person) {\r\n\t\t\treturn new PersonDTO(person.getId(). person.getAddress());\r\n\t\t}\r\n\t}\r\n\t\r\nEntityBuilder.java &lt;-- it mide be need\r\n\r\n\tpublic class EntityBuilder() {\r\n\t\tpublic static PersonEntity buildPersonEntity(PersonDTO person) {\r\n\t\t\treturn new PersonEntity(person.getId(). person.getAddress());\r\n\t\t}\r\n\t}","title":"JPA : How to convert a native query result set to POJO class collection","body":"<p>Use <code>DTO Design Pattern</code>. It was used in <code>EJB 2.0</code>. Entity was container managed. <code>DTO Design Pattern</code> is used to solve this problem.\nBut, it might be use now, when the application is developed <code>Server Side</code> and <code>Client Side</code> separately.<code>DTO</code> is used when <code>Server side</code> doesn't want to pass/return <code>Entity</code> with annotation to <code>Client Side</code>.</p>\n\n<p>DTO Example :</p>\n\n<p>PersonEntity.java</p>\n\n<pre><code>@Entity\npublic class PersonEntity {\n    @Id\n    private String id;\n    private String address;\n\n    public PersonEntity(){\n\n    }\n    public PersonEntity(String id, String address) {\n        this.id = id;\n        this.address = address;\n    }\n    //getter and setter\n\n}\n</code></pre>\n\n<p>PersonDTO.java</p>\n\n<pre><code>public class PersonDTO {\n    private String id;\n    private String address;\n\n    public PersonDTO() {\n    }\n    public PersonDTO(String id, String address) {\n        this.id = id;\n        this.address = address;\n    }\n\n    //getter and setter \n}\n</code></pre>\n\n<p>DTOBuilder.java</p>\n\n<pre><code>public class DTOBuilder() {\n    public static PersonDTO buildPersonDTO(PersonEntity person) {\n        return new PersonDTO(person.getId(). person.getAddress());\n    }\n}\n</code></pre>\n\n<p>EntityBuilder.java &lt;-- it mide be need</p>\n\n<pre><code>public class EntityBuilder() {\n    public static PersonEntity buildPersonEntity(PersonDTO person) {\n        return new PersonEntity(person.getId(). person.getAddress());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":262192,"reputation":5128,"user_id":546888,"accept_rate":68,"display_name":"Gunjan Shah"},"score":2,"creation_date":1350924739,"post_id":13013323,"comment_id":17663927,"body_markdown":"Thanks for the reply. Here we are mapping our result with the entity with tha java entity class with &quot;@EntityResult&quot; and &quot;@FieldResult&quot; annotations. Thats fine. But here i need more clarity. Is is required that the class which we are mapping with the result must be a JPA entity class ? OR  can we use a simple POJO class which is not an entity buy which have all the required variable as the columns in  the result set.","body":"Thanks for the reply. Here we are mapping our result with the entity with tha java entity class with &quot;@EntityResult&quot; and &quot;@FieldResult&quot; annotations. Thats fine. But here i need more clarity. Is is required that the class which we are mapping with the result must be a JPA entity class ? OR  can we use a simple POJO class which is not an entity buy which have all the required variable as the columns in  the result set."},{"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"score":1,"creation_date":1350925491,"post_id":13013323,"comment_id":17664217,"body_markdown":"@GunjanShah: best way to know is to give it a try :) also, an entity is just the same pojo, just with some annotations. as long as you&#39;re not trying to persist it, it will stay a pojo.","body":"@GunjanShah: best way to know is to give it a try :) also, an entity is just the same pojo, just with some annotations. as long as you&#39;re not trying to persist it, it will stay a pojo."},{"owner":{"account_id":921744,"reputation":14460,"user_id":953327,"accept_rate":76,"display_name":"FGreg"},"score":2,"creation_date":1359582197,"post_id":13013323,"comment_id":20408009,"body_markdown":"When I tried this I got an error that the class was not a known Entity. I ended up using this approach http://stackoverflow.com/questions/5024533/how-to-map-join-query-to-non-entity-class-in-jpa?rq=1 instead of trying to use a native query.","body":"When I tried this I got an error that the class was not a known Entity. I ended up using this approach <a href=\"http://stackoverflow.com/questions/5024533/how-to-map-join-query-to-non-entity-class-in-jpa?rq=1\" title=\"how to map join query to non entity class in jpa\">stackoverflow.com/questions/5024533/&hellip;</a> instead of trying to use a native query."},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1391186414,"post_id":13013323,"comment_id":32429444,"body_markdown":"I think @SqlResultSetMapping only works mapping to entities not just to POJOs.","body":"I think @SqlResultSetMapping only works mapping to entities not just to POJOs."},{"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"score":2,"creation_date":1391187262,"post_id":13013323,"comment_id":32429937,"body_markdown":"@EdwinDalorzo: that&#39;s right for jpa 1.0. in jpa 2.1 they&#39;ve added `ConstructorResult` as one of parameters to `SqlResultSetMapping` that allows to use a pojo with all fields set in constructor. I&#39;ll update the answer.","body":"@EdwinDalorzo: that&#39;s right for jpa 1.0. in jpa 2.1 they&#39;ve added <code>ConstructorResult</code> as one of parameters to <code>SqlResultSetMapping</code> that allows to use a pojo with all fields set in constructor. I&#39;ll update the answer."},{"owner":{"account_id":2033353,"reputation":168,"user_id":1816384,"accept_rate":100,"display_name":"Arnab Dutta"},"score":5,"creation_date":1521750950,"post_id":13013323,"comment_id":85877985,"body_markdown":"I see another bitter truth: \n           ConstructorResult can map to a POJO .. \n           BUT ConstructorResult itself has to be in the Entity class\n\nso Entity you can&#39;t avoid...and hence the bigger hard fact:\n\nyou need some result with don&#39;t care to primary-key - still you have to have @Id in Entity ...ridiculous right ?","body":"I see another bitter truth:             ConstructorResult can map to a POJO ..             BUT ConstructorResult itself has to be in the Entity class  so Entity you can&#39;t avoid...and hence the bigger hard fact:  you need some result with don&#39;t care to primary-key - still you have to have @Id in Entity ...ridiculous right ?"},{"owner":{"account_id":1587106,"reputation":709,"user_id":1471181,"display_name":"billschen"},"score":0,"creation_date":1544752466,"post_id":13013323,"comment_id":94396819,"body_markdown":"Spring JPA 2.1 ,a very clear example in : https://github.com/spring-projects/spring-data-examples/tree/master/jpa/jpa21","body":"Spring JPA 2.1 ,a very clear example in : <a href=\"https://github.com/spring-projects/spring-data-examples/tree/master/jpa/jpa21\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-data-examples/tree/master/&zwnj;&#8203;jpa/&hellip;</a>"}],"tags":[],"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"comment_count":7,"down_vote_count":0,"up_vote_count":120,"is_accepted":true,"score":120,"last_activity_date":1391188162,"creation_date":1350915360,"answer_id":13013323,"question_id":13012584,"body_markdown":"JPA provides an [`SqlResultSetMapping`][1] that allows you to map whatever returns from your native query into an Entity &lt;del&gt;or a custom class&lt;/del&gt;.\r\n\r\n**EDIT** JPA 1.0 does not allow mapping to non-entity classes. Only in JPA 2.1 a [ConstructorResult][2] has been added to map return values a java class.\r\n\r\nAlso, for OP&#39;s problem with getting count it should be enough to define a result set mapping with a single [`ColumnResult`][3]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/5/api/javax/persistence/SqlResultSetMapping.html\r\n  [2]: http://docs.oracle.com/javaee/7/api/javax/persistence/ConstructorResult.html\r\n  [3]: http://docs.oracle.com/javaee/7/api/javax/persistence/ColumnResult.html","title":"JPA : How to convert a native query result set to POJO class collection","body":"<p>JPA provides an <a href=\"http://docs.oracle.com/javaee/5/api/javax/persistence/SqlResultSetMapping.html\" rel=\"noreferrer\"><code>SqlResultSetMapping</code></a> that allows you to map whatever returns from your native query into an Entity <del>or a custom class</del>.</p>\n\n<p><strong>EDIT</strong> JPA 1.0 does not allow mapping to non-entity classes. Only in JPA 2.1 a <a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/ConstructorResult.html\" rel=\"noreferrer\">ConstructorResult</a> has been added to map return values a java class.</p>\n\n<p>Also, for OP's problem with getting count it should be enough to define a result set mapping with a single <a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/ColumnResult.html\" rel=\"noreferrer\"><code>ColumnResult</code></a></p>\n"},{"comments":[{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":1,"creation_date":1411119907,"post_id":21487061,"comment_id":40593807,"body_markdown":"Sidenote: I just used the JPA 2.0 approach with JPA2.1 dependency, and it failed. So probably this is not downwards compatible...","body":"Sidenote: I just used the JPA 2.0 approach with JPA2.1 dependency, and it failed. So probably this is not downwards compatible..."},{"owner":{"account_id":1116592,"reputation":2160,"user_id":1105785,"accept_rate":77,"display_name":"xyz"},"score":0,"creation_date":1426585894,"post_id":21487061,"comment_id":46422767,"body_markdown":"How can we map resultset for @Query annotaion?","body":"How can we map resultset for @Query annotaion?"},{"owner":{"account_id":1764320,"reputation":1833,"user_id":1610544,"accept_rate":25,"display_name":"Alboz"},"score":2,"creation_date":1429544182,"post_id":21487061,"comment_id":47636620,"body_markdown":"what do you mean by &quot;somewhere in a entity&quot; ? My Pojo is not a JPA Entity can&#39;t I declare the @SqlResultSetMapping in my POJO? I&#39;m interested in the JPA 2.1 solutions. Please be a bit more precise.","body":"what do you mean by &quot;somewhere in a entity&quot; ? My Pojo is not a JPA Entity can&#39;t I declare the @SqlResultSetMapping in my POJO? I&#39;m interested in the JPA 2.1 solutions. Please be a bit more precise."},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":9,"creation_date":1429544457,"post_id":21487061,"comment_id":47636812,"body_markdown":"@Alboz The `@SqlResultSetMapping` must be placed in an entity because that&#39;s what JPA is going to read the metadata from. You cannot expect JPA to inspect your POJOs. The entity in which you place the mapping is irrelevant, perhaps the one that is more related to your POJO results. Alternatively the mapping could be expressed in XML to avoid the coupling with a totally unrelated entity.","body":"@Alboz The <code>@SqlResultSetMapping</code> must be placed in an entity because that&#39;s what JPA is going to read the metadata from. You cannot expect JPA to inspect your POJOs. The entity in which you place the mapping is irrelevant, perhaps the one that is more related to your POJO results. Alternatively the mapping could be expressed in XML to avoid the coupling with a totally unrelated entity."},{"owner":{"account_id":80866,"reputation":11667,"user_id":228369,"accept_rate":79,"display_name":"chrismarx"},"score":1,"creation_date":1445543247,"post_id":21487061,"comment_id":54378867,"body_markdown":"Is it possible for the constructorresult to use a class that has a nested class?","body":"Is it possible for the constructorresult to use a class that has a nested class?"},{"owner":{"account_id":375527,"reputation":8992,"user_id":726422,"accept_rate":100,"display_name":"Glenn"},"score":8,"creation_date":1461124196,"post_id":21487061,"comment_id":61050271,"body_markdown":"If using JPA 2.1 with `@SqlResultSetMapping` it may be worth noting that the `Jedi` class will require an all-arg constructor and  the `@ColumnResult` annotation may need the `type` attribute added to conversions which might not be implicit (I needed to add  `type = ZonedDateTime.class` for some columns).","body":"If using JPA 2.1 with <code>@SqlResultSetMapping</code> it may be worth noting that the <code>Jedi</code> class will require an all-arg constructor and  the <code>@ColumnResult</code> annotation may need the <code>type</code> attribute added to conversions which might not be implicit (I needed to add  <code>type = ZonedDateTime.class</code> for some columns)."},{"owner":{"account_id":1084159,"reputation":624,"user_id":1080301,"accept_rate":78,"display_name":"Thomas"},"score":0,"creation_date":1467801106,"post_id":21487061,"comment_id":63865865,"body_markdown":"I want to add, that ResultSetMapping does not work with Long instead of a POJO. Might have to do with Glenn&#39;s comment about the constructor requirement.","body":"I want to add, that ResultSetMapping does not work with Long instead of a POJO. Might have to do with Glenn&#39;s comment about the constructor requirement."},{"owner":{"account_id":3711134,"reputation":1232,"user_id":3088458,"accept_rate":94,"display_name":"alexander"},"score":0,"creation_date":1472290009,"post_id":21487061,"comment_id":65700553,"body_markdown":"I am getting always an &quot;No query defined for that name&quot;. I just copied your example. I am jusing JPA 2.0. Have you any clue?","body":"I am getting always an &quot;No query defined for that name&quot;. I just copied your example. I am jusing JPA 2.0. Have you any clue?"},{"owner":{"account_id":2768698,"reputation":472,"user_id":2383755,"accept_rate":80,"display_name":"pablorc"},"score":0,"creation_date":1473038950,"post_id":21487061,"comment_id":65977811,"body_markdown":"Something quick to add to this answer is that if you are using Spring to wire the EntityManager you can tell it to read the ORM XML file. \n\n    &lt;bean id=&quot;myEntityManagerFactory&quot;\n              class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;myDataSource&quot;/&gt;\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;model&quot;/&gt;\n        &lt;property name=&quot;mappingResources&quot; value=&quot;META-INF/orm.xml&quot; /&gt;\n        ...\n    &lt;/bean&gt;","body":"Something quick to add to this answer is that if you are using Spring to wire the EntityManager you can tell it to read the ORM XML file.       &lt;bean id=&quot;myEntityManagerFactory&quot;               class=&quot;org.springframework.orm.jpa.LocalContainerEntityManag&zwnj;&#8203;erFactoryBean&quot;&gt;         &lt;property name=&quot;dataSource&quot; ref=&quot;myDataSource&quot;/&gt;         &lt;property name=&quot;packagesToScan&quot; value=&quot;model&quot;/&gt;         &lt;property name=&quot;mappingResources&quot; value=&quot;META-INF/orm.xml&quot; /&gt;         ...     &lt;/bean&gt;"},{"owner":{"account_id":1829075,"reputation":1414,"user_id":2502267,"accept_rate":0,"display_name":"fjkjava"},"score":0,"creation_date":1473277676,"post_id":21487061,"comment_id":66083815,"body_markdown":"I dont like this solution because you need to add @SqlResultSetMapping to and entity that may have no relation to the pojo.","body":"I dont like this solution because you need to add @SqlResultSetMapping to and entity that may have no relation to the pojo."},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1473285304,"post_id":21487061,"comment_id":66087052,"body_markdown":"@fjkjava If you had read the entire answer, you would have noticed that the last section addresses precisely that issue.","body":"@fjkjava If you had read the entire answer, you would have noticed that the last section addresses precisely that issue."},{"owner":{"account_id":1829075,"reputation":1414,"user_id":2502267,"accept_rate":0,"display_name":"fjkjava"},"score":0,"creation_date":1473285811,"post_id":21487061,"comment_id":66087229,"body_markdown":"I saw that but i dont like that in xml also, no xml configs in my application, why can&#39;t they let us use that as a part of StoredProcedureQuery or @Repository","body":"I saw that but i dont like that in xml also, no xml configs in my application, why can&#39;t they let us use that as a part of StoredProcedureQuery or @Repository"},{"owner":{"account_id":4904476,"reputation":4812,"user_id":3951576,"accept_rate":50,"display_name":"eastwater"},"score":0,"creation_date":1516399424,"post_id":21487061,"comment_id":83686939,"body_markdown":"@fjkjava do not understand. Native query and stored procedure query are two things, right?","body":"@fjkjava do not understand. Native query and stored procedure query are two things, right?"},{"owner":{"account_id":6905825,"reputation":599,"user_id":5654696,"display_name":"Canatto Filipe"},"score":0,"creation_date":1539170736,"post_id":21487061,"comment_id":92402753,"body_markdown":"Can you give an example of how would be the constructor of the Jedi class?.","body":"Can you give an example of how would be the constructor of the Jedi class?."},{"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"score":0,"creation_date":1560341142,"post_id":21487061,"comment_id":99703029,"body_markdown":"Could you answer the following question. Suppose we have two tables (A and B) and make `SELECT B.X, B.Y FROM A LEFT JOIN B ON ...`. Will JPA provider convert the results of such query to B entities?","body":"Could you answer the following question. Suppose we have two tables (A and B) and make <code>SELECT B.X, B.Y FROM A LEFT JOIN B ON ...</code>. Will JPA provider convert the results of such query to B entities?"},{"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"score":0,"creation_date":1641286881,"post_id":21487061,"comment_id":124759699,"body_markdown":"What chances of automated mapping do I have, when I need to query a SQL view (that does not have any Entity) and want to map a few columns to a projection-like DTO? I could not get working using SqlResultSetMapping. Only way I could get data into my object so far is by using native query and mapping results manually","body":"What chances of automated mapping do I have, when I need to query a SQL view (that does not have any Entity) and want to map a few columns to a projection-like DTO? I could not get working using SqlResultSetMapping. Only way I could get data into my object so far is by using native query and mapping results manually"},{"owner":{"account_id":1882875,"reputation":104,"user_id":1702670,"display_name":"rastov"},"score":1,"creation_date":1662129941,"post_id":21487061,"comment_id":129942028,"body_markdown":"Thanks for a great solution, I like the one with XML mapping mainly for the reason of not having the query and the mapper scattered over several places. Anyway, I would wish a more elegant solution from the JPA authors as all the solutions are kind of workaround.","body":"Thanks for a great solution, I like the one with XML mapping mainly for the reason of not having the query and the mapper scattered over several places. Anyway, I would wish a more elegant solution from the JPA authors as all the solutions are kind of workaround."},{"owner":{"account_id":1295200,"reputation":74,"user_id":1246437,"display_name":"Bohdan Shulha"},"score":1,"creation_date":1665003186,"post_id":21487061,"comment_id":130600407,"body_markdown":"Man, thank you soo much for a solution with XML mapping. For some reason, my IntelliJ IDEA doesn&#39;t autocomplete exactly this solution, so I dig half of the internet (incl. docs) to find this answer :)","body":"Man, thank you soo much for a solution with XML mapping. For some reason, my IntelliJ IDEA doesn&#39;t autocomplete exactly this solution, so I dig half of the internet (incl. docs) to find this answer :)"}],"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"comment_count":18,"down_vote_count":1,"up_vote_count":263,"is_accepted":false,"score":262,"last_activity_date":1541538529,"creation_date":1391191716,"answer_id":21487061,"question_id":13012584,"body_markdown":"I have found a couple of solutions to this. \r\n\r\n**Using Mapped Entities (JPA 2.0)**\r\n\r\nUsing JPA 2.0 it is not possible to map a native query to a POJO, it can only be done with an entity.\r\n\r\nFor instance:\r\n\r\n    Query query = em.createNativeQuery(&quot;SELECT name,age FROM jedi_table&quot;, Jedi.class);\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    List&lt;Jedi&gt; items = (List&lt;Jedi&gt;) query.getResultList();\r\n\r\nBut in this case, `Jedi`, must be a mapped entity class.\r\n\r\nAn alternative to avoid the unchecked warning here, would be to use a named native query. So if we declare the native query in an entity\r\n\r\n    @NamedNativeQuery(\r\n     name=&quot;jedisQry&quot;, \r\n     query = &quot;SELECT name,age FROM jedis_table&quot;, \r\n     resultClass = Jedi.class)\r\n\r\nThen, we can simply do:\r\n\r\n    TypedQuery&lt;Jedi&gt; query = em.createNamedQuery(&quot;jedisQry&quot;, Jedi.class);\r\n    List&lt;Jedi&gt; items = query.getResultList();\r\n\r\nThis is safer, but we are still restricted to use a mapped entity.\r\n\r\n**Manual Mapping**\r\n\r\nA solution I experimented a bit (before the arrival of JPA 2.1) was doing mapping against a POJO constructor using a bit of reflection.\r\n\r\n    public static &lt;T&gt; T map(Class&lt;T&gt; type, Object[] tuple){\r\n       List&lt;Class&lt;?&gt;&gt; tupleTypes = new ArrayList&lt;&gt;();\r\n       for(Object field : tuple){\r\n          tupleTypes.add(field.getClass());\r\n       }\r\n       try {\r\n          Constructor&lt;T&gt; ctor = type.getConstructor(tupleTypes.toArray(new Class&lt;?&gt;[tuple.length]));\r\n          return ctor.newInstance(tuple);\r\n       } catch (Exception e) {\r\n          throw new RuntimeException(e);\r\n       }\r\n    }\r\n\r\nThis method basically takes a tuple array (as returned by native queries) and maps it against a provided POJO class by looking for a constructor that has the same number of fields and of the same type.\r\n\r\nThen we can use convenient methods like:\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; map(Class&lt;T&gt; type, List&lt;Object[]&gt; records){\r\n       List&lt;T&gt; result = new LinkedList&lt;&gt;();\r\n       for(Object[] record : records){\r\n          result.add(map(type, record));\r\n       }\r\n       return result;\r\n    }\r\n    \r\n    public static &lt;T&gt; List&lt;T&gt; getResultList(Query query, Class&lt;T&gt; type){\r\n      @SuppressWarnings(&quot;unchecked&quot;)\r\n      List&lt;Object[]&gt; records = query.getResultList();\r\n      return map(type, records);\r\n    }\r\n\r\nAnd we can simply use this technique as follows:\r\n\r\n    Query query = em.createNativeQuery(&quot;SELECT name,age FROM jedis_table&quot;);\r\n    List&lt;Jedi&gt; jedis = getResultList(query, Jedi.class);\r\n\r\n**JPA 2.1 with @SqlResultSetMapping**\r\n\r\nWith the arrival of JPA 2.1, we can use the @SqlResultSetMapping annotation to solve the problem. \r\n\r\nWe need to declare a result set mapping somewhere in a entity:\r\n\r\n    @SqlResultSetMapping(name=&quot;JediResult&quot;, classes = {\r\n        @ConstructorResult(targetClass = Jedi.class, \r\n        columns = {@ColumnResult(name=&quot;name&quot;), @ColumnResult(name=&quot;age&quot;)})\r\n    })\r\n\r\nAnd then we simply do:\r\n\r\n    Query query = em.createNativeQuery(&quot;SELECT name,age FROM jedis_table&quot;, &quot;JediResult&quot;);\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    List&lt;Jedi&gt; samples = query.getResultList();\r\n\r\nOf course, in this case `Jedi` needs not to be an mapped entity. It can be a regular POJO.\r\n\r\n**Using XML Mapping**\r\n\r\nI am one of those that find adding all these `@SqlResultSetMapping` pretty invasive in my entities, and I particularly dislike the definition of named queries within entities, so alternatively I do all this in the `META-INF/orm.xml` file:\r\n\r\n    &lt;named-native-query name=&quot;GetAllJedi&quot; result-set-mapping=&quot;JediMapping&quot;&gt;\r\n        &lt;query&gt;SELECT name,age FROM jedi_table&lt;/query&gt;\r\n    &lt;/named-native-query&gt;\r\n\r\n    &lt;sql-result-set-mapping name=&quot;JediMapping&quot;&gt;\r\n            &lt;constructor-result target-class=&quot;org.answer.model.Jedi&quot;&gt;\r\n                &lt;column name=&quot;name&quot; class=&quot;java.lang.String&quot;/&gt;\r\n                &lt;column name=&quot;age&quot; class=&quot;java.lang.Integer&quot;/&gt;\r\n            &lt;/constructor-result&gt;\r\n        &lt;/sql-result-set-mapping&gt;\r\n\r\nAnd those are all the solutions I know. The last two are the ideal way if we can use JPA 2.1.\r\n\r\n","title":"JPA : How to convert a native query result set to POJO class collection","body":"<p>I have found a couple of solutions to this. </p>\n\n<p><strong>Using Mapped Entities (JPA 2.0)</strong></p>\n\n<p>Using JPA 2.0 it is not possible to map a native query to a POJO, it can only be done with an entity.</p>\n\n<p>For instance:</p>\n\n<pre><code>Query query = em.createNativeQuery(\"SELECT name,age FROM jedi_table\", Jedi.class);\n@SuppressWarnings(\"unchecked\")\nList&lt;Jedi&gt; items = (List&lt;Jedi&gt;) query.getResultList();\n</code></pre>\n\n<p>But in this case, <code>Jedi</code>, must be a mapped entity class.</p>\n\n<p>An alternative to avoid the unchecked warning here, would be to use a named native query. So if we declare the native query in an entity</p>\n\n<pre><code>@NamedNativeQuery(\n name=\"jedisQry\", \n query = \"SELECT name,age FROM jedis_table\", \n resultClass = Jedi.class)\n</code></pre>\n\n<p>Then, we can simply do:</p>\n\n<pre><code>TypedQuery&lt;Jedi&gt; query = em.createNamedQuery(\"jedisQry\", Jedi.class);\nList&lt;Jedi&gt; items = query.getResultList();\n</code></pre>\n\n<p>This is safer, but we are still restricted to use a mapped entity.</p>\n\n<p><strong>Manual Mapping</strong></p>\n\n<p>A solution I experimented a bit (before the arrival of JPA 2.1) was doing mapping against a POJO constructor using a bit of reflection.</p>\n\n<pre><code>public static &lt;T&gt; T map(Class&lt;T&gt; type, Object[] tuple){\n   List&lt;Class&lt;?&gt;&gt; tupleTypes = new ArrayList&lt;&gt;();\n   for(Object field : tuple){\n      tupleTypes.add(field.getClass());\n   }\n   try {\n      Constructor&lt;T&gt; ctor = type.getConstructor(tupleTypes.toArray(new Class&lt;?&gt;[tuple.length]));\n      return ctor.newInstance(tuple);\n   } catch (Exception e) {\n      throw new RuntimeException(e);\n   }\n}\n</code></pre>\n\n<p>This method basically takes a tuple array (as returned by native queries) and maps it against a provided POJO class by looking for a constructor that has the same number of fields and of the same type.</p>\n\n<p>Then we can use convenient methods like:</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; map(Class&lt;T&gt; type, List&lt;Object[]&gt; records){\n   List&lt;T&gt; result = new LinkedList&lt;&gt;();\n   for(Object[] record : records){\n      result.add(map(type, record));\n   }\n   return result;\n}\n\npublic static &lt;T&gt; List&lt;T&gt; getResultList(Query query, Class&lt;T&gt; type){\n  @SuppressWarnings(\"unchecked\")\n  List&lt;Object[]&gt; records = query.getResultList();\n  return map(type, records);\n}\n</code></pre>\n\n<p>And we can simply use this technique as follows:</p>\n\n<pre><code>Query query = em.createNativeQuery(\"SELECT name,age FROM jedis_table\");\nList&lt;Jedi&gt; jedis = getResultList(query, Jedi.class);\n</code></pre>\n\n<p><strong>JPA 2.1 with @SqlResultSetMapping</strong></p>\n\n<p>With the arrival of JPA 2.1, we can use the @SqlResultSetMapping annotation to solve the problem. </p>\n\n<p>We need to declare a result set mapping somewhere in a entity:</p>\n\n<pre><code>@SqlResultSetMapping(name=\"JediResult\", classes = {\n    @ConstructorResult(targetClass = Jedi.class, \n    columns = {@ColumnResult(name=\"name\"), @ColumnResult(name=\"age\")})\n})\n</code></pre>\n\n<p>And then we simply do:</p>\n\n<pre><code>Query query = em.createNativeQuery(\"SELECT name,age FROM jedis_table\", \"JediResult\");\n@SuppressWarnings(\"unchecked\")\nList&lt;Jedi&gt; samples = query.getResultList();\n</code></pre>\n\n<p>Of course, in this case <code>Jedi</code> needs not to be an mapped entity. It can be a regular POJO.</p>\n\n<p><strong>Using XML Mapping</strong></p>\n\n<p>I am one of those that find adding all these <code>@SqlResultSetMapping</code> pretty invasive in my entities, and I particularly dislike the definition of named queries within entities, so alternatively I do all this in the <code>META-INF/orm.xml</code> file:</p>\n\n<pre><code>&lt;named-native-query name=\"GetAllJedi\" result-set-mapping=\"JediMapping\"&gt;\n    &lt;query&gt;SELECT name,age FROM jedi_table&lt;/query&gt;\n&lt;/named-native-query&gt;\n\n&lt;sql-result-set-mapping name=\"JediMapping\"&gt;\n        &lt;constructor-result target-class=\"org.answer.model.Jedi\"&gt;\n            &lt;column name=\"name\" class=\"java.lang.String\"/&gt;\n            &lt;column name=\"age\" class=\"java.lang.Integer\"/&gt;\n        &lt;/constructor-result&gt;\n    &lt;/sql-result-set-mapping&gt;\n</code></pre>\n\n<p>And those are all the solutions I know. The last two are the ideal way if we can use JPA 2.1.</p>\n"},{"comments":[{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":1,"creation_date":1421926942,"post_id":27597538,"comment_id":44552649,"body_markdown":"Since your `list` is, allegedly, a list of `Employee`, why is your for-each loop iterating over a type `Object`? If you write your for-each loop as `for(Employee emp : list)` then you&#39;d discover that your answer is wrong and the contents of your list are not employees and that that warning you suppressed had the purpose to alert you about this potential mistake.","body":"Since your <code>list</code> is, allegedly, a list of <code>Employee</code>, why is your for-each loop iterating over a type <code>Object</code>? If you write your for-each loop as <code>for(Employee emp : list)</code> then you&#39;d discover that your answer is wrong and the contents of your list are not employees and that that warning you suppressed had the purpose to alert you about this potential mistake."},{"owner":{"account_id":1836998,"reputation":9822,"user_id":1667163,"display_name":"Jonathan L"},"score":0,"creation_date":1422035558,"post_id":27597538,"comment_id":44605714,"body_markdown":"@SuppressWarnings(&quot;unchecked&quot;) is used to suppress warning for     `List&lt;Employee&gt; list = (List&lt;Employee&gt;) query.getResultList();` Change `for (Object emp : list)` to `for (Employee emp : list)` is better, but no errors if kept as `Object emp` since list is an instance of `List&lt;Employee&gt;`. I changed the code in git project but not here to keep your comment relevant to original post","body":"@SuppressWarnings(&quot;unchecked&quot;) is used to suppress warning for     <code>List&lt;Employee&gt; list = (List&lt;Employee&gt;) query.getResultList();</code> Change <code>for (Object emp : list)</code> to <code>for (Employee emp : list)</code> is better, but no errors if kept as <code>Object emp</code> since list is an instance of <code>List&lt;Employee&gt;</code>. I changed the code in git project but not here to keep your comment relevant to original post"},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":1,"creation_date":1422036267,"post_id":27597538,"comment_id":44606097,"body_markdown":"the problem is that your query does not return an list of employes, but a an array of objects. Your suppressed warning is hiding that. In the momento that you try to convert any of those to an employee, you will get an error, a cast exception.","body":"the problem is that your query does not return an list of employes, but a an array of objects. Your suppressed warning is hiding that. In the momento that you try to convert any of those to an employee, you will get an error, a cast exception."},{"owner":{"account_id":1836998,"reputation":9822,"user_id":1667163,"display_name":"Jonathan L"},"score":0,"creation_date":1422047127,"post_id":27597538,"comment_id":44611553,"body_markdown":"Look at `Query query = em.createNativeQuery(&quot;select * ...&quot;, Employee.class);` and persistence.xml, the native query does return a list of  Employee. I just checked out and run the project w/o issue. If you setup mysql sample employees db locally, you should be able to run the project as well","body":"Look at <code>Query query = em.createNativeQuery(&quot;select * ...&quot;, Employee.class);</code> and persistence.xml, the native query does return a list of  Employee. I just checked out and run the project w/o issue. If you setup mysql sample employees db locally, you should be able to run the project as well"},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1422047322,"post_id":27597538,"comment_id":44611664,"body_markdown":"Oh I see what you mean now. But in that case your answer does not satisfy the question, because this was about using a regular POJO as the target object, and your answer is using `Employee` which I assume is an entity. Isn&#39;t it?","body":"Oh I see what you mean now. But in that case your answer does not satisfy the question, because this was about using a regular POJO as the target object, and your answer is using <code>Employee</code> which I assume is an entity. Isn&#39;t it?"},{"owner":{"account_id":1836998,"reputation":9822,"user_id":1667163,"display_name":"Jonathan L"},"score":0,"creation_date":1422297210,"post_id":27597538,"comment_id":44684107,"body_markdown":"Look at my comment in Employee.java, `A POJO used as pseudo entity to retrieve result from native query. This entity does not map to any physical table. Minimum annotations are @Enity and @Id ...\n`\nthis relieves user from writing `SqlResultSetMapping` stuff. It is a `pseudo entity` which asks JPA to load this class, no table mapping is needed, all needed is the fields","body":"Look at my comment in Employee.java, <code>A POJO used as pseudo entity to retrieve result from native query. This entity does not map to any physical table. Minimum annotations are @Enity and @Id ... </code> this relieves user from writing <code>SqlResultSetMapping</code> stuff. It is a <code>pseudo entity</code> which asks JPA to load this class, no table mapping is needed, all needed is the fields"},{"owner":{"account_id":123542,"reputation":5681,"user_id":318054,"accept_rate":50,"display_name":"ﾤ ﾡ"},"score":0,"creation_date":1426672938,"post_id":27597538,"comment_id":46465027,"body_markdown":"This does not answer the question as JPA entity is still required.","body":"This does not answer the question as JPA entity is still required."}],"tags":[],"owner":{"account_id":1836998,"reputation":9822,"user_id":1667163,"display_name":"Jonathan L"},"comment_count":7,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1431986777,"creation_date":1419229622,"answer_id":27597538,"question_id":13012584,"body_markdown":"See example below for using a POJO as pseudo entity to retrieve result from native query without using complex SqlResultSetMapping. Just need two annotations, a bare @Enity and a dummy @Id in your POJO. @Id can be used on any field of your choice, an @Id field can have duplicate keys but not null values.\r\n\r\nSince @Enity does not map to any physical table, so this POJO is called a pseudo entity.\r\n\r\nEnvironment: eclipselink 2.5.0-RC1, jpa-2.1.0, mysql-connector-java-5.1.14\r\n\r\nYou can download complete maven project &lt;a href=&quot;https://github.com/jonathanluo/jpa&quot;&gt;here&lt;/a&gt;\r\n\r\nNative query is based on mysql sample employees db\r\nhttp://dev.mysql.com/doc/employee/en/employees-installation.html\r\n\r\npersistence.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; \r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;2.1&quot; \r\n        xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n    &lt;persistence-unit name=&quot;jpa-mysql&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n\t\t&lt;class&gt;org.moonwave.jpa.model.pojo.Employee&lt;/class&gt;\r\n\t\t&lt;properties&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/employees&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;user&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;***&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n  &lt;/persistence&gt;\r\n\r\nEmployee.java\r\n\r\n    package org.moonwave.jpa.model.pojo;\r\n\r\n    @Entity\r\n    public class Employee {\r\n\t\r\n\t@Id\r\n\tprotected Long empNo;\r\n\r\n\tprotected String firstName;\r\n\tprotected String lastName;\r\n\tprotected String title;\r\n\t\r\n\tpublic Long getEmpNo() {\r\n\t\treturn empNo;\r\n\t}\r\n\tpublic void setEmpNo(Long empNo) {\r\n\t\tthis.empNo = empNo;\r\n\t}\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\tpublic String getLastName() {\r\n\t\treturn lastName;\r\n\t}\r\n\tpublic void setLastName(String lastName) {\r\n\t\tthis.lastName = lastName;\r\n\t}\t\r\n\tpublic String getTitle() {\r\n\t\treturn title;\r\n\t}\r\n\tpublic void setTitle(String title) {\r\n\t\tthis.title = title;\r\n\t}\r\n\tpublic String toString() {\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tsb.append(&quot;empNo: &quot;).append(empNo);\r\n\t\tsb.append(&quot;, firstName: &quot;).append(firstName);\r\n\t\tsb.append(&quot;, lastName: &quot;).append(lastName);\r\n\t\tsb.append(&quot;, title: &quot;).append(title);\r\n\t\treturn sb.toString();\r\n\t}\r\n    }\r\n\r\n\r\nEmployeeNativeQuery.java\r\n\r\n    public class EmployeeNativeQuery {\r\n\tprivate EntityManager em;\r\n\tprivate EntityManagerFactory emf;\r\n\t\r\n\tpublic void setUp() throws Exception {\r\n\t\temf=Persistence.createEntityManagerFactory(&quot;jpa-mysql&quot;);\r\n\t\tem=emf.createEntityManager();\r\n\t}\r\n\tpublic void tearDown()throws Exception {\r\n\t\tem.close();\r\n\t\temf.close();\r\n\t}\r\n\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic void query() {\r\n\t\tQuery query = em.createNativeQuery(&quot;select e.emp_no as empNo, e.first_name as firstName, e.last_name as lastName,&quot; + \r\n\t\t\t\t&quot;t.title from employees e join titles t on e.emp_no = t.emp_no&quot;, Employee.class);\r\n\t\tquery.setMaxResults(30);\r\n\t\tList&lt;Employee&gt; list = (List&lt;Employee&gt;) query.getResultList();\r\n\t\tint i = 0;\r\n\t\tfor (Object emp : list) {\r\n\t\t\tSystem.out.println(++i + &quot;: &quot; + emp.toString());\r\n\t\t}\r\n\t}\r\n\t\r\n    public static void main( String[] args ) {\r\n    \tEmployeeNativeQuery test = new EmployeeNativeQuery();\r\n    \ttry {\r\n    \t\ttest.setUp();\r\n    \t\ttest.query();\r\n    \t\ttest.tearDown();\r\n    \t} catch (Exception e) {\r\n    \t\tSystem.out.println(e);\r\n    \t}\r\n    }\r\n    }\r\n","title":"JPA : How to convert a native query result set to POJO class collection","body":"<p>See example below for using a POJO as pseudo entity to retrieve result from native query without using complex SqlResultSetMapping. Just need two annotations, a bare @Enity and a dummy @Id in your POJO. @Id can be used on any field of your choice, an @Id field can have duplicate keys but not null values.</p>\n\n<p>Since @Enity does not map to any physical table, so this POJO is called a pseudo entity.</p>\n\n<p>Environment: eclipselink 2.5.0-RC1, jpa-2.1.0, mysql-connector-java-5.1.14</p>\n\n<p>You can download complete maven project <a href=\"https://github.com/jonathanluo/jpa\" rel=\"nofollow\">here</a></p>\n\n<p>Native query is based on mysql sample employees db\n<a href=\"http://dev.mysql.com/doc/employee/en/employees-installation.html\" rel=\"nofollow\">http://dev.mysql.com/doc/employee/en/employees-installation.html</a></p>\n\n<p>persistence.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;persistence xmlns=\"http://xmlns.jcp.org/xml/ns/persistence\" \n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" version=\"2.1\" \n    xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd\"&gt;\n&lt;persistence-unit name=\"jpa-mysql\" transaction-type=\"RESOURCE_LOCAL\"&gt;\n    &lt;class&gt;org.moonwave.jpa.model.pojo.Employee&lt;/class&gt;\n    &lt;properties&gt;\n        &lt;property name=\"javax.persistence.jdbc.url\" value=\"jdbc:mysql://localhost:3306/employees\" /&gt;\n        &lt;property name=\"javax.persistence.jdbc.user\" value=\"user\" /&gt;\n        &lt;property name=\"javax.persistence.jdbc.password\" value=\"***\" /&gt;\n        &lt;property name=\"javax.persistence.jdbc.driver\" value=\"com.mysql.jdbc.Driver\" /&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n\n<p></p>\n\n<p>Employee.java</p>\n\n<pre><code>package org.moonwave.jpa.model.pojo;\n\n@Entity\npublic class Employee {\n\n@Id\nprotected Long empNo;\n\nprotected String firstName;\nprotected String lastName;\nprotected String title;\n\npublic Long getEmpNo() {\n    return empNo;\n}\npublic void setEmpNo(Long empNo) {\n    this.empNo = empNo;\n}\npublic String getFirstName() {\n    return firstName;\n}\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\npublic String getLastName() {\n    return lastName;\n}\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}   \npublic String getTitle() {\n    return title;\n}\npublic void setTitle(String title) {\n    this.title = title;\n}\npublic String toString() {\n    StringBuilder sb = new StringBuilder();\n    sb.append(\"empNo: \").append(empNo);\n    sb.append(\", firstName: \").append(firstName);\n    sb.append(\", lastName: \").append(lastName);\n    sb.append(\", title: \").append(title);\n    return sb.toString();\n}\n}\n</code></pre>\n\n<p>EmployeeNativeQuery.java</p>\n\n<pre><code>public class EmployeeNativeQuery {\nprivate EntityManager em;\nprivate EntityManagerFactory emf;\n\npublic void setUp() throws Exception {\n    emf=Persistence.createEntityManagerFactory(\"jpa-mysql\");\n    em=emf.createEntityManager();\n}\npublic void tearDown()throws Exception {\n    em.close();\n    emf.close();\n}\n\n@SuppressWarnings(\"unchecked\")\npublic void query() {\n    Query query = em.createNativeQuery(\"select e.emp_no as empNo, e.first_name as firstName, e.last_name as lastName,\" + \n            \"t.title from employees e join titles t on e.emp_no = t.emp_no\", Employee.class);\n    query.setMaxResults(30);\n    List&lt;Employee&gt; list = (List&lt;Employee&gt;) query.getResultList();\n    int i = 0;\n    for (Object emp : list) {\n        System.out.println(++i + \": \" + emp.toString());\n    }\n}\n\npublic static void main( String[] args ) {\n    EmployeeNativeQuery test = new EmployeeNativeQuery();\n    try {\n        test.setUp();\n        test.query();\n        test.tearDown();\n    } catch (Exception e) {\n        System.out.println(e);\n    }\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2021859,"reputation":658,"user_id":1807836,"display_name":"Harish"},"score":0,"creation_date":1564964330,"post_id":30111429,"comment_id":101189978,"body_markdown":"Which package is `BeanUtils` in?","body":"Which package is <code>BeanUtils</code> in?"}],"tags":[],"owner":{"account_id":891554,"reputation":8848,"user_id":929701,"accept_rate":79,"display_name":"hrishikeshp19"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1431032007,"creation_date":1431032007,"answer_id":30111429,"question_id":13012584,"body_markdown":"First declare following annotations:\r\n\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface NativeQueryResultEntity {\r\n    }\r\n     \r\n    @Target(ElementType.FIELD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface NativeQueryResultColumn {\r\n        int index();\r\n    }\r\n\r\n \r\nThen annotate your POJO as follows:\r\n\r\n    @NativeQueryResultEntity\r\n    public class ClassX {\r\n        @NativeQueryResultColumn(index=0)\r\n        private String a;\r\n        \r\n        @NativeQueryResultColumn(index=1)\r\n        private String b;\r\n    }\r\n\r\n \r\nThen write annotation processor:\r\n\r\n    public class NativeQueryResultsMapper {\r\n     \r\n        private static Logger log = LoggerFactory.getLogger(NativeQueryResultsMapper.class);\r\n     \r\n        public static &lt;T&gt; List&lt;T&gt; map(List&lt;Object[]&gt; objectArrayList, Class&lt;T&gt; genericType) {\r\n            List&lt;T&gt; ret = new ArrayList&lt;T&gt;();\r\n            List&lt;Field&gt; mappingFields = getNativeQueryResultColumnAnnotatedFields(genericType);\r\n            try {\r\n                for (Object[] objectArr : objectArrayList) {\r\n                    T t = genericType.newInstance();\r\n                    for (int i = 0; i &lt; objectArr.length; i++) {\r\n                        BeanUtils.setProperty(t, mappingFields.get(i).getName(), objectArr[i]);\r\n                    }\r\n                    ret.add(t);\r\n                }\r\n            } catch (InstantiationException ie) {\r\n                log.debug(&quot;Cannot instantiate: &quot;, ie);\r\n                ret.clear();\r\n            } catch (IllegalAccessException iae) {\r\n                log.debug(&quot;Illegal access: &quot;, iae);\r\n                ret.clear();\r\n            } catch (InvocationTargetException ite) {\r\n                log.debug(&quot;Cannot invoke method: &quot;, ite);\r\n                ret.clear();\r\n            }\r\n            return ret;\r\n        }\r\n     \r\n        // Get ordered list of fields\r\n        private static &lt;T&gt; List&lt;Field&gt; getNativeQueryResultColumnAnnotatedFields(Class&lt;T&gt; genericType) {\r\n            Field[] fields = genericType.getDeclaredFields();\r\n            List&lt;Field&gt; orderedFields = Arrays.asList(new Field[fields.length]);\r\n            for (int i = 0; i &lt; fields.length; i++) {\r\n                if (fields[i].isAnnotationPresent(NativeQueryResultColumn.class)) {\r\n                    NativeQueryResultColumn nqrc = fields[i].getAnnotation(NativeQueryResultColumn.class);\r\n                    orderedFields.set(nqrc.index(), fields[i]);\r\n                }\r\n            }\r\n            return orderedFields;\r\n        }\r\n    }\r\n\r\n \r\n \r\nUse above framework as follows:\r\n\r\n    String sql = &quot;select a,b from x order by a&quot;;\r\n    Query q = entityManager.createNativeQuery(sql);\r\n                \r\n    List&lt;ClassX&gt; results = NativeQueryResultsMapper.map(q.getResultList(), ClassX.class);\r\n\r\n\r\n","title":"JPA : How to convert a native query result set to POJO class collection","body":"<p>First declare following annotations:</p>\n\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface NativeQueryResultEntity {\n}\n\n@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface NativeQueryResultColumn {\n    int index();\n}\n</code></pre>\n\n<p>Then annotate your POJO as follows:</p>\n\n<pre><code>@NativeQueryResultEntity\npublic class ClassX {\n    @NativeQueryResultColumn(index=0)\n    private String a;\n\n    @NativeQueryResultColumn(index=1)\n    private String b;\n}\n</code></pre>\n\n<p>Then write annotation processor:</p>\n\n<pre><code>public class NativeQueryResultsMapper {\n\n    private static Logger log = LoggerFactory.getLogger(NativeQueryResultsMapper.class);\n\n    public static &lt;T&gt; List&lt;T&gt; map(List&lt;Object[]&gt; objectArrayList, Class&lt;T&gt; genericType) {\n        List&lt;T&gt; ret = new ArrayList&lt;T&gt;();\n        List&lt;Field&gt; mappingFields = getNativeQueryResultColumnAnnotatedFields(genericType);\n        try {\n            for (Object[] objectArr : objectArrayList) {\n                T t = genericType.newInstance();\n                for (int i = 0; i &lt; objectArr.length; i++) {\n                    BeanUtils.setProperty(t, mappingFields.get(i).getName(), objectArr[i]);\n                }\n                ret.add(t);\n            }\n        } catch (InstantiationException ie) {\n            log.debug(\"Cannot instantiate: \", ie);\n            ret.clear();\n        } catch (IllegalAccessException iae) {\n            log.debug(\"Illegal access: \", iae);\n            ret.clear();\n        } catch (InvocationTargetException ite) {\n            log.debug(\"Cannot invoke method: \", ite);\n            ret.clear();\n        }\n        return ret;\n    }\n\n    // Get ordered list of fields\n    private static &lt;T&gt; List&lt;Field&gt; getNativeQueryResultColumnAnnotatedFields(Class&lt;T&gt; genericType) {\n        Field[] fields = genericType.getDeclaredFields();\n        List&lt;Field&gt; orderedFields = Arrays.asList(new Field[fields.length]);\n        for (int i = 0; i &lt; fields.length; i++) {\n            if (fields[i].isAnnotationPresent(NativeQueryResultColumn.class)) {\n                NativeQueryResultColumn nqrc = fields[i].getAnnotation(NativeQueryResultColumn.class);\n                orderedFields.set(nqrc.index(), fields[i]);\n            }\n        }\n        return orderedFields;\n    }\n}\n</code></pre>\n\n<p>Use above framework as follows:</p>\n\n<pre><code>String sql = \"select a,b from x order by a\";\nQuery q = entityManager.createNativeQuery(sql);\n\nList&lt;ClassX&gt; results = NativeQueryResultsMapper.map(q.getResultList(), ClassX.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4086362,"reputation":11,"user_id":3355552,"display_name":"Pallab Rath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456747088,"creation_date":1456745885,"answer_id":35698562,"question_id":13012584,"body_markdown":"if you are using Spring, you can use `org.springframework.jdbc.core.RowMapper`\r\n\r\nHere is an example: \r\n\r\n    public List query(String objectType, String namedQuery)\r\n    {\r\n      String rowMapper = objectType + &quot;RowMapper&quot;;\r\n      // then by reflection you can instantiate and use. The RowMapper classes need to follow the naming specific convention to follow such implementation.\r\n    } \r\n\r\n","title":"JPA : How to convert a native query result set to POJO class collection","body":"<p>if you are using Spring, you can use <code>org.springframework.jdbc.core.RowMapper</code></p>\n\n<p>Here is an example: </p>\n\n<pre><code>public List query(String objectType, String namedQuery)\n{\n  String rowMapper = objectType + \"RowMapper\";\n  // then by reflection you can instantiate and use. The RowMapper classes need to follow the naming specific convention to follow such implementation.\n} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":5894827,"reputation":846,"user_id":4640253,"display_name":"mwatzer"},"score":0,"creation_date":1505653853,"post_id":39572822,"comment_id":79491671,"body_markdown":"Nice answer, but I think you have missed a parenthesis after the first @ColumnResult annotation.","body":"Nice answer, but I think you have missed a parenthesis after the first @ColumnResult annotation."},{"owner":{"account_id":1402825,"reputation":647,"user_id":1331274,"accept_rate":67,"display_name":"Zbyszek"},"score":0,"creation_date":1519200776,"post_id":39572822,"comment_id":84807167,"body_markdown":"There are mistakes in the code, but easy to correct.\nFor example: &quot;resulSetMapping =&quot; should be &quot;resultSetMapping =&quot;","body":"There are mistakes in the code, but easy to correct. For example: &quot;resulSetMapping =&quot; should be &quot;resultSetMapping =&quot;"},{"owner":{"account_id":2033353,"reputation":168,"user_id":1816384,"accept_rate":100,"display_name":"Arnab Dutta"},"score":10,"creation_date":1521750413,"post_id":39572822,"comment_id":85877683,"body_markdown":"I see another bitter truth: \n       NamedNativeQuery  &amp; SqlResultSetMapping has to be\n        in a @Entity class","body":"I see another bitter truth:         NamedNativeQuery  &amp; SqlResultSetMapping has to be         in a @Entity class"}],"tags":[],"owner":{"account_id":2548891,"reputation":159,"user_id":2213095,"display_name":"John"},"comment_count":3,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1681133017,"creation_date":1474286922,"answer_id":39572822,"question_id":13012584,"body_markdown":"Yes, with JPA 2.1 it&#39;s easy. You have very useful Annotations. They simplify your life.\r\n\r\nFirst declare your native query, then your result set mapping (which defines the mapping of the data returned by the database to your POJOs). Write your POJO class to refer to (not included here for brevity). Last but not least: create a method in a DAO (for example) to call the query. This worked for me in a dropwizard (1.0.0) app.\r\n\r\nFirst declare a native query in an entity class (@Entity): \r\n\r\n    @Entity\r\n    @NamedNativeQuery (\r\n    name = &quot;domain.io.MyClass.myQuery&quot;,\r\n    query = &quot;Select a.colA, a.colB from Table a&quot;,\r\n    resultSetMapping = &quot;mappinMyNativeQuery&quot;)   // must be the same name as in the SqlResultSetMapping declaration\r\n\r\nUnderneath you can add the resultset mapping declaration:\r\n\r\n    @SqlResultSetMapping(\r\n    name = &quot;mapppinNativeQuery&quot;,  // same as resultSetMapping above in NativeQuery\r\n       classes = {\r\n          @ConstructorResult( \r\n              targetClass = domain.io.MyMapping.class,\r\n              columns = {\r\n                   @ColumnResult( name = &quot;colA&quot;, type = Long.class),  \r\n                   @ColumnResult( name = &quot;colB&quot;, type = String.class)\r\n              }\r\n          )\r\n       } \r\n    )\r\n\r\nLater in a DAO you can refer to the query as\r\n\r\n    public List&lt;domain.io.MyMapping&gt; findAll() {\r\n            return (namedQuery(&quot;domain.io.MyClass.myQuery&quot;).list());\r\n        }\r\n\r\nThat&#39;s it.","title":"JPA : How to convert a native query result set to POJO class collection","body":"<p>Yes, with JPA 2.1 it's easy. You have very useful Annotations. They simplify your life.</p>\n<p>First declare your native query, then your result set mapping (which defines the mapping of the data returned by the database to your POJOs). Write your POJO class to refer to (not included here for brevity). Last but not least: create a method in a DAO (for example) to call the query. This worked for me in a dropwizard (1.0.0) app.</p>\n<p>First declare a native query in an entity class (@Entity):</p>\n<pre><code>@Entity\n@NamedNativeQuery (\nname = &quot;domain.io.MyClass.myQuery&quot;,\nquery = &quot;Select a.colA, a.colB from Table a&quot;,\nresultSetMapping = &quot;mappinMyNativeQuery&quot;)   // must be the same name as in the SqlResultSetMapping declaration\n</code></pre>\n<p>Underneath you can add the resultset mapping declaration:</p>\n<pre><code>@SqlResultSetMapping(\nname = &quot;mapppinNativeQuery&quot;,  // same as resultSetMapping above in NativeQuery\n   classes = {\n      @ConstructorResult( \n          targetClass = domain.io.MyMapping.class,\n          columns = {\n               @ColumnResult( name = &quot;colA&quot;, type = Long.class),  \n               @ColumnResult( name = &quot;colB&quot;, type = String.class)\n          }\n      )\n   } \n)\n</code></pre>\n<p>Later in a DAO you can refer to the query as</p>\n<pre><code>public List&lt;domain.io.MyMapping&gt; findAll() {\n        return (namedQuery(&quot;domain.io.MyClass.myQuery&quot;).list());\n    }\n</code></pre>\n<p>That's it.</p>\n"},{"tags":[],"owner":{"account_id":3782951,"reputation":3308,"user_id":3141849,"accept_rate":70,"display_name":"Parth Solanki"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1474442086,"creation_date":1474442086,"answer_id":39609786,"question_id":13012584,"body_markdown":"Simple way to converting SQL query to POJO class collection ,\r\n\r\n    Query query = getCurrentSession().createSQLQuery(sqlQuery).addEntity(Actors.class);\r\n    List&lt;Actors&gt; list = (List&lt;Actors&gt;) query.list();\r\n    return list;","title":"JPA : How to convert a native query result set to POJO class collection","body":"<p>Simple way to converting SQL query to POJO class collection ,</p>\n\n<pre><code>Query query = getCurrentSession().createSQLQuery(sqlQuery).addEntity(Actors.class);\nList&lt;Actors&gt; list = (List&lt;Actors&gt;) query.list();\nreturn list;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":158578,"reputation":3109,"user_id":377320,"accept_rate":25,"display_name":"Martin Vysny"},"score":0,"creation_date":1496938805,"post_id":43585378,"comment_id":75879481,"body_markdown":"The Method 1 doesn&#39;t actually require Spring and works with pure Hibernate.","body":"The Method 1 doesn&#39;t actually require Spring and works with pure Hibernate."},{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1496992842,"post_id":43585378,"comment_id":75900020,"body_markdown":"@MartinVysny yes, M1 is JPQL. any projects implements JPQL should support it. In this way, maybe M2 is also widely supported?","body":"@MartinVysny yes, M1 is JPQL. any projects implements JPQL should support it. In this way, maybe M2 is also widely supported?"}],"tags":[],"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1501761808,"creation_date":1493028774,"answer_id":43585378,"question_id":13012584,"body_markdown":"If you use `Spring-jpa`, this is a supplement to the answers and this question. Please correct this if any flaws. I have mainly used three methods to achieve &quot;mapping result `Object[]` to a pojo&quot; based on what practical need I meet:\r\n\r\n 1. JPA built in method is enough.\r\n 2. JPA built in method is not enough, but a customized `sql` with its `Entity` are enough.\r\n 3. The former 2 failed, and I have to use a `nativeQuery`.\r\nHere are the examples.\r\nThe pojo expected:\r\n\r\n        public class Antistealingdto {\r\n        \r\n            private String secretKey;\r\n        \r\n            private Integer successRate;\r\n        \r\n            // GETTERs AND SETTERs\r\n        \r\n            public Antistealingdto(String secretKey, Integer successRate) {\r\n                this.secretKey = secretKey;\r\n                this.successRate = successRate;\r\n            }\r\n        }\r\n\r\n**Method 1**: Change the pojo into an interface:\r\n\r\n    public interface Antistealingdto {\r\n        String getSecretKey();\r\n        Integer getSuccessRate();\r\n    }\r\n\r\nAnd repository:\r\n\r\n    interface AntiStealingRepository extends CrudRepository&lt;Antistealing, Long&gt; {\r\n        Antistealingdto findById(Long id);\r\n    }\r\n\r\n**Method 2**: \r\nRepository:\r\n\r\n    @Query(&quot;select new AntistealingDTO(secretKey, successRate) from Antistealing where ....&quot;)\r\n    Antistealing whatevernamehere(conditions);\r\n\r\nNote: parameter sequence of POJO constructor must be identical in both POJO definition and sql.\r\n\r\n**Method 3**:\r\nUse `@SqlResultSetMapping` and `@NamedNativeQuery` in `Entity` as the example in Edwin Dalorzo&#39;s answer. \r\n\r\nThe first two methods would call many in-the-middle handlers, like customized converters. For example, `AntiStealing` defines a `secretKey`, before it is persisted, a converter is inserted to encrypt it. This would result in the first 2 methods returning a converted back `secretKey` which is not what I want. While the method 3 would overcome the converter, and returned `secretKey` would be the same as it is stored (an encrypted one).\r\n","title":"JPA : How to convert a native query result set to POJO class collection","body":"<p>If you use <code>Spring-jpa</code>, this is a supplement to the answers and this question. Please correct this if any flaws. I have mainly used three methods to achieve \"mapping result <code>Object[]</code> to a pojo\" based on what practical need I meet:</p>\n\n<ol>\n<li>JPA built in method is enough.</li>\n<li>JPA built in method is not enough, but a customized <code>sql</code> with its <code>Entity</code> are enough.</li>\n<li><p>The former 2 failed, and I have to use a <code>nativeQuery</code>.\nHere are the examples.\nThe pojo expected:</p>\n\n<pre><code>public class Antistealingdto {\n\n    private String secretKey;\n\n    private Integer successRate;\n\n    // GETTERs AND SETTERs\n\n    public Antistealingdto(String secretKey, Integer successRate) {\n        this.secretKey = secretKey;\n        this.successRate = successRate;\n    }\n}\n</code></pre></li>\n</ol>\n\n<p><strong>Method 1</strong>: Change the pojo into an interface:</p>\n\n<pre><code>public interface Antistealingdto {\n    String getSecretKey();\n    Integer getSuccessRate();\n}\n</code></pre>\n\n<p>And repository:</p>\n\n<pre><code>interface AntiStealingRepository extends CrudRepository&lt;Antistealing, Long&gt; {\n    Antistealingdto findById(Long id);\n}\n</code></pre>\n\n<p><strong>Method 2</strong>: \nRepository:</p>\n\n<pre><code>@Query(\"select new AntistealingDTO(secretKey, successRate) from Antistealing where ....\")\nAntistealing whatevernamehere(conditions);\n</code></pre>\n\n<p>Note: parameter sequence of POJO constructor must be identical in both POJO definition and sql.</p>\n\n<p><strong>Method 3</strong>:\nUse <code>@SqlResultSetMapping</code> and <code>@NamedNativeQuery</code> in <code>Entity</code> as the example in Edwin Dalorzo's answer. </p>\n\n<p>The first two methods would call many in-the-middle handlers, like customized converters. For example, <code>AntiStealing</code> defines a <code>secretKey</code>, before it is persisted, a converter is inserted to encrypt it. This would result in the first 2 methods returning a converted back <code>secretKey</code> which is not what I want. While the method 3 would overcome the converter, and returned <code>secretKey</code> would be the same as it is stored (an encrypted one).</p>\n"},{"tags":[],"owner":{"account_id":4638441,"reputation":2839,"user_id":3758948,"accept_rate":89,"display_name":"Darshan Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510378694,"creation_date":1510377487,"answer_id":47234623,"question_id":13012584,"body_markdown":"Since others have already mentioned all the possible solutions, I am sharing my workaround solution.\r\n\r\nIn my situation with `Postgres 9.4`, while working with `Jackson`,\r\n\r\n    //Convert it to named native query.\r\n    List&lt;String&gt; list = em.createNativeQuery(&quot;select cast(array_to_json(array_agg(row_to_json(a))) as text) from myschema.actors a&quot;)\r\n                       .getResultList();\r\n\r\n    List&lt;ActorProxy&gt; map = new ObjectMapper().readValue(list.get(0), new TypeReference&lt;List&lt;ActorProxy&gt;&gt;() {});\r\n\r\nI am sure you can find same for other databases.\r\n\r\nAlso FYI, https://stackoverflow.com/questions/7595328/jpa-2-0-native-query-results-as-map/46190527#46190527","title":"JPA : How to convert a native query result set to POJO class collection","body":"<p>Since others have already mentioned all the possible solutions, I am sharing my workaround solution.</p>\n\n<p>In my situation with <code>Postgres 9.4</code>, while working with <code>Jackson</code>,</p>\n\n<pre><code>//Convert it to named native query.\nList&lt;String&gt; list = em.createNativeQuery(\"select cast(array_to_json(array_agg(row_to_json(a))) as text) from myschema.actors a\")\n                   .getResultList();\n\nList&lt;ActorProxy&gt; map = new ObjectMapper().readValue(list.get(0), new TypeReference&lt;List&lt;ActorProxy&gt;&gt;() {});\n</code></pre>\n\n<p>I am sure you can find same for other databases.</p>\n\n<p>Also FYI, <a href=\"https://stackoverflow.com/questions/7595328/jpa-2-0-native-query-results-as-map/46190527#46190527\">JPA 2.0 native query results as map</a></p>\n"},{"comments":[{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":0,"creation_date":1528977239,"post_id":49489179,"comment_id":88716313,"body_markdown":"note that `JobDTO` should have default constructor. Or you might implement your own transformer based on `AliasToBeanResultTransformer` implementation.","body":"note that <code>JobDTO</code> should have default constructor. Or you might implement your own transformer based on <code>AliasToBeanResultTransformer</code> implementation."},{"owner":{"account_id":11214877,"reputation":141,"user_id":8227834,"display_name":"Radhesh Khanna"},"score":0,"creation_date":1609255289,"post_id":49489179,"comment_id":115791404,"body_markdown":"Why setParameter ?","body":"Why setParameter ?"},{"owner":{"account_id":10124769,"reputation":241,"user_id":7480534,"accept_rate":50,"display_name":"Dhaval Bhoot"},"score":3,"creation_date":1638367061,"post_id":49489179,"comment_id":124068759,"body_markdown":"org.hibernate.Query.class).setResultTransformer is showing the deprecated.","body":"org.hibernate.Query.class).setResultTransformer is showing the deprecated."}],"tags":[],"owner":{"account_id":160026,"reputation":8395,"user_id":379779,"accept_rate":57,"display_name":"zawhtut"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1522059883,"creation_date":1522059883,"answer_id":49489179,"question_id":13012584,"body_markdown":"Unwrap procedure can be performed to assign results to non-entity(which is Beans/POJO). The procedure is as following.\r\n\r\n    List&lt;JobDTO&gt; dtoList = entityManager.createNativeQuery(sql)\r\n    \t\t.setParameter(&quot;userId&quot;, userId)\r\n    \t\t.unwrap(org.hibernate.Query.class).setResultTransformer(Transformers.aliasToBean(JobDTO.class)).list();\r\n\r\nThe usage is for JPA-Hibernate implementation.","title":"JPA : How to convert a native query result set to POJO class collection","body":"<p>Unwrap procedure can be performed to assign results to non-entity(which is Beans/POJO). The procedure is as following.</p>\n\n<pre><code>List&lt;JobDTO&gt; dtoList = entityManager.createNativeQuery(sql)\n        .setParameter(\"userId\", userId)\n        .unwrap(org.hibernate.Query.class).setResultTransformer(Transformers.aliasToBean(JobDTO.class)).list();\n</code></pre>\n\n<p>The usage is for JPA-Hibernate implementation.</p>\n"},{"comments":[{"owner":{"account_id":316018,"reputation":2519,"user_id":631965,"accept_rate":68,"display_name":"Olgun Kaya"},"score":2,"creation_date":1552229576,"post_id":53831377,"comment_id":96922550,"body_markdown":"as soon as we returning entity. nothing fancy. problem is when you try to map the result to an unmanaged POJO.","body":"as soon as we returning entity. nothing fancy. problem is when you try to map the result to an unmanaged POJO."}],"tags":[],"owner":{"account_id":3048674,"reputation":2825,"user_id":2583733,"accept_rate":50,"display_name":"Andreas L."},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545130171,"creation_date":1545130171,"answer_id":53831377,"question_id":13012584,"body_markdown":"Not sure if this fits here, but I had similar question and found following simple solution/example for me:\r\n\r\n    private EntityManager entityManager;\r\n    ...\r\n\t\tfinal String sql = &quot; SELECT * FROM STORE &quot;; // select from the table STORE\r\n\t\tfinal Query sqlQuery = entityManager.createNativeQuery(sql, Store.class);\r\n\t\t\t\t\t\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tList&lt;Store&gt; results = (List&lt;Store&gt;) sqlQuery.getResultList();\r\n\r\nIn my case I had to use SQL parts defined in Strings somewhere else, so I could not just use NamedNativeQuery.","title":"JPA : How to convert a native query result set to POJO class collection","body":"<p>Not sure if this fits here, but I had similar question and found following simple solution/example for me:</p>\n\n<pre><code>private EntityManager entityManager;\n...\n    final String sql = \" SELECT * FROM STORE \"; // select from the table STORE\n    final Query sqlQuery = entityManager.createNativeQuery(sql, Store.class);\n\n    @SuppressWarnings(\"unchecked\")\n    List&lt;Store&gt; results = (List&lt;Store&gt;) sqlQuery.getResultList();\n</code></pre>\n\n<p>In my case I had to use SQL parts defined in Strings somewhere else, so I could not just use NamedNativeQuery.</p>\n"},{"tags":[],"owner":{"account_id":7423045,"reputation":81,"user_id":5646613,"display_name":"Rubens"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1551705131,"creation_date":1551705131,"answer_id":54984042,"question_id":13012584,"body_markdown":"Using Hibernate :\r\n```\r\n@Transactional(readOnly=true)\r\npublic void accessUser() {\r\nEntityManager em = repo.getEntityManager();\r\n\torg.hibernate.Session session = em.unwrap(org.hibernate.Session.class);\r\n\torg.hibernate.SQLQuery q = (org.hibernate.SQLQuery) session.createSQLQuery(&quot;SELECT u.username, u.name, u.email, &#39;blabla&#39; as passe, login_type as loginType FROM users u&quot;).addScalar(&quot;username&quot;, StringType.INSTANCE).addScalar(&quot;name&quot;, StringType.INSTANCE).addScalar(&quot;email&quot;, StringType.INSTANCE).addScalar(&quot;passe&quot;, StringType.INSTANCE).addScalar(&quot;loginType&quot;, IntegerType.INSTANCE)\r\n\t\t.setResultTransformer(Transformers.aliasToBean(User2DTO.class));\r\n\t\r\n\tList&lt;User2DTO&gt; userList = q.list();\r\n}\r\n```","title":"JPA : How to convert a native query result set to POJO class collection","body":"<p>Using Hibernate :</p>\n\n<pre><code>@Transactional(readOnly=true)\npublic void accessUser() {\nEntityManager em = repo.getEntityManager();\n    org.hibernate.Session session = em.unwrap(org.hibernate.Session.class);\n    org.hibernate.SQLQuery q = (org.hibernate.SQLQuery) session.createSQLQuery(\"SELECT u.username, u.name, u.email, 'blabla' as passe, login_type as loginType FROM users u\").addScalar(\"username\", StringType.INSTANCE).addScalar(\"name\", StringType.INSTANCE).addScalar(\"email\", StringType.INSTANCE).addScalar(\"passe\", StringType.INSTANCE).addScalar(\"loginType\", IntegerType.INSTANCE)\n        .setResultTransformer(Transformers.aliasToBean(User2DTO.class));\n\n    List&lt;User2DTO&gt; userList = q.list();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7423045,"reputation":81,"user_id":5646613,"display_name":"Rubens"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551705439,"creation_date":1551705439,"answer_id":54984133,"question_id":13012584,"body_markdown":"Using Hibernate :\r\n```\r\n@Transactional(readOnly=true)\r\npublic void accessUser() {\r\n\tEntityManager em = repo.getEntityManager();\r\n\torg.hibernate.Session session = em.unwrap(org.hibernate.Session.class);\r\n\torg.hibernate.SQLQuery q = (org.hibernate.SQLQuery) session.createSQLQuery(&quot;SELECT u.username, u.name, u.email, &#39;blabla&#39; as passe, login_type as loginType FROM users u&quot;)\r\n\t\t.addScalar(&quot;username&quot;, StringType.INSTANCE).addScalar(&quot;name&quot;, StringType.INSTANCE)\r\n\t\t.addScalar(&quot;email&quot;, StringType.INSTANCE).addScalar(&quot;passe&quot;, StringType.INSTANCE)\r\n\t\t.addScalar(&quot;loginType&quot;, IntegerType.INSTANCE)\r\n\t\t.setResultTransformer(Transformers.aliasToBean(User2DTO.class));\r\n\t\t\r\n\tList&lt;User2DTO&gt; userList = q.list();\r\n}\r\n```","title":"JPA : How to convert a native query result set to POJO class collection","body":"<p>Using Hibernate :</p>\n\n<pre><code>@Transactional(readOnly=true)\npublic void accessUser() {\n    EntityManager em = repo.getEntityManager();\n    org.hibernate.Session session = em.unwrap(org.hibernate.Session.class);\n    org.hibernate.SQLQuery q = (org.hibernate.SQLQuery) session.createSQLQuery(\"SELECT u.username, u.name, u.email, 'blabla' as passe, login_type as loginType FROM users u\")\n        .addScalar(\"username\", StringType.INSTANCE).addScalar(\"name\", StringType.INSTANCE)\n        .addScalar(\"email\", StringType.INSTANCE).addScalar(\"passe\", StringType.INSTANCE)\n        .addScalar(\"loginType\", IntegerType.INSTANCE)\n        .setResultTransformer(Transformers.aliasToBean(User2DTO.class));\n\n    List&lt;User2DTO&gt; userList = q.list();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7423045,"reputation":81,"user_id":5646613,"display_name":"Rubens"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551798312,"creation_date":1551798312,"answer_id":55005811,"question_id":13012584,"body_markdown":"Old style using ResultSet \r\n```\r\n@Transactional(readOnly=true)\r\npublic void accessUser() {\r\n    EntityManager em = this.getEntityManager();\r\n    org.hibernate.Session session = em.unwrap(org.hibernate.Session.class);\r\n    session.doWork(new Work() {\r\n        @Override\r\n        public void execute(Connection con) throws SQLException {\r\n            try (PreparedStatement stmt = con.prepareStatement(\r\n                    &quot;SELECT u.username, u.name, u.email, &#39;blabla&#39; as passe, login_type as loginType FROM users u&quot;)) {\r\n                ResultSet rs = stmt.executeQuery();\r\n                ResultSetMetaData rsmd = rs.getMetaData();\r\n                for (int i = 1; i &lt;= rsmd.getColumnCount(); i++) {\r\n                    System.out.print(rsmd.getColumnName(i) + &quot; (&quot; + rsmd.getColumnTypeName(i) + &quot;) / &quot;);\r\n                }\r\n                System.out.println(&quot;&quot;);\r\n                while (rs.next()) {\r\n                    System.out.println(&quot;Found username &quot; + rs.getString(&quot;USERNAME&quot;) + &quot; name &quot; + rs.getString(&quot;NAME&quot;) + &quot; email &quot; + rs.getString(&quot;EMAIL&quot;) + &quot; passe &quot; + rs.getString(&quot;PASSE&quot;) + &quot; email &quot; + rs.getInt(&quot;LOGIN_TYPE&quot;));\r\n                }\r\n            }\r\n        }\r\n    });\r\n}\r\n```","title":"JPA : How to convert a native query result set to POJO class collection","body":"<p>Old style using ResultSet </p>\n\n<pre><code>@Transactional(readOnly=true)\npublic void accessUser() {\n    EntityManager em = this.getEntityManager();\n    org.hibernate.Session session = em.unwrap(org.hibernate.Session.class);\n    session.doWork(new Work() {\n        @Override\n        public void execute(Connection con) throws SQLException {\n            try (PreparedStatement stmt = con.prepareStatement(\n                    \"SELECT u.username, u.name, u.email, 'blabla' as passe, login_type as loginType FROM users u\")) {\n                ResultSet rs = stmt.executeQuery();\n                ResultSetMetaData rsmd = rs.getMetaData();\n                for (int i = 1; i &lt;= rsmd.getColumnCount(); i++) {\n                    System.out.print(rsmd.getColumnName(i) + \" (\" + rsmd.getColumnTypeName(i) + \") / \");\n                }\n                System.out.println(\"\");\n                while (rs.next()) {\n                    System.out.println(\"Found username \" + rs.getString(\"USERNAME\") + \" name \" + rs.getString(\"NAME\") + \" email \" + rs.getString(\"EMAIL\") + \" passe \" + rs.getString(\"PASSE\") + \" email \" + rs.getInt(\"LOGIN_TYPE\"));\n                }\n            }\n        }\n    });\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":724774,"reputation":14026,"user_id":668650,"accept_rate":77,"display_name":"Kevin Rave"},"score":3,"creation_date":1565380199,"post_id":55487544,"comment_id":101350270,"body_markdown":"native query and projections don&#39;t go well together.","body":"native query and projections don&#39;t go well together."},{"owner":{"account_id":22500,"reputation":446,"user_id":55574,"accept_rate":100,"display_name":"ayang"},"score":1,"creation_date":1566325863,"post_id":55487544,"comment_id":101619017,"body_markdown":"I couldn&#39;t get the field mapping to work quite right - most values kept coming back as null","body":"I couldn&#39;t get the field mapping to work quite right - most values kept coming back as null"}],"tags":[],"owner":{"account_id":12565201,"reputation":4559,"user_id":9141437,"display_name":"Thanthu"},"comment_count":2,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1554268646,"creation_date":1554268646,"answer_id":55487544,"question_id":13012584,"body_markdown":"The easiest way is to use so **projections**. It can map query results directly to interfaces and is easier to implement than using SqlResultSetMapping.\r\n\r\nAn example is shown below:\r\n\r\n    @Repository\r\n    public interface PeopleRepository extends JpaRepository&lt;People, Long&gt; {\r\n    \r\n    \t@Query(value = &quot;SELECT p.name AS name, COUNT(dp.people_id) AS count &quot; +\r\n            &quot;FROM people p INNER JOIN dream_people dp &quot; +\r\n            &quot;ON p.id = dp.people_id &quot; +\r\n            &quot;WHERE p.user_id = :userId &quot; +\r\n            &quot;GROUP BY dp.people_id &quot; +\r\n            &quot;ORDER BY p.name&quot;, nativeQuery = true)\r\n        List&lt;PeopleDTO&gt; findByPeopleAndCountByUserId(@Param(&quot;userId&quot;) Long userId);\r\n    \r\n        @Query(value = &quot;SELECT p.name AS name, COUNT(dp.people_id) AS count &quot; +\r\n            &quot;FROM people p INNER JOIN dream_people dp &quot; +\r\n            &quot;ON p.id = dp.people_id &quot; +\r\n            &quot;WHERE p.user_id = :userId &quot; +\r\n            &quot;GROUP BY dp.people_id &quot; +\r\n            &quot;ORDER BY p.name&quot;, nativeQuery = true)\r\n        Page&lt;PeopleDTO&gt; findByPeopleAndCountByUserId(@Param(&quot;userId&quot;) Long userId, Pageable pageable);\r\n    \r\n    }\r\n\r\n\r\n\r\n    // Interface to which result is projected\r\n    public interface PeopleDTO {\r\n    \r\n        String getName();\r\n    \r\n        Long getCount();\r\n    \r\n    }\r\n\r\nThe fields from projected interface must match fields in this entity. Otherwise field mapping might break.\r\n\r\nAlso if you use `SELECT table.column` notation always define aliases matching names from entity as shown in example.","title":"JPA : How to convert a native query result set to POJO class collection","body":"<p>The easiest way is to use so <strong>projections</strong>. It can map query results directly to interfaces and is easier to implement than using SqlResultSetMapping.</p>\n\n<p>An example is shown below:</p>\n\n<pre><code>@Repository\npublic interface PeopleRepository extends JpaRepository&lt;People, Long&gt; {\n\n    @Query(value = \"SELECT p.name AS name, COUNT(dp.people_id) AS count \" +\n        \"FROM people p INNER JOIN dream_people dp \" +\n        \"ON p.id = dp.people_id \" +\n        \"WHERE p.user_id = :userId \" +\n        \"GROUP BY dp.people_id \" +\n        \"ORDER BY p.name\", nativeQuery = true)\n    List&lt;PeopleDTO&gt; findByPeopleAndCountByUserId(@Param(\"userId\") Long userId);\n\n    @Query(value = \"SELECT p.name AS name, COUNT(dp.people_id) AS count \" +\n        \"FROM people p INNER JOIN dream_people dp \" +\n        \"ON p.id = dp.people_id \" +\n        \"WHERE p.user_id = :userId \" +\n        \"GROUP BY dp.people_id \" +\n        \"ORDER BY p.name\", nativeQuery = true)\n    Page&lt;PeopleDTO&gt; findByPeopleAndCountByUserId(@Param(\"userId\") Long userId, Pageable pageable);\n\n}\n\n\n\n// Interface to which result is projected\npublic interface PeopleDTO {\n\n    String getName();\n\n    Long getCount();\n\n}\n</code></pre>\n\n<p>The fields from projected interface must match fields in this entity. Otherwise field mapping might break.</p>\n\n<p>Also if you use <code>SELECT table.column</code> notation always define aliases matching names from entity as shown in example.</p>\n"},{"comments":[{"owner":{"account_id":10124769,"reputation":241,"user_id":7480534,"accept_rate":50,"display_name":"Dhaval Bhoot"},"score":0,"creation_date":1638367165,"post_id":55593226,"comment_id":124068813,"body_markdown":"This is a very nice and useful solution. It works for me. Using this List &lt; Map &lt; String, Object &gt;&gt; result I can do anything. I can set value in POJO or do convert in JSON or anything.","body":"This is a very nice and useful solution. It works for me. Using this List &lt; Map &lt; String, Object &gt;&gt; result I can do anything. I can set value in POJO or do convert in JSON or anything."}],"tags":[],"owner":{"account_id":15276065,"reputation":81,"user_id":11021754,"display_name":"Yaswanth raju Vysyaraju"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1554813900,"creation_date":1554813900,"answer_id":55593226,"question_id":13012584,"body_markdown":"In hibernate you  can use this code to easily map your native query.\r\n\r\n    private List &lt; Map &lt; String, Object &gt;&gt; getNativeQueryResultInMap() {\r\n    String mapQueryStr = &quot;SELECT * FROM AB_SERVICE three &quot;;\r\n    Query query = em.createNativeQuery(mapQueryStr);\r\n    NativeQueryImpl nativeQuery = (NativeQueryImpl) query;\r\n    nativeQuery.setResultTransformer(AliasToEntityMapResultTransformer.INSTANCE);\r\n    List &lt; Map &lt; String, Object &gt;&gt; result = query.getResultList();\r\n    for (Map map: result) {\r\n        System.out.println(&quot;after request  ::: &quot; + map);\r\n    }\r\n    return result;}\r\n\r\n ","title":"JPA : How to convert a native query result set to POJO class collection","body":"<p>In hibernate you  can use this code to easily map your native query.</p>\n\n<pre><code>private List &lt; Map &lt; String, Object &gt;&gt; getNativeQueryResultInMap() {\nString mapQueryStr = \"SELECT * FROM AB_SERVICE three \";\nQuery query = em.createNativeQuery(mapQueryStr);\nNativeQueryImpl nativeQuery = (NativeQueryImpl) query;\nnativeQuery.setResultTransformer(AliasToEntityMapResultTransformer.INSTANCE);\nList &lt; Map &lt; String, Object &gt;&gt; result = query.getResultList();\nfor (Map map: result) {\n    System.out.println(\"after request  ::: \" + map);\n}\nreturn result;}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7689071,"reputation":593,"user_id":5825926,"display_name":"Akash"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1562593121,"creation_date":1562593121,"answer_id":56936167,"question_id":13012584,"body_markdown":"   We have resolved the issue using following way :\r\n        \r\n       //Add actual table name here in Query\r\n        final String sqlQuery = &quot;Select a.* from ACTORS a&quot;\r\n        // add your entity manager here \r\n        Query query = entityManager.createNativeQuery(sqlQuery,Actors.class);\r\n        //List contains the mapped entity data.\r\n        List&lt;Actors&gt; list = (List&lt;Actors&gt;) query.getResultList();\r\n\r\n","title":"JPA : How to convert a native query result set to POJO class collection","body":"<p>We have resolved the issue using following way :</p>\n\n<pre><code>   //Add actual table name here in Query\n    final String sqlQuery = \"Select a.* from ACTORS a\"\n    // add your entity manager here \n    Query query = entityManager.createNativeQuery(sqlQuery,Actors.class);\n    //List contains the mapped entity data.\n    List&lt;Actors&gt; list = (List&lt;Actors&gt;) query.getResultList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7322921,"reputation":1043,"user_id":6602141,"accept_rate":0,"display_name":"Ankit kaushik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600357200,"creation_date":1600357200,"answer_id":63941572,"question_id":13012584,"body_markdown":"I tried a lot of things as mentioned in the above answers. The SQLmapper was very confusing as to where to put it. Non managed POJOs only were a problem. I was trying various ways and one easy way I got it worked was as usual. I am using hibernate-jpa-2.1.\r\n\r\n    List&lt;TestInfo&gt; testInfoList = factory.createNativeQuery(QueryConstants.RUNNING_TEST_INFO_QUERY)\r\n    \t\t\t\t\t.getResultList();\r\n\r\nThe only thing to take care was that POJO has same member variable names as that of the query ( all in lowercase). And apparently I didn&#39;t even need to tell the target class along with query as we do with TypedQueries in JPQL.\r\n\r\n**TestInfo.class**\r\n\r\n    @Setter\r\n    @Getter\r\n    @NoArgsConstructor\r\n    @ToString\r\n    public class TestInfo {\r\n    \r\n    \tprivate String emailid;\r\n    \tprivate Long testcount;\r\n    \r\n    \tpublic TestInfo(String emailId, Long testCount) {\r\n    \t\tsuper();\r\n    \t\tthis.emailid = emailId;\r\n    \t\tthis.testcount = testCount;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"JPA : How to convert a native query result set to POJO class collection","body":"<p>I tried a lot of things as mentioned in the above answers. The SQLmapper was very confusing as to where to put it. Non managed POJOs only were a problem. I was trying various ways and one easy way I got it worked was as usual. I am using hibernate-jpa-2.1.</p>\n<pre><code>List&lt;TestInfo&gt; testInfoList = factory.createNativeQuery(QueryConstants.RUNNING_TEST_INFO_QUERY)\n                    .getResultList();\n</code></pre>\n<p>The only thing to take care was that POJO has same member variable names as that of the query ( all in lowercase). And apparently I didn't even need to tell the target class along with query as we do with TypedQueries in JPQL.</p>\n<p><strong>TestInfo.class</strong></p>\n<pre><code>@Setter\n@Getter\n@NoArgsConstructor\n@ToString\npublic class TestInfo {\n\n    private String emailid;\n    private Long testcount;\n\n    public TestInfo(String emailId, Long testCount) {\n        super();\n        this.emailid = emailId;\n        this.testcount = testCount;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11317902,"reputation":189,"user_id":8299065,"display_name":"mustofa.id"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606631026,"creation_date":1606630672,"answer_id":65057542,"question_id":13012584,"body_markdown":"Using &quot;Database View&quot; like entity a.k.a immutable entity is super easy for this case.\r\n\r\n### Normal entity\r\n\r\n```kotlin\r\n@Entity\r\n@Table(name = &quot;people&quot;)\r\ndata class Person(\r\n  @Id\r\n  val id: Long = -1,\r\n  val firstName: String = &quot;&quot;,\r\n  val lastName: String? = null\r\n)\r\n```\r\n\r\n### View like entity\r\n\r\n```kotlin\r\n@Entity\r\n@Immutable\r\n@Subselect(&quot;&quot;&quot;\r\nselect\r\n    p.id,\r\n    concat(p.first_name, &#39; &#39;, p.last_name) as full_name\r\nfrom people p\r\n&quot;&quot;&quot;)\r\ndata class PersonMin(\r\n  @Id\r\n  val id: Long,\r\n  val fullName: String,\r\n)\r\n```\r\n\r\nIn any repository we can create query function/method just like:\r\n\r\n```kotlin\r\n@Query(value = &quot;select p from PersonMin p&quot;)\r\nfun findPeopleMinimum(pageable: Pageable): Page&lt;PersonMin&gt;\r\n```","title":"JPA : How to convert a native query result set to POJO class collection","body":"<p>Using &quot;Database View&quot; like entity a.k.a immutable entity is super easy for this case.</p>\n<h3>Normal entity</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Entity\n@Table(name = &quot;people&quot;)\ndata class Person(\n  @Id\n  val id: Long = -1,\n  val firstName: String = &quot;&quot;,\n  val lastName: String? = null\n)\n</code></pre>\n<h3>View like entity</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Entity\n@Immutable\n@Subselect(&quot;&quot;&quot;\nselect\n    p.id,\n    concat(p.first_name, ' ', p.last_name) as full_name\nfrom people p\n&quot;&quot;&quot;)\ndata class PersonMin(\n  @Id\n  val id: Long,\n  val fullName: String,\n)\n</code></pre>\n<p>In any repository we can create query function/method just like:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Query(value = &quot;select p from PersonMin p&quot;)\nfun findPeopleMinimum(pageable: Pageable): Page&lt;PersonMin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1150789,"reputation":117,"user_id":2828428,"accept_rate":86,"display_name":"marengz"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1612814622,"creation_date":1612814622,"answer_id":66108547,"question_id":13012584,"body_markdown":"If the query is not too complicated you can do something like this. In my case i needed to use a H2 FT_Search result query to make another query.  \r\n \r\n\r\n    var ftSearchQuery = &quot;SELECT * FROM FT_SEARCH(\\&#39;something\\&#39;, 0, 0)&quot;;\r\n    List&lt;Object[]&gt; results = query.getResultList();\r\n    List&lt;Model&gt; models = new ArrayList&lt;&gt;();\r\n    for (Object[] result : results) {\r\n        var newQuery = &quot;SELECT * FROM &quot; + (String) result[0];\r\n        models.addAll(entityManager.createNativeQuery(newQuery, Model.class).getResultList());\r\n      }\r\n\r\nThere are probably cleaner way to do this. ","title":"JPA : How to convert a native query result set to POJO class collection","body":"<p>If the query is not too complicated you can do something like this. In my case i needed to use a H2 FT_Search result query to make another query.</p>\n<pre><code>var ftSearchQuery = &quot;SELECT * FROM FT_SEARCH(\\'something\\', 0, 0)&quot;;\nList&lt;Object[]&gt; results = query.getResultList();\nList&lt;Model&gt; models = new ArrayList&lt;&gt;();\nfor (Object[] result : results) {\n    var newQuery = &quot;SELECT * FROM &quot; + (String) result[0];\n    models.addAll(entityManager.createNativeQuery(newQuery, Model.class).getResultList());\n  }\n</code></pre>\n<p>There are probably cleaner way to do this.</p>\n"},{"comments":[{"owner":{"account_id":2380565,"reputation":165,"user_id":2082681,"display_name":"havryliuk"},"score":0,"creation_date":1676023559,"post_id":74149887,"comment_id":133057886,"body_markdown":"This is what I needed. This selects and populates fields for nested entities however so need to be aware of that.","body":"This is what I needed. This selects and populates fields for nested entities however so need to be aware of that."}],"tags":[],"owner":{"account_id":10395976,"reputation":169,"user_id":7665726,"display_name":"Sann Tran"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666341583,"creation_date":1666335871,"answer_id":74149887,"question_id":13012584,"body_markdown":"If you want to map the custom query result directly to an entity without writing any code to map, try this way. In my experience, it is the most convenient way to do, but the downside is to lose the benefit of hibernate ddl-auto:\r\n\r\n1. Disable hibernate validation by removing the `hibernate.ddl-auto`. If not doing this, hibernate can complain about missing table in database.\r\n\r\n2. Create a pojo with `@Entity` for the custom result set without table mapping, something like: \r\n\r\n       @Getter\r\n       @Setter\r\n       @Entity\r\n       public class MyCustomeResult implements Serializable {\r\n           @Id\r\n           private Long id;\r\n    \r\n           @Column(name = &quot;name&quot;)\r\n           private String name;\r\n       }\r\n\r\n3. In repository, use the entity to map directly from `query.getResultList()`\r\n\r\n       public List&lt;MyCustomeResult&gt; findByExampleCustomQuery(Long test) {\r\n            String sql = &quot;select id, name from examples where id =:test&quot;;\r\n            Query query = entityManager.createNativeQuery(sql, MyCustomeResult.class);\r\n            return query.setParameter(&quot;test&quot;, test).getResultList();\r\n        }\r\n","title":"JPA : How to convert a native query result set to POJO class collection","body":"<p>If you want to map the custom query result directly to an entity without writing any code to map, try this way. In my experience, it is the most convenient way to do, but the downside is to lose the benefit of hibernate ddl-auto:</p>\n<ol>\n<li><p>Disable hibernate validation by removing the <code>hibernate.ddl-auto</code>. If not doing this, hibernate can complain about missing table in database.</p>\n</li>\n<li><p>Create a pojo with <code>@Entity</code> for the custom result set without table mapping, something like:</p>\n<pre><code>@Getter\n@Setter\n@Entity\npublic class MyCustomeResult implements Serializable {\n    @Id\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n}\n</code></pre>\n</li>\n<li><p>In repository, use the entity to map directly from <code>query.getResultList()</code></p>\n<pre><code>public List&lt;MyCustomeResult&gt; findByExampleCustomQuery(Long test) {\n     String sql = &quot;select id, name from examples where id =:test&quot;;\n     Query query = entityManager.createNativeQuery(sql, MyCustomeResult.class);\n     return query.setParameter(&quot;test&quot;, test).getResultList();\n }\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9880869,"reputation":1,"user_id":7317007,"display_name":"AZAD MAHIN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697518114,"creation_date":1697518114,"answer_id":77306234,"question_id":13012584,"body_markdown":"    //PackageCustomerResponse Class\r\n    \r\n    /**\r\n     * @author : azad\r\n     * @mailto : azadsmc@gmail.com\r\n     * @created : 10/17/2023, Tuesday\r\n     **/\r\n    public interface PackageCustomerResponse {\r\n    \r\n        Long getCustomerId();\r\n    \r\n        String getCustomerName();\r\n    \r\n        Long getPackageId();\r\n    \r\n        String getPackageName();\r\n    \r\n        LocalDate getStartDate();\r\n    \r\n    }\r\n    \r\n    \r\n    //Repository\r\n    \r\n    @Repository\r\n    public interface CustomerRepository extends JpaRepository&lt;Customer, Long&gt; {\r\n    \r\n    @Query(nativeQuery = true,\r\n                value=&quot;SELECT c.customer_id as customerId, c.customer_name as \r\n      customerName, pa.package_id as packageId, &quot; +\r\n                        &quot;pa.package_name as packageName, pa.start_date as startDate \r\n      FROM customers c &quot;+\r\n                        &quot;INNER JOIN customer_packages p ON p.customer_id = \r\n      c.customer_id &quot;+\r\n                        &quot;INNER JOIN packages pa ON pa.package_id = p.package_id&quot;)\r\n    \r\n      List&lt;PackageCustomerResponse&gt; findPackageCustomer();\r\n    \r\n    }\r\n\r\n","title":"JPA : How to convert a native query result set to POJO class collection","body":"<pre><code>//PackageCustomerResponse Class\n\n/**\n * @author : azad\n * @mailto : azadsmc@gmail.com\n * @created : 10/17/2023, Tuesday\n **/\npublic interface PackageCustomerResponse {\n\n    Long getCustomerId();\n\n    String getCustomerName();\n\n    Long getPackageId();\n\n    String getPackageName();\n\n    LocalDate getStartDate();\n\n}\n\n\n//Repository\n\n@Repository\npublic interface CustomerRepository extends JpaRepository&lt;Customer, Long&gt; {\n\n@Query(nativeQuery = true,\n            value=&quot;SELECT c.customer_id as customerId, c.customer_name as \n  customerName, pa.package_id as packageId, &quot; +\n                    &quot;pa.package_name as packageName, pa.start_date as startDate \n  FROM customers c &quot;+\n                    &quot;INNER JOIN customer_packages p ON p.customer_id = \n  c.customer_id &quot;+\n                    &quot;INNER JOIN packages pa ON pa.package_id = p.package_id&quot;)\n\n  List&lt;PackageCustomerResponse&gt; findPackageCustomer();\n\n}\n</code></pre>\n"}],"owner":{"account_id":262192,"reputation":5128,"user_id":546888,"accept_rate":68,"display_name":"Gunjan Shah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":528067,"favorite_count":0,"down_vote_count":0,"up_vote_count":235,"accepted_answer_id":13013323,"answer_count":23,"score":235,"last_activity_date":1697518114,"creation_date":1350912845,"question_id":13012584,"body_markdown":"I am using JPA in my project.\r\n\r\n  I came to a query in which I need to make join operation on five tables. So I created a native query which returns five fields.\r\n\r\n  Now I want to convert the result object to java POJO class which contains the same five Strings.\r\n\r\n Is there any way in JPA to directly cast that result to POJO object list ??\r\n\r\n I came to the following solution ..\r\n\r\n\r\n    @NamedNativeQueries({  \r\n        @NamedNativeQuery(  \r\n            name = &quot;nativeSQL&quot;,  \r\n            query = &quot;SELECT * FROM Actors&quot;,  \r\n            resultClass = db.Actor.class),  \r\n        @NamedNativeQuery(  \r\n            name = &quot;nativeSQL2&quot;,  \r\n            query = &quot;SELECT COUNT(*) FROM Actors&quot;,  \r\n            resultClass = XXXXX) // &lt;--------------- problem  \r\n    })  \r\n\r\n\r\nNow here in resultClass, do we need to provide a class which is actual JPA entity ?\r\nOR\r\nWe can convert it to any JAVA POJO class which contains the same column names ?\r\n","title":"JPA : How to convert a native query result set to POJO class collection","body":"<p>I am using JPA in my project.</p>\n\n<p>I came to a query in which I need to make join operation on five tables. So I created a native query which returns five fields.</p>\n\n<p>Now I want to convert the result object to java POJO class which contains the same five Strings.</p>\n\n<p>Is there any way in JPA to directly cast that result to POJO object list ??</p>\n\n<p>I came to the following solution ..</p>\n\n<pre><code>@NamedNativeQueries({  \n    @NamedNativeQuery(  \n        name = \"nativeSQL\",  \n        query = \"SELECT * FROM Actors\",  \n        resultClass = db.Actor.class),  \n    @NamedNativeQuery(  \n        name = \"nativeSQL2\",  \n        query = \"SELECT COUNT(*) FROM Actors\",  \n        resultClass = XXXXX) // &lt;--------------- problem  \n})  \n</code></pre>\n\n<p>Now here in resultClass, do we need to provide a class which is actual JPA entity ?\nOR\nWe can convert it to any JAVA POJO class which contains the same column names ?</p>\n"},{"tags":["java","arrays","list","arraylist"],"comments":[{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1697514263,"post_id":77306045,"comment_id":136286060,"body_markdown":"that equals method that just returns true, make it right.","body":"that equals method that just returns true, make it right."},{"owner":{"account_id":29688155,"reputation":1,"user_id":22753131,"display_name":"Long"},"score":0,"creation_date":1697514691,"post_id":77306045,"comment_id":136286086,"body_markdown":"I will fix it later, now I want to handle the getTitle method first","body":"I will fix it later, now I want to handle the getTitle method first"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":4,"creation_date":1697516131,"post_id":77306045,"comment_id":136286178,"body_markdown":"The bug is in Word.java which you did not supply. This question cannot be answered; there is not enough information available to do so.","body":"The bug is in Word.java which you did not supply. This question cannot be answered; there is not enough information available to do so."},{"owner":{"account_id":6170834,"reputation":1988,"user_id":4809143,"display_name":"moreON"},"score":0,"creation_date":1697516563,"post_id":77306045,"comment_id":136286210,"body_markdown":"Including all source code that is executed, not just a comment asserting that a function does what you believe it does is much more helpful for determining where you may have gone wrong.","body":"Including all source code that is executed, not just a comment asserting that a function does what you believe it does is much more helpful for determining where you may have gone wrong."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1697521282,"post_id":77306045,"comment_id":136286621,"body_markdown":"There are two possible causes: either `Word` contains only a static field for the string or `Word.createWord()` always returns the same `Word` instance and just overwrite the string field of that instance. The linked question explains more details.","body":"There are two possible causes: either <code>Word</code> contains only a static field for the string or <code>Word.createWord()</code> always returns the same <code>Word</code> instance and just overwrite the string field of that instance. The linked question explains more details."}],"owner":{"account_id":29688155,"reputation":1,"user_id":22753131,"display_name":"Long"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697521078,"answer_count":0,"score":0,"last_activity_date":1697516056,"creation_date":1697513877,"question_id":77306045,"body_markdown":"The result I want is [Object-oriented, &quot;design&quot;:, with, UML&#39;s, diagrams]\r\nbut the result is [diagrams, diagrams, diagrams, diagrams, diagrams]\r\nWhen an element is added, the list changes all of its elements to the added elements like this:\r\n[Object-oriented] [&quot;design&quot;:, &quot;design&quot;:] [with, with, with] [UML&#39;s, UML&#39;s, UML&#39;s, UML&#39;s] [diagrams, diagrams, diagrams, diagrams, diagrams] \r\nWhy is the list duplicated when I add an element and how to fix it ?\r\n\r\n```\r\npublic class Doc {\r\n    private String content;\r\n    private String title, body;\r\n    public Doc(String content) {\r\n        this.content = content;\r\n        title= content.substring(0,content.indexOf(&#39;\\n&#39;));\r\n        body= content.substring(content.indexOf(&#39;\\n&#39;),content.length());\r\n    }\r\n    public List&lt;Word&gt; getTitle(){\r\n    \t String[] l1=title.split(&quot;\\\\s&quot;);\r\n         List&lt;Word&gt; list= new ArrayList&lt;&gt;();\r\n         for(String word: l1){\r\n        \tWord element =Word.createWord(word); // createWord is a method initialize a new Word with a parameter is string\r\n            list.add(element);\r\n         }        \r\n         return list;\r\n     }\r\n    public List&lt;Word&gt; getBody(){\r\n        String[] l1=body.split(&quot;\\\\s&quot;);\r\n        List&lt;Word&gt; list= new ArrayList&lt;&gt;();\r\n        for(String word: l1){\r\n            list.add(Word.createWord(word));\r\n        }\r\n        return list;\r\n    }\r\n    public boolean equals(Object o){\r\n    \treturn true;\r\n    }\r\n    public static void main(String[] args) {\r\n    \tDoc d = new Doc(&quot;Object-oriented \\&quot;design\\&quot;: with UML&#39;s diagrams\\n&quot; +\r\n    \t                 &quot;Definition: An object-oriented system&#39;s context made up of (interacting) objects.&quot;);\r\n    \t         System.out.println(d.getTitle());        \r\n    \t}\r\n```\r\n","title":"Java problem when adding an element to a Object list","body":"<p>The result I want is [Object-oriented, &quot;design&quot;:, with, UML's, diagrams]\nbut the result is [diagrams, diagrams, diagrams, diagrams, diagrams]\nWhen an element is added, the list changes all of its elements to the added elements like this:\n[Object-oriented] [&quot;design&quot;:, &quot;design&quot;:] [with, with, with] [UML's, UML's, UML's, UML's] [diagrams, diagrams, diagrams, diagrams, diagrams]\nWhy is the list duplicated when I add an element and how to fix it ?</p>\n<pre><code>public class Doc {\n    private String content;\n    private String title, body;\n    public Doc(String content) {\n        this.content = content;\n        title= content.substring(0,content.indexOf('\\n'));\n        body= content.substring(content.indexOf('\\n'),content.length());\n    }\n    public List&lt;Word&gt; getTitle(){\n         String[] l1=title.split(&quot;\\\\s&quot;);\n         List&lt;Word&gt; list= new ArrayList&lt;&gt;();\n         for(String word: l1){\n            Word element =Word.createWord(word); // createWord is a method initialize a new Word with a parameter is string\n            list.add(element);\n         }        \n         return list;\n     }\n    public List&lt;Word&gt; getBody(){\n        String[] l1=body.split(&quot;\\\\s&quot;);\n        List&lt;Word&gt; list= new ArrayList&lt;&gt;();\n        for(String word: l1){\n            list.add(Word.createWord(word));\n        }\n        return list;\n    }\n    public boolean equals(Object o){\n        return true;\n    }\n    public static void main(String[] args) {\n        Doc d = new Doc(&quot;Object-oriented \\&quot;design\\&quot;: with UML's diagrams\\n&quot; +\n                         &quot;Definition: An object-oriented system's context made up of (interacting) objects.&quot;);\n                 System.out.println(d.getTitle());        \n        }\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3159138,"reputation":33796,"user_id":2670792,"accept_rate":100,"display_name":"Christian Tapia"},"score":4,"creation_date":1390760144,"post_id":21367252,"comment_id":32220320,"body_markdown":"Is not very clear, what line is 37? Because there are two constructor, one without parameters and one with 5.","body":"Is not very clear, what line is 37? Because there are two constructor, one without parameters and one with 5."},{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":0,"creation_date":1390760190,"post_id":21367252,"comment_id":32220332,"body_markdown":"He has used an [overloaded](http://docs.oracle.com/javase/tutorial/java/javaOO/methods.html) constructor. You can call `Student()` and enter values manually OR call `Student(int, int, int, String, String)` and set them inside the constructor in one stroke. Even when you use the second example, your code should still have setters/getters.","body":"He has used an <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"nofollow noreferrer\">overloaded</a> constructor. You can call <code>Student()</code> and enter values manually OR call <code>Student(int, int, int, String, String)</code> and set them inside the constructor in one stroke. Even when you use the second example, your code should still have setters/getters."}],"answers":[{"tags":[],"owner":{"account_id":3902848,"reputation":2777,"user_id":3230218,"display_name":"Reinstate Monica"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1390760613,"creation_date":1390760250,"answer_id":21367324,"question_id":21367252,"body_markdown":"Typically, you&#39;ll want to encapsulate your fields as much as possible. This means make these \r\n\r\n    int test1, test2, test3;\r\n    double average;\r\n    String grade, firstName, lastName;\r\n\r\nthings private. You&#39;ll then need getters and setters to access them from outside the class. That&#39;s a good thing. However, from inside the class, you can use them without getters or setters no problem. \r\n\r\nDoes this answer your question? I have no idea what is on line 37, as you didn&#39;t provide numbering. :)\r\n\r\nEdit: In case you don&#39;t know, constructors can be overloaded. You have two different constructors, one with parameters, one without. You can choose which one you want to use to construct the class, you probably want to be using the second one. \r\n\r\nIf you have need for both constructors, one complete one and another one that uses default values, you might want to contemplate referencing the second constructor from inside the first, to avoid duplication of code. Like so:\r\n\r\n    public Student() {\r\n        this(0,0,0);\r\n    }\r\n\r\n    public Student(int test1, int test2, int test3, String firstName, String lastName) {\r\n        this.test1 = test1;\r\n        this.test2 = test2;\r\n        this.test3 = test3;\r\n        this.average = 0;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n    }\r\n\r\n","title":"Array of Student objects java","body":"<p>Typically, you'll want to encapsulate your fields as much as possible. This means make these </p>\n\n<pre><code>int test1, test2, test3;\ndouble average;\nString grade, firstName, lastName;\n</code></pre>\n\n<p>things private. You'll then need getters and setters to access them from outside the class. That's a good thing. However, from inside the class, you can use them without getters or setters no problem. </p>\n\n<p>Does this answer your question? I have no idea what is on line 37, as you didn't provide numbering. :)</p>\n\n<p>Edit: In case you don't know, constructors can be overloaded. You have two different constructors, one with parameters, one without. You can choose which one you want to use to construct the class, you probably want to be using the second one. </p>\n\n<p>If you have need for both constructors, one complete one and another one that uses default values, you might want to contemplate referencing the second constructor from inside the first, to avoid duplication of code. Like so:</p>\n\n<pre><code>public Student() {\n    this(0,0,0);\n}\n\npublic Student(int test1, int test2, int test3, String firstName, String lastName) {\n    this.test1 = test1;\n    this.test2 = test2;\n    this.test3 = test3;\n    this.average = 0;\n    this.firstName = firstName;\n    this.lastName = lastName;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1390760557,"creation_date":1390760557,"answer_id":21367387,"question_id":21367252,"body_markdown":"Your Person class is wrong.  It has no attributes or methods.  There&#39;s no reason to extend it, because it brings nothing to the party.\r\n\r\nYou don&#39;t need getters or setters if the attribute is visible to the public, but that doesn&#39;t mean it&#39;s a good idea.\r\n\r\nTry thinking more like this: \r\n\r\n    public class Person {\r\n        protected String firstName;\r\n        protected String lastName;\r\n    \r\n        public Person(String f, String l) {\r\n            this.firstName = f;\r\n            this.lastName = l;\r\n        }\r\n    \r\n        public String getFirstName() { return this.firstName; }\r\n        public String getLastName() { return this.lastName; }\r\n    }\r\n    \r\n    public class Student extends Person {\r\n        public static final int MAX_GRADES = 3;\r\n        private int numGrades = 0;\r\n        private int maxGrades;\r\n        private int [] grades;\r\n    \r\n        public Student(String f, String l) {\r\n            this(f, l, MAX_GRADES);\r\n        }\r\n\r\n        public Student(String f, String l, int maxGrades) {\r\n            super(f, l);\r\n            this.maxGrades = (maxGrades &gt; 0) ? maxGrades : MAX_GRADES;\r\n            this.grades = new int[this.maxGrades];   \r\n        }\r\n    \r\n        public void addGrade(int grade) {\r\n            if (this.numGrades &lt; this.maxGrades) {\r\n                this.grades[numGrades++] = grade;\r\n            }\r\n        }\r\n    \r\n        public double getAverageGrade() { \r\n            double average = 0.0;\r\n            if (this.numGrades &gt; 0) {\r\n                for (int i = 0; i &lt; this.numGrades; ++i) {\r\n                    average += grade[i];\r\n                }\r\n                average /= this.numGrades;\r\n            }\r\n            return average;\r\n        }\r\n    }\r\n\r\n","title":"Array of Student objects java","body":"<p>Your Person class is wrong.  It has no attributes or methods.  There's no reason to extend it, because it brings nothing to the party.</p>\n\n<p>You don't need getters or setters if the attribute is visible to the public, but that doesn't mean it's a good idea.</p>\n\n<p>Try thinking more like this: </p>\n\n<pre><code>public class Person {\n    protected String firstName;\n    protected String lastName;\n\n    public Person(String f, String l) {\n        this.firstName = f;\n        this.lastName = l;\n    }\n\n    public String getFirstName() { return this.firstName; }\n    public String getLastName() { return this.lastName; }\n}\n\npublic class Student extends Person {\n    public static final int MAX_GRADES = 3;\n    private int numGrades = 0;\n    private int maxGrades;\n    private int [] grades;\n\n    public Student(String f, String l) {\n        this(f, l, MAX_GRADES);\n    }\n\n    public Student(String f, String l, int maxGrades) {\n        super(f, l);\n        this.maxGrades = (maxGrades &gt; 0) ? maxGrades : MAX_GRADES;\n        this.grades = new int[this.maxGrades];   \n    }\n\n    public void addGrade(int grade) {\n        if (this.numGrades &lt; this.maxGrades) {\n            this.grades[numGrades++] = grade;\n        }\n    }\n\n    public double getAverageGrade() { \n        double average = 0.0;\n        if (this.numGrades &gt; 0) {\n            for (int i = 0; i &lt; this.numGrades; ++i) {\n                average += grade[i];\n            }\n            average /= this.numGrades;\n        }\n        return average;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3159138,"reputation":33796,"user_id":2670792,"accept_rate":100,"display_name":"Christian Tapia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390760580,"creation_date":1390760580,"answer_id":21367397,"question_id":21367252,"body_markdown":"There are *two constructors* in `Student`class:\r\n\r\n- Constructor without parameters\r\n- Constructor with paramers (`int`,`int`,`int`,`String`,`String`)\r\n\r\nThis is called method/function overloading. You can declare many method with the *same name*, but the signature has to change. In other words, it has to have different parameters (so the compiler will know which version of the method to use).\r\n\r\nSo you have one constructor without parameters, that just set `test1`, `test2`, `test3` and `average` to 0. And you have this constructor:\r\n\r\n    public Student(int test1, int test2, int test3, String firstName, String lastName) \r\n    {\r\n        this.test1 = test1;\r\n        this.test2 = test2;\r\n        this.test3 = test3;\r\n        ...\r\n    }\r\n\r\nthat receives `4` parameters and assigns them to the respective fields.\r\n\r\n**Note** that you should initialize `average` in the constructor too, as well as set `firstName` and `lastName`:\r\n\r\n    this.average = 0; // Or maybe &#39;this.average = computeAverage();&#39;\r\n    this.firstName = firstName;\r\n    this.lastName = lastName;","title":"Array of Student objects java","body":"<p>There are <em>two constructors</em> in <code>Student</code>class:</p>\n\n<ul>\n<li>Constructor without parameters</li>\n<li>Constructor with paramers (<code>int</code>,<code>int</code>,<code>int</code>,<code>String</code>,<code>String</code>)</li>\n</ul>\n\n<p>This is called method/function overloading. You can declare many method with the <em>same name</em>, but the signature has to change. In other words, it has to have different parameters (so the compiler will know which version of the method to use).</p>\n\n<p>So you have one constructor without parameters, that just set <code>test1</code>, <code>test2</code>, <code>test3</code> and <code>average</code> to 0. And you have this constructor:</p>\n\n<pre><code>public Student(int test1, int test2, int test3, String firstName, String lastName) \n{\n    this.test1 = test1;\n    this.test2 = test2;\n    this.test3 = test3;\n    ...\n}\n</code></pre>\n\n<p>that receives <code>4</code> parameters and assigns them to the respective fields.</p>\n\n<p><strong>Note</strong> that you should initialize <code>average</code> in the constructor too, as well as set <code>firstName</code> and <code>lastName</code>:</p>\n\n<pre><code>this.average = 0; // Or maybe 'this.average = computeAverage();'\nthis.firstName = firstName;\nthis.lastName = lastName;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2989543,"reputation":146,"user_id":2537423,"accept_rate":25,"display_name":"A Parikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390760733,"creation_date":1390760733,"answer_id":21367429,"question_id":21367252,"body_markdown":"His instance variables (the variables declared at the beginning of Student) were `public`, which allowed him to access and change them directly without the use of setters and getters. Normally, these variables are private, requiring methods to access/change them.","title":"Array of Student objects java","body":"<p>His instance variables (the variables declared at the beginning of Student) were <code>public</code>, which allowed him to access and change them directly without the use of setters and getters. Normally, these variables are private, requiring methods to access/change them.</p>\n"}],"owner":{"account_id":3913507,"reputation":637,"user_id":3238079,"accept_rate":60,"display_name":"JP Hochbaum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1697515675,"creation_date":1390759927,"question_id":21367252,"body_markdown":"Just to give a run down of what I am trying to do, here is the HW my professor gave me:\r\n\r\n1. Define a class Student which extends Person. It adds the attributes \r\n\r\nInt Test1, test2, test3\r\nDouble average\r\nString grade\r\n\r\nIt has methods computeaverage() and calculategrade(). The grades are based on the average, with above 90 an A, 80 to 90 a B, 70 to 80 a C etc. All other attributes have a set and a get.\r\n\r\n\r\n2. Write an application that uses an array of type student of size 20. The program prompts the user for how many students are in the class and then allows them to enter the students and their test scores, then calculates their grades and prints out the list of students and their grades.\r\n\r\nThat being said...\r\n\r\nOn Thursday I saw a classmates code that he got from the teacher and he had something that I haven&#39;t seen before in my student class on line 37 (Student Constructor). Instead of having getters and setters he had code similar to what I have at line 37. But I have no idea what he did and the correct coding. So I was hoping someone here could tell me what I am doing wrong and how this code can get away without using getter and setter methods???\r\n\r\n\r\n    public class Person {\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) \r\n        {\r\n            \r\n            \r\n            \r\n            Scanner kbd = new Scanner(System.in);\r\n            Student newStudent = new Student();\r\n            int size;\r\n            \r\n            System.out.println(&quot;Enter the amount of students:&quot;);\r\n            size = kbd.nextInt();\r\n            Student[] myStudent = new Student[size];\r\n            String firstName;\r\n            String lastName;\r\n            int test1, test2, test3;\r\n            Student s;\r\n            \r\n            for (int i=0; i &lt; size; i++)\r\n            {\r\n            \r\n            System.out.println(&quot;Enter first name of student: &quot; + i);\r\n            firstName = kbd.next();\r\n            \r\n            System.out.println(&quot;Enter last name if student: &quot; +i);\r\n            lastName = kbd.next();\r\n            \r\n            System.out.println(&quot;Please Enter first test score: &quot;);\r\n    //        JOptionPane.showInputDialog(&quot;Please enter first test score:&quot;);\r\n            test1= kbd.nextInt();\r\n            \r\n            System.out.println(&quot;Please enter second test score&quot;);\r\n    //        JOptionPane.showInputDialog(&quot;Please enter second test score:&quot;);\r\n            test2= kbd.nextInt();\r\n            \r\n            System.out.println(&quot;Please enter third test score&quot;);\r\n    //        JOptionPane.showInputDialog(&quot;Please enter third test score:&quot;);\r\n            test3=kbd.nextInt();\r\n            \r\n    //        s = new Student (test1, test2, test3, firstName, lastName);\r\n            myStudent[i].setTest1(test1);\r\n            myStudent[i].setTest2(test2);\r\n            myStudent[i].setTest3(test3);\r\n            myStudent[i].setfName(fName);\r\n            myStudent[i].setlName(lname);\r\n            \r\n            \r\n            }\r\n            for (int i = 0; i &lt; size; i++)\r\n            {\r\n                System.out.println(myStudent[i].getGrade());\r\n            }\r\n            \r\n            \r\n            \r\n        }\r\n    }\r\n    \r\n    \r\n    public class Student extends Person{\r\n        \r\n        int test1, test2, test3;\r\n        double average;\r\n        String grade, firstName, lastName;\r\n        \r\n    \r\n        public Student() \r\n        {\r\n            test1 = 0;\r\n            test2 = 0;\r\n            test3 = 0;\r\n            average = 0;\r\n            \r\n            \r\n        }\r\n    \r\n        \r\n        \r\n        \r\n        public Student(int test1, int test2, int test3, String firstName, String lastName) \r\n        {\r\n            this.test1 = test1;\r\n            this.test2 = test2;\r\n            this.test3 = test3;\r\n          \r\n            this.setfirstName = firstName;\r\n        }\r\n        \r\n        \r\n        public double computeAverage()\r\n        {\r\n            average = (test1 + test2 + test3)/3;\r\n            return average;\r\n            \r\n        }\r\n        \r\n        public String calculateGrade()\r\n        {\r\n            average = computeAverage();\r\n            \r\n            if (average &lt; 60){\r\n                grade = &quot;F&quot;;}\r\n            else if (average &lt; 70){\r\n                grade = &quot;D&quot;;}\r\n            else if (average &lt; 80){\r\n                grade = &quot;C&quot;;}\r\n            else if (average &lt; 90){\r\n                grade = &quot;B&quot;;}\r\n            else {\r\n                grade = &quot;A&quot;;\r\n            }\r\n            return grade;\r\n        }\r\n    \r\n        public int getTest1() {\r\n            return test1;\r\n        }\r\n    \r\n        public void setTest1(int test1) {\r\n            this.test1 = test1;\r\n        }\r\n    \r\n        public int getTest2() {\r\n            return test2;\r\n        }\r\n    \r\n        public void setTest2(int test2) {\r\n            this.test2 = test2;\r\n        }\r\n    \r\n        public int getTest3() {\r\n            return test3;\r\n        }\r\n    \r\n        public void setTest3(int test3) {\r\n            this.test3 = test3;\r\n        }\r\n    \r\n        public double getAverage() {\r\n            return average;\r\n        }\r\n    \r\n        public void setAverage(double average) {\r\n            this.average = average;\r\n        }\r\n    \r\n        public String getGrade() {\r\n            return grade;\r\n        }\r\n    \r\n        public void setGrade(String grade) {\r\n            this.grade = grade;\r\n        }\r\n        \r\n        \r\n    \r\n    }\r\n\r\n","title":"Array of Student objects java","body":"<p>Just to give a run down of what I am trying to do, here is the HW my professor gave me:</p>\n\n<ol>\n<li>Define a class Student which extends Person. It adds the attributes </li>\n</ol>\n\n<p>Int Test1, test2, test3\nDouble average\nString grade</p>\n\n<p>It has methods computeaverage() and calculategrade(). The grades are based on the average, with above 90 an A, 80 to 90 a B, 70 to 80 a C etc. All other attributes have a set and a get.</p>\n\n<ol>\n<li>Write an application that uses an array of type student of size 20. The program prompts the user for how many students are in the class and then allows them to enter the students and their test scores, then calculates their grades and prints out the list of students and their grades.</li>\n</ol>\n\n<p>That being said...</p>\n\n<p>On Thursday I saw a classmates code that he got from the teacher and he had something that I haven't seen before in my student class on line 37 (Student Constructor). Instead of having getters and setters he had code similar to what I have at line 37. But I have no idea what he did and the correct coding. So I was hoping someone here could tell me what I am doing wrong and how this code can get away without using getter and setter methods???</p>\n\n<pre><code>public class Person {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) \n    {\n\n\n\n        Scanner kbd = new Scanner(System.in);\n        Student newStudent = new Student();\n        int size;\n\n        System.out.println(\"Enter the amount of students:\");\n        size = kbd.nextInt();\n        Student[] myStudent = new Student[size];\n        String firstName;\n        String lastName;\n        int test1, test2, test3;\n        Student s;\n\n        for (int i=0; i &lt; size; i++)\n        {\n\n        System.out.println(\"Enter first name of student: \" + i);\n        firstName = kbd.next();\n\n        System.out.println(\"Enter last name if student: \" +i);\n        lastName = kbd.next();\n\n        System.out.println(\"Please Enter first test score: \");\n//        JOptionPane.showInputDialog(\"Please enter first test score:\");\n        test1= kbd.nextInt();\n\n        System.out.println(\"Please enter second test score\");\n//        JOptionPane.showInputDialog(\"Please enter second test score:\");\n        test2= kbd.nextInt();\n\n        System.out.println(\"Please enter third test score\");\n//        JOptionPane.showInputDialog(\"Please enter third test score:\");\n        test3=kbd.nextInt();\n\n//        s = new Student (test1, test2, test3, firstName, lastName);\n        myStudent[i].setTest1(test1);\n        myStudent[i].setTest2(test2);\n        myStudent[i].setTest3(test3);\n        myStudent[i].setfName(fName);\n        myStudent[i].setlName(lname);\n\n\n        }\n        for (int i = 0; i &lt; size; i++)\n        {\n            System.out.println(myStudent[i].getGrade());\n        }\n\n\n\n    }\n}\n\n\npublic class Student extends Person{\n\n    int test1, test2, test3;\n    double average;\n    String grade, firstName, lastName;\n\n\n    public Student() \n    {\n        test1 = 0;\n        test2 = 0;\n        test3 = 0;\n        average = 0;\n\n\n    }\n\n\n\n\n    public Student(int test1, int test2, int test3, String firstName, String lastName) \n    {\n        this.test1 = test1;\n        this.test2 = test2;\n        this.test3 = test3;\n\n        this.setfirstName = firstName;\n    }\n\n\n    public double computeAverage()\n    {\n        average = (test1 + test2 + test3)/3;\n        return average;\n\n    }\n\n    public String calculateGrade()\n    {\n        average = computeAverage();\n\n        if (average &lt; 60){\n            grade = \"F\";}\n        else if (average &lt; 70){\n            grade = \"D\";}\n        else if (average &lt; 80){\n            grade = \"C\";}\n        else if (average &lt; 90){\n            grade = \"B\";}\n        else {\n            grade = \"A\";\n        }\n        return grade;\n    }\n\n    public int getTest1() {\n        return test1;\n    }\n\n    public void setTest1(int test1) {\n        this.test1 = test1;\n    }\n\n    public int getTest2() {\n        return test2;\n    }\n\n    public void setTest2(int test2) {\n        this.test2 = test2;\n    }\n\n    public int getTest3() {\n        return test3;\n    }\n\n    public void setTest3(int test3) {\n        this.test3 = test3;\n    }\n\n    public double getAverage() {\n        return average;\n    }\n\n    public void setAverage(double average) {\n        this.average = average;\n    }\n\n    public String getGrade() {\n        return grade;\n    }\n\n    public void setGrade(String grade) {\n        this.grade = grade;\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate"],"answers":[{"comments":[{"owner":{"account_id":143433,"reputation":8912,"user_id":351758,"accept_rate":73,"display_name":"Janning Vygen"},"score":0,"creation_date":1697445413,"post_id":77286176,"comment_id":136276161,"body_markdown":"doesn&#39;t help because getExplicitTableName only returns a String if you have an explicit tabel name marked with an annotation","body":"doesn&#39;t help because getExplicitTableName only returns a String if you have an explicit tabel name marked with an annotation"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697450931,"post_id":77286176,"comment_id":136277159,"body_markdown":"@JanningVygen Let me check if I can find some other way.","body":"@JanningVygen Let me check if I can find some other way."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":1,"creation_date":1697451392,"post_id":77286176,"comment_id":136277228,"body_markdown":"@JanningVygen Can you try this please - `column.getParent().getTable().getName().toLowerCase();`","body":"@JanningVygen Can you try this please - <code>column.getParent().getTable().getName().toLowerCase();</code>"},{"owner":{"account_id":143433,"reputation":8912,"user_id":351758,"accept_rate":73,"display_name":"Janning Vygen"},"score":1,"creation_date":1697470220,"post_id":77286176,"comment_id":136280807,"body_markdown":"This works. Still strange to need to use reflection to access the tableName.  It should be part of ImplicitBasicColumnNameSource","body":"This works. Still strange to need to use reflection to access the tableName.  It should be part of ImplicitBasicColumnNameSource"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697470308,"post_id":77286176,"comment_id":136280826,"body_markdown":"@JanningVygen They moved the logic into `AnnotatedColumns`. I don&#39;t know why. After digging, I found out that the same logic is now present in that instead of `AnnotatedColumn`.","body":"@JanningVygen They moved the logic into <code>AnnotatedColumns</code>. I don&#39;t know why. After digging, I found out that the same logic is now present in that instead of <code>AnnotatedColumn</code>."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697486443,"post_id":77286176,"comment_id":136283465,"body_markdown":"@JanningVygen No problem :)","body":"@JanningVygen No problem :)"}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697515404,"creation_date":1697185312,"answer_id":77286176,"question_id":77285864,"body_markdown":"The `getTable()` method has been moved to `AnnotatedColumns`. It&#39;s no more there in `AnnotatedColumn`.\r\n\r\nUpdate the code to this:\r\n\r\n    String tableName = column.getParent().getTable().getName().toLowerCase();\r\n\r\nSee if this works.\r\n","title":"How to build a NamingStrategy with Hibernate v6.2 to prefix all columns with their table name?","body":"<p>The <code>getTable()</code> method has been moved to <code>AnnotatedColumns</code>. It's no more there in <code>AnnotatedColumn</code>.</p>\n<p>Update the code to this:</p>\n<pre><code>String tableName = column.getParent().getTable().getName().toLowerCase();\n</code></pre>\n<p>See if this works.</p>\n"}],"owner":{"account_id":143433,"reputation":8912,"user_id":351758,"accept_rate":73,"display_name":"Janning Vygen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77286176,"answer_count":1,"score":2,"last_activity_date":1697515404,"creation_date":1697182645,"question_id":77285864,"body_markdown":"I want to have all my basic columns and primary keys in the database to be prefixed with the tableName, so a &#39;Person&#39; with properties &#39;name&#39; and &#39;age&#39; become\r\n\r\n    CREATE TABLE person ( person_id, person_name text, person_age int)\r\n\r\nThis is nice because I can use &#39;natural joins&#39; quite easily with PostgreSQL.\r\n\r\nThis is currently my NamingStrategy and it **works fine with hibernate 6.1.7** (which comes with Spring Boot 3.0.5)\r\n\r\n    import org.hibernate.boot.model.naming.*;\r\n    import org.hibernate.cfg.AnnotatedColumn;\r\n    import java.lang.reflect.Field;\r\n\r\n    public class HibernateImplicitNamingStrategy extends \r\n              ImplicitNamingStrategyComponentPathImpl {\r\n\r\n    @Override\r\n    public Identifier determineJoinColumnName(ImplicitJoinColumnNameSource source) {\r\n        String name = source.getReferencedColumnName().toString().toLowerCase();\r\n        return toIdentifier(name, source.getBuildingContext());\r\n    }\r\n\r\n    @Override\r\n    public Identifier determinePrimaryTableName(ImplicitEntityNameSource source) {\r\n        return super.determinePrimaryTableName(source);\r\n    }\r\n\r\n    @Override\r\n    public Identifier determineBasicColumnName(ImplicitBasicColumnNameSource source) {\r\n        try {\r\n            Field field = source.getClass().getDeclaredField(&quot;this$0&quot;);\r\n            field.setAccessible(true);\r\n            AnnotatedColumn column = (AnnotatedColumn) field.get(source);\r\n            // explicit naming oder implicit\r\n            String tableName = column.getTable().getName().toLowerCase();\r\n            final Identifier basicColumnName = super.determineBasicColumnName(source);\r\n            String columnName = tableName + &quot;_&quot; + basicColumnName.toString().toLowerCase();\r\n            return Identifier.toIdentifier(columnName);\r\n        } catch (Exception e) {\r\n            return super.determineBasicColumnName(source);\r\n        }\r\n    }\r\n    }\r\n\r\nWhen I move to **hibernate 6.2.x it does not work** anymore (which comes with Spring boot 3.1.x). The Class AnnotatedColumn had changed (and moved to another package). I changed the import like this: \r\n\r\n    //import org.hibernate.cfg.AnnotatedColumn;\r\n    import org.hibernate.boot.model.internal.AnnotatedColumn;\r\n\r\nBut the new `AnnotatedColumn` does not have a method `getTable()`. I guess I have to move to more common NamingStrategy as it looks dangerous anyhow. But this is not the question right now.\r\n\r\nThe method `getExplicitTableName` doesn&#39;t help as it only returns a tableName if you have an explicit annotation @Table(name=&quot;person&quot;)\r\n\r\nI want to know, if there is a way to access the table name inside determineBasicColumnName ?\r\n\r\n","title":"How to build a NamingStrategy with Hibernate v6.2 to prefix all columns with their table name?","body":"<p>I want to have all my basic columns and primary keys in the database to be prefixed with the tableName, so a 'Person' with properties 'name' and 'age' become</p>\n<pre><code>CREATE TABLE person ( person_id, person_name text, person_age int)\n</code></pre>\n<p>This is nice because I can use 'natural joins' quite easily with PostgreSQL.</p>\n<p>This is currently my NamingStrategy and it <strong>works fine with hibernate 6.1.7</strong> (which comes with Spring Boot 3.0.5)</p>\n<pre><code>import org.hibernate.boot.model.naming.*;\nimport org.hibernate.cfg.AnnotatedColumn;\nimport java.lang.reflect.Field;\n\npublic class HibernateImplicitNamingStrategy extends \n          ImplicitNamingStrategyComponentPathImpl {\n\n@Override\npublic Identifier determineJoinColumnName(ImplicitJoinColumnNameSource source) {\n    String name = source.getReferencedColumnName().toString().toLowerCase();\n    return toIdentifier(name, source.getBuildingContext());\n}\n\n@Override\npublic Identifier determinePrimaryTableName(ImplicitEntityNameSource source) {\n    return super.determinePrimaryTableName(source);\n}\n\n@Override\npublic Identifier determineBasicColumnName(ImplicitBasicColumnNameSource source) {\n    try {\n        Field field = source.getClass().getDeclaredField(&quot;this$0&quot;);\n        field.setAccessible(true);\n        AnnotatedColumn column = (AnnotatedColumn) field.get(source);\n        // explicit naming oder implicit\n        String tableName = column.getTable().getName().toLowerCase();\n        final Identifier basicColumnName = super.determineBasicColumnName(source);\n        String columnName = tableName + &quot;_&quot; + basicColumnName.toString().toLowerCase();\n        return Identifier.toIdentifier(columnName);\n    } catch (Exception e) {\n        return super.determineBasicColumnName(source);\n    }\n}\n}\n</code></pre>\n<p>When I move to <strong>hibernate 6.2.x it does not work</strong> anymore (which comes with Spring boot 3.1.x). The Class AnnotatedColumn had changed (and moved to another package). I changed the import like this:</p>\n<pre><code>//import org.hibernate.cfg.AnnotatedColumn;\nimport org.hibernate.boot.model.internal.AnnotatedColumn;\n</code></pre>\n<p>But the new <code>AnnotatedColumn</code> does not have a method <code>getTable()</code>. I guess I have to move to more common NamingStrategy as it looks dangerous anyhow. But this is not the question right now.</p>\n<p>The method <code>getExplicitTableName</code> doesn't help as it only returns a tableName if you have an explicit annotation @Table(name=&quot;person&quot;)</p>\n<p>I want to know, if there is a way to access the table name inside determineBasicColumnName ?</p>\n"},{"tags":["java","android","apk","decompiling","apktool"],"answers":[{"comments":[{"owner":{"account_id":13819119,"reputation":1911,"user_id":9975029,"display_name":"Dyno Cris"},"score":3,"creation_date":1648061427,"post_id":66361267,"comment_id":126531790,"body_markdown":"where to find certificate.pem?","body":"where to find certificate.pem?"}],"tags":[],"owner":{"account_id":1174345,"reputation":33194,"user_id":1150712,"accept_rate":72,"display_name":"zhangxaochen"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1614217499,"creation_date":1614217499,"answer_id":66361267,"question_id":66354829,"body_markdown":"The following is for your reference\r\n\r\n---\r\n**Compile, decompile and sign APK using apktool utility.**\r\n\r\n1. Download latest apktool version.\r\n2. Download the batch file and aapt.exe.\r\n3. Create a folder anywhere in the PC and put all the apktool.jar, aapt.exe and the batch script in that folder.\r\n\r\n4. Open command prompt.\r\n5. Navigate to the folder where you placed apktool.jar, batch script and the aapt.exe.\r\n6. Now, you need to install the file using the &quot; IF &quot; command.\r\n7. Type the following command.\r\n\r\n\t`apktool if name-of-the-app.apk`\r\n\t\r\n8. For decompiling use the command &quot;d&quot;. The &quot;d&quot; stands for decompile.\r\n\r\n\t`apktool d name-of-the-app.apk`\r\n\t\r\n9. After the app is correctly decompiled, a new folder will be created in the same folder where you placed your app. This contains all the xml&#39;s and smali files which can be edited for different mode&#39;s.\r\n\r\n10. To recompile the app use the following command &quot; B &quot;. The &quot;b&quot; simply means recompile.\r\n\r\n\t`apktool b name-of-the-app-folder`\r\n\t\r\n11. The final modded app will be in the &quot;dist&quot; folder located inside the original app folder created by apktool.\r\n\r\n**Signing the apk**\r\n\r\n1. open a new command prompt and change into the sign-apk directory using cmd\r\n2. move the modified-unsigned apk into this folder\r\n\r\n3. then type the following command -\r\n\r\n\t`java -jar signapk.jar certificate.pem key.pk8 path-of-the-folder-contaning-the-apk.apk path-of-the-new-signed-apk.apk`\r\n\t\r\n4. Once compiled, the signed apk will be found in the same folder.","title":"How to correctly re-compile an apk file?","body":"<p>The following is for your reference</p>\n<hr />\n<p><strong>Compile, decompile and sign APK using apktool utility.</strong></p>\n<ol>\n<li><p>Download latest apktool version.</p>\n</li>\n<li><p>Download the batch file and aapt.exe.</p>\n</li>\n<li><p>Create a folder anywhere in the PC and put all the apktool.jar, aapt.exe and the batch script in that folder.</p>\n</li>\n<li><p>Open command prompt.</p>\n</li>\n<li><p>Navigate to the folder where you placed apktool.jar, batch script and the aapt.exe.</p>\n</li>\n<li><p>Now, you need to install the file using the &quot; IF &quot; command.</p>\n</li>\n<li><p>Type the following command.</p>\n<p><code>apktool if name-of-the-app.apk</code></p>\n</li>\n<li><p>For decompiling use the command &quot;d&quot;. The &quot;d&quot; stands for decompile.</p>\n<p><code>apktool d name-of-the-app.apk</code></p>\n</li>\n<li><p>After the app is correctly decompiled, a new folder will be created in the same folder where you placed your app. This contains all the xml's and smali files which can be edited for different mode's.</p>\n</li>\n<li><p>To recompile the app use the following command &quot; B &quot;. The &quot;b&quot; simply means recompile.</p>\n<p><code>apktool b name-of-the-app-folder</code></p>\n</li>\n<li><p>The final modded app will be in the &quot;dist&quot; folder located inside the original app folder created by apktool.</p>\n</li>\n</ol>\n<p><strong>Signing the apk</strong></p>\n<ol>\n<li><p>open a new command prompt and change into the sign-apk directory using cmd</p>\n</li>\n<li><p>move the modified-unsigned apk into this folder</p>\n</li>\n<li><p>then type the following command -</p>\n<p><code>java -jar signapk.jar certificate.pem key.pk8 path-of-the-folder-contaning-the-apk.apk path-of-the-new-signed-apk.apk</code></p>\n</li>\n<li><p>Once compiled, the signed apk will be found in the same folder.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9980802,"reputation":191,"user_id":7383823,"display_name":"R.E.L"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681212641,"creation_date":1681212641,"answer_id":75985373,"question_id":66354829,"body_markdown":"New compilations should use [`zipalign`][1] &amp; [`apksigner`][2] tools from [android-sdk build-tools][3].&lt;br /&gt;\r\nBTW you can use [`keytool`][4] to create your keystore. &lt;br /&gt;\r\nOr.. simply use the cross-platform [`buildapp`][5] command (`pip install buildapp`): &lt;br /&gt;\r\n`buildapp -d &lt;sources_folder&gt; -o &lt;outout_apk&gt;`\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/tools/zipalign\r\n  [2]: https://developer.android.com/tools/apksigner\r\n  [3]: https://developer.android.com/tools/releases/build-tools\r\n  [4]: https://docs.oracle.com/javase/8/docs/technotes/tools/unix/keytool.html\r\n  [5]: https://github.com/mon231/buildapp","title":"How to correctly re-compile an apk file?","body":"<p>New compilations should use <a href=\"https://developer.android.com/tools/zipalign\" rel=\"nofollow noreferrer\"><code>zipalign</code></a> &amp; <a href=\"https://developer.android.com/tools/apksigner\" rel=\"nofollow noreferrer\"><code>apksigner</code></a> tools from <a href=\"https://developer.android.com/tools/releases/build-tools\" rel=\"nofollow noreferrer\">android-sdk build-tools</a>.<br />\nBTW you can use <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/keytool.html\" rel=\"nofollow noreferrer\"><code>keytool</code></a> to create your keystore. <br />\nOr.. simply use the cross-platform <a href=\"https://github.com/mon231/buildapp\" rel=\"nofollow noreferrer\"><code>buildapp</code></a> command (<code>pip install buildapp</code>): <br />\n<code>buildapp -d &lt;sources_folder&gt; -o &lt;outout_apk&gt;</code></p>\n"},{"comments":[{"owner":{"account_id":24658783,"reputation":149,"user_id":18555219,"display_name":"Suraj Raika"},"score":0,"creation_date":1697516715,"post_id":77306082,"comment_id":136286226,"body_markdown":"and after spending 5 days \n i am getting app not installed","body":"and after spending 5 days   i am getting app not installed"}],"tags":[],"owner":{"account_id":24658783,"reputation":149,"user_id":18555219,"display_name":"Suraj Raika"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697514577,"creation_date":1697514577,"answer_id":77306082,"question_id":66354829,"body_markdown":"https://liapp.lockincomp.com/blog/blog-Post/tech-apk-signature-scheme-v2-with-apksigner\r\n\r\nhttps://developer.android.com/tools/apksigner\r\n\r\nkeytool -genkeypair -v -keystore keystore.jks -keyalg RSA -keysize 2048 -validity 3650 -alias mykey\r\n\r\nthis will create keystore.jks file\r\n\r\n/home/$USER/DevTools/Android/build-tools/33.0.1/apksigner sign --ks keystore.jks  zipalign_app2.apk\r\n\r\n\r\nyou will need android build tools \r\nand for android build tools\r\n[https://medium.com/@barcelos.ds/install-android-sdk-in-the-ubuntu-20-04-lts-without-android-studio-1b629924d6c5]\r\n \r\nyou will need java in your system\r\n[https://medium.com/@barcelos.ds/install-openjdk-11-lts-in-the-ubuntu-20-04-lts-2c06f17c990]\r\n\r\n\r\nsorry i am in hurry so this are all resources i used \r\n\r\n","title":"How to correctly re-compile an apk file?","body":"<p><a href=\"https://liapp.lockincomp.com/blog/blog-Post/tech-apk-signature-scheme-v2-with-apksigner\" rel=\"nofollow noreferrer\">https://liapp.lockincomp.com/blog/blog-Post/tech-apk-signature-scheme-v2-with-apksigner</a></p>\n<p><a href=\"https://developer.android.com/tools/apksigner\" rel=\"nofollow noreferrer\">https://developer.android.com/tools/apksigner</a></p>\n<p>keytool -genkeypair -v -keystore keystore.jks -keyalg RSA -keysize 2048 -validity 3650 -alias mykey</p>\n<p>this will create keystore.jks file</p>\n<p>/home/$USER/DevTools/Android/build-tools/33.0.1/apksigner sign --ks keystore.jks  zipalign_app2.apk</p>\n<p>you will need android build tools\nand for android build tools\n[https://medium.com/@barcelos.ds/install-android-sdk-in-the-ubuntu-20-04-lts-without-android-studio-1b629924d6c5]</p>\n<p>you will need java in your system\n[https://medium.com/@barcelos.ds/install-openjdk-11-lts-in-the-ubuntu-20-04-lts-2c06f17c990]</p>\n<p>sorry i am in hurry so this are all resources i used</p>\n"}],"owner":{"account_id":14225389,"reputation":158,"user_id":10276248,"display_name":"Mattia Monari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29418,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":66361267,"answer_count":3,"score":6,"last_activity_date":1697514577,"creation_date":1614183897,"question_id":66354829,"body_markdown":"i was trying to inspect an .apk file for a project, so i decided to decompile it using APKtool using:\r\n\r\n    apktool d name.apk\r\n\r\nI find what i wanted, changed it (i modified just a bunch of .json file and some .png, all in the /assets folder), but after re-building it with\r\n\r\n    apktool b name -o new.apk\r\n\r\nI had some problems in installing the app on my device. Any suggestions?\r\n\r\nIt could be the signature of the .apk, according to other similar questions. But none of those explain the method to sign the .apk file in a correct way.","title":"How to correctly re-compile an apk file?","body":"<p>i was trying to inspect an .apk file for a project, so i decided to decompile it using APKtool using:</p>\n<pre><code>apktool d name.apk\n</code></pre>\n<p>I find what i wanted, changed it (i modified just a bunch of .json file and some .png, all in the /assets folder), but after re-building it with</p>\n<pre><code>apktool b name -o new.apk\n</code></pre>\n<p>I had some problems in installing the app on my device. Any suggestions?</p>\n<p>It could be the signature of the .apk, according to other similar questions. But none of those explain the method to sign the .apk file in a correct way.</p>\n"},{"tags":["java","android","kotlin","bluetooth","android-source"],"comments":[{"owner":{"account_id":1710326,"reputation":10640,"user_id":1568530,"accept_rate":60,"display_name":"Vladyslav Matviienko"},"score":0,"creation_date":1554122599,"post_id":55454784,"comment_id":97624115,"body_markdown":"You will probably have to implement it on the lower-level yourself, but still you should know that the user will have to go to Bluetooth Settings, and enable the phonebook access for your paired host device manually.","body":"You will probably have to implement it on the lower-level yourself, but still you should know that the user will have to go to Bluetooth Settings, and enable the phonebook access for your paired host device manually."}],"answers":[{"tags":[],"owner":{"account_id":12823643,"reputation":81,"user_id":9277578,"display_name":"Farhan Masood"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558701048,"creation_date":1558701048,"answer_id":56292753,"question_id":55454784,"body_markdown":"Actually to access contacts you don&#39;t really need to access BluetoothPbapClient.java, once the device is connected for PbapClientProfile you can simply read contacts via content resolver.","title":"How to get access to phone book of device which is connected using Bluetooth?","body":"<p>Actually to access contacts you don't really need to access BluetoothPbapClient.java, once the device is connected for PbapClientProfile you can simply read contacts via content resolver.</p>\n"}],"owner":{"account_id":3642017,"reputation":199,"user_id":3035895,"display_name":"Olegvarmy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1037,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697514488,"creation_date":1554120567,"question_id":55454784,"body_markdown":"I want to pull contacts from device which is connected using Bluetooth.\r\n \r\nHow can I do this?\r\n\r\nAs I understand, I have to use Phone Book Access Profile (PBAP). \r\nBut there is no public api for using it in Android sdk. \r\n\r\nI see only `BluetoothPbapClient.java` but it&#39;s marked as `@hide` and no methods to get contacts there.","title":"How to get access to phone book of device which is connected using Bluetooth?","body":"<p>I want to pull contacts from device which is connected using Bluetooth.</p>\n\n<p>How can I do this?</p>\n\n<p>As I understand, I have to use Phone Book Access Profile (PBAP). \nBut there is no public api for using it in Android sdk. </p>\n\n<p>I see only <code>BluetoothPbapClient.java</code> but it's marked as <code>@hide</code> and no methods to get contacts there.</p>\n"},{"tags":["java","r"],"comments":[{"owner":{"account_id":22540300,"reputation":2534,"user_id":16730940,"display_name":"PGSA"},"score":0,"creation_date":1697525765,"post_id":77305982,"comment_id":136287268,"body_markdown":"Looks like the path needs to be quoted - it&#39;s trying to run `C:\\Program` because of the space in `Program Files`.","body":"Looks like the path needs to be quoted - it&#39;s trying to run <code>C:\\Program</code> because of the space in <code>Program Files</code>."},{"owner":{"account_id":4090011,"reputation":147310,"user_id":3358272,"accept_rate":94,"display_name":"r2evans"},"score":1,"creation_date":1697543096,"post_id":77305982,"comment_id":136290525,"body_markdown":"(Side comment: I hadn&#39;t heard of rcaller before, so I looked at the github page. I find contradictory phrases such as *&quot;it is very simple to use and its learning curve is steep&quot;* to be a bit disconcerting.) (Sorry, not a java coder.)","body":"(Side comment: I hadn&#39;t heard of rcaller before, so I looked at the github page. I find contradictory phrases such as <i>&quot;it is very simple to use and its learning curve is steep&quot;</i> to be a bit disconcerting.) (Sorry, not a java coder.)"},{"owner":{"account_id":29688157,"reputation":1,"user_id":22753133,"display_name":"JMA"},"score":0,"creation_date":1697590250,"post_id":77305982,"comment_id":136297995,"body_markdown":"@PaulStaffordAllen do you know a way to fix the issue/How do you quote a path? Probably a really basic question but I&#39;m quite new to R.","body":"@PaulStaffordAllen do you know a way to fix the issue/How do you quote a path? Probably a really basic question but I&#39;m quite new to R."}],"owner":{"account_id":29688157,"reputation":1,"user_id":22753133,"display_name":"JMA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697512326,"creation_date":1697512326,"question_id":77305982,"body_markdown":"Tried *Listing 3: Simple Call* from  \r\nhttps://github.com/jbytecode/rcaller/blob/master/doc/rcaller3/rcaller3.pdf\r\n\r\nhowever, I got the error:\r\n\r\n```\r\nException in thread &quot;main&quot; com.github.rcaller.exception.ExecutionException: Can not run C:\\Program Files\\R\\R-4.1.1\\bin\\Rscript.exe. Reason: java.io.IOException: Cannot run program &quot;C:\\Program&quot;: CreateProcess error=2, The system cannot find the file specified\r\n\tat com.github.rcaller.rstuff.RCaller.runRCode(RCaller.java:263)\r\n\tat com.github.rcaller.rstuff.RCaller.runAndReturnResult(RCaller.java:574)\r\n\tat RCallerPract.main(RCallerPract.java:12)\r\n```\r\n\r\nI&#39;m assuming it has something to do with R not running, but I&#39;m not sure how to fix it.\r\n\r\n(Running this on IntelliJ, got RCaller through built in function in IntelliJ ( File -\\&gt; Project Structure -\\&gt; got Maven Package of RCaller) \r\n\r\nI looked into something called &quot;Ruinversal&quot;, but it said that my version of R isn&#39;t correct. If by chance this is the solution can someone tell me how to get it on a platform that would allow me to run in in IntelliJ?","title":"RCaller package issue","body":"<p>Tried <em>Listing 3: Simple Call</em> from<br />\n<a href=\"https://github.com/jbytecode/rcaller/blob/master/doc/rcaller3/rcaller3.pdf\" rel=\"nofollow noreferrer\">https://github.com/jbytecode/rcaller/blob/master/doc/rcaller3/rcaller3.pdf</a></p>\n<p>however, I got the error:</p>\n<pre><code>Exception in thread &quot;main&quot; com.github.rcaller.exception.ExecutionException: Can not run C:\\Program Files\\R\\R-4.1.1\\bin\\Rscript.exe. Reason: java.io.IOException: Cannot run program &quot;C:\\Program&quot;: CreateProcess error=2, The system cannot find the file specified\n    at com.github.rcaller.rstuff.RCaller.runRCode(RCaller.java:263)\n    at com.github.rcaller.rstuff.RCaller.runAndReturnResult(RCaller.java:574)\n    at RCallerPract.main(RCallerPract.java:12)\n</code></pre>\n<p>I'm assuming it has something to do with R not running, but I'm not sure how to fix it.</p>\n<p>(Running this on IntelliJ, got RCaller through built in function in IntelliJ ( File -&gt; Project Structure -&gt; got Maven Package of RCaller)</p>\n<p>I looked into something called &quot;Ruinversal&quot;, but it said that my version of R isn't correct. If by chance this is the solution can someone tell me how to get it on a platform that would allow me to run in in IntelliJ?</p>\n"},{"tags":["java","eclipse","spring","maven","maven-plugin"],"comments":[{"owner":{"account_id":923546,"reputation":4807,"user_id":954761,"accept_rate":58,"display_name":"Niels Bech Nielsen"},"score":1,"creation_date":1400679875,"post_id":23784617,"comment_id":36579968,"body_markdown":"Sounds like a mismatch between your maven installations, perhaps. Check your maven settings in eclipse. Does mvn install work on command line. If not, what does mvn -e install provide.","body":"Sounds like a mismatch between your maven installations, perhaps. Check your maven settings in eclipse. Does mvn install work on command line. If not, what does mvn -e install provide."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1400683683,"post_id":23784617,"comment_id":36582818,"body_markdown":"Apart from the above check why are you using an older version of maven-resources-plugin.","body":"Apart from the above check why are you using an older version of maven-resources-plugin."}],"answers":[{"tags":[],"owner":{"account_id":3875089,"reputation":1150,"user_id":3209348,"display_name":"DirkyJerky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400680256,"creation_date":1400680256,"answer_id":23785240,"question_id":23784617,"body_markdown":"`A required class was missing while executing org.apache.maven.plugins:maven-resources-plugin:2.5:resources: org/codehaus/plexus/util/Scanner`\r\n\r\nThe resources plugin is missing a dependency; But it should download it automatically,... are you in **offline** mode? If you are go online *once* and execute it, it should download the missing dependencies automatically.","title":"Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.5:resources","body":"<p><code>A required class was missing while executing org.apache.maven.plugins:maven-resources-plugin:2.5:resources: org/codehaus/plexus/util/Scanner</code></p>\n\n<p>The resources plugin is missing a dependency; But it should download it automatically,... are you in <strong>offline</strong> mode? If you are go online <em>once</em> and execute it, it should download the missing dependencies automatically.</p>\n"},{"tags":[],"owner":{"account_id":296837,"reputation":2170,"user_id":602030,"accept_rate":89,"display_name":"Salsero69"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417039401,"creation_date":1417039401,"answer_id":27159688,"question_id":23784617,"body_markdown":"My problem was with the repositories defined in the POM.XML file.  I removed them so that it would use the default repo and it solved my issue.","title":"Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.5:resources","body":"<p>My problem was with the repositories defined in the POM.XML file.  I removed them so that it would use the default repo and it solved my issue.</p>\n"},{"tags":[],"owner":{"account_id":460369,"reputation":1,"user_id":861409,"display_name":"user861409"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527011240,"creation_date":1527011240,"answer_id":50473681,"question_id":23784617,"body_markdown":"This happened to me once when something went wrong with the repository, and then even if I ran maven again, it still failed.\r\n\r\n**Solution**: \r\n\r\n 1. delete maven repo  *~/.m2/repository*\r\n 2. and then re-build\r\n\r\nIt works for me.","title":"Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.5:resources","body":"<p>This happened to me once when something went wrong with the repository, and then even if I ran maven again, it still failed.</p>\n\n<p><strong>Solution</strong>: </p>\n\n<ol>\n<li>delete maven repo  <em>~/.m2/repository</em></li>\n<li>and then re-build</li>\n</ol>\n\n<p>It works for me.</p>\n"}],"owner":{"account_id":3308756,"reputation":292,"user_id":2782735,"display_name":"NaveenG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8667,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1697511895,"creation_date":1400678818,"question_id":23784617,"body_markdown":"I am using Maven 3.0.5 and Spring Tool Source 3.2 with Maven plugin\r\ninstalled. When I try to do &#39;Run As---&gt; Maven install&#39;, I am getting\r\nthe following error :\r\n\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.5:resources (default-resources) on project mavencxf: Execution default-resources of goal org.apache.maven.plugins:maven-resources-plugin:2.5:resources failed: A required class was missing while executing org.apache.maven.plugins:maven-resources-plugin:2.5:resources: org/codehaus/plexus/util/Scanner\r\n    [ERROR] -----------------------------------------------------\r\n    [ERROR] realm =    plugin&gt;org.apache.maven.plugins:maven-resources-plugin:2.5\r\n    [ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\r\n    [ERROR] urls[0] = file:/C:/Users/Mindbowser-MB/.m2/repository/org/apache/maven/plugins/maven-resources-plugin/2.5/maven-resources-plugin-2.5.jar\r\n\t[ERROR] urls[1] = file:/C:/Users/Mindbowser-MB/.m2/repository/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.jar\r\n\t[ERROR] urls[2] = file:/C:/Users/Mindbowser-MB/.m2/repository/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.jar\r\n\t[ERROR] urls[3] = file:/C:/Users/Mindbowser-MB/.m2/repository/commons-cli/commons-cli/1.0/commons-cli-1.0.jar\r\n\t[ERROR] urls[4] = file:/C:/Users/Mindbowser-MB/.m2/repository/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-4/plexus-interactivity-api-1.0-alpha-4.jar\r\n\t[ERROR] urls[5] = file:/C:/Users/Mindbowser-MB/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar\r\n\t[ERROR] urls[6] = file:/C:/Users/Mindbowser-MB/.m2/repository/org/codehaus/plexus/plexus-utils/2.0.5/plexus-utils-2.0.5.jar\r\n\t[ERROR] urls[7] = file:/C:/Users/Mindbowser-MB/.m2/repository/org/apache/maven/shared/maven-filtering/1.0/maven-filtering-1.0.jar\r\n\t[ERROR] urls[8] = file:/C:/Users/Mindbowser-MB/.m2/repository/org/sonatype/plexus/plexus-build-api/0.0.4/plexus-build-api-0.0.4.jar\r\n\t[ERROR] urls[9] = file:/C:/Users/Mindbowser-MB/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.13/plexus-interpolation-1.13.jar\r\n\t[ERROR] Number of foreign imports: 1\r\n\t[ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\r\n\t[ERROR] \r\n\t[ERROR] -----------------------------------------------------: org.codehaus.plexus.util.Scanner\r\n\t[ERROR] -&gt; [Help 1]\r\n\t[ERROR] \r\n\t[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n\t[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n\t[ERROR] ","title":"Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.5:resources","body":"<p>I am using Maven 3.0.5 and Spring Tool Source 3.2 with Maven plugin\ninstalled. When I try to do 'Run As---> Maven install', I am getting\nthe following error :</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.5:resources (default-resources) on project mavencxf: Execution default-resources of goal org.apache.maven.plugins:maven-resources-plugin:2.5:resources failed: A required class was missing while executing org.apache.maven.plugins:maven-resources-plugin:2.5:resources: org/codehaus/plexus/util/Scanner\n[ERROR] -----------------------------------------------------\n[ERROR] realm =    plugin&gt;org.apache.maven.plugins:maven-resources-plugin:2.5\n[ERROR] strategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\n[ERROR] urls[0] = file:/C:/Users/Mindbowser-MB/.m2/repository/org/apache/maven/plugins/maven-resources-plugin/2.5/maven-resources-plugin-2.5.jar\n[ERROR] urls[1] = file:/C:/Users/Mindbowser-MB/.m2/repository/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.jar\n[ERROR] urls[2] = file:/C:/Users/Mindbowser-MB/.m2/repository/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.jar\n[ERROR] urls[3] = file:/C:/Users/Mindbowser-MB/.m2/repository/commons-cli/commons-cli/1.0/commons-cli-1.0.jar\n[ERROR] urls[4] = file:/C:/Users/Mindbowser-MB/.m2/repository/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-4/plexus-interactivity-api-1.0-alpha-4.jar\n[ERROR] urls[5] = file:/C:/Users/Mindbowser-MB/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar\n[ERROR] urls[6] = file:/C:/Users/Mindbowser-MB/.m2/repository/org/codehaus/plexus/plexus-utils/2.0.5/plexus-utils-2.0.5.jar\n[ERROR] urls[7] = file:/C:/Users/Mindbowser-MB/.m2/repository/org/apache/maven/shared/maven-filtering/1.0/maven-filtering-1.0.jar\n[ERROR] urls[8] = file:/C:/Users/Mindbowser-MB/.m2/repository/org/sonatype/plexus/plexus-build-api/0.0.4/plexus-build-api-0.0.4.jar\n[ERROR] urls[9] = file:/C:/Users/Mindbowser-MB/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.13/plexus-interpolation-1.13.jar\n[ERROR] Number of foreign imports: 1\n[ERROR] import: Entry[import  from realm ClassRealm[maven.api, parent: null]]\n[ERROR] \n[ERROR] -----------------------------------------------------: org.codehaus.plexus.util.Scanner\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n</code></pre>\n"},{"tags":["java","ant","sonarqube","jacoco"],"answers":[{"tags":[],"owner":{"account_id":5702461,"reputation":1191,"user_id":4507034,"accept_rate":100,"display_name":"Radu Linu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621855312,"creation_date":1621855312,"answer_id":67671213,"question_id":20915785,"body_markdown":"Here is a working solution, generating the report for both unit tests and integration tests. This solution is using the `append` strategy.\r\n\r\nPlease note that in order to work properly on the `apply` strategy, the phases should be executed sequentially (if the `mvn test` and `mvn verify -DskipUnitTests` will be executed in parallel there is possible to not work fine).\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${jacoco.version}&lt;/version&gt;\r\n\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;skip&gt;${skipTests}&lt;/skip&gt;\r\n\r\n\t\t\t&lt;!-- This line is very important, because allows to append the results to the `jacoco_aggregation.exec` report. --&gt;\r\n\t\t\t&lt;append&gt;true&lt;/append&gt;\r\n\r\n\t\t\t&lt;!-- DestFile is the file defined, where the `prepare-agent` will pe publishing the result of analysis,\r\n\t\t\t\t for the defined `phase`. In our case is executed initially and to the `pre-integration-test` phase. --&gt;\r\n\t\t\t&lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco_aggregation.exec&lt;/destFile&gt;\r\n\r\n\t\t\t&lt;!-- DataFile is the path from where the `report` goal will be reading the report\r\n\t\t\t\t in order to create the `outputDirectory` .xml file. --&gt;\r\n\t\t\t&lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco_aggregation.exec&lt;/dataFile&gt;\r\n\r\n\t\t\t&lt;!-- To the goal `report`, will be reading the report from `dataFile` path and will be publishing the result,\r\n\t\t\t\t to the `outputDirectory` path as an .xml file.\r\n\t\t\t\t In our case, the report is generated for two times:\r\n\t\t\t\t\t - first time after the `test` phase\r\n\t\t\t\t\t - second time after the `post-integration-test` phase --&gt;\r\n\t\t\t&lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco&lt;/outputDirectory&gt;\r\n\t\t&lt;/configuration&gt;\r\n\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;!-- Prepares the property pointing to the JaCoCo runtime agent which\r\n\t\t\t\t is passed as VM argument when Maven the Surefire plugin is executed. --&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;pre-unit-test&lt;/id&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;!-- Sets the name of the property containing the settings for JaCoCo runtime agent. --&gt;\r\n\t\t\t\t\t&lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t\t\r\n\t\t\t&lt;!-- Ensures that the code coverage report `jacoco.xml` is generated once the unit tests were executed.\r\n\t\t\t\t Executes the `report` goal after the `post-integration-test` phase. --&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;post-unit-test&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\r\n\t\t\t&lt;!-- Prepares the property pointing to the JaCoCo runtime agent which\r\n\t\t\t\t is passed as VM argument when Maven the Failsafe plugin is executed. --&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;pre-integration-test&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;!-- Sets the name of the property containing the settings for JaCoCo runtime agent. --&gt;\r\n\t\t\t\t\t&lt;propertyName&gt;failsafeArgLine&lt;/propertyName&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t\t\r\n\t\t\t&lt;!-- Ensures that the code coverage report `jacoco.xml` is generated once the integration tests were executed.\r\n\t\t\t\t Executes the `report` goal after the `post-integration-test` phase. --&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;post-integration-test&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;!-- Sets the VM argument line used when unit tests are run. --&gt;\r\n\t\t\t&lt;argLine&gt;${surefireArgLine}&lt;/argLine&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;!-- Sets the VM argument line used when integration tests are run. --&gt;\r\n\t\t\t&lt;argLine&gt;${failsafeArgLine}&lt;/argLine&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nOnce the reports are generated, you can execute the sonar commant to apply the reports.\r\n\r\n    mvn sonar:sonar -Dsonar.coverage.jacoco.xmlReportPaths=&quot;target/site/jacoco/jacoco.xml&quot;","title":"Integrating JaCoCo with SONAR for unit and integration test coverage","body":"<p>Here is a working solution, generating the report for both unit tests and integration tests. This solution is using the <code>append</code> strategy.</p>\n<p>Please note that in order to work properly on the <code>apply</code> strategy, the phases should be executed sequentially (if the <code>mvn test</code> and <code>mvn verify -DskipUnitTests</code> will be executed in parallel there is possible to not work fine).</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${jacoco.version}&lt;/version&gt;\n\n    &lt;configuration&gt;\n        &lt;skip&gt;${skipTests}&lt;/skip&gt;\n\n        &lt;!-- This line is very important, because allows to append the results to the `jacoco_aggregation.exec` report. --&gt;\n        &lt;append&gt;true&lt;/append&gt;\n\n        &lt;!-- DestFile is the file defined, where the `prepare-agent` will pe publishing the result of analysis,\n             for the defined `phase`. In our case is executed initially and to the `pre-integration-test` phase. --&gt;\n        &lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco_aggregation.exec&lt;/destFile&gt;\n\n        &lt;!-- DataFile is the path from where the `report` goal will be reading the report\n             in order to create the `outputDirectory` .xml file. --&gt;\n        &lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco_aggregation.exec&lt;/dataFile&gt;\n\n        &lt;!-- To the goal `report`, will be reading the report from `dataFile` path and will be publishing the result,\n             to the `outputDirectory` path as an .xml file.\n             In our case, the report is generated for two times:\n                 - first time after the `test` phase\n                 - second time after the `post-integration-test` phase --&gt;\n        &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco&lt;/outputDirectory&gt;\n    &lt;/configuration&gt;\n\n    &lt;executions&gt;\n        &lt;!-- Prepares the property pointing to the JaCoCo runtime agent which\n             is passed as VM argument when Maven the Surefire plugin is executed. --&gt;\n        &lt;execution&gt;\n            &lt;id&gt;pre-unit-test&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;!-- Sets the name of the property containing the settings for JaCoCo runtime agent. --&gt;\n                &lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n        \n        &lt;!-- Ensures that the code coverage report `jacoco.xml` is generated once the unit tests were executed.\n             Executes the `report` goal after the `post-integration-test` phase. --&gt;\n        &lt;execution&gt;\n            &lt;id&gt;post-unit-test&lt;/id&gt;\n            &lt;phase&gt;test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n\n        &lt;!-- Prepares the property pointing to the JaCoCo runtime agent which\n             is passed as VM argument when Maven the Failsafe plugin is executed. --&gt;\n        &lt;execution&gt;\n            &lt;id&gt;pre-integration-test&lt;/id&gt;\n            &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;!-- Sets the name of the property containing the settings for JaCoCo runtime agent. --&gt;\n                &lt;propertyName&gt;failsafeArgLine&lt;/propertyName&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n        \n        &lt;!-- Ensures that the code coverage report `jacoco.xml` is generated once the integration tests were executed.\n             Executes the `report` goal after the `post-integration-test` phase. --&gt;\n        &lt;execution&gt;\n            &lt;id&gt;post-integration-test&lt;/id&gt;\n            &lt;phase&gt;post-integration-test&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;!-- Sets the VM argument line used when unit tests are run. --&gt;\n        &lt;argLine&gt;${surefireArgLine}&lt;/argLine&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;!-- Sets the VM argument line used when integration tests are run. --&gt;\n        &lt;argLine&gt;${failsafeArgLine}&lt;/argLine&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Once the reports are generated, you can execute the sonar commant to apply the reports.</p>\n<pre><code>mvn sonar:sonar -Dsonar.coverage.jacoco.xmlReportPaths=&quot;target/site/jacoco/jacoco.xml&quot;\n</code></pre>\n"}],"owner":{"account_id":1636674,"reputation":297,"user_id":1509980,"accept_rate":40,"display_name":"u07103"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20027,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1697511895,"creation_date":1388799851,"question_id":20915785,"body_markdown":"Has any one tried configuring JaCoCo to dump the coverage of unit and integration tests in 2 different files, for SONAR to use them, using ANT build?","title":"Integrating JaCoCo with SONAR for unit and integration test coverage","body":"<p>Has any one tried configuring JaCoCo to dump the coverage of unit and integration tests in 2 different files, for SONAR to use them, using ANT build?</p>\n"},{"tags":["java","java-8","javac","primitive-types"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":4,"creation_date":1697426450,"post_id":77299218,"comment_id":136273913,"body_markdown":"What is &quot;the disparity between it satisfying as primitive data type and a digital value&quot;?","body":"What is &quot;the disparity between it satisfying as primitive data type and a digital value&quot;?"},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1697426504,"post_id":77299218,"comment_id":136273917,"body_markdown":"null is not data type, it is special literal that can be used as a **value** for any **reference type**","body":"null is not data type, it is special literal that can be used as a <b>value</b> for any <b>reference type</b>"},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1697426930,"post_id":77299218,"comment_id":136273946,"body_markdown":"btw, `String` is not primitive data type, it is reference as any object","body":"btw, <code>String</code> is not primitive data type, it is reference as any object"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1697427877,"post_id":77299218,"comment_id":136274016,"body_markdown":"The _null_ value cannot be used with _primitive data-types_, only _Objects_.","body":"The <i>null</i> value cannot be used with <i>primitive data-types</i>, only <i>Objects</i>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697445920,"post_id":77299218,"comment_id":136276243,"body_markdown":"There is no syntax error in your code example. You’ll get an error about an unresolved identifier unless you create a class named `NULL`. If you create a class named `NULL`, the code will pass. In other words, it’s syntactically valid but it depends on the environment whether it can be compiled. That’s not different to the example’s last line which depends on the presence on the class `String`. Syntactically, there is no difference between your made-up identifier `NULL` and the commonly known identifier `String`.","body":"There is no syntax error in your code example. You’ll get an error about an unresolved identifier unless you create a class named <code>NULL</code>. If you create a class named <code>NULL</code>, the code will pass. In other words, it’s syntactically valid but it depends on the environment whether it can be compiled. That’s not different to the example’s last line which depends on the presence on the class <code>String</code>. Syntactically, there is no difference between your made-up identifier <code>NULL</code> and the commonly known identifier <code>String</code>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697446761,"post_id":77299218,"comment_id":136276370,"body_markdown":"And, by the way, your counting is off. Letting aside that null is not a primitive type, there are already eight primitive types, `boolean`, `byte`, `short`, `char`, `int`, `long`, `float`, and `double`.","body":"And, by the way, your counting is off. Letting aside that null is not a primitive type, there are already eight primitive types, <code>boolean</code>, <code>byte</code>, <code>short</code>, <code>char</code>, <code>int</code>, <code>long</code>, <code>float</code>, and <code>double</code>."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697445997,"post_id":77299322,"comment_id":136276256,"body_markdown":"Your assumption is correct. There is no `java.lang.Class` representation for the null type and since you can’t invoke `getClass()` on a `null` reference, you won’t miss it.","body":"Your assumption is correct. There is no <code>java.lang.Class</code> representation for the null type and since you can’t invoke <code>getClass()</code> on a <code>null</code> reference, you won’t miss it."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1697510362,"creation_date":1697428454,"answer_id":77299322,"question_id":77299218,"body_markdown":"According to JLS 4.1, there actually is a type for `null`.\r\n\r\n&gt; *&quot;There is also a special null type, the type of the expression null (&#167;3.10.8, &#167;15.8.1), which has no name.&quot;* - [JLS 4.1](https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.1)\r\n\r\nSo.\r\n\r\n1.  `null` is a literal reserved by the Java language.\r\n2.  `null` denotes a value not a type.\r\n3.  The type of `null` cannot be named.  Hence your failed attempts to do that.\r\n    \r\n    (I don&#39;t even think there is a reflective `java.lang.Class` representation for the null type ...)\r\n4.  The JLS says that the type of `null` is *neither* a primitive type *or* a reference type. \r\n5.  Various contexts allow `null` to be converted to the null value of any reference type; e.g.\r\n\r\n&gt; *&quot;Finally, a value of the null type (the null reference is the only such value) may be assigned to any reference type, resulting in a null reference of that type.&quot;* - [JLS 5.2](https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.2)\r\n\r\n&lt;sup&gt;I imagine that there is some technical reason that they have chosen to specify the null type this way.  Maybe this makes other parts of the spec simpler.  I don&#39;t know.  And unless you are a black-belt type theoretician, the *why* question is most likely irrelevant.&lt;/sup&gt;\r\n\r\n------------------------\r\n\r\n&gt; ... the disparity between it satisfying as primitive data type and a digital value?\r\n\r\nI cannot make sense of that part of your question.\r\n\r\n------------------------\r\n\r\nAs mentioned in the comments, `NULL` is just an ordinary identifier.  The Java class libraries don&#39;t declare a class with that name, and as such you will most likely get an unresolved symbol error.  You could declare one for yourself, but that `NULL` class will not (and cannot) denote the null type as far as the Java compiler or runtime is concerned.","title":"NULL as an eighth &#39;primitive&#39; data type","body":"<p>According to JLS 4.1, there actually is a type for <code>null</code>.</p>\n<blockquote>\n<p><em>&quot;There is also a special null type, the type of the expression null (§3.10.8, §15.8.1), which has no name.&quot;</em> - <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.1\" rel=\"nofollow noreferrer\">JLS 4.1</a></p>\n</blockquote>\n<p>So.</p>\n<ol>\n<li><p><code>null</code> is a literal reserved by the Java language.</p>\n</li>\n<li><p><code>null</code> denotes a value not a type.</p>\n</li>\n<li><p>The type of <code>null</code> cannot be named.  Hence your failed attempts to do that.</p>\n<p>(I don't even think there is a reflective <code>java.lang.Class</code> representation for the null type ...)</p>\n</li>\n<li><p>The JLS says that the type of <code>null</code> is <em>neither</em> a primitive type <em>or</em> a reference type.</p>\n</li>\n<li><p>Various contexts allow <code>null</code> to be converted to the null value of any reference type; e.g.</p>\n</li>\n</ol>\n<blockquote>\n<p><em>&quot;Finally, a value of the null type (the null reference is the only such value) may be assigned to any reference type, resulting in a null reference of that type.&quot;</em> - <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.2\" rel=\"nofollow noreferrer\">JLS 5.2</a></p>\n</blockquote>\n<p><sup>I imagine that there is some technical reason that they have chosen to specify the null type this way.  Maybe this makes other parts of the spec simpler.  I don't know.  And unless you are a black-belt type theoretician, the <em>why</em> question is most likely irrelevant.</sup></p>\n<hr />\n<blockquote>\n<p>... the disparity between it satisfying as primitive data type and a digital value?</p>\n</blockquote>\n<p>I cannot make sense of that part of your question.</p>\n<hr />\n<p>As mentioned in the comments, <code>NULL</code> is just an ordinary identifier.  The Java class libraries don't declare a class with that name, and as such you will most likely get an unresolved symbol error.  You could declare one for yourself, but that <code>NULL</code> class will not (and cannot) denote the null type as far as the Java compiler or runtime is concerned.</p>\n"}],"owner":{"account_id":27362113,"reputation":9,"user_id":20869560,"display_name":"Jim W. Moch"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1697432330,"accepted_answer_id":77299322,"answer_count":1,"score":-3,"last_activity_date":1697510362,"creation_date":1697426294,"question_id":77299218,"body_markdown":"A mindless query arising from Java&#39;s less known data type &#39;null&#39;. \r\n\r\nWould somebody be able to clarify whether or not &#39;null&#39; is a literal reserved by the Java language and thus the disparity between it satisfying as primitive data type and a digital value?\r\n\r\n```\r\nNULL default_object_value; // a Syntax error\r\nNULL acct_balance_at_westbank = null; // Another Syntax error\r\n\r\nString aStrokeOfLuck = null; // a feasible variable declaration &amp; assignment\r\n```","title":"NULL as an eighth &#39;primitive&#39; data type","body":"<p>A mindless query arising from Java's less known data type 'null'.</p>\n<p>Would somebody be able to clarify whether or not 'null' is a literal reserved by the Java language and thus the disparity between it satisfying as primitive data type and a digital value?</p>\n<pre><code>NULL default_object_value; // a Syntax error\nNULL acct_balance_at_westbank = null; // Another Syntax error\n\nString aStrokeOfLuck = null; // a feasible variable declaration &amp; assignment\n</code></pre>\n"},{"tags":["java","hibernate","jpa","persistence","hibernate-annotations"],"answers":[{"comments":[{"owner":{"account_id":412097,"reputation":11870,"user_id":784980,"accept_rate":64,"display_name":"rapt"},"score":2,"creation_date":1316141699,"post_id":7439544,"comment_id":8996062,"body_markdown":"Thanks! So if I want my JPA persistence not to be tied to the Hibernate implementation (i.e. change to EJB3) then I have to use both annotations (to prohibit null in both the field and its column)?","body":"Thanks! So if I want my JPA persistence not to be tied to the Hibernate implementation (i.e. change to EJB3) then I have to use both annotations (to prohibit null in both the field and its column)?"},{"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"score":3,"creation_date":1316141997,"post_id":7439544,"comment_id":8996100,"body_markdown":"I don&#39;t know. There&#39;s no specification that says a JPA provider must recognize JSR 303 annotations, but that doesn&#39;t mean that other providers don&#39;t. I can&#39;t say whether any does or doesn&#39;t.","body":"I don&#39;t know. There&#39;s no specification that says a JPA provider must recognize JSR 303 annotations, but that doesn&#39;t mean that other providers don&#39;t. I can&#39;t say whether any does or doesn&#39;t."},{"owner":{"account_id":200821,"reputation":4765,"user_id":446885,"accept_rate":93,"display_name":"Shahzeb"},"score":7,"creation_date":1316143193,"post_id":7439544,"comment_id":8996250,"body_markdown":"JPA providers are not required to provide JSR303 implementation but are as per specification required to provide the ability to integrate with any third party JSR303 implementation. So while Hibernate does provide JSR303 you could for whatever reason decide not to use theirs and go with somebody else or use a JPA implementation like openJPA and use somebody else to provide JSR303.Also note Hibernate&#39;s JPA implementaion is Also EJB3.It is incorrect to say &#39;if I want my JPA persistence not to be tied to the Hibernate implementation (i.e. change to EJB3)&#39; JPA is part of EJB3 specification.","body":"JPA providers are not required to provide JSR303 implementation but are as per specification required to provide the ability to integrate with any third party JSR303 implementation. So while Hibernate does provide JSR303 you could for whatever reason decide not to use theirs and go with somebody else or use a JPA implementation like openJPA and use somebody else to provide JSR303.Also note Hibernate&#39;s JPA implementaion is Also EJB3.It is incorrect to say &#39;if I want my JPA persistence not to be tied to the Hibernate implementation (i.e. change to EJB3)&#39; JPA is part of EJB3 specification."},{"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"score":5,"creation_date":1316143848,"post_id":7439544,"comment_id":8996304,"body_markdown":"@Shahzeb: The question isn&#39;t about who supports/provides JSR 303 validation. It&#39;s about which ORM(s) recognize JSR 303 annotations like `@NotNull`, `@Size`, `@Min`, `@Max`, etc., and translate those into database constraints.","body":"@Shahzeb: The question isn&#39;t about who supports/provides JSR 303 validation. It&#39;s about which ORM(s) recognize JSR 303 annotations like <code>@NotNull</code>, <code>@Size</code>, <code>@Min</code>, <code>@Max</code>, etc., and translate those into database constraints."},{"owner":{"account_id":200821,"reputation":4765,"user_id":446885,"accept_rate":93,"display_name":"Shahzeb"},"score":1,"creation_date":1316144120,"post_id":7439544,"comment_id":8996334,"body_markdown":"Yes but my comment is valid in the context of what OP asked in the subsequent comment which you did not know.","body":"Yes but my comment is valid in the context of what OP asked in the subsequent comment which you did not know."},{"owner":{"account_id":412097,"reputation":11870,"user_id":784980,"accept_rate":64,"display_name":"rapt"},"score":0,"creation_date":1316144593,"post_id":7439544,"comment_id":8996391,"body_markdown":"@Shahzeb Thanks. I meant EJB3 RI. It contains an implementation of JPA. I did no get what you meant by &quot;Also note Hibernate&#39;s JPA implementation is Also EJB3&quot;? It&#39;s only a subset of EJB3 so it&#39;s not EJB3.","body":"@Shahzeb Thanks. I meant EJB3 RI. It contains an implementation of JPA. I did no get what you meant by &quot;Also note Hibernate&#39;s JPA implementation is Also EJB3&quot;? It&#39;s only a subset of EJB3 so it&#39;s not EJB3."},{"owner":{"account_id":200821,"reputation":4765,"user_id":446885,"accept_rate":93,"display_name":"Shahzeb"},"score":0,"creation_date":1316144933,"post_id":7439544,"comment_id":8996420,"body_markdown":"@rapt Yes that correct . It is part of EJB3 .EJB3 is not one single thing.","body":"@rapt Yes that correct . It is part of EJB3 .EJB3 is not one single thing."},{"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"score":0,"creation_date":1316148371,"post_id":7439544,"comment_id":8996871,"body_markdown":"@Shahzeb: I don&#39;t understand how your comment answers the follow-up question. As far as I can tell, you&#39;re not indicating whether anything besides Hibernate supports the features under discussion here. For instance, you mentioned OpenJPA: does OpenJPA read JSR 303 annotations and create database constraints from them?","body":"@Shahzeb: I don&#39;t understand how your comment answers the follow-up question. As far as I can tell, you&#39;re not indicating whether anything besides Hibernate supports the features under discussion here. For instance, you mentioned OpenJPA: does OpenJPA read JSR 303 annotations and create database constraints from them?"},{"owner":{"account_id":200821,"reputation":4765,"user_id":446885,"accept_rate":93,"display_name":"Shahzeb"},"score":0,"creation_date":1316149159,"post_id":7439544,"comment_id":8996971,"body_markdown":"Really not interested in this push and shove but read your first comment[not the answer first comment] then read my comment and if you still can not work it out print it and take it to some third person. May be someone from community can break this tie and if majority say what I said did not make sense in the context I will delete it.It&#39;s okay Ryan you do not need to know every thing it is your answer do not be insecure.","body":"Really not interested in this push and shove but read your first comment[not the answer first comment] then read my comment and if you still can not work it out print it and take it to some third person. May be someone from community can break this tie and if majority say what I said did not make sense in the context I will delete it.It&#39;s okay Ryan you do not need to know every thing it is your answer do not be insecure."},{"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"score":0,"creation_date":1316174528,"post_id":7439544,"comment_id":9002294,"body_markdown":"@rapt: Do you understand what he&#39;s talking about? I&#39;m still curious whether other JPA implementations support this. If you open a new question about it or something, let me know. I&#39;d like to see the answers.","body":"@rapt: Do you understand what he&#39;s talking about? I&#39;m still curious whether other JPA implementations support this. If you open a new question about it or something, let me know. I&#39;d like to see the answers."},{"owner":{"account_id":412097,"reputation":11870,"user_id":784980,"accept_rate":64,"display_name":"rapt"},"score":0,"creation_date":1316178261,"post_id":7439544,"comment_id":9003265,"body_markdown":"@Ryan Stewart: I think you and Shahzeb both agree that JPA implementations don&#39;t necessarily have to implement JSR303. Also I wanted to note, what Hibernate does with `@NotNull` is not only supporting JSR303 but voluntarily expanding it to validating the DB representation (OK, it&#39;s an ORM framework, but not every object validation framework should even be aware of DB&#39;s). So in a future scenario where I use a different JSR303 implementation (which should be possible according to Shahzeb), I will need both annotations, to keep the current functionality (i.e. validating both object &amp; DB column).","body":"@Ryan Stewart: I think you and Shahzeb both agree that JPA implementations don&#39;t necessarily have to implement JSR303. Also I wanted to note, what Hibernate does with <code>@NotNull</code> is not only supporting JSR303 but voluntarily expanding it to validating the DB representation (OK, it&#39;s an ORM framework, but not every object validation framework should even be aware of DB&#39;s). So in a future scenario where I use a different JSR303 implementation (which should be possible according to Shahzeb), I will need both annotations, to keep the current functionality (i.e. validating both object &amp; DB column)."},{"owner":{"account_id":412097,"reputation":11870,"user_id":784980,"accept_rate":64,"display_name":"rapt"},"score":0,"creation_date":1316178493,"post_id":7439544,"comment_id":9003323,"body_markdown":"@Ryan Stewart: It&#39;s also what I read in the comments to the following answer: http://stackoverflow.com/questions/2725111/hibernate-onetoone-notnull/2726224#2726224","body":"@Ryan Stewart: It&#39;s also what I read in the comments to the following answer: <a href=\"http://stackoverflow.com/questions/2725111/hibernate-onetoone-notnull/2726224#2726224\" title=\"hibernate onetoone notnull\">stackoverflow.com/questions/2725111/hibernate-onetoone-notnu&zwnj;&#8203;ll/&hellip;</a>"},{"owner":{"account_id":970576,"reputation":447,"user_id":993213,"accept_rate":78,"display_name":"Diaz Pradiananto"},"score":0,"creation_date":1341476324,"post_id":7439544,"comment_id":14932332,"body_markdown":"what happen if the column was assigned null value? is it will getting error?","body":"what happen if the column was assigned null value? is it will getting error?"},{"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"score":0,"creation_date":1341501051,"post_id":7439544,"comment_id":14942984,"body_markdown":"@DiazPradiananto: Don&#39;t ask a new question in a comment, especially such an old one. Start a new SO question for it.","body":"@DiazPradiananto: Don&#39;t ask a new question in a comment, especially such an old one. Start a new SO question for it."}],"tags":[],"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"comment_count":14,"down_vote_count":1,"up_vote_count":351,"is_accepted":true,"score":350,"last_activity_date":1433313023,"creation_date":1316140137,"answer_id":7439544,"question_id":7439504,"body_markdown":"[`@NotNull`][1] is a [JSR 303 Bean Validation][2] annotation. It has nothing to do with database constraints itself. As Hibernate is the reference implementation of JSR 303, however, it intelligently picks up on these constraints and translates them into database constraints for you, so you get two for the price of one. [`@Column(nullable = false)`][3] is the JPA way of declaring a column to be not-null. I.e. the former is intended for validation and the latter for indicating database schema details. You&#39;re just getting some extra (and welcome!) help from Hibernate on the validation annotations.\r\n\r\n\r\n  [1]: http://docs.jboss.org/ejb3/app-server/HibernateAnnotations/api/org/hibernate/validator/NotNull.html\r\n  [2]: http://download.oracle.com/otndocs/jcp/bean_validation-1.0-fr-oth-JSpec/\r\n  [3]: http://java.sun.com/javaee/6/docs/api/javax/persistence/Column.html#nullable%28%29","title":"Confusion: @NotNull vs. @Column(nullable = false) with JPA and Hibernate","body":"<p><a href=\"http://docs.jboss.org/ejb3/app-server/HibernateAnnotations/api/org/hibernate/validator/NotNull.html\"><code>@NotNull</code></a> is a <a href=\"http://download.oracle.com/otndocs/jcp/bean_validation-1.0-fr-oth-JSpec/\">JSR 303 Bean Validation</a> annotation. It has nothing to do with database constraints itself. As Hibernate is the reference implementation of JSR 303, however, it intelligently picks up on these constraints and translates them into database constraints for you, so you get two for the price of one. <a href=\"http://java.sun.com/javaee/6/docs/api/javax/persistence/Column.html#nullable%28%29\"><code>@Column(nullable = false)</code></a> is the JPA way of declaring a column to be not-null. I.e. the former is intended for validation and the latter for indicating database schema details. You're just getting some extra (and welcome!) help from Hibernate on the validation annotations.</p>\n"},{"tags":[],"owner":{"account_id":10340156,"reputation":201,"user_id":7626814,"display_name":"Sebastian Theek"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1497153506,"creation_date":1488146945,"answer_id":42474830,"question_id":7439504,"body_markdown":"The most recent versions of hibernate JPA provider applies the bean validation constraints (JSR 303) like `@NotNull` to DDL by default (thanks to `hibernate.validator.apply_to_ddl property` defaults to `true`). But there is no guarantee that other JPA providers do or even have the ability to do that.\r\n\r\nYou should use bean validation annotations like `@NotNull` to ensure, that bean properties are set to a none-null value, when validating java beans in the JVM (this has nothing to do with database constraints, but in most situations should correspond to them).\r\n\r\nYou should additionally use the JPA annotation like `@Column(nullable = false)` to give the jpa provider hints to generate the right DDL for creating table  columns with the database constraints you want. If you can or want to rely on a JPA provider like Hibernate, which applies the bean validation constraints to DDL by default, then you can omit them.","title":"Confusion: @NotNull vs. @Column(nullable = false) with JPA and Hibernate","body":"<p>The most recent versions of hibernate JPA provider applies the bean validation constraints (JSR 303) like <code>@NotNull</code> to DDL by default (thanks to <code>hibernate.validator.apply_to_ddl property</code> defaults to <code>true</code>). But there is no guarantee that other JPA providers do or even have the ability to do that.</p>\n\n<p>You should use bean validation annotations like <code>@NotNull</code> to ensure, that bean properties are set to a none-null value, when validating java beans in the JVM (this has nothing to do with database constraints, but in most situations should correspond to them).</p>\n\n<p>You should additionally use the JPA annotation like <code>@Column(nullable = false)</code> to give the jpa provider hints to generate the right DDL for creating table  columns with the database constraints you want. If you can or want to rely on a JPA provider like Hibernate, which applies the bean validation constraints to DDL by default, then you can omit them.</p>\n"},{"tags":[],"owner":{"account_id":7000766,"reputation":330,"user_id":5366876,"display_name":"Aleksandar Radulović"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1519213333,"creation_date":1519213333,"answer_id":48905028,"question_id":7439504,"body_markdown":"Interesting to note, all sources emphasize that @Column(nullable=false) is used only for DDL generation. \r\n\r\nHowever, even if there is no @NotNull annotation, and hibernate.check_nullability option is set to true, Hibernate will perform validation of entities to be persisted. \r\n\r\nIt will throw PropertyValueException saying that &quot;not-null property references a null or transient value&quot;, if nullable=false attributes do not have values, even if such restrictions are not implemented in the database layer. \r\n\r\nMore information about hibernate.check_nullability option is available here: http://docs.jboss.org/hibernate/orm/5.0/userguide/html_single/Hibernate_User_Guide.html#configurations-mapping. ","title":"Confusion: @NotNull vs. @Column(nullable = false) with JPA and Hibernate","body":"<p>Interesting to note, all sources emphasize that @Column(nullable=false) is used only for DDL generation. </p>\n\n<p>However, even if there is no @NotNull annotation, and hibernate.check_nullability option is set to true, Hibernate will perform validation of entities to be persisted. </p>\n\n<p>It will throw PropertyValueException saying that \"not-null property references a null or transient value\", if nullable=false attributes do not have values, even if such restrictions are not implemented in the database layer. </p>\n\n<p>More information about hibernate.check_nullability option is available here: <a href=\"http://docs.jboss.org/hibernate/orm/5.0/userguide/html_single/Hibernate_User_Guide.html#configurations-mapping\" rel=\"noreferrer\">http://docs.jboss.org/hibernate/orm/5.0/userguide/html_single/Hibernate_User_Guide.html#configurations-mapping</a>. </p>\n"},{"comments":[{"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"score":0,"creation_date":1583008619,"post_id":60468969,"comment_id":106974790,"body_markdown":"Why do you state that flyway is better than generating schema?","body":"Why do you state that flyway is better than generating schema?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":1,"creation_date":1583010723,"post_id":60468969,"comment_id":106975288,"body_markdown":"That&#39;s a good observation. I updated the answer with a reference link.","body":"That&#39;s a good observation. I updated the answer with a reference link."},{"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"score":0,"creation_date":1583013315,"post_id":60468969,"comment_id":106975813,"body_markdown":"Thanks for the reference and great answer!","body":"Thanks for the reference and great answer!"},{"owner":{"account_id":4916508,"reputation":696,"user_id":3960315,"accept_rate":100,"display_name":"Arash"},"score":0,"creation_date":1622129176,"post_id":60468969,"comment_id":119708082,"body_markdown":"Thanks for the great answer. Should i have both if i don&#39;t want to use schema generation tool or `@NotNull` is enough? and is `@Basic(optional=false)` the same as `@Column(nullable = false)`?","body":"Thanks for the great answer. Should i have both if i don&#39;t want to use schema generation tool or <code>@NotNull</code> is enough? and is <code>@Basic(optional=false)</code> the same as <code>@Column(nullable = false)</code>?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1622140920,"post_id":60468969,"comment_id":119713224,"body_markdown":"I never used `@NotNull` on any project I worked on. I don&#39;t think I&#39;ve used `@Basic(optional=false)`. I&#39;m not sure if Hibernate uses that one. I used `@Column(nullable = false)` only when the schema was generated. All in all, define your DB schema using FlywayDB, and validate on every layer: web, controller, service layer.","body":"I never used <code>@NotNull</code> on any project I worked on. I don&#39;t think I&#39;ve used <code>@Basic(optional=false)</code>. I&#39;m not sure if Hibernate uses that one. I used <code>@Column(nullable = false)</code> only when the schema was generated. All in all, define your DB schema using FlywayDB, and validate on every layer: web, controller, service layer."}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":5,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1610205737,"creation_date":1583005371,"answer_id":60468969,"question_id":7439504,"body_markdown":"The JPA `@Column` Annotation\r\n----------------------------\r\n\r\nThe `nullable` attribute of the `@Column` annotation has two purposes:\r\n\r\n- it&#39;s used by the schema generation tool\r\n- it&#39;s used by Hibernate during flushing the Persistence Context\r\n\r\n## Schema Generation Tool\r\n\r\nThe HBM2DDL schema generation tool translates the `@Column(nullable = false)` entity attribute to a `NOT NULL` constraint for the associated table column when generating the `CREATE TABLE` statement.\r\n\r\n&gt; As I explained in the [Hibernate User Guide](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#schema-generation),  it&#39;s better to use a tool like [Flyway][1] instead of relying on the HBM2DDL mechanism for generating the database schema.\r\n\r\n## Persistence Context Flush\r\n\r\nWhen flushing the Persistence Context, Hibernate ORM also uses the `@Column(nullable = false)` entity attribute:\r\n\r\n    new Nullability( session ).checkNullability( values, persister, true );\r\n\r\nIf the validation fails, Hibernate will throw a `PropertyValueException`, and prevents the INSERT or UPDATE statement to be executed needesly:\r\n\r\n    if ( !nullability[i] &amp;&amp; value == null ) {\r\n        //check basic level one nullablilty\r\n        throw new PropertyValueException(\r\n                &quot;not-null property references a null or transient value&quot;,\r\n                persister.getEntityName(),\r\n                persister.getPropertyNames()[i]\r\n            );    \r\n    }\r\n\r\nThe Bean Validation `@NotNull` Annotation\r\n----------------------------------------\r\n\r\nThe `@NotNull` annotation is defined by Bean Validation and, just like Hibernate ORM is the most popular JPA implementation, the most popular Bean Validation implementation is the [Hibernate Validator][2] framework.\r\n\r\nWhen using Hibernate Validator along with Hibernate ORM, Hibernate Validator will throw a `ConstraintViolation` when validating the entity.\r\n\r\n  [1]: https://flywaydb.org/\r\n  [2]: https://hibernate.org/validator/","title":"Confusion: @NotNull vs. @Column(nullable = false) with JPA and Hibernate","body":"<h2>The JPA <code>@Column</code> Annotation</h2>\n<p>The <code>nullable</code> attribute of the <code>@Column</code> annotation has two purposes:</p>\n<ul>\n<li>it's used by the schema generation tool</li>\n<li>it's used by Hibernate during flushing the Persistence Context</li>\n</ul>\n<h2>Schema Generation Tool</h2>\n<p>The HBM2DDL schema generation tool translates the <code>@Column(nullable = false)</code> entity attribute to a <code>NOT NULL</code> constraint for the associated table column when generating the <code>CREATE TABLE</code> statement.</p>\n<blockquote>\n<p>As I explained in the <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#schema-generation\" rel=\"noreferrer\">Hibernate User Guide</a>,  it's better to use a tool like <a href=\"https://flywaydb.org/\" rel=\"noreferrer\">Flyway</a> instead of relying on the HBM2DDL mechanism for generating the database schema.</p>\n</blockquote>\n<h2>Persistence Context Flush</h2>\n<p>When flushing the Persistence Context, Hibernate ORM also uses the <code>@Column(nullable = false)</code> entity attribute:</p>\n<pre><code>new Nullability( session ).checkNullability( values, persister, true );\n</code></pre>\n<p>If the validation fails, Hibernate will throw a <code>PropertyValueException</code>, and prevents the INSERT or UPDATE statement to be executed needesly:</p>\n<pre><code>if ( !nullability[i] &amp;&amp; value == null ) {\n    //check basic level one nullablilty\n    throw new PropertyValueException(\n            &quot;not-null property references a null or transient value&quot;,\n            persister.getEntityName(),\n            persister.getPropertyNames()[i]\n        );    \n}\n</code></pre>\n<h2>The Bean Validation <code>@NotNull</code> Annotation</h2>\n<p>The <code>@NotNull</code> annotation is defined by Bean Validation and, just like Hibernate ORM is the most popular JPA implementation, the most popular Bean Validation implementation is the <a href=\"https://hibernate.org/validator/\" rel=\"noreferrer\">Hibernate Validator</a> framework.</p>\n<p>When using Hibernate Validator along with Hibernate ORM, Hibernate Validator will throw a <code>ConstraintViolation</code> when validating the entity.</p>\n"},{"tags":[],"owner":{"account_id":4986610,"reputation":1806,"user_id":4010017,"accept_rate":88,"display_name":"kaushalpranav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697510291,"creation_date":1697510291,"answer_id":77305898,"question_id":7439504,"body_markdown":"| @NotNull | @Column(nullable=false) |\r\n| - | - |\r\n| Generally used just for checking java object&#39;s field&#39;s non nullability | Generally used just for DDL generation (⇒ you can create a null field in java object&#39;s field but cannot persist it to db column)  |\r\n| Part of Bean Validation Specification like `hibernate-validator` | Part of JPA specification |\r\n| Hibernate is clever enough to understand that if `@NotNull` is used to block null fields on java object&#39;s field, it means the corresponding columns in db should also not have null values. So ***when using hibernate***, this provides both field and db level non nullability | ***When using hibernate***, along with db column level non nullability validation, it also provides java object field level validation only if `spring.jpa.properties.hibernate.check_nullability=true` |\r\n\r\n&gt;TL;DR **Recommendation:** Use `@NotNull` as DB scripts are generally not created by hibernate.","title":"Confusion: @NotNull vs. @Column(nullable = false) with JPA and Hibernate","body":"<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>@NotNull</th>\n<th>@Column(nullable=false)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Generally used just for checking java object's field's non nullability</td>\n<td>Generally used just for DDL generation (⇒ you can create a null field in java object's field but cannot persist it to db column)</td>\n</tr>\n<tr>\n<td>Part of Bean Validation Specification like <code>hibernate-validator</code></td>\n<td>Part of JPA specification</td>\n</tr>\n<tr>\n<td>Hibernate is clever enough to understand that if <code>@NotNull</code> is used to block null fields on java object's field, it means the corresponding columns in db should also not have null values. So <em><strong>when using hibernate</strong></em>, this provides both field and db level non nullability</td>\n<td><em><strong>When using hibernate</strong></em>, along with db column level non nullability validation, it also provides java object field level validation only if <code>spring.jpa.properties.hibernate.check_nullability=true</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<blockquote>\n<p>TL;DR <strong>Recommendation:</strong> Use <code>@NotNull</code> as DB scripts are generally not created by hibernate.</p>\n</blockquote>\n"}],"owner":{"account_id":412097,"reputation":11870,"user_id":784980,"accept_rate":64,"display_name":"rapt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181989,"favorite_count":0,"down_vote_count":0,"up_vote_count":265,"accepted_answer_id":7439544,"answer_count":5,"score":265,"last_activity_date":1697510291,"creation_date":1316139611,"question_id":7439504,"body_markdown":"1. When they appear on a field/getter of an `@Entity`, what is the difference between them? (I persist the Entity through **Hibernate**).\r\n\r\n2. What framework and/or specification each one of them belongs to?\r\n\r\n3. `@NotNull` is located within `javax.validation.constraints`. In the `javax.validation.constraints.NotNull` javadoc it says\r\n\r\n  &gt; The annotated element must not be null\r\n\r\n but it does not speak of the element&#39;s representation in the database, so why would I add the constraint `nullable=false` to the column?\r\n\r\n","title":"Confusion: @NotNull vs. @Column(nullable = false) with JPA and Hibernate","body":"<ol>\n<li><p>When they appear on a field/getter of an <code>@Entity</code>, what is the difference between them? (I persist the Entity through <strong>Hibernate</strong>).</p></li>\n<li><p>What framework and/or specification each one of them belongs to?</p></li>\n<li><p><code>@NotNull</code> is located within <code>javax.validation.constraints</code>. In the <code>javax.validation.constraints.NotNull</code> javadoc it says</p>\n\n<blockquote>\n  <p>The annotated element must not be null</p>\n</blockquote>\n\n<p>but it does not speak of the element's representation in the database, so why would I add the constraint <code>nullable=false</code> to the column?</p></li>\n</ol>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":8623377,"reputation":9580,"user_id":6457407,"display_name":"Frank Yellin"},"score":1,"creation_date":1697477823,"post_id":77303337,"comment_id":136282161,"body_markdown":"What is your question?","body":"What is your question?"},{"owner":{"account_id":1219770,"reputation":3961,"user_id":1186624,"display_name":"relent95"},"score":1,"creation_date":1697509283,"post_id":77303337,"comment_id":136285752,"body_markdown":"See [ask]. Do a preliminary debugging for each letter. And don&#39;t add unrelated tags. The security tag does not fit because you are implementing a toy cipher. The python tag does not fit because you are asking on Java code. The autokey tag does not fit because it&#39;s a framework for an automation.","body":"See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Do a preliminary debugging for each letter. And don&#39;t add unrelated tags. The security tag does not fit because you are implementing a toy cipher. The python tag does not fit because you are asking on Java code. The autokey tag does not fit because it&#39;s a framework for an automation."}],"owner":{"account_id":27552468,"reputation":25,"user_id":21027269,"display_name":"arief ariefshamsuddin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697508929,"creation_date":1697471281,"question_id":77303337,"body_markdown":"This is the example for the **autokey cipher** used in my project:\r\n\r\nIn this project, **ciphertext** was generated by applying **autokey cipher**\r\nmultiple rounds.\r\n• Note that in each round, the part concatenated to the key string is\r\nbrought from the result of the former round, not the original plaintext.\r\n\r\n• **Example**\r\n\r\nPrimer key: feel\r\n\r\nPlaintext: loveandpeace\r\n\r\n(Round 1)\r\n\r\n✓ Generated key string: feelloveandp\r\n\r\n✓ Ciphertext: qszplbytenft\r\n\r\n(Round 2)\r\n\r\n✓ Generated key string: feelqszplbyt\r\n\r\n✓ Ciphertext: vwdabtxipodm\r\n\r\n• For this project, need to **find the original plaintext** from the given parts of the **plaintext and the ciphertext**.\r\n\r\n• Ciphertext was generated by applying **13 rounds of autokey cipher**.\r\n\r\n• Length of the primer key is 20, and the length of plaintext/ciphertext is 100. \r\n\r\n• Assuming the question marks is unknown characters\r\n\r\n**Plaintext:\r\nDECRYPTINGACIPHERGEN????????????????????????????????????????????ISSOLVABLEWITHOU????????????????????**\r\n\r\n**Ciphertext:\r\n????????????????????RRAYLLEEDUIREFGHRSEPRRTXRYUO\r\nWEVRRTUVSPROOLRZVSFOLINBLEJVGUOHTXNOJVAGTHEFECERGXRY**\r\n\r\nThis is the example of the solution i tried with **Java** but it does not work.\r\n\r\n    public class AutoKey {\r\n\tpublic static String autoDecryption(String primerKey, String ciphertext) {\r\n    String decryptedText = &quot;&quot;;\r\n\r\n    for (int round = 0; round &lt; 13; round++) {\r\n        String roundKey = primerKey + decryptedText;\r\n        String roundDecryption = autoKeyDecryption(ciphertext, roundKey);\r\n\r\n        // Log the intermediate results (optional)\r\n        System.out.println(&quot;Round &quot; + (round + 1) + &quot; Key: &quot; + roundKey);\r\n        System.out.println(&quot;Round &quot; + (round + 1) + &quot; Decryption: &quot; + roundDecryption);\r\n\r\n        decryptedText = roundDecryption;\r\n    }\r\n\r\n    return decryptedText;\r\n    }\r\n    \r\n    public static String autoKeyDecryption(String ciphertext, String key) {\r\n        String decryptedText = &quot;&quot;;\r\n        String alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n\r\n    for (int i = 0; i &lt; ciphertext.length(); i++) {\r\n        int get1 = alphabet.indexOf(ciphertext.charAt(i));\r\n        int get2;\r\n        \r\n        if (i &lt; key.length()) {\r\n            get2 = alphabet.indexOf(key.charAt(i));\r\n        } else {\r\n            get2 = alphabet.indexOf(decryptedText.charAt(i - key.length()));\r\n        }\r\n\r\n        int total = (get1 - get2) % 26;\r\n        total = (total &lt; 0) ? total + 26 : total;\r\n        decryptedText += alphabet.charAt(total);\r\n    }\r\n\r\n    return decryptedText;\r\n    }\r\n    \r\n    \r\n    public static void main(String[] args) {\r\n        String primerKey = &quot;DECRYPTINGACIPHERGEN&quot;;\r\n        String ciphertext = &quot;RRAYLLEEDUIREFGHRSEPRRTXRYUOWEVRRTUVSPROOLRZVSFOLINBLEJVGUOHTXNOJVAGTHEFECERGXRY&quot;;\r\n    \r\n    String plaintext = autoDecryption(primerKey, ciphertext);\r\n    \r\n    System.out.println(&quot;Original Plaintext: &quot; + plaintext);\r\n    }\r\n\r\n    }","title":"How to decrypt this 13 rounds of AutoKey Cipher encryption question with Java/Python","body":"<p>This is the example for the <strong>autokey cipher</strong> used in my project:</p>\n<p>In this project, <strong>ciphertext</strong> was generated by applying <strong>autokey cipher</strong>\nmultiple rounds.\n• Note that in each round, the part concatenated to the key string is\nbrought from the result of the former round, not the original plaintext.</p>\n<p>• <strong>Example</strong></p>\n<p>Primer key: feel</p>\n<p>Plaintext: loveandpeace</p>\n<p>(Round 1)</p>\n<p>✓ Generated key string: feelloveandp</p>\n<p>✓ Ciphertext: qszplbytenft</p>\n<p>(Round 2)</p>\n<p>✓ Generated key string: feelqszplbyt</p>\n<p>✓ Ciphertext: vwdabtxipodm</p>\n<p>• For this project, need to <strong>find the original plaintext</strong> from the given parts of the <strong>plaintext and the ciphertext</strong>.</p>\n<p>• Ciphertext was generated by applying <strong>13 rounds of autokey cipher</strong>.</p>\n<p>• Length of the primer key is 20, and the length of plaintext/ciphertext is 100.</p>\n<p>• Assuming the question marks is unknown characters</p>\n<p><strong>Plaintext:\nDECRYPTINGACIPHERGEN????????????????????????????????????????????ISSOLVABLEWITHOU????????????????????</strong></p>\n<p><strong>Ciphertext:\n????????????????????RRAYLLEEDUIREFGHRSEPRRTXRYUO\nWEVRRTUVSPROOLRZVSFOLINBLEJVGUOHTXNOJVAGTHEFECERGXRY</strong></p>\n<p>This is the example of the solution i tried with <strong>Java</strong> but it does not work.</p>\n<pre><code>public class AutoKey {\npublic static String autoDecryption(String primerKey, String ciphertext) {\nString decryptedText = &quot;&quot;;\n\nfor (int round = 0; round &lt; 13; round++) {\n    String roundKey = primerKey + decryptedText;\n    String roundDecryption = autoKeyDecryption(ciphertext, roundKey);\n\n    // Log the intermediate results (optional)\n    System.out.println(&quot;Round &quot; + (round + 1) + &quot; Key: &quot; + roundKey);\n    System.out.println(&quot;Round &quot; + (round + 1) + &quot; Decryption: &quot; + roundDecryption);\n\n    decryptedText = roundDecryption;\n}\n\nreturn decryptedText;\n}\n\npublic static String autoKeyDecryption(String ciphertext, String key) {\n    String decryptedText = &quot;&quot;;\n    String alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n\nfor (int i = 0; i &lt; ciphertext.length(); i++) {\n    int get1 = alphabet.indexOf(ciphertext.charAt(i));\n    int get2;\n    \n    if (i &lt; key.length()) {\n        get2 = alphabet.indexOf(key.charAt(i));\n    } else {\n        get2 = alphabet.indexOf(decryptedText.charAt(i - key.length()));\n    }\n\n    int total = (get1 - get2) % 26;\n    total = (total &lt; 0) ? total + 26 : total;\n    decryptedText += alphabet.charAt(total);\n}\n\nreturn decryptedText;\n}\n\n\npublic static void main(String[] args) {\n    String primerKey = &quot;DECRYPTINGACIPHERGEN&quot;;\n    String ciphertext = &quot;RRAYLLEEDUIREFGHRSEPRRTXRYUOWEVRRTUVSPROOLRZVSFOLINBLEJVGUOHTXNOJVAGTHEFECERGXRY&quot;;\n\nString plaintext = autoDecryption(primerKey, ciphertext);\n\nSystem.out.println(&quot;Original Plaintext: &quot; + plaintext);\n}\n\n}\n</code></pre>\n"},{"tags":["java","jquery","ajax","xmlhttprequest","zip"],"comments":[{"owner":{"account_id":2086879,"reputation":283,"user_id":1857654,"accept_rate":73,"display_name":"user1857654"},"score":0,"creation_date":1697511126,"post_id":77305753,"comment_id":136285862,"body_markdown":"Try closing out your streams after the while loop? fin.close(); fout.close();","body":"Try closing out your streams after the while loop? fin.close(); fout.close();"},{"owner":{"account_id":26418036,"reputation":11,"user_id":20066109,"display_name":"King Henry"},"score":0,"creation_date":1697522042,"post_id":77305753,"comment_id":136286706,"body_markdown":"Thank you for reply.\nI Solved this problem.\nTo use blob, I had to upgrade the jquery version.\nAnd added code xhrFields in Ajax.","body":"Thank you for reply. I Solved this problem. To use blob, I had to upgrade the jquery version. And added code xhrFields in Ajax."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697540924,"post_id":77305753,"comment_id":136290094,"body_markdown":"Don’t reinvent the wheel. Use [`Files.copy(zipFile.toPath(), fout);`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#copy(java.nio.file.Path,java.io.OutputStream)). And get a habit of using [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html), then you don’t need to remember to close.","body":"Don’t reinvent the wheel. Use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/file/Files.html#copy(java.nio.file.Path,java.io.OutputStream)\" rel=\"nofollow noreferrer\"><code>Files.copy(zipFile.toPath(), fout);</code></a>. And get a habit of using <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>, then you don’t need to remember to close."}],"owner":{"account_id":26418036,"reputation":11,"user_id":20066109,"display_name":"King Henry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697506509,"creation_date":1697506509,"question_id":77305753,"body_markdown":"After passing the data to the controller through ajax, \r\nI finished creating a zip file in the C:\\Users\\user\\AppData\\Local\\Temp folder.\r\nIt does open well in above folder I mentioned it.\r\nBut when I click the jsp button and download it, the zip file does not open. It even takes up space.\r\nI searched that the download function cannot be implemented using only ajax,\r\nso I added xhr, but I am having difficulty because I do not know much about xhr.\r\nCan you tell me where is wrong?\r\n\r\n* JSP - AJAX\r\n```\r\n    $(&quot;#btnFileDown&quot;).click(function() {\r\n\t \t\tvar obj = $(&quot;#grid&quot;)\r\n\t\t\tvar ids = obj.getGridParam(&quot;selarrrow&quot;);\r\n\t\t\tvar id = obj.jqGrid(&quot;getDataIDs&quot;);\r\n\t\t\tvar params = new Array();\r\n\t\t\t\r\n\t\t\tfor(var i = 0; i &lt; ids.length; i++) {\r\n\t\t\t\tvar data = obj.getRowData(ids[i]);\r\n\t\t\t\tparams.push(data);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t$.ajax({\r\n\t\t\t\ttype: &#39;POST&#39;,\r\n\t\t\t\turl : baseUrl + &quot;fileDownload.et&quot;,\r\n\t\t\t\tdata : {data:JSON.stringify(params)},\r\n\t\t\t\tsuccess: function(data, textStatus, xhr) {\r\n\t\t\t\t\t\t\talert(&quot;Success&quot;);\r\n\t\t\t\t\t\t\tlet disposition = xhr.getResponseHeader(&#39;Content-Disposition&#39;); \r\n\t\t\t\t\t\t\tlet filename; \r\n\t\t\t\t\t\t\tif (disposition &amp;&amp; disposition.indexOf(&#39;attachment&#39;) !== -1) { \r\n\t\t\t\t\t\t\t\tlet filenameRegex = /filename[^;=\\n]*=(([&#39;&quot;]).*?\\2|[^;\\n]*)/; \r\n\t\t\t\t\t\t\t\tlet matches = filenameRegex.exec(disposition); \r\n\t\t\t\t\t\t\t\tif (matches != null &amp;&amp; matches[1]) filename = matches[1].replace(/[&#39;&quot;]/g, &#39;&#39;); \r\n\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\tlet blob = new Blob([data]); \r\n\t\t\t\t\t\t\tlet link = document.createElement(&#39;a&#39;); \r\n\t\t\t\t\t\t\tlink.href = window.URL.createObjectURL(blob); \r\n\t\t\t\t\t\t\tlink.download = filename; \r\n\t\t\t\t\t\t\tlink.click();\r\n\t\t\t\t\t\t},\r\n\t\t\t\terror: function(jqXHR, textStatus, errorThrown) {\r\n\t\t\t\t\t\t\talert(&quot;Failed =&gt; &quot; + errorThrown);\r\n\t\t\t\t\t\t}\r\n\t\t\t});\r\n\t \t});\r\n```\r\n\r\n* server\r\n```\r\n    @RequestMapping(&quot;fileDownload.et&quot;)\r\n\t@Transactional\r\n\tpublic void fileDownload(@RequestParam Map&lt;String, Object&gt; param, ModelMap modelMap, HttpServletResponse response) throws ParseException, FileNotFoundException, IOException {\r\n\r\n// After creating ZipFile Code.\r\n\t\t\tresponse.setContentType(&quot;application/octet-stream&quot;);\r\n\t\t\tresponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; +URLEncoder.encode(zipFile.getName(), &quot;UTF-8&quot;));\r\n\t\t\tresponse.setHeader(&quot;Content-Transfer-Encoding&quot;, &quot;binary&quot;);\r\n\t\t\t\r\n\t\t\tFileInputStream fin = new FileInputStream(zipFile);\r\n\t\t\tServletOutputStream fout = response.getOutputStream();\r\n\t\t\t\r\n\t\t\tbyte b[] = new byte[(int) zipFile.length()];\r\n\t\t\tint leng = 0;\r\n\t\t\t\r\n\t\t\twhile ((leng = fin.read(b)) &gt; 0) {\r\n\t\t\t\tfout.write(b, 0, leng);\r\n\t\t\t}\r\n}\r\n```\r\n\r\nsearch all website and ask my question in stackoverflow\r\nbut it doesnt reponse me anybody.","title":"how to download zip file used by AJAX java","body":"<p>After passing the data to the controller through ajax,\nI finished creating a zip file in the C:\\Users\\user\\AppData\\Local\\Temp folder.\nIt does open well in above folder I mentioned it.\nBut when I click the jsp button and download it, the zip file does not open. It even takes up space.\nI searched that the download function cannot be implemented using only ajax,\nso I added xhr, but I am having difficulty because I do not know much about xhr.\nCan you tell me where is wrong?</p>\n<ul>\n<li>JSP - AJAX</li>\n</ul>\n<pre><code>    $(&quot;#btnFileDown&quot;).click(function() {\n            var obj = $(&quot;#grid&quot;)\n            var ids = obj.getGridParam(&quot;selarrrow&quot;);\n            var id = obj.jqGrid(&quot;getDataIDs&quot;);\n            var params = new Array();\n            \n            for(var i = 0; i &lt; ids.length; i++) {\n                var data = obj.getRowData(ids[i]);\n                params.push(data);\n            }\n            \n            $.ajax({\n                type: 'POST',\n                url : baseUrl + &quot;fileDownload.et&quot;,\n                data : {data:JSON.stringify(params)},\n                success: function(data, textStatus, xhr) {\n                            alert(&quot;Success&quot;);\n                            let disposition = xhr.getResponseHeader('Content-Disposition'); \n                            let filename; \n                            if (disposition &amp;&amp; disposition.indexOf('attachment') !== -1) { \n                                let filenameRegex = /filename[^;=\\n]*=((['&quot;]).*?\\2|[^;\\n]*)/; \n                                let matches = filenameRegex.exec(disposition); \n                                if (matches != null &amp;&amp; matches[1]) filename = matches[1].replace(/['&quot;]/g, ''); \n                            } \n                            let blob = new Blob([data]); \n                            let link = document.createElement('a'); \n                            link.href = window.URL.createObjectURL(blob); \n                            link.download = filename; \n                            link.click();\n                        },\n                error: function(jqXHR, textStatus, errorThrown) {\n                            alert(&quot;Failed =&gt; &quot; + errorThrown);\n                        }\n            });\n        });\n</code></pre>\n<ul>\n<li>server</li>\n</ul>\n<pre><code>    @RequestMapping(&quot;fileDownload.et&quot;)\n    @Transactional\n    public void fileDownload(@RequestParam Map&lt;String, Object&gt; param, ModelMap modelMap, HttpServletResponse response) throws ParseException, FileNotFoundException, IOException {\n\n// After creating ZipFile Code.\n            response.setContentType(&quot;application/octet-stream&quot;);\n            response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; +URLEncoder.encode(zipFile.getName(), &quot;UTF-8&quot;));\n            response.setHeader(&quot;Content-Transfer-Encoding&quot;, &quot;binary&quot;);\n            \n            FileInputStream fin = new FileInputStream(zipFile);\n            ServletOutputStream fout = response.getOutputStream();\n            \n            byte b[] = new byte[(int) zipFile.length()];\n            int leng = 0;\n            \n            while ((leng = fin.read(b)) &gt; 0) {\n                fout.write(b, 0, leng);\n            }\n}\n</code></pre>\n<p>search all website and ask my question in stackoverflow\nbut it doesnt reponse me anybody.</p>\n"},{"tags":["java","spring-boot","maven","maven-plugin","mapstruct"],"comments":[{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":1,"creation_date":1610194905,"post_id":65622167,"comment_id":116058409,"body_markdown":"Does this answer your question? [MapStruct and Lombok not working together](https://stackoverflow.com/questions/47676369/mapstruct-and-lombok-not-working-together). Check the lombok-mapstruct-binding version","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/47676369/mapstruct-and-lombok-not-working-together\">MapStruct and Lombok not working together</a>. Check the lombok-mapstruct-binding version"}],"answers":[{"comments":[{"owner":{"account_id":1420137,"reputation":1323,"user_id":1344935,"accept_rate":69,"display_name":"Evil Washing Machine"},"score":1,"creation_date":1660055088,"post_id":73237759,"comment_id":129439064,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/late-answers/32410198)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/32410198\">From Review</a>"}],"tags":[],"owner":{"account_id":15089540,"reputation":141,"user_id":10889826,"display_name":"William Buron"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659623597,"creation_date":1659623597,"answer_id":73237759,"question_id":65622167,"body_markdown":"&gt; I donot have any issues with lombok and mapstruct integration and my only issue is when running maven command like mvn test or mvn install which won&#39;t clean the target folder and then mapstruct trying to recreate the implementation files.\r\n\r\nSo, use maven&#39;s option ```clean```. It will clear your target folder.  \r\n-&gt; ```mvn clean install``` for example.\r\n\r\nIt seems you don&#39;t have issue finally...\r\n","title":"Maven mapstruct issue when running mvn install/mvn test","body":"<blockquote>\n<p>I donot have any issues with lombok and mapstruct integration and my only issue is when running maven command like mvn test or mvn install which won't clean the target folder and then mapstruct trying to recreate the implementation files.</p>\n</blockquote>\n<p>So, use maven's option <code>clean</code>. It will clear your target folder.<br />\n-&gt; <code>mvn clean install</code> for example.</p>\n<p>It seems you don't have issue finally...</p>\n"},{"tags":[],"owner":{"account_id":7814516,"reputation":1641,"user_id":5909692,"display_name":"matejko219"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666854326,"creation_date":1666854326,"answer_id":74218014,"question_id":65622167,"body_markdown":"I have been struggling with this problem for a long time and finally found a solution that works for me:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;source&gt;11&lt;/source&gt;\r\n        &lt;target&gt;11&lt;/target&gt;\r\n        &lt;generatedSourcesDirectory&gt;${project.build.directory}/generated-sources&lt;/generatedSourcesDirectory&gt;\r\n        &lt;annotationProcessorPaths&gt;\r\n          &lt;path&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.24&lt;/version&gt;\r\n          &lt;/path&gt;\r\n          &lt;path&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n            &lt;version&gt;0.2.0&lt;/version&gt;\r\n          &lt;/path&gt;\r\n          &lt;path&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.2.Final&lt;/version&gt;\r\n          &lt;/path&gt;\r\n        &lt;/annotationProcessorPaths&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nI added `generatedSourcesDirectory` parameter and it started to work. Default value is `${project.build.directory}/generated-sources/annotations` and I had other sources generated for example by `querydsl` outside `annotations` directory. I decided to remove this path element and it helped.","title":"Maven mapstruct issue when running mvn install/mvn test","body":"<p>I have been struggling with this problem for a long time and finally found a solution that works for me:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.8.1&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;source&gt;11&lt;/source&gt;\n    &lt;target&gt;11&lt;/target&gt;\n    &lt;generatedSourcesDirectory&gt;${project.build.directory}/generated-sources&lt;/generatedSourcesDirectory&gt;\n    &lt;annotationProcessorPaths&gt;\n      &lt;path&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.24&lt;/version&gt;\n      &lt;/path&gt;\n      &lt;path&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n        &lt;version&gt;0.2.0&lt;/version&gt;\n      &lt;/path&gt;\n      &lt;path&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n        &lt;version&gt;1.4.2.Final&lt;/version&gt;\n      &lt;/path&gt;\n    &lt;/annotationProcessorPaths&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I added <code>generatedSourcesDirectory</code> parameter and it started to work. Default value is <code>${project.build.directory}/generated-sources/annotations</code> and I had other sources generated for example by <code>querydsl</code> outside <code>annotations</code> directory. I decided to remove this path element and it helped.</p>\n"},{"tags":[],"owner":{"account_id":4331132,"reputation":321,"user_id":3536627,"accept_rate":60,"display_name":"znaya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688662679,"creation_date":1688662679,"answer_id":76631046,"question_id":65622167,"body_markdown":"I had a similar problem. I believe it was caused by multiple plugins generating code, their output directories and maven-compiler-plugin having [useIncrementalCompilation][1] set to true. In my case setting useIncrementalCompilation to false worked but it is [not recommended][2].\r\n\r\nIn my case the plugins I was using and their respective output directories were as follows:\r\n\r\n| Plugin                | \tOutput directory                                         |\r\n|-----------------------|-----------------------------------------------------------|\r\n| avro-maven-plugin     | \t${project.build.directory}/generated-sources             |\r\n| maven-compiler-plugin | \t${project.build.directory}/generated-sources/annotations |\r\n| apt-maven-plugin      | \t${project.build.directory}/generated-sources/java        |\r\n\r\nI suspect the issue was avro-maven-plugin outputting to maven-compiler-plugin output parent directory. Setting each plugin for its own sibling directory worked.\r\n\r\n| Plugin                | \tOutput directory                                         |\r\n|-----------------------|-----------------------------------------------------------|\r\n| avro-maven-plugin     | \t${project.build.directory}/generated-sources/avro             |\r\n| maven-compiler-plugin | \t${project.build.directory}/generated-sources/annotations |\r\n| apt-maven-plugin      | \t${project.build.directory}/generated-sources/java        |\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#useIncrementalCompilation\r\n  [2]: https://stackoverflow.com/a/49700942/3536627","title":"Maven mapstruct issue when running mvn install/mvn test","body":"<p>I had a similar problem. I believe it was caused by multiple plugins generating code, their output directories and maven-compiler-plugin having <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html#useIncrementalCompilation\" rel=\"nofollow noreferrer\">useIncrementalCompilation</a> set to true. In my case setting useIncrementalCompilation to false worked but it is <a href=\"https://stackoverflow.com/a/49700942/3536627\">not recommended</a>.</p>\n<p>In my case the plugins I was using and their respective output directories were as follows:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Plugin</th>\n<th>Output directory</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>avro-maven-plugin</td>\n<td>${project.build.directory}/generated-sources</td>\n</tr>\n<tr>\n<td>maven-compiler-plugin</td>\n<td>${project.build.directory}/generated-sources/annotations</td>\n</tr>\n<tr>\n<td>apt-maven-plugin</td>\n<td>${project.build.directory}/generated-sources/java</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I suspect the issue was avro-maven-plugin outputting to maven-compiler-plugin output parent directory. Setting each plugin for its own sibling directory worked.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Plugin</th>\n<th>Output directory</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>avro-maven-plugin</td>\n<td>${project.build.directory}/generated-sources/avro</td>\n</tr>\n<tr>\n<td>maven-compiler-plugin</td>\n<td>${project.build.directory}/generated-sources/annotations</td>\n</tr>\n<tr>\n<td>apt-maven-plugin</td>\n<td>${project.build.directory}/generated-sources/java</td>\n</tr>\n</tbody>\n</table>\n</div>"},{"tags":[],"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697506019,"creation_date":1697506019,"answer_id":77305729,"question_id":65622167,"body_markdown":"Change the name of the class `SimpleSourceDestinationMapperImpl` and it will be fixed because interface `SimpleSourceDestinationMapper` with annotation @Mapper at the build time will generate `SimpleSourceDestinationMapperImpl.java` which already exists.","title":"Maven mapstruct issue when running mvn install/mvn test","body":"<p>Change the name of the class <code>SimpleSourceDestinationMapperImpl</code> and it will be fixed because interface <code>SimpleSourceDestinationMapper</code> with annotation @Mapper at the build time will generate <code>SimpleSourceDestinationMapperImpl.java</code> which already exists.</p>\n"}],"owner":{"account_id":17965359,"reputation":305,"user_id":13055352,"display_name":"happytohelp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3719,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1697506019,"creation_date":1610068675,"question_id":65622167,"body_markdown":"So, I am using mapstruct api in my maven project.\r\n\r\nHere is my application **pom.xml** configuration:\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;org.mapstruct.examples.lombok&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mapstruct-examples-lombok&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;org.mapstruct.version&gt;1.4.1.Final&lt;/org.mapstruct.version&gt;\r\n        &lt;org.projectlombok.version&gt;1.18.16&lt;/org.projectlombok.version&gt;\r\n        &lt;lombok-mapstruct-binding.version&gt;0.1.0&lt;/lombok-mapstruct-binding.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- lombok dependencies should not end up on classpath --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- IntelliJ pre 2018.1.1 requires the mapstruct processor to be present as provided dependency --&gt;\r\n&lt;!--        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;--&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;version&gt;4.13.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                        &lt;!-- See https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html --&gt;\r\n                        &lt;!-- Classpath elements to supply as annotation processor path. If specified, the compiler   --&gt;\r\n                        &lt;!-- will detect annotation processors only in those classpath elements. If omitted, the     --&gt;\r\n                        &lt;!-- default classpath is used to detect annotation processors. The detection itself depends --&gt;\r\n                        &lt;!-- on the configuration of annotationProcessors.                                           --&gt;\r\n                        &lt;!--                                                                                         --&gt;\r\n                        &lt;!-- According to this documentation, the provided dependency processor is not considered!   --&gt;\r\n                        &lt;annotationProcessorPaths&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                                &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                                &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                            &lt;path&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                                &lt;version&gt;${lombok-mapstruct-binding.version}&lt;/version&gt;\r\n                            &lt;/path&gt;\r\n                        &lt;/annotationProcessorPaths&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n         &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.8&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;add-source&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;sources&gt;\r\n               &lt;source&gt;target/generate-sources&lt;/source&gt;\r\n              &lt;/sources&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nMy Pojo classes:\r\n\r\n**SimpleSource.java**\r\n\r\n```java\r\npublic class SimpleSource {\r\n    private String name;\r\n    private String description;\r\n    // getters and setters\r\n}\r\n```\r\n**SimpleDestination.java**\r\n```java\r\npublic class SimpleDestination {\r\n    private String name;\r\n    private String description;\r\n    // getters and setters\r\n}\r\n```\r\nMapper interface:\r\n\r\n**SimpleSourceDestinationMapper.java**\r\n\r\n```java\r\n@Mapper\r\npublic interface SimpleSourceDestinationMapper {\r\n    SimpleDestination sourceToDestination(SimpleSource source);\r\n    SimpleSource destinationToSource(SimpleDestination destination);\r\n}\r\n```\r\n\r\nIt generates proper implementation class:\r\n\r\n**SimpleSourceDestinationMapperImpl.java**(*generated*)\r\n\r\n```java\r\npublic class SimpleSourceDestinationMapperImpl implements SimpleSourceDestinationMapper {\r\n    @Override\r\n    public SimpleDestination sourceToDestination(SimpleSource source) {\r\n        if ( source == null ) {\r\n            return null;\r\n        }\r\n        SimpleDestination simpleDestination = new SimpleDestination();\r\n        simpleDestination.setName( source.getName() );\r\n        simpleDestination.setDescription( source.getDescription() );\r\n        return simpleDestination;\r\n    }\r\n    @Override\r\n    public SimpleSource destinationToSource(SimpleDestination destination){\r\n        if ( destination == null ) {\r\n            return null;\r\n        }\r\n        SimpleSource simpleSource = new SimpleSource();\r\n        simpleSource.setName( destination.getName() );\r\n        simpleSource.setDescription( destination.getDescription() );\r\n        return simpleSource;\r\n    }\r\n}\r\n```\r\n\r\nEverything is working fine when I run command ```mvn clean install```/```mvn clean test```.\r\n\r\n But when I run ```mvn test``` / ```mvn install``` it is failing with below error.(Note: if we run ```mvn install/mvn test``` for the first time, it works because **target** folder is not present for the first time before build).\r\n\r\nSo if I run the ```mvn test``` / ```mvn install```  again when target folder is present, I get the below error.\r\n\r\n\r\n\r\n&gt;mapstructapt\\src\\main\\java\\SimpleSourceDestinationMapper.java:9: error: Internal error in the mapping processor: java.lang.RuntimeException: javax.annotation.processing.FilerException: Attempt to recreate a file for type SimpleSourceDestinationMapperImpl at org.mapstruct.ap.internal.processor.MapperRenderingProcessor.createSourceFile(MapperRenderingProcessor.java:67) at org.mapstruct.ap.internal.processor.MapperRenderingProcessor.writeToSourceFile(MapperRenderingProcessor.java:52) at org.mapstruct.ap.internal.processor.MapperRenderingProcessor.process(MapperRenderingProcessor.java:42) at org.mapstruct.ap.internal.processor.MapperRenderingProcessor.process(MapperRenderingProcessor.java:37) at org.mapstruct.ap.MappingProcessor.process(MappingProcessor.java:223) at org.mapstruct.ap.MappingProcessor.processMapperTypeElement(MappingProcessor.java:203)\r\n\r\nNot sure what is happening with mapstruct/maven. So need some help to solve this issue.\r\n\r\n**EDIT:**\r\n\r\nMy pom.xml configuration is similar to the accepted answer suggested in below post. https://stackoverflow.com/questions/47676369/mapstruct-and-lombok-not-working-together\r\n\r\nI donot have any issues with lombok and mapstruct integration and my only issue is when running maven command like ```mvn test``` or ```mvn install``` which won&#39;t clean the target folder and then mapstruct trying to recreate the implementation files.\r\n\r\n\r\n\r\n\r\n","title":"Maven mapstruct issue when running mvn install/mvn test","body":"<p>So, I am using mapstruct api in my maven project.</p>\n<p>Here is my application <strong>pom.xml</strong> configuration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;org.mapstruct.examples.lombok&lt;/groupId&gt;\n    &lt;artifactId&gt;mapstruct-examples-lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;org.mapstruct.version&gt;1.4.1.Final&lt;/org.mapstruct.version&gt;\n        &lt;org.projectlombok.version&gt;1.18.16&lt;/org.projectlombok.version&gt;\n        &lt;lombok-mapstruct-binding.version&gt;0.1.0&lt;/lombok-mapstruct-binding.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- lombok dependencies should not end up on classpath --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- IntelliJ pre 2018.1.1 requires the mapstruct processor to be present as provided dependency --&gt;\n&lt;!--        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;4.13.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;1.8&lt;/source&gt;\n                        &lt;target&gt;1.8&lt;/target&gt;\n                        &lt;!-- See https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html --&gt;\n                        &lt;!-- Classpath elements to supply as annotation processor path. If specified, the compiler   --&gt;\n                        &lt;!-- will detect annotation processors only in those classpath elements. If omitted, the     --&gt;\n                        &lt;!-- default classpath is used to detect annotation processors. The detection itself depends --&gt;\n                        &lt;!-- on the configuration of annotationProcessors.                                           --&gt;\n                        &lt;!--                                                                                         --&gt;\n                        &lt;!-- According to this documentation, the provided dependency processor is not considered!   --&gt;\n                        &lt;annotationProcessorPaths&gt;\n                            &lt;path&gt;\n                                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                                &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                            &lt;/path&gt;\n                            &lt;path&gt;\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                                &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\n                            &lt;/path&gt;\n                            &lt;path&gt;\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                                &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                                &lt;version&gt;${lombok-mapstruct-binding.version}&lt;/version&gt;\n                            &lt;/path&gt;\n                        &lt;/annotationProcessorPaths&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n         &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.8&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;add-source&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;sources&gt;\n               &lt;source&gt;target/generate-sources&lt;/source&gt;\n              &lt;/sources&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My Pojo classes:</p>\n<p><strong>SimpleSource.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SimpleSource {\n    private String name;\n    private String description;\n    // getters and setters\n}\n</code></pre>\n<p><strong>SimpleDestination.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SimpleDestination {\n    private String name;\n    private String description;\n    // getters and setters\n}\n</code></pre>\n<p>Mapper interface:</p>\n<p><strong>SimpleSourceDestinationMapper.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface SimpleSourceDestinationMapper {\n    SimpleDestination sourceToDestination(SimpleSource source);\n    SimpleSource destinationToSource(SimpleDestination destination);\n}\n</code></pre>\n<p>It generates proper implementation class:</p>\n<p><strong>SimpleSourceDestinationMapperImpl.java</strong>(<em>generated</em>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SimpleSourceDestinationMapperImpl implements SimpleSourceDestinationMapper {\n    @Override\n    public SimpleDestination sourceToDestination(SimpleSource source) {\n        if ( source == null ) {\n            return null;\n        }\n        SimpleDestination simpleDestination = new SimpleDestination();\n        simpleDestination.setName( source.getName() );\n        simpleDestination.setDescription( source.getDescription() );\n        return simpleDestination;\n    }\n    @Override\n    public SimpleSource destinationToSource(SimpleDestination destination){\n        if ( destination == null ) {\n            return null;\n        }\n        SimpleSource simpleSource = new SimpleSource();\n        simpleSource.setName( destination.getName() );\n        simpleSource.setDescription( destination.getDescription() );\n        return simpleSource;\n    }\n}\n</code></pre>\n<p>Everything is working fine when I run command <code>mvn clean install</code>/<code>mvn clean test</code>.</p>\n<p>But when I run <code>mvn test</code> / <code>mvn install</code> it is failing with below error.(Note: if we run <code>mvn install/mvn test</code> for the first time, it works because <strong>target</strong> folder is not present for the first time before build).</p>\n<p>So if I run the <code>mvn test</code> / <code>mvn install</code>  again when target folder is present, I get the below error.</p>\n<blockquote>\n<p>mapstructapt\\src\\main\\java\\SimpleSourceDestinationMapper.java:9: error: Internal error in the mapping processor: java.lang.RuntimeException: javax.annotation.processing.FilerException: Attempt to recreate a file for type SimpleSourceDestinationMapperImpl at org.mapstruct.ap.internal.processor.MapperRenderingProcessor.createSourceFile(MapperRenderingProcessor.java:67) at org.mapstruct.ap.internal.processor.MapperRenderingProcessor.writeToSourceFile(MapperRenderingProcessor.java:52) at org.mapstruct.ap.internal.processor.MapperRenderingProcessor.process(MapperRenderingProcessor.java:42) at org.mapstruct.ap.internal.processor.MapperRenderingProcessor.process(MapperRenderingProcessor.java:37) at org.mapstruct.ap.MappingProcessor.process(MappingProcessor.java:223) at org.mapstruct.ap.MappingProcessor.processMapperTypeElement(MappingProcessor.java:203)</p>\n</blockquote>\n<p>Not sure what is happening with mapstruct/maven. So need some help to solve this issue.</p>\n<p><strong>EDIT:</strong></p>\n<p>My pom.xml configuration is similar to the accepted answer suggested in below post. <a href=\"https://stackoverflow.com/questions/47676369/mapstruct-and-lombok-not-working-together\">MapStruct and Lombok not working together</a></p>\n<p>I donot have any issues with lombok and mapstruct integration and my only issue is when running maven command like <code>mvn test</code> or <code>mvn install</code> which won't clean the target folder and then mapstruct trying to recreate the implementation files.</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1697495095,"post_id":77304417,"comment_id":136284638,"body_markdown":"i would recommend looking into creating a custom starter, than a library that will randomly load in beans.","body":"i would recommend looking into creating a custom starter, than a library that will randomly load in beans."}],"answers":[{"tags":[],"owner":{"account_id":26546563,"reputation":3,"user_id":20176545,"display_name":"Carter Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697504857,"creation_date":1697504800,"answer_id":77305679,"question_id":77304417,"body_markdown":"Using the `@ComponentScan(&quot;com.org.*&quot;)` annotation on the main class successfully made all beans in the common package available to the application.","title":"Spring Boot - Declaring beans from a third party security chain","body":"<p>Using the <code>@ComponentScan(&quot;com.org.*&quot;)</code> annotation on the main class successfully made all beans in the common package available to the application.</p>\n"}],"owner":{"account_id":26546563,"reputation":3,"user_id":20176545,"display_name":"Carter Smith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77305679,"answer_count":1,"score":0,"last_activity_date":1697504857,"creation_date":1697483453,"question_id":77304417,"body_markdown":"I&#39;m working on a common utilities package to be shared between Spring Boot projects. The common package contains several annotated beans which are imported and declared in a `@Configuration` class inside the importing application, like this user filter:\r\n\r\n```\r\n// common package\r\npackage com.org.common_package.filters;\r\n...\r\n@Component\r\n@Order(Ordered.LOWEST_PRECEDENCE - 1)\r\npublic class UserFilter implements Filter {\r\n    @Autowired\r\n    private ApplicationContext applicationContext;\r\n...\r\n```\r\n```\r\n// application imports common_package\r\npackage com.org.application.config;\r\n\r\nimport com.org.common_package.filters.UserFilter;\r\n\r\n@Configuration\r\npublic class CommonConfig {\r\n    @Bean\r\n    public UserFilter userFilter() {\r\n        return new UserFilter();\r\n    }\r\n...\r\n```\r\n\r\nThe one that&#39;s causing me trouble is this `@EnableWebSecurity` class, which declares its own `@Bean`s for SecurityFilterChain and JwtDecoder:\r\n\r\n```\r\npackage com.org.common_package.security;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.oauth2.jwt.JwtDecoder;\r\nimport org.springframework.security.oauth2.jwt.NimbusJwtDecoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class CommonSecurity {\r\n\r\n    @Value(&quot;${jwk.url}&quot;)\r\n    private String jwkUrl;\r\n\r\n    private final static Logger logger = LoggerFactory.getLogger(CommonSecurity.class);\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        logger.debug(&quot;In HTTP Security Filter Chain&quot;);\r\n        http.authorizeRequests((authorizeRequests) -&gt; authorizeRequests\r\n                .anyRequest().authenticated())\r\n                .oauth2ResourceServer((oauth2ResourceServer) -&gt; oauth2ResourceServer\r\n                        .jwt((jwt) -&gt; jwt\r\n                                .decoder(jwtDecoder())));\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public JwtDecoder jwtDecoder() {\r\n        logger.debug(&quot;In jwt Decoder&quot;);\r\n        NimbusJwtDecoder jwtDecoder_ = NimbusJwtDecoder.withJwkSetUri(jwkUrl).build();\r\n        jwtDecoder_.setClaimSetConverter(new UsernameSubClaimAdapter());\r\n        return jwtDecoder_;\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m not sure how to declare these beans in CommonConfig in the importing application, since their constructors require other objects. Any HTTP request I send after booting the app returns 401 unauthorized, and the debug logs don&#39;t show either log line inside CommonSecurity, while showing messages for missing beans like this: \r\n\r\n```\r\nSpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration matched:\r\n      - @ConditionalOnClass found required class &#39;org.springframework.security.config.annotation.web.configuration.EnableWebSecurity&#39; (OnClassCondition)\r\n      - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) did not find any beans (OnBeanCondition)\r\n```\r\n\r\nPulling the CommonSecurity class out of the common package and putting it into the importing application as is causes it to work fine. How can I declare the missing beans for this imported package?","title":"Spring Boot - Declaring beans from a third party security chain","body":"<p>I'm working on a common utilities package to be shared between Spring Boot projects. The common package contains several annotated beans which are imported and declared in a <code>@Configuration</code> class inside the importing application, like this user filter:</p>\n<pre><code>// common package\npackage com.org.common_package.filters;\n...\n@Component\n@Order(Ordered.LOWEST_PRECEDENCE - 1)\npublic class UserFilter implements Filter {\n    @Autowired\n    private ApplicationContext applicationContext;\n...\n</code></pre>\n<pre><code>// application imports common_package\npackage com.org.application.config;\n\nimport com.org.common_package.filters.UserFilter;\n\n@Configuration\npublic class CommonConfig {\n    @Bean\n    public UserFilter userFilter() {\n        return new UserFilter();\n    }\n...\n</code></pre>\n<p>The one that's causing me trouble is this <code>@EnableWebSecurity</code> class, which declares its own <code>@Bean</code>s for SecurityFilterChain and JwtDecoder:</p>\n<pre><code>package com.org.common_package.security;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.oauth2.jwt.JwtDecoder;\nimport org.springframework.security.oauth2.jwt.NimbusJwtDecoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class CommonSecurity {\n\n    @Value(&quot;${jwk.url}&quot;)\n    private String jwkUrl;\n\n    private final static Logger logger = LoggerFactory.getLogger(CommonSecurity.class);\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        logger.debug(&quot;In HTTP Security Filter Chain&quot;);\n        http.authorizeRequests((authorizeRequests) -&gt; authorizeRequests\n                .anyRequest().authenticated())\n                .oauth2ResourceServer((oauth2ResourceServer) -&gt; oauth2ResourceServer\n                        .jwt((jwt) -&gt; jwt\n                                .decoder(jwtDecoder())));\n        return http.build();\n    }\n\n    @Bean\n    public JwtDecoder jwtDecoder() {\n        logger.debug(&quot;In jwt Decoder&quot;);\n        NimbusJwtDecoder jwtDecoder_ = NimbusJwtDecoder.withJwkSetUri(jwkUrl).build();\n        jwtDecoder_.setClaimSetConverter(new UsernameSubClaimAdapter());\n        return jwtDecoder_;\n    }\n}\n</code></pre>\n<p>I'm not sure how to declare these beans in CommonConfig in the importing application, since their constructors require other objects. Any HTTP request I send after booting the app returns 401 unauthorized, and the debug logs don't show either log line inside CommonSecurity, while showing messages for missing beans like this:</p>\n<pre><code>SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration matched:\n      - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)\n      - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) did not find any beans (OnBeanCondition)\n</code></pre>\n<p>Pulling the CommonSecurity class out of the common package and putting it into the importing application as is causes it to work fine. How can I declare the missing beans for this imported package?</p>\n"},{"tags":["java","rest"],"comments":[{"owner":{"account_id":2914500,"reputation":1161,"user_id":2498017,"accept_rate":69,"display_name":"Richard Barker"},"score":0,"creation_date":1567690020,"post_id":57806532,"comment_id":102044768,"body_markdown":"Please format your code using four spaces where tabs would go.","body":"Please format your code using four spaces where tabs would go."},{"owner":{"account_id":2038924,"reputation":324,"user_id":1820592,"display_name":"Cwrwhaf"},"score":0,"creation_date":1567691421,"post_id":57806532,"comment_id":102045616,"body_markdown":"have you registered org.glassfish.jersey.media.multipart.MultiPartFeature?","body":"have you registered org.glassfish.jersey.media.multipart.MultiPartFeature?"},{"owner":{"account_id":1528364,"reputation":125614,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"score":0,"creation_date":1567754879,"post_id":57806532,"comment_id":102065716,"body_markdown":"Please format your code.","body":"Please format your code."},{"owner":{"account_id":9148261,"reputation":31,"user_id":6803637,"display_name":"Tushar Pawar"},"score":0,"creation_date":1567761444,"post_id":57806532,"comment_id":102068578,"body_markdown":"Hello @cassiomolin after formatting i am not able to submit the question as it is saying your question contains mostly code and asking to add more details","body":"Hello @cassiomolin after formatting i am not able to submit the question as it is saying your question contains mostly code and asking to add more details"}],"answers":[{"comments":[{"owner":{"account_id":9148261,"reputation":31,"user_id":6803637,"display_name":"Tushar Pawar"},"score":0,"creation_date":1567746455,"post_id":57807295,"comment_id":102062848,"body_markdown":"Hey, Thanks for the answer. I have tried your solution, I am getting below exception.\n\nA MultiException has 2 exceptions.  They are:\n1. java.lang.NoClassDefFoundError: org/glassfish/jersey/media/multipart/internal/FormDataParamValueFactoryProvider$FormDataMultiPartValueFactory\n2. java.lang.IllegalArgumentException: Errors were discovered while reifying SystemDescriptor(\n\timplementation=org.glassfish.jersey.media.multipart.internal.FormDataParamValueFactoryProvider$InjectionResolver","body":"Hey, Thanks for the answer. I have tried your solution, I am getting below exception.  A MultiException has 2 exceptions.  They are: 1. java.lang.NoClassDefFoundError: org/glassfish/jersey/media/multipart/internal/FormDataParamV&zwnj;&#8203;alueFactoryProvider$&zwnj;&#8203;FormDataMultiPartVal&zwnj;&#8203;ueFactory 2. java.lang.IllegalArgumentException: Errors were discovered while reifying SystemDescriptor( \timplementation=org.glassfish.jersey.media.multipart.interna&zwnj;&#8203;l.FormDataParamValue&zwnj;&#8203;FactoryProvider$Inje&zwnj;&#8203;ctionResolver"},{"owner":{"account_id":1528364,"reputation":125614,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"score":0,"creation_date":1567750619,"post_id":57807295,"comment_id":102063971,"body_markdown":"@TusharPawar Show your dependencies.","body":"@TusharPawar Show your dependencies."},{"owner":{"account_id":9148261,"reputation":31,"user_id":6803637,"display_name":"Tushar Pawar"},"score":0,"creation_date":1567752014,"post_id":57807295,"comment_id":102064491,"body_markdown":"`&lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-multipart&lt;/artifactId&gt;\n             &lt;version&gt;2.0&lt;/version&gt;\n        &lt;/dependency&gt;`\n\nI have changed  `&lt;version&gt;2.0&lt;/version&gt;`  to `&lt;version&gt;${jersey-version}&lt;/version&gt;`\n\nNow it&#39;s saying **HTTP Status 415 - Unsupported Media Type**  when I try to upload txt or png file or **Do you want to see all dependencies**??","body":"<code>&lt;dependency&gt;             &lt;groupId&gt;org.glassfish.jersey.media&lt;&#47;groupId&gt;             &lt;artifactId&gt;jersey-media-multipart&lt;&#47;artifactId&gt;              &lt;version&gt;2.0&lt;&#47;version&gt;         &lt;&#47;dependency&gt;</code>  I have changed  <code>&lt;version&gt;2.0&lt;&#47;version&gt;</code>  to <code>&lt;version&gt;${jersey-version}&lt;&#47;version&gt;</code>  Now it&#39;s saying <b>HTTP Status 415 - Unsupported Media Type</b>  when I try to upload txt or png file or <b>Do you want to see all dependencies</b>??"},{"owner":{"account_id":1528364,"reputation":125614,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"score":0,"creation_date":1567752464,"post_id":57807295,"comment_id":102064693,"body_markdown":"@TasharPawar Yes, all dependencies.","body":"@TasharPawar Yes, all dependencies."},{"owner":{"account_id":9148261,"reputation":31,"user_id":6803637,"display_name":"Tushar Pawar"},"score":0,"creation_date":1567754805,"post_id":57807295,"comment_id":102065689,"body_markdown":"I have Please check","body":"I have Please check"}],"tags":[],"owner":{"account_id":1528364,"reputation":125614,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567693578,"creation_date":1567692353,"answer_id":57807295,"question_id":57806532,"body_markdown":"From the exception, I can tell you are using Jersey 2.x. However, you seem to be using [`com.sun.jersey.core.header.FormDataContentDisposition`][1], which belongs to the _old_ Jersey 1.x.\r\n\r\nYou want to use [`org.glassfish.jersey.media.multipart.FormDataContentDisposition`][2] instead.\r\n\r\nFirst remove the `jersey-multipart` dependency:\r\n\r\n```xml\r\n&lt;!-- Multipart support for Jersey 1.x --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jersey-multipart&lt;/artifactId&gt;\r\n    &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThen add the `jersey-media-multipart` dependency:\r\n\r\n```xml\r\n&lt;!-- Multipart support for Jersey 2.x --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jersey-media-multipart&lt;/artifactId&gt;\r\n    &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nFix the imports. And register [`MultiPartFeature`][3] in your [`ResourceConfig`][4] or in your [`Application`][5] subclass.\r\n\r\n\r\n  [1]: https://jersey.github.io/apidocs/1.19.1/jersey/com/sun/jersey/core/header/FormDataContentDisposition.html\r\n  [2]: https://jersey.github.io/apidocs/latest/jersey/org/glassfish/jersey/media/multipart/FormDataContentDisposition.html\r\n  [3]: https://jersey.github.io/apidocs/latest/jersey/org/glassfish/jersey/media/multipart/MultiPartFeature.html\r\n  [4]: https://jersey.github.io/apidocs/latest/jersey/org/glassfish/jersey/server/ResourceConfig.html\r\n  [5]: https://javaee.github.io/javaee-spec/javadocs/javax/ws/rs/core/Application.html","title":"How to POST a multipart/form data with files in a REST API","body":"<p>From the exception, I can tell you are using Jersey 2.x. However, you seem to be using <a href=\"https://jersey.github.io/apidocs/1.19.1/jersey/com/sun/jersey/core/header/FormDataContentDisposition.html\" rel=\"nofollow noreferrer\"><code>com.sun.jersey.core.header.FormDataContentDisposition</code></a>, which belongs to the <em>old</em> Jersey 1.x.</p>\n\n<p>You want to use <a href=\"https://jersey.github.io/apidocs/latest/jersey/org/glassfish/jersey/media/multipart/FormDataContentDisposition.html\" rel=\"nofollow noreferrer\"><code>org.glassfish.jersey.media.multipart.FormDataContentDisposition</code></a> instead.</p>\n\n<p>First remove the <code>jersey-multipart</code> dependency:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Multipart support for Jersey 1.x --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-multipart&lt;/artifactId&gt;\n    &lt;version&gt;${jersey.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Then add the <code>jersey-media-multipart</code> dependency:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Multipart support for Jersey 2.x --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n    &lt;artifactId&gt;jersey-media-multipart&lt;/artifactId&gt;\n    &lt;version&gt;${jersey.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Fix the imports. And register <a href=\"https://jersey.github.io/apidocs/latest/jersey/org/glassfish/jersey/media/multipart/MultiPartFeature.html\" rel=\"nofollow noreferrer\"><code>MultiPartFeature</code></a> in your <a href=\"https://jersey.github.io/apidocs/latest/jersey/org/glassfish/jersey/server/ResourceConfig.html\" rel=\"nofollow noreferrer\"><code>ResourceConfig</code></a> or in your <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/ws/rs/core/Application.html\" rel=\"nofollow noreferrer\"><code>Application</code></a> subclass.</p>\n"}],"owner":{"account_id":9148261,"reputation":31,"user_id":6803637,"display_name":"Tushar Pawar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11579,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1697504545,"creation_date":1567689862,"question_id":57806532,"body_markdown":"I am trying to write a REST API to upload an attachment. I have written the API. But when I am trying to call from POSTMAN, It&#39;s throwing an exception.\r\nREST API:\r\n   \r\n\r\n     @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n        public Response uploadFile(\r\n                @FormDataParam(&quot;attachment&quot;) InputStream uploadedInputStream,\r\n                @FormDataParam(&quot;attachment&quot;) FormDataContentDisposition fileDetail) {\r\n            JSONObject response = new JSONObject();\r\n            JSONObject jobj = new JSONObject();\r\n            if (uploadedInputStream == null) {\r\n                response = StringUtil.getErrorResponse(&quot;eleave&quot;, jobj, null);\r\n            } else {\r\n                try {\r\n                    response.put(Constants.RES_success, true);\r\n                    response = companyService.uploadAttachement(uploadedInputStream, fileDetail);\r\n                } catch (JSONException ex) {\r\n                    _logger.log(Level.SEVERE, &quot;CompanyRestService.changePassword&quot;, ex.getMessage());\r\n                    response = StringUtil.getErrorResponse(&quot;e01&quot;, jobj, ex.getMessage());\r\n                } catch (Exception ex) {\r\n                    _logger.log(Level.SEVERE, &quot;CompanyRestService.changePassword&quot;, ex.getMessage());\r\n                    response = StringUtil.getErrorResponse(&quot;erp25&quot;, jobj, ex.getMessage());\r\n                }\r\n            }\r\n            return Response.status(200).entity(response.toString()).build();\r\n        }\r\n\r\nI have tried as below screenshot but it&#39;s throwing an exception\r\n![Img][1]\r\n\r\n**Response:**\r\n~~~\r\norg.glassfish.jersey.server.model.ModelValidationException: \r\nValidation of the application resource model has failed during application initialization.\r\n\r\n[[FATAL] No injection source found for a parameter of type public javax.ws.rs.core.Response \r\ncom.krawler.eleave.ws.rest.v1.CompanyRestService.uploadFile(java.io.InputStream,com.sun.jersey.core.header.FormDataContentDisposition) at index 0.; \r\nsource=&#39;ResourceMethod{httpMethod=POST, consumedTypes=[multipart/form-data], \r\nproducedTypes=[], suspended=false, suspendTimeout=0, \r\nsuspendTimeoutUnit=MILLISECONDS, \r\ninvocable=Invocable{handler=ClassBasedMethodHandler{handlerClass=class com.krawler.eleave.ws.rest.v1.CompanyRestService, \r\nhandlerConstructors=[org.glassfish.jersey.server.model.HandlerConstructor@7aa399f8]}, \r\nhandlingMethod=public javax.ws.rs.core.Response \r\ncom.krawler.eleave.ws.rest.v1.CompanyRestService.uploadFile(java.io.InputStream,com.sun.jersey.core.header.FormDataContentDisposition), \r\nparameters=[Parameter [type=class java.io.InputStream, source=attachment, defaultValue=null], \r\nParameter [type=class com.sun.jersey.core.header.FormDataContentDisposition, source=attachment, defaultValue=null]], \r\nresponseType=class javax.ws.rs.core.Response}, nameBindings=[]}&#39;]\r\n~~~\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yX3tq.png\r\n\r\nDependancies:\r\n\r\n    &lt;dependencies&gt;&lt;dependency&gt;&lt;groupId&gt;cglib&lt;/groupId&gt;&lt;artifactId&gt;cglib-nodep&lt;/artifactId&gt;&lt;version&gt;3.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;asm&lt;/groupId&gt;&lt;artifactId&gt;asm&lt;/artifactId&gt;&lt;version&gt;3.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;com.mycompany&lt;/groupId&gt;&lt;artifactId&gt;poi-3.5-beta6&lt;/artifactId&gt;&lt;version&gt;20090622&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;javax.activation&lt;/groupId&gt;&lt;artifactId&gt;activation&lt;/artifactId&gt;&lt;version&gt;1.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;backport-util-concurrent&lt;/groupId&gt;&lt;artifactId&gt;backport-util-concurrent&lt;/artifactId&gt;&lt;version&gt;3.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;commons-codec&lt;/groupId&gt;&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;&lt;version&gt;1.3&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;commons-collections&lt;/groupId&gt;&lt;artifactId&gt;commons-collections&lt;/artifactId&gt;&lt;version&gt;3.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;commons-digester&lt;/groupId&gt;&lt;artifactId&gt;commons-digester&lt;/artifactId&gt;&lt;version&gt;2.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;&lt;version&gt;1.2.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;commons-httpclient&lt;/groupId&gt;&lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;&lt;version&gt;3.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;commons-io&lt;/groupId&gt;&lt;artifactId&gt;commons-io&lt;/artifactId&gt;&lt;version&gt;1.4&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;commons-lang&lt;/groupId&gt;&lt;artifactId&gt;commons-lang&lt;/artifactId&gt;&lt;version&gt;2.4&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;commons-logging&lt;/groupId&gt;&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;&lt;version&gt;1.1.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;commons-logging&lt;/groupId&gt;&lt;artifactId&gt;commons-logging-api&lt;/artifactId&gt;&lt;version&gt;1.0.4&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;commons-pool&lt;/groupId&gt;&lt;artifactId&gt;commons-pool&lt;/artifactId&gt;&lt;version&gt;1.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;net.sf.ezmorph&lt;/groupId&gt;&lt;artifactId&gt;ezmorph&lt;/artifactId&gt;&lt;version&gt;1.0.4&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;net.sf.flexjson&lt;/groupId&gt;&lt;artifactId&gt;flexjson&lt;/artifactId&gt;&lt;version&gt;3.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;ch.ethz.ganymed&lt;/groupId&gt;&lt;artifactId&gt;ganymed-ssh2&lt;/artifactId&gt;&lt;version&gt;build210&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.mnode.ical4j&lt;/groupId&gt;&lt;artifactId&gt;ical4j&lt;/artifactId&gt;&lt;version&gt;1.0.3&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;com.lowagie&lt;/groupId&gt;&lt;artifactId&gt;itext&lt;/artifactId&gt;&lt;version&gt;2.1.7&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;oro&lt;/groupId&gt;&lt;artifactId&gt;oro&lt;/artifactId&gt;&lt;version&gt;2.0.8&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;&lt;artifactId&gt;jasperreports&lt;/artifactId&gt;&lt;version&gt;4.1.2&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;com.octo.captcha&lt;/groupId&gt;&lt;artifactId&gt;jcaptcha-all&lt;/artifactId&gt;&lt;version&gt;1.0-RC6&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;jdom&lt;/groupId&gt;&lt;artifactId&gt;jdom&lt;/artifactId&gt;&lt;version&gt;1.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;&lt;artifactId&gt;jetty&lt;/artifactId&gt;&lt;version&gt;6.1.6&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;&lt;artifactId&gt;jetty-util&lt;/artifactId&gt;&lt;version&gt;6.1.6&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;com.uwyn&lt;/groupId&gt;&lt;artifactId&gt;jhighlight&lt;/artifactId&gt;&lt;version&gt;1.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;jmimemagic&lt;/groupId&gt;&lt;artifactId&gt;jmimemagic&lt;/artifactId&gt;&lt;version&gt;0.0.4a&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;joda-time&lt;/groupId&gt;&lt;artifactId&gt;joda-time&lt;/artifactId&gt;&lt;version&gt;2.4&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;javax.servlet&lt;/groupId&gt;&lt;artifactId&gt;jstl&lt;/artifactId&gt;&lt;version&gt;1.2&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;junit&lt;/groupId&gt;&lt;artifactId&gt;junit&lt;/artifactId&gt;&lt;version&gt;4.11&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;com.mycompany&lt;/groupId&gt;&lt;artifactId&gt;KrawlerJsonLib&lt;/artifactId&gt;&lt;version&gt;1.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;com.mycompany&lt;/groupId&gt;&lt;artifactId&gt;krawlersso&lt;/artifactId&gt;&lt;version&gt;1.2&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;log4j&lt;/groupId&gt;&lt;artifactId&gt;log4j&lt;/artifactId&gt;&lt;version&gt;1.2.12&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;&lt;artifactId&gt;lucene-core&lt;/artifactId&gt;&lt;version&gt;1.9.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;javax.mail&lt;/groupId&gt;&lt;artifactId&gt;mail&lt;/artifactId&gt;&lt;version&gt;1.4&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;mysql&lt;/groupId&gt;&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;&lt;version&gt;5.1.46&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.tmatesoft.svnkit&lt;/groupId&gt;&lt;artifactId&gt;svnkit&lt;/artifactId&gt;&lt;version&gt;1.3.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;&lt;artifactId&gt;paypal-core&lt;/artifactId&gt;&lt;version&gt;1.4.3&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;pdfbox&lt;/groupId&gt;&lt;artifactId&gt;pdfbox&lt;/artifactId&gt;&lt;version&gt;0.7.3&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;&lt;artifactId&gt;poi&lt;/artifactId&gt;&lt;version&gt;3.7&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;&lt;artifactId&gt;poi-contrib&lt;/artifactId&gt;&lt;version&gt;3.7-beta3&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;&lt;version&gt;3.7&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;&lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;&lt;version&gt;3.7&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;&lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;&lt;version&gt;3.7&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;rome&lt;/groupId&gt;&lt;artifactId&gt;rome&lt;/artifactId&gt;&lt;version&gt;1.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;taglibs&lt;/groupId&gt;&lt;artifactId&gt;standard&lt;/artifactId&gt;&lt;version&gt;1.1.2&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.tuckey&lt;/groupId&gt;&lt;artifactId&gt;urlrewritefilter&lt;/artifactId&gt;&lt;version&gt;3.2.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;xerces&lt;/groupId&gt;&lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;&lt;version&gt;2.8.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;&lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;&lt;version&gt;2.6.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;xom&lt;/groupId&gt;&lt;artifactId&gt;xom&lt;/artifactId&gt;&lt;version&gt;1.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;&lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;&lt;version&gt;${jersey-version}&lt;/version&gt;&lt;exclusions&gt;&lt;exclusion&gt;&lt;groupId&gt;org.glassfish.hk2.external&lt;/groupId&gt;&lt;artifactId&gt;asm-all-repackaged&lt;/artifactId&gt;&lt;/exclusion&gt;&lt;exclusion&gt;&lt;groupId&gt;org.glassfish.hk2.external&lt;/groupId&gt;&lt;artifactId&gt;cglib&lt;/artifactId&gt;&lt;/exclusion&gt;&lt;/exclusions&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;javax.servlet&lt;/groupId&gt;&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;&lt;version&gt;3.1.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;&lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;&lt;version&gt;${jersey-version}&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;&lt;artifactId&gt;jjwt&lt;/artifactId&gt;&lt;version&gt;0.6.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;&lt;artifactId&gt;json-simple&lt;/artifactId&gt;&lt;version&gt;1.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;&lt;artifactId&gt;jersey-media-multipart&lt;/artifactId&gt;&lt;version&gt;${jersey-version}&lt;/version&gt;&lt;/dependency&gt;&lt;/dependencies&gt;","title":"How to POST a multipart/form data with files in a REST API","body":"<p>I am trying to write a REST API to upload an attachment. I have written the API. But when I am trying to call from POSTMAN, It's throwing an exception.\nREST API:</p>\n\n<pre><code> @Consumes(MediaType.MULTIPART_FORM_DATA)\n    public Response uploadFile(\n            @FormDataParam(\"attachment\") InputStream uploadedInputStream,\n            @FormDataParam(\"attachment\") FormDataContentDisposition fileDetail) {\n        JSONObject response = new JSONObject();\n        JSONObject jobj = new JSONObject();\n        if (uploadedInputStream == null) {\n            response = StringUtil.getErrorResponse(\"eleave\", jobj, null);\n        } else {\n            try {\n                response.put(Constants.RES_success, true);\n                response = companyService.uploadAttachement(uploadedInputStream, fileDetail);\n            } catch (JSONException ex) {\n                _logger.log(Level.SEVERE, \"CompanyRestService.changePassword\", ex.getMessage());\n                response = StringUtil.getErrorResponse(\"e01\", jobj, ex.getMessage());\n            } catch (Exception ex) {\n                _logger.log(Level.SEVERE, \"CompanyRestService.changePassword\", ex.getMessage());\n                response = StringUtil.getErrorResponse(\"erp25\", jobj, ex.getMessage());\n            }\n        }\n        return Response.status(200).entity(response.toString()).build();\n    }\n</code></pre>\n\n<p>I have tried as below screenshot but it's throwing an exception\n<img src=\"https://i.stack.imgur.com/yX3tq.png\" alt=\"Img\"></p>\n\n<p><strong>Response:</strong></p>\n\n<pre><code>org.glassfish.jersey.server.model.ModelValidationException: \nValidation of the application resource model has failed during application initialization.\n\n[[FATAL] No injection source found for a parameter of type public javax.ws.rs.core.Response \ncom.krawler.eleave.ws.rest.v1.CompanyRestService.uploadFile(java.io.InputStream,com.sun.jersey.core.header.FormDataContentDisposition) at index 0.; \nsource='ResourceMethod{httpMethod=POST, consumedTypes=[multipart/form-data], \nproducedTypes=[], suspended=false, suspendTimeout=0, \nsuspendTimeoutUnit=MILLISECONDS, \ninvocable=Invocable{handler=ClassBasedMethodHandler{handlerClass=class com.krawler.eleave.ws.rest.v1.CompanyRestService, \nhandlerConstructors=[org.glassfish.jersey.server.model.HandlerConstructor@7aa399f8]}, \nhandlingMethod=public javax.ws.rs.core.Response \ncom.krawler.eleave.ws.rest.v1.CompanyRestService.uploadFile(java.io.InputStream,com.sun.jersey.core.header.FormDataContentDisposition), \nparameters=[Parameter [type=class java.io.InputStream, source=attachment, defaultValue=null], \nParameter [type=class com.sun.jersey.core.header.FormDataContentDisposition, source=attachment, defaultValue=null]], \nresponseType=class javax.ws.rs.core.Response}, nameBindings=[]}']\n</code></pre>\n\n<p>Dependancies:</p>\n\n<pre><code>&lt;dependencies&gt;&lt;dependency&gt;&lt;groupId&gt;cglib&lt;/groupId&gt;&lt;artifactId&gt;cglib-nodep&lt;/artifactId&gt;&lt;version&gt;3.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;asm&lt;/groupId&gt;&lt;artifactId&gt;asm&lt;/artifactId&gt;&lt;version&gt;3.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;com.mycompany&lt;/groupId&gt;&lt;artifactId&gt;poi-3.5-beta6&lt;/artifactId&gt;&lt;version&gt;20090622&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;javax.activation&lt;/groupId&gt;&lt;artifactId&gt;activation&lt;/artifactId&gt;&lt;version&gt;1.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;backport-util-concurrent&lt;/groupId&gt;&lt;artifactId&gt;backport-util-concurrent&lt;/artifactId&gt;&lt;version&gt;3.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;commons-codec&lt;/groupId&gt;&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;&lt;version&gt;1.3&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;commons-collections&lt;/groupId&gt;&lt;artifactId&gt;commons-collections&lt;/artifactId&gt;&lt;version&gt;3.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;commons-digester&lt;/groupId&gt;&lt;artifactId&gt;commons-digester&lt;/artifactId&gt;&lt;version&gt;2.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;&lt;version&gt;1.2.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;commons-httpclient&lt;/groupId&gt;&lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;&lt;version&gt;3.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;commons-io&lt;/groupId&gt;&lt;artifactId&gt;commons-io&lt;/artifactId&gt;&lt;version&gt;1.4&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;commons-lang&lt;/groupId&gt;&lt;artifactId&gt;commons-lang&lt;/artifactId&gt;&lt;version&gt;2.4&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;commons-logging&lt;/groupId&gt;&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;&lt;version&gt;1.1.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;commons-logging&lt;/groupId&gt;&lt;artifactId&gt;commons-logging-api&lt;/artifactId&gt;&lt;version&gt;1.0.4&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;commons-pool&lt;/groupId&gt;&lt;artifactId&gt;commons-pool&lt;/artifactId&gt;&lt;version&gt;1.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;net.sf.ezmorph&lt;/groupId&gt;&lt;artifactId&gt;ezmorph&lt;/artifactId&gt;&lt;version&gt;1.0.4&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;net.sf.flexjson&lt;/groupId&gt;&lt;artifactId&gt;flexjson&lt;/artifactId&gt;&lt;version&gt;3.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;ch.ethz.ganymed&lt;/groupId&gt;&lt;artifactId&gt;ganymed-ssh2&lt;/artifactId&gt;&lt;version&gt;build210&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.mnode.ical4j&lt;/groupId&gt;&lt;artifactId&gt;ical4j&lt;/artifactId&gt;&lt;version&gt;1.0.3&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;com.lowagie&lt;/groupId&gt;&lt;artifactId&gt;itext&lt;/artifactId&gt;&lt;version&gt;2.1.7&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;oro&lt;/groupId&gt;&lt;artifactId&gt;oro&lt;/artifactId&gt;&lt;version&gt;2.0.8&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;&lt;artifactId&gt;jasperreports&lt;/artifactId&gt;&lt;version&gt;4.1.2&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;com.octo.captcha&lt;/groupId&gt;&lt;artifactId&gt;jcaptcha-all&lt;/artifactId&gt;&lt;version&gt;1.0-RC6&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;jdom&lt;/groupId&gt;&lt;artifactId&gt;jdom&lt;/artifactId&gt;&lt;version&gt;1.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;&lt;artifactId&gt;jetty&lt;/artifactId&gt;&lt;version&gt;6.1.6&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;&lt;artifactId&gt;jetty-util&lt;/artifactId&gt;&lt;version&gt;6.1.6&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;com.uwyn&lt;/groupId&gt;&lt;artifactId&gt;jhighlight&lt;/artifactId&gt;&lt;version&gt;1.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;jmimemagic&lt;/groupId&gt;&lt;artifactId&gt;jmimemagic&lt;/artifactId&gt;&lt;version&gt;0.0.4a&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;joda-time&lt;/groupId&gt;&lt;artifactId&gt;joda-time&lt;/artifactId&gt;&lt;version&gt;2.4&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;javax.servlet&lt;/groupId&gt;&lt;artifactId&gt;jstl&lt;/artifactId&gt;&lt;version&gt;1.2&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;junit&lt;/groupId&gt;&lt;artifactId&gt;junit&lt;/artifactId&gt;&lt;version&gt;4.11&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;com.mycompany&lt;/groupId&gt;&lt;artifactId&gt;KrawlerJsonLib&lt;/artifactId&gt;&lt;version&gt;1.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;com.mycompany&lt;/groupId&gt;&lt;artifactId&gt;krawlersso&lt;/artifactId&gt;&lt;version&gt;1.2&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;log4j&lt;/groupId&gt;&lt;artifactId&gt;log4j&lt;/artifactId&gt;&lt;version&gt;1.2.12&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.apache.lucene&lt;/groupId&gt;&lt;artifactId&gt;lucene-core&lt;/artifactId&gt;&lt;version&gt;1.9.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;javax.mail&lt;/groupId&gt;&lt;artifactId&gt;mail&lt;/artifactId&gt;&lt;version&gt;1.4&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;mysql&lt;/groupId&gt;&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;&lt;version&gt;5.1.46&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.tmatesoft.svnkit&lt;/groupId&gt;&lt;artifactId&gt;svnkit&lt;/artifactId&gt;&lt;version&gt;1.3.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;&lt;artifactId&gt;paypal-core&lt;/artifactId&gt;&lt;version&gt;1.4.3&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;pdfbox&lt;/groupId&gt;&lt;artifactId&gt;pdfbox&lt;/artifactId&gt;&lt;version&gt;0.7.3&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;&lt;artifactId&gt;poi&lt;/artifactId&gt;&lt;version&gt;3.7&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;&lt;artifactId&gt;poi-contrib&lt;/artifactId&gt;&lt;version&gt;3.7-beta3&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;&lt;version&gt;3.7&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;&lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;&lt;version&gt;3.7&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;&lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;&lt;version&gt;3.7&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;rome&lt;/groupId&gt;&lt;artifactId&gt;rome&lt;/artifactId&gt;&lt;version&gt;1.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;taglibs&lt;/groupId&gt;&lt;artifactId&gt;standard&lt;/artifactId&gt;&lt;version&gt;1.1.2&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.tuckey&lt;/groupId&gt;&lt;artifactId&gt;urlrewritefilter&lt;/artifactId&gt;&lt;version&gt;3.2.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;xerces&lt;/groupId&gt;&lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;&lt;version&gt;2.8.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;&lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;&lt;version&gt;2.6.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;xom&lt;/groupId&gt;&lt;artifactId&gt;xom&lt;/artifactId&gt;&lt;version&gt;1.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;&lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;&lt;version&gt;${jersey-version}&lt;/version&gt;&lt;exclusions&gt;&lt;exclusion&gt;&lt;groupId&gt;org.glassfish.hk2.external&lt;/groupId&gt;&lt;artifactId&gt;asm-all-repackaged&lt;/artifactId&gt;&lt;/exclusion&gt;&lt;exclusion&gt;&lt;groupId&gt;org.glassfish.hk2.external&lt;/groupId&gt;&lt;artifactId&gt;cglib&lt;/artifactId&gt;&lt;/exclusion&gt;&lt;/exclusions&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;javax.servlet&lt;/groupId&gt;&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;&lt;version&gt;3.1.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;&lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;&lt;version&gt;${jersey-version}&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;&lt;artifactId&gt;jjwt&lt;/artifactId&gt;&lt;version&gt;0.6.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;&lt;artifactId&gt;json-simple&lt;/artifactId&gt;&lt;version&gt;1.1&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt;&lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;&lt;artifactId&gt;jersey-media-multipart&lt;/artifactId&gt;&lt;version&gt;${jersey-version}&lt;/version&gt;&lt;/dependency&gt;&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","xor","inverse"],"answers":[{"tags":[],"owner":{"account_id":89210,"reputation":37428,"user_id":246263,"accept_rate":73,"display_name":"Veger"},"comment_count":0,"down_vote_count":0,"up_vote_count":336,"is_accepted":true,"score":336,"last_activity_date":1357914737,"creation_date":1357913659,"answer_id":14279946,"question_id":14279866,"body_markdown":"The inverse is XOR!\r\n\r\nIf you have:\r\n\r\n    c = a^b;\r\n\r\nYou can get `a` or `b` back if you have the other value available:\r\n\r\n    a = c^b; // or b^c (order is not important)\r\n    b = c^a; // or a^c\r\n\r\nFor example if `a = 5`, `b = 3` (and thus `c = 6` as you mentioned) you get:\r\n\r\n    b=0011 (3)            a=0101 (5)\r\n    c=0110 (6) XOR   or   c=0110 (6) XOR\r\n    ----------            ----------\r\n    a=0101 (5)            b=0011 (3)","title":"What is inverse function to XOR?","body":"<p>The inverse is XOR!</p>\n\n<p>If you have:</p>\n\n<pre><code>c = a^b;\n</code></pre>\n\n<p>You can get <code>a</code> or <code>b</code> back if you have the other value available:</p>\n\n<pre><code>a = c^b; // or b^c (order is not important)\nb = c^a; // or a^c\n</code></pre>\n\n<p>For example if <code>a = 5</code>, <code>b = 3</code> (and thus <code>c = 6</code> as you mentioned) you get:</p>\n\n<pre><code>b=0011 (3)            a=0101 (5)\nc=0110 (6) XOR   or   c=0110 (6) XOR\n----------            ----------\na=0101 (5)            b=0011 (3)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14056350,"reputation":1187,"user_id":10153574,"display_name":"Jerry An"},"score":9,"creation_date":1612667609,"post_id":66072618,"comment_id":116837398,"body_markdown":"Just like you, the leetcode a programming Treasure","body":"Just like you, the leetcode a programming Treasure"}],"tags":[],"owner":{"account_id":8220479,"reputation":615,"user_id":6185191,"display_name":"Neel Alex"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1612574080,"creation_date":1612573759,"answer_id":66072618,"question_id":14279866,"body_markdown":"The inverse of XOR is XOR itself. &lt;br&gt;\r\nI came across a similar problem on leetcode. [Leetcode-1720][1] &lt;br&gt;\n\r\n\r\n  [1]: https://leetcode.com/problems/decode-xored-array/","title":"What is inverse function to XOR?","body":"<p>The inverse of XOR is XOR itself. <br>\nI came across a similar problem on leetcode. <a href=\"https://leetcode.com/problems/decode-xored-array/\" rel=\"noreferrer\">Leetcode-1720</a> <br></p>\n"},{"tags":[],"owner":{"account_id":8860450,"reputation":199,"user_id":6616810,"display_name":"Himanshu Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1640301703,"creation_date":1640270778,"answer_id":70463686,"question_id":14279866,"body_markdown":"The inverse of XOR is XOR itself. For example if you take this operation :\r\n\r\n    3 ^ 4 = 7\r\n\r\nThe following statements are true :\r\n\r\n    4 ^ 7 = 3\r\n\r\n    3 ^ 7 = 4\r\n\r\nHopefully, this helps.\r\n\r\n","title":"What is inverse function to XOR?","body":"<p>The inverse of XOR is XOR itself. For example if you take this operation :</p>\n<pre><code>3 ^ 4 = 7\n</code></pre>\n<p>The following statements are true :</p>\n<pre><code>4 ^ 7 = 3\n\n3 ^ 7 = 4\n</code></pre>\n<p>Hopefully, this helps.</p>\n"},{"tags":[],"owner":{"account_id":23565699,"reputation":51,"user_id":17606457,"display_name":"aryan183"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671993101,"creation_date":1671993101,"answer_id":74915202,"question_id":14279866,"body_markdown":"Inverse of a XOR is XOR itself. \r\n\r\nFor better reference and understanding u can refer to [LeetCode 2433][1].\r\n\r\n\r\n  [1]: https://leetcode.com/contest/weekly-contest-314/problems/find-the-original-array-of-prefix-xor/","title":"What is inverse function to XOR?","body":"<p>Inverse of a XOR is XOR itself.</p>\n<p>For better reference and understanding u can refer to <a href=\"https://leetcode.com/contest/weekly-contest-314/problems/find-the-original-array-of-prefix-xor/\" rel=\"nofollow noreferrer\">LeetCode 2433</a>.</p>\n"}],"owner":{"account_id":1667376,"reputation":1981,"user_id":1534522,"accept_rate":80,"display_name":"A.N.R.I"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159060,"favorite_count":0,"down_vote_count":1,"up_vote_count":168,"accepted_answer_id":14279946,"answer_count":4,"score":167,"last_activity_date":1697502798,"creation_date":1357913419,"question_id":14279866,"body_markdown":"There is XOR function in Java - `a^b`\r\n\r\nFor exemple: `5^3 = 6`\r\n\r\nCan you tell me inverse function? If I have `6` and `3` can i get range of numbers which include number `5`?","title":"What is inverse function to XOR?","body":"<p>There is XOR function in Java - <code>a^b</code></p>\n\n<p>For exemple: <code>5^3 = 6</code></p>\n\n<p>Can you tell me inverse function? If I have <code>6</code> and <code>3</code> can i get range of numbers which include number <code>5</code>?</p>\n"},{"tags":["java","r","macos"],"comments":[{"owner":{"account_id":17494217,"reputation":9582,"user_id":12685768,"display_name":"Mikael Jagan"},"score":1,"creation_date":1697501683,"post_id":77305239,"comment_id":136285191,"body_markdown":"Have you followed the platform-specific instructions in the installation manual? https://stat.ethz.ch/R-manual/R-patched/doc/manual/R-admin.html#Java-_0028macOS_0029","body":"Have you followed the platform-specific instructions in the installation manual? <a href=\"https://stat.ethz.ch/R-manual/R-patched/doc/manual/R-admin.html#Java-_0028macOS_0029\" rel=\"nofollow noreferrer\">stat.ethz.ch/R-manual/R-patched/doc/manual/&hellip;</a>"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1697505746,"post_id":77305239,"comment_id":136285511,"body_markdown":"Do not use images for code or logs in Stackoverflow.","body":"Do not use images for code or logs in Stackoverflow."}],"owner":{"account_id":29687022,"reputation":1,"user_id":22752309,"display_name":"sweetykaki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697498415,"creation_date":1697494607,"question_id":77305239,"body_markdown":"I wanna reconfigure my jdk, so I installed jdk from https://www.oracle.com/. \r\n\r\nHowever, when I ran `sudo  R CMD javareconf` in my mac terminal, here was the error: \r\n\r\n&gt;&#39;jni.h&#39; file not found. \r\n\r\nHow can i solve the problem? I am so confused.\r\n\r\n![enter image description here](https://i.stack.imgur.com/ZN342.png)\r\n\r\nmy laptop is mac pro M2, and I have installed the java and jdk. The java version is java version &quot;1.8.0_381&quot;.  ","title":"the error about run sudo R CMD javareconf","body":"<p>I wanna reconfigure my jdk, so I installed jdk from <a href=\"https://www.oracle.com/\" rel=\"nofollow noreferrer\">https://www.oracle.com/</a>.</p>\n<p>However, when I ran <code>sudo  R CMD javareconf</code> in my mac terminal, here was the error:</p>\n<blockquote>\n<p>'jni.h' file not found.</p>\n</blockquote>\n<p>How can i solve the problem? I am so confused.</p>\n<p><img src=\"https://i.stack.imgur.com/ZN342.png\" alt=\"enter image description here\" /></p>\n<p>my laptop is mac pro M2, and I have installed the java and jdk. The java version is java version &quot;1.8.0_381&quot;.</p>\n"},{"tags":["java","spring-boot","automation"],"comments":[{"owner":{"account_id":4708131,"reputation":374,"user_id":3809570,"display_name":"Vishwa Pratap"},"score":0,"creation_date":1602781235,"post_id":60572396,"comment_id":113835719,"body_markdown":"Karthikeyan  did you get the solution for this question, i am also stuck in the same type of problem , if you find the solution then please let me know..","body":"Karthikeyan  did you get the solution for this question, i am also stuck in the same type of problem , if you find the solution then please let me know.."}],"answers":[{"comments":[{"owner":{"account_id":73540,"reputation":12600,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"score":1,"creation_date":1583931680,"post_id":60573397,"comment_id":107277277,"body_markdown":"I&#39;ve written my own library for faking objects: https://www.mockneat.com/tutorial/#composing-objects .\n\nThe idea behind it is to populate the objects with data that is &quot;meaningful&quot; and based on a list of given business constraints.","body":"I&#39;ve written my own library for faking objects: <a href=\"https://www.mockneat.com/tutorial/#composing-objects\" rel=\"nofollow noreferrer\">mockneat.com/tutorial/#composing-objects</a> .  The idea behind it is to populate the objects with data that is &quot;meaningful&quot; and based on a list of given business constraints."},{"owner":{"account_id":4708131,"reputation":374,"user_id":3809570,"display_name":"Vishwa Pratap"},"score":0,"creation_date":1602758903,"post_id":60573397,"comment_id":113824292,"body_markdown":"@llya Lysenko does it possible to generate Json/ string from Json Schema without generating POJO , or any java library which could help me generate json from json schema","body":"@llya Lysenko does it possible to generate Json/ string from Json Schema without generating POJO , or any java library which could help me generate json from json schema"}],"tags":[],"owner":{"account_id":447134,"reputation":1792,"user_id":840584,"display_name":"Ilya Lysenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583541988,"creation_date":1583541988,"answer_id":60573397,"question_id":60572396,"body_markdown":"You can generate fake java-objects and then map them to JSON.\r\n\r\n**POJOs**\r\n\r\nIf you already have the POJOs matching the schema, then we can skip this step.\r\nIf no, to generate a POJO from the schema, for example, can be used this library:\r\n[jsonschema2pojo][1].\r\n\r\n**Fake objects**\r\n\r\nGenerating of objects with fake data can be done with a special library, some of them are listed here:\r\n\r\n - [easy-random][3] \r\n - [podam][4]\r\n - [java-faker][2] \r\n\r\n**Generating JSON**\r\n\r\nIt&#39;s prettry simple and can be done with Jackson:\r\n\r\n```java\r\nObjectMapper objectMapper = new ObjectMapper();\r\nObjectWriter prettyPrinter = objectMapper.writerWithDefaultPrettyPrinter();\r\nString json = prettyPrinter.writeValueAsString(yourFakeObject);\r\n```\r\n\r\n  [1]: https://github.com/joelittlejohn/jsonschema2pojo\r\n  [2]: https://github.com/DiUS/java-faker\r\n  [3]: https://github.com/j-easy/easy-random\r\n  [4]: https://mtedone.github.io/podam/","title":"How to generate json data from Json Schema Programmatically in Java","body":"<p>You can generate fake java-objects and then map them to JSON.</p>\n\n<p><strong>POJOs</strong></p>\n\n<p>If you already have the POJOs matching the schema, then we can skip this step.\nIf no, to generate a POJO from the schema, for example, can be used this library:\n<a href=\"https://github.com/joelittlejohn/jsonschema2pojo\" rel=\"nofollow noreferrer\">jsonschema2pojo</a>.</p>\n\n<p><strong>Fake objects</strong></p>\n\n<p>Generating of objects with fake data can be done with a special library, some of them are listed here:</p>\n\n<ul>\n<li><a href=\"https://github.com/j-easy/easy-random\" rel=\"nofollow noreferrer\">easy-random</a> </li>\n<li><a href=\"https://mtedone.github.io/podam/\" rel=\"nofollow noreferrer\">podam</a></li>\n<li><a href=\"https://github.com/DiUS/java-faker\" rel=\"nofollow noreferrer\">java-faker</a> </li>\n</ul>\n\n<p><strong>Generating JSON</strong></p>\n\n<p>It's prettry simple and can be done with Jackson:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper objectMapper = new ObjectMapper();\nObjectWriter prettyPrinter = objectMapper.writerWithDefaultPrettyPrinter();\nString json = prettyPrinter.writeValueAsString(yourFakeObject);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":272614,"reputation":1471,"user_id":563798,"accept_rate":100,"display_name":"Jignesh Dhua"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615147250,"creation_date":1615147250,"answer_id":66520839,"question_id":60572396,"body_markdown":"If you have json schema then you can directly generate a sample JSON message from it.\r\n\r\nhttps://github.com/jignesh-dhua/json-generator","title":"How to generate json data from Json Schema Programmatically in Java","body":"<p>If you have json schema then you can directly generate a sample JSON message from it.</p>\n<p><a href=\"https://github.com/jignesh-dhua/json-generator\" rel=\"nofollow noreferrer\">https://github.com/jignesh-dhua/json-generator</a></p>\n"}],"owner":{"account_id":16180936,"reputation":125,"user_id":11682494,"display_name":"Karthikeyan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9515,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697497505,"creation_date":1583533590,"question_id":60572396,"body_markdown":"I am trying to create Body-parameter(JSON) for my POST Api , which is a JSON request . All I have is the JSON Schema . I am trying to come up with a list of different JSON test data covering Positive and negative flows for it .\r\n\r\nIs there any option to generate / create the JSON data programmatic using Java ? . I have attached a small Json schema (just for understanding purpose) but my actual schema is more complicated with lot of Array&#39;s and Nested Json&#39;s . \r\n\r\nMy Json Schema :\r\n\r\n    {\r\n    &quot;$schema&quot;: &quot;http://json-schema.org/draft-07/schema&quot;,\r\n    &quot;$id&quot;: &quot;http://example.com/example.json&quot;,\r\n    &quot;type&quot;: &quot;object&quot;,\r\n    &quot;title&quot;: &quot;The Root Schema&quot;,\r\n    &quot;description&quot;: &quot;The root schema comprises the entire JSON document.&quot;,\r\n    &quot;required&quot;: [\r\n        &quot;FirstName&quot;,\r\n        &quot;LastName&quot;,\r\n        &quot;Age&quot;,\r\n        &quot;Interest&quot;\r\n    ],\r\n    &quot;properties&quot;: {\r\n        &quot;FirstName&quot;: {\r\n            &quot;$id&quot;: &quot;#/properties/FirstName&quot;,\r\n            &quot;type&quot;: &quot;string&quot;,\r\n            &quot;title&quot;: &quot;The Firstname Schema&quot;,\r\n            &quot;description&quot;: &quot;An explanation about the purpose of this instance.&quot;,\r\n            &quot;default&quot;: &quot;&quot;,\r\n            &quot;examples&quot;: [\r\n                &quot;Vijay&quot;\r\n            ]\r\n        },\r\n        &quot;LastName&quot;: {\r\n            &quot;$id&quot;: &quot;#/properties/LastName&quot;,\r\n            &quot;type&quot;: &quot;string&quot;,\r\n            &quot;title&quot;: &quot;The Lastname Schema&quot;,\r\n            &quot;description&quot;: &quot;An explanation about the purpose of this instance.&quot;,\r\n            &quot;default&quot;: &quot;&quot;,\r\n            &quot;examples&quot;: [\r\n                &quot;Karthik&quot;\r\n            ]\r\n        },\r\n        &quot;Age&quot;: {\r\n            &quot;$id&quot;: &quot;#/properties/Age&quot;,\r\n            &quot;type&quot;: &quot;integer&quot;,\r\n            &quot;title&quot;: &quot;The Age Schema&quot;,\r\n            &quot;description&quot;: &quot;An explanation about the purpose of this instance.&quot;,\r\n            &quot;default&quot;: 0,\r\n            &quot;examples&quot;: [\r\n                30\r\n            ]\r\n        },\r\n        &quot;Interest&quot;: {\r\n            &quot;$id&quot;: &quot;#/properties/Interest&quot;,\r\n            &quot;type&quot;: &quot;array&quot;,\r\n            &quot;title&quot;: &quot;The Interest Schema&quot;,\r\n            &quot;description&quot;: &quot;An explanation about the purpose of this instance.&quot;,\r\n            &quot;default&quot;: [],\r\n            &quot;items&quot;: {\r\n                &quot;$id&quot;: &quot;#/properties/Interest/items&quot;,\r\n                &quot;type&quot;: &quot;string&quot;,\r\n                &quot;title&quot;: &quot;The Items Schema&quot;,\r\n                &quot;description&quot;: &quot;An explanation about the purpose of this instance.&quot;,\r\n                &quot;default&quot;: &quot;&quot;,\r\n                &quot;examples&quot;: [\r\n                    &quot;Food&quot;,\r\n                    &quot;movie&quot;,\r\n                    &quot;Learning&quot;,\r\n                    &quot;VideoGames&quot;\r\n                ]\r\n            }\r\n        }\r\n    }\r\n}`enter code here`\r\n\r\nMy TestData looks like :\r\n\r\n     {\r\n    &quot;FirstName&quot;:&quot;Vivi&quot;,\r\n    &quot;LastName&quot;:&quot;Karrri&quot;,\r\n    &quot;Age&quot;:30,\r\n    &quot;Interest&quot;:[&quot;Food&quot;,&quot;movie&quot;,&quot;Learning&quot;,&quot;VideoGames&quot;]\r\n    }\r\n\r\nAny suggestions how can we achive this  ? \r\nNote : I am using Springboot and I have complete POJO for the request object \r\n","title":"How to generate json data from Json Schema Programmatically in Java","body":"<p>I am trying to create Body-parameter(JSON) for my POST Api , which is a JSON request . All I have is the JSON Schema . I am trying to come up with a list of different JSON test data covering Positive and negative flows for it .</p>\n\n<p>Is there any option to generate / create the JSON data programmatic using Java ? . I have attached a small Json schema (just for understanding purpose) but my actual schema is more complicated with lot of Array's and Nested Json's . </p>\n\n<p>My Json Schema :</p>\n\n<pre><code>{\n\"$schema\": \"http://json-schema.org/draft-07/schema\",\n\"$id\": \"http://example.com/example.json\",\n\"type\": \"object\",\n\"title\": \"The Root Schema\",\n\"description\": \"The root schema comprises the entire JSON document.\",\n\"required\": [\n    \"FirstName\",\n    \"LastName\",\n    \"Age\",\n    \"Interest\"\n],\n\"properties\": {\n    \"FirstName\": {\n        \"$id\": \"#/properties/FirstName\",\n        \"type\": \"string\",\n        \"title\": \"The Firstname Schema\",\n        \"description\": \"An explanation about the purpose of this instance.\",\n        \"default\": \"\",\n        \"examples\": [\n            \"Vijay\"\n        ]\n    },\n    \"LastName\": {\n        \"$id\": \"#/properties/LastName\",\n        \"type\": \"string\",\n        \"title\": \"The Lastname Schema\",\n        \"description\": \"An explanation about the purpose of this instance.\",\n        \"default\": \"\",\n        \"examples\": [\n            \"Karthik\"\n        ]\n    },\n    \"Age\": {\n        \"$id\": \"#/properties/Age\",\n        \"type\": \"integer\",\n        \"title\": \"The Age Schema\",\n        \"description\": \"An explanation about the purpose of this instance.\",\n        \"default\": 0,\n        \"examples\": [\n            30\n        ]\n    },\n    \"Interest\": {\n        \"$id\": \"#/properties/Interest\",\n        \"type\": \"array\",\n        \"title\": \"The Interest Schema\",\n        \"description\": \"An explanation about the purpose of this instance.\",\n        \"default\": [],\n        \"items\": {\n            \"$id\": \"#/properties/Interest/items\",\n            \"type\": \"string\",\n            \"title\": \"The Items Schema\",\n            \"description\": \"An explanation about the purpose of this instance.\",\n            \"default\": \"\",\n            \"examples\": [\n                \"Food\",\n                \"movie\",\n                \"Learning\",\n                \"VideoGames\"\n            ]\n        }\n    }\n}\n</code></pre>\n\n<p>}<code>enter code here</code></p>\n\n<p>My TestData looks like :</p>\n\n<pre><code> {\n\"FirstName\":\"Vivi\",\n\"LastName\":\"Karrri\",\n\"Age\":30,\n\"Interest\":[\"Food\",\"movie\",\"Learning\",\"VideoGames\"]\n}\n</code></pre>\n\n<p>Any suggestions how can we achive this  ? \nNote : I am using Springboot and I have complete POJO for the request object </p>\n"},{"tags":["java","weblogic","jdeveloper"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697524167,"post_id":77305355,"comment_id":136287019,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":1652896,"reputation":2486,"user_id":1523120,"display_name":"Timo Hahn"},"score":0,"creation_date":1697626852,"post_id":77305355,"comment_id":136302801,"body_markdown":"Tell us your exact JDev version, please!\n\nCan you show ua an image of your run configuration?","body":"Tell us your exact JDev version, please!  Can you show ua an image of your run configuration?"}],"owner":{"account_id":23885210,"reputation":1,"user_id":17885446,"display_name":"Short-Circuit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697497076,"creation_date":1697497076,"question_id":77305355,"body_markdown":"I&#39;ve been using JDeveloper for quite some time now with no problems until yesterday. Now instead of running the Java file I&#39;ve set in the run configuration like it has hundreds of times before, it tries to get me to create a default domain so it can run something called an Integrated WebLogic Server. I&#39;m entireley self-taught on JDeveloper and I don&#39;t know what most of the settings mean. How do I change the toolbar button back to running the file instead of this WebLogic Server thing?\r\n\r\nI started the program and tried to run the Java file I&#39;d set in the run configuration using the run button on the toolbar. It opened a window asking me to create a default domain. I thought something had been updated and just went along with it. Then, whenever I clicked the toolbar run button it started something called IntegratedWebLogicServer instead of running the file. The only way to run the file was to right-click and select run from the popup menu. I checked for updates and updated everything. Now it&#39;s back to asking me to create a domain.","title":"How do I prevent JDeveloper from running the Integrated WebLogic Server instead of my Java file?","body":"<p>I've been using JDeveloper for quite some time now with no problems until yesterday. Now instead of running the Java file I've set in the run configuration like it has hundreds of times before, it tries to get me to create a default domain so it can run something called an Integrated WebLogic Server. I'm entireley self-taught on JDeveloper and I don't know what most of the settings mean. How do I change the toolbar button back to running the file instead of this WebLogic Server thing?</p>\n<p>I started the program and tried to run the Java file I'd set in the run configuration using the run button on the toolbar. It opened a window asking me to create a default domain. I thought something had been updated and just went along with it. Then, whenever I clicked the toolbar run button it started something called IntegratedWebLogicServer instead of running the file. The only way to run the file was to right-click and select run from the popup menu. I checked for updates and updated everything. Now it's back to asking me to create a domain.</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1669228102,"post_id":74549838,"comment_id":131599310,"body_markdown":"You probably want `getResource(&quot;/plane.png&quot;)` and `getResource(&quot;/plane_speed.png&quot;)`.  The argument must be relative to the packaged application, not relative to your project’s root.","body":"You probably want <code>getResource(&quot;&#47;plane.png&quot;)</code> and <code>getResource(&quot;&#47;plane_speed.png&quot;)</code>.  The argument must be relative to the packaged application, not relative to your project’s root."}],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1669227939,"post_id":74549939,"comment_id":131599245,"body_markdown":"If the stack trace contains `java.awt.Window`, I very much doubt it’s a web application.","body":"If the stack trace contains <code>java.awt.Window</code>, I very much doubt it’s a web application."},{"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"score":0,"creation_date":1669229682,"post_id":74549939,"comment_id":131599794,"body_markdown":"You&#39;re right, I didn&#39;t see it","body":"You&#39;re right, I didn&#39;t see it"}],"tags":[],"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1669275413,"creation_date":1669220131,"answer_id":74549939,"question_id":74549838,"body_markdown":"This is because you make a non static reference using `.getClass()` to fetch a resource URL. You must use a static reference using `Player.class` instead. Furthermore, if /`resources` has been defined as a source folder in your project, you don&#39;t need to prepend the image path with that source folder path.\r\n\r\nTry this:\r\n\r\n\r\n    public Player(){\r\n    \tthis.image = (new ImageIcon(Player.class.getResource(&quot;/plane.png&quot;)).getImage());\r\n    \tthis.image_speed = (new ImageIcon(Player.class.getResource(&quot;/plane_speed.png&quot;)).getImage());\r\n    }\r\n\r\n\r\n","title":"Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null Java Netbeans Graphics2D","body":"<p>This is because you make a non static reference using <code>.getClass()</code> to fetch a resource URL. You must use a static reference using <code>Player.class</code> instead. Furthermore, if /<code>resources</code> has been defined as a source folder in your project, you don't need to prepend the image path with that source folder path.</p>\n<p>Try this:</p>\n<pre><code>public Player(){\n    this.image = (new ImageIcon(Player.class.getResource(&quot;/plane.png&quot;)).getImage());\n    this.image_speed = (new ImageIcon(Player.class.getResource(&quot;/plane_speed.png&quot;)).getImage());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6807574,"reputation":11,"user_id":5238869,"display_name":"Nol"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673448888,"creation_date":1673448888,"answer_id":75084980,"question_id":74549838,"body_markdown":"I often get that error when trying to display an image on a JLabel.\r\nThe solution is to edit the Netbeans IDE generated code by removing the usage of `getClass().getResource()` method inside the `new javax.swing.ImageIcon` constructor.\r\nThe new code should look something like this:\r\n\r\n        jLabel1.setIcon(new javax.swing.ImageIcon(&quot;full or relative path to resource&quot;));\r\nIn the case of Netbeans IDE you may have to go that JLabel then click on the JLabel.\r\nOn the jLabel properties select &quot;icon&quot; property. Then on the pop-up menu select &quot;set jLabel1&#39;s property using: Custom Code\r\nThere will be a JTextField below and on that text field is where you append the code similar to what i shared above.\r\nThis approach was tried on Netbeans 16 with JDK 19 and it worked.","title":"Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null Java Netbeans Graphics2D","body":"<p>I often get that error when trying to display an image on a JLabel.\nThe solution is to edit the Netbeans IDE generated code by removing the usage of <code>getClass().getResource()</code> method inside the <code>new javax.swing.ImageIcon</code> constructor.\nThe new code should look something like this:</p>\n<pre><code>    jLabel1.setIcon(new javax.swing.ImageIcon(&quot;full or relative path to resource&quot;));\n</code></pre>\n<p>In the case of Netbeans IDE you may have to go that JLabel then click on the JLabel.\nOn the jLabel properties select &quot;icon&quot; property. Then on the pop-up menu select &quot;set jLabel1's property using: Custom Code\nThere will be a JTextField below and on that text field is where you append the code similar to what i shared above.\nThis approach was tried on Netbeans 16 with JDK 19 and it worked.</p>\n"},{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":4,"creation_date":1681244749,"post_id":75987556,"comment_id":134024803,"body_markdown":"Please [edit] to put a transalation of that as an explanation into the answer itself. All posts need to be English and only providing code without an explanation is rarely perceived as an helpful answer on StackOverflow.","body":"Please <a href=\"https://stackoverflow.com/posts/75987556/edit\">edit</a> to put a transalation of that as an explanation into the answer itself. All posts need to be English and only providing code without an explanation is rarely perceived as an helpful answer on StackOverflow."},{"owner":{"account_id":6767185,"reputation":17855,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":0,"creation_date":1681278444,"post_id":75987556,"comment_id":134028667,"body_markdown":"Welcome to Stack Overflow! [Posts on Stack Overflow have to be in English](/help/non-english-questions). Please [edit] the post to translate it. If you feel more comfortable writing in Portuguese, feel free to visit our sister site [pt.so].","body":"Welcome to Stack Overflow! <a href=\"/help/non-english-questions\">Posts on Stack Overflow have to be in English</a>. Please <a href=\"https://stackoverflow.com/posts/75987556/edit\">edit</a> the post to translate it. If you feel more comfortable writing in Portuguese, feel free to visit our sister site <a href=\"https://pt.stackoverflow.com\">Stack Overflow em Português</a>."}],"tags":[],"owner":{"account_id":28276683,"reputation":1,"user_id":21619052,"display_name":"Landro de Souza"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681278406,"creation_date":1681226442,"answer_id":75987556,"question_id":74549838,"body_markdown":"```\r\nURL resource =UsuarioForm.class.getResource(&quot;/com/lrt/agendaonline/user.png&quot;);\r\n   perfil.setIcon(new ImageIcon(resource));\r\n```   ","title":"Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null Java Netbeans Graphics2D","body":"<pre><code>URL resource =UsuarioForm.class.getResource(&quot;/com/lrt/agendaonline/user.png&quot;);\n   perfil.setIcon(new ImageIcon(resource));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18080104,"reputation":131,"user_id":14575766,"display_name":"Javi"},"score":0,"creation_date":1697357318,"post_id":76733275,"comment_id":136267715,"body_markdown":"This works for me. Thanks a lot","body":"This works for me. Thanks a lot"}],"tags":[],"owner":{"account_id":19982061,"reputation":21,"user_id":14644978,"display_name":"Alberto P. Reynoso"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689882442,"creation_date":1689882442,"answer_id":76733275,"question_id":74549838,"body_markdown":"I recently went through the same issue. The problem is that for some reason, Netbeans requires you to create the &quot;resources&quot; folder, and within that folder, create the packages that will contain your images or resources. So, the first step to solve this problem would be to create the folder.\r\n\r\nTo do this, go to the &quot;Files&quot; section in the navigation bar, then expand the folders until you reach the &quot;main&quot; folder. There, you need to create the &quot;resources&quot; folder and paste your images there. You can simply add them by dragging and dropping the images into the folder.\r\n\r\n\r\n\r\n[![introducir la descripci&#243;n de la imagen aqu&#237;][1]][1]\r\n\r\nOnce you&#39;ve done this, go back to the &quot;Projects&quot; section, where a folder called &quot;Other Sources&quot; will have been added. In this folder, you have to create a Java package with the name you want to give to that resource section. In my example, I named it &quot;images.&quot;\r\n\r\n\r\n[![introducir la descripci&#243;n de la imagen aqu&#237;][2]][2]\r\n\r\nAfter creating the &quot;images&quot; package, I added the images to it. You can simply add them by dragging and dropping the images into the package.\r\n\r\n\r\n\r\n[![introducir la descripci&#243;n de la imagen aqu&#237;][3]][3]\r\n\r\nFinally, now you can add the images you want to your jLabels, just make sure they are being added from the package you just created in &quot;Other Resources.&quot;\r\n\r\nI hope my answer has helped you. If you need any clarification, feel free to leave your comments.\r\n\r\n  [1]: https://i.stack.imgur.com/Zlmhg.png\r\n  [2]: https://i.stack.imgur.com/ERgZP.png\r\n  [3]: https://i.stack.imgur.com/GSoKa.png","title":"Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null Java Netbeans Graphics2D","body":"<p>I recently went through the same issue. The problem is that for some reason, Netbeans requires you to create the &quot;resources&quot; folder, and within that folder, create the packages that will contain your images or resources. So, the first step to solve this problem would be to create the folder.</p>\n<p>To do this, go to the &quot;Files&quot; section in the navigation bar, then expand the folders until you reach the &quot;main&quot; folder. There, you need to create the &quot;resources&quot; folder and paste your images there. You can simply add them by dragging and dropping the images into the folder.</p>\n<p><a href=\"https://i.stack.imgur.com/Zlmhg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zlmhg.png\" alt=\"introducir la descripción de la imagen aquí\" /></a></p>\n<p>Once you've done this, go back to the &quot;Projects&quot; section, where a folder called &quot;Other Sources&quot; will have been added. In this folder, you have to create a Java package with the name you want to give to that resource section. In my example, I named it &quot;images.&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/ERgZP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ERgZP.png\" alt=\"introducir la descripción de la imagen aquí\" /></a></p>\n<p>After creating the &quot;images&quot; package, I added the images to it. You can simply add them by dragging and dropping the images into the package.</p>\n<p><a href=\"https://i.stack.imgur.com/GSoKa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GSoKa.png\" alt=\"introducir la descripción de la imagen aquí\" /></a></p>\n<p>Finally, now you can add the images you want to your jLabels, just make sure they are being added from the package you just created in &quot;Other Resources.&quot;</p>\n<p>I hope my answer has helped you. If you need any clarification, feel free to leave your comments.</p>\n"},{"comments":[{"owner":{"account_id":4257006,"reputation":694,"user_id":3482424,"accept_rate":80,"display_name":"Morten"},"score":0,"creation_date":1690476426,"post_id":76759743,"comment_id":135362645,"body_markdown":"Not sure this will solve anything.","body":"Not sure this will solve anything."},{"owner":{"account_id":20968454,"reputation":3,"user_id":15417202,"display_name":"Felipe Kreulich"},"score":0,"creation_date":1699372477,"post_id":76759743,"comment_id":136522019,"body_markdown":"You trying make this way?","body":"You trying make this way?"}],"tags":[],"owner":{"account_id":20968454,"reputation":3,"user_id":15417202,"display_name":"Felipe Kreulich"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690263929,"creation_date":1690263929,"answer_id":76759743,"question_id":74549838,"body_markdown":"You are probably using Maven\r\n\r\nmaven has a very bad problem with image rendering\r\n\r\ndo the following in your pom.xml file:\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/java&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n         &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n\r\nAnd I believe it will work perfectly","title":"Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null Java Netbeans Graphics2D","body":"<p>You are probably using Maven</p>\n<p>maven has a very bad problem with image rendering</p>\n<p>do the following in your pom.xml file:</p>\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/java&lt;/directory&gt;\n        &lt;/resource&gt;\n     &lt;/resources&gt;\n&lt;/build&gt;\n</code></pre>\n<p>And I believe it will work perfectly</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1697650778,"post_id":77305343,"comment_id":136307883,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77305343/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29687205,"reputation":1,"user_id":22752450,"display_name":"Pedro Leal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697496786,"creation_date":1697496786,"answer_id":77305343,"question_id":74549838,"body_markdown":"Right click on the project and then click on build. After that, you can run the file\r\n\r\nI decided like this\r\n\r\nThanks!","title":"Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null Java Netbeans Graphics2D","body":"<p>Right click on the project and then click on build. After that, you can run the file</p>\n<p>I decided like this</p>\n<p>Thanks!</p>\n"}],"owner":{"account_id":17493456,"reputation":1,"user_id":12685134,"display_name":"Pedro Sousa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1697496786,"creation_date":1669219634,"question_id":74549838,"body_markdown":"i have problem with detecting my image it allways says that its location its null idk what to do.\r\nI need the image to be called.\r\nI have tryed most things and still cant figure it out.\r\ni have tryed in the resources package, in another package, with the full path, and still nothing if.\r\n\r\n```\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\r\n */\r\npackage game.objeto;\r\n\r\nimport java.awt.GradientPaint;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Image;\r\nimport java.awt.geom.AffineTransform;\r\nimport java.net.URL;\r\nimport javax.swing.ImageIcon;\r\n\r\n/**\r\n *\r\n * @author sousa\r\n */\r\npublic class Player {\r\n    \r\n    public Player(){\r\n       \r\n        this.image=new ImageIcon(getClass().getResource(&quot;resources/plane.png&quot;)).getImage();\r\n        this.image_speed=new ImageIcon(getClass().getResource(&quot;resources/plane_speed.png&quot;)).getImage();\r\n    }\r\n    \r\n    \r\n    public static final double PLAYER_SIZE=64;\r\n    private double x;\r\n    private double y;\r\n    private float angle=0f;\r\n    private final Image image;\r\n    private final Image image_speed;\r\n    \r\n    public void changeAngle(float angle){\r\n        if(angle&lt;0){\r\n            angle=359;\r\n            \r\n        }else if(angle&gt;359){\r\n            angle=0;\r\n        }\r\n        this.angle=angle;\r\n    }\r\n    \r\n    public void draw(Graphics2D g2){\r\n        AffineTransform oldTransform = g2.getTransform();\r\n        g2.translate(x, y);\r\n        g2.drawImage(image, 0,0,null);\r\n        \r\n        \r\n        g2.setTransform(oldTransform);\r\n    }\r\n    \r\n    public double getX(){\r\n        return x;\r\n    }\r\n    \r\n    public double getY(){\r\n        return y;\r\n    }\r\n    \r\n    public float getAngle(){\r\n        return angle;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nand error is\r\n\r\n\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null\r\n\tat java.desktop/javax.swing.ImageIcon.&lt;init&gt;(ImageIcon.java:232)\r\n\tat game.objeto.Player.&lt;init&gt;(Player.java:22)\r\n\tat game.componentes.PanelGame.initObjectGame(PanelGame.java:74)\r\n\tat game.componentes.PanelGame.start(PanelGame.java:69)\r\n\tat game.main.Main$1.windowOpened(Main.java:35)\r\n\tat java.desktop/java.awt.Window.processWindowEvent(Window.java:2082)\r\n\tat java.desktop/javax.swing.JFrame.processWindowEvent(JFrame.java:298)\r\n\tat java.desktop/java.awt.Window.processEvent(Window.java:2044)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4991)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4823)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:775)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:747)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:744)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n------------------------------------------------------------------------\r\n```\r\n\r\n\r\n\r\n\r\nThx in advance","title":"Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null Java Netbeans Graphics2D","body":"<p>i have problem with detecting my image it allways says that its location its null idk what to do.\nI need the image to be called.\nI have tryed most things and still cant figure it out.\ni have tryed in the resources package, in another package, with the full path, and still nothing if.</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\n */\npackage game.objeto;\n\nimport java.awt.GradientPaint;\nimport java.awt.Graphics2D;\nimport java.awt.Image;\nimport java.awt.geom.AffineTransform;\nimport java.net.URL;\nimport javax.swing.ImageIcon;\n\n/**\n *\n * @author sousa\n */\npublic class Player {\n    \n    public Player(){\n       \n        this.image=new ImageIcon(getClass().getResource(&quot;resources/plane.png&quot;)).getImage();\n        this.image_speed=new ImageIcon(getClass().getResource(&quot;resources/plane_speed.png&quot;)).getImage();\n    }\n    \n    \n    public static final double PLAYER_SIZE=64;\n    private double x;\n    private double y;\n    private float angle=0f;\n    private final Image image;\n    private final Image image_speed;\n    \n    public void changeAngle(float angle){\n        if(angle&lt;0){\n            angle=359;\n            \n        }else if(angle&gt;359){\n            angle=0;\n        }\n        this.angle=angle;\n    }\n    \n    public void draw(Graphics2D g2){\n        AffineTransform oldTransform = g2.getTransform();\n        g2.translate(x, y);\n        g2.drawImage(image, 0,0,null);\n        \n        \n        g2.setTransform(oldTransform);\n    }\n    \n    public double getX(){\n        return x;\n    }\n    \n    public double getY(){\n        return y;\n    }\n    \n    public float getAngle(){\n        return angle;\n    }\n}\n</code></pre>\n<p>and error is</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.toExternalForm()&quot; because &quot;location&quot; is null\n    at java.desktop/javax.swing.ImageIcon.&lt;init&gt;(ImageIcon.java:232)\n    at game.objeto.Player.&lt;init&gt;(Player.java:22)\n    at game.componentes.PanelGame.initObjectGame(PanelGame.java:74)\n    at game.componentes.PanelGame.start(PanelGame.java:69)\n    at game.main.Main$1.windowOpened(Main.java:35)\n    at java.desktop/java.awt.Window.processWindowEvent(Window.java:2082)\n    at java.desktop/javax.swing.JFrame.processWindowEvent(JFrame.java:298)\n    at java.desktop/java.awt.Window.processEvent(Window.java:2044)\n    at java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4991)\n    at java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\n    at java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\n    at java.desktop/java.awt.Component.dispatchEvent(Component.java:4823)\n    at java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:775)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:720)\n    at java.desktop/java.awt.EventQueue$4.run(EventQueue.java:714)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:747)\n    at java.desktop/java.awt.EventQueue$5.run(EventQueue.java:745)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\n    at java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:744)\n    at java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\n    at java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\n    at java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n------------------------------------------------------------------------\n</code></pre>\n<p>Thx in advance</p>\n"},{"tags":["java","swing","graphics2d","stroke"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1697486081,"post_id":77304592,"comment_id":136283399,"body_markdown":"Draw to an off-screen buffer, a BufferedImage, and display this image within paintComponent. This will preserve the old strokes along with their widths. Then when you add new lines to the BufferedImage, use the new stroke width value.","body":"Draw to an off-screen buffer, a BufferedImage, and display this image within paintComponent. This will preserve the old strokes along with their widths. Then when you add new lines to the BufferedImage, use the new stroke width value."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1697486312,"post_id":77304592,"comment_id":136283438,"body_markdown":"Note also that 1) you should override `protected void paintComponent(Graphics g)`, not the `public void paint(Graphics g)` method. 2) Call the super&#39;s painting method within your override. So if you are overriding paintComponent, then be sure to call `super.paintComponent(g);` on the first line of the overridden method.","body":"Note also that 1) you should override <code>protected void paintComponent(Graphics g)</code>, not the <code>public void paint(Graphics g)</code> method. 2) Call the super&#39;s painting method within your override. So if you are overriding paintComponent, then be sure to call <code>super.paintComponent(g);</code> on the first line of the overridden method."},{"owner":{"account_id":29238674,"reputation":3,"user_id":22400728,"display_name":"Petarnan"},"score":0,"creation_date":1697486731,"post_id":77304592,"comment_id":136283509,"body_markdown":"@user85421 that makes the problem when I start the app that&#39;s why I comment it out","body":"@user85421 that makes the problem when I start the app that&#39;s why I comment it out"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1697487705,"post_id":77304592,"comment_id":136283631,"body_markdown":"Do you get different colors for each shape? If that logic works then what is the difference between the color and the stroke logic? Instead of creating multiple ArrayLists for Color and Shape and Stroke etc, I suggest you create a single object that contains all the painting properties. For example, check out the `DrawOnComponent` example from [Custom Painting Approaches](https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/)","body":"Do you get different colors for each shape? If that logic works then what is the difference between the color and the stroke logic? Instead of creating multiple ArrayLists for Color and Shape and Stroke etc, I suggest you create a single object that contains all the painting properties. For example, check out the <code>DrawOnComponent</code> example from <a href=\"https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/\" rel=\"nofollow noreferrer\">Custom Painting Approaches</a>"},{"owner":{"account_id":29238674,"reputation":3,"user_id":22400728,"display_name":"Petarnan"},"score":0,"creation_date":1697488497,"post_id":77304592,"comment_id":136283747,"body_markdown":"The colors are not the problem, only stroke is changing for all the objects that are already drawn","body":"The colors are not the problem, only stroke is changing for all the objects that are already drawn"}],"answers":[{"comments":[{"owner":{"account_id":29238674,"reputation":3,"user_id":22400728,"display_name":"Petarnan"},"score":0,"creation_date":1697548848,"post_id":77304720,"comment_id":136291718,"body_markdown":"I didn&#39;t have that in mind, but it helps a lot\nThank you very much","body":"I didn&#39;t have that in mind, but it helps a lot Thank you very much"}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697496416,"creation_date":1697487369,"answer_id":77304720,"question_id":77304592,"body_markdown":"If this were my project, I&#39;d draw to an off-screen buffer, a BufferedImage, and then display that image in my painting method. This way, the current stroke width would only be used on the newest drawing. I&#39;d also:\r\n* Override paintComponent, not paint\r\n* Draw within a class that extends JPanel and not a JComponent since a JPanel is opaque by default and uses a FlowLayout by default\r\n* Call the super&#39;s painting method in my override (`super.paintComponent(g)` if overriding `paintComponent`)\r\n* Not paint points but rather lines\r\n* Create my line starting points, (x1, y1) in a mouse listener&#39;s mousePressed method.\r\n* Create and draw a new line on the buffered image within mouseDragged (of a mouse motion listener) and mouseReleased in the mouse listener\r\n* Use a MouseAdapter for both the mouse listener and mouse motion listener.\r\n* I&#39;d extract the value from the slider on mousePressed, when the current lines are first created\r\n* Create my Graphics2D object from the buffered image on mousePressed\r\n* and dispose of it on mouseReleased\r\n\r\n\r\nFor example in the code below I have a BufferedImage is created to fill the drawing JPanel\r\n```\r\nprivate BufferedImage buffer;\r\n```\r\n\r\nI have a nested class called MyMouse that extends MouseAdapter. This allows it to be used as both a MouseListener and a MouseMotionListener, and in fact this is what I do in the constructor:\r\n\r\n```\r\nMyMouse myMouse = new MyMouse();\r\naddMouseListener(myMouse);\r\naddMouseMotionListener(myMouse);\r\n```\r\n\r\nIn this mouse adapter I override the mousePressed, mouseDragged, and mouseReleased methods. \r\n\r\nIn mousePressed, I extract a Graphics2D object from the buffered image and get my starting drawing point, my x1, and y1:\r\n\r\n```\r\n// mousePressed(MouseEvent e) \r\n\r\n// set my x1 and y1 points for drawing.\r\nx1 = e.getX();\r\ny1 = e.getY();\r\n\r\n// create a graphics object to draw to\r\ng2d = buffer.createGraphics();\r\n\r\n// smooth the drawing\r\ng2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n```\r\n\r\nI also get the stroke width selection from the slider and use it to set my Graphics object&#39;s Stroke:\r\n```\r\n// use the current stroke width value from the slider\r\nint strokeWidth = strokeWidthSlider.getValue();\r\ng2d.setStroke(new BasicStroke(strokeWidth, BasicStroke.CAP_ROUND, BasicStroke.JOIN_ROUND));\r\n```\r\n\r\nJust for fun, I generate a random color for each brush stroke\r\n```\r\n// generate a random color\r\nfloat hue = (float) Math.random();\r\nfloat saturation = (float) (0.5 * Math.random() + 0.5);\r\nfloat brightness = 1f;\r\nColor randomColr = Color.getHSBColor(hue, saturation, brightness);\r\ng2d.setColor(randomColr);\r\n```\r\nI then draw a &quot;point&quot; by drawing a line of length 0, and then call `repaint()`:\r\n```\r\n// draw a single point\r\ng2d.drawLine(x1, y1, x1, y1);\r\nrepaint();\r\n}\r\n```\t\t\r\n\r\nIn mouseDragged and mouseReleased I check to make sure that my graphics object is not null. If it is OK, I get my second point, x2, y2, and draw a line between x1, y1 and x2, y2:\r\n```\r\nif (g2d == null) {\r\n\treturn;\r\n}\r\n// get the next point\r\nint x2 = e.getX();\r\nint y2 = e.getY();\r\n\r\n// draw a connecting line\r\ng2d.drawLine(x1, y1, x2, y2);\r\n```\r\n\r\nI then reset x1 and y1 with x2, y2 in anticipation of drawing the next line, and then call `repaint()`\r\n```\r\n// reset the points\r\nx1 = x2;\r\ny1 = y2;\r\nrepaint();\r\n```\t\t\t\r\n\r\nIn mouseReleased I do similar things as above, but then I dispose of the Graphics2D object obtained from the image (it is OK to dispose of a Graphics object that the coder creates, but never do this to a Graphics object given to you by the JVM, such as given via a `paintComponent` method):\r\n```\r\n// same as mouseDragged:\r\nif (g2d == null) {\r\n\treturn;\r\n}\r\nint x2 = e.getX();\r\nint y2 = e.getY();\r\n\r\ng2d.drawLine(x1, y1, x2, y2);\r\nrepaint();\r\n\r\n// dispose of the Graphics object\r\ng2d.dispose();\r\ng2d = null;\r\n```\t\t\t\r\n\r\nThen, all the painting method has to do (again here, it is paintComponent, not paint) is draw the buffered image, if it is not null:\r\n\r\n```\r\n@Override\r\nprotected void paintComponent(Graphics g) {\r\n\tsuper.paintComponent(g);  // Don&#39;t forget this!!!!\r\n\tif (buffer != null) {\r\n\t\tg.drawImage(buffer, 0, 0, this);\r\n\t}\r\n}\r\n```\t\r\nDon&#39;t forget to call the super&#39;s method so that housekeeping painting will be done.\r\n\r\n_________________________________\r\n\r\nThe whole shooting match:\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.event.*;\r\nimport java.awt.*;\r\nimport java.awt.image.BufferedImage;\r\n\r\npublic class Lesson48b extends JPanel {\r\n    private static final int BI_WIDTH = 1000;\r\n    private static final int BI_HEIGHT = 600;\r\n    private BufferedImage buffer;\r\n    private JSlider strokeWidthSlider = new JSlider(0, 20, 1);\r\n    private JButton cleaButton = new JButton(&quot;Clear&quot;);\r\n\r\n    public Lesson48b() {\r\n        // give the drawing a white background\r\n        clearImage();\r\n\r\n        strokeWidthSlider.setMajorTickSpacing(5);\r\n        strokeWidthSlider.setMinorTickSpacing(1);\r\n        strokeWidthSlider.setPaintTicks(true);\r\n        strokeWidthSlider.setPaintLabels(true);\r\n        strokeWidthSlider.setOpaque(false);\r\n        add(strokeWidthSlider);\r\n\r\n        cleaButton.addActionListener(e -&gt; clearImage());\r\n        add(cleaButton);\r\n\r\n        MyMouse myMouse = new MyMouse();\r\n        addMouseListener(myMouse);\r\n        addMouseMotionListener(myMouse);\r\n    }\r\n\r\n    private void clearImage() {\r\n        buffer = new BufferedImage(BI_WIDTH, BI_HEIGHT, BufferedImage.TYPE_INT_ARGB);\r\n        Graphics2D g2d = buffer.createGraphics();\r\n        g2d.setBackground(Color.WHITE);\r\n        g2d.clearRect(0, 0, BI_WIDTH, BI_HEIGHT);\r\n        g2d.dispose();\r\n        repaint();\r\n    }\r\n\r\n    @Override\r\n    public Dimension getPreferredSize() {\r\n        return new Dimension(BI_WIDTH, BI_HEIGHT);\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        if (buffer != null) {\r\n            g.drawImage(buffer, 0, 0, this);\r\n        }\r\n    }\r\n\r\n    class MyMouse extends MouseAdapter {\r\n        private int x1, y1;\r\n        Graphics2D g2d;\r\n\r\n        public void mousePressed(MouseEvent e) {\r\n            // set my x1 and y1 points for drawing.\r\n            x1 = e.getX();\r\n            y1 = e.getY();\r\n\r\n            // create a graphics object to draw to\r\n            g2d = buffer.createGraphics();\r\n\r\n            // smooth the drawing\r\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\r\n            // use the current stroke width value from the slider\r\n            int strokeWidth = strokeWidthSlider.getValue();\r\n            g2d.setStroke(new BasicStroke(strokeWidth, BasicStroke.CAP_ROUND, BasicStroke.JOIN_ROUND));\r\n\r\n            // generate a random color\r\n            float hue = (float) Math.random();\r\n            float saturation = (float) (0.5 * Math.random() + 0.5);\r\n            float brightness = 1f;\r\n            Color randomColr = Color.getHSBColor(hue, saturation, brightness);\r\n            g2d.setColor(randomColr);\r\n\r\n            // draw a single point\r\n            g2d.drawLine(x1, y1, x1, y1);\r\n            repaint();\r\n        }\r\n\r\n        public void mouseDragged(MouseEvent e) {\r\n            if (g2d == null) {\r\n                return;\r\n            }\r\n            // get the next point\r\n            int x2 = e.getX();\r\n            int y2 = e.getY();\r\n\r\n            // draw a connecting line\r\n            g2d.drawLine(x1, y1, x2, y2);\r\n\r\n            // reset the points\r\n            x1 = x2;\r\n            y1 = y2;\r\n            repaint();\r\n        }\r\n\r\n        public void mouseReleased(MouseEvent e) {\r\n            if (g2d == null) {\r\n                return;\r\n            }\r\n            int x2 = e.getX();\r\n            int y2 = e.getY();\r\n\r\n            g2d.drawLine(x1, y1, x2, y2);\r\n            repaint();\r\n\r\n            // dispose of the Graphics object\r\n            g2d.dispose();\r\n            g2d = null;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            public void run() {\r\n                Lesson48b mainPanel = new Lesson48b();\r\n                JFrame frame = new JFrame(&quot;Java Paint&quot;);\r\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                frame.add(mainPanel);\r\n                frame.pack();\r\n                frame.setLocationRelativeTo(null);\r\n                frame.setVisible(true);\r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"java Graphics2D set stroke width dynamically","body":"<p>If this were my project, I'd draw to an off-screen buffer, a BufferedImage, and then display that image in my painting method. This way, the current stroke width would only be used on the newest drawing. I'd also:</p>\n<ul>\n<li>Override paintComponent, not paint</li>\n<li>Draw within a class that extends JPanel and not a JComponent since a JPanel is opaque by default and uses a FlowLayout by default</li>\n<li>Call the super's painting method in my override (<code>super.paintComponent(g)</code> if overriding <code>paintComponent</code>)</li>\n<li>Not paint points but rather lines</li>\n<li>Create my line starting points, (x1, y1) in a mouse listener's mousePressed method.</li>\n<li>Create and draw a new line on the buffered image within mouseDragged (of a mouse motion listener) and mouseReleased in the mouse listener</li>\n<li>Use a MouseAdapter for both the mouse listener and mouse motion listener.</li>\n<li>I'd extract the value from the slider on mousePressed, when the current lines are first created</li>\n<li>Create my Graphics2D object from the buffered image on mousePressed</li>\n<li>and dispose of it on mouseReleased</li>\n</ul>\n<p>For example in the code below I have a BufferedImage is created to fill the drawing JPanel</p>\n<pre><code>private BufferedImage buffer;\n</code></pre>\n<p>I have a nested class called MyMouse that extends MouseAdapter. This allows it to be used as both a MouseListener and a MouseMotionListener, and in fact this is what I do in the constructor:</p>\n<pre><code>MyMouse myMouse = new MyMouse();\naddMouseListener(myMouse);\naddMouseMotionListener(myMouse);\n</code></pre>\n<p>In this mouse adapter I override the mousePressed, mouseDragged, and mouseReleased methods.</p>\n<p>In mousePressed, I extract a Graphics2D object from the buffered image and get my starting drawing point, my x1, and y1:</p>\n<pre><code>// mousePressed(MouseEvent e) \n\n// set my x1 and y1 points for drawing.\nx1 = e.getX();\ny1 = e.getY();\n\n// create a graphics object to draw to\ng2d = buffer.createGraphics();\n\n// smooth the drawing\ng2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n</code></pre>\n<p>I also get the stroke width selection from the slider and use it to set my Graphics object's Stroke:</p>\n<pre><code>// use the current stroke width value from the slider\nint strokeWidth = strokeWidthSlider.getValue();\ng2d.setStroke(new BasicStroke(strokeWidth, BasicStroke.CAP_ROUND, BasicStroke.JOIN_ROUND));\n</code></pre>\n<p>Just for fun, I generate a random color for each brush stroke</p>\n<pre><code>// generate a random color\nfloat hue = (float) Math.random();\nfloat saturation = (float) (0.5 * Math.random() + 0.5);\nfloat brightness = 1f;\nColor randomColr = Color.getHSBColor(hue, saturation, brightness);\ng2d.setColor(randomColr);\n</code></pre>\n<p>I then draw a &quot;point&quot; by drawing a line of length 0, and then call <code>repaint()</code>:</p>\n<pre><code>// draw a single point\ng2d.drawLine(x1, y1, x1, y1);\nrepaint();\n}\n</code></pre>\n<p>In mouseDragged and mouseReleased I check to make sure that my graphics object is not null. If it is OK, I get my second point, x2, y2, and draw a line between x1, y1 and x2, y2:</p>\n<pre><code>if (g2d == null) {\n    return;\n}\n// get the next point\nint x2 = e.getX();\nint y2 = e.getY();\n\n// draw a connecting line\ng2d.drawLine(x1, y1, x2, y2);\n</code></pre>\n<p>I then reset x1 and y1 with x2, y2 in anticipation of drawing the next line, and then call <code>repaint()</code></p>\n<pre><code>// reset the points\nx1 = x2;\ny1 = y2;\nrepaint();\n</code></pre>\n<p>In mouseReleased I do similar things as above, but then I dispose of the Graphics2D object obtained from the image (it is OK to dispose of a Graphics object that the coder creates, but never do this to a Graphics object given to you by the JVM, such as given via a <code>paintComponent</code> method):</p>\n<pre><code>// same as mouseDragged:\nif (g2d == null) {\n    return;\n}\nint x2 = e.getX();\nint y2 = e.getY();\n\ng2d.drawLine(x1, y1, x2, y2);\nrepaint();\n\n// dispose of the Graphics object\ng2d.dispose();\ng2d = null;\n</code></pre>\n<p>Then, all the painting method has to do (again here, it is paintComponent, not paint) is draw the buffered image, if it is not null:</p>\n<pre><code>@Override\nprotected void paintComponent(Graphics g) {\n    super.paintComponent(g);  // Don't forget this!!!!\n    if (buffer != null) {\n        g.drawImage(buffer, 0, 0, this);\n    }\n}\n</code></pre>\n<p>Don't forget to call the super's method so that housekeeping painting will be done.</p>\n<hr />\n<p>The whole shooting match:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.*;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\n\npublic class Lesson48b extends JPanel {\n    private static final int BI_WIDTH = 1000;\n    private static final int BI_HEIGHT = 600;\n    private BufferedImage buffer;\n    private JSlider strokeWidthSlider = new JSlider(0, 20, 1);\n    private JButton cleaButton = new JButton(&quot;Clear&quot;);\n\n    public Lesson48b() {\n        // give the drawing a white background\n        clearImage();\n\n        strokeWidthSlider.setMajorTickSpacing(5);\n        strokeWidthSlider.setMinorTickSpacing(1);\n        strokeWidthSlider.setPaintTicks(true);\n        strokeWidthSlider.setPaintLabels(true);\n        strokeWidthSlider.setOpaque(false);\n        add(strokeWidthSlider);\n\n        cleaButton.addActionListener(e -&gt; clearImage());\n        add(cleaButton);\n\n        MyMouse myMouse = new MyMouse();\n        addMouseListener(myMouse);\n        addMouseMotionListener(myMouse);\n    }\n\n    private void clearImage() {\n        buffer = new BufferedImage(BI_WIDTH, BI_HEIGHT, BufferedImage.TYPE_INT_ARGB);\n        Graphics2D g2d = buffer.createGraphics();\n        g2d.setBackground(Color.WHITE);\n        g2d.clearRect(0, 0, BI_WIDTH, BI_HEIGHT);\n        g2d.dispose();\n        repaint();\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(BI_WIDTH, BI_HEIGHT);\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        if (buffer != null) {\n            g.drawImage(buffer, 0, 0, this);\n        }\n    }\n\n    class MyMouse extends MouseAdapter {\n        private int x1, y1;\n        Graphics2D g2d;\n\n        public void mousePressed(MouseEvent e) {\n            // set my x1 and y1 points for drawing.\n            x1 = e.getX();\n            y1 = e.getY();\n\n            // create a graphics object to draw to\n            g2d = buffer.createGraphics();\n\n            // smooth the drawing\n            g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n\n            // use the current stroke width value from the slider\n            int strokeWidth = strokeWidthSlider.getValue();\n            g2d.setStroke(new BasicStroke(strokeWidth, BasicStroke.CAP_ROUND, BasicStroke.JOIN_ROUND));\n\n            // generate a random color\n            float hue = (float) Math.random();\n            float saturation = (float) (0.5 * Math.random() + 0.5);\n            float brightness = 1f;\n            Color randomColr = Color.getHSBColor(hue, saturation, brightness);\n            g2d.setColor(randomColr);\n\n            // draw a single point\n            g2d.drawLine(x1, y1, x1, y1);\n            repaint();\n        }\n\n        public void mouseDragged(MouseEvent e) {\n            if (g2d == null) {\n                return;\n            }\n            // get the next point\n            int x2 = e.getX();\n            int y2 = e.getY();\n\n            // draw a connecting line\n            g2d.drawLine(x1, y1, x2, y2);\n\n            // reset the points\n            x1 = x2;\n            y1 = y2;\n            repaint();\n        }\n\n        public void mouseReleased(MouseEvent e) {\n            if (g2d == null) {\n                return;\n            }\n            int x2 = e.getX();\n            int y2 = e.getY();\n\n            g2d.drawLine(x1, y1, x2, y2);\n            repaint();\n\n            // dispose of the Graphics object\n            g2d.dispose();\n            g2d = null;\n        }\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                Lesson48b mainPanel = new Lesson48b();\n                JFrame frame = new JFrame(&quot;Java Paint&quot;);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(mainPanel);\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29238674,"reputation":3,"user_id":22400728,"display_name":"Petarnan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77304720,"answer_count":1,"score":0,"last_activity_date":1697496416,"creation_date":1697485572,"question_id":77304592,"body_markdown":"I have this code for Java Paint App.\r\nI have added a slider that changes from 1 to 20 with a default size of 1.This slider is for changing the strokeSize dynamically,so i have created a variable strokeSizeVal and the slider + Listener for it and the new stroke size updates and works just fine, but it updates for all the shapes that are added in the array..Even for shapes that are already drawn.\r\nI save individual stroke weights in a multidimensional array along with the objects.\r\nHow can i change this,so that it doesn’t update all the shapes in the array and is valid only for newly created shapes?\r\n\r\nI guess this line makes the problem:\r\ngraphSettings.setStroke(strokeSizeCounter.next());\r\n\r\nthanks\r\n\r\n```\r\nimport javax.swing.*;\r\nimport javax.swing.event.ChangeEvent;\r\nimport javax.swing.event.ChangeListener;\r\n\r\nimport java.awt.event.*;\r\nimport java.awt.*;\r\nimport java.awt.geom.*;\r\nimport java.text.DecimalFormat;\r\nimport java.util.*;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class Lesson48 extends JFrame{\r\n\t\r\n\tJButton brushBut, lineBut, ellipseBut, rectBut, strokeBut, fillBut;\r\n\t\r\n\tJSlider transSlider;\r\n\t\r\n\tJLabel transLabel;\r\n\t\r\n\tDecimalFormat dec = new DecimalFormat(&quot;#.##&quot;);\r\n\t\r\n\tJSlider strokeSizeSlider;\r\n\t\r\n\tJLabel strokeSizeLabel;\r\n\t\r\n\tGraphics2D graphSettings;\r\n\t\r\n\tint strokeSize;\r\n\t\r\n\t//graphSettings.setStroke(new BasicStroke(5f));\r\n\t\r\n\tint currentAction = 1;\r\n\t\r\n\tfloat transparentVal = 1.0f;\r\n\t\r\n\tColor strokeColor = Color.BLACK, fillColor = Color.BLACK;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tnew Lesson48();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic Lesson48() {\r\n\t\t\r\n\t\tthis.setSize(1000, 600);\r\n\t\tthis.setTitle(&quot;Java Paint&quot;);\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\r\n\t\tJPanel buttonPanel = new JPanel();\r\n\t\t\r\n\t\tBox theBox = Box.createHorizontalBox();\r\n\t\t\r\n\t\tbrushBut = makeMeButtons(&quot;./src/Brush.png&quot;, 1);\r\n\t\tlineBut = makeMeButtons(&quot;./src/Line.png&quot;, 2);\r\n\t\tellipseBut = makeMeButtons(&quot;./src/Ellipse.png&quot;, 3);\r\n\t\trectBut = makeMeButtons(&quot;./src/Rectangle.png&quot;, 4);\r\n\t\t\r\n\t\tstrokeBut = makeMeColorButton(&quot;./src/Stroke.png&quot;, 5, true);\r\n\t\tfillBut = makeMeColorButton(&quot;./src/Fill.png&quot;, 6, false);\r\n\t\t\r\n\t\ttheBox.add(brushBut);\r\n\t\ttheBox.add(lineBut);\r\n\t\ttheBox.add(ellipseBut);\r\n\t\ttheBox.add(rectBut);\r\n\t\ttheBox.add(strokeBut);\r\n\t\ttheBox.add(fillBut);\r\n\t\t\r\n\t\ttransLabel = new JLabel(&quot;  Transparent: 1&quot;);\r\n\t\t\r\n\t\ttransSlider = new JSlider(1, 99, 99);\r\n\t\t\r\n\t\tListenerForSlider lForSlider = new ListenerForSlider();\r\n\t\t\r\n\t\ttransSlider.addChangeListener(lForSlider);\r\n\t\t\r\n\t\ttheBox.add(transLabel);\r\n\t\ttheBox.add(transSlider);\r\n\t\t\r\n\t\t// changing the strokeSize dynamically\r\n\t\t\r\n\t\tstrokeSizeLabel = new JLabel(&quot;  Stroke: 1&quot;);\r\n\t\t\r\n\t\tstrokeSizeSlider = new JSlider(1, 20, 1);\r\n\t\t\r\n\t\tListenerForSlider2 sForSlider = new ListenerForSlider2();\r\n\t\t\r\n\t\tstrokeSizeSlider.addChangeListener(sForSlider);\r\n\t\t\r\n\t\ttheBox.add(strokeSizeLabel);\r\n\t\ttheBox.add(strokeSizeSlider);\r\n\t\t\r\n\t\tbuttonPanel.add(theBox);\r\n\t\t\r\n\t\tthis.add(buttonPanel, BorderLayout.SOUTH);\r\n\t\t\r\n\t\tthis.add(new DrawingBoard(), BorderLayout.CENTER);\r\n\t\t\r\n\t\tthis.setVisible(true);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic JButton makeMeButtons(String iconFile, final int actionNum) {\r\n\t\t\r\n\t\tJButton theBut = new JButton();\r\n\t\tIcon butIcon = new ImageIcon(iconFile);\r\n\t\ttheBut.setIcon(butIcon);\r\n\t\t\r\n\t\ttheBut.addActionListener(new ActionListener() {\r\n\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tcurrentAction = actionNum;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\treturn theBut;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic JButton makeMeColorButton(String iconFile, final int actionNum, final boolean stroke) {\r\n\t\t\r\n\t\tJButton theBut = new JButton();\r\n\t\tIcon butIcon = new ImageIcon(iconFile);\r\n\t\ttheBut.setIcon(butIcon);\r\n\t\t\r\n\t\ttheBut.addActionListener(new ActionListener() {\r\n\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tif(stroke) {\r\n\t\t\t\t\tstrokeColor = JColorChooser.showDialog(null, &quot;Pick a Stroke&quot;, Color.BLACK);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfillColor = JColorChooser.showDialog(null, &quot;Pick a Fill&quot;, Color.BLACK);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\treturn theBut;\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate class DrawingBoard extends JComponent{\r\n\t\t\r\n\t\tArrayList&lt;Shape&gt; shapes = new ArrayList&lt;Shape&gt;();\r\n\t\tArrayList&lt;Color&gt; shapeFill = new ArrayList&lt;Color&gt;();\r\n\t\tArrayList&lt;Color&gt; shapeStroke = new ArrayList&lt;Color&gt;();\r\n\t\t\r\n\t\tArrayList&lt;Float&gt; transPercent = new ArrayList&lt;Float&gt;();\r\n\t\t\r\n\t\tArrayList&lt;Stroke&gt; shapeStrokeSize = new ArrayList&lt;Stroke&gt;();\r\n\t\t\r\n\t\tPoint drawStart, drawEnd;\r\n\t\t\r\n\t\tpublic DrawingBoard() {\r\n\t\t\t\r\n\t\t\tthis.addMouseListener(new MouseAdapter() {\r\n\t\t\t\t\r\n\t\t\t\tpublic void mousePressed(MouseEvent e) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(currentAction != 1) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tdrawStart = new Point(e.getX(), e.getY());\r\n\t\t\t\t\tdrawEnd = drawStart;\r\n\t\t\t\t\trepaint();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tpublic void mouseReleased(MouseEvent e) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(currentAction != 1) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tShape aShape = null;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(currentAction == 2) {\r\n\t\t\t\t\t\t\taShape = drawLine(drawStart.x, drawStart.y, e.getX(), e.getY());\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(currentAction == 3) {\r\n\t\t\t\t\t\t\taShape = drawEllipse(drawStart.x, drawStart.y, e.getX(), e.getY());\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(currentAction == 4) {\r\n\t\t\t\t\t\t\taShape = drawRectangle(drawStart.x, drawStart.y, e.getX(), e.getY());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tshapes.add(aShape);\r\n\t\t\t\t\t\tshapeFill.add(fillColor);\r\n\t\t\t\t\t\tshapeStroke.add(strokeColor);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ttransPercent.add(transparentVal);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//shapeStrokeSize.add(strokeSize);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdrawStart = null;\r\n\t\t\t\t\t\tdrawEnd = null;\r\n\t\t\t\t\t\trepaint();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tthis.addMouseMotionListener(new MouseMotionAdapter() {\r\n\t\t\t\t\r\n\t\t\t\tpublic void mouseDragged(MouseEvent e) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(currentAction == 1) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tint x = e.getX();\r\n\t\t\t\t\t\tint y = e.getY();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tShape aShape = null;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstrokeColor = fillColor;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\taShape = drawBrush(x, y, 2, 2);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tshapes.add(aShape);\r\n\t\t\t\t\t\tshapeFill.add(fillColor);\r\n\t\t\t\t\t\tshapeStroke.add(strokeColor);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ttransPercent.add(transparentVal);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//shapeStrokeSize.add(strokeSize);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tdrawEnd = new Point(e.getX(), e.getY());\r\n\t\t\t\t\trepaint();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic void paint(Graphics g) {\r\n\t\t\t\r\n\t\t\tgraphSettings = (Graphics2D)g;\r\n\t\t\t\r\n\t\t\tgraphSettings.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\t\t\r\n\t\t\tgraphSettings.setStroke(new BasicStroke(strokeSize));\r\n\t\t\t\r\n\t\t\tIterator&lt;Color&gt; strokeCounter = shapeStroke.iterator();\r\n\t\t\tIterator&lt;Color&gt; fillCounter = shapeFill.iterator();\r\n\t\t\t\r\n\t\t\tIterator&lt;Float&gt; transCounter = transPercent.iterator();\r\n\t\t\t\r\n\t\t\tIterator&lt;Stroke&gt; strokeSizeCounter = shapeStrokeSize.iterator();\r\n\t\t\t\r\n\t\t\tfor(Shape s : shapes) {\r\n\t\t\t\t\r\n\t\t\t\t//graphSettings.setStroke(strokeSizeCounter.next());\r\n\t\t\t\t//graphSettings.draw(s);\r\n\t\t\t\t\r\n\t\t\t\tgraphSettings.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER, transCounter.next()));\r\n\t\t\t\t\r\n\t\t\t\tgraphSettings.setPaint(strokeCounter.next());\r\n\t\t\t\tgraphSettings.draw(s);\r\n\t\t\t\tgraphSettings.setPaint(fillCounter.next());\r\n\t\t\t\tgraphSettings.fill(s);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(drawStart != null &amp;&amp; drawEnd != null) {\r\n\t\t\t\t\r\n\t\t\t\tgraphSettings.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER, 0.4f));\r\n\t\t\t\t\r\n\t\t\t\tgraphSettings.setPaint(Color.LIGHT_GRAY);\r\n\t\t\t\t\r\n\t\t\t\tShape aShape = null;\r\n\t\t\t\t\r\n\t\t\t\tif(currentAction == 2) {\r\n\t\t\t\t\taShape = drawLine(drawStart.x, drawStart.y, drawEnd.x, drawEnd.y);\r\n\t\t\t\t} else\r\n\t\t\t\t\t\r\n\t\t\t\tif(currentAction == 3) {\r\n\t\t\t\t\taShape = drawEllipse(drawStart.x, drawStart.y, drawEnd.x, drawEnd.y);\r\n\t\t\t\t} else\r\n\t\t\t\t\t\r\n\t\t\t\tif(currentAction == 4) {\r\n\t\t\t\t\taShape = drawRectangle(drawStart.x, drawStart.y, drawEnd.x, drawEnd.y);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tgraphSettings.draw(aShape);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tprivate Rectangle2D.Float drawRectangle(int x1, int y1, int x2, int y2){\r\n\t\t\t\r\n\t\t\tint x = Math.min(x1, x2);\r\n\t\t\tint y = Math.min(y1, y2);\r\n\t\t\t\r\n\t\t\tint width = Math.abs(x1-x2);\r\n\t\t\tint height = Math.abs(y1-y2);\r\n\t\t\t\r\n\t\t\treturn new Rectangle2D.Float(x, y, width, height);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tprivate Ellipse2D.Float drawEllipse(int x1, int y1, int x2, int y2){\r\n\t\t\t\r\n\t\t\tint x = Math.min(x1, x2);\r\n\t\t\tint y = Math.min(y1, y2);\r\n\t\t\t\r\n\t\t\tint width = Math.abs(x1-x2);\r\n\t\t\tint height = Math.abs(y1-y2);\r\n\t\t\t\r\n\t\t\treturn new Ellipse2D.Float(x, y, width, height);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tprivate Line2D.Float drawLine(int x1, int y1, int x2, int y2){\r\n\t\t\t\r\n\t\t\treturn new Line2D.Float(x1, y1, x2, y2);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tprivate Ellipse2D.Float drawBrush(int x1, int y1, int brushStrokeWidth, int brushStrokeHeight){\r\n\t\t\t\r\n\t\t\treturn new Ellipse2D.Float(x1, y1, brushStrokeWidth, brushStrokeHeight);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate class ListenerForSlider implements ChangeListener{\r\n\r\n\t\tpublic void stateChanged(ChangeEvent e) {\r\n\t\t\t\r\n\t\t\tif(e.getSource() == transSlider) {\r\n\t\t\t\t\r\n\t\t\t\ttransLabel.setText(&quot;  Transparent: &quot; + dec.format(transSlider.getValue() * .01));\r\n\t\t\t\t\r\n\t\t\t\ttransparentVal = (float) (transSlider.getValue() * .01);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate class ListenerForSlider2 implements ChangeListener{\r\n\r\n\t\tpublic void stateChanged(ChangeEvent e) {\r\n\t\t\t\r\n\t\t\tif(e.getSource() == strokeSizeSlider) {\r\n\t\t\t\t\r\n\t\t\t\tstrokeSizeLabel.setText(&quot;  Stroke: &quot; + strokeSizeSlider.getValue());\r\n\t\t\t\t\r\n\t\t\t\tstrokeSize = strokeSizeSlider.getValue();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n```","title":"java Graphics2D set stroke width dynamically","body":"<p>I have this code for Java Paint App.\nI have added a slider that changes from 1 to 20 with a default size of 1.This slider is for changing the strokeSize dynamically,so i have created a variable strokeSizeVal and the slider + Listener for it and the new stroke size updates and works just fine, but it updates for all the shapes that are added in the array..Even for shapes that are already drawn.\nI save individual stroke weights in a multidimensional array along with the objects.\nHow can i change this,so that it doesn’t update all the shapes in the array and is valid only for newly created shapes?</p>\n<p>I guess this line makes the problem:\ngraphSettings.setStroke(strokeSizeCounter.next());</p>\n<p>thanks</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\n\nimport java.awt.event.*;\nimport java.awt.*;\nimport java.awt.geom.*;\nimport java.text.DecimalFormat;\nimport java.util.*;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class Lesson48 extends JFrame{\n    \n    JButton brushBut, lineBut, ellipseBut, rectBut, strokeBut, fillBut;\n    \n    JSlider transSlider;\n    \n    JLabel transLabel;\n    \n    DecimalFormat dec = new DecimalFormat(&quot;#.##&quot;);\n    \n    JSlider strokeSizeSlider;\n    \n    JLabel strokeSizeLabel;\n    \n    Graphics2D graphSettings;\n    \n    int strokeSize;\n    \n    //graphSettings.setStroke(new BasicStroke(5f));\n    \n    int currentAction = 1;\n    \n    float transparentVal = 1.0f;\n    \n    Color strokeColor = Color.BLACK, fillColor = Color.BLACK;\n    \n    public static void main(String[] args) {\n        \n        new Lesson48();\n        \n    }\n    \n    public Lesson48() {\n        \n        this.setSize(1000, 600);\n        this.setTitle(&quot;Java Paint&quot;);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        JPanel buttonPanel = new JPanel();\n        \n        Box theBox = Box.createHorizontalBox();\n        \n        brushBut = makeMeButtons(&quot;./src/Brush.png&quot;, 1);\n        lineBut = makeMeButtons(&quot;./src/Line.png&quot;, 2);\n        ellipseBut = makeMeButtons(&quot;./src/Ellipse.png&quot;, 3);\n        rectBut = makeMeButtons(&quot;./src/Rectangle.png&quot;, 4);\n        \n        strokeBut = makeMeColorButton(&quot;./src/Stroke.png&quot;, 5, true);\n        fillBut = makeMeColorButton(&quot;./src/Fill.png&quot;, 6, false);\n        \n        theBox.add(brushBut);\n        theBox.add(lineBut);\n        theBox.add(ellipseBut);\n        theBox.add(rectBut);\n        theBox.add(strokeBut);\n        theBox.add(fillBut);\n        \n        transLabel = new JLabel(&quot;  Transparent: 1&quot;);\n        \n        transSlider = new JSlider(1, 99, 99);\n        \n        ListenerForSlider lForSlider = new ListenerForSlider();\n        \n        transSlider.addChangeListener(lForSlider);\n        \n        theBox.add(transLabel);\n        theBox.add(transSlider);\n        \n        // changing the strokeSize dynamically\n        \n        strokeSizeLabel = new JLabel(&quot;  Stroke: 1&quot;);\n        \n        strokeSizeSlider = new JSlider(1, 20, 1);\n        \n        ListenerForSlider2 sForSlider = new ListenerForSlider2();\n        \n        strokeSizeSlider.addChangeListener(sForSlider);\n        \n        theBox.add(strokeSizeLabel);\n        theBox.add(strokeSizeSlider);\n        \n        buttonPanel.add(theBox);\n        \n        this.add(buttonPanel, BorderLayout.SOUTH);\n        \n        this.add(new DrawingBoard(), BorderLayout.CENTER);\n        \n        this.setVisible(true);\n        \n    }\n    \n    public JButton makeMeButtons(String iconFile, final int actionNum) {\n        \n        JButton theBut = new JButton();\n        Icon butIcon = new ImageIcon(iconFile);\n        theBut.setIcon(butIcon);\n        \n        theBut.addActionListener(new ActionListener() {\n\n            public void actionPerformed(ActionEvent e) {\n                currentAction = actionNum;\n            }\n            \n        });\n        \n        return theBut;\n        \n    }\n    \n    public JButton makeMeColorButton(String iconFile, final int actionNum, final boolean stroke) {\n        \n        JButton theBut = new JButton();\n        Icon butIcon = new ImageIcon(iconFile);\n        theBut.setIcon(butIcon);\n        \n        theBut.addActionListener(new ActionListener() {\n\n            public void actionPerformed(ActionEvent e) {\n                if(stroke) {\n                    strokeColor = JColorChooser.showDialog(null, &quot;Pick a Stroke&quot;, Color.BLACK);\n                } else {\n                    fillColor = JColorChooser.showDialog(null, &quot;Pick a Fill&quot;, Color.BLACK);\n                }\n            }\n            \n        });\n        \n        return theBut;\n        \n    }\n    \n    private class DrawingBoard extends JComponent{\n        \n        ArrayList&lt;Shape&gt; shapes = new ArrayList&lt;Shape&gt;();\n        ArrayList&lt;Color&gt; shapeFill = new ArrayList&lt;Color&gt;();\n        ArrayList&lt;Color&gt; shapeStroke = new ArrayList&lt;Color&gt;();\n        \n        ArrayList&lt;Float&gt; transPercent = new ArrayList&lt;Float&gt;();\n        \n        ArrayList&lt;Stroke&gt; shapeStrokeSize = new ArrayList&lt;Stroke&gt;();\n        \n        Point drawStart, drawEnd;\n        \n        public DrawingBoard() {\n            \n            this.addMouseListener(new MouseAdapter() {\n                \n                public void mousePressed(MouseEvent e) {\n                    \n                    if(currentAction != 1) {\n                    \n                    drawStart = new Point(e.getX(), e.getY());\n                    drawEnd = drawStart;\n                    repaint();\n                    }\n                }\n                \n                public void mouseReleased(MouseEvent e) {\n                    \n                    if(currentAction != 1) {\n                        \n                        Shape aShape = null;\n                        \n                        if(currentAction == 2) {\n                            aShape = drawLine(drawStart.x, drawStart.y, e.getX(), e.getY());\n                        } else\n                            \n                        if(currentAction == 3) {\n                            aShape = drawEllipse(drawStart.x, drawStart.y, e.getX(), e.getY());\n                        } else\n                            \n                        if(currentAction == 4) {\n                            aShape = drawRectangle(drawStart.x, drawStart.y, e.getX(), e.getY());\n                        }\n                        \n                        shapes.add(aShape);\n                        shapeFill.add(fillColor);\n                        shapeStroke.add(strokeColor);\n                        \n                        transPercent.add(transparentVal);\n                        \n                        //shapeStrokeSize.add(strokeSize);\n                        \n                        drawStart = null;\n                        drawEnd = null;\n                        repaint();\n                    }\n                    \n                }\n                \n            });\n            \n            this.addMouseMotionListener(new MouseMotionAdapter() {\n                \n                public void mouseDragged(MouseEvent e) {\n                    \n                    if(currentAction == 1) {\n                        \n                        int x = e.getX();\n                        int y = e.getY();\n                        \n                        Shape aShape = null;\n                        \n                        strokeColor = fillColor;\n                        \n                        aShape = drawBrush(x, y, 2, 2);\n                        \n                        shapes.add(aShape);\n                        shapeFill.add(fillColor);\n                        shapeStroke.add(strokeColor);\n                        \n                        transPercent.add(transparentVal);\n                        \n                        //shapeStrokeSize.add(strokeSize);\n                        \n                    }\n                    \n                    drawEnd = new Point(e.getX(), e.getY());\n                    repaint();\n                }\n                \n            });\n            \n        }\n        \n        public void paint(Graphics g) {\n            \n            graphSettings = (Graphics2D)g;\n            \n            graphSettings.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n            \n            graphSettings.setStroke(new BasicStroke(strokeSize));\n            \n            Iterator&lt;Color&gt; strokeCounter = shapeStroke.iterator();\n            Iterator&lt;Color&gt; fillCounter = shapeFill.iterator();\n            \n            Iterator&lt;Float&gt; transCounter = transPercent.iterator();\n            \n            Iterator&lt;Stroke&gt; strokeSizeCounter = shapeStrokeSize.iterator();\n            \n            for(Shape s : shapes) {\n                \n                //graphSettings.setStroke(strokeSizeCounter.next());\n                //graphSettings.draw(s);\n                \n                graphSettings.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER, transCounter.next()));\n                \n                graphSettings.setPaint(strokeCounter.next());\n                graphSettings.draw(s);\n                graphSettings.setPaint(fillCounter.next());\n                graphSettings.fill(s);\n            }\n            \n            if(drawStart != null &amp;&amp; drawEnd != null) {\n                \n                graphSettings.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER, 0.4f));\n                \n                graphSettings.setPaint(Color.LIGHT_GRAY);\n                \n                Shape aShape = null;\n                \n                if(currentAction == 2) {\n                    aShape = drawLine(drawStart.x, drawStart.y, drawEnd.x, drawEnd.y);\n                } else\n                    \n                if(currentAction == 3) {\n                    aShape = drawEllipse(drawStart.x, drawStart.y, drawEnd.x, drawEnd.y);\n                } else\n                    \n                if(currentAction == 4) {\n                    aShape = drawRectangle(drawStart.x, drawStart.y, drawEnd.x, drawEnd.y);\n                }\n                \n                graphSettings.draw(aShape);\n                \n            }\n            \n        }\n        \n        private Rectangle2D.Float drawRectangle(int x1, int y1, int x2, int y2){\n            \n            int x = Math.min(x1, x2);\n            int y = Math.min(y1, y2);\n            \n            int width = Math.abs(x1-x2);\n            int height = Math.abs(y1-y2);\n            \n            return new Rectangle2D.Float(x, y, width, height);\n            \n        }\n        \n        private Ellipse2D.Float drawEllipse(int x1, int y1, int x2, int y2){\n            \n            int x = Math.min(x1, x2);\n            int y = Math.min(y1, y2);\n            \n            int width = Math.abs(x1-x2);\n            int height = Math.abs(y1-y2);\n            \n            return new Ellipse2D.Float(x, y, width, height);\n            \n        }\n        \n        private Line2D.Float drawLine(int x1, int y1, int x2, int y2){\n            \n            return new Line2D.Float(x1, y1, x2, y2);\n            \n        }\n        \n        private Ellipse2D.Float drawBrush(int x1, int y1, int brushStrokeWidth, int brushStrokeHeight){\n            \n            return new Ellipse2D.Float(x1, y1, brushStrokeWidth, brushStrokeHeight);\n            \n        }\n        \n    }\n    \n    private class ListenerForSlider implements ChangeListener{\n\n        public void stateChanged(ChangeEvent e) {\n            \n            if(e.getSource() == transSlider) {\n                \n                transLabel.setText(&quot;  Transparent: &quot; + dec.format(transSlider.getValue() * .01));\n                \n                transparentVal = (float) (transSlider.getValue() * .01);\n                \n            }\n            \n        }\n        \n    }\n    \n    private class ListenerForSlider2 implements ChangeListener{\n\n        public void stateChanged(ChangeEvent e) {\n            \n            if(e.getSource() == strokeSizeSlider) {\n                \n                strokeSizeLabel.setText(&quot;  Stroke: &quot; + strokeSizeSlider.getValue());\n                \n                strokeSize = strokeSizeSlider.getValue();\n            }\n            \n        }\n        \n    }\n    \n}\n</code></pre>\n"},{"tags":["java","ssl","applet","lets-encrypt"],"comments":[{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1475130084,"post_id":39762760,"comment_id":66820639,"body_markdown":"You need to tell let&#39;s encrypt that not your applet! You need to add a `-d` parameter for **each and every** DNS name that your server can be accessed by.","body":"You need to tell let&#39;s encrypt that not your applet! You need to add a <code>-d</code> parameter for <b>each and every</b> DNS name that your server can be accessed by."},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1475130093,"post_id":39762760,"comment_id":66820645,"body_markdown":"P.S. applet? Get rid of it...","body":"P.S. applet? Get rid of it..."},{"owner":{"account_id":5667136,"reputation":5619,"user_id":4483015,"display_name":"Anand Bhat"},"score":0,"creation_date":1475131512,"post_id":39762760,"comment_id":66821421,"body_markdown":"What version of Apache are you using? Is developer.foo.com the first virtual host in your Apache config? If your site is public, check it against SSL Labs to see if you see any SNI alerts.","body":"What version of Apache are you using? Is developer.foo.com the first virtual host in your Apache config? If your site is public, check it against SSL Labs to see if you see any SNI alerts."},{"owner":{"account_id":15742,"reputation":543,"user_id":33578,"accept_rate":25,"display_name":"yassam"},"score":0,"creation_date":1475188095,"post_id":39762760,"comment_id":66856043,"body_markdown":"@BoristheSpider - can you elaborate please? Are you saying I use a single certificate for all foo.bar and all its subdomains, using -d to specify them all? Getting rid of the applet is not an option right now.","body":"@BoristheSpider - can you elaborate please? Are you saying I use a single certificate for all foo.bar and all its subdomains, using -d to specify them all? Getting rid of the applet is not an option right now."},{"owner":{"account_id":15742,"reputation":543,"user_id":33578,"accept_rate":25,"display_name":"yassam"},"score":0,"creation_date":1475190223,"post_id":39762760,"comment_id":66856648,"body_markdown":"@AnandBhat it&#39;s apache 2.4.x and yes, developer.foo.bar is the first SSL-enabled virtual host (alphabetically). SSL labs gives it an A+ rating.","body":"@AnandBhat it&#39;s apache 2.4.x and yes, developer.foo.bar is the first SSL-enabled virtual host (alphabetically). SSL labs gives it an A+ rating."},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1475223138,"post_id":39762760,"comment_id":66867005,"body_markdown":"Either that, or you need to configure your VHosts correctly with SNI. Currently I try and access `foo.com` and you give me the certificate for `developer.foo.com` which isn&#39;t correct.","body":"Either that, or you need to configure your VHosts correctly with SNI. Currently I try and access <code>foo.com</code> and you give me the certificate for <code>developer.foo.com</code> which isn&#39;t correct."},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1475223732,"post_id":39762760,"comment_id":66867264,"body_markdown":"Another possibility is that you have using Java 6 or lower (please say you&#39;re not). Java 7 was the first version with SNI support. If the client does not support SNI, then the server has no way of knowing which VHost the client wants as you have a chicken and egg problem - the information about the domain is encrypted, but in order to decrypt it the server must send its certificate; but in order to know which certificate to send it needs to know the domain...","body":"Another possibility is that you have using Java 6 or lower (please say you&#39;re not). Java 7 was the first version with SNI support. If the client does not support SNI, then the server has no way of knowing which VHost the client wants as you have a chicken and egg problem - the information about the domain is encrypted, but in order to decrypt it the server must send its certificate; but in order to know which certificate to send it needs to know the domain..."},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1475223753,"post_id":39762760,"comment_id":66867273,"body_markdown":"Also; Applet? eeew (you realise they&#39;re removing applets from Java 9, right?)","body":"Also; Applet? eeew (you realise they&#39;re removing applets from Java 9, right?)"},{"owner":{"account_id":5667136,"reputation":5619,"user_id":4483015,"display_name":"Anand Bhat"},"score":0,"creation_date":1475244377,"post_id":39762760,"comment_id":66879735,"body_markdown":"Consider adding your Apache virtual hosting configs for staging.foo.com and developer.foo.com to the question. This most likely is an issue related to SNI and considering you are using Java 1.8.0_102 which is SNI aware, I&#39;d suspect the Apache config.","body":"Consider adding your Apache virtual hosting configs for staging.foo.com and developer.foo.com to the question. This most likely is an issue related to SNI and considering you are using Java 1.8.0_102 which is SNI aware, I&#39;d suspect the Apache config."},{"owner":{"account_id":15742,"reputation":543,"user_id":33578,"accept_rate":25,"display_name":"yassam"},"score":0,"creation_date":1475444739,"post_id":39762760,"comment_id":66934409,"body_markdown":"@BoristheSpider - I don&#39;t know if I&#39;ve set up SNI correctly, but when I access foo.com, staging.foo.com and developer.foo.com using Chrome, it all works fine. It doesn&#39;t appear as though accessing staging get the developer SSL cert when using Chrome. I do plan to plan to rewrite the applet in pure JS, but that will take a long time, and I need the applet to work this week. The applet is running on Java 8 (1.8.0_102)","body":"@BoristheSpider - I don&#39;t know if I&#39;ve set up SNI correctly, but when I access foo.com, staging.foo.com and developer.foo.com using Chrome, it all works fine. It doesn&#39;t appear as though accessing staging get the developer SSL cert when using Chrome. I do plan to plan to rewrite the applet in pure JS, but that will take a long time, and I need the applet to work this week. The applet is running on Java 8 (1.8.0_102)"},{"owner":{"account_id":15742,"reputation":543,"user_id":33578,"accept_rate":25,"display_name":"yassam"},"score":0,"creation_date":1475444804,"post_id":39762760,"comment_id":66934430,"body_markdown":"@AnandBhat - I&#39;ve added the Apache config for staging.foo.com. The developer config is identical, save that it uses its own cert file","body":"@AnandBhat - I&#39;ve added the Apache config for staging.foo.com. The developer config is identical, save that it uses its own cert file"},{"owner":{"account_id":15742,"reputation":543,"user_id":33578,"accept_rate":25,"display_name":"yassam"},"score":0,"creation_date":1475444981,"post_id":39762760,"comment_id":66934488,"body_markdown":"I also tried turning SSLStrictSNIVHostCheck on (this is in the global apache config section) and it made no difference. The error log didn&#39;t show an error when I ran the applet.","body":"I also tried turning SSLStrictSNIVHostCheck on (this is in the global apache config section) and it made no difference. The error log didn&#39;t show an error when I ran the applet."},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1691333341,"post_id":39762760,"comment_id":135474535,"body_markdown":"Does this answer your question? [Certificate for &lt;localhost&gt; doesn&#39;t match any of the subject alternative names](https://stackoverflow.com/questions/50928061/certificate-for-localhost-doesnt-match-any-of-the-subject-alternative-names)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/50928061/certificate-for-localhost-doesnt-match-any-of-the-subject-alternative-names\">Certificate for &lt;localhost&gt; doesn&#39;t match any of the subject alternative names</a>"}],"answers":[{"tags":[],"owner":{"account_id":3644264,"reputation":17,"user_id":3037692,"display_name":"vig-go"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1510698888,"creation_date":1510698888,"answer_id":47296375,"question_id":39762760,"body_markdown":"I was getting the same error when I was using methods from org.apache.http.* for making my http requests. From your stack trace I assume that even you are using the same.\r\n\r\nThis error disappeared when I used java.net.HttpURLConnection and I was able to connect successfully.\r\n\r\n    import java.net.HttpURLConnection;\r\n\r\n    public static HttpURLConnection connectToWeb(String uri) {\r\n        HttpURLConnection connection = null;\r\n        try {\r\n            URL url = new URL(uri);\r\n            connection = (HttpURLConnection) url.openConnection();\r\n            connection.setRequestMethod(&quot;GET&quot;);\r\n            connection.connect();\r\n        } catch (MalformedURLException ex) {\r\n            ex.printStackTrace();\r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n        return connection;\r\n    }\r\n\r\n","title":"javax.net.ssl.SSLException: Certificate doesn&#39;t match any of the subject alternative names","body":"<p>I was getting the same error when I was using methods from org.apache.http.* for making my http requests. From your stack trace I assume that even you are using the same.</p>\n\n<p>This error disappeared when I used java.net.HttpURLConnection and I was able to connect successfully.</p>\n\n<pre><code>import java.net.HttpURLConnection;\n\npublic static HttpURLConnection connectToWeb(String uri) {\n    HttpURLConnection connection = null;\n    try {\n        URL url = new URL(uri);\n        connection = (HttpURLConnection) url.openConnection();\n        connection.setRequestMethod(\"GET\");\n        connection.connect();\n    } catch (MalformedURLException ex) {\n        ex.printStackTrace();\n    } catch (IOException ex) {\n        ex.printStackTrace();\n    }\n    return connection;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7433151,"reputation":461,"user_id":5653406,"display_name":"Awan Biru"},"score":1,"creation_date":1633577146,"post_id":48812103,"comment_id":122798157,"body_markdown":"This is nasty, bypass hostname check.","body":"This is nasty, bypass hostname check."},{"owner":{"account_id":10038600,"reputation":255,"user_id":7473935,"display_name":"Clockwork"},"score":0,"creation_date":1657276612,"post_id":48812103,"comment_id":128777838,"body_markdown":"@AwanBiru How so? I&#39;m not entirely sure I understand this answer either.","body":"@AwanBiru How so? I&#39;m not entirely sure I understand this answer either."},{"owner":{"account_id":7433151,"reputation":461,"user_id":5653406,"display_name":"Awan Biru"},"score":5,"creation_date":1657599394,"post_id":48812103,"comment_id":128842760,"body_markdown":"@Clockwork I believe by opting for NoopHostnameVerifier, it will turn off the hostname check with the certificate&#39;s CN or SAN. Hence the authenticity of the certificate and host might be compromised. IMHO, better not to do this workaround, unless we are pretty sure the host, certificate, and infrastructure are  100% under our own control. \n\nThe better technique is to do CSR and cert generation with proper names.","body":"@Clockwork I believe by opting for NoopHostnameVerifier, it will turn off the hostname check with the certificate&#39;s CN or SAN. Hence the authenticity of the certificate and host might be compromised. IMHO, better not to do this workaround, unless we are pretty sure the host, certificate, and infrastructure are  100% under our own control.   The better technique is to do CSR and cert generation with proper names."}],"tags":[],"owner":{"account_id":7334179,"reputation":399,"user_id":5586134,"display_name":"Yurii"},"comment_count":3,"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1518782821,"creation_date":1518712625,"answer_id":48812103,"question_id":39762760,"body_markdown":"If you use HttpClient 4.4 then you need to specify host verifier (NoopHostnameVerifier) to allow accepting certificates from different hosts:\r\n\r\n    SSLConnectionSocketFactory scsf = SSLConnectionSocketFactory(\r\n         SSLContexts.custom().loadTrustMaterial(null, new TrustSelfSignedStrategy()).build(), \r\n            NoopHostnameVerifier.INSTANCE)\r\n    httpclient = HttpClients.custom().setSSLSocketFactory(scsf).build()","title":"javax.net.ssl.SSLException: Certificate doesn&#39;t match any of the subject alternative names","body":"<p>If you use HttpClient 4.4 then you need to specify host verifier (NoopHostnameVerifier) to allow accepting certificates from different hosts:</p>\n\n<pre><code>SSLConnectionSocketFactory scsf = SSLConnectionSocketFactory(\n     SSLContexts.custom().loadTrustMaterial(null, new TrustSelfSignedStrategy()).build(), \n        NoopHostnameVerifier.INSTANCE)\nhttpclient = HttpClients.custom().setSSLSocketFactory(scsf).build()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":2,"creation_date":1638264245,"post_id":49515806,"comment_id":124035916,"body_markdown":"there also seems to have been a regression between 4.5.10 and 4.5.11 which was fixed in 4.5.12, that had something to do with non-public hostnames https://issues.apache.org/jira/browse/HTTPCLIENT-2047\n\nmoreover, creating hostname verifier using the new DefaultHostnameVerifier() constructor (like in the above link) helped me identify my own problem - I was creating it using javax.net.ssl.HttpsURLConnection.getDefaultHostnameVerifier() - which seems to cause the above exception with valid certificates","body":"there also seems to have been a regression between 4.5.10 and 4.5.11 which was fixed in 4.5.12, that had something to do with non-public hostnames <a href=\"https://issues.apache.org/jira/browse/HTTPCLIENT-2047\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/HTTPCLIENT-2047</a>  moreover, creating hostname verifier using the new DefaultHostnameVerifier() constructor (like in the above link) helped me identify my own problem - I was creating it using javax.net.ssl.HttpsURLConnection.getDefaultHostnameVerifier(&zwnj;&#8203;) - which seems to cause the above exception with valid certificates"}],"tags":[],"owner":{"account_id":1197482,"reputation":4952,"user_id":1168884,"accept_rate":79,"display_name":"matt freake"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1522161497,"creation_date":1522161497,"answer_id":49515806,"question_id":39762760,"body_markdown":"I don&#39;t know which version of the Apache HttpClient you were using but versions 4.4.1 and 4.5.1 had a bug where the SNI didn&#39;t work correctly. This was fixed in 4.5.3\r\n\r\n[https://issues.apache.org/jira/browse/HTTPCLIENT-1726][1]\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/HTTPCLIENT-1726 &quot;The deprecated SSLSocketFactory does not contain the SNI fix found in the SSLConnectionSocketFactory class&quot;","title":"javax.net.ssl.SSLException: Certificate doesn&#39;t match any of the subject alternative names","body":"<p>I don't know which version of the Apache HttpClient you were using but versions 4.4.1 and 4.5.1 had a bug where the SNI didn't work correctly. This was fixed in 4.5.3</p>\n\n<p><a href=\"https://issues.apache.org/jira/browse/HTTPCLIENT-1726\" rel=\"nofollow noreferrer\" title=\"The deprecated SSLSocketFactory does not contain the SNI fix found in the SSLConnectionSocketFactory class\">https://issues.apache.org/jira/browse/HTTPCLIENT-1726</a></p>\n"},{"tags":[],"owner":{"account_id":417785,"reputation":909,"user_id":793970,"accept_rate":100,"display_name":"Sushant Verma"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1548327298,"creation_date":1548241688,"answer_id":54325851,"question_id":39762760,"body_markdown":"Following Yurri&#39;s comment, it solved my problem by adding NoopHostnameVerifier.INSTANCE while initialising SSLConnectionSocketFactory :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    import org.apache.http.HttpHost;\r\n    import org.apache.http.conn.ssl.NoopHostnameVerifier;\r\n    import org.apache.http.conn.ssl.SSLConnectionSocketFactory;\r\n    import org.apache.http.conn.ssl.TrustSelfSignedStrategy;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    import org.apache.http.impl.client.HttpClients;\r\n    import org.apache.http.ssl.TrustStrategy;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.http.HttpEntity;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.http.client.HttpComponentsClientHttpRequestFactory;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.client.HttpClientErrorException;\r\n    import org.springframework.web.client.RestTemplate;\r\n\r\n    import java.net.Proxy;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.security.KeyManagementException;\r\n    import java.security.KeyStoreException;\r\n    import java.security.NoSuchAlgorithmException;\r\n\r\n    import javax.net.ssl.SSLContext;\r\n\r\n    /**\r\n     * Provide basic Utils for getting HttpHeader and making REST api calls.\r\n     * \r\n     */\r\n    @Component\r\n    public class HttpUtil {\r\n\r\n        private static final Logger LOG = LoggerFactory.getLogger(HttpUtil.class);\r\n\r\n        /**\r\n         * The default implementation to get basic headers.\r\n         * @return HttpHeaders.\r\n         */\r\n        public HttpHeaders getHttpHeaders(String userAgent, String host) {\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setContentType(MediaType.APPLICATION_JSON);\r\n            headers.set(HttpHeaders.ACCEPT_CHARSET, StandardCharsets.UTF_8.name());\r\n            headers.set(HttpHeaders.USER_AGENT, userAgent);\r\n            LOG.info(&quot;host=&quot; + host);\r\n            if (null != host) {\r\n                headers.set(HttpHeaders.HOST, host);\r\n            }\r\n\r\n            return headers;\r\n        }\r\n\r\n        /**\r\n         * Default implementation to get RestTemplate\r\n         * @return\r\n         */\r\n         public RestTemplate getRestTemplate(String proxyHost, int proxyPort)\r\n            throws KeyStoreException, NoSuchAlgorithmException, KeyManagementException {\r\n\r\n        TrustStrategy acceptingTrustStrategy = new TrustSelfSignedStrategy();\r\n\r\n        SSLContext sslContext = org.apache.http.ssl.SSLContexts.custom().loadTrustMaterial(null, acceptingTrustStrategy)\r\n                .build();\r\n\r\n        SSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext, NoopHostnameVerifier.INSTANCE);\r\n\r\n        CloseableHttpClient httpClient = HttpClients.custom().setSSLSocketFactory(csf).build();\r\n\r\n        HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\n        if (null != proxyHost &amp;&amp; proxyPort &gt; 0) {\r\n            LOG.info(&quot;PROXY CONFIGURED | proxyHost=&quot; + proxyHost + &quot; | proxyPort=&quot; + proxyPort);\r\n            HttpHost proxy = new HttpHost(proxyHost, proxyPort, Proxy.Type.HTTP.name());\r\n            httpClient = HttpClients.custom().setSSLSocketFactory(csf)\r\n                    .setRoutePlanner(new DefaultProxyRoutePlanner(proxy)).build();\r\n        }\r\n        requestFactory.setHttpClient(httpClient);\r\n        RestTemplate restTemplate = new RestTemplate(requestFactory);\r\n        return restTemplate;\r\n}\r\n\r\n        /**\r\n         * Make a rest api call\r\n         * @return ResponseEntity\r\n         */\r\n        public ResponseEntity&lt;String&gt; getApiResponse(HttpMethod httpMethod, final String URL, final String userAgent,\r\n                String proxyHost, int proxyPort, String host) throws HttpClientErrorException {\r\n            ResponseEntity&lt;String&gt; response = null;\r\n            HttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;&gt;(getHttpHeaders(userAgent, host));\r\n            try {\r\n                if (null != httpMethod &amp;&amp; null != URL) {\r\n                    RestTemplate request = null;\r\n                    try {\r\n                        request = getRestTemplate(proxyHost, proxyPort);\r\n                        response = request.exchange(URL, httpMethod, httpEntity, String.class);\r\n                    } catch (KeyManagementException | KeyStoreException | NoSuchAlgorithmException e) {\r\n                        LOG.error(&quot;Error creating Rest Template&quot;, e);\r\n                    }\r\n                }\r\n            } catch (HttpClientErrorException ex) {\r\n                LOG.error(&quot;Method = &quot; + httpMethod.toString() + &quot;Request URL = &quot; + URL);\r\n                LOG.error(&quot;Headers =&quot; + getHttpHeaders(userAgent, host));\r\n                LOG.error(&quot;Response Status = &quot; + ex.getStatusText());\r\n                LOG.error(&quot;Response Body = &quot; + ex.getResponseBodyAsString());\r\n                throw ex;\r\n            }\r\n            return response;\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"javax.net.ssl.SSLException: Certificate doesn&#39;t match any of the subject alternative names","body":"<p>Following Yurri's comment, it solved my problem by adding NoopHostnameVerifier.INSTANCE while initialising SSLConnectionSocketFactory :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import org.apache.http.HttpHost;\r\nimport org.apache.http.conn.ssl.NoopHostnameVerifier;\r\nimport org.apache.http.conn.ssl.SSLConnectionSocketFactory;\r\nimport org.apache.http.conn.ssl.TrustSelfSignedStrategy;\r\nimport org.apache.http.impl.client.CloseableHttpClient;\r\nimport org.apache.http.impl.client.HttpClientBuilder;\r\nimport org.apache.http.impl.client.HttpClients;\r\nimport org.apache.http.ssl.TrustStrategy;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.http.HttpEntity;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.http.client.HttpComponentsClientHttpRequestFactory;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.client.HttpClientErrorException;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\nimport java.net.Proxy;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.KeyManagementException;\r\nimport java.security.KeyStoreException;\r\nimport java.security.NoSuchAlgorithmException;\r\n\r\nimport javax.net.ssl.SSLContext;\r\n\r\n/**\r\n * Provide basic Utils for getting HttpHeader and making REST api calls.\r\n * \r\n */\r\n@Component\r\npublic class HttpUtil {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(HttpUtil.class);\r\n\r\n    /**\r\n     * The default implementation to get basic headers.\r\n     * @return HttpHeaders.\r\n     */\r\n    public HttpHeaders getHttpHeaders(String userAgent, String host) {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_JSON);\r\n        headers.set(HttpHeaders.ACCEPT_CHARSET, StandardCharsets.UTF_8.name());\r\n        headers.set(HttpHeaders.USER_AGENT, userAgent);\r\n        LOG.info(\"host=\" + host);\r\n        if (null != host) {\r\n            headers.set(HttpHeaders.HOST, host);\r\n        }\r\n\r\n        return headers;\r\n    }\r\n\r\n    /**\r\n     * Default implementation to get RestTemplate\r\n     * @return\r\n     */\r\n     public RestTemplate getRestTemplate(String proxyHost, int proxyPort)\r\n        throws KeyStoreException, NoSuchAlgorithmException, KeyManagementException {\r\n\r\n    TrustStrategy acceptingTrustStrategy = new TrustSelfSignedStrategy();\r\n\r\n    SSLContext sslContext = org.apache.http.ssl.SSLContexts.custom().loadTrustMaterial(null, acceptingTrustStrategy)\r\n            .build();\r\n\r\n    SSLConnectionSocketFactory csf = new SSLConnectionSocketFactory(sslContext, NoopHostnameVerifier.INSTANCE);\r\n\r\n    CloseableHttpClient httpClient = HttpClients.custom().setSSLSocketFactory(csf).build();\r\n\r\n    HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\n    if (null != proxyHost &amp;&amp; proxyPort &gt; 0) {\r\n        LOG.info(\"PROXY CONFIGURED | proxyHost=\" + proxyHost + \" | proxyPort=\" + proxyPort);\r\n        HttpHost proxy = new HttpHost(proxyHost, proxyPort, Proxy.Type.HTTP.name());\r\n        httpClient = HttpClients.custom().setSSLSocketFactory(csf)\r\n                .setRoutePlanner(new DefaultProxyRoutePlanner(proxy)).build();\r\n    }\r\n    requestFactory.setHttpClient(httpClient);\r\n    RestTemplate restTemplate = new RestTemplate(requestFactory);\r\n    return restTemplate;\r\n}\r\n\r\n    /**\r\n     * Make a rest api call\r\n     * @return ResponseEntity\r\n     */\r\n    public ResponseEntity&lt;String&gt; getApiResponse(HttpMethod httpMethod, final String URL, final String userAgent,\r\n            String proxyHost, int proxyPort, String host) throws HttpClientErrorException {\r\n        ResponseEntity&lt;String&gt; response = null;\r\n        HttpEntity&lt;String&gt; httpEntity = new HttpEntity&lt;&gt;(getHttpHeaders(userAgent, host));\r\n        try {\r\n            if (null != httpMethod &amp;&amp; null != URL) {\r\n                RestTemplate request = null;\r\n                try {\r\n                    request = getRestTemplate(proxyHost, proxyPort);\r\n                    response = request.exchange(URL, httpMethod, httpEntity, String.class);\r\n                } catch (KeyManagementException | KeyStoreException | NoSuchAlgorithmException e) {\r\n                    LOG.error(\"Error creating Rest Template\", e);\r\n                }\r\n            }\r\n        } catch (HttpClientErrorException ex) {\r\n            LOG.error(\"Method = \" + httpMethod.toString() + \"Request URL = \" + URL);\r\n            LOG.error(\"Headers =\" + getHttpHeaders(userAgent, host));\r\n            LOG.error(\"Response Status = \" + ex.getStatusText());\r\n            LOG.error(\"Response Body = \" + ex.getResponseBodyAsString());\r\n            throw ex;\r\n        }\r\n        return response;\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"comments":[{"owner":{"account_id":3039302,"reputation":11554,"user_id":2576706,"display_name":"Ludovic Feltz"},"score":0,"creation_date":1569600157,"post_id":58137678,"comment_id":102662461,"body_markdown":"Please explain your solution","body":"Please explain your solution"},{"owner":{"account_id":8347648,"reputation":656,"user_id":6270875,"accept_rate":100,"display_name":"hiaclibe"},"score":0,"creation_date":1580302305,"post_id":58137678,"comment_id":106051755,"body_markdown":"You just trust all certs instead validate.","body":"You just trust all certs instead validate."}],"tags":[],"owner":{"account_id":11905732,"reputation":1,"user_id":9521904,"display_name":"Mahesh Poojary"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1569598950,"creation_date":1569598950,"answer_id":58137678,"question_id":39762760,"body_markdown":"    /*\r\n     * Inner class for Proxy SSL Socket Connection.\r\n     */\r\n    static class MyConnectionSocketFactory extends SSLConnectionSocketFactory {\r\n        private String proxyHost = null;\r\n        private Integer proxyPort = null;\r\n\r\n        public MyConnectionSocketFactory(final SSLContext sslContext, String proxyHost, Integer proxyPort) {\r\n            super(sslContext, new NoopHostnameVerifier());\r\n            this.proxyHost = proxyHost;\r\n            this.proxyPort = proxyPort;\r\n        }\r\n\r\n        @Override\r\n        public Socket createSocket(final HttpContext context) throws IOException {\r\n            logger.debug(&quot;Create Socket:&quot; + &quot; ProxyHost: &quot; + proxyHost + &quot;, ProxyPort: &quot; + proxyPort);\r\n            InetSocketAddress socksaddr = new InetSocketAddress(proxyHost,proxyPort);\r\n            Proxy proxy = new Proxy(Proxy.Type.SOCKS, socksaddr);\r\n            return new Socket(proxy);\r\n        }\r\n    }\r\n\r\n\r\n       else if (proxyType.equalsIgnoreCase(&quot;socks&quot;)) {\r\n            logger.debug(&quot;Proxy Type: &quot; + proxyType);\r\n            TrustStrategy acceptingTrustStrategy = new TrustStrategy() {\r\n                @Override\r\n                public boolean isTrusted(X509Certificate[] x509Certificates, String s) throws CertificateException {\r\n                    return true;\r\n                }\r\n            };\r\n\r\n            SSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\r\n                    .loadTrustMaterial(null, acceptingTrustStrategy)\r\n                    .build();\r\n            SSLConnectionSocketFactory csf = new MyConnectionSocketFactory(sslContext, proxyHost, proxyPort);\r\n            CloseableHttpClient httpClient = HttpClients.custom()\r\n                    .setSSLSocketFactory(csf)\r\n                    .build();\r\n            HttpComponentsClientHttpRequestFactory requestFactory =\r\n                    new HttpComponentsClientHttpRequestFactory();\r\n            requestFactory.setHttpClient(httpClient);\r\n            restTemplate = new RestTemplate(requestFactory);\r\n            return;\r\n        } else {","title":"javax.net.ssl.SSLException: Certificate doesn&#39;t match any of the subject alternative names","body":"<pre><code>/*\n * Inner class for Proxy SSL Socket Connection.\n */\nstatic class MyConnectionSocketFactory extends SSLConnectionSocketFactory {\n    private String proxyHost = null;\n    private Integer proxyPort = null;\n\n    public MyConnectionSocketFactory(final SSLContext sslContext, String proxyHost, Integer proxyPort) {\n        super(sslContext, new NoopHostnameVerifier());\n        this.proxyHost = proxyHost;\n        this.proxyPort = proxyPort;\n    }\n\n    @Override\n    public Socket createSocket(final HttpContext context) throws IOException {\n        logger.debug(\"Create Socket:\" + \" ProxyHost: \" + proxyHost + \", ProxyPort: \" + proxyPort);\n        InetSocketAddress socksaddr = new InetSocketAddress(proxyHost,proxyPort);\n        Proxy proxy = new Proxy(Proxy.Type.SOCKS, socksaddr);\n        return new Socket(proxy);\n    }\n}\n\n\n   else if (proxyType.equalsIgnoreCase(\"socks\")) {\n        logger.debug(\"Proxy Type: \" + proxyType);\n        TrustStrategy acceptingTrustStrategy = new TrustStrategy() {\n            @Override\n            public boolean isTrusted(X509Certificate[] x509Certificates, String s) throws CertificateException {\n                return true;\n            }\n        };\n\n        SSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\n                .loadTrustMaterial(null, acceptingTrustStrategy)\n                .build();\n        SSLConnectionSocketFactory csf = new MyConnectionSocketFactory(sslContext, proxyHost, proxyPort);\n        CloseableHttpClient httpClient = HttpClients.custom()\n                .setSSLSocketFactory(csf)\n                .build();\n        HttpComponentsClientHttpRequestFactory requestFactory =\n                new HttpComponentsClientHttpRequestFactory();\n        requestFactory.setHttpClient(httpClient);\n        restTemplate = new RestTemplate(requestFactory);\n        return;\n    } else {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9191117,"reputation":96,"user_id":6831610,"display_name":"vikesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611318888,"creation_date":1611318888,"answer_id":65845297,"question_id":39762760,"body_markdown":"If you are trying to access URL in any object try to set following in your code (Depends on how you are trying to access URL eg. Here we used WebClient object to set below parameter )&lt;br&gt;Create WebClient object and set following:- &lt;br&gt;`WebClient webClient = null;`&lt;br&gt;`System.setProperty(&quot;jsse.enableSNIExtension&quot;, &quot;false&quot;);`&lt;br&gt;&lt;br&gt; Set below depending upon your WebClient version.&lt;br&gt;`webClient.getOptions().setUseInsecureSSL(true);`\r\n\r\n","title":"javax.net.ssl.SSLException: Certificate doesn&#39;t match any of the subject alternative names","body":"<p>If you are trying to access URL in any object try to set following in your code (Depends on how you are trying to access URL eg. Here we used WebClient object to set below parameter )<br>Create WebClient object and set following:- <br><code>WebClient webClient = null;</code><br><code>System.setProperty(&quot;jsse.enableSNIExtension&quot;, &quot;false&quot;);</code><br><br> Set below depending upon your WebClient version.<br><code>webClient.getOptions().setUseInsecureSSL(true);</code></p>\n"},{"tags":[],"owner":{"account_id":18194567,"reputation":21,"user_id":13239875,"display_name":"Hardik Kulkarni"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654092172,"creation_date":1654038908,"answer_id":72454969,"question_id":39762760,"body_markdown":"You get this error when your Host/domain name does not match your Cert CN name .\r\nSo in this case we have to turn-off Hostname verification by NO_OP (It is available in httpclient dependency greater than 4.3)\r\n\r\nSample Code :\r\n\r\n    SSLContext sslContextBuilder = SSLContextBuilder\r\n    \t\t\t\t.create()\r\n    \t\t\t\t.loadKeyMaterial(ResourceUtils.getFile(&quot;file:&quot; + &quot;/path/myclient.jks&quot;), &quot;123456&quot;.toCharArray(),&quot;123456&quot;.toCharArray())\r\n    \t\t\t\t.loadTrustMaterial(ResourceUtils.getFile(&quot;file:&quot; + &quot;/path/myclient.jks&quot;), &quot;123456&quot;.toCharArray()).build();\r\n    \r\n    \tCloseableHttpClient httpClient\r\n    \t\t\t\t= HttpClients.custom()\r\n    \t\t\t\t.setSSLHostnameVerifier(new NoopHostnameVerifier()).setSSLContext(sslContextBuilder)\r\n    \t\t\t\t.build();\r\n    \r\n    \r\n    \t\tfinal ClientHttpRequestFactory requestFactory =\r\n    \t\t\t\tnew HttpComponentsClientHttpRequestFactory(httpClient);\r\n    \r\n    \t\trestTemplate.setRequestFactory(requestFactory);\r\n\r\n","title":"javax.net.ssl.SSLException: Certificate doesn&#39;t match any of the subject alternative names","body":"<p>You get this error when your Host/domain name does not match your Cert CN name .\nSo in this case we have to turn-off Hostname verification by NO_OP (It is available in httpclient dependency greater than 4.3)</p>\n<p>Sample Code :</p>\n<pre><code>SSLContext sslContextBuilder = SSLContextBuilder\n                .create()\n                .loadKeyMaterial(ResourceUtils.getFile(&quot;file:&quot; + &quot;/path/myclient.jks&quot;), &quot;123456&quot;.toCharArray(),&quot;123456&quot;.toCharArray())\n                .loadTrustMaterial(ResourceUtils.getFile(&quot;file:&quot; + &quot;/path/myclient.jks&quot;), &quot;123456&quot;.toCharArray()).build();\n\n    CloseableHttpClient httpClient\n                = HttpClients.custom()\n                .setSSLHostnameVerifier(new NoopHostnameVerifier()).setSSLContext(sslContextBuilder)\n                .build();\n\n\n        final ClientHttpRequestFactory requestFactory =\n                new HttpComponentsClientHttpRequestFactory(httpClient);\n\n        restTemplate.setRequestFactory(requestFactory);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2177911,"reputation":966,"user_id":1928149,"accept_rate":67,"display_name":"Prasannjeet Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688075571,"creation_date":1676247904,"answer_id":75431024,"question_id":39762760,"body_markdown":"This could help, if you are developing a react-native app, and this issue happens when you try to build your android app (that was my case, at least!)\r\n\r\nThis is a hack and not a solution, but if you just need it to work right now, this is how it goes. For me, the issue was this:\r\n\r\n```\r\nExecution failed for task &#39;:expo-modules-core:downloadBoost&#39;.\r\n&gt; A failure occurred while executing de.undercouch.gradle.tasks.download.internal.DefaultWorkerExecutorHelper$DefaultWorkAction\r\n   &gt; javax.net.ssl.SSLPeerUnverifiedException: Certificate for &lt;jfrog-prod-usw2-shared-oregon-main.s3.amazonaws.com&gt; doesn&#39;t match any of the subject alternative names: [*.s3.amazonaws.com, s3.amazonaws.com]\r\n```\r\n\r\nSo, I went to the `build.gradle` file of the module `expo-modules-core`. (Note, not your root or app `build.gradle` file.\r\n\r\nNow, I found the `downloadBoost` task (Since my log says the issue is with `downloadBoost`. For me, it looked something like this:\r\n\r\n\r\n```\r\ndef downloadBoost = tasks.create(&#39;downloadBoost&#39;, Download) {\r\n  dependsOn(createNativeDepsDirectories)\r\n  def srcUrl = REACT_NATIVE_TARGET_VERSION &gt;= 69\r\n    ? &quot;https://boostorg.jfrog.io/artifactory/main/release/${BOOST_VERSION.replace(&quot;_&quot;, &quot;.&quot;)}/source/boost_${BOOST_VERSION}.tar.gz&quot;\r\n    : &quot;https://github.com/react-native-community/boost-for-react-native/releases/download/v${BOOST_VERSION.replace(&quot;_&quot;, &quot;.&quot;)}-0/boost_${BOOST_VERSION}.tar.gz&quot;\r\n  src(srcUrl)\r\n  onlyIfNewer(true)\r\n  overwrite(false)\r\n  dest(new File(downloadsDir, &quot;boost_${BOOST_VERSION}.tar.gz&quot;))\r\n}\r\n```\r\n\r\nI just added a hack so that it accepts any certificate. Add this line: `acceptAnyCertificate true`. So, the final block will look something like:\r\n\r\n```\r\ndef downloadBoost = tasks.create(&#39;downloadBoost&#39;, Download) {\r\n  acceptAnyCertificate true\r\n  dependsOn(createNativeDepsDirectories)\r\n  def srcUrl = REACT_NATIVE_TARGET_VERSION &gt;= 69\r\n    ? &quot;https://boostorg.jfrog.io/artifactory/main/release/${BOOST_VERSION.replace(&quot;_&quot;, &quot;.&quot;)}/source/boost_${BOOST_VERSION}.tar.gz&quot;\r\n    : &quot;https://github.com/react-native-community/boost-for-react-native/releases/download/v${BOOST_VERSION.replace(&quot;_&quot;, &quot;.&quot;)}-0/boost_${BOOST_VERSION}.tar.gz&quot;\r\n  src(srcUrl)\r\n  onlyIfNewer(true)\r\n  overwrite(false)\r\n  dest(new File(downloadsDir, &quot;boost_${BOOST_VERSION}.tar.gz&quot;))\r\n}\r\n```\r\n\r\nWell, that&#39;s it! Things worked for me. Hope it helps someone.\r\n\r\n### Note:\r\nEverytime you execute `yarn install` or `npm install`, the `build.gradle` file will reset itself, so you need to do it again manually. I recommend creating a script for it.","title":"javax.net.ssl.SSLException: Certificate doesn&#39;t match any of the subject alternative names","body":"<p>This could help, if you are developing a react-native app, and this issue happens when you try to build your android app (that was my case, at least!)</p>\n<p>This is a hack and not a solution, but if you just need it to work right now, this is how it goes. For me, the issue was this:</p>\n<pre><code>Execution failed for task ':expo-modules-core:downloadBoost'.\n&gt; A failure occurred while executing de.undercouch.gradle.tasks.download.internal.DefaultWorkerExecutorHelper$DefaultWorkAction\n   &gt; javax.net.ssl.SSLPeerUnverifiedException: Certificate for &lt;jfrog-prod-usw2-shared-oregon-main.s3.amazonaws.com&gt; doesn't match any of the subject alternative names: [*.s3.amazonaws.com, s3.amazonaws.com]\n</code></pre>\n<p>So, I went to the <code>build.gradle</code> file of the module <code>expo-modules-core</code>. (Note, not your root or app <code>build.gradle</code> file.</p>\n<p>Now, I found the <code>downloadBoost</code> task (Since my log says the issue is with <code>downloadBoost</code>. For me, it looked something like this:</p>\n<pre><code>def downloadBoost = tasks.create('downloadBoost', Download) {\n  dependsOn(createNativeDepsDirectories)\n  def srcUrl = REACT_NATIVE_TARGET_VERSION &gt;= 69\n    ? &quot;https://boostorg.jfrog.io/artifactory/main/release/${BOOST_VERSION.replace(&quot;_&quot;, &quot;.&quot;)}/source/boost_${BOOST_VERSION}.tar.gz&quot;\n    : &quot;https://github.com/react-native-community/boost-for-react-native/releases/download/v${BOOST_VERSION.replace(&quot;_&quot;, &quot;.&quot;)}-0/boost_${BOOST_VERSION}.tar.gz&quot;\n  src(srcUrl)\n  onlyIfNewer(true)\n  overwrite(false)\n  dest(new File(downloadsDir, &quot;boost_${BOOST_VERSION}.tar.gz&quot;))\n}\n</code></pre>\n<p>I just added a hack so that it accepts any certificate. Add this line: <code>acceptAnyCertificate true</code>. So, the final block will look something like:</p>\n<pre><code>def downloadBoost = tasks.create('downloadBoost', Download) {\n  acceptAnyCertificate true\n  dependsOn(createNativeDepsDirectories)\n  def srcUrl = REACT_NATIVE_TARGET_VERSION &gt;= 69\n    ? &quot;https://boostorg.jfrog.io/artifactory/main/release/${BOOST_VERSION.replace(&quot;_&quot;, &quot;.&quot;)}/source/boost_${BOOST_VERSION}.tar.gz&quot;\n    : &quot;https://github.com/react-native-community/boost-for-react-native/releases/download/v${BOOST_VERSION.replace(&quot;_&quot;, &quot;.&quot;)}-0/boost_${BOOST_VERSION}.tar.gz&quot;\n  src(srcUrl)\n  onlyIfNewer(true)\n  overwrite(false)\n  dest(new File(downloadsDir, &quot;boost_${BOOST_VERSION}.tar.gz&quot;))\n}\n</code></pre>\n<p>Well, that's it! Things worked for me. Hope it helps someone.</p>\n<h3>Note:</h3>\n<p>Everytime you execute <code>yarn install</code> or <code>npm install</code>, the <code>build.gradle</code> file will reset itself, so you need to do it again manually. I recommend creating a script for it.</p>\n"},{"tags":[],"owner":{"account_id":10114466,"reputation":151,"user_id":7473616,"display_name":"Kiran Maharjan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691816741,"creation_date":1691816741,"answer_id":76887812,"question_id":39762760,"body_markdown":"This solved my two issue:\r\n 1. sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n 2.   javax.net.ssl.SSLException: Certificate for &lt;staging.foo.com&gt; doesn&#39;t match any of the subject alternative names: [developer.foo.com]\r\n\r\nSolution:\r\n\r\n    \r\n    private RestTemplate getRestTemplate() {\r\n        try {\r\n            TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\r\n\r\n            SSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\r\n                    .loadTrustMaterial(null, acceptingTrustStrategy)\r\n                    .build();\r\n            SSLConnectionSocketFactory scsf = new SSLConnectionSocketFactory(\r\n                    SSLContexts.custom().loadTrustMaterial(null, new TrustSelfSignedStrategy()).build(),\r\n                    NoopHostnameVerifier.INSTANCE);\r\n\r\n            CloseableHttpClient httpClient = HttpClients.custom()\r\n                    .setSSLSocketFactory(scsf)\r\n                    .build();\r\n\r\n            HttpComponentsClientHttpRequestFactory requestFactory =\r\n                    new HttpComponentsClientHttpRequestFactory();\r\n\r\n            requestFactory.setHttpClient(httpClient);\r\n\r\n            RestTemplate restTemplate = new RestTemplate(requestFactory);\r\n            return restTemplate;\r\n        } catch (Exception exception) {\r\n\r\n            return new RestTemplate();\r\n        }\r\n    }\r\n\r\n","title":"javax.net.ssl.SSLException: Certificate doesn&#39;t match any of the subject alternative names","body":"<p>This solved my two issue:</p>\n<ol>\n<li>sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</li>\n<li>javax.net.ssl.SSLException: Certificate for &lt;staging.foo.com&gt; doesn't match any of the subject alternative names: [developer.foo.com]</li>\n</ol>\n<p>Solution:</p>\n<pre><code>private RestTemplate getRestTemplate() {\n    try {\n        TrustStrategy acceptingTrustStrategy = (X509Certificate[] chain, String authType) -&gt; true;\n\n        SSLContext sslContext = org.apache.http.ssl.SSLContexts.custom()\n                .loadTrustMaterial(null, acceptingTrustStrategy)\n                .build();\n        SSLConnectionSocketFactory scsf = new SSLConnectionSocketFactory(\n                SSLContexts.custom().loadTrustMaterial(null, new TrustSelfSignedStrategy()).build(),\n                NoopHostnameVerifier.INSTANCE);\n\n        CloseableHttpClient httpClient = HttpClients.custom()\n                .setSSLSocketFactory(scsf)\n                .build();\n\n        HttpComponentsClientHttpRequestFactory requestFactory =\n                new HttpComponentsClientHttpRequestFactory();\n\n        requestFactory.setHttpClient(httpClient);\n\n        RestTemplate restTemplate = new RestTemplate(requestFactory);\n        return restTemplate;\n    } catch (Exception exception) {\n\n        return new RestTemplate();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692948269,"creation_date":1692948269,"answer_id":76975096,"question_id":39762760,"body_markdown":"Please note the cases, where you expect that certificate matches the wildcard, while it actually isn&#39;t:\r\n\r\n&lt;g.i.t.n.c.com&gt; doesn&#39;t match any of the subject alternative names: [*.t.n.c.com]\r\n\r\nhttps://stackoverflow.com/questions/76974973/javax-net-ssl-sslpeerunverifiedexception-certificate-for-g-i-t-n-c-com-doesn?noredirect=1#comment135696575_76974973\r\n","title":"javax.net.ssl.SSLException: Certificate doesn&#39;t match any of the subject alternative names","body":"<p>Please note the cases, where you expect that certificate matches the wildcard, while it actually isn't:</p>\n<p>&lt;g.i.t.n.c.com&gt; doesn't match any of the subject alternative names: [*.t.n.c.com]</p>\n<p><a href=\"https://stackoverflow.com/questions/76974973/javax-net-ssl-sslpeerunverifiedexception-certificate-for-g-i-t-n-c-com-doesn?noredirect=1#comment135696575_76974973\">javax.net.ssl.SSLPeerUnverifiedException: Certificate for &lt;g.i.t.n.c.com&gt; doesn&#39;t match any of the subject alternative names: [*.t.n.c.com]</a></p>\n"},{"tags":[],"owner":{"account_id":5900085,"reputation":141,"user_id":4643902,"display_name":"MrXo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697496168,"creation_date":1697496168,"answer_id":77305322,"question_id":39762760,"body_markdown":"I have same problem with **httpclient5**. I resolved it as flow:\r\n\r\n     private static HttpComponentsClientHttpRequestFactory createRequestFactory()\r\n            throws NoSuchAlgorithmException, KeyStoreException, KeyManagementException {\r\n        final TrustStrategy acceptingTrustStrategy = (cert, authType) -&gt; true;\r\n        final SSLContext sslContext = SSLContexts.custom()\r\n                .loadTrustMaterial(null, acceptingTrustStrategy)\r\n                .build();\r\n        final SSLConnectionSocketFactory sslsf =\r\n                new SSLConnectionSocketFactory(sslContext, NoopHostnameVerifier.INSTANCE);\r\n        final Registry&lt;ConnectionSocketFactory&gt; socketFactoryRegistry =\r\n                RegistryBuilder.&lt;ConnectionSocketFactory&gt; create()\r\n                        .register(&quot;https&quot;, sslsf)\r\n                        .register(&quot;http&quot;, new PlainConnectionSocketFactory())\r\n                        .build();\r\n\r\n        final BasicHttpClientConnectionManager connectionManager =\r\n                new BasicHttpClientConnectionManager(socketFactoryRegistry);\r\n        CloseableHttpClient httpClient = HttpClients.custom().setConnectionManager(connectionManager).build();\r\n        HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\n        requestFactory.setHttpClient(httpClient);\r\n        return requestFactory;\r\n    }\r\n\r\n\r\n\r\n     HttpComponentsClientHttpRequestFactory requestFactory = createRequestFactory();\r\n     RestTemplate restTemplate = new RestTemplateBuilder().requestFactory(() -&gt; requestFactory).build();","title":"javax.net.ssl.SSLException: Certificate doesn&#39;t match any of the subject alternative names","body":"<p>I have same problem with <strong>httpclient5</strong>. I resolved it as flow:</p>\n<pre><code> private static HttpComponentsClientHttpRequestFactory createRequestFactory()\n        throws NoSuchAlgorithmException, KeyStoreException, KeyManagementException {\n    final TrustStrategy acceptingTrustStrategy = (cert, authType) -&gt; true;\n    final SSLContext sslContext = SSLContexts.custom()\n            .loadTrustMaterial(null, acceptingTrustStrategy)\n            .build();\n    final SSLConnectionSocketFactory sslsf =\n            new SSLConnectionSocketFactory(sslContext, NoopHostnameVerifier.INSTANCE);\n    final Registry&lt;ConnectionSocketFactory&gt; socketFactoryRegistry =\n            RegistryBuilder.&lt;ConnectionSocketFactory&gt; create()\n                    .register(&quot;https&quot;, sslsf)\n                    .register(&quot;http&quot;, new PlainConnectionSocketFactory())\n                    .build();\n\n    final BasicHttpClientConnectionManager connectionManager =\n            new BasicHttpClientConnectionManager(socketFactoryRegistry);\n    CloseableHttpClient httpClient = HttpClients.custom().setConnectionManager(connectionManager).build();\n    HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\n    requestFactory.setHttpClient(httpClient);\n    return requestFactory;\n}\n\n\n\n HttpComponentsClientHttpRequestFactory requestFactory = createRequestFactory();\n RestTemplate restTemplate = new RestTemplateBuilder().requestFactory(() -&gt; requestFactory).build();\n</code></pre>\n"}],"owner":{"account_id":15742,"reputation":543,"user_id":33578,"accept_rate":25,"display_name":"yassam"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119974,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":11,"score":25,"last_activity_date":1697496168,"creation_date":1475129919,"question_id":39762760,"body_markdown":"I recently added LetsEncrypt certificates to my server and my java applet is having problems connecting using TLS.\r\n\r\nMy applet uses Apache HttpClient.\r\n\r\nMy web server is Apache 2,4, and I have a few virtual hosts set up as subdomains of my main domain (foo.com - not my real domain name).\r\n\r\nWhen I run my applet on the staging subdomain (e.g. it runs off https://staging.foo.com), I get the following error:\r\n\r\n    javax.net.ssl.SSLException: Certificate for &lt;staging.foo.com&gt; doesn&#39;t match any of the subject alternative names: [developer.foo.com]\r\n\tat org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:165)\r\n\tat org.apache.http.conn.ssl.BrowserCompatHostnameVerifier.verify(BrowserCompatHostnameVerifier.java:61)\r\n\tat org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:141)\r\n\tat org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:114)\r\n\tat org.apache.http.conn.ssl.SSLSocketFactory.verifyHostname(SSLSocketFactory.java:580)\r\n\tat org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:554)\r\n\tat org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:412)\r\n\tat org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:179)\r\n\tat org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:328)\r\n\tat org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:612)\r\n\tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:447)\r\n\tat org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:884)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:107)\r\n    ...(cut)\r\n\tat javax.swing.SwingWorker$1.call(SwingWorker.java:295)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat javax.swing.SwingWorker.run(SwingWorker.java:334)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\nI have no idea what&#39;s going on.\r\n\r\nFirst of all, I have no idea how Java knows that developer.foo.bar is one of my virtual hosts (although this virtual host is the first one, alphabetically, that has SSL turned on).\r\n\r\nI&#39;ve looked at the certificate detail for staging.foo.com, and the only name listed under the &quot;Subject Alternative Name&quot; field is staging.foo.com.\r\n\r\nSo where is it getting developer.foo.com from?\r\n\r\nAnd how do I fix this problem?\r\n\r\nI&#39;m using Firefox on OS X El Capitan 10.11.6 with the following Java plugin version info:\r\n\r\n    Java Plug-in 11.102.2.14 x86_64\r\n    Using JRE version 1.8.0_102-b14 Java HotSpot(TM) 64-Bit Server VM\r\n\r\nThis is the Apache conf file for staging.foo.com:\r\n\r\n    &lt;IfModule mod_ssl.c&gt;\r\n    &lt;VirtualHost *:443&gt;\r\n        ServerName staging.foo.com\r\n        ServerAlias www.staging.foo.com\r\n\r\n        # Turn on HTTP Strict Transport Security (HSTS). This tells the\r\n        # client that it should only communicate with this site using\r\n        # HTTPS. See\r\n        # https://raymii.org/s/tutorials/HTTP_Strict_Transport_Security_for_Apache_NGINX_and_Lighttpd.html\r\n        Header always set Strict-Transport-Security &quot;max-age=31536000; includeSubdomains;&quot;\r\n\r\n        # The following is used to tunnel websocket requests to daphne, so\r\n        # that Django Channels can do its thing\r\n        ProxyPass &quot;/ws/&quot; &quot;ws://localhost:8001/ws/&quot;\r\n        ProxyPassReverse &quot;/ws/&quot; &quot;ws://localhost:8001/ws/&quot;\r\n\r\n        # The following is used during deployment. Every page request is\r\n        # served from one static html file.\r\n        RewriteEngine       on\r\n        RewriteCond         /home/www-mm/staging.foo.com/apache/in_maintenance -f\r\n        RewriteRule .*      /home/www-mm/staging.foo.com/static/maintenance/maintenance.html\r\n\r\n        # Use Apache to serve protected (non-static) files. This is so that\r\n        # Apache can deal with ranges\r\n        XSendFile on\r\n        XSendFilePath /home/www-mm/staging.foo.com/user_assets\r\n\r\n        # Limit uploads - 200MB\r\n        LimitRequestBody 209715200\r\n\r\n        Alias /static/ /home/www-mm/staging.foo.com/serve_static/\r\n        Alias /robots.txt /home/www-mm/staging.foo.com/apache/serve-at-root/robots.txt\r\n\r\n        &lt;Directory /home/www-mm/staging.foo.com/serve_static&gt;\r\n            AddOutputFilterByType DEFLATE text/html text/css text/javascript application/javascript application/json\r\n            Order deny,allow\r\n            Require all granted\r\n        &lt;/Directory&gt;\r\n\r\n        # Videos uploaded via staff to home page should never cache,\r\n        # because they can change at any time (and we don&#39;t know if the\r\n        # URLs will change or not). Etags are used and only headers are\r\n        # sent if the files in question aren&#39;t modified (we get a 304\r\n        # back)\r\n        &lt;Directory /home/www-mm/staging.foo.com/serve_static/video&gt;\r\n            ExpiresActive On\r\n            # Expire immediately\r\n            ExpiresDefault A0\r\n        &lt;/Directory&gt;\r\n\r\n        # The following ensures that the maintenance page is never cached.\r\n        &lt;Directory /home/www-mm/staging.foo.com/static/maintenance&gt;\r\n            ExpiresActive On\r\n            # Expire immediately\r\n            ExpiresDefault A0\r\n            Require all granted\r\n        &lt;/Directory&gt;\r\n\r\n        # Hide uncompressed code from prying eyes. Python needs access to this code for the css compressor\r\n        &lt;Directory /home/www-mm/staging.foo.com/serve_static/js/muso&gt;\r\n            &lt;Files ~ &quot;\\.js$&quot;&gt;\r\n                Deny from all\r\n            &lt;/Files&gt;\r\n            # Order deny,allow\r\n            # Deny from all\r\n        &lt;/Directory&gt;\r\n\r\n        # Hide uncompressed code from prying eyes. Python needs access to this code for the css compressor\r\n        &lt;DirectoryMatch &quot;/home/www-mm/staging.foo.com/serve_static/js/dist/.*/muso&quot;&gt;\r\n            Order deny,allow\r\n            Deny from all\r\n        &lt;/DirectoryMatch&gt;\r\n\r\n        &lt;Directory /home/www-mm/staging.foo.com/apache&gt;\r\n            &lt;Files django.wsgi&gt;\r\n                Order deny,allow\r\n                Require all granted\r\n            &lt;/Files&gt;\r\n        &lt;/Directory&gt;\r\n\r\n        WSGIScriptAlias / /home/www-mm/staging.foo.com/apache/django.wsgi\r\n        WSGIDaemonProcess staging.foo.com user=www-mm group=www-mm\r\n        WSGIProcessGroup staging.foo.com\r\n\r\n        ErrorLog /var/log/apache2/staging.foo.com-error.log\r\n        CustomLog /var/log/apache2/staging.foo.com-access.log combined\r\n\r\n        SSLCertificateFile /etc/letsencrypt/live/staging.foo.com/fullchain.pem\r\n        SSLCertificateKeyFile /etc/letsencrypt/live/staging.foo.com/privkey.pem\r\n        Include /etc/letsencrypt/options-ssl-apache.conf\r\n    &lt;/VirtualHost&gt;\r\n    &lt;/IfModule&gt;\r\n\r\nThe SSL sections were added by certbot, the LetsEncrypt CLI tool.\r\n\r\nI should add that accessing each of these subdomains in a modern browser (such as Chrome) is fine.","title":"javax.net.ssl.SSLException: Certificate doesn&#39;t match any of the subject alternative names","body":"<p>I recently added LetsEncrypt certificates to my server and my java applet is having problems connecting using TLS.</p>\n\n<p>My applet uses Apache HttpClient.</p>\n\n<p>My web server is Apache 2,4, and I have a few virtual hosts set up as subdomains of my main domain (foo.com - not my real domain name).</p>\n\n<p>When I run my applet on the staging subdomain (e.g. it runs off <a href=\"https://staging.foo.com\" rel=\"noreferrer\">https://staging.foo.com</a>), I get the following error:</p>\n\n<pre><code>javax.net.ssl.SSLException: Certificate for &lt;staging.foo.com&gt; doesn't match any of the subject alternative names: [developer.foo.com]\nat org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:165)\nat org.apache.http.conn.ssl.BrowserCompatHostnameVerifier.verify(BrowserCompatHostnameVerifier.java:61)\nat org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:141)\nat org.apache.http.conn.ssl.AbstractVerifier.verify(AbstractVerifier.java:114)\nat org.apache.http.conn.ssl.SSLSocketFactory.verifyHostname(SSLSocketFactory.java:580)\nat org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:554)\nat org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:412)\nat org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:179)\nat org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:328)\nat org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:612)\nat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:447)\nat org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:884)\nat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\nat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:107)\n...(cut)\nat javax.swing.SwingWorker$1.call(SwingWorker.java:295)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat javax.swing.SwingWorker.run(SwingWorker.java:334)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>I have no idea what's going on.</p>\n\n<p>First of all, I have no idea how Java knows that developer.foo.bar is one of my virtual hosts (although this virtual host is the first one, alphabetically, that has SSL turned on).</p>\n\n<p>I've looked at the certificate detail for staging.foo.com, and the only name listed under the \"Subject Alternative Name\" field is staging.foo.com.</p>\n\n<p>So where is it getting developer.foo.com from?</p>\n\n<p>And how do I fix this problem?</p>\n\n<p>I'm using Firefox on OS X El Capitan 10.11.6 with the following Java plugin version info:</p>\n\n<pre><code>Java Plug-in 11.102.2.14 x86_64\nUsing JRE version 1.8.0_102-b14 Java HotSpot(TM) 64-Bit Server VM\n</code></pre>\n\n<p>This is the Apache conf file for staging.foo.com:</p>\n\n<pre><code>&lt;IfModule mod_ssl.c&gt;\n&lt;VirtualHost *:443&gt;\n    ServerName staging.foo.com\n    ServerAlias www.staging.foo.com\n\n    # Turn on HTTP Strict Transport Security (HSTS). This tells the\n    # client that it should only communicate with this site using\n    # HTTPS. See\n    # https://raymii.org/s/tutorials/HTTP_Strict_Transport_Security_for_Apache_NGINX_and_Lighttpd.html\n    Header always set Strict-Transport-Security \"max-age=31536000; includeSubdomains;\"\n\n    # The following is used to tunnel websocket requests to daphne, so\n    # that Django Channels can do its thing\n    ProxyPass \"/ws/\" \"ws://localhost:8001/ws/\"\n    ProxyPassReverse \"/ws/\" \"ws://localhost:8001/ws/\"\n\n    # The following is used during deployment. Every page request is\n    # served from one static html file.\n    RewriteEngine       on\n    RewriteCond         /home/www-mm/staging.foo.com/apache/in_maintenance -f\n    RewriteRule .*      /home/www-mm/staging.foo.com/static/maintenance/maintenance.html\n\n    # Use Apache to serve protected (non-static) files. This is so that\n    # Apache can deal with ranges\n    XSendFile on\n    XSendFilePath /home/www-mm/staging.foo.com/user_assets\n\n    # Limit uploads - 200MB\n    LimitRequestBody 209715200\n\n    Alias /static/ /home/www-mm/staging.foo.com/serve_static/\n    Alias /robots.txt /home/www-mm/staging.foo.com/apache/serve-at-root/robots.txt\n\n    &lt;Directory /home/www-mm/staging.foo.com/serve_static&gt;\n        AddOutputFilterByType DEFLATE text/html text/css text/javascript application/javascript application/json\n        Order deny,allow\n        Require all granted\n    &lt;/Directory&gt;\n\n    # Videos uploaded via staff to home page should never cache,\n    # because they can change at any time (and we don't know if the\n    # URLs will change or not). Etags are used and only headers are\n    # sent if the files in question aren't modified (we get a 304\n    # back)\n    &lt;Directory /home/www-mm/staging.foo.com/serve_static/video&gt;\n        ExpiresActive On\n        # Expire immediately\n        ExpiresDefault A0\n    &lt;/Directory&gt;\n\n    # The following ensures that the maintenance page is never cached.\n    &lt;Directory /home/www-mm/staging.foo.com/static/maintenance&gt;\n        ExpiresActive On\n        # Expire immediately\n        ExpiresDefault A0\n        Require all granted\n    &lt;/Directory&gt;\n\n    # Hide uncompressed code from prying eyes. Python needs access to this code for the css compressor\n    &lt;Directory /home/www-mm/staging.foo.com/serve_static/js/muso&gt;\n        &lt;Files ~ \"\\.js$\"&gt;\n            Deny from all\n        &lt;/Files&gt;\n        # Order deny,allow\n        # Deny from all\n    &lt;/Directory&gt;\n\n    # Hide uncompressed code from prying eyes. Python needs access to this code for the css compressor\n    &lt;DirectoryMatch \"/home/www-mm/staging.foo.com/serve_static/js/dist/.*/muso\"&gt;\n        Order deny,allow\n        Deny from all\n    &lt;/DirectoryMatch&gt;\n\n    &lt;Directory /home/www-mm/staging.foo.com/apache&gt;\n        &lt;Files django.wsgi&gt;\n            Order deny,allow\n            Require all granted\n        &lt;/Files&gt;\n    &lt;/Directory&gt;\n\n    WSGIScriptAlias / /home/www-mm/staging.foo.com/apache/django.wsgi\n    WSGIDaemonProcess staging.foo.com user=www-mm group=www-mm\n    WSGIProcessGroup staging.foo.com\n\n    ErrorLog /var/log/apache2/staging.foo.com-error.log\n    CustomLog /var/log/apache2/staging.foo.com-access.log combined\n\n    SSLCertificateFile /etc/letsencrypt/live/staging.foo.com/fullchain.pem\n    SSLCertificateKeyFile /etc/letsencrypt/live/staging.foo.com/privkey.pem\n    Include /etc/letsencrypt/options-ssl-apache.conf\n&lt;/VirtualHost&gt;\n&lt;/IfModule&gt;\n</code></pre>\n\n<p>The SSL sections were added by certbot, the LetsEncrypt CLI tool.</p>\n\n<p>I should add that accessing each of these subdomains in a modern browser (such as Chrome) is fine.</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":5519,"reputation":70083,"user_id":8922,"accept_rate":75,"display_name":"Sebastian Redl"},"score":58,"creation_date":1386761244,"post_id":20517618,"comment_id":30673908,"body_markdown":"Try reducing this to a smaller example, it&#39;s pretty unreadable. And I sure hope those names aren&#39;t under your control, because there is simply no excuse for `setDqCntlWfExecEffDt`. Note especially how inconsistent the code is in whether to use an abbreviation or not: `setDqCntlWfExecEffDt` vs `getDefaultEffectiveDt`, `executeWorkflow` vs `DqCntlWfExec`, etc. Seriously, the code could be submitted to TheDailyWTF as is.","body":"Try reducing this to a smaller example, it&#39;s pretty unreadable. And I sure hope those names aren&#39;t under your control, because there is simply no excuse for <code>setDqCntlWfExecEffDt</code>. Note especially how inconsistent the code is in whether to use an abbreviation or not: <code>setDqCntlWfExecEffDt</code> vs <code>getDefaultEffectiveDt</code>, <code>executeWorkflow</code> vs <code>DqCntlWfExec</code>, etc. Seriously, the code could be submitted to TheDailyWTF as is."},{"owner":{"account_id":1443843,"reputation":909,"user_id":1363092,"accept_rate":60,"display_name":"Gopi"},"score":0,"creation_date":1386765671,"post_id":20517618,"comment_id":30676516,"body_markdown":"The code has been refactored and made it readable","body":"The code has been refactored and made it readable"},{"owner":{"account_id":26747,"reputation":20083,"user_id":69875,"accept_rate":100,"display_name":"Jonathan"},"score":0,"creation_date":1386767229,"post_id":20517618,"comment_id":30677429,"body_markdown":"Can you add the error/output? How do you know it&#39;s `null`? Are you inferring it from `workflowType`... could it be that `.getDqCntlWfDefnTypCd()` is returning `null`? Etc... FWIW, I think the original code may hold the key to this. :-)","body":"Can you add the error/output? How do you know it&#39;s <code>null</code>? Are you inferring it from <code>workflowType</code>... could it be that <code>.getDqCntlWfDefnTypCd()</code> is returning <code>null</code>? Etc... FWIW, I think the original code may hold the key to this. :-)"},{"owner":{"account_id":1443843,"reputation":909,"user_id":1363092,"accept_rate":60,"display_name":"Gopi"},"score":0,"creation_date":1386769721,"post_id":20517618,"comment_id":30679008,"body_markdown":"I am adding the whole set, since i could miss some information.","body":"I am adding the whole set, since i could miss some information."},{"owner":{"account_id":1524257,"reputation":8407,"user_id":1423083,"accept_rate":78,"display_name":"Mukul Goel"},"score":18,"creation_date":1411479978,"post_id":20517618,"comment_id":40711429,"body_markdown":"Why would somebody use such naming UN-convention. Some people just want to watch the world burn..","body":"Why would somebody use such naming UN-convention. Some people just want to watch the world burn.."}],"answers":[{"tags":[],"owner":{"account_id":1443843,"reputation":909,"user_id":1363092,"accept_rate":60,"display_name":"Gopi"},"comment_count":0,"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1389001356,"creation_date":1387189503,"answer_id":20608479,"question_id":20517618,"body_markdown":"Mockito mock works when we mock the objects loosely.\r\n\r\nHere is the change i have made to make it work:\r\n\r\n    when(controlWfDefTypeService.getDqCntlWfDefnTypCd(any(DqCntlWfDefn.class))\r\n        .thenReturn(dqCntlWfDefnTyp);\r\n\r\nInstead of passing the object of the Mock class, I passed the class with the Matcher `any()` and it works.\r\n","title":"Mockito when method not working","body":"<p>Mockito mock works when we mock the objects loosely.</p>\n\n<p>Here is the change i have made to make it work:</p>\n\n<pre><code>when(controlWfDefTypeService.getDqCntlWfDefnTypCd(any(DqCntlWfDefn.class))\n    .thenReturn(dqCntlWfDefnTyp);\n</code></pre>\n\n<p>Instead of passing the object of the Mock class, I passed the class with the Matcher <code>any()</code> and it works.</p>\n"},{"comments":[{"owner":{"account_id":4364956,"reputation":595,"user_id":3561038,"accept_rate":38,"display_name":"Saurabh Bhoomkar"},"score":0,"creation_date":1620950656,"post_id":39024227,"comment_id":119357084,"body_markdown":"when I do `objectTested = new MyClass();` spring still uses it&#39;s own created instance and does not honor the one configured in Test. Is there any way to work around this ?","body":"when I do <code>objectTested = new MyClass();</code> spring still uses it&#39;s own created instance and does not honor the one configured in Test. Is there any way to work around this ?"}],"tags":[],"owner":{"account_id":6352179,"reputation":2791,"user_id":4930850,"accept_rate":62,"display_name":"Chad Van De Hey"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1471541412,"creation_date":1471541412,"answer_id":39024227,"question_id":20517618,"body_markdown":"I think I have found your issue, but not all the credit goes to me. \r\n\r\nSince you are trying to mock &#39;dqCntlWfDefnTyp&#39; in your test class and the object itself is being instantiated in the class that you are trying to test, you inevitably run into some issues. The primary problem is that the object cannot be mocked because it is being recreated in during the test.\r\n\r\nThere are a few options, but the best choice in my humble opinion is using [PowerMockito][1]. You will be able to replace the object within the class that is being tested with the one you mock.\r\n\r\n\r\nAn excellent example of this usage of PowerMockito from @raspacorp on this [question][2]:\r\n\r\n    public class MyClass {\r\n    void method1{\r\n        MyObject obj1=new MyObject();\r\n        obj1.method1();\r\n    }\r\n    }\r\n\r\n\r\nAnd the test class...\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(MyClass.class)\r\n    public class MyClassTest {\r\n    @Test\r\n    public void testMethod1() {      \r\n        MyObject myObjectMock = mock(MyObject.class);\r\n        when(myObjectMock.method1()).thenReturn(&lt;whatever you want to return&gt;);   \r\n        PowerMockito.whenNew(MyObject.class).withNoArguments().thenReturn(myObjectMock);\r\n\r\n        MyClass objectTested = new MyClass();\r\n        objectTested.method1();\r\n\r\n        ... // your assertions or verification here \r\n    }\r\n    }\r\n\r\n  [1]: https://github.com/jayway/powermock/wiki\r\n  [2]: https://stackoverflow.com/a/30633175/4930850","title":"Mockito when method not working","body":"<p>I think I have found your issue, but not all the credit goes to me. </p>\n\n<p>Since you are trying to mock 'dqCntlWfDefnTyp' in your test class and the object itself is being instantiated in the class that you are trying to test, you inevitably run into some issues. The primary problem is that the object cannot be mocked because it is being recreated in during the test.</p>\n\n<p>There are a few options, but the best choice in my humble opinion is using <a href=\"https://github.com/jayway/powermock/wiki\" rel=\"noreferrer\">PowerMockito</a>. You will be able to replace the object within the class that is being tested with the one you mock.</p>\n\n<p>An excellent example of this usage of PowerMockito from @raspacorp on this <a href=\"https://stackoverflow.com/a/30633175/4930850\">question</a>:</p>\n\n<pre><code>public class MyClass {\nvoid method1{\n    MyObject obj1=new MyObject();\n    obj1.method1();\n}\n}\n</code></pre>\n\n<p>And the test class...</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(MyClass.class)\npublic class MyClassTest {\n@Test\npublic void testMethod1() {      \n    MyObject myObjectMock = mock(MyObject.class);\n    when(myObjectMock.method1()).thenReturn(&lt;whatever you want to return&gt;);   \n    PowerMockito.whenNew(MyObject.class).withNoArguments().thenReturn(myObjectMock);\n\n    MyClass objectTested = new MyClass();\n    objectTested.method1();\n\n    ... // your assertions or verification here \n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6464308,"reputation":135,"user_id":5006906,"accept_rate":91,"display_name":"Mikachu"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1501593134,"creation_date":1501593134,"answer_id":45438883,"question_id":20517618,"body_markdown":"I had the same problem. The solution for me was to put the Mockito.when(...).thenReturn(...); into the @Before-SetUp method.\r\n","title":"Mockito when method not working","body":"<p>I had the same problem. The solution for me was to put the Mockito.when(...).thenReturn(...); into the @Before-SetUp method.</p>\n"},{"comments":[{"owner":{"account_id":4190532,"reputation":336,"user_id":3433252,"display_name":"dtunctuncer"},"score":6,"creation_date":1617804336,"post_id":59209588,"comment_id":118409530,"body_markdown":"you are a real hero without a cape","body":"you are a real hero without a cape"},{"owner":{"account_id":1145947,"reputation":1878,"user_id":1128712,"accept_rate":50,"display_name":"SourceVisor"},"score":1,"creation_date":1651082363,"post_id":59209588,"comment_id":127280124,"body_markdown":"Yup SECONDED!... Not all heroes wear capes!... just using `any()` covered both real object argument and null for me. I needed this answer to get some direction on why my mock wasn&#39;t behaving like I expected it to, especially when null was passed","body":"Yup SECONDED!... Not all heroes wear capes!... just using <code>any()</code> covered both real object argument and null for me. I needed this answer to get some direction on why my mock wasn&#39;t behaving like I expected it to, especially when null was passed"},{"owner":{"account_id":5079214,"reputation":1115,"user_id":4075832,"accept_rate":73,"display_name":"CN1002"},"score":1,"creation_date":1686049695,"post_id":59209588,"comment_id":134742913,"body_markdown":"This answer saved me my day!","body":"This answer saved me my day!"}],"tags":[],"owner":{"account_id":4564492,"reputation":2199,"user_id":3705861,"display_name":"Younes El Ouarti"},"comment_count":3,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1575621496,"creation_date":1575621496,"answer_id":59209588,"question_id":20517618,"body_markdown":"**TL;DR** If some arguments in your test are `null`, be sure to mock the parameter call with *`isNull()`* instead of *`any(SomeClass.class)`*.\r\n\r\n\r\n----------\r\n\r\n**Explanation**\r\n\r\nThis might not be the answer that helps OP, but might be useful for someone else. In my case the setup was all good, however, some mocks returned the desired `thenReturn(...)` value and some didn&#39;t.\r\n\r\nIt&#39;s important to understand, that the method call you&#39;re trying to mock (i.e. the method in `when(someMock.methodToMock)`) has to match **the actual call *and not* the signature only**.\r\n\r\nIn my case, I mocked a method with a signature:\r\n\r\n    public void SomeValue method(String string, SomeParam param)\r\n\r\nThe call however, in the test was something like:\r\n\r\n    method(&quot;some string during test&quot;, null);\r\n\r\nNow if you mock the call with:\r\n\r\n    when(MockedClass.method(anyString(), any(SomeParam.class))\r\n\r\nMockito will not match it even though the signature is correct. The problem is that Mockito is looking for a call of `method()` with the arguments `String` and `SomeParam`, whereas the actual call was with a `String` and **`null`**. What you have to do is:\r\n\r\n    when(MockedClass.method(anyString(), isNull())\r\n\r\n\r\n----------\r\n\r\n\r\n**Hint**\r\n\r\nSince there are many `isNull()` implementations in different frameworks, be sure to use this one `org.mockito.ArgumentMatchers.isNull`.\r\n\r\n ","title":"Mockito when method not working","body":"<p><strong>TL;DR</strong> If some arguments in your test are <code>null</code>, be sure to mock the parameter call with <em><code>isNull()</code></em> instead of <em><code>any(SomeClass.class)</code></em>.</p>\n\n<hr>\n\n<p><strong>Explanation</strong></p>\n\n<p>This might not be the answer that helps OP, but might be useful for someone else. In my case the setup was all good, however, some mocks returned the desired <code>thenReturn(...)</code> value and some didn't.</p>\n\n<p>It's important to understand, that the method call you're trying to mock (i.e. the method in <code>when(someMock.methodToMock)</code>) has to match <strong>the actual call <em>and not</em> the signature only</strong>.</p>\n\n<p>In my case, I mocked a method with a signature:</p>\n\n<pre><code>public void SomeValue method(String string, SomeParam param)\n</code></pre>\n\n<p>The call however, in the test was something like:</p>\n\n<pre><code>method(\"some string during test\", null);\n</code></pre>\n\n<p>Now if you mock the call with:</p>\n\n<pre><code>when(MockedClass.method(anyString(), any(SomeParam.class))\n</code></pre>\n\n<p>Mockito will not match it even though the signature is correct. The problem is that Mockito is looking for a call of <code>method()</code> with the arguments <code>String</code> and <code>SomeParam</code>, whereas the actual call was with a <code>String</code> and <strong><code>null</code></strong>. What you have to do is:</p>\n\n<pre><code>when(MockedClass.method(anyString(), isNull())\n</code></pre>\n\n<hr>\n\n<p><strong>Hint</strong></p>\n\n<p>Since there are many <code>isNull()</code> implementations in different frameworks, be sure to use this one <code>org.mockito.ArgumentMatchers.isNull</code>.</p>\n"},{"tags":[],"owner":{"account_id":2263902,"reputation":30920,"user_id":1993204,"accept_rate":90,"display_name":"Bartek Lipinski"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1628862590,"creation_date":1628862590,"answer_id":68773474,"question_id":20517618,"body_markdown":"Just like [Younes EO][1] said: it usually is related to `null` arguments being passed to mocked functions.\r\n\r\nOne thing worth adding is that if you&#39;re using Kotlin for your tests (and you have `mockito-kotlin` in your project), for `Nullable` arguments you should **usually** use `anyOrNull()` instead of `any()`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/59209588/1993204","title":"Mockito when method not working","body":"<p>Just like <a href=\"https://stackoverflow.com/a/59209588/1993204\">Younes EO</a> said: it usually is related to <code>null</code> arguments being passed to mocked functions.</p>\n<p>One thing worth adding is that if you're using Kotlin for your tests (and you have <code>mockito-kotlin</code> in your project), for <code>Nullable</code> arguments you should <strong>usually</strong> use <code>anyOrNull()</code> instead of <code>any()</code>.</p>\n"},{"tags":[],"owner":{"account_id":17912802,"reputation":887,"user_id":13014509,"display_name":"jawn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655217715,"creation_date":1655217715,"answer_id":72618949,"question_id":20517618,"body_markdown":"Relevant to the topic, just in case this helps someone. My `mockito.when` wasn&#39;t working when asserting `anyString()` reason being the `String` within the tested class was an injected value from a properties file. The following line set the injected value in the unit test:\r\n\r\n    ReflectionTestUtils.setField(bean, &quot;theVariable&quot;, &quot;theValue&quot;);","title":"Mockito when method not working","body":"<p>Relevant to the topic, just in case this helps someone. My <code>mockito.when</code> wasn't working when asserting <code>anyString()</code> reason being the <code>String</code> within the tested class was an injected value from a properties file. The following line set the injected value in the unit test:</p>\n<pre><code>ReflectionTestUtils.setField(bean, &quot;theVariable&quot;, &quot;theValue&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1656433214,"post_id":72788562,"comment_id":128569113,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/72788562/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25671988,"reputation":1,"user_id":19436073,"display_name":"Ярослав Черватюк"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656427430,"creation_date":1656427430,"answer_id":72788562,"question_id":20517618,"body_markdown":"I haved the same problem when i make test for controler. Use @MockBean instead @Mock","title":"Mockito when method not working","body":"<p>I haved the same problem when i make test for controler. Use @MockBean instead @Mock</p>\n"},{"tags":[],"owner":{"account_id":4497597,"reputation":181,"user_id":3657024,"display_name":"rpajaziti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697495310,"creation_date":1697495310,"answer_id":77305275,"question_id":20517618,"body_markdown":"In my case there was a method that i forgot to mock:\r\nWhen i mocked a method, a parameter i passed it was another method call, which i should&#39;ve mocked to, otherwise it was passing null and it didn&#39;t work.\r\nSo i mocked:\r\n\r\n`when(testService.create(any(VTestData.class), anyBoolean())).thenReturn(new VData())`\r\n\r\nBut inside the service this method was implemented like:\r\n\r\n`VData vData = testService.create(adapter.from(data), true)`\r\n\r\nSo: `adapter.from(data)` was not mocked, and it was passing as null, so it couldn&#39;t recognized as a mocked service bcs it was receiving null instead of an object.","title":"Mockito when method not working","body":"<p>In my case there was a method that i forgot to mock:\nWhen i mocked a method, a parameter i passed it was another method call, which i should've mocked to, otherwise it was passing null and it didn't work.\nSo i mocked:</p>\n<p><code>when(testService.create(any(VTestData.class), anyBoolean())).thenReturn(new VData())</code></p>\n<p>But inside the service this method was implemented like:</p>\n<p><code>VData vData = testService.create(adapter.from(data), true)</code></p>\n<p>So: <code>adapter.from(data)</code> was not mocked, and it was passing as null, so it couldn't recognized as a mocked service bcs it was receiving null instead of an object.</p>\n"}],"owner":{"account_id":1443843,"reputation":909,"user_id":1363092,"accept_rate":60,"display_name":"Gopi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128248,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":20608479,"answer_count":8,"score":33,"last_activity_date":1697495310,"creation_date":1386760482,"question_id":20517618,"body_markdown":"I am using mockito as mocking framework. I have a scenerio here, my when(abc.method()).thenReturn(value) does not return value, instead it returns null.\r\n\r\n    public class DQExecWorkflowServiceImplTest {\r\n\t@InjectMocks\r\n\tDQExecWorkflowServiceImpl dqExecWorkflowServiceImpl = new DQExecWorkflowServiceImpl();\r\n\t@Mock\r\n\tprivate DQUtility dqUtility;\r\n\t@Mock\r\n\tprivate DqExec dqExec;\r\n\t@Mock\r\n\tprivate DqCntlDefn dqCntlDefn;\r\n\t@Mock\r\n\tprivate DqCntlWfDefn dqCntlWfDefn;\r\n\t@Mock\r\n\tprivate DqCntlWfDefnTyp dqCntlWfDefnTyp;\r\n\t@Mock\r\n\tprivate IDQControlWfDefTypeService controlWfDefTypeService;\r\n\r\n\t@Before\r\n\tpublic void setUp() throws Exception {\r\n\t\tdqExec = new DqExec();\r\n\t\tdqCntlWfDefn = new DqCntlWfDefn();\r\n\t\tdqUtility = new DQUtility();\r\n\t\tdqCntlWfDefnTyp = new DqCntlWfDefnTyp();\r\n\t\tdqCntlWfDefnTyp.setDqCntlWfDefnTypCd(&quot;MIN_INCLUSIVE_VAL&quot;);\r\n\t\tdqExecWorkflowServiceImpl\r\n\t\t\t\t.setControlWfDefTypeService(controlWfDefTypeService);\r\n\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testExecuteWorkflow() {\r\n\t\twhen(controlWfDefTypeService.getDqCntlWfDefnTypCd(dqCntlWfDefn))\r\n\t\t\t\t.thenReturn(dqCntlWfDefnTyp);\r\n\t\tdqExecWorkflowServiceImpl.executeWorkflow(dqExec, dqCntlWfDefn);\r\n\t}\r\n\r\n}\r\n\r\n&lt;b&gt;Java class&lt;/b&gt;\r\n\r\n    @Override\r\n\tpublic DqCntlWfExec executeWorkflow(final DqExec dqExec,\r\n\t\t\tfinal DqCntlWfDefn dqCntlWfDefn) {\r\n\tfinal DqCntlWfExec dqCntlWfExec = new DqCntlWfExec();\r\n\tdqCntlWfExec.setDqCntlWfExecEffDt(dqUtil.getDefaultEffectiveDt());\r\n\tdqCntlWfExec.setDqCntlWfExecExpDt(dqUtil.getDefaultExpiryDt());\r\n\tdqCntlWfExec.setDqCntlWfDefn(dqCntlWfDefn);\r\n\tdqCntlWfExec.setDqExec(dqExec);\r\n\r\n\tfinal DqCntlWfDefnTyp dqCntlWfDefnTyp = controlWfDefTypeService\r\n\t\t.getDqCntlWfDefnTypCd(dqCntlWfDefn);\r\n         String workflowType = null;\r\n\tif(null!=dqCntlWfDefnTyp){\r\n\t\tworkflowType = dqCntlWfDefnTyp.getDqCntlWfDefnTypCd();\r\n\t}\r\n\r\nWhen ever i run the test file the when is not working and i am using mockito1.8.5 jar in the buildpath. The service call is being mocked but returns the null value.\r\n\r\n    final DqCntlWfDefnTyp dqCntlWfDefnTyp = controlWfDefTypeService\r\n\t\t.getDqCntlWfDefnTypCd(dqCntlWfDefn);\r\n\r\nThis object dqCntlWfDefnTyp is null\r\n\r\nI have done this before and there was no problem with the when, It seems to be working with files i have done before. I had followed the same procedure for the test file but i couldnt figure out the issue. Can anyone please assist me\r\n\r\n\r\nThanks to all the folks in advance\r\n\r\n","title":"Mockito when method not working","body":"<p>I am using mockito as mocking framework. I have a scenerio here, my when(abc.method()).thenReturn(value) does not return value, instead it returns null.</p>\n\n<pre><code>public class DQExecWorkflowServiceImplTest {\n@InjectMocks\nDQExecWorkflowServiceImpl dqExecWorkflowServiceImpl = new DQExecWorkflowServiceImpl();\n@Mock\nprivate DQUtility dqUtility;\n@Mock\nprivate DqExec dqExec;\n@Mock\nprivate DqCntlDefn dqCntlDefn;\n@Mock\nprivate DqCntlWfDefn dqCntlWfDefn;\n@Mock\nprivate DqCntlWfDefnTyp dqCntlWfDefnTyp;\n@Mock\nprivate IDQControlWfDefTypeService controlWfDefTypeService;\n\n@Before\npublic void setUp() throws Exception {\n    dqExec = new DqExec();\n    dqCntlWfDefn = new DqCntlWfDefn();\n    dqUtility = new DQUtility();\n    dqCntlWfDefnTyp = new DqCntlWfDefnTyp();\n    dqCntlWfDefnTyp.setDqCntlWfDefnTypCd(\"MIN_INCLUSIVE_VAL\");\n    dqExecWorkflowServiceImpl\n            .setControlWfDefTypeService(controlWfDefTypeService);\n\n}\n\n@Test\npublic void testExecuteWorkflow() {\n    when(controlWfDefTypeService.getDqCntlWfDefnTypCd(dqCntlWfDefn))\n            .thenReturn(dqCntlWfDefnTyp);\n    dqExecWorkflowServiceImpl.executeWorkflow(dqExec, dqCntlWfDefn);\n}\n</code></pre>\n\n<p>}</p>\n\n<p><b>Java class</b></p>\n\n<pre><code>@Override\npublic DqCntlWfExec executeWorkflow(final DqExec dqExec,\n        final DqCntlWfDefn dqCntlWfDefn) {\nfinal DqCntlWfExec dqCntlWfExec = new DqCntlWfExec();\ndqCntlWfExec.setDqCntlWfExecEffDt(dqUtil.getDefaultEffectiveDt());\ndqCntlWfExec.setDqCntlWfExecExpDt(dqUtil.getDefaultExpiryDt());\ndqCntlWfExec.setDqCntlWfDefn(dqCntlWfDefn);\ndqCntlWfExec.setDqExec(dqExec);\n\nfinal DqCntlWfDefnTyp dqCntlWfDefnTyp = controlWfDefTypeService\n    .getDqCntlWfDefnTypCd(dqCntlWfDefn);\n     String workflowType = null;\nif(null!=dqCntlWfDefnTyp){\n    workflowType = dqCntlWfDefnTyp.getDqCntlWfDefnTypCd();\n}\n</code></pre>\n\n<p>When ever i run the test file the when is not working and i am using mockito1.8.5 jar in the buildpath. The service call is being mocked but returns the null value.</p>\n\n<pre><code>final DqCntlWfDefnTyp dqCntlWfDefnTyp = controlWfDefTypeService\n    .getDqCntlWfDefnTypCd(dqCntlWfDefn);\n</code></pre>\n\n<p>This object dqCntlWfDefnTyp is null</p>\n\n<p>I have done this before and there was no problem with the when, It seems to be working with files i have done before. I had followed the same procedure for the test file but i couldnt figure out the issue. Can anyone please assist me</p>\n\n<p>Thanks to all the folks in advance</p>\n"},{"tags":["java","logging","logback"],"answers":[{"comments":[{"owner":{"account_id":1366480,"reputation":212,"user_id":1302799,"display_name":"mlapeyre"},"score":0,"creation_date":1584456679,"post_id":60672889,"comment_id":107438729,"body_markdown":"Thank you for your answer, but i really executed theis code.\nAnd the behaviour is really the one i described before :/","body":"Thank you for your answer, but i really executed theis code. And the behaviour is really the one i described before :/"},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1584456957,"post_id":60672889,"comment_id":107438856,"body_markdown":"Strange, I also really executed your code before answering.","body":"Strange, I also really executed your code before answering."}],"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584112237,"creation_date":1584112237,"answer_id":60672889,"question_id":60671702,"body_markdown":"Having one appender with multiple loggers is not only possible but normal: in facts I usually put just one `&lt;appender-ref ref=&quot;xyz&quot;/&gt;` tag inside the `&lt;root&gt;` tag so it is valid for *all* loggers.  Your example works fine, so check better your real config.","title":"Logback several loggers with same appender","body":"<p>Having one appender with multiple loggers is not only possible but normal: in facts I usually put just one <code>&lt;appender-ref ref=\"xyz\"/&gt;</code> tag inside the <code>&lt;root&gt;</code> tag so it is valid for <em>all</em> loggers.  Your example works fine, so check better your real config.</p>\n"},{"tags":[],"owner":{"account_id":1579228,"reputation":167,"user_id":1464949,"display_name":"Florin Grigoriu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697495143,"creation_date":1697495143,"answer_id":77305267,"question_id":60671702,"body_markdown":"I wonder if the logger should be present in a `loggers` section for example :\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;configuration scan=&quot;true&quot;&gt;\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%-18.18thread] %highlight(%-5level) %-30.30logger - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n&lt;Loggers&gt;\r\n    &lt;logger name=&quot;events.A&quot; level=&quot;trace&quot;&gt;&lt;appender-ref ref=&quot;STDOUT&quot;/&gt;&lt;/logger&gt;\r\n    &lt;logger name=&quot;events.B&quot; level=&quot;trace&quot;&gt;&lt;appender-ref ref=&quot;STDOUT&quot;/&gt;&lt;/logger&gt;\r\n    &lt;root level=&quot;info&quot;/&gt;\r\n&lt;/Loggers&gt;\r\n&lt;/configuration&gt;\r\n```","title":"Logback several loggers with same appender","body":"<p>I wonder if the logger should be present in a <code>loggers</code> section for example :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;configuration scan=&quot;true&quot;&gt;\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%-18.18thread] %highlight(%-5level) %-30.30logger - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n&lt;Loggers&gt;\n    &lt;logger name=&quot;events.A&quot; level=&quot;trace&quot;&gt;&lt;appender-ref ref=&quot;STDOUT&quot;/&gt;&lt;/logger&gt;\n    &lt;logger name=&quot;events.B&quot; level=&quot;trace&quot;&gt;&lt;appender-ref ref=&quot;STDOUT&quot;/&gt;&lt;/logger&gt;\n    &lt;root level=&quot;info&quot;/&gt;\n&lt;/Loggers&gt;\n&lt;/configuration&gt;\n</code></pre>\n"}],"owner":{"account_id":1366480,"reputation":212,"user_id":1302799,"display_name":"mlapeyre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":744,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697495143,"creation_date":1584107504,"question_id":60671702,"body_markdown":"Is that possible to get several loggers working with the same appender ?\r\nWhen i create a logback.xml like this one:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;configuration scan=&quot;true&quot;&gt;\r\n        &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;%d{HH:mm:ss.SSS} [%-18.18thread] %highlight(%-5level) %-30.30logger - %msg%n&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n        &lt;logger name=&quot;events.A&quot; level=&quot;trace&quot;&gt;&lt;appender-ref ref=&quot;STDOUT&quot;/&gt;&lt;/logger&gt;\r\n        &lt;logger name=&quot;events.B&quot; level=&quot;trace&quot;&gt;&lt;appender-ref ref=&quot;STDOUT&quot;/&gt;&lt;/logger&gt;\r\n        &lt;root level=&quot;info&quot;/&gt;\r\n    &lt;/configuration&gt;\r\n\r\nBut when i do:\r\n\r\n        Logger loggerA = LoggerFactory.getLogger(&quot;events.A&quot;);\r\n        Logger loggerB = LoggerFactory.getLogger(&quot;events.B&quot;);\r\n        loggerA.trace(&quot;I am A&quot;);\r\n        loggerB.trace(&quot;I am B&quot;);\r\nIt prints only &quot;I am B&quot;.\r\n\r\nIt that a normal behaviour ? is there a way to do it ?\r\nI know i could only use &quot;events&quot; logger but i will have a lot of events and i would like to be able to switch log level of each events separately.","title":"Logback several loggers with same appender","body":"<p>Is that possible to get several loggers working with the same appender ?\nWhen i create a logback.xml like this one:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;configuration scan=\"true\"&gt;\n    &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%-18.18thread] %highlight(%-5level) %-30.30logger - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;logger name=\"events.A\" level=\"trace\"&gt;&lt;appender-ref ref=\"STDOUT\"/&gt;&lt;/logger&gt;\n    &lt;logger name=\"events.B\" level=\"trace\"&gt;&lt;appender-ref ref=\"STDOUT\"/&gt;&lt;/logger&gt;\n    &lt;root level=\"info\"/&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>But when i do:</p>\n\n<pre><code>    Logger loggerA = LoggerFactory.getLogger(\"events.A\");\n    Logger loggerB = LoggerFactory.getLogger(\"events.B\");\n    loggerA.trace(\"I am A\");\n    loggerB.trace(\"I am B\");\n</code></pre>\n\n<p>It prints only \"I am B\".</p>\n\n<p>It that a normal behaviour ? is there a way to do it ?\nI know i could only use \"events\" logger but i will have a lot of events and i would like to be able to switch log level of each events separately.</p>\n"},{"tags":["java","spring","nullpointerexception","scheduled-tasks"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1484880953,"post_id":41755309,"comment_id":70702899,"body_markdown":"so your `TaskScheduler` is not getting injected?","body":"so your <code>TaskScheduler</code> is not getting injected?"},{"owner":{"account_id":10069599,"reputation":67,"user_id":7443634,"accept_rate":67,"display_name":"Oddkills"},"score":0,"creation_date":1484881065,"post_id":41755309,"comment_id":70702932,"body_markdown":"Well actually I don&#39;t know but now you&#39;ve mentioned I think so","body":"Well actually I don&#39;t know but now you&#39;ve mentioned I think so"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1484881109,"post_id":41755309,"comment_id":70702941,"body_markdown":"First thing to check I thinks","body":"First thing to check I thinks"},{"owner":{"account_id":10069599,"reputation":67,"user_id":7443634,"accept_rate":67,"display_name":"Oddkills"},"score":0,"creation_date":1484881321,"post_id":41755309,"comment_id":70702993,"body_markdown":"will do now....","body":"will do now...."},{"owner":{"account_id":10069599,"reputation":67,"user_id":7443634,"accept_rate":67,"display_name":"Oddkills"},"score":0,"creation_date":1484881482,"post_id":41755309,"comment_id":70703034,"body_markdown":"yep it&#39;s not injected, how to fix it ? :D","body":"yep it&#39;s not injected, how to fix it ? :D"},{"owner":{"account_id":322284,"reputation":16565,"user_id":641627,"display_name":"alexbt"},"score":0,"creation_date":1484881497,"post_id":41755309,"comment_id":70703041,"body_markdown":"your NotificationManager is not Spring Managed (as you&#39;ve shown with `NotificationManger mn = new NotificationManger(...);`, so no autowiring is performed on it!","body":"your NotificationManager is not Spring Managed (as you&#39;ve shown with <code>NotificationManger mn = new NotificationManger(...);</code>, so no autowiring is performed on it!"},{"owner":{"account_id":10069599,"reputation":67,"user_id":7443634,"accept_rate":67,"display_name":"Oddkills"},"score":0,"creation_date":1484881684,"post_id":41755309,"comment_id":70703083,"body_markdown":"you mean the class should be annotated @alexbt","body":"you mean the class should be annotated @alexbt"},{"owner":{"account_id":322284,"reputation":16565,"user_id":641627,"display_name":"alexbt"},"score":0,"creation_date":1484881807,"post_id":41755309,"comment_id":70703115,"body_markdown":"Well... yes, but its constructor also takes a non-spring managed (ie: `new WebSocketMessage(n)`).  The whole stack need to be spring-managed. If you have a Configuration class, you could add an @Bean method to create the NotificationManger there. Then, it would be Spring-managed and the scheduler would be autowired.  It may require some refactoring.. Perhaps the Scheduler may be injected before and passed as argument ?","body":"Well... yes, but its constructor also takes a non-spring managed (ie: <code>new WebSocketMessage(n)</code>).  The whole stack need to be spring-managed. If you have a Configuration class, you could add an @Bean method to create the NotificationManger there. Then, it would be Spring-managed and the scheduler would be autowired.  It may require some refactoring.. Perhaps the Scheduler may be injected before and passed as argument ?"},{"owner":{"account_id":10069599,"reputation":67,"user_id":7443634,"accept_rate":67,"display_name":"Oddkills"},"score":0,"creation_date":1484881964,"post_id":41755309,"comment_id":70703160,"body_markdown":"can&#39;t I just annotate it with `@Component` and it will be injected and managed automatically ?","body":"can&#39;t I just annotate it with <code>@Component</code> and it will be injected and managed automatically ?"},{"owner":{"account_id":10069599,"reputation":67,"user_id":7443634,"accept_rate":67,"display_name":"Oddkills"},"score":0,"creation_date":1484882069,"post_id":41755309,"comment_id":70703185,"body_markdown":"No I can&#39;t inject the scheduler before cause I will need to injected it in multiple other classes","body":"No I can&#39;t inject the scheduler before cause I will need to injected it in multiple other classes"},{"owner":{"account_id":322284,"reputation":16565,"user_id":641627,"display_name":"alexbt"},"score":0,"creation_date":1484882116,"post_id":41755309,"comment_id":70703197,"body_markdown":"try it you&#39;ll see.. It needs either a no-args constructor OR a constructor where all the arguments are also `Components`. Since your constructor takes 4 non-spring managed arguments, it won&#39;t work, unless you make these 4 also `@Component`. I think you may need to go through a Spring tutorial first!","body":"try it you&#39;ll see.. It needs either a no-args constructor OR a constructor where all the arguments are also <code>Components</code>. Since your constructor takes 4 non-spring managed arguments, it won&#39;t work, unless you make these 4 also <code>@Component</code>. I think you may need to go through a Spring tutorial first!"},{"owner":{"account_id":10069599,"reputation":67,"user_id":7443634,"accept_rate":67,"display_name":"Oddkills"},"score":0,"creation_date":1484882295,"post_id":41755309,"comment_id":70703246,"body_markdown":"Okay...So I need to inject the class as a bean in my webconfig an use setters and getters, you think this will work ? this way I don&#39;t handle the parameters","body":"Okay...So I need to inject the class as a bean in my webconfig an use setters and getters, you think this will work ? this way I don&#39;t handle the parameters"},{"owner":{"account_id":322284,"reputation":16565,"user_id":641627,"display_name":"alexbt"},"score":0,"creation_date":1484882359,"post_id":41755309,"comment_id":70703272,"body_markdown":"can you post your Webconfig ?","body":"can you post your Webconfig ?"},{"owner":{"account_id":10069599,"reputation":67,"user_id":7443634,"accept_rate":67,"display_name":"Oddkills"},"score":0,"creation_date":1484882382,"post_id":41755309,"comment_id":70703278,"body_markdown":"and you were right about the @Component","body":"and you were right about the @Component"},{"owner":{"account_id":10069599,"reputation":67,"user_id":7443634,"accept_rate":67,"display_name":"Oddkills"},"score":0,"creation_date":1484882551,"post_id":41755309,"comment_id":70703330,"body_markdown":"Check now, I don&#39;t think you need the full code no ? cause all that&#39;s left are beans","body":"Check now, I don&#39;t think you need the full code no ? cause all that&#39;s left are beans"}],"answers":[{"comments":[{"owner":{"account_id":322284,"reputation":16565,"user_id":641627,"display_name":"alexbt"},"score":0,"creation_date":1484883156,"post_id":41755562,"comment_id":70703479,"body_markdown":"the OP is trying to `autowire` the TaskScheduler, which is why he is not initializing it.","body":"the OP is trying to <code>autowire</code> the TaskScheduler, which is why he is not initializing it."}],"tags":[],"owner":{"account_id":6344520,"reputation":1006,"user_id":4925487,"display_name":"siddhartha jain"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1484882602,"creation_date":1484882602,"answer_id":41755562,"question_id":41755309,"body_markdown":"You have not initialized the global instance variable\r\n\r\nprivate TaskScheduler scheduler ;\r\n\r\nSince it&#39;s an global instance variable it do not give any compile time error for it and it get initialized with null value implicitly.\r\n\r\nThat is why when you try to access  scheduler.schedule it throws null pointer error.\r\n\r\nHope this solve your query.","title":"NullPointerException at TaskScheduler","body":"<p>You have not initialized the global instance variable</p>\n\n<p>private TaskScheduler scheduler ;</p>\n\n<p>Since it's an global instance variable it do not give any compile time error for it and it get initialized with null value implicitly.</p>\n\n<p>That is why when you try to access  scheduler.schedule it throws null pointer error.</p>\n\n<p>Hope this solve your query.</p>\n"},{"comments":[{"owner":{"account_id":10069599,"reputation":67,"user_id":7443634,"accept_rate":67,"display_name":"Oddkills"},"score":0,"creation_date":1484883454,"post_id":41755635,"comment_id":70703559,"body_markdown":"Actually I&#39;ve got it to run using [this](https://github.com/alv-ch/alv-ch-java/blob/master/components-core/src/main/java/ch/alv/components/core/spring/AutowireHelper.java)","body":"Actually I&#39;ve got it to run using <a href=\"https://github.com/alv-ch/alv-ch-java/blob/master/components-core/src/main/java/ch/alv/components/core/spring/AutowireHelper.java\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":10069599,"reputation":67,"user_id":7443634,"accept_rate":67,"display_name":"Oddkills"},"score":0,"creation_date":1484883499,"post_id":41755635,"comment_id":70703567,"body_markdown":"and thank you for your help it guided me to the answer","body":"and thank you for your help it guided me to the answer"},{"owner":{"account_id":322284,"reputation":16565,"user_id":641627,"display_name":"alexbt"},"score":0,"creation_date":1484883536,"post_id":41755635,"comment_id":70703576,"body_markdown":"Good, I&#39;m glad it helped!","body":"Good, I&#39;m glad it helped!"}],"tags":[],"owner":{"account_id":322284,"reputation":16565,"user_id":641627,"display_name":"alexbt"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1484883924,"creation_date":1484883112,"answer_id":41755635,"question_id":41755309,"body_markdown":"#AutowireHelper to the rescue\r\nInstead of refactoring all the code, the OP actually found a library to force autowiring into a non-spring-managed bean:\r\n\r\nThe library is: https://github.com/alv-ch/alv-ch-java\r\n\r\nit can be used this way:\r\n\r\n    public class NotificationManager {\r\n        @Autowired\r\n        private TaskScheduler scheduler;\r\n    \r\n        public NotificationManager(WebSocketMessage webSocketMessage, String userName, Date date, Date time) {\r\n            AutowireHelper.autowire(this, scheduler);\r\n            scheduleTask(webSocketMessage, userName, combine(date,time));\r\n        }\r\n        ...\r\n    }\r\n\r\nThis will autowire the `TaskScheduler` into `NotificationManager`, even if it is not spring managed.\r\nYou can see AutowireHelper source code [here][1].\r\n\r\n----------\r\n\r\n\r\n#Another possible solution\r\n\r\n###1. Annotate NotificationManager with @Service and remove constructor:\r\n\r\n    @Service\r\n    public class NotificationManager {\r\n    \r\n        @Autowired\r\n        private TaskScheduler scheduler;\r\n    \r\n        private ScheduledFuture&lt;?&gt; sc;\r\n    \r\n        public void scheduleTask(WebSocketMessage webSocketMessage, String userName, Date date, Date time) {\r\n            scheduleTask(webSocketMessage, userName, combine(date,time));\r\n        }\r\n    \r\n        public void scheduleTask(WebSocketMessage webSocketMessage, String userName, Date startTime) \r\n        { \r\n            Runnable r = new NotificationSenderTask(webSocketMessage, userName);\r\n            sc = scheduler.schedule(r, new Date());\r\n    \r\n       }\r\n    }\r\n\r\n\r\n###2. Autowire NotificationManager\r\nThen, at the location where you used to do `NotificationManager mn = new NotificationManager(...)`, do this instead:\r\n\r\n    @Autowired \r\n    private NotificationManager notificationManager;\r\n    \r\n    ...\r\n    notificationManager.scheduleTask(new WebSocketMessage(n), user.getEmail(),date1,date2);\r\n\r\nFor this to work, wherever this is, it also needs to be inside a spring-managed bean.\r\n\r\n\r\n  [1]: https://github.com/alv-ch/alv-ch-java/blob/master/components-core/src/main/java/ch/alv/components/core/spring/AutowireHelper.java","title":"NullPointerException at TaskScheduler","body":"<h1>AutowireHelper to the rescue</h1>\n\n<p>Instead of refactoring all the code, the OP actually found a library to force autowiring into a non-spring-managed bean:</p>\n\n<p>The library is: <a href=\"https://github.com/alv-ch/alv-ch-java\" rel=\"nofollow noreferrer\">https://github.com/alv-ch/alv-ch-java</a></p>\n\n<p>it can be used this way:</p>\n\n<pre><code>public class NotificationManager {\n    @Autowired\n    private TaskScheduler scheduler;\n\n    public NotificationManager(WebSocketMessage webSocketMessage, String userName, Date date, Date time) {\n        AutowireHelper.autowire(this, scheduler);\n        scheduleTask(webSocketMessage, userName, combine(date,time));\n    }\n    ...\n}\n</code></pre>\n\n<p>This will autowire the <code>TaskScheduler</code> into <code>NotificationManager</code>, even if it is not spring managed.\nYou can see AutowireHelper source code <a href=\"https://github.com/alv-ch/alv-ch-java/blob/master/components-core/src/main/java/ch/alv/components/core/spring/AutowireHelper.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<hr>\n\n<h1>Another possible solution</h1>\n\n<h3>1. Annotate NotificationManager with @Service and remove constructor:</h3>\n\n<pre><code>@Service\npublic class NotificationManager {\n\n    @Autowired\n    private TaskScheduler scheduler;\n\n    private ScheduledFuture&lt;?&gt; sc;\n\n    public void scheduleTask(WebSocketMessage webSocketMessage, String userName, Date date, Date time) {\n        scheduleTask(webSocketMessage, userName, combine(date,time));\n    }\n\n    public void scheduleTask(WebSocketMessage webSocketMessage, String userName, Date startTime) \n    { \n        Runnable r = new NotificationSenderTask(webSocketMessage, userName);\n        sc = scheduler.schedule(r, new Date());\n\n   }\n}\n</code></pre>\n\n<h3>2. Autowire NotificationManager</h3>\n\n<p>Then, at the location where you used to do <code>NotificationManager mn = new NotificationManager(...)</code>, do this instead:</p>\n\n<pre><code>@Autowired \nprivate NotificationManager notificationManager;\n\n...\nnotificationManager.scheduleTask(new WebSocketMessage(n), user.getEmail(),date1,date2);\n</code></pre>\n\n<p>For this to work, wherever this is, it also needs to be inside a spring-managed bean.</p>\n"}],"owner":{"account_id":10069599,"reputation":67,"user_id":7443634,"accept_rate":67,"display_name":"Oddkills"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1888,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":41755635,"answer_count":2,"score":2,"last_activity_date":1697494917,"creation_date":1484880842,"question_id":41755309,"body_markdown":"I have a **TaskScheduler class** like this:\r\n\r\n    public class NotificationManger {\r\n\t\r\n\t@Autowired\r\n\tprivate TaskScheduler scheduler;\r\n\t\r\n\tprivate ScheduledFuture&lt;?&gt; sc;\r\n\r\n\tpublic NotificationManger(WebSocketMessage webSocketMessage, String userName, Date date, Date time) {\r\n\t\tscheduleTask(webSocketMessage, userName, combine(date,time));\r\n\t}\r\n\t\r\n    public void scheduleTask(WebSocketMessage webSocketMessage, String userName, Date startTime) \r\n      { \r\n    \tRunnable r = new NotificationSenderTask(webSocketMessage, userName);\r\n\r\n    \tsc = scheduler.schedule(r, new Date());//here I get a  NullPointerException \r\n      \r\n       }\r\n    }\r\n\r\nand a **Runnable class** like this:\r\n\r\n    class NotificationSenderTask implements Runnable {\r\n\r\n\t@Autowired\r\n\tSimpMessagingTemplate webSocketMessageTemplate;\r\n\t\r\n\tprivate String userName;\r\n\t\r\n    private WebSocketMessage webSocketMessage;\r\n\r\n    public NotificationSenderTask(WebSocketMessage webSocketMessage, String userName) {\r\n        this.webSocketMessage = webSocketMessage;\r\n        this.userName = userName;\r\n    }\r\n\r\n    public void run() {\r\n\r\n    \twebSocketMessageTemplate.convertAndSendToUser(userName, &quot;/notification&quot;, webSocketMessage);;\r\n    }\r\n\r\n    }\r\n\r\nand I call the **TaskScheduler**: `NotificationManger mn = new NotificationManger(new WebSocketMessage(n), user.getEmail(),date1,date2 );`\r\n    \r\n\r\nbut I&#39;m getting \r\n\r\n&gt; `java.lang.NullPointerException: null` \r\n\r\nat `sc = scheduler.schedule(r, new Date());`\r\n\r\nmaybe I&#39;m using the runnable class wrong?\r\n\r\n    @EnableWebMvc\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true, proxyTargetClass = true)\r\n    @Configuration\r\n    @ComponentScan(basePackages = &quot;gestionprojet.java&quot;)\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    @Import({PersistenceJPAConfig.class, WebSecurityConfig.class})\r\n    public class WebConfig extends WebMvcConfigurerAdapter {...}\r\n\r\n","title":"NullPointerException at TaskScheduler","body":"<p>I have a <strong>TaskScheduler class</strong> like this:</p>\n<pre><code>public class NotificationManger {\n\n@Autowired\nprivate TaskScheduler scheduler;\n\nprivate ScheduledFuture&lt;?&gt; sc;\n\npublic NotificationManger(WebSocketMessage webSocketMessage, String userName, Date date, Date time) {\n    scheduleTask(webSocketMessage, userName, combine(date,time));\n}\n\npublic void scheduleTask(WebSocketMessage webSocketMessage, String userName, Date startTime) \n  { \n    Runnable r = new NotificationSenderTask(webSocketMessage, userName);\n\n    sc = scheduler.schedule(r, new Date());//here I get a  NullPointerException \n  \n   }\n}\n</code></pre>\n<p>and a <strong>Runnable class</strong> like this:</p>\n<pre><code>class NotificationSenderTask implements Runnable {\n\n@Autowired\nSimpMessagingTemplate webSocketMessageTemplate;\n\nprivate String userName;\n\nprivate WebSocketMessage webSocketMessage;\n\npublic NotificationSenderTask(WebSocketMessage webSocketMessage, String userName) {\n    this.webSocketMessage = webSocketMessage;\n    this.userName = userName;\n}\n\npublic void run() {\n\n    webSocketMessageTemplate.convertAndSendToUser(userName, &quot;/notification&quot;, webSocketMessage);;\n}\n\n}\n</code></pre>\n<p>and I call the <strong>TaskScheduler</strong>: <code>NotificationManger mn = new NotificationManger(new WebSocketMessage(n), user.getEmail(),date1,date2 );</code></p>\n<p>but I'm getting</p>\n<blockquote>\n<p><code>java.lang.NullPointerException: null</code></p>\n</blockquote>\n<p>at <code>sc = scheduler.schedule(r, new Date());</code></p>\n<p>maybe I'm using the runnable class wrong?</p>\n<pre><code>@EnableWebMvc\n@EnableGlobalMethodSecurity(prePostEnabled = true, proxyTargetClass = true)\n@Configuration\n@ComponentScan(basePackages = &quot;gestionprojet.java&quot;)\n@PropertySource(&quot;classpath:application.properties&quot;)\n@Import({PersistenceJPAConfig.class, WebSecurityConfig.class})\npublic class WebConfig extends WebMvcConfigurerAdapter {...}\n</code></pre>\n"},{"tags":["mariadb","connectivity","java"],"owner":{"account_id":20980740,"reputation":9,"user_id":21423293,"display_name":"Tr&#244; Armen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1697494588,"answer_count":0,"score":0,"last_activity_date":1697494765,"creation_date":1697299987,"question_id":77305228,"body_markdown":"I have this school project about a car store database.\r\n\r\nAs you see,I have the Marca(It means brand in portuguese) class, the MarcaDAO(BrandDAO), the Conexao(Connection) and the Principal(Main).\r\n\r\nMarca.java:\r\n```java\r\n    package lojadecarros.Tables;\r\n\r\n    import java.util.List;\r\n\r\n    public class Marca {\r\n         private int id;\r\n         private String nome;\r\n         private List&lt;Modelo&gt; modelos;\r\n\r\n    public Marca(int id, String nome) {\r\n        this.id = id;\r\n        this.nome = nome;\r\n    }\r\n\r\n    public Marca(String nome) {\r\n        this.nome = nome;\r\n    }\r\n\r\n    public void addModelo(Modelo modelo){\r\n        modelos.add(modelo);\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id){\r\n        this.id = id;\r\n    }\r\n    \r\n    public String getNome() {\r\n        return nome;\r\n    }\r\n\r\n    public void setNome(String nome) {\r\n        this.nome = nome;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Marca [id=&quot; + id + &quot;, nome=&quot; + nome + &quot;, modelos=&quot; + modelos + &quot;]&quot;;\r\n    }\r\n    \r\n    }\r\n```\r\nMarcaDAO.java:\r\n```java\r\n    package lojadecarros.TabelasDao.Marca;\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n\r\n    import lojadecarros.TabelasDao.Conexao;\r\n    import lojadecarros.Tables.Marca;\r\n\r\n    // DAO = Data Access Object\r\n    public class MarcaDAO {\r\n    public Marca create(Marca marca) throws SQLException{\r\n        String sql = &quot;&quot;&quot;\r\n        INSERT INTO marca (nome)\r\n        VALUES (?);\r\n        &quot;&quot;&quot;;\r\n        try (\r\n            Connection connection = Conexao.getConnection();\r\n            PreparedStatement statement = connection\r\n            .prepareStatement(sql, PreparedStatement.RETURN_GENERATED_KEYS);\r\n        ) {\r\n            statement.setString(1, marca.getNome());\r\n            statement.executeUpdate();\r\n\r\n            ResultSet rs = statement.getGeneratedKeys();\r\n\r\n            if(rs.next()) {\r\n                marca.setId(rs.getInt(1));\r\n            }\r\n\r\n            rs.close();\r\n\r\n            return marca;\r\n        }\r\n    }\r\n\r\n    public Marca update(Marca marca) throws SQLException{\r\n        String sql = &quot;&quot;&quot;\r\n        UPDATE marca\r\n        SET nome = ?\r\n        WHERE id = ?;\r\n        &quot;&quot;&quot;;\r\n\r\n        try (\r\n            Connection connection = Conexao.getConnection();\r\n            PreparedStatement statement = connection.prepareStatement(sql);\r\n        ) {\r\n\r\n            statement.setString(1, marca.getNome());\r\n            statement.setInt(2, marca.getId());\r\n            int linhasAfetadas = statement.executeUpdate();\r\n\r\n            if (linhasAfetadas &gt; 0) {\r\n                return marca;\r\n            }\r\n            return null;\r\n\r\n            } catch (SQLException e) {\r\n                return null;\r\n            }\r\n    }\r\n\r\n    public void delete(Integer id) {\r\n        String sql = &quot;DELETE FROM marca WHERE id = ?;&quot;;\r\n\r\n        try (\r\n            Connection connection = Conexao.getConnection();\r\n            PreparedStatement statement = connection.prepareStatement(sql);\r\n        ) {\r\n            statement.setInt(1, id);\r\n            statement.executeUpdate();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void delete(Marca marca) {\r\n        delete(marca.getId());\r\n    }\r\n\r\n    public Marca findById(Integer id) {\r\n        String sql = &quot;SELECT * FROM marca WHERE id = ?;&quot;;\r\n\r\n        try (\r\n            Connection connection = Conexao.getConnection();\r\n            PreparedStatement statement = connection.prepareStatement(sql);\r\n        ) {\r\n            statement.setInt(1, id);\r\n\r\n            ResultSet rs = statement.executeQuery();\r\n\r\n            if (rs.next()) {\r\n                return resultSetToMarca(rs);\r\n            }\r\n\r\n            rs.close();\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    private Marca resultSetToMarca(ResultSet rs) throws SQLException {\r\n        return new Marca(\r\n            rs.getInt(&quot;id&quot;),\r\n            rs.getString(&quot;nome&quot;)\r\n        );\r\n    }\r\n    }\r\n```\r\nConexao.java:\r\n```java\r\n    package lojadecarros.TabelasDao;\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n\r\n    public class Conexao {\r\n    \r\n    public static Connection getConnection() {\r\n        //Class.forName(&quot;org.mariadb.jdbc.Driver&quot;);\r\n        //String url = &quot;jdbc:mysql://localhost/estudante1?user=estudante1&amp;password=estudante1&amp;useSSL=true&quot;;\r\n        String url = &quot;jdbc:mariadb://localhost/javaalunos?user=troarmen&amp;password=0000&quot;;\r\n        try {\r\n            return DriverManager.getConnection(url);\r\n        } catch (SQLException e) {\r\n            System.out.println(e.getMessage());\r\n            return null;\r\n        }\r\n    }\r\n    }\r\n```\r\nPrincipal.java:\r\n```java\r\n    package lojadecarros.TabelasDao.Marca;\r\n\r\n    import java.sql.SQLException;\r\n\r\n    import lojadecarros.Tables.Marca;\r\n\r\n    public class Principal{\r\n    public static void main(String[] args) throws SQLException {\r\n        MarcaDAO marcaDao = new MarcaDAO();\r\n        \r\n        Marca marca = new Marca(0, &quot;Ford&quot;);\r\n\r\n        Marca marcaCriada = marcaDao.create(marca);\r\n\r\n        System.out.println(marcaCriada.getId());\r\n\r\n        System.out.println(marcaDao.findById(0));                \r\n    }\r\n    }\r\n```\r\nWhen I run the Principal(Main), I get this error:\r\n\r\n&gt;    No suitable driver found for jdbc:mariadb://localhost/javaalunos? \\\r\n    user=troarmen&amp;password=0000\\\r\n    Exception in thread &quot;main&quot;\\ java.lang.NullPointerException: Cannot invoke \r\n&gt;    &quot;java.sql.Connection.prepareStatement(String, int)&quot; because &quot;connection&quot; is null\\\r\n        at lojadecarros.TabelasDao.Marca.MarcaDAO.create(MarcaDAO.java:21)\\\r\n        at lojadecarros.TabelasDao.Marca.Principal.main(Principal.java:13)\r\n\r\n\r\n\r\nBeore anyones it, I already have the mariadb connector inside my project. U can see inside the lib folder.\r\nObs: The mysql connecto its because of my school`s lab. When I clone the repositry there, I should use mysql [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VQBff.png","title":"Problems when connecting Java with mariadb","body":"<p>I have this school project about a car store database.</p>\n<p>As you see,I have the Marca(It means brand in portuguese) class, the MarcaDAO(BrandDAO), the Conexao(Connection) and the Principal(Main).</p>\n<p>Marca.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    package lojadecarros.Tables;\n\n    import java.util.List;\n\n    public class Marca {\n         private int id;\n         private String nome;\n         private List&lt;Modelo&gt; modelos;\n\n    public Marca(int id, String nome) {\n        this.id = id;\n        this.nome = nome;\n    }\n\n    public Marca(String nome) {\n        this.nome = nome;\n    }\n\n    public void addModelo(Modelo modelo){\n        modelos.add(modelo);\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id){\n        this.id = id;\n    }\n    \n    public String getNome() {\n        return nome;\n    }\n\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Marca [id=&quot; + id + &quot;, nome=&quot; + nome + &quot;, modelos=&quot; + modelos + &quot;]&quot;;\n    }\n    \n    }\n</code></pre>\n<p>MarcaDAO.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    package lojadecarros.TabelasDao.Marca;\n\n    import java.sql.Connection;\n    import java.sql.PreparedStatement;\n    import java.sql.ResultSet;\n    import java.sql.SQLException;\n\n    import lojadecarros.TabelasDao.Conexao;\n    import lojadecarros.Tables.Marca;\n\n    // DAO = Data Access Object\n    public class MarcaDAO {\n    public Marca create(Marca marca) throws SQLException{\n        String sql = &quot;&quot;&quot;\n        INSERT INTO marca (nome)\n        VALUES (?);\n        &quot;&quot;&quot;;\n        try (\n            Connection connection = Conexao.getConnection();\n            PreparedStatement statement = connection\n            .prepareStatement(sql, PreparedStatement.RETURN_GENERATED_KEYS);\n        ) {\n            statement.setString(1, marca.getNome());\n            statement.executeUpdate();\n\n            ResultSet rs = statement.getGeneratedKeys();\n\n            if(rs.next()) {\n                marca.setId(rs.getInt(1));\n            }\n\n            rs.close();\n\n            return marca;\n        }\n    }\n\n    public Marca update(Marca marca) throws SQLException{\n        String sql = &quot;&quot;&quot;\n        UPDATE marca\n        SET nome = ?\n        WHERE id = ?;\n        &quot;&quot;&quot;;\n\n        try (\n            Connection connection = Conexao.getConnection();\n            PreparedStatement statement = connection.prepareStatement(sql);\n        ) {\n\n            statement.setString(1, marca.getNome());\n            statement.setInt(2, marca.getId());\n            int linhasAfetadas = statement.executeUpdate();\n\n            if (linhasAfetadas &gt; 0) {\n                return marca;\n            }\n            return null;\n\n            } catch (SQLException e) {\n                return null;\n            }\n    }\n\n    public void delete(Integer id) {\n        String sql = &quot;DELETE FROM marca WHERE id = ?;&quot;;\n\n        try (\n            Connection connection = Conexao.getConnection();\n            PreparedStatement statement = connection.prepareStatement(sql);\n        ) {\n            statement.setInt(1, id);\n            statement.executeUpdate();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void delete(Marca marca) {\n        delete(marca.getId());\n    }\n\n    public Marca findById(Integer id) {\n        String sql = &quot;SELECT * FROM marca WHERE id = ?;&quot;;\n\n        try (\n            Connection connection = Conexao.getConnection();\n            PreparedStatement statement = connection.prepareStatement(sql);\n        ) {\n            statement.setInt(1, id);\n\n            ResultSet rs = statement.executeQuery();\n\n            if (rs.next()) {\n                return resultSetToMarca(rs);\n            }\n\n            rs.close();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n\n        return null;\n    }\n\n    private Marca resultSetToMarca(ResultSet rs) throws SQLException {\n        return new Marca(\n            rs.getInt(&quot;id&quot;),\n            rs.getString(&quot;nome&quot;)\n        );\n    }\n    }\n</code></pre>\n<p>Conexao.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    package lojadecarros.TabelasDao;\n\n    import java.sql.Connection;\n    import java.sql.DriverManager;\n    import java.sql.SQLException;\n\n    public class Conexao {\n    \n    public static Connection getConnection() {\n        //Class.forName(&quot;org.mariadb.jdbc.Driver&quot;);\n        //String url = &quot;jdbc:mysql://localhost/estudante1?user=estudante1&amp;password=estudante1&amp;useSSL=true&quot;;\n        String url = &quot;jdbc:mariadb://localhost/javaalunos?user=troarmen&amp;password=0000&quot;;\n        try {\n            return DriverManager.getConnection(url);\n        } catch (SQLException e) {\n            System.out.println(e.getMessage());\n            return null;\n        }\n    }\n    }\n</code></pre>\n<p>Principal.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    package lojadecarros.TabelasDao.Marca;\n\n    import java.sql.SQLException;\n\n    import lojadecarros.Tables.Marca;\n\n    public class Principal{\n    public static void main(String[] args) throws SQLException {\n        MarcaDAO marcaDao = new MarcaDAO();\n        \n        Marca marca = new Marca(0, &quot;Ford&quot;);\n\n        Marca marcaCriada = marcaDao.create(marca);\n\n        System.out.println(marcaCriada.getId());\n\n        System.out.println(marcaDao.findById(0));                \n    }\n    }\n</code></pre>\n<p>When I run the Principal(Main), I get this error:</p>\n<blockquote>\n<p>No suitable driver found for jdbc:mariadb://localhost/javaalunos? <br />\nuser=troarmen&amp;password=0000<br />\nException in thread &quot;main&quot;\\ java.lang.NullPointerException: Cannot invoke\n&quot;java.sql.Connection.prepareStatement(String, int)&quot; because &quot;connection&quot; is null<br />\nat lojadecarros.TabelasDao.Marca.MarcaDAO.create(MarcaDAO.java:21)<br />\nat lojadecarros.TabelasDao.Marca.Principal.main(Principal.java:13)</p>\n</blockquote>\n<p>Beore anyones it, I already have the mariadb connector inside my project. U can see inside the lib folder.\nObs: The mysql connecto its because of my school`s lab. When I clone the repositry there, I should use mysql <a href=\"https://i.stack.imgur.com/VQBff.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VQBff.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","gigaspaces"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1697452478,"post_id":77300631,"comment_id":136277409,"body_markdown":"`BatchSize` only limits the results retrieving from the server. When iterating it will still fetch all the results but in batches of 500 (or less).","body":"<code>BatchSize</code> only limits the results retrieving from the server. When iterating it will still fetch all the results but in batches of 500 (or less)."},{"owner":{"account_id":14850780,"reputation":1,"user_id":10724803,"display_name":"krishnaraj M"},"score":0,"creation_date":1697462308,"post_id":77300631,"comment_id":136279197,"body_markdown":"Yes you are correct .  I try to implement pagination concept using the Space Iterator. When i iterate and collect, its giving all the results. I have referred this URL [https://docs.gigaspaces.com/dev-java/query-paging-support.html ]. Is there any other way to implement pagination for space records(around 1 lakh records)?","body":"Yes you are correct .  I try to implement pagination concept using the Space Iterator. When i iterate and collect, its giving all the results. I have referred this URL [<a href=\"https://docs.gigaspaces.com/dev-java/query-paging-support.html\" rel=\"nofollow noreferrer\">docs.gigaspaces.com/dev-java/query-paging-support.html</a> ]. Is there any other way to implement pagination for space records(around 1 lakh records)?"}],"owner":{"account_id":14850780,"reputation":1,"user_id":10724803,"display_name":"krishnaraj M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697494371,"creation_date":1697446598,"question_id":77300631,"body_markdown":"SpaceIterator always returning the whole results even if we specify the batchSize. How to get the results 500 records for each request.\r\n\r\n```\r\nSpaceDocument sampleSpaceDoc = new SpaceDocument(&quot;space_doc&quot;);\r\n\r\nSpaceIterator&lt;SpaceDocument&gt; iterator =\r\ngigaSpace.iterator(sampleSpaceDoc, new SpaceIteratorConfiguration().setBatchSize(500).setIteratorType(SpaceIteratorType.CURSOR).setReadModifiers(ReadModifiers.DIRTY_READ).setMaxInactiveDuration(Duration.ofMinutes(5)));\r\n```\r\n\r\nIn above code, even if we set the `batchSize`, its always returning whole results set not first 500 records.\r\nIt would be great any pointers or suggestions to proceed further.","title":"BatchSize is not working in SpaceIterator in Gigaspace","body":"<p>SpaceIterator always returning the whole results even if we specify the batchSize. How to get the results 500 records for each request.</p>\n<pre><code>SpaceDocument sampleSpaceDoc = new SpaceDocument(&quot;space_doc&quot;);\n\nSpaceIterator&lt;SpaceDocument&gt; iterator =\ngigaSpace.iterator(sampleSpaceDoc, new SpaceIteratorConfiguration().setBatchSize(500).setIteratorType(SpaceIteratorType.CURSOR).setReadModifiers(ReadModifiers.DIRTY_READ).setMaxInactiveDuration(Duration.ofMinutes(5)));\n</code></pre>\n<p>In above code, even if we set the <code>batchSize</code>, its always returning whole results set not first 500 records.\nIt would be great any pointers or suggestions to proceed further.</p>\n"},{"tags":["java","android","xml"],"owner":{"account_id":29686973,"reputation":1,"user_id":22752274,"display_name":"Nguyễn Minh Hiệu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697493893,"creation_date":1697493893,"question_id":77305198,"body_markdown":"I am using this code to retrieve image but it is not showing in ImageView\r\nJava Activity\r\n```\r\npublic void showUserInformation(){\r\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n        if(user == null){\r\n            return;\r\n        }\r\n        String name = user.getDisplayName();\r\n        String email = user.getEmail();\r\n        Uri photoUrl = user.getPhotoUrl();\r\n\r\n        if(name == null){\r\n            txtName.setVisibility(View.GONE); \r\n        }\r\n        else {\r\n            txtName.setVisibility(View.VISIBLE); \r\n            txtName.setText(name+&quot;&quot;);\r\n        }\r\n\r\n        tvEmail.setText(email);\r\n        Glide.with(this).load(photoUrl).error(R.drawable.ic_avatar).into(imgAvatar);\r\n    }\r\n```\r\n.XML\r\n```\r\n&lt;ImageView\r\n        android:id=&quot;@+id/imgAvatar&quot;\r\n        android:layout_width=&quot;100dp&quot;\r\n        android:layout_height=&quot;100dp&quot;\r\n        android:contentDescription=&quot;@string/nav_header_desc&quot;\r\n        android:paddingTop=&quot;@dimen/nav_header_vertical_spacing&quot;\r\n        app:srcCompat=&quot;@mipmap/ic_launcher_round&quot; /&gt;\r\n```\r\nLog\r\nphotoUrl: content://com.google.android.apps.photos.contentprovider/0/1/mediakey%3A%2Flocal%253A697b2a37-456d-407d-924b-a5c68f63d55b/ORIGINAL/NONE/image%2Fjpeg/1400406661\r\n\r\n\r\nI don&#39;t understand why it is like that, obviously the data Url is returned but the image cannot be retrieved","title":"Retrieving user profile image from Firebase but it&#39;s not showing in ImageView, what problem do I face?","body":"<p>I am using this code to retrieve image but it is not showing in ImageView\nJava Activity</p>\n<pre><code>public void showUserInformation(){\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n        if(user == null){\n            return;\n        }\n        String name = user.getDisplayName();\n        String email = user.getEmail();\n        Uri photoUrl = user.getPhotoUrl();\n\n        if(name == null){\n            txtName.setVisibility(View.GONE); \n        }\n        else {\n            txtName.setVisibility(View.VISIBLE); \n            txtName.setText(name+&quot;&quot;);\n        }\n\n        tvEmail.setText(email);\n        Glide.with(this).load(photoUrl).error(R.drawable.ic_avatar).into(imgAvatar);\n    }\n</code></pre>\n<p>.XML</p>\n<pre><code>&lt;ImageView\n        android:id=&quot;@+id/imgAvatar&quot;\n        android:layout_width=&quot;100dp&quot;\n        android:layout_height=&quot;100dp&quot;\n        android:contentDescription=&quot;@string/nav_header_desc&quot;\n        android:paddingTop=&quot;@dimen/nav_header_vertical_spacing&quot;\n        app:srcCompat=&quot;@mipmap/ic_launcher_round&quot; /&gt;\n</code></pre>\n<p>Log\nphotoUrl: content://com.google.android.apps.photos.contentprovider/0/1/mediakey%3A%2Flocal%253A697b2a37-456d-407d-924b-a5c68f63d55b/ORIGINAL/NONE/image%2Fjpeg/1400406661</p>\n<p>I don't understand why it is like that, obviously the data Url is returned but the image cannot be retrieved</p>\n"},{"tags":["java","oop","object-oriented-analysis"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1697490582,"post_id":77304946,"comment_id":136284096,"body_markdown":"`Exception` is generic enough so seems to be ok. For upload ask yourself how many types of uploads you know or want to support and define a wrapper objects for those. Somethng like `UploadTarget` , `HTTPUploadTarget` and so on then use that wrapper on the interface","body":"<code>Exception</code> is generic enough so seems to be ok. For upload ask yourself how many types of uploads you know or want to support and define a wrapper objects for those. Somethng like <code>UploadTarget</code> , <code>HTTPUploadTarget</code> and so on then use that wrapper on the interface"}],"answers":[{"comments":[{"owner":{"account_id":28637424,"reputation":1,"user_id":21927293,"display_name":"ismala"},"score":0,"creation_date":1697614158,"post_id":77305023,"comment_id":136300372,"body_markdown":"How would you construct this wrapper class ? I feel that i just move the problem ...","body":"How would you construct this wrapper class ? I feel that i just move the problem ..."},{"owner":{"account_id":14870107,"reputation":121,"user_id":10737839,"display_name":"Yuriy K"},"score":0,"creation_date":1697638835,"post_id":77305023,"comment_id":136305449,"body_markdown":"Crete new abstract class UploadRequest. Set required data properties inside (String presignedUrl, InputStream inputStream). Create child class inherited from UploadRequest (let&#39;s call it S3UploadRequest). Then change signature of upload method in Uploader interface to &quot;public void upload(UploadRequest request)&quot;. Now you have abstracted arguments in UploadRequest wrapper class. \nActually this is not so important. Just create working project. Do not try to build everything perfectly from the beginning. It&#39;s ok to do it iteratively.","body":"Crete new abstract class UploadRequest. Set required data properties inside (String presignedUrl, InputStream inputStream). Create child class inherited from UploadRequest (let&#39;s call it S3UploadRequest). Then change signature of upload method in Uploader interface to &quot;public void upload(UploadRequest request)&quot;. Now you have abstracted arguments in UploadRequest wrapper class.  Actually this is not so important. Just create working project. Do not try to build everything perfectly from the beginning. It&#39;s ok to do it iteratively."}],"tags":[],"owner":{"account_id":14870107,"reputation":121,"user_id":10737839,"display_name":"Yuriy K"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697491338,"creation_date":1697491338,"answer_id":77305023,"question_id":77304946,"body_markdown":"Your interface is not too specific. It has only single method (aka functional interface) - by definition smallest and most composable abstraction. You will easily create new implementation in future.\r\n\r\nBut `throws Exception` is too generic. There are 3 ways to change it:\r\n 1. Consider replace it with `RuntimeException` instead of just generic checked `Exception`.\r\n 2. Use custom exception like `UploadException` extended from RuntimeException.\r\n 3. Or remove exception from interface contract at all.\r\n\r\nCouple more tips:\r\n 1. Start interface name with capital letter (like `Uploader`, not `uploader`). It is Java convention.\r\n 2. Use wrapper class for `upload` method arguments insead of `String presignedUrl, InputStream inputStream`.\r\n","title":"How to make aninterface not too specific","body":"<p>Your interface is not too specific. It has only single method (aka functional interface) - by definition smallest and most composable abstraction. You will easily create new implementation in future.</p>\n<p>But <code>throws Exception</code> is too generic. There are 3 ways to change it:</p>\n<ol>\n<li>Consider replace it with <code>RuntimeException</code> instead of just generic checked <code>Exception</code>.</li>\n<li>Use custom exception like <code>UploadException</code> extended from RuntimeException.</li>\n<li>Or remove exception from interface contract at all.</li>\n</ol>\n<p>Couple more tips:</p>\n<ol>\n<li>Start interface name with capital letter (like <code>Uploader</code>, not <code>uploader</code>). It is Java convention.</li>\n<li>Use wrapper class for <code>upload</code> method arguments insead of <code>String presignedUrl, InputStream inputStream</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697493718,"creation_date":1697493718,"answer_id":77305181,"question_id":77304946,"body_markdown":"&gt; _&quot;... But now, i dont know how to get my `presigendUrl`&quot;_\r\n\r\nThat would be left to the implementation.\r\n\r\n```java\r\nclass S3Upload implements uploader {\r\n    String presignedUrl;\r\n    \r\n    @Override\r\n    public void upload(InputStream inputStream) throws Exception {\r\n\r\n    }\r\n}\r\n```\r\n\r\n&gt; _&quot;... How can i design my interface to be less specific ? ...&quot;_\r\n\r\n```java\r\ninterface uploader {\r\n\r\n    void upload() throws Exception;\r\n}\r\n```\r\n\r\nHere is the _Java_ tutorial on *interface*s.\\\r\n_[Interfaces (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Interfaces and Inheritance)](https://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html)_.","title":"How to make aninterface not too specific","body":"<blockquote>\n<p><em>&quot;... But now, i dont know how to get my <code>presigendUrl</code>&quot;</em></p>\n</blockquote>\n<p>That would be left to the implementation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class S3Upload implements uploader {\n    String presignedUrl;\n    \n    @Override\n    public void upload(InputStream inputStream) throws Exception {\n\n    }\n}\n</code></pre>\n<blockquote>\n<p><em>&quot;... How can i design my interface to be less specific ? ...&quot;</em></p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>interface uploader {\n\n    void upload() throws Exception;\n}\n</code></pre>\n<p>Here is the <em>Java</em> tutorial on <em>interface</em>s.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html\" rel=\"nofollow noreferrer\">Interfaces (The Java™ Tutorials &gt; Learning the Java Language &gt; Interfaces and Inheritance)</a></em>.</p>\n"}],"owner":{"account_id":28637424,"reputation":1,"user_id":21927293,"display_name":"ismala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697493718,"creation_date":1697490119,"question_id":77304946,"body_markdown":"I am creating a class that is supposed to upload files to many a S3 Bucket with a presignedUrl. \r\nFor now, I just have to upload files to a S3 Bucket.\r\nBut in the future, i will have to upload files in others systems.\r\n\r\n```\r\npublic interface uploader {\r\n\r\n    public void upload(String presignedUrl, InputStream inputStream) throws Exception;\r\n}\r\n``` \r\n\r\nMy concern is the first parameter `String presignedUrl` and this : `throws Exception`\r\nI think it is too specific and i dont think my futur implementations will fit this interface.\r\n\r\n\r\n\r\n\r\nHow can i design my interface to be less specific ? \r\n\r\nI simplified like this : \r\n\r\n```\r\npublic interface uploader {\r\n\r\n    public void upload(InputStream inputStream) throws Exception;\r\n}\r\n``` \r\n\r\nBut now, i dont know how to get my `presigendUrl`","title":"How to make aninterface not too specific","body":"<p>I am creating a class that is supposed to upload files to many a S3 Bucket with a presignedUrl.\nFor now, I just have to upload files to a S3 Bucket.\nBut in the future, i will have to upload files in others systems.</p>\n<pre><code>public interface uploader {\n\n    public void upload(String presignedUrl, InputStream inputStream) throws Exception;\n}\n</code></pre>\n<p>My concern is the first parameter <code>String presignedUrl</code> and this : <code>throws Exception</code>\nI think it is too specific and i dont think my futur implementations will fit this interface.</p>\n<p>How can i design my interface to be less specific ?</p>\n<p>I simplified like this :</p>\n<pre><code>public interface uploader {\n\n    public void upload(InputStream inputStream) throws Exception;\n}\n</code></pre>\n<p>But now, i dont know how to get my <code>presigendUrl</code></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":28943489,"reputation":100,"user_id":22169585,"display_name":"Jordan"},"score":0,"creation_date":1697493647,"post_id":77305154,"comment_id":136284496,"body_markdown":"One potential save is you only have to go through `start &lt;= sqrt(t)` since any number above that will always be bigger than t (`sqrt(t)^2 = t, =&gt; sqrt(t) + n &gt; t where n is any integer that is non 0`)","body":"One potential save is you only have to go through <code>start &lt;= sqrt(t)</code> since any number above that will always be bigger than t (<code>sqrt(t)^2 = t, =&gt; sqrt(t) + n &gt; t where n is any integer that is non 0</code>)"},{"owner":{"account_id":29622270,"reputation":1,"user_id":22719496,"display_name":"uniquetiger"},"score":0,"creation_date":1697495184,"post_id":77305154,"comment_id":136284648,"body_markdown":"This does reduce time but not significantly enough for large numbers like the one I put in the comment next to t.","body":"This does reduce time but not significantly enough for large numbers like the one I put in the comment next to t."},{"owner":{"account_id":28943489,"reputation":100,"user_id":22169585,"display_name":"Jordan"},"score":0,"creation_date":1697498727,"post_id":77305154,"comment_id":136284968,"body_markdown":"I was able to get the program to run with a large number, and rather quickly. Try this number: 5177125","body":"I was able to get the program to run with a large number, and rather quickly. Try this number: 5177125"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1697501693,"post_id":77305154,"comment_id":136285192,"body_markdown":"I&#39;ve seen this problem recently, but failed to find it. There is a similar LeetCode problem:  https://leetcode.com/problems/consecutive-numbers-sum/ This LeetCode returns a single `int`, which is the number of solutions. Another version returns either a `List&lt;List&lt;Integer&gt;&gt;` or an `int[][]`, which returns the solutions that were found.","body":"I&#39;ve seen this problem recently, but failed to find it. There is a similar LeetCode problem:  <a href=\"https://leetcode.com/problems/consecutive-numbers-sum/\" rel=\"nofollow noreferrer\">leetcode.com/problems/consecutive-numbers-sum</a> This LeetCode returns a single <code>int</code>, which is the number of solutions. Another version returns either a <code>List&lt;List&lt;Integer&gt;&gt;</code> or an <code>int[][]</code>, which returns the solutions that were found."}],"owner":{"account_id":29622270,"reputation":1,"user_id":22719496,"display_name":"uniquetiger"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697493291,"creation_date":1697493291,"question_id":77305154,"body_markdown":"I am trying to write a java code for a program that outputs all possible sets of consecutive squares that add to target number. for example if I input 5 I would get [1,2] since 1^2+2^2=5, or if I input 29 I would get [2,3,4]. If I input 25 however, I would get both [5] and [3,4].\r\n\r\nSo far I have\r\n````\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        int t = 25;//147439;\r\n\r\n        findConsecutiveNumbersWithSumOfSquares(t);\r\n\r\n        scanner.close();\r\n    }\r\n\r\n    private static void findConsecutiveNumbersWithSumOfSquares(int t) {\r\n        for (int start = 1; start &lt; t; start++) {\r\n            int currentSum = start * start;\r\n            int end = start + 1;\r\n\r\n            while (currentSum &lt; t) {\r\n                currentSum += end * end;\r\n                end++;\r\n            }\r\n\r\n            if (currentSum == t) {\r\n                printConsecutiveNumbers(start, end - 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    private static void printConsecutiveNumbers(int start, int end) {\r\n        for (int i = start; i &lt;= end; i++) {\r\n            System.out.print(i + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n}\r\n\r\n````\r\n\r\nBasically what this does is it goes through all possible numbers less than target number t and sees if consecutive sums add up to the target number and then adds one more number to the sequence once that consecutive sum exceeds t. This code however is inefficient for large numbers and I don&#39;t know if there is a less complex way to do this. For example if I wanted to find a number with 4 instances of consecutive squares summing to a target number it would take too long.\r\n","title":"Target number is the sum of Consecutive Squares","body":"<p>I am trying to write a java code for a program that outputs all possible sets of consecutive squares that add to target number. for example if I input 5 I would get [1,2] since 1^2+2^2=5, or if I input 29 I would get [2,3,4]. If I input 25 however, I would get both [5] and [3,4].</p>\n<p>So far I have</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int t = 25;//147439;\n\n        findConsecutiveNumbersWithSumOfSquares(t);\n\n        scanner.close();\n    }\n\n    private static void findConsecutiveNumbersWithSumOfSquares(int t) {\n        for (int start = 1; start &lt; t; start++) {\n            int currentSum = start * start;\n            int end = start + 1;\n\n            while (currentSum &lt; t) {\n                currentSum += end * end;\n                end++;\n            }\n\n            if (currentSum == t) {\n                printConsecutiveNumbers(start, end - 1);\n            }\n        }\n    }\n\n    private static void printConsecutiveNumbers(int start, int end) {\n        for (int i = start; i &lt;= end; i++) {\n            System.out.print(i + &quot; &quot;);\n        }\n        System.out.println();\n    }\n}\n\n</code></pre>\n<p>Basically what this does is it goes through all possible numbers less than target number t and sees if consecutive sums add up to the target number and then adds one more number to the sequence once that consecutive sum exceeds t. This code however is inefficient for large numbers and I don't know if there is a less complex way to do this. For example if I wanted to find a number with 4 instances of consecutive squares summing to a target number it would take too long.</p>\n"},{"tags":["java","bcrypt","password-hash"],"comments":[{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1697489776,"post_id":77304853,"comment_id":136283957,"body_markdown":"Please debug the problem and narrow down where the error occurs. You have told us what the front-end, middle-tier and back-end are but surely the problem is only with ONE of those. If the problem is that the front-end is passing the wrong data then show us the front-end code but if the front-end is fine then do not mention what the front-end is because it is irrelevant. Similarly for the middle-tier and the back-end (and don&#39;t spam irrelevant tags).","body":"Please debug the problem and narrow down where the error occurs. You have told us what the front-end, middle-tier and back-end are but surely the problem is only with ONE of those. If the problem is that the front-end is passing the wrong data then show us the front-end code but if the front-end is fine then do not mention what the front-end is because it is irrelevant. Similarly for the middle-tier and the back-end (and don&#39;t spam irrelevant tags)."},{"owner":{"account_id":28372542,"reputation":9,"user_id":21700932,"display_name":"radriaansNES"},"score":0,"creation_date":1697489908,"post_id":77304853,"comment_id":136283980,"body_markdown":"The issue is entirely with the actual password validation as defined above. Frontend information is correctly passed to backend via the credentials map shown in the controller. Provided the frontend language just for reference","body":"The issue is entirely with the actual password validation as defined above. Frontend information is correctly passed to backend via the credentials map shown in the controller. Provided the frontend language just for reference"},{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1697489978,"post_id":77304853,"comment_id":136283998,"body_markdown":"Then don&#39;t tag the irrelevant languages that you have mentioned just as a &quot;reference&quot;.","body":"Then don&#39;t tag the irrelevant languages that you have mentioned just as a &quot;reference&quot;."},{"owner":{"account_id":28372542,"reputation":9,"user_id":21700932,"display_name":"radriaansNES"},"score":0,"creation_date":1697490058,"post_id":77304853,"comment_id":136284016,"body_markdown":"Sorry third post I&#39;ve made on the site but I&#39;ll keep that in mind thanks","body":"Sorry third post I&#39;ve made on the site but I&#39;ll keep that in mind thanks"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1697490387,"post_id":77304853,"comment_id":136284070,"body_markdown":"@radriaansNES The hash does not fit for that password and salt. It should be `$2a$10$0ATPkyNqcXT8u3RTfoX7BuqKoPedM.7vdIrQX3.NlZuPZBkQJz.26`","body":"@radriaansNES The hash does not fit for that password and salt. It should be <code>$2a$10$0ATPkyNqcXT8u3RTfoX7BuqKoPedM.7vdIrQX3.NlZuPZBkQJz.26</code>"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1697490651,"post_id":77304853,"comment_id":136284104,"body_markdown":"@radriaansNES Please [edit] your question to add the remaining code you have (as a [mcve]). Also show what data you are sending to the `createUser()` service.","body":"@radriaansNES Please <a href=\"https://stackoverflow.com/posts/77304853/edit\">edit</a> your question to add the remaining code you have (as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>). Also show what data you are sending to the <code>createUser()</code> service."}],"answers":[{"tags":[],"owner":{"account_id":28372542,"reputation":9,"user_id":21700932,"display_name":"radriaansNES"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697492354,"creation_date":1697492354,"answer_id":77305099,"question_id":77304853,"body_markdown":"For whoever runs into this issue in the future, utilizing DTO&#39;s to facilitate the process solved the issue. Not quite sure the exact reason considering on face value everything was being carried correctly between front/back/DB but please see below for fix.\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/users&quot;)\r\n    public class UserController {\r\n        private final UserService userService;\r\n\r\n    @Autowired\r\n    public UserController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @PostMapping(&quot;/create&quot;)\r\n    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; createUser(@RequestBody RegistrationDTO registration) {\r\n        User user = new User();\r\n        user.setUsername(registration.getUsername());\r\n        user.setFirstName(registration.getFirstName());\r\n        user.setLastName(registration.getLastName());\r\n        user.setTelephone(registration.getTelephone());\r\n        user.setAddress(registration.getAddress());\r\n        user.setCity(registration.getCity());\r\n        user.setPostalCode(registration.getPostalCode());\r\n        user.setCountry(registration.getCountry());\r\n\r\n        user.hashAndSetPassword(registration.getPassword());\r\n\r\n        User savedUser = userService.saveUser(user);\r\n\r\n        Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\r\n        response.put(&quot;message&quot;, &quot;User created with ID: &quot; + savedUser.getId());\r\n        response.put(&quot;id&quot;, savedUser.getId());\r\n\r\n        return ResponseEntity.ok(response);\r\n    }\r\n\r\n    private String generateSecureToken() {\r\n        SecureRandom random = new SecureRandom();\r\n        byte[] bytes = new byte[64];\r\n\r\n        random.nextBytes(bytes);\r\n        return Base64.getUrlEncoder().withoutPadding().encodeToString(bytes);\r\n    }\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; login(@RequestBody LoginDTO loginDTO, HttpServletResponse response) {\r\n        String username = loginDTO.getUsername();\r\n        String password = loginDTO.getPassword();\r\n        User user = userService.findByUsername(username);\r\n\r\n        if (user != null) {\r\n\r\n            if (user.checkPassword(password)) { \r\n                String sessionToken = generateSecureToken();\r\n\r\n                user.setSessionToken(sessionToken);\r\n\r\n                userService.saveUser(user);\r\n\r\n                Map&lt;String, Object&gt; responseMap = new HashMap&lt;&gt;();\r\n                responseMap.put(&quot;message&quot;, &quot;Login successful&quot;);\r\n                responseMap.put(&quot;username&quot;, username);\r\n\r\n                Cookie cookie = new Cookie(&quot;authToken&quot;, sessionToken);\r\n                cookie.setMaxAge(3600);\r\n                cookie.setPath(&quot;/&quot;); // Site wide\r\n                response.addCookie(cookie);\r\n\r\n                return ResponseEntity.ok(responseMap);\r\n            } else {\r\n                Map&lt;String, Object&gt; responseMap = new HashMap&lt;&gt;();\r\n                responseMap.put(&quot;message&quot;, &quot;Login failed&quot;);\r\n                return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(responseMap);\r\n            }\r\n        } else {\r\n            Map&lt;String, Object&gt; responseMap = new HashMap&lt;&gt;();\r\n            responseMap.put(&quot;message&quot;, &quot;User not found&quot;);\r\n            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(responseMap);\r\n        }\r\n    }\r\n}\r\n\r\n Then two simple DTO&#39;s such as; \r\n\r\n\r\n    public class RegistrationDTO {\r\n\r\n    private String username;\r\n    private String password;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String telephone;\r\n    private String address;\r\n    private String city;\r\n    private String postalCode;\r\n    private String country;\r\n\r\n    // Getters\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public String getTelephone() {\r\n        return telephone;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public String getCity() {\r\n        return city;\r\n    }\r\n\r\n    public String getPostalCode() {\r\n        return postalCode;\r\n    }\r\n\r\n    public String getCountry() {\r\n        return country;\r\n    }\r\n\r\n    // Setters\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public void setTelephone(String telephone) {\r\n        this.telephone = telephone;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public void setCity(String city) {\r\n        this.city = city;\r\n    }\r\n\r\n    public void setPostalCode(String postalCode) {\r\n        this.postalCode = postalCode;\r\n    }\r\n\r\n    public void setCountry(String country) {\r\n        this.country = country;\r\n    }\r\n    \r\n}\r\n\r\nand a login DTO;\r\n\r\n\r\n    public class LoginDTO {\r\n\r\n    private String username;\r\n    private String password;\r\n\r\n    // Getters\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    // Setters\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n}","title":"Password Validation Unable to Verify","body":"<p>For whoever runs into this issue in the future, utilizing DTO's to facilitate the process solved the issue. Not quite sure the exact reason considering on face value everything was being carried correctly between front/back/DB but please see below for fix.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class UserController {\n    private final UserService userService;\n\n@Autowired\npublic UserController(UserService userService) {\n    this.userService = userService;\n}\n\n@PostMapping(&quot;/create&quot;)\npublic ResponseEntity&lt;Map&lt;String, Object&gt;&gt; createUser(@RequestBody RegistrationDTO registration) {\n    User user = new User();\n    user.setUsername(registration.getUsername());\n    user.setFirstName(registration.getFirstName());\n    user.setLastName(registration.getLastName());\n    user.setTelephone(registration.getTelephone());\n    user.setAddress(registration.getAddress());\n    user.setCity(registration.getCity());\n    user.setPostalCode(registration.getPostalCode());\n    user.setCountry(registration.getCountry());\n\n    user.hashAndSetPassword(registration.getPassword());\n\n    User savedUser = userService.saveUser(user);\n\n    Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\n    response.put(&quot;message&quot;, &quot;User created with ID: &quot; + savedUser.getId());\n    response.put(&quot;id&quot;, savedUser.getId());\n\n    return ResponseEntity.ok(response);\n}\n\nprivate String generateSecureToken() {\n    SecureRandom random = new SecureRandom();\n    byte[] bytes = new byte[64];\n\n    random.nextBytes(bytes);\n    return Base64.getUrlEncoder().withoutPadding().encodeToString(bytes);\n}\n\n@PostMapping(&quot;/login&quot;)\npublic ResponseEntity&lt;Map&lt;String, Object&gt;&gt; login(@RequestBody LoginDTO loginDTO, HttpServletResponse response) {\n    String username = loginDTO.getUsername();\n    String password = loginDTO.getPassword();\n    User user = userService.findByUsername(username);\n\n    if (user != null) {\n\n        if (user.checkPassword(password)) { \n            String sessionToken = generateSecureToken();\n\n            user.setSessionToken(sessionToken);\n\n            userService.saveUser(user);\n\n            Map&lt;String, Object&gt; responseMap = new HashMap&lt;&gt;();\n            responseMap.put(&quot;message&quot;, &quot;Login successful&quot;);\n            responseMap.put(&quot;username&quot;, username);\n\n            Cookie cookie = new Cookie(&quot;authToken&quot;, sessionToken);\n            cookie.setMaxAge(3600);\n            cookie.setPath(&quot;/&quot;); // Site wide\n            response.addCookie(cookie);\n\n            return ResponseEntity.ok(responseMap);\n        } else {\n            Map&lt;String, Object&gt; responseMap = new HashMap&lt;&gt;();\n            responseMap.put(&quot;message&quot;, &quot;Login failed&quot;);\n            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(responseMap);\n        }\n    } else {\n        Map&lt;String, Object&gt; responseMap = new HashMap&lt;&gt;();\n        responseMap.put(&quot;message&quot;, &quot;User not found&quot;);\n        return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(responseMap);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Then two simple DTO's such as;</p>\n<pre><code>public class RegistrationDTO {\n\nprivate String username;\nprivate String password;\nprivate String firstName;\nprivate String lastName;\nprivate String telephone;\nprivate String address;\nprivate String city;\nprivate String postalCode;\nprivate String country;\n\n// Getters\npublic String getUsername() {\n    return username;\n}\n\npublic String getPassword() {\n    return password;\n}\n\npublic String getFirstName() {\n    return firstName;\n}\n\npublic String getLastName() {\n    return lastName;\n}\n\npublic String getTelephone() {\n    return telephone;\n}\n\npublic String getAddress() {\n    return address;\n}\n\npublic String getCity() {\n    return city;\n}\n\npublic String getPostalCode() {\n    return postalCode;\n}\n\npublic String getCountry() {\n    return country;\n}\n\n// Setters\npublic void setUsername(String username) {\n    this.username = username;\n}\n\npublic void setPassword(String password) {\n    this.password = password;\n}\n\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\n\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}\n\npublic void setTelephone(String telephone) {\n    this.telephone = telephone;\n}\n\npublic void setAddress(String address) {\n    this.address = address;\n}\n\npublic void setCity(String city) {\n    this.city = city;\n}\n\npublic void setPostalCode(String postalCode) {\n    this.postalCode = postalCode;\n}\n\npublic void setCountry(String country) {\n    this.country = country;\n}\n</code></pre>\n<p>}</p>\n<p>and a login DTO;</p>\n<pre><code>public class LoginDTO {\n\nprivate String username;\nprivate String password;\n\n// Getters\npublic String getUsername() {\n    return username;\n}\n\npublic String getPassword() {\n    return password;\n}\n\n// Setters\npublic void setUsername(String username) {\n    this.username = username;\n}\n\npublic void setPassword(String password) {\n    this.password = password;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":28372542,"reputation":9,"user_id":21700932,"display_name":"radriaansNES"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697492354,"creation_date":1697488997,"question_id":77304853,"body_markdown":"I&#39;m trying to create a simple login against my database to verify a user. For whatever reason Bcrypt.checkpw shows false when a true statement is expected. I am at a loss for words why this is the case. I have tried multiple things over the last 3 days. For example, with these logs I expect a true match but instead receive false. Everything was working up until I introduced the salt/hash.\r\n\r\nChecking password: 9999999 &lt;br&gt;\r\nAgainst hash: $2a$10$0ATPkyNqcXT8u3RTfoX7BuOzxuTvuNnVH5dgqjVc4agIKHglv7SAC &lt;br&gt;\r\nMatch result: false&lt;br&gt;\r\nProvided username: UNIUSER&lt;br&gt;\r\nProvided plaintext password: 9999999&lt;br&gt;\r\nPassword check failed. Stored Password Hash: &lt;br&gt;$2a$10$0ATPkyNqcXT8u3RTfoX7BuOzxuTvuNnVH5dgqjVc4agIKHglv7SAC&lt;br&gt;\r\n\r\nIn my user model I have the following relevant sections;\r\n\r\n    \r\n    public void hashAndSetPassword(String plaintextPassword) {\r\n        int saltRounds = 10;\r\n        this.passwordHash = BCrypt.hashpw(plaintextPassword, BCrypt.gensalt(saltRounds));\r\n    }\r\n\r\n    public boolean checkPassword(String password) {\r\n        boolean isMatch = BCrypt.checkpw(password, passwordHash);\r\n        System.out.println(&quot;Checking password: &quot; + password);\r\n        System.out.println(&quot;Against hash: &quot; + passwordHash);\r\n        System.out.println(&quot;Match result: &quot; + isMatch);\r\n        return isMatch;\r\n    }\r\n\r\nIn my UserController, I have the following.\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/users&quot;)\r\n    public class UserController {\r\n        private final UserService userService;\r\n\r\n    @Autowired\r\n    public UserController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @PostMapping(&quot;/create&quot;)\r\n    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; createUser(@RequestBody User user) {\r\n        // Take the plaintext password from the user input\r\n        String plaintextPassword = user.getPasswordHash(); // Use getPasswordHash, not getPassword\r\n\r\n        // Hash the password and set it in the User object\r\n        user.hashAndSetPassword(plaintextPassword);\r\n\r\n        User savedUser = userService.saveUser(user);\r\n\r\n        Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\r\n        response.put(&quot;message&quot;, &quot;User created with ID: &quot; + savedUser.getId());\r\n        response.put(&quot;id&quot;, savedUser.getId());\r\n\r\n        return ResponseEntity.ok(response);\r\n    }\r\n\r\n    private String generateSecureToken() {\r\n        SecureRandom random = new SecureRandom();\r\n        byte[] bytes = new byte[64];\r\n\r\n        random.nextBytes(bytes);\r\n        return Base64.getUrlEncoder().withoutPadding().encodeToString(bytes);\r\n    }\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; login(@RequestBody Map&lt;String, String&gt; credentials,\r\n            HttpServletResponse response) {\r\n        String username = credentials.get(&quot;username&quot;);\r\n        String password = credentials.get(&quot;password&quot;);\r\n\r\n        User user = userService.findByUsername(username);\r\n\r\n        if (user != null) {\r\n            String storedPasswordHash = user.getPasswordHash(); // Get the stored password hash from the database\r\n            \r\n            if (user.checkPassword(password)) { // Compare with hashed password\r\n                String sessionToken = generateSecureToken();\r\n\r\n                user.setSessionToken(sessionToken);\r\n\r\n                userService.saveUser(user);\r\n\r\n                Map&lt;String, Object&gt; responseMap = new HashMap&lt;&gt;();\r\n                responseMap.put(&quot;message&quot;, &quot;Login successful&quot;);\r\n                responseMap.put(&quot;username&quot;, username);\r\n\r\n                Cookie cookie = new Cookie(&quot;authToken&quot;, sessionToken);\r\n                cookie.setMaxAge(3600);\r\n                cookie.setPath(&quot;/&quot;); // Site wide\r\n                response.addCookie(cookie);\r\n\r\n                return ResponseEntity.ok(responseMap);\r\n            } else {\r\n                Map&lt;String, Object&gt; responseMap = new HashMap&lt;&gt;();\r\n                responseMap.put(&quot;message&quot;, &quot;Login failed&quot;);\r\n                System.out.println(&quot;Provided username: &quot; + username);\r\n                System.out.println(&quot;Provided plaintext password: &quot; + password);\r\n                System.out.println(&quot;Password check failed. Stored Password Hash: &quot; + storedPasswordHash);\r\n                return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(responseMap);\r\n            }\r\n        } else {\r\n            Map&lt;String, Object&gt; responseMap = new HashMap&lt;&gt;();\r\n            responseMap.put(&quot;message&quot;, &quot;User not found&quot;);\r\n            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(responseMap);\r\n        }\r\n    }\r\n\r\nI am using Java in the backend, AngularJS in the front. JBcrypt version 0.4 with maven and apache. Oracle Database for my database. Any insight on this matter would be very much appreciated. passwordHash is being stored as a VARCHAR2 (60) in the DB as I had it 255 before but heard 60 might help. Nothing though. Thanks.","title":"Password Validation Unable to Verify","body":"<p>I'm trying to create a simple login against my database to verify a user. For whatever reason Bcrypt.checkpw shows false when a true statement is expected. I am at a loss for words why this is the case. I have tried multiple things over the last 3 days. For example, with these logs I expect a true match but instead receive false. Everything was working up until I introduced the salt/hash.</p>\n<p>Checking password: 9999999 <br>\nAgainst hash: $2a$10$0ATPkyNqcXT8u3RTfoX7BuOzxuTvuNnVH5dgqjVc4agIKHglv7SAC <br>\nMatch result: false<br>\nProvided username: UNIUSER<br>\nProvided plaintext password: 9999999<br>\nPassword check failed. Stored Password Hash: <br>$2a$10$0ATPkyNqcXT8u3RTfoX7BuOzxuTvuNnVH5dgqjVc4agIKHglv7SAC<br></p>\n<p>In my user model I have the following relevant sections;</p>\n<pre><code>public void hashAndSetPassword(String plaintextPassword) {\n    int saltRounds = 10;\n    this.passwordHash = BCrypt.hashpw(plaintextPassword, BCrypt.gensalt(saltRounds));\n}\n\npublic boolean checkPassword(String password) {\n    boolean isMatch = BCrypt.checkpw(password, passwordHash);\n    System.out.println(&quot;Checking password: &quot; + password);\n    System.out.println(&quot;Against hash: &quot; + passwordHash);\n    System.out.println(&quot;Match result: &quot; + isMatch);\n    return isMatch;\n}\n</code></pre>\n<p>In my UserController, I have the following.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class UserController {\n    private final UserService userService;\n\n@Autowired\npublic UserController(UserService userService) {\n    this.userService = userService;\n}\n\n@PostMapping(&quot;/create&quot;)\npublic ResponseEntity&lt;Map&lt;String, Object&gt;&gt; createUser(@RequestBody User user) {\n    // Take the plaintext password from the user input\n    String plaintextPassword = user.getPasswordHash(); // Use getPasswordHash, not getPassword\n\n    // Hash the password and set it in the User object\n    user.hashAndSetPassword(plaintextPassword);\n\n    User savedUser = userService.saveUser(user);\n\n    Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\n    response.put(&quot;message&quot;, &quot;User created with ID: &quot; + savedUser.getId());\n    response.put(&quot;id&quot;, savedUser.getId());\n\n    return ResponseEntity.ok(response);\n}\n\nprivate String generateSecureToken() {\n    SecureRandom random = new SecureRandom();\n    byte[] bytes = new byte[64];\n\n    random.nextBytes(bytes);\n    return Base64.getUrlEncoder().withoutPadding().encodeToString(bytes);\n}\n\n@PostMapping(&quot;/login&quot;)\npublic ResponseEntity&lt;Map&lt;String, Object&gt;&gt; login(@RequestBody Map&lt;String, String&gt; credentials,\n        HttpServletResponse response) {\n    String username = credentials.get(&quot;username&quot;);\n    String password = credentials.get(&quot;password&quot;);\n\n    User user = userService.findByUsername(username);\n\n    if (user != null) {\n        String storedPasswordHash = user.getPasswordHash(); // Get the stored password hash from the database\n        \n        if (user.checkPassword(password)) { // Compare with hashed password\n            String sessionToken = generateSecureToken();\n\n            user.setSessionToken(sessionToken);\n\n            userService.saveUser(user);\n\n            Map&lt;String, Object&gt; responseMap = new HashMap&lt;&gt;();\n            responseMap.put(&quot;message&quot;, &quot;Login successful&quot;);\n            responseMap.put(&quot;username&quot;, username);\n\n            Cookie cookie = new Cookie(&quot;authToken&quot;, sessionToken);\n            cookie.setMaxAge(3600);\n            cookie.setPath(&quot;/&quot;); // Site wide\n            response.addCookie(cookie);\n\n            return ResponseEntity.ok(responseMap);\n        } else {\n            Map&lt;String, Object&gt; responseMap = new HashMap&lt;&gt;();\n            responseMap.put(&quot;message&quot;, &quot;Login failed&quot;);\n            System.out.println(&quot;Provided username: &quot; + username);\n            System.out.println(&quot;Provided plaintext password: &quot; + password);\n            System.out.println(&quot;Password check failed. Stored Password Hash: &quot; + storedPasswordHash);\n            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(responseMap);\n        }\n    } else {\n        Map&lt;String, Object&gt; responseMap = new HashMap&lt;&gt;();\n        responseMap.put(&quot;message&quot;, &quot;User not found&quot;);\n        return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(responseMap);\n    }\n}\n</code></pre>\n<p>I am using Java in the backend, AngularJS in the front. JBcrypt version 0.4 with maven and apache. Oracle Database for my database. Any insight on this matter would be very much appreciated. passwordHash is being stored as a VARCHAR2 (60) in the DB as I had it 255 before but heard 60 might help. Nothing though. Thanks.</p>\n"},{"tags":["java","windows","shebang"],"answers":[{"tags":[],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697490439,"creation_date":1658303578,"answer_id":73047857,"question_id":73047856,"body_markdown":"While Windows doesn&#39;t support the shebang line, the Java runtime will still run a java source file that conforms to the limitations for shebang-line java classes. (This basically means it must be contained in a single source file and not call any outside libraries. Standard Java libraries still work.)\r\n\r\nHere&#39;s how I did it for a class I wrote called `UuidGen.java`:\r\n\r\nFirst, I commented out the Shebang line, since it doesn&#39;t get used.\r\n\r\nSecond, I created a batch file called uuid.bat:\r\n\r\n    @echo off\r\n    java %~db0\\UuidGen.java %*\r\n\r\nThird, I put this file in the same directory as the UuidGen.java file.\r\n\r\nFourth, I put this directory on the system path. \r\n\r\nNow, to run it, all I need to do is type uuid.\r\n\r\nThe `%~db0` in the path gets replaced by the path to the .bat file being executed. The `%*` at the end passes all the parameters of the .bat command to the java command.\r\n\r\n(If anyone can come up with a cleaner way to do this, I&#39;d love to see it.)","title":"How do I run a java class with a shebang line on Windows?","body":"<p>While Windows doesn't support the shebang line, the Java runtime will still run a java source file that conforms to the limitations for shebang-line java classes. (This basically means it must be contained in a single source file and not call any outside libraries. Standard Java libraries still work.)</p>\n<p>Here's how I did it for a class I wrote called <code>UuidGen.java</code>:</p>\n<p>First, I commented out the Shebang line, since it doesn't get used.</p>\n<p>Second, I created a batch file called uuid.bat:</p>\n<pre><code>@echo off\njava %~db0\\UuidGen.java %*\n</code></pre>\n<p>Third, I put this file in the same directory as the UuidGen.java file.</p>\n<p>Fourth, I put this directory on the system path.</p>\n<p>Now, to run it, all I need to do is type uuid.</p>\n<p>The <code>%~db0</code> in the path gets replaced by the path to the .bat file being executed. The <code>%*</code> at the end passes all the parameters of the .bat command to the java command.</p>\n<p>(If anyone can come up with a cleaner way to do this, I'd love to see it.)</p>\n"}],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73047857,"answer_count":1,"score":-1,"last_activity_date":1697490439,"creation_date":1658303578,"question_id":73047856,"body_markdown":"I have some java utilities written to be used with the shebang line supported by Java 11. They work fine on my Mac, but I now need to use them on Windows, and Windows doesn&#39;t support the shebang line, Is there a way to do this?","title":"How do I run a java class with a shebang line on Windows?","body":"<p>I have some java utilities written to be used with the shebang line supported by Java 11. They work fine on my Mac, but I now need to use them on Windows, and Windows doesn't support the shebang line, Is there a way to do this?</p>\n"},{"tags":["java","file-io","tree"],"answers":[{"comments":[{"owner":{"account_id":1159698,"reputation":927,"user_id":1139482,"accept_rate":89,"display_name":"zakparks31191"},"score":0,"creation_date":1365357248,"post_id":15865639,"comment_id":22583127,"body_markdown":"This makes sense. So in your approach you would add in delimiters to the end of each branch and use that to jump to the root. Will this work as written for nodes with many children and grandchildren? For what I can tell, it will only do branches with no sub-branches.","body":"This makes sense. So in your approach you would add in delimiters to the end of each branch and use that to jump to the root. Will this work as written for nodes with many children and grandchildren? For what I can tell, it will only do branches with no sub-branches."}],"tags":[],"owner":{"account_id":2103622,"reputation":26956,"user_id":1870555,"accept_rate":75,"display_name":"christopher"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673644754,"creation_date":1365356700,"answer_id":15865639,"question_id":15865522,"body_markdown":"I&#39;m not sure if this will behave as you expect it to:\r\n\r\n          if (curLine == &quot;model line&quot;)\r\n          {\r\n              curModelLine = new Node(fileData.get(nextDataLine+1), this.root);\r\n              this.root.children.add(curModelLine);    \r\n          }\r\n\r\nWith this `if` statement, you&#39;re checking the reference values; not the string values. To compare strings, you should be using the `equals()` operator. It should look more like this:\r\n\r\n        if (curLine.equals(&quot;model line&quot;))\r\n        {\r\n            curModelLine = new Node(fileData.get(nextDataLine+1), this.root);\r\n            this.root.children.add(curModelLine);    \r\n        }\r\n\r\n&lt;b&gt;Your approach&lt;/b&gt;\r\n\r\nFor me, I would have a nested loop. The structure would be something like this:\r\n\r\n    while(not at the end of the file) {\r\n        aLine := the next line.\r\n        while(!aLine.equals(the end of a branch delimiter) {\r\n            print out the next item.\r\n            print out a &quot;-&gt;&quot;\r\n        }\r\n        print out a new line character.\r\n    }\r\n\r\nNotice this is in pseudocode. ","title":"Building a tree in java using input from a text file","body":"<p>I'm not sure if this will behave as you expect it to:</p>\n<pre><code>      if (curLine == &quot;model line&quot;)\n      {\n          curModelLine = new Node(fileData.get(nextDataLine+1), this.root);\n          this.root.children.add(curModelLine);    \n      }\n</code></pre>\n<p>With this <code>if</code> statement, you're checking the reference values; not the string values. To compare strings, you should be using the <code>equals()</code> operator. It should look more like this:</p>\n<pre><code>    if (curLine.equals(&quot;model line&quot;))\n    {\n        curModelLine = new Node(fileData.get(nextDataLine+1), this.root);\n        this.root.children.add(curModelLine);    \n    }\n</code></pre>\n<p><b>Your approach</b></p>\n<p>For me, I would have a nested loop. The structure would be something like this:</p>\n<pre><code>while(not at the end of the file) {\n    aLine := the next line.\n    while(!aLine.equals(the end of a branch delimiter) {\n        print out the next item.\n        print out a &quot;-&gt;&quot;\n    }\n    print out a new line character.\n}\n</code></pre>\n<p>Notice this is in pseudocode.</p>\n"}],"owner":{"account_id":1159698,"reputation":927,"user_id":1139482,"accept_rate":89,"display_name":"zakparks31191"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8390,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697490235,"creation_date":1365356129,"question_id":15865522,"body_markdown":"I&#39;m trying to build a tree of an arbitrary size using data from a file. In the file, each node is its own line, and the branches are delimited by certain keywords. Currently, I am reading the file into a List, reading it item by item, and looking for the keywords to build the branches down. I am having a hard time figuring out how to keep going after I start the first branch. Following is my tree class and test input file. I realize the test input may be considered too big for a test, but the actual one will have many, many models. The end goal is to have the tree represent the harley davidson bike lineup with all the available options for each bike once its fully built. For example, one section of a branch would look like:\r\n\r\n`Harley(root) -&gt; Model Line -&gt; Model 1 -&gt; color -&gt; c1`\r\n                                      \r\nAnd so forth for all the other keywords per branch. My question would be if I am going in the right direction in `populate()`. The only way I can think of doing it would be to have a large `if...else if...` structure to check for each keyword in succession, with a loop in each `if...else` to populate the children of that keyword&#39;s node. Even if I did that, I don&#39;t know how to jump up to do the next branch, and i know it is a terribly inefficient way of making the tree. Any advice? Thank you.\r\n\r\n\r\nTree.java\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Tree\r\n    {\r\n        private Node root;\r\n    \r\n        public Tree(String rootData) \r\n        {\r\n            root = new Node();\r\n            root.data = rootData;\r\n            root.children = new ArrayList&lt;Node&gt;();\r\n        }\r\n    \r\n        public static class Node\r\n        {\r\n    \t\tprivate String data;\r\n            private Node parent;\r\n            private List&lt;Node&gt; children;\r\n            \r\n            public Node(){}\r\n            \r\n            public Node(String newNodeData, Node newNodeParent)\r\n            {\r\n            \tdata = newNodeData;\r\n            \tparent = newNodeParent;\r\n            }\r\n        }\r\n        \r\n        public void populate() throws IOException\r\n        {\r\n        \t//keep track of nodes for jumping up branches quickly\r\n        \tNode curNode = this.root;\r\n        \tNode curModelLine;\r\n        \tNode curModel;\r\n        \t\r\n        \t//get the data\r\n        \tList&lt;String&gt; fileData = getData();\r\n        \tint nextDataLine = 0;\r\n            while (!fileData.isEmpty())\r\n            {\r\n                String curLine = fileData.get(nextDataLine);\r\n                if (curLine == &quot;model line&quot;)\r\n                {\r\n                \tcurModelLine = new Node(fileData.get(nextDataLine+1), this.root);\r\n                \tthis.root.children.add(curModelLine);    \r\n                }\r\n                \r\n                /*Not sure where to go from here*/\r\n\r\n                nextDataLine++;\r\n            }\r\n        }\r\n        \r\n        public static List&lt;String&gt; getData() throws IOException\r\n        {\r\n        \tList&lt;String&gt; filedata = new ArrayList&lt;String&gt;();\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tFileInputStream in = new FileInputStream(&quot;data.txt&quot;);\r\n    \t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(in));\r\n    \t\t\tString line;\r\n    \t\t\twhile((line = br.readLine())!= null)\r\n    \t\t\t{\r\n    \t\t\t\tfiledata.add(line);\r\n    \t\t\t}\r\n    \t\t\tbr.close();\r\n    \t\t}catch(Exception e)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(e);\r\n    \t\t}\r\n    \t\treturn filedata;\r\n        }\r\n    }\r\n\r\n\r\ndata.txt:\r\n\r\n\r\n    harley\r\n    model line\r\n    linename1\r\n    modelname1\r\n    color\r\n    c1\r\n    c2\r\n    engine size\r\n    es1\r\n    es2\r\n    windsheild\r\n    w1\r\n    w2\r\n    lights\r\n    l1\r\n    l2\r\n    tire size\r\n    t1\r\n    t2\r\n    radio\r\n    r1\r\n    r2\r\n    abs\r\n    a1\r\n    a2\r\n    alarm\r\n    a1\r\n    a2\r\n    seat\r\n    s1\r\n    s2\r\n    bags\r\n    b1\r\n    b2\r\n    modelname2\r\n    color\r\n    c1\r\n    c2\r\n    engine size\r\n    es1\r\n    es2\r\n    windsheild\r\n    w1\r\n    w2\r\n    lights\r\n    l1\r\n    l2\r\n    tire size\r\n    t1\r\n    t2\r\n    radio\r\n    r1\r\n    r2\r\n    abs\r\n    a1\r\n    a2\r\n    alarm\r\n    a1\r\n    a2\r\n    seat\r\n    s1\r\n    s2\r\n    bags\r\n    b1\r\n    b2\r\n    linename2\r\n    modelname1\r\n    color\r\n    c1\r\n    c2\r\n    engine size\r\n    es1\r\n    es2\r\n    windsheild\r\n    w1\r\n    w2\r\n    lights\r\n    l1\r\n    l2\r\n    tire size\r\n    t1\r\n    t2\r\n    radio\r\n    r1\r\n    r2\r\n    abs\r\n    a1\r\n    a2\r\n    alarm\r\n    a1\r\n    a2\r\n    seat\r\n    s1\r\n    s2\r\n    bags\r\n    b1\r\n    b2\r\n    modelname2\r\n    color\r\n    c1\r\n    c2\r\n    engine size\r\n    es1\r\n    es2\r\n    windsheild\r\n    w1\r\n    w2\r\n    lights\r\n    l1\r\n    l2\r\n    tire size\r\n    t1\r\n    t2\r\n    radio\r\n    r1\r\n    r2\r\n    abs\r\n    a1\r\n    a2\r\n    alarm\r\n    a1\r\n    a2\r\n    seat\r\n    s1\r\n    s2\r\n    bags\r\n    b1\r\n    b2\r\n\r\n","title":"Building a tree in java using input from a text file","body":"<p>I'm trying to build a tree of an arbitrary size using data from a file. In the file, each node is its own line, and the branches are delimited by certain keywords. Currently, I am reading the file into a List, reading it item by item, and looking for the keywords to build the branches down. I am having a hard time figuring out how to keep going after I start the first branch. Following is my tree class and test input file. I realize the test input may be considered too big for a test, but the actual one will have many, many models. The end goal is to have the tree represent the harley davidson bike lineup with all the available options for each bike once its fully built. For example, one section of a branch would look like:</p>\n\n<p><code>Harley(root) -&gt; Model Line -&gt; Model 1 -&gt; color -&gt; c1</code></p>\n\n<p>And so forth for all the other keywords per branch. My question would be if I am going in the right direction in <code>populate()</code>. The only way I can think of doing it would be to have a large <code>if...else if...</code> structure to check for each keyword in succession, with a loop in each <code>if...else</code> to populate the children of that keyword's node. Even if I did that, I don't know how to jump up to do the next branch, and i know it is a terribly inefficient way of making the tree. Any advice? Thank you.</p>\n\n<p>Tree.java</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Tree\n{\n    private Node root;\n\n    public Tree(String rootData) \n    {\n        root = new Node();\n        root.data = rootData;\n        root.children = new ArrayList&lt;Node&gt;();\n    }\n\n    public static class Node\n    {\n        private String data;\n        private Node parent;\n        private List&lt;Node&gt; children;\n\n        public Node(){}\n\n        public Node(String newNodeData, Node newNodeParent)\n        {\n            data = newNodeData;\n            parent = newNodeParent;\n        }\n    }\n\n    public void populate() throws IOException\n    {\n        //keep track of nodes for jumping up branches quickly\n        Node curNode = this.root;\n        Node curModelLine;\n        Node curModel;\n\n        //get the data\n        List&lt;String&gt; fileData = getData();\n        int nextDataLine = 0;\n        while (!fileData.isEmpty())\n        {\n            String curLine = fileData.get(nextDataLine);\n            if (curLine == \"model line\")\n            {\n                curModelLine = new Node(fileData.get(nextDataLine+1), this.root);\n                this.root.children.add(curModelLine);    \n            }\n\n            /*Not sure where to go from here*/\n\n            nextDataLine++;\n        }\n    }\n\n    public static List&lt;String&gt; getData() throws IOException\n    {\n        List&lt;String&gt; filedata = new ArrayList&lt;String&gt;();\n        try\n        {\n            FileInputStream in = new FileInputStream(\"data.txt\");\n            BufferedReader br = new BufferedReader(new InputStreamReader(in));\n            String line;\n            while((line = br.readLine())!= null)\n            {\n                filedata.add(line);\n            }\n            br.close();\n        }catch(Exception e)\n        {\n            System.out.println(e);\n        }\n        return filedata;\n    }\n}\n</code></pre>\n\n<p>data.txt:</p>\n\n<pre><code>harley\nmodel line\nlinename1\nmodelname1\ncolor\nc1\nc2\nengine size\nes1\nes2\nwindsheild\nw1\nw2\nlights\nl1\nl2\ntire size\nt1\nt2\nradio\nr1\nr2\nabs\na1\na2\nalarm\na1\na2\nseat\ns1\ns2\nbags\nb1\nb2\nmodelname2\ncolor\nc1\nc2\nengine size\nes1\nes2\nwindsheild\nw1\nw2\nlights\nl1\nl2\ntire size\nt1\nt2\nradio\nr1\nr2\nabs\na1\na2\nalarm\na1\na2\nseat\ns1\ns2\nbags\nb1\nb2\nlinename2\nmodelname1\ncolor\nc1\nc2\nengine size\nes1\nes2\nwindsheild\nw1\nw2\nlights\nl1\nl2\ntire size\nt1\nt2\nradio\nr1\nr2\nabs\na1\na2\nalarm\na1\na2\nseat\ns1\ns2\nbags\nb1\nb2\nmodelname2\ncolor\nc1\nc2\nengine size\nes1\nes2\nwindsheild\nw1\nw2\nlights\nl1\nl2\ntire size\nt1\nt2\nradio\nr1\nr2\nabs\na1\na2\nalarm\na1\na2\nseat\ns1\ns2\nbags\nb1\nb2\n</code></pre>\n"},{"tags":["java","json","jsonpath","json-path-expression"],"comments":[{"owner":{"account_id":17051307,"reputation":1,"user_id":12336883,"display_name":"Jumby"},"score":0,"creation_date":1697531672,"post_id":77304569,"comment_id":136288234,"body_markdown":"I found that setting the configuration to use GsonJsonProvider resolved my issue. Please see https://stackoverflow.com/questions/52078224/java-jsonpath-extract-nested-json-object-as-string","body":"I found that setting the configuration to use GsonJsonProvider resolved my issue. Please see <a href=\"https://stackoverflow.com/questions/52078224/java-jsonpath-extract-nested-json-object-as-string\" title=\"java jsonpath extract nested json object as string\">stackoverflow.com/questions/52078224/&hellip;</a>"}],"owner":{"account_id":17051307,"reputation":1,"user_id":12336883,"display_name":"Jumby"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697490026,"creation_date":1697485247,"question_id":77304569,"body_markdown":"I&#39;m writing a function that will filter a JSON using the JSONPath library. I&#39;m running into issues with the object type returned by the .read(&quot;$&quot;) expression. I want to convert the filtered object back into a JSON however when the Object returned by the read() function is converted into a string using .toString() the JSON is invalid e.g. `{id=123}` rather than `{&quot;id&quot; : &quot;123&quot;}` this is causing errors further down the line, if any of the values contain escaped characters the string will throw errors when I try to process it as a JSON. \r\n\r\nThis article: https://github.com/json-path/JsonPath/issues/217 suggests using jsonString() but this function is part of DocumentContext and the .read() function returns a Linked Hash Map. \r\n\r\nI need JSONPath to return a filtered JSON string, how can I achieve this?\r\n\r\nInputs:\r\n```\r\nSting json = \r\n{\r\n   &quot;response_GET&quot;:{\r\n      &quot;name&quot;:&quot;Luke Skywalker&quot;,\r\n      &quot;height&quot;:&quot;172&quot;,\r\n      &quot;mass&quot;:&quot;77&quot;,\r\n      &quot;hair_color&quot;:&quot;blond&quot;,\r\n      &quot;skin_color&quot;:&quot;fair&quot;,\r\n      &quot;eye_color&quot;:&quot;blue&quot;,\r\n      &quot;birth_year&quot;:&quot;19BBY&quot;,\r\n      &quot;gender&quot;:&quot;male&quot;,\r\n      &quot;homeworld&quot;:&quot;https://swapi.dev/api/planets/1/&quot;,\r\n      &quot;created&quot;:&quot;2014-12-09T13:50:51.644000Z&quot;,\r\n      &quot;edited&quot;:&quot;2014-12-20T21:17:56.891000Z&quot;,\r\n      &quot;url&quot;:&quot;https://swapi.dev/api/people/1/&quot;\r\n   }\r\n}\r\n\r\n\r\nString expression = &quot;$.response_GET&quot;;\r\n```\r\n\r\n\r\nFunction:\r\n```\r\ntry{    \r\n    //Use JsonPath to filter json using the expression parameter then convert the json back into the target page   \r\n    DocumentContext docCon = JsonPath.parse(json);\r\n    Object obj = docCon.read(expression);\r\n    String outputJSON = obj.toString();       \r\n\r\n  } catch (Exception ex) {\r\n    String error = &quot;Error in GetPageFromJSONPath: &quot; + ex.getMessage();\r\n    oLog.error(error, ex);\r\n\t\tthrow new RuntimeException(error, ex);\r\n\t}\r\n```\r\n\r\n\r\noutputJSON:\r\n```\r\n{birth_year=19BBY, created=2014-12-09T13:50:51.644000Z, edited=2014-12-20T21:17:56.891000Z, eye_color=blue, gender=male, hair_color=blond, height=172, homeworld=https://swapi.dev/api/planets/1/, mass=77, name=Luke Skywalker, pxObjClass=ADQURA-FW-Grogu-Int-SWAPI-Root, skin_color=fair, url=https://swapi.dev/api/people/1/}\r\n```\r\nThis invalid JSON doesn&#39;t allow me to process the data further.\r\n","title":"JSONPath .read() returns an invalid json","body":"<p>I'm writing a function that will filter a JSON using the JSONPath library. I'm running into issues with the object type returned by the .read(&quot;$&quot;) expression. I want to convert the filtered object back into a JSON however when the Object returned by the read() function is converted into a string using .toString() the JSON is invalid e.g. <code>{id=123}</code> rather than <code>{&quot;id&quot; : &quot;123&quot;}</code> this is causing errors further down the line, if any of the values contain escaped characters the string will throw errors when I try to process it as a JSON.</p>\n<p>This article: <a href=\"https://github.com/json-path/JsonPath/issues/217\" rel=\"nofollow noreferrer\">https://github.com/json-path/JsonPath/issues/217</a> suggests using jsonString() but this function is part of DocumentContext and the .read() function returns a Linked Hash Map.</p>\n<p>I need JSONPath to return a filtered JSON string, how can I achieve this?</p>\n<p>Inputs:</p>\n<pre><code>Sting json = \n{\n   &quot;response_GET&quot;:{\n      &quot;name&quot;:&quot;Luke Skywalker&quot;,\n      &quot;height&quot;:&quot;172&quot;,\n      &quot;mass&quot;:&quot;77&quot;,\n      &quot;hair_color&quot;:&quot;blond&quot;,\n      &quot;skin_color&quot;:&quot;fair&quot;,\n      &quot;eye_color&quot;:&quot;blue&quot;,\n      &quot;birth_year&quot;:&quot;19BBY&quot;,\n      &quot;gender&quot;:&quot;male&quot;,\n      &quot;homeworld&quot;:&quot;https://swapi.dev/api/planets/1/&quot;,\n      &quot;created&quot;:&quot;2014-12-09T13:50:51.644000Z&quot;,\n      &quot;edited&quot;:&quot;2014-12-20T21:17:56.891000Z&quot;,\n      &quot;url&quot;:&quot;https://swapi.dev/api/people/1/&quot;\n   }\n}\n\n\nString expression = &quot;$.response_GET&quot;;\n</code></pre>\n<p>Function:</p>\n<pre><code>try{    \n    //Use JsonPath to filter json using the expression parameter then convert the json back into the target page   \n    DocumentContext docCon = JsonPath.parse(json);\n    Object obj = docCon.read(expression);\n    String outputJSON = obj.toString();       \n\n  } catch (Exception ex) {\n    String error = &quot;Error in GetPageFromJSONPath: &quot; + ex.getMessage();\n    oLog.error(error, ex);\n        throw new RuntimeException(error, ex);\n    }\n</code></pre>\n<p>outputJSON:</p>\n<pre><code>{birth_year=19BBY, created=2014-12-09T13:50:51.644000Z, edited=2014-12-20T21:17:56.891000Z, eye_color=blue, gender=male, hair_color=blond, height=172, homeworld=https://swapi.dev/api/planets/1/, mass=77, name=Luke Skywalker, pxObjClass=ADQURA-FW-Grogu-Int-SWAPI-Root, skin_color=fair, url=https://swapi.dev/api/people/1/}\n</code></pre>\n<p>This invalid JSON doesn't allow me to process the data further.</p>\n"},{"tags":["java","testng"],"comments":[{"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"score":0,"creation_date":1699260242,"post_id":77304929,"comment_id":136504384,"body_markdown":"I spent sometime looking at this and I am not sure I quite understand what you meant by the intermediate state. I was noticing that the `getAllTestMethods()` is ALWAYS empty while the Guice Module creation is underway because the method resolution happens ONLY after the test class instantiation part is sorted out. On a side note, would you be willing to file an issue with a reproducible sample at https://github.com/testng-team/testng ?","body":"I spent sometime looking at this and I am not sure I quite understand what you meant by the intermediate state. I was noticing that the <code>getAllTestMethods()</code> is ALWAYS empty while the Guice Module creation is underway because the method resolution happens ONLY after the test class instantiation part is sorted out. On a side note, would you be willing to file an issue with a reproducible sample at <a href=\"https://github.com/testng-team/testng\" rel=\"nofollow noreferrer\">github.com/testng-team/testng</a> ?"}],"owner":{"account_id":1132561,"reputation":3146,"user_id":1118307,"accept_rate":42,"display_name":"vpiTriumph"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697489828,"creation_date":1697489828,"question_id":77304929,"body_markdown":"I&#39;m implementing TestNG&#39;s `IModuleFactory` with the goal of conditionally binding certain Guice `Module`s based on the test Classes/Methods being executed.\r\n\r\n```java\r\nclass SomeModuleFactory : IModuleFactory {\r\n  override fun createModule(iTestContext: ITestContext, aClass: Class&lt;*&gt;): Module {\r\n    ...\r\n  }\r\n}\r\n```\r\n\r\nI have noticed that `iTestContext`&#39;s fields (specifically `getAllTestMethods`) are not necessarily all available at `IModuleFactory#createModule` execution time and field availability is dependent on invocation method.\r\n\r\nIf I execute the test with `SomeModuleFactory` bound using `@Guice(moduleFactory)` from:\r\n 1. IntelliJ. Fields outside of `currentXmlTest` are not set yet set when `IModuleFactory#createModule` is executed BUT it is fully populated once any `@BeforeSuite` annotations are reached.\r\n 2. [Programmatically](https://testng.org/doc/documentation-main.html#running-testng-programmatically). All fields are set to their final state when `IModuleFactory#createModule` is invoked.\r\n\r\nIs there a reason `ITestContext` is in observable in an intermediary state from `IModuleFactory`?  Is there a way to force resolution of ITestContext?","title":"ITestContext#getAllTestMethods is empty when called from IModuleFactory","body":"<p>I'm implementing TestNG's <code>IModuleFactory</code> with the goal of conditionally binding certain Guice <code>Module</code>s based on the test Classes/Methods being executed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SomeModuleFactory : IModuleFactory {\n  override fun createModule(iTestContext: ITestContext, aClass: Class&lt;*&gt;): Module {\n    ...\n  }\n}\n</code></pre>\n<p>I have noticed that <code>iTestContext</code>'s fields (specifically <code>getAllTestMethods</code>) are not necessarily all available at <code>IModuleFactory#createModule</code> execution time and field availability is dependent on invocation method.</p>\n<p>If I execute the test with <code>SomeModuleFactory</code> bound using <code>@Guice(moduleFactory)</code> from:</p>\n<ol>\n<li>IntelliJ. Fields outside of <code>currentXmlTest</code> are not set yet set when <code>IModuleFactory#createModule</code> is executed BUT it is fully populated once any <code>@BeforeSuite</code> annotations are reached.</li>\n<li><a href=\"https://testng.org/doc/documentation-main.html#running-testng-programmatically\" rel=\"nofollow noreferrer\">Programmatically</a>. All fields are set to their final state when <code>IModuleFactory#createModule</code> is invoked.</li>\n</ol>\n<p>Is there a reason <code>ITestContext</code> is in observable in an intermediary state from <code>IModuleFactory</code>?  Is there a way to force resolution of ITestContext?</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":2,"creation_date":1697221280,"post_id":77289913,"comment_id":136257562,"body_markdown":"I&#39;ve read your question several times, but I don&#39;t know what you are asking.  Is your question &quot;How do I determine which method on which class will be called at runtime?&quot;","body":"I&#39;ve read your question several times, but I don&#39;t know what you are asking.  Is your question &quot;How do I determine which method on which class will be called at runtime?&quot;"},{"owner":{"account_id":19121633,"reputation":125,"user_id":13965488,"display_name":"Derek Li"},"score":0,"creation_date":1697221349,"post_id":77289913,"comment_id":136257576,"body_markdown":"@RobertHarvey I want to know what method is in the class, not the interface.","body":"@RobertHarvey I want to know what method is in the class, not the interface."},{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1697221523,"post_id":77289913,"comment_id":136257604,"body_markdown":"Assuming the method conforms to the interface, it&#39;s going to have the same name.  You need to ask your question in a different way, or read https://xyproblem.info.","body":"Assuming the method conforms to the interface, it&#39;s going to have the same name.  You need to ask your question in a different way, or read <a href=\"https://xyproblem.info\" rel=\"nofollow noreferrer\">xyproblem.info</a>."},{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1697229116,"post_id":77289913,"comment_id":136258682,"body_markdown":"The method truly is declared both on the interface and the class. Unfortunately, there&#39;s no good way to discover if a method is implementing/overriding another method from a supertype. You have to check both places and potentially also look for covariant parameter types. Yes, it is as awful as it sounds.","body":"The method truly is declared both on the interface and the class. Unfortunately, there&#39;s no good way to discover if a method is implementing/overriding another method from a supertype. You have to check both places and potentially also look for covariant parameter types. Yes, it is as awful as it sounds."}],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1697291002,"post_id":77289944,"comment_id":136262869,"body_markdown":"This is not sufficient.  You need to match the method argument types, too.  Imagine a class which implements Runnable, and which also has a `public void run(String s)` method.","body":"This is not sufficient.  You need to match the method argument types, too.  Imagine a class which implements Runnable, and which also has a <code>public void run(String s)</code> method."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697456152,"post_id":77289944,"comment_id":136278060,"body_markdown":"You can simply use `clazz.getMethod(method.getName(), method.getParameterTypes())` to find out whether there is an overriding/implementing method. No need to loop over the methods yourself.","body":"You can simply use <code>clazz.getMethod(method.getName(), method.getParameterTypes())</code> to find out whether there is an overriding/implementing method. No need to loop over the methods yourself."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1697489866,"post_id":77289944,"comment_id":136283972,"body_markdown":"@VGR You&#39;re totally right! Thank you for the recommendation, I&#39;ve improved my answer.","body":"@VGR You&#39;re totally right! Thank you for the recommendation, I&#39;ve improved my answer."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1697490103,"post_id":77289944,"comment_id":136284022,"body_markdown":"@Holger this method doesn&#39;t work when you have `Object hi()` in the interface and `public String hi()` in the implementation for example.","body":"@Holger this method doesn&#39;t work when you have <code>Object hi()</code> in the interface and <code>public String hi()</code> in the implementation for example."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697529662,"post_id":77289944,"comment_id":136287879,"body_markdown":"@DiegoBorba what behavior do you expect and what do you get? The method `String hi()` does override the method `Object hi()` and the lookup based on name and parameter types will find that.","body":"@DiegoBorba what behavior do you expect and what do you get? The method <code>String hi()</code> does override the method <code>Object hi()</code> and the lookup based on name and parameter types will find that."}],"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1697489491,"creation_date":1697221501,"answer_id":77289944,"question_id":77289913,"body_markdown":"You can just compare the class and the interface, this way:\r\n\r\n```java\r\nClass&lt;?&gt; clazz = AClass.class;\r\nClass&lt;?&gt; interfce = AInterface.class;\r\n\r\nfor (Method method : interfce.getDeclaredMethods()) {\r\n\tMethod overriddenMethod = null;\r\n\r\n\t// Iterate\r\n\tfor (Method classMethod : clazz.getDeclaredMethods()) {\r\n\t\tif (classMethod.getName().equals(method.getName())) {\r\n\t\t\tClass&lt;?&gt;[] interfaceParameterTypes = method.getParameterTypes();\r\n\t\t\tClass&lt;?&gt;[] classParameterTypes = classMethod.getParameterTypes();\r\n\r\n\t\t\tif (Arrays.equals(interfaceParameterTypes, classParameterTypes) &amp;&amp; classMethod.getReturnType().isAssignableFrom(method.getReturnType())) {\r\n\t\t\t\toverriddenMethod = classMethod;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n    /*\r\n     * Output to illustrate\r\n     */\r\n\tSystem.out.print(&quot;Method &quot; + method.getName() + &quot;(&quot;);\r\n\tClass&lt;?&gt;[] parameterTypes = method.getParameterTypes();\r\n\tfor (int i = 0; i &lt; parameterTypes.length; i++) {\r\n\t\tSystem.out.print(parameterTypes[i].getSimpleName());\r\n\t\tif (i &lt; parameterTypes.length - 1) {\r\n\t\t\tSystem.out.print(&quot;, &quot;);\r\n\t\t}\r\n\t}\r\n\tSystem.out.print(&quot;) &quot;);\r\n\r\n\t// Class Method\r\n\tif (overriddenMethod != null) {\r\n\t\tSystem.out.println(&quot;is overridden&quot;);\r\n\r\n\t\t// Interface Method (not implemented)\r\n\t} else {\r\n\t\tSystem.out.println(&quot;is not overridden&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nThe output will be:\r\n\r\n```\r\nMethod hi() is overridden\r\n```\r\n\r\nBut, if you create `BClass`:\r\n\r\n```java\r\npublic abstract class BClass implements AInterface {\r\n\t\r\n}\r\n```\r\n\r\nAnd use it to compare, the output will be:\r\n\r\n```\r\nMethod hi() is not overridden\r\n```\r\n\r\nThis code matches the method argument types too, so if you change the interface to:\r\n\r\n```java\r\npublic interface AInterface {\r\n\tObject hi();\r\n\r\n\tObject hi(String str);\r\n}\r\n```\r\n\r\nAnd then create `CClass`:\r\n\r\n```java\r\npublic abstract class CClass implements AInterface {\r\n\t@Override\r\n\tpublic Object hi(String var) {\r\n\t\treturn var;\r\n\t}\r\n}\r\n```\r\n\r\nThe output will be:\r\n\r\n```\r\nMethod hi() is not overridden\r\nMethod hi(String) is overridden\r\n```","title":"Checking if a method is declared in an interface","body":"<p>You can just compare the class and the interface, this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class&lt;?&gt; clazz = AClass.class;\nClass&lt;?&gt; interfce = AInterface.class;\n\nfor (Method method : interfce.getDeclaredMethods()) {\n    Method overriddenMethod = null;\n\n    // Iterate\n    for (Method classMethod : clazz.getDeclaredMethods()) {\n        if (classMethod.getName().equals(method.getName())) {\n            Class&lt;?&gt;[] interfaceParameterTypes = method.getParameterTypes();\n            Class&lt;?&gt;[] classParameterTypes = classMethod.getParameterTypes();\n\n            if (Arrays.equals(interfaceParameterTypes, classParameterTypes) &amp;&amp; classMethod.getReturnType().isAssignableFrom(method.getReturnType())) {\n                overriddenMethod = classMethod;\n                break;\n            }\n        }\n    }\n\n    /*\n     * Output to illustrate\n     */\n    System.out.print(&quot;Method &quot; + method.getName() + &quot;(&quot;);\n    Class&lt;?&gt;[] parameterTypes = method.getParameterTypes();\n    for (int i = 0; i &lt; parameterTypes.length; i++) {\n        System.out.print(parameterTypes[i].getSimpleName());\n        if (i &lt; parameterTypes.length - 1) {\n            System.out.print(&quot;, &quot;);\n        }\n    }\n    System.out.print(&quot;) &quot;);\n\n    // Class Method\n    if (overriddenMethod != null) {\n        System.out.println(&quot;is overridden&quot;);\n\n        // Interface Method (not implemented)\n    } else {\n        System.out.println(&quot;is not overridden&quot;);\n    }\n}\n</code></pre>\n<p>The output will be:</p>\n<pre><code>Method hi() is overridden\n</code></pre>\n<p>But, if you create <code>BClass</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class BClass implements AInterface {\n    \n}\n</code></pre>\n<p>And use it to compare, the output will be:</p>\n<pre><code>Method hi() is not overridden\n</code></pre>\n<p>This code matches the method argument types too, so if you change the interface to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface AInterface {\n    Object hi();\n\n    Object hi(String str);\n}\n</code></pre>\n<p>And then create <code>CClass</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class CClass implements AInterface {\n    @Override\n    public Object hi(String var) {\n        return var;\n    }\n}\n</code></pre>\n<p>The output will be:</p>\n<pre><code>Method hi() is not overridden\nMethod hi(String) is overridden\n</code></pre>\n"}],"owner":{"account_id":19121633,"reputation":125,"user_id":13965488,"display_name":"Derek Li"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697489491,"creation_date":1697221055,"question_id":77289913,"body_markdown":"I want to check if a method of a class is declared in an interface.\r\n\r\nAInterface.java:\r\n```java\r\npublic interface AInterface {\r\n    Object hi();\r\n}\r\n```\r\n\r\nAClass.java:\r\n```java\r\npublic class AClass implements AInterface {\r\n    public String hi() {\r\n        return &quot;hello!&quot;;\r\n    }\r\n}\r\n```\r\n\r\nMain.java:\r\n```java\r\nimport java.lang.reflect.Field;\r\nimport java.lang.reflect.Method;\r\nimport java.util.ArrayList;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        for (Method md : AClass.class.getDeclaredMethods()) {\r\n            System.out.println(&quot;Declaring class: &quot; + md.getDeclaringClass().getName());\r\n            System.out.println(&quot;Return type: &quot; + md.getReturnType().getName());\r\n            System.out.println(&quot;Name: &quot; + md.getName());\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n`md.getDeclaringClass()` returns the same class for both methods. So how do I check which one is in the class?","title":"Checking if a method is declared in an interface","body":"<p>I want to check if a method of a class is declared in an interface.</p>\n<p>AInterface.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface AInterface {\n    Object hi();\n}\n</code></pre>\n<p>AClass.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AClass implements AInterface {\n    public String hi() {\n        return &quot;hello!&quot;;\n    }\n}\n</code></pre>\n<p>Main.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.reflect.Field;\nimport java.lang.reflect.Method;\nimport java.util.ArrayList;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        for (Method md : AClass.class.getDeclaredMethods()) {\n            System.out.println(&quot;Declaring class: &quot; + md.getDeclaringClass().getName());\n            System.out.println(&quot;Return type: &quot; + md.getReturnType().getName());\n            System.out.println(&quot;Name: &quot; + md.getName());\n            System.out.println();\n        }\n    }\n\n}\n</code></pre>\n<p><code>md.getDeclaringClass()</code> returns the same class for both methods. So how do I check which one is in the class?</p>\n"},{"tags":["java","mysql","wildfly-27"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1697497244,"post_id":77304866,"comment_id":136284844,"body_markdown":"What version of MySQL are you using?","body":"What version of MySQL are you using?"}],"owner":{"account_id":29656148,"reputation":1,"user_id":22728866,"display_name":"Cezar Apulchro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697489162,"creation_date":1697489162,"question_id":77304866,"body_markdown":"I&#39;m trying to access my mysql table but nothing happen. I&#39;ve Wildfly 27 as server I don&#39;t any type error that say how to solve this.\r\n\r\n\r\nResult of deployment:\r\n\r\n```\r\n12:25:52,674 INFO  [org.jboss.as.repository] (External Management Request Threads -- 3) WFLYDR0001: Content added at location C:\\Users\\Ilo Gabriel\\eclipse-workspace\\wildfly-27.0.1.Final\\standalone\\data\\content\\f8\\9e6dc021fddf0cb47a1546bafd2abef63ad4fa\\content\r\n12:25:56,980 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 357) WFLYUT0022: Unregistered web context: &#39;/itcmedbr&#39; from server &#39;default-server&#39;\r\n12:26:10,869 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 368) WFLYJPA0011: Stopping Persistence Unit (phase 2 of 2) Service &#39;itcmedbr.war#itcmedbr_PU&#39;\r\n12:26:12,013 INFO  [org.hibernate.orm.beans] (ServerService Thread Pool -- 368) HHH10005004: Stopping BeanContainer : org.hibernate.resource.beans.container.internal.CdiBeanContainerExtendedAccessImpl@504ca935\r\n12:26:13,196 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 368) WFLYJPA0011: Stopping Persistence Unit (phase 1 of 2) Service &#39;itcmedbr.war#itcmedbr_PU&#39;\r\n12:26:24,518 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0028: Stopped deployment itcmedbr.war (runtime-name: itcmedbr.war) in 29132ms\r\n12:26:25,045 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0027: Starting deployment of &quot;itcmedbr.war&quot; (runtime-name: &quot;itcmedbr.war&quot;)\r\n12:27:29,234 INFO  [org.jboss.as.jpa] (MSC service thread 1-5) WFLYJPA0002: Read persistence.xml for itcmedbr_PU\r\n12:27:33,219 INFO  [org.jipijapa] (MSC service thread 1-8) JIPIORMV6020260: Second level cache enabled for itcmedbr.war#itcmedbr_PU\r\n12:27:40,142 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 368) ISPN000556: Starting user marshaller &#39;org.wildfly.clustering.infinispan.marshalling.jboss.JBossMarshaller&#39;\r\n12:27:43,345 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 368) WFLYJPA0010: Starting Persistence Unit (phase 1 of 2) Service &#39;itcmedbr.war#itcmedbr_PU&#39;\r\n12:27:43,388 INFO  [org.hibernate.jpa.internal.util.LogHelper] (ServerService Thread Pool -- 368) HHH000204: Processing PersistenceUnitInfo [name: itcmedbr_PU]\r\n12:27:44,235 INFO  [org.jboss.weld.deployer] (MSC service thread 1-1) WFLYWELD0003: Processing weld deployment itcmedbr.war\r\n12:27:44,310 WARN  [org.hibernate.orm.deprecation] (ServerService Thread Pool -- 368) HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\r\n12:27:49,603 WARN  [org.wildfly.extension.microprofile.opentracing] (MSC service thread 1-1) WFLYTRACEXT0012: No Jaeger endpoint or sender-binding configured. Installing a no-op sender\r\n12:27:50,027 INFO  [io.jaegertracing.internal.JaegerTracer] (MSC service thread 1-1) No shutdown hook registered: Please call close() manually on application shutdown.\r\n12:27:50,031 INFO  [org.wildfly.microprofile.opentracing.smallrye] (MSC service thread 1-1) WFLYTRAC0001: Tracer initialized: JaegerTracer(version=Java-1.6.0, serviceName=itcmedbr.war, reporter=RemoteReporter(sender=NoopSender(), closeEnqueueTimeout=1000), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=DESKTOP-MOJECP9, jaeger.version=Java-1.6.0, ip=192.168.100.128}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)\r\n12:27:50,571 INFO  [org.jipijapa] (MSC service thread 1-1) JIPIORMV6020260: Second level cache enabled for itcmedbr.war#itcmedbr_PU\r\n12:27:53,256 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 368) WFLYJPA0010: Starting Persistence Unit (phase 2 of 2) Service &#39;itcmedbr.war#itcmedbr_PU&#39;\r\n12:27:58,228 INFO  [SQL dialect] (ServerService Thread Pool -- 368) HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\n12:27:58,469 INFO  [org.hibernate.envers.boot.internal.EnversServiceImpl] (ServerService Thread Pool -- 368) Envers integration enabled? : true\r\n12:28:13,467 INFO  [jakarta.enterprise.resource.webcontainer.faces.config] (ServerService Thread Pool -- 374) Inicializando Mojarra 4.0.0.SP01 para o contexto &#39;/itcmedbr&#39;\r\n12:28:16,760 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 374) WFLYUT0021: Registered web context: &#39;/itcmedbr&#39; for server &#39;default-server&#39;\r\n12:28:19,771 INFO  [org.jboss.as.server] (External Management Request Threads -- 3) WFLYSRV0016: Replaced deployment &quot;itcmedbr.war&quot; with deployment &quot;itcmedbr.war&quot;\r\n12:28:19,876 INFO  [org.jboss.as.repository] (External Management Request Threads -- 3) WFLYDR0002: Content removed from location C:\\Users\\Ilo Gabriel\\eclipse-workspace\\wildfly-27.0.1.Final\\standalone\\data\\content\\4b\\8235b8df8a07215e3d92a6db457afc96d062f5\\content\r\n\r\n```\r\nMy datasource in standalone.xml:\r\n\r\n```\r\n&lt;datasource jndi-name=&quot;java:jboss/MySqlDS&quot; pool-name=&quot;MySqlDS&quot;&gt;\r\n                    &lt;connection-url&gt;jdbc:mysql://localhost:3306/db_medical&lt;/connection-url&gt;\r\n                    &lt;driver-class&gt;com.mysql.cj.jdbc.Driver&lt;/driver-class&gt;\r\n                    &lt;driver&gt;mysql&lt;/driver&gt;\r\n                    &lt;security&gt;\r\n                        &lt;user-name&gt;root&lt;/user-name&gt;\r\n                        &lt;password&gt;root&lt;/password&gt;\r\n                    &lt;/security&gt;\r\n                    &lt;validation&gt;\r\n                        &lt;valid-connection-checker class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker&quot;/&gt;\r\n                        &lt;validate-on-match&gt;true&lt;/validate-on-match&gt;\r\n                        &lt;background-validation&gt;false&lt;/background-validation&gt;\r\n                        &lt;exception-sorter class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter&quot;/&gt;\r\n                    &lt;/validation&gt;\r\n                &lt;/datasource&gt;\r\n```\r\ndriver:\r\n\r\n```\r\n&lt;driver name=&quot;mysql&quot; module=&quot;com.mysql&quot;&gt;\r\n      &lt;driver-class&gt;com.mysql.cj.jdbc.Driver&lt;/driver-class&gt;\r\n      &lt;xa-datasource-class&gt;com.mysql.cj.jdbc.MysqlXADataSource&lt;/xa-datasource-class&gt;\r\n&lt;/driver&gt;\r\n```\r\nI configured my datasource by HAL Management Console.\r\npersistence.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; \r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\r\n                                 http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n  &lt;persistence-unit name=&quot;itcmedbr_PU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n    &lt;jta-data-source&gt;java:jboss/MySqlDS&lt;/jta-data-source&gt;\r\n    &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n    &lt;properties&gt;      \r\n      &lt;!-- Configura&#231;&#245;es espec&#237;ficas do Hibernate --&gt;\r\n      &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\r\n    &lt;/properties&gt;\r\n  &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\nMethod to read data in MySQL:\r\n\r\n```\r\npublic Usuarios_DAO_W1 getLoginW1(String Nome, String Senha, String CNPJ) throws Exception\r\n    {\r\n        String ListarLogin = &quot;SELECT * &quot; + \r\n                &quot;FROM Tabela_Profissional_Medico WHERE Apelido = ? &quot; +\r\n                &quot;AND Senha = ? AND CNPJ = ?&quot;;\r\n        \r\n        Connection conectar = null;\r\n        PreparedStatement pstm = null;\r\n        ResultSet rs = null;\r\n        System.out.println(&quot;PacientesDAO chamando conectar DB...&quot;);\r\n        System.out.println(&quot;Nome: &quot; + Nome);\r\n        \r\n        pstm = conectar.prepareStatement(ListarLogin);\r\n        \r\n        pstm.setString(1, Nome);\r\n        pstm.setString(2, Senha);\r\n        pstm.setString(3, CNPJ);\r\n        \r\n        rs = pstm.executeQuery();\r\n        \r\n        Usuarios_DAO_W1 constpaciente = new Usuarios_DAO_W1();\r\n        \r\n        if (rs.next())                \r\n        {            \r\n            constpaciente.setNome(rs.getString(&quot;Nome&quot;));\r\n            constpaciente.setApelido(rs.getString(&quot;Apelido&quot;));\r\n            constpaciente.setCoren(rs.getString(&quot;Coren&quot;));\r\n            constpaciente.setCremerj(rs.getString(&quot;Cremerj&quot;));\r\n            constpaciente.setSenha(rs.getString(&quot;Senha&quot;));\r\n            constpaciente.setTipo(rs.getString(&quot;Tipo&quot;));\r\n                \r\n        }else\r\n        {   \r\n            System.out.println(&quot;Senha invalida....&quot;);\r\n            response.setContentType(&quot;text/html&quot;);\r\n            PrintWriter out = response.getWriter();\r\n            out.println(&quot;&lt;!DOCTYPE html&gt;&quot;);\r\n            out.println(&quot;&lt;html&gt;&quot;);\r\n            out.println(&quot;&lt;head&gt;&quot;);\r\n            out.println(&quot;&lt;title&gt;Servlet NewServlet&lt;/title&gt;&quot;);            \r\n            out.println(&quot;&lt;/head&gt;&quot;);\r\n            out.println(&quot;&lt;body&gt;&quot;);\r\n            out.println(&quot;&lt;br&gt;&quot;);\r\n            out.println(&quot;&lt;h1&gt;PacientesDAO - Usu&#225;rio ou senha invalido!&lt;/h1&gt;&quot;);\r\n            out.println(&quot;&lt;/body&gt;&quot;);\r\n            out.println(&quot;&lt;/html&gt;&quot;);\r\n            out.close();\r\n        }\r\n        \r\n        return constpaciente;\r\n    }\r\n```\r\nI must to say that this is my first time that I use wildfly server to read mysql data.\r\nThanks in advance.","title":"Problem to access MySQL table using WildFly 27 as Server","body":"<p>I'm trying to access my mysql table but nothing happen. I've Wildfly 27 as server I don't any type error that say how to solve this.</p>\n<p>Result of deployment:</p>\n<pre><code>12:25:52,674 INFO  [org.jboss.as.repository] (External Management Request Threads -- 3) WFLYDR0001: Content added at location C:\\Users\\Ilo Gabriel\\eclipse-workspace\\wildfly-27.0.1.Final\\standalone\\data\\content\\f8\\9e6dc021fddf0cb47a1546bafd2abef63ad4fa\\content\n12:25:56,980 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 357) WFLYUT0022: Unregistered web context: '/itcmedbr' from server 'default-server'\n12:26:10,869 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 368) WFLYJPA0011: Stopping Persistence Unit (phase 2 of 2) Service 'itcmedbr.war#itcmedbr_PU'\n12:26:12,013 INFO  [org.hibernate.orm.beans] (ServerService Thread Pool -- 368) HHH10005004: Stopping BeanContainer : org.hibernate.resource.beans.container.internal.CdiBeanContainerExtendedAccessImpl@504ca935\n12:26:13,196 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 368) WFLYJPA0011: Stopping Persistence Unit (phase 1 of 2) Service 'itcmedbr.war#itcmedbr_PU'\n12:26:24,518 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0028: Stopped deployment itcmedbr.war (runtime-name: itcmedbr.war) in 29132ms\n12:26:25,045 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0027: Starting deployment of &quot;itcmedbr.war&quot; (runtime-name: &quot;itcmedbr.war&quot;)\n12:27:29,234 INFO  [org.jboss.as.jpa] (MSC service thread 1-5) WFLYJPA0002: Read persistence.xml for itcmedbr_PU\n12:27:33,219 INFO  [org.jipijapa] (MSC service thread 1-8) JIPIORMV6020260: Second level cache enabled for itcmedbr.war#itcmedbr_PU\n12:27:40,142 INFO  [org.infinispan.CONTAINER] (ServerService Thread Pool -- 368) ISPN000556: Starting user marshaller 'org.wildfly.clustering.infinispan.marshalling.jboss.JBossMarshaller'\n12:27:43,345 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 368) WFLYJPA0010: Starting Persistence Unit (phase 1 of 2) Service 'itcmedbr.war#itcmedbr_PU'\n12:27:43,388 INFO  [org.hibernate.jpa.internal.util.LogHelper] (ServerService Thread Pool -- 368) HHH000204: Processing PersistenceUnitInfo [name: itcmedbr_PU]\n12:27:44,235 INFO  [org.jboss.weld.deployer] (MSC service thread 1-1) WFLYWELD0003: Processing weld deployment itcmedbr.war\n12:27:44,310 WARN  [org.hibernate.orm.deprecation] (ServerService Thread Pool -- 368) HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\n12:27:49,603 WARN  [org.wildfly.extension.microprofile.opentracing] (MSC service thread 1-1) WFLYTRACEXT0012: No Jaeger endpoint or sender-binding configured. Installing a no-op sender\n12:27:50,027 INFO  [io.jaegertracing.internal.JaegerTracer] (MSC service thread 1-1) No shutdown hook registered: Please call close() manually on application shutdown.\n12:27:50,031 INFO  [org.wildfly.microprofile.opentracing.smallrye] (MSC service thread 1-1) WFLYTRAC0001: Tracer initialized: JaegerTracer(version=Java-1.6.0, serviceName=itcmedbr.war, reporter=RemoteReporter(sender=NoopSender(), closeEnqueueTimeout=1000), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=DESKTOP-MOJECP9, jaeger.version=Java-1.6.0, ip=192.168.100.128}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)\n12:27:50,571 INFO  [org.jipijapa] (MSC service thread 1-1) JIPIORMV6020260: Second level cache enabled for itcmedbr.war#itcmedbr_PU\n12:27:53,256 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 368) WFLYJPA0010: Starting Persistence Unit (phase 2 of 2) Service 'itcmedbr.war#itcmedbr_PU'\n12:27:58,228 INFO  [SQL dialect] (ServerService Thread Pool -- 368) HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\n12:27:58,469 INFO  [org.hibernate.envers.boot.internal.EnversServiceImpl] (ServerService Thread Pool -- 368) Envers integration enabled? : true\n12:28:13,467 INFO  [jakarta.enterprise.resource.webcontainer.faces.config] (ServerService Thread Pool -- 374) Inicializando Mojarra 4.0.0.SP01 para o contexto '/itcmedbr'\n12:28:16,760 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 374) WFLYUT0021: Registered web context: '/itcmedbr' for server 'default-server'\n12:28:19,771 INFO  [org.jboss.as.server] (External Management Request Threads -- 3) WFLYSRV0016: Replaced deployment &quot;itcmedbr.war&quot; with deployment &quot;itcmedbr.war&quot;\n12:28:19,876 INFO  [org.jboss.as.repository] (External Management Request Threads -- 3) WFLYDR0002: Content removed from location C:\\Users\\Ilo Gabriel\\eclipse-workspace\\wildfly-27.0.1.Final\\standalone\\data\\content\\4b\\8235b8df8a07215e3d92a6db457afc96d062f5\\content\n\n</code></pre>\n<p>My datasource in standalone.xml:</p>\n<pre><code>&lt;datasource jndi-name=&quot;java:jboss/MySqlDS&quot; pool-name=&quot;MySqlDS&quot;&gt;\n                    &lt;connection-url&gt;jdbc:mysql://localhost:3306/db_medical&lt;/connection-url&gt;\n                    &lt;driver-class&gt;com.mysql.cj.jdbc.Driver&lt;/driver-class&gt;\n                    &lt;driver&gt;mysql&lt;/driver&gt;\n                    &lt;security&gt;\n                        &lt;user-name&gt;root&lt;/user-name&gt;\n                        &lt;password&gt;root&lt;/password&gt;\n                    &lt;/security&gt;\n                    &lt;validation&gt;\n                        &lt;valid-connection-checker class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLValidConnectionChecker&quot;/&gt;\n                        &lt;validate-on-match&gt;true&lt;/validate-on-match&gt;\n                        &lt;background-validation&gt;false&lt;/background-validation&gt;\n                        &lt;exception-sorter class-name=&quot;org.jboss.jca.adapters.jdbc.extensions.mysql.MySQLExceptionSorter&quot;/&gt;\n                    &lt;/validation&gt;\n                &lt;/datasource&gt;\n</code></pre>\n<p>driver:</p>\n<pre><code>&lt;driver name=&quot;mysql&quot; module=&quot;com.mysql&quot;&gt;\n      &lt;driver-class&gt;com.mysql.cj.jdbc.Driver&lt;/driver-class&gt;\n      &lt;xa-datasource-class&gt;com.mysql.cj.jdbc.MysqlXADataSource&lt;/xa-datasource-class&gt;\n&lt;/driver&gt;\n</code></pre>\n<p>I configured my datasource by HAL Management Console.\npersistence.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; \n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\n                                 http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n  &lt;persistence-unit name=&quot;itcmedbr_PU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n    &lt;jta-data-source&gt;java:jboss/MySqlDS&lt;/jta-data-source&gt;\n    &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n    &lt;properties&gt;      \n      &lt;!-- Configurações específicas do Hibernate --&gt;\n      &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\n      &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n      &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\n      &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\n    &lt;/properties&gt;\n  &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>Method to read data in MySQL:</p>\n<pre><code>public Usuarios_DAO_W1 getLoginW1(String Nome, String Senha, String CNPJ) throws Exception\n    {\n        String ListarLogin = &quot;SELECT * &quot; + \n                &quot;FROM Tabela_Profissional_Medico WHERE Apelido = ? &quot; +\n                &quot;AND Senha = ? AND CNPJ = ?&quot;;\n        \n        Connection conectar = null;\n        PreparedStatement pstm = null;\n        ResultSet rs = null;\n        System.out.println(&quot;PacientesDAO chamando conectar DB...&quot;);\n        System.out.println(&quot;Nome: &quot; + Nome);\n        \n        pstm = conectar.prepareStatement(ListarLogin);\n        \n        pstm.setString(1, Nome);\n        pstm.setString(2, Senha);\n        pstm.setString(3, CNPJ);\n        \n        rs = pstm.executeQuery();\n        \n        Usuarios_DAO_W1 constpaciente = new Usuarios_DAO_W1();\n        \n        if (rs.next())                \n        {            \n            constpaciente.setNome(rs.getString(&quot;Nome&quot;));\n            constpaciente.setApelido(rs.getString(&quot;Apelido&quot;));\n            constpaciente.setCoren(rs.getString(&quot;Coren&quot;));\n            constpaciente.setCremerj(rs.getString(&quot;Cremerj&quot;));\n            constpaciente.setSenha(rs.getString(&quot;Senha&quot;));\n            constpaciente.setTipo(rs.getString(&quot;Tipo&quot;));\n                \n        }else\n        {   \n            System.out.println(&quot;Senha invalida....&quot;);\n            response.setContentType(&quot;text/html&quot;);\n            PrintWriter out = response.getWriter();\n            out.println(&quot;&lt;!DOCTYPE html&gt;&quot;);\n            out.println(&quot;&lt;html&gt;&quot;);\n            out.println(&quot;&lt;head&gt;&quot;);\n            out.println(&quot;&lt;title&gt;Servlet NewServlet&lt;/title&gt;&quot;);            \n            out.println(&quot;&lt;/head&gt;&quot;);\n            out.println(&quot;&lt;body&gt;&quot;);\n            out.println(&quot;&lt;br&gt;&quot;);\n            out.println(&quot;&lt;h1&gt;PacientesDAO - Usuário ou senha invalido!&lt;/h1&gt;&quot;);\n            out.println(&quot;&lt;/body&gt;&quot;);\n            out.println(&quot;&lt;/html&gt;&quot;);\n            out.close();\n        }\n        \n        return constpaciente;\n    }\n</code></pre>\n<p>I must to say that this is my first time that I use wildfly server to read mysql data.\nThanks in advance.</p>\n"},{"tags":["java","scala","cryptography","libsodium"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1697478007,"post_id":77302719,"comment_id":136282202,"body_markdown":"When it&#39;s different, what is the difference? This might help understand what&#39;s going on.","body":"When it&#39;s different, what is the difference? This might help understand what&#39;s going on."},{"owner":{"account_id":1938023,"reputation":565,"user_id":1744975,"display_name":"lior"},"score":0,"creation_date":1697485910,"post_id":77302719,"comment_id":136283368,"body_markdown":"Sorry maybe I wasn&#39;t clear - by &quot;different&quot; I mean the decryption fails, the call to `cryptoSecretBoxOpenEasy` returns `false` and doesn&#39;t update the `message` variable. I&#39;ll also edit the question.","body":"Sorry maybe I wasn&#39;t clear - by &quot;different&quot; I mean the decryption fails, the call to <code>cryptoSecretBoxOpenEasy</code> returns <code>false</code> and doesn&#39;t update the <code>message</code> variable. I&#39;ll also edit the question."}],"answers":[{"tags":[],"owner":{"account_id":1938023,"reputation":565,"user_id":1744975,"display_name":"lior"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697488699,"creation_date":1697488699,"answer_id":77304830,"question_id":77302719,"body_markdown":"I found the issue: according to the docs, the secret key used for encryption must be 32 bytes (256 bits) long. In my tests I used dummy keys that did not meet this requirements which causes unexpected behavior.","title":"Decryption doesn&#39;t succeed consistently when decrypting a message with the same parameters using cryptoSecretBoxOpenEasy (lazysodium-java)","body":"<p>I found the issue: according to the docs, the secret key used for encryption must be 32 bytes (256 bits) long. In my tests I used dummy keys that did not meet this requirements which causes unexpected behavior.</p>\n"}],"owner":{"account_id":1938023,"reputation":565,"user_id":1744975,"display_name":"lior"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77304830,"answer_count":1,"score":0,"last_activity_date":1697488699,"creation_date":1697465705,"question_id":77302719,"body_markdown":"I&#39;ve been using `lazysodium-java` (a wrapper for `libsodium`) to encrypt/decrypt certain information. I noticed some inconsistent behavior and created a test and found that indeed, for the same input, I will sometimes get a failure to decrypt an encrypted message. I am wondering if I am somehow using the library wrong? As far as I can tell, it should be consistent and thread-safe.\r\n\r\nHere&#39;s an example of a test that reproduces the issue (Scala), fails at different iterations (`i`) each time (when `cryptoSecretBoxOpenEasy` fails it returns false and doesn&#39;t update the given message):\r\n\r\n```\r\ntest(&quot;Decrypt you fool&quot;) {\r\n    // encrypt a message\r\n    val nonceSize = SecretBoxModule.NONCEBYTES\r\n    val secret = SecretKey(&quot;secret&quot;)\r\n    val nonce = lazySodium.nonce(nonceSize)\r\n    val secretMessage = &quot;catcher&quot;\r\n    val messageToEncrypt = secretMessage.getBytes(StandardCharsets.UTF_8)\r\n    val cipher = new Array[Byte](messageToEncrypt.length + SecretBoxModule.MACBYTES)\r\n    lazySodium.cryptoSecretBoxEasy(cipher, messageToEncrypt, messageToEncrypt.length, nonce, secret.keyBytes)\r\n    val encrypted = nonce ++ cipher \r\n\r\n    // loop 1000 times to decrypt message\r\n    for (i &lt;- 1 to 1000) {\r\n      println(s&quot;Running $i&quot;)\r\n\r\n      val message = new Array[Byte](encrypted.length - SecretBoxModule.MACBYTES - nonceSize)\r\n      val (nonce, cipherText) = encrypted.splitAt(nonceSize)\r\n      secretBoxModule.cryptoSecretBoxOpenEasy(message, cipherText, cipherText.length, nonce, secret.keyBytes)\r\n      val response = new String(message, StandardCharsets.UTF_8)\r\n\r\n      scala.Predef.assert(response == secretMessage)\r\n    }\r\n    assertCompletes\r\n  \r\n}\r\n```\r\n\r\nAny idea why the inconsistent decryption behavior?\r\n\r\nI expected this to consistently decrypt my message successfully, but it actually fails every once in a while, despite the input not changing.","title":"Decryption doesn&#39;t succeed consistently when decrypting a message with the same parameters using cryptoSecretBoxOpenEasy (lazysodium-java)","body":"<p>I've been using <code>lazysodium-java</code> (a wrapper for <code>libsodium</code>) to encrypt/decrypt certain information. I noticed some inconsistent behavior and created a test and found that indeed, for the same input, I will sometimes get a failure to decrypt an encrypted message. I am wondering if I am somehow using the library wrong? As far as I can tell, it should be consistent and thread-safe.</p>\n<p>Here's an example of a test that reproduces the issue (Scala), fails at different iterations (<code>i</code>) each time (when <code>cryptoSecretBoxOpenEasy</code> fails it returns false and doesn't update the given message):</p>\n<pre><code>test(&quot;Decrypt you fool&quot;) {\n    // encrypt a message\n    val nonceSize = SecretBoxModule.NONCEBYTES\n    val secret = SecretKey(&quot;secret&quot;)\n    val nonce = lazySodium.nonce(nonceSize)\n    val secretMessage = &quot;catcher&quot;\n    val messageToEncrypt = secretMessage.getBytes(StandardCharsets.UTF_8)\n    val cipher = new Array[Byte](messageToEncrypt.length + SecretBoxModule.MACBYTES)\n    lazySodium.cryptoSecretBoxEasy(cipher, messageToEncrypt, messageToEncrypt.length, nonce, secret.keyBytes)\n    val encrypted = nonce ++ cipher \n\n    // loop 1000 times to decrypt message\n    for (i &lt;- 1 to 1000) {\n      println(s&quot;Running $i&quot;)\n\n      val message = new Array[Byte](encrypted.length - SecretBoxModule.MACBYTES - nonceSize)\n      val (nonce, cipherText) = encrypted.splitAt(nonceSize)\n      secretBoxModule.cryptoSecretBoxOpenEasy(message, cipherText, cipherText.length, nonce, secret.keyBytes)\n      val response = new String(message, StandardCharsets.UTF_8)\n\n      scala.Predef.assert(response == secretMessage)\n    }\n    assertCompletes\n  \n}\n</code></pre>\n<p>Any idea why the inconsistent decryption behavior?</p>\n<p>I expected this to consistently decrypt my message successfully, but it actually fails every once in a while, despite the input not changing.</p>\n"},{"tags":["java","spring","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":1032762,"reputation":682,"user_id":1040740,"accept_rate":62,"display_name":"javatestcase"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1321403230,"creation_date":1321403230,"answer_id":8145108,"question_id":8142937,"body_markdown":"Unfortunately I think the answer is no.  It seems like the capability could be there...  They have configurable file templates, but AFAIK the templates are locking into the create menu, which means one file at a time.\r\n\r\nWhat you are suggesting is very possible with Velocity or Freemarker (or any other template engine.)  You should be able to find examples out there that do what you are looking for by searching with those tool names.\r\n\r\nFinally this is another topic, but I&#39;ll just suggest that if you find yourself doing a lot of repetitive code.  Maybe there is another way to setup up your project (annotations, dependency injection) or another framework (Hibernate w Seam or JPA + EJB) that might be easier for what you are trying to do.  Worth investigating.","title":"Does IntelliJ support any kind of templating to create multiple files automatically?","body":"<p>Unfortunately I think the answer is no.  It seems like the capability could be there...  They have configurable file templates, but AFAIK the templates are locking into the create menu, which means one file at a time.</p>\n\n<p>What you are suggesting is very possible with Velocity or Freemarker (or any other template engine.)  You should be able to find examples out there that do what you are looking for by searching with those tool names.</p>\n\n<p>Finally this is another topic, but I'll just suggest that if you find yourself doing a lot of repetitive code.  Maybe there is another way to setup up your project (annotations, dependency injection) or another framework (Hibernate w Seam or JPA + EJB) that might be easier for what you are trying to do.  Worth investigating.</p>\n"},{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1321403563,"creation_date":1321403563,"answer_id":8145157,"question_id":8142937,"body_markdown":"Code generation is surprisingly easy, and IMO is  best left out of the IDE equation. If you see an opportunity, create a quick tool using Velocity, FreeMarker, or J. Random templating solution until you figure out a better long-term solution, or it becomes unnecessary.\r\n\r\nAlso consider simple generics; it&#39;s often enough.","title":"Does IntelliJ support any kind of templating to create multiple files automatically?","body":"<p>Code generation is surprisingly easy, and IMO is  best left out of the IDE equation. If you see an opportunity, create a quick tool using Velocity, FreeMarker, or J. Random templating solution until you figure out a better long-term solution, or it becomes unnecessary.</p>\n\n<p>Also consider simple generics; it's often enough.</p>\n"},{"tags":[],"owner":{"account_id":3169,"reputation":24414,"user_id":4510,"display_name":"Bas Leijdekkers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697488555,"creation_date":1618410302,"answer_id":67093617,"question_id":8142937,"body_markdown":"Since IntelliJ IDEA 2020.3 [File templates for multiple files][1] can be created. By specifying directories in the different file names, it is possible to create different files in different directories as well.\r\n\r\n[1]: https://www.jetbrains.com/help/idea/templates-with-multiple-files.html","title":"Does IntelliJ support any kind of templating to create multiple files automatically?","body":"<p>Since IntelliJ IDEA 2020.3 <a href=\"https://www.jetbrains.com/help/idea/templates-with-multiple-files.html\" rel=\"nofollow noreferrer\">File templates for multiple files</a> can be created. By specifying directories in the different file names, it is possible to create different files in different directories as well.</p>\n"}],"owner":{"account_id":446427,"reputation":9321,"user_id":839471,"accept_rate":69,"display_name":"codecompleting"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1088,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1697488555,"creation_date":1321390095,"question_id":8142937,"body_markdown":"So I have a spring mvc application, and I am noticing there is allot of repetitive code I am doing (I&#39;m newish to both java/spring).\r\n\r\nEach time I create a new entity I have to create the following files:\r\n\r\n    Entity\r\n    EntityDao\r\n    EntityDaoImpl\r\n    EntityService\r\n    EntityServiceImpl\r\n\r\nAll of the files except for the Entity.java file (say User.java or Product.java etc) are pretty much something that could be automatically generated.\r\n\r\nIs there anything out there that can help generate these files (in the correct folders)?\r\n","title":"Does IntelliJ support any kind of templating to create multiple files automatically?","body":"<p>So I have a spring mvc application, and I am noticing there is allot of repetitive code I am doing (I'm newish to both java/spring).</p>\n\n<p>Each time I create a new entity I have to create the following files:</p>\n\n<pre><code>Entity\nEntityDao\nEntityDaoImpl\nEntityService\nEntityServiceImpl\n</code></pre>\n\n<p>All of the files except for the Entity.java file (say User.java or Product.java etc) are pretty much something that could be automatically generated.</p>\n\n<p>Is there anything out there that can help generate these files (in the correct folders)?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1697483093,"post_id":77304361,"comment_id":136282957,"body_markdown":"In your case it may be easier to strip the trailing space(s) instead: https://stackoverflow.com/questions/16974267/how-to-remove-only-trailing-spaces-of-a-string-in-java-and-keep-leading-spaces","body":"In your case it may be easier to strip the trailing space(s) instead: <a href=\"https://stackoverflow.com/questions/16974267/how-to-remove-only-trailing-spaces-of-a-string-in-java-and-keep-leading-spaces\" title=\"how to remove only trailing spaces of a string in java and keep leading spaces\">stackoverflow.com/questions/16974267/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7532601,"reputation":474,"user_id":5720155,"display_name":"ehsan maddahi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697484253,"creation_date":1697483616,"answer_id":77304434,"question_id":77304361,"body_markdown":"You can use `StringBuilder` and append if the variable isn&#39;t null, Suppose getHouseNumberExtension() can be null, So You can rewrite it by bellow code:\r\n```\r\npublic String getFullStreetName() {\r\n    StringBuilder result = new StringBuilder(getStreetName() + &quot; &quot; + getHousenumber());\r\n    return getHouseNumberExtension() == null ? result.toString() : result.append(&quot; &quot;).append(getHouseNumberExtension()).toString();\r\n}\r\n```\r\nSoppose getHouseNumberExtension() can be null or empty string, To validate more cleanly use `commons-lang3`. to import it in the gradle project add `implementation(&quot;org.apache.commons:commons-lang3:version&quot;)` and rewrite it to bellow code.\r\n```\r\npublic String getFullStreetName() {\r\n    StringBuilder result = new StringBuilder(getStreetName() + &quot; &quot; + getHousenumber());\r\n    return StringUtils.isNoneBlank(getHouseNumberExtension()) \r\n           ? result.toString() \r\n           : result.append(&quot; &quot;).append(getHouseNumberExtension()).toString();\r\n}\r\n```","title":"Concat multiple String getters","body":"<p>You can use <code>StringBuilder</code> and append if the variable isn't null, Suppose getHouseNumberExtension() can be null, So You can rewrite it by bellow code:</p>\n<pre><code>public String getFullStreetName() {\n    StringBuilder result = new StringBuilder(getStreetName() + &quot; &quot; + getHousenumber());\n    return getHouseNumberExtension() == null ? result.toString() : result.append(&quot; &quot;).append(getHouseNumberExtension()).toString();\n}\n</code></pre>\n<p>Soppose getHouseNumberExtension() can be null or empty string, To validate more cleanly use <code>commons-lang3</code>. to import it in the gradle project add <code>implementation(&quot;org.apache.commons:commons-lang3:version&quot;)</code> and rewrite it to bellow code.</p>\n<pre><code>public String getFullStreetName() {\n    StringBuilder result = new StringBuilder(getStreetName() + &quot; &quot; + getHousenumber());\n    return StringUtils.isNoneBlank(getHouseNumberExtension()) \n           ? result.toString() \n           : result.append(&quot; &quot;).append(getHouseNumberExtension()).toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":442668,"reputation":1431,"user_id":833399,"accept_rate":75,"display_name":"Knight Industries"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697488397,"creation_date":1697488397,"answer_id":77304807,"question_id":77304361,"body_markdown":"I would put the individual components into a stream, filter them, and ultimately join them into a string:\r\n\r\n```java\r\npublic String getFullStreetName() {\r\n  return Stream.of(getStreetName(), getHousenumber(), getHouseNumberExtension())\r\n      .filter(str -&gt; str != null &amp;&amp; !str.isEmpty())\r\n      .collect(Collectors.joining(&quot; &quot;));\r\n}\r\n```","title":"Concat multiple String getters","body":"<p>I would put the individual components into a stream, filter them, and ultimately join them into a string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getFullStreetName() {\n  return Stream.of(getStreetName(), getHousenumber(), getHouseNumberExtension())\n      .filter(str -&gt; str != null &amp;&amp; !str.isEmpty())\n      .collect(Collectors.joining(&quot; &quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":23528448,"reputation":55,"user_id":17574545,"display_name":"mariodelta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77304807,"answer_count":2,"score":0,"last_activity_date":1697488397,"creation_date":1697482734,"question_id":77304361,"body_markdown":"Currently I&#39;m trying to concat multiple String getters from a DTO.\r\n\r\nFor example I have created a getter for the `FullStreetName` (This includes Street name, house number and if exists the house number extension)\r\n```java\r\npublic String getFullStreetName() {\r\n    return getStreetName() + &quot; &quot; + getHousenumber() + &quot; &quot; + getHouseNumberExtension();\r\n}\r\n```\r\n\r\nThe problem with this approach is that the `FullStreetName` has a weird space at the end if `GetHouseNumberExtension` is `null`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jmpbx.png\r\n\r\nWhat&#39;s the best approach to concat multiple strings if one value can be possible `null`?","title":"Concat multiple String getters","body":"<p>Currently I'm trying to concat multiple String getters from a DTO.</p>\n<p>For example I have created a getter for the <code>FullStreetName</code> (This includes Street name, house number and if exists the house number extension)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getFullStreetName() {\n    return getStreetName() + &quot; &quot; + getHousenumber() + &quot; &quot; + getHouseNumberExtension();\n}\n</code></pre>\n<p>The problem with this approach is that the <code>FullStreetName</code> has a weird space at the end if <code>GetHouseNumberExtension</code> is <code>null</code></p>\n<p><a href=\"https://i.stack.imgur.com/Jmpbx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jmpbx.png\" alt=\"enter image description here\" /></a></p>\n<p>What's the best approach to concat multiple strings if one value can be possible <code>null</code>?</p>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":620,"reputation":157519,"user_id":811,"display_name":"Shog9"},"score":4,"creation_date":1319476360,"post_id":7869911,"comment_id":9614865,"body_markdown":"Related: http://stackoverflow.com/questions/1348080/convert-a-positive-number-to-negative-in-c-sharp and http://stackoverflow.com/questions/5213338/fastest-way-to-flip-the-sign-of-a-double-float-in-c and http://stackoverflow.com/questions/4866187/how-to-flip-the-sign-of-an-integer-value-using-some-constant-and-operators-wit","body":"Related: <a href=\"http://stackoverflow.com/questions/1348080/convert-a-positive-number-to-negative-in-c-sharp\" title=\"convert a positive number to negative in c sharp\">stackoverflow.com/questions/1348080/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/5213338/fastest-way-to-flip-the-sign-of-a-double-float-in-c\" title=\"fastest way to flip the sign of a double float in c\">stackoverflow.com/questions/5213338/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/4866187/how-to-flip-the-sign-of-an-integer-value-using-some-constant-and-operators-wit\" title=\"how to flip the sign of an integer value using some constant and operators wit\">stackoverflow.com/questions/4866187/&hellip;</a>"},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1586128946,"post_id":7869911,"comment_id":108006552,"body_markdown":"int x = 5; x = -x;","body":"int x = 5; x = -x;"}],"answers":[{"comments":[{"owner":{"account_id":894953,"reputation":2348,"user_id":932440,"accept_rate":76,"display_name":"Gandalf"},"score":3,"creation_date":1319459465,"post_id":7869920,"comment_id":9609645,"body_markdown":"@pst No it won&#39;t. At least not with JDK 1.6.0_11 ;D","body":"@pst No it won&#39;t. At least not with JDK 1.6.0_11 ;D"},{"owner":{"account_id":1851442,"reputation":632,"user_id":1677920,"display_name":"drrob"},"score":15,"creation_date":1439814573,"post_id":7869920,"comment_id":52000167,"body_markdown":"For me the wrong answer has been accepted. It is a valid answer, but given that the OP is asking to change sign of an int, so there is no concern about negative zero or other concepts, I would suggest x = -x is more expressive (see EJP&#39;s answer below)...","body":"For me the wrong answer has been accepted. It is a valid answer, but given that the OP is asking to change sign of an int, so there is no concern about negative zero or other concepts, I would suggest x = -x is more expressive (see EJP&#39;s answer below)..."},{"owner":{"account_id":1851442,"reputation":632,"user_id":1677920,"display_name":"drrob"},"score":1,"creation_date":1439821458,"post_id":7869920,"comment_id":52004734,"body_markdown":"Addendum to previous comment: see also Bohemian&#39;s answer as it explains the unary operator in more detail","body":"Addendum to previous comment: see also Bohemian&#39;s answer as it explains the unary operator in more detail"},{"owner":{"account_id":471956,"reputation":26750,"user_id":880096,"accept_rate":100,"display_name":"FailedDev"},"score":0,"creation_date":1439852165,"post_id":7869920,"comment_id":52020567,"body_markdown":"@drrob You do realize that any decent compiler will anyway use x = -x right?","body":"@drrob You do realize that any decent compiler will anyway use x = -x right?"},{"owner":{"account_id":1851442,"reputation":632,"user_id":1677920,"display_name":"drrob"},"score":1,"creation_date":1439894035,"post_id":7869920,"comment_id":52036731,"body_markdown":"@FailedDev sure, but I said it is more expressive (not better for performance)","body":"@FailedDev sure, but I said it is more expressive (not better for performance)"},{"owner":{"account_id":337916,"reputation":107,"user_id":666469,"display_name":"vinicius.hisao"},"score":3,"creation_date":1584965950,"post_id":7869920,"comment_id":107594621,"body_markdown":"this answer is not correct. int has the minimum value of -2^31 and a maximum value of 2^31-1 which means that in the particular case when you need to convert Integer.MIN_VALUE this will NOT work and also will not throw an exception (what I think it is really bad)","body":"this answer is not correct. int has the minimum value of -2^31 and a maximum value of 2^31-1 which means that in the particular case when you need to convert Integer.MIN_VALUE this will NOT work and also will not throw an exception (what I think it is really bad)"}],"tags":[],"owner":{"account_id":471956,"reputation":26750,"user_id":880096,"accept_rate":100,"display_name":"FailedDev"},"comment_count":6,"down_vote_count":3,"up_vote_count":285,"is_accepted":true,"score":282,"last_activity_date":1319411268,"creation_date":1319411268,"answer_id":7869920,"question_id":7869911,"body_markdown":"What about `x *= -1;` ? Do you really want a library function for this?","title":"Java math function to convert positive int to negative and negative to positive?","body":"<p>What about <code>x *= -1;</code> ? Do you really want a library function for this?</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":1,"up_vote_count":57,"is_accepted":false,"score":56,"last_activity_date":1405899855,"creation_date":1319411282,"answer_id":7869922,"question_id":7869911,"body_markdown":"Just use the *unary minus operator*:\r\n\r\n    int x = 5;\r\n    ...\r\n    x = -x; // Here&#39;s the mystery library function - the single character &quot;-&quot;\r\n\r\nJava has *two* minus [operators](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html):\r\n\r\n- the familiar *arithmetic* version (eg `0 - x`), and\r\n- the *unary minus operation* (used here), which negates the (single) operand\r\n\r\nThis compiles and works as expected.\r\n","title":"Java math function to convert positive int to negative and negative to positive?","body":"<p>Just use the <em>unary minus operator</em>:</p>\n\n<pre><code>int x = 5;\n...\nx = -x; // Here's the mystery library function - the single character \"-\"\n</code></pre>\n\n<p>Java has <em>two</em> minus <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op1.html\" rel=\"noreferrer\">operators</a>:</p>\n\n<ul>\n<li>the familiar <em>arithmetic</em> version (eg <code>0 - x</code>), and</li>\n<li>the <em>unary minus operation</em> (used here), which negates the (single) operand</li>\n</ul>\n\n<p>This compiles and works as expected.</p>\n"},{"comments":[{"owner":{"account_id":2115201,"reputation":4935,"user_id":1879686,"accept_rate":56,"display_name":"rdllopes"},"score":8,"creation_date":1457960812,"post_id":7869935,"comment_id":59629134,"body_markdown":"This does not work in the case where x = Integer.MIN_VALUE and will silently fail*. To be safe, you should check for this case and throw an exception, or use the library function negateExact, which does exactly that.","body":"This does not work in the case where x = Integer.MIN_VALUE and will silently fail*. To be safe, you should check for this case and throw an exception, or use the library function negateExact, which does exactly that."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1458001121,"post_id":7869935,"comment_id":59653556,"body_markdown":"@rdllopes The same applies to practically every answer here.","body":"@rdllopes The same applies to practically every answer here."},{"owner":{"account_id":8506,"reputation":1961,"user_id":15379,"accept_rate":60,"display_name":"Dave Griffiths"},"score":0,"creation_date":1487068477,"post_id":7869935,"comment_id":71607378,"body_markdown":"Note though that it won&#39;t compile if x is short or byte, whereas `x *= -1` will. Was a bit surprised when I discovered that which is how I came across this page :) Of course you can cast, but I was auto-generating code where x could be byte, short, int or long...","body":"Note though that it won&#39;t compile if x is short or byte, whereas <code>x *= -1</code> will. Was a bit surprised when I discovered that which is how I came across this page :) Of course you can cast, but I was auto-generating code where x could be byte, short, int or long..."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1488151599,"post_id":7869935,"comment_id":72091583,"body_markdown":"@DaveGriffiths You were autogenerating code to change the sign of a variable?","body":"@DaveGriffiths You were autogenerating code to change the sign of a variable?"},{"owner":{"account_id":8506,"reputation":1961,"user_id":15379,"accept_rate":60,"display_name":"Dave Griffiths"},"score":0,"creation_date":1488269265,"post_id":7869935,"comment_id":72144503,"body_markdown":"Yeah - parsing something where the sign appears after the number :)","body":"Yeah - parsing something where the sign appears after the number :)"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1629886838,"post_id":7869935,"comment_id":121803803,"body_markdown":"@rdllopes In fact it applies to every possible answer. When `x == `Integer.MIN_VALUE` *there is no solution.*","body":"@rdllopes In fact it applies to every possible answer. When <code>x == </code>Integer.MIN_VALUE` <i>there is no solution.</i>"},{"owner":{"account_id":2115201,"reputation":4935,"user_id":1879686,"accept_rate":56,"display_name":"rdllopes"},"score":0,"creation_date":1629905192,"post_id":7869935,"comment_id":121812149,"body_markdown":"Well, I provided the safe solution. Now, noticed that I just gave a comment for one corner case. As programmers we should have that in mind if the problem might fall in that case. Otherwise, your solution is really good.","body":"Well, I provided the safe solution. Now, noticed that I just gave a comment for one corner case. As programmers we should have that in mind if the problem might fall in that case. Otherwise, your solution is really good."},{"owner":{"account_id":5959111,"reputation":18639,"user_id":4684797,"accept_rate":70,"display_name":"Black"},"score":0,"creation_date":1655391525,"post_id":7869935,"comment_id":128325878,"body_markdown":"And if the value is already negative and he wants to convert it to positive? Then your answer fails.","body":"And if the value is already negative and he wants to convert it to positive? Then your answer fails."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":8,"down_vote_count":5,"up_vote_count":120,"is_accepted":false,"score":115,"last_activity_date":1393117972,"creation_date":1319411370,"answer_id":7869935,"question_id":7869911,"body_markdown":"    x = -x;\r\n\r\nThis is probably the most trivial question I have ever seen anywhere.\r\n\r\n... and why you would call this trivial function &#39;reverse()&#39; is another mystery.","title":"Java math function to convert positive int to negative and negative to positive?","body":"<pre><code>x = -x;\n</code></pre>\n\n<p>This is probably the most trivial question I have ever seen anywhere.</p>\n\n<p>... and why you would call this trivial function 'reverse()' is another mystery.</p>\n"},{"comments":[{"owner":{"account_id":2879629,"reputation":23886,"user_id":2470818,"accept_rate":82,"display_name":"vallentin"},"score":7,"creation_date":1474940942,"post_id":22122229,"comment_id":66727577,"body_markdown":"In reality don&#39;t do this, just do `x = -x`. From an assembly perspective, `-x` is a simple `neg` instruction while `~x` and `++x` requires a `not` and `add` instruction.","body":"In reality don&#39;t do this, just do <code>x = -x</code>. From an assembly perspective, <code>-x</code> is a simple <code>neg</code> instruction while <code>~x</code> and <code>++x</code> requires a <code>not</code> and <code>add</code> instruction."}],"tags":[],"owner":{"account_id":1680496,"reputation":1392,"user_id":1544818,"accept_rate":83,"display_name":"Shivanshu Goyal"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1403637970,"creation_date":1393719394,"answer_id":22122229,"question_id":7869911,"body_markdown":"Another method (2&#39;s complement):\r\n\r\n    public int reverse(int x){\r\n        x~=x;\r\n        x++;\r\n        return x;\r\n    }\r\n\r\nIt does a one&#39;s complement first (by complementing all the bits) and then adds 1 to x. This method does the job as well.\r\n\r\nNote: This method is written in Java, and will be similar to a lot of other languages","title":"Java math function to convert positive int to negative and negative to positive?","body":"<p>Another method (2's complement):</p>\n\n<pre><code>public int reverse(int x){\n    x~=x;\n    x++;\n    return x;\n}\n</code></pre>\n\n<p>It does a one's complement first (by complementing all the bits) and then adds 1 to x. This method does the job as well.</p>\n\n<p>Note: This method is written in Java, and will be similar to a lot of other languages</p>\n"},{"tags":[],"owner":{"account_id":51898,"reputation":79386,"user_id":155077,"accept_rate":78,"display_name":"Stefan Steiger"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1532947109,"creation_date":1407447031,"answer_id":25192585,"question_id":7869911,"body_markdown":"Necromancing here. &lt;br /&gt;\r\nObviously, `x *= -1;` is far too simple.&lt;br /&gt;\r\n&lt;br /&gt;\r\nInstead, we could use a trivial binary complement:\r\n\r\n    number = ~(number - 1) ;\r\n\r\n\r\nLike this:\r\n\r\n\r\n    import java.io.*;\r\n     \r\n    /* Name of the class has to be &quot;Main&quot; only if the class is public. */\r\n    class Ideone\r\n    {\r\n        public static void main (String[] args) throws java.lang.Exception\r\n        {\r\n            int iPositive = 15;\r\n            int iNegative = ( ~(iPositive - 1) ) ; // Use extra brackets when using as C preprocessor directive ! ! !...\r\n            System.out.println(iNegative);\r\n\r\n            iPositive =  ~(iNegative - 1)  ;\r\n            System.out.println(iPositive);\r\n \r\n            iNegative = 0;\r\n            iPositive = ~(iNegative - 1);\r\n            System.out.println(iPositive);\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\nThat way we can ensure that mediocre programmers don&#39;t understand what&#39;s going on ;)","title":"Java math function to convert positive int to negative and negative to positive?","body":"<p>Necromancing here. <br />\nObviously, <code>x *= -1;</code> is far too simple.<br />\n<br />\nInstead, we could use a trivial binary complement:</p>\n\n<pre><code>number = ~(number - 1) ;\n</code></pre>\n\n<p>Like this:</p>\n\n<pre><code>import java.io.*;\n\n/* Name of the class has to be \"Main\" only if the class is public. */\nclass Ideone\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        int iPositive = 15;\n        int iNegative = ( ~(iPositive - 1) ) ; // Use extra brackets when using as C preprocessor directive ! ! !...\n        System.out.println(iNegative);\n\n        iPositive =  ~(iNegative - 1)  ;\n        System.out.println(iPositive);\n\n        iNegative = 0;\n        iPositive = ~(iNegative - 1);\n        System.out.println(iPositive);\n\n\n    }\n}\n</code></pre>\n\n<p>That way we can ensure that mediocre programmers don't understand what's going on ;)</p>\n"},{"comments":[{"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"score":11,"creation_date":1410743074,"post_id":25203989,"comment_id":40427795,"body_markdown":"If you want your code to be robust against this corner case, Java 8 provides [Math.negateExact](http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#negateExact-int-) that will throw an `ArithmeticException` when trying to negate MIN_VALUE, rather than silently returning the wrong result.","body":"If you want your code to be robust against this corner case, Java 8 provides <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#negateExact-int-\" rel=\"nofollow noreferrer\">Math.negateExact</a> that will throw an <code>ArithmeticException</code> when trying to negate MIN_VALUE, rather than silently returning the wrong result."}],"tags":[],"owner":{"account_id":462905,"reputation":7596,"user_id":865481,"display_name":"Salix alba"},"comment_count":1,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1407502290,"creation_date":1407502290,"answer_id":25203989,"question_id":7869911,"body_markdown":"No such function exists or is possible to write.\r\n\r\nThe problem is the edge case Integer.MIN_VALUE (-2,147,483,648 = 0x80000000) apply each of the three methods above and you get the same value out. This is due to the representation of integers and the maximum possible integer Integer.MAX_VALUE (-2,147,483,647 = 0x7fffffff) which is one less what -Integer.MIN_VALUE should be.","title":"Java math function to convert positive int to negative and negative to positive?","body":"<p>No such function exists or is possible to write.</p>\n\n<p>The problem is the edge case Integer.MIN_VALUE (-2,147,483,648 = 0x80000000) apply each of the three methods above and you get the same value out. This is due to the representation of integers and the maximum possible integer Integer.MAX_VALUE (-2,147,483,647 = 0x7fffffff) which is one less what -Integer.MIN_VALUE should be.</p>\n"},{"comments":[{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1697487721,"post_id":27844843,"comment_id":136283636,"body_markdown":"There are other cases where it makes sense to use it, such as if you need the robustness of rejecting overflows.","body":"There are other cases where it makes sense to use it, such as if you need the robustness of rejecting overflows."}],"tags":[],"owner":{"account_id":5595966,"reputation":91,"user_id":4433742,"display_name":"old grouch"},"comment_count":1,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1424641684,"creation_date":1420734304,"answer_id":27844843,"question_id":7869911,"body_markdown":"Yes, as was already noted by [Jeffrey Bosboom][1] (Sorry Jeffrey, I hadn&#39;t noticed your comment when I answered), there is such a function: [Math.negateExact][2].\r\n\r\nand \r\n\r\nNo, you probably shouldn&#39;t be using it.  Not unless you need a [method reference][3].\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3614835/jeffrey-bosboom\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#negateExact-int-\r\n  [3]: http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","title":"Java math function to convert positive int to negative and negative to positive?","body":"<p>Yes, as was already noted by <a href=\"https://stackoverflow.com/users/3614835/jeffrey-bosboom\">Jeffrey Bosboom</a> (Sorry Jeffrey, I hadn't noticed your comment when I answered), there is such a function: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#negateExact-int-\" rel=\"noreferrer\">Math.negateExact</a>.</p>\n\n<p>and </p>\n\n<p>No, you probably shouldn't be using it.  Not unless you need a <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"noreferrer\">method reference</a>.</p>\n"},{"tags":[],"owner":{"account_id":6466352,"reputation":21,"user_id":5008143,"display_name":"lovos"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1451043867,"creation_date":1451043867,"answer_id":34462545,"question_id":7869911,"body_markdown":"You can use the minus operator or Math.abs. These work for all negative integers EXCEPT for Integer.MIN_VALUE!\r\nIf you do 0 - MIN_VALUE the answer is still MIN_VALUE.","title":"Java math function to convert positive int to negative and negative to positive?","body":"<p>You can use the minus operator or Math.abs. These work for all negative integers EXCEPT for Integer.MIN_VALUE!\nIf you do 0 - MIN_VALUE the answer is still MIN_VALUE.</p>\n"},{"tags":[],"owner":{"account_id":7526019,"reputation":79,"user_id":5716171,"display_name":"K.D. Code"},"comment_count":0,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1451063876,"creation_date":1451063876,"answer_id":34464855,"question_id":7869911,"body_markdown":"original *= -1;\r\n\r\nSimple line of code, original is any int you want it to be.","title":"Java math function to convert positive int to negative and negative to positive?","body":"<p>original *= -1;</p>\n\n<p>Simple line of code, original is any int you want it to be.</p>\n"},{"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":4,"creation_date":1510343097,"post_id":47228949,"comment_id":81410690,"body_markdown":"How does this turn `5` into `-5`?","body":"How does this turn <code>5</code> into <code>-5</code>?"},{"owner":{"account_id":245976,"reputation":16453,"user_id":519814,"accept_rate":94,"display_name":"C--"},"score":0,"creation_date":1517564507,"post_id":47228949,"comment_id":84155744,"body_markdown":"May be `var = Math.abs(var) * -1;`","body":"May be <code>var = Math.abs(var) * -1;</code>"},{"owner":{"account_id":3907527,"reputation":15312,"user_id":3233827,"accept_rate":67,"display_name":"ssc-hrep3"},"score":3,"creation_date":1535722908,"post_id":47228949,"comment_id":91184346,"body_markdown":"This is blatantly wrong. `Math.abs()` just removes every `-` sign. It does not invert the sign. Use `-x` or `x * -1` instead.","body":"This is blatantly wrong. <code>Math.abs()</code> just removes every <code>-</code> sign. It does not invert the sign. Use <code>-x</code> or <code>x * -1</code> instead."}],"tags":[],"owner":{"account_id":5022643,"reputation":800,"user_id":4035668,"display_name":"Thiago Ara&#250;jo"},"comment_count":3,"down_vote_count":12,"up_vote_count":8,"is_accepted":false,"score":-4,"last_activity_date":1510338164,"creation_date":1510338164,"answer_id":47228949,"question_id":7869911,"body_markdown":"You can use Math:\r\n\r\n    int x = Math.abs(-5);","title":"Java math function to convert positive int to negative and negative to positive?","body":"<p>You can use Math:</p>\n\n<pre><code>int x = Math.abs(-5);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3771455,"reputation":2954,"user_id":3133518,"accept_rate":71,"display_name":"Jacky"},"score":1,"creation_date":1611029729,"post_id":58894294,"comment_id":116312461,"body_markdown":"somehow I only can think of `* (-1)`, instead of using ` 0 -`. Thanks","body":"somehow I only can think of <code>* (-1)</code>, instead of using ` 0 -`. Thanks"}],"tags":[],"owner":{"account_id":5607420,"reputation":93,"user_id":4441453,"display_name":"Jebjosh"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1573931631,"creation_date":1573931631,"answer_id":58894294,"question_id":7869911,"body_markdown":"The easiest thing to do is 0- the value\r\n\r\nfor instance if int i = 5;\r\n\r\n0-i would give you -5\r\n\r\nand if i was -6;\r\n\r\n0- i would give you 6","title":"Java math function to convert positive int to negative and negative to positive?","body":"<p>The easiest thing to do is 0- the value</p>\n\n<p>for instance if int i = 5;</p>\n\n<p>0-i would give you -5</p>\n\n<p>and if i was -6;</p>\n\n<p>0- i would give you 6</p>\n"},{"tags":[],"owner":{"account_id":5130419,"reputation":716,"user_id":4110823,"accept_rate":22,"display_name":"Emmanuel Loisance"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1586124862,"creation_date":1586124862,"answer_id":61050242,"question_id":7869911,"body_markdown":"In kotlin you can use unaryPlus and unaryMinus\r\n\r\n    input = input.unaryPlus()\r\n\r\nhttps://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/unary-plus.html\r\nhttps://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/unary-minus.html","title":"Java math function to convert positive int to negative and negative to positive?","body":"<p>In kotlin you can use unaryPlus and unaryMinus</p>\n\n<pre><code>input = input.unaryPlus()\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/unary-plus.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/unary-plus.html</a>\n<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/unary-minus.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/unary-minus.html</a></p>\n"},{"tags":[],"owner":{"account_id":22068744,"reputation":464,"user_id":16330119,"display_name":"Aamer"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656890053,"creation_date":1656890053,"answer_id":72850505,"question_id":7869911,"body_markdown":"For converting a negative number to positive. Simply use Math.abs() inbuilt function.\r\n\r\n    int n = -10;\r\n    n = Math.abs(n);\r\n\r\nAll the best! ","title":"Java math function to convert positive int to negative and negative to positive?","body":"<p>For converting a negative number to positive. Simply use Math.abs() inbuilt function.</p>\n<pre><code>int n = -10;\nn = Math.abs(n);\n</code></pre>\n<p>All the best!</p>\n"},{"tags":[],"owner":{"account_id":7242133,"reputation":1472,"user_id":5525384,"accept_rate":33,"display_name":"Paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697487820,"creation_date":1697486133,"answer_id":77304630,"question_id":7869911,"body_markdown":"Adding my 2 cents.\r\n\r\n``` java\r\npublic static int reverse(int value) {\r\n    return Integer.valueOf(0).compareTo(value * value) * value;\r\n}\r\n```\r\n\r\nTip : you can replace `0` with `java.math.BigDecimal.ZERO` or `java.math.BigInteger.ZERO`.\r\n\r\n---\r\n\r\nTo test it (i.e. on tio.run) : \r\n\r\n``` java\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tprint(5);\r\n\t\tprint(-5);\r\n\t}\r\n\r\n    public static int reverse(int value) {\r\n        return Integer.valueOf(0).compareTo(value * value) * value;\r\n    }\r\n\r\n    public static void print(int i) {\r\n        System.out.printf(&quot;\\nReversed %s to %s .&quot;, i, reverse(i));\r\n    }\r\n}\r\n```\r\n\r\nPrints : \r\n\r\n``` sh\r\nReversed 5 to -5 .\r\nReversed -5 to 5 .\r\n```\r\n\r\nProcessing time : 0.106 s.\r\n\r\nInstead of doing the `x` to `-x` thing.\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\t    int x = 5;\r\n        print(x);\r\n        x = -5;\r\n        print(x);\r\n    }\r\n\r\n    public static void print(int i) {\r\n        System.out.printf(&quot;\\nReversed %s to %s .&quot;, i, -i);\r\n    }\r\n}\r\n```\r\n\r\nProcessing time : 0.108 s","title":"Java math function to convert positive int to negative and negative to positive?","body":"<p>Adding my 2 cents.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int reverse(int value) {\n    return Integer.valueOf(0).compareTo(value * value) * value;\n}\n</code></pre>\n<p>Tip : you can replace <code>0</code> with <code>java.math.BigDecimal.ZERO</code> or <code>java.math.BigInteger.ZERO</code>.</p>\n<hr />\n<p>To test it (i.e. on tio.run) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        print(5);\n        print(-5);\n    }\n\n    public static int reverse(int value) {\n        return Integer.valueOf(0).compareTo(value * value) * value;\n    }\n\n    public static void print(int i) {\n        System.out.printf(&quot;\\nReversed %s to %s .&quot;, i, reverse(i));\n    }\n}\n</code></pre>\n<p>Prints :</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Reversed 5 to -5 .\nReversed -5 to 5 .\n</code></pre>\n<p>Processing time : 0.106 s.</p>\n<p>Instead of doing the <code>x</code> to <code>-x</code> thing.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        int x = 5;\n        print(x);\n        x = -5;\n        print(x);\n    }\n\n    public static void print(int i) {\n        System.out.printf(&quot;\\nReversed %s to %s .&quot;, i, -i);\n    }\n}\n</code></pre>\n<p>Processing time : 0.108 s</p>\n"}],"owner":{"account_id":984166,"reputation":991,"user_id":1003109,"accept_rate":100,"display_name":"zippy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262180,"favorite_count":0,"down_vote_count":19,"up_vote_count":99,"accepted_answer_id":7869920,"answer_count":14,"score":80,"last_activity_date":1697487820,"creation_date":1319411163,"question_id":7869911,"body_markdown":"\r\nIs there a Java function to convert a positive int to a negative one and a negative int to a positive one?\r\n\r\nI&#39;m looking for a `reverse` function to perform this conversion:\r\n\r\n    -5  -&gt;  5\r\n     5  -&gt; -5\r\n","title":"Java math function to convert positive int to negative and negative to positive?","body":"<p>Is there a Java function to convert a positive int to a negative one and a negative int to a positive one?</p>\n\n<p>I'm looking for a <code>reverse</code> function to perform this conversion:</p>\n\n<pre><code>-5  -&gt;  5\n 5  -&gt; -5\n</code></pre>\n"},{"tags":["java","eclipse","input","output"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1697485439,"post_id":77304325,"comment_id":136283305,"body_markdown":"There is a _semi-colon_ on line 4.","body":"There is a <i>semi-colon</i> on line 4."},{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":0,"creation_date":1697487479,"post_id":77304325,"comment_id":136283600,"body_markdown":"Are you providing input into the console?","body":"Are you providing input into the console?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1697487969,"post_id":77304325,"comment_id":136283668,"body_markdown":"Works for me as expected. Are you saving file after work(eclipse needs manual saving)? Are you sure the code you wrote is recompiled and you are not running old version?","body":"Works for me as expected. Are you saving file after work(eclipse needs manual saving)? Are you sure the code you wrote is recompiled and you are not running old version?"}],"owner":{"account_id":29686017,"reputation":1,"user_id":22751557,"display_name":"kikyo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697487804,"creation_date":1697482286,"question_id":77304325,"body_markdown":"I am writing a java code that outputs grades and the average, but every time i run the program in eclipse, there&#39;s no output. I don&#39;t know if it&#39;s a problem with eclipse itself or with my code. when i run the code on other sites, it says that there&#39;s a NoSuchElementException error. what am i doing wrong? is there something wrong with the input?\r\n\r\nThe code is below.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Grades {\r\n  ;\r\n\r\n  public static void main(String[] args) {\r\n    char grade;\r\n    \r\n    Scanner scanner = new Scanner(System.in);\r\n    int test1 = scanner.nextInt();\r\n    int test2 = scanner.nextInt();\r\n    int test3 = scanner.nextInt();\r\n\r\n    System.out.println(&quot;Enter your score: &quot;);\r\n    int score = scanner.nextInt();\r\n\r\n    int average = ((test1 + test2 + test3) / 3);\r\n\r\n    if (score &gt;= 90) {\r\n      grade = &#39;A&#39;;\r\n    } else if ((score &gt;= 80) &amp;&amp; (score &lt; 90)) {\r\n      grade = &#39;B&#39;;\r\n    } else if ((score &gt;= 70) &amp;&amp; (score &lt; 80)) {\r\n      grade = &#39;C&#39;;\r\n    } else if ((score &gt;= 60) &amp;&amp; (score &lt; 70)) {\r\n      grade = &#39;D&#39;;\r\n    } else {\r\n      grade = &#39;F&#39;;\r\n    }\r\n\r\n    // Display the test scores.\r\n    System.out.println(&quot;You received test scores of: &quot;);\r\n    System.out.println(&quot;Test 1 - &quot; + test1);\r\n    System.out.println(&quot;Test 2 - &quot; + test2);\r\n    System.out.println(&quot;Test 3 - &quot; + test3);\r\n\r\n    // Display the average test score.\r\n    System.out.println(&quot;Average score: &quot; + average);\r\n\r\n    // Display the letter grade.\r\n    System.out.println(&quot;Letter grade: &quot; + grade);\r\n\r\n    scanner.close();\r\n  }\r\n}\r\n```\r\nI tried changing scanner to input, and it still didn&#39;t work. Later, I attempted to change settings in Eclipse, like the run configuration, so that there would be an input box, but there is still no output whatsoever. the console is completely blank. I definitely think that something is wrong with the scanner, I&#39;m just not sure what.","title":"Producing no output?","body":"<p>I am writing a java code that outputs grades and the average, but every time i run the program in eclipse, there's no output. I don't know if it's a problem with eclipse itself or with my code. when i run the code on other sites, it says that there's a NoSuchElementException error. what am i doing wrong? is there something wrong with the input?</p>\n<p>The code is below.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Grades {\n  ;\n\n  public static void main(String[] args) {\n    char grade;\n    \n    Scanner scanner = new Scanner(System.in);\n    int test1 = scanner.nextInt();\n    int test2 = scanner.nextInt();\n    int test3 = scanner.nextInt();\n\n    System.out.println(&quot;Enter your score: &quot;);\n    int score = scanner.nextInt();\n\n    int average = ((test1 + test2 + test3) / 3);\n\n    if (score &gt;= 90) {\n      grade = 'A';\n    } else if ((score &gt;= 80) &amp;&amp; (score &lt; 90)) {\n      grade = 'B';\n    } else if ((score &gt;= 70) &amp;&amp; (score &lt; 80)) {\n      grade = 'C';\n    } else if ((score &gt;= 60) &amp;&amp; (score &lt; 70)) {\n      grade = 'D';\n    } else {\n      grade = 'F';\n    }\n\n    // Display the test scores.\n    System.out.println(&quot;You received test scores of: &quot;);\n    System.out.println(&quot;Test 1 - &quot; + test1);\n    System.out.println(&quot;Test 2 - &quot; + test2);\n    System.out.println(&quot;Test 3 - &quot; + test3);\n\n    // Display the average test score.\n    System.out.println(&quot;Average score: &quot; + average);\n\n    // Display the letter grade.\n    System.out.println(&quot;Letter grade: &quot; + grade);\n\n    scanner.close();\n  }\n}\n</code></pre>\n<p>I tried changing scanner to input, and it still didn't work. Later, I attempted to change settings in Eclipse, like the run configuration, so that there would be an input box, but there is still no output whatsoever. the console is completely blank. I definitely think that something is wrong with the scanner, I'm just not sure what.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1697489373,"post_id":77304752,"comment_id":136283888,"body_markdown":"Most likely a duplicate of https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it, but I’m afraid your code is a bit convoluted and difficult to follow.  Apparently the `animals` array is initialized in `createAnimal`, which is called from two places.  One of those places is… the getAnimalName method?  (Why does the Animal class contain an `animals` array in the first place?)","body":"Most likely a duplicate of <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\" title=\"what is a nullpointerexception and how do i fix it\">stackoverflow.com/questions/218384/&hellip;</a>, but I’m afraid your code is a bit convoluted and difficult to follow.  Apparently the <code>animals</code> array is initialized in <code>createAnimal</code>, which is called from two places.  One of those places is… the getAnimalName method?  (Why does the Animal class contain an <code>animals</code> array in the first place?)"},{"owner":{"account_id":29686435,"reputation":1,"user_id":22751871,"display_name":"TokenZ"},"score":0,"creation_date":1697490799,"post_id":77304752,"comment_id":136284126,"body_markdown":"@VGR The `createAnimal` in the getAnimalName method is not used (I just used it once for debugging. The `animals` array in the Animal class because it function as a list witch contain all of the animal I create and add","body":"@VGR The <code>createAnimal</code> in the getAnimalName method is not used (I just used it once for debugging. The <code>animals</code> array in the Animal class because it function as a list witch contain all of the animal I create and add"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1697492841,"post_id":77304752,"comment_id":136284401,"body_markdown":"*I tried searching in internet but found nothing.* - you have to be joking. This is the most commonly asked question. You have a null variable. The stack trace tells you which statement is causing the problem. So figure out which variable is null and then fix the problem.","body":"<i>I tried searching in internet but found nothing.</i> - you have to be joking. This is the most commonly asked question. You have a null variable. The stack trace tells you which statement is causing the problem. So figure out which variable is null and then fix the problem."}],"owner":{"account_id":29686435,"reputation":1,"user_id":22751871,"display_name":"TokenZ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697487711,"creation_date":1697487711,"question_id":77304752,"body_markdown":"The full error \r\n```\r\n   Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;javax.swing.JLabel.getY()&quot; because &quot;this.animal.animals[save.Data.selectedAnimal]&quot; is null\r\n\tat AnimatorHandler.FishAnimation.actionPerformed(FishAnimation.java:26)\r\n\tat java.desktop/javax.swing.Timer.fireActionPerformed(Timer.java:311)\r\n\tat java.desktop/javax.swing.Timer$DoPostEvent.run(Timer.java:243)\r\n```\r\n\r\nI don&#39;t understand why when I try to move a method to another class to clean the code, it gives me this error.\r\n\r\nHere it is the class in witch the method works:\r\n\r\n```\r\n   package main;\r\n\r\n   import java.awt.Dimension;\r\n   import java.awt.Graphics;\r\n   import java.awt.Graphics2D;\r\n   import java.awt.event.ActionEvent;\r\n   import java.awt.event.ActionListener;\r\n   import java.io.IOException;\r\n   import java.util.Random;\r\n   \r\n   import javax.swing.JFrame;\r\n   import javax.swing.JLayeredPane;\r\n   import javax.swing.JPanel;\r\n   import javax.swing.Timer;\r\n\r\n   import AnimatorHandler.FishAnimation;\r\n   import data.*;\r\n   import save.Data;\r\n\r\n   public class Screen extends JPanel{\r\n\t\r\n\tResources res = new Resources();\r\n\tBackground background = new Background();\r\n\tGround ground = new Ground();\r\n\tAnimal animal = new Animal(null, null, 0, null, 0, 0);\r\n\tFishAnimation fA = new FishAnimation();\r\n\t\r\n\tint screenSizeX = 1099;\r\n\tint screenSizeY = 735;\r\n\tTimer timer;\r\n\t\r\n\tvoid createWindow() throws IOException {\r\n\t\t\r\n\t\t//CREATION OF THE RESOURCES\r\n\t\tbackground.createBackground();\r\n\t\tground.createGround();\r\n\t\tanimal.createAnimal();\r\n\t\t\r\n\t\t//SETTING OF THE LAYEREDPANE\r\n\t\tJLayeredPane layeredPane = new JLayeredPane();\r\n\t\tlayeredPane.setBounds(0, 0, screenSizeX, screenSizeY);\r\n\t\tlayeredPane.add(background.background[Data.selectedBackground], Integer.valueOf(0));\r\n\t\tlayeredPane.add(ground.ground[Data.selectedGround], Integer.valueOf(1));\r\n\t\tlayeredPane.add(animal.animals[Data.selectedAnimal], Integer.valueOf(2));\r\n\t\tlayeredPane.add(animal.animals[Data.selectedAnimal+1], Integer.valueOf(2));\r\n\t\t   \r\n\t\t//SETTING OF THE FRAME\r\n\t    JFrame frame = new JFrame(&quot;Happy Aquarium&quot;);\r\n\t    frame.add(layeredPane);\r\n\t    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t    frame.setSize(new Dimension(screenSizeX, screenSizeY));\r\n\t    frame.setLayout(null);\r\n\t    frame.setVisible(true);\r\n\t    \r\n\t    //ANIMATION\r\n\t    fA.action();\r\n    }\r\n \t/* If I put the code here the program give me no problem\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\r\n\t}\r\n \t*/\r\n   }\r\n\r\n```\r\nHere it is the new Class:\r\n\r\n\r\n```\r\n   package AnimatorHandler;\r\n\r\n   import java.awt.event.ActionEvent;\r\n   import java.awt.event.ActionListener;\r\n\r\n   import javax.swing.Timer;\r\n\r\n   import data.Animal;\r\n   import save.Data;\r\n\r\n   public class FishAnimation implements ActionListener{\r\n\t\r\n\tAnimal animal = new Animal(null, null, 0, null, 0, 0);\r\n\tTimer timer;\r\n\t\r\n\tpublic void action() {\r\n\t\t  timer = new Timer(1, this);\r\n\t\t  timer.start();\r\n\t\t  \r\n\t\t  \r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\r\n\t\tif(animal.animals[Data.selectedAnimal].getY() &gt;= 260 || animal.animals[Data.selectedAnimal].getY()&lt;-300) {\r\n\t\t\t\r\n\t\t\tanimal.animali[Data.selectedAnimal].setYVelocity(animal.animali[Data.selectedAnimal].getYVelocity() * -1);\r\n\t\t}\r\n\t\t\r\n\t\tif(animal.animals[Data.selectedAnimal].getX() &gt;= 456 || animal.animals[Data.selectedAnimal].getX()&lt;-456) {\r\n\t\t\t\r\n\t\t\tanimal.animali[Data.selectedAnimal].setXVelocity(animal.animali[Data.selectedAnimal].getXVelocity() * -1);\r\n\t\t\t\r\n\t\t}\r\n\t\tanimal.animals[Data.selectedAnimal].setBounds(animal.animals[Data.selectedAnimal].getX() + animal.animali[Data.selectedAnimal].getXVelocity(), animal.animals[Data.selectedAnimal].getY() + animal.animali[Data.selectedAnimal].getYVelocity(), 1083, 696);\r\n\r\n\t\tif(animal.animals[Data.selectedAnimal+1].getY() &gt;= 260 || animal.animals[Data.selectedAnimal+1].getY()&lt;-300) {\r\n\t\t\t\r\n\t\t\tanimal.animali[Data.selectedAnimal+1].setYVelocity(animal.animali[Data.selectedAnimal+1].getYVelocity() * -1);\r\n\t\t}\r\n\t\t\r\n\t\tif(animal.animals[Data.selectedAnimal+1].getX() &gt;= 456 || animal.animals[Data.selectedAnimal+1].getX()&lt;-456) {\r\n\r\n\t\t\tanimal.animali[Data.selectedAnimal+1].setXVelocity(animal.animali[Data.selectedAnimal+1].getXVelocity() * -1);\r\n\t\t\t\r\n\t\t}\r\n\t\tanimal.animals[Data.selectedAnimal+1].setBounds(animal.animals[Data.selectedAnimal+1].getX() + animal.animali[Data.selectedAnimal+1].getXVelocity(), animal.animals[Data.selectedAnimal+1].getY() + animal.animali[Data.selectedAnimal+1].getYVelocity(), 1083, 696);\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n   }\r\n\r\n```\r\n\r\nAnimal Class:\r\n\r\n```\r\n   package data;\r\n\r\n   import java.io.IOException;\r\n   import java.util.Scanner;\r\n\r\n   import javax.swing.ImageIcon;\r\n   import javax.swing.JLabel;\r\n\r\n   import main.Resources;\r\n\r\n   public class Animal {\r\n\t\r\n\tResources res = new Resources();\r\n\tScanner scan = new Scanner(System.in);\r\n\t\r\n\tString name;\r\n\tString description; \r\n\tdouble price;\r\n\tJLabel label;\r\n\tint x = 0;\r\n\tint y = 0;\r\n\tint xVelocity = 1;\r\n\tint yVelocity = 1;\r\n\tpublic JLabel[] animals = new JLabel[2];\r\n\tpublic Animal[] animali = new Animal[2];\r\n\r\n\tpublic int getXVelocity() {\r\n\t\treturn xVelocity;\r\n\t}\r\n\tpublic void setXVelocity(int xVelocity) {\r\n\t\tthis.xVelocity = xVelocity;\r\n\t}\r\n\tpublic int getYVelocity() {\r\n\t\treturn yVelocity;\r\n\t}\r\n\tpublic void setYVelocity(int yVelocity) {\r\n\t\tthis.yVelocity = yVelocity;\r\n\t}\r\n\t\r\n\r\n\t\r\n\tpublic void xyRandomizer() {\r\n\t\t\r\n\t\tx = (int) (Math.random()*((0 + 912)-456));\r\n\t\ty = (int) (Math.random()*((0 + 560)-300)) ;\r\n\t}\r\n\tpublic void xyVelocityChooser() {\r\n\t\t\r\n\t\txVelocity = (int) (Math.random()*((0 + 4)-2));\r\n\t\tyVelocity = (int) (Math.random()*((0 + 4)-2));\r\n\t\tif (xVelocity == 0) {\r\n\t\t\txVelocity = (int) (Math.random()*((0 + 4)-2));\r\n\t\t\txVelocity++;\r\n\t\t}\r\n\t\tif (yVelocity == 0) {\r\n\t\t\tyVelocity = (int) (Math.random()*((0 + 4)-2));\r\n\t\t\tyVelocity++;\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tpublic void createAnimal() throws IOException {\r\n\t\tres.addAnimal();\r\n\t\t\r\n\t\t//CREATING THE FISHES\r\n\t\tJLabel fish_ph = new JLabel(new ImageIcon(res.animal[0]));\r\n\t\txyRandomizer();\r\n\t\txyVelocityChooser();\r\n\t\tfish_ph.setBounds(x,y,1083,696);\r\n\t\tfish_ph.setLayout(null);\r\n\t\tAnimal fishph = new Animal(&quot;PlaceHolder1&quot;, &quot;Is just a PlaceHolder&quot;, 0.5, fish_ph, xVelocity, yVelocity);\r\n\t\tanimals[0] = fish_ph;\r\n\t\tanimali[0] = fishph;\r\n\t\t\r\n\t\tJLabel fish_r_ph = new JLabel(new ImageIcon(res.animal[1]));\r\n\t\txyRandomizer();\r\n\t\txyVelocityChooser();\r\n\t\tfish_r_ph.setBounds(x,y,1083,696);\r\n\t\tfish_ph.setLayout(null);\r\n\t\tAnimal fishph1 = new Animal(&quot;PlaceHolder2&quot;, &quot;Is just a second PlaceHolder&quot;, 0.5, fish_ph, xVelocity, yVelocity);\r\n\t\tanimals[1] = fish_r_ph;\r\n\t\tanimali[1] = fishph1;\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic String getAnimalName() throws IOException {\r\n\t\tcreateAnimal();\r\n\t\tint y=0;\r\n\t\tfor(Animal i : animali) {\r\n\t\t\t\r\n\t\t\tSystem.out.println(y + &quot;)&quot; + i.name);\r\n\t\t\ty++;\r\n\t\t}\r\n\t\treturn &quot;&quot;;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic Animal(String name, String description, double price, JLabel label, int xVelocity, int yVelocity){\r\n\t\tthis.name = name;\r\n\t\tthis.description = description;\r\n\t\tthis.price = price;\r\n\t\tthis.label = label;\r\n\t\tthis.xVelocity = xVelocity;\r\n\t\tthis.yVelocity = yVelocity;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nResources Class:\r\n\r\n```\r\n   package main;\r\n\r\n   import java.awt.image.BufferedImage;\r\n   import java.io.File;\r\n   import java.io.IOException;\r\n\r\n   import javax.imageio.ImageIO;\r\n\r\n   public class Resources {\r\n\t\r\n\t\r\n\tpublic BufferedImage[] background = new BufferedImage[2];\r\n\tpublic BufferedImage[] ground = new BufferedImage[2];\r\n\tpublic BufferedImage[] animal = new BufferedImage[2];\r\n\t\r\n\tpublic void addBackground() throws IOException {\r\n\t\t\r\n\t\t//ASSIGNING OF THE RESOURCES FROM THE TANK FOLDER\r\n\t\tBufferedImage tank_ph = ImageIO.read(new File(&quot;resources/tank/tank_placeholder.png&quot;));\r\n\t\tBufferedImage tank_p_ph = ImageIO.read(new File(&quot;resources/tank/tank_purple_placeholder.png&quot;));\r\n\t\tbackground[0] = tank_ph;\r\n\t\tbackground[1] = tank_p_ph;\r\n\t}\r\n\tpublic void addGround() throws IOException {\r\n\t\t\r\n\t\t//ASSIGNING OF THE RESOURCES FROM THE TERRAINS FOLDER\r\n\t\tBufferedImage terrain_ph = ImageIO.read(new File(&quot;resources/terrains/terrain_placeholder.png&quot;));\r\n\t\tground[0] = terrain_ph;\r\n\t}\r\n\tpublic void addAnimal() throws IOException {\r\n\t\t\r\n\t\t//ASSIGNING OF THE RESOURCES FROM THE FISH FOLDER\r\n\t\tBufferedImage fish_ph = ImageIO.read(new File(&quot;resources/fish/PH/place_holder_left_1.png&quot;));\r\n\t\tanimal[0] = fish_ph;\r\n\t\tBufferedImage fish_r_ph = ImageIO.read(new File(&quot;resources/fish/PHR/place_holder_3.png&quot;));\r\n\t\tanimal[1] = fish_r_ph;\r\n\t}\r\n   }\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI tried searching in internet but found nothing. The only thing I did was cleaning the code, thats all.\r\n\r\nThe thing that is supposed to to is make the fish move on the tank. and I wanted to Take the method out of the Screen class to organize the animation and not make a mess in the screen class","title":"Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;javax.swing.JLabel.getY()&quot;","body":"<p>The full error</p>\n<pre><code>   Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;javax.swing.JLabel.getY()&quot; because &quot;this.animal.animals[save.Data.selectedAnimal]&quot; is null\n    at AnimatorHandler.FishAnimation.actionPerformed(FishAnimation.java:26)\n    at java.desktop/javax.swing.Timer.fireActionPerformed(Timer.java:311)\n    at java.desktop/javax.swing.Timer$DoPostEvent.run(Timer.java:243)\n</code></pre>\n<p>I don't understand why when I try to move a method to another class to clean the code, it gives me this error.</p>\n<p>Here it is the class in witch the method works:</p>\n<pre><code>   package main;\n\n   import java.awt.Dimension;\n   import java.awt.Graphics;\n   import java.awt.Graphics2D;\n   import java.awt.event.ActionEvent;\n   import java.awt.event.ActionListener;\n   import java.io.IOException;\n   import java.util.Random;\n   \n   import javax.swing.JFrame;\n   import javax.swing.JLayeredPane;\n   import javax.swing.JPanel;\n   import javax.swing.Timer;\n\n   import AnimatorHandler.FishAnimation;\n   import data.*;\n   import save.Data;\n\n   public class Screen extends JPanel{\n    \n    Resources res = new Resources();\n    Background background = new Background();\n    Ground ground = new Ground();\n    Animal animal = new Animal(null, null, 0, null, 0, 0);\n    FishAnimation fA = new FishAnimation();\n    \n    int screenSizeX = 1099;\n    int screenSizeY = 735;\n    Timer timer;\n    \n    void createWindow() throws IOException {\n        \n        //CREATION OF THE RESOURCES\n        background.createBackground();\n        ground.createGround();\n        animal.createAnimal();\n        \n        //SETTING OF THE LAYEREDPANE\n        JLayeredPane layeredPane = new JLayeredPane();\n        layeredPane.setBounds(0, 0, screenSizeX, screenSizeY);\n        layeredPane.add(background.background[Data.selectedBackground], Integer.valueOf(0));\n        layeredPane.add(ground.ground[Data.selectedGround], Integer.valueOf(1));\n        layeredPane.add(animal.animals[Data.selectedAnimal], Integer.valueOf(2));\n        layeredPane.add(animal.animals[Data.selectedAnimal+1], Integer.valueOf(2));\n           \n        //SETTING OF THE FRAME\n        JFrame frame = new JFrame(&quot;Happy Aquarium&quot;);\n        frame.add(layeredPane);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(new Dimension(screenSizeX, screenSizeY));\n        frame.setLayout(null);\n        frame.setVisible(true);\n        \n        //ANIMATION\n        fA.action();\n    }\n    /* If I put the code here the program give me no problem\n    @Override\n    public void actionPerformed(ActionEvent e) {\n\n    }\n    */\n   }\n\n</code></pre>\n<p>Here it is the new Class:</p>\n<pre><code>   package AnimatorHandler;\n\n   import java.awt.event.ActionEvent;\n   import java.awt.event.ActionListener;\n\n   import javax.swing.Timer;\n\n   import data.Animal;\n   import save.Data;\n\n   public class FishAnimation implements ActionListener{\n    \n    Animal animal = new Animal(null, null, 0, null, 0, 0);\n    Timer timer;\n    \n    public void action() {\n          timer = new Timer(1, this);\n          timer.start();\n          \n          \n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n\n        if(animal.animals[Data.selectedAnimal].getY() &gt;= 260 || animal.animals[Data.selectedAnimal].getY()&lt;-300) {\n            \n            animal.animali[Data.selectedAnimal].setYVelocity(animal.animali[Data.selectedAnimal].getYVelocity() * -1);\n        }\n        \n        if(animal.animals[Data.selectedAnimal].getX() &gt;= 456 || animal.animals[Data.selectedAnimal].getX()&lt;-456) {\n            \n            animal.animali[Data.selectedAnimal].setXVelocity(animal.animali[Data.selectedAnimal].getXVelocity() * -1);\n            \n        }\n        animal.animals[Data.selectedAnimal].setBounds(animal.animals[Data.selectedAnimal].getX() + animal.animali[Data.selectedAnimal].getXVelocity(), animal.animals[Data.selectedAnimal].getY() + animal.animali[Data.selectedAnimal].getYVelocity(), 1083, 696);\n\n        if(animal.animals[Data.selectedAnimal+1].getY() &gt;= 260 || animal.animals[Data.selectedAnimal+1].getY()&lt;-300) {\n            \n            animal.animali[Data.selectedAnimal+1].setYVelocity(animal.animali[Data.selectedAnimal+1].getYVelocity() * -1);\n        }\n        \n        if(animal.animals[Data.selectedAnimal+1].getX() &gt;= 456 || animal.animals[Data.selectedAnimal+1].getX()&lt;-456) {\n\n            animal.animali[Data.selectedAnimal+1].setXVelocity(animal.animali[Data.selectedAnimal+1].getXVelocity() * -1);\n            \n        }\n        animal.animals[Data.selectedAnimal+1].setBounds(animal.animals[Data.selectedAnimal+1].getX() + animal.animali[Data.selectedAnimal+1].getXVelocity(), animal.animals[Data.selectedAnimal+1].getY() + animal.animali[Data.selectedAnimal+1].getYVelocity(), 1083, 696);\n        \n        \n    }\n    \n    \n   }\n\n</code></pre>\n<p>Animal Class:</p>\n<pre><code>   package data;\n\n   import java.io.IOException;\n   import java.util.Scanner;\n\n   import javax.swing.ImageIcon;\n   import javax.swing.JLabel;\n\n   import main.Resources;\n\n   public class Animal {\n    \n    Resources res = new Resources();\n    Scanner scan = new Scanner(System.in);\n    \n    String name;\n    String description; \n    double price;\n    JLabel label;\n    int x = 0;\n    int y = 0;\n    int xVelocity = 1;\n    int yVelocity = 1;\n    public JLabel[] animals = new JLabel[2];\n    public Animal[] animali = new Animal[2];\n\n    public int getXVelocity() {\n        return xVelocity;\n    }\n    public void setXVelocity(int xVelocity) {\n        this.xVelocity = xVelocity;\n    }\n    public int getYVelocity() {\n        return yVelocity;\n    }\n    public void setYVelocity(int yVelocity) {\n        this.yVelocity = yVelocity;\n    }\n    \n\n    \n    public void xyRandomizer() {\n        \n        x = (int) (Math.random()*((0 + 912)-456));\n        y = (int) (Math.random()*((0 + 560)-300)) ;\n    }\n    public void xyVelocityChooser() {\n        \n        xVelocity = (int) (Math.random()*((0 + 4)-2));\n        yVelocity = (int) (Math.random()*((0 + 4)-2));\n        if (xVelocity == 0) {\n            xVelocity = (int) (Math.random()*((0 + 4)-2));\n            xVelocity++;\n        }\n        if (yVelocity == 0) {\n            yVelocity = (int) (Math.random()*((0 + 4)-2));\n            yVelocity++;\n        }\n    }\n    \n    \n    \n    public void createAnimal() throws IOException {\n        res.addAnimal();\n        \n        //CREATING THE FISHES\n        JLabel fish_ph = new JLabel(new ImageIcon(res.animal[0]));\n        xyRandomizer();\n        xyVelocityChooser();\n        fish_ph.setBounds(x,y,1083,696);\n        fish_ph.setLayout(null);\n        Animal fishph = new Animal(&quot;PlaceHolder1&quot;, &quot;Is just a PlaceHolder&quot;, 0.5, fish_ph, xVelocity, yVelocity);\n        animals[0] = fish_ph;\n        animali[0] = fishph;\n        \n        JLabel fish_r_ph = new JLabel(new ImageIcon(res.animal[1]));\n        xyRandomizer();\n        xyVelocityChooser();\n        fish_r_ph.setBounds(x,y,1083,696);\n        fish_ph.setLayout(null);\n        Animal fishph1 = new Animal(&quot;PlaceHolder2&quot;, &quot;Is just a second PlaceHolder&quot;, 0.5, fish_ph, xVelocity, yVelocity);\n        animals[1] = fish_r_ph;\n        animali[1] = fishph1;\n        \n        \n    }\n    \n    public String getAnimalName() throws IOException {\n        createAnimal();\n        int y=0;\n        for(Animal i : animali) {\n            \n            System.out.println(y + &quot;)&quot; + i.name);\n            y++;\n        }\n        return &quot;&quot;;\n        \n    }\n    \n    public Animal(String name, String description, double price, JLabel label, int xVelocity, int yVelocity){\n        this.name = name;\n        this.description = description;\n        this.price = price;\n        this.label = label;\n        this.xVelocity = xVelocity;\n        this.yVelocity = yVelocity;\n    }\n}\n\n</code></pre>\n<p>Resources Class:</p>\n<pre><code>   package main;\n\n   import java.awt.image.BufferedImage;\n   import java.io.File;\n   import java.io.IOException;\n\n   import javax.imageio.ImageIO;\n\n   public class Resources {\n    \n    \n    public BufferedImage[] background = new BufferedImage[2];\n    public BufferedImage[] ground = new BufferedImage[2];\n    public BufferedImage[] animal = new BufferedImage[2];\n    \n    public void addBackground() throws IOException {\n        \n        //ASSIGNING OF THE RESOURCES FROM THE TANK FOLDER\n        BufferedImage tank_ph = ImageIO.read(new File(&quot;resources/tank/tank_placeholder.png&quot;));\n        BufferedImage tank_p_ph = ImageIO.read(new File(&quot;resources/tank/tank_purple_placeholder.png&quot;));\n        background[0] = tank_ph;\n        background[1] = tank_p_ph;\n    }\n    public void addGround() throws IOException {\n        \n        //ASSIGNING OF THE RESOURCES FROM THE TERRAINS FOLDER\n        BufferedImage terrain_ph = ImageIO.read(new File(&quot;resources/terrains/terrain_placeholder.png&quot;));\n        ground[0] = terrain_ph;\n    }\n    public void addAnimal() throws IOException {\n        \n        //ASSIGNING OF THE RESOURCES FROM THE FISH FOLDER\n        BufferedImage fish_ph = ImageIO.read(new File(&quot;resources/fish/PH/place_holder_left_1.png&quot;));\n        animal[0] = fish_ph;\n        BufferedImage fish_r_ph = ImageIO.read(new File(&quot;resources/fish/PHR/place_holder_3.png&quot;));\n        animal[1] = fish_r_ph;\n    }\n   }\n\n</code></pre>\n<p>I tried searching in internet but found nothing. The only thing I did was cleaning the code, thats all.</p>\n<p>The thing that is supposed to to is make the fish move on the tank. and I wanted to Take the method out of the Screen class to organize the animation and not make a mess in the screen class</p>\n"},{"tags":["java","rest","jakarta-mail","tomcat10"],"comments":[{"owner":{"account_id":12209596,"reputation":100,"user_id":8911724,"display_name":"Mohamed Ismail M"},"score":0,"creation_date":1697405577,"post_id":77298505,"comment_id":136272564,"body_markdown":"ava.lang.NoSuchMethodError means there is no such method , this is because you may changed the version update in that updated version the method may be removed . We cannot be sure on this issue because compiled a class against a different version of the class that is missing a method, than the one you are using when running it","body":"ava.lang.NoSuchMethodError means there is no such method , this is because you may changed the version update in that updated version the method may be removed . We cannot be sure on this issue because compiled a class against a different version of the class that is missing a method, than the one you are using when running it"},{"owner":{"account_id":12209596,"reputation":100,"user_id":8911724,"display_name":"Mohamed Ismail M"},"score":1,"creation_date":1697405626,"post_id":77298505,"comment_id":136272571,"body_markdown":"please check whether the other dependency has the compatibility with java 17 version before you change it","body":"please check whether the other dependency has the compatibility with java 17 version before you change it"}],"answers":[{"comments":[{"owner":{"account_id":29659664,"reputation":1,"user_id":22731558,"display_name":"hset"},"score":0,"creation_date":1697405865,"post_id":77298555,"comment_id":136272584,"body_markdown":"How do I check if a library is supported by JDK-17.  Kind of new to Java. I&#39;m using Intellij and Eclipse.  I added a link above with the Intellij dependency analyzer I&#39;m using.","body":"How do I check if a library is supported by JDK-17.  Kind of new to Java. I&#39;m using Intellij and Eclipse.  I added a link above with the Intellij dependency analyzer I&#39;m using."},{"owner":{"account_id":29659664,"reputation":1,"user_id":22731558,"display_name":"hset"},"score":0,"creation_date":1697406386,"post_id":77298555,"comment_id":136272617,"body_markdown":"My project is runtime is JDK-17.","body":"My project is runtime is JDK-17."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1697439480,"post_id":77298555,"comment_id":136275182,"body_markdown":"@hset To see if a library supports Java 17, you read its documentation. Look especially for pages labeled *Release Notes* or *System Requirements*.","body":"@hset To see if a library supports Java 17, you read its documentation. Look especially for pages labeled <i>Release Notes</i> or <i>System Requirements</i>."},{"owner":{"account_id":29659664,"reputation":1,"user_id":22731558,"display_name":"hset"},"score":0,"creation_date":1697468676,"post_id":77298555,"comment_id":136280537,"body_markdown":"@BasilBourque Thanks.  I see the release notes for 5.7.1 it supports JDK 16. I see the jakarta packages used.  But some are not converted. I updated my message above.","body":"@BasilBourque Thanks.  I see the release notes for 5.7.1 it supports JDK 16. I see the jakarta packages used.  But some are not converted. I updated my message above."}],"tags":[],"owner":{"account_id":12209596,"reputation":100,"user_id":8911724,"display_name":"Mohamed Ismail M"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697405694,"creation_date":1697405694,"answer_id":77298555,"question_id":77298505,"body_markdown":"ava.lang.NoSuchMethodError means there is no such method , this is because you may changed the version, in that updated version the method may be removed . We cannot be sure on this issue because compiled a class against a different version of the class that is missing a method, than the one you are using when running it – \r\n  \r\nPlease check whether the other dependency has the compatibility with java 17 version before you change it ","title":"Migrating Java Rest Services from JDK 8 to 17","body":"<p>ava.lang.NoSuchMethodError means there is no such method , this is because you may changed the version, in that updated version the method may be removed . We cannot be sure on this issue because compiled a class against a different version of the class that is missing a method, than the one you are using when running it –</p>\n<p>Please check whether the other dependency has the compatibility with java 17 version before you change it</p>\n"},{"comments":[{"owner":{"account_id":29659664,"reputation":1,"user_id":22731558,"display_name":"hset"},"score":0,"creation_date":1697468582,"post_id":77301647,"comment_id":136280520,"body_markdown":"@stelios.anastaskis Thanks. I did you suggested. No luck yet. I added more notes above.","body":"@stelios.anastaskis Thanks. I did you suggested. No luck yet. I added more notes above."}],"tags":[],"owner":{"account_id":7882042,"reputation":986,"user_id":5955651,"display_name":"stelios.anastasakis"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697456311,"creation_date":1697456311,"answer_id":77301647,"question_id":77298505,"body_markdown":"You need to use the same/similar versions of `jakarta.activation` and `jakarta.mail` dependencies. I think the problem is because you use different major versions of those 2 libraries.\r\n\r\nAs an extra note, i hope its clear to you which dependencies you really need and how transient dependencies resolve. Cause i see for example that you reference `jakarta.mail` in 3 different places.","title":"Migrating Java Rest Services from JDK 8 to 17","body":"<p>You need to use the same/similar versions of <code>jakarta.activation</code> and <code>jakarta.mail</code> dependencies. I think the problem is because you use different major versions of those 2 libraries.</p>\n<p>As an extra note, i hope its clear to you which dependencies you really need and how transient dependencies resolve. Cause i see for example that you reference <code>jakarta.mail</code> in 3 different places.</p>\n"}],"owner":{"account_id":29659664,"reputation":1,"user_id":22731558,"display_name":"hset"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697487015,"creation_date":1697404592,"question_id":77298505,"body_markdown":"Converting an Java Web Service from JDK  8 to 17.\r\n\r\nI started to convert the javax to jakarta.  I got my project to compile.  But I get this error when I run my unit test:\r\n\r\n```\r\nava.lang.NoSuchMethodError: &#39;void jakarta.mail.internet.MimeBodyPart.setDataHandler(javax.activation.DataHandler)&#39;\r\n\r\n\tat com.eviware.soapui.impl.wsdl.submit.filters.WsdlPackagingRequestFilter.initRootPart(WsdlPackagingRequestFilter.java:140)\r\n\tat com.eviware.soapui.impl.wsdl.submit.filters.WsdlPackagingRequestFilter.initWsdlRequest(WsdlPackagingRequestFilter.java:99)\r\n\tat com.eviware.soapui.impl.wsdl.submit.filters.WsdlPackagingRequestFilter.filterWsdlRequest(WsdlPackagingRequestFilter.java:51)\r\n\tat com.eviware.soapui.impl.wsdl.submit.filters.AbstractRequestFilter.filterAbstractHttpRequest(AbstractRequestFilter.java:39)\r\n\tat com.eviware.soapui.impl.wsdl.submit.filters.AbstractRequestFilter.filterRequest(AbstractRequestFilter.java:33)\r\n\tat com.eviware.soapui.impl.wsdl.submit.transports.http.HttpClientRequestTransport.filterRequest(HttpClientRequestTransport.java:318)\r\n\tat com.eviware.soapui.impl.wsdl.submit.transports.http.HttpClientRequestTransport.sendRequest(HttpClientRequestTransport.java:180)\r\n\tat com.eviware.soapui.impl.wsdl.WsdlSubmit.run(WsdlSubmit.java:119)\r\n\tat com.eviware.soapui.impl.wsdl.WsdlSubmit.submitRequest(WsdlSubmit.java:79)\r\n\tat com.eviware.soapui.impl.wsdl.WsdlRequest.submit(WsdlRequest.java:217)\r\n\tat com.stableapps.esarclientservice.COREEnvelopeBatchSubmissionService.callRequest(COREEnvelopeBatchSubmissionService.java:223)\r\n\tat com.stableapps.esarclientservice.COREEnvelopeBatchSubmissionService.callCOREEnvelopeBatchSubmission(COREEnvelopeBatchSubmissionService.java:185)\r\n\tat com.stableapps.esarclientservice.COREEnvelopeBatchSubmissionService.post(COREEnvelopeBatchSubmissionService.java:73)\r\n\tat com.stableapps.esarclientservice.COREEnvelopeBatchSubmissionServiceTest.testPost(COREEnvelopeBatchSubmissionServiceTest.java:79)\r\n\tat com.stableapps.esarclientservice.COREEnvelopeBatchSubmissionServiceTest.testCompleteSubmissionCycle(COREEnvelopeBatchSubmissionServiceTest.java:58)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.junit.runners.Suite.runChild(Suite.java:128)\r\n\tat org.junit.runners.Suite.runChild(Suite.java:27)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\n```\r\n\r\nHere is my pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.stableapps&lt;/groupId&gt;\r\n    &lt;artifactId&gt;EsarClientService&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;EsarClientService&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n     &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;smartbear-sweden-repository&lt;/id&gt;\r\n            &lt;url&gt;http://www.soapui.org/repository/maven2&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    \r\n    &lt;pluginRepositories&gt;\r\n    &lt;pluginRepository&gt;\r\n        &lt;id&gt;smartbear-sweden-plugin-repository&lt;/id&gt;\r\n        &lt;url&gt;http://www.soapui.org/repository/maven2/&lt;/url&gt;\r\n    &lt;/pluginRepository&gt;\r\n&lt;/pluginRepositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.26&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.smartbear.soapui&lt;/groupId&gt;\r\n            &lt;artifactId&gt;soapui&lt;/artifactId&gt;\r\n            &lt;version&gt;5.4.0&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.smartbear.utils.analytics&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;out-app-analytics-provider&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.servicemix.specs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.apache.servicemix.specs.activation-api-1.2.1&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.1_1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.angus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.activation&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n        &lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\r\n        &lt;version&gt;3.15.6.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.smartbear.soapui&lt;/groupId&gt;\r\n                &lt;artifactId&gt;soapui-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;4.6.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n                 &lt;configuration&gt;\r\n                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nNot sure what it is.  I stared to think it was some type of dependency issue between packages.\r\n\r\n[I&#39;m using Intellij dependency analyzer][1]\r\n\r\nI looked at the other posts on stackoveflow and I tried everything their suggestions with no luck.  The method is there when I debug.  So not sure why its complaining.\r\n\r\nAny ideas what the issue might be?\r\n\r\n\r\nUpdated:\r\nSo the error is coming from this package soapui.5.4.0.  I see that it still uses javax in there:\r\n\r\nHere are examples:\r\n\r\n[Soap ui javax.xml][2]\r\n\r\nThis is the method that it complains about. \r\n[soap ui javax.activation][3]\r\n\r\nHow come I don&#39;t see an updated version of soapui in maven?\r\n[I don&#39;t see 5.7.1][4]\r\n\r\nBut I see it here?\r\nhttps://github.com/SmartBear/soapui/tree/release-5.7.1#prerequisites\r\n\r\nI see that the method here uses javax.\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/javax/activation/DataHandler.html?is-external=true\r\n\r\nHas anybody used this migration tool:\r\nhttps://tomcat.apache.org/download-migration.cgi\r\n\r\n  [1]: https://i.stack.imgur.com/8ATPO.png\r\n  [2]: https://i.stack.imgur.com/EdNCG.png\r\n  [3]: https://i.stack.imgur.com/ZQ0ij.png\r\n  [4]: https://i.stack.imgur.com/b2HeA.png","title":"Migrating Java Rest Services from JDK 8 to 17","body":"<p>Converting an Java Web Service from JDK  8 to 17.</p>\n<p>I started to convert the javax to jakarta.  I got my project to compile.  But I get this error when I run my unit test:</p>\n<pre><code>ava.lang.NoSuchMethodError: 'void jakarta.mail.internet.MimeBodyPart.setDataHandler(javax.activation.DataHandler)'\n\n    at com.eviware.soapui.impl.wsdl.submit.filters.WsdlPackagingRequestFilter.initRootPart(WsdlPackagingRequestFilter.java:140)\n    at com.eviware.soapui.impl.wsdl.submit.filters.WsdlPackagingRequestFilter.initWsdlRequest(WsdlPackagingRequestFilter.java:99)\n    at com.eviware.soapui.impl.wsdl.submit.filters.WsdlPackagingRequestFilter.filterWsdlRequest(WsdlPackagingRequestFilter.java:51)\n    at com.eviware.soapui.impl.wsdl.submit.filters.AbstractRequestFilter.filterAbstractHttpRequest(AbstractRequestFilter.java:39)\n    at com.eviware.soapui.impl.wsdl.submit.filters.AbstractRequestFilter.filterRequest(AbstractRequestFilter.java:33)\n    at com.eviware.soapui.impl.wsdl.submit.transports.http.HttpClientRequestTransport.filterRequest(HttpClientRequestTransport.java:318)\n    at com.eviware.soapui.impl.wsdl.submit.transports.http.HttpClientRequestTransport.sendRequest(HttpClientRequestTransport.java:180)\n    at com.eviware.soapui.impl.wsdl.WsdlSubmit.run(WsdlSubmit.java:119)\n    at com.eviware.soapui.impl.wsdl.WsdlSubmit.submitRequest(WsdlSubmit.java:79)\n    at com.eviware.soapui.impl.wsdl.WsdlRequest.submit(WsdlRequest.java:217)\n    at com.stableapps.esarclientservice.COREEnvelopeBatchSubmissionService.callRequest(COREEnvelopeBatchSubmissionService.java:223)\n    at com.stableapps.esarclientservice.COREEnvelopeBatchSubmissionService.callCOREEnvelopeBatchSubmission(COREEnvelopeBatchSubmissionService.java:185)\n    at com.stableapps.esarclientservice.COREEnvelopeBatchSubmissionService.post(COREEnvelopeBatchSubmissionService.java:73)\n    at com.stableapps.esarclientservice.COREEnvelopeBatchSubmissionServiceTest.testPost(COREEnvelopeBatchSubmissionServiceTest.java:79)\n    at com.stableapps.esarclientservice.COREEnvelopeBatchSubmissionServiceTest.testCompleteSubmissionCycle(COREEnvelopeBatchSubmissionServiceTest.java:58)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.junit.runners.Suite.runChild(Suite.java:128)\n    at org.junit.runners.Suite.runChild(Suite.java:27)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\n</code></pre>\n<p>Here is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.stableapps&lt;/groupId&gt;\n    &lt;artifactId&gt;EsarClientService&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;EsarClientService&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n     &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    \n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;smartbear-sweden-repository&lt;/id&gt;\n            &lt;url&gt;http://www.soapui.org/repository/maven2&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    \n    &lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;smartbear-sweden-plugin-repository&lt;/id&gt;\n        &lt;url&gt;http://www.soapui.org/repository/maven2/&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.26&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.16.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n            &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n            &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n            &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\n            &lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.smartbear.soapui&lt;/groupId&gt;\n            &lt;artifactId&gt;soapui&lt;/artifactId&gt;\n            &lt;version&gt;5.4.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.smartbear.utils.analytics&lt;/groupId&gt;\n                    &lt;artifactId&gt;out-app-analytics-provider&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\n            &lt;version&gt;1.6.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.servicemix.specs&lt;/groupId&gt;\n            &lt;artifactId&gt;org.apache.servicemix.specs.activation-api-1.2.1&lt;/artifactId&gt;\n            &lt;version&gt;1.2.1_1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;17.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.angus&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.activation&lt;/artifactId&gt;\n            &lt;version&gt;1.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n        &lt;artifactId&gt;resteasy-multipart-provider&lt;/artifactId&gt;\n        &lt;version&gt;3.15.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.smartbear.soapui&lt;/groupId&gt;\n                &lt;artifactId&gt;soapui-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.6.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n                 &lt;configuration&gt;\n                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Not sure what it is.  I stared to think it was some type of dependency issue between packages.</p>\n<p><a href=\"https://i.stack.imgur.com/8ATPO.png\" rel=\"nofollow noreferrer\">I'm using Intellij dependency analyzer</a></p>\n<p>I looked at the other posts on stackoveflow and I tried everything their suggestions with no luck.  The method is there when I debug.  So not sure why its complaining.</p>\n<p>Any ideas what the issue might be?</p>\n<p>Updated:\nSo the error is coming from this package soapui.5.4.0.  I see that it still uses javax in there:</p>\n<p>Here are examples:</p>\n<p><a href=\"https://i.stack.imgur.com/EdNCG.png\" rel=\"nofollow noreferrer\">Soap ui javax.xml</a></p>\n<p>This is the method that it complains about.\n<a href=\"https://i.stack.imgur.com/ZQ0ij.png\" rel=\"nofollow noreferrer\">soap ui javax.activation</a></p>\n<p>How come I don't see an updated version of soapui in maven?\n<a href=\"https://i.stack.imgur.com/b2HeA.png\" rel=\"nofollow noreferrer\">I don't see 5.7.1</a></p>\n<p>But I see it here?\n<a href=\"https://github.com/SmartBear/soapui/tree/release-5.7.1#prerequisites\" rel=\"nofollow noreferrer\">https://github.com/SmartBear/soapui/tree/release-5.7.1#prerequisites</a></p>\n<p>I see that the method here uses javax.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/javax/activation/DataHandler.html?is-external=true\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/javax/activation/DataHandler.html?is-external=true</a></p>\n<p>Has anybody used this migration tool:\n<a href=\"https://tomcat.apache.org/download-migration.cgi\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/download-migration.cgi</a></p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-firefoxdriver"],"comments":[{"owner":{"account_id":4655188,"reputation":1943,"user_id":3770951,"accept_rate":64,"display_name":"Rupesh Shinde"},"score":0,"creation_date":1423205385,"post_id":28359895,"comment_id":45062815,"body_markdown":"Can you explain the action for this line?  WebElement html = driver.findElement(By.tagName(&quot;html&quot;));","body":"Can you explain the action for this line?  WebElement html = driver.findElement(By.tagName(&quot;html&quot;));"},{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1423205480,"post_id":28359895,"comment_id":45062852,"body_markdown":"@RupeshShinde - I think that is to find whole html page by tag so it says webdriver to zoom whole html page.","body":"@RupeshShinde - I think that is to find whole html page by tag so it says webdriver to zoom whole html page."},{"owner":{"account_id":5168393,"reputation":81,"user_id":4137720,"accept_rate":40,"display_name":"Gaurav Bansal"},"score":0,"creation_date":1423205833,"post_id":28359895,"comment_id":45063004,"body_markdown":"@RupeshShinde - HelpingHands is right. It is to fetch the html element, which is the entire page, and them zoom in into the page.","body":"@RupeshShinde - HelpingHands is right. It is to fetch the html element, which is the entire page, and them zoom in into the page."},{"owner":{"account_id":403854,"reputation":465667,"user_id":771848,"accept_rate":100,"display_name":"alecxe"},"score":0,"creation_date":1423207223,"post_id":28359895,"comment_id":45063558,"body_markdown":"If you switch to using `Chrome()` instead of `Firefox()` - does it make any difference? Thanks.","body":"If you switch to using <code>Chrome()</code> instead of <code>Firefox()</code> - does it make any difference? Thanks."},{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1423212666,"post_id":28359895,"comment_id":45065855,"body_markdown":"@alecxe - in chrome zooming not working , it shows error : unknown error: cannot focus element","body":"@alecxe - in chrome zooming not working , it shows error : unknown error: cannot focus element"}],"answers":[{"comments":[{"owner":{"account_id":5168393,"reputation":81,"user_id":4137720,"accept_rate":40,"display_name":"Gaurav Bansal"},"score":0,"creation_date":1423483877,"post_id":28406346,"comment_id":45152538,"body_markdown":"There is no change in the code that you give and the one i have used which is not working to my requirement. My requirement is that, i have page when converted into image at normal resolution has x*y pixels, but when zoomed in at 500%, then the image converted should have 5x * 5y pixels in it, which is not happening.","body":"There is no change in the code that you give and the one i have used which is not working to my requirement. My requirement is that, i have page when converted into image at normal resolution has x*y pixels, but when zoomed in at 500%, then the image converted should have 5x * 5y pixels in it, which is not happening."},{"owner":{"account_id":3177801,"reputation":51,"user_id":2685233,"display_name":"naveenz"},"score":0,"creation_date":1423580720,"post_id":28406346,"comment_id":45199894,"body_markdown":"Yes Gaurav.. I didn&#39;t change anything but it worked for me.. I got the screenshot of zoomed page. For zooming, I zoomed it by manually by halting the execution for a while and by using your code. In both ways it worked for me..","body":"Yes Gaurav.. I didn&#39;t change anything but it worked for me.. I got the screenshot of zoomed page. For zooming, I zoomed it by manually by halting the execution for a while and by using your code. In both ways it worked for me.."}],"tags":[],"owner":{"account_id":3177801,"reputation":51,"user_id":2685233,"display_name":"naveenz"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423473812,"creation_date":1423473812,"answer_id":28406346,"question_id":28359895,"body_markdown":"Below piece of code worked for me. \r\n\r\n        File scrFile2 = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\r\n        // Now you can do whatever you need to do with it, for example copy somewhere\r\n        FileUtils.copyFile(scrFile2, new File(&quot;c:\\\\tmp\\\\screenshot.png&quot;));\r\n\r\nI just opened a page and took screenshot of it in original size and even after I zoomed it by manually and by using your code(For zoom), I got zoomed resolution screenshot.","title":"Take full page screenshot in zoom in state in Selenium","body":"<p>Below piece of code worked for me. </p>\n\n<pre><code>    File scrFile2 = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\n    // Now you can do whatever you need to do with it, for example copy somewhere\n    FileUtils.copyFile(scrFile2, new File(\"c:\\\\tmp\\\\screenshot.png\"));\n</code></pre>\n\n<p>I just opened a page and took screenshot of it in original size and even after I zoomed it by manually and by using your code(For zoom), I got zoomed resolution screenshot.</p>\n"},{"tags":[],"owner":{"account_id":7679395,"reputation":39,"user_id":5819083,"display_name":"panda_Missaka"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453706517,"creation_date":1453706517,"answer_id":34987097,"question_id":28359895,"body_markdown":"You can test this:\r\n\r\n    String script = &quot;var page = this;page.zoomFactor = 0.9;&quot;;\r\n\t((PhantomJSDriver)driver).executePhantomJS(script);\r\n\r\nzoomFactor zoomed the screenshot.","title":"Take full page screenshot in zoom in state in Selenium","body":"<p>You can test this:</p>\n\n<pre><code>String script = \"var page = this;page.zoomFactor = 0.9;\";\n((PhantomJSDriver)driver).executePhantomJS(script);\n</code></pre>\n\n<p>zoomFactor zoomed the screenshot.</p>\n"},{"tags":[],"owner":{"account_id":16032,"reputation":29350,"user_id":34516,"display_name":"Morgan Christiansson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697486993,"creation_date":1697486993,"answer_id":77304697,"question_id":28359895,"body_markdown":"I was able to zoom using this command:\r\n\r\n    set_pref(&quot;layout.css.devPixelsPerPx&quot;, &quot;2.2&quot;)\r\n\r\nThe code is not Java, but is for Firefox.","title":"Take full page screenshot in zoom in state in Selenium","body":"<p>I was able to zoom using this command:</p>\n<pre><code>set_pref(&quot;layout.css.devPixelsPerPx&quot;, &quot;2.2&quot;)\n</code></pre>\n<p>The code is not Java, but is for Firefox.</p>\n"}],"owner":{"account_id":5168393,"reputation":81,"user_id":4137720,"accept_rate":40,"display_name":"Gaurav Bansal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2241,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1697486993,"creation_date":1423204449,"question_id":28359895,"body_markdown":"I am loading a webpage in selenium firefox webdriver, then i am zooming in into the page at 500%, and then i wish to take the screenshot of the page in the zoomed in resolution at 500%, but it is not working\r\n\r\n\r\n    DesiredCapabilities desiredCapabilities = DesiredCapabilities.firefox();\r\n   \tdesiredCapabilities.setPlatform(Platform.WINDOWS);\r\n    WebDriver driver = new FirefoxDriver(desiredCapabilities);\r\n    driver.get(url);\r\n    driver.manage().window().setSize(new Dimension(Toolkit.getDefaultToolkit().getScreenSize().width, Toolkit.getDefaultToolkit().getScreenSize().height));\r\n    WebElement html = driver.findElement(By.tagName(&quot;html&quot;));\r\n    html.sendKeys(Keys.chord(Keys.CONTROL, Keys.ADD));\r\n    html.sendKeys(Keys.chord(Keys.CONTROL, Keys.ADD));\r\n    html.sendKeys(Keys.chord(Keys.CONTROL, Keys.ADD));\r\n    html.sendKeys(Keys.chord(Keys.CONTROL, Keys.ADD));\r\n    html.sendKeys(Keys.chord(Keys.CONTROL, Keys.ADD));\r\n    html.sendKeys(Keys.chord(Keys.CONTROL, Keys.ADD));\r\n    html.sendKeys(Keys.chord(Keys.CONTROL, Keys.ADD));\r\n    html.sendKeys(Keys.chord(Keys.CONTROL, Keys.ADD));\r\n    html.sendKeys(Keys.chord(Keys.CONTROL, Keys.ADD));\r\n\r\nThis code zooms into the url.\r\nNow i want to take the screenshot in the zoomed in resolution.\r\n\r\n    File scrFile = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\r\n    FileUtils.copyFile(scrFile, new File(&quot;c:\\\\&quot;+url.substring(url.lastIndexOf(&quot;/&quot;),url.lastIndexOf(&quot;.&quot;))+&quot;.png&quot;));\r\n\r\nThis is taking the screenshot but only at the normal resolution and not the zoomed in resolution.\r\n\r\nPlease someone help how can it be done in selenium, or even if selenium is the right tools for this. If not then, please suggest something else that is working for my requirement.","title":"Take full page screenshot in zoom in state in Selenium","body":"<p>I am loading a webpage in selenium firefox webdriver, then i am zooming in into the page at 500%, and then i wish to take the screenshot of the page in the zoomed in resolution at 500%, but it is not working</p>\n\n<pre><code>DesiredCapabilities desiredCapabilities = DesiredCapabilities.firefox();\ndesiredCapabilities.setPlatform(Platform.WINDOWS);\nWebDriver driver = new FirefoxDriver(desiredCapabilities);\ndriver.get(url);\ndriver.manage().window().setSize(new Dimension(Toolkit.getDefaultToolkit().getScreenSize().width, Toolkit.getDefaultToolkit().getScreenSize().height));\nWebElement html = driver.findElement(By.tagName(\"html\"));\nhtml.sendKeys(Keys.chord(Keys.CONTROL, Keys.ADD));\nhtml.sendKeys(Keys.chord(Keys.CONTROL, Keys.ADD));\nhtml.sendKeys(Keys.chord(Keys.CONTROL, Keys.ADD));\nhtml.sendKeys(Keys.chord(Keys.CONTROL, Keys.ADD));\nhtml.sendKeys(Keys.chord(Keys.CONTROL, Keys.ADD));\nhtml.sendKeys(Keys.chord(Keys.CONTROL, Keys.ADD));\nhtml.sendKeys(Keys.chord(Keys.CONTROL, Keys.ADD));\nhtml.sendKeys(Keys.chord(Keys.CONTROL, Keys.ADD));\nhtml.sendKeys(Keys.chord(Keys.CONTROL, Keys.ADD));\n</code></pre>\n\n<p>This code zooms into the url.\nNow i want to take the screenshot in the zoomed in resolution.</p>\n\n<pre><code>File scrFile = ((TakesScreenshot)driver).getScreenshotAs(OutputType.FILE);\nFileUtils.copyFile(scrFile, new File(\"c:\\\\\"+url.substring(url.lastIndexOf(\"/\"),url.lastIndexOf(\".\"))+\".png\"));\n</code></pre>\n\n<p>This is taking the screenshot but only at the normal resolution and not the zoomed in resolution.</p>\n\n<p>Please someone help how can it be done in selenium, or even if selenium is the right tools for this. If not then, please suggest something else that is working for my requirement.</p>\n"},{"tags":["java","ssh","jsch","apache-mina"],"comments":[{"owner":{"account_id":6534704,"reputation":4743,"user_id":5054717,"display_name":"Jim Redmond"},"score":0,"creation_date":1697492349,"post_id":77304660,"comment_id":136284347,"body_markdown":"Do these users have &quot;regular&quot; SSH access, or will this be it?","body":"Do these users have &quot;regular&quot; SSH access, or will this be it?"},{"owner":{"account_id":18825816,"reputation":307,"user_id":13730731,"display_name":"Omar RB"},"score":0,"creation_date":1697492866,"post_id":77304660,"comment_id":136284404,"body_markdown":"The users has also a regular access to the SSH, but I am asked to incorporate a temrinal on the web page, but in the SSH terminal, only certain commands are allowed. This is for security reasons, for example, for avoding the sudo su command to avoid the user to be able to login as root (this restriction is only for the terminal on the web page).","body":"The users has also a regular access to the SSH, but I am asked to incorporate a temrinal on the web page, but in the SSH terminal, only certain commands are allowed. This is for security reasons, for example, for avoding the sudo su command to avoid the user to be able to login as root (this restriction is only for the terminal on the web page)."}],"owner":{"account_id":18825816,"reputation":307,"user_id":13730731,"display_name":"Omar RB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697486589,"creation_date":1697486589,"question_id":77304660,"body_markdown":"I am working with Apache MINA SSHD (Backend) and Javascript (frontend) to make a terminal on the browser that connects to the SSHD on the server and create an SSH connection. \r\n\r\nThis is working fine and smooth. However I am asked to **filter the available commands** for the user to use only some specific commands (**there are many commands**, so a script solution doesn’t work for me [like this one](https://ctrlnotes.com/restrict-a-user-to-ssh-forced-command/#)). \r\n\r\n1. I was thinking about a cache variable that controls the input that the user has wrote, but I am not sure of how to implement this. \r\n2. Another thing that occured to me was to check if there is a way of defining the available commands with the pty flags? \r\n\r\nAny ideas of how to save the current command on a variable for later on checking the command and filter it on is welcome! \r\n\r\n**Context:** The connection between the frontend and the backend is created using web sockets, we send the input from the frontend directly to the websocket to the backend and the backend recieves the input and sent it to the input stream of the SSH object.","title":"Apache MINA SSH shell session - List of available commands","body":"<p>I am working with Apache MINA SSHD (Backend) and Javascript (frontend) to make a terminal on the browser that connects to the SSHD on the server and create an SSH connection.</p>\n<p>This is working fine and smooth. However I am asked to <strong>filter the available commands</strong> for the user to use only some specific commands (<strong>there are many commands</strong>, so a script solution doesn’t work for me <a href=\"https://ctrlnotes.com/restrict-a-user-to-ssh-forced-command/#\" rel=\"nofollow noreferrer\">like this one</a>).</p>\n<ol>\n<li>I was thinking about a cache variable that controls the input that the user has wrote, but I am not sure of how to implement this.</li>\n<li>Another thing that occured to me was to check if there is a way of defining the available commands with the pty flags?</li>\n</ol>\n<p>Any ideas of how to save the current command on a variable for later on checking the command and filter it on is welcome!</p>\n<p><strong>Context:</strong> The connection between the frontend and the backend is created using web sockets, we send the input from the frontend directly to the websocket to the backend and the backend recieves the input and sent it to the input stream of the SSH object.</p>\n"},{"tags":["java","xml","jaxb","marshalling","unmarshalling"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1697485828,"post_id":77304542,"comment_id":136283355,"body_markdown":"A WebServiceTemplate can be created [passing marshaler/unmarshaler as arguments](https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/client/core/WebServiceTemplate.html#WebServiceTemplate(org.springframework.oxm.Marshaller,%20org.springframework.oxm.Unmarshaller))","body":"A WebServiceTemplate can be created <a href=\"https://docs.spring.io/spring-ws/site/apidocs/org/springframework/ws/client/core/WebServiceTemplate.html#WebServiceTemplate(org.springframework.oxm.Marshaller,%20org.springframework.oxm.Unmarshaller)\" rel=\"nofollow noreferrer\">passing marshaler/unmarshaler as arguments</a>"},{"owner":{"account_id":26419017,"reputation":13,"user_id":20066926,"display_name":"user20066926"},"score":0,"creation_date":1697486708,"post_id":77304542,"comment_id":136283504,"body_markdown":"sorry, can you clarify on this and how it could be helpful?","body":"sorry, can you clarify on this and how it could be helpful?"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1697488589,"post_id":77304542,"comment_id":136283768,"body_markdown":"instead of `WebServiceTemplate webServiceTemplate = new WebServiceTemplate();` which I assume you are using somehow, use the 2 args constructor passing marshaler/unmarshaler; `WebServiceTemplate webServiceTemplate = new WebServiceTemplate(mars, unmars)`. That way you can pass your custom marshaller  `mars.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, false);`","body":"instead of <code>WebServiceTemplate webServiceTemplate = new WebServiceTemplate();</code> which I assume you are using somehow, use the 2 args constructor passing marshaler/unmarshaler; <code>WebServiceTemplate webServiceTemplate = new WebServiceTemplate(mars, unmars)</code>. That way you can pass your custom marshaller  <code>mars.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, false);</code>"},{"owner":{"account_id":26419017,"reputation":13,"user_id":20066926,"display_name":"user20066926"},"score":0,"creation_date":1697491847,"post_id":77304542,"comment_id":136284260,"body_markdown":"I see, do you know actually if the marshall used in &quot;marshalSendAndReceive&quot;, is already formatted with false? I tried checking but im not sure what the default is. If thats the case, we wouldnt need to even make the change","body":"I see, do you know actually if the marshall used in &quot;marshalSendAndReceive&quot;, is already formatted with false? I tried checking but im not sure what the default is. If thats the case, we wouldnt need to even make the change"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1697492619,"post_id":77304542,"comment_id":136284379,"body_markdown":"Don&#39;t know really but you can [browse source code](https://github.com/spring-projects/spring-ws/blob/main/spring-ws-core/src/main/java/org/springframework/ws/client/core/WebServiceTemplate.java#L342) and find it out","body":"Don&#39;t know really but you can <a href=\"https://github.com/spring-projects/spring-ws/blob/main/spring-ws-core/src/main/java/org/springframework/ws/client/core/WebServiceTemplate.java#L342\" rel=\"nofollow noreferrer\">browse source code</a> and find it out"},{"owner":{"account_id":26419017,"reputation":13,"user_id":20066926,"display_name":"user20066926"},"score":0,"creation_date":1697502015,"post_id":77304542,"comment_id":136285222,"body_markdown":"I looked through it but dont see anywhere they are specifying the format. Also confused since in my example i use a &quot;jaxb&quot; marshaller but line 395 in the code you sent they use a normal spring marshaller so not sure if there is a difference. I would assume if they dont specifiy then it doesnt format but im not even sure how to test it because i cant throw in any logs. Any ideas?","body":"I looked through it but dont see anywhere they are specifying the format. Also confused since in my example i use a &quot;jaxb&quot; marshaller but line 395 in the code you sent they use a normal spring marshaller so not sure if there is a difference. I would assume if they dont specifiy then it doesnt format but im not even sure how to test it because i cant throw in any logs. Any ideas?"},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1697502234,"post_id":77304542,"comment_id":136285242,"body_markdown":"Make your question a [mcve] so anyone helping has a clear idea of the issue. We&#39;ve been guessing so far","body":"Make your question a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so anyone helping has a clear idea of the issue. We&#39;ve been guessing so far"}],"owner":{"account_id":26419017,"reputation":13,"user_id":20066926,"display_name":"user20066926"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697484878,"creation_date":1697484878,"question_id":77304542,"body_markdown":"I am trying to use marshalSendAndReceive in order to convert my JaxB object to XML and send a request to an endpoint. However, the issue is I have quite a large XML which is causing failures in some cases.\r\n\r\nTo get around it, I want to get rid of the &quot;pretty&quot; XML format which I know you can do if you control the marshaller by setting the second parameter to false.\r\n\r\n    marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, false);\r\nThis will cause the XML from looking like\r\n\r\n```\r\n&lt;dog&gt;0.0&lt;/dog&gt;\r\n&lt;cat&gt;0.0&lt;/cat&gt;\r\n```\r\nto this \r\n```\r\n&lt;dog&gt;0.0&lt;/dog&gt;&lt;cat&gt;0.0&lt;/cat&gt;\r\n```\r\n\r\nMy problem is I need to use the marshalSendAndReceive function call, which will create the marshaller on its own in the library and therefore i cant modify the properties. Does anyone have any ways to get around this?","title":"Using Marshal to send a JAXB object with the XML having no whitespaces (marshalSendAndReceive)","body":"<p>I am trying to use marshalSendAndReceive in order to convert my JaxB object to XML and send a request to an endpoint. However, the issue is I have quite a large XML which is causing failures in some cases.</p>\n<p>To get around it, I want to get rid of the &quot;pretty&quot; XML format which I know you can do if you control the marshaller by setting the second parameter to false.</p>\n<pre><code>marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, false);\n</code></pre>\n<p>This will cause the XML from looking like</p>\n<pre><code>&lt;dog&gt;0.0&lt;/dog&gt;\n&lt;cat&gt;0.0&lt;/cat&gt;\n</code></pre>\n<p>to this</p>\n<pre><code>&lt;dog&gt;0.0&lt;/dog&gt;&lt;cat&gt;0.0&lt;/cat&gt;\n</code></pre>\n<p>My problem is I need to use the marshalSendAndReceive function call, which will create the marshaller on its own in the library and therefore i cant modify the properties. Does anyone have any ways to get around this?</p>\n"},{"tags":["java","ormlite","date-parsing"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1697463686,"post_id":77296369,"comment_id":136279512,"body_markdown":"You should probably paste the full stack trace into your question (nicely formatted as code).","body":"You should probably paste the full stack trace into your question (nicely formatted as code)."}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697484785,"creation_date":1697484785,"answer_id":77304532,"question_id":77296369,"body_markdown":"&gt;     java.text.ParseException: Unparseable date: &quot;2023-10-15T12:57:46.000&quot; does not match (\\p{Nd}++)\\Q-\\E(\\p{Nd}++)\\Q-\\E(\\p{Nd}++)\\Q \\E(\\p{Nd}++)\\Q:\\E(\\p{Nd}++)\\Q:\\E(\\p{Nd}++)\\Q.\\E(\\p{Nd}++)\r\n\r\nIf you look closely at the generated pattern error message, I see `\\Q \\E` in the middle when I would have expected `\\QT\\E`.  Are you sure that the pattern that generated the error was as you describe in the post?\r\n\r\n    (\\p{Nd}++)\\Q-\\E(\\p{Nd}++)\\Q-\\E(\\p{Nd}++)\\Q \\E(\\p{Nd}++)\\Q:\\E(\\p{Nd}++)\\Q:\\E(\\p{Nd}++)\\Q.\\E(\\p{Nd}++)\r\n                                            ^^^^^\r\n\r\n\r\nAny chance that your code really has:\r\n\r\n    String dateFormat = &quot;yyyy-MM-dd&#39; &#39;HH:mm:ss&quot;;\r\n\r\nIf it does have the `T` then I&#39;m not sure what&#39;s going on.\r\ngray\r\n","title":"ORMLite - persisting LocalDateTiime - Unparseable date","body":"<blockquote>\n<pre><code>java.text.ParseException: Unparseable date: &quot;2023-10-15T12:57:46.000&quot; does not match (\\p{Nd}++)\\Q-\\E(\\p{Nd}++)\\Q-\\E(\\p{Nd}++)\\Q \\E(\\p{Nd}++)\\Q:\\E(\\p{Nd}++)\\Q:\\E(\\p{Nd}++)\\Q.\\E(\\p{Nd}++)\n</code></pre>\n</blockquote>\n<p>If you look closely at the generated pattern error message, I see <code>\\Q \\E</code> in the middle when I would have expected <code>\\QT\\E</code>.  Are you sure that the pattern that generated the error was as you describe in the post?</p>\n<pre><code>(\\p{Nd}++)\\Q-\\E(\\p{Nd}++)\\Q-\\E(\\p{Nd}++)\\Q \\E(\\p{Nd}++)\\Q:\\E(\\p{Nd}++)\\Q:\\E(\\p{Nd}++)\\Q.\\E(\\p{Nd}++)\n                                        ^^^^^\n</code></pre>\n<p>Any chance that your code really has:</p>\n<pre><code>String dateFormat = &quot;yyyy-MM-dd' 'HH:mm:ss&quot;;\n</code></pre>\n<p>If it does have the <code>T</code> then I'm not sure what's going on.\ngray</p>\n"}],"owner":{"account_id":21088679,"reputation":337,"user_id":15501126,"display_name":"Maxim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697484871,"creation_date":1697368158,"question_id":77296369,"body_markdown":"I&#39;m using ORMLite to persist objects in an SQLite Database, but persisting LocalDateTime values does&#39;t work. I already configured a custom persister class like this:\r\n\r\n    public class LocalDateTimePersister extends TimeStampType {\r\n\r\n    private static final LocalDateTimePersister singleTon = new LocalDateTimePersister();\r\n\r\n    String dateFormat = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;;\r\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(dateFormat);\r\n    SimpleDateFormat sdf = new SimpleDateFormat(dateFormat);\r\n\r\n    private LocalDateTimePersister() {\r\n        super(SqlType.STRING, new Class&lt;?&gt;[] { LocalDateTime.class });\r\n    }\r\n\r\n    public static LocalDateTimePersister getSingleton() {\r\n        return singleTon;\r\n    }\r\n\r\n    @Override\r\n    public Object javaToSqlArg(FieldType fieldType, Object javaObject) {\r\n        LocalDateTime dateTime = (LocalDateTime) javaObject;\r\n        if (dateTime == null) {\r\n            return null;\r\n        } else {\r\n            return dateTime.format(dtf);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Object sqlArgToJava(FieldType fieldType, Object sqlArg, int columnPos) {\r\n        return LocalDateTime.parse((String) sqlArg, dtf);\r\n    }\r\n}\r\n\r\nIt saves the value correctly, but loading the object causes this exception:\r\n\r\n    java.text.ParseException: Unparseable date: &quot;2023-10-15T12:57:46.000&quot; does not match (\\p{Nd}++)\\Q-\\E(\\p{Nd}++)\\Q-\\E(\\p{Nd}++)\\Q \\E(\\p{Nd}++)\\Q:\\E(\\p{Nd}++)\\Q:\\E(\\p{Nd}++)\\Q.\\E(\\p{Nd}++)\r\n\r\nThe time value that was saved in the database is &quot;2023-10-15T12:57:46&quot;, so I don&#39;t know where that string with the milliseconds value comes from. The breakpoint inside my javaToSqlArg method isn&#39;t hit and I can&#39;t see what&#39;s causing this error exactly. \r\n\r\n\r\nAlso, I noticed that there&#39;s no foreign key constraint being applied when creating the table, although the attributes are annotated appropriately. So child objects just stay in the database when I delete the parent object. Is there a way to change that without using a text query to create the table?","title":"ORMLite - persisting LocalDateTiime - Unparseable date","body":"<p>I'm using ORMLite to persist objects in an SQLite Database, but persisting LocalDateTime values does't work. I already configured a custom persister class like this:</p>\n<pre><code>public class LocalDateTimePersister extends TimeStampType {\n\nprivate static final LocalDateTimePersister singleTon = new LocalDateTimePersister();\n\nString dateFormat = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;;\nDateTimeFormatter dtf = DateTimeFormatter.ofPattern(dateFormat);\nSimpleDateFormat sdf = new SimpleDateFormat(dateFormat);\n\nprivate LocalDateTimePersister() {\n    super(SqlType.STRING, new Class&lt;?&gt;[] { LocalDateTime.class });\n}\n\npublic static LocalDateTimePersister getSingleton() {\n    return singleTon;\n}\n\n@Override\npublic Object javaToSqlArg(FieldType fieldType, Object javaObject) {\n    LocalDateTime dateTime = (LocalDateTime) javaObject;\n    if (dateTime == null) {\n        return null;\n    } else {\n        return dateTime.format(dtf);\n    }\n}\n\n@Override\npublic Object sqlArgToJava(FieldType fieldType, Object sqlArg, int columnPos) {\n    return LocalDateTime.parse((String) sqlArg, dtf);\n}\n</code></pre>\n<p>}</p>\n<p>It saves the value correctly, but loading the object causes this exception:</p>\n<pre><code>java.text.ParseException: Unparseable date: &quot;2023-10-15T12:57:46.000&quot; does not match (\\p{Nd}++)\\Q-\\E(\\p{Nd}++)\\Q-\\E(\\p{Nd}++)\\Q \\E(\\p{Nd}++)\\Q:\\E(\\p{Nd}++)\\Q:\\E(\\p{Nd}++)\\Q.\\E(\\p{Nd}++)\n</code></pre>\n<p>The time value that was saved in the database is &quot;2023-10-15T12:57:46&quot;, so I don't know where that string with the milliseconds value comes from. The breakpoint inside my javaToSqlArg method isn't hit and I can't see what's causing this error exactly.</p>\n<p>Also, I noticed that there's no foreign key constraint being applied when creating the table, although the attributes are annotated appropriately. So child objects just stay in the database when I delete the parent object. Is there a way to change that without using a text query to create the table?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":37327,"reputation":82714,"user_id":106671,"display_name":"Nikolai Fetissov"},"score":2,"creation_date":1280545311,"post_id":3376586,"comment_id":3509175,"body_markdown":"Split second is a very long time at GHz speeds.","body":"Split second is a very long time at GHz speeds."},{"owner":{"account_id":12201,"reputation":59994,"user_id":23897,"display_name":"Michael Petrotta"},"score":42,"creation_date":1280545661,"post_id":3376586,"comment_id":3509194,"body_markdown":"No need to downvote so intensely.  Not everyone understands threading-related nondeterminism, and we all have to start somewhere.","body":"No need to downvote so intensely.  Not everyone understands threading-related nondeterminism, and we all have to start somewhere."},{"owner":{"account_id":83889,"reputation":26612,"user_id":234901,"accept_rate":97,"display_name":"Enno Shioji"},"score":9,"creation_date":1280546347,"post_id":3376586,"comment_id":3509222,"body_markdown":"Don&#39;t understand the downvotes. Synchronizing between threads is a very common necessity. Yes in java you can&#39;t have them executing exactly in parallel (which, on other platform can be a very valid requirement btw), but from time to time it is very common that you need to synchronize their action. That&#39;s why the jdk has classes for  doing that. Maybe the wording was not accurate, but hell if he&#39;d know that, he wouldn&#39;t have asked the question..","body":"Don&#39;t understand the downvotes. Synchronizing between threads is a very common necessity. Yes in java you can&#39;t have them executing exactly in parallel (which, on other platform can be a very valid requirement btw), but from time to time it is very common that you need to synchronize their action. That&#39;s why the jdk has classes for  doing that. Maybe the wording was not accurate, but hell if he&#39;d know that, he wouldn&#39;t have asked the question.."},{"owner":{"account_id":176485,"reputation":2275,"user_id":407210,"accept_rate":62,"display_name":"figaro"},"score":0,"creation_date":1280548184,"post_id":3376586,"comment_id":3509323,"body_markdown":"well, I guess I understand all your anger. It was a question asked to me in an interview...probably was a trick Q. But, I just got confused and wanted to confirm it. that&#39;s why I asked if it was even possible.","body":"well, I guess I understand all your anger. It was a question asked to me in an interview...probably was a trick Q. But, I just got confused and wanted to confirm it. that&#39;s why I asked if it was even possible."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1280549040,"post_id":3376586,"comment_id":3509356,"body_markdown":"@javaguy - not a &quot;trick&quot; question.  Rather a question chosen to see how well you really understand multi-threaded programming in general ... as well in the Java case.","body":"@javaguy - not a &quot;trick&quot; question.  Rather a question chosen to see how well you really understand multi-threaded programming in general ... as well in the Java case."},{"owner":{"account_id":115310,"reputation":11419,"user_id":302831,"accept_rate":100,"display_name":"Santa"},"score":0,"creation_date":1280552368,"post_id":3376586,"comment_id":3509479,"body_markdown":"@javaguy Semantically speaking, `CyclicBarrier` is the sort of synchronization mechanism that can start off two threads running &quot;at the same time&quot; (again, semantically speaking), avoiding the cost of Thread creation in the timing.\n\nPhysically speaking, hardware limitation and context switching (and also Physics) dictates such a notion (if to be taken literally) is ridiculous.","body":"@javaguy Semantically speaking, <code>CyclicBarrier</code> is the sort of synchronization mechanism that can start off two threads running &quot;at the same time&quot; (again, semantically speaking), avoiding the cost of Thread creation in the timing.  Physically speaking, hardware limitation and context switching (and also Physics) dictates such a notion (if to be taken literally) is ridiculous."}],"answers":[{"comments":[{"owner":{"account_id":52266,"reputation":77724,"user_id":156142,"accept_rate":100,"display_name":"ChaosPandion"},"score":1,"creation_date":1280545506,"post_id":3376599,"comment_id":3509186,"body_markdown":"You can get pretty darn close though. It all depends on the synchronization techniques you use *and of course having more than 1 cpu or core.*","body":"You can get pretty darn close though. It all depends on the synchronization techniques you use <i>and of course having more than 1 cpu or core.</i>"},{"owner":{"account_id":37327,"reputation":82714,"user_id":106671,"display_name":"Nikolai Fetissov"},"score":0,"creation_date":1280545692,"post_id":3376599,"comment_id":3509198,"body_markdown":"The idea is that this is wrong-headed approach and should not be necessary in any not-hard-real-time environment, not that it&#39;s &quot;pretty close&quot;.","body":"The idea is that this is wrong-headed approach and should not be necessary in any not-hard-real-time environment, not that it&#39;s &quot;pretty close&quot;."},{"owner":{"account_id":83889,"reputation":26612,"user_id":234901,"accept_rate":97,"display_name":"Enno Shioji"},"score":0,"creation_date":1280546601,"post_id":3376599,"comment_id":3509238,"body_markdown":"Even in a very simple performance test for modules, synchronizing the &quot;start of processing&quot; is very much necessary to obtain valid data.. And damn close is much preferable in such cases.","body":"Even in a very simple performance test for modules, synchronizing the &quot;start of processing&quot; is very much necessary to obtain valid data.. And damn close is much preferable in such cases."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1280546700,"post_id":3376599,"comment_id":3509242,"body_markdown":"It is *also* impossible because Java thread scheduling does not give you millisecond accuracy.","body":"It is <i>also</i> impossible because Java thread scheduling does not give you millisecond accuracy."},{"owner":{"account_id":165022,"reputation":5631,"user_id":388155,"accept_rate":80,"display_name":"samitgaur"},"score":0,"creation_date":1280546840,"post_id":3376599,"comment_id":3509249,"body_markdown":"@Nikolai - I totally agree. And the OP doesn&#39;t want darn close. OP wants *same split second*","body":"@Nikolai - I totally agree. And the OP doesn&#39;t want darn close. OP wants <i>same split second</i>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1280546849,"post_id":3376599,"comment_id":3509251,"body_markdown":"@Zwei - you can probably get &quot;damn close&quot; most of the time on an otherwise idle machine.  But if you need it all of the time, you need to program in a language like C, on a machine with hard realtime support in the OS.  Consider also that the JVM might be running a full GC at the &quot;split second&quot; you want to start your threads.","body":"@Zwei - you can probably get &quot;damn close&quot; most of the time on an otherwise idle machine.  But if you need it all of the time, you need to program in a language like C, on a machine with hard realtime support in the OS.  Consider also that the JVM might be running a full GC at the &quot;split second&quot; you want to start your threads."},{"owner":{"account_id":165022,"reputation":5631,"user_id":388155,"accept_rate":80,"display_name":"samitgaur"},"score":0,"creation_date":1280546902,"post_id":3376599,"comment_id":3509256,"body_markdown":"@Stephen - Exactly. I think even sleep is not *guaranteed* to be accurate down to a millisecond.","body":"@Stephen - Exactly. I think even sleep is not <i>guaranteed</i> to be accurate down to a millisecond."},{"owner":{"account_id":83889,"reputation":26612,"user_id":234901,"accept_rate":97,"display_name":"Enno Shioji"},"score":0,"creation_date":1280547412,"post_id":3376599,"comment_id":3509285,"body_markdown":"@Stephen: Yes, I agree. But there is still value in doing this because at least you can prevent having full GC between the start of t1/t2, etc. That kind of preparation is necessary to make performance data as reliable as possible. But then again I agree that we should be warning the OP about your point.. So +1 for the answer!","body":"@Stephen: Yes, I agree. But there is still value in doing this because at least you can prevent having full GC between the start of t1/t2, etc. That kind of preparation is necessary to make performance data as reliable as possible. But then again I agree that we should be warning the OP about your point.. So +1 for the answer!"},{"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"score":1,"creation_date":1280598284,"post_id":3376599,"comment_id":3512071,"body_markdown":"It is a perfectly valid synchronization problem. Threads need to initialize some data, make sure that no one goes into a critical region without proper validation. And the fact that CyclicBerrier is included in javas concurrent package means that this an important problem.","body":"It is a perfectly valid synchronization problem. Threads need to initialize some data, make sure that no one goes into a critical region without proper validation. And the fact that CyclicBerrier is included in javas concurrent package means that this an important problem."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1511257454,"post_id":3376599,"comment_id":81772990,"body_markdown":"@DenisTulskiy: you’re describing the main intent of `CyclicBarrier`, which, after all, is not to “start threads at ‘exactly’ the same time” but to ensure that *no thread starts before a certain event*. Which thankfully doesn’t require the guaranty that each thread proceeds at exactly the same time, as no such guaranty exists.","body":"@DenisTulskiy: you’re describing the main intent of <code>CyclicBarrier</code>, which, after all, is not to “start threads at ‘exactly’ the same time” but to ensure that <i>no thread starts before a certain event</i>. Which thankfully doesn’t require the guaranty that each thread proceeds at exactly the same time, as no such guaranty exists."}],"tags":[],"owner":{"account_id":165022,"reputation":5631,"user_id":388155,"accept_rate":80,"display_name":"samitgaur"},"comment_count":10,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1280600292,"creation_date":1280545361,"answer_id":3376599,"question_id":3376586,"body_markdown":"It is not possible, at least on a single core computer. But why do you want that? Even if you were able to start two threads at exactly the same second, they will progress differently because scheduling is not in your control.\r\n\r\nEdit: (In response to some of the comments) It is a perfectly valid requirement to *synchronize the state or progress* of multiple threads and `CyclicBarrier` is a great tool. I answered the question whether it is possible to start multiple threads *at exactly the same time*. `CyclicBarrier` will guarantee that the threads proceed when they are exactly at the desired state but it doesn&#39;t guarantee that they will start or resume at *exactly* the same time, although it might be pretty close. There&#39;s no mention of synchronization needs in the question.","title":"How to start two threads at &quot;exactly&quot; the same time","body":"<p>It is not possible, at least on a single core computer. But why do you want that? Even if you were able to start two threads at exactly the same second, they will progress differently because scheduling is not in your control.</p>\n\n<p>Edit: (In response to some of the comments) It is a perfectly valid requirement to <em>synchronize the state or progress</em> of multiple threads and <code>CyclicBarrier</code> is a great tool. I answered the question whether it is possible to start multiple threads <em>at exactly the same time</em>. <code>CyclicBarrier</code> will guarantee that the threads proceed when they are exactly at the desired state but it doesn't guarantee that they will start or resume at <em>exactly</em> the same time, although it might be pretty close. There's no mention of synchronization needs in the question.</p>\n"},{"comments":[{"owner":{"account_id":22779,"reputation":129011,"user_id":56541,"accept_rate":81,"display_name":"David Z"},"score":6,"creation_date":1280546422,"post_id":3376628,"comment_id":3509226,"body_markdown":"+1 nice thinking ;-) Although of course it doesn&#39;t make the threads start at _exactly_ the same time in real time (at least not on a single-core chip, and not guaranteed even on a multi-core chip), but I can&#39;t think of any way to do better.","body":"+1 nice thinking ;-) Although of course it doesn&#39;t make the threads start at <i>exactly</i> the same time in real time (at least not on a single-core chip, and not guaranteed even on a multi-core chip), but I can&#39;t think of any way to do better."},{"owner":{"account_id":52266,"reputation":77724,"user_id":156142,"accept_rate":100,"display_name":"ChaosPandion"},"score":0,"creation_date":1280546458,"post_id":3376628,"comment_id":3509227,"body_markdown":"Will this hook into environment specific wait handles?","body":"Will this hook into environment specific wait handles?"},{"owner":{"account_id":52266,"reputation":77724,"user_id":156142,"accept_rate":100,"display_name":"ChaosPandion"},"score":0,"creation_date":1280546873,"post_id":3376628,"comment_id":3509255,"body_markdown":"@Santa - The Win32 API for example offers different primitives. One useful type is the manual reset event returned when you call `CreateEvent`. http://msdn.microsoft.com/en-us/library/ms686364%28VS.85%29.aspx","body":"@Santa - The Win32 API for example offers different primitives. One useful type is the manual reset event returned when you call <code>CreateEvent</code>. <a href=\"http://msdn.microsoft.com/en-us/library/ms686364%28VS.85%29.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/ms686364%28VS.85%29.aspx</a>"},{"owner":{"account_id":52266,"reputation":77724,"user_id":156142,"accept_rate":100,"display_name":"ChaosPandion"},"score":1,"creation_date":1280548523,"post_id":3376628,"comment_id":3509335,"body_markdown":"@Zwei - Well, whatever it is, this is the answer I would have posted had I been a Java guru.","body":"@Zwei - Well, whatever it is, this is the answer I would have posted had I been a Java guru."},{"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"score":0,"creation_date":1280597956,"post_id":3376628,"comment_id":3512043,"body_markdown":"+1 I remember doing the barrier problem in my OS class for several distributed nodes in C. It was a mess.","body":"+1 I remember doing the barrier problem in my OS class for several distributed nodes in C. It was a mess."},{"owner":{"account_id":1322512,"reputation":18477,"user_id":1268003,"accept_rate":82,"display_name":"Martin Andersson"},"score":0,"creation_date":1394962956,"post_id":3376628,"comment_id":34118127,"body_markdown":"The first example provided in the [CountDownLatch](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html) might give the impression of a synchronized start. That is not true but could easily be patched (see my own [blog post](http://blog.martinandersson.com/javas-countdownlatch-javadoc-is-flawed/) about it).","body":"The first example provided in the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow noreferrer\">CountDownLatch</a> might give the impression of a synchronized start. That is not true but could easily be patched (see my own <a href=\"http://blog.martinandersson.com/javas-countdownlatch-javadoc-is-flawed/\" rel=\"nofollow noreferrer\">blog post</a> about it)."},{"owner":{"account_id":83889,"reputation":26612,"user_id":234901,"accept_rate":97,"display_name":"Enno Shioji"},"score":0,"creation_date":1394994648,"post_id":3376628,"comment_id":34128900,"body_markdown":"@MartinAndersson: If I understand you correctly, you are talking about the delay in readying the threads before they block on the latch. I see how that can be a problem. I guess it&#39;s a more general problem rather than specific to CountDownLatch. In the real world, people would probably do warm ups to cope with other factors like JIT compilation, which would also solve this problem.","body":"@MartinAndersson: If I understand you correctly, you are talking about the delay in readying the threads before they block on the latch. I see how that can be a problem. I guess it&#39;s a more general problem rather than specific to CountDownLatch. In the real world, people would probably do warm ups to cope with other factors like JIT compilation, which would also solve this problem."},{"owner":{"account_id":404190,"reputation":3627,"user_id":772374,"accept_rate":89,"display_name":"stuckedunderflow"},"score":0,"creation_date":1418011836,"post_id":3376628,"comment_id":43156623,"body_markdown":"@EnnoShioji, I really wonder if we put high number of threads lets say 10,000 threads would it execute at the same time or not?","body":"@EnnoShioji, I really wonder if we put high number of threads lets say 10,000 threads would it execute at the same time or not?"},{"owner":{"account_id":83889,"reputation":26612,"user_id":234901,"accept_rate":97,"display_name":"Enno Shioji"},"score":0,"creation_date":1418024864,"post_id":3376628,"comment_id":43160424,"body_markdown":"@Halim: It won&#39;t, at that number you&#39;ll be having lots of context switching which drags down the whole performance and you&#39;ll see higher variance (at least on today&#39;s common hardwares..).","body":"@Halim: It won&#39;t, at that number you&#39;ll be having lots of context switching which drags down the whole performance and you&#39;ll see higher variance (at least on today&#39;s common hardwares..)."},{"owner":{"account_id":404190,"reputation":3627,"user_id":772374,"accept_rate":89,"display_name":"stuckedunderflow"},"score":0,"creation_date":1418027920,"post_id":3376628,"comment_id":43161468,"body_markdown":"@EnnoShioji. Thanks. I&#39;m thinking the same. But I have requirements to test 10k threads parallel/simultaneously/at the same time not concurrently for performance testing. How to achieve that? Any idea?","body":"@EnnoShioji. Thanks. I&#39;m thinking the same. But I have requirements to test 10k threads parallel/simultaneously/at the same time not concurrently for performance testing. How to achieve that? Any idea?"},{"owner":{"account_id":83889,"reputation":26612,"user_id":234901,"accept_rate":97,"display_name":"Enno Shioji"},"score":0,"creation_date":1418065565,"post_id":3376628,"comment_id":43181929,"body_markdown":"@Halim: Depends on what you want to do. If you want to make lots of concurrent network calls for example, you can use non blocking IO.","body":"@Halim: Depends on what you want to do. If you want to make lots of concurrent network calls for example, you can use non blocking IO."},{"owner":{"account_id":2705335,"reputation":739,"user_id":2335052,"accept_rate":41,"display_name":"Billyjoker"},"score":0,"creation_date":1513594854,"post_id":3376628,"comment_id":82698984,"body_markdown":"If you have 2 threads, do you could make it work with gate = new CyclicBarrier(2) ? the second await() call would trigger the both threads","body":"If you have 2 threads, do you could make it work with gate = new CyclicBarrier(2) ? the second await() call would trigger the both threads"},{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":0,"creation_date":1541785842,"post_id":3376628,"comment_id":93348636,"body_markdown":"This solution depends on knowing the number of threads. The solution by @aNish using a `CountDownLatch` is better in this respect, as it is simpler and less prone to off-by-one errors or more resilient to change. Also, there is nothing ‘cyclic’ here, so the use of a `CyclicBarrier` is all but intuitive.","body":"This solution depends on knowing the number of threads. The solution by @aNish using a <code>CountDownLatch</code> is better in this respect, as it is simpler and less prone to off-by-one errors or more resilient to change. Also, there is nothing ‘cyclic’ here, so the use of a <code>CyclicBarrier</code> is all but intuitive."}],"tags":[],"owner":{"account_id":83889,"reputation":26612,"user_id":234901,"accept_rate":97,"display_name":"Enno Shioji"},"comment_count":13,"down_vote_count":0,"up_vote_count":155,"is_accepted":true,"score":155,"last_activity_date":1395676884,"creation_date":1280546084,"answer_id":3376628,"question_id":3376586,"body_markdown":"To start the threads at exactly the same time (at least as good as possible), you can use a [CyclicBarrier][1]:\r\n\r\n    // We want to start just 2 threads at the same time, but let&#39;s control that \r\n    // timing from the main thread. That&#39;s why we have 3 &quot;parties&quot; instead of 2.\r\n    final CyclicBarrier gate = new CyclicBarrier(3);\r\n    \r\n    Thread t1 = new Thread(){\r\n        public void run(){\r\n            gate.await();\r\n            //do stuff    \r\n        }};\r\n    Thread t2 = new Thread(){\r\n        public void run(){\r\n            gate.await();\r\n            //do stuff    \r\n        }};\r\n\r\n    t1.start();\r\n    t2.start();\r\n\r\n    // At this point, t1 and t2 are blocking on the gate. \r\n    // Since we gave &quot;3&quot; as the argument, gate is not opened yet.\r\n    // Now if we block on the gate from the main thread, it will open\r\n    // and all threads will start to do stuff!\r\n\r\n    gate.await();\r\n    System.out.println(&quot;all threads started&quot;);\r\n    \r\nThis doesn&#39;t have to be a `CyclicBarrier`, you could also use a `CountDownLatch` or even a lock.   \r\n\r\nThis still can&#39;t make sure that they are started *exactly* at the same time on standard JVMs, but you can get pretty close. Getting pretty close is still useful when you do for example performance tests. E.g., if you are trying to measure throughput of a data structure with different number of threads hitting it, you want to use this kind of construct to get the most accurate result possible.  \r\n\r\nOn other platforms, starting threads *exactly* can be a very valid requirement btw.\r\n\r\n\r\n\r\n   [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/CyclicBarrier.html","title":"How to start two threads at &quot;exactly&quot; the same time","body":"<p>To start the threads at exactly the same time (at least as good as possible), you can use a <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/CyclicBarrier.html\" rel=\"noreferrer\">CyclicBarrier</a>:</p>\n\n<pre><code>// We want to start just 2 threads at the same time, but let's control that \n// timing from the main thread. That's why we have 3 \"parties\" instead of 2.\nfinal CyclicBarrier gate = new CyclicBarrier(3);\n\nThread t1 = new Thread(){\n    public void run(){\n        gate.await();\n        //do stuff    \n    }};\nThread t2 = new Thread(){\n    public void run(){\n        gate.await();\n        //do stuff    \n    }};\n\nt1.start();\nt2.start();\n\n// At this point, t1 and t2 are blocking on the gate. \n// Since we gave \"3\" as the argument, gate is not opened yet.\n// Now if we block on the gate from the main thread, it will open\n// and all threads will start to do stuff!\n\ngate.await();\nSystem.out.println(\"all threads started\");\n</code></pre>\n\n<p>This doesn't have to be a <code>CyclicBarrier</code>, you could also use a <code>CountDownLatch</code> or even a lock.   </p>\n\n<p>This still can't make sure that they are started <em>exactly</em> at the same time on standard JVMs, but you can get pretty close. Getting pretty close is still useful when you do for example performance tests. E.g., if you are trying to measure throughput of a data structure with different number of threads hitting it, you want to use this kind of construct to get the most accurate result possible.  </p>\n\n<p>On other platforms, starting threads <em>exactly</em> can be a very valid requirement btw.</p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1511257232,"post_id":3376691,"comment_id":81772826,"body_markdown":"…and even if we assume a simultaneous start, each thread has its own timeline, all of them being *concurrent*, but not necessarily parallel, so whatever someone assumes about the simultaneity of threads can (will) be void in the next nanosecond (of whichever timeline)…","body":"…and even if we assume a simultaneous start, each thread has its own timeline, all of them being <i>concurrent</i>, but not necessarily parallel, so whatever someone assumes about the simultaneity of threads can (will) be void in the next nanosecond (of whichever timeline)…"}],"tags":[],"owner":{"account_id":141726,"reputation":10755,"user_id":348975,"accept_rate":86,"display_name":"emory"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1280547768,"creation_date":1280547768,"answer_id":3376691,"question_id":3376586,"body_markdown":"\r\n\r\n 1. As I understand it, the JVM mostly delegates this stuff to the operating system.  So the answer will be OS-specific.\r\n 2. It is clearly impossible on a single-processor machines.\r\n 3.  It is more complicated with respect to a multi-processor machine.  According to the [Relativity of simultaneity][1], &quot;it is impossible to say in an absolute sense whether two events occur at the same time if those events are separated in space.&quot;  No matter how close your processors are, they are separated in space.\r\n     1. If you can accept relative simultaneity, then it is probably easier just to simulate it using techniques discussed in other responses.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Relativity_of_simultaneity\r\n  [2]: http://en.wikipedia.org/wiki/Inertial_reference_frame","title":"How to start two threads at &quot;exactly&quot; the same time","body":"<ol>\n<li>As I understand it, the JVM mostly delegates this stuff to the operating system.  So the answer will be OS-specific.</li>\n<li>It is clearly impossible on a single-processor machines.</li>\n<li>It is more complicated with respect to a multi-processor machine.  According to the <a href=\"http://en.wikipedia.org/wiki/Relativity_of_simultaneity\" rel=\"noreferrer\">Relativity of simultaneity</a>, \"it is impossible to say in an absolute sense whether two events occur at the same time if those events are separated in space.\"  No matter how close your processors are, they are separated in space.\n\n<ol>\n<li>If you can accept relative simultaneity, then it is probably easier just to simulate it using techniques discussed in other responses.</li>\n</ol></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":176700,"reputation":1079,"user_id":407549,"display_name":"aNish"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1280595335,"creation_date":1280595335,"answer_id":3379003,"question_id":3376586,"body_markdown":"You could use a CountDownLatch for this.\r\nPlease find below a sample.\r\nThough t1 and t2 are started, these threads keep waiting till the main thread counts down the latch. The number of countdowns required is mentioned in the constructor. Countdown latch can also be used to wait for threads to finish execution so that the main thread can proceed further(the reverse case). This class was included since Java 1.5.\r\n\r\n    import java.util.concurrent.CountDownLatch;\r\n    \r\n    \r\n    public class ThreadExample\r\n    {\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tCountDownLatch latch = new CountDownLatch(1);\r\n    \t\tMyThread t1 = new MyThread(latch);\r\n    \t\tMyThread t2 = new MyThread(latch);\r\n    \t\tnew Thread(t1).start();\r\n    \t\tnew Thread(t2).start();\r\n    \t\t//Do whatever you want\r\n    \t\tlatch.countDown();\t\t\t//This will inform all the threads to start\r\n    \t\t//Continue to do whatever\r\n    \t}\r\n    }\r\n    \r\n    class MyThread implements Runnable\r\n    {\r\n    \tCountDownLatch latch;\r\n    \tpublic MyThread(CountDownLatch latch) \r\n    \t{\r\n    \t\tthis.latch = latch;\r\n    \t}\r\n    \t@Override\r\n    \tpublic void run() \r\n    \t{\r\n    \t\ttry \r\n    \t\t{\r\n    \t\t\tlatch.await();\t\t\t//The thread keeps waiting till it is informed\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t//Do the actual thing\r\n    \t}\r\n    }","title":"How to start two threads at &quot;exactly&quot; the same time","body":"<p>You could use a CountDownLatch for this.\nPlease find below a sample.\nThough t1 and t2 are started, these threads keep waiting till the main thread counts down the latch. The number of countdowns required is mentioned in the constructor. Countdown latch can also be used to wait for threads to finish execution so that the main thread can proceed further(the reverse case). This class was included since Java 1.5.</p>\n\n<pre><code>import java.util.concurrent.CountDownLatch;\n\n\npublic class ThreadExample\n{\n    public static void main(String[] args) \n    {\n        CountDownLatch latch = new CountDownLatch(1);\n        MyThread t1 = new MyThread(latch);\n        MyThread t2 = new MyThread(latch);\n        new Thread(t1).start();\n        new Thread(t2).start();\n        //Do whatever you want\n        latch.countDown();          //This will inform all the threads to start\n        //Continue to do whatever\n    }\n}\n\nclass MyThread implements Runnable\n{\n    CountDownLatch latch;\n    public MyThread(CountDownLatch latch) \n    {\n        this.latch = latch;\n    }\n    @Override\n    public void run() \n    {\n        try \n        {\n            latch.await();          //The thread keeps waiting till it is informed\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        //Do the actual thing\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27673193,"reputation":1,"user_id":21123566,"display_name":"Piotr Stawirej"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1697484727,"creation_date":1697371279,"answer_id":77296548,"question_id":3376586,"body_markdown":"I&#39;ve checked proposed answers and I&#39;ve noticed that using classic spin locks works better when starting threads at the &quot;same moment&quot; and success rate for threads collisions is better.\r\n\r\n    AtomicInteger startedThreadsCount = new AtomicInteger(0);\r\n    AtomicBoolean spinLock = new AtomicBoolean(true);\r\n\r\n\r\n    void collide(Runnable runnable) {\r\n\r\n        for (int i = 0; i &lt; threadsCount; i++) {\r\n          executor.execute(() -&gt; decorate(runnable));\r\n        }\r\n\r\n        while (startedThreadsCount.get() &lt; threadsCount)\r\n          ;\r\n\r\n        spinLock.set(false);\r\n    }\r\n\r\n    void decorate(Runnable runnable) {\r\n    \r\n        startedThreadsCount.incrementAndGet();\r\n    \r\n        while (startedThreadsCount.get() &lt; threadsCount)\r\n          ;\r\n    \r\n        while (spinLock.get())\r\n          ;\r\n    \r\n         runnable.run();\r\n      }\r\n\r\nI&#39;ve created [threads-collider][1] library which tries to run threads at &quot;exactly&quot; the same time to expose concurrency issues e.g. in simple unit testing.\r\n\r\n  [1]: https://github.com/stawirej/threads-collider","title":"How to start two threads at &quot;exactly&quot; the same time","body":"<p>I've checked proposed answers and I've noticed that using classic spin locks works better when starting threads at the &quot;same moment&quot; and success rate for threads collisions is better.</p>\n<pre><code>AtomicInteger startedThreadsCount = new AtomicInteger(0);\nAtomicBoolean spinLock = new AtomicBoolean(true);\n\n\nvoid collide(Runnable runnable) {\n\n    for (int i = 0; i &lt; threadsCount; i++) {\n      executor.execute(() -&gt; decorate(runnable));\n    }\n\n    while (startedThreadsCount.get() &lt; threadsCount)\n      ;\n\n    spinLock.set(false);\n}\n\nvoid decorate(Runnable runnable) {\n\n    startedThreadsCount.incrementAndGet();\n\n    while (startedThreadsCount.get() &lt; threadsCount)\n      ;\n\n    while (spinLock.get())\n      ;\n\n     runnable.run();\n  }\n</code></pre>\n<p>I've created <a href=\"https://github.com/stawirej/threads-collider\" rel=\"nofollow noreferrer\">threads-collider</a> library which tries to run threads at &quot;exactly&quot; the same time to expose concurrency issues e.g. in simple unit testing.</p>\n"}],"owner":{"account_id":176485,"reputation":2275,"user_id":407210,"accept_rate":62,"display_name":"figaro"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88622,"favorite_count":0,"down_vote_count":2,"up_vote_count":110,"accepted_answer_id":3376628,"answer_count":5,"score":108,"last_activity_date":1697484727,"creation_date":1280545032,"question_id":3376586,"body_markdown":"The threads should start at same split second. I understand, if you do `thread1.start()`, it will take some milliseconds before the next execution of `thread2.start()`.\r\n\r\nIs it even possible or impossible?","title":"How to start two threads at &quot;exactly&quot; the same time","body":"<p>The threads should start at same split second. I understand, if you do <code>thread1.start()</code>, it will take some milliseconds before the next execution of <code>thread2.start()</code>.</p>\n\n<p>Is it even possible or impossible?</p>\n"},{"tags":["java","spring-boot","thymeleaf","html2pdf"],"answers":[{"comments":[{"owner":{"account_id":15357943,"reputation":36,"user_id":11079735,"display_name":"KHALEF Ahmed"},"score":0,"creation_date":1697483534,"post_id":77304416,"comment_id":136283020,"body_markdown":"no, i got the same error","body":"no, i got the same error"}],"tags":[],"owner":{"account_id":20368743,"reputation":1,"user_id":14941412,"display_name":"gerryfudd"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697483452,"creation_date":1697483452,"answer_id":77304416,"question_id":77304291,"body_markdown":"It looks like you may need to include\r\n\r\n```java\r\nsecondaryTemplateResolver.setSuffix(&quot;.html&quot;);\r\n```\r\n\r\nin your `setup` method.","title":"convert html to pdf via Thymeleaf and itest (html2pdf)","body":"<p>It looks like you may need to include</p>\n<pre class=\"lang-java prettyprint-override\"><code>secondaryTemplateResolver.setSuffix(&quot;.html&quot;);\n</code></pre>\n<p>in your <code>setup</code> method.</p>\n"}],"owner":{"account_id":15357943,"reputation":36,"user_id":11079735,"display_name":"KHALEF Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697483452,"creation_date":1697481947,"question_id":77304291,"body_markdown":"But when i run my test i had this error :\r\n```\r\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;classpath:templates/invoice_template&quot;)\r\n\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:235)\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\r\n\tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:649)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064)\r\n\tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)\r\n\tat fr.pmu.pprt.lambdagenpdf.service.HtmlGenerationService.generateCompensationHtml(HtmlGenerationService.java:53)\r\n\tat fr.pmu.pprt.lambdagenpdf.service.HtmlGenerationServiceTest.testGenerateCompensationHtml(HtmlGenerationServiceTest.java:42)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\nCaused by: java.io.FileNotFoundException: ClassLoader resource &quot;classpath:templates/invoice_template&quot; could not be resolved\r\n\tat org.thymeleaf.templateresource.ClassLoaderTemplateResource.reader(ClassLoaderTemplateResource.java:130)\r\n\tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:223)\r\n\t... 77 mored \r\n```\r\n(the resource exists in src/test/recources and src/main/recources)\r\nI want to run my tests and when I put a path with the classpath it finds it.\r\n\r\n\r\n```\r\n@BeforeEach\r\n    public void setUp() {\r\n        ClassLoaderTemplateResolver templateResolver = new ClassLoaderTemplateResolver();\r\n        templateResolver.setPrefix(&quot;classpath:templates/&quot;);\r\n        templateResolver.setTemplateMode(&quot;HTML&quot;);\r\n        templateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        TemplateEngine templateEngine = new TemplateEngine();\r\n        templateEngine.setTemplateResolver(templateResolver);\r\n        htmlGenerationService = new HtmlGenerationService(templateEngine);\r\n    }\r\n\r\n @Test\r\n    void testGenerateCompensationHtml(@GivenTextResource(&quot;expected.html&quot;) String expectedHtml) {\r\n\r\n        List&lt;CompensationData&gt; compensationDataList = createData();\r\n        String generatedHtml = htmlGenerationService.generateHtml(compensationDataList);\r\n        assertEquals(expectedHtml, generatedHtml);\r\n    }\r\n```\r\n\r\nwhen I run the html generation test, the templateEngine can&#39;t find the template.html even though I&#39;ve specified it correctly ","title":"convert html to pdf via Thymeleaf and itest (html2pdf)","body":"<p>But when i run my test i had this error :</p>\n<pre><code>org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;classpath:templates/invoice_template&quot;)\n\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:235)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:649)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1064)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1053)\n    at fr.pmu.pprt.lambdagenpdf.service.HtmlGenerationService.generateCompensationHtml(HtmlGenerationService.java:53)\n    at fr.pmu.pprt.lambdagenpdf.service.HtmlGenerationServiceTest.testGenerateCompensationHtml(HtmlGenerationServiceTest.java:42)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: java.io.FileNotFoundException: ClassLoader resource &quot;classpath:templates/invoice_template&quot; could not be resolved\n    at org.thymeleaf.templateresource.ClassLoaderTemplateResource.reader(ClassLoaderTemplateResource.java:130)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:223)\n    ... 77 mored \n</code></pre>\n<p>(the resource exists in src/test/recources and src/main/recources)\nI want to run my tests and when I put a path with the classpath it finds it.</p>\n<pre><code>@BeforeEach\n    public void setUp() {\n        ClassLoaderTemplateResolver templateResolver = new ClassLoaderTemplateResolver();\n        templateResolver.setPrefix(&quot;classpath:templates/&quot;);\n        templateResolver.setTemplateMode(&quot;HTML&quot;);\n        templateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        TemplateEngine templateEngine = new TemplateEngine();\n        templateEngine.setTemplateResolver(templateResolver);\n        htmlGenerationService = new HtmlGenerationService(templateEngine);\n    }\n\n @Test\n    void testGenerateCompensationHtml(@GivenTextResource(&quot;expected.html&quot;) String expectedHtml) {\n\n        List&lt;CompensationData&gt; compensationDataList = createData();\n        String generatedHtml = htmlGenerationService.generateHtml(compensationDataList);\n        assertEquals(expectedHtml, generatedHtml);\n    }\n</code></pre>\n<p>when I run the html generation test, the templateEngine can't find the template.html even though I've specified it correctly</p>\n"},{"tags":["java","multithreading","jvm","java-memory-model","safe-publication"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697457633,"post_id":77301299,"comment_id":136278321,"body_markdown":"There are plenty of safe publication mechanisms. It doesn’t have to be a `volatile` reference. The question should rather be, why do you assume an unsafe publication, as only an unsafe publication would need the extended guarantees of `final` fields.","body":"There are plenty of safe publication mechanisms. It doesn’t have to be a <code>volatile</code> reference. The question should rather be, why do you assume an unsafe publication, as only an unsafe publication would need the extended guarantees of <code>final</code> fields."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1697463069,"post_id":77301299,"comment_id":136279363,"body_markdown":"I’m not sure what you mean by “we can end up in the situation when some thread has a reference to an object whose fields, even if they&#39;re probably volatile, may not be properly initialised.”  The OpenJDK test you’ve referenced does not have any explicit constructors, so there is no initialization being tested.  By definition, a reference to an object is a reference to a fully initialized object, except in the rare case where a constructor passes `this` to other objects (which is a bad practice for exactly this reason).","body":"I’m not sure what you mean by “we can end up in the situation when some thread has a reference to an object whose fields, even if they&#39;re probably volatile, may not be properly initialised.”  The OpenJDK test you’ve referenced does not have any explicit constructors, so there is no initialization being tested.  By definition, a reference to an object is a reference to a fully initialized object, except in the rare case where a constructor passes <code>this</code> to other objects (which is a bad practice for exactly this reason)."},{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":1,"creation_date":1697480602,"post_id":77301299,"comment_id":136282588,"body_markdown":"@VGR The OpenJDK test does have an explicit constructor for the Holder class, which has a volatile field, and it demonstrates the race condition as asked in the question. The case you mention with respect to passing `this` only refers to classes which are depending on `final` fields to permit safe publication. Passing `this` to another thread within the constructor defeats the protection offered by the final fields.","body":"@VGR The OpenJDK test does have an explicit constructor for the Holder class, which has a volatile field, and it demonstrates the race condition as asked in the question. The case you mention with respect to passing <code>this</code> only refers to classes which are depending on <code>final</code> fields to permit safe publication. Passing <code>this</code> to another thread within the constructor defeats the protection offered by the final fields."}],"answers":[{"comments":[{"owner":{"account_id":7845011,"reputation":323,"user_id":5930373,"accept_rate":60,"display_name":"WildWind03"},"score":0,"creation_date":1698304156,"post_id":77304410,"comment_id":136388724,"body_markdown":"Well, if I get back to my original problem, I&#39;d say that If I have a mutable non-final field in my object and I want to use that object in another thread, I need to somehow publish it safely. As long as marking that field as final is not possible, I need to use a different mechanism for safe publication. These mechanisms are described here, for instance: https://shipilev.net/blog/2014/safe-public-construction/#_safe_publication. And the exchange the reference via a volatile field, as you mentioned in the answer, is one of the options","body":"Well, if I get back to my original problem, I&#39;d say that If I have a mutable non-final field in my object and I want to use that object in another thread, I need to somehow publish it safely. As long as marking that field as final is not possible, I need to use a different mechanism for safe publication. These mechanisms are described here, for instance: <a href=\"https://shipilev.net/blog/2014/safe-public-construction/#_safe_publication\" rel=\"nofollow noreferrer\">shipilev.net/blog/2014/safe-public-construction/&hellip;</a>. And the exchange the reference via a volatile field, as you mentioned in the answer, is one of the options"}],"tags":[],"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697483363,"creation_date":1697483363,"answer_id":77304410,"question_id":77301299,"body_markdown":"The spec [writes](https://docs.oracle.com/javase/specs/jls/se21/html/jls-17.html#jls-17.4.4):\r\n\r\n&gt; A write to a volatile variable `v` *synchronizes-with* all subsequent reads of `v` by any thread (where &quot;subsequent&quot; is defined according to the synchronization order). \r\n\r\nNote the &quot;subsequent&quot; part. Making the field `volatile` does not ensure that all reads of the field are subsequent to the write, it only ensures that **if** a read is subsequent, it will see the write. \r\n\r\nThat is, reading a volatile field will not wait for the field to have been written, but read it right away. If you wish to ensure that the field has been written at the time it is read, you need to employ some means of waiting to delay that read. More formally, the thread that initializes the object must, after initialization is done, *synchronize-with* the thread that wishes to read the object, thereby establishing a *happens-before* relationship between the write of the field, and the read (in fact, if you do that, the field itself needn&#39;t be volatile). \r\n\r\nYou can use any of the synchronization actions the Java Language provides to effect that synchronization.\r\n\r\nPut diffently, if a thread safely publishes the object after it has been initialized, the field doesn&#39;t need to be `volatile`. But if the thread shares a reference to the object under construction through a data race, making its field `volatile` will not ensure it has been written before it is read.","title":"Is it possible to guarantee safe publication of a non-final field in Java?","body":"<p>The spec <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-17.html#jls-17.4.4\" rel=\"nofollow noreferrer\">writes</a>:</p>\n<blockquote>\n<p>A write to a volatile variable <code>v</code> <em>synchronizes-with</em> all subsequent reads of <code>v</code> by any thread (where &quot;subsequent&quot; is defined according to the synchronization order).</p>\n</blockquote>\n<p>Note the &quot;subsequent&quot; part. Making the field <code>volatile</code> does not ensure that all reads of the field are subsequent to the write, it only ensures that <strong>if</strong> a read is subsequent, it will see the write.</p>\n<p>That is, reading a volatile field will not wait for the field to have been written, but read it right away. If you wish to ensure that the field has been written at the time it is read, you need to employ some means of waiting to delay that read. More formally, the thread that initializes the object must, after initialization is done, <em>synchronize-with</em> the thread that wishes to read the object, thereby establishing a <em>happens-before</em> relationship between the write of the field, and the read (in fact, if you do that, the field itself needn't be volatile).</p>\n<p>You can use any of the synchronization actions the Java Language provides to effect that synchronization.</p>\n<p>Put diffently, if a thread safely publishes the object after it has been initialized, the field doesn't need to be <code>volatile</code>. But if the thread shares a reference to the object under construction through a data race, making its field <code>volatile</code> will not ensure it has been written before it is read.</p>\n"}],"owner":{"account_id":7845011,"reputation":323,"user_id":5930373,"accept_rate":60,"display_name":"WildWind03"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77304410,"answer_count":1,"score":2,"last_activity_date":1697483363,"creation_date":1697453069,"question_id":77301299,"body_markdown":"Let&#39;s imagine we have some class with one volatile non-final field that we want to initialise with a default value passed through a constructor:\r\n```java\r\npublic class MyClass {\r\n    private volatile String s;\r\n\r\n    MyClass(String s) {\r\n        this.s = s;\r\n    }\r\n}\r\n```\r\nWe want to use class `MyClass` in a concurrent environment and we want to have guarantees that if some thread gets a reference to some instance of `MyClass`, then `s` is properly initialised and visible for the thread.\r\n\r\nIf the field `s` is final, it would be safely published due to the final semantics guarantees. This is well documented in JMM (https://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html) and doesn&#39;t make any questions. However, in our example, `s` is not final and the final semantics doesn&#39;t apply here.\r\n\r\nWe could think that as long as `a` is volatile, there&#39;s a happens-before relation between a write in constructor and a read in some other thread. However, OpenJDK has a test that proves that there&#39;s no such guarantee here: https://github.com/openjdk/jcstress/blob/0.16/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/advanced/AdvancedJMM_13_VolatileVsFinal.java.\r\n\r\nGiven all these considerations, how fare it is to say that it&#39;s impossible to guarantee a safe publication of any mutable non-final field? As long as we don&#39;t have a final modifier on our field, we can end up in the situation when some thread has a reference to an object whose fields, even if they&#39;re probably volatile, may not be properly initialised, and this problem is hard to fix.\r\n\r\nThe only solution I see here is to make a thread, which creates an instance of `MyClass`, to pass a reference to the instance though a volatile reference. Then the other thread read will be related to the first thread write by the happens-before relation, and the second thead will be forced to see all the changes made by the first thread in the constructor, including the write to the volatile variable.","title":"Is it possible to guarantee safe publication of a non-final field in Java?","body":"<p>Let's imagine we have some class with one volatile non-final field that we want to initialise with a default value passed through a constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n    private volatile String s;\n\n    MyClass(String s) {\n        this.s = s;\n    }\n}\n</code></pre>\n<p>We want to use class <code>MyClass</code> in a concurrent environment and we want to have guarantees that if some thread gets a reference to some instance of <code>MyClass</code>, then <code>s</code> is properly initialised and visible for the thread.</p>\n<p>If the field <code>s</code> is final, it would be safely published due to the final semantics guarantees. This is well documented in JMM (<a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html</a>) and doesn't make any questions. However, in our example, <code>s</code> is not final and the final semantics doesn't apply here.</p>\n<p>We could think that as long as <code>a</code> is volatile, there's a happens-before relation between a write in constructor and a read in some other thread. However, OpenJDK has a test that proves that there's no such guarantee here: <a href=\"https://github.com/openjdk/jcstress/blob/0.16/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/advanced/AdvancedJMM_13_VolatileVsFinal.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jcstress/blob/0.16/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/advanced/AdvancedJMM_13_VolatileVsFinal.java</a>.</p>\n<p>Given all these considerations, how fare it is to say that it's impossible to guarantee a safe publication of any mutable non-final field? As long as we don't have a final modifier on our field, we can end up in the situation when some thread has a reference to an object whose fields, even if they're probably volatile, may not be properly initialised, and this problem is hard to fix.</p>\n<p>The only solution I see here is to make a thread, which creates an instance of <code>MyClass</code>, to pass a reference to the instance though a volatile reference. Then the other thread read will be related to the first thread write by the happens-before relation, and the second thead will be forced to see all the changes made by the first thread in the constructor, including the write to the volatile variable.</p>\n"},{"tags":["java","spring-boot","spring-security","aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1697513620,"post_id":77304370,"comment_id":136286007,"body_markdown":"Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you.","body":"Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1697513663,"post_id":77304370,"comment_id":136286012,"body_markdown":"My guess is that your `WebFilter` is not registered as a Spring bean/component while your controller is. Correct?","body":"My guess is that your <code>WebFilter</code> is not registered as a Spring bean/component while your controller is. Correct?"},{"owner":{"account_id":15069196,"reputation":704,"user_id":10875311,"display_name":"Akash Jain"},"score":0,"creation_date":1697555804,"post_id":77304370,"comment_id":136293285,"body_markdown":"yes, i have created webfilter with normal constructor and not with bean, i assume that&#39;s the issue","body":"yes, i have created webfilter with normal constructor and not with bean, i assume that&#39;s the issue"}],"owner":{"account_id":15069196,"reputation":704,"user_id":10875311,"display_name":"Akash Jain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697593167,"answer_count":0,"score":0,"last_activity_date":1697482898,"creation_date":1697482898,"question_id":77304370,"body_markdown":"i have implemented the interface class `ServerAuthenticationConverter` which is under `org.springframework.security.web.server.authentication`\r\n\r\n```\r\npublic class WebFilter implements ServerAuthenticationConverter {\r\n```\r\n\r\ni have an aspectJ class that should execute after the `convert` function, but for some reason my aspectJ does not work, it will work if i change the path to my controller,\r\ni.e\r\n\r\n```\r\n    @Pointcut(&quot;execution(public  *.convert(..))&quot;)\r\n    public void test() {\r\n    }\r\n    @AfterReturning(value = &quot;test()&quot;)\r\n    public void doP4ublish() {\r\n// do something -&gt; does not work\r\n     }\r\n```\r\n\r\n```\r\n    @Pointcut(&quot;execution(public  *.Controller..*(..))&quot;)\r\n    public void test() {\r\n    }\r\n    @AfterReturning(value = &quot;test()&quot;)\r\n    public void doP4ublish() {\r\n// do something -&gt; this will work\r\n     }\r\n```\r\n\r\nso my question why AspectJ does not work with  `ServerAuthenticationConverter`? why does it only starts working once it leaves the class.","title":"ServerAuthenticationConverter not working with aspectJ","body":"<p>i have implemented the interface class <code>ServerAuthenticationConverter</code> which is under <code>org.springframework.security.web.server.authentication</code></p>\n<pre><code>public class WebFilter implements ServerAuthenticationConverter {\n</code></pre>\n<p>i have an aspectJ class that should execute after the <code>convert</code> function, but for some reason my aspectJ does not work, it will work if i change the path to my controller,\ni.e</p>\n<pre><code>    @Pointcut(&quot;execution(public  *.convert(..))&quot;)\n    public void test() {\n    }\n    @AfterReturning(value = &quot;test()&quot;)\n    public void doP4ublish() {\n// do something -&gt; does not work\n     }\n</code></pre>\n<pre><code>    @Pointcut(&quot;execution(public  *.Controller..*(..))&quot;)\n    public void test() {\n    }\n    @AfterReturning(value = &quot;test()&quot;)\n    public void doP4ublish() {\n// do something -&gt; this will work\n     }\n</code></pre>\n<p>so my question why AspectJ does not work with  <code>ServerAuthenticationConverter</code>? why does it only starts working once it leaves the class.</p>\n"},{"tags":["java","arrays","algorithm","performance","multidimensional-array"],"comments":[{"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1676237632,"post_id":75429994,"comment_id":133092532,"body_markdown":"Show us your code that implements your algorithm. Otherwise we can&#39;t tell you what&#39;s wrong with it.","body":"Show us your code that implements your algorithm. Otherwise we can&#39;t tell you what&#39;s wrong with it."},{"owner":{"account_id":26292648,"reputation":11,"user_id":21037640,"display_name":"Iyo31"},"score":0,"creation_date":1676266610,"post_id":75429994,"comment_id":133095656,"body_markdown":"@JimMischel I have attached my code, with minimal understanding on how to account for the edge cases, or if I am even approaching the problem correctly. I will eagerly await your answer regardless. ;)","body":"@JimMischel I have attached my code, with minimal understanding on how to account for the edge cases, or if I am even approaching the problem correctly. I will eagerly await your answer regardless. ;)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1677238363,"post_id":75429994,"comment_id":133302873,"body_markdown":"What is the maximum size of your matrix?","body":"What is the maximum size of your matrix?"},{"owner":{"account_id":26292648,"reputation":11,"user_id":21037640,"display_name":"Iyo31"},"score":0,"creation_date":1677516218,"post_id":75429994,"comment_id":133348871,"body_markdown":"@Holger Any 2D matrix of whatever dimensions are fine; there is no maximum limit to its size.","body":"@Holger Any 2D matrix of whatever dimensions are fine; there is no maximum limit to its size."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1677570255,"post_id":75429994,"comment_id":133358955,"body_markdown":"And the array elements have to be `int` despite being only `0` or `1`? Or is it possible to use a more compact data structure, i.e. to store one bit of information as just one bit?","body":"And the array elements have to be <code>int</code> despite being only <code>0</code> or <code>1</code>? Or is it possible to use a more compact data structure, i.e. to store one bit of information as just one bit?"}],"answers":[{"comments":[{"owner":{"account_id":26292648,"reputation":11,"user_id":21037640,"display_name":"Iyo31"},"score":0,"creation_date":1676265417,"post_id":75430476,"comment_id":133095540,"body_markdown":"How would you implement that in the code?","body":"How would you implement that in the code?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1676296330,"post_id":75430476,"comment_id":133102904,"body_markdown":"for each input value of your matrix (arrays) you multiply the center of the convolution matrix (4) with that value, and the value of the 8 surrounding cells of the convolution matrix with the value of the 8 surrounding cells of the input matrix. Add up all products to your output value (one output cell for each input cell).\nIn the end with this convolution matrix you count all cells that have a value &lt; 0 - those are the &quot;edge cells&quot; you want to find. For the border of the matrix you have to take special care, take the input of the nearest neighbour as you don&#39;t want to count that as edge.","body":"for each input value of your matrix (arrays) you multiply the center of the convolution matrix (4) with that value, and the value of the 8 surrounding cells of the convolution matrix with the value of the 8 surrounding cells of the input matrix. Add up all products to your output value (one output cell for each input cell). In the end with this convolution matrix you count all cells that have a value &lt; 0 - those are the &quot;edge cells&quot; you want to find. For the border of the matrix you have to take special care, take the input of the nearest neighbour as you don&#39;t want to count that as edge."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1676313742,"post_id":75430476,"comment_id":133108602,"body_markdown":"Just found that Wikipedia has an explanation that is a lot better than mine for understanding the principle of a [Discrete convolution](https://en.wikipedia.org/wiki/Convolution#Discrete_convolution)","body":"Just found that Wikipedia has an explanation that is a lot better than mine for understanding the principle of a <a href=\"https://en.wikipedia.org/wiki/Convolution#Discrete_convolution\" rel=\"nofollow noreferrer\">Discrete convolution</a>"}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676296186,"creation_date":1676239310,"answer_id":75430476,"question_id":75429994,"body_markdown":"An &quot;elegant&quot; algorithm would be to use this convolution matrix and after that count the values &lt; 0:\r\n\r\n``` lang-none\r\n 0 -1  0\r\n-1  4 -1 \r\n 0 -1  0\r\n```","title":"Algorithm for border-zeroes and ones in an array","body":"<p>An &quot;elegant&quot; algorithm would be to use this convolution matrix and after that count the values &lt; 0:</p>\n<pre class=\"lang-none prettyprint-override\"><code> 0 -1  0\n-1  4 -1 \n 0 -1  0\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26292648,"reputation":11,"user_id":21037640,"display_name":"Iyo31"},"score":0,"creation_date":1677516257,"post_id":75431040,"comment_id":133348877,"body_markdown":"Thanks! Makes viewing the problem way easier now for some reason. :)","body":"Thanks! Makes viewing the problem way easier now for some reason. :)"}],"tags":[],"owner":{"account_id":2326766,"reputation":8079,"user_id":2041077,"accept_rate":40,"display_name":"Dave"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676248055,"creation_date":1676248055,"answer_id":75431040,"question_id":75429994,"body_markdown":"We can set this up as a graph theory problem. All the cells are nodes. Two nodes are joined by an edge if they differ (one is zero, the other is one). Keep one-nodes separate from zero-nodes.\r\n\r\nNow you have a bipartite graph, since edges only exists between 0-nodes and 1-nodes. What you&#39;re looking for is this context is called a &#39;maximum bipartite matching&#39; or a &#39;maximum matching in a bipartite graph.&#39; \r\n\r\nThe advantage of setting this up as a bipartite matching problem is that it takes care of duplicate zero problem for you.","title":"Algorithm for border-zeroes and ones in an array","body":"<p>We can set this up as a graph theory problem. All the cells are nodes. Two nodes are joined by an edge if they differ (one is zero, the other is one). Keep one-nodes separate from zero-nodes.</p>\n<p>Now you have a bipartite graph, since edges only exists between 0-nodes and 1-nodes. What you're looking for is this context is called a 'maximum bipartite matching' or a 'maximum matching in a bipartite graph.'</p>\n<p>The advantage of setting this up as a bipartite matching problem is that it takes care of duplicate zero problem for you.</p>\n"}],"owner":{"account_id":26292648,"reputation":11,"user_id":21037640,"display_name":"Iyo31"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697482782,"creation_date":1676233869,"question_id":75429994,"body_markdown":"Consider a 2D array that I have named &quot;zeroesAndOnes&quot; that has a random length and width and that has also been randomly filled with zeroes and ones.\r\n\r\nI want to know an algorithm that would count the number of zeroes that share a border with the ones in the array. Sharing a border in this case means that a zero in the array has at least 1 one above, below, the left, and/or the right of it, with no diagonal-direction checks.\r\n\r\nIf a zero is shared by multiple ones under these conditions above, then it should be counted as a duplicate zero and should not be added into the final result.\r\n\r\n```java\r\n//Test Arrays\r\nint[][] nums1 = {\r\n                 {0, 0, 1, 0, 1, 0, 1, 0},\r\n                 {1, 0, 0, 0, 0, 0, 0, 0},\r\n                 {0, 0, 0, 0, 0, 0, 0, 0},\r\n                 {0, 0, 0, 0, 0, 0, 0, 0},\r\n                };\r\n\r\nint[][] nums2 = {\r\n                 {0, 0, 0, 0, 1, 1},\r\n                 {0, 1, 0, 0, 1, 0},\r\n                 {0, 1, 0, 0, 0, 0},\r\n                 {0, 1, 0, 0, 0, 0},\r\n                 {0, 1, 0, 0, 1, 0},\r\n                 {0, 0, 0, 0, 1, 1},\r\n                };\r\n\r\n//Method Definition\r\npublic static int borderZeros(int[][] nums) {\r\n   int border = 0;\r\n   //See instructions and examples above! I have defined a result variable called &quot;border&quot; to return when the procedure is defined according to the instructions above.\r\n   //Should return the integer zero, if nums has a length &lt;= 1 &amp; width &lt;= 1, as a base case.\r\n   //Otherwise should return the number of zeroes bordering a one under the conditions described, with no duplicate zeroes.\r\n}\r\n\r\n//Driver Code\r\nSystem.out.println(borderZeros(nums1));\r\nSystem.out.println(borderZeros(nums2));\r\n//Should print the integers 10 and 18 (I think!) respectively if coded properly.\r\n//Should work for arrays of all sizes!\r\n//No ArrayIndexOutOfBoundsExceptions!\r\n```\r\n\r\nThe only thing I have done so far was to implement a nested for-loop that would check surrounding characters for zeroes if the element in the array concerned was one, but that has resulted in the out-of-bounds index exception, and trying to alleviate that exception has resulted in me not checking all the elements.\r\n\r\nI need to find some way that I can get the algorithm without causing the exception and that I have checked for all elements in the array.\r\n\r\nAny solution that works, preferably something that you think is *elegant*, *novel*, or *efficient*, would be greatly appreciated! I am very much a novice programmer, and I&#39;m still learning. ;)\r\n\r\n\r\n** ***Addendum*** **\r\n\r\nPer Jim Mischel&#39;s advice, I have attached my really *dumb* code below. It currently does not account for duplicate zeroes, or the obvious array index exceptions, or the fact that I may not account for all the zeroes.\r\n```java\r\npublic static int borderZeros(int[][] nums) {\r\n  int border = 0;\r\n  for (int r = 1; r &lt; nums.length - 1; r++) {\r\n    for (int c = 1; c &lt; nums[r].length - 1; c++) {\r\n      if (nums[r][c] == 1) {\r\n        if (nums[r - 1][c] == 0) {\r\n          border++;\r\n        }\r\n        if (nums[r][c - 1] == 0) {\r\n          border++;\r\n        }\r\n        if (nums[r + 1][c] == 0) {\r\n          border++;\r\n        }\r\n        if (nums[r][c + 1] == 0) {\r\n           border++;\r\n        }\r\n      }\r\n      else {\r\n        continue;\r\n      } \r\n    }\r\n  }\r\n  return border;\r\n}\r\n```\r\n\r\n** ***End Addendum*** **","title":"Algorithm for border-zeroes and ones in an array","body":"<p>Consider a 2D array that I have named &quot;zeroesAndOnes&quot; that has a random length and width and that has also been randomly filled with zeroes and ones.</p>\n<p>I want to know an algorithm that would count the number of zeroes that share a border with the ones in the array. Sharing a border in this case means that a zero in the array has at least 1 one above, below, the left, and/or the right of it, with no diagonal-direction checks.</p>\n<p>If a zero is shared by multiple ones under these conditions above, then it should be counted as a duplicate zero and should not be added into the final result.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Test Arrays\nint[][] nums1 = {\n                 {0, 0, 1, 0, 1, 0, 1, 0},\n                 {1, 0, 0, 0, 0, 0, 0, 0},\n                 {0, 0, 0, 0, 0, 0, 0, 0},\n                 {0, 0, 0, 0, 0, 0, 0, 0},\n                };\n\nint[][] nums2 = {\n                 {0, 0, 0, 0, 1, 1},\n                 {0, 1, 0, 0, 1, 0},\n                 {0, 1, 0, 0, 0, 0},\n                 {0, 1, 0, 0, 0, 0},\n                 {0, 1, 0, 0, 1, 0},\n                 {0, 0, 0, 0, 1, 1},\n                };\n\n//Method Definition\npublic static int borderZeros(int[][] nums) {\n   int border = 0;\n   //See instructions and examples above! I have defined a result variable called &quot;border&quot; to return when the procedure is defined according to the instructions above.\n   //Should return the integer zero, if nums has a length &lt;= 1 &amp; width &lt;= 1, as a base case.\n   //Otherwise should return the number of zeroes bordering a one under the conditions described, with no duplicate zeroes.\n}\n\n//Driver Code\nSystem.out.println(borderZeros(nums1));\nSystem.out.println(borderZeros(nums2));\n//Should print the integers 10 and 18 (I think!) respectively if coded properly.\n//Should work for arrays of all sizes!\n//No ArrayIndexOutOfBoundsExceptions!\n</code></pre>\n<p>The only thing I have done so far was to implement a nested for-loop that would check surrounding characters for zeroes if the element in the array concerned was one, but that has resulted in the out-of-bounds index exception, and trying to alleviate that exception has resulted in me not checking all the elements.</p>\n<p>I need to find some way that I can get the algorithm without causing the exception and that I have checked for all elements in the array.</p>\n<p>Any solution that works, preferably something that you think is <em>elegant</em>, <em>novel</em>, or <em>efficient</em>, would be greatly appreciated! I am very much a novice programmer, and I'm still learning. ;)</p>\n<p>** <em><strong>Addendum</strong></em> **</p>\n<p>Per Jim Mischel's advice, I have attached my really <em>dumb</em> code below. It currently does not account for duplicate zeroes, or the obvious array index exceptions, or the fact that I may not account for all the zeroes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int borderZeros(int[][] nums) {\n  int border = 0;\n  for (int r = 1; r &lt; nums.length - 1; r++) {\n    for (int c = 1; c &lt; nums[r].length - 1; c++) {\n      if (nums[r][c] == 1) {\n        if (nums[r - 1][c] == 0) {\n          border++;\n        }\n        if (nums[r][c - 1] == 0) {\n          border++;\n        }\n        if (nums[r + 1][c] == 0) {\n          border++;\n        }\n        if (nums[r][c + 1] == 0) {\n           border++;\n        }\n      }\n      else {\n        continue;\n      } \n    }\n  }\n  return border;\n}\n</code></pre>\n<p>** <em><strong>End Addendum</strong></em> **</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-initializr"],"comments":[{"owner":{"account_id":27529235,"reputation":437,"user_id":21008053,"display_name":"subasri_"},"score":0,"creation_date":1697049146,"post_id":77275467,"comment_id":136231814,"body_markdown":"Check which version java home is pointing to. Java home should be pointing to the required version","body":"Check which version java home is pointing to. Java home should be pointing to the required version"},{"owner":{"account_id":29650670,"reputation":7,"user_id":22724648,"display_name":"robertinho"},"score":0,"creation_date":1697049649,"post_id":77275467,"comment_id":136231917,"body_markdown":"@subasri_ where is it located?","body":"@subasri_ where is it located?"},{"owner":{"account_id":27529235,"reputation":437,"user_id":21008053,"display_name":"subasri_"},"score":0,"creation_date":1697049980,"post_id":77275467,"comment_id":136231959,"body_markdown":"you can quickly check version by executing `java --version` in your terminal/cmd. Depending on the OS you use, steps would vary. For eg, https://stackoverflow.com/questions/11161248/setting-java-home can be referred for windows","body":"you can quickly check version by executing <code>java --version</code> in your terminal/cmd. Depending on the OS you use, steps would vary. For eg, <a href=\"https://stackoverflow.com/questions/11161248/setting-java-home\">stackoverflow.com/questions/11161248/setting-java-home</a> can be referred for windows"},{"owner":{"account_id":29650670,"reputation":7,"user_id":22724648,"display_name":"robertinho"},"score":0,"creation_date":1697050385,"post_id":77275467,"comment_id":136232033,"body_markdown":"`java -version` outputs to ```openjdk version &quot;1.8.0_362&quot;\nOpenJDK Runtime Environment (build 1.8.0_362-8u372-ga~us1-0ubuntu1~18.04-b09)\nOpenJDK 64-Bit Server VM (build 25.362-b09, mixed mode)```. Actually, I&#39;ve noticed something odd. Eclipses&#39; project config indicates a warning: `When selecting 1.8 compliance, make sure to have a compatible JRE installed and activates (currently 17). Configure &#39;Installed JREs&#39; and &#39;Execution Environments&#39;, or change the JRE on the &#39;Java Build Path&#39;.`","body":"<code>java -version</code> outputs to <code>openjdk version &quot;1.8.0_362&quot; OpenJDK Runtime Environment (build 1.8.0_362-8u372-ga~us1-0ubuntu1~18.04-b09) OpenJDK 64-Bit Server VM (build 25.362-b09, mixed mode)</code>. Actually, I&#39;ve noticed something odd. Eclipses&#39; project config indicates a warning: <code>When selecting 1.8 compliance, make sure to have a compatible JRE installed and activates (currently 17). Configure &#39;Installed JREs&#39; and &#39;Execution Environments&#39;, or change the JRE on the &#39;Java Build Path&#39;.</code>"},{"owner":{"account_id":6460997,"reputation":7359,"user_id":5004822,"accept_rate":41,"display_name":"SledgeHammer"},"score":0,"creation_date":1697080380,"post_id":77275467,"comment_id":136235178,"body_markdown":"If you&#39;re running it from within intellij, etc. you need to set the project SDK. Those properties don&#39;t change the run time, just how its compiled. Not sure why you want to use Java 8 though lol.","body":"If you&#39;re running it from within intellij, etc. you need to set the project SDK. Those properties don&#39;t change the run time, just how its compiled. Not sure why you want to use Java 8 though lol."}],"answers":[{"tags":[],"owner":{"account_id":228645,"reputation":587,"user_id":491085,"display_name":"mio"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697101131,"creation_date":1697101131,"answer_id":77279156,"question_id":77275467,"body_markdown":"    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\r\nThese properties only tell the compiler what version the source and the target (generated code) should be compliant with. I think (but I am not sure) they are only passed to the compiler for the `-source` and `-target` flags.\r\n\r\nThese properties have nothing to do with the java runtime you use to execute the application. You started the spring boot application with `Java 17.0.2`. But that is not related to the compiler options.","title":"Why is Spring changing Java version configs and how to set it properly?","body":"<pre><code>&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n</code></pre>\n<p>These properties only tell the compiler what version the source and the target (generated code) should be compliant with. I think (but I am not sure) they are only passed to the compiler for the <code>-source</code> and <code>-target</code> flags.</p>\n<p>These properties have nothing to do with the java runtime you use to execute the application. You started the spring boot application with <code>Java 17.0.2</code>. But that is not related to the compiler options.</p>\n"},{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697101621,"creation_date":1697101621,"answer_id":77279212,"question_id":77275467,"body_markdown":"When you configure `maven.compiler.source` to java 8, you ask for it to be compiled under Java 8.\r\n\r\nIn Eclipse:\r\n\r\n- Importing a `maven.compiler.source=8` project will tell m2e to use Java-SE-1.8 as _Execution Environments_\r\n- In _Execution Environments_, Eclipse will list all JRE that match the &quot;base level&quot; (here: JavaSE-1.8)\r\n- You need to select a JRE with a perfect match\r\n\r\n[![Execution Environments][1]][1]\r\n\r\nIf you don&#39;t have such &quot;perfect match&quot; JRE, you need to add one from _Installed JREs_ in the preferences then select it in _Execution Environments_\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8t3lV.png","title":"Why is Spring changing Java version configs and how to set it properly?","body":"<p>When you configure <code>maven.compiler.source</code> to java 8, you ask for it to be compiled under Java 8.</p>\n<p>In Eclipse:</p>\n<ul>\n<li>Importing a <code>maven.compiler.source=8</code> project will tell m2e to use Java-SE-1.8 as <em>Execution Environments</em></li>\n<li>In <em>Execution Environments</em>, Eclipse will list all JRE that match the &quot;base level&quot; (here: JavaSE-1.8)</li>\n<li>You need to select a JRE with a perfect match</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/8t3lV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8t3lV.png\" alt=\"Execution Environments\" /></a></p>\n<p>If you don't have such &quot;perfect match&quot; JRE, you need to add one from <em>Installed JREs</em> in the preferences then select it in <em>Execution Environments</em></p>\n"},{"tags":[],"owner":{"account_id":29650670,"reputation":7,"user_id":22724648,"display_name":"robertinho"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697481446,"creation_date":1697481446,"answer_id":77304253,"question_id":77275467,"body_markdown":"To solve it, I had to set the correct JRE to run with my Java application on Eclipse.\r\n\r\nInitially, I already had the correct version for Java 1.8 installed on my machine. As I ran the following command, I managed to find the current JRE home path:\r\n```$ java -XshowSettings:properties -version```\r\n```\r\n...\r\njava.home = /usr/lib/jvm/java-8-openjdk-amd64/jre\r\n...\r\nOpenJDK Runtime Environment (build 1.8.0_362-8u372-ga~us1-0ubuntu1~18.04-b09)\r\n...\r\n```\r\nThen I proceeded to access `Window&gt;Preferences&gt;Java&gt;Installed JREs` menu and added a Stantard VM setting the specified path in the JRE home directory (also deleting the previous one I wouldn&#39;t use).\r\n\r\nThank you :)\r\n","title":"Why is Spring changing Java version configs and how to set it properly?","body":"<p>To solve it, I had to set the correct JRE to run with my Java application on Eclipse.</p>\n<p>Initially, I already had the correct version for Java 1.8 installed on my machine. As I ran the following command, I managed to find the current JRE home path:\n<code>$ java -XshowSettings:properties -version</code></p>\n<pre><code>...\njava.home = /usr/lib/jvm/java-8-openjdk-amd64/jre\n...\nOpenJDK Runtime Environment (build 1.8.0_362-8u372-ga~us1-0ubuntu1~18.04-b09)\n...\n</code></pre>\n<p>Then I proceeded to access <code>Window&gt;Preferences&gt;Java&gt;Installed JREs</code> menu and added a Stantard VM setting the specified path in the JRE home directory (also deleting the previous one I wouldn't use).</p>\n<p>Thank you :)</p>\n"}],"owner":{"account_id":29650670,"reputation":7,"user_id":22724648,"display_name":"robertinho"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77304253,"answer_count":3,"score":1,"last_activity_date":1697481446,"creation_date":1697048008,"question_id":77275467,"body_markdown":"I&#39;m using Spring Initializr (https://start.spring.io/) to generate a Spring Boot project.\r\nI&#39;ve set Java version as 1.8 and hence, Spring Boot version as 2.7.16. Also added Lombok and PostgreSQL dependencies.\r\n\r\nWhen I run my project, however, it displays the following logs:\r\n\r\n```\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::               (v2.7.16)\r\n\r\n2023-10-11 15:07:43.625  INFO 12939 --- [           main] c.j.integrador.IntegradorApplication     : Starting IntegradorApplication using Java 17.0.2 on pc with PID 12939 (/home/&lt;path&gt;/integrador/target/classes started by user in /home/&lt;path&gt;/integrador)\r\n2023-10-11 15:07:43.631  INFO 12939 --- [           main] c.j.integrador.IntegradorApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-10-11 15:07:44.783  INFO 12939 --- [           main] c.j.integrador.IntegradorApplication     : Started IntegradorApplication in 1.908 seconds (JVM running for 3.661)\r\n\r\n```\r\n\r\nWhy is it getting set as Java 17.0.2? \r\n\r\nI&#39;ve already tried changing adding the following lines to POM.xml, although it didn&#39;t solve my problem:\r\n```\r\n&lt;properties&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\nFor instance, here&#39;s my complete POM.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.16&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.jotec&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;integrador&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;integrador&lt;/name&gt;\r\n\t&lt;description&gt;Integrador de Marketplaces&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```","title":"Why is Spring changing Java version configs and how to set it properly?","body":"<p>I'm using Spring Initializr (<a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a>) to generate a Spring Boot project.\nI've set Java version as 1.8 and hence, Spring Boot version as 2.7.16. Also added Lombok and PostgreSQL dependencies.</p>\n<p>When I run my project, however, it displays the following logs:</p>\n<pre><code>\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::               (v2.7.16)\n\n2023-10-11 15:07:43.625  INFO 12939 --- [           main] c.j.integrador.IntegradorApplication     : Starting IntegradorApplication using Java 17.0.2 on pc with PID 12939 (/home/&lt;path&gt;/integrador/target/classes started by user in /home/&lt;path&gt;/integrador)\n2023-10-11 15:07:43.631  INFO 12939 --- [           main] c.j.integrador.IntegradorApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-10-11 15:07:44.783  INFO 12939 --- [           main] c.j.integrador.IntegradorApplication     : Started IntegradorApplication in 1.908 seconds (JVM running for 3.661)\n\n</code></pre>\n<p>Why is it getting set as Java 17.0.2?</p>\n<p>I've already tried changing adding the following lines to POM.xml, although it didn't solve my problem:</p>\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>For instance, here's my complete POM.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.16&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.jotec&lt;/groupId&gt;\n    &lt;artifactId&gt;integrador&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;integrador&lt;/name&gt;\n    &lt;description&gt;Integrador de Marketplaces&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","elasticsearch","migration","liquibase","flyway"],"answers":[{"comments":[{"owner":{"account_id":40492,"reputation":75,"user_id":117351,"accept_rate":60,"display_name":"kaeff"},"score":0,"creation_date":1498118567,"post_id":31880978,"comment_id":76370239,"body_markdown":"Is there a tool that automates this process yet?","body":"Is there a tool that automates this process yet?"},{"owner":{"account_id":2482616,"reputation":8222,"user_id":2161778,"display_name":"Slam"},"score":0,"creation_date":1498121106,"post_id":31880978,"comment_id":76371972,"body_markdown":"None that I know about. Tbh, for now I don&#39;t see the the way to clearly migrate data in ES seamlessly in &quot;auto&quot; mode. But if your data is volatile - consider 2 things: 1 - good RDBMS is not as bad as it seems. 2 - slice your indices in ES into smaller ones (monthly, daily, per user, etc) to be able to migrate/switch aliases faster for new/active data.","body":"None that I know about. Tbh, for now I don&#39;t see the the way to clearly migrate data in ES seamlessly in &quot;auto&quot; mode. But if your data is volatile - consider 2 things: 1 - good RDBMS is not as bad as it seems. 2 - slice your indices in ES into smaller ones (monthly, daily, per user, etc) to be able to migrate/switch aliases faster for new/active data."},{"owner":{"account_id":2482616,"reputation":8222,"user_id":2161778,"display_name":"Slam"},"score":0,"creation_date":1498121444,"post_id":31880978,"comment_id":76372249,"body_markdown":"The small thing to add - afair, the time this post was written there was no [reindex API](https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-reindex.html). In case of migrations that doesn&#39;t require compex application-side transformations - reindex on ES side works pretty fast","body":"The small thing to add - afair, the time this post was written there was no <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-reindex.html\" rel=\"nofollow noreferrer\">reindex API</a>. In case of migrations that doesn&#39;t require compex application-side transformations - reindex on ES side works pretty fast"},{"owner":{"account_id":2231471,"reputation":1537,"user_id":1968909,"display_name":"Archit Saxena"},"score":0,"creation_date":1548144378,"post_id":31880978,"comment_id":95427202,"body_markdown":"Adding link to this helpful answer here: https://stackoverflow.com/a/43374464/1968909","body":"Adding link to this helpful answer here: <a href=\"https://stackoverflow.com/a/43374464/1968909\">stackoverflow.com/a/43374464/1968909</a>"}],"tags":[],"owner":{"account_id":2482616,"reputation":8222,"user_id":2161778,"display_name":"Slam"},"comment_count":4,"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1697480629,"creation_date":1438959827,"answer_id":31880978,"question_id":23977688,"body_markdown":"From this point of view/need, ES have a huge limitations:\r\n\r\n- despite having dynamic mapping, ES is __not__ schemaless but schema-intensive. Mappings cant be changed in case when this change conflicting with existing documents (practically, if any of documents have not-null field which new mapping affects, this will result in exception)\r\n- documents in ES is immutable: once you&#39;ve indexed one, you can retrieve/delete in only. The syntactic sugar around this is partial update, which makes thread-safe delete + index (with same id) on ES side\r\n\r\nWhat does that mean in context of your question? You, basically, can&#39;t have classic migration tools for ES. And here&#39;s what can make your work with ES easier:\r\n\r\n * use strict mapping (`&quot;dynamic&quot;: &quot;strict&quot;` and/or `index.mapper.dynamic: false`, take a look at [mapping docs][1]). This will protect your indexes/types from being accidentally dynamically mapped with wrong type\r\n  - get explicit error in case when you miss some error in data-mapping relation\r\n\r\n - you can fetch actual ES mapping and compare it with your data models. If your PL have high enough level library for ES, this should be pretty easy\r\n\r\n - you can leverage [index aliases][2] for migrations\r\n\r\n---\r\nSo, a little bit of experience. For me, currently reasonable flow is this:\r\n\r\n - All data structures described as models in code. This models actually provide ORM abstraction too.\r\n - Index/mapping creation call is simple model&#39;s method.\r\n - Every index has alias (i.e. `news`) which points to actual index (i.e. `news_index_{revision}_{date_created}`).\r\n\r\nEvery time code being deployed, you\r\n\r\n 1. Try to put model(type) mapping. If it&#39;s done w/o error, this means that you&#39;ve either\r\n - put the same mapping \r\n - put mapping that is pure superset of old one (only new fields was provided, old stays untouched)\r\n - no documents have values in fields affected by new mapping\r\n\r\n All of this actually means that you&#39;re good to go with mappping/data you have, just work with data as always.\r\n\r\n 2. If ES provide exception about new mapping, you\r\n  - create new index/type with new mapping (named like `name_{revision}_{date}`\r\n  - redirect your alias to new index\r\n  - fire up migration code that makes [`bulk`][3] requests for fast reindexing\r\n During this reindexing you can safely index new documents normally through the alias. The drawback is that historical data is partially available during reindexing.\r\n\r\nThis is production-tested solution. Caveats around such approach:\r\n\r\n- you cannot do such, if your read requests require consistent historical data\r\n- you&#39;re required to reindex whole index. If you have 1 type per index (viable solution) then its fine. But sometimes you need multi-type indexes\r\n- data network roundtrip. Can be pain sometimes\r\n\r\n---\r\nTo sum up this:\r\n\r\n - try to have good abstraction in your models, this always helps\r\n - try keeping historical data/fields stale. Just build your code with this idea in mind, that&#39;s easier than sounds at first\r\n - I strongly recommend to avoid relying on migration tools that leverage ES experimental tools. Those can be changed anytime, like `river-*` tools did.\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/dynamic-mapping.html\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-aliases.html\r\n  [3]: https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html","title":"Liquibase or Flyway database migration alternative for Elasticsearch","body":"<p>From this point of view/need, ES have a huge limitations:</p>\n<ul>\n<li>despite having dynamic mapping, ES is <strong>not</strong> schemaless but schema-intensive. Mappings cant be changed in case when this change conflicting with existing documents (practically, if any of documents have not-null field which new mapping affects, this will result in exception)</li>\n<li>documents in ES is immutable: once you've indexed one, you can retrieve/delete in only. The syntactic sugar around this is partial update, which makes thread-safe delete + index (with same id) on ES side</li>\n</ul>\n<p>What does that mean in context of your question? You, basically, can't have classic migration tools for ES. And here's what can make your work with ES easier:</p>\n<ul>\n<li>use strict mapping (<code>&quot;dynamic&quot;: &quot;strict&quot;</code> and/or <code>index.mapper.dynamic: false</code>, take a look at <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/dynamic-mapping.html\" rel=\"nofollow noreferrer\">mapping docs</a>). This will protect your indexes/types from being accidentally dynamically mapped with wrong type</li>\n</ul>\n<ul>\n<li><p>get explicit error in case when you miss some error in data-mapping relation</p>\n</li>\n<li><p>you can fetch actual ES mapping and compare it with your data models. If your PL have high enough level library for ES, this should be pretty easy</p>\n</li>\n<li><p>you can leverage <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-aliases.html\" rel=\"nofollow noreferrer\">index aliases</a> for migrations</p>\n</li>\n</ul>\n<hr />\n<p>So, a little bit of experience. For me, currently reasonable flow is this:</p>\n<ul>\n<li>All data structures described as models in code. This models actually provide ORM abstraction too.</li>\n<li>Index/mapping creation call is simple model's method.</li>\n<li>Every index has alias (i.e. <code>news</code>) which points to actual index (i.e. <code>news_index_{revision}_{date_created}</code>).</li>\n</ul>\n<p>Every time code being deployed, you</p>\n<ol>\n<li>Try to put model(type) mapping. If it's done w/o error, this means that you've either</li>\n</ol>\n<ul>\n<li>put the same mapping</li>\n<li>put mapping that is pure superset of old one (only new fields was provided, old stays untouched)</li>\n<li>no documents have values in fields affected by new mapping</li>\n</ul>\n<p>All of this actually means that you're good to go with mappping/data you have, just work with data as always.</p>\n<ol start=\"2\">\n<li>If ES provide exception about new mapping, you</li>\n</ol>\n<ul>\n<li>create new index/type with new mapping (named like <code>name_{revision}_{date}</code></li>\n<li>redirect your alias to new index</li>\n<li>fire up migration code that makes <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html\" rel=\"nofollow noreferrer\"><code>bulk</code></a> requests for fast reindexing\nDuring this reindexing you can safely index new documents normally through the alias. The drawback is that historical data is partially available during reindexing.</li>\n</ul>\n<p>This is production-tested solution. Caveats around such approach:</p>\n<ul>\n<li>you cannot do such, if your read requests require consistent historical data</li>\n<li>you're required to reindex whole index. If you have 1 type per index (viable solution) then its fine. But sometimes you need multi-type indexes</li>\n<li>data network roundtrip. Can be pain sometimes</li>\n</ul>\n<hr />\n<p>To sum up this:</p>\n<ul>\n<li>try to have good abstraction in your models, this always helps</li>\n<li>try keeping historical data/fields stale. Just build your code with this idea in mind, that's easier than sounds at first</li>\n<li>I strongly recommend to avoid relying on migration tools that leverage ES experimental tools. Those can be changed anytime, like <code>river-*</code> tools did.</li>\n</ul>\n"}],"owner":{"account_id":1199242,"reputation":992,"user_id":1170257,"accept_rate":87,"display_name":"Istvano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13674,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":31880978,"answer_count":1,"score":41,"last_activity_date":1697480629,"creation_date":1401608032,"question_id":23977688,"body_markdown":"I am pretty new to ES. I have been trying to search for a db migration tool for long and I could not find one. I am wondering if anyone could help to point me to the right direction.\r\n\r\nI would be using Elasticsearch as a primary datastore in my project. I would like to version all mapping and configuration changes / data import / data upgrades scripts which I run as I develop new modules in my project.\r\n\r\nIn the past I used database versioning tools like Flyway or Liquibase. \r\n\r\nAre there any frameworks / scripts or methods I could use with ES to achieve something similar ?\r\n\r\nDoes anyone have any experience doing this by hand using scripts and run migration scripts at least upgrade scripts.\r\n\r\nThanks in advance!\r\n","title":"Liquibase or Flyway database migration alternative for Elasticsearch","body":"<p>I am pretty new to ES. I have been trying to search for a db migration tool for long and I could not find one. I am wondering if anyone could help to point me to the right direction.</p>\n\n<p>I would be using Elasticsearch as a primary datastore in my project. I would like to version all mapping and configuration changes / data import / data upgrades scripts which I run as I develop new modules in my project.</p>\n\n<p>In the past I used database versioning tools like Flyway or Liquibase. </p>\n\n<p>Are there any frameworks / scripts or methods I could use with ES to achieve something similar ?</p>\n\n<p>Does anyone have any experience doing this by hand using scripts and run migration scripts at least upgrade scripts.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","unit-testing","maven","junit"],"comments":[{"owner":{"account_id":3269456,"reputation":771,"user_id":2753136,"display_name":"ppuskar"},"score":0,"creation_date":1415948099,"post_id":26924372,"comment_id":42395850,"body_markdown":"i do not think that you need any classpath settings to run unit test cases in maven. If your project is in same structure you have defined, then maven will run the test cases every time you build your project(can be turned off using -options). Let me know if i am deviating from the question.","body":"i do not think that you need any classpath settings to run unit test cases in maven. If your project is in same structure you have defined, then maven will run the test cases every time you build your project(can be turned off using -options). Let me know if i am deviating from the question."},{"owner":{"account_id":3249876,"reputation":6323,"user_id":2790036,"accept_rate":67,"display_name":"Pratik Singhal"},"score":0,"creation_date":1415948409,"post_id":26924372,"comment_id":42395963,"body_markdown":"@ppuskar I was also expecting the same but , the problem is exactly as I have told above.","body":"@ppuskar I was also expecting the same but , the problem is exactly as I have told above."},{"owner":{"account_id":1653550,"reputation":11563,"user_id":1523648,"accept_rate":89,"display_name":"oberlies"},"score":0,"creation_date":1415964931,"post_id":26924372,"comment_id":42403710,"body_markdown":"@ps06756 Your comments below show that there is information missing in the question. Please edit the question to include the missing information.","body":"@ps06756 Your comments below show that there is information missing in the question. Please edit the question to include the missing information."}],"answers":[{"comments":[{"owner":{"account_id":3249876,"reputation":6323,"user_id":2790036,"accept_rate":67,"display_name":"Pratik Singhal"},"score":0,"creation_date":1415949162,"post_id":26924646,"comment_id":42396249,"body_markdown":"Sir, I also expected the same, but the error is still coming, when I try to import the relevant packages in the src/main/java It is giving me the compiler error that the package does not exist.","body":"Sir, I also expected the same, but the error is still coming, when I try to import the relevant packages in the src/main/java It is giving me the compiler error that the package does not exist."},{"owner":{"account_id":4960895,"reputation":189,"user_id":3992047,"accept_rate":60,"display_name":"Obuli Sundar"},"score":0,"creation_date":1415949610,"post_id":26924646,"comment_id":42396421,"body_markdown":"can you please give some more detail... if the packages are in the correct location just try right clicking the project-&gt;maven-&gt;update project. it will update your project and may be it will help you","body":"can you please give some more detail... if the packages are in the correct location just try right clicking the project-&gt;maven-&gt;update project. it will update your project and may be it will help you"},{"owner":{"account_id":3249876,"reputation":6323,"user_id":2790036,"accept_rate":67,"display_name":"Pratik Singhal"},"score":0,"creation_date":1415949677,"post_id":26924646,"comment_id":42396450,"body_markdown":"@ObuliSundar I am building my project from terminal","body":"@ObuliSundar I am building my project from terminal"},{"owner":{"account_id":3249876,"reputation":6323,"user_id":2790036,"accept_rate":67,"display_name":"Pratik Singhal"},"score":0,"creation_date":1415949944,"post_id":26924646,"comment_id":42396546,"body_markdown":"Ok, so I have a zephyr folder inside the usual app folder, which contains all other classes. Now, maven is not having problem while importing com.somename.app.* while if I import com.somename.app.zephyr.* It is saying that the required package does not exist.","body":"Ok, so I have a zephyr folder inside the usual app folder, which contains all other classes. Now, maven is not having problem while importing com.somename.app.* while if I import com.somename.app.zephyr.* It is saying that the required package does not exist."},{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":2,"creation_date":1415951533,"post_id":26924646,"comment_id":42397104,"body_markdown":"@ps06756 &quot;[...] but the error is still coming [...]&quot; _What error?_ You didn&#39;t describe any error in your question. And please, don&#39;t put additional information into comments, but edit your question accordingly.","body":"@ps06756 &quot;[...] but the error is still coming [...]&quot; <i>What error?</i> You didn&#39;t describe any error in your question. And please, don&#39;t put additional information into comments, but edit your question accordingly."},{"owner":{"account_id":3249876,"reputation":6323,"user_id":2790036,"accept_rate":67,"display_name":"Pratik Singhal"},"score":1,"creation_date":1415953680,"post_id":26924646,"comment_id":42397901,"body_markdown":"@Seelenvirtuose Ok, finally resolved the error by writing full package name in the relevant files, for the edit part I&#39;ll keep that in mind from next time onwards.","body":"@Seelenvirtuose Ok, finally resolved the error by writing full package name in the relevant files, for the edit part I&#39;ll keep that in mind from next time onwards."}],"tags":[],"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1415948535,"creation_date":1415948535,"answer_id":26924646,"question_id":26924372,"body_markdown":"When using the [Maven Standard Directory Layout][1] (which I always recommend as Maven is all about conventions), the following directories are always part of the classpath when running the tests:\r\n\r\n    src/main/java\r\n    src/main/resources\r\n    src/test/java\r\n    src/test/resources\r\n\r\nSo there is no need to manually adjust anything for running the tests. The `mvn test` command simply does what you want.\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html","title":"How to add classpaths for unit tests in maven ?","body":"<p>When using the <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow\">Maven Standard Directory Layout</a> (which I always recommend as Maven is all about conventions), the following directories are always part of the classpath when running the tests:</p>\n\n<pre><code>src/main/java\nsrc/main/resources\nsrc/test/java\nsrc/test/resources\n</code></pre>\n\n<p>So there is no need to manually adjust anything for running the tests. The <code>mvn test</code> command simply does what you want.</p>\n"},{"tags":[],"owner":{"account_id":4960895,"reputation":189,"user_id":3992047,"accept_rate":60,"display_name":"Obuli Sundar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415949496,"creation_date":1415949496,"answer_id":26924861,"question_id":26924372,"body_markdown":"Maven Directory structure is always added in the class path. if you are using eclipse just got to Run as-&gt;maven build.(make sure you  have maven plugin installed) otherwise you can directly use the mvn clean , mvn install  command for building the project in maven.","title":"How to add classpaths for unit tests in maven ?","body":"<p>Maven Directory structure is always added in the class path. if you are using eclipse just got to Run as->maven build.(make sure you  have maven plugin installed) otherwise you can directly use the mvn clean , mvn install  command for building the project in maven.</p>\n"}],"owner":{"account_id":3249876,"reputation":6323,"user_id":2790036,"accept_rate":67,"display_name":"Pratik Singhal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5318,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":2,"score":-1,"last_activity_date":1697480138,"creation_date":1415947292,"question_id":26924372,"body_markdown":"I am using maven to make a simple application and writing unit tests for it. I am new to both using maven as well as writing unit tests with Junit.\r\n\r\nMy directory structure is as follows :- \r\n\r\nThe source code classes used in my project are in the directory : -\r\n\r\n` project-name/src/main/java/com/somename/app/packagename ` \r\n\r\nMain file (which contains static main method) is in :- \r\n\r\n `project-name/src/main/java/com/somename/app/App.java`   \r\n\r\nThe default unit test provided by Maven is in :- \r\n\r\n  `project-name/src/test/java/com/somename/app/AppTest.java `\r\n\r\nNow, I have added a unit test in the above directory (in which AppTest.java) is there and this unit test needs to access the classes defined in the &quot;packagename&quot; directory as described above.   \r\n\r\nIf it were a simple commandline , I would have added the classpath to the directory when compiling and running the application.   \r\n\r\nHow should I do the same in Maven ? Also, is there any alternative to adding the classpath directly in maven ? \r\n              ","title":"How to add classpaths for unit tests in maven ?","body":"<p>I am using maven to make a simple application and writing unit tests for it. I am new to both using maven as well as writing unit tests with Junit.</p>\n\n<p>My directory structure is as follows :- </p>\n\n<p>The source code classes used in my project are in the directory : -</p>\n\n<p><code>project-name/src/main/java/com/somename/app/packagename</code> </p>\n\n<p>Main file (which contains static main method) is in :- </p>\n\n<p><code>project-name/src/main/java/com/somename/app/App.java</code>   </p>\n\n<p>The default unit test provided by Maven is in :- </p>\n\n<p><code>project-name/src/test/java/com/somename/app/AppTest.java</code></p>\n\n<p>Now, I have added a unit test in the above directory (in which AppTest.java) is there and this unit test needs to access the classes defined in the \"packagename\" directory as described above.   </p>\n\n<p>If it were a simple commandline , I would have added the classpath to the directory when compiling and running the application.   </p>\n\n<p>How should I do the same in Maven ? Also, is there any alternative to adding the classpath directly in maven ? </p>\n"},{"tags":["java","spring","oracle","ucp"],"answers":[{"tags":[],"owner":{"account_id":9757092,"reputation":304,"user_id":7233446,"display_name":"Kuassi Mensah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697479828,"creation_date":1697479828,"answer_id":77304120,"question_id":77271874,"body_markdown":"That was a bug fixed in the recent releases.\r\nWhich UCP release are you using? If not fixed in your release, please submit an Oracle Support service request to get a one-off patch.","title":"How to use SQLExceptionTranslator and Oracle UCP together","body":"<p>That was a bug fixed in the recent releases.\nWhich UCP release are you using? If not fixed in your release, please submit an Oracle Support service request to get a one-off patch.</p>\n"}],"owner":{"account_id":14086883,"reputation":37,"user_id":10176413,"display_name":"koli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1697479828,"creation_date":1697017309,"question_id":77271874,"body_markdown":"I use Oracle UCP as connection pool driver.\r\nI try to use [SQLExceptionTranslator][1] in my JdbcTemplate but there is a problem.\r\nWhen I implement my own SqlExceptionTranslator implementation with overrided customTranslate() and if there is an Exception on db side I have the following:\r\n\r\n``` lang-java\r\n...java.sql.SQLException: Exception occurred while getting connection: oracle.ucp.UniversalConnectionPoolException: Universal Connection Pool internal error: **java.lang.ClassCastException: class oracle.ucp.UniversalConnectionPoolException cannot be cast to class java.sql.SQLException** (oracle.ucp.UniversalConnectionPoolException is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @6f496d9f; java.sql.SQLException is in module java.sql of loader &#39;platform&#39;)\r\n            at oracle.ucp.util.UCPErrorHandler.newSQLException(UCPErrorHandler.java:498) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.util.UCPErrorHandler.throwSQLException(UCPErrorHandler.java:175) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1899) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.access$300(PoolDataSourceImpl.java:224) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl$3.build(PoolDataSourceImpl.java:4050) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1822) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1778) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1764) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\r\n            ... 33 more\r\n    Caused by: oracle.ucp.UniversalConnectionPoolException: Universal Connection Pool internal error: java.lang.ClassCastException: class oracle.ucp.UniversalConnectionPoolException cannot be cast to class java.sql.SQLException (oracle.ucp.UniversalConnectionPoolException is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @6f496d9f; java.sql.SQLException is in module java.sql of loader &#39;platform&#39;)\r\n            at oracle.ucp.util.UCPErrorHandler.newUniversalConnectionPoolException(UCPErrorHandler.java:378) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.util.UCPErrorHandler.throwUniversalConnectionPoolException(UCPErrorHandler.java:68) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.util.UCPErrorHandler.throwUniversalConnectionPoolException(UCPErrorHandler.java:91) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.util.UCPErrorHandler.throwUniversalConnectionPoolException(UCPErrorHandler.java:164) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.Core.growBorrowed(Core.java:1289) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.UniversalConnectionPoolImpl.helpGrowBorrowed(UniversalConnectionPoolImpl.java:406) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionWithoutCountingRequests(UniversalConnectionPoolImpl.java:349) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionAndValidateHelper(UniversalConnectionPoolImpl.java:205) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionAndValidate(UniversalConnectionPoolImpl.java:165) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnection(UniversalConnectionPoolImpl.java:138) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.JDBCConnectionPool.borrowConnection(JDBCConnectionPool.java:184) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.oracle.OracleJDBCConnectionPool.borrowConnection(OracleJDBCConnectionPool.java:610) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.oracle.OracleConnectionConnectionPool.borrowConnection(OracleConnectionConnectionPool.java:118) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1879) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.access$300(PoolDataSourceImpl.java:224) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl$3.build(PoolDataSourceImpl.java:4050) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1822) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1778) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1764) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\r\n            ... 33 more\r\n    Caused by: java.lang.ClassCastException: class oracle.ucp.UniversalConnectionPoolException cannot be cast to class java.sql.SQLException (oracle.ucp.UniversalConnectionPoolException is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @6f496d9f; java.sql.SQLException is in module java.sql of loader &#39;platform&#39;)\r\n            at oracle.ucp.common.Service.create(Service.java:897) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.Service.create(Service.java:644) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.Topology.create(Topology.java:163) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.Core.growBorrowed(Core.java:1279) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.UniversalConnectionPoolImpl.helpGrowBorrowed(UniversalConnectionPoolImpl.java:406) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionWithoutCountingRequests(UniversalConnectionPoolImpl.java:349) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionAndValidateHelper(UniversalConnectionPoolImpl.java:205) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionAndValidate(UniversalConnectionPoolImpl.java:165) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnection(UniversalConnectionPoolImpl.java:138) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.JDBCConnectionPool.borrowConnection(JDBCConnectionPool.java:184) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.oracle.OracleJDBCConnectionPool.borrowConnection(OracleJDBCConnectionPool.java:610) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.oracle.OracleConnectionConnectionPool.borrowConnection(OracleConnectionConnectionPool.java:118) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1879) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.access$300(PoolDataSourceImpl.java:224) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl$3.build(PoolDataSourceImpl.java:4050) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1822) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1778) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1764) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\r\n            ... 33 more\r\n```\r\n\r\nI suppose that the reason is that the oracle.ucp.UniversalConnectionPoolException extends java.lang.Exception - a customTranslate overrided method requires java.sql.SQLException.\r\n\r\nBut, how to use SQLExceptionTranslator/jdbcTemplate.setExceptionTranslator feature with Oracle UCP ?\r\n\r\nBest Regards\r\n\r\nkoli\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/support/class-use/SQLExceptionTranslator.html","title":"How to use SQLExceptionTranslator and Oracle UCP together","body":"<p>I use Oracle UCP as connection pool driver.\nI try to use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/support/class-use/SQLExceptionTranslator.html\" rel=\"nofollow noreferrer\">SQLExceptionTranslator</a> in my JdbcTemplate but there is a problem.\nWhen I implement my own SqlExceptionTranslator implementation with overrided customTranslate() and if there is an Exception on db side I have the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...java.sql.SQLException: Exception occurred while getting connection: oracle.ucp.UniversalConnectionPoolException: Universal Connection Pool internal error: **java.lang.ClassCastException: class oracle.ucp.UniversalConnectionPoolException cannot be cast to class java.sql.SQLException** (oracle.ucp.UniversalConnectionPoolException is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @6f496d9f; java.sql.SQLException is in module java.sql of loader 'platform')\n            at oracle.ucp.util.UCPErrorHandler.newSQLException(UCPErrorHandler.java:498) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.util.UCPErrorHandler.throwSQLException(UCPErrorHandler.java:175) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1899) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.access$300(PoolDataSourceImpl.java:224) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl$3.build(PoolDataSourceImpl.java:4050) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1822) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1778) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1764) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\n            at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\n            at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\n            ... 33 more\n    Caused by: oracle.ucp.UniversalConnectionPoolException: Universal Connection Pool internal error: java.lang.ClassCastException: class oracle.ucp.UniversalConnectionPoolException cannot be cast to class java.sql.SQLException (oracle.ucp.UniversalConnectionPoolException is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @6f496d9f; java.sql.SQLException is in module java.sql of loader 'platform')\n            at oracle.ucp.util.UCPErrorHandler.newUniversalConnectionPoolException(UCPErrorHandler.java:378) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.util.UCPErrorHandler.throwUniversalConnectionPoolException(UCPErrorHandler.java:68) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.util.UCPErrorHandler.throwUniversalConnectionPoolException(UCPErrorHandler.java:91) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.util.UCPErrorHandler.throwUniversalConnectionPoolException(UCPErrorHandler.java:164) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.Core.growBorrowed(Core.java:1289) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.UniversalConnectionPoolImpl.helpGrowBorrowed(UniversalConnectionPoolImpl.java:406) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionWithoutCountingRequests(UniversalConnectionPoolImpl.java:349) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionAndValidateHelper(UniversalConnectionPoolImpl.java:205) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionAndValidate(UniversalConnectionPoolImpl.java:165) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnection(UniversalConnectionPoolImpl.java:138) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.JDBCConnectionPool.borrowConnection(JDBCConnectionPool.java:184) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.oracle.OracleJDBCConnectionPool.borrowConnection(OracleJDBCConnectionPool.java:610) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.oracle.OracleConnectionConnectionPool.borrowConnection(OracleConnectionConnectionPool.java:118) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1879) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.access$300(PoolDataSourceImpl.java:224) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl$3.build(PoolDataSourceImpl.java:4050) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1822) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1778) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1764) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\n            at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\n            at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\n            ... 33 more\n    Caused by: java.lang.ClassCastException: class oracle.ucp.UniversalConnectionPoolException cannot be cast to class java.sql.SQLException (oracle.ucp.UniversalConnectionPoolException is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @6f496d9f; java.sql.SQLException is in module java.sql of loader 'platform')\n            at oracle.ucp.common.Service.create(Service.java:897) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.Service.create(Service.java:644) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.Topology.create(Topology.java:163) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.Core.growBorrowed(Core.java:1279) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.UniversalConnectionPoolImpl.helpGrowBorrowed(UniversalConnectionPoolImpl.java:406) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionWithoutCountingRequests(UniversalConnectionPoolImpl.java:349) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionAndValidateHelper(UniversalConnectionPoolImpl.java:205) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnectionAndValidate(UniversalConnectionPoolImpl.java:165) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.common.UniversalConnectionPoolImpl.borrowConnection(UniversalConnectionPoolImpl.java:138) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.JDBCConnectionPool.borrowConnection(JDBCConnectionPool.java:184) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.oracle.OracleJDBCConnectionPool.borrowConnection(OracleJDBCConnectionPool.java:610) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.oracle.OracleConnectionConnectionPool.borrowConnection(OracleConnectionConnectionPool.java:118) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1879) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.access$300(PoolDataSourceImpl.java:224) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl$3.build(PoolDataSourceImpl.java:4050) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1822) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1778) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at oracle.ucp.jdbc.PoolDataSourceImpl.getConnection(PoolDataSourceImpl.java:1764) ~[ucp-21.8.0.0.jar!/:21.8.0.0.0]\n            at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\n            at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\n            at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80) ~[spring-jdbc-6.0.4.jar!/:6.0.4]\n            ... 33 more\n</code></pre>\n<p>I suppose that the reason is that the oracle.ucp.UniversalConnectionPoolException extends java.lang.Exception - a customTranslate overrided method requires java.sql.SQLException.</p>\n<p>But, how to use SQLExceptionTranslator/jdbcTemplate.setExceptionTranslator feature with Oracle UCP ?</p>\n<p>Best Regards</p>\n<p>koli</p>\n"},{"tags":["java","kubernetes","ignite"],"owner":{"account_id":29612205,"reputation":11,"user_id":22695175,"display_name":"Lovababu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697479508,"creation_date":1696594924,"question_id":77244401,"body_markdown":"We have a legacy Apache Ignite Servers (v2.9.1) deployed on set of VMs and trying to connect to servers with thick client from service deployed on Kubernetes.\r\n\r\n\r\n\r\nWe tried this configuration \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;\r\n        http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n    &lt;bean id=&quot;ignite.cfg&quot; class=&quot;org.apache.ignite.configuration.IgniteConfiguration&quot;&gt;\r\n        &lt;!-- Set to true to enable distributed class loading for examples, default is false. --&gt;\r\n        &lt;property name=&quot;peerClassLoadingEnabled&quot; value=&quot;false&quot;/&gt;\r\n        &lt;!-- Enable client mdoe. --&gt;\r\n        &lt;property name=&quot;clientMode&quot; value=&quot;true&quot;/&gt;\r\n        &lt;!-- Work Dir --&gt;\r\n        &lt;property name=&quot;workDirectory&quot; value=&quot;/tmp&quot;/&gt;\r\n        &lt;!-- Network Segmentation (Split Brain) --&gt;\r\n        &lt;property name=&quot;segmentationPolicy&quot; value=&quot;NOOP&quot;/&gt;\r\n        &lt;property name=&quot;segmentCheckFrequency&quot; value=&quot;60000&quot;/&gt;\r\n\r\n        &lt;property name=&quot;clientFailureDetectionTimeout&quot; value=&quot;60000&quot;/&gt;\r\n\r\n        &lt;!-- Enable task execution events for examples. --&gt;\r\n        &lt;property name=&quot;includeEventTypes&quot;&gt;\r\n            &lt;list&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n\r\n        &lt;property name=&quot;discoverySpi&quot;&gt;\r\n            &lt;bean class=&quot;org.apache.ignite.spi.discovery.tcp.TcpDiscoverySpi&quot;&gt;\r\n                &lt;property name=&quot;networkTimeout&quot; value=&quot;15000&quot;/&gt;\r\n                &lt;property name=&quot;socketTimeout&quot; value=&quot;15000&quot;/&gt;\r\n                &lt;property name=&quot;ackTimeout&quot; value=&quot;15000&quot;/&gt;\r\n                &lt;property name=&quot;statisticsPrintFrequency&quot; value=&quot;30&quot;/&gt;\r\n                &lt;property name=&quot;ipFinder&quot;&gt;\r\n                    &lt;bean class=&quot;org.apache.ignite.spi.discovery.tcp.ipfinder.vm.TcpDiscoveryVmIpFinder&quot;&gt;\r\n                        &lt;property name=&quot;addresses&quot; value=&quot;server-1.my-domain.com,server-2.my-domain.com,server-3.my-domain.com&quot;/&gt;\r\n                    &lt;/bean&gt;\r\n                &lt;/property&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;communicationSpi&quot;&gt;\r\n            &lt;bean class=&quot;org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi&quot;&gt;\r\n                &lt;property name=&quot;forceClientToServerConnections&quot; value=&quot;true&quot;/&gt;\r\n            &lt;/bean&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean id=&quot;conversionService&quot;\r\n            class=&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;/&gt;\r\n&lt;/beans&gt;\r\n```\r\nbut failing with below errors,\r\nClient logs:\r\n\r\n```\r\nSEVERE: Failed to send message: null\r\njava.io.IOException: Failed to get acknowledge for message: TcpDiscoveryClientMetricsUpdateMessage [super=TcpDiscoveryAbstractMessage [sndNodeId=null, id=57c6bd40b81-6c95ce16-6b3a-4046-80fa-6cdaac6c4831, verifierNodeId=null, topVer=0, pendingIdx=0, failedNodes=null, isClient=true]]\r\n        at org.apache.ignite.spi.discovery.tcp.ClientImpl$SocketWriter.body(ClientImpl.java:1471)\r\n        at org.apache.ignite.spi.IgniteSpiThread.run(IgniteSpiThread.java:58)\r\n...\r\n...\r\nSEVERE: Got exception while starting (will rollback startup routine).\r\nclass org.apache.ignite.IgniteCheckedException: Failed to start manager: GridManagerAdapter [enabled=true, name=org.apache.ignite.internal.managers.discovery.GridDiscoveryManager]\r\n        at org.apache.ignite.internal.IgniteKernal.startManager(IgniteKernal.java:1921)\r\n        at org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1279)\r\n        at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:2052)\r\n        at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1698)\r\n        at org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1114)\r\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:634)\r\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:575)\r\n        at org.apache.ignite.Ignition.getOrStart(Ignition.java:419)\r\n        at my.IgniteClientService.getIgnite(PRIgniteService.java:575)\r\n        at my.IgniteClientService.startIgniteService(IgniteClientService.java:926)\r\n        at my.IgniteClientService.&lt;init&gt;(IgniteClientService.java:100)\r\n        at my.IgniteClientService.&lt;init&gt;(IgniteClientService.java:78)\r\n        at java.lang.Thread.run(Thread.java:748)\r\nCaused by: class org.apache.ignite.IgniteCheckedException: Failed to start SPI: TcpDiscoverySpi [addrRslvr=null, sockTimeout=15000, ackTimeout=15000, marsh=JdkMarshaller [clsFilter=org.apache.ignite.marshaller.MarshallerUtils$1@68c517], reconCnt=10, reconDelay=2000, maxAckTimeout=600000, soLinger=0, forceSrvMode=false, clientReconnectDisabled=false, internalLsnr=null, skipAddrsRandomization=false]\r\n        at org.apache.ignite.internal.managers.GridManagerAdapter.startSpi(GridManagerAdapter.java:302)\r\n        at org.apache.ignite.internal.managers.discovery.GridDiscoveryManager.start(GridDiscoveryManager.java:974)\r\n        at org.apache.ignite.internal.IgniteKernal.startManager(IgniteKernal.java:1916)\r\n        ... 32 more\r\nCaused by: class org.apache.ignite.spi.IgniteSpiException: Failed to connect to cluster, connection failed and failed to reconnect.\r\n        at org.apache.ignite.spi.discovery.tcp.ClientImpl$Reconnector.body(ClientImpl.java:1691)\r\n        at org.apache.ignite.spi.IgniteSpiThread.run(IgniteSpiThread.java:58)\r\n\r\n\r\n```\r\n\r\nServer logs:\r\n\r\n```\r\n[12:00:51,574][WARNING][disco-event-worker-#323][GridDiscoveryManager] Node FAILED: TcpDiscoveryNode [id=6c95ce16-6b3a-4046-80fa-6cdaac6c4831, consistentId=6c95ce16-6b3a-4046-80fa-6cdaac6c4831, addrs=ArrayList [10.244.8.141, 127.0.0.1], sockAddrs=HashSet [/10.244.8.141:0, /127.0.0.1:0], discPort=0, order=2126, intOrder=1071, lastExchangeTime=1696593572069, loc=false, ver=2.9.1#20201203-sha1:adcce517, isClient=true]\r\n```\r\n\r\n\r\nHere 10.244.8.141 is the ip address of POD.\r\nSomeone who has similar setup working, please help us!!\r\n\r\n","title":"Apache Ignite client running on Kubernetes failed to join cluster with Ignite servers deployed outside Kubernetes","body":"<p>We have a legacy Apache Ignite Servers (v2.9.1) deployed on set of VMs and trying to connect to servers with thick client from service deployed on Kubernetes.</p>\n<p>We tried this configuration</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;\n        http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n    &lt;bean id=&quot;ignite.cfg&quot; class=&quot;org.apache.ignite.configuration.IgniteConfiguration&quot;&gt;\n        &lt;!-- Set to true to enable distributed class loading for examples, default is false. --&gt;\n        &lt;property name=&quot;peerClassLoadingEnabled&quot; value=&quot;false&quot;/&gt;\n        &lt;!-- Enable client mdoe. --&gt;\n        &lt;property name=&quot;clientMode&quot; value=&quot;true&quot;/&gt;\n        &lt;!-- Work Dir --&gt;\n        &lt;property name=&quot;workDirectory&quot; value=&quot;/tmp&quot;/&gt;\n        &lt;!-- Network Segmentation (Split Brain) --&gt;\n        &lt;property name=&quot;segmentationPolicy&quot; value=&quot;NOOP&quot;/&gt;\n        &lt;property name=&quot;segmentCheckFrequency&quot; value=&quot;60000&quot;/&gt;\n\n        &lt;property name=&quot;clientFailureDetectionTimeout&quot; value=&quot;60000&quot;/&gt;\n\n        &lt;!-- Enable task execution events for examples. --&gt;\n        &lt;property name=&quot;includeEventTypes&quot;&gt;\n            &lt;list&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n\n        &lt;property name=&quot;discoverySpi&quot;&gt;\n            &lt;bean class=&quot;org.apache.ignite.spi.discovery.tcp.TcpDiscoverySpi&quot;&gt;\n                &lt;property name=&quot;networkTimeout&quot; value=&quot;15000&quot;/&gt;\n                &lt;property name=&quot;socketTimeout&quot; value=&quot;15000&quot;/&gt;\n                &lt;property name=&quot;ackTimeout&quot; value=&quot;15000&quot;/&gt;\n                &lt;property name=&quot;statisticsPrintFrequency&quot; value=&quot;30&quot;/&gt;\n                &lt;property name=&quot;ipFinder&quot;&gt;\n                    &lt;bean class=&quot;org.apache.ignite.spi.discovery.tcp.ipfinder.vm.TcpDiscoveryVmIpFinder&quot;&gt;\n                        &lt;property name=&quot;addresses&quot; value=&quot;server-1.my-domain.com,server-2.my-domain.com,server-3.my-domain.com&quot;/&gt;\n                    &lt;/bean&gt;\n                &lt;/property&gt;\n            &lt;/bean&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;communicationSpi&quot;&gt;\n            &lt;bean class=&quot;org.apache.ignite.spi.communication.tcp.TcpCommunicationSpi&quot;&gt;\n                &lt;property name=&quot;forceClientToServerConnections&quot; value=&quot;true&quot;/&gt;\n            &lt;/bean&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;conversionService&quot;\n            class=&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;/&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>but failing with below errors,\nClient logs:</p>\n<pre><code>SEVERE: Failed to send message: null\njava.io.IOException: Failed to get acknowledge for message: TcpDiscoveryClientMetricsUpdateMessage [super=TcpDiscoveryAbstractMessage [sndNodeId=null, id=57c6bd40b81-6c95ce16-6b3a-4046-80fa-6cdaac6c4831, verifierNodeId=null, topVer=0, pendingIdx=0, failedNodes=null, isClient=true]]\n        at org.apache.ignite.spi.discovery.tcp.ClientImpl$SocketWriter.body(ClientImpl.java:1471)\n        at org.apache.ignite.spi.IgniteSpiThread.run(IgniteSpiThread.java:58)\n...\n...\nSEVERE: Got exception while starting (will rollback startup routine).\nclass org.apache.ignite.IgniteCheckedException: Failed to start manager: GridManagerAdapter [enabled=true, name=org.apache.ignite.internal.managers.discovery.GridDiscoveryManager]\n        at org.apache.ignite.internal.IgniteKernal.startManager(IgniteKernal.java:1921)\n        at org.apache.ignite.internal.IgniteKernal.start(IgniteKernal.java:1279)\n        at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start0(IgnitionEx.java:2052)\n        at org.apache.ignite.internal.IgnitionEx$IgniteNamedInstance.start(IgnitionEx.java:1698)\n        at org.apache.ignite.internal.IgnitionEx.start0(IgnitionEx.java:1114)\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:634)\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:575)\n        at org.apache.ignite.Ignition.getOrStart(Ignition.java:419)\n        at my.IgniteClientService.getIgnite(PRIgniteService.java:575)\n        at my.IgniteClientService.startIgniteService(IgniteClientService.java:926)\n        at my.IgniteClientService.&lt;init&gt;(IgniteClientService.java:100)\n        at my.IgniteClientService.&lt;init&gt;(IgniteClientService.java:78)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: class org.apache.ignite.IgniteCheckedException: Failed to start SPI: TcpDiscoverySpi [addrRslvr=null, sockTimeout=15000, ackTimeout=15000, marsh=JdkMarshaller [clsFilter=org.apache.ignite.marshaller.MarshallerUtils$1@68c517], reconCnt=10, reconDelay=2000, maxAckTimeout=600000, soLinger=0, forceSrvMode=false, clientReconnectDisabled=false, internalLsnr=null, skipAddrsRandomization=false]\n        at org.apache.ignite.internal.managers.GridManagerAdapter.startSpi(GridManagerAdapter.java:302)\n        at org.apache.ignite.internal.managers.discovery.GridDiscoveryManager.start(GridDiscoveryManager.java:974)\n        at org.apache.ignite.internal.IgniteKernal.startManager(IgniteKernal.java:1916)\n        ... 32 more\nCaused by: class org.apache.ignite.spi.IgniteSpiException: Failed to connect to cluster, connection failed and failed to reconnect.\n        at org.apache.ignite.spi.discovery.tcp.ClientImpl$Reconnector.body(ClientImpl.java:1691)\n        at org.apache.ignite.spi.IgniteSpiThread.run(IgniteSpiThread.java:58)\n\n\n</code></pre>\n<p>Server logs:</p>\n<pre><code>[12:00:51,574][WARNING][disco-event-worker-#323][GridDiscoveryManager] Node FAILED: TcpDiscoveryNode [id=6c95ce16-6b3a-4046-80fa-6cdaac6c4831, consistentId=6c95ce16-6b3a-4046-80fa-6cdaac6c4831, addrs=ArrayList [10.244.8.141, 127.0.0.1], sockAddrs=HashSet [/10.244.8.141:0, /127.0.0.1:0], discPort=0, order=2126, intOrder=1071, lastExchangeTime=1696593572069, loc=false, ver=2.9.1#20201203-sha1:adcce517, isClient=true]\n</code></pre>\n<p>Here 10.244.8.141 is the ip address of POD.\nSomeone who has similar setup working, please help us!!</p>\n"},{"tags":["java","google-bigquery"],"answers":[{"comments":[{"owner":{"account_id":1076732,"reputation":71,"user_id":1074711,"accept_rate":33,"display_name":"sandeep"},"score":0,"creation_date":1697517362,"post_id":77304059,"comment_id":136286276,"body_markdown":"Query worked, but getting  error  &quot;Output String too long while evaluating format&quot;, may be because of so many columns(more than 30)","body":"Query worked, but getting  error  &quot;Output String too long while evaluating format&quot;, may be because of so many columns(more than 30)"}],"tags":[],"owner":{"account_id":6782076,"reputation":168068,"user_id":5221944,"accept_rate":86,"display_name":"Mikhail Berlyant"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697479153,"creation_date":1697479153,"answer_id":77304059,"question_id":77303490,"body_markdown":"Consider below option         \r\n\r\n    create temp function  extract_keys(input string) returns array&lt;string&gt; language js as &quot;&quot;&quot;\r\n      return Object.keys(JSON.parse(input));\r\n      &quot;&quot;&quot;;\r\n    create temp function  extract_values(input string) returns array&lt;string&gt; language js as &quot;&quot;&quot;\r\n      return Object.values(JSON.parse(input));\r\n      &quot;&quot;&quot;;\r\n    select format(&#39;{%s}&#39;, string_agg(r))\r\n    from (\r\n      select format(&#39;&quot;%s&quot;: %T&#39;, key,array_agg(val)) r\r\n      from your_table t,\r\n      unnest(extract_keys(to_json_string(t))) key with offset\r\n      join unnest(extract_values(to_json_string(t))) val with offset\r\n      using(offset)      \r\n      group by key\r\n    )    \r\n\r\nif applied to sample data in your question - output is           \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D67rA.png","title":"Big Query function to convert query results into JSON with column name as key and row values List","body":"<p>Consider below option</p>\n<pre><code>create temp function  extract_keys(input string) returns array&lt;string&gt; language js as &quot;&quot;&quot;\n  return Object.keys(JSON.parse(input));\n  &quot;&quot;&quot;;\ncreate temp function  extract_values(input string) returns array&lt;string&gt; language js as &quot;&quot;&quot;\n  return Object.values(JSON.parse(input));\n  &quot;&quot;&quot;;\nselect format('{%s}', string_agg(r))\nfrom (\n  select format('&quot;%s&quot;: %T', key,array_agg(val)) r\n  from your_table t,\n  unnest(extract_keys(to_json_string(t))) key with offset\n  join unnest(extract_values(to_json_string(t))) val with offset\n  using(offset)      \n  group by key\n)    \n</code></pre>\n<p>if applied to sample data in your question - output is</p>\n<p><a href=\"https://i.stack.imgur.com/D67rA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D67rA.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1076732,"reputation":71,"user_id":1074711,"accept_rate":33,"display_name":"sandeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697479153,"creation_date":1697472871,"question_id":77303490,"body_markdown":"I have a complex requirement to return big query results in JSON structure with key as column names and all values of column as a single list.\r\nBelow is an example.\r\n\r\n| FirstName   | LastName       |\r\n| --------    | -------------- |\r\n| First1      | row1            |\r\n| First2      | row2            |\r\n| First3      | row3            |\r\n| First4      | row4            |\r\n\r\nThe expected results like below\r\n\r\n``{\r\n&quot;FirstName&quot;: [&quot;First1&quot;,&quot;First2&quot;,&quot;First3&quot;,&quot;First4&quot;],\r\n&quot;LastName&quot;: [&quot;row1&quot;,&quot;row2&quot;,&quot;row3&quot;,&quot;row4&quot;]\r\n}`` \r\n\r\nAlso column names should not be hardcoded in query. Because we have large number of columns and huge data in BQ.\r\nI tried using functions TO_JSON_STRING, STRUCT but not meet criteria.\r\nI am able to achieve using JAVA code and google libraries, but performance was impacted.\r\nAppreciate help.\r\n","title":"Big Query function to convert query results into JSON with column name as key and row values List","body":"<p>I have a complex requirement to return big query results in JSON structure with key as column names and all values of column as a single list.\nBelow is an example.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>FirstName</th>\n<th>LastName</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>First1</td>\n<td>row1</td>\n</tr>\n<tr>\n<td>First2</td>\n<td>row2</td>\n</tr>\n<tr>\n<td>First3</td>\n<td>row3</td>\n</tr>\n<tr>\n<td>First4</td>\n<td>row4</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The expected results like below</p>\n<p><code>{ &quot;FirstName&quot;: [&quot;First1&quot;,&quot;First2&quot;,&quot;First3&quot;,&quot;First4&quot;], &quot;LastName&quot;: [&quot;row1&quot;,&quot;row2&quot;,&quot;row3&quot;,&quot;row4&quot;] }</code></p>\n<p>Also column names should not be hardcoded in query. Because we have large number of columns and huge data in BQ.\nI tried using functions TO_JSON_STRING, STRUCT but not meet criteria.\nI am able to achieve using JAVA code and google libraries, but performance was impacted.\nAppreciate help.</p>\n"},{"tags":["java","eclipse-juno"],"comments":[{"owner":{"account_id":1303014,"reputation":527,"user_id":1252561,"display_name":"Kay"},"score":0,"creation_date":1361499440,"post_id":14968580,"comment_id":21097106,"body_markdown":"Since you mention this does not happen on another laptop computer of yours, some wild guess: I saw this similar issues on Linux with older versions of Eclipse. There it was related Eclipse using a web browser library to render tool tips. On some of Linux setups that resulted in crashes. There would be a crash dump that indicated xulrunner as part of the issue. Your example is different: Windows, and a much newer version of Eclipse. Still, maybe the difference between your laptop computer where all is fine and the problematic computer is also in the available web browsers on those systems?","body":"Since you mention this does not happen on another laptop computer of yours, some wild guess: I saw this similar issues on Linux with older versions of Eclipse. There it was related Eclipse using a web browser library to render tool tips. On some of Linux setups that resulted in crashes. There would be a crash dump that indicated xulrunner as part of the issue. Your example is different: Windows, and a much newer version of Eclipse. Still, maybe the difference between your laptop computer where all is fine and the problematic computer is also in the available web browsers on those systems?"},{"owner":{"account_id":278323,"reputation":4603,"user_id":572845,"accept_rate":38,"display_name":"TyrantWave"},"score":0,"creation_date":1361530498,"post_id":14968580,"comment_id":21107846,"body_markdown":"Possibly, but both computers are Win7 x64, same java version, and newest Juno.","body":"Possibly, but both computers are Win7 x64, same java version, and newest Juno."},{"owner":{"account_id":1303014,"reputation":527,"user_id":1252561,"display_name":"Kay"},"score":0,"creation_date":1361621532,"post_id":14968580,"comment_id":21140074,"body_markdown":"Since you&#39;re on an `x64` Windows, the Eclipse launcher uses `-arch x86_64`. Your Java runtime seems to be from `c:\\Windows\\system32\\javaw.exe`. Is that a true 64 bit Java runtime? Maybe check via Help/About/Installation Details/Configuration which `java.home` is really used, look for things like `java.vm.name=Java HotSpot(TM) 64-Bit Server VM`\n and `sun.arch.data.model=64` to verify that it&#39;s running as 64 bit. And compare those values between your two computers, the one where it all works and where it doesn&#39;t.","body":"Since you&#39;re on an <code>x64</code> Windows, the Eclipse launcher uses <code>-arch x86_64</code>. Your Java runtime seems to be from <code>c:\\Windows\\system32\\javaw.exe</code>. Is that a true 64 bit Java runtime? Maybe check via Help/About/Installation Details/Configuration which <code>java.home</code> is really used, look for things like <code>java.vm.name=Java HotSpot(TM) 64-Bit Server VM</code>  and <code>sun.arch.data.model=64</code> to verify that it&#39;s running as 64 bit. And compare those values between your two computers, the one where it all works and where it doesn&#39;t."},{"owner":{"account_id":278323,"reputation":4603,"user_id":572845,"accept_rate":38,"display_name":"TyrantWave"},"score":0,"creation_date":1361624519,"post_id":14968580,"comment_id":21140702,"body_markdown":"It&#39;s definitely x64 java (I&#39;ve removed all others and the ones in sys32, then installed just one version to be sure). I&#39;ll check the java home variables between to check differences.","body":"It&#39;s definitely x64 java (I&#39;ve removed all others and the ones in sys32, then installed just one version to be sure). I&#39;ll check the java home variables between to check differences."},{"owner":{"account_id":278323,"reputation":4603,"user_id":572845,"accept_rate":38,"display_name":"TyrantWave"},"score":0,"creation_date":1361987224,"post_id":14968580,"comment_id":21276410,"body_markdown":"Ok, I&#39;ve checked the Java Home variable and it was different - corrected it to point where it should. Still getting the exact same crash though =/. The other variables (vm name, sun arch model) are both 64 bit as well and the same between both computers","body":"Ok, I&#39;ve checked the Java Home variable and it was different - corrected it to point where it should. Still getting the exact same crash though =/. The other variables (vm name, sun arch model) are both 64 bit as well and the same between both computers"},{"owner":{"account_id":278323,"reputation":4603,"user_id":572845,"accept_rate":38,"display_name":"TyrantWave"},"score":0,"creation_date":1365148878,"post_id":14968580,"comment_id":22518097,"body_markdown":"Just to add if anyone&#39;s viewing - still occurring.","body":"Just to add if anyone&#39;s viewing - still occurring."},{"owner":{"account_id":66813,"reputation":22616,"user_id":195823,"display_name":"Adrien Plisson"},"score":0,"creation_date":1370701328,"post_id":14968580,"comment_id":24563380,"body_markdown":"i don&#39;t know if you still have this problem, but i was able to get rid of it. see the answer below.","body":"i don&#39;t know if you still have this problem, but i was able to get rid of it. see the answer below."}],"answers":[{"comments":[{"owner":{"account_id":278323,"reputation":4603,"user_id":572845,"accept_rate":38,"display_name":"TyrantWave"},"score":0,"creation_date":1371420720,"post_id":17000436,"comment_id":24803260,"body_markdown":"Thanks so much! Wasn&#39;t my display adaptor, but my mshtml or hh file was corrupted it seems - getting that repaired (`SFC /SCANNOW` actually ended up doing the job) worked a treat!. Now to remember what I was originally trying to code...","body":"Thanks so much! Wasn&#39;t my display adaptor, but my mshtml or hh file was corrupted it seems - getting that repaired (<code>SFC &#47;SCANNOW</code> actually ended up doing the job) worked a treat!. Now to remember what I was originally trying to code..."},{"owner":{"account_id":894910,"reputation":475,"user_id":932408,"accept_rate":62,"display_name":"flosk8"},"score":0,"creation_date":1408434115,"post_id":17000436,"comment_id":39575928,"body_markdown":"After 6 hours of cleaning workspaces, reinstalling java and eclipse I found this answer. In fact it was the hh.exe but none of the above worked for me. So I deleted my Windows user Profile and created a new one. That fixed the problem. Ughhh this was a weired thing. Thank you","body":"After 6 hours of cleaning workspaces, reinstalling java and eclipse I found this answer. In fact it was the hh.exe but none of the above worked for me. So I deleted my Windows user Profile and created a new one. That fixed the problem. Ughhh this was a weired thing. Thank you"}],"tags":[],"owner":{"account_id":66813,"reputation":22616,"user_id":195823,"display_name":"Adrien Plisson"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1370701283,"creation_date":1370701283,"answer_id":17000436,"question_id":14968580,"body_markdown":"__Warning__: _the solution described below corrected the problem on my computer, but the problem may not be the same on your computer... YMMV._\r\n\r\nSo, the incriminated popups are displaying an HTML snippet. This snippet is rendered using _mshtml.dll_.\r\n\r\nThe same _mshtml.dll_ is used to render HTML Help files (files with extension _.chm_). On my computer, i discovered that i was not able to open any HTML Help file: the HTML Help Executable (_hh.exe_) was crashing at launch. \r\n\r\nAfter some more research (i won&#39;t go through all the details of the search), it appeared that the drivers for my display adapter, which is an nVidia GeForce 540M, were at fault. They were outdated, and their installation got probably corrupted.\r\n\r\nAfter updating the drivers, the system was back to normal: i can open HTML Help files again, and Eclipse is no more crashing when displaying those little HTML filled popups !\r\n\r\nSo, the first step for you would be to check that you can open an HTML Help file correctly. Then you should check your display adapter driver installation... If it does not solve your problem, there can be many reasons for mshtml.dll file to crash, try to make something using mshtml.dll crash: this crash might give you more information than when eclipse brutally exits.\r\n\r\n(note that the corrupted drivers prevented the execution of the standard driver installer package downloaded from nVidia. I had to go to the device manager, open the properties for my display adapter, then click the &quot;update driver&quot; button. everything went smoothly, and automatically, from there)\r\n\r\n(note also that my system is running Windows 7 64-bit)","title":"Eclipse Juno - Constant crash (805306369) when highlighting anything","body":"<p><strong>Warning</strong>: <em>the solution described below corrected the problem on my computer, but the problem may not be the same on your computer... YMMV.</em></p>\n\n<p>So, the incriminated popups are displaying an HTML snippet. This snippet is rendered using <em>mshtml.dll</em>.</p>\n\n<p>The same <em>mshtml.dll</em> is used to render HTML Help files (files with extension <em>.chm</em>). On my computer, i discovered that i was not able to open any HTML Help file: the HTML Help Executable (<em>hh.exe</em>) was crashing at launch. </p>\n\n<p>After some more research (i won't go through all the details of the search), it appeared that the drivers for my display adapter, which is an nVidia GeForce 540M, were at fault. They were outdated, and their installation got probably corrupted.</p>\n\n<p>After updating the drivers, the system was back to normal: i can open HTML Help files again, and Eclipse is no more crashing when displaying those little HTML filled popups !</p>\n\n<p>So, the first step for you would be to check that you can open an HTML Help file correctly. Then you should check your display adapter driver installation... If it does not solve your problem, there can be many reasons for mshtml.dll file to crash, try to make something using mshtml.dll crash: this crash might give you more information than when eclipse brutally exits.</p>\n\n<p>(note that the corrupted drivers prevented the execution of the standard driver installer package downloaded from nVidia. I had to go to the device manager, open the properties for my display adapter, then click the \"update driver\" button. everything went smoothly, and automatically, from there)</p>\n\n<p>(note also that my system is running Windows 7 64-bit)</p>\n"},{"comments":[{"owner":{"account_id":965423,"reputation":1280,"user_id":988930,"accept_rate":65,"display_name":"duckduckgo"},"score":1,"creation_date":1390980986,"post_id":19395080,"comment_id":32322511,"body_markdown":"this resolved issue for my ubuntu pc, i tested the symptom using another answer","body":"this resolved issue for my ubuntu pc, i tested the symptom using another answer"},{"owner":{"account_id":3896476,"reputation":101,"user_id":3225376,"display_name":"ShortMan"},"score":0,"creation_date":1407327617,"post_id":19395080,"comment_id":39169714,"body_markdown":"This solved my problem with Mulesoft AnypointStudio on Ubuntu 14.04","body":"This solved my problem with Mulesoft AnypointStudio on Ubuntu 14.04"},{"owner":{"account_id":67259,"reputation":2367,"user_id":196884,"accept_rate":87,"display_name":"Wolfgang"},"score":0,"creation_date":1416485512,"post_id":19395080,"comment_id":42598079,"body_markdown":"This has helped me on Windows 7, too. Thanks!","body":"This has helped me on Windows 7, too. Thanks!"}],"tags":[],"owner":{"account_id":3443625,"reputation":1063,"user_id":2884925,"accept_rate":20,"display_name":"DrOli"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1381897572,"creation_date":1381896539,"answer_id":19395080,"question_id":14968580,"body_markdown":"After many many permutations of everything, including all the different JDK&#39;s etc etc ..\r\n\r\nThis worked for me (Fedora19/64, ADT 4.3/SDK 22.x,OpenJDK 1.8, Opteron64):  add this line to the `eclipse.ini` file\r\n\r\n    -Dorg.eclipse.swt.browser.DefaultType=mozilla\r\n\r\n\r\napparantly the tooltip bits launch different browsers at different times with &quot;collisions&quot;, but retricting to mozilla only seems to do the trick\r\n\r\nfound it here (https://bugs.launchpad.net/ubuntu-gnome/+bug/1163501)","title":"Eclipse Juno - Constant crash (805306369) when highlighting anything","body":"<p>After many many permutations of everything, including all the different JDK's etc etc ..</p>\n\n<p>This worked for me (Fedora19/64, ADT 4.3/SDK 22.x,OpenJDK 1.8, Opteron64):  add this line to the <code>eclipse.ini</code> file</p>\n\n<pre><code>-Dorg.eclipse.swt.browser.DefaultType=mozilla\n</code></pre>\n\n<p>apparantly the tooltip bits launch different browsers at different times with \"collisions\", but retricting to mozilla only seems to do the trick</p>\n\n<p>found it here (<a href=\"https://bugs.launchpad.net/ubuntu-gnome/+bug/1163501\">https://bugs.launchpad.net/ubuntu-gnome/+bug/1163501</a>)</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1697650572,"post_id":77304049,"comment_id":136307851,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77304049/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29685749,"reputation":1,"user_id":22751346,"display_name":"Matheus Buss"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697479042,"creation_date":1697479042,"answer_id":77304049,"question_id":14968580,"body_markdown":"This worked for me\r\n\r\n&gt;     export WEBKIT_DISABLE_COMPOSITING_MODE=1","title":"Eclipse Juno - Constant crash (805306369) when highlighting anything","body":"<p>This worked for me</p>\n<blockquote>\n<pre><code>export WEBKIT_DISABLE_COMPOSITING_MODE=1\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":278323,"reputation":4603,"user_id":572845,"accept_rate":38,"display_name":"TyrantWave"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2170,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":17000436,"answer_count":3,"score":5,"last_activity_date":1697479042,"creation_date":1361312154,"question_id":14968580,"body_markdown":"Whenever I mouse over any imported.. anything in Juno, Eclipse immediately hangs.\r\n\r\nEditing Java files - types, classes, annotations, the import itself - mousing over anything to view the javadoc will instantly hang eclipse.  \r\nAlso happens with auto-completes if the popup stays open for more than a second.\r\n\r\nHere&#39;s the error:  \r\n![Juno Error 805306369][1]\r\n\r\nRunning:\r\n\r\n    java version &quot;1.7.0_15&quot;\r\n    Java(TM) SE Runtime Environment (build 1.7.0_15-b03)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 23.7-b01, mixed mode)\r\n\r\nThe latest Eclipse Juno (Java EE) 64bit  \r\nWin7 x64.\r\n\r\nThere shouldn&#39;t be any incompatibilities there (All x64).\r\n\r\nLooking around the proposed fixes are either related to Java 6, or say to delete `Mylyn`, which I&#39;ve done but no fix.\r\n\r\nThis error happens consistently every single time.\r\n\r\nEdit:\r\nAnd to make things more annoying, the log in the .metadata folder is empty.  \r\nI&#39;m assuming I&#39;m missing something obvious as the *exact same setup* on my other laptop works fine. And searching just gets me unreadable mailing lists, or bug trackers saying it&#39;s fixed - when clearly it&#39;s not in this case.\r\n\r\n  [1]: http://i.stack.imgur.com/wjxlD.png","title":"Eclipse Juno - Constant crash (805306369) when highlighting anything","body":"<p>Whenever I mouse over any imported.. anything in Juno, Eclipse immediately hangs.</p>\n\n<p>Editing Java files - types, classes, annotations, the import itself - mousing over anything to view the javadoc will instantly hang eclipse.<br>\nAlso happens with auto-completes if the popup stays open for more than a second.</p>\n\n<p>Here's the error:<br>\n<img src=\"https://i.stack.imgur.com/wjxlD.png\" alt=\"Juno Error 805306369\"></p>\n\n<p>Running:</p>\n\n<pre><code>java version \"1.7.0_15\"\nJava(TM) SE Runtime Environment (build 1.7.0_15-b03)\nJava HotSpot(TM) 64-Bit Server VM (build 23.7-b01, mixed mode)\n</code></pre>\n\n<p>The latest Eclipse Juno (Java EE) 64bit<br>\nWin7 x64.</p>\n\n<p>There shouldn't be any incompatibilities there (All x64).</p>\n\n<p>Looking around the proposed fixes are either related to Java 6, or say to delete <code>Mylyn</code>, which I've done but no fix.</p>\n\n<p>This error happens consistently every single time.</p>\n\n<p>Edit:\nAnd to make things more annoying, the log in the .metadata folder is empty.<br>\nI'm assuming I'm missing something obvious as the <em>exact same setup</em> on my other laptop works fine. And searching just gets me unreadable mailing lists, or bug trackers saying it's fixed - when clearly it's not in this case.</p>\n"},{"tags":["java","spring","spring-mvc","jsp","file-upload"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1697197326,"post_id":77286519,"comment_id":136252860,"body_markdown":"How do you want to get a controller parameters if you are not sending them?","body":"How do you want to get a controller parameters if you are not sending them?"},{"owner":{"account_id":27164079,"reputation":1,"user_id":20701833,"display_name":"Ashok kumar"},"score":0,"creation_date":1697473645,"post_id":77286519,"comment_id":136281455,"body_markdown":"Thanks for the response, I did&#39;t understand, please elloborate.","body":"Thanks for the response, I did&#39;t understand, please elloborate."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697478397,"creation_date":1697476605,"answer_id":77303822,"question_id":77286519,"body_markdown":"Your form submission is not accepting parameters because you are not sending them.\r\n\r\nThe request to the controller is `POST`, that contains `multipart/form-data` MIME type. In this way it could be parsed by parts. Some of them should include form data values stored from input fields. But you use `&lt;button&gt;` value to store a required parameter value. This element is not added to the form data because it is not an `&lt;input&gt;` field. Instead, you should use `&lt;input type=&quot;submit&quot;&gt;` for the button or buttons with the hidden input field. When the button is clicked set the value of the hidden field.\r\n\r\n```html\r\n     &lt;input type=&quot;submit&quot; \r\n            id=&quot;add_sign&quot; \r\n            name=&quot;form_action&quot; \r\n            value=&quot;sign&quot;\r\n            class=&quot;btn btn-sm btn-primary login-submit-cs&quot; \r\n            style=&quot;margin-top:  10px&quot;&gt;\r\n        Add Signature\r\n    \r\n    &lt;input type=&quot;submit&quot; \r\n            id=&quot;verify_sign&quot; \r\n            name=&quot;form_action&quot;\r\n            value=&quot;verify&quot;\r\n            lass=&quot;btn btn-sm btn-primary login-submit-cs&quot;\r\n            style=&quot;margin-top: 10px&quot;&gt;\r\n        Verify Signature\r\n```\r\nOr\r\n\r\n```html\r\n     &lt;button type=&quot;submit&quot; \r\n            id=&quot;add_sign&quot; \r\n            class=&quot;btn btn-sm btn-primary login-submit-cs&quot; \r\n            style=&quot;margin-top:  10px&quot;\r\n            onclick=&quot;this.form.form_action=&#39;sign&#39;&quot;&gt;\r\n        Add Signature\r\n    &lt;/button&gt;\r\n\r\n    &lt;button type=&quot;submit&quot; \r\n            id=&quot;verify_sign&quot; \r\n            lass=&quot;btn btn-sm btn-primary login-submit-cs&quot;\r\n            style=&quot;margin-top: 10px&quot;    \r\n            onclick=&quot;this.form.form_action=&#39;verify&#39;&quot;&gt;\r\n        Verify Signature\r\n    &lt;/button&gt;\r\n\r\n    &lt;input type=&quot;hidden&quot;\r\n            name=&quot;form_action&quot;&gt;\r\n    \r\n```","title":"Form submission is not accepting parameters","body":"<p>Your form submission is not accepting parameters because you are not sending them.</p>\n<p>The request to the controller is <code>POST</code>, that contains <code>multipart/form-data</code> MIME type. In this way it could be parsed by parts. Some of them should include form data values stored from input fields. But you use <code>&lt;button&gt;</code> value to store a required parameter value. This element is not added to the form data because it is not an <code>&lt;input&gt;</code> field. Instead, you should use <code>&lt;input type=&quot;submit&quot;&gt;</code> for the button or buttons with the hidden input field. When the button is clicked set the value of the hidden field.</p>\n<pre class=\"lang-html prettyprint-override\"><code>     &lt;input type=&quot;submit&quot; \n            id=&quot;add_sign&quot; \n            name=&quot;form_action&quot; \n            value=&quot;sign&quot;\n            class=&quot;btn btn-sm btn-primary login-submit-cs&quot; \n            style=&quot;margin-top:  10px&quot;&gt;\n        Add Signature\n    \n    &lt;input type=&quot;submit&quot; \n            id=&quot;verify_sign&quot; \n            name=&quot;form_action&quot;\n            value=&quot;verify&quot;\n            lass=&quot;btn btn-sm btn-primary login-submit-cs&quot;\n            style=&quot;margin-top: 10px&quot;&gt;\n        Verify Signature\n</code></pre>\n<p>Or</p>\n<pre class=\"lang-html prettyprint-override\"><code>     &lt;button type=&quot;submit&quot; \n            id=&quot;add_sign&quot; \n            class=&quot;btn btn-sm btn-primary login-submit-cs&quot; \n            style=&quot;margin-top:  10px&quot;\n            onclick=&quot;this.form.form_action='sign'&quot;&gt;\n        Add Signature\n    &lt;/button&gt;\n\n    &lt;button type=&quot;submit&quot; \n            id=&quot;verify_sign&quot; \n            lass=&quot;btn btn-sm btn-primary login-submit-cs&quot;\n            style=&quot;margin-top: 10px&quot;    \n            onclick=&quot;this.form.form_action='verify'&quot;&gt;\n        Verify Signature\n    &lt;/button&gt;\n\n    &lt;input type=&quot;hidden&quot;\n            name=&quot;form_action&quot;&gt;\n    \n</code></pre>\n"}],"owner":{"account_id":27164079,"reputation":1,"user_id":20701833,"display_name":"Ashok kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697478738,"creation_date":1697188576,"question_id":77286519,"body_markdown":"I have a form that contains a file input field and 2 buttons with `name=&quot;action&quot;` and values as `&#39;sign&#39;` and `&#39;verify&#39;` respectively.\r\nI am trying to get that file and parameter of buttons upon submitting the form\r\nBut my controller is not receiving the parameters and its giving `null`.\r\n\r\n**This my controller code for the URL Mapping of my form action:**\r\n\r\n    @RequestMapping(value=&quot;/secure/pqca/verifydoc&quot;)\r\n\tpublic String verifiedDoc(@RequestParam(&quot;form_action&quot;) String form_action, \r\n                              @RequestParam(&quot;document&quot;) MultipartFile file, \r\n                              Model model, HttpServletRequest request) {\r\n\t\t\r\n\t\tSystem.out.print(&quot;hiii   &quot; + request.getParameter(&quot;form_action&quot;));\r\n\t\tpqcaService.verifiedDoc(form_action, file, model, request);\r\n\t\treturn &quot;pqca/verifyDocument&quot;;\r\n\t}\r\n\r\n\r\n**This is form:**\r\n```html\r\n&lt;form id=&quot;add_sign_form&quot; \r\n      action=&quot;/pqra/secure/pqca/verifydoc&quot;\r\n      method=&quot;post&quot; \r\n      enctype=&quot;multipart/form-data&quot;&gt;\r\n\r\n    &lt;div class=&quot;col-lg-8&quot;&gt;\r\n        &lt;input type=&quot;file&quot;\r\n               name=&quot;document&quot;\r\n               path=&quot;doc&quot;\r\n               class=&quot;form-control&quot;\r\n               placeholder=&quot;document&quot;\r\n               maxlength=&quot;50&quot; /&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;button type=&quot;submit&quot; \r\n            id=&quot;add_sign&quot; \r\n            name=&quot;form_action&quot; \r\n            value=&quot;sign&quot;\r\n            class=&quot;btn btn-sm btn-primary login-submit-cs&quot; \r\n            style=&quot;margin-top:  10px&quot;&gt;\r\n        Add Signature\r\n    &lt;/button&gt;\r\n\r\n    &lt;button type=&quot;submit&quot; \r\n            id=&quot;verify_sign&quot; \r\n            name=&quot;form_action&quot;\r\n            value=&quot;verify&quot;\r\n            lass=&quot;btn btn-sm btn-primary login-submit-cs&quot;\r\n            style=&quot;margin-top: 10px&quot;&gt;\r\n        Verify Signature\r\n    &lt;/button&gt;\r\n&lt;/form&gt;\r\n```","title":"Form submission is not accepting parameters","body":"<p>I have a form that contains a file input field and 2 buttons with <code>name=&quot;action&quot;</code> and values as <code>'sign'</code> and <code>'verify'</code> respectively.\nI am trying to get that file and parameter of buttons upon submitting the form\nBut my controller is not receiving the parameters and its giving <code>null</code>.</p>\n<p><strong>This my controller code for the URL Mapping of my form action:</strong></p>\n<pre><code>@RequestMapping(value=&quot;/secure/pqca/verifydoc&quot;)\npublic String verifiedDoc(@RequestParam(&quot;form_action&quot;) String form_action, \n                          @RequestParam(&quot;document&quot;) MultipartFile file, \n                          Model model, HttpServletRequest request) {\n    \n    System.out.print(&quot;hiii   &quot; + request.getParameter(&quot;form_action&quot;));\n    pqcaService.verifiedDoc(form_action, file, model, request);\n    return &quot;pqca/verifyDocument&quot;;\n}\n</code></pre>\n<p><strong>This is form:</strong></p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form id=&quot;add_sign_form&quot; \n      action=&quot;/pqra/secure/pqca/verifydoc&quot;\n      method=&quot;post&quot; \n      enctype=&quot;multipart/form-data&quot;&gt;\n\n    &lt;div class=&quot;col-lg-8&quot;&gt;\n        &lt;input type=&quot;file&quot;\n               name=&quot;document&quot;\n               path=&quot;doc&quot;\n               class=&quot;form-control&quot;\n               placeholder=&quot;document&quot;\n               maxlength=&quot;50&quot; /&gt;\n    &lt;/div&gt;\n\n    &lt;button type=&quot;submit&quot; \n            id=&quot;add_sign&quot; \n            name=&quot;form_action&quot; \n            value=&quot;sign&quot;\n            class=&quot;btn btn-sm btn-primary login-submit-cs&quot; \n            style=&quot;margin-top:  10px&quot;&gt;\n        Add Signature\n    &lt;/button&gt;\n\n    &lt;button type=&quot;submit&quot; \n            id=&quot;verify_sign&quot; \n            name=&quot;form_action&quot;\n            value=&quot;verify&quot;\n            lass=&quot;btn btn-sm btn-primary login-submit-cs&quot;\n            style=&quot;margin-top: 10px&quot;&gt;\n        Verify Signature\n    &lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n"},{"tags":["java","arrays","inputstream"],"comments":[{"owner":{"account_id":18037,"reputation":7471,"user_id":40961,"accept_rate":75,"display_name":"David d C e Freitas"},"score":18,"creation_date":1316687693,"post_id":1264709,"comment_id":9099014,"body_markdown":"See the reverse: byte[] to InputStream here: http://stackoverflow.com/questions/2091454/byte-to-inputstream-or-outputstream","body":"See the reverse: byte[] to InputStream here: <a href=\"http://stackoverflow.com/questions/2091454/byte-to-inputstream-or-outputstream\" title=\"byte to inputstream or outputstream\">stackoverflow.com/questions/2091454/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":339128,"reputation":11063,"user_id":668417,"accept_rate":55,"display_name":"Ondrej Bozek"},"score":23,"creation_date":1333446348,"post_id":1264737,"comment_id":12768107,"body_markdown":"What about the size of newly created byte[]. Why it is 16384? How could I determine exact right size? Thank you very much.","body":"What about the size of newly created byte[]. Why it is 16384? How could I determine exact right size? Thank you very much."},{"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"score":6,"creation_date":1333452791,"post_id":1264737,"comment_id":12770353,"body_markdown":"16384 is a fairly arbitrary choice although I tend to favour powers of 2 to increase the chance of the array aligning with word boundaries.  pihentagy&#39;s answer shows how you can avoid using an intermediate buffer, but rather allocate an array of the correct size.  Unless you&#39;re dealing with large files I personally prefer the code above, which is more elegant and can be used for InputStreams where the number of bytes to read is not known in advance.","body":"16384 is a fairly arbitrary choice although I tend to favour powers of 2 to increase the chance of the array aligning with word boundaries.  pihentagy&#39;s answer shows how you can avoid using an intermediate buffer, but rather allocate an array of the correct size.  Unless you&#39;re dealing with large files I personally prefer the code above, which is more elegant and can be used for InputStreams where the number of bytes to read is not known in advance."},{"owner":{"account_id":1445545,"reputation":2685,"user_id":1364174,"accept_rate":31,"display_name":"Paweł Brewczynski"},"score":0,"creation_date":1372523881,"post_id":1264737,"comment_id":25232848,"body_markdown":"@Adamski  Isn&#39;t creating array of bytes lot bigger than you expect data would be in the stream, waste the memory ?","body":"@Adamski  Isn&#39;t creating array of bytes lot bigger than you expect data would be in the stream, waste the memory ?"},{"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"score":0,"creation_date":1372923401,"post_id":1264737,"comment_id":25376900,"body_markdown":"@bluesm: Yes that&#39;s correct.  However, in my example the byte array is only 16Kb and so tiny by today&#39;s standards.  Also, of course this memory will be freed again afterwards.","body":"@bluesm: Yes that&#39;s correct.  However, in my example the byte array is only 16Kb and so tiny by today&#39;s standards.  Also, of course this memory will be freed again afterwards."},{"owner":{"account_id":182970,"reputation":3454,"user_id":418057,"display_name":"Craigo"},"score":0,"creation_date":1449795213,"post_id":1264737,"comment_id":56173499,"body_markdown":"When you&#39;re writing to your buffer, your start offset is always 0, so if the data is larger than 16384, then it will write over itself.","body":"When you&#39;re writing to your buffer, your start offset is always 0, so if the data is larger than 16384, then it will write over itself."},{"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"score":0,"creation_date":1450085026,"post_id":1264737,"comment_id":56268170,"body_markdown":"@Craigo: The offset: 0 applies to the data[] array being written from not the location in the output buffer (which is an OutputStream and hence does not support random access; all writes are append-only).","body":"@Craigo: The offset: 0 applies to the data[] array being written from not the location in the output buffer (which is an OutputStream and hence does not support random access; all writes are append-only)."},{"owner":{"account_id":182970,"reputation":3454,"user_id":418057,"display_name":"Craigo"},"score":0,"creation_date":1450224606,"post_id":1264737,"comment_id":56345712,"body_markdown":"@Adamski: Sorry, you are correct.  I got confused because I thought the result byte array was the &quot;data&quot;, but, rereading the code, it is actually the contents of &quot;buffer&quot;.","body":"@Adamski: Sorry, you are correct.  I got confused because I thought the result byte array was the &quot;data&quot;, but, rereading the code, it is actually the contents of &quot;buffer&quot;."},{"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"score":0,"creation_date":1450261207,"post_id":1264737,"comment_id":56360182,"body_markdown":"@Craigo: No problem.  Arguably I should have named buffer &quot;output&quot; or &quot;sink&quot;.","body":"@Craigo: No problem.  Arguably I should have named buffer &quot;output&quot; or &quot;sink&quot;."},{"owner":{"account_id":1234096,"reputation":4933,"user_id":1198077,"accept_rate":41,"display_name":"zeeshan"},"score":0,"creation_date":1473436487,"post_id":1264737,"comment_id":66155538,"body_markdown":"I have searched for over two days but couldn&#39;t find anywhere a clear solution to read bytes from an InputStream when using a TCP socket on my client. Yours is the only one which helped me. Thanks.","body":"I have searched for over two days but couldn&#39;t find anywhere a clear solution to read bytes from an InputStream when using a TCP socket on my client. Yours is the only one which helped me. Thanks."},{"owner":{"account_id":135932,"reputation":2117,"user_id":339116,"accept_rate":73,"display_name":"Amit Thaper"},"score":0,"creation_date":1481205931,"post_id":1264737,"comment_id":69290022,"body_markdown":"Its causes an issue of OutOfMemory when used with large files","body":"Its causes an issue of OutOfMemory when used with large files"},{"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"score":0,"creation_date":1481217153,"post_id":1264737,"comment_id":69297830,"body_markdown":"@AmitThaper: That isn&#39;t surprising; the code reads the entire file into memory (as requested by the OP).","body":"@AmitThaper: That isn&#39;t surprising; the code reads the entire file into memory (as requested by the OP)."},{"owner":{"display_name":"user2080225"},"score":0,"creation_date":1490314622,"post_id":1264737,"comment_id":73070064,"body_markdown":"I always use Apache Commons IOUtils mentioned in the higher rated answer, but as for the 16K buffer size, most streaming is done still today using 4K buffer size, because that ends up being optimal. Allocating a larger buffer will not get better performance but will just eat up memory unnecessarily. 4K is ideal.","body":"I always use Apache Commons IOUtils mentioned in the higher rated answer, but as for the 16K buffer size, most streaming is done still today using 4K buffer size, because that ends up being optimal. Allocating a larger buffer will not get better performance but will just eat up memory unnecessarily. 4K is ideal."},{"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"score":0,"creation_date":1490792077,"post_id":1264737,"comment_id":73269216,"body_markdown":"@ClayFerguson: Interesting; do you know why 4K is supposed to be optimal in the common case?","body":"@ClayFerguson: Interesting; do you know why 4K is supposed to be optimal in the common case?"},{"owner":{"display_name":"user2080225"},"score":6,"creation_date":1490883250,"post_id":1264737,"comment_id":73319971,"body_markdown":"@Adamski A lot of infrastructure hardware, web-servers, and OS-layer components are using 4K buffers to move data, so that&#39;s the reason for the exact number, but the main point is that you get such little performance boost by going over 4K that it&#39;s generally considered wasteful of memory. I&#39;m assuming this is *still* true, because it&#39;s decade old knowledge I had!","body":"@Adamski A lot of infrastructure hardware, web-servers, and OS-layer components are using 4K buffers to move data, so that&#39;s the reason for the exact number, but the main point is that you get such little performance boost by going over 4K that it&#39;s generally considered wasteful of memory. I&#39;m assuming this is <i>still</i> true, because it&#39;s decade old knowledge I had!"},{"owner":{"account_id":16877200,"reputation":629,"user_id":12204281,"display_name":"LCZ"},"score":0,"creation_date":1603175815,"post_id":1264737,"comment_id":113945267,"body_markdown":"We can use inputStream.available() to find out the number of bytes that the array occupies, then use that size to instantiate the byte array. https://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#available()","body":"We can use inputStream.available() to find out the number of bytes that the array occupies, then use that size to instantiate the byte array. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#available()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/io/&hellip;</a>"},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1639752970,"post_id":1264737,"comment_id":124436198,"body_markdown":"I&#39;ts the Better solution from all answers: Vanilla java, not much lines, uses a buffer and adapt to every inputStream. I will add it to my common utils.","body":"I&#39;ts the Better solution from all answers: Vanilla java, not much lines, uses a buffer and adapt to every inputStream. I will add it to my common utils."}],"tags":[],"owner":{"account_id":43577,"reputation":54129,"user_id":127479,"accept_rate":95,"display_name":"Adamski"},"comment_count":16,"down_vote_count":5,"up_vote_count":499,"is_accepted":false,"score":494,"last_activity_date":1587317548,"creation_date":1250062230,"answer_id":1264737,"question_id":1264709,"body_markdown":"You need to read each byte from your `InputStream` and write it to a `ByteArrayOutputStream`. \r\n\r\nYou can then retrieve the underlying byte array by calling `toByteArray()`:\r\n\r\n    InputStream is = ...\r\n    ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n    \r\n    int nRead;\r\n    byte[] data = new byte[16384];\r\n    \r\n    while ((nRead = is.read(data, 0, data.length)) != -1) {\r\n      buffer.write(data, 0, nRead);\r\n    }\r\n    \r\n    return buffer.toByteArray();\r\n\r\n","title":"Convert InputStream to byte array in Java","body":"<p>You need to read each byte from your <code>InputStream</code> and write it to a <code>ByteArrayOutputStream</code>. </p>\n\n<p>You can then retrieve the underlying byte array by calling <code>toByteArray()</code>:</p>\n\n<pre><code>InputStream is = ...\nByteArrayOutputStream buffer = new ByteArrayOutputStream();\n\nint nRead;\nbyte[] data = new byte[16384];\n\nwhile ((nRead = is.read(data, 0, data.length)) != -1) {\n  buffer.write(data, 0, nRead);\n}\n\nreturn buffer.toByteArray();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"score":224,"creation_date":1250072663,"post_id":1264756,"comment_id":1092888,"body_markdown":"For the want of writing 4 lines of code, you think that importing a 3rd-party dependency is worthwhile?","body":"For the want of writing 4 lines of code, you think that importing a 3rd-party dependency is worthwhile?"},{"owner":{"account_id":42418,"reputation":83388,"user_id":123582,"accept_rate":56,"display_name":"Rich Seller"},"score":240,"creation_date":1250073993,"post_id":1264756,"comment_id":1092980,"body_markdown":"If there is a library that handles the requirement, and deals with processing for large files, and is well tested, surely the question is why would I write it myself? The jar is only 107KB and if you have need for one method from it, you are likely to use others too","body":"If there is a library that handles the requirement, and deals with processing for large files, and is well tested, surely the question is why would I write it myself? The jar is only 107KB and if you have need for one method from it, you are likely to use others too"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":263,"creation_date":1276001137,"post_id":1264756,"comment_id":3061039,"body_markdown":"@oxbow_lakes: considering the staggering amount of **wrong** implementations of this feature I&#39;ve seen in my developer life, I feel that **yes** it&#39;s *very* much worth the external dependency to get it right.","body":"@oxbow_lakes: considering the staggering amount of <b>wrong</b> implementations of this feature I&#39;ve seen in my developer life, I feel that <b>yes</b> it&#39;s <i>very</i> much worth the external dependency to get it right."},{"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"score":20,"creation_date":1276067353,"post_id":1264756,"comment_id":3068761,"body_markdown":"Why not go and have a look at Apache commons stuff like `FastArrayList` or their soft &amp; weak reference Maps and come back to tell me how &quot;well-tested&quot; this library is. It&#39;s a pile of rubbish","body":"Why not go and have a look at Apache commons stuff like <code>FastArrayList</code> or their soft &amp; weak reference Maps and come back to tell me how &quot;well-tested&quot; this library is. It&#39;s a pile of rubbish"},{"owner":{"account_id":198768,"reputation":1124,"user_id":443633,"display_name":"michaelok"},"score":93,"creation_date":1325190946,"post_id":1264756,"comment_id":10780762,"body_markdown":"In addition to Apache commons-io, check out the [ByteStreams](http://docs.guava-libraries.googlecode.com/git-history/v10.0.1/javadoc/com/google/common/io/ByteStreams.html) class from [Google Guava](http://code.google.com/p/guava-libraries/).   `InputStream is;`  `byte[] filedata=ByteStreams.toByteArray(is);`","body":"In addition to Apache commons-io, check out the <a href=\"http://docs.guava-libraries.googlecode.com/git-history/v10.0.1/javadoc/com/google/common/io/ByteStreams.html\" rel=\"nofollow noreferrer\">ByteStreams</a> class from <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"nofollow noreferrer\">Google Guava</a>.   <code>InputStream is;</code>  <code>byte[] filedata=ByteStreams.toByteArray(is);</code>"},{"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"score":2,"creation_date":1327501455,"post_id":1264756,"comment_id":11286035,"body_markdown":"there is &quot;DataInputStream&quot; and its method &quot;readFully&quot; for this usecase - no need of external libraries and strange loops with magic numbers. - see my answer below","body":"there is &quot;DataInputStream&quot; and its method &quot;readFully&quot; for this usecase - no need of external libraries and strange loops with magic numbers. - see my answer below"},{"owner":{"account_id":236423,"reputation":15157,"user_id":503900,"accept_rate":88,"display_name":"bigstones"},"score":1,"creation_date":1349214149,"post_id":1264756,"comment_id":17143827,"body_markdown":"@JoachimSauer: is [Adamski&#39;s answer](http://stackoverflow.com/a/1264737/503900) a correct implementation? I wanted to use that one but after reading your comment I&#39;m no more sure.","body":"@JoachimSauer: is <a href=\"http://stackoverflow.com/a/1264737/503900\">Adamski&#39;s answer</a> a correct implementation? I wanted to use that one but after reading your comment I&#39;m no more sure."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1349240162,"post_id":1264756,"comment_id":17149054,"body_markdown":"@bigstone: it looks correct to me, but you don&#39;t have to trust me on that: trust the 75 people who upvoted his answer ;-)","body":"@bigstone: it looks correct to me, but you don&#39;t have to trust me on that: trust the 75 people who upvoted his answer ;-)"},{"owner":{"account_id":461687,"reputation":5477,"user_id":863553,"accept_rate":91,"display_name":"cytinus"},"score":2,"creation_date":1365011789,"post_id":1264756,"comment_id":22458308,"body_markdown":"The only reason not to use a time-tested 3rd-party dependency is because you are lazy and/or not using best practices.  Use a dependency management tool like Maven and then yea, it is worthwhile.","body":"The only reason not to use a time-tested 3rd-party dependency is because you are lazy and/or not using best practices.  Use a dependency management tool like Maven and then yea, it is worthwhile."},{"owner":{"account_id":166535,"reputation":8325,"user_id":390722,"accept_rate":67,"display_name":"Michael M"},"score":5,"creation_date":1380134865,"post_id":1264756,"comment_id":28090839,"body_markdown":"in response to `go and have a look at Apache commons stuff like FastArrayList or their soft &amp; weak reference Maps and come back to tell me how &quot;well-tested&quot; this library is` ... that&#39;s like saying &quot;taste those brussel sprouts and tell me how good these tomatoes are&quot;. If I add these tomatoes to my dish, taste test it, like it and everyone else apparently likes it too, then what do I care of the brussel sprouts from the same grocer are ka-ka ?","body":"in response to <code>go and have a look at Apache commons stuff like FastArrayList or their soft &amp; weak reference Maps and come back to tell me how &quot;well-tested&quot; this library is</code> ... that&#39;s like saying &quot;taste those brussel sprouts and tell me how good these tomatoes are&quot;. If I add these tomatoes to my dish, taste test it, like it and everyone else apparently likes it too, then what do I care of the brussel sprouts from the same grocer are ka-ka ?"},{"owner":{"account_id":1235468,"reputation":31121,"user_id":1199132,"accept_rate":83,"display_name":"Aritz"},"score":2,"creation_date":1393430357,"post_id":1264756,"comment_id":33426476,"body_markdown":"@cytinus, being lazy is to me not having to write/maintain it, not the other way. At school: full implementation, at work: third parties.","body":"@cytinus, being lazy is to me not having to write/maintain it, not the other way. At school: full implementation, at work: third parties."},{"owner":{"account_id":178183,"reputation":41234,"user_id":409976,"accept_rate":68,"display_name":"Kevin Meredith"},"score":0,"creation_date":1421783929,"post_id":1264756,"comment_id":44490041,"body_markdown":"does this answer still hold? Or is there a standard, built-in Java way to do this?","body":"does this answer still hold? Or is there a standard, built-in Java way to do this?"},{"owner":{"account_id":134817,"reputation":5210,"user_id":337221,"display_name":"Christian d&#39;Heureuse"},"score":2,"creation_date":1428198742,"post_id":1264756,"comment_id":47072066,"body_markdown":"`IOUtils.toByteArray(InputStream)` only copies in blocks of 4KB, not 4MB. In IOUtils.java the block size is defined as `private static final int DEFAULT_BUFFER_SIZE = 1024 * 4`.","body":"<code>IOUtils.toByteArray(InputStream)</code> only copies in blocks of 4KB, not 4MB. In IOUtils.java the block size is defined as <code>private static final int DEFAULT_BUFFER_SIZE = 1024 * 4</code>."},{"owner":{"account_id":1197629,"reputation":875,"user_id":1169009,"display_name":"dimuthu"},"score":2,"creation_date":1430993029,"post_id":1264756,"comment_id":48307349,"body_markdown":"@JoachimSauer You&#39;re exactly to the point on using third party libraries for this. I just finished spending two whole days just to figure out someone has badly implemented a byte array conversion. Using IOUtils I could get rid of the problem. Voted up the answer and your comment;)","body":"@JoachimSauer You&#39;re exactly to the point on using third party libraries for this. I just finished spending two whole days just to figure out someone has badly implemented a byte array conversion. Using IOUtils I could get rid of the problem. Voted up the answer and your comment;)"},{"owner":{"account_id":46333,"reputation":56186,"user_id":136829,"display_name":"Glenn Maynard"},"score":4,"creation_date":1436216587,"post_id":1264756,"comment_id":50508120,"body_markdown":"Pulling in a whole library just to read a stream sums up the problem with Java development as a whole.","body":"Pulling in a whole library just to read a stream sums up the problem with Java development as a whole."},{"owner":{"account_id":61754,"reputation":3594,"user_id":183871,"accept_rate":94,"display_name":"Nayn"},"score":0,"creation_date":1457494890,"post_id":1264756,"comment_id":59427760,"body_markdown":"may be one should justify the decision to have dependency on third party library based on 1. Is it worth to re-invent the wheel  2. Is my JVM heap/permgen too small to have big impact of this dependency.","body":"may be one should justify the decision to have dependency on third party library based on 1. Is it worth to re-invent the wheel  2. Is my JVM heap/permgen too small to have big impact of this dependency."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1465305992,"post_id":1264756,"comment_id":62838380,"body_markdown":"@Nayn: the problem with using a 3rd party solution is first, the assumption that 3rd party developers are smarter than you, just because they are writing a 3rd party library or that the 3rd party library’s code is “well tested”, just because it resides in a 3rd party library. And well, more than often, it’s not one 3rd party library dependency, but a dozen, because these 3rd party libraries are written by developers who also don’t care about minimizing 3rd party library dependencies. There is a tendency of Java developers to know more about 3rd party libraries than about the standard API.","body":"@Nayn: the problem with using a 3rd party solution is first, the assumption that 3rd party developers are smarter than you, just because they are writing a 3rd party library or that the 3rd party library’s code is “well tested”, just because it resides in a 3rd party library. And well, more than often, it’s not one 3rd party library dependency, but a dozen, because these 3rd party libraries are written by developers who also don’t care about minimizing 3rd party library dependencies. There is a tendency of Java developers to know more about 3rd party libraries than about the standard API."},{"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"score":1,"creation_date":1483023626,"post_id":1264756,"comment_id":69966207,"body_markdown":"Apache Commons is the jQuery of Java.","body":"Apache Commons is the jQuery of Java."},{"owner":{"account_id":2908151,"reputation":11425,"user_id":2492977,"accept_rate":75,"display_name":"No Idea For Name"},"score":2,"creation_date":1501580196,"post_id":1264756,"comment_id":77829111,"body_markdown":"This method is deprecated. can you please update the answer?","body":"This method is deprecated. can you please update the answer?"},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":2,"creation_date":1545895558,"post_id":1264756,"comment_id":94721704,"body_markdown":"@KevinMeredith As of Java 9, there is now has a built-in way to do this. See [Holger’s answer](https://stackoverflow.com/a/37681322/1441122).","body":"@KevinMeredith As of Java 9, there is now has a built-in way to do this. See <a href=\"https://stackoverflow.com/a/37681322/1441122\">Holger’s answer</a>."},{"owner":{"account_id":9007431,"reputation":123,"user_id":6713531,"display_name":"user9999"},"score":1,"creation_date":1596638627,"post_id":1264756,"comment_id":111876571,"body_markdown":"now it is finally in the core library. https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readAllBytes--","body":"now it is finally in the core library. <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readAllBytes--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/9/docs/api/java/io/&hellip;</a>"},{"owner":{"account_id":9273909,"reputation":3750,"user_id":6887084,"display_name":"ScanQR"},"score":0,"creation_date":1630930010,"post_id":1264756,"comment_id":122080814,"body_markdown":"Commenting to appreciate all master commenters for their knowledge of 3rd party library implementation.","body":"Commenting to appreciate all master commenters for their knowledge of 3rd party library implementation."},{"owner":{"account_id":6686844,"reputation":404,"user_id":5157770,"display_name":"Tinashe Chinyanga"},"score":0,"creation_date":1634761935,"post_id":1264756,"comment_id":123116003,"body_markdown":"This is resolved my issue. On trying to convert a .zpl stream, some of the characters where getting messed up when handling this on my own. The library works well.","body":"This is resolved my issue. On trying to convert a .zpl stream, some of the characters where getting messed up when handling this on my own. The library works well."}],"tags":[],"owner":{"account_id":42418,"reputation":83388,"user_id":123582,"accept_rate":56,"display_name":"Rich Seller"},"comment_count":23,"down_vote_count":25,"up_vote_count":1302,"is_accepted":true,"score":1277,"last_activity_date":1449855209,"creation_date":1250062554,"answer_id":1264756,"question_id":1264709,"body_markdown":"You can use Apache [Commons IO][1] to handle this and similar tasks.\r\n\r\nThe `IOUtils` type has a static method to read an `InputStream` and return a `byte[]`.\r\n\r\n    InputStream is;\r\n    byte[] bytes = IOUtils.toByteArray(is);\r\n\r\nInternally this creates a `ByteArrayOutputStream` and copies the bytes to the output, then calls `toByteArray()`. It handles large files by copying the bytes in blocks of 4KiB.\r\n\r\n\r\n  [1]: http://commons.apache.org/io/","title":"Convert InputStream to byte array in Java","body":"<p>You can use Apache <a href=\"http://commons.apache.org/io/\" rel=\"noreferrer\">Commons IO</a> to handle this and similar tasks.</p>\n\n<p>The <code>IOUtils</code> type has a static method to read an <code>InputStream</code> and return a <code>byte[]</code>.</p>\n\n<pre><code>InputStream is;\nbyte[] bytes = IOUtils.toByteArray(is);\n</code></pre>\n\n<p>Internally this creates a <code>ByteArrayOutputStream</code> and copies the bytes to the output, then calls <code>toByteArray()</code>. It handles large files by copying the bytes in blocks of 4KiB.</p>\n"},{"tags":[],"owner":{"account_id":44167,"reputation":4624,"user_id":129474,"accept_rate":73,"display_name":"firstthumb"},"comment_count":0,"down_vote_count":7,"up_vote_count":3,"is_accepted":false,"score":-4,"last_activity_date":1250062708,"creation_date":1250062708,"answer_id":1264767,"question_id":1264709,"body_markdown":"Below Codes\r\n    \r\n    public static byte[] serializeObj(Object obj) throws IOException {\r\n      ByteArrayOutputStream baOStream = new ByteArrayOutputStream();\r\n      ObjectOutputStream objOStream = new ObjectOutputStream(baOStream);\r\n    \r\n      objOStream.writeObject(obj); \r\n      objOStream.flush();\r\n      objOStream.close();\r\n      return baOStream.toByteArray(); \r\n    } \r\n\r\n \r\n  \r\nOR\r\n\r\n    BufferedImage img = ...\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream(1000);\r\n    ImageIO.write(img, &quot;jpeg&quot;, baos);\r\n    baos.flush();\r\n    byte[] result = baos.toByteArray();\r\n    baos.close();","title":"Convert InputStream to byte array in Java","body":"<p>Below Codes</p>\n\n<pre><code>public static byte[] serializeObj(Object obj) throws IOException {\n  ByteArrayOutputStream baOStream = new ByteArrayOutputStream();\n  ObjectOutputStream objOStream = new ObjectOutputStream(baOStream);\n\n  objOStream.writeObject(obj); \n  objOStream.flush();\n  objOStream.close();\n  return baOStream.toByteArray(); \n} \n</code></pre>\n\n<p>OR</p>\n\n<pre><code>BufferedImage img = ...\nByteArrayOutputStream baos = new ByteArrayOutputStream(1000);\nImageIO.write(img, \"jpeg\", baos);\nbaos.flush();\nbyte[] result = baos.toByteArray();\nbaos.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"comment_count":0,"down_vote_count":3,"up_vote_count":22,"is_accepted":false,"score":19,"last_activity_date":1352122970,"creation_date":1250064859,"answer_id":1264879,"question_id":1264709,"body_markdown":"Do you really need the image as a `byte[]`? What exactly do you expect in the `byte[]` - the complete content of an image file, encoded in whatever format the image file is in, or RGB pixel values?\r\n\r\nOther answers here show you how to read a file into a `byte[]`. Your `byte[]` will contain the exact contents of the file, and you&#39;d need to decode that to do anything with the image data.\r\n\r\nJava&#39;s standard API for reading (and writing) images is the ImageIO API, which you can find in the package `javax.imageio`. You can read in an image from a file with just a single line of code:\r\n\r\n    BufferedImage image = ImageIO.read(new File(&quot;image.jpg&quot;));\r\n\r\nThis will give you a `BufferedImage`, not a `byte[]`. To get at the image data, you can call `getRaster()` on the `BufferedImage`. This will give you a `Raster` object, which has methods to access the pixel data (it has several `getPixel()` / `getPixels()` methods).\r\n\r\nLookup the API documentation for `javax.imageio.ImageIO`, `java.awt.image.BufferedImage`, `java.awt.image.Raster` etc.\r\n\r\nImageIO supports a number of image formats by default: JPEG, PNG, BMP, WBMP and GIF. It&#39;s possible to add support for more formats (you&#39;d need a plug-in that implements the ImageIO service provider interface).\r\n\r\nSee also the following tutorial: [Working with Images][1]\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/2d/images/index.html","title":"Convert InputStream to byte array in Java","body":"<p>Do you really need the image as a <code>byte[]</code>? What exactly do you expect in the <code>byte[]</code> - the complete content of an image file, encoded in whatever format the image file is in, or RGB pixel values?</p>\n\n<p>Other answers here show you how to read a file into a <code>byte[]</code>. Your <code>byte[]</code> will contain the exact contents of the file, and you'd need to decode that to do anything with the image data.</p>\n\n<p>Java's standard API for reading (and writing) images is the ImageIO API, which you can find in the package <code>javax.imageio</code>. You can read in an image from a file with just a single line of code:</p>\n\n<pre><code>BufferedImage image = ImageIO.read(new File(\"image.jpg\"));\n</code></pre>\n\n<p>This will give you a <code>BufferedImage</code>, not a <code>byte[]</code>. To get at the image data, you can call <code>getRaster()</code> on the <code>BufferedImage</code>. This will give you a <code>Raster</code> object, which has methods to access the pixel data (it has several <code>getPixel()</code> / <code>getPixels()</code> methods).</p>\n\n<p>Lookup the API documentation for <code>javax.imageio.ImageIO</code>, <code>java.awt.image.BufferedImage</code>, <code>java.awt.image.Raster</code> etc.</p>\n\n<p>ImageIO supports a number of image formats by default: JPEG, PNG, BMP, WBMP and GIF. It's possible to add support for more formats (you'd need a plug-in that implements the ImageIO service provider interface).</p>\n\n<p>See also the following tutorial: <a href=\"http://java.sun.com/docs/books/tutorial/2d/images/index.html\" rel=\"noreferrer\">Working with Images</a></p>\n"},{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1479828813,"post_id":2988151,"comment_id":68717460,"body_markdown":"However, usually the OS already buffers enough for this not be be a huge worry for smaller files. It&#39;s not like the hard disk head will read each byte separately (a hard disk is a turning glass plate with magnetic coded information on it, a bit like that weird icon we use for saving data :P).","body":"However, usually the OS already buffers enough for this not be be a huge worry for smaller files. It&#39;s not like the hard disk head will read each byte separately (a hard disk is a turning glass plate with magnetic coded information on it, a bit like that weird icon we use for saving data :P)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":7,"creation_date":1481709284,"post_id":2988151,"comment_id":69482022,"body_markdown":"@Maarten Bodewes: most devices have a kind of block transfer, so not every read() will cause an actual device access, indeed, but having an OS-call per byte is already sufficient to kill the performance. While wrapping the `InputStream` in a `BufferedInputStream` before that code would reduce the OS-calls and mitigate the performance drawbacks significantly, that code will still do unnecessary manual copying work from one buffer to another.","body":"@Maarten Bodewes: most devices have a kind of block transfer, so not every read() will cause an actual device access, indeed, but having an OS-call per byte is already sufficient to kill the performance. While wrapping the <code>InputStream</code> in a <code>BufferedInputStream</code> before that code would reduce the OS-calls and mitigate the performance drawbacks significantly, that code will still do unnecessary manual copying work from one buffer to another."}],"tags":[],"owner":{"account_id":619492,"reputation":141,"user_id":360220,"display_name":"Aturio"},"comment_count":2,"down_vote_count":5,"up_vote_count":15,"is_accepted":false,"score":10,"last_activity_date":1537375395,"creation_date":1275901192,"answer_id":2988151,"question_id":1264709,"body_markdown":"    Input Stream is ...\r\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n    int next = in.read();\r\n    while (next &gt; -1) {\r\n        bos.write(next);\r\n        next = in.read();\r\n    }\r\n    bos.flush();\r\n    byte[] result = bos.toByteArray();\r\n    bos.close();","title":"Convert InputStream to byte array in Java","body":"<pre><code>Input Stream is ...\nByteArrayOutputStream bos = new ByteArrayOutputStream();\nint next = in.read();\nwhile (next &gt; -1) {\n    bos.write(next);\n    next = in.read();\n}\nbos.flush();\nbyte[] result = bos.toByteArray();\nbos.close();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":246417,"reputation":17570,"user_id":520567,"accept_rate":71,"display_name":"akostadinov"},"score":0,"creation_date":1363713294,"post_id":6203611,"comment_id":21956630,"body_markdown":"Closing and flushing bos is a waste of keyboard clicks. Closing the input stream is more likely to help. Reading one byte at a time is inefficient. See numan&#39;s answer.","body":"Closing and flushing bos is a waste of keyboard clicks. Closing the input stream is more likely to help. Reading one byte at a time is inefficient. See numan&#39;s answer."}],"tags":[],"owner":{"account_id":760259,"reputation":1,"user_id":779677,"display_name":"Madhu"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1307018702,"creation_date":1306941721,"answer_id":6203611,"question_id":1264709,"body_markdown":"    /*InputStream class_InputStream = null;\r\n    I am reading class from DB \r\n    class_InputStream = rs.getBinaryStream(1);\r\n    Your Input stream could be from any source\r\n    */\r\n    int thisLine;\r\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n    while ((thisLine = class_InputStream.read()) != -1) {\r\n    \tbos.write(thisLine);\r\n    }\r\n    bos.flush();\r\n    byte [] yourBytes = bos.toByteArray();\r\n    \r\n    /*Don&#39;t forget in the finally block to close ByteArrayOutputStream &amp; InputStream\r\n     In my case the IS is from resultset so just closing the rs will do it*/\r\n    \r\n    if (bos != null){\r\n        bos.close();\r\n    }","title":"Convert InputStream to byte array in Java","body":"<pre><code>/*InputStream class_InputStream = null;\nI am reading class from DB \nclass_InputStream = rs.getBinaryStream(1);\nYour Input stream could be from any source\n*/\nint thisLine;\nByteArrayOutputStream bos = new ByteArrayOutputStream();\nwhile ((thisLine = class_InputStream.read()) != -1) {\n    bos.write(thisLine);\n}\nbos.flush();\nbyte [] yourBytes = bos.toByteArray();\n\n/*Don't forget in the finally block to close ByteArrayOutputStream &amp; InputStream\n In my case the IS is from resultset so just closing the rs will do it*/\n\nif (bos != null){\n    bos.close();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17533,"reputation":5283,"user_id":39334,"accept_rate":81,"display_name":"stolsvik"},"score":7,"creation_date":1366363668,"post_id":6276139,"comment_id":22990751,"body_markdown":"Depends on knowing size upfront.","body":"Depends on knowing size upfront."},{"owner":{"account_id":13250,"reputation":6025,"user_id":26494,"accept_rate":49,"display_name":"pihentagy"},"score":2,"creation_date":1366383773,"post_id":6276139,"comment_id":23001872,"body_markdown":"Of course, but they should know the size: &quot;I want to read an image&quot;","body":"Of course, but they should know the size: &quot;I want to read an image&quot;"},{"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"score":1,"creation_date":1369726400,"post_id":6276139,"comment_id":24188600,"body_markdown":"if you know the size, then java provides the code for you. see my answer or google for &quot;DataInputStream&quot; and it&#39;s readFully method.","body":"if you know the size, then java provides the code for you. see my answer or google for &quot;DataInputStream&quot; and it&#39;s readFully method."},{"owner":{"account_id":1042649,"reputation":37922,"user_id":1048340,"accept_rate":100,"display_name":"Jared Rummler"},"score":0,"creation_date":1423130878,"post_id":6276139,"comment_id":45027116,"body_markdown":"You should add `is.close()` if `offset &lt; bytes.length` or the `InputStream` will not be closed if that exception is thrown.","body":"You should add <code>is.close()</code> if <code>offset &lt; bytes.length</code> or the <code>InputStream</code> will not be closed if that exception is thrown."},{"owner":{"account_id":13250,"reputation":6025,"user_id":26494,"accept_rate":49,"display_name":"pihentagy"},"score":3,"creation_date":1423132260,"post_id":6276139,"comment_id":45027963,"body_markdown":"Then better, you should use try-with-resources","body":"Then better, you should use try-with-resources"}],"tags":[],"owner":{"account_id":13250,"reputation":6025,"user_id":26494,"accept_rate":49,"display_name":"pihentagy"},"comment_count":5,"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1307521849,"creation_date":1307521849,"answer_id":6276139,"question_id":1264709,"body_markdown":"@Adamski: You can avoid buffer entirely.\r\n\r\nCode copied from http://www.exampledepot.com/egs/java.io/File2ByteArray.html (Yes, it is very verbose, but needs half the size of memory as the other solution.)\r\n\r\n    // Returns the contents of the file in a byte array.\r\n    public static byte[] getBytesFromFile(File file) throws IOException {\r\n        InputStream is = new FileInputStream(file);\r\n    \r\n        // Get the size of the file\r\n        long length = file.length();\r\n    \r\n        // You cannot create an array using a long type.\r\n        // It needs to be an int type.\r\n        // Before converting to an int type, check\r\n        // to ensure that file is not larger than Integer.MAX_VALUE.\r\n        if (length &gt; Integer.MAX_VALUE) {\r\n            // File is too large\r\n        }\r\n    \r\n        // Create the byte array to hold the data\r\n        byte[] bytes = new byte[(int)length];\r\n    \r\n        // Read in the bytes\r\n        int offset = 0;\r\n        int numRead = 0;\r\n        while (offset &lt; bytes.length\r\n               &amp;&amp; (numRead=is.read(bytes, offset, bytes.length-offset)) &gt;= 0) {\r\n            offset += numRead;\r\n        }\r\n    \r\n        // Ensure all the bytes have been read in\r\n        if (offset &lt; bytes.length) {\r\n            throw new IOException(&quot;Could not completely read file &quot;+file.getName());\r\n        }\r\n    \r\n        // Close the input stream and return bytes\r\n        is.close();\r\n        return bytes;\r\n    }","title":"Convert InputStream to byte array in Java","body":"<p>@Adamski: You can avoid buffer entirely.</p>\n\n<p>Code copied from <a href=\"http://www.exampledepot.com/egs/java.io/File2ByteArray.html\">http://www.exampledepot.com/egs/java.io/File2ByteArray.html</a> (Yes, it is very verbose, but needs half the size of memory as the other solution.)</p>\n\n<pre><code>// Returns the contents of the file in a byte array.\npublic static byte[] getBytesFromFile(File file) throws IOException {\n    InputStream is = new FileInputStream(file);\n\n    // Get the size of the file\n    long length = file.length();\n\n    // You cannot create an array using a long type.\n    // It needs to be an int type.\n    // Before converting to an int type, check\n    // to ensure that file is not larger than Integer.MAX_VALUE.\n    if (length &gt; Integer.MAX_VALUE) {\n        // File is too large\n    }\n\n    // Create the byte array to hold the data\n    byte[] bytes = new byte[(int)length];\n\n    // Read in the bytes\n    int offset = 0;\n    int numRead = 0;\n    while (offset &lt; bytes.length\n           &amp;&amp; (numRead=is.read(bytes, offset, bytes.length-offset)) &gt;= 0) {\n        offset += numRead;\n    }\n\n    // Ensure all the bytes have been read in\n    if (offset &lt; bytes.length) {\n        throw new IOException(\"Could not completely read file \"+file.getName());\n    }\n\n    // Close the input stream and return bytes\n    is.close();\n    return bytes;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":287515,"reputation":15504,"user_id":587365,"display_name":"Andrew Spencer"},"score":51,"creation_date":1339061287,"post_id":9004347,"comment_id":14256765,"body_markdown":"+1 for using the standard libraries instead of a 3rd party dependency. Unfortunately it doesn&#39;t work for me because I don&#39;t know the length of the stream upfront.","body":"+1 for using the standard libraries instead of a 3rd party dependency. Unfortunately it doesn&#39;t work for me because I don&#39;t know the length of the stream upfront."},{"owner":{"account_id":118444,"reputation":20516,"user_id":309483,"accept_rate":88,"display_name":"Janus Troelsen"},"score":2,"creation_date":1374313428,"post_id":9004347,"comment_id":25900465,"body_markdown":"what is imgFile? It&#39;s can&#39;t be an InputStream, which was supposed to be the input of this method","body":"what is imgFile? It&#39;s can&#39;t be an InputStream, which was supposed to be the input of this method"},{"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"score":4,"creation_date":1375004961,"post_id":9004347,"comment_id":26157541,"body_markdown":"@janus it is a &quot;File&quot;. this way only works if u know the length of the file or the count of bytes to read.","body":"@janus it is a &quot;File&quot;. this way only works if u know the length of the file or the count of bytes to read."},{"owner":{"account_id":1848986,"reputation":22324,"user_id":1675976,"accept_rate":59,"display_name":"CodyBugstein"},"score":0,"creation_date":1400975961,"post_id":9004347,"comment_id":36705379,"body_markdown":"How did you figure this out? Can you explain how you came up with this code, so I can learn how to do the same (and avoid asking questions each time)?","body":"How did you figure this out? Can you explain how you came up with this code, so I can learn how to do the same (and avoid asking questions each time)?"},{"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"score":0,"creation_date":1401109568,"post_id":9004347,"comment_id":36743056,"body_markdown":"As mentioned in my answer, i found this via google, but not on first page. And because i wanted to find this solution faster i added the answer here.","body":"As mentioned in my answer, i found this via google, but not on first page. And because i wanted to find this solution faster i added the answer here."},{"owner":{"account_id":1195086,"reputation":2530,"user_id":1166992,"accept_rate":83,"display_name":"Olivier Faucheux"},"score":6,"creation_date":1428493908,"post_id":9004347,"comment_id":47183216,"body_markdown":"Interesting thing, but you must know the exact length of the (part of the) stream to read. Moreover, the class `DataInputStream` is primary used to read primary types (Longs, Shorts, Chars...) from a stream, so we can see this usage as a misuse of the class.","body":"Interesting thing, but you must know the exact length of the (part of the) stream to read. Moreover, the class <code>DataInputStream</code> is primary used to read primary types (Longs, Shorts, Chars...) from a stream, so we can see this usage as a misuse of the class."},{"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"score":0,"creation_date":1428499180,"post_id":9004347,"comment_id":47186913,"body_markdown":"is there a source for &quot;primary used to read primary types (Longs, Shorts, Chars...) from a stream&quot;. But on the other hand i think a usage out of primary use is not misuse?!","body":"is there a source for &quot;primary used to read primary types (Longs, Shorts, Chars...) from a stream&quot;. But on the other hand i think a usage out of primary use is not misuse?!"},{"owner":{"account_id":1860420,"reputation":2294,"user_id":1685098,"display_name":"Logan Pickup"},"score":20,"creation_date":1476244671,"post_id":9004347,"comment_id":67258971,"body_markdown":"If you already know the length of the data to read from the stream, this is no better than `InputStream.read`.","body":"If you already know the length of the data to read from the stream, this is no better than <code>InputStream.read</code>."},{"owner":{"account_id":394033,"reputation":10807,"user_id":756233,"accept_rate":71,"display_name":"Ray Hulha"},"score":4,"creation_date":1539574360,"post_id":9004347,"comment_id":92536781,"body_markdown":"@LoganPickup InputStream.read does not guarantee to return all the bytes you request!","body":"@LoganPickup InputStream.read does not guarantee to return all the bytes you request!"},{"owner":{"account_id":1860420,"reputation":2294,"user_id":1685098,"display_name":"Logan Pickup"},"score":1,"creation_date":1539587908,"post_id":9004347,"comment_id":92540923,"body_markdown":"@RayHulha Neither does `readFully` - the difference is in how they handle the stream ending before the number of bytes requested has been read. `read` quits early and returns the number of bytes read, `readFully` throws an exception.","body":"@RayHulha Neither does <code>readFully</code> - the difference is in how they handle the stream ending before the number of bytes requested has been read. <code>read</code> quits early and returns the number of bytes read, <code>readFully</code> throws an exception."},{"owner":{"account_id":394033,"reputation":10807,"user_id":756233,"accept_rate":71,"display_name":"Ray Hulha"},"score":3,"creation_date":1539662181,"post_id":9004347,"comment_id":92572089,"body_markdown":"`readFully` loops internally until it has the needed bytes. This is much more convenient than using `read` where you have to write the loop yourself. So I would argue it is better. I just had this exact case happen to me with a GZIPInputStream where a read call would return with just a fraction of the needed bytes and readFully read them all. And in both cases I knew the length of the data to read from the stream.","body":"<code>readFully</code> loops internally until it has the needed bytes. This is much more convenient than using <code>read</code> where you have to write the loop yourself. So I would argue it is better. I just had this exact case happen to me with a GZIPInputStream where a read call would return with just a fraction of the needed bytes and readFully read them all. And in both cases I knew the length of the data to read from the stream."},{"owner":{"account_id":463176,"reputation":2496,"user_id":865910,"accept_rate":73,"display_name":"Ordiel"},"score":0,"creation_date":1550325014,"post_id":9004347,"comment_id":96231588,"body_markdown":"This should by far be the accepted answer. it is proper since very old java versions; no 3rd party libs.","body":"This should by far be the accepted answer. it is proper since very old java versions; no 3rd party libs."}],"tags":[],"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"comment_count":12,"down_vote_count":7,"up_vote_count":148,"is_accepted":false,"score":141,"last_activity_date":1542314753,"creation_date":1327501873,"answer_id":9004347,"question_id":1264709,"body_markdown":"Use vanilla Java&#39;s `DataInputStream` and its `readFully` Method (exists since at least Java 1.4):\r\n\r\n    ...\r\n    byte[] bytes = new byte[(int) file.length()];\r\n    DataInputStream dis = new DataInputStream(new FileInputStream(file));\r\n    dis.readFully(bytes);\r\n    ...\r\n\r\nThere are some other flavors of this method, but I use this all the time for this use case.","title":"Convert InputStream to byte array in Java","body":"<p>Use vanilla Java's <code>DataInputStream</code> and its <code>readFully</code> Method (exists since at least Java 1.4):</p>\n\n<pre><code>...\nbyte[] bytes = new byte[(int) file.length()];\nDataInputStream dis = new DataInputStream(new FileInputStream(file));\ndis.readFully(bytes);\n...\n</code></pre>\n\n<p>There are some other flavors of this method, but I use this all the time for this use case.</p>\n"},{"tags":[],"owner":{"account_id":246417,"reputation":17570,"user_id":520567,"accept_rate":71,"display_name":"akostadinov"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1363764145,"creation_date":1363764145,"answer_id":15517584,"question_id":1264709,"body_markdown":"I tried to edit @numan&#39;s answer with a fix for writing garbage data but edit was rejected. While this short piece of code is nothing brilliant I can&#39;t see any other better answer. Here&#39;s what makes most sense to me:\r\n\r\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    byte[] buffer = new byte[1024]; // you can configure the buffer size\r\n    int length;\r\n\r\n    while ((length = in.read(buffer)) != -1) out.write(buffer, 0, length); //copy streams\r\n    in.close(); // call this in a finally block\r\n    \r\n    byte[] result = out.toByteArray();\r\n\r\nbtw ByteArrayOutputStream need not be closed. try/finally constructs omitted for readability","title":"Convert InputStream to byte array in Java","body":"<p>I tried to edit @numan's answer with a fix for writing garbage data but edit was rejected. While this short piece of code is nothing brilliant I can't see any other better answer. Here's what makes most sense to me:</p>\n\n<pre><code>ByteArrayOutputStream out = new ByteArrayOutputStream();\nbyte[] buffer = new byte[1024]; // you can configure the buffer size\nint length;\n\nwhile ((length = in.read(buffer)) != -1) out.write(buffer, 0, length); //copy streams\nin.close(); // call this in a finally block\n\nbyte[] result = out.toByteArray();\n</code></pre>\n\n<p>btw ByteArrayOutputStream need not be closed. try/finally constructs omitted for readability</p>\n"},{"comments":[{"owner":{"display_name":"user2403009"},"score":2,"creation_date":1394128776,"post_id":17861016,"comment_id":33759172,"body_markdown":"It is an example and as such, brevity is the order of the day. Also returning null here would be the proper choice in some cases (although in a production environment you would also have proper exception handling and documentation).","body":"It is an example and as such, brevity is the order of the day. Also returning null here would be the proper choice in some cases (although in a production environment you would also have proper exception handling and documentation)."},{"owner":{"account_id":44363,"reputation":1780,"user_id":130166,"display_name":"pendor"},"score":13,"creation_date":1400455372,"post_id":17861016,"comment_id":36472101,"body_markdown":"I understand brevity in an example, but why not just make the example method throw IOException rather than swallowing it and returning a meaningless value?","body":"I understand brevity in an example, but why not just make the example method throw IOException rather than swallowing it and returning a meaningless value?"},{"owner":{"account_id":140884,"reputation":19781,"user_id":347508,"display_name":"kritzikratzi"},"score":5,"creation_date":1430403235,"post_id":17861016,"comment_id":48059852,"body_markdown":"i&#39;ve taken the liberty to change from &#39;return null&#39; to &#39;throw IOException&#39;","body":"i&#39;ve taken the liberty to change from &#39;return null&#39; to &#39;throw IOException&#39;"},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":4,"creation_date":1507180264,"post_id":17861016,"comment_id":80109439,"body_markdown":"Try-with-resources is not needed here, because ByteArrayOutputStream#close() does nothing. (ByteArrayOutputStream#flush() is not needed and does nothing too.)","body":"Try-with-resources is not needed here, because ByteArrayOutputStream#close() does nothing. (ByteArrayOutputStream#flush() is not needed and does nothing too.)"}],"tags":[],"owner":{"account_id":3093460,"reputation":743,"user_id":2619133,"display_name":"oliverkn"},"comment_count":4,"down_vote_count":5,"up_vote_count":53,"is_accepted":false,"score":48,"last_activity_date":1524910895,"creation_date":1374762823,"answer_id":17861016,"question_id":1264709,"body_markdown":"    public static byte[] getBytesFromInputStream(InputStream is) throws IOException {\r\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\t\r\n        byte[] buffer = new byte[0xFFFF];\r\n        for (int len = is.read(buffer); len != -1; len = is.read(buffer)) {\t\r\n\t\t    os.write(buffer, 0, len);\r\n        }\r\n        return os.toByteArray();\r\n\t}","title":"Convert InputStream to byte array in Java","body":"<pre><code>public static byte[] getBytesFromInputStream(InputStream is) throws IOException {\n    ByteArrayOutputStream os = new ByteArrayOutputStream(); \n    byte[] buffer = new byte[0xFFFF];\n    for (int len = is.read(buffer); len != -1; len = is.read(buffer)) { \n        os.write(buffer, 0, len);\n    }\n    return os.toByteArray();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1315457,"reputation":2897,"user_id":1262447,"display_name":"YulCheney"},"comment_count":0,"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1383272706,"creation_date":1383272706,"answer_id":19719877,"question_id":1264709,"body_markdown":"\tByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\tbyte[] buffer = new byte[1024];\r\n\twhile (true) {\r\n\t\tint r = in.read(buffer);\r\n\t\tif (r == -1) break;\r\n\t\tout.write(buffer, 0, r);\r\n\t}\r\n\r\n\tbyte[] ret = out.toByteArray();","title":"Convert InputStream to byte array in Java","body":"<pre><code>ByteArrayOutputStream out = new ByteArrayOutputStream();\nbyte[] buffer = new byte[1024];\nwhile (true) {\n    int r = in.read(buffer);\n    if (r == -1) break;\n    out.write(buffer, 0, r);\n}\n\nbyte[] ret = out.toByteArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":234362,"reputation":17417,"user_id":500451,"accept_rate":86,"display_name":"Bertie"},"comment_count":0,"down_vote_count":1,"up_vote_count":140,"is_accepted":false,"score":139,"last_activity_date":1627382740,"creation_date":1399199862,"answer_id":23455220,"question_id":1264709,"body_markdown":"If you happen to use [Google Guava][1], it&#39;ll be as simple as using [`ByteStreams`][2]:\r\n\r\n    byte[] bytes = ByteStreams.toByteArray(inputStream);\r\n\r\n\r\n  [1]: https://guava.dev/\r\n  [2]: https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/io/ByteStreams.html","title":"Convert InputStream to byte array in Java","body":"<p>If you happen to use <a href=\"https://guava.dev/\" rel=\"noreferrer\">Google Guava</a>, it'll be as simple as using <a href=\"https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/io/ByteStreams.html\" rel=\"noreferrer\"><code>ByteStreams</code></a>:</p>\n<pre><code>byte[] bytes = ByteStreams.toByteArray(inputStream);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":0,"creation_date":1438254976,"post_id":25892791,"comment_id":51380900,"body_markdown":"This is a bit of a weird solution, *length* is an upper bound on the length of the array. If you know the length, all you need is: byte[] output = new byte[length]; is.read(output);   (but see my answer)","body":"This is a bit of a weird solution, <i>length</i> is an upper bound on the length of the array. If you know the length, all you need is: byte[] output = new byte[length]; is.read(output);   (but see my answer)"},{"owner":{"account_id":1412009,"reputation":826,"user_id":1338417,"display_name":"Kristian Kraljic"},"score":0,"creation_date":1438347426,"post_id":25892791,"comment_id":51426977,"body_markdown":"@luke-hutchison as I said, this is the solution of sun.misc.IOUtils. In the most common cases you don&#39;t know the size of an InputStream upfront, so if (length == -1) length = Integer.MAX_VALUE; applies. This solution works, even if the given length is larger than the length of the InputStream.","body":"@luke-hutchison as I said, this is the solution of sun.misc.IOUtils. In the most common cases you don&#39;t know the size of an InputStream upfront, so if (length == -1) length = Integer.MAX_VALUE; applies. This solution works, even if the given length is larger than the length of the InputStream."},{"owner":{"account_id":110558,"reputation":10111,"user_id":292502,"accept_rate":83,"display_name":"Csaba Toth"},"score":0,"creation_date":1488178821,"post_id":25892791,"comment_id":72099120,"body_markdown":"@LukeHutchison If you know the length you can handle it with a few lines. If you look at each answer, everyone is complaining that the length is not known. Finally an answer which is standard, can be used with Java 7 Android, and doesn&#39;t require any external library.","body":"@LukeHutchison If you know the length you can handle it with a few lines. If you look at each answer, everyone is complaining that the length is not known. Finally an answer which is standard, can be used with Java 7 Android, and doesn&#39;t require any external library."}],"tags":[],"owner":{"account_id":1412009,"reputation":826,"user_id":1338417,"display_name":"Kristian Kraljic"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1410962654,"creation_date":1410962654,"answer_id":25892791,"question_id":1264709,"body_markdown":"If you don&#39;t want to use the Apache commons-io library, this snippet is taken from the sun.misc.IOUtils class. It&#39;s nearly twice as fast as the common implementation using ByteBuffers:\r\n\r\n    public static byte[] readFully(InputStream is, int length, boolean readAll)\r\n            throws IOException {\r\n        byte[] output = {};\r\n        if (length == -1) length = Integer.MAX_VALUE;\r\n        int pos = 0;\r\n        while (pos &lt; length) {\r\n            int bytesToRead;\r\n            if (pos &gt;= output.length) { // Only expand when there&#39;s no room\r\n                bytesToRead = Math.min(length - pos, output.length + 1024);\r\n                if (output.length &lt; pos + bytesToRead) {\r\n                    output = Arrays.copyOf(output, pos + bytesToRead);\r\n                }\r\n            } else {\r\n                bytesToRead = output.length - pos;\r\n            }\r\n            int cc = is.read(output, pos, bytesToRead);\r\n            if (cc &lt; 0) {\r\n                if (readAll &amp;&amp; length != Integer.MAX_VALUE) {\r\n                    throw new EOFException(&quot;Detect premature EOF&quot;);\r\n                } else {\r\n                    if (output.length != pos) {\r\n                        output = Arrays.copyOf(output, pos);\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            pos += cc;\r\n        }\r\n        return output;\r\n    }","title":"Convert InputStream to byte array in Java","body":"<p>If you don't want to use the Apache commons-io library, this snippet is taken from the sun.misc.IOUtils class. It's nearly twice as fast as the common implementation using ByteBuffers:</p>\n\n<pre><code>public static byte[] readFully(InputStream is, int length, boolean readAll)\n        throws IOException {\n    byte[] output = {};\n    if (length == -1) length = Integer.MAX_VALUE;\n    int pos = 0;\n    while (pos &lt; length) {\n        int bytesToRead;\n        if (pos &gt;= output.length) { // Only expand when there's no room\n            bytesToRead = Math.min(length - pos, output.length + 1024);\n            if (output.length &lt; pos + bytesToRead) {\n                output = Arrays.copyOf(output, pos + bytesToRead);\n            }\n        } else {\n            bytesToRead = output.length - pos;\n        }\n        int cc = is.read(output, pos, bytesToRead);\n        if (cc &lt; 0) {\n            if (readAll &amp;&amp; length != Integer.MAX_VALUE) {\n                throw new EOFException(\"Detect premature EOF\");\n            } else {\n                if (output.length != pos) {\n                    output = Arrays.copyOf(output, pos);\n                }\n                break;\n            }\n        }\n        pos += cc;\n    }\n    return output;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":134817,"reputation":5210,"user_id":337221,"display_name":"Christian d&#39;Heureuse"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1535330672,"creation_date":1428201131,"answer_id":29453515,"question_id":1264709,"body_markdown":"Here is an optimized version, that tries to avoid copying data bytes as much as possible:\r\n\r\n    private static byte[] loadStream (InputStream stream) throws IOException {\r\n       int available = stream.available();\r\n       int expectedSize = available &gt; 0 ? available : -1;\r\n       return loadStream(stream, expectedSize);\r\n    }\r\n\r\n    private static byte[] loadStream (InputStream stream, int expectedSize) throws IOException {\r\n       int basicBufferSize = 0x4000;\r\n       int initialBufferSize = (expectedSize &gt;= 0) ? expectedSize : basicBufferSize;\r\n       byte[] buf = new byte[initialBufferSize];\r\n       int pos = 0;\r\n       while (true) {\r\n          if (pos == buf.length) {\r\n             int readAhead = -1;\r\n             if (pos == expectedSize) {\r\n                readAhead = stream.read();       // test whether EOF is at expectedSize\r\n                if (readAhead == -1) {\r\n                   return buf;\r\n                }\r\n             }\r\n             int newBufferSize = Math.max(2 * buf.length, basicBufferSize);\r\n             buf = Arrays.copyOf(buf, newBufferSize);\r\n             if (readAhead != -1) {\r\n                buf[pos++] = (byte)readAhead;\r\n             }\r\n          }\r\n          int len = stream.read(buf, pos, buf.length - pos);\r\n          if (len &lt; 0) {\r\n             return Arrays.copyOf(buf, pos);\r\n          }\r\n          pos += len;\r\n       }\r\n    }\r\n","title":"Convert InputStream to byte array in Java","body":"<p>Here is an optimized version, that tries to avoid copying data bytes as much as possible:</p>\n\n<pre><code>private static byte[] loadStream (InputStream stream) throws IOException {\n   int available = stream.available();\n   int expectedSize = available &gt; 0 ? available : -1;\n   return loadStream(stream, expectedSize);\n}\n\nprivate static byte[] loadStream (InputStream stream, int expectedSize) throws IOException {\n   int basicBufferSize = 0x4000;\n   int initialBufferSize = (expectedSize &gt;= 0) ? expectedSize : basicBufferSize;\n   byte[] buf = new byte[initialBufferSize];\n   int pos = 0;\n   while (true) {\n      if (pos == buf.length) {\n         int readAhead = -1;\n         if (pos == expectedSize) {\n            readAhead = stream.read();       // test whether EOF is at expectedSize\n            if (readAhead == -1) {\n               return buf;\n            }\n         }\n         int newBufferSize = Math.max(2 * buf.length, basicBufferSize);\n         buf = Arrays.copyOf(buf, newBufferSize);\n         if (readAhead != -1) {\n            buf[pos++] = (byte)readAhead;\n         }\n      }\n      int len = stream.read(buf, pos, buf.length - pos);\n      if (len &lt; 0) {\n         return Arrays.copyOf(buf, pos);\n      }\n      pos += len;\n   }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":258390,"reputation":14093,"user_id":540552,"accept_rate":86,"display_name":"Victor Stafusa - BozoNaCadeia"},"score":4,"creation_date":1495035109,"post_id":30618794,"comment_id":75084752,"body_markdown":"You should use try-with-resources.","body":"You should use try-with-resources."},{"owner":{"account_id":7654058,"reputation":1024,"user_id":5801657,"accept_rate":64,"display_name":"MGDavies"},"score":0,"creation_date":1513762735,"post_id":30618794,"comment_id":82772393,"body_markdown":"Your tidying up at the end needs to be done in a finally block in case of errors, otherwise this could cause a memory leak.","body":"Your tidying up at the end needs to be done in a finally block in case of errors, otherwise this could cause a memory leak."}],"tags":[],"owner":{"account_id":1309732,"reputation":4219,"user_id":1257986,"accept_rate":63,"display_name":"Simple-Solution"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1433330836,"creation_date":1433330836,"answer_id":30618794,"question_id":1264709,"body_markdown":"I know it&#39;s too late but here I think is cleaner solution that&#39;s more readable...\r\n\r\n    /**\r\n     * method converts {@link InputStream} Object into byte[] array.\r\n     * \r\n     * @param stream the {@link InputStream} Object.\r\n     * @return the byte[] array representation of received {@link InputStream} Object.\r\n     * @throws IOException if an error occurs.\r\n     */\r\n    public static byte[] streamToByteArray(InputStream stream) throws IOException {\r\n\r\n        byte[] buffer = new byte[1024];\r\n        ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n\r\n        int line = 0;\r\n        // read bytes from stream, and store them in buffer\r\n        while ((line = stream.read(buffer)) != -1) {\r\n            // Writes bytes from byte array (buffer) into output stream.\r\n            os.write(buffer, 0, line);\r\n        }\r\n        stream.close();\r\n        os.flush();\r\n        os.close();\r\n        return os.toByteArray();\r\n    }","title":"Convert InputStream to byte array in Java","body":"<p>I know it's too late but here I think is cleaner solution that's more readable...</p>\n\n<pre><code>/**\n * method converts {@link InputStream} Object into byte[] array.\n * \n * @param stream the {@link InputStream} Object.\n * @return the byte[] array representation of received {@link InputStream} Object.\n * @throws IOException if an error occurs.\n */\npublic static byte[] streamToByteArray(InputStream stream) throws IOException {\n\n    byte[] buffer = new byte[1024];\n    ByteArrayOutputStream os = new ByteArrayOutputStream();\n\n    int line = 0;\n    // read bytes from stream, and store them in buffer\n    while ((line = stream.read(buffer)) != -1) {\n        // Writes bytes from byte array (buffer) into output stream.\n        os.write(buffer, 0, line);\n    }\n    stream.close();\n    os.flush();\n    os.close();\n    return os.toByteArray();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2970196,"reputation":7818,"user_id":2522405,"accept_rate":79,"display_name":"Huy Tower"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436860997,"creation_date":1436860997,"answer_id":31401078,"question_id":1264709,"body_markdown":"The other case to get correct byte array via stream, after send request to server and waiting for the response.\r\n\r\n    /**\r\n             * Begin setup TCP connection to PC app\r\n             * to open integrate connection between mobile app and pc app (or mobile app)\r\n             */\r\n            mSocket = new Socket(IP, port);\r\n           // mSocket.setSoTimeout(30000);\r\n\r\n            DataOutputStream mDos = new DataOutputStream(mSocket.getOutputStream());\r\n\r\n            String str = &quot;MobileRequest#&quot; + params[0] + &quot;#&lt;EOF&gt;&quot;;\r\n\r\n            mDos.write(str.getBytes());\r\n\r\n            try {\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            /* Since data are accepted as byte, all of them will be collected in the\r\n            following byte array which initialised with accepted data length. */\r\n            DataInputStream mDis = new DataInputStream(mSocket.getInputStream());\r\n            byte[] data = new byte[mDis.available()];\r\n\r\n            // Collecting data into byte array\r\n            for (int i = 0; i &lt; data.length; i++)\r\n                data[i] = mDis.readByte();\r\n\r\n            // Converting collected data in byte array into String.\r\n            String RESPONSE = new String(data);","title":"Convert InputStream to byte array in Java","body":"<p>The other case to get correct byte array via stream, after send request to server and waiting for the response.</p>\n\n<pre><code>/**\n         * Begin setup TCP connection to PC app\n         * to open integrate connection between mobile app and pc app (or mobile app)\n         */\n        mSocket = new Socket(IP, port);\n       // mSocket.setSoTimeout(30000);\n\n        DataOutputStream mDos = new DataOutputStream(mSocket.getOutputStream());\n\n        String str = \"MobileRequest#\" + params[0] + \"#&lt;EOF&gt;\";\n\n        mDos.write(str.getBytes());\n\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        /* Since data are accepted as byte, all of them will be collected in the\n        following byte array which initialised with accepted data length. */\n        DataInputStream mDis = new DataInputStream(mSocket.getInputStream());\n        byte[] data = new byte[mDis.available()];\n\n        // Collecting data into byte array\n        for (int i = 0; i &lt; data.length; i++)\n            data[i] = mDis.readByte();\n\n        // Converting collected data in byte array into String.\n        String RESPONSE = new String(data);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1438255603,"creation_date":1438254012,"answer_id":31721973,"question_id":1264709,"body_markdown":"You&#39;re doing an extra copy if you use ByteArrayOutputStream. If you know the length of the stream before you start reading it (e.g. the InputStream is actually a FileInputStream, and you can call file.length() on the file, or the InputStream is a zipfile entry InputStream, and you can call zipEntry.length()), then it&#39;s far better to write directly into the byte[] array -- it uses half the memory, and saves time.\r\n\r\n    // Read the file contents into a byte[] array\r\n    byte[] buf = new byte[inputStreamLength];\r\n    int bytesRead = Math.max(0, inputStream.read(buf));\r\n\r\n    // If needed: for safety, truncate the array if the file may somehow get\r\n    // truncated during the read operation\r\n    byte[] contents = bytesRead == inputStreamLength ? buf\r\n                      : Arrays.copyOf(buf, bytesRead);\r\n\r\nN.B. the last line above deals with files getting truncated while the stream is being read, if you need to handle that possibility, but if the file gets *longer* while the stream is being read, the contents in the byte[] array will not be lengthened to include the new file content, the array will simply be truncated to the old length *inputStreamLength*.","title":"Convert InputStream to byte array in Java","body":"<p>You're doing an extra copy if you use ByteArrayOutputStream. If you know the length of the stream before you start reading it (e.g. the InputStream is actually a FileInputStream, and you can call file.length() on the file, or the InputStream is a zipfile entry InputStream, and you can call zipEntry.length()), then it's far better to write directly into the byte[] array -- it uses half the memory, and saves time.</p>\n\n<pre><code>// Read the file contents into a byte[] array\nbyte[] buf = new byte[inputStreamLength];\nint bytesRead = Math.max(0, inputStream.read(buf));\n\n// If needed: for safety, truncate the array if the file may somehow get\n// truncated during the read operation\nbyte[] contents = bytesRead == inputStreamLength ? buf\n                  : Arrays.copyOf(buf, bytesRead);\n</code></pre>\n\n<p>N.B. the last line above deals with files getting truncated while the stream is being read, if you need to handle that possibility, but if the file gets <em>longer</em> while the stream is being read, the contents in the byte[] array will not be lengthened to include the new file content, the array will simply be truncated to the old length <em>inputStreamLength</em>.</p>\n"},{"comments":[{"owner":{"account_id":1041016,"reputation":2198,"user_id":1047040,"display_name":"Thomas Perl"},"score":0,"creation_date":1508320285,"post_id":32223442,"comment_id":80561703,"body_markdown":"Why convert to `String` and then to `byte[]` (which might mess with binary data)? `ByteArrayOutputStream` has `.toByteArray()`: https://docs.oracle.com/javase/7/docs/api/java/io/ByteArrayOutputStream.html#toByteArray()","body":"Why convert to <code>String</code> and then to <code>byte[]</code> (which might mess with binary data)? <code>ByteArrayOutputStream</code> has <code>.toByteArray()</code>: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/ByteArrayOutputStream.html#toByteArray()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/io/&hellip;</a>"}],"tags":[],"owner":{"account_id":2220824,"reputation":16635,"user_id":3168721,"accept_rate":97,"display_name":"tk_"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1440583014,"creation_date":1440583014,"answer_id":32223442,"question_id":1264709,"body_markdown":"This works for me,\r\n\r\n    if(inputStream != null){\r\n                    ByteArrayOutputStream contentStream = readSourceContent(inputStream);\r\n                    String stringContent = contentStream.toString();\r\n                    byte[] byteArr = encodeString(stringContent);\r\n                }\r\n\r\nreadSourceContent()\r\n\r\n    public static ByteArrayOutputStream readSourceContent(InputStream inputStream) throws IOException {\r\n    \t\tByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n    \t\tint nextChar;\r\n    \t\ttry {\r\n    \t\t\twhile ((nextChar = inputStream.read()) != -1) {\r\n    \t\t\t\toutputStream.write(nextChar);\r\n    \t\t\t}\r\n    \t\t\toutputStream.flush();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tthrow new IOException(&quot;Exception occurred while reading content&quot;, e);\r\n    \t\t}\r\n    \r\n    \t\treturn outputStream;\r\n    \t}\r\n\r\nencodeString()\r\n\r\n    public static byte[] encodeString(String content) throws UnsupportedEncodingException {\r\n            byte[] bytes;\r\n            try {\r\n                bytes = content.getBytes();\r\n    \r\n            } catch (UnsupportedEncodingException e) {\r\n                String msg = ENCODING + &quot; is unsupported encoding type&quot;;\r\n                log.error(msg,e);\r\n                throw new UnsupportedEncodingException(msg, e);\r\n            }\r\n            return bytes;\r\n        }","title":"Convert InputStream to byte array in Java","body":"<p>This works for me,</p>\n\n<pre><code>if(inputStream != null){\n                ByteArrayOutputStream contentStream = readSourceContent(inputStream);\n                String stringContent = contentStream.toString();\n                byte[] byteArr = encodeString(stringContent);\n            }\n</code></pre>\n\n<p>readSourceContent()</p>\n\n<pre><code>public static ByteArrayOutputStream readSourceContent(InputStream inputStream) throws IOException {\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        int nextChar;\n        try {\n            while ((nextChar = inputStream.read()) != -1) {\n                outputStream.write(nextChar);\n            }\n            outputStream.flush();\n        } catch (IOException e) {\n            throw new IOException(\"Exception occurred while reading content\", e);\n        }\n\n        return outputStream;\n    }\n</code></pre>\n\n<p>encodeString()</p>\n\n<pre><code>public static byte[] encodeString(String content) throws UnsupportedEncodingException {\n        byte[] bytes;\n        try {\n            bytes = content.getBytes();\n\n        } catch (UnsupportedEncodingException e) {\n            String msg = ENCODING + \" is unsupported encoding type\";\n            log.error(msg,e);\n            throw new UnsupportedEncodingException(msg, e);\n        }\n        return bytes;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1955192,"reputation":61,"user_id":1758331,"display_name":"yichouangle"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1442587820,"creation_date":1441641625,"answer_id":32442463,"question_id":1264709,"body_markdown":"See the `InputStream.available()` documentation:\r\n\r\n&gt; It is particularly important to realize that you must not use this\r\n&gt; method to size a container and assume that you can read the entirety\r\n&gt; of the stream without needing to resize the container. Such callers\r\n&gt; should probably write everything they read to a ByteArrayOutputStream\r\n&gt; and convert that to a byte array. Alternatively, if you&#39;re reading\r\n&gt; from a file, File.length returns the current length of the file\r\n&gt; (though assuming the file&#39;s length can&#39;t change may be incorrect,\r\n&gt; reading a file is inherently racy).","title":"Convert InputStream to byte array in Java","body":"<p>See the <code>InputStream.available()</code> documentation:</p>\n\n<blockquote>\n  <p>It is particularly important to realize that you must not use this\n  method to size a container and assume that you can read the entirety\n  of the stream without needing to resize the container. Such callers\n  should probably write everything they read to a ByteArrayOutputStream\n  and convert that to a byte array. Alternatively, if you're reading\n  from a file, File.length returns the current length of the file\n  (though assuming the file's length can't change may be incorrect,\n  reading a file is inherently racy).</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1238981,"reputation":132436,"user_id":1202025,"accept_rate":80,"display_name":"ρяσѕρєя K"},"score":2,"creation_date":1452662762,"post_id":34758758,"comment_id":57263442,"body_markdown":"Add some explanation with answer for how this answer help OP in fixing current issue","body":"Add some explanation with answer for how this answer help OP in fixing current issue"}],"tags":[],"owner":{"account_id":4322684,"reputation":335,"user_id":3530337,"display_name":"cchcc"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1452661540,"creation_date":1452661540,"answer_id":34758758,"question_id":1264709,"body_markdown":"I use this.\r\n\r\n    public static byte[] toByteArray(InputStream is) throws IOException {\r\n            ByteArrayOutputStream output = new ByteArrayOutputStream();\r\n            try {\r\n                byte[] b = new byte[4096];\r\n                int n = 0;\r\n                while ((n = is.read(b)) != -1) {\r\n                    output.write(b, 0, n);\r\n                }\r\n                return output.toByteArray();\r\n            } finally {\r\n                output.close();\r\n            }\r\n        }","title":"Convert InputStream to byte array in Java","body":"<p>I use this.</p>\n\n<pre><code>public static byte[] toByteArray(InputStream is) throws IOException {\n        ByteArrayOutputStream output = new ByteArrayOutputStream();\n        try {\n            byte[] b = new byte[4096];\n            int n = 0;\n            while ((n = is.read(b)) != -1) {\n                output.write(b, 0, n);\n            }\n            return output.toByteArray();\n        } finally {\n            output.close();\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"score":2,"creation_date":1460637353,"post_id":35932047,"comment_id":60842405,"body_markdown":"While this code snippet may solve the question, [including an explanation](http://meta.stackexchange.com/questions/114762/explaining-entirely-code-based-answers) really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion.","body":"While this code snippet may solve the question, <a href=\"http://meta.stackexchange.com/questions/114762/explaining-entirely-code-based-answers\">including an explanation</a> really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion."}],"tags":[],"owner":{"account_id":954960,"reputation":13272,"user_id":980442,"accept_rate":25,"display_name":"Daniel De Le&#243;n"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1457669414,"creation_date":1457669414,"answer_id":35932047,"question_id":1264709,"body_markdown":"This is my copy-paste version:\r\n\r\n\r\n    @SuppressWarnings(&quot;empty-statement&quot;)\r\n    public static byte[] inputStreamToByte(InputStream is) throws IOException {\r\n        if (is == null) {\r\n            return null;\r\n        }\r\n        // Define a size if you have an idea of it.\r\n        ByteArrayOutputStream r = new ByteArrayOutputStream(2048);\r\n        byte[] read = new byte[512]; // Your buffer size.\r\n        for (int i; -1 != (i = is.read(read)); r.write(read, 0, i));\r\n        is.close();\r\n        return r.toByteArray();\r\n    }","title":"Convert InputStream to byte array in Java","body":"<p>This is my copy-paste version:</p>\n\n<pre><code>@SuppressWarnings(\"empty-statement\")\npublic static byte[] inputStreamToByte(InputStream is) throws IOException {\n    if (is == null) {\n        return null;\n    }\n    // Define a size if you have an idea of it.\n    ByteArrayOutputStream r = new ByteArrayOutputStream(2048);\n    byte[] read = new byte[512]; // Your buffer size.\n    for (int i; -1 != (i = is.read(read)); r.write(read, 0, i));\n    is.close();\n    return r.toByteArray();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":22,"creation_date":1465305440,"post_id":36111438,"comment_id":62837942,"body_markdown":"`sun.misc.IOUtils` is not “Java&#160;7”. It’s a proprietary, implementation specific class that may not be present in other JRE implementations and can disappear without any warning in one of the next releases.","body":"<code>sun.misc.IOUtils</code> is not “Java 7”. It’s a proprietary, implementation specific class that may not be present in other JRE implementations and can disappear without any warning in one of the next releases."}],"tags":[],"owner":{"account_id":69926,"reputation":12519,"user_id":203204,"accept_rate":72,"display_name":"Anthony"},"comment_count":1,"down_vote_count":5,"up_vote_count":5,"is_accepted":false,"score":0,"last_activity_date":1458460564,"creation_date":1458460564,"answer_id":36111438,"question_id":1264709,"body_markdown":"Java 7 and later:\r\n\r\n    import sun.misc.IOUtils;\r\n    ...\r\n    InputStream in = ...;\r\n\tbyte[] buf = IOUtils.readFully(in, -1, false);\r\n\r\n","title":"Convert InputStream to byte array in Java","body":"<p>Java 7 and later:</p>\n\n<pre><code>import sun.misc.IOUtils;\n...\nInputStream in = ...;\nbyte[] buf = IOUtils.readFully(in, -1, false);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":2,"creation_date":1639752759,"post_id":37681322,"comment_id":124436133,"body_markdown":"Java documentation &quot;Note that this method is intended for simple cases where it is convenient to read all bytes into a byte array. It is not intended for reading input streams with large amounts of data.&quot; and in fact it was limited to 8192 from my test (undocumented) Use it for test, but not in production.","body":"Java documentation &quot;Note that this method is intended for simple cases where it is convenient to read all bytes into a byte array. It is not intended for reading input streams with large amounts of data.&quot; and in fact it was limited to 8192 from my test (undocumented) Use it for test, but not in production."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1639753478,"post_id":37681322,"comment_id":124436410,"body_markdown":"@pdem there is no such limit. I just verified it by reading a 2GiB file into memory. It works, as long as an appropriately large array can be allocated. If you get different results, it’s a problem of your test setup. The point that you *should not* read such large files into memory, but prefer processing them while reading, is an entirely different thing. It obviously applies to all solutions presented in the Q&amp;A, as they all are about reading an entire file into memory.","body":"@pdem there is no such limit. I just verified it by reading a 2GiB file into memory. It works, as long as an appropriately large array can be allocated. If you get different results, it’s a problem of your test setup. The point that you <i>should not</i> read such large files into memory, but prefer processing them while reading, is an entirely different thing. It obviously applies to all solutions presented in the Q&amp;A, as they all are about reading an entire file into memory."},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1639754472,"post_id":37681322,"comment_id":124436757,"body_markdown":"Well you are very reactive, I&#39;ve tested 2 jdk (11 17) and it works with a big byteInputstream as you said, so i Guess there is a problem with may api with is a javamail: I get files from a mimemessage content. What is strange is that the bug related to the javamail, doesn&#39;t appear with a classical manual read.","body":"Well you are very reactive, I&#39;ve tested 2 jdk (11 17) and it works with a big byteInputstream as you said, so i Guess there is a problem with may api with is a javamail: I get files from a mimemessage content. What is strange is that the bug related to the javamail, doesn&#39;t appear with a classical manual read."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1639754921,"post_id":37681322,"comment_id":124436963,"body_markdown":"Does this specific `InputStream` override `readAllBytes()` or `readNBytes`?","body":"Does this specific <code>InputStream</code> override <code>readAllBytes()</code> or <code>readNBytes</code>?"},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1639759113,"post_id":37681322,"comment_id":124438715,"body_markdown":"Yes and no, it&#39;s a BASE64DecoderStream which delegate to a SharedByteArrayInputStream which extends ByteArrayInputStream which override readAllBytes. I get lost in the multiple code delegation.\nWhatever I could isolate the bug of BASE64DecoderStream in a unit test. I understand that the bug is not from the JDK, still, I need a workaround here because of the implementation of BASE64DecoderStream. Thanks for your time!","body":"Yes and no, it&#39;s a BASE64DecoderStream which delegate to a SharedByteArrayInputStream which extends ByteArrayInputStream which override readAllBytes. I get lost in the multiple code delegation. Whatever I could isolate the bug of BASE64DecoderStream in a unit test. I understand that the bug is not from the JDK, still, I need a workaround here because of the implementation of BASE64DecoderStream. Thanks for your time!"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1639989274,"post_id":37681322,"comment_id":124479425,"body_markdown":"Sounds like being worth a question on its own.","body":"Sounds like being worth a question on its own."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":6,"down_vote_count":0,"up_vote_count":464,"is_accepted":false,"score":464,"last_activity_date":1508307972,"creation_date":1465307417,"answer_id":37681322,"question_id":1264709,"body_markdown":"Finally, after twenty years, there’s a simple solution without the need for a 3rd party library, thanks to [Java&#160;9](https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readAllBytes--):\r\n\r\n    InputStream is;\r\n    …\r\n    byte[] array = is.readAllBytes();\r\n\r\nNote also the convenience methods [`readNBytes(byte[] b, int off, int len)`](https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readNBytes-byte:A-int-int-) and [`transferTo(OutputStream)`](https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#transferTo-java.io.OutputStream-) addressing recurring needs.","title":"Convert InputStream to byte array in Java","body":"<p>Finally, after twenty years, there’s a simple solution without the need for a 3rd party library, thanks to <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readAllBytes--\" rel=\"noreferrer\">Java 9</a>:</p>\n\n<pre><code>InputStream is;\n…\nbyte[] array = is.readAllBytes();\n</code></pre>\n\n<p>Note also the convenience methods <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readNBytes-byte:A-int-int-\" rel=\"noreferrer\"><code>readNBytes(byte[] b, int off, int len)</code></a> and <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#transferTo-java.io.OutputStream-\" rel=\"noreferrer\"><code>transferTo(OutputStream)</code></a> addressing recurring needs.</p>\n"},{"tags":[],"owner":{"account_id":315980,"reputation":10348,"user_id":631911,"display_name":"Tatarize"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480753344,"creation_date":1480753344,"answer_id":40945744,"question_id":1264709,"body_markdown":"Wrap it in a DataInputStream if that is off the table for some reason, just use read to hammer on it until it gives you a -1 or the entire block you asked for.\r\n\r\n\r\n    public int readFully(InputStream in, byte[] data) throws IOException {\r\n        int offset = 0;\r\n        int bytesRead;\r\n        boolean read = false;\r\n        while ((bytesRead = in.read(data, offset, data.length - offset)) != -1) {\r\n            read = true;\r\n            offset += bytesRead;\r\n            if (offset &gt;= data.length) {\r\n                break;\r\n            }\r\n        }\r\n        return (read) ? offset : -1;\r\n    }","title":"Convert InputStream to byte array in Java","body":"<p>Wrap it in a DataInputStream if that is off the table for some reason, just use read to hammer on it until it gives you a -1 or the entire block you asked for.</p>\n\n<pre><code>public int readFully(InputStream in, byte[] data) throws IOException {\n    int offset = 0;\n    int bytesRead;\n    boolean read = false;\n    while ((bytesRead = in.read(data, offset, data.length - offset)) != -1) {\n        read = true;\n        offset += bytesRead;\n        if (offset &gt;= data.length) {\n            break;\n        }\n    }\n    return (read) ? offset : -1;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":143980,"reputation":14984,"user_id":352708,"accept_rate":73,"display_name":"Slava Semushin"},"score":4,"creation_date":1497709487,"post_id":42518568,"comment_id":76198410,"body_markdown":"What&#39;s the difference between this and `InputStram.readAllBytes()` that is one-liner?","body":"What&#39;s the difference between this and <code>InputStram.readAllBytes()</code> that is one-liner?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1618013083,"post_id":42518568,"comment_id":118482327,"body_markdown":"A lot of array resizing in `ByteArrayOutputStream` for sure, followed by a full copy of the data.","body":"A lot of array resizing in <code>ByteArrayOutputStream</code> for sure, followed by a full copy of the data."}],"tags":[],"owner":{"account_id":165129,"reputation":1388,"user_id":388317,"accept_rate":0,"display_name":"Christian Ullenboom"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1488315323,"creation_date":1488315323,"answer_id":42518568,"question_id":1264709,"body_markdown":"Java 9 will give you finally a nice method:\r\n\r\n    InputStream in = ...;\r\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n    in.transferTo( bos );\r\n    byte[] bytes = bos.toByteArray();\r\n","title":"Convert InputStream to byte array in Java","body":"<p>Java 9 will give you finally a nice method:</p>\n\n<pre><code>InputStream in = ...;\nByteArrayOutputStream bos = new ByteArrayOutputStream();\nin.transferTo( bos );\nbyte[] bytes = bos.toByteArray();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2833714,"reputation":1932,"user_id":2434726,"accept_rate":80,"display_name":"scottysseus"},"score":2,"creation_date":1539640451,"post_id":43474349,"comment_id":92567435,"body_markdown":"Like most others, I wanted to avoid using a 3rd party library for something so simple, but Java 9 is not an option at the moment...luckily, I was already using Spring.","body":"Like most others, I wanted to avoid using a 3rd party library for something so simple, but Java 9 is not an option at the moment...luckily, I was already using Spring."}],"tags":[],"owner":{"account_id":7421,"reputation":20226,"user_id":12890,"accept_rate":83,"display_name":"Arne Burmeister"},"comment_count":1,"down_vote_count":2,"up_vote_count":70,"is_accepted":false,"score":68,"last_activity_date":1492523993,"creation_date":1492523993,"answer_id":43474349,"question_id":1264709,"body_markdown":"As always, also [Spring framework][1] (spring-core since 3.2.2) has something for you: `StreamUtils.copyToByteArray()`\r\n\r\n\r\n  [1]: https://projects.spring.io/spring-framework/","title":"Convert InputStream to byte array in Java","body":"<p>As always, also <a href=\"https://projects.spring.io/spring-framework/\" rel=\"noreferrer\">Spring framework</a> (spring-core since 3.2.2) has something for you: <code>StreamUtils.copyToByteArray()</code></p>\n"},{"comments":[{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1588806935,"post_id":43548453,"comment_id":109045533,"body_markdown":"Say, what if the byte array is too large which could cause OOM for the heap? Is there a similar solution that will use JNI to store the bytes, and later we&#39;d be able to use inputStream from the data stored there (sort of temporary cache) ?","body":"Say, what if the byte array is too large which could cause OOM for the heap? Is there a similar solution that will use JNI to store the bytes, and later we&#39;d be able to use inputStream from the data stored there (sort of temporary cache) ?"},{"owner":{"account_id":9135083,"reputation":1797,"user_id":6795054,"display_name":"Michael Ouyang"},"score":0,"creation_date":1601105329,"post_id":43548453,"comment_id":113306309,"body_markdown":"Sorry, I accidentally downvoted this answer. Could you please edit some characters so that i can undo the click? thanks!","body":"Sorry, I accidentally downvoted this answer. Could you please edit some characters so that i can undo the click? thanks!"},{"owner":{"account_id":4420650,"reputation":3193,"user_id":3600738,"accept_rate":57,"display_name":"harsh_v"},"score":0,"creation_date":1601138556,"post_id":43548453,"comment_id":113314846,"body_markdown":"Thanks, @MichaelOuyang. I hope my answer was of help :)","body":"Thanks, @MichaelOuyang. I hope my answer was of help :)"}],"tags":[],"owner":{"account_id":4420650,"reputation":3193,"user_id":3600738,"accept_rate":57,"display_name":"harsh_v"},"comment_count":3,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1601138491,"creation_date":1492794563,"answer_id":43548453,"question_id":1264709,"body_markdown":"In-case someone is still looking for a solution without dependency and **If you have a file**.\r\n\r\n&gt;  DataInputStream\r\n\r\n     byte[] data = new byte[(int) file.length()];\r\n     DataInputStream dis = new DataInputStream(new FileInputStream(file));\r\n     dis.readFully(data);\r\n     dis.close();\r\n\r\n\r\n&gt;  ByteArrayOutputStream\r\n\r\n     InputStream is = new FileInputStream(file);\r\n     ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n     int nRead;\r\n     byte[] data = new byte[(int) file.length()];\r\n     while ((nRead = is.read(data, 0, data.length)) != -1) {\r\n         buffer.write(data, 0, nRead);\r\n     }\r\n\r\n&gt;  RandomAccessFile\r\n\r\n     RandomAccessFile raf = new RandomAccessFile(file, &quot;r&quot;);\r\n     byte[] data = new byte[(int) raf.length()];\r\n     raf.readFully(data);","title":"Convert InputStream to byte array in Java","body":"<p>In-case someone is still looking for a solution without dependency and <strong>If you have a file</strong>.</p>\n<blockquote>\n<p>DataInputStream</p>\n</blockquote>\n<pre><code> byte[] data = new byte[(int) file.length()];\n DataInputStream dis = new DataInputStream(new FileInputStream(file));\n dis.readFully(data);\n dis.close();\n</code></pre>\n<blockquote>\n<p>ByteArrayOutputStream</p>\n</blockquote>\n<pre><code> InputStream is = new FileInputStream(file);\n ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n int nRead;\n byte[] data = new byte[(int) file.length()];\n while ((nRead = is.read(data, 0, data.length)) != -1) {\n     buffer.write(data, 0, nRead);\n }\n</code></pre>\n<blockquote>\n<p>RandomAccessFile</p>\n</blockquote>\n<pre><code> RandomAccessFile raf = new RandomAccessFile(file, &quot;r&quot;);\n byte[] data = new byte[(int) raf.length()];\n raf.readFully(data);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2713391,"reputation":670,"user_id":2341279,"accept_rate":100,"display_name":"FrozenFire"},"score":4,"creation_date":1494056382,"post_id":43768910,"comment_id":74674607,"body_markdown":"That is for `String`. OP is asking for `byte[]`.","body":"That is for <code>String</code>. OP is asking for <code>byte[]</code>."},{"owner":{"account_id":8097,"reputation":6544,"user_id":14379,"display_name":"seanf"},"score":0,"creation_date":1529073404,"post_id":43768910,"comment_id":88757524,"body_markdown":"It&#39;s not just `\\r` that could be a problem. This method converts the bytes to characters and back again (using the default character set for InputStreamReader). Any bytes which aren&#39;t valid in the default character encoding (say, -1 for UTF-8 on Linux) will be corrupted, potentially even changing the number of bytes.","body":"It&#39;s not just <code>\\r</code> that could be a problem. This method converts the bytes to characters and back again (using the default character set for InputStreamReader). Any bytes which aren&#39;t valid in the default character encoding (say, -1 for UTF-8 on Linux) will be corrupted, potentially even changing the number of bytes."},{"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"score":0,"creation_date":1534810199,"post_id":43768910,"comment_id":90829874,"body_markdown":"Seems like this is good answer, but text-oriented.  Buyer beware.","body":"Seems like this is good answer, but text-oriented.  Buyer beware."}],"tags":[],"owner":{"account_id":4369907,"reputation":2936,"user_id":3564590,"accept_rate":60,"display_name":"Ilya Bystrov"},"comment_count":3,"down_vote_count":4,"up_vote_count":5,"is_accepted":false,"score":1,"last_activity_date":1507015941,"creation_date":1493841395,"answer_id":43768910,"question_id":1264709,"body_markdown":"Java 8 way (thanks to **BufferedReader** and [Adam Bien][1])\r\n\r\n    private static byte[] readFully(InputStream input) throws IOException {\r\n        try (BufferedReader buffer = new BufferedReader(new InputStreamReader(input))) {\r\n            return buffer.lines().collect(Collectors.joining(&quot;\\n&quot;)).getBytes(&lt;charset_can_be_specified&gt;);\r\n        }\r\n    }\r\n\r\n**Note** that this solution wipes **carriage return** (&#39;\\r&#39;) and can be inappropriate.\r\n\r\n  [1]: http://www.adam-bien.com/roller/abien/entry/reading_inputstream_into_string_with","title":"Convert InputStream to byte array in Java","body":"<p>Java 8 way (thanks to <strong>BufferedReader</strong> and <a href=\"http://www.adam-bien.com/roller/abien/entry/reading_inputstream_into_string_with\" rel=\"nofollow noreferrer\">Adam Bien</a>)</p>\n\n<pre><code>private static byte[] readFully(InputStream input) throws IOException {\n    try (BufferedReader buffer = new BufferedReader(new InputStreamReader(input))) {\n        return buffer.lines().collect(Collectors.joining(\"\\n\")).getBytes(&lt;charset_can_be_specified&gt;);\n    }\n}\n</code></pre>\n\n<p><strong>Note</strong> that this solution wipes <strong>carriage return</strong> ('\\r') and can be inappropriate.</p>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1503838720,"creation_date":1503838720,"answer_id":45905192,"question_id":1264709,"body_markdown":"You can try [Cactoos](http://www.cactoos.org):\r\n\r\n    byte[] array = new BytesOf(stream).bytes();","title":"Convert InputStream to byte array in Java","body":"<p>You can try <a href=\"http://www.cactoos.org\" rel=\"nofollow noreferrer\">Cactoos</a>:</p>\n\n<pre><code>byte[] array = new BytesOf(stream).bytes();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5134668,"reputation":679,"user_id":4113809,"accept_rate":50,"display_name":"Bharathiraja S"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1528115917,"creation_date":1528115917,"answer_id":50680834,"question_id":1264709,"body_markdown":"We are seeing some delay for few AWS transaction, while converting S3 object to ByteArray.\r\n\r\nNote: S3 Object is PDF document (max size is 3 mb).\r\n\r\nWe are using the option #1 (org.apache.commons.io.IOUtils) to convert the S3 object to ByteArray. We have noticed S3 provide the inbuild IOUtils method to convert the S3 object to ByteArray, we are request you to confirm what is the best way to convert the S3 object to ByteArray to avoid the delay.\r\n\r\nOption #1:\r\n\r\n    import org.apache.commons.io.IOUtils;\r\n    is = s3object.getObjectContent();\r\n    content =IOUtils.toByteArray(is);\r\n\r\nOption #2:\r\n\r\n    import com.amazonaws.util.IOUtils;\r\n    is = s3object.getObjectContent();\r\n    content =IOUtils.toByteArray(is);\r\n\r\nAlso let me know if we have any other better way to convert the s3 object to bytearray","title":"Convert InputStream to byte array in Java","body":"<p>We are seeing some delay for few AWS transaction, while converting S3 object to ByteArray.</p>\n\n<p>Note: S3 Object is PDF document (max size is 3 mb).</p>\n\n<p>We are using the option #1 (org.apache.commons.io.IOUtils) to convert the S3 object to ByteArray. We have noticed S3 provide the inbuild IOUtils method to convert the S3 object to ByteArray, we are request you to confirm what is the best way to convert the S3 object to ByteArray to avoid the delay.</p>\n\n<p>Option #1:</p>\n\n<pre><code>import org.apache.commons.io.IOUtils;\nis = s3object.getObjectContent();\ncontent =IOUtils.toByteArray(is);\n</code></pre>\n\n<p>Option #2:</p>\n\n<pre><code>import com.amazonaws.util.IOUtils;\nis = s3object.getObjectContent();\ncontent =IOUtils.toByteArray(is);\n</code></pre>\n\n<p>Also let me know if we have any other better way to convert the s3 object to bytearray</p>\n"},{"comments":[{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1588806741,"post_id":53347936,"comment_id":109045476,"body_markdown":"Doesn&#39;t it mean that at some point you&#39;d have double the memory used, because you have both the buffer and the byte array? Isn&#39;t there  a way to send the bytes directly to the output byte array?","body":"Doesn&#39;t it mean that at some point you&#39;d have double the memory used, because you have both the buffer and the byte array? Isn&#39;t there  a way to send the bytes directly to the output byte array?"},{"owner":{"account_id":6927787,"reputation":14579,"user_id":5318303,"accept_rate":39,"display_name":"Mir-Ismaili"},"score":0,"creation_date":1588885645,"post_id":53347936,"comment_id":109081494,"body_markdown":"@androiddeveloper; I&#39;m sorry. I don&#39;t know the answer! But I don&#39;t think so. I think this way (using buffer) is an optimized way.","body":"@androiddeveloper; I&#39;m sorry. I don&#39;t know the answer! But I don&#39;t think so. I think this way (using buffer) is an optimized way."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1588918760,"post_id":53347936,"comment_id":109090215,"body_markdown":"I&#39;ve checked and it does, but it seems that it&#39;s the only solution you can choose when you don&#39;t know the size. If you already know the size, you can directly create the byte-array with the given size and fill it. So, you use a function that will get a parameter of the byte size, and if it&#39;s valid, use it to directly create and fill the byte array, without creating any other large object.","body":"I&#39;ve checked and it does, but it seems that it&#39;s the only solution you can choose when you don&#39;t know the size. If you already know the size, you can directly create the byte-array with the given size and fill it. So, you use a function that will get a parameter of the byte size, and if it&#39;s valid, use it to directly create and fill the byte array, without creating any other large object."},{"owner":{"account_id":6927787,"reputation":14579,"user_id":5318303,"accept_rate":39,"display_name":"Mir-Ismaili"},"score":0,"creation_date":1589057958,"post_id":53347936,"comment_id":109143694,"body_markdown":"@androiddeveloper; Thanks for your information. I didn&#39;t know them.","body":"@androiddeveloper; Thanks for your information. I didn&#39;t know them."},{"owner":{"account_id":1431973,"reputation":143,"user_id":1354198,"display_name":"LKF"},"score":2,"creation_date":1666670301,"post_id":53347936,"comment_id":130986420,"body_markdown":"the java 8 code version, succesful works for java 1.7 too.","body":"the java 8 code version, succesful works for java 1.7 too."},{"owner":{"account_id":7831234,"reputation":497,"user_id":5921170,"accept_rate":100,"display_name":"Kr&#246;w"},"score":0,"creation_date":1690344464,"post_id":53347936,"comment_id":135338655,"body_markdown":"Why are you closing the `ByteArrayOutputStream`? This is not proper, and implies to people reading the code that it needs to be closed, though closing a `ByteArrayOutputStream` does nothing. In fact, that entire `try` where the `ByteArrayOutputStream` is declared should be rewritten. There&#39;s no need for a `try` block there...","body":"Why are you closing the <code>ByteArrayOutputStream</code>? This is not proper, and implies to people reading the code that it needs to be closed, though closing a <code>ByteArrayOutputStream</code> does nothing. In fact, that entire <code>try</code> where the <code>ByteArrayOutputStream</code> is declared should be rewritten. There&#39;s no need for a <code>try</code> block there..."}],"tags":[],"owner":{"account_id":6927787,"reputation":14579,"user_id":5318303,"accept_rate":39,"display_name":"Mir-Ismaili"},"comment_count":6,"down_vote_count":1,"up_vote_count":84,"is_accepted":false,"score":83,"last_activity_date":1666783378,"creation_date":1542425630,"answer_id":53347936,"question_id":1264709,"body_markdown":"# Safe solution (close streams correctly):\r\n\r\n - **Java 9 and newer:**\r\n        \r\n        final byte[] bytes;\r\n\t\ttry (inputStream) {\r\n\t\t\tbytes = inputStream.readAllBytes();\r\n\t\t}\r\n***\r\n - **Java 8 and older:**\r\n\r\n\t\tpublic static byte[] readAllBytes(InputStream inputStream) throws IOException {\r\n\t\t\tfinal int bufLen = 4 * 0x400; // 4KB\r\n\t\t\tbyte[] buf = new byte[bufLen];\r\n\t\t\tint readLen;\r\n\t\t\tIOException exception = null;\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\ttry (ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\r\n\t\t\t\t\twhile ((readLen = inputStream.read(buf, 0, bufLen)) != -1)\r\n\t\t\t\t\t\toutputStream.write(buf, 0, readLen);\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn outputStream.toByteArray();\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\texception = e;\r\n\t\t\t\tthrow e;\r\n\t\t\t} finally {\r\n\t\t\t\tif (exception == null) inputStream.close();\r\n\t\t\t\telse try {\r\n\t\t\t\t\tinputStream.close();\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\texception.addSuppressed(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n***\r\n - ***Kotlin*** (when Java 9+ isn&#39;t accessible):\r\n\r\n        @Throws(IOException::class)\r\n        fun InputStream.readAllBytes(): ByteArray {\r\n            val bufLen = 4 * 0x400 // 4KB\r\n            val buf = ByteArray(bufLen)\r\n            var readLen: Int = 0\r\n    \r\n            ByteArrayOutputStream().use { o -&gt;\r\n                this.use { i -&gt;\r\n                    while (i.read(buf, 0, bufLen).also { readLen = it } != -1)\r\n                        o.write(buf, 0, readLen)\r\n                }\r\n    \r\n                return o.toByteArray()\r\n            }\r\n        }\r\n\r\n    *To avoid nested `use` see [here][1].*\r\n***\r\n  - ***Scala*** (when Java 9+ isn&#39;t accessible) (By [@Joan][2]. Thx):\r\n\r\n        def readAllBytes(inputStream: InputStream): Array[Byte] =\r\n          Stream.continually(inputStream.read).takeWhile(_ != -1).map(_.toByte).toArray\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53348190/5318303\r\n  [2]: https://stackoverflow.com/users/599728/joan","title":"Convert InputStream to byte array in Java","body":"<h1>Safe solution (close streams correctly):</h1>\n<ul>\n<li><p><strong>Java 9 and newer:</strong></p>\n<pre><code> final byte[] bytes;\n try (inputStream) {\n     bytes = inputStream.readAllBytes();\n }\n</code></pre>\n</li>\n</ul>\n<hr />\n<ul>\n<li><p><strong>Java 8 and older:</strong></p>\n<pre><code> public static byte[] readAllBytes(InputStream inputStream) throws IOException {\n     final int bufLen = 4 * 0x400; // 4KB\n     byte[] buf = new byte[bufLen];\n     int readLen;\n     IOException exception = null;\n\n     try {\n         try (ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\n             while ((readLen = inputStream.read(buf, 0, bufLen)) != -1)\n                 outputStream.write(buf, 0, readLen);\n\n             return outputStream.toByteArray();\n         }\n     } catch (IOException e) {\n         exception = e;\n         throw e;\n     } finally {\n         if (exception == null) inputStream.close();\n         else try {\n             inputStream.close();\n         } catch (IOException e) {\n             exception.addSuppressed(e);\n         }\n     }\n }\n</code></pre>\n</li>\n</ul>\n<hr />\n<ul>\n<li><p><em><strong>Kotlin</strong></em> (when Java 9+ isn't accessible):</p>\n<pre><code> @Throws(IOException::class)\n fun InputStream.readAllBytes(): ByteArray {\n     val bufLen = 4 * 0x400 // 4KB\n     val buf = ByteArray(bufLen)\n     var readLen: Int = 0\n\n     ByteArrayOutputStream().use { o -&gt;\n         this.use { i -&gt;\n             while (i.read(buf, 0, bufLen).also { readLen = it } != -1)\n                 o.write(buf, 0, readLen)\n         }\n\n         return o.toByteArray()\n     }\n }\n</code></pre>\n<p><em>To avoid nested <code>use</code> see <a href=\"https://stackoverflow.com/a/53348190/5318303\">here</a>.</em></p>\n</li>\n</ul>\n<hr />\n<ul>\n<li><p><em><strong>Scala</strong></em> (when Java 9+ isn't accessible) (By <a href=\"https://stackoverflow.com/users/599728/joan\">@Joan</a>. Thx):</p>\n<pre><code>def readAllBytes(inputStream: InputStream): Array[Byte] =\n  Stream.continually(inputStream.read).takeWhile(_ != -1).map(_.toByte).toArray\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589629217,"creation_date":1589628771,"answer_id":61836068,"question_id":1264709,"body_markdown":"Solution in Kotlin (will work in Java too, of course), which includes both cases of when you know the size or not:\r\n\r\n```kt\r\n    fun InputStream.readBytesWithSize(size: Long): ByteArray? {\r\n        return when {\r\n            size &lt; 0L -&gt; this.readBytes()\r\n            size == 0L -&gt; ByteArray(0)\r\n            size &gt; Int.MAX_VALUE -&gt; null\r\n            else -&gt; {\r\n                val sizeInt = size.toInt()\r\n                val result = ByteArray(sizeInt)\r\n                readBytesIntoByteArray(result, sizeInt)\r\n                result\r\n            }\r\n        }\r\n    }\r\n\r\n    fun InputStream.readBytesIntoByteArray(byteArray: ByteArray,bytesToRead:Int=byteArray.size) {\r\n        var offset = 0\r\n        while (true) {\r\n            val read = this.read(byteArray, offset, bytesToRead - offset)\r\n            if (read == -1)\r\n                break\r\n            offset += read\r\n            if (offset &gt;= bytesToRead)\r\n                break\r\n        }\r\n    }\r\n```\r\n\r\nIf you know the size, it saves you on having double the memory used compared to the other solutions (in a brief moment, but still could be useful). That&#39;s because you have to read the entire stream to the end, and then convert it to a byte array (similar to ArrayList which you convert to just an array).\r\n\r\nSo, if you are on Android, for example, and you got some Uri to handle, you can try to get the size using this:\r\n\r\n```\r\n    fun getStreamLengthFromUri(context: Context, uri: Uri): Long {\r\n        context.contentResolver.query(uri, arrayOf(MediaStore.MediaColumns.SIZE), null, null, null)?.use {\r\n            if (!it.moveToNext())\r\n                return@use\r\n            val fileSize = it.getLong(it.getColumnIndex(MediaStore.MediaColumns.SIZE))\r\n            if (fileSize &gt; 0)\r\n                return fileSize\r\n        }\r\n        //if you wish, you can also get the file-path from the uri here, and then try to get its size, using this: https://stackoverflow.com/a/61835665/878126\r\n        FileUtilEx.getFilePathFromUri(context, uri, false)?.use {\r\n            val file = it.file\r\n            val fileSize = file.length()\r\n            if (fileSize &gt; 0)\r\n                return fileSize\r\n        }\r\n        context.contentResolver.openInputStream(uri)?.use { inputStream -&gt;\r\n            if (inputStream is FileInputStream)\r\n                return inputStream.channel.size()\r\n            else {\r\n                var bytesCount = 0L\r\n                while (true) {\r\n                    val available = inputStream.available()\r\n                    if (available == 0)\r\n                        break\r\n                    val skip = inputStream.skip(available.toLong())\r\n                    if (skip &lt; 0)\r\n                        break\r\n                    bytesCount += skip\r\n                }\r\n                if (bytesCount &gt; 0L)\r\n                    return bytesCount\r\n            }\r\n        }\r\n        return -1L\r\n    }\r\n```","title":"Convert InputStream to byte array in Java","body":"<p>Solution in Kotlin (will work in Java too, of course), which includes both cases of when you know the size or not:</p>\n\n<pre><code>    fun InputStream.readBytesWithSize(size: Long): ByteArray? {\n        return when {\n            size &lt; 0L -&gt; this.readBytes()\n            size == 0L -&gt; ByteArray(0)\n            size &gt; Int.MAX_VALUE -&gt; null\n            else -&gt; {\n                val sizeInt = size.toInt()\n                val result = ByteArray(sizeInt)\n                readBytesIntoByteArray(result, sizeInt)\n                result\n            }\n        }\n    }\n\n    fun InputStream.readBytesIntoByteArray(byteArray: ByteArray,bytesToRead:Int=byteArray.size) {\n        var offset = 0\n        while (true) {\n            val read = this.read(byteArray, offset, bytesToRead - offset)\n            if (read == -1)\n                break\n            offset += read\n            if (offset &gt;= bytesToRead)\n                break\n        }\n    }\n</code></pre>\n\n<p>If you know the size, it saves you on having double the memory used compared to the other solutions (in a brief moment, but still could be useful). That's because you have to read the entire stream to the end, and then convert it to a byte array (similar to ArrayList which you convert to just an array).</p>\n\n<p>So, if you are on Android, for example, and you got some Uri to handle, you can try to get the size using this:</p>\n\n<pre><code>    fun getStreamLengthFromUri(context: Context, uri: Uri): Long {\n        context.contentResolver.query(uri, arrayOf(MediaStore.MediaColumns.SIZE), null, null, null)?.use {\n            if (!it.moveToNext())\n                return@use\n            val fileSize = it.getLong(it.getColumnIndex(MediaStore.MediaColumns.SIZE))\n            if (fileSize &gt; 0)\n                return fileSize\n        }\n        //if you wish, you can also get the file-path from the uri here, and then try to get its size, using this: https://stackoverflow.com/a/61835665/878126\n        FileUtilEx.getFilePathFromUri(context, uri, false)?.use {\n            val file = it.file\n            val fileSize = file.length()\n            if (fileSize &gt; 0)\n                return fileSize\n        }\n        context.contentResolver.openInputStream(uri)?.use { inputStream -&gt;\n            if (inputStream is FileInputStream)\n                return inputStream.channel.size()\n            else {\n                var bytesCount = 0L\n                while (true) {\n                    val available = inputStream.available()\n                    if (available == 0)\n                        break\n                    val skip = inputStream.skip(available.toLong())\n                    if (skip &lt; 0)\n                        break\n                    bytesCount += skip\n                }\n                if (bytesCount &gt; 0L)\n                    return bytesCount\n            }\n        }\n        return -1L\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17213890,"reputation":1610,"user_id":12462444,"display_name":"andreoss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593553273,"creation_date":1593553273,"answer_id":62666559,"question_id":1264709,"body_markdown":"You can use [cactoos](https://github.com/yegor256/cactoos/) library with provides reusable [object-oriented](https://www.elegantobjects.org/#principles) Java components.\r\nOOP is emphasized by this library, so no static methods, NULLs, and so on, only [real objects](https://www.yegor256.com/2014/11/20/seven-virtues-of-good-object.html) and their contracts (interfaces).\r\nA simple operation like reading InputStream, can be performed like that\r\n```\r\nfinal InputStream input = ...;\r\nfinal Bytes bytes = new BytesOf(input);\r\nfinal byte[] array = bytes.asBytes();\r\nAssert.assertArrayEquals(\r\n    array,\r\n    new byte[]{65, 66, 67}\r\n);\r\n```\r\nHaving a dedicated type `Bytes` for working with data structure `byte[]` enables us to use OOP tactics for solving tasks at hand.\r\nSomething that a procedural &quot;utility&quot; method will forbid us to do.\r\nFor example, you need to enconde bytes you&#39;ve read from this `InputStream` to Base64.\r\nIn this case you will use [Decorator pattern](https://www.yegor256.com/2015/02/26/composable-decorators.html) and wrap Bytes object within implementation for Base64.\r\n[cactoos](https://github.com/yegor256/cactoos/) already provides such implementation:\r\n```java\r\nfinal Bytes encoded = new BytesBase64(\r\n    new BytesOf(\r\n        new InputStreamOf(&quot;XYZ&quot;)\r\n    )\r\n);\r\nAssert.assertEquals(new TextOf(encoded).asString(), &quot;WFla&quot;);\r\n```\r\nYou can decode them in the same manner, by using Decorator pattern\r\n```\r\nfinal Bytes decoded = new Base64Bytes(\r\n    new BytesBase64(\r\n        new BytesOf(\r\n            new InputStreamOf(&quot;XYZ&quot;)\r\n        )\r\n    )\r\n);\r\nAssert.assertEquals(new TextOf(decoded).asString(), &quot;XYZ&quot;);\r\n```\r\nWhatever your task is you will be able to create own implementation of `Bytes` to solve it.\r\n","title":"Convert InputStream to byte array in Java","body":"<p>You can use <a href=\"https://github.com/yegor256/cactoos/\" rel=\"nofollow noreferrer\">cactoos</a> library with provides reusable <a href=\"https://www.elegantobjects.org/#principles\" rel=\"nofollow noreferrer\">object-oriented</a> Java components.\nOOP is emphasized by this library, so no static methods, NULLs, and so on, only <a href=\"https://www.yegor256.com/2014/11/20/seven-virtues-of-good-object.html\" rel=\"nofollow noreferrer\">real objects</a> and their contracts (interfaces).\nA simple operation like reading InputStream, can be performed like that</p>\n<pre><code>final InputStream input = ...;\nfinal Bytes bytes = new BytesOf(input);\nfinal byte[] array = bytes.asBytes();\nAssert.assertArrayEquals(\n    array,\n    new byte[]{65, 66, 67}\n);\n</code></pre>\n<p>Having a dedicated type <code>Bytes</code> for working with data structure <code>byte[]</code> enables us to use OOP tactics for solving tasks at hand.\nSomething that a procedural &quot;utility&quot; method will forbid us to do.\nFor example, you need to enconde bytes you've read from this <code>InputStream</code> to Base64.\nIn this case you will use <a href=\"https://www.yegor256.com/2015/02/26/composable-decorators.html\" rel=\"nofollow noreferrer\">Decorator pattern</a> and wrap Bytes object within implementation for Base64.\n<a href=\"https://github.com/yegor256/cactoos/\" rel=\"nofollow noreferrer\">cactoos</a> already provides such implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Bytes encoded = new BytesBase64(\n    new BytesOf(\n        new InputStreamOf(&quot;XYZ&quot;)\n    )\n);\nAssert.assertEquals(new TextOf(encoded).asString(), &quot;WFla&quot;);\n</code></pre>\n<p>You can decode them in the same manner, by using Decorator pattern</p>\n<pre><code>final Bytes decoded = new Base64Bytes(\n    new BytesBase64(\n        new BytesOf(\n            new InputStreamOf(&quot;XYZ&quot;)\n        )\n    )\n);\nAssert.assertEquals(new TextOf(decoded).asString(), &quot;XYZ&quot;);\n</code></pre>\n<p>Whatever your task is you will be able to create own implementation of <code>Bytes</code> to solve it.</p>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661579250,"creation_date":1661579250,"answer_id":73508669,"question_id":1264709,"body_markdown":"You can use [Cactoos](https://www.cactoos.org) (I&#39;m one of its developers):\r\n\r\n```java\r\nimport org.cactoos.bytes.BytesOf;\r\nbyte[] array = new BytesOf(stream).asBytes();\r\n```\r\n\r\nYou can also convert a stream to a `String`:\r\n\r\n```java\r\nimport org.cactoos.text.TextOf;\r\nString txt = new TextOf(stream).asString();\r\n```\r\n\r\nBoth `asBytes()` and `asString()` methods throw checked `Exception`. If you don&#39;t want to catch it, use `Unchecked*` decorators, for example:\r\n\r\n```java\r\nimport org.cactoos.bytes.BytesOf;\r\nimport org.cactoos.bytes.UncheckedBytes;\r\nbyte[] array = new UncheckedBytes(new BytesOf(stream)).asBytes();\r\n```\r\n","title":"Convert InputStream to byte array in Java","body":"<p>You can use <a href=\"https://www.cactoos.org\" rel=\"nofollow noreferrer\">Cactoos</a> (I'm one of its developers):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.cactoos.bytes.BytesOf;\nbyte[] array = new BytesOf(stream).asBytes();\n</code></pre>\n<p>You can also convert a stream to a <code>String</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.cactoos.text.TextOf;\nString txt = new TextOf(stream).asString();\n</code></pre>\n<p>Both <code>asBytes()</code> and <code>asString()</code> methods throw checked <code>Exception</code>. If you don't want to catch it, use <code>Unchecked*</code> decorators, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.cactoos.bytes.BytesOf;\nimport org.cactoos.bytes.UncheckedBytes;\nbyte[] array = new UncheckedBytes(new BytesOf(stream)).asBytes();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3361884,"reputation":5549,"user_id":2823516,"accept_rate":86,"display_name":"Joaquin Iurchuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697478702,"creation_date":1697478702,"answer_id":77304012,"question_id":1264709,"body_markdown":"For Android developers dealing with the inter-op between Java and Kotlin:\r\n\r\n    byte[] myByteArray = ByteStreamsKt.readBytes(fileInputStream);","title":"Convert InputStream to byte array in Java","body":"<p>For Android developers dealing with the inter-op between Java and Kotlin:</p>\n<pre><code>byte[] myByteArray = ByteStreamsKt.readBytes(fileInputStream);\n</code></pre>\n"}],"owner":{"account_id":47576,"reputation":12757,"user_id":140962,"accept_rate":99,"display_name":"JGC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1192216,"favorite_count":0,"down_vote_count":2,"up_vote_count":1003,"accepted_answer_id":1264756,"answer_count":35,"score":1001,"last_activity_date":1697478702,"creation_date":1250062042,"question_id":1264709,"body_markdown":"How do I read an entire `InputStream` into a byte array?","title":"Convert InputStream to byte array in Java","body":"<p>How do I read an entire <code>InputStream</code> into a byte array?</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1606647815,"post_id":65059299,"comment_id":115018598,"body_markdown":"which `@NotNull` annotation have you imported? `javax.validation.constraints.NotNull` or from jetbrains or ... Have you generated the tables via hibernate or manually?","body":"which <code>@NotNull</code> annotation have you imported? <code>javax.validation.constraints.NotNull</code> or from jetbrains or ... Have you generated the tables via hibernate or manually?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1606648062,"post_id":65059299,"comment_id":115018650,"body_markdown":"*I expected the number can be null but I was wrong.* No `int` is a pimitive type which cannot be null use `Integer` instead","body":"<i>I expected the number can be null but I was wrong.</i> No <code>int</code> is a pimitive type which cannot be null use <code>Integer</code> instead"},{"owner":{"account_id":17554117,"reputation":21,"user_id":12733938,"display_name":"MarFor9"},"score":0,"creation_date":1606648702,"post_id":65059299,"comment_id":115018781,"body_markdown":"@Jens I use `com.sun.istack.NotNull;`. I also found that when I write: `@Column private int number;` (because `@Column` has default nullable set on true.) I can insert null value but I not sure is good practice.","body":"@Jens I use <code>com.sun.istack.NotNull;</code>. I also found that when I write: <code>@Column private int number;</code> (because <code>@Column</code> has default nullable set on true.) I can insert null value but I not sure is good practice."},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1606648795,"post_id":65059299,"comment_id":115018803,"body_markdown":"Do you want Bean Validation to trigger when you persist the entity? If so, use `javax.validation.constraints.NotNull`. If not, just use `@Column(nullable = false)`. Hibernate does not understand what `com.sun.istack.NotNull` is","body":"Do you want Bean Validation to trigger when you persist the entity? If so, use <code>javax.validation.constraints.NotNull</code>. If not, just use <code>@Column(nullable = false)</code>. Hibernate does not understand what <code>com.sun.istack.NotNull</code> is"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1606648862,"post_id":65059299,"comment_id":115018817,"body_markdown":"As a side note, if you use `int`, and make the column nullable when creating the DB schema yourself, Hibernate *will* allow such a thing. You&#39;ll just get a NPE whenever Hibernate actually *finds* a `NULL` in the column when trying to map it onto the entity. So, it probably doesn&#39;t make much sense","body":"As a side note, if you use <code>int</code>, and make the column nullable when creating the DB schema yourself, Hibernate <i>will</i> allow such a thing. You&#39;ll just get a NPE whenever Hibernate actually <i>finds</i> a <code>NULL</code> in the column when trying to map it onto the entity. So, it probably doesn&#39;t make much sense"}],"answers":[{"tags":[],"owner":{"account_id":18989609,"reputation":284,"user_id":13859175,"display_name":"Yusuf Şeng&#252;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606647278,"creation_date":1606647278,"answer_id":65059330,"question_id":65059299,"body_markdown":"First of all you need to add @Entity tag beginning of your model and you can use @Notnull tag where you want such as:\r\n\r\n    @Entity\r\n    public class Item {\r\n \r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n \r\n    @NotNull\r\n    private BigDecimal price;\r\n}\r\n\r\nfore more information you can take a look that [link][1] \r\n\r\n\r\n  [1]: https://www.baeldung.com/hibernate-notnull-vs-nullable","title":"How can I set the not null field? Spring boot, Hibernate","body":"<p>First of all you need to add @Entity tag beginning of your model and you can use @Notnull tag where you want such as:</p>\n<pre><code>@Entity\npublic class Item {\n\n@Id\n@GeneratedValue\nprivate Long id;\n\n@NotNull\nprivate BigDecimal price;\n</code></pre>\n<p>}</p>\n<p>fore more information you can take a look that <a href=\"https://www.baeldung.com/hibernate-notnull-vs-nullable\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":9799895,"reputation":31,"user_id":7261574,"display_name":"Isuru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697478681,"creation_date":1697478681,"answer_id":77304011,"question_id":65059299,"body_markdown":"First of all you need to add below dependency.\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\nThen you can @Notnull from javax.validation.constraints.NotNull;\r\n\r\n    @NotNull\r\n    private String foo;\r\n\r\nor you can use @Column annotation from Java persistent API as below.\r\n\r\n    @Column(nullable = false)\r\n    private String foo;","title":"How can I set the not null field? Spring boot, Hibernate","body":"<p>First of all you need to add below dependency.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then you can @Notnull from javax.validation.constraints.NotNull;</p>\n<pre><code>@NotNull\nprivate String foo;\n</code></pre>\n<p>or you can use @Column annotation from Java persistent API as below.</p>\n<pre><code>@Column(nullable = false)\nprivate String foo;\n</code></pre>\n"}],"owner":{"account_id":17554117,"reputation":21,"user_id":12733938,"display_name":"MarFor9"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3045,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697478681,"creation_date":1606647023,"question_id":65059299,"body_markdown":"I&#39;m new as java programmer. I am writing a simple app with spring boot and hibernate.\r\n\r\nI have problem with not null field. How can I set them, because when I write: \r\n\r\n    @NotNull\r\n    private String foo;\r\n\r\nI see in database (postgres) I can insert null value but I expected that I can&#39;t.\r\n\r\nAlso when I write:\r\n\r\n    private int number;\r\nI expected the `number` can be null but I was wrong.\r\n\r\nSo how can I set nullable and not nullable values on `string, int, double`?\r\n\r\nThank you for all your answers!","title":"How can I set the not null field? Spring boot, Hibernate","body":"<p>I'm new as java programmer. I am writing a simple app with spring boot and hibernate.</p>\n<p>I have problem with not null field. How can I set them, because when I write:</p>\n<pre><code>@NotNull\nprivate String foo;\n</code></pre>\n<p>I see in database (postgres) I can insert null value but I expected that I can't.</p>\n<p>Also when I write:</p>\n<pre><code>private int number;\n</code></pre>\n<p>I expected the <code>number</code> can be null but I was wrong.</p>\n<p>So how can I set nullable and not nullable values on <code>string, int, double</code>?</p>\n<p>Thank you for all your answers!</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","spring-boot-test"],"owner":{"account_id":23330599,"reputation":11,"user_id":17407051,"display_name":"Code xyz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697478679,"creation_date":1697478679,"question_id":77304010,"body_markdown":"I wanted to get rid of spring datasource related configuration from my test YAML file.\r\n\r\nI have an integration test case annotated with @SpringBootTest. When this test case runs, it auto-configures the database-related configuration, including JDBC Template and Spring Data. This test case has its own YAML configuration.\r\n\r\n\r\n\r\n```\r\n@SpringBootTest\r\n@ActiveProfile(&quot;test&quot;)\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\nclass myIntgTest{\r\n \r\n}\r\n```\r\n\r\nI&#39;ve attempted to exclude DataSourceAutoConfiguration and HibernateJPAAutoConfiguration using @EnableAutoConfiguration and spring.autoconfigure.exclude, but neither of these methods is working. Unfortunately, I can&#39;t use @MockBean or @Profile on my application configuration because of some inter-dependencies.\r\n\r\nCould someone please assist me in preventing the loading of these database-related configurations when my integration test case runs? This way, I don&#39;t have to include datasource-related details in my test YAML file.\r\n\r\nThank you in advance. \r\n\r\nTried exclude option using @EnableAutoConfiguration, spring.autoconfigure.exclude, @MockBean and @Profile, @TestPropery, @ComponentScan.","title":"Disable database related autoconfigurations in integration test","body":"<p>I wanted to get rid of spring datasource related configuration from my test YAML file.</p>\n<p>I have an integration test case annotated with @SpringBootTest. When this test case runs, it auto-configures the database-related configuration, including JDBC Template and Spring Data. This test case has its own YAML configuration.</p>\n<pre><code>@SpringBootTest\n@ActiveProfile(&quot;test&quot;)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\nclass myIntgTest{\n \n}\n</code></pre>\n<p>I've attempted to exclude DataSourceAutoConfiguration and HibernateJPAAutoConfiguration using @EnableAutoConfiguration and spring.autoconfigure.exclude, but neither of these methods is working. Unfortunately, I can't use @MockBean or @Profile on my application configuration because of some inter-dependencies.</p>\n<p>Could someone please assist me in preventing the loading of these database-related configurations when my integration test case runs? This way, I don't have to include datasource-related details in my test YAML file.</p>\n<p>Thank you in advance.</p>\n<p>Tried exclude option using @EnableAutoConfiguration, spring.autoconfigure.exclude, @MockBean and @Profile, @TestPropery, @ComponentScan.</p>\n"},{"tags":["java","javadoc"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1697477445,"post_id":77303867,"comment_id":136282083,"body_markdown":"This is nothing that Java or JavaDoc enforces. You should ask your instructor how the assignment is intended to be handed in. Everything else is just guessing: add the parameterless constructor manually and add a JavaDoc, add a private parameterless constructor so the (tester) class cannot be instantiated, etc. We really can&#39;t know, because we don&#39;t know what your assignment checker is checking.","body":"This is nothing that Java or JavaDoc enforces. You should ask your instructor how the assignment is intended to be handed in. Everything else is just guessing: add the parameterless constructor manually and add a JavaDoc, add a private parameterless constructor so the (tester) class cannot be instantiated, etc. We really can&#39;t know, because we don&#39;t know what your assignment checker is checking."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1697479790,"post_id":77303867,"comment_id":136282461,"body_markdown":"Add the error text.","body":"Add the error text."},{"owner":{"account_id":2641744,"reputation":1155,"user_id":2285234,"display_name":"Zastai"},"score":0,"creation_date":1702045303,"post_id":77303867,"comment_id":136852763,"body_markdown":"This diagnostic seems to be new in Java 21; it gets issued because `CalculatorTester` specifies no explicit constructor. That means that if code does `new CalculatorTester()`, no JavaDoc is available. As @knittl suggests, add an explicit default constructor, either as `private` (seems to be applicable here - your class only acts as a container for the `main` method), or as public with appropriate JavaDoc for it.","body":"This diagnostic seems to be new in Java 21; it gets issued because <code>CalculatorTester</code> specifies no explicit constructor. That means that if code does <code>new CalculatorTester()</code>, no JavaDoc is available. As @knittl suggests, add an explicit default constructor, either as <code>private</code> (seems to be applicable here - your class only acts as a container for the <code>main</code> method), or as public with appropriate JavaDoc for it."}],"answers":[{"tags":[],"owner":{"account_id":4954,"reputation":4796,"user_id":7708,"accept_rate":81,"display_name":"Alan Krueger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697478559,"creation_date":1697478559,"answer_id":77303997,"question_id":77303867,"body_markdown":"Are you building javadoc with the `-Xdoclint` flag? You could avoid doing that, or perhaps specify something like `-Xdoclint:all,-missing`.\r\n\r\nhttps://github.com/plume-lib/require-javadoc discusses how to avoid this while requiring other javadoc features.","title":"When trying to generate a Javadoc for my program I get the error message &#39;use of default constructor, which does not provide a comment&#39; What is wrong?","body":"<p>Are you building javadoc with the <code>-Xdoclint</code> flag? You could avoid doing that, or perhaps specify something like <code>-Xdoclint:all,-missing</code>.</p>\n<p><a href=\"https://github.com/plume-lib/require-javadoc\" rel=\"nofollow noreferrer\">https://github.com/plume-lib/require-javadoc</a> discusses how to avoid this while requiring other javadoc features.</p>\n"}],"owner":{"account_id":26697914,"reputation":1,"user_id":20305449,"display_name":"Milo Vibes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697478559,"creation_date":1697477086,"question_id":77303867,"body_markdown":"The issue seems to be with the tester class, though I don&#39;t understand what exactly the issue is or what to change. It doesn&#39;t interfere with how the program runs or functions, but i need the Javadoc in order to submit the assignment.\r\n\r\nI have tried altering, adding, and removing the comments for the CalculatorTester class which seems to be the issue, but each change has only produced separate issues without actually resolving the original.\r\n\r\nThis is the object used for the calculator program. No Javadoc issues here\r\n```\r\n/**\r\n * A Calculator Object\r\n * \r\n * @author wesal\r\n * @version 1.0\r\n */\r\npublic class Calculator {\r\n    double numone;\r\n    double numtwo;\r\n    double added;\r\n    double subtracted;\r\n    double multiplied;\r\n    double divided;\r\n    int exponential;\r\n    \r\n    /**\r\n    * This object stores the pair of number used in the calculations\r\n    *\r\n    * @param num1 The storage of the first number\r\n    * @param num2 The storage of the second number\r\n    */\r\n    public Calculator(double num1, double num2){       \r\n        numone = num1;\r\n        numtwo = num2;\r\n    }\r\n    \r\n    /**\r\n    * This method adds the pair of numbers stored in the Calculator object\r\n    * @return The result of the two added numbers\r\n    */\r\n    public double add(){\r\n        added = numone + numtwo;\r\n        return added;\r\n    }\r\n    \r\n    /**\r\n    * This method subtracts the second number from the first\r\n    * @return The result of the subtraction operation\r\n    */\r\n    public double subtract(){\r\n        subtracted = numone - numtwo;\r\n        return subtracted;\r\n    }\r\n    \r\n    /**\r\n    * This method multiplies the two numbers together\r\n    * @return The result of the multiplication operation\r\n    */\r\n    public double multiply(){\r\n        multiplied = numone * numtwo;\r\n        return multiplied;\r\n    }\r\n    \r\n    /**\r\n    * This method divides the first number by the second\r\n    * @return The result of the division operation\r\n    */\r\n    public double divide(){\r\n        divided = numone / numtwo;\r\n        return divided;\r\n    }\r\n    \r\n    /**\r\n    * This method takes the integer value of the two numbers \r\n    * through typecasting and raises the first to the power of \r\n    * the second\r\n    * \r\n    * @return The value result of the Math.pow operation\r\n    */\r\n    public int power(){\r\n        exponential = (int) Math.pow((int) numone, (int) numtwo);\r\n        return exponential;\r\n    }\r\n    \r\n    \r\n}\r\n\r\n```\r\n\r\n\r\nThis is the tester class causing the Javadoc error, notably `public class CalculatorTester{}`\r\n```\r\n/**\r\n * A Calculator \r\n * \r\n * @author wesal\r\n * @version 1.0\r\n */\r\npublic class CalculatorTester{  \r\n    \r\n    /**\r\n     * The main of the function, where the executable code is written\r\n     * \r\n     * @param args The command line arguments\r\n     */\r\n    public static void main(String[] args){\r\n        double num1;\r\n        double num2;\r\n\r\n        /**\r\n        * This segment prints out the text asking for user entry as well as accepting and storing the requested input\r\n        */\r\n        System.out.print(&quot;Enter the first number: &quot; );\r\n        Scanner in = new Scanner(System.in);\r\n        num1 = in.nextDouble();\r\n        System.out.println(&quot; &quot;);\r\n        System.out.println(&quot;Enter the second number: &quot; );\r\n        num2 = in.nextDouble();\r\n        System.out.println(&quot; &quot;);\r\n\r\n        /**\r\n        * This constructs the new calculator object with the entered data stored\r\n        */\r\n        Calculator calc = new Calculator(num1,num2);\r\n        \r\n        /**\r\n        * This segment calls back to the methods for the mathematical operations and prints the results\r\n        */\r\n        System.out.println(&quot;The Arithmetic Opreations Results: &quot;);\r\n        System.out.println(num1 + &quot; + &quot; + num2 + &quot; = &quot; + calc.add());\r\n        System.out.println(num1 + &quot; - &quot; + num2 + &quot; = &quot; + calc.subtract());\r\n        System.out.println(num1 + &quot; * &quot; + num2 + &quot; = &quot; + calc.multiply());\r\n        System.out.println(num1 + &quot; / &quot; + num2 + &quot; = &quot; + calc.divide());\r\n        System.out.println((int) num1 + &quot; ^ &quot; + (int) num2 + &quot; = &quot; + calc.power());\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"When trying to generate a Javadoc for my program I get the error message &#39;use of default constructor, which does not provide a comment&#39; What is wrong?","body":"<p>The issue seems to be with the tester class, though I don't understand what exactly the issue is or what to change. It doesn't interfere with how the program runs or functions, but i need the Javadoc in order to submit the assignment.</p>\n<p>I have tried altering, adding, and removing the comments for the CalculatorTester class which seems to be the issue, but each change has only produced separate issues without actually resolving the original.</p>\n<p>This is the object used for the calculator program. No Javadoc issues here</p>\n<pre><code>/**\n * A Calculator Object\n * \n * @author wesal\n * @version 1.0\n */\npublic class Calculator {\n    double numone;\n    double numtwo;\n    double added;\n    double subtracted;\n    double multiplied;\n    double divided;\n    int exponential;\n    \n    /**\n    * This object stores the pair of number used in the calculations\n    *\n    * @param num1 The storage of the first number\n    * @param num2 The storage of the second number\n    */\n    public Calculator(double num1, double num2){       \n        numone = num1;\n        numtwo = num2;\n    }\n    \n    /**\n    * This method adds the pair of numbers stored in the Calculator object\n    * @return The result of the two added numbers\n    */\n    public double add(){\n        added = numone + numtwo;\n        return added;\n    }\n    \n    /**\n    * This method subtracts the second number from the first\n    * @return The result of the subtraction operation\n    */\n    public double subtract(){\n        subtracted = numone - numtwo;\n        return subtracted;\n    }\n    \n    /**\n    * This method multiplies the two numbers together\n    * @return The result of the multiplication operation\n    */\n    public double multiply(){\n        multiplied = numone * numtwo;\n        return multiplied;\n    }\n    \n    /**\n    * This method divides the first number by the second\n    * @return The result of the division operation\n    */\n    public double divide(){\n        divided = numone / numtwo;\n        return divided;\n    }\n    \n    /**\n    * This method takes the integer value of the two numbers \n    * through typecasting and raises the first to the power of \n    * the second\n    * \n    * @return The value result of the Math.pow operation\n    */\n    public int power(){\n        exponential = (int) Math.pow((int) numone, (int) numtwo);\n        return exponential;\n    }\n    \n    \n}\n\n</code></pre>\n<p>This is the tester class causing the Javadoc error, notably <code>public class CalculatorTester{}</code></p>\n<pre><code>/**\n * A Calculator \n * \n * @author wesal\n * @version 1.0\n */\npublic class CalculatorTester{  \n    \n    /**\n     * The main of the function, where the executable code is written\n     * \n     * @param args The command line arguments\n     */\n    public static void main(String[] args){\n        double num1;\n        double num2;\n\n        /**\n        * This segment prints out the text asking for user entry as well as accepting and storing the requested input\n        */\n        System.out.print(&quot;Enter the first number: &quot; );\n        Scanner in = new Scanner(System.in);\n        num1 = in.nextDouble();\n        System.out.println(&quot; &quot;);\n        System.out.println(&quot;Enter the second number: &quot; );\n        num2 = in.nextDouble();\n        System.out.println(&quot; &quot;);\n\n        /**\n        * This constructs the new calculator object with the entered data stored\n        */\n        Calculator calc = new Calculator(num1,num2);\n        \n        /**\n        * This segment calls back to the methods for the mathematical operations and prints the results\n        */\n        System.out.println(&quot;The Arithmetic Opreations Results: &quot;);\n        System.out.println(num1 + &quot; + &quot; + num2 + &quot; = &quot; + calc.add());\n        System.out.println(num1 + &quot; - &quot; + num2 + &quot; = &quot; + calc.subtract());\n        System.out.println(num1 + &quot; * &quot; + num2 + &quot; = &quot; + calc.multiply());\n        System.out.println(num1 + &quot; / &quot; + num2 + &quot; = &quot; + calc.divide());\n        System.out.println((int) num1 + &quot; ^ &quot; + (int) num2 + &quot; = &quot; + calc.power());\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","linux","eclipse","wrapper","executable"],"comments":[{"owner":{"account_id":1464103,"reputation":2882,"user_id":1377498,"accept_rate":88,"display_name":"Muhammad Suleman"},"score":1,"creation_date":1428055284,"post_id":29429976,"comment_id":47029697,"body_markdown":"why you wanna make .sh file for linux only? i guess the beauty of java is cross platform you just need to install JRE and one single jar will run perfectly OK on any OS.","body":"why you wanna make .sh file for linux only? i guess the beauty of java is cross platform you just need to install JRE and one single jar will run perfectly OK on any OS."},{"owner":{"account_id":5585453,"reputation":1414,"user_id":4425964,"accept_rate":85,"display_name":"hiew1"},"score":0,"creation_date":1428055432,"post_id":29429976,"comment_id":47029757,"body_markdown":"I have tried making a .sh file but it doesn&#39;t work. The reason is because I have a main program that is fixed and written by someone else and I can only pass in my program as a Linux executable (not a .jar) to it. And I am developing it using Java.","body":"I have tried making a .sh file but it doesn&#39;t work. The reason is because I have a main program that is fixed and written by someone else and I can only pass in my program as a Linux executable (not a .jar) to it. And I am developing it using Java."},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1428055471,"post_id":29429976,"comment_id":47029776,"body_markdown":"The easiest way is to dump the contents of the `.jar` into a [here doc](http://tldp.org/LDP/abs/html/here-docs.html) then write the rest of the script to unpack the data into a `.jar` and run it.","body":"The easiest way is to dump the contents of the <code>.jar</code> into a <a href=\"http://tldp.org/LDP/abs/html/here-docs.html\" rel=\"nofollow noreferrer\">here doc</a> then write the rest of the script to unpack the data into a <code>.jar</code> and run it."},{"owner":{"account_id":5585453,"reputation":1414,"user_id":4425964,"accept_rate":85,"display_name":"hiew1"},"score":0,"creation_date":1428055565,"post_id":29429976,"comment_id":47029811,"body_markdown":"No it can&#39;t be a .jar. It has to be a Linux executable because I am passing it as an argument to another program. The program only takes Linux executable as an argument.","body":"No it can&#39;t be a .jar. It has to be a Linux executable because I am passing it as an argument to another program. The program only takes Linux executable as an argument."},{"owner":{"account_id":1464103,"reputation":2882,"user_id":1377498,"accept_rate":88,"display_name":"Muhammad Suleman"},"score":1,"creation_date":1428056044,"post_id":29429976,"comment_id":47029992,"body_markdown":"@pythonhiew :  i guess you can also run jar using command like, java -jar fileName.jar. why don&#39;t you make a bash which run command and up your JAR.","body":"@pythonhiew :  i guess you can also run jar using command like, java -jar fileName.jar. why don&#39;t you make a bash which run command and up your JAR."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":1,"creation_date":1428060416,"post_id":29429976,"comment_id":47031971,"body_markdown":"I don&#39;t see why .sh script would be any different than &quot;linux executable&quot;, it&#39;s executable as well. Large portion of linux executables are actually scripts - if that doesn&#39;t work then I don&#39;t see how any other executable would work either. Also: Launch4j is for creating native windows executables, I don&#39;t see how that would help you in Linux environment.","body":"I don&#39;t see why .sh script would be any different than &quot;linux executable&quot;, it&#39;s executable as well. Large portion of linux executables are actually scripts - if that doesn&#39;t work then I don&#39;t see how any other executable would work either. Also: Launch4j is for creating native windows executables, I don&#39;t see how that would help you in Linux environment."},{"owner":{"account_id":4503911,"reputation":1666,"user_id":3661794,"display_name":"muued"},"score":1,"creation_date":1428060976,"post_id":29429976,"comment_id":47032232,"body_markdown":"Make sure your .sh file is really executable (chmod +x yourfile.sh), maybe that&#39;s the problem. If the tool you are passing the shell script to doesn&#39;t like the .sh ending, just rename it omitting the .sh ending.","body":"Make sure your .sh file is really executable (chmod +x yourfile.sh), maybe that&#39;s the problem. If the tool you are passing the shell script to doesn&#39;t like the .sh ending, just rename it omitting the .sh ending."},{"owner":{"account_id":5585453,"reputation":1414,"user_id":4425964,"accept_rate":85,"display_name":"hiew1"},"score":0,"creation_date":1428067178,"post_id":29429976,"comment_id":47035395,"body_markdown":"Hi folks thanks for all your sincere effort to help. I have found the solution and posted my answer below. Pretty useful and valuable after literally hours of searching on the internet and trying multiple different stuff.","body":"Hi folks thanks for all your sincere effort to help. I have found the solution and posted my answer below. Pretty useful and valuable after literally hours of searching on the internet and trying multiple different stuff."}],"answers":[{"comments":[{"owner":{"account_id":5585453,"reputation":1414,"user_id":4425964,"accept_rate":85,"display_name":"hiew1"},"score":0,"creation_date":1428067234,"post_id":29431246,"comment_id":47035424,"body_markdown":"Bram thanks for your answer. I have found an easy solution and I have posted the answer below.","body":"Bram thanks for your answer. I have found an easy solution and I have posted the answer below."},{"owner":{"account_id":5585453,"reputation":1414,"user_id":4425964,"accept_rate":85,"display_name":"hiew1"},"score":0,"creation_date":1428069084,"post_id":29431246,"comment_id":47036336,"body_markdown":"I upvoted your answer anyway because it makes sense. I haven&#39;t tried it but it&#39;s quite a good idea.","body":"I upvoted your answer anyway because it makes sense. I haven&#39;t tried it but it&#39;s quite a good idea."}],"tags":[],"owner":{"account_id":4171489,"reputation":479,"user_id":3419147,"display_name":"Bram"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1428062028,"creation_date":1428060088,"answer_id":29431246,"question_id":29429976,"body_markdown":"What you can do is make a tiny little C-program, that calls the one of the exec functions (see man 3 exec) to the &quot;java&quot; binary, passing &quot;-jar&quot;, &quot;xxx.jar&quot; as arguments, see also https://stackoverflow.com/questions/5270083/forking-a-new-process-in-c-and-executing-a-jar-file","title":"How to convert a .java or a .jar file into a Linux executable file ( without a .jar extension, which means it&#39;s not a .jar file )","body":"<p>What you can do is make a tiny little C-program, that calls the one of the exec functions (see man 3 exec) to the \"java\" binary, passing \"-jar\", \"xxx.jar\" as arguments, see also <a href=\"https://stackoverflow.com/questions/5270083/forking-a-new-process-in-c-and-executing-a-jar-file\">Forking a new process in C++ and executing a .jar file</a></p>\n"},{"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":4,"creation_date":1428067607,"post_id":29432954,"comment_id":47035630,"body_markdown":"gcj has been considered obsolete for years.","body":"gcj has been considered obsolete for years."},{"owner":{"account_id":5585453,"reputation":1414,"user_id":4425964,"accept_rate":85,"display_name":"hiew1"},"score":1,"creation_date":1428067810,"post_id":29432954,"comment_id":47035734,"body_markdown":"Yeah chrylis however it works after all the methods I tried. Like running it with java -jar myFile.jar etc. or using .bat, .sh, all failed. Yet this works successfully. Because I have to pass this compiled program into another program as an argument and the other program does not take any form of argument, namely .jar, .sh, .bat, except after what is compiled by gcj.","body":"Yeah chrylis however it works after all the methods I tried. Like running it with java -jar myFile.jar etc. or using .bat, .sh, all failed. Yet this works successfully. Because I have to pass this compiled program into another program as an argument and the other program does not take any form of argument, namely .jar, .sh, .bat, except after what is compiled by gcj."},{"owner":{"account_id":5595470,"reputation":34938,"user_id":4433386,"accept_rate":83,"display_name":"Marcus M&#252;ller"},"score":0,"creation_date":1435840514,"post_id":29432954,"comment_id":50374828,"body_markdown":"@pythonhiew nice that it worked, but it will not work if you&#39;re using modern Java constructs, and doing this is really no good idea if you&#39;re interested the least in performance. It&#39;s an emergency solution, nothing more.","body":"@pythonhiew nice that it worked, but it will not work if you&#39;re using modern Java constructs, and doing this is really no good idea if you&#39;re interested the least in performance. It&#39;s an emergency solution, nothing more."},{"owner":{"account_id":437776,"reputation":20871,"user_id":825637,"accept_rate":85,"display_name":"MasterMastic"},"score":0,"creation_date":1456150704,"post_id":29432954,"comment_id":58799763,"body_markdown":"I haven&#39;t tried it myself but for anyone interested, [this](http://stackoverflow.com/questions/3032727/) should interest you (tl;dr: it really is obsolete).","body":"I haven&#39;t tried it myself but for anyone interested, <a href=\"http://stackoverflow.com/questions/3032727/\">this</a> should interest you (tl;dr: it really is obsolete)."}],"tags":[],"owner":{"account_id":5585453,"reputation":1414,"user_id":4425964,"accept_rate":85,"display_name":"hiew1"},"comment_count":4,"down_vote_count":1,"up_vote_count":11,"is_accepted":true,"score":10,"last_activity_date":1428067474,"creation_date":1428066997,"answer_id":29432954,"question_id":29429976,"body_markdown":"I found a solution, which is exactly what I want after hours of searching and trying. It is to use the **gcj** command in linux. \r\n\r\nIt works like gcc for C and g++ for C++ which compile C or C++ programs into executables. \r\n\r\nFirst install gcj by using the terminal by typing:\r\n\r\n    sudo apt-get install gcj-jdk\r\n\r\nAfter that, cd into the directory of where the .jar file is located, let&#39;s say the .jar file is myFile.jar, then do:\r\n    \r\n    gcj myFile.jar -o newNameofTheFile --main=theMainClassNameofTheFile\r\n\r\nto compile the .jar file. And it should work like an executable by just running it in the command line like this:\r\n\r\n    ./newNameofTheFile\r\n\r\n\r\n\r\n\r\n\r\n    ","title":"How to convert a .java or a .jar file into a Linux executable file ( without a .jar extension, which means it&#39;s not a .jar file )","body":"<p>I found a solution, which is exactly what I want after hours of searching and trying. It is to use the <strong>gcj</strong> command in linux. </p>\n\n<p>It works like gcc for C and g++ for C++ which compile C or C++ programs into executables. </p>\n\n<p>First install gcj by using the terminal by typing:</p>\n\n<pre><code>sudo apt-get install gcj-jdk\n</code></pre>\n\n<p>After that, cd into the directory of where the .jar file is located, let's say the .jar file is myFile.jar, then do:</p>\n\n<pre><code>gcj myFile.jar -o newNameofTheFile --main=theMainClassNameofTheFile\n</code></pre>\n\n<p>to compile the .jar file. And it should work like an executable by just running it in the command line like this:</p>\n\n<pre><code>./newNameofTheFile\n</code></pre>\n"},{"comments":[{"owner":{"account_id":201101,"reputation":21953,"user_id":447344,"accept_rate":44,"display_name":"Thomas Decaux"},"score":0,"creation_date":1493798736,"post_id":41829433,"comment_id":74550360,"body_markdown":"What is ``$java_args`` ?","body":"What is <code>$java_args</code> ?"},{"owner":{"account_id":1141390,"reputation":1154,"user_id":1125191,"accept_rate":60,"display_name":"Dyorgio"},"score":0,"creation_date":1493821557,"post_id":41829433,"comment_id":74566914,"body_markdown":"It could be any JVM arg, like -Xmx, -Xms, etc... Example updated.","body":"It could be any JVM arg, like -Xmx, -Xms, etc... Example updated."},{"owner":{"account_id":1106298,"reputation":3480,"user_id":1097618,"accept_rate":57,"display_name":"pouya"},"score":1,"creation_date":1545579622,"post_id":41829433,"comment_id":94654387,"body_markdown":"What is the point of this shell wrapper if the user still needs to have JRE installed on his machine. We need something like `pyinstaller` for java","body":"What is the point of this shell wrapper if the user still needs to have JRE installed on his machine. We need something like <code>pyinstaller</code> for java"},{"owner":{"account_id":1141390,"reputation":1154,"user_id":1125191,"accept_rate":60,"display_name":"Dyorgio"},"score":0,"creation_date":1545911583,"post_id":41829433,"comment_id":94727877,"body_markdown":"Hi @pouya, the point is avoid to need to prefix every call to a java program (JAR file) with &quot;java -jar your.jar&quot;, so you can just put your executable script on the system path and call it as any normal command/binary from anywhere. In particular, many domestic users don&#39;t understand what is a JAR file, and in my option, they don&#39;t need to use a software wrote in Java.","body":"Hi @pouya, the point is avoid to need to prefix every call to a java program (JAR file) with &quot;java -jar your.jar&quot;, so you can just put your executable script on the system path and call it as any normal command/binary from anywhere. In particular, many domestic users don&#39;t understand what is a JAR file, and in my option, they don&#39;t need to use a software wrote in Java."}],"tags":[],"owner":{"account_id":1141390,"reputation":1154,"user_id":1125191,"accept_rate":60,"display_name":"Dyorgio"},"comment_count":4,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1534512902,"creation_date":1485264428,"answer_id":41829433,"question_id":29429976,"body_markdown":"Let&#39;s say that you have a runnable jar named helloworld.jar\r\n\r\nCopy the Bash script below to a file named stub.sh\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    #!/bin/sh\r\n    MYSELF=`which &quot;$0&quot; 2&gt;/dev/null`\r\n    [ $? -gt 0 -a -f &quot;$0&quot; ] &amp;&amp; MYSELF=&quot;./$0&quot;\r\n    java=java\r\n    if test -n &quot;$JAVA_HOME&quot;; then\r\n        java=&quot;$JAVA_HOME/bin/java&quot;\r\n    fi\r\n    java_args=-Xmx1g\r\n    exec &quot;$java&quot; $java_args -jar $MYSELF &quot;$@&quot;\r\n    exit 1 \r\n\r\nThan append the jar file to the saved script and grant the execute permission to the file resulting with the following command:\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    cat stub.sh helloworld.jar &gt; helloworld.run &amp;&amp; chmod +x helloworld.run \r\n\r\nThat&#39;s all!\r\n\r\nNow you can execute the app just typing helloworld.run on your shell terminal.\r\n\r\nThe script is smart enough to pass any command line parameters to the Java application transparently.\r\n\r\nCredits: Paolo Di Tommaso\r\n\r\nSource: [https://coderwall.com/p/ssuaxa/how-to-make-a-jar-file-linux-executable][1]\r\n\r\n\r\n  [1]: https://coderwall.com/p/ssuaxa/how-to-make-a-jar-file-linux-executable","title":"How to convert a .java or a .jar file into a Linux executable file ( without a .jar extension, which means it&#39;s not a .jar file )","body":"<p>Let's say that you have a runnable jar named helloworld.jar</p>\n\n<p>Copy the Bash script below to a file named stub.sh</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/sh\nMYSELF=`which \"$0\" 2&gt;/dev/null`\n[ $? -gt 0 -a -f \"$0\" ] &amp;&amp; MYSELF=\"./$0\"\njava=java\nif test -n \"$JAVA_HOME\"; then\n    java=\"$JAVA_HOME/bin/java\"\nfi\njava_args=-Xmx1g\nexec \"$java\" $java_args -jar $MYSELF \"$@\"\nexit 1 \n</code></pre>\n\n<p>Than append the jar file to the saved script and grant the execute permission to the file resulting with the following command:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>cat stub.sh helloworld.jar &gt; helloworld.run &amp;&amp; chmod +x helloworld.run \n</code></pre>\n\n<p>That's all!</p>\n\n<p>Now you can execute the app just typing helloworld.run on your shell terminal.</p>\n\n<p>The script is smart enough to pass any command line parameters to the Java application transparently.</p>\n\n<p>Credits: Paolo Di Tommaso</p>\n\n<p>Source: <a href=\"https://coderwall.com/p/ssuaxa/how-to-make-a-jar-file-linux-executable\" rel=\"noreferrer\">https://coderwall.com/p/ssuaxa/how-to-make-a-jar-file-linux-executable</a></p>\n"},{"comments":[{"owner":{"account_id":2259955,"reputation":952,"user_id":1990297,"accept_rate":81,"display_name":"chrixm"},"score":0,"creation_date":1575051644,"post_id":58445558,"comment_id":104450366,"body_markdown":"This just results in `/usr/bin/env: java -jar: No such file or directory`","body":"This just results in <code>&#47;usr&#47;bin&#47;env: java -jar: No such file or directory</code>"},{"owner":{"account_id":1059897,"reputation":1791,"user_id":1061751,"accept_rate":20,"display_name":"czheo"},"score":0,"creation_date":1575143507,"post_id":58445558,"comment_id":104469074,"body_markdown":"@chrixm Please make sure you have `/usr/bin/env` working. ref: https://unix.stackexchange.com/questions/257969/why-is-usr-bin-env-bash-not-working-on-my-system","body":"@chrixm Please make sure you have <code>&#47;usr&#47;bin&#47;env</code> working. ref: <a href=\"https://unix.stackexchange.com/questions/257969/why-is-usr-bin-env-bash-not-working-on-my-system\" title=\"why is usr bin env bash not working on my system\">unix.stackexchange.com/questions/257969/&hellip;</a>"}],"tags":[],"owner":{"account_id":1059897,"reputation":1791,"user_id":1061751,"accept_rate":20,"display_name":"czheo"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1571383053,"creation_date":1571382209,"answer_id":58445558,"question_id":29429976,"body_markdown":"Another simple trick to convert a jar to a Linux executable is just putting a shebang before the jar file.\r\n\r\nSay we have a hello.jar file.\r\n\r\n    $ java -jar hello.jar\r\n    hello world!\r\n\r\nYou can create an executable in following steps.\r\n\r\n    $ echo &quot;#! /usr/bin/env java -jar&quot; &gt; hello\r\n    $ cat hello.jar &gt;&gt; hello\r\n    $ chmod +x hello\r\n\r\nThen, you will be able to execute the hello file directly.\r\n\r\n    $ ./hello\r\n    hello world!","title":"How to convert a .java or a .jar file into a Linux executable file ( without a .jar extension, which means it&#39;s not a .jar file )","body":"<p>Another simple trick to convert a jar to a Linux executable is just putting a shebang before the jar file.</p>\n\n<p>Say we have a hello.jar file.</p>\n\n<pre><code>$ java -jar hello.jar\nhello world!\n</code></pre>\n\n<p>You can create an executable in following steps.</p>\n\n<pre><code>$ echo \"#! /usr/bin/env java -jar\" &gt; hello\n$ cat hello.jar &gt;&gt; hello\n$ chmod +x hello\n</code></pre>\n\n<p>Then, you will be able to execute the hello file directly.</p>\n\n<pre><code>$ ./hello\nhello world!\n</code></pre>\n"}],"owner":{"account_id":5585453,"reputation":1414,"user_id":4425964,"accept_rate":85,"display_name":"hiew1"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25420,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":29432954,"answer_count":4,"score":8,"last_activity_date":1697478501,"creation_date":1428055155,"question_id":29429976,"body_markdown":"I have been searching for many similar posts about this but I still can&#39;t find my answer. I want to convert a .java program into a Linux executable file, without the .jar extension. How can I do it? I am trying to use Launch4j java wrapper, JWrapper, IzPack, making a .sh, making a .bat, running it using java -jar myFile.jar etc. but none of them worked. Some procedures are complicated and difficult to debug. Is there any straightforward way to convert a .java file or .jar file into a Linux executable file? \r\n\r\nI need to pass this program as a Linux executable as a whole into another program that takes this program as an argument. ","title":"How to convert a .java or a .jar file into a Linux executable file ( without a .jar extension, which means it&#39;s not a .jar file )","body":"<p>I have been searching for many similar posts about this but I still can't find my answer. I want to convert a .java program into a Linux executable file, without the .jar extension. How can I do it? I am trying to use Launch4j java wrapper, JWrapper, IzPack, making a .sh, making a .bat, running it using java -jar myFile.jar etc. but none of them worked. Some procedures are complicated and difficult to debug. Is there any straightforward way to convert a .java file or .jar file into a Linux executable file? </p>\n\n<p>I need to pass this program as a Linux executable as a whole into another program that takes this program as an argument. </p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":5668267,"reputation":2415,"user_id":4483806,"display_name":"UDID"},"score":0,"creation_date":1697170644,"post_id":77285015,"comment_id":136248836,"body_markdown":"@RequestMapping path matches the form action in your HTML. ?","body":"@RequestMapping path matches the form action in your HTML. ?"},{"owner":{"account_id":2348990,"reputation":3211,"user_id":2058368,"accept_rate":61,"display_name":"Sandeep Chatterjee"},"score":0,"creation_date":1697170763,"post_id":77285015,"comment_id":136248846,"body_markdown":"@UDID Yes. `th:action=&quot;@{/validateLogin}&quot;` and `@RequestMapping(path = &quot;/validateLogin&quot;, method = RequestMethod.POST)`","body":"@UDID Yes. <code>th:action=&quot;@{&#47;validateLogin}&quot;</code> and <code>@RequestMapping(path = &quot;&#47;validateLogin&quot;, method = RequestMethod.POST)</code>"},{"owner":{"account_id":5668267,"reputation":2415,"user_id":4483806,"display_name":"UDID"},"score":2,"creation_date":1697170958,"post_id":77285015,"comment_id":136248859,"body_markdown":"couple of thing. 1. is you debugger reaching to controller. as i can see you are returning `userName`. after that you must have to redirect ... something like that `return &quot;redirect:/home&quot;;` (whatevr the page you are looking like landing page)","body":"couple of thing. 1. is you debugger reaching to controller. as i can see you are returning <code>userName</code>. after that you must have to redirect ... something like that <code>return &quot;redirect:&#47;home&quot;;</code> (whatevr the page you are looking like landing page)"},{"owner":{"account_id":2348990,"reputation":3211,"user_id":2058368,"accept_rate":61,"display_name":"Sandeep Chatterjee"},"score":0,"creation_date":1697220798,"post_id":77285015,"comment_id":136257476,"body_markdown":"@UDID. It is not even reaching the Controller and throwing the exception.","body":"@UDID. It is not even reaching the Controller and throwing the exception."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1697354743,"post_id":77285015,"comment_id":136267528,"body_markdown":"Did you try removing the `action=&quot;#&quot;` from the `&lt;form&gt;` in the login.html?","body":"Did you try removing the <code>action=&quot;#&quot;</code> from the <code>&lt;form&gt;</code> in the login.html?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1697355636,"post_id":77285015,"comment_id":136267596,"body_markdown":"And please also show the HTML in the browser (using the devtools). Where is the login.html file located?","body":"And please also show the HTML in the browser (using the devtools). Where is the login.html file located?"},{"owner":{"account_id":2348990,"reputation":3211,"user_id":2058368,"accept_rate":61,"display_name":"Sandeep Chatterjee"},"score":0,"creation_date":1697356822,"post_id":77285015,"comment_id":136267683,"body_markdown":"@dan1st. Yes, I had removed the `action=&quot;#&quot;` and used `&lt;form class=&quot;row g-4&quot; th:action=&quot;@{/validateLogin}&quot; method=&quot;post&quot; th:object=&quot;${userInfo}&quot;&gt;`.  The `login.html` is located in `/src/main/resources/static`.","body":"@dan1st. Yes, I had removed the <code>action=&quot;#&quot;</code> and used <code>&lt;form class=&quot;row g-4&quot; th:action=&quot;@{&#47;validateLogin}&quot; method=&quot;post&quot; th:object=&quot;${userInfo}&quot;&gt;</code>.  The <code>login.html</code> is located in <code>&#47;src&#47;main&#47;resources&#47;static</code>."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1697356971,"post_id":77285015,"comment_id":136267692,"body_markdown":"The `static` directory is served 1:1 without being processed by Thymeleaf as stated in the answer.","body":"The <code>static</code> directory is served 1:1 without being processed by Thymeleaf as stated in the answer."},{"owner":{"account_id":2348990,"reputation":3211,"user_id":2058368,"accept_rate":61,"display_name":"Sandeep Chatterjee"},"score":0,"creation_date":1697357122,"post_id":77285015,"comment_id":136267698,"body_markdown":"Actually, i had set `spring.thymeleaf.enabled=false`, `spring.thymeleaf.check-template-location=false` in my `application.properties` for the time being, to get the basic thing to work first.","body":"Actually, i had set <code>spring.thymeleaf.enabled=false</code>, <code>spring.thymeleaf.check-template-location=false</code> in my <code>application.properties</code> for the time being, to get the basic thing to work first."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697357365,"post_id":77285015,"comment_id":136267718,"body_markdown":"Remove all the properties related to thymleaf from application.properties.","body":"Remove all the properties related to thymleaf from application.properties."}],"answers":[{"comments":[{"owner":{"account_id":2348990,"reputation":3211,"user_id":2058368,"accept_rate":61,"display_name":"Sandeep Chatterjee"},"score":0,"creation_date":1697359284,"post_id":77295720,"comment_id":136267879,"body_markdown":"I moved everything from `/resources/static` to `/resources/templates` and now when I access `http://localhost:8080/`, I encounter `jakarta.servlet.ServletException: Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/login.html]&quot;)`","body":"I moved everything from <code>&#47;resources&#47;static</code> to <code>&#47;resources&#47;templates</code> and now when I access <code>http:&#47;&#47;localhost:8080&#47;</code>, I encounter <code>jakarta.servlet.ServletException: Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates&#47;login.html]&quot;)</code>"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697362596,"post_id":77295720,"comment_id":136268213,"body_markdown":"@SandeepChatterjee It shouldn&#39;t be happening.","body":"@SandeepChatterjee It shouldn&#39;t be happening."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697362637,"post_id":77295720,"comment_id":136268217,"body_markdown":"@SandeepChatterjee There is a problem in login.html. See in the spring boot log.","body":"@SandeepChatterjee There is a problem in login.html. See in the spring boot log."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697362694,"post_id":77295720,"comment_id":136268226,"body_markdown":"@SandeepChatterjee I made username to userName in the login.html. I guess that&#39; why you are facing that error.","body":"@SandeepChatterjee I made username to userName in the login.html. I guess that&#39; why you are facing that error."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697362760,"post_id":77295720,"comment_id":136268232,"body_markdown":"@SandeepChatterjee use `username` instead of `userName` in login.html.","body":"@SandeepChatterjee use <code>username</code> instead of <code>userName</code> in login.html."},{"owner":{"account_id":2348990,"reputation":3211,"user_id":2058368,"accept_rate":61,"display_name":"Sandeep Chatterjee"},"score":1,"creation_date":1697363692,"post_id":77295720,"comment_id":136268335,"body_markdown":"I am using `username` only.","body":"I am using <code>username</code> only."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":1,"creation_date":1697363870,"post_id":77295720,"comment_id":136268349,"body_markdown":"@SandeepChatterjee Hmm. Can you provide your codebase via github to check the issue?","body":"@SandeepChatterjee Hmm. Can you provide your codebase via github to check the issue?"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1697363948,"post_id":77295720,"comment_id":136268354,"body_markdown":"@SandeepChatterjee It&#39;s already working. Not sure on what have you done.","body":"@SandeepChatterjee It&#39;s already working. Not sure on what have you done."},{"owner":{"account_id":2348990,"reputation":3211,"user_id":2058368,"accept_rate":61,"display_name":"Sandeep Chatterjee"},"score":1,"creation_date":1697364295,"post_id":77295720,"comment_id":136268383,"body_markdown":"`https://github.com/sndpchatterjee07/campusconvene`. It does not work Anish.","body":"<code>https:&#47;&#47;github.com&#47;sndpchatterjee07&#47;campusconvene</code>. It does not work Anish."},{"owner":{"account_id":2348990,"reputation":3211,"user_id":2058368,"accept_rate":61,"display_name":"Sandeep Chatterjee"},"score":1,"creation_date":1697365737,"post_id":77295720,"comment_id":136268492,"body_markdown":"I will check and revert Anish. Thank you.","body":"I will check and revert Anish. Thank you."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":1,"creation_date":1697371302,"post_id":77295720,"comment_id":136269047,"body_markdown":"@SandeepChatterjee I have added more explanation on why I added `modelAndView.addObject(&quot;userInfo&quot;, new Users())`.  Hope it helps.","body":"@SandeepChatterjee I have added more explanation on why I added <code>modelAndView.addObject(&quot;userInfo&quot;, new Users())</code>.  Hope it helps."}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":11,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697469861,"creation_date":1697356260,"answer_id":77295720,"question_id":77285015,"body_markdown":"I have found the issue. There are multiple issues I have seen.\r\n\r\nDon&#39;t access **logic.html** directly by keep it into `/static`. It doesn&#39;t work in that way.\r\n\r\n---\r\n\r\n**Note:** By default, **Thymeleaf** checks for `.html` files in the `/templates` directory only.\r\n\r\n---\r\n\r\nFirst of all, your **logic.html** should be in the `/templates` directory and not in the `/static` directory.\r\n\r\n\r\nOn the other hand, you were trying to tell thymeleaf that you will populate/bind values in an object `userInfo` in the **logic.html** but where did you get that object. You didn&#39;t create and pass that object anywhere.\r\n\r\nSo, you will need to create and pass that **Users** (`userInfo`) object from controller to that page.\r\n\r\nProject Structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**pom.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo-thymleaf&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo-thymleaf&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nI have fixed your **login.html**:\r\n\r\n\r\n    &lt;!--&lt;div th:if=&quot;${param.error}&quot;&gt;Invalid username and/or password.&lt;/div&gt;--&gt;\r\n    &lt;form th:action=&quot;@{/validateLogin}&quot; method=&quot;post&quot; th:object=&quot;${userInfo}&quot; class=&quot;row g-4&quot;&gt;\r\n       &lt;div class=&quot;col-12&quot;&gt;\r\n          &lt;label&gt;Username&lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\r\n          &lt;div class=&quot;input-group&quot;&gt;\r\n             &lt;div class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;bi bi-person-fill&quot;&gt;&lt;/i&gt;&lt;/div&gt;\r\n             &lt;label&gt;\r\n             &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Username&quot; th:field=&quot;*{username}&quot;&gt;\r\n             &lt;/label&gt;\r\n          &lt;/div&gt;\r\n       &lt;/div&gt;\r\n       &lt;div class=&quot;col-12&quot;&gt;\r\n          &lt;label&gt;Password&lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\r\n          &lt;div class=&quot;input-group&quot;&gt;\r\n             &lt;div class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;bi bi-lock-fill&quot;&gt;&lt;/i&gt;&lt;/div&gt;\r\n             &lt;label&gt;\r\n             &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Password&quot; th:field=&quot;*{password}&quot;&gt;\r\n             &lt;/label&gt;\r\n          &lt;/div&gt;\r\n       &lt;/div&gt;\r\n       &lt;div class=&quot;col-sm-6&quot;&gt;\r\n          &lt;div class=&quot;form-check&quot;&gt;\r\n             &lt;input class=&quot;form-check-input&quot; type=&quot;checkbox&quot; id=&quot;inlineFormCheck&quot;&gt;\r\n             &lt;label class=&quot;form-check-label&quot; for=&quot;inlineFormCheck&quot;&gt;Remember me&lt;/label&gt;\r\n          &lt;/div&gt;\r\n       &lt;/div&gt;\r\n       &lt;div class=&quot;col-sm-6&quot;&gt;\r\n          &lt;a href=&quot;#&quot; class=&quot;float-end text-primary&quot;&gt;Forgot Password?&lt;/a&gt;\r\n       &lt;/div&gt;\r\n       &lt;div class=&quot;col-12&quot;&gt;\r\n          &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary px-4 float-end mt-4&quot;&gt;login&lt;/button&gt;\r\n       &lt;/div&gt;\r\n    &lt;/form&gt;\r\n\r\nRemove the unnecessary `action=#` from `&lt;form&gt;` tag.\r\n\r\nI have prepared an Users class based on the info you have provided for testing.\r\n\r\n    public class Users {\r\n    \t\r\n    \tprivate String username;\r\n    \tprivate String password;\r\n    \r\n        // constructor, getter and setters\r\n    }\r\n\r\nTo show success of `/validateLogin`, I have created a **success.html** too.\r\n\r\n    &lt;body&gt;\r\n    \t&lt;p&gt;User Name: &lt;strong th:text=&quot;${userInfo.username}&quot;&gt;&lt;/strong&gt;&lt;/p&gt;\r\n    \t&lt;p&gt;Password: &lt;strong th:text=&quot;${userInfo.password}&quot;&gt;&lt;/strong&gt;&lt;/p&gt;\r\n    &lt;/body&gt;\r\n\r\nUpdate the controller to something like this:\r\n\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    \r\n    @Controller\r\n    public class AuthenticationController {\r\n    \t\r\n    \t@GetMapping(&quot;login-page&quot;)\r\n        public ModelAndView loginPage(){\r\n    \t\tModelAndView view = new ModelAndView();\r\n    \t    view.setViewName(&quot;login&quot;);\r\n    \t    view.addObject(&quot;userInfo&quot;, new Users());\r\n    \t    return view;\r\n        }\r\n    \r\n        @PostMapping(&quot;validateLogin&quot;)\r\n        public ModelAndView validateLogin(@ModelAttribute Users userInfo){\r\n           ModelAndView view = new ModelAndView();\r\n           view.setViewName(&quot;success&quot;);\r\n           view.addObject(&quot;userInfo&quot;, userInfo);\r\n           return view;\r\n        }\r\n    }\r\n\r\n---\r\n**Note:** You have to create and pass an `Users` model object/bean with no data via `ModelAndView` to the respective `login.html` file via thymeleaf before the page is parsed/opened. \r\n\r\nBasically, it was expecting a plain target model object/bean for the bean name that you have used via `th:object` in the request attribute.\r\n\r\n&gt; By definition, the `th:object` attribute is used for binding the\r\n&gt; fields of the form to a model object.\r\n\r\nIn short, the thymeleaf doesn&#39;t have any idea from where `userInfo` will come as there is no model bean/object with that name exist when you declared `th:object=&quot;${userInfo}&quot;`. \r\n\r\nWhen you passed the field values from login page, `th:object` was trying to find the bean with the name in the spring container to the bind values but it couldn&#39;t find as you didn&#39;t pass any.\r\n\r\nSo, that&#39;s why, you got this error (which you probably missed to look at).\r\n\r\n    Caused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;userInfo&#39; available as request attribute\r\n\r\nTo fix this, you will have to provide a bean initially. That&#39;s all, I can explain.\r\n\r\nOutput:\r\n\r\n    http://localhost:8080/login-page\r\n\r\n[![enter image description here][2]][2]\r\n\r\nClick on the Submit button. It will call `http://localhost:8080/validateLogin`\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThis will work.\r\n \r\nYou don&#39;t need to touch `application.properties` for thymeleaf unless you want to override default behaviour.\r\n\r\n**Update:**\r\n\r\nBy looking at your controller code [here][4], this needs a complete correction:\r\n\r\n**Change your controller code to this:**\r\n\r\n\r\n    import in.sandeep.campusconvene.model.Users;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    import org.springframework.boot.web.servlet.error.ErrorController;\r\n    import org.springframework.core.Ordered;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    import org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    /**\r\n     * The type RoutingController.\r\n     *\r\n     * @author sandeep\r\n     * @version 1.0\r\n     */\r\n    @RestController\r\n    public class RoutingController implements ErrorController {\r\n    \r\n        private static final String MAIN_APPLICATION_PATH = &quot;/&quot;;\r\n        private static final String LOGIN_VALIDATOR_PATH = &quot;/validateLogin&quot;;\r\n        private static final String ERROR_PATH = &quot;/error&quot;;\r\n    \r\n        private ModelAndView modelAndView = new ModelAndView();\r\n    \r\n        /**\r\n         * Gets Login Page.\r\n         *\r\n         * @return the Login Page\r\n         */\r\n        @RequestMapping(value = MAIN_APPLICATION_PATH, method = RequestMethod.GET)\r\n        public ModelAndView getLoginPage() {\r\n            modelAndView.setViewName(&quot;login&quot;);\r\n            modelAndView.addObject(&quot;userInfo&quot;, new Users());\r\n            return modelAndView;\r\n        }\r\n    \r\n        /**\r\n         * Handle Any Errors\r\n         *\r\n         * @return the Error Page\r\n         */\r\n        @RequestMapping(value = ERROR_PATH)\r\n        public ModelAndView handleError() {\r\n            modelAndView.setViewName(&quot;error_page&quot;);\r\n            return modelAndView;\r\n        }\r\n    \r\n        /**\r\n         * Validate Login.\r\n         *\r\n         * @param request the request\r\n         * @return the Home Page, if login is successful, else redirect to Login Page\r\n         */\r\n        @RequestMapping(value = LOGIN_VALIDATOR_PATH, method = RequestMethod.POST)\r\n        @ResponseStatus(value= HttpStatus.OK)\r\n        public ModelAndView validateLogin(@ModelAttribute Users userInfo){\r\n            modelAndView.setViewName(&quot;welcomePage&quot;); // REDIRECT TO USER HOME.\r\n            modelAndView.addObject (&quot;userInfo&quot;,userInfo);\r\n            System.out.println (&quot;ENTERED USERNAME =&gt; &quot; + userInfo.getUsername ());\r\n            System.out.println (&quot;ENTERED PASSWORD =&gt; &quot; + userInfo.getPassword ());\r\n            return modelAndView;\r\n        }\r\n    }\r\n\r\n**Fixes:**\r\n\r\n- I have removed all the `.html` word from all the `setViewName` method used. Use only the name of the html file in the `modelAndView.setViewName()`. For example: if you want to show *index.html*, then put `modelAndView.setViewName(&quot;index&quot;);`\r\n\r\n- Set `modelAndView.addObject(&quot;userInfo&quot;, new Users())` in the `/` GET endpoint;\r\n\r\n**Note:** Please create the **error_page.html** too. Your application is showing error that it&#39;s missing.\r\n\r\n**Screenshot:**\r\n\r\n**Welcome Back Page:**\r\n\r\n[![enter image description here][5]][5]\r\n\r\n**Login Page:**\r\n\r\n[![enter image description here][6]][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VgHYN.png\r\n  [2]: https://i.stack.imgur.com/GgPbv.png\r\n  [3]: https://i.stack.imgur.com/jhbzm.png\r\n  [4]: https://github.com/sndpchatterjee07/campusconvene\r\n  [5]: https://i.stack.imgur.com/ygnMa.png\r\n  [6]: https://i.stack.imgur.com/JwGwL.png","title":"org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; is not supported","body":"<p>I have found the issue. There are multiple issues I have seen.</p>\n<p>Don't access <strong>logic.html</strong> directly by keep it into <code>/static</code>. It doesn't work in that way.</p>\n<hr />\n<p><strong>Note:</strong> By default, <strong>Thymeleaf</strong> checks for <code>.html</code> files in the <code>/templates</code> directory only.</p>\n<hr />\n<p>First of all, your <strong>logic.html</strong> should be in the <code>/templates</code> directory and not in the <code>/static</code> directory.</p>\n<p>On the other hand, you were trying to tell thymeleaf that you will populate/bind values in an object <code>userInfo</code> in the <strong>logic.html</strong> but where did you get that object. You didn't create and pass that object anywhere.</p>\n<p>So, you will need to create and pass that <strong>Users</strong> (<code>userInfo</code>) object from controller to that page.</p>\n<p>Project Structure:</p>\n<p><a href=\"https://i.stack.imgur.com/VgHYN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VgHYN.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>pom.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo-thymleaf&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo-thymleaf&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I have fixed your <strong>login.html</strong>:</p>\n<pre><code>&lt;!--&lt;div th:if=&quot;${param.error}&quot;&gt;Invalid username and/or password.&lt;/div&gt;--&gt;\n&lt;form th:action=&quot;@{/validateLogin}&quot; method=&quot;post&quot; th:object=&quot;${userInfo}&quot; class=&quot;row g-4&quot;&gt;\n   &lt;div class=&quot;col-12&quot;&gt;\n      &lt;label&gt;Username&lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\n      &lt;div class=&quot;input-group&quot;&gt;\n         &lt;div class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;bi bi-person-fill&quot;&gt;&lt;/i&gt;&lt;/div&gt;\n         &lt;label&gt;\n         &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Username&quot; th:field=&quot;*{username}&quot;&gt;\n         &lt;/label&gt;\n      &lt;/div&gt;\n   &lt;/div&gt;\n   &lt;div class=&quot;col-12&quot;&gt;\n      &lt;label&gt;Password&lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\n      &lt;div class=&quot;input-group&quot;&gt;\n         &lt;div class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;bi bi-lock-fill&quot;&gt;&lt;/i&gt;&lt;/div&gt;\n         &lt;label&gt;\n         &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Password&quot; th:field=&quot;*{password}&quot;&gt;\n         &lt;/label&gt;\n      &lt;/div&gt;\n   &lt;/div&gt;\n   &lt;div class=&quot;col-sm-6&quot;&gt;\n      &lt;div class=&quot;form-check&quot;&gt;\n         &lt;input class=&quot;form-check-input&quot; type=&quot;checkbox&quot; id=&quot;inlineFormCheck&quot;&gt;\n         &lt;label class=&quot;form-check-label&quot; for=&quot;inlineFormCheck&quot;&gt;Remember me&lt;/label&gt;\n      &lt;/div&gt;\n   &lt;/div&gt;\n   &lt;div class=&quot;col-sm-6&quot;&gt;\n      &lt;a href=&quot;#&quot; class=&quot;float-end text-primary&quot;&gt;Forgot Password?&lt;/a&gt;\n   &lt;/div&gt;\n   &lt;div class=&quot;col-12&quot;&gt;\n      &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary px-4 float-end mt-4&quot;&gt;login&lt;/button&gt;\n   &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n<p>Remove the unnecessary <code>action=#</code> from <code>&lt;form&gt;</code> tag.</p>\n<p>I have prepared an Users class based on the info you have provided for testing.</p>\n<pre><code>public class Users {\n    \n    private String username;\n    private String password;\n\n    // constructor, getter and setters\n}\n</code></pre>\n<p>To show success of <code>/validateLogin</code>, I have created a <strong>success.html</strong> too.</p>\n<pre><code>&lt;body&gt;\n    &lt;p&gt;User Name: &lt;strong th:text=&quot;${userInfo.username}&quot;&gt;&lt;/strong&gt;&lt;/p&gt;\n    &lt;p&gt;Password: &lt;strong th:text=&quot;${userInfo.password}&quot;&gt;&lt;/strong&gt;&lt;/p&gt;\n&lt;/body&gt;\n</code></pre>\n<p>Update the controller to something like this:</p>\n<pre><code>import org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.servlet.ModelAndView;\n\n@Controller\npublic class AuthenticationController {\n    \n    @GetMapping(&quot;login-page&quot;)\n    public ModelAndView loginPage(){\n        ModelAndView view = new ModelAndView();\n        view.setViewName(&quot;login&quot;);\n        view.addObject(&quot;userInfo&quot;, new Users());\n        return view;\n    }\n\n    @PostMapping(&quot;validateLogin&quot;)\n    public ModelAndView validateLogin(@ModelAttribute Users userInfo){\n       ModelAndView view = new ModelAndView();\n       view.setViewName(&quot;success&quot;);\n       view.addObject(&quot;userInfo&quot;, userInfo);\n       return view;\n    }\n}\n</code></pre>\n<hr />\n<p><strong>Note:</strong> You have to create and pass an <code>Users</code> model object/bean with no data via <code>ModelAndView</code> to the respective <code>login.html</code> file via thymeleaf before the page is parsed/opened.</p>\n<p>Basically, it was expecting a plain target model object/bean for the bean name that you have used via <code>th:object</code> in the request attribute.</p>\n<blockquote>\n<p>By definition, the <code>th:object</code> attribute is used for binding the\nfields of the form to a model object.</p>\n</blockquote>\n<p>In short, the thymeleaf doesn't have any idea from where <code>userInfo</code> will come as there is no model bean/object with that name exist when you declared <code>th:object=&quot;${userInfo}&quot;</code>.</p>\n<p>When you passed the field values from login page, <code>th:object</code> was trying to find the bean with the name in the spring container to the bind values but it couldn't find as you didn't pass any.</p>\n<p>So, that's why, you got this error (which you probably missed to look at).</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'userInfo' available as request attribute\n</code></pre>\n<p>To fix this, you will have to provide a bean initially. That's all, I can explain.</p>\n<p>Output:</p>\n<pre><code>http://localhost:8080/login-page\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/GgPbv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GgPbv.png\" alt=\"enter image description here\" /></a></p>\n<p>Click on the Submit button. It will call <code>http://localhost:8080/validateLogin</code></p>\n<p><a href=\"https://i.stack.imgur.com/jhbzm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jhbzm.png\" alt=\"enter image description here\" /></a></p>\n<p>This will work.</p>\n<p>You don't need to touch <code>application.properties</code> for thymeleaf unless you want to override default behaviour.</p>\n<p><strong>Update:</strong></p>\n<p>By looking at your controller code <a href=\"https://github.com/sndpchatterjee07/campusconvene\" rel=\"nofollow noreferrer\">here</a>, this needs a complete correction:</p>\n<p><strong>Change your controller code to this:</strong></p>\n<pre><code>import in.sandeep.campusconvene.model.Users;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.boot.web.servlet.error.ErrorController;\nimport org.springframework.core.Ordered;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.servlet.ModelAndView;\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\n\nimport java.io.IOException;\n\n/**\n * The type RoutingController.\n *\n * @author sandeep\n * @version 1.0\n */\n@RestController\npublic class RoutingController implements ErrorController {\n\n    private static final String MAIN_APPLICATION_PATH = &quot;/&quot;;\n    private static final String LOGIN_VALIDATOR_PATH = &quot;/validateLogin&quot;;\n    private static final String ERROR_PATH = &quot;/error&quot;;\n\n    private ModelAndView modelAndView = new ModelAndView();\n\n    /**\n     * Gets Login Page.\n     *\n     * @return the Login Page\n     */\n    @RequestMapping(value = MAIN_APPLICATION_PATH, method = RequestMethod.GET)\n    public ModelAndView getLoginPage() {\n        modelAndView.setViewName(&quot;login&quot;);\n        modelAndView.addObject(&quot;userInfo&quot;, new Users());\n        return modelAndView;\n    }\n\n    /**\n     * Handle Any Errors\n     *\n     * @return the Error Page\n     */\n    @RequestMapping(value = ERROR_PATH)\n    public ModelAndView handleError() {\n        modelAndView.setViewName(&quot;error_page&quot;);\n        return modelAndView;\n    }\n\n    /**\n     * Validate Login.\n     *\n     * @param request the request\n     * @return the Home Page, if login is successful, else redirect to Login Page\n     */\n    @RequestMapping(value = LOGIN_VALIDATOR_PATH, method = RequestMethod.POST)\n    @ResponseStatus(value= HttpStatus.OK)\n    public ModelAndView validateLogin(@ModelAttribute Users userInfo){\n        modelAndView.setViewName(&quot;welcomePage&quot;); // REDIRECT TO USER HOME.\n        modelAndView.addObject (&quot;userInfo&quot;,userInfo);\n        System.out.println (&quot;ENTERED USERNAME =&gt; &quot; + userInfo.getUsername ());\n        System.out.println (&quot;ENTERED PASSWORD =&gt; &quot; + userInfo.getPassword ());\n        return modelAndView;\n    }\n}\n</code></pre>\n<p><strong>Fixes:</strong></p>\n<ul>\n<li><p>I have removed all the <code>.html</code> word from all the <code>setViewName</code> method used. Use only the name of the html file in the <code>modelAndView.setViewName()</code>. For example: if you want to show <em>index.html</em>, then put <code>modelAndView.setViewName(&quot;index&quot;);</code></p>\n</li>\n<li><p>Set <code>modelAndView.addObject(&quot;userInfo&quot;, new Users())</code> in the <code>/</code> GET endpoint;</p>\n</li>\n</ul>\n<p><strong>Note:</strong> Please create the <strong>error_page.html</strong> too. Your application is showing error that it's missing.</p>\n<p><strong>Screenshot:</strong></p>\n<p><strong>Welcome Back Page:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/ygnMa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ygnMa.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Login Page:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/JwGwL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JwGwL.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2348990,"reputation":3211,"user_id":2058368,"accept_rate":61,"display_name":"Sandeep Chatterjee"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77295720,"answer_count":1,"score":2,"last_activity_date":1697477819,"creation_date":1697170368,"question_id":77285015,"body_markdown":"I am working on the login module of my `Java`, `Springboot`, `React` and `Thymeleaf` application and I am encountering `org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; is not supported` when I submit the HTML login form. Not sure how to proceed. I have gone through similar posts but it did not help me resolve the issue.\r\n\r\n**Project Structure**\r\n\r\n[![Project Structure](https://i.stack.imgur.com/67KkJ.png)](https://i.stack.imgur.com/67KkJ.png)\r\n\r\n\r\n**login.html**\r\n\r\n```\r\n&lt;!--&lt;div th:if=&quot;${param.error}&quot;&gt;Invalid username and/or password.&lt;/div&gt;--&gt;\r\n&lt;form action=&quot;#&quot; th:action=&quot;@{/validateLogin}&quot; method=&quot;post&quot; th:object=&quot;${userInfo}&quot; class=&quot;row g-4&quot;&gt;\r\n   &lt;div class=&quot;col-12&quot;&gt;\r\n      &lt;label&gt;Username&lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\r\n      &lt;div class=&quot;input-group&quot;&gt;\r\n         &lt;div class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;bi bi-person-fill&quot;&gt;&lt;/i&gt;&lt;/div&gt;\r\n         &lt;label&gt;\r\n         &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Username&quot; th:field=&quot;*{username}&quot;&gt;\r\n         &lt;/label&gt;\r\n      &lt;/div&gt;\r\n   &lt;/div&gt;\r\n   &lt;div class=&quot;col-12&quot;&gt;\r\n      &lt;label&gt;Password&lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\r\n      &lt;div class=&quot;input-group&quot;&gt;\r\n         &lt;div class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;bi bi-lock-fill&quot;&gt;&lt;/i&gt;&lt;/div&gt;\r\n         &lt;label&gt;\r\n         &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Password&quot; th:field=&quot;*{password}&quot;&gt;\r\n         &lt;/label&gt;\r\n      &lt;/div&gt;\r\n   &lt;/div&gt;\r\n   &lt;div class=&quot;col-sm-6&quot;&gt;\r\n      &lt;div class=&quot;form-check&quot;&gt;\r\n         &lt;input class=&quot;form-check-input&quot; type=&quot;checkbox&quot; id=&quot;inlineFormCheck&quot;&gt;\r\n         &lt;label class=&quot;form-check-label&quot; for=&quot;inlineFormCheck&quot;&gt;Remember me&lt;/label&gt;\r\n      &lt;/div&gt;\r\n   &lt;/div&gt;\r\n   &lt;div class=&quot;col-sm-6&quot;&gt;\r\n      &lt;a href=&quot;#&quot; class=&quot;float-end text-primary&quot;&gt;Forgot Password?&lt;/a&gt;\r\n   &lt;/div&gt;\r\n   &lt;div class=&quot;col-12&quot;&gt;\r\n      &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary px-4 float-end mt-4&quot;&gt;login&lt;/button&gt;\r\n   &lt;/div&gt;\r\n&lt;/form&gt;\r\n\r\n```\r\n\r\n**AuthenticationController**\r\n\r\n```\r\nimport in.sandeep.campusconvene.model.Users;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@Controller\r\npublic class AuthenticationController {\r\n\r\n    @RequestMapping(path = &quot;/validateLogin&quot;, method = RequestMethod.POST)\r\n    public String validateLogin(@ModelAttribute Users userInfo){\r\n        return userInfo.getUsername ();\r\n    }\r\n}\r\n\r\n```\r\n\r\n**Exception Stacktrace**\r\n\r\n```\r\nWhitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nFri Oct 13 09:15:25 IST 2023\r\nThere was an unexpected error (type=Method Not Allowed, status=405).\r\nMethod &#39;POST&#39; is not supported.\r\norg.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; is not supported\r\n\tat org.springframework.web.servlet.support.WebContentGenerator.checkRequest(WebContentGenerator.java:381)\r\n\tat org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:164)\r\n\tat org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:51)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n \r\n```\r\n\r\nI am expecting to retrieve the `username` and `password` from the `login.html` and authenticate the user and route it to appropriate landing pages.\r\n\r\n\r\n\r\n\r\n**EDIT 1:**\r\n\r\nI have updated the code as below, removed the `AuthenticationController` class and created a `RoutingController` class which implements `org.springframework.boot.web.servlet.error.ErrorController` and `org.springframework.web.servlet.config.annotation.WebMvcConfigurer`.\r\n\r\n    import in.sandeep.campusconvene.model.Users;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import org.springframework.boot.web.servlet.error.ErrorController;\r\n    import org.springframework.core.Ordered;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.*;\r\n    import org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n    \r\n    @RestController\r\n    public class RoutingController implements ErrorController, WebMvcConfigurer {\r\n    \r\n        private static final String MAIN_APPLICATION_PATH = &quot;/&quot;;\r\n        private static final String LOGIN_VALIDATOR_PATH = &quot;/validateLogin&quot;;\r\n        private static final String ERROR_PATH = &quot;/error&quot;;\r\n    \r\n        @Override\r\n        public void addViewControllers(ViewControllerRegistry registry) {\r\n            registry.addViewController(MAIN_APPLICATION_PATH)\r\n                    .setViewName(&quot;forward:/login.html&quot;);\r\n            registry.setOrder(Ordered.HIGHEST_PRECEDENCE);\r\n        }\r\n    \r\n        @RequestMapping(value = ERROR_PATH)\r\n        public String handleError(HttpServletRequest request) {\r\n            Integer statusCode = (Integer) request.getAttribute(&quot;javax.servlet.error.status_code&quot;);\r\n            Exception exception = (Exception) request.getAttribute(&quot;javax.servlet.error.exception&quot;);\r\n            return String.format(&quot;&lt;html&gt;&lt;body&gt;&lt;h2&gt;Error Page&lt;/h2&gt;&lt;div&gt;Status code: &lt;b&gt;%s&lt;/b&gt;&lt;/div&gt;&quot; +\r\n                            &quot;&lt;div&gt;Exception Message: &lt;b&gt;%s&lt;/b&gt;&lt;/div&gt;&lt;body&gt;&lt;/html&gt;&quot;,\r\n                    statusCode, exception == null ? &quot;N/A&quot; : exception.getMessage());\r\n        }\r\n    \r\n        @RequestMapping(value = LOGIN_VALIDATOR_PATH, method = RequestMethod.POST)\r\n        @ResponseStatus(value= HttpStatus.OK)\r\n        public String validateLogin(@RequestBody Users users, Model model){\r\n            System.out.println (&quot;INSIDE validateLogin.....&quot;);\r\n            return &quot;LET&#39;S AUTHENTICATE&quot;;\r\n        }\r\n    }\r\n\r\n\r\n\r\nNow, when I am trying to submit the form, this is what I encounter on the browser and on the console respectively. It&#39;s not even reaching the `validateLogin` method.\r\n\r\nNeed help on how to get this sorted.\r\n\r\n[![Error Page][1]][1]\r\n\r\n\r\n    2023-10-14T12:17:15.890+05:30 DEBUG 10130 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST &quot;/&quot;, parameters={masked}\r\n    2023-10-14T12:17:15.891+05:30 DEBUG 10130 --- [nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view=&quot;forward:/login.html&quot;]\r\n    2023-10-14T12:17:15.901+05:30  WARN 10130 --- [nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; is not supported]\r\n    2023-10-14T12:17:15.901+05:30 DEBUG 10130 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED\r\n    2023-10-14T12:17:15.902+05:30 DEBUG 10130 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for POST &quot;/error&quot;, parameters={masked}\r\n    2023-10-14T12:17:15.904+05:30 DEBUG 10130 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to in.sandeep.campusconvene.controller.RoutingController#handleError(HttpServletRequest)\r\n    2023-10-14T12:17:15.927+05:30 DEBUG 10130 --- [nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using &#39;text/html&#39;, given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [text/plain, */*, application/json, application/*+json]\r\n    2023-10-14T12:17:15.928+05:30 DEBUG 10130 --- [nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [&quot;&lt;html&gt;&lt;body&gt;&lt;h2&gt;Error Page&lt;/h2&gt;&lt;div&gt;Status code: &lt;b&gt;null&lt;/b&gt;&lt;/div&gt;&lt;div&gt;Exception Message: &lt;b&gt;N/A&lt;/b&gt; (truncated)...&quot;]\r\n    2023-10-14T12:17:15.930+05:30 DEBUG 10130 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 405\r\n\r\n\r\n**EDIT 2:**\r\n\r\nWith the current version of `validateLogin` method\r\n\r\n    @RequestMapping(value = LOGIN_VALIDATOR_PATH, method = RequestMethod.POST)\r\n    @ResponseStatus(value = HttpStatus.OK)\r\n    public String validateLogin(HttpServletRequest request) {\r\n      String username = request.getParameter(&quot;username&quot;);\r\n      String password = request.getParameter(&quot;password&quot;);\r\n      return username + password;\r\n    }\r\n\r\nI am now getting a response as expected on the API Tester as well as on the console as below\r\n\r\n    2023-10-14T23:24:50.091+05:30 DEBUG 7663 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST &quot;/validateLogin&quot;, parameters={masked}\r\n    2023-10-14T23:24:50.091+05:30 DEBUG 7663 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to in.sandeep.campusconvene.controller.RoutingController#validateLogin(HttpServletRequest)\r\n    2023-10-14T23:24:50.093+05:30 DEBUG 7663 --- [nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using &#39;text/plain&#39;, given [*/*] and supported [text/plain, */*, application/json, application/*+json]\r\n    2023-10-14T23:24:50.093+05:30 DEBUG 7663 --- [nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [&quot;user1 foo&quot;]\r\n    2023-10-14T23:24:50.094+05:30 DEBUG 7663 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\r\n\r\n\r\n[![API Tester][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e3m6q.png\r\n  [2]: https://i.stack.imgur.com/KxLgR.png\r\n\r\n\r\nBut when I am trying to submit the form through the browser, I still encounter `405 METHOD_NOT_ALLOWED`\r\n\r\n\r\n    2023-10-14T23:28:30.723+05:30 DEBUG 7663 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST &quot;/&quot;, parameters={masked}\r\n    2023-10-14T23:28:30.724+05:30 DEBUG 7663 --- [io-8080-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view=&quot;forward:/login.html&quot;]\r\n    2023-10-14T23:28:30.724+05:30  WARN 7663 --- [io-8080-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; is not supported]\r\n    2023-10-14T23:28:30.724+05:30 DEBUG 7663 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED\r\n    2023-10-14T23:28:30.725+05:30 DEBUG 7663 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for POST &quot;/error&quot;, parameters={masked}\r\n    2023-10-14T23:28:30.725+05:30 DEBUG 7663 --- [io-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to in.sandeep.campusconvene.controller.RoutingController#handleError(HttpServletRequest)\r\n    2023-10-14T23:28:30.727+05:30 DEBUG 7663 --- [io-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using &#39;text/html&#39;, given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [text/plain, */*, application/json, application/*+json]\r\n    2023-10-14T23:28:30.728+05:30 DEBUG 7663 --- [io-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [&quot;&lt;html&gt;&lt;body&gt;&lt;h2&gt;Error Page&lt;/h2&gt;&lt;div&gt;Status code: &lt;b&gt;null&lt;/b&gt;&lt;/div&gt;&lt;div&gt;Exception Message: &lt;b&gt;N/A&lt;/b&gt; (truncated)...&quot;]\r\n    2023-10-14T23:28:30.729+05:30 DEBUG 7663 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 405","title":"org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;POST&#39; is not supported","body":"<p>I am working on the login module of my <code>Java</code>, <code>Springboot</code>, <code>React</code> and <code>Thymeleaf</code> application and I am encountering <code>org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported</code> when I submit the HTML login form. Not sure how to proceed. I have gone through similar posts but it did not help me resolve the issue.</p>\n<p><strong>Project Structure</strong></p>\n<p><a href=\"https://i.stack.imgur.com/67KkJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/67KkJ.png\" alt=\"Project Structure\" /></a></p>\n<p><strong>login.html</strong></p>\n<pre><code>&lt;!--&lt;div th:if=&quot;${param.error}&quot;&gt;Invalid username and/or password.&lt;/div&gt;--&gt;\n&lt;form action=&quot;#&quot; th:action=&quot;@{/validateLogin}&quot; method=&quot;post&quot; th:object=&quot;${userInfo}&quot; class=&quot;row g-4&quot;&gt;\n   &lt;div class=&quot;col-12&quot;&gt;\n      &lt;label&gt;Username&lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\n      &lt;div class=&quot;input-group&quot;&gt;\n         &lt;div class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;bi bi-person-fill&quot;&gt;&lt;/i&gt;&lt;/div&gt;\n         &lt;label&gt;\n         &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Username&quot; th:field=&quot;*{username}&quot;&gt;\n         &lt;/label&gt;\n      &lt;/div&gt;\n   &lt;/div&gt;\n   &lt;div class=&quot;col-12&quot;&gt;\n      &lt;label&gt;Password&lt;span class=&quot;text-danger&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\n      &lt;div class=&quot;input-group&quot;&gt;\n         &lt;div class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;bi bi-lock-fill&quot;&gt;&lt;/i&gt;&lt;/div&gt;\n         &lt;label&gt;\n         &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Enter Password&quot; th:field=&quot;*{password}&quot;&gt;\n         &lt;/label&gt;\n      &lt;/div&gt;\n   &lt;/div&gt;\n   &lt;div class=&quot;col-sm-6&quot;&gt;\n      &lt;div class=&quot;form-check&quot;&gt;\n         &lt;input class=&quot;form-check-input&quot; type=&quot;checkbox&quot; id=&quot;inlineFormCheck&quot;&gt;\n         &lt;label class=&quot;form-check-label&quot; for=&quot;inlineFormCheck&quot;&gt;Remember me&lt;/label&gt;\n      &lt;/div&gt;\n   &lt;/div&gt;\n   &lt;div class=&quot;col-sm-6&quot;&gt;\n      &lt;a href=&quot;#&quot; class=&quot;float-end text-primary&quot;&gt;Forgot Password?&lt;/a&gt;\n   &lt;/div&gt;\n   &lt;div class=&quot;col-12&quot;&gt;\n      &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary px-4 float-end mt-4&quot;&gt;login&lt;/button&gt;\n   &lt;/div&gt;\n&lt;/form&gt;\n\n</code></pre>\n<p><strong>AuthenticationController</strong></p>\n<pre><code>import in.sandeep.campusconvene.model.Users;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.*;\n\n@Controller\npublic class AuthenticationController {\n\n    @RequestMapping(path = &quot;/validateLogin&quot;, method = RequestMethod.POST)\n    public String validateLogin(@ModelAttribute Users userInfo){\n        return userInfo.getUsername ();\n    }\n}\n\n</code></pre>\n<p><strong>Exception Stacktrace</strong></p>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nFri Oct 13 09:15:25 IST 2023\nThere was an unexpected error (type=Method Not Allowed, status=405).\nMethod 'POST' is not supported.\norg.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported\n    at org.springframework.web.servlet.support.WebContentGenerator.checkRequest(WebContentGenerator.java:381)\n    at org.springframework.web.servlet.mvc.AbstractController.handleRequest(AbstractController.java:164)\n    at org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter.handle(SimpleControllerHandlerAdapter.java:51)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n \n</code></pre>\n<p>I am expecting to retrieve the <code>username</code> and <code>password</code> from the <code>login.html</code> and authenticate the user and route it to appropriate landing pages.</p>\n<p><strong>EDIT 1:</strong></p>\n<p>I have updated the code as below, removed the <code>AuthenticationController</code> class and created a <code>RoutingController</code> class which implements <code>org.springframework.boot.web.servlet.error.ErrorController</code> and <code>org.springframework.web.servlet.config.annotation.WebMvcConfigurer</code>.</p>\n<pre><code>import in.sandeep.campusconvene.model.Users;\nimport jakarta.servlet.http.HttpServletRequest;\nimport org.springframework.boot.web.servlet.error.ErrorController;\nimport org.springframework.core.Ordered;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@RestController\npublic class RoutingController implements ErrorController, WebMvcConfigurer {\n\n    private static final String MAIN_APPLICATION_PATH = &quot;/&quot;;\n    private static final String LOGIN_VALIDATOR_PATH = &quot;/validateLogin&quot;;\n    private static final String ERROR_PATH = &quot;/error&quot;;\n\n    @Override\n    public void addViewControllers(ViewControllerRegistry registry) {\n        registry.addViewController(MAIN_APPLICATION_PATH)\n                .setViewName(&quot;forward:/login.html&quot;);\n        registry.setOrder(Ordered.HIGHEST_PRECEDENCE);\n    }\n\n    @RequestMapping(value = ERROR_PATH)\n    public String handleError(HttpServletRequest request) {\n        Integer statusCode = (Integer) request.getAttribute(&quot;javax.servlet.error.status_code&quot;);\n        Exception exception = (Exception) request.getAttribute(&quot;javax.servlet.error.exception&quot;);\n        return String.format(&quot;&lt;html&gt;&lt;body&gt;&lt;h2&gt;Error Page&lt;/h2&gt;&lt;div&gt;Status code: &lt;b&gt;%s&lt;/b&gt;&lt;/div&gt;&quot; +\n                        &quot;&lt;div&gt;Exception Message: &lt;b&gt;%s&lt;/b&gt;&lt;/div&gt;&lt;body&gt;&lt;/html&gt;&quot;,\n                statusCode, exception == null ? &quot;N/A&quot; : exception.getMessage());\n    }\n\n    @RequestMapping(value = LOGIN_VALIDATOR_PATH, method = RequestMethod.POST)\n    @ResponseStatus(value= HttpStatus.OK)\n    public String validateLogin(@RequestBody Users users, Model model){\n        System.out.println (&quot;INSIDE validateLogin.....&quot;);\n        return &quot;LET'S AUTHENTICATE&quot;;\n    }\n}\n</code></pre>\n<p>Now, when I am trying to submit the form, this is what I encounter on the browser and on the console respectively. It's not even reaching the <code>validateLogin</code> method.</p>\n<p>Need help on how to get this sorted.</p>\n<p><a href=\"https://i.stack.imgur.com/e3m6q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e3m6q.png\" alt=\"Error Page\" /></a></p>\n<pre><code>2023-10-14T12:17:15.890+05:30 DEBUG 10130 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST &quot;/&quot;, parameters={masked}\n2023-10-14T12:17:15.891+05:30 DEBUG 10130 --- [nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view=&quot;forward:/login.html&quot;]\n2023-10-14T12:17:15.901+05:30  WARN 10130 --- [nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]\n2023-10-14T12:17:15.901+05:30 DEBUG 10130 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED\n2023-10-14T12:17:15.902+05:30 DEBUG 10130 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for POST &quot;/error&quot;, parameters={masked}\n2023-10-14T12:17:15.904+05:30 DEBUG 10130 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to in.sandeep.campusconvene.controller.RoutingController#handleError(HttpServletRequest)\n2023-10-14T12:17:15.927+05:30 DEBUG 10130 --- [nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'text/html', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [text/plain, */*, application/json, application/*+json]\n2023-10-14T12:17:15.928+05:30 DEBUG 10130 --- [nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [&quot;&lt;html&gt;&lt;body&gt;&lt;h2&gt;Error Page&lt;/h2&gt;&lt;div&gt;Status code: &lt;b&gt;null&lt;/b&gt;&lt;/div&gt;&lt;div&gt;Exception Message: &lt;b&gt;N/A&lt;/b&gt; (truncated)...&quot;]\n2023-10-14T12:17:15.930+05:30 DEBUG 10130 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 405\n</code></pre>\n<p><strong>EDIT 2:</strong></p>\n<p>With the current version of <code>validateLogin</code> method</p>\n<pre><code>@RequestMapping(value = LOGIN_VALIDATOR_PATH, method = RequestMethod.POST)\n@ResponseStatus(value = HttpStatus.OK)\npublic String validateLogin(HttpServletRequest request) {\n  String username = request.getParameter(&quot;username&quot;);\n  String password = request.getParameter(&quot;password&quot;);\n  return username + password;\n}\n</code></pre>\n<p>I am now getting a response as expected on the API Tester as well as on the console as below</p>\n<pre><code>2023-10-14T23:24:50.091+05:30 DEBUG 7663 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST &quot;/validateLogin&quot;, parameters={masked}\n2023-10-14T23:24:50.091+05:30 DEBUG 7663 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to in.sandeep.campusconvene.controller.RoutingController#validateLogin(HttpServletRequest)\n2023-10-14T23:24:50.093+05:30 DEBUG 7663 --- [nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]\n2023-10-14T23:24:50.093+05:30 DEBUG 7663 --- [nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [&quot;user1 foo&quot;]\n2023-10-14T23:24:50.094+05:30 DEBUG 7663 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/KxLgR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KxLgR.png\" alt=\"API Tester\" /></a></p>\n<p>But when I am trying to submit the form through the browser, I still encounter <code>405 METHOD_NOT_ALLOWED</code></p>\n<pre><code>2023-10-14T23:28:30.723+05:30 DEBUG 7663 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST &quot;/&quot;, parameters={masked}\n2023-10-14T23:28:30.724+05:30 DEBUG 7663 --- [io-8080-exec-10] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ParameterizableViewController [view=&quot;forward:/login.html&quot;]\n2023-10-14T23:28:30.724+05:30  WARN 7663 --- [io-8080-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]\n2023-10-14T23:28:30.724+05:30 DEBUG 7663 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED\n2023-10-14T23:28:30.725+05:30 DEBUG 7663 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for POST &quot;/error&quot;, parameters={masked}\n2023-10-14T23:28:30.725+05:30 DEBUG 7663 --- [io-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to in.sandeep.campusconvene.controller.RoutingController#handleError(HttpServletRequest)\n2023-10-14T23:28:30.727+05:30 DEBUG 7663 --- [io-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'text/html', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [text/plain, */*, application/json, application/*+json]\n2023-10-14T23:28:30.728+05:30 DEBUG 7663 --- [io-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [&quot;&lt;html&gt;&lt;body&gt;&lt;h2&gt;Error Page&lt;/h2&gt;&lt;div&gt;Status code: &lt;b&gt;null&lt;/b&gt;&lt;/div&gt;&lt;div&gt;Exception Message: &lt;b&gt;N/A&lt;/b&gt; (truncated)...&quot;]\n2023-10-14T23:28:30.729+05:30 DEBUG 7663 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 405\n</code></pre>\n"},{"tags":["java","android","xml","listview"],"answers":[{"comments":[{"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"score":4,"creation_date":1455896711,"post_id":20177019,"comment_id":58709394,"body_markdown":"setText(int resId) doesn&#39;t even have javadoc attached to it. They should really have given that one a separate name -- obviously a common misuse here.\n\nSo, specifying the resId sets a TextView&#39;s text to be the text of another resource?","body":"setText(int resId) doesn&#39;t even have javadoc attached to it. They should really have given that one a separate name -- obviously a common misuse here.  So, specifying the resId sets a TextView&#39;s text to be the text of another resource?"},{"owner":{"account_id":1941168,"reputation":648,"user_id":1747356,"accept_rate":83,"display_name":"Jitendra Sawant"},"score":2,"creation_date":1594219986,"post_id":20177019,"comment_id":111051387,"body_markdown":"I already know this, but I always forget this and always end up on this answer","body":"I already know this, but I always forget this and always end up on this answer"}],"tags":[],"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"comment_count":2,"down_vote_count":1,"up_vote_count":498,"is_accepted":true,"score":497,"last_activity_date":1385311598,"creation_date":1385311088,"answer_id":20177019,"question_id":20177003,"body_markdown":"Change\r\n\r\n    dateTime.setText(app.getTotalDl());\r\n\r\nTo\r\n\r\n    dateTime.setText(String.valueOf(app.getTotalDl()));\r\n\r\nThere are different versions of `setText` - one takes a String and one takes an int resource id. If you pass it an integer it will try to look for the corresponding string resource id - which it can&#39;t find, which is your error.\r\n\r\nI guess `app.getTotalDl()` returns an int. You need to specifically tell `setText` to set it to the String value of this int.\r\n\r\n[setText (int resid)][1] vs [ setText (CharSequence text)][2]\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/widget/TextView.html#setText%28int%29\r\n  [2]: http://developer.android.com/reference/android/widget/TextView.html#setText%28java.lang.CharSequence%29","title":"android.content.res.Resources$NotFoundException: String resource ID #0x0","body":"<p>Change</p>\n\n<pre><code>dateTime.setText(app.getTotalDl());\n</code></pre>\n\n<p>To</p>\n\n<pre><code>dateTime.setText(String.valueOf(app.getTotalDl()));\n</code></pre>\n\n<p>There are different versions of <code>setText</code> - one takes a String and one takes an int resource id. If you pass it an integer it will try to look for the corresponding string resource id - which it can't find, which is your error.</p>\n\n<p>I guess <code>app.getTotalDl()</code> returns an int. You need to specifically tell <code>setText</code> to set it to the String value of this int.</p>\n\n<p><a href=\"http://developer.android.com/reference/android/widget/TextView.html#setText%28int%29\">setText (int resid)</a> vs <a href=\"http://developer.android.com/reference/android/widget/TextView.html#setText%28java.lang.CharSequence%29\"> setText (CharSequence text)</a></p>\n"},{"comments":[{"owner":{"account_id":5120385,"reputation":581,"user_id":4104167,"display_name":"amin"},"score":0,"creation_date":1501311318,"post_id":39305183,"comment_id":77733516,"body_markdown":"It is work, But I think It is not suitable way.  @KenWolf answer is The correct and Professional way.","body":"It is work, But I think It is not suitable way.  @KenWolf answer is The correct and Professional way."}],"tags":[],"owner":{"account_id":7907921,"reputation":1533,"user_id":5972828,"accept_rate":40,"display_name":"Soni Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1472899945,"creation_date":1472893581,"answer_id":39305183,"question_id":20177003,"body_markdown":"Replace\r\n\r\n    dateTime.setText(app.getTotalDl());\r\n\r\nWith\r\n\r\n    dateTime.setText(&quot;&quot;+app.getTotalDl());","title":"android.content.res.Resources$NotFoundException: String resource ID #0x0","body":"<p>Replace</p>\n\n<pre><code>dateTime.setText(app.getTotalDl());\n</code></pre>\n\n<p>With</p>\n\n<pre><code>dateTime.setText(\"\"+app.getTotalDl());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10530972,"reputation":11,"user_id":7760327,"display_name":"Shayona Consultant"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490365331,"creation_date":1490360194,"answer_id":43000108,"question_id":20177003,"body_markdown":"When you try to set text in `Edittext` or `textview` you\r\nshould pass only String format.\r\n\r\n    dateTime.setText(app.getTotalDl());\r\n\r\nto\r\n\r\n    dateTime.setText(String.valueOf(app.getTotalDl()));","title":"android.content.res.Resources$NotFoundException: String resource ID #0x0","body":"<p>When you try to set text in <code>Edittext</code> or <code>textview</code> you\nshould pass only String format.</p>\n\n<pre><code>dateTime.setText(app.getTotalDl());\n</code></pre>\n\n<p>to</p>\n\n<pre><code>dateTime.setText(String.valueOf(app.getTotalDl()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5539585,"reputation":6127,"user_id":5710014,"accept_rate":37,"display_name":"blackHawk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514804194,"creation_date":1514804194,"answer_id":48049073,"question_id":20177003,"body_markdown":"The evaluated value for settext was integer so it went to see a resource attached to it but it was not found, you wanted to set text so it should be string so convert integer into string by attaching `.toStringe`  or `String.valueOf(int)` will solve your problem!","title":"android.content.res.Resources$NotFoundException: String resource ID #0x0","body":"<p>The evaluated value for settext was integer so it went to see a resource attached to it but it was not found, you wanted to set text so it should be string so convert integer into string by attaching <code>.toStringe</code>  or <code>String.valueOf(int)</code> will solve your problem!</p>\n"},{"tags":[],"owner":{"account_id":15673812,"reputation":701,"user_id":11309536,"display_name":"Om Prakash Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571153295,"creation_date":1567678564,"answer_id":57803255,"question_id":20177003,"body_markdown":"You can do it. this is a easy way.\r\n\r\n \r\n\r\n    txtTopicNo.setText(10+&quot;&quot;);","title":"android.content.res.Resources$NotFoundException: String resource ID #0x0","body":"<p>You can do it. this is a easy way.</p>\n\n<pre><code>txtTopicNo.setText(10+\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14943891,"reputation":1727,"user_id":10789722,"display_name":"MEGHA RAMOLIYA"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570183772,"creation_date":1570181601,"answer_id":58233662,"question_id":20177003,"body_markdown":"If we get the value as `int` and we set it to `String`, the error occurs. PFB my solution,\r\n    \r\n    Textview = tv_property_count;\r\n    int property_id;\r\n    tv_property_count.setText(String.valueOf(property_id));","title":"android.content.res.Resources$NotFoundException: String resource ID #0x0","body":"<p>If we get the value as <code>int</code> and we set it to <code>String</code>, the error occurs. PFB my solution,</p>\n\n<pre><code>Textview = tv_property_count;\nint property_id;\ntv_property_count.setText(String.valueOf(property_id));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5318793,"reputation":703,"user_id":4242794,"accept_rate":60,"display_name":"S Kranthi Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578983821,"creation_date":1578983821,"answer_id":59728623,"question_id":20177003,"body_markdown":"if you get the values in int you have to use string for that it is throwing the error\r\n\r\nbefore\r\n\r\n      holder.villageName.setText(villageModelList.get(position).getVillageName());\r\n        holder.villageCount.setText(villageModelList.get(position).getPeopleCount());\r\n        holder.peopleCount.setText(villageModelList.get(position).getPeopleCount());\r\n\r\nafter\r\n\r\n      holder.villageName.setText(villageModelList.get(position).getVillageName());\r\n        holder.villageCount.setText(String.valueOf(villageModelList.get(position).getPeopleCount()));\r\n        holder.peopleCount.setText(String.valueOf(villageModelList.get(position).getPeopleCount()));\r\n\r\n\r\nyou can solve the error by adding the **String.valueOf**","title":"android.content.res.Resources$NotFoundException: String resource ID #0x0","body":"<p>if you get the values in int you have to use string for that it is throwing the error</p>\n\n<p>before</p>\n\n<pre><code>  holder.villageName.setText(villageModelList.get(position).getVillageName());\n    holder.villageCount.setText(villageModelList.get(position).getPeopleCount());\n    holder.peopleCount.setText(villageModelList.get(position).getPeopleCount());\n</code></pre>\n\n<p>after</p>\n\n<pre><code>  holder.villageName.setText(villageModelList.get(position).getVillageName());\n    holder.villageCount.setText(String.valueOf(villageModelList.get(position).getPeopleCount()));\n    holder.peopleCount.setText(String.valueOf(villageModelList.get(position).getPeopleCount()));\n</code></pre>\n\n<p>you can solve the error by adding the <strong>String.valueOf</strong></p>\n"},{"tags":[],"owner":{"account_id":19939560,"reputation":217,"user_id":14611548,"display_name":"Ronnie"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629192073,"creation_date":1629191601,"answer_id":68814708,"question_id":20177003,"body_markdown":"If you are using Kotlin\r\n```\r\ndateTime.setText(\r\n    app.getTotalDl().toString()\r\n)\r\n```\r\nIf the problem persists and you are using `data binding` in case, please recheck your `android:text` attribute.","title":"android.content.res.Resources$NotFoundException: String resource ID #0x0","body":"<p>If you are using Kotlin</p>\n<pre><code>dateTime.setText(\n    app.getTotalDl().toString()\n)\n</code></pre>\n<p>If the problem persists and you are using <code>data binding</code> in case, please recheck your <code>android:text</code> attribute.</p>\n"},{"tags":[],"owner":{"account_id":24253117,"reputation":1,"user_id":18203903,"display_name":"Spineli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697477077,"creation_date":1697477077,"answer_id":77303866,"question_id":20177003,"body_markdown":"You can use\r\n\r\n    dateTime.setText(String.valueOf(app.getTotalDl()));\r\n\r\nor \r\n\r\n    dateTime.setText(app.getTotalDl() + &quot;&quot;);\r\n\r\nWhen the data is not String","title":"android.content.res.Resources$NotFoundException: String resource ID #0x0","body":"<p>You can use</p>\n<pre><code>dateTime.setText(String.valueOf(app.getTotalDl()));\n</code></pre>\n<p>or</p>\n<pre><code>dateTime.setText(app.getTotalDl() + &quot;&quot;);\n</code></pre>\n<p>When the data is not String</p>\n"}],"owner":{"account_id":3439296,"reputation":2340,"user_id":2881604,"accept_rate":52,"display_name":"user2881604"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139735,"favorite_count":0,"down_vote_count":0,"up_vote_count":173,"accepted_answer_id":20177019,"answer_count":9,"score":173,"last_activity_date":1697477077,"creation_date":1385311013,"question_id":20177003,"body_markdown":"I&#39;m developing an Android app which reads data from MySQL database and I faced this error. I have this XML layout:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; \r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; \r\n    android:layout_width=&quot;match_parent&quot; \r\n    android:layout_height=&quot;match_parent&quot; \r\n    android:orientation=&quot;vertical&quot; &gt; \r\n    \r\n           \t        \r\n            &lt;TextView android:id=&quot;@+id/wardNumber&quot; \r\n\t            android:layout_width=&quot;wrap_content&quot; \r\n\t            android:layout_height=&quot;wrap_content&quot; \r\n\t          \tandroid:layout_marginLeft=&quot;3dp&quot; \r\n\t            android:text=&quot;Ward Number&quot; \r\n\t            android:textSize=&quot;22dp&quot;/&gt; \r\n            \r\n                           \r\n            &lt;TextView android:id=&quot;@+id/dateTime&quot; \r\n                android:layout_width=&quot;wrap_content&quot; \r\n                android:layout_height=&quot;wrap_content&quot; \r\n                android:layout_below=&quot;@id/wardNumber&quot; \r\n                android:layout_alignParentRight=&quot;true&quot; \r\n                android:layout_marginRight=&quot;3dp&quot; \r\n                android:text=&quot;Date-Time&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/name&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_alignBaseline=&quot;@+id/dateTime&quot;\r\n                android:layout_alignBottom=&quot;@+id/dateTime&quot;\r\n                android:layout_alignLeft=&quot;@+id/wardNumber&quot;\r\n                android:layout_marginLeft=&quot;3dp&quot; \r\n                android:text=&quot;Name&quot; /&gt;\r\n                \r\n    &lt;/RelativeLayout&gt; \r\n\r\n\r\nAnd this is the my Java file:\r\n\r\n\r\n    \r\n    public ApplicationAdapter(Context context, List&lt;Application&gt; items) {\r\n        super(context, R.layout.app_custom_list, items);\r\n        this.items = items;\r\n    }\r\n    \r\n    @Override\r\n    public int getCount() {\r\n        return items.size();\r\n    }\r\n    \r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        View v = convertView;\r\n        \r\n        if(v == null) {\r\n            LayoutInflater li = LayoutInflater.from(getContext());\r\n            v = li.inflate(R.layout.app_custom_list, null);            \r\n        }\r\n        \r\n        Application app = items.get(position);\r\n        \r\n        if(app != null) {\r\n          //  ImageView icon = (ImageView)v.findViewById(R.id.appIcon);\r\n            TextView wardNumber = (TextView)v.findViewById(R.id.wardNumber);\r\n            TextView name = (TextView)v.findViewById(R.id.name);\r\n          //  LinearLayout ratingCntr = (LinearLayout)v.findViewById(R.id.ratingCntr);\r\n            TextView dateTime = (TextView)v.findViewById(R.id.dateTime);\r\n            \r\n      //      if(icon != null) {\r\n      //          Resources res = getContext().getResources();\r\n       //         String sIcon = &quot;com.sj.jsondemo:drawable/&quot; + app.getIcon();\r\n       //         icon.setImageDrawable(res.getDrawable(res.getIdentifier(sIcon, null, null)));\r\n       //     }\r\n            \r\n            if(wardNumber != null) wardNumber.setText(app.getTitle());\r\n            \r\n            if(name != null) name.setText(app.getTitle());\r\n            \r\n            if(dateTime != null) {\r\n            \tdateTime.setText(app.getTotalDl());\r\n              //  NumberFormat nf = NumberFormat.getNumberInstance();\r\n              //  dateTime.setText(nf.format(app.getTotalDl())+&quot; dl&quot;);            \r\n            }\r\n            \r\n           \r\n        }\r\n        \r\n        return v;\r\n    }\r\n    }\r\n\r\n\r\nWhen this Activity is called, I receive this error message:\r\n\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251):  FATAL EXCEPTION: main\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): android.content.res.Resources$NotFoundException: String resource ID #0x0\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.content.res.Resources.getText(Resources.java:201)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.widget.TextView.setText(TextView.java:2863)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat com.sj.jsondemo.Appl icationAdapter.getView(ApplicationAdapter.java:53)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.widget.AbsListView.obtainView(AbsListView.java:1430)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.widget.ListView.measureHeightOfChildren(ListView.java:1216)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.widget.ListView.onMeasure(ListView.java:1127)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.view.View.measure(View.java:8313)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1017)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.widget.LinearLayout.measureHorizontal(LinearLayout.java:701)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.widget.LinearLayout.onMeasure(LinearLayout.java:311)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.view.View.measure(View.java:8313)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.widget.FrameLayout.onMeasure(FrameLayout.java:250)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.view.View.measure(View.java:8313)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.widget.LinearLayout.measureVertical(LinearLayout.java:531)\r\n    11-24 21:12:03.633: E/AndroidRuntime(1251): \tat android.widget.LinearLayout.onMeasure(LinearLayout.java:309)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.view.View.measure(View.java:8313)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat  android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.widget.FrameLayout.onMeasure(FrameLayout.java:250)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.view.View.measure(View.java:8313)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.view.ViewRoot.performTraversals(ViewRoot.java:839)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.view.ViewRoot.handleMessage(ViewRoot.java:1859)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.os.Looper.loop(Looper.java:130)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat android.app.ActivityThread.main(ActivityThread.java:3683)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat java.lang.reflect.Method.invoke(Method.java:507)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\r\n    11-24 21:12:03.633:  E/AndroidRuntime(1251): \tat dalvik.system.NativeStart.main(Native Method)\r\n    11-24 21:12:08.922: I/Process(1251): Sending signal. PID: 1251 SIG: 9\r\n\r\n\r\n\r\n\r\nI don&#39;t know how to fix this error.\r\n\r\n","title":"android.content.res.Resources$NotFoundException: String resource ID #0x0","body":"<p>I'm developing an Android app which reads data from MySQL database and I faced this error. I have this XML layout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt; \n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" \nandroid:layout_width=\"match_parent\" \nandroid:layout_height=\"match_parent\" \nandroid:orientation=\"vertical\" &gt; \n\n\n        &lt;TextView android:id=\"@+id/wardNumber\" \n            android:layout_width=\"wrap_content\" \n            android:layout_height=\"wrap_content\" \n            android:layout_marginLeft=\"3dp\" \n            android:text=\"Ward Number\" \n            android:textSize=\"22dp\"/&gt; \n\n\n        &lt;TextView android:id=\"@+id/dateTime\" \n            android:layout_width=\"wrap_content\" \n            android:layout_height=\"wrap_content\" \n            android:layout_below=\"@id/wardNumber\" \n            android:layout_alignParentRight=\"true\" \n            android:layout_marginRight=\"3dp\" \n            android:text=\"Date-Time\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/name\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_alignBaseline=\"@+id/dateTime\"\n            android:layout_alignBottom=\"@+id/dateTime\"\n            android:layout_alignLeft=\"@+id/wardNumber\"\n            android:layout_marginLeft=\"3dp\" \n            android:text=\"Name\" /&gt;\n\n&lt;/RelativeLayout&gt; \n</code></pre>\n\n<p>And this is the my Java file:</p>\n\n<pre><code>public ApplicationAdapter(Context context, List&lt;Application&gt; items) {\n    super(context, R.layout.app_custom_list, items);\n    this.items = items;\n}\n\n@Override\npublic int getCount() {\n    return items.size();\n}\n\n@Override\npublic View getView(int position, View convertView, ViewGroup parent) {\n    View v = convertView;\n\n    if(v == null) {\n        LayoutInflater li = LayoutInflater.from(getContext());\n        v = li.inflate(R.layout.app_custom_list, null);            \n    }\n\n    Application app = items.get(position);\n\n    if(app != null) {\n      //  ImageView icon = (ImageView)v.findViewById(R.id.appIcon);\n        TextView wardNumber = (TextView)v.findViewById(R.id.wardNumber);\n        TextView name = (TextView)v.findViewById(R.id.name);\n      //  LinearLayout ratingCntr = (LinearLayout)v.findViewById(R.id.ratingCntr);\n        TextView dateTime = (TextView)v.findViewById(R.id.dateTime);\n\n  //      if(icon != null) {\n  //          Resources res = getContext().getResources();\n   //         String sIcon = \"com.sj.jsondemo:drawable/\" + app.getIcon();\n   //         icon.setImageDrawable(res.getDrawable(res.getIdentifier(sIcon, null, null)));\n   //     }\n\n        if(wardNumber != null) wardNumber.setText(app.getTitle());\n\n        if(name != null) name.setText(app.getTitle());\n\n        if(dateTime != null) {\n            dateTime.setText(app.getTotalDl());\n          //  NumberFormat nf = NumberFormat.getNumberInstance();\n          //  dateTime.setText(nf.format(app.getTotalDl())+\" dl\");            \n        }\n\n\n    }\n\n    return v;\n}\n}\n</code></pre>\n\n<p>When this Activity is called, I receive this error message:</p>\n\n<pre><code>11-24 21:12:03.633:  E/AndroidRuntime(1251):  FATAL EXCEPTION: main\n11-24 21:12:03.633:  E/AndroidRuntime(1251): android.content.res.Resources$NotFoundException: String resource ID #0x0\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.content.res.Resources.getText(Resources.java:201)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.TextView.setText(TextView.java:2863)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at com.sj.jsondemo.Appl icationAdapter.getView(ApplicationAdapter.java:53)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.AbsListView.obtainView(AbsListView.java:1430)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.ListView.measureHeightOfChildren(ListView.java:1216)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.ListView.onMeasure(ListView.java:1127)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.View.measure(View.java:8313)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1017)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.LinearLayout.measureHorizontal(LinearLayout.java:701)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.LinearLayout.onMeasure(LinearLayout.java:311)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.View.measure(View.java:8313)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.FrameLayout.onMeasure(FrameLayout.java:250)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.View.measure(View.java:8313)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.LinearLayout.measureVertical(LinearLayout.java:531)\n11-24 21:12:03.633: E/AndroidRuntime(1251):     at android.widget.LinearLayout.onMeasure(LinearLayout.java:309)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.View.measure(View.java:8313)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at  android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:3138)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.widget.FrameLayout.onMeasure(FrameLayout.java:250)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.View.measure(View.java:8313)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.ViewRoot.performTraversals(ViewRoot.java:839)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.view.ViewRoot.handleMessage(ViewRoot.java:1859)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.os.Handler.dispatchMessage(Handler.java:99)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.os.Looper.loop(Looper.java:130)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at android.app.ActivityThread.main(ActivityThread.java:3683)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at java.lang.reflect.Method.invokeNative(Native Method)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at java.lang.reflect.Method.invoke(Method.java:507)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)\n11-24 21:12:03.633:  E/AndroidRuntime(1251):    at dalvik.system.NativeStart.main(Native Method)\n11-24 21:12:08.922: I/Process(1251): Sending signal. PID: 1251 SIG: 9\n</code></pre>\n\n<p>I don't know how to fix this error.</p>\n"},{"tags":["java","sftp","jsch","public-key","key-pair"],"answers":[{"comments":[{"owner":{"account_id":4263520,"reputation":613,"user_id":3487237,"accept_rate":75,"display_name":"Tony"},"score":0,"creation_date":1431477047,"post_id":30182638,"comment_id":48512641,"body_markdown":"`ssh-keyscan -t rsa localhost` produces something: # localhost SSH-2.0-OpenSSH_6.2\nlocalhost ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDfkfoFN+oakKAvx2meT90jom1oRdBevPFP/2A+tN4+","body":"<code>ssh-keyscan -t rsa localhost</code> produces something: # localhost SSH-2.0-OpenSSH_6.2 localhost ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDfkfoFN+oakKAvx2meT90jom1oRdBe&zwnj;&#8203;vPFP/2A+tN4+"},{"owner":{"account_id":329091,"reputation":996,"user_id":2654084,"display_name":"Ben Damer"},"score":0,"creation_date":1431477142,"post_id":30182638,"comment_id":48512665,"body_markdown":"In that case, your known_hosts file should contain the following line:\n`abc.com ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDfkfoFN+oakKAvx2meT90jom1oRdBevPFP/2A+tN4+`","body":"In that case, your known_hosts file should contain the following line: <code>abc.com ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDfkfoFN+oakKAvx2meT90jom1oRdBe&zwnj;&#8203;vPFP&#47;2A+tN4+</code>"}],"tags":[],"owner":{"account_id":329091,"reputation":996,"user_id":2654084,"display_name":"Ben Damer"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1431409317,"creation_date":1431409317,"answer_id":30182638,"question_id":30178936,"body_markdown":"Disabling the `StrictHostKeyChecking` option will make the connection less secure than having the option enabled, because it will let you connect to remote servers without verifying their SSH host keys. If the option is enabled, you will only be able to connect to servers which keys are known to your SSH client. \r\n\r\nYou will have to decide what that means for your specific use case - are the servers you are connecting on a private, local network or do you connect over the internet? Is this a testing or production environment? \r\n\r\nWhen in doubt, it is better to err on the side of more security. I would recommend enabling `StricktHostKeyChecking` and using the [`setKnownHosts` method][1] to provide a file which contains the remote host keys.\r\n\r\n\r\n  [1]: http://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/JSch.html#setKnownHosts(java.lang.String)","title":"JSch SFTP security with session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);","body":"<p>Disabling the <code>StrictHostKeyChecking</code> option will make the connection less secure than having the option enabled, because it will let you connect to remote servers without verifying their SSH host keys. If the option is enabled, you will only be able to connect to servers which keys are known to your SSH client. </p>\n\n<p>You will have to decide what that means for your specific use case - are the servers you are connecting on a private, local network or do you connect over the internet? Is this a testing or production environment? </p>\n\n<p>When in doubt, it is better to err on the side of more security. I would recommend enabling <code>StricktHostKeyChecking</code> and using the <a href=\"http://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/JSch.html#setKnownHosts(java.lang.String)\" rel=\"noreferrer\"><code>setKnownHosts</code> method</a> to provide a file which contains the remote host keys.</p>\n"},{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1561452092,"creation_date":1431409393,"answer_id":30182652,"question_id":30178936,"body_markdown":"Yes, it will make the connection (and the transfer) less secure. Particularly, it makes the connection open to [Man-in-the-middle attacks](https://en.wikipedia.org/wiki/Man-in-the-middle_attack).\r\n\r\nYou should never set the `StrictHostKeyChecking` to `no`, unless you do not care about security (such as when connecting within a private network).\r\n\r\nIt&#39;s not true that *&quot;Without this line, JSch does not work&quot;*. You just have to make your code accept the expected server&#39;s host key. Either via the [`setKnownHosts`](https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/JSch.html#setKnownHosts-java.lang.String-) or the [`setHostKeyRepository`](https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/JSch.html#setHostKeyRepository-com.jcraft.jsch.HostKeyRepository-) methods.\r\n\r\nFor examples, see https://stackoverflow.com/q/32852906/850848\r\n\r\n---\r\n\r\nYou can read my article on [verifying the host key](https://winscp.net/eng/docs/ssh_verifying_the_host_key) to understand its importance. It&#39;s about WinSCP SSH/SFTP client, but it&#39;s generally true for any SSH client/library.","title":"JSch SFTP security with session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);","body":"<p>Yes, it will make the connection (and the transfer) less secure. Particularly, it makes the connection open to <a href=\"https://en.wikipedia.org/wiki/Man-in-the-middle_attack\" rel=\"nofollow noreferrer\">Man-in-the-middle attacks</a>.</p>\n\n<p>You should never set the <code>StrictHostKeyChecking</code> to <code>no</code>, unless you do not care about security (such as when connecting within a private network).</p>\n\n<p>It's not true that <em>\"Without this line, JSch does not work\"</em>. You just have to make your code accept the expected server's host key. Either via the <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/JSch.html#setKnownHosts-java.lang.String-\" rel=\"nofollow noreferrer\"><code>setKnownHosts</code></a> or the <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/JSch.html#setHostKeyRepository-com.jcraft.jsch.HostKeyRepository-\" rel=\"nofollow noreferrer\"><code>setHostKeyRepository</code></a> methods.</p>\n\n<p>For examples, see <a href=\"https://stackoverflow.com/q/32852906/850848\">How to resolve Java UnknownHostKey, while using JSch SFTP library?</a></p>\n\n<hr>\n\n<p>You can read my article on <a href=\"https://winscp.net/eng/docs/ssh_verifying_the_host_key\" rel=\"nofollow noreferrer\">verifying the host key</a> to understand its importance. It's about WinSCP SSH/SFTP client, but it's generally true for any SSH client/library.</p>\n"}],"owner":{"account_id":4263520,"reputation":613,"user_id":3487237,"accept_rate":75,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17758,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":30182638,"answer_count":2,"score":7,"last_activity_date":1697476990,"creation_date":1431384816,"question_id":30178936,"body_markdown":"I use JSch with private key to FTP file \r\n\r\n```\r\njsch.addIdentity(privatekeyfile);\r\nSession session = jsch.getSession(&quot;user&quot;, &quot;example.com&quot;, 22);    \r\nsession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n```\r\nLine 3 is in question. Without this line, JSch does not work.\r\n\r\nMy question is:\r\nWill line 3 make SFTP transfer insecure?\r\n","title":"JSch SFTP security with session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);","body":"<p>I use JSch with private key to FTP file</p>\n<pre><code>jsch.addIdentity(privatekeyfile);\nSession session = jsch.getSession(&quot;user&quot;, &quot;example.com&quot;, 22);    \nsession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n</code></pre>\n<p>Line 3 is in question. Without this line, JSch does not work.</p>\n<p>My question is:\nWill line 3 make SFTP transfer insecure?</p>\n"},{"tags":["java","list","sorting","reverse","one-liner"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1697472198,"post_id":77303425,"comment_id":136281189,"body_markdown":"IIRC, the problem is that the type inference will breakdown across method invocations. I think it will work if you use `persons.sort(Comparator.&lt;Person&gt;comparing(person -&gt; person.age).reversed());`","body":"IIRC, the problem is that the type inference will breakdown across method invocations. I think it will work if you use <code>persons.sort(Comparator.&lt;Person&gt;comparing(person -&gt; person.age).reversed());</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697472462,"post_id":77303425,"comment_id":136281252,"body_markdown":"Or use a method instead of accessing the field, `persons.sort(Comparator.comparingInt(Person::getAge).reversed());`","body":"Or use a method instead of accessing the field, <code>persons.sort(Comparator.comparingInt(Person::getAge).reverse&zwnj;&#8203;d());</code>"},{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":1,"creation_date":1697472580,"post_id":77303425,"comment_id":136281266,"body_markdown":"You can also do it like this `persons.sort(Comparator.comparing((Person person) -&gt; person.age).reversed());`","body":"You can also do it like this <code>persons.sort(Comparator.comparing((Person person) -&gt; person.age).reversed());</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1697472698,"post_id":77303425,"comment_id":136281284,"body_markdown":"Forth option: `persons.sort(Collections.reverseOrder(Comparator.comparing(person -&gt; person.age)));`.","body":"Forth option: <code>persons.sort(Collections.reverseOrder(Comparator.comparing(p&zwnj;&#8203;erson -&gt; person.age)));</code>."}],"answers":[{"tags":[],"owner":{"account_id":29618416,"reputation":1,"user_id":22699990,"display_name":"bhagwan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697476808,"creation_date":1697476808,"answer_id":77303842,"question_id":77303425,"body_markdown":"One of the way using lambda\r\n \r\n`persons.sort((p1, p2) -&gt; Integer.compare(p2.age, p1.age));`\r\n","title":"Sub Type Comparator One Liner Issue","body":"<p>One of the way using lambda</p>\n<p><code>persons.sort((p1, p2) -&gt; Integer.compare(p2.age, p1.age));</code></p>\n"}],"owner":{"account_id":4822249,"reputation":389,"user_id":4598712,"display_name":"Thomas Mathew"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697476808,"creation_date":1697472073,"question_id":77303425,"body_markdown":"Why do I need a temporary variable as personAgentComparator needed here and to call reversed() on that? \r\n\r\n```\r\npublic class SubTypeComparatorIssue {\r\n\r\n  public void sortAgeFromOldToYoung(List&lt;Person&gt; persons) {\r\n    //persons.sort(Comparator.comparing(person -&gt; person.age).reversed());\r\n      Comparator&lt;Person&gt; personAgeComparator = Comparator.comparing(person -&gt; person.age);\r\n      persons.sort(personAgeComparator.reversed());\r\n  }\r\n}\r\n\r\nclass Person {\r\n  int age;\r\n}\r\n```\r\n\r\nHow do I get the sorting and reversing to with the comparator as a one-liner? I am getting an error in the lambda expression under `person.age` when currying the `reversed()` on that commented line.  If the reversed() is not added, I don&#39;t get that error even!  Hence did for now in two lines with that temporary `personAgentComparator` and called `reversed()` on it while calling the `sort()`.  \r\n\r\nBasically, how do I get a oneliner to do this whole operation?\r\n\r\nI expect a correction on this line to have it as a oneliner to get the `persons` list reverse sorted by person&#39;s age.\r\n\r\n```\r\npersons.sort(Comparator.comparing(person -&gt; person.age).reversed());\r\n```","title":"Sub Type Comparator One Liner Issue","body":"<p>Why do I need a temporary variable as personAgentComparator needed here and to call reversed() on that?</p>\n<pre><code>public class SubTypeComparatorIssue {\n\n  public void sortAgeFromOldToYoung(List&lt;Person&gt; persons) {\n    //persons.sort(Comparator.comparing(person -&gt; person.age).reversed());\n      Comparator&lt;Person&gt; personAgeComparator = Comparator.comparing(person -&gt; person.age);\n      persons.sort(personAgeComparator.reversed());\n  }\n}\n\nclass Person {\n  int age;\n}\n</code></pre>\n<p>How do I get the sorting and reversing to with the comparator as a one-liner? I am getting an error in the lambda expression under <code>person.age</code> when currying the <code>reversed()</code> on that commented line.  If the reversed() is not added, I don't get that error even!  Hence did for now in two lines with that temporary <code>personAgentComparator</code> and called <code>reversed()</code> on it while calling the <code>sort()</code>.</p>\n<p>Basically, how do I get a oneliner to do this whole operation?</p>\n<p>I expect a correction on this line to have it as a oneliner to get the <code>persons</code> list reverse sorted by person's age.</p>\n<pre><code>persons.sort(Comparator.comparing(person -&gt; person.age).reversed());\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","spring-graphql"],"answers":[{"comments":[{"owner":{"display_name":"user22143675"},"score":0,"creation_date":1687944111,"post_id":76571309,"comment_id":135006451,"body_markdown":"The only thing related to reactor I see in the output of the first command is:\n```\n[INFO] +- io.projectreactor:reactor-core:jar:3.5.5:test\n[INFO] |  \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\n```","body":"The only thing related to reactor I see in the output of the first command is: ``` [INFO] +- io.projectreactor:reactor-core:jar:3.5.5:test [INFO] |  \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile ```"},{"owner":{"display_name":"user22143675"},"score":0,"creation_date":1687945771,"post_id":76571309,"comment_id":135006822,"body_markdown":"No luck using the second command either","body":"No luck using the second command either"},{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1687966932,"post_id":76571309,"comment_id":135011589,"body_markdown":"you should see reactor-core as a dependency of spring-graphql.","body":"you should see reactor-core as a dependency of spring-graphql."}],"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687940537,"creation_date":1687940537,"answer_id":76571309,"question_id":76571133,"body_markdown":"The stacktrace shows that a required class is missing, here a type from Reactor. the `spring-graphql` project has a compile dependency on that, so your application should have it.\r\n\r\nTwo possibilities:\r\n* your build is explicitly excluding `reactor-core` from its dependencies, you can check that with `mvn dependency:tree`\r\n* the `reactor-core` dependency is corrupted in your local repository, try running `mvn dependency:purge-local-repository`.","title":"Issues while adding Spring for GraphQL to an existing Spring 3 project","body":"<p>The stacktrace shows that a required class is missing, here a type from Reactor. the <code>spring-graphql</code> project has a compile dependency on that, so your application should have it.</p>\n<p>Two possibilities:</p>\n<ul>\n<li>your build is explicitly excluding <code>reactor-core</code> from its dependencies, you can check that with <code>mvn dependency:tree</code></li>\n<li>the <code>reactor-core</code> dependency is corrupted in your local repository, try running <code>mvn dependency:purge-local-repository</code>.</li>\n</ul>\n"}],"owner":{"display_name":"user22143675"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697476568,"creation_date":1687938999,"question_id":76571133,"body_markdown":"I am trying to implement Spring for GraphQL in a existing Spring Boot 3 project. I have followed the steps in the beginners guide, however when I try to run the application, I get several errors. Part of the `pom.xml`:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-graphql-test&lt;/artifactId&gt;\r\n  &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nSecurity config:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    @Value(&quot;${password:MISSING&quot;)\r\n    private String endpointPassword;\r\n\r\n    @Autowired\r\n    public void configureGlobal(final AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.inMemoryAuthentication()\r\n                .withUser(&quot;user&quot;).password(passwordEncoder().encode(endpointPassword))\r\n                .authorities(&quot;ROLE_USER&quot;);\r\n    }\r\n\r\n    @Bean\r\n    SecurityFilterChain filterChain(final HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests()\r\n                .requestMatchers(&quot;/swagger-ui/**&quot;, &quot;/swagger-ui.html&quot;).permitAll()\r\n                .requestMatchers(&quot;/graphql&quot;, &quot;/graphiql&quot;, &quot;/vendor/**&quot;).permitAll()\r\n                .anyRequest().authenticated().and().httpBasic();\r\n\r\n        http.csrf().disable();\r\n        http.headers().xssProtection().disable();\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n}\r\n```\r\n[Stacktrace](https://pastebin.com/8NG63FHf)","title":"Issues while adding Spring for GraphQL to an existing Spring 3 project","body":"<p>I am trying to implement Spring for GraphQL in a existing Spring Boot 3 project. I have followed the steps in the beginners guide, however when I try to run the application, I get several errors. Part of the <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-graphql&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.graphql&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-graphql-test&lt;/artifactId&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Security config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    @Value(&quot;${password:MISSING&quot;)\n    private String endpointPassword;\n\n    @Autowired\n    public void configureGlobal(final AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication()\n                .withUser(&quot;user&quot;).password(passwordEncoder().encode(endpointPassword))\n                .authorities(&quot;ROLE_USER&quot;);\n    }\n\n    @Bean\n    SecurityFilterChain filterChain(final HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests()\n                .requestMatchers(&quot;/swagger-ui/**&quot;, &quot;/swagger-ui.html&quot;).permitAll()\n                .requestMatchers(&quot;/graphql&quot;, &quot;/graphiql&quot;, &quot;/vendor/**&quot;).permitAll()\n                .anyRequest().authenticated().and().httpBasic();\n\n        http.csrf().disable();\n        http.headers().xssProtection().disable();\n        return http.build();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n}\n</code></pre>\n<p><a href=\"https://pastebin.com/8NG63FHf\" rel=\"nofollow noreferrer\">Stacktrace</a></p>\n"},{"tags":["java","gwt"],"comments":[{"owner":{"account_id":1257651,"reputation":12773,"user_id":1216776,"display_name":"stark"},"score":0,"creation_date":1349031087,"post_id":12663968,"comment_id":17086983,"body_markdown":"So why isn&#39;t this code in the server package?","body":"So why isn&#39;t this code in the server package?"},{"owner":{"account_id":161761,"reputation":4953,"user_id":382783,"accept_rate":98,"display_name":"Boris B."},"score":0,"creation_date":1349031825,"post_id":12663968,"comment_id":17087172,"body_markdown":"@stark Because these classes are shared between server and client packages. I need them on both sides, but some of the methods I need only on server side, and I&#39;d like to somehow mark those methods as &quot;not compilable to JS&quot;.","body":"@stark Because these classes are shared between server and client packages. I need them on both sides, but some of the methods I need only on server side, and I&#39;d like to somehow mark those methods as &quot;not compilable to JS&quot;."},{"owner":{"account_id":1257651,"reputation":12773,"user_id":1216776,"display_name":"stark"},"score":1,"creation_date":1349036816,"post_id":12663968,"comment_id":17088427,"body_markdown":"The code for a subclass doesn&#39;t have to be in the base class","body":"The code for a subclass doesn&#39;t have to be in the base class"}],"answers":[{"comments":[{"owner":{"account_id":161761,"reputation":4953,"user_id":382783,"accept_rate":98,"display_name":"Boris B."},"score":0,"creation_date":1372964017,"post_id":12664241,"comment_id":25397582,"body_markdown":"It seems that they&#39;ve added it, check latest answer.","body":"It seems that they&#39;ve added it, check latest answer."}],"tags":[],"owner":{"account_id":173861,"reputation":388,"user_id":402834,"accept_rate":73,"display_name":"timwoj"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1349032685,"creation_date":1349032685,"answer_id":12664241,"question_id":12663968,"body_markdown":"We had some similar issues with some DTO objects in a project recently.  We ended up splitting the data away from the methods, creating a second set of classes that contained static methods for dealing with the data.  As far as I can tell, there isn&#39;t any way to annotate methods in a class to prevent gwtc from trying to convert them to javascript.","title":"GWT - Mark parts of shared code as &quot;server only&quot;","body":"<p>We had some similar issues with some DTO objects in a project recently.  We ended up splitting the data away from the methods, creating a second set of classes that contained static methods for dealing with the data.  As far as I can tell, there isn't any way to annotate methods in a class to prevent gwtc from trying to convert them to javascript.</p>\n"},{"comments":[{"owner":{"account_id":300331,"reputation":50767,"user_id":607407,"accept_rate":71,"display_name":"Tom&#225;š Zato"},"score":1,"creation_date":1554855005,"post_id":12665145,"comment_id":97901502,"body_markdown":"What you have linked is a long discussion susceptible to link rot. Is there really no particular thing worth quoting?","body":"What you have linked is a long discussion susceptible to link rot. Is there really no particular thing worth quoting?"}],"tags":[],"owner":{"account_id":435192,"reputation":40814,"user_id":821657,"accept_rate":89,"display_name":"Andrei Volgin"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1349039341,"creation_date":1349039341,"answer_id":12665145,"question_id":12663968,"body_markdown":"A detailed discussion of this issue:\r\n\r\nhttp://code.google.com/p/google-web-toolkit/issues/detail?id=3769","title":"GWT - Mark parts of shared code as &quot;server only&quot;","body":"<p>A detailed discussion of this issue:</p>\n\n<p><a href=\"http://code.google.com/p/google-web-toolkit/issues/detail?id=3769\" rel=\"nofollow\">http://code.google.com/p/google-web-toolkit/issues/detail?id=3769</a></p>\n"},{"tags":[],"owner":{"account_id":161761,"reputation":4953,"user_id":382783,"accept_rate":98,"display_name":"Boris B."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372963916,"creation_date":1372963916,"answer_id":17476643,"question_id":12663968,"body_markdown":"It seems that Google implemented it in [r11570][1].\r\n\r\n\r\n  [1]: https://code.google.com/p/google-web-toolkit/source/detail?r=11570 &quot;r11570&quot;","title":"GWT - Mark parts of shared code as &quot;server only&quot;","body":"<p>It seems that Google implemented it in <a href=\"https://code.google.com/p/google-web-toolkit/source/detail?r=11570\" rel=\"nofollow\" title=\"r11570\">r11570</a>.</p>\n"},{"tags":[],"owner":{"account_id":1377376,"reputation":467,"user_id":2391554,"display_name":"RLHawk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697476443,"creation_date":1697476443,"answer_id":77303812,"question_id":12663968,"body_markdown":"This was added in GWT 2.6. You can now use the @GwtIncompatible annotation to mark certain methods as incompatible with GWT. GWT will not try to compile these methods.","title":"GWT - Mark parts of shared code as &quot;server only&quot;","body":"<p>This was added in GWT 2.6. You can now use the @GwtIncompatible annotation to mark certain methods as incompatible with GWT. GWT will not try to compile these methods.</p>\n"}],"owner":{"account_id":161761,"reputation":4953,"user_id":382783,"accept_rate":98,"display_name":"Boris B."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1035,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":12665145,"answer_count":4,"score":3,"last_activity_date":1697476443,"creation_date":1349030745,"question_id":12663968,"body_markdown":"I have a GWT app which contains, besides traditional &quot;client&quot; and &quot;server&quot; packages, also a &quot;shared&quot; package, which contains POJO DTOs that travel back/forth through RPC. I need to create some methods in those DTOs which should exist only on server-side (i.e. they should not be compiled to JS, because they&#39;d use code which is not compile-able to JS), especially the `static()` method. \r\n\r\nIs this possible in GWT (some attribute, ifdef, ...)?\r\n\r\nBackground:\r\nI have some generic validators which require &quot;registration&quot; of the class to be validated (via a static method `register(Class&lt;T&gt;)`, and since I can&#39;t find any GWT init() method I&#39;d put the registration in static constructors of the DTOs, so when (if) the class gets loaded it registers itself for validation.","title":"GWT - Mark parts of shared code as &quot;server only&quot;","body":"<p>I have a GWT app which contains, besides traditional \"client\" and \"server\" packages, also a \"shared\" package, which contains POJO DTOs that travel back/forth through RPC. I need to create some methods in those DTOs which should exist only on server-side (i.e. they should not be compiled to JS, because they'd use code which is not compile-able to JS), especially the <code>static()</code> method. </p>\n\n<p>Is this possible in GWT (some attribute, ifdef, ...)?</p>\n\n<p>Background:\nI have some generic validators which require \"registration\" of the class to be validated (via a static method <code>register(Class&lt;T&gt;)</code>, and since I can't find any GWT init() method I'd put the registration in static constructors of the DTOs, so when (if) the class gets loaded it registers itself for validation.</p>\n"},{"tags":["java","flutter","dart","gradle","visual-studio-code"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1620417377,"post_id":67440953,"comment_id":119204220,"body_markdown":"Without knowing what exactly you configured back then, it may be challenging to find the exact setting to reconfigure. Have you taken a look at [this answer](https://stackoverflow.com/a/21212790/4216641)? Also, try to look whether VS Code has some settings to configure the JDK home for gradle. Maybe it is configured there.","body":"Without knowing what exactly you configured back then, it may be challenging to find the exact setting to reconfigure. Have you taken a look at <a href=\"https://stackoverflow.com/a/21212790/4216641\">this answer</a>? Also, try to look whether VS Code has some settings to configure the JDK home for gradle. Maybe it is configured there."},{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":1,"creation_date":1620417708,"post_id":67440953,"comment_id":119204310,"body_markdown":"Is this a windows machine? Should probably use either / slashes or \\\\ for a path","body":"Is this a windows machine? Should probably use either / slashes or \\\\ for a path"},{"owner":{"account_id":21526211,"reputation":13,"user_id":15866445,"display_name":"Jan Tomczak"},"score":0,"creation_date":1620418187,"post_id":67440953,"comment_id":119204466,"body_markdown":"so in JAVA_HOME i should use \\\\? cause previously i was using \\","body":"so in JAVA_HOME i should use \\\\? cause previously i was using \\"}],"answers":[{"comments":[{"owner":{"account_id":21526211,"reputation":13,"user_id":15866445,"display_name":"Jan Tomczak"},"score":0,"creation_date":1620570843,"post_id":67453672,"comment_id":119234545,"body_markdown":"Hi, I can&#39;t change the JDK for language server in any way.  https://imgur.com/a/vWigcg5","body":"Hi, I can&#39;t change the JDK for language server in any way.  <a href=\"https://imgur.com/a/vWigcg5\" rel=\"nofollow noreferrer\">imgur.com/a/vWigcg5</a>"},{"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1620609029,"post_id":67453672,"comment_id":119242981,"body_markdown":"So, this is the one Java extension detected. The one you want to set in your question is in D:/.  Please check if you have added the jdk installed in D:/ to PATH.","body":"So, this is the one Java extension detected. The one you want to set in your question is in D:/.  Please check if you have added the jdk installed in D:/ to PATH."}],"tags":[],"owner":{"account_id":19088616,"reputation":8294,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620525355,"creation_date":1620525355,"answer_id":67453672,"question_id":67440953,"body_markdown":"Open **Command Palette--&gt; Java: Configure Java Runtime--&gt; Java Tooling Runtime**, if your JDK is installed correctly and JAVA_HOME is added to PATH, Java extension will detect it automatically.\r\n\r\nYou can choose the one you wanted and set it as `JDK for Language Server`, which is equivalent to add the following configurations in Settings.json:\r\n\r\n    &quot;java.home&quot;: &quot;C:\\\\...\\\\AdoptOpenJDK&quot;,\r\n\r\n[![enter image description here][1]][1]\r\n\r\nDon&#39;t forget to **reload window** to make the change effective.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OszB0.png","title":"Visual Studio Code: Supplied javaHome must be a valid directory. You supplied: D:\\jdk","body":"<p>Open <strong>Command Palette--&gt; Java: Configure Java Runtime--&gt; Java Tooling Runtime</strong>, if your JDK is installed correctly and JAVA_HOME is added to PATH, Java extension will detect it automatically.</p>\n<p>You can choose the one you wanted and set it as <code>JDK for Language Server</code>, which is equivalent to add the following configurations in Settings.json:</p>\n<pre><code>&quot;java.home&quot;: &quot;C:\\\\...\\\\AdoptOpenJDK&quot;,\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/OszB0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OszB0.png\" alt=\"enter image description here\" /></a></p>\n<p>Don't forget to <strong>reload window</strong> to make the change effective.</p>\n"},{"tags":[],"owner":{"account_id":21526211,"reputation":13,"user_id":15866445,"display_name":"Jan Tomczak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620643160,"creation_date":1620643160,"answer_id":67469006,"question_id":67440953,"body_markdown":"So I fixed the problem by deleting temporal files, optimalizing storages and clearing Windows cache (also cache of VSCode). I also restarted my laptop after the process\r\n\r\n    [https://www.drivereasy.com/knowledge/how-to-clear-cache-on-windows-10/#b][1]\r\n\r\n\r\n\r\n","title":"Visual Studio Code: Supplied javaHome must be a valid directory. You supplied: D:\\jdk","body":"<p>So I fixed the problem by deleting temporal files, optimalizing storages and clearing Windows cache (also cache of VSCode). I also restarted my laptop after the process</p>\n<pre><code>[https://www.drivereasy.com/knowledge/how-to-clear-cache-on-windows-10/#b][1]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":74485,"reputation":1369,"user_id":214004,"accept_rate":75,"display_name":"David"},"score":0,"creation_date":1654804603,"post_id":71755835,"comment_id":128186091,"body_markdown":"How do you &quot;Clear[...] the cache and clean[...] the VS Code cache&quot;? When I search the command palette I see no options for that.","body":"How do you &quot;Clear[...] the cache and clean[...] the VS Code cache&quot;? When I search the command palette I see no options for that."}],"tags":[],"owner":{"account_id":5105567,"reputation":1321,"user_id":4093727,"display_name":"Michael M"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649178816,"creation_date":1649178816,"answer_id":71755835,"question_id":67440953,"body_markdown":"I also experienced a confusing issue with a Gradle project I was trying to build in Visual Studio Code.  It couldn&#39;t find the Gradle dependencies.  Thus it couldn&#39;t resolve a number of the artifacts (variables, annotations, etc.) that were unrecognized.\r\n\r\n**To fix this issue, I did the following**:\r\n\r\n 1. Set the `java.jdt.ls.java.home` property to reference the Java Home location.\r\n 2. Confirm that you have a Java Runtime of at least Java 11 set (at least for the current plugin requirements)\r\n 3. Installed the &quot;Gradle for Java&quot; extension (VS Code) from Microsoft\r\n 4. Cleared the cache and cleaned the VS Code cache.\r\n 5. Restarted VS Code.\r\n\r\nBy clearing the **VS Code cache** it re-initiated Gradle when I re-opened the project, and it was able to resolve the missing artifacts.  Those that did not resolve automatically were now recognized through code complete and the contextual tools provided by VS Code and the Gradle plugin.\r\n\r\nI would expect the tooling for Gradle would allow a re-load of it&#39;s attributes and project references, but a restart did it automatically for me.\r\n\r\n**Example of Java Settings in settings.json file:**\r\n\r\n    {\r\n      &quot;java.configuration.runtimes&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n            &quot;path&quot;: &quot;C:\\\\JAVA\\\\JAVA_1.8_..._x86_64&quot;,\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n            &quot;path&quot;: &quot;C:\\\\JAVA\\\\Java11_..._x86_64&quot;\r\n          }\r\n        ],\r\n        &quot;java.jdt.ls.java.home&quot;: &quot;C:\\\\JAVA\\\\Java11_..._x86_64&quot;\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qfrMS.png","title":"Visual Studio Code: Supplied javaHome must be a valid directory. You supplied: D:\\jdk","body":"<p>I also experienced a confusing issue with a Gradle project I was trying to build in Visual Studio Code.  It couldn't find the Gradle dependencies.  Thus it couldn't resolve a number of the artifacts (variables, annotations, etc.) that were unrecognized.</p>\n<p><strong>To fix this issue, I did the following</strong>:</p>\n<ol>\n<li>Set the <code>java.jdt.ls.java.home</code> property to reference the Java Home location.</li>\n<li>Confirm that you have a Java Runtime of at least Java 11 set (at least for the current plugin requirements)</li>\n<li>Installed the &quot;Gradle for Java&quot; extension (VS Code) from Microsoft</li>\n<li>Cleared the cache and cleaned the VS Code cache.</li>\n<li>Restarted VS Code.</li>\n</ol>\n<p>By clearing the <strong>VS Code cache</strong> it re-initiated Gradle when I re-opened the project, and it was able to resolve the missing artifacts.  Those that did not resolve automatically were now recognized through code complete and the contextual tools provided by VS Code and the Gradle plugin.</p>\n<p>I would expect the tooling for Gradle would allow a re-load of it's attributes and project references, but a restart did it automatically for me.</p>\n<p><strong>Example of Java Settings in settings.json file:</strong></p>\n<pre><code>{\n  &quot;java.configuration.runtimes&quot;: [\n      {\n        &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n        &quot;path&quot;: &quot;C:\\\\JAVA\\\\JAVA_1.8_..._x86_64&quot;,\n      },\n      {\n        &quot;name&quot;: &quot;JavaSE-11&quot;,\n        &quot;path&quot;: &quot;C:\\\\JAVA\\\\Java11_..._x86_64&quot;\n      }\n    ],\n    &quot;java.jdt.ls.java.home&quot;: &quot;C:\\\\JAVA\\\\Java11_..._x86_64&quot;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qfrMS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qfrMS.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":25850720,"reputation":1,"user_id":19584753,"display_name":"Benj&#225;min Bosk&#243;"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668150758,"creation_date":1668150758,"answer_id":74399108,"question_id":67440953,"body_markdown":"In my case the invalid `javaHome` was set in the workspace storage. I found the wrong path in one of the directories under the `c:\\Users\\&lt;username&gt;\\AppData\\Roaming\\Code\\User\\workspaceStorage\\` folder. I just simply deleted the whole directory and after it I had to reopen the project folder.","title":"Visual Studio Code: Supplied javaHome must be a valid directory. You supplied: D:\\jdk","body":"<p>In my case the invalid <code>javaHome</code> was set in the workspace storage. I found the wrong path in one of the directories under the <code>c:\\Users\\&lt;username&gt;\\AppData\\Roaming\\Code\\User\\workspaceStorage\\</code> folder. I just simply deleted the whole directory and after it I had to reopen the project folder.</p>\n"},{"tags":[],"owner":{"account_id":12061826,"reputation":624,"user_id":8820559,"display_name":"Linden X. Quan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670869821,"creation_date":1670869821,"answer_id":74775741,"question_id":67440953,"body_markdown":"For me I solved this issue by editing `android/gradle.properties` file. I added the following line.\r\n\r\n    org.gradle.java.home=/Path/To/Your/Working/Jdk/home\r\n\r\n\r\n","title":"Visual Studio Code: Supplied javaHome must be a valid directory. You supplied: D:\\jdk","body":"<p>For me I solved this issue by editing <code>android/gradle.properties</code> file. I added the following line.</p>\n<pre><code>org.gradle.java.home=/Path/To/Your/Working/Jdk/home\n</code></pre>\n"}],"owner":{"account_id":21526211,"reputation":13,"user_id":15866445,"display_name":"Jan Tomczak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10908,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1697476065,"creation_date":1620417243,"question_id":67440953,"body_markdown":"I once had a problem with Flutter and I had to download jdk. I gave it a path *D:/jdk* but then i made new partition and downloaded it again on *C:\\Program Files\\Java\\jdk-16.0.1*. Now when I&#39;m running an app in Visual Studio Code there is an error:\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nSupplied javaHome must be a valid directory. You supplied: D:\\jdk\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\nI don&#39;t know what do, I already reinstalled gradle, jdk and VSCode. Whjat I have to do to delete this path from VSCode memory? \r\n\r\n\r\nEDIT: FIXED \r\n\r\n\r\n\r\nSo I fixed the problem by deleting temporal files, optimalizing storages and clearing Windows cache (also cache of VSCode). I also restarted my laptop after the process\r\n\r\nI answered this question with a link to tutorial how to do it, there are also additional steps like doing it with some program, in my case it wasn&#39;t required. Hope it helps someone\r\n","title":"Visual Studio Code: Supplied javaHome must be a valid directory. You supplied: D:\\jdk","body":"<p>I once had a problem with Flutter and I had to download jdk. I gave it a path <em>D:/jdk</em> but then i made new partition and downloaded it again on <em>C:\\Program Files\\Java\\jdk-16.0.1</em>. Now when I'm running an app in Visual Studio Code there is an error:</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li><p>What went wrong:\nSupplied javaHome must be a valid directory. You supplied: D:\\jdk</p>\n</li>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n</ul>\n<p>I don't know what do, I already reinstalled gradle, jdk and VSCode. Whjat I have to do to delete this path from VSCode memory?</p>\n<p>EDIT: FIXED</p>\n<p>So I fixed the problem by deleting temporal files, optimalizing storages and clearing Windows cache (also cache of VSCode). I also restarted my laptop after the process</p>\n<p>I answered this question with a link to tutorial how to do it, there are also additional steps like doing it with some program, in my case it wasn't required. Hope it helps someone</p>\n"},{"tags":["java","http","tomcat","http-headers","load-balancing"],"comments":[{"owner":{"account_id":1933434,"reputation":2060,"user_id":1742350,"accept_rate":78,"display_name":"Slowcoder"},"score":0,"creation_date":1351266652,"post_id":13090082,"comment_id":17787296,"body_markdown":"I feel this is related to spoofing.  I tried to find this out in forums    but I haven&#39;t got a clear idea yet on how my issue can be resolved.","body":"I feel this is related to spoofing.  I tried to find this out in forums    but I haven&#39;t got a clear idea yet on how my issue can be resolved."}],"answers":[{"comments":[{"owner":{"account_id":1933434,"reputation":2060,"user_id":1742350,"accept_rate":78,"display_name":"Slowcoder"},"score":0,"creation_date":1351292411,"post_id":13093695,"comment_id":17797049,"body_markdown":"Thanks for your response.  The same IP is used for different domain names for both web apps (test.myapp1.com, test.myapp2.com).  So i am not able to access the IP for the second domain.  The database is common for both the servers in load balancer.  But we store some data in java static variable (ours is J2EE app) in JVM.  And this is not common to webservers.  I appreciate your help here.","body":"Thanks for your response.  The same IP is used for different domain names for both web apps (test.myapp1.com, test.myapp2.com).  So i am not able to access the IP for the second domain.  The database is common for both the servers in load balancer.  But we store some data in java static variable (ours is J2EE app) in JVM.  And this is not common to webservers.  I appreciate your help here."},{"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"score":0,"creation_date":1351325897,"post_id":13093695,"comment_id":17801747,"body_markdown":"@Slowcoder:I don&#39;t really understand your comment `database is common for both the servers in load balancer`.If you mean that both deployments in `test.myapp1.com` and `test.myapp2.com` *view* the same data then just follow my answer.If not then could you explain what you mean?","body":"@Slowcoder:I don&#39;t really understand your comment <code>database is common for both the servers in load balancer</code>.If you mean that both deployments in <code>test.myapp1.com</code> and <code>test.myapp2.com</code> <i>view</i> the same data then just follow my answer.If not then could you explain what you mean?"},{"owner":{"account_id":1933434,"reputation":2060,"user_id":1742350,"accept_rate":78,"display_name":"Slowcoder"},"score":0,"creation_date":1351539694,"post_id":13093695,"comment_id":17853096,"body_markdown":"I think I have found the solution for my problem.  But I need to test it thoroughly.  I provide the solution that i am going to try in Answers section.  I appreciate your response.","body":"I think I have found the solution for my problem.  But I need to test it thoroughly.  I provide the solution that i am going to try in Answers section.  I appreciate your response."}],"tags":[],"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1351286250,"creation_date":1351282018,"answer_id":13093695,"question_id":13090082,"body_markdown":"IMO this question is weird.  \r\nIf you have a load balancer that means that you distribute the load between 2 backend servers i.e. who deploy the same applications and which must be **consistent**, meaning that both parts must have exactly the same database (since the same client could be served from one server in one connection or the other in a next request depending also on the configuration of the load balancer).  \r\nSo in this case and since both parts *should* be in sync and the database essentially *mirrored* if you send a specific request that has a certain interpretation it does not matter which server receives it. The other server should also understand that this request came since the data are mirrored.  \r\nI.e. just make a specific update in the database and let the servers reload as soon as the database update is visible in the other server as well.  \r\nUnless you are not using a load balancer or you are not using it properly...  \r\n\r\nAnd to answer your question how to bypass the load balancer. When you use a load balancer you use either a virtual IP or a specific domain name that &quot;points&quot; to the load balancer and the load balancer redirects to an available server. So you could bypass the loadbalancer if you use directly the IP of the servers instead of the IP of the load balancer.","title":"Bypassing load balancer to specific server for different web apps","body":"<p>IMO this question is weird.<br>\nIf you have a load balancer that means that you distribute the load between 2 backend servers i.e. who deploy the same applications and which must be <strong>consistent</strong>, meaning that both parts must have exactly the same database (since the same client could be served from one server in one connection or the other in a next request depending also on the configuration of the load balancer).<br>\nSo in this case and since both parts <em>should</em> be in sync and the database essentially <em>mirrored</em> if you send a specific request that has a certain interpretation it does not matter which server receives it. The other server should also understand that this request came since the data are mirrored.<br>\nI.e. just make a specific update in the database and let the servers reload as soon as the database update is visible in the other server as well.<br>\nUnless you are not using a load balancer or you are not using it properly...  </p>\n\n<p>And to answer your question how to bypass the load balancer. When you use a load balancer you use either a virtual IP or a specific domain name that \"points\" to the load balancer and the load balancer redirects to an available server. So you could bypass the loadbalancer if you use directly the IP of the servers instead of the IP of the load balancer.</p>\n"},{"comments":[{"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"score":0,"creation_date":1351544176,"post_id":13128822,"comment_id":17854998,"body_markdown":"This way 1)You are using `SUN` specific properties i.e. your code is no longer portable to different JRE 2)You bind your solution to IPs.You will *have* to know the IPs of the specific web servers for this to work.This is totally against the concept of using a load balancer where you just need to know 1 IP or domain name, the one of the load balancer","body":"This way 1)You are using <code>SUN</code> specific properties i.e. your code is no longer portable to different JRE 2)You bind your solution to IPs.You will <i>have</i> to know the IPs of the specific web servers for this to work.This is totally against the concept of using a load balancer where you just need to know 1 IP or domain name, the one of the load balancer"},{"owner":{"account_id":1933434,"reputation":2060,"user_id":1742350,"accept_rate":78,"display_name":"Slowcoder"},"score":0,"creation_date":1351630686,"post_id":13128822,"comment_id":17884180,"body_markdown":"I agree with your first point.  About the 2nd, I am trying to make requests from one webserver to another within the network.  So I have the IP configurations set up and known to each other webservers.  But I don&#39;t expose the IP outside.  Basically it is a server to server communication in my case.","body":"I agree with your first point.  About the 2nd, I am trying to make requests from one webserver to another within the network.  So I have the IP configurations set up and known to each other webservers.  But I don&#39;t expose the IP outside.  Basically it is a server to server communication in my case."},{"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"score":0,"creation_date":1351631068,"post_id":13128822,"comment_id":17884334,"body_markdown":"First of all you shouldn&#39;t know the IPs of each of the webservers.I mean once you setup your deployment you don&#39;t need to know them.Now you are introducing a dependency to know the IPs.If you are sure about what you are doing fine.But I am not sure why don&#39;t you just update the DB with a special value and have each server (regardless how many are there and what are their IPs) restart when they see the database change?","body":"First of all you shouldn&#39;t know the IPs of each of the webservers.I mean once you setup your deployment you don&#39;t need to know them.Now you are introducing a dependency to know the IPs.If you are sure about what you are doing fine.But I am not sure why don&#39;t you just update the DB with a special value and have each server (regardless how many are there and what are their IPs) restart when they see the database change?"},{"owner":{"account_id":1933434,"reputation":2060,"user_id":1742350,"accept_rate":78,"display_name":"Slowcoder"},"score":0,"creation_date":1351633133,"post_id":13128822,"comment_id":17885069,"body_markdown":"We had to keep some values in JVM in static variables and we want to avoid the restart of the servers.  Because these values get updated atleast 2 days once and restarting the server frequently is causing some concerns.  So to dynamically refresh some data that we cannot store in the database, i am taking this approach.  I do not exactly use the IP but instead I use the server host name (different from domain name).  I keep them in a property file config so that when the IP or host name changes, I can change the properties and restart the servers once.","body":"We had to keep some values in JVM in static variables and we want to avoid the restart of the servers.  Because these values get updated atleast 2 days once and restarting the server frequently is causing some concerns.  So to dynamically refresh some data that we cannot store in the database, i am taking this approach.  I do not exactly use the IP but instead I use the server host name (different from domain name).  I keep them in a property file config so that when the IP or host name changes, I can change the properties and restart the servers once."},{"owner":{"account_id":1933434,"reputation":2060,"user_id":1742350,"accept_rate":78,"display_name":"Slowcoder"},"score":0,"creation_date":1351708212,"post_id":13128822,"comment_id":17913074,"body_markdown":"@ Cratylus - Can you suggest something better than &quot;sun.net.http.allowRestrictedHeaders&quot; property if you have ever come across this scenario before?  I would be really happy to use something that is not dependent to particular JRE.","body":"@ Cratylus - Can you suggest something better than &quot;sun.net.http.allowRestrictedHeaders&quot; property if you have ever come across this scenario before?  I would be really happy to use something that is not dependent to particular JRE."},{"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"score":0,"creation_date":1351708420,"post_id":13128822,"comment_id":17913134,"body_markdown":"I already mentioned an alternative.Updating the database with a specific value.Do you have a reason not to use this approach?","body":"I already mentioned an alternative.Updating the database with a specific value.Do you have a reason not to use this approach?"},{"owner":{"account_id":1933434,"reputation":2060,"user_id":1742350,"accept_rate":78,"display_name":"Slowcoder"},"score":0,"creation_date":1351711556,"post_id":13128822,"comment_id":17914387,"body_markdown":"We store some of the raw data (lucene index files) in each webserver.  We tried having it in a common location for all webservers but the performance was not good.  So we keep those data in each webserver and we store some related objects in JVM.  The objects are specific to each webapp deployed in the webserver and these objects need to be refreshed on demand.","body":"We store some of the raw data (lucene index files) in each webserver.  We tried having it in a common location for all webservers but the performance was not good.  So we keep those data in each webserver and we store some related objects in JVM.  The objects are specific to each webapp deployed in the webserver and these objects need to be refreshed on demand."},{"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"score":0,"creation_date":1351788968,"post_id":13128822,"comment_id":17940357,"body_markdown":"These data in each web server, aren&#39;t in sync?I.e. all servers &quot;view&quot; the same information?","body":"These data in each web server, aren&#39;t in sync?I.e. all servers &quot;view&quot; the same information?"},{"owner":{"account_id":1933434,"reputation":2060,"user_id":1742350,"accept_rate":78,"display_name":"Slowcoder"},"score":0,"creation_date":1351791540,"post_id":13128822,"comment_id":17941667,"body_markdown":"The data will be in sync for each webserver.  But we need to sync the data manually in each webserver for each webapp.","body":"The data will be in sync for each webserver.  But we need to sync the data manually in each webserver for each webapp."}],"tags":[],"owner":{"account_id":1933434,"reputation":2060,"user_id":1742350,"accept_rate":78,"display_name":"Slowcoder"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1351541179,"creation_date":1351541179,"answer_id":13128822,"question_id":13090082,"body_markdown":"Here is the solution I am going to try.  It seemes worked for a small proof of concept and i am going to try in actual application.  \r\n\r\nSolution:\r\n\r\n1. The URL should be the IP address or server host name of the webserver.  \r\nEx: http://&lt;IP-ADDRESS&gt;/\r\n\r\n2. For the HTTP request set the &quot;Host&quot; header as the actual domain name that u want to access.  In my case, it is the second webapp (test.myapp2.com) that i have deployed in my tomcat.  \r\n\r\n3. Send the HTTP request.\r\n\r\nFirst it worked when i tried with the &quot;Poster&quot; addon in firefox but it didnt work in my Java code.  It did not show any error either.  It simply ignored the &quot;Host&quot; header that I set.  The java library restricts overriding some of the Request header values and &quot;Host&quot; is one of them.  So I had to set it explicitly to accept the restricted headers.\r\n\r\nThe initial code I had is:\r\n\r\n    URL url = new URL(&quot;http://&lt;IP-ADDRESS&gt;/&quot;);\r\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n    connection.setRequestProperty(&quot;Host&quot;, &quot;test.myapp2.com&quot;);\r\n    BufferedReader rd = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n\r\nNew Fix:\r\n\r\n    String allowRestrictedHeader = System.getProperty(&quot;sun.net.http.allowRestrictedHeaders&quot;);\r\n    System.setProperty(&quot;sun.net.http.allowRestrictedHeaders&quot;, &quot;true&quot;);\r\n    try {\r\n        URL url = new URL(&quot;http://&lt;IP-ADDRESS&gt;/&quot;);\r\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n        connection.setRequestProperty(&quot;Host&quot;, &quot;test.myapp2.com&quot;);\r\n        // use connection\r\n        .\r\n        .\r\n        .\r\n    }\r\n    finally {\r\n\t\tif (allowRestrictedHeader == null) {\r\n\t\t\tSystem.clearProperty(&quot;sun.net.http.allowRestrictedHeaders&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.setProperty(&quot;sun.net.http.allowRestrictedHeaders&quot;,\r\n\t\t\t\t\tallowRestrictedHeader);\r\n\t\t}\r\n    }","title":"Bypassing load balancer to specific server for different web apps","body":"<p>Here is the solution I am going to try.  It seemes worked for a small proof of concept and i am going to try in actual application.  </p>\n\n<p>Solution:</p>\n\n<ol>\n<li><p>The URL should be the IP address or server host name of the webserver.<br>\nEx: http:///</p></li>\n<li><p>For the HTTP request set the \"Host\" header as the actual domain name that u want to access.  In my case, it is the second webapp (test.myapp2.com) that i have deployed in my tomcat.  </p></li>\n<li><p>Send the HTTP request.</p></li>\n</ol>\n\n<p>First it worked when i tried with the \"Poster\" addon in firefox but it didnt work in my Java code.  It did not show any error either.  It simply ignored the \"Host\" header that I set.  The java library restricts overriding some of the Request header values and \"Host\" is one of them.  So I had to set it explicitly to accept the restricted headers.</p>\n\n<p>The initial code I had is:</p>\n\n<pre><code>URL url = new URL(\"http://&lt;IP-ADDRESS&gt;/\");\nHttpURLConnection connection = (HttpURLConnection) url.openConnection();\nconnection.setRequestProperty(\"Host\", \"test.myapp2.com\");\nBufferedReader rd = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n</code></pre>\n\n<p>New Fix:</p>\n\n<pre><code>String allowRestrictedHeader = System.getProperty(\"sun.net.http.allowRestrictedHeaders\");\nSystem.setProperty(\"sun.net.http.allowRestrictedHeaders\", \"true\");\ntry {\n    URL url = new URL(\"http://&lt;IP-ADDRESS&gt;/\");\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n    connection.setRequestProperty(\"Host\", \"test.myapp2.com\");\n    // use connection\n    .\n    .\n    .\n}\nfinally {\n    if (allowRestrictedHeader == null) {\n        System.clearProperty(\"sun.net.http.allowRestrictedHeaders\");\n    } else {\n        System.setProperty(\"sun.net.http.allowRestrictedHeaders\",\n                allowRestrictedHeader);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1933434,"reputation":2060,"user_id":1742350,"accept_rate":78,"display_name":"Slowcoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10655,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1697476065,"creation_date":1351266122,"question_id":13090082,"body_markdown":"I have 2 webservers in load balanced environment and both webservers have 2 webapps deployed in their tomcat servers. Two different domain names are used to access these two web applications.\r\n\r\nI am struck up in a situation where I have to reload something in both webservers for both web apps separately.  So I have to a send http request to each webserver and each webapp to reload (Basically I want to bypass the load-balancer).\r\n\r\nIs there a way to add a HTTP header so that I can send my request to specific webserver at runtime for specif domain names?  Or is there any other way to achieve this?\r\n\r\nNote:  This HTTP request can be sent from java code deployed in any one of the webserver. So basically we can assume it as the communication between the webservers within the local network.","title":"Bypassing load balancer to specific server for different web apps","body":"<p>I have 2 webservers in load balanced environment and both webservers have 2 webapps deployed in their tomcat servers. Two different domain names are used to access these two web applications.</p>\n\n<p>I am struck up in a situation where I have to reload something in both webservers for both web apps separately.  So I have to a send http request to each webserver and each webapp to reload (Basically I want to bypass the load-balancer).</p>\n\n<p>Is there a way to add a HTTP header so that I can send my request to specific webserver at runtime for specif domain names?  Or is there any other way to achieve this?</p>\n\n<p>Note:  This HTTP request can be sent from java code deployed in any one of the webserver. So basically we can assume it as the communication between the webservers within the local network.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":4361066,"reputation":2144,"user_id":3558133,"display_name":"Marcinek"},"score":0,"creation_date":1453307554,"post_id":34905333,"comment_id":57546914,"body_markdown":"Which ide are you using?","body":"Which ide are you using?"},{"owner":{"account_id":4262789,"reputation":4632,"user_id":3486720,"accept_rate":36,"display_name":"Apurva Singh"},"score":0,"creation_date":1453312823,"post_id":34905333,"comment_id":57550462,"body_markdown":"using Eclipse Sir.. but I guess JVM needs to give some sort of support.. maybe some VM arg (?)","body":"using Eclipse Sir.. but I guess JVM needs to give some sort of support.. maybe some VM arg (?)"},{"owner":{"account_id":3686352,"reputation":3327,"user_id":3070062,"display_name":"Falco"},"score":0,"creation_date":1453465537,"post_id":34905333,"comment_id":57624556,"body_markdown":"If there are not too many threads in your application, you can also set a breakpoint on Thread.start() and evaluate other variables to discern if it is the right Thread being started.","body":"If there are not too many threads in your application, you can also set a breakpoint on Thread.start() and evaluate other variables to discern if it is the right Thread being started."}],"answers":[{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1454578992,"creation_date":1453308617,"answer_id":34905821,"question_id":34905333,"body_markdown":"You can use `new Throwable().getStackTrace()` to get a full stack trace. To get the `start` stack you must extend `Thread`, one of the few times it is actually necessary to do so (mostly using `Runnable` is preferred).\r\n\r\n    class C extends Thread {\r\n        StackTraceElement[] constructed;\r\n        StackTraceElement[] started;\r\n        \r\n        public C() {\r\n            constructed = new Throwable().getStackTrace();\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            // Your suuff.\r\n        }\r\n\r\n        @Override\r\n        public synchronized void start() {\r\n            started = new Throwable().getStackTrace();\r\n            super.start();\r\n        }\r\n        \r\n    }\r\n","title":"In run method, how to find from where start was called?","body":"<p>You can use <code>new Throwable().getStackTrace()</code> to get a full stack trace. To get the <code>start</code> stack you must extend <code>Thread</code>, one of the few times it is actually necessary to do so (mostly using <code>Runnable</code> is preferred).</p>\n\n<pre><code>class C extends Thread {\n    StackTraceElement[] constructed;\n    StackTraceElement[] started;\n\n    public C() {\n        constructed = new Throwable().getStackTrace();\n    }\n\n    @Override\n    public void run() {\n        // Your suuff.\n    }\n\n    @Override\n    public synchronized void start() {\n        started = new Throwable().getStackTrace();\n        super.start();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4262789,"reputation":4632,"user_id":3486720,"accept_rate":36,"display_name":"Apurva Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697476010,"creation_date":1453866495,"answer_id":35028531,"question_id":34905333,"body_markdown":"I found a crude and effective technique using Eclipse or any other IDE. Suppose you have a breakpoint in your Runnable or Callable, and thread pauses there... indeed, one can&#39;t figure out from where start was called right away... &lt;i&gt;but&lt;/i&gt;, just right click Runnable/Callable constructor and click &#39;show call hierarchy&#39;.. that&#39;s it!! You will come to know where the Runnable/Callable was constructed.. and start is called right after that!&lt;br&gt;\r\nIn Eclipse, if Runnable/Callable has no no-arg constructor, right click on class name and select &#39;show call hierarchy&#39;.. problem solved.. what a relief.","title":"In run method, how to find from where start was called?","body":"<p>I found a crude and effective technique using Eclipse or any other IDE. Suppose you have a breakpoint in your Runnable or Callable, and thread pauses there... indeed, one can't figure out from where start was called right away... <i>but</i>, just right click Runnable/Callable constructor and click 'show call hierarchy'.. that's it!! You will come to know where the Runnable/Callable was constructed.. and start is called right after that!<br>\nIn Eclipse, if Runnable/Callable has no no-arg constructor, right click on class name and select 'show call hierarchy'.. problem solved.. what a relief.</p>\n"}],"owner":{"account_id":4262789,"reputation":4632,"user_id":3486720,"accept_rate":36,"display_name":"Apurva Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1697476010,"creation_date":1453307238,"question_id":34905333,"body_markdown":"I am debugging some code. My debugger shows that the origin of code is from Thread.run(). I need to know from which part of code Thread.start() was called! Is there a way to find this out?","title":"In run method, how to find from where start was called?","body":"<p>I am debugging some code. My debugger shows that the origin of code is from Thread.run(). I need to know from which part of code Thread.start() was called! Is there a way to find this out?</p>\n"},{"tags":["java","android","kotlin","rx-java3"],"owner":{"account_id":23818504,"reputation":1,"user_id":22751021,"display_name":"RJKC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697475989,"creation_date":1697475867,"question_id":77303768,"body_markdown":"Attempting to solve an issue in a flow that requires multiple callbacks and responses from the same endpoint.\r\n\r\nFor example, there is endpoint &quot;/endpoint/action&quot;\r\n\r\nEach time I hit said endpoint I get a response, depending on that response I modify its response object and send that back to the server on the same &quot;/endpoint/action&quot;, this whole process can repeat X number of times until the response on &quot;/endpoint/action&quot; signifies that the server is NOT asking for any more details.\r\n\r\nFor Example:\r\n\r\n - App -&gt; Sends Request for &quot;/endpoint/action&quot;\r\n   \r\n - Server -&gt; Sends Response to &quot;/endpoint/action&quot; + Response code 200 +\r\n   requesting data A\r\n   \r\n - App -&gt; Sends Request for &quot;/endpoint/action&quot; including data A\r\n   \r\n - Server -&gt; Sends Response to &quot;/endpoint/action&quot; + Response code 200 +\r\n   requesting data B\r\n   \r\n - App -&gt; Sends Request for &quot;/endpoint/action&quot; including data B\r\n   \r\n - ... \r\n- ... \r\n- ... \r\n- Server -&gt; Sends Response to &quot;/endpoint/action&quot; + Response\r\n   code 302\r\n- App -&gt; Sees the 302 and breaks the loop\r\n\r\nThis loop could include any number of iterations.\r\n\r\n\r\nI&#39;ve attempted to use the &quot;repeatUntil&quot; functionality but that simply repeats the same request over and over instead of using the updated body between each request (as the requested data will change on every request as demonstrated above).\r\n\r\nI&#39;ve also looked at chaining Flatmaps, but this seems to require you to know the total number of requests that need to be made at the start, but this is all driven by the server, it may need to repeat 7 times, 8 times, 12 times, etc.\r\n\r\nUsing old fashion While loops have no context of the RxJava thread so it ends up calling the next iteration of the while loop before the request has finished so the condition for attempting another request has not yet been evaluated.\r\n\r\nAny examples/suggestion would be appreciated!\r\n\r\n","title":"RxJava: Looping Multiple Requests With Changing Parameters","body":"<p>Attempting to solve an issue in a flow that requires multiple callbacks and responses from the same endpoint.</p>\n<p>For example, there is endpoint &quot;/endpoint/action&quot;</p>\n<p>Each time I hit said endpoint I get a response, depending on that response I modify its response object and send that back to the server on the same &quot;/endpoint/action&quot;, this whole process can repeat X number of times until the response on &quot;/endpoint/action&quot; signifies that the server is NOT asking for any more details.</p>\n<p>For Example:</p>\n<ul>\n<li><p>App -&gt; Sends Request for &quot;/endpoint/action&quot;</p>\n</li>\n<li><p>Server -&gt; Sends Response to &quot;/endpoint/action&quot; + Response code 200 +\nrequesting data A</p>\n</li>\n<li><p>App -&gt; Sends Request for &quot;/endpoint/action&quot; including data A</p>\n</li>\n<li><p>Server -&gt; Sends Response to &quot;/endpoint/action&quot; + Response code 200 +\nrequesting data B</p>\n</li>\n<li><p>App -&gt; Sends Request for &quot;/endpoint/action&quot; including data B</p>\n</li>\n<li><p>...</p>\n</li>\n<li><p>...</p>\n</li>\n<li><p>...</p>\n</li>\n<li><p>Server -&gt; Sends Response to &quot;/endpoint/action&quot; + Response\ncode 302</p>\n</li>\n<li><p>App -&gt; Sees the 302 and breaks the loop</p>\n</li>\n</ul>\n<p>This loop could include any number of iterations.</p>\n<p>I've attempted to use the &quot;repeatUntil&quot; functionality but that simply repeats the same request over and over instead of using the updated body between each request (as the requested data will change on every request as demonstrated above).</p>\n<p>I've also looked at chaining Flatmaps, but this seems to require you to know the total number of requests that need to be made at the start, but this is all driven by the server, it may need to repeat 7 times, 8 times, 12 times, etc.</p>\n<p>Using old fashion While loops have no context of the RxJava thread so it ends up calling the next iteration of the while loop before the request has finished so the condition for attempting another request has not yet been evaluated.</p>\n<p>Any examples/suggestion would be appreciated!</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1697474443,"post_id":77303605,"comment_id":136281588,"body_markdown":"It means you’re seeing the default toString representation of those instances. You’d probably want to look at the docs for the interfaces used. Or check out a tutorial.","body":"It means you’re seeing the default toString representation of those instances. You’d probably want to look at the docs for the interfaces used. Or check out a tutorial."},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1697475257,"post_id":77303605,"comment_id":136281717,"body_markdown":"@DaveNewton I see. Thanks. Also, should I be using `response.setContentType(&quot;application/json&quot;);` in doGet instead of `response.setContentType(&quot;text/plain&quot;);` since they are sending JSON ?","body":"@DaveNewton I see. Thanks. Also, should I be using <code>response.setContentType(&quot;application&#47;json&quot;);</code> in doGet instead of <code>response.setContentType(&quot;text&#47;plain&quot;);</code> since they are sending JSON ?"}],"answers":[{"comments":[{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1697475972,"post_id":77303735,"comment_id":136281830,"body_markdown":"Yeah, that did print the JSON data. Thanks.  So,using `response.setContentType(&quot;application/json&quot;);` in doGet instead of `response.setContentType(&quot;text/plain&quot;);` is not needed?","body":"Yeah, that did print the JSON data. Thanks.  So,using <code>response.setContentType(&quot;application&#47;json&quot;);</code> in doGet instead of <code>response.setContentType(&quot;text&#47;plain&quot;);</code> is not needed?"},{"owner":{"account_id":26344704,"reputation":28,"user_id":20003268,"display_name":"sarah6"},"score":0,"creation_date":1697476480,"post_id":77303735,"comment_id":136281908,"body_markdown":"In your code, you used response.setContentType(&quot;text/plain&quot;);, which means the response will be treated as plain text. If you want to send JSON as the response, you should use response.setContentType(&quot;application/json&quot;); to indicate that the response will be in JSON format. :)","body":"In your code, you used response.setContentType(&quot;text/plain&quot;);, which means the response will be treated as plain text. If you want to send JSON as the response, you should use response.setContentType(&quot;application/json&quot;); to indicate that the response will be in JSON format. :)"},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1697476606,"post_id":77303735,"comment_id":136281922,"body_markdown":"And if I am using `response.setContentType(&quot;application/json&quot;); to indicate that the response will be in JSON format. ` do I still need to do exactly same thing like you did in doPost to get the JSON content out or will there be any change? Thanks again!","body":"And if I am using <code>response.setContentType(&quot;application&#47;json&quot;); to indicate that the response will be in JSON format. </code> do I still need to do exactly same thing like you did in doPost to get the JSON content out or will there be any change? Thanks again!"},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1697477604,"post_id":77303735,"comment_id":136282117,"body_markdown":"Also, how should I parse this JSON if I want to access specific data from the JSON?","body":"Also, how should I parse this JSON if I want to access specific data from the JSON?"},{"owner":{"account_id":26344704,"reputation":28,"user_id":20003268,"display_name":"sarah6"},"score":0,"creation_date":1697477743,"post_id":77303735,"comment_id":136282148,"body_markdown":"If you set the response content type to &quot;application/json&quot; in your doGet method, it indicates that the response will be in JSON format. However, the process for generating and sending the JSON response in doGet can be different from doPost. In a usual doGet, you might not receive JSON data in the request but generate JSON content to send as a response.\nMaybe this can help: https://www.baeldung.com/servlet-json-response","body":"If you set the response content type to &quot;application/json&quot; in your doGet method, it indicates that the response will be in JSON format. However, the process for generating and sending the JSON response in doGet can be different from doPost. In a usual doGet, you might not receive JSON data in the request but generate JSON content to send as a response. Maybe this can help: <a href=\"https://www.baeldung.com/servlet-json-response\" rel=\"nofollow noreferrer\">baeldung.com/servlet-json-response</a>"},{"owner":{"account_id":26344704,"reputation":28,"user_id":20003268,"display_name":"sarah6"},"score":0,"creation_date":1697477944,"post_id":77303735,"comment_id":136282191,"body_markdown":"This in your doGet might work:  JsonObject jsonObject = new JsonObject();\n    jsonObject.addProperty(&quot;key1&quot;, &quot;value1&quot;);\n    response.setContentType(&quot;application/json&quot;);\n    try (PrintWriter out = response.getWriter()) {\n        out.print(jsonObject.toString());\n    }","body":"This in your doGet might work:  JsonObject jsonObject = new JsonObject();     jsonObject.addProperty(&quot;key1&quot;, &quot;value1&quot;);     response.setContentType(&quot;application/json&quot;);     try (PrintWriter out = response.getWriter()) {         out.print(jsonObject.toString());     }"},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1697487569,"post_id":77303735,"comment_id":136283616,"body_markdown":"What package I need to import for ` JsonObject` ?","body":"What package I need to import for ` JsonObject` ?"},{"owner":{"account_id":26344704,"reputation":28,"user_id":20003268,"display_name":"sarah6"},"score":0,"creation_date":1697488509,"post_id":77303735,"comment_id":136283755,"body_markdown":"From https://mvnrepository.com/artifact/com.google.code.gson/gson  choose version which is compatible with your project :)","body":"From <a href=\"https://mvnrepository.com/artifact/com.google.code.gson/gson\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.google.code.gson/gson</a>  choose version which is compatible with your project :)"},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1697488837,"post_id":77303735,"comment_id":136283805,"body_markdown":"Thanks.I have jackson library already in my pom.xml so I am wondering if I can use that to access individua json values? All I could see with jackson is that it can convert json string to json object.","body":"Thanks.I have jackson library already in my pom.xml so I am wondering if I can use that to access individua json values? All I could see with jackson is that it can convert json string to json object."},{"owner":{"account_id":26344704,"reputation":28,"user_id":20003268,"display_name":"sarah6"},"score":1,"creation_date":1697522020,"post_id":77303735,"comment_id":136286702,"body_markdown":"Yes, you can definitely use the jackson library to access individual JSON values too.  :)","body":"Yes, you can definitely use the jackson library to access individual JSON values too.  :)"}],"tags":[],"owner":{"account_id":26344704,"reputation":28,"user_id":20003268,"display_name":"sarah6"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697475483,"creation_date":1697475483,"answer_id":77303735,"question_id":77303605,"body_markdown":"The output you&#39;re seeing in your doPost method suggests that you are printing the objects representing the HttpServletRequest and HttpServletResponse rather than the content of the request and response.\r\n\r\nIn the code you provided, these lines are printing the objects themselves:`\r\n\r\n    System.out.println(&quot;HttpServletRequest below&quot;);\r\n    System.out.println(request);\r\n    System.out.println(&quot;HttpServletResponse below&quot;);\r\n    System.out.println(response);\r\n\r\nTo get the content of the request and response (which should contain the JSON data you expect), you should access the methods and properties of the request and response objects.\r\n\r\nFor example, if you want to access the request&#39;s body (the JSON data), you can do something like this:\r\n\r\n    public void doPost(HttpServletRequest request, HttpServletResponse response)\r\n      throws ServletException, java.io.IOException {\r\n        BufferedReader reader = request.getReader();\r\n        StringBuilder jsonRequest = new StringBuilder();\r\n        String line;\r\n        while ((line = reader.readLine()) != null) {\r\n            jsonRequest.append(line);\r\n        }\r\n    \r\n        System.out.println(&quot;JSON Request:&quot;);\r\n        System.out.println(jsonRequest.toString());\r\n    }\r\n\r\nThis code reads the JSON data from the request&#39;s input stream and prints it. Maybe this can help :)","title":"Getting HttpServletRequestFilterable response in doPost","body":"<p>The output you're seeing in your doPost method suggests that you are printing the objects representing the HttpServletRequest and HttpServletResponse rather than the content of the request and response.</p>\n<p>In the code you provided, these lines are printing the objects themselves:`</p>\n<pre><code>System.out.println(&quot;HttpServletRequest below&quot;);\nSystem.out.println(request);\nSystem.out.println(&quot;HttpServletResponse below&quot;);\nSystem.out.println(response);\n</code></pre>\n<p>To get the content of the request and response (which should contain the JSON data you expect), you should access the methods and properties of the request and response objects.</p>\n<p>For example, if you want to access the request's body (the JSON data), you can do something like this:</p>\n<pre><code>public void doPost(HttpServletRequest request, HttpServletResponse response)\n  throws ServletException, java.io.IOException {\n    BufferedReader reader = request.getReader();\n    StringBuilder jsonRequest = new StringBuilder();\n    String line;\n    while ((line = reader.readLine()) != null) {\n        jsonRequest.append(line);\n    }\n\n    System.out.println(&quot;JSON Request:&quot;);\n    System.out.println(jsonRequest.toString());\n}\n</code></pre>\n<p>This code reads the JSON data from the request's input stream and prints it. Maybe this can help :)</p>\n"}],"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77303735,"answer_count":1,"score":0,"last_activity_date":1697475483,"creation_date":1697474166,"question_id":77303605,"body_markdown":"I&#39;m using [Mailgun webhooks][1] to send an email and the following servlet to capture the postback. \r\n\r\n\r\n    public class MyServlet extends HttpServlet {\r\n    \r\n      @Override\r\n    \r\n      public void doGet(HttpServletRequest request, HttpServletResponse response)\r\n    \r\n      throws ServletException, java.io.IOException {\r\n    \r\n        StringWriter stringWriter = new StringWriter();\r\n    \r\n        PrintWriter printWriter = new PrintWriter(stringWriter);\r\n    \r\n        printWriter.println(&quot;MyServlet&quot;);\r\n    \r\n        response.setContentType(&quot;text/plain&quot;);\r\n    \r\n        //response.setContentType(&quot;application/json&quot;);\r\n    \r\n        response.getOutputStream().print(stringWriter.toString());\r\n    \r\n      }\r\n    \r\n      @Override\r\n    \r\n      public void doPost(HttpServletRequest request, HttpServletResponse response)\r\n    \r\n      throws ServletException, java.io.IOException {\r\n    \r\n        System.out.println(&quot;HttpServletRequest below&quot;);\r\n    \r\n        System.out.println(request);\r\n    \r\n        System.out.println(&quot;HttpServletResponse below&quot;);\r\n    \r\n        System.out.println(response);\r\n    \r\n      }\r\n\r\n\r\nAnd in my `doPost`, I keep getting the following for my print statements:\r\n\r\n    HttpServletRequest below\r\n    org.sitemesh.webapp.contentfilter.HttpServletRequestFilterable@4439aa1f\r\n    \r\n    HttpServletResponse below\r\n    org.sitemesh.webapp.contentfilter.ContentBufferingFilter$1@4fa69476\r\n\r\n\r\n\r\nWhat does this mean? I was expecting a JSON response as they have mentioned in their documentation that they are sending JSON response.\r\n  [1]: https://documentation.mailgun.com/en/latest/api-webhooks.html","title":"Getting HttpServletRequestFilterable response in doPost","body":"<p>I'm using [Mailgun webhooks][1] to send an email and the following servlet to capture the postback.</p>\n<pre><code>public class MyServlet extends HttpServlet {\n\n  @Override\n\n  public void doGet(HttpServletRequest request, HttpServletResponse response)\n\n  throws ServletException, java.io.IOException {\n\n    StringWriter stringWriter = new StringWriter();\n\n    PrintWriter printWriter = new PrintWriter(stringWriter);\n\n    printWriter.println(&quot;MyServlet&quot;);\n\n    response.setContentType(&quot;text/plain&quot;);\n\n    //response.setContentType(&quot;application/json&quot;);\n\n    response.getOutputStream().print(stringWriter.toString());\n\n  }\n\n  @Override\n\n  public void doPost(HttpServletRequest request, HttpServletResponse response)\n\n  throws ServletException, java.io.IOException {\n\n    System.out.println(&quot;HttpServletRequest below&quot;);\n\n    System.out.println(request);\n\n    System.out.println(&quot;HttpServletResponse below&quot;);\n\n    System.out.println(response);\n\n  }\n</code></pre>\n<p>And in my <code>doPost</code>, I keep getting the following for my print statements:</p>\n<pre><code>HttpServletRequest below\norg.sitemesh.webapp.contentfilter.HttpServletRequestFilterable@4439aa1f\n\nHttpServletResponse below\norg.sitemesh.webapp.contentfilter.ContentBufferingFilter$1@4fa69476\n</code></pre>\n<p>What does this mean? I was expecting a JSON response as they have mentioned in their documentation that they are sending JSON response.\n[1]: <a href=\"https://documentation.mailgun.com/en/latest/api-webhooks.html\" rel=\"nofollow noreferrer\">https://documentation.mailgun.com/en/latest/api-webhooks.html</a></p>\n"},{"tags":["java","native"],"owner":{"account_id":29685324,"reputation":1,"user_id":22751025,"display_name":"param yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697475482,"creation_date":1697475482,"question_id":77303734,"body_markdown":"Can&#39;t find native library [LcdECW]\r\n\r\n\r\nCheck bashrc path is correct, java version is correct.\r\n\r\nFolder permission is correct\r\nLibrary path is correct \r\n\r\nMatched with other computer , where it is working .\r\n\r\nOther settings, graphics are also matched \r\n","title":"Can&#39;t find native library [LcdECW]","body":"<p>Can't find native library [LcdECW]</p>\n<p>Check bashrc path is correct, java version is correct.</p>\n<p>Folder permission is correct\nLibrary path is correct</p>\n<p>Matched with other computer , where it is working .</p>\n<p>Other settings, graphics are also matched</p>\n"},{"tags":["java","spring-boot","hibernate","e-commerce"],"comments":[{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":2,"creation_date":1697475252,"post_id":77303655,"comment_id":136281714,"body_markdown":"This is only an entity, which is a representation of your table. If you want to &quot;filter&quot; you would need to write a query to filter the data, or write a view to display the query  you want and a readonly entity/repository over that.","body":"This is only an entity, which is a representation of your table. If you want to &quot;filter&quot; you would need to write a query to filter the data, or write a view to display the query  you want and a readonly entity/repository over that."},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1697480589,"post_id":77303655,"comment_id":136282585,"body_markdown":"How you normally do queries with Spring Data JPA is like this: you write methods in a repository interface that represent the queries you want to do. See [a tutorial about Spring Data JPA](https://spring.io/guides/gs/accessing-data-jpa/) as an example.","body":"How you normally do queries with Spring Data JPA is like this: you write methods in a repository interface that represent the queries you want to do. See <a href=\"https://spring.io/guides/gs/accessing-data-jpa/\" rel=\"nofollow noreferrer\">a tutorial about Spring Data JPA</a> as an example."}],"answers":[{"comments":[{"owner":{"account_id":20860219,"reputation":1,"user_id":15322643,"display_name":"ttarikose"},"score":0,"creation_date":1697533257,"post_id":77303672,"comment_id":136288547,"body_markdown":"I have to write end-point and filter the data below:\n\nq: search query (optional)\ncategories: category ids (optional)\nbrands: brand ids (optional)\nprice1: begining price(optional)\nprice2: ending price(optional)\npage: active page number (optional, default: 0)\nsize: record count in a page (optional, default: 20) sort : sort field name (optional, default: category_id) type: sorting type (optional, default: asc)","body":"I have to write end-point and filter the data below:  q: search query (optional) categories: category ids (optional) brands: brand ids (optional) price1: begining price(optional) price2: ending price(optional) page: active page number (optional, default: 0) size: record count in a page (optional, default: 20) sort : sort field name (optional, default: category_id) type: sorting type (optional, default: asc)"}],"tags":[],"owner":{"account_id":1225328,"reputation":105,"user_id":1190988,"display_name":"ramindroid"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697474864,"creation_date":1697474864,"answer_id":77303672,"question_id":77303655,"body_markdown":"Your question is not clear. Please ask specific examples by mentioning which attribute to be used for filtering.","title":"How to filter data using Spring Boot 3","body":"<p>Your question is not clear. Please ask specific examples by mentioning which attribute to be used for filtering.</p>\n"}],"owner":{"account_id":20860219,"reputation":1,"user_id":15322643,"display_name":"ttarikose"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697474864,"creation_date":1697474689,"question_id":77303655,"body_markdown":"I am trying to build an e-commerce api using Spring Boot 3 and Hibernate 6. I am stuck with filtering Products.Java class. I could not find any kind of result on the internet etc. How can i filter some of those fields using Hibernate 6? I need a way to do it, if someone can provide me i would appreciate a lot.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;t_product&quot;)\r\npublic class Product {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\r\n\t@Column(nullable = false)\r\n\t@Size(min = 10, message = &quot;{validation.sku.size.too_short}&quot;)\r\n\t@Size(max = 100, message = &quot;{validation.sku.size.too_long}&quot;)\r\n\tprivate String sku;\r\n\r\n\t@Column(nullable = false)\r\n\t@Size(min = 5, message = &quot;{validation.title.size.too_short}&quot;)\r\n\t@Size(max = 150, message = &quot;{validation.title.size.too_long}&quot;)\r\n\tprivate String title;\r\n\r\n\t@Column(length = 300)\r\n\tprivate String short_desc;\r\n\r\n\t@Column\r\n\tprivate String long_desc;\r\n\r\n\t@Column\r\n\tprivate BigDecimal price;\r\n\r\n\t@Column\r\n\tprivate BigDecimal tax;\r\n\r\n\t@Min(0)\r\n\t@Max(100)\r\n\t@Column\r\n\tprivate int discount;\r\n\r\n\t@Column\r\n\tprivate int stock_amount;\r\n\r\n\t@Column\r\n\tprivate int stock_alarm_limit;\r\n\r\n\t@NotBlank\r\n\t@Size(min = 5, max = 200)\r\n\t@URL\r\n\t@Column(nullable = false, length = 200)\r\n\tprivate String slug;\r\n\r\n\t@Column(nullable = false)\r\n\tprivate boolean featured = false;\r\n\r\n\t@Column\r\n\tprivate String image;\r\n\r\n\t@Column\r\n\tprivate boolean new_product;\r\n\r\n\t@Column\r\n\tprivate int likes = 0;\r\n\r\n\t@NotNull(message = &quot;Status field can not be null&quot;)\r\n\t@Column(nullable = false)\r\n\tprivate StatusZeroAndOne status;\r\n\r\n\t@Column\r\n\tprivate double witdh;\r\n\r\n\t@Column\r\n\tprivate double length;\r\n\r\n\t@Column\r\n\tprivate double height;\r\n\r\n\t@Column\r\n\tprivate boolean builtIn = false;\r\n\t\r\n\t\r\n\r\n\t@NotNull(message = &quot;Please provide your brand&quot;)\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;brand_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\r\n\tprivate Brand brand;\r\n\r\n\t@NotNull(message = &quot;Please provide your category&quot;)\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\r\n\tprivate Category category;\r\n\r\n\t@NotNull(message = &quot;Creation Time can not be null&quot;)\r\n\t@CreationTimestamp\r\n\t@DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;)\r\n\t@Column(name = &quot;create_at&quot;, updatable = false, nullable = false)\r\n\tprivate OffsetDateTime createAt;\r\n\r\n\t@UpdateTimestamp\r\n\t@DateTimeFormat(pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;)\r\n\t@Column(name = &quot;update_at&quot;)\r\n\tprivate OffsetDateTime updateAt;\r\n\r\n}\r\n```\r\n\r\n\r\n\r\ni looked on the internet and they says i can not use the Criteria API with Hibernate 6. I am looking for a best practice to filter those data optionally.","title":"How to filter data using Spring Boot 3","body":"<p>I am trying to build an e-commerce api using Spring Boot 3 and Hibernate 6. I am stuck with filtering Products.Java class. I could not find any kind of result on the internet etc. How can i filter some of those fields using Hibernate 6? I need a way to do it, if someone can provide me i would appreciate a lot.</p>\n<pre><code>@Entity\n@Table(name = &quot;t_product&quot;)\npublic class Product {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    @Size(min = 10, message = &quot;{validation.sku.size.too_short}&quot;)\n    @Size(max = 100, message = &quot;{validation.sku.size.too_long}&quot;)\n    private String sku;\n\n    @Column(nullable = false)\n    @Size(min = 5, message = &quot;{validation.title.size.too_short}&quot;)\n    @Size(max = 150, message = &quot;{validation.title.size.too_long}&quot;)\n    private String title;\n\n    @Column(length = 300)\n    private String short_desc;\n\n    @Column\n    private String long_desc;\n\n    @Column\n    private BigDecimal price;\n\n    @Column\n    private BigDecimal tax;\n\n    @Min(0)\n    @Max(100)\n    @Column\n    private int discount;\n\n    @Column\n    private int stock_amount;\n\n    @Column\n    private int stock_alarm_limit;\n\n    @NotBlank\n    @Size(min = 5, max = 200)\n    @URL\n    @Column(nullable = false, length = 200)\n    private String slug;\n\n    @Column(nullable = false)\n    private boolean featured = false;\n\n    @Column\n    private String image;\n\n    @Column\n    private boolean new_product;\n\n    @Column\n    private int likes = 0;\n\n    @NotNull(message = &quot;Status field can not be null&quot;)\n    @Column(nullable = false)\n    private StatusZeroAndOne status;\n\n    @Column\n    private double witdh;\n\n    @Column\n    private double length;\n\n    @Column\n    private double height;\n\n    @Column\n    private boolean builtIn = false;\n    \n    \n\n    @NotNull(message = &quot;Please provide your brand&quot;)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;brand_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\n    private Brand brand;\n\n    @NotNull(message = &quot;Please provide your category&quot;)\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;category_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\n    private Category category;\n\n    @NotNull(message = &quot;Creation Time can not be null&quot;)\n    @CreationTimestamp\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;)\n    @Column(name = &quot;create_at&quot;, updatable = false, nullable = false)\n    private OffsetDateTime createAt;\n\n    @UpdateTimestamp\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;)\n    @Column(name = &quot;update_at&quot;)\n    private OffsetDateTime updateAt;\n\n}\n</code></pre>\n<p>i looked on the internet and they says i can not use the Criteria API with Hibernate 6. I am looking for a best practice to filter those data optionally.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2792617,"reputation":1108,"user_id":2402558,"accept_rate":69,"display_name":"Christopher Wirt"},"score":2,"creation_date":1404743737,"post_id":24613025,"comment_id":38139911,"body_markdown":"If this is an exercise, perhaps you should be doing this yourself.","body":"If this is an exercise, perhaps you should be doing this yourself."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1404743747,"post_id":24613025,"comment_id":38139921,"body_markdown":"Try to use a [decision table](http://en.wikipedia.org/wiki/Decision_table) to see which options/combinations have the same results and which conditions to use.","body":"Try to use a <a href=\"http://en.wikipedia.org/wiki/Decision_table\" rel=\"nofollow noreferrer\">decision table</a> to see which options/combinations have the same results and which conditions to use."},{"owner":{"account_id":4331685,"reputation":110,"user_id":3537029,"display_name":"Liviu Jianu"},"score":0,"creation_date":1404744243,"post_id":24613025,"comment_id":38140271,"body_markdown":"@ChristopherWirt, yes, I am doing it. That was an alternate way. I want to find several alternate solutions to it using only the basic things in java. I want to find an optimized way of doing it.","body":"@ChristopherWirt, yes, I am doing it. That was an alternate way. I want to find several alternate solutions to it using only the basic things in java. I want to find an optimized way of doing it."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1404749425,"post_id":24613025,"comment_id":38143726,"body_markdown":"It can, of course, be done without any `if` statements at all.","body":"It can, of course, be done without any <code>if</code> statements at all."}],"answers":[{"comments":[{"owner":{"account_id":4331685,"reputation":110,"user_id":3537029,"display_name":"Liviu Jianu"},"score":0,"creation_date":1404744348,"post_id":24613177,"comment_id":38140337,"body_markdown":"Thanks for the suggestion. I am considering another solution by iterating through the arrays using for loops. I am trying to find alternate ways without using iterators and so on.","body":"Thanks for the suggestion. I am considering another solution by iterating through the arrays using for loops. I am trying to find alternate ways without using iterators and so on."},{"owner":{"account_id":432653,"reputation":6827,"user_id":817543,"accept_rate":87,"display_name":"Alexander R&#252;hl"},"score":0,"creation_date":1404801584,"post_id":24613177,"comment_id":38163440,"body_markdown":"No problems with downvotes, but it would be nice to leave a remark what is wrong with the answer...","body":"No problems with downvotes, but it would be nice to leave a remark what is wrong with the answer..."}],"tags":[],"owner":{"account_id":432653,"reputation":6827,"user_id":817543,"accept_rate":87,"display_name":"Alexander R&#252;hl"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1404743759,"creation_date":1404743759,"answer_id":24613177,"question_id":24613025,"body_markdown":"First of all, you might be better off posting this type of question to [CodeReview][1].\r\n\r\nDon&#39;t do it in the way you did, no matter how many if there are, because the solution is extremely narrow to a specific case (think of having to use 3 numbers now) and it does not make any use of Java-typical features. Better try to think of a more general solution and make use of at least Java classes.\r\n\r\nIndependently from that remark, just iterate through your source lists/arrays until you have enough in your target.\r\n\r\n\r\n  [1]: https://codereview.stackexchange.com/","title":"How would you solve this with as few ifs as possible?","body":"<p>First of all, you might be better off posting this type of question to <a href=\"https://codereview.stackexchange.com/\">CodeReview</a>.</p>\n\n<p>Don't do it in the way you did, no matter how many if there are, because the solution is extremely narrow to a specific case (think of having to use 3 numbers now) and it does not make any use of Java-typical features. Better try to think of a more general solution and make use of at least Java classes.</p>\n\n<p>Independently from that remark, just iterate through your source lists/arrays until you have enough in your target.</p>\n"},{"comments":[{"owner":{"account_id":4331685,"reputation":110,"user_id":3537029,"display_name":"Liviu Jianu"},"score":0,"creation_date":1404744641,"post_id":24613273,"comment_id":38140522,"body_markdown":"Thanks Jamie! I will mark this as an alternate solution using varargs.","body":"Thanks Jamie! I will mark this as an alternate solution using varargs."},{"owner":{"account_id":3975478,"reputation":7417,"user_id":3283790,"display_name":"Jamie Cockburn"},"score":0,"creation_date":1404746711,"post_id":24613273,"comment_id":38141946,"body_markdown":"There&#39;s a version without varargs for you!","body":"There&#39;s a version without varargs for you!"}],"tags":[],"owner":{"account_id":3975478,"reputation":7417,"user_id":3283790,"display_name":"Jamie Cockburn"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1404746677,"creation_date":1404744044,"answer_id":24613273,"question_id":24613025,"body_markdown":"Use some loops!\r\n\r\n    public static int[] make2(int[]... arrays) {\r\n    \tint[] result = new int[2];\r\n    \tint i = 0;\r\n    \tfor (int[] array : arrays) {\r\n    \t\tfor (int value : array) {\r\n    \t\t\tresult[i++] = value;\r\n    \t\t\tif (i &gt; 1)\r\n    \t\t\t\treturn result;\r\n    \t\t}\r\n    \t}\r\n    \treturn result;\r\n    }\r\n\r\nIf you don&#39;t like the varargs parameter, you can do this instead:\r\n\r\n    public static int[] make2(int[] a, int[] b) {\r\n   \t\tint[][] arrays = new int[][] {a, b};\r\n        ...\r\n    }\r\n\r\n    \t","title":"How would you solve this with as few ifs as possible?","body":"<p>Use some loops!</p>\n\n<pre><code>public static int[] make2(int[]... arrays) {\n    int[] result = new int[2];\n    int i = 0;\n    for (int[] array : arrays) {\n        for (int value : array) {\n            result[i++] = value;\n            if (i &gt; 1)\n                return result;\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<p>If you don't like the varargs parameter, you can do this instead:</p>\n\n<pre><code>public static int[] make2(int[] a, int[] b) {\n    int[][] arrays = new int[][] {a, b};\n    ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2927647,"reputation":2746,"user_id":2508646,"accept_rate":100,"display_name":"Dan Temple"},"score":0,"creation_date":1404745947,"post_id":24613726,"comment_id":38141449,"body_markdown":"The first solution here is exactly what I&#39;d have done.","body":"The first solution here is exactly what I&#39;d have done."},{"owner":{"account_id":3975478,"reputation":7417,"user_id":3283790,"display_name":"Jamie Cockburn"},"score":0,"creation_date":1404861904,"post_id":24613726,"comment_id":38196989,"body_markdown":"@DanTemple really, what if the arrays had a million elements each?","body":"@DanTemple really, what if the arrays had a million elements each?"},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":0,"creation_date":1404884664,"post_id":24613726,"comment_id":38202747,"body_markdown":"@JamieCockburn &quot;What if pigs had wings?&quot; Clearly, this is a simple exercise for creating program logic with a single specific property at its minimum - one may ignore all other issues in such a case.","body":"@JamieCockburn &quot;What if pigs had wings?&quot; Clearly, this is a simple exercise for creating program logic with a single specific property at its minimum - one may ignore all other issues in such a case."},{"owner":{"account_id":2927647,"reputation":2746,"user_id":2508646,"accept_rate":100,"display_name":"Dan Temple"},"score":0,"creation_date":1404890893,"post_id":24613726,"comment_id":38205585,"body_markdown":"@JamieCockburn That&#39;s a fair question. Your solution would be better in that sense, but I doubt if the application here is required to be super optimized for larger data sets.","body":"@JamieCockburn That&#39;s a fair question. Your solution would be better in that sense, but I doubt if the application here is required to be super optimized for larger data sets."}],"tags":[],"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"comment_count":4,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1404745610,"creation_date":1404745279,"answer_id":24613726,"question_id":24613025,"body_markdown":"Probably not what the creator of this problem had in mind, but what the heck:\r\n\r\n    static Integer[] combine( Integer[] a, Integer[]b ){\r\n        List&lt;Integer&gt; intList = new ArrayList&lt;&gt;();\r\n        intList.addAll( Arrays.asList( a ) );\r\n        intList.addAll( Arrays.asList( b ) );\r\n        return Arrays.copyOf( intList.toArray( a ), 2 );\r\n    }\r\n\r\nIn a more conventional approach:\r\n\r\n    static Integer[] combine( Integer[] a, Integer[]b ){\r\n        if( a.length &gt;= 2 ){\r\n            return Arrays.copyOf( a, 2 );\r\n        } else {\r\n            if( a.length == 1 ){\r\n                return new Integer[]{ a[0], b[0] };\r\n            } else {\r\n                return Arrays.copyOf( b, 2 );\r\n            }\r\n        }\r\n    }\r\n","title":"How would you solve this with as few ifs as possible?","body":"<p>Probably not what the creator of this problem had in mind, but what the heck:</p>\n\n<pre><code>static Integer[] combine( Integer[] a, Integer[]b ){\n    List&lt;Integer&gt; intList = new ArrayList&lt;&gt;();\n    intList.addAll( Arrays.asList( a ) );\n    intList.addAll( Arrays.asList( b ) );\n    return Arrays.copyOf( intList.toArray( a ), 2 );\n}\n</code></pre>\n\n<p>In a more conventional approach:</p>\n\n<pre><code>static Integer[] combine( Integer[] a, Integer[]b ){\n    if( a.length &gt;= 2 ){\n        return Arrays.copyOf( a, 2 );\n    } else {\n        if( a.length == 1 ){\n            return new Integer[]{ a[0], b[0] };\n        } else {\n            return Arrays.copyOf( b, 2 );\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9293645,"reputation":11,"user_id":6901329,"display_name":"Brendan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1475175563,"creation_date":1475175563,"answer_id":39778046,"question_id":24613025,"body_markdown":"This is the way I solved it. Total of 2 if statements.\r\n\r\n    public int[] make2(int[] a, int[] b) {\r\n        if (a.length == 0) {\r\n            return new int[] {b[0], b[1]};\r\n        }\r\n        if (a.length &gt; 1) {\r\n            return new int[] {a[0], a[1]};\r\n        }\r\n        return new int[] {a[0], b[0]};\r\n    }","title":"How would you solve this with as few ifs as possible?","body":"<p>This is the way I solved it. Total of 2 if statements.</p>\n\n<pre><code>public int[] make2(int[] a, int[] b) {\n    if (a.length == 0) {\n        return new int[] {b[0], b[1]};\n    }\n    if (a.length &gt; 1) {\n        return new int[] {a[0], a[1]};\n    }\n    return new int[] {a[0], b[0]};\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1697474741,"post_id":77299206,"comment_id":136281632,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77299206/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25655663,"reputation":1,"user_id":19422117,"display_name":"Dmitrii Reznichenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697474777,"creation_date":1697425974,"answer_id":77299206,"question_id":24613025,"body_markdown":"My solution is dynamic and pretty short:\r\n\r\n```java\r\npublic int[] make2(int[] a, int[] b) {\r\n    int[] result = new int[2];\r\n    for (int i = 0; i &lt; result.length; i++) {\r\n        if (i &lt; a.length) {\r\n            result[i] = a[i];\r\n        } else\r\n            result[i] = b[Math.abs(i - a.length)];\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\n","title":"How would you solve this with as few ifs as possible?","body":"<p>My solution is dynamic and pretty short:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int[] make2(int[] a, int[] b) {\n    int[] result = new int[2];\n    for (int i = 0; i &lt; result.length; i++) {\n        if (i &lt; a.length) {\n            result[i] = a[i];\n        } else\n            result[i] = b[Math.abs(i - a.length)];\n    }\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":4331685,"reputation":110,"user_id":3537029,"display_name":"Liviu Jianu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":5,"score":-2,"last_activity_date":1697474777,"creation_date":1404743343,"question_id":24613025,"body_markdown":"Given 2 int arrays, a and b, return a new array length 2 containing, as much as will fit, the elements from a followed by the elements from b. The arrays may be any length, including 0, but there will be 2 or more elements available between the 2 arrays. \r\n\r\n    make2({4, 5}, {1, 2, 3}) → {4, 5}\r\n    make2({4}, {1, 2, 3}) → {4, 1}\r\n    make2({}, {1, 2}) → {1, 2}\r\n\r\nA basic way would be this:\r\n    \r\n    public int[] make2(int[] a, int[] b) {\r\n    int[] c = new int[]{0,0};\r\n    if(a.length&lt;1 &amp;&amp; b.length&gt;1)\r\n      c = new int[]{b[0],b[1]};\r\n    if(a.length ==1 &amp;&amp; b.length==1)\r\n      c = new int[]{a[0],b[0]};\r\n    if(a.length ==1 &amp;&amp; b.length&gt;=2)\r\n      c = new int[]{a[0],b[0]};\r\n    if(a.length &gt;=2 &amp;&amp; b.length&lt;2)\r\n      c = new int[]{a[0],a[1]};\r\n    if((a.length&gt;=2)&amp;&amp;(b.length&gt;=2))\r\n      c= new int[]{a[0],a[1]};\r\n    return c;\r\n    } \r\n\r\n\r\nThe exercise is from [CodingBat.com](http://codingbat.com)","title":"How would you solve this with as few ifs as possible?","body":"<p>Given 2 int arrays, a and b, return a new array length 2 containing, as much as will fit, the elements from a followed by the elements from b. The arrays may be any length, including 0, but there will be 2 or more elements available between the 2 arrays. </p>\n\n<pre><code>make2({4, 5}, {1, 2, 3}) → {4, 5}\nmake2({4}, {1, 2, 3}) → {4, 1}\nmake2({}, {1, 2}) → {1, 2}\n</code></pre>\n\n<p>A basic way would be this:</p>\n\n<pre><code>public int[] make2(int[] a, int[] b) {\nint[] c = new int[]{0,0};\nif(a.length&lt;1 &amp;&amp; b.length&gt;1)\n  c = new int[]{b[0],b[1]};\nif(a.length ==1 &amp;&amp; b.length==1)\n  c = new int[]{a[0],b[0]};\nif(a.length ==1 &amp;&amp; b.length&gt;=2)\n  c = new int[]{a[0],b[0]};\nif(a.length &gt;=2 &amp;&amp; b.length&lt;2)\n  c = new int[]{a[0],a[1]};\nif((a.length&gt;=2)&amp;&amp;(b.length&gt;=2))\n  c= new int[]{a[0],a[1]};\nreturn c;\n} \n</code></pre>\n\n<p>The exercise is from <a href=\"http://codingbat.com\" rel=\"nofollow\">CodingBat.com</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9796,"page":121,"page_size":100}
