{"items":[{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"score":0,"creation_date":1366617701,"post_id":16142071,"comment_id":23061375,"body_markdown":"which database you are using","body":"which database you are using"},{"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"score":0,"creation_date":1366617813,"post_id":16142071,"comment_id":23061420,"body_markdown":"merchant is working properly for u","body":"merchant is working properly for u"},{"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"score":0,"creation_date":1366617861,"post_id":16142071,"comment_id":23061440,"body_markdown":"try to change id algorithm name to another for testing","body":"try to change id algorithm name to another for testing"},{"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"score":0,"creation_date":1366617890,"post_id":16142071,"comment_id":23061456,"body_markdown":"it is giving the exception in hibernate only","body":"it is giving the exception in hibernate only"},{"owner":{"account_id":2668593,"reputation":663,"user_id":2306431,"display_name":"Boris"},"score":0,"creation_date":1366617992,"post_id":16142071,"comment_id":23061496,"body_markdown":"Thanks for answering. I am using PostGre with autogenerated id","body":"Thanks for answering. I am using PostGre with autogenerated id"},{"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"score":1,"creation_date":1366618050,"post_id":16142071,"comment_id":23061521,"body_markdown":"try to change the type from IDENTITY to another for testing purpose only","body":"try to change the type from IDENTITY to another for testing purpose only"},{"owner":{"account_id":924076,"reputation":12260,"user_id":1386111,"accept_rate":88,"display_name":"Alvin Wong"},"score":0,"creation_date":1372164482,"post_id":16142071,"comment_id":25082407,"body_markdown":"possible duplicate of [ids for this class must be manually assigned before calling save()](http://stackoverflow.com/questions/5463638/ids-for-this-class-must-be-manually-assigned-before-calling-save)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5463638/ids-for-this-class-must-be-manually-assigned-before-calling-save\">ids for this class must be manually assigned before calling save()</a>"},{"owner":{"account_id":133463,"reputation":32149,"user_id":334849,"accept_rate":100,"display_name":"LittleBobbyTables - Au Revoir"},"score":2,"creation_date":1382640454,"post_id":16142071,"comment_id":29049278,"body_markdown":"Instead of marking your question as solved and adding the solution to your question, you should add your solution as an answer, and accept that answer.","body":"Instead of marking your question as solved and adding the solution to your question, you should add your solution as an answer, and accept that answer."},{"owner":{"account_id":10057869,"reputation":744,"user_id":7435524,"display_name":"KareemJ"},"score":0,"creation_date":1589734490,"post_id":16142071,"comment_id":109405022,"body_markdown":"I got the same error once when I didn&#39;t specify the `startegy` in `@GeneratedValue`. I hope this is been helpful to those who are googling this error.","body":"I got the same error once when I didn&#39;t specify the <code>startegy</code> in <code>@GeneratedValue</code>. I hope this is been helpful to those who are googling this error."}],"answers":[{"comments":[{"owner":{"account_id":2668593,"reputation":663,"user_id":2306431,"display_name":"Boris"},"score":0,"creation_date":1366617903,"post_id":16142115,"comment_id":23061459,"body_markdown":"Thanks for answering. I am using PostGre with autogenerated id. I just edited my post.","body":"Thanks for answering. I am using PostGre with autogenerated id. I just edited my post."},{"owner":{"account_id":2666332,"reputation":2699,"user_id":2304702,"accept_rate":36,"display_name":"rmalchow"},"score":11,"creation_date":1366618122,"post_id":16142115,"comment_id":23061556,"body_markdown":"for MySQL and AI, this works. you might want to check if that&#39;s also the case with postgresql. my pojos pretty much always look like this:\t@Id\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;, unique=true, nullable=false) \n    public Long getId() {\n        return this.id;\n    }","body":"for MySQL and AI, this works. you might want to check if that&#39;s also the case with postgresql. my pojos pretty much always look like this:\t@Id \t@GeneratedValue(strategy = GenerationType.IDENTITY)     @Column(name=&quot;id&quot;, unique=true, nullable=false)      public Long getId() {         return this.id;     }"},{"owner":{"account_id":4700500,"reputation":1086,"user_id":3804177,"accept_rate":56,"display_name":"dom"},"score":0,"creation_date":1485689347,"post_id":16142115,"comment_id":71021664,"body_markdown":"in oracle this may cause due to sequence name","body":"in oracle this may cause due to sequence name"}],"tags":[],"owner":{"account_id":2666332,"reputation":2699,"user_id":2304702,"accept_rate":36,"display_name":"rmalchow"},"comment_count":3,"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1366617616,"creation_date":1366617616,"answer_id":16142115,"question_id":16142071,"body_markdown":"your id attribute is not set. this MAY be due to the fact that the DB field is not set to auto increment? what DB are you using? MySQL? is your field set to AUTO INCREMENT?","title":"Hibernate: ids for this class must be manually assigned before calling save()","body":"<p>your id attribute is not set. this MAY be due to the fact that the DB field is not set to auto increment? what DB are you using? MySQL? is your field set to AUTO INCREMENT?</p>\n"},{"comments":[{"owner":{"account_id":8954365,"reputation":332,"user_id":6679305,"display_name":"Mohammed Nosirat"},"score":0,"creation_date":1682692768,"post_id":62735754,"comment_id":134260492,"body_markdown":"it worked for me, but why do I need to add `@GeneratedValue`, if the table was already created in the db before, I believe that this annotation works on generating the table schema, and after that, it will not affect anything if I removed it.   @BraianCoronel","body":"it worked for me, but why do I need to add <code>@GeneratedValue</code>, if the table was already created in the db before, I believe that this annotation works on generating the table schema, and after that, it will not affect anything if I removed it.   @BraianCoronel"}],"tags":[],"owner":{"account_id":6868647,"reputation":22259,"user_id":5279996,"display_name":"Braian Coronel"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1626696791,"creation_date":1593909346,"answer_id":62735754,"question_id":16142071,"body_markdown":"[Assign primary key in hibernate][1]\r\n-------------------------------\r\n\r\nMake sure that the attribute is primary key and [Auto Incrementable][2] in the database. Then **map it into the data class** with the annotation with `@GeneratedValue` annotation using IDENTITY.\r\n\r\n```kotlin\r\n@Entity\r\n@Table(name = &quot;client&quot;)\r\ndata class Client(\r\n    @Id \r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;) \r\n    private val id: Int? = null\r\n)\r\n```\r\nGL\r\n\r\n[Source][3]\r\n\r\n\r\n  [1]: https://youtu.be/74_ynB007uQ\r\n  [2]: https://stackoverflow.com/a/787774/5279996\r\n  [3]: https://stackoverflow.com/a/11691472/5279996","title":"Hibernate: ids for this class must be manually assigned before calling save()","body":"<h2 id=\"assign-primary-key-in-hibernate\"><a href=\"https://youtu.be/74_ynB007uQ\" rel=\"noreferrer\">Assign primary key in hibernate</a></h2>\n<p>Make sure that the attribute is primary key and <a href=\"https://stackoverflow.com/a/787774/5279996\">Auto Incrementable</a> in the database. Then <strong>map it into the data class</strong> with the annotation with <code>@GeneratedValue</code> annotation using IDENTITY.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Entity\n@Table(name = &quot;client&quot;)\ndata class Client(\n    @Id \n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;) \n    private val id: Int? = null\n)\n</code></pre>\n<p>GL</p>\n<p><a href=\"https://stackoverflow.com/a/11691472/5279996\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":12422497,"reputation":1,"user_id":9048694,"display_name":"Jairo Ceron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675335957,"creation_date":1675180633,"answer_id":75299756,"question_id":16142071,"body_markdown":"&lt;strong&gt;1. Identify the name of the sequences created in your database schema&lt;/strong&gt;\r\n\r\n&lt;code&gt;SELECT sequence_schema, sequence_name FROM information_schema.sequences ORDER BY sequence_name; &lt;/code&gt;\r\n\r\n&lt;strong&gt;2. Make sure the sequence name matches the associated name in the entity&lt;/strong&gt;\r\n\r\n```\r\npublic class Calmicprsusc {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @GenericGenerator(\r\n            name = &quot;calmicprsuscGen&quot;,\r\n            strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\r\n            parameters = {\r\n                    @org.hibernate.annotations.Parameter(name = &quot;sequence_name&quot;, value = &quot;calmicprsusc_idcalmicprsusc_seq&quot;),\r\n                    @org.hibernate.annotations.Parameter(name = &quot;initial_value&quot;, value = &quot;1&quot;),\r\n                    @org.hibernate.annotations.Parameter(name = &quot;increment_size&quot;, value = &quot;1&quot;)}\r\n    )\r\n\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.SEQUENCE, generator=&quot;calmicprsuscGen&quot;)\r\n    @Column(name = &quot;idcalmicprsusc&quot;)\r\n    private Integer idcalmicprsusc;  \r\n\r\n    @Column(name = &quot;idsample&quot;)\r\n    private Integer idsample; \r\n}\r\n```","title":"Hibernate: ids for this class must be manually assigned before calling save()","body":"<p><strong>1. Identify the name of the sequences created in your database schema</strong></p>\n<p><code>SELECT sequence_schema, sequence_name FROM information_schema.sequences ORDER BY sequence_name; </code></p>\n<p><strong>2. Make sure the sequence name matches the associated name in the entity</strong></p>\n<pre><code>public class Calmicprsusc {\n    private static final long serialVersionUID = 1L;\n\n    @GenericGenerator(\n            name = &quot;calmicprsuscGen&quot;,\n            strategy = &quot;org.hibernate.id.enhanced.SequenceStyleGenerator&quot;,\n            parameters = {\n                    @org.hibernate.annotations.Parameter(name = &quot;sequence_name&quot;, value = &quot;calmicprsusc_idcalmicprsusc_seq&quot;),\n                    @org.hibernate.annotations.Parameter(name = &quot;initial_value&quot;, value = &quot;1&quot;),\n                    @org.hibernate.annotations.Parameter(name = &quot;increment_size&quot;, value = &quot;1&quot;)}\n    )\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.SEQUENCE, generator=&quot;calmicprsuscGen&quot;)\n    @Column(name = &quot;idcalmicprsusc&quot;)\n    private Integer idcalmicprsusc;  \n\n    @Column(name = &quot;idsample&quot;)\n    private Integer idsample; \n}\n</code></pre>\n"}],"owner":{"account_id":2668593,"reputation":663,"user_id":2306431,"display_name":"Boris"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177932,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"accepted_answer_id":16142115,"answer_count":3,"score":66,"last_activity_date":1675335957,"creation_date":1366617468,"question_id":16142071,"body_markdown":"I am having some problems with Hibernate and the `oneToMany` mapping.\r\n\r\nHere is my function:\r\n\r\n            Location location = new Location();\r\n            location.setDateTime(new Date());\r\n            location.setLatitude(lat);\r\n            location.setLongitude(lon);\r\n\r\n            location = this.locationDao.save(location);\r\n\r\n            merchant = new Merchant();\r\n            merchant.setAddress(address);\r\n            merchant.setCity(city);\r\n            merchant.setCountry(country);\r\n            merchant.setLocation(location);\r\n            merchant.setName(name);\r\n            merchant.setOrganization(organization);\r\n            merchant.setPublicId(publicId);\r\n            merchant.setZipCode(zipCode);\r\n            merchant.setApplication(this.applicationDAO.findByPublicId(applicationPublicId));\r\n\r\n            merchant = this.merchantDao.save(merchant);\r\n\r\n            return merchant;\r\n\r\nHere are my two entities:\r\n\r\n**Location** \r\n\r\n    import java.io.Serializable;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.NotNull;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    import javax.xml.bind.annotation.XmlTransient;\r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;location&quot;)\r\n    @XmlRootElement\r\n    public class Location implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n        \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Basic(optional = false)\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        private Long id;\r\n        \r\n        @Basic(optional = false)\r\n        @NotNull\r\n        @Column(name = &quot;latitude&quot;, nullable = false)\r\n        private double latitude;\r\n        \r\n        @Basic(optional = false)\r\n        @NotNull\r\n        @Column(name = &quot;longitude&quot;, nullable = false)\r\n        private double longitude;\r\n        \r\n        @Basic(optional = false)\r\n        @NotNull\r\n        @Column(name = &quot;date_time&quot;, nullable = false)\r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        private Date dateTime;\r\n        \r\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;location&quot;)\r\n        private List&lt;Merchant&gt; retailerList;\r\n        \r\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;location&quot;)\r\n        private List&lt;MobileUser&gt; userList;\r\n    \r\n        public Location() {\r\n        }\r\n    \r\n        public Location(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public Location(Long id, double latitude, double longitude, Date dateTime) {\r\n            this.id = id;\r\n            this.latitude = latitude;\r\n            this.longitude = longitude;\r\n            this.dateTime = dateTime;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n        //getters and setters\r\n       \r\n    \r\n        @XmlTransient\r\n        public List&lt;Merchant&gt; getRetailerList() {\r\n            return retailerList;\r\n        }\r\n    \r\n        public void setRetailerList(List&lt;Merchant&gt; retailerList) {\r\n            this.retailerList = retailerList;\r\n        }\r\n    \r\n        @XmlTransient\r\n        public List&lt;MobileUser&gt; getUserList() {\r\n            return userList;\r\n        }\r\n    \r\n        public void setUserList(List&lt;MobileUser&gt; userList) {\r\n            this.userList = userList;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            int hash = 0;\r\n            hash += (id != null ? id.hashCode() : 0);\r\n            return hash;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object object) {\r\n            // TODO: Warning - this method won&#39;t work in the case the id fields are not set\r\n            if (!(object instanceof Location)) {\r\n                return false;\r\n            }\r\n            Location other = (Location) object;\r\n            if ((this.id == null &amp;&amp; other.id != null) || (this.id != null &amp;&amp; !this.id.equals(other.id))) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;com.fgsecure.geoloc.entities.Location[ id=&quot; + id + &quot; ]&quot;;\r\n        }\r\n\r\n\r\n**Merchant** \r\n\r\n    import java.io.Serializable;\r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.NotNull;\r\n    import javax.validation.constraints.Size;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    import org.codehaus.jackson.annotate.JsonAutoDetect;\r\n    import org.codehaus.jackson.annotate.JsonIgnore;\r\n    \r\n    \r\n    @JsonAutoDetect\r\n    @Entity\r\n    @Table(name = &quot;retailer&quot;)\r\n    @XmlRootElement\r\n    \r\n    public class Merchant implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        @JsonIgnore\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Basic(optional = false)\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        private Long id;\r\n        @Basic(optional = false)\r\n        @NotNull\r\n        @Size(min = 1, max = 50)\r\n        @Column(name = &quot;public_id&quot;, nullable = false, length = 50)\r\n        private String publicId;\r\n        @Basic(optional = false)\r\n        @NotNull\r\n        @Size(min = 1, max = 50)\r\n        @Column(name = &quot;name&quot;, nullable = false, length = 50)\r\n        private String name;\r\n        @Size(max = 50)\r\n        @Column(name = &quot;organization&quot;, length = 50)\r\n        private String organization;\r\n        @Size(max = 128)\r\n        @Column(name = &quot;address&quot;, length = 128)\r\n        private String address;\r\n        @Size(max = 10)\r\n        @Column(name = &quot;zip_code&quot;, length = 10)\r\n        private String zipCode;\r\n        @Size(max = 50)\r\n        @Column(name = &quot;city&quot;, length = 50)\r\n        private String city;\r\n        @Size(max = 50)\r\n        @Column(name = &quot;country&quot;, length = 50)\r\n        private String country;\r\n        @JoinColumn(name = &quot;location_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\r\n        @ManyToOne(optional = false)\r\n        private Location location;\r\n        @JoinColumn(name = &quot;application_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)\r\n        @ManyToOne(optional = false)\r\n        private Application application;\r\n        \r\n    \r\n        public Merchant() {\r\n        }\r\n    \r\n        public Merchant(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public Merchant(Long id, String publicId, String name) {\r\n            this.id = id;\r\n            this.publicId = publicId;\r\n            this.name = name;\r\n        }\r\n    \r\n       //getters and setters\r\n        \r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            int hash = 0;\r\n            hash += (id != null ? id.hashCode() : 0);\r\n            return hash;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object object) {\r\n            // TODO: Warning - this method won&#39;t work in the case the id fields are not set\r\n            if (!(object instanceof Merchant)) {\r\n                return false;\r\n            }\r\n            Merchant other = (Merchant) object;\r\n            if ((this.id == null &amp;&amp; other.id != null) || (this.id != null &amp;&amp; !this.id.equals(other.id))) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;com.fgsecure.geoloc.entities.Retailer[ id=&quot; + id + &quot; ]&quot;;\r\n        }\r\n    }\r\n\r\n\r\nAnd each time I am calling my function I get: \r\n\r\n    org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save():\r\n\r\nfor this line: \r\n\r\n    location = this.locationDao.save(location);\r\n\r\nI don&#39;t understand why. \r\nBecause in that case there is no need to manually assigne the id of location as it is auto generated.\r\nI must have done something wrong but after 3 days looking I don&#39;t find.\r\n\r\nI am using PostGreSQL and the id is an autogenerated ID with this sequence: \r\n\r\n    nextval(&#39;location_id_seq&#39;::regclass)`\r\n\r\n**EDIT SOLVE:**\r\n\r\nOk Thanks for your answers.\r\n\r\nIf it can help other person in the future, just need to modify the param of the id by: \r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Basic(optional = false)\r\n        @Column(name = &quot;id&quot;,unique=true, nullable = false)\r\n","title":"Hibernate: ids for this class must be manually assigned before calling save()","body":"<p>I am having some problems with Hibernate and the <code>oneToMany</code> mapping.</p>\n\n<p>Here is my function:</p>\n\n<pre><code>        Location location = new Location();\n        location.setDateTime(new Date());\n        location.setLatitude(lat);\n        location.setLongitude(lon);\n\n        location = this.locationDao.save(location);\n\n        merchant = new Merchant();\n        merchant.setAddress(address);\n        merchant.setCity(city);\n        merchant.setCountry(country);\n        merchant.setLocation(location);\n        merchant.setName(name);\n        merchant.setOrganization(organization);\n        merchant.setPublicId(publicId);\n        merchant.setZipCode(zipCode);\n        merchant.setApplication(this.applicationDAO.findByPublicId(applicationPublicId));\n\n        merchant = this.merchantDao.save(merchant);\n\n        return merchant;\n</code></pre>\n\n<p>Here are my two entities:</p>\n\n<p><strong>Location</strong> </p>\n\n<pre><code>import java.io.Serializable;\nimport java.util.Date;\nimport java.util.List;\nimport javax.persistence.*;\nimport javax.validation.constraints.NotNull;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlTransient;\n\n\n@Entity\n@Table(name = \"location\")\n@XmlRootElement\npublic class Location implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Basic(optional = false)\n    @Column(name = \"id\", nullable = false)\n    private Long id;\n\n    @Basic(optional = false)\n    @NotNull\n    @Column(name = \"latitude\", nullable = false)\n    private double latitude;\n\n    @Basic(optional = false)\n    @NotNull\n    @Column(name = \"longitude\", nullable = false)\n    private double longitude;\n\n    @Basic(optional = false)\n    @NotNull\n    @Column(name = \"date_time\", nullable = false)\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date dateTime;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = \"location\")\n    private List&lt;Merchant&gt; retailerList;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = \"location\")\n    private List&lt;MobileUser&gt; userList;\n\n    public Location() {\n    }\n\n    public Location(Long id) {\n        this.id = id;\n    }\n\n    public Location(Long id, double latitude, double longitude, Date dateTime) {\n        this.id = id;\n        this.latitude = latitude;\n        this.longitude = longitude;\n        this.dateTime = dateTime;\n    }\n\n    public Long getId() {\n        return id;\n    }\n    //getters and setters\n\n\n    @XmlTransient\n    public List&lt;Merchant&gt; getRetailerList() {\n        return retailerList;\n    }\n\n    public void setRetailerList(List&lt;Merchant&gt; retailerList) {\n        this.retailerList = retailerList;\n    }\n\n    @XmlTransient\n    public List&lt;MobileUser&gt; getUserList() {\n        return userList;\n    }\n\n    public void setUserList(List&lt;MobileUser&gt; userList) {\n        this.userList = userList;\n    }\n\n    @Override\n    public int hashCode() {\n        int hash = 0;\n        hash += (id != null ? id.hashCode() : 0);\n        return hash;\n    }\n\n    @Override\n    public boolean equals(Object object) {\n        // TODO: Warning - this method won't work in the case the id fields are not set\n        if (!(object instanceof Location)) {\n            return false;\n        }\n        Location other = (Location) object;\n        if ((this.id == null &amp;&amp; other.id != null) || (this.id != null &amp;&amp; !this.id.equals(other.id))) {\n            return false;\n        }\n        return true;\n    }\n\n    @Override\n    public String toString() {\n        return \"com.fgsecure.geoloc.entities.Location[ id=\" + id + \" ]\";\n    }\n</code></pre>\n\n<p><strong>Merchant</strong> </p>\n\n<pre><code>import java.io.Serializable;\nimport javax.persistence.*;\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Size;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport org.codehaus.jackson.annotate.JsonAutoDetect;\nimport org.codehaus.jackson.annotate.JsonIgnore;\n\n\n@JsonAutoDetect\n@Entity\n@Table(name = \"retailer\")\n@XmlRootElement\n\npublic class Merchant implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    @JsonIgnore\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Basic(optional = false)\n    @Column(name = \"id\", nullable = false)\n    private Long id;\n    @Basic(optional = false)\n    @NotNull\n    @Size(min = 1, max = 50)\n    @Column(name = \"public_id\", nullable = false, length = 50)\n    private String publicId;\n    @Basic(optional = false)\n    @NotNull\n    @Size(min = 1, max = 50)\n    @Column(name = \"name\", nullable = false, length = 50)\n    private String name;\n    @Size(max = 50)\n    @Column(name = \"organization\", length = 50)\n    private String organization;\n    @Size(max = 128)\n    @Column(name = \"address\", length = 128)\n    private String address;\n    @Size(max = 10)\n    @Column(name = \"zip_code\", length = 10)\n    private String zipCode;\n    @Size(max = 50)\n    @Column(name = \"city\", length = 50)\n    private String city;\n    @Size(max = 50)\n    @Column(name = \"country\", length = 50)\n    private String country;\n    @JoinColumn(name = \"location_id\", referencedColumnName = \"id\", nullable = false)\n    @ManyToOne(optional = false)\n    private Location location;\n    @JoinColumn(name = \"application_id\", referencedColumnName = \"id\", nullable = false)\n    @ManyToOne(optional = false)\n    private Application application;\n\n\n    public Merchant() {\n    }\n\n    public Merchant(Long id) {\n        this.id = id;\n    }\n\n    public Merchant(Long id, String publicId, String name) {\n        this.id = id;\n        this.publicId = publicId;\n        this.name = name;\n    }\n\n   //getters and setters\n\n\n    @Override\n    public int hashCode() {\n        int hash = 0;\n        hash += (id != null ? id.hashCode() : 0);\n        return hash;\n    }\n\n    @Override\n    public boolean equals(Object object) {\n        // TODO: Warning - this method won't work in the case the id fields are not set\n        if (!(object instanceof Merchant)) {\n            return false;\n        }\n        Merchant other = (Merchant) object;\n        if ((this.id == null &amp;&amp; other.id != null) || (this.id != null &amp;&amp; !this.id.equals(other.id))) {\n            return false;\n        }\n        return true;\n    }\n\n    @Override\n    public String toString() {\n        return \"com.fgsecure.geoloc.entities.Retailer[ id=\" + id + \" ]\";\n    }\n}\n</code></pre>\n\n<p>And each time I am calling my function I get: </p>\n\n<pre><code>org.hibernate.id.IdentifierGenerationException: ids for this class must be manually assigned before calling save():\n</code></pre>\n\n<p>for this line: </p>\n\n<pre><code>location = this.locationDao.save(location);\n</code></pre>\n\n<p>I don't understand why. \nBecause in that case there is no need to manually assigne the id of location as it is auto generated.\nI must have done something wrong but after 3 days looking I don't find.</p>\n\n<p>I am using PostGreSQL and the id is an autogenerated ID with this sequence: </p>\n\n<pre><code>nextval('location_id_seq'::regclass)`\n</code></pre>\n\n<p><strong>EDIT SOLVE:</strong></p>\n\n<p>Ok Thanks for your answers.</p>\n\n<p>If it can help other person in the future, just need to modify the param of the id by: </p>\n\n<pre><code>    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Basic(optional = false)\n    @Column(name = \"id\",unique=true, nullable = false)\n</code></pre>\n"},{"tags":["java","spring-boot","environment-variables","amazon-eks","vert.x"],"answers":[{"comments":[{"owner":{"account_id":409296,"reputation":2255,"user_id":800910,"accept_rate":58,"display_name":"Sudhanshu Gupta"},"score":0,"creation_date":1675336136,"post_id":75322202,"comment_id":132908731,"body_markdown":"Can you tell me the best way to read values from EKS config map?","body":"Can you tell me the best way to read values from EKS config map?"},{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":0,"creation_date":1675336341,"post_id":75322202,"comment_id":132908806,"body_markdown":"https://vertx.io/docs/vertx-config/java/#_kubernetes_configmap_store","body":"<a href=\"https://vertx.io/docs/vertx-config/java/#_kubernetes_configmap_store\" rel=\"nofollow noreferrer\">vertx.io/docs/vertx-config/java/#_kubernetes_configmap_store</a>"}],"tags":[],"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675335747,"creation_date":1675335747,"answer_id":75322202,"question_id":75322047,"body_markdown":"Vert.x Core does not provide such a solution.\r\n\r\nYou need to add the [Vert.x Config][1] module, which is able to merge values coming from different sources (system properties, environment variables, config files... and more)\r\n\r\n\r\n  [1]: https://vertx.io/docs/vertx-config/java/#_available_configuration_stores","title":"Externalize the values in config files in vert.x and EKS","body":"<p>Vert.x Core does not provide such a solution.</p>\n<p>You need to add the <a href=\"https://vertx.io/docs/vertx-config/java/#_available_configuration_stores\" rel=\"nofollow noreferrer\">Vert.x Config</a> module, which is able to merge values coming from different sources (system properties, environment variables, config files... and more)</p>\n"}],"owner":{"account_id":409296,"reputation":2255,"user_id":800910,"accept_rate":58,"display_name":"Sudhanshu Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675335747,"creation_date":1675334942,"question_id":75322047,"body_markdown":"I use to work on spring boot and when i need to externalize the config values. I genrally create a application.yml\r\n\r\n    SUD:\r\n      BASEPATH: ${SUD_SERVICE_BASE_PATH:https://origin-sud.com}\r\n      MCS_BASEPATH: ${SUD_SERVICE_MCS_BASE_PATH:https://sud.com/}\r\n      MCS_TOKEN: ${SUD_SERVICE_MCS_TOKEN:a2341b8b-4ca5-4513-8c52-gf267bihbh}\r\n      MCS_SUBSCRIPTION_ENDPOINT: ${SUD_SERVICE_MCS_SUBSCRIPTION_ENDPOINT:/v1/manag}\r\n      HOST: ${SUD_SERVICE_HOST:sud.com}\r\n\r\nNow The values like \r\n\r\n    SUD_SERVICE_BASE_PATH\r\n    SUD_SERVICE_MCS_BASE_PATH\r\n    SUD_SERVICE_MCS_TOKEN\r\n    SUD_SERVICE_MCS_SUBSCRIPTION_ENDPOINT\r\n    SUD_SERVICE_HOST\r\n\r\nAre getting data from EKS config map. If the values are not present, we get to the default values.\r\n\r\n    https://origin-sud.com\r\n    https://sud.com\r\n\r\nTo access it in the spring boot code. We do the below operation. It get the data from EKS config if present or default to default values.\r\n@GetMapping(&quot;${SUD.MCS_SUBSCRIPTION_ENDPOINT}&quot;)\r\n\r\n\r\n\r\nNow i want to do that same in vert.x. \r\nI have read vert.c blog but i couldn&#39;t find a way to do it.\r\n\r\nThe only way i found out it to get the values like\r\n\r\n    String host = System.getenv.getOrDefault(&quot;SUD_SERVICE_BASE_PATH&quot;, https://origin-sud.com);\r\n    String port = System.getenv.getOrDefault(&quot;SUD_SERVICE_MCS_BASE_PATH&quot;, https://sud.com/);\r\n\r\nI want to do something similar to spring boot , instead of calling the System.getenv.getOrDefault. I want to do it in config.\r\n\r\nAppreciate the help provided.\r\n","title":"Externalize the values in config files in vert.x and EKS","body":"<p>I use to work on spring boot and when i need to externalize the config values. I genrally create a application.yml</p>\n<pre><code>SUD:\n  BASEPATH: ${SUD_SERVICE_BASE_PATH:https://origin-sud.com}\n  MCS_BASEPATH: ${SUD_SERVICE_MCS_BASE_PATH:https://sud.com/}\n  MCS_TOKEN: ${SUD_SERVICE_MCS_TOKEN:a2341b8b-4ca5-4513-8c52-gf267bihbh}\n  MCS_SUBSCRIPTION_ENDPOINT: ${SUD_SERVICE_MCS_SUBSCRIPTION_ENDPOINT:/v1/manag}\n  HOST: ${SUD_SERVICE_HOST:sud.com}\n</code></pre>\n<p>Now The values like</p>\n<pre><code>SUD_SERVICE_BASE_PATH\nSUD_SERVICE_MCS_BASE_PATH\nSUD_SERVICE_MCS_TOKEN\nSUD_SERVICE_MCS_SUBSCRIPTION_ENDPOINT\nSUD_SERVICE_HOST\n</code></pre>\n<p>Are getting data from EKS config map. If the values are not present, we get to the default values.</p>\n<pre><code>https://origin-sud.com\nhttps://sud.com\n</code></pre>\n<p>To access it in the spring boot code. We do the below operation. It get the data from EKS config if present or default to default values.\n@GetMapping(&quot;${SUD.MCS_SUBSCRIPTION_ENDPOINT}&quot;)</p>\n<p>Now i want to do that same in vert.x.\nI have read vert.c blog but i couldn't find a way to do it.</p>\n<p>The only way i found out it to get the values like</p>\n<pre><code>String host = System.getenv.getOrDefault(&quot;SUD_SERVICE_BASE_PATH&quot;, https://origin-sud.com);\nString port = System.getenv.getOrDefault(&quot;SUD_SERVICE_MCS_BASE_PATH&quot;, https://sud.com/);\n</code></pre>\n<p>I want to do something similar to spring boot , instead of calling the System.getenv.getOrDefault. I want to do it in config.</p>\n<p>Appreciate the help provided.</p>\n"},{"tags":["java","spring-boot","jpa","oracle10g"],"answers":[{"comments":[{"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"score":0,"creation_date":1675074795,"post_id":75283129,"comment_id":132842873,"body_markdown":"that&#39;s probably it, but I do both in the same transaction because I want it to undo changes if any error occurrs. Is there someway to update the indexes?","body":"that&#39;s probably it, but I do both in the same transaction because I want it to undo changes if any error occurrs. Is there someway to update the indexes?"},{"owner":{"account_id":24180242,"reputation":11,"user_id":18141029,"display_name":"Tania Gupta"},"score":1,"creation_date":1675077562,"post_id":75283129,"comment_id":132843744,"body_markdown":"You can write a different method  for insertion of data and add @Transactional(propagation = Propagation.REQUIRES_NEW) annotation on it. Call the method in your update(...) method then.","body":"You can write a different method  for insertion of data and add @Transactional(propagation = Propagation.REQUIRES_NEW) annotation on it. Call the method in your update(...) method then."},{"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"score":0,"creation_date":1675081105,"post_id":75283129,"comment_id":132844753,"body_markdown":"your suggestion does not work","body":"your suggestion does not work"},{"owner":{"account_id":24180242,"reputation":11,"user_id":18141029,"display_name":"Tania Gupta"},"score":1,"creation_date":1675144440,"post_id":75283129,"comment_id":132860114,"body_markdown":"Can you share the code snippet, how you implemented it.","body":"Can you share the code snippet, how you implemented it."},{"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"score":0,"creation_date":1675155509,"post_id":75283129,"comment_id":132862497,"body_markdown":"updated the question with it!","body":"updated the question with it!"}],"tags":[],"owner":{"account_id":24180242,"reputation":11,"user_id":18141029,"display_name":"Tania Gupta"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675335481,"creation_date":1675074682,"answer_id":75283129,"question_id":75282927,"body_markdown":"According to me, you should perform `deleteAll()` operation separately as you are using `@Transactional` annotation and changes are not committed until the annotated function successfully returns. Because of that, your primary keys are still duplicated.","title":"ConstraintViolationException during transaction for entity with index","body":"<p>According to me, you should perform <code>deleteAll()</code> operation separately as you are using <code>@Transactional</code> annotation and changes are not committed until the annotated function successfully returns. Because of that, your primary keys are still duplicated.</p>\n"},{"comments":[{"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"score":0,"creation_date":1675076485,"post_id":75283157,"comment_id":132843402,"body_markdown":"yeah, that is basically what is happening, but I&#39;m looking for a way to update that index table as well... I thought it was automatically handled","body":"yeah, that is basically what is happening, but I&#39;m looking for a way to update that index table as well... I thought it was automatically handled"}],"tags":[],"owner":{"account_id":9430282,"reputation":21,"user_id":7014041,"display_name":"Ertan Cakir"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675261510,"creation_date":1675074836,"answer_id":75283157,"question_id":75282927,"body_markdown":"You are getting this error because you put an unique constraint in the table index &quot;productIndex&quot;\r\n\r\nYou are attempting to delete all records in the first line \r\n\r\n    @Transactional\r\n    public void update(List&lt;Product&gt; products) {\r\n     productRepository.deleteAll();\r\n     productRepository.batchInsert(products);\r\n    }\r\n\r\nbut I think the records remain in the index named &quot;productIndex&quot;","title":"ConstraintViolationException during transaction for entity with index","body":"<p>You are getting this error because you put an unique constraint in the table index &quot;productIndex&quot;</p>\n<p>You are attempting to delete all records in the first line</p>\n<pre><code>@Transactional\npublic void update(List&lt;Product&gt; products) {\n productRepository.deleteAll();\n productRepository.batchInsert(products);\n}\n</code></pre>\n<p>but I think the records remain in the index named &quot;productIndex&quot;</p>\n"},{"comments":[{"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"score":0,"creation_date":1675162874,"post_id":75295293,"comment_id":132864812,"body_markdown":"with this code, deletion is done even if insertion fails. This is not what I want","body":"with this code, deletion is done even if insertion fails. This is not what I want"}],"tags":[],"owner":{"account_id":9430282,"reputation":21,"user_id":7014041,"display_name":"Ertan Cakir"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675158450,"creation_date":1675158450,"answer_id":75295293,"question_id":75282927,"body_markdown":"Can you try this code\r\n\r\n    public void update(List&lt;Product&gt; products) {\r\n     deleteAll()\r\n     insertProducts(products);\r\n    }\r\n\r\n    @Transactional\r\n    public void deleteAll() {\r\n     productRepository.deleteAll();\r\n    }\r\n\r\n    @Transactional\r\n    public void insertProducts(List&lt;Product&gt; products) {\r\n     productRepository.batchInsert(products);\r\n    }","title":"ConstraintViolationException during transaction for entity with index","body":"<p>Can you try this code</p>\n<pre><code>public void update(List&lt;Product&gt; products) {\n deleteAll()\n insertProducts(products);\n}\n\n@Transactional\npublic void deleteAll() {\n productRepository.deleteAll();\n}\n\n@Transactional\npublic void insertProducts(List&lt;Product&gt; products) {\n productRepository.batchInsert(products);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"score":0,"creation_date":1675253140,"post_id":75309770,"comment_id":132887546,"body_markdown":"solution 2 works! Thanks!","body":"solution 2 works! Thanks!"}],"tags":[],"owner":{"account_id":462914,"reputation":613,"user_id":865499,"accept_rate":0,"display_name":"maricn"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675252301,"creation_date":1675252301,"answer_id":75309770,"question_id":75282927,"body_markdown":"I think I&#39;ve found a few answers that address your problem.\r\n\r\n## Solution 1 - [#link](https://stackoverflow.com/a/62637878/865499)\r\nAnnotate your transactional method with:\r\n```java\r\n@Modifying(flushAutomatically = true)\r\n```\r\n\r\nThat will make sure that `deleteAll` call is flushed, ie. indexes are updated, before the following `batchInsert` call.\r\n\r\n## Solution 2 - [#link](https://stackoverflow.com/a/72452608/865499)\r\nUse `deleteAllInBatch` from `JpaRepository` instead of `deleteAll`.\r\n\r\n## Solution 3 - [#link](https://stackoverflow.com/a/50370469/865499)\r\nManually invoke `flush` after `deleteAll` in the transactional method.\r\n\r\n## Solution 4\r\nA more custom SQL solution would be to batch insert new records into a temporary table. Then you can either:\r\n1. Drop the existing `product` table and rename the temporary one into `product`.\r\n2. `SELECT * FROM #temp_table INTO product` - put all records from temp table to `product`.\r\n\r\nLet me know if any of that works. Good luck!","title":"ConstraintViolationException during transaction for entity with index","body":"<p>I think I've found a few answers that address your problem.</p>\n<h2>Solution 1 - <a href=\"https://stackoverflow.com/a/62637878/865499\">#link</a></h2>\n<p>Annotate your transactional method with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Modifying(flushAutomatically = true)\n</code></pre>\n<p>That will make sure that <code>deleteAll</code> call is flushed, ie. indexes are updated, before the following <code>batchInsert</code> call.</p>\n<h2>Solution 2 - <a href=\"https://stackoverflow.com/a/72452608/865499\">#link</a></h2>\n<p>Use <code>deleteAllInBatch</code> from <code>JpaRepository</code> instead of <code>deleteAll</code>.</p>\n<h2>Solution 3 - <a href=\"https://stackoverflow.com/a/50370469/865499\">#link</a></h2>\n<p>Manually invoke <code>flush</code> after <code>deleteAll</code> in the transactional method.</p>\n<h2>Solution 4</h2>\n<p>A more custom SQL solution would be to batch insert new records into a temporary table. Then you can either:</p>\n<ol>\n<li>Drop the existing <code>product</code> table and rename the temporary one into <code>product</code>.</li>\n<li><code>SELECT * FROM #temp_table INTO product</code> - put all records from temp table to <code>product</code>.</li>\n</ol>\n<p>Let me know if any of that works. Good luck!</p>\n"}],"owner":{"account_id":13299918,"reputation":406,"user_id":9601720,"display_name":"thmasker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75309770,"answer_count":4,"score":1,"last_activity_date":1675335481,"creation_date":1675073714,"question_id":75282927,"body_markdown":"I have the following entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;product&quot;,\r\n            indexes = {@Index(name = &quot;productIndex&quot;, columnList = &quot;family, group, type&quot;, unique = true)})\r\n    public class Product implements Serializable {\r\n    \r\n        @Id\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;family&quot;)\r\n        private String family;\r\n    \r\n        @Column(name = &quot;group&quot;)\r\n        private String group;\r\n    \r\n        @Column(name = &quot;type&quot;)\r\n        private String type;\r\n    \r\n    }\r\n\r\nAnd I&#39;m trying to empty its database table, and insert new rows:\r\n\r\n    @Transactional\r\n    public void update(List&lt;Product&gt; products) {\r\n        productRepository.deleteAll();\r\n        productRepository.batchInsert(products);\r\n    }\r\n\r\n`ProductRepository` is:\r\n\r\n    public interface ProductRepository extends JpaRepository&lt;Product, Long&gt;, BatchRepository&lt;Product&gt; { }\r\n\r\nAnd `BatchRepository`:\r\n\r\n    @Repository\r\n    public class BatchRepository&lt;T&gt; {\r\n    \r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n    \r\n        @Override\r\n        public int batchInsert(List&lt;T&gt; entities) {\r\n            int count = 0;\r\n    \r\n            for (T entity : entities) {\r\n                entityManager.persist(entity);\r\n                count++;\r\n    \r\n                if (count % 2000 == 0) {\r\n                    entityManager.flush();\r\n                    entityManager.clear();\r\n                }\r\n            }\r\n    \r\n            entityManager.flush();\r\n            entityManager.clear();\r\n    \r\n            return count;\r\n        }\r\n    \r\n    }\r\n\r\nTrying to perform the insertion fails with `java.sql.BatchUpdateException: ORA-00001: unique constraint (productIndex) violated`, but shouldn&#39;t the previous deletion make this violation impossible to happen?\r\n\r\nUpdate #1\r\n---\r\n\r\n    @Transactional\r\n    public void update(List&lt;Product&gt; products) {\r\n        productRepository.deleteAll();\r\n        insertProducts(products);\r\n    }\r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    public void insertProducts(List&lt;Product&gt; products) {\r\n        productRepository.batchInsert(products);\r\n    }","title":"ConstraintViolationException during transaction for entity with index","body":"<p>I have the following entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;product&quot;,\n        indexes = {@Index(name = &quot;productIndex&quot;, columnList = &quot;family, group, type&quot;, unique = true)})\npublic class Product implements Serializable {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;family&quot;)\n    private String family;\n\n    @Column(name = &quot;group&quot;)\n    private String group;\n\n    @Column(name = &quot;type&quot;)\n    private String type;\n\n}\n</code></pre>\n<p>And I'm trying to empty its database table, and insert new rows:</p>\n<pre><code>@Transactional\npublic void update(List&lt;Product&gt; products) {\n    productRepository.deleteAll();\n    productRepository.batchInsert(products);\n}\n</code></pre>\n<p><code>ProductRepository</code> is:</p>\n<pre><code>public interface ProductRepository extends JpaRepository&lt;Product, Long&gt;, BatchRepository&lt;Product&gt; { }\n</code></pre>\n<p>And <code>BatchRepository</code>:</p>\n<pre><code>@Repository\npublic class BatchRepository&lt;T&gt; {\n\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @Override\n    public int batchInsert(List&lt;T&gt; entities) {\n        int count = 0;\n\n        for (T entity : entities) {\n            entityManager.persist(entity);\n            count++;\n\n            if (count % 2000 == 0) {\n                entityManager.flush();\n                entityManager.clear();\n            }\n        }\n\n        entityManager.flush();\n        entityManager.clear();\n\n        return count;\n    }\n\n}\n</code></pre>\n<p>Trying to perform the insertion fails with <code>java.sql.BatchUpdateException: ORA-00001: unique constraint (productIndex) violated</code>, but shouldn't the previous deletion make this violation impossible to happen?</p>\n<h2>Update #1</h2>\n<pre><code>@Transactional\npublic void update(List&lt;Product&gt; products) {\n    productRepository.deleteAll();\n    insertProducts(products);\n}\n\n@Transactional(propagation = Propagation.REQUIRES_NEW)\npublic void insertProducts(List&lt;Product&gt; products) {\n    productRepository.batchInsert(products);\n}\n</code></pre>\n"},{"tags":["java","path","java-home"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1597118167,"post_id":63351184,"comment_id":112022032,"body_markdown":"Does this answer your question? [what is the reason for the existence of the JAVA\\_HOME environment variable?](https://stackoverflow.com/questions/5102022/what-is-the-reason-for-the-existence-of-the-java-home-environment-variable)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5102022/what-is-the-reason-for-the-existence-of-the-java-home-environment-variable\">what is the reason for the existence of the JAVA_HOME environment variable?</a>"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1597118243,"post_id":63351184,"comment_id":112022045,"body_markdown":"JAVA_HOME isn&#39;t strictly necessary because the JDK doesn&#39;t use it. Other Java applications however do use it, so some tutorials have you set it as a precaution.","body":"JAVA_HOME isn&#39;t strictly necessary because the JDK doesn&#39;t use it. Other Java applications however do use it, so some tutorials have you set it as a precaution."}],"answers":[{"tags":[],"owner":{"account_id":19269769,"reputation":220,"user_id":14083955,"display_name":"Jessy Guirado"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597118036,"creation_date":1597118036,"answer_id":63351256,"question_id":63351184,"body_markdown":"The difference is user variables means the variable will only be able to be used &amp; called by the user it was created by. On the other hand, for system variables, all users can use that variable.\r\n\r\nI would recommend setting it to the system variables for compatibility, accessibility and less chance of creating errors of variable not found. ","title":"Do I need to set java JDK path in user variables or system variables?","body":"<p>The difference is user variables means the variable will only be able to be used &amp; called by the user it was created by. On the other hand, for system variables, all users can use that variable.</p>\n<p>I would recommend setting it to the system variables for compatibility, accessibility and less chance of creating errors of variable not found.</p>\n"},{"comments":[{"owner":{"account_id":2235815,"reputation":884,"user_id":1972234,"display_name":"sujith s"},"score":0,"creation_date":1675335466,"post_id":63351277,"comment_id":132908520,"body_markdown":"Adding extra points. If you want to give all the users to a one version of java as a base user system variable section and the current user or any user need a specific then you can use user variable section to point out specific version of java to that user only.","body":"Adding extra points. If you want to give all the users to a one version of java as a base user system variable section and the current user or any user need a specific then you can use user variable section to point out specific version of java to that user only."}],"tags":[],"owner":{"account_id":17483041,"reputation":159,"user_id":12676661,"display_name":"scgrk"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1597118236,"creation_date":1597118236,"answer_id":63351277,"question_id":63351184,"body_markdown":"If you set it as a user variable, it&#39;s only available to the current user. If you set it as a system variable, it&#39;s available for all users. i.e. if you log out of Windows and log in with a different user, you won&#39;t have the JDK on your system path if you set it as a user variable. If it&#39;s your personal computer and you only have one account, it doesn&#39;t matter too much. I&#39;d recommend setting it as a system variable.\r\n\r\n`JAVA_HOME` is used by Gradle and Maven build tools (and some other things) to know where the root directory of your JDK is located. It should point to the folder where the `bin` folder is located, ie `C:\\Program Files\\Java\\jdk-11.0.7`. If you&#39;re just starting out, I wouldn&#39;t worry about it too much. It&#39;s not necessary until you start using more complex tools for development.","title":"Do I need to set java JDK path in user variables or system variables?","body":"<p>If you set it as a user variable, it's only available to the current user. If you set it as a system variable, it's available for all users. i.e. if you log out of Windows and log in with a different user, you won't have the JDK on your system path if you set it as a user variable. If it's your personal computer and you only have one account, it doesn't matter too much. I'd recommend setting it as a system variable.</p>\n<p><code>JAVA_HOME</code> is used by Gradle and Maven build tools (and some other things) to know where the root directory of your JDK is located. It should point to the folder where the <code>bin</code> folder is located, ie <code>C:\\Program Files\\Java\\jdk-11.0.7</code>. If you're just starting out, I wouldn't worry about it too much. It's not necessary until you start using more complex tools for development.</p>\n"}],"owner":{"account_id":17898566,"reputation":33,"user_id":13003322,"display_name":"Md.Badruzzaman Nibir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8134,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":63351277,"answer_count":2,"score":3,"last_activity_date":1675335388,"creation_date":1597117435,"question_id":63351184,"body_markdown":"I am new in java programming. I am currently using Windows. Recently I saw a video tutorial from YouTube that the instructor was setting `java JDK path` in system variables then created a new variable called `JAVA_HOME`. \r\n\r\nNow I saw in `javaTpoint tutorial` that they were setting the path in user variables didn&#39;t create any `JAVA_HOME` variable. \r\n\r\nSo my question is what is the difference between the set path in user variables and system variables? Which one do I have to set? and what&#39;s all about `JAVA_HOME`? \r\n\r\nI didn&#39;t found any proper explanation on this. Your answer would be highly appreciated. ","title":"Do I need to set java JDK path in user variables or system variables?","body":"<p>I am new in java programming. I am currently using Windows. Recently I saw a video tutorial from YouTube that the instructor was setting <code>java JDK path</code> in system variables then created a new variable called <code>JAVA_HOME</code>.</p>\n<p>Now I saw in <code>javaTpoint tutorial</code> that they were setting the path in user variables didn't create any <code>JAVA_HOME</code> variable.</p>\n<p>So my question is what is the difference between the set path in user variables and system variables? Which one do I have to set? and what's all about <code>JAVA_HOME</code>?</p>\n<p>I didn't found any proper explanation on this. Your answer would be highly appreciated.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":8,"creation_date":1395098158,"post_id":22467362,"comment_id":34175471,"body_markdown":"Backwards compatibility.","body":"Backwards compatibility."},{"owner":{"account_id":533454,"reputation":3270,"user_id":903163,"accept_rate":100,"display_name":"frostmatthew"},"score":1,"creation_date":1395098304,"post_id":22467362,"comment_id":34175519,"body_markdown":"possible duplicate of [What exactly is meant by backwards compatibility in case of Java Generics?](http://stackoverflow.com/questions/22457900/what-exactly-is-meant-by-backwards-compatibility-in-case-of-java-generics)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/22457900/what-exactly-is-meant-by-backwards-compatibility-in-case-of-java-generics\">What exactly is meant by backwards compatibility in case of Java Generics?</a>"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":1,"creation_date":1395098332,"post_id":22467362,"comment_id":34175530,"body_markdown":"Perhaps what you have overlooked is [erasure](http://docs.oracle.com/javase/tutorial/java/generics/erasure.html). This is just the way generics are implemented.","body":"Perhaps what you have overlooked is <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">erasure</a>. This is just the way generics are implemented."},{"owner":{"account_id":3161015,"reputation":3091,"user_id":2672137,"accept_rate":80,"display_name":"Rob L"},"score":0,"creation_date":1395098397,"post_id":22467362,"comment_id":34175552,"body_markdown":"@Exupery - Had I known what it was called I would have done more research before asking... my apologies.","body":"@Exupery - Had I known what it was called I would have done more research before asking... my apologies."},{"owner":{"account_id":3161015,"reputation":3091,"user_id":2672137,"accept_rate":80,"display_name":"Rob L"},"score":0,"creation_date":1395098508,"post_id":22467362,"comment_id":34175590,"body_markdown":"@Radiodef - ok that is the next chapter in the book I am reading. Maybe I was too quick to want to figure it out. Thank you.","body":"@Radiodef - ok that is the next chapter in the book I am reading. Maybe I was too quick to want to figure it out. Thank you."},{"owner":{"account_id":405939,"reputation":11839,"user_id":775138,"accept_rate":66,"display_name":"herman"},"score":3,"creation_date":1395100797,"post_id":22467362,"comment_id":34176274,"body_markdown":"After all the answers about backwards compatibility, here are other reasons for type erasure: http://stackoverflow.com/questions/20918650/are-there-benefits-to-javas-type-erasure","body":"After all the answers about backwards compatibility, here are other reasons for type erasure: <a href=\"http://stackoverflow.com/questions/20918650/are-there-benefits-to-javas-type-erasure\" title=\"are there benefits to javas type erasure\">stackoverflow.com/questions/20918650/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":3161015,"reputation":3091,"user_id":2672137,"accept_rate":80,"display_name":"Rob L"},"score":1,"creation_date":1395099181,"post_id":22467426,"comment_id":34175791,"body_markdown":"This is a well thought out helpful answer. I am going to read about type erasure right now, but this definitely gives me a better understanding about Java generics and type erasure. Thank you!","body":"This is a well thought out helpful answer. I am going to read about type erasure right now, but this definitely gives me a better understanding about Java generics and type erasure. Thank you!"},{"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"score":1,"creation_date":1395099222,"post_id":22467426,"comment_id":34175808,"body_markdown":"The official Oracle docs are rather thorough and understandable. Consider reading thorugh the generics *trail* on their site.","body":"The official Oracle docs are rather thorough and understandable. Consider reading thorugh the generics <i>trail</i> on their site."}],"tags":[],"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1395098825,"creation_date":1395098510,"answer_id":22467426,"question_id":22467362,"body_markdown":"The problem is that generics was not always present in java (I think they added it in 1.5). So in order to be able to achieve backwards compatibility there is [type erasure][1] which effectively erases generic type information while compiling your code in order to achieve that goal.\r\n\r\nExcerpt from the relevant parts of the official documentation:\r\n\r\n&gt; During the type erasure process, the Java compiler erases all type\r\n&gt; parameters and replaces each with its first bound if the type\r\n&gt; parameter is bounded, or Object if the type parameter is unbounded.\r\n\r\nSo this code for example\r\n\r\n    public class Node&lt;T extends Comparable&lt;T&gt;&gt; {\r\n    \r\n        private T data;\r\n        private Node&lt;T&gt; next;\r\n    \r\n        public Node(T data, Node&lt;T&gt; next) {\r\n            this.data = data;\r\n            this.next = next;\r\n        }\r\n    \r\n        public T getData() { return data; }\r\n        // ...\r\n    }\r\n\r\nbecomes this after type erasure:\r\n\r\n    public class Node {\r\n    \r\n        private Comparable data;\r\n        private Node next;\r\n    \r\n        public Node(Comparable data, Node next) {\r\n            this.data = data;\r\n            this.next = next;\r\n        }\r\n    \r\n        public Comparable getData() { return data; }\r\n        // ...\r\n    }\r\n\r\nThere is a way however to resurrect some of that type information if you tread the path of [reflection][2] which is like a **lightsaber**: powerful but also dangerous.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/generics/erasure.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/reflect/","title":"In Java, why is there no generic type info at run time?","body":"<p>The problem is that generics was not always present in java (I think they added it in 1.5). So in order to be able to achieve backwards compatibility there is <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"noreferrer\">type erasure</a> which effectively erases generic type information while compiling your code in order to achieve that goal.</p>\n\n<p>Excerpt from the relevant parts of the official documentation:</p>\n\n<blockquote>\n  <p>During the type erasure process, the Java compiler erases all type\n  parameters and replaces each with its first bound if the type\n  parameter is bounded, or Object if the type parameter is unbounded.</p>\n</blockquote>\n\n<p>So this code for example</p>\n\n<pre><code>public class Node&lt;T extends Comparable&lt;T&gt;&gt; {\n\n    private T data;\n    private Node&lt;T&gt; next;\n\n    public Node(T data, Node&lt;T&gt; next) {\n        this.data = data;\n        this.next = next;\n    }\n\n    public T getData() { return data; }\n    // ...\n}\n</code></pre>\n\n<p>becomes this after type erasure:</p>\n\n<pre><code>public class Node {\n\n    private Comparable data;\n    private Node next;\n\n    public Node(Comparable data, Node next) {\n        this.data = data;\n        this.next = next;\n    }\n\n    public Comparable getData() { return data; }\n    // ...\n}\n</code></pre>\n\n<p>There is a way however to resurrect some of that type information if you tread the path of <a href=\"http://docs.oracle.com/javase/tutorial/reflect/\" rel=\"noreferrer\">reflection</a> which is like a <strong>lightsaber</strong>: powerful but also dangerous.</p>\n"},{"comments":[{"owner":{"account_id":3161015,"reputation":3091,"user_id":2672137,"accept_rate":80,"display_name":"Rob L"},"score":0,"creation_date":1395098737,"post_id":22467439,"comment_id":34175657,"body_markdown":"Ok, that makes sense and that&#39;s the backwards compatibility someone else had mentioned. Thanks for clarifying.","body":"Ok, that makes sense and that&#39;s the backwards compatibility someone else had mentioned. Thanks for clarifying."},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":1,"creation_date":1538004106,"post_id":22467439,"comment_id":91994200,"body_markdown":"What the check were they thinking?? How do you write any of your own code that uses &lt;T&gt;, &lt;K,V&gt; ?  I&#39;m trying to implement a GenericCacheAside&lt;T&gt; implementation, something I did in C# easily.....I hit this issue.  Boo.  Error message = &quot;The run time type is not available, got: TEntity&quot;","body":"What the check were they thinking?? How do you write any of your own code that uses &lt;T&gt;, &lt;K,V&gt; ?  I&#39;m trying to implement a GenericCacheAside&lt;T&gt; implementation, something I did in C# easily.....I hit this issue.  Boo.  Error message = &quot;The run time type is not available, got: TEntity&quot;"}],"tags":[],"owner":{"account_id":308584,"reputation":5209,"user_id":620554,"accept_rate":40,"display_name":"Judge Mental"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1561752809,"creation_date":1395098628,"answer_id":22467439,"question_id":22467362,"body_markdown":"You have &quot;overlooked a simple concept&quot;.  The generics exist _only_ at compile time, and only to enforce things like parametric polymorphism.  Because the folks who implemented them decided that developers should be able to use them (generics) and still deploy their built artifacts to targets with older JVMs (an extremely questionable decision in my mind, as the runtime libraries also changed between 1.4 and 1.5), they had the compiler decide if everything type-checks and then they throw away almost all of that information before creating the compiled artifact.\r\n\r\nI say _almost_ all of that information because in [some special cases][1] it is still around at runtime.\r\n\r\n  [1]: https://www.gridshore.nl/2009/10/27/some-notes-on-discovering-your-type-parameter-using-the-reflection-api/","title":"In Java, why is there no generic type info at run time?","body":"<p>You have \"overlooked a simple concept\".  The generics exist <em>only</em> at compile time, and only to enforce things like parametric polymorphism.  Because the folks who implemented them decided that developers should be able to use them (generics) and still deploy their built artifacts to targets with older JVMs (an extremely questionable decision in my mind, as the runtime libraries also changed between 1.4 and 1.5), they had the compiler decide if everything type-checks and then they throw away almost all of that information before creating the compiled artifact.</p>\n\n<p>I say <em>almost</em> all of that information because in <a href=\"https://www.gridshore.nl/2009/10/27/some-notes-on-discovering-your-type-parameter-using-the-reflection-api/\" rel=\"nofollow noreferrer\">some special cases</a> it is still around at runtime.</p>\n"},{"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1395099017,"post_id":22467462,"comment_id":34175741,"body_markdown":"How does that explain why `obj instanceof Gen2&lt;Integer&gt;` does not compile while `obj instanceof Gen2&lt;?&gt;` does?","body":"How does that explain why <code>obj instanceof Gen2&lt;Integer&gt;</code> does not compile while <code>obj instanceof Gen2&lt;?&gt;</code> does?"},{"owner":{"account_id":1844613,"reputation":2082,"user_id":1673243,"display_name":"Giuseppe Bertone"},"score":0,"creation_date":1395099394,"post_id":22467462,"comment_id":34175850,"body_markdown":"Because generic information is not present at runtime, only at compile time. The compiler knows that the VM will not be able to know the type of the object, so it does not compile even if you want to use the 1.5 compiler. `Gen2&lt;?&gt;` is a wildcard, so it means every object is ok, so it compiles.","body":"Because generic information is not present at runtime, only at compile time. The compiler knows that the VM will not be able to know the type of the object, so it does not compile even if you want to use the 1.5 compiler. <code>Gen2&lt;?&gt;</code> is a wildcard, so it means every object is ok, so it compiles."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1395099460,"post_id":22467462,"comment_id":34175869,"body_markdown":"`Gen2&lt;?&gt;` is very much different than `Get2&lt;Object&gt;`. Also, not all generic information is lost at run time.","body":"<code>Gen2&lt;?&gt;</code> is very much different than <code>Get2&lt;Object&gt;</code>. Also, not all generic information is lost at run time."},{"owner":{"account_id":1844613,"reputation":2082,"user_id":1673243,"display_name":"Giuseppe Bertone"},"score":0,"creation_date":1395099855,"post_id":22467462,"comment_id":34176000,"body_markdown":"Every class extends Object, so the effect is the same. But because Object is a type itself, the compiler &quot;_cannot perform instanceof check against parameterized type Gen2&lt;Object&gt;. Use the form Gen2&lt;?&gt; instead since further generic type information will be erased at runtime_&quot;. It seems to me simply a syntax related issue, not really a backward compatibility issue. And, what are the generic information retained at runtime?","body":"Every class extends Object, so the effect is the same. But because Object is a type itself, the compiler &quot;<i>cannot perform instanceof check against parameterized type Gen2&lt;Object&gt;. Use the form Gen2&lt;?&gt; instead since further generic type information will be erased at runtime</i>&quot;. It seems to me simply a syntax related issue, not really a backward compatibility issue. And, what are the generic information retained at runtime?"},{"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"score":0,"creation_date":1395100893,"post_id":22467462,"comment_id":34176307,"body_markdown":"@Neurone It is (was) a compatibility issue with the existing Java *types* and byte-code. When .NET introduced generics in 2.0 they chose a different approach (with &quot;reified types&quot;), but it also means `List` and `List&lt;T&gt;` are two *different* types and moving from .NET 2.0 from .NET 1.1 was a *non-backwards compatible change* (even though the ancient C#1 *source* can be compiled for .NET 2).","body":"@Neurone It is (was) a compatibility issue with the existing Java <i>types</i> and byte-code. When .NET introduced generics in 2.0 they chose a different approach (with &quot;reified types&quot;), but it also means <code>List</code> and <code>List&lt;T&gt;</code> are two <i>different</i> types and moving from .NET 2.0 from .NET 1.1 was a <i>non-backwards compatible change</i> (even though the ancient C#1 <i>source</i> can be compiled for .NET 2)."}],"tags":[],"owner":{"account_id":1844613,"reputation":2082,"user_id":1673243,"display_name":"Giuseppe Bertone"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395098753,"creation_date":1395098753,"answer_id":22467462,"question_id":22467362,"body_markdown":"*Generics were introduced to the Java language to provide tighter type checks at **compile time** and to support generic programming. [...] Type erasure ensures that no new classes are created for parameterized types; consequently, **generics incur no runtime overhead.***\r\n\r\n\r\nI don&#39;t think this is related to backwards compatibility at all. If you compile your code targetting 1.5 or more, the code will be not compatible with 1.4, regardless the use of generics.","title":"In Java, why is there no generic type info at run time?","body":"<p><em>Generics were introduced to the Java language to provide tighter type checks at <strong>compile time</strong> and to support generic programming. [...] Type erasure ensures that no new classes are created for parameterized types; consequently, <strong>generics incur no runtime overhead.</em></strong></p>\n\n<p>I don't think this is related to backwards compatibility at all. If you compile your code targetting 1.5 or more, the code will be not compatible with 1.4, regardless the use of generics.</p>\n"},{"tags":[],"owner":{"account_id":1144755,"reputation":1415,"user_id":1127772,"display_name":"Carlos Saltos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641673320,"creation_date":1641673320,"answer_id":70636114,"question_id":22467362,"body_markdown":"I found also this error while I was trying to use Cache2k via ScalaCache and after a couple of hours of tries and errors, I came to this simple solution -&gt;\r\n\r\nMake everything an Object (in Scala you can use Any that is just an alias of java.lang.Object)\r\n\r\nWith everything as an Object the reflection part has no problem (since no type has to be discovered nor casted)\r\n\r\nAfter letting Cache2k do it&#39;s wonderful job via ScalaCache, I just make the casting on top of the results (on Java is just a normal casting, with Scala is a call to instanceOf with the type you want) ... and voli&#225; !! ... it works","title":"In Java, why is there no generic type info at run time?","body":"<p>I found also this error while I was trying to use Cache2k via ScalaCache and after a couple of hours of tries and errors, I came to this simple solution -&gt;</p>\n<p>Make everything an Object (in Scala you can use Any that is just an alias of java.lang.Object)</p>\n<p>With everything as an Object the reflection part has no problem (since no type has to be discovered nor casted)</p>\n<p>After letting Cache2k do it's wonderful job via ScalaCache, I just make the casting on top of the results (on Java is just a normal casting, with Scala is a call to instanceOf with the type you want) ... and voli !! ... it works</p>\n"}],"owner":{"account_id":3161015,"reputation":3091,"user_id":2672137,"accept_rate":80,"display_name":"Rob L"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8204,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":22467426,"answer_count":4,"score":13,"last_activity_date":1675335220,"creation_date":1395098120,"question_id":22467362,"body_markdown":"Consider this example taken from a book, with a super class Gen&lt;T&gt; and a subclass Gen2&lt;T&gt;...\r\n\r\n    class Gen&lt;T&gt; { }\r\n\r\n    class Gen2&lt;T&gt; extends Gen&lt;T&gt; { }\r\n\r\nNow the book states following will not compile (lets assume its in a main method)\r\n\r\n    Gen2&lt;Integer&gt; obj = new Gen2&lt;Integer&gt;();\r\n\r\n    if (obj instanceof Gen2&lt;Integer&gt;) {\r\n\r\n        //do something\r\n    }\r\n\r\nThis can&#39;t be compiled because generic type info does not exist at runtime. If it doesn&#39;t exist at runtime, when does it exist? I thought that it would not exist at compile time, but would exist at runtime. Certainly, the following works for runtime with a wildcard...\r\n\r\n    if (obj instanceof Gen&lt;?&gt;) {\r\n          \r\n        //do something else\r\n\r\n    }\r\n\r\nSo, to clarify, my question is: why does generic type information not exist at runtime? Have I overlooked a simple concept?","title":"In Java, why is there no generic type info at run time?","body":"<p>Consider this example taken from a book, with a super class Gen and a subclass Gen2...</p>\n<pre><code>class Gen&lt;T&gt; { }\n\nclass Gen2&lt;T&gt; extends Gen&lt;T&gt; { }\n</code></pre>\n<p>Now the book states following will not compile (lets assume its in a main method)</p>\n<pre><code>Gen2&lt;Integer&gt; obj = new Gen2&lt;Integer&gt;();\n\nif (obj instanceof Gen2&lt;Integer&gt;) {\n\n    //do something\n}\n</code></pre>\n<p>This can't be compiled because generic type info does not exist at runtime. If it doesn't exist at runtime, when does it exist? I thought that it would not exist at compile time, but would exist at runtime. Certainly, the following works for runtime with a wildcard...</p>\n<pre><code>if (obj instanceof Gen&lt;?&gt;) {\n      \n    //do something else\n\n}\n</code></pre>\n<p>So, to clarify, my question is: why does generic type information not exist at runtime? Have I overlooked a simple concept?</p>\n"},{"tags":["java","android","android-databinding","android-viewbinding"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1675344495,"post_id":75322038,"comment_id":132911618,"body_markdown":"This is against the sense of data binding (binding java data to xml and vice versa)","body":"This is against the sense of data binding (binding java data to xml and vice versa)"}],"owner":{"account_id":11024743,"reputation":135,"user_id":8097976,"display_name":"Sebi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675334900,"creation_date":1675334900,"question_id":75322038,"body_markdown":"Hi I have following Problem:\r\n\r\nLets say I have multiple types of DataSets \r\n\r\n    DataSet1{\r\n    \t@Bindable\r\n    \tpublic String Name;\r\n    \t\r\n    \t@Bindable\r\n    \tpublic int Duration;\r\n    }\r\n    \r\n    DataSet2{\r\n    \t@Bindable\r\n    \tpublic String Url;\r\n    \t\r\n    \t@Bindable\r\n    \tpublic int StartTime;\r\n    }\r\n\r\n\r\nNow I want create for each parameter in this DataSets an EditTextBox with its text property binds to the parameters. I know how to do this static within the xml layout files. But I have multiple DataSets and I don&#39;t want to create foreach of this a specified xml file. \r\n\r\n    android:text=&quot;@={dataSet.Name}&quot;\r\n\r\nIs it possible to create this binding programmatically? like:\r\n\r\n    binding.setBinding(binding.text.text, dataSet.name);\r\n\r\nwhere binding.text the EditTextView. ","title":"Dynamically connect parameter to view via DataBinding","body":"<p>Hi I have following Problem:</p>\n<p>Lets say I have multiple types of DataSets</p>\n<pre><code>DataSet1{\n    @Bindable\n    public String Name;\n    \n    @Bindable\n    public int Duration;\n}\n\nDataSet2{\n    @Bindable\n    public String Url;\n    \n    @Bindable\n    public int StartTime;\n}\n</code></pre>\n<p>Now I want create for each parameter in this DataSets an EditTextBox with its text property binds to the parameters. I know how to do this static within the xml layout files. But I have multiple DataSets and I don't want to create foreach of this a specified xml file.</p>\n<pre><code>android:text=&quot;@={dataSet.Name}&quot;\n</code></pre>\n<p>Is it possible to create this binding programmatically? like:</p>\n<pre><code>binding.setBinding(binding.text.text, dataSet.name);\n</code></pre>\n<p>where binding.text the EditTextView.</p>\n"},{"tags":["java","eclipse","quarkus","jboss-tools"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1675112609,"post_id":75287326,"comment_id":132855058,"body_markdown":"Did it also create an entry in the Error Log? The tool developers could use that kind of information.","body":"Did it also create an entry in the Error Log? The tool developers could use that kind of information."},{"owner":{"account_id":17318281,"reputation":1,"user_id":12544248,"display_name":"Learn-techie"},"score":0,"creation_date":1675160065,"post_id":75287326,"comment_id":132863931,"body_markdown":"Thank you, updated with the error log entry from eclipse","body":"Thank you, updated with the error log entry from eclipse"}],"answers":[{"comments":[{"owner":{"account_id":5490196,"reputation":670,"user_id":4363776,"accept_rate":100,"display_name":"David Gomes"},"score":0,"creation_date":1675602179,"post_id":75322016,"comment_id":132960546,"body_markdown":"not an answer, should be a comment or flag","body":"not an answer, should be a comment or flag"},{"owner":{"account_id":17318281,"reputation":1,"user_id":12544248,"display_name":"Learn-techie"},"score":0,"creation_date":1676300457,"post_id":75322016,"comment_id":133104331,"body_markdown":"Thank you for helping out, already tried the suggested solutions but did not work","body":"Thank you for helping out, already tried the suggested solutions but did not work"},{"owner":{"account_id":27684142,"reputation":1,"user_id":21132244,"display_name":"Oleksii Korniienko"},"score":0,"creation_date":1679652657,"post_id":75322016,"comment_id":133763210,"body_markdown":"@Learn-techie Can I ask you to provide more detailed steps?","body":"@Learn-techie Can I ask you to provide more detailed steps?"}],"tags":[],"owner":{"account_id":27684142,"reputation":1,"user_id":21132244,"display_name":"Oleksii Korniienko"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675334851,"creation_date":1675334820,"answer_id":75322016,"question_id":75287326,"body_markdown":"I&#39;ve tried to create new quarkus project with Eclipse Version: 2022-12 (4.26.0) and JBT 4.26.0.Final and it works for me.\r\n\r\nCan I ask you to provide more steps with more info?\r\nfor example: \r\n 1. Window -&gt; Perspective -&gt; quarkus perspective\r\n 2. File -&gt; New -&gt; Quarkus project\r\n 3. Quarkus stream: ...\r\n\r\nI can create and run quarkus project w/o any issues.\r\nYou can also try to:\r\n 1. remove your .m2/repository folder and reinstall eclipse\r\n 2. check if you have any network problems","title":"unable to create quarkus project in eclipse(Version: 2022-12 (4.26.0)) getting an error &quot;Remote host terminated the handshake&quot;","body":"<p>I've tried to create new quarkus project with Eclipse Version: 2022-12 (4.26.0) and JBT 4.26.0.Final and it works for me.</p>\n<p>Can I ask you to provide more steps with more info?\nfor example:</p>\n<ol>\n<li>Window -&gt; Perspective -&gt; quarkus perspective</li>\n<li>File -&gt; New -&gt; Quarkus project</li>\n<li>Quarkus stream: ...</li>\n</ol>\n<p>I can create and run quarkus project w/o any issues.\nYou can also try to:</p>\n<ol>\n<li>remove your .m2/repository folder and reinstall eclipse</li>\n<li>check if you have any network problems</li>\n</ol>\n"}],"owner":{"account_id":17318281,"reputation":1,"user_id":12544248,"display_name":"Learn-techie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675334851,"creation_date":1675096290,"question_id":75287326,"body_markdown":"I am trying to create new Quarkus project using jee eclipse\r\n1. Create new project using new project wizard in jee eclipse(Version: 2022-12 (4.26.0))\r\n2. select Quarkas project, click next and continue for next few windows and click finish\r\nNow, in eclipse an error window shows up with the below message\r\n &quot;Creating quarkus project has encountered problem &quot;Remote host terminated the handshake&quot;\r\n\r\ntried to find the solution in docs and google search nothing helped \r\n\r\nError Log from eclipse:\r\n\r\n    javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.handleEOF(SSLSocketImpl.java:1714)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1513)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1420)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\r\n    \tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:436)\r\n    \tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384)\r\n    \tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n    \tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\r\n    \tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:401)\r\n    \tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n    \tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n    \tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n    \tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n    \tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n    \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\r\n    \tat org.jboss.tools.quarkus.core.code.model.QuarkusModelRegistry.zip(QuarkusModelRegistry.java:176)\r\n    \tat org.jboss.tools.quarkus.ui.wizard.CodeProjectWizardController.getZip(CodeProjectWizardController.java:67)\r\n    \tat org.jboss.tools.quarkus.ui.wizard.CodeProjectWizardController.run(CodeProjectWizardController.java:55)\r\n    \tat org.eclipse.core.runtime.jobs.Job$1.run(Job.java:166)\r\n    \tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\n    Caused by: java.io.EOFException: SSL peer shut down incorrectly\r\n    \tat java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:483)\r\n    \tat java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)\r\n    \tat java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:160)\r\n    \tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1505)\r\n    \t... 20 more\r\n\r\n\r\n","title":"unable to create quarkus project in eclipse(Version: 2022-12 (4.26.0)) getting an error &quot;Remote host terminated the handshake&quot;","body":"<p>I am trying to create new Quarkus project using jee eclipse</p>\n<ol>\n<li>Create new project using new project wizard in jee eclipse(Version: 2022-12 (4.26.0))</li>\n<li>select Quarkas project, click next and continue for next few windows and click finish\nNow, in eclipse an error window shows up with the below message\n&quot;Creating quarkus project has encountered problem &quot;Remote host terminated the handshake&quot;</li>\n</ol>\n<p>tried to find the solution in docs and google search nothing helped</p>\n<p>Error Log from eclipse:</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\n    at java.base/sun.security.ssl.SSLSocketImpl.handleEOF(SSLSocketImpl.java:1714)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1513)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1420)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:436)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:401)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\n    at org.jboss.tools.quarkus.core.code.model.QuarkusModelRegistry.zip(QuarkusModelRegistry.java:176)\n    at org.jboss.tools.quarkus.ui.wizard.CodeProjectWizardController.getZip(CodeProjectWizardController.java:67)\n    at org.jboss.tools.quarkus.ui.wizard.CodeProjectWizardController.run(CodeProjectWizardController.java:55)\n    at org.eclipse.core.runtime.jobs.Job$1.run(Job.java:166)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\nCaused by: java.io.EOFException: SSL peer shut down incorrectly\n    at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:483)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:160)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1505)\n    ... 20 more\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1675330064,"post_id":75321017,"comment_id":132906742,"body_markdown":"Java has only three types of variables in that concept scope wise. (and then there are still the modifiers that make differences). a static variable can be a primitive datatype or an Object (reference), same goes for instance and local variables","body":"Java has only three types of variables in that concept scope wise. (and then there are still the modifiers that make differences). a static variable can be a primitive datatype or an Object (reference), same goes for instance and local variables"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":5,"creation_date":1675330133,"post_id":75321017,"comment_id":132906761,"body_markdown":"Because these are different categorisations of variables. You do realise that one can categorise things in more than one way, right?","body":"Because these are different categorisations of variables. You do realise that one can categorise things in more than one way, right?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1675331181,"post_id":75321017,"comment_id":132907091,"body_markdown":"&quot;but it is not local why?&quot; - it&#39;s local. You declare a local variable with the same name as the instance variable (which is usually called a field).","body":"&quot;but it is not local why?&quot; - it&#39;s local. You declare a local variable with the same name as the instance variable (which is usually called a field)."}],"answers":[{"tags":[],"owner":{"account_id":23374750,"reputation":31,"user_id":17445003,"display_name":"zzy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675331151,"creation_date":1675331151,"answer_id":75321251,"question_id":75321017,"body_markdown":"From your question you&#39;re probably wondering why a reference variable isn&#39;t one of the things you&#39;re listing a reference variable is not one of the user defined variables by definition, it&#39;s more like a C++ pointer, when you declare a Java object, you can make changes to the object&#39;s parameters by reference passing\r\n ```\r\n\r\n    public void test() {\r\n       User user = new User();\r\n       user.setAge(18);\r\n       change(user);\r\n       System.out.println(&quot;age:&quot; + user.getAge());\r\n    }\r\n    private void change(User user) {\r\n       user.setAge(19);\r\n    }\r\n\r\n```\r\n\r\n 19","title":"If java has only 3 types of variable then what is Reference Variable","body":"<p>From your question you're probably wondering why a reference variable isn't one of the things you're listing a reference variable is not one of the user defined variables by definition, it's more like a C++ pointer, when you declare a Java object, you can make changes to the object's parameters by reference passing</p>\n<pre><code>\n   public void test() {\n      User user = new User();\n      user.setAge(18);\n      change(user);\n      System.out.println(&quot;age:&quot; + user.getAge());\n   }\n   private void change(User user) {\n      user.setAge(19);\n   }\n\n</code></pre>\n<p> 19</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675334666,"creation_date":1675334666,"answer_id":75321977,"question_id":75321017,"body_markdown":"There are more than one way to classifying things. I can say that there are 3 types of people in the world - children (below 18 years old), elderly (age 60+), and adults (everyone else). Your question is like asking\r\n\r\n&gt; If there are only children, adults, and elderly, then why is &quot;woman&quot; not a part of those three types of people?\r\n\r\nWell, because classifying people according to gender is a different way of classifying people, so the categories don&#39;t match up exactly.\r\n\r\nIn the case of variables, there is the classification according to scope and static-ness. The categories could be:\r\n\r\n- local variables\r\n- instance variables (aka instance fields)\r\n- static variables (aka static fields)\r\n\r\nOr you can classify them based on the type of the variable - whether the variable&#39;s type is a primitive type like `int`, or a reference type like `String` or the `A` class you wrote. The categories could be:\r\n\r\n- reference variables\r\n- primitive variables\r\n\r\nOn the other hand, the Java Language Specification defines [8 kinds of variables][1], and that is *yet* another way of classifying them.\r\n\r\nAll this is to say that you shouldn&#39;t worry too much about how many/what types of variables there are when reading/writing code. The point is about learning how to *describe* these things (like variables) to other people so they understand what you are talking about, rather than putting things into boxes.\r\n\r\nBack to your code. If we were to use the two classifications above:\r\n\r\n```\r\nclass A {\r\n    int x;// primitive instance variable\r\n    A a;  // reference instance variable\r\n\r\n    public static void main(String[] args) {\r\n      int x;// primitive local variable\r\n      A a;  // reference local variable\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.12.3","title":"If java has only 3 types of variable then what is Reference Variable","body":"<p>There are more than one way to classifying things. I can say that there are 3 types of people in the world - children (below 18 years old), elderly (age 60+), and adults (everyone else). Your question is like asking</p>\n<blockquote>\n<p>If there are only children, adults, and elderly, then why is &quot;woman&quot; not a part of those three types of people?</p>\n</blockquote>\n<p>Well, because classifying people according to gender is a different way of classifying people, so the categories don't match up exactly.</p>\n<p>In the case of variables, there is the classification according to scope and static-ness. The categories could be:</p>\n<ul>\n<li>local variables</li>\n<li>instance variables (aka instance fields)</li>\n<li>static variables (aka static fields)</li>\n</ul>\n<p>Or you can classify them based on the type of the variable - whether the variable's type is a primitive type like <code>int</code>, or a reference type like <code>String</code> or the <code>A</code> class you wrote. The categories could be:</p>\n<ul>\n<li>reference variables</li>\n<li>primitive variables</li>\n</ul>\n<p>On the other hand, the Java Language Specification defines <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.12.3\" rel=\"nofollow noreferrer\">8 kinds of variables</a>, and that is <em>yet</em> another way of classifying them.</p>\n<p>All this is to say that you shouldn't worry too much about how many/what types of variables there are when reading/writing code. The point is about learning how to <em>describe</em> these things (like variables) to other people so they understand what you are talking about, rather than putting things into boxes.</p>\n<p>Back to your code. If we were to use the two classifications above:</p>\n<pre><code>class A {\n    int x;// primitive instance variable\n    A a;  // reference instance variable\n\n    public static void main(String[] args) {\n      int x;// primitive local variable\n      A a;  // reference local variable\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27683617,"reputation":21,"user_id":21131832,"display_name":"Sanjaya Sahu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":2,"score":-1,"last_activity_date":1675334666,"creation_date":1675329953,"question_id":75321017,"body_markdown":"If java has only 3 types of variable then what is Reference Variable\r\n\r\n\r\n```\r\nclass A {\r\n    int x;// it is instance variable \r\n\tA a; // it is also instance variable \r\n\r\n    public static void main(String[] args) {\r\n      int x;//now it is local variable \r\n\tA a; // but it is not local why?\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nCan any one please guide why reference variable is not part of 3 types of variables i.e\r\n\r\n1. Static Variable \r\n2. Instance Variable\r\n3. Local Variable\r\n\r\n","title":"If java has only 3 types of variable then what is Reference Variable","body":"<p>If java has only 3 types of variable then what is Reference Variable</p>\n<pre><code>class A {\n    int x;// it is instance variable \n    A a; // it is also instance variable \n\n    public static void main(String[] args) {\n      int x;//now it is local variable \n    A a; // but it is not local why?\n\n    }\n}\n</code></pre>\n<p>Can any one please guide why reference variable is not part of 3 types of variables i.e</p>\n<ol>\n<li>Static Variable</li>\n<li>Instance Variable</li>\n<li>Local Variable</li>\n</ol>\n"},{"tags":["java","spring-boot","microservices","spring-cloud-gateway"],"comments":[{"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"score":0,"creation_date":1675335496,"post_id":75321972,"comment_id":132908525,"body_markdown":"Did you look into intercepting/filtering? https://stackoverflow.com/questions/58878326/intercept-http-request-body-in-spring-boot-gateway","body":"Did you look into intercepting/filtering? <a href=\"https://stackoverflow.com/questions/58878326/intercept-http-request-body-in-spring-boot-gateway\" title=\"intercept http request body in spring boot gateway\">stackoverflow.com/questions/58878326/&hellip;</a>"},{"owner":{"account_id":18572863,"reputation":331,"user_id":13534297,"display_name":"dvbngln"},"score":0,"creation_date":1675342822,"post_id":75321972,"comment_id":132911008,"body_markdown":"Hi @MuratKarag&#246;z, yes I searched for it and the implementation as well. But base on my possible approach, what do you think is the better one?","body":"Hi @MuratKarag&#246;z, yes I searched for it and the implementation as well. But base on my possible approach, what do you think is the better one?"}],"owner":{"account_id":18572863,"reputation":331,"user_id":13534297,"display_name":"dvbngln"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675334641,"creation_date":1675334641,"question_id":75321972,"body_markdown":"**Background**\r\n\r\nEach request will run through an API Gateway, each request will have a JWT with custom claim &quot;x-token&quot;. Now, this &quot;x-token&quot; is an id that I will use to get the corresponding data in the DB. The &quot;x-token&quot; will be used in about 2 (out of 3) of my microservices.\r\n\r\n\r\n**Question**\r\n\r\nWhere should this API call should happen?\r\n\r\n\r\nMy current plans are:\r\n\r\n----------\r\n\r\n **1. [API GATEWAY FILTER APPROACH]** \r\n\r\nAdd an API Filter in my Spring Cloud Gateway to modify every (GET/POST) request\r\n -Create a Filter and inside the filter perform an api call to get `xTokenObject` associated with the &quot;x-token&quot;, and then modify to add the `xTokenObject` in the `@RequestBody` so that on the `Controller` part of my microservice I could easily use it.\r\n\r\n*PROS*\r\n\r\n - API Gateway will be the only one have access to it\r\n - I can easily use it on the controller function \r\n\r\nSample Code on the Controller of my Microservice where the &#39;xTokenObject&#39; was added on the Gateway Filter:\r\n\r\n    @PostMapping()\r\n    public ResponseEntity&lt;SomeObject&gt; someMethod(@RequestBody @Valid XTokenObject xTokenObject){\r\n      return ResponseEntity.ok(this.someService.someFunction(xTokenObject));\r\n    }\r\n\r\n*CONS*\r\n\r\n - What if there is already a `@RequestBody`? How should I add this `xTokenObject` to that `@RequestBody`? And how can I access it on the Controller of my microservice?\r\n\r\n\r\n----------\r\n\r\n\r\n\r\n **2. [MICROSERVICE CALL]** \r\n\r\nModify the header to add &quot;x-token&quot; in the Gateway Filter and then use it to easily call the API on the `@Service` of my microservice\r\n\r\n*PROS*\r\n - Implementation is easy since adding of custom header is easy on the Gateway Filter than modifying the request body\r\n\r\nSample Code on the Service of my Microservice:\r\n\r\n    @Service\r\n    public class SomeService {\t\r\n        public SomeObject someFunction(String xTokenId) {\r\n    \t// API CALL HERE USING THE xTokenId\r\n        return someObject;\r\n      }\r\n    }\r\n\r\n*CONS*\r\n\r\n - All of my microservice will have a connection to it\r\n\r\n\r\n**Additional Question and Considerations:**\r\n\r\nWhich one is faster? Or there is another better way? The data on the Token Data Microservice might contain some sensitive data so it will be encrypted. So it will be on the same DB of my auth-server but different table. I will also consider using Redis to cache these data. I included a photo on this question so you guys have an overview.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/beZTA.jpg","title":"Should I call an API in my Microservice Or call the API in the filter of my API Gateway","body":"<p><strong>Background</strong></p>\n<p>Each request will run through an API Gateway, each request will have a JWT with custom claim &quot;x-token&quot;. Now, this &quot;x-token&quot; is an id that I will use to get the corresponding data in the DB. The &quot;x-token&quot; will be used in about 2 (out of 3) of my microservices.</p>\n<p><strong>Question</strong></p>\n<p>Where should this API call should happen?</p>\n<p>My current plans are:</p>\n<hr />\n<p><strong>1. [API GATEWAY FILTER APPROACH]</strong></p>\n<p>Add an API Filter in my Spring Cloud Gateway to modify every (GET/POST) request\n-Create a Filter and inside the filter perform an api call to get <code>xTokenObject</code> associated with the &quot;x-token&quot;, and then modify to add the <code>xTokenObject</code> in the <code>@RequestBody</code> so that on the <code>Controller</code> part of my microservice I could easily use it.</p>\n<p><em>PROS</em></p>\n<ul>\n<li>API Gateway will be the only one have access to it</li>\n<li>I can easily use it on the controller function</li>\n</ul>\n<p>Sample Code on the Controller of my Microservice where the 'xTokenObject' was added on the Gateway Filter:</p>\n<pre><code>@PostMapping()\npublic ResponseEntity&lt;SomeObject&gt; someMethod(@RequestBody @Valid XTokenObject xTokenObject){\n  return ResponseEntity.ok(this.someService.someFunction(xTokenObject));\n}\n</code></pre>\n<p><em>CONS</em></p>\n<ul>\n<li>What if there is already a <code>@RequestBody</code>? How should I add this <code>xTokenObject</code> to that <code>@RequestBody</code>? And how can I access it on the Controller of my microservice?</li>\n</ul>\n<hr />\n<p><strong>2. [MICROSERVICE CALL]</strong></p>\n<p>Modify the header to add &quot;x-token&quot; in the Gateway Filter and then use it to easily call the API on the <code>@Service</code> of my microservice</p>\n<p><em>PROS</em></p>\n<ul>\n<li>Implementation is easy since adding of custom header is easy on the Gateway Filter than modifying the request body</li>\n</ul>\n<p>Sample Code on the Service of my Microservice:</p>\n<pre><code>@Service\npublic class SomeService {  \n    public SomeObject someFunction(String xTokenId) {\n    // API CALL HERE USING THE xTokenId\n    return someObject;\n  }\n}\n</code></pre>\n<p><em>CONS</em></p>\n<ul>\n<li>All of my microservice will have a connection to it</li>\n</ul>\n<p><strong>Additional Question and Considerations:</strong></p>\n<p>Which one is faster? Or there is another better way? The data on the Token Data Microservice might contain some sensitive data so it will be encrypted. So it will be on the same DB of my auth-server but different table. I will also consider using Redis to cache these data. I included a photo on this question so you guys have an overview.</p>\n<p><a href=\"https://i.stack.imgur.com/beZTA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/beZTA.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","resttemplate"],"comments":[{"owner":{"account_id":447545,"reputation":2029,"user_id":841221,"accept_rate":75,"display_name":"Aakash"},"score":0,"creation_date":1675327530,"post_id":75320481,"comment_id":132905991,"body_markdown":"What is your logging configuration?","body":"What is your logging configuration?"},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1675327850,"post_id":75320481,"comment_id":132906072,"body_markdown":"Set your `spring.logging:level.org.springframework.[...]` to something different than *DEBUG*.","body":"Set your <code>spring.logging:level.org.springframework.[...]</code> to something different than <i>DEBUG</i>."},{"owner":{"account_id":26724283,"reputation":13,"user_id":20327591,"display_name":"Darth Moul"},"score":0,"creation_date":1675330546,"post_id":75320481,"comment_id":132906892,"body_markdown":"I&#39;m using log4j @Aakash","body":"I&#39;m using log4j @Aakash"}],"answers":[{"comments":[{"owner":{"account_id":26724283,"reputation":13,"user_id":20327591,"display_name":"Darth Moul"},"score":0,"creation_date":1675330515,"post_id":75320895,"comment_id":132906882,"body_markdown":"I tried doing that but that didn&#39;t work.","body":"I tried doing that but that didn&#39;t work."},{"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"score":0,"creation_date":1675330888,"post_id":75320895,"comment_id":132906994,"body_markdown":"In that case, we need more information: your current application config &amp; more of your code.","body":"In that case, we need more information: your current application config &amp; more of your code."},{"owner":{"account_id":26724283,"reputation":13,"user_id":20327591,"display_name":"Darth Moul"},"score":0,"creation_date":1675334455,"post_id":75320895,"comment_id":132908140,"body_markdown":"I&#39;ll update my code","body":"I&#39;ll update my code"},{"owner":{"account_id":26724283,"reputation":13,"user_id":20327591,"display_name":"Darth Moul"},"score":0,"creation_date":1675334684,"post_id":75320895,"comment_id":132908214,"body_markdown":"Using log4j&#39;s LoggerManager","body":"Using log4j&#39;s LoggerManager"},{"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"score":0,"creation_date":1675335529,"post_id":75320895,"comment_id":132908538,"body_markdown":"Your config includes `logging.level.org.springframework.web: DEBUG`. Have to tried to remove this of move it up before the other line?","body":"Your config includes <code>logging.level.org.springframework.web: DEBUG</code>. Have to tried to remove this of move it up before the other line?"},{"owner":{"account_id":26724283,"reputation":13,"user_id":20327591,"display_name":"Darth Moul"},"score":0,"creation_date":1675336908,"post_id":75320895,"comment_id":132909006,"body_markdown":"yea i tried that. doesn&#39;t work","body":"yea i tried that. doesn&#39;t work"}],"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675329213,"creation_date":1675329213,"answer_id":75320895,"question_id":75320481,"body_markdown":"Increase the minimum logging level of `RestTemplate` in your application.properties file, e.g., to `ERROR`:\r\n\r\n    logging.level.org.springframework.web.client.RestTemplate=ERROR\r\n\r\nOr, if you&#39;re using an application.yml file:\r\n\r\n    logging:\r\n      level:\r\n        org.springframework.web.client.RestTemplate: ERROR","title":"How to disable logging for Spring RestTemplate","body":"<p>Increase the minimum logging level of <code>RestTemplate</code> in your application.properties file, e.g., to <code>ERROR</code>:</p>\n<pre><code>logging.level.org.springframework.web.client.RestTemplate=ERROR\n</code></pre>\n<p>Or, if you're using an application.yml file:</p>\n<pre><code>logging:\n  level:\n    org.springframework.web.client.RestTemplate: ERROR\n</code></pre>\n"}],"owner":{"account_id":26724283,"reputation":13,"user_id":20327591,"display_name":"Darth Moul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":807,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675334584,"creation_date":1675326994,"question_id":75320481,"body_markdown":"I am trying to reduce the logging of `RestTemplate`.\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    \t\t\tRestTemplate restTemplate = new RestTemplate();\r\n    \t\t\theaders.setContentType(MediaType.TEXT_PLAIN);\r\n    \t\t\tHttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(dataToBeSenttoVM, headers);\r\n    \r\n    \t\t\tlog.info(&quot;something&quot;);\r\n    \r\n    \t\t\tResponseEntity&lt;String&gt; response = restTemplate.exchange(url,HttpMethod.POST, entity, String.class);\r\n\r\nWhen the statement is executed it prints a Response. I am doing a lot of API calls using this, and this is creating a lot of logging noise in my console.\r\n\r\nIs there any way I can reduce or disable the logging for this?\r\nI only want to avoid logging in this part of the code not the whole application.\r\n\r\nUsing Log4j&#39;s LoggerManager with following:\r\n\r\n    logging.pattern.console=%d{yyyy-MM-dd} %d{HH:mm:ss.SSS} [%thread] %5p %-70.70(%logger:%L){70}  %m%n\r\n    logging.level.org.springframework.web.client.RestTemplate=ERROR\r\n    logging.level.org.springframework.web: DEBUG","title":"How to disable logging for Spring RestTemplate","body":"<p>I am trying to reduce the logging of <code>RestTemplate</code>.</p>\n<pre><code>HttpHeaders headers = new HttpHeaders();\n            RestTemplate restTemplate = new RestTemplate();\n            headers.setContentType(MediaType.TEXT_PLAIN);\n            HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(dataToBeSenttoVM, headers);\n\n            log.info(&quot;something&quot;);\n\n            ResponseEntity&lt;String&gt; response = restTemplate.exchange(url,HttpMethod.POST, entity, String.class);\n</code></pre>\n<p>When the statement is executed it prints a Response. I am doing a lot of API calls using this, and this is creating a lot of logging noise in my console.</p>\n<p>Is there any way I can reduce or disable the logging for this?\nI only want to avoid logging in this part of the code not the whole application.</p>\n<p>Using Log4j's LoggerManager with following:</p>\n<pre><code>logging.pattern.console=%d{yyyy-MM-dd} %d{HH:mm:ss.SSS} [%thread] %5p %-70.70(%logger:%L){70}  %m%n\nlogging.level.org.springframework.web.client.RestTemplate=ERROR\nlogging.level.org.springframework.web: DEBUG\n</code></pre>\n"},{"tags":["java","android","splash-screen"],"comments":[{"owner":{"account_id":304968,"reputation":56727,"user_id":614807,"accept_rate":73,"display_name":"Chirag"},"score":0,"creation_date":1675334094,"post_id":75321815,"comment_id":132908031,"body_markdown":"What&#39;s the issue?","body":"What&#39;s the issue?"},{"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"score":0,"creation_date":1675334104,"post_id":75321815,"comment_id":132908036,"body_markdown":"add your error log","body":"add your error log"},{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1675334105,"post_id":75321815,"comment_id":132908038,"body_markdown":"posted code looks fine, but you very should post also error stacktrace, &quot;doesn&#39;t work&quot; isn&#39;t a sufficient description, provide more info. Personally I bet on some problem in `MainActivity2`","body":"posted code looks fine, but you very should post also error stacktrace, &quot;doesn&#39;t work&quot; isn&#39;t a sufficient description, provide more info. Personally I bet on some problem in <code>MainActivity2</code>"},{"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"score":0,"creation_date":1675335687,"post_id":75321815,"comment_id":132908592,"body_markdown":"it might worth reading https://developer.android.com/develop/ui/views/launch/splash-screen","body":"it might worth reading <a href=\"https://developer.android.com/develop/ui/views/launch/splash-screen\" rel=\"nofollow noreferrer\">developer.android.com/develop/ui/views/launch/splash-screen</a>"}],"answers":[{"tags":[],"owner":{"account_id":6420612,"reputation":646,"user_id":4977439,"display_name":"Oleg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675334522,"creation_date":1675334522,"answer_id":75321948,"question_id":75321815,"body_markdown":"According to your code, you have set `SPLASH_TIMOUT= 30000` but this is in milliseconds (or 30 seconds), not 3 seconds as you may expect. \r\n\r\nAlso if you building a new app, there is a new API for SplashScreen in Android since 12+:  https://developer.android.com/develop/ui/views/launch/splash-screen which uses fewer resources of the device and is Activity life-cycle safe.","title":"Splash screen on Android Studio?","body":"<p>According to your code, you have set <code>SPLASH_TIMOUT= 30000</code> but this is in milliseconds (or 30 seconds), not 3 seconds as you may expect.</p>\n<p>Also if you building a new app, there is a new API for SplashScreen in Android since 12+:  <a href=\"https://developer.android.com/develop/ui/views/launch/splash-screen\" rel=\"nofollow noreferrer\">https://developer.android.com/develop/ui/views/launch/splash-screen</a> which uses fewer resources of the device and is Activity life-cycle safe.</p>\n"}],"owner":{"account_id":27359991,"reputation":1,"user_id":20867759,"display_name":"Ckademba"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1675369403,"answer_count":1,"score":-1,"last_activity_date":1675334522,"creation_date":1675333923,"question_id":75321815,"body_markdown":"I&#39;m trying to integrate a splash screen on android studio. It doesn&#39;t work and i don&#39;t know where the problem is. \r\n[SplashActivity.java](https://i.stack.imgur.com/1DpO5.png)\r\n\r\n[activity_main.xml here](https://i.stack.imgur.com/CE9rr.png)\r\n","title":"Splash screen on Android Studio?","body":"<p>I'm trying to integrate a splash screen on android studio. It doesn't work and i don't know where the problem is.\n<a href=\"https://i.stack.imgur.com/1DpO5.png\" rel=\"nofollow noreferrer\">SplashActivity.java</a></p>\n<p><a href=\"https://i.stack.imgur.com/CE9rr.png\" rel=\"nofollow noreferrer\">activity_main.xml here</a></p>\n"},{"tags":["java","servlets"],"answers":[{"comments":[{"owner":{"account_id":9415453,"reputation":3146,"user_id":7003331,"display_name":"Deepak Patankar"},"score":3,"creation_date":1660624062,"post_id":73354448,"comment_id":129569503,"body_markdown":"Can you also explain how using tomacat&#39;s latest version will fix the issue ?","body":"Can you also explain how using tomacat&#39;s latest version will fix the issue ?"}],"tags":[],"owner":{"account_id":8991300,"reputation":59,"user_id":6703098,"display_name":"MAK"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660694472,"creation_date":1660504297,"answer_id":73354448,"question_id":73353528,"body_markdown":"I used tomcat latest version and it working","title":"404 error while creating servlet in intellij ultimate 2022.2","body":"<p>I used tomcat latest version and it working</p>\n"},{"tags":[],"owner":{"account_id":25024672,"reputation":1,"user_id":18883010,"display_name":"Bartosz Kr&#243;l"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675334265,"creation_date":1675334265,"answer_id":75321889,"question_id":73353528,"body_markdown":"Had the same problem on Tomcat 9. Couldn&#39;t open default servlet (/helloServlet) right after setting up the project.\r\n\r\nInstalled Tomcat 10 - problem solved.\r\n\r\nI worked with java 17, intelliJ Ultimate 2022.3.2","title":"404 error while creating servlet in intellij ultimate 2022.2","body":"<p>Had the same problem on Tomcat 9. Couldn't open default servlet (/helloServlet) right after setting up the project.</p>\n<p>Installed Tomcat 10 - problem solved.</p>\n<p>I worked with java 17, intelliJ Ultimate 2022.3.2</p>\n"}],"owner":{"account_id":8991300,"reputation":59,"user_id":6703098,"display_name":"MAK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1675351791,"answer_count":2,"score":-1,"last_activity_date":1675334265,"creation_date":1660496565,"question_id":73353528,"body_markdown":"[![this is project structure of th app as you can see i have created 2 servlet one is helloservlet and other is myservlet][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bqgH2.png\r\n\r\nit seems that application cannot detect the servlets i have created and rendering the default index.jsp\r\n\r\n\r\n    @WebServlet(name = &quot;helloServlet&quot;, value = &quot;/hello-servlet&quot;)\r\n    public class HelloServlet extends HttpServlet {\r\n        private String message;\r\n    \r\n        public void init() {\r\n            message = &quot;Hello Michael!&quot;;\r\n        }\r\n    \r\n        public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n            response.setContentType(&quot;text/html&quot;);\r\n    \r\n            // Hello\r\n            PrintWriter out = response.getWriter();\r\n            out.println(&quot;&lt;html&gt;&lt;body&gt;&quot;);\r\n            out.println(&quot;&lt;h1&gt;&quot; + message + &quot;&lt;/h1&gt;&quot;);\r\n            out.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n        }\r\n    \r\n        public void destroy() {\r\n        }\r\n    }","title":"404 error while creating servlet in intellij ultimate 2022.2","body":"<p><a href=\"https://i.stack.imgur.com/bqgH2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bqgH2.png\" alt=\"this is project structure of th app as you can see i have created 2 servlet one is helloservlet and other is myservlet\" /></a></p>\n<p>it seems that application cannot detect the servlets i have created and rendering the default index.jsp</p>\n<pre><code>@WebServlet(name = &quot;helloServlet&quot;, value = &quot;/hello-servlet&quot;)\npublic class HelloServlet extends HttpServlet {\n    private String message;\n\n    public void init() {\n        message = &quot;Hello Michael!&quot;;\n    }\n\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\n        response.setContentType(&quot;text/html&quot;);\n\n        // Hello\n        PrintWriter out = response.getWriter();\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&quot;);\n        out.println(&quot;&lt;h1&gt;&quot; + message + &quot;&lt;/h1&gt;&quot;);\n        out.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\n    }\n\n    public void destroy() {\n    }\n}\n</code></pre>\n"},{"tags":["java","android","proxy","ping","mtproto"],"owner":{"account_id":27684166,"reputation":1,"user_id":21132264,"display_name":"Ali Afkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675334236,"creation_date":1675334021,"question_id":75321839,"body_markdown":"I want check mtproto proxy by android java programming language.\r\nI tried some ways like:\r\n```\r\nnew Socket().connect(a, b);\r\n```\r\nor\r\n```\r\nInetAddress.getByName(a).isReachable(b);\r\n```\r\n\r\nBut i want use other way or better way.","title":"Check mtproto proxy availablity by android programming","body":"<p>I want check mtproto proxy by android java programming language.\nI tried some ways like:</p>\n<pre><code>new Socket().connect(a, b);\n</code></pre>\n<p>or</p>\n<pre><code>InetAddress.getByName(a).isReachable(b);\n</code></pre>\n<p>But i want use other way or better way.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1675331546,"post_id":75321315,"comment_id":132907209,"body_markdown":"please post your information as formatted text, not a link to an image","body":"please post your information as formatted text, not a link to an image"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1675331579,"post_id":75321315,"comment_id":132907226,"body_markdown":"here is your likely culprit: https://stackoverflow.com/questions/6454061/securityexception-sealing-violation-when-starting-derby-connection","body":"here is your likely culprit: <a href=\"https://stackoverflow.com/questions/6454061/securityexception-sealing-violation-when-starting-derby-connection\" title=\"securityexception sealing violation when starting derby connection\">stackoverflow.com/questions/6454061/&hellip;</a>"}],"owner":{"account_id":27683756,"reputation":1,"user_id":21131932,"display_name":"Rahma bettaieb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675333214,"answer_count":0,"score":0,"last_activity_date":1675334080,"creation_date":1675331485,"question_id":75321315,"body_markdown":"Im tring to excute a java code to do a copy and have backup of my BO server.\r\nI excute the java code from a batch via windows power shell, the connection for the system works very well, the folders are created in the mentioned directory but they still empty, and i have the errors message below \r\n\r\nCan anybody helps me to understand those errors ?\r\nThank you :)\r\n\r\nError1: \r\njava.lang.SecurityException: sealing violation: package org.apache.derby.iapi.types is sealed\r\n        at java.net.URLClassLoader.getAndVerifyPackage(URLClassLoader.java:467)\r\n\r\n       \r\n\r\n     \r\nError2:\r\n Exception in thread &quot;pool-2-thread-1&quot; java.lang.NoClassDefFoundError: com/busine ssobjects/sdk/biar/internal/db/Derby : cannot initialize class because prior ini tialization attempt failed at com.businessobjects.sdk.biar.om.internal.db.AnnotatedObjectDatabase.&lt; init&gt;(AnnotatedObjectDatabase.java:23) at com.businessobjects.sdk.biar.om.internal.db.AnnotatedObjectDatabase.g etInstance(AnnotatedObjectDatabase.java:50) \r\nat com.businessobjects.sdk.biar.om.internal.ObjectManager.&lt;init&gt;(ObjectM anager.java:97) at com.businessobjects.sdk.biar.BIARFactory.createOM(BIARFactory.java:10 1) at com.businessobjects.sdk.biar.BIARFactory.createOM(BIARFactory.java:85 ) at com.businessobjects.sdk.biar.BIARFactory.createOM(BIARFactory.java:75 ) at com.businessobjects.lcm.dependencies.DependencyManager.calculateDepen denciesUsingDM(DependencyManager.java:702) at com.businessobjects.lcm.dependencies.DependencyManager.computeDepende es(DependencyManager.java:683) at com.businessobjects.lcm.core.LCMEngine.computeDependees(LCMEngine.jav a:1237) at com.businessobjects.lcm.job.Job$1.run(Job.java:1308) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor. java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor .java:624) at java.lang.Thread.run(Thread.java:836) Caused by: java.lang.ExceptionInInitializerError: java.lang.ExceptionInInitializ erError at java.lang.Class.forName0(Native Method) at java.lang.Class.forNameFW(Class.java:362) at java.lang.Class.forName(Class.java:270) at com.businessobjects.sdk.biar.internal.db.Derby.&lt;clinit&gt;(Derby.java:49 ) at com.businessobjects.sdk.biar.om.internal.db.AnnotatedObjectDatabase.&lt; init&gt;(AnnotatedObjectDatabase.java:23) at com.businessobjects.sdk.biar.om.internal.db.AnnotatedObjectDatabase.g etInstance(AnnotatedObjectDatabase.java:50) at com.businessobjects.sdk.biar.om.internal.ObjectManager.&lt;init&gt;(ObjectM anager.java:97) at com.businessobjects.sdk.biar.BIARFactory.createOM(BIARFactory.java:10 1) at com.businessobjects.sdk.biar.BIARFactory.createOM(BIARFactory.java:85 ) at com.businessobjects.sdk.biar.BIARFactory.createOM(BIARFactory.java:75 ) at com.businessobjects.lcm.dependencies.DependencyManager.calculateDepen denciesUsingDM(DependencyManager.java:702) at com.businessobjects.lcm.dependencies.DependencyManager.computeDepende es(DependencyManager.java:683) at com.businessobjects.lcm.core.LCMEngine.computeDependees(LCMEngine.jav a:1237) at com.businessobjects.lcm.job.Job$1.run(Job.java:1308) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor. java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor .java:624) at java.lang.Thread.run(Thread.java:836) caused by: java.lang.SecurityException: sealing violation: package org.apache.de rby.iapi.types is sealed at java.net.URLClassLoader.getAndVerifyPackage(URLClassLoader.java:467) at java.net.URLClassLoader.definePackageInternal(URLClassLoader.java:487 ) at java.net.URLClassLoader.defineClass(URLClassLoader.java:519) at java.net.URLClassLoader.access$100(URLClassLoader.java:76) at java.net.URLClassLoader$1.run(URLClassLoader.java:431) at java.net.URLClassLoader$1.run(URLClassLoader.java:425) at java.security.AccessController.doPrivileged(Native Method) at java.net.URLClassLoader.findClass(URLClassLoader.java:424) at java.lang.ClassLoader.loadClass(ClassLoader.java:480) at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:384) at java.lang.ClassLoader.loadClass(ClassLoader.java:413) at java.lang.Class.forName0(Native Method) at java.lang.Class.forNameFW(Class.java:362) at java.lang.Class.forName(Class.java:270) at org.apache.derby.impl.services.monitor.BaseMonitor.getImplementations (Unknown Source) at org.apache.derby.impl.services.monitor.BaseMonitor.getDefaultImplemen tations(Unknown Source) at org.apache.derby.impl.services.monitor.BaseMonitor.runWithState(Unkno wn Source) at org.apache.derby.impl.services.monitor.FileMonitor.&lt;init&gt;(Unknown Sou rce) at org.apache.derby.iapi.services.monitor.Monitor.startMonitor(Unknown S ource) at org.apache.derby.iapi.jdbc.JDBCBoot$1.run(Unknown Source) at java.security.AccessController.doPrivileged(Native Method) at org.apache.derby.iapi.jdbc.JDBCBoot.boot(Unknown Source) at org.apache.derby.iapi.jdbc.JDBCBoot.boot(Unknown Source) at org.apache.derby.jdbc.EmbeddedDriver.boot(Unknown Source) at org.apache.derby.jdbc.EmbeddedDriver.&lt;clinit&gt;(Unknown Source) at java.lang.Class.forName0(Native Method) at java.lang.Class.forNameFW(Class.java:362) at java.lang.Class.forName(Class.java:270) at com.businessobjects.sdk.biar.internal.db.Derby.&lt;clinit&gt;(Derby.java:49 ) at com.businessobjects.sdk.biar.om.internal.db.AnnotatedObjectDatabase.&lt; init&gt;(AnnotatedObjectDatabase.java:23) at com.businessobjects.sdk.biar.om.internal.db.AnnotatedObjectDatabase.g etInstance(AnnotatedObjectDatabase.java:50) at com.businessobjects.sdk.biar.om.internal.ObjectManager.&lt;init&gt;(ObjectM anager.java:97) at com.businessobjects.sdk.biar.BIARFactory.createOM(BIARFactory.java:10 1) at com.businessobjects.sdk.biar.BIARFactory.createOM(BIARFactory.java:85 ) at com.businessobjects.sdk.biar.BIARFactory.createOM(BIARFactory.java:75 ) at com.businessobjects.lcm.dependencies.DependencyManager.calculateDepen denciesUsingDM(DependencyManager.java:702) at com.businessobjects.lcm.dependencies.DependencyManager.computeDepende es(DependencyManager.java:683) at com.businessobjects.lcm.core.LCMEngine.computeDependees(LCMEngine.jav a:1237) at com.businessobjects.lcm.job.Job$1.run(Job.java:1308) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor. java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor .java:624) at java.lang.Thread.run(Thread.java:836) at java.lang.Class.setExceptionThrownDuringClinit(Class.java:3686) ... 13 more.","title":"Error java : java.lang.SecurityException : sealing vioaltion : package org.apache.derby.iapi.types is sealed , Exception in thread &quot;pool-2-thread-1&quot;","body":"<p>Im tring to excute a java code to do a copy and have backup of my BO server.\nI excute the java code from a batch via windows power shell, the connection for the system works very well, the folders are created in the mentioned directory but they still empty, and i have the errors message below</p>\n<p>Can anybody helps me to understand those errors ?\nThank you :)</p>\n<p>Error1:\njava.lang.SecurityException: sealing violation: package org.apache.derby.iapi.types is sealed\nat java.net.URLClassLoader.getAndVerifyPackage(URLClassLoader.java:467)</p>\n<p>Error2:\nException in thread &quot;pool-2-thread-1&quot; java.lang.NoClassDefFoundError: com/busine ssobjects/sdk/biar/internal/db/Derby : cannot initialize class because prior ini tialization attempt failed at com.businessobjects.sdk.biar.om.internal.db.AnnotatedObjectDatabase.&lt; init&gt;(AnnotatedObjectDatabase.java:23) at com.businessobjects.sdk.biar.om.internal.db.AnnotatedObjectDatabase.g etInstance(AnnotatedObjectDatabase.java:50)\nat com.businessobjects.sdk.biar.om.internal.ObjectManager.(ObjectM anager.java:97) at com.businessobjects.sdk.biar.BIARFactory.createOM(BIARFactory.java:10 1) at com.businessobjects.sdk.biar.BIARFactory.createOM(BIARFactory.java:85 ) at com.businessobjects.sdk.biar.BIARFactory.createOM(BIARFactory.java:75 ) at com.businessobjects.lcm.dependencies.DependencyManager.calculateDepen denciesUsingDM(DependencyManager.java:702) at com.businessobjects.lcm.dependencies.DependencyManager.computeDepende es(DependencyManager.java:683) at com.businessobjects.lcm.core.LCMEngine.computeDependees(LCMEngine.jav a:1237) at com.businessobjects.lcm.job.Job$1.run(Job.java:1308) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor. java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor .java:624) at java.lang.Thread.run(Thread.java:836) Caused by: java.lang.ExceptionInInitializerError: java.lang.ExceptionInInitializ erError at java.lang.Class.forName0(Native Method) at java.lang.Class.forNameFW(Class.java:362) at java.lang.Class.forName(Class.java:270) at com.businessobjects.sdk.biar.internal.db.Derby.(Derby.java:49 ) at com.businessobjects.sdk.biar.om.internal.db.AnnotatedObjectDatabase.&lt; init&gt;(AnnotatedObjectDatabase.java:23) at com.businessobjects.sdk.biar.om.internal.db.AnnotatedObjectDatabase.g etInstance(AnnotatedObjectDatabase.java:50) at com.businessobjects.sdk.biar.om.internal.ObjectManager.(ObjectM anager.java:97) at com.businessobjects.sdk.biar.BIARFactory.createOM(BIARFactory.java:10 1) at com.businessobjects.sdk.biar.BIARFactory.createOM(BIARFactory.java:85 ) at com.businessobjects.sdk.biar.BIARFactory.createOM(BIARFactory.java:75 ) at com.businessobjects.lcm.dependencies.DependencyManager.calculateDepen denciesUsingDM(DependencyManager.java:702) at com.businessobjects.lcm.dependencies.DependencyManager.computeDepende es(DependencyManager.java:683) at com.businessobjects.lcm.core.LCMEngine.computeDependees(LCMEngine.jav a:1237) at com.businessobjects.lcm.job.Job$1.run(Job.java:1308) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor. java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor .java:624) at java.lang.Thread.run(Thread.java:836) caused by: java.lang.SecurityException: sealing violation: package org.apache.de rby.iapi.types is sealed at java.net.URLClassLoader.getAndVerifyPackage(URLClassLoader.java:467) at java.net.URLClassLoader.definePackageInternal(URLClassLoader.java:487 ) at java.net.URLClassLoader.defineClass(URLClassLoader.java:519) at java.net.URLClassLoader.access$100(URLClassLoader.java:76) at java.net.URLClassLoader$1.run(URLClassLoader.java:431) at java.net.URLClassLoader$1.run(URLClassLoader.java:425) at java.security.AccessController.doPrivileged(Native Method) at java.net.URLClassLoader.findClass(URLClassLoader.java:424) at java.lang.ClassLoader.loadClass(ClassLoader.java:480) at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:384) at java.lang.ClassLoader.loadClass(ClassLoader.java:413) at java.lang.Class.forName0(Native Method) at java.lang.Class.forNameFW(Class.java:362) at java.lang.Class.forName(Class.java:270) at org.apache.derby.impl.services.monitor.BaseMonitor.getImplementations (Unknown Source) at org.apache.derby.impl.services.monitor.BaseMonitor.getDefaultImplemen tations(Unknown Source) at org.apache.derby.impl.services.monitor.BaseMonitor.runWithState(Unkno wn Source) at org.apache.derby.impl.services.monitor.FileMonitor.(Unknown Sou rce) at org.apache.derby.iapi.services.monitor.Monitor.startMonitor(Unknown S ource) at org.apache.derby.iapi.jdbc.JDBCBoot$1.run(Unknown Source) at java.security.AccessController.doPrivileged(Native Method) at org.apache.derby.iapi.jdbc.JDBCBoot.boot(Unknown Source) at org.apache.derby.iapi.jdbc.JDBCBoot.boot(Unknown Source) at org.apache.derby.jdbc.EmbeddedDriver.boot(Unknown Source) at org.apache.derby.jdbc.EmbeddedDriver.(Unknown Source) at java.lang.Class.forName0(Native Method) at java.lang.Class.forNameFW(Class.java:362) at java.lang.Class.forName(Class.java:270) at com.businessobjects.sdk.biar.internal.db.Derby.(Derby.java:49 ) at com.businessobjects.sdk.biar.om.internal.db.AnnotatedObjectDatabase.&lt; init&gt;(AnnotatedObjectDatabase.java:23) at com.businessobjects.sdk.biar.om.internal.db.AnnotatedObjectDatabase.g etInstance(AnnotatedObjectDatabase.java:50) at com.businessobjects.sdk.biar.om.internal.ObjectManager.(ObjectM anager.java:97) at com.businessobjects.sdk.biar.BIARFactory.createOM(BIARFactory.java:10 1) at com.businessobjects.sdk.biar.BIARFactory.createOM(BIARFactory.java:85 ) at com.businessobjects.sdk.biar.BIARFactory.createOM(BIARFactory.java:75 ) at com.businessobjects.lcm.dependencies.DependencyManager.calculateDepen denciesUsingDM(DependencyManager.java:702) at com.businessobjects.lcm.dependencies.DependencyManager.computeDepende es(DependencyManager.java:683) at com.businessobjects.lcm.core.LCMEngine.computeDependees(LCMEngine.jav a:1237) at com.businessobjects.lcm.job.Job$1.run(Job.java:1308) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor. java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor .java:624) at java.lang.Thread.run(Thread.java:836) at java.lang.Class.setExceptionThrownDuringClinit(Class.java:3686) ... 13 more.</p>\n"},{"tags":["java","hibernate","spring","dbunit"],"comments":[{"owner":{"account_id":33206,"reputation":10107,"user_id":92764,"accept_rate":84,"display_name":"Luciano Fiandesio"},"score":0,"creation_date":1298293337,"post_id":5066201,"comment_id":5673944,"body_markdown":"What happen if you pre-pend the schema name to the table name \nstatus --&gt; myschema.status ?","body":"What happen if you pre-pend the schema name to the table name  status --&gt; myschema.status ?"},{"owner":{"display_name":"user626607"},"score":0,"creation_date":1298293795,"post_id":5066201,"comment_id":5674050,"body_markdown":"@Luciano Fiandesio, do you mean when creating IDatabaseConnection dbUnitConn = new DatabaseConnection(connection, &quot;SCHEMA?NAME&quot;)?","body":"@Luciano Fiandesio, do you mean when creating IDatabaseConnection dbUnitConn = new DatabaseConnection(connection, &quot;SCHEMA?NAME&quot;)?"},{"owner":{"account_id":33206,"reputation":10107,"user_id":92764,"accept_rate":84,"display_name":"Luciano Fiandesio"},"score":0,"creation_date":1298294070,"post_id":5066201,"comment_id":5674097,"body_markdown":"No, I mean in the xml dataset file\n&lt;table name=&quot;status&quot;&gt;\nbecomes\n&lt;table name=&quot;myschema.status&quot;&gt;","body":"No, I mean in the xml dataset file &lt;table name=&quot;status&quot;&gt; becomes &lt;table name=&quot;myschema.status&quot;&gt;"},{"owner":{"account_id":40862,"reputation":23767,"user_id":118587,"accept_rate":75,"display_name":"Grzegorz Oledzki"},"score":0,"creation_date":1298295154,"post_id":5066201,"comment_id":5674300,"body_markdown":"How does your JDBC connection string look like?","body":"How does your JDBC connection string look like?"},{"owner":{"display_name":"user626607"},"score":0,"creation_date":1298295427,"post_id":5066201,"comment_id":5674354,"body_markdown":"@Luciano Fiandesio: I tried that but get the same error. only with the schema name prepended to the &quot;missing table&quot;.","body":"@Luciano Fiandesio: I tried that but get the same error. only with the schema name prepended to the &quot;missing table&quot;."}],"answers":[{"comments":[{"owner":{"display_name":"user626607"},"score":0,"creation_date":1298293569,"post_id":5066226,"comment_id":5673996,"body_markdown":"Thanks @Grzegorz Oledzki for the quick reply. I created the tables in the database. I am using liquibase for db changelog management.","body":"Thanks @Grzegorz Oledzki for the quick reply. I created the tables in the database. I am using liquibase for db changelog management."},{"owner":{"display_name":"user626607"},"score":0,"creation_date":1298298535,"post_id":5066226,"comment_id":5675045,"body_markdown":"Thanks @Grzegorz Oledzki: You were right that dbunit doesnot create the tables for me in my databse. Though that was not the problem, the problem was that I had forgotten to add my mapping files to the hibernate.cfg.xml file -- i sheepishly admit. However, I had asked hibernate to do it using this hibernate.hbm2ddl.auto=create-drop as a property in my properties file. I am not sure I should mark you answer as the correct one although it added to solving the problem. I really appreciate your help guys. Thanks a bunch -- its now working!","body":"Thanks @Grzegorz Oledzki: You were right that dbunit doesnot create the tables for me in my databse. Though that was not the problem, the problem was that I had forgotten to add my mapping files to the hibernate.cfg.xml file -- i sheepishly admit. However, I had asked hibernate to do it using this hibernate.hbm2ddl.auto=create-drop as a property in my properties file. I am not sure I should mark you answer as the correct one although it added to solving the problem. I really appreciate your help guys. Thanks a bunch -- its now working!"}],"tags":[],"owner":{"account_id":40862,"reputation":23767,"user_id":118587,"accept_rate":75,"display_name":"Grzegorz Oledzki"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1298292974,"creation_date":1298292974,"answer_id":5066226,"question_id":5066201,"body_markdown":"Have you created the database tables in your database?\r\n\r\n`dbunit` won&#39;t do it for you, because it doesn&#39;t know the intended database structure. However you can ask Hibernat to do it. Use the `hbm2ddl` flag, e.g.:\r\n\r\n     &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create-drop&quot;/&gt;\r\n\r\nI couldn&#39;t find the main documentation for the flag, but if you searched for it you would get a lot of results, incl. &lt;http://docs.jboss.org/ejb3/docs/reference/build/reference/en/html/entityconfig.html&gt;","title":"org.dbunit.dataset.NoSuchTableException: Did not find table &#39;xxx&#39; in schema &#39;null&#39;","body":"<p>Have you created the database tables in your database?</p>\n\n<p><code>dbunit</code> won't do it for you, because it doesn't know the intended database structure. However you can ask Hibernat to do it. Use the <code>hbm2ddl</code> flag, e.g.:</p>\n\n<pre><code> &lt;property name=\"hibernate.hbm2ddl.auto\" value=\"create-drop\"/&gt;\n</code></pre>\n\n<p>I couldn't find the main documentation for the flag, but if you searched for it you would get a lot of results, incl. <a href=\"http://docs.jboss.org/ejb3/docs/reference/build/reference/en/html/entityconfig.html\" rel=\"nofollow\">http://docs.jboss.org/ejb3/docs/reference/build/reference/en/html/entityconfig.html</a></p>\n"},{"tags":[],"owner":{"display_name":"user626607"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1352150509,"creation_date":1298320343,"answer_id":5070949,"question_id":5066201,"body_markdown":"DBUnit will not create database tables for you because it has limited information from the dataset xml to create the intended database schema. \r\n\r\nWhen used in tandem with hibernate, it will require proper hbm mapping files for every pojo (that you are trying to map to the in memory test database tables), which is ultimately used in the tests. Without the mapping files, you will get the `org.dbunit.dataset.NoSuchTableException: Did not find table &#39;xxx&#39; in schema &#39;yyy&#39;`.\r\n\r\nAlso, a valid hibernate.cfg.xml is required, correctly configured with all the hibernate mapping files.\r\n\r\nYou can delegate the database creation to hibernate by setting this property `hibernate.hbm2ddl.auto=create-drop ` in your properties file.\r\n\r\nThe error message is a little misleading. Should probably contain more information to the effect of missing hibernate mapping files -- but this is a discussion on the DBunit wiki.","title":"org.dbunit.dataset.NoSuchTableException: Did not find table &#39;xxx&#39; in schema &#39;null&#39;","body":"<p>DBUnit will not create database tables for you because it has limited information from the dataset xml to create the intended database schema. </p>\n\n<p>When used in tandem with hibernate, it will require proper hbm mapping files for every pojo (that you are trying to map to the in memory test database tables), which is ultimately used in the tests. Without the mapping files, you will get the <code>org.dbunit.dataset.NoSuchTableException: Did not find table 'xxx' in schema 'yyy'</code>.</p>\n\n<p>Also, a valid hibernate.cfg.xml is required, correctly configured with all the hibernate mapping files.</p>\n\n<p>You can delegate the database creation to hibernate by setting this property <code>hibernate.hbm2ddl.auto=create-drop</code> in your properties file.</p>\n\n<p>The error message is a little misleading. Should probably contain more information to the effect of missing hibernate mapping files -- but this is a discussion on the DBunit wiki.</p>\n"},{"comments":[{"owner":{"account_id":970811,"reputation":649,"user_id":993417,"accept_rate":50,"display_name":"Dieter Hubau"},"score":0,"creation_date":1407935098,"post_id":5915063,"comment_id":39406972,"body_markdown":"THIS is what I&#39;m talking about, this has helped me enormously, because I had the create-drop property set and was setting up everything correctly. In previous versions of DBUnit, when you used\n  &lt;!DOCTYPE dataset&gt;\nit still worked. Since I upgraded my DBUnit (in fact, I moved from Unitils to latest version of spring-test-dbunit - I can recommend it) this didn&#39;t work anymore, so I was looking at my problem but couldn&#39;t find the cause.\n\nSo I can confirm that above fix works in version 1.1.0 of spring-test-dbunit!","body":"THIS is what I&#39;m talking about, this has helped me enormously, because I had the create-drop property set and was setting up everything correctly. In previous versions of DBUnit, when you used   &lt;!DOCTYPE dataset&gt; it still worked. Since I upgraded my DBUnit (in fact, I moved from Unitils to latest version of spring-test-dbunit - I can recommend it) this didn&#39;t work anymore, so I was looking at my problem but couldn&#39;t find the cause.  So I can confirm that above fix works in version 1.1.0 of spring-test-dbunit!"}],"tags":[],"owner":{"account_id":749282,"reputation":101,"user_id":742233,"display_name":"Reticulogic"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1304703835,"creation_date":1304703835,"answer_id":5915063,"question_id":5066201,"body_markdown":"remove the first line in your dataset.xml file \r\n\r\n`&lt;!DOCTYPE dataset&gt;`\r\n\r\nand replace it with this\r\n\r\n`&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;`\r\n\r\n\r\notherwise DBUnit tries to load the db tables schema from a DTD file and if no DTD is provided it will never match on any tables.    Using the plain xml header will cause DBUnit to skip this DTD - table check that is throwing the error you see.\r\n\r\nYou must also do what Grzegorz did and have hibernate do a create-drop for your tables by including \r\n\r\n `&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create-drop&quot;/&gt;`\r\n\r\nor\r\n\r\n`configuration.setProperty(Environment.HBM2DDL_AUTO, &quot;create-drop&quot;);`","title":"org.dbunit.dataset.NoSuchTableException: Did not find table &#39;xxx&#39; in schema &#39;null&#39;","body":"<p>remove the first line in your dataset.xml file </p>\n\n<p><code>&lt;!DOCTYPE dataset&gt;</code></p>\n\n<p>and replace it with this</p>\n\n<p><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;</code></p>\n\n<p>otherwise DBUnit tries to load the db tables schema from a DTD file and if no DTD is provided it will never match on any tables.    Using the plain xml header will cause DBUnit to skip this DTD - table check that is throwing the error you see.</p>\n\n<p>You must also do what Grzegorz did and have hibernate do a create-drop for your tables by including </p>\n\n<p><code>&lt;property name=\"hibernate.hbm2ddl.auto\" value=\"create-drop\"/&gt;</code></p>\n\n<p>or</p>\n\n<p><code>configuration.setProperty(Environment.HBM2DDL_AUTO, \"create-drop\");</code></p>\n"},{"tags":[],"owner":{"account_id":447141,"reputation":11,"user_id":840594,"display_name":"Matthew van Buuren"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1310470077,"creation_date":1310470077,"answer_id":6663485,"question_id":5066201,"body_markdown":"You may be interested in this. I found this error also and by renaming my table in the hibernate.cfg.xml from &#39;message&#39; to &#39;MESSAGE&#39;, It was able to find the schema.\r\n\r\nLet me know if this works for you too.","title":"org.dbunit.dataset.NoSuchTableException: Did not find table &#39;xxx&#39; in schema &#39;null&#39;","body":"<p>You may be interested in this. I found this error also and by renaming my table in the hibernate.cfg.xml from 'message' to 'MESSAGE', It was able to find the schema.</p>\n\n<p>Let me know if this works for you too.</p>\n"},{"comments":[{"owner":{"display_name":"user626607"},"score":0,"creation_date":1317567227,"post_id":7530125,"comment_id":9260622,"body_markdown":"I think the difference is JPA. I was using hibernate in tandem with generic-hibernate-DAO. And also, I did not use EclipseLink.","body":"I think the difference is JPA. I was using hibernate in tandem with generic-hibernate-DAO. And also, I did not use EclipseLink."},{"owner":{"account_id":80866,"reputation":11667,"user_id":228369,"accept_rate":79,"display_name":"chrismarx"},"score":3,"creation_date":1330359701,"post_id":7530125,"comment_id":11980650,"body_markdown":"with dbunit 2.4.5 and up, there is specific support for postgres, and you can get these options simply by using:                         DatabaseConfig dbUnitConConfig = dbUnitCon.getConfig();\n        dbUnitConConfig.setProperty(DatabaseConfig.PROPERTY_DATATYPE_FACTORY, new PostgresqlDataTypeFactory());","body":"with dbunit 2.4.5 and up, there is specific support for postgres, and you can get these options simply by using:                         DatabaseConfig dbUnitConConfig = dbUnitCon.getConfig();         dbUnitConConfig.setProperty(DatabaseConfig.PROPERTY_DATATYPE&zwnj;&#8203;_FACTORY, new PostgresqlDataTypeFactory());"},{"owner":{"account_id":1736792,"reputation":2016,"user_id":1589165,"accept_rate":65,"display_name":"Harshil Sharma"},"score":1,"creation_date":1465398916,"post_id":7530125,"comment_id":62886863,"body_markdown":"For me passing schema name in `DatabaseConnection` constructor solved the problem even though I was specifying it in database URL itself.","body":"For me passing schema name in <code>DatabaseConnection</code> constructor solved the problem even though I was specifying it in database URL itself."}],"tags":[],"owner":{"account_id":154559,"reputation":1436,"user_id":370576,"display_name":"loyalBrown"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1316786268,"creation_date":1316786268,"answer_id":7530125,"question_id":5066201,"body_markdown":"I&#39;ve also come across this same error and the accepted fix above did not fix my problems. However I was able to find the solution.\r\n\r\nMy setup consisted of DBUnit(2.4), EclipseLink(2.1) as my JPA provider, and Postgres as my backend database. Also, in my scenario I was not dropping and recreating the tables for each test run. My test data already existed. Bad practice I know, but it was more of a test/prototyping scenario. The code below illustrates the DBUnit configuration used to fix my problem. \r\n\r\n    54    // ctx represents a spring context\r\n    55    DataSource ds = (DataSource)ctx.getBean(&quot;myDatasourceBean&quot;);\r\n    56    Connection conn = DataSourceUtils.getConnection(ds);\r\n    57    IDatabaseConnection dbUnitConn = new DatabaseConnection(conn, &quot;public&quot;);\r\n    58    DatabaseConfig dbCfg = dbUnitConn.getConfig();\r\n    59    dbCfg.setFeature(DatabaseConfig.FEATURE_CASE_SENSITIVE_TABLE_NAMES, Boolean.TRUE);\r\n    60    IDataSet dataSet = new FlatXmlDataSet(ClassLoader.getSYstemResourceAsStream(&quot;mydbunitdata.xml&quot;));\r\n    61    DatabaseOperation.REFRESH.execute(dbUnitConn, dataSet);\r\n    \r\nTwo things in the code above fixed my problem. First I needed to define the schema DBUnit should use. That is done on line 57 above. When the new DatabaseConnection is set, the schema(&quot;public&quot;) should be passed in if it is not null. \r\n\r\nSecondly, I needed DBUnit to be case sensitive about the database table names. In my DBUnit xml file(&quot;mydbunitdata.xml&quot;) the table names are all lowercase like they are in the database. However, if you don&#39;t tell DBUnit to use case sensitive table names it looks for uppercase table names which Postgres didn&#39;t like. Therefore I needed to set the case sensitive feature in DBUnit which is done on line 59.","title":"org.dbunit.dataset.NoSuchTableException: Did not find table &#39;xxx&#39; in schema &#39;null&#39;","body":"<p>I've also come across this same error and the accepted fix above did not fix my problems. However I was able to find the solution.</p>\n\n<p>My setup consisted of DBUnit(2.4), EclipseLink(2.1) as my JPA provider, and Postgres as my backend database. Also, in my scenario I was not dropping and recreating the tables for each test run. My test data already existed. Bad practice I know, but it was more of a test/prototyping scenario. The code below illustrates the DBUnit configuration used to fix my problem. </p>\n\n<pre><code>54    // ctx represents a spring context\n55    DataSource ds = (DataSource)ctx.getBean(\"myDatasourceBean\");\n56    Connection conn = DataSourceUtils.getConnection(ds);\n57    IDatabaseConnection dbUnitConn = new DatabaseConnection(conn, \"public\");\n58    DatabaseConfig dbCfg = dbUnitConn.getConfig();\n59    dbCfg.setFeature(DatabaseConfig.FEATURE_CASE_SENSITIVE_TABLE_NAMES, Boolean.TRUE);\n60    IDataSet dataSet = new FlatXmlDataSet(ClassLoader.getSYstemResourceAsStream(\"mydbunitdata.xml\"));\n61    DatabaseOperation.REFRESH.execute(dbUnitConn, dataSet);\n</code></pre>\n\n<p>Two things in the code above fixed my problem. First I needed to define the schema DBUnit should use. That is done on line 57 above. When the new DatabaseConnection is set, the schema(\"public\") should be passed in if it is not null. </p>\n\n<p>Secondly, I needed DBUnit to be case sensitive about the database table names. In my DBUnit xml file(\"mydbunitdata.xml\") the table names are all lowercase like they are in the database. However, if you don't tell DBUnit to use case sensitive table names it looks for uppercase table names which Postgres didn't like. Therefore I needed to set the case sensitive feature in DBUnit which is done on line 59.</p>\n"},{"tags":[],"owner":{"account_id":1022880,"reputation":2804,"user_id":1032791,"accept_rate":73,"display_name":"Julius"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1412339021,"creation_date":1412339021,"answer_id":26178871,"question_id":5066201,"body_markdown":"I ran into the same error and had both my entity configured in hibernate.cfg.xml and I was using hbm2ddl to generate the tables, so I searched on and found that my entity mapping contained a field named &quot;POSITION&quot; which is a reserved term. When I changed it to &quot;POS&quot; the table was generated correctly.\r\n\r\nYou can check if your table is being generated by debugging the resultSet iteration in \r\n\r\norg.dbunit.database.DatabaseDataSet.initialize().\r\n\r\n","title":"org.dbunit.dataset.NoSuchTableException: Did not find table &#39;xxx&#39; in schema &#39;null&#39;","body":"<p>I ran into the same error and had both my entity configured in hibernate.cfg.xml and I was using hbm2ddl to generate the tables, so I searched on and found that my entity mapping contained a field named \"POSITION\" which is a reserved term. When I changed it to \"POS\" the table was generated correctly.</p>\n\n<p>You can check if your table is being generated by debugging the resultSet iteration in </p>\n\n<p>org.dbunit.database.DatabaseDataSet.initialize().</p>\n"},{"tags":[],"owner":{"account_id":16380773,"reputation":1,"user_id":11831875,"display_name":"Claudiane Oliveira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563989974,"creation_date":1563989974,"answer_id":57188486,"question_id":5066201,"body_markdown":"DbUnit classes take the default schema from the database, if the schema you want to use is not the default, you need to set the desired schema inside the .xml file and enable the recognition option of the other schemas, see the solution below. I created it.\r\n\r\n    \r\nExample.xml - Multiple Schemas\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n    &lt;dataset&gt;\r\n        &lt;SCHEMA1.NAME_TABLE id=&quot;5&quot; userName=&quot;1&quot; /&gt;\r\n    \t&lt;SCHEMA2.NAME_TABLE id=&quot;2&quot; roleName=&quot;1&quot; /&gt;\r\n    &lt;dataset&gt;\r\n    \r\n    \r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n    &lt;dataset&gt;\r\n        &lt;PEOPLE.USER id=&quot;5&quot; userName=&quot;1&quot; /&gt;\r\n    \t&lt;FUNCTIONS.ROLE id=&quot;2&quot; roleName=&quot;1&quot; /&gt;\r\n    &lt;dataset&gt;\r\n\r\nTEST CLASS\r\n\r\n        @Before\r\n        public void initialize() throws Exception{\r\n            //Insert data into database\r\n        \tDatabaseOperation.CLEAN_INSERT.execute(getConnection(), getDataSet());\r\n        }\r\n    \r\n        @After\r\n        public void cleanup() throws Exception{\r\n       \t //Clean up the database\r\n       \t  DatabaseOperation.DELETE_ALL.execute(getConnection(), getDataSet());\r\n       \t  System.out.println(&quot;DELETADO COM SUCESSO!&quot;);\r\n              \r\n        }\r\n    \t\r\n        private IDatabaseConnection getConnection() throws Exception{\r\n                // Get the database connection\r\n                Connection con = dataSource.getConnection();\r\n                DatabaseMetaData  databaseMetaData = con.getMetaData();\r\n                DatabaseConnection connection = new DatabaseConnection(con,databaseMetaData.getUserName().toUpperCase());\r\n                //Allow multiple schemas to be used\r\n                connection.getConfig().setFeature(DatabaseConfig.FEATURE_QUALIFIED_TABLE_NAMES, true);\r\n                return connection;    \r\n        }\r\n        \r\n    \tprivate IDataSet getDataSet() throws Exception{\r\n            //Get file to insert\r\n            File file = new File(&quot;src/test/resources/Example.xml&quot;);\r\n            return new FlatXmlDataSet(file);\r\n    }","title":"org.dbunit.dataset.NoSuchTableException: Did not find table &#39;xxx&#39; in schema &#39;null&#39;","body":"<p>DbUnit classes take the default schema from the database, if the schema you want to use is not the default, you need to set the desired schema inside the .xml file and enable the recognition option of the other schemas, see the solution below. I created it.</p>\n\n<p>Example.xml - Multiple Schemas</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;dataset&gt;\n    &lt;SCHEMA1.NAME_TABLE id=\"5\" userName=\"1\" /&gt;\n    &lt;SCHEMA2.NAME_TABLE id=\"2\" roleName=\"1\" /&gt;\n&lt;dataset&gt;\n\n\n&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;dataset&gt;\n    &lt;PEOPLE.USER id=\"5\" userName=\"1\" /&gt;\n    &lt;FUNCTIONS.ROLE id=\"2\" roleName=\"1\" /&gt;\n&lt;dataset&gt;\n</code></pre>\n\n<p>TEST CLASS</p>\n\n<pre><code>    @Before\n    public void initialize() throws Exception{\n        //Insert data into database\n        DatabaseOperation.CLEAN_INSERT.execute(getConnection(), getDataSet());\n    }\n\n    @After\n    public void cleanup() throws Exception{\n     //Clean up the database\n      DatabaseOperation.DELETE_ALL.execute(getConnection(), getDataSet());\n      System.out.println(\"DELETADO COM SUCESSO!\");\n\n    }\n\n    private IDatabaseConnection getConnection() throws Exception{\n            // Get the database connection\n            Connection con = dataSource.getConnection();\n            DatabaseMetaData  databaseMetaData = con.getMetaData();\n            DatabaseConnection connection = new DatabaseConnection(con,databaseMetaData.getUserName().toUpperCase());\n            //Allow multiple schemas to be used\n            connection.getConfig().setFeature(DatabaseConfig.FEATURE_QUALIFIED_TABLE_NAMES, true);\n            return connection;    \n    }\n\n    private IDataSet getDataSet() throws Exception{\n        //Get file to insert\n        File file = new File(\"src/test/resources/Example.xml\");\n        return new FlatXmlDataSet(file);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16320561,"reputation":91,"user_id":11786463,"display_name":"Volodymyr Taras"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675334070,"creation_date":1675332735,"answer_id":75321559,"question_id":5066201,"body_markdown":"For me this issue appeared when I renamed and removed few databases in schema and DBUnit anyways was trying to access it (??), but it was really absent and in datasets also.\r\n\r\nfor me helped this parameter:\r\n\r\n    @DataSet(..., useSequenceFiltering = false, ...)\r\n\r\nor more generically:\r\n\r\n    @DBUnit(..., disableSequenceFiltering = true, ...)\r\n\r\nFrom dbrider documentation:\r\n\r\n - If true dbunit will look at constraints and dataset to try to determine the correct ordering for the SQL statements. (default true)\r\n\r\nP.S.: probably, real issue is that table names were somehow cached, but I could not find where exactly.","title":"org.dbunit.dataset.NoSuchTableException: Did not find table &#39;xxx&#39; in schema &#39;null&#39;","body":"<p>For me this issue appeared when I renamed and removed few databases in schema and DBUnit anyways was trying to access it (??), but it was really absent and in datasets also.</p>\n<p>for me helped this parameter:</p>\n<pre><code>@DataSet(..., useSequenceFiltering = false, ...)\n</code></pre>\n<p>or more generically:</p>\n<pre><code>@DBUnit(..., disableSequenceFiltering = true, ...)\n</code></pre>\n<p>From dbrider documentation:</p>\n<ul>\n<li>If true dbunit will look at constraints and dataset to try to determine the correct ordering for the SQL statements. (default true)</li>\n</ul>\n<p>P.S.: probably, real issue is that table names were somehow cached, but I could not find where exactly.</p>\n"}],"owner":{"display_name":"user626607"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43557,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":5070949,"answer_count":8,"score":9,"last_activity_date":1675334070,"creation_date":1298292802,"question_id":5066201,"body_markdown":"I know there have been discussions wrt to dbunit here. I have read most of them but I cant seem to find a solution to my problem.\r\n\r\nI have set up hibernate and spring. I am doing TDD so I had to wire up a proper DAO testing framework before writing code. Dbunit came to mind and I got to setting it up. Here is ma testdataset.xml\r\n\r\n\t\t&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n\t\t&lt;dataset&gt;\r\n\t\t\t&lt;table name=&quot;status&quot;&gt;\r\n\t\t\t\t&lt;column&gt;statusId&lt;/column&gt;\r\n\t\t\t\t&lt;column&gt;status&lt;/column&gt;\r\n\t\t\t\t&lt;row&gt;\r\n\t\t\t\t\t&lt;value&gt;0&lt;/value&gt;\r\n\t\t\t\t\t&lt;value&gt;Available&lt;/value&gt;\r\n\t\t\t\t&lt;/row&gt;\r\n\t\t\t&lt;/table&gt;\r\n\t\t\t&lt;table name=&quot;user&quot;&gt;\r\n\t\t\t\t&lt;column&gt;userId&lt;/column&gt;\r\n\t\t\t\t&lt;column&gt;firstName&lt;/column&gt;\r\n\t\t\t\t&lt;column&gt;lastName&lt;/column&gt;\r\n\t\t\t\t&lt;column&gt;username&lt;/column&gt;\r\n\t\t\t\t&lt;column&gt;password&lt;/column&gt;\r\n\t\t\t\t&lt;column&gt;email&lt;/column&gt;\r\n\t\t\t\t&lt;row&gt;\r\n\t\t\t\t\t&lt;value&gt;0&lt;/value&gt;\r\n\t\t\t\t\t&lt;value&gt;system&lt;/value&gt;\r\n\t\t\t\t\t&lt;value&gt;admin&lt;/value&gt;\r\n\t\t\t\t\t&lt;value&gt;admin&lt;/value&gt;\r\n\t\t\t\t\t&lt;value&gt;admin&lt;/value&gt;\r\n\t\t\t\t\t&lt;value&gt;admin@ccbs.com&lt;/value&gt;\r\n\t\t\t\t&lt;/row&gt;\r\n\t\t\t&lt;/table&gt;\r\n\t\t\t&lt;table name=&quot;reservation&quot;&gt;\r\n\t\t\t\t&lt;column&gt;reservationId&lt;/column&gt;\r\n\t\t\t\t&lt;column&gt;userId&lt;/column&gt;\r\n\t\t\t\t&lt;column&gt;reservationDate&lt;/column&gt;\r\n\t\t\t\t&lt;column&gt;startDate&lt;/column&gt;\r\n\t\t\t\t&lt;column&gt;endDate&lt;/column&gt;\r\n\t\t\t\t&lt;column&gt;statusId&lt;/column&gt;\r\n\t\t\t\t&lt;row&gt;\r\n\t\t\t\t\t&lt;value&gt;0&lt;/value&gt;\r\n\t\t\t\t\t&lt;value&gt;0&lt;/value&gt;\r\n\t\t\t\t\t&lt;value&gt;2011-02-20 12:46:00.0&lt;/value&gt;\r\n\t\t\t\t\t&lt;value&gt;2011-03-01 12:00:00.0&lt;/value&gt;\r\n\t\t\t\t\t&lt;value&gt;2011-04-01 12:00:00.0&lt;/value&gt;\r\n\t\t\t\t\t&lt;value&gt;0&lt;/value&gt;\r\n\t\t\t\t&lt;/row&gt;\r\n\t\t\t&lt;/table&gt;\r\n\t\t&lt;/dataset&gt;\r\n\r\n\r\nAll seems well until i try to wire up some code using a base class that loads the dataset. Here is my code:\r\n\r\n    \t\r\n    @Transactional\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = { &quot;classpath:test-applicationContext.xml&quot; })\r\n    @TransactionConfiguration(transactionManager = &quot;transactionManager&quot;, defaultRollback = true)\r\n    public class BaseContextSensitiveTest {\r\n\r\n        @BeforeClass\r\n\tpublic static void setUpDatabase() throws Exception {\r\n\t\tURL file = getInitalDatasetURL();\r\n\t\ttestDataset = createDataset(file);\r\n\t}\r\n\t\r\n       @Before\r\n\tpublic void init() throws Exception {\r\n\t\tlog.info(&quot;Initializing Data Set&quot;);\r\n\t\tconnection = createDBUnitConnection();\r\n\t\t\r\n\t\tDatabaseOperation.CLEAN_INSERT.execute(connection, testDataset);\r\n\t}\r\n\r\n\tprivate static URL getInitalDatasetURL() throws FileNotFoundException {\r\n\t\tURL file = ClassLoader.getSystemResource(TEST_DATASET_LOCATION);\r\n\t\tif (file == null) {\r\n\t\t\tthrow new FileNotFoundException(&quot;Unable to find &#39;&quot;\r\n\t\t\t\t\t+ TEST_DATASET_LOCATION + &quot;&#39; in the classpath&quot;);\r\n\t\t}\r\n\t\treturn file;\r\n\t}\r\n\r\n\tprivate static IDataSet createDataset(URL file) throws IOException,\r\n\t\t\tDataSetException {\r\n\r\n\t\treturn new XmlDataSet(file.openStream());\r\n\t}\r\n\r\n\tprivate IDatabaseConnection createDBUnitConnection()\r\n\t\t\tthrows DatabaseUnitException, SQLException {\r\n\r\n\t\tConnection connection = getConnection();\r\n\t\tIDatabaseConnection dbUnitConn = new DatabaseConnection(connection);\r\n\r\n\t\t// use the hsql datatypefactory so that boolean properties work\r\n\t\t// correctly\r\n\t\tDatabaseConfig config = dbUnitConn.getConfig();\r\n\t\tconfig.setProperty(DatabaseConfig.PROPERTY_DATATYPE_FACTORY,\r\n\t\t\t\tnew HsqldbDataTypeFactory());\r\n\r\n\t\treturn dbUnitConn;\r\n\t}\r\n\r\nAs soon as it hits the ` DatabaseOperation.CLEAN_INSERT.execute(connection, testDataset);` it throws the following exception:\r\n\r\n    org.dbunit.dataset.NoSuchTableException: Did not find table &#39;USER&#39; in schema &#39;null&#39;\r\n\tat org.dbunit.database.DatabaseTableMetaData.&lt;init&gt;(DatabaseTableMetaData.java:142)\r\n\tat org.dbunit.database.DatabaseDataSet.getTableMetaData(DatabaseDataSet.java:290)\r\n\tat org.dbunit.operation.DeleteAllOperation.execute(DeleteAllOperation.java:109)\r\n\tat org.dbunit.operation.CompositeOperation.execute(CompositeOperation.java:79)\r\n\tat com.cottage.test.BaseContextSensitiveTest.init(BaseContextSensitiveTest.java:64)\r\n\r\nI have all the hibernate mapping files in place and the database is already set up with no data. Funny thing (or annoying thing depending on how you look at it) is that if I change the order of the tables in the dataset, the missingtableexception complains of another table... either user, reservation or status.\r\n\r\nAny suggestions on what I might be doing wrong?\r\n","title":"org.dbunit.dataset.NoSuchTableException: Did not find table &#39;xxx&#39; in schema &#39;null&#39;","body":"<p>I know there have been discussions wrt to dbunit here. I have read most of them but I cant seem to find a solution to my problem.</p>\n\n<p>I have set up hibernate and spring. I am doing TDD so I had to wire up a proper DAO testing framework before writing code. Dbunit came to mind and I got to setting it up. Here is ma testdataset.xml</p>\n\n<pre><code>    &lt;?xml version='1.0' encoding='UTF-8'?&gt;\n    &lt;dataset&gt;\n        &lt;table name=\"status\"&gt;\n            &lt;column&gt;statusId&lt;/column&gt;\n            &lt;column&gt;status&lt;/column&gt;\n            &lt;row&gt;\n                &lt;value&gt;0&lt;/value&gt;\n                &lt;value&gt;Available&lt;/value&gt;\n            &lt;/row&gt;\n        &lt;/table&gt;\n        &lt;table name=\"user\"&gt;\n            &lt;column&gt;userId&lt;/column&gt;\n            &lt;column&gt;firstName&lt;/column&gt;\n            &lt;column&gt;lastName&lt;/column&gt;\n            &lt;column&gt;username&lt;/column&gt;\n            &lt;column&gt;password&lt;/column&gt;\n            &lt;column&gt;email&lt;/column&gt;\n            &lt;row&gt;\n                &lt;value&gt;0&lt;/value&gt;\n                &lt;value&gt;system&lt;/value&gt;\n                &lt;value&gt;admin&lt;/value&gt;\n                &lt;value&gt;admin&lt;/value&gt;\n                &lt;value&gt;admin&lt;/value&gt;\n                &lt;value&gt;admin@ccbs.com&lt;/value&gt;\n            &lt;/row&gt;\n        &lt;/table&gt;\n        &lt;table name=\"reservation\"&gt;\n            &lt;column&gt;reservationId&lt;/column&gt;\n            &lt;column&gt;userId&lt;/column&gt;\n            &lt;column&gt;reservationDate&lt;/column&gt;\n            &lt;column&gt;startDate&lt;/column&gt;\n            &lt;column&gt;endDate&lt;/column&gt;\n            &lt;column&gt;statusId&lt;/column&gt;\n            &lt;row&gt;\n                &lt;value&gt;0&lt;/value&gt;\n                &lt;value&gt;0&lt;/value&gt;\n                &lt;value&gt;2011-02-20 12:46:00.0&lt;/value&gt;\n                &lt;value&gt;2011-03-01 12:00:00.0&lt;/value&gt;\n                &lt;value&gt;2011-04-01 12:00:00.0&lt;/value&gt;\n                &lt;value&gt;0&lt;/value&gt;\n            &lt;/row&gt;\n        &lt;/table&gt;\n    &lt;/dataset&gt;\n</code></pre>\n\n<p>All seems well until i try to wire up some code using a base class that loads the dataset. Here is my code:</p>\n\n<pre><code>@Transactional\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = { \"classpath:test-applicationContext.xml\" })\n@TransactionConfiguration(transactionManager = \"transactionManager\", defaultRollback = true)\npublic class BaseContextSensitiveTest {\n\n    @BeforeClass\npublic static void setUpDatabase() throws Exception {\n    URL file = getInitalDatasetURL();\n    testDataset = createDataset(file);\n}\n\n   @Before\npublic void init() throws Exception {\n    log.info(\"Initializing Data Set\");\n    connection = createDBUnitConnection();\n\n    DatabaseOperation.CLEAN_INSERT.execute(connection, testDataset);\n}\n\nprivate static URL getInitalDatasetURL() throws FileNotFoundException {\n    URL file = ClassLoader.getSystemResource(TEST_DATASET_LOCATION);\n    if (file == null) {\n        throw new FileNotFoundException(\"Unable to find '\"\n                + TEST_DATASET_LOCATION + \"' in the classpath\");\n    }\n    return file;\n}\n\nprivate static IDataSet createDataset(URL file) throws IOException,\n        DataSetException {\n\n    return new XmlDataSet(file.openStream());\n}\n\nprivate IDatabaseConnection createDBUnitConnection()\n        throws DatabaseUnitException, SQLException {\n\n    Connection connection = getConnection();\n    IDatabaseConnection dbUnitConn = new DatabaseConnection(connection);\n\n    // use the hsql datatypefactory so that boolean properties work\n    // correctly\n    DatabaseConfig config = dbUnitConn.getConfig();\n    config.setProperty(DatabaseConfig.PROPERTY_DATATYPE_FACTORY,\n            new HsqldbDataTypeFactory());\n\n    return dbUnitConn;\n}\n</code></pre>\n\n<p>As soon as it hits the <code>DatabaseOperation.CLEAN_INSERT.execute(connection, testDataset);</code> it throws the following exception:</p>\n\n<pre><code>org.dbunit.dataset.NoSuchTableException: Did not find table 'USER' in schema 'null'\nat org.dbunit.database.DatabaseTableMetaData.&lt;init&gt;(DatabaseTableMetaData.java:142)\nat org.dbunit.database.DatabaseDataSet.getTableMetaData(DatabaseDataSet.java:290)\nat org.dbunit.operation.DeleteAllOperation.execute(DeleteAllOperation.java:109)\nat org.dbunit.operation.CompositeOperation.execute(CompositeOperation.java:79)\nat com.cottage.test.BaseContextSensitiveTest.init(BaseContextSensitiveTest.java:64)\n</code></pre>\n\n<p>I have all the hibernate mapping files in place and the database is already set up with no data. Funny thing (or annoying thing depending on how you look at it) is that if I change the order of the tables in the dataset, the missingtableexception complains of another table... either user, reservation or status.</p>\n\n<p>Any suggestions on what I might be doing wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1675331518,"post_id":75321249,"comment_id":132907195,"body_markdown":"I&#39;m pretty sure Gson has a generic &quot;tree&quot; representation just like Jackson has. However, it might be easier if you&#39;d represent that json using pojos. How would you represent that data as plain java objects?","body":"I&#39;m pretty sure Gson has a generic &quot;tree&quot; representation just like Jackson has. However, it might be easier if you&#39;d represent that json using pojos. How would you represent that data as plain java objects?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1675331545,"post_id":75321249,"comment_id":132907208,"body_markdown":"Why do you parse to `Map` and not to a custom class?","body":"Why do you parse to <code>Map</code> and not to a custom class?"},{"owner":{"account_id":26248914,"reputation":3,"user_id":19922019,"display_name":"TeachMeEx"},"score":0,"creation_date":1675331814,"post_id":75321249,"comment_id":132907301,"body_markdown":"this is my first time with java, so i really don&#39;t have much regarding java","body":"this is my first time with java, so i really don&#39;t have much regarding java"},{"owner":{"account_id":349165,"reputation":559,"user_id":684296,"accept_rate":80,"display_name":"Newerth"},"score":0,"creation_date":1675332135,"post_id":75321249,"comment_id":132907402,"body_markdown":"There are several approaches to this but if you&#39;re just starting with Java, you may also consider Groovy, which is very similar to Java but dynamic. With Groovy you can map a JSON directly to a compatible object.","body":"There are several approaches to this but if you&#39;re just starting with Java, you may also consider Groovy, which is very similar to Java but dynamic. With Groovy you can map a JSON directly to a compatible object."},{"owner":{"account_id":26248914,"reputation":3,"user_id":19922019,"display_name":"TeachMeEx"},"score":0,"creation_date":1675332461,"post_id":75321249,"comment_id":132907500,"body_markdown":"im actually required to use java, so i currently have no choice on how to go about this.","body":"im actually required to use java, so i currently have no choice on how to go about this."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1675334884,"post_id":75321249,"comment_id":132908296,"body_markdown":"[Read This](https://www.baeldung.com/java-generate-class-from-json)","body":"<a href=\"https://www.baeldung.com/java-generate-class-from-json\" rel=\"nofollow noreferrer\">Read This</a>"}],"answers":[{"tags":[],"owner":{"account_id":16161082,"reputation":113,"user_id":11667138,"display_name":"Kashan Nadeem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675334018,"creation_date":1675334018,"answer_id":75321838,"question_id":75321249,"body_markdown":"You could use [Jackson][1]&#39;s ObjectMapper.\r\n\r\nYou must declare your objects to match the structure of the JSON.\r\n\r\n    public class Foo {\r\n\r\n        private String title;\r\n        private String description;\r\n        private List&lt;System&gt; systems;\r\n\r\n        // standard getters setters\r\n    }\r\n\r\n    \r\n    public class System {\r\n\r\n        private String name;\r\n        private String purpose;\r\n        private String owner;\r\n        private List&lt;String&gt; sub_owner; //or subOwner, depending on ObjectMapper&#39;s configuration\r\n        private String location;\r\n        private String tag;\r\n\r\n        // standard getters setters\r\n    }\r\n\r\nAnd then you can do: \r\n\r\n    String jsonData = new String(Files.readAllBytes(Paths.get(&quot;Java/system.json&quot;)));\r\n    Foo foo = objectMapper.readValue(json, Foo.class);\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind/2.14.2","title":"Turning this JSON into an accessible Java Object","body":"<p>You could use <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind/2.14.2\" rel=\"nofollow noreferrer\">Jackson</a>'s ObjectMapper.</p>\n<p>You must declare your objects to match the structure of the JSON.</p>\n<pre><code>public class Foo {\n\n    private String title;\n    private String description;\n    private List&lt;System&gt; systems;\n\n    // standard getters setters\n}\n\n\npublic class System {\n\n    private String name;\n    private String purpose;\n    private String owner;\n    private List&lt;String&gt; sub_owner; //or subOwner, depending on ObjectMapper's configuration\n    private String location;\n    private String tag;\n\n    // standard getters setters\n}\n</code></pre>\n<p>And then you can do:</p>\n<pre><code>String jsonData = new String(Files.readAllBytes(Paths.get(&quot;Java/system.json&quot;)));\nFoo foo = objectMapper.readValue(json, Foo.class);\n</code></pre>\n"}],"owner":{"account_id":26248914,"reputation":3,"user_id":19922019,"display_name":"TeachMeEx"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75321838,"answer_count":1,"score":0,"last_activity_date":1675334018,"creation_date":1675331143,"question_id":75321249,"body_markdown":"The JSON file/data/string that I need to convert:\r\n\r\n```json\r\n{\r\n    &quot;title&quot;: &quot;Application Title &lt;You may change the title of your app&gt;&quot;,\r\n    &quot;description&quot;: &quot;This is an inventory for company system information&quot;,\r\n    &quot;systems&quot;: [ \r\n        {\r\n            &quot;name&quot;: &quot;string&quot;,\r\n\t    &quot;purpose&quot;: &quot;string&quot;,\r\n            &quot;owner&quot;: &quot;string&quot;,\r\n            &quot;sub_owner&quot;: [&quot;string&quot;, &quot;string&quot;],\r\n            &quot;location&quot;: &quot;string&quot;,\r\n\t    &quot;tag&quot;: &quot;string&quot;\r\n        },\r\n        {\r\n            &quot;name&quot;: &quot;string&quot; \r\n            &quot;purpose&quot;: &quot;string&quot;,\r\n            &quot;owner&quot;: &quot;string&quot;,\r\n            &quot;sub_owner&quot;: [&quot;string&quot;, &quot;string&quot;],\r\n            &quot;location&quot;: &quot;string&quot;,\r\n\t    &quot;tag&quot;: &quot;string&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nI am currently using GSON library, and I am still trying to map again the nested objects/list/arrays inside so I can access a specific key inside to edit or change that value. Here&#39;s where I&#39;m stuck right now:\r\n\r\n    jsonData = new String(Files.readAllBytes(Paths.get(&quot;Java/system.json&quot;)));\r\n    Map&lt;String, Object&gt; outerData = new Gson().fromJson(jsonData, new TypeToken&lt;Map&lt;String, Object&gt;&gt;(){}.getType());\r\n    for (Map.Entry&lt;String, Object&gt; outerList : outerData.entrySet()){\r\n      System.out.print(outerList.getKey() + &quot;: &quot; + outerList.getValue() + &quot;\\n&quot;);\r\n    }","title":"Turning this JSON into an accessible Java Object","body":"<p>The JSON file/data/string that I need to convert:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;title&quot;: &quot;Application Title &lt;You may change the title of your app&gt;&quot;,\n    &quot;description&quot;: &quot;This is an inventory for company system information&quot;,\n    &quot;systems&quot;: [ \n        {\n            &quot;name&quot;: &quot;string&quot;,\n        &quot;purpose&quot;: &quot;string&quot;,\n            &quot;owner&quot;: &quot;string&quot;,\n            &quot;sub_owner&quot;: [&quot;string&quot;, &quot;string&quot;],\n            &quot;location&quot;: &quot;string&quot;,\n        &quot;tag&quot;: &quot;string&quot;\n        },\n        {\n            &quot;name&quot;: &quot;string&quot; \n            &quot;purpose&quot;: &quot;string&quot;,\n            &quot;owner&quot;: &quot;string&quot;,\n            &quot;sub_owner&quot;: [&quot;string&quot;, &quot;string&quot;],\n            &quot;location&quot;: &quot;string&quot;,\n        &quot;tag&quot;: &quot;string&quot;\n        }\n    ]\n}\n</code></pre>\n<p>I am currently using GSON library, and I am still trying to map again the nested objects/list/arrays inside so I can access a specific key inside to edit or change that value. Here's where I'm stuck right now:</p>\n<pre><code>jsonData = new String(Files.readAllBytes(Paths.get(&quot;Java/system.json&quot;)));\nMap&lt;String, Object&gt; outerData = new Gson().fromJson(jsonData, new TypeToken&lt;Map&lt;String, Object&gt;&gt;(){}.getType());\nfor (Map.Entry&lt;String, Object&gt; outerList : outerData.entrySet()){\n  System.out.print(outerList.getKey() + &quot;: &quot; + outerList.getValue() + &quot;\\n&quot;);\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin","record"],"answers":[{"tags":[],"owner":{"account_id":21743508,"reputation":1,"user_id":21027468,"display_name":"ItsAnfield"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675333048,"creation_date":1675332784,"answer_id":75321573,"question_id":75321525,"body_markdown":"Maybe it&#39;s a bad solution.\r\n\r\nBut if you need a fast solution. Record the whole screen and crop it so you can only see what you really care about.","title":"Record Android Screen Problem Using Android Studio","body":"<p>Maybe it's a bad solution.</p>\n<p>But if you need a fast solution. Record the whole screen and crop it so you can only see what you really care about.</p>\n"},{"comments":[{"owner":{"account_id":25010239,"reputation":1,"user_id":18869811,"display_name":"jaslkfjsa"},"score":1,"creation_date":1675333520,"post_id":75321614,"comment_id":132907854,"body_markdown":"Yes, but it is not working","body":"Yes, but it is not working"},{"owner":{"account_id":26725682,"reputation":3,"user_id":20328841,"display_name":"Mgk64"},"score":0,"creation_date":1675333766,"post_id":75321614,"comment_id":132907937,"body_markdown":"If i understand correctly you want to record you&#39;r emulator screen ? And from the picture you give you are using AMD hardware in you&#39;r computer in this case did you install the amd sdk in Tools-&gt;SDK Manager -&gt; SDK TOOLS","body":"If i understand correctly you want to record you&#39;r emulator screen ? And from the picture you give you are using AMD hardware in you&#39;r computer in this case did you install the amd sdk in Tools-&gt;SDK Manager -&gt; SDK TOOLS"}],"tags":[],"owner":{"account_id":26725682,"reputation":3,"user_id":20328841,"display_name":"Mgk64"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675333036,"creation_date":1675332989,"answer_id":75321614,"question_id":75321525,"body_markdown":"Did you allow the permission to the camera in you&#39;r `manifest.xml`\r\n\r\nmust add this \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;&gt;&lt;/uses-permission&gt;\r\n","title":"Record Android Screen Problem Using Android Studio","body":"<p>Did you allow the permission to the camera in you'r <code>manifest.xml</code></p>\n<p>must add this</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot;&gt;&lt;/uses-permission&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6420612,"reputation":646,"user_id":4977439,"display_name":"Oleg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675333924,"creation_date":1675333924,"answer_id":75321816,"question_id":75321525,"body_markdown":"Check out this cli tool: https://github.com/Genymobile/scrcpy\r\nIt works very fast and you can record the screen directly to video file with command:\r\n\r\n    scrcpy --record=file.mp4","title":"Record Android Screen Problem Using Android Studio","body":"<p>Check out this cli tool: <a href=\"https://github.com/Genymobile/scrcpy\" rel=\"nofollow noreferrer\">https://github.com/Genymobile/scrcpy</a>\nIt works very fast and you can record the screen directly to video file with command:</p>\n<pre><code>scrcpy --record=file.mp4\n</code></pre>\n"}],"owner":{"account_id":25010239,"reputation":1,"user_id":18869811,"display_name":"jaslkfjsa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1675333924,"creation_date":1675332577,"question_id":75321525,"body_markdown":"When I press on vertical ellipsis\r\n[Screenshot 1](https://i.stack.imgur.com/OBW0k.png)\r\nIt show me this window, So I press on Start Recording\r\n[Screenshot 2](https://i.stack.imgur.com/5Mtzr.png)\r\nThen it show me this error\r\n[Screenshot 3](https://i.stack.imgur.com/ZOBhL.png)\r\nHow can I solve this problem?\r\n\r\nrecord the screen on my Emulator\r\n[Screenshot 4](https://i.stack.imgur.com/hf7o7.png)","title":"Record Android Screen Problem Using Android Studio","body":"<p>When I press on vertical ellipsis\n<a href=\"https://i.stack.imgur.com/OBW0k.png\" rel=\"nofollow noreferrer\">Screenshot 1</a>\nIt show me this window, So I press on Start Recording\n<a href=\"https://i.stack.imgur.com/5Mtzr.png\" rel=\"nofollow noreferrer\">Screenshot 2</a>\nThen it show me this error\n<a href=\"https://i.stack.imgur.com/ZOBhL.png\" rel=\"nofollow noreferrer\">Screenshot 3</a>\nHow can I solve this problem?</p>\n<p>record the screen on my Emulator\n<a href=\"https://i.stack.imgur.com/hf7o7.png\" rel=\"nofollow noreferrer\">Screenshot 4</a></p>\n"},{"tags":["java","azure","azure-blob-storage","azure-iot-hub"],"answers":[{"tags":[],"owner":{"account_id":12098541,"reputation":303,"user_id":8840650,"display_name":"Femi Sulu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510960271,"creation_date":1510960271,"answer_id":47360620,"question_id":47185003,"body_markdown":"are you using a service or Account-level SAS? The error thrown suggests the service isn&#39;t authorized or have the delegated permissions to write to the designated blob container. Check out the resource here on how to setup an account level SAS and how to delegate read, write and delete operations on blob containers. https://learn.microsoft.com/en-us/rest/api/storageservices/Delegating-Access-with-a-Shared-Access-Signature?redirectedfrom=MSDN &quot;snipped content: &quot;An account-level SAS, introduced with version 2015-04-05. The account SAS delegates access to resources in one or more of the storage services. All of the operations available via a service SAS are also available via an account SAS. Additionally, with the account SAS, you can delegate access to operations that apply to a given service, such as Get/Set Service Properties and Get Service Stats. You can also delegate access to read, write, and delete operations on blob containers, tables, queues, and file shares that are not permitted with a service SAS. See Constructing an Account SAS for more information about account SAS.&quot;","title":"Error while making Azure IoT Hub Device Identities in bulk","body":"<p>are you using a service or Account-level SAS? The error thrown suggests the service isn't authorized or have the delegated permissions to write to the designated blob container. Check out the resource here on how to setup an account level SAS and how to delegate read, write and delete operations on blob containers. <a href=\"https://learn.microsoft.com/en-us/rest/api/storageservices/Delegating-Access-with-a-Shared-Access-Signature?redirectedfrom=MSDN\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/rest/api/storageservices/Delegating-Access-with-a-Shared-Access-Signature?redirectedfrom=MSDN</a> \"snipped content: \"An account-level SAS, introduced with version 2015-04-05. The account SAS delegates access to resources in one or more of the storage services. All of the operations available via a service SAS are also available via an account SAS. Additionally, with the account SAS, you can delegate access to operations that apply to a given service, such as Get/Set Service Properties and Get Service Stats. You can also delegate access to read, write, and delete operations on blob containers, tables, queues, and file shares that are not permitted with a service SAS. See Constructing an Account SAS for more information about account SAS.\"</p>\n"},{"tags":[],"owner":{"account_id":8853937,"reputation":798,"user_id":6612255,"display_name":"Yash Mochi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675333896,"creation_date":1675333896,"answer_id":75321809,"question_id":47185003,"body_markdown":"I was facing the same issue while using private storage account as import/output container.\r\n\r\nIt is working smooth after I started using public storage account.\r\nAnyway, it should work even with private storage account. So, I have raised an issue. For more into, you may refer this [link][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75319778/unable-to-bulk-import-devices-with-private-storage-account","title":"Error while making Azure IoT Hub Device Identities in bulk","body":"<p>I was facing the same issue while using private storage account as import/output container.</p>\n<p>It is working smooth after I started using public storage account.\nAnyway, it should work even with private storage account. So, I have raised an issue. For more into, you may refer this <a href=\"https://stackoverflow.com/questions/75319778/unable-to-bulk-import-devices-with-private-storage-account\">link</a>.</p>\n"}],"owner":{"account_id":7097751,"reputation":151,"user_id":7509808,"display_name":"Shubham Dwivedi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675333896,"creation_date":1510158942,"question_id":47185003,"body_markdown":"I am following https://learn.microsoft.com/en-us/azure/iot-hub/iot-hub-bulk-identity-mgmt to do Bulk upload of Device Identities in Azure IoT Hub. All codes given here are in C# so I am converting it to JAVA equivalent.\r\n\r\nUsing **Import devices example  bulk device provisioning** I am getting following json-\r\n\r\n    {&quot;id&quot;:&quot;d3d78b0d-6c8c-4ef5-a321-91fbb6a4b7d1&quot;,&quot;importMode&quot;:&quot;create&quot;,&quot;status&quot;:&quot;enabled&quot;,&quot;authentication&quot;:{&quot;symmetricKey&quot;:{&quot;primaryKey&quot;:&quot;f8/UZcYbhPxnNdbSl2J+0Q==&quot;,&quot;secondaryKey&quot;:&quot;lbq4Y4Z8qWmfUxAQjRsDjw==&quot;}}}\r\n    {&quot;id&quot;:&quot;70bbe407-8d65-4f57-936f-ef402aa66d07&quot;,&quot;importMode&quot;:&quot;create&quot;,&quot;status&quot;:&quot;enabled&quot;,&quot;authentication&quot;:{&quot;symmetricKey&quot;:{&quot;primaryKey&quot;:&quot;9e7fDNIFbMu/NmOfxo/vGg==&quot;,&quot;secondaryKey&quot;:&quot;nwFiKR4HV9KYHzkeyu8nLA==&quot;}}}\r\nTo import the file from blob following function is called-\r\n\r\n    CompletableFuture&lt;JobProperties&gt; importJob = registryManager\r\n\t\t.importDevicesAsync(inURI, outURI);\r\nIn the above code, we need to provide URI with SAS code, for that **Get the container SAS URI** equivalent code is below-\r\n\r\n    static String GetContainerSasUri(CloudBlobContainer container) {\r\n\t\tSharedAccessBlobPolicy sasConstraints = new SharedAccessBlobPolicy();\r\n\t\tsasConstraints.setSharedAccessExpiryTime(new Date(new Date().getTime() + TimeUnit.DAYS.toMillis(1)));\r\n\t\tsasConstraints.setPermissions(EnumSet.of(SharedAccessBlobPermissions.READ, SharedAccessBlobPermissions.WRITE,\r\n\t\t\t\tSharedAccessBlobPermissions.LIST, SharedAccessBlobPermissions.DELETE));\r\n\r\n\t\tBlobContainerPermissions permissions = new BlobContainerPermissions();\r\n\t\tpermissions.setPublicAccess(BlobContainerPublicAccessType.CONTAINER);\r\n\t\tpermissions.getSharedAccessPolicies().put(&quot;testpolicy&quot;, sasConstraints);\r\n\t\ttry {\r\n\t\t\tcontainer.uploadPermissions(permissions);\r\n\t\t} catch (StorageException e1) {\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n\t\tString sasContainerToken = null;\r\n\t\ttry {\r\n\t\t\tsasContainerToken = container.generateSharedAccessSignature(sasConstraints, &quot;testpolicy&quot;);\r\n\t\t} catch (InvalidKeyException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (StorageException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tSystem.out.println(&quot;URI &quot; + container.getUri() +&quot;?&quot;+ sasContainerToken);\r\n\t\treturn container.getUri() + &quot;?&quot; + sasContainerToken;\r\n\t}\r\nNow the problem is coming here. For the output container I am getting following error-\r\n\r\n    java.util.concurrent.ExecutionException: com.microsoft.azure.sdk.iot.service.exceptions.IotHubBadFormatException: Bad message format! ErrorCode:BlobContainerValidationError;Unauthorized to write to output blob container. Tracking ID:2dcb2efbf1e14e33ba60dc8415dc03c3-G:4-TimeStamp:11/08/2017 16:16:10\r\n\r\nPlease help me to know why I am getting **Bad Message Format** error? Is there a problem with the SAS key generating code or my blob container is not having Write permission?","title":"Error while making Azure IoT Hub Device Identities in bulk","body":"<p>I am following <a href=\"https://learn.microsoft.com/en-us/azure/iot-hub/iot-hub-bulk-identity-mgmt\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/iot-hub/iot-hub-bulk-identity-mgmt</a> to do Bulk upload of Device Identities in Azure IoT Hub. All codes given here are in C# so I am converting it to JAVA equivalent.</p>\n\n<p>Using <strong>Import devices example  bulk device provisioning</strong> I am getting following json-</p>\n\n<pre><code>{\"id\":\"d3d78b0d-6c8c-4ef5-a321-91fbb6a4b7d1\",\"importMode\":\"create\",\"status\":\"enabled\",\"authentication\":{\"symmetricKey\":{\"primaryKey\":\"f8/UZcYbhPxnNdbSl2J+0Q==\",\"secondaryKey\":\"lbq4Y4Z8qWmfUxAQjRsDjw==\"}}}\n{\"id\":\"70bbe407-8d65-4f57-936f-ef402aa66d07\",\"importMode\":\"create\",\"status\":\"enabled\",\"authentication\":{\"symmetricKey\":{\"primaryKey\":\"9e7fDNIFbMu/NmOfxo/vGg==\",\"secondaryKey\":\"nwFiKR4HV9KYHzkeyu8nLA==\"}}}\n</code></pre>\n\n<p>To import the file from blob following function is called-</p>\n\n<pre><code>CompletableFuture&lt;JobProperties&gt; importJob = registryManager\n    .importDevicesAsync(inURI, outURI);\n</code></pre>\n\n<p>In the above code, we need to provide URI with SAS code, for that <strong>Get the container SAS URI</strong> equivalent code is below-</p>\n\n<pre><code>static String GetContainerSasUri(CloudBlobContainer container) {\n    SharedAccessBlobPolicy sasConstraints = new SharedAccessBlobPolicy();\n    sasConstraints.setSharedAccessExpiryTime(new Date(new Date().getTime() + TimeUnit.DAYS.toMillis(1)));\n    sasConstraints.setPermissions(EnumSet.of(SharedAccessBlobPermissions.READ, SharedAccessBlobPermissions.WRITE,\n            SharedAccessBlobPermissions.LIST, SharedAccessBlobPermissions.DELETE));\n\n    BlobContainerPermissions permissions = new BlobContainerPermissions();\n    permissions.setPublicAccess(BlobContainerPublicAccessType.CONTAINER);\n    permissions.getSharedAccessPolicies().put(\"testpolicy\", sasConstraints);\n    try {\n        container.uploadPermissions(permissions);\n    } catch (StorageException e1) {\n        e1.printStackTrace();\n    }\n    String sasContainerToken = null;\n    try {\n        sasContainerToken = container.generateSharedAccessSignature(sasConstraints, \"testpolicy\");\n    } catch (InvalidKeyException e) {\n        e.printStackTrace();\n    } catch (StorageException e) {\n        e.printStackTrace();\n    }\n    System.out.println(\"URI \" + container.getUri() +\"?\"+ sasContainerToken);\n    return container.getUri() + \"?\" + sasContainerToken;\n}\n</code></pre>\n\n<p>Now the problem is coming here. For the output container I am getting following error-</p>\n\n<pre><code>java.util.concurrent.ExecutionException: com.microsoft.azure.sdk.iot.service.exceptions.IotHubBadFormatException: Bad message format! ErrorCode:BlobContainerValidationError;Unauthorized to write to output blob container. Tracking ID:2dcb2efbf1e14e33ba60dc8415dc03c3-G:4-TimeStamp:11/08/2017 16:16:10\n</code></pre>\n\n<p>Please help me to know why I am getting <strong>Bad Message Format</strong> error? Is there a problem with the SAS key generating code or my blob container is not having Write permission?</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675359006,"post_id":75321051,"comment_id":132917042,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":7861034,"reputation":196,"user_id":5941456,"display_name":"Royi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675333756,"creation_date":1675333756,"answer_id":75321783,"question_id":75321051,"body_markdown":"I would try to create the CartStoreModel items with the total prices inside each item and initialize them before I pass them to CartStoreAdapter.\r\n\r\nRecommend to use ViewModel to calculate the prices and attach them to CartStoreModel items before you send them to CartStoreAdapter.\r\n\r\n    public class StoreViewModel extends ViewModel {\r\n        public ArrayList&lt;CartStoreModel&gt; getItemsWithPrices(){\r\n            for(CartStoreModel item : items) {\r\n                int totalItemPrice = item.price;\r\n                int totalItemAddonPrices = item.getTotalAddonsPrices()// calculate the prices\r\n                item.totalPrices = totalItemPrice + totalItemAddonPrices\r\n            }\r\n        }\r\n    }\r\n\r\nRecommend to do it in another Thread (not the Main Thread) in case you have a lot of items in your list... ","title":"How to pass data when using Nested Recycler View","body":"<p>I would try to create the CartStoreModel items with the total prices inside each item and initialize them before I pass them to CartStoreAdapter.</p>\n<p>Recommend to use ViewModel to calculate the prices and attach them to CartStoreModel items before you send them to CartStoreAdapter.</p>\n<pre><code>public class StoreViewModel extends ViewModel {\n    public ArrayList&lt;CartStoreModel&gt; getItemsWithPrices(){\n        for(CartStoreModel item : items) {\n            int totalItemPrice = item.price;\n            int totalItemAddonPrices = item.getTotalAddonsPrices()// calculate the prices\n            item.totalPrices = totalItemPrice + totalItemAddonPrices\n        }\n    }\n}\n</code></pre>\n<p>Recommend to do it in another Thread (not the Main Thread) in case you have a lot of items in your list...</p>\n"}],"owner":{"account_id":25630526,"reputation":13,"user_id":19400993,"display_name":"Chicoi Gonzales"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675333756,"creation_date":1675330117,"question_id":75321051,"body_markdown":"I have been trying to figure it out for a few days now and I still can&#39;t solve it.\r\n\r\nI created a 3-layer nested recycler view and the display is okay.\r\n\r\n1st layer is CartStoreAdapter  \r\n2nd layer is for it&#39;s CartItemAdapter  \r\n3rd layer is for the product&#39;s CartItemAddonAdapter\r\n\r\nMy problem is that. I want to display the total price of all the products per store(including the addon prices) considering the qty aswell. But I can&#39;t seem to pass the total Price variable (\r\n\r\n```\r\ntotalItems += subTotal;\r\n```\r\n\r\n) to the CartStoreAdapter.\r\n\r\nI tried creating a public method within the CartItemAdapter. When I use Log.d within the viewholder of CartItemAdapter,\r\n\r\n```\r\n2023-02-02 17:25:36.773 19606-19606/ph.kaminarigo.app D/totalItems: 522.0\r\n2023-02-02 17:25:37.028 19606-19606/ph.kaminarigo.app D/totalItems: 532.0\r\n2023-02-02 17:25:37.120 19606-19606/ph.kaminarigo.app D/totalItems: 660.0\r\n2023-02-02 17:25:37.178 19606-19606/ph.kaminarigo.app D/totalItems: 1485.0\r\n2023-02-02 17:25:37.230 19606-19606/ph.kaminarigo.app D/totalItems: 1785.0\r\n```\r\n\r\nshows up properly. But when I use the variable in the method. It&#39;s already zero even before I access that method in the CartStoreAdapter.\r\n\r\n```\r\npublic class CartStoreAdapter extends RecyclerView.Adapter&lt;CartStoreAdapter.ItemRowHolder&gt; {\r\n\r\n    private List&lt;CartStoreModel&gt; storeDataList;\r\n    private Context mContext;\r\n    private int rowLayout;\r\n    private CartItemAdapter cartItemAdapter;\r\n\r\n    public CartStoreAdapter(List&lt;CartStoreModel&gt; storeDataList, Context mContext, int rowLayout) {\r\n        this.storeDataList = storeDataList;\r\n        this.mContext = mContext;\r\n        this.rowLayout = rowLayout;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public CartStoreAdapter.ItemRowHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(rowLayout, parent, false);\r\n        return new ItemRowHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull CartStoreAdapter.ItemRowHolder holder, int position) {\r\n        final CartStoreModel singleItem = storeDataList.get(position);\r\n        holder.bind(singleItem);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return (null != storeDataList ? storeDataList.size() : 0);\r\n    }\r\n\r\n    public class ItemRowHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView tvStoreName, tvStoreTotal;\r\n        RecyclerView rvStoreItems;\r\n\r\n        public ItemRowHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            tvStoreName = itemView.findViewById(R.id.tvStoreName);\r\n            rvStoreItems = itemView.findViewById(R.id.rvStoreItems);\r\n            tvStoreTotal = itemView.findViewById(R.id.tvStoreTotal);\r\n        }\r\n\r\n        public void bind(CartStoreModel singleItem){\r\n            tvStoreName.setText(String.valueOf(singleItem.getNama_merchant()));\r\n\r\n            CartItemAdapter cartItemAdapter = new CartItemAdapter(singleItem.getCartItem(), mContext, R.layout.cart_item);\r\n            rvStoreItems.setAdapter(cartItemAdapter);\r\n            rvStoreItems.setLayoutManager(new LinearLayoutManager(mContext, LinearLayoutManager.VERTICAL, false));\r\n\r\n            double total = cartItemAdapter.getTotalItems();\r\n            Utility.currencyTXT(tvStoreTotal, String.valueOf(total), mContext);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class CartItemAdapter extends RecyclerView.Adapter&lt;CartItemAdapter.ItemRowHolder&gt;  {\r\n\r\n    private List&lt;CartItemModel&gt; itemDataList;\r\n    private Context mContext;\r\n    private int rowLayout;\r\n    private double totalItems;\r\n\r\n    public CartItemAdapter(List&lt;CartItemModel&gt; itemDataList, Context mContext, int rowLayout) {\r\n        this.itemDataList = itemDataList;\r\n        this.mContext = mContext;\r\n        this.rowLayout = rowLayout;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public CartItemAdapter.ItemRowHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(rowLayout, parent, false);\r\n        return new ItemRowHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull CartItemAdapter.ItemRowHolder holder, int position) {\r\n        final CartItemModel singleItem = itemDataList.get(position);\r\n        holder.bind(singleItem);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return (null != itemDataList ? itemDataList.size() : 0);\r\n    }\r\n\r\n    public double getTotalItems(){\r\n        return totalItems;\r\n    }\r\n\r\n    public class ItemRowHolder extends RecyclerView.ViewHolder{\r\n        TextView tvProductTitle, tvMainPrice, tvPromoPrice, tvSubTotal, tvQty;\r\n        ImageView imgThumbnail;\r\n        RecyclerView rvCartItemVar;\r\n        Button btnDeduct, btnAdd;\r\n        CheckBox cbSelectItem;\r\n\r\n        public ItemRowHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            tvProductTitle = itemView.findViewById(R.id.tvProductTitle);\r\n            tvMainPrice = itemView.findViewById(R.id.tvMainPrice);\r\n            tvPromoPrice = itemView.findViewById(R.id.tvPromoPrice);\r\n            imgThumbnail = itemView.findViewById(R.id.imgThumbnail);\r\n            rvCartItemVar = itemView.findViewById(R.id.rvCartItemVar);\r\n            tvSubTotal = itemView.findViewById(R.id.tvSubTotal);\r\n            btnAdd = itemView.findViewById(R.id.btnAdd);\r\n            btnDeduct = itemView.findViewById(R.id.btnDeduct);\r\n            tvQty = itemView.findViewById(R.id.tvQty);\r\n            cbSelectItem = itemView.findViewById(R.id.cbSelectItem);\r\n\r\n        }\r\n\r\n        public void bind(final CartItemModel singleItem){\r\n\r\n            CartItemAddonAdapter cartItemAddonAdapter = new CartItemAddonAdapter(singleItem.getCartItemVar(), mContext, R.layout.cart_item_variation);\r\n            rvCartItemVar.setAdapter(cartItemAddonAdapter);\r\n            rvCartItemVar.setLayoutManager(new LinearLayoutManager(mContext, LinearLayoutManager.VERTICAL, false));\r\n\r\n            double activePrice, promoPrice, addOnPrice, itemCost, subTotal;\r\n            int itemQty = singleItem.getQty();\r\n\r\n            if(Constants.use_glide) {\r\n                Glide.with(mContext)\r\n                        .load(Constants.IMAGESITEM + singleItem.getFoto_item())\r\n                        .apply(new RequestOptions().override(250, 250))\r\n                        .into(imgThumbnail);\r\n            } else {\r\n                Picasso.with(mContext)\r\n                        .load(Constants.IMAGESITEM + singleItem.getFoto_item())\r\n                        .placeholder(R.drawable.image_placeholder)\r\n                        .resize(250, 250)\r\n                        .into(imgThumbnail);\r\n            }\r\n\r\n            if(singleItem.getHarga_promo() &gt; 0){\r\n                promoPrice = singleItem.getHarga_item();\r\n                activePrice = singleItem.getHarga_promo();\r\n                tvPromoPrice.setPaintFlags(tvPromoPrice.getPaintFlags() | Paint.STRIKE_THRU_TEXT_FLAG);\r\n                tvPromoPrice.setTextColor(Color.LTGRAY);\r\n            } else {\r\n                promoPrice = 0;\r\n                activePrice = singleItem.getHarga_item();\r\n                tvPromoPrice.setVisibility(View.GONE);\r\n            }\r\n\r\n            addOnPrice = cartItemAddonAdapter.getTotalAddonPrice();\r\n\r\n            itemCost = activePrice + addOnPrice;\r\n            subTotal = itemCost * itemQty;\r\n            totalItems += subTotal;\r\n            tvProductTitle.setText(String.valueOf(singleItem.getNama_item()));\r\n            tvQty.setText(String.valueOf(itemQty));\r\n            Utility.currencyTXT(tvMainPrice, String.valueOf(activePrice), mContext);\r\n            Utility.currencyTXT(tvPromoPrice, String.valueOf(promoPrice), mContext);\r\n            Utility.currencyTXT(tvSubTotal, String.valueOf(subTotal), mContext);\r\n\r\n            Log.d(&quot;totalItems&quot;, String.valueOf(totalItems));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class CartItemAddonAdapter extends RecyclerView.Adapter&lt;CartItemAddonAdapter.ItemRowHolder&gt; {\r\n\r\n    private List&lt;CartItemVarModel&gt; addOnsDataList;\r\n    private Context mContext;\r\n    private int rowLayout;\r\n\r\n    public CartItemAddonAdapter(List&lt;CartItemVarModel&gt; addOnsDataList, Context mContext, int rowLayout) {\r\n        this.addOnsDataList = addOnsDataList;\r\n        this.mContext = mContext;\r\n        this.rowLayout = rowLayout;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public CartItemAddonAdapter.ItemRowHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(rowLayout,parent,false);\r\n        return new ItemRowHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull CartItemAddonAdapter.ItemRowHolder holder, int position) {\r\n        final CartItemVarModel singleItem = addOnsDataList.get(position);\r\n        holder.bind(singleItem);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return (null != addOnsDataList ? addOnsDataList.size() : 0);\r\n    }\r\n\r\n    public double getTotalAddonPrice() {\r\n        double totalAddonPrice = 0;\r\n        for(CartItemVarModel addon : addOnsDataList){\r\n            totalAddonPrice += addon.getVar_price();\r\n        }\r\n        return totalAddonPrice;\r\n    }\r\n\r\n    public class ItemRowHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView tvVarGroup, tvItemVar, tvPrice;\r\n\r\n        public ItemRowHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            tvVarGroup = itemView.findViewById(R.id.tvVarGroup);\r\n            tvItemVar = itemView.findViewById(R.id.tvItemVar);\r\n            tvPrice = itemView.findViewById(R.id.tvPrice);\r\n        }\r\n\r\n        public void bind(CartItemVarModel dataList){\r\n            tvVarGroup.setText(dataList.getGroup_name());\r\n            tvItemVar.setText(dataList.getVar_name());\r\n            Utility.currencyTXT(tvPrice, String.valueOf(dataList.getVar_price()), mContext);\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI also tried to save the changes in the model but I still can&#39;t access it outside of the itemviewholder.","title":"How to pass data when using Nested Recycler View","body":"<p>I have been trying to figure it out for a few days now and I still can't solve it.</p>\n<p>I created a 3-layer nested recycler view and the display is okay.</p>\n<p>1st layer is CartStoreAdapter<br />\n2nd layer is for it's CartItemAdapter<br />\n3rd layer is for the product's CartItemAddonAdapter</p>\n<p>My problem is that. I want to display the total price of all the products per store(including the addon prices) considering the qty aswell. But I can't seem to pass the total Price variable (</p>\n<pre><code>totalItems += subTotal;\n</code></pre>\n<p>) to the CartStoreAdapter.</p>\n<p>I tried creating a public method within the CartItemAdapter. When I use Log.d within the viewholder of CartItemAdapter,</p>\n<pre><code>2023-02-02 17:25:36.773 19606-19606/ph.kaminarigo.app D/totalItems: 522.0\n2023-02-02 17:25:37.028 19606-19606/ph.kaminarigo.app D/totalItems: 532.0\n2023-02-02 17:25:37.120 19606-19606/ph.kaminarigo.app D/totalItems: 660.0\n2023-02-02 17:25:37.178 19606-19606/ph.kaminarigo.app D/totalItems: 1485.0\n2023-02-02 17:25:37.230 19606-19606/ph.kaminarigo.app D/totalItems: 1785.0\n</code></pre>\n<p>shows up properly. But when I use the variable in the method. It's already zero even before I access that method in the CartStoreAdapter.</p>\n<pre><code>public class CartStoreAdapter extends RecyclerView.Adapter&lt;CartStoreAdapter.ItemRowHolder&gt; {\n\n    private List&lt;CartStoreModel&gt; storeDataList;\n    private Context mContext;\n    private int rowLayout;\n    private CartItemAdapter cartItemAdapter;\n\n    public CartStoreAdapter(List&lt;CartStoreModel&gt; storeDataList, Context mContext, int rowLayout) {\n        this.storeDataList = storeDataList;\n        this.mContext = mContext;\n        this.rowLayout = rowLayout;\n    }\n\n    @NonNull\n    @Override\n    public CartStoreAdapter.ItemRowHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(parent.getContext()).inflate(rowLayout, parent, false);\n        return new ItemRowHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull CartStoreAdapter.ItemRowHolder holder, int position) {\n        final CartStoreModel singleItem = storeDataList.get(position);\n        holder.bind(singleItem);\n    }\n\n    @Override\n    public int getItemCount() {\n        return (null != storeDataList ? storeDataList.size() : 0);\n    }\n\n    public class ItemRowHolder extends RecyclerView.ViewHolder{\n\n        TextView tvStoreName, tvStoreTotal;\n        RecyclerView rvStoreItems;\n\n        public ItemRowHolder(@NonNull View itemView) {\n            super(itemView);\n\n            tvStoreName = itemView.findViewById(R.id.tvStoreName);\n            rvStoreItems = itemView.findViewById(R.id.rvStoreItems);\n            tvStoreTotal = itemView.findViewById(R.id.tvStoreTotal);\n        }\n\n        public void bind(CartStoreModel singleItem){\n            tvStoreName.setText(String.valueOf(singleItem.getNama_merchant()));\n\n            CartItemAdapter cartItemAdapter = new CartItemAdapter(singleItem.getCartItem(), mContext, R.layout.cart_item);\n            rvStoreItems.setAdapter(cartItemAdapter);\n            rvStoreItems.setLayoutManager(new LinearLayoutManager(mContext, LinearLayoutManager.VERTICAL, false));\n\n            double total = cartItemAdapter.getTotalItems();\n            Utility.currencyTXT(tvStoreTotal, String.valueOf(total), mContext);\n        }\n    }\n}\n</code></pre>\n<pre><code>public class CartItemAdapter extends RecyclerView.Adapter&lt;CartItemAdapter.ItemRowHolder&gt;  {\n\n    private List&lt;CartItemModel&gt; itemDataList;\n    private Context mContext;\n    private int rowLayout;\n    private double totalItems;\n\n    public CartItemAdapter(List&lt;CartItemModel&gt; itemDataList, Context mContext, int rowLayout) {\n        this.itemDataList = itemDataList;\n        this.mContext = mContext;\n        this.rowLayout = rowLayout;\n    }\n\n    @NonNull\n    @Override\n    public CartItemAdapter.ItemRowHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(parent.getContext()).inflate(rowLayout, parent, false);\n        return new ItemRowHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull CartItemAdapter.ItemRowHolder holder, int position) {\n        final CartItemModel singleItem = itemDataList.get(position);\n        holder.bind(singleItem);\n    }\n\n    @Override\n    public int getItemCount() {\n        return (null != itemDataList ? itemDataList.size() : 0);\n    }\n\n    public double getTotalItems(){\n        return totalItems;\n    }\n\n    public class ItemRowHolder extends RecyclerView.ViewHolder{\n        TextView tvProductTitle, tvMainPrice, tvPromoPrice, tvSubTotal, tvQty;\n        ImageView imgThumbnail;\n        RecyclerView rvCartItemVar;\n        Button btnDeduct, btnAdd;\n        CheckBox cbSelectItem;\n\n        public ItemRowHolder(@NonNull View itemView) {\n            super(itemView);\n            tvProductTitle = itemView.findViewById(R.id.tvProductTitle);\n            tvMainPrice = itemView.findViewById(R.id.tvMainPrice);\n            tvPromoPrice = itemView.findViewById(R.id.tvPromoPrice);\n            imgThumbnail = itemView.findViewById(R.id.imgThumbnail);\n            rvCartItemVar = itemView.findViewById(R.id.rvCartItemVar);\n            tvSubTotal = itemView.findViewById(R.id.tvSubTotal);\n            btnAdd = itemView.findViewById(R.id.btnAdd);\n            btnDeduct = itemView.findViewById(R.id.btnDeduct);\n            tvQty = itemView.findViewById(R.id.tvQty);\n            cbSelectItem = itemView.findViewById(R.id.cbSelectItem);\n\n        }\n\n        public void bind(final CartItemModel singleItem){\n\n            CartItemAddonAdapter cartItemAddonAdapter = new CartItemAddonAdapter(singleItem.getCartItemVar(), mContext, R.layout.cart_item_variation);\n            rvCartItemVar.setAdapter(cartItemAddonAdapter);\n            rvCartItemVar.setLayoutManager(new LinearLayoutManager(mContext, LinearLayoutManager.VERTICAL, false));\n\n            double activePrice, promoPrice, addOnPrice, itemCost, subTotal;\n            int itemQty = singleItem.getQty();\n\n            if(Constants.use_glide) {\n                Glide.with(mContext)\n                        .load(Constants.IMAGESITEM + singleItem.getFoto_item())\n                        .apply(new RequestOptions().override(250, 250))\n                        .into(imgThumbnail);\n            } else {\n                Picasso.with(mContext)\n                        .load(Constants.IMAGESITEM + singleItem.getFoto_item())\n                        .placeholder(R.drawable.image_placeholder)\n                        .resize(250, 250)\n                        .into(imgThumbnail);\n            }\n\n            if(singleItem.getHarga_promo() &gt; 0){\n                promoPrice = singleItem.getHarga_item();\n                activePrice = singleItem.getHarga_promo();\n                tvPromoPrice.setPaintFlags(tvPromoPrice.getPaintFlags() | Paint.STRIKE_THRU_TEXT_FLAG);\n                tvPromoPrice.setTextColor(Color.LTGRAY);\n            } else {\n                promoPrice = 0;\n                activePrice = singleItem.getHarga_item();\n                tvPromoPrice.setVisibility(View.GONE);\n            }\n\n            addOnPrice = cartItemAddonAdapter.getTotalAddonPrice();\n\n            itemCost = activePrice + addOnPrice;\n            subTotal = itemCost * itemQty;\n            totalItems += subTotal;\n            tvProductTitle.setText(String.valueOf(singleItem.getNama_item()));\n            tvQty.setText(String.valueOf(itemQty));\n            Utility.currencyTXT(tvMainPrice, String.valueOf(activePrice), mContext);\n            Utility.currencyTXT(tvPromoPrice, String.valueOf(promoPrice), mContext);\n            Utility.currencyTXT(tvSubTotal, String.valueOf(subTotal), mContext);\n\n            Log.d(&quot;totalItems&quot;, String.valueOf(totalItems));\n        }\n    }\n}\n</code></pre>\n<pre><code>public class CartItemAddonAdapter extends RecyclerView.Adapter&lt;CartItemAddonAdapter.ItemRowHolder&gt; {\n\n    private List&lt;CartItemVarModel&gt; addOnsDataList;\n    private Context mContext;\n    private int rowLayout;\n\n    public CartItemAddonAdapter(List&lt;CartItemVarModel&gt; addOnsDataList, Context mContext, int rowLayout) {\n        this.addOnsDataList = addOnsDataList;\n        this.mContext = mContext;\n        this.rowLayout = rowLayout;\n    }\n\n    @NonNull\n    @Override\n    public CartItemAddonAdapter.ItemRowHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(parent.getContext()).inflate(rowLayout,parent,false);\n        return new ItemRowHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull CartItemAddonAdapter.ItemRowHolder holder, int position) {\n        final CartItemVarModel singleItem = addOnsDataList.get(position);\n        holder.bind(singleItem);\n    }\n\n    @Override\n    public int getItemCount() {\n        return (null != addOnsDataList ? addOnsDataList.size() : 0);\n    }\n\n    public double getTotalAddonPrice() {\n        double totalAddonPrice = 0;\n        for(CartItemVarModel addon : addOnsDataList){\n            totalAddonPrice += addon.getVar_price();\n        }\n        return totalAddonPrice;\n    }\n\n    public class ItemRowHolder extends RecyclerView.ViewHolder{\n\n        TextView tvVarGroup, tvItemVar, tvPrice;\n\n        public ItemRowHolder(@NonNull View itemView) {\n            super(itemView);\n\n            tvVarGroup = itemView.findViewById(R.id.tvVarGroup);\n            tvItemVar = itemView.findViewById(R.id.tvItemVar);\n            tvPrice = itemView.findViewById(R.id.tvPrice);\n        }\n\n        public void bind(CartItemVarModel dataList){\n            tvVarGroup.setText(dataList.getGroup_name());\n            tvItemVar.setText(dataList.getVar_name());\n            Utility.currencyTXT(tvPrice, String.valueOf(dataList.getVar_price()), mContext);\n\n        }\n    }\n}\n</code></pre>\n<p>I also tried to save the changes in the model but I still can't access it outside of the itemviewholder.</p>\n"},{"tags":["java","android","android-fragments","android-bottomsheetdialog","bottomsheetdialogfragment"],"comments":[{"owner":{"account_id":2171788,"reputation":2474,"user_id":1923580,"display_name":"Chris623"},"score":0,"creation_date":1471166809,"post_id":38940832,"comment_id":65236844,"body_markdown":"I think your applications activity is restarted after screen unlock. So you must save the current state of your application when activity is stopped and restore it manually after screen unlock.","body":"I think your applications activity is restarted after screen unlock. So you must save the current state of your application when activity is stopped and restore it manually after screen unlock."},{"owner":{"account_id":2466763,"reputation":2434,"user_id":2149673,"accept_rate":20,"display_name":"AmanSinghal"},"score":0,"creation_date":1471166941,"post_id":38940832,"comment_id":65236877,"body_markdown":"Try using getDialog().dismiss();","body":"Try using getDialog().dismiss();"}],"answers":[{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675333621,"creation_date":1675333621,"answer_id":75321754,"question_id":38940832,"body_markdown":"You can track the state of showing/hiding the dialog in the `tag` attribute of the fragment view.\r\n\r\nInitially set it as true (equivalent to shown) in `onCreateView()` \r\n\r\n    @Nullable\r\n    @org.jetbrains.annotations.Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable @org.jetbrains.annotations.Nullable ViewGroup container, @Nullable @org.jetbrains.annotations.Nullable Bundle savedInstanceState) {\r\n\r\n        View view = inflater.inflate(R.layout.bottom_sheet, container, false);\r\n        view.setTag(true);\r\n        return view\r\n    }\r\n\r\n\r\n\r\nAnd whenever you show/hide it set it to true/false:\r\n```\r\nfinal CustomCalendarDialogFragment newFragment = new CustomCalendarDialogFragment(&quot;CHOOSE_WEEK&quot;);\r\nbutton.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n        if (newFragment.isAdded()){\r\n            newFragment.getDialog().show();\r\n        } else {\r\n            newFragment.show(getFragmentManager(), &quot;CUSTOM_CALENDAR&quot;);\r\n            newFragment.requireView().setTag(true);\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nAnd set `newFragment.requireView().setTag(false);` when you call `getDialog().hide();` \r\n\r\nAnd when the app goes to the background, check that tag on `onResume()` to see if you want to keep the dialog shown or hide it:\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n\r\n        Object tag = newFragment.requireView().getTag();\r\n        if (tag instanceof Boolean){\r\n            if ((!(boolean)tag))\r\n                newFragment.getDialog().hide();\r\n        }\r\n\r\n    }\r\n\r\n","title":"android show hide dialogfragment","body":"<p>You can track the state of showing/hiding the dialog in the <code>tag</code> attribute of the fragment view.</p>\n<p>Initially set it as true (equivalent to shown) in <code>onCreateView()</code></p>\n<pre><code>@Nullable\n@org.jetbrains.annotations.Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable @org.jetbrains.annotations.Nullable ViewGroup container, @Nullable @org.jetbrains.annotations.Nullable Bundle savedInstanceState) {\n\n    View view = inflater.inflate(R.layout.bottom_sheet, container, false);\n    view.setTag(true);\n    return view\n}\n</code></pre>\n<p>And whenever you show/hide it set it to true/false:</p>\n<pre><code>final CustomCalendarDialogFragment newFragment = new CustomCalendarDialogFragment(&quot;CHOOSE_WEEK&quot;);\nbutton.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        if (newFragment.isAdded()){\n            newFragment.getDialog().show();\n        } else {\n            newFragment.show(getFragmentManager(), &quot;CUSTOM_CALENDAR&quot;);\n            newFragment.requireView().setTag(true);\n        }\n    }\n});\n</code></pre>\n<p>And set <code>newFragment.requireView().setTag(false);</code> when you call <code>getDialog().hide();</code></p>\n<p>And when the app goes to the background, check that tag on <code>onResume()</code> to see if you want to keep the dialog shown or hide it:</p>\n<pre><code>@Override\nprotected void onResume() {\n    super.onResume();\n\n    Object tag = newFragment.requireView().getTag();\n    if (tag instanceof Boolean){\n        if ((!(boolean)tag))\n            newFragment.getDialog().hide();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":9005862,"reputation":31,"user_id":6712640,"display_name":"parovoz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5155,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1675333657,"creation_date":1471166603,"question_id":38940832,"body_markdown":"I have custom `DialogFragment` which called from another fragment:\r\n\r\n    final CustomCalendarDialogFragment newFragment = new CustomCalendarDialogFragment(&quot;CHOOSE_WEEK&quot;);\r\n    button.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            if (newFragment.isAdded()){\r\n                newFragment.getDialog().show();\r\n            } else {\r\n                newFragment.show(getFragmentManager(), &quot;CUSTOM_CALENDAR&quot;);\r\n            }\r\n        }\r\n    });\r\n\r\nIn `CustomCalendarDialogFragment`  when pressed &quot;OK&quot;:\r\n\r\n    getDialog().hide();\r\n\r\nAfter pressed on &quot;OK&quot; `DialogFragment` is hide, but when I unlock screen `DialogFragment` is displayed.\r\nHow to eliminate it?","title":"android show hide dialogfragment","body":"<p>I have custom <code>DialogFragment</code> which called from another fragment:</p>\n<pre><code>final CustomCalendarDialogFragment newFragment = new CustomCalendarDialogFragment(&quot;CHOOSE_WEEK&quot;);\nbutton.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        if (newFragment.isAdded()){\n            newFragment.getDialog().show();\n        } else {\n            newFragment.show(getFragmentManager(), &quot;CUSTOM_CALENDAR&quot;);\n        }\n    }\n});\n</code></pre>\n<p>In <code>CustomCalendarDialogFragment</code>  when pressed &quot;OK&quot;:</p>\n<pre><code>getDialog().hide();\n</code></pre>\n<p>After pressed on &quot;OK&quot; <code>DialogFragment</code> is hide, but when I unlock screen <code>DialogFragment</code> is displayed.\nHow to eliminate it?</p>\n"},{"tags":["java","comparable"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1675333534,"post_id":75321720,"comment_id":132907859,"body_markdown":"those two properties aren&#39;t of the same type, not even hierarchical, so you can&#39;t &quot;compare&quot; them. you can sort them by type, for instance","body":"those two properties aren&#39;t of the same type, not even hierarchical, so you can&#39;t &quot;compare&quot; them. you can sort them by type, for instance"}],"answers":[{"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675333655,"creation_date":1675333655,"answer_id":75321762,"question_id":75321720,"body_markdown":"So you want to compare by type first, and then by ID? In that case, you need some `compareTo` logic like this:\r\n\r\n```\r\nif (type != other.type) {\r\n    return type.compareTo(other.type);\r\n} else {\r\n    return id.compareTo(other.id);\r\n}\r\n```\r\n\r\nTo account for `null`, you could add more `if`s.","title":"How to compare two properties of a class","body":"<p>So you want to compare by type first, and then by ID? In that case, you need some <code>compareTo</code> logic like this:</p>\n<pre><code>if (type != other.type) {\n    return type.compareTo(other.type);\n} else {\n    return id.compareTo(other.id);\n}\n</code></pre>\n<p>To account for <code>null</code>, you could add more <code>if</code>s.</p>\n"}],"owner":{"account_id":14589497,"reputation":109,"user_id":10608855,"display_name":"user10608855"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75321762,"answer_count":1,"score":1,"last_activity_date":1675333655,"creation_date":1675333434,"question_id":75321720,"body_markdown":"There is a class `Movie` which has two properties, `id` and `type`. \r\n```\r\nstatic class Movie implements Comparable&lt;Movie&gt; {\r\n    Integer id;\r\n    Type type;\r\n\r\n    Movie(Integer id, Type type) {\r\n        this.id = id;\r\n        this.type = type;\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(final Movie other) {\r\n        return 0;\r\n    }\r\n\r\n    public Integer getId() {\r\n        return id;\r\n    }\r\n\r\n    public Type getType() {\r\n        return type;\r\n    }\r\n}\r\n\r\nenum Type {\r\n    TYPE_A,\r\n    TYPE_B\r\n}\r\n```\r\nLet&#39;s say that this is the input:\r\n```\r\n// MOVIE_ID  MOVIE_TYPE\r\n// 1\t\t TYPE_A\r\n// 2         TYPE_B\r\n// 3\t\t TYPE_A\r\n// 4\t\t TYPE_B\r\n```\r\nand the output I want to achieve is this:\r\n```\r\n// MOVIE_ID  MOVIE_TYPE\r\n// 1\t\t TYPE_A\r\n// 3         TYPE_A\r\n// 2\t\t TYPE_B\r\n// 4\t\t TYPE_B\r\n```\r\nAlso I want to be sure that null is greater. Are there any libraries or do I need to implement it by my own, if so, what&#39;s the best way to achieve that?","title":"How to compare two properties of a class","body":"<p>There is a class <code>Movie</code> which has two properties, <code>id</code> and <code>type</code>.</p>\n<pre><code>static class Movie implements Comparable&lt;Movie&gt; {\n    Integer id;\n    Type type;\n\n    Movie(Integer id, Type type) {\n        this.id = id;\n        this.type = type;\n    }\n\n    @Override\n    public int compareTo(final Movie other) {\n        return 0;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public Type getType() {\n        return type;\n    }\n}\n\nenum Type {\n    TYPE_A,\n    TYPE_B\n}\n</code></pre>\n<p>Let's say that this is the input:</p>\n<pre><code>// MOVIE_ID  MOVIE_TYPE\n// 1         TYPE_A\n// 2         TYPE_B\n// 3         TYPE_A\n// 4         TYPE_B\n</code></pre>\n<p>and the output I want to achieve is this:</p>\n<pre><code>// MOVIE_ID  MOVIE_TYPE\n// 1         TYPE_A\n// 3         TYPE_A\n// 2         TYPE_B\n// 4         TYPE_B\n</code></pre>\n<p>Also I want to be sure that null is greater. Are there any libraries or do I need to implement it by my own, if so, what's the best way to achieve that?</p>\n"},{"tags":["java","smb","smbj"],"answers":[{"tags":[],"owner":{"account_id":21954028,"reputation":110,"user_id":16232860,"display_name":"Soma B&#225;sthy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1627391385,"creation_date":1627391385,"answer_id":68545466,"question_id":68179550,"body_markdown":"I have a possible solution for the SMB JCIFS way from my another answer!\r\n\r\nhttps://stackoverflow.com/questions/68529198/smbexception-failed-to-connect-hostname-ip-address-throwing-with-proper-credenti/68541028#68541028\r\n\r\nI think the problem is you don&#39;t have SMB2 enabled in your system (thats necessary for windows 10) and you need to create a [``CIFSContext``](https://javadoc.io/static/eu.agno3.jcifs/jcifs-ng/1.5.2/jcifs/CIFSContext.html) object to build the proper connection between your local pc and the shared folder.","title":"Getting com.hierynomus.mssmb2.SMBApiException: STATUS_ACCESS_DENIED (0xc0000022) exception while reading files from shared drive","body":"<p>I have a possible solution for the SMB JCIFS way from my another answer!</p>\n<p><a href=\"https://stackoverflow.com/questions/68529198/smbexception-failed-to-connect-hostname-ip-address-throwing-with-proper-credenti/68541028#68541028\">SmbException failed to connect hostname/IP_address throwing with proper credentials in Java</a></p>\n<p>I think the problem is you don't have SMB2 enabled in your system (thats necessary for windows 10) and you need to create a <a href=\"https://javadoc.io/static/eu.agno3.jcifs/jcifs-ng/1.5.2/jcifs/CIFSContext.html\" rel=\"nofollow noreferrer\"><code>CIFSContext</code></a> object to build the proper connection between your local pc and the shared folder.</p>\n"},{"tags":[],"owner":{"account_id":15903249,"reputation":11,"user_id":11475110,"display_name":"sandeep"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675333518,"creation_date":1675329284,"answer_id":75320911,"question_id":68179550,"body_markdown":"Setting the .withEncryptData(true) code worked for me. Just check whether your client supports the protocols , whatever the SMB server is asking. And then enforce your client to support the same. You can list the dialects and security modes, your SMB server supports and your client supports. Try to match your client config as much as possible. You can get those details by printing ConnectionContext.\r\n\r\n    System.out.println(serverConnection.getConnectionContext());\r\n\r\nOur SMB server was not understanding what my client was sending (because I did not set .withEncryptData(true) in the smbconfig), hence it was sending STATUS_ACCESS_DENIED response (which is very generic and weird. It should atleast respond with a different response that is easy to troubleshoot).\r\n\r\nIn my case, our SMB server supported only 3.1.1 . Also ,it was allowing only encrypted data. Just try adding those configs and see which works for you.\r\n\r\n\tSmbConfig smbConfig = SmbConfig.builder().withDialects(SMB2Dialect.SMB_3_1_1).withEncryptData(true).build();\r\n\tSMBClient client = new SMBClient(smbConfig);\r\n\tConnection serverConnection = client.connect(server);\r\n\r\n\tSystem.out.println(serverConnection.getConnectionContext());// provides client and server supported protocols and other information\r\n\r\n\tSession session = serverConnection.authenticate(new AuthenticationContext(username, password.toCharArray(), domain));\r\n\tDiskShare share = (DiskShare) session.connectShare(&quot;my_shared_folder&quot;);","title":"Getting com.hierynomus.mssmb2.SMBApiException: STATUS_ACCESS_DENIED (0xc0000022) exception while reading files from shared drive","body":"<p>Setting the .withEncryptData(true) code worked for me. Just check whether your client supports the protocols , whatever the SMB server is asking. And then enforce your client to support the same. You can list the dialects and security modes, your SMB server supports and your client supports. Try to match your client config as much as possible. You can get those details by printing ConnectionContext.</p>\n<pre><code>System.out.println(serverConnection.getConnectionContext());\n</code></pre>\n<p>Our SMB server was not understanding what my client was sending (because I did not set .withEncryptData(true) in the smbconfig), hence it was sending STATUS_ACCESS_DENIED response (which is very generic and weird. It should atleast respond with a different response that is easy to troubleshoot).</p>\n<p>In my case, our SMB server supported only 3.1.1 . Also ,it was allowing only encrypted data. Just try adding those configs and see which works for you.</p>\n<pre><code>SmbConfig smbConfig = SmbConfig.builder().withDialects(SMB2Dialect.SMB_3_1_1).withEncryptData(true).build();\nSMBClient client = new SMBClient(smbConfig);\nConnection serverConnection = client.connect(server);\n\nSystem.out.println(serverConnection.getConnectionContext());// provides client and server supported protocols and other information\n\nSession session = serverConnection.authenticate(new AuthenticationContext(username, password.toCharArray(), domain));\nDiskShare share = (DiskShare) session.connectShare(&quot;my_shared_folder&quot;);\n</code></pre>\n"}],"owner":{"account_id":3445771,"reputation":107,"user_id":2886633,"display_name":"Karthik P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3824,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":68545466,"answer_count":2,"score":0,"last_activity_date":1675333518,"creation_date":1624972886,"question_id":68179550,"body_markdown":"I am trying to access files from a shared drive using SMB Java Library. \r\n\r\nI am trying it in two ways\r\n\r\na) SMB JCIFS\r\nb) hierynomus\r\n\r\nbut both the ways I am getting exception, below is the code and exception I am getting\r\n\r\n**JCIFS**\r\n\r\n    try {\r\n    \t\t\tString path = &quot;smb://&quot; + remote_machine_name + &quot;/&quot; + sharedFolder+&quot;/&quot;;\r\n    \t\t\tNtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(&quot;&quot;, remote_user_id, remote_user_password);\r\n    \t\t\tSmbFile smbFile = new SmbFile(path, auth);\r\n    \t\t\tSystem.out.println(&quot;Connected&quot;);\r\n    \t\t\tSmbFile[] smbFileList = smbFile.listFiles();\r\n    \t\t\tfor (SmbFile file : smbFileList) {\r\n    \t\t\t\tSystem.out.println(file.getName());\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;Done&quot;);\r\n    \t\t} catch (SmbException se) {\r\n    \t\t\tse.printStackTrace();\r\n    \t\t}\r\n\r\n**Exception:**\r\n\r\n    jcifs.smb1.smb1.SmbException: Failed to connect: &lt;hostname&gt;/&lt;ip address&gt;\r\n    jcifs.smb1.util.transport.TransportException\r\n    java.net.SocketException: Connection reset\r\n\r\n**hierynomus smbj**\r\n\r\n    SmbConfig cfg = SmbConfig.builder().withSecurityProvider(new BCSecurityProvider()).build();\r\n    \t\tSMBClient client = new SMBClient(cfg);\r\n    \t\tConnection connection;\r\n    \t\ttry {\r\n    \t\t\tconnection = client.connect(remote_machine_name);\r\n    \t\t\tSession session = connection\r\n    \t\t\t\t\t.authenticate(new AuthenticationContext(remote_user_id, remote_user_password.toCharArray(), null));\r\n    \t\t\tDiskShare share = (DiskShare) session.connectShare(sharedFolder);\r\n    \t\t\tSet&lt;FileAttributes&gt; fileAttributes = new HashSet&lt;&gt;();\r\n    \t\t\tfileAttributes.add(FileAttributes.FILE_ATTRIBUTE_DIRECTORY);\r\n    \t\t\tSet&lt;SMB2ShareAccess&gt; shareAccesses = new HashSet&lt;SMB2ShareAccess&gt;();\r\n    \t\t\tshareAccesses.add(SMB2ShareAccess.FILE_SHARE_READ);\r\n    \t\t\tfor (FileIdBothDirectoryInformation f : share.openDirectory(\r\n    \t\t\t\t\t&quot;folder1/folder11/folder111&quot;,\r\n    \t\t\t\t\tEnumSet.of(AccessMask.FILE_READ_DATA), fileAttributes, shareAccesses,\r\n    \t\t\t\t\tSMB2CreateDisposition.FILE_OPEN, null)) {\r\n    \t\t\t\tSystem.out.println(f.getFileName());\r\n    \t\t\t}\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\t\r\n\r\n**Exception(complete stack trace):**\r\n\r\n    [main] INFO com.hierynomus.smbj.connection.Connection - Successfully connected to: **&lt;hostname&gt;**\r\n    [main] INFO com.hierynomus.smbj.connection.SMBSessionBuilder - Successfully authenticated karthik on **&lt;hostname&gt;**, session is -12346324324\r\n    [main] INFO com.hierynomus.smbj.session.Session - Connecting to **\\\\hostname\\proj** on session -12346324324\r\n    Exception in thread &quot;main&quot; com.hierynomus.mssmb2.SMBApiException: STATUS_ACCESS_DENIED (0xc0000022): Create failed for \\\\hostname\\proj\\Folder1\\Folder11\\Folder111\r\n    \tat com.hierynomus.smbj.share.Share.receive(Share.java:397)\r\n    \tat com.hierynomus.smbj.share.Share.sendReceive(Share.java:377)\r\n    \tat com.hierynomus.smbj.share.Share.createFile(Share.java:159)\r\n    \tat com.hierynomus.smbj.share.DiskShare.createFileAndResolve(DiskShare.java:75)\r\n    \tat com.hierynomus.smbj.share.DiskShare.access$100(DiskShare.java:55)\r\n    \tat com.hierynomus.smbj.share.DiskShare$2.apply(DiskShare.java:109)\r\n\r\n\r\nI manually mapped the network drive to my system and verified that I have admin rights, but for some reasons I am getting the above error.\r\n\r\nCan someone please help me to resolve it\r\n","title":"Getting com.hierynomus.mssmb2.SMBApiException: STATUS_ACCESS_DENIED (0xc0000022) exception while reading files from shared drive","body":"<p>I am trying to access files from a shared drive using SMB Java Library.</p>\n<p>I am trying it in two ways</p>\n<p>a) SMB JCIFS\nb) hierynomus</p>\n<p>but both the ways I am getting exception, below is the code and exception I am getting</p>\n<p><strong>JCIFS</strong></p>\n<pre><code>try {\n            String path = &quot;smb://&quot; + remote_machine_name + &quot;/&quot; + sharedFolder+&quot;/&quot;;\n            NtlmPasswordAuthentication auth = new NtlmPasswordAuthentication(&quot;&quot;, remote_user_id, remote_user_password);\n            SmbFile smbFile = new SmbFile(path, auth);\n            System.out.println(&quot;Connected&quot;);\n            SmbFile[] smbFileList = smbFile.listFiles();\n            for (SmbFile file : smbFileList) {\n                System.out.println(file.getName());\n            }\n            System.out.println(&quot;Done&quot;);\n        } catch (SmbException se) {\n            se.printStackTrace();\n        }\n</code></pre>\n<p><strong>Exception:</strong></p>\n<pre><code>jcifs.smb1.smb1.SmbException: Failed to connect: &lt;hostname&gt;/&lt;ip address&gt;\njcifs.smb1.util.transport.TransportException\njava.net.SocketException: Connection reset\n</code></pre>\n<p><strong>hierynomus smbj</strong></p>\n<pre><code>SmbConfig cfg = SmbConfig.builder().withSecurityProvider(new BCSecurityProvider()).build();\n        SMBClient client = new SMBClient(cfg);\n        Connection connection;\n        try {\n            connection = client.connect(remote_machine_name);\n            Session session = connection\n                    .authenticate(new AuthenticationContext(remote_user_id, remote_user_password.toCharArray(), null));\n            DiskShare share = (DiskShare) session.connectShare(sharedFolder);\n            Set&lt;FileAttributes&gt; fileAttributes = new HashSet&lt;&gt;();\n            fileAttributes.add(FileAttributes.FILE_ATTRIBUTE_DIRECTORY);\n            Set&lt;SMB2ShareAccess&gt; shareAccesses = new HashSet&lt;SMB2ShareAccess&gt;();\n            shareAccesses.add(SMB2ShareAccess.FILE_SHARE_READ);\n            for (FileIdBothDirectoryInformation f : share.openDirectory(\n                    &quot;folder1/folder11/folder111&quot;,\n                    EnumSet.of(AccessMask.FILE_READ_DATA), fileAttributes, shareAccesses,\n                    SMB2CreateDisposition.FILE_OPEN, null)) {\n                System.out.println(f.getFileName());\n            }\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }   \n</code></pre>\n<p><strong>Exception(complete stack trace):</strong></p>\n<pre><code>[main] INFO com.hierynomus.smbj.connection.Connection - Successfully connected to: **&lt;hostname&gt;**\n[main] INFO com.hierynomus.smbj.connection.SMBSessionBuilder - Successfully authenticated karthik on **&lt;hostname&gt;**, session is -12346324324\n[main] INFO com.hierynomus.smbj.session.Session - Connecting to **\\\\hostname\\proj** on session -12346324324\nException in thread &quot;main&quot; com.hierynomus.mssmb2.SMBApiException: STATUS_ACCESS_DENIED (0xc0000022): Create failed for \\\\hostname\\proj\\Folder1\\Folder11\\Folder111\n    at com.hierynomus.smbj.share.Share.receive(Share.java:397)\n    at com.hierynomus.smbj.share.Share.sendReceive(Share.java:377)\n    at com.hierynomus.smbj.share.Share.createFile(Share.java:159)\n    at com.hierynomus.smbj.share.DiskShare.createFileAndResolve(DiskShare.java:75)\n    at com.hierynomus.smbj.share.DiskShare.access$100(DiskShare.java:55)\n    at com.hierynomus.smbj.share.DiskShare$2.apply(DiskShare.java:109)\n</code></pre>\n<p>I manually mapped the network drive to my system and verified that I have admin rights, but for some reasons I am getting the above error.</p>\n<p>Can someone please help me to resolve it</p>\n"},{"tags":["java","rabbitmq","erlang-otp"],"owner":{"account_id":27684136,"reputation":31,"user_id":21132239,"display_name":"Naseer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1904,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1675333241,"creation_date":1675333241,"question_id":75321670,"body_markdown":"OS : Windows 10\r\nRabbitMQ version used : 3.8.8, 3.9.13, 3.11.x\r\n\r\n1. Installed the RabbitMQ 3.8.8 and upgraded to RabbitMQ 3.9.13.\r\n2. Now need to upgrade RabbitMQ 3.9.13 to 3.11.x. I have referred https://www.rabbitmq.com/feature-flags.html.\r\n3. Before upgrade we need to enable the respective feature flags. I have enabled the feature flags using rabbitmqctl enable_feature_flag &lt;name&gt; and this is working successfully.\r\n4. Tried to enable feature flags on the same/existing node using below ways and failed.\r\n    a.advanced.config (config parameter)\r\n    b.Environment variable\r\n\r\nRequest you to provide the solution to proceed on this using the advanced.config or Environment variable to upgrade RabbitMQ version 3.8.8 -&gt; 3.9.13 to 3.11.0 on the existing node.\r\n","title":"RabbitMQ 3.11.x : Enable Feature Flags using advanced.config or Enviroment Variable on Existing Node of RabbitMQ","body":"<p>OS : Windows 10\nRabbitMQ version used : 3.8.8, 3.9.13, 3.11.x</p>\n<ol>\n<li>Installed the RabbitMQ 3.8.8 and upgraded to RabbitMQ 3.9.13.</li>\n<li>Now need to upgrade RabbitMQ 3.9.13 to 3.11.x. I have referred <a href=\"https://www.rabbitmq.com/feature-flags.html\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/feature-flags.html</a>.</li>\n<li>Before upgrade we need to enable the respective feature flags. I have enabled the feature flags using rabbitmqctl enable_feature_flag  and this is working successfully.</li>\n<li>Tried to enable feature flags on the same/existing node using below ways and failed.\na.advanced.config (config parameter)\nb.Environment variable</li>\n</ol>\n<p>Request you to provide the solution to proceed on this using the advanced.config or Environment variable to upgrade RabbitMQ version 3.8.8 -&gt; 3.9.13 to 3.11.0 on the existing node.</p>\n"},{"tags":["xml","java","xmlunit"],"comments":[{"owner":{"account_id":279975,"reputation":15386,"user_id":575421,"accept_rate":50,"display_name":"Mikita Belahlazau"},"score":0,"creation_date":1359982088,"post_id":14686292,"comment_id":20534925,"body_markdown":"Make sure `url1` and `url2` are not nulls.","body":"Make sure <code>url1</code> and <code>url2</code> are not nulls."},{"owner":{"account_id":1601646,"reputation":3114,"user_id":1482566,"accept_rate":60,"display_name":"shockwave"},"score":0,"creation_date":1359983683,"post_id":14686292,"comment_id":20535692,"body_markdown":"@NikitaBeloglazov - Is it not considering ComparisonTest.class.getResource(&quot;D:/reference.xml&quot;);?","body":"@NikitaBeloglazov - Is it not considering ComparisonTest.class.getResource(&quot;D:/reference.xml&quot;);?"},{"owner":{"account_id":279975,"reputation":15386,"user_id":575421,"accept_rate":50,"display_name":"Mikita Belahlazau"},"score":0,"creation_date":1359983809,"post_id":14686292,"comment_id":20535745,"body_markdown":"No. If resource is not found. Check [docs](http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#getResource(java.lang.String))","body":"No. If resource is not found. Check <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Class.html#getResource(java.lang.String)\" rel=\"nofollow noreferrer\">docs</a>"},{"owner":{"account_id":1601646,"reputation":3114,"user_id":1482566,"accept_rate":60,"display_name":"shockwave"},"score":0,"creation_date":1359983898,"post_id":14686292,"comment_id":20535771,"body_markdown":"@NikitaBeloglazov - Where do I need to place the xml file? what I have given is right huh?","body":"@NikitaBeloglazov - Where do I need to place the xml file? what I have given is right huh?"}],"answers":[{"tags":[],"owner":{"account_id":279975,"reputation":15386,"user_id":575421,"accept_rate":50,"display_name":"Mikita Belahlazau"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1359984296,"creation_date":1359984296,"answer_id":14687727,"question_id":14686292,"body_markdown":"I&#39;m not sure that you can pass &quot;D:/reference.xml&quot; as resource. Just pass paths to constructor of `FileReader`:\r\n\r\n    FileReader fr1 = null;\r\n    FileReader fr2 = null;\r\n    try {\r\n        fr1 = new FileReader(&quot;D:/reference.xml&quot;);\r\n        fr2 = new FileReader(&quot;D:/comparison.xml&quot;);\r\n    } catch (FileNotFoundException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nI&#39;m pretty sure that `getResource` gives you null.\r\n\r\n\r\n    URL url1 = ComparisonTest.class.getResource(&quot;D:/reference.xml&quot;);\r\n    URL url2 = ComparisonTest.class.getResource(&quot;D:/comparison.xml&quot;);\r\n    System.out.println(url1 + &quot; &quot; + url2); // I suppose output is &quot;null null&quot;","title":"Java XML files comparison","body":"<p>I'm not sure that you can pass \"D:/reference.xml\" as resource. Just pass paths to constructor of <code>FileReader</code>:</p>\n\n<pre><code>FileReader fr1 = null;\nFileReader fr2 = null;\ntry {\n    fr1 = new FileReader(\"D:/reference.xml\");\n    fr2 = new FileReader(\"D:/comparison.xml\");\n} catch (FileNotFoundException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>I'm pretty sure that <code>getResource</code> gives you null.</p>\n\n<pre><code>URL url1 = ComparisonTest.class.getResource(\"D:/reference.xml\");\nURL url2 = ComparisonTest.class.getResource(\"D:/comparison.xml\");\nSystem.out.println(url1 + \" \" + url2); // I suppose output is \"null null\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3943002,"reputation":1,"user_id":3256657,"display_name":"Santosh Pardeshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391159817,"creation_date":1391159817,"answer_id":21476215,"question_id":14686292,"body_markdown":"You are getting this error becouse of getResource() method. It does not return the reference object to your xml file. You can directly pass the file name to FileReader contructor or you can create a File class object.  I have imporoved your block of code, you can copy and run it. It will work 100 % :) :)\r\n\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import java.util.List;\r\n\r\n    import org.custommonkey.xmlunit.DetailedDiff;\r\n    import org.custommonkey.xmlunit.Diff;\r\n    import org.custommonkey.xmlunit.Difference;\r\n    import org.xml.sax.SAXException;\r\n\r\n    public class ComparisonTest {\r\n    \r\n    public static void main(String[] args) {\r\n    File f1 = new File(&quot;D:/reference.xml&quot;);\r\n    File f2= new File(&quot;D:/comparison.xml&quot;);\r\n    FileReader fr1 = null;\r\n    FileReader fr2 = null;\r\n    try {\r\n        fr1 = new FileReader(f1);\r\n        fr2 = new FileReader(f2);\r\n    } catch (FileNotFoundException e) {\r\n        e.printStackTrace();\r\n    }\r\n    \r\n    try {\r\n        Diff diff = new Diff(fr1, fr2);\r\n        System.out.println(&quot;Similar? &quot; + diff.similar());\r\n        System.out.println(&quot;Identical? &quot; + diff.identical());\r\n    \r\n        DetailedDiff detDiff = new DetailedDiff(diff);\r\n        List differences = detDiff.getAllDifferences();\r\n        for (Object object : differences) {\r\n            Difference difference = (Difference)object;\r\n            System.out.println(&quot;***********************&quot;);\r\n            System.out.println(difference);\r\n            System.out.println(&quot;***********************&quot;);\r\n        }\r\n\r\n    } catch (SAXException e) {\r\n        e.printStackTrace();\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n    }\r\n\r\n} ","title":"Java XML files comparison","body":"<p>You are getting this error becouse of getResource() method. It does not return the reference object to your xml file. You can directly pass the file name to FileReader contructor or you can create a File class object.  I have imporoved your block of code, you can copy and run it. It will work 100 % :) :)</p>\n\n<pre><code>import java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.List;\n\nimport org.custommonkey.xmlunit.DetailedDiff;\nimport org.custommonkey.xmlunit.Diff;\nimport org.custommonkey.xmlunit.Difference;\nimport org.xml.sax.SAXException;\n\npublic class ComparisonTest {\n\npublic static void main(String[] args) {\nFile f1 = new File(\"D:/reference.xml\");\nFile f2= new File(\"D:/comparison.xml\");\nFileReader fr1 = null;\nFileReader fr2 = null;\ntry {\n    fr1 = new FileReader(f1);\n    fr2 = new FileReader(f2);\n} catch (FileNotFoundException e) {\n    e.printStackTrace();\n}\n\ntry {\n    Diff diff = new Diff(fr1, fr2);\n    System.out.println(\"Similar? \" + diff.similar());\n    System.out.println(\"Identical? \" + diff.identical());\n\n    DetailedDiff detDiff = new DetailedDiff(diff);\n    List differences = detDiff.getAllDifferences();\n    for (Object object : differences) {\n        Difference difference = (Difference)object;\n        System.out.println(\"***********************\");\n        System.out.println(difference);\n        System.out.println(\"***********************\");\n    }\n\n} catch (SAXException e) {\n    e.printStackTrace();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n}\n</code></pre>\n\n<p>} </p>\n"},{"tags":[],"owner":{"account_id":23384338,"reputation":1,"user_id":17449933,"display_name":"Rajasekaran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675333180,"creation_date":1675162597,"answer_id":75296099,"question_id":14686292,"body_markdown":"```\r\nFileReader fr1 = new FileReader(&quot;/home/Downloads/xml1.xml&quot;);\r\nFileReader fr2 = new FileReader(&quot;/home/Downloads/xml2.xml&quot;);\r\n```\r\nTry passing xml files using `FileReader`.\r\n","title":"Java XML files comparison","body":"<pre><code>FileReader fr1 = new FileReader(&quot;/home/Downloads/xml1.xml&quot;);\nFileReader fr2 = new FileReader(&quot;/home/Downloads/xml2.xml&quot;);\n</code></pre>\n<p>Try passing xml files using <code>FileReader</code>.</p>\n"}],"owner":{"account_id":1601646,"reputation":3114,"user_id":1482566,"accept_rate":60,"display_name":"shockwave"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2842,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":14687727,"answer_count":3,"score":1,"last_activity_date":1675333180,"creation_date":1359979120,"question_id":14686292,"body_markdown":"I&#39;m trying to compare 2 XML files using XMLUnit. I tried with the following code in eclipse, I have placed the xml files to be compared in the local directory.\r\n\r\n\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import java.util.List;\r\n\r\n    import org.custommonkey.xmlunit.DetailedDiff;\r\n    import org.custommonkey.xmlunit.Diff;\r\n    import org.custommonkey.xmlunit.Difference;\r\n    import org.xml.sax.SAXException;\r\n\r\n    public class ComparisonTest {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tURL url1 = ComparisonTest.class.getResource(&quot;D:/reference.xml&quot;);\r\n\t\tURL url2 = ComparisonTest.class.getResource(&quot;D:/comparison.xml&quot;);\r\n\t\tFileReader fr1 = null;\r\n\t\tFileReader fr2 = null;\r\n\t\ttry {\r\n\t\t\tfr1 = new FileReader(url1.getPath());\r\n\t\t\tfr2 = new FileReader(url2.getPath());\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tDiff diff = new Diff(fr1, fr2);\r\n\t\t\tSystem.out.println(&quot;Similar? &quot; + diff.similar());\r\n\t\t\tSystem.out.println(&quot;Identical? &quot; + diff.identical());\r\n\r\n\t\t\tDetailedDiff detDiff = new DetailedDiff(diff);\r\n\t\t\tList differences = detDiff.getAllDifferences();\r\n\t\t\tfor (Object object : differences) {\r\n\t\t\t\tDifference difference = (Difference)object;\r\n\t\t\t\tSystem.out.println(&quot;***********************&quot;);\r\n\t\t\t\tSystem.out.println(difference);\r\n\t\t\t\tSystem.out.println(&quot;***********************&quot;);\r\n\t\t\t}\r\n\r\n\t\t} catch (SAXException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n\r\nI&#39;m getting an error as \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat com.org.comparison.ComparisonTest.main(ComparisonTest.java:21)\r\n\r\nI&#39;m not able to figure out why?","title":"Java XML files comparison","body":"<p>I'm trying to compare 2 XML files using XMLUnit. I tried with the following code in eclipse, I have placed the xml files to be compared in the local directory.</p>\n\n<pre><code>import java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.List;\n\nimport org.custommonkey.xmlunit.DetailedDiff;\nimport org.custommonkey.xmlunit.Diff;\nimport org.custommonkey.xmlunit.Difference;\nimport org.xml.sax.SAXException;\n\npublic class ComparisonTest {\n\npublic static void main(String[] args) {\n    URL url1 = ComparisonTest.class.getResource(\"D:/reference.xml\");\n    URL url2 = ComparisonTest.class.getResource(\"D:/comparison.xml\");\n    FileReader fr1 = null;\n    FileReader fr2 = null;\n    try {\n        fr1 = new FileReader(url1.getPath());\n        fr2 = new FileReader(url2.getPath());\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n\n    try {\n        Diff diff = new Diff(fr1, fr2);\n        System.out.println(\"Similar? \" + diff.similar());\n        System.out.println(\"Identical? \" + diff.identical());\n\n        DetailedDiff detDiff = new DetailedDiff(diff);\n        List differences = detDiff.getAllDifferences();\n        for (Object object : differences) {\n            Difference difference = (Difference)object;\n            System.out.println(\"***********************\");\n            System.out.println(difference);\n            System.out.println(\"***********************\");\n        }\n\n    } catch (SAXException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\n}\n</code></pre>\n\n<p>I'm getting an error as </p>\n\n<pre><code>Exception in thread \"main\" java.lang.NullPointerException\nat com.org.comparison.ComparisonTest.main(ComparisonTest.java:21)\n</code></pre>\n\n<p>I'm not able to figure out why?</p>\n"},{"tags":["java","sql-server","spring","spring-boot"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":2,"creation_date":1675329491,"post_id":75320418,"comment_id":132906541,"body_markdown":"It&#39;s requesting a `ROWLOCK`, that doesn&#39;t mean it takes one. If multiple rows are involved SQL Server may choose to escalate a `ROWLOCK` to a `PAG(e)LOCK`, or if too many pages are involved a `TABLOCK`.","body":"It&#39;s requesting a <code>ROWLOCK</code>, that doesn&#39;t mean it takes one. If multiple rows are involved SQL Server may choose to escalate a <code>ROWLOCK</code> to a <code>PAG(e)LOCK</code>, or if too many pages are involved a <code>TABLOCK</code>."},{"owner":{"account_id":24745023,"reputation":81,"user_id":18631324,"display_name":"SereneAtk"},"score":0,"creation_date":1675334597,"post_id":75320418,"comment_id":132908181,"body_markdown":"But would I see it in logs ? How to check it to be sure? Only one entity is locked by me programatically in this transaction as u see in above code. Besides, if it cannot be confirmed maybe I should switch to NO_WAIT strategy, would it be safest ? I don&#39;t want other threads waiting to lock their own entitityIds... Thats why all of this should only lock one row or maybe NO_WAIT strategy would be better..","body":"But would I see it in logs ? How to check it to be sure? Only one entity is locked by me programatically in this transaction as u see in above code. Besides, if it cannot be confirmed maybe I should switch to NO_WAIT strategy, would it be safest ? I don&#39;t want other threads waiting to lock their own entitityIds... Thats why all of this should only lock one row or maybe NO_WAIT strategy would be better.."},{"owner":{"account_id":275368,"reputation":31453,"user_id":568209,"accept_rate":38,"display_name":"Ben Thul"},"score":0,"creation_date":1675353011,"post_id":75320418,"comment_id":132914945,"body_markdown":"@AlwaysLearning - I don&#39;t think that row locks escalate to page locks. If a lock escalation threshold has been exceeded from having too many row locks, it will escalate to a table lock.","body":"@AlwaysLearning - I don&#39;t think that row locks escalate to page locks. If a lock escalation threshold has been exceeded from having too many row locks, it will escalate to a table lock."},{"owner":{"account_id":24745023,"reputation":81,"user_id":18631324,"display_name":"SereneAtk"},"score":0,"creation_date":1675353464,"post_id":75320418,"comment_id":132915114,"body_markdown":"Thanks very much for all comments. I found other reasons for delays of data processing and it is not related with db locks fortunatelly, but with too little resources for taskExecutor. And I learned that this ROWLOCK is only an attempt and the mssql server decides what to lock :) The other thread was not running at all, log was lying, it was scheduled but never run due to lack of resources, and I was thinking it was hanged because of db lock.","body":"Thanks very much for all comments. I found other reasons for delays of data processing and it is not related with db locks fortunatelly, but with too little resources for taskExecutor. And I learned that this ROWLOCK is only an attempt and the mssql server decides what to lock :) The other thread was not running at all, log was lying, it was scheduled but never run due to lack of resources, and I was thinking it was hanged because of db lock."}],"owner":{"account_id":24745023,"reputation":81,"user_id":18631324,"display_name":"SereneAtk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675333052,"creation_date":1675326644,"question_id":75320418,"body_markdown":"I have this locking method (New TX) on Spring boot application and SQL Server, Java. Is it possible that this locks whole Car entity in database? Because other thread that wants to lock other carId is hanging. Moreover it seems to work on one node and problems are on external server. Could it be related to SQL Server configuration?\r\n\r\n\r\n\r\n```\r\n @Override\r\n    public void lockCar(Long entityId) {\r\n        Map&lt;String, Object&gt; properties = getLockProperties();\r\n        entityManager.find(Car.class, entityId, LockModeType.PESSIMISTIC_WRITE, properties);\r\n        Car car = carRepository.findById(entityId)\r\n                .orElseThrow(() -&gt; new EntityIdNotFoundException(Car.class, String.valueOf(entityId)));\r\n\r\n        if (iCarLocked(car)) {\r\n            throw new EntityLockedException(Car.class, entityId);\r\n        }\r\n       \r\n        car.setLockedDate(LocalDateTime.now());\r\n       \r\n    }\r\n```\r\n\r\n\r\nIn logs I see: \r\n\r\n&gt; select car0_.id as id1_6_0_, car0_.action as aktion2_6_0_ from car\r\n&gt; car0_ with (updlock, holdlock, rowlock) where car0_.id=?\r\n\r\nSo is it locking whole table or row only?","title":"Problem with SELECT FOR UPDATE - whole table is locked instead row?","body":"<p>I have this locking method (New TX) on Spring boot application and SQL Server, Java. Is it possible that this locks whole Car entity in database? Because other thread that wants to lock other carId is hanging. Moreover it seems to work on one node and problems are on external server. Could it be related to SQL Server configuration?</p>\n<pre><code> @Override\n    public void lockCar(Long entityId) {\n        Map&lt;String, Object&gt; properties = getLockProperties();\n        entityManager.find(Car.class, entityId, LockModeType.PESSIMISTIC_WRITE, properties);\n        Car car = carRepository.findById(entityId)\n                .orElseThrow(() -&gt; new EntityIdNotFoundException(Car.class, String.valueOf(entityId)));\n\n        if (iCarLocked(car)) {\n            throw new EntityLockedException(Car.class, entityId);\n        }\n       \n        car.setLockedDate(LocalDateTime.now());\n       \n    }\n</code></pre>\n<p>In logs I see:</p>\n<blockquote>\n<p>select car0_.id as id1_6_0_, car0_.action as aktion2_6_0_ from car\ncar0_ with (updlock, holdlock, rowlock) where car0_.id=?</p>\n</blockquote>\n<p>So is it locking whole table or row only?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"score":1,"creation_date":1675188489,"post_id":75301158,"comment_id":132873555,"body_markdown":"Does this answer your question? [Passing Parameters JavaFX FXML](https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml\">Passing Parameters JavaFX FXML</a>"},{"owner":{"account_id":26380586,"reputation":109,"user_id":20033905,"display_name":"Ric97"},"score":0,"creation_date":1675188778,"post_id":75301158,"comment_id":132873637,"body_markdown":"Unfortunately i don&#39;t think so. Maybe it&#39;s just me, i&#39;ve been trying to fix this problem for hours and my head isn&#39;t fully connected right now","body":"Unfortunately i don&#39;t think so. Maybe it&#39;s just me, i&#39;ve been trying to fix this problem for hours and my head isn&#39;t fully connected right now"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1675191187,"post_id":75301158,"comment_id":132874360,"body_markdown":"Can you create and post a [mre]? I don&#39;t really understand the issue here. What do `openA()` and `openB()` do? Usually a controller is not responsible for opening a window to display the UI that the controller is controlling; that is not part of its responsibility.","body":"Can you create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? I don&#39;t really understand the issue here. What do <code>openA()</code> and <code>openB()</code> do? Usually a controller is not responsible for opening a window to display the UI that the controller is controlling; that is not part of its responsibility."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1675194179,"post_id":75301158,"comment_id":132875110,"body_markdown":"See how [spring handles this](https://stackoverflow.com/a/3485429/1155209).  You could do the same thing.  Create both controllers (by invoking their constructors), store the references to the controllers created, then call set methods on each so that each can know about the other,  create an fxml loader for each and for each loader, you set the controllers you made, then invoke the loader load method to inject the fxml fields.  Theoretically, it would work, but I don&#39;t necessarily recommend it.  In the end I think you may be trying to solve an [xy problem](https://xyproblem.info).","body":"See how <a href=\"https://stackoverflow.com/a/3485429/1155209\">spring handles this</a>.  You could do the same thing.  Create both controllers (by invoking their constructors), store the references to the controllers created, then call set methods on each so that each can know about the other,  create an fxml loader for each and for each loader, you set the controllers you made, then invoke the loader load method to inject the fxml fields.  Theoretically, it would work, but I don&#39;t necessarily recommend it.  In the end I think you may be trying to solve an <a href=\"https://xyproblem.info\" rel=\"nofollow noreferrer\">xy problem</a>."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1675197458,"post_id":75301158,"comment_id":132875988,"body_markdown":"It sounds like you are following terrible tutorials to me.  Try learning [this](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx) or the link posted by @GiovanniContreras.","body":"It sounds like you are following terrible tutorials to me.  Try learning <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">this</a> or the link posted by @GiovanniContreras."},{"owner":{"account_id":26380586,"reputation":109,"user_id":20033905,"display_name":"Ric97"},"score":1,"creation_date":1675263138,"post_id":75301158,"comment_id":132891076,"body_markdown":"Thanks everyone for your comments. I will look into them and study more. Furthermore, never heard about an &#39;xy problem&#39; but it made me giggle. Sounds too accurate!","body":"Thanks everyone for your comments. I will look into them and study more. Furthermore, never heard about an &#39;xy problem&#39; but it made me giggle. Sounds too accurate!"}],"answers":[{"tags":[],"owner":{"account_id":27666309,"reputation":1,"user_id":21118068,"display_name":"Matteo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675332958,"creation_date":1675187616,"answer_id":75301179,"question_id":75301158,"body_markdown":"Loading a new fxml, so calling `root = loader.load();` instances a new controller for the specified path. So no, you cant stick to the same instance because you wont be able to access the `@FXML` stuff on your declared controller or you could be calling and old instance for the page you are visualizing.","title":"JavaFX best way to manage different controllers using each others methods?","body":"<p>Loading a new fxml, so calling <code>root = loader.load();</code> instances a new controller for the specified path. So no, you cant stick to the same instance because you wont be able to access the <code>@FXML</code> stuff on your declared controller or you could be calling and old instance for the page you are visualizing.</p>\n"},{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675198779,"creation_date":1675194967,"answer_id":75302484,"question_id":75301158,"body_markdown":"None of what is described seems like a particularly good design to me. Controllers should not be opening their own views in any sense. The de-facto industry-standard way to communicate between two controllers is via a model (i.e. use a MVC design).\r\n\r\nIn this case, your model can include some state that represents what the current view should be. Usually, this is just a function of natural properties that your model would include anyway. For example, if you have an application where the user has to log in, your model might have a user property. The controller for a login screen would validate the user credentials and change the user property if they were correct. Other screens might have a logout button which just set the user to null. An observer on the model&#39;s user property would display the login screen if the user changes to null, and display the main screen if the user changes to non-null.\r\n\r\nFor simple demonstration purposes, here&#39;s a model class which just directly has a property representing the current view:\r\n\r\n    package org.jamesd.examples.switchviews;\r\n    \r\n    import javafx.beans.property.ObjectProperty;\r\n    import javafx.beans.property.SimpleObjectProperty;\r\n    \r\n    public class Model {\r\n        public enum View {A,B}\r\n    \r\n        private final ObjectProperty&lt;View&gt; currentView = new SimpleObjectProperty&lt;&gt;(View.A);\r\n    \r\n        public View getCurrentView() {\r\n            return currentView.get();\r\n        }\r\n    \r\n        public ObjectProperty&lt;View&gt; currentViewProperty() {\r\n            return currentView;\r\n        }\r\n    \r\n        public void setCurrentView(View currentView) {\r\n            this.currentView.set(currentView);\r\n        }\r\n    \r\n        \r\n    }\r\n\r\nNow all your controllers should do is update the state of a (shared) model:\r\n\r\nA.fxml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.layout.VBox?&gt;\r\n    &lt;VBox xmlns=&quot;http://javafx.com/javafx&quot;\r\n          xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n          fx:controller=&quot;org.jamesd.examples.switchviews.ControllerA&quot;\r\n          alignment=&quot;CENTER&quot;\r\n          spacing=&quot;20&quot;\r\n          fx:id=&quot;root&quot;&gt;\r\n        &lt;Label text=&quot;This is view A&quot;/&gt;\r\n        &lt;Button text=&quot;Go to view B&quot; onAction=&quot;#goToB&quot;/&gt;\r\n    \r\n    &lt;/VBox&gt;\r\n\r\nand ControllerA:\r\n\r\n    package org.jamesd.examples.switchviews;\r\n    \r\n    import javafx.fxml.FXML;\r\n    \r\n    public class ControllerA {\r\n        private Model model;\r\n        public void setModel(Model model) {\r\n            this.model = model;\r\n        }\r\n        \r\n        @FXML\r\n        private void goToB() {\r\n            model.setCurrentView(Model.View.B);\r\n        }\r\n    }\r\n\r\nand similarly, B.fxml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.layout.VBox?&gt;\r\n    &lt;VBox xmlns=&quot;http://javafx.com/javafx&quot;\r\n          xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n          fx:controller=&quot;org.jamesd.examples.switchviews.ControllerB&quot;\r\n          alignment=&quot;CENTER&quot;\r\n          spacing=&quot;20&quot;\r\n          fx:id=&quot;root&quot;&gt;\r\n        &lt;Label text=&quot;This is view B&quot;/&gt;\r\n        &lt;Button text=&quot;Go to view A&quot; onAction=&quot;#goToA&quot;/&gt;\r\n    \r\n    &lt;/VBox&gt;\r\n\r\nand ControllerB:\r\n\r\n    package org.jamesd.examples.switchviews;\r\n    \r\n    import javafx.fxml.FXML;\r\n    \r\n    public class ControllerB {\r\n        private Model model;\r\n        public void setModel(Model model) {\r\n            this.model = model;\r\n        }\r\n    \r\n        @FXML\r\n        private void goToA() {\r\n            model.setCurrentView(Model.View.A);\r\n        }\r\n    }\r\n\r\n\r\nThe responsibility for changing the actual view when the model changes belongs elsewhere. In this simple example, we can just do it in the application class, which has access to the scene:\r\n\r\n    package org.jamesd.examples.switchviews;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class HelloApplication extends Application {\r\n    \r\n        private Parent viewA ;\r\n        private Parent viewB ;\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            Model model = new Model();\r\n    \r\n            // load both views:\r\n            FXMLLoader loaderA = new FXMLLoader(getClass().getResource(&quot;A.fxml&quot;));\r\n            viewA = loaderA.load();\r\n            ControllerA controllerA = loaderA.getController();\r\n            controllerA.setModel(model);\r\n    \r\n            FXMLLoader loaderB = new FXMLLoader(getClass().getResource(&quot;B.fxml&quot;));\r\n            viewB = loaderB.load();\r\n            ControllerB controllerB = loaderB.getController();\r\n            controllerB.setModel(model);\r\n    \r\n            // create scene with initial view:\r\n            Scene scene = new Scene(viewFromModel(model.getCurrentView()),320,200);\r\n    \r\n            // change view when model property changes:\r\n            model.currentViewProperty().addListener((obs, oldView, newView) -&gt;\r\n                scene.setRoot(viewFromModel(newView))\r\n            );\r\n    \r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        private Parent viewFromModel(Model.View view) {\r\n            return switch(view) {\r\n                case A -&gt; viewA ;\r\n                case B -&gt; viewB ;\r\n            };\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }","title":"JavaFX best way to manage different controllers using each others methods?","body":"<p>None of what is described seems like a particularly good design to me. Controllers should not be opening their own views in any sense. The de-facto industry-standard way to communicate between two controllers is via a model (i.e. use a MVC design).</p>\n<p>In this case, your model can include some state that represents what the current view should be. Usually, this is just a function of natural properties that your model would include anyway. For example, if you have an application where the user has to log in, your model might have a user property. The controller for a login screen would validate the user credentials and change the user property if they were correct. Other screens might have a logout button which just set the user to null. An observer on the model's user property would display the login screen if the user changes to null, and display the main screen if the user changes to non-null.</p>\n<p>For simple demonstration purposes, here's a model class which just directly has a property representing the current view:</p>\n<pre><code>package org.jamesd.examples.switchviews;\n\nimport javafx.beans.property.ObjectProperty;\nimport javafx.beans.property.SimpleObjectProperty;\n\npublic class Model {\n    public enum View {A,B}\n\n    private final ObjectProperty&lt;View&gt; currentView = new SimpleObjectProperty&lt;&gt;(View.A);\n\n    public View getCurrentView() {\n        return currentView.get();\n    }\n\n    public ObjectProperty&lt;View&gt; currentViewProperty() {\n        return currentView;\n    }\n\n    public void setCurrentView(View currentView) {\n        this.currentView.set(currentView);\n    }\n\n    \n}\n</code></pre>\n<p>Now all your controllers should do is update the state of a (shared) model:</p>\n<p>A.fxml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;VBox xmlns=&quot;http://javafx.com/javafx&quot;\n      xmlns:fx=&quot;http://javafx.com/fxml&quot;\n      fx:controller=&quot;org.jamesd.examples.switchviews.ControllerA&quot;\n      alignment=&quot;CENTER&quot;\n      spacing=&quot;20&quot;\n      fx:id=&quot;root&quot;&gt;\n    &lt;Label text=&quot;This is view A&quot;/&gt;\n    &lt;Button text=&quot;Go to view B&quot; onAction=&quot;#goToB&quot;/&gt;\n\n&lt;/VBox&gt;\n</code></pre>\n<p>and ControllerA:</p>\n<pre><code>package org.jamesd.examples.switchviews;\n\nimport javafx.fxml.FXML;\n\npublic class ControllerA {\n    private Model model;\n    public void setModel(Model model) {\n        this.model = model;\n    }\n    \n    @FXML\n    private void goToB() {\n        model.setCurrentView(Model.View.B);\n    }\n}\n</code></pre>\n<p>and similarly, B.fxml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;VBox xmlns=&quot;http://javafx.com/javafx&quot;\n      xmlns:fx=&quot;http://javafx.com/fxml&quot;\n      fx:controller=&quot;org.jamesd.examples.switchviews.ControllerB&quot;\n      alignment=&quot;CENTER&quot;\n      spacing=&quot;20&quot;\n      fx:id=&quot;root&quot;&gt;\n    &lt;Label text=&quot;This is view B&quot;/&gt;\n    &lt;Button text=&quot;Go to view A&quot; onAction=&quot;#goToA&quot;/&gt;\n\n&lt;/VBox&gt;\n</code></pre>\n<p>and ControllerB:</p>\n<pre><code>package org.jamesd.examples.switchviews;\n\nimport javafx.fxml.FXML;\n\npublic class ControllerB {\n    private Model model;\n    public void setModel(Model model) {\n        this.model = model;\n    }\n\n    @FXML\n    private void goToA() {\n        model.setCurrentView(Model.View.A);\n    }\n}\n</code></pre>\n<p>The responsibility for changing the actual view when the model changes belongs elsewhere. In this simple example, we can just do it in the application class, which has access to the scene:</p>\n<pre><code>package org.jamesd.examples.switchviews;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n\n    private Parent viewA ;\n    private Parent viewB ;\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        Model model = new Model();\n\n        // load both views:\n        FXMLLoader loaderA = new FXMLLoader(getClass().getResource(&quot;A.fxml&quot;));\n        viewA = loaderA.load();\n        ControllerA controllerA = loaderA.getController();\n        controllerA.setModel(model);\n\n        FXMLLoader loaderB = new FXMLLoader(getClass().getResource(&quot;B.fxml&quot;));\n        viewB = loaderB.load();\n        ControllerB controllerB = loaderB.getController();\n        controllerB.setModel(model);\n\n        // create scene with initial view:\n        Scene scene = new Scene(viewFromModel(model.getCurrentView()),320,200);\n\n        // change view when model property changes:\n        model.currentViewProperty().addListener((obs, oldView, newView) -&gt;\n            scene.setRoot(viewFromModel(newView))\n        );\n\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    private Parent viewFromModel(Model.View view) {\n        return switch(view) {\n            case A -&gt; viewA ;\n            case B -&gt; viewB ;\n        };\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26380586,"reputation":109,"user_id":20033905,"display_name":"Ric97"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75302484,"answer_count":2,"score":0,"last_activity_date":1675332958,"creation_date":1675187468,"question_id":75301158,"body_markdown":"I&#39;m new to JavaFX. I&#39;m having troubles with controllers.\r\n\r\nI have two GUIs, called A and B, each one with its controller (ControllerA and ControllerB).\r\n\r\nMy program is pretty simple: it starts by opening A, and there&#39;s a button that opens B when pressed. Viceversa, B has a button that opens A.\r\n\r\nControllerA has one method, called &quot;openA&quot;, and ControllerB has one method called &quot;openB&quot;.\r\n\r\nSo, A needs a ControllerB to open B, and viceversa again. \r\n\r\nI watched a tutorial and the way he deals with controller communication is the following:\r\n```\r\n\r\npublic class ControllerA{\r\n\r\npublic void onPressingButtonB(ActionEvent e) throws IOException{\r\n        FXMLLoader loaderB = new FXMLLoader(getClass().getResource(&quot;class-b.fxml&quot;));\r\n        root = loaderB.load();\r\n        ControllerB controllerB = loaderB.getController();\r\n        controllerB.openB(e);\r\n}\r\n\r\n```\r\n\r\nBut this seems &#39;not optimal&#39; to me. Everytime i&#39;m in A and want to go to B, i need to reistantiate the ControllerB. So, i declared that ControllerA has a ControllerB, and used the following code:\r\n\r\n```\r\n\r\npublic class ControllerA{\r\n\r\nprivate ControllerB controllerb;\r\n    {\r\n        try {\r\n            controllerb = loadControllerB();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n\r\n    public ControllerB loadControllerB() throws IOException {\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;class-b.fxml&quot;));\r\n        root = loader.load();\r\n        return loader.getController();\r\n    }\r\n\r\npublic void onPressingButtonB(ActionEvent e) throws IOException{\r\n        controllerb.openB(e);\r\n    }\r\n```\r\n\r\nThis way, my action listener can be resolved to one line, having istantiated the controller directly in my class, and it works like a charm.\r\n\r\nThing is... of course i need to do it specularly with ControllerB, but this leads to a major problem: if ControllerA istantiate a ControllerB when created, and ControllerB istantiate a ControllerA when created... it&#39;s a loop. In fact, it loops and gives me error on the load method.\r\n\r\nMy question is: is there a way to fix my code and creating controllers just one time (so my action listener can be just one line of code), or i have to reistantiate controllers every time i have to use them?\r\n\r\nThank you very much.","title":"JavaFX best way to manage different controllers using each others methods?","body":"<p>I'm new to JavaFX. I'm having troubles with controllers.</p>\n<p>I have two GUIs, called A and B, each one with its controller (ControllerA and ControllerB).</p>\n<p>My program is pretty simple: it starts by opening A, and there's a button that opens B when pressed. Viceversa, B has a button that opens A.</p>\n<p>ControllerA has one method, called &quot;openA&quot;, and ControllerB has one method called &quot;openB&quot;.</p>\n<p>So, A needs a ControllerB to open B, and viceversa again.</p>\n<p>I watched a tutorial and the way he deals with controller communication is the following:</p>\n<pre><code>\npublic class ControllerA{\n\npublic void onPressingButtonB(ActionEvent e) throws IOException{\n        FXMLLoader loaderB = new FXMLLoader(getClass().getResource(&quot;class-b.fxml&quot;));\n        root = loaderB.load();\n        ControllerB controllerB = loaderB.getController();\n        controllerB.openB(e);\n}\n\n</code></pre>\n<p>But this seems 'not optimal' to me. Everytime i'm in A and want to go to B, i need to reistantiate the ControllerB. So, i declared that ControllerA has a ControllerB, and used the following code:</p>\n<pre><code>\npublic class ControllerA{\n\nprivate ControllerB controllerb;\n    {\n        try {\n            controllerb = loadControllerB();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n\n    public ControllerB loadControllerB() throws IOException {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;class-b.fxml&quot;));\n        root = loader.load();\n        return loader.getController();\n    }\n\npublic void onPressingButtonB(ActionEvent e) throws IOException{\n        controllerb.openB(e);\n    }\n</code></pre>\n<p>This way, my action listener can be resolved to one line, having istantiated the controller directly in my class, and it works like a charm.</p>\n<p>Thing is... of course i need to do it specularly with ControllerB, but this leads to a major problem: if ControllerA istantiate a ControllerB when created, and ControllerB istantiate a ControllerA when created... it's a loop. In fact, it loops and gives me error on the load method.</p>\n<p>My question is: is there a way to fix my code and creating controllers just one time (so my action listener can be just one line of code), or i have to reistantiate controllers every time i have to use them?</p>\n<p>Thank you very much.</p>\n"},{"tags":["java","date","simpledateformat"],"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":2,"creation_date":1673427385,"post_id":75080230,"comment_id":132494205,"body_markdown":"Switch from the error-prone legacy date-time API to the modern date-time API. [Here](https://ideone.com/gSvgsH) is a solution using the modern API.","body":"Switch from the error-prone legacy date-time API to the modern date-time API. <a href=\"https://ideone.com/gSvgsH\" rel=\"nofollow noreferrer\">Here</a> is a solution using the modern API."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673447041,"post_id":75080230,"comment_id":132501245,"body_markdown":"By *a date* did you mean a `java.util.Date`? I strongly recommend you neither use that class, its poorly designed and nothing you should struggle with, nor the notoriously troublesome `SimpleDateFormat` class. Use [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html). For example `ZonedDateTime.now(ZoneId.of(&quot;Etc/UTC&quot;)).format(DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss zzz&quot;, Locale.ROOT))` (just gave `2023-01-11 14:23:11 UTC`).","body":"By <i>a date</i> did you mean a <code>java.util.Date</code>? I strongly recommend you neither use that class, its poorly designed and nothing you should struggle with, nor the notoriously troublesome <code>SimpleDateFormat</code> class. Use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. For example <code>ZonedDateTime.now(ZoneId.of(&quot;Etc&#47;UTC&quot;)).format(DateTimeForma&zwnj;&#8203;tter.ofPattern(&quot;uuuu&zwnj;&#8203;-MM-dd HH:mm:ss zzz&quot;, Locale.ROOT))</code> (just gave <code>2023-01-11 14:23:11 UTC</code>)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673451440,"post_id":75080230,"comment_id":132502975,"body_markdown":"Did you remember to search before asking? What did or did you not find? Very similar questions have been asked and answered a lot of times before.","body":"Did you remember to search before asking? What did or did you not find? Very similar questions have been asked and answered a lot of times before."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673451880,"post_id":75080230,"comment_id":132503136,"body_markdown":"If you are getting a `Date` from a legacy API that you cannot upgrade, use `yourOldfashionedUtilDate .toInstant() .atZone(ZoneId.of(&quot;Etc/UTC&quot;)) .format(DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss zzz&quot;, Locale.ROOT))`. Example result is `2023-01-11 09:25:52 UTC`.","body":"If you are getting a <code>Date</code> from a legacy API that you cannot upgrade, use <code>yourOldfashionedUtilDate .toInstant() .atZone(ZoneId.of(&quot;Etc&#47;UTC&quot;)) .format(DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss zzz&quot;, Locale.ROOT))</code>. Example result is <code>2023-01-11 09:25:52 UTC</code>."}],"answers":[{"comments":[{"owner":{"account_id":3644469,"reputation":784,"user_id":3037847,"display_name":"Ricardo Machado"},"score":0,"creation_date":1673427205,"post_id":75080298,"comment_id":132494135,"body_markdown":"I tried this same thing but with an Upper case Z and it didn&#39;t work. \n\nI tried with lower case z as in you example and it worked percet. Thanks.","body":"I tried this same thing but with an Upper case Z and it didn&#39;t work.   I tried with lower case z as in you example and it worked percet. Thanks."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673447158,"post_id":75080298,"comment_id":132501298,"body_markdown":"While your code gives the desired output, neither the OP nor you nor anyone else should use `Date` and `SimpleDateFormat`. They are troublesome and long outdated.","body":"While your code gives the desired output, neither the OP nor you nor anyone else should use <code>Date</code> and <code>SimpleDateFormat</code>. They are troublesome and long outdated."}],"tags":[],"owner":{"account_id":6403618,"reputation":76,"user_id":4965547,"display_name":"Alexis"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673427347,"creation_date":1673426541,"answer_id":75080298,"question_id":75080230,"body_markdown":"Use a lowercase `z` instead of `Z` to get the offset instead of the id. And you have to set the time zone using `simpleDateFormat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;))`.\r\n\r\nExample:\r\n```java\r\nDate date = new Date();\r\nSimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss z&quot;);\r\nsimpleDateFormat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\nSystem.out.println(simpleDateFormat.format(date)); // 2023-01-11 08:41:17 UTC\r\n```","title":"How to print UTC or GMT using SimpleDateFormat?","body":"<p>Use a lowercase <code>z</code> instead of <code>Z</code> to get the offset instead of the id. And you have to set the time zone using <code>simpleDateFormat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;))</code>.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Date date = new Date();\nSimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss z&quot;);\nsimpleDateFormat.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\nSystem.out.println(simpleDateFormat.format(date)); // 2023-01-11 08:41:17 UTC\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673426943,"creation_date":1673426943,"answer_id":75080360,"question_id":75080230,"body_markdown":"If you create an instance of simpleDateFormat with ````yyyy-MM-dd HH:mm:ss Z```` date format is incorrect change to capital ```Z``` to small ```z```,\r\n\r\nthen it works as expected.\r\n\r\n````2023-01-11 09:25:52 UTC````","title":"How to print UTC or GMT using SimpleDateFormat?","body":"<p>If you create an instance of simpleDateFormat with <code>yyyy-MM-dd HH:mm:ss Z</code> date format is incorrect change to capital <code>Z</code> to small <code>z</code>,</p>\n<p>then it works as expected.</p>\n<p><code>2023-01-11 09:25:52 UTC</code></p>\n"}],"owner":{"account_id":3644469,"reputation":784,"user_id":3037847,"display_name":"Ricardo Machado"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673451325,"accepted_answer_id":75080298,"answer_count":2,"score":0,"last_activity_date":1675332693,"creation_date":1673426158,"question_id":75080230,"body_markdown":"I am trying to print a date in this format:\r\n\r\n    2023-01-11 09:25:52 UTC\r\n\r\nBut when I use date format:\r\n\r\n    yyyy-MM-dd HH:mm:ss Z\r\n\r\nI get:\r\n\r\n\r\n\r\n    2023-01-11 09:29:25 +0100\r\n\r\n\r\nWhile searching by existing question in stack overflow, I found similar questions but not with this exact format with &quot;UTC&quot; at the end. I found one that provided a solution to add the format as `yyyy-MM-dd HH:mm:ss &#39;UTC&#39;` but then it would force the a GMT value to wrongly show UTC at the end. \r\n\r\nMost of the answers explain how to get UTC value, but not how to print in this format \r\n\r\n    2023-01-11 09:25:52 UTC\r\n\r\nSome solutions were also suggesting to use something else than SimpleDateFormat. \r\n\r\nThis question was marked as duplicated, but none of the post that were supposed to be duplicated had the info that I wanted. ","title":"How to print UTC or GMT using SimpleDateFormat?","body":"<p>I am trying to print a date in this format:</p>\n<pre><code>2023-01-11 09:25:52 UTC\n</code></pre>\n<p>But when I use date format:</p>\n<pre><code>yyyy-MM-dd HH:mm:ss Z\n</code></pre>\n<p>I get:</p>\n<pre><code>2023-01-11 09:29:25 +0100\n</code></pre>\n<p>While searching by existing question in stack overflow, I found similar questions but not with this exact format with &quot;UTC&quot; at the end. I found one that provided a solution to add the format as <code>yyyy-MM-dd HH:mm:ss 'UTC'</code> but then it would force the a GMT value to wrongly show UTC at the end.</p>\n<p>Most of the answers explain how to get UTC value, but not how to print in this format</p>\n<pre><code>2023-01-11 09:25:52 UTC\n</code></pre>\n<p>Some solutions were also suggesting to use something else than SimpleDateFormat.</p>\n<p>This question was marked as duplicated, but none of the post that were supposed to be duplicated had the info that I wanted.</p>\n"},{"tags":["java","hibernate","mappedsuperclass","mappedby"],"answers":[{"comments":[{"owner":{"account_id":27683293,"reputation":1,"user_id":21131586,"display_name":"ghithon"},"score":0,"creation_date":1675333998,"post_id":75321487,"comment_id":132907999,"body_markdown":"At the moment I don&#39;t have DOC table, because I wanted to reuse BASEDOC so @Table(name = &quot;DOC&quot;) is not good for Doc class.","body":"At the moment I don&#39;t have DOC table, because I wanted to reuse BASEDOC so @Table(name = &quot;DOC&quot;) is not good for Doc class."}],"tags":[],"owner":{"account_id":9430282,"reputation":21,"user_id":7014041,"display_name":"Ertan Cakir"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675332307,"creation_date":1675332307,"answer_id":75321487,"question_id":75320604,"body_markdown":"You cant join mappedsuperclass annotated class with entity class. Mappedsuperclases are not an entity \r\n\r\n[Link](https://stackoverflow.com/a/3229797/7014041)\r\n\r\nI think you can change your code like this.\r\n\r\n    @Entity\r\n    @Table(name = &quot;ITEM&quot;)\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    public class Item extends Base {\r\n        @OneToOne(mappedBy = &quot;item&quot;)\r\n        protected Doc doc;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;DOC&quot;)\r\n    public abstract class Doc extends BaseDoc {\r\n        @OneToOne(mappedBy = &quot;doc&quot;)\r\n        private Item item;\r\n    }\r\n    \r\n    @MappedSuperclass\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    public abstract class BaseDoc extends Base {}","title":"Fail to map by MappedSuperclass&#39;s attribute","body":"<p>You cant join mappedsuperclass annotated class with entity class. Mappedsuperclases are not an entity</p>\n<p><a href=\"https://stackoverflow.com/a/3229797/7014041\">Link</a></p>\n<p>I think you can change your code like this.</p>\n<pre><code>@Entity\n@Table(name = &quot;ITEM&quot;)\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class Item extends Base {\n    @OneToOne(mappedBy = &quot;item&quot;)\n    protected Doc doc;\n}\n\n@Entity\n@Table(name = &quot;DOC&quot;)\npublic abstract class Doc extends BaseDoc {\n    @OneToOne(mappedBy = &quot;doc&quot;)\n    private Item item;\n}\n\n@MappedSuperclass\n@Inheritance(strategy = InheritanceType.JOINED)\npublic abstract class BaseDoc extends Base {}\n</code></pre>\n"}],"owner":{"account_id":27683293,"reputation":1,"user_id":21131586,"display_name":"ghithon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675332307,"creation_date":1675327741,"question_id":75320604,"body_markdown":"Entities:\r\n\r\n    @Entity\r\n    @Table(name = &quot;ITEM&quot;)\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    public class Item extends Base {\r\n        @OneToOne(mappedBy = &quot;item&quot;)\r\n    \tprotected Doc doc;\r\n    }\r\n    \r\n    @MappedSuperclass\r\n    public abstract class Doc extends BaseDoc {\r\n\t@OneToOne(cascade = CascadeType.ALL)\r\n    \t@JoinColumn(name = &quot;itemId&quot;)\r\n    \tprivate Item item;\r\n    }\r\n    \r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    public abstract class BaseDoc extends Base {}\r\n\r\nTables:\r\n\r\n    BASEDOC\r\n    - itemId int8\r\n    (other attributes)\r\n    ITEM\r\n    (other attributes)\r\n    BASE\r\n    (other attributes)\r\n\r\nDuring runtime it fails with:\r\n\r\nCaused by: \r\n\r\n    org.hibernate.AnnotationException: Unknown mappedBy in: com.ghiton.updater.entity.Item.doc, referenced property unknown: com.ghiton.updater.entity.Doc.item&quot;}}\r\n\r\nI think the reason is the `MappedSuperclass`, since &#39;item&#39; is stored in the Base table. Is there a practice to solve these type of cases?\r\n\r\nI found that &quot;Mapped superclasses can&#39;t be targets of entity relationships.&quot;, in this case how I can achieve that Doc to be persisted into the BaseDoc table?\r\n\r\nAt DB level it has all the columns what are needed, so not necessary to have a separate DOC table.","title":"Fail to map by MappedSuperclass&#39;s attribute","body":"<p>Entities:</p>\n<pre><code>@Entity\n@Table(name = &quot;ITEM&quot;)\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class Item extends Base {\n    @OneToOne(mappedBy = &quot;item&quot;)\n    protected Doc doc;\n}\n\n@MappedSuperclass\npublic abstract class Doc extends BaseDoc {\n@OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;itemId&quot;)\n    private Item item;\n}\n\n@Entity\n@Inheritance(strategy = InheritanceType.JOINED)\npublic abstract class BaseDoc extends Base {}\n</code></pre>\n<p>Tables:</p>\n<pre><code>BASEDOC\n- itemId int8\n(other attributes)\nITEM\n(other attributes)\nBASE\n(other attributes)\n</code></pre>\n<p>During runtime it fails with:</p>\n<p>Caused by:</p>\n<pre><code>org.hibernate.AnnotationException: Unknown mappedBy in: com.ghiton.updater.entity.Item.doc, referenced property unknown: com.ghiton.updater.entity.Doc.item&quot;}}\n</code></pre>\n<p>I think the reason is the <code>MappedSuperclass</code>, since 'item' is stored in the Base table. Is there a practice to solve these type of cases?</p>\n<p>I found that &quot;Mapped superclasses can't be targets of entity relationships.&quot;, in this case how I can achieve that Doc to be persisted into the BaseDoc table?</p>\n<p>At DB level it has all the columns what are needed, so not necessary to have a separate DOC table.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":4,"creation_date":1675329766,"post_id":75320901,"comment_id":132906626,"body_markdown":"Use a native `delete from &lt;table&gt;` query. that shouldn&#39;t make the java application run into a memory issue. And deleting millions of record shouldn&#39;t take that long. maybe if you get into the billions? just tested with about 5.5m records and a native query took 1 min and 30 seconds","body":"Use a native <code>delete from &lt;table&gt;</code> query. that shouldn&#39;t make the java application run into a memory issue. And deleting millions of record shouldn&#39;t take that long. maybe if you get into the billions? just tested with about 5.5m records and a native query took 1 min and 30 seconds"},{"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"score":0,"creation_date":1675330951,"post_id":75320901,"comment_id":132907019,"body_markdown":"Can you post the stack trace?","body":"Can you post the stack trace?"}],"answers":[{"tags":[],"owner":{"account_id":14892907,"reputation":62,"user_id":10754044,"display_name":"Ankit Yadav"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1675332270,"creation_date":1675332270,"answer_id":75321476,"question_id":75320901,"body_markdown":"Just add repository in your project like this add method:\r\nvoid deleteByIdIn(List&lt;Integer&gt; ids);","title":"How to delete huge amount of records from MySQL using Spring Data JPA?","body":"<p>Just add repository in your project like this add method:\nvoid deleteByIdIn(List ids);</p>\n"}],"owner":{"account_id":14882061,"reputation":105,"user_id":10746400,"display_name":"Alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675332270,"creation_date":1675329232,"question_id":75320901,"body_markdown":"I have a MySQL table that contains millions of records and there is a purpose to delete all this records using Spring Data JPA. But there is a problem with out of memory that occurs during `deleteAll()` method execution. I also tried `deleteAllInBatch()`, but it stacks during the execution after around 30 minutes of deletion.\r\nIs there any option that could resolve such issue?\r\nThanks!","title":"How to delete huge amount of records from MySQL using Spring Data JPA?","body":"<p>I have a MySQL table that contains millions of records and there is a purpose to delete all this records using Spring Data JPA. But there is a problem with out of memory that occurs during <code>deleteAll()</code> method execution. I also tried <code>deleteAllInBatch()</code>, but it stacks during the execution after around 30 minutes of deletion.\nIs there any option that could resolve such issue?\nThanks!</p>\n"},{"tags":["java","pdf-generation","wkhtmltopdf"],"owner":{"account_id":26255669,"reputation":1,"user_id":19927750,"display_name":"MuChen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675332162,"creation_date":1675323913,"question_id":75320020,"body_markdown":"I generate A4 PDF with wkhtmltopdf library; However, I can&#39;t figure out how to generate a two-column A3 PDF (such as the attached math exam paper) via Java.\r\n\r\neg: two-column math exam paper\r\n\r\n![1]\r\n\r\nIf anyone has some suggestions, I would really appreciate it.\r\n\r\nThe way PDFs merge doesn&#39;t work for me. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kxGLs.png","title":"How to generate double column of A3 pdf via Java?","body":"<p>I generate A4 PDF with wkhtmltopdf library; However, I can't figure out how to generate a two-column A3 PDF (such as the attached math exam paper) via Java.</p>\n<p>eg: two-column math exam paper</p>\n<p><img src=\"https://i.stack.imgur.com/kxGLs.png\" alt=\"1\" /></p>\n<p>If anyone has some suggestions, I would really appreciate it.</p>\n<p>The way PDFs merge doesn't work for me.</p>\n"},{"tags":["java","html",".net","windows","cpu-word"],"owner":{"account_id":8120164,"reputation":101,"user_id":6117189,"display_name":"helios"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675332010,"creation_date":1675322470,"question_id":75319829,"body_markdown":"I have encountered a problem, the Word document contains many formula of the Latex forming since the document was converted by HTML, and now I need transform the Latex&#39;s string to the Word format.\r\n\r\nI searched many documents in Microsoft website, but I cannot find a way reaching it. \r\n\r\nFor example, the content is:\r\n```\r\nThe first question:\r\n....\r\nhow to solve $-3-\\left[-5+\\left(1-2\\times \\dfrac{3}{5}\\right)\\div \\left(-2\\right)\\right]$.\r\n```\r\nMy idea:\r\n1. getting special format about the Word by Java/Python/C#\r\n2. getting the Latex&#39;s string in the word by matching of string \r\n3. after handling  writing to a new Word document\r\n\r\nThere are three issues about this idea:\r\n1. I cannot found a way how to convert by program from official document\r\n2. I directly handle the word document, which whether can lead to style of math formula when the document will be written back \r\n\r\nHow can I solve it?","title":"How to convert string of Latex in the Word to formula which is supported by Word","body":"<p>I have encountered a problem, the Word document contains many formula of the Latex forming since the document was converted by HTML, and now I need transform the Latex's string to the Word format.</p>\n<p>I searched many documents in Microsoft website, but I cannot find a way reaching it.</p>\n<p>For example, the content is:</p>\n<pre><code>The first question:\n....\nhow to solve $-3-\\left[-5+\\left(1-2\\times \\dfrac{3}{5}\\right)\\div \\left(-2\\right)\\right]$.\n</code></pre>\n<p>My idea:</p>\n<ol>\n<li>getting special format about the Word by Java/Python/C#</li>\n<li>getting the Latex's string in the word by matching of string</li>\n<li>after handling  writing to a new Word document</li>\n</ol>\n<p>There are three issues about this idea:</p>\n<ol>\n<li>I cannot found a way how to convert by program from official document</li>\n<li>I directly handle the word document, which whether can lead to style of math formula when the document will be written back</li>\n</ol>\n<p>How can I solve it?</p>\n"},{"tags":["java","spring","maven"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675331833,"creation_date":1675295240,"answer_id":75317368,"question_id":75316731,"body_markdown":"Not the same.\r\n\r\nJava system properties are pure Java. They are part of Java. Values can be set from the command line and within code with `System.getProperties.setProperty()`\r\n\r\nMaven properties are in pom.xml with &lt;properties&gt;&lt;property&gt; tag. Maven is a build tool so these properties are used at build time.\r\n\r\nSpring framework properties (application.properties or application.yaml). These properties are read at runtime, mostly during startup.  Standard properties are read by Spring classes, eg spring.data.source.url. They can also be accessed in code with @Value\r\n\r\n\r\nYou can get pom properties into application.properties with the following in the application.properties file: \r\n\r\n    foo.bar=@application.name@\r\n\r\nYou can get application.properties into system properties with the following in a class:\r\n\r\n    @Value(${foo.bar})\r\n    String applicationName;\r\n    \r\n    System.getProperties.setProperty(&quot;application.name&quot;, applicationName)\r\n\r\n\r\n","title":"java system properties vs spring boot application.properties vs maven properties","body":"<p>Not the same.</p>\n<p>Java system properties are pure Java. They are part of Java. Values can be set from the command line and within code with <code>System.getProperties.setProperty()</code></p>\n<p>Maven properties are in pom.xml with &lt;properties&gt;&lt;property&gt; tag. Maven is a build tool so these properties are used at build time.</p>\n<p>Spring framework properties (application.properties or application.yaml). These properties are read at runtime, mostly during startup.  Standard properties are read by Spring classes, eg spring.data.source.url. They can also be accessed in code with @Value</p>\n<p>You can get pom properties into application.properties with the following in the application.properties file:</p>\n<pre><code>foo.bar=@application.name@\n</code></pre>\n<p>You can get application.properties into system properties with the following in a class:</p>\n<pre><code>@Value(${foo.bar})\nString applicationName;\n\nSystem.getProperties.setProperty(&quot;application.name&quot;, applicationName)\n</code></pre>\n"}],"owner":{"account_id":12711139,"reputation":373,"user_id":11697033,"display_name":"whatspoppin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75317368,"answer_count":1,"score":0,"last_activity_date":1675331833,"creation_date":1675289388,"question_id":75316731,"body_markdown":"Java **system properties**, properties defined inside **application.properties** file and properties defined in **pom.xml** file, are they the same ?\r\n\r\n1. What is different between all of these properties ?\r\n\r\n2. Is it possible to reference one through the other (eg, pass system property from pom.xml file ...) \r\n\r\n3. Are they all part of Java or JEE standard ? which one is ?","title":"java system properties vs spring boot application.properties vs maven properties","body":"<p>Java <strong>system properties</strong>, properties defined inside <strong>application.properties</strong> file and properties defined in <strong>pom.xml</strong> file, are they the same ?</p>\n<ol>\n<li><p>What is different between all of these properties ?</p>\n</li>\n<li><p>Is it possible to reference one through the other (eg, pass system property from pom.xml file ...)</p>\n</li>\n<li><p>Are they all part of Java or JEE standard ? which one is ?</p>\n</li>\n</ol>\n"},{"tags":["java","android","blackberry"],"comments":[{"owner":{"account_id":155108,"reputation":1282,"user_id":371534,"accept_rate":50,"display_name":"Adwiv"},"score":0,"creation_date":1412258849,"post_id":26069655,"comment_id":41015356,"body_markdown":"Use some IDE eg eclipse for development. You are trying to store a JSONObject into a string array.","body":"Use some IDE eg eclipse for development. You are trying to store a JSONObject into a string array."}],"answers":[{"comments":[{"owner":{"account_id":201623,"reputation":15910,"user_id":448192,"accept_rate":77,"display_name":"DArkO"},"score":0,"creation_date":1411776403,"post_id":26069717,"comment_id":40846045,"body_markdown":"to make this even stranger i just saw your github page and circleView and the only project listed as one using it is actually an app made by a close friend of mine...","body":"to make this even stranger i just saw your github page and circleView and the only project listed as one using it is actually an app made by a close friend of mine..."},{"owner":{"account_id":1586356,"reputation":2183,"user_id":1470614,"accept_rate":60,"display_name":"Pavlos"},"score":1,"creation_date":1411776555,"post_id":26069717,"comment_id":40846079,"body_markdown":"WOW! (about the Apps using it noone else contacted me for a pull request so i don&#39;t know if there are any others. God the world is too small)","body":"WOW! (about the Apps using it noone else contacted me for a pull request so i don&#39;t know if there are any others. God the world is too small)"}],"tags":[],"owner":{"account_id":201623,"reputation":15910,"user_id":448192,"accept_rate":77,"display_name":"DArkO"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1411774211,"creation_date":1411774211,"answer_id":26069717,"question_id":26069655,"body_markdown":"You typically want to parse this array into a POJO, a model. So the idea would be to get a `List&lt;Comment&gt; list` for example and then you would be able to reverse that list through `Collections.reverse(list)` method.\r\n\r\nHow do you use the data from the JSON array? you still have to iterate it, plus remember the keys and everything. the most typical solution is to parse the JSON data into java objects.","title":"how to reverse the json array after response from webservice?","body":"<p>You typically want to parse this array into a POJO, a model. So the idea would be to get a <code>List&lt;Comment&gt; list</code> for example and then you would be able to reverse that list through <code>Collections.reverse(list)</code> method.</p>\n\n<p>How do you use the data from the JSON array? you still have to iterate it, plus remember the keys and everything. the most typical solution is to parse the JSON data into java objects.</p>\n"},{"comments":[{"owner":{"account_id":1677912,"reputation":645,"user_id":3665790,"accept_rate":57,"display_name":"Pallavi Sharma"},"score":0,"creation_date":1411774587,"post_id":26069726,"comment_id":40845714,"body_markdown":"/retrieve its values value mean ,can I do like this JsonObject js= routeJsonArray.getjsonObject(i)","body":"/retrieve its values value mean ,can I do like this JsonObject js= routeJsonArray.getjsonObject(i)"},{"owner":{"account_id":1586356,"reputation":2183,"user_id":1470614,"accept_rate":60,"display_name":"Pavlos"},"score":0,"creation_date":1411774641,"post_id":26069726,"comment_id":40845721,"body_markdown":"read the comment_id and store it to your comment object and so on for every value of every subelement in your jsonarray","body":"read the comment_id and store it to your comment object and so on for every value of every subelement in your jsonarray"}],"tags":[],"owner":{"account_id":1586356,"reputation":2183,"user_id":1470614,"accept_rate":60,"display_name":"Pavlos"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1411774270,"creation_date":1411774270,"answer_id":26069726,"question_id":26069655,"body_markdown":"My approach would be to create a Java Model representing a comment from your array and then proceed like this. \r\n\r\n\r\n    ArrayList&lt;Comment&gt; mList = new ArrayList&lt;Comment&gt;();\r\n    \r\n    for(int i=0;i&lt;routeJsonArray.length();i++){\r\n        //get the jsonobject based on the position\r\n        //retrieve its values\r\n        //create a new comment object and store it to the mList\r\n    }\r\n    \r\n    Collection.reverse(mList);","title":"how to reverse the json array after response from webservice?","body":"<p>My approach would be to create a Java Model representing a comment from your array and then proceed like this. </p>\n\n<pre><code>ArrayList&lt;Comment&gt; mList = new ArrayList&lt;Comment&gt;();\n\nfor(int i=0;i&lt;routeJsonArray.length();i++){\n    //get the jsonobject based on the position\n    //retrieve its values\n    //create a new comment object and store it to the mList\n}\n\nCollection.reverse(mList);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9745301,"reputation":11,"user_id":7225496,"display_name":"crispus kinyanjui"},"score":0,"creation_date":1480426651,"post_id":40866502,"comment_id":68949888,"body_markdown":"if he wants it in another array then the edit does it","body":"if he wants it in another array then the edit does it"},{"owner":{"account_id":210389,"reputation":4552,"user_id":461982,"display_name":"Abandoned Cart"},"score":0,"creation_date":1575086168,"post_id":40866502,"comment_id":104457040,"body_markdown":"`int i = length - 1; i &gt;= 0; i--`","body":"<code>int i = length - 1; i &gt;= 0; i--</code>"}],"tags":[],"owner":{"account_id":9745301,"reputation":11,"user_id":7225496,"display_name":"crispus kinyanjui"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480426602,"creation_date":1480424229,"answer_id":40866502,"question_id":26069655,"body_markdown":"    JSONArray toReturn = new JSONArray();\r\n        int length = jsonArray.length()-1;\r\n        for(int i =length; i &gt;= length;i--){\r\n            try {\r\n                toReturn.put(jsonArray.getJSONObject(i));\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n                Toast.makeText(this, &quot;Something wrong&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }","title":"how to reverse the json array after response from webservice?","body":"<pre><code>JSONArray toReturn = new JSONArray();\n    int length = jsonArray.length()-1;\n    for(int i =length; i &gt;= length;i--){\n        try {\n            toReturn.put(jsonArray.getJSONObject(i));\n        } catch (JSONException e) {\n            e.printStackTrace();\n            Toast.makeText(this, \"Something wrong\", Toast.LENGTH_SHORT).show();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1677912,"reputation":645,"user_id":3665790,"accept_rate":57,"display_name":"Pallavi Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8554,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1675331806,"creation_date":1411773764,"question_id":26069655,"body_markdown":"I am getting response this \r\n\r\n    {\r\n        &quot;success&quot;: 1,\r\n        &quot;message&quot;: &quot;some message&quot;,\r\n        &quot;data&quot;: [\r\n            {\r\n                &quot;comment_id&quot;: &quot;43906&quot;,\r\n                &quot;comp_id&quot;: &quot;116725&quot;,\r\n                &quot;user_id&quot;: &quot;48322&quot;,\r\n                &quot;agree&quot;: &quot;0&quot;,\r\n                .....\r\n                &quot;replies&quot;: [....]\r\n            },\r\n            {\r\n                &quot;comment_id&quot;: &quot;43905&quot;,\r\n                &quot;comp_id&quot;: &quot;116725&quot;,\r\n                &quot;user_id&quot;: &quot;48248&quot;,\r\n                &quot;agree&quot;: &quot;0&quot;,\r\n                .......\r\n                &quot;replies&quot;: [...]\r\n            }\r\n        ] \r\n    }\r\n\r\nI am to get all response in json array like this \r\n\r\n    JSONObject js =new JSONObject(response);\r\n    routeJsonArray.=js.getJSONArray(&quot;data&quot;);\r\n\r\nBut I need to reverse all object which is inside data array .In other word when I get response and print commant_id &quot;43906&quot;, &quot;43905&quot;,\r\n\r\nBut I need I reverse that objects so that when I print it first give &quot;43905&quot;,&quot;43906&quot;,\r\n\r\nthere is solution to iterate from `i = routeJsonArray.length; i &gt; 0; i--` But i don&#39;t want this.I want to store reverse array in another array ..\r\n\r\nI try like this.\r\n\r\n    String [] routeStationString;\r\n\r\n\tJSONArray localJsonArray = js.getJSONArray(&quot;data&quot;);\r\n\trouteStationString = new String[localJsonArray.length()];\r\n\tint k = 0;\r\n\tfor (int i = localJsonArray.length(); i &gt; 0; i--) {\r\n\t\trouteStationString[k++] = localJsonArray.getJSONObject(i);\r\n\t}\r\n\tSystem.out.println(routeStationString);\r\n\r\nIt gives error.?","title":"how to reverse the json array after response from webservice?","body":"<p>I am getting response this </p>\n\n<pre><code>{\n    \"success\": 1,\n    \"message\": \"some message\",\n    \"data\": [\n        {\n            \"comment_id\": \"43906\",\n            \"comp_id\": \"116725\",\n            \"user_id\": \"48322\",\n            \"agree\": \"0\",\n            .....\n            \"replies\": [....]\n        },\n        {\n            \"comment_id\": \"43905\",\n            \"comp_id\": \"116725\",\n            \"user_id\": \"48248\",\n            \"agree\": \"0\",\n            .......\n            \"replies\": [...]\n        }\n    ] \n}\n</code></pre>\n\n<p>I am to get all response in json array like this </p>\n\n<pre><code>JSONObject js =new JSONObject(response);\nrouteJsonArray.=js.getJSONArray(\"data\");\n</code></pre>\n\n<p>But I need to reverse all object which is inside data array .In other word when I get response and print commant_id \"43906\", \"43905\",</p>\n\n<p>But I need I reverse that objects so that when I print it first give \"43905\",\"43906\",</p>\n\n<p>there is solution to iterate from <code>i = routeJsonArray.length; i &gt; 0; i--</code> But i don't want this.I want to store reverse array in another array ..</p>\n\n<p>I try like this.</p>\n\n<pre><code>String [] routeStationString;\n\nJSONArray localJsonArray = js.getJSONArray(\"data\");\nrouteStationString = new String[localJsonArray.length()];\nint k = 0;\nfor (int i = localJsonArray.length(); i &gt; 0; i--) {\n    routeStationString[k++] = localJsonArray.getJSONObject(i);\n}\nSystem.out.println(routeStationString);\n</code></pre>\n\n<p>It gives error.?</p>\n"},{"tags":["java","spring","spring-boot","spring-hateoas","spring-webflux"],"comments":[{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":4,"creation_date":1504691251,"post_id":46071420,"comment_id":79104551,"body_markdown":"https://stackoverflow.com/questions/45650753/hateoas-on-spring-flux-mono-response","body":"<a href=\"https://stackoverflow.com/questions/45650753/hateoas-on-spring-flux-mono-response\" title=\"hateoas on spring flux mono response\">stackoverflow.com/questions/45650753/&hellip;</a>"},{"owner":{"account_id":3298176,"reputation":7146,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"score":1,"creation_date":1593362191,"post_id":46071420,"comment_id":110747766,"body_markdown":"Does this answer your question? [HATEOAS on Spring Flux/Mono response](https://stackoverflow.com/questions/45650753/hateoas-on-spring-flux-mono-response)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/45650753/hateoas-on-spring-flux-mono-response\">HATEOAS on Spring Flux/Mono response</a>"},{"owner":{"account_id":13823665,"reputation":589,"user_id":9978524,"display_name":"chrgue"},"score":1,"creation_date":1627636423,"post_id":46071420,"comment_id":121214345,"body_markdown":"Here you find the issue for this topic: https://github.com/spring-projects/spring-hateoas/issues/996","body":"Here you find the issue for this topic: <a href=\"https://github.com/spring-projects/spring-hateoas/issues/996\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-hateoas/issues/996</a>"}],"answers":[{"tags":[],"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643657217,"creation_date":1643657217,"answer_id":70931751,"question_id":46071420,"body_markdown":"By definition, you&#39;re creating a custom route and Spring `HATEOAS` is an opinionated set of frameworks meant so you don&#39;t have to lift a finger. What you are trying to do, and what Spring `HATEOAS` is doing are contradictory. So, you will have to manually create the payload if you want embedded hyperlinks. \r\n\r\nAlthough, this shouldn&#39;t be too difficult if you set your owner content handler for your specific return type on that route. ","title":"Using spring HATEOAS with spring webflux Functional Web Framework (reactor-netty)","body":"<p>By definition, you're creating a custom route and Spring <code>HATEOAS</code> is an opinionated set of frameworks meant so you don't have to lift a finger. What you are trying to do, and what Spring <code>HATEOAS</code> is doing are contradictory. So, you will have to manually create the payload if you want embedded hyperlinks.</p>\n<p>Although, this shouldn't be too difficult if you set your owner content handler for your specific return type on that route.</p>\n"},{"comments":[{"owner":{"account_id":27652646,"reputation":1,"user_id":21107189,"display_name":"Flavio Costa"},"score":0,"creation_date":1676427257,"post_id":75280183,"comment_id":133133512,"body_markdown":"By the way, I eventually managed to do it by implementing my own `LinkBuilder` that uses the `ApplicationContext` to retrieve the `RouterFunction`, as it became clear `Spring HATEOAS` really can&#39;t do it out-of-the-box.","body":"By the way, I eventually managed to do it by implementing my own <code>LinkBuilder</code> that uses the <code>ApplicationContext</code> to retrieve the <code>RouterFunction</code>, as it became clear <code>Spring HATEOAS</code> really can&#39;t do it out-of-the-box."}],"tags":[],"owner":{"account_id":27652646,"reputation":1,"user_id":21107189,"display_name":"Flavio Costa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675331596,"creation_date":1675051786,"answer_id":75280183,"question_id":46071420,"body_markdown":"Answer in January 2023: [not yet][1].\r\n\r\n`Spring HATEOAS` was originally built with Spring MVC in mind, so even `WebFluxLinkBuilder` relies on Controller annotations to build the resource links.\r\n\r\nThe `RouterFunction` interface has no methods that expose the underlying `RequestPredicate`, so there is no way to determine which path is associated with a given `RouterFunction`. Some method may be introduced in a future API to provide the needed access to that information out-of-the-box, without having to do something nasty like breaking encapsulation with `Reflection`. In the meantime, you&#39;d probably need to consider centralizing all relevant `RouterFunction` creation (e.g. via a helper/util/custom builder class), so you can intercept all paths and the associated `HandlerFunctions` with some degree of confidence.\r\n\r\nYeah, when you use `RouterFunctions`, unfortunately `Spring HATEOAS` does not help creating the links, and it is challenging to reliably implement this functionality in a generic way based on the current WebFlux functional API.\r\n\r\n  [1]: https://github.com/spring-projects/spring-hateoas/issues/996","title":"Using spring HATEOAS with spring webflux Functional Web Framework (reactor-netty)","body":"<p>Answer in January 2023: <a href=\"https://github.com/spring-projects/spring-hateoas/issues/996\" rel=\"nofollow noreferrer\">not yet</a>.</p>\n<p><code>Spring HATEOAS</code> was originally built with Spring MVC in mind, so even <code>WebFluxLinkBuilder</code> relies on Controller annotations to build the resource links.</p>\n<p>The <code>RouterFunction</code> interface has no methods that expose the underlying <code>RequestPredicate</code>, so there is no way to determine which path is associated with a given <code>RouterFunction</code>. Some method may be introduced in a future API to provide the needed access to that information out-of-the-box, without having to do something nasty like breaking encapsulation with <code>Reflection</code>. In the meantime, you'd probably need to consider centralizing all relevant <code>RouterFunction</code> creation (e.g. via a helper/util/custom builder class), so you can intercept all paths and the associated <code>HandlerFunctions</code> with some degree of confidence.</p>\n<p>Yeah, when you use <code>RouterFunctions</code>, unfortunately <code>Spring HATEOAS</code> does not help creating the links, and it is challenging to reliably implement this functionality in a generic way based on the current WebFlux functional API.</p>\n"}],"owner":{"account_id":8818967,"reputation":751,"user_id":6589470,"display_name":"hba"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2790,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"answer_count":2,"score":63,"last_activity_date":1675331596,"creation_date":1504689786,"question_id":46071420,"body_markdown":"Can we use spring `HATEOAS` on top of `RouterFunction` ? I imagine that we can specify the resource but what will be the equivalent of the `linkto(Controller.class)` ? or is there any equivalent to specify the link and use composition of `RouterFunction`","title":"Using spring HATEOAS with spring webflux Functional Web Framework (reactor-netty)","body":"<p>Can we use spring <code>HATEOAS</code> on top of <code>RouterFunction</code> ? I imagine that we can specify the resource but what will be the equivalent of the <code>linkto(Controller.class)</code> ? or is there any equivalent to specify the link and use composition of <code>RouterFunction</code></p>\n"},{"tags":["java","stripe-payments"],"answers":[{"tags":[],"owner":{"account_id":24416201,"reputation":746,"user_id":18343043,"display_name":"Tarzan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675330906,"creation_date":1675330906,"answer_id":75321188,"question_id":75320946,"body_markdown":"Yes you can filter by price id as shown here https://site-admin.stripe.com/docs/api/subscriptions/list#list_subscriptions-price\r\n\r\n```\r\npublic void getSubscriptions() throws StripeException {\r\n    Stripe.apiKey = KEY;\r\n\r\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n    params[&quot;price&quot;] = &quot;price_ABC123&quot;;\r\n    \r\n    Iterable&lt;Subscription&gt; subscrips = Subscription.list(params).autoPagingIterable();\r\n    \r\n    for(Subscription s : subscrips){\r\n        System.out.println(s);\r\n    }\r\n}\r\n```","title":"Get subscribers to a specific price object in stripe?","body":"<p>Yes you can filter by price id as shown here <a href=\"https://site-admin.stripe.com/docs/api/subscriptions/list#list_subscriptions-price\" rel=\"nofollow noreferrer\">https://site-admin.stripe.com/docs/api/subscriptions/list#list_subscriptions-price</a></p>\n<pre><code>public void getSubscriptions() throws StripeException {\n    Stripe.apiKey = KEY;\n\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n    params[&quot;price&quot;] = &quot;price_ABC123&quot;;\n    \n    Iterable&lt;Subscription&gt; subscrips = Subscription.list(params).autoPagingIterable();\n    \n    for(Subscription s : subscrips){\n        System.out.println(s);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26515305,"reputation":17,"user_id":20149941,"display_name":"Bobb Bi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75321188,"answer_count":1,"score":0,"last_activity_date":1675330906,"creation_date":1675329553,"question_id":75320946,"body_markdown":"I&#39;m trying to retrieve subscribers to a price object. Here&#39;s my approach, which works: \r\n\r\n    public void getSubscriptions() throws StripeException {\r\n        Stripe.apiKey = KEY;\r\n\r\n\r\n        Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n\r\n    Iterable&lt;Subscription&gt; subscrips = Subscription.list(params).autoPagingIterable();\r\n        for(Subscription s : subscrips){\r\n            if((s.getItems().getData().get(0).getPlan().getId()).equals(&quot;price_ABC123&quot;)){\r\n                System.out.println(s);\r\n            }\r\n        }\r\n        //System.out.println(subscriptions);\r\n    }\r\n\r\nThe issue with this code is that its a bit slow. Is there a more efficient way to retrieve this info? \r\nThanks","title":"Get subscribers to a specific price object in stripe?","body":"<p>I'm trying to retrieve subscribers to a price object. Here's my approach, which works:</p>\n<pre><code>public void getSubscriptions() throws StripeException {\n    Stripe.apiKey = KEY;\n\n\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n\nIterable&lt;Subscription&gt; subscrips = Subscription.list(params).autoPagingIterable();\n    for(Subscription s : subscrips){\n        if((s.getItems().getData().get(0).getPlan().getId()).equals(&quot;price_ABC123&quot;)){\n            System.out.println(s);\n        }\n    }\n    //System.out.println(subscriptions);\n}\n</code></pre>\n<p>The issue with this code is that its a bit slow. Is there a more efficient way to retrieve this info?\nThanks</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":1,"creation_date":1675328596,"post_id":75320673,"comment_id":132906308,"body_markdown":"Can you provide more information? And also: Don&#39;t post images of errors..","body":"Can you provide more information? And also: Don&#39;t post images of errors.."},{"owner":{"account_id":5523754,"reputation":19832,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozS "},"score":0,"creation_date":1675329255,"post_id":75320673,"comment_id":132906484,"body_markdown":"Post `GroupAdapter` class, but it looks like it doesn&#39;t allow lambdas as you are passing as second parameter.","body":"Post <code>GroupAdapter</code> class, but it looks like it doesn&#39;t allow lambdas as you are passing as second parameter."},{"owner":{"account_id":20286765,"reputation":1,"user_id":14879273,"display_name":"aurelius"},"score":0,"creation_date":1675330618,"post_id":75320673,"comment_id":132906917,"body_markdown":"required: List&lt;GroupModel&gt;\n  found: ArrayList&lt;GroupModel&gt;,(position)[...])); }\n  reason: actual and formal argument lists differ in length","body":"required: List&lt;GroupModel&gt;   found: ArrayList&lt;GroupModel&gt;,(position)[...])); }   reason: actual and formal argument lists differ in length"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1675331009,"post_id":75320673,"comment_id":132907039,"body_markdown":"Please [edit] your question, don&#39;t add information in the comments.","body":"Please <a href=\"https://stackoverflow.com/posts/75320673/edit\">edit</a> your question, don&#39;t add information in the comments."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1675331228,"post_id":75320673,"comment_id":132907104,"body_markdown":"What is `OnClickItem`?","body":"What is <code>OnClickItem</code>?"},{"owner":{"account_id":4127305,"reputation":549,"user_id":3386085,"display_name":"onzinsky"},"score":0,"creation_date":1675351199,"post_id":75320673,"comment_id":132914268,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675329464,"creation_date":1675329464,"answer_id":75320941,"question_id":75320673,"body_markdown":"The problem is, java needs to figure out what the lambda is actually trying to be, and _only then_ can it know what the type of `position` is. For example, given:\r\n\r\n```\r\nvoid foo(Consumer&lt;String&gt; x) { ... }\r\n```\r\n\r\nIf you then write: `foo(s -&gt; System.out.println(s));` - java knows that the type of `s` is `String` only because of this sequence of events:\r\n\r\n* There is only one `foo` method.\r\n* That method takes a param of type `Consumer&lt;String&gt;`.\r\n* That type is a functional interface (an interface with a single method), and that method&#39;s signature is `void accept(String t)`.\r\n* The lambda is an implementation of that method, therefore, `s` must be `String`.\r\n\r\nAnd only then can java continue to actually understand what the lambda contains.\r\n\r\nYour error is telling you in a somewhat odd way that the compiler is not currently capable of figuring out what the functional interface is that this lambda is implementing. Therefore, it does not know what the type of `position` is, therefore, the call `groupModelList.get(position)` does not work; `int` is required, but the type of `position` is &#39;I do not know yet; I cannot know until I know what functional interface this lambda is trying to implementation and for some reason I can&#39;t know that right now&#39;. Which isn&#39;t `int`, so you get that error.\r\n\r\none trivial fix is to be explicit. Make that `(int position) -&gt; { ... }` instead. This may then lead you to the real error you&#39;re interested in. For example, if you haven&#39;t imported `GroupAdapter`, this would happen.\r\n","title":"&#39;java.util.ArrayList&#39; cannot be applied to &#39;(&lt;lambda parameter&gt;)&#39;","body":"<p>The problem is, java needs to figure out what the lambda is actually trying to be, and <em>only then</em> can it know what the type of <code>position</code> is. For example, given:</p>\n<pre><code>void foo(Consumer&lt;String&gt; x) { ... }\n</code></pre>\n<p>If you then write: <code>foo(s -&gt; System.out.println(s));</code> - java knows that the type of <code>s</code> is <code>String</code> only because of this sequence of events:</p>\n<ul>\n<li>There is only one <code>foo</code> method.</li>\n<li>That method takes a param of type <code>Consumer&lt;String&gt;</code>.</li>\n<li>That type is a functional interface (an interface with a single method), and that method's signature is <code>void accept(String t)</code>.</li>\n<li>The lambda is an implementation of that method, therefore, <code>s</code> must be <code>String</code>.</li>\n</ul>\n<p>And only then can java continue to actually understand what the lambda contains.</p>\n<p>Your error is telling you in a somewhat odd way that the compiler is not currently capable of figuring out what the functional interface is that this lambda is implementing. Therefore, it does not know what the type of <code>position</code> is, therefore, the call <code>groupModelList.get(position)</code> does not work; <code>int</code> is required, but the type of <code>position</code> is 'I do not know yet; I cannot know until I know what functional interface this lambda is trying to implementation and for some reason I can't know that right now'. Which isn't <code>int</code>, so you get that error.</p>\n<p>one trivial fix is to be explicit. Make that <code>(int position) -&gt; { ... }</code> instead. This may then lead you to the real error you're interested in. For example, if you haven't imported <code>GroupAdapter</code>, this would happen.</p>\n"}],"owner":{"account_id":20286765,"reputation":1,"user_id":14879273,"display_name":"aurelius"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1675330770,"creation_date":1675328115,"question_id":75320673,"body_markdown":"How can I fix this problem?\r\n\r\n```\r\nrv_groupAddMember.setAdapter(new GroupAdapter(groupModelList, position -&gt; {\r\n                selectedGroup = groupModelList.get(position);\r\n                addMember_groupName.setText(&quot;Se&#231;ili Grup :&quot;+selectedGroup.getGroupName());\r\n            }));\r\n```\r\n\r\n    public class GroupAdapter extends RecyclerView.Adapter&lt;GroupAdapter.GroupViewHolder&gt;{\r\n    List&lt;GroupModel&gt; groupModelList;\r\n    OnClickItem onClickItem;\r\n\r\n    public GroupAdapter(List&lt;GroupModel&gt; groupModelList, OnClickItem onClickItem) {\r\n        this.groupModelList = groupModelList;\r\n        this.onClickItem = onClickItem;\r\n    }\r\n    \r\n\r\nI added my GroupAdapter class and constructor\r\n[error](https://i.stack.imgur.com/95QMA.jpg)\r\n\r\nI&#39;m watching tutorial everything is the same and there shouldn&#39;t be an error.","title":"&#39;java.util.ArrayList&#39; cannot be applied to &#39;(&lt;lambda parameter&gt;)&#39;","body":"<p>How can I fix this problem?</p>\n<pre><code>rv_groupAddMember.setAdapter(new GroupAdapter(groupModelList, position -&gt; {\n                selectedGroup = groupModelList.get(position);\n                addMember_groupName.setText(&quot;Seili Grup :&quot;+selectedGroup.getGroupName());\n            }));\n</code></pre>\n<pre><code>public class GroupAdapter extends RecyclerView.Adapter&lt;GroupAdapter.GroupViewHolder&gt;{\nList&lt;GroupModel&gt; groupModelList;\nOnClickItem onClickItem;\n\npublic GroupAdapter(List&lt;GroupModel&gt; groupModelList, OnClickItem onClickItem) {\n    this.groupModelList = groupModelList;\n    this.onClickItem = onClickItem;\n}\n</code></pre>\n<p>I added my GroupAdapter class and constructor\n<a href=\"https://i.stack.imgur.com/95QMA.jpg\" rel=\"nofollow noreferrer\">error</a></p>\n<p>I'm watching tutorial everything is the same and there shouldn't be an error.</p>\n"},{"tags":["java","spring","security","authentication","thymeleaf"],"owner":{"account_id":24538913,"reputation":31,"user_id":18449553,"display_name":"xmm_581"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1094,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675347476,"answer_count":0,"score":0,"last_activity_date":1675330733,"creation_date":1647124835,"question_id":71453265,"body_markdown":"I&#39;m trying to display a Thymeleaf page with error message after unsuccessful authentication in my Spring Application:\r\n```\r\n@GetMapping(&quot;/login&quot;)\r\n    public String loginPage(@RequestParam(defaultValue = &quot;false&quot;) boolean error, Model model) {\r\n        if (error) {\r\n            model.addAttribute(&quot;error&quot;,&quot;Wrong credentials&quot;);\r\n        }\r\n        return &quot;auth/login&quot;;\r\n    }\r\n```\r\nBut instead i&#39;m getting redirect to the same page. Debug shows 302 error code. I can add parameter `?error=true` by typing it in address bar and get page with error and code 200. And if i copy-paste link `localhost:8080/api/login?error=true` in other tab, still getting 302 code and so no error.\r\n\r\nCSRF is disabled. My Spring Security config: \r\n```\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable().authorizeRequests()\r\n                .antMatchers(&quot;/auth**&quot;).permitAll()\r\n                .antMatchers(&quot;/api/login&quot;).permitAll()\r\n                .antMatchers(&quot;/api/signup&quot;).permitAll()\r\n                .antMatchers(&quot;/api/login*&quot;).permitAll()\r\n                .antMatchers(&quot;/&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .logout().deleteCookies(&quot;JSESSIONID&quot;)\r\n                .logoutSuccessUrl(&quot;/api/login&quot;)\r\n                .and()\r\n                .formLogin()\r\n                .loginPage(&quot;/api/login&quot;)\r\n                .defaultSuccessUrl(&quot;/&quot;, true)\r\n                .failureUrl(&quot;/api/login/?error=true&quot;);\r\n    }\r\n```\r\nHow i can handle redirect?","title":"Getting a 302 code while handling error in login Spring controller","body":"<p>I'm trying to display a Thymeleaf page with error message after unsuccessful authentication in my Spring Application:</p>\n<pre><code>@GetMapping(&quot;/login&quot;)\n    public String loginPage(@RequestParam(defaultValue = &quot;false&quot;) boolean error, Model model) {\n        if (error) {\n            model.addAttribute(&quot;error&quot;,&quot;Wrong credentials&quot;);\n        }\n        return &quot;auth/login&quot;;\n    }\n</code></pre>\n<p>But instead i'm getting redirect to the same page. Debug shows 302 error code. I can add parameter <code>?error=true</code> by typing it in address bar and get page with error and code 200. And if i copy-paste link <code>localhost:8080/api/login?error=true</code> in other tab, still getting 302 code and so no error.</p>\n<p>CSRF is disabled. My Spring Security config:</p>\n<pre><code>    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable().authorizeRequests()\n                .antMatchers(&quot;/auth**&quot;).permitAll()\n                .antMatchers(&quot;/api/login&quot;).permitAll()\n                .antMatchers(&quot;/api/signup&quot;).permitAll()\n                .antMatchers(&quot;/api/login*&quot;).permitAll()\n                .antMatchers(&quot;/&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .logout().deleteCookies(&quot;JSESSIONID&quot;)\n                .logoutSuccessUrl(&quot;/api/login&quot;)\n                .and()\n                .formLogin()\n                .loginPage(&quot;/api/login&quot;)\n                .defaultSuccessUrl(&quot;/&quot;, true)\n                .failureUrl(&quot;/api/login/?error=true&quot;);\n    }\n</code></pre>\n<p>How i can handle redirect?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-data-jpa"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1675329671,"post_id":75320943,"comment_id":132906603,"body_markdown":"why would you even store a password? never store a password, always only a hashed value. If this way doesn&#39;t do as you want, you could always use projections, I guess: check this answer. I think it suits your needs. https://stackoverflow.com/questions/22007341/spring-jpa-selecting-specific-columns","body":"why would you even store a password? never store a password, always only a hashed value. If this way doesn&#39;t do as you want, you could always use projections, I guess: check this answer. I think it suits your needs. <a href=\"https://stackoverflow.com/questions/22007341/spring-jpa-selecting-specific-columns\" title=\"spring jpa selecting specific columns\">stackoverflow.com/questions/22007341/&hellip;</a>"},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":1,"creation_date":1675329829,"post_id":75320943,"comment_id":132906647,"body_markdown":"Additionally, use DTO&#39;s as return values instead of the entity itself. If you don&#39;t want to do that, just set the password to a null value, before returning it.","body":"Additionally, use DTO&#39;s as return values instead of the entity itself. If you don&#39;t want to do that, just set the password to a null value, before returning it."},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":1,"creation_date":1675329935,"post_id":75320943,"comment_id":132906688,"body_markdown":"Additionally to the additionally :D - Instead of wrapping the result of `userRepo.getUserByUsername(...)` in an Optional, just adjust the return type of the interface: `Optional&lt;User&gt; findUserByUsername(String username);`.","body":"Additionally to the additionally :D - Instead of wrapping the result of <code>userRepo.getUserByUsername(...)</code> in an Optional, just adjust the return type of the interface: <code>Optional&lt;User&gt; findUserByUsername(String username);</code>."},{"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"score":0,"creation_date":1675330352,"post_id":75320943,"comment_id":132906833,"body_markdown":"@Stultuske Storing the hashed password is exactly what OP (Spring Security) is doing...","body":"@Stultuske Storing the hashed password is exactly what OP (Spring Security) is doing..."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1675330869,"post_id":75320943,"comment_id":132906989,"body_markdown":"@rolve in which case the password isn&#39;t returned","body":"@rolve in which case the password isn&#39;t returned"},{"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"score":1,"creation_date":1675332388,"post_id":75320943,"comment_id":132907473,"body_markdown":"@Stultuske True, but irrelevant. OP asked how to stop sending &quot;the password information&quot;, which includes the password hash. A sensible thing to do anyway, even though the hash should in theory be safe to expose.","body":"@Stultuske True, but irrelevant. OP asked how to stop sending &quot;the password information&quot;, which includes the password hash. A sensible thing to do anyway, even though the hash should in theory be safe to expose."}],"answers":[{"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675330257,"creation_date":1675330051,"answer_id":75321039,"question_id":75320943,"body_markdown":"It seems you are talking about a REST controller that returns JSON. With the default configuration, Spring Boot uses [Jackson][1] to transform objects to JSON. The most simple fix would be to tell Jackson to [ignore][2] the `password` field in your `User` class:\r\n\r\n```\r\npublic class User {\r\n    ...\r\n    @JsonIgnore\r\n    private String password;\r\n    ...\r\n}\r\n```\r\n\r\n\r\nSee [this article][3] for more information.\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind\r\n  [2]: https://fasterxml.github.io/jackson-annotations/javadoc/2.5/com/fasterxml/jackson/annotation/JsonIgnore.html\r\n  [3]: https://www.baeldung.com/jackson-ignore-properties-on-serialization#for_field","title":"How to retrieve all user information except passwords","body":"<p>It seems you are talking about a REST controller that returns JSON. With the default configuration, Spring Boot uses <a href=\"https://github.com/FasterXML/jackson-databind\" rel=\"nofollow noreferrer\">Jackson</a> to transform objects to JSON. The most simple fix would be to tell Jackson to <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.5/com/fasterxml/jackson/annotation/JsonIgnore.html\" rel=\"nofollow noreferrer\">ignore</a> the <code>password</code> field in your <code>User</code> class:</p>\n<pre><code>public class User {\n    ...\n    @JsonIgnore\n    private String password;\n    ...\n}\n</code></pre>\n<p>See <a href=\"https://www.baeldung.com/jackson-ignore-properties-on-serialization#for_field\" rel=\"nofollow noreferrer\">this article</a> for more information.</p>\n"}],"owner":{"account_id":2405770,"reputation":1942,"user_id":2102292,"accept_rate":69,"display_name":"Cheknov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75321039,"answer_count":1,"score":1,"last_activity_date":1675330563,"creation_date":1675329508,"question_id":75320943,"body_markdown":"I implemented a basic JPA authentication following [this tutorial][1].\r\n\r\nI wanted to create an endpoint ``/mydetails`` to display user information (profile info).\r\n\r\nWhat I&#39;ve tried:\r\n\r\n\t@GetMapping(&quot;/mydetails&quot;)\r\n\tpublic Optional&lt;User&gt; getUser(HttpServletRequest request) {\r\n\t    Optional&lt;User&gt; foundUser = Optional.ofNullable(userRepo.getUserByUsername(request.getUserPrincipal().getName()));\r\n\t    return foundUser;\r\n\t}\r\n\r\nOutcome:\r\n\r\n    {\r\n      &quot;id&quot;:1,\r\n      &quot;username&quot;:&quot;name.surname@companyname.com&quot;,\r\n      &quot;password&quot;:&quot;$2a$10$7YzUO6scaC06LV6IgOsSXetFm4/U0WM.UZykhRfQcJBzKacyZFMK&quot;,\r\n      &quot;first_name&quot;:&quot;John&quot;,\r\n      &quot;last_name&quot;:&quot;Walker&quot;,\r\n      &quot;organization_name&quot;:&quot;ABC&quot;,\r\n      &quot;role&quot;:&quot;Admin&quot;,\r\n      &quot;credibility_rating&quot;:&quot;100&quot;\r\n    }\r\n\r\nThe problem is that this literally takes out all the information and I want everything except the password.\r\n\r\nHow could I stop the response from sending the password information?\r\n\r\nI am totally new to Spring and have not used Java for many years.\r\n\r\nAny insight would be highly appreciated.\r\n\r\n  [1]: https://www.codejava.net/frameworks/spring-boot/spring-boot-security-authentication-with-jpa-hibernate-and-mysql","title":"How to retrieve all user information except passwords","body":"<p>I implemented a basic JPA authentication following <a href=\"https://www.codejava.net/frameworks/spring-boot/spring-boot-security-authentication-with-jpa-hibernate-and-mysql\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n<p>I wanted to create an endpoint <code>/mydetails</code> to display user information (profile info).</p>\n<p>What I've tried:</p>\n<pre><code>@GetMapping(&quot;/mydetails&quot;)\npublic Optional&lt;User&gt; getUser(HttpServletRequest request) {\n    Optional&lt;User&gt; foundUser = Optional.ofNullable(userRepo.getUserByUsername(request.getUserPrincipal().getName()));\n    return foundUser;\n}\n</code></pre>\n<p>Outcome:</p>\n<pre><code>{\n  &quot;id&quot;:1,\n  &quot;username&quot;:&quot;name.surname@companyname.com&quot;,\n  &quot;password&quot;:&quot;$2a$10$7YzUO6scaC06LV6IgOsSXetFm4/U0WM.UZykhRfQcJBzKacyZFMK&quot;,\n  &quot;first_name&quot;:&quot;John&quot;,\n  &quot;last_name&quot;:&quot;Walker&quot;,\n  &quot;organization_name&quot;:&quot;ABC&quot;,\n  &quot;role&quot;:&quot;Admin&quot;,\n  &quot;credibility_rating&quot;:&quot;100&quot;\n}\n</code></pre>\n<p>The problem is that this literally takes out all the information and I want everything except the password.</p>\n<p>How could I stop the response from sending the password information?</p>\n<p>I am totally new to Spring and have not used Java for many years.</p>\n<p>Any insight would be highly appreciated.</p>\n"},{"tags":["java","collections","hashmap"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1675333554,"post_id":75320951,"comment_id":132907870,"body_markdown":"There&#39;s no guarantee about the iteration order of `HashMap` at all. That means you can&#39;t depend on two HashMaps that took the exact same operations on the same objects in the same JVM instance to produce the same iteration order. As a matter of implementation, I think that this *can* (and probably will) happen, but since it&#39;s not part of the spec that fact can easily change with the next JVM release. If you need *any guarantee* at all about traversal order then use something like `LinkedHashMap`.","body":"There&#39;s no guarantee about the iteration order of <code>HashMap</code> at all. That means you can&#39;t depend on two HashMaps that took the exact same operations on the same objects in the same JVM instance to produce the same iteration order. As a matter of implementation, I think that this <i>can</i> (and probably will) happen, but since it&#39;s not part of the spec that fact can easily change with the next JVM release. If you need <i>any guarantee</i> at all about traversal order then use something like <code>LinkedHashMap</code>."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675333623,"post_id":75320951,"comment_id":132907884,"body_markdown":"This is not answerable without a clear specification for &quot;put and remove them for any number of times in the same order&quot;","body":"This is not answerable without a clear specification for &quot;put and remove them for any number of times in the same order&quot;"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675344966,"post_id":75320951,"comment_id":132911796,"body_markdown":"It might be interesting for you that a randomization did already exist in an earlier version. As [JDK-8006593](https://bugs.openjdk.org/browse/JDK-8006593) indicates, it has been removed due to performance considerations, not because it was contradicting the specification. So, randomization may come back at any time, if the implementors have a reason.","body":"It might be interesting for you that a randomization did already exist in an earlier version. As <a href=\"https://bugs.openjdk.org/browse/JDK-8006593\" rel=\"nofollow noreferrer\">JDK-8006593</a> indicates, it has been removed due to performance considerations, not because it was contradicting the specification. So, randomization may come back at any time, if the implementors have a reason."},{"owner":{"account_id":27683510,"reputation":1,"user_id":21131757,"display_name":"wcj"},"score":0,"creation_date":1675351347,"post_id":75320951,"comment_id":132914327,"body_markdown":"@Holger\nThis is really a little relevantbut what the early randomization affected","body":"@Holger This is really a little relevantbut what the early randomization affected"},{"owner":{"account_id":27683510,"reputation":1,"user_id":21131757,"display_name":"wcj"},"score":0,"creation_date":1675351622,"post_id":75320951,"comment_id":132914448,"body_markdown":"@Stephen C\nsorry for my weak English.\nFor example, insert and delete the same key-value pairs from two maps in the same order, and finally traverse the two maps","body":"@Stephen C sorry for my weak English. For example, insert and delete the same key-value pairs from two maps in the same order, and finally traverse the two maps"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675351864,"post_id":75320951,"comment_id":132914554,"body_markdown":"What are the exact types of the keys?","body":"What are the exact types of the keys?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675352099,"post_id":75320951,"comment_id":132914642,"body_markdown":"@wjc - Look at the Java 7u source repo mirror on Github and track exactly what changes were made to the `HashMap` source code in 7u40.  That is when the issue tracker says that the randomization was removed.","body":"@wjc - Look at the Java 7u source repo mirror on Github and track exactly what changes were made to the <code>HashMap</code> source code in 7u40.  That is when the issue tracker says that the randomization was removed."},{"owner":{"account_id":27683510,"reputation":1,"user_id":21131757,"display_name":"wcj"},"score":0,"creation_date":1675352186,"post_id":75320951,"comment_id":132914671,"body_markdown":"@StephenC\nDoes the type of key affect this? Take String and Integer for example","body":"@StephenC Does the type of key affect this? Take String and Integer for example"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1675378702,"post_id":75320951,"comment_id":132922288,"body_markdown":"Well yes ... but take an object which has an identity hashcode for a counter example.  In that case the ordering will depend on the *actual* identity hashcodes  ... and we need a clear understanding of what the OP *actually* means by &quot;the same&quot;.  But either way, the *precedent* of the randomization feature noted by Holger means that the answer to the OPs question is Java version specific ... and you can&#39;t rely on it not changing ... again.","body":"Well yes ... but take an object which has an identity hashcode for a counter example.  In that case the ordering will depend on the <i>actual</i> identity hashcodes  ... and we need a clear understanding of what the OP <i>actually</i> means by &quot;the same&quot;.  But either way, the <i>precedent</i> of the randomization feature noted by Holger means that the answer to the OPs question is Java version specific ... and you can&#39;t rely on it not changing ... again."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":2,"creation_date":1675383860,"post_id":75320951,"comment_id":132923216,"body_markdown":"There is no *guarantee* but results are often repeatable. They&#39;re repeatable often enough that people inadvertently depend on the ordering, as if it were guaranteed, until a change in ordering causes a bug. For example, HashMaps of different initial capacities might result in differing iteration orders even when the same mappings are added in the same order.","body":"There is no <i>guarantee</i> but results are often repeatable. They&#39;re repeatable often enough that people inadvertently depend on the ordering, as if it were guaranteed, until a change in ordering causes a bug. For example, HashMaps of different initial capacities might result in differing iteration orders even when the same mappings are added in the same order."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":2,"creation_date":1675383966,"post_id":75320951,"comment_id":132923228,"body_markdown":"Randomization of iteration order is useful for preventing code from inadvertently depending on the iteration order. The maps produced by `Map.of` and `Map.copyOf` have randomized iteration order. We probably won&#39;t add randomization of HashMap itself because it would probably break too much code.","body":"Randomization of iteration order is useful for preventing code from inadvertently depending on the iteration order. The maps produced by <code>Map.of</code> and <code>Map.copyOf</code> have randomized iteration order. We probably won&#39;t add randomization of HashMap itself because it would probably break too much code."}],"owner":{"account_id":27683510,"reputation":1,"user_id":21131757,"display_name":"wcj"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675329756,"answer_count":0,"score":0,"last_activity_date":1675330552,"creation_date":1675329573,"question_id":75320951,"body_markdown":"There are two hashmaps. Put and remove them for any number of times in the same order. Finally, foreach the hashmap. Are the output results of the two hashmaps consistent\r\n\r\nI think it should be consistent, but I can&#39;t find any data to clearly prove it","title":"Is the hashmap traversal order certainI&#39;m not talking about order, I&#39;m talking about stability","body":"<p>There are two hashmaps. Put and remove them for any number of times in the same order. Finally, foreach the hashmap. Are the output results of the two hashmaps consistent</p>\n<p>I think it should be consistent, but I can't find any data to clearly prove it</p>\n"},{"tags":["java","android","encryption","rsa"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":1,"creation_date":1624430581,"post_id":68093610,"comment_id":120353469,"body_markdown":"Did you ever try to debug = print out the value given by keyFactory.getAlgorithm? On my machine it&#39;s &quot;RSA&quot; and that&#39;s not the same algorithm as &quot;RSA/ECB/PKCS1Padding&quot;. Always use a full qualifier to the algorithm you are using.","body":"Did you ever try to debug = print out the value given by keyFactory.getAlgorithm? On my machine it&#39;s &quot;RSA&quot; and that&#39;s not the same algorithm as &quot;RSA/ECB/PKCS1Padding&quot;. Always use a full qualifier to the algorithm you are using."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1624437842,"post_id":68093610,"comment_id":120356391,"body_markdown":"Your question title should be amended, as `keyFactory.getAlgorithm()` doesn&#39;t seem to implement PKCS#1 padding, and that&#39;s what you&#39;re having problems with.","body":"Your question title should be amended, as <code>keyFactory.getAlgorithm()</code> doesn&#39;t seem to implement PKCS#1 padding, and that&#39;s what you&#39;re having problems with."}],"answers":[{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1624453287,"post_id":68096448,"comment_id":120363032,"body_markdown":"you could edit the result of `System.out.println(getProvider())` in the question together with your runtime environment - Android API level and such, in the hope that somebody knows or can find out the defaults...","body":"you could edit the result of <code>System.out.println(getProvider())</code> in the question together with your runtime environment - Android API level and such, in the hope that somebody knows or can find out the defaults..."},{"owner":{"account_id":11854284,"reputation":222,"user_id":8674660,"display_name":"UweD"},"score":0,"creation_date":1624459183,"post_id":68096448,"comment_id":120365885,"body_markdown":"Does Swift have the same issues where one should specify the provider instead of taking the default?","body":"Does Swift have the same issues where one should specify the provider instead of taking the default?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1624460550,"post_id":68096448,"comment_id":120366636,"body_markdown":"It doesn&#39;t seem so, as the Apple API requires [explicit identifiers](https://developer.apple.com/documentation/security/seckeyalgorithm) for each. Before the fanboys cry &quot;victory&quot;: this is Apple, so they don&#39;t really specify what protocol e.g. `rsaEncryptionOAEPSHA1AESGCM` follows, so their API is not a good example of a generic crypto library. That basically means that they are compatible with Apple only (gosh)...","body":"It doesn&#39;t seem so, as the Apple API requires <a href=\"https://developer.apple.com/documentation/security/seckeyalgorithm\" rel=\"nofollow noreferrer\">explicit identifiers</a> for each. Before the fanboys cry &quot;victory&quot;: this is Apple, so they don&#39;t really specify what protocol e.g. <code>rsaEncryptionOAEPSHA1AESGCM</code> follows, so their API is not a good example of a generic crypto library. That basically means that they are compatible with Apple only (gosh)..."}],"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1624453224,"creation_date":1624437755,"answer_id":68096448,"question_id":68093610,"body_markdown":"RSA key pairs can be used within different RSA based schemes, such as PKCS#1 and OAEP padding for encryption, and PKCS#1 and PSS padding for signing. However, there is only one key pair generation possible, which is simply denoted `&quot;RSA&quot;`.\r\n\r\nIf only `&quot;RSA&quot;` is used as input string it will use the defaults set for the specific cryptography provider, which is - in this case - the first provider that implements RSA using keys in software. Apparently that&#39;s different on Android from PKCS#1 padding (assuming that you still use the original list of providers, of course). One stupid thing in Java is that you cannot programmatically find out which defaults *are* used; `getAlgorithm()` ususally just returns the string you&#39;ve provided earlier. The only thing you can do is to get the provider using `getProvider()` and then lookup the defaults...\r\n\r\nI would never go for any defaults (except for `SecureRandom` defaults) as it is unspecified which defaults will be used for Java. Always specify the algorithm in full; your earlier string was fine. ","title":"how to use (RSA/ECB/PKCS1Padding) in android","body":"<p>RSA key pairs can be used within different RSA based schemes, such as PKCS#1 and OAEP padding for encryption, and PKCS#1 and PSS padding for signing. However, there is only one key pair generation possible, which is simply denoted <code>&quot;RSA&quot;</code>.</p>\n<p>If only <code>&quot;RSA&quot;</code> is used as input string it will use the defaults set for the specific cryptography provider, which is - in this case - the first provider that implements RSA using keys in software. Apparently that's different on Android from PKCS#1 padding (assuming that you still use the original list of providers, of course). One stupid thing in Java is that you cannot programmatically find out which defaults <em>are</em> used; <code>getAlgorithm()</code> ususally just returns the string you've provided earlier. The only thing you can do is to get the provider using <code>getProvider()</code> and then lookup the defaults...</p>\n<p>I would never go for any defaults (except for <code>SecureRandom</code> defaults) as it is unspecified which defaults will be used for Java. Always specify the algorithm in full; your earlier string was fine.</p>\n"},{"tags":[],"owner":{"account_id":6819056,"reputation":69,"user_id":5246756,"display_name":"Aleksandr K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675330282,"creation_date":1675330282,"answer_id":75321081,"question_id":68093610,"body_markdown":"My function \r\n\r\n     private fun getEncryptCodeWord(publicKey:String, codeWord:String):String{\r\n            try{\r\n                val publicBytes = Base64.decode(publicKey, Base64.NO_WRAP)\r\n                val keySpec = X509EncodedKeySpec(publicBytes)\r\n                val keyFactory = KeyFactory.getInstance(&quot;RSA&quot;)\r\n                val pubKey = keyFactory.generatePublic(keySpec)\r\n                val encryptCodeWord = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;)\r\n                    .apply { init(Cipher.ENCRYPT_MODE, pubKey) }\r\n                    .doFinal(codeWord.toByteArray())\r\n                return Base64.encodeToString(encryptCodeWord, Base64.NO_WRAP)\r\n            }\r\n            catch (ex:Exception){\r\n                Crash.recordException(ex)\r\n                Crash.setKey(&quot;error_get_encrypt_code_word&quot;,ex.message)\r\n            }\r\n            return codeWord\r\n        }\r\n\r\nand for RSA/ECB/OAEPWithSHA-256AndMGF1Padding\r\n\r\n    private fun getEncryptCodeWord(publicKey:String,codeWord:String):String{\r\n        try{\r\n            val publicBytes = Base64.decode(publicKey, Base64.NO_WRAP)\r\n            val keySpec = X509EncodedKeySpec(publicBytes)\r\n            val keyFactory = KeyFactory.getInstance(&quot;RSA&quot;)\r\n            val pubKey = keyFactory.generatePublic(keySpec)\r\n            val sp = OAEPParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, MGF1ParameterSpec(&quot;SHA-1&quot;), PSource.PSpecified.DEFAULT)\r\n            val encrypt = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA-256AndMGF1Padding&quot;)\r\n            encrypt.init(Cipher.ENCRYPT_MODE, pubKey, sp)\r\n            val encryptCodeWord = encrypt.doFinal(codeWord.toByteArray())\r\n            return Base64.encodeToString(encryptCodeWord, Base64.NO_WRAP)\r\n        }\r\n        catch (ex:Exception){\r\n            Crash.recordException(ex)\r\n            Crash.setKey(&quot;error_get_encrypt_code_word&quot;,ex.message)\r\n        }\r\n        return codeWord\r\n    }","title":"how to use (RSA/ECB/PKCS1Padding) in android","body":"<p>My function</p>\n<pre><code> private fun getEncryptCodeWord(publicKey:String, codeWord:String):String{\n        try{\n            val publicBytes = Base64.decode(publicKey, Base64.NO_WRAP)\n            val keySpec = X509EncodedKeySpec(publicBytes)\n            val keyFactory = KeyFactory.getInstance(&quot;RSA&quot;)\n            val pubKey = keyFactory.generatePublic(keySpec)\n            val encryptCodeWord = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;)\n                .apply { init(Cipher.ENCRYPT_MODE, pubKey) }\n                .doFinal(codeWord.toByteArray())\n            return Base64.encodeToString(encryptCodeWord, Base64.NO_WRAP)\n        }\n        catch (ex:Exception){\n            Crash.recordException(ex)\n            Crash.setKey(&quot;error_get_encrypt_code_word&quot;,ex.message)\n        }\n        return codeWord\n    }\n</code></pre>\n<p>and for RSA/ECB/OAEPWithSHA-256AndMGF1Padding</p>\n<pre><code>private fun getEncryptCodeWord(publicKey:String,codeWord:String):String{\n    try{\n        val publicBytes = Base64.decode(publicKey, Base64.NO_WRAP)\n        val keySpec = X509EncodedKeySpec(publicBytes)\n        val keyFactory = KeyFactory.getInstance(&quot;RSA&quot;)\n        val pubKey = keyFactory.generatePublic(keySpec)\n        val sp = OAEPParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, MGF1ParameterSpec(&quot;SHA-1&quot;), PSource.PSpecified.DEFAULT)\n        val encrypt = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA-256AndMGF1Padding&quot;)\n        encrypt.init(Cipher.ENCRYPT_MODE, pubKey, sp)\n        val encryptCodeWord = encrypt.doFinal(codeWord.toByteArray())\n        return Base64.encodeToString(encryptCodeWord, Base64.NO_WRAP)\n    }\n    catch (ex:Exception){\n        Crash.recordException(ex)\n        Crash.setKey(&quot;error_get_encrypt_code_word&quot;,ex.message)\n    }\n    return codeWord\n}\n</code></pre>\n"}],"owner":{"account_id":16448361,"reputation":43,"user_id":11882423,"display_name":"mohammad1408"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3275,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":68096448,"answer_count":2,"score":1,"last_activity_date":1675330282,"creation_date":1624423266,"question_id":68093610,"body_markdown":"About a year ago, I wrote an application for Android and used a class in it RSA In this class, there was the following code snippet and the application worked\r\n```\r\nCipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;)\r\n```\r\nBut when I re-entered the application code, I did not open the new encrypted information to change the private key until I changed the above code line to the following code line.\r\n```\r\nCipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\r\n```\r\nThe problem is that if I replace the above code snippet in class RSA it is no longer possible to open previously encrypted information (with the same keys as before).\r\nAnd I see the following error\r\n```\r\njavax.crypto.BadPaddingException: error:04000084:RSA routines:OPENSSL_internal:PKCS_DECODING_ERROR\r\n```\r\n\r\nRSA decryption\r\n```\r\npublic static byte[] decryptByPrivateKey(byte[] data, String key)\r\n            throws Exception {\r\n\r\n        byte[] keyBytes = decryptBASE64(key);\r\n\r\n\r\n        PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(keyBytes);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\r\n        Key privateKey = keyFactory.generatePrivate(pkcs8KeySpec);\r\n\r\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\r\n        \r\n        // Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\r\n\r\n\r\n        cipher.init(Cipher.DECRYPT_MODE, privateKey);\r\n\r\n        return cipher.doFinal(data);\r\n    }\r\n```","title":"how to use (RSA/ECB/PKCS1Padding) in android","body":"<p>About a year ago, I wrote an application for Android and used a class in it RSA In this class, there was the following code snippet and the application worked</p>\n<pre><code>Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;)\n</code></pre>\n<p>But when I re-entered the application code, I did not open the new encrypted information to change the private key until I changed the above code line to the following code line.</p>\n<pre><code>Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\n</code></pre>\n<p>The problem is that if I replace the above code snippet in class RSA it is no longer possible to open previously encrypted information (with the same keys as before).\nAnd I see the following error</p>\n<pre><code>javax.crypto.BadPaddingException: error:04000084:RSA routines:OPENSSL_internal:PKCS_DECODING_ERROR\n</code></pre>\n<p>RSA decryption</p>\n<pre><code>public static byte[] decryptByPrivateKey(byte[] data, String key)\n            throws Exception {\n\n        byte[] keyBytes = decryptBASE64(key);\n\n\n        PKCS8EncodedKeySpec pkcs8KeySpec = new PKCS8EncodedKeySpec(keyBytes);\n        KeyFactory keyFactory = KeyFactory.getInstance(KEY_ALGORITHM);\n        Key privateKey = keyFactory.generatePrivate(pkcs8KeySpec);\n\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\n        \n        // Cipher cipher = Cipher.getInstance(keyFactory.getAlgorithm());\n\n\n        cipher.init(Cipher.DECRYPT_MODE, privateKey);\n\n        return cipher.doFinal(data);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1674433750,"post_id":75204848,"comment_id":132707559,"body_markdown":"doing from here create a correct json, as when I put json see values in the student object","body":"doing from here create a correct json, as when I put json see values in the student object"},{"owner":{"account_id":1313342,"reputation":765,"user_id":1260847,"accept_rate":56,"display_name":"Loner shushman"},"score":0,"creation_date":1674433992,"post_id":75204848,"comment_id":132707585,"body_markdown":"sorry K.Nicholas I dont understand your comment, I am not sure how to create a correct json,","body":"sorry K.Nicholas I dont understand your comment, I am not sure how to create a correct json,"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1674437634,"post_id":75204848,"comment_id":132707936,"body_markdown":"If you cannot modify the controller method, then no, you cannot do this.  At a minimum, you would need to annotate Student also with @RequestBody, but you&#39;d have to write a custom deserializer even to pull this off.  Ideally, your method would contain a single RequestBody, perhaps a DTO that contains both the teacher and student.  Given the way your model looks, there&#39;s no way to associate a teacher with a student.  I would push back on the &quot;I can&#39;t change this&quot;, part.","body":"If you cannot modify the controller method, then no, you cannot do this.  At a minimum, you would need to annotate Student also with @RequestBody, but you&#39;d have to write a custom deserializer even to pull this off.  Ideally, your method would contain a single RequestBody, perhaps a DTO that contains both the teacher and student.  Given the way your model looks, there&#39;s no way to associate a teacher with a student.  I would push back on the &quot;I can&#39;t change this&quot;, part."},{"owner":{"account_id":1313342,"reputation":765,"user_id":1260847,"accept_rate":56,"display_name":"Loner shushman"},"score":0,"creation_date":1674437914,"post_id":75204848,"comment_id":132707958,"body_markdown":"I have an existing code which works at the moment, and I am simply trying to send a JSON request, hence I said I can not not change. as this is how it is currently set up","body":"I have an existing code which works at the moment, and I am simply trying to send a JSON request, hence I said I can not not change. as this is how it is currently set up"},{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1674456967,"post_id":75204848,"comment_id":132709878,"body_markdown":"Try to add Student&#39;s fields as query parameters. So: id and nameStudent should be in query parameters instead of request body.","body":"Try to add Student&#39;s fields as query parameters. So: id and nameStudent should be in query parameters instead of request body."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674487272,"creation_date":1674487272,"answer_id":75211536,"question_id":75204848,"body_markdown":"An HTTP POST can only have ONE body. As commenters have indicated, but I will spell out to provide clarity, you have the following two options:\r\n\r\nCreate a class which combines Student &amp; Teacher and use that as the request body:\r\n\r\n    class Payload {\r\n        Student student;\r\n        Teacher teacher;\r\n    }\r\n\r\n    @PostMapping(&quot;/endpoint&quot;)\r\n    void  myMethod(@RequestBody Payload payload) {\r\n        Student student = payload.student;\r\n        Teacher teacher = payload.teacher;\r\n\r\nJSON payload for Postman:\r\n\r\n    {\r\n        &quot;student&quot;: {\r\n            &quot;id&quot;: &quot;abc&quot;,\r\n            &quot;name&quot;: &quot;A Student name&quot;\r\n        },\r\n        &quot;teacher&quot;: {\r\n            &quot;id&quot;: &quot;def&quot;,\r\n            &quot;name&quot;: &quot;A Teacher name&quot;\r\n        }\r\n    }\r\n\r\nThe other option is to pass though the Student attributes as query parameters:\r\n\r\n    @PostMapping(&quot;/endpoint&quot;)\r\n    void  myMethod(@RequestParam studentId, @RequestParam studentName, @RequestBody Teacher teacher) {\r\n        Student student = new Student(studentId, studentName);\r\n\r\nAnd the `studentId` &amp; `studentName` must be submitted as parameters from Postman. \r\n\r\n\r\n\r\n\r\n","title":"Can I post multiple objects to a REST service but only one as @RequestParams and how to call it from PostMan","body":"<p>An HTTP POST can only have ONE body. As commenters have indicated, but I will spell out to provide clarity, you have the following two options:</p>\n<p>Create a class which combines Student &amp; Teacher and use that as the request body:</p>\n<pre><code>class Payload {\n    Student student;\n    Teacher teacher;\n}\n\n@PostMapping(&quot;/endpoint&quot;)\nvoid  myMethod(@RequestBody Payload payload) {\n    Student student = payload.student;\n    Teacher teacher = payload.teacher;\n</code></pre>\n<p>JSON payload for Postman:</p>\n<pre><code>{\n    &quot;student&quot;: {\n        &quot;id&quot;: &quot;abc&quot;,\n        &quot;name&quot;: &quot;A Student name&quot;\n    },\n    &quot;teacher&quot;: {\n        &quot;id&quot;: &quot;def&quot;,\n        &quot;name&quot;: &quot;A Teacher name&quot;\n    }\n}\n</code></pre>\n<p>The other option is to pass though the Student attributes as query parameters:</p>\n<pre><code>@PostMapping(&quot;/endpoint&quot;)\nvoid  myMethod(@RequestParam studentId, @RequestParam studentName, @RequestBody Teacher teacher) {\n    Student student = new Student(studentId, studentName);\n</code></pre>\n<p>And the <code>studentId</code> &amp; <code>studentName</code> must be submitted as parameters from Postman.</p>\n"}],"owner":{"account_id":1313342,"reputation":765,"user_id":1260847,"accept_rate":56,"display_name":"Loner shushman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75211536,"answer_count":1,"score":0,"last_activity_date":1675330233,"creation_date":1674433443,"question_id":75204848,"body_markdown":"So I have a method that looks like this:\r\n```\r\n@PostMapping(&quot;/endpoint&quot;)\r\nvoid  myMethod(Student student, @RequestBody Teacher teacher)\r\n{\r\n    //need to be able to access student.getName();\r\n     //Need to be able to access teacher.getName();\r\n}\r\n```\r\nThis is given, I can not change this.\r\nQuestion how do I call this method from PostMan.\r\n\r\nI use Post request :\r\nlocalhost:8080/endpoint\r\nand in the body, I select : raw\r\nand JSON\r\nbut I can not figure what I am doing from here, as when I put json I ont see values in the student object it is null, not sure how to create a correct json, \r\n```\r\nclass Student {\r\n  String id;\r\n  String nameStudent;\r\n}\r\n\r\nlass Teacher {\r\n  String id, \r\n  String nameTeacher;\r\n}\r\n```","title":"Can I post multiple objects to a REST service but only one as @RequestParams and how to call it from PostMan","body":"<p>So I have a method that looks like this:</p>\n<pre><code>@PostMapping(&quot;/endpoint&quot;)\nvoid  myMethod(Student student, @RequestBody Teacher teacher)\n{\n    //need to be able to access student.getName();\n     //Need to be able to access teacher.getName();\n}\n</code></pre>\n<p>This is given, I can not change this.\nQuestion how do I call this method from PostMan.</p>\n<p>I use Post request :\nlocalhost:8080/endpoint\nand in the body, I select : raw\nand JSON\nbut I can not figure what I am doing from here, as when I put json I ont see values in the student object it is null, not sure how to create a correct json,</p>\n<pre><code>class Student {\n  String id;\n  String nameStudent;\n}\n\nlass Teacher {\n  String id, \n  String nameTeacher;\n}\n</code></pre>\n"},{"tags":["java","apache-mina","apache-sshd"],"owner":{"account_id":15875464,"reputation":163,"user_id":11459084,"display_name":"vivi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675330125,"creation_date":1644330082,"question_id":71035486,"body_markdown":"I am trying to implement a ssh client based on MINA sshd communicating with the end server via a ssh jump.\r\n\r\nbased on the documentation (https://github.com/apache/mina-sshd/blob/master/docs/internals.md#ssh-jumps) and other information found on the Internet, my code is looking like this.\r\n\r\n\r\n``` java\r\n    SshClient client = SshClient.setUpDefaultClient();\r\n    client.setHostConfigEntryResolver(\r\n        HostConfigEntry.toHostConfigEntryResolver(\r\n            Arrays.asList(\r\n                new HostConfigEntry(&quot;server&quot;, &quot;end-server&quot;, 22, &quot;user1&quot;, &quot;proxy&quot;),\r\n                new HostConfigEntry(&quot;proxy&quot;, &quot;proxy-server&quot;, 22, &quot;user2&quot;))));\r\n\r\n    client.start();\r\n\r\n    try (ClientSession session = client.connect(&quot;server&quot;).verify(defaultTimeout).getSession()) {\r\n\r\n      session.addPasswordIdentity(&quot;password1&quot;); // password for the end-server\r\n      session.auth().verify(defaultTimeout);\r\n      try (ByteArrayOutputStream responseStream = new ByteArrayOutputStream();\r\n          ByteArrayOutputStream errorStream = new ByteArrayOutputStream();\r\n          ClientChannel channel = session.createExecChannel(&quot;pwd&quot;))\r\n      {\r\n        channel.setOut(responseStream);\r\n        channel.setErr(errorStream);\r\n        try {\r\n          channel.open().verify(defaultTimeout);\r\n          try (OutputStream pipedIn = channel.getInvertedIn()) {\r\n            pipedIn.write(&quot;dir&quot;.getBytes());\r\n            pipedIn.flush();\r\n          }\r\n          channel.waitFor(EnumSet.of(ClientChannelEvent.CLOSED), defaultTimeout);\r\n          String error = errorStream.toString();\r\n          if (!error.isEmpty()) {\r\n            throw new Exception(error);\r\n          }\r\n          System.out.println(responseStream);\r\n        } finally {\r\n          channel.close(false);\r\n        }\r\n      }\r\n    }\r\n```\r\n\r\nThis implementation is working fine provided that the authentication to the proxy is via key authentication and the end server uses password authentication.\r\n\r\nThe problem is that in reality the jump server I am using only offers password authentication and I do not find the way to provide its credential.\r\n\r\nHow can I provide the jump server credential ?\r\n\r\nThanks!","title":"Apache mina sshd client: jump server with password authentication","body":"<p>I am trying to implement a ssh client based on MINA sshd communicating with the end server via a ssh jump.</p>\n<p>based on the documentation (<a href=\"https://github.com/apache/mina-sshd/blob/master/docs/internals.md#ssh-jumps\" rel=\"nofollow noreferrer\">https://github.com/apache/mina-sshd/blob/master/docs/internals.md#ssh-jumps</a>) and other information found on the Internet, my code is looking like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    SshClient client = SshClient.setUpDefaultClient();\n    client.setHostConfigEntryResolver(\n        HostConfigEntry.toHostConfigEntryResolver(\n            Arrays.asList(\n                new HostConfigEntry(&quot;server&quot;, &quot;end-server&quot;, 22, &quot;user1&quot;, &quot;proxy&quot;),\n                new HostConfigEntry(&quot;proxy&quot;, &quot;proxy-server&quot;, 22, &quot;user2&quot;))));\n\n    client.start();\n\n    try (ClientSession session = client.connect(&quot;server&quot;).verify(defaultTimeout).getSession()) {\n\n      session.addPasswordIdentity(&quot;password1&quot;); // password for the end-server\n      session.auth().verify(defaultTimeout);\n      try (ByteArrayOutputStream responseStream = new ByteArrayOutputStream();\n          ByteArrayOutputStream errorStream = new ByteArrayOutputStream();\n          ClientChannel channel = session.createExecChannel(&quot;pwd&quot;))\n      {\n        channel.setOut(responseStream);\n        channel.setErr(errorStream);\n        try {\n          channel.open().verify(defaultTimeout);\n          try (OutputStream pipedIn = channel.getInvertedIn()) {\n            pipedIn.write(&quot;dir&quot;.getBytes());\n            pipedIn.flush();\n          }\n          channel.waitFor(EnumSet.of(ClientChannelEvent.CLOSED), defaultTimeout);\n          String error = errorStream.toString();\n          if (!error.isEmpty()) {\n            throw new Exception(error);\n          }\n          System.out.println(responseStream);\n        } finally {\n          channel.close(false);\n        }\n      }\n    }\n</code></pre>\n<p>This implementation is working fine provided that the authentication to the proxy is via key authentication and the end server uses password authentication.</p>\n<p>The problem is that in reality the jump server I am using only offers password authentication and I do not find the way to provide its credential.</p>\n<p>How can I provide the jump server credential ?</p>\n<p>Thanks!</p>\n"},{"tags":["java","amazon-s3","pyspark","databricks","azure-databricks"],"answers":[{"comments":[{"owner":{"account_id":13213675,"reputation":1671,"user_id":9542989,"display_name":"Minura Punchihewa"},"score":0,"creation_date":1675330300,"post_id":75319163,"comment_id":132906819,"body_markdown":"This does not solve the problem. The error is that I am getting is that the `.set()` does not seem to exist.","body":"This does not solve the problem. The error is that I am getting is that the <code>.set()</code> does not seem to exist."},{"owner":{"account_id":2611206,"reputation":12820,"user_id":2261274,"display_name":"stevel"},"score":0,"creation_date":1675339023,"post_id":75319163,"comment_id":132909694,"body_markdown":"well clearly the set() call with the type of the arguments being passed in *doesn&#39;t exist*. Pass down datatypes which are supported.","body":"well clearly the set() call with the type of the arguments being passed in <i>doesn&#39;t exist</i>. Pass down datatypes which are supported."}],"tags":[],"owner":{"account_id":24283949,"reputation":2474,"user_id":18229980,"display_name":"Vamsi Bitra"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675317112,"creation_date":1675317112,"answer_id":75319163,"question_id":75297867,"body_markdown":"Check your configuration with S3 as per the [official document](https://docs.databricks.com/storage/amazon-s3.html#access-s3-buckets-with-uris-and-aws-keys): \r\n\r\n    Access_key = dbutils.secrets.get(scope = &quot;Scope_name&quot;, key = &quot;aws_access_key&quot;)\r\n    Secret_key = dbutils.secrets.get(scope = &quot;Scope_name&quot;, key = &quot;aws_secret_key&quot;)\r\n    sc._jsc.hadoopConfiguration().set(&quot;fs.s3a.access.key&quot;, Access_key)\r\n    sc._jsc.hadoopConfiguration().set(&quot;fs.s3a.secret.key&quot;, Secret_key)\r\n    \r\n    region = &quot;aws-region-id&quot;\r\n    sc._jsc.hadoopConfiguration().set(&quot;fs.s3a.endpoint&quot;, &quot;s3.&quot; + region + &quot;.amazonaws.com&quot;)\r\n    \r\n    conn = sc.textFile(&quot;s3a://%s/.../...&quot; % aws_bucket_name)\r\n    conn.count()\r\n\r\n**Or** \r\n\r\nYou can try this alternative approach [Mounting AWS S3 buckets on Databricks](https://www.linkedin.com/pulse/readwrite-mount-from-aws-s3-databricks-deepak-rajak) by Deepak Rajak","title":"py4j.Py4JException: Method set([class java.lang.String, class java.util.ArrayList]) does not exist in Databricks","body":"<p>Check your configuration with S3 as per the <a href=\"https://docs.databricks.com/storage/amazon-s3.html#access-s3-buckets-with-uris-and-aws-keys\" rel=\"nofollow noreferrer\">official document</a>:</p>\n<pre><code>Access_key = dbutils.secrets.get(scope = &quot;Scope_name&quot;, key = &quot;aws_access_key&quot;)\nSecret_key = dbutils.secrets.get(scope = &quot;Scope_name&quot;, key = &quot;aws_secret_key&quot;)\nsc._jsc.hadoopConfiguration().set(&quot;fs.s3a.access.key&quot;, Access_key)\nsc._jsc.hadoopConfiguration().set(&quot;fs.s3a.secret.key&quot;, Secret_key)\n\nregion = &quot;aws-region-id&quot;\nsc._jsc.hadoopConfiguration().set(&quot;fs.s3a.endpoint&quot;, &quot;s3.&quot; + region + &quot;.amazonaws.com&quot;)\n\nconn = sc.textFile(&quot;s3a://%s/.../...&quot; % aws_bucket_name)\nconn.count()\n</code></pre>\n<p><strong>Or</strong></p>\n<p>You can try this alternative approach <a href=\"https://www.linkedin.com/pulse/readwrite-mount-from-aws-s3-databricks-deepak-rajak\" rel=\"nofollow noreferrer\">Mounting AWS S3 buckets on Databricks</a> by Deepak Rajak</p>\n"}],"owner":{"account_id":13213675,"reputation":1671,"user_id":9542989,"display_name":"Minura Punchihewa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675330009,"creation_date":1675171508,"question_id":75297867,"body_markdown":"I am trying to access a remote S3 bucket using Databricks.\r\n\r\nFrom what I have understood, this is what my code should look like,\r\n\r\n    sc._jsc.hadoopConfiguration().set(&quot;fs.s3a.access.key&quot;, access_key)\r\n    sc._jsc.hadoopConfiguration().set(&quot;fs.s3a.secret.key&quot;, secret_access_key)\r\n    sc._jsc.hadoopConfiguration().set(&quot;fs.s3a.endpoint&quot;, &quot;s3.amazonaws.com&quot;)\r\n    \r\n    \r\n    df = spark.read.format(&quot;csv&quot;).option(&quot;header&quot;,True).load(&#39;s3a://bucket/path/to/file.csv&#39;)\r\n    \r\n    df.show()\r\n\r\nI seem to be getting the following error when trying to set the Spark configurations,\r\n\r\n    Py4JError: An error occurred while calling o371.set. Trace:\r\n    py4j.Py4JException: Method set([class java.lang.String, class java.util.ArrayList]) does not exist\r\n    \tat py4j.reflection.ReflectionEngine.getMethod(ReflectionEngine.java:341)\r\n    \tat py4j.reflection.ReflectionEngine.getMethod(ReflectionEngine.java:349)\r\n    \tat py4j.Gateway.invoke(Gateway.java:286)\r\n    \tat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n    \tat py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n    \tat py4j.GatewayConnection.run(GatewayConnection.java:251)\r\n    \tat java.lang.Thread.run(Thread.java:750)\r\n\r\nWhat am I doing wrong?","title":"py4j.Py4JException: Method set([class java.lang.String, class java.util.ArrayList]) does not exist in Databricks","body":"<p>I am trying to access a remote S3 bucket using Databricks.</p>\n<p>From what I have understood, this is what my code should look like,</p>\n<pre><code>sc._jsc.hadoopConfiguration().set(&quot;fs.s3a.access.key&quot;, access_key)\nsc._jsc.hadoopConfiguration().set(&quot;fs.s3a.secret.key&quot;, secret_access_key)\nsc._jsc.hadoopConfiguration().set(&quot;fs.s3a.endpoint&quot;, &quot;s3.amazonaws.com&quot;)\n\n\ndf = spark.read.format(&quot;csv&quot;).option(&quot;header&quot;,True).load('s3a://bucket/path/to/file.csv')\n\ndf.show()\n</code></pre>\n<p>I seem to be getting the following error when trying to set the Spark configurations,</p>\n<pre><code>Py4JError: An error occurred while calling o371.set. Trace:\npy4j.Py4JException: Method set([class java.lang.String, class java.util.ArrayList]) does not exist\n    at py4j.reflection.ReflectionEngine.getMethod(ReflectionEngine.java:341)\n    at py4j.reflection.ReflectionEngine.getMethod(ReflectionEngine.java:349)\n    at py4j.Gateway.invoke(Gateway.java:286)\n    at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n    at py4j.commands.CallCommand.execute(CallCommand.java:79)\n    at py4j.GatewayConnection.run(GatewayConnection.java:251)\n    at java.lang.Thread.run(Thread.java:750)\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","android","firebase","pusher"],"comments":[{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1675329955,"post_id":75320774,"comment_id":132906696,"body_markdown":"As you mentioned that ```the function is never called``` there can be several issues as mentioned below\n\n- FCM token is correctly used and not expired \n- your project bundle id is matching with firebase registered and google-service.json file is correct\n- api key is correct which is used to send notification\n- if you have added SHA key to firebase then check it is matching with your keystore&#39;s SHA","body":"As you mentioned that <code>the function is never called</code> there can be several issues as mentioned below  - FCM token is correctly used and not expired  - your project bundle id is matching with firebase registered and google-service.json file is correct - api key is correct which is used to send notification - if you have added SHA key to firebase then check it is matching with your keystore&#39;s SHA"},{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1675330246,"post_id":75320774,"comment_id":132906805,"body_markdown":"if all things are good to go then try to send notification and check what you are getting in response\n\nto send notification using postman , you can use this article .. postman collection is given\n\nhttps://medium.com/android-school/test-fcm-notification-with-postman-f91ba08aacc3","body":"if all things are good to go then try to send notification and check what you are getting in response  to send notification using postman , you can use this article .. postman collection is given  <a href=\"https://medium.com/android-school/test-fcm-notification-with-postman-f91ba08aacc3\" rel=\"nofollow noreferrer\">medium.com/android-school/&hellip;</a>"},{"owner":{"account_id":21190041,"reputation":43,"user_id":15582694,"display_name":"Gerben Mol"},"score":0,"creation_date":1675330904,"post_id":75320774,"comment_id":132906997,"body_markdown":"When filling the notification payload i receive a notification but the onMessageReceived is never called i get this log in the logger: I/FCMMessageReceiver: Got a valid pusher message.","body":"When filling the notification payload i receive a notification but the onMessageReceived is never called i get this log in the logger: I/FCMMessageReceiver: Got a valid pusher message."},{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1675331052,"post_id":75320774,"comment_id":132907056,"body_markdown":"yes because notification payload is handled by firebase SDK that&#39;s why not getting called ```onMessageReceived``` in case of notification payload .... try with ```data``` payload instead of notification","body":"yes because notification payload is handled by firebase SDK that&#39;s why not getting called <code>onMessageReceived</code> in case of notification payload .... try with <code>data</code> payload instead of notification"},{"owner":{"account_id":21190041,"reputation":43,"user_id":15582694,"display_name":"Gerben Mol"},"score":0,"creation_date":1675332210,"post_id":75320774,"comment_id":132907422,"body_markdown":"I send a notification with only data payload but the onMessageReceived is still not called","body":"I send a notification with only data payload but the onMessageReceived is still not called"},{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1675332322,"post_id":75320774,"comment_id":132907449,"body_markdown":"i hope you have checked every point that i mention in my first comment","body":"i hope you have checked every point that i mention in my first comment"},{"owner":{"account_id":21190041,"reputation":43,"user_id":15582694,"display_name":"Gerben Mol"},"score":0,"creation_date":1675337941,"post_id":75320774,"comment_id":132909352,"body_markdown":"I have checked everything and everything is correct the message is received by the FCMMessageReceiver but the onMessageReceived function i created is never caalled","body":"I have checked everything and everything is correct the message is received by the FCMMessageReceiver but the onMessageReceived function i created is never caalled"}],"owner":{"account_id":21190041,"reputation":43,"user_id":15582694,"display_name":"Gerben Mol"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675329888,"creation_date":1675328540,"question_id":75320774,"body_markdown":"I added the following pice in the manifest to call the onMessageReceived function when a firebase message comes in:\r\n\r\n```\r\n&lt;service android:name=&quot;.Notifications&quot;\r\n         android:exported=&quot;true&quot;&gt;\r\n     &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/service&gt;\r\n```\r\nHere is my onMessageReceive function:\r\n```\r\n@Override\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        Log.d(&quot;NotificationService&quot;, &quot;Notification received!&quot;);\r\n        Map&lt;String, String&gt; data = remoteMessage.getData();\r\n        String deep_link = data.get(&quot;deep_link&quot;);\r\n        String title = data.get(&quot;title&quot;);\r\n        String body = data.get(&quot;body&quot;);\r\n        Log.d(&quot;NotificationService&quot;, &quot;Notification received!&quot;);\r\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(MainActivity.context.getApplicationContext(), &quot;1&quot;);\r\n        builder.setSmallIcon(android.R.drawable.ic_dialog_alert);\r\n        Intent intent = new Intent(new MainActivity(), Uri.parse(deep_link));\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(MainActivity.context, 0, intent, PendingIntent.FLAG_IMMUTABLE);\r\n        builder.setContentIntent(pendingIntent);\r\n        builder.setLargeIcon(BitmapFactory.decodeResource(MainActivity.context.getResources(), R.mipmap.ic_launcher));\r\n        builder.setContentTitle(title);\r\n        builder.setContentText(body);\r\n\r\n        NotificationManager notificationManager = (NotificationManager) MainActivity.context.getSystemService(MainActivity.context.NOTIFICATION_SERVICE);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\r\n        {\r\n            String channelId = &quot;1&quot;;\r\n            NotificationChannel channel = new NotificationChannel(\r\n                    channelId,\r\n                    &quot;1&quot;,\r\n                    NotificationManager.IMPORTANCE_HIGH);\r\n            notificationManager.createNotificationChannel(channel);\r\n            builder.setChannelId(channelId);\r\n        }\r\n        // Will display the notification in the notification bar\r\n        notificationManager.notify(1, builder.build());\r\n    }\r\n```\r\n\r\nBut the function is never called does someone know where the problem lays?\r\n\r\nI tried to send the notification with and without notification payload, tried the app in background state and foreground state, tried killing the app and then sending the notification\r\n\r\nWhen clicking the notification it doesnt open the app or anything","title":"Firebase message not opening application when clicking on the notification","body":"<p>I added the following pice in the manifest to call the onMessageReceived function when a firebase message comes in:</p>\n<pre><code>&lt;service android:name=&quot;.Notifications&quot;\n         android:exported=&quot;true&quot;&gt;\n     &lt;intent-filter&gt;\n        &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/service&gt;\n</code></pre>\n<p>Here is my onMessageReceive function:</p>\n<pre><code>@Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n        Log.d(&quot;NotificationService&quot;, &quot;Notification received!&quot;);\n        Map&lt;String, String&gt; data = remoteMessage.getData();\n        String deep_link = data.get(&quot;deep_link&quot;);\n        String title = data.get(&quot;title&quot;);\n        String body = data.get(&quot;body&quot;);\n        Log.d(&quot;NotificationService&quot;, &quot;Notification received!&quot;);\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(MainActivity.context.getApplicationContext(), &quot;1&quot;);\n        builder.setSmallIcon(android.R.drawable.ic_dialog_alert);\n        Intent intent = new Intent(new MainActivity(), Uri.parse(deep_link));\n        PendingIntent pendingIntent = PendingIntent.getActivity(MainActivity.context, 0, intent, PendingIntent.FLAG_IMMUTABLE);\n        builder.setContentIntent(pendingIntent);\n        builder.setLargeIcon(BitmapFactory.decodeResource(MainActivity.context.getResources(), R.mipmap.ic_launcher));\n        builder.setContentTitle(title);\n        builder.setContentText(body);\n\n        NotificationManager notificationManager = (NotificationManager) MainActivity.context.getSystemService(MainActivity.context.NOTIFICATION_SERVICE);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\n        {\n            String channelId = &quot;1&quot;;\n            NotificationChannel channel = new NotificationChannel(\n                    channelId,\n                    &quot;1&quot;,\n                    NotificationManager.IMPORTANCE_HIGH);\n            notificationManager.createNotificationChannel(channel);\n            builder.setChannelId(channelId);\n        }\n        // Will display the notification in the notification bar\n        notificationManager.notify(1, builder.build());\n    }\n</code></pre>\n<p>But the function is never called does someone know where the problem lays?</p>\n<p>I tried to send the notification with and without notification payload, tried the app in background state and foreground state, tried killing the app and then sending the notification</p>\n<p>When clicking the notification it doesnt open the app or anything</p>\n"},{"tags":["java","android","android-studio","kotlin","mobile"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1675262498,"post_id":75311596,"comment_id":132890837,"body_markdown":"Shouldn&#39;t you be using `activeNetwork.hasTransport(...)` as you are using TRANSPORT_ constants?","body":"Shouldn&#39;t you be using <code>activeNetwork.hasTransport(...)</code> as you are using TRANSPORT_ constants?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1675266178,"post_id":75311596,"comment_id":132892192,"body_markdown":"Also, please bear in mind that none of this tells you if the phone has an Internet connection (as your question title implies).","body":"Also, please bear in mind that none of this tells you if the phone has an Internet connection (as your question title implies)."}],"answers":[{"tags":[],"owner":{"account_id":23883416,"reputation":134,"user_id":17883851,"display_name":"TG. Kahsay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675280299,"creation_date":1675280299,"answer_id":75315340,"question_id":75311596,"body_markdown":"I use this to check if device indeed has connection \r\n\r\n``` Kotlin\r\nfun isConnected(context: Context):Boolean{\r\n        val cManager = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\r\n        val nCapabilities = cManager.getNetworkCapabilities(cManager.activeNetwork)\r\n        return nCapabilities != null\r\n    }\r\n```\r\n\r\nit works for me, you can try it.","title":"How to check for Internet Connectivity on API 30 or higher?","body":"<p>I use this to check if device indeed has connection</p>\n<pre><code>fun isConnected(context: Context):Boolean{\n        val cManager = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n        val nCapabilities = cManager.getNetworkCapabilities(cManager.activeNetwork)\n        return nCapabilities != null\n    }\n</code></pre>\n<p>it works for me, you can try it.</p>\n"},{"tags":[],"owner":{"account_id":26045599,"reputation":91,"user_id":19749681,"display_name":"Hitesh Khatri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675329885,"creation_date":1675329885,"answer_id":75321003,"question_id":75311596,"body_markdown":"in manifest\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\nin Code\r\n\r\n    public boolean isInternetAvailable() {\r\n    try {\r\n        InetAddress ipAddr = InetAddress.getByName(&quot;google.com&quot;); \r\n        //You can replace it with your name\r\n            return !ipAddr.equals(&quot;&quot;);\r\n\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n//return boolean value if network available\r\n\r\n        private boolean isNetworkConnected() {\r\n        ConnectivityManager cm = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\r\n    \r\n        return cm.getActiveNetworkInfo() != null &amp;&amp; cm.getActiveNetworkInfo().isConnected();\r\n    }\r\n\r\n","title":"How to check for Internet Connectivity on API 30 or higher?","body":"<p>in manifest</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<p>in Code</p>\n<pre><code>public boolean isInternetAvailable() {\ntry {\n    InetAddress ipAddr = InetAddress.getByName(&quot;google.com&quot;); \n    //You can replace it with your name\n        return !ipAddr.equals(&quot;&quot;);\n\n    } catch (Exception e) {\n        return false;\n    }\n}\n</code></pre>\n<p>//return boolean value if network available</p>\n<pre><code>    private boolean isNetworkConnected() {\n    ConnectivityManager cm = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\n\n    return cm.getActiveNetworkInfo() != null &amp;&amp; cm.getActiveNetworkInfo().isConnected();\n}\n</code></pre>\n"}],"owner":{"account_id":22479618,"reputation":5,"user_id":16678868,"display_name":"Berkay Sazak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75315340,"answer_count":2,"score":0,"last_activity_date":1675329885,"creation_date":1675261187,"question_id":75311596,"body_markdown":"I want to check Internet connection using Network Capabilities but it is giving me this error:\r\n\r\n&gt; Must be one of: NetworkCapabilities.NET_CAPABILITY_MMS,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_SUPL,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_DUN,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_FOTA,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_IMS,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_CBS,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_WIFI_P2P,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_IA,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_RCS,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_XCAP,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_EIMS,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_NOT_METERED,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_INTERNET,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_NOT_RESTRICTED,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_TRUSTED,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_NOT_VPN,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_VALIDATED,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_CAPTIVE_PORTAL,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_NOT_ROAMING,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_FOREGROUND,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_NOT_CONGESTED,\r\n&gt; NetworkCapabilities.NET_CAPABILITY_NOT_SUSPENDED, NetworkCapab...\r\n&gt; [truncated]\r\n\r\nMy code:\r\n\r\n    fun checkInternetConnection(context : Context) : Boolean{\r\n        val connectivityManager = context.getSystemService(\r\n            Context.CONNECTIVITY_SERVICE) as ConnectivityManager\r\n\r\n        val network = connectivityManager.activeNetwork?: return false\r\n        val activeNetwork = connectivityManager.getNetworkCapabilities(network)?: return false\r\n\r\n        return when{\r\n            activeNetwork.hasCapability(NetworkCapabilities.TRANSPORT_WIFI) -&gt; true\r\n            activeNetwork.hasCapability(NetworkCapabilities.TRANSPORT_CELLULAR) -&gt; true\r\n            activeNetwork.hasCapability(NetworkCapabilities.TRANSPORT_ETHERNET) -&gt; true\r\n            else -&gt; false\r\n        }\r\n    }\r\n}\r\n\r\nI tried to fix it with Android Studio&#39;s auto-correction, but instead of writing the control code I wanted, it changed it with a different code.\r\n","title":"How to check for Internet Connectivity on API 30 or higher?","body":"<p>I want to check Internet connection using Network Capabilities but it is giving me this error:</p>\n<blockquote>\n<p>Must be one of: NetworkCapabilities.NET_CAPABILITY_MMS,\nNetworkCapabilities.NET_CAPABILITY_SUPL,\nNetworkCapabilities.NET_CAPABILITY_DUN,\nNetworkCapabilities.NET_CAPABILITY_FOTA,\nNetworkCapabilities.NET_CAPABILITY_IMS,\nNetworkCapabilities.NET_CAPABILITY_CBS,\nNetworkCapabilities.NET_CAPABILITY_WIFI_P2P,\nNetworkCapabilities.NET_CAPABILITY_IA,\nNetworkCapabilities.NET_CAPABILITY_RCS,\nNetworkCapabilities.NET_CAPABILITY_XCAP,\nNetworkCapabilities.NET_CAPABILITY_EIMS,\nNetworkCapabilities.NET_CAPABILITY_NOT_METERED,\nNetworkCapabilities.NET_CAPABILITY_INTERNET,\nNetworkCapabilities.NET_CAPABILITY_NOT_RESTRICTED,\nNetworkCapabilities.NET_CAPABILITY_TRUSTED,\nNetworkCapabilities.NET_CAPABILITY_NOT_VPN,\nNetworkCapabilities.NET_CAPABILITY_VALIDATED,\nNetworkCapabilities.NET_CAPABILITY_CAPTIVE_PORTAL,\nNetworkCapabilities.NET_CAPABILITY_NOT_ROAMING,\nNetworkCapabilities.NET_CAPABILITY_FOREGROUND,\nNetworkCapabilities.NET_CAPABILITY_NOT_CONGESTED,\nNetworkCapabilities.NET_CAPABILITY_NOT_SUSPENDED, NetworkCapab...\n[truncated]</p>\n</blockquote>\n<p>My code:</p>\n<pre><code>fun checkInternetConnection(context : Context) : Boolean{\n    val connectivityManager = context.getSystemService(\n        Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n\n    val network = connectivityManager.activeNetwork?: return false\n    val activeNetwork = connectivityManager.getNetworkCapabilities(network)?: return false\n\n    return when{\n        activeNetwork.hasCapability(NetworkCapabilities.TRANSPORT_WIFI) -&gt; true\n        activeNetwork.hasCapability(NetworkCapabilities.TRANSPORT_CELLULAR) -&gt; true\n        activeNetwork.hasCapability(NetworkCapabilities.TRANSPORT_ETHERNET) -&gt; true\n        else -&gt; false\n    }\n}\n</code></pre>\n<p>}</p>\n<p>I tried to fix it with Android Studio's auto-correction, but instead of writing the control code I wanted, it changed it with a different code.</p>\n"},{"tags":["java","sql","spring-boot","spring-data-jpa","jparepository"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1675329993,"post_id":75320287,"comment_id":132906711,"body_markdown":"Use `@ManyToOne` instead of `UUID`s","body":"Use <code>@ManyToOne</code> instead of <code>UUID</code>s"},{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1675340542,"post_id":75320287,"comment_id":132910205,"body_markdown":"That could indeed be a better approach, but won&#39;t have big impact on the query. As mentioned, this is simplified example code to explain the question.","body":"That could indeed be a better approach, but won&#39;t have big impact on the query. As mentioned, this is simplified example code to explain the question."}],"answers":[{"tags":[],"owner":{"account_id":12006456,"reputation":104,"user_id":8784659,"display_name":"Ben Sch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675329096,"creation_date":1675328203,"answer_id":75320691,"question_id":75320287,"body_markdown":"        @Query(&quot;&quot;&quot;\r\n            SELECT  i\r\n                FROM Item i\r\n                    LEFT OUTER JOIN ItemCounter1 counter1 ON i.id = counter1.itemId\r\n                    LEFT OUTER JOIN ItemCounter2 counter2 ON i.id = counter2.itemId\r\n                WHERE counter1.datetime &gt;= :fromDate\r\n                    AND counter2.datetime &gt;= :fromDate\r\n                GROUP BY counter1.itemId, counter2.itemId, i.id\r\n                ORDER BY (COUNT(counter1.itemId) + COUNT(counter2.itemId)) DESC\r\n            &quot;&quot;&quot;)\r\n        Page&lt;Item&gt; findMostCounted(ZonedDateTime fromDate, PageRequest of);\r\n\r\nyour query would need the ID column from item in the group by clause as it is what you are selecting by. I hope I could help :)\r\n","title":"How to make a Spring JPARepository query to find most linked entities in other tables","body":"<pre><code>    @Query(&quot;&quot;&quot;\n        SELECT  i\n            FROM Item i\n                LEFT OUTER JOIN ItemCounter1 counter1 ON i.id = counter1.itemId\n                LEFT OUTER JOIN ItemCounter2 counter2 ON i.id = counter2.itemId\n            WHERE counter1.datetime &gt;= :fromDate\n                AND counter2.datetime &gt;= :fromDate\n            GROUP BY counter1.itemId, counter2.itemId, i.id\n            ORDER BY (COUNT(counter1.itemId) + COUNT(counter2.itemId)) DESC\n        &quot;&quot;&quot;)\n    Page&lt;Item&gt; findMostCounted(ZonedDateTime fromDate, PageRequest of);\n</code></pre>\n<p>your query would need the ID column from item in the group by clause as it is what you are selecting by. I hope I could help :)</p>\n"}],"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75320691,"answer_count":1,"score":-1,"last_activity_date":1675329096,"creation_date":1675325778,"question_id":75320287,"body_markdown":"I&#39;m trying to find one query-solution to find the items in a table that are most present in two other tables. Simplified my structure looks like this:\r\n\r\n    @Entity\r\n    @Table(name = &quot;item&quot;)\r\n    public class Item extends AbstractEntity {\r\n       // ID is added by AbstractEntity\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;itemCounter1&quot;)\r\n    public class ItemCounter1 extends AbstractEntity {\r\n       private UUID itemId;\r\n       private ZonedDateTime datetime;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;itemCounter2&quot;)\r\n    public class ItemCounter2 extends AbstractEntity {\r\n       private UUID itemId;\r\n       private ZonedDateTime datetime;\r\n    }\r\n\r\nI believe my query should look something like the following, but it&#39;s not correct yet and I&#39;m a bit puzzled what could be the best approach... Not sure even if I should do this within a query, but it would definitely be nice to be able to hand this over to the power of the database, instead of needing to code several separate DB calls and combine the results.\r\n\r\n    public interface ItemRepository extends JpaRepository&lt;Item, UUID&gt; {\r\n        @Query(&quot;&quot;&quot;\r\n            SELECT i\r\n                FROM Item i \r\n                    LEFT OUTER JOIN ItemCounter1 counter1 ON i.id = counter1.itemId\r\n                    LEFT OUTER JOIN ItemCounter2 counter2 ON i.id = counter2.itemId\r\n                WHERE counter1.datetime &gt;= :fromDate\r\n                    AND counter2.datetime &gt;= :fromDate\r\n                GROUP BY counter1.itemId, counter2.itemId\r\n                ORDER BY (COUNT(counter1.itemId) + COUNT(counter2.itemId)) DESC\r\n            &quot;&quot;&quot;)\r\n        Page&lt;Item&gt; findMostCounted(ZonedDateTime fromDate, PageRequest of);\r\n    }","title":"How to make a Spring JPARepository query to find most linked entities in other tables","body":"<p>I'm trying to find one query-solution to find the items in a table that are most present in two other tables. Simplified my structure looks like this:</p>\n<pre><code>@Entity\n@Table(name = &quot;item&quot;)\npublic class Item extends AbstractEntity {\n   // ID is added by AbstractEntity\n}\n\n@Entity\n@Table(name = &quot;itemCounter1&quot;)\npublic class ItemCounter1 extends AbstractEntity {\n   private UUID itemId;\n   private ZonedDateTime datetime;\n}\n\n@Entity\n@Table(name = &quot;itemCounter2&quot;)\npublic class ItemCounter2 extends AbstractEntity {\n   private UUID itemId;\n   private ZonedDateTime datetime;\n}\n</code></pre>\n<p>I believe my query should look something like the following, but it's not correct yet and I'm a bit puzzled what could be the best approach... Not sure even if I should do this within a query, but it would definitely be nice to be able to hand this over to the power of the database, instead of needing to code several separate DB calls and combine the results.</p>\n<pre><code>public interface ItemRepository extends JpaRepository&lt;Item, UUID&gt; {\n    @Query(&quot;&quot;&quot;\n        SELECT i\n            FROM Item i \n                LEFT OUTER JOIN ItemCounter1 counter1 ON i.id = counter1.itemId\n                LEFT OUTER JOIN ItemCounter2 counter2 ON i.id = counter2.itemId\n            WHERE counter1.datetime &gt;= :fromDate\n                AND counter2.datetime &gt;= :fromDate\n            GROUP BY counter1.itemId, counter2.itemId\n            ORDER BY (COUNT(counter1.itemId) + COUNT(counter2.itemId)) DESC\n        &quot;&quot;&quot;)\n    Page&lt;Item&gt; findMostCounted(ZonedDateTime fromDate, PageRequest of);\n}\n</code></pre>\n"},{"tags":["java","amazon-dynamodb","titan","janusgraph"],"answers":[{"comments":[{"owner":{"account_id":1010015,"reputation":5074,"user_id":1022807,"display_name":"Alexander Patrikalakis"},"score":0,"creation_date":1498497649,"post_id":44544278,"comment_id":76511335,"body_markdown":"While this is correct, rolling back introduces other issues, as edges the user thought were added get blown away in the rollback as well.","body":"While this is correct, rolling back introduces other issues, as edges the user thought were added get blown away in the rollback as well."}],"tags":[],"owner":{"account_id":11116015,"reputation":71,"user_id":8160339,"display_name":"Christopher Quinones"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675328960,"creation_date":1497441819,"answer_id":44544278,"question_id":44535054,"body_markdown":"As stated in the [documentation][1], you should rollback any active transaction before attempting to create an index.  Have you tried that?\r\n\r\n\r\n  [1]: https://web.archive.org/web/20180513190030/http://docs.janusgraph.org:80/latest/indexes.html","title":"Generalizing DynamoDB + JanusGraph Factory: Lock and Schema Problems","body":"<p>As stated in the <a href=\"https://web.archive.org/web/20180513190030/http://docs.janusgraph.org:80/latest/indexes.html\" rel=\"nofollow noreferrer\">documentation</a>, you should rollback any active transaction before attempting to create an index.  Have you tried that?</p>\n"},{"tags":[],"owner":{"account_id":1010015,"reputation":5074,"user_id":1022807,"display_name":"Alexander Patrikalakis"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1498497607,"creation_date":1498497607,"answer_id":44765162,"question_id":44535054,"body_markdown":"First, your original run() method is executed for each line in the text file. If the [first thing you do is roll back][1], the vertices and edges you created in the previous iteration get blown away.\r\n\r\nSecond, on the next line you tried to [setup the schema for each and every line][2], even though you only need to set the schema once for the graph right after you instantiate it. This was the source of your Schema exceptions, as index names must be unique (and do not necessarily need to be named after the properties they are indexing).\r\n\r\nThird, on lines 78 and 83, you assumed you were [creating the vertices anew for every line][3] of the text file you processed. The uniqueness constraint applies there just as much as it did on [lines 107 and 114][4], where you respected the uniqueness constraint while processing the relationships.\r\n\r\nFinally, for a graph with order ~100 vertices and ~100 edges, it is a bit over the top to setup batching and an executor. I submitted [a PR that fixes all of these issues and proposes two different ways][5] to approach the data load at hand.\r\n\r\n\r\n  [1]: https://github.com/awslabs/dynamodb-janusgraph-storage-backend/pull/202/files#diff-2bd850d1788f37f650696c3a2a6cf9c4R57\r\n  [2]: https://github.com/awslabs/dynamodb-janusgraph-storage-backend/pull/202/files#diff-2bd850d1788f37f650696c3a2a6cf9c4R58\r\n  [3]: https://github.com/awslabs/dynamodb-janusgraph-storage-backend/pull/202/files#diff-2bd850d1788f37f650696c3a2a6cf9c4R78\r\n  [4]: https://github.com/awslabs/dynamodb-janusgraph-storage-backend/pull/202/files#diff-2bd850d1788f37f650696c3a2a6cf9c4R107\r\n  [5]: https://github.com/awslabs/dynamodb-janusgraph-storage-backend/pull/205/files#diff-ad9c6c879fc7a2deb06057978854811fR117","title":"Generalizing DynamoDB + JanusGraph Factory: Lock and Schema Problems","body":"<p>First, your original run() method is executed for each line in the text file. If the <a href=\"https://github.com/awslabs/dynamodb-janusgraph-storage-backend/pull/202/files#diff-2bd850d1788f37f650696c3a2a6cf9c4R57\" rel=\"nofollow noreferrer\">first thing you do is roll back</a>, the vertices and edges you created in the previous iteration get blown away.</p>\n\n<p>Second, on the next line you tried to <a href=\"https://github.com/awslabs/dynamodb-janusgraph-storage-backend/pull/202/files#diff-2bd850d1788f37f650696c3a2a6cf9c4R58\" rel=\"nofollow noreferrer\">setup the schema for each and every line</a>, even though you only need to set the schema once for the graph right after you instantiate it. This was the source of your Schema exceptions, as index names must be unique (and do not necessarily need to be named after the properties they are indexing).</p>\n\n<p>Third, on lines 78 and 83, you assumed you were <a href=\"https://github.com/awslabs/dynamodb-janusgraph-storage-backend/pull/202/files#diff-2bd850d1788f37f650696c3a2a6cf9c4R78\" rel=\"nofollow noreferrer\">creating the vertices anew for every line</a> of the text file you processed. The uniqueness constraint applies there just as much as it did on <a href=\"https://github.com/awslabs/dynamodb-janusgraph-storage-backend/pull/202/files#diff-2bd850d1788f37f650696c3a2a6cf9c4R107\" rel=\"nofollow noreferrer\">lines 107 and 114</a>, where you respected the uniqueness constraint while processing the relationships.</p>\n\n<p>Finally, for a graph with order ~100 vertices and ~100 edges, it is a bit over the top to setup batching and an executor. I submitted <a href=\"https://github.com/awslabs/dynamodb-janusgraph-storage-backend/pull/205/files#diff-ad9c6c879fc7a2deb06057978854811fR117\" rel=\"nofollow noreferrer\">a PR that fixes all of these issues and proposes two different ways</a> to approach the data load at hand.</p>\n"}],"owner":{"account_id":5694569,"reputation":523,"user_id":4501444,"accept_rate":46,"display_name":"acs254"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44765162,"answer_count":2,"score":0,"last_activity_date":1675328960,"creation_date":1497411913,"question_id":44535054,"body_markdown":"I&#39;m working on generalizing the DynamoDB + JanusGraph tutorial from AWS such that, given a standard .txt file with a standard convention, the program can ingest the data (as a Triple) and create the vertices, properties, and edges. Normally I wouldn&#39;t post such a lengthy problem, but it appears that these are all related to 4-5 lines within the same class, ObjectCreationCommand, which I created.\r\n\r\nAn example Triple looks like this: `&quot;name:Jim Henson \\t isCreatorOf \\t televisionshow:The Muppets&quot;`\r\n\r\n 1. Left Object: Jim Henson\r\n 2. Left Object Property: name\r\n 3. Relationship: isCreatorOf\r\n 4. Right Object: The Muppets\r\n 5. Right Object Property: televisionshow\r\n\r\nAlthough the program compiles and runs, I get several exceptions thrown that prevent the graph from being filled. When I run the Factory program, it reads all of my triples and puts them into a Hash Set, but then the following error occurs (10 times, but this is only 1 example):\r\n\r\n    57338 [pool-10-thread-2] ERROR org.janusgraph.graphdb.database.StandardJanusGraph  - Could not commit transaction [10] due to exception\r\n    org.janusgraph.diskstorage.locking.TemporaryLockingException: tx 0x181404008c7c already locked key-column ( 16-165-160-114-116- 30- 98-114- 97-110-100-116-121-112-229,  0) when tx 0x181408349015 tried to lock\r\n    \tat com.amazon.janusgraph.diskstorage.dynamodb.AbstractDynamoDBStore.acquireLock(AbstractDynamoDBStore.java:132)\r\n    \tat org.janusgraph.diskstorage.util.MetricInstrumentedStore$4.call(MetricInstrumentedStore.java:155)\r\n    \tat org.janusgraph.diskstorage.util.MetricInstrumentedStore$4.call(MetricInstrumentedStore.java:153)\r\n    \tat org.janusgraph.diskstorage.util.MetricInstrumentedStore.runWithMetrics(MetricInstrumentedStore.java:217)\r\n    \tat org.janusgraph.diskstorage.util.MetricInstrumentedStore.acquireLock(MetricInstrumentedStore.java:152)\r\n    \tat org.janusgraph.diskstorage.keycolumnvalue.KCVSProxy.acquireLock(KCVSProxy.java:52)\r\n    \tat org.janusgraph.diskstorage.BackendTransaction.acquireIndexLock(BackendTransaction.java:255)\r\n    \tat org.janusgraph.graphdb.database.StandardJanusGraph.prepareCommit(StandardJanusGraph.java:565)\r\n    \tat org.janusgraph.graphdb.database.StandardJanusGraph.commit(StandardJanusGraph.java:694)\r\n    \tat org.janusgraph.graphdb.transaction.StandardJanusGraphTx.commit(StandardJanusGraphTx.java:1363)\r\n    \tat org.janusgraph.graphdb.database.management.ManagementSystem.commit(ManagementSystem.java:235)\r\n    \tat com.amazon.janusgraph.creator.ObjectCreationCommand.run(ObjectCreationCommand.java:59)\r\n    \tat com.amazon.janusgraph.batch.BatchCommand.run(BatchCommand.java:34)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\nNext, a similar exception is thrown:\r\n\r\n    57427 [pool-10-thread-10] ERROR com.amazon.janusgraph.example.MarvelGraphFactory  - Error processing line Could not commit transaction due to exception during persistence tx 0x181404008c7c already locked key-column ( 16-165-160-114-116- 30- 98-114- 97-110-100-116-121-112-229,  0) when tx 0x181403f69b77 tried to lock\r\n    org.janusgraph.core.JanusGraphException: Could not commit transaction due to exception during persistence\r\n    \tat org.janusgraph.graphdb.transaction.StandardJanusGraphTx.commit(StandardJanusGraphTx.java:1374)\r\n    \tat org.janusgraph.graphdb.database.management.ManagementSystem.commit(ManagementSystem.java:235)\r\n    \tat com.amazon.janusgraph.creator.ObjectCreationCommand.run(ObjectCreationCommand.java:59)\r\n    \tat com.amazon.janusgraph.batch.BatchCommand.run(BatchCommand.java:34)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.janusgraph.core.JanusGraphException: Unexpected exception\r\n    \tat org.janusgraph.graphdb.database.StandardJanusGraph.commit(StandardJanusGraph.java:798)\r\n    \tat org.janusgraph.graphdb.transaction.StandardJanusGraphTx.commit(StandardJanusGraphTx.java:1363)\r\n    \t... 6 more\r\n    Caused by: org.janusgraph.diskstorage.locking.TemporaryLockingException: tx 0x181404008c7c already locked key-column ( 16-165-160-114-116- 30- 98-114- 97-110-100-116-121-112-229,  0) when tx 0x181403f69b77 tried to lock\r\n    \tat com.amazon.janusgraph.diskstorage.dynamodb.AbstractDynamoDBStore.acquireLock(AbstractDynamoDBStore.java:132)\r\n    \tat org.janusgraph.diskstorage.util.MetricInstrumentedStore$4.call(MetricInstrumentedStore.java:155)\r\n    \tat org.janusgraph.diskstorage.util.MetricInstrumentedStore$4.call(MetricInstrumentedStore.java:153)\r\n    \tat org.janusgraph.diskstorage.util.MetricInstrumentedStore.runWithMetrics(MetricInstrumentedStore.java:217)\r\n    \tat org.janusgraph.diskstorage.util.MetricInstrumentedStore.acquireLock(MetricInstrumentedStore.java:152)\r\n    \tat org.janusgraph.diskstorage.keycolumnvalue.KCVSProxy.acquireLock(KCVSProxy.java:52)\r\n    \tat org.janusgraph.diskstorage.BackendTransaction.acquireIndexLock(BackendTransaction.java:255)\r\n    \tat org.janusgraph.graphdb.database.StandardJanusGraph.prepareCommit(StandardJanusGraph.java:565)\r\n    \tat org.janusgraph.graphdb.database.StandardJanusGraph.commit(StandardJanusGraph.java:694)\r\n    \t... 7 more\r\n\r\nAnd then a schema-related exception is thrown:\r\n\r\n    58030 [pool-10-thread-4] ERROR com.amazon.janusgraph.example.MarvelGraphFactory  - Error processing line Adding this property for key [~T$SchemaName] and value [rtbrandtype] violates a uniqueness constraint [SystemIndex#~T$SchemaName] \r\n    org.janusgraph.core.SchemaViolationException: Adding this property for key [~T$SchemaName] and value [rtbrandtype] violates a uniqueness constraint [SystemIndex#~T$SchemaName]\r\n    \tat org.janusgraph.graphdb.transaction.StandardJanusGraphTx.addProperty(StandardJanusGraphTx.java:791)\r\n    \tat org.janusgraph.graphdb.transaction.StandardJanusGraphTx.addProperty(StandardJanusGraphTx.java:720)\r\n    \tat org.janusgraph.graphdb.transaction.StandardJanusGraphTx.makeSchemaVertex(StandardJanusGraphTx.java:847)\r\n    \tat org.janusgraph.graphdb.transaction.StandardJanusGraphTx.makePropertyKey(StandardJanusGraphTx.java:867)\r\n    \tat org.janusgraph.graphdb.types.StandardPropertyKeyMaker.make(StandardPropertyKeyMaker.java:100)\r\n    \tat com.amazon.janusgraph.creator.ObjectCreationCommand.run(ObjectCreationCommand.java:47)\r\n    \tat com.amazon.janusgraph.batch.BatchCommand.run(BatchCommand.java:34)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\nAnd lastly, an exception that I really don&#39;t understand is thrown:\r\n\r\n    58512 [pool-10-thread-8] ERROR com.amazon.janusgraph.example.MarvelGraphFactory  - Error processing line Could not find type for id: 11529 \r\n    java.lang.IllegalStateException: Could not find type for id: 11529\r\n    \tat com.google.common.base.Preconditions.checkState(Preconditions.java:197)\r\n    \tat org.janusgraph.graphdb.types.vertices.JanusGraphSchemaVertex.name(JanusGraphSchemaVertex.java:59)\r\n    \tat org.janusgraph.graphdb.types.vertices.JanusGraphSchemaVertex.asIndexType(JanusGraphSchemaVertex.java:177)\r\n    \tat org.janusgraph.graphdb.database.management.ManagementSystem.getGraphIndexDirect(ManagementSystem.java:412)\r\n    \tat org.janusgraph.graphdb.database.management.ManagementSystem.getGraphIndex(ManagementSystem.java:422)\r\n    \tat com.amazon.janusgraph.creator.ObjectCreationCommand.run(ObjectCreationCommand.java:55)\r\n    \tat com.amazon.janusgraph.batch.BatchCommand.run(BatchCommand.java:34)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\nBecause the final transaction is Null, a NullPointerException is thrown and the transaction is never committed; thus, my graph is initialized but empty.\r\n\r\nNormally I wouldn&#39;t post such a lengthy problem, but it appears that these are all related to 4-5 lines within the same class, ObjectCreationCommand, which I created.\r\n\r\n# ObjectCreationCommand.java #\r\n\r\n    package com.amazon.janusgraph.creator;\r\n    \r\n    import com.amazon.janusgraph.example.TravelGraphFactory;\r\n    import com.codahale.metrics.MetricRegistry;\r\n    import org.apache.commons.lang.exception.ExceptionUtils;\r\n    import org.apache.tinkerpop.gremlin.process.traversal.dsl.graph.GraphTraversalSource;\r\n    import org.apache.tinkerpop.gremlin.structure.Vertex;\r\n    import org.janusgraph.core.JanusGraph;\r\n    import com.amazon.janusgraph.triple.Triple;\r\n    import org.janusgraph.core.Multiplicity;\r\n    import org.janusgraph.core.PropertyKey;\r\n    import org.janusgraph.core.schema.JanusGraphManagement;\r\n    import org.slf4j.Logger;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.util.Iterator;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class ObjectCreationCommand implements Runnable {\r\n    \r\n        public static JanusGraph graph;\r\n        private static Triple triple;\r\n        private static MetricRegistry REGISTRY;\r\n        public static Logger LOG;\r\n        private static final String TIMER_LINE = &quot;TravelGraphFactory.line&quot;;\r\n        private static final String TIMER_CREATE = &quot;TravelGraphFactory.create_&quot;;\r\n        private static final String COUNTER_GET = &quot;TravelGraphFactory.get_&quot;;\r\n    \r\n        public ObjectCreationCommand(JanusGraph graph, Triple triple, MetricRegistry REGISTRY, Logger LOG) {\r\n            this.graph = graph;\r\n            this.triple = triple;\r\n            this.REGISTRY = REGISTRY;\r\n            this.LOG = LOG;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n    \r\n            JanusGraphManagement mgmt = graph.openManagement();\r\n            if (mgmt.getGraphIndex(triple.getRightObjectProperty()) == null) {\r\n                final PropertyKey hotelKey = mgmt.makePropertyKey(triple.getRightObjectProperty()).dataType(String.class).make();\r\n                mgmt.buildIndex(triple.getRightObjectProperty(), Vertex.class).addKey(hotelKey).unique().buildCompositeIndex();\r\n            }\r\n    \r\n            if (mgmt.getEdgeLabel(triple.getRelationship()) == null) {\r\n                mgmt.makeEdgeLabel(triple.getRelationship()).multiplicity(Multiplicity.MANY2ONE).make();\r\n            }\r\n    \r\n            if (mgmt.getGraphIndex(triple.getLeftObjectProperty()) == null) {\r\n                final PropertyKey brandTypeKey = mgmt.makePropertyKey(triple.getLeftObjectProperty()).dataType(String.class).make();\r\n                mgmt.buildIndex(triple.getLeftObjectProperty(), Vertex.class).addKey(brandTypeKey).unique().buildCompositeIndex();\r\n            }\r\n            mgmt.commit();\r\n    \r\n            long start = System.currentTimeMillis();\r\n    \r\n            String RIGHT_OBJECT_PROPERTY = triple.getRightObjectProperty();\r\n            Vertex rightObject = graph.addVertex();\r\n            rightObject.property(RIGHT_OBJECT_PROPERTY, triple.getRightObject());\r\n            REGISTRY.counter(COUNTER_GET + RIGHT_OBJECT_PROPERTY).inc();\r\n    \r\n            String LEFT_OBJECT_PROPERTY = triple.getLeftObjectProperty();\r\n            Vertex leftObject = graph.addVertex();\r\n            rightObject.property(LEFT_OBJECT_PROPERTY, triple.getLeftObject());\r\n            REGISTRY.counter(COUNTER_GET + LEFT_OBJECT_PROPERTY).inc();\r\n    \r\n            try {\r\n                processRelationship(graph, triple);\r\n            } catch (Throwable e) {\r\n                Throwable rootCause = ExceptionUtils.getRootCause(e);\r\n                String rootCauseMessage = null == rootCause ? &quot;&quot; : rootCause.getMessage();\r\n                LOG.error(&quot;Error processing line {} {}&quot;, e.getMessage(), rootCauseMessage, e);\r\n            }\r\n    \r\n            long end = System.currentTimeMillis();\r\n            long time = end - start;\r\n            REGISTRY.timer(TIMER_CREATE + RIGHT_OBJECT_PROPERTY).update(time, TimeUnit.MILLISECONDS);\r\n        }\r\n    \r\n        private static void processRelationship(JanusGraph graph, Triple triple) {\r\n            Vertex left = get(graph, triple.getLeftObjectProperty(), triple.getLeftObject());\r\n            if (null == left) {\r\n                REGISTRY.counter(&quot;error.missingLeftObject.&quot; + triple.getLeftObject()).inc();\r\n                left = graph.addVertex();\r\n                left.property(triple.getLeftObjectProperty(), triple.getLeftObject());\r\n            }\r\n            Vertex right = get(graph, triple.getRightObjectProperty(), triple.getRightObject());\r\n            if (null == right) {\r\n                REGISTRY.counter(&quot;error.missingRightObject.&quot; + triple.getRightObject()).inc();\r\n                right = graph.addVertex();\r\n                right.property(triple.getRightObjectProperty(), triple.getRightObject());\r\n            }\r\n            left.addEdge(triple.getRelationship(), right);\r\n        }\r\n    \r\n        private static Vertex get(final JanusGraph graph, final String key, final String value) {\r\n            final GraphTraversalSource g = graph.traversal();\r\n            final Iterator&lt;Vertex&gt; it = g.V().has(key, value);\r\n            return it.hasNext() ? it.next() : null;\r\n        }\r\n    \r\n    }\r\n\r\nThe exceptions above show that all the errors come from lines 47, 55 or 59 of that class:\r\n\r\n    JanusGraphManagement mgmt = graph.openManagement();\r\n    if (mgmt.getGraphIndex(triple.getRightObjectProperty()) == null) {\r\n        [47] final PropertyKey hotelKey = mgmt.makePropertyKey(triple.getRightObjectProperty()).dataType(String.class).make();\r\n        mgmt.buildIndex(triple.getRightObjectProperty(), Vertex.class).addKey(hotelKey).unique().buildCompositeIndex();\r\n    }\r\n\r\n    if (mgmt.getEdgeLabel(triple.getRelationship()) == null) {\r\n        mgmt.makeEdgeLabel(triple.getRelationship()).multiplicity(Multiplicity.MANY2ONE).make();\r\n    }\r\n\r\n    [55] if (mgmt.getGraphIndex(triple.getLeftObjectProperty()) == null) {\r\n        final PropertyKey brandTypeKey = mgmt.makePropertyKey(triple.getLeftObjectProperty()).dataType(String.class).make();\r\n        mgmt.buildIndex(triple.getLeftObjectProperty(), Vertex.class).addKey(brandTypeKey).unique().buildCompositeIndex();\r\n    }\r\n    [59] mgmt.commit();\r\n\r\n\r\nCan anyone help identify what I&#39;m doing wrong in this class? Whatever I&#39;m doing is locking up tables and creating schema problems.","title":"Generalizing DynamoDB + JanusGraph Factory: Lock and Schema Problems","body":"<p>I'm working on generalizing the DynamoDB + JanusGraph tutorial from AWS such that, given a standard .txt file with a standard convention, the program can ingest the data (as a Triple) and create the vertices, properties, and edges. Normally I wouldn't post such a lengthy problem, but it appears that these are all related to 4-5 lines within the same class, ObjectCreationCommand, which I created.</p>\n\n<p>An example Triple looks like this: <code>\"name:Jim Henson \\t isCreatorOf \\t televisionshow:The Muppets\"</code></p>\n\n<ol>\n<li>Left Object: Jim Henson</li>\n<li>Left Object Property: name</li>\n<li>Relationship: isCreatorOf</li>\n<li>Right Object: The Muppets</li>\n<li>Right Object Property: televisionshow</li>\n</ol>\n\n<p>Although the program compiles and runs, I get several exceptions thrown that prevent the graph from being filled. When I run the Factory program, it reads all of my triples and puts them into a Hash Set, but then the following error occurs (10 times, but this is only 1 example):</p>\n\n<pre><code>57338 [pool-10-thread-2] ERROR org.janusgraph.graphdb.database.StandardJanusGraph  - Could not commit transaction [10] due to exception\norg.janusgraph.diskstorage.locking.TemporaryLockingException: tx 0x181404008c7c already locked key-column ( 16-165-160-114-116- 30- 98-114- 97-110-100-116-121-112-229,  0) when tx 0x181408349015 tried to lock\n    at com.amazon.janusgraph.diskstorage.dynamodb.AbstractDynamoDBStore.acquireLock(AbstractDynamoDBStore.java:132)\n    at org.janusgraph.diskstorage.util.MetricInstrumentedStore$4.call(MetricInstrumentedStore.java:155)\n    at org.janusgraph.diskstorage.util.MetricInstrumentedStore$4.call(MetricInstrumentedStore.java:153)\n    at org.janusgraph.diskstorage.util.MetricInstrumentedStore.runWithMetrics(MetricInstrumentedStore.java:217)\n    at org.janusgraph.diskstorage.util.MetricInstrumentedStore.acquireLock(MetricInstrumentedStore.java:152)\n    at org.janusgraph.diskstorage.keycolumnvalue.KCVSProxy.acquireLock(KCVSProxy.java:52)\n    at org.janusgraph.diskstorage.BackendTransaction.acquireIndexLock(BackendTransaction.java:255)\n    at org.janusgraph.graphdb.database.StandardJanusGraph.prepareCommit(StandardJanusGraph.java:565)\n    at org.janusgraph.graphdb.database.StandardJanusGraph.commit(StandardJanusGraph.java:694)\n    at org.janusgraph.graphdb.transaction.StandardJanusGraphTx.commit(StandardJanusGraphTx.java:1363)\n    at org.janusgraph.graphdb.database.management.ManagementSystem.commit(ManagementSystem.java:235)\n    at com.amazon.janusgraph.creator.ObjectCreationCommand.run(ObjectCreationCommand.java:59)\n    at com.amazon.janusgraph.batch.BatchCommand.run(BatchCommand.java:34)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>Next, a similar exception is thrown:</p>\n\n<pre><code>57427 [pool-10-thread-10] ERROR com.amazon.janusgraph.example.MarvelGraphFactory  - Error processing line Could not commit transaction due to exception during persistence tx 0x181404008c7c already locked key-column ( 16-165-160-114-116- 30- 98-114- 97-110-100-116-121-112-229,  0) when tx 0x181403f69b77 tried to lock\norg.janusgraph.core.JanusGraphException: Could not commit transaction due to exception during persistence\n    at org.janusgraph.graphdb.transaction.StandardJanusGraphTx.commit(StandardJanusGraphTx.java:1374)\n    at org.janusgraph.graphdb.database.management.ManagementSystem.commit(ManagementSystem.java:235)\n    at com.amazon.janusgraph.creator.ObjectCreationCommand.run(ObjectCreationCommand.java:59)\n    at com.amazon.janusgraph.batch.BatchCommand.run(BatchCommand.java:34)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.janusgraph.core.JanusGraphException: Unexpected exception\n    at org.janusgraph.graphdb.database.StandardJanusGraph.commit(StandardJanusGraph.java:798)\n    at org.janusgraph.graphdb.transaction.StandardJanusGraphTx.commit(StandardJanusGraphTx.java:1363)\n    ... 6 more\nCaused by: org.janusgraph.diskstorage.locking.TemporaryLockingException: tx 0x181404008c7c already locked key-column ( 16-165-160-114-116- 30- 98-114- 97-110-100-116-121-112-229,  0) when tx 0x181403f69b77 tried to lock\n    at com.amazon.janusgraph.diskstorage.dynamodb.AbstractDynamoDBStore.acquireLock(AbstractDynamoDBStore.java:132)\n    at org.janusgraph.diskstorage.util.MetricInstrumentedStore$4.call(MetricInstrumentedStore.java:155)\n    at org.janusgraph.diskstorage.util.MetricInstrumentedStore$4.call(MetricInstrumentedStore.java:153)\n    at org.janusgraph.diskstorage.util.MetricInstrumentedStore.runWithMetrics(MetricInstrumentedStore.java:217)\n    at org.janusgraph.diskstorage.util.MetricInstrumentedStore.acquireLock(MetricInstrumentedStore.java:152)\n    at org.janusgraph.diskstorage.keycolumnvalue.KCVSProxy.acquireLock(KCVSProxy.java:52)\n    at org.janusgraph.diskstorage.BackendTransaction.acquireIndexLock(BackendTransaction.java:255)\n    at org.janusgraph.graphdb.database.StandardJanusGraph.prepareCommit(StandardJanusGraph.java:565)\n    at org.janusgraph.graphdb.database.StandardJanusGraph.commit(StandardJanusGraph.java:694)\n    ... 7 more\n</code></pre>\n\n<p>And then a schema-related exception is thrown:</p>\n\n<pre><code>58030 [pool-10-thread-4] ERROR com.amazon.janusgraph.example.MarvelGraphFactory  - Error processing line Adding this property for key [~T$SchemaName] and value [rtbrandtype] violates a uniqueness constraint [SystemIndex#~T$SchemaName] \norg.janusgraph.core.SchemaViolationException: Adding this property for key [~T$SchemaName] and value [rtbrandtype] violates a uniqueness constraint [SystemIndex#~T$SchemaName]\n    at org.janusgraph.graphdb.transaction.StandardJanusGraphTx.addProperty(StandardJanusGraphTx.java:791)\n    at org.janusgraph.graphdb.transaction.StandardJanusGraphTx.addProperty(StandardJanusGraphTx.java:720)\n    at org.janusgraph.graphdb.transaction.StandardJanusGraphTx.makeSchemaVertex(StandardJanusGraphTx.java:847)\n    at org.janusgraph.graphdb.transaction.StandardJanusGraphTx.makePropertyKey(StandardJanusGraphTx.java:867)\n    at org.janusgraph.graphdb.types.StandardPropertyKeyMaker.make(StandardPropertyKeyMaker.java:100)\n    at com.amazon.janusgraph.creator.ObjectCreationCommand.run(ObjectCreationCommand.java:47)\n    at com.amazon.janusgraph.batch.BatchCommand.run(BatchCommand.java:34)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>And lastly, an exception that I really don't understand is thrown:</p>\n\n<pre><code>58512 [pool-10-thread-8] ERROR com.amazon.janusgraph.example.MarvelGraphFactory  - Error processing line Could not find type for id: 11529 \njava.lang.IllegalStateException: Could not find type for id: 11529\n    at com.google.common.base.Preconditions.checkState(Preconditions.java:197)\n    at org.janusgraph.graphdb.types.vertices.JanusGraphSchemaVertex.name(JanusGraphSchemaVertex.java:59)\n    at org.janusgraph.graphdb.types.vertices.JanusGraphSchemaVertex.asIndexType(JanusGraphSchemaVertex.java:177)\n    at org.janusgraph.graphdb.database.management.ManagementSystem.getGraphIndexDirect(ManagementSystem.java:412)\n    at org.janusgraph.graphdb.database.management.ManagementSystem.getGraphIndex(ManagementSystem.java:422)\n    at com.amazon.janusgraph.creator.ObjectCreationCommand.run(ObjectCreationCommand.java:55)\n    at com.amazon.janusgraph.batch.BatchCommand.run(BatchCommand.java:34)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>Because the final transaction is Null, a NullPointerException is thrown and the transaction is never committed; thus, my graph is initialized but empty.</p>\n\n<p>Normally I wouldn't post such a lengthy problem, but it appears that these are all related to 4-5 lines within the same class, ObjectCreationCommand, which I created.</p>\n\n<h1>ObjectCreationCommand.java</h1>\n\n<pre><code>package com.amazon.janusgraph.creator;\n\nimport com.amazon.janusgraph.example.TravelGraphFactory;\nimport com.codahale.metrics.MetricRegistry;\nimport org.apache.commons.lang.exception.ExceptionUtils;\nimport org.apache.tinkerpop.gremlin.process.traversal.dsl.graph.GraphTraversalSource;\nimport org.apache.tinkerpop.gremlin.structure.Vertex;\nimport org.janusgraph.core.JanusGraph;\nimport com.amazon.janusgraph.triple.Triple;\nimport org.janusgraph.core.Multiplicity;\nimport org.janusgraph.core.PropertyKey;\nimport org.janusgraph.core.schema.JanusGraphManagement;\nimport org.slf4j.Logger;\n\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.Iterator;\nimport java.util.concurrent.TimeUnit;\n\npublic class ObjectCreationCommand implements Runnable {\n\n    public static JanusGraph graph;\n    private static Triple triple;\n    private static MetricRegistry REGISTRY;\n    public static Logger LOG;\n    private static final String TIMER_LINE = \"TravelGraphFactory.line\";\n    private static final String TIMER_CREATE = \"TravelGraphFactory.create_\";\n    private static final String COUNTER_GET = \"TravelGraphFactory.get_\";\n\n    public ObjectCreationCommand(JanusGraph graph, Triple triple, MetricRegistry REGISTRY, Logger LOG) {\n        this.graph = graph;\n        this.triple = triple;\n        this.REGISTRY = REGISTRY;\n        this.LOG = LOG;\n    }\n\n    @Override\n    public void run() {\n\n        JanusGraphManagement mgmt = graph.openManagement();\n        if (mgmt.getGraphIndex(triple.getRightObjectProperty()) == null) {\n            final PropertyKey hotelKey = mgmt.makePropertyKey(triple.getRightObjectProperty()).dataType(String.class).make();\n            mgmt.buildIndex(triple.getRightObjectProperty(), Vertex.class).addKey(hotelKey).unique().buildCompositeIndex();\n        }\n\n        if (mgmt.getEdgeLabel(triple.getRelationship()) == null) {\n            mgmt.makeEdgeLabel(triple.getRelationship()).multiplicity(Multiplicity.MANY2ONE).make();\n        }\n\n        if (mgmt.getGraphIndex(triple.getLeftObjectProperty()) == null) {\n            final PropertyKey brandTypeKey = mgmt.makePropertyKey(triple.getLeftObjectProperty()).dataType(String.class).make();\n            mgmt.buildIndex(triple.getLeftObjectProperty(), Vertex.class).addKey(brandTypeKey).unique().buildCompositeIndex();\n        }\n        mgmt.commit();\n\n        long start = System.currentTimeMillis();\n\n        String RIGHT_OBJECT_PROPERTY = triple.getRightObjectProperty();\n        Vertex rightObject = graph.addVertex();\n        rightObject.property(RIGHT_OBJECT_PROPERTY, triple.getRightObject());\n        REGISTRY.counter(COUNTER_GET + RIGHT_OBJECT_PROPERTY).inc();\n\n        String LEFT_OBJECT_PROPERTY = triple.getLeftObjectProperty();\n        Vertex leftObject = graph.addVertex();\n        rightObject.property(LEFT_OBJECT_PROPERTY, triple.getLeftObject());\n        REGISTRY.counter(COUNTER_GET + LEFT_OBJECT_PROPERTY).inc();\n\n        try {\n            processRelationship(graph, triple);\n        } catch (Throwable e) {\n            Throwable rootCause = ExceptionUtils.getRootCause(e);\n            String rootCauseMessage = null == rootCause ? \"\" : rootCause.getMessage();\n            LOG.error(\"Error processing line {} {}\", e.getMessage(), rootCauseMessage, e);\n        }\n\n        long end = System.currentTimeMillis();\n        long time = end - start;\n        REGISTRY.timer(TIMER_CREATE + RIGHT_OBJECT_PROPERTY).update(time, TimeUnit.MILLISECONDS);\n    }\n\n    private static void processRelationship(JanusGraph graph, Triple triple) {\n        Vertex left = get(graph, triple.getLeftObjectProperty(), triple.getLeftObject());\n        if (null == left) {\n            REGISTRY.counter(\"error.missingLeftObject.\" + triple.getLeftObject()).inc();\n            left = graph.addVertex();\n            left.property(triple.getLeftObjectProperty(), triple.getLeftObject());\n        }\n        Vertex right = get(graph, triple.getRightObjectProperty(), triple.getRightObject());\n        if (null == right) {\n            REGISTRY.counter(\"error.missingRightObject.\" + triple.getRightObject()).inc();\n            right = graph.addVertex();\n            right.property(triple.getRightObjectProperty(), triple.getRightObject());\n        }\n        left.addEdge(triple.getRelationship(), right);\n    }\n\n    private static Vertex get(final JanusGraph graph, final String key, final String value) {\n        final GraphTraversalSource g = graph.traversal();\n        final Iterator&lt;Vertex&gt; it = g.V().has(key, value);\n        return it.hasNext() ? it.next() : null;\n    }\n\n}\n</code></pre>\n\n<p>The exceptions above show that all the errors come from lines 47, 55 or 59 of that class:</p>\n\n<pre><code>JanusGraphManagement mgmt = graph.openManagement();\nif (mgmt.getGraphIndex(triple.getRightObjectProperty()) == null) {\n    [47] final PropertyKey hotelKey = mgmt.makePropertyKey(triple.getRightObjectProperty()).dataType(String.class).make();\n    mgmt.buildIndex(triple.getRightObjectProperty(), Vertex.class).addKey(hotelKey).unique().buildCompositeIndex();\n}\n\nif (mgmt.getEdgeLabel(triple.getRelationship()) == null) {\n    mgmt.makeEdgeLabel(triple.getRelationship()).multiplicity(Multiplicity.MANY2ONE).make();\n}\n\n[55] if (mgmt.getGraphIndex(triple.getLeftObjectProperty()) == null) {\n    final PropertyKey brandTypeKey = mgmt.makePropertyKey(triple.getLeftObjectProperty()).dataType(String.class).make();\n    mgmt.buildIndex(triple.getLeftObjectProperty(), Vertex.class).addKey(brandTypeKey).unique().buildCompositeIndex();\n}\n[59] mgmt.commit();\n</code></pre>\n\n<p>Can anyone help identify what I'm doing wrong in this class? Whatever I'm doing is locking up tables and creating schema problems.</p>\n"},{"tags":["java","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1675031806,"post_id":75277407,"comment_id":132835677,"body_markdown":"A 403 means the role ADD_PRODUCT has not been added to the users security context. Please add the class that adds this role - named WebSecurityConfig or similar. Also what auth params are set up in postman","body":"A 403 means the role ADD_PRODUCT has not been added to the users security context. Please add the class that adds this role - named WebSecurityConfig or similar. Also what auth params are set up in postman"},{"owner":{"account_id":24860398,"reputation":21,"user_id":18736248,"display_name":"Dadaboy Masharipov"},"score":0,"creation_date":1675072977,"post_id":75277407,"comment_id":132842312,"body_markdown":"It has Role ADD_PRODUCT I double checked it.  Bearer Token","body":"It has Role ADD_PRODUCT I double checked it.  Bearer Token"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1675078852,"post_id":75277407,"comment_id":132844090,"body_markdown":"Please add the class that adds this role - named WebSecurityConfig or similar, ie how do the roles in the Bearer Token get into the security context?","body":"Please add the class that adds this role - named WebSecurityConfig or similar, ie how do the roles in the Bearer Token get into the security context?"},{"owner":{"account_id":24860398,"reputation":21,"user_id":18736248,"display_name":"Dadaboy Masharipov"},"score":0,"creation_date":1675082994,"post_id":75277407,"comment_id":132845368,"body_markdown":"Yeah you have a point there \nNow I try  @PreAuthorize(&quot;hasAuthority(&#39;ADD_PRODUCT&#39;)&quot;)","body":"Yeah you have a point there  Now I try  @PreAuthorize(&quot;hasAuthority(&#39;ADD_PRODUCT&#39;)&quot;)"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675083566,"post_id":75277407,"comment_id":132845574,"body_markdown":"Did this fix the 403? If it did I would like to turn my comment into the accepted answer. Can you take the @PreAuthorize out of the question.","body":"Did this fix the 403? If it did I would like to turn my comment into the accepted answer. Can you take the @PreAuthorize out of the question."}],"answers":[{"comments":[{"owner":{"account_id":24860398,"reputation":21,"user_id":18736248,"display_name":"Dadaboy Masharipov"},"score":0,"creation_date":1675074112,"post_id":75277443,"comment_id":132842645,"body_markdown":"I checked https as well but it didn&#39;t help","body":"I checked https as well but it didn&#39;t help"}],"tags":[],"owner":{"account_id":25643722,"reputation":33,"user_id":19412134,"display_name":"Archibald"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675017646,"creation_date":1675017646,"answer_id":75277443,"question_id":75277407,"body_markdown":"The 403 in postman I usually get it when I use ```http``` instead of ```https``` in the URL. I think you can try editing the postman URL or if that doesn&#39;t work try to tell the spring boot app to use simple http.","title":"How to send MultipartFile and Json in spring boot","body":"<p>The 403 in postman I usually get it when I use <code>http</code> instead of <code>https</code> in the URL. I think you can try editing the postman URL or if that doesn't work try to tell the spring boot app to use simple http.</p>\n"}],"owner":{"account_id":24860398,"reputation":21,"user_id":18736248,"display_name":"Dadaboy Masharipov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675328887,"creation_date":1675017307,"question_id":75277407,"body_markdown":"&gt; Here is my controller:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/product&quot;)\r\npublic class ProductController {\r\n\r\n    @Autowired\r\n    ProductService productService;\r\n    \r\n    @PreAuthorize(value = &quot;hasRole(&#39;ADD_PRODUCT&#39;)&quot;)\r\n    @PostMapping(value = &quot;/add&quot;, consumes = {\r\n            MediaType.MULTIPART_FORM_DATA_VALUE,\r\n            MediaType.APPLICATION_JSON_VALUE\r\n    })\r\n    public HttpEntity&lt;?&gt; addProduct(@CurrentUser User user,\r\n                                    @RequestPart(&quot;files&quot;) MultipartFile multipartFile,\r\n                                    @Valid @RequestPart(&quot;info&quot;) ProductDto productDto) {\r\n        ApiResponse apiResponse = productService.addProduct(user, productDto, multipartFile);\r\n        return ResponseEntity.status(apiResponse.isSuccess() ? 201 : 409).body(apiResponse);\r\n    }\r\n\r\n}\r\n```\r\n\r\nIt should receive a `MultipartFile` and `Json object` and my `ProductDto` class is:\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class ProductDto {\r\n\r\n    @NotNull(message = &quot;Name can&#39;t be empty&quot;)\r\n    @NotBlank(message = &quot;Name can&#39;t be blank&quot;)\r\n    private String name;\r\n    \r\n    @Length(max = 1000)\r\n    private String description;\r\n    \r\n    \r\n    @NotNull(message = &quot;Price can&#39;t be empty&quot;)\r\n    private double price;//Evaluated in the $\r\n    \r\n    @NotNull(message = &quot;You should choose one of the categories&quot;)\r\n    private UUID categoryId;\r\n\r\n}\r\n```\r\n\r\nI&#39;m finding difficulties when I try to send request:\r\n[![enter image description here](https://i.stack.imgur.com/Q9ZIk.png)](https://i.stack.imgur.com/Q9ZIk.png)\r\n\r\nBut it always giving me `403 Forbidden` and I don&#39;t know the reason.\r\n\r\nThis request is not coming to `addProduct()` method at all and I have permission `&quot;ADD_PRODUCT&quot;`. \r\n\r\n`@CurrentUser` annotation class is:\r\n\r\n```\r\n@Documented\r\n@Retention(value = RetentionPolicy.RUNTIME)\r\n@Target(ElementType.PARAMETER) \r\n@AuthenticationPrincipal\r\npublic @interface CurrentUser { } \r\n```\r\n\r\nNot any error or exception is thrown as well.\r\n\r\nI have tried `@RequestParam` and `@RequestPart` both annotations.\r\n\r\nI want to learn how to deal with situations like this when sending `MultipartFile` and `Json` object simultaneously. \r\n\r\nHow can I do that in `Spring boot`?","title":"How to send MultipartFile and Json in spring boot","body":"<blockquote>\n<p>Here is my controller:</p>\n</blockquote>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/product&quot;)\npublic class ProductController {\n\n    @Autowired\n    ProductService productService;\n    \n    @PreAuthorize(value = &quot;hasRole('ADD_PRODUCT')&quot;)\n    @PostMapping(value = &quot;/add&quot;, consumes = {\n            MediaType.MULTIPART_FORM_DATA_VALUE,\n            MediaType.APPLICATION_JSON_VALUE\n    })\n    public HttpEntity&lt;?&gt; addProduct(@CurrentUser User user,\n                                    @RequestPart(&quot;files&quot;) MultipartFile multipartFile,\n                                    @Valid @RequestPart(&quot;info&quot;) ProductDto productDto) {\n        ApiResponse apiResponse = productService.addProduct(user, productDto, multipartFile);\n        return ResponseEntity.status(apiResponse.isSuccess() ? 201 : 409).body(apiResponse);\n    }\n\n}\n</code></pre>\n<p>It should receive a <code>MultipartFile</code> and <code>Json object</code> and my <code>ProductDto</code> class is:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ProductDto {\n\n    @NotNull(message = &quot;Name can't be empty&quot;)\n    @NotBlank(message = &quot;Name can't be blank&quot;)\n    private String name;\n    \n    @Length(max = 1000)\n    private String description;\n    \n    \n    @NotNull(message = &quot;Price can't be empty&quot;)\n    private double price;//Evaluated in the $\n    \n    @NotNull(message = &quot;You should choose one of the categories&quot;)\n    private UUID categoryId;\n\n}\n</code></pre>\n<p>I'm finding difficulties when I try to send request:\n<a href=\"https://i.stack.imgur.com/Q9ZIk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q9ZIk.png\" alt=\"enter image description here\" /></a></p>\n<p>But it always giving me <code>403 Forbidden</code> and I don't know the reason.</p>\n<p>This request is not coming to <code>addProduct()</code> method at all and I have permission <code>&quot;ADD_PRODUCT&quot;</code>.</p>\n<p><code>@CurrentUser</code> annotation class is:</p>\n<pre><code>@Documented\n@Retention(value = RetentionPolicy.RUNTIME)\n@Target(ElementType.PARAMETER) \n@AuthenticationPrincipal\npublic @interface CurrentUser { } \n</code></pre>\n<p>Not any error or exception is thrown as well.</p>\n<p>I have tried <code>@RequestParam</code> and <code>@RequestPart</code> both annotations.</p>\n<p>I want to learn how to deal with situations like this when sending <code>MultipartFile</code> and <code>Json</code> object simultaneously.</p>\n<p>How can I do that in <code>Spring boot</code>?</p>\n"},{"tags":["java","apache-spark","log4j"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1643777870,"post_id":70950580,"comment_id":125426922,"body_markdown":"The error seems clear to me. You are trying to log a message, using Log4j, from the code of method `processMessages`, in class `processclass` and the pattern you are using is invalid. I suggest that you check the syntax for patterns in Log4j.","body":"The error seems clear to me. You are trying to log a message, using Log4j, from the code of method <code>processMessages</code>, in class <code>processclass</code> and the pattern you are using is invalid. I suggest that you check the syntax for patterns in Log4j."},{"owner":{"account_id":10224720,"reputation":312,"user_id":9552269,"display_name":"Anupam"},"score":0,"creation_date":1643778092,"post_id":70950580,"comment_id":125426946,"body_markdown":"@Abra the issue we don&#39;t use this pattern at all .I have updated the question with the pattern that we uses","body":"@Abra the issue we don&#39;t use this pattern at all .I have updated the question with the pattern that we uses"}],"owner":{"account_id":10224720,"reputation":312,"user_id":9552269,"display_name":"Anupam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":581,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675328820,"creation_date":1643776760,"question_id":70950580,"body_markdown":"I am getting this error in my application which is running on EMR \r\nHere  are few details about this error \r\n1. It is not consistent. This error comes once in while (in two days or in a week also).\r\n2. We have tried building JARs from Local /Jenkins/Maven but no luck. Still this errors appears.\r\n3. Verified class in the JAR file and it is present at correct location.\r\n4. It does not look like corrupted jars or class not present issue as this error is not consistent.\r\n\r\nHere is the complete stack trace \r\n\r\n    java.lang.IllegalArgumentException: Cannot parse pattern &#39;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&#39;\r\n    \tat org.apache.logging.log4j.core.layout.PatternLayout$SerializerBuilder.build(PatternLayout.java:490)\r\n    \tat org.apache.logging.log4j.core.layout.PatternLayout.&lt;init&gt;(PatternLayout.java:140)\r\n    \tat org.apache.logging.log4j.core.layout.PatternLayout.&lt;init&gt;(PatternLayout.java:61)\r\n    \tat org.apache.logging.log4j.core.layout.PatternLayout$Builder.build(PatternLayout.java:770)\r\n    \tat org.apache.logging.log4j.core.config.AbstractConfiguration.setToDefault(AbstractConfiguration.java:715)\r\n    \tat org.apache.logging.log4j.core.config.DefaultConfiguration.&lt;init&gt;(DefaultConfiguration.java:47)\r\n    \tat org.apache.logging.log4j.core.LoggerContext.&lt;init&gt;(LoggerContext.java:95)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(ClassLoaderContextSelector.java:254)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:218)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:136)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:123)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:117)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:150)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\n    \tat org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\n    \tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\r\n    \tat com.company.search.tcp.rdf.jumper.driver.processclass.processMessages(processclass.java:110)\r\n    \tat com.company.search.ecp.tcp.jumper.driver.processclass.lambda$process$5dfe0a07$1(processclass.java:95)\r\n    \tat org.apache.spark.api.java.JavaRDDLike$$anonfun$foreachPartitionAsync$1.apply(JavaRDDLike.scala:741)\r\n    \tat org.apache.spark.api.java.JavaRDDLike$$anonfun$foreachPartitionAsync$1.apply(JavaRDDLike.scala:741)\r\n    \tat org.apache.spark.SparkContext$$anonfun$37.apply(SparkContext.scala:2212)\r\n    \tat org.apache.spark.SparkContext$$anonfun$37.apply(SparkContext.scala:2212)\r\n    \tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n    \tat org.apache.spark.scheduler.Task.run(Task.scala:123)\r\n    \tat org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\r\n    \tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1360)\r\n    \tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.lang.IllegalStateException: zip file closed\r\n    \tat java.util.zip.ZipFile.ensureOpen(ZipFile.java:690)\r\n    \tat java.util.zip.ZipFile.access$200(ZipFile.java:61)\r\n    \tat java.util.zip.ZipFile$ZipEntryIterator.hasNext(ZipFile.java:512)\r\n    \tat java.util.zip.ZipFile$ZipEntryIterator.hasMoreElements(ZipFile.java:507)\r\n    \tat java.util.jar.JarFile$JarEntryIterator.hasNext(JarFile.java:264)\r\n    \tat java.util.jar.JarFile$JarEntryIterator.hasMoreElements(JarFile.java:273)\r\n    \tat org.apache.logging.log4j.core.config.plugins.util.ResolverUtil.loadImplementationsInJar(ResolverUtil.java:347)\r\n    \tat org.apache.logging.log4j.core.config.plugins.util.ResolverUtil.findInPackage(ResolverUtil.java:233)\r\n    \tat org.apache.logging.log4j.core.config.plugins.util.PluginRegistry.loadFromPackage(PluginRegistry.java:225)\r\n    \tat org.apache.logging.log4j.core.config.plugins.util.PluginManager.collectPlugins(PluginManager.java:136)\r\n    \tat org.apache.logging.log4j.core.pattern.PatternParser.&lt;init&gt;(PatternParser.java:132)\r\n    \tat org.apache.logging.log4j.core.pattern.PatternParser.&lt;init&gt;(PatternParser.java:113)\r\n    \tat org.apache.logging.log4j.core.layout.PatternLayout.createPatternParser(PatternLayout.java:255)\r\n    \tat org.apache.logging.log4j.core.layout.PatternLayout$SerializerBuilder.build(PatternLayout.java:473)\r\n    \t... 29 more\r\n\r\nwe don&#39;t use the pattern mentioned in the error stack trace at all .\r\nWe use below in our code \r\n\r\n    name=&quot;OFF_File_appender&quot;\r\n    fileName=&quot;$${sys:spark.yarn.app.container.log.dir}/log4j2.log&quot;\r\n    filePattern=&quot;$$${sys:spark.yarn.app.container.log.dir}/log4j2.log.%d{yyyy-MM-dd-HH}&quot;\r\n    &gt;\r\n    &lt;PatternLayout pattern=&quot;%d{ISO8601} %-5level %c{3}[%X{currentContext}] - [log4j2] %msg%n&quot;/&gt;","title":"java.lang.IllegalArgumentException: Cannot parse pattern for log back","body":"<p>I am getting this error in my application which is running on EMR\nHere  are few details about this error</p>\n<ol>\n<li>It is not consistent. This error comes once in while (in two days or in a week also).</li>\n<li>We have tried building JARs from Local /Jenkins/Maven but no luck. Still this errors appears.</li>\n<li>Verified class in the JAR file and it is present at correct location.</li>\n<li>It does not look like corrupted jars or class not present issue as this error is not consistent.</li>\n</ol>\n<p>Here is the complete stack trace</p>\n<pre><code>java.lang.IllegalArgumentException: Cannot parse pattern '%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n'\n    at org.apache.logging.log4j.core.layout.PatternLayout$SerializerBuilder.build(PatternLayout.java:490)\n    at org.apache.logging.log4j.core.layout.PatternLayout.&lt;init&gt;(PatternLayout.java:140)\n    at org.apache.logging.log4j.core.layout.PatternLayout.&lt;init&gt;(PatternLayout.java:61)\n    at org.apache.logging.log4j.core.layout.PatternLayout$Builder.build(PatternLayout.java:770)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.setToDefault(AbstractConfiguration.java:715)\n    at org.apache.logging.log4j.core.config.DefaultConfiguration.&lt;init&gt;(DefaultConfiguration.java:47)\n    at org.apache.logging.log4j.core.LoggerContext.&lt;init&gt;(LoggerContext.java:95)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(ClassLoaderContextSelector.java:254)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:218)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:136)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:123)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:117)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:150)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\n    at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\n    at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\n    at com.company.search.tcp.rdf.jumper.driver.processclass.processMessages(processclass.java:110)\n    at com.company.search.ecp.tcp.jumper.driver.processclass.lambda$process$5dfe0a07$1(processclass.java:95)\n    at org.apache.spark.api.java.JavaRDDLike$$anonfun$foreachPartitionAsync$1.apply(JavaRDDLike.scala:741)\n    at org.apache.spark.api.java.JavaRDDLike$$anonfun$foreachPartitionAsync$1.apply(JavaRDDLike.scala:741)\n    at org.apache.spark.SparkContext$$anonfun$37.apply(SparkContext.scala:2212)\n    at org.apache.spark.SparkContext$$anonfun$37.apply(SparkContext.scala:2212)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\n    at org.apache.spark.scheduler.Task.run(Task.scala:123)\n    at org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1360)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.IllegalStateException: zip file closed\n    at java.util.zip.ZipFile.ensureOpen(ZipFile.java:690)\n    at java.util.zip.ZipFile.access$200(ZipFile.java:61)\n    at java.util.zip.ZipFile$ZipEntryIterator.hasNext(ZipFile.java:512)\n    at java.util.zip.ZipFile$ZipEntryIterator.hasMoreElements(ZipFile.java:507)\n    at java.util.jar.JarFile$JarEntryIterator.hasNext(JarFile.java:264)\n    at java.util.jar.JarFile$JarEntryIterator.hasMoreElements(JarFile.java:273)\n    at org.apache.logging.log4j.core.config.plugins.util.ResolverUtil.loadImplementationsInJar(ResolverUtil.java:347)\n    at org.apache.logging.log4j.core.config.plugins.util.ResolverUtil.findInPackage(ResolverUtil.java:233)\n    at org.apache.logging.log4j.core.config.plugins.util.PluginRegistry.loadFromPackage(PluginRegistry.java:225)\n    at org.apache.logging.log4j.core.config.plugins.util.PluginManager.collectPlugins(PluginManager.java:136)\n    at org.apache.logging.log4j.core.pattern.PatternParser.&lt;init&gt;(PatternParser.java:132)\n    at org.apache.logging.log4j.core.pattern.PatternParser.&lt;init&gt;(PatternParser.java:113)\n    at org.apache.logging.log4j.core.layout.PatternLayout.createPatternParser(PatternLayout.java:255)\n    at org.apache.logging.log4j.core.layout.PatternLayout$SerializerBuilder.build(PatternLayout.java:473)\n    ... 29 more\n</code></pre>\n<p>we don't use the pattern mentioned in the error stack trace at all .\nWe use below in our code</p>\n<pre><code>name=&quot;OFF_File_appender&quot;\nfileName=&quot;$${sys:spark.yarn.app.container.log.dir}/log4j2.log&quot;\nfilePattern=&quot;$$${sys:spark.yarn.app.container.log.dir}/log4j2.log.%d{yyyy-MM-dd-HH}&quot;\n&gt;\n&lt;PatternLayout pattern=&quot;%d{ISO8601} %-5level %c{3}[%X{currentContext}] - [log4j2] %msg%n&quot;/&gt;\n</code></pre>\n"},{"tags":["java","spring","jackson","postman"],"answers":[{"tags":[],"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675271833,"creation_date":1675271833,"answer_id":75313864,"question_id":75308762,"body_markdown":"You didn&#39;t mention it, but it appears you&#39;re using `Spring` framework for working with `HTTP` and `Jackson` for `JSON` handling. `Spring` framework actually uses `Jackson` as its default implementation for parsing request and response bodies. `Spring` [docs](https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-json.html):\r\n&gt; Spring Boot provides integration with three JSON mapping libraries:\r\n&gt; * Gson\r\n&gt; * Jackson\r\n&gt; * JSON-B\r\n&gt;\r\n&gt;Jackson is the preferred and default library.\r\n\r\nIt means that each time an `HTTP` request reaches your controller method, `Jackson` parses the raw `HTTP` body into an `Item` object:\r\n```java\r\n@PostMapping\r\npublic void add(@RequestBody Item newItem) {\r\n    //newItem have already parsed from JSON by Jackson\r\n    itemSer.addNewItem(newItem);\r\n}\r\n```\r\n\r\n`Jackson` has a modular design, meaning that it can be extended with modules to provide additional functionality. A module is a collection of serializers, deserializers, and other components that extend Jackson&#39;s capabilities.\r\nFor example, the `JavaTimeModule` provides support for serializing and deserializing `Java 8` date and time classes, such as `LocalDate` and `LocalDateTime`.\r\n\r\nTo use a particular module in Jackson, you simply need to register it with an instance of the `ObjectMapper` class. This can be done with the `registerModule()` method, as shown in the example in your question. \r\n\r\nOnce registered with an `ObjectMapper`, a module&#39;s serializers and deserializers become available for parsing `HTTP` bodies and you can then use `Jackson` annotations like `@JsonFormat` to further customize the serialization and deserialization of specific classes and fields.\r\n\r\nBefore `Java 8`, Jackson supported `Java 6` and `7`, which did not have any built-in date and time classes. So, to handle dates and times, `Jackson` relied on external libraries, such as [Joda Time](https://www.joda.org/joda-time/), or on custom serializers and deserializers that were written by the user.\r\n___\r\n- If you want to learn more about `Jackson`, you can read its official [comprehensive documentation](https://github.com/FasterXML/jackson-docs).\r\n- Here is a `jackson-modules-java8` [GitHub repository](https://github.com/FasterXML/jackson-modules-java8) \r\n- Quite good [thread](https://stackoverflow.com/questions/21384820/is-there-a-jackson-datatype-module-for-jdk8-java-time) is exists that explains how to connect `jackson-datatype-jsr310` module to `Jackson`.\r\n","title":"Post request and &quot;The method received in the request-line is known by the origin server but not supported by the target resource&quot; error","body":"<p>You didn't mention it, but it appears you're using <code>Spring</code> framework for working with <code>HTTP</code> and <code>Jackson</code> for <code>JSON</code> handling. <code>Spring</code> framework actually uses <code>Jackson</code> as its default implementation for parsing request and response bodies. <code>Spring</code> <a href=\"https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-json.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>Spring Boot provides integration with three JSON mapping libraries:</p>\n<ul>\n<li>Gson</li>\n<li>Jackson</li>\n<li>JSON-B</li>\n</ul>\n<p>Jackson is the preferred and default library.</p>\n</blockquote>\n<p>It means that each time an <code>HTTP</code> request reaches your controller method, <code>Jackson</code> parses the raw <code>HTTP</code> body into an <code>Item</code> object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping\npublic void add(@RequestBody Item newItem) {\n    //newItem have already parsed from JSON by Jackson\n    itemSer.addNewItem(newItem);\n}\n</code></pre>\n<p><code>Jackson</code> has a modular design, meaning that it can be extended with modules to provide additional functionality. A module is a collection of serializers, deserializers, and other components that extend Jackson's capabilities.\nFor example, the <code>JavaTimeModule</code> provides support for serializing and deserializing <code>Java 8</code> date and time classes, such as <code>LocalDate</code> and <code>LocalDateTime</code>.</p>\n<p>To use a particular module in Jackson, you simply need to register it with an instance of the <code>ObjectMapper</code> class. This can be done with the <code>registerModule()</code> method, as shown in the example in your question.</p>\n<p>Once registered with an <code>ObjectMapper</code>, a module's serializers and deserializers become available for parsing <code>HTTP</code> bodies and you can then use <code>Jackson</code> annotations like <code>@JsonFormat</code> to further customize the serialization and deserialization of specific classes and fields.</p>\n<p>Before <code>Java 8</code>, Jackson supported <code>Java 6</code> and <code>7</code>, which did not have any built-in date and time classes. So, to handle dates and times, <code>Jackson</code> relied on external libraries, such as <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda Time</a>, or on custom serializers and deserializers that were written by the user.</p>\n<hr />\n<ul>\n<li>If you want to learn more about <code>Jackson</code>, you can read its official <a href=\"https://github.com/FasterXML/jackson-docs\" rel=\"nofollow noreferrer\">comprehensive documentation</a>.</li>\n<li>Here is a <code>jackson-modules-java8</code> <a href=\"https://github.com/FasterXML/jackson-modules-java8\" rel=\"nofollow noreferrer\">GitHub repository</a></li>\n<li>Quite good <a href=\"https://stackoverflow.com/questions/21384820/is-there-a-jackson-datatype-module-for-jdk8-java-time\">thread</a> is exists that explains how to connect <code>jackson-datatype-jsr310</code> module to <code>Jackson</code>.</li>\n</ul>\n"}],"owner":{"account_id":18607121,"reputation":11,"user_id":13560480,"display_name":"Testaastopp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675328817,"creation_date":1675247108,"question_id":75308762,"body_markdown":"I am using Postman and learning how to do a POST request to add a new `Item` to the cart and write it to the database. The `Java` code for the item is:\r\n```java\r\npublic class Item  {    \r\n    private int id;\r\n    private String name;\r\n    private String description;\r\n    private LocalDate expired;\r\n}\r\n```\r\nwith getters and setters.\r\n\r\nIn `Spring` framework I have the next method:\r\n```java\r\n@PostMapping\r\npublic void add(@RequestBody Item newItem) {\r\n    itemSer.addNewItem(newItem);\r\n}\r\n```\r\nUsing postman in the body part I selected `raw` -&gt; `json`: (its the result of a `GET` request.)\r\n```json\r\n{\r\n   &quot;id&quot;: 2,\r\n   &quot;name&quot;: &quot;postman&quot;,\r\n   &quot;description&quot;: &quot;postman&quot;,\r\n   &quot;expired&quot;: {\r\n        &quot;year&quot;: 1700,\r\n        &quot;month&quot;: &quot;NOVEMBER&quot;,\r\n        &quot;monthValue&quot;: 11,\r\n        &quot;dayOfMonth&quot;: 21,\r\n        &quot;leapYear&quot;: false,\r\n        &quot;dayOfWeek&quot;: &quot;WEDNESDAY&quot;,\r\n        &quot;dayOfYear&quot;: 325,\r\n        &quot;era&quot;: &quot;CE&quot;,\r\n        &quot;chronology&quot;: {\r\n            &quot;id&quot;: &quot;ISO&quot;,\r\n            &quot;calendarType&quot;: &quot;iso8601&quot;,\r\n            &quot;isoBased&quot;: true\r\n        }\r\n    }\r\n}\r\n```\r\nPostman give me an `405` error but I have no idea why, I am using tomcat 9. Is there same problem also for the date format? \r\n\r\n**EDIT:**\r\n\r\nSo the problem is only on the `LocalDate`, I have to format in a way that is readable by java with a Post request. \r\nSnooping around I did find this solution: [https://stackoverflow.com/questions/45668936/how-to-send-date-in-rest-api-in-post-method][1]\r\n\r\n(if you are using maven)\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nthe add in the AppConfig di spring:\r\n```java\r\n@Bean\r\npublic ObjectMapper createObjectMapper() {  \r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.registerModule(new JavaTimeModule());                \r\n    mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n    return mapper;\r\n}\r\n```\r\nand int the `Itmes` class over the `LocalDate` variable:\r\n```java\r\n@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)\r\nprivate LocalDate date;\r\n```\r\n\r\nthe post is now just looks like the next:\r\n```json\r\n{\r\n    &quot;id&quot;: 2,\r\n    &quot;name&quot;: &quot;postman&quot;,\r\n    &quot;description&quot;: &quot;postman&quot;,\r\n    &quot;expired&quot;: &quot;2030-01-02&quot;\r\n}\r\n```\r\nI still have a question, reading this i did understand generally how it works, where can I find some other info on how this works? or if someone want to explain I am happy to listen.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/45668936/how-to-send-date-in-rest-api-in-post-method","title":"Post request and &quot;The method received in the request-line is known by the origin server but not supported by the target resource&quot; error","body":"<p>I am using Postman and learning how to do a POST request to add a new <code>Item</code> to the cart and write it to the database. The <code>Java</code> code for the item is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Item  {    \n    private int id;\n    private String name;\n    private String description;\n    private LocalDate expired;\n}\n</code></pre>\n<p>with getters and setters.</p>\n<p>In <code>Spring</code> framework I have the next method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping\npublic void add(@RequestBody Item newItem) {\n    itemSer.addNewItem(newItem);\n}\n</code></pre>\n<p>Using postman in the body part I selected <code>raw</code> -&gt; <code>json</code>: (its the result of a <code>GET</code> request.)</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;id&quot;: 2,\n   &quot;name&quot;: &quot;postman&quot;,\n   &quot;description&quot;: &quot;postman&quot;,\n   &quot;expired&quot;: {\n        &quot;year&quot;: 1700,\n        &quot;month&quot;: &quot;NOVEMBER&quot;,\n        &quot;monthValue&quot;: 11,\n        &quot;dayOfMonth&quot;: 21,\n        &quot;leapYear&quot;: false,\n        &quot;dayOfWeek&quot;: &quot;WEDNESDAY&quot;,\n        &quot;dayOfYear&quot;: 325,\n        &quot;era&quot;: &quot;CE&quot;,\n        &quot;chronology&quot;: {\n            &quot;id&quot;: &quot;ISO&quot;,\n            &quot;calendarType&quot;: &quot;iso8601&quot;,\n            &quot;isoBased&quot;: true\n        }\n    }\n}\n</code></pre>\n<p>Postman give me an <code>405</code> error but I have no idea why, I am using tomcat 9. Is there same problem also for the date format?</p>\n<p><strong>EDIT:</strong></p>\n<p>So the problem is only on the <code>LocalDate</code>, I have to format in a way that is readable by java with a Post request.\nSnooping around I did find this solution: <a href=\"https://stackoverflow.com/questions/45668936/how-to-send-date-in-rest-api-in-post-method\">How to send Date in REST API in POST method</a></p>\n<p>(if you are using maven)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>the add in the AppConfig di spring:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ObjectMapper createObjectMapper() {  \n    ObjectMapper mapper = new ObjectMapper();\n    mapper.registerModule(new JavaTimeModule());                \n    mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n    return mapper;\n}\n</code></pre>\n<p>and int the <code>Itmes</code> class over the <code>LocalDate</code> variable:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&quot;)\nprivate LocalDate date;\n</code></pre>\n<p>the post is now just looks like the next:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;id&quot;: 2,\n    &quot;name&quot;: &quot;postman&quot;,\n    &quot;description&quot;: &quot;postman&quot;,\n    &quot;expired&quot;: &quot;2030-01-02&quot;\n}\n</code></pre>\n<p>I still have a question, reading this i did understand generally how it works, where can I find some other info on how this works? or if someone want to explain I am happy to listen.</p>\n"},{"tags":["java","unit-testing","junit","paramterized"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1673751451,"post_id":75122633,"comment_id":132567238,"body_markdown":"Does this answer your question? [Conditionally skip a Junit 5 test](https://stackoverflow.com/questions/60689337/conditionally-skip-a-junit-5-test)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/60689337/conditionally-skip-a-junit-5-test\">Conditionally skip a Junit 5 test</a>"},{"owner":{"account_id":12035975,"reputation":87,"user_id":8804476,"display_name":"anggor"},"score":0,"creation_date":1673751740,"post_id":75122633,"comment_id":132567275,"body_markdown":"The result is the same. ```Assumptions.assumeTrue()/assumeFalse()``` is the simplified version of my code and output the exception ```org.opentest4j.TestAbortedException: Assumption failed: assumption is not true```","body":"The result is the same. <code>Assumptions.assumeTrue()&#47;assumeFalse()</code> is the simplified version of my code and output the exception <code>org.opentest4j.TestAbortedException: Assumption failed: assumption is not true</code>"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673772538,"post_id":75122633,"comment_id":132569209,"body_markdown":"What is the problem you are encountering with your solution or `Assumptions.assumeTrue()`?","body":"What is the problem you are encountering with your solution or <code>Assumptions.assumeTrue()</code>?"},{"owner":{"account_id":12035975,"reputation":87,"user_id":8804476,"display_name":"anggor"},"score":0,"creation_date":1673773395,"post_id":75122633,"comment_id":132569334,"body_markdown":"My solution and ```Assumptions.assumeTrue()``` will throw exception which will resulting in ```Test failed```. I only want to skip the test.","body":"My solution and <code>Assumptions.assumeTrue()</code> will throw exception which will resulting in <code>Test failed</code>. I only want to skip the test."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1674903513,"post_id":75122633,"comment_id":132815878,"body_markdown":"@anggor `Assumptions.assumeTrue()`&#39;s exception will be handled specially by the junit framework and mark the test as skipped, not failed.","body":"@anggor <code>Assumptions.assumeTrue()</code>&#39;s exception will be handled specially by the junit framework and mark the test as skipped, not failed."},{"owner":{"account_id":12035975,"reputation":87,"user_id":8804476,"display_name":"anggor"},"score":0,"creation_date":1675328542,"post_id":75122633,"comment_id":132906293,"body_markdown":"@knittl I beg to differ. Please to updated question. I uploaded the result when I&#39;m using ```Assumptions.assumeTrue()```","body":"@knittl I beg to differ. Please to updated question. I uploaded the result when I&#39;m using <code>Assumptions.assumeTrue()</code>"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1675340631,"post_id":75122633,"comment_id":132910240,"body_markdown":"@anggor [Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"@anggor <a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1675340731,"post_id":75122633,"comment_id":132910281,"body_markdown":"@anggorif you look closely, you see that you are not using `Assumptions` from JUnit 5 (`org.junit.jupiter.api.Assumptions`), but from `org.opentest4j`. Fix your imports, use the correct classes. (Sorry for only noticing now, I should have noticed that from your second comment already: it contains the wrong package name)","body":"@anggorif you look closely, you see that you are not using <code>Assumptions</code> from JUnit 5 (<code>org.junit.jupiter.api.Assumptions</code>), but from <code>org.opentest4j</code>. Fix your imports, use the correct classes. (Sorry for only noticing now, I should have noticed that from your second comment already: it contains the wrong package name)"}],"owner":{"account_id":12035975,"reputation":87,"user_id":8804476,"display_name":"anggor"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675328621,"creation_date":1673751183,"question_id":75122633,"body_markdown":"I want to try to stop the test when the ```param == 3```. I found a way to achieve this by using ```Disable()```. However, this approach uses ```throw```. Is there any way I can do this without throwing exceptions?\r\n\r\nThe idea is,```@RunWith(Parameterized.class)```annotation will make sure all the tests run according to how many values I have, in this case, 3.  ```getPdInit_Level1_SUCCESS```does not have a level 3 user but another test, example ```getPdInit_Level3_SUCCESS``` contain implementation until level 3. So I only want to run ```getPdInit_Level1_SUCCESS``` 2 times and  ```getPdInit_Level3_SUCCESS``` 3 times. \r\n\r\n```\r\nprivate static class Disable {\r\n        \r\n        private final Object[] arguments;\r\n        \r\n        private Disable(Object[] arguments) {\r\n            this.arguments = arguments;\r\n        }\r\n        \r\n        public static Disable when(Object... arguments) {\r\n            return new Disable(arguments);\r\n        }\r\n        \r\n        public Disable is(Object... values) {\r\n            if (Arrays.equals(arguments, values))\r\n                throw new TestAbortedException(&quot;Test aborted for arguments &quot; + Arrays.toString(values));\r\n            return this;\r\n        }\r\n        \r\n    }\r\n\r\n```\r\n\r\n```\r\n        @Parameterized.Parameter(value = 0)\r\n        public int fInput;\r\n        \r\n        @Parameterized.Parameter(value = 1)\r\n        public int fOutput;\r\n        \r\n        @Parameterized.Parameters\r\n        public static Collection userLevel() {\r\n            return Arrays.asList(new Object[][]{\r\n                    {1, 3},\r\n                    {2, 2},\r\n                    {3, 3},\r\n            });\r\n        }\r\n\r\n```\r\n\r\n```\r\n        @Test\r\n        public void getPdInit_Level1_SUCCESS() {\r\n        \r\n            Disable.when(fInput, fOutput)\r\n                    .is(3, 3);\r\n            \r\n            //Real test here\r\n}\r\n\r\n```\r\n\r\nWhen using ```Assumptions.assumeTrue()```, this is what I get :[![Test Result][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cR5Vo.png","title":"How to stop/skip Parameterize test without throwing exception?","body":"<p>I want to try to stop the test when the <code>param == 3</code>. I found a way to achieve this by using <code>Disable()</code>. However, this approach uses <code>throw</code>. Is there any way I can do this without throwing exceptions?</p>\n<p>The idea is,<code>@RunWith(Parameterized.class)</code>annotation will make sure all the tests run according to how many values I have, in this case, 3.  <code>getPdInit_Level1_SUCCESS</code>does not have a level 3 user but another test, example <code>getPdInit_Level3_SUCCESS</code> contain implementation until level 3. So I only want to run <code>getPdInit_Level1_SUCCESS</code> 2 times and  <code>getPdInit_Level3_SUCCESS</code> 3 times.</p>\n<pre><code>private static class Disable {\n        \n        private final Object[] arguments;\n        \n        private Disable(Object[] arguments) {\n            this.arguments = arguments;\n        }\n        \n        public static Disable when(Object... arguments) {\n            return new Disable(arguments);\n        }\n        \n        public Disable is(Object... values) {\n            if (Arrays.equals(arguments, values))\n                throw new TestAbortedException(&quot;Test aborted for arguments &quot; + Arrays.toString(values));\n            return this;\n        }\n        \n    }\n\n</code></pre>\n<pre><code>        @Parameterized.Parameter(value = 0)\n        public int fInput;\n        \n        @Parameterized.Parameter(value = 1)\n        public int fOutput;\n        \n        @Parameterized.Parameters\n        public static Collection userLevel() {\n            return Arrays.asList(new Object[][]{\n                    {1, 3},\n                    {2, 2},\n                    {3, 3},\n            });\n        }\n\n</code></pre>\n<pre><code>        @Test\n        public void getPdInit_Level1_SUCCESS() {\n        \n            Disable.when(fInput, fOutput)\n                    .is(3, 3);\n            \n            //Real test here\n}\n\n</code></pre>\n<p>When using <code>Assumptions.assumeTrue()</code>, this is what I get :<a href=\"https://i.stack.imgur.com/cR5Vo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cR5Vo.png\" alt=\"Test Result\" /></a></p>\n"},{"tags":["java","spring-boot","ssl","websocket","ssl-certificate"],"owner":{"account_id":27683247,"reputation":1,"user_id":21131548,"display_name":" "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675328552,"creation_date":1675328432,"question_id":75320746,"body_markdown":"I am using dependency\r\n\r\n```\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n&lt;version&gt;3.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nand can&#39;t disable self-signed certificate verification\r\n\r\nMy code\r\n\r\n```\r\n        StandardWebSocketClient client = new StandardWebSocketClient();\r\n        client.setUserProperties(Map.of(Constants.SSL_CONTEXT_PROPERTY, sslContext));\r\n\r\n        WebSocketStompClient stompClient = new WebSocketStompClient(client);\r\n        stompClient.setMessageConverter(new MappingJackson2MessageConverter());\r\n        stompClient.setInboundMessageSizeLimit(200000);\r\n\r\n        ClientWebsocketHandler sessionHandler = new ClientWebsocketHandler();\r\n        WebSocketHttpHeaders handshakeHeaders = new WebSocketHttpHeaders();\r\n        StompHeaders connectHeaders = new StompHeaders();\r\n        connectHeaders.add(&quot;username&quot;, &quot;username&quot;);\r\n        connectHeaders.add(&quot;password&quot;, &quot;password&quot;);\r\n        ListenableFuture&lt;StompSession&gt; connect = stompClient.connect(&quot;wss://111.111.11.111:8080/chat&quot;, handshakeHeaders, connectHeaders,                sessionHandler);\r\n```\r\n\r\ni always get an error\r\n&gt; Caused by: javax.net.ssl.SSLHandshakeException: No subject alternative names present\r\n\r\nBrowser connects successfully http://jxy.me/websocket-debug-tool/\r\n\r\ni tried different ways\r\ni added certificate with cacerts jdk\r\n\r\n\r\n```\r\n private static void disableSslVerification() {\r\n        try {\r\n            // Create a trust manager that does not validate certificate chains\r\n            TrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {\r\n                public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                    return null;\r\n                }\r\n\r\n                public void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n                }\r\n\r\n                public void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n                }\r\n            }\r\n            };\r\n\r\n            // Install the all-trusting trust manager\r\n            SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n            sc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n            HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n\r\n            // Create all-trusting host name verifier\r\n            HostnameVerifier allHostsValid = (hostname, session) -&gt; true;\r\n\r\n            // Install the all-trusting host verifier\r\n            HttpsURLConnection.setDefaultHostnameVerifier(allHostsValid);\r\n        } catch (NoSuchAlgorithmException | KeyManagementException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\n \r\n```\r\nStandardWebSocketClient client = new StandardWebSocketClient();\r\n        client.setUserProperties(Map.of(Constants.SSL_CONTEXT_PROPERTY, sslContext));\r\n```\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b2tAi.png","title":"How to disable SSL validation in spring-boot-starter-websocket","body":"<p>I am using dependency</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n&lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and can't disable self-signed certificate verification</p>\n<p>My code</p>\n<pre><code>        StandardWebSocketClient client = new StandardWebSocketClient();\n        client.setUserProperties(Map.of(Constants.SSL_CONTEXT_PROPERTY, sslContext));\n\n        WebSocketStompClient stompClient = new WebSocketStompClient(client);\n        stompClient.setMessageConverter(new MappingJackson2MessageConverter());\n        stompClient.setInboundMessageSizeLimit(200000);\n\n        ClientWebsocketHandler sessionHandler = new ClientWebsocketHandler();\n        WebSocketHttpHeaders handshakeHeaders = new WebSocketHttpHeaders();\n        StompHeaders connectHeaders = new StompHeaders();\n        connectHeaders.add(&quot;username&quot;, &quot;username&quot;);\n        connectHeaders.add(&quot;password&quot;, &quot;password&quot;);\n        ListenableFuture&lt;StompSession&gt; connect = stompClient.connect(&quot;wss://111.111.11.111:8080/chat&quot;, handshakeHeaders, connectHeaders,                sessionHandler);\n</code></pre>\n<p>i always get an error</p>\n<blockquote>\n<p>Caused by: javax.net.ssl.SSLHandshakeException: No subject alternative names present</p>\n</blockquote>\n<p>Browser connects successfully <a href=\"http://jxy.me/websocket-debug-tool/\" rel=\"nofollow noreferrer\">http://jxy.me/websocket-debug-tool/</a></p>\n<p>i tried different ways\ni added certificate with cacerts jdk</p>\n<pre><code> private static void disableSslVerification() {\n        try {\n            // Create a trust manager that does not validate certificate chains\n            TrustManager[] trustAllCerts = new TrustManager[]{new X509TrustManager() {\n                public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                    return null;\n                }\n\n                public void checkClientTrusted(X509Certificate[] certs, String authType) {\n                }\n\n                public void checkServerTrusted(X509Certificate[] certs, String authType) {\n                }\n            }\n            };\n\n            // Install the all-trusting trust manager\n            SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\n            sc.init(null, trustAllCerts, new java.security.SecureRandom());\n            HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n\n            // Create all-trusting host name verifier\n            HostnameVerifier allHostsValid = (hostname, session) -&gt; true;\n\n            // Install the all-trusting host verifier\n            HttpsURLConnection.setDefaultHostnameVerifier(allHostsValid);\n        } catch (NoSuchAlgorithmException | KeyManagementException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<pre><code>StandardWebSocketClient client = new StandardWebSocketClient();\n        client.setUserProperties(Map.of(Constants.SSL_CONTEXT_PROPERTY, sslContext));\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/b2tAi.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["javascript","java","spring-data-jpa","thymeleaf"],"comments":[{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1675323996,"post_id":75319148,"comment_id":132905106,"body_markdown":"you need something like `&lt;img th:src=&quot;${person.image}&quot;&gt;&lt;/img&gt;`","body":"you need something like <code>&lt;img th:src=&quot;${person.image}&quot;&gt;&lt;&#47;img&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675328527,"creation_date":1675328527,"answer_id":75320766,"question_id":75319148,"body_markdown":"Before running `th:each=&quot;person : ${persons}&quot;`, you can/should also check the list to not be empty: `th:if=&quot;${not #lists.isEmpty(persons)}&quot;.\r\n\r\nBut to the image question: If your `person` has a field with the URI to the required image (e.g. a relative/absolute path to a data folder or a URL to an image hosted online), you can just &quot;copy&quot; the HTML syntax and add a `th:` in front of it: `&lt;img th:src=&quot;${person.imageUrl}&quot; /&gt;`\r\n\r\nCheers","title":"How to display an image using it&#39;s URL with Thymeleaf?","body":"<p>Before running <code>th:each=&quot;person : ${persons}&quot;</code>, you can/should also check the list to not be empty: `th:if=&quot;${not #lists.isEmpty(persons)}&quot;.</p>\n<p>But to the image question: If your <code>person</code> has a field with the URI to the required image (e.g. a relative/absolute path to a data folder or a URL to an image hosted online), you can just &quot;copy&quot; the HTML syntax and add a <code>th:</code> in front of it: <code>&lt;img th:src=&quot;${person.imageUrl}&quot; /&gt;</code></p>\n<p>Cheers</p>\n"}],"owner":{"account_id":23289938,"reputation":15,"user_id":17372169,"display_name":"lostInCodeKeys"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675328527,"creation_date":1675317018,"question_id":75319148,"body_markdown":"I&#39;m currently trying to display the actual image instead of it&#39;s URL using Java Spring, MySQL and Thymeleaf.  I have a class that gets the url as a string from the database.\r\n\r\n    @Entity\r\n    @Table(name=&quot;person&quot;)\r\n    public class Person{\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\t@Column(name=&quot;id&quot;)\r\n\tprivate int id;\r\n\t\r\n\t@Column(name=&quot;name&quot;)\r\n\tprivate String name;\r\n\t\r\n\t@Column(name=&quot;image&quot;)\r\n\tprivate String image;\r\n\t\r\n\t@Column(name=&quot;number&quot;)\r\n\tprivate int number;\r\n\r\nIn the html form I have: \r\n\r\n    \t&lt;table class=&quot;table table-bordered table-striped&quot;&gt;\r\n\t\t&lt;thead class=&quot;thead-dark&quot;&gt;\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t  &lt;!-- table headings --&gt;\r\n\t\t\t\t&lt;th&gt;Name&lt;/th&gt;\r\n\t\t\t\t&lt;th&gt;Image&lt;/th&gt;\r\n\t\t\t\t&lt;th&gt;Number&lt;/th&gt;\t\t\t\t\r\n\t\t\t&lt;/tr&gt;\t\r\n\t\t&lt;/thead&gt;\r\n\t\t\r\n\t\t\r\n\t\t&lt;tbody&gt;\r\n\t\t\t&lt;!-- Looping over data --&gt;\r\n\t\t\t&lt;tr th:each=&quot;person: ${person}&quot;&gt;\r\n\t\t\t\r\n\t\t\t\t&lt;td th:text=&quot;${person.name}&quot; /&gt;\r\n\t\t\t\t&lt;td th:text=&quot;${person.image}&quot; /&gt;\r\n\t\t\t\t&lt;td th:text=&quot;${person.number}&quot; /&gt;\r\n\r\n\t\t\t\t&lt;td&gt;\r\n\t\t\t\t&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\t\r\n\t\t&lt;/tbody&gt;\r\n\t\r\n\t&lt;/table&gt;\r\n\r\nWhat thymeleaf expression or javascript code would I need to display the image at the url as opposed to just the URL string?","title":"How to display an image using it&#39;s URL with Thymeleaf?","body":"<p>I'm currently trying to display the actual image instead of it's URL using Java Spring, MySQL and Thymeleaf.  I have a class that gets the url as a string from the database.</p>\n<pre><code>@Entity\n@Table(name=&quot;person&quot;)\npublic class Person{\n\n@Id\n@GeneratedValue(strategy=GenerationType.IDENTITY)\n@Column(name=&quot;id&quot;)\nprivate int id;\n\n@Column(name=&quot;name&quot;)\nprivate String name;\n\n@Column(name=&quot;image&quot;)\nprivate String image;\n\n@Column(name=&quot;number&quot;)\nprivate int number;\n</code></pre>\n<p>In the html form I have:</p>\n<pre><code>    &lt;table class=&quot;table table-bordered table-striped&quot;&gt;\n    &lt;thead class=&quot;thead-dark&quot;&gt;\n        &lt;tr&gt;\n          &lt;!-- table headings --&gt;\n            &lt;th&gt;Name&lt;/th&gt;\n            &lt;th&gt;Image&lt;/th&gt;\n            &lt;th&gt;Number&lt;/th&gt;             \n        &lt;/tr&gt;   \n    &lt;/thead&gt;\n    \n    \n    &lt;tbody&gt;\n        &lt;!-- Looping over data --&gt;\n        &lt;tr th:each=&quot;person: ${person}&quot;&gt;\n        \n            &lt;td th:text=&quot;${person.name}&quot; /&gt;\n            &lt;td th:text=&quot;${person.image}&quot; /&gt;\n            &lt;td th:text=&quot;${person.number}&quot; /&gt;\n\n            &lt;td&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;   \n    &lt;/tbody&gt;\n\n&lt;/table&gt;\n</code></pre>\n<p>What thymeleaf expression or javascript code would I need to display the image at the url as opposed to just the URL string?</p>\n"},{"tags":["java","apache-kafka"],"owner":{"account_id":18476555,"reputation":517,"user_id":13459947,"display_name":"Violetta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675328361,"creation_date":1675328361,"question_id":75320723,"body_markdown":"I have a simple kafka producer\r\n```\r\npublic class JavaKafkaProducerExample {\r\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\r\n        String server = &quot;localhost:9092&quot;;\r\n        String topicName = &quot;test.topic&quot;;\r\n\r\n        final Properties props = new Properties();\r\n\r\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, server);\r\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, LongSerializer.class.getName());\r\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\r\n\r\n        try (final Producer&lt;Long, String&gt; producer = new KafkaProducer&lt;&gt;(props);) {\r\n            RecordMetadata recordMetadata = (RecordMetadata) producer.send(new ProducerRecord(topicName, &quot;example message&quot;)).get(1000, TimeUnit.MILLISECONDS);\r\n            if (recordMetadata.hasOffset()) System.out.println(&quot;Message sent successfully&quot;);\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n}\r\n```\r\nDependencies:\r\n```\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n```\r\n\r\nI expected that if kafka is unavailable, then `send().get(timeout)` will be interrupted by `timeout`, but I get the error `java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Failed to update metadata after 60000 ms.` only after 60 seconds. Why doesn&#39;t &#39;get(timeout)&#39; work? How can I reduce the time to error? Is it possible to do this programmatically or only by changing the producer parameters?","title":"Why is &quot;kafkaProducer.send().get(timeout)&quot; not working?","body":"<p>I have a simple kafka producer</p>\n<pre><code>public class JavaKafkaProducerExample {\n    public static void main(String[] args) throws ExecutionException, InterruptedException {\n        String server = &quot;localhost:9092&quot;;\n        String topicName = &quot;test.topic&quot;;\n\n        final Properties props = new Properties();\n\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, server);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, LongSerializer.class.getName());\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class.getName());\n\n        try (final Producer&lt;Long, String&gt; producer = new KafkaProducer&lt;&gt;(props);) {\n            RecordMetadata recordMetadata = (RecordMetadata) producer.send(new ProducerRecord(topicName, &quot;example message&quot;)).get(1000, TimeUnit.MILLISECONDS);\n            if (recordMetadata.hasOffset()) System.out.println(&quot;Message sent successfully&quot;);\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n<p>Dependencies:</p>\n<pre><code>            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n                &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n                &lt;version&gt;2.1.0&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>I expected that if kafka is unavailable, then <code>send().get(timeout)</code> will be interrupted by <code>timeout</code>, but I get the error <code>java.util.concurrent.ExecutionException: org.apache.kafka.common.errors.TimeoutException: Failed to update metadata after 60000 ms.</code> only after 60 seconds. Why doesn't 'get(timeout)' work? How can I reduce the time to error? Is it possible to do this programmatically or only by changing the producer parameters?</p>\n"},{"tags":["java","android","android-bottomsheetdialog","bottomsheetdialogfragment"],"comments":[{"owner":{"account_id":4539491,"reputation":1258,"user_id":3687784,"display_name":"Suhaib Raadan"},"score":0,"creation_date":1607584188,"post_id":65229758,"comment_id":115319637,"body_markdown":"define ActionBottomDialogFragment  outside override function..","body":"define ActionBottomDialogFragment  outside override function.."}],"answers":[{"comments":[{"owner":{"account_id":3915501,"reputation":986,"user_id":3239405,"accept_rate":64,"display_name":"Biswas Khayargoli"},"score":0,"creation_date":1607586248,"post_id":65229936,"comment_id":115320368,"body_markdown":"I see. But why is that the variables that are initialized in bottomsheetfragment class are not reinitialized. They are just as how they were left. So I am saving the fields being selected in the bottomsheetfragment class itself.","body":"I see. But why is that the variables that are initialized in bottomsheetfragment class are not reinitialized. They are just as how they were left. So I am saving the fields being selected in the bottomsheetfragment class itself."},{"owner":{"account_id":9540434,"reputation":499,"user_id":8483843,"display_name":"tronku"},"score":0,"creation_date":1607691783,"post_id":65229936,"comment_id":115358502,"body_markdown":"Fragment get destroyed and hence it&#39;s data.","body":"Fragment get destroyed and hence it&#39;s data."}],"tags":[],"owner":{"account_id":9540434,"reputation":499,"user_id":8483843,"display_name":"tronku"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607584215,"creation_date":1607584215,"answer_id":65229936,"question_id":65229758,"body_markdown":"UI will be always created again when you call `show()`. It&#39;s better to use a `sharedViewModel` in `bottomSheetFragment` and the parent activity/fragment. You should save the fields being selected in the viewmodel and use it the bottomSheet. This way the state will be maintained.","title":"How to show/hide BottomSheetDialogFragment without recreating it?","body":"<p>UI will be always created again when you call <code>show()</code>. It's better to use a <code>sharedViewModel</code> in <code>bottomSheetFragment</code> and the parent activity/fragment. You should save the fields being selected in the viewmodel and use it the bottomSheet. This way the state will be maintained.</p>\n"},{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675328136,"creation_date":1675328136,"answer_id":75320679,"question_id":65229758,"body_markdown":"You can use [show()][1] &amp; [hide()][2] of the dialog itself; this will keep the fragment alive.\r\n\r\nSo, in your case:\r\n\r\nTo show it:\r\n\r\n```\r\nActionBottomDialogFragment dialogFragment;\r\n\r\nshowButton.setOnClickListener(new View.OnClickListener() {\r\n\t@Override\r\n\tpublic void onClick(View v) {\r\n\t\tif (dialogFragment == null) {\r\n\t\t\t dialogFragment = ActionBottomDialogFragment.newInstance();\r\n\t\t\t dialogFragment.show(getActivity().getSupportFragmentManager(), ActionBottomDialogFragment.TAG);\r\n\t\t} else {\r\n\t\t   dialogFragment.getDialog().show();\r\n\t\t}\r\n\t}\r\n});\r\n```\r\n\r\nAnd to hide it:\r\n```\r\nImageButton close = view.findViewById(R.id.closeButton);\r\n        close.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n               dialogFragment.getDialog().hide();\r\n            }\r\n        });\r\n```\r\n\r\n\r\nBut this requires to handle the side effects when dismissing the fragments using the back button and when touching outside.\r\n\r\nHere&#39;s a custom DialogFragment that handles that:\r\n\r\n```\r\npublic class BottomSheet extends BottomSheetDialogFragment {\r\n\r\n    public BottomSheet() {\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.bottom_sheet_layout, container, false);\r\n        return view;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\r\n        return new BottomSheetDialog(requireContext(), getTheme()) {\r\n            @Override\r\n            public void onBackPressed() {\r\n                getDialog().hide();\r\n            }\r\n        };\r\n]\r\n    }\r\n\r\n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n\t\t\r\n        setCancelable(false);\r\n        getDialog().setCanceledOnTouchOutside(false);\r\n\r\n        final View outsideView =\r\n                requireDialog().findViewById(com.google.android.material.R.id.touch_outside);\r\n\r\n        outsideView.setOnTouchListener((v, event) -&gt; {\r\n            if (event.getAction() == MotionEvent.ACTION_UP)\r\n                getDialog().hide();\r\n            return false;\r\n        });\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/Dialog#show()\r\n  [2]: https://developer.android.com/reference/android/app/Dialog#hide()","title":"How to show/hide BottomSheetDialogFragment without recreating it?","body":"<p>You can use <a href=\"https://developer.android.com/reference/android/app/Dialog#show()\" rel=\"nofollow noreferrer\">show()</a> &amp; <a href=\"https://developer.android.com/reference/android/app/Dialog#hide()\" rel=\"nofollow noreferrer\">hide()</a> of the dialog itself; this will keep the fragment alive.</p>\n<p>So, in your case:</p>\n<p>To show it:</p>\n<pre><code>ActionBottomDialogFragment dialogFragment;\n\nshowButton.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        if (dialogFragment == null) {\n             dialogFragment = ActionBottomDialogFragment.newInstance();\n             dialogFragment.show(getActivity().getSupportFragmentManager(), ActionBottomDialogFragment.TAG);\n        } else {\n           dialogFragment.getDialog().show();\n        }\n    }\n});\n</code></pre>\n<p>And to hide it:</p>\n<pre><code>ImageButton close = view.findViewById(R.id.closeButton);\n        close.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n               dialogFragment.getDialog().hide();\n            }\n        });\n</code></pre>\n<p>But this requires to handle the side effects when dismissing the fragments using the back button and when touching outside.</p>\n<p>Here's a custom DialogFragment that handles that:</p>\n<pre><code>public class BottomSheet extends BottomSheetDialogFragment {\n\n    public BottomSheet() {\n    }\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.bottom_sheet_layout, container, false);\n        return view;\n    }\n\n    @NonNull\n    @Override\n    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n        return new BottomSheetDialog(requireContext(), getTheme()) {\n            @Override\n            public void onBackPressed() {\n                getDialog().hide();\n            }\n        };\n]\n    }\n\n    @SuppressLint(&quot;ClickableViewAccessibility&quot;)\n    @Override\n    public void onStart() {\n        super.onStart();\n        \n        setCancelable(false);\n        getDialog().setCanceledOnTouchOutside(false);\n\n        final View outsideView =\n                requireDialog().findViewById(com.google.android.material.R.id.touch_outside);\n\n        outsideView.setOnTouchListener((v, event) -&gt; {\n            if (event.getAction() == MotionEvent.ACTION_UP)\n                getDialog().hide();\n            return false;\n        });\n\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3915501,"reputation":986,"user_id":3239405,"accept_rate":64,"display_name":"Biswas Khayargoli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1781,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675328205,"creation_date":1607583259,"question_id":65229758,"body_markdown":"I am using `BottomSheetDialogFragment` in my android app. I am using Java. I show the `bottomsheet` by:\r\n\r\n \r\n\r\n     ActionBottomDialogFragment dialogFragment = ActionBottomDialogFragment.newInstance();\r\n    \r\n            showButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    dialogFragment.show(getActivity().getSupportFragmentManager(), ActionBottomDialogFragment.TAG);\r\n                }\r\n            });\r\n\r\nWhat I see is it calls `onCreateDialog` method and then calls `onViewCreated` methods. For the first time this is okay.\r\n\r\nNow I hide the bottom sheet using:\r\n\r\n    ImageButton close = view.findViewById(R.id.closeButton);\r\n            close.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    dismiss();\r\n                }\r\n            });\r\n\r\n\r\nThen when I press the show button again, it calls `onCreateDialog` method again. I have a dynamic list of choice chips which I want the state to be just as I left it. If I left it on checking &#39;Choice A&#39;, it should show up selected the next time I open the bottom sheet. I need the state to be maintained. \r\n\r\nWhat is happening is it rebuilds the choice chips from start, so the state is lost.\r\n\r\nHow can I just show / hide the bottom sheet without recreating?\r\n\r\n","title":"How to show/hide BottomSheetDialogFragment without recreating it?","body":"<p>I am using <code>BottomSheetDialogFragment</code> in my android app. I am using Java. I show the <code>bottomsheet</code> by:</p>\n<pre><code> ActionBottomDialogFragment dialogFragment = ActionBottomDialogFragment.newInstance();\n\n        showButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                dialogFragment.show(getActivity().getSupportFragmentManager(), ActionBottomDialogFragment.TAG);\n            }\n        });\n</code></pre>\n<p>What I see is it calls <code>onCreateDialog</code> method and then calls <code>onViewCreated</code> methods. For the first time this is okay.</p>\n<p>Now I hide the bottom sheet using:</p>\n<pre><code>ImageButton close = view.findViewById(R.id.closeButton);\n        close.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                dismiss();\n            }\n        });\n</code></pre>\n<p>Then when I press the show button again, it calls <code>onCreateDialog</code> method again. I have a dynamic list of choice chips which I want the state to be just as I left it. If I left it on checking 'Choice A', it should show up selected the next time I open the bottom sheet. I need the state to be maintained.</p>\n<p>What is happening is it rebuilds the choice chips from start, so the state is lost.</p>\n<p>How can I just show / hide the bottom sheet without recreating?</p>\n"},{"tags":["java","npm","intellij-idea","vaadin-flow"],"comments":[{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":0,"creation_date":1675184668,"post_id":75300423,"comment_id":132872398,"body_markdown":"Something looks off. How could you have a running / working 21.x version without the vaadin-maven-plugin? Adding the flow-maven-plugin should never be done. Always use the vaadin-maven-plugin. Additionally it&#39;s highly highly recommended to use the Vaadin BOM which&#39;s version is identical to the vaadin-maven-plugin.","body":"Something looks off. How could you have a running / working 21.x version without the vaadin-maven-plugin? Adding the flow-maven-plugin should never be done. Always use the vaadin-maven-plugin. Additionally it&#39;s highly highly recommended to use the Vaadin BOM which&#39;s version is identical to the vaadin-maven-plugin."},{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":4,"creation_date":1675184807,"post_id":75300423,"comment_id":132872437,"body_markdown":"Additionally, see: https://stackoverflow.com/questions/74889950/vaadin-doesnt-show-up-after-upgrade-from-23-2-10-to-23-3-1 - you are upgrading to a not-supported Spring Boot version. (This solves your issue)","body":"Additionally, see: <a href=\"https://stackoverflow.com/questions/74889950/vaadin-doesnt-show-up-after-upgrade-from-23-2-10-to-23-3-1\" title=\"vaadin doesnt show up after upgrade from 23 2 10 to 23 3 1\">stackoverflow.com/questions/74889950/&hellip;</a> - you are upgrading to a not-supported Spring Boot version. (This solves your issue)"},{"owner":{"account_id":15426288,"reputation":1199,"user_id":11982497,"display_name":"Tarek Oraby"},"score":1,"creation_date":1675186109,"post_id":75300423,"comment_id":132872836,"body_markdown":"I was bitten by the same issue today. The logs should show an error: https://github.com/vaadin/flow/issues/15792.","body":"I was bitten by the same issue today. The logs should show an error: <a href=\"https://github.com/vaadin/flow/issues/15792\" rel=\"nofollow noreferrer\">github.com/vaadin/flow/issues/15792</a>."},{"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"score":0,"creation_date":1675252072,"post_id":75300423,"comment_id":132887243,"body_markdown":"you were right @Knoobie. I had the vaadin-maven-plugin and tried the flow-maven-plugin in an attempt to get it running. It was the Boot version that needed to be 2.7.x or higher. Although, footnote on that: the upgrade guide mentioned 2.6.6 as being sufficient... If you convert your comment to an answer, I&#39;ll gladly accept.","body":"you were right @Knoobie. I had the vaadin-maven-plugin and tried the flow-maven-plugin in an attempt to get it running. It was the Boot version that needed to be 2.7.x or higher. Although, footnote on that: the upgrade guide mentioned 2.6.6 as being sufficient... If you convert your comment to an answer, I&#39;ll gladly accept."},{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":1,"creation_date":1675282224,"post_id":75300423,"comment_id":132897485,"body_markdown":"All good! Tarek has also created an enchantment tickets for the docs to make sure less people stumble upon this.","body":"All good! Tarek has also created an enchantment tickets for the docs to make sure less people stumble upon this."}],"answers":[{"comments":[{"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"score":0,"creation_date":1687263683,"post_id":75320680,"comment_id":134909490,"body_markdown":"They still did not fix their documentation.","body":"They still did not fix their documentation."},{"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"score":0,"creation_date":1687337110,"post_id":75320680,"comment_id":134921210,"body_markdown":"I&#39;m not surprised. At the time of my answer, I&#39;d reached out to Vaadin personally through David L. and he would transfer the issue internally... As an additional footnote, we are currently on SprintBoot 3, which requires Java17 and Vaadin 24+","body":"I&#39;m not surprised. At the time of my answer, I&#39;d reached out to Vaadin personally through David L. and he would transfer the issue internally... As an additional footnote, we are currently on SprintBoot 3, which requires Java17 and Vaadin 24+"}],"tags":[],"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675328150,"creation_date":1675328150,"answer_id":75320680,"question_id":75300423,"body_markdown":"all credit to [@Knoobie][1] whose [concise answer][2] contained the correct solution. \r\n\r\n**Vaadin 23.3.x requires at least 2.7.x** in order to work. \r\n\r\nThe Vaadin upgrade guide generator, when looking at the steps to migrate from v21 to v23,  mistakenly referenced the minimum version of SpringBoot as 2.6.6. They will fix this in the immediate future.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1662997/knoobie\r\n  [2]: https://stackoverflow.com/a/74901088/10376405","title":"Vaadin 23 not resolving URL&#39;s, instead showing errorpage","body":"<p>all credit to <a href=\"https://stackoverflow.com/users/1662997/knoobie\">@Knoobie</a> whose <a href=\"https://stackoverflow.com/a/74901088/10376405\">concise answer</a> contained the correct solution.</p>\n<p><strong>Vaadin 23.3.x requires at least 2.7.x</strong> in order to work.</p>\n<p>The Vaadin upgrade guide generator, when looking at the steps to migrate from v21 to v23,  mistakenly referenced the minimum version of SpringBoot as 2.6.6. They will fix this in the immediate future.</p>\n"}],"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75320680,"answer_count":1,"score":3,"last_activity_date":1675328150,"creation_date":1675183742,"question_id":75300423,"body_markdown":"*Problem summary:* we&#39;ve upgraded our Java 17 monolith application with multiple modules from Vaadin 21.0.1 to 23.3.5 and now our application routes don&#39;t resolve anymore, instead resulting in 404 Whitelabel errorpages. \r\nThis not being our first Vaadin rodeo (originating from Vaadin 7), we followed the [Vaadin upgrade guide generator](https://vaadin.com/docs/latest/upgrading/upgrade-tool/?from=14&amp;to=23&amp;isFlow=true&amp;isFusion=false&amp;isSpring=true&amp;isTypeScript=false&amp;isCustomStyling=false&amp;isInstructionsDisplayed=false) and expanded accordingly upon that. \r\n\r\n*Steps we took, each having been validated seperately:*\r\n- Upgraded our backend to use Spring 5.3.18 (coming from 5.3.10). No issue there\r\n- Upgraded our frontend to use Spring Boot 2.6.7 (coming from 2.5.4). No issue there\r\n- **this step was project-specific and not in the guide** Removed Vaadin-addons from pom.xml. Also removed those imports from our package.json. Naturally removed all addons-code from application (EnhancedDialog and MultiselectComboBox -&gt; using v23&#39;s regular Dialog and MultiSelectComboBox)\r\n- Removed webpack.config.js, package-lock.json and the node_modules folder\r\n- Raised global (-g) npm version to 9.4.0 (coming from 8.3.3)\r\n- Cleared npm with commandline *npm cache clear --force*\r\n- Upgraded the Vaadin flow version to 23.3.5 (coming from 21.0.1)\r\n- added the following dependency and reloaded the pom.xml: \r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n    &lt;artifactId&gt;flow-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;23.3.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n- Invalidated and restarted IntelliJ\r\n- ran clean-install Maven command through IntelliJ (with Production flag on/off makes no difference)\r\n\r\n-&gt; This results in a 404 whitelabel errorpage. \r\n\r\nNext, I made sure that all our views annotated with com.vaadin.flow.router.*@Route* contained at least the javax.annotation.security.*@PermitAll* annotation.\r\nI added *spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration* to our application.properties trying to get a more descriptive message. \r\n\r\n-&gt; This results in the Apache Tomcat errorpage with description: &quot;The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.&quot;\r\nIn both cases, the F12 DevTools are empty and showing nothing more than a 404 for the given URL.\r\n\r\nSo I continued debugging and validated that our custom security roles were validated correctly, a bit like this [answer](https://stackoverflow.com/a/72009196/10376405) hinted at.\r\nI&#39;m getting into the breakpoints placed in the *configure(HttpSecurity http)* method from the WebSecurityConfigurerAdapter, but I&#39;m unable to enter the *serviceInit(ServiceInitEvent event)* from the VaadinServiceInitListener.\r\nI&#39;m not a pro concerning servletRequests, but when hitting the *isFrameworkInternalRequest(HttpServletRequest request)* (called during the adapter&#39;s configuration), it seems only logical that for REQUEST_TYPE_PARAMETER a value of **null** is returned. \r\n\r\nI was intrigued by these upgrade steps for an even [higher Vaadin version](https://stackoverflow.com/a/74905364/10376405), but nothing in there changed a bit for me.\r\n\r\nWhen asked, I&#39;d say that Spring isn&#39;t picking up on my views. Even the older @EnableVaadin() annotation did nothing. At this point I can&#39;t think straight anymore, even looking into the change of why Vaadin now uses *vite.config.ts* instead of *webpack.config.js*. Any pointers to where the issue might lay are immensely appreciated.\r\n","title":"Vaadin 23 not resolving URL&#39;s, instead showing errorpage","body":"<p><em>Problem summary:</em> we've upgraded our Java 17 monolith application with multiple modules from Vaadin 21.0.1 to 23.3.5 and now our application routes don't resolve anymore, instead resulting in 404 Whitelabel errorpages.\nThis not being our first Vaadin rodeo (originating from Vaadin 7), we followed the <a href=\"https://vaadin.com/docs/latest/upgrading/upgrade-tool/?from=14&amp;to=23&amp;isFlow=true&amp;isFusion=false&amp;isSpring=true&amp;isTypeScript=false&amp;isCustomStyling=false&amp;isInstructionsDisplayed=false\" rel=\"nofollow noreferrer\">Vaadin upgrade guide generator</a> and expanded accordingly upon that.</p>\n<p><em>Steps we took, each having been validated seperately:</em></p>\n<ul>\n<li>Upgraded our backend to use Spring 5.3.18 (coming from 5.3.10). No issue there</li>\n<li>Upgraded our frontend to use Spring Boot 2.6.7 (coming from 2.5.4). No issue there</li>\n<li><strong>this step was project-specific and not in the guide</strong> Removed Vaadin-addons from pom.xml. Also removed those imports from our package.json. Naturally removed all addons-code from application (EnhancedDialog and MultiselectComboBox -&gt; using v23's regular Dialog and MultiSelectComboBox)</li>\n<li>Removed webpack.config.js, package-lock.json and the node_modules folder</li>\n<li>Raised global (-g) npm version to 9.4.0 (coming from 8.3.3)</li>\n<li>Cleared npm with commandline <em>npm cache clear --force</em></li>\n<li>Upgraded the Vaadin flow version to 23.3.5 (coming from 21.0.1)</li>\n<li>added the following dependency and reloaded the pom.xml:</li>\n</ul>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n    &lt;artifactId&gt;flow-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;23.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ul>\n<li>Invalidated and restarted IntelliJ</li>\n<li>ran clean-install Maven command through IntelliJ (with Production flag on/off makes no difference)</li>\n</ul>\n<p>-&gt; This results in a 404 whitelabel errorpage.</p>\n<p>Next, I made sure that all our views annotated with com.vaadin.flow.router.<em>@Route</em> contained at least the javax.annotation.security.<em>@PermitAll</em> annotation.\nI added <em>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration</em> to our application.properties trying to get a more descriptive message.</p>\n<p>-&gt; This results in the Apache Tomcat errorpage with description: &quot;The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.&quot;\nIn both cases, the F12 DevTools are empty and showing nothing more than a 404 for the given URL.</p>\n<p>So I continued debugging and validated that our custom security roles were validated correctly, a bit like this <a href=\"https://stackoverflow.com/a/72009196/10376405\">answer</a> hinted at.\nI'm getting into the breakpoints placed in the <em>configure(HttpSecurity http)</em> method from the WebSecurityConfigurerAdapter, but I'm unable to enter the <em>serviceInit(ServiceInitEvent event)</em> from the VaadinServiceInitListener.\nI'm not a pro concerning servletRequests, but when hitting the <em>isFrameworkInternalRequest(HttpServletRequest request)</em> (called during the adapter's configuration), it seems only logical that for REQUEST_TYPE_PARAMETER a value of <strong>null</strong> is returned.</p>\n<p>I was intrigued by these upgrade steps for an even <a href=\"https://stackoverflow.com/a/74905364/10376405\">higher Vaadin version</a>, but nothing in there changed a bit for me.</p>\n<p>When asked, I'd say that Spring isn't picking up on my views. Even the older @EnableVaadin() annotation did nothing. At this point I can't think straight anymore, even looking into the change of why Vaadin now uses <em>vite.config.ts</em> instead of <em>webpack.config.js</em>. Any pointers to where the issue might lay are immensely appreciated.</p>\n"},{"tags":["java","xml","xstream"],"owner":{"account_id":14632846,"reputation":1,"user_id":10568046,"display_name":"discombobulatedBumblebee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675327199,"creation_date":1675326800,"question_id":75320443,"body_markdown":"I&#39;m using XStream 1.4.9 to create XML from POJO classes. By default XStream escapes special characters like &#39;&gt;&#39;, &#39;&lt;&#39; etc. Additionally it doubles underscore characters in element and attribute names. I need to disable this behaviour. \r\nI was able to get rid of double underscores basing on this solution:\r\n\r\nhttps://stackoverflow.com/questions/9333035/xstream-and-underscores\r\n\r\nDisabling character escaping works with this solution:\r\n\r\nhttps://stackoverflow.com/questions/2891305/how-can-i-disable-unnecessary-escaping-in-xstream\r\n\r\nBut I&#39;m struggling with combining these approaches to achieve both goals in the same time.\r\n\r\nI created custom Writer class ommiting character escaping:\r\n\r\n```\r\npublic class NoEscapeWriter extends PrettyPrintWriter {\r\n\r\n    public NoEscapeWriter(Writer writer) {\r\n        super(writer);\r\n    }\r\n\r\n    @Override\r\n    protected void writeText(QuickWriter writer, String text) {\r\n        writer.write(text);\r\n    }\r\n}\r\n```\r\n\r\nI implemented class extending DomDriver overriding `createWriter()` method and injecting `XmlFriendlyNameCoder` to its super class:\r\n\r\n```\r\npublic class CustomDriver extends DomDriver {\r\n\r\n        public CustomDriver() {\r\n            super(&quot;UTF-8&quot;, new XmlFriendlyNameCoder(&quot;_-&quot;, &quot;_&quot;));\r\n        }\r\n\r\n        @Override\r\n        public HierarchicalStreamWriter createWriter(Writer out) {\r\n            return new NoEscapeWriter(out);\r\n        }\r\n}\r\n```\r\n\r\nAnd I&#39;m generating XML with XStream like this:\r\n\r\n```\r\nXStream xStream = new XStream(new CustomDriver());\r\nxStream.processAnnotations(RootElement.class);\r\nfinal String s = xStream.toXML(root);\r\n```\r\n\r\nAlthough it ommits character escaping as expected, it still generates output with double underscores like this:\r\n\r\n```\r\n&lt;ROOT&gt;\r\n    &lt;TEST__ID&gt;&lt;![CDATA[]]&gt;&lt;/TEST__ID&gt;\r\n    &lt;MULTIPLE__PART__NAME&gt;&lt;![CDATA[]]&gt;&lt;/MULTIPLE__PART__NAME&gt;\r\n&lt;/ROOT&gt;\r\n```\r\n\r\nI tried to extend DomDriver to inject XmlFriendlyNameCoder(&quot;_-&quot;, &quot;_&quot;) to ommit double underscore problem and  overriding `createWriter()` method to disable character escaping","title":"XStream double underscores and character escaping","body":"<p>I'm using XStream 1.4.9 to create XML from POJO classes. By default XStream escapes special characters like '&gt;', '&lt;' etc. Additionally it doubles underscore characters in element and attribute names. I need to disable this behaviour.\nI was able to get rid of double underscores basing on this solution:</p>\n<p><a href=\"https://stackoverflow.com/questions/9333035/xstream-and-underscores\">XStream and underscores</a></p>\n<p>Disabling character escaping works with this solution:</p>\n<p><a href=\"https://stackoverflow.com/questions/2891305/how-can-i-disable-unnecessary-escaping-in-xstream\">How can I disable unnecessary escaping in XStream?</a></p>\n<p>But I'm struggling with combining these approaches to achieve both goals in the same time.</p>\n<p>I created custom Writer class ommiting character escaping:</p>\n<pre><code>public class NoEscapeWriter extends PrettyPrintWriter {\n\n    public NoEscapeWriter(Writer writer) {\n        super(writer);\n    }\n\n    @Override\n    protected void writeText(QuickWriter writer, String text) {\n        writer.write(text);\n    }\n}\n</code></pre>\n<p>I implemented class extending DomDriver overriding <code>createWriter()</code> method and injecting <code>XmlFriendlyNameCoder</code> to its super class:</p>\n<pre><code>public class CustomDriver extends DomDriver {\n\n        public CustomDriver() {\n            super(&quot;UTF-8&quot;, new XmlFriendlyNameCoder(&quot;_-&quot;, &quot;_&quot;));\n        }\n\n        @Override\n        public HierarchicalStreamWriter createWriter(Writer out) {\n            return new NoEscapeWriter(out);\n        }\n}\n</code></pre>\n<p>And I'm generating XML with XStream like this:</p>\n<pre><code>XStream xStream = new XStream(new CustomDriver());\nxStream.processAnnotations(RootElement.class);\nfinal String s = xStream.toXML(root);\n</code></pre>\n<p>Although it ommits character escaping as expected, it still generates output with double underscores like this:</p>\n<pre><code>&lt;ROOT&gt;\n    &lt;TEST__ID&gt;&lt;![CDATA[]]&gt;&lt;/TEST__ID&gt;\n    &lt;MULTIPLE__PART__NAME&gt;&lt;![CDATA[]]&gt;&lt;/MULTIPLE__PART__NAME&gt;\n&lt;/ROOT&gt;\n</code></pre>\n<p>I tried to extend DomDriver to inject XmlFriendlyNameCoder(&quot;<em>-&quot;, &quot;</em>&quot;) to ommit double underscore problem and  overriding <code>createWriter()</code> method to disable character escaping</p>\n"},{"tags":["java","gson"],"answers":[{"comments":[{"owner":{"account_id":20068822,"reputation":320,"user_id":18769241,"display_name":"Sam"},"score":0,"creation_date":1675327047,"post_id":75314980,"comment_id":132905857,"body_markdown":"well i am getting Request processing failed: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 2 path $] with root cause","body":"well i am getting Request processing failed: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 2 path $] with root cause"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675329461,"post_id":75314980,"comment_id":132906536,"body_markdown":"Ill need to see more code","body":"Ill need to see more code"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675278108,"creation_date":1675278108,"answer_id":75314980,"question_id":75314627,"body_markdown":"I did exactly that and it appears to work:\r\n\r\n\tString stringifiedList = &quot;[\\&quot;value0\\&quot;]&quot;;\r\n\r\n\tList&lt;String&gt; array = gson.fromJson(stringifiedList, new TypeToken&lt;ArrayList&lt;String&gt;&gt;(){ }.getType());\r\n\r\n\tSystem.out.println(array);\r\n\r\n\r\n\r\nOutput\r\n\r\n    [value0]\r\n\r\nIt doesn&#39;t effect the functionality but it is better practice to use `TypeToken&lt;List&lt;String&gt;&gt;` than `TypeToken&lt;ArrayList&lt;String&gt;&gt;`","title":"How to convert a stringified value (from JS) into a List in Java using Gson?","body":"<p>I did exactly that and it appears to work:</p>\n<pre><code>String stringifiedList = &quot;[\\&quot;value0\\&quot;]&quot;;\n\nList&lt;String&gt; array = gson.fromJson(stringifiedList, new TypeToken&lt;ArrayList&lt;String&gt;&gt;(){ }.getType());\n\nSystem.out.println(array);\n</code></pre>\n<p>Output</p>\n<pre><code>[value0]\n</code></pre>\n<p>It doesn't effect the functionality but it is better practice to use <code>TypeToken&lt;List&lt;String&gt;&gt;</code> than <code>TypeToken&lt;ArrayList&lt;String&gt;&gt;</code></p>\n"}],"owner":{"account_id":20068822,"reputation":320,"user_id":18769241,"display_name":"Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675327068,"creation_date":1675276190,"question_id":75314627,"body_markdown":"I have this value that is being passed as a string `&quot;[\\&quot;value0\\&quot;]&quot;`\r\nI want to derive the following `List&lt;String&gt;`, `[&quot;value0&quot;]`\r\n\r\nHow to do that using Java and Gson?\r\n\r\nWhat I have tried is following and is not working:\r\n\r\n```java\r\nArrayList&lt;String&gt; values = gson.fromJson(stringifiedList, new TypeToken&lt;ArrayList&lt;String&gt;&gt;(){ }.getType());\r\n```\r\n\r\nEDIT: the error message is:\r\n\r\n    Request processing failed: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 2 path $] with root cause\r\n\r\nThanks","title":"How to convert a stringified value (from JS) into a List in Java using Gson?","body":"<p>I have this value that is being passed as a string <code>&quot;[\\&quot;value0\\&quot;]&quot;</code>\nI want to derive the following <code>List&lt;String&gt;</code>, <code>[&quot;value0&quot;]</code></p>\n<p>How to do that using Java and Gson?</p>\n<p>What I have tried is following and is not working:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;String&gt; values = gson.fromJson(stringifiedList, new TypeToken&lt;ArrayList&lt;String&gt;&gt;(){ }.getType());\n</code></pre>\n<p>EDIT: the error message is:</p>\n<pre><code>Request processing failed: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was STRING at line 1 column 2 path $] with root cause\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":6843,"reputation":60258,"user_id":11635,"accept_rate":56,"display_name":"Ruben Bartelink"},"score":2,"creation_date":1257260707,"post_id":1667854,"comment_id":1540883,"body_markdown":"See also http://stackoverflow.com/questions/1432764/any-tool-for-java-object-to-object-mapping","body":"See also <a href=\"http://stackoverflow.com/questions/1432764/any-tool-for-java-object-to-object-mapping\" title=\"any tool for java object to object mapping\">stackoverflow.com/questions/1432764/&hellip;</a>"},{"owner":{"account_id":21642,"reputation":4097,"user_id":52767,"accept_rate":86,"display_name":"Shaun"},"score":0,"creation_date":1257260858,"post_id":1667854,"comment_id":111221967,"body_markdown":"Yeah or the BeanUtils from Apache Jakarta.","body":"Yeah or the BeanUtils from Apache Jakarta."},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1562175699,"post_id":1667854,"comment_id":100299399,"body_markdown":"See also [How do I copy an object in Java?](https://stackoverflow.com/questions/869033/how-do-i-copy-an-object-in-java)","body":"See also <a href=\"https://stackoverflow.com/questions/869033/how-do-i-copy-an-object-in-java\">How do I copy an object in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":6843,"reputation":60258,"user_id":11635,"accept_rate":56,"display_name":"Ruben Bartelink"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1353325469,"creation_date":1257260664,"answer_id":1667885,"question_id":1667854,"body_markdown":"[Dozer](http://dozer.sourceforge.net/)\r\n\r\nUPDATE Nov 19 2012: There&#39;s now a [new ModelMapper project][1] too.\r\n\r\n  [1]: http://www.infoq.com/news/2012/11/modelmapper","title":"Copy all values from fields in one class to another through reflection","body":"<p><a href=\"http://dozer.sourceforge.net/\" rel=\"nofollow noreferrer\">Dozer</a></p>\n\n<p>UPDATE Nov 19 2012: There's now a <a href=\"http://www.infoq.com/news/2012/11/modelmapper\" rel=\"nofollow noreferrer\">new ModelMapper project</a> too.</p>\n"},{"comments":[{"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"score":15,"creation_date":1322488268,"post_id":1667911,"comment_id":10220177,"body_markdown":"Apparently BeanUtils doesn&#39;t work with null Date fields. Use Apache PropertyUtils if this is a problem for you: http://www.mail-archive.com/user@commons.apache.org/msg02246.html","body":"Apparently BeanUtils doesn&#39;t work with null Date fields. Use Apache PropertyUtils if this is a problem for you: <a href=\"http://www.mail-archive.com/user@commons.apache.org/msg02246.html\" rel=\"nofollow noreferrer\">mail-archive.com/user@commons.apache.org/msg02246.html</a>"},{"owner":{"account_id":2191771,"reputation":825,"user_id":1938607,"accept_rate":38,"display_name":"Andrea Ratto"},"score":11,"creation_date":1445015619,"post_id":1667911,"comment_id":54159351,"body_markdown":"This apparently does not work for private fields with no getter and setters. Any solution that works on directly with fields, rather than properties?","body":"This apparently does not work for private fields with no getter and setters. Any solution that works on directly with fields, rather than properties?"},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1552601893,"post_id":1667911,"comment_id":97084775,"body_markdown":"It neither works with plain public fields without getters: https://stackoverflow.com/questions/34263122/copy-object-properties-by-direct-field-access","body":"It neither works with plain public fields without getters: <a href=\"https://stackoverflow.com/questions/34263122/copy-object-properties-by-direct-field-access\" title=\"copy object properties by direct field access\">stackoverflow.com/questions/34263122/&hellip;</a>"}],"tags":[],"owner":{"account_id":29184,"reputation":3210,"user_id":78633,"display_name":"Greg Case"},"comment_count":3,"down_vote_count":2,"up_vote_count":120,"is_accepted":true,"score":118,"last_activity_date":1469983964,"creation_date":1257260875,"answer_id":1667911,"question_id":1667854,"body_markdown":"If you don&#39;t mind using a third party library, [BeanUtils][1] from Apache Commons will handle this quite easily, using `copyProperties(Object, Object)`.\r\n\r\n\r\n  [1]: http://commons.apache.org/beanutils/","title":"Copy all values from fields in one class to another through reflection","body":"<p>If you don't mind using a third party library, <a href=\"http://commons.apache.org/beanutils/\" rel=\"noreferrer\">BeanUtils</a> from Apache Commons will handle this quite easily, using <code>copyProperties(Object, Object)</code>.</p>\n"},{"tags":[],"owner":{"account_id":13566,"reputation":48845,"user_id":27358,"accept_rate":76,"display_name":"David Moles"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1257261297,"creation_date":1257261297,"answer_id":1667948,"question_id":1667854,"body_markdown":"The first argument to `tooF.set()` should be the target object (`too`), not the field, and the second argument should be the _value_, not the field the value comes from. (To get the value, you need to call `fromF.get()` -- again passing in a target object, in this case `from`.) \r\n\r\nMost of the reflection API works this way. You get `Field` objects, `Method` objects, and so on from the class, not from an instance, so to use them (except for statics) you generally need to pass them an instance.","title":"Copy all values from fields in one class to another through reflection","body":"<p>The first argument to <code>tooF.set()</code> should be the target object (<code>too</code>), not the field, and the second argument should be the <em>value</em>, not the field the value comes from. (To get the value, you need to call <code>fromF.get()</code> -- again passing in a target object, in this case <code>from</code>.) </p>\n\n<p>Most of the reflection API works this way. You get <code>Field</code> objects, <code>Method</code> objects, and so on from the class, not from an instance, so to use them (except for statics) you generally need to pass them an instance.</p>\n"},{"comments":[{"owner":{"account_id":29184,"reputation":3210,"user_id":78633,"display_name":"Greg Case"},"score":0,"creation_date":1323897497,"post_id":8132962,"comment_id":10537193,"body_markdown":"BeanUtils works just fine on private fields, as long as the getters/setters are public.  Regarding performance, I haven&#39;t done any benchmarking, but I believe it does some internal caching of the bean&#39;s it has introspected.","body":"BeanUtils works just fine on private fields, as long as the getters/setters are public.  Regarding performance, I haven&#39;t done any benchmarking, but I believe it does some internal caching of the bean&#39;s it has introspected."},{"owner":{"account_id":262376,"reputation":7102,"user_id":547198,"accept_rate":80,"display_name":"TimeToCodeTheRoad"},"score":2,"creation_date":1340746118,"post_id":8132962,"comment_id":14729005,"body_markdown":"this will only work if the two beans have the same data type of fields.","body":"this will only work if the two beans have the same data type of fields."},{"owner":{"account_id":3208177,"reputation":1188,"user_id":2708763,"accept_rate":80,"display_name":"WoLfPwNeR"},"score":0,"creation_date":1484006283,"post_id":8132962,"comment_id":70323158,"body_markdown":"@To Kra It would work only if you have getter/setter for that field.","body":"@To Kra It would work only if you have getter/setter for that field."}],"tags":[],"owner":{"account_id":1041028,"reputation":2683,"user_id":1047052,"display_name":"Supun Sameera"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1323682195,"creation_date":1321342709,"answer_id":8132962,"question_id":1667854,"body_markdown":"BeanUtils will only copy public fields and is a bit slow. Instead go with getter and setter methods.\r\n\t\r\n\r\n    public Object loadData (RideHotelsService object_a) throws Exception{\r\n    \t\t\t\t\t\r\n    \t\tMethod[] gettersAndSetters = object_a.getClass().getMethods();\r\n    \r\n    \t\tfor (int i = 0; i &lt; gettersAndSetters.length; i++) {\r\n    \t            String methodName = gettersAndSetters[i].getName();\r\n                    try{\r\n                      if(methodName.startsWith(&quot;get&quot;)){\r\n                         this.getClass().getMethod(methodName.replaceFirst(&quot;get&quot;, &quot;set&quot;) , gettersAndSetters[i].getReturnType() ).invoke(this, gettersAndSetters[i].invoke(object_a, null));\r\n    \t\t\t\t\t\t}else if(methodName.startsWith(&quot;is&quot;) ){\r\n    \t\t\t\t\t\t\tthis.getClass().getMethod(methodName.replaceFirst(&quot;is&quot;, &quot;set&quot;) ,  gettersAndSetters[i].getReturnType()  ).invoke(this, gettersAndSetters[i].invoke(object_a, null));\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t}catch (NoSuchMethodException e) {\r\n    \t\t\t\t\t// TODO: handle exception\r\n    \t\t\t\t}catch (IllegalArgumentException e) {\r\n    \t\t\t\t\t// TODO: handle exception\r\n    \t\t\t\t}\r\n    \r\n    \t\t}\r\n    \t\t\r\n    \t\treturn null;\r\n    \t}","title":"Copy all values from fields in one class to another through reflection","body":"<p>BeanUtils will only copy public fields and is a bit slow. Instead go with getter and setter methods.</p>\n\n<pre><code>public Object loadData (RideHotelsService object_a) throws Exception{\n\n        Method[] gettersAndSetters = object_a.getClass().getMethods();\n\n        for (int i = 0; i &lt; gettersAndSetters.length; i++) {\n                String methodName = gettersAndSetters[i].getName();\n                try{\n                  if(methodName.startsWith(\"get\")){\n                     this.getClass().getMethod(methodName.replaceFirst(\"get\", \"set\") , gettersAndSetters[i].getReturnType() ).invoke(this, gettersAndSetters[i].invoke(object_a, null));\n                        }else if(methodName.startsWith(\"is\") ){\n                            this.getClass().getMethod(methodName.replaceFirst(\"is\", \"set\") ,  gettersAndSetters[i].getReturnType()  ).invoke(this, gettersAndSetters[i].invoke(object_a, null));\n                        }\n\n                }catch (NoSuchMethodException e) {\n                    // TODO: handle exception\n                }catch (IllegalArgumentException e) {\n                    // TODO: handle exception\n                }\n\n        }\n\n        return null;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1484409,"reputation":12963,"user_id":1392956,"accept_rate":62,"display_name":"Priyank Doshi"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1337251242,"creation_date":1337251242,"answer_id":10634179,"question_id":1667854,"body_markdown":"I think you can try [dozer][1]. It has good support for bean to bean conversion.\r\nIts also easy to use. You can either inject it into your spring application or add the jar in class path and its done.\r\n\r\n  [1]: http://dozer.sourceforge.net/documentation/gettingstarted.html\r\n\r\nFor an example of your case : \r\n\r\n     DozerMapper mapper = new DozerMapper();\r\n    A a= new A();\r\n    CopyA copyA = new CopyA();\r\n    a.set... // set fields of a.\r\n    mapper.map(a,copyOfA); // will copy all fields from a to copyA\r\n","title":"Copy all values from fields in one class to another through reflection","body":"<p>I think you can try <a href=\"http://dozer.sourceforge.net/documentation/gettingstarted.html\" rel=\"nofollow\">dozer</a>. It has good support for bean to bean conversion.\nIts also easy to use. You can either inject it into your spring application or add the jar in class path and its done.</p>\n\n<p>For an example of your case : </p>\n\n<pre><code> DozerMapper mapper = new DozerMapper();\nA a= new A();\nCopyA copyA = new CopyA();\na.set... // set fields of a.\nmapper.map(a,copyOfA); // will copy all fields from a to copyA\n</code></pre>\n"},{"comments":[{"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"score":0,"creation_date":1438212260,"post_id":27821477,"comment_id":51363424,"body_markdown":"This does not do what the question is asking for. `SerializationUtils.clone()` is going to give a new object of the same class. Additionally it only works on serializable classes.","body":"This does not do what the question is asking for. <code>SerializationUtils.clone()</code> is going to give a new object of the same class. Additionally it only works on serializable classes."}],"tags":[],"owner":{"account_id":4404488,"reputation":346,"user_id":3589280,"display_name":"Nagappan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1438225975,"creation_date":1420640356,"answer_id":27821477,"question_id":1667854,"body_markdown":"Orika&#39;s is simple faster bean mapping framework because it does through byte code generation. It does nested mappings and mappings with different names. For more details, please [check here][1]\r\nSample mapping may look complex, but for complex scenarios it would be simple.\r\n\r\n    MapperFactory factory = new DefaultMapperFactory.Builder().build();\r\n    mapperFactory.registerClassMap(mapperFactory.classMap(Book.class,BookDto.class).byDefault().toClassMap());\r\n    MapperFacade mapper = factory.getMapperFacade();\r\n    BookDto bookDto = mapperFacade.map(book, BookDto.class);\r\n\r\n\r\n  [1]: https://code.google.com/p/orika/","title":"Copy all values from fields in one class to another through reflection","body":"<p>Orika's is simple faster bean mapping framework because it does through byte code generation. It does nested mappings and mappings with different names. For more details, please <a href=\"https://code.google.com/p/orika/\" rel=\"nofollow\">check here</a>\nSample mapping may look complex, but for complex scenarios it would be simple.</p>\n\n<pre><code>MapperFactory factory = new DefaultMapperFactory.Builder().build();\nmapperFactory.registerClassMap(mapperFactory.classMap(Book.class,BookDto.class).byDefault().toClassMap());\nMapperFacade mapper = factory.getMapperFacade();\nBookDto bookDto = mapperFacade.map(book, BookDto.class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"score":0,"creation_date":1527671240,"post_id":28328699,"comment_id":88210362,"body_markdown":"Antipattern: Reinvent the wheel","body":"Antipattern: Reinvent the wheel"}],"tags":[],"owner":{"account_id":161801,"reputation":3081,"user_id":1537394,"accept_rate":18,"display_name":"Mladen Adamovic"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423074487,"creation_date":1423074487,"answer_id":28328699,"question_id":1667854,"body_markdown":"I didn&#39;t want to add dependency to another JAR file because of this, so wrote something which would suit my needs. I follow the convention of fjorm https://code.google.com/p/fjorm/ which means that my generally accessible fields are public and that I don&#39;t bother to write setters and getters. (in my opinion code is easier to manage and more readable actually)\r\n\r\nSo I wrote something (it&#39;s not actually much difficult) which suits my needs (assumes that the class has public constructor without args) and it could be extracted into utility class\r\n\r\n      public Effect copyUsingReflection() {\r\n        Constructor constructorToUse = null;\r\n        for (Constructor constructor : this.getClass().getConstructors()) {\r\n          if (constructor.getParameterTypes().length == 0) {\r\n            constructorToUse = constructor;\r\n            constructorToUse.setAccessible(true);\r\n          }\r\n        }\r\n        if (constructorToUse != null) {\r\n          try {\r\n            Effect copyOfEffect = (Effect) constructorToUse.newInstance();\r\n            for (Field field : this.getClass().getFields()) {\r\n              try {\r\n                Object valueToCopy = field.get(this);\r\n                //if it has field of the same type (Effect in this case), call the method to copy it recursively\r\n                if (valueToCopy instanceof Effect) {\r\n                  valueToCopy = ((Effect) valueToCopy).copyUsingReflection();\r\n                }\r\n                //TODO add here other special types of fields, like Maps, Lists, etc.\r\n                field.set(copyOfEffect, valueToCopy);\r\n              } catch (IllegalArgumentException | IllegalAccessException ex) {\r\n                Logger.getLogger(Effect.class.getName()).log(Level.SEVERE, null, ex);\r\n              }\r\n            }\r\n            return copyOfEffect;\r\n          } catch (InstantiationException | IllegalAccessException | IllegalArgumentException | InvocationTargetException ex) {\r\n            Logger.getLogger(Effect.class.getName()).log(Level.SEVERE, null, ex);\r\n          }\r\n        }\r\n        return null;\r\n      }\r\n\r\n","title":"Copy all values from fields in one class to another through reflection","body":"<p>I didn't want to add dependency to another JAR file because of this, so wrote something which would suit my needs. I follow the convention of fjorm <a href=\"https://code.google.com/p/fjorm/\" rel=\"nofollow\">https://code.google.com/p/fjorm/</a> which means that my generally accessible fields are public and that I don't bother to write setters and getters. (in my opinion code is easier to manage and more readable actually)</p>\n\n<p>So I wrote something (it's not actually much difficult) which suits my needs (assumes that the class has public constructor without args) and it could be extracted into utility class</p>\n\n<pre><code>  public Effect copyUsingReflection() {\n    Constructor constructorToUse = null;\n    for (Constructor constructor : this.getClass().getConstructors()) {\n      if (constructor.getParameterTypes().length == 0) {\n        constructorToUse = constructor;\n        constructorToUse.setAccessible(true);\n      }\n    }\n    if (constructorToUse != null) {\n      try {\n        Effect copyOfEffect = (Effect) constructorToUse.newInstance();\n        for (Field field : this.getClass().getFields()) {\n          try {\n            Object valueToCopy = field.get(this);\n            //if it has field of the same type (Effect in this case), call the method to copy it recursively\n            if (valueToCopy instanceof Effect) {\n              valueToCopy = ((Effect) valueToCopy).copyUsingReflection();\n            }\n            //TODO add here other special types of fields, like Maps, Lists, etc.\n            field.set(copyOfEffect, valueToCopy);\n          } catch (IllegalArgumentException | IllegalAccessException ex) {\n            Logger.getLogger(Effect.class.getName()).log(Level.SEVERE, null, ex);\n          }\n        }\n        return copyOfEffect;\n      } catch (InstantiationException | IllegalAccessException | IllegalArgumentException | InvocationTargetException ex) {\n        Logger.getLogger(Effect.class.getName()).log(Level.SEVERE, null, ex);\n      }\n    }\n    return null;\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3109658,"reputation":356,"user_id":2631710,"display_name":"JHead"},"score":0,"creation_date":1504077927,"post_id":29670311,"comment_id":78866572,"body_markdown":"This is not a working solution but a good starting point. The fields need to be filtered to handle only the non-static and public fields that are present in both of the classes.","body":"This is not a working solution but a good starting point. The fields need to be filtered to handle only the non-static and public fields that are present in both of the classes."},{"owner":{"account_id":107117,"reputation":480,"user_id":973085,"display_name":"Evvo"},"score":0,"creation_date":1577993881,"post_id":29670311,"comment_id":105305851,"body_markdown":"Wouldn&#39;t this ignore fields in parent classes?","body":"Wouldn&#39;t this ignore fields in parent classes?"}],"tags":[],"owner":{"account_id":3454186,"reputation":47,"user_id":2893032,"display_name":"Darkhan Iskakov"},"comment_count":2,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1505828187,"creation_date":1429175751,"answer_id":29670311,"question_id":1667854,"body_markdown":"1. Without using BeanUtils or Apache Commons\r\n\r\n\r\n2. \r\n\r\n        public static &lt;T1 extends Object, T2 extends Object&gt;  void copy(T1     \r\n        origEntity, T2 destEntity) throws IllegalAccessException, NoSuchFieldException {\r\n            Field[] fields = origEntity.getClass().getDeclaredFields();\r\n            for (Field field : fields){\r\n                origFields.set(destEntity, field.get(origEntity));\r\n             }\r\n        }","title":"Copy all values from fields in one class to another through reflection","body":"<ol>\n<li><p>Without using BeanUtils or Apache Commons</p></li>\n<li><pre><code>public static &lt;T1 extends Object, T2 extends Object&gt;  void copy(T1     \norigEntity, T2 destEntity) throws IllegalAccessException, NoSuchFieldException {\n    Field[] fields = origEntity.getClass().getDeclaredFields();\n    for (Field field : fields){\n        origFields.set(destEntity, field.get(origEntity));\n     }\n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":160094,"reputation":4247,"user_id":379906,"accept_rate":80,"display_name":"db80"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675326864,"creation_date":1447154112,"answer_id":33628714,"question_id":1667854,"body_markdown":"If you have spring in the list of dependencies you can use **org.springframework.beans.BeanUtils**. \r\n\r\nhttps://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/BeanUtils.html","title":"Copy all values from fields in one class to another through reflection","body":"<p>If you have spring in the list of dependencies you can use <strong>org.springframework.beans.BeanUtils</strong>.</p>\n<p><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/BeanUtils.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/BeanUtils.html</a></p>\n"},{"comments":[{"owner":{"account_id":16900,"reputation":24039,"user_id":37298,"accept_rate":88,"display_name":"Shervin Asgari"},"score":0,"creation_date":1454317271,"post_id":35103361,"comment_id":57972817,"body_markdown":"I don&#39;t think this doesn&#39;t work for custom objects. Only if you have a class with no parent and only primitive fields","body":"I don&#39;t think this doesn&#39;t work for custom objects. Only if you have a class with no parent and only primitive fields"},{"owner":{"account_id":318313,"reputation":4457,"user_id":635473,"accept_rate":55,"display_name":"Nik Kashi"},"score":1,"creation_date":1454323519,"post_id":35103361,"comment_id":57976798,"body_markdown":"For covering super class fields I am using &#39;getAllModelFields&#39; custom method","body":"For covering super class fields I am using &#39;getAllModelFields&#39; custom method"}],"tags":[],"owner":{"account_id":318313,"reputation":4457,"user_id":635473,"accept_rate":55,"display_name":"Nik Kashi"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1466431801,"creation_date":1454166644,"answer_id":35103361,"question_id":1667854,"body_markdown":"My solution:\r\n\r\n    public static &lt;T &gt; void copyAllFields(T to, T from) {\r\n            Class&lt;T&gt; clazz = (Class&lt;T&gt;) from.getClass();\r\n            // OR:\r\n            // Class&lt;T&gt; clazz = (Class&lt;T&gt;) to.getClass();\r\n            List&lt;Field&gt; fields = getAllModelFields(clazz);\r\n    \r\n            if (fields != null) {\r\n                for (Field field : fields) {\r\n                    try {\r\n                        field.setAccessible(true);\r\n                        field.set(to,field.get(from));\r\n                    } catch (IllegalAccessException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n    public static List&lt;Field&gt; getAllModelFields(Class aClass) {\r\n        List&lt;Field&gt; fields = new ArrayList&lt;&gt;();\r\n        do {\r\n            Collections.addAll(fields, aClass.getDeclaredFields());\r\n            aClass = aClass.getSuperclass();\r\n        } while (aClass != null);\r\n        return fields;\r\n    }","title":"Copy all values from fields in one class to another through reflection","body":"<p>My solution:</p>\n\n<pre><code>public static &lt;T &gt; void copyAllFields(T to, T from) {\n        Class&lt;T&gt; clazz = (Class&lt;T&gt;) from.getClass();\n        // OR:\n        // Class&lt;T&gt; clazz = (Class&lt;T&gt;) to.getClass();\n        List&lt;Field&gt; fields = getAllModelFields(clazz);\n\n        if (fields != null) {\n            for (Field field : fields) {\n                try {\n                    field.setAccessible(true);\n                    field.set(to,field.get(from));\n                } catch (IllegalAccessException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\npublic static List&lt;Field&gt; getAllModelFields(Class aClass) {\n    List&lt;Field&gt; fields = new ArrayList&lt;&gt;();\n    do {\n        Collections.addAll(fields, aClass.getDeclaredFields());\n        aClass = aClass.getSuperclass();\n    } while (aClass != null);\n    return fields;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1033485,"reputation":1577,"user_id":1041319,"display_name":"arntg"},"score":1,"creation_date":1548727214,"post_id":40798976,"comment_id":95636330,"body_markdown":"Why generate another String which could also be large?  There are better alternatives described as answers here.  At least we (the industry) progressed from XML to json for string representations, but we still don&#39;t want everything passed to that string representation at any given chance ...","body":"Why generate another String which could also be large?  There are better alternatives described as answers here.  At least we (the industry) progressed from XML to json for string representations, but we still don&#39;t want everything passed to that string representation at any given chance ..."},{"owner":{"account_id":6268437,"reputation":395,"user_id":4873342,"display_name":"Eric Ho"},"score":1,"creation_date":1549174664,"post_id":40798976,"comment_id":95805486,"body_markdown":"Please noted that the string is a side product when using reflection . Even through you did not save it !! This is a answer for java beginners, and aim to be in short and clean way. @arntg","body":"Please noted that the string is a side product when using reflection . Even through you did not save it !! This is a answer for java beginners, and aim to be in short and clean way. @arntg"},{"owner":{"account_id":107117,"reputation":480,"user_id":973085,"display_name":"Evvo"},"score":1,"creation_date":1570640901,"post_id":40798976,"comment_id":102979625,"body_markdown":"You&#39;d still need reflection on both the source and destination objects, but now you&#39;re also introducing binary/text/binary formatting and parsing overhead.","body":"You&#39;d still need reflection on both the source and destination objects, but now you&#39;re also introducing binary/text/binary formatting and parsing overhead."},{"owner":{"account_id":12436244,"reputation":161,"user_id":9056546,"display_name":"SebaReal"},"score":1,"creation_date":1591194070,"post_id":40798976,"comment_id":109963309,"body_markdown":"Pay attention if you use Proguard to obfuscate the code. If you use it, this code will not work.","body":"Pay attention if you use Proguard to obfuscate the code. If you use it, this code will not work."},{"owner":{"account_id":3641890,"reputation":410,"user_id":3035786,"accept_rate":50,"display_name":"Mugeesh Husain"},"score":0,"creation_date":1669339677,"post_id":40798976,"comment_id":131625791,"body_markdown":"this is useful in my case thanks","body":"this is useful in my case thanks"}],"tags":[],"owner":{"account_id":6268437,"reputation":395,"user_id":4873342,"display_name":"Eric Ho"},"comment_count":5,"down_vote_count":8,"up_vote_count":28,"is_accepted":false,"score":20,"last_activity_date":1496986284,"creation_date":1480055420,"answer_id":40798976,"question_id":1667854,"body_markdown":"Why don&#39;t you use gson library https://github.com/google/gson\r\n\r\nyou just convert the Class A to json string. Then convert jsonString to you subClass (CopyA) .using below code:\r\n\r\n    Gson gson= new Gson();\r\n    String tmp = gson.toJson(a);\r\n    CopyA myObject = gson.fromJson(tmp,CopyA.class);\r\n\r\n","title":"Copy all values from fields in one class to another through reflection","body":"<p>Why don't you use gson library <a href=\"https://github.com/google/gson\" rel=\"noreferrer\">https://github.com/google/gson</a></p>\n\n<p>you just convert the Class A to json string. Then convert jsonString to you subClass (CopyA) .using below code:</p>\n\n<pre><code>Gson gson= new Gson();\nString tmp = gson.toJson(a);\nCopyA myObject = gson.fromJson(tmp,CopyA.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":53471,"reputation":5683,"user_id":159837,"accept_rate":75,"display_name":"Frat K&#252;&#231;&#252;k"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1490733969,"creation_date":1490733969,"answer_id":43079613,"question_id":1667854,"body_markdown":"Spring has a built in `BeanUtils.copyProperties` method. But it doesn&#39;t work with classes without getters/setters. JSON serialization/deserialization can be another option for copying fields. Jackson can be used for this purpose. If you are using Spring In most cases Jackson is already in your dependency list.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    ObjectMapper mapper     = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    Clazz        copyObject = mapper.readValue(mapper.writeValueAsString(sourceObject), Clazz.class);\r\n\r\n","title":"Copy all values from fields in one class to another through reflection","body":"<p>Spring has a built in <code>BeanUtils.copyProperties</code> method. But it doesn't work with classes without getters/setters. JSON serialization/deserialization can be another option for copying fields. Jackson can be used for this purpose. If you are using Spring In most cases Jackson is already in your dependency list.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper mapper     = new ObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\nClazz        copyObject = mapper.readValue(mapper.writeValueAsString(sourceObject), Clazz.class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6369185,"reputation":591,"user_id":4942198,"display_name":"Orden"},"score":1,"creation_date":1533846961,"post_id":45955743,"comment_id":90509346,"body_markdown":"I have created a similar solution. I cached a class to field names to field map.","body":"I have created a similar solution. I cached a class to field names to field map."},{"owner":{"account_id":7407971,"reputation":2389,"user_id":5636313,"accept_rate":76,"display_name":"Farid"},"score":0,"creation_date":1593904384,"post_id":45955743,"comment_id":110940965,"body_markdown":"The solution is nice but you&#39;re gonna have a problem in this line `i.remove()`. Even if you&#39;ve created iterator you can&#39;t call `remove` on `List`&#39;s `iterator`. It should be `ArrayList`","body":"The solution is nice but you&#39;re gonna have a problem in this line <code>i.remove()</code>. Even if you&#39;ve created iterator you can&#39;t call <code>remove</code> on <code>List</code>&#39;s <code>iterator</code>. It should be <code>ArrayList</code>"},{"owner":{"account_id":3109658,"reputation":356,"user_id":2631710,"display_name":"JHead"},"score":0,"creation_date":1594022475,"post_id":45955743,"comment_id":110969580,"body_markdown":"Farid, remove can&#39;t be a problem because collectFields() creates ArrayList objects.","body":"Farid, remove can&#39;t be a problem because collectFields() creates ArrayList objects."}],"tags":[],"owner":{"account_id":3109658,"reputation":356,"user_id":2631710,"display_name":"JHead"},"comment_count":3,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1504082360,"creation_date":1504082360,"answer_id":45955743,"question_id":1667854,"body_markdown":"Here is a working and tested solution. You can control the depth of the mapping in the class hierarchy.\r\n\r\n    public class FieldMapper {\r\n    \r\n        public static void copy(Object from, Object to) throws Exception {\r\n            FieldMapper.copy(from, to, Object.class);\r\n        }\r\n        \r\n        public static void copy(Object from, Object to, Class depth) throws Exception {\r\n            Class fromClass = from.getClass();\r\n            Class toClass = to.getClass();\r\n            List&lt;Field&gt; fromFields = collectFields(fromClass, depth);\r\n            List&lt;Field&gt; toFields = collectFields(toClass, depth);\r\n            Field target;\r\n            for (Field source : fromFields) {\r\n                if ((target = findAndRemove(source, toFields)) != null) {\r\n                    target.set(to, source.get(from));\r\n                }\r\n            }\r\n        }\r\n    \r\n        private static List&lt;Field&gt; collectFields(Class c, Class depth) {\r\n            List&lt;Field&gt; accessibleFields = new ArrayList&lt;&gt;();\r\n            do {\r\n                int modifiers;\r\n                for (Field field : c.getDeclaredFields()) {\r\n                    modifiers = field.getModifiers();\r\n                    if (!Modifier.isStatic(modifiers) &amp;&amp; Modifier.isPublic(modifiers)) {\r\n                        accessibleFields.add(field);\r\n                    }\r\n                }\r\n                c = c.getSuperclass();\r\n            } while (c != null &amp;&amp; c != depth);\r\n            return accessibleFields;\r\n        }\r\n    \r\n        private static Field findAndRemove(Field field, List&lt;Field&gt; fields) {\r\n            Field actual;\r\n            for (Iterator&lt;Field&gt; i = fields.iterator(); i.hasNext();) {\r\n                actual = i.next();\r\n                if (field.getName().equals(actual.getName())\r\n                    &amp;&amp; field.getType().equals(actual.getType())) {\r\n                    i.remove();\r\n                    return actual;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }","title":"Copy all values from fields in one class to another through reflection","body":"<p>Here is a working and tested solution. You can control the depth of the mapping in the class hierarchy.</p>\n\n<pre><code>public class FieldMapper {\n\n    public static void copy(Object from, Object to) throws Exception {\n        FieldMapper.copy(from, to, Object.class);\n    }\n\n    public static void copy(Object from, Object to, Class depth) throws Exception {\n        Class fromClass = from.getClass();\n        Class toClass = to.getClass();\n        List&lt;Field&gt; fromFields = collectFields(fromClass, depth);\n        List&lt;Field&gt; toFields = collectFields(toClass, depth);\n        Field target;\n        for (Field source : fromFields) {\n            if ((target = findAndRemove(source, toFields)) != null) {\n                target.set(to, source.get(from));\n            }\n        }\n    }\n\n    private static List&lt;Field&gt; collectFields(Class c, Class depth) {\n        List&lt;Field&gt; accessibleFields = new ArrayList&lt;&gt;();\n        do {\n            int modifiers;\n            for (Field field : c.getDeclaredFields()) {\n                modifiers = field.getModifiers();\n                if (!Modifier.isStatic(modifiers) &amp;&amp; Modifier.isPublic(modifiers)) {\n                    accessibleFields.add(field);\n                }\n            }\n            c = c.getSuperclass();\n        } while (c != null &amp;&amp; c != depth);\n        return accessibleFields;\n    }\n\n    private static Field findAndRemove(Field field, List&lt;Field&gt; fields) {\n        Field actual;\n        for (Iterator&lt;Field&gt; i = fields.iterator(); i.hasNext();) {\n            actual = i.next();\n            if (field.getName().equals(actual.getName())\n                &amp;&amp; field.getType().equals(actual.getType())) {\n                i.remove();\n                return actual;\n            }\n        }\n        return null;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4803880,"reputation":2185,"user_id":4589003,"accept_rate":57,"display_name":"Sudip Bhandari"},"score":0,"creation_date":1527764749,"post_id":49694656,"comment_id":88255386,"body_markdown":"This doesn&#39;t provide any additional information than  accepted https://stackoverflow.com/a/1667911/4589003 answer","body":"This doesn&#39;t provide any additional information than  accepted <a href=\"https://stackoverflow.com/a/1667911/4589003\">stackoverflow.com/a/1667911/4589003</a> answer"}],"tags":[],"owner":{"account_id":8153102,"reputation":15213,"user_id":6139527,"display_name":"Nicholas K"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1523023478,"creation_date":1523023478,"answer_id":49694656,"question_id":1667854,"body_markdown":"This is a late post, but can still be effective for people in future. \r\n\r\nSpring provides a utility `BeanUtils.copyProperties(srcObj, tarObj)` which copies values from source object to target object when the names of the member variables of both classes are the same. \r\n\r\nIf there is a date conversion, (eg, String to Date) &#39;null&#39; would be copied to the target object. We can then, explicitly set the values of the date as required. \r\n\r\nThe BeanUtils from `Apache Common` throws an error when there is a mismatch of data-types (esp. conversion to and from Date)\r\n\r\nHope this helps!","title":"Copy all values from fields in one class to another through reflection","body":"<p>This is a late post, but can still be effective for people in future. </p>\n\n<p>Spring provides a utility <code>BeanUtils.copyProperties(srcObj, tarObj)</code> which copies values from source object to target object when the names of the member variables of both classes are the same. </p>\n\n<p>If there is a date conversion, (eg, String to Date) 'null' would be copied to the target object. We can then, explicitly set the values of the date as required. </p>\n\n<p>The BeanUtils from <code>Apache Common</code> throws an error when there is a mismatch of data-types (esp. conversion to and from Date)</p>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":285085,"reputation":3836,"user_id":583557,"accept_rate":0,"display_name":"Babul Mirdha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568046884,"creation_date":1568046884,"answer_id":57857981,"question_id":1667854,"body_markdown":"I solved the above problem in Kotlin that works fine for me for my Android Apps Development:\r\n\r\n     object FieldMapper {\r\n\r\n    fun &lt;T:Any&gt; copy(to: T, from: T) {\r\n        try {\r\n            val fromClass = from.javaClass\r\n\r\n            val fromFields = getAllFields(fromClass)\r\n\r\n            fromFields?.let {\r\n                for (field in fromFields) {\r\n                    try {\r\n                        field.isAccessible = true\r\n                        field.set(to, field.get(from))\r\n                    } catch (e: IllegalAccessException) {\r\n                        e.printStackTrace()\r\n                    }\r\n\r\n                }\r\n            }\r\n        } catch (e: Exception) {\r\n            e.printStackTrace()\r\n        }\r\n\r\n    }\r\n\r\n    private fun getAllFields(paramClass: Class&lt;*&gt;): List&lt;Field&gt; {\r\n\r\n        var theClass:Class&lt;*&gt;? = paramClass\r\n        val fields = ArrayList&lt;Field&gt;()\r\n        try {\r\n            while (theClass != null) {\r\n                Collections.addAll(fields, *theClass?.declaredFields)\r\n                theClass = theClass?.superclass\r\n            }\r\n        }catch (e:Exception){\r\n            e.printStackTrace()\r\n        }\r\n\r\n        return fields\r\n    }\r\n}","title":"Copy all values from fields in one class to another through reflection","body":"<p>I solved the above problem in Kotlin that works fine for me for my Android Apps Development:</p>\n\n<pre><code> object FieldMapper {\n\nfun &lt;T:Any&gt; copy(to: T, from: T) {\n    try {\n        val fromClass = from.javaClass\n\n        val fromFields = getAllFields(fromClass)\n\n        fromFields?.let {\n            for (field in fromFields) {\n                try {\n                    field.isAccessible = true\n                    field.set(to, field.get(from))\n                } catch (e: IllegalAccessException) {\n                    e.printStackTrace()\n                }\n\n            }\n        }\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n\n}\n\nprivate fun getAllFields(paramClass: Class&lt;*&gt;): List&lt;Field&gt; {\n\n    var theClass:Class&lt;*&gt;? = paramClass\n    val fields = ArrayList&lt;Field&gt;()\n    try {\n        while (theClass != null) {\n            Collections.addAll(fields, *theClass?.declaredFields)\n            theClass = theClass?.superclass\n        }\n    }catch (e:Exception){\n        e.printStackTrace()\n    }\n\n    return fields\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":251229,"reputation":638,"user_id":4495475,"display_name":"Emily Crutcher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568928930,"creation_date":1568928930,"answer_id":58019208,"question_id":1667854,"body_markdown":"Mladen&#39;s basic idea worked (thanks), but needed a few changes to be robust, so I contributed them here.\r\n\r\nThe only place where this type of solution should be used is if you want to clone the object, but can&#39;t because it is a managed object.  If you are lucky enough to have objects that all have 100% side-effect free  setters for all fields,  you should definitely use the BeanUtils option instead. \r\n\r\nHere, I use lang3&#39;s utility methods to simplify the code, so if you paste it, you must first import Apache&#39;s lang3 library.\r\n\r\nCopy code\r\n\r\n    static public &lt;X extends Object&gt; X copy(X object, String... skipFields) {\r\n    \t\tConstructor constructorToUse = null;\r\n    \t\tfor (Constructor constructor : object.getClass().getConstructors()) {\r\n    \t\t\tif (constructor.getParameterTypes().length == 0) {\r\n    \t\t\t\tconstructorToUse = constructor;\r\n    \t\t\t\tconstructorToUse.setAccessible(true);\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (constructorToUse == null) {\r\n    \t\t\tthrow new IllegalStateException(object + &quot; must have a zero arg constructor in order to be copied&quot;);\r\n    \t\t}\r\n    \t\tX copy;\r\n    \t\ttry {\r\n    \t\t\tcopy = (X) constructorToUse.newInstance();\r\n    \r\n    \t\t\tfor (Field field : FieldUtils.getAllFields(object.getClass())) {\r\n    \t\t\t\tif (Modifier.isStatic(field.getModifiers())) {\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\t//Avoid the fields that you don&#39;t want to copy. Note, if you pass in &quot;id&quot;, it will skip any field with &quot;id&quot; in it. So be careful.\r\n    \t\t\t\tif (StringUtils.containsAny(field.getName(), skipFields)) {\r\n    \t\t\t\t\tcontinue;\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tfield.setAccessible(true);\r\n    \r\n    \t\t\t\tObject valueToCopy = field.get(object);\r\n    \t\t\t\t//TODO add here other special types of fields, like Maps, Lists, etc.\r\n    \t\t\t\tfield.set(copy, valueToCopy);\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t} catch (InstantiationException | IllegalAccessException | IllegalArgumentException\r\n    \t\t\t\t| InvocationTargetException e) {\r\n    \t\t\tthrow new IllegalStateException(&quot;Could not copy &quot; + object, e);\r\n    \t\t}\r\n    \t\treturn copy;\r\n\t}\r\n","title":"Copy all values from fields in one class to another through reflection","body":"<p>Mladen's basic idea worked (thanks), but needed a few changes to be robust, so I contributed them here.</p>\n\n<p>The only place where this type of solution should be used is if you want to clone the object, but can't because it is a managed object.  If you are lucky enough to have objects that all have 100% side-effect free  setters for all fields,  you should definitely use the BeanUtils option instead. </p>\n\n<p>Here, I use lang3's utility methods to simplify the code, so if you paste it, you must first import Apache's lang3 library.</p>\n\n<p>Copy code</p>\n\n<pre><code>static public &lt;X extends Object&gt; X copy(X object, String... skipFields) {\n        Constructor constructorToUse = null;\n        for (Constructor constructor : object.getClass().getConstructors()) {\n            if (constructor.getParameterTypes().length == 0) {\n                constructorToUse = constructor;\n                constructorToUse.setAccessible(true);\n                break;\n            }\n        }\n        if (constructorToUse == null) {\n            throw new IllegalStateException(object + \" must have a zero arg constructor in order to be copied\");\n        }\n        X copy;\n        try {\n            copy = (X) constructorToUse.newInstance();\n\n            for (Field field : FieldUtils.getAllFields(object.getClass())) {\n                if (Modifier.isStatic(field.getModifiers())) {\n                    continue;\n                }\n\n                //Avoid the fields that you don't want to copy. Note, if you pass in \"id\", it will skip any field with \"id\" in it. So be careful.\n                if (StringUtils.containsAny(field.getName(), skipFields)) {\n                    continue;\n                }\n\n                field.setAccessible(true);\n\n                Object valueToCopy = field.get(object);\n                //TODO add here other special types of fields, like Maps, Lists, etc.\n                field.set(copy, valueToCopy);\n\n            }\n\n        } catch (InstantiationException | IllegalAccessException | IllegalArgumentException\n                | InvocationTargetException e) {\n            throw new IllegalStateException(\"Could not copy \" + object, e);\n        }\n        return copy;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1948237,"reputation":2616,"user_id":1752917,"accept_rate":14,"display_name":"Mohammed Rafeeq"},"score":0,"creation_date":1580396454,"post_id":58316925,"comment_id":106090957,"body_markdown":"This mapper.map has issues, in an entity it is not copying the Primary keys","body":"This mapper.map has issues, in an entity it is not copying the Primary keys"}],"tags":[],"owner":{"account_id":2850233,"reputation":3615,"user_id":2447599,"display_name":"Ran Adler"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570689742,"creation_date":1570689742,"answer_id":58316925,"question_id":1667854,"body_markdown":"    \tpublic &lt;T1 extends Object, T2 extends Object&gt; void copy(T1 origEntity, T2 destEntity) {\r\n    \t\tDozerBeanMapper mapper = new DozerBeanMapper();\r\n    \t\tmapper.map(origEntity,destEntity);\r\n    \t}\r\n    \r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;net.sf.dozer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;dozer&lt;/artifactId&gt;\r\n                &lt;version&gt;5.4.0&lt;/version&gt;\r\n            &lt;/dependency&gt;","title":"Copy all values from fields in one class to another through reflection","body":"<pre><code>    public &lt;T1 extends Object, T2 extends Object&gt; void copy(T1 origEntity, T2 destEntity) {\n        DozerBeanMapper mapper = new DozerBeanMapper();\n        mapper.map(origEntity,destEntity);\n    }\n\n &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.dozer&lt;/groupId&gt;\n            &lt;artifactId&gt;dozer&lt;/artifactId&gt;\n            &lt;version&gt;5.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"score":1,"creation_date":1584601230,"post_id":60751923,"comment_id":107487352,"body_markdown":"While this code may provide a solution to the question, it&#39;s better to add context as to why/how it works. This can help future users learn, and apply that knowledge to their own code. You are also likely to have positive feedback from users in the form of upvotes, when the code is explained.","body":"While this code may provide a solution to the question, it&#39;s better to add context as to why/how it works. This can help future users learn, and apply that knowledge to their own code. You are also likely to have positive feedback from users in the form of upvotes, when the code is explained."}],"tags":[],"owner":{"account_id":11205656,"reputation":81,"user_id":8221356,"display_name":"Zedong"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584602483,"creation_date":1584599049,"answer_id":60751923,"question_id":1667854,"body_markdown":"    public static &lt;T&gt; void copyAvalableFields(@NotNull T source, @NotNull T target) throws IllegalAccessException {\r\n        Field[] fields = source.getClass().getDeclaredFields();\r\n        for (Field field : fields) {\r\n            if (!Modifier.isStatic(field.getModifiers())\r\n                    &amp;&amp; !Modifier.isFinal(field.getModifiers())) {\r\n                field.set(target, field.get(source));\r\n            }\r\n        }\r\n    }\r\n\r\nWe read all the fields of the class. Filter non-static and non-final fields from the result.\r\nBut there may be an error accessing non-public fields.\r\nFor example, if this function is in the same class, and the class being copied does not contain public fields, an access error will occur. The solution may be to place this function in the same package or change access to public or in this code inside the loop call \r\n   field.setAccessible (true); \r\nwhat will make the fields available","title":"Copy all values from fields in one class to another through reflection","body":"<pre><code>public static &lt;T&gt; void copyAvalableFields(@NotNull T source, @NotNull T target) throws IllegalAccessException {\n    Field[] fields = source.getClass().getDeclaredFields();\n    for (Field field : fields) {\n        if (!Modifier.isStatic(field.getModifiers())\n                &amp;&amp; !Modifier.isFinal(field.getModifiers())) {\n            field.set(target, field.get(source));\n        }\n    }\n}\n</code></pre>\n\n<p>We read all the fields of the class. Filter non-static and non-final fields from the result.\nBut there may be an error accessing non-public fields.\nFor example, if this function is in the same class, and the class being copied does not contain public fields, an access error will occur. The solution may be to place this function in the same package or change access to public or in this code inside the loop call \n   field.setAccessible (true); \nwhat will make the fields available</p>\n"},{"tags":[],"owner":{"account_id":12666242,"reputation":31,"user_id":11155514,"display_name":"Ejaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648115545,"creation_date":1648113151,"answer_id":71599713,"question_id":1667854,"body_markdown":"Here is my solution, will cover the child class case:\r\n\r\n    /**\r\n\t * This methods transfer the attributes from one class to another class if it\r\n\t * has null values.\r\n\t * \r\n\t * @param fromClass from class\r\n\t * @param toClass   to class\r\n\t */\r\n\tprivate void loadProperties(Object fromClass, Object toClass) {\r\n\t\tif (Objects.isNull(fromClass) || Objects.isNull(toClass))\r\n\t\t\treturn;\r\n\t\t\r\n\t\tField[] fields = toClass.getClass().getDeclaredFields();\r\n\t\tField[] fieldsSuperClass = toClass.getClass().getSuperclass().getDeclaredFields();\r\n\t\tField[] fieldsFinal = new Field[fields.length + fieldsSuperClass.length];\r\n\r\n\t\tArrays.setAll(fieldsFinal, i -&gt; (i &lt; fields.length ? fields[i] : fieldsSuperClass[i - fields.length]));\r\n\r\n\t\tfor (Field field : fieldsFinal) {\r\n\t\t\tfield.setAccessible(true);\r\n\t\t\ttry {\r\n\t\t\t\tString propertyKey = field.getName();\r\n\t\t\t\tif (field.get(toClass) == null) {\r\n\t\t\t\t\tField defaultPropertyField = fromClass.getClass().getDeclaredField(propertyKey);\r\n\t\t\t\t\tdefaultPropertyField.setAccessible(true);\r\n\t\t\t\t\tObject propertyValue = defaultPropertyField.get(fromClass);\r\n\t\t\t\t\tif (propertyValue != null)\r\n\t\t\t\t\t\tfield.set(toClass, propertyValue);\r\n\t\t\t\t}\r\n\t\t\t} catch (IllegalAccessException e) {\r\n\t\t\t\tlogger.error(() -&gt; &quot;Error while loading properties from &quot; + fromClass.getClass() +&quot; and to &quot; +toClass.getClass(), e);\r\n\t\t\t} catch (NoSuchFieldException e) {\r\n\t\t\t\tlogger.error(() -&gt; &quot;Exception occurred while loading properties from &quot; + fromClass.getClass()+&quot; and to &quot; +toClass.getClass(), e);\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Copy all values from fields in one class to another through reflection","body":"<p>Here is my solution, will cover the child class case:</p>\n<pre><code>/**\n * This methods transfer the attributes from one class to another class if it\n * has null values.\n * \n * @param fromClass from class\n * @param toClass   to class\n */\nprivate void loadProperties(Object fromClass, Object toClass) {\n    if (Objects.isNull(fromClass) || Objects.isNull(toClass))\n        return;\n    \n    Field[] fields = toClass.getClass().getDeclaredFields();\n    Field[] fieldsSuperClass = toClass.getClass().getSuperclass().getDeclaredFields();\n    Field[] fieldsFinal = new Field[fields.length + fieldsSuperClass.length];\n\n    Arrays.setAll(fieldsFinal, i -&gt; (i &lt; fields.length ? fields[i] : fieldsSuperClass[i - fields.length]));\n\n    for (Field field : fieldsFinal) {\n        field.setAccessible(true);\n        try {\n            String propertyKey = field.getName();\n            if (field.get(toClass) == null) {\n                Field defaultPropertyField = fromClass.getClass().getDeclaredField(propertyKey);\n                defaultPropertyField.setAccessible(true);\n                Object propertyValue = defaultPropertyField.get(fromClass);\n                if (propertyValue != null)\n                    field.set(toClass, propertyValue);\n            }\n        } catch (IllegalAccessException e) {\n            logger.error(() -&gt; &quot;Error while loading properties from &quot; + fromClass.getClass() +&quot; and to &quot; +toClass.getClass(), e);\n        } catch (NoSuchFieldException e) {\n            logger.error(() -&gt; &quot;Exception occurred while loading properties from &quot; + fromClass.getClass()+&quot; and to &quot; +toClass.getClass(), e);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16900,"reputation":24039,"user_id":37298,"accept_rate":88,"display_name":"Shervin Asgari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214967,"favorite_count":0,"down_vote_count":0,"up_vote_count":94,"accepted_answer_id":1667911,"answer_count":19,"score":94,"last_activity_date":1675326864,"creation_date":1257260318,"question_id":1667854,"body_markdown":"I have a class which is basically a copy of another class.\r\n\r\n    public class A {\r\n      int a;\r\n      String b;\r\n    }\r\n\r\n    public class CopyA {\r\n      int a;\r\n      String b;\r\n    }\r\n\r\nWhat I am doing is putting values from class `A` into `CopyA` before sending `CopyA` through a webservice call. Now I would like to create a reflection-method that basically copies all fields that are identical (by name and type) from class `A` to class `CopyA`.\r\n\r\nHow can I do this?\r\n\r\nThis is what I have so far, but it doesn&#39;t quite work. I think the problem here is that I am trying to set a field on the field I am looping through.\r\n\r\n    private &lt;T extends Object, Y extends Object&gt; void copyFields(T from, Y too) {\r\n\r\n\t\tClass&lt;? extends Object&gt; fromClass = from.getClass();\r\n\t\tField[] fromFields = fromClass.getDeclaredFields();\r\n\r\n\t\tClass&lt;? extends Object&gt; tooClass = too.getClass();\r\n\t\tField[] tooFields = tooClass.getDeclaredFields();\r\n\r\n\t\tif (fromFields != null &amp;&amp; tooFields != null) {\r\n\t\t\tfor (Field tooF : tooFields) {\r\n\t\t\t\tlogger.debug(&quot;toofield name #0 and type #1&quot;, tooF.getName(), tooF.getType().toString());\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// Check if that fields exists in the other method\r\n\t\t\t\t\tField fromF = fromClass.getDeclaredField(tooF.getName());\r\n\t\t\t\t\tif (fromF.getType().equals(tooF.getType())) {\r\n\t\t\t\t\t\ttooF.set(tooF, fromF);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (SecurityException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t} catch (NoSuchFieldException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t} catch (IllegalArgumentException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t} catch (IllegalAccessException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\nI am sure there must be someone that has already done this somehow","title":"Copy all values from fields in one class to another through reflection","body":"<p>I have a class which is basically a copy of another class.</p>\n\n<pre><code>public class A {\n  int a;\n  String b;\n}\n\npublic class CopyA {\n  int a;\n  String b;\n}\n</code></pre>\n\n<p>What I am doing is putting values from class <code>A</code> into <code>CopyA</code> before sending <code>CopyA</code> through a webservice call. Now I would like to create a reflection-method that basically copies all fields that are identical (by name and type) from class <code>A</code> to class <code>CopyA</code>.</p>\n\n<p>How can I do this?</p>\n\n<p>This is what I have so far, but it doesn't quite work. I think the problem here is that I am trying to set a field on the field I am looping through.</p>\n\n<pre><code>private &lt;T extends Object, Y extends Object&gt; void copyFields(T from, Y too) {\n\n    Class&lt;? extends Object&gt; fromClass = from.getClass();\n    Field[] fromFields = fromClass.getDeclaredFields();\n\n    Class&lt;? extends Object&gt; tooClass = too.getClass();\n    Field[] tooFields = tooClass.getDeclaredFields();\n\n    if (fromFields != null &amp;&amp; tooFields != null) {\n        for (Field tooF : tooFields) {\n            logger.debug(\"toofield name #0 and type #1\", tooF.getName(), tooF.getType().toString());\n            try {\n                // Check if that fields exists in the other method\n                Field fromF = fromClass.getDeclaredField(tooF.getName());\n                if (fromF.getType().equals(tooF.getType())) {\n                    tooF.set(tooF, fromF);\n                }\n            } catch (SecurityException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            } catch (NoSuchFieldException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            } catch (IllegalArgumentException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            } catch (IllegalAccessException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n        }\n    }\n</code></pre>\n\n<p>I am sure there must be someone that has already done this somehow</p>\n"},{"tags":["java","spring","http","spring-mvc","video-streaming"],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1423764971,"post_id":28479001,"comment_id":45291526,"body_markdown":"I cannot find jat with following class: **lan.dk.podcastserver.utils.MimeTypeUtils**","body":"I cannot find jat with following class: <b>lan.dk.podcastserver.utils.MimeTypeUtils</b>"},{"owner":{"account_id":5424004,"reputation":7245,"user_id":4316870,"display_name":"Leandro Carracedo"},"score":0,"creation_date":1423765272,"post_id":28479001,"comment_id":45291686,"body_markdown":"Removed that import and changed to have the mimetype fixed to &quot;video/mp4&quot;, but the entire project is posted at github: https://github.com/davinkevin/Podcast-Server","body":"Removed that import and changed to have the mimetype fixed to &quot;video/mp4&quot;, but the entire project is posted at github: <a href=\"https://github.com/davinkevin/Podcast-Server\" rel=\"nofollow noreferrer\">github.com/davinkevin/Podcast-Server</a>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":3,"creation_date":1423774168,"post_id":28479001,"comment_id":45296673,"body_markdown":"Now it is SO style. question - answer wihout redundant context. I am sure it will be useful for future googlers.","body":"Now it is SO style. question - answer wihout redundant context. I am sure it will be useful for future googlers."},{"owner":{"account_id":962425,"reputation":1531,"user_id":986485,"accept_rate":14,"display_name":"Radu Toader"},"score":0,"creation_date":1438870469,"post_id":28479001,"comment_id":51635648,"body_markdown":"Is there any way to change the default implementation of the Static resource resolver of spring(older version than 4.2RC1), with a controller that can support http range, for download resume ?","body":"Is there any way to change the default implementation of the Static resource resolver of spring(older version than 4.2RC1), with a controller that can support http range, for download resume ?"},{"owner":{"account_id":66442,"reputation":798,"user_id":194900,"accept_rate":40,"display_name":"bgraves"},"score":0,"creation_date":1453893166,"post_id":28479001,"comment_id":57795988,"body_markdown":"There is a new task https://jira.spring.io/browse/SPR-13834 - please vote for it...","body":"There is a new task <a href=\"https://jira.spring.io/browse/SPR-13834\" rel=\"nofollow noreferrer\">jira.spring.io/browse/SPR-13834</a> - please vote for it..."},{"owner":{"account_id":2407283,"reputation":2568,"user_id":2103383,"accept_rate":93,"display_name":"RutledgePaulV"},"score":3,"creation_date":1482996499,"post_id":28479001,"comment_id":69951672,"body_markdown":"This has a bug in the multipart branch. Skipping the stream by the full amount every time won&#39;t read the expected bytes unless the stream is marked / reset for each read. The better alternative is (of course) to adjust the offset according to the last read position.","body":"This has a bug in the multipart branch. Skipping the stream by the full amount every time won&#39;t read the expected bytes unless the stream is marked / reset for each read. The better alternative is (of course) to adjust the offset according to the last read position."},{"owner":{"account_id":1635690,"reputation":150157,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1494236293,"post_id":28479001,"comment_id":74724463,"body_markdown":"`if (!range.matches(&quot;^bytes=\\\\d*-\\\\d*(,\\\\d*-\\\\d*)*$&quot;)) {` should use `if (!range.matches(&quot;^bytes=((\\\\d+-\\\\d*|-[1-9]\\\\d*),\\\\s*)*(\\\\d+-\\\\d*|-[1-9]\\\\d*)$){` so it can handle ranges like: `0-0,1-,-1` (`0-0` is first byte only, `1-` is 2nd byte through to last byte and `-1` is last byte only). It may (probably should) also return `SC_REQUESTED_RANGE_NOT_SATISFIABLE` if the byte ranges overlap otherwise you will get denial-of-service attacks requesting byte ranges like `0-,0-,0-,0-,0-,0-,0-,0-,0-,0-` when the same byte range is requested multiple times for a large file.","body":"<code>if (!range.matches(&quot;^bytes=\\\\d*-\\\\d*(,\\\\d*-\\\\d*)*$&quot;)) {</code> should use <code>if (!range.matches(&quot;^bytes=((\\\\d+-\\\\d*|-[1-9]\\\\d*),\\\\s*)*(\\\\d+-&zwnj;&#8203;\\\\d*|-[1-9]\\\\d*)$){</code> so it can handle ranges like: <code>0-0,1-,-1</code> (<code>0-0</code> is first byte only, <code>1-</code> is 2nd byte through to last byte and <code>-1</code> is last byte only). It may (probably should) also return <code>SC_REQUESTED_RANGE_NOT_SATISFIABLE</code> if the byte ranges overlap otherwise you will get denial-of-service attacks requesting byte ranges like <code>0-,0-,0-,0-,0-,0-,0-,0-,0-,0-</code> when the same byte range is requested multiple times for a large file."},{"owner":{"account_id":66442,"reputation":798,"user_id":194900,"accept_rate":40,"display_name":"bgraves"},"score":0,"creation_date":1503300250,"post_id":28479001,"comment_id":78540495,"body_markdown":"A simple solution for handling non-static resources: https://stackoverflow.com/a/45785915/194900","body":"A simple solution for handling non-static resources: <a href=\"https://stackoverflow.com/a/45785915/194900\">stackoverflow.com/a/45785915/194900</a>"},{"owner":{"account_id":11911046,"reputation":2034,"user_id":8716287,"accept_rate":62,"display_name":"valik"},"score":0,"creation_date":1541369843,"post_id":28479001,"comment_id":93183339,"body_markdown":"@LeandroCarracedo can this be used say we want to upload a video but we want it to upload only 1 minute of the video and not the whole video ?","body":"@LeandroCarracedo can this be used say we want to upload a video but we want it to upload only 1 minute of the video and not the whole video ?"},{"owner":{"account_id":6739404,"reputation":339,"user_id":5193079,"accept_rate":90,"display_name":"Ejaz Ahmed"},"score":0,"creation_date":1568891079,"post_id":28479001,"comment_id":102423310,"body_markdown":"@LeandroCarracedo the solution you provided works fine for client which only does range requests. I am facing issues in implementing it for pdf viewer.html. I am able to initiate range request from client side that is the viewer does normal request for first time and based on response headers it cancels the on going request and starts range request. I am able accomplish till here but the client is requesting only 1 range request(1st range) its not requesting for all other ranges. Help would be highly appreciated.","body":"@LeandroCarracedo the solution you provided works fine for client which only does range requests. I am facing issues in implementing it for pdf viewer.html. I am able to initiate range request from client side that is the viewer does normal request for first time and based on response headers it cancels the on going request and starts range request. I am able accomplish till here but the client is requesting only 1 range request(1st range) its not requesting for all other ranges. Help would be highly appreciated."}],"tags":[],"owner":{"account_id":5424004,"reputation":7245,"user_id":4316870,"display_name":"Leandro Carracedo"},"comment_count":10,"down_vote_count":1,"up_vote_count":83,"is_accepted":true,"score":82,"last_activity_date":1432947008,"creation_date":1423748572,"answer_id":28479001,"question_id":28427339,"body_markdown":"The request for support for http byte-range was open at the time of this answer but is fixed in Spring 4.2.RC1. Check jira [SPR-10805][1] or, the PR [here][2].\r\n\r\nBut based on the code that you linked in your question, Davin Kevin built a [solution][2] that could work for your request.\r\n\r\nCode for MultipartFileSender:\r\n\r\n    import org.apache.commons.lang3.StringUtils;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import javax.servlet.ServletOutputStream;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.*;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.attribute.FileTime;\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZoneOffset;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    /**\r\n     * Created by kevin on 10/02/15.\r\n     * See full code here : https://github.com/davinkevin/Podcast-Server/blob/d927d9b8cb9ea1268af74316cd20b7192ca92da7/src/main/java/lan/dk/podcastserver/utils/multipart/MultipartFileSender.java\r\n     */\r\n    public class MultipartFileSender {\r\n    \r\n        protected final Logger logger = LoggerFactory.getLogger(this.getClass());\r\n        \r\n        private static final int DEFAULT_BUFFER_SIZE = 20480; // ..bytes = 20KB.\r\n        private static final long DEFAULT_EXPIRE_TIME = 604800000L; // ..ms = 1 week.\r\n        private static final String MULTIPART_BOUNDARY = &quot;MULTIPART_BYTERANGES&quot;;\r\n        \r\n        Path filepath;\r\n        HttpServletRequest request;\r\n        HttpServletResponse response;\r\n        \r\n        public MultipartFileSender() {\r\n        }\r\n    \r\n        public static MultipartFileSender fromPath(Path path) {\r\n            return new MultipartFileSender().setFilepath(path);\r\n        }\r\n        \r\n        public static MultipartFileSender fromFile(File file) {\r\n            return new MultipartFileSender().setFilepath(file.toPath());\r\n        }\r\n    \r\n        public static MultipartFileSender fromURIString(String uri) {\r\n            return new MultipartFileSender().setFilepath(Paths.get(uri));\r\n        }\r\n    \r\n        //** internal setter **//\r\n        private MultipartFileSender setFilepath(Path filepath) {\r\n            this.filepath = filepath;\r\n            return this;\r\n        }\r\n        \r\n        public MultipartFileSender with(HttpServletRequest httpRequest) {\r\n            request = httpRequest;\r\n            return this;\r\n        }\r\n        \r\n        public MultipartFileSender with(HttpServletResponse httpResponse) {\r\n            response = httpResponse;\r\n            return this;\r\n        }\r\n        \r\n        public void serveResource() throws Exception {\r\n            if (response == null || request == null) {\r\n                return;\r\n            }\r\n    \r\n            if (!Files.exists(filepath)) {\r\n                logger.error(&quot;File doesn&#39;t exist at URI : {}&quot;, filepath.toAbsolutePath().toString());\r\n                response.sendError(HttpServletResponse.SC_NOT_FOUND);\r\n                return;\r\n            }\r\n    \r\n            Long length = Files.size(filepath);\r\n            String fileName = filepath.getFileName().toString();\r\n            FileTime lastModifiedObj = Files.getLastModifiedTime(filepath);\r\n    \r\n            if (StringUtils.isEmpty(fileName) || lastModifiedObj == null) {\r\n                response.sendError(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\r\n                return;\r\n            }\r\n            long lastModified = LocalDateTime.ofInstant(lastModifiedObj.toInstant(), ZoneId.of(ZoneOffset.systemDefault().getId())).toEpochSecond(ZoneOffset.UTC);\r\n            String contentType = &quot;video/mp4&quot;;\r\n    \r\n            // Validate request headers for caching ---------------------------------------------------\r\n    \r\n            // If-None-Match header should contain &quot;*&quot; or ETag. If so, then return 304.\r\n            String ifNoneMatch = request.getHeader(&quot;If-None-Match&quot;);\r\n            if (ifNoneMatch != null &amp;&amp; HttpUtils.matches(ifNoneMatch, fileName)) {\r\n                response.setHeader(&quot;ETag&quot;, fileName); // Required in 304.\r\n                response.sendError(HttpServletResponse.SC_NOT_MODIFIED);\r\n                return;\r\n            }\r\n    \r\n            // If-Modified-Since header should be greater than LastModified. If so, then return 304.\r\n            // This header is ignored if any If-None-Match header is specified.\r\n            long ifModifiedSince = request.getDateHeader(&quot;If-Modified-Since&quot;);\r\n            if (ifNoneMatch == null &amp;&amp; ifModifiedSince != -1 &amp;&amp; ifModifiedSince + 1000 &gt; lastModified) {\r\n                response.setHeader(&quot;ETag&quot;, fileName); // Required in 304.\r\n                response.sendError(HttpServletResponse.SC_NOT_MODIFIED);\r\n                return;\r\n            }\r\n    \r\n            // Validate request headers for resume ----------------------------------------------------\r\n    \r\n            // If-Match header should contain &quot;*&quot; or ETag. If not, then return 412.\r\n            String ifMatch = request.getHeader(&quot;If-Match&quot;);\r\n            if (ifMatch != null &amp;&amp; !HttpUtils.matches(ifMatch, fileName)) {\r\n                response.sendError(HttpServletResponse.SC_PRECONDITION_FAILED);\r\n                return;\r\n            }\r\n    \r\n            // If-Unmodified-Since header should be greater than LastModified. If not, then return 412.\r\n            long ifUnmodifiedSince = request.getDateHeader(&quot;If-Unmodified-Since&quot;);\r\n            if (ifUnmodifiedSince != -1 &amp;&amp; ifUnmodifiedSince + 1000 &lt;= lastModified) {\r\n                response.sendError(HttpServletResponse.SC_PRECONDITION_FAILED);\r\n                return;\r\n            }\r\n    \r\n            // Validate and process range -------------------------------------------------------------\r\n    \r\n            // Prepare some variables. The full Range represents the complete file.\r\n            Range full = new Range(0, length - 1, length);\r\n            List&lt;Range&gt; ranges = new ArrayList&lt;&gt;();\r\n    \r\n            // Validate and process Range and If-Range headers.\r\n            String range = request.getHeader(&quot;Range&quot;);\r\n            if (range != null) {\r\n    \r\n                // Range header should match format &quot;bytes=n-n,n-n,n-n...&quot;. If not, then return 416.\r\n                if (!range.matches(&quot;^bytes=\\\\d*-\\\\d*(,\\\\d*-\\\\d*)*$&quot;)) {\r\n                    response.setHeader(&quot;Content-Range&quot;, &quot;bytes */&quot; + length); // Required in 416.\r\n                    response.sendError(HttpServletResponse.SC_REQUESTED_RANGE_NOT_SATISFIABLE);\r\n                    return;\r\n                }\r\n    \r\n                String ifRange = request.getHeader(&quot;If-Range&quot;);\r\n                if (ifRange != null &amp;&amp; !ifRange.equals(fileName)) {\r\n                    try {\r\n                        long ifRangeTime = request.getDateHeader(&quot;If-Range&quot;); // Throws IAE if invalid.\r\n                        if (ifRangeTime != -1) {\r\n                            ranges.add(full);\r\n                        }\r\n                    } catch (IllegalArgumentException ignore) {\r\n                        ranges.add(full);\r\n                    }\r\n                }\r\n    \r\n                // If any valid If-Range header, then process each part of byte range.\r\n                if (ranges.isEmpty()) {\r\n                    for (String part : range.substring(6).split(&quot;,&quot;)) {\r\n                        // Assuming a file with length of 100, the following examples returns bytes at:\r\n                        // 50-80 (50 to 80), 40- (40 to length=100), -20 (length-20=80 to length=100).\r\n                        long start = Range.sublong(part, 0, part.indexOf(&quot;-&quot;));\r\n                        long end = Range.sublong(part, part.indexOf(&quot;-&quot;) + 1, part.length());\r\n    \r\n                        if (start == -1) {\r\n                            start = length - end;\r\n                            end = length - 1;\r\n                        } else if (end == -1 || end &gt; length - 1) {\r\n                            end = length - 1;\r\n                        }\r\n    \r\n                        // Check if Range is syntactically valid. If not, then return 416.\r\n                        if (start &gt; end) {\r\n                            response.setHeader(&quot;Content-Range&quot;, &quot;bytes */&quot; + length); // Required in 416.\r\n                            response.sendError(HttpServletResponse.SC_REQUESTED_RANGE_NOT_SATISFIABLE);\r\n                            return;\r\n                        }\r\n    \r\n                        // Add range.                    \r\n                        ranges.add(new Range(start, end, length));\r\n                    }\r\n                }\r\n            }\r\n    \r\n            // Prepare and initialize response --------------------------------------------------------\r\n    \r\n            // Get content type by file name and set content disposition.\r\n            String disposition = &quot;inline&quot;;\r\n    \r\n            // If content type is unknown, then set the default value.\r\n            // For all content types, see: http://www.w3schools.com/media/media_mimeref.asp\r\n            // To add new content types, add new mime-mapping entry in web.xml.\r\n            if (contentType == null) {\r\n                contentType = &quot;application/octet-stream&quot;;\r\n            } else if (!contentType.startsWith(&quot;image&quot;)) {\r\n                // Else, expect for images, determine content disposition. If content type is supported by\r\n                // the browser, then set to inline, else attachment which will pop a &#39;save as&#39; dialogue.\r\n                String accept = request.getHeader(&quot;Accept&quot;);\r\n                disposition = accept != null &amp;&amp; HttpUtils.accepts(accept, contentType) ? &quot;inline&quot; : &quot;attachment&quot;;\r\n            }\r\n            logger.debug(&quot;Content-Type : {}&quot;, contentType);\r\n            // Initialize response.\r\n            response.reset();\r\n            response.setBufferSize(DEFAULT_BUFFER_SIZE);\r\n            response.setHeader(&quot;Content-Type&quot;, contentType);\r\n            response.setHeader(&quot;Content-Disposition&quot;, disposition + &quot;;filename=\\&quot;&quot; + fileName + &quot;\\&quot;&quot;);\r\n            logger.debug(&quot;Content-Disposition : {}&quot;, disposition);\r\n            response.setHeader(&quot;Accept-Ranges&quot;, &quot;bytes&quot;);\r\n            response.setHeader(&quot;ETag&quot;, fileName);\r\n            response.setDateHeader(&quot;Last-Modified&quot;, lastModified);\r\n            response.setDateHeader(&quot;Expires&quot;, System.currentTimeMillis() + DEFAULT_EXPIRE_TIME);\r\n    \r\n            // Send requested file (part(s)) to client ------------------------------------------------\r\n    \r\n            // Prepare streams.\r\n            try (InputStream input = new BufferedInputStream(Files.newInputStream(filepath));\r\n                 OutputStream output = response.getOutputStream()) {\r\n    \r\n                if (ranges.isEmpty() || ranges.get(0) == full) {\r\n    \r\n                    // Return full file.\r\n                    logger.info(&quot;Return full file&quot;);\r\n                    response.setContentType(contentType);\r\n                    response.setHeader(&quot;Content-Range&quot;, &quot;bytes &quot; + full.start + &quot;-&quot; + full.end + &quot;/&quot; + full.total);\r\n                    response.setHeader(&quot;Content-Length&quot;, String.valueOf(full.length));\r\n                    Range.copy(input, output, length, full.start, full.length);\r\n    \r\n                } else if (ranges.size() == 1) {\r\n    \r\n                    // Return single part of file.\r\n                    Range r = ranges.get(0);\r\n                    logger.info(&quot;Return 1 part of file : from ({}) to ({})&quot;, r.start, r.end);\r\n                    response.setContentType(contentType);\r\n                    response.setHeader(&quot;Content-Range&quot;, &quot;bytes &quot; + r.start + &quot;-&quot; + r.end + &quot;/&quot; + r.total);\r\n                    response.setHeader(&quot;Content-Length&quot;, String.valueOf(r.length));\r\n                    response.setStatus(HttpServletResponse.SC_PARTIAL_CONTENT); // 206.\r\n    \r\n                    // Copy single part range.\r\n                    Range.copy(input, output, length, r.start, r.length);\r\n    \r\n                } else {\r\n    \r\n                    // Return multiple parts of file.\r\n                    response.setContentType(&quot;multipart/byteranges; boundary=&quot; + MULTIPART_BOUNDARY);\r\n                    response.setStatus(HttpServletResponse.SC_PARTIAL_CONTENT); // 206.\r\n    \r\n                    // Cast back to ServletOutputStream to get the easy println methods.\r\n                    ServletOutputStream sos = (ServletOutputStream) output;\r\n    \r\n                    // Copy multi part range.\r\n                    for (Range r : ranges) {\r\n                        logger.info(&quot;Return multi part of file : from ({}) to ({})&quot;, r.start, r.end);\r\n                        // Add multipart boundary and header fields for every range.\r\n                        sos.println();\r\n                        sos.println(&quot;--&quot; + MULTIPART_BOUNDARY);\r\n                        sos.println(&quot;Content-Type: &quot; + contentType);\r\n                        sos.println(&quot;Content-Range: bytes &quot; + r.start + &quot;-&quot; + r.end + &quot;/&quot; + r.total);\r\n    \r\n                        // Copy single part range of multi part range.\r\n                        Range.copy(input, output, length, r.start, r.length);\r\n                    }\r\n    \r\n                    // End with multipart boundary.\r\n                    sos.println();\r\n                    sos.println(&quot;--&quot; + MULTIPART_BOUNDARY + &quot;--&quot;);\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n        private static class Range {\r\n            long start;\r\n            long end;\r\n            long length;\r\n            long total;\r\n    \r\n            /**\r\n             * Construct a byte range.\r\n             * @param start Start of the byte range.\r\n             * @param end End of the byte range.\r\n             * @param total Total length of the byte source.\r\n             */\r\n            public Range(long start, long end, long total) {\r\n                this.start = start;\r\n                this.end = end;\r\n                this.length = end - start + 1;\r\n                this.total = total;\r\n            }\r\n    \r\n            public static long sublong(String value, int beginIndex, int endIndex) {\r\n                String substring = value.substring(beginIndex, endIndex);\r\n                return (substring.length() &gt; 0) ? Long.parseLong(substring) : -1;\r\n            }\r\n    \r\n            private static void copy(InputStream input, OutputStream output, long inputSize, long start, long length) throws IOException {\r\n                byte[] buffer = new byte[DEFAULT_BUFFER_SIZE];\r\n                int read;\r\n    \r\n                if (inputSize == length) {\r\n                    // Write full range.\r\n                    while ((read = input.read(buffer)) &gt; 0) {\r\n                        output.write(buffer, 0, read);\r\n                        output.flush();\r\n                    }\r\n                } else {\r\n                    input.skip(start);\r\n                    long toRead = length;\r\n    \r\n                    while ((read = input.read(buffer)) &gt; 0) {\r\n                        if ((toRead -= read) &gt; 0) {\r\n                            output.write(buffer, 0, read);\r\n                            output.flush();\r\n                        } else {\r\n                            output.write(buffer, 0, (int) toRead + read);\r\n                            output.flush();\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        private static class HttpUtils {\r\n    \r\n            /**\r\n             * Returns true if the given accept header accepts the given value.\r\n             * @param acceptHeader The accept header.\r\n             * @param toAccept The value to be accepted.\r\n             * @return True if the given accept header accepts the given value.\r\n             */\r\n            public static boolean accepts(String acceptHeader, String toAccept) {\r\n                String[] acceptValues = acceptHeader.split(&quot;\\\\s*(,|;)\\\\s*&quot;);\r\n                Arrays.sort(acceptValues);\r\n    \r\n                return Arrays.binarySearch(acceptValues, toAccept) &gt; -1\r\n                        || Arrays.binarySearch(acceptValues, toAccept.replaceAll(&quot;/.*$&quot;, &quot;/*&quot;)) &gt; -1\r\n                        || Arrays.binarySearch(acceptValues, &quot;*/*&quot;) &gt; -1;\r\n            }\r\n    \r\n            /**\r\n             * Returns true if the given match header matches the given value.\r\n             * @param matchHeader The match header.\r\n             * @param toMatch The value to be matched.\r\n             * @return True if the given match header matches the given value.\r\n             */\r\n            public static boolean matches(String matchHeader, String toMatch) {\r\n                String[] matchValues = matchHeader.split(&quot;\\\\s*,\\\\s*&quot;);\r\n                Arrays.sort(matchValues);\r\n                return Arrays.binarySearch(matchValues, toMatch) &gt; -1\r\n                        || Arrays.binarySearch(matchValues, &quot;*&quot;) &gt; -1;\r\n            }\r\n        }\r\n    }\r\n\r\nUse in Controller:\r\n\r\n    MultipartFileSender.fromPath(pathtofile)\r\n                    .with(httprequest)\r\n                    .with(httpresponse)\r\n                    .serveResource();\r\n\r\n  [1]: https://jira.spring.io/browse/SPR-10805\r\n  [2]: https://gist.github.com/davinkevin/b97e39d7ce89198774b4","title":"How to Implement HTTP byte-range requests in Spring MVC","body":"<p>The request for support for http byte-range was open at the time of this answer but is fixed in Spring 4.2.RC1. Check jira <a href=\"https://jira.spring.io/browse/SPR-10805\" rel=\"noreferrer\">SPR-10805</a> or, the PR <a href=\"https://gist.github.com/davinkevin/b97e39d7ce89198774b4\" rel=\"noreferrer\">here</a>.</p>\n\n<p>But based on the code that you linked in your question, Davin Kevin built a <a href=\"https://gist.github.com/davinkevin/b97e39d7ce89198774b4\" rel=\"noreferrer\">solution</a> that could work for your request.</p>\n\n<p>Code for MultipartFileSender:</p>\n\n<pre><code>import org.apache.commons.lang3.StringUtils;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport javax.servlet.ServletOutputStream;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.*;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.attribute.FileTime;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\n/**\n * Created by kevin on 10/02/15.\n * See full code here : https://github.com/davinkevin/Podcast-Server/blob/d927d9b8cb9ea1268af74316cd20b7192ca92da7/src/main/java/lan/dk/podcastserver/utils/multipart/MultipartFileSender.java\n */\npublic class MultipartFileSender {\n\n    protected final Logger logger = LoggerFactory.getLogger(this.getClass());\n\n    private static final int DEFAULT_BUFFER_SIZE = 20480; // ..bytes = 20KB.\n    private static final long DEFAULT_EXPIRE_TIME = 604800000L; // ..ms = 1 week.\n    private static final String MULTIPART_BOUNDARY = \"MULTIPART_BYTERANGES\";\n\n    Path filepath;\n    HttpServletRequest request;\n    HttpServletResponse response;\n\n    public MultipartFileSender() {\n    }\n\n    public static MultipartFileSender fromPath(Path path) {\n        return new MultipartFileSender().setFilepath(path);\n    }\n\n    public static MultipartFileSender fromFile(File file) {\n        return new MultipartFileSender().setFilepath(file.toPath());\n    }\n\n    public static MultipartFileSender fromURIString(String uri) {\n        return new MultipartFileSender().setFilepath(Paths.get(uri));\n    }\n\n    //** internal setter **//\n    private MultipartFileSender setFilepath(Path filepath) {\n        this.filepath = filepath;\n        return this;\n    }\n\n    public MultipartFileSender with(HttpServletRequest httpRequest) {\n        request = httpRequest;\n        return this;\n    }\n\n    public MultipartFileSender with(HttpServletResponse httpResponse) {\n        response = httpResponse;\n        return this;\n    }\n\n    public void serveResource() throws Exception {\n        if (response == null || request == null) {\n            return;\n        }\n\n        if (!Files.exists(filepath)) {\n            logger.error(\"File doesn't exist at URI : {}\", filepath.toAbsolutePath().toString());\n            response.sendError(HttpServletResponse.SC_NOT_FOUND);\n            return;\n        }\n\n        Long length = Files.size(filepath);\n        String fileName = filepath.getFileName().toString();\n        FileTime lastModifiedObj = Files.getLastModifiedTime(filepath);\n\n        if (StringUtils.isEmpty(fileName) || lastModifiedObj == null) {\n            response.sendError(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\n            return;\n        }\n        long lastModified = LocalDateTime.ofInstant(lastModifiedObj.toInstant(), ZoneId.of(ZoneOffset.systemDefault().getId())).toEpochSecond(ZoneOffset.UTC);\n        String contentType = \"video/mp4\";\n\n        // Validate request headers for caching ---------------------------------------------------\n\n        // If-None-Match header should contain \"*\" or ETag. If so, then return 304.\n        String ifNoneMatch = request.getHeader(\"If-None-Match\");\n        if (ifNoneMatch != null &amp;&amp; HttpUtils.matches(ifNoneMatch, fileName)) {\n            response.setHeader(\"ETag\", fileName); // Required in 304.\n            response.sendError(HttpServletResponse.SC_NOT_MODIFIED);\n            return;\n        }\n\n        // If-Modified-Since header should be greater than LastModified. If so, then return 304.\n        // This header is ignored if any If-None-Match header is specified.\n        long ifModifiedSince = request.getDateHeader(\"If-Modified-Since\");\n        if (ifNoneMatch == null &amp;&amp; ifModifiedSince != -1 &amp;&amp; ifModifiedSince + 1000 &gt; lastModified) {\n            response.setHeader(\"ETag\", fileName); // Required in 304.\n            response.sendError(HttpServletResponse.SC_NOT_MODIFIED);\n            return;\n        }\n\n        // Validate request headers for resume ----------------------------------------------------\n\n        // If-Match header should contain \"*\" or ETag. If not, then return 412.\n        String ifMatch = request.getHeader(\"If-Match\");\n        if (ifMatch != null &amp;&amp; !HttpUtils.matches(ifMatch, fileName)) {\n            response.sendError(HttpServletResponse.SC_PRECONDITION_FAILED);\n            return;\n        }\n\n        // If-Unmodified-Since header should be greater than LastModified. If not, then return 412.\n        long ifUnmodifiedSince = request.getDateHeader(\"If-Unmodified-Since\");\n        if (ifUnmodifiedSince != -1 &amp;&amp; ifUnmodifiedSince + 1000 &lt;= lastModified) {\n            response.sendError(HttpServletResponse.SC_PRECONDITION_FAILED);\n            return;\n        }\n\n        // Validate and process range -------------------------------------------------------------\n\n        // Prepare some variables. The full Range represents the complete file.\n        Range full = new Range(0, length - 1, length);\n        List&lt;Range&gt; ranges = new ArrayList&lt;&gt;();\n\n        // Validate and process Range and If-Range headers.\n        String range = request.getHeader(\"Range\");\n        if (range != null) {\n\n            // Range header should match format \"bytes=n-n,n-n,n-n...\". If not, then return 416.\n            if (!range.matches(\"^bytes=\\\\d*-\\\\d*(,\\\\d*-\\\\d*)*$\")) {\n                response.setHeader(\"Content-Range\", \"bytes */\" + length); // Required in 416.\n                response.sendError(HttpServletResponse.SC_REQUESTED_RANGE_NOT_SATISFIABLE);\n                return;\n            }\n\n            String ifRange = request.getHeader(\"If-Range\");\n            if (ifRange != null &amp;&amp; !ifRange.equals(fileName)) {\n                try {\n                    long ifRangeTime = request.getDateHeader(\"If-Range\"); // Throws IAE if invalid.\n                    if (ifRangeTime != -1) {\n                        ranges.add(full);\n                    }\n                } catch (IllegalArgumentException ignore) {\n                    ranges.add(full);\n                }\n            }\n\n            // If any valid If-Range header, then process each part of byte range.\n            if (ranges.isEmpty()) {\n                for (String part : range.substring(6).split(\",\")) {\n                    // Assuming a file with length of 100, the following examples returns bytes at:\n                    // 50-80 (50 to 80), 40- (40 to length=100), -20 (length-20=80 to length=100).\n                    long start = Range.sublong(part, 0, part.indexOf(\"-\"));\n                    long end = Range.sublong(part, part.indexOf(\"-\") + 1, part.length());\n\n                    if (start == -1) {\n                        start = length - end;\n                        end = length - 1;\n                    } else if (end == -1 || end &gt; length - 1) {\n                        end = length - 1;\n                    }\n\n                    // Check if Range is syntactically valid. If not, then return 416.\n                    if (start &gt; end) {\n                        response.setHeader(\"Content-Range\", \"bytes */\" + length); // Required in 416.\n                        response.sendError(HttpServletResponse.SC_REQUESTED_RANGE_NOT_SATISFIABLE);\n                        return;\n                    }\n\n                    // Add range.                    \n                    ranges.add(new Range(start, end, length));\n                }\n            }\n        }\n\n        // Prepare and initialize response --------------------------------------------------------\n\n        // Get content type by file name and set content disposition.\n        String disposition = \"inline\";\n\n        // If content type is unknown, then set the default value.\n        // For all content types, see: http://www.w3schools.com/media/media_mimeref.asp\n        // To add new content types, add new mime-mapping entry in web.xml.\n        if (contentType == null) {\n            contentType = \"application/octet-stream\";\n        } else if (!contentType.startsWith(\"image\")) {\n            // Else, expect for images, determine content disposition. If content type is supported by\n            // the browser, then set to inline, else attachment which will pop a 'save as' dialogue.\n            String accept = request.getHeader(\"Accept\");\n            disposition = accept != null &amp;&amp; HttpUtils.accepts(accept, contentType) ? \"inline\" : \"attachment\";\n        }\n        logger.debug(\"Content-Type : {}\", contentType);\n        // Initialize response.\n        response.reset();\n        response.setBufferSize(DEFAULT_BUFFER_SIZE);\n        response.setHeader(\"Content-Type\", contentType);\n        response.setHeader(\"Content-Disposition\", disposition + \";filename=\\\"\" + fileName + \"\\\"\");\n        logger.debug(\"Content-Disposition : {}\", disposition);\n        response.setHeader(\"Accept-Ranges\", \"bytes\");\n        response.setHeader(\"ETag\", fileName);\n        response.setDateHeader(\"Last-Modified\", lastModified);\n        response.setDateHeader(\"Expires\", System.currentTimeMillis() + DEFAULT_EXPIRE_TIME);\n\n        // Send requested file (part(s)) to client ------------------------------------------------\n\n        // Prepare streams.\n        try (InputStream input = new BufferedInputStream(Files.newInputStream(filepath));\n             OutputStream output = response.getOutputStream()) {\n\n            if (ranges.isEmpty() || ranges.get(0) == full) {\n\n                // Return full file.\n                logger.info(\"Return full file\");\n                response.setContentType(contentType);\n                response.setHeader(\"Content-Range\", \"bytes \" + full.start + \"-\" + full.end + \"/\" + full.total);\n                response.setHeader(\"Content-Length\", String.valueOf(full.length));\n                Range.copy(input, output, length, full.start, full.length);\n\n            } else if (ranges.size() == 1) {\n\n                // Return single part of file.\n                Range r = ranges.get(0);\n                logger.info(\"Return 1 part of file : from ({}) to ({})\", r.start, r.end);\n                response.setContentType(contentType);\n                response.setHeader(\"Content-Range\", \"bytes \" + r.start + \"-\" + r.end + \"/\" + r.total);\n                response.setHeader(\"Content-Length\", String.valueOf(r.length));\n                response.setStatus(HttpServletResponse.SC_PARTIAL_CONTENT); // 206.\n\n                // Copy single part range.\n                Range.copy(input, output, length, r.start, r.length);\n\n            } else {\n\n                // Return multiple parts of file.\n                response.setContentType(\"multipart/byteranges; boundary=\" + MULTIPART_BOUNDARY);\n                response.setStatus(HttpServletResponse.SC_PARTIAL_CONTENT); // 206.\n\n                // Cast back to ServletOutputStream to get the easy println methods.\n                ServletOutputStream sos = (ServletOutputStream) output;\n\n                // Copy multi part range.\n                for (Range r : ranges) {\n                    logger.info(\"Return multi part of file : from ({}) to ({})\", r.start, r.end);\n                    // Add multipart boundary and header fields for every range.\n                    sos.println();\n                    sos.println(\"--\" + MULTIPART_BOUNDARY);\n                    sos.println(\"Content-Type: \" + contentType);\n                    sos.println(\"Content-Range: bytes \" + r.start + \"-\" + r.end + \"/\" + r.total);\n\n                    // Copy single part range of multi part range.\n                    Range.copy(input, output, length, r.start, r.length);\n                }\n\n                // End with multipart boundary.\n                sos.println();\n                sos.println(\"--\" + MULTIPART_BOUNDARY + \"--\");\n            }\n        }\n\n    }\n\n    private static class Range {\n        long start;\n        long end;\n        long length;\n        long total;\n\n        /**\n         * Construct a byte range.\n         * @param start Start of the byte range.\n         * @param end End of the byte range.\n         * @param total Total length of the byte source.\n         */\n        public Range(long start, long end, long total) {\n            this.start = start;\n            this.end = end;\n            this.length = end - start + 1;\n            this.total = total;\n        }\n\n        public static long sublong(String value, int beginIndex, int endIndex) {\n            String substring = value.substring(beginIndex, endIndex);\n            return (substring.length() &gt; 0) ? Long.parseLong(substring) : -1;\n        }\n\n        private static void copy(InputStream input, OutputStream output, long inputSize, long start, long length) throws IOException {\n            byte[] buffer = new byte[DEFAULT_BUFFER_SIZE];\n            int read;\n\n            if (inputSize == length) {\n                // Write full range.\n                while ((read = input.read(buffer)) &gt; 0) {\n                    output.write(buffer, 0, read);\n                    output.flush();\n                }\n            } else {\n                input.skip(start);\n                long toRead = length;\n\n                while ((read = input.read(buffer)) &gt; 0) {\n                    if ((toRead -= read) &gt; 0) {\n                        output.write(buffer, 0, read);\n                        output.flush();\n                    } else {\n                        output.write(buffer, 0, (int) toRead + read);\n                        output.flush();\n                        break;\n                    }\n                }\n            }\n        }\n    }\n    private static class HttpUtils {\n\n        /**\n         * Returns true if the given accept header accepts the given value.\n         * @param acceptHeader The accept header.\n         * @param toAccept The value to be accepted.\n         * @return True if the given accept header accepts the given value.\n         */\n        public static boolean accepts(String acceptHeader, String toAccept) {\n            String[] acceptValues = acceptHeader.split(\"\\\\s*(,|;)\\\\s*\");\n            Arrays.sort(acceptValues);\n\n            return Arrays.binarySearch(acceptValues, toAccept) &gt; -1\n                    || Arrays.binarySearch(acceptValues, toAccept.replaceAll(\"/.*$\", \"/*\")) &gt; -1\n                    || Arrays.binarySearch(acceptValues, \"*/*\") &gt; -1;\n        }\n\n        /**\n         * Returns true if the given match header matches the given value.\n         * @param matchHeader The match header.\n         * @param toMatch The value to be matched.\n         * @return True if the given match header matches the given value.\n         */\n        public static boolean matches(String matchHeader, String toMatch) {\n            String[] matchValues = matchHeader.split(\"\\\\s*,\\\\s*\");\n            Arrays.sort(matchValues);\n            return Arrays.binarySearch(matchValues, toMatch) &gt; -1\n                    || Arrays.binarySearch(matchValues, \"*\") &gt; -1;\n        }\n    }\n}\n</code></pre>\n\n<p>Use in Controller:</p>\n\n<pre><code>MultipartFileSender.fromPath(pathtofile)\n                .with(httprequest)\n                .with(httpresponse)\n                .serveResource();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":238135,"reputation":3952,"user_id":506813,"display_name":"bekce"},"score":2,"creation_date":1457333751,"post_id":28542439,"comment_id":59341875,"body_markdown":"Never convert `InputStream` to `byte[]` in this context. You&#39;ll have serious memory issues.","body":"Never convert <code>InputStream</code> to <code>byte[]</code> in this context. You&#39;ll have serious memory issues."},{"owner":{"account_id":5120170,"reputation":521,"user_id":4104015,"display_name":"Kevin Davin"},"score":1,"creation_date":1468386985,"post_id":28542439,"comment_id":64099995,"body_markdown":"Won&#39;t support http-byte-range","body":"Won&#39;t support http-byte-range"}],"tags":[],"owner":{"account_id":1434521,"reputation":290,"user_id":1356208,"display_name":"Uttesh Kumar"},"comment_count":2,"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1424114145,"creation_date":1424093057,"answer_id":28542439,"question_id":28427339,"body_markdown":"Try this simple code .\r\n\r\n    @GET\r\n    @Produces({&quot;application/octet-stream&quot;})\r\n    public Response getFile() {\r\n      File file = ... \r\n      return Response.ok(file, MediaType.APPLICATION_OCTET_STREAM)\r\n          .header(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + file.getName() + &quot;\\&quot;&quot; ) .build();\r\n    }\r\n\r\nUpdate :\r\n\r\nIts wrapping the Spring Jersey jersey.java.net RESTful implementation with spring MVC. \r\n\r\nFor pure Spring mvc use below code.\r\n\r\n    @RequestMapping(&quot;/video&quot;) public ResponseEntity&lt;byte[]&gt; getvideo() throws IOException { \r\n        InputStream in = ... \r\n        final HttpHeaders headers = new HttpHeaders(); \r\n        headers.setContentType(MediaType.APPLICATION_OCTET_STREAM); \r\n        return new ResponseEntity&lt;byte[]&gt;IOUtils.toByteArray(in),headers,HttpStatus.CREATED); \r\n    }\r\n\r\n \r\n\r\nIOUtils is from apache common jar","title":"How to Implement HTTP byte-range requests in Spring MVC","body":"<p>Try this simple code .</p>\n\n<pre><code>@GET\n@Produces({\"application/octet-stream\"})\npublic Response getFile() {\n  File file = ... \n  return Response.ok(file, MediaType.APPLICATION_OCTET_STREAM)\n      .header(\"Content-Disposition\", \"attachment; filename=\\\"\" + file.getName() + \"\\\"\" ) .build();\n}\n</code></pre>\n\n<p>Update :</p>\n\n<p>Its wrapping the Spring Jersey jersey.java.net RESTful implementation with spring MVC. </p>\n\n<p>For pure Spring mvc use below code.</p>\n\n<pre><code>@RequestMapping(\"/video\") public ResponseEntity&lt;byte[]&gt; getvideo() throws IOException { \n    InputStream in = ... \n    final HttpHeaders headers = new HttpHeaders(); \n    headers.setContentType(MediaType.APPLICATION_OCTET_STREAM); \n    return new ResponseEntity&lt;byte[]&gt;IOUtils.toByteArray(in),headers,HttpStatus.CREATED); \n}\n</code></pre>\n\n<p>IOUtils is from apache common jar</p>\n"},{"tags":[],"owner":{"account_id":5118239,"reputation":144,"user_id":4102689,"display_name":"Kevin Davin"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1441991768,"creation_date":1424687967,"answer_id":28671817,"question_id":28427339,"body_markdown":"If you want to avoid `MimeTypeUtils`, you can use `Files.probeContentType(Path path)`. That will use the default implementation of the system.","title":"How to Implement HTTP byte-range requests in Spring MVC","body":"<p>If you want to avoid <code>MimeTypeUtils</code>, you can use <code>Files.probeContentType(Path path)</code>. That will use the default implementation of the system.</p>\n"},{"tags":[],"owner":{"account_id":2350335,"reputation":21,"user_id":2059379,"display_name":"user2059379"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1431104796,"creation_date":1431104796,"answer_id":30129235,"question_id":28427339,"body_markdown":"Depending on what you&#39;re trying to achieve, it may make sense for you to map the request by to the container&#39;s default servlet. \r\n\r\nI.e., during initialization:\r\n\r\n    ServletContext container = ...\r\n\r\n    // Map *.mp4 to the default servlet to support range requests\r\n\r\n    ServletRegistration servletRegistration = container.getServletRegistration(&quot;default&quot;);\r\n    servletRegistration.addMapping(&quot;*.mp4&quot;);","title":"How to Implement HTTP byte-range requests in Spring MVC","body":"<p>Depending on what you're trying to achieve, it may make sense for you to map the request by to the container's default servlet. </p>\n\n<p>I.e., during initialization:</p>\n\n<pre><code>ServletContext container = ...\n\n// Map *.mp4 to the default servlet to support range requests\n\nServletRegistration servletRegistration = container.getServletRegistration(\"default\");\nservletRegistration.addMapping(\"*.mp4\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2519364,"reputation":61,"user_id":2190026,"display_name":"Jamaslab"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1509097988,"creation_date":1509097988,"answer_id":46972276,"question_id":28427339,"body_markdown":"The answer of Leandro worked perfectly for me. I only changed the InputStream with a RandomAccessFile, it is performing better to access a random point inside a file.  \r\n\r\nHere is the class MultipartFileSender\r\n\r\n    import javax.servlet.ServletOutputStream;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.util.StringUtils;\r\n\r\n    import java.io.*;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.attribute.FileTime;\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZoneOffset;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n\r\n    public class MultipartFileSender {\r\n\r\n        protected final Logger logger = LoggerFactory.getLogger(this.getClass());\r\n\r\n        private static final int DEFAULT_BUFFER_SIZE = 20480; // ..bytes = 20KB.\r\n        private static final long DEFAULT_EXPIRE_TIME = 604800000L; // ..ms = 1 week.\r\n        private static final String MULTIPART_BOUNDARY = &quot;MULTIPART_BYTERANGES&quot;;\r\n\r\n        Path filepath;\r\n        HttpServletRequest request;\r\n        HttpServletResponse response;\r\n\r\n        public MultipartFileSender() {\r\n        }\r\n\r\n        public static MultipartFileSender fromPath(Path path) {\r\n            return new MultipartFileSender().setFilepath(path);\r\n        }\r\n\r\n        public static MultipartFileSender fromFile(File file) {\r\n            return new MultipartFileSender().setFilepath(file.toPath());\r\n        }\r\n\r\n        public static MultipartFileSender fromURIString(String uri) {\r\n            return new MultipartFileSender().setFilepath(Paths.get(uri));\r\n        }\r\n\r\n        //** internal setter **//\r\n        private MultipartFileSender setFilepath(Path filepath) {\r\n            this.filepath = filepath;\r\n            return this;\r\n        }\r\n\r\n        public MultipartFileSender with(HttpServletRequest httpRequest) {\r\n            request = httpRequest;\r\n            return this;\r\n        }\r\n\r\n        public MultipartFileSender with(HttpServletResponse httpResponse) {\r\n            response = httpResponse;\r\n            return this;\r\n        }\r\n\r\n        public void serveResource() throws Exception {\r\n            if (response == null || request == null) {\r\n                return;\r\n            }\r\n\r\n            if (!Files.exists(filepath)) {\r\n                logger.error(&quot;File doesn&#39;t exist at URI : {}&quot;, filepath.toAbsolutePath().toString());\r\n                response.sendError(HttpServletResponse.SC_NOT_FOUND);\r\n                return;\r\n            }\r\n\r\n            Long length = Files.size(filepath);\r\n            String fileName = filepath.getFileName().toString();\r\n            FileTime lastModifiedObj = Files.getLastModifiedTime(filepath);\r\n\r\n            if (StringUtils.isEmpty(fileName) || lastModifiedObj == null) {\r\n                response.sendError(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\r\n                return;\r\n            }\r\n        long lastModified = LocalDateTime.ofInstant(lastModifiedObj.toInstant(), ZoneId.of(ZoneOffset.systemDefault().getId())).toEpochSecond(ZoneOffset.UTC);\r\n        String contentType = &quot;video/mp4&quot;;\r\n\r\n        // Validate request headers for caching ---------------------------------------------------\r\n\r\n        // If-None-Match header should contain &quot;*&quot; or ETag. If so, then return 304.\r\n        String ifNoneMatch = request.getHeader(&quot;If-None-Match&quot;);\r\n        if (ifNoneMatch != null &amp;&amp; HttpUtils.matches(ifNoneMatch, fileName)) {\r\n            response.setHeader(&quot;ETag&quot;, fileName); // Required in 304.\r\n            response.sendError(HttpServletResponse.SC_NOT_MODIFIED);\r\n            return;\r\n        }\r\n\r\n        // If-Modified-Since header should be greater than LastModified. If so, then return 304.\r\n        // This header is ignored if any If-None-Match header is specified.\r\n        long ifModifiedSince = request.getDateHeader(&quot;If-Modified-Since&quot;);\r\n        if (ifNoneMatch == null &amp;&amp; ifModifiedSince != -1 &amp;&amp; ifModifiedSince + 1000 &gt; lastModified) {\r\n            response.setHeader(&quot;ETag&quot;, fileName); // Required in 304.\r\n            response.sendError(HttpServletResponse.SC_NOT_MODIFIED);\r\n            return;\r\n        }\r\n\r\n        // Validate request headers for resume ----------------------------------------------------\r\n\r\n        // If-Match header should contain &quot;*&quot; or ETag. If not, then return 412.\r\n        String ifMatch = request.getHeader(&quot;If-Match&quot;);\r\n        if (ifMatch != null &amp;&amp; !HttpUtils.matches(ifMatch, fileName)) {\r\n            response.sendError(HttpServletResponse.SC_PRECONDITION_FAILED);\r\n            return;\r\n        }\r\n\r\n        // If-Unmodified-Since header should be greater than LastModified. If not, then return 412.\r\n        long ifUnmodifiedSince = request.getDateHeader(&quot;If-Unmodified-Since&quot;);\r\n        if (ifUnmodifiedSince != -1 &amp;&amp; ifUnmodifiedSince + 1000 &lt;= lastModified) {\r\n            response.sendError(HttpServletResponse.SC_PRECONDITION_FAILED);\r\n            return;\r\n        }\r\n\r\n        // Validate and process range -------------------------------------------------------------\r\n\r\n        // Prepare some variables. The full Range represents the complete file.\r\n        Range full = new Range(0, length - 1, length);\r\n        List&lt;Range&gt; ranges = new ArrayList&lt;&gt;();\r\n\r\n        // Validate and process Range and If-Range headers.\r\n        String range = request.getHeader(&quot;Range&quot;);\r\n        if (range != null) {\r\n\r\n            // Range header should match format &quot;bytes=n-n,n-n,n-n...&quot;. If not, then return 416.\r\n            if (!range.matches(&quot;^bytes=\\\\d*-\\\\d*(,\\\\d*-\\\\d*)*$&quot;)) {\r\n                response.setHeader(&quot;Content-Range&quot;, &quot;bytes */&quot; + length); // Required in 416.\r\n                response.sendError(HttpServletResponse.SC_REQUESTED_RANGE_NOT_SATISFIABLE);\r\n                return;\r\n            }\r\n\r\n            String ifRange = request.getHeader(&quot;If-Range&quot;);\r\n            if (ifRange != null &amp;&amp; !ifRange.equals(fileName)) {\r\n                try {\r\n                    long ifRangeTime = request.getDateHeader(&quot;If-Range&quot;); // Throws IAE if invalid.\r\n                    if (ifRangeTime != -1) {\r\n                        ranges.add(full);\r\n                    }\r\n                } catch (IllegalArgumentException ignore) {\r\n                    ranges.add(full);\r\n                }\r\n            }\r\n\r\n            // If any valid If-Range header, then process each part of byte range.\r\n            if (ranges.isEmpty()) {\r\n                for (String part : range.substring(6).split(&quot;,&quot;)) {\r\n                    // Assuming a file with length of 100, the following examples returns bytes at:\r\n                    // 50-80 (50 to 80), 40- (40 to length=100), -20 (length-20=80 to length=100).\r\n                    long start = Range.sublong(part, 0, part.indexOf(&quot;-&quot;));\r\n                    long end = Range.sublong(part, part.indexOf(&quot;-&quot;) + 1, part.length());\r\n\r\n                    if (start == -1) {\r\n                        start = length - end;\r\n                        end = length - 1;\r\n                    } else if (end == -1 || end &gt; length - 1) {\r\n                        end = length - 1;\r\n                    }\r\n\r\n                    // Check if Range is syntactically valid. If not, then return 416.\r\n                    if (start &gt; end) {\r\n                        response.setHeader(&quot;Content-Range&quot;, &quot;bytes */&quot; + length); // Required in 416.\r\n                        response.sendError(HttpServletResponse.SC_REQUESTED_RANGE_NOT_SATISFIABLE);\r\n                        return;\r\n                    }\r\n\r\n                    // Add range.                    \r\n                    ranges.add(new Range(start, end, length));\r\n                }\r\n            }\r\n        }\r\n\r\n        // Prepare and initialize response --------------------------------------------------------\r\n\r\n        // Get content type by file name and set content disposition.\r\n        String disposition = &quot;inline&quot;;\r\n\r\n        // If content type is unknown, then set the default value.\r\n        // For all content types, see: http://www.w3schools.com/media/media_mimeref.asp\r\n        // To add new content types, add new mime-mapping entry in web.xml.\r\n        if (contentType == null) {\r\n            contentType = &quot;application/octet-stream&quot;;\r\n        } else if (!contentType.startsWith(&quot;image&quot;)) {\r\n            // Else, expect for images, determine content disposition. If content type is supported by\r\n            // the browser, then set to inline, else attachment which will pop a &#39;save as&#39; dialogue.\r\n            String accept = request.getHeader(&quot;Accept&quot;);\r\n            disposition = accept != null &amp;&amp; HttpUtils.accepts(accept, contentType) ? &quot;inline&quot; : &quot;attachment&quot;;\r\n        }\r\n        logger.debug(&quot;Content-Type : {}&quot;, contentType);\r\n        // Initialize response.\r\n        response.reset();\r\n        response.setBufferSize(DEFAULT_BUFFER_SIZE);\r\n        response.setHeader(&quot;Content-Type&quot;, contentType);\r\n        response.setHeader(&quot;Content-Disposition&quot;, disposition + &quot;;filename=\\&quot;&quot; + fileName + &quot;\\&quot;&quot;);\r\n        logger.debug(&quot;Content-Disposition : {}&quot;, disposition);\r\n        response.setHeader(&quot;Accept-Ranges&quot;, &quot;bytes&quot;);\r\n        response.setHeader(&quot;ETag&quot;, fileName);\r\n        response.setDateHeader(&quot;Last-Modified&quot;, lastModified);\r\n        response.setDateHeader(&quot;Expires&quot;, System.currentTimeMillis() + DEFAULT_EXPIRE_TIME);\r\n\r\n        // Send requested file (part(s)) to client ------------------------------------------------\r\n\r\n        // Prepare streams.\r\n        try (RandomAccessFile input = new RandomAccessFile(filepath.toFile(), &quot;r&quot;);\r\n             OutputStream output = response.getOutputStream()) {\r\n\r\n            if (ranges.isEmpty() || ranges.get(0) == full) {\r\n                // Return full file.\r\n                logger.info(&quot;Return full file&quot;);\r\n                response.setContentType(contentType);\r\n                response.setHeader(&quot;Content-Range&quot;, &quot;bytes &quot; + full.start + &quot;-&quot; + full.end + &quot;/&quot; + full.total);\r\n                response.setHeader(&quot;Content-Length&quot;, String.valueOf(full.length));\r\n                Range.copy(input, output, length, full.start, full.length);\r\n\r\n            } else if (ranges.size() == 1) {\r\n            \t\r\n                // Return single part of file.\r\n                Range r = ranges.get(0);\r\n                logger.info(&quot;Return 1 part of file : from ({}) to ({})&quot;, r.start, r.end);\r\n                response.setContentType(contentType);\r\n                response.setHeader(&quot;Content-Range&quot;, &quot;bytes &quot; + r.start + &quot;-&quot; + r.end + &quot;/&quot; + r.total);\r\n                response.setHeader(&quot;Content-Length&quot;, String.valueOf(r.length));\r\n                response.setStatus(HttpServletResponse.SC_PARTIAL_CONTENT); // 206.\r\n                // Copy single part range.\r\n                Range.copy(input, output, length, r.start, r.length);\r\n\r\n            } else {\r\n\r\n                // Return multiple parts of file.\r\n                response.setContentType(&quot;multipart/byteranges; boundary=&quot; + MULTIPART_BOUNDARY);\r\n                response.setStatus(HttpServletResponse.SC_PARTIAL_CONTENT); // 206.\r\n\r\n                // Cast back to ServletOutputStream to get the easy println methods.\r\n                ServletOutputStream sos = (ServletOutputStream) output;\r\n\r\n                // Copy multi part range.\r\n                for (Range r : ranges) {\r\n                    logger.info(&quot;Return multi part of file : from ({}) to ({})&quot;, r.start, r.end);\r\n                    // Add multipart boundary and header fields for every range.\r\n                    sos.println();\r\n                    sos.println(&quot;--&quot; + MULTIPART_BOUNDARY);\r\n                    sos.println(&quot;Content-Type: &quot; + contentType);\r\n                    sos.println(&quot;Content-Range: bytes &quot; + r.start + &quot;-&quot; + r.end + &quot;/&quot; + r.total);\r\n                    // Copy single part range of multi part range.\r\n                    Range.copy(input, output, length, r.start, r.length);\r\n                }\r\n\r\n                // End with multipart boundary.\r\n                sos.println();\r\n                sos.println(&quot;--&quot; + MULTIPART_BOUNDARY + &quot;--&quot;);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    private static class Range {\r\n        long start;\r\n        long end;\r\n        long length;\r\n        long total;\r\n\r\n        /**\r\n         * Construct a byte range.\r\n         * @param start Start of the byte range.\r\n         * @param end End of the byte range.\r\n         * @param total Total length of the byte source.\r\n         */\r\n        public Range(long start, long end, long total) {\r\n            this.start = start;\r\n            this.end = end;\r\n            this.length = end - start + 1;\r\n            this.total = total;\r\n        }\r\n\r\n        public static long sublong(String value, int beginIndex, int endIndex) {\r\n            String substring = value.substring(beginIndex, endIndex);\r\n            return (substring.length() &gt; 0) ? Long.parseLong(substring) : -1;\r\n        }\r\n\r\n        private static void copy(RandomAccessFile input, OutputStream output, long inputSize, long start, long length) throws IOException {\r\n            byte[] buffer = new byte[DEFAULT_BUFFER_SIZE];\r\n            int read;\r\n\r\n            if (inputSize == length) {\r\n                // Write full range.\r\n                while ((read = input.read(buffer)) &gt; 0) {\r\n                    output.write(buffer, 0, read);\r\n                    output.flush();\r\n                }\r\n            } else {\r\n                input.seek(start);\r\n                long toRead = length;\r\n                \r\n                while ((read = input.read(buffer)) &gt; 0) {\r\n                    if ((toRead -= read) &gt; 0) {\r\n                        output.write(buffer, 0, read);\r\n                        output.flush();\r\n                    } else {\r\n                        output.write(buffer, 0, (int) toRead + read);\r\n                        output.flush();\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        }\r\n        private static class HttpUtils {\r\n\r\n        /**\r\n         * Returns true if the given accept header accepts the given value.\r\n         * @param acceptHeader The accept header.\r\n         * @param toAccept The value to be accepted.\r\n         * @return True if the given accept header accepts the given value.\r\n         */\r\n            public static boolean accepts(String acceptHeader, String toAccept) {\r\n                String[] acceptValues = acceptHeader.split(&quot;\\\\s*(,|;)\\\\s*&quot;);\r\n                Arrays.sort(acceptValues);\r\n\r\n                return Arrays.binarySearch(acceptValues, toAccept) &gt; -1\r\n                    || Arrays.binarySearch(acceptValues, toAccept.replaceAll(&quot;/.*$&quot;, &quot;/*&quot;)) &gt; -1\r\n                    || Arrays.binarySearch(acceptValues, &quot;*/*&quot;) &gt; -1;\r\n            }\r\n\r\n        /**\r\n         * Returns true if the given match header matches the given value.\r\n         * @param matchHeader The match header.\r\n         * @param toMatch The value to be matched.\r\n         * @return True if the given match header matches the given value.\r\n         */\r\n            public static boolean matches(String matchHeader, String toMatch) {\r\n                String[] matchValues = matchHeader.split(&quot;\\\\s*,\\\\s*&quot;);\r\n                Arrays.sort(matchValues);\r\n                return Arrays.binarySearch(matchValues, toMatch) &gt; -1\r\n                    || Arrays.binarySearch(matchValues, &quot;*&quot;) &gt; -1;\r\n            }\r\n        }\r\n    }","title":"How to Implement HTTP byte-range requests in Spring MVC","body":"<p>The answer of Leandro worked perfectly for me. I only changed the InputStream with a RandomAccessFile, it is performing better to access a random point inside a file.  </p>\n\n<p>Here is the class MultipartFileSender</p>\n\n<pre><code>import javax.servlet.ServletOutputStream;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.util.StringUtils;\n\nimport java.io.*;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.attribute.FileTime;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class MultipartFileSender {\n\n    protected final Logger logger = LoggerFactory.getLogger(this.getClass());\n\n    private static final int DEFAULT_BUFFER_SIZE = 20480; // ..bytes = 20KB.\n    private static final long DEFAULT_EXPIRE_TIME = 604800000L; // ..ms = 1 week.\n    private static final String MULTIPART_BOUNDARY = \"MULTIPART_BYTERANGES\";\n\n    Path filepath;\n    HttpServletRequest request;\n    HttpServletResponse response;\n\n    public MultipartFileSender() {\n    }\n\n    public static MultipartFileSender fromPath(Path path) {\n        return new MultipartFileSender().setFilepath(path);\n    }\n\n    public static MultipartFileSender fromFile(File file) {\n        return new MultipartFileSender().setFilepath(file.toPath());\n    }\n\n    public static MultipartFileSender fromURIString(String uri) {\n        return new MultipartFileSender().setFilepath(Paths.get(uri));\n    }\n\n    //** internal setter **//\n    private MultipartFileSender setFilepath(Path filepath) {\n        this.filepath = filepath;\n        return this;\n    }\n\n    public MultipartFileSender with(HttpServletRequest httpRequest) {\n        request = httpRequest;\n        return this;\n    }\n\n    public MultipartFileSender with(HttpServletResponse httpResponse) {\n        response = httpResponse;\n        return this;\n    }\n\n    public void serveResource() throws Exception {\n        if (response == null || request == null) {\n            return;\n        }\n\n        if (!Files.exists(filepath)) {\n            logger.error(\"File doesn't exist at URI : {}\", filepath.toAbsolutePath().toString());\n            response.sendError(HttpServletResponse.SC_NOT_FOUND);\n            return;\n        }\n\n        Long length = Files.size(filepath);\n        String fileName = filepath.getFileName().toString();\n        FileTime lastModifiedObj = Files.getLastModifiedTime(filepath);\n\n        if (StringUtils.isEmpty(fileName) || lastModifiedObj == null) {\n            response.sendError(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\n            return;\n        }\n    long lastModified = LocalDateTime.ofInstant(lastModifiedObj.toInstant(), ZoneId.of(ZoneOffset.systemDefault().getId())).toEpochSecond(ZoneOffset.UTC);\n    String contentType = \"video/mp4\";\n\n    // Validate request headers for caching ---------------------------------------------------\n\n    // If-None-Match header should contain \"*\" or ETag. If so, then return 304.\n    String ifNoneMatch = request.getHeader(\"If-None-Match\");\n    if (ifNoneMatch != null &amp;&amp; HttpUtils.matches(ifNoneMatch, fileName)) {\n        response.setHeader(\"ETag\", fileName); // Required in 304.\n        response.sendError(HttpServletResponse.SC_NOT_MODIFIED);\n        return;\n    }\n\n    // If-Modified-Since header should be greater than LastModified. If so, then return 304.\n    // This header is ignored if any If-None-Match header is specified.\n    long ifModifiedSince = request.getDateHeader(\"If-Modified-Since\");\n    if (ifNoneMatch == null &amp;&amp; ifModifiedSince != -1 &amp;&amp; ifModifiedSince + 1000 &gt; lastModified) {\n        response.setHeader(\"ETag\", fileName); // Required in 304.\n        response.sendError(HttpServletResponse.SC_NOT_MODIFIED);\n        return;\n    }\n\n    // Validate request headers for resume ----------------------------------------------------\n\n    // If-Match header should contain \"*\" or ETag. If not, then return 412.\n    String ifMatch = request.getHeader(\"If-Match\");\n    if (ifMatch != null &amp;&amp; !HttpUtils.matches(ifMatch, fileName)) {\n        response.sendError(HttpServletResponse.SC_PRECONDITION_FAILED);\n        return;\n    }\n\n    // If-Unmodified-Since header should be greater than LastModified. If not, then return 412.\n    long ifUnmodifiedSince = request.getDateHeader(\"If-Unmodified-Since\");\n    if (ifUnmodifiedSince != -1 &amp;&amp; ifUnmodifiedSince + 1000 &lt;= lastModified) {\n        response.sendError(HttpServletResponse.SC_PRECONDITION_FAILED);\n        return;\n    }\n\n    // Validate and process range -------------------------------------------------------------\n\n    // Prepare some variables. The full Range represents the complete file.\n    Range full = new Range(0, length - 1, length);\n    List&lt;Range&gt; ranges = new ArrayList&lt;&gt;();\n\n    // Validate and process Range and If-Range headers.\n    String range = request.getHeader(\"Range\");\n    if (range != null) {\n\n        // Range header should match format \"bytes=n-n,n-n,n-n...\". If not, then return 416.\n        if (!range.matches(\"^bytes=\\\\d*-\\\\d*(,\\\\d*-\\\\d*)*$\")) {\n            response.setHeader(\"Content-Range\", \"bytes */\" + length); // Required in 416.\n            response.sendError(HttpServletResponse.SC_REQUESTED_RANGE_NOT_SATISFIABLE);\n            return;\n        }\n\n        String ifRange = request.getHeader(\"If-Range\");\n        if (ifRange != null &amp;&amp; !ifRange.equals(fileName)) {\n            try {\n                long ifRangeTime = request.getDateHeader(\"If-Range\"); // Throws IAE if invalid.\n                if (ifRangeTime != -1) {\n                    ranges.add(full);\n                }\n            } catch (IllegalArgumentException ignore) {\n                ranges.add(full);\n            }\n        }\n\n        // If any valid If-Range header, then process each part of byte range.\n        if (ranges.isEmpty()) {\n            for (String part : range.substring(6).split(\",\")) {\n                // Assuming a file with length of 100, the following examples returns bytes at:\n                // 50-80 (50 to 80), 40- (40 to length=100), -20 (length-20=80 to length=100).\n                long start = Range.sublong(part, 0, part.indexOf(\"-\"));\n                long end = Range.sublong(part, part.indexOf(\"-\") + 1, part.length());\n\n                if (start == -1) {\n                    start = length - end;\n                    end = length - 1;\n                } else if (end == -1 || end &gt; length - 1) {\n                    end = length - 1;\n                }\n\n                // Check if Range is syntactically valid. If not, then return 416.\n                if (start &gt; end) {\n                    response.setHeader(\"Content-Range\", \"bytes */\" + length); // Required in 416.\n                    response.sendError(HttpServletResponse.SC_REQUESTED_RANGE_NOT_SATISFIABLE);\n                    return;\n                }\n\n                // Add range.                    \n                ranges.add(new Range(start, end, length));\n            }\n        }\n    }\n\n    // Prepare and initialize response --------------------------------------------------------\n\n    // Get content type by file name and set content disposition.\n    String disposition = \"inline\";\n\n    // If content type is unknown, then set the default value.\n    // For all content types, see: http://www.w3schools.com/media/media_mimeref.asp\n    // To add new content types, add new mime-mapping entry in web.xml.\n    if (contentType == null) {\n        contentType = \"application/octet-stream\";\n    } else if (!contentType.startsWith(\"image\")) {\n        // Else, expect for images, determine content disposition. If content type is supported by\n        // the browser, then set to inline, else attachment which will pop a 'save as' dialogue.\n        String accept = request.getHeader(\"Accept\");\n        disposition = accept != null &amp;&amp; HttpUtils.accepts(accept, contentType) ? \"inline\" : \"attachment\";\n    }\n    logger.debug(\"Content-Type : {}\", contentType);\n    // Initialize response.\n    response.reset();\n    response.setBufferSize(DEFAULT_BUFFER_SIZE);\n    response.setHeader(\"Content-Type\", contentType);\n    response.setHeader(\"Content-Disposition\", disposition + \";filename=\\\"\" + fileName + \"\\\"\");\n    logger.debug(\"Content-Disposition : {}\", disposition);\n    response.setHeader(\"Accept-Ranges\", \"bytes\");\n    response.setHeader(\"ETag\", fileName);\n    response.setDateHeader(\"Last-Modified\", lastModified);\n    response.setDateHeader(\"Expires\", System.currentTimeMillis() + DEFAULT_EXPIRE_TIME);\n\n    // Send requested file (part(s)) to client ------------------------------------------------\n\n    // Prepare streams.\n    try (RandomAccessFile input = new RandomAccessFile(filepath.toFile(), \"r\");\n         OutputStream output = response.getOutputStream()) {\n\n        if (ranges.isEmpty() || ranges.get(0) == full) {\n            // Return full file.\n            logger.info(\"Return full file\");\n            response.setContentType(contentType);\n            response.setHeader(\"Content-Range\", \"bytes \" + full.start + \"-\" + full.end + \"/\" + full.total);\n            response.setHeader(\"Content-Length\", String.valueOf(full.length));\n            Range.copy(input, output, length, full.start, full.length);\n\n        } else if (ranges.size() == 1) {\n\n            // Return single part of file.\n            Range r = ranges.get(0);\n            logger.info(\"Return 1 part of file : from ({}) to ({})\", r.start, r.end);\n            response.setContentType(contentType);\n            response.setHeader(\"Content-Range\", \"bytes \" + r.start + \"-\" + r.end + \"/\" + r.total);\n            response.setHeader(\"Content-Length\", String.valueOf(r.length));\n            response.setStatus(HttpServletResponse.SC_PARTIAL_CONTENT); // 206.\n            // Copy single part range.\n            Range.copy(input, output, length, r.start, r.length);\n\n        } else {\n\n            // Return multiple parts of file.\n            response.setContentType(\"multipart/byteranges; boundary=\" + MULTIPART_BOUNDARY);\n            response.setStatus(HttpServletResponse.SC_PARTIAL_CONTENT); // 206.\n\n            // Cast back to ServletOutputStream to get the easy println methods.\n            ServletOutputStream sos = (ServletOutputStream) output;\n\n            // Copy multi part range.\n            for (Range r : ranges) {\n                logger.info(\"Return multi part of file : from ({}) to ({})\", r.start, r.end);\n                // Add multipart boundary and header fields for every range.\n                sos.println();\n                sos.println(\"--\" + MULTIPART_BOUNDARY);\n                sos.println(\"Content-Type: \" + contentType);\n                sos.println(\"Content-Range: bytes \" + r.start + \"-\" + r.end + \"/\" + r.total);\n                // Copy single part range of multi part range.\n                Range.copy(input, output, length, r.start, r.length);\n            }\n\n            // End with multipart boundary.\n            sos.println();\n            sos.println(\"--\" + MULTIPART_BOUNDARY + \"--\");\n        }\n    }\n\n}\n\nprivate static class Range {\n    long start;\n    long end;\n    long length;\n    long total;\n\n    /**\n     * Construct a byte range.\n     * @param start Start of the byte range.\n     * @param end End of the byte range.\n     * @param total Total length of the byte source.\n     */\n    public Range(long start, long end, long total) {\n        this.start = start;\n        this.end = end;\n        this.length = end - start + 1;\n        this.total = total;\n    }\n\n    public static long sublong(String value, int beginIndex, int endIndex) {\n        String substring = value.substring(beginIndex, endIndex);\n        return (substring.length() &gt; 0) ? Long.parseLong(substring) : -1;\n    }\n\n    private static void copy(RandomAccessFile input, OutputStream output, long inputSize, long start, long length) throws IOException {\n        byte[] buffer = new byte[DEFAULT_BUFFER_SIZE];\n        int read;\n\n        if (inputSize == length) {\n            // Write full range.\n            while ((read = input.read(buffer)) &gt; 0) {\n                output.write(buffer, 0, read);\n                output.flush();\n            }\n        } else {\n            input.seek(start);\n            long toRead = length;\n\n            while ((read = input.read(buffer)) &gt; 0) {\n                if ((toRead -= read) &gt; 0) {\n                    output.write(buffer, 0, read);\n                    output.flush();\n                } else {\n                    output.write(buffer, 0, (int) toRead + read);\n                    output.flush();\n                    break;\n                }\n            }\n        }\n    }\n    }\n    private static class HttpUtils {\n\n    /**\n     * Returns true if the given accept header accepts the given value.\n     * @param acceptHeader The accept header.\n     * @param toAccept The value to be accepted.\n     * @return True if the given accept header accepts the given value.\n     */\n        public static boolean accepts(String acceptHeader, String toAccept) {\n            String[] acceptValues = acceptHeader.split(\"\\\\s*(,|;)\\\\s*\");\n            Arrays.sort(acceptValues);\n\n            return Arrays.binarySearch(acceptValues, toAccept) &gt; -1\n                || Arrays.binarySearch(acceptValues, toAccept.replaceAll(\"/.*$\", \"/*\")) &gt; -1\n                || Arrays.binarySearch(acceptValues, \"*/*\") &gt; -1;\n        }\n\n    /**\n     * Returns true if the given match header matches the given value.\n     * @param matchHeader The match header.\n     * @param toMatch The value to be matched.\n     * @return True if the given match header matches the given value.\n     */\n        public static boolean matches(String matchHeader, String toMatch) {\n            String[] matchValues = matchHeader.split(\"\\\\s*,\\\\s*\");\n            Arrays.sort(matchValues);\n            return Arrays.binarySearch(matchValues, toMatch) &gt; -1\n                || Arrays.binarySearch(matchValues, \"*\") &gt; -1;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7672688,"reputation":25,"user_id":5814399,"display_name":"Fadeef Saleh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536298592,"creation_date":1536298592,"answer_id":52215899,"question_id":28427339,"body_markdown":"woww, The answer of Leandro so briliant. just create service file follow him \r\nand use in controller. here my after follow his guidelines\r\n\r\n\r\n    @RequestMapping(value = [(SKConstant.URL_PROJECT_API + &quot;/video/{token}&quot;)], method = arrayOf(RequestMethod.GET)\r\n    fun getVideo(@PathVariable(&quot;token&quot;) token: String, response: HttpServletResponse, request: HttpServletRequest): Any?{\r\n             val file = baseService.getByToken(token)\r\n             if(file != null) {\r\n               return MultipartFileSender.fromFile(File(fileService.getUploadFileRealPath(file.uniqueName!!)))\r\n                                  .with(request)\r\n                                  .with(response)\r\n                                  .serveResource()\r\n     }\r\n\r\n","title":"How to Implement HTTP byte-range requests in Spring MVC","body":"<p>woww, The answer of Leandro so briliant. just create service file follow him \nand use in controller. here my after follow his guidelines</p>\n\n<pre><code>@RequestMapping(value = [(SKConstant.URL_PROJECT_API + \"/video/{token}\")], method = arrayOf(RequestMethod.GET)\nfun getVideo(@PathVariable(\"token\") token: String, response: HttpServletResponse, request: HttpServletRequest): Any?{\n         val file = baseService.getByToken(token)\n         if(file != null) {\n           return MultipartFileSender.fromFile(File(fileService.getUploadFileRealPath(file.uniqueName!!)))\n                              .with(request)\n                              .with(response)\n                              .serveResource()\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1585059,"reputation":278,"user_id":1469613,"display_name":"A. Mort"},"score":3,"creation_date":1601048097,"post_id":63393094,"comment_id":113292417,"body_markdown":"This is the best answer today.  No custom code needed.","body":"This is the best answer today.  No custom code needed."},{"owner":{"account_id":7150404,"reputation":87,"user_id":5464697,"accept_rate":71,"display_name":"Worm359"},"score":0,"creation_date":1611085537,"post_id":63393094,"comment_id":116335838,"body_markdown":"my code lloks like URL resource = getClass().getClassLoader().getResource(&quot;nbch_intro.mp4&quot;);\nreturn ResponseEntity.ok().body(new FileSystemResource(resource.getFile())); In this case, server returns JSON.. When I add .header(&quot;Content-Type&quot;, &quot;video/mp4&quot;), i get an exception: No converter for [class org.springframework.core.io.FileSystemResource] with preset Content-Type &#39;video/mp4&#39;...","body":"my code lloks like URL resource = getClass().getClassLoader().getResource(&quot;nbch_intro.mp4&quot;); return ResponseEntity.ok().body(new FileSystemResource(resource.getFile())); In this case, server returns JSON.. When I add .header(&quot;Content-Type&quot;, &quot;video/mp4&quot;), i get an exception: No converter for [class org.springframework.core.io.FileSystemResource] with preset Content-Type &#39;video/mp4&#39;..."},{"owner":{"account_id":64164,"reputation":123,"user_id":189554,"display_name":"antony"},"score":1,"creation_date":1676373864,"post_id":63393094,"comment_id":133119987,"body_markdown":"The 2 notes and link to the almighty source code saved my day.. Thanks!","body":"The 2 notes and link to the almighty source code saved my day.. Thanks!"}],"tags":[],"owner":{"account_id":5382172,"reputation":580,"user_id":4287124,"display_name":"icguy"},"comment_count":3,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1675326784,"creation_date":1597314384,"answer_id":63393094,"question_id":28427339,"body_markdown":"It&#39;s 2020 here.\r\n\r\nPartial ranges are implemented in Spring by default (I&#39;m using Spring Boot 2.2.4). My controller code looks similar to the one below and it works just fine with range headers.\r\n\r\n    return ResponseEntity.ok().body(new FileSystemResource(file))\r\n\r\nNotes (See [The Almighty Source Code][1] for details):\r\n\r\n - Spring requires the response to be set to 200 and internally (if range headers are present on the request) replaces it with 206 Partial Content.\r\n - Spring also requires the response to be a Resource instance **except** InputStreamResource for which it fails. For files FileSystemResource seems to be the best choice.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blob/1984cfe9d79e8a34955a393ef9d71a2a3d11a87c/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/annotation/AbstractMessageConverterMethodProcessor.java#L196-L213","title":"How to Implement HTTP byte-range requests in Spring MVC","body":"<p>It's 2020 here.</p>\n<p>Partial ranges are implemented in Spring by default (I'm using Spring Boot 2.2.4). My controller code looks similar to the one below and it works just fine with range headers.</p>\n<pre><code>return ResponseEntity.ok().body(new FileSystemResource(file))\n</code></pre>\n<p>Notes (See <a href=\"https://github.com/spring-projects/spring-framework/blob/1984cfe9d79e8a34955a393ef9d71a2a3d11a87c/spring-webmvc/src/main/java/org/springframework/web/servlet/mvc/method/annotation/AbstractMessageConverterMethodProcessor.java#L196-L213\" rel=\"noreferrer\">The Almighty Source Code</a> for details):</p>\n<ul>\n<li>Spring requires the response to be set to 200 and internally (if range headers are present on the request) replaces it with 206 Partial Content.</li>\n<li>Spring also requires the response to be a Resource instance <strong>except</strong> InputStreamResource for which it fails. For files FileSystemResource seems to be the best choice.</li>\n</ul>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40061,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":28479001,"answer_count":7,"score":41,"last_activity_date":1675326784,"creation_date":1423557960,"question_id":28427339,"body_markdown":"I have the problem with video rewind on my site.\r\n\r\nI figure out that problem with http headers.\r\n\r\nMy current controller method which returns video:\r\n\r\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/testVideo&quot;)\r\n    @ResponseBody\r\n    public FileSystemResource testVideo(Principal principal) throws IOException {\r\n       return new FileSystemResource(new File(&quot;D:\\\\oceans.mp4&quot;));\r\n    }\r\n\r\nHow to rewrite following code with byte-range supporting?\r\n\r\nP.S.\r\n-\r\nI have seen following example [http://balusc.blogspot.in/2009/02/fileservlet-supporting-resume-and.html](https://web.archive.org/web/20100818085302/http://balusc.blogspot.com/2009/02/fileservlet-supporting-resume-and.html)\r\n\r\nBut this code looks hard for me and I cannot understand it. I hope that in spring mvc exists way simpler.","title":"How to Implement HTTP byte-range requests in Spring MVC","body":"<p>I have the problem with video rewind on my site.</p>\n\n<p>I figure out that problem with http headers.</p>\n\n<p>My current controller method which returns video:</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.GET, value = \"/testVideo\")\n@ResponseBody\npublic FileSystemResource testVideo(Principal principal) throws IOException {\n   return new FileSystemResource(new File(\"D:\\\\oceans.mp4\"));\n}\n</code></pre>\n\n<p>How to rewrite following code with byte-range supporting?</p>\n\n<h2>P.S.</h2>\n\n<p>I have seen following example <a href=\"https://web.archive.org/web/20100818085302/http://balusc.blogspot.com/2009/02/fileservlet-supporting-resume-and.html\" rel=\"noreferrer\">http://balusc.blogspot.in/2009/02/fileservlet-supporting-resume-and.html</a></p>\n\n<p>But this code looks hard for me and I cannot understand it. I hope that in spring mvc exists way simpler.</p>\n"},{"tags":["java","type-conversion","byte","short"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1247059912,"post_id":736815,"comment_id":912572,"body_markdown":"Is there a particular reason you use short instead of int? Isn&#39;t your CRC value unsigned?","body":"Is there a particular reason you use short instead of int? Isn&#39;t your CRC value unsigned?"}],"answers":[{"comments":[{"owner":{"account_id":31100,"reputation":13876,"user_id":85170,"accept_rate":100,"display_name":"CookieOfFortune"},"score":0,"creation_date":1239343638,"post_id":736851,"comment_id":548486,"body_markdown":"you&#39;re right, it does promote to int so shift by 7 is ok. But &lt;&lt; 32 is undefined so it does nothing.","body":"you&#39;re right, it does promote to int so shift by 7 is ok. But &lt;&lt; 32 is undefined so it does nothing."},{"owner":{"account_id":55510,"reputation":19816,"user_id":166251,"accept_rate":87,"display_name":"Daniel Momondor"},"score":0,"creation_date":1364391650,"post_id":736851,"comment_id":22225147,"body_markdown":"I find that &#39;converting&#39; buffer of 8192 size takes almost forever when debugger is attached to the device.  Is there a way to convert whole buffer in one go?","body":"I find that &#39;converting&#39; buffer of 8192 size takes almost forever when debugger is attached to the device.  Is there a way to convert whole buffer in one go?"},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":2,"creation_date":1397151213,"post_id":736851,"comment_id":35119086,"body_markdown":"RE: &quot;you don&#39;t have to tie yourself in knots with bit shifting&quot;; in my experience (and it&#39;s quite considerable since most of my career is in comms), when dealing with comms protocols of this ilk you&#39;d better get darn familiar with bit manipulations.","body":"RE: &quot;you don&#39;t have to tie yourself in knots with bit shifting&quot;; in my experience (and it&#39;s quite considerable since most of my career is in comms), when dealing with comms protocols of this ilk you&#39;d better get darn familiar with bit manipulations."},{"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"score":1,"creation_date":1397189586,"post_id":736851,"comment_id":35134248,"body_markdown":"Lawrence - I&#39;d broadly agree. But on the other hand, in this specific case the ByteBuffer class provides an API specifically designed to do what the poster is trying to do...","body":"Lawrence - I&#39;d broadly agree. But on the other hand, in this specific case the ByteBuffer class provides an API specifically designed to do what the poster is trying to do..."},{"owner":{"account_id":8038697,"reputation":325,"user_id":6061061,"display_name":"Blake Neal"},"score":1,"creation_date":1528398209,"post_id":736851,"comment_id":88504463,"body_markdown":"A very well-placed, well-suited hammer... Ya know, for when the question isn&#39;t so trivial","body":"A very well-placed, well-suited hammer... Ya know, for when the question isn&#39;t so trivial"},{"owner":{"account_id":1602625,"reputation":2339,"user_id":1483390,"accept_rate":52,"display_name":"Luis A. Florit"},"score":0,"creation_date":1653701817,"post_id":736851,"comment_id":127922037,"body_markdown":"Yes, this works. But it is slower than the direct conversion.","body":"Yes, this works. But it is slower than the direct conversion."},{"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"score":0,"creation_date":1653712353,"post_id":736851,"comment_id":127923075,"body_markdown":"@LuisA.Florit - It theoretically will. But if you&#39;re only doing it once to check a CRC, the extra couple of nanoseconds probably won&#39;t matter :) In other cases... it will depend a bit on the situation. In use cases where you&#39;re converting a lot of values on a data stream, it is likely to be more convenient to use a ByteBuffer anyway, and the JIT compiler is in principle designed to optimise away the method call. (But you&#39;d need to time in practice if it was performance-critical..)","body":"@LuisA.Florit - It theoretically will. But if you&#39;re only doing it once to check a CRC, the extra couple of nanoseconds probably won&#39;t matter :) In other cases... it will depend a bit on the situation. In use cases where you&#39;re converting a lot of values on a data stream, it is likely to be more convenient to use a ByteBuffer anyway, and the JIT compiler is in principle designed to optimise away the method call. (But you&#39;d need to time in practice if it was performance-critical..)"},{"owner":{"account_id":1602625,"reputation":2339,"user_id":1483390,"accept_rate":52,"display_name":"Luis A. Florit"},"score":0,"creation_date":1653741485,"post_id":736851,"comment_id":127927699,"body_markdown":"@NeilCoffey My use case was to read a 1 minute 16 bit PCM audio file and extract the shorts to show a waveform. Direct conversion showed the waveform with no perceptible delay, while this method took around a second or so to show it (in a Galaxy Note 10).","body":"@NeilCoffey My use case was to read a 1 minute 16 bit PCM audio file and extract the shorts to show a waveform. Direct conversion showed the waveform with no perceptible delay, while this method took around a second or so to show it (in a Galaxy Note 10)."}],"tags":[],"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"comment_count":8,"down_vote_count":2,"up_vote_count":71,"is_accepted":false,"score":69,"last_activity_date":1239343569,"creation_date":1239343569,"answer_id":736851,"question_id":736815,"body_markdown":"Remember, you don&#39;t have to tie yourself in knots with bit shifting if you&#39;re not too familiar with the details. You can use a ByteBuffer to help you out:\r\n\r\n    ByteBuffer bb = ByteBuffer.allocate(2);\r\n    bb.order(ByteOrder.LITTLE_ENDIAN);\r\n    bb.put(firstByte);\r\n    bb.put(secondByte);\r\n    short shortVal = bb.getShort(0);\r\n\r\nAnd vice versa, you can put a short, then pull out bytes.\r\n\r\nBy the way, bitwise operations automatically promote the operands to at least the width of an int. There&#39;s really no notion of &quot;not being allowed to shift a byte more than 7 bits&quot; and other rumours that seem to be going round.","title":"2 bytes to short","body":"<p>Remember, you don't have to tie yourself in knots with bit shifting if you're not too familiar with the details. You can use a ByteBuffer to help you out:</p>\n\n<pre><code>ByteBuffer bb = ByteBuffer.allocate(2);\nbb.order(ByteOrder.LITTLE_ENDIAN);\nbb.put(firstByte);\nbb.put(secondByte);\nshort shortVal = bb.getShort(0);\n</code></pre>\n\n<p>And vice versa, you can put a short, then pull out bytes.</p>\n\n<p>By the way, bitwise operations automatically promote the operands to at least the width of an int. There's really no notion of \"not being allowed to shift a byte more than 7 bits\" and other rumours that seem to be going round.</p>\n"},{"comments":[{"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"score":3,"creation_date":1239370358,"post_id":736892,"comment_id":549182,"body_markdown":"You don&#39;t need the casts to int, that happens implicitly for the &amp; operations.","body":"You don&#39;t need the casts to int, that happens implicitly for the &amp; operations."},{"owner":{"account_id":1602625,"reputation":2339,"user_id":1483390,"accept_rate":52,"display_name":"Luis A. Florit"},"score":0,"creation_date":1653702072,"post_id":736892,"comment_id":127922057,"body_markdown":"In my setup/tests, this is the fastest. +1.","body":"In my setup/tests, this is the fastest. +1."}],"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"comment_count":2,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1527806688,"creation_date":1239345654,"answer_id":736892,"question_id":736815,"body_markdown":"When converting byte values from a stream into numeric values in Java you have to be very careful with sign extension.  There is a trap with negative numbers (values from (unsigned) 128-255).\r\n\r\nTry this (it works if hi and lo are any Java integer type) :\r\n\r\n    short val=(short)(((hi &amp; 0xFF) &lt;&lt; 8) | (lo &amp; 0xFF));\r\n\r\nI find it&#39;s best to be explicit with the parentheses in these cases.","title":"2 bytes to short","body":"<p>When converting byte values from a stream into numeric values in Java you have to be very careful with sign extension.  There is a trap with negative numbers (values from (unsigned) 128-255).</p>\n\n<p>Try this (it works if hi and lo are any Java integer type) :</p>\n\n<pre><code>short val=(short)(((hi &amp; 0xFF) &lt;&lt; 8) | (lo &amp; 0xFF));\n</code></pre>\n\n<p>I find it's best to be explicit with the parentheses in these cases.</p>\n"},{"comments":[{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":0,"creation_date":1397151011,"post_id":1098397,"comment_id":35118959,"body_markdown":"Though, when dealing with 16 bit CRC&#39;s you only need the correct bit pattern; it matters not if the final Java value is signed.","body":"Though, when dealing with 16 bit CRC&#39;s you only need the correct bit pattern; it matters not if the final Java value is signed."},{"owner":{"account_id":340420,"reputation":956,"user_id":1898523,"accept_rate":75,"display_name":"wrapperapps"},"score":0,"creation_date":1518646799,"post_id":1098397,"comment_id":84596840,"body_markdown":"thanks, I used `&amp; 0x00FF` from the first line to convert an unsigned byte to a short. for example, setting 0x87 to a short gave -121 instead of the intended 135.","body":"thanks, I used <code>&amp; 0x00FF</code> from the first line to convert an unsigned byte to a short. for example, setting 0x87 to a short gave -121 instead of the intended 135."}],"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1247062723,"creation_date":1247062723,"answer_id":1098397,"question_id":736815,"body_markdown":"The other answers are OK, but I would like to put an emphasis on the type:\r\n\r\n    short high=(-48 &amp; 0x00ff);\r\n    short low=80;\r\n\r\n    int c= ((high &amp; 0xFF) &lt;&lt; 8) | (low &amp; 0xFF);\r\n\r\nThe `short` type can represent values between -32768 to 32767. 53328 cannot be nicely stored in short, use `int` instead as it allows you to store unsigned value up to ~10&lt;sup&gt;9&lt;/sup&gt;\r\nSo don&#39;t downcast the expression to short as it will net you the signed value.","title":"2 bytes to short","body":"<p>The other answers are OK, but I would like to put an emphasis on the type:</p>\n\n<pre><code>short high=(-48 &amp; 0x00ff);\nshort low=80;\n\nint c= ((high &amp; 0xFF) &lt;&lt; 8) | (low &amp; 0xFF);\n</code></pre>\n\n<p>The <code>short</code> type can represent values between -32768 to 32767. 53328 cannot be nicely stored in short, use <code>int</code> instead as it allows you to store unsigned value up to ~10<sup>9</sup>\nSo don't downcast the expression to short as it will net you the signed value.</p>\n"},{"tags":[],"owner":{"account_id":2153338,"reputation":4072,"user_id":1909094,"accept_rate":83,"display_name":"Lake"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1467820154,"creation_date":1467819828,"answer_id":38228146,"question_id":736815,"body_markdown":"This happens when trying to concatenate bytes (very subtle)\r\n\r\n    byte b1 = (byte) 0xAD;\r\n    byte b2 = (byte) 0xCA;\r\n    short s = (short) (b1&lt;&lt;8 | b2);\r\n\r\nThe above produces 0xFFCA, which is wrong.\r\nThis is because b2 is negative (byte type is signed!), which means that when it will get converted to int type for the bit-wise | operation, it will be left-padded with 0xF!\r\n\r\nTherefore, you must remember to mask-out the padded bytes so that they will definitely be zero:\r\n\r\n    short s = (short) (b1&lt;&lt;8 | b2 &amp; 0xFF);","title":"2 bytes to short","body":"<p>This happens when trying to concatenate bytes (very subtle)</p>\n\n<pre><code>byte b1 = (byte) 0xAD;\nbyte b2 = (byte) 0xCA;\nshort s = (short) (b1&lt;&lt;8 | b2);\n</code></pre>\n\n<p>The above produces 0xFFCA, which is wrong.\nThis is because b2 is negative (byte type is signed!), which means that when it will get converted to int type for the bit-wise | operation, it will be left-padded with 0xF!</p>\n\n<p>Therefore, you must remember to mask-out the padded bytes so that they will definitely be zero:</p>\n\n<pre><code>short s = (short) (b1&lt;&lt;8 | b2 &amp; 0xFF);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1156609,"reputation":9392,"user_id":1137043,"accept_rate":100,"display_name":"brimborium"},"score":0,"creation_date":1626358385,"post_id":49013492,"comment_id":120876450,"body_markdown":"in my tests, this is faster than manual conversion or the other answer here using ByteBuffers (with fixed allocation).","body":"in my tests, this is faster than manual conversion or the other answer here using ByteBuffers (with fixed allocation)."}],"tags":[],"owner":{"account_id":6556316,"reputation":2208,"user_id":5068914,"display_name":"Mariusz Wiazowski"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1536134279,"creation_date":1519749035,"answer_id":49013492,"question_id":736815,"body_markdown":"You can convert 2 bytes to a short in a more readable and elegant way.\r\n\r\n    short s = ByteBuffer.wrap(new byte[]{0x01, 0x02}).getShort();\r\n    // now s equals 258 = 256 + 2\r\n\r\nThe first byte is the most significant byte.","title":"2 bytes to short","body":"<p>You can convert 2 bytes to a short in a more readable and elegant way.</p>\n\n<pre><code>short s = ByteBuffer.wrap(new byte[]{0x01, 0x02}).getShort();\n// now s equals 258 = 256 + 2\n</code></pre>\n\n<p>The first byte is the most significant byte.</p>\n"},{"tags":[],"owner":{"account_id":5834974,"reputation":318,"user_id":4598342,"display_name":"Pwn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607674452,"creation_date":1607674452,"answer_id":65247835,"question_id":736815,"body_markdown":"This works for me\r\n\r\n    short temp = ;\r\n    result[0] = (byte) ((temp &gt;&gt;&gt; 8) &amp; 0xFF);\r\n    result[1] = (byte)((temp) &amp; 0xFF);","title":"2 bytes to short","body":"<p>This works for me</p>\n<pre><code>short temp = ;\nresult[0] = (byte) ((temp &gt;&gt;&gt; 8) &amp; 0xFF);\nresult[1] = (byte)((temp) &amp; 0xFF);\n</code></pre>\n"}],"owner":{"display_name":"Nilesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75697,"favorite_count":0,"down_vote_count":1,"up_vote_count":37,"answer_count":6,"score":36,"last_activity_date":1675326760,"creation_date":1239342334,"question_id":736815,"body_markdown":"I&#39;m reading a packet with a length of 133 bytes from the serialport, the last 2 bytes contain the CRC values, 2 byte values I&#39;ve made single (short I think) using Java.\r\n\r\nThis what I have done:\r\n\r\n    short high = (-48 &amp; 0x00ff);\r\n    short low = 80;\r\n    \r\n    short c = (short) ((high &lt;&lt; 8) + low);\r\n\r\n\r\nBut I&#39;m not getting the correct result. Is it a problem because of the use of signed values?\r\nHow can I solve this problem?","title":"2 bytes to short","body":"<p>I'm reading a packet with a length of 133 bytes from the serialport, the last 2 bytes contain the CRC values, 2 byte values I've made single (short I think) using Java.</p>\n<p>This what I have done:</p>\n<pre><code>short high = (-48 &amp; 0x00ff);\nshort low = 80;\n\nshort c = (short) ((high &lt;&lt; 8) + low);\n</code></pre>\n<p>But I'm not getting the correct result. Is it a problem because of the use of signed values?\nHow can I solve this problem?</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1675321808,"post_id":75319202,"comment_id":132904681,"body_markdown":"The expected class file version (57.0) hints at Java 13, the path in the error message hints at using Gradle. Does your `build.gradle` contain a statement like `languageVersion = JavaLanguageVersion.of(13)`?","body":"The expected class file version (57.0) hints at Java 13, the path in the error message hints at using Gradle. Does your <code>build.gradle</code> contain a statement like <code>languageVersion = JavaLanguageVersion.of(13)</code>?"},{"owner":{"account_id":65286,"reputation":2157,"user_id":192252,"accept_rate":86,"display_name":"Shaitender Singh"},"score":0,"creation_date":1675325792,"post_id":75319202,"comment_id":132905500,"body_markdown":"@ThomasKl&#228;ger java.sourceCompatibility = JavaVersion.VERSION_11  // it uses Java 11\njava.targetCompatibility = JavaVersion.VERSION_11","body":"@ThomasKl&#228;ger java.sourceCompatibility = JavaVersion.VERSION_11  // it uses Java 11 java.targetCompatibility = JavaVersion.VERSION_11"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1675326666,"post_id":75319202,"comment_id":132905759,"body_markdown":"At least one of your dependencies (com.example.streaming:streaming-core:v1.36.1) has been compiled for Java 18 (class file version 62). You will need to find a version of that dependency that is compiled for the Java version that your project uses.","body":"At least one of your dependencies (com.example.streaming:streaming-core:v1.36.1) has been compiled for Java 18 (class file version 62). You will need to find a version of that dependency that is compiled for the Java version that your project uses."},{"owner":{"account_id":65286,"reputation":2157,"user_id":192252,"accept_rate":86,"display_name":"Shaitender Singh"},"score":0,"creation_date":1675493622,"post_id":75319202,"comment_id":132944938,"body_markdown":"@ThomasKl&#228;ger issue has been resolved bu configuring java 18 and  setting gradle java 18 version, thank you for your help","body":"@ThomasKl&#228;ger issue has been resolved bu configuring java 18 and  setting gradle java 18 version, thank you for your help"}],"answers":[{"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1675320669,"post_id":75319239,"comment_id":132904412,"body_markdown":"just because jdk9 is installed, doesn&#39;t mean it&#39;s used in the compilation process","body":"just because jdk9 is installed, doesn&#39;t mean it&#39;s used in the compilation process"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1675322999,"post_id":75319239,"comment_id":132904912,"body_markdown":"BTW Java 9 (1.9) is major 53 - required is 62, that is, Java 18 (not to be confused with 8 or 1.8)","body":"BTW Java 9 (1.9) is major 53 - required is 62, that is, Java 18 (not to be confused with 8 or 1.8)"}],"tags":[],"owner":{"account_id":3702936,"reputation":120,"user_id":3082137,"display_name":"Dev"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675317816,"creation_date":1675317816,"answer_id":75319239,"question_id":75319202,"body_markdown":"Try JDK version 1.9 or higher.\r\nIf class files has version 62.0,then least JDK 9 installed on system to be able to compile them","title":"class file has wrong version 62.0, should be 57.0 - While building Jar","body":"<p>Try JDK version 1.9 or higher.\nIf class files has version 62.0,then least JDK 9 installed on system to be able to compile them</p>\n"},{"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675326273,"creation_date":1675326273,"answer_id":75320364,"question_id":75319202,"body_markdown":"I solved this problem, by just reinstalling my JDK. If you&#39;re using IntelliJ, just head to the project settings and click download in the JDK dropdown menu.\r\n\r\nI also solved this problem on my Ubuntu 20.04 machine by running `sudo apt install openjdk-13-jdk`, which installs the jdk and\r\n`sudo update-alternatives --config java`, which updates the index of the newest jdk (i think).\r\n\r\nIf I understood you wrongly with the version needed, just adjust the number behind `openjdk-` to whatever version you need.\r\n\r\n[All versions to their corresponding class file versions](https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers)","title":"class file has wrong version 62.0, should be 57.0 - While building Jar","body":"<p>I solved this problem, by just reinstalling my JDK. If you're using IntelliJ, just head to the project settings and click download in the JDK dropdown menu.</p>\n<p>I also solved this problem on my Ubuntu 20.04 machine by running <code>sudo apt install openjdk-13-jdk</code>, which installs the jdk and\n<code>sudo update-alternatives --config java</code>, which updates the index of the newest jdk (i think).</p>\n<p>If I understood you wrongly with the version needed, just adjust the number behind <code>openjdk-</code> to whatever version you need.</p>\n<p><a href=\"https://stackoverflow.com/questions/9170832/list-of-java-class-file-format-major-version-numbers\">All versions to their corresponding class file versions</a></p>\n"}],"owner":{"account_id":65286,"reputation":2157,"user_id":192252,"accept_rate":86,"display_name":"Shaitender Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":391,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1675326273,"creation_date":1675317486,"question_id":75319202,"body_markdown":"I have downloaded Java code from GitHub and am trying to configure or build my changes into a Java package. But I&#39;m getting the below error. I&#39;m not sure what version of Java I need to use to build this project. Any pointers or suggestions would be really helpful.\r\n\r\n    error: cannot access Copier\r\n    import com.example.records.core.Copier;\r\n                                        ^\r\n      bad class file: /home/user957/.gradle/caches/modules-2/files-2.1/com.example.streaming/streaming-core/v1.36.1/758f1477d776e3273c5397d2d5d7e19b5fa46326/streaming-core-v1.36.1-sdk.jar(/com/example/records/core/Copier.class)\r\n        class file has wrong version 62.0, should be 57.0\r\n        Please remove or make sure it appears in the correct subdirectory of the classpath.\r\n\r\nmySystem JDK version\r\n\r\n    java -version\r\n    openjdk version &amp;quot;18.0.2.1&amp;quot; 2022-08-18\r\n    OpenJDK Runtime Environment Temurin-18.0.2.1+1 (build 18.0.2.1+1)\r\n    OpenJDK 64-Bit Server VM Temurin-18.0.2.1+1 (build 18.0.2.1+1, mixed mode, sharing)\r\n\r\n","title":"class file has wrong version 62.0, should be 57.0 - While building Jar","body":"<p>I have downloaded Java code from GitHub and am trying to configure or build my changes into a Java package. But I'm getting the below error. I'm not sure what version of Java I need to use to build this project. Any pointers or suggestions would be really helpful.</p>\n<pre><code>error: cannot access Copier\nimport com.example.records.core.Copier;\n                                    ^\n  bad class file: /home/user957/.gradle/caches/modules-2/files-2.1/com.example.streaming/streaming-core/v1.36.1/758f1477d776e3273c5397d2d5d7e19b5fa46326/streaming-core-v1.36.1-sdk.jar(/com/example/records/core/Copier.class)\n    class file has wrong version 62.0, should be 57.0\n    Please remove or make sure it appears in the correct subdirectory of the classpath.\n</code></pre>\n<p>mySystem JDK version</p>\n<pre><code>java -version\nopenjdk version &amp;quot;18.0.2.1&amp;quot; 2022-08-18\nOpenJDK Runtime Environment Temurin-18.0.2.1+1 (build 18.0.2.1+1)\nOpenJDK 64-Bit Server VM Temurin-18.0.2.1+1 (build 18.0.2.1+1, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","android","android-webview"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675173828,"post_id":75297849,"comment_id":132868407,"body_markdown":"`i figured out that response.getData().getDataString() does not return anything when using the camera to capture a picture` Indeed. You should only check if the picture is taken. Then use `File photoFile` to get your image file. To do so it should be declared directly in your activity..","body":"<code>i figured out that response.getData().getDataString() does not return anything when using the camera to capture a picture</code> Indeed. You should only check if the picture is taken. Then use <code>File photoFile</code> to get your image file. To do so it should be declared directly in your activity.."}],"answers":[{"tags":[],"owner":{"account_id":21190041,"reputation":43,"user_id":15582694,"display_name":"Gerben Mol"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675325956,"creation_date":1675325956,"answer_id":75320318,"question_id":75297849,"body_markdown":"I solved the problem by replacing \r\n```\r\nUri.fromfile(photoFile)\r\n```\r\nwith \r\n```\r\nFileProvider.getUriForFile(MainActivity.this, BuildConfig.APPLICATION_ID, photoFile) \r\n```\r\nthis creates a url tot he taken image in the same way as when you open a image from the file explorer","title":"uploading foto&#39;s with camera does not work in webView android","body":"<p>I solved the problem by replacing</p>\n<pre><code>Uri.fromfile(photoFile)\n</code></pre>\n<p>with</p>\n<pre><code>FileProvider.getUriForFile(MainActivity.this, BuildConfig.APPLICATION_ID, photoFile) \n</code></pre>\n<p>this creates a url tot he taken image in the same way as when you open a image from the file explorer</p>\n"}],"owner":{"account_id":21190041,"reputation":43,"user_id":15582694,"display_name":"Gerben Mol"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75320318,"answer_count":1,"score":0,"last_activity_date":1675325956,"creation_date":1675171429,"question_id":75297849,"body_markdown":"I am trying to create a webView for my web application in which i also can upload pictures using camera, i get the option to choose between camera or file manager and the file manager works perfect. With the camera option it opens the camera but when i then click on capture and send it does not return anything and does not load the img into the input field.\r\n\r\nAfter doing some research i figured out that response.getData().getDataString() does not return anything when using the camera to capture a picture but does return something when using the file explorer to send a picture\r\n\r\nHere is my MainActivity.java\r\n```\r\npackage com.webview.android;\r\n\r\nimport androidx.activity.result.ActivityResult;\r\nimport androidx.activity.result.ActivityResultCallback;\r\nimport androidx.activity.result.ActivityResultLauncher;\r\nimport androidx.activity.result.contract.ActivityResultContracts;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.provider.MediaStore;\r\nimport android.util.Log;\r\nimport android.webkit.PermissionRequest;\r\nimport android.webkit.ValueCallback;\r\nimport android.webkit.WebChromeClient;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\nimport android.widget.Toast;\r\n\r\nimport com.karan.churi.PermissionManager.PermissionManager;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\nprivate WebView webView;\r\nPermissionManager permissionManager;\r\n\r\n    private static final String TAG = MainActivity.class.getSimpleName();\r\n    private String mCM;\r\n    private ValueCallback&lt;Uri&gt; mUM;\r\n    private ValueCallback&lt;Uri[]&gt; mUMA;\r\n    \r\n    private ActivityResultLauncher&lt;Intent&gt; imgFinished  = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @Override\r\n                public void onActivityResult(ActivityResult response) {\r\n                    if (Build.VERSION.SDK_INT &gt;= 21) {\r\n                        Uri[] results = null;\r\n                        //Check if response is positive\r\n                        if (response.getResultCode() == Activity.RESULT_OK) {\r\n                            if (null == mUMA) {\r\n                                return;\r\n                            }\r\n                            if (response.getData() == null) {\r\n                                //Capture Photo if no image available\r\n                                if (mCM != null) {\r\n                                    results = new Uri[]{Uri.parse(mCM)};\r\n                                }\r\n                            } else {\r\n                                Log.e(TAG, &quot;TEST5&quot;);\r\n                                String dataString = response.getData().getDataString();\r\n                                Log.e(TAG, String.valueOf(response.getData().getDataString()));\r\n                                if (dataString != null) {\r\n                                    Log.e(TAG, &quot;TEST6&quot;);\r\n                                    results = new Uri[]{Uri.parse(dataString)};\r\n                                }\r\n                            }\r\n                        }\r\n                        mUMA.onReceiveValue(results);\r\n                        mUMA = null;\r\n                    } else {\r\n                        if (null == mUM) return;\r\n                        Uri result = response == null || response.getResultCode() != RESULT_OK ? null : response.getData().getData();\r\n                        mUM.onReceiveValue(result);\r\n                        mUM = null;\r\n                    }\r\n                }\r\n            }\r\n    );\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    \r\n        webView = findViewById(R.id.webView);\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.loadUrl(&quot;https://hbwfc-acc.9knots.nl/app&quot;);\r\n        WebSettings MyWebviewSettings = webView.getSettings();\r\n        MyWebviewSettings.setAllowFileAccessFromFileURLs(true);\r\n        MyWebviewSettings.setAllowUniversalAccessFromFileURLs(true);\r\n        MyWebviewSettings.setJavaScriptCanOpenWindowsAutomatically(true);\r\n        MyWebviewSettings.setJavaScriptEnabled(true);\r\n        MyWebviewSettings.setDomStorageEnabled(true);\r\n        MyWebviewSettings.setJavaScriptCanOpenWindowsAutomatically(true);\r\n        MyWebviewSettings.setBuiltInZoomControls(true);\r\n        MyWebviewSettings.setAllowFileAccess(true);\r\n        MyWebviewSettings.setSupportZoom(true);\r\n        MyWebviewSettings.setAllowContentAccess(true);\r\n        MyWebviewSettings.setMediaPlaybackRequiresUserGesture(false);\r\n        webView.setWebChromeClient(new WebChromeClient() {\r\n            @Override\r\n            public void onPermissionRequest(final PermissionRequest request) {\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n                    request.grant(request.getResources());\r\n                }\r\n            }\r\n    \r\n            //For Android 3.0+\r\n            public void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg){\r\n                mUM = uploadMsg;\r\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\r\n                i.addCategory(Intent.CATEGORY_OPENABLE);\r\n                i.setType(&quot;*/*&quot;);\r\n                imgFinished.launch(Intent.createChooser(i,&quot;File Chooser&quot;));\r\n            }\r\n            // For Android 3.0+, above method not supported in some android 3+ versions, in such case we use this\r\n            public void openFileChooser(ValueCallback uploadMsg, String acceptType){\r\n                mUM = uploadMsg;\r\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\r\n                i.addCategory(Intent.CATEGORY_OPENABLE);\r\n                i.setType(&quot;*/*&quot;);\r\n                imgFinished.launch(Intent.createChooser(i, &quot;File Browser&quot;));\r\n            }\r\n            //For Android 4.1+\r\n            public void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg, String acceptType, String capture){\r\n                mUM = uploadMsg;\r\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\r\n                i.addCategory(Intent.CATEGORY_OPENABLE);\r\n                i.setType(&quot;*/*&quot;);\r\n                imgFinished.launch(Intent.createChooser(i, &quot;File Chooser&quot;));\r\n            }\r\n            //For Android 5.0+\r\n            public boolean onShowFileChooser(\r\n                    WebView webView, ValueCallback&lt;Uri[]&gt; filePathCallback,\r\n                    WebChromeClient.FileChooserParams fileChooserParams){\r\n                if(mUMA != null){\r\n                    mUMA.onReceiveValue(null);\r\n                }\r\n                mUMA = filePathCallback;\r\n                Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                if(takePictureIntent.resolveActivity(MainActivity.this.getPackageManager()) != null){\r\n                    File photoFile = null;\r\n                    try{\r\n                        photoFile = createImageFile();\r\n                        takePictureIntent.putExtra(&quot;PhotoPath&quot;, mCM);\r\n                    }catch(IOException ex){\r\n                        Log.e(TAG, &quot;Image file creation failed&quot;, ex);\r\n                    }\r\n                    if(photoFile != null){\r\n                        mCM = &quot;file:&quot; + photoFile.getAbsolutePath();\r\n                        takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(photoFile));\r\n                    }else{\r\n                        takePictureIntent = null;\r\n                    }\r\n                }\r\n                Intent contentSelectionIntent = new Intent(Intent.ACTION_GET_CONTENT);\r\n                contentSelectionIntent.addCategory(Intent.CATEGORY_OPENABLE);\r\n                contentSelectionIntent.setType(&quot;*/*&quot;);\r\n                Intent[] intentArray;\r\n                if(takePictureIntent != null){\r\n                    intentArray = new Intent[]{takePictureIntent};\r\n                }else{\r\n                    intentArray = new Intent[0];\r\n                }\r\n    \r\n                Intent chooserIntent = new Intent(Intent.ACTION_CHOOSER);\r\n                chooserIntent.putExtra(Intent.EXTRA_INTENT, contentSelectionIntent);\r\n                chooserIntent.putExtra(Intent.EXTRA_TITLE, &quot;Image Chooser&quot;);\r\n                chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, intentArray);\r\n                imgFinished.launch(chooserIntent);\r\n                return true;\r\n            }\r\n        });\r\n        webView.setWebViewClient(new WebViewClient());\r\n        webView.setWebContentsDebuggingEnabled(true);\r\n        permissionManager = new PermissionManager() {};\r\n        permissionManager.checkAndRequestPermissions(this);\r\n    }\r\n    public class Callback extends WebViewClient{\r\n        public void onReceivedError(WebView view, int errorCode, String description, String failingUrl){\r\n            Toast.makeText(getApplicationContext(), &quot;Failed loading app!&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n    // Create an image file\r\n    private File createImageFile() throws IOException{\r\n        @SuppressLint(&quot;SimpleDateFormat&quot;) String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n        String imageFileName = &quot;img_&quot;+timeStamp+&quot;_&quot;;\r\n        File storageDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\r\n        File tempFile = File.createTempFile(imageFileName,&quot;.jpg&quot;,storageDir);\r\n        return tempFile;\r\n    }\r\n\r\n```\r\nhere is my manifest\r\n```\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.webview.android&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot;/&gt;\r\n    &lt;queries&gt;\r\n        &lt;intent&gt;\r\n            &lt;action android:name=&quot;android.media.action.IMAGE_CAPTURE&quot; /&gt;\r\n        &lt;/intent&gt;\r\n    &lt;/queries&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.AppCompat.DayNight&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;${applicationId}&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot;/&gt;\r\n        &lt;/provider&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nI expect it loads a img file into the input field","title":"uploading foto&#39;s with camera does not work in webView android","body":"<p>I am trying to create a webView for my web application in which i also can upload pictures using camera, i get the option to choose between camera or file manager and the file manager works perfect. With the camera option it opens the camera but when i then click on capture and send it does not return anything and does not load the img into the input field.</p>\n<p>After doing some research i figured out that response.getData().getDataString() does not return anything when using the camera to capture a picture but does return something when using the file explorer to send a picture</p>\n<p>Here is my MainActivity.java</p>\n<pre><code>package com.webview.android;\n\nimport androidx.activity.result.ActivityResult;\nimport androidx.activity.result.ActivityResultCallback;\nimport androidx.activity.result.ActivityResultLauncher;\nimport androidx.activity.result.contract.ActivityResultContracts;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.provider.MediaStore;\nimport android.util.Log;\nimport android.webkit.PermissionRequest;\nimport android.webkit.ValueCallback;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.Toast;\n\nimport com.karan.churi.PermissionManager.PermissionManager;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class MainActivity extends AppCompatActivity {\nprivate WebView webView;\nPermissionManager permissionManager;\n\n    private static final String TAG = MainActivity.class.getSimpleName();\n    private String mCM;\n    private ValueCallback&lt;Uri&gt; mUM;\n    private ValueCallback&lt;Uri[]&gt; mUMA;\n    \n    private ActivityResultLauncher&lt;Intent&gt; imgFinished  = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @Override\n                public void onActivityResult(ActivityResult response) {\n                    if (Build.VERSION.SDK_INT &gt;= 21) {\n                        Uri[] results = null;\n                        //Check if response is positive\n                        if (response.getResultCode() == Activity.RESULT_OK) {\n                            if (null == mUMA) {\n                                return;\n                            }\n                            if (response.getData() == null) {\n                                //Capture Photo if no image available\n                                if (mCM != null) {\n                                    results = new Uri[]{Uri.parse(mCM)};\n                                }\n                            } else {\n                                Log.e(TAG, &quot;TEST5&quot;);\n                                String dataString = response.getData().getDataString();\n                                Log.e(TAG, String.valueOf(response.getData().getDataString()));\n                                if (dataString != null) {\n                                    Log.e(TAG, &quot;TEST6&quot;);\n                                    results = new Uri[]{Uri.parse(dataString)};\n                                }\n                            }\n                        }\n                        mUMA.onReceiveValue(results);\n                        mUMA = null;\n                    } else {\n                        if (null == mUM) return;\n                        Uri result = response == null || response.getResultCode() != RESULT_OK ? null : response.getData().getData();\n                        mUM.onReceiveValue(result);\n                        mUM = null;\n                    }\n                }\n            }\n    );\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    \n        webView = findViewById(R.id.webView);\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.loadUrl(&quot;https://hbwfc-acc.9knots.nl/app&quot;);\n        WebSettings MyWebviewSettings = webView.getSettings();\n        MyWebviewSettings.setAllowFileAccessFromFileURLs(true);\n        MyWebviewSettings.setAllowUniversalAccessFromFileURLs(true);\n        MyWebviewSettings.setJavaScriptCanOpenWindowsAutomatically(true);\n        MyWebviewSettings.setJavaScriptEnabled(true);\n        MyWebviewSettings.setDomStorageEnabled(true);\n        MyWebviewSettings.setJavaScriptCanOpenWindowsAutomatically(true);\n        MyWebviewSettings.setBuiltInZoomControls(true);\n        MyWebviewSettings.setAllowFileAccess(true);\n        MyWebviewSettings.setSupportZoom(true);\n        MyWebviewSettings.setAllowContentAccess(true);\n        MyWebviewSettings.setMediaPlaybackRequiresUserGesture(false);\n        webView.setWebChromeClient(new WebChromeClient() {\n            @Override\n            public void onPermissionRequest(final PermissionRequest request) {\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n                    request.grant(request.getResources());\n                }\n            }\n    \n            //For Android 3.0+\n            public void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg){\n                mUM = uploadMsg;\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\n                i.addCategory(Intent.CATEGORY_OPENABLE);\n                i.setType(&quot;*/*&quot;);\n                imgFinished.launch(Intent.createChooser(i,&quot;File Chooser&quot;));\n            }\n            // For Android 3.0+, above method not supported in some android 3+ versions, in such case we use this\n            public void openFileChooser(ValueCallback uploadMsg, String acceptType){\n                mUM = uploadMsg;\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\n                i.addCategory(Intent.CATEGORY_OPENABLE);\n                i.setType(&quot;*/*&quot;);\n                imgFinished.launch(Intent.createChooser(i, &quot;File Browser&quot;));\n            }\n            //For Android 4.1+\n            public void openFileChooser(ValueCallback&lt;Uri&gt; uploadMsg, String acceptType, String capture){\n                mUM = uploadMsg;\n                Intent i = new Intent(Intent.ACTION_GET_CONTENT);\n                i.addCategory(Intent.CATEGORY_OPENABLE);\n                i.setType(&quot;*/*&quot;);\n                imgFinished.launch(Intent.createChooser(i, &quot;File Chooser&quot;));\n            }\n            //For Android 5.0+\n            public boolean onShowFileChooser(\n                    WebView webView, ValueCallback&lt;Uri[]&gt; filePathCallback,\n                    WebChromeClient.FileChooserParams fileChooserParams){\n                if(mUMA != null){\n                    mUMA.onReceiveValue(null);\n                }\n                mUMA = filePathCallback;\n                Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                if(takePictureIntent.resolveActivity(MainActivity.this.getPackageManager()) != null){\n                    File photoFile = null;\n                    try{\n                        photoFile = createImageFile();\n                        takePictureIntent.putExtra(&quot;PhotoPath&quot;, mCM);\n                    }catch(IOException ex){\n                        Log.e(TAG, &quot;Image file creation failed&quot;, ex);\n                    }\n                    if(photoFile != null){\n                        mCM = &quot;file:&quot; + photoFile.getAbsolutePath();\n                        takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(photoFile));\n                    }else{\n                        takePictureIntent = null;\n                    }\n                }\n                Intent contentSelectionIntent = new Intent(Intent.ACTION_GET_CONTENT);\n                contentSelectionIntent.addCategory(Intent.CATEGORY_OPENABLE);\n                contentSelectionIntent.setType(&quot;*/*&quot;);\n                Intent[] intentArray;\n                if(takePictureIntent != null){\n                    intentArray = new Intent[]{takePictureIntent};\n                }else{\n                    intentArray = new Intent[0];\n                }\n    \n                Intent chooserIntent = new Intent(Intent.ACTION_CHOOSER);\n                chooserIntent.putExtra(Intent.EXTRA_INTENT, contentSelectionIntent);\n                chooserIntent.putExtra(Intent.EXTRA_TITLE, &quot;Image Chooser&quot;);\n                chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, intentArray);\n                imgFinished.launch(chooserIntent);\n                return true;\n            }\n        });\n        webView.setWebViewClient(new WebViewClient());\n        webView.setWebContentsDebuggingEnabled(true);\n        permissionManager = new PermissionManager() {};\n        permissionManager.checkAndRequestPermissions(this);\n    }\n    public class Callback extends WebViewClient{\n        public void onReceivedError(WebView view, int errorCode, String description, String failingUrl){\n            Toast.makeText(getApplicationContext(), &quot;Failed loading app!&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n    // Create an image file\n    private File createImageFile() throws IOException{\n        @SuppressLint(&quot;SimpleDateFormat&quot;) String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n        String imageFileName = &quot;img_&quot;+timeStamp+&quot;_&quot;;\n        File storageDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\n        File tempFile = File.createTempFile(imageFileName,&quot;.jpg&quot;,storageDir);\n        return tempFile;\n    }\n\n</code></pre>\n<p>here is my manifest</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.webview.android&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot;/&gt;\n    &lt;queries&gt;\n        &lt;intent&gt;\n            &lt;action android:name=&quot;android.media.action.IMAGE_CAPTURE&quot; /&gt;\n        &lt;/intent&gt;\n    &lt;/queries&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:theme=&quot;@style/Theme.AppCompat.DayNight&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;${applicationId}&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/provider_paths&quot;/&gt;\n        &lt;/provider&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>I expect it loads a img file into the input field</p>\n"},{"tags":["java","angular","spring","http","cors"],"comments":[{"owner":{"account_id":9628370,"reputation":3463,"user_id":7147233,"accept_rate":78,"display_name":"WhatsThePoint"},"score":0,"creation_date":1675421829,"post_id":75320175,"comment_id":132930178,"body_markdown":"when you specify your origin Y in `.allowedOrigins()` are you including the port number as well?","body":"when you specify your origin Y in <code>.allowedOrigins()</code> are you including the port number as well?"},{"owner":{"account_id":9628370,"reputation":3463,"user_id":7147233,"accept_rate":78,"display_name":"WhatsThePoint"},"score":0,"creation_date":1675421949,"post_id":75320175,"comment_id":132930218,"body_markdown":"is there a java equivalent of `.AllowCredentials()` that we have in c#?","body":"is there a java equivalent of <code>.AllowCredentials()</code> that we have in c#?"},{"owner":{"account_id":27676115,"reputation":1,"user_id":21125897,"display_name":"Alessia"},"score":0,"creation_date":1675686868,"post_id":75320175,"comment_id":132976055,"body_markdown":"I tried to include the port number and insert allowCredentials but it still doesnt work","body":"I tried to include the port number and insert allowCredentials but it still doesnt work"}],"owner":{"account_id":27676115,"reputation":1,"user_id":21125897,"display_name":"Alessia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675325740,"creation_date":1675325015,"question_id":75320175,"body_markdown":"I&#39;ve made an angular application with typescript code that uses a java spring web service, I&#39;m having trouble with CORS.  \r\n\r\nThe first http request gets an access token from the web server to use in all following requests, but all following requests are refused with this error:\r\n\r\n&gt;Access to XMLHttpRequest at X from origin Y has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.  \r\n \r\nX is the URL resource of my http method  \r\nY is the origin of the request  \r\n\r\n\r\n**API GATEWAY MODULE**\r\n\r\n```java\r\npackage it.sitgeo.apigateway.controller;\r\n\r\nimport it.sitgeo.apigateway.exception.LoginException;\r\nimport it.sitgeo.apigateway.model.AppUser;\r\nimport it.sitgeo.apigateway.model.LoginForm;\r\nimport it.sitgeo.apigateway.service.AppUserService;\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport javax.validation.Valid;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/sitgeo&quot;)\r\n@RequiredArgsConstructor\r\n@CrossOrigin(allowedHeaders = &quot;*&quot;)\r\npublic class AppUserController {\r\n\r\n    private final AppUserService service;\r\n\r\n    @PostMapping(path = &quot;/login&quot;, consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE,\r\n    MediaType.MULTIPART_FORM_DATA_VALUE})\r\n    public ResponseEntity&lt;String&gt; login (@Valid @ModelAttribute LoginForm loginForm) throws LoginException   {    \r\n        String access_token = service.login(loginForm.getUsername(), loginForm.getPassword());\r\n        if(access_token == null){ \r\n            throw new LoginException(&quot;Le credenziali inserite non sono corrette&quot;);\r\n        }\r\n        return ResponseEntity.ok(access_token);\r\n    }\r\n\r\n```\r\n-----------------------------------------------------------------------------------------------------------\r\n**PED MODULE**\r\n\r\n```java\r\npackage it.sitgeo.ped.Controllers;\r\n\r\nimport it.sitgeo.ped.Entities.*;\r\nimport it.sitgeo.ped.Repositories.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.mail.MessagingException;\r\nimport java.io.IOException;\r\n\r\n@Slf4j\r\n@RestController\r\n@RequestMapping(&quot;/sitgeo/PED&quot;)\r\n@AllArgsConstructor\r\n@CrossOrigin(origins = {&quot;http://localhost&quot;,&quot;Y&quot;} ,allowedHeaders = &quot;*&quot;)\r\npublic class PEDController {\r\n\r\n    final EmailConfiguration emailConfiguration;\r\n    private  final PraticaRepository praticaRepository;\r\n    private final ComuneRepository comuneRepository;\r\n\r\n    private final TitolareRepository titolareRepository;\r\n    private final PdfRepository pdfRepository;\r\n\r\n    private final ProcuratoreRepository procuratoreRepository;\r\n\r\n    private final DomicilioElettronicoRepository domicilioElettronicoRepository;\r\n\r\n    private final LocalizzazioneRepository localizzazioneRepository;\r\n\r\n    private final CatastoRepository catastoRepository;\r\n\r\n    private final TecnicoRepository tecnicoRepository;\r\n\r\n    private final SoggettiTitolariRepository soggettiTitolariRepository;\r\n\r\n    private final StatoUnitaRepository statoUnitaRepository;\r\n\r\n    private final TipologiaRepository tipologiaRepository;\r\n\r\n  \r\n\r\n   //@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\r\n\r\n    @GetMapping(&quot;/getCOMUNI/{provincia}&quot;)\r\n    public ResponseEntity&lt;?&gt; getComuni(@PathVariable String provincia) {\r\n        log.info(&quot;getCOMUNI {}&quot;, provincia);\r\n        ResponseEntity&lt;?&gt; response;\r\n        try {\r\n            response = new ResponseEntity&lt;String[]&gt;(comuneRepository.searchComuneByProvincia(provincia),\r\nHttpStatus.OK);\r\n        } catch (Exception e) {\r\n            response = new ResponseEntity&lt;String[]&gt;(HttpStatus.BAD_REQUEST);\r\n        }\r\n        System.out.println(response.getBody());\r\n        return response;\r\n    }\r\n\r\n```\r\n------------------------------------------------------------------------------------------------------\r\n*PED MODULE*\r\n\r\n```java\r\npackage it.sitgeo.ped.config;\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\npublic class CORSConfig implements WebMvcConfigurer {\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n                .allowedOrigins(&quot;Y&quot;, &quot;http://localhost&quot;)\r\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;HEAD&quot;,&quot;OPTIONS&quot;)\r\n                .allowedHeaders(&quot;*&quot;);\r\n    }\r\n}\r\n\r\n```\r\nI&#39;ve tried this http method using postman and it works as intended returning a JSON. ","title":"&quot;Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.&quot;","body":"<p>I've made an angular application with typescript code that uses a java spring web service, I'm having trouble with CORS.</p>\n<p>The first http request gets an access token from the web server to use in all following requests, but all following requests are refused with this error:</p>\n<blockquote>\n<p>Access to XMLHttpRequest at X from origin Y has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.</p>\n</blockquote>\n<p>X is the URL resource of my http method<br />\nY is the origin of the request</p>\n<p><strong>API GATEWAY MODULE</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package it.sitgeo.apigateway.controller;\n\nimport it.sitgeo.apigateway.exception.LoginException;\nimport it.sitgeo.apigateway.model.AppUser;\nimport it.sitgeo.apigateway.model.LoginForm;\nimport it.sitgeo.apigateway.service.AppUserService;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\nimport javax.validation.Valid;\n\n@RestController\n@RequestMapping(&quot;/sitgeo&quot;)\n@RequiredArgsConstructor\n@CrossOrigin(allowedHeaders = &quot;*&quot;)\npublic class AppUserController {\n\n    private final AppUserService service;\n\n    @PostMapping(path = &quot;/login&quot;, consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE,\n    MediaType.MULTIPART_FORM_DATA_VALUE})\n    public ResponseEntity&lt;String&gt; login (@Valid @ModelAttribute LoginForm loginForm) throws LoginException   {    \n        String access_token = service.login(loginForm.getUsername(), loginForm.getPassword());\n        if(access_token == null){ \n            throw new LoginException(&quot;Le credenziali inserite non sono corrette&quot;);\n        }\n        return ResponseEntity.ok(access_token);\n    }\n\n</code></pre>\n<hr />\n<p><strong>PED MODULE</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package it.sitgeo.ped.Controllers;\n\nimport it.sitgeo.ped.Entities.*;\nimport it.sitgeo.ped.Repositories.*;\nimport lombok.AllArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.mail.MessagingException;\nimport java.io.IOException;\n\n@Slf4j\n@RestController\n@RequestMapping(&quot;/sitgeo/PED&quot;)\n@AllArgsConstructor\n@CrossOrigin(origins = {&quot;http://localhost&quot;,&quot;Y&quot;} ,allowedHeaders = &quot;*&quot;)\npublic class PEDController {\n\n    final EmailConfiguration emailConfiguration;\n    private  final PraticaRepository praticaRepository;\n    private final ComuneRepository comuneRepository;\n\n    private final TitolareRepository titolareRepository;\n    private final PdfRepository pdfRepository;\n\n    private final ProcuratoreRepository procuratoreRepository;\n\n    private final DomicilioElettronicoRepository domicilioElettronicoRepository;\n\n    private final LocalizzazioneRepository localizzazioneRepository;\n\n    private final CatastoRepository catastoRepository;\n\n    private final TecnicoRepository tecnicoRepository;\n\n    private final SoggettiTitolariRepository soggettiTitolariRepository;\n\n    private final StatoUnitaRepository statoUnitaRepository;\n\n    private final TipologiaRepository tipologiaRepository;\n\n  \n\n   //@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\n\n    @GetMapping(&quot;/getCOMUNI/{provincia}&quot;)\n    public ResponseEntity&lt;?&gt; getComuni(@PathVariable String provincia) {\n        log.info(&quot;getCOMUNI {}&quot;, provincia);\n        ResponseEntity&lt;?&gt; response;\n        try {\n            response = new ResponseEntity&lt;String[]&gt;(comuneRepository.searchComuneByProvincia(provincia),\nHttpStatus.OK);\n        } catch (Exception e) {\n            response = new ResponseEntity&lt;String[]&gt;(HttpStatus.BAD_REQUEST);\n        }\n        System.out.println(response.getBody());\n        return response;\n    }\n\n</code></pre>\n<hr />\n<p><em>PED MODULE</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>package it.sitgeo.ped.config;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class CORSConfig implements WebMvcConfigurer {\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(&quot;Y&quot;, &quot;http://localhost&quot;)\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;HEAD&quot;,&quot;OPTIONS&quot;)\n                .allowedHeaders(&quot;*&quot;);\n    }\n}\n\n</code></pre>\n<p>I've tried this http method using postman and it works as intended returning a JSON.</p>\n"},{"tags":["java","gradle","annotations","lint","suppress-warnings"],"owner":{"account_id":345487,"reputation":5160,"user_id":678448,"accept_rate":60,"display_name":"Thommy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675325734,"creation_date":1675325734,"question_id":75320281,"body_markdown":"I have some false positives in Lint because it does not recognzie a method is used in databinding and marks it as &quot;can be private&quot;. So I have to add `@Suppress(&quot;MemberVisibilityCanBePrivate&quot;)` and a comment to each method.\r\n\r\nTo Save time and also have better findability I would love to have something like a custom annotation like `@PublicBecauseDataBinding` that also tells the linter to act like supress MemberVisibilityCanBePrivate while being readable for humans. Is this possible?","title":"Custom Annotation with Lint Suppress and Reason","body":"<p>I have some false positives in Lint because it does not recognzie a method is used in databinding and marks it as &quot;can be private&quot;. So I have to add <code>@Suppress(&quot;MemberVisibilityCanBePrivate&quot;)</code> and a comment to each method.</p>\n<p>To Save time and also have better findability I would love to have something like a custom annotation like <code>@PublicBecauseDataBinding</code> that also tells the linter to act like supress MemberVisibilityCanBePrivate while being readable for humans. Is this possible?</p>\n"},{"tags":["java","multithreading","java-threads"],"answers":[{"tags":[],"owner":{"account_id":3299519,"reputation":776,"user_id":2776012,"accept_rate":0,"display_name":"Shivayan Mukherjee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675261622,"creation_date":1675261622,"answer_id":75311691,"question_id":75311126,"body_markdown":"Checking the condition **while(!executor.isTerminated())** does the job. It ensures the next statements are executed only after the executor has done its job.","title":"ScheduledExecutorService not working as expected","body":"<p>Checking the condition <strong>while(!executor.isTerminated())</strong> does the job. It ensures the next statements are executed only after the executor has done its job.</p>\n"},{"tags":[],"owner":{"account_id":7247195,"reputation":742,"user_id":5528725,"accept_rate":60,"display_name":"Thomas W."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675325661,"creation_date":1675325661,"answer_id":75320274,"question_id":75311126,"body_markdown":"The reason is in the nature of multi-tasking/threading. The `ScheduledExecutorService` starts a new thread that executes your `Runnable`. Independently from that your main program continues its work in its own/original thread.\r\n\r\nBoth threads, the main and the runnable, will be processed in parallel.\r\n\r\nIn your case, the `System.out.println(&quot;completed&quot;);` is faster in the execution then the `Runnable` that reads a file.\r\n\r\nNow it depends on what you want to achieve. As you wrote already you can block your main program, e.g. with a loop and wait for the executor to finish all execution. But this is not what you usually do because then you could just execute the code in the same thread.\r\n\r\nTypically you use multi-threading to execute code in parallel or to not block a task/thread, e.g. calling an web service and continue to do some other stuff.\r\n","title":"ScheduledExecutorService not working as expected","body":"<p>The reason is in the nature of multi-tasking/threading. The <code>ScheduledExecutorService</code> starts a new thread that executes your <code>Runnable</code>. Independently from that your main program continues its work in its own/original thread.</p>\n<p>Both threads, the main and the runnable, will be processed in parallel.</p>\n<p>In your case, the <code>System.out.println(&quot;completed&quot;);</code> is faster in the execution then the <code>Runnable</code> that reads a file.</p>\n<p>Now it depends on what you want to achieve. As you wrote already you can block your main program, e.g. with a loop and wait for the executor to finish all execution. But this is not what you usually do because then you could just execute the code in the same thread.</p>\n<p>Typically you use multi-threading to execute code in parallel or to not block a task/thread, e.g. calling an web service and continue to do some other stuff.</p>\n"}],"owner":{"account_id":3299519,"reputation":776,"user_id":2776012,"accept_rate":0,"display_name":"Shivayan Mukherjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675325661,"creation_date":1675259221,"question_id":75311126,"body_markdown":"On executing the following code, the statement **System.out.println(&quot;completed&quot;);** gets executed before the executor even though delay is set to 0. Why is it so? How can the order be maintained here? \r\n```\r\npublic class TestMyClass {\r\n\tprivate static int count = 0;\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\tScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();\r\n\r\n\t\tRunnable periodicTask = () -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tList&lt;String&gt; lines = Files.readAllLines(new File(&quot;E:\\\\MyFile.log&quot;).toPath());\r\n\t\t\t\tString key = &quot;FIND ME&quot;;\r\n\t\t\t\tSystem.out.println(&quot;text not found&quot;);\r\n\t\t\t\tfor (String line : lines) {\r\n\t\t\t\t\tif (line.contains(key)) {\r\n\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\tSystem.out.println(&quot;found text ...&quot; + count);\r\n\t\t\t\t\t\texecutor.shutdown();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\texecutor.scheduleAtFixedRate(periodicTask, 0, 5, TimeUnit.SECONDS);\r\n\t\tSystem.out.println(&quot;completed&quot;);\r\n\t}\r\n}\r\n```","title":"ScheduledExecutorService not working as expected","body":"<p>On executing the following code, the statement <strong>System.out.println(&quot;completed&quot;);</strong> gets executed before the executor even though delay is set to 0. Why is it so? How can the order be maintained here?</p>\n<pre><code>public class TestMyClass {\n    private static int count = 0;\n\n    public static void main(String args[]) {\n        ScheduledExecutorService executor = Executors.newSingleThreadScheduledExecutor();\n\n        Runnable periodicTask = () -&gt; {\n            try {\n                List&lt;String&gt; lines = Files.readAllLines(new File(&quot;E:\\\\MyFile.log&quot;).toPath());\n                String key = &quot;FIND ME&quot;;\n                System.out.println(&quot;text not found&quot;);\n                for (String line : lines) {\n                    if (line.contains(key)) {\n                        count++;\n                        System.out.println(&quot;found text ...&quot; + count);\n                        executor.shutdown();\n                    }\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        };\n\n        executor.scheduleAtFixedRate(periodicTask, 0, 5, TimeUnit.SECONDS);\n        System.out.println(&quot;completed&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","spring-webflux","minio"],"comments":[{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":3,"creation_date":1671625766,"post_id":74875058,"comment_id":132138305,"body_markdown":"You must not use any blocker method in the reactive environment. If you use some Mono or Flux you have to stay in the reactor context because they will be run when somebody subscribes to it.\nNow I can think of 3 solutions. I can answer more after work If no one else answers by then.","body":"You must not use any blocker method in the reactive environment. If you use some Mono or Flux you have to stay in the reactor context because they will be run when somebody subscribes to it. Now I can think of 3 solutions. I can answer more after work If no one else answers by then."},{"owner":{"account_id":14583346,"reputation":873,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"score":0,"creation_date":1672379472,"post_id":74875058,"comment_id":132278548,"body_markdown":"Where does JWT come from? Does the application create it? Is it created after logging in?","body":"Where does JWT come from? Does the application create it? Is it created after logging in?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1672397413,"post_id":74875058,"comment_id":132281963,"body_markdown":"@Elyorbek Ibrokhimov\nJWT comes from Keycloak server. This JWT created before application endpoint call and as I mentioned argument of  ```public boolean test(JwtAuthenticationToken token)``` is not null and I expected to have the same jwt token in ReactiveSecurityContextHolder","body":"@Elyorbek Ibrokhimov JWT comes from Keycloak server. This JWT created before application endpoint call and as I mentioned argument of  <code>public boolean test(JwtAuthenticationToken token)</code> is not null and I expected to have the same jwt token in ReactiveSecurityContextHolder"},{"owner":{"account_id":14583346,"reputation":873,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"score":0,"creation_date":1672402106,"post_id":74875058,"comment_id":132283053,"body_markdown":"What is still not clear to me is that you are trying to achieve something in a stateless way but security context is stateful. Token can expire, payload may change and etc. If you have fixed JWT token value, why not then just store it in a properties file and read it from there while creating a bean definition?","body":"What is still not clear to me is that you are trying to achieve something in a stateless way but security context is stateful. Token can expire, payload may change and etc. If you have fixed JWT token value, why not then just store it in a properties file and read it from there while creating a bean definition?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1672410851,"post_id":74875058,"comment_id":132285282,"body_markdown":"JWT token is  fixed within http request only. Different users can call our server with different JWT tokens.\n\n&quot;are trying to achieve something in a stateless way&quot; - could you please clarify this your phrase ?","body":"JWT token is  fixed within http request only. Different users can call our server with different JWT tokens.  &quot;are trying to achieve something in a stateless way&quot; - could you please clarify this your phrase ?"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1672679319,"post_id":74875058,"comment_id":132326290,"body_markdown":"You dont really need CompletableFuture. Blocking calls are not allowed on reactive schedulers and in case your code is blocking you need to execute in on another scheduler - boundedElastic https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking","body":"You dont really need CompletableFuture. Blocking calls are not allowed on reactive schedulers and in case your code is blocking you need to execute in on another scheduler - boundedElastic <a href=\"https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking\" rel=\"nofollow noreferrer\">projectreactor.io/docs/core/release/reference/&hellip;</a>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1672821755,"post_id":74875058,"comment_id":132357320,"body_markdown":"@Alex Could you please provide the whole answer ?\nWhat is expected to do with blockingWrapper  ?\nWill `blockingWrapper.block()` throw exception ?","body":"@Alex Could you please provide the whole answer ? What is expected to do with blockingWrapper  ? Will <code>blockingWrapper.block()</code> throw exception ?"}],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1671692303,"post_id":74883975,"comment_id":132154013,"body_markdown":"I will try this option to check if it works at all... looks really interesting but I am not sure that it is a good idea to create minioClient every time","body":"I will try this option to check if it works at all... looks really interesting but I am not sure that it is a good idea to create minioClient every time"},{"owner":{"account_id":14583346,"reputation":873,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"score":1,"creation_date":1671696064,"post_id":74883975,"comment_id":132154884,"body_markdown":"I don&#39;t have experience with minio. However, my understanding is `ReactiveSecurityContextHolder` is stateful that is, it holds the authenticated user info. If authentication the same for every request then singleton scope could be enoguh","body":"I don&#39;t have experience with minio. However, my understanding is <code>ReactiveSecurityContextHolder</code> is stateful that is, it holds the authenticated user info. If authentication the same for every request then singleton scope could be enoguh"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1671719101,"post_id":74883975,"comment_id":132161802,"body_markdown":"Than you. it works and  `@Scope(BeanDefinition.SCOPE_PROTOTYPE)` is redundant","body":"Than you. it works and  <code>@Scope(BeanDefinition.SCOPE_PROTOTYPE)</code> is redundant"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1671980945,"post_id":74883975,"comment_id":132203675,"body_markdown":"But unfortunately every time we call  `@GetMapping(&quot;/minio&quot;)` - new MinioClient is created but I would like to avoid it.","body":"But unfortunately every time we call  <code>@GetMapping(&quot;&#47;minio&quot;)</code> - new MinioClient is created but I would like to avoid it."},{"owner":{"account_id":7292020,"reputation":868,"user_id":5558106,"display_name":"Serg Vasylchak"},"score":0,"creation_date":1672145647,"post_id":74883975,"comment_id":132228733,"body_markdown":"It is, because you use jwt tokens, which are stateless by design - meaning you get a new security context with each request and always create a new minioClient. If I really needed to remain within same minioClient per user, I would create a bean with a `Map&lt;?, MinioClient&gt;` and access it in minioClient bean `.map(principal -&gt; minioClients.getOrDefault(principal.identifier(), createMinioClient())`. This doesn&#39;t look really fancy, though, and should cover the problems like concurrent modification or jwt expiration, but it would keep the minio clients stateful.","body":"It is, because you use jwt tokens, which are stateless by design - meaning you get a new security context with each request and always create a new minioClient. If I really needed to remain within same minioClient per user, I would create a bean with a <code>Map&lt;?, MinioClient&gt;</code> and access it in minioClient bean <code>.map(principal -&gt; minioClients.getOrDefault(principal.identifier(), createMinioClient())</code>. This doesn&#39;t look really fancy, though, and should cover the problems like concurrent modification or jwt expiration, but it would keep the minio clients stateful."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1672223690,"post_id":74883975,"comment_id":132244827,"body_markdown":"@Serg Vasylchak Could you please provide the whole answer ?","body":"@Serg Vasylchak Could you please provide the whole answer ?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673264061,"post_id":74883975,"comment_id":132451577,"body_markdown":"I also found the similar question here: https://stackoverflow.com/questions/70701792/how-do-i-extract-information-from-jwt-which-is-stored-in-reactivesecuritycontext","body":"I also found the similar question here: <a href=\"https://stackoverflow.com/questions/70701792/how-do-i-extract-information-from-jwt-which-is-stored-in-reactivesecuritycontext\" title=\"how do i extract information from jwt which is stored in reactivesecuritycontext\">stackoverflow.com/questions/70701792/&hellip;</a>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673357782,"post_id":74883975,"comment_id":132476703,"body_markdown":"@Serg Vasylchak I don&#39;t want to have single minioClient per user but single minioClient  per application instance!","body":"@Serg Vasylchak I don&#39;t want to have single minioClient per user but single minioClient  per application instance!"}],"tags":[],"owner":{"account_id":14583346,"reputation":873,"user_id":10533012,"display_name":"Elyorbek Ibrokhimov"},"comment_count":8,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1671681198,"creation_date":1671681198,"answer_id":74883975,"question_id":74875058,"body_markdown":"As [Numichi][1] stated in the comment you have to stay in the reactor context.\r\nOne option is to create a bean of type `Mono&lt;MinioClient&gt;`. \r\n\r\n```java\r\n    @Bean\r\n    @Scope(BeanDefinition.SCOPE_PROTOTYPE)\r\n    public Mono&lt;MinioClient&gt; reactiveMinio() {\r\n        return ReactiveSecurityContextHolder.getContext()\r\n                .map(securityContext -&gt;\r\n                        (Jwt)securityContext.getAuthentication().getPrincipal())\r\n                .map(jwt -&gt; MinioClient.builder()\r\n                        .region(&quot;someRegion&quot;)\r\n                        .endpoint(&quot;someEndpoint&quot;)\r\n                        .credentialsProvider(webIdentityProvider(jwt.token()))\r\n                        .build());\r\n    }\r\n\r\n    private WebIdentityProvider webIdentityProvider(String token) {\r\n        return new WebIdentityProvider(() -&gt; new Jwt(token, 1000),\r\n                &quot;stsEndpoint&quot;,\r\n                null,\r\n                null,\r\n                null,\r\n                null,\r\n                null);\r\n    }\r\n```\r\nI think bean scope should be prototype since `MinioClient` is bound to security context.\r\n\r\nHere is the sample usage of reactive `MinioClient`:\r\n```java\r\n\r\n@RestController\r\npublic class MinioTest {\r\n\r\n    private Mono&lt;MinioClient&gt; minioClient;\r\n\r\n    public MinioTest(Mono&lt;MinioClient&gt; minioClient) {\r\n        this.minioClient = minioClient;\r\n    }\r\n\r\n    @GetMapping(&quot;/minio&quot;)\r\n    public Mono&lt;Object&gt; client() {\r\n        return minioClient\r\n                .map(minio -&gt; {\r\n                    try {\r\n                        return minio.bucketExists(BucketExistsArgs\r\n                                .builder()\r\n                                .bucket(&quot;my-bucketname&quot;)\r\n                                .build());\r\n                    } catch (Exception e) {\r\n                        return new Exception(e);\r\n                    }\r\n                });\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n  [1]: https://stackoverflow.com/users/2625393/numichi","title":"How to get jwt token value in spring webflux? (to exchange it with Minio STS token)","body":"<p>As <a href=\"https://stackoverflow.com/users/2625393/numichi\">Numichi</a> stated in the comment you have to stay in the reactor context.\nOne option is to create a bean of type <code>Mono&lt;MinioClient&gt;</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    @Scope(BeanDefinition.SCOPE_PROTOTYPE)\n    public Mono&lt;MinioClient&gt; reactiveMinio() {\n        return ReactiveSecurityContextHolder.getContext()\n                .map(securityContext -&gt;\n                        (Jwt)securityContext.getAuthentication().getPrincipal())\n                .map(jwt -&gt; MinioClient.builder()\n                        .region(&quot;someRegion&quot;)\n                        .endpoint(&quot;someEndpoint&quot;)\n                        .credentialsProvider(webIdentityProvider(jwt.token()))\n                        .build());\n    }\n\n    private WebIdentityProvider webIdentityProvider(String token) {\n        return new WebIdentityProvider(() -&gt; new Jwt(token, 1000),\n                &quot;stsEndpoint&quot;,\n                null,\n                null,\n                null,\n                null,\n                null);\n    }\n</code></pre>\n<p>I think bean scope should be prototype since <code>MinioClient</code> is bound to security context.</p>\n<p>Here is the sample usage of reactive <code>MinioClient</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@RestController\npublic class MinioTest {\n\n    private Mono&lt;MinioClient&gt; minioClient;\n\n    public MinioTest(Mono&lt;MinioClient&gt; minioClient) {\n        this.minioClient = minioClient;\n    }\n\n    @GetMapping(&quot;/minio&quot;)\n    public Mono&lt;Object&gt; client() {\n        return minioClient\n                .map(minio -&gt; {\n                    try {\n                        return minio.bucketExists(BucketExistsArgs\n                                .builder()\n                                .bucket(&quot;my-bucketname&quot;)\n                                .build());\n                    } catch (Exception e) {\n                        return new Exception(e);\n                    }\n                });\n    }\n}\n\n\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1161,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":74883975,"answer_count":1,"score":9,"last_activity_date":1675325132,"creation_date":1671620445,"question_id":74875058,"body_markdown":"I have sping-boot application with rest services written using Spring web flux.\r\n\r\nFor now I access minio using login/password authorizaton and it works fine.\r\n\r\nFor now I want to exchange application JWT token with STS minio token and I implemented method to test:\r\n\r\n    @PostMapping\r\n    public boolean test(JwtAuthenticationToken token) throws ServerException, InsufficientDataException, ErrorResponseException, IOException, NoSuchAlgorithmException, InvalidKeyException, InvalidResponseException, XmlParserException, InternalException {\r\n        MinioClient minioClient =\r\n                MinioClient.builder()\r\n                        .region(...)\r\n                        .endpoint(...)              \r\n                        .credentialsProvider(new WebIdentityProvider(\r\n                               \r\n                                () -&gt; new Jwt(token.getToken().getTokenValue(), 1000),\r\n                                String.valueOf(...),\r\n                                null,\r\n                                null,\r\n                                null,\r\n                                null,\r\n                                null))\r\n                        .build();\r\n        return minioClient.bucketExists(&quot;mybucket&quot;).build());\r\n    }\r\n\r\nThis code successfully works and returns `true` because `mybucket` actually exists.\r\n\r\nBut it is only test and I need to move `minioClient` to the configuration. The issue here that I have to have credentials provider there.\r\n\r\nSo I&#39;ve created folowing configuration:\r\n\r\n    @Bean\r\n    public MinioClient minioClient() {\r\n        return MinioClient.builder()\r\n                .region(...)\r\n                .endpoint(...)\r\n                .credentialsProvider(new WebIdentityProvider(\r\n                       \r\n                        () -&gt; {\r\n                            String block = null;\r\n                            try {\r\n                                block = ReactiveSecurityContextHolder\r\n                                    .getContext()\r\n                                    .map(context -&gt; {\r\n                                                return context\r\n                                                        .getAuthentication()\r\n                                                        .getPrincipal();\r\n    \r\n                                            }\r\n                                    )\r\n                                    .cast(Jwt.class)\r\n                                    .map(Jwt::token)\r\n                                    .block();\r\n                            } catch (Exception e) {\r\n                                // it fails here     &lt;=======\r\n                                System.out.println(e);\r\n                            }\r\n    \r\n                            Jwt jwt = new Jwt(String.valueOf(block),\r\n                                    1000);\r\n                            return jwt; },\r\n                        String.valueOf(...),\r\n                        null,\r\n                        null,\r\n                        null,\r\n                        null,\r\n                        null))\r\n                .build();\r\n    }\r\n\r\nBut unfortunately method `block()` fails with exception:\r\n\r\n    java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-6 \r\n\r\n\r\n\r\nAny ideas how to fix it?\r\n\r\nP.S.\r\n_\r\n\r\nI tried \r\n\r\n    .toFuture()\r\n    .get();\r\n\r\ninstead of .`block();`\r\n\r\nbut it returns null","title":"How to get jwt token value in spring webflux? (to exchange it with Minio STS token)","body":"<p>I have sping-boot application with rest services written using Spring web flux.</p>\n<p>For now I access minio using login/password authorizaton and it works fine.</p>\n<p>For now I want to exchange application JWT token with STS minio token and I implemented method to test:</p>\n<pre><code>@PostMapping\npublic boolean test(JwtAuthenticationToken token) throws ServerException, InsufficientDataException, ErrorResponseException, IOException, NoSuchAlgorithmException, InvalidKeyException, InvalidResponseException, XmlParserException, InternalException {\n    MinioClient minioClient =\n            MinioClient.builder()\n                    .region(...)\n                    .endpoint(...)              \n                    .credentialsProvider(new WebIdentityProvider(\n                           \n                            () -&gt; new Jwt(token.getToken().getTokenValue(), 1000),\n                            String.valueOf(...),\n                            null,\n                            null,\n                            null,\n                            null,\n                            null))\n                    .build();\n    return minioClient.bucketExists(&quot;mybucket&quot;).build());\n}\n</code></pre>\n<p>This code successfully works and returns <code>true</code> because <code>mybucket</code> actually exists.</p>\n<p>But it is only test and I need to move <code>minioClient</code> to the configuration. The issue here that I have to have credentials provider there.</p>\n<p>So I've created folowing configuration:</p>\n<pre><code>@Bean\npublic MinioClient minioClient() {\n    return MinioClient.builder()\n            .region(...)\n            .endpoint(...)\n            .credentialsProvider(new WebIdentityProvider(\n                   \n                    () -&gt; {\n                        String block = null;\n                        try {\n                            block = ReactiveSecurityContextHolder\n                                .getContext()\n                                .map(context -&gt; {\n                                            return context\n                                                    .getAuthentication()\n                                                    .getPrincipal();\n\n                                        }\n                                )\n                                .cast(Jwt.class)\n                                .map(Jwt::token)\n                                .block();\n                        } catch (Exception e) {\n                            // it fails here     &lt;=======\n                            System.out.println(e);\n                        }\n\n                        Jwt jwt = new Jwt(String.valueOf(block),\n                                1000);\n                        return jwt; },\n                    String.valueOf(...),\n                    null,\n                    null,\n                    null,\n                    null,\n                    null))\n            .build();\n}\n</code></pre>\n<p>But unfortunately method <code>block()</code> fails with exception:</p>\n<pre><code>java.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-6 \n</code></pre>\n<p>Any ideas how to fix it?</p>\n<p>P.S.\n_</p>\n<p>I tried</p>\n<pre><code>.toFuture()\n.get();\n</code></pre>\n<p>instead of .<code>block();</code></p>\n<p>but it returns null</p>\n"},{"tags":["java","android","kotlin","exception","splash-screen"],"comments":[{"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"score":0,"creation_date":1675330428,"post_id":75320187,"comment_id":132906855,"body_markdown":"Check this, maybe it can help you https://stackoverflow.com/a/32245018/11170352","body":"Check this, maybe it can help you <a href=\"https://stackoverflow.com/a/32245018/11170352\">stackoverflow.com/a/32245018/11170352</a>"}],"owner":{"account_id":27142392,"reputation":11,"user_id":20683092,"display_name":"Victoria Olegovna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675325089,"creation_date":1675325089,"question_id":75320187,"body_markdown":"While downloading the application, you need to click on the Back button,\r\nAfter restarting the application, click on the Back button\r\n\r\nE  FATAL EXCEPTION: EventThread\r\n\r\nProcess:  PID: 10231                                                                                       \r\n\r\njava.lang.OutOfMemoryError: Failed to allocate a 40 byte allocation with 404992 free bytes and 395KB until OOM, target footprint 268435456, growth limit 268435456; giving up on allocation because &lt;1% of heap free after GC.\r\n                                                                                       \tat $Proxy3.value(Unknown Source)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldNames(ReflectiveTypeAdapterFactory.java:80)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:161)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\r\n                                                                                       \tat com.google.gson.Gson.getAdapter(Gson.java:458)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:117)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:166)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\r\n                                                                                       \tat com.google.gson.Gson.getAdapter(Gson.java:458)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:117)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:166)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\r\n                                                                                       \tat com.google.gson.Gson.getAdapter(Gson.java:458)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:117)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:166)\r\n                                                                                       \tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\r\n                                                                                       \tat com.google.gson.Gson.getAdapter(Gson.java:458)\r\n                                                                                       \tat com.google.gson.Gson.fromJson(Gson.java:931)\r\n                                                                                       \tat com.google.gson.Gson.fromJson(Gson.java:897)\r\n                                                                                       \tat com.google.gson.Gson.fromJson(Gson.java:846)\r\n                                                                                       \tat repos.events.EventsRepository.parseOddsOrFixture(EventsRepository.kt:8)\r\n                                                                                       \tat repos.events.EventsRepository.addSocketListeners$lambda$1(EventsRepository.kt:118)\r\n                                                                                       \tat repos.events.EventsRepository.$r8$lambda$rCh8eEPRaxVcqDhfqrbJl8XxBI8(Unknown Source:0)\r\n                                                                                       \tat repos.events.EventsRepository$$ExternalSyntheticLambda12.call(Unknown Source:2)\r\n                                                                                       \tat io.socket.emitter.Emitter.emit(Emitter.java:117)\r\n                                                                                       \tat io.socket.client.Socket.onevent(Socket.java:363)\r\n                                                                                       \tat io.socket.client.Socket.onpacket(Socket.java:307)\r\n                                                                                       \tat io.socket.client.Socket.access$100(Socket.java:19)\r\n                                                                                       \tat io.socket.client.Socket$2$2.call(Socket.java:92)\r\n                                                                                       \tat io.socket.emitter.Emitter.emit(Emitter.java:117)\r\n                                                                                       \tat io.socket.client.Manager.ondecoded(Manager.java:361)\r\n                                                                                       \tat io.socket.client.Manager.access$1200(Manager.java:22)\r\n                                                                                       \tat io.socket.client.Manager$5.call(Manager.java:355)\r\n                                                                                       \tat io.socket.parser.IOParser$Decoder.add(IOParser.java:103)\r\n                                                                                       \tat io.socket.client.Manager$2.call(Manager.java:331)\r\n                                                                                       \tat io.socket.emitter.Emitter.emit(Emitter.java:117)\r\n                                                                                       \tat io.socket.engineio.client.Socket.onPacket(Socket.java:556)\r\n                                                                                       \tat io.socket.engineio.client.Socket.access$1000(Socket.java:29)\r\n                                                                                       \tat io.socket.engineio.client.Socket$5.call(Socket.java:335)\r\n                                                                                       \tat io.socket.emitter.Emitter.emit(Emitter.java:117)\r\n                                                                                       \tat io.socket.engineio.client.Transport.onPacket(Transport.java:124)\r\n                                                                                       \tat io.socket.engineio.client.Transport.onData(Transport.java:116)\r\n                                                                                       \tat io.socket.engineio.client.transports.WebSocket.access$100(WebSocket.java:22)\r\n                                                                                       \tat io.socket.engineio.client.transports.WebSocket$1$2.run(WebSocket.java:71)\r\n                                                                                       \tat io.socket.thread.EventThread$2.run(EventThread.java:80)\r\n                                                                                       \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\r\n                                                                                       \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\r\n                                                                                       \tat java.lang.Thread.run(Thread.java:1012)\r\n\r\n\r\n\r\ndebugged the parseOddsOrFixture() method\r\nnull didn&#39;t come anywhere\r\n","title":"Running of the app and getting FATAL EXCEPTION: EventThread during splash screen","body":"<p>While downloading the application, you need to click on the Back button,\nAfter restarting the application, click on the Back button</p>\n<p>E  FATAL EXCEPTION: EventThread</p>\n<p>Process:  PID: 10231</p>\n<p>java.lang.OutOfMemoryError: Failed to allocate a 40 byte allocation with 404992 free bytes and 395KB until OOM, target footprint 268435456, growth limit 268435456; giving up on allocation because &lt;1% of heap free after GC.\nat $Proxy3.value(Unknown Source)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getFieldNames(ReflectiveTypeAdapterFactory.java:80)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:161)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\nat com.google.gson.Gson.getAdapter(Gson.java:458)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:117)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:166)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\nat com.google.gson.Gson.getAdapter(Gson.java:458)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:117)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:166)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\nat com.google.gson.Gson.getAdapter(Gson.java:458)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.createBoundField(ReflectiveTypeAdapterFactory.java:117)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:166)\nat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:102)\nat com.google.gson.Gson.getAdapter(Gson.java:458)\nat com.google.gson.Gson.fromJson(Gson.java:931)\nat com.google.gson.Gson.fromJson(Gson.java:897)\nat com.google.gson.Gson.fromJson(Gson.java:846)\nat repos.events.EventsRepository.parseOddsOrFixture(EventsRepository.kt:8)\nat repos.events.EventsRepository.addSocketListeners$lambda$1(EventsRepository.kt:118)\nat repos.events.EventsRepository.$r8$lambda$rCh8eEPRaxVcqDhfqrbJl8XxBI8(Unknown Source:0)\nat repos.events.EventsRepository$$ExternalSyntheticLambda12.call(Unknown Source:2)\nat io.socket.emitter.Emitter.emit(Emitter.java:117)\nat io.socket.client.Socket.onevent(Socket.java:363)\nat io.socket.client.Socket.onpacket(Socket.java:307)\nat io.socket.client.Socket.access$100(Socket.java:19)\nat io.socket.client.Socket$2$2.call(Socket.java:92)\nat io.socket.emitter.Emitter.emit(Emitter.java:117)\nat io.socket.client.Manager.ondecoded(Manager.java:361)\nat io.socket.client.Manager.access$1200(Manager.java:22)\nat io.socket.client.Manager$5.call(Manager.java:355)\nat io.socket.parser.IOParser$Decoder.add(IOParser.java:103)\nat io.socket.client.Manager$2.call(Manager.java:331)\nat io.socket.emitter.Emitter.emit(Emitter.java:117)\nat io.socket.engineio.client.Socket.onPacket(Socket.java:556)\nat io.socket.engineio.client.Socket.access$1000(Socket.java:29)\nat io.socket.engineio.client.Socket$5.call(Socket.java:335)\nat io.socket.emitter.Emitter.emit(Emitter.java:117)\nat io.socket.engineio.client.Transport.onPacket(Transport.java:124)\nat io.socket.engineio.client.Transport.onData(Transport.java:116)\nat io.socket.engineio.client.transports.WebSocket.access$100(WebSocket.java:22)\nat io.socket.engineio.client.transports.WebSocket$1$2.run(WebSocket.java:71)\nat io.socket.thread.EventThread$2.run(EventThread.java:80)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\nat java.lang.Thread.run(Thread.java:1012)</p>\n<p>debugged the parseOddsOrFixture() method\nnull didn't come anywhere</p>\n"},{"tags":["java","android","printing"],"answers":[{"comments":[{"owner":{"account_id":25462104,"reputation":91,"user_id":19261685,"display_name":"Lasitha Lankajeewa"},"score":0,"creation_date":1675660771,"post_id":75320019,"comment_id":132969522,"body_markdown":"Which means should I do this in an activity class or do I have another way?","body":"Which means should I do this in an activity class or do I have another way?"},{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1675662116,"post_id":75320019,"comment_id":132969707,"body_markdown":"Yes, in such case you need to have your print function in an Activity. And you can make use of, like, BroadcastReceiver, or if possible, bind your Service to Activity so that you can trigger the print function in Activity from your Service.","body":"Yes, in such case you need to have your print function in an Activity. And you can make use of, like, BroadcastReceiver, or if possible, bind your Service to Activity so that you can trigger the print function in Activity from your Service."}],"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675324552,"creation_date":1675323907,"answer_id":75320019,"question_id":75318841,"body_markdown":"The exception is self-explanatory:  \r\n&gt; IllegalStateException : Can print only from an ***activity***\r\n\r\nSo if you do such implementation in a **Service**, the ```this``` in this line is not an **Activity Context**:  \r\n```\r\nPrintManager printManager = (PrintManager)this.getSystemService(Context.PRINT_SERVICE);\r\n```\r\n\r\nYou must have an **Activity Context** in order to make it work.","title":"Is printing not allowing within a service in android?","body":"<p>The exception is self-explanatory:</p>\n<blockquote>\n<p>IllegalStateException : Can print only from an <em><strong>activity</strong></em></p>\n</blockquote>\n<p>So if you do such implementation in a <strong>Service</strong>, the <code>this</code> in this line is not an <strong>Activity Context</strong>:</p>\n<pre><code>PrintManager printManager = (PrintManager)this.getSystemService(Context.PRINT_SERVICE);\n</code></pre>\n<p>You must have an <strong>Activity Context</strong> in order to make it work.</p>\n"}],"owner":{"account_id":25462104,"reputation":91,"user_id":19261685,"display_name":"Lasitha Lankajeewa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675324552,"creation_date":1675313906,"question_id":75318841,"body_markdown":"I wrote a service in android app to read a pdf file and send to the print using print manager. but it not allowing to print, and it says &quot; IllegalStateException : Can print only from an activity&quot;.IS this a problem of newer android versions?\r\n\r\nThis is the cade \r\n\r\n      PrintManager printManager = (PrintManager) this.getSystemService(Context.PRINT_SERVICE);\r\n      PrintDocumentAdapter printAdapter = new PdfDocumentAdapter(pathPdfRead);\r\n      String jobName = getString(R.string.app_name) + newDoc;\r\n      printManager.print(jobName, printAdapter, new PrintAttributes.Builder().build());\r\n\r\nI&#39;m expecting some answer. Is this possible in Android 11 or higher versions?","title":"Is printing not allowing within a service in android?","body":"<p>I wrote a service in android app to read a pdf file and send to the print using print manager. but it not allowing to print, and it says &quot; IllegalStateException : Can print only from an activity&quot;.IS this a problem of newer android versions?</p>\n<p>This is the cade</p>\n<pre><code>  PrintManager printManager = (PrintManager) this.getSystemService(Context.PRINT_SERVICE);\n  PrintDocumentAdapter printAdapter = new PdfDocumentAdapter(pathPdfRead);\n  String jobName = getString(R.string.app_name) + newDoc;\n  printManager.print(jobName, printAdapter, new PrintAttributes.Builder().build());\n</code></pre>\n<p>I'm expecting some answer. Is this possible in Android 11 or higher versions?</p>\n"},{"tags":["java","svg","itext"],"comments":[{"owner":{"account_id":13734,"reputation":1450,"user_id":27760,"display_name":"Glenner003"},"score":0,"creation_date":1675350799,"post_id":75319826,"comment_id":132914087,"body_markdown":"What version of iText are using? Do you have com.itextpdf/svg as a dependency?","body":"What version of iText are using? Do you have com.itextpdf/svg as a dependency?"},{"owner":{"account_id":26876240,"reputation":21,"user_id":20457452,"display_name":"crosbee"},"score":0,"creation_date":1675364599,"post_id":75319826,"comment_id":132918834,"body_markdown":"I used 7.2.5. Now I decided to convert image to png and convert to base64. Thank for it, image is rendered.","body":"I used 7.2.5. Now I decided to convert image to png and convert to base64. Thank for it, image is rendered."}],"owner":{"account_id":26876240,"reputation":21,"user_id":20457452,"display_name":"crosbee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675324128,"creation_date":1675322462,"question_id":75319826,"body_markdown":"I&#39;m using iTextRenderer() to convert html (String) to pdf file. I would like to add on end pdf file, image as svg. I&#39;m using JFreeChart to create SVG File.\r\n\r\n            File file = new File(&quot;D:\\\\testowy.txt&quot;);    //html in string\r\n        File outPDF = new File(&quot;D:\\\\testww.pdf&quot;); //output pdf\r\n        ITextRenderer renderer = new ITextRenderer();\r\n        renderer.setDocumentFromString(IOUtils.readUtf(file));\r\n\r\n        renderer.layout();\r\n        renderer.createPDF(new BufferedOutputStream(new FileOutputStream(outPDF)));\r\nBelow picture shows how appearance my pdf. The svg file doesnt creat correct. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yzfM7.png\r\n\r\nThe text &quot;7e5a7f...&quot; is a SVG.\r\nI tried use framework PDF, but the text is skip and only svg is created.\r\n\r\n            PdfDocument doc = new PdfDocument(\r\n                new PdfWriter(new FileOutputStream(outPDF),\r\n                        new WriterProperties().setCompressionLevel(0)));\r\n        doc.addNewPage();\r\n        SvgConverter.drawOnDocument(IOUtils.readUtf(file), doc, 1);\r\n        doc.close();\r\n","title":"how to add svg in pdf document iText","body":"<p>I'm using iTextRenderer() to convert html (String) to pdf file. I would like to add on end pdf file, image as svg. I'm using JFreeChart to create SVG File.</p>\n<pre><code>        File file = new File(&quot;D:\\\\testowy.txt&quot;);    //html in string\n    File outPDF = new File(&quot;D:\\\\testww.pdf&quot;); //output pdf\n    ITextRenderer renderer = new ITextRenderer();\n    renderer.setDocumentFromString(IOUtils.readUtf(file));\n\n    renderer.layout();\n    renderer.createPDF(new BufferedOutputStream(new FileOutputStream(outPDF)));\n</code></pre>\n<p>Below picture shows how appearance my pdf. The svg file doesnt creat correct.</p>\n<p><a href=\"https://i.stack.imgur.com/yzfM7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yzfM7.png\" alt=\"enter image description here\" /></a></p>\n<p>The text &quot;7e5a7f...&quot; is a SVG.\nI tried use framework PDF, but the text is skip and only svg is created.</p>\n<pre><code>        PdfDocument doc = new PdfDocument(\n            new PdfWriter(new FileOutputStream(outPDF),\n                    new WriterProperties().setCompressionLevel(0)));\n    doc.addNewPage();\n    SvgConverter.drawOnDocument(IOUtils.readUtf(file), doc, 1);\n    doc.close();\n</code></pre>\n"},{"tags":["java","android","rx-java","azure-maps"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1675254298,"post_id":75309926,"comment_id":132887904,"body_markdown":"That `Observer` doesn&#39;t look like an RxJava one. Where is even RxJava involved other than suppressing the undeliverable exception? Most inportantly though, why haven&#39;t you posted the **full stacktrace**?","body":"That <code>Observer</code> doesn&#39;t look like an RxJava one. Where is even RxJava involved other than suppressing the undeliverable exception? Most inportantly though, why haven&#39;t you posted the <b>full stacktrace</b>?"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675254360,"post_id":75309926,"comment_id":132887928,"body_markdown":"@akarnokd im kinda newbie in android, by stacktrace you mean full error log ?","body":"@akarnokd im kinda newbie in android, by stacktrace you mean full error log ?"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675254448,"post_id":75309926,"comment_id":132887954,"body_markdown":"@akarnokd And yes, i tought i wasn&#39;t using RxJava, but the error log talks about rxJava and that error handling in the code was a try to fix the exception. Because the app works fine in android 10, this just happpens when im in android 9. Forgot to mencion that.","body":"@akarnokd And yes, i tought i wasn&#39;t using RxJava, but the error log talks about rxJava and that error handling in the code was a try to fix the exception. Because the app works fine in android 10, this just happpens when im in android 9. Forgot to mencion that."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1675254570,"post_id":75309926,"comment_id":132887989,"body_markdown":"Yes, please post the error log where it stats saying `The exception could not be delivered` followed by a bunch of `at some.packages` and also `caused by`. But don&#39;t post it in the comments! Edit the question please.","body":"Yes, please post the error log where it stats saying <code>The exception could not be delivered</code> followed by a bunch of <code>at some.packages</code> and also <code>caused by</code>. But don&#39;t post it in the comments! Edit the question please."},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675254685,"post_id":75309926,"comment_id":132888024,"body_markdown":"@akarnokd https://prnt.sc/9hNzKgfao4gA","body":"@akarnokd <a href=\"https://prnt.sc/9hNzKgfao4gA\" rel=\"nofollow noreferrer\">prnt.sc/9hNzKgfao4gA</a>"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1675254717,"post_id":75309926,"comment_id":132888040,"body_markdown":"Please do not post screenshots of errors. Edit your question with the text.","body":"Please do not post screenshots of errors. Edit your question with the text."},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675254775,"post_id":75309926,"comment_id":132888072,"body_markdown":"@akarnokd i&#39;ve edited, sorry","body":"@akarnokd i&#39;ve edited, sorry"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1675254903,"post_id":75309926,"comment_id":132888106,"body_markdown":"Please copy-paste the error text and add that to the question **as text**!","body":"Please copy-paste the error text and add that to the question <b>as text</b>!"},{"owner":{"account_id":1650697,"reputation":753,"user_id":1521370,"display_name":"bongo"},"score":0,"creation_date":1675255398,"post_id":75309926,"comment_id":132888275,"body_markdown":"As in stacktrace there is an issue with loading resource: res/color/azure_maps_bg_dark.xml Can you check an post content of the file ? Maybe you reference color that doesn&#39;t exist or maybe resource it&#39;s referencing itself","body":"As in stacktrace there is an issue with loading resource: res/color/azure_maps_bg_dark.xml Can you check an post content of the file ? Maybe you reference color that doesn&#39;t exist or maybe resource it&#39;s referencing itself"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675259956,"post_id":75309926,"comment_id":132889890,"body_markdown":"@bongo if thats the problem, how could i/you explain the app working on android version 10 and above, and not working in android 9 ?","body":"@bongo if thats the problem, how could i/you explain the app working on android version 10 and above, and not working in android 9 ?"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675260053,"post_id":75309926,"comment_id":132889924,"body_markdown":"@akarnokd sry, i did that just now. Thanks","body":"@akarnokd sry, i did that just now. Thanks"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675260123,"post_id":75309926,"comment_id":132889948,"body_markdown":"@bongo and i think that resource comes from the library im using, azure maps.","body":"@bongo and i think that resource comes from the library im using, azure maps."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1675260527,"post_id":75309926,"comment_id":132890101,"body_markdown":"Not sure what the difficulty is; just reading the error message I see this:\n\n*org.xmlpull.v1.XmlPullParserException: Binary XML file line #3: &lt;item&gt; tag requires a &#39;drawable&#39; attribute or child tag defining a drawable*. Probably `drawable` is optional in 10 but mandatory in 9? Maybe the resource/library is no longer compatible with 9?","body":"Not sure what the difficulty is; just reading the error message I see this:  <i>org.xmlpull.v1.XmlPullParserException: Binary XML file line #3: &lt;item&gt; tag requires a &#39;drawable&#39; attribute or child tag defining a drawable</i>. Probably <code>drawable</code> is optional in 10 but mandatory in 9? Maybe the resource/library is no longer compatible with 9?"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675260927,"post_id":75309926,"comment_id":132890258,"body_markdown":"@akarnokd hmm, if we talking about azure maps lib it is compatible, because in my version 1.01 it was working fine. So you are telling me that is nothing about my Observer but about a xml file ?","body":"@akarnokd hmm, if we talking about azure maps lib it is compatible, because in my version 1.01 it was working fine. So you are telling me that is nothing about my Observer but about a xml file ?"},{"owner":{"account_id":1650697,"reputation":753,"user_id":1521370,"display_name":"bongo"},"score":0,"creation_date":1675261056,"post_id":75309926,"comment_id":132890318,"body_markdown":"To be honest, this library is really outdated it is still using support v4 library and not appcompat","body":"To be honest, this library is really outdated it is still using support v4 library and not appcompat"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675261110,"post_id":75309926,"comment_id":132890339,"body_markdown":"@bongo so i should change the library ? Can you advice me one good map LIB that can handle 100 000 points like this one ?","body":"@bongo so i should change the library ? Can you advice me one good map LIB that can handle 100 000 points like this one ?"},{"owner":{"account_id":1650697,"reputation":753,"user_id":1521370,"display_name":"bongo"},"score":0,"creation_date":1675261159,"post_id":75309926,"comment_id":132890359,"body_markdown":"which version of the library are you using? Can you check If there is error when u user 1.2.0 version ?","body":"which version of the library are you using? Can you check If there is error when u user 1.2.0 version ?"},{"owner":{"account_id":1650697,"reputation":753,"user_id":1521370,"display_name":"bongo"},"score":0,"creation_date":1675261362,"post_id":75309926,"comment_id":132890449,"body_markdown":"I have checked the source code of version 1.2.0 and I can&#39;t find problematic resources &quot;azure_maps_bg_dark&quot; so maybe it was fixed already","body":"I have checked the source code of version 1.2.0 and I can&#39;t find problematic resources &quot;azure_maps_bg_dark&quot; so maybe it was fixed already"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675261365,"post_id":75309926,"comment_id":132890452,"body_markdown":"@bongo when i talk about version, i was talking about my app, the version of azure maps im using is: \n//AZURE MAPS\n    implementation &#39;com.azure.android:azure-maps-control:1.2.0&#39;\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\n    implementation &#39;com.google.android.material:material:1.9.0-alpha01&#39;","body":"@bongo when i talk about version, i was talking about my app, the version of azure maps im using is:  //AZURE MAPS     implementation &#39;com.azure.android:azure-maps-control:1.2.0&#39;     implementation &#39;com.google.android.material:material:1.8.0&#39;     implementation &#39;com.google.android.material:material:1.9.0-alpha01&#39;"},{"owner":{"account_id":1650697,"reputation":753,"user_id":1521370,"display_name":"bongo"},"score":0,"creation_date":1675261962,"post_id":75309926,"comment_id":132890667,"body_markdown":"Ok so let&#39;s try this\ncreate azure_maps_btn_bg_dark.xml file in drawable folder and paste this as a content:\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:drawable=&quot;@android:color/transparent&quot;&gt;\n        &lt;shape&gt;\n            &lt;solid android:color=&quot;@color/azure_maps_bg_dark&quot; /&gt;\n            &lt;corners android:radius=&quot;2dp&quot; /&gt;\n            &lt;stroke android:color=&quot;#00000080&quot; android:width=&quot;1px&quot; /&gt;\n        &lt;/shape&gt;\n    &lt;/item&gt;\n&lt;/layer-list&gt;","body":"Ok so let&#39;s try this create azure_maps_btn_bg_dark.xml file in drawable folder and paste this as a content:  &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;layer-list xmlns:android=&quot;<a href=\"http://schemas.android.com/apk/res/android\" rel=\"nofollow noreferrer\">schemas.android.com/apk/res/android</a>&quot;&gt;     &lt;item android:drawable=&quot;@android:color/transparent&quot;&gt;         &lt;shape&gt;             &lt;solid android:color=&quot;@color/azure_maps_bg_dark&quot; /&gt;             &lt;corners android:radius=&quot;2dp&quot; /&gt;             &lt;stroke android:color=&quot;#00000080&quot; android:width=&quot;1px&quot; /&gt;         &lt;/shape&gt;     &lt;/item&gt; &lt;/layer-list&gt;"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675262056,"post_id":75309926,"comment_id":132890692,"body_markdown":"i&#39;ve tried this minutes ago with this code :\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:state_pressed=&quot;true&quot; android:color=&quot;#43474c&quot;/&gt;\n    &lt;item android:color=&quot;#011C2C&quot;/&gt;\n&lt;/selector&gt;","body":"i&#39;ve tried this minutes ago with this code : &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;selector xmlns:android=&quot;<a href=\"http://schemas.android.com/apk/res/android\" rel=\"nofollow noreferrer\">schemas.android.com/apk/res/android</a>&quot;&gt;     &lt;item android:state_pressed=&quot;true&quot; android:color=&quot;#43474c&quot;/&gt;     &lt;item android:color=&quot;#011C2C&quot;/&gt; &lt;/selector&gt;"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675262170,"post_id":75309926,"comment_id":132890728,"body_markdown":"Anyway tried with yours, and didnt work anyway. Im start to give up, im just going to say the minimum android it has to be 10","body":"Anyway tried with yours, and didnt work anyway. Im start to give up, im just going to say the minimum android it has to be 10"},{"owner":{"account_id":1650697,"reputation":753,"user_id":1521370,"display_name":"bongo"},"score":0,"creation_date":1675262440,"post_id":75309926,"comment_id":132890821,"body_markdown":"But can at least check if the exception was the same? Probably there are more resources that needs tweaks","body":"But can at least check if the exception was the same? Probably there are more resources that needs tweaks"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1675263842,"post_id":75309926,"comment_id":132891313,"body_markdown":"@bongo the resource didnt exist. It comes from the library. I just tryed to create one myself","body":"@bongo the resource didnt exist. It comes from the library. I just tryed to create one myself"}],"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"comment_count":24,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675323533,"creation_date":1675253092,"question_id":75309926,"body_markdown":"The error message is:\r\n\r\n&gt;The exception could not be delivered to the consumer because it has already canceled/disposed the flow or the exception has nowhere to go to begin with.\r\n\r\nI cant get where it comes from...\r\n\r\nFrom where I&#39;ve been searching, the problem is on error handling, which I don&#39;t know where should I do it.\r\nI need to solve this as fast as I can if you guys can help me out.\r\n\r\nSo my LocationService:\r\n\r\n    public class LocationService extends Service {\r\n        public static ArrayList&lt;LatLng&gt; locationArrayList = new ArrayList&lt;LatLng&gt;();\r\n    \r\n        FusedLocationProviderClient fusedLocationClient;\r\n        LocationRequest locationRequest;\r\n        LocationCallback locationCallback;\r\n        Context context;\r\n    \r\n    \r\n        private void startLocationUpdates() {\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissions\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermissions for more details.\r\n    \r\n                return;\r\n            }\r\n    \r\n            fusedLocationClient.requestLocationUpdates(locationRequest,\r\n                    locationCallback,\r\n                    Looper.getMainLooper());\r\n        }\r\n    \r\n        protected void createLocationRequest() {\r\n            LocationRequest locationRequest = LocationRequest.create();\r\n            locationRequest.setInterval(3000);\r\n            locationRequest.setFastestInterval(5000);\r\n            locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            RxJavaPlugins.setErrorHandler(emptyConsumer());\r\n            new Notification();\r\n    \r\n    \r\n            fusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\r\n    \r\n            createNotificationChanel() ;\r\n    \r\n            locationRequest = LocationRequest.create();\r\n            locationRequest.setInterval(7000);\r\n            locationRequest.setFastestInterval(3000);\r\n            locationRequest.setMaxWaitTime(5000);\r\n            locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n    \r\n    \r\n    \r\n            locationCallback = new LocationCallback() {\r\n                @Override\r\n                public void onLocationResult(@NonNull LocationResult locationResult) {\r\n                    Location location =  locationResult.getLastLocation();\r\n                    assert location != null;\r\n                    com.aeroprotechnik.mismart.utils.NotificationManager.updateNotificationMessage(new LLcoor(location.getLongitude(), location.getLatitude()));\r\n    \r\n    \r\n    \r\n    \r\n                    //locationArrayList.add(new LatLng(location.getLatitude(), location.getLongitude()));\r\n    \r\n                   /* for (Location location : locationResult.getLocations()) {\r\n                      location\r\n                    }*/\r\n                }\r\n            };\r\n            startLocationUpdates();\r\n    \r\n            RxJavaPlugins.setErrorHandler(emptyConsumer());\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        private static void sendMessageToActivity(Context context ,double latitude, double longitude) {\r\n            Intent intent = new Intent(&quot;GPSLocationUpdates&quot;);\r\n            // You can also include some extra data.\r\n            intent.putExtra(&quot;latitude&quot;, latitude);\r\n            intent.putExtra(&quot;longitude&quot;, longitude);\r\n            LocalBroadcastManager.getInstance(context).sendBroadcast(intent);\r\n        }\r\n    \r\n        private void createNotificationChanel() {\r\n            String notificationChannelId = &quot;Location channel id&quot;;\r\n            String channelName = &quot;Background Service&quot;;\r\n    \r\n            NotificationChannel chan = new NotificationChannel(\r\n                    notificationChannelId,\r\n                    channelName,\r\n                    NotificationManager.IMPORTANCE_NONE\r\n            );\r\n            chan.setLightColor(Color.BLUE);\r\n            chan.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\r\n    \r\n            NotificationManager manager = getSystemService(NotificationManager.class);\r\n    \r\n            manager.createNotificationChannel(chan);\r\n    \r\n            NotificationCompat.Builder notificationBuilder =\r\n                    new NotificationCompat.Builder(this, notificationChannelId);\r\n    \r\n            Notification notification = notificationBuilder.setOngoing(true)\r\n                    .setContentTitle(&quot;Location updates:&quot;)\r\n                    .setPriority(NotificationManager.IMPORTANCE_MIN)\r\n                    .setCategory(Notification.CATEGORY_SERVICE)\r\n                    .build();\r\n            startForeground(2, notification);\r\n        }\r\n    \r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            super.onStartCommand(intent, flags, startId);\r\n            return START_STICKY;\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            fusedLocationClient.removeLocationUpdates(locationCallback);\r\n        }\r\n    \r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            return null;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\nMy NotificationLiveData:\r\n\r\n    public class NotificationLiveData extends LiveData&lt;LLcoor&gt; {\r\n        public void setNotification(LLcoor coor){\r\n            postValue(coor);\r\n        }\r\n    }\r\n\r\n\r\nMy manager:\r\n\r\n    public class NotificationManager extends LiveData&lt;LLcoor&gt; {\r\n    \r\n        private static final NotificationLiveData notificationLiveData = new NotificationLiveData();\r\n    \r\n    \r\n    \r\n        public static void updateNotificationMessage(LLcoor data){\r\n            RxJavaPlugins.setErrorHandler(emptyConsumer());\r\n    \r\n            notificationLiveData.setNotification(data);\r\n    \r\n        }\r\n    \r\n        public static NotificationLiveData getNotificationLiveData() {\r\n            return notificationLiveData;\r\n        }\r\n    }\r\n\r\nMy observer:\r\n\r\n      private final Observer&lt;LLcoor&gt; notificationObserver = new Observer&lt;LLcoor&gt;() {\r\n    \r\n            @Override\r\n            public void onChanged(LLcoor coor) {\r\n                Feature f = Feature.fromGeometry(Point.fromLngLat(coor.getLongitude(), coor.getLatitude()));\r\n                Log.e(&quot;FEATURE ADDED&quot;, f.toString());\r\n                mypos.clear();\r\n                mypos.add(f);\r\n    \r\n            }\r\n        };\r\n\r\nError Log:\r\n\r\n    io.reactivex.exceptions.UndeliverableException: The exception could not be delivered to the consumer because it has already canceled/disposed the flow or the exception has nowhere to go to begin with. Further reading: https://github.com/ReactiveX/RxJava/wiki/What&#39;s-different-in-2.0#error-handling | android.content.res.Resources$NotFoundException: Drawable com.aeroprotechnik.mismart:color/azure_maps_bg_dark with resource ID #0x7f06001d\r\n            at io.reactivex.plugins.RxJavaPlugins.onError(RxJavaPlugins.java:367)\r\n            at io.reactivex.internal.observers.ConsumerSingleObserver.onSuccess(ConsumerSingleObserver.java:65)\r\n            at io.reactivex.internal.operators.single.SingleObserveOn$ObserveOnSingleObserver.run(SingleObserveOn.java:81)\r\n            at io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:124)\r\n            at android.os.Handler.handleCallback(Handler.java:907)\r\n            at android.os.Handler.dispatchMessage(Handler.java:105)\r\n            at android.os.Looper.loop(Looper.java:216)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7625)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\r\n         Caused by: android.content.res.Resources$NotFoundException: Drawable com.aeroprotechnik.mismart:color/azure_maps_bg_dark with resource ID #0x7f06001d\r\n         Caused by: android.content.res.Resources$NotFoundException: File res/color/azure_maps_bg_dark.xml from drawable resource ID #0x7f06001d\r\n            at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:1166)\r\n            at android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:917)\r\n            at android.content.res.Resources.getDrawableForDensity(Resources.java:1074)\r\n            at android.content.res.Resources.getDrawable(Resources.java:1013)\r\n            at android.content.Context.getDrawable(Context.java:630)\r\n            at android.view.View.setBackgroundResource(View.java:21728)\r\n            at androidx.appcompat.widget.AppCompatTextView.setBackgroundResource(AppCompatTextView.java:144)\r\n            at com.azure.android.maps.control.CopyrightDelegate.b(SourceFile:3)\r\n            at com.azure.android.maps.control.CopyrightDelegate.$r8$lambda$35Myr-cFRF2s-DrL_gjzL00mHSc(Unknown Source:0)\r\n            at com.azure.android.maps.control.CopyrightDelegate$$ExternalSyntheticLambda3.accept(Unknown Source:4)\r\n            at io.reactivex.internal.observers.ConsumerSingleObserver.onSuccess(ConsumerSingleObserver.java:62)\r\n            at io.reactivex.internal.operators.single.SingleObserveOn$ObserveOnSingleObserver.run(SingleObserveOn.java:81)\r\n            at io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:124)\r\n            at android.os.Handler.handleCallback(Handler.java:907)\r\n            at android.os.Handler.dispatchMessage(Handler.java:105)\r\n            at android.os.Looper.loop(Looper.java:216)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7625)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\r\n         Caused by: org.xmlpull.v1.XmlPullParserException: Binary XML file line #3: &lt;item&gt; tag requires a &#39;drawable&#39; attribute or child tag defining a drawable\r\n            at android.graphics.drawable.StateListDrawable.inflateChildElements(StateListDrawable.java:190)\r\n            at android.graphics.drawable.StateListDrawable.inflate(StateListDrawable.java:122)\r\n            at android.graphics.drawable.DrawableInflater.inflateFromXmlForDensity(DrawableInflater.java:148)\r\n            at android.graphics.drawable.Drawable.createFromXmlInnerForDensity(Drawable.java:1332)\r\n            at android.graphics.drawable.Drawable.createFromXmlForDensity(Drawable.java:1291)\r\n            at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:1144)\r\n            at android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:917)&#160;\r\n            at android.content.res.Resources.getDrawableForDensity(Resources.java:1074)&#160;\r\n            at android.content.res.Resources.getDrawable(Resources.java:1013)&#160;\r\n            at android.content.Context.getDrawable(Context.java:630)&#160;\r\n            at android.view.View.setBackgroundResource(View.java:21728)&#160;\r\n            at androidx.appcompat.widget.AppCompatTextView.setBackgroundResource(AppCompatTextView.java:144)&#160;\r\n            at com.azure.android.maps.control.CopyrightDelegate.b(SourceFile:3)&#160;\r\n            at com.azure.android.maps.control.CopyrightDelegate.$r8$lambda$35Myr-cFRF2s-DrL_gjzL00mHSc(Unknown Source:0)&#160;\r\n            at com.azure.android.maps.control.CopyrightDelegate$$ExternalSyntheticLambda3.accept(Unknown Source:4)&#160;\r\n            at io.reactivex.internal.observers.ConsumerSingleObserver.onSuccess(ConsumerSingleObserver.java:62)&#160;\r\n            at io.reactivex.internal.operators.single.SingleObserveOn$ObserveOnSingleObserver.run(SingleObserveOn.java:81)&#160;\r\n            at io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:124)&#160;\r\n            at android.os.Handler.handleCallback(Handler.java:907)&#160;\r\n            at android.os.Handler.dispatchMessage(Handler.java:105)&#160;\r\n            at android.os.Looper.loop(Looper.java:216)&#160;\r\n            at android.app.ActivityThread.main(ActivityThread.java:7625)&#160;\r\n            at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)&#160;\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)&#160;\r\n    2023-02-01 12:30:36.490 14329-14359/com.aeroprotechnik.mismart E/AwareLog: AtomicFileUtils: readFileLines file not exist: android.util.AtomicFile@d86ec08\r\n    2023-02-01 12:30:36.492 14329-14359/com.aeroprotechnik.mismart E/AwareLog: AtomicFileUtils: readFileLines file not exist: android.util.AtomicFile@48d1fa1\r\n    2023-02-01 12:30:36.518 14329-14350/com.aeroprotechnik.mismart E/MemoryLeakMonitorManager: MemoryLeakMonitor.jar is not exist!\r\n    2023-02-01 12:30:39.070 14329-14340/com.aeroprotechnik.mismart E/: [ZeroHung]zrhung_get_config: Get config failed for wp[0x0008]\r\n\r\n","title":"UndeliverableException on a simple Observer. I don&#39;t understand where come from","body":"<p>The error message is:</p>\n<blockquote>\n<p>The exception could not be delivered to the consumer because it has already canceled/disposed the flow or the exception has nowhere to go to begin with.</p>\n</blockquote>\n<p>I cant get where it comes from...</p>\n<p>From where I've been searching, the problem is on error handling, which I don't know where should I do it.\nI need to solve this as fast as I can if you guys can help me out.</p>\n<p>So my LocationService:</p>\n<pre><code>public class LocationService extends Service {\n    public static ArrayList&lt;LatLng&gt; locationArrayList = new ArrayList&lt;LatLng&gt;();\n\n    FusedLocationProviderClient fusedLocationClient;\n    LocationRequest locationRequest;\n    LocationCallback locationCallback;\n    Context context;\n\n\n    private void startLocationUpdates() {\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for ActivityCompat#requestPermissions for more details.\n\n            return;\n        }\n\n        fusedLocationClient.requestLocationUpdates(locationRequest,\n                locationCallback,\n                Looper.getMainLooper());\n    }\n\n    protected void createLocationRequest() {\n        LocationRequest locationRequest = LocationRequest.create();\n        locationRequest.setInterval(3000);\n        locationRequest.setFastestInterval(5000);\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n    }\n\n\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        RxJavaPlugins.setErrorHandler(emptyConsumer());\n        new Notification();\n\n\n        fusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\n\n        createNotificationChanel() ;\n\n        locationRequest = LocationRequest.create();\n        locationRequest.setInterval(7000);\n        locationRequest.setFastestInterval(3000);\n        locationRequest.setMaxWaitTime(5000);\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n\n\n\n        locationCallback = new LocationCallback() {\n            @Override\n            public void onLocationResult(@NonNull LocationResult locationResult) {\n                Location location =  locationResult.getLastLocation();\n                assert location != null;\n                com.aeroprotechnik.mismart.utils.NotificationManager.updateNotificationMessage(new LLcoor(location.getLongitude(), location.getLatitude()));\n\n\n\n\n                //locationArrayList.add(new LatLng(location.getLatitude(), location.getLongitude()));\n\n               /* for (Location location : locationResult.getLocations()) {\n                  location\n                }*/\n            }\n        };\n        startLocationUpdates();\n\n        RxJavaPlugins.setErrorHandler(emptyConsumer());\n    }\n\n\n\n\n    private static void sendMessageToActivity(Context context ,double latitude, double longitude) {\n        Intent intent = new Intent(&quot;GPSLocationUpdates&quot;);\n        // You can also include some extra data.\n        intent.putExtra(&quot;latitude&quot;, latitude);\n        intent.putExtra(&quot;longitude&quot;, longitude);\n        LocalBroadcastManager.getInstance(context).sendBroadcast(intent);\n    }\n\n    private void createNotificationChanel() {\n        String notificationChannelId = &quot;Location channel id&quot;;\n        String channelName = &quot;Background Service&quot;;\n\n        NotificationChannel chan = new NotificationChannel(\n                notificationChannelId,\n                channelName,\n                NotificationManager.IMPORTANCE_NONE\n        );\n        chan.setLightColor(Color.BLUE);\n        chan.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\n\n        NotificationManager manager = getSystemService(NotificationManager.class);\n\n        manager.createNotificationChannel(chan);\n\n        NotificationCompat.Builder notificationBuilder =\n                new NotificationCompat.Builder(this, notificationChannelId);\n\n        Notification notification = notificationBuilder.setOngoing(true)\n                .setContentTitle(&quot;Location updates:&quot;)\n                .setPriority(NotificationManager.IMPORTANCE_MIN)\n                .setCategory(Notification.CATEGORY_SERVICE)\n                .build();\n        startForeground(2, notification);\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        super.onStartCommand(intent, flags, startId);\n        return START_STICKY;\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        fusedLocationClient.removeLocationUpdates(locationCallback);\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n\n}\n</code></pre>\n<p>My NotificationLiveData:</p>\n<pre><code>public class NotificationLiveData extends LiveData&lt;LLcoor&gt; {\n    public void setNotification(LLcoor coor){\n        postValue(coor);\n    }\n}\n</code></pre>\n<p>My manager:</p>\n<pre><code>public class NotificationManager extends LiveData&lt;LLcoor&gt; {\n\n    private static final NotificationLiveData notificationLiveData = new NotificationLiveData();\n\n\n\n    public static void updateNotificationMessage(LLcoor data){\n        RxJavaPlugins.setErrorHandler(emptyConsumer());\n\n        notificationLiveData.setNotification(data);\n\n    }\n\n    public static NotificationLiveData getNotificationLiveData() {\n        return notificationLiveData;\n    }\n}\n</code></pre>\n<p>My observer:</p>\n<pre><code>  private final Observer&lt;LLcoor&gt; notificationObserver = new Observer&lt;LLcoor&gt;() {\n\n        @Override\n        public void onChanged(LLcoor coor) {\n            Feature f = Feature.fromGeometry(Point.fromLngLat(coor.getLongitude(), coor.getLatitude()));\n            Log.e(&quot;FEATURE ADDED&quot;, f.toString());\n            mypos.clear();\n            mypos.add(f);\n\n        }\n    };\n</code></pre>\n<p>Error Log:</p>\n<pre><code>io.reactivex.exceptions.UndeliverableException: The exception could not be delivered to the consumer because it has already canceled/disposed the flow or the exception has nowhere to go to begin with. Further reading: https://github.com/ReactiveX/RxJava/wiki/What's-different-in-2.0#error-handling | android.content.res.Resources$NotFoundException: Drawable com.aeroprotechnik.mismart:color/azure_maps_bg_dark with resource ID #0x7f06001d\n        at io.reactivex.plugins.RxJavaPlugins.onError(RxJavaPlugins.java:367)\n        at io.reactivex.internal.observers.ConsumerSingleObserver.onSuccess(ConsumerSingleObserver.java:65)\n        at io.reactivex.internal.operators.single.SingleObserveOn$ObserveOnSingleObserver.run(SingleObserveOn.java:81)\n        at io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:124)\n        at android.os.Handler.handleCallback(Handler.java:907)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:216)\n        at android.app.ActivityThread.main(ActivityThread.java:7625)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\n     Caused by: android.content.res.Resources$NotFoundException: Drawable com.aeroprotechnik.mismart:color/azure_maps_bg_dark with resource ID #0x7f06001d\n     Caused by: android.content.res.Resources$NotFoundException: File res/color/azure_maps_bg_dark.xml from drawable resource ID #0x7f06001d\n        at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:1166)\n        at android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:917)\n        at android.content.res.Resources.getDrawableForDensity(Resources.java:1074)\n        at android.content.res.Resources.getDrawable(Resources.java:1013)\n        at android.content.Context.getDrawable(Context.java:630)\n        at android.view.View.setBackgroundResource(View.java:21728)\n        at androidx.appcompat.widget.AppCompatTextView.setBackgroundResource(AppCompatTextView.java:144)\n        at com.azure.android.maps.control.CopyrightDelegate.b(SourceFile:3)\n        at com.azure.android.maps.control.CopyrightDelegate.$r8$lambda$35Myr-cFRF2s-DrL_gjzL00mHSc(Unknown Source:0)\n        at com.azure.android.maps.control.CopyrightDelegate$$ExternalSyntheticLambda3.accept(Unknown Source:4)\n        at io.reactivex.internal.observers.ConsumerSingleObserver.onSuccess(ConsumerSingleObserver.java:62)\n        at io.reactivex.internal.operators.single.SingleObserveOn$ObserveOnSingleObserver.run(SingleObserveOn.java:81)\n        at io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:124)\n        at android.os.Handler.handleCallback(Handler.java:907)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:216)\n        at android.app.ActivityThread.main(ActivityThread.java:7625)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\n     Caused by: org.xmlpull.v1.XmlPullParserException: Binary XML file line #3: &lt;item&gt; tag requires a 'drawable' attribute or child tag defining a drawable\n        at android.graphics.drawable.StateListDrawable.inflateChildElements(StateListDrawable.java:190)\n        at android.graphics.drawable.StateListDrawable.inflate(StateListDrawable.java:122)\n        at android.graphics.drawable.DrawableInflater.inflateFromXmlForDensity(DrawableInflater.java:148)\n        at android.graphics.drawable.Drawable.createFromXmlInnerForDensity(Drawable.java:1332)\n        at android.graphics.drawable.Drawable.createFromXmlForDensity(Drawable.java:1291)\n        at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:1144)\n        at android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:917)\n        at android.content.res.Resources.getDrawableForDensity(Resources.java:1074)\n        at android.content.res.Resources.getDrawable(Resources.java:1013)\n        at android.content.Context.getDrawable(Context.java:630)\n        at android.view.View.setBackgroundResource(View.java:21728)\n        at androidx.appcompat.widget.AppCompatTextView.setBackgroundResource(AppCompatTextView.java:144)\n        at com.azure.android.maps.control.CopyrightDelegate.b(SourceFile:3)\n        at com.azure.android.maps.control.CopyrightDelegate.$r8$lambda$35Myr-cFRF2s-DrL_gjzL00mHSc(Unknown Source:0)\n        at com.azure.android.maps.control.CopyrightDelegate$$ExternalSyntheticLambda3.accept(Unknown Source:4)\n        at io.reactivex.internal.observers.ConsumerSingleObserver.onSuccess(ConsumerSingleObserver.java:62)\n        at io.reactivex.internal.operators.single.SingleObserveOn$ObserveOnSingleObserver.run(SingleObserveOn.java:81)\n        at io.reactivex.android.schedulers.HandlerScheduler$ScheduledRunnable.run(HandlerScheduler.java:124)\n        at android.os.Handler.handleCallback(Handler.java:907)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:216)\n        at android.app.ActivityThread.main(ActivityThread.java:7625)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:524)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:987)\n2023-02-01 12:30:36.490 14329-14359/com.aeroprotechnik.mismart E/AwareLog: AtomicFileUtils: readFileLines file not exist: android.util.AtomicFile@d86ec08\n2023-02-01 12:30:36.492 14329-14359/com.aeroprotechnik.mismart E/AwareLog: AtomicFileUtils: readFileLines file not exist: android.util.AtomicFile@48d1fa1\n2023-02-01 12:30:36.518 14329-14350/com.aeroprotechnik.mismart E/MemoryLeakMonitorManager: MemoryLeakMonitor.jar is not exist!\n2023-02-01 12:30:39.070 14329-14340/com.aeroprotechnik.mismart E/: [ZeroHung]zrhung_get_config: Get config failed for wp[0x0008]\n</code></pre>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1674838539,"post_id":75261041,"comment_id":132805564,"body_markdown":"`return compare(left, right, comparedArray, index++);` change index++ to index + 1","body":"<code>return compare(left, right, comparedArray, index++);</code> change index++ to index + 1"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1674838709,"post_id":75261041,"comment_id":132805623,"body_markdown":"Also, just FYI, building arrays like this should be done iteratively precisely to prevent stack overflow errors","body":"Also, just FYI, building arrays like this should be done iteratively precisely to prevent stack overflow errors"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675322538,"creation_date":1674839061,"answer_id":75261186,"question_id":75261041,"body_markdown":"Look at your example, you have `return compare(left, right, comparedArray, index++);`\r\n\r\n`i++` means **use then increment**. It means that you pass the `i` itself to the next step.\r\n\r\nYou should use `++i`, what means **increment then use**.\r\n\r\nMy personal reccomentation is to use `i + 1` instead. This is simple and super clear. And no side effects.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    int[] one = { 1, 2, 4, 8, 11 };\r\n    int[] two = { 1, 3, 2, 9, 10 };\r\n    int[] res = compare(one, two);\r\n\r\n    System.out.println(Arrays.stream(res)\r\n                             .mapToObj(String::valueOf)\r\n                             .collect(Collectors.joining(&quot; &quot;)));\r\n}\r\n\r\npublic static int[] compare(int[] one, int[] two) {\r\n    int[] res = new int[Math.min(one.length, two.length)];\r\n    compare(one, two, res, 0);\r\n    return res;\r\n}\r\n\r\nprivate static void compare(int[] one, int[] two, int[] res, int i) {\r\n    if (i &lt; res.length) {\r\n        res[i] = Math.max(one[i], two[i]);\r\n        compare(one, two, res, i + 1);\r\n    }\r\n}\r\n```","title":"How do I build an array recursively?","body":"<p>Look at your example, you have <code>return compare(left, right, comparedArray, index++);</code></p>\n<p><code>i++</code> means <strong>use then increment</strong>. It means that you pass the <code>i</code> itself to the next step.</p>\n<p>You should use <code>++i</code>, what means <strong>increment then use</strong>.</p>\n<p>My personal reccomentation is to use <code>i + 1</code> instead. This is simple and super clear. And no side effects.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    int[] one = { 1, 2, 4, 8, 11 };\n    int[] two = { 1, 3, 2, 9, 10 };\n    int[] res = compare(one, two);\n\n    System.out.println(Arrays.stream(res)\n                             .mapToObj(String::valueOf)\n                             .collect(Collectors.joining(&quot; &quot;)));\n}\n\npublic static int[] compare(int[] one, int[] two) {\n    int[] res = new int[Math.min(one.length, two.length)];\n    compare(one, two, res, 0);\n    return res;\n}\n\nprivate static void compare(int[] one, int[] two, int[] res, int i) {\n    if (i &lt; res.length) {\n        res[i] = Math.max(one[i], two[i]);\n        compare(one, two, res, i + 1);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21211399,"reputation":337,"user_id":15599916,"display_name":"Gabriel Gavrilov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75261186,"answer_count":1,"score":0,"last_activity_date":1675322538,"creation_date":1674838146,"question_id":75261041,"body_markdown":"For one of my recursive practice questions, I have to build an integer array by comparing two arrays at the index, and add the greater value to a third array. the method has to follow this format: ``public static int[] compare(int[] left, int[] right);``\r\n\r\nThe way I did my method gives me a stack overflow error, and I genuinely have no clue what to do anymore. If someone could help guide me to the right direction that would be great.\r\n\r\n```\r\npublic class RecursiveMethod {\r\n    public static void main(String[] args) {\r\n\r\n        int[] left = {1, 2, 4, 8, 11};\r\n        int[] right = {1, 3, 2, 9, 10};\r\n        int[] comparedArray = new int[5];\r\n\r\n        comparedArray = compare(left, right, comparedArray, 0);\r\n\r\n        for(int i : comparedArray) {\r\n            System.out.print(i + &quot; &quot;);\r\n        }\r\n\r\n    }\r\n\r\n    public static int[] compare(int[] left, int[] right, int[] comparedArray, int index) {\r\n        if(index &gt;= comparedArray.length) {\r\n            return comparedArray;\r\n        }\r\n\r\n        else {\r\n            int greater = 0;\r\n            if(left[index] &gt; right[index]) greater = left[index];\r\n            else if(left[index] &lt; right[index]) greater = right[index];\r\n            comparedArray[index] = greater;\r\n        }\r\n\r\n        return compare(left, right, comparedArray, index++);\r\n    }\r\n\r\n\r\n}\r\n```","title":"How do I build an array recursively?","body":"<p>For one of my recursive practice questions, I have to build an integer array by comparing two arrays at the index, and add the greater value to a third array. the method has to follow this format: <code>public static int[] compare(int[] left, int[] right);</code></p>\n<p>The way I did my method gives me a stack overflow error, and I genuinely have no clue what to do anymore. If someone could help guide me to the right direction that would be great.</p>\n<pre><code>public class RecursiveMethod {\n    public static void main(String[] args) {\n\n        int[] left = {1, 2, 4, 8, 11};\n        int[] right = {1, 3, 2, 9, 10};\n        int[] comparedArray = new int[5];\n\n        comparedArray = compare(left, right, comparedArray, 0);\n\n        for(int i : comparedArray) {\n            System.out.print(i + &quot; &quot;);\n        }\n\n    }\n\n    public static int[] compare(int[] left, int[] right, int[] comparedArray, int index) {\n        if(index &gt;= comparedArray.length) {\n            return comparedArray;\n        }\n\n        else {\n            int greater = 0;\n            if(left[index] &gt; right[index]) greater = left[index];\n            else if(left[index] &lt; right[index]) greater = right[index];\n            comparedArray[index] = greater;\n        }\n\n        return compare(left, right, comparedArray, index++);\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"score":0,"creation_date":1675290175,"post_id":75316745,"comment_id":132899688,"body_markdown":"maybe this is capped by your CPU or operation system? can you verify that other applications on the same technology are able to interact faster?","body":"maybe this is capped by your CPU or operation system? can you verify that other applications on the same technology are able to interact faster?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1675290313,"post_id":75316745,"comment_id":132899736,"body_markdown":"There are a lot of things which would effect the timer - OS thread scheduling and system overheads; your own code efficiencies, for example Swing `Timer` uses a &quot;coalescing&quot;  mechanism which prevents it from posting more events onto the Event Dispatching Queue while previously pending events are still in the event queue","body":"There are a lot of things which would effect the timer - OS thread scheduling and system overheads; your own code efficiencies, for example Swing <code>Timer</code> uses a &quot;coalescing&quot;  mechanism which prevents it from posting more events onto the Event Dispatching Queue while previously pending events are still in the event queue"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1675290370,"post_id":75316745,"comment_id":132899756,"body_markdown":"I&#39;ve used Swing `Timer`s set to 5 milliseconds without issue in the past, maybe consider providing a [mcve] which demonstrates your problem","body":"I&#39;ve used Swing <code>Timer</code>s set to 5 milliseconds without issue in the past, maybe consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which demonstrates your problem"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1675291418,"post_id":75316745,"comment_id":132900043,"body_markdown":"Whatever number you set it to, never trust the timer to be completely precise, and instead base your animation delta translations on measured time differences.","body":"Whatever number you set it to, never trust the timer to be completely precise, and instead base your animation delta translations on measured time differences."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1675291840,"post_id":75316745,"comment_id":132900135,"body_markdown":"^-- That&#39;s actually a really good point, `Timer` and `Thread.sleep` only guarantee a &quot;at least&quot; amount of delay","body":"^-- That&#39;s actually a really good point, <code>Timer</code> and <code>Thread.sleep</code> only guarantee a &quot;at least&quot; amount of delay"}],"owner":{"account_id":27171904,"reputation":11,"user_id":20708443,"display_name":"silkmoon18"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675322452,"creation_date":1675289512,"question_id":75316745,"body_markdown":"When the delay is set to 0, what is the interval for the listener to be called? \r\n\r\n\r\n\r\n\r\nI tried changing delay to various values, but my listener was capped at about 60 times per second, unless I changed it to larger value like 100. Is 60 fps the defualt value? How can I increase the fps?\r\n\r\n```\r\n\r\npublic class test {\r\n    static long previousTime;\r\n\r\n    public static void main(String[] args) {\r\n        Timer timer = new Timer(0, new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                long currentTime = System.currentTimeMillis();\r\n                System.out.println((currentTime - previousTime) / 1000d);\r\n                previousTime = System.currentTimeMillis();\r\n            }\r\n        });\r\n\r\n        timer.start();\r\n\r\n        while (true);\r\n    }\r\n}\r\n```\r\nThis is the code I tested with. When delay is not big enough, it prints around 0.015. ","title":"Java swing timer when delay is set to 0?","body":"<p>When the delay is set to 0, what is the interval for the listener to be called?</p>\n<p>I tried changing delay to various values, but my listener was capped at about 60 times per second, unless I changed it to larger value like 100. Is 60 fps the defualt value? How can I increase the fps?</p>\n<pre><code>\npublic class test {\n    static long previousTime;\n\n    public static void main(String[] args) {\n        Timer timer = new Timer(0, new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                long currentTime = System.currentTimeMillis();\n                System.out.println((currentTime - previousTime) / 1000d);\n                previousTime = System.currentTimeMillis();\n            }\n        });\n\n        timer.start();\n\n        while (true);\n    }\n}\n</code></pre>\n<p>This is the code I tested with. When delay is not big enough, it prints around 0.015.</p>\n"},{"tags":["java","windows"],"answers":[{"comments":[{"owner":{"account_id":10987912,"reputation":469,"user_id":8072948,"display_name":"Debayan"},"score":0,"creation_date":1675328177,"post_id":75319796,"comment_id":132906175,"body_markdown":"After setting the classpath it is running.\nThanks","body":"After setting the classpath it is running. Thanks"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1675363394,"post_id":75319796,"comment_id":132918432,"body_markdown":"The classpath points to the (list of) directory where Java should search for com/work/Some.class and other such files.","body":"The classpath points to the (list of) directory where Java should search for com/work/Some.class and other such files."}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675322180,"creation_date":1675322180,"answer_id":75319796,"question_id":75319780,"body_markdown":"Do not run this from the `work` folder. Go two levels up, then run\r\n\r\n    java com.work.Some\r\n\r\nIf this does not help, additionally set the classpath\r\n\r\n    java -classpath . com.work.Some","title":"Getting java.lang.NoClassDefFoundError while running .class file with certain package","body":"<p>Do not run this from the <code>work</code> folder. Go two levels up, then run</p>\n<pre><code>java com.work.Some\n</code></pre>\n<p>If this does not help, additionally set the classpath</p>\n<pre><code>java -classpath . com.work.Some\n</code></pre>\n"}],"owner":{"account_id":10987912,"reputation":469,"user_id":8072948,"display_name":"Debayan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675322180,"creation_date":1675322053,"question_id":75319780,"body_markdown":"Consider Some.java file\r\ninside com/work folder. I have given the package name accordingly.\r\n```\r\npackage com.work;\r\n \r\nclass Some{\r\n\tpublic static void main(String... args){\r\n\t\tSystem.out.println(&quot;Hello World&quot;);\r\n\t}\r\n}\r\n```\r\nI am able to compile this Some.java file and get the respective Some.class file,\r\nBut when I am trying to run the Some.class file with command **java Some**, considering I am in the work folder, I am getting the below error.\r\n```\r\nError: Could not find or load main class com.work.some\r\nCaused by: java.lang.ClassNotFoundException: com.work.some\r\n```","title":"Getting java.lang.NoClassDefFoundError while running .class file with certain package","body":"<p>Consider Some.java file\ninside com/work folder. I have given the package name accordingly.</p>\n<pre><code>package com.work;\n \nclass Some{\n    public static void main(String... args){\n        System.out.println(&quot;Hello World&quot;);\n    }\n}\n</code></pre>\n<p>I am able to compile this Some.java file and get the respective Some.class file,\nBut when I am trying to run the Some.class file with command <strong>java Some</strong>, considering I am in the work folder, I am getting the below error.</p>\n<pre><code>Error: Could not find or load main class com.work.some\nCaused by: java.lang.ClassNotFoundException: com.work.some\n</code></pre>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1675208747,"post_id":75304177,"comment_id":132878662,"body_markdown":"This question might help:  https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors","body":"This question might help:  <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\" title=\"what is a stack trace and how can i use it to debug my application errors\">stackoverflow.com/questions/3988788/&hellip;</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1675209767,"post_id":75304177,"comment_id":132878820,"body_markdown":"Consider providing a [mcve] which demonstrates your issue. Are you aware that [`JTable` supports inline sorting](https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#sorting)","body":"Consider providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which demonstrates your issue. Are you aware that <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html#sorting\" rel=\"nofollow noreferrer\"><code>JTable</code> supports inline sorting</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1675215994,"post_id":75304177,"comment_id":132879707,"body_markdown":"Why are you storing the data in two places? You don&#39;t need the ArrayList to hold your Users. The TableModel will hold all your Users. So all you need to do is remove the row from the TableModel. Because the data is sorted you need to convert the &quot;view&quot; row number to the &quot;model&quot; row number before you can delete the row from the model. Read the JTable API for the `convert???` methods that do this for you.","body":"Why are you storing the data in two places? You don&#39;t need the ArrayList to hold your Users. The TableModel will hold all your Users. So all you need to do is remove the row from the TableModel. Because the data is sorted you need to convert the &quot;view&quot; row number to the &quot;model&quot; row number before you can delete the row from the model. Read the JTable API for the <code>convert???</code> methods that do this for you."},{"owner":{"account_id":20231120,"reputation":761,"user_id":14837632,"display_name":"Soccerball123"},"score":0,"creation_date":1675297153,"post_id":75304177,"comment_id":132901050,"body_markdown":"@camickr I&#39;ve been trying to use convert as shown in my edit but I&#39;m unable to make the changes appear on the GUI itself, do you know why?","body":"@camickr I&#39;ve been trying to use convert as shown in my edit but I&#39;m unable to make the changes appear on the GUI itself, do you know why?"},{"owner":{"account_id":20231120,"reputation":761,"user_id":14837632,"display_name":"Soccerball123"},"score":0,"creation_date":1675297253,"post_id":75304177,"comment_id":132901066,"body_markdown":"@MadProgrammer yes I am aware, but I am trying to implement a programmable sort myself to get an understanding for this","body":"@MadProgrammer yes I am aware, but I am trying to implement a programmable sort myself to get an understanding for this"},{"owner":{"account_id":20231120,"reputation":761,"user_id":14837632,"display_name":"Soccerball123"},"score":0,"creation_date":1675305288,"post_id":75304177,"comment_id":132902228,"body_markdown":"@MadProgrammer I added the minimal reproducible example, I just really don&#39;t know how to solve this problem and I really want to know how to fix it","body":"@MadProgrammer I added the minimal reproducible example, I just really don&#39;t know how to solve this problem and I really want to know how to fix it"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1675306062,"post_id":75304177,"comment_id":132902328,"body_markdown":"This is not a valid [mre] -- it has resource requirements that we have no access to, such as some text file, perhaps db.txt. Without this file, with the correct data and in the correct location, this code throws a `FileNotFoundException`. Please read the [MRE](https://stackoverflow.com/help/minimal-reproducible-example) link and test your mre in isolation to be sure that it complies with requirements. Best to do this before asking a question, but better late than never.","body":"This is not a valid <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> -- it has resource requirements that we have no access to, such as some text file, perhaps db.txt. Without this file, with the correct data and in the correct location, this code throws a <code>FileNotFoundException</code>. Please read the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a> link and test your mre in isolation to be sure that it complies with requirements. Best to do this before asking a question, but better late than never."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1675306166,"post_id":75304177,"comment_id":132902340,"body_markdown":"And also, as noted by @OldDogProgrammer, have you used your debugger to step through the code near where the errors are occurring to see for yourself why they are occurring?","body":"And also, as noted by @OldDogProgrammer, have you used your debugger to step through the code near where the errors are occurring to see for yourself why they are occurring?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1675306745,"post_id":75304177,"comment_id":132902405,"body_markdown":"Also: 1) Get most of that code out of the static world and into the instance world. 2) Learn and follow Java naming conventions: Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others. 3) Less cluttering of code with comments. Some commenting is good, but too many frivolous comments makes your code harder to read and understand, something that you don&#39;t want to do when asking others for help...","body":"Also: 1) Get most of that code out of the static world and into the instance world. 2) Learn and follow Java naming conventions: Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others. 3) Less cluttering of code with comments. Some commenting is good, but too many frivolous comments makes your code harder to read and understand, something that you don&#39;t want to do when asking others for help..."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1675306823,"post_id":75304177,"comment_id":132902414,"body_markdown":"4) Refacter your code, especially the large `UserManager.java` &quot;God&quot;-class, so that one class has one single responsibility. Best to have multiple small classes that are easy to understand, and that are ***easy to debug and test in isolation***. 5) And then do just that: test each class in isolation to find and fix your bugs.","body":"4) Refacter your code, especially the large <code>UserManager.java</code> &quot;God&quot;-class, so that one class has one single responsibility. Best to have multiple small classes that are easy to understand, and that are <b><i>easy to debug and test in isolation</i></b>. 5) And then do just that: test each class in isolation to find and fix your bugs."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1675307013,"post_id":75304177,"comment_id":132902437,"body_markdown":"Also, 6) [edit] and fix your question. The question is asking about an ArrayIndexOutOfBoundsException, but as far as I understand things, the current code doesn&#39;t throw this exception. Or does it?","body":"Also, 6) <a href=\"https://stackoverflow.com/posts/75304177/edit\">edit</a> and fix your question. The question is asking about an ArrayIndexOutOfBoundsException, but as far as I understand things, the current code doesn&#39;t throw this exception. Or does it?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1675307657,"post_id":75304177,"comment_id":132902530,"body_markdown":"Side issues: 1) Never set the bounds of a JTable. Never. That will mess with its ability to expand its rows and work correctly within its scrollpane. You really shouldn&#39;t set the bounds of any Swing component, but especially JTables and text components such as JTextAreas and JTextFields. 2) GridLayout is not a good layout for the main JPanel. Better might be BoxLayout, or a combination of layouts by nexting JPanels, each using its own simple layout, or consider using GridBagLayout, but again, not GridLayout.","body":"Side issues: 1) Never set the bounds of a JTable. Never. That will mess with its ability to expand its rows and work correctly within its scrollpane. You really shouldn&#39;t set the bounds of any Swing component, but especially JTables and text components such as JTextAreas and JTextFields. 2) GridLayout is not a good layout for the main JPanel. Better might be BoxLayout, or a combination of layouts by nexting JPanels, each using its own simple layout, or consider using GridBagLayout, but again, not GridLayout."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1675307659,"post_id":75304177,"comment_id":132902531,"body_markdown":"3) Don&#39;t set the size of the JFrame. Instead, first add all GUI components to it, then call `.pack()` on it, and *then* call `.setVisible(true)` on it.","body":"3) Don&#39;t set the size of the JFrame. Instead, first add all GUI components to it, then call <code>.pack()</code> on it, and <i>then</i> call <code>.setVisible(true)</code> on it."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1675309199,"post_id":75304177,"comment_id":132902738,"body_markdown":"Forget my suggestion to use a &quot;convert???&quot; method. That advice only applies when you use the JTable built in sorting. Since you are recreating the model in sorted order the view and model rows should be the same. The question is why is your index value of 2, if you only have 2 rows of data when you try to remove a row of data. That is what the Exception is telling you. Note, even if you use the code from the suggested answer below you still need to have the correct index to use when updating the model.","body":"Forget my suggestion to use a &quot;convert???&quot; method. That advice only applies when you use the JTable built in sorting. Since you are recreating the model in sorted order the view and model rows should be the same. The question is why is your index value of 2, if you only have 2 rows of data when you try to remove a row of data. That is what the Exception is telling you. Note, even if you use the code from the suggested answer below you still need to have the correct index to use when updating the model."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1675441688,"post_id":75304177,"comment_id":132936542,"body_markdown":"In editing the question, you removed an important part of the stack trace. The part of the stack trace that was removed from the question had this line: `at UserManager.actionPerformed(UserManager.java:200)`. It appears that `UserManager` is from your code. The error is associated with line 200 in that source code.","body":"In editing the question, you removed an important part of the stack trace. The part of the stack trace that was removed from the question had this line: <code>at UserManager.actionPerformed(UserManager.java:200)</code>. It appears that <code>UserManager</code> is from your code. The error is associated with line 200 in that source code."}],"answers":[{"comments":[{"owner":{"account_id":20231120,"reputation":761,"user_id":14837632,"display_name":"Soccerball123"},"score":0,"creation_date":1675404269,"post_id":75318390,"comment_id":132925770,"body_markdown":"Thank you so much for this example, I&#39;ve been able to build on it due to clarity in your coding! I just had one more question, how would I implement a search feature in this? In my example, I implemented a search feature using RowSorter. Is there a way I can use that to make a search tool here? I&#39;ve tried to do it the same way I did it using my old code by passing `employeeTableModel` as the `model` but it doesn&#39;t update the table and I&#39;m not really sure why.","body":"Thank you so much for this example, I&#39;ve been able to build on it due to clarity in your coding! I just had one more question, how would I implement a search feature in this? In my example, I implemented a search feature using RowSorter. Is there a way I can use that to make a search tool here? I&#39;ve tried to do it the same way I did it using my old code by passing <code>employeeTableModel</code> as the <code>model</code> but it doesn&#39;t update the table and I&#39;m not really sure why."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1675408139,"post_id":75318390,"comment_id":132926470,"body_markdown":"In theory, if you wanted to do it yourself, then I&#39;d use a proxy model, which wraps the original model and &quot;filters&quot; it based on your needs. This is not an uncommon solution and before we had the row sorter APIs, this is how we sorted `TableModel`s. For [example](https://stackoverflow.com/questions/27372678/filtering-jcombobox/27372985#27372985) (although this is a `JComboBox` based solution the basic principle remains the same)","body":"In theory, if you wanted to do it yourself, then I&#39;d use a proxy model, which wraps the original model and &quot;filters&quot; it based on your needs. This is not an uncommon solution and before we had the row sorter APIs, this is how we sorted <code>TableModel</code>s. For <a href=\"https://stackoverflow.com/questions/27372678/filtering-jcombobox/27372985#27372985\">example</a> (although this is a <code>JComboBox</code> based solution the basic principle remains the same)"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675322169,"creation_date":1675308614,"answer_id":75318390,"question_id":75304177,"body_markdown":"Instead of trying to treat your data and model as two seperate things, you should be wrapping your model around your data and allow to manage it, for example...\r\n\r\n    public class EmployeeTableModel extends AbstractTableModel {\r\n\r\n        private List&lt;Employee&gt; employees;\r\n        private String[] columnNames = {&quot;FName&quot;, &quot;LName&quot;, &quot;Salary&quot;};\r\n        private Class[] columnClasses = {String.class, String.class, Integer.class};\r\n\r\n        public EmployeeTableModel(List&lt;Employee&gt; employees) {\r\n            this.employees = employees;\r\n        }\r\n\r\n        public List&lt;Employee&gt; getEmployees() {\r\n            return employees;\r\n        }\r\n\r\n        public String[] getColumnNames() {\r\n            return columnNames;\r\n        }\r\n\r\n        public Class[] getColumnClasses() {\r\n            return columnClasses;\r\n        }\r\n\r\n        @Override\r\n        public int getRowCount() {\r\n            return getEmployees().size();\r\n        }\r\n\r\n        @Override\r\n        public int getColumnCount() {\r\n            return getColumnNames().length;\r\n        }\r\n\r\n        @Override\r\n        public String getColumnName(int column) {\r\n            return getColumnNames()[column];\r\n        }\r\n\r\n        @Override\r\n        public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n            return getColumnClasses()[columnIndex];\r\n        }\r\n\r\n        public void sortBySalary() {\r\n            BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\r\n                @Override\r\n                public int compare(Employee o1, Employee o2) {\r\n                    // This is decending...\r\n                    return o2.getSalary() - o1.getSalary();\r\n                    // This is acending\r\n                    //return o1.getSalary() - o2.getSalary();\r\n                }\r\n            });\r\n            // You could use\r\n            //fireTableRowsUpdated(0, getRowCount() - 1);\r\n            // But this will work just fine and will force a complete \r\n            // redraw of the table\r\n            fireTableDataChanged();\r\n        }\r\n\r\n        public void sortByFirstName() {\r\n            BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\r\n                @Override\r\n                public int compare(Employee o1, Employee o2) {\r\n                    return o1.getFirstName().compareTo(o2.getFirstName());\r\n                }\r\n            });\r\n            fireTableDataChanged();\r\n        }\r\n\r\n        public void sortByLastName() {\r\n            BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\r\n                @Override\r\n                public int compare(Employee o1, Employee o2) {\r\n                    return o1.getLastName().compareTo(o2.getLastName());\r\n                }\r\n            });\r\n            fireTableDataChanged();\r\n        }\r\n\r\n        public void add(Employee employee) {\r\n            int rowCount = getRowCount();\r\n            getEmployees().add(employee);\r\n            fireTableRowsInserted(rowCount, rowCount);\r\n        }\r\n\r\n        public void delete(Employee employee) {\r\n            List&lt;Employee&gt; employees = getEmployees();\r\n            for (int index = 0; index &lt; employees.size(); index++) {\r\n                if (employees.get(index).equals(employee)) {\r\n                    employees.remove(index);\r\n                    fireTableRowsDeleted(index, index);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public Object getValueAt(int rowIndex, int columnIndex) {\r\n            Employee employee = getEmployees().get(rowIndex);\r\n            switch (columnIndex) {\r\n                case 0:\r\n                    return employee.getFirstName();\r\n                case 1:\r\n                    return employee.getLastName();\r\n                case 2:\r\n                    return employee.getSalary();\r\n            }\r\n            throw new ArrayIndexOutOfBoundsException(rowIndex + &quot;x&quot; + columnIndex + &quot; is out of bounds&quot;);\r\n        }\r\n    }\r\n\r\nThis is a pretty basic concept of a custom `TableModel`.  It takes in a `List` of `Employee`s and provides the core implementation of the `TableModel` but also provides some helper methods, like `add` and `delete` which will trigger the appropriate events to allow a `JTable` to update itself.\r\n\r\nYou could easily back this with a &quot;database manager&quot; instead, so that sort/delete/add/update actions would all be delegated to it and those updates could be made to the &quot;database&quot; values as well, but I&#39;m going to leave that up to you to figure out.\r\n\r\nNow, I separated your `BubbleSort` into it&#39;s own, self contained and re-usable class...\r\n\r\n    public class BubbleSort {\r\n        public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; comparator) {\r\n            // Performing bubble sort\r\n            for (int i = 0; i &lt; list.size() - 1; i++) {\r\n                // Looping through indexes\r\n                for (int j = 0; j &lt; list.size() - 1; j++) {\r\n                    // Comapare the salaries of each indiviual and see if the previous is bigger than the next\r\n                    if (comparator.compare(list.get(j), list.get(j + 1)) &gt; 0) {\r\n                        // Initializing a temp employee to hold value before switching\r\n                        T temp = list.get(j);\r\n\r\n                        // Swap the employees\r\n                        list.set(j, list.get(j + 1));\r\n                        list.set(j + 1, temp);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThe only constraint is that you need to pass in a `Comparator` which is used to compare the two values in order to determine if they should be swapped.  &quot;But why do this?&quot; I hear you ask, because it&#39;s self contained and re-usable.\r\n\r\nSo, you want to sort by the salary right?  Do you want to sort in ascending...\r\n\r\n    BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\r\n        @Override\r\n        public int compare(Employee o1, Employee o2) {\r\n            return o1.getSalary() - o2.getSalary();\r\n        }\r\n    });\r\n\r\n\r\nor decending order?\r\n\r\n    BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\r\n        @Override\r\n        public int compare(Employee o1, Employee o2) {\r\n            return o2.getSalary() - o1.getSalary();\r\n        }\r\n    });\r\n\r\nSurprisingly, you can now do both, without much of an effort.  But wait, what if you want to sort by the first name?!\r\n\r\n    BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\r\n        @Override\r\n        public int compare(Employee o1, Employee o2) {\r\n            return o1.getFirstName().compareTo(o2.getFirstName());\r\n        }\r\n    });\r\n\r\nor last name?!\r\n\r\n    BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\r\n        @Override\r\n        public int compare(Employee o1, Employee o2) {\r\n            return o1.getLastName().compareTo(o2.getLastName());\r\n        }\r\n    });\r\n\r\nSee, re-usable.\r\n\r\nYou could even come with some combination of those, first name and salary, sure, doable, just write a new `Comparator`.  Want to sort some other type of value, sure, so long as you supply a compatible `Comparator`, not a problem.\r\n\r\n# Runnable example\r\n\r\nI&#39;ve not bothered with your &quot;database&quot;, as it&#39;s really not part of the problem, instead, I&#39;ve focused on getting the table model and sorting to work together (and deleting, because you know, why not).\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Comparator;\r\n    import javax.swing.*;\r\n    import java.util.List;\r\n    import java.util.Objects;\r\n    import java.util.Random;\r\n    import javax.swing.border.EmptyBorder;\r\n    import javax.swing.table.*;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new MainPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class MainPane extends JPanel {\r\n\r\n            private EmployeeTableModel employeeTableModel;\r\n            private JTable table;\r\n\r\n            public MainPane() {\r\n                Random rnd = new Random();\r\n                List&lt;Employee&gt; employees = new ArrayList&lt;&gt;(\r\n                        Arrays.asList(\r\n                                new Employee[]{\r\n                                    new Employee(&quot;Alesha&quot;, &quot;Golden&quot;, rnd.nextInt(999) + 1),\r\n                                    new Employee(&quot;Gerald&quot;, &quot;Guerrero&quot;, rnd.nextInt(999) + 1),\r\n                                    new Employee(&quot;Georgina&quot;, &quot;Delacruz&quot;, rnd.nextInt(999) + 1),\r\n                                    new Employee(&quot;Michael&quot;, &quot;Delgado&quot;, rnd.nextInt(999) + 1),\r\n                                    new Employee(&quot;Aysha&quot;, &quot;Zimmerman&quot;, rnd.nextInt(999) + 1),\r\n                                    new Employee(&quot;Yahya&quot;, &quot;Moreno&quot;, rnd.nextInt(999) + 1),\r\n                                    new Employee(&quot;Max&quot;, &quot;Reyes&quot;, rnd.nextInt(999) + 1),\r\n                                    new Employee(&quot;Julia&quot;, &quot;Salinas&quot;, rnd.nextInt(999) + 1),\r\n                                    new Employee(&quot;Aleeza&quot;, &quot;Flores&quot;, rnd.nextInt(999) + 1),\r\n                                    new Employee(&quot;Milton&quot;, &quot;Frye&quot;, rnd.nextInt(999) + 1),}\r\n                        )\r\n                );\r\n                employeeTableModel = new EmployeeTableModel(employees);\r\n                table = new JTable(employeeTableModel);\r\n\r\n                setLayout(new BorderLayout());\r\n                add(new JScrollPane(table));\r\n\r\n                JButton sortBySalaryButton = new JButton(&quot;Sort by Salary&quot;);\r\n                sortBySalaryButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        employeeTableModel.sortBySalary();\r\n                    }\r\n                });\r\n                JButton sortByFirstNameButton = new JButton(&quot;Sort by First name&quot;);\r\n                sortByFirstNameButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        employeeTableModel.sortByFirstName();\r\n                    }\r\n                });\r\n                JButton sortLastNameButton = new JButton(&quot;Sort by Last name&quot;);\r\n                sortLastNameButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        employeeTableModel.sortByLastName();\r\n                    }\r\n                });\r\n                // I&#39;d normally use a SelectionListener to monitor\r\n                // changes to the table in order to enable/disable this\r\n                // button, but that&#39;s beyond the scope\r\n                JButton deleteButton = new JButton(&quot;Delete&quot;);\r\n                deleteButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        int selectedRow = table.getSelectedRow();\r\n                        if (selectedRow &lt; 0) {\r\n                            return;\r\n                        }\r\n                        Employee employee = employeeTableModel.getEmployeeAt(selectedRow);\r\n                        employeeTableModel.delete(employee);\r\n                    }\r\n                });\r\n\r\n                JPanel actionPane = new JPanel(new GridBagLayout());\r\n                actionPane.setBorder(new EmptyBorder(8, 8, 8, 8));\r\n                actionPane.add(sortBySalaryButton);\r\n                actionPane.add(sortByFirstNameButton);\r\n                actionPane.add(sortLastNameButton);\r\n                actionPane.add(deleteButton);\r\n                add(actionPane, BorderLayout.SOUTH);\r\n            }\r\n\r\n        }\r\n\r\n        class Employee {\r\n            // Initalizing variables\r\n            private String firstName;\r\n            private String lastName;\r\n            private int salary;\r\n\r\n            public Employee(String firstName, String lastName, int salary) {\r\n                this.firstName = firstName;\r\n                this.lastName = lastName;\r\n                this.salary = salary;\r\n            }\r\n\r\n            public String getFirstName() {\r\n                return firstName;\r\n            }\r\n\r\n            public String getLastName() {\r\n                return lastName;\r\n            }\r\n\r\n            public int getSalary() {\r\n                return salary;\r\n            }\r\n\r\n            @Override\r\n            public int hashCode() {\r\n                int hash = 7;\r\n                hash = 59 * hash + Objects.hashCode(this.firstName);\r\n                hash = 59 * hash + Objects.hashCode(this.lastName);\r\n                hash = 59 * hash + this.salary;\r\n                return hash;\r\n            }\r\n\r\n            @Override\r\n            public boolean equals(Object obj) {\r\n                if (!(obj instanceof Employee)) {\r\n                    return false;\r\n                }\r\n                Employee other = (Employee) obj;\r\n                return getFirstName().equals(other.getFirstName())\r\n                        &amp;&amp; getLastName().equals(other.getLastName())\r\n                        &amp;&amp; getSalary() == other.getSalary();\r\n            }\r\n        }\r\n\r\n        public class EmployeeTableModel extends AbstractTableModel {\r\n\r\n            private List&lt;Employee&gt; employees;\r\n            private String[] columnNames = {&quot;FName&quot;, &quot;LName&quot;, &quot;Salary&quot;};\r\n            private Class[] columnClasses = {String.class, String.class, Integer.class};\r\n\r\n            public EmployeeTableModel(List&lt;Employee&gt; employees) {\r\n                this.employees = employees;\r\n            }\r\n\r\n            public List&lt;Employee&gt; getEmployees() {\r\n                return employees;\r\n            }\r\n\r\n            public String[] getColumnNames() {\r\n                return columnNames;\r\n            }\r\n\r\n            public Class[] getColumnClasses() {\r\n                return columnClasses;\r\n            }\r\n\r\n            public Employee getEmployeeAt(int row) {\r\n                return getEmployees().get(row);\r\n            }\r\n\r\n            @Override\r\n            public int getRowCount() {\r\n                return getEmployees().size();\r\n            }\r\n\r\n            @Override\r\n            public int getColumnCount() {\r\n                return getColumnNames().length;\r\n            }\r\n\r\n            @Override\r\n            public String getColumnName(int column) {\r\n                return getColumnNames()[column];\r\n            }\r\n\r\n            @Override\r\n            public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n                return getColumnClasses()[columnIndex];\r\n            }\r\n\r\n            public void sortBySalary() {\r\n                BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\r\n                    @Override\r\n                    public int compare(Employee o1, Employee o2) {\r\n                        // This is decending...\r\n                        return o2.getSalary() - o1.getSalary();\r\n                        // This is acending\r\n                        //return o1.getSalary() - o2.getSalary();\r\n                    }\r\n                });\r\n                // You could use\r\n                //fireTableRowsUpdated(0, getRowCount() - 1);\r\n                // But this will work just fine and will force a complete \r\n                // redraw of the table\r\n                fireTableDataChanged();\r\n            }\r\n\r\n            public void sortByFirstName() {\r\n                BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\r\n                    @Override\r\n                    public int compare(Employee o1, Employee o2) {\r\n                        return o1.getFirstName().compareTo(o2.getFirstName());\r\n                    }\r\n                });\r\n                fireTableDataChanged();\r\n            }\r\n\r\n            public void sortByLastName() {\r\n                BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\r\n                    @Override\r\n                    public int compare(Employee o1, Employee o2) {\r\n                        return o1.getLastName().compareTo(o2.getLastName());\r\n                    }\r\n                });\r\n                fireTableDataChanged();\r\n            }\r\n\r\n            public void add(Employee employee) {\r\n                int rowCount = getRowCount();\r\n                getEmployees().add(employee);\r\n                fireTableRowsInserted(rowCount, rowCount);\r\n            }\r\n\r\n            public void delete(Employee employee) {\r\n                List&lt;Employee&gt; employees = getEmployees();\r\n                for (int index = 0; index &lt; employees.size(); index++) {\r\n                    if (employees.get(index).equals(employee)) {\r\n                        employees.remove(index);\r\n                        fireTableRowsDeleted(index, index);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public Object getValueAt(int rowIndex, int columnIndex) {\r\n                Employee employee = getEmployees().get(rowIndex);\r\n                switch (columnIndex) {\r\n                    case 0:\r\n                        return employee.getFirstName();\r\n                    case 1:\r\n                        return employee.getLastName();\r\n                    case 2:\r\n                        return employee.getSalary();\r\n                }\r\n                throw new ArrayIndexOutOfBoundsException(rowIndex + &quot;x&quot; + columnIndex + &quot; is out of bounds&quot;);\r\n            }\r\n        }\r\n\r\n        public class BubbleSort {\r\n            public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; comparator) {\r\n                // Performing bubble sort\r\n                for (int i = 0; i &lt; list.size() - 1; i++) {\r\n                    // Looping through indexes\r\n                    for (int j = 0; j &lt; list.size() - 1; j++) {\r\n                        // Comapare the salaries of each indiviual and see if the previous is bigger than the next\r\n                        if (comparator.compare(list.get(j), list.get(j + 1)) &gt; 0) {\r\n                            // Initializing a temp employee to hold value before switching\r\n                            T temp = list.get(j);\r\n\r\n                            // Swap the employees\r\n                            list.set(j, list.get(j + 1));\r\n                            list.set(j + 1, temp);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"Why am I getting an ArrayIndex Out of Bounds exception for trying to remove elements in a JTable?","body":"<p>Instead of trying to treat your data and model as two seperate things, you should be wrapping your model around your data and allow to manage it, for example...</p>\n<pre><code>public class EmployeeTableModel extends AbstractTableModel {\n\n    private List&lt;Employee&gt; employees;\n    private String[] columnNames = {&quot;FName&quot;, &quot;LName&quot;, &quot;Salary&quot;};\n    private Class[] columnClasses = {String.class, String.class, Integer.class};\n\n    public EmployeeTableModel(List&lt;Employee&gt; employees) {\n        this.employees = employees;\n    }\n\n    public List&lt;Employee&gt; getEmployees() {\n        return employees;\n    }\n\n    public String[] getColumnNames() {\n        return columnNames;\n    }\n\n    public Class[] getColumnClasses() {\n        return columnClasses;\n    }\n\n    @Override\n    public int getRowCount() {\n        return getEmployees().size();\n    }\n\n    @Override\n    public int getColumnCount() {\n        return getColumnNames().length;\n    }\n\n    @Override\n    public String getColumnName(int column) {\n        return getColumnNames()[column];\n    }\n\n    @Override\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\n        return getColumnClasses()[columnIndex];\n    }\n\n    public void sortBySalary() {\n        BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\n            @Override\n            public int compare(Employee o1, Employee o2) {\n                // This is decending...\n                return o2.getSalary() - o1.getSalary();\n                // This is acending\n                //return o1.getSalary() - o2.getSalary();\n            }\n        });\n        // You could use\n        //fireTableRowsUpdated(0, getRowCount() - 1);\n        // But this will work just fine and will force a complete \n        // redraw of the table\n        fireTableDataChanged();\n    }\n\n    public void sortByFirstName() {\n        BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\n            @Override\n            public int compare(Employee o1, Employee o2) {\n                return o1.getFirstName().compareTo(o2.getFirstName());\n            }\n        });\n        fireTableDataChanged();\n    }\n\n    public void sortByLastName() {\n        BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\n            @Override\n            public int compare(Employee o1, Employee o2) {\n                return o1.getLastName().compareTo(o2.getLastName());\n            }\n        });\n        fireTableDataChanged();\n    }\n\n    public void add(Employee employee) {\n        int rowCount = getRowCount();\n        getEmployees().add(employee);\n        fireTableRowsInserted(rowCount, rowCount);\n    }\n\n    public void delete(Employee employee) {\n        List&lt;Employee&gt; employees = getEmployees();\n        for (int index = 0; index &lt; employees.size(); index++) {\n            if (employees.get(index).equals(employee)) {\n                employees.remove(index);\n                fireTableRowsDeleted(index, index);\n                break;\n            }\n        }\n    }\n\n    @Override\n    public Object getValueAt(int rowIndex, int columnIndex) {\n        Employee employee = getEmployees().get(rowIndex);\n        switch (columnIndex) {\n            case 0:\n                return employee.getFirstName();\n            case 1:\n                return employee.getLastName();\n            case 2:\n                return employee.getSalary();\n        }\n        throw new ArrayIndexOutOfBoundsException(rowIndex + &quot;x&quot; + columnIndex + &quot; is out of bounds&quot;);\n    }\n}\n</code></pre>\n<p>This is a pretty basic concept of a custom <code>TableModel</code>.  It takes in a <code>List</code> of <code>Employee</code>s and provides the core implementation of the <code>TableModel</code> but also provides some helper methods, like <code>add</code> and <code>delete</code> which will trigger the appropriate events to allow a <code>JTable</code> to update itself.</p>\n<p>You could easily back this with a &quot;database manager&quot; instead, so that sort/delete/add/update actions would all be delegated to it and those updates could be made to the &quot;database&quot; values as well, but I'm going to leave that up to you to figure out.</p>\n<p>Now, I separated your <code>BubbleSort</code> into it's own, self contained and re-usable class...</p>\n<pre><code>public class BubbleSort {\n    public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; comparator) {\n        // Performing bubble sort\n        for (int i = 0; i &lt; list.size() - 1; i++) {\n            // Looping through indexes\n            for (int j = 0; j &lt; list.size() - 1; j++) {\n                // Comapare the salaries of each indiviual and see if the previous is bigger than the next\n                if (comparator.compare(list.get(j), list.get(j + 1)) &gt; 0) {\n                    // Initializing a temp employee to hold value before switching\n                    T temp = list.get(j);\n\n                    // Swap the employees\n                    list.set(j, list.get(j + 1));\n                    list.set(j + 1, temp);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>The only constraint is that you need to pass in a <code>Comparator</code> which is used to compare the two values in order to determine if they should be swapped.  &quot;But why do this?&quot; I hear you ask, because it's self contained and re-usable.</p>\n<p>So, you want to sort by the salary right?  Do you want to sort in ascending...</p>\n<pre><code>BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\n    @Override\n    public int compare(Employee o1, Employee o2) {\n        return o1.getSalary() - o2.getSalary();\n    }\n});\n</code></pre>\n<p>or decending order?</p>\n<pre><code>BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\n    @Override\n    public int compare(Employee o1, Employee o2) {\n        return o2.getSalary() - o1.getSalary();\n    }\n});\n</code></pre>\n<p>Surprisingly, you can now do both, without much of an effort.  But wait, what if you want to sort by the first name?!</p>\n<pre><code>BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\n    @Override\n    public int compare(Employee o1, Employee o2) {\n        return o1.getFirstName().compareTo(o2.getFirstName());\n    }\n});\n</code></pre>\n<p>or last name?!</p>\n<pre><code>BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\n    @Override\n    public int compare(Employee o1, Employee o2) {\n        return o1.getLastName().compareTo(o2.getLastName());\n    }\n});\n</code></pre>\n<p>See, re-usable.</p>\n<p>You could even come with some combination of those, first name and salary, sure, doable, just write a new <code>Comparator</code>.  Want to sort some other type of value, sure, so long as you supply a compatible <code>Comparator</code>, not a problem.</p>\n<h1>Runnable example</h1>\n<p>I've not bothered with your &quot;database&quot;, as it's really not part of the problem, instead, I've focused on getting the table model and sorting to work together (and deleting, because you know, why not).</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport javax.swing.*;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.Random;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.table.*;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new MainPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class MainPane extends JPanel {\n\n        private EmployeeTableModel employeeTableModel;\n        private JTable table;\n\n        public MainPane() {\n            Random rnd = new Random();\n            List&lt;Employee&gt; employees = new ArrayList&lt;&gt;(\n                    Arrays.asList(\n                            new Employee[]{\n                                new Employee(&quot;Alesha&quot;, &quot;Golden&quot;, rnd.nextInt(999) + 1),\n                                new Employee(&quot;Gerald&quot;, &quot;Guerrero&quot;, rnd.nextInt(999) + 1),\n                                new Employee(&quot;Georgina&quot;, &quot;Delacruz&quot;, rnd.nextInt(999) + 1),\n                                new Employee(&quot;Michael&quot;, &quot;Delgado&quot;, rnd.nextInt(999) + 1),\n                                new Employee(&quot;Aysha&quot;, &quot;Zimmerman&quot;, rnd.nextInt(999) + 1),\n                                new Employee(&quot;Yahya&quot;, &quot;Moreno&quot;, rnd.nextInt(999) + 1),\n                                new Employee(&quot;Max&quot;, &quot;Reyes&quot;, rnd.nextInt(999) + 1),\n                                new Employee(&quot;Julia&quot;, &quot;Salinas&quot;, rnd.nextInt(999) + 1),\n                                new Employee(&quot;Aleeza&quot;, &quot;Flores&quot;, rnd.nextInt(999) + 1),\n                                new Employee(&quot;Milton&quot;, &quot;Frye&quot;, rnd.nextInt(999) + 1),}\n                    )\n            );\n            employeeTableModel = new EmployeeTableModel(employees);\n            table = new JTable(employeeTableModel);\n\n            setLayout(new BorderLayout());\n            add(new JScrollPane(table));\n\n            JButton sortBySalaryButton = new JButton(&quot;Sort by Salary&quot;);\n            sortBySalaryButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    employeeTableModel.sortBySalary();\n                }\n            });\n            JButton sortByFirstNameButton = new JButton(&quot;Sort by First name&quot;);\n            sortByFirstNameButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    employeeTableModel.sortByFirstName();\n                }\n            });\n            JButton sortLastNameButton = new JButton(&quot;Sort by Last name&quot;);\n            sortLastNameButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    employeeTableModel.sortByLastName();\n                }\n            });\n            // I'd normally use a SelectionListener to monitor\n            // changes to the table in order to enable/disable this\n            // button, but that's beyond the scope\n            JButton deleteButton = new JButton(&quot;Delete&quot;);\n            deleteButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    int selectedRow = table.getSelectedRow();\n                    if (selectedRow &lt; 0) {\n                        return;\n                    }\n                    Employee employee = employeeTableModel.getEmployeeAt(selectedRow);\n                    employeeTableModel.delete(employee);\n                }\n            });\n\n            JPanel actionPane = new JPanel(new GridBagLayout());\n            actionPane.setBorder(new EmptyBorder(8, 8, 8, 8));\n            actionPane.add(sortBySalaryButton);\n            actionPane.add(sortByFirstNameButton);\n            actionPane.add(sortLastNameButton);\n            actionPane.add(deleteButton);\n            add(actionPane, BorderLayout.SOUTH);\n        }\n\n    }\n\n    class Employee {\n        // Initalizing variables\n        private String firstName;\n        private String lastName;\n        private int salary;\n\n        public Employee(String firstName, String lastName, int salary) {\n            this.firstName = firstName;\n            this.lastName = lastName;\n            this.salary = salary;\n        }\n\n        public String getFirstName() {\n            return firstName;\n        }\n\n        public String getLastName() {\n            return lastName;\n        }\n\n        public int getSalary() {\n            return salary;\n        }\n\n        @Override\n        public int hashCode() {\n            int hash = 7;\n            hash = 59 * hash + Objects.hashCode(this.firstName);\n            hash = 59 * hash + Objects.hashCode(this.lastName);\n            hash = 59 * hash + this.salary;\n            return hash;\n        }\n\n        @Override\n        public boolean equals(Object obj) {\n            if (!(obj instanceof Employee)) {\n                return false;\n            }\n            Employee other = (Employee) obj;\n            return getFirstName().equals(other.getFirstName())\n                    &amp;&amp; getLastName().equals(other.getLastName())\n                    &amp;&amp; getSalary() == other.getSalary();\n        }\n    }\n\n    public class EmployeeTableModel extends AbstractTableModel {\n\n        private List&lt;Employee&gt; employees;\n        private String[] columnNames = {&quot;FName&quot;, &quot;LName&quot;, &quot;Salary&quot;};\n        private Class[] columnClasses = {String.class, String.class, Integer.class};\n\n        public EmployeeTableModel(List&lt;Employee&gt; employees) {\n            this.employees = employees;\n        }\n\n        public List&lt;Employee&gt; getEmployees() {\n            return employees;\n        }\n\n        public String[] getColumnNames() {\n            return columnNames;\n        }\n\n        public Class[] getColumnClasses() {\n            return columnClasses;\n        }\n\n        public Employee getEmployeeAt(int row) {\n            return getEmployees().get(row);\n        }\n\n        @Override\n        public int getRowCount() {\n            return getEmployees().size();\n        }\n\n        @Override\n        public int getColumnCount() {\n            return getColumnNames().length;\n        }\n\n        @Override\n        public String getColumnName(int column) {\n            return getColumnNames()[column];\n        }\n\n        @Override\n        public Class&lt;?&gt; getColumnClass(int columnIndex) {\n            return getColumnClasses()[columnIndex];\n        }\n\n        public void sortBySalary() {\n            BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\n                @Override\n                public int compare(Employee o1, Employee o2) {\n                    // This is decending...\n                    return o2.getSalary() - o1.getSalary();\n                    // This is acending\n                    //return o1.getSalary() - o2.getSalary();\n                }\n            });\n            // You could use\n            //fireTableRowsUpdated(0, getRowCount() - 1);\n            // But this will work just fine and will force a complete \n            // redraw of the table\n            fireTableDataChanged();\n        }\n\n        public void sortByFirstName() {\n            BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\n                @Override\n                public int compare(Employee o1, Employee o2) {\n                    return o1.getFirstName().compareTo(o2.getFirstName());\n                }\n            });\n            fireTableDataChanged();\n        }\n\n        public void sortByLastName() {\n            BubbleSort.sort(getEmployees(), new Comparator&lt;Employee&gt;() {\n                @Override\n                public int compare(Employee o1, Employee o2) {\n                    return o1.getLastName().compareTo(o2.getLastName());\n                }\n            });\n            fireTableDataChanged();\n        }\n\n        public void add(Employee employee) {\n            int rowCount = getRowCount();\n            getEmployees().add(employee);\n            fireTableRowsInserted(rowCount, rowCount);\n        }\n\n        public void delete(Employee employee) {\n            List&lt;Employee&gt; employees = getEmployees();\n            for (int index = 0; index &lt; employees.size(); index++) {\n                if (employees.get(index).equals(employee)) {\n                    employees.remove(index);\n                    fireTableRowsDeleted(index, index);\n                    break;\n                }\n            }\n        }\n\n        @Override\n        public Object getValueAt(int rowIndex, int columnIndex) {\n            Employee employee = getEmployees().get(rowIndex);\n            switch (columnIndex) {\n                case 0:\n                    return employee.getFirstName();\n                case 1:\n                    return employee.getLastName();\n                case 2:\n                    return employee.getSalary();\n            }\n            throw new ArrayIndexOutOfBoundsException(rowIndex + &quot;x&quot; + columnIndex + &quot; is out of bounds&quot;);\n        }\n    }\n\n    public class BubbleSort {\n        public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; comparator) {\n            // Performing bubble sort\n            for (int i = 0; i &lt; list.size() - 1; i++) {\n                // Looping through indexes\n                for (int j = 0; j &lt; list.size() - 1; j++) {\n                    // Comapare the salaries of each indiviual and see if the previous is bigger than the next\n                    if (comparator.compare(list.get(j), list.get(j + 1)) &gt; 0) {\n                        // Initializing a temp employee to hold value before switching\n                        T temp = list.get(j);\n\n                        // Swap the employees\n                        list.set(j, list.get(j + 1));\n                        list.set(j + 1, temp);\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20231120,"reputation":761,"user_id":14837632,"display_name":"Soccerball123"},"comment_count":15,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1675308889,"accepted_answer_id":75318390,"answer_count":1,"score":-3,"last_activity_date":1675322169,"creation_date":1675207635,"question_id":75304177,"body_markdown":"I&#39;m trying to implement a GUI employee manager on Jswing where data is stored on a text file that I treat as my database and I created a GUI interface to interact with it.\r\n\r\nUpon opening up the program, I&#39;m able to use the remove feature and it works fine. But once I click the search button (table searches for values and only displays the values I searched for), and then when I try to remove something, it throws the error you see below. \r\n\r\nThis is the error I&#39;m getting once I search for something:\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: 2 &gt;= 2\r\n        at java.base/java.util.Vector.elementAt(Vector.java:466)\r\n        at java.desktop/javax.swing.table.DefaultTableModel.getValueAt(DefaultTableModel.java:660)\r\n        at java.desktop/javax.swing.JTable.getValueAt(JTable.java:2763)\r\n        at java.desktop/javax.swing.JTable.prepareRenderer(JTable.java:5780)\r\n        at java.desktop/javax.swing.plaf.basic.BasicTableUI.paintCell(BasicTableUI.java:2210)\r\n        at java.desktop/javax.swing.plaf.basic.BasicTableUI.paintCells(BasicTableUI.java:2112)\r\n        at java.desktop/javax.swing.plaf.basic.BasicTableUI.paint(BasicTableUI.java:1908)\r\n        at java.desktop/javax.swing.plaf.ComponentUI.update(ComponentUI.java:161)\r\n        at java.desktop/javax.swing.JComponent.paintComponent(JComponent.java:842)\r\n        at java.desktop/javax.swing.JComponent.paint(JComponent.java:1119)\r\n        at java.desktop/javax.swing.JComponent.paintToOffscreen(JComponent.java:5311)\r\n        at java.desktop/javax.swing.BufferStrategyPaintManager.paint(BufferStrategyPaintManager.java:246)\r\n        at java.desktop/javax.swing.RepaintManager.paint(RepaintManager.java:1337)\r\n        at java.desktop/javax.swing.JComponent._paintImmediately(JComponent.java:5259)\r\n        at java.desktop/javax.swing.JComponent.paintImmediately(JComponent.java:5069)\r\n        at \r\n\r\n    \r\n\r\n------------------EDIT----------------------\r\n\r\nHere is my minimal reproducible code:\r\n\r\n    import java.awt.*;\r\n        import java.awt.event.*;\r\n        import javax.swing.*;\r\n        import java.util.*;\r\n        import javax.swing.JTable;\r\n        import java.io.IOException;  // Import the IOException class to handle errors\r\n        import java.io.File;  // Import the File class\r\n        import java.io.FileNotFoundException;  // Import this class to handle errors\r\n        import javax.swing.table.DefaultTableModel;\r\n        import java.io.FileWriter;\r\n        import javax.swing.event.*;\r\n        import javax.swing.table.*;\r\n    class UserManager extends JFrame implements ActionListener {\r\n      // Initializing class variables\r\n      private JTextField firstNameField, lastNameField, salaryField, textField;\r\n      private JButton addButton, removeButton, sortButton, button;\r\n      private JList&lt;Employee&gt; userList;\r\n      private ArrayList&lt;Employee&gt; users;\r\n      private JTable j;\r\n      private DefaultTableModel model;\r\n      private JTextField searchField;\r\n    \r\n      /*****************************************\r\n      /*Name: UserManager (constructor)\r\n      /*Method Description: Constructor class that runs once upon creation of the object. Creates the frame of the GUI app. Pulls from the database and displays it on the GUI interface.\r\n      /*Method Inputs/Outputs: Outputs the GUI frame of the app.\r\n      ******************************************/\r\n      public UserManager() {\r\n        setTitle(&quot;Employee Manager&quot;);\r\n        setSize(400, 400);\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \r\n        // Initializing and binding action items\r\n        firstNameField = new JTextField(20);\r\n        lastNameField = new JTextField(20);\r\n        salaryField = new JTextField(20);\r\n        searchField = new JTextField(20);\r\n        addButton = new JButton(&quot;Add&quot;);\r\n        addButton.addActionListener(this);\r\n        removeButton = new JButton(&quot;Remove&quot;);\r\n        removeButton.addActionListener(this);\r\n        sortButton = new JButton(&quot;Sort Salary&quot;);\r\n        sortButton.addActionListener(this);\r\n    \r\n        // Pulling data from text file database upon start up\r\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; databaseData = ReadFile();\r\n    \r\n        users = new ArrayList&lt;Employee&gt;();\r\n    \r\n        // Adding existing databaseData to users\r\n        try {\r\n          if (databaseData.size() &gt; 0) {\r\n            for (int i = 0; i &lt; databaseData.size(); i++) {\r\n              Employee user = new Employee(databaseData.get(i).get(0), databaseData.get(i).get(1), Integer.valueOf(databaseData.get(i).get(2)));\r\n              users.add(user);\r\n            }\r\n          }\r\n        }\r\n        catch (NumberFormatException nfe) {\r\n          nfe.printStackTrace();\r\n          JOptionPane.showMessageDialog(this, &quot;Internal System Error&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n        }\r\n    \r\n        // Creating the list of users\r\n        userList = new JList&lt;Employee&gt;(users.toArray(new Employee[0]));\r\n    \r\n        // Setting up the JPanels\r\n        JPanel firstNamePanel = new JPanel();\r\n        firstNamePanel.add(new JLabel(&quot;First Name:&quot;));\r\n        firstNamePanel.add(firstNameField);\r\n    \r\n        JPanel lastNamePanel = new JPanel();\r\n        lastNamePanel.add(new JLabel(&quot;Last Name:&quot;));\r\n        lastNamePanel.add(lastNameField);\r\n    \r\n        JPanel salaryPanel = new JPanel();\r\n        salaryPanel.add(new JLabel(&quot;Salary:&quot;));\r\n        salaryPanel.add(salaryField);\r\n    \r\n        JPanel buttonPanel = new JPanel();\r\n        buttonPanel.add(addButton);\r\n        buttonPanel.add(removeButton);\r\n        buttonPanel.add(sortButton);\r\n    \r\n        JPanel searchPanel = new JPanel();\r\n    \r\n        \r\n        // Converting 2D arraylist to normal 2D array for JTable\r\n        String[][] data = databaseData.stream().map(u -&gt; u.toArray(new String[0])).toArray(String[][]::new);\r\n    \r\n        // Initializing column names of JTable\r\n        String[] columnNames = { &quot;FName&quot;, &quot;LName&quot;, &quot;Salary&quot; };\r\n    \r\n        // Initialize the JTable and TableModel\r\n        model = new DefaultTableModel(data, columnNames);\r\n        j = new JTable(model);\r\n        j.setBounds(1000, 1000, 900, 900);\r\n    \r\n        // adding it to JScrollPane\r\n        JScrollPane table = new JScrollPane(j);\r\n    \r\n        \r\n        JLabel label = new JLabel(&quot;Search: &quot;);\r\n        textField = new JTextField(20);\r\n        button = new JButton(&quot;Go&quot;);\r\n        searchPanel.add(label);\r\n        searchPanel.add(textField);\r\n        searchPanel.add(button);\r\n        button.addActionListener(this);\r\n    \r\n    \r\n        // Creating main panel and adding JPanels to it\r\n        JPanel mainPanel = new JPanel(new GridLayout(6, 2));\r\n        mainPanel.add(firstNamePanel);\r\n        mainPanel.add(lastNamePanel);\r\n        mainPanel.add(salaryPanel);\r\n        mainPanel.add(buttonPanel);\r\n        mainPanel.add(searchPanel);\r\n        mainPanel.add(table);\r\n        add(mainPanel);\r\n    \r\n      }\r\n    \r\n      /*****************************************\r\n      /*Method Name: actionPerformed\r\n      /*Method Description: Performs functions depending on what action is called. Adds users to the table and db if add button is clicked and removes users from the table and db if remove button is clicked.\r\n      /*Method Inputs/Outputs: Refreshes the table and outputs the new array with the updates.\r\n      ******************************************/\r\n      public void actionPerformed(ActionEvent e) {\r\n        // &quot;Add&quot; button is clicked\r\n        if (e.getSource() == addButton) {\r\n          // Initializing and setting variables\r\n          String firstName = firstNameField.getText();\r\n          String lastName = lastNameField.getText();\r\n          int salary = 0;\r\n    \r\n          // Checks to see if salary entered is an integer\r\n          try {\r\n              salary = Integer.parseInt(salaryField.getText());\r\n          } \r\n          catch (NumberFormatException nfe) {\r\n            JOptionPane.showMessageDialog(this, &quot;Please enter a valid salary&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n            return;\r\n          }\r\n    \r\n          // Error check to see if full name and age is entered\r\n          if (!firstName.equals(&quot;&quot;) &amp;&amp; !lastName.equals(&quot;&quot;)) {\r\n            Employee user = new Employee(firstName, lastName, salary);\r\n    \r\n            // Add the user to the arraylist\r\n            users.add(user);\r\n    \r\n            // Creating new array with new information\r\n            String[] newEmployeeArr = {firstName, lastName, String.valueOf(salary)};\r\n    \r\n            // Add new user to GUI\r\n            model.addRow(newEmployeeArr);\r\n    \r\n            // Update user list\r\n            updateList(users);\r\n    \r\n            // Resetting input fields\r\n            firstNameField.setText(&quot;&quot;);\r\n            lastNameField.setText(&quot;&quot;);\r\n            salaryField.setText(&quot;&quot;);\r\n          }\r\n          else {\r\n            JOptionPane.showMessageDialog(this, &quot;Please enter a valid full name&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n          }\r\n    \r\n        } \r\n    \r\n        // &quot;Remove&quot; button is clicked\r\n        else if (e.getSource() == removeButton) {\r\n          try {\r\n            if(j.getSelectedRow() != -1) {\r\n              // remove selected row from the model\r\n              String value = j.getValueAt(j.getSelectedRow(), 0).toString();\r\n              String value1 = j.getValueAt(j.getSelectedRow(), 1).toString();\r\n              String value2 = j.getValueAt(j.getSelectedRow(), 2).toString();\r\n    \r\n              System.out.println(j.getSelectedRow() + &quot; &quot; + value + value1 + value2);\r\n    \r\n              // Accounting for if the table was sorted and looking to see where the removed var is in the model\r\n              model.removeRow(removeUserFromTable(value, value1));\r\n    \r\n              \r\n              // finds the index of the user to remove\r\n              int selectedIndex = removeUser(value, value1, Integer.valueOf(value2));\r\n    \r\n              // Error checks to see if valid user\r\n              if (selectedIndex != -1) {\r\n                // Remove the selected employee from the users arraylist\r\n                users.remove(selectedIndex);\r\n                JOptionPane.showMessageDialog(null, &quot;Selected row deleted successfully&quot;);\r\n                \r\n                // Update the list\r\n                updateList(users);\r\n        \r\n                // Clear inputs\r\n                firstNameField.setText(&quot;&quot;);\r\n                lastNameField.setText(&quot;&quot;);\r\n                salaryField.setText(&quot;&quot;);\r\n              }\r\n            }\r\n            else {\r\n              JOptionPane.showMessageDialog(this, &quot;Employee not selected.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n            }\r\n          }\r\n          catch (NumberFormatException nfe) {\r\n            JOptionPane.showMessageDialog(this, &quot;Select a valid row.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n          }\r\n        }\r\n    \r\n        // &quot;Sort&quot; button is clicked\r\n        else if (e.getSource() == sortButton) {\r\n          BubbleSort();\r\n        }\r\n    \r\n          // &quot;Go&quot; button is clicked to search\r\n        else if (e.getSource() == button) {\r\n          // Creating a searching tool\r\n          TableRowSorter&lt;TableModel&gt; sorter = new TableRowSorter&lt;&gt;(model);\r\n          j.setRowSorter(sorter);\r\n          String text = textField.getText();\r\n          if (text.length() == 0) {\r\n            sorter.setRowFilter(null);\r\n          } else {\r\n            sorter.setRowFilter(RowFilter.regexFilter(&quot;(?i)&quot; + text));\r\n          }\r\n        }\r\n      }\r\n    \r\n    \r\n      /*****************************************\r\n      /*Method Name: updateList\r\n      /*Method Description: Performs the update depending on what operation was made. Updates all lists inside the class and saves the change to the database.\r\n      /*Method Inputs/Outputs: The new list with the updated list is inputted and an updated database text file is the output.\r\n      ******************************************/\r\n      private void updateList(ArrayList&lt;Employee&gt; u) {\r\n        userList.setListData(u.toArray(new Employee[0]));\r\n    \r\n        // Log update to console\r\n        System.out.println(&quot;Updating Database&quot;);\r\n    \r\n        // Overwriting db.txt file with new information\r\n        try {\r\n          // Making changes to the existed db.txt file\r\n          FileWriter fw = new FileWriter(&quot;db.txt&quot;, false);\r\n    \r\n          // Loop through each student and write to the text file\r\n          for (int i = 0; i &lt; u.size(); i++) {\r\n            // Re-writing the database file with the updates list\r\n            fw.write(toString(u.get(i).getFirstName(), u.get(i).getLastName(), u.get(i).getSalary()));\r\n          }\r\n          fw.close();\r\n        }\r\n        catch (IOException io) {\r\n          JOptionPane.showMessageDialog(this, &quot;Internal System Error&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n          return;\r\n        }\r\n      }\r\n    \r\n      \r\n      /*****************************************\r\n      /*Method Name: removeUser\r\n      /*Method Description: Searches for the selected user in the users arraylist and finds the index if the user exists\r\n      /*Method Inputs/Outputs: The users arraylist and inputted user information is inputted and then outputs where the user is located in the array.\r\n      ******************************************/\r\n      private int removeUser(String firstName, String lastName, int salary) {\r\n        // Loops through users arraylist\r\n        for (int i = 0; i &lt;  users.size(); i++) {\r\n          // If the user exists in the database, remove them\r\n          if (users.get(i).getFirstName().equals(firstName) &amp;&amp; users.get(i).getLastName().equals(lastName) &amp;&amp; users.get(i).getSalary() == salary) {\r\n            return i;\r\n          }\r\n        }\r\n        // No user by the name and salary was found\r\n        return -1;\r\n      }\r\n    \r\n      /*****************************************\r\n      /*Method Name: removeUserFromTable\r\n      /*Method Description: Searches for the selected user in the table model and finds the index if the user exists\r\n      /*Method Inputs/Outputs: The user information is inputted and then outputs where the user is located in the model that controls the GUI table.\r\n      ******************************************/\r\n      private int removeUserFromTable(String firstName, String lastName) {\r\n        int ind = 0;\r\n        for (int i = 0; i &lt; model.getRowCount(); i++){\r\n          if (model.getValueAt(i, 0).toString().equals(firstName) &amp;&amp; model.getValueAt(i, 1).toString().equals(lastName)) {\r\n              ind = i;\r\n              break;\r\n          }\r\n        }  \r\n        return ind;\r\n      }\r\n    \r\n    \r\n      /*****************************************\r\n      /*Method Name: toString\r\n      /*Method Description: Converts three variables into one long string varaible\r\n      /*Method Inputs/Outputs: The user information is inputted and the string that contains all three variables is outputted.\r\n      ******************************************/\r\n      public String toString(String firstName, String lastName, int salary) {\r\n          return firstName + &quot;, &quot; + lastName + &quot;, &quot; + salary + &quot;\\n&quot;;\r\n      }\r\n    \r\n      /*****************************************\r\n      /*Method Name: BubbleSort\r\n      /*Method Description: Performs bubble sort on the employees by salary and then updates the jtable\r\n      /*Method Inputs/Outputs: No inputs or outputs, the JTable is updated\r\n      ******************************************/\r\n      public void BubbleSort() {\r\n        try {\r\n          // Array to hold a copy of the users list\r\n          ArrayList&lt;Employee&gt; tempUsers = new ArrayList&lt;Employee&gt;();\r\n        \r\n          // Adding all the initial users to the new array to perform bubble sort\r\n          for (int i =0; i &lt; users.size(); i++) {\r\n            tempUsers.add(users.get(i));\r\n          }\r\n        \r\n          // Performing bubble sort\r\n          for (int i = 0; i &lt; users.size() - 1; i++) {\r\n            // Looping through indexes\r\n            for (int j = 0; j &lt; users.size() - 1; j++) {\r\n              // Comapare the salaries of each indiviual and see if the previous is bigger than the next\r\n              if (users.get(j).getSalary() &gt; users.get(j+1).getSalary()) {\r\n                // Initializing a temp employee to hold value before switching\r\n                Employee temp = users.get(j);\r\n        \r\n                // Swap the employees\r\n                users.set(j, users.get(j+1));\r\n                users.set(j+1,temp);\r\n              }\r\n            }\r\n          }\r\n    \r\n          int[] selection = j.getSelectedRows();\r\n          System.out.println(Arrays.toString(j.getSelectedRows()));\r\n           for (int i = 0; i &lt; selection.length; i++) {\r\n             selection[i] = j.convertRowIndexToModel(selection[i]);\r\n             System.out.println(selection[i]);\r\n           }\r\n    \r\n          // Setting the jtable model to the sorted model\r\n          j.setModel(model);\r\n        }\r\n        catch (NumberFormatException nfe) {\r\n          JOptionPane.showMessageDialog(this, &quot;Not Enough Users&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n          return;\r\n        }\r\n      }\r\n      \r\n    \r\n      /*****************************************\r\n      /*Method Name: ReadFile\r\n      /*Method Description: Reads the db textfile and stores the values in a 2d arraylist for manipulation.\r\n      /*Method Inputs/Outputs: The 2d arraylist with all the db information is outputted\r\n      ******************************************/\r\n      public static ArrayList&lt;ArrayList&lt;String&gt;&gt; ReadFile() {\r\n        try {\r\n          // Choose db.txt file to look at\r\n          File myObj = new File(&quot;db.txt&quot;);\r\n    \r\n          // Create scanner object\r\n          Scanner myReader = new Scanner(myObj);\r\n    \r\n          // Create 2d list array to hold all the single list arrays of single information\r\n          ArrayList&lt;ArrayList&lt;String&gt;&gt; combinedArr = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n        \r\n          // While the file reader is still reading lines in the text\r\n          while (myReader.hasNextLine()) {\r\n            // Read strings of text in txt file\r\n            String data = myReader.nextLine();\r\n    \r\n            // Get user information into an array\r\n            ArrayList&lt;String&gt; temp = GetInfo(data); \r\n    \r\n            // Add the person and their salary to the combined array that holds everyones\r\n            combinedArr.add(temp);\r\n          }\r\n    \r\n          // Close file once there are no more lines to read\r\n          myReader.close();\r\n    \r\n          return combinedArr;\r\n        } \r\n        catch (FileNotFoundException e) {\r\n          System.out.println(&quot;An error occurred.&quot;);\r\n          e.printStackTrace();\r\n        }\r\n    \r\n        // Return invalid list string with nothing if error\r\n        ArrayList&lt;ArrayList&lt;String&gt;&gt; Invalid = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n        return Invalid;\r\n      }\r\n    \r\n      /*****************************************\r\n      /*Method Name: GetInfo\r\n      /*Method Description: Takes in a string of data and parses the three variables in it which are separated by commas\r\n      /*Method Inputs/Outputs: The data string that needs to be parsed is inputted and arraylist containuing the data from the string is outputted.\r\n      ******************************************/\r\n      public static ArrayList&lt;String&gt; GetInfo(String data) {\r\n        String first = &quot;&quot;;\r\n        String last = &quot;&quot;;\r\n        String sal = &quot;&quot;;\r\n        // System.out.println(data[0])\r\n        for (int i = 0; i &lt; data.length(); i++) {\r\n          if (data.charAt(i) == &#39;,&#39;) {\r\n            // Start from 2 indexes after the first occurance of the comma\r\n            for (int j = i+2; j &lt; data.length(); j++) {\r\n              if (data.charAt(j) == &#39;,&#39;) {\r\n                // Start from 2 indexes after the occurance of the comma\r\n                for (int n = j+2; n &lt; data.length(); n++) {\r\n                  sal += data.charAt(n);\r\n                }\r\n                break;\r\n              }\r\n              last += data.charAt(j);\r\n            }\r\n            break;\r\n          }\r\n          first += data.charAt(i);\r\n        }\r\n    \r\n        // Initializing package array to send all values\r\n        ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\r\n        arr.add(first);\r\n        arr.add(last);\r\n        arr.add(sal);\r\n        \r\n        return arr;\r\n      }\r\n    \r\n    \r\n      /*****************************************\r\n      /*Method Name: main\r\n      /*Method Description: Runs the GUI frame\r\n      /*Method Inputs/Outputs: Ouputs the GUI \r\n      ******************************************/\r\n      public static void main(String[] args) {\r\n          UserManager frame = new UserManager();\r\n          frame.setVisible(true);\r\n      }\r\n    }\r\n    \r\n    \r\n    class Employee {\r\n      // Initalizing variables\r\n      private String firstName;\r\n      private String lastName;\r\n      private int salary;\r\n    \r\n      public Employee(String firstName, String lastName, int salary) {\r\n          this.firstName = firstName;\r\n          this.lastName = lastName;\r\n          this.salary = salary;\r\n      }\r\n    \r\n      public String getFirstName() {\r\n        return firstName;\r\n      }\r\n    \r\n      public String getLastName() {\r\n        return lastName;\r\n      }\r\n    \r\n      public int getSalary() {\r\n        return salary;\r\n      }\r\n    }","title":"Why am I getting an ArrayIndex Out of Bounds exception for trying to remove elements in a JTable?","body":"<p>I'm trying to implement a GUI employee manager on Jswing where data is stored on a text file that I treat as my database and I created a GUI interface to interact with it.</p>\n<p>Upon opening up the program, I'm able to use the remove feature and it works fine. But once I click the search button (table searches for values and only displays the values I searched for), and then when I try to remove something, it throws the error you see below.</p>\n<p>This is the error I'm getting once I search for something:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: 2 &gt;= 2\n    at java.base/java.util.Vector.elementAt(Vector.java:466)\n    at java.desktop/javax.swing.table.DefaultTableModel.getValueAt(DefaultTableModel.java:660)\n    at java.desktop/javax.swing.JTable.getValueAt(JTable.java:2763)\n    at java.desktop/javax.swing.JTable.prepareRenderer(JTable.java:5780)\n    at java.desktop/javax.swing.plaf.basic.BasicTableUI.paintCell(BasicTableUI.java:2210)\n    at java.desktop/javax.swing.plaf.basic.BasicTableUI.paintCells(BasicTableUI.java:2112)\n    at java.desktop/javax.swing.plaf.basic.BasicTableUI.paint(BasicTableUI.java:1908)\n    at java.desktop/javax.swing.plaf.ComponentUI.update(ComponentUI.java:161)\n    at java.desktop/javax.swing.JComponent.paintComponent(JComponent.java:842)\n    at java.desktop/javax.swing.JComponent.paint(JComponent.java:1119)\n    at java.desktop/javax.swing.JComponent.paintToOffscreen(JComponent.java:5311)\n    at java.desktop/javax.swing.BufferStrategyPaintManager.paint(BufferStrategyPaintManager.java:246)\n    at java.desktop/javax.swing.RepaintManager.paint(RepaintManager.java:1337)\n    at java.desktop/javax.swing.JComponent._paintImmediately(JComponent.java:5259)\n    at java.desktop/javax.swing.JComponent.paintImmediately(JComponent.java:5069)\n    at \n</code></pre>\n<p>------------------EDIT----------------------</p>\n<p>Here is my minimal reproducible code:</p>\n<pre><code>import java.awt.*;\n    import java.awt.event.*;\n    import javax.swing.*;\n    import java.util.*;\n    import javax.swing.JTable;\n    import java.io.IOException;  // Import the IOException class to handle errors\n    import java.io.File;  // Import the File class\n    import java.io.FileNotFoundException;  // Import this class to handle errors\n    import javax.swing.table.DefaultTableModel;\n    import java.io.FileWriter;\n    import javax.swing.event.*;\n    import javax.swing.table.*;\nclass UserManager extends JFrame implements ActionListener {\n  // Initializing class variables\n  private JTextField firstNameField, lastNameField, salaryField, textField;\n  private JButton addButton, removeButton, sortButton, button;\n  private JList&lt;Employee&gt; userList;\n  private ArrayList&lt;Employee&gt; users;\n  private JTable j;\n  private DefaultTableModel model;\n  private JTextField searchField;\n\n  /*****************************************\n  /*Name: UserManager (constructor)\n  /*Method Description: Constructor class that runs once upon creation of the object. Creates the frame of the GUI app. Pulls from the database and displays it on the GUI interface.\n  /*Method Inputs/Outputs: Outputs the GUI frame of the app.\n  ******************************************/\n  public UserManager() {\n    setTitle(&quot;Employee Manager&quot;);\n    setSize(400, 400);\n    setDefaultCloseOperation(EXIT_ON_CLOSE);\n\n    // Initializing and binding action items\n    firstNameField = new JTextField(20);\n    lastNameField = new JTextField(20);\n    salaryField = new JTextField(20);\n    searchField = new JTextField(20);\n    addButton = new JButton(&quot;Add&quot;);\n    addButton.addActionListener(this);\n    removeButton = new JButton(&quot;Remove&quot;);\n    removeButton.addActionListener(this);\n    sortButton = new JButton(&quot;Sort Salary&quot;);\n    sortButton.addActionListener(this);\n\n    // Pulling data from text file database upon start up\n    ArrayList&lt;ArrayList&lt;String&gt;&gt; databaseData = ReadFile();\n\n    users = new ArrayList&lt;Employee&gt;();\n\n    // Adding existing databaseData to users\n    try {\n      if (databaseData.size() &gt; 0) {\n        for (int i = 0; i &lt; databaseData.size(); i++) {\n          Employee user = new Employee(databaseData.get(i).get(0), databaseData.get(i).get(1), Integer.valueOf(databaseData.get(i).get(2)));\n          users.add(user);\n        }\n      }\n    }\n    catch (NumberFormatException nfe) {\n      nfe.printStackTrace();\n      JOptionPane.showMessageDialog(this, &quot;Internal System Error&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n    }\n\n    // Creating the list of users\n    userList = new JList&lt;Employee&gt;(users.toArray(new Employee[0]));\n\n    // Setting up the JPanels\n    JPanel firstNamePanel = new JPanel();\n    firstNamePanel.add(new JLabel(&quot;First Name:&quot;));\n    firstNamePanel.add(firstNameField);\n\n    JPanel lastNamePanel = new JPanel();\n    lastNamePanel.add(new JLabel(&quot;Last Name:&quot;));\n    lastNamePanel.add(lastNameField);\n\n    JPanel salaryPanel = new JPanel();\n    salaryPanel.add(new JLabel(&quot;Salary:&quot;));\n    salaryPanel.add(salaryField);\n\n    JPanel buttonPanel = new JPanel();\n    buttonPanel.add(addButton);\n    buttonPanel.add(removeButton);\n    buttonPanel.add(sortButton);\n\n    JPanel searchPanel = new JPanel();\n\n    \n    // Converting 2D arraylist to normal 2D array for JTable\n    String[][] data = databaseData.stream().map(u -&gt; u.toArray(new String[0])).toArray(String[][]::new);\n\n    // Initializing column names of JTable\n    String[] columnNames = { &quot;FName&quot;, &quot;LName&quot;, &quot;Salary&quot; };\n\n    // Initialize the JTable and TableModel\n    model = new DefaultTableModel(data, columnNames);\n    j = new JTable(model);\n    j.setBounds(1000, 1000, 900, 900);\n\n    // adding it to JScrollPane\n    JScrollPane table = new JScrollPane(j);\n\n    \n    JLabel label = new JLabel(&quot;Search: &quot;);\n    textField = new JTextField(20);\n    button = new JButton(&quot;Go&quot;);\n    searchPanel.add(label);\n    searchPanel.add(textField);\n    searchPanel.add(button);\n    button.addActionListener(this);\n\n\n    // Creating main panel and adding JPanels to it\n    JPanel mainPanel = new JPanel(new GridLayout(6, 2));\n    mainPanel.add(firstNamePanel);\n    mainPanel.add(lastNamePanel);\n    mainPanel.add(salaryPanel);\n    mainPanel.add(buttonPanel);\n    mainPanel.add(searchPanel);\n    mainPanel.add(table);\n    add(mainPanel);\n\n  }\n\n  /*****************************************\n  /*Method Name: actionPerformed\n  /*Method Description: Performs functions depending on what action is called. Adds users to the table and db if add button is clicked and removes users from the table and db if remove button is clicked.\n  /*Method Inputs/Outputs: Refreshes the table and outputs the new array with the updates.\n  ******************************************/\n  public void actionPerformed(ActionEvent e) {\n    // &quot;Add&quot; button is clicked\n    if (e.getSource() == addButton) {\n      // Initializing and setting variables\n      String firstName = firstNameField.getText();\n      String lastName = lastNameField.getText();\n      int salary = 0;\n\n      // Checks to see if salary entered is an integer\n      try {\n          salary = Integer.parseInt(salaryField.getText());\n      } \n      catch (NumberFormatException nfe) {\n        JOptionPane.showMessageDialog(this, &quot;Please enter a valid salary&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n        return;\n      }\n\n      // Error check to see if full name and age is entered\n      if (!firstName.equals(&quot;&quot;) &amp;&amp; !lastName.equals(&quot;&quot;)) {\n        Employee user = new Employee(firstName, lastName, salary);\n\n        // Add the user to the arraylist\n        users.add(user);\n\n        // Creating new array with new information\n        String[] newEmployeeArr = {firstName, lastName, String.valueOf(salary)};\n\n        // Add new user to GUI\n        model.addRow(newEmployeeArr);\n\n        // Update user list\n        updateList(users);\n\n        // Resetting input fields\n        firstNameField.setText(&quot;&quot;);\n        lastNameField.setText(&quot;&quot;);\n        salaryField.setText(&quot;&quot;);\n      }\n      else {\n        JOptionPane.showMessageDialog(this, &quot;Please enter a valid full name&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n      }\n\n    } \n\n    // &quot;Remove&quot; button is clicked\n    else if (e.getSource() == removeButton) {\n      try {\n        if(j.getSelectedRow() != -1) {\n          // remove selected row from the model\n          String value = j.getValueAt(j.getSelectedRow(), 0).toString();\n          String value1 = j.getValueAt(j.getSelectedRow(), 1).toString();\n          String value2 = j.getValueAt(j.getSelectedRow(), 2).toString();\n\n          System.out.println(j.getSelectedRow() + &quot; &quot; + value + value1 + value2);\n\n          // Accounting for if the table was sorted and looking to see where the removed var is in the model\n          model.removeRow(removeUserFromTable(value, value1));\n\n          \n          // finds the index of the user to remove\n          int selectedIndex = removeUser(value, value1, Integer.valueOf(value2));\n\n          // Error checks to see if valid user\n          if (selectedIndex != -1) {\n            // Remove the selected employee from the users arraylist\n            users.remove(selectedIndex);\n            JOptionPane.showMessageDialog(null, &quot;Selected row deleted successfully&quot;);\n            \n            // Update the list\n            updateList(users);\n    \n            // Clear inputs\n            firstNameField.setText(&quot;&quot;);\n            lastNameField.setText(&quot;&quot;);\n            salaryField.setText(&quot;&quot;);\n          }\n        }\n        else {\n          JOptionPane.showMessageDialog(this, &quot;Employee not selected.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n        }\n      }\n      catch (NumberFormatException nfe) {\n        JOptionPane.showMessageDialog(this, &quot;Select a valid row.&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n      }\n    }\n\n    // &quot;Sort&quot; button is clicked\n    else if (e.getSource() == sortButton) {\n      BubbleSort();\n    }\n\n      // &quot;Go&quot; button is clicked to search\n    else if (e.getSource() == button) {\n      // Creating a searching tool\n      TableRowSorter&lt;TableModel&gt; sorter = new TableRowSorter&lt;&gt;(model);\n      j.setRowSorter(sorter);\n      String text = textField.getText();\n      if (text.length() == 0) {\n        sorter.setRowFilter(null);\n      } else {\n        sorter.setRowFilter(RowFilter.regexFilter(&quot;(?i)&quot; + text));\n      }\n    }\n  }\n\n\n  /*****************************************\n  /*Method Name: updateList\n  /*Method Description: Performs the update depending on what operation was made. Updates all lists inside the class and saves the change to the database.\n  /*Method Inputs/Outputs: The new list with the updated list is inputted and an updated database text file is the output.\n  ******************************************/\n  private void updateList(ArrayList&lt;Employee&gt; u) {\n    userList.setListData(u.toArray(new Employee[0]));\n\n    // Log update to console\n    System.out.println(&quot;Updating Database&quot;);\n\n    // Overwriting db.txt file with new information\n    try {\n      // Making changes to the existed db.txt file\n      FileWriter fw = new FileWriter(&quot;db.txt&quot;, false);\n\n      // Loop through each student and write to the text file\n      for (int i = 0; i &lt; u.size(); i++) {\n        // Re-writing the database file with the updates list\n        fw.write(toString(u.get(i).getFirstName(), u.get(i).getLastName(), u.get(i).getSalary()));\n      }\n      fw.close();\n    }\n    catch (IOException io) {\n      JOptionPane.showMessageDialog(this, &quot;Internal System Error&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n      return;\n    }\n  }\n\n  \n  /*****************************************\n  /*Method Name: removeUser\n  /*Method Description: Searches for the selected user in the users arraylist and finds the index if the user exists\n  /*Method Inputs/Outputs: The users arraylist and inputted user information is inputted and then outputs where the user is located in the array.\n  ******************************************/\n  private int removeUser(String firstName, String lastName, int salary) {\n    // Loops through users arraylist\n    for (int i = 0; i &lt;  users.size(); i++) {\n      // If the user exists in the database, remove them\n      if (users.get(i).getFirstName().equals(firstName) &amp;&amp; users.get(i).getLastName().equals(lastName) &amp;&amp; users.get(i).getSalary() == salary) {\n        return i;\n      }\n    }\n    // No user by the name and salary was found\n    return -1;\n  }\n\n  /*****************************************\n  /*Method Name: removeUserFromTable\n  /*Method Description: Searches for the selected user in the table model and finds the index if the user exists\n  /*Method Inputs/Outputs: The user information is inputted and then outputs where the user is located in the model that controls the GUI table.\n  ******************************************/\n  private int removeUserFromTable(String firstName, String lastName) {\n    int ind = 0;\n    for (int i = 0; i &lt; model.getRowCount(); i++){\n      if (model.getValueAt(i, 0).toString().equals(firstName) &amp;&amp; model.getValueAt(i, 1).toString().equals(lastName)) {\n          ind = i;\n          break;\n      }\n    }  \n    return ind;\n  }\n\n\n  /*****************************************\n  /*Method Name: toString\n  /*Method Description: Converts three variables into one long string varaible\n  /*Method Inputs/Outputs: The user information is inputted and the string that contains all three variables is outputted.\n  ******************************************/\n  public String toString(String firstName, String lastName, int salary) {\n      return firstName + &quot;, &quot; + lastName + &quot;, &quot; + salary + &quot;\\n&quot;;\n  }\n\n  /*****************************************\n  /*Method Name: BubbleSort\n  /*Method Description: Performs bubble sort on the employees by salary and then updates the jtable\n  /*Method Inputs/Outputs: No inputs or outputs, the JTable is updated\n  ******************************************/\n  public void BubbleSort() {\n    try {\n      // Array to hold a copy of the users list\n      ArrayList&lt;Employee&gt; tempUsers = new ArrayList&lt;Employee&gt;();\n    \n      // Adding all the initial users to the new array to perform bubble sort\n      for (int i =0; i &lt; users.size(); i++) {\n        tempUsers.add(users.get(i));\n      }\n    \n      // Performing bubble sort\n      for (int i = 0; i &lt; users.size() - 1; i++) {\n        // Looping through indexes\n        for (int j = 0; j &lt; users.size() - 1; j++) {\n          // Comapare the salaries of each indiviual and see if the previous is bigger than the next\n          if (users.get(j).getSalary() &gt; users.get(j+1).getSalary()) {\n            // Initializing a temp employee to hold value before switching\n            Employee temp = users.get(j);\n    \n            // Swap the employees\n            users.set(j, users.get(j+1));\n            users.set(j+1,temp);\n          }\n        }\n      }\n\n      int[] selection = j.getSelectedRows();\n      System.out.println(Arrays.toString(j.getSelectedRows()));\n       for (int i = 0; i &lt; selection.length; i++) {\n         selection[i] = j.convertRowIndexToModel(selection[i]);\n         System.out.println(selection[i]);\n       }\n\n      // Setting the jtable model to the sorted model\n      j.setModel(model);\n    }\n    catch (NumberFormatException nfe) {\n      JOptionPane.showMessageDialog(this, &quot;Not Enough Users&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n      return;\n    }\n  }\n  \n\n  /*****************************************\n  /*Method Name: ReadFile\n  /*Method Description: Reads the db textfile and stores the values in a 2d arraylist for manipulation.\n  /*Method Inputs/Outputs: The 2d arraylist with all the db information is outputted\n  ******************************************/\n  public static ArrayList&lt;ArrayList&lt;String&gt;&gt; ReadFile() {\n    try {\n      // Choose db.txt file to look at\n      File myObj = new File(&quot;db.txt&quot;);\n\n      // Create scanner object\n      Scanner myReader = new Scanner(myObj);\n\n      // Create 2d list array to hold all the single list arrays of single information\n      ArrayList&lt;ArrayList&lt;String&gt;&gt; combinedArr = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n    \n      // While the file reader is still reading lines in the text\n      while (myReader.hasNextLine()) {\n        // Read strings of text in txt file\n        String data = myReader.nextLine();\n\n        // Get user information into an array\n        ArrayList&lt;String&gt; temp = GetInfo(data); \n\n        // Add the person and their salary to the combined array that holds everyones\n        combinedArr.add(temp);\n      }\n\n      // Close file once there are no more lines to read\n      myReader.close();\n\n      return combinedArr;\n    } \n    catch (FileNotFoundException e) {\n      System.out.println(&quot;An error occurred.&quot;);\n      e.printStackTrace();\n    }\n\n    // Return invalid list string with nothing if error\n    ArrayList&lt;ArrayList&lt;String&gt;&gt; Invalid = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n    return Invalid;\n  }\n\n  /*****************************************\n  /*Method Name: GetInfo\n  /*Method Description: Takes in a string of data and parses the three variables in it which are separated by commas\n  /*Method Inputs/Outputs: The data string that needs to be parsed is inputted and arraylist containuing the data from the string is outputted.\n  ******************************************/\n  public static ArrayList&lt;String&gt; GetInfo(String data) {\n    String first = &quot;&quot;;\n    String last = &quot;&quot;;\n    String sal = &quot;&quot;;\n    // System.out.println(data[0])\n    for (int i = 0; i &lt; data.length(); i++) {\n      if (data.charAt(i) == ',') {\n        // Start from 2 indexes after the first occurance of the comma\n        for (int j = i+2; j &lt; data.length(); j++) {\n          if (data.charAt(j) == ',') {\n            // Start from 2 indexes after the occurance of the comma\n            for (int n = j+2; n &lt; data.length(); n++) {\n              sal += data.charAt(n);\n            }\n            break;\n          }\n          last += data.charAt(j);\n        }\n        break;\n      }\n      first += data.charAt(i);\n    }\n\n    // Initializing package array to send all values\n    ArrayList&lt;String&gt; arr = new ArrayList&lt;String&gt;();\n    arr.add(first);\n    arr.add(last);\n    arr.add(sal);\n    \n    return arr;\n  }\n\n\n  /*****************************************\n  /*Method Name: main\n  /*Method Description: Runs the GUI frame\n  /*Method Inputs/Outputs: Ouputs the GUI \n  ******************************************/\n  public static void main(String[] args) {\n      UserManager frame = new UserManager();\n      frame.setVisible(true);\n  }\n}\n\n\nclass Employee {\n  // Initalizing variables\n  private String firstName;\n  private String lastName;\n  private int salary;\n\n  public Employee(String firstName, String lastName, int salary) {\n      this.firstName = firstName;\n      this.lastName = lastName;\n      this.salary = salary;\n  }\n\n  public String getFirstName() {\n    return firstName;\n  }\n\n  public String getLastName() {\n    return lastName;\n  }\n\n  public int getSalary() {\n    return salary;\n  }\n}\n</code></pre>\n"},{"tags":["java","java-home"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":2,"creation_date":1407864021,"post_id":25270314,"comment_id":39376596,"body_markdown":"JAVA_HOME should point to JDK. JRE_HOME should point to JRE.","body":"JAVA_HOME should point to JDK. JRE_HOME should point to JRE."},{"owner":{"account_id":3622734,"reputation":613,"user_id":3021076,"accept_rate":43,"display_name":"midhun0003"},"score":0,"creation_date":1407901257,"post_id":25270314,"comment_id":39389900,"body_markdown":"http://stackoverflow.com/questions/2619584/how-to-set-java-home-on-windows-7","body":"<a href=\"http://stackoverflow.com/questions/2619584/how-to-set-java-home-on-windows-7\" title=\"how to set java home on windows 7\">stackoverflow.com/questions/2619584/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1157125,"reputation":27342,"user_id":1137432,"accept_rate":56,"display_name":"jh314"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1407864061,"creation_date":1407864061,"answer_id":25270350,"question_id":25270314,"body_markdown":"You should set `JAVA_HOME` to the JDK.  \r\n\r\n[Relevant Documentation:][1]\r\n\r\n&gt; 1. Install the JDK software.\r\n&gt; \r\n&gt;   a. Go to http://java.sun.com/javase/downloads/index.jsp.\r\n&gt; \r\n&gt;   b. Select the appropriate JDK software and click Download.\r\n&gt; \r\n&gt;  The JDK software is installed on your computer, for example, at\r\n&gt; C:\\Program Files\\Java\\jdk1.6.0_02. You can move the JDK software to\r\n&gt; another location if desired.\r\n&gt; \r\n&gt; 2. To set JAVA_HOME:\r\n&gt; \r\n&gt;   a. Right click My Computer and select Properties.\r\n&gt; \r\n&gt;   b. On the Advanced tab, select Environment Variables, and then edit\r\n&gt; JAVA_HOME to point to where the JDK software is located, for example,\r\n&gt; C:\\Program Files\\Java\\jdk1.6.0_02.\r\n\r\n  [1]: http://docs.oracle.com/cd/E19509-01/820-3208/6neopagg5/index.html","title":"Setting JAVA_HOME in Windows?","body":"<p>You should set <code>JAVA_HOME</code> to the JDK.  </p>\n\n<p><a href=\"http://docs.oracle.com/cd/E19509-01/820-3208/6neopagg5/index.html\" rel=\"nofollow\">Relevant Documentation:</a></p>\n\n<blockquote>\n  <ol>\n  <li><p>Install the JDK software.</p>\n  \n  <p>a. Go to <a href=\"http://java.sun.com/javase/downloads/index.jsp\" rel=\"nofollow\">http://java.sun.com/javase/downloads/index.jsp</a>.</p>\n  \n  <p>b. Select the appropriate JDK software and click Download.</p>\n  \n  <p>The JDK software is installed on your computer, for example, at\n  C:\\Program Files\\Java\\jdk1.6.0_02. You can move the JDK software to\n  another location if desired.</p></li>\n  <li><p>To set JAVA_HOME:</p>\n  \n  <p>a. Right click My Computer and select Properties.</p>\n  \n  <p>b. On the Advanced tab, select Environment Variables, and then edit\n  JAVA_HOME to point to where the JDK software is located, for example,\n  C:\\Program Files\\Java\\jdk1.6.0_02.</p></li>\n  </ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4132296,"reputation":4099,"user_id":3389854,"display_name":"ktzhang"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657046477,"creation_date":1407864411,"answer_id":25270459,"question_id":25270314,"body_markdown":"JDK stands for Java Development Kit, while JRE stands for Java Runtime Environment. JAVA_HOME should point to a JDK not a JRE as the JDK is used for development purposes. JDK includes the compiler and other tools needed to develop Java applications while JRE does not. \r\n\r\nSee https://stackoverflow.com/questions/2619584/how-to-set-java-home-on-windows-7 on how to change your JAVA_HOME.\r\n\r\nSource:\r\nhttps://stackoverflow.com/questions/250517/java-se-6-vs-jre-1-6-vs-jdk-1-6-what-do-these-mean\r\n","title":"Setting JAVA_HOME in Windows?","body":"<p>JDK stands for Java Development Kit, while JRE stands for Java Runtime Environment. JAVA_HOME should point to a JDK not a JRE as the JDK is used for development purposes. JDK includes the compiler and other tools needed to develop Java applications while JRE does not.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/2619584/how-to-set-java-home-on-windows-7\">How to set java_home on Windows 7?</a> on how to change your JAVA_HOME.</p>\n<p>Source:\n<a href=\"https://stackoverflow.com/questions/250517/java-se-6-vs-jre-1-6-vs-jdk-1-6-what-do-these-mean\">Java SE 6 vs. JRE 1.6 vs. JDK 1.6 - What do these mean?</a></p>\n"},{"tags":[],"owner":{"account_id":25242126,"reputation":1,"user_id":19075867,"display_name":"Hereyden Birey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675322080,"creation_date":1675321989,"answer_id":75319771,"question_id":25270314,"body_markdown":"1-Right click desktop -&gt;Show More Options -&gt;Personelize-&gt;System--&gt;About--&gt;Advanced System Setting--&gt;Environment variables--&gt;\r\n\r\nuser variables ...\r\nJAVA_HOME  C:\\Program Files\\java\\jdk-19      --&gt; ok CLCK\r\n\r\nSystem variables ...\r\nPath -&gt;New -&gt; C:\\Program Files\\java\\jdk-19 \\bin  ","title":"Setting JAVA_HOME in Windows?","body":"<p>1-Right click desktop -&gt;Show More Options -&gt;Personelize-&gt;System--&gt;About--&gt;Advanced System Setting--&gt;Environment variables--&gt;</p>\n<p>user variables ...\nJAVA_HOME  C:\\Program Files\\java\\jdk-19      --&gt; ok CLCK</p>\n<p>System variables ...\nPath -&gt;New -&gt; C:\\Program Files\\java\\jdk-19 \\bin</p>\n"}],"owner":{"account_id":4648844,"reputation":614,"user_id":3766238,"accept_rate":76,"display_name":"Anveshan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5327,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":25270459,"answer_count":3,"score":3,"last_activity_date":1675322080,"creation_date":1407863957,"question_id":25270314,"body_markdown":"Where should **JAVA_HOME** be pointing to - JDK or JRE? I have seen that in few websites. It is set to JRE and in others it is to JDK. And is it dependant on Java version in any way?","title":"Setting JAVA_HOME in Windows?","body":"<p>Where should <strong>JAVA_HOME</strong> be pointing to - JDK or JRE? I have seen that in few websites. It is set to JRE and in others it is to JDK. And is it dependant on Java version in any way?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":0,"creation_date":1675320227,"post_id":75319506,"comment_id":132904319,"body_markdown":"Which JSON handling library is this exactly? There are dozens","body":"Which JSON handling library is this exactly? There are dozens"},{"owner":{"account_id":20095316,"reputation":17,"user_id":14735028,"display_name":"Igor Ostapenko"},"score":0,"creation_date":1675320334,"post_id":75319506,"comment_id":132904340,"body_markdown":"i use\nimport org.json.JSONException;\nimport org.json.JSONObject;","body":"i use import org.json.JSONException; import org.json.JSONObject;"},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":1,"creation_date":1675320425,"post_id":75319506,"comment_id":132904364,"body_markdown":"In that case I think you have one step wrong in your method chain: `getJSONArray(&quot;info&quot;)` should be `getJSONObject(&quot;info&quot;)`","body":"In that case I think you have one step wrong in your method chain: <code>getJSONArray(&quot;info&quot;)</code> should be <code>getJSONObject(&quot;info&quot;)</code>"},{"owner":{"account_id":20095316,"reputation":17,"user_id":14735028,"display_name":"Igor Ostapenko"},"score":0,"creation_date":1675320518,"post_id":75319506,"comment_id":132904380,"body_markdown":"yes, in my json_string line json &quot;{&quot;info&quot; .......}&quot;","body":"yes, in my json_string line json &quot;{&quot;info&quot; .......}&quot;"},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":1,"creation_date":1675320531,"post_id":75319506,"comment_id":132904382,"body_markdown":"And I&#39;m pretty sure `.getJSONArray(0)` yields `{\n        0: \n            &quot;info&quot;:{\n                &quot;name&quot;: &quot;user 1&quot;\n            }\n\n    }` so directly calling `.getJSONArray(&quot;info&quot;)` on that will probably fail, too","body":"And I&#39;m pretty sure <code>.getJSONArray(0)</code> yields <code>{         0:              &quot;info&quot;:{                 &quot;name&quot;: &quot;user 1&quot;             }      }</code> so directly calling <code>.getJSONArray(&quot;info&quot;)</code> on that will probably fail, too"},{"owner":{"account_id":20095316,"reputation":17,"user_id":14735028,"display_name":"Igor Ostapenko"},"score":0,"creation_date":1675320616,"post_id":75319506,"comment_id":132904400,"body_markdown":"@JeroenSteenbeeke, how to do it right. Can you suggest)\njust started working with Java, it was easy on powershell a lot ;D","body":"@JeroenSteenbeeke, how to do it right. Can you suggest) just started working with Java, it was easy on powershell a lot ;D"},{"owner":{"account_id":20095316,"reputation":17,"user_id":14735028,"display_name":"Igor Ostapenko"},"score":0,"creation_date":1675320832,"post_id":75319506,"comment_id":132904456,"body_markdown":"I did it like this, but swears at this part for some reason\n `jsonObject.getJSONObject(&quot;user&quot;).getJSONObject(0).getJSONArray(&quot;info&quot;);`\n\nerror  `getJSONObject(0)`","body":"I did it like this, but swears at this part for some reason  <code>jsonObject.getJSONObject(&quot;user&quot;).getJSONObject(0).getJSONArr&zwnj;&#8203;ay(&quot;info&quot;);</code>  error  <code>getJSONObject(0)</code>"},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":1,"creation_date":1675321067,"post_id":75319506,"comment_id":132904506,"body_markdown":"Did a bit of checking. The JSON snippet you provided isn&#39;t valid JSON (according to jsonlint.com), so it&#39;s unparseable as is.","body":"Did a bit of checking. The JSON snippet you provided isn&#39;t valid JSON (according to jsonlint.com), so it&#39;s unparseable as is."},{"owner":{"account_id":20095316,"reputation":17,"user_id":14735028,"display_name":"Igor Ostapenko"},"score":0,"creation_date":1675321276,"post_id":75319506,"comment_id":132904562,"body_markdown":"Now the skin is exact JSON\n`{\n  &quot;user&quot;:[\n     {\n       &quot;info&quot;:{\n         &quot;name&quot;: &quot;info&quot;\n       }\n     }\n  ]\n}`","body":"Now the skin is exact JSON <code>{   &quot;user&quot;:[      {        &quot;info&quot;:{          &quot;name&quot;: &quot;info&quot;        }      }   ] }</code>"},{"owner":{"account_id":27529235,"reputation":437,"user_id":21008053,"display_name":"subasri_"},"score":1,"creation_date":1675322666,"post_id":75319506,"comment_id":132904832,"body_markdown":"Alternatively, you could also write a class for the json structure and use Gson to parse the object","body":"Alternatively, you could also write a class for the json structure and use Gson to parse the object"}],"answers":[{"tags":[],"owner":{"account_id":20095316,"reputation":17,"user_id":14735028,"display_name":"Igor Ostapenko"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675321767,"creation_date":1675321767,"answer_id":75319738,"question_id":75319506,"body_markdown":"Thanks everyone. I figured out how to do it here is the code)\r\n\r\n\r\n            JSONObject obj = new JSONObject(json_string);\r\n            JSONArray userArray = obj.getJSONArray(&quot;user&quot;);\r\n            JSONObject userInfo = userArray.getJSONObject(0).getJSONObject(&quot;info&quot;);\r\n            String reciver = userInfo.getString(&quot;name&quot;);","title":"How do I select an element in a complex JSON array in java","body":"<p>Thanks everyone. I figured out how to do it here is the code)</p>\n<pre><code>        JSONObject obj = new JSONObject(json_string);\n        JSONArray userArray = obj.getJSONArray(&quot;user&quot;);\n        JSONObject userInfo = userArray.getJSONObject(0).getJSONObject(&quot;info&quot;);\n        String reciver = userInfo.getString(&quot;name&quot;);\n</code></pre>\n"}],"owner":{"account_id":20095316,"reputation":17,"user_id":14735028,"display_name":"Igor Ostapenko"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675321767,"creation_date":1675320106,"question_id":75319506,"body_markdown":"I can&#39;t seem to get the selection of elements in the array right. Or the syntax swears or something else. Here is what I am trying\r\n\r\n```\r\n{\r\n    &quot;info&quot;: &quot;info&quot;,\r\n    &quot;user&quot;:[{\r\n        0: \r\n            &quot;info&quot;:{\r\n                &quot;name&quot;: &quot;user 1&quot;\r\n            }\r\n\r\n    }]\r\n\r\n}\r\n```\r\n\r\nHere is my code and what i am trying to do\r\n\r\n```\r\nJSONObject jsonObject = new JSONObject(json_string);\r\nSystem.out.println(jsonObject.getJSONArray(&quot;user&quot;).getJSONArray(0).getJSONArray(&quot;info&quot;).getString(&quot;name&quot;));\r\n```\r\n\r\nAnd I don&#39;t get anything. Who can tell me how to do it right","title":"How do I select an element in a complex JSON array in java","body":"<p>I can't seem to get the selection of elements in the array right. Or the syntax swears or something else. Here is what I am trying</p>\n<pre><code>{\n    &quot;info&quot;: &quot;info&quot;,\n    &quot;user&quot;:[{\n        0: \n            &quot;info&quot;:{\n                &quot;name&quot;: &quot;user 1&quot;\n            }\n\n    }]\n\n}\n</code></pre>\n<p>Here is my code and what i am trying to do</p>\n<pre><code>JSONObject jsonObject = new JSONObject(json_string);\nSystem.out.println(jsonObject.getJSONArray(&quot;user&quot;).getJSONArray(0).getJSONArray(&quot;info&quot;).getString(&quot;name&quot;));\n</code></pre>\n<p>And I don't get anything. Who can tell me how to do it right</p>\n"},{"tags":["java","minecraft"],"owner":{"account_id":27572093,"reputation":1,"user_id":21043082,"display_name":" Leviafan4ik "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674129463,"answer_count":0,"score":0,"last_activity_date":1675321702,"creation_date":1674129120,"question_id":75171827,"body_markdown":"I am writing a launcher for my Minecraft build. I can&#39;t move because of an error that occurs when trying to launch the game\r\n\r\nI use the arguments given by another working launcher and everything starts there. What to do? I already have a headache...\r\n\r\nJava version 17 is installed, everything fits.\r\n\r\n\r\n```\r\n@FXML\r\n    protected void onHelloButtonClick() {\r\n        List&lt;String&gt; jargs = Arrays.stream(&quot;java -XX:+UnlockExperimentalVMOptions -XX:+UseG1GC -XX:G1NewSizePercent=20 -XX:G1ReservePercent=20 -XX:MaxGCPauseMillis=50 -XX:G1HeapRegionSize=16M -Djava.net.preferIPv4Stack=true -Xmx4096m -DMcEmu net.minecraft.client.main.Main -Dlog4j2.formatMsgNoLookups=true -Djava.rmi.server.useCodebaseOnly=true -Dcom.sun.jndi.rmi.object.trustURLCodebase=false -Dcom.sun.jndi.cosnaming.object.trustURLCodebase=false -XX:HeapDumpPath=MojangTricksIntelDriversForPerformance_javaw.exe_minecraft.exe.heapdump -Dos.name=Windows 10 -Dos.version=10.0 -Djava.library.path=C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\versions\\\\1.19.3\\\\1.19.3-natives-3624348475800 -Dminecraft.launcher.brand=java-minecraft-launcher -Dminecraft.launcher.version=3.0-3eb54af -cp C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\github\\\\oshi\\\\oshi-core\\\\6.2.2\\\\oshi-core-6.2.2.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\google\\\\code\\\\gson\\\\gson\\\\2.10\\\\gson-2.10.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\google\\\\guava\\\\failureaccess\\\\1.0.1\\\\failureaccess-1.0.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\google\\\\guava\\\\guava\\\\31.1-jre\\\\guava-31.1-jre.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\ibm\\\\icu\\\\icu4j\\\\71.1\\\\icu4j-71.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\authlib\\\\3.16.29\\\\authlib-3.16.29.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\blocklist\\\\1.0.10\\\\blocklist-1.0.10.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\brigadier\\\\1.0.18\\\\brigadier-1.0.18.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\datafixerupper\\\\5.0.28\\\\datafixerupper-5.0.28.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\javabridge\\\\2.0.25\\\\javabridge-2.0.25.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\logging\\\\1.1.1\\\\logging-1.1.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\patchy\\\\2.2.10\\\\patchy-2.2.10.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\text2speech\\\\1.13.9\\\\text2speech-1.13.9.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\text2speech\\\\1.13.9\\\\text2speech-1.13.9-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\commons-codec\\\\commons-codec\\\\1.15\\\\commons-codec-1.15.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\commons-io\\\\commons-io\\\\2.11.0\\\\commons-io-2.11.0.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\commons-logging\\\\commons-logging\\\\1.2\\\\commons-logging-1.2.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-buffer\\\\4.1.82.Final\\\\netty-buffer-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-codec\\\\4.1.82.Final\\\\netty-codec-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-common\\\\4.1.82.Final\\\\netty-common-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-handler\\\\4.1.82.Final\\\\netty-handler-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-resolver\\\\4.1.82.Final\\\\netty-resolver-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-transport-classes-epoll\\\\4.1.82.Final\\\\netty-transport-classes-epoll-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-transport-native-unix-common\\\\4.1.82.Final\\\\netty-transport-native-unix-common-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-transport\\\\4.1.82.Final\\\\netty-transport-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\it\\\\unimi\\\\dsi\\\\fastutil\\\\8.5.9\\\\fastutil-8.5.9.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\net\\\\java\\\\dev\\\\jna\\\\jna-platform\\\\5.12.1\\\\jna-platform-5.12.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\net\\\\java\\\\dev\\\\jna\\\\jna\\\\5.12.1\\\\jna-5.12.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\net\\\\sf\\\\jopt-simple\\\\jopt-simple\\\\5.0.4\\\\jopt-simple-5.0.4.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\commons\\\\commons-compress\\\\1.21\\\\commons-compress-1.21.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\commons\\\\commons-lang3\\\\3.12.0\\\\commons-lang3-3.12.0.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\httpcomponents\\\\httpclient\\\\4.5.13\\\\httpclient-4.5.13.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\httpcomponents\\\\httpcore\\\\4.4.15\\\\httpcore-4.4.15.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\logging\\\\log4j\\\\log4j-api\\\\2.19.0\\\\log4j-api-2.19.0.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\logging\\\\log4j\\\\log4j-core\\\\2.19.0\\\\log4j-core-2.19.0.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\logging\\\\log4j\\\\log4j-slf4j2-impl\\\\2.19.0\\\\log4j-slf4j2-impl-2.19.0.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\joml\\\\joml\\\\1.10.5\\\\joml-1.10.5.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-glfw\\\\3.3.1\\\\lwjgl-glfw-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-glfw\\\\3.3.1\\\\lwjgl-glfw-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-glfw\\\\3.3.1\\\\lwjgl-glfw-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-jemalloc\\\\3.3.1\\\\lwjgl-jemalloc-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-jemalloc\\\\3.3.1\\\\lwjgl-jemalloc-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-jemalloc\\\\3.3.1\\\\lwjgl-jemalloc-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-openal\\\\3.3.1\\\\lwjgl-openal-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-openal\\\\3.3.1\\\\lwjgl-openal-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-openal\\\\3.3.1\\\\lwjgl-openal-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-opengl\\\\3.3.1\\\\lwjgl-opengl-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-opengl\\\\3.3.1\\\\lwjgl-opengl-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-opengl\\\\3.3.1\\\\lwjgl-opengl-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-stb\\\\3.3.1\\\\lwjgl-stb-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-stb\\\\3.3.1\\\\lwjgl-stb-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-stb\\\\3.3.1\\\\lwjgl-stb-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-tinyfd\\\\3.3.1\\\\lwjgl-tinyfd-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-tinyfd\\\\3.3.1\\\\lwjgl-tinyfd-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-tinyfd\\\\3.3.1\\\\lwjgl-tinyfd-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl\\\\3.3.1\\\\lwjgl-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl\\\\3.3.1\\\\lwjgl-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl\\\\3.3.1\\\\lwjgl-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\slf4j\\\\slf4j-api\\\\2.0.1\\\\slf4j-api-2.0.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\versions\\\\1.19.3\\\\1.19.3.jar net.minecraft.client.main.Main --username Leviafan4ikRUS --version 1.19.3 --gameDir C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft --assetsDir C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\assets --assetIndex 2 --uuid b365a955f31c32fb9e6c2d36fc3e48f7 --accessToken 8a2200d7bc11a39a2dcb5b66376e06fe943217a7baf44f2eb63c579e62d609d7 --clientId ${clientid} --xuid ${auth_xuid} --userType mojang --versionType release&quot;.split(&quot; &quot;)).toList();\r\n\r\n        try{\r\n            ProcessBuilder pb = new ProcessBuilder();\r\n            //pb.directory(new File(&quot;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\runtime\\\\java-runtime-gamma\\\\bin\\\\&quot;).getCanonicalFile());\r\n            pb.command(jargs);\r\n            pb.inheritIO();\r\n            pb.start();\r\n        } catch (Exception e){\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\nError:\r\n\r\n```\r\nError: Could not find or load main class net.minecraft.client.main.Main\r\nCaused by: java.lang.ClassNotFoundException: net.minecraft.client.main.Main\r\n```\r\n\r\nIntelliJ IDEA 2022.2\r\n\r\nTry to use javaw.exe in runtime folder (placed in main minecraft folder) - NOTHING\r\nTry to reinstall JDK/JRE - NOTHING\r\nTry to reboot pc - NOTHING\r\nTry to use other launcher arguments (TLauncher, SKLauncher) - NOTHING\r\nTry to run as admin rules - NOTHING\r\nTry to use bat file to launch - NOTHING\r\nTry to reinstall Minecraft - NOTHING","title":"Can`t launch minecraft from my custom launcher (class not found)","body":"<p>I am writing a launcher for my Minecraft build. I can't move because of an error that occurs when trying to launch the game</p>\n<p>I use the arguments given by another working launcher and everything starts there. What to do? I already have a headache...</p>\n<p>Java version 17 is installed, everything fits.</p>\n<pre><code>@FXML\n    protected void onHelloButtonClick() {\n        List&lt;String&gt; jargs = Arrays.stream(&quot;java -XX:+UnlockExperimentalVMOptions -XX:+UseG1GC -XX:G1NewSizePercent=20 -XX:G1ReservePercent=20 -XX:MaxGCPauseMillis=50 -XX:G1HeapRegionSize=16M -Djava.net.preferIPv4Stack=true -Xmx4096m -DMcEmu net.minecraft.client.main.Main -Dlog4j2.formatMsgNoLookups=true -Djava.rmi.server.useCodebaseOnly=true -Dcom.sun.jndi.rmi.object.trustURLCodebase=false -Dcom.sun.jndi.cosnaming.object.trustURLCodebase=false -XX:HeapDumpPath=MojangTricksIntelDriversForPerformance_javaw.exe_minecraft.exe.heapdump -Dos.name=Windows 10 -Dos.version=10.0 -Djava.library.path=C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\versions\\\\1.19.3\\\\1.19.3-natives-3624348475800 -Dminecraft.launcher.brand=java-minecraft-launcher -Dminecraft.launcher.version=3.0-3eb54af -cp C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\github\\\\oshi\\\\oshi-core\\\\6.2.2\\\\oshi-core-6.2.2.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\google\\\\code\\\\gson\\\\gson\\\\2.10\\\\gson-2.10.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\google\\\\guava\\\\failureaccess\\\\1.0.1\\\\failureaccess-1.0.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\google\\\\guava\\\\guava\\\\31.1-jre\\\\guava-31.1-jre.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\ibm\\\\icu\\\\icu4j\\\\71.1\\\\icu4j-71.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\authlib\\\\3.16.29\\\\authlib-3.16.29.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\blocklist\\\\1.0.10\\\\blocklist-1.0.10.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\brigadier\\\\1.0.18\\\\brigadier-1.0.18.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\datafixerupper\\\\5.0.28\\\\datafixerupper-5.0.28.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\javabridge\\\\2.0.25\\\\javabridge-2.0.25.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\logging\\\\1.1.1\\\\logging-1.1.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\patchy\\\\2.2.10\\\\patchy-2.2.10.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\text2speech\\\\1.13.9\\\\text2speech-1.13.9.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\com\\\\mojang\\\\text2speech\\\\1.13.9\\\\text2speech-1.13.9-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\commons-codec\\\\commons-codec\\\\1.15\\\\commons-codec-1.15.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\commons-io\\\\commons-io\\\\2.11.0\\\\commons-io-2.11.0.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\commons-logging\\\\commons-logging\\\\1.2\\\\commons-logging-1.2.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-buffer\\\\4.1.82.Final\\\\netty-buffer-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-codec\\\\4.1.82.Final\\\\netty-codec-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-common\\\\4.1.82.Final\\\\netty-common-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-handler\\\\4.1.82.Final\\\\netty-handler-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-resolver\\\\4.1.82.Final\\\\netty-resolver-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-transport-classes-epoll\\\\4.1.82.Final\\\\netty-transport-classes-epoll-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-transport-native-unix-common\\\\4.1.82.Final\\\\netty-transport-native-unix-common-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\io\\\\netty\\\\netty-transport\\\\4.1.82.Final\\\\netty-transport-4.1.82.Final.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\it\\\\unimi\\\\dsi\\\\fastutil\\\\8.5.9\\\\fastutil-8.5.9.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\net\\\\java\\\\dev\\\\jna\\\\jna-platform\\\\5.12.1\\\\jna-platform-5.12.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\net\\\\java\\\\dev\\\\jna\\\\jna\\\\5.12.1\\\\jna-5.12.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\net\\\\sf\\\\jopt-simple\\\\jopt-simple\\\\5.0.4\\\\jopt-simple-5.0.4.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\commons\\\\commons-compress\\\\1.21\\\\commons-compress-1.21.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\commons\\\\commons-lang3\\\\3.12.0\\\\commons-lang3-3.12.0.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\httpcomponents\\\\httpclient\\\\4.5.13\\\\httpclient-4.5.13.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\httpcomponents\\\\httpcore\\\\4.4.15\\\\httpcore-4.4.15.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\logging\\\\log4j\\\\log4j-api\\\\2.19.0\\\\log4j-api-2.19.0.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\logging\\\\log4j\\\\log4j-core\\\\2.19.0\\\\log4j-core-2.19.0.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\apache\\\\logging\\\\log4j\\\\log4j-slf4j2-impl\\\\2.19.0\\\\log4j-slf4j2-impl-2.19.0.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\joml\\\\joml\\\\1.10.5\\\\joml-1.10.5.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-glfw\\\\3.3.1\\\\lwjgl-glfw-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-glfw\\\\3.3.1\\\\lwjgl-glfw-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-glfw\\\\3.3.1\\\\lwjgl-glfw-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-jemalloc\\\\3.3.1\\\\lwjgl-jemalloc-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-jemalloc\\\\3.3.1\\\\lwjgl-jemalloc-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-jemalloc\\\\3.3.1\\\\lwjgl-jemalloc-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-openal\\\\3.3.1\\\\lwjgl-openal-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-openal\\\\3.3.1\\\\lwjgl-openal-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-openal\\\\3.3.1\\\\lwjgl-openal-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-opengl\\\\3.3.1\\\\lwjgl-opengl-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-opengl\\\\3.3.1\\\\lwjgl-opengl-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-opengl\\\\3.3.1\\\\lwjgl-opengl-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-stb\\\\3.3.1\\\\lwjgl-stb-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-stb\\\\3.3.1\\\\lwjgl-stb-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-stb\\\\3.3.1\\\\lwjgl-stb-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-tinyfd\\\\3.3.1\\\\lwjgl-tinyfd-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-tinyfd\\\\3.3.1\\\\lwjgl-tinyfd-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl-tinyfd\\\\3.3.1\\\\lwjgl-tinyfd-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl\\\\3.3.1\\\\lwjgl-3.3.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl\\\\3.3.1\\\\lwjgl-3.3.1-natives-windows.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\lwjgl\\\\lwjgl\\\\3.3.1\\\\lwjgl-3.3.1-natives-windows-x86.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\libraries\\\\org\\\\slf4j\\\\slf4j-api\\\\2.0.1\\\\slf4j-api-2.0.1.jar;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\versions\\\\1.19.3\\\\1.19.3.jar net.minecraft.client.main.Main --username Leviafan4ikRUS --version 1.19.3 --gameDir C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft --assetsDir C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\assets --assetIndex 2 --uuid b365a955f31c32fb9e6c2d36fc3e48f7 --accessToken 8a2200d7bc11a39a2dcb5b66376e06fe943217a7baf44f2eb63c579e62d609d7 --clientId ${clientid} --xuid ${auth_xuid} --userType mojang --versionType release&quot;.split(&quot; &quot;)).toList();\n\n        try{\n            ProcessBuilder pb = new ProcessBuilder();\n            //pb.directory(new File(&quot;C:\\\\Users\\\\Leviafan4ik\\\\AppData\\\\Roaming\\\\.minecraft\\\\runtime\\\\java-runtime-gamma\\\\bin\\\\&quot;).getCanonicalFile());\n            pb.command(jargs);\n            pb.inheritIO();\n            pb.start();\n        } catch (Exception e){\n            System.out.println(e.getMessage());\n        }\n    }\n</code></pre>\n<p>Error:</p>\n<pre><code>Error: Could not find or load main class net.minecraft.client.main.Main\nCaused by: java.lang.ClassNotFoundException: net.minecraft.client.main.Main\n</code></pre>\n<p>IntelliJ IDEA 2022.2</p>\n<p>Try to use javaw.exe in runtime folder (placed in main minecraft folder) - NOTHING\nTry to reinstall JDK/JRE - NOTHING\nTry to reboot pc - NOTHING\nTry to use other launcher arguments (TLauncher, SKLauncher) - NOTHING\nTry to run as admin rules - NOTHING\nTry to use bat file to launch - NOTHING\nTry to reinstall Minecraft - NOTHING</p>\n"},{"tags":["java","gradle","micronaut","microstream"],"answers":[{"tags":[],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675321178,"creation_date":1675321178,"answer_id":75319652,"question_id":75312070,"body_markdown":"Turns out it has something todo with Java Records. When converting the Java Record to POJOs the error is not provoked.\r\n\r\n```java\r\n@Introspected\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class DefaultProduct implements Product {\r\n  private @NotNull UUID id;\r\n  private @NotNull LocalDate validFrom;\r\n  private @NotNull LocalDate validUntil;\r\n  private @NotNull @NotBlank String name;\r\n  private @NotNull @NotEmpty List&lt;PriceElement&gt; priceElements;\r\n  private @NotNull @NotEmpty Set&lt;Criterion&gt; criteria;\r\n  private @NotNull LegalBasis legalBasis;\r\n}\r\n```\r\n\r\nThe reason for the error is described in the [Microstream FAQ][1].\r\n\r\n&gt;Can MicroStream handle Records?\r\nYes, but due to reflection restrictions of records introduced in Java 15 an export has to be added to the VM parameters:\r\n--add-exports java.base/jdk.internal.misc=ALL-UNNAMED\r\n\r\n\r\n\r\n  [1]: https://docs.microstream.one/manual/storage/faq/java-features.html","title":"Microstream issue Could not obtain access to &quot;jdk.internal.misc.Unsafe&quot;","body":"<p>Turns out it has something todo with Java Records. When converting the Java Record to POJOs the error is not provoked.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Introspected\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class DefaultProduct implements Product {\n  private @NotNull UUID id;\n  private @NotNull LocalDate validFrom;\n  private @NotNull LocalDate validUntil;\n  private @NotNull @NotBlank String name;\n  private @NotNull @NotEmpty List&lt;PriceElement&gt; priceElements;\n  private @NotNull @NotEmpty Set&lt;Criterion&gt; criteria;\n  private @NotNull LegalBasis legalBasis;\n}\n</code></pre>\n<p>The reason for the error is described in the <a href=\"https://docs.microstream.one/manual/storage/faq/java-features.html\" rel=\"nofollow noreferrer\">Microstream FAQ</a>.</p>\n<blockquote>\n<p>Can MicroStream handle Records?\nYes, but due to reflection restrictions of records introduced in Java 15 an export has to be added to the VM parameters:\n--add-exports java.base/jdk.internal.misc=ALL-UNNAMED</p>\n</blockquote>\n"}],"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75319652,"answer_count":1,"score":0,"last_activity_date":1675321178,"creation_date":1675263435,"question_id":75312070,"body_markdown":"I&#39;m doing my first steps using Microstream in a Micronaut application (JDK 17).\r\n\r\nI have implemented the following repository\r\n\r\n```java\r\n@Singleton\r\n@RequiredArgsConstructor\r\npublic class DefaultWritableProductRepository implements WritableProductRepository {\r\n\r\n  private final StorageManager storageManager;\r\n\r\n  @Override\r\n  public Product save(Product product) { // Product is an interface\r\n\r\n    data().getProducts().put(product.id(), product);\r\n    storageManager.store(data().getProducts());\r\n    return product;\r\n  }\r\n\r\n  private RootData data() {\r\n    return (RootData) storageManager.root();\r\n  }\r\n}\r\n```\r\n\r\nAnd my data root to store the data.\r\n\r\n```java\r\n@Introspected\r\npublic class RootData {\r\n\r\n  private Map&lt;UUID, Product&gt; products = new HashMap&lt;&gt;();\r\n\r\n  @NotNull\r\n  public Map&lt;UUID, Product&gt; getProducts() {\r\n    return products;\r\n  }\r\n}\r\n```\r\n\r\nWhen I store a product I get an `IllegalAccessException` since Microstream wants to access `jdk.internal.misc` but that&#39;s of course no allowed by default.\r\n\r\n```\r\n15:36:20.222 [MicroStream-StorageChannel-0] DEBUG o.m.s.t.StorageEntityCache$Default - Consolidated StorageEntityCache to 1 entries!\r\nException in thread &quot;main&quot; java.lang.Error: Could not obtain access to &quot;jdk.internal.misc.Unsafe&quot;, please start the VM with --add-exports java.base/jdk.internal.misc=ALL-UNNAMED\r\n\tat one.microstream.memory.sun.JdkInternals.createInternalVM(JdkInternals.java:920)\r\n\tat one.microstream.memory.sun.JdkInternals.internalVM(JdkInternals.java:896)\r\n\tat one.microstream.memory.sun.JdkInternals.lookupInternalObjectFieldOffsetMethod(JdkInternals.java:948)\r\n\tat one.microstream.memory.sun.JdkInternals.internalObjectFieldOffsetMethod(JdkInternals.java:937)\r\n\tat one.microstream.memory.sun.JdkInternals.objectFieldOffset(JdkInternals.java:975)\r\n\tat one.microstream.memory.sun.JdkInternals.objectFieldOffsets(JdkInternals.java:1002)\r\n\tat one.microstream.memory.sun.JdkMemoryAccessor.objectFieldOffsets(JdkMemoryAccessor.java:540)\r\n\tat one.microstream.memory.sun.JdkMemoryAccessor.objectFieldOffsets(JdkMemoryAccessor.java:554)\r\n\tat one.microstream.memory.XMemory.objectFieldOffsets(XMemory.java:652)\r\n\tat one.microstream.persistence.binary.internal.AbstractBinaryHandlerReflective.objectFieldOffsets(AbstractBinaryHandlerReflective.java:183)\r\n\tat one.microstream.persistence.binary.internal.AbstractBinaryHandlerReflective.initializeStoringMemoryOffsets(AbstractBinaryHandlerReflective.java:335)\r\n\tat one.microstream.persistence.binary.internal.AbstractBinaryHandlerReflective.&lt;init&gt;(AbstractBinaryHandlerReflective.java:298)\r\n\tat one.microstream.persistence.binary.internal.BinaryHandlerGenericType.&lt;init&gt;(BinaryHandlerGenericType.java:84)\r\n\tat one.microstream.persistence.binary.internal.BinaryHandlerGenericType.New(BinaryHandlerGenericType.java:47)\r\n\tat one.microstream.persistence.binary.types.BinaryTypeHandlerCreator$Default.internalCreateTypeHandlerGeneric(BinaryTypeHandlerCreator.java:257)\r\n\tat one.microstream.persistence.types.PersistenceTypeHandlerCreator$Abstract.createTypeHandlerGeneric(PersistenceTypeHandlerCreator.java:185)\r\n\tat one.microstream.persistence.types.PersistenceTypeHandlerEnsurer$Default.ensureTypeHandler(PersistenceTypeHandlerEnsurer.java:257)\r\n\tat one.microstream.persistence.internal.PersistenceTypeHandlerProviderCreating.ensureTypeHandler(PersistenceTypeHandlerProviderCreating.java:191)\r\n\tat one.microstream.persistence.internal.PersistenceTypeHandlerProviderCreating.provideTypeHandler(PersistenceTypeHandlerProviderCreating.java:99)\r\n\tat one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.internalEnsureTypeHandler(PersistenceTypeHandlerManager.java:615)\r\n\tat one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.ensureTypeHandler(PersistenceTypeHandlerManager.java:384)\r\n\tat one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.ensureTypeHandler(PersistenceTypeHandlerManager.java:360)\r\n\tat one.microstream.persistence.binary.types.BinaryStorer$Default.registerGuaranteed(BinaryStorer.java:618)\r\n\tat one.microstream.persistence.binary.types.BinaryStorer$Default.registerLazyOptional(BinaryStorer.java:633)\r\n\tat one.microstream.persistence.types.PersistenceObjectManager$Default.ensureObjectId(PersistenceObjectManager.java:202)\r\n\tat one.microstream.persistence.binary.types.BinaryStorer$Default.register(BinaryStorer.java:652)\r\n\tat one.microstream.persistence.binary.types.BinaryStorer$Default.apply(BinaryStorer.java:328)\r\n\tat one.microstream.persistence.binary.types.Binary.storeMapEntrySet(Binary.java:536)\r\n\tat one.microstream.persistence.binary.jdk8.java.util.BinaryHandlerHashMap.store(BinaryHandlerHashMap.java:105)\r\n\tat one.microstream.persistence.binary.jdk8.java.util.BinaryHandlerHashMap.store(BinaryHandlerHashMap.java:1)\r\n\tat one.microstream.persistence.binary.internal.AbstractBinaryHandlerCustom.store(AbstractBinaryHandlerCustom.java:1)\r\n\tat one.microstream.persistence.binary.types.BinaryStorer$Default.storeItem(BinaryStorer.java:459)\r\n\tat one.microstream.persistence.binary.types.BinaryStorer$Default.storeGraph(BinaryStorer.java:442)\r\n\tat one.microstream.persistence.binary.types.BinaryStorer$Default.store(BinaryStorer.java:466)\r\n\tat one.microstream.persistence.types.PersistenceManager$Default.store(PersistenceManager.java:304)\r\n\tat one.microstream.storage.types.StorageConnection.store(StorageConnection.java:381)\r\n\tat ch.onstructive.salessystem.productengine.db.loader.DefaultWritableProductRepository.save(DefaultWritableProductRepository.java:32)\r\n\tat ch.onstructive.salessystem.productengine.db.loader.datatransformers.AbstractDataTransformer.persist(AbstractDataTransformer.java:98)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\r\n\tat ch.onstructive.salessystem.productengine.db.loader.datatransformers.AbstractDataTransformer.transformAndPersist(AbstractDataTransformer.java:85)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat ch.onstructive.salessystem.productengine.db.loader.ProductLoaderCommand.run(ProductLoaderCommand.java:58)\r\n\tat picocli.CommandLine.executeUserObject(CommandLine.java:1939)\r\n\tat picocli.CommandLine.access$1300(CommandLine.java:145)\r\n\tat picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2358)\r\n\tat picocli.CommandLine$RunLast.handle(CommandLine.java:2352)\r\n\tat picocli.CommandLine$RunLast.handle(CommandLine.java:2314)\r\n\tat picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2179)\r\n\tat picocli.CommandLine$RunLast.execute(CommandLine.java:2316)\r\n\tat picocli.CommandLine.execute(CommandLine.java:2078)\r\n\tat io.micronaut.configuration.picocli.PicocliRunner.run(PicocliRunner.java:137)\r\n\tat io.micronaut.configuration.picocli.PicocliRunner.run(PicocliRunner.java:114)\r\n\tat ch.onstructive.salessystem.productengine.db.loader.ProductLoaderCommand.main(ProductLoaderCommand.java:50)\r\nCaused by: java.lang.IllegalAccessException: class one.microstream.memory.sun.JdkInternals cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @355ce81c\r\n\tat java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:420)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:709)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:569)\r\n\tat one.microstream.memory.sun.JdkInternals.createInternalVM(JdkInternals.java:909)\r\n\t... 61 more\r\n```\r\n\r\nWhen I start the Micronaut application adding the VM option `--add-exports java.base/jdk.internal.misc=ALL-UNNAMED` everything works fine. \r\n\r\nAs mentioned in the listing above the type `Product` is an interface and something in this data structure triggers the error. The actual implementation of `Product` is a Java record called `DefaultProduct`.\r\n\r\n```java\r\n@Introspected\r\npublic record DefaultProduct(\r\n    @NotNull UUID id,\r\n    @NotNull LocalDate validFrom,\r\n    @NotNull LocalDate validUntil,\r\n    @NotNull @NotBlank String name,\r\n    @NotNull @NotEmpty List&lt;PriceElement&gt; priceElements,\r\n    @NotNull @NotEmpty Set&lt;Criterion&gt; criteria,\r\n    @NotNull LegalBasis legalBasis)\r\n    implements Product {}\r\n```\r\n\r\nI have replaced the map in `RootData` from `Map&lt;UUID, Product&gt;` to `Map&lt;UUID, String&gt;` and the problem is gone without using `--add-exports java.base/jdk.internal.misc=ALL-UNNAMED`, so it has clearly to do with my data structure `Product`.\r\n\r\nThe problem is I cannot run my tests using Gradle, even if I tell the JVM to add that option.\r\n\r\n```groovy\r\ntasks.named(&#39;test&#39;) {\r\n    jvmArgs [&#39;--add-exports java.base/jdk.internal.misc=ALL-UNNAMED&#39;]\r\n}\r\n```\r\n\r\nSo I have the following questions:\r\n\r\n1. Does anyone have a clue why Microstream needs to access that and point me the directions what could probably be wrong?\r\n2. Is there a way to run the my tests in the Gradle build and add the VM option, so the tests can be executed and workaround the issue?","title":"Microstream issue Could not obtain access to &quot;jdk.internal.misc.Unsafe&quot;","body":"<p>I'm doing my first steps using Microstream in a Micronaut application (JDK 17).</p>\n<p>I have implemented the following repository</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Singleton\n@RequiredArgsConstructor\npublic class DefaultWritableProductRepository implements WritableProductRepository {\n\n  private final StorageManager storageManager;\n\n  @Override\n  public Product save(Product product) { // Product is an interface\n\n    data().getProducts().put(product.id(), product);\n    storageManager.store(data().getProducts());\n    return product;\n  }\n\n  private RootData data() {\n    return (RootData) storageManager.root();\n  }\n}\n</code></pre>\n<p>And my data root to store the data.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Introspected\npublic class RootData {\n\n  private Map&lt;UUID, Product&gt; products = new HashMap&lt;&gt;();\n\n  @NotNull\n  public Map&lt;UUID, Product&gt; getProducts() {\n    return products;\n  }\n}\n</code></pre>\n<p>When I store a product I get an <code>IllegalAccessException</code> since Microstream wants to access <code>jdk.internal.misc</code> but that's of course no allowed by default.</p>\n<pre><code>15:36:20.222 [MicroStream-StorageChannel-0] DEBUG o.m.s.t.StorageEntityCache$Default - Consolidated StorageEntityCache to 1 entries!\nException in thread &quot;main&quot; java.lang.Error: Could not obtain access to &quot;jdk.internal.misc.Unsafe&quot;, please start the VM with --add-exports java.base/jdk.internal.misc=ALL-UNNAMED\n    at one.microstream.memory.sun.JdkInternals.createInternalVM(JdkInternals.java:920)\n    at one.microstream.memory.sun.JdkInternals.internalVM(JdkInternals.java:896)\n    at one.microstream.memory.sun.JdkInternals.lookupInternalObjectFieldOffsetMethod(JdkInternals.java:948)\n    at one.microstream.memory.sun.JdkInternals.internalObjectFieldOffsetMethod(JdkInternals.java:937)\n    at one.microstream.memory.sun.JdkInternals.objectFieldOffset(JdkInternals.java:975)\n    at one.microstream.memory.sun.JdkInternals.objectFieldOffsets(JdkInternals.java:1002)\n    at one.microstream.memory.sun.JdkMemoryAccessor.objectFieldOffsets(JdkMemoryAccessor.java:540)\n    at one.microstream.memory.sun.JdkMemoryAccessor.objectFieldOffsets(JdkMemoryAccessor.java:554)\n    at one.microstream.memory.XMemory.objectFieldOffsets(XMemory.java:652)\n    at one.microstream.persistence.binary.internal.AbstractBinaryHandlerReflective.objectFieldOffsets(AbstractBinaryHandlerReflective.java:183)\n    at one.microstream.persistence.binary.internal.AbstractBinaryHandlerReflective.initializeStoringMemoryOffsets(AbstractBinaryHandlerReflective.java:335)\n    at one.microstream.persistence.binary.internal.AbstractBinaryHandlerReflective.&lt;init&gt;(AbstractBinaryHandlerReflective.java:298)\n    at one.microstream.persistence.binary.internal.BinaryHandlerGenericType.&lt;init&gt;(BinaryHandlerGenericType.java:84)\n    at one.microstream.persistence.binary.internal.BinaryHandlerGenericType.New(BinaryHandlerGenericType.java:47)\n    at one.microstream.persistence.binary.types.BinaryTypeHandlerCreator$Default.internalCreateTypeHandlerGeneric(BinaryTypeHandlerCreator.java:257)\n    at one.microstream.persistence.types.PersistenceTypeHandlerCreator$Abstract.createTypeHandlerGeneric(PersistenceTypeHandlerCreator.java:185)\n    at one.microstream.persistence.types.PersistenceTypeHandlerEnsurer$Default.ensureTypeHandler(PersistenceTypeHandlerEnsurer.java:257)\n    at one.microstream.persistence.internal.PersistenceTypeHandlerProviderCreating.ensureTypeHandler(PersistenceTypeHandlerProviderCreating.java:191)\n    at one.microstream.persistence.internal.PersistenceTypeHandlerProviderCreating.provideTypeHandler(PersistenceTypeHandlerProviderCreating.java:99)\n    at one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.internalEnsureTypeHandler(PersistenceTypeHandlerManager.java:615)\n    at one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.ensureTypeHandler(PersistenceTypeHandlerManager.java:384)\n    at one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.ensureTypeHandler(PersistenceTypeHandlerManager.java:360)\n    at one.microstream.persistence.binary.types.BinaryStorer$Default.registerGuaranteed(BinaryStorer.java:618)\n    at one.microstream.persistence.binary.types.BinaryStorer$Default.registerLazyOptional(BinaryStorer.java:633)\n    at one.microstream.persistence.types.PersistenceObjectManager$Default.ensureObjectId(PersistenceObjectManager.java:202)\n    at one.microstream.persistence.binary.types.BinaryStorer$Default.register(BinaryStorer.java:652)\n    at one.microstream.persistence.binary.types.BinaryStorer$Default.apply(BinaryStorer.java:328)\n    at one.microstream.persistence.binary.types.Binary.storeMapEntrySet(Binary.java:536)\n    at one.microstream.persistence.binary.jdk8.java.util.BinaryHandlerHashMap.store(BinaryHandlerHashMap.java:105)\n    at one.microstream.persistence.binary.jdk8.java.util.BinaryHandlerHashMap.store(BinaryHandlerHashMap.java:1)\n    at one.microstream.persistence.binary.internal.AbstractBinaryHandlerCustom.store(AbstractBinaryHandlerCustom.java:1)\n    at one.microstream.persistence.binary.types.BinaryStorer$Default.storeItem(BinaryStorer.java:459)\n    at one.microstream.persistence.binary.types.BinaryStorer$Default.storeGraph(BinaryStorer.java:442)\n    at one.microstream.persistence.binary.types.BinaryStorer$Default.store(BinaryStorer.java:466)\n    at one.microstream.persistence.types.PersistenceManager$Default.store(PersistenceManager.java:304)\n    at one.microstream.storage.types.StorageConnection.store(StorageConnection.java:381)\n    at ch.onstructive.salessystem.productengine.db.loader.DefaultWritableProductRepository.save(DefaultWritableProductRepository.java:32)\n    at ch.onstructive.salessystem.productengine.db.loader.datatransformers.AbstractDataTransformer.persist(AbstractDataTransformer.java:98)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)\n    at ch.onstructive.salessystem.productengine.db.loader.datatransformers.AbstractDataTransformer.transformAndPersist(AbstractDataTransformer.java:85)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at ch.onstructive.salessystem.productengine.db.loader.ProductLoaderCommand.run(ProductLoaderCommand.java:58)\n    at picocli.CommandLine.executeUserObject(CommandLine.java:1939)\n    at picocli.CommandLine.access$1300(CommandLine.java:145)\n    at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2358)\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2352)\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2314)\n    at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2179)\n    at picocli.CommandLine$RunLast.execute(CommandLine.java:2316)\n    at picocli.CommandLine.execute(CommandLine.java:2078)\n    at io.micronaut.configuration.picocli.PicocliRunner.run(PicocliRunner.java:137)\n    at io.micronaut.configuration.picocli.PicocliRunner.run(PicocliRunner.java:114)\n    at ch.onstructive.salessystem.productengine.db.loader.ProductLoaderCommand.main(ProductLoaderCommand.java:50)\nCaused by: java.lang.IllegalAccessException: class one.microstream.memory.sun.JdkInternals cannot access class jdk.internal.misc.Unsafe (in module java.base) because module java.base does not export jdk.internal.misc to unnamed module @355ce81c\n    at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:420)\n    at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:709)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:569)\n    at one.microstream.memory.sun.JdkInternals.createInternalVM(JdkInternals.java:909)\n    ... 61 more\n</code></pre>\n<p>When I start the Micronaut application adding the VM option <code>--add-exports java.base/jdk.internal.misc=ALL-UNNAMED</code> everything works fine.</p>\n<p>As mentioned in the listing above the type <code>Product</code> is an interface and something in this data structure triggers the error. The actual implementation of <code>Product</code> is a Java record called <code>DefaultProduct</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Introspected\npublic record DefaultProduct(\n    @NotNull UUID id,\n    @NotNull LocalDate validFrom,\n    @NotNull LocalDate validUntil,\n    @NotNull @NotBlank String name,\n    @NotNull @NotEmpty List&lt;PriceElement&gt; priceElements,\n    @NotNull @NotEmpty Set&lt;Criterion&gt; criteria,\n    @NotNull LegalBasis legalBasis)\n    implements Product {}\n</code></pre>\n<p>I have replaced the map in <code>RootData</code> from <code>Map&lt;UUID, Product&gt;</code> to <code>Map&lt;UUID, String&gt;</code> and the problem is gone without using <code>--add-exports java.base/jdk.internal.misc=ALL-UNNAMED</code>, so it has clearly to do with my data structure <code>Product</code>.</p>\n<p>The problem is I cannot run my tests using Gradle, even if I tell the JVM to add that option.</p>\n<pre><code>tasks.named('test') {\n    jvmArgs ['--add-exports java.base/jdk.internal.misc=ALL-UNNAMED']\n}\n</code></pre>\n<p>So I have the following questions:</p>\n<ol>\n<li>Does anyone have a clue why Microstream needs to access that and point me the directions what could probably be wrong?</li>\n<li>Is there a way to run the my tests in the Gradle build and add the VM option, so the tests can be executed and workaround the issue?</li>\n</ol>\n"},{"tags":["java","android-studio","facebook-login"],"answers":[{"tags":[],"owner":{"account_id":26073949,"reputation":44,"user_id":19773139,"display_name":"Jeff Lin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675321075,"creation_date":1675321075,"answer_id":75319637,"question_id":75306543,"body_markdown":"It seems android 12 problem when using emulator open chrome.\r\nReference to this ```https://stackoverflow.com/questions/69134922/google-chrome-browser-in-android-12-emulator-doesnt-load-any-webpages-internet``` to solve this problem.","title":"Android 12 facebook login stuck in black screen","body":"<p>It seems android 12 problem when using emulator open chrome.\nReference to this <code>https://stackoverflow.com/questions/69134922/google-chrome-browser-in-android-12-emulator-doesnt-load-any-webpages-internet</code> to solve this problem.</p>\n"}],"owner":{"account_id":26073949,"reputation":44,"user_id":19773139,"display_name":"Jeff Lin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675321075,"creation_date":1675234082,"question_id":75306543,"body_markdown":"I&#39;m trying use facebook login in API level 31, but every times I press my login button try to go to facebook login page, it just stuck in black screen like this [stuck in black screen][1] ,and there is not show any exception or error, I also try use lower API and work fine. How can I solve this problem?\r\n\r\nedit:My other button that open external browser also fail to open in API level 31.\r\n\r\n  [1]: https://i.stack.imgur.com/iZdKT.png","title":"Android 12 facebook login stuck in black screen","body":"<p>I'm trying use facebook login in API level 31, but every times I press my login button try to go to facebook login page, it just stuck in black screen like this <a href=\"https://i.stack.imgur.com/iZdKT.png\" rel=\"nofollow noreferrer\">stuck in black screen</a> ,and there is not show any exception or error, I also try use lower API and work fine. How can I solve this problem?</p>\n<p>edit:My other button that open external browser also fail to open in API level 31.</p>\n"},{"tags":["java","string","api","url","okhttp"],"comments":[{"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"score":0,"creation_date":1675244833,"post_id":75308237,"comment_id":132885002,"body_markdown":"Try printing the built url string to see what goes wrong","body":"Try printing the built url string to see what goes wrong"},{"owner":{"account_id":23750409,"reputation":11,"user_id":17767245,"display_name":"Mazen H."},"score":0,"creation_date":1675247216,"post_id":75308237,"comment_id":132885803,"body_markdown":"I printed request.url() on both examples gives me same output (EXACTLY).\nBut the API responds different.","body":"I printed request.url() on both examples gives me same output (EXACTLY). But the API responds different."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684684750,"post_id":75308237,"comment_id":134549599,"body_markdown":"@MazenH., as a note, the `modelId` of Example A is different from the `modelId` of Example B.  You&#39;re using one which starts with &quot;8b1b897c&quot; in Example A, and one that starts with &quot;1285ded4&quot; in Example B.","body":"@MazenH., as a note, the <code>modelId</code> of Example A is different from the <code>modelId</code> of Example B.  You&#39;re using one which starts with &quot;8b1b897c&quot; in Example A, and one that starts with &quot;1285ded4&quot; in Example B."}],"answers":[{"comments":[{"owner":{"account_id":23750409,"reputation":11,"user_id":17767245,"display_name":"Mazen H."},"score":0,"creation_date":1675246939,"post_id":75308317,"comment_id":132885699,"body_markdown":"Nope, unfortunately it didn&#39;t work too.\nAPI received data and didn&#39;t return error but returned missing data (the issue) \nI added logs on the post","body":"Nope, unfortunately it didn&#39;t work too. API received data and didn&#39;t return error but returned missing data (the issue)  I added logs on the post"}],"tags":[],"owner":{"account_id":26781871,"reputation":1,"user_id":20376604,"display_name":"Vishal Rana"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675245176,"creation_date":1675245073,"answer_id":75308317,"question_id":75308237,"body_markdown":"\r\n    String url = &quot;https://api.leapml.dev/api/v1/images/models/&quot;+modelId+&quot;/inferences/&quot;+inferenceId;\r\n    \r\n    System.out.println(url); // This should be equal to &quot;https://api.leapml.dev/api/v1/images/models/1285ded4-b11b-4993-a491-d87cdfe6310c/inferences/3f9f5c8d-320f-4afc-85c4-454522118c16&quot;\r\n    \r\n    // Use the variable as argument\r\n    .url(url);\r\n    \r\nIf this still not work. Please provide the logs.","title":"okhttp string problem if using string in .url","body":"<pre><code>String url = &quot;https://api.leapml.dev/api/v1/images/models/&quot;+modelId+&quot;/inferences/&quot;+inferenceId;\n\nSystem.out.println(url); // This should be equal to &quot;https://api.leapml.dev/api/v1/images/models/1285ded4-b11b-4993-a491-d87cdfe6310c/inferences/3f9f5c8d-320f-4afc-85c4-454522118c16&quot;\n\n// Use the variable as argument\n.url(url);\n</code></pre>\n<p>If this still not work. Please provide the logs.</p>\n"},{"comments":[{"owner":{"account_id":23750409,"reputation":11,"user_id":17767245,"display_name":"Mazen H."},"score":0,"creation_date":1675246994,"post_id":75308568,"comment_id":132885721,"body_markdown":"I&#39;m getting the EXACT same result when I print request.url on both examples.","body":"I&#39;m getting the EXACT same result when I print request.url on both examples."},{"owner":{"account_id":23750409,"reputation":11,"user_id":17767245,"display_name":"Mazen H."},"score":0,"creation_date":1675247532,"post_id":75308568,"comment_id":132885906,"body_markdown":"Both System.out.print.ln();\n\nhttps://api.leapml.dev/api/v1/images/models/8b1b897c-d66d-45a6-b8d7-8e32421d02cf/inferences/bf76a04b-f5e9-4eb3-897e-737039071c65\nhttps://api.leapml.dev/api/v1/images/models/8b1b897c-d66d-45a6-b8d7-8e32421d02cf/inferences/bf76a04b-f5e9-4eb3-897e-737039071c65","body":"Both System.out.print.ln();  <a href=\"https://api.leapml.dev/api/v1/images/models/8b1b897c-d66d-45a6-b8d7-8e32421d02cf/inferences/bf76a04b-f5e9-4eb3-897e-737039071c65\" rel=\"nofollow noreferrer\">api.leapml.dev/api/v1/images/models/&hellip;</a> <a href=\"https://api.leapml.dev/api/v1/images/models/8b1b897c-d66d-45a6-b8d7-8e32421d02cf/inferences/bf76a04b-f5e9-4eb3-897e-737039071c65\" rel=\"nofollow noreferrer\">api.leapml.dev/api/v1/images/models/&hellip;</a>"}],"tags":[],"owner":{"account_id":18177196,"reputation":116,"user_id":13225691,"display_name":"Dman Cannon"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675246279,"creation_date":1675246279,"answer_id":75308568,"question_id":75308237,"body_markdown":"It seems your are trying to add binary data to the string. Check whether your are getting the actual string which you need. ","title":"okhttp string problem if using string in .url","body":"<p>It seems your are trying to add binary data to the string. Check whether your are getting the actual string which you need.</p>\n"},{"tags":[],"owner":{"account_id":23750409,"reputation":11,"user_id":17767245,"display_name":"Mazen H."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675320968,"creation_date":1675320968,"answer_id":75319626,"question_id":75308237,"body_markdown":"I found the issue and the solution,\r\nThe API I&#39;m using (Leapml) takes about 10 seconds to generate me the image link. So if I let the thread sleep for 11 seconds everything works just great\r\n\r\nThanks for everyone tried to help.","title":"okhttp string problem if using string in .url","body":"<p>I found the issue and the solution,\nThe API I'm using (Leapml) takes about 10 seconds to generate me the image link. So if I let the thread sleep for 11 seconds everything works just great</p>\n<p>Thanks for everyone tried to help.</p>\n"}],"owner":{"account_id":23750409,"reputation":11,"user_id":17767245,"display_name":"Mazen H."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75319626,"answer_count":3,"score":1,"last_activity_date":1675320968,"creation_date":1675244702,"question_id":75308237,"body_markdown":"I&#39;m using API from a website and it needs two strings \r\nString one: modelId \r\nString two: inferenceId\r\nboth of them are equal to value\r\n\r\n```\r\n\r\nOkHttpClient client = new OkHttpClient();\r\n\r\n                Request request = new Request.Builder()\r\n                        .url(&quot;https://api.leapml.dev/api/v1/images/models/&quot;+modelId+&quot;/inferences/&quot;+inferenceId)\r\n                        .get()\r\n                        .addHeader(&quot;accept&quot;, &quot;application/json&quot;)\r\n                        .addHeader(&quot;authorization&quot;, &quot;Bearer *secret word here*&quot;)\r\n                        .build();\r\n                \r\n                Response response = client.newCall(request).execute();\r\n\r\n\r\n```\r\n\r\nMy issue is in Example: A \r\n```\r\n.uri(&quot;https://api.leapml.dev/api/v1/images/models/&quot;+modelId+&quot;/inferences/&quot;+inferenceId)\r\n\r\n```\r\nif I added both modelId string and inferenceId string the the above code, the API doesn&#39;t work correctly \r\n\r\nbut if I add the text directly there like in below, everything works great\r\nExample: B\r\n```\r\n.url(&quot;https://api.leapml.dev/api/v1/images/models/1285ded4-b11b-4993-a491-d87cdfe6310c/inferences/3f9f5c8d-320f-4afc-85c4-454522118c16&quot;)\r\n```\r\n\r\n\r\nBoth of the above gives me the EXACT same result if I got the value of request.url(); but the API gets faulty with the example A\r\nBut works fine with example B \r\n\r\nLog of Example A (faulty one)\r\n\r\n&gt; I/System.out: Second Step:\r\n&gt; {&quot;id&quot;:&quot;f9828985-af41-46be-b8bc-ef81504b4a87&quot;,&quot;state&quot;:&quot;queued&quot;,&quot;prompt&quot;:&quot;cow&quot;,&quot;seed&quot;:4523184,&quot;width&quot;:1024,&quot;height&quot;:1024,&quot;numberOfImages&quot;:1,&quot;steps&quot;:50,&quot;weightsId&quot;:&quot;8b1b897c-d66d-45a6-b8d7-8e32421d02cf&quot;,&quot;workspaceId&quot;:&quot;d76af992-7c3e-4b1a-bc72-46b27de7c377&quot;,&quot;createdAt&quot;:&quot;2023-02-01T09:56:42.255006+00:00&quot;,&quot;images&quot;:[],&quot;modelId&quot;:&quot;8b1b897c-d66d-45a6-b8d7-8e32421d02cf&quot;}\r\n\r\nLog with Example B (Working perfect)\r\n\r\n&gt; I/System.out: Second Step:\r\n&gt; {&quot;id&quot;:&quot;3f9f5c8d-320f-4afc-85c4-454522118c16&quot;,&quot;state&quot;:&quot;finished&quot;,&quot;prompt&quot;:&quot;cow&quot;,&quot;seed&quot;:4523184,&quot;width&quot;:512,&quot;height&quot;:512,&quot;numberOfImages&quot;:1,&quot;steps&quot;:50,&quot;weightsId&quot;:&quot;1285ded4-b11b-4993-a491-d87cdfe6310c&quot;,&quot;workspaceId&quot;:&quot;d76af992-7c3e-4b1a-bc72-46b27de7c377&quot;,&quot;createdAt&quot;:&quot;2023-02-01T08:54:31.244159+00:00&quot;,&quot;images&quot;:[{&quot;id&quot;:&quot;f6518aea-f2a3-47ac-b9ff-81ca8c996206&quot;,&quot;uri&quot;:&quot;https://dreamtrain.s3.us-west-2.amazonaws.com/image-gen-3f9f5c8d-320f-4afc-85c4-454522118c16/generated_images/0.png&quot;,&quot;createdAt&quot;:&quot;2023-02-01\r\n&gt; 08:54:42.784652+00&quot;}],&quot;modelId&quot;:&quot;1285ded4-b11b-4993-a491-d87cdfe6310c&quot;}\r\n\r\nAs you can see Example B has &quot;uri&quot; image link and that&#39;s what i need. \r\n\r\nI tried many things but it seemed like nothing help.","title":"okhttp string problem if using string in .url","body":"<p>I'm using API from a website and it needs two strings\nString one: modelId\nString two: inferenceId\nboth of them are equal to value</p>\n<pre><code>\nOkHttpClient client = new OkHttpClient();\n\n                Request request = new Request.Builder()\n                        .url(&quot;https://api.leapml.dev/api/v1/images/models/&quot;+modelId+&quot;/inferences/&quot;+inferenceId)\n                        .get()\n                        .addHeader(&quot;accept&quot;, &quot;application/json&quot;)\n                        .addHeader(&quot;authorization&quot;, &quot;Bearer *secret word here*&quot;)\n                        .build();\n                \n                Response response = client.newCall(request).execute();\n\n\n</code></pre>\n<p>My issue is in Example: A</p>\n<pre><code>.uri(&quot;https://api.leapml.dev/api/v1/images/models/&quot;+modelId+&quot;/inferences/&quot;+inferenceId)\n\n</code></pre>\n<p>if I added both modelId string and inferenceId string the the above code, the API doesn't work correctly</p>\n<p>but if I add the text directly there like in below, everything works great\nExample: B</p>\n<pre><code>.url(&quot;https://api.leapml.dev/api/v1/images/models/1285ded4-b11b-4993-a491-d87cdfe6310c/inferences/3f9f5c8d-320f-4afc-85c4-454522118c16&quot;)\n</code></pre>\n<p>Both of the above gives me the EXACT same result if I got the value of request.url(); but the API gets faulty with the example A\nBut works fine with example B</p>\n<p>Log of Example A (faulty one)</p>\n<blockquote>\n<p>I/System.out: Second Step:\n{&quot;id&quot;:&quot;f9828985-af41-46be-b8bc-ef81504b4a87&quot;,&quot;state&quot;:&quot;queued&quot;,&quot;prompt&quot;:&quot;cow&quot;,&quot;seed&quot;:4523184,&quot;width&quot;:1024,&quot;height&quot;:1024,&quot;numberOfImages&quot;:1,&quot;steps&quot;:50,&quot;weightsId&quot;:&quot;8b1b897c-d66d-45a6-b8d7-8e32421d02cf&quot;,&quot;workspaceId&quot;:&quot;d76af992-7c3e-4b1a-bc72-46b27de7c377&quot;,&quot;createdAt&quot;:&quot;2023-02-01T09:56:42.255006+00:00&quot;,&quot;images&quot;:[],&quot;modelId&quot;:&quot;8b1b897c-d66d-45a6-b8d7-8e32421d02cf&quot;}</p>\n</blockquote>\n<p>Log with Example B (Working perfect)</p>\n<blockquote>\n<p>I/System.out: Second Step:\n{&quot;id&quot;:&quot;3f9f5c8d-320f-4afc-85c4-454522118c16&quot;,&quot;state&quot;:&quot;finished&quot;,&quot;prompt&quot;:&quot;cow&quot;,&quot;seed&quot;:4523184,&quot;width&quot;:512,&quot;height&quot;:512,&quot;numberOfImages&quot;:1,&quot;steps&quot;:50,&quot;weightsId&quot;:&quot;1285ded4-b11b-4993-a491-d87cdfe6310c&quot;,&quot;workspaceId&quot;:&quot;d76af992-7c3e-4b1a-bc72-46b27de7c377&quot;,&quot;createdAt&quot;:&quot;2023-02-01T08:54:31.244159+00:00&quot;,&quot;images&quot;:[{&quot;id&quot;:&quot;f6518aea-f2a3-47ac-b9ff-81ca8c996206&quot;,&quot;uri&quot;:&quot;https://dreamtrain.s3.us-west-2.amazonaws.com/image-gen-3f9f5c8d-320f-4afc-85c4-454522118c16/generated_images/0.png&quot;,&quot;createdAt&quot;:&quot;2023-02-01\n08:54:42.784652+00&quot;}],&quot;modelId&quot;:&quot;1285ded4-b11b-4993-a491-d87cdfe6310c&quot;}</p>\n</blockquote>\n<p>As you can see Example B has &quot;uri&quot; image link and that's what i need.</p>\n<p>I tried many things but it seemed like nothing help.</p>\n"},{"tags":["java","bigdecimal","mapstruct"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1675320696,"post_id":75319521,"comment_id":132904418,"body_markdown":"I don&#39;t think there&#39;s a built-in configuration as such, but you can create a mapper that does it and reuse it, cfg CMyker&#39;s answer to [this question](https://stackoverflow.com/questions/38807415/mapstruct-how-can-i-inject-a-spring-dependency-in-the-generated-mapper-class)","body":"I don&#39;t think there&#39;s a built-in configuration as such, but you can create a mapper that does it and reuse it, cfg CMyker&#39;s answer to <a href=\"https://stackoverflow.com/questions/38807415/mapstruct-how-can-i-inject-a-spring-dependency-in-the-generated-mapper-class\">this question</a>"},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1675325878,"post_id":75319521,"comment_id":132905520,"body_markdown":"There&#39;s a nullvaluemappingstrategy, but I don&#39;t think that&#39;s what you want. You could solve this, by using an @Named(&quot;bar&quot;) / @AfterMapping annotation on a custom method, paired with an @Mapping(target = &quot;foo&quot;, qualifiedByName = &quot;bar&quot;) or @Mapping(target = &quot;foo&quot;, ignore = true) on the mapper declaration itself.","body":"There&#39;s a nullvaluemappingstrategy, but I don&#39;t think that&#39;s what you want. You could solve this, by using an @Named(&quot;bar&quot;) / @AfterMapping annotation on a custom method, paired with an @Mapping(target = &quot;foo&quot;, qualifiedByName = &quot;bar&quot;) or @Mapping(target = &quot;foo&quot;, ignore = true) on the mapper declaration itself."},{"owner":{"account_id":13704422,"reputation":1323,"user_id":9888512,"display_name":"MatterOfFact"},"score":0,"creation_date":1675331135,"post_id":75319521,"comment_id":132907074,"body_markdown":"Thank you! Yes, I know that there&#39;s an option to write a custum mapper. My question is, if there is a build-in-config which already solves my requirement","body":"Thank you! Yes, I know that there&#39;s an option to write a custum mapper. My question is, if there is a build-in-config which already solves my requirement"}],"owner":{"account_id":13704422,"reputation":1323,"user_id":9888512,"display_name":"MatterOfFact"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675320210,"creation_date":1675320210,"question_id":75319521,"body_markdown":"In my mapping, I often have the requirement that 0 values (e.g. BigDecimal.ZERO) should be treated as NULL values.\r\nIf it were JavaScript number values, then the requirement would be that all falsy values should be mapped to NULL.\r\n\r\nExample: \r\n\r\nBigDecimal =&gt; String\r\n\r\nIf NULL then map to NULL\r\n\r\nIf BigDecimal.signum() == 0 then map to  NULL\r\n\r\nAll other values: .toString()\r\n\r\n\r\nIs there a build-in configuration to achieve this, or do I need to implement a custom mapper?","title":"Java Mapstruct treat zero value as null","body":"<p>In my mapping, I often have the requirement that 0 values (e.g. BigDecimal.ZERO) should be treated as NULL values.\nIf it were JavaScript number values, then the requirement would be that all falsy values should be mapped to NULL.</p>\n<p>Example:</p>\n<p>BigDecimal =&gt; String</p>\n<p>If NULL then map to NULL</p>\n<p>If BigDecimal.signum() == 0 then map to  NULL</p>\n<p>All other values: .toString()</p>\n<p>Is there a build-in configuration to achieve this, or do I need to implement a custom mapper?</p>\n"},{"tags":["java","exception","logging","apache-kafka","datadog"],"owner":{"account_id":27033494,"reputation":1,"user_id":20589480,"display_name":"Sandamini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675319997,"creation_date":1675319997,"question_id":75319491,"body_markdown":"I have a kafka connector application. There I am trying to send an exception as a log into Datadog. But I could not able to send that exception to Datadog.\r\n\r\nthis is my exception which I want to send to Datadog,\r\n\r\n```\r\nio.confluent.ksql.parser.exception.ParseFailedException: line 1:54: no viable alternative at input &#39;CREATE STREAM C2B_OTHER_CDD_SPLIT WITH ( KAFKA_TOPIC=&#39;Statement: CREATE STREAM C2B_OTHER_CDD_SPLIT WITH ( KAFKA_TOPIC=ordering.cdd.c2b-response.june.0, PARTITIONS=2, REPLICAS=3, C2B_OTHER_CDD_SPLIT=ordering.cdd.order.0, USE_INPUT_SCHEMA=true, VALUE_FORMAT=AVRO ) AS SELECT C2B_OTHER_CDD_SPLIT.* FROM C2B_OTHER_CDD_SPLIT WHERE C2B_OTHER_CDD_SPLIT.header-&gt;seller_id=USBL AND (C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=RPA OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=EDI OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=RCL OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=B2B OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=DOD) EMIT CHANGES;}&quot; \r\n```\r\n\r\n\r\n\r\nI found that the following part is not there in Datadog at any time, I want to know that is this a problem with the characters in this part?\r\n\r\n```\r\nio.confluent.ksql.parser.exception.ParseFailedException: line 1:54: no viable alternative at input &#39;CREATE STREAM C2B_OTHER_CDD_SPLIT WITH ( KAFKA_TOPIC=&#39;\r\n```\r\n\r\nAlso, I tried to send substrings with various lengths, however this message is not showing in the Datadog, but following part is there in the Datadog.\r\n\r\n```\r\nStatement: CREATE STREAM C2B_OTHER_CDD_SPLIT WITH ( KAFKA_TOPIC=ordering.cdd.c2b-response.june.0, PARTITIONS=2, REPLICAS=3, C2B_OTHER_CDD_SPLIT=ordering.cdd.order.0, USE_INPUT_SCHEMA=true, VALUE_FORMAT=AVRO ) AS SELECT C2B_OTHER_CDD_SPLIT.* FROM C2B_OTHER_CDD_SPLIT WHERE C2B_OTHER_CDD_SPLIT.header-&gt;seller_id=USBL AND (C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=RPA OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=EDI OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=RCL OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=B2B OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=DOD) EMIT CHANGES;}&quot;\r\n```\r\n\r\nmy all other logs could able to send to Datadog without any issue.\r\n\r\nCan anyone help me with this?","title":"Kafka connector exception logs not showing in Datadog","body":"<p>I have a kafka connector application. There I am trying to send an exception as a log into Datadog. But I could not able to send that exception to Datadog.</p>\n<p>this is my exception which I want to send to Datadog,</p>\n<pre><code>io.confluent.ksql.parser.exception.ParseFailedException: line 1:54: no viable alternative at input 'CREATE STREAM C2B_OTHER_CDD_SPLIT WITH ( KAFKA_TOPIC='Statement: CREATE STREAM C2B_OTHER_CDD_SPLIT WITH ( KAFKA_TOPIC=ordering.cdd.c2b-response.june.0, PARTITIONS=2, REPLICAS=3, C2B_OTHER_CDD_SPLIT=ordering.cdd.order.0, USE_INPUT_SCHEMA=true, VALUE_FORMAT=AVRO ) AS SELECT C2B_OTHER_CDD_SPLIT.* FROM C2B_OTHER_CDD_SPLIT WHERE C2B_OTHER_CDD_SPLIT.header-&gt;seller_id=USBL AND (C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=RPA OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=EDI OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=RCL OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=B2B OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=DOD) EMIT CHANGES;}&quot; \n</code></pre>\n<p>I found that the following part is not there in Datadog at any time, I want to know that is this a problem with the characters in this part?</p>\n<pre><code>io.confluent.ksql.parser.exception.ParseFailedException: line 1:54: no viable alternative at input 'CREATE STREAM C2B_OTHER_CDD_SPLIT WITH ( KAFKA_TOPIC='\n</code></pre>\n<p>Also, I tried to send substrings with various lengths, however this message is not showing in the Datadog, but following part is there in the Datadog.</p>\n<pre><code>Statement: CREATE STREAM C2B_OTHER_CDD_SPLIT WITH ( KAFKA_TOPIC=ordering.cdd.c2b-response.june.0, PARTITIONS=2, REPLICAS=3, C2B_OTHER_CDD_SPLIT=ordering.cdd.order.0, USE_INPUT_SCHEMA=true, VALUE_FORMAT=AVRO ) AS SELECT C2B_OTHER_CDD_SPLIT.* FROM C2B_OTHER_CDD_SPLIT WHERE C2B_OTHER_CDD_SPLIT.header-&gt;seller_id=USBL AND (C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=RPA OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=EDI OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=RCL OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=B2B OR C2B_OTHER_CDD_SPLIT.header-&gt;ordering_channel=DOD) EMIT CHANGES;}&quot;\n</code></pre>\n<p>my all other logs could able to send to Datadog without any issue.</p>\n<p>Can anyone help me with this?</p>\n"},{"tags":["java","spring","spring-boot","unit-testing"],"comments":[{"owner":{"account_id":3702936,"reputation":120,"user_id":3082137,"display_name":"Dev"},"score":0,"creation_date":1675318545,"post_id":75319224,"comment_id":132904004,"body_markdown":"Try to annot your test class with @SpringBootTest","body":"Try to annot your test class with @SpringBootTest"}],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675319867,"creation_date":1675319867,"answer_id":75319477,"question_id":75319224,"body_markdown":"You can use [@ActiveProfiles][1] annotation on test classes to load the properties from specific yaml file, for example if you have `application-test.properties` file under `src/test/resources` and add `@ActiveProfiles(&quot;test&quot;)` to test class it will load the propery values from `application-test.properties`\r\n\r\n    @AutoConfigureMockMvc\r\n    @WebMvcTest(SendMessageController.class)\r\n    @ExtendWith(MockitoExtension.class)\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class SecurityConfigurationTest\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/ActiveProfiles.html","title":"How to use test properties in a Java spring boot unit test","body":"<p>You can use <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/ActiveProfiles.html\" rel=\"nofollow noreferrer\">@ActiveProfiles</a> annotation on test classes to load the properties from specific yaml file, for example if you have <code>application-test.properties</code> file under <code>src/test/resources</code> and add <code>@ActiveProfiles(&quot;test&quot;)</code> to test class it will load the propery values from <code>application-test.properties</code></p>\n<pre><code>@AutoConfigureMockMvc\n@WebMvcTest(SendMessageController.class)\n@ExtendWith(MockitoExtension.class)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n@ActiveProfiles(&quot;test&quot;)\npublic class SecurityConfigurationTest\n</code></pre>\n"}],"owner":{"account_id":11286781,"reputation":683,"user_id":8277437,"display_name":"Vismark Juarez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675319867,"creation_date":1675317642,"question_id":75319224,"body_markdown":"I have the following class that contains two member variables (`cognitoClientId` and `cognitoClientSecret`) -- both of these values are populated by their respective property values in `src/main/resources/application.properties`:\r\n\r\n```java\r\n@Configuration\r\npublic class SecurityConfiguration {\r\n    @Value(&quot;${spring.security.oauth2.client.registration.cognito.clientId}&quot;)\r\n    private String cognitoClientId;\r\n\r\n    @Value(&quot;${spring.security.oauth2.client.registration.cognito.clientSecret}&quot;)\r\n    private String cognitoClientSecret;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        if(cognitoConfigurationsExist()){\r\n            http\r\n                .csrf()\r\n                .and()\r\n                .authorizeRequests(authz -&gt; authz.anyRequest().authenticated())\r\n                .oauth2Login()\r\n                .and()\r\n                .logout()\r\n                .logoutSuccessUrl(&quot;/&quot;);\r\n        } else {\r\n            http.antMatcher(&quot;/**&quot;);\r\n        }\r\n\r\n        return http.build();\r\n    }\r\n    \r\n    private boolean cognitoConfigurationsExist(){\r\n        boolean cognitoConfigurationsExist = !cognitoClientId.isBlank() &amp;&amp; !cognitoClientSecret.isBlank();\r\n        return cognitoConfigurationsExist;\r\n    }\r\n}\r\n```\r\n\r\nI have a `application-test.properties` file under the `src/test/resources` directory that holds property values to be used by the unit tests.\r\n```\r\nspring.security.oauth2.client.registration.cognito.clientId=&quot;testClientId&quot;\r\nspring.security.oauth2.client.registration.cognito.clientSecret=&quot;testClientSecret&quot;\r\n```\r\n\r\nI also have the following unit test that tests the if/else logic in the aforementioned class:\r\n\r\n```java\r\n@AutoConfigureMockMvc\r\n@WebMvcTest(SendMessageController.class)\r\n@ExtendWith(MockitoExtension.class)\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n@TestPropertySource(&quot;classpath:application-test.properties&quot;)\r\npublic class SecurityConfigurationTest {\r\n\r\n    @Test\r\n    void securityConfigurationTest() throws Exception {\r\n        SecurityConfiguration securityConfiguration = new SecurityConfiguration();\r\n        HttpSecurity httpSecurityMock = mock(HttpSecurity.class);\r\n\r\n        SecurityFilterChain securityFilterChain\r\n                = securityConfiguration.filterChain(httpSecurityMock);\r\n\r\n        Assert.assertNotNull(securityFilterChain);\r\n    }\r\n}\r\n```\r\n\r\nWhen running my unit test, I get a `NullPointerException` when the `cognitoClientId` and `cognitoClientSecret` try to derive their respective values from the intended property file.\r\n\r\nHow do I correctly tell my unit test to use the file `src/test/resources/application-test.properties` to derive the property values for these two variables?","title":"How to use test properties in a Java spring boot unit test","body":"<p>I have the following class that contains two member variables (<code>cognitoClientId</code> and <code>cognitoClientSecret</code>) -- both of these values are populated by their respective property values in <code>src/main/resources/application.properties</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SecurityConfiguration {\n    @Value(&quot;${spring.security.oauth2.client.registration.cognito.clientId}&quot;)\n    private String cognitoClientId;\n\n    @Value(&quot;${spring.security.oauth2.client.registration.cognito.clientSecret}&quot;)\n    private String cognitoClientSecret;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        if(cognitoConfigurationsExist()){\n            http\n                .csrf()\n                .and()\n                .authorizeRequests(authz -&gt; authz.anyRequest().authenticated())\n                .oauth2Login()\n                .and()\n                .logout()\n                .logoutSuccessUrl(&quot;/&quot;);\n        } else {\n            http.antMatcher(&quot;/**&quot;);\n        }\n\n        return http.build();\n    }\n    \n    private boolean cognitoConfigurationsExist(){\n        boolean cognitoConfigurationsExist = !cognitoClientId.isBlank() &amp;&amp; !cognitoClientSecret.isBlank();\n        return cognitoConfigurationsExist;\n    }\n}\n</code></pre>\n<p>I have a <code>application-test.properties</code> file under the <code>src/test/resources</code> directory that holds property values to be used by the unit tests.</p>\n<pre><code>spring.security.oauth2.client.registration.cognito.clientId=&quot;testClientId&quot;\nspring.security.oauth2.client.registration.cognito.clientSecret=&quot;testClientSecret&quot;\n</code></pre>\n<p>I also have the following unit test that tests the if/else logic in the aforementioned class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AutoConfigureMockMvc\n@WebMvcTest(SendMessageController.class)\n@ExtendWith(MockitoExtension.class)\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n@TestPropertySource(&quot;classpath:application-test.properties&quot;)\npublic class SecurityConfigurationTest {\n\n    @Test\n    void securityConfigurationTest() throws Exception {\n        SecurityConfiguration securityConfiguration = new SecurityConfiguration();\n        HttpSecurity httpSecurityMock = mock(HttpSecurity.class);\n\n        SecurityFilterChain securityFilterChain\n                = securityConfiguration.filterChain(httpSecurityMock);\n\n        Assert.assertNotNull(securityFilterChain);\n    }\n}\n</code></pre>\n<p>When running my unit test, I get a <code>NullPointerException</code> when the <code>cognitoClientId</code> and <code>cognitoClientSecret</code> try to derive their respective values from the intended property file.</p>\n<p>How do I correctly tell my unit test to use the file <code>src/test/resources/application-test.properties</code> to derive the property values for these two variables?</p>\n"},{"tags":["java","jenkins","groovy","scripting","java-scripting-engine"],"answers":[{"comments":[{"owner":{"account_id":2604958,"reputation":2410,"user_id":4920725,"display_name":"andrew lorien"},"score":0,"creation_date":1542164209,"post_id":42515229,"comment_id":93466463,"body_markdown":"In my context (Jenkins) I got the error : org.jenkinsci.plugins.scriptsecurity.sandbox.RejectedAccessException: Scripts not permitted to use method groovy.lang.Binding getVariables.  The other answer didn&#39;t work either, but it wasn&#39;t a security problem.","body":"In my context (Jenkins) I got the error : org.jenkinsci.plugins.scriptsecurity.sandbox.RejectedAccessE&zwnj;&#8203;xception: Scripts not permitted to use method groovy.lang.Binding getVariables.  The other answer didn&#39;t work either, but it wasn&#39;t a security problem."},{"owner":{"account_id":9988049,"reputation":30363,"user_id":7388477,"display_name":"Valdi_Bo"},"score":1,"creation_date":1542184819,"post_id":42515229,"comment_id":93472844,"body_markdown":"This is rather a Jenkins issue. Maybe you should ask a new question and mark it with *Jenkins* tag.","body":"This is rather a Jenkins issue. Maybe you should ask a new question and mark it with <i>Jenkins</i> tag."},{"owner":{"account_id":426184,"reputation":1091,"user_id":807248,"display_name":"Michael A."},"score":2,"creation_date":1546353672,"post_id":42515229,"comment_id":94829937,"body_markdown":"@andrewlorien If you had catched such an error, you can go to Jenkins settings, &quot;In-process Script Approval&quot; and approve this script.","body":"@andrewlorien If you had catched such an error, you can go to Jenkins settings, &quot;In-process Script Approval&quot; and approve this script."},{"owner":{"account_id":1214622,"reputation":3167,"user_id":1182474,"accept_rate":71,"display_name":"David L."},"score":0,"creation_date":1698420965,"post_id":42515229,"comment_id":136407893,"body_markdown":"You can also move such code to a Shared Library. For pipeline projects at least: https://www.jenkins.io/doc/book/pipeline/shared-libraries/","body":"You can also move such code to a Shared Library. For pipeline projects at least: <a href=\"https://www.jenkins.io/doc/book/pipeline/shared-libraries/\" rel=\"nofollow noreferrer\">jenkins.io/doc/book/pipeline/shared-libraries</a>"}],"tags":[],"owner":{"account_id":9988049,"reputation":30363,"user_id":7388477,"display_name":"Valdi_Bo"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1488303090,"creation_date":1488303090,"answer_id":42515229,"question_id":42465028,"body_markdown":"Variables injected by the Scripting Engine are held within\r\n`binding.variables`, so you can e.g. check for variable named `xx`:\r\n\r\n    if (binding.variables[&quot;xx&quot;]) ...","title":"How can I determine if a variable exists from within the Groovy code running in the Scripting Engine?","body":"<p>Variables injected by the Scripting Engine are held within\n<code>binding.variables</code>, so you can e.g. check for variable named <code>xx</code>:</p>\n\n<pre><code>if (binding.variables[\"xx\"]) ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6715704,"reputation":591,"user_id":5177605,"display_name":"Aliaksandr Pyrkh"},"comment_count":0,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1662916434,"creation_date":1505367999,"answer_id":46211430,"question_id":42465028,"body_markdown":"In a [groovy.lang.Script][1] there is a method `public Binding getBinding()`. And [groovy.lang.Binding][2] has method `public boolean hasVariable(String name)`.\r\n\r\nThus you can simply check variable existence like:\r\n\r\n    if (binding.hasVariable(&#39;superVariable&#39;)) {\r\n    // your code here\r\n    }\r\n\r\n\r\n\r\n  [1]: http://docs.groovy-lang.org/latest/html/api/groovy/lang/Script.html\r\n  [2]: http://docs.groovy-lang.org/latest/html/api/groovy/lang/Binding.html","title":"How can I determine if a variable exists from within the Groovy code running in the Scripting Engine?","body":"<p>In a <a href=\"http://docs.groovy-lang.org/latest/html/api/groovy/lang/Script.html\" rel=\"noreferrer\">groovy.lang.Script</a> there is a method <code>public Binding getBinding()</code>. And <a href=\"http://docs.groovy-lang.org/latest/html/api/groovy/lang/Binding.html\" rel=\"noreferrer\">groovy.lang.Binding</a> has method <code>public boolean hasVariable(String name)</code>.</p>\n<p>Thus you can simply check variable existence like:</p>\n<pre><code>if (binding.hasVariable('superVariable')) {\n// your code here\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6331,"reputation":2420,"user_id":10597,"accept_rate":67,"display_name":"ablarg"},"score":1,"creation_date":1578939063,"post_id":56306660,"comment_id":105594414,"body_markdown":"This method is better because it works around the Jenkins security sandbox.","body":"This method is better because it works around the Jenkins security sandbox."},{"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"score":0,"creation_date":1664978380,"post_id":56306660,"comment_id":130592186,"body_markdown":"What does `varNameExpr()` do?","body":"What does <code>varNameExpr()</code> do?"},{"owner":{"account_id":7583456,"reputation":305,"user_id":5753409,"display_name":"ajpieri"},"score":0,"creation_date":1690807650,"post_id":56306660,"comment_id":135400076,"body_markdown":"Better than what? The binding.hasVariable function works and seems much cleaner","body":"Better than what? The binding.hasVariable function works and seems much cleaner"}],"tags":[],"owner":{"account_id":4877652,"reputation":1363,"user_id":3932263,"accept_rate":50,"display_name":"Maximilian Mordig"},"comment_count":3,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1558801385,"creation_date":1558801385,"answer_id":56306660,"question_id":42465028,"body_markdown":"    // Example usage: defaultIfInexistent({myVar}, &quot;default&quot;)\r\n\tdef defaultIfInexistent(varNameExpr, defaultValue) {\r\n\t    try {\r\n\t        varNameExpr()\r\n\t    } catch (exc) {\r\n\t        defaultValue\r\n\t    }\r\n\t}","title":"How can I determine if a variable exists from within the Groovy code running in the Scripting Engine?","body":"<pre><code>// Example usage: defaultIfInexistent({myVar}, \"default\")\ndef defaultIfInexistent(varNameExpr, defaultValue) {\n    try {\n        varNameExpr()\n    } catch (exc) {\n        defaultValue\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3805720,"reputation":422,"user_id":3158217,"display_name":"Sumeet Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675319778,"creation_date":1675265380,"answer_id":75312517,"question_id":42465028,"body_markdown":"Improvement for the existing solution given here https://stackoverflow.com/a/56306660/3158217 -\r\n\r\n    def defaultIfInexistent(varName, defaultValue){\r\n        try{\r\n            varName.toString()\r\n            return varName\r\n        }catch(ex){\r\n            return defaultValue\r\n        }\r\n    }","title":"How can I determine if a variable exists from within the Groovy code running in the Scripting Engine?","body":"<p>Improvement for the existing solution given here <a href=\"https://stackoverflow.com/a/56306660/3158217\">https://stackoverflow.com/a/56306660/3158217</a> -</p>\n<pre><code>def defaultIfInexistent(varName, defaultValue){\n    try{\n        varName.toString()\n        return varName\n    }catch(ex){\n        return defaultValue\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":881880,"reputation":8346,"user_id":270143,"accept_rate":88,"display_name":"ycomp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60269,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":75312517,"answer_count":4,"score":27,"last_activity_date":1675319778,"creation_date":1488086390,"question_id":42465028,"body_markdown":"How can I determine if a variable exists from within the Groovy code running in the Scripting Engine?\r\n\r\nThe variable was put by [ScriptEngine&#39;s put method](https://docs.oracle.com/javase/8/docs/api/javax/script/ScriptEngine.html#put(java.lang.String,%20java.lang.Object))\r\n","title":"How can I determine if a variable exists from within the Groovy code running in the Scripting Engine?","body":"<p>How can I determine if a variable exists from within the Groovy code running in the Scripting Engine?</p>\n\n<p>The variable was put by <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/script/ScriptEngine.html#put(java.lang.String,%20java.lang.Object)\" rel=\"noreferrer\">ScriptEngine's put method</a></p>\n"},{"tags":["java","android","kotlin","android-camera","android-camerax"],"answers":[{"comments":[{"owner":{"account_id":25463398,"reputation":51,"user_id":19350699,"display_name":"Anshul"},"score":0,"creation_date":1675321622,"post_id":75319386,"comment_id":132904640,"body_markdown":"Thanks for your response. Can you help me out how can i implement it in my code. I can&#39;t figure it out.","body":"Thanks for your response. Can you help me out how can i implement it in my code. I can&#39;t figure it out."},{"owner":{"account_id":13488148,"reputation":170,"user_id":17404078,"display_name":"Ali Jawad Hussain Gorayya"},"score":0,"creation_date":1689833425,"post_id":75319386,"comment_id":135269765,"body_markdown":"This will create the issue with executor try to fin anyother view as i have also stuck in to it","body":"This will create the issue with executor try to fin anyother view as i have also stuck in to it"},{"owner":{"account_id":18301803,"reputation":159,"user_id":13326424,"display_name":"Prasanth John"},"score":0,"creation_date":1689923011,"post_id":75319386,"comment_id":135284442,"body_markdown":"Can you share you code pls.","body":"Can you share you code pls."}],"tags":[],"owner":{"account_id":18301803,"reputation":159,"user_id":13326424,"display_name":"Prasanth John"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675319238,"creation_date":1675319238,"answer_id":75319386,"question_id":75318913,"body_markdown":"    new CountDownTimer(3000, 1000) {\r\n            public void onTick(long millisUntilFinished) {\r\n            \r\n                  showProgressBar to the user or show message\r\n            }\r\n            public void onFinish() {\r\n                 recordVideo();\r\n            }\r\n        }.start();","title":"How can I add timer in CameraX preview after pressing the Start video recording button?","body":"<pre><code>new CountDownTimer(3000, 1000) {\n        public void onTick(long millisUntilFinished) {\n        \n              showProgressBar to the user or show message\n        }\n        public void onFinish() {\n             recordVideo();\n        }\n    }.start();\n</code></pre>\n"}],"owner":{"account_id":25463398,"reputation":51,"user_id":19350699,"display_name":"Anshul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675319238,"creation_date":1675314703,"question_id":75318913,"body_markdown":"\r\nMy requirement is that I have to built a video recording app using Android JAVA in which user will save his 30 seconds of video which will be sent to the another server. User will use the video recording only for once.\r\n\r\n&gt;I just want user to see the timer starting from 0 to 30 seconds so just after when he presses the Start Recording button.\r\n\r\nHow can I do so? Please help me. Sharing my code below.\r\n\r\n\r\n    public class VideoKycActivity extends AppCompatActivity implements ImageAnalysis.Analyzer, View.OnClickListener {\r\n            private ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture;\r\n    \r\n        PreviewView previewView;\r\n        private VideoCapture videoCapture;\r\n        private Button bRecord;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            previewView = findViewById(R.id.previewView);\r\n            bRecord = findViewById(R.id.bRecord);\r\n            bRecord.setText(&quot;start recording&quot;); // Set the initial text of the button\r\n            \r\n            bRecord.setOnClickListener(this);\r\n    \r\n            cameraProviderFuture = ProcessCameraProvider.getInstance(this);\r\n            cameraProviderFuture.addListener(() -&gt; {\r\n                try {\r\n                    ProcessCameraProvider cameraProvider = cameraProviderFuture.get();\r\n                    startCameraX(cameraProvider);\r\n                } catch (ExecutionException | InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }, getExecutor());\r\n    \r\n        }\r\n    \r\n        Executor getExecutor() {\r\n            return ContextCompat.getMainExecutor(this);\r\n        }\r\n    \r\n        @SuppressLint(&quot;RestrictedApi&quot;)\r\n        private void startCameraX(ProcessCameraProvider cameraProvider) {\r\n            cameraProvider.unbindAll();\r\n            CameraSelector cameraSelector = new CameraSelector.Builder()\r\n                    .requireLensFacing(CameraSelector.LENS_FACING_BACK)\r\n                    .build();\r\n            Preview preview = new Preview.Builder()\r\n                    .build();\r\n            preview.setSurfaceProvider(previewView.getSurfaceProvider());\r\n    \r\n    \r\n            // Video capture use case\r\n            videoCapture = new VideoCapture.Builder()\r\n                    .setVideoFrameRate(30)\r\n                    .build();\r\n    \r\n            // Image analysis use case\r\n            ImageAnalysis imageAnalysis = new ImageAnalysis.Builder()\r\n                    .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST)\r\n                    .build();\r\n    \r\n            imageAnalysis.setAnalyzer(getExecutor(), this);\r\n    \r\n            //bind to lifecycle:\r\n            cameraProvider.bindToLifecycle((LifecycleOwner) this, cameraSelector, preview, videoCapture);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void analyze(@NonNull ImageProxy image) {\r\n            // image processing here for the current frame\r\n            Log.d(&quot;TAG&quot;, &quot;analyze: got the frame at: &quot; + image.getImageInfo().getTimestamp());\r\n            image.close();\r\n        }\r\n    \r\n        @SuppressLint(&quot;RestrictedApi&quot;)\r\n        @Override\r\n        public void onClick(View view) {\r\n            switch (view.getId()) {\r\n                case R.id.bRecord:\r\n                    if (bRecord.getText() == &quot;start recording&quot;){\r\n                        bRecord.setText(&quot;stop recording&quot;);\r\n                        recordVideo();\r\n                    } else {\r\n                        bRecord.setText(&quot;start recording&quot;);\r\n                        videoCapture.stopRecording();\r\n                    }\r\n                    break;\r\n    \r\n            }\r\n        }\r\n    \r\n    \r\n        @SuppressLint(&quot;RestrictedApi&quot;)\r\n        private void recordVideo() {\r\n            if (videoCapture != null) {\r\n    \r\n                long timestamp = System.currentTimeMillis();\r\n    \r\n                ContentValues contentValues = new ContentValues();\r\n                contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, timestamp);\r\n                contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;video/mp4&quot;);\r\n    \r\n                try {\r\n                    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\r\n                        // TODO: Consider calling\r\n                        //    ActivityCompat#requestPermissions\r\n                        // here to request the missing permissions, and then overriding\r\n                        //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                        //                                          int[] grantResults)\r\n                        // to handle the case where the user grants the permission. See the documentation\r\n                        // for ActivityCompat#requestPermissions for more details.\r\n                        return;\r\n                    }\r\n                    videoCapture.startRecording(\r\n                            new VideoCapture.OutputFileOptions.Builder(\r\n                                    getContentResolver(),\r\n                                    MediaStore.Video.Media.EXTERNAL_CONTENT_URI,\r\n                                    contentValues\r\n                            ).build(),\r\n                            getExecutor(),\r\n                            new VideoCapture.OnVideoSavedCallback() {\r\n                                @Override\r\n                                public void onVideoSaved(@NonNull VideoCapture.OutputFileResults outputFileResults) {\r\n                                    Toast.makeText(VideoKycActivity.this, &quot;Video has been saved successfully.&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n    \r\n                                @Override\r\n                                public void onError(int videoCaptureError, @NonNull String message, @Nullable Throwable cause) {\r\n                                    Toast.makeText(VideoKycActivity.this, &quot;Error saving video: &quot; + message, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                    );\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n            }\r\n        }\r\n    }","title":"How can I add timer in CameraX preview after pressing the Start video recording button?","body":"<p>My requirement is that I have to built a video recording app using Android JAVA in which user will save his 30 seconds of video which will be sent to the another server. User will use the video recording only for once.</p>\n<blockquote>\n<p>I just want user to see the timer starting from 0 to 30 seconds so just after when he presses the Start Recording button.</p>\n</blockquote>\n<p>How can I do so? Please help me. Sharing my code below.</p>\n<pre><code>public class VideoKycActivity extends AppCompatActivity implements ImageAnalysis.Analyzer, View.OnClickListener {\n        private ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture;\n\n    PreviewView previewView;\n    private VideoCapture videoCapture;\n    private Button bRecord;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        previewView = findViewById(R.id.previewView);\n        bRecord = findViewById(R.id.bRecord);\n        bRecord.setText(&quot;start recording&quot;); // Set the initial text of the button\n        \n        bRecord.setOnClickListener(this);\n\n        cameraProviderFuture = ProcessCameraProvider.getInstance(this);\n        cameraProviderFuture.addListener(() -&gt; {\n            try {\n                ProcessCameraProvider cameraProvider = cameraProviderFuture.get();\n                startCameraX(cameraProvider);\n            } catch (ExecutionException | InterruptedException e) {\n                e.printStackTrace();\n            }\n        }, getExecutor());\n\n    }\n\n    Executor getExecutor() {\n        return ContextCompat.getMainExecutor(this);\n    }\n\n    @SuppressLint(&quot;RestrictedApi&quot;)\n    private void startCameraX(ProcessCameraProvider cameraProvider) {\n        cameraProvider.unbindAll();\n        CameraSelector cameraSelector = new CameraSelector.Builder()\n                .requireLensFacing(CameraSelector.LENS_FACING_BACK)\n                .build();\n        Preview preview = new Preview.Builder()\n                .build();\n        preview.setSurfaceProvider(previewView.getSurfaceProvider());\n\n\n        // Video capture use case\n        videoCapture = new VideoCapture.Builder()\n                .setVideoFrameRate(30)\n                .build();\n\n        // Image analysis use case\n        ImageAnalysis imageAnalysis = new ImageAnalysis.Builder()\n                .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST)\n                .build();\n\n        imageAnalysis.setAnalyzer(getExecutor(), this);\n\n        //bind to lifecycle:\n        cameraProvider.bindToLifecycle((LifecycleOwner) this, cameraSelector, preview, videoCapture);\n\n    }\n\n    @Override\n    public void analyze(@NonNull ImageProxy image) {\n        // image processing here for the current frame\n        Log.d(&quot;TAG&quot;, &quot;analyze: got the frame at: &quot; + image.getImageInfo().getTimestamp());\n        image.close();\n    }\n\n    @SuppressLint(&quot;RestrictedApi&quot;)\n    @Override\n    public void onClick(View view) {\n        switch (view.getId()) {\n            case R.id.bRecord:\n                if (bRecord.getText() == &quot;start recording&quot;){\n                    bRecord.setText(&quot;stop recording&quot;);\n                    recordVideo();\n                } else {\n                    bRecord.setText(&quot;start recording&quot;);\n                    videoCapture.stopRecording();\n                }\n                break;\n\n        }\n    }\n\n\n    @SuppressLint(&quot;RestrictedApi&quot;)\n    private void recordVideo() {\n        if (videoCapture != null) {\n\n            long timestamp = System.currentTimeMillis();\n\n            ContentValues contentValues = new ContentValues();\n            contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, timestamp);\n            contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;video/mp4&quot;);\n\n            try {\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\n                    // TODO: Consider calling\n                    //    ActivityCompat#requestPermissions\n                    // here to request the missing permissions, and then overriding\n                    //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                    //                                          int[] grantResults)\n                    // to handle the case where the user grants the permission. See the documentation\n                    // for ActivityCompat#requestPermissions for more details.\n                    return;\n                }\n                videoCapture.startRecording(\n                        new VideoCapture.OutputFileOptions.Builder(\n                                getContentResolver(),\n                                MediaStore.Video.Media.EXTERNAL_CONTENT_URI,\n                                contentValues\n                        ).build(),\n                        getExecutor(),\n                        new VideoCapture.OnVideoSavedCallback() {\n                            @Override\n                            public void onVideoSaved(@NonNull VideoCapture.OutputFileResults outputFileResults) {\n                                Toast.makeText(VideoKycActivity.this, &quot;Video has been saved successfully.&quot;, Toast.LENGTH_SHORT).show();\n                            }\n\n                            @Override\n                            public void onError(int videoCaptureError, @NonNull String message, @Nullable Throwable cause) {\n                                Toast.makeText(VideoKycActivity.this, &quot;Error saving video: &quot; + message, Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                );\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","pom.xml","maven-plugin","maven-surefire-plugin"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1675316808,"post_id":75319109,"comment_id":132903738,"body_markdown":"Did you search the web first? Because it&#39;s part of standard Maven and has perfectly readable docs over on https://maven.apache.org/surefire/maven-surefire-plugin/","body":"Did you search the web first? Because it&#39;s part of standard Maven and has perfectly readable docs over on <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin</a>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675318456,"post_id":75319109,"comment_id":132903992,"body_markdown":"The first thing you should learn is to follow conventions (over configuration) which means naming the unit tests like `*Test.java` (details: https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#includes) also I would question why you need to setup such large memory configuration for unit tests... Furthermore I strongly recommend to use more recent versions of the plugins (general reference: https://maven.apache.org/plugins/) also this duplication in your pom file should produce warnings during the build.","body":"The first thing you should learn is to follow conventions (over configuration) which means naming the unit tests like <code>*Test.java</code> (details: <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#includes\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/&hellip;</a>) also I would question why you need to setup such large memory configuration for unit tests... Furthermore I strongly recommend to use more recent versions of the plugins (general reference: <a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>) also this duplication in your pom file should produce warnings during the build."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675318493,"post_id":75319109,"comment_id":132903999,"body_markdown":"If you have failures during your build it&#39;s really necessary to post those error outputs here because we have no magic glas bulb where we can see your logs...","body":"If you have failures during your build it&#39;s really necessary to post those error outputs here because we have no magic glas bulb where we can see your logs..."},{"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"score":0,"creation_date":1675319425,"post_id":75319109,"comment_id":132904177,"body_markdown":"@khmarbaise Please see the edit. Also, should I just remove the memory Configuration? because this is a heavy project so not sure on this part.","body":"@khmarbaise Please see the edit. Also, should I just remove the memory Configuration? because this is a heavy project so not sure on this part."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675319918,"post_id":75319109,"comment_id":132904267,"body_markdown":"Check the failing tests and also the control sequences (color etc. are not helpful)... furthermore you have a lot of WARNING about deps. etc. Can you post your fuill pom file.... is that an OSGi project ?","body":"Check the failing tests and also the control sequences (color etc. are not helpful)... furthermore you have a lot of WARNING about deps. etc. Can you post your fuill pom file.... is that an OSGi project ?"},{"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"score":0,"creation_date":1675340265,"post_id":75319109,"comment_id":132910097,"body_markdown":"@khmarbaise here is the link for my pom.xml - https://www.dropbox.com/scl/fi/2bizq00xp405scqh6olzd/Untitled.paper?dl=0&amp;rlkey=eip2f62cu4utbpj063rt3wsxa and here is the proper log - https://www.dropbox.com/scl/fi/2bizq00xp405scqh6olzd/Untitled.paper?dl=0&amp;rlkey=eip2f62cu4utbpj063rt3wsxa.","body":"@khmarbaise here is the link for my pom.xml - <a href=\"https://www.dropbox.com/scl/fi/2bizq00xp405scqh6olzd/Untitled.paper?dl=0&amp;rlkey=eip2f62cu4utbpj063rt3wsxa\" rel=\"nofollow noreferrer\">dropbox.com/scl/fi/2bizq00xp405scqh6olzd/&hellip;</a> and here is the proper log - <a href=\"https://www.dropbox.com/scl/fi/2bizq00xp405scqh6olzd/Untitled.paper?dl=0&amp;rlkey=eip2f62cu4utbpj063rt3wsxa\" rel=\"nofollow noreferrer\">dropbox.com/scl/fi/2bizq00xp405scqh6olzd/&hellip;</a>."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675433036,"post_id":75319109,"comment_id":132933521,"body_markdown":"There are so manny warning and also no test being executed the apart from that the link to pom file is the same as to the log file ... make a github example project ....","body":"There are so manny warning and also no test being executed the apart from that the link to pom file is the same as to the log file ... make a github example project ...."},{"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"score":0,"creation_date":1675672851,"post_id":75319109,"comment_id":132971943,"body_markdown":"@khmarbaise Can you please provide a resolution for this. Also my pom is https://www.dropbox.com/scl/fi/0mdpkej04lin0ikjds4a9/Untitled-1.paper?dl=0&amp;rlkey=hu2zgfr5kp4ro4sq6jo04gr61","body":"@khmarbaise Can you please provide a resolution for this. Also my pom is <a href=\"https://www.dropbox.com/scl/fi/0mdpkej04lin0ikjds4a9/Untitled-1.paper?dl=0&amp;rlkey=hu2zgfr5kp4ro4sq6jo04gr61\" rel=\"nofollow noreferrer\">dropbox.com/scl/fi/0mdpkej04lin0ikjds4a9/&hellip;</a>"}],"owner":{"account_id":22883450,"reputation":129,"user_id":17024722,"display_name":"Ruchi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675319227,"creation_date":1675316630,"question_id":75319109,"body_markdown":"In my pom.xml there are two plugins added of surefire and I&#39;m confused why are they used. \r\n\r\n```&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;2.22.0&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;!--&lt;skipTests&gt;false&lt;/skipTests&gt;--&gt;\r\n\t\t\t\t\t\t\t&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n\t\t\t\t\t\t\t&lt;!--  &lt;forkMode&gt;once&lt;/forkMode&gt; --&gt;\r\n\t\t\t\t\t\t\t&lt;!-- Sets the VM argument line used when unit tests are run. --&gt;\r\n\t\t\t\t\t\t\t&lt;argLine&gt;${surefireArgLine}&lt;/argLine&gt;\r\n\t\t\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t\t\t&lt;include&gt;**/*TestApp.java&lt;/include&gt;\r\n\t\t\t\t\t\t\t\t&lt;include&gt;**/*Test.java&lt;/include&gt;\r\n\t\t\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.22.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;!--\t&lt;skipTests&gt;false&lt;/skipTests&gt;--&gt;\r\n\t\t\t\t\t&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n\t\t\t\t\t&lt;!--  &lt;forkMode&gt;once&lt;/forkMode&gt; --&gt;\r\n\r\n\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t&lt;include&gt;**/*TestApp.java&lt;/include&gt;\r\n\t\t\t\t\t\t&lt;include&gt;**/*Test.java&lt;/include&gt;\r\n\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t&lt;argLine&gt;-Xms128m&lt;/argLine&gt;\r\n\t\t\t\t\t&lt;argLine&gt;-Xmx512m&lt;/argLine&gt;\r\n\t\t\t\t\t&lt;argLine&gt;-XX:MaxPermSize=256m&lt;/argLine&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```\r\n\r\n\r\nalso, if I just comment \t&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt; then my maven build starts to fail. can someone please explain this and also how to resolve this as well.\r\nEDIT 1 \r\nHere is my error stack when I run maven test\r\n\r\n```\r\n**SLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/D:/eclipse-jee-2022-09-R-win32-x86_64/eclipse/plugins/org.eclipse.m2e.maven.runtime_3.8.601.20220820-1147/jars/maven-slf4j-provider-3.8.6.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [file:/D:/eclipse-jee-2022-09-R-win32-x86_64/eclipse/configuration/org.eclipse.osgi/917/0/.cp/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [org.slf4j.impl.MavenSimpleLoggerFactory]\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/D:/eclipse-jee-2022-09-R-win32-x86_64/eclipse/plugins/org.eclipse.m2e.maven.runtime_3.8.601.20220820-1147/jars/maven-slf4j-provider-3.8.6.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [file:/D:/eclipse-jee-2022-09-R-win32-x86_64/eclipse/configuration/org.eclipse.osgi/917/0/.cp/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [org.slf4j.impl.MavenSimpleLoggerFactory]\r\n[[INFO[m] Scanning for projects...\r\n[[mWARNING[m] \r\n[[mWARNING[m] Some problems were encountered while building the effective model for com.apc:designportal:war:22.1.2\r\n[[mWARNING[m] &#39;dependencies.dependency.(groupId:artifactId:type:classifier)&#39; must be unique: junit:junit:jar -&gt; duplicate declaration of version 4.12 @ line 430, column 15\r\n[[mWARNING[m] Reporting configuration should be done in &lt;reporting&gt; section, not in maven-site-plugin &lt;configuration&gt; as reportPlugins parameter. @ line 973, column 20\r\n[[mWARNING[m] \r\n[[mWARNING[m] It is highly recommended to fix these problems because they threaten the stability of your build.\r\n[[mWARNING[m] \r\n[[mWARNING[m] For this reason, future Maven versions might no longer support building such malformed projects.\r\n[[mWARNING[m] \r\n[[INFO[m] \r\n[[INFO[m] [1m------------------------&lt; [0;36mcom.apc:designportal[0;1m &gt;------------------------[m\r\n[[INFO[m] [1mBuilding SE Design Portal 22.1.2[m\r\n[[INFO[m] [1m--------------------------------[ war ]---------------------------------[m\r\n[[mWARNING[m] The POM for com.apc.designtools:dp-quotingsystem-integration:jar:0.4 is missing, no dependency information available\r\n[[mWARNING[m] The artifact org.hibernate:hibernate-validator:jar:6.2.5.Final has been relocated to org.hibernate.validator:hibernate-validator:jar:6.2.5.Final\r\n[[mWARNING[m] The artifact javax.xml:jaxrpc:jar:1.1 has been relocated to javax.xml:jaxrpc-api:jar:1.1\r\n[[INFO[m] \r\n[[INFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:resources[m [1m(default-resources)[m @ [36mdesignportal[0;1m ---[m\r\n[[mWARNING[m] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\r\n[[INFO[m] Copying 14 resources\r\n[[INFO[m] Copying 83 resources\r\n[[INFO[m] \r\n[[INFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.1:compile[m [1m(default-compile)[m @ [36mdesignportal[0;1m ---[m\r\n[[INFO[m] Nothing to compile - all classes are up to date\r\n[[INFO[m] \r\n[[INFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:testResources[m [1m(default-testResources)[m @ [36mdesignportal[0;1m ---[m\r\n[[mWARNING[m] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\r\n[[INFO[m] Copying 8 resources\r\n[[INFO[m] \r\n[[INFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.1:testCompile[m [1m(default-testCompile)[m @ [36mdesignportal[0;1m ---[m\r\n[[INFO[m] Nothing to compile - all classes are up to date\r\n[[INFO[m] \r\n[[INFO[m] [1m--- [0;32mmaven-surefire-plugin:2.22.0:test[m [1m(default-test)[m @ [36mdesignportal[0;1m ---[m\r\n[[INFO[m] \r\n[[INFO[m] -------------------------------------------------------\r\n[[INFO[m]  T E S T S\r\n[[INFO[m] -------------------------------------------------------\r\n[[INFO[m] \r\n[[INFO[m] Results:\r\n[[INFO[m] \r\n[[INFO[m] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n[[INFO[m] \r\n[[INFO[m] [1m------------------------------------------------------------------------[m\r\n[[INFO[m] [1;31mBUILD FAILURE[m\r\n[[INFO[m] [1m------------------------------------------------------------------------[m\r\n[[INFO[m] Total time:  3.939 s\r\n[[INFO[m] Finished at: 2023-02-02T11:50:54+05:30\r\n[[INFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;31mERROR[m] Failed to execute goal [32morg.apache.maven.plugins:maven-surefire-plugin:2.22.0:test[m [1m(default-test)[m on project [36mdesignportal[m: [1;31mThere are test failures.[m\r\n[[1;31mERROR[m] [1;31m[m\r\n[[1;31mERROR[m] [1;31mPlease refer to C:\\Users\\SESA701739\\Downloads\\Repository for openJDK17\\designportal\\target\\surefire-reports for the individual test results.[m\r\n[[1;31mERROR[m] [1;31mPlease refer to dump files (if any exist) [date]-jvmRun[N].dump, [date].dumpstream and [date]-jvmRun[N].dumpstream.[m\r\n[[1;31mERROR[m] [1;31mThe forked VM terminated without properly saying goodbye. VM crash or System.exit called?[m\r\n[[1;31mERROR[m] [1;31mCommand was cmd.exe /X /C &quot;D:\\eclipse-jee-2022-09-R-win32-x86_64\\eclipse\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.4.v20220903-1038\\jre\\bin\\java -XX:MaxPermSize=256m -jar C:\\Users\\SESA70~1\\AppData\\Local\\Temp\\surefire14215564203121122107\\surefirebooter2253485858284748685.jar C:\\Users\\SESA701739\\AppData\\Local\\Temp\\surefire14215564203121122107 2023-02-02T11-50-54_343-jvmRun1 surefire12140783555302454556tmp surefire_04303044982407970188tmp&quot;[m\r\n[[1;31mERROR[m] [1;31mError occurred in starting fork, check output in log[m\r\n[[1;31mERROR[m] [1;31mProcess Exit Code: 1[m\r\n[[1;31mERROR[m] [1;31morg.apache.maven.surefire.booter.SurefireBooterForkException: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?[m\r\n[[1;31mERROR[m] [1;31mCommand was cmd.exe /X /C &quot;D:\\eclipse-jee-2022-09-R-win32-x86_64\\eclipse\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.4.v20220903-1038\\jre\\bin\\java -XX:MaxPermSize=256m -jar C:\\Users\\SESA70~1\\AppData\\Local\\Temp\\surefire14215564203121122107\\surefirebooter2253485858284748685.jar C:\\Users\\SESA701739\\AppData\\Local\\Temp\\surefire14215564203121122107 2023-02-02T11-50-54_343-jvmRun1 surefire12140783555302454556tmp surefire_04303044982407970188tmp&quot;[m\r\n[[1;31mERROR[m] [1;31mError occurred in starting fork, check output in log[m\r\n[[1;31mERROR[m] [1;31mProcess Exit Code: 1[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:671)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:533)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:278)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:244)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1194)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:1022)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:868)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:370)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:351)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:215)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:171)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:163)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:294)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:960)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:293)[m\r\n[[1;31mERROR[m] [1;31m\tat org.apache.maven.cli.MavenCli.main(MavenCli.java:196)[m\r\n[[1;31mERROR[m] [1;31m\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)[m\r\n[[1;31mERROR[m] [1;31m\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)[m\r\n[[1;31mERROR[m] [1;31m\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)[m\r\n[[1;31mERROR[m] [1;31m\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)[m\r\n[[1;31mERROR[m] [1;31m\tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)[m\r\n[[1;31mERROR[m] [1;31m\tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)[m\r\n[[1;31mERROR[m] [1;31m\tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)[m\r\n[[1;31mERROR[m] [1;31m\tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)[m\r\n[[1;31mERROR[m] [1;31m[m\r\n[[1;31mERROR[m] -&gt; [1m[Help 1][m\r\n[[1;31mERROR[m] \r\n[[1;31mERROR[m] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\r\n[[1;31mERROR[m] Re-run Maven using the [1m-X[m switch to enable full debug logging.\r\n[[1;31mERROR[m] \r\n[[1\r\n\r\n&gt; Blockquote\r\n\r\n;31mERROR[m] For more information about the errors and possible solutions, please read the following articles:\r\n[[1;31mERROR[m] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException**\r\n```\r\nAnd for this I&#39;m unable to get the idea. If I just comment the testfailureIgnore true so that would not be a solution.","title":"What is the use of sure-fire plugin in my pom","body":"<p>In my pom.xml there are two plugins added of surefire and I'm confused why are they used.</p>\n<pre><code>                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;2.22.0&lt;/version&gt;\n                        &lt;configuration&gt;\n                            &lt;!--&lt;skipTests&gt;false&lt;/skipTests&gt;--&gt;\n                            &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                            &lt;!--  &lt;forkMode&gt;once&lt;/forkMode&gt; --&gt;\n                            &lt;!-- Sets the VM argument line used when unit tests are run. --&gt;\n                            &lt;argLine&gt;${surefireArgLine}&lt;/argLine&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;**/*TestApp.java&lt;/include&gt;\n                                &lt;include&gt;**/*Test.java&lt;/include&gt;\n                            &lt;/includes&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                                    \n                    &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!--    &lt;skipTests&gt;false&lt;/skipTests&gt;--&gt;\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                    &lt;!--  &lt;forkMode&gt;once&lt;/forkMode&gt; --&gt;\n\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*TestApp.java&lt;/include&gt;\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;argLine&gt;-Xms128m&lt;/argLine&gt;\n                    &lt;argLine&gt;-Xmx512m&lt;/argLine&gt;\n                    &lt;argLine&gt;-XX:MaxPermSize=256m&lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>also, if I just comment     true then my maven build starts to fail. can someone please explain this and also how to resolve this as well.\nEDIT 1\nHere is my error stack when I run maven test</p>\n<pre><code>**SLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/D:/eclipse-jee-2022-09-R-win32-x86_64/eclipse/plugins/org.eclipse.m2e.maven.runtime_3.8.601.20220820-1147/jars/maven-slf4j-provider-3.8.6.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [file:/D:/eclipse-jee-2022-09-R-win32-x86_64/eclipse/configuration/org.eclipse.osgi/917/0/.cp/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.MavenSimpleLoggerFactory]\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/D:/eclipse-jee-2022-09-R-win32-x86_64/eclipse/plugins/org.eclipse.m2e.maven.runtime_3.8.601.20220820-1147/jars/maven-slf4j-provider-3.8.6.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [file:/D:/eclipse-jee-2022-09-R-win32-x86_64/eclipse/configuration/org.eclipse.osgi/917/0/.cp/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.slf4j.impl.MavenSimpleLoggerFactory]\n[[INFO[m] Scanning for projects...\n[[mWARNING[m] \n[[mWARNING[m] Some problems were encountered while building the effective model for com.apc:designportal:war:22.1.2\n[[mWARNING[m] 'dependencies.dependency.(groupId:artifactId:type:classifier)' must be unique: junit:junit:jar -&gt; duplicate declaration of version 4.12 @ line 430, column 15\n[[mWARNING[m] Reporting configuration should be done in &lt;reporting&gt; section, not in maven-site-plugin &lt;configuration&gt; as reportPlugins parameter. @ line 973, column 20\n[[mWARNING[m] \n[[mWARNING[m] It is highly recommended to fix these problems because they threaten the stability of your build.\n[[mWARNING[m] \n[[mWARNING[m] For this reason, future Maven versions might no longer support building such malformed projects.\n[[mWARNING[m] \n[[INFO[m] \n[[INFO[m] [1m------------------------&lt; [0;36mcom.apc:designportal[0;1m &gt;------------------------[m\n[[INFO[m] [1mBuilding SE Design Portal 22.1.2[m\n[[INFO[m] [1m--------------------------------[ war ]---------------------------------[m\n[[mWARNING[m] The POM for com.apc.designtools:dp-quotingsystem-integration:jar:0.4 is missing, no dependency information available\n[[mWARNING[m] The artifact org.hibernate:hibernate-validator:jar:6.2.5.Final has been relocated to org.hibernate.validator:hibernate-validator:jar:6.2.5.Final\n[[mWARNING[m] The artifact javax.xml:jaxrpc:jar:1.1 has been relocated to javax.xml:jaxrpc-api:jar:1.1\n[[INFO[m] \n[[INFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:resources[m [1m(default-resources)[m @ [36mdesignportal[0;1m ---[m\n[[mWARNING[m] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\n[[INFO[m] Copying 14 resources\n[[INFO[m] Copying 83 resources\n[[INFO[m] \n[[INFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.1:compile[m [1m(default-compile)[m @ [36mdesignportal[0;1m ---[m\n[[INFO[m] Nothing to compile - all classes are up to date\n[[INFO[m] \n[[INFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:testResources[m [1m(default-testResources)[m @ [36mdesignportal[0;1m ---[m\n[[mWARNING[m] Using platform encoding (UTF-8 actually) to copy filtered resources, i.e. build is platform dependent!\n[[INFO[m] Copying 8 resources\n[[INFO[m] \n[[INFO[m] [1m--- [0;32mmaven-compiler-plugin:3.10.1:testCompile[m [1m(default-testCompile)[m @ [36mdesignportal[0;1m ---[m\n[[INFO[m] Nothing to compile - all classes are up to date\n[[INFO[m] \n[[INFO[m] [1m--- [0;32mmaven-surefire-plugin:2.22.0:test[m [1m(default-test)[m @ [36mdesignportal[0;1m ---[m\n[[INFO[m] \n[[INFO[m] -------------------------------------------------------\n[[INFO[m]  T E S T S\n[[INFO[m] -------------------------------------------------------\n[[INFO[m] \n[[INFO[m] Results:\n[[INFO[m] \n[[INFO[m] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n[[INFO[m] \n[[INFO[m] [1m------------------------------------------------------------------------[m\n[[INFO[m] [1;31mBUILD FAILURE[m\n[[INFO[m] [1m------------------------------------------------------------------------[m\n[[INFO[m] Total time:  3.939 s\n[[INFO[m] Finished at: 2023-02-02T11:50:54+05:30\n[[INFO[m] [1m------------------------------------------------------------------------[m\n[[1;31mERROR[m] Failed to execute goal [32morg.apache.maven.plugins:maven-surefire-plugin:2.22.0:test[m [1m(default-test)[m on project [36mdesignportal[m: [1;31mThere are test failures.[m\n[[1;31mERROR[m] [1;31m[m\n[[1;31mERROR[m] [1;31mPlease refer to C:\\Users\\SESA701739\\Downloads\\Repository for openJDK17\\designportal\\target\\surefire-reports for the individual test results.[m\n[[1;31mERROR[m] [1;31mPlease refer to dump files (if any exist) [date]-jvmRun[N].dump, [date].dumpstream and [date]-jvmRun[N].dumpstream.[m\n[[1;31mERROR[m] [1;31mThe forked VM terminated without properly saying goodbye. VM crash or System.exit called?[m\n[[1;31mERROR[m] [1;31mCommand was cmd.exe /X /C &quot;D:\\eclipse-jee-2022-09-R-win32-x86_64\\eclipse\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.4.v20220903-1038\\jre\\bin\\java -XX:MaxPermSize=256m -jar C:\\Users\\SESA70~1\\AppData\\Local\\Temp\\surefire14215564203121122107\\surefirebooter2253485858284748685.jar C:\\Users\\SESA701739\\AppData\\Local\\Temp\\surefire14215564203121122107 2023-02-02T11-50-54_343-jvmRun1 surefire12140783555302454556tmp surefire_04303044982407970188tmp&quot;[m\n[[1;31mERROR[m] [1;31mError occurred in starting fork, check output in log[m\n[[1;31mERROR[m] [1;31mProcess Exit Code: 1[m\n[[1;31mERROR[m] [1;31morg.apache.maven.surefire.booter.SurefireBooterForkException: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?[m\n[[1;31mERROR[m] [1;31mCommand was cmd.exe /X /C &quot;D:\\eclipse-jee-2022-09-R-win32-x86_64\\eclipse\\plugins\\org.eclipse.justj.openjdk.hotspot.jre.full.win32.x86_64_17.0.4.v20220903-1038\\jre\\bin\\java -XX:MaxPermSize=256m -jar C:\\Users\\SESA70~1\\AppData\\Local\\Temp\\surefire14215564203121122107\\surefirebooter2253485858284748685.jar C:\\Users\\SESA701739\\AppData\\Local\\Temp\\surefire14215564203121122107 2023-02-02T11-50-54_343-jvmRun1 surefire12140783555302454556tmp surefire_04303044982407970188tmp&quot;[m\n[[1;31mERROR[m] [1;31mError occurred in starting fork, check output in log[m\n[[1;31mERROR[m] [1;31mProcess Exit Code: 1[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:671)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:533)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:278)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:244)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1194)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:1022)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:868)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2(MojoExecutor.java:370)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute(MojoExecutor.java:351)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:215)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:171)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:163)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:294)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.cli.MavenCli.execute(MavenCli.java:960)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:293)[m\n[[1;31mERROR[m] [1;31m  at org.apache.maven.cli.MavenCli.main(MavenCli.java:196)[m\n[[1;31mERROR[m] [1;31m  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)[m\n[[1;31mERROR[m] [1;31m  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)[m\n[[1;31mERROR[m] [1;31m  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)[m\n[[1;31mERROR[m] [1;31m  at java.base/java.lang.reflect.Method.invoke(Method.java:568)[m\n[[1;31mERROR[m] [1;31m  at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)[m\n[[1;31mERROR[m] [1;31m  at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)[m\n[[1;31mERROR[m] [1;31m  at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)[m\n[[1;31mERROR[m] [1;31m  at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)[m\n[[1;31mERROR[m] [1;31m[m\n[[1;31mERROR[m] -&gt; [1m[Help 1][m\n[[1;31mERROR[m] \n[[1;31mERROR[m] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\n[[1;31mERROR[m] Re-run Maven using the [1m-X[m switch to enable full debug logging.\n[[1;31mERROR[m] \n[[1\n\n&gt; Blockquote\n\n;31mERROR[m] For more information about the errors and possible solutions, please read the following articles:\n[[1;31mERROR[m] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException**\n</code></pre>\n<p>And for this I'm unable to get the idea. If I just comment the testfailureIgnore true so that would not be a solution.</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1675260768,"post_id":75310956,"comment_id":132890192,"body_markdown":"Remove `javax.persistence-api` dependency, fix the wrong imports to `jakarta.persistence` instead of `javax.persistence`.","body":"Remove <code>javax.persistence-api</code> dependency, fix the wrong imports to <code>jakarta.persistence</code> instead of <code>javax.persistence</code>."}],"answers":[{"tags":[],"owner":{"account_id":22477607,"reputation":3,"user_id":16677119,"display_name":"Simran Srivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675319121,"creation_date":1675319121,"answer_id":75319375,"question_id":75310956,"body_markdown":"I think the problem is with your repository bean. Can you quickly check if you have placed @Repository on your repository.","title":"Error creating bean with name &#39;abcController&#39;: Unsatisfied dependency expressed through field &#39;Employeeepository&#39;","body":"<p>I think the problem is with your repository bean. Can you quickly check if you have placed @Repository on your repository.</p>\n"}],"owner":{"account_id":5167532,"reputation":783,"user_id":4137071,"accept_rate":57,"display_name":"SOP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675319121,"creation_date":1675258434,"question_id":75310956,"body_markdown":"I am unable to solve this error\r\n\r\n&gt; Unsatisfied dependency&quot; expressed through field &#39;employeeRepository&#39;\r\n\r\nI added `@EntityScan(&quot;base package&quot;)` and also tried many solution available on the internet but still not able to resolve it.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;in.test&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;test-site&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;test-site&lt;/name&gt;\r\n    \t&lt;description&gt;test site&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n**MainApplication class**\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan({ &quot;in.test&quot; })\r\n    public class TestApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(TestApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n**Controller**\r\n     \r\n    @CrossOrigin(origins = &quot;http://localhost:4200&quot;)\r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1/&quot;)\r\n    public class TestController {\r\n    \r\n    \t@Autowired\r\n    \tprivate EmployeeRepository employeeRepository;\r\n    \t\r\n    \t// get all employees\r\n    \t@GetMapping(&quot;/employees&quot;)\r\n    \tpublic List&lt;Employee&gt; getAllEmployees(){\r\n    \t\treturn employeeRepository.findAll();\r\n    \t}\t\t\r\n    \t\r\n    \t// create employee rest api\r\n    \t@PostMapping(&quot;/employees&quot;)\r\n    \tpublic Employee createEmployee(@RequestBody Employee employee) {\r\n    \t\treturn employeeRepository.save(employee);\r\n    \t}\r\n    \t\r\n    \t// get employee by id rest api\r\n    \t@GetMapping(&quot;/employees/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;Employee&gt; getEmployeeById(@PathVariable Long id) {\r\n    \t\tEmployee employee = employeeRepository.findById(id)\r\n    \t\t\t\t.orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Employee not exist with id :&quot; + id));\r\n    \t\treturn ResponseEntity.ok(employee);\r\n    \t}\r\n    \t\r\n    \t// update employee rest api\r\n    \t\r\n    \t@PutMapping(&quot;/employees/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;Employee&gt; updateEmployee(@PathVariable Long id, @RequestBody Employee employeeDetails){\r\n    \t\tEmployee employee = employeeRepository.findById(id)\r\n    \t\t\t\t.orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Employee not exist with id :&quot; + id));\r\n    \t\t\r\n    \t\temployee.setFirstName(employeeDetails.getFirstName());\r\n    \t\temployee.setLastName(employeeDetails.getLastName());\r\n    \t\temployee.setEmailId(employeeDetails.getEmailId());\r\n    \t\t\r\n    \t\tEmployee updatedEmployee = employeeRepository.save(employee);\r\n    \t\treturn ResponseEntity.ok(updatedEmployee);\r\n    \t}\r\n    \t\r\n    \t// delete employee rest api\r\n    \t@DeleteMapping(&quot;/employees/{id}&quot;)\r\n    \tpublic ResponseEntity&lt;Map&lt;String, Boolean&gt;&gt; deleteEmployee(@PathVariable Long id){\r\n    \t\tEmployee employee = employeeRepository.findById(id)\r\n    \t\t\t\t.orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Employee not exist with id :&quot; + id));\r\n    \t\t\r\n    \t\temployeeRepository.delete(employee);\r\n    \t\tMap&lt;String, Boolean&gt; response = new HashMap&lt;&gt;();\r\n    \t\tresponse.put(&quot;deleted&quot;, Boolean.TRUE);\r\n    \t\treturn ResponseEntity.ok(response);\r\n    \t}\r\n    }\r\n\r\n**Entity class**\r\n\r\n      \r\n    @Entity\r\n    @Table(name = &quot;employees&quot;)\r\n    public class Employee {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate long id;\r\n    \t\r\n    \t@Column(name = &quot;first_name&quot;)\r\n    \tprivate String firstName;\r\n    \r\n    \t@Column(name = &quot;last_name&quot;)\r\n    \tprivate String lastName;\r\n    \t\r\n    \t@Column(name = &quot;email_id&quot;)\r\n    \tprivate String emailId;\r\n    \t\r\n    \tpublic Employee() {\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic Employee(String firstName, String lastName, String emailId) {\r\n    \t\tsuper();\r\n    \t\tthis.firstName = firstName;\r\n    \t\tthis.lastName = lastName;\r\n    \t\tthis.emailId = emailId;\r\n    \t}\r\n    \tpublic long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getFirstName() {\r\n    \t\treturn firstName;\r\n    \t}\r\n    \tpublic void setFirstName(String firstName) {\r\n    \t\tthis.firstName = firstName;\r\n    \t}\r\n    \tpublic String getLastName() {\r\n    \t\treturn lastName;\r\n    \t}\r\n    \tpublic void setLastName(String lastName) {\r\n    \t\tthis.lastName = lastName;\r\n    \t}\r\n    \tpublic String getEmailId() {\r\n    \t\treturn emailId;\r\n    \t}\r\n    \tpublic void setEmailId(String emailId) {\r\n    \t\tthis.emailId = emailId;\r\n    \t}\r\n    }\r\n\r\n**ERROR LOG**\r\n   \t\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2a075e70 testClass = in.test.site.MentorsSiteApplicationTests, locations = [], classes = [in.test.site.SiteApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@9573584, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6853425f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@41294f8, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3af0a9da, org.springframework.boot.test.context.SpringBootTestAnnotation@c4346d6c], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142) ~[spring-test-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127) ~[spring-test-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191) ~[spring-test-6.0.4.jar:6.0.4]\r\n    \r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;employeeController&#39;: Unsatisfied dependency expressed through field &#39;employeeRepository&#39;: Error creating bean with name &#39;employeeRepository&#39; defined in in.test.repository.EmployeeRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class in.test.model.Employee\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) \r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;employeeRepository&#39; defined in in.test.repository.EmployeeRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class in.test.model.Employee\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) \r\n    Caused by: java.lang.IllegalArgumentException: Not a managed type: class in.test.model.Employee\r\n    \tat org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:181) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n    \tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:496) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n    \tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:99) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n    \tat org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:77) ~[spring-data-jpa-3.0.1.jar:3.0.1]\r\n    \tat org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) \r\n\r\n","title":"Error creating bean with name &#39;abcController&#39;: Unsatisfied dependency expressed through field &#39;Employeeepository&#39;","body":"<p>I am unable to solve this error</p>\n<blockquote>\n<p>Unsatisfied dependency&quot; expressed through field 'employeeRepository'</p>\n</blockquote>\n<p>I added <code>@EntityScan(&quot;base package&quot;)</code> and also tried many solution available on the internet but still not able to resolve it.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;in.test&lt;/groupId&gt;\n    &lt;artifactId&gt;test-site&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;test-site&lt;/name&gt;\n    &lt;description&gt;test site&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>MainApplication class</strong></p>\n<pre><code>@SpringBootApplication\n@ComponentScan({ &quot;in.test&quot; })\npublic class TestApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestApplication.class, args);\n    }\n\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\n@RestController\n@RequestMapping(&quot;/api/v1/&quot;)\npublic class TestController {\n\n    @Autowired\n    private EmployeeRepository employeeRepository;\n    \n    // get all employees\n    @GetMapping(&quot;/employees&quot;)\n    public List&lt;Employee&gt; getAllEmployees(){\n        return employeeRepository.findAll();\n    }       \n    \n    // create employee rest api\n    @PostMapping(&quot;/employees&quot;)\n    public Employee createEmployee(@RequestBody Employee employee) {\n        return employeeRepository.save(employee);\n    }\n    \n    // get employee by id rest api\n    @GetMapping(&quot;/employees/{id}&quot;)\n    public ResponseEntity&lt;Employee&gt; getEmployeeById(@PathVariable Long id) {\n        Employee employee = employeeRepository.findById(id)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Employee not exist with id :&quot; + id));\n        return ResponseEntity.ok(employee);\n    }\n    \n    // update employee rest api\n    \n    @PutMapping(&quot;/employees/{id}&quot;)\n    public ResponseEntity&lt;Employee&gt; updateEmployee(@PathVariable Long id, @RequestBody Employee employeeDetails){\n        Employee employee = employeeRepository.findById(id)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Employee not exist with id :&quot; + id));\n        \n        employee.setFirstName(employeeDetails.getFirstName());\n        employee.setLastName(employeeDetails.getLastName());\n        employee.setEmailId(employeeDetails.getEmailId());\n        \n        Employee updatedEmployee = employeeRepository.save(employee);\n        return ResponseEntity.ok(updatedEmployee);\n    }\n    \n    // delete employee rest api\n    @DeleteMapping(&quot;/employees/{id}&quot;)\n    public ResponseEntity&lt;Map&lt;String, Boolean&gt;&gt; deleteEmployee(@PathVariable Long id){\n        Employee employee = employeeRepository.findById(id)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Employee not exist with id :&quot; + id));\n        \n        employeeRepository.delete(employee);\n        Map&lt;String, Boolean&gt; response = new HashMap&lt;&gt;();\n        response.put(&quot;deleted&quot;, Boolean.TRUE);\n        return ResponseEntity.ok(response);\n    }\n}\n</code></pre>\n<p><strong>Entity class</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;employees&quot;)\npublic class Employee {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    \n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n    \n    @Column(name = &quot;email_id&quot;)\n    private String emailId;\n    \n    public Employee() {\n        \n    }\n    \n    public Employee(String firstName, String lastName, String emailId) {\n        super();\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.emailId = emailId;\n    }\n    public long getId() {\n        return id;\n    }\n    public void setId(long id) {\n        this.id = id;\n    }\n    public String getFirstName() {\n        return firstName;\n    }\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n    public String getLastName() {\n        return lastName;\n    }\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n    public String getEmailId() {\n        return emailId;\n    }\n    public void setEmailId(String emailId) {\n        this.emailId = emailId;\n    }\n}\n</code></pre>\n<p><strong>ERROR LOG</strong></p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2a075e70 testClass = in.test.site.MentorsSiteApplicationTests, locations = [], classes = [in.test.site.SiteApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@9573584, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6853425f, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@41294f8, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3af0a9da, org.springframework.boot.test.context.SpringBootTestAnnotation@c4346d6c], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142) ~[spring-test-6.0.4.jar:6.0.4]\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127) ~[spring-test-6.0.4.jar:6.0.4]\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191) ~[spring-test-6.0.4.jar:6.0.4]\n\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'employeeController': Unsatisfied dependency expressed through field 'employeeRepository': Error creating bean with name 'employeeRepository' defined in in.test.repository.EmployeeRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class in.test.model.Employee\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:712) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:692) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) \nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'employeeRepository' defined in in.test.repository.EmployeeRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class in.test.model.Employee\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) \nCaused by: java.lang.IllegalArgumentException: Not a managed type: class in.test.model.Employee\n    at org.hibernate.metamodel.model.domain.internal.JpaMetamodelImpl.managedType(JpaMetamodelImpl.java:181) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:496) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.managedType(MappingMetamodelImpl.java:99) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.springframework.data.jpa.repository.support.JpaMetamodelEntityInformation.&lt;init&gt;(JpaMetamodelEntityInformation.java:77) ~[spring-data-jpa-3.0.1.jar:3.0.1]\n    at org.springframework.data.jpa.repository.support.JpaEntityInformationSupport.getEntityInformation(JpaEntityInformationSupport.java:69) \n</code></pre>\n"},{"tags":["java","spring","spring-annotations"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1646777614,"post_id":71402068,"comment_id":126207301,"body_markdown":"The table annotation here is giving information about the table, specifically its name.","body":"The table annotation here is giving information about the table, specifically its name."},{"owner":{"account_id":24095873,"reputation":426,"user_id":18068398,"display_name":"rentox98"},"score":1,"creation_date":1646777713,"post_id":71402068,"comment_id":126207328,"body_markdown":"@Entity annotation defines that a class can be mapped to a table;\n@Table annotation allows you to specify the details of the table that will be used to persist the entity in the database.\nIn this case with `@Table(name = &quot;widget&quot;)`  you override the default name of the table (the class name)","body":"@Entity annotation defines that a class can be mapped to a table; @Table annotation allows you to specify the details of the table that will be used to persist the entity in the database. In this case with <code>@Table(name = &quot;widget&quot;)</code>  you override the default name of the table (the class name)"}],"answers":[{"comments":[{"owner":{"account_id":477717,"reputation":1768,"user_id":889376,"accept_rate":35,"display_name":"Mustafa"},"score":1,"creation_date":1646779568,"post_id":71402159,"comment_id":126207727,"body_markdown":"nice . I thought so too @bjorke07","body":"nice . I thought so too @bjorke07"}],"tags":[],"owner":{"account_id":19689376,"reputation":109,"user_id":14414722,"display_name":"bjorke07"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1646778078,"creation_date":1646778078,"answer_id":71402159,"question_id":71402068,"body_markdown":"You need @Entity but @Table is an optional annotation that you can override default table name, schema name etc. ","title":"Difference between @Entity and @Table in Spring boot . Do we need both?","body":"<p>You need @Entity but @Table is an optional annotation that you can override default table name, schema name etc.</p>\n"},{"comments":[{"owner":{"account_id":477717,"reputation":1768,"user_id":889376,"accept_rate":35,"display_name":"Mustafa"},"score":0,"creation_date":1646779713,"post_id":71402271,"comment_id":126207769,"body_markdown":"I see. I like when you use the words &quot;In both of the worlds&quot; . It makes sence. takes abit of time to understand when you come from javascript and firebase world haha. @zawarudo","body":"I see. I like when you use the words &quot;In both of the worlds&quot; . It makes sence. takes abit of time to understand when you come from javascript and firebase world haha. @zawarudo"},{"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"score":0,"creation_date":1646779858,"post_id":71402271,"comment_id":126207802,"body_markdown":"It seems like a lot of work, but once you set your entity properly, you can enjoy the fruits of creating an object and do .save() or .persist() and the object is in your database.","body":"It seems like a lot of work, but once you set your entity properly, you can enjoy the fruits of creating an object and do .save() or .persist() and the object is in your database."}],"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646779033,"creation_date":1646779033,"answer_id":71402271,"question_id":71402068,"body_markdown":"If you are planning some class to be scanned and looked as an entity by Hibernate it must has @Entity annotation.\r\nNow since Hibernate is Object-Relational Mapping tool, which means that it is a bridge between objects and the database when you put\r\n\r\n    @Entity &lt;-- this is an entity class that you will work with\r\n    @Table(name = &quot;widget&quot;) &lt;-- and this is a corresponding table that matches that entity in the database\r\n\r\nSimilar thing goes for \r\n\r\n    @Column(name=&quot;clientName&quot;)&lt;-- this is a value from your database field that will correspond with your entity field\r\n    private String clientName &lt;-- this is your entity field\r\n\r\nWhen using hibernate you need to explain in the class both of the worlds, the SQL world and the Java Hibernate world.","title":"Difference between @Entity and @Table in Spring boot . Do we need both?","body":"<p>If you are planning some class to be scanned and looked as an entity by Hibernate it must has @Entity annotation.\nNow since Hibernate is Object-Relational Mapping tool, which means that it is a bridge between objects and the database when you put</p>\n<pre><code>@Entity &lt;-- this is an entity class that you will work with\n@Table(name = &quot;widget&quot;) &lt;-- and this is a corresponding table that matches that entity in the database\n</code></pre>\n<p>Similar thing goes for</p>\n<pre><code>@Column(name=&quot;clientName&quot;)&lt;-- this is a value from your database field that will correspond with your entity field\nprivate String clientName &lt;-- this is your entity field\n</code></pre>\n<p>When using hibernate you need to explain in the class both of the worlds, the SQL world and the Java Hibernate world.</p>\n"}],"owner":{"account_id":477717,"reputation":1768,"user_id":889376,"accept_rate":35,"display_name":"Mustafa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6547,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":2,"score":7,"last_activity_date":1675318829,"creation_date":1646777413,"question_id":71402068,"body_markdown":"Do we need both annonation for a model class? What is the difference between @Entity and @Table\r\n\r\n    @Entity\r\n    @Table(name = &quot;widget&quot;) // do we need this??\r\n    public class WidgetEntity {\r\n\r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      private Long id;\r\n      private String clientName;\r\n    }","title":"Difference between @Entity and @Table in Spring boot . Do we need both?","body":"<p>Do we need both annonation for a model class? What is the difference between @Entity and @Table</p>\n<pre><code>@Entity\n@Table(name = &quot;widget&quot;) // do we need this??\npublic class WidgetEntity {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long id;\n  private String clientName;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","database-migration","flyway","newrelic"],"comments":[{"owner":{"account_id":1189982,"reputation":671,"user_id":2515377,"accept_rate":78,"display_name":"Kenpachi"},"score":0,"creation_date":1675322203,"post_id":75319310,"comment_id":132904747,"body_markdown":"I haven&#39;t used Flyway before, but Flyway&#39;s Java Callbacks might be useful in solving your problems - https://documentation.red-gate.com/fd/api-hooks-184127635.html#callsbacks","body":"I haven&#39;t used Flyway before, but Flyway&#39;s Java Callbacks might be useful in solving your problems - <a href=\"https://documentation.red-gate.com/fd/api-hooks-184127635.html#callsbacks\" rel=\"nofollow noreferrer\">documentation.red-gate.com/fd/&hellip;</a>"}],"owner":{"account_id":15874551,"reputation":101,"user_id":11454171,"display_name":"Gayathry S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675318498,"creation_date":1675318498,"question_id":75319310,"body_markdown":"I was wondering if there was a way to get the transaction details of a flyway migration in newrelic? I have a newrelic application integrated to my spring boot application(gradle). However, I am unable to find any trace details of the migrations I am running. \r\nIf this is not possible, is there a workaround or configuration in flyway that lets us know the time taken for a migration and such details? My flyway migrations are all SQL queries.","title":"Integrating flyway migrations with newrelic","body":"<p>I was wondering if there was a way to get the transaction details of a flyway migration in newrelic? I have a newrelic application integrated to my spring boot application(gradle). However, I am unable to find any trace details of the migrations I am running.\nIf this is not possible, is there a workaround or configuration in flyway that lets us know the time taken for a migration and such details? My flyway migrations are all SQL queries.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":1,"creation_date":1675316746,"post_id":75318964,"comment_id":132903728,"body_markdown":"the way of getting video from raw and converting to file is wrong and that&#39;s why it is showing ```No such file or directory```\n\nfirst you need to copy video from raw folder to device storage programmatically and then use path of file where you pasted in device\n\nyou can copy file like this\n\nhttps://stackoverflow.com/a/8664527/5696047","body":"the way of getting video from raw and converting to file is wrong and that&#39;s why it is showing <code>No such file or directory</code>  first you need to copy video from raw folder to device storage programmatically and then use path of file where you pasted in device  you can copy file like this  <a href=\"https://stackoverflow.com/a/8664527/5696047\">stackoverflow.com/a/8664527/5696047</a>"}],"answers":[{"tags":[],"owner":{"account_id":18301803,"reputation":159,"user_id":13326424,"display_name":"Prasanth John"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675318103,"creation_date":1675317617,"answer_id":75319222,"question_id":75318964,"body_markdown":"You will acces app data specific folder through &quot; **getExternalFilesDir()** &quot;\r\nand your application data available in &quot; **sdcard =&gt;Android =&gt; package.name =&gt; file.mp4** &quot;\r\n\r\n**APIClient.java**\r\n\r\n    public class APIClient {\r\n   \r\n    private static Retrofit retrofit = null;\r\n\r\n    public static Retrofit getClient(){\r\n        HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\r\n        interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\r\n        OkHttpClient client = new OkHttpClient.Builder()\r\n                .hostnameVerifier(new HostnameVerifier() {\r\n                    @Override\r\n                    public boolean verify(String s, SSLSession sslSession) {\r\n                        return true;\r\n                    }\r\n                })\r\n                .addInterceptor(interceptor)\r\n                .build();\r\n\r\n        retrofit = new Retrofit.Builder()\r\n                .baseUrl(&quot;http://10.0.2.2:5000&quot;)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .client(client)\r\n                .build();\r\n\r\n        return retrofit;\r\n    }\r\n}\r\n\r\n**APIInterface.java**\r\npublic interface APIInterface {\r\n\r\n    @Multipart\r\n    @POST(&quot;/api/UploadVideo&quot;)\r\n    Call&lt;VideoUpload&gt; chequeUpload(\r\n                                    @Part MultipartBody.Part video);\r\n\r\n}\r\n\r\n**Model Class**\r\n\r\n    public class VideoUpload {\r\n\r\n     // Request\r\n    @SerializedName(&quot;video&quot;)\r\n    public String video;\r\n\r\n    // Response\r\n      @SerializedName(&quot;Message&quot;)\r\n      public String Message;\r\n}\r\n\r\n**Upload video**\r\n\r\nvideo get from &quot; Android &quot; Specific folder **sdcard =&gt;Android =&gt; package.name =&gt; file.mp4**\r\n\r\n code.\r\n\r\n   \r\n\r\n       String root = getExternalFilesDir(&quot;/&quot;).getPath() + &quot;/&quot; + &quot;Videos/&quot;;\r\n    \r\n       File videoFile = new File(root, &quot;My_video&quot; + &quot;.mp4&quot;);\r\n    \r\n      RequestBody requestFile = RequestBody.create(MediaType.parse(&quot;multipart/form-data&quot;), videoFile);\r\n    \r\n      MultipartBody.Part videoFileBody = MultipartBody.Part.createFormData(&quot;video&quot;, videoFile.getName(), requestFile);\r\n    \r\n        Call&lt;VideoUpload&gt; call = apiInterface.videoUploadNow(videoFileBody);\r\n\r\n     call.enqueue(new Callback&lt;VideoUpload&gt;() {\r\n            @Override\r\n            public void onResponse(@NonNull Call&lt;VideoUpload&gt; call, @NonNull Response&lt;VideoUpload&gt; response) {\r\n                pDialog.dismiss();\r\n                if (response.isSuccessful()){\r\n                    VideoUpload uploadVideo = response.body();\r\n                 \r\n                 try {\r\n                        JSONObject jsonObjectError = new JSONObject(response.errorBody().string());\r\n                        showMessageInSnackbar(jsonObjectError.getString(&quot;Message&quot;));\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n\r\n                }else{\r\n                    try {\r\n                        JSONObject jsonObjectError = new JSONObject(response.errorBody().string());\r\n                        showMessageInSnackbar(jsonObjectError.getString(&quot;Message&quot;));\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(@NonNull Call&lt;VideoUpload&gt; call, @NonNull Throwable t) {\r\n                if(t instanceof SocketTimeoutException){\r\n                    timeOutDialog.show();\r\n                }\r\n                pDialog.dismiss();\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to upload .mp4 to server in Android Studio","body":"<p>You will acces app data specific folder through &quot; <strong>getExternalFilesDir()</strong> &quot;\nand your application data available in &quot; <strong>sdcard =&gt;Android =&gt; package.name =&gt; file.mp4</strong> &quot;</p>\n<p><strong>APIClient.java</strong></p>\n<pre><code>public class APIClient {\n\nprivate static Retrofit retrofit = null;\n\npublic static Retrofit getClient(){\n    HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\n    interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\n    OkHttpClient client = new OkHttpClient.Builder()\n            .hostnameVerifier(new HostnameVerifier() {\n                @Override\n                public boolean verify(String s, SSLSession sslSession) {\n                    return true;\n                }\n            })\n            .addInterceptor(interceptor)\n            .build();\n\n    retrofit = new Retrofit.Builder()\n            .baseUrl(&quot;http://10.0.2.2:5000&quot;)\n            .addConverterFactory(GsonConverterFactory.create())\n            .client(client)\n            .build();\n\n    return retrofit;\n}\n</code></pre>\n<p>}</p>\n<p><strong>APIInterface.java</strong>\npublic interface APIInterface {</p>\n<pre><code>@Multipart\n@POST(&quot;/api/UploadVideo&quot;)\nCall&lt;VideoUpload&gt; chequeUpload(\n                                @Part MultipartBody.Part video);\n</code></pre>\n<p>}</p>\n<p><strong>Model Class</strong></p>\n<pre><code>public class VideoUpload {\n\n // Request\n@SerializedName(&quot;video&quot;)\npublic String video;\n\n// Response\n  @SerializedName(&quot;Message&quot;)\n  public String Message;\n</code></pre>\n<p>}</p>\n<p><strong>Upload video</strong></p>\n<p>video get from &quot; Android &quot; Specific folder <strong>sdcard =&gt;Android =&gt; package.name =&gt; file.mp4</strong></p>\n<p>code.</p>\n<pre><code>   String root = getExternalFilesDir(&quot;/&quot;).getPath() + &quot;/&quot; + &quot;Videos/&quot;;\n\n   File videoFile = new File(root, &quot;My_video&quot; + &quot;.mp4&quot;);\n\n  RequestBody requestFile = RequestBody.create(MediaType.parse(&quot;multipart/form-data&quot;), videoFile);\n\n  MultipartBody.Part videoFileBody = MultipartBody.Part.createFormData(&quot;video&quot;, videoFile.getName(), requestFile);\n\n    Call&lt;VideoUpload&gt; call = apiInterface.videoUploadNow(videoFileBody);\n\n call.enqueue(new Callback&lt;VideoUpload&gt;() {\n        @Override\n        public void onResponse(@NonNull Call&lt;VideoUpload&gt; call, @NonNull Response&lt;VideoUpload&gt; response) {\n            pDialog.dismiss();\n            if (response.isSuccessful()){\n                VideoUpload uploadVideo = response.body();\n             \n             try {\n                    JSONObject jsonObjectError = new JSONObject(response.errorBody().string());\n                    showMessageInSnackbar(jsonObjectError.getString(&quot;Message&quot;));\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n\n\n            }else{\n                try {\n                    JSONObject jsonObjectError = new JSONObject(response.errorBody().string());\n                    showMessageInSnackbar(jsonObjectError.getString(&quot;Message&quot;));\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n\n        @Override\n        public void onFailure(@NonNull Call&lt;VideoUpload&gt; call, @NonNull Throwable t) {\n            if(t instanceof SocketTimeoutException){\n                timeOutDialog.show();\n            }\n            pDialog.dismiss();\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":25874348,"reputation":1,"user_id":21130201,"display_name":"Spencer Creer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675318103,"creation_date":1675315248,"question_id":75318964,"body_markdown":"How do you upload a video (.mp4) file in the raw folder to a server on a button click in java android studio with minSdk 29.\r\n\r\nAny help with this would be much appreciated.\r\n\r\nThis is what I have tried:\r\n\r\n```\r\nprivate void configureUploadButton() {\r\n        uploadButton = findViewById(R.id.uploadButton);\r\n        uploadButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                // creating a client\r\n                OkHttpClient okHttpClient = new OkHttpClient();\r\n\r\n                int videoResourceId = getResources().getIdentifier(&quot;name_of_video&quot;, &quot;raw&quot;, getPackageName());\r\n                Uri fileUri = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + videoResourceId);\r\n                Log.i(&quot;URI&quot;, &quot;File URI: &quot; + fileUri);\r\n\r\n                File videoFile = new File(fileUri.getPath());\r\n                Log.i(&quot;FILE_TAG&quot;, &quot;File: &quot; + videoFile + &quot; Path: &quot; + videoFile.getPath());\r\n\r\n                RequestBody requestBody = RequestBody.create(MediaType.parse(&quot;video/mp4&quot;), videoFile);\r\n                MultipartBody multipartBody = new MultipartBody.Builder()\r\n                        .setType(MultipartBody.FORM)\r\n                        .addFormDataPart(&quot;video&quot;, videoFile.getName(), requestBody)\r\n                        .build();\r\n\r\n                Request request = new Request.Builder()\r\n                        .url(&quot;http://10.0.2.2:5000/upload_video&quot;)\r\n                        .post(multipartBody)\r\n                        .build();\r\n\r\n                okHttpClient.newCall(request).enqueue(new Callback() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n                        runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                Log.i(&quot;SERVER_DOWN&quot;, &quot;The sever is down: &quot; + e.getMessage());\r\n                                Toast.makeText(Record.this, &quot;server down&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n                    }\r\n                    @Override\r\n                    public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\r\n                        runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                int responseCode = response.code();\r\n                                String responseMessage = response.message();\r\n                                Log.i(&quot;RESPONSE&quot;, &quot;Response code: &quot; + responseCode + &quot; Message: &quot; + responseMessage);\r\n                                if (response.isSuccessful()) {\r\n                                    Toast.makeText(Record.this, &quot;Connected to server successfully.&quot;, Toast.LENGTH_SHORT).show();\r\n                                } else {\r\n                                    Toast.makeText(Record.this, &quot;Not able to connect to server.&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nI don&#39;t seem to be accessing the file correctly using the File class. The IOException that I am getting in the onFailure of the okHttpClient call is:\r\n\r\n```\r\n/2131689473: open failed: ENOENT (No such file or directory)\r\n```\r\n\r\nThese are the permissions that I have in my Androidmanifest.xml\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.hardware.CAMERA&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n```\r\n","title":"How to upload .mp4 to server in Android Studio","body":"<p>How do you upload a video (.mp4) file in the raw folder to a server on a button click in java android studio with minSdk 29.</p>\n<p>Any help with this would be much appreciated.</p>\n<p>This is what I have tried:</p>\n<pre><code>private void configureUploadButton() {\n        uploadButton = findViewById(R.id.uploadButton);\n        uploadButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                // creating a client\n                OkHttpClient okHttpClient = new OkHttpClient();\n\n                int videoResourceId = getResources().getIdentifier(&quot;name_of_video&quot;, &quot;raw&quot;, getPackageName());\n                Uri fileUri = Uri.parse(&quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + videoResourceId);\n                Log.i(&quot;URI&quot;, &quot;File URI: &quot; + fileUri);\n\n                File videoFile = new File(fileUri.getPath());\n                Log.i(&quot;FILE_TAG&quot;, &quot;File: &quot; + videoFile + &quot; Path: &quot; + videoFile.getPath());\n\n                RequestBody requestBody = RequestBody.create(MediaType.parse(&quot;video/mp4&quot;), videoFile);\n                MultipartBody multipartBody = new MultipartBody.Builder()\n                        .setType(MultipartBody.FORM)\n                        .addFormDataPart(&quot;video&quot;, videoFile.getName(), requestBody)\n                        .build();\n\n                Request request = new Request.Builder()\n                        .url(&quot;http://10.0.2.2:5000/upload_video&quot;)\n                        .post(multipartBody)\n                        .build();\n\n                okHttpClient.newCall(request).enqueue(new Callback() {\n                    @Override\n                    public void onFailure(@NonNull Call call, @NonNull IOException e) {\n                        runOnUiThread(new Runnable() {\n                            @Override\n                            public void run() {\n                                Log.i(&quot;SERVER_DOWN&quot;, &quot;The sever is down: &quot; + e.getMessage());\n                                Toast.makeText(Record.this, &quot;server down&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        });\n                    }\n                    @Override\n                    public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n                        runOnUiThread(new Runnable() {\n                            @Override\n                            public void run() {\n                                int responseCode = response.code();\n                                String responseMessage = response.message();\n                                Log.i(&quot;RESPONSE&quot;, &quot;Response code: &quot; + responseCode + &quot; Message: &quot; + responseMessage);\n                                if (response.isSuccessful()) {\n                                    Toast.makeText(Record.this, &quot;Connected to server successfully.&quot;, Toast.LENGTH_SHORT).show();\n                                } else {\n                                    Toast.makeText(Record.this, &quot;Not able to connect to server.&quot;, Toast.LENGTH_SHORT).show();\n                                }\n                            }\n                        });\n                    }\n                });\n            }\n        });\n    }\n</code></pre>\n<p>I don't seem to be accessing the file correctly using the File class. The IOException that I am getting in the onFailure of the okHttpClient call is:</p>\n<pre><code>/2131689473: open failed: ENOENT (No such file or directory)\n</code></pre>\n<p>These are the permissions that I have in my Androidmanifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.hardware.CAMERA&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18448797,"reputation":1,"user_id":13439429,"display_name":"Vidya"},"score":0,"creation_date":1676271611,"post_id":75319218,"comment_id":133096404,"body_markdown":"Can anyone reply on above question please?","body":"Can anyone reply on above question please?"}],"owner":{"account_id":18448797,"reputation":1,"user_id":13439429,"display_name":"Vidya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675317565,"creation_date":1675317565,"question_id":75319218,"body_markdown":"what is an alternative to table.setBorder(Rectangle.BOX) in itext 7.2.2 I needs to migrate whole itext5.5 to itext7.2 due to vulnerability issues also I want to know about Rectangle.Box argument to a method as int Box formal argument how to replace it.\r\n\r\nI have tried to pass as Border.Solid but its not working.Please suggest an alternative to replace this Rectangle.BOX in itext7.2.2 version.","title":"what is an alternative to table.setBorder(Rectangle.BOX) in itext 7.2.2","body":"<p>what is an alternative to table.setBorder(Rectangle.BOX) in itext 7.2.2 I needs to migrate whole itext5.5 to itext7.2 due to vulnerability issues also I want to know about Rectangle.Box argument to a method as int Box formal argument how to replace it.</p>\n<p>I have tried to pass as Border.Solid but its not working.Please suggest an alternative to replace this Rectangle.BOX in itext7.2.2 version.</p>\n"},{"tags":["java","eclipse","java-7","okhttp","java-time"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1612545842,"post_id":66067782,"comment_id":116809463,"body_markdown":"The *java.time* API is only available in JAVA8+","body":"The <i>java.time</i> API is only available in JAVA8+"},{"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"score":0,"creation_date":1612545934,"post_id":66067782,"comment_id":116809503,"body_markdown":"@Jens And indeed I don&#39;t use that package. It&#39;s only implicitly referenced by OkHttpClient, so Eclipse shows an error. Is there a way to prevent that error?","body":"@Jens And indeed I don&#39;t use that package. It&#39;s only implicitly referenced by OkHttpClient, so Eclipse shows an error. Is there a way to prevent that error?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1612546040,"post_id":66067782,"comment_id":116809557,"body_markdown":"Use an older version of the library which reference the *java.time* API or the better solution is to use an actual version of java. Java7 is outdated since many years","body":"Use an older version of the library which reference the <i>java.time</i> API or the better solution is to use an actual version of java. Java7 is outdated since many years"},{"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"score":0,"creation_date":1612546347,"post_id":66067782,"comment_id":116809676,"body_markdown":"@Jens 1. It&#39;s an Eclipse problem, not of the library, because when I compile my project the compiler does not throw any error, even if the library implicitly references `java.time` package. 2. I can&#39;t upgrade to newer Java version.","body":"@Jens 1. It&#39;s an Eclipse problem, not of the library, because when I compile my project the compiler does not throw any error, even if the library implicitly references <code>java.time</code> package. 2. I can&#39;t upgrade to newer Java version."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1612547139,"post_id":66067782,"comment_id":116809980,"body_markdown":"Look at the Build Path in the Project Properties and check that it really is using the version of the libs which don&#39;t use java.time. Eclipse is just reporting problems caused by the build path libraries.","body":"Look at the Build Path in the Project Properties and check that it really is using the version of the libs which don&#39;t use java.time. Eclipse is just reporting problems caused by the build path libraries."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1612547659,"post_id":66067782,"comment_id":116810185,"body_markdown":"If you&#39;re stuck with Java 7 (for now), use the [**ThreeTen-Backport**](https://www.threeten.org/threetenbp/).","body":"If you&#39;re stuck with Java 7 (for now), use the <a href=\"https://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><b>ThreeTen-Backport</b></a>."},{"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"score":0,"creation_date":1612549549,"post_id":66067782,"comment_id":116810844,"body_markdown":"OkHttp has these in the API, but assumes it&#39;s safe if you don&#39;t call them. If it&#39;s working fine outside eclipse, then you should raise a bug with Eclipse.","body":"OkHttp has these in the API, but assumes it&#39;s safe if you don&#39;t call them. If it&#39;s working fine outside eclipse, then you should raise a bug with Eclipse."}],"answers":[{"comments":[{"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"score":0,"creation_date":1612805336,"post_id":66068685,"comment_id":116875841,"body_markdown":"Thank you for your answer. I have checked the compiler compliace settings as you suggested, but they are fine (code is compiled for Java 1.7). I have also tried to import the ThreeTen-Backport&#39;s JAR in my project, but the error is still present. So I think I should switch to another HTTP client which does not have these problems for Java 7...","body":"Thank you for your answer. I have checked the compiler compliace settings as you suggested, but they are fine (code is compiled for Java 1.7). I have also tried to import the ThreeTen-Backport&#39;s JAR in my project, but the error is still present. So I think I should switch to another HTTP client which does not have these problems for Java 7..."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612550077,"creation_date":1612549776,"answer_id":66068685,"question_id":66067782,"body_markdown":"The *java.time* classes are built into to Java 8 and later. You are deploying your app to Java 7. That version of Java lacks the `java.time.Duration` class invoked by your code calling a library.\r\n\r\nYou claim that library supports Java 7. If that is true, the library must have a switch to avoid using classes not available in Java 7.\r\n\r\nYou have improperly configured your IDE to allow programming in a later version of than the version on which you deploy. That is a problem you should fix. If deploying on Java 7, then compile for Java 7. See Question, [*how do I get eclipse to use a different compiler version for Java?*](https://stackoverflow.com/q/2540548/642706).\r\n\r\nOf course, the best solution is to migrate to a modern version of Java. [Java 7 reached end-of-life in 2015-04](https://www.java.com/en/download/help/java_7.html). I highly recommend moving to a long-term support (LTS) version. Currently that would be Java 8 and Java 11.\r\n\r\nIf it were your own code using the *java.time* classes, I would suggest adding the *ThreeTen-Backport* library to your project. That library provides most of the *java.time* functionality with nearly identical API for use with Java 6 and Java 7. But I am guessing that would not satisfy your library in question, though you might want to verify.","title":"The type java.time.Duration cannot be resolved when using OkHttpClient v3.12.x on Java 7","body":"<p>The <em>java.time</em> classes are built into to Java 8 and later. You are deploying your app to Java 7. That version of Java lacks the <code>java.time.Duration</code> class invoked by your code calling a library.</p>\n<p>You claim that library supports Java 7. If that is true, the library must have a switch to avoid using classes not available in Java 7.</p>\n<p>You have improperly configured your IDE to allow programming in a later version of than the version on which you deploy. That is a problem you should fix. If deploying on Java 7, then compile for Java 7. See Question, <a href=\"https://stackoverflow.com/q/2540548/642706\"><em>how do I get eclipse to use a different compiler version for Java?</em></a>.</p>\n<p>Of course, the best solution is to migrate to a modern version of Java. <a href=\"https://www.java.com/en/download/help/java_7.html\" rel=\"nofollow noreferrer\">Java 7 reached end-of-life in 2015-04</a>. I highly recommend moving to a long-term support (LTS) version. Currently that would be Java 8 and Java 11.</p>\n<p>If it were your own code using the <em>java.time</em> classes, I would suggest adding the <em>ThreeTen-Backport</em> library to your project. That library provides most of the <em>java.time</em> functionality with nearly identical API for use with Java 6 and Java 7. But I am guessing that would not satisfy your library in question, though you might want to verify.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1675602207,"post_id":75319185,"comment_id":132960548,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75319185/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27682091,"reputation":1,"user_id":21130623,"display_name":"Dipak Lokhande"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675317331,"creation_date":1675317331,"answer_id":75319185,"question_id":66067782,"body_markdown":"Same issue I was facing, Changing the version of selenium in pom.xml worked for me. Changed version from 4.1.0 to 3.141.59\r\n","title":"The type java.time.Duration cannot be resolved when using OkHttpClient v3.12.x on Java 7","body":"<p>Same issue I was facing, Changing the version of selenium in pom.xml worked for me. Changed version from 4.1.0 to 3.141.59</p>\n"}],"owner":{"account_id":13672099,"reputation":601,"user_id":9864539,"display_name":"Ricky Sixx"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3524,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1675317331,"creation_date":1612545767,"question_id":66067782,"body_markdown":"I&#39;m developing for a project which is compiled for Java 7.\r\n\r\nIn this project I use OkHttpClient v3.12.13, which is compatible for Java 7 (as stated [here][1]). However these lines produces an error in the Eclipse editor:\r\n``` lang-java\r\nprivate static final OkHttpClient GLOBAL_OK_HTTP_CLIENT = new OkHttpClient.Builder()\r\n\t.readTimeout(10, TimeUnit.SECONDS)\r\n\t.build();\r\n```\r\n\r\nThe error is this:\r\n``` lang-none\r\nThe type java.time.Duration cannot be resolved. It is indirectly referenced from required .class files\r\n```\r\n\r\nThis error is only shown by the editor. Indeed, when I compile my project using CLI (outside Eclipse) I don&#39;t get any error for that implicit reference to the `java.time` package.\r\n\r\nI&#39;m aware that in Java 7 there is no `java.time` package. Indeed, I&#39;m not using it in my code, it&#39;s just implicitly referenced by the OkHttp library (as the error message says).\r\n\r\nIs there a way to fix this error on Eclipse?\r\n\r\nThis is how I configured compiler compliance on Eclipse:\r\n\r\n[![Eclipse compiler compliance][2]][2]\r\n\r\nNote that I can&#39;t upgrade to newer Java versions.\r\n\r\n\r\n  [1]: https://square.github.io/okhttp/#requirements\r\n  [2]: https://i.stack.imgur.com/jsv62.png","title":"The type java.time.Duration cannot be resolved when using OkHttpClient v3.12.x on Java 7","body":"<p>I'm developing for a project which is compiled for Java 7.</p>\n<p>In this project I use OkHttpClient v3.12.13, which is compatible for Java 7 (as stated <a href=\"https://square.github.io/okhttp/#requirements\" rel=\"nofollow noreferrer\">here</a>). However these lines produces an error in the Eclipse editor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final OkHttpClient GLOBAL_OK_HTTP_CLIENT = new OkHttpClient.Builder()\n    .readTimeout(10, TimeUnit.SECONDS)\n    .build();\n</code></pre>\n<p>The error is this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>The type java.time.Duration cannot be resolved. It is indirectly referenced from required .class files\n</code></pre>\n<p>This error is only shown by the editor. Indeed, when I compile my project using CLI (outside Eclipse) I don't get any error for that implicit reference to the <code>java.time</code> package.</p>\n<p>I'm aware that in Java 7 there is no <code>java.time</code> package. Indeed, I'm not using it in my code, it's just implicitly referenced by the OkHttp library (as the error message says).</p>\n<p>Is there a way to fix this error on Eclipse?</p>\n<p>This is how I configured compiler compliance on Eclipse:</p>\n<p><a href=\"https://i.stack.imgur.com/jsv62.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jsv62.png\" alt=\"Eclipse compiler compliance\" /></a></p>\n<p>Note that I can't upgrade to newer Java versions.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2663825,"reputation":21876,"user_id":2302862,"accept_rate":100,"display_name":"Siguza"},"score":0,"creation_date":1675315839,"post_id":75319022,"comment_id":132903574,"body_markdown":"What do you expect `%2n` to do?","body":"What do you expect <code>%2n</code> to do?"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1675315906,"post_id":75319022,"comment_id":132903586,"body_markdown":"Try `%2d`. `%n` is newline. Not iNteger. Also, `System.out.printf` is a thing you might use. `for (int i = 1; i &lt; 11; i++) { System.out.printf(&quot;%2d * %2d = %2d%n&quot;, 5, i, 5 * i); }`","body":"Try <code>%2d</code>. <code>%n</code> is newline. Not iNteger. Also, <code>System.out.printf</code> is a thing you might use. <code>for (int i = 1; i &lt; 11; i++) { System.out.printf(&quot;%2d * %2d = %2d%n&quot;, 5, i, 5 * i); }</code>"},{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1675316040,"post_id":75319022,"comment_id":132903602,"body_markdown":"`&quot;%2n&quot;` -&gt; `&quot;%2d&quot;`","body":"<code>&quot;%2n&quot;</code> -&gt; <code>&quot;%2d&quot;</code>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675316333,"post_id":75319022,"comment_id":132903645,"body_markdown":"*&quot;to right align by 2 space&quot;* - That&#39;s not what the javadocs for `Formatter` says will happen: https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax","body":"<i>&quot;to right align by 2 space&quot;</i> - That&#39;s not what the javadocs for <code>Formatter</code> says will happen: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675316453,"post_id":75319022,"comment_id":132903670,"body_markdown":"@NIKUNJKOTHIYA - We know.  But you don&#39;t mention the javadoc in your answer ... or attempt to *explain* what was wrong with the OP&#39;s version.   And ... did you **really** have to post a link to an image?  See [Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551).  The information could easily be conveyed without a pesky image ... which renders with ridiculously tiny writing in my browser.","body":"@NIKUNJKOTHIYA - We know.  But you don&#39;t mention the javadoc in your answer ... or attempt to <i>explain</i> what was wrong with the OP&#39;s version.   And ... did you <b>really</b> have to post a link to an image?  See <a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>.  The information could easily be conveyed without a pesky image ... which renders with ridiculously tiny writing in my browser."},{"owner":{"account_id":20275485,"reputation":2051,"user_id":14870617,"display_name":"NIKUNJ PATEL"},"score":0,"creation_date":1675316970,"post_id":75319022,"comment_id":132903768,"body_markdown":"@StephenC  Thanks for your comments. I have edited my answer as per your comment.","body":"@StephenC  Thanks for your comments. I have edited my answer as per your comment."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675317150,"post_id":75319022,"comment_id":132903798,"body_markdown":"Ahem ... you *half* addressed *one* of the three things I commented about :-)","body":"Ahem ... you <i>half</i> addressed <i>one</i> of the three things I commented about :-)"}],"answers":[{"tags":[],"owner":{"account_id":20275485,"reputation":2051,"user_id":14870617,"display_name":"NIKUNJ PATEL"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1675316902,"creation_date":1675316073,"answer_id":75319059,"question_id":75319022,"body_markdown":" \r\n\r\n&gt; To format an integer to a width of 2, you should use &quot;d&quot; instead of\r\n&gt; &quot;n&quot;.\r\n\r\nYou need to change system.out print line of code from  \r\n\r\n    System.out.println(&quot; 5 * &quot;+ String.format(&quot;%2n&quot;, i) + &quot; = &quot; + (5*i)); \r\n\r\n**To**\r\n\r\n    System.out.println(&quot; 5 * &quot; + String.format(&quot;%2d&quot;, i) + &quot; = &quot; + (5 * i));\r\n\r\nYour final code will be :\r\n\r\n    public class MultiplicationTable {\r\n        public static void main(String[] args) {\r\n            for (int i = 1; i &lt; 11; i++) {\r\n                System.out.println(&quot; 5 * &quot; + String.format(&quot;%2d&quot;, i) + &quot; = &quot; + (5 * i));\r\n            }\r\n        }\r\n    }\r\n\r\nResult : \r\n\r\n    5 *  1 = 55 *  2 = 10\r\n     5 *  3 = 15\r\n     5 *  4 = 20\r\n     5 *  5 = 255 *  6 = 30\r\n     5 *  7 = 35\r\n    5 *  8 = 40\r\n     5 *  9 = 45\r\n    5 * 10 = 50\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G3Bzu.png","title":"Aligning in java","body":"<blockquote>\n<p>To format an integer to a width of 2, you should use &quot;d&quot; instead of\n&quot;n&quot;.</p>\n</blockquote>\n<p>You need to change system.out print line of code from</p>\n<pre><code>System.out.println(&quot; 5 * &quot;+ String.format(&quot;%2n&quot;, i) + &quot; = &quot; + (5*i)); \n</code></pre>\n<p><strong>To</strong></p>\n<pre><code>System.out.println(&quot; 5 * &quot; + String.format(&quot;%2d&quot;, i) + &quot; = &quot; + (5 * i));\n</code></pre>\n<p>Your final code will be :</p>\n<pre><code>public class MultiplicationTable {\n    public static void main(String[] args) {\n        for (int i = 1; i &lt; 11; i++) {\n            System.out.println(&quot; 5 * &quot; + String.format(&quot;%2d&quot;, i) + &quot; = &quot; + (5 * i));\n        }\n    }\n}\n</code></pre>\n<p>Result :</p>\n<pre><code>5 *  1 = 55 *  2 = 10\n 5 *  3 = 15\n 5 *  4 = 20\n 5 *  5 = 255 *  6 = 30\n 5 *  7 = 35\n5 *  8 = 40\n 5 *  9 = 45\n5 * 10 = 50\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/G3Bzu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G3Bzu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17464762,"reputation":21,"user_id":12661733,"display_name":"54ND339"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675316101,"creation_date":1675316101,"answer_id":75319063,"question_id":75319022,"body_markdown":"In the original code, String.format(&quot;%2n&quot;, i) is not a valid format specifier. The %n format specifier is used to insert a newline character, not to format a number. To format a number with a specific width, you should use %2d instead, where 2 is the width.\r\n\r\n```\r\npublic class MultiplicationTable {\r\n    public static void main(String[] args) {\r\n        for (int i = 1; i &lt; 11; i++) {\r\n            System.out.println(String.format(&quot; 5 * %2d = %2d&quot;, i, 5*i));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIn this code, `String.format(&quot; 5 * %2d = %2d&quot;, i, 5*i)` creates a formatted string where `%2d` is used to format the two integer values `i` and `5*i` with a width of 2 characters.","title":"Aligning in java","body":"<p>In the original code, String.format(&quot;%2n&quot;, i) is not a valid format specifier. The %n format specifier is used to insert a newline character, not to format a number. To format a number with a specific width, you should use %2d instead, where 2 is the width.</p>\n<pre><code>public class MultiplicationTable {\n    public static void main(String[] args) {\n        for (int i = 1; i &lt; 11; i++) {\n            System.out.println(String.format(&quot; 5 * %2d = %2d&quot;, i, 5*i));\n        }\n    }\n}\n</code></pre>\n<p>In this code, <code>String.format(&quot; 5 * %2d = %2d&quot;, i, 5*i)</code> creates a formatted string where <code>%2d</code> is used to format the two integer values <code>i</code> and <code>5*i</code> with a width of 2 characters.</p>\n"}],"owner":{"account_id":27017499,"reputation":3,"user_id":20576062,"display_name":"Programmer up here"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75319059,"answer_count":2,"score":0,"last_activity_date":1675316902,"creation_date":1675315736,"question_id":75319022,"body_markdown":"I am trying to print the multiplication table using java 19.0.2, using the following code:\r\n\r\n```\r\npublic class MultiplicationTable {\r\n    public static void main(String[] args) {\r\n        for (int i = 1; i &lt; 11; i++) {\r\n            System.out.println(&quot; 5 * &quot;+ String.format(&quot;%2n&quot;, i) + &quot; = &quot; + (5*i)); \r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd I get this error output:\r\n\r\n```\r\nException in thread &quot;main&quot; java.util.IllegalFormatWidthException: 2\r\n        at java.base/java.util.Formatter$FormatSpecifier.checkText(Formatter.java:3313)\r\n        at java.base/java.util.Formatter$FormatSpecifier.&lt;init&gt;(Formatter.java:2996)\r\n        at java.base/java.util.Formatter.parse(Formatter.java:2839)\r\n        at java.base/java.util.Formatter.format(Formatter.java:2763)\r\n        at java.base/java.util.Formatter.format(Formatter.java:2717)\r\n        at java.base/java.lang.String.format(String.java:4150)\r\n        at HelloWorld.main(HelloWorld.java:4)\r\n```\r\n\r\nCan someone help?\r\n","title":"Aligning in java","body":"<p>I am trying to print the multiplication table using java 19.0.2, using the following code:</p>\n<pre><code>public class MultiplicationTable {\n    public static void main(String[] args) {\n        for (int i = 1; i &lt; 11; i++) {\n            System.out.println(&quot; 5 * &quot;+ String.format(&quot;%2n&quot;, i) + &quot; = &quot; + (5*i)); \n        }\n    }\n}\n</code></pre>\n<p>And I get this error output:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.IllegalFormatWidthException: 2\n        at java.base/java.util.Formatter$FormatSpecifier.checkText(Formatter.java:3313)\n        at java.base/java.util.Formatter$FormatSpecifier.&lt;init&gt;(Formatter.java:2996)\n        at java.base/java.util.Formatter.parse(Formatter.java:2839)\n        at java.base/java.util.Formatter.format(Formatter.java:2763)\n        at java.base/java.util.Formatter.format(Formatter.java:2717)\n        at java.base/java.lang.String.format(String.java:4150)\n        at HelloWorld.main(HelloWorld.java:4)\n</code></pre>\n<p>Can someone help?</p>\n"},{"tags":["java","spring","firefox","vaadin"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1675263422,"post_id":75312042,"comment_id":132891159,"body_markdown":"A refresh should be noticable since it&#39;s a new request to your webapp. But you won&#39;t be able to distinguish if it&#39;s an actual refresh or some other request with the same url. You cannot detect the other two events unless the browser specifically tells you about it, which it doesn&#39;t.","body":"A refresh should be noticable since it&#39;s a new request to your webapp. But you won&#39;t be able to distinguish if it&#39;s an actual refresh or some other request with the same url. You cannot detect the other two events unless the browser specifically tells you about it, which it doesn&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675316714,"creation_date":1675316714,"answer_id":75319117,"question_id":75312042,"body_markdown":"There cannot be any guarantee about definitely detecting closing a tab or the browser since they might happen while the user is offline. This means that you shouldn&#39;t design your application in a way that relies on that. What you can rely on is that the session will be expired if there is no activity from the user in a given duration.\r\n\r\nYou can detect refreshes by enabling the preserve on refresh feature and overriding the `refresh` method in your `UI` class since it will be run by the framework when a refresh occurs.","title":"How to detect refresh, tab closing, webrowser closing. Vaadin 6, Java 8, Sping, Must work on Firefox","body":"<p>There cannot be any guarantee about definitely detecting closing a tab or the browser since they might happen while the user is offline. This means that you shouldn't design your application in a way that relies on that. What you can rely on is that the session will be expired if there is no activity from the user in a given duration.</p>\n<p>You can detect refreshes by enabling the preserve on refresh feature and overriding the <code>refresh</code> method in your <code>UI</code> class since it will be run by the framework when a refresh occurs.</p>\n"}],"owner":{"account_id":23011123,"reputation":11,"user_id":17133653,"display_name":"Dar Gbu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1675316714,"creation_date":1675263231,"question_id":75312042,"body_markdown":"Hi How to detect refresh, tab closing, webrowser closing in Firefox? Im using Java 8, Spring na Vaadin 6 libraries for now. Javscript solution mentioned many times on this portal dont work in my case.\r\n\r\nRegards","title":"How to detect refresh, tab closing, webrowser closing. Vaadin 6, Java 8, Sping, Must work on Firefox","body":"<p>Hi How to detect refresh, tab closing, webrowser closing in Firefox? Im using Java 8, Spring na Vaadin 6 libraries for now. Javscript solution mentioned many times on this portal dont work in my case.</p>\n<p>Regards</p>\n"},{"tags":["java","json","java-8","qjsonobject"],"comments":[{"owner":{"account_id":1189982,"reputation":671,"user_id":2515377,"accept_rate":78,"display_name":"Kenpachi"},"score":1,"creation_date":1675321723,"post_id":75319070,"comment_id":132904658,"body_markdown":"Please try working this out by yourself, and add more details about what are the things that you tried. StackOverflow isn&#39;t really the platform to ask &quot;Solve this problem for me&quot; kind of questions. Trying to solve it by yourself would be helpful in you understanding the solution as well, and help you to be a better software developer.","body":"Please try working this out by yourself, and add more details about what are the things that you tried. StackOverflow isn&#39;t really the platform to ask &quot;Solve this problem for me&quot; kind of questions. Trying to solve it by yourself would be helpful in you understanding the solution as well, and help you to be a better software developer."},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1675328273,"post_id":75319070,"comment_id":132906205,"body_markdown":"Library _Josson &amp; Jossons_ has JSON datasets join and transformation operations and is capable to do you request by simple expressions. I&#39;m the author of the library. If you want to try, I can post the solution.","body":"Library <i>Josson &amp; Jossons</i> has JSON datasets join and transformation operations and is capable to do you request by simple expressions. I&#39;m the author of the library. If you want to try, I can post the solution."}],"owner":{"account_id":24983750,"reputation":13,"user_id":18845760,"display_name":"Sucheta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675316176,"creation_date":1675316176,"question_id":75319070,"body_markdown":"I want to join two json objects on the basis of their ids.\r\n\r\n    List&lt;JsonObject&gt; result1 = getRecordsFromDB1();\r\n    List&lt;JsonObject&gt; result2 = getRecordsFromDB2();\r\n    \r\n    result1 = [{&quot;ID_COL&quot;:&quot;Table1&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table1&quot;,&quot;DB1_COUNT&quot;:&quot;10&quot;}, {&quot;ID_COL&quot;:&quot;Table2&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table2&quot;,&quot;DB1_COUNT&quot;:&quot;20&quot;}}];\r\n    \r\n    result2 = [{&quot;ID_COL&quot;:&quot;Table1&quot;,&quot;DB2_TABLE_NAME&quot;:&quot;Table1&quot;,&quot;DB2_COUNT&quot;:&quot;10&quot;}, {&quot;ID_COL&quot;:&quot;Table2&quot;,&quot;DB2_TABLE_NAME&quot;:&quot;Table2&quot;,&quot;DB2_COUNT&quot;:&quot;40&quot;}}];\r\n\r\nI want to calculate the difference between the count for each table in both the databases.\r\n\r\nI want two lists success and reject in the following format where I can have the table name from both the database alsong with a property DIFF_COUNT which is the difference between DB2_COUNT-DB1_COUNT. If difference in count is 0 than success else reject.\r\n\r\n    List&lt;JsonObject&gt; success = [{&quot;ID_COL&quot;:&quot;Table1&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table1&quot;,DB2_TABLE_NAME:&quot;Table1&quot;,&quot;DIFF_COUNT&quot;:0}]\r\n    \r\n    List&lt;JsonObject&gt; reject = [{&quot;ID_COL&quot;:&quot;Table2&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table2&quot;,DB2_TABLE_NAME:&quot;Table2&quot;,&quot;DIFF_COUNT&quot;:20}]\r\n\r\n","title":"Inner Join Two List of Json Objects in Java","body":"<p>I want to join two json objects on the basis of their ids.</p>\n<pre><code>List&lt;JsonObject&gt; result1 = getRecordsFromDB1();\nList&lt;JsonObject&gt; result2 = getRecordsFromDB2();\n\nresult1 = [{&quot;ID_COL&quot;:&quot;Table1&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table1&quot;,&quot;DB1_COUNT&quot;:&quot;10&quot;}, {&quot;ID_COL&quot;:&quot;Table2&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table2&quot;,&quot;DB1_COUNT&quot;:&quot;20&quot;}}];\n\nresult2 = [{&quot;ID_COL&quot;:&quot;Table1&quot;,&quot;DB2_TABLE_NAME&quot;:&quot;Table1&quot;,&quot;DB2_COUNT&quot;:&quot;10&quot;}, {&quot;ID_COL&quot;:&quot;Table2&quot;,&quot;DB2_TABLE_NAME&quot;:&quot;Table2&quot;,&quot;DB2_COUNT&quot;:&quot;40&quot;}}];\n</code></pre>\n<p>I want to calculate the difference between the count for each table in both the databases.</p>\n<p>I want two lists success and reject in the following format where I can have the table name from both the database alsong with a property DIFF_COUNT which is the difference between DB2_COUNT-DB1_COUNT. If difference in count is 0 than success else reject.</p>\n<pre><code>List&lt;JsonObject&gt; success = [{&quot;ID_COL&quot;:&quot;Table1&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table1&quot;,DB2_TABLE_NAME:&quot;Table1&quot;,&quot;DIFF_COUNT&quot;:0}]\n\nList&lt;JsonObject&gt; reject = [{&quot;ID_COL&quot;:&quot;Table2&quot;,&quot;DB1_TABLE_NAME&quot;:&quot;Table2&quot;,DB2_TABLE_NAME:&quot;Table2&quot;,&quot;DIFF_COUNT&quot;:20}]\n</code></pre>\n"},{"tags":["java","eclipse","for-loop","visual-studio-code","java.util.scanner"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1675315675,"post_id":75318979,"comment_id":132903547,"body_markdown":"No: you haven&#39;t created `g` yet. Presumably `g` is supposed to be a two dimensional int array, but you have no code anywhere that declares it as such before you start using it.","body":"No: you haven&#39;t created <code>g</code> yet. Presumably <code>g</code> is supposed to be a two dimensional int array, but you have no code anywhere that declares it as such before you start using it."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1675315723,"post_id":75318979,"comment_id":132903556,"body_markdown":"What exactly do you think `int g[j][j]` does?","body":"What exactly do you think <code>int g[j][j]</code> does?"},{"owner":{"account_id":24327234,"reputation":33,"user_id":18266616,"display_name":"Samrudh S"},"score":0,"creation_date":1675315930,"post_id":75318979,"comment_id":132903588,"body_markdown":"int g[j][j] = sc.nextInt(). Isn&#39;t this declaring and initialising both ? I did the same thing for n before this. I directly declared and initialised n in int n = sc.nextInt(); @Mike&#39;Pomax&#39;Kamermans","body":"int g[j][j] = sc.nextInt(). Isn&#39;t this declaring and initialising both ? I did the same thing for n before this. I directly declared and initialised n in int n = sc.nextInt(); @Mike&#39;Pomax&#39;Kamermans"},{"owner":{"account_id":24327234,"reputation":33,"user_id":18266616,"display_name":"Samrudh S"},"score":0,"creation_date":1675316364,"post_id":75318979,"comment_id":132903650,"body_markdown":"It&#39;s supposed to be int g[j][k] sorry. @tgdavies","body":"It&#39;s supposed to be int g[j][k] sorry. @tgdavies"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1675316625,"post_id":75318979,"comment_id":132903700,"body_markdown":"No, it does not. Clearly your `g` is a 2d int array, so even if this worked (which is doesn&#39;t =) it&#39;s definitely not an `int`.","body":"No, it does not. Clearly your <code>g</code> is a 2d int array, so even if this worked (which is doesn&#39;t =) it&#39;s definitely not an <code>int</code>."}],"answers":[{"comments":[{"owner":{"account_id":24327234,"reputation":33,"user_id":18266616,"display_name":"Samrudh S"},"score":0,"creation_date":1675316107,"post_id":75319045,"comment_id":132903614,"body_markdown":"int g[j][j] = sc.nextInt(). Isn&#39;t this declaring and initialising both in the for loop ? Is there any way to initialise with size directly in the for loop. I did the same thing for n before this. I directly declared and initialised n in int n = sc.nextInt();","body":"int g[j][j] = sc.nextInt(). Isn&#39;t this declaring and initialising both in the for loop ? Is there any way to initialise with size directly in the for loop. I did the same thing for n before this. I directly declared and initialised n in int n = sc.nextInt();"},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1675316524,"post_id":75319045,"comment_id":132903685,"body_markdown":"it&#39;s not declaring, it is only assigning. you can declare a variable in the loop for sure, but it&#39;s scope is only within the loop, you cannot use is outside. and you cannot declare a specific index of the array, you need to whole array, which does not make sense to declare inside the loop","body":"it&#39;s not declaring, it is only assigning. you can declare a variable in the loop for sure, but it&#39;s scope is only within the loop, you cannot use is outside. and you cannot declare a specific index of the array, you need to whole array, which does not make sense to declare inside the loop"}],"tags":[],"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675315950,"creation_date":1675315950,"answer_id":75319045,"question_id":75318979,"body_markdown":"this is most likely what you want to achieve:\r\n```java\r\n        int g[][] = new int[n][n];\r\n\r\n        for (int j = 0; j &lt; n; j++) {\r\n            for (int k = 0; k &lt; n; k++) {\r\n                g[j][k] = sc.nextInt();\r\n            }\r\n        }\r\n```\r\nYou have to initialize the array with a specific size, only then you can assign values at a given indexes.\r\n","title":"g cannot be resolved to a variable","body":"<p>this is most likely what you want to achieve:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        int g[][] = new int[n][n];\n\n        for (int j = 0; j &lt; n; j++) {\n            for (int k = 0; k &lt; n; k++) {\n                g[j][k] = sc.nextInt();\n            }\n        }\n</code></pre>\n<p>You have to initialize the array with a specific size, only then you can assign values at a given indexes.</p>\n"}],"owner":{"account_id":24327234,"reputation":33,"user_id":18266616,"display_name":"Samrudh S"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75319045,"answer_count":1,"score":-1,"last_activity_date":1675315950,"creation_date":1675315327,"question_id":75318979,"body_markdown":"g cannot be resolved to a variable is the error popping up. I&#39;ve initialised g in the for loop, so why this error ? I&#39;m a beginner, so can anybody explain in as many simple and understandable words as possible. \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Bellman {\r\n    public static void main(String[] args) {\r\n    \t\r\n    \tScanner sc = new Scanner(System.in);\r\n    \t\r\n    \tSystem.out.println(&quot;Enter the number of nodes&quot;);\r\n    \tint n = sc.nextInt();\r\n    \t\r\n    \tSystem.out.println(&quot;Enter the cost matrix&quot;);\r\n    \t\r\n    \tfor (int j = 0; j&lt;n; j++) {\r\n    \t\tfor (int k = 0; k&lt;n; k++) {\r\n    \t\t\tint g[j][j] = sc.nextInt();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t\r\n    \r\n    }\r\n    }\r\n\r\ng cannot be resolved to a variable. I&#39;ve initialised g in the for loop, so why this error ?","title":"g cannot be resolved to a variable","body":"<p>g cannot be resolved to a variable is the error popping up. I've initialised g in the for loop, so why this error ? I'm a beginner, so can anybody explain in as many simple and understandable words as possible.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Bellman {\npublic static void main(String[] args) {\n    \n    Scanner sc = new Scanner(System.in);\n    \n    System.out.println(&quot;Enter the number of nodes&quot;);\n    int n = sc.nextInt();\n    \n    System.out.println(&quot;Enter the cost matrix&quot;);\n    \n    for (int j = 0; j&lt;n; j++) {\n        for (int k = 0; k&lt;n; k++) {\n            int g[j][j] = sc.nextInt();\n        }\n    }\n    \n    \n\n}\n}\n</code></pre>\n<p>g cannot be resolved to a variable. I've initialised g in the for loop, so why this error ?</p>\n"},{"tags":["java","spring-boot","annotations","spring-aop","spring-annotations"],"owner":{"account_id":14547338,"reputation":9,"user_id":10507239,"display_name":"mHasan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675335762,"answer_count":0,"score":0,"last_activity_date":1675315340,"creation_date":1675315247,"question_id":75318963,"body_markdown":"We have two custom annotations, @MerchantActivity and @Authorised. We want to execute the aspect of the @Authorised first and then the second one. But our system is automatically executing the aspect of @MerchantActivity first. How can we define execution sequence by ourselves?\r\n\r\n\r\n\r\n```\r\n@PostMapping(&quot;/{merchantId}/stores&quot;)\r\n@Authorised\r\n@MerchantActivity(title = &quot;add-store&quot;)\r\npublic ResponseEntity&lt;?&gt; addStore(@PathVariable(&quot;merchantId&quot;) String merchantId, @Valid @RequestBody StoreB store) \r\n{\r\n\tList&lt;StoreB&gt; res = merchantService.addStore(merchantId, store);\r\n\treturn ApiResponse.ok(res);\r\n}\r\n```","title":"How to define action sequence of multiple custom annotations on a single method signature on Spring Boot","body":"<p>We have two custom annotations, @MerchantActivity and @Authorised. We want to execute the aspect of the @Authorised first and then the second one. But our system is automatically executing the aspect of @MerchantActivity first. How can we define execution sequence by ourselves?</p>\n<pre><code>@PostMapping(&quot;/{merchantId}/stores&quot;)\n@Authorised\n@MerchantActivity(title = &quot;add-store&quot;)\npublic ResponseEntity&lt;?&gt; addStore(@PathVariable(&quot;merchantId&quot;) String merchantId, @Valid @RequestBody StoreB store) \n{\n    List&lt;StoreB&gt; res = merchantService.addStore(merchantId, store);\n    return ApiResponse.ok(res);\n}\n</code></pre>\n"},{"tags":["java","css","web-applications","vaadin"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1675321156,"post_id":75316483,"comment_id":132904533,"body_markdown":"Sidenote: Vaadin 19 is no longer maintained, the maintained branch is Vaadin 23, so I would consider upgrading to it.","body":"Sidenote: Vaadin 19 is no longer maintained, the maintained branch is Vaadin 23, so I would consider upgrading to it."},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1675321374,"post_id":75316483,"comment_id":132904584,"body_markdown":"Does this answer your question? [How to style grid cells in vaadin](https://stackoverflow.com/questions/74452065/how-to-style-grid-cells-in-vaadin)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74452065/how-to-style-grid-cells-in-vaadin\">How to style grid cells in vaadin</a>"}],"owner":{"account_id":8619641,"reputation":23,"user_id":6455058,"display_name":"Muhammet Kurt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675314931,"creation_date":1675287619,"question_id":75316483,"body_markdown":"Ellipsis added end of long string in vaadin&#39;s gridPro\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI want to add ellipsis end of long texts which are longer than vaadin&#39;s gridPro cells. I am using vaadin 19.8.4 version. I am newbie with css and vaadin.\r\n\r\nI have created css file and tried to use it with `setId()` after `grid.addColumn()`  but none of them worked.\r\n\r\nI have use chatGpt and it suggest me a lot of ways but none of them too did not worked.\r\n\r\nSome of these solutions only changed appearance of column&#39;s name, not content. \r\n\r\nI&#39;ve also tried `` and `setCellStyleGenerator()` methods but my vaadin didn&#39;t recognize these methods.\r\n\r\n\r\nI have tried  below code snippets separately:\r\n\r\n\t\tgrid.addColumn().setFlexGrow(1).getElement()\r\n\t\t\t\t.getStyle()\r\n\t\t\t\t.set(&quot;max-width&quot;, &quot;100px&quot;)\r\n\t\t\t\t.set(&quot;overflow&quot;, &quot;hidden&quot;)\r\n\t\t\t\t.set(&quot;text-overflow&quot;, &quot;ellipsis&quot;)\r\n\t\t\t\t.set(&quot;white-space&quot;, &quot;nowrap&quot;);\r\n\r\n\r\n\r\n\t\tgrid.getElement().executeJs(&quot;$0.getElementsByClassName(&#39;your-column&#39;)[0].style.setProperty(&#39;max-width&#39;, &#39;100px&#39;)&quot;,\r\n\t\t\t\tgrid.getElement().getNode());\r\n\t\tgrid.getElement().executeJs(&quot;$0.getElementsByClassName(&#39;your-column&#39;)[0].style.setProperty(&#39;text-overflow&#39;, &#39;ellipsis&#39;)&quot;,\r\n\t\t\t\tgrid.getElement().getNode());\r\n\t\tgrid.getElement().executeJs(&quot;$0.getElementsByClassName(&#39;your-column&#39;)[0].style.setProperty(&#39;white-space&#39;, &#39;nowrap&#39;)&quot;,\r\n\t\t\t\tgrid.getElement().getNode());    \r\n\r\n    .setStyleGenerator()\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/juCT7.png","title":"How to add ellipsis end of long text in vaadin&#39;s gridPro cell?","body":"<p>Ellipsis added end of long string in vaadin's gridPro</p>\n<p><a href=\"https://i.stack.imgur.com/juCT7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/juCT7.png\" alt=\"enter image description here\" /></a></p>\n<p>I want to add ellipsis end of long texts which are longer than vaadin's gridPro cells. I am using vaadin 19.8.4 version. I am newbie with css and vaadin.</p>\n<p>I have created css file and tried to use it with <code>setId()</code> after <code>grid.addColumn()</code>  but none of them worked.</p>\n<p>I have use chatGpt and it suggest me a lot of ways but none of them too did not worked.</p>\n<p>Some of these solutions only changed appearance of column's name, not content.</p>\n<p>I've also tried `` and <code>setCellStyleGenerator()</code> methods but my vaadin didn't recognize these methods.</p>\n<p>I have tried  below code snippets separately:</p>\n<pre><code>    grid.addColumn().setFlexGrow(1).getElement()\n            .getStyle()\n            .set(&quot;max-width&quot;, &quot;100px&quot;)\n            .set(&quot;overflow&quot;, &quot;hidden&quot;)\n            .set(&quot;text-overflow&quot;, &quot;ellipsis&quot;)\n            .set(&quot;white-space&quot;, &quot;nowrap&quot;);\n\n\n\n    grid.getElement().executeJs(&quot;$0.getElementsByClassName('your-column')[0].style.setProperty('max-width', '100px')&quot;,\n            grid.getElement().getNode());\n    grid.getElement().executeJs(&quot;$0.getElementsByClassName('your-column')[0].style.setProperty('text-overflow', 'ellipsis')&quot;,\n            grid.getElement().getNode());\n    grid.getElement().executeJs(&quot;$0.getElementsByClassName('your-column')[0].style.setProperty('white-space', 'nowrap')&quot;,\n            grid.getElement().getNode());    \n\n.setStyleGenerator()\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"answers":[{"tags":[],"owner":{"account_id":9298667,"reputation":152,"user_id":6904872,"display_name":"Naresh Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675314808,"creation_date":1675314808,"answer_id":75318923,"question_id":75318546,"body_markdown":"Before getting the username from the token your need to validate the token \r\n\r\nIn your ``JwtUtil`` class add a method to validate the token\r\n \r\n\r\n     public boolean validateJwtToken(String authToken) {\r\n    \t\ttry {\r\n    \t\t\tJwts.parser().setSigningKey(JWT_SECRET).parseClaimsJws(authToken);\r\n    \t\t\treturn true;\r\n    \t\t} catch (SignatureException e) {\r\n    \t\t\tlog.error(&quot;Invalid signature: {}&quot;, e.getMessage());\r\n    \t\t} catch (MalformedJwtException e) {\r\n    \t\t\tlog.error(&quot;Invalid token: {}&quot;, e.getMessage());\r\n    \t\t} catch (ExpiredJwtException e) {\r\n    \t\t\tlog.error(&quot;token is expired: {}&quot;, e.getMessage());\r\n    \t\t} catch (UnsupportedJwtException e) {\r\n    \t\t\tlog.error(&quot;token is unsupported: {}&quot;, e.getMessage());\r\n    \t\t} catch (IllegalArgumentException e) {\r\n    \t\t\tlog.error(&quot;claims string is empty: {}&quot;, e.getMessage());\r\n    \t\t}\r\n    \r\n    \t\treturn false;\r\n    \t}\r\n\r\n\r\nand inside your ``JWTFilter`` class\r\nchange \r\n\r\n    if (jwt.isBlank()) {\r\n                    response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\r\n                } \r\nto\r\n  \r\n\r\n     if (jwt.isBlank() &amp;&amp; jwtUtil.validateJwtToken(jwt)) {\r\n                        response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\r\n                    } ","title":"Spring Sequrity Invalid JWT AccessDeniedException. Unable to handle the Spring Security Exception because the response is already committed","body":"<p>Before getting the username from the token your need to validate the token</p>\n<p>In your <code>JwtUtil</code> class add a method to validate the token</p>\n<pre><code> public boolean validateJwtToken(String authToken) {\n        try {\n            Jwts.parser().setSigningKey(JWT_SECRET).parseClaimsJws(authToken);\n            return true;\n        } catch (SignatureException e) {\n            log.error(&quot;Invalid signature: {}&quot;, e.getMessage());\n        } catch (MalformedJwtException e) {\n            log.error(&quot;Invalid token: {}&quot;, e.getMessage());\n        } catch (ExpiredJwtException e) {\n            log.error(&quot;token is expired: {}&quot;, e.getMessage());\n        } catch (UnsupportedJwtException e) {\n            log.error(&quot;token is unsupported: {}&quot;, e.getMessage());\n        } catch (IllegalArgumentException e) {\n            log.error(&quot;claims string is empty: {}&quot;, e.getMessage());\n        }\n\n        return false;\n    }\n</code></pre>\n<p>and inside your <code>JWTFilter</code> class\nchange</p>\n<pre><code>if (jwt.isBlank()) {\n                response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\n            } \n</code></pre>\n<p>to</p>\n<pre><code> if (jwt.isBlank() &amp;&amp; jwtUtil.validateJwtToken(jwt)) {\n                    response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\n                } \n</code></pre>\n"}],"owner":{"account_id":23439099,"reputation":1,"user_id":21129962,"display_name":"Artyom104"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675314808,"creation_date":1675310472,"question_id":75318546,"body_markdown":"When I use Postman and try to send a request to `/main` (or to `/admin`) I get an AccessDeniedException. \r\n\r\nAt the same time, if I send a request to `/auth/login` or `/auth/registration`, then everything will be fine and there will be a `BAD_REQUEST` in the response body (because of `sendError(HttpServletResponse.SC_BAD_REQUEST)`). \r\n\r\nIf there is no header or if it is empty, then everything also works correctly. \r\n\r\nThe error occurs only when the token is not valid and requests are sent to `/main` and `/admin`.\r\n\r\n```\r\n2023-02-02T07:38:42.180+04:00 ERROR 947458 --- [io-10480-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Unable to handle the Spring Security Exception because the response is already committed.] with root cause\r\n\r\nrg.springframework.security.access.AccessDeniedException: Access Denied\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat levit104.springcourse.jwtapp.config.JWTFilter.doFilterInternal(JWTFilter.java:71) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\n```java\r\n@Component\r\n@AllArgsConstructor\r\npublic class JWTFilter extends OncePerRequestFilter {\r\n    private final JWTUtil jwtUtil;\r\n    private final PersonDetailsService personDetailsService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n        String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n\r\n        if (Objects.nonNull(authHeader) &amp;&amp; !authHeader.isBlank() &amp;&amp; authHeader.startsWith(&quot;Bearer &quot;)) {\r\n            String jwt = authHeader.substring(7);\r\n\r\n            if (jwt.isBlank()) {\r\n                response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\r\n            } else {\r\n                try {\r\n                    String username = jwtUtil.validateTokenAndGetClaim(jwt);\r\n\r\n                    UserDetails userDetails = personDetailsService.loadUserByUsername(username);\r\n\r\n                    UsernamePasswordAuthenticationToken authToken =\r\n                            new UsernamePasswordAuthenticationToken(\r\n                                    userDetails, userDetails.getPassword(), userDetails.getAuthorities());\r\n\r\n                    if (Objects.isNull(SecurityContextHolder.getContext().getAuthentication())) {\r\n                        SecurityContextHolder.getContext().setAuthentication(authToken);\r\n                    }\r\n\r\n                } catch (JWTVerificationException exception) {\r\n                    response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\r\n                    // return;\r\n                    // TODO Temp Fix\r\n                }\r\n            }\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\n@Configuration\r\n@AllArgsConstructor\r\npublic class SecurityConfig {\r\n    private final JWTFilter jwtFilter;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .csrf().disable()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/auth/login&quot;, &quot;/auth/registration&quot;, &quot;/error&quot;).permitAll()\r\n                .anyRequest().hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;)\r\n                .and()\r\n                .logout().logoutUrl(&quot;/logout&quot;).logoutSuccessUrl(&quot;/auth/login&quot;)\r\n                .and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfiguration) throws Exception {\r\n        return authConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n```java\r\n    private static final long EXPIRATION_MINUTES = 60;\r\n    private static final String SUBJECT = &quot;User Details&quot;;\r\n    private static final String ISSUER = &quot;jwt-spring-app&quot;;\r\n    private static final String JWT_SECRET = &quot;JWT-AUTH-SPRING-BACKEND-APP&quot;; //TODO\r\n\r\n    public String generateToken(String username) {\r\n        Instant expirationDate = Instant.from(ZonedDateTime.now().plusMinutes(EXPIRATION_MINUTES));\r\n        return JWT.create()\r\n                .withSubject(SUBJECT)\r\n                .withClaim(&quot;username&quot;, username)\r\n                .withIssuedAt(Instant.now())\r\n                .withIssuer(ISSUER)\r\n                .withExpiresAt(expirationDate)\r\n                .sign(Algorithm.HMAC256(JWT_SECRET));\r\n    }\r\n\r\n    public String validateTokenAndGetClaim(String token) throws JWTVerificationException {\r\n        JWTVerifier jwtVerifier = JWT.require(Algorithm.HMAC256(JWT_SECRET))\r\n                .withSubject(SUBJECT)\r\n                .withIssuer(ISSUER)\r\n                .build();\r\n        DecodedJWT decodedJWT = jwtVerifier.verify(token); // throws JWTVerificationException\r\n        return decodedJWT.getClaim(&quot;username&quot;).asString();\r\n    }\r\n```\r\n\r\nIn addition, if I add `return` to the catch block, the error will no longer occur.","title":"Spring Sequrity Invalid JWT AccessDeniedException. Unable to handle the Spring Security Exception because the response is already committed","body":"<p>When I use Postman and try to send a request to <code>/main</code> (or to <code>/admin</code>) I get an AccessDeniedException.</p>\n<p>At the same time, if I send a request to <code>/auth/login</code> or <code>/auth/registration</code>, then everything will be fine and there will be a <code>BAD_REQUEST</code> in the response body (because of <code>sendError(HttpServletResponse.SC_BAD_REQUEST)</code>).</p>\n<p>If there is no header or if it is empty, then everything also works correctly.</p>\n<p>The error occurs only when the token is not valid and requests are sent to <code>/main</code> and <code>/admin</code>.</p>\n<pre><code>2023-02-02T07:38:42.180+04:00 ERROR 947458 --- [io-10480-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Unable to handle the Spring Security Exception because the response is already committed.] with root cause\n\nrg.springframework.security.access.AccessDeniedException: Access Denied\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at levit104.springcourse.jwtapp.config.JWTFilter.doFilterInternal(JWTFilter.java:71) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:91) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.5.jar:10.1.5]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@AllArgsConstructor\npublic class JWTFilter extends OncePerRequestFilter {\n    private final JWTUtil jwtUtil;\n    private final PersonDetailsService personDetailsService;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        String authHeader = request.getHeader(&quot;Authorization&quot;);\n\n        if (Objects.nonNull(authHeader) &amp;&amp; !authHeader.isBlank() &amp;&amp; authHeader.startsWith(&quot;Bearer &quot;)) {\n            String jwt = authHeader.substring(7);\n\n            if (jwt.isBlank()) {\n                response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\n            } else {\n                try {\n                    String username = jwtUtil.validateTokenAndGetClaim(jwt);\n\n                    UserDetails userDetails = personDetailsService.loadUserByUsername(username);\n\n                    UsernamePasswordAuthenticationToken authToken =\n                            new UsernamePasswordAuthenticationToken(\n                                    userDetails, userDetails.getPassword(), userDetails.getAuthorities());\n\n                    if (Objects.isNull(SecurityContextHolder.getContext().getAuthentication())) {\n                        SecurityContextHolder.getContext().setAuthentication(authToken);\n                    }\n\n                } catch (JWTVerificationException exception) {\n                    response.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Invalid or expired JWT&quot;);\n                    // return;\n                    // TODO Temp Fix\n                }\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\n@EnableMethodSecurity\n@Configuration\n@AllArgsConstructor\npublic class SecurityConfig {\n    private final JWTFilter jwtFilter;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http\n                .csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/auth/login&quot;, &quot;/auth/registration&quot;, &quot;/error&quot;).permitAll()\n                .anyRequest().hasAnyRole(&quot;USER&quot;, &quot;ADMIN&quot;)\n                .and()\n                .logout().logoutUrl(&quot;/logout&quot;).logoutSuccessUrl(&quot;/auth/login&quot;)\n                .and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfiguration) throws Exception {\n        return authConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    private static final long EXPIRATION_MINUTES = 60;\n    private static final String SUBJECT = &quot;User Details&quot;;\n    private static final String ISSUER = &quot;jwt-spring-app&quot;;\n    private static final String JWT_SECRET = &quot;JWT-AUTH-SPRING-BACKEND-APP&quot;; //TODO\n\n    public String generateToken(String username) {\n        Instant expirationDate = Instant.from(ZonedDateTime.now().plusMinutes(EXPIRATION_MINUTES));\n        return JWT.create()\n                .withSubject(SUBJECT)\n                .withClaim(&quot;username&quot;, username)\n                .withIssuedAt(Instant.now())\n                .withIssuer(ISSUER)\n                .withExpiresAt(expirationDate)\n                .sign(Algorithm.HMAC256(JWT_SECRET));\n    }\n\n    public String validateTokenAndGetClaim(String token) throws JWTVerificationException {\n        JWTVerifier jwtVerifier = JWT.require(Algorithm.HMAC256(JWT_SECRET))\n                .withSubject(SUBJECT)\n                .withIssuer(ISSUER)\n                .build();\n        DecodedJWT decodedJWT = jwtVerifier.verify(token); // throws JWTVerificationException\n        return decodedJWT.getClaim(&quot;username&quot;).asString();\n    }\n</code></pre>\n<p>In addition, if I add <code>return</code> to the catch block, the error will no longer occur.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9541,"page":682,"page_size":100}
