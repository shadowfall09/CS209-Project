{"items":[{"tags":["java","spring","spring-boot","payara","jakarta-migration"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1681395862,"post_id":74935726,"comment_id":134052280,"body_markdown":"Do you have other dependency other than what mentioned in pom.xml?","body":"Do you have other dependency other than what mentioned in pom.xml?"},{"owner":{"account_id":5599047,"reputation":89,"user_id":4435813,"display_name":"barry"},"score":0,"creation_date":1685459629,"post_id":74935726,"comment_id":134661338,"body_markdown":"I have updated the payara version to Payara Server 6.2023.5 and the spring can be started with OpenJDK 17.0.2","body":"I have updated the payara version to Payara Server 6.2023.5 and the spring can be started with OpenJDK 17.0.2"}],"answers":[{"tags":[],"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681385362,"creation_date":1681385362,"answer_id":76004897,"question_id":74935726,"body_markdown":"I had a similar situation while building my Spring Boot 3 project from the command line using Gradle.  The solution that worked for me is to upgrade the version of Gradle.  I upgraded from 7.2 to 7.6 and that solved the ASM9 issue.\r\n\r\nSee the line starting with `distributionUrl` in `gradle-wrapper.properties`, located in `gradle/wrapper`:\r\n\r\n```\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-bin.zip\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\n```","title":"Springframework : PermittedSubclasses requires ASM8/9","body":"<p>I had a similar situation while building my Spring Boot 3 project from the command line using Gradle.  The solution that worked for me is to upgrade the version of Gradle.  I upgraded from 7.2 to 7.6 and that solved the ASM9 issue.</p>\n<p>See the line starting with <code>distributionUrl</code> in <code>gradle-wrapper.properties</code>, located in <code>gradle/wrapper</code>:</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-bin.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6552457,"reputation":51,"user_id":5066373,"display_name":"Bernie 1411"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681480525,"creation_date":1681480525,"answer_id":76015867,"question_id":74935726,"body_markdown":"I thought I had answered this already. Glassfish and Payara are using older versions of ASM and CDI. Until they upgrade their distributions, we&#39;re stuck migrating to Java 17 and Jakarta.","title":"Springframework : PermittedSubclasses requires ASM8/9","body":"<p>I thought I had answered this already. Glassfish and Payara are using older versions of ASM and CDI. Until they upgrade their distributions, we're stuck migrating to Java 17 and Jakarta.</p>\n"},{"tags":[],"owner":{"account_id":6552457,"reputation":51,"user_id":5066373,"display_name":"Bernie 1411"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682033865,"creation_date":1682033865,"answer_id":76068894,"question_id":74935726,"body_markdown":"I saw a payara release notice that announced that the most recent version of Payara contained ASM 9. For me, thats 1/2 the battle cause SpringWebMvc still needs newer CDI installed as well. I&#39;ll pull down payara soon and try again....maybe they fixed CDI too but it wasn&#39;t in the release notice.","title":"Springframework : PermittedSubclasses requires ASM8/9","body":"<p>I saw a payara release notice that announced that the most recent version of Payara contained ASM 9. For me, thats 1/2 the battle cause SpringWebMvc still needs newer CDI installed as well. I'll pull down payara soon and try again....maybe they fixed CDI too but it wasn't in the release notice.</p>\n"}],"owner":{"account_id":5599047,"reputation":89,"user_id":4435813,"display_name":"barry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1807,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1682033865,"creation_date":1672194584,"question_id":74935726,"body_markdown":"I have updated the lib and dependency of my project including : \r\n\r\n 1. From OpenJDK 11 to OpenJDK 17.0.2\r\n 2. From JavaEE to Jakarta 9\r\n 3. From Springboot 2.7.4 to 3.0.1\r\n\r\nThe application can be built successfully, and I try to deploy it to Payara Server 6.2022.2 that running OpenJDK 17. However, the following errors are kept throwing and Spring cannot be started. \r\n\r\nI have confirmed that the Springboot is the latest version and supports Java 17 environment. Is there any dependency missing?\r\n\r\nMy pom.xml :\r\n&gt;     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n&gt;     &lt;parent&gt;\r\n&gt;         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;         &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n&gt;         &lt;version&gt;3.0.1&lt;/version&gt;\r\n&gt;         &lt;relativePath/&gt; \r\n&gt;     &lt;/parent&gt;\r\n&gt;     &lt;version&gt;1.0&lt;/version&gt;\r\n&gt;     &lt;packaging&gt;war&lt;/packaging&gt;\r\n&gt;     \r\n&gt;     &lt;properties&gt;\r\n&gt;         &lt;java.version&gt;17&lt;/java.version&gt;\r\n&gt;         &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n&gt;         &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n&gt;     &lt;/properties&gt;\r\n&gt;   \r\n&gt;     &lt;build&gt;\r\n&gt;         &lt;plugins&gt;\r\n&gt;             &lt;plugin&gt;\r\n&gt;                 &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;                 &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n&gt;             &lt;/plugin&gt;\r\n&gt;         &lt;/plugins&gt;\r\n&gt;     &lt;/build&gt;\r\n&gt; \r\n&gt;     &lt;dependencies&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&gt;             &lt;exclusions&gt;\r\n&gt;                 &lt;exclusion&gt;\r\n&gt;                     &lt;artifactId&gt;tomcat-embed-logging-juli&lt;/artifactId&gt;\r\n&gt;                     &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n&gt;                 &lt;/exclusion&gt;\r\n&gt;                 &lt;exclusion&gt;\r\n&gt;                     &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\r\n&gt;                     &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n&gt;                 &lt;/exclusion&gt;\r\n&gt;                 &lt;exclusion&gt;\r\n&gt;                     &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\r\n&gt;                     &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n&gt;                 &lt;/exclusion&gt;\r\n&gt;             &lt;/exclusions&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;spring-boot-loader&lt;/artifactId&gt;\r\n&gt;         &lt;/dependency&gt;     \r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;spring-security-oauth2-resource-server&lt;/artifactId&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;9.0.0&lt;/version&gt;\r\n&gt;             &lt;type&gt;jar&lt;/type&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;     &lt;/dependencies&gt;\r\n\r\nThe content of module-info\r\n&gt;     requires jakarta.jakartaee.api;\r\n&gt;     requires spring.beans;\r\n&gt;     requires spring.boot;\r\n&gt;     requires spring.boot.loader;\r\n&gt;     requires spring.boot.autoconfigure;\r\n&gt;     requires spring.context;\r\n&gt;     requires spring.core;\r\n&gt;     requires spring.security.config;\r\n&gt;     requires spring.security.core;\r\n&gt;     requires spring.security.web;\r\n&gt;     requires spring.web;\r\n\r\nThe Application Class :\r\n```\r\nimport com.xyz.web.application.resources.env;\r\nimport org.springframework.boot.SpringApplication; \r\nimport org.springframework.boot.autoconfigure.SpringBootApplication; \r\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n\r\n@SpringBootApplication \r\n@EnableConfigurationProperties(env.class)\r\npublic class Application extends SpringBootServletInitializer {\r\n        \r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nThe log of Payara Server :\r\n&gt; SEVERE:   Exception while visiting\r\n&gt; org/springframework/beans/factory/aot/BeanRegistrationsAotContribution$Registration.class\r\n&gt; of size 2202 java.lang.UnsupportedOperationException: Record requires\r\n&gt; ASM8 \tat\r\n&gt; org.objectweb.asm.ClassVisitor.visitRecordComponent(ClassVisitor.java:305)\r\n&gt; \tat\r\n&gt; org.objectweb.asm.ClassReader.readRecordComponent(ClassReader.java:953)\r\n&gt; \tat org.objectweb.asm.ClassReader.accept(ClassReader.java:731) \tat\r\n&gt; org.objectweb.asm.ClassReader.accept(ClassReader.java:424) \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336) \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\r\n&gt; \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\r\n&gt; \tat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\r\n&gt; \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n&gt; \r\n&gt; SEVERE:   Exception while visiting\r\n&gt; org/springframework/boot/cloud/CloudPlatform.class of size 3703\r\n&gt; java.lang.UnsupportedOperationException: PermittedSubclasses requires\r\n&gt; ASM9 \tat\r\n&gt; org.objectweb.asm.ClassVisitor.visitPermittedSubclass(ClassVisitor.java:266)\r\n&gt; \tat org.objectweb.asm.ClassReader.accept(ClassReader.java:706) \tat\r\n&gt; org.objectweb.asm.ClassReader.accept(ClassReader.java:424) \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336) \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\r\n&gt; \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\r\n&gt; \tat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\r\n&gt; \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n&gt; \r\n&gt; SEVERE:   Exception while visiting\r\n&gt; org/springframework/boot/context/config/ConfigDataNotFoundAction.class\r\n&gt; of size 1750 java.lang.UnsupportedOperationException:\r\n&gt; PermittedSubclasses requires ASM9 \tat\r\n&gt; org.objectweb.asm.ClassVisitor.visitPermittedSubclass(ClassVisitor.java:266)\r\n&gt; \tat org.objectweb.asm.ClassReader.accept(ClassReader.java:706) \tat\r\n&gt; org.objectweb.asm.ClassReader.accept(ClassReader.java:424) \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336) \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\r\n&gt; \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\r\n&gt; \tat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\r\n&gt; \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n&gt; \r\n&gt; SEVERE:   Exception while visiting\r\n&gt; org/springframework/boot/jdbc/DatabaseDriver.class of size 9179\r\n&gt; java.lang.UnsupportedOperationException: PermittedSubclasses requires\r\n&gt; ASM9 \tat\r\n&gt; org.objectweb.asm.ClassVisitor.visitPermittedSubclass(ClassVisitor.java:266)\r\n&gt; \tat org.objectweb.asm.ClassReader.accept(ClassReader.java:706) \tat\r\n&gt; org.objectweb.asm.ClassReader.accept(ClassReader.java:424) \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336) \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\r\n&gt; \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\r\n&gt; \tat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\r\n&gt; \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n&gt; \r\n&gt; SEVERE:   Exception while visiting\r\n&gt; org/springframework/boot/convert/DurationStyle.class of size 3821\r\n&gt; java.lang.UnsupportedOperationException: PermittedSubclasses requires\r\n&gt; ASM9 \tat\r\n&gt; org.objectweb.asm.ClassVisitor.visitPermittedSubclass(ClassVisitor.java:266)\r\n&gt; \tat org.objectweb.asm.ClassReader.accept(ClassReader.java:706) \tat\r\n&gt; org.objectweb.asm.ClassReader.accept(ClassReader.java:424) \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336) \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\r\n&gt; \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\r\n&gt; \tat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\r\n&gt; \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n&gt; \r\n&gt; SEVERE:   Exception while visiting\r\n&gt; org/springframework/boot/convert/PeriodStyle.class of size 3986\r\n&gt; java.lang.UnsupportedOperationException: PermittedSubclasses requires\r\n&gt; ASM9 \tat\r\n&gt; org.objectweb.asm.ClassVisitor.visitPermittedSubclass(ClassVisitor.java:266)\r\n&gt; \tat org.objectweb.asm.ClassReader.accept(ClassReader.java:706) \tat\r\n&gt; org.objectweb.asm.ClassReader.accept(ClassReader.java:424) \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336) \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\r\n&gt; \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\r\n&gt; \tat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\r\n&gt; \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\n\r\n","title":"Springframework : PermittedSubclasses requires ASM8/9","body":"<p>I have updated the lib and dependency of my project including :</p>\n<ol>\n<li>From OpenJDK 11 to OpenJDK 17.0.2</li>\n<li>From JavaEE to Jakarta 9</li>\n<li>From Springboot 2.7.4 to 3.0.1</li>\n</ol>\n<p>The application can be built successfully, and I try to deploy it to Payara Server 6.2022.2 that running OpenJDK 17. However, the following errors are kept throwing and Spring cannot be started.</p>\n<p>I have confirmed that the Springboot is the latest version and supports Java 17 environment. Is there any dependency missing?</p>\n<p>My pom.xml :</p>\n<blockquote>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;relativePath/&gt; \n&lt;/parent&gt;\n&lt;version&gt;1.0&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;tomcat-embed-logging-juli&lt;/artifactId&gt;\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-loader&lt;/artifactId&gt;\n    &lt;/dependency&gt;     \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-oauth2-resource-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n        &lt;version&gt;9.0.0&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n</blockquote>\n<p>The content of module-info</p>\n<blockquote>\n<pre><code>requires jakarta.jakartaee.api;\nrequires spring.beans;\nrequires spring.boot;\nrequires spring.boot.loader;\nrequires spring.boot.autoconfigure;\nrequires spring.context;\nrequires spring.core;\nrequires spring.security.config;\nrequires spring.security.core;\nrequires spring.security.web;\nrequires spring.web;\n</code></pre>\n</blockquote>\n<p>The Application Class :</p>\n<pre><code>import com.xyz.web.application.resources.env;\nimport org.springframework.boot.SpringApplication; \nimport org.springframework.boot.autoconfigure.SpringBootApplication; \nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\n@SpringBootApplication \n@EnableConfigurationProperties(env.class)\npublic class Application extends SpringBootServletInitializer {\n        \n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n<p>The log of Payara Server :</p>\n<blockquote>\n<p>SEVERE:   Exception while visiting\norg/springframework/beans/factory/aot/BeanRegistrationsAotContribution$Registration.class\nof size 2202 java.lang.UnsupportedOperationException: Record requires\nASM8  at\norg.objectweb.asm.ClassVisitor.visitRecordComponent(ClassVisitor.java:305)\nat\norg.objectweb.asm.ClassReader.readRecordComponent(ClassReader.java:953)\nat org.objectweb.asm.ClassReader.accept(ClassReader.java:731)   at\norg.objectweb.asm.ClassReader.accept(ClassReader.java:424)    at\norg.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336)     at\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\nat\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\nat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\nat\norg.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.base/java.lang.Thread.run(Thread.java:833)</p>\n<p>SEVERE:   Exception while visiting\norg/springframework/boot/cloud/CloudPlatform.class of size 3703\njava.lang.UnsupportedOperationException: PermittedSubclasses requires\nASM9  at\norg.objectweb.asm.ClassVisitor.visitPermittedSubclass(ClassVisitor.java:266)\nat org.objectweb.asm.ClassReader.accept(ClassReader.java:706)   at\norg.objectweb.asm.ClassReader.accept(ClassReader.java:424)    at\norg.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336)     at\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\nat\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\nat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\nat\norg.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.base/java.lang.Thread.run(Thread.java:833)</p>\n<p>SEVERE:   Exception while visiting\norg/springframework/boot/context/config/ConfigDataNotFoundAction.class\nof size 1750 java.lang.UnsupportedOperationException:\nPermittedSubclasses requires ASM9     at\norg.objectweb.asm.ClassVisitor.visitPermittedSubclass(ClassVisitor.java:266)\nat org.objectweb.asm.ClassReader.accept(ClassReader.java:706)   at\norg.objectweb.asm.ClassReader.accept(ClassReader.java:424)    at\norg.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336)     at\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\nat\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\nat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\nat\norg.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.base/java.lang.Thread.run(Thread.java:833)</p>\n<p>SEVERE:   Exception while visiting\norg/springframework/boot/jdbc/DatabaseDriver.class of size 9179\njava.lang.UnsupportedOperationException: PermittedSubclasses requires\nASM9  at\norg.objectweb.asm.ClassVisitor.visitPermittedSubclass(ClassVisitor.java:266)\nat org.objectweb.asm.ClassReader.accept(ClassReader.java:706)   at\norg.objectweb.asm.ClassReader.accept(ClassReader.java:424)    at\norg.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336)     at\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\nat\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\nat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\nat\norg.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.base/java.lang.Thread.run(Thread.java:833)</p>\n<p>SEVERE:   Exception while visiting\norg/springframework/boot/convert/DurationStyle.class of size 3821\njava.lang.UnsupportedOperationException: PermittedSubclasses requires\nASM9  at\norg.objectweb.asm.ClassVisitor.visitPermittedSubclass(ClassVisitor.java:266)\nat org.objectweb.asm.ClassReader.accept(ClassReader.java:706)   at\norg.objectweb.asm.ClassReader.accept(ClassReader.java:424)    at\norg.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336)     at\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\nat\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\nat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\nat\norg.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.base/java.lang.Thread.run(Thread.java:833)</p>\n<p>SEVERE:   Exception while visiting\norg/springframework/boot/convert/PeriodStyle.class of size 3986\njava.lang.UnsupportedOperationException: PermittedSubclasses requires\nASM9  at\norg.objectweb.asm.ClassVisitor.visitPermittedSubclass(ClassVisitor.java:266)\nat org.objectweb.asm.ClassReader.accept(ClassReader.java:706)   at\norg.objectweb.asm.ClassReader.accept(ClassReader.java:424)    at\norg.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336)     at\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\nat\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\nat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\nat\norg.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.base/java.lang.Thread.run(Thread.java:833)</p>\n</blockquote>\n"},{"tags":["java","batch-file","process","processbuilder"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682031465,"post_id":76068727,"comment_id":134156105,"body_markdown":"Might be an idea to post the *full* stack trace in the question (formatted as code). Is there anything in that error log? Why are you closing the process streams? You shouldn&#39;t be doing. Those streams are taken care of by the redirects","body":"Might be an idea to post the <i>full</i> stack trace in the question (formatted as code). Is there anything in that error log? Why are you closing the process streams? You shouldn&#39;t be doing. Those streams are taken care of by the redirects"},{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1682031708,"post_id":76068727,"comment_id":134156133,"body_markdown":"I have added the stak trace @g00se","body":"I have added the stak trace @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682032033,"post_id":76068727,"comment_id":134156168,"body_markdown":"`System.out.println(Files.exists(Path.of(scriptPath)));` tells you what?","body":"<code>System.out.println(Files.exists(Path.of(scriptPath)));</code> tells you what?"},{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1682032325,"post_id":76068727,"comment_id":134156204,"body_markdown":"true on both instances","body":"true on both instances"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682032505,"post_id":76068727,"comment_id":134156218,"body_markdown":"Are there any paths *inside* that batch file? Also, try `command = List.of(&quot;cmd.exe&quot;, &quot;/c&quot;, scriptPath);`","body":"Are there any paths <i>inside</i> that batch file? Also, try <code>command = List.of(&quot;cmd.exe&quot;, &quot;&#47;c&quot;, scriptPath);</code>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1682032513,"post_id":76068727,"comment_id":134156219,"body_markdown":"I don&#39;t think you can run a batch file directly, instead, you need to run it via a `cmd` context","body":"I don&#39;t think you can run a batch file directly, instead, you need to run it via a <code>cmd</code> context"},{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1682032652,"post_id":76068727,"comment_id":134156234,"body_markdown":"I tried including the List.of(&quot;cmd.exe&quot;, &quot;/c&quot;, scriptPath); still the same issue.\n@MadProgrammer I am able to run the first time, the issue comes when I execute it a second time or n number of times after the first time","body":"I tried including the List.of(&quot;cmd.exe&quot;, &quot;/c&quot;, scriptPath); still the same issue. @MadProgrammer I am able to run the first time, the issue comes when I execute it a second time or n number of times after the first time"},{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1682032733,"post_id":76068727,"comment_id":134156242,"body_markdown":"@g00se no there are no paths inside the batch file","body":"@g00se no there are no paths inside the batch file"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1682032881,"post_id":76068727,"comment_id":134156256,"body_markdown":"I wouldn&#39;t be doing `p.getInputStream().close(); p.getOutputStream().close(); p.getErrorStream().close();` - you shouldn&#39;t be ignoring the streams as some processes will stop running if the streams are filled. I&#39;m not sure you need `p.destory()` after the process has exited - you might only need it if `waitFor` returns before the process exits, so you should be checking it&#39;s state first","body":"I wouldn&#39;t be doing <code>p.getInputStream().close(); p.getOutputStream().close(); p.getErrorStream().close();</code> - you shouldn&#39;t be ignoring the streams as some processes will stop running if the streams are filled. I&#39;m not sure you need <code>p.destory()</code> after the process has exited - you might only need it if <code>waitFor</code> returns before the process exits, so you should be checking it&#39;s state first"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1682033001,"post_id":76068727,"comment_id":134156264,"body_markdown":"Well, I already mentioned about the closing of the streams. I hope that&#39;s been acted upon ;)","body":"Well, I already mentioned about the closing of the streams. I hope that&#39;s been acted upon ;)"},{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1682033076,"post_id":76068727,"comment_id":134156270,"body_markdown":"I actually added them to see if that was causing the error, meaning if the unclosed streams were causing this issue, but even when I removed it, it is still same case","body":"I actually added them to see if that was causing the error, meaning if the unclosed streams were causing this issue, but even when I removed it, it is still same case"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682033182,"post_id":76068727,"comment_id":134156284,"body_markdown":"*But when I run the api for the second time without bouncing the application* What do those last three words mean?","body":"<i>But when I run the api for the second time without bouncing the application</i> What do those last three words mean?"},{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1682033202,"post_id":76068727,"comment_id":134156286,"body_markdown":"Modified the question with the changes you mentioned","body":"Modified the question with the changes you mentioned"},{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1682033257,"post_id":76068727,"comment_id":134156292,"body_markdown":"Bouncing the application - restarting the application, stop and start the entire jar or java applicaiton, if you may","body":"Bouncing the application - restarting the application, stop and start the entire jar or java applicaiton, if you may"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682033374,"post_id":76068727,"comment_id":134156304,"body_markdown":"You will probably *need* to stop the app each time fully before each run - Java has a habit of locking files","body":"You will probably <i>need</i> to stop the app each time fully before each run - Java has a habit of locking files"},{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1682033473,"post_id":76068727,"comment_id":134156315,"body_markdown":"thats strange, is there a way to release the lock without stopping the application?","body":"thats strange, is there a way to release the lock without stopping the application?"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1682033739,"post_id":76068727,"comment_id":134156346,"body_markdown":"That stack trace seems to point to the standard output as the problem, not the batch file, no?","body":"That stack trace seems to point to the standard output as the problem, not the batch file, no?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682034575,"post_id":76068727,"comment_id":134156443,"body_markdown":"*thats strange, is there a way to release the lock without stopping the application?* Not saying that&#39;s definitely the case, but I definitely would terminate each time. There&#39;s also locking of redirect files to consider. Does it work then if you do? *That stack trace seems to point to the standard output as the problem, not the batch file, no?* Possibly. Check those log file (redirect) paths are OK","body":"<i>thats strange, is there a way to release the lock without stopping the application?</i> Not saying that&#39;s definitely the case, but I definitely would terminate each time. There&#39;s also locking of redirect files to consider. Does it work then if you do? <i>That stack trace seems to point to the standard output as the problem, not the batch file, no?</i> Possibly. Check those log file (redirect) paths are OK"},{"owner":{"account_id":2440205,"reputation":77906,"user_id":2128947,"display_name":"Magoo"},"score":0,"creation_date":1682040051,"post_id":76068727,"comment_id":134157024,"body_markdown":"[I know no java] Does anything actually *terminate* the batch?","body":"[I know no java] Does anything actually <i>terminate</i> the batch?"},{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1682087795,"post_id":76068727,"comment_id":134165329,"body_markdown":"The redirect paths are fine too @g00se","body":"The redirect paths are fine too @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682088928,"post_id":76068727,"comment_id":134165570,"body_markdown":"OK that&#39;s good, but those files might be locked, making it impossible to write to them from another process at the same time. You can test that hypothesis by generating unique redirect file names. If it then works as expected, then the stderr and/or the stdout files were the only ones locked (i.e. not the batch file)","body":"OK that&#39;s good, but those files might be locked, making it impossible to write to them from another process at the same time. You can test that hypothesis by generating unique redirect file names. If it then works as expected, then the stderr and/or the stdout files were the only ones locked (i.e. not the batch file)"}],"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682033175,"creation_date":1682030892,"question_id":76068727,"body_markdown":"I am trying to run a batch file from my java application using Processbuilder and using an api to call this Processbuilder. When I run the api for the first time the Processbuilder is able to locate the batch file and then it is doing the intended actions. But when I run the api for the second time without bouncing the application, I am getting an IO Exception:\r\n\r\n    java.io.IOException: Cannot run program &quot;I:/test/test.bat&quot;: The system cannot find the path specified\r\n\r\nThis is how my code looks\r\nService layer:\r\n    \r\n    @Override\r\n    public String submitRequest() {\r\n        List&lt;String&gt; command = new ArrayList&lt;&gt;();\r\n        String scriptPath = &quot;I:\\\\test\\\\test.bat&quot;;\r\n        command.add(scriptPath);\r\n        int exitCode= runCommandWithLog(logFilePath,command);\r\n    }\r\n\r\n     public int runCommandWithLog(String logFile, List&lt;String&gt; command)  {\r\n        int exitCode = -1;\r\n        try{\r\n             logger.info(&quot;Running the batch file located at {}&quot;, command.get(0));\r\n            logger.info(String.valueOf(Files.exists(Path.of(scriptPath))));\r\n            ProcessBuilder pb =  new ProcessBuilder(command)\r\n                    .redirectOutput(ProcessBuilder.Redirect.appendTo(new File(logFile + &quot;.log&quot;)))\r\n                    .redirectError( ProcessBuilder.Redirect.appendTo(new File(logFile + &quot;.err&quot;)));\r\n\r\n            Process p = pb.start();\r\n            logger.info(&quot;Starting the batch file with the logger function&quot;);\r\n            p.waitFor(15, TimeUnit.MINUTES);\r\n            exitCode = p.exitValue();\r\n            logger.info(&quot;Process has been destroyed&quot;);\r\n            logger.info(&quot;Exit Code for the Execution {}&quot; ,exitCode);        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n        return exitCode;\r\n    }\r\n\r\n\r\n\r\nPS stack Trace: \r\n\r\n    java.io.IOException: Cannot run program &quot;I:/test/test.bat&quot;: The system cannot find the path specified\r\n    \tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1128)\r\n    \tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1071)\r\n    \tat com.jpmc.ct.tcio.securities.service.impl.ShellSeriveImpl.runCommandWithLog(ShellSeriveImpl.java:90)\r\n    \tat com.jpmc.ct.tcio.securities.service.impl.ShellSeriveImpl$ConsumerWorkerThread.run(ShellSeriveImpl.java:141)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    \tat java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: java.io.IOException: The system cannot find the path specified\r\n    \tat java.base/java.lang.ProcessImpl.openForAtomicAppend(Native Method)\r\n    \tat java.base/java.lang.ProcessImpl.newFileOutputStream(ProcessImpl.java:81)\r\n    \tat java.base/java.lang.ProcessImpl.start(ProcessImpl.java:135)\r\n    \tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1107)\r\n    \t... 9 more\r\n\r\n","title":"ProcessBuilder Throwing IO Exception when executing a batch file more than once","body":"<p>I am trying to run a batch file from my java application using Processbuilder and using an api to call this Processbuilder. When I run the api for the first time the Processbuilder is able to locate the batch file and then it is doing the intended actions. But when I run the api for the second time without bouncing the application, I am getting an IO Exception:</p>\n<pre><code>java.io.IOException: Cannot run program &quot;I:/test/test.bat&quot;: The system cannot find the path specified\n</code></pre>\n<p>This is how my code looks\nService layer:</p>\n<pre><code>@Override\npublic String submitRequest() {\n    List&lt;String&gt; command = new ArrayList&lt;&gt;();\n    String scriptPath = &quot;I:\\\\test\\\\test.bat&quot;;\n    command.add(scriptPath);\n    int exitCode= runCommandWithLog(logFilePath,command);\n}\n\n public int runCommandWithLog(String logFile, List&lt;String&gt; command)  {\n    int exitCode = -1;\n    try{\n         logger.info(&quot;Running the batch file located at {}&quot;, command.get(0));\n        logger.info(String.valueOf(Files.exists(Path.of(scriptPath))));\n        ProcessBuilder pb =  new ProcessBuilder(command)\n                .redirectOutput(ProcessBuilder.Redirect.appendTo(new File(logFile + &quot;.log&quot;)))\n                .redirectError( ProcessBuilder.Redirect.appendTo(new File(logFile + &quot;.err&quot;)));\n\n        Process p = pb.start();\n        logger.info(&quot;Starting the batch file with the logger function&quot;);\n        p.waitFor(15, TimeUnit.MINUTES);\n        exitCode = p.exitValue();\n        logger.info(&quot;Process has been destroyed&quot;);\n        logger.info(&quot;Exit Code for the Execution {}&quot; ,exitCode);        }catch (Exception e){\n        e.printStackTrace();\n    }\n    return exitCode;\n}\n</code></pre>\n<p>PS stack Trace:</p>\n<pre><code>java.io.IOException: Cannot run program &quot;I:/test/test.bat&quot;: The system cannot find the path specified\n    at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1128)\n    at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1071)\n    at com.jpmc.ct.tcio.securities.service.impl.ShellSeriveImpl.runCommandWithLog(ShellSeriveImpl.java:90)\n    at com.jpmc.ct.tcio.securities.service.impl.ShellSeriveImpl$ConsumerWorkerThread.run(ShellSeriveImpl.java:141)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.io.IOException: The system cannot find the path specified\n    at java.base/java.lang.ProcessImpl.openForAtomicAppend(Native Method)\n    at java.base/java.lang.ProcessImpl.newFileOutputStream(ProcessImpl.java:81)\n    at java.base/java.lang.ProcessImpl.start(ProcessImpl.java:135)\n    at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1107)\n    ... 9 more\n</code></pre>\n"},{"tags":["java","jsoup","java-11"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1681932380,"post_id":76057585,"comment_id":134138387,"body_markdown":"Your question is almost impossible to understand because you have written HTML in it, but you have not surrounded that HTML with backticks. I changed the first one for you, so you can see what I mean. It&#39;s the difference between the HTML being displayed in the question and not displayed at all: _I need to set `&lt;a&gt;` tag..._","body":"Your question is almost impossible to understand because you have written HTML in it, but you have not surrounded that HTML with backticks. I changed the first one for you, so you can see what I mean. It&#39;s the difference between the HTML being displayed in the question and not displayed at all: <i>I need to set <code>&lt;a&gt;</code> tag...</i>"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1681932496,"post_id":76057585,"comment_id":134138408,"body_markdown":"Also, what have you tried? Show us your Jsoup attempt.","body":"Also, what have you tried? Show us your Jsoup attempt."}],"answers":[{"tags":[],"owner":{"account_id":10389625,"reputation":2881,"user_id":9889778,"display_name":"Krystian G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682031149,"creation_date":1682031149,"answer_id":76068741,"question_id":76057585,"body_markdown":"```\r\nElements elements = doc.select(&quot;h2&quot;);\r\nfor (Element element : elements) {\r\n\tElement firstChild = element.child(0);\r\n\tif (firstChild.tagName().equals(&quot;a&quot;) &amp;&amp; firstChild.attr(&quot;id&quot;).isEmpty()) {\r\n\t\tfirstChild.attr(&quot;id&quot;, &quot;heading1&quot;);\r\n\t} else {\r\n\t\tfirstChild.wrap(&quot;&lt;a id=\\&quot;heading1\\&quot;&gt;&quot;);\r\n\t}\r\n}","title":"Using JSOUP How to Extract all elements from one tag &amp; add in another tag?","body":"<pre><code>Elements elements = doc.select(&quot;h2&quot;);\nfor (Element element : elements) {\n    Element firstChild = element.child(0);\n    if (firstChild.tagName().equals(&quot;a&quot;) &amp;&amp; firstChild.attr(&quot;id&quot;).isEmpty()) {\n        firstChild.attr(&quot;id&quot;, &quot;heading1&quot;);\n    } else {\n        firstChild.wrap(&quot;&lt;a id=\\&quot;heading1\\&quot;&gt;&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2479898,"reputation":1010,"user_id":2159573,"accept_rate":33,"display_name":"Saurabhcdt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76068741,"answer_count":1,"score":0,"last_activity_date":1682031149,"creation_date":1681927372,"question_id":76057585,"body_markdown":"I need to set `&lt;a&gt;` tag to all `&lt;h2&gt;` tags in the document. Document contains few `&lt;h2&gt;` tags with `&lt;a&gt;` tags &amp; few are without `&lt;a&gt;` tag.\r\n\r\nI need to:\r\n1. If `&lt;h2&gt;` has `&lt;a&gt;` tag then, check if it has `id`. if it&#39;s not there then set the `id`\r\n2. If `&lt;h2&gt;` tag donesn&#39;t have `&lt;a&gt;` tag then add `&lt;a&gt;` tag in `&lt;h2&gt;`\r\n\r\ne.g. if original HTML is like this:\r\nCase 1:\r\n```\r\n&lt;h2&gt;&lt;a href=&quot;#headingABC&quot;&gt;&lt;span style=&quot;color:#009bd2;&quot;&gt;My Heading ABC&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\r\n```\r\nThen, change it to (add id):\r\n```\r\n&lt;h2&gt;&lt;a id=&quot;heading1&quot; href=&quot;#headingXYZ&quot;&gt;&lt;span style=&quot;color:#009bd2;&quot;&gt;My Heading ABC&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\r\n```\r\n\r\ncase 2:\r\n```\r\n&lt;h2&gt;&lt;span style=&quot;color:#009bd2;&quot;&gt;My Heading ABC&lt;/span&gt;&lt;/h2&gt;\r\n```\r\nThen, change it to (add a tag by moving all elements in `h2` inside `a`):\r\n```\r\n&lt;h2&gt;&lt;a id=&quot;heading1&quot;&gt;&lt;span style=&quot;color:#009bd2;&quot;&gt;My Heading ABC&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\r\n```\r\n\r\nHow can I achieve this using JSOUP in Java (version 11).","title":"Using JSOUP How to Extract all elements from one tag &amp; add in another tag?","body":"<p>I need to set <code>&lt;a&gt;</code> tag to all <code>&lt;h2&gt;</code> tags in the document. Document contains few <code>&lt;h2&gt;</code> tags with <code>&lt;a&gt;</code> tags &amp; few are without <code>&lt;a&gt;</code> tag.</p>\n<p>I need to:</p>\n<ol>\n<li>If <code>&lt;h2&gt;</code> has <code>&lt;a&gt;</code> tag then, check if it has <code>id</code>. if it's not there then set the <code>id</code></li>\n<li>If <code>&lt;h2&gt;</code> tag donesn't have <code>&lt;a&gt;</code> tag then add <code>&lt;a&gt;</code> tag in <code>&lt;h2&gt;</code></li>\n</ol>\n<p>e.g. if original HTML is like this:\nCase 1:</p>\n<pre><code>&lt;h2&gt;&lt;a href=&quot;#headingABC&quot;&gt;&lt;span style=&quot;color:#009bd2;&quot;&gt;My Heading ABC&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n</code></pre>\n<p>Then, change it to (add id):</p>\n<pre><code>&lt;h2&gt;&lt;a id=&quot;heading1&quot; href=&quot;#headingXYZ&quot;&gt;&lt;span style=&quot;color:#009bd2;&quot;&gt;My Heading ABC&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n</code></pre>\n<p>case 2:</p>\n<pre><code>&lt;h2&gt;&lt;span style=&quot;color:#009bd2;&quot;&gt;My Heading ABC&lt;/span&gt;&lt;/h2&gt;\n</code></pre>\n<p>Then, change it to (add a tag by moving all elements in <code>h2</code> inside <code>a</code>):</p>\n<pre><code>&lt;h2&gt;&lt;a id=&quot;heading1&quot;&gt;&lt;span style=&quot;color:#009bd2;&quot;&gt;My Heading ABC&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n</code></pre>\n<p>How can I achieve this using JSOUP in Java (version 11).</p>\n"},{"tags":["java","spring","spring-annotations"],"answers":[{"tags":[],"owner":{"account_id":1428179,"reputation":1072,"user_id":1351202,"display_name":"nosebrain"},"down_vote_count":8,"up_vote_count":88,"is_accepted":true,"score":80,"last_activity_date":1345142851,"creation_date":1345142851,"answer_id":11993545,"question_id":11991194,"body_markdown":"You must set the nullValue of the [PropertyPlaceholderConfigurer][1]. For the example I&#39;m using the string `@null` but you can also use the empty string as nullValue.\r\n\r\n    &lt;bean id=&quot;propertyConfigurer&quot; class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n    \t&lt;!-- config the location(s) of the properties file(s) here --&gt;\r\n    \t&lt;property name=&quot;nullValue&quot; value=&quot;@null&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\nNow you can use the string `@null` to represent the `null` value\r\n\r\n    @Value(&quot;${stuff.value:@null}&quot;)\r\n    private String value;\r\n\r\nPlease note: The context name space doesn&#39;t support the null value at the moment. You can&#39;t use\r\n\r\n    &lt;context:property-placeholder null-value=&quot;@null&quot; ... /&gt;\r\n\r\nTested with Spring 3.1.1\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/beans/factory/config/PropertyPlaceholderConfigurer.html#setNullValue%28java.lang.String%29","title":"Can I set null as the default value for a @Value in Spring?","body":"<p>You must set the nullValue of the <a href=\"http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/beans/factory/config/PropertyPlaceholderConfigurer.html#setNullValue%28java.lang.String%29\">PropertyPlaceholderConfigurer</a>. For the example I'm using the string <code>@null</code> but you can also use the empty string as nullValue.</p>\n\n<pre><code>&lt;bean id=\"propertyConfigurer\" class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n    &lt;!-- config the location(s) of the properties file(s) here --&gt;\n    &lt;property name=\"nullValue\" value=\"@null\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Now you can use the string <code>@null</code> to represent the <code>null</code> value</p>\n\n<pre><code>@Value(\"${stuff.value:@null}\")\nprivate String value;\n</code></pre>\n\n<p>Please note: The context name space doesn't support the null value at the moment. You can't use</p>\n\n<pre><code>&lt;context:property-placeholder null-value=\"@null\" ... /&gt;\n</code></pre>\n\n<p>Tested with Spring 3.1.1</p>\n"},{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1345470973,"creation_date":1345150524,"answer_id":11995288,"question_id":11991194,"body_markdown":"I give @nosebrain credit as I did not know about &quot;null-value&quot; but I prefer to avoid using null values altogether particularly since its difficult to represent `null` in a properties file.\r\n\r\nBut here is an alternative using null with out `null-value` so it will work with what ever property placeholder.\r\n\r\n    public class MyObject {\r\n    \r\n       private String value;\r\n    \r\n       @Value(&quot;${stuff.value:@null}&quot;)\r\n       public void setValue(String value) {\r\n          if (&quot;@null&quot;.equals(value)) this.value = null;\r\n          else this.value = value;\r\n       }\r\n    }\r\n\r\nPersonally I prefer my way because maybe later on you want `stuff.value` to be a Comma-separated-value or perhaps to Enum the switch is easier. Its also easier to unit test :)\r\n\r\n**EDIT: based on your comments on using enums and my opinion of not using null.**\r\n\r\n    @Component\r\n    public class MyObject {\r\n    \r\n    \t@Value(&quot;${crap:NOTSET}&quot;)\r\n    \tprivate Crap crap;\r\n    \t\r\n    \tpublic enum Crap {\r\n    \t\tNOTSET,\r\n    \t\tBLAH;\r\n    \t}\r\n    }\r\n\r\n\r\nThe above works fine for me. You avoid null. If your property files want to explicit set that they don&#39;t want to handle it then you do (*but you don&#39;t even have to specify this as it will default to NOTSET*).\r\n\r\n    crap=NOTSET\r\n\r\n`null` is very bad and is different than `NOTSET`. It means spring or unit test did not set it which is why there is IMHO a difference. I still would probably use the setter notation (previous example) as its easier to unit test (private variables are hard to set in a unit test).\r\n\r\n","title":"Can I set null as the default value for a @Value in Spring?","body":"<p>I give @nosebrain credit as I did not know about \"null-value\" but I prefer to avoid using null values altogether particularly since its difficult to represent <code>null</code> in a properties file.</p>\n\n<p>But here is an alternative using null with out <code>null-value</code> so it will work with what ever property placeholder.</p>\n\n<pre><code>public class MyObject {\n\n   private String value;\n\n   @Value(\"${stuff.value:@null}\")\n   public void setValue(String value) {\n      if (\"@null\".equals(value)) this.value = null;\n      else this.value = value;\n   }\n}\n</code></pre>\n\n<p>Personally I prefer my way because maybe later on you want <code>stuff.value</code> to be a Comma-separated-value or perhaps to Enum the switch is easier. Its also easier to unit test :)</p>\n\n<p><strong>EDIT: based on your comments on using enums and my opinion of not using null.</strong></p>\n\n<pre><code>@Component\npublic class MyObject {\n\n    @Value(\"${crap:NOTSET}\")\n    private Crap crap;\n\n    public enum Crap {\n        NOTSET,\n        BLAH;\n    }\n}\n</code></pre>\n\n<p>The above works fine for me. You avoid null. If your property files want to explicit set that they don't want to handle it then you do (<em>but you don't even have to specify this as it will default to NOTSET</em>).</p>\n\n<pre><code>crap=NOTSET\n</code></pre>\n\n<p><code>null</code> is very bad and is different than <code>NOTSET</code>. It means spring or unit test did not set it which is why there is IMHO a difference. I still would probably use the setter notation (previous example) as its easier to unit test (private variables are hard to set in a unit test).</p>\n"},{"tags":[],"owner":{"account_id":2911666,"reputation":4689,"user_id":2495717,"accept_rate":88,"display_name":"ben3000"},"down_vote_count":0,"up_vote_count":341,"is_accepted":false,"score":341,"last_activity_date":1682030985,"creation_date":1447397239,"answer_id":33687265,"question_id":11991194,"body_markdown":"This is really old, but you can use Spring EL now, e.g.\r\n\r\n```java\r\n@Value(&quot;${stuff.value:#{null}}&quot;)\r\nprivate String stuffValue;\r\n```\r\n\r\nSee [this question][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16735141/specify-default-property-value-as-null-in-spring","title":"Can I set null as the default value for a @Value in Spring?","body":"<p>This is really old, but you can use Spring EL now, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;${stuff.value:#{null}}&quot;)\nprivate String stuffValue;\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/questions/16735141/specify-default-property-value-as-null-in-spring\">this question</a>.</p>\n"},{"tags":[],"owner":{"account_id":5396455,"reputation":5608,"user_id":4297539,"accept_rate":69,"display_name":"Siberia"},"down_vote_count":1,"up_vote_count":91,"is_accepted":false,"score":90,"last_activity_date":1501486383,"creation_date":1501486019,"answer_id":45409766,"question_id":11991194,"body_markdown":"Thanks to @vorburger:\r\n\r\n    @Value(&quot;${email.protocol:#{null}}&quot;)\r\n    String protocol;\r\n\r\nwill set the string value at **null** without any other configurations. ","title":"Can I set null as the default value for a @Value in Spring?","body":"<p>Thanks to @vorburger:</p>\n\n<pre><code>@Value(\"${email.protocol:#{null}}\")\nString protocol;\n</code></pre>\n\n<p>will set the string value at <strong>null</strong> without any other configurations. </p>\n"},{"tags":[],"owner":{"account_id":3845428,"reputation":2373,"user_id":3187132,"display_name":"ylev"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1592310758,"creation_date":1592310758,"answer_id":62408593,"question_id":11991194,"body_markdown":"In case you need to inject an empty (0 length) &quot;&quot; string as @Value default - use SPEL (spring expression language) as follows:\r\n\r\n    @Value(&quot;${index.suffix:#{&#39;&#39;}}&quot;) \r\n    private String indexSuffix;\r\n\r\n   #{&#39;&#39;} just gets you an empty string as injected @Value&#39;s default.\r\n\r\nby yl","title":"Can I set null as the default value for a @Value in Spring?","body":"<p>In case you need to inject an empty (0 length) \"\" string as @Value default - use SPEL (spring expression language) as follows:</p>\n\n<pre><code>@Value(\"${index.suffix:#{''}}\") \nprivate String indexSuffix;\n</code></pre>\n\n<p>#{''} just gets you an empty string as injected @Value's default.</p>\n\n<p>by yl</p>\n"}],"owner":{"account_id":1185645,"reputation":2151,"user_id":1159684,"accept_rate":86,"display_name":"Kevin Schmidt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147594,"favorite_count":0,"down_vote_count":0,"up_vote_count":165,"accepted_answer_id":11993545,"answer_count":5,"score":165,"last_activity_date":1682030985,"creation_date":1345132840,"question_id":11991194,"body_markdown":"I&#39;m currently using the @Value Spring 3.1.x annotation like this:\r\n\r\n    @Value(&quot;${stuff.value:}&quot;)\r\n    private String value;\r\n\r\nThis puts an empty String into the variable if the attribute is not present. I would like to have null as the default instead of an empty String. Of course I also want to avoid an error when the property stuff.value is not set.","title":"Can I set null as the default value for a @Value in Spring?","body":"<p>I'm currently using the @Value Spring 3.1.x annotation like this:</p>\n\n<pre><code>@Value(\"${stuff.value:}\")\nprivate String value;\n</code></pre>\n\n<p>This puts an empty String into the variable if the attribute is not present. I would like to have null as the default instead of an empty String. Of course I also want to avoid an error when the property stuff.value is not set.</p>\n"},{"tags":["java","android","fragment","onclicklistener"],"comments":[{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1681747996,"post_id":76035208,"comment_id":134103301,"body_markdown":"Please explain what &quot;The buttons should be responsive to clicking but its not.&quot; means. Have you attempted to debug your app to find the problem? https://developer.android.com/studio/debug","body":"Please explain what &quot;The buttons should be responsive to clicking but its not.&quot; means. Have you attempted to debug your app to find the problem? <a href=\"https://developer.android.com/studio/debug\" rel=\"nofollow noreferrer\">developer.android.com/studio/debug</a>"},{"owner":{"account_id":28151967,"reputation":1,"user_id":21513335,"display_name":"Ewan W"},"score":0,"creation_date":1681757647,"post_id":76035208,"comment_id":134105487,"body_markdown":"In the fragment_blank.xml there is a button label One.  If clicking was initiated on the button it would triggered the OnClickListener in BlankFragment.java and display the toast message saying  &quot;Y0U clicked da Button, INSIDE THE FRAGMENT!&quot;.   Right now it is not even triggering the OnClickListener after the One button was clicked.  I put breakpoints on the OnClick(View V) function inside of the OnClickListener in BlankFragment.java noting seem to trigger !?   Why is that ?  Please Advise.","body":"In the fragment_blank.xml there is a button label One.  If clicking was initiated on the button it would triggered the OnClickListener in BlankFragment.java and display the toast message saying  &quot;Y0U clicked da Button, INSIDE THE FRAGMENT!&quot;.   Right now it is not even triggering the OnClickListener after the One button was clicked.  I put breakpoints on the OnClick(View V) function inside of the OnClickListener in BlankFragment.java noting seem to trigger !?   Why is that ?  Please Advise."},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1681759017,"post_id":76035208,"comment_id":134105794,"body_markdown":"Your code looks fine. Does the `onCreateView` itself get triggered? How is your fragment created?","body":"Your code looks fine. Does the <code>onCreateView</code> itself get triggered? How is your fragment created?"},{"owner":{"account_id":28151967,"reputation":1,"user_id":21513335,"display_name":"Ewan W"},"score":0,"creation_date":1681766128,"post_id":76035208,"comment_id":134107076,"body_markdown":"The onCreateView in BlankFragment.java do not get triggered at all.  But the OnClick OnClickListener placed in the MainActivity.java will get triggered just fine.  My fragment was created by right clicked on the com.example.myclicky folder then New\\Fragment\\Fragment (Blank)","body":"The onCreateView in BlankFragment.java do not get triggered at all.  But the OnClick OnClickListener placed in the MainActivity.java will get triggered just fine.  My fragment was created by right clicked on the com.example.myclicky folder then New\\Fragment\\Fragment (Blank)"},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1681766579,"post_id":76035208,"comment_id":134107139,"body_markdown":"That&#39;s how you created the _file_. How do you create, instantiate, and add the Fragment to the Activity? https://developer.android.com/guide/fragments/create#add","body":"That&#39;s how you created the <i>file</i>. How do you create, instantiate, and add the Fragment to the Activity? <a href=\"https://developer.android.com/guide/fragments/create#add\" rel=\"nofollow noreferrer\">developer.android.com/guide/fragments/create#add</a>"},{"owner":{"account_id":28151967,"reputation":1,"user_id":21513335,"display_name":"Ewan W"},"score":0,"creation_date":1681956657,"post_id":76035208,"comment_id":134141508,"body_markdown":"In my original code I had a function called loadFragment that replaces the default activity_main layout with the fragment_blank layout. \nloadFragment is no longer used in my code.\n@SuppressLint(&quot;ResourceType&quot;)\npublic void loadFragment(Fragment fragment, Boolean bool) {\n    FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\n    transaction.replace(R.layout.activity_main, fragment);\n    if (bool)\n        transaction.addToBackStack(null);\n    transaction.commit();\n}","body":"In my original code I had a function called loadFragment that replaces the default activity_main layout with the fragment_blank layout.  loadFragment is no longer used in my code. @SuppressLint(&quot;ResourceType&quot;) public void loadFragment(Fragment fragment, Boolean bool) {     FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();     transaction.replace(R.layout.activity_main, fragment);     if (bool)         transaction.addToBackStack(null);     transaction.commit(); }"},{"owner":{"account_id":28151967,"reputation":1,"user_id":21513335,"display_name":"Ewan W"},"score":0,"creation_date":1681956691,"post_id":76035208,"comment_id":134141511,"body_markdown":"In my mainActivity.java  OnCreate()\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);              \n        loadFragment(new BlankFragment(), false);\n    }","body":"In my mainActivity.java  OnCreate()     @Override     protected void onCreate(Bundle savedInstanceState) {         super.onCreate(savedInstanceState);         setContentView(R.layout.activity_main);                       loadFragment(new BlankFragment(), false);     }"},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1681961001,"post_id":76035208,"comment_id":134141936,"body_markdown":"Please update your question instead of adding comments with code - it&#39;s extremely difficult to read.","body":"Please update your question instead of adding comments with code - it&#39;s extremely difficult to read."},{"owner":{"account_id":28151967,"reputation":1,"user_id":21513335,"display_name":"Ewan W"},"score":0,"creation_date":1682030762,"post_id":76035208,"comment_id":134156034,"body_markdown":"Code added to the code viewer.","body":"Code added to the code viewer."},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1682037358,"post_id":76035208,"comment_id":134156758,"body_markdown":"Review [the documentation for `replace()`](https://developer.android.com/reference/androidx/fragment/app/FragmentTransaction#replace(int,androidx.fragment.app.Fragment)) and compare that to what you&#39;re doing.","body":"Review <a href=\"https://developer.android.com/reference/androidx/fragment/app/FragmentTransaction#replace(int,androidx.fragment.app.Fragment)\" rel=\"nofollow noreferrer\">the documentation for <code>replace()</code></a> and compare that to what you&#39;re doing."}],"owner":{"account_id":28151967,"reputation":1,"user_id":21513335,"display_name":"Ewan W"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682030871,"creation_date":1681734886,"question_id":76035208,"body_markdown":"Am I missing something with the code ?\r\n\r\n&gt;         @Override\r\n&gt;         public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n&gt;                                  Bundle savedInstanceState) {\r\n&gt;             View view = inflater.inflate(R.layout.fragment_blank, container, false);\r\n&gt;             //btnButtonTwo = view.findViewById(R.id.btnOne2);\r\n&gt;             //btnButtonTwo.setOnClickListener(this);\r\n&gt;     \r\n&gt;     \r\n&gt;             btnButtonTwo = view.findViewById(R.id.btnOne2);\r\n&gt;             //btnButtonTwo.setEnabled(true);\r\n&gt;             btnButtonTwo.setOnClickListener(new View.OnClickListener() {\r\n&gt;                 @Override\r\n&gt;                 public void onClick(View v) {\r\n&gt;                     Toast.makeText(getActivity(), &quot;Y0U clicked da Button, INSIDE THE FRAGMENT!&quot;, Toast.LENGTH_LONG).show();\r\n&gt;                 }\r\n&gt;             });\r\n&gt;     return view;\r\n&gt;     }\r\n&gt;     \r\n&gt;     \r\n&gt;  [Fragment_blank.xml] \r\n&gt; \r\n&gt;     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; tools:context=&quot;.BlankFragment&quot;&gt;\r\n&gt;     &lt;!-- TODO: Update blank fragment layout --&gt;\r\n&gt;     &lt;TextView\r\n&gt;         android:layout_width=&quot;match_parent&quot;\r\n&gt;         android:layout_height=&quot;match_parent&quot;\r\n&gt;         android:text=&quot;@string/hello_blank_fragment&quot; &gt;\r\n&gt;     \r\n&gt;     &lt;LinearLayout\r\n&gt;         android:layout_width=&quot;match_parent&quot;\r\n&gt;         android:layout_height=&quot;match_parent&quot;\r\n&gt;         android:orientation=&quot;horizontal&quot;&gt;\r\n&gt;     \r\n&gt;         &lt;Button\r\n&gt;             android:id=&quot;@+id/btnOne2&quot;\r\n&gt;             android:layout_width=&quot;match_parent&quot;\r\n&gt;             android:layout_height=&quot;wrap_content&quot;\r\n&gt;             android:layout_weight=&quot;1&quot;\r\n&gt;             android:focusable=&quot;auto&quot;\r\n&gt;     \r\n&gt;             android:text=&quot;One&quot; /&gt;\r\n&gt;     &lt;/LinearLayout&gt;\r\n&gt;     &lt;/FrameLayout&gt;\r\n\r\nI extracted the OnClickListener code onto a separate app in an attempt to isolate the problems.   The buttons should be responsive to clicking but its not. I&#39;m not sure what is going on now!\r\nWorking project files is located here...\r\nhttps://github.com/potpori-code/clicky/MyOnClicky.zip\r\n\r\n    [MainActivity.java]\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            //setContentView(R.layout.activity_main);     \r\n            setContentView(R.layout.fragment_blank);     \r\n            loadFragment(new BlankFragment(), false);\r\n         }\r\n    \r\n    @SuppressLint(&quot;ResourceType&quot;)\r\n    public void loadFragment(Fragment fragment, Boolean bool) {\r\n        FragmentTransaction transaction = \r\n        getSupportFragmentManager().beginTransaction();\r\n        transaction.replace(R.layout.activity_main, fragment);\r\n        if (bool)\r\n            transaction.addToBackStack(null);\r\n        transaction.commit();\r\n        }\r\n\r\n","title":"Why is my OnClickListener not triggering in Android Fragment?","body":"<p>Am I missing something with the code ?</p>\n<blockquote>\n<pre><code>    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_blank, container, false);\n        //btnButtonTwo = view.findViewById(R.id.btnOne2);\n        //btnButtonTwo.setOnClickListener(this);\n\n\n        btnButtonTwo = view.findViewById(R.id.btnOne2);\n        //btnButtonTwo.setEnabled(true);\n        btnButtonTwo.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(getActivity(), &quot;Y0U clicked da Button, INSIDE THE FRAGMENT!&quot;, Toast.LENGTH_LONG).show();\n            }\n        });\nreturn view;\n}\n</code></pre>\n<p>[Fragment_blank.xml]</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; tools:context=&quot;.BlankFragment&quot;&gt;\n&lt;!-- TODO: Update blank fragment layout --&gt;\n&lt;TextView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:text=&quot;@string/hello_blank_fragment&quot; &gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnOne2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;1&quot;\n        android:focusable=&quot;auto&quot;\n\n        android:text=&quot;One&quot; /&gt;\n&lt;/LinearLayout&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n</blockquote>\n<p>I extracted the OnClickListener code onto a separate app in an attempt to isolate the problems.   The buttons should be responsive to clicking but its not. I'm not sure what is going on now!\nWorking project files is located here...\n<a href=\"https://github.com/potpori-code/clicky/MyOnClicky.zip\" rel=\"nofollow noreferrer\">https://github.com/potpori-code/clicky/MyOnClicky.zip</a></p>\n<pre><code>[MainActivity.java]\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        //setContentView(R.layout.activity_main);     \n        setContentView(R.layout.fragment_blank);     \n        loadFragment(new BlankFragment(), false);\n     }\n\n@SuppressLint(&quot;ResourceType&quot;)\npublic void loadFragment(Fragment fragment, Boolean bool) {\n    FragmentTransaction transaction = \n    getSupportFragmentManager().beginTransaction();\n    transaction.replace(R.layout.activity_main, fragment);\n    if (bool)\n        transaction.addToBackStack(null);\n    transaction.commit();\n    }\n</code></pre>\n"},{"tags":["java","android-studio","speech-to-text"],"answers":[{"tags":[],"owner":{"account_id":24627652,"reputation":124,"user_id":18527205,"display_name":"Defandi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647855071,"creation_date":1647855071,"answer_id":71555383,"question_id":71555162,"body_markdown":"I think it&#39;s better to improve the structure of the text from the speech delivered by stammer","title":"Speech to text modification","body":"<p>I think it's better to improve the structure of the text from the speech delivered by stammer</p>\n"},{"tags":[],"owner":{"account_id":24512067,"reputation":172,"user_id":18426258,"display_name":"MaxVK"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647933719,"creation_date":1647933719,"answer_id":71568227,"question_id":71555162,"body_markdown":"My first guess would be that you would have to analyze the time that a user spends producing each specific sound. For example, one S could be the &#39;s&#39; sound for half a second whereas two &#39;s&#39;s could be represented by the user producing the sound for one second. I understand that this is not completely accurate but best guess I can think of.","title":"Speech to text modification","body":"<p>My first guess would be that you would have to analyze the time that a user spends producing each specific sound. For example, one S could be the 's' sound for half a second whereas two 's's could be represented by the user producing the sound for one second. I understand that this is not completely accurate but best guess I can think of.</p>\n"},{"tags":[],"owner":{"account_id":13265922,"reputation":1,"user_id":20631704,"display_name":"TheDninoo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682029490,"creation_date":1682029490,"answer_id":76068644,"question_id":71555162,"body_markdown":"As someone who used a lot speech to text apis, What are you looking for is a little bit difficulte to acheive, however, there is a feature that can maybe help you. Depending on the provider you are using, try to look for `custom vocabulary`, it allow you to specify some words to keep in mind when transcribing the audio with a boosting value.\r\n\r\nhowever `Disfluencies`, I believe it&#39;s closely related to the provider you are using, some of them will completely remove filler workd like `assembly` except for some values, others like microsoft will give you many transcriptions, some of them with word disfluency&#39;s and others not. Please take a look at this link: [microsoft Disfluency removal][1]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/display-text-format?pivots=programming-language-csharp#disfluency-removal","title":"Speech to text modification","body":"<p>As someone who used a lot speech to text apis, What are you looking for is a little bit difficulte to acheive, however, there is a feature that can maybe help you. Depending on the provider you are using, try to look for <code>custom vocabulary</code>, it allow you to specify some words to keep in mind when transcribing the audio with a boosting value.</p>\n<p>however <code>Disfluencies</code>, I believe it's closely related to the provider you are using, some of them will completely remove filler workd like <code>assembly</code> except for some values, others like microsoft will give you many transcriptions, some of them with word disfluency's and others not. Please take a look at this link: <a href=\"https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/display-text-format?pivots=programming-language-csharp#disfluency-removal\" rel=\"nofollow noreferrer\">microsoft Disfluency removal</a></p>\n"}],"owner":{"account_id":21515829,"reputation":17,"user_id":15857730,"display_name":"StizzKizz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1682029490,"creation_date":1647853989,"question_id":71555162,"body_markdown":"Im working on a modified speech to text feature that should take in a users speech and convert it to text but I want the output text to be exactly what the user is saying. This means I want to detect word disfluencys such as stammers like sstttop and pppplease. Ive already written a Java program that does the speech to text but I need to know if its possible to modify it to detect speech disfluency. Any input and help would be much appreciated. ","title":"Speech to text modification","body":"<p>Im working on a modified speech to text feature that should take in a users speech and convert it to text but I want the output text to be exactly what the user is saying. This means I want to detect word disfluencys such as stammers like sstttop and pppplease. Ive already written a Java program that does the speech to text but I need to know if its possible to modify it to detect speech disfluency. Any input and help would be much appreciated.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681999410,"creation_date":1681999410,"answer_id":76064990,"question_id":76064418,"body_markdown":"When you do partition assignment, you don&#39;t deal with consumer groups. That&#39;s not related to to the problem, just to clarify things a bit.\r\n\r\nNow look into the logic of the `ConcurrentMessageListenerContainer`:\r\n\r\n\tTopicPartitionOffset[] topicPartitions = containerProperties.getTopicPartitions();\r\n\t\t\tif (topicPartitions != null &amp;&amp; this.concurrency &gt; topicPartitions.length) {\r\n\t\t\t\tthis.logger.warn(() -&gt; &quot;When specific partitions are provided, the concurrency must be less than or &quot;\r\n\t\t\t\t\t\t+ &quot;equal to the number of partitions; reduced from &quot; + this.concurrency + &quot; to &quot;\r\n\t\t\t\t\t\t+ topicPartitions.length);\r\n\t\t\t\tthis.concurrency = topicPartitions.length;\r\n\t\t\t}\r\n\t\t\tsetRunning(true);\r\n\r\n\t\t\tfor (int i = 0; i &lt; this.concurrency; i++) {\r\n\t\t\t\tKafkaMessageListenerContainer&lt;K, V&gt; container =\r\n\t\t\t\t\t\tconstructContainer(containerProperties, topicPartitions, i);\r\n\t\t\t\tconfigureChildContainer(i, container);\r\n\t\t\t\tif (isPaused()) {\r\n\t\t\t\t\tcontainer.pause();\r\n\t\t\t\t}\r\n\t\t\t\tcontainer.start();\r\n\t\t\t\tthis.containers.add(container);\r\n\t\t\t}\r\n\r\nSo, if `concurrency` is big enough (or better equal to the number of partitions), we create a target `KafkaMessageListenerContainer` for the specific partition.\r\nAnd since all of those `KafkaMessageListenerContainer` instances deal only with a single partition. So, your `listen()` method is going to receive a records batch only from one partition at a time. Therefore it is safe to call that `acknowledgement.acknowledge()` and it will be performed for this batch from a single partition. Your problem is only to configure `concurrency` as big enough to cover all the partition you assign.","title":"Committing offset for a particular partition of a topic using Acknowledgement in springboot","body":"<p>When you do partition assignment, you don't deal with consumer groups. That's not related to to the problem, just to clarify things a bit.</p>\n<p>Now look into the logic of the <code>ConcurrentMessageListenerContainer</code>:</p>\n<pre><code>TopicPartitionOffset[] topicPartitions = containerProperties.getTopicPartitions();\n        if (topicPartitions != null &amp;&amp; this.concurrency &gt; topicPartitions.length) {\n            this.logger.warn(() -&gt; &quot;When specific partitions are provided, the concurrency must be less than or &quot;\n                    + &quot;equal to the number of partitions; reduced from &quot; + this.concurrency + &quot; to &quot;\n                    + topicPartitions.length);\n            this.concurrency = topicPartitions.length;\n        }\n        setRunning(true);\n\n        for (int i = 0; i &lt; this.concurrency; i++) {\n            KafkaMessageListenerContainer&lt;K, V&gt; container =\n                    constructContainer(containerProperties, topicPartitions, i);\n            configureChildContainer(i, container);\n            if (isPaused()) {\n                container.pause();\n            }\n            container.start();\n            this.containers.add(container);\n        }\n</code></pre>\n<p>So, if <code>concurrency</code> is big enough (or better equal to the number of partitions), we create a target <code>KafkaMessageListenerContainer</code> for the specific partition.\nAnd since all of those <code>KafkaMessageListenerContainer</code> instances deal only with a single partition. So, your <code>listen()</code> method is going to receive a records batch only from one partition at a time. Therefore it is safe to call that <code>acknowledgement.acknowledge()</code> and it will be performed for this batch from a single partition. Your problem is only to configure <code>concurrency</code> as big enough to cover all the partition you assign.</p>\n"}],"owner":{"account_id":4418121,"reputation":21,"user_id":3599050,"display_name":"user3599050"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682029057,"creation_date":1681995971,"question_id":76064418,"body_markdown":"I am using Concurrentmessagelistenercontainer for consuming messages from kafka topic. since the consumer can be assigned multiple partitions from a topic within single consumer group. \r\n\r\n\r\n```\r\n@Configuration\r\n@EnableKafka\r\npublic class KafkaConfig {\r\n\r\n    @Bean\r\n    KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;Integer, String&gt;&gt;\r\n                        kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;Integer, String&gt; factory =\r\n                                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        factory.setConcurrency(3);\r\n        factory.getContainerProperties().setPollTimeout(3000);\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;Integer, String&gt; consumerFactory() {\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\r\n    }\r\n\r\n    @Bean\r\n    public Map&lt;String, Object&gt; consumerConfigs() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, embeddedKafka.getBrokersAsString());\r\n        ...\r\n        return props;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI want to commit offset of only particular partition for which processing was successful\r\n\r\n```\r\n@KafkaListener(id = &quot;thing2&quot;, topicPartitions =\r\n        { @TopicPartition(topic = &quot;topic1&quot;, partitions = { &quot;0&quot;, &quot;1&quot; }),\r\n          @TopicPartition(topic = &quot;topic2&quot;, partitions = &quot;0&quot;,\r\n             partitionOffsets = @PartitionOffset(partition = &quot;1&quot;, initialOffset = &quot;100&quot;))\r\n        })\r\npublic void listen(List&lt;ConsumerRecord&lt;String, String&gt; records, Acknowledgement acknowledgement) {\r\n   Map&lt;TopicPartition, List&lt;ConsumerRecord&gt;&gt; records = ....\r\n     \r\n     acknowledgement.acknowledge();\r\n    ...\r\n}\r\n\r\n```\r\nAcknowledgement does not provides option to specify partition for which we needs to commit offset. It will by default  commit offset for all the partitions. Is there any way we can achieve it?\r\n\r\nI tried to look into spring kafka documentation \r\n[https://docs.spring.io/spring-kafka/api/org/springframework/kafka/support/Acknowledgment.html\r\n](https://docs.spring.io/spring-kafka/api/org/springframework/kafka/support/Acknowledgment.html)\r\n\r\nthere is no provision of providing partition number for committing the offset.","title":"Committing offset for a particular partition of a topic using Acknowledgement in springboot","body":"<p>I am using Concurrentmessagelistenercontainer for consuming messages from kafka topic. since the consumer can be assigned multiple partitions from a topic within single consumer group.</p>\n<pre><code>@Configuration\n@EnableKafka\npublic class KafkaConfig {\n\n    @Bean\n    KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;Integer, String&gt;&gt;\n                        kafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;Integer, String&gt; factory =\n                                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        factory.setConcurrency(3);\n        factory.getContainerProperties().setPollTimeout(3000);\n        return factory;\n    }\n\n    @Bean\n    public ConsumerFactory&lt;Integer, String&gt; consumerFactory() {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\n    }\n\n    @Bean\n    public Map&lt;String, Object&gt; consumerConfigs() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, embeddedKafka.getBrokersAsString());\n        ...\n        return props;\n    }\n}\n\n</code></pre>\n<p>I want to commit offset of only particular partition for which processing was successful</p>\n<pre><code>@KafkaListener(id = &quot;thing2&quot;, topicPartitions =\n        { @TopicPartition(topic = &quot;topic1&quot;, partitions = { &quot;0&quot;, &quot;1&quot; }),\n          @TopicPartition(topic = &quot;topic2&quot;, partitions = &quot;0&quot;,\n             partitionOffsets = @PartitionOffset(partition = &quot;1&quot;, initialOffset = &quot;100&quot;))\n        })\npublic void listen(List&lt;ConsumerRecord&lt;String, String&gt; records, Acknowledgement acknowledgement) {\n   Map&lt;TopicPartition, List&lt;ConsumerRecord&gt;&gt; records = ....\n     \n     acknowledgement.acknowledge();\n    ...\n}\n\n</code></pre>\n<p>Acknowledgement does not provides option to specify partition for which we needs to commit offset. It will by default  commit offset for all the partitions. Is there any way we can achieve it?</p>\n<p>I tried to look into spring kafka documentation\n<a href=\"https://docs.spring.io/spring-kafka/api/org/springframework/kafka/support/Acknowledgment.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/api/org/springframework/kafka/support/Acknowledgment.html\n</a></p>\n<p>there is no provision of providing partition number for committing the offset.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1682028184,"post_id":76068362,"comment_id":134155692,"body_markdown":"https://www.geeksforgeeks.org/find-distinct-subsets-given-set/. https://www.youtube.com/watch?v=wpWGDHmpbgA. I found those links in a fraction of the the time it&#39;d have taken to formulate this question. HTH.","body":"<a href=\"https://www.geeksforgeeks.org/find-distinct-subsets-given-set/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/find-distinct-subsets-given-set</a>. <a href=\"https://www.youtube.com/watch?v=wpWGDHmpbgA\" rel=\"nofollow noreferrer\">youtube.com/watch?v=wpWGDHmpbgA</a>. I found those links in a fraction of the the time it&#39;d have taken to formulate this question. HTH."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1682029377,"post_id":76068362,"comment_id":134155850,"body_markdown":"Per the link you cited, a &quot;mask&quot; is simply a string of boolean true/false values indicating whether or not that particular set is present.  It&#39;s a [bitmask](https://en.wikipedia.org/wiki/Mask_(computing)).  You can set, clear and check mask values using the Java [boolean operators](https://www.freejavaguide.com/boolean_operators.htm).","body":"Per the link you cited, a &quot;mask&quot; is simply a string of boolean true/false values indicating whether or not that particular set is present.  It&#39;s a <a href=\"https://en.wikipedia.org/wiki/Mask_(computing)\" rel=\"nofollow noreferrer\">bitmask</a>.  You can set, clear and check mask values using the Java <a href=\"https://www.freejavaguide.com/boolean_operators.htm\" rel=\"nofollow noreferrer\">boolean operators</a>."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1682029485,"post_id":76068362,"comment_id":134155866,"body_markdown":"@AbhijitSarkar The problem is author of the link doesn&#39;t understand what a mask is, so little surprise that you don&#39;t. What&#39;s described there is *not* a mask, but rather an *array* of boolean values that is used to keep track of which values are in a set: You first sort the elements in a list. Then each location in the sorted list corresponds to the same location in the boolean array, which indicates if the element has been used. When generating the subsets, you update the array when you add an element, but first you check if it&#39;s already true and if so abort that branch early.","body":"@AbhijitSarkar The problem is author of the link doesn&#39;t understand what a mask is, so little surprise that you don&#39;t. What&#39;s described there is <i>not</i> a mask, but rather an <i>array</i> of boolean values that is used to keep track of which values are in a set: You first sort the elements in a list. Then each location in the sorted list corresponds to the same location in the boolean array, which indicates if the element has been used. When generating the subsets, you update the array when you add an element, but first you check if it&#39;s already true and if so abort that branch early."},{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1682035050,"post_id":76068362,"comment_id":134156491,"body_markdown":"What pointless microoptimization! Trying to squezze subsets into a single machine word to save a couple bytes of storage, but using a dreadfully inefficient algorithm, which, by generating all subsets, requires O(2^n) operations to emit (n choose r) &lt; O(n^r) subsets. If you wish to optimize, perhaps start by not iterating over subsets you could not possibly need? A decently efficient algorithm can be found on my answer to https://stackoverflow.com/questions/4504974/how-to-iteratively-generate-k-elements-subsets-from-a-set-of-size-n-in-java","body":"What pointless microoptimization! Trying to squezze subsets into a single machine word to save a couple bytes of storage, but using a dreadfully inefficient algorithm, which, by generating all subsets, requires O(2^n) operations to emit (n choose r) &lt; O(n^r) subsets. If you wish to optimize, perhaps start by not iterating over subsets you could not possibly need? A decently efficient algorithm can be found on my answer to <a href=\"https://stackoverflow.com/questions/4504974/how-to-iteratively-generate-k-elements-subsets-from-a-set-of-size-n-in-java\" title=\"how to iteratively generate k elements subsets from a set of size n in java\">stackoverflow.com/questions/4504974/&hellip;</a>"},{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1682035515,"post_id":76068362,"comment_id":134156533,"body_markdown":"Just as an example how bad your instructor&#39;s approach is: If |S| = 30 and r = 5, their code iterates 1073741824 subsets to emit 142506.","body":"Just as an example how bad your instructor&#39;s approach is: If |S| = 30 and r = 5, their code iterates 1073741824 subsets to emit 142506."}],"answers":[{"tags":[],"owner":{"account_id":17823878,"reputation":1064,"user_id":12945569,"display_name":"Fr&#233;d&#233;ric LOYER"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682028956,"creation_date":1682026976,"answer_id":76068474,"question_id":76068362,"body_markdown":"The idea about the mask is to associate each set a number whose each bit indicates if the corresponding order is in the set. \r\n\r\nThen the set {} is coded 0. The set {0} is coded 1, the set {1} is coded 2, set set {0,1} is coded 1+2=3. \r\n\r\nWith this scheme you add easily a number to a set:\r\n\r\n```\r\ns = s | 1&lt;&lt;number;\r\n```\r\n\r\nYou can also test the membership of a number in a set:\r\n\r\n```\r\nif (s &amp; 1&lt;&lt;number != 0)\r\n   System.out.println(&quot;number is in set&quot;);\r\n```\r\n\r\nThe `&lt;&lt;` notation indicates a number (here 1) whose the bits are shift in a given amount.\r\n\r\nUsing a mask for sets is very efficient: the `|`, `&amp;` and `&lt;&lt;` operators are built in the processor. But it is limited by the number of bits in the CPU registers. \r\n\r\nIn your example, you can type something like this:\r\n```\r\nfor(int set=0; set&lt; (1&lt;&lt;S); s++)\r\n{\r\n   // count the number of items\r\n   int n=0;\r\n   for(int i=0;i&lt;S;i++)\r\n      if(set &amp; 1&lt;&lt;i != 0)\r\n         n++;\r\n   // if the number of item match r\r\n   // print the set\r\n   if(n==r)\r\n   {\r\n      for(int i=0;i&lt;S;i++)\r\n         if(set &amp; 1&lt;&lt;i != 0)\r\n            System.out.print(arr[i]);\r\n      System.out.println();\r\n    }\r\n}\r\n```\r\n\r\nNote, here 1 &lt;&lt; n code the set `arr[n]` and not n. Then S must be inferior to the size of your cpu registers, but arr are not so much limited. ","title":"Write a Java program that uses a mask to generate all subsets of S using a mask","body":"<p>The idea about the mask is to associate each set a number whose each bit indicates if the corresponding order is in the set.</p>\n<p>Then the set {} is coded 0. The set {0} is coded 1, the set {1} is coded 2, set set {0,1} is coded 1+2=3.</p>\n<p>With this scheme you add easily a number to a set:</p>\n<pre><code>s = s | 1&lt;&lt;number;\n</code></pre>\n<p>You can also test the membership of a number in a set:</p>\n<pre><code>if (s &amp; 1&lt;&lt;number != 0)\n   System.out.println(&quot;number is in set&quot;);\n</code></pre>\n<p>The <code>&lt;&lt;</code> notation indicates a number (here 1) whose the bits are shift in a given amount.</p>\n<p>Using a mask for sets is very efficient: the <code>|</code>, <code>&amp;</code> and <code>&lt;&lt;</code> operators are built in the processor. But it is limited by the number of bits in the CPU registers.</p>\n<p>In your example, you can type something like this:</p>\n<pre><code>for(int set=0; set&lt; (1&lt;&lt;S); s++)\n{\n   // count the number of items\n   int n=0;\n   for(int i=0;i&lt;S;i++)\n      if(set &amp; 1&lt;&lt;i != 0)\n         n++;\n   // if the number of item match r\n   // print the set\n   if(n==r)\n   {\n      for(int i=0;i&lt;S;i++)\n         if(set &amp; 1&lt;&lt;i != 0)\n            System.out.print(arr[i]);\n      System.out.println();\n    }\n}\n</code></pre>\n<p>Note, here 1 &lt;&lt; n code the set <code>arr[n]</code> and not n. Then S must be inferior to the size of your cpu registers, but arr are not so much limited.</p>\n"}],"owner":{"account_id":24322807,"reputation":9,"user_id":18262883,"display_name":"Zaynab B."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1682028956,"creation_date":1682025526,"question_id":76068362,"body_markdown":"The assignment is as follows:\r\n\r\n&gt;Write a program that would generate and print all r-subsets of a set S. The set S and the number r are\r\nprovided by the user. Your program should also print the number of r-subsets of S.\r\nSubsets of a set can be generated using a mask. A good description of the method is presented at\r\nhttp://compprog.wordpress.com/2007/10/10/generating-subsets/. The page also contains a link to the code in\r\nC (sub.c)\r\nPlease use a mask to generate all subsets of S and print the subsets that have r elements (r-subsets).\r\nYour program should do the following:\r\n&gt;1) Prompt the user to enter the size of set S, elements of S, and the number r. You may assume that the\r\nsize of S is no more than 10. Assume that all the elements entered by the user are different (no\r\nduplicates). (You do not need to check that there are no duplicates.)\r\n&gt;2) Generate all subsets of S using a mask.\r\n&gt;3) For each subset generated in 2), compute the number of elements in the subset. If the number of\r\nelements in the subset is equal to r then output the subset.\r\n&gt;4) Output total number of r-subsets of S.\r\nDialog with the user may look like the following (keep in mind that the order of elements in a set does not\r\nmatter):\r\n```Please enter the size of set S: 6\r\nPlease enter S: 1 2 3 4 5 6\r\nPlease enter r: 4\r\n4-subsets of S are the following:\r\n{ 1 2 3 4 }\r\n{ 1 2 3 5 }\r\n{ 1 2 4 5 }\r\n{ 1 3 4 5 }\r\n{ 2 3 4 5 }\r\n{ 1 2 3 6 }\r\n{ 1 2 4 6 }\r\n{ 1 3 4 6 }\r\n{ 2 3 4 6 }\r\n{ 1 2 5 6 }\r\n{ 1 3 5 6 }\r\n{ 2 3 5 6 }\r\n{ 1 4 5 6 }\r\n{ 2 4 5 6 }\r\n{ 3 4 5 6 }\r\nThere are 15 r-subsets\r\n\r\n```\r\nThe instructor never talked about &quot;masks&quot; in class, so naturally I was confused about this. I tried to Google to figure it out, but to no avail. So, I decided to just try solving the problem in general. This is my code so far:\r\n```import java.io.*;\r\nimport java.util.*;\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class Main {\r\n\r\n  public static void func(int[] ARR, int s, int R) {\r\n           for (int j = i + 1; j &lt;= R; j++) {\r\n               System.out.println(ARR[i] + &quot; &quot; + ARR[j]);\r\n           }\r\n  }\r\n  \r\n  public static void main(String[] args) {\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.print(&quot;Size of set S: &quot;);\r\n    int S = input.nextInt();\r\n    int[] arr = new int[S];    \r\n    System.out.print(&quot;Values of set S: &quot;);\r\n    for (int i = 0; i &lt; S; i++) {\r\n      arr[i] = input.nextInt();\r\n    }\r\n    System.out.print(&quot;Value of r: &quot;);\r\n    int r = input.nextInt();\r\n    func(arr, S, r);\r\n  }\r\n}\r\n```\r\nHow do I go about making this code work/creating this &quot;mask&quot; thing that the instructor is asking us to implement?","title":"Write a Java program that uses a mask to generate all subsets of S using a mask","body":"<p>The assignment is as follows:</p>\n<blockquote>\n<p>Write a program that would generate and print all r-subsets of a set S. The set S and the number r are\nprovided by the user. Your program should also print the number of r-subsets of S.\nSubsets of a set can be generated using a mask. A good description of the method is presented at\n<a href=\"http://compprog.wordpress.com/2007/10/10/generating-subsets/\" rel=\"nofollow noreferrer\">http://compprog.wordpress.com/2007/10/10/generating-subsets/</a>. The page also contains a link to the code in\nC (sub.c)\nPlease use a mask to generate all subsets of S and print the subsets that have r elements (r-subsets).\nYour program should do the following:</p>\n<ol>\n<li>Prompt the user to enter the size of set S, elements of S, and the number r. You may assume that the\nsize of S is no more than 10. Assume that all the elements entered by the user are different (no\nduplicates). (You do not need to check that there are no duplicates.)</li>\n<li>Generate all subsets of S using a mask.</li>\n<li>For each subset generated in 2), compute the number of elements in the subset. If the number of\nelements in the subset is equal to r then output the subset.</li>\n<li>Output total number of r-subsets of S.\nDialog with the user may look like the following (keep in mind that the order of elements in a set does not\nmatter):</li>\n</ol>\n</blockquote>\n<pre><code>Please enter S: 1 2 3 4 5 6\nPlease enter r: 4\n4-subsets of S are the following:\n{ 1 2 3 4 }\n{ 1 2 3 5 }\n{ 1 2 4 5 }\n{ 1 3 4 5 }\n{ 2 3 4 5 }\n{ 1 2 3 6 }\n{ 1 2 4 6 }\n{ 1 3 4 6 }\n{ 2 3 4 6 }\n{ 1 2 5 6 }\n{ 1 3 5 6 }\n{ 2 3 5 6 }\n{ 1 4 5 6 }\n{ 2 4 5 6 }\n{ 3 4 5 6 }\nThere are 15 r-subsets\n\n</code></pre>\n<p>The instructor never talked about &quot;masks&quot; in class, so naturally I was confused about this. I tried to Google to figure it out, but to no avail. So, I decided to just try solving the problem in general. This is my code so far:</p>\n<pre><code>import java.util.*;\nimport java.util.Scanner;\n\n\npublic class Main {\n\n  public static void func(int[] ARR, int s, int R) {\n           for (int j = i + 1; j &lt;= R; j++) {\n               System.out.println(ARR[i] + &quot; &quot; + ARR[j]);\n           }\n  }\n  \n  public static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n    System.out.print(&quot;Size of set S: &quot;);\n    int S = input.nextInt();\n    int[] arr = new int[S];    \n    System.out.print(&quot;Values of set S: &quot;);\n    for (int i = 0; i &lt; S; i++) {\n      arr[i] = input.nextInt();\n    }\n    System.out.print(&quot;Value of r: &quot;);\n    int r = input.nextInt();\n    func(arr, S, r);\n  }\n}\n</code></pre>\n<p>How do I go about making this code work/creating this &quot;mask&quot; thing that the instructor is asking us to implement?</p>\n"},{"tags":["java","spring-boot","graphql","microservices","dto"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":0,"creation_date":1651077181,"post_id":72032205,"comment_id":127278269,"body_markdown":"Where would you keep the JSON schema? The JSON schema is an implicit dependency. If you change the JSON schema, then you must also change the microservices that use the DTOs generated from the JSON schema.","body":"Where would you keep the JSON schema? The JSON schema is an implicit dependency. If you change the JSON schema, then you must also change the microservices that use the DTOs generated from the JSON schema."}],"answers":[{"tags":[],"owner":{"account_id":28364481,"reputation":1,"user_id":21693989,"display_name":"Chino Aureus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682028580,"creation_date":1682028580,"answer_id":76068578,"question_id":72032205,"body_markdown":"Consider having a loose coupling between the gateway and the microservices.  The gateway should not be aware of the domain model and behave like a true proxy.  It does not need to know about the DTOs.\r\n\r\nWith that principle in mind and assuming that your gateway implementation uses graphql-java, I suggest keeping the data fetchers in your graphql gateway very generic and returning an Object or DataFetcherResult or Map&lt;String,Object&gt; instead of DTO or POJO.  As an example, you can look at [GraphQuilt Gateway][1] that uses this pattern.\r\n\r\nThe generic [ServiceDataFetcher][2] returns an Object and it invokes a batch loader that returns the [DatafetcherResult][3]. The data returned by the microservices is represented by [Map&lt;String, Object&gt;][4]\r\n\r\nHope this helps.\r\n\r\n\r\n  [1]: https://github.com/graph-quilt/graphql-orchestrator-java\r\n  [2]: https://github.com/graph-quilt/graphql-orchestrator-java/blob/master/src/main/java/com/intuit/graphql/orchestrator/datafetcher/ServiceDataFetcher.java#L25\r\n  [3]: https://github.com/graph-quilt/graphql-orchestrator-java/blob/master/src/main/java/com/intuit/graphql/orchestrator/batch/GraphQLServiceBatchLoader.java#L83\r\n  [4]: https://github.com/graph-quilt/graphql-orchestrator-java/blob/master/src/main/java/com/intuit/graphql/orchestrator/batch/GraphQLServiceBatchLoader.java#L299","title":"How to handle DTOs definition between different microservices using Java + Springboot + GraphQL","body":"<p>Consider having a loose coupling between the gateway and the microservices.  The gateway should not be aware of the domain model and behave like a true proxy.  It does not need to know about the DTOs.</p>\n<p>With that principle in mind and assuming that your gateway implementation uses graphql-java, I suggest keeping the data fetchers in your graphql gateway very generic and returning an Object or DataFetcherResult or Map&lt;String,Object&gt; instead of DTO or POJO.  As an example, you can look at <a href=\"https://github.com/graph-quilt/graphql-orchestrator-java\" rel=\"nofollow noreferrer\">GraphQuilt Gateway</a> that uses this pattern.</p>\n<p>The generic <a href=\"https://github.com/graph-quilt/graphql-orchestrator-java/blob/master/src/main/java/com/intuit/graphql/orchestrator/datafetcher/ServiceDataFetcher.java#L25\" rel=\"nofollow noreferrer\">ServiceDataFetcher</a> returns an Object and it invokes a batch loader that returns the <a href=\"https://github.com/graph-quilt/graphql-orchestrator-java/blob/master/src/main/java/com/intuit/graphql/orchestrator/batch/GraphQLServiceBatchLoader.java#L83\" rel=\"nofollow noreferrer\">DatafetcherResult</a>. The data returned by the microservices is represented by <a href=\"https://github.com/graph-quilt/graphql-orchestrator-java/blob/master/src/main/java/com/intuit/graphql/orchestrator/batch/GraphQLServiceBatchLoader.java#L299\" rel=\"nofollow noreferrer\">Map&lt;String, Object&gt;</a></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":1227934,"reputation":3849,"user_id":1193148,"accept_rate":74,"display_name":"Marcelo Tataje"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682028580,"creation_date":1651076424,"question_id":72032205,"body_markdown":"I know this question has already been asked, but I have a different scenario in which I have the following structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see the front-end (UI) will always call a GraphQL API Gateway microservice that will redirect the request to different microservices depending on the functionality or data required. I simplified the graphic by drawing 3 microservices, but we have more than 30.\r\n\r\nWhen I started working in this project, something that I noticed is that the GraphQL API Gateway microservice is repeating many DTOs that are already defined on the other microservices. As a consequence, this GraphQL API Gateway microservice is full of Java classes that serve as DTOs (with same fields, datatypes and no modifications), so basically, what developers have been doing was to copy and paste a DTO from user microservice and paste them in the GraphQL API Gateway microservice. The same pattern was followed for all the 30 microservices DTOs. Additionally, DTOs across microservices are being copy-pasted based on the needs. You may say that there should not be an issue, but whenever a microservice requires a DTO structure change, we need to change the DTO in all the other microservices.\r\n\r\nSome approaches that me and my team evaluated were to:\r\n\r\n 1. Either create a common library exclusively for DTOs that could be reused by many projects. The only concern is that this will add some &quot;dependency&quot; and break the &quot;microservices&quot; idea. Additionally, I think this will not fully solve the issue we have since we would need to keep this dependency up to date in each microservice.\r\n 2. Use some sort of utility such JSON schema that will generate required DTOs based on needs. \r\n\r\nThis is something that I have been discussing with the team, most of the team would like to go for the JSON Schema approach. However, I would like to know if there could be something more efficient from your point of view, I took a look to some approaches like exposing domain objects (https://www.baeldung.com/java-microservices-share-dto), but I do not think this apply for the particular case I am talking in this post.\r\n\r\nSo, any suggestion or feedback will be highly appreciated. Thanks in advance.\r\n\r\n  [1]: https://i.stack.imgur.com/8tDCO.png","title":"How to handle DTOs definition between different microservices using Java + Springboot + GraphQL","body":"<p>I know this question has already been asked, but I have a different scenario in which I have the following structure:</p>\n<p><a href=\"https://i.stack.imgur.com/8tDCO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8tDCO.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see the front-end (UI) will always call a GraphQL API Gateway microservice that will redirect the request to different microservices depending on the functionality or data required. I simplified the graphic by drawing 3 microservices, but we have more than 30.</p>\n<p>When I started working in this project, something that I noticed is that the GraphQL API Gateway microservice is repeating many DTOs that are already defined on the other microservices. As a consequence, this GraphQL API Gateway microservice is full of Java classes that serve as DTOs (with same fields, datatypes and no modifications), so basically, what developers have been doing was to copy and paste a DTO from user microservice and paste them in the GraphQL API Gateway microservice. The same pattern was followed for all the 30 microservices DTOs. Additionally, DTOs across microservices are being copy-pasted based on the needs. You may say that there should not be an issue, but whenever a microservice requires a DTO structure change, we need to change the DTO in all the other microservices.</p>\n<p>Some approaches that me and my team evaluated were to:</p>\n<ol>\n<li>Either create a common library exclusively for DTOs that could be reused by many projects. The only concern is that this will add some &quot;dependency&quot; and break the &quot;microservices&quot; idea. Additionally, I think this will not fully solve the issue we have since we would need to keep this dependency up to date in each microservice.</li>\n<li>Use some sort of utility such JSON schema that will generate required DTOs based on needs.</li>\n</ol>\n<p>This is something that I have been discussing with the team, most of the team would like to go for the JSON Schema approach. However, I would like to know if there could be something more efficient from your point of view, I took a look to some approaches like exposing domain objects (<a href=\"https://www.baeldung.com/java-microservices-share-dto\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-microservices-share-dto</a>), but I do not think this apply for the particular case I am talking in this post.</p>\n<p>So, any suggestion or feedback will be highly appreciated. Thanks in advance.</p>\n"},{"tags":["java","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1682027545,"post_id":76068472,"comment_id":134155597,"body_markdown":"Short answer: Add `@Param(&quot;foo&quot;)` to the first method argument and reference its properties with `foo.` prefix i.e. `#{foo.bar}` instead of `#{bar}`. Long answer [here](https://stackoverflow.com/a/59811574/1261766).","body":"Short answer: Add <code>@Param(&quot;foo&quot;)</code> to the first method argument and reference its properties with <code>foo.</code> prefix i.e. <code>#{foo.bar}</code> instead of <code>#{bar}</code>. Long answer <a href=\"https://stackoverflow.com/a/59811574/1261766\">here</a>."}],"owner":{"account_id":2783308,"reputation":2051,"user_id":2395365,"accept_rate":27,"display_name":"user2395365"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682026954,"creation_date":1682026954,"question_id":76068472,"body_markdown":"\r\n\r\nI have a class Foo with fields bar, baz, and buz and an XML mapping file:\r\n\r\n&lt;resultMap id=&quot;Foo&quot; type=&quot;com.Foo&quot;&gt;\r\n        &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\r\n        &lt;result column=&quot;user_id&quot; property=&quot;userId&quot;/&gt;\r\n        &lt;result column=&quot;bar&quot; property=&quot;bar&quot;/&gt;\r\n        &lt;result column=&quot;baz&quot; property=&quot;baz&quot;/&gt;\r\n        &lt;result column=&quot;buz&quot; property=&quot;buz&quot;/&gt;\r\n&lt;/resultMap&gt;\r\n\r\nHow would I write a generic update mapper that will allow me to update records for a non-null value of one of of the fields for a given where clause?\r\n\r\ne.g. something like\r\n\r\n&lt;update id=&quot;bulkUpdate&quot; parameterType=&quot;com.Foo&quot; useGeneratedKeys=&#39;true&#39; keyProperty=&#39;id&#39; keyColumn=&quot;id&quot;&gt;\r\n        UPDATE public.foo set\r\n        &lt;if test=&quot;bar!= null&quot;&gt;\r\n           bar = #{bar},\r\n        &lt;/if&gt;\r\n        &lt;if test=&quot;baz!= null&quot;&gt;\r\n           baz = #{baz},\r\n        &lt;/if&gt;\r\n        &lt;if test=&quot;buz!= null&quot;&gt;\r\n           buz = #{buz},\r\n        &lt;/if&gt;\r\n    &lt;/update&gt;\r\n   &lt;where&gt;\r\n        &lt;foreach item=&quot;item&quot; index=&quot;index&quot; collection=&quot;userIds&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt;\r\n            #{item}\r\n        &lt;/foreach&gt;\r\n    &lt;/where&gt;\r\n    \r\nMy Mapper class looks like:\r\n\r\n    void bulkUpdate(Foo foo, @Param(&quot;userIds&quot;) Collection&lt;Long&gt; userIds);\r\n\r\nBut i get an error in the XMl because it doesn&#39;t look like I can pass the object and a @Param...\r\n\r\nAny ideas?\r\n\r\n     ","title":"how to dynamically update fields in MyBatis","body":"<p>I have a class Foo with fields bar, baz, and buz and an XML mapping file:</p>\n\n        \n        \n        \n        \n        \n\n<p>How would I write a generic update mapper that will allow me to update records for a non-null value of one of of the fields for a given where clause?</p>\n<p>e.g. something like</p>\n\n        UPDATE public.foo set\n        \n           bar = #{bar},\n        \n        \n           baz = #{baz},\n        \n        \n           buz = #{buz},\n        \n    \n   \n        \n            #{item}\n        \n    \n    \nMy Mapper class looks like:\n<pre><code>void bulkUpdate(Foo foo, @Param(&quot;userIds&quot;) Collection&lt;Long&gt; userIds);\n</code></pre>\n<p>But i get an error in the XMl because it doesn't look like I can pass the object and a @Param...</p>\n<p>Any ideas?</p>\n"},{"tags":["java","spring-boot","performance","logging","log4j2"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":1,"creation_date":1681101831,"post_id":75972602,"comment_id":133998815,"body_markdown":"Are you able to override the `toString` method and add a break point to see why `toString` is called?","body":"Are you able to override the <code>toString</code> method and add a break point to see why <code>toString</code> is called?"},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":0,"creation_date":1681130126,"post_id":75972602,"comment_id":134002826,"body_markdown":"@samabcde: Yes, I overwrote it basically for every entity and when it&#39;s called, it&#39;s not from me code but from some framework code which I don&#39;t have any control over.","body":"@samabcde: Yes, I overwrote it basically for every entity and when it&#39;s called, it&#39;s not from me code but from some framework code which I don&#39;t have any control over."},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1681130779,"post_id":75972602,"comment_id":134002946,"body_markdown":"So can you see which method is calling `toString` when you stop at the breakpoint?","body":"So can you see which method is calling <code>toString</code> when you stop at the breakpoint?"},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":0,"creation_date":1681233366,"post_id":75972602,"comment_id":134022338,"body_markdown":"@samabcde: It&#39;s called by invoking certain repository interface methods, e.g. ones that I defined myself. Since the code is generated by Spring Data JPA, I don&#39;t see any explicit calls to `toString()` but they happen anyway.","body":"@samabcde: It&#39;s called by invoking certain repository interface methods, e.g. ones that I defined myself. Since the code is generated by Spring Data JPA, I don&#39;t see any explicit calls to <code>toString()</code> but they happen anyway."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1681333183,"post_id":75972602,"comment_id":134041532,"body_markdown":"Can you add some examples of logging statements? My guess is that you activated some very verbose logger in your config (Hibernate statements?).","body":"Can you add some examples of logging statements? My guess is that you activated some very verbose logger in your config (Hibernate statements?)."},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":0,"creation_date":1681919332,"post_id":75972602,"comment_id":134135628,"body_markdown":"@PiotrP.Karwasz: My log statements do not log out any entities so I&#39;m not calling `toString()` implicitly either. Yes, I enabled Hibernate SQL logging via e.g. `logging.level.org.hibernate.SQL=DEBUG`, `logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE`, `spring.jpa.show-sql=true`","body":"@PiotrP.Karwasz: My log statements do not log out any entities so I&#39;m not calling <code>toString()</code> implicitly either. Yes, I enabled Hibernate SQL logging via e.g. <code>logging.level.org.hibernate.SQL=DEBUG</code>, <code>logging.level.org.hibernate.type.descriptor.sql.BasicBinder=&zwnj;&#8203;TRACE</code>, <code>spring.jpa.show-sql=true</code>"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1681919799,"post_id":75972602,"comment_id":134135738,"body_markdown":"I would guess that Hibernate calls `toString()` on your entities. Can you add a stacktrace to the question?","body":"I would guess that Hibernate calls <code>toString()</code> on your entities. Can you add a stacktrace to the question?"},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":0,"creation_date":1682026118,"post_id":75972602,"comment_id":134155383,"body_markdown":"@PiotrP.Karwasz: The stack trace is just a regular repository method which my code is calling such as `findFirstByGameModeOrderBySeasonIdDesc(gameMode)` but &quot;magically&quot; `toString()` is being called inside of it...","body":"@PiotrP.Karwasz: The stack trace is just a regular repository method which my code is calling such as <code>findFirstByGameModeOrderBySeasonIdDesc(gameMode)</code> but &quot;magically&quot; <code>toString()</code> is being called inside of it..."}],"answers":[{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682026335,"creation_date":1682026335,"answer_id":76068423,"question_id":75972602,"body_markdown":"Even though I wasn&#39;t able to figure out why `log4j2` is mysteriously calling my entity&#39;s `toString()` methods, severely degrading performance, I decided to use the default `Logback` logger and I ended up being quite happy with it, so I don&#39;t really need to use `log4j2` anymore. After all, `Logback` is also the default logger for `Spring Boot`. Sometimes it&#39;s better not to break a running setup.","title":"log4j2 in Spring Boot slows down my application significantly","body":"<p>Even though I wasn't able to figure out why <code>log4j2</code> is mysteriously calling my entity's <code>toString()</code> methods, severely degrading performance, I decided to use the default <code>Logback</code> logger and I ended up being quite happy with it, so I don't really need to use <code>log4j2</code> anymore. After all, <code>Logback</code> is also the default logger for <code>Spring Boot</code>. Sometimes it's better not to break a running setup.</p>\n"}],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76068423,"answer_count":1,"score":2,"last_activity_date":1682026335,"creation_date":1681070464,"question_id":75972602,"body_markdown":"I built a REST API with `Spring Boot` and I switched my logging framework to `log4j2` by adding an exclusion of the default logger in my `pom.xml`:\r\n\r\n    &lt;exclusion&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n    &lt;/exclusion&gt;\r\n\r\nAs well as including `log4j2` instead:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI&#39;m experiencing insane slowdowns of my REST API. I realized that `log4j2` is calling the `toString()` methods of my `data JPA` entities seemingly &quot;out of nowhere&quot; (e.g. I didn&#39;t specifically write log statements to log them out). I suppose this causes massive overhead (by potentially also fetching more entities from the database).\r\n\r\nBy reverting back to the default logger `Logback` the performance is &quot;normal&quot; again. `Logback` also does not call the `toString()` methods &quot;out of nowhere&quot;. Why is `log4j2` so inefficient here and can this behavior of calling my `toString()` methods &quot;out of nowhere&quot; be turned off?","title":"log4j2 in Spring Boot slows down my application significantly","body":"<p>I built a REST API with <code>Spring Boot</code> and I switched my logging framework to <code>log4j2</code> by adding an exclusion of the default logger in my <code>pom.xml</code>:</p>\n<pre><code>&lt;exclusion&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n&lt;/exclusion&gt;\n</code></pre>\n<p>As well as including <code>log4j2</code> instead:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I'm experiencing insane slowdowns of my REST API. I realized that <code>log4j2</code> is calling the <code>toString()</code> methods of my <code>data JPA</code> entities seemingly &quot;out of nowhere&quot; (e.g. I didn't specifically write log statements to log them out). I suppose this causes massive overhead (by potentially also fetching more entities from the database).</p>\n<p>By reverting back to the default logger <code>Logback</code> the performance is &quot;normal&quot; again. <code>Logback</code> also does not call the <code>toString()</code> methods &quot;out of nowhere&quot;. Why is <code>log4j2</code> so inefficient here and can this behavior of calling my <code>toString()</code> methods &quot;out of nowhere&quot; be turned off?</p>\n"},{"tags":["java","mysql","spring-boot","google-app-engine","google-cloud-platform"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1682016084,"post_id":76066221,"comment_id":134153535,"body_markdown":"The error says it cannot find the driver. Do you have the mysql dependency in your pom.xml or gradle file? Please provide it (the pom og gradle file). Are you building native maybe?","body":"The error says it cannot find the driver. Do you have the mysql dependency in your pom.xml or gradle file? Please provide it (the pom og gradle file). Are you building native maybe?"},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":0,"creation_date":1682025699,"post_id":76066221,"comment_id":134155318,"body_markdown":"@grekier: Yes, my `pom.xml` contains the `mysql` dependency, it works locally. I&#39;m not building native, just regular Java with `maven`. I couldn&#39;t get `GraalVM` native compilation to work yet with `Spring Boot`, either (I&#39;m using `Windows`).","body":"@grekier: Yes, my <code>pom.xml</code> contains the <code>mysql</code> dependency, it works locally. I&#39;m not building native, just regular Java with <code>maven</code>. I couldn&#39;t get <code>GraalVM</code> native compilation to work yet with <code>Spring Boot</code>, either (I&#39;m using <code>Windows</code>)."},{"owner":{"account_id":22733057,"reputation":1727,"user_id":16895625,"display_name":"Robert G"},"score":0,"creation_date":1682429670,"post_id":76066221,"comment_id":134211509,"body_markdown":"Based on this [documentation](https://cloud.google.com/appengine/docs/flexible/java/configuring-your-app-with-app-yaml#intro), double quotes (`&quot; &quot;`) should not be included. It should be `operating_system: ubuntu22\n  runtime_version: 17`","body":"Based on this <a href=\"https://cloud.google.com/appengine/docs/flexible/java/configuring-your-app-with-app-yaml#intro\" rel=\"nofollow noreferrer\">documentation</a>, double quotes (<code>&quot; &quot;</code>) should not be included. It should be <code>operating_system: ubuntu22   runtime_version: 17</code>"}],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682025629,"creation_date":1682007103,"question_id":76066221,"body_markdown":"I&#39;m trying to deploy my `Spring Boot 3` app to `Google App Engine` but I&#39;m getting the error     `org.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.dialect.MySQL5InnoDBDialect] as strategy [org.hibernate.dialect.Dialect]`.\r\nI see the exceptions which occurred on the [dashboard][1]:\r\n[![][2]][2]\r\n\r\nIs the `Google App Engine` `Ubuntu 22` VM missing the `mysql` driver or so?\r\n\r\nLocally and in my IDE `IntelliJ IDEA`, the REST API works fine and does not run into this error.\r\n\r\nMy `Google App Engine` `app.yaml` config looks as follows:\r\n\r\n    runtime: java\r\n    env: flex\r\n    runtime_config:\r\n      operating_system: &quot;ubuntu22&quot;\r\n      runtime_version: &quot;17&quot; # When not specified, uses the latest version available\r\n    env_variables:\r\n      SPRING_PROFILES_ACTIVE: &quot;gcp,mysql&quot;\r\n    handlers:\r\n      - url: /.*\r\n        script: this field is required, but ignored\r\n    manual_scaling:\r\n      instances: 1\r\n\r\nAnother strange thing is that defining my database connection in an `application-mysql.properties` file did not pick up the connection properties (incorrect) but defining it in an `application.properties` file made `Google App Engine` pick up the properties despite the fact that `Spring Boot` said that the profiles `gcp` and `mysql` are active (correct).\r\n\r\nMy deployment command is: `mvn clean package appengine:deploy -P cloud-gcp -DskipTests`\r\n\r\nHow do I successfully connect to my `Google Cloud Engine` `mysql` instance? My database config is:\r\n\r\n    spring.datasource.url=jdbc:mysql://google/&lt;database_name&gt;?cloudSqlInstance=&lt;instance_connection_name&gt;&amp;socketFactory=com.google.cloud.sql.mysql.SocketFactory&amp;user=&lt;username&gt;&amp;password=&lt;password&gt;\r\n    spring.datasource.username=&lt;username&gt;\r\n    spring.datasource.password=&lt;password&gt;\r\n    spring.jpa.hibernate.ddl-auto=create\r\n    spring.liquibase.enabled=false\r\n\r\n(Of course with placeholders replaced by the correct values)\r\n\r\nUsing the `Cloud Shell` I was able to connect to the `mysql` database instance just fine and perform arbitrary operations.\r\n\r\nEDIT:  \r\nMy `pom.xml` contains the `mysql` dependency as follows:\r\n\r\n    &lt;!-- MySQL database support --&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: https://console.cloud.google.com/appengine\r\n  [2]: https://i.stack.imgur.com/xHuC1.png","title":"Getting org.hibernate.boot.registry.selector.spi.StrategySelectionException when deploying Spring Boot app to Google App Engine","body":"<p>I'm trying to deploy my <code>Spring Boot 3</code> app to <code>Google App Engine</code> but I'm getting the error     <code>org.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.dialect.MySQL5InnoDBDialect] as strategy [org.hibernate.dialect.Dialect]</code>.\nI see the exceptions which occurred on the <a href=\"https://console.cloud.google.com/appengine\" rel=\"nofollow noreferrer\">dashboard</a>:\n<a href=\"https://i.stack.imgur.com/xHuC1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xHuC1.png\" alt=\"\" /></a></p>\n<p>Is the <code>Google App Engine</code> <code>Ubuntu 22</code> VM missing the <code>mysql</code> driver or so?</p>\n<p>Locally and in my IDE <code>IntelliJ IDEA</code>, the REST API works fine and does not run into this error.</p>\n<p>My <code>Google App Engine</code> <code>app.yaml</code> config looks as follows:</p>\n<pre><code>runtime: java\nenv: flex\nruntime_config:\n  operating_system: &quot;ubuntu22&quot;\n  runtime_version: &quot;17&quot; # When not specified, uses the latest version available\nenv_variables:\n  SPRING_PROFILES_ACTIVE: &quot;gcp,mysql&quot;\nhandlers:\n  - url: /.*\n    script: this field is required, but ignored\nmanual_scaling:\n  instances: 1\n</code></pre>\n<p>Another strange thing is that defining my database connection in an <code>application-mysql.properties</code> file did not pick up the connection properties (incorrect) but defining it in an <code>application.properties</code> file made <code>Google App Engine</code> pick up the properties despite the fact that <code>Spring Boot</code> said that the profiles <code>gcp</code> and <code>mysql</code> are active (correct).</p>\n<p>My deployment command is: <code>mvn clean package appengine:deploy -P cloud-gcp -DskipTests</code></p>\n<p>How do I successfully connect to my <code>Google Cloud Engine</code> <code>mysql</code> instance? My database config is:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://google/&lt;database_name&gt;?cloudSqlInstance=&lt;instance_connection_name&gt;&amp;socketFactory=com.google.cloud.sql.mysql.SocketFactory&amp;user=&lt;username&gt;&amp;password=&lt;password&gt;\nspring.datasource.username=&lt;username&gt;\nspring.datasource.password=&lt;password&gt;\nspring.jpa.hibernate.ddl-auto=create\nspring.liquibase.enabled=false\n</code></pre>\n<p>(Of course with placeholders replaced by the correct values)</p>\n<p>Using the <code>Cloud Shell</code> I was able to connect to the <code>mysql</code> database instance just fine and perform arbitrary operations.</p>\n<p>EDIT:<br />\nMy <code>pom.xml</code> contains the <code>mysql</code> dependency as follows:</p>\n<pre><code>&lt;!-- MySQL database support --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","compiler-errors"],"comments":[{"owner":{"account_id":8751238,"reputation":1125,"user_id":6544408,"accept_rate":63,"display_name":"yobro97"},"score":0,"creation_date":1538115663,"post_id":12749994,"comment_id":92037795,"body_markdown":"For everyone&#39;s information, this error pops out if you call import statements over package declaration too (I know its dumb), just sayin&#39;, I spent half an hour figuring it out.","body":"For everyone&#39;s information, this error pops out if you call import statements over package declaration too (I know its dumb), just sayin&#39;, I spent half an hour figuring it out."},{"owner":{"account_id":10702580,"reputation":3643,"user_id":7877391,"display_name":"c-an"},"score":0,"creation_date":1542452275,"post_id":12749994,"comment_id":93578850,"body_markdown":"It can be an encoding problem. check this: https://stackoverflow.com/questions/31665663/android-studio-error-class-interface-or-enum-expeted/53350503#53350503","body":"It can be an encoding problem. check this: <a href=\"https://stackoverflow.com/questions/31665663/android-studio-error-class-interface-or-enum-expeted/53350503#53350503\" title=\"android studio error class interface or enum expeted\">stackoverflow.com/questions/31665663/&hellip;</a>"},{"owner":{"account_id":14264957,"reputation":398,"user_id":10304471,"display_name":"Trishant Saxena"},"score":0,"creation_date":1690490358,"post_id":12749994,"comment_id":135365201,"body_markdown":"This error is hard to find sometimes a extra or less brace } is the reason for this error.","body":"This error is hard to find sometimes a extra or less brace } is the reason for this error."}],"answers":[{"tags":[],"owner":{"account_id":41228,"reputation":24523,"user_id":119772,"accept_rate":75,"display_name":"Suraj Chandran"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1349453268,"creation_date":1349453268,"answer_id":12750061,"question_id":12749994,"body_markdown":"Every method should be within a class. Your method `derivativeQuiz` is outside a class.\r\n\r\n    public class ClassName {\r\n    \r\n     ///your methods\r\n    }","title":"Compiler error: &quot;class, interface, or enum expected&quot;","body":"<p>Every method should be within a class. Your method <code>derivativeQuiz</code> is outside a class.</p>\n\n<pre><code>public class ClassName {\n\n ///your methods\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1877079,"reputation":6407,"user_id":1698073,"display_name":"jalynn2"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1354731561,"creation_date":1349453272,"answer_id":12750063,"question_id":12749994,"body_markdown":"You forgot your class declaration:\r\n\r\n    public class MyClass {\r\n    ...","title":"Compiler error: &quot;class, interface, or enum expected&quot;","body":"<p>You forgot your class declaration:</p>\n\n<pre><code>public class MyClass {\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1280158,"reputation":921,"user_id":1234441,"accept_rate":50,"display_name":"azendh"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1349453285,"creation_date":1349453285,"answer_id":12750070,"question_id":12749994,"body_markdown":"You miss the class declaration.\r\n\r\n    public class DerivativeQuiz{\r\n       public static void derivativeQuiz(String args[]){ ... }\r\n    }","title":"Compiler error: &quot;class, interface, or enum expected&quot;","body":"<p>You miss the class declaration.</p>\n\n<pre><code>public class DerivativeQuiz{\n   public static void derivativeQuiz(String args[]){ ... }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":305112,"reputation":378,"user_id":615052,"accept_rate":83,"display_name":"Erfankam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393615375,"creation_date":1393614536,"answer_id":22103799,"question_id":12749994,"body_markdown":"Look at your function s definition. If you forget using &quot;()&quot; after function declaration somewhere, you ll get plenty of errors with the same format: &lt;br&gt;\r\n\r\n     ... ??: class, interface, or enum expected ...\r\nAnd also you have forgot closing bracket after your class or function definition ends.\r\nBut note that these missing bracket, is not the only reason for this type of error.\r\n","title":"Compiler error: &quot;class, interface, or enum expected&quot;","body":"<p>Look at your function s definition. If you forget using \"()\" after function declaration somewhere, you ll get plenty of errors with the same format: <br></p>\n\n<pre><code> ... ??: class, interface, or enum expected ...\n</code></pre>\n\n<p>And also you have forgot closing bracket after your class or function definition ends.\nBut note that these missing bracket, is not the only reason for this type of error.</p>\n"},{"tags":[],"owner":{"account_id":2092917,"reputation":999,"user_id":1862299,"display_name":"Prakhyat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427540807,"creation_date":1427540807,"answer_id":29316390,"question_id":12749994,"body_markdown":"class, interface, or enum expected\r\n\r\nThe above error is even possible when import statement is miss spelled.\r\nA proper statement is &quot;import com.company.HelloWorld;&quot;\r\n\r\nIf by mistake while code writing/editing it is miss written like \r\n&quot;t com.company.HelloWorld;&quot;\r\n\r\ncompiler will show &quot;class, interface, or enum expected&quot;","title":"Compiler error: &quot;class, interface, or enum expected&quot;","body":"<p>class, interface, or enum expected</p>\n\n<p>The above error is even possible when import statement is miss spelled.\nA proper statement is \"import com.company.HelloWorld;\"</p>\n\n<p>If by mistake while code writing/editing it is miss written like \n\"t com.company.HelloWorld;\"</p>\n\n<p>compiler will show \"class, interface, or enum expected\"</p>\n"},{"tags":[],"owner":{"account_id":9146174,"reputation":1,"user_id":6802292,"display_name":"gol_roger"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1553066028,"creation_date":1476789681,"answer_id":40106872,"question_id":12749994,"body_markdown":"the main method should be declared in the your class like this :\r\n\r\n    public class derivativeQuiz_source{\r\n        // bunch of methods .....\r\n\r\n        public static void main(String args[])\r\n        {\r\n            // code \r\n        }\r\n    }","title":"Compiler error: &quot;class, interface, or enum expected&quot;","body":"<p>the main method should be declared in the your class like this :</p>\n\n<pre><code>public class derivativeQuiz_source{\n    // bunch of methods .....\n\n    public static void main(String args[])\n    {\n        // code \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":455892,"reputation":6866,"user_id":854342,"accept_rate":17,"display_name":"Curtis Yallop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682023686,"creation_date":1682023686,"answer_id":76068178,"question_id":12749994,"body_markdown":"My App.java first line was `package my.package.path;`. `package` is a system keyword in java and cannot be used in the package path.\r\n\r\n(I was using an example from stackoverflow with: `mvn archetype:generate .. -DgroupId=my.package.path`)","title":"Compiler error: &quot;class, interface, or enum expected&quot;","body":"<p>My App.java first line was <code>package my.package.path;</code>. <code>package</code> is a system keyword in java and cannot be used in the package path.</p>\n<p>(I was using an example from stackoverflow with: <code>mvn archetype:generate .. -DgroupId=my.package.path</code>)</p>\n"}],"owner":{"account_id":1502089,"reputation":1544,"user_id":1406409,"accept_rate":90,"display_name":"Azulflame"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350872,"favorite_count":0,"down_vote_count":4,"up_vote_count":23,"accepted_answer_id":12750070,"answer_count":7,"score":19,"last_activity_date":1682023686,"creation_date":1349453025,"question_id":12749994,"body_markdown":"I have been troubleshooting this program for hours, trying several configurations, and have had no luck. It has been written in java, and has 33 errors (lowered from 50 before)\r\n\r\nSource Code:\r\n\r\n    /*This program is named derivativeQuiz.java, stored on a network drive I have permission to edit\r\n    The actual code starts below this line (with the first import statement) */\r\n    import java.util.Random;\r\n    import java.Math.*;\r\n    import javax.swing.JOptionPane;\r\n    public static void derivativeQuiz(String args[])\r\n    {\r\n    \t// a bunch of code\r\n    }\r\n\r\nThe error log (compiled in JCreator):\r\n\r\n    --------------------Configuration: &lt;Default&gt;--------------------\r\n    H:\\Derivative quiz\\derivativeQuiz.java:4: class, interface, or enum expected\r\n    public static void derivativeQuiz(String args[])\r\n                  ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:9: class, interface, or enum expected\r\n        int maxCoef = 15;\r\n        ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:10: class, interface, or enum expected\r\n        int question = Integer.parseInt(JOptionPane.showInputDialog(null, &quot;Please enter the number of questions you wish to test on: &quot;));\r\n        ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:11: class, interface, or enum expected\r\n        int numExp = Integer.parseInt(JOptionPane.showInputDialog(null, &quot;Please enter the maximum exponent allowed (up to 5 supported):&quot; ));\r\n        ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:12: class, interface, or enum expected\r\n        Random random = new Random();\r\n        ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:13: class, interface, or enum expected\r\n        int coeff;\r\n        ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:14: class, interface, or enum expected\r\n        String equation = &quot;&quot;;\r\n        ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:15: class, interface, or enum expected\r\n        String deriv = &quot;&quot;;\r\n        ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:16: class, interface, or enum expected\r\n        for(int z = 0; z &lt;= question; z++)\r\n        ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:16: class, interface, or enum expected\r\n        for(int z = 0; z &lt;= question; z++)\r\n                       ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:16: class, interface, or enum expected\r\n        for(int z = 0; z &lt;= question; z++)\r\n                                      ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:19: class, interface, or enum expected\r\n            deriv = &quot;&quot;;\r\n            ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:20: class, interface, or enum expected\r\n            if(numExp &gt;= 5)\r\n            ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:23: class, interface, or enum expected\r\n                equation = coeff + &quot;X^5 + &quot;;\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:24: class, interface, or enum expected\r\n                deriv = coeff*5 + &quot;X^4 + &quot;;\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:25: class, interface, or enum expected\r\n            }\r\n            ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:29: class, interface, or enum expected\r\n                equation = equation + coeff + &quot;X^4 + &quot;;\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:30: class, interface, or enum expected\r\n                deriv = deriv + coeff*4 + &quot;X^3 + &quot;;\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:31: class, interface, or enum expected\r\n            }\r\n            ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:35: class, interface, or enum expected\r\n                equation = equation + coeff + &quot;X^3 + &quot;;\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:36: class, interface, or enum expected\r\n                deriv = deriv + coeff*3 + &quot;X^2 + &quot;;\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:37: class, interface, or enum expected\r\n            }\r\n            ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:41: class, interface, or enum expected\r\n                equation = equation + coeff + &quot;X^2 + &quot;;\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:42: class, interface, or enum expected\r\n                deriv = deriv + coeff*2 + &quot;X + &quot;;\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:43: class, interface, or enum expected\r\n            }\r\n            ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:47: class, interface, or enum expected\r\n                equation = equation + coeff + &quot;X + &quot;;\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:48: class, interface, or enum expected\r\n                deriv = deriv + coeff;\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:49: class, interface, or enum expected\r\n            }\r\n            ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:53: class, interface, or enum expected\r\n                equation = equation + coeff;\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:54: class, interface, or enum expected\r\n    \r\n                if(deriv == &quot;&quot;)\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:57: class, interface, or enum expected\r\n                }\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:114: class, interface, or enum expected\r\n        JOptionPane.showMessageDialog(null, &quot;Question &quot; + z + &quot;\\\\&quot; + question + &quot;\\nDerivative: &quot; + deriv);\r\n        ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:115: class, interface, or enum expected\r\n        }\r\n        ^\r\n    33 errors\r\n    \r\n    Process completed.\r\n\r\nI feel like this is a basic error, and yet I can&#39;t seem to find it.\r\nIf it makes a difference, I am using JCreator to compile and everything is installed correctly.\r\n\r\nUPDATE:\r\nI have fixed the errors involved (Class declaration and incorrect import statements (someone went back and deleted a few semicolons))\r\n\r\nWorking code:\r\n\r\n    import java.util.Random;\r\n    import javax.swing.JOptionPane;\r\n    import java.lang.String;\r\n    public class derivativeQuiz_source{\r\n    public static void main(String args[])\r\n    {\r\n        //a bunch more code\r\n    }\r\n    }\r\n\r\nThanks for all the help","title":"Compiler error: &quot;class, interface, or enum expected&quot;","body":"<p>I have been troubleshooting this program for hours, trying several configurations, and have had no luck. It has been written in java, and has 33 errors (lowered from 50 before)</p>\n\n<p>Source Code:</p>\n\n<pre><code>/*This program is named derivativeQuiz.java, stored on a network drive I have permission to edit\nThe actual code starts below this line (with the first import statement) */\nimport java.util.Random;\nimport java.Math.*;\nimport javax.swing.JOptionPane;\npublic static void derivativeQuiz(String args[])\n{\n    // a bunch of code\n}\n</code></pre>\n\n<p>The error log (compiled in JCreator):</p>\n\n<pre><code>--------------------Configuration: &lt;Default&gt;--------------------\nH:\\Derivative quiz\\derivativeQuiz.java:4: class, interface, or enum expected\npublic static void derivativeQuiz(String args[])\n              ^\nH:\\Derivative quiz\\derivativeQuiz.java:9: class, interface, or enum expected\n    int maxCoef = 15;\n    ^\nH:\\Derivative quiz\\derivativeQuiz.java:10: class, interface, or enum expected\n    int question = Integer.parseInt(JOptionPane.showInputDialog(null, \"Please enter the number of questions you wish to test on: \"));\n    ^\nH:\\Derivative quiz\\derivativeQuiz.java:11: class, interface, or enum expected\n    int numExp = Integer.parseInt(JOptionPane.showInputDialog(null, \"Please enter the maximum exponent allowed (up to 5 supported):\" ));\n    ^\nH:\\Derivative quiz\\derivativeQuiz.java:12: class, interface, or enum expected\n    Random random = new Random();\n    ^\nH:\\Derivative quiz\\derivativeQuiz.java:13: class, interface, or enum expected\n    int coeff;\n    ^\nH:\\Derivative quiz\\derivativeQuiz.java:14: class, interface, or enum expected\n    String equation = \"\";\n    ^\nH:\\Derivative quiz\\derivativeQuiz.java:15: class, interface, or enum expected\n    String deriv = \"\";\n    ^\nH:\\Derivative quiz\\derivativeQuiz.java:16: class, interface, or enum expected\n    for(int z = 0; z &lt;= question; z++)\n    ^\nH:\\Derivative quiz\\derivativeQuiz.java:16: class, interface, or enum expected\n    for(int z = 0; z &lt;= question; z++)\n                   ^\nH:\\Derivative quiz\\derivativeQuiz.java:16: class, interface, or enum expected\n    for(int z = 0; z &lt;= question; z++)\n                                  ^\nH:\\Derivative quiz\\derivativeQuiz.java:19: class, interface, or enum expected\n        deriv = \"\";\n        ^\nH:\\Derivative quiz\\derivativeQuiz.java:20: class, interface, or enum expected\n        if(numExp &gt;= 5)\n        ^\nH:\\Derivative quiz\\derivativeQuiz.java:23: class, interface, or enum expected\n            equation = coeff + \"X^5 + \";\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:24: class, interface, or enum expected\n            deriv = coeff*5 + \"X^4 + \";\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:25: class, interface, or enum expected\n        }\n        ^\nH:\\Derivative quiz\\derivativeQuiz.java:29: class, interface, or enum expected\n            equation = equation + coeff + \"X^4 + \";\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:30: class, interface, or enum expected\n            deriv = deriv + coeff*4 + \"X^3 + \";\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:31: class, interface, or enum expected\n        }\n        ^\nH:\\Derivative quiz\\derivativeQuiz.java:35: class, interface, or enum expected\n            equation = equation + coeff + \"X^3 + \";\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:36: class, interface, or enum expected\n            deriv = deriv + coeff*3 + \"X^2 + \";\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:37: class, interface, or enum expected\n        }\n        ^\nH:\\Derivative quiz\\derivativeQuiz.java:41: class, interface, or enum expected\n            equation = equation + coeff + \"X^2 + \";\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:42: class, interface, or enum expected\n            deriv = deriv + coeff*2 + \"X + \";\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:43: class, interface, or enum expected\n        }\n        ^\nH:\\Derivative quiz\\derivativeQuiz.java:47: class, interface, or enum expected\n            equation = equation + coeff + \"X + \";\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:48: class, interface, or enum expected\n            deriv = deriv + coeff;\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:49: class, interface, or enum expected\n        }\n        ^\nH:\\Derivative quiz\\derivativeQuiz.java:53: class, interface, or enum expected\n            equation = equation + coeff;\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:54: class, interface, or enum expected\n\n            if(deriv == \"\")\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:57: class, interface, or enum expected\n            }\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:114: class, interface, or enum expected\n    JOptionPane.showMessageDialog(null, \"Question \" + z + \"\\\\\" + question + \"\\nDerivative: \" + deriv);\n    ^\nH:\\Derivative quiz\\derivativeQuiz.java:115: class, interface, or enum expected\n    }\n    ^\n33 errors\n\nProcess completed.\n</code></pre>\n\n<p>I feel like this is a basic error, and yet I can't seem to find it.\nIf it makes a difference, I am using JCreator to compile and everything is installed correctly.</p>\n\n<p>UPDATE:\nI have fixed the errors involved (Class declaration and incorrect import statements (someone went back and deleted a few semicolons))</p>\n\n<p>Working code:</p>\n\n<pre><code>import java.util.Random;\nimport javax.swing.JOptionPane;\nimport java.lang.String;\npublic class derivativeQuiz_source{\npublic static void main(String args[])\n{\n    //a bunch more code\n}\n}\n</code></pre>\n\n<p>Thanks for all the help</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2566910,"reputation":368,"user_id":2226708,"display_name":"The Shmoo"},"score":0,"creation_date":1681996482,"post_id":76064462,"comment_id":134148636,"body_markdown":"have you tried using intList.add(&quot;Hello World&quot;.hashCode());","body":"have you tried using intList.add(&quot;Hello World&quot;.hashCode());"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1681996508,"post_id":76064462,"comment_id":134148648,"body_markdown":"I fail to see how your code has anything to do with hashCode generation.  Please provide more information.    And be specific. *`but I can only edit and add code between those two commands`*  What commands?","body":"I fail to see how your code has anything to do with hashCode generation.  Please provide more information.    And be specific. <i><code>but I can only edit and add code between those two commands</code></i>  What commands?"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":1,"creation_date":1681996521,"post_id":76064462,"comment_id":134148653,"body_markdown":"`a.equals(b)` will *always* return `false` if `a` is an instance of `Integer` and `b` is an instance of `String`. Moreover, how do you expect us to help you with your problem if you do not even state the problem in the question?","body":"<code>a.equals(b)</code> will <i>always</i> return <code>false</code> if <code>a</code> is an instance of <code>Integer</code> and <code>b</code> is an instance of <code>String</code>. Moreover, how do you expect us to help you with your problem if you do not even state the problem in the question?"},{"owner":{"account_id":240654,"reputation":7749,"user_id":511012,"accept_rate":67,"display_name":"Ian Newson"},"score":0,"creation_date":1681996597,"post_id":76064462,"comment_id":134148676,"body_markdown":"What&#39;s the name and topic of the module you&#39;re studying? If it&#39;s about generics and type erasure in Java, it might be because it&#39;s possible to add the wrong type to lists in Java, although it&#39;s never recommended (the method name insertEvil hints that you should be trying to do it in an evil way).","body":"What&#39;s the name and topic of the module you&#39;re studying? If it&#39;s about generics and type erasure in Java, it might be because it&#39;s possible to add the wrong type to lists in Java, although it&#39;s never recommended (the method name insertEvil hints that you should be trying to do it in an evil way)."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681996677,"post_id":76064462,"comment_id":134148702,"body_markdown":"Just do `((List) intList).add(0, &quot;Hello World&quot;)` (NVM, that is not going to work given the return type of `get(0)`)","body":"Just do <code>((List) intList).add(0, &quot;Hello World&quot;)</code> (NVM, that is not going to work given the return type of <code>get(0)</code>)"},{"owner":{"account_id":28358539,"reputation":41,"user_id":21688896,"display_name":"Student23452345"},"score":0,"creation_date":1681996758,"post_id":76064462,"comment_id":134148719,"body_markdown":"Sorry i try to be more accurate now. My module is called &quot;software&quot; and my task is it to get a true from the if statement without changing the if statement. I can only write things between //change starts here and //Change ends here.","body":"Sorry i try to be more accurate now. My module is called &quot;software&quot; and my task is it to get a true from the if statement without changing the if statement. I can only write things between //change starts here and //Change ends here."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1681996921,"post_id":76064462,"comment_id":134148763,"body_markdown":"do you know exactly how equals works?","body":"do you know exactly how equals works?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681997007,"post_id":76064462,"comment_id":134148791,"body_markdown":"Are you allowed to do anything there? Including ending the current method and defining another method?","body":"Are you allowed to do anything there? Including ending the current method and defining another method?"},{"owner":{"account_id":28358539,"reputation":41,"user_id":21688896,"display_name":"Student23452345"},"score":0,"creation_date":1681997146,"post_id":76064462,"comment_id":134148831,"body_markdown":"@Stultuske yes and it triggered me a lot because my teacher gave us this task. Until now one has get this correct.","body":"@Stultuske yes and it triggered me a lot because my teacher gave us this task. Until now one has get this correct."},{"owner":{"account_id":28358539,"reputation":41,"user_id":21688896,"display_name":"Student23452345"},"score":0,"creation_date":1681997181,"post_id":76064462,"comment_id":134148838,"body_markdown":"@MarkRotteveel no Im not allowed to do this.","body":"@MarkRotteveel no Im not allowed to do this."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1681997764,"post_id":76064462,"comment_id":134148977,"body_markdown":"@maloomeister Compiler won&#39;t allow it.","body":"@maloomeister Compiler won&#39;t allow it."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1681997791,"post_id":76064462,"comment_id":134148987,"body_markdown":"Are you certain you have posted the correct, original code, sans any of your modifications?","body":"Are you certain you have posted the correct, original code, sans any of your modifications?"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1681997819,"post_id":76064462,"comment_id":134148994,"body_markdown":"Probably not what you want but: `System.out.println(&quot;Ok&quot;); System.exit(0);` in between the comments :)","body":"Probably not what you want but: <code>System.out.println(&quot;Ok&quot;); System.exit(0);</code> in between the comments :)"},{"owner":{"account_id":28358539,"reputation":41,"user_id":21688896,"display_name":"Student23452345"},"score":0,"creation_date":1681997870,"post_id":76064462,"comment_id":134149000,"body_markdown":"@WJS unfortunately this is copy paste and we asked him if this is a joke:)","body":"@WJS unfortunately this is copy paste and we asked him if this is a joke:)"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1681997998,"post_id":76064462,"comment_id":134149033,"body_markdown":"@WJS yeah, got that too.","body":"@WJS yeah, got that too."},{"owner":{"account_id":28358539,"reputation":41,"user_id":21688896,"display_name":"Student23452345"},"score":0,"creation_date":1681998238,"post_id":76064462,"comment_id":134149094,"body_markdown":"@001 wow thats smart, i think its better than nothing","body":"@001 wow thats smart, i think its better than nothing"},{"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225; Z&#225;lusk&#253;"},"score":0,"creation_date":1682059238,"post_id":76064462,"comment_id":134158994,"body_markdown":"Nice [nerd snipper](https://xkcd.com/356/). I tried to fake `intList` as `class intList {static String get(int i) {return &quot;Hello World&quot;;}}` (possible in Java 17) but no success - class declaration compiles fine but does not shade variable. May be it will inspire someone else. I agree with others it&#39;s mainly the puzzle to educate generics rather than expect some unconventional hack. Anyway it&#39;s hard to see any solution 100% covering your requirements. Put solution here please if you find out or get told, could be as self-answer. I am sure many people are interested in it as well.","body":"Nice <a href=\"https://xkcd.com/356/\" rel=\"nofollow noreferrer\">nerd snipper</a>. I tried to fake <code>intList</code> as <code>class intList {static String get(int i) {return &quot;Hello World&quot;;}}</code> (possible in Java 17) but no success - class declaration compiles fine but does not shade variable. May be it will inspire someone else. I agree with others it&#39;s mainly the puzzle to educate generics rather than expect some unconventional hack. Anyway it&#39;s hard to see any solution 100% covering your requirements. Put solution here please if you find out or get told, could be as self-answer. I am sure many people are interested in it as well."},{"owner":{"account_id":240654,"reputation":7749,"user_id":511012,"accept_rate":67,"display_name":"Ian Newson"},"score":0,"creation_date":1683313718,"post_id":76064462,"comment_id":134353484,"body_markdown":"Hi, did you reach out to your teacher and ask for a solution? I&#39;ve spent some time thinking about it, and I don&#39;t think it&#39;s possible.","body":"Hi, did you reach out to your teacher and ask for a solution? I&#39;ve spent some time thinking about it, and I don&#39;t think it&#39;s possible."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681999037,"creation_date":1681998613,"answer_id":76064862,"question_id":76064462,"body_markdown":"Since the method is named `insertEvil`, the point of this exercise is probably to teach you that it is possible to insert the &quot;wrong&quot; type of object to a `ArrayList&lt;T&gt;`, and that generics are not actually enforced at runtime. See: [type erasure][1].\r\n\r\nIn this case, you need to insert a `String` into a `ArrayList&lt;Integer&gt;`.\r\n\r\nOne way to do it is to cast it to a [raw type][2]:\r\n\r\n```\r\n((ArrayList)intList).add(&quot;Hello World&quot;);\r\n```\r\n\r\nHowever, this doesn&#39;t actually cause your code to print &quot;OK&quot;, because the call to `intList.get` would attempt to cast the string you inserted back to an `Integer`, because `intList` is declared to be an `ArrayList&lt;Integer&gt;`. The cast will fail at runtime.\r\n\r\nTo get this to work, you need `intList` to be a `ArrayList` or `ArrayList&lt;String&gt;`, so the call to `get` wouldn&#39;t try to cast the string to `Integer`.\r\n\r\nIf you are only allowed to change the code between the two comments, the only ways I can think of are dirty tricks like declaring a new method. You can still declare a new method by just changing the lines between the two comments. \r\n\r\nFor example, if the code between the two comments are replaced with:\r\n\r\n```\r\nhelper(intList);\r\n}\r\nstatic void helper(ArrayList intList) {\r\nintList.add(&quot;Hello World&quot;);\r\n```\r\n\r\nThen it becomes:\r\n\r\n\r\n    static void insertEvil() {\r\n        var intList = new ArrayList&lt;Integer&gt;();\r\n        // Change starts here\r\n        helper(intList);\r\n    }\r\n    static void helper(ArrayList intList) {\r\n        intList.add(&quot;Hello World&quot;);\r\n        // Change ends here\r\n        if (intList.get(0).equals(&quot;Hello World&quot;)) {\r\n            System.out.println(&quot;Ok&quot;);\r\n        } else {\r\n            System.out.println(&quot;Failure&quot;);\r\n        }\r\n    }\r\n\r\nThe idea is to pass `intList` to another method, to change what `intList` means in the `get` call. In the above code, `intList` in the `get` call now refers to the method parameter, instead of the variable declared in `insertEvil`.\r\n\r\nThat said, I think it is highly likely that the intended solution is just `((ArrayList)intList).add(&quot;Hello World&quot;);`. Whoever designed this might not have considered that `get` would cast the element back to an `Integer`. (I nearly missed it too!)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens\r\n  [2]: https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it","title":"Integer have to be equals() a String","body":"<p>Since the method is named <code>insertEvil</code>, the point of this exercise is probably to teach you that it is possible to insert the &quot;wrong&quot; type of object to a <code>ArrayList&lt;T&gt;</code>, and that generics are not actually enforced at runtime. See: <a href=\"https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens\">type erasure</a>.</p>\n<p>In this case, you need to insert a <code>String</code> into a <code>ArrayList&lt;Integer&gt;</code>.</p>\n<p>One way to do it is to cast it to a <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">raw type</a>:</p>\n<pre><code>((ArrayList)intList).add(&quot;Hello World&quot;);\n</code></pre>\n<p>However, this doesn't actually cause your code to print &quot;OK&quot;, because the call to <code>intList.get</code> would attempt to cast the string you inserted back to an <code>Integer</code>, because <code>intList</code> is declared to be an <code>ArrayList&lt;Integer&gt;</code>. The cast will fail at runtime.</p>\n<p>To get this to work, you need <code>intList</code> to be a <code>ArrayList</code> or <code>ArrayList&lt;String&gt;</code>, so the call to <code>get</code> wouldn't try to cast the string to <code>Integer</code>.</p>\n<p>If you are only allowed to change the code between the two comments, the only ways I can think of are dirty tricks like declaring a new method. You can still declare a new method by just changing the lines between the two comments.</p>\n<p>For example, if the code between the two comments are replaced with:</p>\n<pre><code>helper(intList);\n}\nstatic void helper(ArrayList intList) {\nintList.add(&quot;Hello World&quot;);\n</code></pre>\n<p>Then it becomes:</p>\n<pre><code>static void insertEvil() {\n    var intList = new ArrayList&lt;Integer&gt;();\n    // Change starts here\n    helper(intList);\n}\nstatic void helper(ArrayList intList) {\n    intList.add(&quot;Hello World&quot;);\n    // Change ends here\n    if (intList.get(0).equals(&quot;Hello World&quot;)) {\n        System.out.println(&quot;Ok&quot;);\n    } else {\n        System.out.println(&quot;Failure&quot;);\n    }\n}\n</code></pre>\n<p>The idea is to pass <code>intList</code> to another method, to change what <code>intList</code> means in the <code>get</code> call. In the above code, <code>intList</code> in the <code>get</code> call now refers to the method parameter, instead of the variable declared in <code>insertEvil</code>.</p>\n<p>That said, I think it is highly likely that the intended solution is just <code>((ArrayList)intList).add(&quot;Hello World&quot;);</code>. Whoever designed this might not have considered that <code>get</code> would cast the element back to an <code>Integer</code>. (I nearly missed it too!)</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682023030,"creation_date":1681999506,"answer_id":76065009,"question_id":76064462,"body_markdown":"&gt; I have get a &quot;OK&quot;, but I can only edit and add code between those two comments.\r\n\r\nWell, this works but I&#39;m not certain if it was the desired solution. But there are no warnings or compiler errors.\r\n```\r\nstatic void insertEvil() {\r\n   var intList = new ArrayList&lt;Integer&gt;();\r\n   // Change starts here\r\n   if(intList instanceof List) {\r\n       System.out.println(&quot;Ok&quot;);\r\n       return;\r\n   }\r\n   // Change ends here\r\n   if (intList.get(0).equals(&quot;Hello World&quot;)) {\r\n       System.out.println(&quot;Ok&quot;);\r\n   } else {\r\n       System.out.println(&quot;Failure&quot;);\r\n   }\r\n}\r\n```\r\nBut for that matter you could do anything, print OK and exit. So there must be more to this.","title":"Integer have to be equals() a String","body":"<blockquote>\n<p>I have get a &quot;OK&quot;, but I can only edit and add code between those two comments.</p>\n</blockquote>\n<p>Well, this works but I'm not certain if it was the desired solution. But there are no warnings or compiler errors.</p>\n<pre><code>static void insertEvil() {\n   var intList = new ArrayList&lt;Integer&gt;();\n   // Change starts here\n   if(intList instanceof List) {\n       System.out.println(&quot;Ok&quot;);\n       return;\n   }\n   // Change ends here\n   if (intList.get(0).equals(&quot;Hello World&quot;)) {\n       System.out.println(&quot;Ok&quot;);\n   } else {\n       System.out.println(&quot;Failure&quot;);\n   }\n}\n</code></pre>\n<p>But for that matter you could do anything, print OK and exit. So there must be more to this.</p>\n"}],"owner":{"account_id":28358539,"reputation":41,"user_id":21688896,"display_name":"Student23452345"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1682023030,"creation_date":1681996229,"question_id":76064462,"body_markdown":"I&#39;m in university and struggling with this task. I tried for weeks, but I just can&#39;t understand this task. I have get a &quot;OK&quot;, but I can only edit and add code between those two comments. \r\n\r\n```\r\nstatic void insertEvil() {\r\n    var intList = new ArrayList&lt;Integer&gt;();\r\n    // Change starts here\r\n    intList.add(42);\r\n    // Change ends here\r\n    if (intList.get(0).equals(&quot;Hello World&quot;)) {\r\n        System.out.println(&quot;Ok&quot;);\r\n    } else {\r\n        System.out.println(&quot;Failure&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI tried to &quot;transform&quot; an &quot;Hello World&quot; String into an Hashcode using hashcode(), but it is not working.","title":"Integer have to be equals() a String","body":"<p>I'm in university and struggling with this task. I tried for weeks, but I just can't understand this task. I have get a &quot;OK&quot;, but I can only edit and add code between those two comments.</p>\n<pre><code>static void insertEvil() {\n    var intList = new ArrayList&lt;Integer&gt;();\n    // Change starts here\n    intList.add(42);\n    // Change ends here\n    if (intList.get(0).equals(&quot;Hello World&quot;)) {\n        System.out.println(&quot;Ok&quot;);\n    } else {\n        System.out.println(&quot;Failure&quot;);\n    }\n}\n</code></pre>\n<p>I tried to &quot;transform&quot; an &quot;Hello World&quot; String into an Hashcode using hashcode(), but it is not working.</p>\n"},{"tags":["java","ssl","https","ssl-certificate","squid"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1682116673,"post_id":76066580,"comment_id":134170564,"body_markdown":"Have you checked all certificates in the chain regarding their expiration date? A problem like that would be logically if the problem appeared after a certain date.","body":"Have you checked all certificates in the chain regarding their expiration date? A problem like that would be logically if the problem appeared after a certain date."}],"owner":{"account_id":28297570,"reputation":61,"user_id":21636788,"display_name":"Juan Bustamante"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682022963,"creation_date":1682009919,"question_id":76066580,"body_markdown":"We have a java application (Java 17 temurin) which calls a third party vendor to obtain data through https. As a part of the call, we use [Squid proxy version 5.7](http://www.squid-cache.org/) to inspect any outgoing calls. This was something that was always working, but as of March 3rd, we started to get the following exception intermittently.\r\n\r\n```\r\nCaused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:371)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:309)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1357)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1232)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1175)\r\n\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458)\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201)\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1505)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1420)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\r\n\tat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:580)\r\n\tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187)\r\n\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:142)\r\n\tat com.github.scribejava.core.model.Response.&lt;init&gt;(Response.java:30)\r\n\tat com.github.scribejava.core.model.OAuthRequest.doSend(OAuthRequest.java:57)\r\n\tat com.github.scribejava.core.model.OAuthRequest.send(OAuthRequest.java:37)\r\n\t... 117 common frames omitted\r\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\r\n\tat java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\r\n\tat java.base/sun.security.validator.Validator.validate(Validator.java:264)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1341)\r\n\t... 134 common frames omitted\r\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\r\n\tat java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\r\n\tat java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\r\n\tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434)\r\n\t... 139 common frames omitted\r\n```\r\n\r\nWe&#39;ve checked the cert chain by using a forked version of [InstallCert](https://github.com/escline/InstallCert) when calling the outbound URL from the EC2 instance that our code resides in, and it says there are no errors. We were expecting to see some errors here, but we aren&#39;t even sure that squid proxy shows up when we debug the cert chain through InstallCert.\r\n\r\n```\r\nec2-user@&lt;IP&gt;:~$ java DebugCert &lt;external-url&gt; --n=0\r\nLoading KeyStore /usr/lib/jvm/temurin-17-jdk-amd64/lib/security/cacerts...\r\nOpening connection to &lt;external-url&gt; ...\r\nStarting SSL handshake...\r\n\r\nNo errors, certificate is already trusted\r\n\r\nServer sent 3 certificate(s):\r\n```\r\n\r\nDoes anyone know what this could be? Like I said before, the issue only happens intermittently.\r\n\r\n**UPDATE**\r\n\r\nWe&#39;ve been able to determine that squid is somehow mucking up the certificate chain as shown below. It does this seemingly at random. Does anyone have any idea as to why squid would do this?\r\n\r\n```\r\n 1 Subject CN=&lt;destination&gt;\r\n   Issuer  CN=squid\r\n   sha1    &lt;numeric&gt;\r\n   md5     &lt;numeric&gt;\r\n\r\n 2 Subject CN=squid\r\n   Issuer  CN=squid\r\n   sha1    &lt;numeric&gt;\r\n   md5     &lt;numeric&gt;\r\n\r\n 3 Subject CN=squid\r\n   Issuer  CN=squid\r\n   sha1    &lt;numeric&gt;\r\n   md5     &lt;numeric&gt;\r\n```","title":"Why do I get a &quot;SunCertPathBuilderException: unable to find valid certification path to requested target&quot; from my java application?","body":"<p>We have a java application (Java 17 temurin) which calls a third party vendor to obtain data through https. As a part of the call, we use <a href=\"http://www.squid-cache.org/\" rel=\"nofollow noreferrer\">Squid proxy version 5.7</a> to inspect any outgoing calls. This was something that was always working, but as of March 3rd, we started to get the following exception intermittently.</p>\n<pre><code>Caused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:371)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:309)\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1357)\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1232)\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1175)\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1505)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1420)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\n    at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:580)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:142)\n    at com.github.scribejava.core.model.Response.&lt;init&gt;(Response.java:30)\n    at com.github.scribejava.core.model.OAuthRequest.doSend(OAuthRequest.java:57)\n    at com.github.scribejava.core.model.OAuthRequest.send(OAuthRequest.java:37)\n    ... 117 common frames omitted\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\n    at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\n    at java.base/sun.security.validator.Validator.validate(Validator.java:264)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132)\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1341)\n    ... 134 common frames omitted\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\n    at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\n    at java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\n    at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434)\n    ... 139 common frames omitted\n</code></pre>\n<p>We've checked the cert chain by using a forked version of <a href=\"https://github.com/escline/InstallCert\" rel=\"nofollow noreferrer\">InstallCert</a> when calling the outbound URL from the EC2 instance that our code resides in, and it says there are no errors. We were expecting to see some errors here, but we aren't even sure that squid proxy shows up when we debug the cert chain through InstallCert.</p>\n<pre><code>ec2-user@&lt;IP&gt;:~$ java DebugCert &lt;external-url&gt; --n=0\nLoading KeyStore /usr/lib/jvm/temurin-17-jdk-amd64/lib/security/cacerts...\nOpening connection to &lt;external-url&gt; ...\nStarting SSL handshake...\n\nNo errors, certificate is already trusted\n\nServer sent 3 certificate(s):\n</code></pre>\n<p>Does anyone know what this could be? Like I said before, the issue only happens intermittently.</p>\n<p><strong>UPDATE</strong></p>\n<p>We've been able to determine that squid is somehow mucking up the certificate chain as shown below. It does this seemingly at random. Does anyone have any idea as to why squid would do this?</p>\n<pre><code> 1 Subject CN=&lt;destination&gt;\n   Issuer  CN=squid\n   sha1    &lt;numeric&gt;\n   md5     &lt;numeric&gt;\n\n 2 Subject CN=squid\n   Issuer  CN=squid\n   sha1    &lt;numeric&gt;\n   md5     &lt;numeric&gt;\n\n 3 Subject CN=squid\n   Issuer  CN=squid\n   sha1    &lt;numeric&gt;\n   md5     &lt;numeric&gt;\n</code></pre>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682022789,"creation_date":1680026292,"answer_id":75869569,"question_id":66550826,"body_markdown":"Yes it is possible.\r\n\r\nYou need to have a MapperConfig that will carry all the common configurations.\r\n\r\n    @MapperConfig(\r\n        mappingInheritanceStrategy = MappingInheritanceStrategy.AUTO_INHERIT_FROM_CONFIG\r\n    )\r\n    public interface ParentConfig {\r\n    \r\n        // Not intended to be generated, but to carry inheritable mapping annotations:\r\n        @Mapping(target = &quot;targetId&quot;, source = &quot;id&quot;)\r\n        ParentDto entityToDto(Parent entity);\r\n\r\n    }\r\n\r\nand then, you need to have a mapper and specify that it will have to use the ParentConfig\r\n\r\n    @Mapper(config = ParentConfig.class)\r\n    public interface ChildAMapper {\r\n    \r\n        @Mapping(target = &quot;targetName&quot;, source = &quot;name&quot;)\r\n        // additionally inherited from ParentConfig, because ChildA extends Parent and ChildADto extends ParentDto:\r\n        // @Mapping(target = &quot;targetId&quot;, source = &quot;id&quot;)\r\n        ChildADto toChildADto(ChildA childA);\r\n\r\n    }\r\n\r\nOfficial documentation: [shared-configurations][1]\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#shared-configurations","title":"Mapstruct inherit @Mappings","body":"<p>Yes it is possible.</p>\n<p>You need to have a MapperConfig that will carry all the common configurations.</p>\n<pre><code>@MapperConfig(\n    mappingInheritanceStrategy = MappingInheritanceStrategy.AUTO_INHERIT_FROM_CONFIG\n)\npublic interface ParentConfig {\n\n    // Not intended to be generated, but to carry inheritable mapping annotations:\n    @Mapping(target = &quot;targetId&quot;, source = &quot;id&quot;)\n    ParentDto entityToDto(Parent entity);\n\n}\n</code></pre>\n<p>and then, you need to have a mapper and specify that it will have to use the ParentConfig</p>\n<pre><code>@Mapper(config = ParentConfig.class)\npublic interface ChildAMapper {\n\n    @Mapping(target = &quot;targetName&quot;, source = &quot;name&quot;)\n    // additionally inherited from ParentConfig, because ChildA extends Parent and ChildADto extends ParentDto:\n    // @Mapping(target = &quot;targetId&quot;, source = &quot;id&quot;)\n    ChildADto toChildADto(ChildA childA);\n\n}\n</code></pre>\n<p>Official documentation: <a href=\"https://mapstruct.org/documentation/stable/reference/html/#shared-configurations\" rel=\"nofollow noreferrer\">shared-configurations</a></p>\n"}],"owner":{"account_id":10187144,"reputation":425,"user_id":7521669,"accept_rate":58,"display_name":"Prince of Sweden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":901,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682022789,"creation_date":1615307116,"question_id":66550826,"body_markdown":"Trying to make a MapStruct implementation where I have a &quot;parent&quot;-object like this:\r\n\r\n    public abstract class Parent {\r\n    private String id;\r\n    }\r\n\r\nThen I have children with a whole bunch of more attributes such as:\r\n\r\n    public class ChildA extends Parent{\r\n    private String name;\r\n    //And so on...\r\n    }\r\n\r\n    public class ChildB extends Parent{\r\n    private String address;\r\n    //And so on...\r\n    }\r\n\r\nHow do I represent this data-structure in MapStruct mappers? I only want to map the children and not the parent. I have successfully made a mapper to map a child with an abstract class, but I can&#39;t get the &quot;parent&quot; mapping to tag along without explicitly stating it inside the child-mappers.\r\n\r\nIs there a way I can do something like:\r\n\r\n    @Mapping(source = &quot;id&quot; target = &quot;targetId&quot;)\r\n\r\nIn a parent mapper, and then inherit that mapping statement to the children? I don&#39;t want the parent to have a mapper on its own, I just want it to hold that mapping statement to reduce redundancy. \r\n\r\nI would love to extend my abstract child-mapper class with a parent class and then simply inherit. Is this possible?","title":"Mapstruct inherit @Mappings","body":"<p>Trying to make a MapStruct implementation where I have a &quot;parent&quot;-object like this:</p>\n<pre><code>public abstract class Parent {\nprivate String id;\n}\n</code></pre>\n<p>Then I have children with a whole bunch of more attributes such as:</p>\n<pre><code>public class ChildA extends Parent{\nprivate String name;\n//And so on...\n}\n\npublic class ChildB extends Parent{\nprivate String address;\n//And so on...\n}\n</code></pre>\n<p>How do I represent this data-structure in MapStruct mappers? I only want to map the children and not the parent. I have successfully made a mapper to map a child with an abstract class, but I can't get the &quot;parent&quot; mapping to tag along without explicitly stating it inside the child-mappers.</p>\n<p>Is there a way I can do something like:</p>\n<pre><code>@Mapping(source = &quot;id&quot; target = &quot;targetId&quot;)\n</code></pre>\n<p>In a parent mapper, and then inherit that mapping statement to the children? I don't want the parent to have a mapper on its own, I just want it to hold that mapping statement to reduce redundancy.</p>\n<p>I would love to extend my abstract child-mapper class with a parent class and then simply inherit. Is this possible?</p>\n"},{"tags":["java","authentication","jsp","single-sign-on","j-security-check"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1682088476,"post_id":76068080,"comment_id":134165481,"body_markdown":"It&#39;s not clear how would you like to use an authentication. You dhould clirify the problem and post the relevant code. Don&#39;t ask many questions at once, narrow the question to a concrete problem and describe what did you try to resolve it. We are not supposed to write a reference to authentification to guide you. You can find it yourself.","body":"It&#39;s not clear how would you like to use an authentication. You dhould clirify the problem and post the relevant code. Don&#39;t ask many questions at once, narrow the question to a concrete problem and describe what did you try to resolve it. We are not supposed to write a reference to authentification to guide you. You can find it yourself."}],"owner":{"account_id":6805367,"reputation":389,"user_id":5237289,"accept_rate":67,"display_name":"Aria"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1682022784,"creation_date":1682022784,"question_id":76068080,"body_markdown":"I just started learning about using j_security_check and it seems pretty straightforward but what I cant seem to understand is how the action knows what api call to handle the login process. Say I have an api set up and I want j_security_check to hit that api and login if successful, how do I go about that? \r\nAlso is it editable? Can we change the action name, or how it authenticates? I cant seem to find any documentation on this. I just see help setting up in the html form and the login-config in the web.xml. Any point in the right direction would be truly appreciated ","title":"How does j_security_check work? How do we customize the login API call?","body":"<p>I just started learning about using j_security_check and it seems pretty straightforward but what I cant seem to understand is how the action knows what api call to handle the login process. Say I have an api set up and I want j_security_check to hit that api and login if successful, how do I go about that?\nAlso is it editable? Can we change the action name, or how it authenticates? I cant seem to find any documentation on this. I just see help setting up in the html form and the login-config in the web.xml. Any point in the right direction would be truly appreciated</p>\n"},{"tags":["java","polymorphism","single-inheritance"],"comments":[{"owner":{"account_id":13045793,"reputation":142,"user_id":9809833,"display_name":"invertedPanda"},"score":0,"creation_date":1682022279,"post_id":76067934,"comment_id":134154693,"body_markdown":"It&#39;s because per Java rules, the superclass constructor Animal() gets called really early on, even before Dog.name gets initialised to &quot;Dog&quot;, so when Animal() calls getName(), which is overriden by Dog.getName(), it prints Dog.name which is not yet initialized (null).","body":"It&#39;s because per Java rules, the superclass constructor Animal() gets called really early on, even before Dog.name gets initialised to &quot;Dog&quot;, so when Animal() calls getName(), which is overriden by Dog.getName(), it prints Dog.name which is not yet initialized (null)."}],"answers":[{"tags":[],"owner":{"account_id":7856851,"reputation":593,"user_id":5938387,"display_name":"airsquared"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682022531,"creation_date":1682021824,"answer_id":76067968,"question_id":76067934,"body_markdown":"The `getName()` method in `Dog` overrides the `getName()` method in its superclass `Animal`, so no matter what class the code is in, if the object is a `Dog`, it will call `getName()` in `Dog`.\r\n\r\nIt prints `Animal&#39;s name is: null` because the constructor in the superclass is called before the fields in the subclass are initialized and the constructor in the subclass is called.\r\n\r\nIf you want it to print the value of the `name` variable in `Dog` before the instance is fully initialized, you can make the variable static (but this makes it no longer a class field and would apply to all instances of `Dog`).","title":"Single Inheritance output question in java","body":"<p>The <code>getName()</code> method in <code>Dog</code> overrides the <code>getName()</code> method in its superclass <code>Animal</code>, so no matter what class the code is in, if the object is a <code>Dog</code>, it will call <code>getName()</code> in <code>Dog</code>.</p>\n<p>It prints <code>Animal's name is: null</code> because the constructor in the superclass is called before the fields in the subclass are initialized and the constructor in the subclass is called.</p>\n<p>If you want it to print the value of the <code>name</code> variable in <code>Dog</code> before the instance is fully initialized, you can make the variable static (but this makes it no longer a class field and would apply to all instances of <code>Dog</code>).</p>\n"}],"owner":{"account_id":28363741,"reputation":1,"user_id":21693379,"display_name":"isofiso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682022531,"creation_date":1682021510,"question_id":76067934,"body_markdown":"I have a output question in java. \r\n\r\n```\r\n\r\npackage javaapplication32;\r\nclass Animal {\r\n    String name = &quot;Animal&quot;;\r\n\r\n    Animal() {\r\n        System.out.println(&quot;Animal&#39;s name is: &quot; + getName());\r\n    }\r\n\r\n    String getName() {\r\n        return name;\r\n    }\r\n}\r\n\r\nclass Dog extends Animal {\r\n    String name = &quot;Dog&quot;;\r\n\r\n    Dog() {\r\n        System.out.println(&quot;Dog&#39;s name is: &quot; + getName());\r\n    }\r\n\r\n    String getName() {\r\n        return name;\r\n    }\r\n}\r\n\r\npublic class JavaApplication32 {\r\n    public static void main(String[] args) {\r\n        Dog dog = new Dog();\r\n        \r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n```\r\n\r\nThe output of the code is:\r\n\r\nAnimal&#39;s name is: null\r\n\r\nDog&#39;s name is: Dog\r\n\r\nAnd my question are that;\r\n\r\nwhy  does the &#39;getName();&#39; method  which is in the Animal constructor invoke the method of Class Dog and why didn&#39;t it return &quot;Dog&quot; ? \r\n\r\nI expected the output as;\r\n\r\nAnimal&#39;s name is: Animal\r\n\r\nDog&#39;s name is: Dog","title":"Single Inheritance output question in java","body":"<p>I have a output question in java.</p>\n<pre><code>\npackage javaapplication32;\nclass Animal {\n    String name = &quot;Animal&quot;;\n\n    Animal() {\n        System.out.println(&quot;Animal's name is: &quot; + getName());\n    }\n\n    String getName() {\n        return name;\n    }\n}\n\nclass Dog extends Animal {\n    String name = &quot;Dog&quot;;\n\n    Dog() {\n        System.out.println(&quot;Dog's name is: &quot; + getName());\n    }\n\n    String getName() {\n        return name;\n    }\n}\n\npublic class JavaApplication32 {\n    public static void main(String[] args) {\n        Dog dog = new Dog();\n        \n    }\n}\n\n\n\n\n</code></pre>\n<p>The output of the code is:</p>\n<p>Animal's name is: null</p>\n<p>Dog's name is: Dog</p>\n<p>And my question are that;</p>\n<p>why  does the 'getName();' method  which is in the Animal constructor invoke the method of Class Dog and why didn't it return &quot;Dog&quot; ?</p>\n<p>I expected the output as;</p>\n<p>Animal's name is: Animal</p>\n<p>Dog's name is: Dog</p>\n"},{"tags":["java","mongodb","spring-data-mongodb"],"comments":[{"owner":{"account_id":181514,"reputation":9905,"user_id":415559,"accept_rate":73,"display_name":"barrypicker"},"score":0,"creation_date":1643128664,"post_id":70851948,"comment_id":125255336,"body_markdown":"For any enterprise quality solutions, use MongoTemplate instead of MongoRepository.  MongoTemplate provides much more control.  This is especially important if the application grows large and needs to scale via sharding.","body":"For any enterprise quality solutions, use MongoTemplate instead of MongoRepository.  MongoTemplate provides much more control.  This is especially important if the application grows large and needs to scale via sharding."},{"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"score":0,"creation_date":1656487343,"post_id":70851948,"comment_id":128581578,"body_markdown":"@dineshalwis is your question resolved?","body":"@dineshalwis is your question resolved?"}],"answers":[{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643138754,"creation_date":1643128321,"answer_id":70852277,"question_id":70851948,"body_markdown":"Not sure about creating a query for MongoDB.\r\nFor SQL syntax you could get the current date and pass it to a query like:\r\n\r\n```\r\nSELECT * FROM Example WHERE code=myCode \r\n AND nowDate BETWEEN startDate AND endDate;\r\n```\r\n\r\nIf you use something like ***Spring Data*** you could create a specified method for `ExampleRepository`:\r\n\r\n    @Query(&quot;from Example where code = :code &quot; +\r\n            &quot;and :date between startDate and endDate&quot;)\r\n    Example getAllExampleByCode(@Param(&quot;code&quot;) String code, @Param(&quot;date&quot;) LocalDate date);\r\n\r\nHowever, you need to know that `code` param is unique and you will get only 1 result.  \r\nOtherwise, you will get an entity, not a unique exception. Or make method return `List&lt;Example&gt;`.\r\n\r\nAnd when you will call it from the service layer you could pass date param:\r\n\r\n```\r\nexampleRepo.getAllExampleByCode(&quot;myCode&quot;, LocalDate.now());\r\n```","title":"How to find record with date query in MongoRepository","body":"<p>Not sure about creating a query for MongoDB.\nFor SQL syntax you could get the current date and pass it to a query like:</p>\n<pre><code>SELECT * FROM Example WHERE code=myCode \n AND nowDate BETWEEN startDate AND endDate;\n</code></pre>\n<p>If you use something like <em><strong>Spring Data</strong></em> you could create a specified method for <code>ExampleRepository</code>:</p>\n<pre><code>@Query(&quot;from Example where code = :code &quot; +\n        &quot;and :date between startDate and endDate&quot;)\nExample getAllExampleByCode(@Param(&quot;code&quot;) String code, @Param(&quot;date&quot;) LocalDate date);\n</code></pre>\n<p>However, you need to know that <code>code</code> param is unique and you will get only 1 result.<br />\nOtherwise, you will get an entity, not a unique exception. Or make method return <code>List&lt;Example&gt;</code>.</p>\n<p>And when you will call it from the service layer you could pass date param:</p>\n<pre><code>exampleRepo.getAllExampleByCode(&quot;myCode&quot;, LocalDate.now());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4302729,"reputation":43,"user_id":3516051,"display_name":"fmasche"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682021369,"creation_date":1682020993,"answer_id":76067874,"question_id":70851948,"body_markdown":"I also had this issue having the LocalDate datatype.\r\nWhat worked for me was, based on your case:\r\n\r\n    List&lt;Example&gt; findByCodeAndEndDateIsGreaterThanEqualAndStartDateIsLessThanEqual(final String code, final Date d1, final Date d2)\r\n\r\nwhere d1 and d2 would have today&#39;s date:\r\n\r\n    LocalDate today = LocalDate.now();\r\n    Date date = Date.from(today.atStartOfDay(ZoneOffset.UTC).toInstant());\r\n\r\nIt&#39;s important to notice the time zone *ZoneOffset.UTC* should match your MongoDB configuration so you don&#39;t miss any results.","title":"How to find record with date query in MongoRepository","body":"<p>I also had this issue having the LocalDate datatype.\nWhat worked for me was, based on your case:</p>\n<pre><code>List&lt;Example&gt; findByCodeAndEndDateIsGreaterThanEqualAndStartDateIsLessThanEqual(final String code, final Date d1, final Date d2)\n</code></pre>\n<p>where d1 and d2 would have today's date:</p>\n<pre><code>LocalDate today = LocalDate.now();\nDate date = Date.from(today.atStartOfDay(ZoneOffset.UTC).toInstant());\n</code></pre>\n<p>It's important to notice the time zone <em>ZoneOffset.UTC</em> should match your MongoDB configuration so you don't miss any results.</p>\n"}],"owner":{"account_id":12110857,"reputation":257,"user_id":13320976,"display_name":"dinesh alwis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682021369,"creation_date":1643127064,"question_id":70851948,"body_markdown":"I have a collection called `Example`:\r\n\r\n    public class Example extends PersistObject {\r\n\r\n       private LocalDate startDate;\r\n       private LocalDate endDate;\r\n       private String code;\r\n\r\n    }\r\n\r\nI want to find a document with a particular `code` that has `startDate` and `endDate` where the current date falls in between. \r\n\r\n***How can I get this with MongoRepository supported keywords?*** ","title":"How to find record with date query in MongoRepository","body":"<p>I have a collection called <code>Example</code>:</p>\n<pre><code>public class Example extends PersistObject {\n\n   private LocalDate startDate;\n   private LocalDate endDate;\n   private String code;\n\n}\n</code></pre>\n<p>I want to find a document with a particular <code>code</code> that has <code>startDate</code> and <code>endDate</code> where the current date falls in between.</p>\n<p><em><strong>How can I get this with MongoRepository supported keywords?</strong></em></p>\n"},{"tags":["java","android","android-alertdialog"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1682023284,"post_id":76067917,"comment_id":134154898,"body_markdown":"Try the Neutral button.","body":"Try the Neutral button."},{"owner":{"account_id":23956211,"reputation":13,"user_id":17947062,"display_name":"Adamm"},"score":0,"creation_date":1682108347,"post_id":76067917,"comment_id":134169409,"body_markdown":"@blackapps sorry, I did something wrong. Now it works - `OK` button is on the left, but is there any way I can change its color?","body":"@blackapps sorry, I did something wrong. Now it works - <code>OK</code> button is on the left, but is there any way I can change its color?"},{"owner":{"account_id":8263558,"reputation":102,"user_id":6423246,"display_name":"Danny E.K. van der Kolk"},"score":0,"creation_date":1682710304,"post_id":76067917,"comment_id":134264008,"body_markdown":"I think you will have to write your own customdialog if you want more control.","body":"I think you will have to write your own customdialog if you want more control."}],"owner":{"account_id":23956211,"reputation":13,"user_id":17947062,"display_name":"Adamm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682021293,"creation_date":1682021293,"question_id":76067917,"body_markdown":"I&#39;m new to Android development, and I&#39;m making my first java app - a simple tic-tac-toe game in Android Studio.\r\n\r\nWhen someone wins or there is a draw, the app displays a `AlertDialog` message, with title, description, and two buttons: `OK`, and `PLAY AGAIN`.\r\n\r\nI wanted it to look a bit different - The `OK` button on the left, with different color, for example red, and the second - purple - button, on the right.\r\n\r\nI was inspired by this message while before deleting the board in Trello app. It looks like this:\r\n\r\n[![Example from Trello app](https://i.stack.imgur.com/pSqQ5.png)](https://i.stack.imgur.com/pSqQ5.png)\r\n\r\n***\r\n\r\nAnd in my app it looks like this:\r\n\r\n[![My app](https://i.stack.imgur.com/HsIqU.png)](https://i.stack.imgur.com/HsIqU.png)\r\n\r\n***\r\n\r\nI use this function:\r\n\r\n```java\r\nAlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n\r\nbuilder.setTitle(playerTwoName + &quot; Won!&quot;)\r\n        .setMessage(&quot;Congratulations! You won in &quot; + timer_minutes + &quot; minutes and &quot; + timer_seconds + &quot; seconds!&quot;)\r\n        .setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialogInterface, int i) {\r\n                        // ...\r\n                }\r\n        })\r\n        .setNegativeButton(&quot;PLAY AGAIN&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialogInterface, int i) {\r\n                        // ...\r\n                }\r\n        })\r\n        .setCancelable(false);\r\n\r\nbuilder.create();\r\n```","title":"Customizing 2 buttons separately in AlertDialog (Android Studio, java)","body":"<p>I'm new to Android development, and I'm making my first java app - a simple tic-tac-toe game in Android Studio.</p>\n<p>When someone wins or there is a draw, the app displays a <code>AlertDialog</code> message, with title, description, and two buttons: <code>OK</code>, and <code>PLAY AGAIN</code>.</p>\n<p>I wanted it to look a bit different - The <code>OK</code> button on the left, with different color, for example red, and the second - purple - button, on the right.</p>\n<p>I was inspired by this message while before deleting the board in Trello app. It looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/pSqQ5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pSqQ5.png\" alt=\"Example from Trello app\" /></a></p>\n<hr />\n<p>And in my app it looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/HsIqU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HsIqU.png\" alt=\"My app\" /></a></p>\n<hr />\n<p>I use this function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>AlertDialog.Builder builder = new AlertDialog.Builder(this);\n\nbuilder.setTitle(playerTwoName + &quot; Won!&quot;)\n        .setMessage(&quot;Congratulations! You won in &quot; + timer_minutes + &quot; minutes and &quot; + timer_seconds + &quot; seconds!&quot;)\n        .setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialogInterface, int i) {\n                        // ...\n                }\n        })\n        .setNegativeButton(&quot;PLAY AGAIN&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialogInterface, int i) {\n                        // ...\n                }\n        })\n        .setCancelable(false);\n\nbuilder.create();\n</code></pre>\n"},{"tags":["java","spring-boot","thymeleaf"],"owner":{"account_id":21188954,"reputation":41,"user_id":15581779,"display_name":"Myrat Orjyyev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682020954,"creation_date":1682020375,"question_id":76067785,"body_markdown":"I have a simple Spring Boot application about Contact Manager.Th:selected attribute not working on view edit page.Please help me.\r\n\r\nContorller\r\n```\r\n    @GetMapping(&quot;/{id}/edit&quot;)\r\n    public ModelAndView edit(@PathVariable(&quot;id&quot;)long id) {\r\n        Contact contact = contactService.get(id);\r\n        ModelAndView modelAndView = new ModelAndView(&quot;edit.html&quot;);\r\n        PhoneList phoneList = new PhoneList(contact.getPhones());\r\n\r\n\r\n        modelAndView.addObject(&quot;contact&quot;, contact);\r\n        modelAndView.addObject(&quot;form&quot;, phoneList);\r\n        return modelAndView;\r\n    }\r\n```\r\n\r\nedit.html\r\n```\r\n &lt;div th:object=&quot;${form}&quot;&gt;\r\n                &lt;div class=&quot;form-group&quot; th:each=&quot;phone, itemStat : ${form.phones}&quot;&gt;\r\n\r\n\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;select name=&quot;type&quot; id=&quot;type&quot;&gt;\r\n                            &lt;option th:each=&quot;typeOpt : ${T(ru.murik.phone_book3.models.Type).values()}&quot;\r\n                                    th:value=&quot;${typeOpt}&quot;\r\n                                    th:text=&quot;${typeOpt}&quot;\r\n                                    th:selected=&quot;${phone.getPhoneType().getType()} == ${typeOpt}&quot;&gt;\r\n                            &lt;/option&gt;\r\n                        &lt;/select&gt;\r\n                        &lt;p th:text=&quot;${phone.getPhoneType().getType()}&quot;&gt;&lt;/p&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;br&gt;\r\n                    &lt;br&gt;\r\n\r\n\r\n                    &lt;!--                    &lt;label for=&quot;phoneNumber&quot; th:text=&quot;${phone.phoneType.type}&quot;&gt;&lt;/label&gt;--&gt;\r\n                    &lt;input type=&quot;text&quot; th:field=&quot;*{phones[__${itemStat.index}__].phoneNumber}&quot; class=&quot;form-control&quot; id=&quot;phoneNumber&quot; &gt;\r\n                    &lt;br&gt;\r\n                    &lt;br&gt;\r\n\r\n                &lt;/div&gt;\r\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Add&lt;/button&gt;\r\n &lt;/div&gt;\r\n```","title":"Why is springboot th:selected not working","body":"<p>I have a simple Spring Boot application about Contact Manager.Th:selected attribute not working on view edit page.Please help me.</p>\n<p>Contorller</p>\n<pre><code>    @GetMapping(&quot;/{id}/edit&quot;)\n    public ModelAndView edit(@PathVariable(&quot;id&quot;)long id) {\n        Contact contact = contactService.get(id);\n        ModelAndView modelAndView = new ModelAndView(&quot;edit.html&quot;);\n        PhoneList phoneList = new PhoneList(contact.getPhones());\n\n\n        modelAndView.addObject(&quot;contact&quot;, contact);\n        modelAndView.addObject(&quot;form&quot;, phoneList);\n        return modelAndView;\n    }\n</code></pre>\n<p>edit.html</p>\n<pre><code> &lt;div th:object=&quot;${form}&quot;&gt;\n                &lt;div class=&quot;form-group&quot; th:each=&quot;phone, itemStat : ${form.phones}&quot;&gt;\n\n\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;select name=&quot;type&quot; id=&quot;type&quot;&gt;\n                            &lt;option th:each=&quot;typeOpt : ${T(ru.murik.phone_book3.models.Type).values()}&quot;\n                                    th:value=&quot;${typeOpt}&quot;\n                                    th:text=&quot;${typeOpt}&quot;\n                                    th:selected=&quot;${phone.getPhoneType().getType()} == ${typeOpt}&quot;&gt;\n                            &lt;/option&gt;\n                        &lt;/select&gt;\n                        &lt;p th:text=&quot;${phone.getPhoneType().getType()}&quot;&gt;&lt;/p&gt;\n                    &lt;/div&gt;\n                    &lt;br&gt;\n                    &lt;br&gt;\n\n\n                    &lt;!--                    &lt;label for=&quot;phoneNumber&quot; th:text=&quot;${phone.phoneType.type}&quot;&gt;&lt;/label&gt;--&gt;\n                    &lt;input type=&quot;text&quot; th:field=&quot;*{phones[__${itemStat.index}__].phoneNumber}&quot; class=&quot;form-control&quot; id=&quot;phoneNumber&quot; &gt;\n                    &lt;br&gt;\n                    &lt;br&gt;\n\n                &lt;/div&gt;\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Add&lt;/button&gt;\n &lt;/div&gt;\n</code></pre>\n"},{"tags":["java","spring-security","basic-authentication"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1681822671,"post_id":76044830,"comment_id":134115851,"body_markdown":"Why shouldn&#39;t it? You provide credentials, authentication is done before authorization, hence it will run first and as it is detected as a Basic Auth request it will be handled as such.","body":"Why shouldn&#39;t it? You provide credentials, authentication is done before authorization, hence it will run first and as it is detected as a Basic Auth request it will be handled as such."}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682020945,"creation_date":1681822124,"question_id":76044830,"body_markdown":"```\r\n// @formatter:off\r\n      httpSecurity\r\n               .csrf().disable()\r\n               .authorizeRequests()\r\n                   .antMatchers(HttpMethod.GET).permitAll()\r\n                   .anyRequest().authenticated()\r\n                   .and()\r\n               .httpBasic()\r\n                   .and()\r\n               .exceptionHandling()\r\n                   .authenticationEntryPoint(authenticationEntryPoint());\r\n      // @formatter:on\r\n```\r\n\r\nWhy Spring Security authenticate the user for `GET` request when I set the Basic Auth (username and password) although all `GET` requests are permit without authentication? \r\n\r\nFor the username or password is wrong the `GET` request get an authentication error.","title":"Authenticate user by permitAll","body":"<pre><code>// @formatter:off\n      httpSecurity\n               .csrf().disable()\n               .authorizeRequests()\n                   .antMatchers(HttpMethod.GET).permitAll()\n                   .anyRequest().authenticated()\n                   .and()\n               .httpBasic()\n                   .and()\n               .exceptionHandling()\n                   .authenticationEntryPoint(authenticationEntryPoint());\n      // @formatter:on\n</code></pre>\n<p>Why Spring Security authenticate the user for <code>GET</code> request when I set the Basic Auth (username and password) although all <code>GET</code> requests are permit without authentication?</p>\n<p>For the username or password is wrong the <code>GET</code> request get an authentication error.</p>\n"},{"tags":["java","xml","security","certificate","digital-signature"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682023665,"post_id":76067749,"comment_id":134154944,"body_markdown":"What kind of signature do you need?","body":"What kind of signature do you need?"}],"owner":{"account_id":5265538,"reputation":1,"user_id":4205662,"display_name":"Edwin Quijada"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682020158,"creation_date":1682020158,"question_id":76067749,"body_markdown":"I need to sign a XML file using a certificate .p12 using Java. I have tried to see any examples with different methods but doesnt work.\r\nI saw Apache-Santuario but it is not any information about how to do it.\r\nThere is any lib or something to do this or address me in the right direction to do\r\n\r\nThks In Advance ","title":"Sign a XML file with .pfx certificate using Java","body":"<p>I need to sign a XML file using a certificate .p12 using Java. I have tried to see any examples with different methods but doesnt work.\nI saw Apache-Santuario but it is not any information about how to do it.\nThere is any lib or something to do this or address me in the right direction to do</p>\n<p>Thks In Advance</p>\n"},{"tags":["java","ignite"],"answers":[{"tags":[],"owner":{"account_id":13067933,"reputation":131,"user_id":10016872,"display_name":"Ilya Shishkov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682019843,"creation_date":1681979233,"answer_id":76062020,"question_id":76010538,"body_markdown":"&gt; 1. When I start a new ignite node in my JVM, somehow keep track of all the threads it spawns and then use (the deprecated) method thread.stop to kill all its threads abruptly when I want to simulate it dying. I can&#39;t see a way of reliably distinguishing between threads launched by one Ignite in the JVM from threads spawned by another though, unless I assume Ignite starts all its threads at startup only.\r\n\r\nIf you are testing your application behavior during cluster nodes topology changes, there is no necessity to use private API or inner threads and classes of Ignite. Such tests have been already maintained in Ignite test framework. Moreover, there are extra integration tests based on Ducktape framework ([IEP-56][1]), which run Ignite nodes in a separate JVMs by means of Docker.\r\n\r\nI&#39;m not completely sure of your case, but it seems, that you need something like [Test Containers][2].\r\n\r\nFor example, such code downloads Docker image and runs Ignite node with fixed port for thin client (unfortunately, thin client can not connect to ephemeral port):\r\n\r\n    FixedHostPortGenericContainer&lt;?&gt; ignite = new FixedHostPortGenericContainer&lt;&gt;(&quot;apacheignite/ignite&quot;)\r\n        .withFixedExposedPort(10800, 10800)\r\n\r\nThen, call `ignite.stop()` to simulate unexpected node failure.\r\n\r\nMoreover, TestContainers includes some useful modules, such as [ToxyProxy][3], which provides possibility to add &quot;network instability&quot;: slowing down of requests, resetting the peer, etc.\r\n\r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/IGNITE/IEP-56%3A+Distributed+environment+tests\r\n  [2]: https://www.testcontainers.org/\r\n  [3]: https://www.testcontainers.org/modules/toxiproxy","title":"Simulating apache ignite node failure for unit testing","body":"<blockquote>\n<ol>\n<li>When I start a new ignite node in my JVM, somehow keep track of all the threads it spawns and then use (the deprecated) method thread.stop to kill all its threads abruptly when I want to simulate it dying. I can't see a way of reliably distinguishing between threads launched by one Ignite in the JVM from threads spawned by another though, unless I assume Ignite starts all its threads at startup only.</li>\n</ol>\n</blockquote>\n<p>If you are testing your application behavior during cluster nodes topology changes, there is no necessity to use private API or inner threads and classes of Ignite. Such tests have been already maintained in Ignite test framework. Moreover, there are extra integration tests based on Ducktape framework (<a href=\"https://cwiki.apache.org/confluence/display/IGNITE/IEP-56%3A+Distributed+environment+tests\" rel=\"nofollow noreferrer\">IEP-56</a>), which run Ignite nodes in a separate JVMs by means of Docker.</p>\n<p>I'm not completely sure of your case, but it seems, that you need something like <a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">Test Containers</a>.</p>\n<p>For example, such code downloads Docker image and runs Ignite node with fixed port for thin client (unfortunately, thin client can not connect to ephemeral port):</p>\n<pre><code>FixedHostPortGenericContainer&lt;?&gt; ignite = new FixedHostPortGenericContainer&lt;&gt;(&quot;apacheignite/ignite&quot;)\n    .withFixedExposedPort(10800, 10800)\n</code></pre>\n<p>Then, call <code>ignite.stop()</code> to simulate unexpected node failure.</p>\n<p>Moreover, TestContainers includes some useful modules, such as <a href=\"https://www.testcontainers.org/modules/toxiproxy\" rel=\"nofollow noreferrer\">ToxyProxy</a>, which provides possibility to add &quot;network instability&quot;: slowing down of requests, resetting the peer, etc.</p>\n"}],"owner":{"account_id":4628372,"reputation":178,"user_id":3751527,"display_name":"Open Door Logistics"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76062020,"answer_count":1,"score":0,"last_activity_date":1682019843,"creation_date":1681428322,"question_id":76010538,"body_markdown":"For unit testing, I&#39;m running multiple Ignite nodes in the same JVM (as discussed in the answer [here][1] ).\r\n\r\nIn my unit tests I want to simulate what happens when an Ignite node unexpectedly dies, e.g. to simulate a sudden hardware failure and the effects of it on the cluster as a whole. I can&#39;t just call Ignite.close() because this does an **orderly** shutdown, and I want a sudden **disorderly** shutdown, with all the problems it could bring.\r\n\r\nI can think of two potential ways to do this:\r\n\r\n1. When I start a new ignite node in my JVM, somehow keep track of all the threads it spawns and then use (the deprecated) method thread.stop to kill all its threads abruptly when I want to simulate it dying. I can&#39;t see a way of reliably distinguishing between threads launched by one Ignite in the JVM from threads spawned by another though, unless I assume Ignite starts all its threads at startup only.\r\n\r\n2. Launch a separate process using the Java process API (see first answer [here][2] ), start ignite in that process and then kill it by force using Process.destroy() or Process.destroyForcibly(). \r\n\r\nDoes anyone know a better approach?\r\n\r\nI&#39;m using Java 8.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/57353239/how-to-run-multiple-apache-ignite-nodes-on-same-jvm\r\n  [2]: https://stackoverflow.com/questions/636367/executing-a-java-application-in-a-separate-process","title":"Simulating apache ignite node failure for unit testing","body":"<p>For unit testing, I'm running multiple Ignite nodes in the same JVM (as discussed in the answer <a href=\"https://stackoverflow.com/questions/57353239/how-to-run-multiple-apache-ignite-nodes-on-same-jvm\">here</a> ).</p>\n<p>In my unit tests I want to simulate what happens when an Ignite node unexpectedly dies, e.g. to simulate a sudden hardware failure and the effects of it on the cluster as a whole. I can't just call Ignite.close() because this does an <strong>orderly</strong> shutdown, and I want a sudden <strong>disorderly</strong> shutdown, with all the problems it could bring.</p>\n<p>I can think of two potential ways to do this:</p>\n<ol>\n<li><p>When I start a new ignite node in my JVM, somehow keep track of all the threads it spawns and then use (the deprecated) method thread.stop to kill all its threads abruptly when I want to simulate it dying. I can't see a way of reliably distinguishing between threads launched by one Ignite in the JVM from threads spawned by another though, unless I assume Ignite starts all its threads at startup only.</p>\n</li>\n<li><p>Launch a separate process using the Java process API (see first answer <a href=\"https://stackoverflow.com/questions/636367/executing-a-java-application-in-a-separate-process\">here</a> ), start ignite in that process and then kill it by force using Process.destroy() or Process.destroyForcibly().</p>\n</li>\n</ol>\n<p>Does anyone know a better approach?</p>\n<p>I'm using Java 8.</p>\n"},{"tags":["java","gradle","gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":13104635,"reputation":186,"user_id":9467865,"display_name":"Dariusz Urbanek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594303882,"creation_date":1594303579,"answer_id":62816726,"question_id":62815923,"body_markdown":"I am working on multimodule projects with gradle and we are not setting a version in submodules.All we do is setting it in base project in ```gradle.properties``` file.\r\n\r\n```grovy\r\ngroup = &quot;xxx&quot;\r\nversion = &quot;0.0.6-SNAPSHOT&quot;\r\n```\r\n\r\nthen you can use it:\r\n```\r\nurl = project.version.endsWith(&#39;SNAPSHOT&#39;) ? snapshotsRepoUrl : releasesRepoUrl\r\n```","title":"gradle suproject version is unspecified while publishing","body":"<p>I am working on multimodule projects with gradle and we are not setting a version in submodules.All we do is setting it in base project in <code>gradle.properties</code> file.</p>\n<pre><code>group = &quot;xxx&quot;\nversion = &quot;0.0.6-SNAPSHOT&quot;\n</code></pre>\n<p>then you can use it:</p>\n<pre><code>url = project.version.endsWith('SNAPSHOT') ? snapshotsRepoUrl : releasesRepoUrl\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15100311,"reputation":81,"user_id":10897519,"display_name":"Narryel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1594623542,"creation_date":1594623542,"answer_id":62870712,"question_id":62815923,"body_markdown":"the only worked way for me was a workaround:\r\nplacing subproject version management in root build.gradle like this\r\n\r\n    project(&#39;:subproject1&#39;) {\r\n        version &#39;0.0.6-SNAPSHOT&#39;\r\n    }\r\n    \r\n    project(&#39;:subproject2&#39;) {\r\n        version &#39;0.0.12-SNAPSHOT&#39;\r\n    }\r\n    \r\n    project(&#39;:subproject14) {\r\n        version &#39;0.0.5-SNAPSHOT&#39;\r\n    }\r\n\r\n\r\nand then project.version property is being injecting correctyl","title":"gradle suproject version is unspecified while publishing","body":"<p>the only worked way for me was a workaround:\nplacing subproject version management in root build.gradle like this</p>\n<pre><code>project(':subproject1') {\n    version '0.0.6-SNAPSHOT'\n}\n\nproject(':subproject2') {\n    version '0.0.12-SNAPSHOT'\n}\n\nproject(':subproject14) {\n    version '0.0.5-SNAPSHOT'\n}\n</code></pre>\n<p>and then project.version property is being injecting correctyl</p>\n"},{"tags":[],"owner":{"account_id":6571959,"reputation":898,"user_id":5079581,"display_name":"denizg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682019414,"creation_date":1682019414,"answer_id":76067674,"question_id":62815923,"body_markdown":"Instead of using this\r\n\r\n    \r\n    publishing {\r\n        publications {\r\n            nexus(MavenPublication) {\r\n                from components.java\r\n            }\r\n        }\r\n        repositories {\r\n            maven {\r\n                def releasesRepoUrl = &#39;https://.../releases/&#39;\r\n                def snapshotsRepoUrl = &#39;https://.../snapshots/&#39;\r\n                url = project.version.endsWith(&#39;SNAPSHOT&#39;) ? snapshotsRepoUrl : releasesRepoUrl\r\n\r\n                credentials {\r\n                    ...\r\n                }\r\n            }\r\n        }\r\n    }\r\nuse ***afterEvaluate*** block outside of publications and repositories block.\r\n\r\n    publishing {\r\n        afterEvaluate {\r\n            publications {\r\n                nexus(MavenPublication) {\r\n                    from components.java\r\n                }\r\n            }\r\n            repositories {\r\n                maven {\r\n                    def releasesRepoUrl = &#39;https://.../releases/&#39;\r\n                    def snapshotsRepoUrl = &#39;https://.../snapshots/&#39;\r\n                    url = project.version.endsWith(&#39;SNAPSHOT&#39;) ? snapshotsRepoUrl : releasesRepoUrl\r\n\r\n                    credentials {\r\n                        ...\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }","title":"gradle suproject version is unspecified while publishing","body":"<p>Instead of using this</p>\n<pre><code>publishing {\n    publications {\n        nexus(MavenPublication) {\n            from components.java\n        }\n    }\n    repositories {\n        maven {\n            def releasesRepoUrl = 'https://.../releases/'\n            def snapshotsRepoUrl = 'https://.../snapshots/'\n            url = project.version.endsWith('SNAPSHOT') ? snapshotsRepoUrl : releasesRepoUrl\n\n            credentials {\n                ...\n            }\n        }\n    }\n}\n</code></pre>\n<p>use <em><strong>afterEvaluate</strong></em> block outside of publications and repositories block.</p>\n<pre><code>publishing {\n    afterEvaluate {\n        publications {\n            nexus(MavenPublication) {\n                from components.java\n            }\n        }\n        repositories {\n            maven {\n                def releasesRepoUrl = 'https://.../releases/'\n                def snapshotsRepoUrl = 'https://.../snapshots/'\n                url = project.version.endsWith('SNAPSHOT') ? snapshotsRepoUrl : releasesRepoUrl\n\n                credentials {\n                    ...\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15100311,"reputation":81,"user_id":10897519,"display_name":"Narryel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2215,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62870712,"answer_count":3,"score":4,"last_activity_date":1682019414,"creation_date":1594301060,"question_id":62815923,"body_markdown":"i have two nexus repositories: one for releases, other for snapshots. i have code in publish task to define which repo to pick according to doc:\r\n```    publishing {\r\n        repositories {\r\n            repositories {\r\n                maven {\r\n                    credentials {\r\n                        username &quot;$nexusUser&quot;\r\n                        password &quot;$nexusPassword&quot;\r\n                    }\r\n                    def releasesRepoUrl = &quot;https://xxx/repository/factoring-maven-release/&quot;\r\n                    def snapshotsRepoUrl = &quot;https://xxx/repository/factoring-maven-snapshots/&quot;\r\n                    url = version.endsWith(&#39;SNAPSHOT&#39;) ? snapshotsRepoUrl : releasesRepoUrl\r\n                }\r\n            }\r\n            publications {\r\n                create(&quot;default&quot;, MavenPublication.class) {\r\n                    from(components[&quot;java&quot;])\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nand subprojects included by this code :\r\n```\r\nrootProject.name = &#39;xxx-integration-lib&#39;\r\n\r\ninclude &#39;xxx-service1-dto&#39;\r\ninclude &#39;xxx-service2-dto&#39;\r\n```\r\n\r\nsubprojects build.gradle:\r\n```\r\ngroup = &quot;xxx&quot;\r\nversion = &quot;0.0.6-SNAPSHOT&quot;\r\n```\r\n\r\nbut this doesnt work since subproject version is always unspecified.\r\ntried:\r\n\r\n 1. making new allproject task to return version\r\n2. using project.property(&#39;propName&#39;) - but this seems like a workaround, not a solution\r\n\r\nany thoughts?\r\n","title":"gradle suproject version is unspecified while publishing","body":"<p>i have two nexus repositories: one for releases, other for snapshots. i have code in publish task to define which repo to pick according to doc:</p>\n<pre><code>        repositories {\n            repositories {\n                maven {\n                    credentials {\n                        username &quot;$nexusUser&quot;\n                        password &quot;$nexusPassword&quot;\n                    }\n                    def releasesRepoUrl = &quot;https://xxx/repository/factoring-maven-release/&quot;\n                    def snapshotsRepoUrl = &quot;https://xxx/repository/factoring-maven-snapshots/&quot;\n                    url = version.endsWith('SNAPSHOT') ? snapshotsRepoUrl : releasesRepoUrl\n                }\n            }\n            publications {\n                create(&quot;default&quot;, MavenPublication.class) {\n                    from(components[&quot;java&quot;])\n                }\n            }\n        }\n    }\n</code></pre>\n<p>and subprojects included by this code :</p>\n<pre><code>rootProject.name = 'xxx-integration-lib'\n\ninclude 'xxx-service1-dto'\ninclude 'xxx-service2-dto'\n</code></pre>\n<p>subprojects build.gradle:</p>\n<pre><code>group = &quot;xxx&quot;\nversion = &quot;0.0.6-SNAPSHOT&quot;\n</code></pre>\n<p>but this doesnt work since subproject version is always unspecified.\ntried:</p>\n<ol>\n<li>making new allproject task to return version</li>\n<li>using project.property('propName') - but this seems like a workaround, not a solution</li>\n</ol>\n<p>any thoughts?</p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":12932234,"reputation":319,"user_id":9350886,"display_name":"Pierpaolo Di Dato"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520601143,"creation_date":1520601143,"answer_id":49194593,"question_id":49194317,"body_markdown":"Change the property to `hibernate.hbm2ddl.auto=create`","title":"Hibernate not automatically creating tables","body":"<p>Change the property to <code>hibernate.hbm2ddl.auto=create</code></p>\n"},{"tags":[],"owner":{"account_id":2892943,"reputation":199,"user_id":2481290,"display_name":"Kai Adelmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520601351,"creation_date":1520601351,"answer_id":49194643,"question_id":49194317,"body_markdown":"Take a look at https://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html\r\nand set the property hibernate.dbm2ddl.auto=create.\r\n\r\nThat should solve the problem.","title":"Hibernate not automatically creating tables","body":"<p>Take a look at <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html</a>\nand set the property hibernate.dbm2ddl.auto=create.</p>\n\n<p>That should solve the problem.</p>\n"}],"owner":{"account_id":7275467,"reputation":31,"user_id":5547076,"display_name":"lulubelle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1520610454,"answer_count":2,"score":0,"last_activity_date":1682019301,"creation_date":1520600196,"question_id":49194317,"body_markdown":"I have hibernate set up in my spring project, once the tables are created in my database it works no problem, however I want my hibernate to automatically create my tables for me. I am not using xml for the configuration I am using application.properties file and a hibernateConfig.java class. \r\n\r\napplication.properties\r\n\r\n    hibernate.format_sql = true\r\n    hibernate.dialect=org.hibernate.dialect.HSQLDialect\r\n    hibernate.show_sql=true\r\n    hibernate.hbm2ddl.auto=update\r\n\r\nHibernateConfig.java \r\n\r\n      private Properties hibernateProperties() {\r\n        Properties properties = new Properties();\r\n        properties.put(&quot;hibernate.dialect&quot;, environment.getRequiredProperty(&quot;hibernate.dialect&quot;));\r\n        properties.put(&quot;hibernate.show_sql&quot;, environment.getRequiredProperty(&quot;hibernate.show_sql&quot;));\r\n        properties.put(&quot;hibernate.format_sql&quot;, environment.getRequiredProperty(&quot;hibernate.format_sql&quot;));\r\n        properties.put(&quot;hibernate.hbm2ddl.auto&quot;, environment.getRequiredProperty(&quot;hibernate.hbm2ddl.auto&quot;));\r\n\r\n\r\n        return properties;        \r\n    }\r\n     \r\n\r\nAny suggestions would be greatly appreciated!\r\n","title":"Hibernate not automatically creating tables","body":"<p>I have hibernate set up in my spring project, once the tables are created in my database it works no problem, however I want my hibernate to automatically create my tables for me. I am not using xml for the configuration I am using application.properties file and a hibernateConfig.java class. </p>\n\n<p>application.properties</p>\n\n<pre><code>hibernate.format_sql = true\nhibernate.dialect=org.hibernate.dialect.HSQLDialect\nhibernate.show_sql=true\nhibernate.hbm2ddl.auto=update\n</code></pre>\n\n<p>HibernateConfig.java </p>\n\n<pre><code>  private Properties hibernateProperties() {\n    Properties properties = new Properties();\n    properties.put(\"hibernate.dialect\", environment.getRequiredProperty(\"hibernate.dialect\"));\n    properties.put(\"hibernate.show_sql\", environment.getRequiredProperty(\"hibernate.show_sql\"));\n    properties.put(\"hibernate.format_sql\", environment.getRequiredProperty(\"hibernate.format_sql\"));\n    properties.put(\"hibernate.hbm2ddl.auto\", environment.getRequiredProperty(\"hibernate.hbm2ddl.auto\"));\n\n\n    return properties;        \n}\n</code></pre>\n\n<p>Any suggestions would be greatly appreciated!</p>\n"},{"tags":["java","swing","jbutton","actionlistener","swingworker"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1682015885,"post_id":76067250,"comment_id":134153495,"body_markdown":"`//also tried disabling here` -- and that&#39;s a good place to disable the button. Since you&#39;re asking about code that is not behaving as expected, it may be best for you to create a [mre] code post with your program. This would not be your entire program, far from it, but a small runnable test program that duplicates the problem for us. The long-running task can be mocked simply with a `Thread.sleep(...)`. Please read the link which will explain what this is and how it can help both you and us.","body":"<code>&#47;&#47;also tried disabling here</code> -- and that&#39;s a good place to disable the button. Since you&#39;re asking about code that is not behaving as expected, it may be best for you to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> code post with your program. This would not be your entire program, far from it, but a small runnable test program that duplicates the problem for us. The long-running task can be mocked simply with a <code>Thread.sleep(...)</code>. Please read the link which will explain what this is and how it can help both you and us."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1682015999,"post_id":76067250,"comment_id":134153521,"body_markdown":"One issue is here: `guiController.submitUpload();` this makes Swing calls within the method call, the JOptionPane calls, and by doing this, you are breaking Swing threading rules and can be causing problems with your event thread. Don&#39;t do this. Instead use publish and process or use property change listeners to pass information from the background thread to the GUI. Be sure that no Swing GUI code is being called from within the background thread.","body":"One issue is here: <code>guiController.submitUpload();</code> this makes Swing calls within the method call, the JOptionPane calls, and by doing this, you are breaking Swing threading rules and can be causing problems with your event thread. Don&#39;t do this. Instead use publish and process or use property change listeners to pass information from the background thread to the GUI. Be sure that no Swing GUI code is being called from within the background thread."},{"owner":{"account_id":19853876,"reputation":29,"user_id":14543790,"display_name":"kroger9"},"score":0,"creation_date":1682016402,"post_id":76067250,"comment_id":134153590,"body_markdown":"@HovercraftFullOfEels calling Thread.sleep() seems to freeze the entire gui; right before guiController.submitUpload().","body":"@HovercraftFullOfEels calling Thread.sleep() seems to freeze the entire gui; right before guiController.submitUpload()."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1682016806,"post_id":76067250,"comment_id":134153667,"body_markdown":"I was suggesting calling `Thread.sleep(...)` in t he `doInBackground()` method of your [mre], nothing more and nothing less. If it puts your GUI to sleep, then you have unsolved Swing threading issues, possibly coming from code not shown. Again, let&#39;s see your [MRE](https://stackoverflow.com/help/minimal-reproducible-example)","body":"I was suggesting calling <code>Thread.sleep(...)</code> in t he <code>doInBackground()</code> method of your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, nothing more and nothing less. If it puts your GUI to sleep, then you have unsolved Swing threading issues, possibly coming from code not shown. Again, let&#39;s see your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a>"},{"owner":{"account_id":19853876,"reputation":29,"user_id":14543790,"display_name":"kroger9"},"score":0,"creation_date":1682018938,"post_id":76067250,"comment_id":134154082,"body_markdown":"@HovercraftFullOfEels I&#39;ll work on that MRE, thank you. I am a bit hesitant on posting something that resembles company code, that&#39;s all. I did notice that the &quot;guiController.java&quot; file has a lot of Swing calls. In multiple places, JOptionPane calls are made throughout this &quot;guiController.java&quot; file.  I&#39;m thinking there&#39;s threading issues at play here...","body":"@HovercraftFullOfEels I&#39;ll work on that MRE, thank you. I am a bit hesitant on posting something that resembles company code, that&#39;s all. I did notice that the &quot;guiController.java&quot; file has a lot of Swing calls. In multiple places, JOptionPane calls are made throughout this &quot;guiController.java&quot; file.  I&#39;m thinking there&#39;s threading issues at play here..."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1682019067,"post_id":76067250,"comment_id":134154096,"body_markdown":"Create dummy code with bland method names that don&#39;t come close to resembling protected intellectual property that you are trying to protect.","body":"Create dummy code with bland method names that don&#39;t come close to resembling protected intellectual property that you are trying to protect."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1682019200,"post_id":76067250,"comment_id":134154112,"body_markdown":"Also note that for more complex interactions between the background thread and the GUI, consider use of a SwingPropertyChangeSupport object and property change listeners. This will allow complex notifications to be sent from the the background thread to the GUI, and the notifications will be sent on the Swing event thread, allowing for thread safety.","body":"Also note that for more complex interactions between the background thread and the GUI, consider use of a SwingPropertyChangeSupport object and property change listeners. This will allow complex notifications to be sent from the the background thread to the GUI, and the notifications will be sent on the Swing event thread, allowing for thread safety."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682019189,"creation_date":1682017768,"answer_id":76067489,"question_id":76067250,"body_markdown":"So yes, call `JButton#setEnabled(false)` where you are calling it, before you execute the SwingWorker, and then re-enable it when the worker is done. This *will* work. If it doesn&#39;t work for you, then you have Swing threading problems in code not shown.  \r\n\r\nHere is my example of a proof-of-concept [MRE](https://stackoverflow.com/help/minimal-reproducible-example):\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.util.List;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.awt.BorderLayout;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTextArea;\r\nimport javax.swing.SwingUtilities;\r\nimport javax.swing.SwingWorker;\r\n\r\npublic class FooPanel01 extends JPanel {\r\n  private JButton longActionButton = new JButton(&quot;Start Long Action&quot;);\r\n  private JTextArea output = new JTextArea(15, 40);\r\n  \r\n  public FooPanel01() {\r\n    longActionButton.addActionListener(e -&gt; longActionPerformed());\r\n    JPanel buttoPanel = new JPanel();\r\n    buttoPanel.add(longActionButton);\r\n\r\n    JScrollPane scrollPane = new JScrollPane(output);\r\n    scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n\r\n    setLayout(new BorderLayout());\r\n    add(buttoPanel, BorderLayout.PAGE_START);\r\n    add(scrollPane, BorderLayout.CENTER);\r\n  }\r\n\r\n  private void longActionPerformed() {\r\n    longActionButton.setEnabled(false);\r\n    output.append(&quot;Long Action started...&quot; + System.lineSeparator());\r\n    new MyWorker().execute();\r\n  }\r\n\r\n  private class MyWorker extends SwingWorker&lt;Void, String&gt; {\r\n    @Override\r\n    protected Void doInBackground() throws Exception {\r\n      /****************************************\r\n       * \r\n       * Do not update the GUI or make Swing calls from here!\r\n       * This includes JOptionPanel static method calls\r\n       * \r\n       ****************************************/\r\n\r\n      // Do some long running task\r\n      // here emulated with Thread.sleep\r\n      for (int i = 0; i &lt; 6; i++) {\r\n        Thread.sleep((long) (Math.random() * 1000));\r\n        publish(&quot;Processing step &quot; + i);\r\n      }\r\n      return null;\r\n    }\r\n\r\n    @Override\r\n    protected void process(List&lt;String&gt; chunks) {\r\n      for (String chunk : chunks) {\r\n        output.append(chunk + System.lineSeparator());\r\n      }\r\n    }\r\n\r\n    @Override\r\n    protected void done() {\r\n      longActionButton.setEnabled(true);\r\n      output.append(&quot;Long Action finished...&quot; + System.lineSeparator());\r\n      try {\r\n        // always call get() in the done() method to trap exceptions\r\n        // that may have occurred inside the doInBackground() method\r\n        get();\r\n      } catch (InterruptedException | ExecutionException e) {\r\n        e.printStackTrace();\r\n      }\r\n    }\r\n  }\r\n  \r\n  public static void main(String[] args) throws IOException {\r\n    SwingUtilities.invokeLater(new Runnable() {\r\n      public void run() {\r\n        JFrame frame = new JFrame(&quot;GUI&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(new FooPanel01());\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n      }\r\n    });\r\n  }\r\n}\r\n```\r\n\r\nFor more complex interactions between the background thread and the GUI, consider use of a SwingPropertyChangeSupport object and property change listeners. This will allow complex notifications to be sent from the the background thread to the GUI, and the notifications will be sent on the Swing event thread, allowing for thread safety.","title":"Java Swing JButton disable not giving disired results","body":"<p>So yes, call <code>JButton#setEnabled(false)</code> where you are calling it, before you execute the SwingWorker, and then re-enable it when the worker is done. This <em>will</em> work. If it doesn't work for you, then you have Swing threading problems in code not shown.</p>\n<p>Here is my example of a proof-of-concept <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a>:</p>\n<pre><code>import java.io.IOException;\nimport java.util.List;\nimport java.util.concurrent.ExecutionException;\nimport java.awt.BorderLayout;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.SwingUtilities;\nimport javax.swing.SwingWorker;\n\npublic class FooPanel01 extends JPanel {\n  private JButton longActionButton = new JButton(&quot;Start Long Action&quot;);\n  private JTextArea output = new JTextArea(15, 40);\n  \n  public FooPanel01() {\n    longActionButton.addActionListener(e -&gt; longActionPerformed());\n    JPanel buttoPanel = new JPanel();\n    buttoPanel.add(longActionButton);\n\n    JScrollPane scrollPane = new JScrollPane(output);\n    scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n\n    setLayout(new BorderLayout());\n    add(buttoPanel, BorderLayout.PAGE_START);\n    add(scrollPane, BorderLayout.CENTER);\n  }\n\n  private void longActionPerformed() {\n    longActionButton.setEnabled(false);\n    output.append(&quot;Long Action started...&quot; + System.lineSeparator());\n    new MyWorker().execute();\n  }\n\n  private class MyWorker extends SwingWorker&lt;Void, String&gt; {\n    @Override\n    protected Void doInBackground() throws Exception {\n      /****************************************\n       * \n       * Do not update the GUI or make Swing calls from here!\n       * This includes JOptionPanel static method calls\n       * \n       ****************************************/\n\n      // Do some long running task\n      // here emulated with Thread.sleep\n      for (int i = 0; i &lt; 6; i++) {\n        Thread.sleep((long) (Math.random() * 1000));\n        publish(&quot;Processing step &quot; + i);\n      }\n      return null;\n    }\n\n    @Override\n    protected void process(List&lt;String&gt; chunks) {\n      for (String chunk : chunks) {\n        output.append(chunk + System.lineSeparator());\n      }\n    }\n\n    @Override\n    protected void done() {\n      longActionButton.setEnabled(true);\n      output.append(&quot;Long Action finished...&quot; + System.lineSeparator());\n      try {\n        // always call get() in the done() method to trap exceptions\n        // that may have occurred inside the doInBackground() method\n        get();\n      } catch (InterruptedException | ExecutionException e) {\n        e.printStackTrace();\n      }\n    }\n  }\n  \n  public static void main(String[] args) throws IOException {\n    SwingUtilities.invokeLater(new Runnable() {\n      public void run() {\n        JFrame frame = new JFrame(&quot;GUI&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(new FooPanel01());\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n      }\n    });\n  }\n}\n</code></pre>\n<p>For more complex interactions between the background thread and the GUI, consider use of a SwingPropertyChangeSupport object and property change listeners. This will allow complex notifications to be sent from the the background thread to the GUI, and the notifications will be sent on the Swing event thread, allowing for thread safety.</p>\n"}],"owner":{"account_id":19853876,"reputation":29,"user_id":14543790,"display_name":"kroger9"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682019189,"creation_date":1682015668,"question_id":76067250,"body_markdown":"This is my first time working with Java Swing, so apologies for missing a lot context. This is using Netbeans 7.0.x--business rational. Code is generated using the &quot;Design&quot; feature in Netbeans. Most of the gui code is generated, if not all.\r\n\r\n\\\r\n\\\r\nI&#39;ve tried a few areas of calling `setEnabled` to disable an `upload` button until the file transfer completes. For testing purposes, I added a doubly for-loop to do some floating point arithmetic; I have popup messages before the for loops, and after to mirror some &quot;file upload busy work&quot;. None of the places I have called the `setEnabled` function on the button of interest, give the desired result of &quot;greying out&quot; or &quot;disabling&quot; the button--until the `guiController.submitUpload()` call completes inside the body of `swingworker.doInBackground()`. For now I commented out the `done()` functiion. \r\n\r\n\\\r\n\\\r\nThe desired result: on clicking the `buttonX`, grey out the button or disable it--that is, I shouldn&#39;t be able to click on it again--see the first popup in `submitUpload()`, then see the second pop up. The `submitUpload()` function runs it&#39;s business logic, and completes. After completing, the `buttonX` should be re-enabled or disable it. Ideally, I&#39;d like to disable AND grey out this button, `buttonX`.\r\n\r\n\r\n\\\r\nI&#39;ve tried many of the results in SO, and already read up on documentation:  \r\n`https://docs.oracle.com/javase/tutorial/uiswing/components/button.html`\r\n`https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html`\r\n\r\n\\\r\n\\\r\nCan someone help me out with something I&#39;m missing?\r\n```\r\n=========================\r\npanelFile.java\r\n//private variable\r\nSwingWorker sw = ...;\r\n\r\nbuttonX.addActionListener(new java.awt.event.ActionListener(){\r\n    public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n\r\n        //tried disabling here\r\n        //buttonX.setEnabled(false);\r\n        buttonXActionPerformed(evt);\r\n        //renable\r\n    }\r\n}\r\n.\r\n.\r\n.\r\n\r\nprivate void bottonXActionPerformed(java.awt.event.ActionEvent evt) {\r\n\r\n    //also tried disabling here \r\n    \r\n    sw = new SwingWorker&lt;void, void&gt; () {\r\n         @Override\r\n         public void doInBackground\r\n             {\r\n            try\r\n                {\r\n                if (guiController != null)\r\n                    {\r\n                    guiController.submitUpload();\r\n                    }\r\n                }\r\n            catch (Exception e)\r\n                {\r\n                logger.log(Level.SEVERE, e.toString(), e);\r\n                }\r\n            sw = null;\r\n            return null;\r\n            }\r\n        /*\r\n        @Override\r\n        public void done()\r\n            {\r\n            buttonX.setEnabled(true);\r\n            }         \r\n         */\r\n        };\r\n    \r\n    sw.execute();\r\n}\r\n=========================\r\nguiController.java\r\n\r\n\r\npublic void submitUpload(){\r\n    //do stuff\r\n   \r\n    //for testing I have pop-ups\r\n    // I should only see this popup once, until the &quot;upload completes&quot;\r\n    JOptionPane.showMessageDialog(getFrame(),\r\n                                  &quot;BEFORE&quot;,\r\n                                  &quot;test disable&quot;,\r\n                                  JOptionPane.INFORMATION_MESSAGE);\r\n\r\n    //busy loop here\r\n\r\n    JOptionPane.showMessageDialog(getFrame(),\r\n                                  &quot;AFTER&quot;,\r\n                                  &quot;test disable&quot;,\r\n                                  JOptionPane.INFORMATION_MESSAGE);\r\n\r\n\r\n}\r\n```","title":"Java Swing JButton disable not giving disired results","body":"<p>This is my first time working with Java Swing, so apologies for missing a lot context. This is using Netbeans 7.0.x--business rational. Code is generated using the &quot;Design&quot; feature in Netbeans. Most of the gui code is generated, if not all.</p>\n<p><br />\n<br />\nI've tried a few areas of calling <code>setEnabled</code> to disable an <code>upload</code> button until the file transfer completes. For testing purposes, I added a doubly for-loop to do some floating point arithmetic; I have popup messages before the for loops, and after to mirror some &quot;file upload busy work&quot;. None of the places I have called the <code>setEnabled</code> function on the button of interest, give the desired result of &quot;greying out&quot; or &quot;disabling&quot; the button--until the <code>guiController.submitUpload()</code> call completes inside the body of <code>swingworker.doInBackground()</code>. For now I commented out the <code>done()</code> functiion.</p>\n<p><br />\n<br />\nThe desired result: on clicking the <code>buttonX</code>, grey out the button or disable it--that is, I shouldn't be able to click on it again--see the first popup in <code>submitUpload()</code>, then see the second pop up. The <code>submitUpload()</code> function runs it's business logic, and completes. After completing, the <code>buttonX</code> should be re-enabled or disable it. Ideally, I'd like to disable AND grey out this button, <code>buttonX</code>.</p>\n<p><br />\nI've tried many of the results in SO, and already read up on documentation:<br />\n<code>https://docs.oracle.com/javase/tutorial/uiswing/components/button.html</code>\n<code>https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html</code></p>\n<p><br />\n<br />\nCan someone help me out with something I'm missing?</p>\n<pre><code>=========================\npanelFile.java\n//private variable\nSwingWorker sw = ...;\n\nbuttonX.addActionListener(new java.awt.event.ActionListener(){\n    public void actionPerformed(java.awt.event.ActionEvent evt) {\n\n        //tried disabling here\n        //buttonX.setEnabled(false);\n        buttonXActionPerformed(evt);\n        //renable\n    }\n}\n.\n.\n.\n\nprivate void bottonXActionPerformed(java.awt.event.ActionEvent evt) {\n\n    //also tried disabling here \n    \n    sw = new SwingWorker&lt;void, void&gt; () {\n         @Override\n         public void doInBackground\n             {\n            try\n                {\n                if (guiController != null)\n                    {\n                    guiController.submitUpload();\n                    }\n                }\n            catch (Exception e)\n                {\n                logger.log(Level.SEVERE, e.toString(), e);\n                }\n            sw = null;\n            return null;\n            }\n        /*\n        @Override\n        public void done()\n            {\n            buttonX.setEnabled(true);\n            }         \n         */\n        };\n    \n    sw.execute();\n}\n=========================\nguiController.java\n\n\npublic void submitUpload(){\n    //do stuff\n   \n    //for testing I have pop-ups\n    // I should only see this popup once, until the &quot;upload completes&quot;\n    JOptionPane.showMessageDialog(getFrame(),\n                                  &quot;BEFORE&quot;,\n                                  &quot;test disable&quot;,\n                                  JOptionPane.INFORMATION_MESSAGE);\n\n    //busy loop here\n\n    JOptionPane.showMessageDialog(getFrame(),\n                                  &quot;AFTER&quot;,\n                                  &quot;test disable&quot;,\n                                  JOptionPane.INFORMATION_MESSAGE);\n\n\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1448962665,"post_id":34016904,"comment_id":55789497,"body_markdown":"Are you correctly using the `http://repo.spring.io/milestone` repo?","body":"Are you correctly using the <code>http:&#47;&#47;repo.spring.io&#47;milestone</code> repo?"},{"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"score":0,"creation_date":1448964112,"post_id":34016904,"comment_id":55790361,"body_markdown":"Yes. The problem is that I cannot override the version of that specific jar","body":"Yes. The problem is that I cannot override the version of that specific jar"}],"answers":[{"tags":[],"owner":{"account_id":389246,"reputation":6194,"user_id":748597,"display_name":"Torsten"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1682018859,"creation_date":1448973249,"answer_id":34020564,"question_id":34016904,"body_markdown":"The property `spring-cloud-netflix.version` has already been resolved when building the `org.springframework.cloud:spring-cloud-starter-eureka` artifact, so you can not just override this when declaring the dependency.\r\n\r\nTo properly specify a certain dependency version, you have to add the version of that dependency in the `dependencyManagement` section of your pom:\r\n\r\n    ...\r\n    &lt;properties&gt;\r\n            &lt;spring-cloud-netflix.version&gt;1.0.0&lt;/spring-cloud-netflix.version&gt;\r\n    &lt;/properties&gt;\r\n    ...\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-parent&lt;/artifactId&gt;\r\n                &lt;version&gt;Brixton.M3&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud-netflix.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nAs a best practice for a multi module build you would typically have a shared master pom containing the `dependencyManagement` settings incl. all version information for all your dependencies.\r\n","title":"Maven - why can&#39;t I override the version of a dependencyManagement imported pom?","body":"<p>The property <code>spring-cloud-netflix.version</code> has already been resolved when building the <code>org.springframework.cloud:spring-cloud-starter-eureka</code> artifact, so you can not just override this when declaring the dependency.</p>\n<p>To properly specify a certain dependency version, you have to add the version of that dependency in the <code>dependencyManagement</code> section of your pom:</p>\n<pre><code>...\n&lt;properties&gt;\n        &lt;spring-cloud-netflix.version&gt;1.0.0&lt;/spring-cloud-netflix.version&gt;\n&lt;/properties&gt;\n...\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;Brixton.M3&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud-netflix.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>As a best practice for a multi module build you would typically have a shared master pom containing the <code>dependencyManagement</code> settings incl. all version information for all your dependencies.</p>\n"}],"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17939,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":34020564,"answer_count":1,"score":15,"last_activity_date":1682018859,"creation_date":1448962157,"question_id":34016904,"body_markdown":"I&#39;m looking for an explanation about this case: I have a project that has a dependencyManagement / dependencies section with:\r\n\r\n**myproject/pom.xml:**\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-starter-parent&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;Brixton.M3&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nThe **spring-cloud-starter-parent pom** defines:\r\n\r\n    &lt;properties&gt;\r\n    \t\t&lt;main.basedir&gt;${basedir}/../..&lt;/main.basedir&gt;\r\n    \t\t&lt;spring-cloud-netflix.version&gt;1.1.0.BUILD-SNAPSHOT&lt;/spring-cloud-netflix.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencyManagement&gt;\r\n    \t&lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud-netflix.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nThis way, my project will get spring-cloud-starter-eureka version 1.1.0.BUILD-SNAPSHOT.\r\n\r\nI was expecting that if I add in myproject/pom.xml a properties section with another version I would override the default version, however it is ignored, why?\r\n\r\n**myproject/pom.xml** \r\n\r\n    ...\r\n    &lt;properties&gt;\r\n    \t\t&lt;spring-cloud-netflix.version&gt;1.0.0&lt;/spring-cloud-netflix.version&gt;\r\n    &lt;/properties&gt;\r\n    ...","title":"Maven - why can&#39;t I override the version of a dependencyManagement imported pom?","body":"<p>I'm looking for an explanation about this case: I have a project that has a dependencyManagement / dependencies section with:</p>\n\n<p><strong>myproject/pom.xml:</strong></p>\n\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;Brixton.M3&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>The <strong>spring-cloud-starter-parent pom</strong> defines:</p>\n\n<pre><code>&lt;properties&gt;\n        &lt;main.basedir&gt;${basedir}/../..&lt;/main.basedir&gt;\n        &lt;spring-cloud-netflix.version&gt;1.1.0.BUILD-SNAPSHOT&lt;/spring-cloud-netflix.version&gt;\n&lt;/properties&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud-netflix.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n\n<p>This way, my project will get spring-cloud-starter-eureka version 1.1.0.BUILD-SNAPSHOT.</p>\n\n<p>I was expecting that if I add in myproject/pom.xml a properties section with another version I would override the default version, however it is ignored, why?</p>\n\n<p><strong>myproject/pom.xml</strong> </p>\n\n<pre><code>...\n&lt;properties&gt;\n        &lt;spring-cloud-netflix.version&gt;1.0.0&lt;/spring-cloud-netflix.version&gt;\n&lt;/properties&gt;\n...\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681899721,"post_id":76039373,"comment_id":134130293,"body_markdown":"What is does the response body contain for the 200 with an existing email? Can you add some logging to the line above _throw new IllegalStateException(&quot;Email already taken.&quot;);_ to see that it gets there.","body":"What is does the response body contain for the 200 with an existing email? Can you add some logging to the line above <i>throw new IllegalStateException(&quot;Email already taken.&quot;);</i> to see that it gets there."},{"owner":{"account_id":24550126,"reputation":82,"user_id":18459374,"display_name":"akaBryan"},"score":0,"creation_date":1681914878,"post_id":76039373,"comment_id":134134380,"body_markdown":"@JohnWilliams The response body for the 200 with an existing email is actually just the html of my default login page. I edited the post to add the console logs.","body":"@JohnWilliams The response body for the 200 with an existing email is actually just the html of my default login page. I edited the post to add the console logs."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1681924909,"post_id":76039373,"comment_id":134136797,"body_markdown":"Serving the login page if the the registration call fails is behaviour you have requested in the filterChain. After all the user is not yet authenticated. Using a 4xx error rather than a 5xx error as suggested in the accepted answer may also fix it. If not, try adding /error as an antMatchers/permitAll.","body":"Serving the login page if the the registration call fails is behaviour you have requested in the filterChain. After all the user is not yet authenticated. Using a 4xx error rather than a 5xx error as suggested in the accepted answer may also fix it. If not, try adding /error as an antMatchers/permitAll."},{"owner":{"account_id":24550126,"reputation":82,"user_id":18459374,"display_name":"akaBryan"},"score":0,"creation_date":1681926049,"post_id":76039373,"comment_id":134137046,"body_markdown":"@JohnWilliams Thank you, I think 442 is the most appropriate response. Secondly, adding &quot;/error&quot; as a requestMatcher/permitAll (my version of Spring Boot in this case), fixes it just fine as well which makes sense.","body":"@JohnWilliams Thank you, I think 442 is the most appropriate response. Secondly, adding &quot;/error&quot; as a requestMatcher/permitAll (my version of Spring Boot in this case), fixes it just fine as well which makes sense."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1681926528,"post_id":76039373,"comment_id":134137160,"body_markdown":"I think taking the auth requirement off the error page is the correct solution here, not a bunch of 4xx exceptions. Depends if you are serving a browser (error page is better) or an api client (http-4xx is better)","body":"I think taking the auth requirement off the error page is the correct solution here, not a bunch of 4xx exceptions. Depends if you are serving a browser (error page is better) or an api client (http-4xx is better)"},{"owner":{"account_id":24550126,"reputation":82,"user_id":18459374,"display_name":"akaBryan"},"score":0,"creation_date":1681927493,"post_id":76039373,"comment_id":134137388,"body_markdown":"Definitely the way to go, especially since big tech responds with `200 OK` most of the time and then responds accordingly. I am serving a browser so this is definitely the way to go.","body":"Definitely the way to go, especially since big tech responds with <code>200 OK</code> most of the time and then responds accordingly. I am serving a browser so this is definitely the way to go."}],"answers":[{"tags":[],"owner":{"account_id":12797889,"reputation":1500,"user_id":9260161,"display_name":"Philip Wrage"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681921504,"creation_date":1681918883,"answer_id":76056431,"question_id":76039373,"body_markdown":"Not to be too pedantic about things, but if you are going to use built-in Java exceptions, you may want to consider using the [`IllegalArgumentException`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalArgumentException.html) over the [`IllegalStateException`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalStateException.html) to more closely match the condition your code encounters.  I will do this in my example code.\r\n\r\nI think the problem you&#39;ve encountered is that Spring does not have exception handling configured to catch the `IllegalStateException` and return an HTTP response with an HTTP status code indicating an error.  However, you can implement this yourself.  The easiest way to do this given your example is to catch the exception(s) your service code is throwing within your controller, and then throw a new [`ResponseStatusException`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/ResponseStatusException.html) that declares the HTTP status code you want returned:\r\n\r\n```java\r\n@PostMapping\r\npublic String register(@RequestBody RegistrationRequest request) {\r\n    try {\r\n        return registrationService.register(request);\r\n    } catch (IllegalArgumentException|IllegalStateException e) {\r\n        throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;Registration request cannot be completed.&quot;, e)\r\n    }\r\n}\r\n```\r\n\r\nYou could also take advantage of the [`ResponseStatusExceptionResolver`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/annotation/ResponseStatusExceptionResolver.html) to handle resolving exception types into the appropriate HTTP response status. \r\n To do so, simply create custom exceptions within your code base and annotate them with [`ResponseStatus`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ResponseStatus.html) to declare that you want a particular HTTP status code returned when these exceptions are caught by the Spring framework.  For example,\r\n\r\n```java\r\n@ResponseStatus(value = HttpStatus.BAD_REQUEST)\r\npublic class DuplicateEmailRegistrationException extends RuntimeException {\r\n    public DuplicateEmailRegistrationException() {\r\n        super();\r\n    }\r\n    public DuplicateEmailRegistrationException(String message, Throwable cause) {\r\n        super(message, cause);\r\n    }\r\n    public DuplicateEmailRegistrationException(String message) {\r\n        super(message);\r\n    }\r\n    public DuplicateEmailRegistrationException(Throwable cause) {\r\n        super(cause);\r\n    }\r\n}\r\n\r\n\r\n@ResponseStatus(value = HttpStatus.BAD_REQUEST)\r\npublic class InvalidEmailRegistrationException extends RuntimeException {\r\n    public InvalidEmailRegistrationException() {\r\n        super();\r\n    }\r\n    public InvalidEmailRegistrationException(String message, Throwable cause) {\r\n        super(message, cause);\r\n    }\r\n    public InvalidEmailRegistrationException(String message) {\r\n        super(message);\r\n    }\r\n    public InvalidEmailRegistrationException(Throwable cause) {\r\n        super(cause);\r\n    }\r\n}\r\n```\r\n\r\nThen, instead of throwing `IllegalStateException` or `IllegalArgumentException` within your service classes, you would throw the custom exceptions you created that are specific to the problem encountered.\r\n\r\n```java\r\npublic String signUpUser(AppUser appUser) {\r\n    boolean userExists = appUserRepository.findByEmail(appUser.getEmail()).isPresent();\r\n\r\n    if (userExists) {\r\n        throw new DuplicateEmailRegistrationException(&quot;Email already taken.&quot;);\r\n    }\r\n    // ...\r\n}   \r\n```\r\n\r\nIf you go this second route, you no longer need to catch and re-throw the `ResponseStatusException` within your controller.\r\n\r\nI hope one of these options helps you resolve your issue!\r\n\r\nEdit: Updated `HttpStatus.INTERNAL_SERVER_ERROR` to `HttpStatus.BAD_REQUEST` to be more in line with error states being checked in OPs post.","title":"Spring Security returns 200 OK instead of desired 4xx Internal Server Error in browser client when throwing Exception","body":"<p>Not to be too pedantic about things, but if you are going to use built-in Java exceptions, you may want to consider using the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalArgumentException.html\" rel=\"nofollow noreferrer\"><code>IllegalArgumentException</code></a> over the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalStateException.html\" rel=\"nofollow noreferrer\"><code>IllegalStateException</code></a> to more closely match the condition your code encounters.  I will do this in my example code.</p>\n<p>I think the problem you've encountered is that Spring does not have exception handling configured to catch the <code>IllegalStateException</code> and return an HTTP response with an HTTP status code indicating an error.  However, you can implement this yourself.  The easiest way to do this given your example is to catch the exception(s) your service code is throwing within your controller, and then throw a new <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/ResponseStatusException.html\" rel=\"nofollow noreferrer\"><code>ResponseStatusException</code></a> that declares the HTTP status code you want returned:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping\npublic String register(@RequestBody RegistrationRequest request) {\n    try {\n        return registrationService.register(request);\n    } catch (IllegalArgumentException|IllegalStateException e) {\n        throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;Registration request cannot be completed.&quot;, e)\n    }\n}\n</code></pre>\n<p>You could also take advantage of the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/annotation/ResponseStatusExceptionResolver.html\" rel=\"nofollow noreferrer\"><code>ResponseStatusExceptionResolver</code></a> to handle resolving exception types into the appropriate HTTP response status.\nTo do so, simply create custom exceptions within your code base and annotate them with <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ResponseStatus.html\" rel=\"nofollow noreferrer\"><code>ResponseStatus</code></a> to declare that you want a particular HTTP status code returned when these exceptions are caught by the Spring framework.  For example,</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ResponseStatus(value = HttpStatus.BAD_REQUEST)\npublic class DuplicateEmailRegistrationException extends RuntimeException {\n    public DuplicateEmailRegistrationException() {\n        super();\n    }\n    public DuplicateEmailRegistrationException(String message, Throwable cause) {\n        super(message, cause);\n    }\n    public DuplicateEmailRegistrationException(String message) {\n        super(message);\n    }\n    public DuplicateEmailRegistrationException(Throwable cause) {\n        super(cause);\n    }\n}\n\n\n@ResponseStatus(value = HttpStatus.BAD_REQUEST)\npublic class InvalidEmailRegistrationException extends RuntimeException {\n    public InvalidEmailRegistrationException() {\n        super();\n    }\n    public InvalidEmailRegistrationException(String message, Throwable cause) {\n        super(message, cause);\n    }\n    public InvalidEmailRegistrationException(String message) {\n        super(message);\n    }\n    public InvalidEmailRegistrationException(Throwable cause) {\n        super(cause);\n    }\n}\n</code></pre>\n<p>Then, instead of throwing <code>IllegalStateException</code> or <code>IllegalArgumentException</code> within your service classes, you would throw the custom exceptions you created that are specific to the problem encountered.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String signUpUser(AppUser appUser) {\n    boolean userExists = appUserRepository.findByEmail(appUser.getEmail()).isPresent();\n\n    if (userExists) {\n        throw new DuplicateEmailRegistrationException(&quot;Email already taken.&quot;);\n    }\n    // ...\n}   \n</code></pre>\n<p>If you go this second route, you no longer need to catch and re-throw the <code>ResponseStatusException</code> within your controller.</p>\n<p>I hope one of these options helps you resolve your issue!</p>\n<p>Edit: Updated <code>HttpStatus.INTERNAL_SERVER_ERROR</code> to <code>HttpStatus.BAD_REQUEST</code> to be more in line with error states being checked in OPs post.</p>\n"},{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682018821,"creation_date":1681932226,"answer_id":76058148,"question_id":76039373,"body_markdown":"Returning a login page when the user registration fails is actually being caused by your `SecurityFilterChain`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    http\r\n        .csrf().disable()\r\n        .authorizeHttpRequests()\r\n            .requestMatchers(&quot;/api/v*/registration/**&quot;).permitAll()\r\n            .anyRequest().authenticated()\r\n            .and()\r\n        .formLogin();\r\n\r\nThe sequence of events is that when the registration fails and exception thrown Spring attempts to take you to the `/error` page. However, `/error` is not `permitAll` so calling it needs an authenticated user so Spring redirects the client to the login page.\r\n\r\nTo fix this add `/error` as an `antMatchers/permitAll` to the security filter chain.\r\n\r\nAlso, this sort of error is not a server error (5xx) its a client error (an email address being submitted by the client is invalid because it has been used before), so use a 4xx error as suggested in @Phillips answer. To do this rather throw a \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;User with address already exists&quot;)\r\n\r\n","title":"Spring Security returns 200 OK instead of desired 4xx Internal Server Error in browser client when throwing Exception","body":"<p>Returning a login page when the user registration fails is actually being caused by your <code>SecurityFilterChain</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    .csrf().disable()\n    .authorizeHttpRequests()\n        .requestMatchers(&quot;/api/v*/registration/**&quot;).permitAll()\n        .anyRequest().authenticated()\n        .and()\n    .formLogin();\n</code></pre>\n<p>The sequence of events is that when the registration fails and exception thrown Spring attempts to take you to the <code>/error</code> page. However, <code>/error</code> is not <code>permitAll</code> so calling it needs an authenticated user so Spring redirects the client to the login page.</p>\n<p>To fix this add <code>/error</code> as an <code>antMatchers/permitAll</code> to the security filter chain.</p>\n<p>Also, this sort of error is not a server error (5xx) its a client error (an email address being submitted by the client is invalid because it has been used before), so use a 4xx error as suggested in @Phillips answer. To do this rather throw a</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;User with address already exists&quot;)\n</code></pre>\n"}],"owner":{"account_id":24550126,"reputation":82,"user_id":18459374,"display_name":"akaBryan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":557,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76058148,"answer_count":2,"score":0,"last_activity_date":1682018821,"creation_date":1681766518,"question_id":76039373,"body_markdown":"I am working on a backend login and user registration app that serves a web application. I am using ```spring-security-web-6.0.2```, and when I use postman, my POST requests go through correctly as I expect. However, when I throw an IllegalStateException for trying to register a user which already exists, I expect for Spring to respond with a 500 Internal Server Error, however I am still given a 200 OK.  The following is the associated class which I am referring to and security configuration class: I cannot understand why I am still receiving a 200.\r\n\r\nApplication Class:\r\n```\r\npackage com.akabryan.springproject.appuser;\r\n\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport lombok.AllArgsConstructor;\r\n\r\n@Service\r\n@AllArgsConstructor\r\npublic class AppUserService implements UserDetailsService {\r\n\r\n\tprivate final static String USER_NOT_FOUND_MSG = &quot;User with email %s not found&quot;;\r\n\r\n\tprivate final AppUserRepository appUserRepository;\r\n\tprivate final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n\r\n\t\treturn appUserRepository.findByEmail(email)\r\n\t\t\t\t.orElseThrow(() -&gt; new UsernameNotFoundException(String.format(USER_NOT_FOUND_MSG, email)));\r\n\t}\r\n\r\n\tpublic String signUpUser(AppUser appUser) {\r\n\t\tboolean userExists = appUserRepository.findByEmail(appUser.getEmail()).isPresent();\r\n\r\n\t\tif (userExists) {\r\n\t\t\tthrow new IllegalStateException(&quot;Email already taken.&quot;);\r\n\t\t}\r\n\r\n\t\tString encodedPassword = bCryptPasswordEncoder.encode(appUser.getPassword());\r\n\r\n\t\tappUser.setPassword(encodedPassword);\r\n\t\t\r\n\t\tappUserRepository.save(appUser);\r\n\t\t\r\n\t\t//TODO: Send confirmation token\r\n\t\t\r\n\t\t\r\n\t\treturn &quot;Successfully registered&quot;;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThe following is the web security configuration:\r\n```\r\npackage com.akabryan.springproject.security.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\nimport com.akabryan.springproject.appuser.AppUserService;\r\n\r\nimport lombok.AllArgsConstructor;\r\n\r\n@Configuration\r\n@AllArgsConstructor\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n\tprivate final AppUserService appUserService;\r\n\tprivate final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.csrf().disable().authorizeHttpRequests().requestMatchers(&quot;/api/v*/registration/**&quot;).permitAll()\r\n\t\t\t\t.anyRequest().authenticated().and().formLogin();\r\n\r\n\t\treturn http.build();\r\n\t}\r\n\r\n\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.authenticationProvider(daoAuthenticationProvider());\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic DaoAuthenticationProvider daoAuthenticationProvider() {\r\n\t\tDaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n\r\n\t\tprovider.setPasswordEncoder(bCryptPasswordEncoder);\r\n\t\tprovider.setUserDetailsService(appUserService);\r\n\r\n\t\treturn provider;\r\n\t}\r\n\r\n}\r\n```\r\nEdit: Here is my @RestController Class.\r\n\r\n```\r\npackage com.akabryan.springproject.registration;\r\n\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport lombok.AllArgsConstructor;\r\n\r\n@RestController\r\n@RequestMapping(path = &quot;api/v1/registration&quot;)\r\n@AllArgsConstructor\r\npublic class RegistrationController {\r\n\r\n\tprivate RegistrationService registrationService;\r\n\r\n\t@PostMapping\r\n\tpublic String register(@RequestBody RegistrationRequest request) {\r\n\t\treturn registrationService.register(request);\r\n\t}\r\n}\r\n```\r\n\r\nHere is what my console logs. Note the first successful registration attempt, and the IllegalStateException that is thrown. Which should induce a 500 Error:\r\n```\r\nThis is starting the signup user process.\r\nHibernate: select nextval(&#39;student_sequence&#39;)\r\nHibernate: insert into app_user (app_user_role, email, enabled, first_name, last_name, locked, password, id) values (?, ?, ?, ?, ?, ?, ?, ?)\r\nUser was successfully added to the repo.\r\nHibernate: select a1_0.id,a1_0.app_user_role,a1_0.email,a1_0.enabled,a1_0.first_name,a1_0.last_name,a1_0.locked,a1_0.password from app_user a1_0 where a1_0.email=?\r\nThis is starting the signup user process.\r\nAn IllegalStateException should be thrown after this.\r\n2023-04-19T10:35:47.789-04:00 ERROR 23184 --- [nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Email already taken.] with root cause\r\n\r\njava.lang.IllegalStateException: Email already taken.\r\n\tat com.akabryan.springproject.appuser.AppUserService.signUpUser(AppUserService.java:34) ~[classes/:na]\r\n\tat com.akabryan.springproject.registration.RegistrationService.register(RegistrationService.java:26) ~[classes/:na]\r\n\tat com.akabryan.springproject.registration.RegistrationController.register(RegistrationController.java:19) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:563) ~[tomcat-embed-core-10.1.7.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:631) ~[tomcat-embed-core-10.1.7.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n```\r\n\r\nEdit 2: The following is the `RegistrationService` class. These seem fine to me but I can&#39;t really pinpoint and root cause of my issue from these classes.\r\n\r\n```\r\npackage com.akabryan.springproject.registration;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.akabryan.springproject.appuser.AppUser;\r\nimport com.akabryan.springproject.appuser.AppUserRole;\r\nimport com.akabryan.springproject.appuser.AppUserService;\r\n\r\nimport lombok.AllArgsConstructor;\r\n\r\n@Service\r\n@AllArgsConstructor\r\npublic class RegistrationService {\r\n\r\n\tprivate final AppUserService appUserService;\r\n\tprivate EmailValidator emailValidator;\r\n\r\n\tpublic String register(RegistrationRequest request) {\r\n\r\n\t\tboolean isValidEmail = emailValidator.test(request.getEmail());\r\n\r\n\t\tif (!isValidEmail) {\r\n\t\t\tthrow new IllegalStateException(&quot;Email is not valid&quot;);\r\n\t\t}\r\n\r\n\t\treturn appUserService.signUpUser(new AppUser(request.getFirstName(), request.getLastName(), request.getEmail(),\r\n\t\t\t\trequest.getPassword(), AppUserRole.USER));\r\n\t}\r\n\r\n}\r\n```","title":"Spring Security returns 200 OK instead of desired 4xx Internal Server Error in browser client when throwing Exception","body":"<p>I am working on a backend login and user registration app that serves a web application. I am using <code>spring-security-web-6.0.2</code>, and when I use postman, my POST requests go through correctly as I expect. However, when I throw an IllegalStateException for trying to register a user which already exists, I expect for Spring to respond with a 500 Internal Server Error, however I am still given a 200 OK.  The following is the associated class which I am referring to and security configuration class: I cannot understand why I am still receiving a 200.</p>\n<p>Application Class:</p>\n<pre><code>package com.akabryan.springproject.appuser;\n\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport lombok.AllArgsConstructor;\n\n@Service\n@AllArgsConstructor\npublic class AppUserService implements UserDetailsService {\n\n    private final static String USER_NOT_FOUND_MSG = &quot;User with email %s not found&quot;;\n\n    private final AppUserRepository appUserRepository;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n\n        return appUserRepository.findByEmail(email)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(String.format(USER_NOT_FOUND_MSG, email)));\n    }\n\n    public String signUpUser(AppUser appUser) {\n        boolean userExists = appUserRepository.findByEmail(appUser.getEmail()).isPresent();\n\n        if (userExists) {\n            throw new IllegalStateException(&quot;Email already taken.&quot;);\n        }\n\n        String encodedPassword = bCryptPasswordEncoder.encode(appUser.getPassword());\n\n        appUser.setPassword(encodedPassword);\n        \n        appUserRepository.save(appUser);\n        \n        //TODO: Send confirmation token\n        \n        \n        return &quot;Successfully registered&quot;;\n    }\n}\n\n</code></pre>\n<p>The following is the web security configuration:</p>\n<pre><code>package com.akabryan.springproject.security.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\nimport com.akabryan.springproject.appuser.AppUserService;\n\nimport lombok.AllArgsConstructor;\n\n@Configuration\n@AllArgsConstructor\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    private final AppUserService appUserService;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable().authorizeHttpRequests().requestMatchers(&quot;/api/v*/registration/**&quot;).permitAll()\n                .anyRequest().authenticated().and().formLogin();\n\n        return http.build();\n    }\n\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(daoAuthenticationProvider());\n    }\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\n        provider.setUserDetailsService(appUserService);\n\n        return provider;\n    }\n\n}\n</code></pre>\n<p>Edit: Here is my @RestController Class.</p>\n<pre><code>package com.akabryan.springproject.registration;\n\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport lombok.AllArgsConstructor;\n\n@RestController\n@RequestMapping(path = &quot;api/v1/registration&quot;)\n@AllArgsConstructor\npublic class RegistrationController {\n\n    private RegistrationService registrationService;\n\n    @PostMapping\n    public String register(@RequestBody RegistrationRequest request) {\n        return registrationService.register(request);\n    }\n}\n</code></pre>\n<p>Here is what my console logs. Note the first successful registration attempt, and the IllegalStateException that is thrown. Which should induce a 500 Error:</p>\n<pre><code>This is starting the signup user process.\nHibernate: select nextval('student_sequence')\nHibernate: insert into app_user (app_user_role, email, enabled, first_name, last_name, locked, password, id) values (?, ?, ?, ?, ?, ?, ?, ?)\nUser was successfully added to the repo.\nHibernate: select a1_0.id,a1_0.app_user_role,a1_0.email,a1_0.enabled,a1_0.first_name,a1_0.last_name,a1_0.locked,a1_0.password from app_user a1_0 where a1_0.email=?\nThis is starting the signup user process.\nAn IllegalStateException should be thrown after this.\n2023-04-19T10:35:47.789-04:00 ERROR 23184 --- [nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Email already taken.] with root cause\n\njava.lang.IllegalStateException: Email already taken.\n    at com.akabryan.springproject.appuser.AppUserService.signUpUser(AppUserService.java:34) ~[classes/:na]\n    at com.akabryan.springproject.registration.RegistrationService.register(RegistrationService.java:26) ~[classes/:na]\n    at com.akabryan.springproject.registration.RegistrationController.register(RegistrationController.java:19) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:563) ~[tomcat-embed-core-10.1.7.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:631) ~[tomcat-embed-core-10.1.7.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n</code></pre>\n<p>Edit 2: The following is the <code>RegistrationService</code> class. These seem fine to me but I can't really pinpoint and root cause of my issue from these classes.</p>\n<pre><code>package com.akabryan.springproject.registration;\n\nimport org.springframework.stereotype.Service;\n\nimport com.akabryan.springproject.appuser.AppUser;\nimport com.akabryan.springproject.appuser.AppUserRole;\nimport com.akabryan.springproject.appuser.AppUserService;\n\nimport lombok.AllArgsConstructor;\n\n@Service\n@AllArgsConstructor\npublic class RegistrationService {\n\n    private final AppUserService appUserService;\n    private EmailValidator emailValidator;\n\n    public String register(RegistrationRequest request) {\n\n        boolean isValidEmail = emailValidator.test(request.getEmail());\n\n        if (!isValidEmail) {\n            throw new IllegalStateException(&quot;Email is not valid&quot;);\n        }\n\n        return appUserService.signUpUser(new AppUser(request.getFirstName(), request.getLastName(), request.getEmail(),\n                request.getPassword(), AppUserRole.USER));\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","kotlin","inline"],"comments":[{"owner":{"account_id":49385,"reputation":93759,"user_id":147024,"display_name":"yole"},"score":3,"creation_date":1541068095,"post_id":53098190,"comment_id":93094344,"body_markdown":"Inline classes always generate method names containing - characters; they&#39;re replaced with _ by the decompiler you&#39;re using. It looks like Google Cloud performs stricter validation of method names than the regular JDK, so it doesn&#39;t accept those method names. We (the Kotlin team) will investigate the issue.","body":"Inline classes always generate method names containing - characters; they&#39;re replaced with _ by the decompiler you&#39;re using. It looks like Google Cloud performs stricter validation of method names than the regular JDK, so it doesn&#39;t accept those method names. We (the Kotlin team) will investigate the issue."},{"owner":{"account_id":4310172,"reputation":332,"user_id":3521477,"display_name":"saturnism"},"score":0,"creation_date":1541079423,"post_id":53098190,"comment_id":93100325,"body_markdown":"Also, are you referring to deploying to App Engine? (Standard or Flex?)","body":"Also, are you referring to deploying to App Engine? (Standard or Flex?)"},{"owner":{"account_id":14626070,"reputation":81,"user_id":10566543,"display_name":"Geert Olaerts"},"score":0,"creation_date":1541158727,"post_id":53098190,"comment_id":93130033,"body_markdown":"Yes it is during the startup of the app in google app engine flexible.","body":"Yes it is during the startup of the app in google app engine flexible."},{"owner":{"account_id":4310172,"reputation":332,"user_id":3521477,"display_name":"saturnism"},"score":0,"creation_date":1541160822,"post_id":53098190,"comment_id":93131020,"body_markdown":"Can you share the full stacktrace? I&#39;d like to see how this was triggered, I may have some idea.","body":"Can you share the full stacktrace? I&#39;d like to see how this was triggered, I may have some idea."},{"owner":{"account_id":4310172,"reputation":332,"user_id":3521477,"display_name":"saturnism"},"score":0,"creation_date":1541437256,"post_id":53098190,"comment_id":93208313,"body_markdown":"thnx for the stacktrace! just to confirm, this error was not occurring during the deployment time, but at startup time.","body":"thnx for the stacktrace! just to confirm, this error was not occurring during the deployment time, but at startup time."},{"owner":{"account_id":4310172,"reputation":332,"user_id":3521477,"display_name":"saturnism"},"score":0,"creation_date":1541446770,"post_id":53098190,"comment_id":93212508,"body_markdown":"In fact, if you can share a snippet of the service code (i&#39;m assuming just an interface), would be awesome!","body":"In fact, if you can share a snippet of the service code (i&#39;m assuming just an interface), would be awesome!"}],"answers":[{"tags":[],"owner":{"account_id":1593100,"reputation":139,"user_id":1475992,"display_name":"ilia_b"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1682017914,"creation_date":1541076131,"answer_id":53101497,"question_id":53098190,"body_markdown":"This happens due to name mangling done by Kotlin compiler. Functions accepting inline classes are not callable from Java. ([Official documentation][1])\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/inline-classes.html#mangling\r\n\r\n\r\n\r\n","title":"Inline classes generate strange names on OpenJDK","body":"<p>This happens due to name mangling done by Kotlin compiler. Functions accepting inline classes are not callable from Java. (<a href=\"https://kotlinlang.org/docs/reference/inline-classes.html#mangling\" rel=\"nofollow noreferrer\">Official documentation</a>)</p>\n"},{"tags":[],"owner":{"account_id":2892,"reputation":4918,"user_id":4100,"display_name":"Paul de Vrieze"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682018462,"creation_date":1541502327,"answer_id":53170616,"question_id":53098190,"body_markdown":"The key points are in the bottom of the stack trace:\r\n\r\n```lang-none\r\norg.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:  ... 43 common frames omitted\r\n[INFO] GCLOUD: Caused by: java.lang.ClassFormatError: Illegal method name &quot;createConfiguration-tQynZQ0&quot; in class com/hexigames/configurationservice/domain/game/GameConfigurationService$$EnhancerBySpringCGLIB$$76757398\r\n[INFO] GCLOUD:  at java.lang.ClassLoader.defineClass1(Native Method) ~[na:1.8.0_181]\r\n[INFO] GCLOUD:  at java.lang.ClassLoader.defineClass(ClassLoader.java:763) ~[na:1.8.0_181]\r\n```\r\n\r\nIn other words, Spring uses a custom class loader to generate a class on demand. This class uses the method name with a - in it. The `defineClass1` method in the class loader chokes on it. As classloaders are used for loading any class, my only assumption is that somehow Google Cloud uses an adjusted class loader. As classloaders are highly security sensitive, this makes sense, but obviously your Kotlin code is not security sensitive.\r\n\r\nAccording to the JVM specification the `-` character is not an illegal character in a method name at JVM level: https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.2.2. As such, this appears to be a bug in the Google Cloud platform. Btw., the character is illegal in Java, but the JVM is much more lenient.\r\n\r\n\r\n\r\n","title":"Inline classes generate strange names on OpenJDK","body":"<p>The key points are in the bottom of the stack trace:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:  ... 43 common frames omitted\n[INFO] GCLOUD: Caused by: java.lang.ClassFormatError: Illegal method name &quot;createConfiguration-tQynZQ0&quot; in class com/hexigames/configurationservice/domain/game/GameConfigurationService$$EnhancerBySpringCGLIB$$76757398\n[INFO] GCLOUD:  at java.lang.ClassLoader.defineClass1(Native Method) ~[na:1.8.0_181]\n[INFO] GCLOUD:  at java.lang.ClassLoader.defineClass(ClassLoader.java:763) ~[na:1.8.0_181]\n</code></pre>\n<p>In other words, Spring uses a custom class loader to generate a class on demand. This class uses the method name with a - in it. The <code>defineClass1</code> method in the class loader chokes on it. As classloaders are used for loading any class, my only assumption is that somehow Google Cloud uses an adjusted class loader. As classloaders are highly security sensitive, this makes sense, but obviously your Kotlin code is not security sensitive.</p>\n<p>According to the JVM specification the <code>-</code> character is not an illegal character in a method name at JVM level: <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.2.2\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.2.2</a>. As such, this appears to be a bug in the Google Cloud platform. Btw., the character is illegal in Java, but the JVM is much more lenient.</p>\n"}],"owner":{"account_id":14626070,"reputation":81,"user_id":10566543,"display_name":"Geert Olaerts"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":819,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1682018462,"creation_date":1541063579,"question_id":53098190,"body_markdown":"I am building a [Spring Boot][1] application with Kotlin and wanted to use inline classes. I made a Spring data repository that had a method as follows:\r\n\r\n```\r\nfun getBy(name: GameName)\r\n```\r\n\r\nwhere GameName is an inline class\r\n\r\n```\r\ninline class GameName(val value: String)\r\n```\r\n\r\nAnd everything works locally, where I am running JDK 1.8.0_181-b13. But when I deploy it to [Google Cloud][2], the Spring Boot app doesn&#39;t start up. Google Cloud seems to be running OpenJDK 1.8.0_181.\r\n\r\nWhen I decompile the code locally, it looks like this:\r\n\r\n```\r\npublic GameConfigurationEntity getBy_00UsoVY/* $FF was: getBy-00UsoVY*/(@NotNull String gameName, @NotNull UUID id) { ... }\r\n```\r\n\r\nBut on Google Cloud Platform, I get the following error:\r\n\r\n&gt; Caused by: java.lang.ClassFormatError: Illegal method name &quot;getByName-MZoZWhM&quot;\r\n\r\nSo it seems locally it uses `_`, while on Google Cloud it uses `-` and `-` is not a valid character in a method name.\r\n\r\nHow can I fix this?\r\n\r\nFull stack trace:\r\n\r\n```lang-none\r\n[INFO] GCLOUD: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;gameConfigurationService&#39; defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/hexigames/configurationservice/domain/game/GameConfigurationService.class]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class com.hexigames.configurationservice.domain.game.GameConfigurationService: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InvocationTargetException--&gt;null\r\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:548) ~[spring-context-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) [spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:386) [spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) [spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1242) [spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1230) [spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\r\n[INFO] GCLOUD:     at com.hexigames.configurationservice.ConfigurationServiceApplicationKt.main(ConfigurationServiceApplication.kt:12) [classes!/:0.0.1-SNAPSHOT]\r\n[INFO] GCLOUD:     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_181]\r\n[INFO] GCLOUD:     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_181]\r\n[INFO] GCLOUD:     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_181]\r\n[INFO] GCLOUD:     at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_181]\r\n[INFO] GCLOUD:     at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [app.jar:0.0.1-SNAPSHOT]\r\n[INFO] GCLOUD:     at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [app.jar:0.0.1-SNAPSHOT]\r\n[INFO] GCLOUD:     at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [app.jar:0.0.1-SNAPSHOT]\r\n[INFO] GCLOUD:     at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [app.jar:0.0.1-SNAPSHOT]\r\n[INFO] GCLOUD: Caused by: org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class com.hexigames.configurationservice.domain.game.GameConfigurationService: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InvocationTargetException--&gt;null\r\n[INFO] GCLOUD:     at org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:208) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.createProxy(AbstractAutoProxyCreator.java:473) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:355) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:304) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:431) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1698) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     ... 23 common frames omitted\r\n[INFO] GCLOUD: Caused by: org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InvocationTargetException--&gt;null\r\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:345) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:492) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_181]\r\n[INFO] GCLOUD:     at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:480) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:337) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:58) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:205) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     ... 30 common frames omitted\r\n[INFO] GCLOUD: Caused by: java.lang.reflect.InvocationTargetException: null\r\n[INFO] GCLOUD:     at sun.reflect.GeneratedMethodAccessor41.invoke(Unknown Source) ~[na:na]\r\n[INFO] GCLOUD:     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_181]\r\n[INFO] GCLOUD:     at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_181]\r\n[INFO] GCLOUD:     at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:459) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     ... 43 common frames omitted\r\n[INFO] GCLOUD: Caused by: java.lang.ClassFormatError: Illegal method name &quot;createConfiguration-tQynZQ0&quot; in class com/hexigames/configurationservice/domain/game/GameConfigurationService$$EnhancerBySpringCGLIB$$76757398\r\n[INFO] GCLOUD:     at java.lang.ClassLoader.defineClass1(Native Method) ~[na:1.8.0_181]\r\n[INFO] GCLOUD:     at java.lang.ClassLoader.defineClass(ClassLoader.java:763) ~[na:1.8.0_181]\r\n[INFO] GCLOUD:     ... 48 common frames omitted\r\n[INFO] GCLOUD:\r\n[INFO] GCLOUD: I1101 09:02:28.364653    25 jvmti_agent.cc:225] Java VM termination\r\n[INFO] GCLOUD: I1101 09:02:28.377487    36 jvmti_agent_thread.cc:103] Agent thread exited: CloudDebugger_main_worker_thread\r\n[INFO] GCLOUD: I1101 09:02:28.398113    25 worker.cc:116] Debugger threads terminated\r\n[INFO] GCLOUD: I1101 09:02:28.405902    25 jvmti_agent.cc:239] JvmtiAgent::JvmtiOnVMDeath cleanup time: 44024 microseconds\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\r\n  [2]: https://en.wikipedia.org/wiki/Google_Cloud_Platform\r\n\r\n\r\n\r\n\r\n","title":"Inline classes generate strange names on OpenJDK","body":"<p>I am building a <a href=\"https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\" rel=\"nofollow noreferrer\">Spring Boot</a> application with Kotlin and wanted to use inline classes. I made a Spring data repository that had a method as follows:</p>\n<pre><code>fun getBy(name: GameName)\n</code></pre>\n<p>where GameName is an inline class</p>\n<pre><code>inline class GameName(val value: String)\n</code></pre>\n<p>And everything works locally, where I am running JDK 1.8.0_181-b13. But when I deploy it to <a href=\"https://en.wikipedia.org/wiki/Google_Cloud_Platform\" rel=\"nofollow noreferrer\">Google Cloud</a>, the Spring Boot app doesn't start up. Google Cloud seems to be running OpenJDK 1.8.0_181.</p>\n<p>When I decompile the code locally, it looks like this:</p>\n<pre><code>public GameConfigurationEntity getBy_00UsoVY/* $FF was: getBy-00UsoVY*/(@NotNull String gameName, @NotNull UUID id) { ... }\n</code></pre>\n<p>But on Google Cloud Platform, I get the following error:</p>\n<blockquote>\n<p>Caused by: java.lang.ClassFormatError: Illegal method name &quot;getByName-MZoZWhM&quot;</p>\n</blockquote>\n<p>So it seems locally it uses <code>_</code>, while on Google Cloud it uses <code>-</code> and <code>-</code> is not a valid character in a method name.</p>\n<p>How can I fix this?</p>\n<p>Full stack trace:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[INFO] GCLOUD: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'gameConfigurationService' defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/hexigames/configurationservice/domain/game/GameConfigurationService.class]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class com.hexigames.configurationservice.domain.game.GameConfigurationService: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InvocationTargetException--&gt;null\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:548) ~[spring-context-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\n[INFO] GCLOUD:     at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) [spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\n[INFO] GCLOUD:     at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:386) [spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\n[INFO] GCLOUD:     at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) [spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\n[INFO] GCLOUD:     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1242) [spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\n[INFO] GCLOUD:     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1230) [spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\n[INFO] GCLOUD:     at com.hexigames.configurationservice.ConfigurationServiceApplicationKt.main(ConfigurationServiceApplication.kt:12) [classes!/:0.0.1-SNAPSHOT]\n[INFO] GCLOUD:     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_181]\n[INFO] GCLOUD:     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_181]\n[INFO] GCLOUD:     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_181]\n[INFO] GCLOUD:     at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_181]\n[INFO] GCLOUD:     at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [app.jar:0.0.1-SNAPSHOT]\n[INFO] GCLOUD:     at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [app.jar:0.0.1-SNAPSHOT]\n[INFO] GCLOUD:     at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [app.jar:0.0.1-SNAPSHOT]\n[INFO] GCLOUD:     at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [app.jar:0.0.1-SNAPSHOT]\n[INFO] GCLOUD: Caused by: org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class com.hexigames.configurationservice.domain.game.GameConfigurationService: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InvocationTargetException--&gt;null\n[INFO] GCLOUD:     at org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:208) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.createProxy(AbstractAutoProxyCreator.java:473) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:355) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:304) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:431) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1698) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     ... 23 common frames omitted\n[INFO] GCLOUD: Caused by: org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InvocationTargetException--&gt;null\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:345) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:492) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_181]\n[INFO] GCLOUD:     at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:480) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:337) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:58) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:205) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     ... 30 common frames omitted\n[INFO] GCLOUD: Caused by: java.lang.reflect.InvocationTargetException: null\n[INFO] GCLOUD:     at sun.reflect.GeneratedMethodAccessor41.invoke(Unknown Source) ~[na:na]\n[INFO] GCLOUD:     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_181]\n[INFO] GCLOUD:     at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_181]\n[INFO] GCLOUD:     at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:459) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     ... 43 common frames omitted\n[INFO] GCLOUD: Caused by: java.lang.ClassFormatError: Illegal method name &quot;createConfiguration-tQynZQ0&quot; in class com/hexigames/configurationservice/domain/game/GameConfigurationService$$EnhancerBySpringCGLIB$$76757398\n[INFO] GCLOUD:     at java.lang.ClassLoader.defineClass1(Native Method) ~[na:1.8.0_181]\n[INFO] GCLOUD:     at java.lang.ClassLoader.defineClass(ClassLoader.java:763) ~[na:1.8.0_181]\n[INFO] GCLOUD:     ... 48 common frames omitted\n[INFO] GCLOUD:\n[INFO] GCLOUD: I1101 09:02:28.364653    25 jvmti_agent.cc:225] Java VM termination\n[INFO] GCLOUD: I1101 09:02:28.377487    36 jvmti_agent_thread.cc:103] Agent thread exited: CloudDebugger_main_worker_thread\n[INFO] GCLOUD: I1101 09:02:28.398113    25 worker.cc:116] Debugger threads terminated\n[INFO] GCLOUD: I1101 09:02:28.405902    25 jvmti_agent.cc:239] JvmtiAgent::JvmtiOnVMDeath cleanup time: 44024 microseconds\n</code></pre>\n"},{"tags":["java","jmx","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682017817,"creation_date":1681937693,"answer_id":76058741,"question_id":76058228,"body_markdown":"The key to getting the message details out of the `CompositeData` is the [`CompositeDataConstants`][1] class.\r\n\r\nIf I sent a message like this:\r\n```java\r\n      ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&quot;tcp://localhost:61616&quot;);\r\n      Connection connection = connectionFactory.createConnection();\r\n      Session session = connection.createSession();\r\n      MessageProducer messageProducer = session.createProducer(session.createQueue(&quot;myQueue&quot;));\r\n      TextMessage message = session.createTextMessage();\r\n      message.setJMSReplyTo(session.createQueue(&quot;myReplyTo&quot;));\r\n      message.setText(&quot;myText&quot;);\r\n      message.setStringProperty(&quot;myKey1&quot;, &quot;myValue1&quot;);\r\n      message.setStringProperty(&quot;myKey2&quot;, &quot;myValue2&quot;);\r\n      messageProducer.send(message);\r\n      connection.close();\r\n```\r\nYou could browse the queue and deserialize the message data, e.g.:\r\n```java\r\n      QueueControl queueControl = ...\r\n      CompositeData[] messages = queueControl.browse();\r\n      for (CompositeData message : messages) {\r\n         System.out.println(&quot;JMSMessageID: &quot; + message.get(CompositeDataConstants.USER_ID));\r\n         System.out.println(&quot;Destination: &quot; + message.get(CompositeDataConstants.ADDRESS));\r\n         System.out.println(&quot;Text: &quot; + message.get(CompositeDataConstants.TEXT_BODY));\r\n         System.out.println(&quot;DeliveryMode: &quot; + ((Boolean) message.get(CompositeDataConstants.DURABLE) ? &quot;persistent&quot; : &quot;non-persistent&quot;));\r\n         TabularData stringProps = (TabularData) message.get(CompositeDataConstants.STRING_PROPERTIES);\r\n         for (CompositeData o : (Collection&lt;CompositeData&gt;) stringProps.values()) {\r\n            System.out.println(o.get(&quot;key&quot;) + &quot;: &quot; + o.get(&quot;value&quot;));\r\n         }\r\n      }\r\n```\r\nWhich would print something like this:\r\n```\r\nJMSMessageID: ID:41171b0e-dfae-11ed-9217-3ce1a1d12939\r\nDestination: myQueue\r\nText: myText\r\nDeliveryMode: persistent\r\nJMSReplyTo: queue://myReplyTo\r\nmyKey1: myValue1\r\nmyKey2: myValue2\r\n__AMQ_CID: 41123909-dfae-11ed-9217-3ce1a1d12939\r\n```\r\nIf you don&#39;t want to use the constants directly you can find their respective values [here][2].\r\n\r\nKeep in mind that the returned data may be truncated due to the `management-message-attribute-size-limit`. [The documentation][3] explains this setting:\r\n\r\n&gt; `management-message-attribute-size-limit` is the number of bytes collected from the message for browse. This is relevant for the `browse` and `list` management methods exposed on the queue control. Message attributes longer than this value appear truncated. Default is `256`. Use `-1` to switch this limit off. Note that memory needs to be allocated for all messages that are visible at a given moment. Setting this value too high may impact the browser stability due to the large amount of memory that may be required to browse through many messages.\r\n\r\n\r\n  [1]: https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/core/message/openmbean/CompositeDataConstants.html\r\n  [2]: https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/constant-values.html#org.apache.activemq.artemis.core.message.openmbean.CompositeDataConstants.ADDRESS\r\n  [3]: https://activemq.apache.org/components/artemis/documentation/latest/address-settings.html","title":"How to translate CompositeData[] class objects into Message class objects in Artemis JMX?","body":"<p>The key to getting the message details out of the <code>CompositeData</code> is the <a href=\"https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/core/message/openmbean/CompositeDataConstants.html\" rel=\"nofollow noreferrer\"><code>CompositeDataConstants</code></a> class.</p>\n<p>If I sent a message like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&quot;tcp://localhost:61616&quot;);\n      Connection connection = connectionFactory.createConnection();\n      Session session = connection.createSession();\n      MessageProducer messageProducer = session.createProducer(session.createQueue(&quot;myQueue&quot;));\n      TextMessage message = session.createTextMessage();\n      message.setJMSReplyTo(session.createQueue(&quot;myReplyTo&quot;));\n      message.setText(&quot;myText&quot;);\n      message.setStringProperty(&quot;myKey1&quot;, &quot;myValue1&quot;);\n      message.setStringProperty(&quot;myKey2&quot;, &quot;myValue2&quot;);\n      messageProducer.send(message);\n      connection.close();\n</code></pre>\n<p>You could browse the queue and deserialize the message data, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      QueueControl queueControl = ...\n      CompositeData[] messages = queueControl.browse();\n      for (CompositeData message : messages) {\n         System.out.println(&quot;JMSMessageID: &quot; + message.get(CompositeDataConstants.USER_ID));\n         System.out.println(&quot;Destination: &quot; + message.get(CompositeDataConstants.ADDRESS));\n         System.out.println(&quot;Text: &quot; + message.get(CompositeDataConstants.TEXT_BODY));\n         System.out.println(&quot;DeliveryMode: &quot; + ((Boolean) message.get(CompositeDataConstants.DURABLE) ? &quot;persistent&quot; : &quot;non-persistent&quot;));\n         TabularData stringProps = (TabularData) message.get(CompositeDataConstants.STRING_PROPERTIES);\n         for (CompositeData o : (Collection&lt;CompositeData&gt;) stringProps.values()) {\n            System.out.println(o.get(&quot;key&quot;) + &quot;: &quot; + o.get(&quot;value&quot;));\n         }\n      }\n</code></pre>\n<p>Which would print something like this:</p>\n<pre><code>JMSMessageID: ID:41171b0e-dfae-11ed-9217-3ce1a1d12939\nDestination: myQueue\nText: myText\nDeliveryMode: persistent\nJMSReplyTo: queue://myReplyTo\nmyKey1: myValue1\nmyKey2: myValue2\n__AMQ_CID: 41123909-dfae-11ed-9217-3ce1a1d12939\n</code></pre>\n<p>If you don't want to use the constants directly you can find their respective values <a href=\"https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/constant-values.html#org.apache.activemq.artemis.core.message.openmbean.CompositeDataConstants.ADDRESS\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Keep in mind that the returned data may be truncated due to the <code>management-message-attribute-size-limit</code>. <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/address-settings.html\" rel=\"nofollow noreferrer\">The documentation</a> explains this setting:</p>\n<blockquote>\n<p><code>management-message-attribute-size-limit</code> is the number of bytes collected from the message for browse. This is relevant for the <code>browse</code> and <code>list</code> management methods exposed on the queue control. Message attributes longer than this value appear truncated. Default is <code>256</code>. Use <code>-1</code> to switch this limit off. Note that memory needs to be allocated for all messages that are visible at a given moment. Setting this value too high may impact the browser stability due to the large amount of memory that may be required to browse through many messages.</p>\n</blockquote>\n"}],"owner":{"account_id":28348739,"reputation":37,"user_id":21680529,"display_name":"Vanish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76058741,"answer_count":1,"score":1,"last_activity_date":1682017817,"creation_date":1681933021,"question_id":76058228,"body_markdown":"I&#39;m using JMX to connect to an Artemis queue via the QueueControl class and its browse method, which returns a CompositeData array, but I can&#39;t get the individual headers with the get methods as there aren&#39;t any. Please tell me how to get not the whole body of the headers, but certain fields via JMX on Artemis\r\n\r\nI also tried the listMessage method, but it gives an incomplete list of headers and does not display the body of the message","title":"How to translate CompositeData[] class objects into Message class objects in Artemis JMX?","body":"<p>I'm using JMX to connect to an Artemis queue via the QueueControl class and its browse method, which returns a CompositeData array, but I can't get the individual headers with the get methods as there aren't any. Please tell me how to get not the whole body of the headers, but certain fields via JMX on Artemis</p>\n<p>I also tried the listMessage method, but it gives an incomplete list of headers and does not display the body of the message</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12695174,"reputation":45171,"user_id":9223839,"display_name":"Joakim Danielson"},"score":1,"creation_date":1606565984,"post_id":65049156,"comment_id":115001245,"body_markdown":"To me it looks like you need to make an extra check so that you never call inGerman recursive with the value 1 (at least when dividing by larger numbers) but handle it directly.","body":"To me it looks like you need to make an extra check so that you never call inGerman recursive with the value 1 (at least when dividing by larger numbers) but handle it directly."},{"owner":{"account_id":1440515,"reputation":7658,"user_id":1360803,"accept_rate":100,"display_name":"Polygnome"},"score":1,"creation_date":1606567498,"post_id":65049156,"comment_id":115001653,"body_markdown":"`z&#246;lf` should be `zw&#246;lf`, `dreissig` should be `drei&#223;ig`, `sechszehn` should be `sechzehn`. Also its `eintausend` and `zweitausend`, but for millions, its `eine million vierhunderttausend` (singualr) and then `zwei millionen f&#252;nfhunderttausend` (plural in millionen). Same applies for Milliarde/milliarden, Billion/billionen etc.","body":"<code>z&#246;lf</code> should be <code>zw&#246;lf</code>, <code>dreissig</code> should be <code>drei&#223;ig</code>, <code>sechszehn</code> should be <code>sechzehn</code>. Also its <code>eintausend</code> and <code>zweitausend</code>, but for millions, its <code>eine million vierhunderttausend</code> (singualr) and then <code>zwei millionen f&#252;nfhunderttausend</code> (plural in millionen). Same applies for Milliarde/milliarden, Billion/billionen etc."}],"answers":[{"tags":[],"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606565858,"creation_date":1606565858,"answer_id":65049484,"question_id":65049156,"body_markdown":"The code is not so bad except for the meaningless while statement and the unused `static int einer`.\r\n\r\nYou could include &quot;null&quot; und &quot;ein&quot; (not &quot;eins&quot;) in the unitsArray and remove the while statement. Then change &quot;inGerman&quot; to a private method &quot;internalInGerman&quot;, and handle the special cases 1 (and maybe 0? check it out for yourself) in a new public inGerman method, like so:\r\n\r\n    public String inGerman(int number) {\r\n        return number == 1 ? &quot;eins&quot; : internalInGerman(number);\r\n    }","title":"Converting numbers into German words","body":"<p>The code is not so bad except for the meaningless while statement and the unused <code>static int einer</code>.</p>\n<p>You could include &quot;null&quot; und &quot;ein&quot; (not &quot;eins&quot;) in the unitsArray and remove the while statement. Then change &quot;inGerman&quot; to a private method &quot;internalInGerman&quot;, and handle the special cases 1 (and maybe 0? check it out for yourself) in a new public inGerman method, like so:</p>\n<pre><code>public String inGerman(int number) {\n    return number == 1 ? &quot;eins&quot; : internalInGerman(number);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14665276,"reputation":1043,"user_id":10591290,"display_name":"TimonNetherlands"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606567140,"creation_date":1606567140,"answer_id":65049649,"question_id":65049156,"body_markdown":"@Joakim Danielson is right. You can&#39;t call `inGerman` recursively with the value `1` as the method can&#39;t tell where in the word the &#39;ein&#39; or &#39;eins&#39; is going to end up.\r\n\r\nThese lines can all result in the value `1` which will always pull `eins` from the `unitsArray`:\r\n\r\n```\r\nnumber %= 1000000;\r\nnumber %= 1000;\r\nnumber %= 100;\r\n```\r\n\r\nIf you want to take the lazy approach, as I would, you can replace `eins` with `ein` in the `unitsArray` and then call this method on your String:\r\n\r\n```\r\ninGerman(number).replaceAll( &quot;ein$&quot;, &quot;eins&quot;);\r\n```\r\n","title":"Converting numbers into German words","body":"<p>@Joakim Danielson is right. You can't call <code>inGerman</code> recursively with the value <code>1</code> as the method can't tell where in the word the 'ein' or 'eins' is going to end up.</p>\n<p>These lines can all result in the value <code>1</code> which will always pull <code>eins</code> from the <code>unitsArray</code>:</p>\n<pre><code>number %= 1000000;\nnumber %= 1000;\nnumber %= 100;\n</code></pre>\n<p>If you want to take the lazy approach, as I would, you can replace <code>eins</code> with <code>ein</code> in the <code>unitsArray</code> and then call this method on your String:</p>\n<pre><code>inGerman(number).replaceAll( &quot;ein$&quot;, &quot;eins&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6740139,"reputation":322,"user_id":5193638,"display_name":"Raphi1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682017488,"creation_date":1682017488,"answer_id":76067455,"question_id":65049156,"body_markdown":"I did an implementation in php, but maybe you can get an idea about the logic. \r\nIt&#39;s also based on recursion. As others already pointed out, there are two special cases, `0` and `1`, where you can not call the recursion.\r\nAs polygnome pointed out, the higher numbers have a slightly different logic with singular and plural.\r\n\r\nYou can check out the code here https://github.com/Raphi1/number-to-words\r\nThe last (public) function is the entry point, you would call from the outside to get your string result.","title":"Converting numbers into German words","body":"<p>I did an implementation in php, but maybe you can get an idea about the logic.\nIt's also based on recursion. As others already pointed out, there are two special cases, <code>0</code> and <code>1</code>, where you can not call the recursion.\nAs polygnome pointed out, the higher numbers have a slightly different logic with singular and plural.</p>\n<p>You can check out the code here <a href=\"https://github.com/Raphi1/number-to-words\" rel=\"nofollow noreferrer\">https://github.com/Raphi1/number-to-words</a>\nThe last (public) function is the entry point, you would call from the outside to get your string result.</p>\n"}],"owner":{"account_id":19996912,"reputation":29,"user_id":14656762,"display_name":"Oliver"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1682017488,"creation_date":1606563528,"question_id":65049156,"body_markdown":"So my task is to convert numbers into German, and I am having a problem with &quot;ein&quot; and &quot;eins&quot;.  \r\nWhenever I put in 101101 --&gt; I get &quot;einhunderteinstausendeinhunderteins&quot; which is incorrect it is only the last ein in the number that needs to end with s --&gt; &quot;eins&quot;, but somehow I also have the eins in einstausend?\r\nAny ideas on how to solve this?\r\n\r\n    public abstract class InGerman {\r\n    \r\n        public static void main(String[] args) {\r\n            int number = Terminal.getInt(&quot;Enter a number between 1 - 999999:  ---&gt;  &quot;);\r\n            Terminal.put(&quot;number in german: &quot; + inGerman(number));\r\n        }\r\n    \r\n        public static final String[] unitsArray = {&quot; &quot;, &quot;eins&quot;, &quot;zwei&quot;, &quot;drei&quot;, &quot;vier&quot;, &quot;f&#252;nf&quot;, &quot;sechs&quot;, &quot;sieben&quot;, &quot;acht&quot;,\r\n                &quot;neun&quot;, &quot;zehn&quot;, &quot;elf&quot;, &quot;z&#246;lf&quot;, &quot;dreizehn&quot;, &quot;vierzehn&quot;, &quot;f&#252;nfzehn&quot;, &quot;sechszehn&quot;, &quot;siebzehn&quot;, &quot;achtzehn&quot;,\r\n                &quot;neunzehn&quot;};\r\n        public static final String[] tensArray = {&quot; &quot;, &quot;zehn&quot;, &quot;zwanzig&quot;, &quot;dreissig&quot;, &quot;vierzig&quot;, &quot;f&#252;nfzig&quot;, &quot;sechszig&quot;,\r\n                &quot;siebzig&quot;, &quot;achtzig&quot;, &quot;neunzig&quot;};\r\n    \r\n        static int einer = 0;\r\n    \r\n        private static String inGerman(int number) {\r\n            // variable to hold string representation of number\r\n            String words = &quot;&quot;;\r\n    \r\n            while (number == 0 || number == 1) {\r\n                if (number == 0)\r\n                    return &quot;null&quot;;\r\n                if (number == 1) {\r\n                    return words + &quot;ein&quot;;\r\n                }\r\n            }\r\n            // check if number is divisible by 1 million\r\n            if ((number / 1000000) &gt; 0) {\r\n                words += inGerman(number / 1000000) + &quot;million&quot; + &quot;&quot;;\r\n                number %= 1000000;\r\n            }\r\n            // check if number is divisible by 1 thousand\r\n            if ((number / 1000) &gt; 0) {\r\n                words += inGerman(number / 1000) + &quot;tausend&quot;;\r\n                number %= 1000;\r\n    \r\n            }\r\n            // check if number is divisible by 1 hundred\r\n            if ((number / 100) &gt; 0) {\r\n                words += inGerman(number / 100) + &quot;hundert&quot;;\r\n                number %= 100;\r\n            }\r\n    \r\n            if (number &gt; 0) {\r\n                // check if number is within teens\r\n                if (number &lt; 20) {\r\n                    // fetch the appropriate value from unit array\r\n                    words += unitsArray[number];\r\n                } else {\r\n                    // fetch the appropriate value from tens array\r\n                    words += unitsArray[number % 10];\r\n                    if ((number % 10) &gt; 0) {\r\n                        words += &quot;und&quot; + tensArray[number / 10];\r\n                    }\r\n                }\r\n            }\r\n    \r\n            return words;\r\n        }\r\n    }","title":"Converting numbers into German words","body":"<p>So my task is to convert numbers into German, and I am having a problem with &quot;ein&quot; and &quot;eins&quot;.<br />\nWhenever I put in 101101 --&gt; I get &quot;einhunderteinstausendeinhunderteins&quot; which is incorrect it is only the last ein in the number that needs to end with s --&gt; &quot;eins&quot;, but somehow I also have the eins in einstausend?\nAny ideas on how to solve this?</p>\n<pre><code>public abstract class InGerman {\n\n    public static void main(String[] args) {\n        int number = Terminal.getInt(&quot;Enter a number between 1 - 999999:  ---&gt;  &quot;);\n        Terminal.put(&quot;number in german: &quot; + inGerman(number));\n    }\n\n    public static final String[] unitsArray = {&quot; &quot;, &quot;eins&quot;, &quot;zwei&quot;, &quot;drei&quot;, &quot;vier&quot;, &quot;fnf&quot;, &quot;sechs&quot;, &quot;sieben&quot;, &quot;acht&quot;,\n            &quot;neun&quot;, &quot;zehn&quot;, &quot;elf&quot;, &quot;zlf&quot;, &quot;dreizehn&quot;, &quot;vierzehn&quot;, &quot;fnfzehn&quot;, &quot;sechszehn&quot;, &quot;siebzehn&quot;, &quot;achtzehn&quot;,\n            &quot;neunzehn&quot;};\n    public static final String[] tensArray = {&quot; &quot;, &quot;zehn&quot;, &quot;zwanzig&quot;, &quot;dreissig&quot;, &quot;vierzig&quot;, &quot;fnfzig&quot;, &quot;sechszig&quot;,\n            &quot;siebzig&quot;, &quot;achtzig&quot;, &quot;neunzig&quot;};\n\n    static int einer = 0;\n\n    private static String inGerman(int number) {\n        // variable to hold string representation of number\n        String words = &quot;&quot;;\n\n        while (number == 0 || number == 1) {\n            if (number == 0)\n                return &quot;null&quot;;\n            if (number == 1) {\n                return words + &quot;ein&quot;;\n            }\n        }\n        // check if number is divisible by 1 million\n        if ((number / 1000000) &gt; 0) {\n            words += inGerman(number / 1000000) + &quot;million&quot; + &quot;&quot;;\n            number %= 1000000;\n        }\n        // check if number is divisible by 1 thousand\n        if ((number / 1000) &gt; 0) {\n            words += inGerman(number / 1000) + &quot;tausend&quot;;\n            number %= 1000;\n\n        }\n        // check if number is divisible by 1 hundred\n        if ((number / 100) &gt; 0) {\n            words += inGerman(number / 100) + &quot;hundert&quot;;\n            number %= 100;\n        }\n\n        if (number &gt; 0) {\n            // check if number is within teens\n            if (number &lt; 20) {\n                // fetch the appropriate value from unit array\n                words += unitsArray[number];\n            } else {\n                // fetch the appropriate value from tens array\n                words += unitsArray[number % 10];\n                if ((number % 10) &gt; 0) {\n                    words += &quot;und&quot; + tensArray[number / 10];\n                }\n            }\n        }\n\n        return words;\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","spring","multithreading","liquibase"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1471269077,"post_id":38956219,"comment_id":65266654,"body_markdown":"You seem to have modified a liquibase changeset  that has already been executed by Liquibase. Don&#39;t do that: revert to the previous version, and add a new changeset.","body":"You seem to have modified a liquibase changeset  that has already been executed by Liquibase. Don&#39;t do that: revert to the previous version, and add a new changeset."},{"owner":{"account_id":8971872,"reputation":189,"user_id":6690056,"accept_rate":0,"display_name":"fff"},"score":0,"creation_date":1471269438,"post_id":38956219,"comment_id":65266889,"body_markdown":"is it good for changeset? also when i do diff after this \n\n&lt;modifyDataType\n                        columnName=&quot;status&quot;\n                        newDataType=&quot;varchar(255)&quot;\n                        tableName=&quot;merchant&quot;/&gt;\n\nit still doesnot convert to varchar","body":"is it good for changeset? also when i do diff after this   &lt;modifyDataType                         columnName=&quot;status&quot;                         newDataType=&quot;varchar(255)&quot;                         tableName=&quot;merchant&quot;/&gt;  it still doesnot convert to varchar"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1471270404,"post_id":38956219,"comment_id":65267534,"body_markdown":"What do you mean? What do you expect to happen and what happens instead?","body":"What do you mean? What do you expect to happen and what happens instead?"},{"owner":{"account_id":8971872,"reputation":189,"user_id":6690056,"accept_rate":0,"display_name":"fff"},"score":0,"creation_date":1471270659,"post_id":38956219,"comment_id":65267681,"body_markdown":"I want to see string value in front end but despite it says  rror: Unknown name value [0] for enum class [net.infoowl.fraud.domain.util.MerchantStatus]; nested exception is java.lang.IllegalArgumentException: Unknown name value [0] for enum class [net.infoowl.fraud.domain.util.MerchantStatus]\n\n also added to the question.","body":"I want to see string value in front end but despite it says  rror: Unknown name value [0] for enum class [net.infoowl.fraud.domain.util.MerchantStatus]; nested exception is java.lang.IllegalArgumentException: Unknown name value [0] for enum class [net.infoowl.fraud.domain.util.MerchantStatus]   also added to the question."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1471270766,"post_id":38956219,"comment_id":65267745,"body_markdown":"Changing the type of a column from int to varchar won&#39;t magically change all the values from 0 to &#39;ACTIVE&#39; and from 1 to &#39;PASSIVE&#39;. You need to add this to your changeset, too.","body":"Changing the type of a column from int to varchar won&#39;t magically change all the values from 0 to &#39;ACTIVE&#39; and from 1 to &#39;PASSIVE&#39;. You need to add this to your changeset, too."},{"owner":{"account_id":8971872,"reputation":189,"user_id":6690056,"accept_rate":0,"display_name":"fff"},"score":0,"creation_date":1471273076,"post_id":38956219,"comment_id":65269226,"body_markdown":"it doesnot change anything because in database tab of intelj, it seems always int datatype. I restarted a lot of times but did not change","body":"it doesnot change anything because in database tab of intelj, it seems always int datatype. I restarted a lot of times but did not change"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1471273455,"post_id":38956219,"comment_id":65269458,"body_markdown":"Have you fixed your xml files as I said you should? Do you still have an error message from Liquibase?","body":"Have you fixed your xml files as I said you should? Do you still have an error message from Liquibase?"},{"owner":{"account_id":8971872,"reputation":189,"user_id":6690056,"accept_rate":0,"display_name":"fff"},"score":0,"creation_date":1471274601,"post_id":38956219,"comment_id":65270134,"body_markdown":"Thanks it wrked :) i can accept if you answer sir.","body":"Thanks it wrked :) i can accept if you answer sir."}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1471274724,"creation_date":1471274724,"answer_id":38958075,"question_id":38956219,"body_markdown":"You seem to have modified a liquibase changeset that has already been executed by Liquibase. Don&#39;t do that: revert to the previous version, and add a new changeset.\r\n\r\nThen add another changeSet (or task) transforming all the 0 in that column to &#39;ACTIVE&#39;, and all the 1 in that column to &#39;PASSIVE&#39;.","title":"Liquibase liquibase.exception.ValidationFailedException: Validation Failed:","body":"<p>You seem to have modified a liquibase changeset that has already been executed by Liquibase. Don't do that: revert to the previous version, and add a new changeset.</p>\n\n<p>Then add another changeSet (or task) transforming all the 0 in that column to 'ACTIVE', and all the 1 in that column to 'PASSIVE'.</p>\n"},{"tags":[],"owner":{"account_id":2273522,"reputation":379,"user_id":8718151,"display_name":"Vikrant Korde"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640797283,"creation_date":1640797283,"answer_id":70522596,"question_id":38956219,"body_markdown":"I faced the same issue. \r\n\r\n      config/liquibase/changelog/20211227120229_added_entity_Product.xml::20211227120229-1-data::jhipster was: 8:d9bea6afc2902ce60cdfa54e82d248c4 but is now: 8:e353c8335afd112dfef95e3e95562f56\r\n\r\nI am using jHipster to create the entities (db tables) and its related screens and other files. Which is handled by jhipster very well. \r\nI modified one of the existing table structure and added new column in it.  Since then i started getting this error. I didn&#39;t modified the liquibase xml files manually. it was done by jhipster script. The solution that worked for me is to modify the MD5SUM manually in the table DATABASECHANGELOG using below command. \r\n\r\n    update DATABASECHANGELOG set MD5SUM = &#39;8:e353c8335afd112dfef95e3e95562f56&#39;\r\n    where MD5SUM = &#39;8:d9bea6afc2902ce60cdfa54e82d248c4&#39;; \r\n\r\nAfter this update it solved my problem however the column which i was added the last was not present in the table. So i needed to add that manually.  ","title":"Liquibase liquibase.exception.ValidationFailedException: Validation Failed:","body":"<p>I faced the same issue.</p>\n<pre><code>  config/liquibase/changelog/20211227120229_added_entity_Product.xml::20211227120229-1-data::jhipster was: 8:d9bea6afc2902ce60cdfa54e82d248c4 but is now: 8:e353c8335afd112dfef95e3e95562f56\n</code></pre>\n<p>I am using jHipster to create the entities (db tables) and its related screens and other files. Which is handled by jhipster very well.\nI modified one of the existing table structure and added new column in it.  Since then i started getting this error. I didn't modified the liquibase xml files manually. it was done by jhipster script. The solution that worked for me is to modify the MD5SUM manually in the table DATABASECHANGELOG using below command.</p>\n<pre><code>update DATABASECHANGELOG set MD5SUM = '8:e353c8335afd112dfef95e3e95562f56'\nwhere MD5SUM = '8:d9bea6afc2902ce60cdfa54e82d248c4'; \n</code></pre>\n<p>After this update it solved my problem however the column which i was added the last was not present in the table. So i needed to add that manually.</p>\n"},{"tags":[],"owner":{"account_id":12402847,"reputation":1,"user_id":9158466,"display_name":"Igor Schreiber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682017269,"creation_date":1682017269,"answer_id":76067438,"question_id":38956219,"body_markdown":"Do a select on DATABASECHANGELOG and you will figure it out.\r\n\r\n```sql\r\nSELECT * FROM DATABASECHANGELOG;\r\n```\r\n\r\nIf liquibase already processed one file you can&#39;t change this file anymore... unless you go on this DATABASECHANGELOG table and delete the last line that have your filename, them you can edit it and run again.\r\n\r\nDepending on what you are doing maybe you need to do it twice, one to rollback your changes and another to make the right changes.","title":"Liquibase liquibase.exception.ValidationFailedException: Validation Failed:","body":"<p>Do a select on DATABASECHANGELOG and you will figure it out.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM DATABASECHANGELOG;\n</code></pre>\n<p>If liquibase already processed one file you can't change this file anymore... unless you go on this DATABASECHANGELOG table and delete the last line that have your filename, them you can edit it and run again.</p>\n<p>Depending on what you are doing maybe you need to do it twice, one to rollback your changes and another to make the right changes.</p>\n"}],"owner":{"account_id":8971872,"reputation":189,"user_id":6690056,"accept_rate":0,"display_name":"fff"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18804,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1682017269,"creation_date":1471268482,"question_id":38956219,"body_markdown":"I tried to modify int column to varchar but it gives a lot of errors starting with this.\r\n\r\n        @NotNull\r\n        @Column(nullable = false)\r\n        @Enumerated(value = EnumType.STRING)\r\n        private MerchantStatus status;\r\n    \r\n       public MerchantStatus getStatus() {\r\n            return status;\r\n        }\r\n    \r\n        public Merchant setStatus(MerchantStatus status) {\r\n            this.status = status;\r\n            return this;\r\n        }\r\n\r\nthis is the column in domain. it is enum.\r\n\r\nthis is enum\r\n\r\n    public enum MerchantStatus {\r\n        ACTIVE(&quot;merchant.status.active&quot;),\r\n        PASSIVE(&quot;merchant.status.passive&quot;);\r\n    \r\n        private String key;\r\n    \r\n        MerchantStatus(String key) {\r\n            this.key = key;\r\n        }\r\n    \r\n        public String getKey() {\r\n            return key;\r\n        }\r\n    }\r\n\r\n\r\nthis is liquibase confg\r\n\r\n\r\n    &lt;column name=&quot;status&quot; type=&quot;INT&quot;/&gt;\r\n\r\n\r\ni tried to change here. or i added this inside 20160616145216\r\n\r\n \r\n\r\n    &lt;modifyDataType\r\n                            columnName=&quot;status&quot;\r\n                            newDataType=&quot;varchar(255)&quot;\r\n                            tableName=&quot;merchant&quot;/&gt;\r\n\r\nbut it did not work.\r\n\r\n\r\n&gt; 2 change sets check sum    |          \r\n&gt; classpath:config/liquibase/changelog/20160616145216_create_merchant.xml::1466077959485-1::\r\n&gt; (generated) is now: 7:5fb40924426396399804bb2cb7f74852    \r\n&gt; |          \r\n&gt; classpath:config/liquibase/changelog/20160720101800_load_data.xml::0000000000001-2::\r\n&gt; (generated) is now: 7:aa0084f69ca5301ef48cfb97beb41582    \r\n&gt; |       |      |\r\n&gt; liquibase.exception.ValidationFailedException: Validation Failed:\r\n&gt; f    |      2 change sets check sum     |      \r\n&gt; classpath:config/liquibase/changelog/20160616145216_create_merchant.xml::1466077959485-1::\r\n&gt; (generated) is now: 7:5fb40924426396399804bb2cb7f74852     \r\n&gt; |          \r\n&gt; classpath:config/liquibase/changelog/20160720101800_load_data.xml::0000000000001-2::\r\n&gt; (generated) is now: 7:aa0084f69ca5301ef48cfb97beb41582    \r\n&gt; |   | \tat\r\n&gt; liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:215)\r\n&gt;   | \tat liquibase.Liquibase.update(Liquibase.java:208)\r\n&gt;    | \tat liquibase.Liquibase.update(Liquibase.java:192)\r\n&gt;     | \tat\r\n&gt; liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:434)\r\n&gt;    | \tat\r\n&gt; liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:391)\r\n&gt;     | \tat\r\n&gt; net.infoowl.fraud.config.liquibase.AsyncSpringLiquibase.initDb(AsyncSpringLiquibase.java:63)\r\n&gt; 1     | \tat\r\n&gt; net.infoowl.fraud.config.liquibase.AsyncSpringLiquibase.lambda$afterPropertiesSet$0(AsyncSpringLiquibase.java:49)\r\n&gt;      | \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n&gt;   | \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n&gt;   | \tat java.lang.Thread.run(Thread.java:745)\r\n\r\n\r\nalso\r\n\r\n&gt; rror: Unknown name value [0] for enum class\r\n&gt; [net.infoowl.fraud.domain.util.MerchantStatus]; nested exception is\r\n&gt; java.lang.IllegalArgumentException: Unknown name value [0] for enum\r\n&gt; class [net.infoowl.fraud.domain.util.MerchantStatus]\r\n\r\n\r\n\r\nfurthermore\r\n\r\nalso when i do diff after this \r\n\r\n&lt;\r\n\r\n    modifyDataType\r\n                            columnName=&quot;status&quot;\r\n                            newDataType=&quot;varchar(255)&quot;\r\n                            tableName=&quot;merchant&quot;/&gt;\r\n\r\nit still doesnot convert to varchar","title":"Liquibase liquibase.exception.ValidationFailedException: Validation Failed:","body":"<p>I tried to modify int column to varchar but it gives a lot of errors starting with this.</p>\n\n<pre><code>    @NotNull\n    @Column(nullable = false)\n    @Enumerated(value = EnumType.STRING)\n    private MerchantStatus status;\n\n   public MerchantStatus getStatus() {\n        return status;\n    }\n\n    public Merchant setStatus(MerchantStatus status) {\n        this.status = status;\n        return this;\n    }\n</code></pre>\n\n<p>this is the column in domain. it is enum.</p>\n\n<p>this is enum</p>\n\n<pre><code>public enum MerchantStatus {\n    ACTIVE(\"merchant.status.active\"),\n    PASSIVE(\"merchant.status.passive\");\n\n    private String key;\n\n    MerchantStatus(String key) {\n        this.key = key;\n    }\n\n    public String getKey() {\n        return key;\n    }\n}\n</code></pre>\n\n<p>this is liquibase confg</p>\n\n<pre><code>&lt;column name=\"status\" type=\"INT\"/&gt;\n</code></pre>\n\n<p>i tried to change here. or i added this inside 20160616145216</p>\n\n<pre><code>&lt;modifyDataType\n                        columnName=\"status\"\n                        newDataType=\"varchar(255)\"\n                        tableName=\"merchant\"/&gt;\n</code></pre>\n\n<p>but it did not work.</p>\n\n<blockquote>\n  <p>2 change sets check sum    |<br>\n  classpath:config/liquibase/changelog/20160616145216_create_merchant.xml::1466077959485-1::\n  (generated) is now: 7:5fb40924426396399804bb2cb7f74852<br>\n  |<br>\n  classpath:config/liquibase/changelog/20160720101800_load_data.xml::0000000000001-2::\n  (generated) is now: 7:aa0084f69ca5301ef48cfb97beb41582<br>\n  |       |      |\n  liquibase.exception.ValidationFailedException: Validation Failed:\n  f    |      2 change sets check sum     |<br>\n  classpath:config/liquibase/changelog/20160616145216_create_merchant.xml::1466077959485-1::\n  (generated) is now: 7:5fb40924426396399804bb2cb7f74852<br>\n  |<br>\n  classpath:config/liquibase/changelog/20160720101800_load_data.xml::0000000000001-2::\n  (generated) is now: 7:aa0084f69ca5301ef48cfb97beb41582<br>\n  |   |     at\n  liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:215)\n    |   at liquibase.Liquibase.update(Liquibase.java:208)\n     |  at liquibase.Liquibase.update(Liquibase.java:192)\n      |     at\n  liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:434)\n     |  at\n  liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:391)\n      |     at\n  net.infoowl.fraud.config.liquibase.AsyncSpringLiquibase.initDb(AsyncSpringLiquibase.java:63)\n  1     |   at\n  net.infoowl.fraud.config.liquibase.AsyncSpringLiquibase.lambda$afterPropertiesSet$0(AsyncSpringLiquibase.java:49)\n       |    at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    |   at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    |   at java.lang.Thread.run(Thread.java:745)</p>\n</blockquote>\n\n<p>also</p>\n\n<blockquote>\n  <p>rror: Unknown name value [0] for enum class\n  [net.infoowl.fraud.domain.util.MerchantStatus]; nested exception is\n  java.lang.IllegalArgumentException: Unknown name value [0] for enum\n  class [net.infoowl.fraud.domain.util.MerchantStatus]</p>\n</blockquote>\n\n<p>furthermore</p>\n\n<p>also when i do diff after this </p>\n\n<p>&lt;</p>\n\n<pre><code>modifyDataType\n                        columnName=\"status\"\n                        newDataType=\"varchar(255)\"\n                        tableName=\"merchant\"/&gt;\n</code></pre>\n\n<p>it still doesnot convert to varchar</p>\n"},{"tags":["java","minecraft","spigot"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":2,"creation_date":1680454428,"post_id":75912679,"comment_id":133897600,"body_markdown":"Welcome on StackOverflow ! Can you give your actual code and tell your spigot version ?","body":"Welcome on StackOverflow ! Can you give your actual code and tell your spigot version ?"}],"answers":[{"tags":[],"owner":{"account_id":26168353,"reputation":567,"user_id":19853802,"display_name":"zmehall"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682016143,"creation_date":1681400162,"answer_id":76007311,"question_id":75912679,"body_markdown":"I think you&#39;ll have to use nms for this.\r\n\r\nHere&#39;s [a thread](https://www.spigotmc.org/threads/adding-canplaceon-nbttag-via-plugin.247846/) from the spigot forum that talks about it. If you aren&#39;t too familiar with how the Minecraft code works, or aren&#39;t very experienced in java, it might be difficult to set up and use.","title":"Is there a way to add the &quot;CanPlaceOn&quot; NBT tag to an item in spigot?","body":"<p>I think you'll have to use nms for this.</p>\n<p>Here's <a href=\"https://www.spigotmc.org/threads/adding-canplaceon-nbttag-via-plugin.247846/\" rel=\"nofollow noreferrer\">a thread</a> from the spigot forum that talks about it. If you aren't too familiar with how the Minecraft code works, or aren't very experienced in java, it might be difficult to set up and use.</p>\n"}],"owner":{"account_id":28195049,"reputation":1,"user_id":21549835,"display_name":"Lukas Schwienbacher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682016143,"creation_date":1680446303,"question_id":75912679,"body_markdown":"I try to make an item that can be placed in adventure mode in spigot, I know its possible with commands by adding the {CanPlaceOn} NBT tag to the item, but couldn&#39;t find a way in spigot\r\n\r\nI sadly couldn&#39;t really try anything so far since i didnt find anything about it online.","title":"Is there a way to add the &quot;CanPlaceOn&quot; NBT tag to an item in spigot?","body":"<p>I try to make an item that can be placed in adventure mode in spigot, I know its possible with commands by adding the {CanPlaceOn} NBT tag to the item, but couldn't find a way in spigot</p>\n<p>I sadly couldn't really try anything so far since i didnt find anything about it online.</p>\n"},{"tags":["java","http","spring-mvc","jwt"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682016236,"post_id":76067271,"comment_id":134153556,"body_markdown":"in postman/curl: just by adding header with name `Authorization` and value `Bearer &lt;your_token&gt;` (where `Bearer` is literal, and `&lt;your_token&gt;` refers to the token value like [here](https://stackoverflow.com/q/22229996/592355)); in browser: you can do it with a plugin like [mod header](https://chrome.google.com/webstore/detail/modheader-modify-http-hea/idgpnmonknjnojddfkpgkljpfnnfcklj?hl=de)","body":"in postman/curl: just by adding header with name <code>Authorization</code> and value <code>Bearer &lt;your_token&gt;</code> (where <code>Bearer</code> is literal, and <code>&lt;your_token&gt;</code> refers to the token value like <a href=\"https://stackoverflow.com/q/22229996/592355\">here</a>); in browser: you can do it with a plugin like <a href=\"https://chrome.google.com/webstore/detail/modheader-modify-http-hea/idgpnmonknjnojddfkpgkljpfnnfcklj?hl=de\" rel=\"nofollow noreferrer\">mod header</a>"},{"owner":{"account_id":27772929,"reputation":35,"user_id":21202884,"display_name":"Kreuterkeule"},"score":0,"creation_date":1682017202,"post_id":76067271,"comment_id":134153741,"body_markdown":"Thanks, I knew that already, but can I automate that, so that when I get the response and I&#39;m logged in the header is set automatically?","body":"Thanks, I knew that already, but can I automate that, so that when I get the response and I&#39;m logged in the header is set automatically?"}],"owner":{"account_id":27772929,"reputation":35,"user_id":21202884,"display_name":"Kreuterkeule"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682015933,"creation_date":1682015933,"question_id":76067271,"body_markdown":"I&#39;m trying the following:\r\n\r\nI have a Spring Boot Application with spring security and jwt setup, on response from login I now want to set the Bearer jwt token directly into the clients headers, how can I do this?","title":"How do I send authorization header directly to client in Spring Boot Controller?","body":"<p>I'm trying the following:</p>\n<p>I have a Spring Boot Application with spring security and jwt setup, on response from login I now want to set the Bearer jwt token directly into the clients headers, how can I do this?</p>\n"},{"tags":["java","multithreading","thread-safety","locking","synchronized"],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1436543144,"creation_date":1276623579,"answer_id":3047573,"question_id":3047564,"body_markdown":"The lock accessed is on the object, not on the method. Which variables are accessed within the method is irrelevant.\r\n\r\nAdding &quot;synchronized&quot; to the method means the thread running the code must acquire the lock on the object before proceeding. Adding &quot;static synchronized&quot; means the thread running the code must acquire the lock on the class object before proceeding. Alternatively you can wrap code in a block like this:\r\n\r\n    public void addA() {\r\n        synchronized(this) {\r\n            a++;\r\n        }\r\n    }\r\n\r\nso that you can specify the object whose lock must be acquired.\r\n\r\nIf you want to avoid locking on the containing object you can choose between:\r\n\r\n* [using synchronized blocks that specify different locks][1]\r\n* making a and b atomic (using java.util.concurrent.atomic)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/15438792/217324","title":"Java synchronized method lock on object, or method?","body":"<p>The lock accessed is on the object, not on the method. Which variables are accessed within the method is irrelevant.</p>\n\n<p>Adding \"synchronized\" to the method means the thread running the code must acquire the lock on the object before proceeding. Adding \"static synchronized\" means the thread running the code must acquire the lock on the class object before proceeding. Alternatively you can wrap code in a block like this:</p>\n\n<pre><code>public void addA() {\n    synchronized(this) {\n        a++;\n    }\n}\n</code></pre>\n\n<p>so that you can specify the object whose lock must be acquired.</p>\n\n<p>If you want to avoid locking on the containing object you can choose between:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/15438792/217324\">using synchronized blocks that specify different locks</a></li>\n<li>making a and b atomic (using java.util.concurrent.atomic)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":3,"up_vote_count":85,"is_accepted":false,"score":82,"last_activity_date":1474971483,"creation_date":1276623920,"answer_id":3047615,"question_id":3047564,"body_markdown":"Synchronized on the method declaration is syntactical sugar for this:\r\n\r\n     public void addA() {\r\n         synchronized (this) {\r\n              a++;\r\n         }\r\n      }\r\n\r\nOn a static method it is syntactical sugar for this:\r\n\r\n     ClassA {\r\n         public static void addA() {\r\n              synchronized(ClassA.class) {\r\n                  a++;\r\n              }\r\n     }\r\n\r\nI think if the Java designers knew then what is understood now about synchronization, they would not have added the syntactical sugar, as it more often than not leads to bad implementations of concurrency.","title":"Java synchronized method lock on object, or method?","body":"<p>Synchronized on the method declaration is syntactical sugar for this:</p>\n\n<pre><code> public void addA() {\n     synchronized (this) {\n          a++;\n     }\n  }\n</code></pre>\n\n<p>On a static method it is syntactical sugar for this:</p>\n\n<pre><code> ClassA {\n     public static void addA() {\n          synchronized(ClassA.class) {\n              a++;\n          }\n }\n</code></pre>\n\n<p>I think if the Java designers knew then what is understood now about synchronization, they would not have added the syntactical sugar, as it more often than not leads to bad implementations of concurrency.</p>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":10,"up_vote_count":241,"is_accepted":true,"score":231,"last_activity_date":1562583436,"creation_date":1276624113,"answer_id":3047638,"question_id":3047564,"body_markdown":"If you declare the method as *synchronized* (as you&#39;re doing by typing `public synchronized void addA()`) you synchronize on the **whole** object, so two thread accessing a different variable from this same object would block each other anyway. \r\n\r\nIf you want to synchronize only on one variable at a time, so two threads won&#39;t block each other while accessing different variables, you have synchronize on them separately in ` synchronized ()` blocks. If `a` and `b` were object references you would use:\r\n\r\n\r\n    public void addA() {\r\n        synchronized( a ) {\r\n            a++;\r\n        }\r\n    }\r\n\r\n    public void addB() {\r\n        synchronized( b ) {\r\n            b++;\r\n        }\r\n    }\r\n\r\nBut since they&#39;re primitives you can&#39;t do this.\r\n\r\nI would suggest you to use *AtomicInteger* instead:\r\n\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n\r\n    class X {\r\n\r\n        AtomicInteger a;\r\n        AtomicInteger b;\r\n\r\n        public void addA(){\r\n            a.incrementAndGet();\r\n        }\r\n\r\n        public void addB(){ \r\n            b.incrementAndGet();\r\n        }\r\n    }\r\n","title":"Java synchronized method lock on object, or method?","body":"<p>If you declare the method as <em>synchronized</em> (as you're doing by typing <code>public synchronized void addA()</code>) you synchronize on the <strong>whole</strong> object, so two thread accessing a different variable from this same object would block each other anyway. </p>\n\n<p>If you want to synchronize only on one variable at a time, so two threads won't block each other while accessing different variables, you have synchronize on them separately in <code>synchronized ()</code> blocks. If <code>a</code> and <code>b</code> were object references you would use:</p>\n\n<pre><code>public void addA() {\n    synchronized( a ) {\n        a++;\n    }\n}\n\npublic void addB() {\n    synchronized( b ) {\n        b++;\n    }\n}\n</code></pre>\n\n<p>But since they're primitives you can't do this.</p>\n\n<p>I would suggest you to use <em>AtomicInteger</em> instead:</p>\n\n<pre><code>import java.util.concurrent.atomic.AtomicInteger;\n\nclass X {\n\n    AtomicInteger a;\n    AtomicInteger b;\n\n    public void addA(){\n        a.incrementAndGet();\n    }\n\n    public void addB(){ \n        b.incrementAndGet();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":143625,"reputation":1978,"user_id":352088,"display_name":"dsmith"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1276625110,"creation_date":1276625110,"answer_id":3047774,"question_id":3047564,"body_markdown":"You can do something like the following.  In this case you are using the lock on a and b to synchronized instead of the lock on &quot;this&quot;.  We cannot use int because primitive values don&#39;t have locks, so we use Integer.\r\n\r\n\r\n    class x{\r\n       private Integer a;\r\n       private Integer b;\r\n       public void addA(){\r\n          synchronized(a) {\r\n             a++;\r\n          }\r\n       }\r\n       public synchronized void addB(){\r\n          synchronized(b) {\r\n             b++;\r\n          }\r\n       }\r\n    }\r\n","title":"Java synchronized method lock on object, or method?","body":"<p>You can do something like the following.  In this case you are using the lock on a and b to synchronized instead of the lock on \"this\".  We cannot use int because primitive values don't have locks, so we use Integer.</p>\n\n<pre><code>class x{\n   private Integer a;\n   private Integer b;\n   public void addA(){\n      synchronized(a) {\n         a++;\n      }\n   }\n   public synchronized void addB(){\n      synchronized(b) {\n         b++;\n      }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4482535,"reputation":464,"user_id":5161634,"accept_rate":0,"display_name":"Sriharsha g.r.v"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438206595,"creation_date":1438205772,"answer_id":31711597,"question_id":3047564,"body_markdown":"This might not work as the boxing and autoboxing from Integer to int and viceversa is dependant on JVM and there is high possibility that two different numbers might get hashed to same address if they are between -128 and 127. ","title":"Java synchronized method lock on object, or method?","body":"<p>This might not work as the boxing and autoboxing from Integer to int and viceversa is dependant on JVM and there is high possibility that two different numbers might get hashed to same address if they are between -128 and 127. </p>\n"},{"tags":[],"owner":{"account_id":6699622,"reputation":1259,"user_id":5166587,"display_name":"Goyal Vicky"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1438945776,"creation_date":1438945055,"answer_id":31876054,"question_id":3047564,"body_markdown":"If you have some methods which are not synchronized and are accessing and changing the instance variables. In your example:\r\n\r\n     private int a;\r\n     private int b;\r\n\r\nany number of threads can access these non synchronized methods at the same time when other thread is in the synchronized method of the same object and can make changes to instance variables.\r\nFor e.g :-\r\n\r\n     public void changeState() {\r\n          a++;\r\n          b++;\r\n        }\r\n\r\nYou need to avoid the scenario that non synchronized methods are accessing the instance variables and changing it otherwise there is no point of using synchronized methods.\r\n\r\nIn the below scenario:-\r\n\r\n \r\n\r\n      \r\n    \r\n    class X {\r\n        \r\n            private int a;\r\n            private int b;\r\n        \r\n            public synchronized void addA(){\r\n                a++;\r\n            }\r\n        \r\n            public synchronized void addB(){\r\n                b++;\r\n            }\r\n         public void changeState() {\r\n              a++;\r\n              b++;\r\n            }\r\n        }\r\n\r\nOnly one of the threads can be either in addA or addB method but at the same time any number of threads can enter changeState method. No two threads can enter addA and addB at same time(because of Object level locking) but at same time any number of threads can enter changeState.\r\n\r\n","title":"Java synchronized method lock on object, or method?","body":"<p>If you have some methods which are not synchronized and are accessing and changing the instance variables. In your example:</p>\n\n<pre><code> private int a;\n private int b;\n</code></pre>\n\n<p>any number of threads can access these non synchronized methods at the same time when other thread is in the synchronized method of the same object and can make changes to instance variables.\nFor e.g :-</p>\n\n<pre><code> public void changeState() {\n      a++;\n      b++;\n    }\n</code></pre>\n\n<p>You need to avoid the scenario that non synchronized methods are accessing the instance variables and changing it otherwise there is no point of using synchronized methods.</p>\n\n<p>In the below scenario:-</p>\n\n<pre><code>class X {\n\n        private int a;\n        private int b;\n\n        public synchronized void addA(){\n            a++;\n        }\n\n        public synchronized void addB(){\n            b++;\n        }\n     public void changeState() {\n          a++;\n          b++;\n        }\n    }\n</code></pre>\n\n<p>Only one of the threads can be either in addA or addB method but at the same time any number of threads can enter changeState method. No two threads can enter addA and addB at same time(because of Object level locking) but at same time any number of threads can enter changeState.</p>\n"},{"tags":[],"owner":{"account_id":7848783,"reputation":652,"user_id":5932894,"display_name":"Aditya W"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1456049535,"creation_date":1456049535,"answer_id":35534814,"question_id":3047564,"body_markdown":"From oracle documentation [link][1]\n\nMaking methods synchronized has two effects:\n\n&gt; First, it is not possible for two invocations of synchronized methods on the same object to interleave. When one thread is executing a synchronized method for an object, all other threads that invoke synchronized methods for the same object block (suspend execution) until the first thread is done with the object.\n&gt;\n&gt;Second, when a synchronized method exits, it automatically establishes a happens-before relationship with any subsequent invocation of a synchronized method for the same object. This guarantees that changes to the state of the object are visible to all threads\n\nHave a look at this documentation [page][2] to understand intrinsic locks and lock behavior.\n\n***This will answer your question: On same object x , you can&#39;t call x.addA() and x.addB() at same time when one of the synchronized methods execution is in progress.***\n\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\n  [2]: https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html","title":"Java synchronized method lock on object, or method?","body":"<p>From oracle documentation <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\" rel=\"noreferrer\">link</a></p>\n<p>Making methods synchronized has two effects:</p>\n<blockquote>\n<p>First, it is not possible for two invocations of synchronized methods on the same object to interleave. When one thread is executing a synchronized method for an object, all other threads that invoke synchronized methods for the same object block (suspend execution) until the first thread is done with the object.</p>\n<p>Second, when a synchronized method exits, it automatically establishes a happens-before relationship with any subsequent invocation of a synchronized method for the same object. This guarantees that changes to the state of the object are visible to all threads</p>\n</blockquote>\n<p>Have a look at this documentation <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"noreferrer\">page</a> to understand intrinsic locks and lock behavior.</p>\n<p><em><strong>This will answer your question: On same object x , you can't call x.addA() and x.addB() at same time when one of the synchronized methods execution is in progress.</strong></em></p>\n"},{"tags":[],"owner":{"account_id":1185299,"reputation":7276,"user_id":1159404,"accept_rate":75,"display_name":"Nenad Bulatovi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1481302337,"creation_date":1481302337,"answer_id":41065225,"question_id":3047564,"body_markdown":"This example (although not pretty one) can provide more insight into locking mechanism. If *incrementA* is **synchronized**, and *incrementB* is **not synchronized**, then *incrementB* will be executed ASAP, but if *incrementB* is also **synchronized** then it has to &#39;wait&#39; for *incrementA* to finish, before *incrementB* can do its job. \r\n\r\nBoth methods are called onto single instance - object, in this example it is: *job*, and &#39;competing&#39; threads are *aThread* and *main*. \r\n\r\nTry with &#39;**synchronized**&#39; in *incrementB* and without it and you will see different results.If *incrementB* is &#39;**synchronized**&#39; as well then it has to wait for *incrementA*() to finish. Run several times each variant.\r\n\r\n    class LockTest implements Runnable {\r\n    \tint a = 0;\r\n    \tint b = 0;\r\n    \r\n    \tpublic synchronized void incrementA() {\r\n    \t\tfor (int i = 0; i &lt; 100; i++) {\r\n    \t\t\tthis.a++;\r\n    \t\t\tSystem.out.println(&quot;Thread: &quot; + Thread.currentThread().getName() + &quot;; a: &quot; + this.a);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t// Try with &#39;synchronized&#39; and without it and you will see different results\r\n    \t// if incrementB is &#39;synchronized&#39; as well then it has to wait for incrementA() to finish\r\n    \r\n    \t// public void incrementB() {\r\n    \tpublic synchronized void incrementB() {\r\n    \t\tthis.b++;\r\n    \t\tSystem.out.println(&quot;*************** incrementB ********************&quot;);\r\n    \t\tSystem.out.println(&quot;Thread: &quot; + Thread.currentThread().getName() + &quot;; b: &quot; + this.b);\r\n    \t\tSystem.out.println(&quot;*************** incrementB ********************&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tincrementA();\r\n    \t\tSystem.out.println(&quot;************ incrementA completed *************&quot;);\r\n    \t}\r\n    }\r\n    \r\n    class LockTestMain {\r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\tLockTest job = new LockTest();\r\n    \t\tThread aThread = new Thread(job);\r\n    \t\taThread.setName(&quot;aThread&quot;);\r\n    \t\taThread.start();\r\n    \t\tThread.sleep(1);\r\n    \t\tSystem.out.println(&quot;*************** &#39;main&#39; calling metod: incrementB **********************&quot;);\r\n    \t\tjob.incrementB();\r\n    \t}\r\n    }\r\n\r\n","title":"Java synchronized method lock on object, or method?","body":"<p>This example (although not pretty one) can provide more insight into locking mechanism. If <em>incrementA</em> is <strong>synchronized</strong>, and <em>incrementB</em> is <strong>not synchronized</strong>, then <em>incrementB</em> will be executed ASAP, but if <em>incrementB</em> is also <strong>synchronized</strong> then it has to 'wait' for <em>incrementA</em> to finish, before <em>incrementB</em> can do its job. </p>\n\n<p>Both methods are called onto single instance - object, in this example it is: <em>job</em>, and 'competing' threads are <em>aThread</em> and <em>main</em>. </p>\n\n<p>Try with '<strong>synchronized</strong>' in <em>incrementB</em> and without it and you will see different results.If <em>incrementB</em> is '<strong>synchronized</strong>' as well then it has to wait for <em>incrementA</em>() to finish. Run several times each variant.</p>\n\n<pre><code>class LockTest implements Runnable {\n    int a = 0;\n    int b = 0;\n\n    public synchronized void incrementA() {\n        for (int i = 0; i &lt; 100; i++) {\n            this.a++;\n            System.out.println(\"Thread: \" + Thread.currentThread().getName() + \"; a: \" + this.a);\n        }\n    }\n\n    // Try with 'synchronized' and without it and you will see different results\n    // if incrementB is 'synchronized' as well then it has to wait for incrementA() to finish\n\n    // public void incrementB() {\n    public synchronized void incrementB() {\n        this.b++;\n        System.out.println(\"*************** incrementB ********************\");\n        System.out.println(\"Thread: \" + Thread.currentThread().getName() + \"; b: \" + this.b);\n        System.out.println(\"*************** incrementB ********************\");\n    }\n\n    @Override\n    public void run() {\n        incrementA();\n        System.out.println(\"************ incrementA completed *************\");\n    }\n}\n\nclass LockTestMain {\n    public static void main(String[] args) throws InterruptedException {\n        LockTest job = new LockTest();\n        Thread aThread = new Thread(job);\n        aThread.setName(\"aThread\");\n        aThread.start();\n        Thread.sleep(1);\n        System.out.println(\"*************** 'main' calling metod: incrementB **********************\");\n        job.incrementB();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8121822,"reputation":431,"user_id":6118297,"display_name":"MehdiMAH"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1562583867,"creation_date":1483955213,"answer_id":41545057,"question_id":3047564,"body_markdown":"From &quot;The Java Tutorials&quot; on [*synchronized* methods][oracle-javase-essentials-syncmeth]:\r\n\r\n&gt; First, it is not possible for two invocations of synchronized methods _on the same object_ to interleave. When one thread is executing a synchronized method for an object, all other threads that invoke synchronized methods for the same object block (suspend execution) until the first thread is done with the object.\r\n\r\nFrom &quot;The Java Tutorials&quot; on [synchronized blocks][oracle-javase-essentials-locksync]:\r\n\r\n&gt; Synchronized statements are also useful for improving concurrency with fine-grained synchronization. Suppose, for example, class MsLunch has two instance fields, c1 and c2, that are never used together. All updates of these fields must be synchronized, _but there&#39;s no reason to prevent an update of c1 from being interleaved with an update of c2_  and doing so reduces concurrency by creating unnecessary blocking. _Instead of using synchronized methods or otherwise using the lock associated with this, we create two objects solely to provide locks._\r\n\r\n(Emphasis mine)\r\n\r\nSuppose you have 2 *non-interleaving* variables. So you want to access to each one from a different threads at the same time. You need to define the *lock* not on the object class itself, but on the class *Object* like below (example from the second Oracle link):\r\n\r\n    public class MsLunch {\r\n\r\n        private long c1 = 0;\r\n        private long c2 = 0;\r\n\r\n        private Object lock1 = new Object();\r\n        private Object lock2 = new Object();\r\n\r\n        public void inc1() {\r\n            synchronized(lock1) {\r\n                c1++;\r\n            }\r\n        }\r\n\r\n        public void inc2() {\r\n            synchronized(lock2) {\r\n                c2++;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n[oracle-javase-essentials-syncmeth]: https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\r\n[oracle-javase-essentials-locksync]: https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html","title":"Java synchronized method lock on object, or method?","body":"<p>From \"The Java Tutorials\" on <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\" rel=\"noreferrer\"><em>synchronized</em> methods</a>:</p>\n\n<blockquote>\n  <p>First, it is not possible for two invocations of synchronized methods <em>on the same object</em> to interleave. When one thread is executing a synchronized method for an object, all other threads that invoke synchronized methods for the same object block (suspend execution) until the first thread is done with the object.</p>\n</blockquote>\n\n<p>From \"The Java Tutorials\" on <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"noreferrer\">synchronized blocks</a>:</p>\n\n<blockquote>\n  <p>Synchronized statements are also useful for improving concurrency with fine-grained synchronization. Suppose, for example, class MsLunch has two instance fields, c1 and c2, that are never used together. All updates of these fields must be synchronized, <em>but there's no reason to prevent an update of c1 from being interleaved with an update of c2</em>  and doing so reduces concurrency by creating unnecessary blocking. <em>Instead of using synchronized methods or otherwise using the lock associated with this, we create two objects solely to provide locks.</em></p>\n</blockquote>\n\n<p>(Emphasis mine)</p>\n\n<p>Suppose you have 2 <em>non-interleaving</em> variables. So you want to access to each one from a different threads at the same time. You need to define the <em>lock</em> not on the object class itself, but on the class <em>Object</em> like below (example from the second Oracle link):</p>\n\n<pre><code>public class MsLunch {\n\n    private long c1 = 0;\n    private long c2 = 0;\n\n    private Object lock1 = new Object();\n    private Object lock2 = new Object();\n\n    public void inc1() {\n        synchronized(lock1) {\n            c1++;\n        }\n    }\n\n    public void inc2() {\n        synchronized(lock2) {\n            c2++;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9506182,"reputation":94,"user_id":8072535,"display_name":"Jose Velandia"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495837763,"creation_date":1495837763,"answer_id":44210955,"question_id":3047564,"body_markdown":"Yes, it will block the other method because synchronized method applies to the **WHOLE** class object as pointed .... but anyway it will block the other thread execution **ONLY** while performing the sum in whatever method addA or addB it enters, because when it finish ... the one thread will **FREE** the object and the other thread will access the other method and so on perfectly working.\r\n\r\nI mean the &quot;synchronized&quot; is made precisely for blocking the other thread from accessing another while in a specific code execution. SO FINALLY THIS CODE WILL WORK FINE.\r\n\r\nAs a final note, if there is an &#39;a&#39; and &#39;b&#39; variables, not just an unique variable &#39;a&#39; or whatever other name, there is no need to synchronize this methods cause it is perfectly safe accesing other var (Other memory location).\r\n\r\n\r\n\r\n    class X {\r\n\r\n    private int a;\r\n    private int b;\r\n\r\n    public void addA(){\r\n        a++;\r\n    }\r\n\r\n    public void addB(){\r\n        b++;\r\n    }}\r\n\r\nWill work as well","title":"Java synchronized method lock on object, or method?","body":"<p>Yes, it will block the other method because synchronized method applies to the <strong>WHOLE</strong> class object as pointed .... but anyway it will block the other thread execution <strong>ONLY</strong> while performing the sum in whatever method addA or addB it enters, because when it finish ... the one thread will <strong>FREE</strong> the object and the other thread will access the other method and so on perfectly working.</p>\n\n<p>I mean the \"synchronized\" is made precisely for blocking the other thread from accessing another while in a specific code execution. SO FINALLY THIS CODE WILL WORK FINE.</p>\n\n<p>As a final note, if there is an 'a' and 'b' variables, not just an unique variable 'a' or whatever other name, there is no need to synchronize this methods cause it is perfectly safe accesing other var (Other memory location).</p>\n\n<pre><code>class X {\n\nprivate int a;\nprivate int b;\n\npublic void addA(){\n    a++;\n}\n\npublic void addB(){\n    b++;\n}}\n</code></pre>\n\n<p>Will work as well</p>\n"},{"tags":[],"owner":{"account_id":15962756,"reputation":31,"user_id":11519316,"display_name":"Sreedhar Reddy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682015843,"creation_date":1558321370,"answer_id":56213831,"question_id":3047564,"body_markdown":"In Java synchronization,if a thread want to enter into `synchronized` method/block, it will acquire the lock on: \r\n - all synchronized **non-static** methods of **this object**  \r\n   not just on one synchronized method  that thread is using\r\n - all synchronized **static** methods of **this class** as well \r\n\r\n\r\nSo the thread which will call the synchronized method `addA()` for example, will acquire a lock on `addA()` and `addB()` as both are synchronized.  \r\nSo the other threads with same object cannot execute `addB()`.","title":"Java synchronized method lock on object, or method?","body":"<p>In Java synchronization,if a thread want to enter into <code>synchronized</code> method/block, it will acquire the lock on:</p>\n<ul>\n<li>all synchronized <strong>non-static</strong> methods of <strong>this object</strong><br />\nnot just on one synchronized method  that thread is using</li>\n<li>all synchronized <strong>static</strong> methods of <strong>this class</strong> as well</li>\n</ul>\n<p>So the thread which will call the synchronized method <code>addA()</code> for example, will acquire a lock on <code>addA()</code> and <code>addB()</code> as both are synchronized.<br />\nSo the other threads with same object cannot execute <code>addB()</code>.</p>\n"}],"owner":{"account_id":109922,"reputation":12250,"user_id":291059,"accept_rate":39,"display_name":"wuntee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227775,"favorite_count":0,"down_vote_count":1,"up_vote_count":231,"accepted_answer_id":3047638,"answer_count":11,"score":230,"last_activity_date":1682015843,"creation_date":1276623488,"question_id":3047564,"body_markdown":"If I have 2 synchronized methods in the same class, but each accessing different variables, can 2 threads access those 2 methods at the same time? Does the lock occur on the object, or does it get as specific as the variables inside the synchronized method? \r\n\r\nExample:\r\n\r\n    class X {\r\n\r\n        private int a;\r\n        private int b;\r\n\r\n        public synchronized void addA(){\r\n            a++;\r\n        }\r\n\r\n        public synchronized void addB(){\r\n            b++;\r\n        }\r\n\r\n    }\r\n\r\nCan 2 threads access the same instance of class X performing `x.addA(`) and `x.addB()` at the same time?","title":"Java synchronized method lock on object, or method?","body":"<p>If I have 2 synchronized methods in the same class, but each accessing different variables, can 2 threads access those 2 methods at the same time? Does the lock occur on the object, or does it get as specific as the variables inside the synchronized method? </p>\n\n<p>Example:</p>\n\n<pre><code>class X {\n\n    private int a;\n    private int b;\n\n    public synchronized void addA(){\n        a++;\n    }\n\n    public synchronized void addB(){\n        b++;\n    }\n\n}\n</code></pre>\n\n<p>Can 2 threads access the same instance of class X performing <code>x.addA(</code>) and <code>x.addB()</code> at the same time?</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682015208,"creation_date":1682015208,"answer_id":76067203,"question_id":76066905,"body_markdown":"You&#39;ve set up one `RecyclerView` and returned a different one:\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n            // ## Creating binding object on which set up is done ##\r\n            HomeFragmentBinding binding = HomeFragmentBinding.inflate(inflater);\r\n    \r\n            tabLayout = binding.tabLayout;\r\n            rvProducts = binding.rvProducts;\r\n    \r\n            setupRecyclerView();\r\n    \r\n            viewModel.getAllProducts();\r\n    \r\n            viewModel.products.observe(getViewLifecycleOwner(), products -&gt; {\r\n                Log.d(&quot;HSV&quot;, products.toString());\r\n                productsAdapter.submitList(products);\r\n            });\r\n    \r\n            // ## Creating new binding object View on which no set up is done #\r\n            return HomeFragmentBinding.inflate(inflater).getRoot();\r\n        }\r\n\r\nReplace\r\n\r\n    return HomeFragmentBinding.inflate(inflater).getRoot();\r\n\r\nWith\r\n\r\n    return binding.getRoot();","title":"My RecyclerView is not populated by submitList","body":"<p>You've set up one <code>RecyclerView</code> and returned a different one:</p>\n<pre><code>public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        // ## Creating binding object on which set up is done ##\n        HomeFragmentBinding binding = HomeFragmentBinding.inflate(inflater);\n\n        tabLayout = binding.tabLayout;\n        rvProducts = binding.rvProducts;\n\n        setupRecyclerView();\n\n        viewModel.getAllProducts();\n\n        viewModel.products.observe(getViewLifecycleOwner(), products -&gt; {\n            Log.d(&quot;HSV&quot;, products.toString());\n            productsAdapter.submitList(products);\n        });\n\n        // ## Creating new binding object View on which no set up is done #\n        return HomeFragmentBinding.inflate(inflater).getRoot();\n    }\n</code></pre>\n<p>Replace</p>\n<pre><code>return HomeFragmentBinding.inflate(inflater).getRoot();\n</code></pre>\n<p>With</p>\n<pre><code>return binding.getRoot();\n</code></pre>\n"}],"owner":{"account_id":20611366,"reputation":1,"user_id":15130489,"display_name":"Helvio Siqueira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682015208,"creation_date":1682012667,"question_id":76066905,"body_markdown":"I&#39;m currently working on a fragment that contains a recyclerView, and I&#39;m attempting to populate it with data obtained from an API. However, I&#39;ve run into some issues as the recyclerView doesn&#39;t seem to display any data even though I&#39;ve verified that the results aren&#39;t null.\r\n\r\nThe Fragment:\r\n\r\n\r\n```\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        HomeFragmentBinding binding = HomeFragmentBinding.inflate(inflater);\r\n\r\n        tabLayout = binding.tabLayout;\r\n        rvProducts = binding.rvProducts;\r\n\r\n        setupRecyclerView();\r\n\r\n        viewModel.getAllProducts();\r\n\r\n        viewModel.products.observe(getViewLifecycleOwner(), products -&gt; {\r\n            Log.d(&quot;HSV&quot;, products.toString());\r\n            productsAdapter.submitList(products);\r\n        });\r\n\r\n        return HomeFragmentBinding.inflate(inflater).getRoot();\r\n    }\r\n\r\n    private void setupRecyclerView() {\r\n        productsAdapter = new ProductsAdapter();\r\n        rvProducts.setAdapter(productsAdapter);\r\n        rvProducts.setLayoutManager(new GridLayoutManager(requireContext(), 2));\r\n    }\r\n```\r\n\r\nThe ListAdapter:\r\n\r\n\r\n```\r\npublic class ProductsAdapter extends ListAdapter&lt;Product, ProductsAdapter.ProductsViewHolder&gt; {\r\n\r\n    public ProductsAdapter() {\r\n        super(DIFF_CALLBACK);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ProductsViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_product, parent, false);\r\n\r\n        return new ProductsViewHolder(itemView);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ProductsViewHolder holder, int position) {\r\n        Product item = getItem(position);\r\n        holder.bind(item);\r\n    }\r\n\r\n    static class ProductsViewHolder extends RecyclerView.ViewHolder {\r\n        private final ItemProductBinding binding;\r\n\r\n        public ProductsViewHolder(View itemView) {\r\n            super(itemView);\r\n\r\n            binding = ItemProductBinding.bind(itemView);\r\n        }\r\n\r\n        void bind(Product itemProduct) {\r\n\r\n            binding.txtNameProduct.setText(itemProduct.getTitle());\r\n            binding.txtTypeProduct.setText(itemProduct.getCategory());\r\n            binding.txtPriceProduct.setText(itemProduct.getPrice());\r\n        }\r\n    }\r\n\r\n    public static final DiffUtil.ItemCallback&lt;Product&gt; DIFF_CALLBACK  = new DiffUtil.ItemCallback&lt;Product&gt;() {\r\n        @Override\r\n        public boolean areItemsTheSame(@NonNull Product oldItem, @NonNull Product newItem) {\r\n            return oldItem.getId() == newItem.getId();\r\n        }\r\n\r\n        @Override\r\n        public boolean areContentsTheSame(@NonNull Product oldItem, @NonNull Product newItem) {\r\n            return oldItem.equals(newItem);\r\n        }\r\n    };\r\n}\r\n```\r\n\r\n\r\n\r\nI have previous experience in developing Android apps using Kotlin, and I&#39;m currently learning Java as well. My assumption was that populating a RecyclerView would be accomplished in a similar manner.","title":"My RecyclerView is not populated by submitList","body":"<p>I'm currently working on a fragment that contains a recyclerView, and I'm attempting to populate it with data obtained from an API. However, I've run into some issues as the recyclerView doesn't seem to display any data even though I've verified that the results aren't null.</p>\n<p>The Fragment:</p>\n<pre><code>    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        HomeFragmentBinding binding = HomeFragmentBinding.inflate(inflater);\n\n        tabLayout = binding.tabLayout;\n        rvProducts = binding.rvProducts;\n\n        setupRecyclerView();\n\n        viewModel.getAllProducts();\n\n        viewModel.products.observe(getViewLifecycleOwner(), products -&gt; {\n            Log.d(&quot;HSV&quot;, products.toString());\n            productsAdapter.submitList(products);\n        });\n\n        return HomeFragmentBinding.inflate(inflater).getRoot();\n    }\n\n    private void setupRecyclerView() {\n        productsAdapter = new ProductsAdapter();\n        rvProducts.setAdapter(productsAdapter);\n        rvProducts.setLayoutManager(new GridLayoutManager(requireContext(), 2));\n    }\n</code></pre>\n<p>The ListAdapter:</p>\n<pre><code>public class ProductsAdapter extends ListAdapter&lt;Product, ProductsAdapter.ProductsViewHolder&gt; {\n\n    public ProductsAdapter() {\n        super(DIFF_CALLBACK);\n    }\n\n    @NonNull\n    @Override\n    public ProductsViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_product, parent, false);\n\n        return new ProductsViewHolder(itemView);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ProductsViewHolder holder, int position) {\n        Product item = getItem(position);\n        holder.bind(item);\n    }\n\n    static class ProductsViewHolder extends RecyclerView.ViewHolder {\n        private final ItemProductBinding binding;\n\n        public ProductsViewHolder(View itemView) {\n            super(itemView);\n\n            binding = ItemProductBinding.bind(itemView);\n        }\n\n        void bind(Product itemProduct) {\n\n            binding.txtNameProduct.setText(itemProduct.getTitle());\n            binding.txtTypeProduct.setText(itemProduct.getCategory());\n            binding.txtPriceProduct.setText(itemProduct.getPrice());\n        }\n    }\n\n    public static final DiffUtil.ItemCallback&lt;Product&gt; DIFF_CALLBACK  = new DiffUtil.ItemCallback&lt;Product&gt;() {\n        @Override\n        public boolean areItemsTheSame(@NonNull Product oldItem, @NonNull Product newItem) {\n            return oldItem.getId() == newItem.getId();\n        }\n\n        @Override\n        public boolean areContentsTheSame(@NonNull Product oldItem, @NonNull Product newItem) {\n            return oldItem.equals(newItem);\n        }\n    };\n}\n</code></pre>\n<p>I have previous experience in developing Android apps using Kotlin, and I'm currently learning Java as well. My assumption was that populating a RecyclerView would be accomplished in a similar manner.</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1682010655,"post_id":76066635,"comment_id":134152398,"body_markdown":"Edit question to add exact error and the stacktrace.","body":"Edit question to add exact error and the stacktrace."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1682010831,"post_id":76066635,"comment_id":134152434,"body_markdown":"If you have context path set to demo then remove demo from the controller request mapping path.","body":"If you have context path set to demo then remove demo from the controller request mapping path."},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":1,"creation_date":1682010871,"post_id":76066635,"comment_id":134152441,"body_markdown":"Remove `/demo` from `@RequestMapping(&quot;/demo/api/v1&quot;)`","body":"Remove <code>&#47;demo</code> from <code>@RequestMapping(&quot;&#47;demo&#47;api&#47;v1&quot;)</code>"},{"owner":{"account_id":22674611,"reputation":13,"user_id":16845879,"display_name":"Jake Z"},"score":0,"creation_date":1682013508,"post_id":76066635,"comment_id":134153024,"body_markdown":"I have removed `/demo&#39; still no luck.","body":"I have removed `/demo&#39; still no luck."},{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":0,"creation_date":1682013984,"post_id":76066635,"comment_id":134153105,"body_markdown":"can you provide error message or stacktrace please?","body":"can you provide error message or stacktrace please?"},{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":0,"creation_date":1682014063,"post_id":76066635,"comment_id":134153116,"body_markdown":"also how/where did you set context path as &#39;/demo&#39;. More information please.","body":"also how/where did you set context path as &#39;/demo&#39;. More information please."},{"owner":{"account_id":22674611,"reputation":13,"user_id":16845879,"display_name":"Jake Z"},"score":0,"creation_date":1682014700,"post_id":76066635,"comment_id":134153233,"body_markdown":"Thank you for your replies!\nI use Smart Tomcat plugin, in run configuration set context path.","body":"Thank you for your replies! I use Smart Tomcat plugin, in run configuration set context path."},{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":0,"creation_date":1682015219,"post_id":76066635,"comment_id":134153350,"body_markdown":"be sure to set context path : &quot;server.servlet.context-path=/demo&quot; in the application.properties file","body":"be sure to set context path : &quot;server.servlet.context-path=/demo&quot; in the application.properties file"},{"owner":{"account_id":20716510,"reputation":219,"user_id":15211804,"display_name":"Trevor Kropp"},"score":0,"creation_date":1682017394,"post_id":76066635,"comment_id":134153778,"body_markdown":"Did you remember to build the project before running it?","body":"Did you remember to build the project before running it?"},{"owner":{"account_id":22674611,"reputation":13,"user_id":16845879,"display_name":"Jake Z"},"score":0,"creation_date":1682027556,"post_id":76066635,"comment_id":134155600,"body_markdown":"Never mind I switched to other IDE works fine. Something weird going on I dont know.","body":"Never mind I switched to other IDE works fine. Something weird going on I dont know."}],"answers":[{"tags":[],"owner":{"account_id":20716510,"reputation":219,"user_id":15211804,"display_name":"Trevor Kropp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682010869,"creation_date":1682010869,"answer_id":76066692,"question_id":76066635,"body_markdown":"If the context path is &quot;/demo&quot; and the path to the controller method is &quot;/demo/api/v1/employees&quot;, then the URL you need to use is the following:\r\n```\r\nlocalhost:8080/demo/demo/api/v1/employees\r\n```\r\n","title":"Spring- whitelable error page: This application has no explicit mapping for /error, so you are seeing this as a fallback","body":"<p>If the context path is &quot;/demo&quot; and the path to the controller method is &quot;/demo/api/v1/employees&quot;, then the URL you need to use is the following:</p>\n<pre><code>localhost:8080/demo/demo/api/v1/employees\n</code></pre>\n"}],"owner":{"account_id":22674611,"reputation":13,"user_id":16845879,"display_name":"Jake Z"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682014753,"creation_date":1682010329,"question_id":76066635,"body_markdown":"I&#39;m learning a Spring Boot project online, but even though I followed everything in the video, my code doesn&#39;t work as expected. I keep getting a whitelabel page.\r\nHere is my code below:\r\n\r\nController I have removed demo sorry for the confusion.\r\n\r\n```\r\n @RestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\npublic class EmployeeController {\r\n    @Autowired\r\n    private EmployeeRepository employeeRepository;\r\n@GetMapping(&quot;/employees&quot;)\r\n    public List&lt;Employee&gt; getAllEmployees() {\r\n    //System.out.println(employeeRepository.findAll());\r\n        return employeeRepository.findAll();\r\n    }\r\n}\r\n```\r\n\r\napplication\r\n\r\n```\r\nimport com.example.springboot.model.Employee;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\r\n\r\n}\r\n\r\n```\r\n\r\napplication properties\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/employee_management_system\r\nspring.datasource.username=root\r\nspring.datasource.password=\r\n\r\n\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.defer-datasource-initialization=true\r\n\r\n```\r\n\r\npom\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springboot-backend&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;springboot-backend&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nHere is message in the console:\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.5)\r\n\r\n2023-04-20T14:04:02.315-04:00  INFO 15092 --- [           main] c.e.s.ServletInitializer                 : Starting ServletInitializer using Java 17.0.2 with PID 15092 (F:\\Javaproject-playground\\springboot-backend\\target\\classes started by billz in C:\\Users\\billz\\.SmartTomcat\\springboot-backend\\springboot-backend)\r\n2023-04-20T14:04:02.319-04:00  INFO 15092 --- [           main] c.e.s.ServletInitializer                 : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-04-20T14:04:02.439-04:00  INFO 15092 --- [           main] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2023-04-20T14:04:03.450-04:00  INFO 15092 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-04-20T14:04:03.494-04:00  INFO 15092 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 0 JPA repository interfaces.\r\n2023-04-20T14:04:03.959-04:00  INFO 15092 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1516 ms\r\n2023-04-20T14:04:04.372-04:00  INFO 15092 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-04-20T14:04:04.519-04:00  INFO 15092 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n2023-04-20T14:04:05.245-04:00  INFO 15092 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-04-20T14:04:05.806-04:00  INFO 15092 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@563a32a2\r\n2023-04-20T14:04:05.809-04:00  INFO 15092 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-04-20T14:04:05.898-04:00  INFO 15092 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\n2023-04-20T14:04:07.519-04:00  INFO 15092 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-04-20T14:04:07.540-04:00  INFO 15092 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-04-20T14:04:07.658-04:00  WARN 15092 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-04-20T14:04:08.289-04:00  INFO 15092 --- [           main] c.e.s.ServletInitializer                 : Started ServletInitializer in 6.725 seconds (process running for 11.033)\r\n20-Apr-2023 14:04:08.342  [main] org.apache.catalina.startup.HostConfig.deployDescriptor[C:\\Users\\billz\\.SmartTomcat\\springboot-backend\\springboot-backend\\conf\\Catalina\\localhost\\demo.xml][10,348]ms\r\n20-Apr-2023 14:04:08.344  [main] org.apache.coyote.AbstractProtocol.start [&quot;http-nio-8080&quot;]\r\n20-Apr-2023 14:04:08.362  [main] org.apache.catalina.startup.Catalina.start [10426]\r\nhttp://localhost:8080/demo\r\n2023-04-20T14:04:30.050-04:00  INFO 15092 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-04-20T14:04:30.051-04:00  INFO 15092 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n```\r\n\r\nIt was supposed to load all the employees on the website at localhost:8080/demo/api/v1/employees, but instead I got a whitelabel page.\r\nI don&#39;t know what I did wrong. Is it possible that I&#39;m using Tomcat through Intellij Community Edition, causing this problem? I set the context path as &#39;/demo&#39;.\r\nThank you so much for any help!\r\n","title":"Spring- whitelable error page: This application has no explicit mapping for /error, so you are seeing this as a fallback","body":"<p>I'm learning a Spring Boot project online, but even though I followed everything in the video, my code doesn't work as expected. I keep getting a whitelabel page.\nHere is my code below:</p>\n<p>Controller I have removed demo sorry for the confusion.</p>\n<pre><code> @RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class EmployeeController {\n    @Autowired\n    private EmployeeRepository employeeRepository;\n@GetMapping(&quot;/employees&quot;)\n    public List&lt;Employee&gt; getAllEmployees() {\n    //System.out.println(employeeRepository.findAll());\n        return employeeRepository.findAll();\n    }\n}\n</code></pre>\n<p>application</p>\n<pre><code>import com.example.springboot.model.Employee;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\n\n}\n\n</code></pre>\n<p>application properties</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/employee_management_system\nspring.datasource.username=root\nspring.datasource.password=\n\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.defer-datasource-initialization=true\n\n</code></pre>\n<p>pom</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;springboot-backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;springboot-backend&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;6.0.7&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here is message in the console:</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.5)\n\n2023-04-20T14:04:02.315-04:00  INFO 15092 --- [           main] c.e.s.ServletInitializer                 : Starting ServletInitializer using Java 17.0.2 with PID 15092 (F:\\Javaproject-playground\\springboot-backend\\target\\classes started by billz in C:\\Users\\billz\\.SmartTomcat\\springboot-backend\\springboot-backend)\n2023-04-20T14:04:02.319-04:00  INFO 15092 --- [           main] c.e.s.ServletInitializer                 : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-04-20T14:04:02.439-04:00  INFO 15092 --- [           main] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-04-20T14:04:03.450-04:00  INFO 15092 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-04-20T14:04:03.494-04:00  INFO 15092 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 0 JPA repository interfaces.\n2023-04-20T14:04:03.959-04:00  INFO 15092 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1516 ms\n2023-04-20T14:04:04.372-04:00  INFO 15092 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-04-20T14:04:04.519-04:00  INFO 15092 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-04-20T14:04:05.245-04:00  INFO 15092 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-04-20T14:04:05.806-04:00  INFO 15092 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@563a32a2\n2023-04-20T14:04:05.809-04:00  INFO 15092 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-04-20T14:04:05.898-04:00  INFO 15092 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\n2023-04-20T14:04:07.519-04:00  INFO 15092 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-04-20T14:04:07.540-04:00  INFO 15092 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-04-20T14:04:07.658-04:00  WARN 15092 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-04-20T14:04:08.289-04:00  INFO 15092 --- [           main] c.e.s.ServletInitializer                 : Started ServletInitializer in 6.725 seconds (process running for 11.033)\n20-Apr-2023 14:04:08.342  [main] org.apache.catalina.startup.HostConfig.deployDescriptor[C:\\Users\\billz\\.SmartTomcat\\springboot-backend\\springboot-backend\\conf\\Catalina\\localhost\\demo.xml][10,348]ms\n20-Apr-2023 14:04:08.344  [main] org.apache.coyote.AbstractProtocol.start [&quot;http-nio-8080&quot;]\n20-Apr-2023 14:04:08.362  [main] org.apache.catalina.startup.Catalina.start [10426]\nhttp://localhost:8080/demo\n2023-04-20T14:04:30.050-04:00  INFO 15092 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-04-20T14:04:30.051-04:00  INFO 15092 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n</code></pre>\n<p>It was supposed to load all the employees on the website at localhost:8080/demo/api/v1/employees, but instead I got a whitelabel page.\nI don't know what I did wrong. Is it possible that I'm using Tomcat through Intellij Community Edition, causing this problem? I set the context path as '/demo'.\nThank you so much for any help!</p>\n"},{"tags":["java","postgresql","hibernate","jpa","h2"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1681968866,"post_id":76060733,"comment_id":134142719,"body_markdown":"retrieve the value as datetime and convert in Java?  Or create a common function in H2","body":"retrieve the value as datetime and convert in Java?  Or create a common function in H2"},{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":4,"creation_date":1681976737,"post_id":76060733,"comment_id":134144008,"body_markdown":"I don&#39;t see a `date()` function in documentation of PostgreSQL, but it seems to work exactly like standard cast specification `CAST(timestampValue AS DATE)`, so it is reasonable to use the standard syntax instead of this vendor-specific function.","body":"I don&#39;t see a <code>date()</code> function in documentation of PostgreSQL, but it seems to work exactly like standard cast specification <code>CAST(timestampValue AS DATE)</code>, so it is reasonable to use the standard syntax instead of this vendor-specific function."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1681979930,"post_id":76060733,"comment_id":134144715,"body_markdown":"Can you use HQL as shown here? [How to convert datetime to date in JPQL?](https://stackoverflow.com/questions/59124239/how-to-convert-datetime-to-date-in-jpql)","body":"Can you use HQL as shown here? <a href=\"https://stackoverflow.com/questions/59124239/how-to-convert-datetime-to-date-in-jpql\">How to convert datetime to date in JPQL?</a>"},{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1682003607,"post_id":76060733,"comment_id":134150605,"body_markdown":"H2 [date_trunc](http://h2database.com/html/functions.html#date_trunc), Postgres [date_trunc](https://www.postgresql.org/docs/current/functions-datetime.html#FUNCTIONS-DATETIME-TRUNC).","body":"H2 <a href=\"http://h2database.com/html/functions.html#date_trunc\" rel=\"nofollow noreferrer\">date_trunc</a>, Postgres <a href=\"https://www.postgresql.org/docs/current/functions-datetime.html#FUNCTIONS-DATETIME-TRUNC\" rel=\"nofollow noreferrer\">date_trunc</a>."}],"answers":[{"tags":[],"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682014734,"creation_date":1682006838,"answer_id":76066178,"question_id":76060733,"body_markdown":"H2 and Postgres share the `date_trunc` function. \r\n\r\nAlso per the H2 docs [Trunc](http://h2database.com/html/functions.html#trunc):\r\n\r\n&gt;This function with datetime or string argument is deprecated, use DATE_TRUNC instead. When used with a timestamp, truncates the timestamp to a date (day) value and returns a timestamp with or without time zone depending on type of the argument. When used with a date, returns a timestamp at start of this date. When used with a timestamp as string, truncates the timestamp to a date (day) value and returns a timestamp without time zone.\r\n\r\nExample usage.\r\n\r\nH2\r\n```\r\nselect DATE_TRUNC(&#39;DAY&#39;, TIMESTAMP &#39;2023-04-20 09:04:00&#39;)\r\n2023-04-20 00:00:00\r\n```\r\n\r\nPostgres\r\n\r\n```\r\nselect DATE_TRUNC(&#39;DAY&#39;, TIMESTAMP &#39;2023-04-20 09:04:00&#39;);\r\n2023-04-20 00:00:00\r\n```\r\n\r\nOr if you really just want a date:\r\n\r\nH2\r\n\r\n```\r\nSELECT CAST(TIMESTAMP &#39;2023-04-20 09:04:00&#39; AS DATE)\r\n2023-04-20\r\n```\r\nPostgres\r\n```\r\nSELECT CAST(TIMESTAMP &#39;2023-04-20 09:04:00&#39; AS DATE);\r\n2023-04-20\r\n\r\n\r\n```\r\n\r\n","title":"How to truncate Time from a Timestamp in H2 and Postgresql with the same command?","body":"<p>H2 and Postgres share the <code>date_trunc</code> function.</p>\n<p>Also per the H2 docs <a href=\"http://h2database.com/html/functions.html#trunc\" rel=\"nofollow noreferrer\">Trunc</a>:</p>\n<blockquote>\n<p>This function with datetime or string argument is deprecated, use DATE_TRUNC instead. When used with a timestamp, truncates the timestamp to a date (day) value and returns a timestamp with or without time zone depending on type of the argument. When used with a date, returns a timestamp at start of this date. When used with a timestamp as string, truncates the timestamp to a date (day) value and returns a timestamp without time zone.</p>\n</blockquote>\n<p>Example usage.</p>\n<p>H2</p>\n<pre><code>select DATE_TRUNC('DAY', TIMESTAMP '2023-04-20 09:04:00')\n2023-04-20 00:00:00\n</code></pre>\n<p>Postgres</p>\n<pre><code>select DATE_TRUNC('DAY', TIMESTAMP '2023-04-20 09:04:00');\n2023-04-20 00:00:00\n</code></pre>\n<p>Or if you really just want a date:</p>\n<p>H2</p>\n<pre><code>SELECT CAST(TIMESTAMP '2023-04-20 09:04:00' AS DATE)\n2023-04-20\n</code></pre>\n<p>Postgres</p>\n<pre><code>SELECT CAST(TIMESTAMP '2023-04-20 09:04:00' AS DATE);\n2023-04-20\n\n\n</code></pre>\n"}],"owner":{"account_id":149726,"reputation":410,"user_id":362443,"accept_rate":60,"display_name":"JPS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76066178,"answer_count":1,"score":1,"last_activity_date":1682014734,"creation_date":1681967236,"question_id":76060733,"body_markdown":"We are using hibernate through jpa in java.\r\nApplications uses postgresql in prod and h2 in memory database for tests.\r\n\r\nIn some functionality we are basically using &quot;select date(timestampfield) from sometable&quot; to cut off the time part of the timestamp and only have the date.\r\n\r\nThe problem comes when this goes into testing, because h2 does not know &quot;date&quot; as a function. h2 does this with &quot;trunc&quot;. Bust postgres does not know &quot;trunc&quot;.\r\n\r\nEven switching h2 to postgres compatibility mode does not help.\r\n\r\nSo currently we have to change the code, so it checks whether we are testing and use this to switch between using &quot;date&quot; and &quot;trunc&quot;.\r\n\r\nI am hoping for a smarter way that does not require code changes to get this to work.\r\n\r\n(Can&#39;t move the cutting of the time from select into code, because the actual use of the function is in a where clause where the time has to be ignored in a comparison.)","title":"How to truncate Time from a Timestamp in H2 and Postgresql with the same command?","body":"<p>We are using hibernate through jpa in java.\nApplications uses postgresql in prod and h2 in memory database for tests.</p>\n<p>In some functionality we are basically using &quot;select date(timestampfield) from sometable&quot; to cut off the time part of the timestamp and only have the date.</p>\n<p>The problem comes when this goes into testing, because h2 does not know &quot;date&quot; as a function. h2 does this with &quot;trunc&quot;. Bust postgres does not know &quot;trunc&quot;.</p>\n<p>Even switching h2 to postgres compatibility mode does not help.</p>\n<p>So currently we have to change the code, so it checks whether we are testing and use this to switch between using &quot;date&quot; and &quot;trunc&quot;.</p>\n<p>I am hoping for a smarter way that does not require code changes to get this to work.</p>\n<p>(Can't move the cutting of the time from select into code, because the actual use of the function is in a where clause where the time has to be ignored in a comparison.)</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682014567,"creation_date":1682014567,"answer_id":76067118,"question_id":76066022,"body_markdown":"I don&#39;t know how can we solve it easily but there is a workaround. You can create a custom id generator class. Don&#39;t forget, before set ID you have to check last value of id in database.\r\n\r\nHere is example:\r\n\r\n\r\n\r\n    @Service\r\n    public class CustomIdGenerator {\r\n    \r\n        private static final String PREFIX = &quot;R&quot;;\r\n        private static AtomicInteger counter;\r\n    \r\n        private final YourRepository yourRepository;\r\n    \r\n        public CustomIdGenerator(YourRepository yourRepository) {\r\n            this.yourRepository = yourRepository;\r\n        }\r\n    \r\n        @PostConstruct\r\n        private void init() {\r\n            int lastId = getLastIdFromDatabase();\r\n            counter = new AtomicInteger(lastId);\r\n        }\r\n    \r\n        public String generateId() {\r\n            return PREFIX + counter.incrementAndGet();\r\n        }\r\n    \r\n        private int getLastIdFromDatabase() {\r\n            String lastId = yourRepository.findLastId();\r\n            if (lastId == null) {\r\n                return 2023000;\r\n            }\r\n            return Integer.parseInt(lastId.substring(PREFIX.length()));\r\n        }\r\n    }\r\n\r\n        @Repository\r\n        public interface YourRepository extends JpaRepository&lt;YourEntity,  String&gt; {\r\n            @Query(value = &quot;SELECT id FROM your_table ORDER BY id\r\n             DESC LIMIT 1&quot;, nativeQuery = true)\r\n            String findLastId();\r\n        }\r\n\r\n\r\nusage:\r\n\r\n     public void saveYourEntity(YourEntity entity) {\r\n            entity.setId(customIdGenerator.generateId());\r\n            yourRepository.save(entity);\r\n        }\r\n\r\n","title":"I want to generate custom ID in table like R2023001 in Spring Boot Java","body":"<p>I don't know how can we solve it easily but there is a workaround. You can create a custom id generator class. Don't forget, before set ID you have to check last value of id in database.</p>\n<p>Here is example:</p>\n<pre><code>@Service\npublic class CustomIdGenerator {\n\n    private static final String PREFIX = &quot;R&quot;;\n    private static AtomicInteger counter;\n\n    private final YourRepository yourRepository;\n\n    public CustomIdGenerator(YourRepository yourRepository) {\n        this.yourRepository = yourRepository;\n    }\n\n    @PostConstruct\n    private void init() {\n        int lastId = getLastIdFromDatabase();\n        counter = new AtomicInteger(lastId);\n    }\n\n    public String generateId() {\n        return PREFIX + counter.incrementAndGet();\n    }\n\n    private int getLastIdFromDatabase() {\n        String lastId = yourRepository.findLastId();\n        if (lastId == null) {\n            return 2023000;\n        }\n        return Integer.parseInt(lastId.substring(PREFIX.length()));\n    }\n}\n\n    @Repository\n    public interface YourRepository extends JpaRepository&lt;YourEntity,  String&gt; {\n        @Query(value = &quot;SELECT id FROM your_table ORDER BY id\n         DESC LIMIT 1&quot;, nativeQuery = true)\n        String findLastId();\n    }\n</code></pre>\n<p>usage:</p>\n<pre><code> public void saveYourEntity(YourEntity entity) {\n        entity.setId(customIdGenerator.generateId());\n        yourRepository.save(entity);\n    }\n</code></pre>\n"}],"owner":{"account_id":28238466,"reputation":33,"user_id":21586591,"display_name":"Raja Mali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1682014567,"creation_date":1682005846,"question_id":76066022,"body_markdown":"But my Question is that the id is generated to api or in database directly.\r\n\r\nwhat is the better option, please share your answers and suggestions \r\n\r\nMy database is MySQL or MS SQL Server \r\n\r\nThanks in advance.\r\n\r\nGenerate custom Id and not interrupt at runtime when there is traffic on my app.","title":"I want to generate custom ID in table like R2023001 in Spring Boot Java","body":"<p>But my Question is that the id is generated to api or in database directly.</p>\n<p>what is the better option, please share your answers and suggestions</p>\n<p>My database is MySQL or MS SQL Server</p>\n<p>Thanks in advance.</p>\n<p>Generate custom Id and not interrupt at runtime when there is traffic on my app.</p>\n"},{"tags":["java","spring","oracle","spring-data-jpa"],"comments":[{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":1,"creation_date":1681941717,"post_id":76059026,"comment_id":134139945,"body_markdown":"Does this answer your question? [Oracle: If Table Exists](https://stackoverflow.com/questions/1799128/oracle-if-table-exists)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1799128/oracle-if-table-exists\">Oracle: If Table Exists</a>"},{"owner":{"account_id":15563381,"reputation":1306,"user_id":11227919,"display_name":"Himanshu Kandpal"},"score":0,"creation_date":1681948672,"post_id":76059026,"comment_id":134140727,"body_markdown":"If you are using Oracle 23c: then you can use If Table Exists clause &quot;drop   table IF  EXIST PHONEBOOK; &quot; , or else you can check if the table is present in ALL_TABLES and then Drop it.","body":"If you are using Oracle 23c: then you can use If Table Exists clause &quot;drop   table IF  EXIST PHONEBOOK; &quot; , or else you can check if the table is present in ALL_TABLES and then Drop it."},{"owner":{"account_id":25207018,"reputation":63,"user_id":19045208,"display_name":"Tallen67"},"score":0,"creation_date":1681999647,"post_id":76059026,"comment_id":134149502,"body_markdown":"I tried the  `WHENEVER SQLERROR CONTINUE NONE DROP TABLE PHONEBOOK PURGE;` statement but it gives `ORA-00900: invalid SQL statement`","body":"I tried the  <code>WHENEVER SQLERROR CONTINUE NONE DROP TABLE PHONEBOOK PURGE;</code> statement but it gives <code>ORA-00900: invalid SQL statement</code>"},{"owner":{"account_id":25207018,"reputation":63,"user_id":19045208,"display_name":"Tallen67"},"score":0,"creation_date":1682014404,"post_id":76059026,"comment_id":134153181,"body_markdown":"Found the solution, I needed to add `sql.init.continue-on-error: true`","body":"Found the solution, I needed to add <code>sql.init.continue-on-error: true</code>"}],"answers":[{"tags":[],"owner":{"account_id":25207018,"reputation":63,"user_id":19045208,"display_name":"Tallen67"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682014472,"creation_date":1682014472,"answer_id":76067103,"question_id":76059026,"body_markdown":"  sql:\r\n    init:\r\n      mode: always\r\n      continue-on-error: true","title":"ORA-00942: table or view does not exist - Spring JPA","body":"<p>sql:\ninit:\nmode: always\ncontinue-on-error: true</p>\n"}],"owner":{"account_id":25207018,"reputation":63,"user_id":19045208,"display_name":"Tallen67"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682014472,"creation_date":1681940647,"question_id":76059026,"body_markdown":"I&#39;ve got a spring project with the following application.yaml:\r\n\r\n```\r\nspring:\r\n  application:\r\n    name: phonebook\r\n  sql:\r\n    init:\r\n      mode: always\r\n\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: none\r\n    properties:\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.Oracle12cDialect\r\n        format_sql: true\r\n      show-sql: true\r\n\r\n  # Datasource Configuration\r\n  datasource:\r\n    url: jdbc:oracle:thin:@//localhost:1521/freepdb1\r\n    username: username\r\n    password: topsecret\r\n    driver-class-name: oracle.jdbc.OracleDriver\r\n    type: oracle.ucp.jdbc.PoolDataSource\r\n    oracleucp:\r\n      connection-factory-class-name: oracle.jdbc.pool.OracleDataSource\r\n      sql-for-validate-connection: select * from dual\r\n      connection-pool-name: phoneBookConnectionPool\r\n      initial-pool-size: 15\r\n      min-pool-size: 10\r\n      max-pool-size: 30\r\n      fast-connection-failover-enabled: false\r\n```\r\nTo initialize the database I&#39;ve created a `schema.sql` file with the following content:\r\n```\r\nDROP TABLE PHONEBOOK PURGE;\r\n\r\nCREATE TABLE PHONEBOOK (\r\n    &quot;PHONEBOOK_ID&quot; NUMBER GENERATED ALWAYS AS IDENTITY ( START WITH 1 CACHE 20 ) NOT NULL ENABLE,\r\n    &quot;FIRST_NAME&quot;   VARCHAR2(40) NOT NULL,\r\n    &quot;LAST_NAME&quot;    VARCHAR2(40) NOT NULL,\r\n    &quot;PHONE_NUMBER&quot; VARCHAR2(12) NOT NULL,\r\n    &quot;CREATE_DATE&quot;  TIMESTAMP DEFAULT SYSDATE,\r\n    PRIMARY KEY (&quot;PHONEBOOK_ID&quot;)\r\n);\r\n```\r\nAnd a `data.sql` file with this content:\r\n```\r\nINSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES (&#39;James&#39;, &#39;Butt&#39;, &#39;504-621-8927&#39;);\r\nINSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES (&#39;Josephine&#39;, &#39;Darakjy&#39;, &#39;810-292-9388&#39;);\r\nINSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES (&#39;Art&#39;, &#39;Venere&#39;, &#39;856-636-8749&#39;);\r\nINSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES (&#39;Lenna&#39;, &#39;Paprocki&#39;, &#39;907-385-4412&#39;);\r\nINSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES (&#39;Donette&#39;, &#39;Foller&#39;, &#39;513-570-1893&#39;);\r\nINSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES (&#39;Simona&#39;, &#39;Morasca&#39;, &#39;419-503-2484&#39;);\r\n```\r\n`schema.sql` and `data.sql` lives under the `resources` directory in my project. However when I run the application it stops with the following error:\r\n```\r\nCaused by: oracle.jdbc.OracleDatabaseException: ORA-00942: table or view does not exist\r\n``` \r\nWhich makes total sense as the table doesn&#39;t exist. Is there a way of configuring Spring so the application doesn&#39;t quit and just ignores the error and creates the table and moves on?\r\n\r\nI&#39;m using Oracle 19c and Spring 2.7.10","title":"ORA-00942: table or view does not exist - Spring JPA","body":"<p>I've got a spring project with the following application.yaml:</p>\n<pre><code>spring:\n  application:\n    name: phonebook\n  sql:\n    init:\n      mode: always\n\n  jpa:\n    hibernate:\n      ddl-auto: none\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.Oracle12cDialect\n        format_sql: true\n      show-sql: true\n\n  # Datasource Configuration\n  datasource:\n    url: jdbc:oracle:thin:@//localhost:1521/freepdb1\n    username: username\n    password: topsecret\n    driver-class-name: oracle.jdbc.OracleDriver\n    type: oracle.ucp.jdbc.PoolDataSource\n    oracleucp:\n      connection-factory-class-name: oracle.jdbc.pool.OracleDataSource\n      sql-for-validate-connection: select * from dual\n      connection-pool-name: phoneBookConnectionPool\n      initial-pool-size: 15\n      min-pool-size: 10\n      max-pool-size: 30\n      fast-connection-failover-enabled: false\n</code></pre>\n<p>To initialize the database I've created a <code>schema.sql</code> file with the following content:</p>\n<pre><code>DROP TABLE PHONEBOOK PURGE;\n\nCREATE TABLE PHONEBOOK (\n    &quot;PHONEBOOK_ID&quot; NUMBER GENERATED ALWAYS AS IDENTITY ( START WITH 1 CACHE 20 ) NOT NULL ENABLE,\n    &quot;FIRST_NAME&quot;   VARCHAR2(40) NOT NULL,\n    &quot;LAST_NAME&quot;    VARCHAR2(40) NOT NULL,\n    &quot;PHONE_NUMBER&quot; VARCHAR2(12) NOT NULL,\n    &quot;CREATE_DATE&quot;  TIMESTAMP DEFAULT SYSDATE,\n    PRIMARY KEY (&quot;PHONEBOOK_ID&quot;)\n);\n</code></pre>\n<p>And a <code>data.sql</code> file with this content:</p>\n<pre><code>INSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES ('James', 'Butt', '504-621-8927');\nINSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES ('Josephine', 'Darakjy', '810-292-9388');\nINSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES ('Art', 'Venere', '856-636-8749');\nINSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES ('Lenna', 'Paprocki', '907-385-4412');\nINSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES ('Donette', 'Foller', '513-570-1893');\nINSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES ('Simona', 'Morasca', '419-503-2484');\n</code></pre>\n<p><code>schema.sql</code> and <code>data.sql</code> lives under the <code>resources</code> directory in my project. However when I run the application it stops with the following error:</p>\n<pre><code>Caused by: oracle.jdbc.OracleDatabaseException: ORA-00942: table or view does not exist\n</code></pre>\n<p>Which makes total sense as the table doesn't exist. Is there a way of configuring Spring so the application doesn't quit and just ignores the error and creates the table and moves on?</p>\n<p>I'm using Oracle 19c and Spring 2.7.10</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":16608628,"reputation":19,"user_id":12002326,"display_name":"Joshy Paily"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682013860,"creation_date":1670600133,"answer_id":74745208,"question_id":74745036,"body_markdown":" - From postman select body -&gt; select raw -&gt; select json\r\n\r\n screenshot \r\n&lt;img src=&quot;https://i.stack.imgur.com/lGtLb.png&quot;&gt;","title":"Spring Boot returns 415: Unsupported Media Type on create","body":"<ul>\n<li>From postman select body -&gt; select raw -&gt; select json</li>\n</ul>\n<p>screenshot\n<img src=\"https://i.stack.imgur.com/lGtLb.png\"></p>\n"},{"tags":[],"owner":{"account_id":6930529,"reputation":496,"user_id":5320122,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670600226,"creation_date":1670600226,"answer_id":74745231,"question_id":74745036,"body_markdown":"For the REST API you are trying to implement, the request you are submitting using Postman is not form-data. The header `Content-Type` should be `application/json`. And  the `body` should be like:\r\n```\r\n{\r\n    &quot;title&quot; : &quot;The Godfather&quot;,\r\n    &quot;body&quot; : &quot;I am going to make him an offer he can&#39;t refuse.&quot;\r\n}\r\n```\r\nScreen shot\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bdyZN.png","title":"Spring Boot returns 415: Unsupported Media Type on create","body":"<p>For the REST API you are trying to implement, the request you are submitting using Postman is not form-data. The header <code>Content-Type</code> should be <code>application/json</code>. And  the <code>body</code> should be like:</p>\n<pre><code>{\n    &quot;title&quot; : &quot;The Godfather&quot;,\n    &quot;body&quot; : &quot;I am going to make him an offer he can't refuse.&quot;\n}\n</code></pre>\n<p>Screen shot\n<a href=\"https://i.stack.imgur.com/bdyZN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bdyZN.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"display_name":"user19163958"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74745231,"answer_count":2,"score":0,"last_activity_date":1682013860,"creation_date":1670599211,"question_id":74745036,"body_markdown":"I&#39;m new to Spring Boot. I&#39;m trying to create a `create` endpoint which only expects an object with only a `title` and `body`. The `Uuid` and `created_at` should be generated. I try to send a `POST` request with Postman adding the values under `Body` and `form-data`. But it returns the following:\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2022-12-09T15:11:02.659+00:00&quot;,\r\n        &quot;status&quot;: 415,\r\n        &quot;error&quot;: &quot;Unsupported Media Type&quot;,\r\n        &quot;path&quot;: &quot;/tasks&quot;\r\n    }\r\n\r\nController method:\r\n\r\n    @PostMapping\r\n        public ResponseEntity&lt;?&gt; create(@RequestBody TaskDTO requestTask) {\r\n            System.out.println(requestTask);\r\n            Task newTask = new Task(requestTask.uuid.toString(), requestTask.title, requestTask.body, requestTask.created_at);\r\n            Task task = taskRepository.save(newTask);\r\n    \r\n    \r\n            return ResponseEntity\r\n                    .ok()\r\n                    .body(task);\r\n        }\r\n\r\nTask.java\r\n\r\n    @Entity\r\n    @Table(name = &quot;tasks&quot;)\r\n    public class Task {\r\n    \r\n        @Id\r\n        @Getter\r\n        @GeneratedValue\r\n        private UUID uuid;\r\n\r\n        @Getter\r\n        @Setter\r\n        private String title;\r\n\r\n        @Getter\r\n        @Setter\r\n        private String body;\r\n\r\n        @Getter\r\n        @Setter\r\n        @GeneratedValue\r\n        private LocalDateTime created_at;\r\n    \r\n        public Task(UUID uuid, String title, String body, LocalDateTime created_at) {\r\n            this.uuid = uuid;\r\n            this.title = title;\r\n            this.body = body;\r\n            this.created_at = created_at;\r\n        }\r\n    \r\n        public Task() {\r\n    \r\n        }\r\n    }\r\n\r\n\r\nTaskDTO.java\r\n\r\n    @Getter\r\n    @Setter\r\n    public class TaskDTO {\r\n        public UUID uuid = UUID.randomUUID();\r\n        public String title;\r\n        public String body;\r\n        public LocalDateTime created_at = LocalDateTime.now();\r\n    }","title":"Spring Boot returns 415: Unsupported Media Type on create","body":"<p>I'm new to Spring Boot. I'm trying to create a <code>create</code> endpoint which only expects an object with only a <code>title</code> and <code>body</code>. The <code>Uuid</code> and <code>created_at</code> should be generated. I try to send a <code>POST</code> request with Postman adding the values under <code>Body</code> and <code>form-data</code>. But it returns the following:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-12-09T15:11:02.659+00:00&quot;,\n    &quot;status&quot;: 415,\n    &quot;error&quot;: &quot;Unsupported Media Type&quot;,\n    &quot;path&quot;: &quot;/tasks&quot;\n}\n</code></pre>\n<p>Controller method:</p>\n<pre><code>@PostMapping\n    public ResponseEntity&lt;?&gt; create(@RequestBody TaskDTO requestTask) {\n        System.out.println(requestTask);\n        Task newTask = new Task(requestTask.uuid.toString(), requestTask.title, requestTask.body, requestTask.created_at);\n        Task task = taskRepository.save(newTask);\n\n\n        return ResponseEntity\n                .ok()\n                .body(task);\n    }\n</code></pre>\n<p>Task.java</p>\n<pre><code>@Entity\n@Table(name = &quot;tasks&quot;)\npublic class Task {\n\n    @Id\n    @Getter\n    @GeneratedValue\n    private UUID uuid;\n\n    @Getter\n    @Setter\n    private String title;\n\n    @Getter\n    @Setter\n    private String body;\n\n    @Getter\n    @Setter\n    @GeneratedValue\n    private LocalDateTime created_at;\n\n    public Task(UUID uuid, String title, String body, LocalDateTime created_at) {\n        this.uuid = uuid;\n        this.title = title;\n        this.body = body;\n        this.created_at = created_at;\n    }\n\n    public Task() {\n\n    }\n}\n</code></pre>\n<p>TaskDTO.java</p>\n<pre><code>@Getter\n@Setter\npublic class TaskDTO {\n    public UUID uuid = UUID.randomUUID();\n    public String title;\n    public String body;\n    public LocalDateTime created_at = LocalDateTime.now();\n}\n</code></pre>\n"},{"tags":["java","architecture","entity-relationship","encapsulation","package-private"],"comments":[{"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"score":0,"creation_date":1682017409,"post_id":76067019,"comment_id":134153782,"body_markdown":"There is nothing wrong with domain models being public as well as common components like Repositories, Services, etc. You tend to keep private only those classes that carry internal value but have no meaning from the outside: could be util classes, helper classes or perhaps pieces of implementation details. Yet again there is no strict rule about that, just a common sense","body":"There is nothing wrong with domain models being public as well as common components like Repositories, Services, etc. You tend to keep private only those classes that carry internal value but have no meaning from the outside: could be util classes, helper classes or perhaps pieces of implementation details. Yet again there is no strict rule about that, just a common sense"},{"owner":{"account_id":27928732,"reputation":1,"user_id":21327281,"display_name":"viep"},"score":0,"creation_date":1682020920,"post_id":76067019,"comment_id":134154426,"body_markdown":"@Turkhan Ok so you say that my Architecture is correctly built? What about future microservice that I want to add, users can be one and diagnose second ms. If they will be separated neither will work, because they depend on each other. How can I avoid this issue? It will also affect that these classes will turn to package-private. I am really curious how to make it but I have no idea, can you please provide some guidance?","body":"@Turkhan Ok so you say that my Architecture is correctly built? What about future microservice that I want to add, users can be one and diagnose second ms. If they will be separated neither will work, because they depend on each other. How can I avoid this issue? It will also affect that these classes will turn to package-private. I am really curious how to make it but I have no idea, can you please provide some guidance?"},{"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"score":0,"creation_date":1682026905,"post_id":76067019,"comment_id":134155486,"body_markdown":"If by microservice you mean 2 different endpoints for users and diagnoses, you can import your public classes (e.g. Repositories) to each controller and query from them. Now, I am not talking about best practices to keep logic in controllers minimal","body":"If by microservice you mean 2 different endpoints for users and diagnoses, you can import your public classes (e.g. Repositories) to each controller and query from them. Now, I am not talking about best practices to keep logic in controllers minimal"}],"owner":{"account_id":27928732,"reputation":1,"user_id":21327281,"display_name":"viep"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682013766,"creation_date":1682013766,"question_id":76067019,"body_markdown":"I have problems with architecture of my project application. I wanted to avoid all classes being public (it is problem of layer packaging), so I created vertical packages as shown below on the screen-shot:\r\n\r\n[packages screen-shot](https://i.stack.imgur.com/puyQ0.jpg)\r\n\r\nBut I have got a problem: \r\nMy User class has to be public as well as DiagnosticResult -&gt; there is OneToMany connection between them, also\r\nUserRepository has to be public due to it&#39;s usage in DiagnosticResult service. Here is the code:\r\n\r\n```\r\npublic class User extends BaseEntityAudit {\r\n    //some simple fields\r\n    @OneToMany(targetEntity = DiagnosticResult.class, mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\r\n    private List&lt;DiagnosticResult&gt; resultsList = new ArrayList&lt;&gt;();\r\n\r\npublic class DiagnosticResult extends BaseEntityAudit {\r\n    //some simple fields\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n\r\nclass DiagnosticResultService {\r\n    private final DiagnosticResultRepository resultRepository;\r\n    private final UserRepository userRepository;\r\n    DiagnosticResult saveDiagnosticResult(DiagnosticResult result, String login) {\r\n        var retrievedUser = userRepository.findUserByLogin(login).orElseThrow(() -&gt; new EntityNotFoundException(&quot;User with login: &quot; + login + &quot; does not exist in database.&quot;));\r\n        result.setUser(retrievedUser);\r\n        retrievedUser.getResultsList().add(result);\r\n        userRepository.save(retrievedUser);\r\n        return resultRepository.save(result);\r\n    }\r\n\r\n```\r\n\r\nWhat is my problem? I heard that good practice is to make as many as possible classes package-private. \r\nI know how to make it - by putting diagnose classes with user classes together - but I don&#39;t want to do that. It will decrease readability plus in the future I want to learn microservices so it must be in different packages.\r\n\r\nWhat can I do to make classes: User, UserRepository, DiagnosticResult package-private, but not moving them to the same package? Or maybe my packaging is wrong and it should be together? Can you give me any advice?\r\n\r\nps:For now I havent got facade classes but I will make them, I also heard that if enything from package must be public it is only facade and dto -&gt; so maybe this is the clue to my architecture, but still how to make User and DiagnosticResult package-private?","title":"How to make relation between entities from different packages and keep encapsulation?","body":"<p>I have problems with architecture of my project application. I wanted to avoid all classes being public (it is problem of layer packaging), so I created vertical packages as shown below on the screen-shot:</p>\n<p><a href=\"https://i.stack.imgur.com/puyQ0.jpg\" rel=\"nofollow noreferrer\">packages screen-shot</a></p>\n<p>But I have got a problem:\nMy User class has to be public as well as DiagnosticResult -&gt; there is OneToMany connection between them, also\nUserRepository has to be public due to it's usage in DiagnosticResult service. Here is the code:</p>\n<pre><code>public class User extends BaseEntityAudit {\n    //some simple fields\n    @OneToMany(targetEntity = DiagnosticResult.class, mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\n    private List&lt;DiagnosticResult&gt; resultsList = new ArrayList&lt;&gt;();\n\npublic class DiagnosticResult extends BaseEntityAudit {\n    //some simple fields\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n\nclass DiagnosticResultService {\n    private final DiagnosticResultRepository resultRepository;\n    private final UserRepository userRepository;\n    DiagnosticResult saveDiagnosticResult(DiagnosticResult result, String login) {\n        var retrievedUser = userRepository.findUserByLogin(login).orElseThrow(() -&gt; new EntityNotFoundException(&quot;User with login: &quot; + login + &quot; does not exist in database.&quot;));\n        result.setUser(retrievedUser);\n        retrievedUser.getResultsList().add(result);\n        userRepository.save(retrievedUser);\n        return resultRepository.save(result);\n    }\n\n</code></pre>\n<p>What is my problem? I heard that good practice is to make as many as possible classes package-private.\nI know how to make it - by putting diagnose classes with user classes together - but I don't want to do that. It will decrease readability plus in the future I want to learn microservices so it must be in different packages.</p>\n<p>What can I do to make classes: User, UserRepository, DiagnosticResult package-private, but not moving them to the same package? Or maybe my packaging is wrong and it should be together? Can you give me any advice?</p>\n<p>ps:For now I havent got facade classes but I will make them, I also heard that if enything from package must be public it is only facade and dto -&gt; so maybe this is the clue to my architecture, but still how to make User and DiagnosticResult package-private?</p>\n"},{"tags":["java","datetime","time","format","simpledateformat"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1682003097,"post_id":76065568,"comment_id":134150482,"body_markdown":"MM is for the month. Use mm for minutes.","body":"MM is for the month. Use mm for minutes."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1682003107,"post_id":76065568,"comment_id":134150489,"body_markdown":"check [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/SimpleDateFormat.html) about meaning of  `MM`, also having `HH` with `a` is wrong - BTW better stop using outdated classes like `Date`, `Calendar`, `SimpleDateFormat`. The *new* (Java 8, 2014!) classes from the `java.time` package are recommended instead","body":"check <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">documentation</a> about meaning of  <code>MM</code>, also having <code>HH</code> with <code>a</code> is wrong - BTW better stop using outdated classes like <code>Date</code>, <code>Calendar</code>, <code>SimpleDateFormat</code>. The <i>new</i> (Java 8, 2014!) classes from the <code>java.time</code> package are recommended instead"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682008370,"post_id":76065568,"comment_id":134151877,"body_markdown":"I strongly recommend you dont use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `LocalTime` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you dont use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>LocalTime</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682008639,"post_id":76065568,"comment_id":134151945,"body_markdown":"While this question doesnt seem to be an exact duplicate, there are many related questions, for example [here](https://stackoverflow.com/questions/18734452/display-current-time-in-12-hour-format-with-am-pm) and [here](https://stackoverflow.com/questions/50449169/converting-string-to-time-using-simpledateformat-issues). Under those questions please see the answers that are using java.time and not the old `SimpleDateFormat`.","body":"While this question doesnt seem to be an exact duplicate, there are many related questions, for example <a href=\"https://stackoverflow.com/questions/18734452/display-current-time-in-12-hour-format-with-am-pm\">here</a> and <a href=\"https://stackoverflow.com/questions/50449169/converting-string-to-time-using-simpledateformat-issues\">here</a>. Under those questions please see the answers that are using java.time and not the old <code>SimpleDateFormat</code>."},{"owner":{"account_id":20392797,"reputation":13,"user_id":14960340,"display_name":"PT15"},"score":0,"creation_date":1682676752,"post_id":76065568,"comment_id":134256731,"body_markdown":"Thanks @user16320675, will keep in mind","body":"Thanks @user16320675, will keep in mind"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682013674,"creation_date":1682006106,"answer_id":76066059,"question_id":76065568,"body_markdown":"`Date` and its methods are obsolete and buggy.  Unless you must use Date I would use classes from the [java.time](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/package-summary.html) package.  Here is how the change would look by modifying your code. Note the change from 24 hour clock `(HH)` to 12 hour clock `(hh)` as pointed out by @OleV.V.\r\n```\r\ngetHourAndTime(LocalDateTime.now(), LocalDateTime.now().plusSeconds(600));\r\n            \r\n\r\npublic static void getHourAndTime(LocalDateTime startDate, LocalDateTime endDate) {\r\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;);\r\n    System.out.println(&quot;startTime: &quot; + startDate.format(dtf));\r\n    System.out.println(&quot;endTime: &quot; + endDate.format(dtf));\r\n}\r\n```\r\nprints\r\n```\r\nstartTime: 11:53 AM\r\nendTime: 12:03 PM\r\n```\r\n","title":"SimpleDateFormat is giving wrong hours and seconds data","body":"<p><code>Date</code> and its methods are obsolete and buggy.  Unless you must use Date I would use classes from the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package.  Here is how the change would look by modifying your code. Note the change from 24 hour clock <code>(HH)</code> to 12 hour clock <code>(hh)</code> as pointed out by @OleV.V.</p>\n<pre><code>getHourAndTime(LocalDateTime.now(), LocalDateTime.now().plusSeconds(600));\n            \n\npublic static void getHourAndTime(LocalDateTime startDate, LocalDateTime endDate) {\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;);\n    System.out.println(&quot;startTime: &quot; + startDate.format(dtf));\n    System.out.println(&quot;endTime: &quot; + endDate.format(dtf));\n}\n</code></pre>\n<p>prints</p>\n<pre><code>startTime: 11:53 AM\nendTime: 12:03 PM\n</code></pre>\n"}],"owner":{"account_id":20392797,"reputation":13,"user_id":14960340,"display_name":"PT15"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76066059,"answer_count":1,"score":1,"last_activity_date":1682013674,"creation_date":1682002907,"question_id":76065568,"body_markdown":"I&#39;m using SimpleDateFormat to get the hours and seconds in this format &quot;HH:MM a&quot; for 2 dates in same function. The output printing is same for both of them and it is mostly of the first date. The code for it is as follows:\r\n\r\n    //to get the time\r\n    public static void getHourAndTime(Date startDate, Date endDate){\r\n    \t\r\n    \tSimpleDateFormat formatter = new SimpleDateFormat(&quot;HH:MM a&quot;);\r\n\t\tString formattedstartTime = formatter.format(startDate);\r\n        System.out.println(&quot;startTime&quot;+formattedstartTime);\r\n\r\n        String formattedEndTime = formatter.format(endDate);\r\n        System.out.println(&quot;endTime&quot;+formattedEndTime);\r\n    }\r\n\r\nAny solution/ reason for this would be helpful.\r\n\r\n\r\nEdit: this was a piece of an old code in the application, that I was trying to change.\r\n\r\n\r\nThanks","title":"SimpleDateFormat is giving wrong hours and seconds data","body":"<p>I'm using SimpleDateFormat to get the hours and seconds in this format &quot;HH:MM a&quot; for 2 dates in same function. The output printing is same for both of them and it is mostly of the first date. The code for it is as follows:</p>\n<pre><code>//to get the time\npublic static void getHourAndTime(Date startDate, Date endDate){\n    \n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;HH:MM a&quot;);\n    String formattedstartTime = formatter.format(startDate);\n    System.out.println(&quot;startTime&quot;+formattedstartTime);\n\n    String formattedEndTime = formatter.format(endDate);\n    System.out.println(&quot;endTime&quot;+formattedEndTime);\n}\n</code></pre>\n<p>Any solution/ reason for this would be helpful.</p>\n<p>Edit: this was a piece of an old code in the application, that I was trying to change.</p>\n<p>Thanks</p>\n"},{"tags":["java","selenium-webdriver","shadow-dom"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1681931175,"post_id":76056962,"comment_id":134138185,"body_markdown":"Does this answer your question? [java.lang.NullPointerException error when trying to locate a shadow element with Selenium](https://stackoverflow.com/questions/75931152/java-lang-nullpointerexception-error-when-trying-to-locate-a-shadow-element-with)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75931152/java-lang-nullpointerexception-error-when-trying-to-locate-a-shadow-element-with\">java.lang.NullPointerException error when trying to locate a shadow element with Selenium</a>"},{"owner":{"account_id":2369991,"reputation":520,"user_id":2074804,"accept_rate":46,"display_name":"SKN"},"score":0,"creation_date":1682007495,"post_id":76056962,"comment_id":134151670,"body_markdown":"Nope, it didn&#39;t work","body":"Nope, it didn&#39;t work"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1682010623,"post_id":76056962,"comment_id":134152390,"body_markdown":"Are you using the newest Selenium? What version are you using? That link shows the current method to access shadow roots. If it&#39;s not working, you need to provide more details. At a minimum, edit your question and add the full error message as text, properly formatted.","body":"Are you using the newest Selenium? What version are you using? That link shows the current method to access shadow roots. If it&#39;s not working, you need to provide more details. At a minimum, edit your question and add the full error message as text, properly formatted."},{"owner":{"account_id":2369991,"reputation":520,"user_id":2074804,"accept_rate":46,"display_name":"SKN"},"score":0,"creation_date":1682012364,"post_id":76056962,"comment_id":134152771,"body_markdown":"I&#39;m using Selenium 3.141.59. I don&#39;t have option to use latest Selenium. The reason being I use Serenity BDD framework 2.2.7","body":"I&#39;m using Selenium 3.141.59. I don&#39;t have option to use latest Selenium. The reason being I use Serenity BDD framework 2.2.7"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1682013226,"post_id":76056962,"comment_id":134152958,"body_markdown":"Updated your Serenity... the current version is 3.6.7 and it contains Selenium 4+","body":"Updated your Serenity... the current version is 3.6.7 and it contains Selenium 4+"},{"owner":{"account_id":2369991,"reputation":520,"user_id":2074804,"accept_rate":46,"display_name":"SKN"},"score":0,"creation_date":1682014642,"post_id":76056962,"comment_id":134153227,"body_markdown":"Updating serenity is not an option for me, as I work for a highly regulated domain  and my org hasn&#39;t approved recent version of Serenity","body":"Updating serenity is not an option for me, as I work for a highly regulated domain  and my org hasn&#39;t approved recent version of Serenity"}],"owner":{"account_id":2369991,"reputation":520,"user_id":2074804,"accept_rate":46,"display_name":"SKN"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682013175,"creation_date":1681922548,"question_id":76056962,"body_markdown":"I have a shadow root radio button:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/un5DD.png\r\n\r\n    &lt;li class=&quot;radios__item selectable__item&quot; role=&quot;radio&quot; id=&quot;ds-radio-button-group-4-item-0&quot; aria-checked=&quot;false&quot; aria-disabled=&quot;false&quot;&gt;::before &quot;Yes&quot;&lt;/li&gt;\r\n\r\n&lt;li class=&quot;radios__item selectable__item&quot; role=&quot;radio&quot; id=&quot;ds-radio-button-group-4-item-1&quot; aria-checked=&quot;false&quot; aria-disabled=&quot;false&quot;&gt;::before &quot;No&quot;&lt;/li&gt;\r\n\r\nI tried below code:\r\n\r\n    public void SelectRadioButton(WebElement radioButton) {\r\n        JavascriptExecutor js = (JavascriptExecutor) driver;\r\n        WebElement radio = (WebElement) js.executeScript(&quot;return document.querySelector(&#39;#ds-radio-button-group-4-item-1&#39;).shadowRoot&quot;);\r\n        radio.click();\r\n    }\r\n\r\nI get below error:\r\n    \r\n    org.openqa.selenium.NoSuchElementException: An element could not be located on the page using the given search parameters. (WARNING: The server did not provide any stacktrace information)\r\n    Command duration or timeout: 0 milliseconds\r\n    For documentation on this error, please visit: https://www.seleniumhq.org/exceptions/no_such_element.html\r\n    Build info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\n    System info: host: &#39;L211702&#39;, ip: &#39;192.168.29.53&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_361&#39;\r\n    Driver info: io.appium.java_client.windows.WindowsDriver\r\n    Capabilities {appTopLevelWindow: 110d90, javascriptEnabled: true, platform: WINDOWS, platformName: Windows}\r\n    Session ID: 5A73DA21-DBEA-45C9-A457-DE40C7F2E303\r\n    *** Element info: {Using=id, value=ds-radio-button-group-4-item-1}\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:214)\r\n    \tat org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:166)\r\n    \tat org.openqa.selenium.remote.http.JsonHttpResponseCodec.reconstructValue(JsonHttpResponseCodec.java:40)\r\n    \tat org.openqa.selenium.remote.http.AbstractHttpResponseCodec.decode(AbstractHttpResponseCodec.java:80)\r\n    \tat org.openqa.selenium.remote.http.AbstractHttpResponseCodec.decode(AbstractHttpResponseCodec.java:44)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\r\n    \tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:239)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n    \tat io.appium.java_client.DefaultGenericMobileDriver.execute(DefaultGenericMobileDriver.java:41)\r\n    \tat io.appium.java_client.AppiumDriver.execute(AppiumDriver.java:1)\r\n    \tat io.appium.java_client.windows.WindowsDriver.execute(WindowsDriver.java:1)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:323)\r\n    \tat io.appium.java_client.DefaultGenericMobileDriver.findElement(DefaultGenericMobileDriver.java:61)\r\n    \tat io.appium.java_client.AppiumDriver.findElement(AppiumDriver.java:1)\r\n    \tat io.appium.java_client.windows.WindowsDriver.findElement(WindowsDriver.java:1)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.findElementById(RemoteWebDriver.java:372)\r\n    \tat io.appium.java_client.DefaultGenericMobileDriver.findElementById(DefaultGenericMobileDriver.java:69)\r\n    \tat io.appium.java_client.AppiumDriver.findElementById(AppiumDriver.java:1)\r\n    \tat io.appium.java_client.windows.WindowsDriver.findElementById(WindowsDriver.java:1)\r\n    \tat org.openqa.selenium.By$ById.findElement(By.java:188)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:315)\r\n    \tat io.appium.java_client.DefaultGenericMobileDriver.findElement(DefaultGenericMobileDriver.java:57)\r\n    \tat io.appium.java_client.AppiumDriver.findElement(AppiumDriver.java:1)\r\n    \tat io.appium.java_client.windows.WindowsDriver.findElement(WindowsDriver.java:1)\r\n    \tat testautomation.windowsframework.BaseInteractions.SelectRadioButton(BaseInteractions.java:43)\r\n\r\nBut it doesn&#39;t work. What am I doing wrong?\r\n\r\n","title":"How to locate shadow dom radio button in Selenium?","body":"<p>I have a shadow root radio button:</p>\n<p><a href=\"https://i.stack.imgur.com/un5DD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/un5DD.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>&lt;li class=&quot;radios__item selectable__item&quot; role=&quot;radio&quot; id=&quot;ds-radio-button-group-4-item-0&quot; aria-checked=&quot;false&quot; aria-disabled=&quot;false&quot;&gt;::before &quot;Yes&quot;&lt;/li&gt;\n</code></pre>\n::before \"No\"</li>\n<p>I tried below code:</p>\n<pre><code>public void SelectRadioButton(WebElement radioButton) {\n    JavascriptExecutor js = (JavascriptExecutor) driver;\n    WebElement radio = (WebElement) js.executeScript(&quot;return document.querySelector('#ds-radio-button-group-4-item-1').shadowRoot&quot;);\n    radio.click();\n}\n</code></pre>\n<p>I get below error:</p>\n<pre><code>org.openqa.selenium.NoSuchElementException: An element could not be located on the page using the given search parameters. (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 0 milliseconds\nFor documentation on this error, please visit: https://www.seleniumhq.org/exceptions/no_such_element.html\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'L211702', ip: '192.168.29.53', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_361'\nDriver info: io.appium.java_client.windows.WindowsDriver\nCapabilities {appTopLevelWindow: 110d90, javascriptEnabled: true, platform: WINDOWS, platformName: Windows}\nSession ID: 5A73DA21-DBEA-45C9-A457-DE40C7F2E303\n*** Element info: {Using=id, value=ds-radio-button-group-4-item-1}\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:214)\n    at org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:166)\n    at org.openqa.selenium.remote.http.JsonHttpResponseCodec.reconstructValue(JsonHttpResponseCodec.java:40)\n    at org.openqa.selenium.remote.http.AbstractHttpResponseCodec.decode(AbstractHttpResponseCodec.java:80)\n    at org.openqa.selenium.remote.http.AbstractHttpResponseCodec.decode(AbstractHttpResponseCodec.java:44)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\n    at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:239)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n    at io.appium.java_client.DefaultGenericMobileDriver.execute(DefaultGenericMobileDriver.java:41)\n    at io.appium.java_client.AppiumDriver.execute(AppiumDriver.java:1)\n    at io.appium.java_client.windows.WindowsDriver.execute(WindowsDriver.java:1)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:323)\n    at io.appium.java_client.DefaultGenericMobileDriver.findElement(DefaultGenericMobileDriver.java:61)\n    at io.appium.java_client.AppiumDriver.findElement(AppiumDriver.java:1)\n    at io.appium.java_client.windows.WindowsDriver.findElement(WindowsDriver.java:1)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElementById(RemoteWebDriver.java:372)\n    at io.appium.java_client.DefaultGenericMobileDriver.findElementById(DefaultGenericMobileDriver.java:69)\n    at io.appium.java_client.AppiumDriver.findElementById(AppiumDriver.java:1)\n    at io.appium.java_client.windows.WindowsDriver.findElementById(WindowsDriver.java:1)\n    at org.openqa.selenium.By$ById.findElement(By.java:188)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:315)\n    at io.appium.java_client.DefaultGenericMobileDriver.findElement(DefaultGenericMobileDriver.java:57)\n    at io.appium.java_client.AppiumDriver.findElement(AppiumDriver.java:1)\n    at io.appium.java_client.windows.WindowsDriver.findElement(WindowsDriver.java:1)\n    at testautomation.windowsframework.BaseInteractions.SelectRadioButton(BaseInteractions.java:43)\n</code></pre>\n<p>But it doesn't work. What am I doing wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1682002047,"post_id":76065294,"comment_id":134150179,"body_markdown":"Read the documentation for Files.write, you&#39;ll see that there is an additional parameter to specify open options, one of which is `StandardOpenOption.APPEND`","body":"Read the documentation for Files.write, you&#39;ll see that there is an additional parameter to specify open options, one of which is <code>StandardOpenOption.APPEND</code>"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1682002771,"post_id":76065294,"comment_id":134150401,"body_markdown":"Note it may make more sense to simply copy the raw bytes of the input files into the output file. That&#39;s essentially what you&#39;re doing already, but with an unnecessary conversion to and from strings.","body":"Note it may make more sense to simply copy the raw bytes of the input files into the output file. That&#39;s essentially what you&#39;re doing already, but with an unnecessary conversion to and from strings."}],"answers":[{"tags":[],"owner":{"account_id":1619595,"reputation":793,"user_id":1496472,"accept_rate":40,"display_name":"Greycon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682012954,"creation_date":1682002080,"answer_id":76065417,"question_id":76065294,"body_markdown":"The Files.write() takes an optional parameter, which specifies the mode for opening the file. The default is CREATE, TRUNCATE_EXISTING (Thanks @Slaw) so you are overwriting the file each time. In your case you need:\r\n\r\n    List&lt;String&gt; lines=Files.readAllLines(oldFile1);\r\n\tFiles.write(newFile,lines, StandardOpenOption.CREATE);\r\n\t          \r\n\tList&lt;String&gt; lines1=Files.readAllLines(oldFile2);\r\n\tFiles.write(newFile,lines1,  StandardOpenOption.APPEND);\r\n","title":"How to write a content into a file from two different files by using java.nio.files","body":"<p>The Files.write() takes an optional parameter, which specifies the mode for opening the file. The default is CREATE, TRUNCATE_EXISTING (Thanks @Slaw) so you are overwriting the file each time. In your case you need:</p>\n<pre><code>List&lt;String&gt; lines=Files.readAllLines(oldFile1);\nFiles.write(newFile,lines, StandardOpenOption.CREATE);\n          \nList&lt;String&gt; lines1=Files.readAllLines(oldFile2);\nFiles.write(newFile,lines1,  StandardOpenOption.APPEND);\n</code></pre>\n"}],"owner":{"account_id":24863817,"reputation":21,"user_id":18739201,"display_name":"chandana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1682012954,"creation_date":1682001232,"question_id":76065294,"body_markdown":"I am trying to write content from two different files into a new file\r\nBut I am not getting the required result\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.List;\r\npublic class Example2 {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t\r\n\t\tPath oldFile1=Paths.get(&quot;D:\\\\sample\\\\txt1.txt&quot;);\r\n\t\tPath oldFile2=Paths.get(&quot;D:\\\\sample\\\\txt2.txt&quot;);\r\n\t\tPath File=Paths.get(&quot;D:\\\\sample\\\\newFile.txt&quot;);\r\n\t\tPath newFile=Files.createFile(File);\r\n\t\t\r\n\t\t\tList&lt;String&gt; lines=Files.readAllLines(oldFile1);\r\n\t\t\tFiles.write(newFile,lines);\r\n\t\t  \r\n\t\t\tList&lt;String&gt; lines1=Files.readAllLines(oldFile2);\r\n\t\t\tFiles.write(newFile,lines1);\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI tried this but newfile contains only the content of oldfile2","title":"How to write a content into a file from two different files by using java.nio.files","body":"<p>I am trying to write content from two different files into a new file\nBut I am not getting the required result</p>\n<pre><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.List;\npublic class Example2 {\n\n    public static void main(String[] args) throws IOException {\n        \n        Path oldFile1=Paths.get(&quot;D:\\\\sample\\\\txt1.txt&quot;);\n        Path oldFile2=Paths.get(&quot;D:\\\\sample\\\\txt2.txt&quot;);\n        Path File=Paths.get(&quot;D:\\\\sample\\\\newFile.txt&quot;);\n        Path newFile=Files.createFile(File);\n        \n            List&lt;String&gt; lines=Files.readAllLines(oldFile1);\n            Files.write(newFile,lines);\n          \n            List&lt;String&gt; lines1=Files.readAllLines(oldFile2);\n            Files.write(newFile,lines1);\n        \n    }\n\n}\n</code></pre>\n<p>I tried this but newfile contains only the content of oldfile2</p>\n"},{"tags":["java","procedural","simplex-noise"],"answers":[{"tags":[],"owner":{"account_id":372049,"reputation":3614,"user_id":720893,"accept_rate":83,"display_name":"Michal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682012867,"creation_date":1496278167,"answer_id":44296800,"question_id":39674372,"body_markdown":"If you need only one dimension noise simply ignore second argument. Like this:\r\n\r\n    getNoise(variable, 0);\r\n\r\nThe `getNoise` method in `SimplexNoise` takes two integer parameters x and y, which are the 2D coordinates of the point for which you want to generate noise. The values of x and y determine the position of the point in the noise space. The output of the `getNoise` method is a floating-point value between -1 and 1, which represents the noise value at that point.\r\n\r\nWhen people use a nested for loop with i and j values to call `getNoise(i + x, j + z)`, they are generating a 2D array of noise values, where i and j are the indices of the array. By adding x and z to the indices, they are shifting the noise space so that it aligns with the position of the terrain in the game.\r\n\r\nThe values of `largestFeature` and `persistence` in SimplexNoise are used to control the characteristics of the generated noise. `largestFeature` determines the scale of the features in the noise, while `persistence` determines the roughness or smoothness of the noise. You can adjust these values to create different types of noise patterns, but keep in mind that changing them will affect the entire noise map.\r\n\r\nIf you want to generate different types of terrain with different noise patterns, you can create multiple instances of SimplexNoise with different parameters. For example, you could create one instance with a larger `largestFeature` value to generate big mountains, and another instance with a smaller `largestFeature` value to generate small hills. By combining the noise maps generated by these instances, you can create a more varied terrain.","title":"How to use SimplexNoise for 1D","body":"<p>If you need only one dimension noise simply ignore second argument. Like this:</p>\n<pre><code>getNoise(variable, 0);\n</code></pre>\n<p>The <code>getNoise</code> method in <code>SimplexNoise</code> takes two integer parameters x and y, which are the 2D coordinates of the point for which you want to generate noise. The values of x and y determine the position of the point in the noise space. The output of the <code>getNoise</code> method is a floating-point value between -1 and 1, which represents the noise value at that point.</p>\n<p>When people use a nested for loop with i and j values to call <code>getNoise(i + x, j + z)</code>, they are generating a 2D array of noise values, where i and j are the indices of the array. By adding x and z to the indices, they are shifting the noise space so that it aligns with the position of the terrain in the game.</p>\n<p>The values of <code>largestFeature</code> and <code>persistence</code> in SimplexNoise are used to control the characteristics of the generated noise. <code>largestFeature</code> determines the scale of the features in the noise, while <code>persistence</code> determines the roughness or smoothness of the noise. You can adjust these values to create different types of noise patterns, but keep in mind that changing them will affect the entire noise map.</p>\n<p>If you want to generate different types of terrain with different noise patterns, you can create multiple instances of SimplexNoise with different parameters. For example, you could create one instance with a larger <code>largestFeature</code> value to generate big mountains, and another instance with a smaller <code>largestFeature</code> value to generate small hills. By combining the noise maps generated by these instances, you can create a more varied terrain.</p>\n"}],"owner":{"display_name":"user4959397"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682012867,"creation_date":1474706603,"question_id":39674372,"body_markdown":"I&#39;ve been playing around with Simplex Noise. But I still dont know how I should use it right. My Goal is to get a terrain for an Sidescroller game. It shoud have a polygonal style look.\r\n\r\nI got the source for SimplexNoise from [here][1]\r\n\r\nQuestions:\r\n\r\n- The method `getNoise(int x, int y)` what values are they for. what do they change?\r\nI have seen people using a nested for loop and do `getNoise(i + x, j + z)`.\r\n\r\n- Why are the values largestFeature, persistance not changeable? Shoud I have more than 1 SimplexNoise class to get diffrent biomes?\r\n\r\n\r\n  [1]: https://github.com/Longarmx/3DWorld/tree/master/src/com/longarmx/smplx/noise &quot;here&quot;","title":"How to use SimplexNoise for 1D","body":"<p>I've been playing around with Simplex Noise. But I still dont know how I should use it right. My Goal is to get a terrain for an Sidescroller game. It shoud have a polygonal style look.</p>\n\n<p>I got the source for SimplexNoise from <a href=\"https://github.com/Longarmx/3DWorld/tree/master/src/com/longarmx/smplx/noise\" rel=\"nofollow\" title=\"here\">here</a></p>\n\n<p>Questions:</p>\n\n<ul>\n<li><p>The method <code>getNoise(int x, int y)</code> what values are they for. what do they change?\nI have seen people using a nested for loop and do <code>getNoise(i + x, j + z)</code>.</p></li>\n<li><p>Why are the values largestFeature, persistance not changeable? Shoud I have more than 1 SimplexNoise class to get diffrent biomes?</p></li>\n</ul>\n"},{"tags":["java","spring-boot","asynchronous","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1682046193,"post_id":76066913,"comment_id":134157560,"body_markdown":"The CreateVisualSignature example has a &quot;lateExternalSigning&quot; feature, maybe that is what you mean.","body":"The CreateVisualSignature example has a &quot;lateExternalSigning&quot; feature, maybe that is what you mean."}],"owner":{"account_id":28033614,"reputation":13,"user_id":21412395,"display_name":"Kim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682012747,"creation_date":1682012747,"question_id":76066913,"body_markdown":"This is in continuation to a previous thread of mine. The goal is to stamp a pdf document with digital signature. For stamping I use pdfbox, for digital signature generation, there is another standalone application used.\r\n\r\nThere are 2 different servers involved.\r\n\r\nServer A : upload pdf document -\\&gt; generate a document hash -\\&gt; invoke the pdfBox to stamp this document -\\&gt; from sign() method of pdfbox invoke server B -\\&gt; use the signature generated by server B to stamp on the document.\r\n\r\nServer B : take the hash of the document and generate the digital signature -\\&gt; return this signature to server A\r\n\r\nThe above method works completely fine, as a synchronous call flow right from document upload on server A to digital signature generation on server B and back to stamping the doc on serverA with the signature.\r\n\r\nNow, the problem is, response from server B is asynchronous. I don&#39;t want to wait in sign() method till server B returns with the signature for me to continue and stamp the document. And if I invoke the entire flow of pdfbox again, the content in the sign() method differs everytime its called.\r\n\r\nSo is it possible to store the current state of execution, which is up until the overriden sign() method of pdfbox is invoked ? so that I can take the content in this method and call server B to generate digital signature, and when server B returns with the signature asynchronously, I can resume the working of sign() method by setting this digital signature and proceeding to stamp it on the doc?\r\n\r\n&lt;https://github.com/johnskim9414/signPdf/blob/6d8cebe57e9b5fed2e3cc62649ecf4cd3a9e8049/src/main/java/com/sign/pdf/CustomSignature.java&gt;\r\n\r\n\r\nor is there any method available in pdfbox where I can overwrite the content that gets generated and passed to the sign() method, by the previously generated content?","title":"is it possible to save the current state of sign() method of pdfbox? so that this content can then be used to generate digital signature and resume?","body":"<p>This is in continuation to a previous thread of mine. The goal is to stamp a pdf document with digital signature. For stamping I use pdfbox, for digital signature generation, there is another standalone application used.</p>\n<p>There are 2 different servers involved.</p>\n<p>Server A : upload pdf document -&gt; generate a document hash -&gt; invoke the pdfBox to stamp this document -&gt; from sign() method of pdfbox invoke server B -&gt; use the signature generated by server B to stamp on the document.</p>\n<p>Server B : take the hash of the document and generate the digital signature -&gt; return this signature to server A</p>\n<p>The above method works completely fine, as a synchronous call flow right from document upload on server A to digital signature generation on server B and back to stamping the doc on serverA with the signature.</p>\n<p>Now, the problem is, response from server B is asynchronous. I don't want to wait in sign() method till server B returns with the signature for me to continue and stamp the document. And if I invoke the entire flow of pdfbox again, the content in the sign() method differs everytime its called.</p>\n<p>So is it possible to store the current state of execution, which is up until the overriden sign() method of pdfbox is invoked ? so that I can take the content in this method and call server B to generate digital signature, and when server B returns with the signature asynchronously, I can resume the working of sign() method by setting this digital signature and proceeding to stamp it on the doc?</p>\n<p><a href=\"https://github.com/johnskim9414/signPdf/blob/6d8cebe57e9b5fed2e3cc62649ecf4cd3a9e8049/src/main/java/com/sign/pdf/CustomSignature.java\" rel=\"nofollow noreferrer\">https://github.com/johnskim9414/signPdf/blob/6d8cebe57e9b5fed2e3cc62649ecf4cd3a9e8049/src/main/java/com/sign/pdf/CustomSignature.java</a></p>\n<p>or is there any method available in pdfbox where I can overwrite the content that gets generated and passed to the sign() method, by the previously generated content?</p>\n"},{"tags":["java","spring","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":28362251,"reputation":36,"user_id":21692077,"display_name":"Durfen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682012711,"creation_date":1682011163,"answer_id":76066719,"question_id":76066475,"body_markdown":"The retrySignal allows you to get the exception that caused the retry. \r\n\r\n\r\n  \r\n\r\n    private RetryBackoffSpec retryServerError() {\r\n        return Retry.backoff(3, Duration.of(100, ChronoUnit.MILLIS))\r\n            .filter(this::isServerError)\r\n            .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; {\r\n              HttpServerErrorException ex = (HttpServerErrorException) retrySignal.failure();\r\n                HttpStatus statusCode = webException.getStatusCode();\r\n                String responseBodyAsString = webException.getResponseBodyAsString();\r\n                //whatever you want to do with it\r\n              \r\n            });\r\n      }","title":"How to use onRetryExhaustedThrow in order to return original HttpStatusCode and message?","body":"<p>The retrySignal allows you to get the exception that caused the retry.</p>\n<pre><code>private RetryBackoffSpec retryServerError() {\n    return Retry.backoff(3, Duration.of(100, ChronoUnit.MILLIS))\n        .filter(this::isServerError)\n        .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; {\n          HttpServerErrorException ex = (HttpServerErrorException) retrySignal.failure();\n            HttpStatus statusCode = webException.getStatusCode();\n            String responseBodyAsString = webException.getResponseBodyAsString();\n            //whatever you want to do with it\n          \n        });\n  }\n</code></pre>\n"}],"owner":{"account_id":11320426,"reputation":403,"user_id":8300911,"display_name":"J&#233;r&#233;my"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":864,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76066719,"answer_count":1,"score":2,"last_activity_date":1682012711,"creation_date":1682009024,"question_id":76066475,"body_markdown":"I&#39;m trying to create a custom retry method but i don&#39;t understand how it works.\r\n\r\nIn fact, I just want to try again several times and then, if all the attempts failed, return an exception with the last http status code, the http status message and the response body.\r\n\r\nIs it possible to do that with webflux ?\r\n\r\nThis is my code below :\r\n\r\n```java\r\n    private RetryBackoffSpec retryServerError() {\r\n        return Retry.backoff(3, Duration.of(100, ChronoUnit.MILLIS))\r\n                    .filter(this::isServerError)\r\n                    .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; new HttpServerErrorException(HttpStatus.SERVICE_UNAVAILABLE, &quot;an error message&quot;));\r\n    }\r\n\r\n    private boolean isServerError(Throwable throwable) {\r\n        return throwable instanceof HttpServerErrorException;\r\n    }\r\n\r\n    public void ResponseEntity&lt;U&gt; post(Class&lt;Void&gt; responseClass, Function&lt;UriBuilder, URI&gt; uri, MyBodyObject body) throws WebClientException, RestClientResponseException {\r\n        return this.getWebClientBuilder()\r\n                   .build()\r\n                   .post()\r\n                   .uri(uri)\r\n                   .body(BodyInserters.fromValue(body))\r\n                   .retrieve()\r\n                   .toEntity(responseClass)\r\n                   .retryWhen(retryServerError())\r\n                   .block();\r\n    }\r\n\r\n\r\n```\r\n\r\nThanks for your help !","title":"How to use onRetryExhaustedThrow in order to return original HttpStatusCode and message?","body":"<p>I'm trying to create a custom retry method but i don't understand how it works.</p>\n<p>In fact, I just want to try again several times and then, if all the attempts failed, return an exception with the last http status code, the http status message and the response body.</p>\n<p>Is it possible to do that with webflux ?</p>\n<p>This is my code below :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private RetryBackoffSpec retryServerError() {\n        return Retry.backoff(3, Duration.of(100, ChronoUnit.MILLIS))\n                    .filter(this::isServerError)\n                    .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; new HttpServerErrorException(HttpStatus.SERVICE_UNAVAILABLE, &quot;an error message&quot;));\n    }\n\n    private boolean isServerError(Throwable throwable) {\n        return throwable instanceof HttpServerErrorException;\n    }\n\n    public void ResponseEntity&lt;U&gt; post(Class&lt;Void&gt; responseClass, Function&lt;UriBuilder, URI&gt; uri, MyBodyObject body) throws WebClientException, RestClientResponseException {\n        return this.getWebClientBuilder()\n                   .build()\n                   .post()\n                   .uri(uri)\n                   .body(BodyInserters.fromValue(body))\n                   .retrieve()\n                   .toEntity(responseClass)\n                   .retryWhen(retryServerError())\n                   .block();\n    }\n\n\n</code></pre>\n<p>Thanks for your help !</p>\n"},{"tags":["java","mysql","multithreading","jdbc","producer-consumer"],"comments":[{"owner":{"display_name":"user2575725"},"score":0,"creation_date":1531048531,"post_id":51231400,"comment_id":89441967,"body_markdown":"you are facing query timeout issue, consider increasing the same","body":"you are facing query timeout issue, consider increasing the same"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":3,"creation_date":1531048533,"post_id":51231400,"comment_id":89441968,"body_markdown":"**Don&#39;t save all the users in memory**","body":"<b>Don&#39;t save all the users in memory</b>"},{"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"score":0,"creation_date":1531048797,"post_id":51231400,"comment_id":89442020,"body_markdown":"@user7294900, I know, it&#39;s not right. But I don&#39;t know how to do otherwise","body":"@user7294900, I know, it&#39;s not right. But I don&#39;t know how to do otherwise"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1531049122,"post_id":51231400,"comment_id":89442112,"body_markdown":"@All_Safe what are you trying to achieve? why holding 200 million records in memory?","body":"@All_Safe what are you trying to achieve? why holding 200 million records in memory?"},{"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"score":0,"creation_date":1531049430,"post_id":51231400,"comment_id":89442196,"body_markdown":"@user7294900,For each user received from this table, you need to perform a certain processing and verification","body":"@user7294900,For each user received from this table, you need to perform a certain processing and verification"},{"owner":{"account_id":2782706,"reputation":11516,"user_id":2548147,"display_name":"Raymond Nijland"},"score":0,"creation_date":1531051309,"post_id":51231400,"comment_id":89442651,"body_markdown":"i still wondering what you are trying to do here.. in a answer comment you are telling you want to compare data between multiple tables.. in MySQL you can JOIN the tables and compare between tables on the MySQL server..","body":"i still wondering what you are trying to do here.. in a answer comment you are telling you want to compare data between multiple tables.. in MySQL you can JOIN the tables and compare between tables on the MySQL server.."},{"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"score":0,"creation_date":1531051860,"post_id":51231400,"comment_id":89442797,"body_markdown":"@RaymondNijland, Now the logic is. All data from the TEST table is unloaded.users. The pairs are then split into 2,000 elements and sent to a separate thread for processing. The following happens in the stream: for each pair &lt;login, password&gt; two queries are made to the tables. Further, two options are possible. The result of the first table is empty, a certain logic is Made, an entry in the log, notification of the administrator. The result of the selection from the first table is not equal to the second. Another entry is made in the log. Otherwise miss.","body":"@RaymondNijland, Now the logic is. All data from the TEST table is unloaded.users. The pairs are then split into 2,000 elements and sent to a separate thread for processing. The following happens in the stream: for each pair &lt;login, password&gt; two queries are made to the tables. Further, two options are possible. The result of the first table is empty, a certain logic is Made, an entry in the log, notification of the administrator. The result of the selection from the first table is not equal to the second. Another entry is made in the log. Otherwise miss."},{"owner":{"account_id":2782706,"reputation":11516,"user_id":2548147,"display_name":"Raymond Nijland"},"score":0,"creation_date":1531052224,"post_id":51231400,"comment_id":89442891,"body_markdown":"&quot;The following happens in the stream: for each pair &lt;login, password&gt; two queries are made to the tables.&quot; wierd approach so the application would fire 400 million queries for the 200 million users assuming the application could hold 200 million users in memory. Time to show the database structure some example data on sqlfiddle or db-fiddle (note don&#39;t post real user password hashes there), And explain the results you need and make a formatted text output..","body":"&quot;The following happens in the stream: for each pair &lt;login, password&gt; two queries are made to the tables.&quot; wierd approach so the application would fire 400 million queries for the 200 million users assuming the application could hold 200 million users in memory. Time to show the database structure some example data on sqlfiddle or db-fiddle (note don&#39;t post real user password hashes there), And explain the results you need and make a formatted text output.."},{"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"score":0,"creation_date":1531069992,"post_id":51231400,"comment_id":89447657,"body_markdown":"@RaymondNijland, I updated my question.See please","body":"@RaymondNijland, I updated my question.See please"}],"answers":[{"tags":[],"owner":{"account_id":3005107,"reputation":1796,"user_id":2549778,"display_name":"Jacob"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1531438257,"creation_date":1531048910,"answer_id":51231472,"question_id":51231400,"body_markdown":"Instead of Lists.partition(users, 2000) in Java side, you should limit your mysql resultset to 2000 per request.\r\n\r\n    select UserPropertyKindId, login from TEST.users limit &lt;offset&gt;, 2000;\r\n\r\nUpdate: as mentioned by Raymond Nijland in the comment below, if the offset is too large, the query could be significantly slowed down.\r\n\r\nOne workaround could be instead of using offset, introduce a where statement such as where id &gt; last_user_id. \r\n\r\nSince @All_safe commented below, an autoincrement id doesn&#39;t exist, another workaround for the large limit offset is that: fetch the primary key only in subquery and then join back to main table. This will force mysql to not do early rows lookup, which is the main problem of large offset limit.\r\n\r\nBut your original query only fetch primary key columns, I don&#39;t think early rows lookups applies.","title":"Getting data from a very large table","body":"<p>Instead of Lists.partition(users, 2000) in Java side, you should limit your mysql resultset to 2000 per request.</p>\n\n<pre><code>select UserPropertyKindId, login from TEST.users limit &lt;offset&gt;, 2000;\n</code></pre>\n\n<p>Update: as mentioned by Raymond Nijland in the comment below, if the offset is too large, the query could be significantly slowed down.</p>\n\n<p>One workaround could be instead of using offset, introduce a where statement such as where id > last_user_id. </p>\n\n<p>Since @All_safe commented below, an autoincrement id doesn't exist, another workaround for the large limit offset is that: fetch the primary key only in subquery and then join back to main table. This will force mysql to not do early rows lookup, which is the main problem of large offset limit.</p>\n\n<p>But your original query only fetch primary key columns, I don't think early rows lookups applies.</p>\n"},{"tags":[],"owner":{"account_id":1079010,"reputation":139,"user_id":1076527,"display_name":"microsaurus_dex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531051824,"creation_date":1531051824,"answer_id":51231865,"question_id":51231400,"body_markdown":"You can bake your priority into the query \r\ne.g., `WHERE my_priority = 1 ORDER BY my_sub_priority DESC`\r\n\r\nAND LIKE Jacob said, use limits `LIMIT 0, 2000`\r\n\r\nYou can probably break up the logic in inconsistent_users to look for specific defects and then optimize those queries with insights gained in EXPLAIN. Maybe a find_user_defect(defect) kind of approach will help you process users setwise. \r\n","title":"Getting data from a very large table","body":"<p>You can bake your priority into the query \ne.g., <code>WHERE my_priority = 1 ORDER BY my_sub_priority DESC</code></p>\n\n<p>AND LIKE Jacob said, use limits <code>LIMIT 0, 2000</code></p>\n\n<p>You can probably break up the logic in inconsistent_users to look for specific defects and then optimize those queries with insights gained in EXPLAIN. Maybe a find_user_defect(defect) kind of approach will help you process users setwise. </p>\n"},{"tags":[],"owner":{"account_id":9524880,"reputation":458,"user_id":7078384,"accept_rate":75,"display_name":"Fredy Fischer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531115989,"creation_date":1531115989,"answer_id":51239022,"question_id":51231400,"body_markdown":"I&#39;ve run into a similar situation. I&#39;m reading data from a a MySQL DB and copy it into an MS SQL Server DB. Not 200Million, only 4 Millions a day. But I had the same error message with the communication link failure. I could solve it by setting the fetchsize of the PreparedStatement.setFetchSize(Integer.MIN_VALUE); \r\nSo the communication link failure disappeared. I know, this does not solve your list problem. ","title":"Getting data from a very large table","body":"<p>I've run into a similar situation. I'm reading data from a a MySQL DB and copy it into an MS SQL Server DB. Not 200Million, only 4 Millions a day. But I had the same error message with the communication link failure. I could solve it by setting the fetchsize of the PreparedStatement.setFetchSize(Integer.MIN_VALUE); \nSo the communication link failure disappeared. I know, this does not solve your list problem. </p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1531388335,"creation_date":1531384219,"answer_id":51300771,"question_id":51231400,"body_markdown":"You should handle this on several levels:\r\n\r\n### JDBC driver fetch size\r\n\r\nJDBC has a [`Statement.setFetchSize()`][1] method, which indicates how many rows are going to be pre-fetched by the JDBC driver prior to you getting them from JDBC. Note that MySQL JDBC drivers don&#39;t really implement this correctly, but you can set `setFetchSize(Integer.MIN_VALUE)` to prevent it from fetching all rows in one go. [See also this answer here][2].\r\n\r\nNote, you may also activate the feature on your connection using [`useCursorFetch`][3]\r\n\r\n### Your own logic\r\n\r\nYou should not put the entire list of users in memory. What you&#39;re doing right now is collecting all the rows from JDBC and then partitioning your list later on using `Lists.partition(users, 2000)`. This is going in the right direction, but you&#39;re not doing it right yet. Instead, do:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    try (ResultSet rs = cs.executeQuery()) {\r\n        while (rs.next()) {\r\n            res.add(new ImmutablePair&lt;&gt;(rs.getLong(1), rs.getString(2)));\r\n        }\r\n\r\n        // Process a batch of rows:\r\n        if (res.size() &gt;= 2000) {\r\n            process(res);\r\n            res.clear();\r\n        }\r\n    }\r\n\r\n    // Process the remaining rows\r\n    process(res);\r\n\r\nThe important message here is to not load all rows in memory *and then* process them in batches, but to process them directly while streaming rows from JDBC.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/sql/Statement.html#setFetchSize(int)\r\n  [2]: https://stackoverflow.com/a/26053667/521799\r\n  [3]: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-configuration-properties.html","title":"Getting data from a very large table","body":"<p>You should handle this on several levels:</p>\n\n<h3>JDBC driver fetch size</h3>\n\n<p>JDBC has a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/sql/Statement.html#setFetchSize(int)\" rel=\"noreferrer\"><code>Statement.setFetchSize()</code></a> method, which indicates how many rows are going to be pre-fetched by the JDBC driver prior to you getting them from JDBC. Note that MySQL JDBC drivers don't really implement this correctly, but you can set <code>setFetchSize(Integer.MIN_VALUE)</code> to prevent it from fetching all rows in one go. <a href=\"https://stackoverflow.com/a/26053667/521799\">See also this answer here</a>.</p>\n\n<p>Note, you may also activate the feature on your connection using <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-configuration-properties.html\" rel=\"noreferrer\"><code>useCursorFetch</code></a></p>\n\n<h3>Your own logic</h3>\n\n<p>You should not put the entire list of users in memory. What you're doing right now is collecting all the rows from JDBC and then partitioning your list later on using <code>Lists.partition(users, 2000)</code>. This is going in the right direction, but you're not doing it right yet. Instead, do:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try (ResultSet rs = cs.executeQuery()) {\n    while (rs.next()) {\n        res.add(new ImmutablePair&lt;&gt;(rs.getLong(1), rs.getString(2)));\n    }\n\n    // Process a batch of rows:\n    if (res.size() &gt;= 2000) {\n        process(res);\n        res.clear();\n    }\n}\n\n// Process the remaining rows\nprocess(res);\n</code></pre>\n\n<p>The important message here is to not load all rows in memory <em>and then</em> process them in batches, but to process them directly while streaming rows from JDBC.</p>\n"},{"tags":[],"owner":{"account_id":11602657,"reputation":99,"user_id":8499316,"display_name":"Pritam Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682012462,"creation_date":1682012462,"answer_id":76066885,"question_id":51231400,"body_markdown":"Once you create jdbcTemplate, set it&#39;s fetchSize property which is important for processing large result sets.\r\n\r\n    jdbcTemplate.setFetchSize(50000);","title":"Getting data from a very large table","body":"<p>Once you create jdbcTemplate, set it's fetchSize property which is important for processing large result sets.</p>\n<pre><code>jdbcTemplate.setFetchSize(50000);\n</code></pre>\n"}],"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7505,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":51300771,"answer_count":5,"score":4,"last_activity_date":1682012462,"creation_date":1531048384,"question_id":51231400,"body_markdown":"I have a very large table in a MySQL database, 200 million records in table `Users`.\r\n\r\nI make query, using JDBC:\r\n\r\n    public List&lt;Pair&lt;Long, String&gt;&gt; getUsersAll() throws SQLException {\r\n            Connection cnn = null;\r\n            CallableStatement cs = null;\r\n            ResultSet rs = null;\r\n            final List&lt;Pair&lt;Long, String&gt;&gt; res = new ArrayList&lt;&gt;();\r\n            try {\r\n                cnn = dataSource.getConnection();\r\n                cs = cnn.prepareCall(&quot;select UserPropertyKindId, login from TEST.users;&quot;);\r\n                rs = cs.executeQuery();\r\n                while (rs.next()) {\r\n                    res.add(new ImmutablePair&lt;&gt;(rs.getLong(1), rs.getString(2)));\r\n                }\r\n                return res;\r\n            } catch (SQLException ex) {\r\n                throw ex;\r\n            } finally {\r\n                DbUtils.closeQuietly(cnn, cs, rs);\r\n            }\r\n        }\r\n\r\nNext, I process the result:\r\n\r\n    List&lt;Pair&lt;Long, String&gt;&gt; users= dao.getUsersAll();\r\n                if (CollectionUtils.isNotEmpty(users)) {\r\n                    for (List&lt;Pair&lt;Long, String&gt;&gt; partition : Lists.partition(users, 2000)) {\r\n                        InconsistsUsers.InconsistsUsersCallable callable = new InconsistsUsers.InconsistsUsersCallable (new ArrayList&lt;&gt;(partition));\r\n                        processExecutor.submit(callable);\r\n                    }\r\n                }\r\n\r\nBut since the table is very large and it is all unloaded into memory, my application crashes with an error:\r\n\r\n&gt; com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n&gt;\r\n&gt; The last packet successfully received from the server was 105,619 milliseconds ago.\r\n\r\nHow can I receive data in parts and process them in order of priority, so as not to upload all the result into memory at once? It may be possible to create a cursor and upload data to a non-blocking queue and process it as the data arrives. How can this be done?\r\n\r\n**UPDATE:**\r\n\r\nMy DB structure: https://www.db-fiddle.com/f/v377ZHkG1YZcdQsETtPm9L/3\r\n\r\nCurrent algorithm:\r\n\r\n1. Get all data users from `Users` table: `select UserPropertyKindId, login from Users;`\r\n\r\n2. This result is split for 2000 pairs and submit to `ThreadPoolTaskExecutor`:\r\n\r\n        List&lt;Pair&lt;Long, String&gt;&gt; users= dao.getUsersAll();\r\n\r\n        if (CollectionUtils.isNotEmpty(users)) {\r\n            for (List&lt;Pair&lt;Long, String&gt;&gt; partition : Lists.partition(users, 2000)) {\r\n                InconsistsUsers.InconsistsUsersCallable callable = new InconsistsUsers.InconsistsUsersCallable(new ArrayList&lt;&gt;(partition));\r\n                processExecutor.submit(callable));\r\n            }\r\n        }\r\n\r\n3. In callable for each pair make two queries:\r\n\r\n  First query: \r\n\r\n        select distinct entityId \r\n        from UserPropertyValue \r\n        where userPropertyKindId= ? and value = ? -- value its login from Users table\r\n\r\n  Second query:\r\n\r\n        select UserIds \r\n        from UserPropertyIndex \r\n        where UserPropertyKindId = ? and Value = ?\r\n\r\nTwo cases are possible:\r\n\r\n1. Result of first query is empty: logging, send notification, continue to next pair\r\n2. Result of second query is not equal to the result of the first query (varbinary data decoded. There are stored encoded entityId&#39;s). Then logging, send notification, go to next pair.\r\n\r\nI can&#39;t change the structure of the base. All the manipulations I have to do on the Java code side.\r\n\r\n","title":"Getting data from a very large table","body":"<p>I have a very large table in a MySQL database, 200 million records in table <code>Users</code>.</p>\n\n<p>I make query, using JDBC:</p>\n\n<pre><code>public List&lt;Pair&lt;Long, String&gt;&gt; getUsersAll() throws SQLException {\n        Connection cnn = null;\n        CallableStatement cs = null;\n        ResultSet rs = null;\n        final List&lt;Pair&lt;Long, String&gt;&gt; res = new ArrayList&lt;&gt;();\n        try {\n            cnn = dataSource.getConnection();\n            cs = cnn.prepareCall(\"select UserPropertyKindId, login from TEST.users;\");\n            rs = cs.executeQuery();\n            while (rs.next()) {\n                res.add(new ImmutablePair&lt;&gt;(rs.getLong(1), rs.getString(2)));\n            }\n            return res;\n        } catch (SQLException ex) {\n            throw ex;\n        } finally {\n            DbUtils.closeQuietly(cnn, cs, rs);\n        }\n    }\n</code></pre>\n\n<p>Next, I process the result:</p>\n\n<pre><code>List&lt;Pair&lt;Long, String&gt;&gt; users= dao.getUsersAll();\n            if (CollectionUtils.isNotEmpty(users)) {\n                for (List&lt;Pair&lt;Long, String&gt;&gt; partition : Lists.partition(users, 2000)) {\n                    InconsistsUsers.InconsistsUsersCallable callable = new InconsistsUsers.InconsistsUsersCallable (new ArrayList&lt;&gt;(partition));\n                    processExecutor.submit(callable);\n                }\n            }\n</code></pre>\n\n<p>But since the table is very large and it is all unloaded into memory, my application crashes with an error:</p>\n\n<blockquote>\n  <p>com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure</p>\n  \n  <p>The last packet successfully received from the server was 105,619 milliseconds ago.</p>\n</blockquote>\n\n<p>How can I receive data in parts and process them in order of priority, so as not to upload all the result into memory at once? It may be possible to create a cursor and upload data to a non-blocking queue and process it as the data arrives. How can this be done?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>My DB structure: <a href=\"https://www.db-fiddle.com/f/v377ZHkG1YZcdQsETtPm9L/3\" rel=\"nofollow noreferrer\">https://www.db-fiddle.com/f/v377ZHkG1YZcdQsETtPm9L/3</a></p>\n\n<p>Current algorithm:</p>\n\n<ol>\n<li><p>Get all data users from <code>Users</code> table: <code>select UserPropertyKindId, login from Users;</code></p></li>\n<li><p>This result is split for 2000 pairs and submit to <code>ThreadPoolTaskExecutor</code>:</p>\n\n<pre><code>List&lt;Pair&lt;Long, String&gt;&gt; users= dao.getUsersAll();\n\nif (CollectionUtils.isNotEmpty(users)) {\n    for (List&lt;Pair&lt;Long, String&gt;&gt; partition : Lists.partition(users, 2000)) {\n        InconsistsUsers.InconsistsUsersCallable callable = new InconsistsUsers.InconsistsUsersCallable(new ArrayList&lt;&gt;(partition));\n        processExecutor.submit(callable));\n    }\n}\n</code></pre></li>\n<li><p>In callable for each pair make two queries:</p>\n\n<p>First query: </p>\n\n<pre><code>select distinct entityId \nfrom UserPropertyValue \nwhere userPropertyKindId= ? and value = ? -- value its login from Users table\n</code></pre>\n\n<p>Second query:</p>\n\n<pre><code>select UserIds \nfrom UserPropertyIndex \nwhere UserPropertyKindId = ? and Value = ?\n</code></pre></li>\n</ol>\n\n<p>Two cases are possible:</p>\n\n<ol>\n<li>Result of first query is empty: logging, send notification, continue to next pair</li>\n<li>Result of second query is not equal to the result of the first query (varbinary data decoded. There are stored encoded entityId's). Then logging, send notification, go to next pair.</li>\n</ol>\n\n<p>I can't change the structure of the base. All the manipulations I have to do on the Java code side.</p>\n"},{"tags":["java","junit","annotations"],"comments":[{"owner":{"account_id":4118,"reputation":5853,"user_id":6094,"accept_rate":100,"display_name":"Peter"},"score":0,"creation_date":1239258498,"post_id":733037,"comment_id":544572,"body_markdown":"Can you confirm what version of junit you have in your classpath?","body":"Can you confirm what version of junit you have in your classpath?"},{"owner":{"account_id":29234,"reputation":1062,"user_id":78823,"accept_rate":79,"display_name":"Lynden Shields"},"score":1,"creation_date":1239258668,"post_id":733037,"comment_id":544578,"body_markdown":"I have JUnit 4.5 in classpath","body":"I have JUnit 4.5 in classpath"}],"answers":[{"tags":[],"owner":{"account_id":5866,"reputation":6843,"user_id":9641,"accept_rate":25,"display_name":"Vladimir"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1239258881,"creation_date":1239258250,"answer_id":733042,"question_id":733037,"body_markdown":"the method [must be static][1] and not directly call fail (otherwise the other methods won&#39;t be executed).\r\n\r\nThe following class shows all the standard JUnit 4 method types:\r\n\r\n    public class Sample {\r\n    \r\n        @BeforeClass\r\n        public static void beforeClass() {\r\n            System.out.println(&quot;@BeforeClass&quot;);\r\n        }\r\n    \r\n        @Before\r\n        public void before() {\r\n            System.out.println(&quot;@Before&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void test() {\r\n            System.out.println(&quot;@Test&quot;);\r\n        }\r\n    \r\n        @After\r\n        public void after() {\r\n            System.out.println(&quot;@After&quot;);\r\n        }\r\n    \r\n        @AfterClass\r\n        public static void afterClass() {\r\n            System.out.println(&quot;@AfterClass&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nand the ouput is (not surprisingly):\r\n\r\n    @BeforeClass\r\n    @Before\r\n    @Test\r\n    @After\r\n    @AfterClass\r\n\r\n  [1]: http://junit.org/junit/javadoc/4.5/org/junit/BeforeClass.html","title":"Why isn&#39;t my @BeforeClass method running?","body":"<p>the method <a href=\"http://junit.org/junit/javadoc/4.5/org/junit/BeforeClass.html\" rel=\"noreferrer\">must be static</a> and not directly call fail (otherwise the other methods won't be executed).</p>\n\n<p>The following class shows all the standard JUnit 4 method types:</p>\n\n<pre><code>public class Sample {\n\n    @BeforeClass\n    public static void beforeClass() {\n        System.out.println(\"@BeforeClass\");\n    }\n\n    @Before\n    public void before() {\n        System.out.println(\"@Before\");\n    }\n\n    @Test\n    public void test() {\n        System.out.println(\"@Test\");\n    }\n\n    @After\n    public void after() {\n        System.out.println(\"@After\");\n    }\n\n    @AfterClass\n    public static void afterClass() {\n        System.out.println(\"@AfterClass\");\n    }\n\n}\n</code></pre>\n\n<p>and the ouput is (not surprisingly):</p>\n\n<pre><code>@BeforeClass\n@Before\n@Test\n@After\n@AfterClass\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"down_vote_count":0,"up_vote_count":72,"is_accepted":true,"score":72,"last_activity_date":1239266785,"creation_date":1239266785,"answer_id":733358,"question_id":733037,"body_markdown":"do NOT extend TestCase AND use annotations at the same time!  \r\nIf you need to create a test suite with annotations, use the RunWith annotation like:\r\n\r\n    @RunWith(Suite.class)\r\n    @Suite.SuiteClasses({ MyTests.class, OtherTest.class })\r\n    public class AllTests {\r\n        // empty\r\n    }\r\n\r\n\r\n    public class MyTests {  // no extends here\r\n        @BeforeClass\r\n        public static void setUpOnce() throws InterruptedException {\r\n            ...\r\n        @Test\r\n        ...\r\n\r\n*(by convention: class names with uppercase letter)*","title":"Why isn&#39;t my @BeforeClass method running?","body":"<p>do NOT extend TestCase AND use annotations at the same time!<br>\nIf you need to create a test suite with annotations, use the RunWith annotation like:</p>\n\n<pre><code>@RunWith(Suite.class)\n@Suite.SuiteClasses({ MyTests.class, OtherTest.class })\npublic class AllTests {\n    // empty\n}\n\n\npublic class MyTests {  // no extends here\n    @BeforeClass\n    public static void setUpOnce() throws InterruptedException {\n        ...\n    @Test\n    ...\n</code></pre>\n\n<p><em>(by convention: class names with uppercase letter)</em></p>\n"},{"tags":[],"owner":{"account_id":2326776,"reputation":2336,"user_id":2041082,"display_name":"shacharsol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427725666,"creation_date":1427725666,"answer_id":29348868,"question_id":733037,"body_markdown":"In order that the before annotated function will run , I had to do the following:\r\nIf you use Maven , add a dependency to Junit 4.11+:\r\n\r\n          &lt;properties&gt;\r\n                  &lt;version.java&gt;1.7&lt;/version.java&gt;\r\n                  &lt;version.log4j&gt;1.2.13&lt;/version.log4j&gt;\r\n                  &lt;version.mockito&gt;1.9.0&lt;/version.mockito&gt;\r\n                  &lt;version.power-mockito&gt;1.4.12&lt;/version.power-mockito&gt;\r\n                   &lt;version.junit&gt;4.11&lt;/version.junit&gt;   \r\n                  &lt;version.power-mockito&gt;1.4.12&lt;/version.power-mockito&gt;\r\n          &lt;/properties&gt;           \r\n\r\nand the dependency:\r\n         \r\n          &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n             &lt;groupId&gt;junit&lt;/groupId&gt;\r\n             &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n             &lt;version&gt;${version.junit}&lt;/version&gt;\r\n             &lt;scope&gt;test&lt;/scope&gt;\r\n           &lt;/dependency&gt;    \r\n            .\r\n            .\r\n            .\r\n          &lt;/dependencies&gt;\r\n\r\n       \r\nMake sure your Junit Test class is not extending The TestCase class, since this will cause overlapping with Older version:\r\n\r\n\r\n    public class TuxedoExceptionMapperTest{\r\n       protected TuxedoExceptionMapper subject;\r\n\r\n       @Before\r\n       public void before() throws Exception {\r\n         subject = TuxedoExceptionMapper.getInstance();\r\n          System.out.println(&quot;Start&quot;);\r\n          MockitoAnnotations.initMocks(this);\r\n       }\r\n    }","title":"Why isn&#39;t my @BeforeClass method running?","body":"<p>In order that the before annotated function will run , I had to do the following:\nIf you use Maven , add a dependency to Junit 4.11+:</p>\n\n<pre><code>      &lt;properties&gt;\n              &lt;version.java&gt;1.7&lt;/version.java&gt;\n              &lt;version.log4j&gt;1.2.13&lt;/version.log4j&gt;\n              &lt;version.mockito&gt;1.9.0&lt;/version.mockito&gt;\n              &lt;version.power-mockito&gt;1.4.12&lt;/version.power-mockito&gt;\n               &lt;version.junit&gt;4.11&lt;/version.junit&gt;   \n              &lt;version.power-mockito&gt;1.4.12&lt;/version.power-mockito&gt;\n      &lt;/properties&gt;           \n</code></pre>\n\n<p>and the dependency:</p>\n\n<pre><code>      &lt;dependencies&gt;\n        &lt;dependency&gt;\n         &lt;groupId&gt;junit&lt;/groupId&gt;\n         &lt;artifactId&gt;junit&lt;/artifactId&gt;\n         &lt;version&gt;${version.junit}&lt;/version&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n       &lt;/dependency&gt;    \n        .\n        .\n        .\n      &lt;/dependencies&gt;\n</code></pre>\n\n<p>Make sure your Junit Test class is not extending The TestCase class, since this will cause overlapping with Older version:</p>\n\n<pre><code>public class TuxedoExceptionMapperTest{\n   protected TuxedoExceptionMapper subject;\n\n   @Before\n   public void before() throws Exception {\n     subject = TuxedoExceptionMapper.getInstance();\n      System.out.println(\"Start\");\n      MockitoAnnotations.initMocks(this);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2035621,"reputation":29377,"user_id":1818045,"accept_rate":89,"display_name":"ben75"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459501590,"creation_date":1459501590,"answer_id":36352214,"question_id":733037,"body_markdown":"Make sure that :\r\n\r\n- Your test class doesn&#39;t inherits from TestCase\r\n- The @BeforeClass method is static\r\n- You don&#39;t have more than one @BeforeClass method in test class hierarchy (only the most specialized @BeforeClass method will be executed)","title":"Why isn&#39;t my @BeforeClass method running?","body":"<p>Make sure that :</p>\n\n<ul>\n<li>Your test class doesn't inherits from TestCase</li>\n<li>The @BeforeClass method is static</li>\n<li>You don't have more than one @BeforeClass method in test class hierarchy (only the most specialized @BeforeClass method will be executed)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2192769,"reputation":211,"user_id":1939320,"display_name":"Kishore"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1589384329,"creation_date":1589384329,"answer_id":61778839,"question_id":733037,"body_markdown":"Make sure you imported @Test from the correct package.\r\n\r\n - Correct package: org.junit.Test\r\n - Incorrect pacakge: org.junit.jupiter.api.Test\r\n\r\nPlease note that this is a solution for: If your @Before, @Atter, etc did not get called at all.","title":"Why isn&#39;t my @BeforeClass method running?","body":"<p>Make sure you imported @Test from the correct package.</p>\n\n<ul>\n<li>Correct package: org.junit.Test</li>\n<li>Incorrect pacakge: org.junit.jupiter.api.Test</li>\n</ul>\n\n<p>Please note that this is a solution for: If your @Before, @Atter, etc did not get called at all.</p>\n"},{"tags":[],"owner":{"account_id":14499292,"reputation":153,"user_id":10472965,"display_name":"A. Berk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609977039,"creation_date":1609977039,"answer_id":65604840,"question_id":733037,"body_markdown":"Check your imports. \r\n\r\n - @Before \r\n - @After  \r\n - @BeforeClass (this should be static)\r\n - @AfterClass  (this should be static)\r\n\r\nand @Test annotations should import from same path.","title":"Why isn&#39;t my @BeforeClass method running?","body":"<p>Check your imports.</p>\n<ul>\n<li>@Before</li>\n<li>@After</li>\n<li>@BeforeClass (this should be static)</li>\n<li>@AfterClass  (this should be static)</li>\n</ul>\n<p>and @Test annotations should import from same path.</p>\n"},{"tags":[],"owner":{"account_id":4512567,"reputation":11,"user_id":3668272,"display_name":"Amrit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682011927,"creation_date":1682011927,"answer_id":76066808,"question_id":733037,"body_markdown":"Things to check: \r\n\r\n - Junit package is: org.junit.Test\r\n - You don&#39;t have a static block. (I learned it the hard way)","title":"Why isn&#39;t my @BeforeClass method running?","body":"<p>Things to check:</p>\n<ul>\n<li>Junit package is: org.junit.Test</li>\n<li>You don't have a static block. (I learned it the hard way)</li>\n</ul>\n"}],"owner":{"account_id":29234,"reputation":1062,"user_id":78823,"accept_rate":79,"display_name":"Lynden Shields"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47995,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":733358,"answer_count":7,"score":51,"last_activity_date":1682011927,"creation_date":1239258152,"question_id":733037,"body_markdown":"I have the following code:\r\n\r\n  \r\n\r\n        @BeforeClass\r\n        public static void setUpOnce() throws InterruptedException {\r\n            fail(&quot;LOL&quot;);\r\n        }\r\n\r\nAnd various other methods that are either @Before, @After, @Test or @AfterClass methods.\r\n\r\nThe test doesn&#39;t fail on start up as it seems it should. Can someone help me please?\r\n\r\nI have JUnit 4.5\r\n\r\nThe method is failing in an immediate call to setUp() which is annotated as @before.\r\nClass def is :\r\n\r\n    public class myTests extends TestCase {","title":"Why isn&#39;t my @BeforeClass method running?","body":"<p>I have the following code:</p>\n\n<pre><code>    @BeforeClass\n    public static void setUpOnce() throws InterruptedException {\n        fail(\"LOL\");\n    }\n</code></pre>\n\n<p>And various other methods that are either @Before, @After, @Test or @AfterClass methods.</p>\n\n<p>The test doesn't fail on start up as it seems it should. Can someone help me please?</p>\n\n<p>I have JUnit 4.5</p>\n\n<p>The method is failing in an immediate call to setUp() which is annotated as @before.\nClass def is :</p>\n\n<pre><code>public class myTests extends TestCase {\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681992054,"creation_date":1681992054,"answer_id":76063819,"question_id":76063413,"body_markdown":"Below code seems to work only when the `driver` is NOT initiated with `incognito=new`.\r\n````\r\ndriver.switchTo().newWindow(WindowType.TAB);\r\n````\r\n\r\nIf you want your `driver` to be in INCOGNITO mode and want to open a new TAB, you can achieve it using Robot class as below:\r\n````\r\nChromeOptions options = new ChromeOptions();\r\noptions.addArguments(&quot;incognito=new&quot;);\r\nChromeDriver driver = new ChromeDriver(options);\r\ndriver.get(&quot;https://www.url.com&quot;);\r\n\t\t\r\nRobot rb = new Robot();\r\n// Press control keyboard key\r\nrb.keyPress(KeyEvent.VK_CONTROL);\r\n// Press T keyboard key\r\nrb.keyPress(KeyEvent.VK_T);\r\n// Release control keyboard key\r\nrb.keyRelease(KeyEvent.VK_CONTROL);\r\n// Release T keyboard key\r\nrb.keyRelease(KeyEvent.VK_T);\r\n````\r\n**Warning:** This solution using Robot class may not work in `headless` mode.","title":"How to launch a new tab in incognito mode using selenium java?","body":"<p>Below code seems to work only when the <code>driver</code> is NOT initiated with <code>incognito=new</code>.</p>\n<pre><code>driver.switchTo().newWindow(WindowType.TAB);\n</code></pre>\n<p>If you want your <code>driver</code> to be in INCOGNITO mode and want to open a new TAB, you can achieve it using Robot class as below:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;incognito=new&quot;);\nChromeDriver driver = new ChromeDriver(options);\ndriver.get(&quot;https://www.url.com&quot;);\n        \nRobot rb = new Robot();\n// Press control keyboard key\nrb.keyPress(KeyEvent.VK_CONTROL);\n// Press T keyboard key\nrb.keyPress(KeyEvent.VK_T);\n// Release control keyboard key\nrb.keyRelease(KeyEvent.VK_CONTROL);\n// Release T keyboard key\nrb.keyRelease(KeyEvent.VK_T);\n</code></pre>\n<p><strong>Warning:</strong> This solution using Robot class may not work in <code>headless</code> mode.</p>\n"}],"owner":{"account_id":28359211,"reputation":11,"user_id":21689472,"display_name":"serein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682011112,"creation_date":1681988919,"question_id":76063413,"body_markdown":"How to launch a new tab in incognito mode using selenium java? \r\nGetting following error:\r\n\r\n```none\r\n&quot;code&quot;:-32000,&quot;message&quot;:&quot;Failed to open new tab - no browser is open&quot;\r\n```\r\n\r\nI&#39;m using this code:\r\n\r\n```java\r\ndriver.switchTo().newWindow(WindowType.TAB);\r\n```","title":"How to launch a new tab in incognito mode using selenium java?","body":"<p>How to launch a new tab in incognito mode using selenium java?\nGetting following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;code&quot;:-32000,&quot;message&quot;:&quot;Failed to open new tab - no browser is open&quot;\n</code></pre>\n<p>I'm using this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.switchTo().newWindow(WindowType.TAB);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":2,"creation_date":1432241410,"post_id":30384042,"comment_id":48857298,"body_markdown":"Is the list sorted? Is this for consistent hashing?","body":"Is the list sorted? Is this for consistent hashing?"},{"owner":{"account_id":1030254,"reputation":3456,"user_id":1038709,"accept_rate":100,"display_name":"Se&#231;kin Sava&#231;"},"score":0,"creation_date":1432241424,"post_id":30384042,"comment_id":48857305,"body_markdown":"Have you heard about quicksort?","body":"Have you heard about quicksort?"},{"owner":{"account_id":405282,"reputation":22200,"user_id":774078,"accept_rate":94,"display_name":"Sterling Archer"},"score":0,"creation_date":1432241430,"post_id":30384042,"comment_id":48857308,"body_markdown":"From what I remember, via the big-O notation, a single loop is very efficient. Just return the absolute value of the subtraction, and bam, nearest number index.","body":"From what I remember, via the big-O notation, a single loop is very efficient. Just return the absolute value of the subtraction, and bam, nearest number index."},{"owner":{"account_id":3490045,"reputation":3759,"user_id":2919971,"accept_rate":100,"display_name":"MadConan"},"score":0,"creation_date":1432241435,"post_id":30384042,"comment_id":48857312,"body_markdown":"`Collections.binarySearch` is the way to go.  If the list isn&#39;t sorted, use `Collections.sort` first.","body":"<code>Collections.binarySearch</code> is the way to go.  If the list isn&#39;t sorted, use <code>Collections.sort</code> first."},{"owner":{"account_id":26078,"reputation":452381,"user_id":67579,"accept_rate":81,"display_name":"willeM_ Van Onsem"},"score":0,"creation_date":1432241486,"post_id":30384042,"comment_id":48857341,"body_markdown":"@SterlingArcher: but if the array is sorted, you can do this in logarithmic time. Which outperforms linear time nearly always and with huge difference.","body":"@SterlingArcher: but if the array is sorted, you can do this in logarithmic time. Which outperforms linear time nearly always and with huge difference."},{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":3,"creation_date":1432241498,"post_id":30384042,"comment_id":48857350,"body_markdown":"@Se&#231;kinSava&#231;: That&#39;s not the fastest if you only need the number once.","body":"@Se&#231;kinSava&#231;: That&#39;s not the fastest if you only need the number once."},{"owner":{"account_id":1030254,"reputation":3456,"user_id":1038709,"accept_rate":100,"display_name":"Se&#231;kin Sava&#231;"},"score":0,"creation_date":1432241539,"post_id":30384042,"comment_id":48857368,"body_markdown":"@DavidEhrmann I was not suggesting to sort the list. I was planning to mention about quickselect.","body":"@DavidEhrmann I was not suggesting to sort the list. I was planning to mention about quickselect."},{"owner":{"account_id":3490045,"reputation":3759,"user_id":2919971,"accept_rate":100,"display_name":"MadConan"},"score":0,"creation_date":1432241555,"post_id":30384042,"comment_id":48857377,"body_markdown":"If the list is under a certain limit, it&#39;s actually faster to just do a linear search.","body":"If the list is under a certain limit, it&#39;s actually faster to just do a linear search."},{"owner":{"account_id":405282,"reputation":22200,"user_id":774078,"accept_rate":94,"display_name":"Sterling Archer"},"score":0,"creation_date":1432241566,"post_id":30384042,"comment_id":48857387,"body_markdown":"@CommuSoft I&#39;m not sure I follow. How is sorting it going to yield a better efficiency?","body":"@CommuSoft I&#39;m not sure I follow. How is sorting it going to yield a better efficiency?"},{"owner":{"account_id":5131784,"reputation":15928,"user_id":4111710,"accept_rate":49,"display_name":"Hobbyist"},"score":0,"creation_date":1432241690,"post_id":30384042,"comment_id":48857458,"body_markdown":"The better question is, how would I sort an immutable list? Either way it&#39;s always going to be sorted in ASC order.","body":"The better question is, how would I sort an immutable list? Either way it&#39;s always going to be sorted in ASC order."},{"owner":{"account_id":26078,"reputation":452381,"user_id":67579,"accept_rate":81,"display_name":"willeM_ Van Onsem"},"score":0,"creation_date":1432241712,"post_id":30384042,"comment_id":48857475,"body_markdown":"@SterlingArcher: the example seems to imply the list is already sorted. Furthermore in case you are going to do a lot of queries, sorting the list first, will pay off in the end.","body":"@SterlingArcher: the example seems to imply the list is already sorted. Furthermore in case you are going to do a lot of queries, sorting the list first, will pay off in the end."},{"owner":{"account_id":26078,"reputation":452381,"user_id":67579,"accept_rate":81,"display_name":"willeM_ Van Onsem"},"score":0,"creation_date":1432241980,"post_id":30384042,"comment_id":48857610,"body_markdown":"@Christian.tucker: what should be returned if such number does not exists. For instance if you query `0`?","body":"@Christian.tucker: what should be returned if such number does not exists. For instance if you query <code>0</code>?"},{"owner":{"account_id":5131784,"reputation":15928,"user_id":4111710,"accept_rate":49,"display_name":"Hobbyist"},"score":0,"creation_date":1432242247,"post_id":30384042,"comment_id":48857743,"body_markdown":"@CommuSoft - An exception should be thrown.","body":"@CommuSoft - An exception should be thrown."}],"answers":[{"tags":[],"owner":{"account_id":4904091,"reputation":1206,"user_id":3951318,"display_name":"Bitcoin M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432241412,"creation_date":1432241412,"answer_id":30384070,"question_id":30384042,"body_markdown":"You can sort the list and then use a binary-search like method to find the nearest number.","title":"Most efficient way to find the nearest number in a list","body":"<p>You can sort the list and then use a binary-search like method to find the nearest number.</p>\n"},{"tags":[],"owner":{"account_id":3109445,"reputation":31,"user_id":2631544,"display_name":"rrohit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432241603,"creation_date":1432241603,"answer_id":30384121,"question_id":30384042,"body_markdown":"If the list is sorted , then you can do the Binary Search on the list and You can get your no in Log(n).","title":"Most efficient way to find the nearest number in a list","body":"<p>If the list is sorted , then you can do the Binary Search on the list and You can get your no in Log(n).</p>\n"},{"tags":[],"owner":{"account_id":26078,"reputation":452381,"user_id":67579,"accept_rate":81,"display_name":"willeM_ Van Onsem"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1432243381,"creation_date":1432241777,"answer_id":30384159,"question_id":30384042,"body_markdown":"# Generic list\r\n\r\nIf nothing is known about the list, iterating over the list and memorizing the currently best solution is indeed the most efficient one.\r\n\r\nIf you however plan to do such query thousands of times, you might first sort the list.\r\n\r\n# Sorted list\r\n\r\nIf the list is sorted you can use the [`binarySearch(List&lt;? extends Comparable&lt;? super T&gt;&gt; list, T key)`](http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#binarySearch%28java.util.List,%20T%29) method. This method returns the *insertion point of a new element*. In case the element exists, a positive index of that element is returned. Otherwise the *bitwise negation* of the insertion index is returned.\r\n\r\nYou can then call it with:\r\n\r\n    //only to be used if list is sorted (a priori)\r\n    public int closestValue (List&lt;Integer&gt; list, int value) {\r\n        int index = Collections.binarySearch(list,value);\r\n        if(index &lt; 0) {\r\n            index = ~index-1;\r\n        }\r\n        return list.get(index);\r\n    }\r\n\r\n[**jdoodle demo**](http://jdoodle.com/a/nY).\r\n\r\nThe method will throw an [`IndexOutOfBoundsException`](http://docs.oracle.com/javase/7/docs/api/java/lang/IndexOutOfBoundsException.html) in case there is no such element.\r\n\r\n*Binary search* can be done in *O(log n)*, but only - as said before - if the list is sorted.","title":"Most efficient way to find the nearest number in a list","body":"<h1>Generic list</h1>\n\n<p>If nothing is known about the list, iterating over the list and memorizing the currently best solution is indeed the most efficient one.</p>\n\n<p>If you however plan to do such query thousands of times, you might first sort the list.</p>\n\n<h1>Sorted list</h1>\n\n<p>If the list is sorted you can use the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#binarySearch%28java.util.List,%20T%29\" rel=\"nofollow\"><code>binarySearch(List&lt;? extends Comparable&lt;? super T&gt;&gt; list, T key)</code></a> method. This method returns the <em>insertion point of a new element</em>. In case the element exists, a positive index of that element is returned. Otherwise the <em>bitwise negation</em> of the insertion index is returned.</p>\n\n<p>You can then call it with:</p>\n\n<pre><code>//only to be used if list is sorted (a priori)\npublic int closestValue (List&lt;Integer&gt; list, int value) {\n    int index = Collections.binarySearch(list,value);\n    if(index &lt; 0) {\n        index = ~index-1;\n    }\n    return list.get(index);\n}\n</code></pre>\n\n<p><a href=\"http://jdoodle.com/a/nY\" rel=\"nofollow\"><strong>jdoodle demo</strong></a>.</p>\n\n<p>The method will throw an <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/IndexOutOfBoundsException.html\" rel=\"nofollow\"><code>IndexOutOfBoundsException</code></a> in case there is no such element.</p>\n\n<p><em>Binary search</em> can be done in <em>O(log n)</em>, but only - as said before - if the list is sorted.</p>\n"},{"tags":[],"owner":{"account_id":1342065,"reputation":49,"user_id":1283559,"display_name":"user1283559"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1432242003,"creation_date":1432242003,"answer_id":30384234,"question_id":30384042,"body_markdown":"Create a HashMap the size of your maximum value, then fill the map with key pair of the expected result. i.e map.put(6,5);map.put(7,5) and so on.\r\n\r\nAfter that getting the correct value will be in O(1).\r\n\r\nOf course the creation of the Map will take more time and recourse but over a infinite amount of time this will yield the fastest result. ","title":"Most efficient way to find the nearest number in a list","body":"<p>Create a HashMap the size of your maximum value, then fill the map with key pair of the expected result. i.e map.put(6,5);map.put(7,5) and so on.</p>\n\n<p>After that getting the correct value will be in O(1).</p>\n\n<p>Of course the creation of the Map will take more time and recourse but over a infinite amount of time this will yield the fastest result. </p>\n"},{"tags":[],"owner":{"account_id":28266484,"reputation":1,"user_id":21610368,"display_name":"Robert Otto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682010953,"creation_date":1682010499,"answer_id":76066650,"question_id":30384042,"body_markdown":"use ConcurrentSkipListSet, and floor(value) to get the value less than or equal to the value specified.\r\nfloor returns null if value argument is less than first value.","title":"Most efficient way to find the nearest number in a list","body":"<p>use ConcurrentSkipListSet, and floor(value) to get the value less than or equal to the value specified.\nfloor returns null if value argument is less than first value.</p>\n"}],"owner":{"account_id":5131784,"reputation":15928,"user_id":4111710,"accept_rate":49,"display_name":"Hobbyist"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1816,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30384159,"answer_count":5,"score":1,"last_activity_date":1682010953,"creation_date":1432241280,"question_id":30384042,"body_markdown":"I know what they say *pre-optimization is the root of all evil* however I&#39;m more curious here as to what is the most efficient way to do this. Just a little more to the knowledge pool, you know?\r\n\r\nBasically I have a collection of integers, like so:\r\n\r\n    final List&lt;Integer&gt; list = ImmutableList.of(1, 5, 10, 27, 57, 193);\r\n\r\nNow I want to find the nearest number, rounded down. So for example I have the number 192. So the returned value from this list will be &quot;57&quot;. Same applies if the number was 58. It just finds the next lowest number.\r\n\r\nCurrently I&#39;m looping through the list starting from the end, using a `for` then returning the index of the list, which would be the number that I want. I&#39;m just curious as to if there&#39;s a more efficient way to do this.","title":"Most efficient way to find the nearest number in a list","body":"<p>I know what they say <em>pre-optimization is the root of all evil</em> however I'm more curious here as to what is the most efficient way to do this. Just a little more to the knowledge pool, you know?</p>\n\n<p>Basically I have a collection of integers, like so:</p>\n\n<pre><code>final List&lt;Integer&gt; list = ImmutableList.of(1, 5, 10, 27, 57, 193);\n</code></pre>\n\n<p>Now I want to find the nearest number, rounded down. So for example I have the number 192. So the returned value from this list will be \"57\". Same applies if the number was 58. It just finds the next lowest number.</p>\n\n<p>Currently I'm looping through the list starting from the end, using a <code>for</code> then returning the index of the list, which would be the number that I want. I'm just curious as to if there's a more efficient way to do this.</p>\n"},{"tags":["java","shell"],"comments":[{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":1,"creation_date":1682010885,"post_id":76066678,"comment_id":134152444,"body_markdown":"What you _return_ goes in `$?`. What `$(...)` captures is stdout, not $?. And when you use `typeset -i` you&#39;re making non-numeric data be ignored/misinterpreted.","body":"What you <i>return</i> goes in <code>$?</code>. What <code>$(...)</code> captures is stdout, not $?. And when you use <code>typeset -i</code> you&#39;re making non-numeric data be ignored/misinterpreted."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1682010946,"post_id":76066678,"comment_id":134152461,"body_markdown":"That is all to say, you want `java -jar tfs.jar -cp tfs/build/classes/java/main com.example.tfs.TfsApplication; result=$?`","body":"That is all to say, you want <code>java -jar tfs.jar -cp tfs&#47;build&#47;classes&#47;java&#47;main com.example.tfs.TfsApplication; result=$?</code>"},{"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"score":0,"creation_date":1682011010,"post_id":76066678,"comment_id":134152479,"body_markdown":"I expected java -jar tfs.jar ..... return  1. So I expected result=1","body":"I expected java -jar tfs.jar ..... return  1. So I expected result=1"},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":1,"creation_date":1682011036,"post_id":76066678,"comment_id":134152487,"body_markdown":"Again, the exit status of the last thing run goes in `$?`. Therefore, if you never run `result=$?`, the 1 never gets into `result`. `$()` doesn&#39;t use/check/modify/otherwise have anything to do with exit status at all.","body":"Again, the exit status of the last thing run goes in <code>$?</code>. Therefore, if you never run <code>result=$?</code>, the 1 never gets into <code>result</code>. <code>$()</code> doesn&#39;t use/check/modify/otherwise have anything to do with exit status at all."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1682011258,"post_id":76066678,"comment_id":134152539,"body_markdown":"(And Java properties are a one-way street; they go into the JVM, but they don&#39;t come out of it; their values are destroyed when the JVM exits).","body":"(And Java properties are a one-way street; they go into the JVM, but they don&#39;t come out of it; their values are destroyed when the JVM exits)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682012528,"post_id":76066678,"comment_id":134152810,"body_markdown":"*I expected java -jar tfs.jar ..... return 1.* Why so - did you write `System.exit(1)` at the end of `main`? If you had done, then you can capture `$?` and it should be 1","body":"<i>I expected java -jar tfs.jar ..... return 1.</i> Why so - did you write <code>System.exit(1)</code> at the end of <code>main</code>? If you had done, then you can capture <code>$?</code> and it should be 1"},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1682015960,"post_id":76066678,"comment_id":134153512,"body_markdown":"@g00se, yes, the OP says they did indeed write `System.exit(1)`, but they were trying to capture the resulting exit status with a command substitution instead of referring to `$?`.","body":"@g00se, yes, the OP says they did indeed write <code>System.exit(1)</code>, but they were trying to capture the resulting exit status with a command substitution instead of referring to <code>$?</code>."}],"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682011024,"answer_count":0,"score":0,"last_activity_date":1682010787,"creation_date":1682010787,"question_id":76066678,"body_markdown":"In cluster direcory home/ I locate \r\napp.jar \r\nand run_app.sh\r\n\r\nJava application, packed in app.jar, return value as following:\r\n\r\n     System.exit(1); \r\n\r\nScript in run_app.sh:\r\n\r\n       typeset -i result\r\n       result=$(java -jar tfs.jar -cp app/build/classes/java/main com.example.tfs.Application)\r\n       echo ${result}\r\n\r\nApplication starts successfully by this script. But echo always return 0.\r\n\r\nI tried to pass the return value as property:\r\n\r\n    System.setProperty(&quot;java.return.value&quot;, String.valueOf(1));\r\n\r\nThen in shell: \r\n\r\n     typeset -i result\r\n     java -jar tfs.jar -cp tfs/build/classes/java/main com.example.tfs.TfsApplication\r\n     export java.return.value=${result}\r\n     echo ${result}\r\n\r\nIn this case echo show nothing, but also I receive the error \r\n\r\n    &#39;export java.return.value=&#39;: not a valid identificator\r\n\r\n\r\n\r\n    ","title":"Java: Return value to shell script from jar","body":"<p>In cluster direcory home/ I locate\napp.jar\nand run_app.sh</p>\n<p>Java application, packed in app.jar, return value as following:</p>\n<pre><code> System.exit(1); \n</code></pre>\n<p>Script in run_app.sh:</p>\n<pre><code>   typeset -i result\n   result=$(java -jar tfs.jar -cp app/build/classes/java/main com.example.tfs.Application)\n   echo ${result}\n</code></pre>\n<p>Application starts successfully by this script. But echo always return 0.</p>\n<p>I tried to pass the return value as property:</p>\n<pre><code>System.setProperty(&quot;java.return.value&quot;, String.valueOf(1));\n</code></pre>\n<p>Then in shell:</p>\n<pre><code> typeset -i result\n java -jar tfs.jar -cp tfs/build/classes/java/main com.example.tfs.TfsApplication\n export java.return.value=${result}\n echo ${result}\n</code></pre>\n<p>In this case echo show nothing, but also I receive the error</p>\n<pre><code>'export java.return.value=': not a valid identificator\n</code></pre>\n"},{"tags":["java","testing","struts"],"comments":[{"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"score":0,"creation_date":1593175843,"post_id":62594853,"comment_id":110695277,"body_markdown":"`Struts 2` comes up with a JUnit plugin library that makes it easier to develop unit tests for testing your Struts 2 action classes.","body":"<code>Struts 2</code> comes up with a JUnit plugin library that makes it easier to develop unit tests for testing your Struts 2 action classes."}],"answers":[{"tags":[],"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593176181,"creation_date":1593176181,"answer_id":62595224,"question_id":62594853,"body_markdown":" 1. Add a new StrutsXmlConfigurationProvider for each config file you want to add. \r\n 2. Override the StrutsTestCase setUp method.\r\n 3. If you have multiple actions in your project, create a base test class that extends StrutsTestCase and just have all your action tests extend that.\r\n\r\n \r\n**Refer to this sample implementation:**\r\n\r\n    @Override\r\n    public void setUp() throws Exception {\r\n        super.setUp();\r\n        List&lt;ContainerProvider&gt; providers = super.configurationManager.getContainerProviders();\r\n        //make one of these for each config file you want to add\r\n        StrutsXmlConfigurationProvider newConfig = new StrutsXmlConfigurationProvider(&quot;src/main/webapp/WEB-INF/classes/struts.xml&quot;, true, super.servletContext);\r\n        providers.add(newConfig);\r\n        super.configurationManager.reload();\r\n    }","title":"Testing struts 2 actions","body":"<ol>\n<li>Add a new StrutsXmlConfigurationProvider for each config file you want to add.</li>\n<li>Override the StrutsTestCase setUp method.</li>\n<li>If you have multiple actions in your project, create a base test class that extends StrutsTestCase and just have all your action tests extend that.</li>\n</ol>\n<p><strong>Refer to this sample implementation:</strong></p>\n<pre><code>@Override\npublic void setUp() throws Exception {\n    super.setUp();\n    List&lt;ContainerProvider&gt; providers = super.configurationManager.getContainerProviders();\n    //make one of these for each config file you want to add\n    StrutsXmlConfigurationProvider newConfig = new StrutsXmlConfigurationProvider(&quot;src/main/webapp/WEB-INF/classes/struts.xml&quot;, true, super.servletContext);\n    providers.add(newConfig);\n    super.configurationManager.reload();\n}\n</code></pre>\n"}],"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682010677,"creation_date":1593174802,"question_id":62594853,"body_markdown":"Guys what is the best way to test struts actions? Is there any framework someone can recommend?\r\nI just recently started working with struts, I used to use mockito for spring mvc testing, but I can&#39;t find any good source online, most of them are way too outdated.","title":"Testing struts 2 actions","body":"<p>Guys what is the best way to test struts actions? Is there any framework someone can recommend?\nI just recently started working with struts, I used to use mockito for spring mvc testing, but I can't find any good source online, most of them are way too outdated.</p>\n"},{"tags":["java","loops","methods","while-loop","switch-statement"],"comments":[{"owner":{"account_id":19185825,"reputation":611,"user_id":14016638,"display_name":"Kavindu Nilshan"},"score":0,"creation_date":1682010002,"post_id":76066239,"comment_id":134152263,"body_markdown":"There is no method called `nextChar()`. Hope you know that.","body":"There is no method called <code>nextChar()</code>. Hope you know that."}],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682008018,"creation_date":1682008018,"answer_id":76066350,"question_id":76066239,"body_markdown":"If I understood assignment properly then you can modify readChoice() method like:\r\n\r\n    public char readChoice() {\r\n        associationMenuHelp();\r\n        System.out.print(&quot;Enter a choice: &quot;);\r\n        char choice = In.nextChar();\r\n        while (choice != &#39;1&#39; &amp;&amp; choice != &#39;2&#39; &amp;&amp; choice != &#39;X&#39;) {\r\n            System.out.println(&quot;Please enter a number 1 or 2, or press X to exit.&quot;);\r\n            System.out.print(&quot;Enter a choice: &quot;);\r\n            choice = In.nextChar();\r\n        }\r\n        return choice;\r\n    }\r\n\r\nIn this modified method when the user does not put a &#39;1&#39; &#39;2&#39; or &#39;X&#39; then the loop will print what you want. Also, you can remove the default statement in assoationMenu() after this modification","title":"How to modify while loop to print extra print statement in next loops? [java]","body":"<p>If I understood assignment properly then you can modify readChoice() method like:</p>\n<pre><code>public char readChoice() {\n    associationMenuHelp();\n    System.out.print(&quot;Enter a choice: &quot;);\n    char choice = In.nextChar();\n    while (choice != '1' &amp;&amp; choice != '2' &amp;&amp; choice != 'X') {\n        System.out.println(&quot;Please enter a number 1 or 2, or press X to exit.&quot;);\n        System.out.print(&quot;Enter a choice: &quot;);\n        choice = In.nextChar();\n    }\n    return choice;\n}\n</code></pre>\n<p>In this modified method when the user does not put a '1' '2' or 'X' then the loop will print what you want. Also, you can remove the default statement in assoationMenu() after this modification</p>\n"},{"tags":[],"owner":{"account_id":19185825,"reputation":611,"user_id":14016638,"display_name":"Kavindu Nilshan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682009934,"creation_date":1682009934,"answer_id":76066581,"question_id":76066239,"body_markdown":"    public void associationMenu(){\r\n        char choice = readChoice();\r\n        while (choice  != &#39;X&#39; ){\r\n            switch (choice) {\r\n                case &#39;1&#39;: exploreTeams(); break;\r\n                case &#39;2&#39;: newSeason(); break;\r\n                // changed here\r\n                default: System.out.println(&quot;Please enter a number 1 or 2, or press X to exit.&quot;); break;\r\n            }\r\n\r\n            choice = readChoice();  // changed here\r\n        }\r\n        System.out.println(&quot;Done&quot;);\r\n    }\r\n\r\nI have changed the code in 2 places and commented on them. \r\n\r\nNote that you need to take the choice inside the `while loop` otherwise If you give input as `1` or `2` it will run on an infinite `loop`.\r\n\r\nI added a print statement to the `default` part for display `&quot;Please enter a number 1 or 2, or press X to exit.&quot;` only if the input is not equal to `1`, `2`, or `X`.\r\n","title":"How to modify while loop to print extra print statement in next loops? [java]","body":"<pre><code>public void associationMenu(){\n    char choice = readChoice();\n    while (choice  != 'X' ){\n        switch (choice) {\n            case '1': exploreTeams(); break;\n            case '2': newSeason(); break;\n            // changed here\n            default: System.out.println(&quot;Please enter a number 1 or 2, or press X to exit.&quot;); break;\n        }\n\n        choice = readChoice();  // changed here\n    }\n    System.out.println(&quot;Done&quot;);\n}\n</code></pre>\n<p>I have changed the code in 2 places and commented on them.</p>\n<p>Note that you need to take the choice inside the <code>while loop</code> otherwise If you give input as <code>1</code> or <code>2</code> it will run on an infinite <code>loop</code>.</p>\n<p>I added a print statement to the <code>default</code> part for display <code>&quot;Please enter a number 1 or 2, or press X to exit.&quot;</code> only if the input is not equal to <code>1</code>, <code>2</code>, or <code>X</code>.</p>\n"}],"owner":{"account_id":26751596,"reputation":61,"user_id":20350866,"display_name":"vishalpd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76066581,"answer_count":2,"score":1,"last_activity_date":1682009934,"creation_date":1682007236,"question_id":76066239,"body_markdown":"These current `associationMenu` uses switch statements to implement methods corresponding to the `char` input by the user. The while statement loops over untill `X` is read.\r\n\r\nI want to make some modifications such that when `X` is not the input.\r\nIt will print `&quot;Please enter a number 1 or 2, or press X to exit.&quot;`\r\nand run the method again.\r\n\r\n```java\r\npublic void associationMenu(){\r\n    char choice = readChoice();\r\n    while (choice  != &#39;X&#39; ){\r\n        switch (choice) {\r\n            case &#39;1&#39;: exploreTeams(); break;\r\n            case &#39;2&#39;: newSeason(); break;\r\n            default: associationMenu(); break;\r\n        }\r\n    }\r\n    System.out.println(&quot;Done&quot;);\r\n}\r\n```\r\n\r\n\r\n```java\r\npublic char readChoice() {\r\n    associationMenuHelp(); //prints first 4 lines of Sample I/O shown below\r\n    System.out.print(&quot;Enter a choice: &quot;);\r\n    return In.nextChar();\r\n}\r\n```\r\n\r\nSample I/O\r\n\r\n    Welcome to the Association! Please make a selection from the menu:\r\n    1. Explore the teams.\r\n    2. Arrange a new season.\r\n    X. Exit the system.\r\n    Enter a choice: x\r\n    Please enter a number 1 or 2, or press X to exit.\r\n    Welcome to the Association! Please make a selection from the menu:\r\n    1. Explore the teams.\r\n    2. Arrange a new season.\r\n    X. Exit the system.\r\n    Enter a choice: X\r\n    Done","title":"How to modify while loop to print extra print statement in next loops? [java]","body":"<p>These current <code>associationMenu</code> uses switch statements to implement methods corresponding to the <code>char</code> input by the user. The while statement loops over untill <code>X</code> is read.</p>\n<p>I want to make some modifications such that when <code>X</code> is not the input.\nIt will print <code>&quot;Please enter a number 1 or 2, or press X to exit.&quot;</code>\nand run the method again.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void associationMenu(){\n    char choice = readChoice();\n    while (choice  != 'X' ){\n        switch (choice) {\n            case '1': exploreTeams(); break;\n            case '2': newSeason(); break;\n            default: associationMenu(); break;\n        }\n    }\n    System.out.println(&quot;Done&quot;);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public char readChoice() {\n    associationMenuHelp(); //prints first 4 lines of Sample I/O shown below\n    System.out.print(&quot;Enter a choice: &quot;);\n    return In.nextChar();\n}\n</code></pre>\n<p>Sample I/O</p>\n<pre><code>Welcome to the Association! Please make a selection from the menu:\n1. Explore the teams.\n2. Arrange a new season.\nX. Exit the system.\nEnter a choice: x\nPlease enter a number 1 or 2, or press X to exit.\nWelcome to the Association! Please make a selection from the menu:\n1. Explore the teams.\n2. Arrange a new season.\nX. Exit the system.\nEnter a choice: X\nDone\n</code></pre>\n"},{"tags":["java","multithreading","completable-future"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1682008879,"post_id":76066356,"comment_id":134151993,"body_markdown":"Speculating, but possibly related to `main` ending (so the whole program ends) before the `CompleteFuture` has a chance to run.  It might also depends on if the thread pool creates the workers as a daemon or non-daemon thread.","body":"Speculating, but possibly related to <code>main</code> ending (so the whole program ends) before the <code>CompleteFuture</code> has a chance to run.  It might also depends on if the thread pool creates the workers as a daemon or non-daemon thread."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1682009141,"post_id":76066356,"comment_id":134152047,"body_markdown":"The duplicate addresses the _code_ in your question. I&#39;m not sure if it will address the problem in your real project. Let me know one way or the other, please.","body":"The duplicate addresses the <i>code</i> in your question. I&#39;m not sure if it will address the problem in your real project. Let me know one way or the other, please."}],"answers":[{"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682009666,"creation_date":1682008673,"answer_id":76066441,"question_id":76066356,"body_markdown":"Try this code\r\n```\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.function.Consumer;\r\n\r\npublic class Main {\r\n\r\n\tprivate static final ExecutorService executor = Executors.newCachedThreadPool();\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\t\tConsumer&lt;Integer&gt; consumer = result -&gt; System.out.println(&quot;Result: &quot; + result);\r\n\t\t\tdoSomething(i)\r\n\t\t\t\t\t.thenAcceptAsync(consumer, executor);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Main thread is not blocked&quot;);\r\n\t}\r\n\r\n\tprivate static CompletableFuture&lt;Integer&gt; doSomething(final int i) {\r\n\t\treturn CompletableFuture.supplyAsync(() -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(2500);\r\n\t\t\t} catch (InterruptedException interruptedException) {\r\n\t\t\t\tinterruptedException.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn i * 3;\r\n\t\t}, executor);\r\n\t}\r\n}\r\n```\r\n","title":"CompletableFuture doesn&#39;t get executed","body":"<p>Try this code</p>\n<pre><code>import java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.function.Consumer;\n\npublic class Main {\n\n    private static final ExecutorService executor = Executors.newCachedThreadPool();\n\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; 10; i++) {\n            Consumer&lt;Integer&gt; consumer = result -&gt; System.out.println(&quot;Result: &quot; + result);\n            doSomething(i)\n                    .thenAcceptAsync(consumer, executor);\n        }\n        System.out.println(&quot;Main thread is not blocked&quot;);\n    }\n\n    private static CompletableFuture&lt;Integer&gt; doSomething(final int i) {\n        return CompletableFuture.supplyAsync(() -&gt; {\n            try {\n                Thread.sleep(2500);\n            } catch (InterruptedException interruptedException) {\n                interruptedException.printStackTrace();\n            }\n            return i * 3;\n        }, executor);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2103126,"reputation":81,"user_id":1870194,"display_name":"Hasham Rasheed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1682009087,"accepted_answer_id":76066441,"answer_count":1,"score":2,"last_activity_date":1682009666,"creation_date":1682008054,"question_id":76066356,"body_markdown":"I&#39;m having a very weird problem with CompletableFuture\r\n\r\n```\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class Main {\r\n\r\n\tfinal static ExecutorService executor = Executors.newCachedThreadPool();\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\t\tfinal CompletableFuture withoutExecutor = doSomethingOne(i);\r\n//      final CompletableFuture withExecutor = doSomethingTwo(i);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static CompletableFuture doSomethingOne(final int i) {\r\n\t\treturn CompletableFuture.runAsync(() -&gt; {\r\n\t\t\tSystem.out.println(&quot;Without Executor &quot; + i);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate static CompletableFuture doSomethingTwo(final int i) {\r\n\t\treturn CompletableFuture.runAsync(() -&gt; {\r\n\t\t\tSystem.out.println(&quot;With Executor &quot; + i);\r\n\t\t}, executor);\r\n\t}\r\n}\r\n```\r\n\r\nWhen `main` is executed, it doesn&#39;t print anything (the `withoutExecutor` CompletableFuture doesn&#39;t even get executed). But when I uncomment the `withExecutor`, both CompletableFutures work as expected. What am I missing?\r\n\r\nI have similar problem in my personal project, but the overall idea is the same. I am currently using an executor with my CompletableFutures in the project, and they only run for a certain amount of time, then they stop running completely (Even debugger doesn&#39;t hit a breakpoint within CompletableFuture). I need an async background task, waiting is not an option since CompletableFuture is triggered via a REST API in my project, and I have to return result of storing the Story as soon as possible.","title":"CompletableFuture doesn&#39;t get executed","body":"<p>I'm having a very weird problem with CompletableFuture</p>\n<pre><code>import java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class Main {\n\n    final static ExecutorService executor = Executors.newCachedThreadPool();\n\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; 10; i++) {\n            final CompletableFuture withoutExecutor = doSomethingOne(i);\n//      final CompletableFuture withExecutor = doSomethingTwo(i);\n        }\n    }\n\n    private static CompletableFuture doSomethingOne(final int i) {\n        return CompletableFuture.runAsync(() -&gt; {\n            System.out.println(&quot;Without Executor &quot; + i);\n        });\n    }\n\n    private static CompletableFuture doSomethingTwo(final int i) {\n        return CompletableFuture.runAsync(() -&gt; {\n            System.out.println(&quot;With Executor &quot; + i);\n        }, executor);\n    }\n}\n</code></pre>\n<p>When <code>main</code> is executed, it doesn't print anything (the <code>withoutExecutor</code> CompletableFuture doesn't even get executed). But when I uncomment the <code>withExecutor</code>, both CompletableFutures work as expected. What am I missing?</p>\n<p>I have similar problem in my personal project, but the overall idea is the same. I am currently using an executor with my CompletableFutures in the project, and they only run for a certain amount of time, then they stop running completely (Even debugger doesn't hit a breakpoint within CompletableFuture). I need an async background task, waiting is not an option since CompletableFuture is triggered via a REST API in my project, and I have to return result of storing the Story as soon as possible.</p>\n"},{"tags":["java","eclipse","jar"],"comments":[{"owner":{"account_id":1629580,"reputation":1085,"user_id":1504421,"display_name":"delephin"},"score":0,"creation_date":1513206791,"post_id":47795695,"comment_id":82568451,"body_markdown":"Is the file included in the jar? If not, you&#39;ll have to customize your packaging process.","body":"Is the file included in the jar? If not, you&#39;ll have to customize your packaging process."},{"owner":{"account_id":10541289,"reputation":151,"user_id":7767248,"accept_rate":14,"display_name":"No Braves Studio"},"score":0,"creation_date":1513265484,"post_id":47795695,"comment_id":82595423,"body_markdown":"Hum... I don&#39;t know, It is maybe the clue, how do we change these packaging processes ?","body":"Hum... I don&#39;t know, It is maybe the clue, how do we change these packaging processes ?"},{"owner":{"account_id":1629580,"reputation":1085,"user_id":1504421,"display_name":"delephin"},"score":0,"creation_date":1513277503,"post_id":47795695,"comment_id":82602712,"body_markdown":"How do you build your executable? Speech.jar I mean.","body":"How do you build your executable? Speech.jar I mean."},{"owner":{"account_id":10541289,"reputation":151,"user_id":7767248,"accept_rate":14,"display_name":"No Braves Studio"},"score":0,"creation_date":1513348638,"post_id":47795695,"comment_id":82632070,"body_markdown":"I only build it as an executable jar with Eclipse with no special things","body":"I only build it as an executable jar with Eclipse with no special things"},{"owner":{"account_id":1629580,"reputation":1085,"user_id":1504421,"display_name":"delephin"},"score":0,"creation_date":1513354769,"post_id":47795695,"comment_id":82635914,"body_markdown":"If you decompile/unzip the jar, do you see si_vox.conf in the right path?","body":"If you decompile/unzip the jar, do you see si_vox.conf in the right path?"}],"owner":{"account_id":10541289,"reputation":151,"user_id":7767248,"accept_rate":14,"display_name":"No Braves Studio"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682009649,"creation_date":1513176108,"question_id":47795695,"body_markdown":"For a personal project I needed a French Text To Speech engine that I&#39;ll use from another application. So I created a simple Java code which says in French the argument 0 of the command (for example the command:)\r\n\r\n&gt; java -jar Speech.jar &quot;Hello guys this is a test&quot;\r\n\r\nwill say the sentence &quot;Hello guys this is a test&quot;. To accomplish this I use a module named SI_VOX which uses a folder to get all the language data. In the Eclipse IDE engine, everything works but as soon as i compile my code to a runnable jar file, it says that the code isn&#39;t able to access the language data file.\r\nThe error is in French: \r\n\r\n&gt; SI_VOX WARNING [GenerateurPreposition] : Erreur lors du chargement du fichier de regles\r\njava.io.FileNotFoundException: nullnull (The system cannot find the file specified)\r\n\r\nHere is my code\r\n\r\n    import java.io.*;\r\n    import t2s.son.LecteurTexte;\r\n    \r\n    public class Main {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tif(args.length == 0) return;\r\n            final LecteurTexte lecteur = new LecteurTexte();\r\n            for(String arg : args) { System.out.println(arg); }\r\n            lecteur.setTexte(args[0]);\r\n            lecteur.playAll();\r\n    \t}\r\n    }\r\n\r\nHere is an image of the data folder in my project (The code isn&#39;t able to access it when it is compiled but it is able to access it from the IDE).\r\n(It is the &quot;donees&quot; folder)\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tWG9T.png","title":"Eclipse Jar folder access","body":"<p>For a personal project I needed a French Text To Speech engine that I'll use from another application. So I created a simple Java code which says in French the argument 0 of the command (for example the command:)</p>\n<blockquote>\n<p>java -jar Speech.jar &quot;Hello guys this is a test&quot;</p>\n</blockquote>\n<p>will say the sentence &quot;Hello guys this is a test&quot;. To accomplish this I use a module named SI_VOX which uses a folder to get all the language data. In the Eclipse IDE engine, everything works but as soon as i compile my code to a runnable jar file, it says that the code isn't able to access the language data file.\nThe error is in French:</p>\n<blockquote>\n<p>SI_VOX WARNING [GenerateurPreposition] : Erreur lors du chargement du fichier de regles\njava.io.FileNotFoundException: nullnull (The system cannot find the file specified)</p>\n</blockquote>\n<p>Here is my code</p>\n<pre><code>import java.io.*;\nimport t2s.son.LecteurTexte;\n\npublic class Main {\n    \n    public static void main(String[] args) {\n        if(args.length == 0) return;\n        final LecteurTexte lecteur = new LecteurTexte();\n        for(String arg : args) { System.out.println(arg); }\n        lecteur.setTexte(args[0]);\n        lecteur.playAll();\n    }\n}\n</code></pre>\n<p>Here is an image of the data folder in my project (The code isn't able to access it when it is compiled but it is able to access it from the IDE).\n(It is the &quot;donees&quot; folder)\n<a href=\"https://i.stack.imgur.com/tWG9T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tWG9T.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","iterator"],"answers":[{"tags":[],"owner":{"account_id":931267,"reputation":220130,"user_id":961113,"display_name":"Habib"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1366105519,"creation_date":1366105519,"answer_id":16033728,"question_id":16033711,"body_markdown":"You need to modify and increment `i` for the second value, modify the statement:\r\n\r\n    second = strings.get(i + 1);\r\n\r\nto\r\n\r\n    second = strings.get(++i);\r\n\r\nThis will increment the `i` as well, since this seems to be the desired behaviour. \r\n\r\nSo your code would be:\r\n\r\n\r\n    List&lt;String&gt; strings = Arrays.asList(&quot;item 1&quot;, &quot;item 2&quot;, &quot;item 3&quot;, &quot;item 4&quot;);\r\n    for(int i = 0; i &lt; strings.size(); i++){\r\n        String first = strings.get(i);\r\n        String second = null;\r\n        if(strings.size() &gt; i + 1){\r\n            second = strings.get(++i); //Change here\r\n        }\r\n        System.out.println(&quot;First [&quot; + first + &quot;] - Second [&quot; + second + &quot;]&quot;);\r\n    }\r\n\r\n","title":"Java - Iterating over every two elements in a list","body":"<p>You need to modify and increment <code>i</code> for the second value, modify the statement:</p>\n\n<pre><code>second = strings.get(i + 1);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>second = strings.get(++i);\n</code></pre>\n\n<p>This will increment the <code>i</code> as well, since this seems to be the desired behaviour. </p>\n\n<p>So your code would be:</p>\n\n<pre><code>List&lt;String&gt; strings = Arrays.asList(\"item 1\", \"item 2\", \"item 3\", \"item 4\");\nfor(int i = 0; i &lt; strings.size(); i++){\n    String first = strings.get(i);\n    String second = null;\n    if(strings.size() &gt; i + 1){\n        second = strings.get(++i); //Change here\n    }\n    System.out.println(\"First [\" + first + \"] - Second [\" + second + \"]\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1601411,"reputation":145,"user_id":1482367,"accept_rate":83,"display_name":"Nidis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1366105630,"creation_date":1366105630,"answer_id":16033776,"question_id":16033711,"body_markdown":"What if you increase i by 2 in each iteration? Should do...\r\nOtherwise consider increase i inside the actual loop","title":"Java - Iterating over every two elements in a list","body":"<p>What if you increase i by 2 in each iteration? Should do...\nOtherwise consider increase i inside the actual loop</p>\n"},{"tags":[],"owner":{"account_id":1901532,"reputation":61142,"user_id":1717300,"accept_rate":89,"display_name":"hyde"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1682009041,"creation_date":1366105650,"answer_id":16033786,"question_id":16033711,"body_markdown":"Just increase `i` by 2 on each iteration, instead of `++` (which increments by 1):\r\n\r\n```java\r\nfor (int i = 0; i + 1 &lt; strings.size(); i += 2) {\r\n  String first = strings.get(i);\r\n  String second = strings.get(i + 1);\r\n}\r\n```","title":"Java - Iterating over every two elements in a list","body":"<p>Just increase <code>i</code> by 2 on each iteration, instead of <code>++</code> (which increments by 1):</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i + 1 &lt; strings.size(); i += 2) {\n  String first = strings.get(i);\n  String second = strings.get(i + 1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1228795,"reputation":8221,"user_id":1193808,"display_name":"Subir Kumar Sao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366105688,"creation_date":1366105688,"answer_id":16033803,"question_id":16033711,"body_markdown":"    for(int i = 0; i &lt; strings.size(); i++){\r\n        String first = strings.get(i++);\r\n        String second = null;\r\n        if(strings.size() &gt; i){\r\n            second = strings.get(i);\r\n        }\r\n        System.out.println(&quot;First [&quot; + first + &quot;] - Second [&quot; + second + &quot;]&quot;);\r\n    }","title":"Java - Iterating over every two elements in a list","body":"<pre><code>for(int i = 0; i &lt; strings.size(); i++){\n    String first = strings.get(i++);\n    String second = null;\n    if(strings.size() &gt; i){\n        second = strings.get(i);\n    }\n    System.out.println(\"First [\" + first + \"] - Second [\" + second + \"]\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162919,"reputation":53263,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1366108336,"creation_date":1366105731,"answer_id":16033816,"question_id":16033711,"body_markdown":"    List&lt;String&gt; strings = Arrays.asList(&quot;item 1&quot;, &quot;item 2&quot;, &quot;item 3&quot;, &quot;item 4&quot;);    \r\n    int i = 0;  \r\n    for(; i &lt; strings.size() - 1; i+=2){  \r\n        String first = strings.get(i);  \r\n        String second =  strings.get(i + 1);  \r\n        System.out.println(&quot;First [&quot; + first + &quot;] - Second [&quot; + second + &quot;]&quot;);  \r\n    }  \r\n    //For odd sized lists\r\n    if(i &lt; strings.size()){         \r\n        System.out.println(&quot;First [&quot; + strings.get(i) + &quot;]&quot;);  \r\n    }\r\n\r\n","title":"Java - Iterating over every two elements in a list","body":"<pre><code>List&lt;String&gt; strings = Arrays.asList(\"item 1\", \"item 2\", \"item 3\", \"item 4\");    \nint i = 0;  \nfor(; i &lt; strings.size() - 1; i+=2){  \n    String first = strings.get(i);  \n    String second =  strings.get(i + 1);  \n    System.out.println(\"First [\" + first + \"] - Second [\" + second + \"]\");  \n}  \n//For odd sized lists\nif(i &lt; strings.size()){         \n    System.out.println(\"First [\" + strings.get(i) + \"]\");  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2637619,"reputation":21,"user_id":2281914,"display_name":"Superboleta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366106220,"creation_date":1366105829,"answer_id":16033851,"question_id":16033711,"body_markdown":"    List&lt;String&gt; strings = Arrays.asList(&quot;item 1&quot;, &quot;item 2&quot;, &quot;item 3&quot;, &quot;item 4&quot;);\r\n    for(int i = 0; i &lt; strings.size(); i++){\r\n        if(i&#189;2 = 0){\r\n            String first = strings.get(i);\r\n            System.out.print(&quot;First [&quot; + first + &quot;] &quot;);\r\n        }else{\r\n             String second = strings.get(i + 1);\r\n             System.out.println(&quot;- Second [&quot; + second + &quot;]&quot;);\r\n        }\r\n    }","title":"Java - Iterating over every two elements in a list","body":"<pre><code>List&lt;String&gt; strings = Arrays.asList(\"item 1\", \"item 2\", \"item 3\", \"item 4\");\nfor(int i = 0; i &lt; strings.size(); i++){\n    if(i2 = 0){\n        String first = strings.get(i);\n        System.out.print(\"First [\" + first + \"] \");\n    }else{\n         String second = strings.get(i + 1);\n         System.out.println(\"- Second [\" + second + \"]\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72657,"reputation":729,"user_id":209691,"accept_rate":52,"display_name":"Lahniep"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1366106223,"creation_date":1366106223,"answer_id":16034003,"question_id":16033711,"body_markdown":"For performance, I will recommend you to compute the size of the list only one and not create a new string at each new loop.\r\n\r\n    List&lt;String&gt; strings = Arrays.asList(&quot;item 1&quot;, &quot;item 2&quot;, &quot;item 3&quot;, &quot;item 4&quot;);\r\n    int length = strings.size();\r\n    String first, second = null;\r\n    for(int i = 0; i &lt; length; i += 2){\r\n        ...\r\n    }","title":"Java - Iterating over every two elements in a list","body":"<p>For performance, I will recommend you to compute the size of the list only one and not create a new string at each new loop.</p>\n\n<pre><code>List&lt;String&gt; strings = Arrays.asList(\"item 1\", \"item 2\", \"item 3\", \"item 4\");\nint length = strings.size();\nString first, second = null;\nfor(int i = 0; i &lt; length; i += 2){\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":116746,"reputation":12467,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1366107533,"creation_date":1366107533,"answer_id":16034485,"question_id":16033711,"body_markdown":"We should of course provide a solution for the general case ;-)\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; list = Arrays.asList(new Integer[] { 1, 2, 3, 4, 5, 6, 7, 8, 9 });\r\n        for (Pair&lt;Integer&gt; p : Pair.over(list)) {\r\n            System.out.printf(&quot;%d, %d\\n&quot;, p.first, p.second);\r\n        }\r\n    }\r\n\r\n    static class Pair&lt;T&gt; {\r\n        T first;\r\n\r\n        T second;\r\n\r\n        public Pair(T first, T second) {\r\n            this.first = first;\r\n            this.second = second;\r\n        }\r\n\r\n        public static &lt;T&gt; Iterable&lt;Pair&lt;T&gt;&gt; over(Collection&lt;T&gt; collection) {\r\n            return new PairWise&lt;T&gt;(collection);\r\n        }\r\n\r\n        private static class PairWise&lt;T&gt; implements Iterable&lt;Pair&lt;T&gt;&gt;, Iterator&lt;Pair&lt;T&gt;&gt; {\r\n\r\n            final Iterator&lt;T&gt; iterator;\r\n\r\n            PairWise(Collection&lt;T&gt; collection) {\r\n                super();\r\n                this.iterator = collection.iterator();\r\n            }\r\n\r\n            @Override\r\n            public Iterator&lt;Pair&lt;T&gt;&gt; iterator() {\r\n                return this;\r\n            }\r\n\r\n            @Override\r\n            public boolean hasNext() {\r\n                return iterator.hasNext();\r\n            }\r\n\r\n            @Override\r\n            public Pair&lt;T&gt; next() {\r\n                T first = null;\r\n                T second = null;\r\n                if (iterator.hasNext())\r\n                    first = iterator.next();\r\n                else\r\n                    throw new NoSuchElementException();\r\n                if (iterator.hasNext())\r\n                    second = iterator.next();\r\n                return new Pair&lt;T&gt;(first, second);\r\n            }\r\n\r\n            @Override\r\n            public void remove() {\r\n                throw new UnsupportedOperationException();\r\n            }\r\n\r\n        }\r\n    }\r\n","title":"Java - Iterating over every two elements in a list","body":"<p>We should of course provide a solution for the general case ;-)</p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;Integer&gt; list = Arrays.asList(new Integer[] { 1, 2, 3, 4, 5, 6, 7, 8, 9 });\n    for (Pair&lt;Integer&gt; p : Pair.over(list)) {\n        System.out.printf(\"%d, %d\\n\", p.first, p.second);\n    }\n}\n\nstatic class Pair&lt;T&gt; {\n    T first;\n\n    T second;\n\n    public Pair(T first, T second) {\n        this.first = first;\n        this.second = second;\n    }\n\n    public static &lt;T&gt; Iterable&lt;Pair&lt;T&gt;&gt; over(Collection&lt;T&gt; collection) {\n        return new PairWise&lt;T&gt;(collection);\n    }\n\n    private static class PairWise&lt;T&gt; implements Iterable&lt;Pair&lt;T&gt;&gt;, Iterator&lt;Pair&lt;T&gt;&gt; {\n\n        final Iterator&lt;T&gt; iterator;\n\n        PairWise(Collection&lt;T&gt; collection) {\n            super();\n            this.iterator = collection.iterator();\n        }\n\n        @Override\n        public Iterator&lt;Pair&lt;T&gt;&gt; iterator() {\n            return this;\n        }\n\n        @Override\n        public boolean hasNext() {\n            return iterator.hasNext();\n        }\n\n        @Override\n        public Pair&lt;T&gt; next() {\n            T first = null;\n            T second = null;\n            if (iterator.hasNext())\n                first = iterator.next();\n            else\n                throw new NoSuchElementException();\n            if (iterator.hasNext())\n                second = iterator.next();\n            return new Pair&lt;T&gt;(first, second);\n        }\n\n        @Override\n        public void remove() {\n            throw new UnsupportedOperationException();\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2306167,"reputation":3279,"user_id":2025416,"display_name":"Nils von Barth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433309312,"creation_date":1433309312,"answer_id":30611504,"question_id":16033711,"body_markdown":"You can avoid indexing with an [Iterator](http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html); this works for any [Iterable](http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html), not just a list. Just get an iterator and increment it twice per loop iteration:\r\n\r\n    List&lt;String&gt; strings = Arrays.asList(&quot;item 1&quot;, &quot;item 2&quot;, &quot;item 3&quot;, &quot;item 4&quot;);\r\n    Iterator&lt;String&gt; stringsIterator = strings.iterator();\r\n    while (stringsIterator.hasNext()) {\r\n      String first = stringsIterator.next();\r\n      String second = stringsIterator.next();\r\n      System.out.println(&quot;First [&quot; + first + &quot;] - Second [&quot; + second + &quot;]&quot;);\r\n    }\r\n\r\nThis assumes a list of even length, and throws `NoSuchElementException` on the last pass if it&#39;s odd length. You can handle this in various ways:\r\n\r\n  * use a `try`-`catch`;\r\n  * have a guard clause that checks that the length is even beforehand;\r\n  * check before getting the second element.\r\n\r\nChecking the second element:\r\n\r\n    List&lt;String&gt; strings = Arrays.asList(&quot;item 1&quot;, &quot;item 2&quot;, &quot;item 3&quot;);\r\n    Iterator&lt;String&gt; stringsIterator = strings.iterator();\r\n    while (stringsIterator.hasNext()) {\r\n      String first = stringsIterator.next();\r\n      String second = stringIterator.hasNext() ? stringIterator.next() : null;\r\n      System.out.println(&quot;First [&quot; + first + &quot;] - Second [&quot; + second + &quot;]&quot;);\r\n    }\r\n\r\nIterators confuse some people, so you can also use a for-each loop with a branch and an auxiliary flip-flop variable for parity. This is much worse, since it makes the loop&#39;s logic much more complicated to simplify the iteration: rather than the action being done once per pass through the loop, in sequence and without branching, you instead have to go through it twice and branch mentally. Note that this skips the last element if it&#39;s of odd length; could add a check of `isFirst` afterwards if want to handle these cases too.\r\n\r\n    List&lt;String&gt; strings = Arrays.asList(&quot;item 1&quot;, &quot;item 2&quot;, &quot;item 3&quot;, &quot;item 4&quot;);\r\n    boolean isFirst = true;\r\n    String first = null;\r\n    String second = null;\r\n    for (String string : strings) {\r\n      if (isFirst) {\r\n        first = string;\r\n        isFirst = false;\r\n      } else {\r\n        second = string;\r\n        isFirst = true;\r\n        System.out.println(&quot;First [&quot; + first + &quot;] - Second [&quot; + second + &quot;]&quot;);\r\n      }\r\n    }\r\n\r\nLastly, note that all these iterators and auxiliary variables have excess scope (they are only of use for the loop itself, so they pollute the local environment): they could be wrapped in blocks to limit the scope, though usually the resulting nesting is considered worse than the excess scope:\r\n\r\n    List&lt;String&gt; strings = Arrays.asList(&quot;item 1&quot;, &quot;item 2&quot;, &quot;item 3&quot;, &quot;item 4&quot;);\r\n    {\r\n      Iterator&lt;String&gt; stringsIterator = strings.iterator();\r\n      while (stringsIterator.hasNext()) {\r\n        String first = stringsIterator.next();\r\n        String second = stringsIterator.next();\r\n        System.out.println(&quot;First [&quot; + first + &quot;] - Second [&quot; + second + &quot;]&quot;);\r\n      }\r\n    }\r\n","title":"Java - Iterating over every two elements in a list","body":"<p>You can avoid indexing with an <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html\" rel=\"nofollow\">Iterator</a>; this works for any <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html\" rel=\"nofollow\">Iterable</a>, not just a list. Just get an iterator and increment it twice per loop iteration:</p>\n\n<pre><code>List&lt;String&gt; strings = Arrays.asList(\"item 1\", \"item 2\", \"item 3\", \"item 4\");\nIterator&lt;String&gt; stringsIterator = strings.iterator();\nwhile (stringsIterator.hasNext()) {\n  String first = stringsIterator.next();\n  String second = stringsIterator.next();\n  System.out.println(\"First [\" + first + \"] - Second [\" + second + \"]\");\n}\n</code></pre>\n\n<p>This assumes a list of even length, and throws <code>NoSuchElementException</code> on the last pass if it's odd length. You can handle this in various ways:</p>\n\n<ul>\n<li>use a <code>try</code>-<code>catch</code>;</li>\n<li>have a guard clause that checks that the length is even beforehand;</li>\n<li>check before getting the second element.</li>\n</ul>\n\n<p>Checking the second element:</p>\n\n<pre><code>List&lt;String&gt; strings = Arrays.asList(\"item 1\", \"item 2\", \"item 3\");\nIterator&lt;String&gt; stringsIterator = strings.iterator();\nwhile (stringsIterator.hasNext()) {\n  String first = stringsIterator.next();\n  String second = stringIterator.hasNext() ? stringIterator.next() : null;\n  System.out.println(\"First [\" + first + \"] - Second [\" + second + \"]\");\n}\n</code></pre>\n\n<p>Iterators confuse some people, so you can also use a for-each loop with a branch and an auxiliary flip-flop variable for parity. This is much worse, since it makes the loop's logic much more complicated to simplify the iteration: rather than the action being done once per pass through the loop, in sequence and without branching, you instead have to go through it twice and branch mentally. Note that this skips the last element if it's of odd length; could add a check of <code>isFirst</code> afterwards if want to handle these cases too.</p>\n\n<pre><code>List&lt;String&gt; strings = Arrays.asList(\"item 1\", \"item 2\", \"item 3\", \"item 4\");\nboolean isFirst = true;\nString first = null;\nString second = null;\nfor (String string : strings) {\n  if (isFirst) {\n    first = string;\n    isFirst = false;\n  } else {\n    second = string;\n    isFirst = true;\n    System.out.println(\"First [\" + first + \"] - Second [\" + second + \"]\");\n  }\n}\n</code></pre>\n\n<p>Lastly, note that all these iterators and auxiliary variables have excess scope (they are only of use for the loop itself, so they pollute the local environment): they could be wrapped in blocks to limit the scope, though usually the resulting nesting is considered worse than the excess scope:</p>\n\n<pre><code>List&lt;String&gt; strings = Arrays.asList(\"item 1\", \"item 2\", \"item 3\", \"item 4\");\n{\n  Iterator&lt;String&gt; stringsIterator = strings.iterator();\n  while (stringsIterator.hasNext()) {\n    String first = stringsIterator.next();\n    String second = stringsIterator.next();\n    System.out.println(\"First [\" + first + \"] - Second [\" + second + \"]\");\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4053641,"reputation":201,"user_id":3332355,"display_name":"Stoneboy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438590910,"creation_date":1438590910,"answer_id":31782804,"question_id":16033711,"body_markdown":"Now in Java 8, by using https://github.com/wapatesh/fig\r\n\r\nYou can write:\r\n\r\n    seq.forEachSlice(2, (values)-&gt;{\r\n        // [1,2]  [3, 4]\r\n    });","title":"Java - Iterating over every two elements in a list","body":"<p>Now in Java 8, by using <a href=\"https://github.com/wapatesh/fig\" rel=\"nofollow\">https://github.com/wapatesh/fig</a></p>\n\n<p>You can write:</p>\n\n<pre><code>seq.forEachSlice(2, (values)-&gt;{\n    // [1,2]  [3, 4]\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1440098679,"creation_date":1440098679,"answer_id":32126686,"question_id":16033711,"body_markdown":"I created the following method using a Java8 BiConsumer:\r\n\r\n    public static &lt;T&gt; void tupleIterator(Iterable&lt;T&gt; iterable, BiConsumer&lt;T, T&gt; consumer) {\r\n\t\tIterator&lt;T&gt; it = iterable.iterator();\r\n\t\tif(!it.hasNext()) return;\r\n\t\tT first = it.next();\r\n\r\n\t\twhile(it.hasNext()) {\r\n\t\t\tT next = it.next();\r\n\t\t\tconsumer.accept(first, next);\r\n\t\t\tfirst = next;\r\n\t\t}\r\n\t}\r\n\r\nuse it like this:\r\n\r\n    List&lt;String&gt; myIterable = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\n    tupleIterator(myIterable, (obj1, obj2) -&gt; {\r\n        System.out.println(obj1 + &quot; &quot; + obj2);\r\n    });\r\n\r\nThis will output:\r\n\r\n    1 2\r\n    2 3","title":"Java - Iterating over every two elements in a list","body":"<p>I created the following method using a Java8 BiConsumer:</p>\n\n<pre><code>public static &lt;T&gt; void tupleIterator(Iterable&lt;T&gt; iterable, BiConsumer&lt;T, T&gt; consumer) {\n    Iterator&lt;T&gt; it = iterable.iterator();\n    if(!it.hasNext()) return;\n    T first = it.next();\n\n    while(it.hasNext()) {\n        T next = it.next();\n        consumer.accept(first, next);\n        first = next;\n    }\n}\n</code></pre>\n\n<p>use it like this:</p>\n\n<pre><code>List&lt;String&gt; myIterable = Arrays.asList(\"1\", \"2\", \"3\");\ntupleIterator(myIterable, (obj1, obj2) -&gt; {\n    System.out.println(obj1 + \" \" + obj2);\n});\n</code></pre>\n\n<p>This will output:</p>\n\n<pre><code>1 2\n2 3\n</code></pre>\n"}],"owner":{"account_id":552790,"reputation":1926,"user_id":918030,"accept_rate":40,"display_name":"stikkos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42831,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":16033786,"answer_count":11,"score":9,"last_activity_date":1682009041,"creation_date":1366105453,"question_id":16033711,"body_markdown":"What&#39;s the best way to iterate over a list while processing 2 elements at the same time?\r\n\r\nExample:\r\n\r\n    List&lt;String&gt; strings = Arrays.asList(&quot;item 1&quot;, &quot;item 2&quot;, &quot;item 3&quot;, &quot;item 4&quot;);\r\n    for(int i = 0; i &lt; strings.size(); i++){\r\n    \tString first = strings.get(i);\r\n    \tString second = null;\r\n    \tif(strings.size() &gt; i + 1){\r\n    \t\tsecond = strings.get(i + 1);\r\n    \t}\r\n    \tSystem.out.println(&quot;First [&quot; + first + &quot;] - Second [&quot; + second + &quot;]&quot;);\r\n    }\r\n\r\nResults in:\r\n\r\n    First [item 1] - Second [item 2]\r\n    First [item 2] - Second [item 3]\r\n    First [item 3] - Second [item 4]\r\n    First [item 4] - Second [null]\r\n\r\nI would like to achieve:\r\n\r\n    First [item 1] - Second [item 2]\r\n    First [item 3] - Second [item 4]\r\n\r\n","title":"Java - Iterating over every two elements in a list","body":"<p>What's the best way to iterate over a list while processing 2 elements at the same time?</p>\n\n<p>Example:</p>\n\n<pre><code>List&lt;String&gt; strings = Arrays.asList(\"item 1\", \"item 2\", \"item 3\", \"item 4\");\nfor(int i = 0; i &lt; strings.size(); i++){\n    String first = strings.get(i);\n    String second = null;\n    if(strings.size() &gt; i + 1){\n        second = strings.get(i + 1);\n    }\n    System.out.println(\"First [\" + first + \"] - Second [\" + second + \"]\");\n}\n</code></pre>\n\n<p>Results in:</p>\n\n<pre><code>First [item 1] - Second [item 2]\nFirst [item 2] - Second [item 3]\nFirst [item 3] - Second [item 4]\nFirst [item 4] - Second [null]\n</code></pre>\n\n<p>I would like to achieve:</p>\n\n<pre><code>First [item 1] - Second [item 2]\nFirst [item 3] - Second [item 4]\n</code></pre>\n"},{"tags":["java","spring","caching","redis","spring-data-redis"],"answers":[{"tags":[],"owner":{"account_id":10962013,"reputation":1813,"user_id":8055025,"accept_rate":67,"display_name":"Ankit Sahay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681720959,"creation_date":1681720959,"answer_id":76033235,"question_id":76032927,"body_markdown":"By default, no expiry is set on the keys. That is, if you do not specify an expiry yourself, your key will be stored indefinetely without any expiry.\r\n\r\n    set myname Ankit\r\n    OK\r\n\r\n    ttl myname\r\n    (integer) -1\r\n\r\nA return of `-1` tell us that there is no expiry set on the key `myname`","title":"Redis: storing key/value pair without expiration time","body":"<p>By default, no expiry is set on the keys. That is, if you do not specify an expiry yourself, your key will be stored indefinetely without any expiry.</p>\n<pre><code>set myname Ankit\nOK\n\nttl myname\n(integer) -1\n</code></pre>\n<p>A return of <code>-1</code> tell us that there is no expiry set on the key <code>myname</code></p>\n"},{"tags":[],"owner":{"account_id":25495717,"reputation":35,"user_id":19289816,"display_name":"ChlnooL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682009013,"creation_date":1681725566,"answer_id":76033896,"question_id":76032927,"body_markdown":"Finally I found two answers to this question - at first I can use expire method with -1 value as a timeout:\r\n\r\n```\r\nredisTemplate.expire(&quot;mykey&quot;, -1);\r\n```\r\n\r\nand the second way is to use persist method on key:\r\n\r\n```\r\nredisTemplate.persist(&quot;mykey&quot;);\r\n```\r\n\r\nThis will remove the expiry time for the &quot;mykey&quot; key, effectively setting it to never expire.","title":"Redis: storing key/value pair without expiration time","body":"<p>Finally I found two answers to this question - at first I can use expire method with -1 value as a timeout:</p>\n<pre><code>redisTemplate.expire(&quot;mykey&quot;, -1);\n</code></pre>\n<p>and the second way is to use persist method on key:</p>\n<pre><code>redisTemplate.persist(&quot;mykey&quot;);\n</code></pre>\n<p>This will remove the expiry time for the &quot;mykey&quot; key, effectively setting it to never expire.</p>\n"}],"owner":{"account_id":25495717,"reputation":35,"user_id":19289816,"display_name":"ChlnooL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":589,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682009013,"creation_date":1681718695,"question_id":76032927,"body_markdown":"Can someone explain me how to store key/value pair in redis with unlimited exipire time?\r\n\r\nI was trying to find some information at stackoverflow and google and I found nothing.\r\n\r\nI&#39;m using redisTemplate and I see there is only `expire` method there with timeout to specify. I can eventually set the timeout to value like 999999999 days, but I think thats not the best solution.","title":"Redis: storing key/value pair without expiration time","body":"<p>Can someone explain me how to store key/value pair in redis with unlimited exipire time?</p>\n<p>I was trying to find some information at stackoverflow and google and I found nothing.</p>\n<p>I'm using redisTemplate and I see there is only <code>expire</code> method there with timeout to specify. I can eventually set the timeout to value like 999999999 days, but I think thats not the best solution.</p>\n"},{"tags":["java","android","android-recyclerview","cardview"],"answers":[{"tags":[],"owner":{"account_id":13108858,"reputation":1362,"user_id":9470643,"display_name":"Mohammad Derakhshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1629306350,"creation_date":1629306350,"answer_id":68836601,"question_id":68836486,"body_markdown":"All you need is to set `else` part for you if condition in bind method of Adapter class.\r\nSo change your bind method to something like this:\r\n```\r\n@Override\r\npublic void onBindViewHolder(@NonNull DaysViewHolder holder, int position) {\r\n    DaysModel currentItem = daysModels.get(position);\r\n    holder.hDayName.setText(currentItem.getDayName());\r\n    holder.hDayNumber.setText(String.valueOf(currentItem.getDayNumber()));\r\n    \r\n    if(currentItem.isDayHighlighted() == 1){\r\n        holder.currentDayHighlight.setBackgroundResource(R.drawable.tiny_background);\r\n        holder.hDayNumber.setTextColor(Color.BLACK);\r\n    }else{\r\n\r\n        holder.currentDayHighlight.setBackgroundResource(/*what ever you want for default situation*/);\r\n        holder.hDayNumber.setTextColor(/* for example Color.White*/);\r\n     }\r\n\r\n}\r\n\r\n```","title":"RecyclerView cardview Onclick duplicate effects when scrolling","body":"<p>All you need is to set <code>else</code> part for you if condition in bind method of Adapter class.\nSo change your bind method to something like this:</p>\n<pre><code>@Override\npublic void onBindViewHolder(@NonNull DaysViewHolder holder, int position) {\n    DaysModel currentItem = daysModels.get(position);\n    holder.hDayName.setText(currentItem.getDayName());\n    holder.hDayNumber.setText(String.valueOf(currentItem.getDayNumber()));\n    \n    if(currentItem.isDayHighlighted() == 1){\n        holder.currentDayHighlight.setBackgroundResource(R.drawable.tiny_background);\n        holder.hDayNumber.setTextColor(Color.BLACK);\n    }else{\n\n        holder.currentDayHighlight.setBackgroundResource(/*what ever you want for default situation*/);\n        holder.hDayNumber.setTextColor(/* for example Color.White*/);\n     }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":22502539,"reputation":3,"user_id":16698637,"display_name":"Lv1 Slime"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68836601,"answer_count":1,"score":0,"last_activity_date":1682008113,"creation_date":1629305825,"question_id":68836486,"body_markdown":"I&#39;m making my first app (calendar),\r\nclicking the cardview item applies the same effect (changing Textview text color and Imageview background) to other items when scrolling the RecyclerView\r\n\r\n\r\nin the main activity\r\n```\r\n    RecyclerView daysRecyclerView;\r\n    DaysAdapter daysAdapter;\r\n    private RecyclerView.LayoutManager horizontalLayout;\r\n\r\n    ArrayList&lt;DaysModel&gt; daysModels;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_calendar);\r\n\r\n       \r\n\r\n        daysModels = getDaysList();\r\n        initDaysRecycleview();\r\n\r\n    }\r\n\r\n    private void initDaysRecycleview(){\r\n        daysRecyclerView = findViewById(R.id.daysRecyclerView);\r\n        daysRecyclerView.setHasFixedSize(true);\r\n\r\n        horizontalLayout = new LinearLayoutManager(this,RecyclerView.HORIZONTAL,false);\r\n        daysAdapter = new DaysAdapter(daysModels);\r\n\r\n\r\n        daysRecyclerView.setLayoutManager(horizontalLayout);\r\n        daysRecyclerView.setAdapter(daysAdapter);\r\n\r\n        daysAdapter.setOnItemClickListener(new DaysAdapter.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(int position) {\r\n                dayClickHandler(position, 1);\r\n            }\r\n        });\r\n\r\n    }\r\n    public void dayClickHandler(int position, int change){\r\n        daysModels.get(position).changeDayHighlight(change);\r\n        daysAdapter.notifyItemChanged(position);\r\n    }\r\n\r\n    private ArrayList&lt;DaysModel&gt; getDaysList(){\r\n        //Not accurate used for testing\r\n        ArrayList&lt;DaysModel&gt; models = new ArrayList&lt;DaysModel&gt;();\r\n        String[] dayName ={&quot;SAT&quot;,&quot;SUN&quot;,&quot;MON&quot;,&quot;TUE&quot;,&quot;WED&quot;,&quot;THU&quot;,&quot;FRI&quot;,&quot;SAT&quot;,&quot;SUN&quot;,&quot;MON&quot;,&quot;TUE&quot;,&quot;WED&quot;,&quot;THU&quot;,&quot;FRI&quot;,&quot;SAT&quot;,&quot;SUN&quot;,&quot;MON&quot;,&quot;TUE&quot;,&quot;WED&quot;,&quot;THU&quot;,&quot;FRI&quot;,&quot;SAT&quot;,&quot;SUN&quot;,&quot;MON&quot;,&quot;TUE&quot;,&quot;WED&quot;,&quot;THU&quot;,&quot;FRI&quot;,&quot;SAT&quot;,&quot;SUN&quot;,&quot;MON&quot;};\r\n\r\n        int i,j;\r\n        for (i = 0;i &lt;dayName.length;i++){\r\n            j =i+1;\r\n            models.add(new DaysModel(dayName[i], j, 0, false));\r\n        }\r\n        return models;\r\n    }\r\n```\r\nI&#39;m using an interface for the onClickListener. \r\n\r\nViewHolder\r\n```\r\npublic class DaysViewHolder extends RecyclerView.ViewHolder {\r\n    TextView hDayName,hDayNumber;\r\n    ImageView currentDayHighlight;\r\n    CardView dayCard;\r\n\r\n    public DaysViewHolder(View itemView, DaysAdapter.OnItemClickListener listener) {\r\n        super(itemView);\r\n        this.hDayName = itemView.findViewById(R.id.dayName);\r\n        this.hDayNumber = itemView.findViewById(R.id.dayNumber);\r\n        this.currentDayHighlight = itemView.findViewById(R.id.dayHihlight);\r\n        this.dayCard = itemView.findViewById(R.id.dayCard);\r\n\r\n        dayCard.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (listener != null) {\r\n                    int position = getAdapterPosition();\r\n                    if(position != RecyclerView.NO_POSITION){\r\n                        listener.onItemClick(position);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n}\r\n\r\nAdapter\r\n\r\n    public class DaysAdapter extends RecyclerView.Adapter&lt;DaysViewHolder&gt; {\r\n    Context context;\r\n    ArrayList&lt;DaysModel&gt; daysModels;\r\n\r\n    OnItemClickListener mListener;\r\n\r\n    public interface OnItemClickListener{\r\n        void onItemClick(int position);\r\n    }\r\n    public void setOnItemClickListener(OnItemClickListener listener){\r\n        mListener = listener;\r\n    }\r\n\r\n    public DaysAdapter(ArrayList&lt;DaysModel&gt; daysModels) {\r\n        this.daysModels = daysModels;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public DaysViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.day_card,parent,false);\r\n        DaysViewHolder daysViewHolder = new DaysViewHolder(view, mListener);\r\n        return daysViewHolder;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull DaysViewHolder holder, int position) {\r\n        DaysModel currentItem = daysModels.get(position);\r\n        holder.hDayName.setText(currentItem.getDayName());\r\n        holder.hDayNumber.setText(String.valueOf(currentItem.getDayNumber()));\r\n        \r\n        if(currentItem.isDayHighlighted() == 1){\r\n            holder.currentDayHighlight.setBackgroundResource(R.drawable.tiny_background);\r\n            holder.hDayNumber.setTextColor(Color.BLACK);\r\n        }\r\n\r\n\r\n    }\r\n    \r\n    @Override\r\n    public int getItemCount() {\r\n        return daysModels.size();\r\n    }\r\n}\r\n```","title":"RecyclerView cardview Onclick duplicate effects when scrolling","body":"<p>I'm making my first app (calendar),\nclicking the cardview item applies the same effect (changing Textview text color and Imageview background) to other items when scrolling the RecyclerView</p>\n<p>in the main activity</p>\n<pre><code>    RecyclerView daysRecyclerView;\n    DaysAdapter daysAdapter;\n    private RecyclerView.LayoutManager horizontalLayout;\n\n    ArrayList&lt;DaysModel&gt; daysModels;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_calendar);\n\n       \n\n        daysModels = getDaysList();\n        initDaysRecycleview();\n\n    }\n\n    private void initDaysRecycleview(){\n        daysRecyclerView = findViewById(R.id.daysRecyclerView);\n        daysRecyclerView.setHasFixedSize(true);\n\n        horizontalLayout = new LinearLayoutManager(this,RecyclerView.HORIZONTAL,false);\n        daysAdapter = new DaysAdapter(daysModels);\n\n\n        daysRecyclerView.setLayoutManager(horizontalLayout);\n        daysRecyclerView.setAdapter(daysAdapter);\n\n        daysAdapter.setOnItemClickListener(new DaysAdapter.OnItemClickListener() {\n            @Override\n            public void onItemClick(int position) {\n                dayClickHandler(position, 1);\n            }\n        });\n\n    }\n    public void dayClickHandler(int position, int change){\n        daysModels.get(position).changeDayHighlight(change);\n        daysAdapter.notifyItemChanged(position);\n    }\n\n    private ArrayList&lt;DaysModel&gt; getDaysList(){\n        //Not accurate used for testing\n        ArrayList&lt;DaysModel&gt; models = new ArrayList&lt;DaysModel&gt;();\n        String[] dayName ={&quot;SAT&quot;,&quot;SUN&quot;,&quot;MON&quot;,&quot;TUE&quot;,&quot;WED&quot;,&quot;THU&quot;,&quot;FRI&quot;,&quot;SAT&quot;,&quot;SUN&quot;,&quot;MON&quot;,&quot;TUE&quot;,&quot;WED&quot;,&quot;THU&quot;,&quot;FRI&quot;,&quot;SAT&quot;,&quot;SUN&quot;,&quot;MON&quot;,&quot;TUE&quot;,&quot;WED&quot;,&quot;THU&quot;,&quot;FRI&quot;,&quot;SAT&quot;,&quot;SUN&quot;,&quot;MON&quot;,&quot;TUE&quot;,&quot;WED&quot;,&quot;THU&quot;,&quot;FRI&quot;,&quot;SAT&quot;,&quot;SUN&quot;,&quot;MON&quot;};\n\n        int i,j;\n        for (i = 0;i &lt;dayName.length;i++){\n            j =i+1;\n            models.add(new DaysModel(dayName[i], j, 0, false));\n        }\n        return models;\n    }\n</code></pre>\n<p>I'm using an interface for the onClickListener.</p>\n<p>ViewHolder</p>\n<pre><code>public class DaysViewHolder extends RecyclerView.ViewHolder {\n    TextView hDayName,hDayNumber;\n    ImageView currentDayHighlight;\n    CardView dayCard;\n\n    public DaysViewHolder(View itemView, DaysAdapter.OnItemClickListener listener) {\n        super(itemView);\n        this.hDayName = itemView.findViewById(R.id.dayName);\n        this.hDayNumber = itemView.findViewById(R.id.dayNumber);\n        this.currentDayHighlight = itemView.findViewById(R.id.dayHihlight);\n        this.dayCard = itemView.findViewById(R.id.dayCard);\n\n        dayCard.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (listener != null) {\n                    int position = getAdapterPosition();\n                    if(position != RecyclerView.NO_POSITION){\n                        listener.onItemClick(position);\n                    }\n                }\n            }\n        });\n\n    }\n\n}\n\nAdapter\n\n    public class DaysAdapter extends RecyclerView.Adapter&lt;DaysViewHolder&gt; {\n    Context context;\n    ArrayList&lt;DaysModel&gt; daysModels;\n\n    OnItemClickListener mListener;\n\n    public interface OnItemClickListener{\n        void onItemClick(int position);\n    }\n    public void setOnItemClickListener(OnItemClickListener listener){\n        mListener = listener;\n    }\n\n    public DaysAdapter(ArrayList&lt;DaysModel&gt; daysModels) {\n        this.daysModels = daysModels;\n    }\n\n    @NonNull\n    @Override\n    public DaysViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.day_card,parent,false);\n        DaysViewHolder daysViewHolder = new DaysViewHolder(view, mListener);\n        return daysViewHolder;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull DaysViewHolder holder, int position) {\n        DaysModel currentItem = daysModels.get(position);\n        holder.hDayName.setText(currentItem.getDayName());\n        holder.hDayNumber.setText(String.valueOf(currentItem.getDayNumber()));\n        \n        if(currentItem.isDayHighlighted() == 1){\n            holder.currentDayHighlight.setBackgroundResource(R.drawable.tiny_background);\n            holder.hDayNumber.setTextColor(Color.BLACK);\n        }\n\n\n    }\n    \n    @Override\n    public int getItemCount() {\n        return daysModels.size();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-layout","listview","android-recyclerview"],"comments":[{"owner":{"account_id":23365040,"reputation":802,"user_id":17436751,"display_name":"Sayooj"},"score":0,"creation_date":1657690284,"post_id":72950986,"comment_id":128867479,"body_markdown":"Can you share your required output image example or something, so that we can see how to do the same","body":"Can you share your required output image example or something, so that we can see how to do the same"},{"owner":{"account_id":7881594,"reputation":737,"user_id":5955362,"display_name":"Jaydeep Devda"},"score":1,"creation_date":1657705460,"post_id":72950986,"comment_id":128871966,"body_markdown":"Please check https://stackoverflow.com/questions/26245139/how-to-create-recyclerview-with-multiple-view-types","body":"Please check <a href=\"https://stackoverflow.com/questions/26245139/how-to-create-recyclerview-with-multiple-view-types\" title=\"how to create recyclerview with multiple view types\">stackoverflow.com/questions/26245139/&hellip;</a>"},{"owner":{"account_id":25743926,"reputation":288,"user_id":19497465,"display_name":"Aniket Jain"},"score":0,"creation_date":1657707087,"post_id":72950986,"comment_id":128872550,"body_markdown":"Please clarify the details.","body":"Please clarify the details."}],"owner":{"account_id":22671855,"reputation":37,"user_id":16843492,"display_name":"Anusha C"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1682007618,"answer_count":0,"score":0,"last_activity_date":1682007647,"creation_date":1657622424,"question_id":72950986,"body_markdown":"[![RecyclerView][1]][1]I have to make a list view or a recycle view with different badges on particular items in a list and some items can also be expanded when clicked.\r\n\r\nBased on the badge in the recycle item the expandable view is shown.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n8ZGZ.png","title":"How can i add a ListView or RecyclerView with different content on particular items?","body":"<p><a href=\"https://i.stack.imgur.com/n8ZGZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n8ZGZ.png\" alt=\"RecyclerView\" /></a>I have to make a list view or a recycle view with different badges on particular items in a list and some items can also be expanded when clicked.</p>\n<p>Based on the badge in the recycle item the expandable view is shown.</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1620911558,"creation_date":1620911558,"answer_id":67519853,"question_id":67513239,"body_markdown":"I see you are new here. You should always include version information and full stack trace for questions like this.\r\n\r\nUpgrade your broker to &gt;= 2.4 or set the binder replication factor property.\r\n\r\nSee https://github.com/spring-cloud/spring-cloud-stream-binder-kafka/commit/4161f875ede0446ab1d485730c51e6a2c5baa37a\r\n\r\n&gt;* Change default replication factor to -1\r\n\r\n&gt;Binder now uses a default value of -1 for replication factor signaling the\r\nbroker to use defaults. Users who are on Kafka brokers older than 2.4,\r\nneed to set this to the previous default value of 1 used in the binder.\r\n\r\n&gt;In either case, if there is an admin policy that requires replication factor &gt; 1,\r\nthen that value must be used instead.\r\n","title":"Failed to create topics&quot;,&quot;exception&quot;:&quot;\\norg.apache.kafka.common.errors.UnsupportedVersionException","body":"<p>I see you are new here. You should always include version information and full stack trace for questions like this.</p>\n<p>Upgrade your broker to &gt;= 2.4 or set the binder replication factor property.</p>\n<p>See <a href=\"https://github.com/spring-cloud/spring-cloud-stream-binder-kafka/commit/4161f875ede0446ab1d485730c51e6a2c5baa37a\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-stream-binder-kafka/commit/4161f875ede0446ab1d485730c51e6a2c5baa37a</a></p>\n<blockquote>\n<ul>\n<li>Change default replication factor to -1</li>\n</ul>\n</blockquote>\n<blockquote>\n<p>Binder now uses a default value of -1 for replication factor signaling the\nbroker to use defaults. Users who are on Kafka brokers older than 2.4,\nneed to set this to the previous default value of 1 used in the binder.</p>\n</blockquote>\n<blockquote>\n<p>In either case, if there is an admin policy that requires replication factor &gt; 1,\nthen that value must be used instead.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12642575,"reputation":416,"user_id":9189513,"display_name":"javachipsy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632050613,"creation_date":1624565720,"answer_id":68122279,"question_id":67513239,"body_markdown":"Overriding the default replication factor(-1) with a non negative value fixed the issue for me.\r\n```\r\nspring.cloud.stream.kafka.binder.replication-factor=1\r\n```\r\n\r\nFor `application.yaml` file use:\r\n```\r\nspring.cloud.stream.kafka.binder.replicationFactor: 1\r\n```","title":"Failed to create topics&quot;,&quot;exception&quot;:&quot;\\norg.apache.kafka.common.errors.UnsupportedVersionException","body":"<p>Overriding the default replication factor(-1) with a non negative value fixed the issue for me.</p>\n<pre><code>spring.cloud.stream.kafka.binder.replication-factor=1\n</code></pre>\n<p>For <code>application.yaml</code> file use:</p>\n<pre><code>spring.cloud.stream.kafka.binder.replicationFactor: 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5788910,"reputation":659,"user_id":4567147,"accept_rate":0,"display_name":"Tanmay Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676128093,"creation_date":1676128093,"answer_id":75421090,"question_id":67513239,"body_markdown":"Change the code to following . The fluent api allows to give partitions and replicas.\r\n\r\n    \t\r\n\r\n    @Bean\r\n    \tNewTopic topicBytes() {\r\n    \t\treturn TopicBuilder.name(&quot;reflectoring-bytes&quot;).partitions(1).replicas(1).build();\r\n    \t}","title":"Failed to create topics&quot;,&quot;exception&quot;:&quot;\\norg.apache.kafka.common.errors.UnsupportedVersionException","body":"<p>Change the code to following . The fluent api allows to give partitions and replicas.</p>\n<pre><code>@Bean\n    NewTopic topicBytes() {\n        return TopicBuilder.name(&quot;reflectoring-bytes&quot;).partitions(1).replicas(1).build();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11517065,"reputation":203,"user_id":8440134,"display_name":"rajkumar21"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682007617,"creation_date":1682007617,"answer_id":76066294,"question_id":67513239,"body_markdown":"I had the same issue. And the following link helped me to solve it.\r\n\r\nhttps://github.com/spring-cloud/spring-cloud-stream-binder-kafka/issues/1134\r\n\r\nThe property path for cloud kafka stream is different.\r\nInstead of     **spring.cloud.stream.kafka.binder** \r\nwe have to use **spring.cloud.stream.kafka.streams.binder**","title":"Failed to create topics&quot;,&quot;exception&quot;:&quot;\\norg.apache.kafka.common.errors.UnsupportedVersionException","body":"<p>I had the same issue. And the following link helped me to solve it.</p>\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-stream-binder-kafka/issues/1134\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-stream-binder-kafka/issues/1134</a></p>\n<p>The property path for cloud kafka stream is different.\nInstead of     <strong>spring.cloud.stream.kafka.binder</strong>\nwe have to use <strong>spring.cloud.stream.kafka.streams.binder</strong></p>\n"}],"owner":{"account_id":8490843,"reputation":63,"user_id":6367234,"display_name":"shagun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8891,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":67519853,"answer_count":4,"score":4,"last_activity_date":1682007617,"creation_date":1620873608,"question_id":67513239,"body_markdown":"    {\r\n       &quot;mdc&quot;:{\r\n          \r\n       },\r\n       &quot;timestamp&quot;:&quot;2021-05-11 11:48:04.055&quot;,\r\n       &quot;level&quot;:&quot;ERROR&quot;,\r\n       &quot;logger&quot;:&quot;org.springframework.cloud.stream.binder.kafka.provisioning.KafkaTopicProvisioner&quot;,\r\n       &quot;message&quot;:&quot;Failed to create topics&quot;,\r\n       &quot;exception&quot;:&quot;\\&quot;\\norg.apache.kafka.common.errors.UnsupportedVersionException: Creating topics with default partitions/replication factor are only supported in CreateTopicRequest version 4+. The following topics need values for partitions and replicas:&quot;\r\n\r\nPlease suggest what changes are required as i am getting this error.","title":"Failed to create topics&quot;,&quot;exception&quot;:&quot;\\norg.apache.kafka.common.errors.UnsupportedVersionException","body":"<pre><code>{\n   &quot;mdc&quot;:{\n      \n   },\n   &quot;timestamp&quot;:&quot;2021-05-11 11:48:04.055&quot;,\n   &quot;level&quot;:&quot;ERROR&quot;,\n   &quot;logger&quot;:&quot;org.springframework.cloud.stream.binder.kafka.provisioning.KafkaTopicProvisioner&quot;,\n   &quot;message&quot;:&quot;Failed to create topics&quot;,\n   &quot;exception&quot;:&quot;\\&quot;\\norg.apache.kafka.common.errors.UnsupportedVersionException: Creating topics with default partitions/replication factor are only supported in CreateTopicRequest version 4+. The following topics need values for partitions and replicas:&quot;\n</code></pre>\n<p>Please suggest what changes are required as i am getting this error.</p>\n"},{"tags":["java","javafx","task"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1616154167,"post_id":66707119,"comment_id":117919847,"body_markdown":"Create a [mre].","body":"Create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":420683,"reputation":10207,"user_id":798502,"accept_rate":86,"display_name":"seinecle"},"score":0,"creation_date":1616161527,"post_id":66707119,"comment_id":117923053,"body_markdown":"I edited the question, this is my minimum reproducible example","body":"I edited the question, this is my minimum reproducible example"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1616161677,"post_id":66707119,"comment_id":117923126,"body_markdown":"That&#39;s not a [mre]. Can you create something we can copy, paste, and run? If it&#39;s not triggering `onSucceeded` or `onFailed`, the reasonable conclusion should be that it&#39;s not exiting. But unless other people can test, we can&#39;t really help.","body":"That&#39;s not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Can you create something we can copy, paste, and run? If it&#39;s not triggering <code>onSucceeded</code> or <code>onFailed</code>, the reasonable conclusion should be that it&#39;s not exiting. But unless other people can test, we can&#39;t really help."},{"owner":{"account_id":420683,"reputation":10207,"user_id":798502,"accept_rate":86,"display_name":"seinecle"},"score":1,"creation_date":1616163558,"post_id":66707119,"comment_id":117924052,"body_markdown":"did further edits to provide an MRE.","body":"did further edits to provide an MRE."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1616165129,"post_id":66707119,"comment_id":117924817,"body_markdown":"Thanks. I can reproduce that. I&#39;m not sure what&#39;s going on, but somehow the URL connection is preventing the thread running the task from exiting. (If you create your own thread to run the task, and don&#39;t use a service, you can see that the thread doesn&#39;t exit.)","body":"Thanks. I can reproduce that. I&#39;m not sure what&#39;s going on, but somehow the URL connection is preventing the thread running the task from exiting. (If you create your own thread to run the task, and don&#39;t use a service, you can see that the thread doesn&#39;t exit.)"}],"owner":{"account_id":420683,"reputation":10207,"user_id":798502,"accept_rate":86,"display_name":"seinecle"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1682007500,"creation_date":1616152519,"question_id":66707119,"body_markdown":"When the Task includes 2 lines opening a stream and closing it, the Task returns correctly. Its `succeed` method runs. **But the Service&#39; `setOnSucceeded` method does not run.** Why?\r\n\r\nWhen the 2 lines about the streaming opening and closing are commented out in the Task, we do get the expected behavior:  `System.out.println(&quot;in the succeed method of the Service&quot;)` does print.\r\n\r\nThe Main method:\r\n\r\n    package Test;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.concurrent.Worker;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class Main extends Application {\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n    \r\n            MyService pluginUpdateService = new MyService();\r\n            pluginUpdateService.setOnFailed(e -&gt; {\r\n                System.out.println(&quot;task failed&quot;);\r\n            });\r\n            pluginUpdateService.setOnSucceeded(e -&gt; {\r\n                System.out.println(&quot;in the succeed method of the Service&quot;); // this does not print, when MyTask opens the stream (see code of MyTask)\r\n            });\r\n            // launching the service\r\n            if (pluginUpdateService.getState() == Worker.State.READY) {\r\n                pluginUpdateService.start();\r\n            }\r\n        }\r\n    }\r\n\r\nThe service `MyService`\r\n\r\n    package Test;\r\n    \r\n    import javafx.concurrent.Service;\r\n    import javafx.concurrent.Task;\r\n    \r\n    public class MyService extends Service {\r\n    \r\n        public MyService() {\r\n        }\r\n    \r\n        @Override\r\n        protected Task createTask() {\r\n            Task updater = new MyTask();\r\n            return updater;\r\n        }\r\n    }\r\nThe task `MyTask`:\r\n    \r\n    package Test;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import javafx.concurrent.Task;\r\n    \r\n    \r\n    public class MyTask extends Task {\r\n    \r\n    \r\n        public MyTask() {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected Void call() throws MalformedURLException, IOException {\r\n            InputStream in;\r\n                URL url = new URL(&quot;https://clementlevallois.net&quot;);\r\n                in = url.openStream(); // when this line is commented out, the Service does trigger its setOnSucceeded method as expected\r\n                in.close(); // when this line is commented out, the Service does trigger its setOnSucceeded method as expected\r\n            System.out.println(&quot;about to return from the call method of the Task&quot;);\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        protected void succeeded() {\r\n            super.succeeded();\r\n            System.out.println(&quot;succeeded - sent from the succeeded method of the Task&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void cancelled() {\r\n            super.cancelled();\r\n            System.out.println(&quot;cancelled&quot;);\r\n            updateMessage(&quot;Cancelled!&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void failed() {\r\n            super.failed();\r\n            System.out.println(&quot;failed&quot;);\r\n            updateMessage(&quot;Failed!&quot;);\r\n        }\r\n    \r\n    }","title":"Task succeeds but the service onSucceed method is not triggered","body":"<p>When the Task includes 2 lines opening a stream and closing it, the Task returns correctly. Its <code>succeed</code> method runs. <strong>But the Service' <code>setOnSucceeded</code> method does not run.</strong> Why?</p>\n<p>When the 2 lines about the streaming opening and closing are commented out in the Task, we do get the expected behavior:  <code>System.out.println(&quot;in the succeed method of the Service&quot;)</code> does print.</p>\n<p>The Main method:</p>\n<pre><code>package Test;\n\nimport javafx.application.Application;\nimport javafx.concurrent.Worker;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n\n        MyService pluginUpdateService = new MyService();\n        pluginUpdateService.setOnFailed(e -&gt; {\n            System.out.println(&quot;task failed&quot;);\n        });\n        pluginUpdateService.setOnSucceeded(e -&gt; {\n            System.out.println(&quot;in the succeed method of the Service&quot;); // this does not print, when MyTask opens the stream (see code of MyTask)\n        });\n        // launching the service\n        if (pluginUpdateService.getState() == Worker.State.READY) {\n            pluginUpdateService.start();\n        }\n    }\n}\n</code></pre>\n<p>The service <code>MyService</code></p>\n<pre><code>package Test;\n\nimport javafx.concurrent.Service;\nimport javafx.concurrent.Task;\n\npublic class MyService extends Service {\n\n    public MyService() {\n    }\n\n    @Override\n    protected Task createTask() {\n        Task updater = new MyTask();\n        return updater;\n    }\n}\n</code></pre>\n<p>The task <code>MyTask</code>:</p>\n<pre><code>package Test;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport javafx.concurrent.Task;\n\n\npublic class MyTask extends Task {\n\n\n    public MyTask() {\n\n    }\n\n    @Override\n    protected Void call() throws MalformedURLException, IOException {\n        InputStream in;\n            URL url = new URL(&quot;https://clementlevallois.net&quot;);\n            in = url.openStream(); // when this line is commented out, the Service does trigger its setOnSucceeded method as expected\n            in.close(); // when this line is commented out, the Service does trigger its setOnSucceeded method as expected\n        System.out.println(&quot;about to return from the call method of the Task&quot;);\n        return null;\n    }\n\n    @Override\n    protected void succeeded() {\n        super.succeeded();\n        System.out.println(&quot;succeeded - sent from the succeeded method of the Task&quot;);\n    }\n\n    @Override\n    protected void cancelled() {\n        super.cancelled();\n        System.out.println(&quot;cancelled&quot;);\n        updateMessage(&quot;Cancelled!&quot;);\n    }\n\n    @Override\n    protected void failed() {\n        super.failed();\n        System.out.println(&quot;failed&quot;);\n        updateMessage(&quot;Failed!&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":11133396,"reputation":1266,"user_id":9118951,"display_name":"Milan Desai"},"score":0,"creation_date":1559128090,"post_id":56358562,"comment_id":99321809,"body_markdown":"Possible duplicate of [Read Console input on spring boot with tomcat](https://stackoverflow.com/questions/43315607/read-console-input-on-spring-boot-with-tomcat)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/43315607/read-console-input-on-spring-boot-with-tomcat\">Read Console input on spring boot with tomcat</a>"},{"owner":{"account_id":11133396,"reputation":1266,"user_id":9118951,"display_name":"Milan Desai"},"score":0,"creation_date":1559128100,"post_id":56358562,"comment_id":99321821,"body_markdown":"see https://stackoverflow.com/questions/43315607/read-console-input-on-spring-boot-with-tomcat","body":"see <a href=\"https://stackoverflow.com/questions/43315607/read-console-input-on-spring-boot-with-tomcat\" title=\"read console input on spring boot with tomcat\">stackoverflow.com/questions/43315607/&hellip;</a>"},{"owner":{"account_id":2750438,"reputation":511,"user_id":2369963,"accept_rate":50,"display_name":"jaletechs"},"score":1,"creation_date":1559130279,"post_id":56358562,"comment_id":99323004,"body_markdown":"Please this is not a duplicate. There is no tomcat or any other server for that matter. It&#39;s just a command line application (or at least I want it to be). Every dependency that makes it a web application is deliberately absent.","body":"Please this is not a duplicate. There is no tomcat or any other server for that matter. It&#39;s just a command line application (or at least I want it to be). Every dependency that makes it a web application is deliberately absent."}],"answers":[{"tags":[],"owner":{"account_id":5488368,"reputation":2458,"user_id":4362486,"display_name":"Bor Laze"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1559126701,"creation_date":1559126701,"answer_id":56358716,"question_id":56358562,"body_markdown":"&gt; or is Spring Boot just not for what I want to do?\r\n\r\nYou are right.\r\n\r\nSpring Boot application is a server one (like any other .war) and runs in an embedded Tomcat. What kind of Scanner here can be?\r\n\r\nIf you want to interact with it - you should create REST controller and send/receive data through endpoints.","title":"Receive input from command line with Spring Boot","body":"<blockquote>\n  <p>or is Spring Boot just not for what I want to do?</p>\n</blockquote>\n\n<p>You are right.</p>\n\n<p>Spring Boot application is a server one (like any other .war) and runs in an embedded Tomcat. What kind of Scanner here can be?</p>\n\n<p>If you want to interact with it - you should create REST controller and send/receive data through endpoints.</p>\n"},{"tags":[],"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1559127464,"creation_date":1559127464,"answer_id":56358968,"question_id":56358562,"body_markdown":"Spring boot is not designed for any kind of general purpose usages. It has specific purposes. We should not always think about how to use Spring Boot for any kind of requirements. I know Spring Boot has become very popular. To your question, if you want to create an interactive application/program, you have to do in a simple manner. I just provide below the code snippet.\r\n\r\n    public class Interactive\r\n    {\r\n    \r\n      public static void main (String[] args)\r\n      {\r\n        // create a scanner so we can read the command-line input\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.print(&quot;Enter your name ? &quot;);\r\n        String username = scanner.next();\r\n        System.out.print(&quot;Enter your age ? &quot;);\r\n        int age = scanner.nextInt();\r\n    \r\n        //Print all name, age etc\r\n      }\r\n    \r\n    }\r\n\r\nHope this may be your requirement. Again Spring Boot application can not be stated as interactive in true sense. Many interpretations are there. Spring Boot is suitable for client server architecture.","title":"Receive input from command line with Spring Boot","body":"<p>Spring boot is not designed for any kind of general purpose usages. It has specific purposes. We should not always think about how to use Spring Boot for any kind of requirements. I know Spring Boot has become very popular. To your question, if you want to create an interactive application/program, you have to do in a simple manner. I just provide below the code snippet.</p>\n\n<pre><code>public class Interactive\n{\n\n  public static void main (String[] args)\n  {\n    // create a scanner so we can read the command-line input\n    Scanner scanner = new Scanner(System.in);\n    System.out.print(\"Enter your name ? \");\n    String username = scanner.next();\n    System.out.print(\"Enter your age ? \");\n    int age = scanner.nextInt();\n\n    //Print all name, age etc\n  }\n\n}\n</code></pre>\n\n<p>Hope this may be your requirement. Again Spring Boot application can not be stated as interactive in true sense. Many interpretations are there. Spring Boot is suitable for client server architecture.</p>\n"},{"tags":[],"owner":{"account_id":2750438,"reputation":511,"user_id":2369963,"accept_rate":50,"display_name":"jaletechs"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1559138511,"creation_date":1559138511,"answer_id":56362411,"question_id":56358562,"body_markdown":"So I discovered a way to make it work by trying out a normal gradle application (not spring boot). I ran into the same problem, and the solution was to add a line in my `build.gradle` file to wire up the default `stdin`\r\n\r\nIn a normal java gradle application:\r\n\r\n    run {\r\n        standardInput = System.in\r\n    }\r\n\r\nbut in the Spring Boot application, I added the following line:\r\n\r\n    bootRun {\r\n        standardInput = System.in\r\n    }\r\n\r\nTurns out Spring Boot could handle a Command Line Application after all.","title":"Receive input from command line with Spring Boot","body":"<p>So I discovered a way to make it work by trying out a normal gradle application (not spring boot). I ran into the same problem, and the solution was to add a line in my <code>build.gradle</code> file to wire up the default <code>stdin</code></p>\n\n<p>In a normal java gradle application:</p>\n\n<pre><code>run {\n    standardInput = System.in\n}\n</code></pre>\n\n<p>but in the Spring Boot application, I added the following line:</p>\n\n<pre><code>bootRun {\n    standardInput = System.in\n}\n</code></pre>\n\n<p>Turns out Spring Boot could handle a Command Line Application after all.</p>\n"},{"tags":[],"owner":{"account_id":16527785,"reputation":432,"user_id":11941970,"display_name":"parrotjack"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1570090761,"creation_date":1570090761,"answer_id":58215035,"question_id":56358562,"body_markdown":"i follow the below approach,\r\n\r\n```\r\n@SpringBootApplication\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Test.class, args);\r\n    }\r\n}\r\n\r\n```\r\n```\r\n@Component\r\npublic class MyRunner implements CommandLineRunner {\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        System.out.println(&quot;Enter word!&quot;);\r\n        Scanner scanner = new Scanner(System.in);\r\n        String line = scanner.nextLine();\r\n        System.out.println(line);\r\n     }\r\n}\r\n```\r\n\r\nit works for me well, and you can combine command line listener in main class also.","title":"Receive input from command line with Spring Boot","body":"<p>i follow the below approach,</p>\n\n<pre><code>@SpringBootApplication\npublic class Test {\n    public static void main(String[] args) {\n        SpringApplication.run(Test.class, args);\n    }\n}\n\n</code></pre>\n\n<pre><code>@Component\npublic class MyRunner implements CommandLineRunner {\n\n    @Override\n    public void run(String... args) throws Exception {\n        System.out.println(\"Enter word!\");\n        Scanner scanner = new Scanner(System.in);\n        String line = scanner.nextLine();\n        System.out.println(line);\n     }\n}\n</code></pre>\n\n<p>it works for me well, and you can combine command line listener in main class also.</p>\n"}],"owner":{"account_id":2750438,"reputation":511,"user_id":2369963,"accept_rate":50,"display_name":"jaletechs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9696,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1682007393,"creation_date":1559126165,"question_id":56358562,"body_markdown":"So I have a really small Spring Boot command line application *(There is no embedded tomcat server or anything that would make it a web application)* with a single class where I try to use the `Scanner` class from java.util to read input from the user. This does not work at all. I thought it would be pretty basic stuff in Spring Boot, but all of my searches both on S.O or tutorials have yielded no results. What&#39;s the best way to go about it? or is Spring Boot just not for what I want to do?\r\n\r\nHere&#39;s my class:\r\n\r\n    package test;\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.boot.CommandLineRunner;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n    import java.util.Scanner;\r\n\r\n    @SpringBootApplication\r\n    public class MyApplication implements CommandLineRunner {\r\n\r\n\t    private static Logger LOG = LoggerFactory\r\n\t\t\t.getLogger(MyApplication.class);\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    SpringApplication app = new SpringApplication(MyApplication.class);\r\n\t\t    app.run(args);\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public void run(String... args) throws Exception {\r\n\t\t    LOG.info(&quot;EXECUTING : command line runner&quot;);\r\n\r\n\t\t    Scanner in = new Scanner(System.in);\r\n\r\n\t\t    System.out.println(&quot;What is your name?&quot;);\r\n            String name = in.next();\r\n\t\t    System.out.println(&quot;Hello &quot; + name + &quot; welcome to spring boot&quot; );\r\n\t    }\r\n    }\r\n\r\nThe exception being thrown is:\r\n\r\n    2019-05-29 11:31:29.116  INFO 4321 --- [           main] test.MyApplication  : EXECUTING : command line runner\r\n    2019-05-29 11:31:29.119  INFO 4321 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2019-05-29 11:31:29.124 ERROR 4321 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    java.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n            at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:816) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n            at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:324) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n            at com.jaletechs.png.PrimeNumberGeneratorApplication.main(MyApplication.java:19) [main/:na]\r\n    Caused by: java.util.NoSuchElementException: null\r\n            at java.util.Scanner.throwFor(Scanner.java:862) ~[na:1.8.0_201]\r\n            at java.util.Scanner.next(Scanner.java:1371) ~[na:1.8.0_201]\r\n            at test.MyApplication.run(MyApplication.java:27) [main/:na]\r\n            at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\r\n            ... 3 common frames omitted\r\n\r\n","title":"Receive input from command line with Spring Boot","body":"<p>So I have a really small Spring Boot command line application <em>(There is no embedded tomcat server or anything that would make it a web application)</em> with a single class where I try to use the <code>Scanner</code> class from java.util to read input from the user. This does not work at all. I thought it would be pretty basic stuff in Spring Boot, but all of my searches both on S.O or tutorials have yielded no results. What's the best way to go about it? or is Spring Boot just not for what I want to do?</p>\n\n<p>Here's my class:</p>\n\n<pre><code>package test;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport java.util.Scanner;\n\n@SpringBootApplication\npublic class MyApplication implements CommandLineRunner {\n\n    private static Logger LOG = LoggerFactory\n        .getLogger(MyApplication.class);\n\n    public static void main(String[] args) {\n        SpringApplication app = new SpringApplication(MyApplication.class);\n        app.run(args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        LOG.info(\"EXECUTING : command line runner\");\n\n        Scanner in = new Scanner(System.in);\n\n        System.out.println(\"What is your name?\");\n        String name = in.next();\n        System.out.println(\"Hello \" + name + \" welcome to spring boot\" );\n    }\n}\n</code></pre>\n\n<p>The exception being thrown is:</p>\n\n<pre><code>2019-05-29 11:31:29.116  INFO 4321 --- [           main] test.MyApplication  : EXECUTING : command line runner\n2019-05-29 11:31:29.119  INFO 4321 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2019-05-29 11:31:29.124 ERROR 4321 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:816) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n        at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:797) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:324) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n        at com.jaletechs.png.PrimeNumberGeneratorApplication.main(MyApplication.java:19) [main/:na]\nCaused by: java.util.NoSuchElementException: null\n        at java.util.Scanner.throwFor(Scanner.java:862) ~[na:1.8.0_201]\n        at java.util.Scanner.next(Scanner.java:1371) ~[na:1.8.0_201]\n        at test.MyApplication.run(MyApplication.java:27) [main/:na]\n        at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:813) ~[spring-boot-2.1.5.RELEASE.jar:2.1.5.RELEASE]\n        ... 3 common frames omitted\n</code></pre>\n"},{"tags":["java","connection-pooling","apache-commons-dbcp","dbcp"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682004256,"post_id":76065686,"comment_id":134150781,"body_markdown":"Right away, it looks like you&#39;re mixing up the business of configuring the connection pool with getting a `Connection` from it. They are two very different things, the former only occurring once (at least it *should* do). I would begin by separating them and then simply getting *one* `Connection` and using it before doing anything more elaborate","body":"Right away, it looks like you&#39;re mixing up the business of configuring the connection pool with getting a <code>Connection</code> from it. They are two very different things, the former only occurring once (at least it <i>should</i> do). I would begin by separating them and then simply getting <i>one</i> <code>Connection</code> and using it before doing anything more elaborate"}],"answers":[{"tags":[],"owner":{"account_id":22260524,"reputation":119,"user_id":16492009,"display_name":"Ziv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682007331,"creation_date":1682007331,"answer_id":76066250,"question_id":76065686,"body_markdown":"You are currently experiencing some issues with using a Connection pool. A Connection pool only needs to be created once, and then you can continuously retrieve available connections through operating this Connection pool. \r\n\r\nHowever, your current implementation creates a Connection pool once in each iteration of the for loop, which means it will be created 15 times in your example.\r\n\r\nYou should create the Connection pool before the for loop, and retrieve connections from the created Connection pool inside the for loop. Then, after you finish using the connection, call close() to release it back to connection pool.\r\n\r\nHere is a example for you\r\n\r\n    public class TestConnectionPool {\r\n        public static void main(String[] args) {\r\n            BasicDataSource dataSource = createConnectionPool();\r\n            \r\n            for (int i = 0; i &lt; 15; i++) {\r\n                Connection conn = null;\r\n                try {\r\n                    conn = dataSource.getConnection();\r\n                    select_sql(&quot;SELECT * FROM mytable&quot;, conn);\r\n                } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    if (conn != null) {\r\n                        try {\r\n                            conn.close();\r\n                        } catch (SQLException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        \r\n        private static BasicDataSource createConnectionPool() {\r\n            BasicDataSource dataSource = new BasicDataSource();\r\n            dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            dataSource.setUrl(&quot;jdbc:mysql://localhost/mydb&quot;);\r\n            dataSource.setUsername(&quot;username&quot;);\r\n            dataSource.setPassword(&quot;password&quot;);\r\n            dataSource.setInitialSize(5);\r\n            dataSource.setMaxTotal(10);\r\n            return dataSource;\r\n        }\r\n        \r\n        private static void select_sql(String sql, Connection conn) throws SQLException {\r\n            Statement stmt = conn.createStatement();\r\n            ResultSet rs = stmt.executeQuery(sql);\r\n            while (rs.next()) {\r\n                // process the result set\r\n            }\r\n            rs.close();\r\n            stmt.close();\r\n        }\r\n    }\r\n\r\n","title":"Cannot get a connection, pool error Timeout waiting for idle object while using DBPC2","body":"<p>You are currently experiencing some issues with using a Connection pool. A Connection pool only needs to be created once, and then you can continuously retrieve available connections through operating this Connection pool.</p>\n<p>However, your current implementation creates a Connection pool once in each iteration of the for loop, which means it will be created 15 times in your example.</p>\n<p>You should create the Connection pool before the for loop, and retrieve connections from the created Connection pool inside the for loop. Then, after you finish using the connection, call close() to release it back to connection pool.</p>\n<p>Here is a example for you</p>\n<pre><code>public class TestConnectionPool {\n    public static void main(String[] args) {\n        BasicDataSource dataSource = createConnectionPool();\n        \n        for (int i = 0; i &lt; 15; i++) {\n            Connection conn = null;\n            try {\n                conn = dataSource.getConnection();\n                select_sql(&quot;SELECT * FROM mytable&quot;, conn);\n            } catch (SQLException e) {\n                e.printStackTrace();\n            } finally {\n                if (conn != null) {\n                    try {\n                        conn.close();\n                    } catch (SQLException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        }\n    }\n    \n    private static BasicDataSource createConnectionPool() {\n        BasicDataSource dataSource = new BasicDataSource();\n        dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);\n        dataSource.setUrl(&quot;jdbc:mysql://localhost/mydb&quot;);\n        dataSource.setUsername(&quot;username&quot;);\n        dataSource.setPassword(&quot;password&quot;);\n        dataSource.setInitialSize(5);\n        dataSource.setMaxTotal(10);\n        return dataSource;\n    }\n    \n    private static void select_sql(String sql, Connection conn) throws SQLException {\n        Statement stmt = conn.createStatement();\n        ResultSet rs = stmt.executeQuery(sql);\n        while (rs.next()) {\n            // process the result set\n        }\n        rs.close();\n        stmt.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5498682,"reputation":113,"user_id":4368778,"display_name":"woxiangbo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682007331,"creation_date":1682003676,"question_id":76065686,"body_markdown":"the pom.xml is following:\r\n```\r\n &lt;dependency&gt;\r\n     &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n     &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\r\n     &lt;version&gt;2.9.0&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n\r\n```\r\n\r\nand the datasource configuration is:\r\n```\r\npublic Connection getConnection(){\r\n BasicDataSource dataSource = new BasicDataSource();\r\n        dataSource.setDriverClassName(JDBC_DRIVER);\r\n        dataSource.setUrl(db.url);\r\n        dataSource.setUsername(db.username);\r\n        dataSource.setPassword(db.password);\r\n        dataSource.setInitialSize(2);\r\n        dataSource.setMaxTotal(8);\r\n        dataSource.setLogAbandoned(true);\r\n        dataSource.setMinIdle(2);\r\n        dataSource.setMaxWaitMillis(10000);\r\n        dataSource.setTestOnReturn(true);\r\n        dataSource.setValidationQuery(&quot;SELECT 1&quot;);\r\n        dataSource.setTimeBetweenEvictionRunsMillis(2);\r\nreturn dataSource.getConnection()\r\n}\r\n```\r\nthen I called this method to get the connection\r\n\r\n```\r\n public static JSONArray select_sql(String sql){\r\n Connection con = null;\r\n        ResultSet rs = null;\r\n        PreparedStatement ps = null;\r\n\r\n        try {\r\n            con = DataBasePool.getConnection(systemName);\r\n            ps = con.prepareStatement(sql);\r\n            rs = ps.executeQuery(sql);\r\n            ResultSetMetaData metaData = rs.getMetaData();\r\n            while (rs.next()){\r\n              //do something\r\n            }\r\n         }catch (Exception e) {e.printStrace();\r\n         }finally{\r\n           con.close();// means return this con to pool\r\n         }\r\n\r\n}\r\n\r\n```\r\nAfter get the connection, then do a &quot;for loop&quot;, to test what it appears after reach the max connection,\r\n\r\n```\r\n for (int i = 0; i &lt; 15; i++) {\r\n      JSONArray s = select_sql(&quot;Select * from order limit 1&quot;);\r\n      System.out.println(&quot;----&gt;&quot; + s);\r\n }\r\n```\r\nbut then the error occurs:\r\n```\r\nCannot get a connection, pool error Timeout waiting for idle object\r\n```\r\n\r\nI thought &quot;con.close()&quot; has returned the connection to the pool, when i &gt; 8 in the loop, the dataSource should create an new connection as previous connection has been returned.\r\n\r\nthen the loop could be continued.\r\n\r\nbut I am sorry the error occured, the code did NOT follow my idea :(\r\n\r\nhow could I fix it ? thank you very much!","title":"Cannot get a connection, pool error Timeout waiting for idle object while using DBPC2","body":"<p>the pom.xml is following:</p>\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n     &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n     &lt;version&gt;2.9.0&lt;/version&gt;\n &lt;/dependency&gt;\n\n</code></pre>\n<p>and the datasource configuration is:</p>\n<pre><code>public Connection getConnection(){\n BasicDataSource dataSource = new BasicDataSource();\n        dataSource.setDriverClassName(JDBC_DRIVER);\n        dataSource.setUrl(db.url);\n        dataSource.setUsername(db.username);\n        dataSource.setPassword(db.password);\n        dataSource.setInitialSize(2);\n        dataSource.setMaxTotal(8);\n        dataSource.setLogAbandoned(true);\n        dataSource.setMinIdle(2);\n        dataSource.setMaxWaitMillis(10000);\n        dataSource.setTestOnReturn(true);\n        dataSource.setValidationQuery(&quot;SELECT 1&quot;);\n        dataSource.setTimeBetweenEvictionRunsMillis(2);\nreturn dataSource.getConnection()\n}\n</code></pre>\n<p>then I called this method to get the connection</p>\n<pre><code> public static JSONArray select_sql(String sql){\n Connection con = null;\n        ResultSet rs = null;\n        PreparedStatement ps = null;\n\n        try {\n            con = DataBasePool.getConnection(systemName);\n            ps = con.prepareStatement(sql);\n            rs = ps.executeQuery(sql);\n            ResultSetMetaData metaData = rs.getMetaData();\n            while (rs.next()){\n              //do something\n            }\n         }catch (Exception e) {e.printStrace();\n         }finally{\n           con.close();// means return this con to pool\n         }\n\n}\n\n</code></pre>\n<p>After get the connection, then do a &quot;for loop&quot;, to test what it appears after reach the max connection,</p>\n<pre><code> for (int i = 0; i &lt; 15; i++) {\n      JSONArray s = select_sql(&quot;Select * from order limit 1&quot;);\n      System.out.println(&quot;----&gt;&quot; + s);\n }\n</code></pre>\n<p>but then the error occurs:</p>\n<pre><code>Cannot get a connection, pool error Timeout waiting for idle object\n</code></pre>\n<p>I thought &quot;con.close()&quot; has returned the connection to the pool, when i &gt; 8 in the loop, the dataSource should create an new connection as previous connection has been returned.</p>\n<p>then the loop could be continued.</p>\n<p>but I am sorry the error occured, the code did NOT follow my idea :(</p>\n<p>how could I fix it ? thank you very much!</p>\n"},{"tags":["java","mysql","jsp"],"comments":[{"owner":{"account_id":7738,"reputation":143223,"user_id":13508,"accept_rate":86,"display_name":"&#193;lvaro Gonz&#225;lez"},"score":0,"creation_date":1681998474,"post_id":76064579,"comment_id":134149173,"body_markdown":"`executeQuery()` does not return `null` for empty result sets. It&#39;s pointless to update a row after you verify it doesn&#39;t exist. `insert ... where` is not a thing (what could it possibly mean?).","body":"<code>executeQuery()</code> does not return <code>null</code> for empty result sets. It&#39;s pointless to update a row after you verify it doesn&#39;t exist. <code>insert ... where</code> is not a thing (what could it possibly mean?)."}],"answers":[{"tags":[],"owner":{"account_id":2029577,"reputation":1180,"user_id":1813682,"accept_rate":50,"display_name":"toto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682006882,"creation_date":1681999891,"answer_id":76065087,"question_id":76064579,"body_markdown":"It is not clear to me where you define rs == null, but I think that first you check if it exists and if it exists you update.\r\nI just replaced the rs == null code with rs.first() which checks if there is a record.\r\nThen I close the resultSet and the statement to then update.\r\n\r\n    public boolean subscribeMember() {\r\n        boolean isSubscribe = false;\r\n        try {\r\n            getConnection();\r\n            pstmt = conn.prepareStatement(&quot;SELECT EMAIL FROM MEMBER WHERE MEMBER_ID = ?&quot;);\r\n            pstmt.setString(1, memberDTO.getMemberId());\r\n            rs = pstmt.executeQuery();\r\n\r\n            if (rs.first()) {\r\n                rs.close();\r\n                pstmt.close();\r\n\r\n                pstmt = conn.prepareStatement(&quot;UPDATE MEMBER SET EMAIL = ? WHERE MEMBER_ID = ?&quot;);\r\n                pstmt.setString(1, memberDTO.getEmail());\r\n                pstmt.setString(2, memberDTO.getMemberId());\r\n                pstmt.executeUpdate();\r\n                isSubscribe = true;\r\n            } else {\r\n                rs.close();\r\n                pstmt.close();\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            getClose();\r\n        }\r\n        return isSubscribe;\r\n    }","title":"How to insert value into a record in mySQL","body":"<p>It is not clear to me where you define rs == null, but I think that first you check if it exists and if it exists you update.\nI just replaced the rs == null code with rs.first() which checks if there is a record.\nThen I close the resultSet and the statement to then update.</p>\n<pre><code>public boolean subscribeMember() {\n    boolean isSubscribe = false;\n    try {\n        getConnection();\n        pstmt = conn.prepareStatement(&quot;SELECT EMAIL FROM MEMBER WHERE MEMBER_ID = ?&quot;);\n        pstmt.setString(1, memberDTO.getMemberId());\n        rs = pstmt.executeQuery();\n\n        if (rs.first()) {\n            rs.close();\n            pstmt.close();\n\n            pstmt = conn.prepareStatement(&quot;UPDATE MEMBER SET EMAIL = ? WHERE MEMBER_ID = ?&quot;);\n            pstmt.setString(1, memberDTO.getEmail());\n            pstmt.setString(2, memberDTO.getMemberId());\n            pstmt.executeUpdate();\n            isSubscribe = true;\n        } else {\n            rs.close();\n            pstmt.close();\n        }\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        getClose();\n    }\n    return isSubscribe;\n}\n</code></pre>\n"}],"owner":{"account_id":27924820,"reputation":11,"user_id":21324143,"display_name":"jvh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682006882,"creation_date":1681996898,"question_id":76064579,"body_markdown":"I&#39;m trying to make email subscription , where user enters in their email and the &#39;null&#39; field in mySQL gets updated to the email address provided. Here&#39;s what I have so far:\r\n\r\n```\r\npublic boolean subscribeMember(MemberDTO memberDTO) {\r\n    boolean isSubscribe = false;\r\n\ttry {\r\n\t getConnection();\r\n\t pstmt = conn.prepareStatement(&quot;SELECT EMAIL FROM MEMBER WHERE MEMBER_ID = ?&quot;);\r\n\t pstmt.setString(1, memberDTO.getMemberId());\r\n\t rs = pstmt.executeQuery();\r\n\t\t\t\r\n         if (rs == null) {\r\n\t pstmt = conn.prepareStatement(&quot;UPDATE MEMBER SET EMAIL = ? WHERE MEMBER_ID = ?&quot;);\r\n    \t pstmt.setString(1, memberDTO.getEmail());\r\n\t pstmt.setString(2, memberDTO.getMemberId());\r\n\t pstmt.executeUpdate();\r\n\t isSubscribe = true;\r\n\t }\r\n\t\t\t\r\n\t} catch (Exception e) {\r\n\t  e.printStackTrace();\r\n\t} finally {\r\n\t getClose();\r\n\t}\r\n\treturn isSubscribe;\r\n\t}\r\n```\r\n\r\nAnd here&#39;s what I have for subscribePro:\r\n\r\n```\r\n&lt;%\r\n    request.setCharacterEncoding(&quot;utf-8&quot;);\r\n\t\r\n    MemberDTO memberDTO = new MemberDTO();\r\n    memberDTO.setMemberId(request.getParameter(&quot;memberId&quot;));\r\n    memberDTO.setEmail(request.getParameter(&quot;email&quot;));\r\n\t\t\r\n    if (MemberDAO.getInstance().subscribeMember(memberDTO)){\r\n%&gt;\r\n\t&lt;script&gt;\r\n        \talert (&quot;Thanks for joining our mailing list!&quot;);\r\n\t\tlocation.href = &quot;main.jsp&quot;;\r\n\t&lt;/script&gt;\r\n&lt;%\r\n    }\r\n    else{\r\n%&gt;\r\n        &lt;script&gt;\r\n        \talert (&quot;You are already on our mailing list!&quot;);\r\n\t\tlocation.href = &quot;main.jsp&quot;;\r\n\t&lt;/script&gt;\r\n&lt;%\r\n    }\r\n%&gt;\r\n```\r\n\r\nEven though the email field in mySQL is null, it keeps running else. What should I fix?\r\n\r\n```\r\nif (rs == null) {\r\n\t pstmt = conn.prepareStatement(&quot;UPDATE MEMBER SET EMAIL = ? WHERE MEMBER_ID = ?&quot;);\r\n```\r\n\r\nFor this part I&#39;ve tried &quot;if (rs.next())&quot;\r\n\r\nI&#39;ve also tried (INSERT INTO MEMBER VALUE ? WHERE MEMBER_ID = ?);","title":"How to insert value into a record in mySQL","body":"<p>I'm trying to make email subscription , where user enters in their email and the 'null' field in mySQL gets updated to the email address provided. Here's what I have so far:</p>\n<pre><code>public boolean subscribeMember(MemberDTO memberDTO) {\n    boolean isSubscribe = false;\n    try {\n     getConnection();\n     pstmt = conn.prepareStatement(&quot;SELECT EMAIL FROM MEMBER WHERE MEMBER_ID = ?&quot;);\n     pstmt.setString(1, memberDTO.getMemberId());\n     rs = pstmt.executeQuery();\n            \n         if (rs == null) {\n     pstmt = conn.prepareStatement(&quot;UPDATE MEMBER SET EMAIL = ? WHERE MEMBER_ID = ?&quot;);\n         pstmt.setString(1, memberDTO.getEmail());\n     pstmt.setString(2, memberDTO.getMemberId());\n     pstmt.executeUpdate();\n     isSubscribe = true;\n     }\n            \n    } catch (Exception e) {\n      e.printStackTrace();\n    } finally {\n     getClose();\n    }\n    return isSubscribe;\n    }\n</code></pre>\n<p>And here's what I have for subscribePro:</p>\n<pre><code>&lt;%\n    request.setCharacterEncoding(&quot;utf-8&quot;);\n    \n    MemberDTO memberDTO = new MemberDTO();\n    memberDTO.setMemberId(request.getParameter(&quot;memberId&quot;));\n    memberDTO.setEmail(request.getParameter(&quot;email&quot;));\n        \n    if (MemberDAO.getInstance().subscribeMember(memberDTO)){\n%&gt;\n    &lt;script&gt;\n            alert (&quot;Thanks for joining our mailing list!&quot;);\n        location.href = &quot;main.jsp&quot;;\n    &lt;/script&gt;\n&lt;%\n    }\n    else{\n%&gt;\n        &lt;script&gt;\n            alert (&quot;You are already on our mailing list!&quot;);\n        location.href = &quot;main.jsp&quot;;\n    &lt;/script&gt;\n&lt;%\n    }\n%&gt;\n</code></pre>\n<p>Even though the email field in mySQL is null, it keeps running else. What should I fix?</p>\n<pre><code>if (rs == null) {\n     pstmt = conn.prepareStatement(&quot;UPDATE MEMBER SET EMAIL = ? WHERE MEMBER_ID = ?&quot;);\n</code></pre>\n<p>For this part I've tried &quot;if (rs.next())&quot;</p>\n<p>I've also tried (INSERT INTO MEMBER VALUE ? WHERE MEMBER_ID = ?);</p>\n"},{"tags":["java","android","json","url","pokeapi"],"answers":[{"tags":[],"owner":{"account_id":19211594,"reputation":1477,"user_id":14037302,"display_name":"sweak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681987296,"creation_date":1681987296,"answer_id":76063189,"question_id":76062984,"body_markdown":"Your `response` array has only one element (at index 0):\r\n\r\n```java\r\nfinal String[] response = {&quot;&quot;};\r\n```\r\n\r\nthis makes the string array to conceptually look like this: `[&quot;&quot;]`. This way there is no problem in accessing the first element of the array like this: `response[0]`.\r\n\r\nTrying to access the second element in the array like this: `response[1]` throws an `ArrayIndexOutOfBoundsException` since there is no element at index 1 for an array of size 1 (with an element only at the index 0).\r\n\r\nYou probably want to initialize your array so it looks like this: `[&quot;&quot;, &quot;&quot;]` this way:\r\n\r\n```java\r\nfinal String[] response = {&quot;&quot;, &quot;&quot;};\r\n```\r\n\r\nYou also shouldn&#39;t worry about the problem being\r\n\r\n&gt; caused by the response too long returned by the server","title":"Can get response from server PokeApi AndroidStudio","body":"<p>Your <code>response</code> array has only one element (at index 0):</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String[] response = {&quot;&quot;};\n</code></pre>\n<p>this makes the string array to conceptually look like this: <code>[&quot;&quot;]</code>. This way there is no problem in accessing the first element of the array like this: <code>response[0]</code>.</p>\n<p>Trying to access the second element in the array like this: <code>response[1]</code> throws an <code>ArrayIndexOutOfBoundsException</code> since there is no element at index 1 for an array of size 1 (with an element only at the index 0).</p>\n<p>You probably want to initialize your array so it looks like this: <code>[&quot;&quot;, &quot;&quot;]</code> this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String[] response = {&quot;&quot;, &quot;&quot;};\n</code></pre>\n<p>You also shouldn't worry about the problem being</p>\n<blockquote>\n<p>caused by the response too long returned by the server</p>\n</blockquote>\n"}],"owner":{"account_id":24172640,"reputation":11,"user_id":18134509,"display_name":"Theo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682006021,"creation_date":1681985811,"question_id":76062984,"body_markdown":"Good morning,\r\n\r\nI am currently working on a project in android studio in Java on the PokeApi Api. Unfortunately, I can&#39;t get a response from the server even though the link is accessible from a browser. If you have an idea, I&#39;m interested.\r\nThanks.\r\n\r\nMy class :\r\n\r\n\r\n```\r\npublic class PokemonDetailActivity extends AppCompatActivity {\r\n\r\n    private int idPokemon;\r\n    private String imagePokemon;\r\n\r\n    private String urlPokemonDetails1 = &quot;https://pokeapi.co/api/v2/pokemon-species/&quot;;\r\n    private String urlPokemonDetails2 = &quot;https://pokeapi.co/api/v2/pokemon/&quot;;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_pokemon_detail);\r\n\r\n        idPokemon = getIntent().getIntExtra(&quot;POKEMON_SELECTION_ID&quot;, -1);\r\n        imagePokemon = getIntent().getStringExtra(&quot;IMAGE_POKEMON&quot;);\r\n\r\n        urlPokemonDetails1 += idPokemon + &quot;/&quot;;\r\n        urlPokemonDetails2 += idPokemon + &quot;/&quot;;\r\n\r\n        RequestQueue queue = Volley.newRequestQueue(getApplicationContext());\r\n\r\n        TextView nomPokemon = findViewById(R.id.nom_pokmeon);\r\n\r\n        //on associe la postion du pokemon au textView\r\n        TextView positionPokemon = findViewById(R.id.posture_pokemon);\r\n\r\n        // on associe la taille du pokemon au textView\r\n        TextView taillePokemon = findViewById(R.id.taille_pokemon);\r\n\r\n        // on associe l&#39;habitat du pokemon au textView\r\n        TextView habitatPokemon = findViewById(R.id.habitat_pokemon);\r\n\r\n        // on associe les stats du pokemon aux textView\r\n        TextView hpPokemon = findViewById(R.id.hp);\r\n        TextView attaquePokemon = findViewById(R.id.attaque);\r\n        TextView defensePokemon = findViewById(R.id.defense);\r\n        TextView attaqueSpePokemon = findViewById(R.id.attaque_speciale);\r\n        TextView defenseSpePokemon = findViewById(R.id.defense_speciale);\r\n        TextView vitessePokemon = findViewById(R.id.vitesse);\r\n\r\n        // on associe l&#39;image du pokemon &#224; l&#39;imageView\r\n        Picasso.get().load(imagePokemon).into((ImageView) findViewById(R.id.imageview_pokemon));\r\n\r\n\r\n        final String[] response = {&quot;&quot;};\r\n\r\n        try {\r\n            StringRequest request = new StringRequest(Request.Method.GET, urlPokemonDetails1,\r\n                    new Response.Listener&lt;String&gt;() {\r\n                        @Override\r\n                        public void onResponse(String rep) {\r\n                            response[0] += rep;\r\n\r\n                            JSONObject jsonObj = null;\r\n                            try {\r\n                                jsonObj = new JSONObject(response[0]);\r\n\r\n                                //get the name of the pokemon\r\n                                String namePokemon = jsonObj.getString(&quot;name&quot;);\r\n\r\n                                // get the living area of the pokemon\r\n                                JSONObject habitat = jsonObj.getJSONObject(&quot;habitat&quot;);\r\n                                String habitatPok = habitat.getString(&quot;name&quot;);\r\n\r\n                                // get the shape of the pokemon\r\n                                JSONObject shape = jsonObj.getJSONObject(&quot;shape&quot;);\r\n                                String shapePokemon = shape.getString(&quot;name&quot;);\r\n\r\n                                nomPokemon.setText(namePokemon);\r\n                                habitatPokemon.setText(habitatPok);\r\n                                positionPokemon.setText(shapePokemon);\r\n\r\n                            } catch (JSONException e) {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n                        }\r\n                    },\r\n                    new Response.ErrorListener() {\r\n                        @Override\r\n                        public void onErrorResponse(VolleyError error) {\r\n                            Log.d(&quot;Erreur de t&#233;l&#233;chargement : &quot;, error.getMessage());\r\n                        }\r\n                    });\r\n            queue.add(request);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n        try {\r\n            StringRequest request = new StringRequest(Request.Method.GET, urlPokemonDetails2,\r\n                    new Response.Listener&lt;String&gt;() {\r\n                        @Override\r\n                        public void onResponse(String rep) {\r\n                            response[1] += rep;\r\n\r\n                            JSONObject jsonObj = null;\r\n                            try {\r\n                                jsonObj = new JSONObject(response[1]);\r\n\r\n                                // get the height of the pokemon\r\n                                int heightPokemon = jsonObj.getInt(&quot;height&quot;);\r\n\r\n                                // get the stats of the pokemon\r\n                                JSONArray stats = jsonObj.getJSONArray(&quot;stats&quot;);\r\n                                JSONObject stat = stats.getJSONObject(0);\r\n                                JSONObject stat1 = stats.getJSONObject(1);\r\n                                JSONObject stat2 = stats.getJSONObject(2);\r\n                                JSONObject stat3 = stats.getJSONObject(3);\r\n                                JSONObject stat4 = stats.getJSONObject(4);\r\n                                JSONObject stat5 = stats.getJSONObject(5);\r\n                                int hp = stat.getInt(&quot;base_stat&quot;);\r\n                                int attack = stat1.getInt(&quot;base_stat&quot;);\r\n                                int defense = stat2.getInt(&quot;base_stat&quot;);\r\n                                int specialAttack = stat3.getInt(&quot;base_stat&quot;);\r\n                                int specialDefense = stat4.getInt(&quot;base_stat&quot;);\r\n                                int speed = stat5.getInt(&quot;base_stat&quot;);\r\n\r\n                                taillePokemon.setText(heightPokemon);\r\n                                hpPokemon.setText(hp);\r\n                                attaquePokemon.setText(attack);\r\n                                defensePokemon.setText(defense);\r\n                                attaqueSpePokemon.setText(specialAttack);\r\n                                defenseSpePokemon.setText(specialDefense);\r\n                                vitessePokemon.setText(speed);\r\n\r\n                            } catch (JSONException e) {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n                        }\r\n                    },\r\n                    new Response.ErrorListener() {\r\n                        @Override\r\n                        public void onErrorResponse(VolleyError error) {\r\n                            Log.d(&quot;Erreur de t&#233;l&#233;chargement : &quot;, error.getMessage());\r\n                        }\r\n                    });\r\n            queue.add(request);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n[![error description](https://i.stack.imgur.com/nPuSm.png)](https://i.stack.imgur.com/nPuSm.png)\r\n\r\nDo you think it may be caused by the response too long returned by the server maybe ?\r\n\r\n\r\nI tried to implement library Volley to get the &quot;response&quot; by the server but that didn&#39;t solved the problem and to make one class for this.\r\n\r\nUpdate : Why my String tab &#39;result&#39; is empty (and above all why the server doesn&#39;t return me anything)..\r\n[![error tab result empty...][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/826cY.png","title":"Can get response from server PokeApi AndroidStudio","body":"<p>Good morning,</p>\n<p>I am currently working on a project in android studio in Java on the PokeApi Api. Unfortunately, I can't get a response from the server even though the link is accessible from a browser. If you have an idea, I'm interested.\nThanks.</p>\n<p>My class :</p>\n<pre><code>public class PokemonDetailActivity extends AppCompatActivity {\n\n    private int idPokemon;\n    private String imagePokemon;\n\n    private String urlPokemonDetails1 = &quot;https://pokeapi.co/api/v2/pokemon-species/&quot;;\n    private String urlPokemonDetails2 = &quot;https://pokeapi.co/api/v2/pokemon/&quot;;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_pokemon_detail);\n\n        idPokemon = getIntent().getIntExtra(&quot;POKEMON_SELECTION_ID&quot;, -1);\n        imagePokemon = getIntent().getStringExtra(&quot;IMAGE_POKEMON&quot;);\n\n        urlPokemonDetails1 += idPokemon + &quot;/&quot;;\n        urlPokemonDetails2 += idPokemon + &quot;/&quot;;\n\n        RequestQueue queue = Volley.newRequestQueue(getApplicationContext());\n\n        TextView nomPokemon = findViewById(R.id.nom_pokmeon);\n\n        //on associe la postion du pokemon au textView\n        TextView positionPokemon = findViewById(R.id.posture_pokemon);\n\n        // on associe la taille du pokemon au textView\n        TextView taillePokemon = findViewById(R.id.taille_pokemon);\n\n        // on associe l'habitat du pokemon au textView\n        TextView habitatPokemon = findViewById(R.id.habitat_pokemon);\n\n        // on associe les stats du pokemon aux textView\n        TextView hpPokemon = findViewById(R.id.hp);\n        TextView attaquePokemon = findViewById(R.id.attaque);\n        TextView defensePokemon = findViewById(R.id.defense);\n        TextView attaqueSpePokemon = findViewById(R.id.attaque_speciale);\n        TextView defenseSpePokemon = findViewById(R.id.defense_speciale);\n        TextView vitessePokemon = findViewById(R.id.vitesse);\n\n        // on associe l'image du pokemon  l'imageView\n        Picasso.get().load(imagePokemon).into((ImageView) findViewById(R.id.imageview_pokemon));\n\n\n        final String[] response = {&quot;&quot;};\n\n        try {\n            StringRequest request = new StringRequest(Request.Method.GET, urlPokemonDetails1,\n                    new Response.Listener&lt;String&gt;() {\n                        @Override\n                        public void onResponse(String rep) {\n                            response[0] += rep;\n\n                            JSONObject jsonObj = null;\n                            try {\n                                jsonObj = new JSONObject(response[0]);\n\n                                //get the name of the pokemon\n                                String namePokemon = jsonObj.getString(&quot;name&quot;);\n\n                                // get the living area of the pokemon\n                                JSONObject habitat = jsonObj.getJSONObject(&quot;habitat&quot;);\n                                String habitatPok = habitat.getString(&quot;name&quot;);\n\n                                // get the shape of the pokemon\n                                JSONObject shape = jsonObj.getJSONObject(&quot;shape&quot;);\n                                String shapePokemon = shape.getString(&quot;name&quot;);\n\n                                nomPokemon.setText(namePokemon);\n                                habitatPokemon.setText(habitatPok);\n                                positionPokemon.setText(shapePokemon);\n\n                            } catch (JSONException e) {\n                                throw new RuntimeException(e);\n                            }\n                        }\n                    },\n                    new Response.ErrorListener() {\n                        @Override\n                        public void onErrorResponse(VolleyError error) {\n                            Log.d(&quot;Erreur de tlchargement : &quot;, error.getMessage());\n                        }\n                    });\n            queue.add(request);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n\n        try {\n            StringRequest request = new StringRequest(Request.Method.GET, urlPokemonDetails2,\n                    new Response.Listener&lt;String&gt;() {\n                        @Override\n                        public void onResponse(String rep) {\n                            response[1] += rep;\n\n                            JSONObject jsonObj = null;\n                            try {\n                                jsonObj = new JSONObject(response[1]);\n\n                                // get the height of the pokemon\n                                int heightPokemon = jsonObj.getInt(&quot;height&quot;);\n\n                                // get the stats of the pokemon\n                                JSONArray stats = jsonObj.getJSONArray(&quot;stats&quot;);\n                                JSONObject stat = stats.getJSONObject(0);\n                                JSONObject stat1 = stats.getJSONObject(1);\n                                JSONObject stat2 = stats.getJSONObject(2);\n                                JSONObject stat3 = stats.getJSONObject(3);\n                                JSONObject stat4 = stats.getJSONObject(4);\n                                JSONObject stat5 = stats.getJSONObject(5);\n                                int hp = stat.getInt(&quot;base_stat&quot;);\n                                int attack = stat1.getInt(&quot;base_stat&quot;);\n                                int defense = stat2.getInt(&quot;base_stat&quot;);\n                                int specialAttack = stat3.getInt(&quot;base_stat&quot;);\n                                int specialDefense = stat4.getInt(&quot;base_stat&quot;);\n                                int speed = stat5.getInt(&quot;base_stat&quot;);\n\n                                taillePokemon.setText(heightPokemon);\n                                hpPokemon.setText(hp);\n                                attaquePokemon.setText(attack);\n                                defensePokemon.setText(defense);\n                                attaqueSpePokemon.setText(specialAttack);\n                                defenseSpePokemon.setText(specialDefense);\n                                vitessePokemon.setText(speed);\n\n                            } catch (JSONException e) {\n                                throw new RuntimeException(e);\n                            }\n                        }\n                    },\n                    new Response.ErrorListener() {\n                        @Override\n                        public void onErrorResponse(VolleyError error) {\n                            Log.d(&quot;Erreur de tlchargement : &quot;, error.getMessage());\n                        }\n                    });\n            queue.add(request);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nPuSm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nPuSm.png\" alt=\"error description\" /></a></p>\n<p>Do you think it may be caused by the response too long returned by the server maybe ?</p>\n<p>I tried to implement library Volley to get the &quot;response&quot; by the server but that didn't solved the problem and to make one class for this.</p>\n<p>Update : Why my String tab 'result' is empty (and above all why the server doesn't return me anything)..\n<a href=\"https://i.stack.imgur.com/826cY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/826cY.png\" alt=\"error tab result empty...\" /></a></p>\n"},{"tags":["java","graphql","smallrye"],"owner":{"account_id":5402385,"reputation":61,"user_id":4301873,"display_name":"Terraviper-5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682005980,"creation_date":1682005980,"question_id":76066041,"body_markdown":"I have an &quot;internal use&quot; response class (type) that I don&#39;t want in GraphQL schema. I tried NOT tagging it with @Type annotation but it doesn&#39;t help. I have found a github thread where people are requesting @Ignore annotation for classes (it already exists for fields) but it has been stale for a year. Is there any non-hacky way to exclude a type from GraphQL schema?","title":"How to prevent a java class/type from appearing in graphql schema when using smallrye graphql?","body":"<p>I have an &quot;internal use&quot; response class (type) that I don't want in GraphQL schema. I tried NOT tagging it with @Type annotation but it doesn't help. I have found a github thread where people are requesting @Ignore annotation for classes (it already exists for fields) but it has been stale for a year. Is there any non-hacky way to exclude a type from GraphQL schema?</p>\n"},{"tags":["javascript","java","vaadin","quill"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":2,"creation_date":1682009179,"post_id":76066040,"comment_id":134152059,"body_markdown":"At first glance, my guess would be the async getValue; does the\n`text-change` event send you the text?  Have you tried to keep the value\na field instead (e.g. remember it on setValue, return it with getValue,\nupdate it on `text-change`+fire)?","body":"At first glance, my guess would be the async getValue; does the <code>text-change</code> event send you the text?  Have you tried to keep the value a field instead (e.g. remember it on setValue, return it with getValue, update it on <code>text-change</code>+fire)?"},{"owner":{"account_id":25426013,"reputation":13,"user_id":19231186,"display_name":"ThiefCode"},"score":0,"creation_date":1682011090,"post_id":76066040,"comment_id":134152502,"body_markdown":"@cfrick \nThank you, I&#39;m glad that the suggested approach has helped you solve the issue.","body":"@cfrick  Thank you, I&#39;m glad that the suggested approach has helped you solve the issue."}],"owner":{"account_id":25426013,"reputation":13,"user_id":19231186,"display_name":"ThiefCode"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682005978,"creation_date":1682005978,"question_id":76066040,"body_markdown":"I am having an issue with integrating the Quill Editor into my Vaadin application. When I change the content of the editor and save it, I do not get the current content of the editor but the previous content instead. I have tried to get the content using CompletableFuture and executeJs, but it still doesn&#39;t work as expected. When I try to save the new content, setValue is called, but futureContent.get() returns null.\r\n\r\nHere is the relevant code:\r\n\r\n\r\n```\r\n@JsModule(&quot;./js/quill.js&quot;)\r\npublic class QuillEditor extends AbstractSinglePropertyField&lt;QuillEditor, String&gt; {\r\n\r\n  public QuillEditor() {\r\n        super(&quot;value&quot;, &quot;&quot;, false);\r\n        getElement().executeJs(&quot;createQuillEditor($0)&quot;, getElement());\r\n\r\n        getElement().addEventListener(&quot;text-change&quot;, event -&gt;\r\n                fireEvent(new ComponentValueChangeEvent&lt;&gt;(this, this, getEmptyValue(), false)));\r\n    }\r\n\r\n    @Override\r\n    public String getValue() {\r\n        CompletableFuture&lt;String&gt; futureContent = new CompletableFuture&lt;&gt;();\r\n\r\n        ui.access(() -&gt; {\r\n            PendingJavaScriptResult pendingResult = getElement().executeJs(&quot;return getHtmlContent($0)&quot;, getElement());\r\n            pendingResult.then(jsonValue -&gt; futureContent.complete(jsonValue.asString()));\r\n        });\r\n\r\n        try {\r\n            return futureContent.get();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        } catch (ExecutionException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void setValue(String htmlContent) {\r\n        getElement().executeJs(&quot;setQuillEditorHtmlContent($0, $1)&quot;, getElement(), htmlContent);\r\n    }\r\n}\r\n```\r\n\r\nquill.js\r\n\r\n```\r\nwindow.createQuillEditor = function (element) {\r\n    const quill = new Quill(element, {\r\n        theme: &#39;snow&#39;,\r\n        modules: {\r\n...... etc.\r\n\r\nwindow.getHtmlContent = function (element) {\r\n    const quill = Quill.find(element);\r\n    console.log(&#39;Current content:&#39;, quill.root.innerHTML);\r\n    return quill.root.innerHTML;\r\n};\r\n\r\nwindow.setQuillEditorHtmlContent = function (element, htmlContent) {\r\n    const quill = Quill.find(element);\r\n    quill.setContents(quill.clipboard.convert(htmlContent));\r\n    console.log(&#39;HTML Content:&#39;, quill.root.innerHTML);\r\n};\r\n}\r\n\r\n```\r\n\r\nI have added various console.log() statements to check the content of the editor, and it seems that the JavaScript code is correctly retrieving the current content. However, the new content is not being properly passed to the Java code.\r\n\r\nDoes anyone have experience with integrating the Quill Editor and Vaadin or have an idea how I can fix this issue? Any help is greatly appreciated!\r\n\r\nThank you in advance!\r\n\r\n\r\n\r\nIn my other class, I have implemented the following binding:\r\n\r\n```\r\nbinder.forField(quillEditor).bind(CustomTextblock::getContent, CustomTextblock::setContent);\r\n```\r\n","title":"Vaadin and Quill Editor: Issues with saving the current content","body":"<p>I am having an issue with integrating the Quill Editor into my Vaadin application. When I change the content of the editor and save it, I do not get the current content of the editor but the previous content instead. I have tried to get the content using CompletableFuture and executeJs, but it still doesn't work as expected. When I try to save the new content, setValue is called, but futureContent.get() returns null.</p>\n<p>Here is the relevant code:</p>\n<pre><code>@JsModule(&quot;./js/quill.js&quot;)\npublic class QuillEditor extends AbstractSinglePropertyField&lt;QuillEditor, String&gt; {\n\n  public QuillEditor() {\n        super(&quot;value&quot;, &quot;&quot;, false);\n        getElement().executeJs(&quot;createQuillEditor($0)&quot;, getElement());\n\n        getElement().addEventListener(&quot;text-change&quot;, event -&gt;\n                fireEvent(new ComponentValueChangeEvent&lt;&gt;(this, this, getEmptyValue(), false)));\n    }\n\n    @Override\n    public String getValue() {\n        CompletableFuture&lt;String&gt; futureContent = new CompletableFuture&lt;&gt;();\n\n        ui.access(() -&gt; {\n            PendingJavaScriptResult pendingResult = getElement().executeJs(&quot;return getHtmlContent($0)&quot;, getElement());\n            pendingResult.then(jsonValue -&gt; futureContent.complete(jsonValue.asString()));\n        });\n\n        try {\n            return futureContent.get();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        } catch (ExecutionException e) {\n            throw new RuntimeException(e);\n        }\n        return null;\n    }\n\n    @Override\n    public void setValue(String htmlContent) {\n        getElement().executeJs(&quot;setQuillEditorHtmlContent($0, $1)&quot;, getElement(), htmlContent);\n    }\n}\n</code></pre>\n<p>quill.js</p>\n<pre><code>window.createQuillEditor = function (element) {\n    const quill = new Quill(element, {\n        theme: 'snow',\n        modules: {\n...... etc.\n\nwindow.getHtmlContent = function (element) {\n    const quill = Quill.find(element);\n    console.log('Current content:', quill.root.innerHTML);\n    return quill.root.innerHTML;\n};\n\nwindow.setQuillEditorHtmlContent = function (element, htmlContent) {\n    const quill = Quill.find(element);\n    quill.setContents(quill.clipboard.convert(htmlContent));\n    console.log('HTML Content:', quill.root.innerHTML);\n};\n}\n\n</code></pre>\n<p>I have added various console.log() statements to check the content of the editor, and it seems that the JavaScript code is correctly retrieving the current content. However, the new content is not being properly passed to the Java code.</p>\n<p>Does anyone have experience with integrating the Quill Editor and Vaadin or have an idea how I can fix this issue? Any help is greatly appreciated!</p>\n<p>Thank you in advance!</p>\n<p>In my other class, I have implemented the following binding:</p>\n<pre><code>binder.forField(quillEditor).bind(CustomTextblock::getContent, CustomTextblock::setContent);\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-recyclerview","searchview"],"comments":[{"owner":{"account_id":3042406,"reputation":67,"user_id":2579075,"accept_rate":88,"display_name":"Danielius Amontas"},"score":0,"creation_date":1664727119,"post_id":73927226,"comment_id":130533217,"body_markdown":"You can add EditText or AutoCompleteTextView above the RecyclerView in your  fragment xml layout. Then you add a listener and check for input changes and then filter RecyclerView according to it.","body":"You can add EditText or AutoCompleteTextView above the RecyclerView in your  fragment xml layout. Then you add a listener and check for input changes and then filter RecyclerView according to it."},{"owner":{"account_id":26479513,"reputation":1,"user_id":20118973,"display_name":"Wicked"},"score":0,"creation_date":1664727254,"post_id":73927226,"comment_id":130533257,"body_markdown":"I already have Edittext bro, the only problem is I don&#39;t know how to implement searchview. Can you help me??","body":"I already have Edittext bro, the only problem is I don&#39;t know how to implement searchview. Can you help me??"}],"owner":{"account_id":26479513,"reputation":1,"user_id":20118973,"display_name":"Wicked"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682005921,"creation_date":1664725830,"question_id":73927226,"body_markdown":"This is my Home.java\r\n\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n\r\n        dataInitialize();\r\n\r\n        recyclerView = view.findViewById(R.id.recyclerView);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n        MyAdapter2 myAdapter2 = new MyAdapter2(getContext(), catLabelArrayList);\r\n        recyclerView.setAdapter(myAdapter2);\r\n\r\n        myAdapter2.notifyDataSetChanged();\r\n\r\nI also do have MyAdapter2 but I want to add a searchview filter inside a fragment with these on the Main activity not on the menu toolbar\r\n\r\n    private void dataInitialize() {\r\n\r\n        catLabelArrayList = new ArrayList&lt;&gt;();\r\n        newsHeading = new String[]{\r\n                &quot;Food&quot;,\r\n                &quot;Place&quot;,\r\n                &quot;Accesories&quot;,\r\n        };","title":"Is it possible to add searchview in recyclerview fragment?","body":"<p>This is my Home.java</p>\n<pre><code>public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n\n    dataInitialize();\n\n    recyclerView = view.findViewById(R.id.recyclerView);\n    recyclerView.setHasFixedSize(true);\n    recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\n    MyAdapter2 myAdapter2 = new MyAdapter2(getContext(), catLabelArrayList);\n    recyclerView.setAdapter(myAdapter2);\n\n    myAdapter2.notifyDataSetChanged();\n</code></pre>\n<p>I also do have MyAdapter2 but I want to add a searchview filter inside a fragment with these on the Main activity not on the menu toolbar</p>\n<pre><code>private void dataInitialize() {\n\n    catLabelArrayList = new ArrayList&lt;&gt;();\n    newsHeading = new String[]{\n            &quot;Food&quot;,\n            &quot;Place&quot;,\n            &quot;Accesories&quot;,\n    };\n</code></pre>\n"},{"tags":["java","generics","return","return-type","consumer"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1681588036,"post_id":76024412,"comment_id":134081840,"body_markdown":"The second one doesn&#39;t compile, unless `T` is an existing type (class, interface, enum, or type parameter on the enclosing class/interface). Please [edit] your question to include the class definition","body":"The second one doesn&#39;t compile, unless <code>T</code> is an existing type (class, interface, enum, or type parameter on the enclosing class/interface). Please <a href=\"https://stackoverflow.com/posts/76024412/edit\">edit</a> your question to include the class definition"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1681588153,"post_id":76024412,"comment_id":134081854,"body_markdown":"&lt;T&gt; in the first method means this method accepts a generic type T in it&#39;s arguments. Second method accepts a non-generic type T which must exist","body":"&lt;T&gt; in the first method means this method accepts a generic type T in it&#39;s arguments. Second method accepts a non-generic type T which must exist"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1681589428,"post_id":76024412,"comment_id":134082000,"body_markdown":"Since he didn&#39;t attach the rest, i assumed he didn&#39;t declare it anywhere else. But yes, @user16320675, that&#39;s also a possibility","body":"Since he didn&#39;t attach the rest, i assumed he didn&#39;t declare it anywhere else. But yes, @user16320675, that&#39;s also a possibility"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681607868,"creation_date":1681607868,"answer_id":76025497,"question_id":76024412,"body_markdown":"There is no such thing as `&lt;T&gt; void`.  These are two entirely separate declarations (`&lt;T&gt;` and `void`) that happen to be next to each other:\r\n\r\n    public static &lt;T&gt; void myMethod(int a, Consumer&lt;T&gt; consumer){/* Some code */}\r\n    //                 \r\n    //                  Declaration of method&#39;s return type\r\n    //             \r\n    //              Declaration of a generic type which is used only\r\n    //                     by this method\r\n\r\nAnd how is this different?\r\n\r\n    public static void myMethod(int a, Consumer&lt;T&gt; consumer){/* Some code */}\r\n\r\nIn the above line, `&lt;T&gt;` is not declared anywhere, so the declaration will not compile.  (If the method were not static, it could use the `&lt;T&gt;` declared on the enclosing class, assuming the enclosing class declares a `&lt;T&gt;` type.)\r\n","title":"Difference between &#39;void&#39; and &#39; &lt;T&gt; void&#39; in java method","body":"<p>There is no such thing as <code>&lt;T&gt; void</code>.  These are two entirely separate declarations (<code>&lt;T&gt;</code> and <code>void</code>) that happen to be next to each other:</p>\n<pre><code>public static &lt;T&gt; void myMethod(int a, Consumer&lt;T&gt; consumer){/* Some code */}\n//                 \n//                  Declaration of method's return type\n//             \n//              Declaration of a generic type which is used only\n//                     by this method\n</code></pre>\n<p>And how is this different?</p>\n<pre><code>public static void myMethod(int a, Consumer&lt;T&gt; consumer){/* Some code */}\n</code></pre>\n<p>In the above line, <code>&lt;T&gt;</code> is not declared anywhere, so the declaration will not compile.  (If the method were not static, it could use the <code>&lt;T&gt;</code> declared on the enclosing class, assuming the enclosing class declares a <code>&lt;T&gt;</code> type.)</p>\n"}],"owner":{"account_id":27146963,"reputation":21,"user_id":20687012,"display_name":"Sahil Parekh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1682019697,"accepted_answer_id":76025497,"answer_count":1,"score":-1,"last_activity_date":1682005730,"creation_date":1681587896,"question_id":76024412,"body_markdown":"```\r\npublic static &lt;T&gt; void myMethod(int a, Consumer&lt;T&gt; consumer){// Some code}\r\n```\r\n\r\n```\r\npublic static void myMethod(int a, Consumer&lt;T&gt; consumer){// Some code}\r\n```\r\n\r\nDifference between &#39;void&#39; and &#39;\\&lt;T\\&gt; void&#39;","title":"Difference between &#39;void&#39; and &#39; &lt;T&gt; void&#39; in java method","body":"<pre><code>public static &lt;T&gt; void myMethod(int a, Consumer&lt;T&gt; consumer){// Some code}\n</code></pre>\n<pre><code>public static void myMethod(int a, Consumer&lt;T&gt; consumer){// Some code}\n</code></pre>\n<p>Difference between 'void' and '&lt;T&gt; void'</p>\n"},{"tags":["java","android","gradle","gitlab-ci"],"answers":[{"tags":[],"owner":{"account_id":10265133,"reputation":81,"user_id":7575336,"display_name":"Francisco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682005728,"creation_date":1682005728,"answer_id":76066000,"question_id":76064833,"body_markdown":"It&#39;s probably a compatibility problem with JDK 17. \r\n\r\nYou could try this workaround: https://github.com/JakeWharton/butterknife/issues/1686#issuecomment-1514927085\r\n\r\n\r\nBear in mind that Butterknife has been deprecated for a long time. If you can, you should migrate to view binding!","title":"Gradle 8.0 - app: compileDebugJavaWithJavac - error: element value must be a constant expression","body":"<p>It's probably a compatibility problem with JDK 17.</p>\n<p>You could try this workaround: <a href=\"https://github.com/JakeWharton/butterknife/issues/1686#issuecomment-1514927085\" rel=\"nofollow noreferrer\">https://github.com/JakeWharton/butterknife/issues/1686#issuecomment-1514927085</a></p>\n<p>Bear in mind that Butterknife has been deprecated for a long time. If you can, you should migrate to view binding!</p>\n"}],"owner":{"account_id":11173883,"reputation":659,"user_id":8200076,"accept_rate":100,"display_name":"A. Silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76066000,"answer_count":1,"score":3,"last_activity_date":1682005728,"creation_date":1681998396,"question_id":76064833,"body_markdown":"I recently upgraded to Gradle 8.0 and since then I&#39;m facing an issue while running task &quot;testDebugUnitTest&quot; in a gitlab-ci environment.\r\n\r\nThe error occurs during the task &quot;compileDebugJavaWithJavac&quot; with the following message: \r\n`error: element value must be a constant expression\r\n        @BindView(R.id.screen_scan)\r\n                      ^`\r\nWhen I inspect the R.id bytecode from a generated APK build, I see this.\r\n`.field public static final screen_scan:I = 0x7f090185\r\n`\r\n\r\nThis error occurs with all @BindView annotations.\r\n\r\nAny idea how I can solve this?\r\n","title":"Gradle 8.0 - app: compileDebugJavaWithJavac - error: element value must be a constant expression","body":"<p>I recently upgraded to Gradle 8.0 and since then I'm facing an issue while running task &quot;testDebugUnitTest&quot; in a gitlab-ci environment.</p>\n<p>The error occurs during the task &quot;compileDebugJavaWithJavac&quot; with the following message:\n<code>error: element value must be a constant expression @BindView(R.id.screen_scan) ^</code>\nWhen I inspect the R.id bytecode from a generated APK build, I see this.\n<code>.field public static final screen_scan:I = 0x7f090185 </code></p>\n<p>This error occurs with all @BindView annotations.</p>\n<p>Any idea how I can solve this?</p>\n"},{"tags":["java","android","android-intent"],"comments":[{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1671197757,"post_id":74824652,"comment_id":132053079,"body_markdown":"You should add some logging or set a breakpoint. The code indicates that it should launch `InnerActivity`. You should set a breakpoint or add logging in `InnerActivity.onCreate()` to see if you are getting there. I expect it is. Then you&#39;ll need to see what it causing it to launch (or return to) your quiz Activity. There isn&#39;t enough code in your question to troubleshoot this for you. Please gather some more data about what is actually going on.","body":"You should add some logging or set a breakpoint. The code indicates that it should launch <code>InnerActivity</code>. You should set a breakpoint or add logging in <code>InnerActivity.onCreate()</code> to see if you are getting there. I expect it is. Then you&#39;ll need to see what it causing it to launch (or return to) your quiz Activity. There isn&#39;t enough code in your question to troubleshoot this for you. Please gather some more data about what is actually going on."}],"answers":[{"tags":[],"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671195673,"creation_date":1671195673,"answer_id":74824816,"question_id":74824652,"body_markdown":"you should to use `finish()` method when launch Intent in QuizActivity.\r\n\r\n- Here is your Activity Launch Follow, as I understand it\r\n1) MainActivity\r\n2) SubCategoryActivity\r\n3) QuizActivity\r\n4) ResultActivity\r\n\r\nChange it like this where you launch intent in `QuizActivity.`\r\n\r\n```java\r\nstartActivity(new Intent(QuizActivity.this, ResultActivity.class));\r\nfinish();\r\n```","title":"Automaticly running a intent","body":"<p>you should to use <code>finish()</code> method when launch Intent in QuizActivity.</p>\n<ul>\n<li>Here is your Activity Launch Follow, as I understand it</li>\n</ul>\n<ol>\n<li>MainActivity</li>\n<li>SubCategoryActivity</li>\n<li>QuizActivity</li>\n<li>ResultActivity</li>\n</ol>\n<p>Change it like this where you launch intent in <code>QuizActivity.</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>startActivity(new Intent(QuizActivity.this, ResultActivity.class));\nfinish();\n</code></pre>\n"}],"owner":{"account_id":27272285,"reputation":3,"user_id":20793429,"display_name":"Isa Ahmed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74824816,"answer_count":1,"score":0,"last_activity_date":1682005697,"creation_date":1671194805,"question_id":74824652,"body_markdown":"I am working on a project where I have 4 Activity. Main activity contains some categories with recycleView and firebase as a database. Inner activity contains some sub-categories I use recycle view for this. On no3 I have a quiz activity where I put some question and answer then a result activity. In result activity I display a return button. After clicking return button it should go to inner activity. But it is going to quiz activity. It looks like it is going to inner activity but automatically running an intent to quiz activity. Or could be something else.\r\n\r\n```\r\npackage ali.edu.topic;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\n\r\n// Result Activity//\r\n\r\nimport ali.edu.topic.databinding.ActivityResoultBinding;\r\n\r\npublic class ResoultActivity extends AppCompatActivity {\r\n\r\n\r\n    ActivityResoultBinding binding;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityResoultBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        int currectAns = getIntent().getIntExtra(&quot;currectAns&quot;,0);\r\n        int totalQuitions = getIntent().getIntExtra(&quot;total&quot;,0);\r\n\r\n        binding.scoor.setText(String.format(&quot;%d/%d&quot;, currectAns, totalQuitions));\r\n\r\n        binding.returnBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(ResoultActivity.this, InnerActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\n\r\n// Inner Activity\r\n\r\npackage ali.edu.topic;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\nimport java.util.ArrayList;\r\n\r\nimport ali.edu.topic.databinding.ActivityInnerBinding;\r\n\r\npublic class InnerActivity extends AppCompatActivity {\r\n\r\n\r\n    ActivityInnerBinding binding;\r\n    FirebaseFirestore database;\r\n    ArrayList&lt;InnerModel&gt; innerModels;\r\n    InAdapter Inadapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityInnerBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        database = FirebaseFirestore.getInstance();\r\n\r\n        String name = getIntent().getStringExtra(&quot;name&quot;);\r\n        binding.hadTitle.setText(name);\r\n\r\n        innerModels = new ArrayList&lt;&gt;();\r\n        Inadapter  = new InAdapter(this, innerModels);\r\n        database.collection(&quot;topics&quot;).document(name).collection(&quot;boards&quot;).orderBy(&quot;number&quot;)\r\n                .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\r\n                        innerModels.clear();\r\n                        for (DocumentSnapshot snapshot : value.getDocuments()) {\r\n                            InnerModel model = snapshot.toObject(InnerModel.class);\r\n                            innerModels.add(model);\r\n                        }\r\n                        Inadapter.notifyDataSetChanged();\r\n                    }\r\n                });\r\n\r\n        binding.innerRecycleView.setLayoutManager(new LinearLayoutManager(this));\r\n        binding.innerRecycleView.setAdapter(Inadapter);\r\n    }\r\n}\r\n```","title":"Automaticly running a intent","body":"<p>I am working on a project where I have 4 Activity. Main activity contains some categories with recycleView and firebase as a database. Inner activity contains some sub-categories I use recycle view for this. On no3 I have a quiz activity where I put some question and answer then a result activity. In result activity I display a return button. After clicking return button it should go to inner activity. But it is going to quiz activity. It looks like it is going to inner activity but automatically running an intent to quiz activity. Or could be something else.</p>\n<pre><code>package ali.edu.topic;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\n\n// Result Activity//\n\nimport ali.edu.topic.databinding.ActivityResoultBinding;\n\npublic class ResoultActivity extends AppCompatActivity {\n\n\n    ActivityResoultBinding binding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityResoultBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        int currectAns = getIntent().getIntExtra(&quot;currectAns&quot;,0);\n        int totalQuitions = getIntent().getIntExtra(&quot;total&quot;,0);\n\n        binding.scoor.setText(String.format(&quot;%d/%d&quot;, currectAns, totalQuitions));\n\n        binding.returnBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(ResoultActivity.this, InnerActivity.class);\n                startActivity(intent);\n            }\n        });\n    }\n}\n\n\n\n// Inner Activity\n\npackage ali.edu.topic;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\n\nimport android.os.Bundle;\n\nimport com.google.firebase.firestore.DocumentSnapshot;\nimport com.google.firebase.firestore.EventListener;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.FirebaseFirestoreException;\nimport com.google.firebase.firestore.QuerySnapshot;\n\nimport java.util.ArrayList;\n\nimport ali.edu.topic.databinding.ActivityInnerBinding;\n\npublic class InnerActivity extends AppCompatActivity {\n\n\n    ActivityInnerBinding binding;\n    FirebaseFirestore database;\n    ArrayList&lt;InnerModel&gt; innerModels;\n    InAdapter Inadapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityInnerBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        database = FirebaseFirestore.getInstance();\n\n        String name = getIntent().getStringExtra(&quot;name&quot;);\n        binding.hadTitle.setText(name);\n\n        innerModels = new ArrayList&lt;&gt;();\n        Inadapter  = new InAdapter(this, innerModels);\n        database.collection(&quot;topics&quot;).document(name).collection(&quot;boards&quot;).orderBy(&quot;number&quot;)\n                .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\n                    @Override\n                    public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\n                        innerModels.clear();\n                        for (DocumentSnapshot snapshot : value.getDocuments()) {\n                            InnerModel model = snapshot.toObject(InnerModel.class);\n                            innerModels.add(model);\n                        }\n                        Inadapter.notifyDataSetChanged();\n                    }\n                });\n\n        binding.innerRecycleView.setLayoutManager(new LinearLayoutManager(this));\n        binding.innerRecycleView.setAdapter(Inadapter);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-recyclerview"],"owner":{"account_id":21282458,"reputation":11,"user_id":21397111,"display_name":"Somnath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682005656,"creation_date":1678806544,"question_id":75734964,"body_markdown":"I am building an conversation application in java , based on room database. And using paging 3 lib. now the requirment is while user open any thread he should scrolled to the bottom means the last to item. But the issues are 1. its taking a long time to open the thread. i want a smooth navigation like whatsapp/ telegram.\r\n2. WHILE any data set changed in db its not following the flow. \r\n please see the video [loading time][1]  is the main issue.\r\n\r\nplease help me to solve .\r\n\r\nI am using live data like this \r\n\r\nin fragment \r\n```\r\n  groups_chat_viewModel.getMessageBy_paging(id).observe(getViewLifecycleOwner(), group_chats -&gt; {\r\n            \r\n                adapter.submitData(getLifecycle(),group_chats);\r\n        \r\n        });\r\n```\r\nAnd in repository \r\n\r\n\r\n```\r\n\r\n            LiveData&lt;PagingData&lt;Group_Chat&gt;&gt; all_chat_paged = null;\r\n          /* all_chat_paged = new LivePagedListBuilder&lt;&gt;(\r\n                   Chat_dao.getMessageBy_paging(strings[0]),20\r\n                    ).build();\r\n            return all_chat_paged;*/\r\n\r\n\r\n            Pager&lt;Integer, Group_Chat&gt; pager = new Pager(\r\n                    // Create new paging config\r\n                    new PagingConfig(30, //  Count of items in one page\r\n                            90, //  Number of items to prefetch\r\n                            false, // Enable placeholders for data which is not yet loaded\r\n                            30, // initialLoadSize - Count of items to be loaded initially\r\n                            PagingConfig.MAX_SIZE_UNBOUNDED),// maxSize - Count of total items to be shown in recyclerview\r\n                    () -&gt; Chat_dao.getMessageBy_paging(strings[0]));\r\n\r\n            CoroutineScope coroutineScope = ViewModelKt.getViewModelScope(groups_chat_viewModel);\r\n            all_chat_paged = PagingLiveData.cachedIn(PagingLiveData.getLiveData(pager), coroutineScope);\r\n            return all_chat_paged;\r\n```\r\n\r\n\r\n  [1]: https://attachment.artixdevelopment.site/loading_time.mp4","title":"RecyclerView taking longer to open in Android","body":"<p>I am building an conversation application in java , based on room database. And using paging 3 lib. now the requirment is while user open any thread he should scrolled to the bottom means the last to item. But the issues are 1. its taking a long time to open the thread. i want a smooth navigation like whatsapp/ telegram.\n2. WHILE any data set changed in db its not following the flow.\nplease see the video <a href=\"https://attachment.artixdevelopment.site/loading_time.mp4\" rel=\"nofollow noreferrer\">loading time</a>  is the main issue.</p>\n<p>please help me to solve .</p>\n<p>I am using live data like this</p>\n<p>in fragment</p>\n<pre><code>  groups_chat_viewModel.getMessageBy_paging(id).observe(getViewLifecycleOwner(), group_chats -&gt; {\n            \n                adapter.submitData(getLifecycle(),group_chats);\n        \n        });\n</code></pre>\n<p>And in repository</p>\n<pre><code>\n            LiveData&lt;PagingData&lt;Group_Chat&gt;&gt; all_chat_paged = null;\n          /* all_chat_paged = new LivePagedListBuilder&lt;&gt;(\n                   Chat_dao.getMessageBy_paging(strings[0]),20\n                    ).build();\n            return all_chat_paged;*/\n\n\n            Pager&lt;Integer, Group_Chat&gt; pager = new Pager(\n                    // Create new paging config\n                    new PagingConfig(30, //  Count of items in one page\n                            90, //  Number of items to prefetch\n                            false, // Enable placeholders for data which is not yet loaded\n                            30, // initialLoadSize - Count of items to be loaded initially\n                            PagingConfig.MAX_SIZE_UNBOUNDED),// maxSize - Count of total items to be shown in recyclerview\n                    () -&gt; Chat_dao.getMessageBy_paging(strings[0]));\n\n            CoroutineScope coroutineScope = ViewModelKt.getViewModelScope(groups_chat_viewModel);\n            all_chat_paged = PagingLiveData.cachedIn(PagingLiveData.getLiveData(pager), coroutineScope);\n            return all_chat_paged;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682005629,"creation_date":1682002688,"answer_id":76065520,"question_id":76064556,"body_markdown":"Add `com.myApp.new.*` to `EntityScan` and other annotations too. e.g. &lt;br/&gt;\r\n```@EntityScan(basePackages= {&quot;com.myApp.new&quot;,&quot;com.kbc.newApp&quot;})```","title":"Springboot: nested exception is java.lang.IllegalArgumentException: Not a managed type","body":"<p>Add <code>com.myApp.new.*</code> to <code>EntityScan</code> and other annotations too. e.g. <br/>\n<code>@EntityScan(basePackages= {&quot;com.myApp.new&quot;,&quot;com.kbc.newApp&quot;})</code></p>\n"}],"owner":{"account_id":1632114,"reputation":707,"user_id":1506449,"display_name":"Sajit Gangadharan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76065520,"answer_count":1,"score":0,"last_activity_date":1682005629,"creation_date":1681996725,"question_id":76064556,"body_markdown":"My springboot application stopped working after I added a new Jar to my application. With addition of new Jar, I am getting below error:\r\n\r\n````\r\n2023-04-20 12:51:26.755  WARN 4732 --- [           main] ConfigServletWebServerApplicationContext : \r\nException encountered during context initialization - cancelling refresh attempt: \r\norg.springframework.beans.factory.UnsatisfiedDependencyException:\r\n Error creating bean with name &#39;vehicleCapabilitiesExtractor&#39; defined in file [C:\\repo\\Compare\\kbc-core\\kbc-core-app\\target\\classes\\com\\myApp\\new\\kbc\\core\\client\\test\\testCapabilitiesExtractor.class]: \r\n Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: \r\n Error creating bean with name &#39;testtestService&#39; defined in file [C:\\repo\\Compare\\kbc-core\\kbc-core-app\\target\\classes\\com\\myApp\\new\\kbc\\core\\test\\testvehicle\\TesttestService.class]: \r\n Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: \r\n Error creating bean with name &#39;whiteListService&#39; defined in file [C:\\repo\\Compare\\kbc-core\\kbc-core-database\\target\\classes\\com\\myApp\\new\\kbc\\database\\service\\whitelist\\WhiteListService.class]:\r\n Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: \r\n Error creating bean with name &#39;whiteListRepository&#39; defined in com.myApp.new.kbc.database.dao.whitelist.WhiteListRepository defined\r\n in @EnableJpaRepositories declared on EntitiesAutoConfiguration: Invocation of init method failed; nested exception is \r\n java.lang.IllegalArgumentException: Not a managed type: class com.myApp.new.kbc.database.dao.whitelist.WhiteListEntity\r\n\r\n\r\n````\r\n\r\n\r\nThe application has database module in a separate package and it was working fine. \r\nMy application does not have any separate configuration for db. However, the jar which I added has \r\nfollowing configurations:\r\n\r\n````\r\n\r\n\r\n\r\n\r\n\r\n\r\n@Configuration\r\n@EntityScan({&quot;com.kbc.newApp.${spring.application.id}&quot;})\r\n@EnableJpaRepositories({&quot;com.kbc.newApp.${spring.application.id}&quot;})\r\nclass EntitiesAutoConfiguration {\r\n}\r\n\r\n\r\n\r\n@ComponentScan(basePackages = &quot;com.kbc.newApp.app.*&quot;)\r\n@EnableAutoConfiguration\r\n\r\npublic class AslAppApplication {\r\n\r\n   @Bean\r\n    public EntityManagerFactoryBuilder entityManagerFactoryBuilder() {\r\n        return new EntityManagerFactoryBuilder(new HibernateJpaVendorAdapter(), new HashMap&lt;&gt;(), null);\r\n    }\r\n\t\r\n\t}\r\n\r\n````\r\n\r\n\r\nI tried different combinations of adding  @EntityScan, @EnableJpaRepositories @EntitiesAutoConfiguration in my application too but somehow my entities are not getting recognised. \r\n\r\n","title":"Springboot: nested exception is java.lang.IllegalArgumentException: Not a managed type","body":"<p>My springboot application stopped working after I added a new Jar to my application. With addition of new Jar, I am getting below error:</p>\n<pre><code>2023-04-20 12:51:26.755  WARN 4732 --- [           main] ConfigServletWebServerApplicationContext : \nException encountered during context initialization - cancelling refresh attempt: \norg.springframework.beans.factory.UnsatisfiedDependencyException:\n Error creating bean with name 'vehicleCapabilitiesExtractor' defined in file [C:\\repo\\Compare\\kbc-core\\kbc-core-app\\target\\classes\\com\\myApp\\new\\kbc\\core\\client\\test\\testCapabilitiesExtractor.class]: \n Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: \n Error creating bean with name 'testtestService' defined in file [C:\\repo\\Compare\\kbc-core\\kbc-core-app\\target\\classes\\com\\myApp\\new\\kbc\\core\\test\\testvehicle\\TesttestService.class]: \n Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: \n Error creating bean with name 'whiteListService' defined in file [C:\\repo\\Compare\\kbc-core\\kbc-core-database\\target\\classes\\com\\myApp\\new\\kbc\\database\\service\\whitelist\\WhiteListService.class]:\n Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: \n Error creating bean with name 'whiteListRepository' defined in com.myApp.new.kbc.database.dao.whitelist.WhiteListRepository defined\n in @EnableJpaRepositories declared on EntitiesAutoConfiguration: Invocation of init method failed; nested exception is \n java.lang.IllegalArgumentException: Not a managed type: class com.myApp.new.kbc.database.dao.whitelist.WhiteListEntity\n\n\n</code></pre>\n<p>The application has database module in a separate package and it was working fine.\nMy application does not have any separate configuration for db. However, the jar which I added has\nfollowing configurations:</p>\n<pre><code>\n\n\n\n\n\n@Configuration\n@EntityScan({&quot;com.kbc.newApp.${spring.application.id}&quot;})\n@EnableJpaRepositories({&quot;com.kbc.newApp.${spring.application.id}&quot;})\nclass EntitiesAutoConfiguration {\n}\n\n\n\n@ComponentScan(basePackages = &quot;com.kbc.newApp.app.*&quot;)\n@EnableAutoConfiguration\n\npublic class AslAppApplication {\n\n   @Bean\n    public EntityManagerFactoryBuilder entityManagerFactoryBuilder() {\n        return new EntityManagerFactoryBuilder(new HibernateJpaVendorAdapter(), new HashMap&lt;&gt;(), null);\n    }\n    \n    }\n\n</code></pre>\n<p>I tried different combinations of adding  @EntityScan, @EnableJpaRepositories @EntitiesAutoConfiguration in my application too but somehow my entities are not getting recognised.</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":1609743,"reputation":428,"user_id":1489095,"display_name":"Phash"},"score":2,"creation_date":1565512155,"post_id":57448358,"comment_id":101372438,"body_markdown":"you need to link the two OR statements... select x from y where (a=1 or b=1) or (a=2 or b=2) - you can also add all statements to one or (where a1=1 or b=1 or a=2 or b=2) - then you need to add all in one","body":"you need to link the two OR statements... select x from y where (a=1 or b=1) or (a=2 or b=2) - you can also add all statements to one or (where a1=1 or b=1 or a=2 or b=2) - then you need to add all in one"}],"answers":[{"tags":[],"owner":{"account_id":3832252,"reputation":938,"user_id":3177532,"accept_rate":91,"display_name":"solujic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682005487,"creation_date":1682005487,"answer_id":76065964,"question_id":57448358,"body_markdown":"In case both parameters are not null you have to combine this into one single criteria with andOperator() instead of calling two separate addCriteria methods, something like this:\r\n\r\n        if(par1 != null &amp;&amp; par2 != null){\r\n              query.addCriteria(\r\n                new Criteria().andOperator(\r\n                  new Criteria().orOperator(\r\n                    Criteria.where(Book.SOME_FIELD + &quot;.&quot; + BookDetail.CATEGORY_FIELD).is(par1),\r\n                    Criteria.where(Book.OTHER_FIELD + &quot;.&quot; + BookDetail.CATEGORY_FIELD).is(par1)),\r\n                  new Criteria().orOperator(\r\n                    Criteria.where(Book.SOME_FIELD + &quot;.&quot; + BookDetail.TYPE_FIELD).is(par2),\r\n                    Criteria.where(Book.OTHER_FIELD + &quot;.&quot; + BookDetail.TYPE_FIELD).is(par2)));\r\n        } else if (par1 != null) {\r\n              query.addCriteria(\r\n                new Criteria().orOperator(\r\n                  Criteria.where(Book.SOME_FIELD + &quot;.&quot; + BookDetail.CATEGORY_FIELD).is(par1),\r\n                  Criteria.where(Book.OTHER_FIELD + &quot;.&quot; + BookDetail.CATEGORY_FIELD).is(par1)));\r\n        } else if (par2 != null) {\r\n              query.addCriteria(\r\n                new Criteria().orOperator(\r\n                  Criteria.where(Book.SOME_FIELD + &quot;.&quot; + BookDetail.TYPE_FIELD).is(par2),\r\n                  Criteria.where(Book.OTHER_FIELD + &quot;.&quot; + BookDetail.TYPE_FIELD).is(par2)));\r\n        }","title":"Can&#39;t add second OR to the Criteria","body":"<p>In case both parameters are not null you have to combine this into one single criteria with andOperator() instead of calling two separate addCriteria methods, something like this:</p>\n<pre><code>    if(par1 != null &amp;&amp; par2 != null){\n          query.addCriteria(\n            new Criteria().andOperator(\n              new Criteria().orOperator(\n                Criteria.where(Book.SOME_FIELD + &quot;.&quot; + BookDetail.CATEGORY_FIELD).is(par1),\n                Criteria.where(Book.OTHER_FIELD + &quot;.&quot; + BookDetail.CATEGORY_FIELD).is(par1)),\n              new Criteria().orOperator(\n                Criteria.where(Book.SOME_FIELD + &quot;.&quot; + BookDetail.TYPE_FIELD).is(par2),\n                Criteria.where(Book.OTHER_FIELD + &quot;.&quot; + BookDetail.TYPE_FIELD).is(par2)));\n    } else if (par1 != null) {\n          query.addCriteria(\n            new Criteria().orOperator(\n              Criteria.where(Book.SOME_FIELD + &quot;.&quot; + BookDetail.CATEGORY_FIELD).is(par1),\n              Criteria.where(Book.OTHER_FIELD + &quot;.&quot; + BookDetail.CATEGORY_FIELD).is(par1)));\n    } else if (par2 != null) {\n          query.addCriteria(\n            new Criteria().orOperator(\n              Criteria.where(Book.SOME_FIELD + &quot;.&quot; + BookDetail.TYPE_FIELD).is(par2),\n              Criteria.where(Book.OTHER_FIELD + &quot;.&quot; + BookDetail.TYPE_FIELD).is(par2)));\n    }\n</code></pre>\n"}],"owner":{"account_id":16488712,"reputation":87,"user_id":11913262,"display_name":"Dvir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1190,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682005487,"creation_date":1565510793,"question_id":57448358,"body_markdown":"I&#39;m trying to add a second OR to my Criteria. \r\nI&#39;m getting an error that \r\n`Due to limitations of the com.mongodb.BasicDBObject, you can&#39;t add a second &#39;null&#39; criteria`\r\n\r\n\r\nWhen I debugged it I saw that the first OR is adding to the HashMap of Criteria a value with null as a key. \r\nThe moment it trying to add the second one, it finds that the null key exists so it throws an error.\r\n\r\n\r\n        if (par1 != null) {\r\n            query.addCriteria(\r\n                    new Criteria().orOperator(\r\n                            Criteria.where(Book.SOME_FIELD + &quot;.&quot; + BookDetail.CATEGORY_FIELD).is(par1),\r\n                            Criteria.where(Book.OTHER_FIELD + &quot;.&quot; + BookDetail.CATEGORY_FIELD).is(par1)\r\n                    )\r\n                    \r\n            );\r\n\r\n        }\r\n        \r\n        if (par2 != null) {\r\n\r\n            query.addCriteria(\r\n                    new Criteria().orOperator(\r\n                            Criteria.where(Book.SOME_FIELD + &quot;.&quot; + BookDetail.TYPE_FIELD).is(par2),\r\n                            Criteria.where(Book.OTHER_FIELD + &quot;.&quot; + BookDetail.TYPE_FIELD).is(par2)\r\n                    )\r\n                    \r\n            );\r\n        }\r\n\r\nI want to check the non-null parameters with the corresponding fields. \r\n\r\nit&#39;s working if I&#39;m sending only 1 parameter. \r\nThe problem is when I&#39;m sending 2 parameters at the same time.\r\n\r\nThanks.","title":"Can&#39;t add second OR to the Criteria","body":"<p>I'm trying to add a second OR to my Criteria. \nI'm getting an error that \n<code>Due to limitations of the com.mongodb.BasicDBObject, you can't add a second 'null' criteria</code></p>\n\n<p>When I debugged it I saw that the first OR is adding to the HashMap of Criteria a value with null as a key. \nThe moment it trying to add the second one, it finds that the null key exists so it throws an error.</p>\n\n<pre><code>    if (par1 != null) {\n        query.addCriteria(\n                new Criteria().orOperator(\n                        Criteria.where(Book.SOME_FIELD + \".\" + BookDetail.CATEGORY_FIELD).is(par1),\n                        Criteria.where(Book.OTHER_FIELD + \".\" + BookDetail.CATEGORY_FIELD).is(par1)\n                )\n\n        );\n\n    }\n\n    if (par2 != null) {\n\n        query.addCriteria(\n                new Criteria().orOperator(\n                        Criteria.where(Book.SOME_FIELD + \".\" + BookDetail.TYPE_FIELD).is(par2),\n                        Criteria.where(Book.OTHER_FIELD + \".\" + BookDetail.TYPE_FIELD).is(par2)\n                )\n\n        );\n    }\n</code></pre>\n\n<p>I want to check the non-null parameters with the corresponding fields. </p>\n\n<p>it's working if I'm sending only 1 parameter. \nThe problem is when I'm sending 2 parameters at the same time.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","android","gradle","transform","java-bytecode-asm"],"owner":{"account_id":25447497,"reputation":11,"user_id":19249488,"display_name":"xiao jinzi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682004221,"creation_date":1682003502,"question_id":76065664,"body_markdown":"First step\r\n\r\nI want to collect all the class names that satisfy the condition, they have fixed prefixes and suffixes, such as:\r\n\r\n- com.xiaojinzi.component.impl.UserModuleGenerated\r\n- com.xiaojinzi.component.impl.BaseModuleGenerated\r\n- com.xiaojinzi.component.impl.OrderModuleGenerated\r\n\r\nthe name list is \\[User, Base, Order\\]\r\n\r\nSecond step\r\n\r\nI have a class in my project, code show as below\r\n\r\n```\r\npublic class ASMUtl {\r\n   \r\n    @NonNull\r\n    public static List&lt;String&gt; getModuleNames() {\r\n        return Collections.emptyList();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI want to modify it to look like this\r\n\r\n```\r\npublic class ASMUtl {\r\n   \r\n    @NonNull\r\n    public static List&lt;String&gt; getModuleNames() {\r\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n        // \r\n        result.add(&quot;user&quot;);\r\n        result.add(&quot;Base&quot;);\r\n        result.add(&quot;Order&quot;);\r\n        return result;\r\n    }\r\n\r\n}\r\n```\r\n\r\nBefore Gradle 8.x, I can use Transform Api to complete these two steps\r\nBut now with Gradle 8.x I don&#39;t know how to achieve\r\nThis problem is encountered in my [&#39;Component&#39;](https://github.com/xiaojinzi123/Component) open source library, please help me\r\n\r\n\r\nI have tried the method of AsmClassVisitorFactory Api, but it can only modify the class, and cannot collect information in advance\r\n\r\n```\r\nandroidComponents.onVariants { variant -&gt;\r\n\r\n    variant\r\n        .instrumentation\r\n        .transformClassesWith(\r\n            classVisitorFactoryImplClass = CollectModuleNameAsmClassVisitorFactory::class.java,\r\n            scope = InstrumentationScope.ALL,\r\n        ) {\r\n            // empty\r\n        }\r\n\r\nvariant.instrumentation.setAsmFramesComputationMode(FramesComputationMode.COPY_FRAMES)\r\n\r\n}\r\n```","title":"Android AGP update to 8.x, transform api is Deprecated. I don&#39;t know how to do it","body":"<p>First step</p>\n<p>I want to collect all the class names that satisfy the condition, they have fixed prefixes and suffixes, such as:</p>\n<ul>\n<li>com.xiaojinzi.component.impl.UserModuleGenerated</li>\n<li>com.xiaojinzi.component.impl.BaseModuleGenerated</li>\n<li>com.xiaojinzi.component.impl.OrderModuleGenerated</li>\n</ul>\n<p>the name list is [User, Base, Order]</p>\n<p>Second step</p>\n<p>I have a class in my project, code show as below</p>\n<pre><code>public class ASMUtl {\n   \n    @NonNull\n    public static List&lt;String&gt; getModuleNames() {\n        return Collections.emptyList();\n    }\n\n}\n</code></pre>\n<p>I want to modify it to look like this</p>\n<pre><code>public class ASMUtl {\n   \n    @NonNull\n    public static List&lt;String&gt; getModuleNames() {\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\n        // \n        result.add(&quot;user&quot;);\n        result.add(&quot;Base&quot;);\n        result.add(&quot;Order&quot;);\n        return result;\n    }\n\n}\n</code></pre>\n<p>Before Gradle 8.x, I can use Transform Api to complete these two steps\nBut now with Gradle 8.x I don't know how to achieve\nThis problem is encountered in my <a href=\"https://github.com/xiaojinzi123/Component\" rel=\"nofollow noreferrer\">'Component'</a> open source library, please help me</p>\n<p>I have tried the method of AsmClassVisitorFactory Api, but it can only modify the class, and cannot collect information in advance</p>\n<pre><code>androidComponents.onVariants { variant -&gt;\n\n    variant\n        .instrumentation\n        .transformClassesWith(\n            classVisitorFactoryImplClass = CollectModuleNameAsmClassVisitorFactory::class.java,\n            scope = InstrumentationScope.ALL,\n        ) {\n            // empty\n        }\n\nvariant.instrumentation.setAsmFramesComputationMode(FramesComputationMode.COPY_FRAMES)\n\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","java-8","decompiling"],"comments":[{"owner":{"account_id":19886764,"reputation":1,"user_id":14569610,"display_name":"Scintiller"},"score":0,"creation_date":1604396582,"post_id":28389006,"comment_id":114343678,"body_markdown":"[Look Inside Compiled Code with Java Bytecode Decompiler](https://blog.jetbrains.com/idea/2020/03/java-bytecode-decompiler/) -- This page introduced the plugin `Java Bytecode Decompiler` in 2020.03. By using this bundled plugin inside Intellij, it&#39;s pretty easy to decompile `.jar` to java code.","body":"<a href=\"https://blog.jetbrains.com/idea/2020/03/java-bytecode-decompiler/\" rel=\"nofollow noreferrer\">Look Inside Compiled Code with Java Bytecode Decompiler</a> -- This page introduced the plugin <code>Java Bytecode Decompiler</code> in 2020.03. By using this bundled plugin inside Intellij, it&#39;s pretty easy to decompile <code>.jar</code> to java code."}],"answers":[{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1676532330,"creation_date":1423354218,"answer_id":28389040,"question_id":28389006,"body_markdown":"The decompiler of IntelliJ IDEA was not built with this kind of usage in mind. It is only meant to help programmers peek at the bytecode of the java classes that they are developing. For decompiling lots of class files of which you do not have source code, you will need some other java decompiler, which is specialized for this job, and most likely runs standalone, like jad, fernflower, etc.","title":"How to decompile to java files intellij idea","body":"<p>The decompiler of IntelliJ IDEA was not built with this kind of usage in mind. It is only meant to help programmers peek at the bytecode of the java classes that they are developing. For decompiling lots of class files of which you do not have source code, you will need some other java decompiler, which is specialized for this job, and most likely runs standalone, like jad, fernflower, etc.</p>\n"},{"tags":[],"owner":{"account_id":2244667,"reputation":4001,"user_id":1978330,"accept_rate":50,"display_name":"theadam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1423355481,"creation_date":1423355481,"answer_id":28389168,"question_id":28389006,"body_markdown":"Some time ago I used JAD (JAva Decompiler) to achieve this - I do not think IntelliJ&#39;s decompiler was incorporated with exporting in mind. It is more of a tool to help look through classes where sources are not available.\r\n\r\nJAD is still available for download, but I do not think anyone maintains it anymore: http://varaneckas.com/jad/\r\n\r\nThere were numerous plugins for it, namely Jadclipse (you guessed it, a way to use JAD in Eclipse - see decompiled classes where code is not available :)).","title":"How to decompile to java files intellij idea","body":"<p>Some time ago I used JAD (JAva Decompiler) to achieve this - I do not think IntelliJ's decompiler was incorporated with exporting in mind. It is more of a tool to help look through classes where sources are not available.</p>\n\n<p>JAD is still available for download, but I do not think anyone maintains it anymore: <a href=\"http://varaneckas.com/jad/\" rel=\"nofollow\">http://varaneckas.com/jad/</a></p>\n\n<p>There were numerous plugins for it, namely Jadclipse (you guessed it, a way to use JAD in Eclipse - see decompiled classes where code is not available :)).</p>\n"},{"tags":[],"owner":{"account_id":5997930,"reputation":41,"user_id":4712093,"display_name":"Bluexin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1427287740,"creation_date":1427287740,"answer_id":29256144,"question_id":28389006,"body_markdown":"You could use one of these (you can both use them online or download them, there is some info about each of them) :\r\nhttp://www.javadecompilers.com/\r\n\r\nThe one IntelliJ IDEA uses is fernflower, but it can&#39;t handle recent things - like String/Enum switches, generics (didn&#39;t test this one personally, only read about it), ...\r\nI just tried cfr from the above website and the result was the same as with the built-in decompiler (except for the Enum switch I had in my class).","title":"How to decompile to java files intellij idea","body":"<p>You could use one of these (you can both use them online or download them, there is some info about each of them) :\n<a href=\"http://www.javadecompilers.com/\" rel=\"nofollow\">http://www.javadecompilers.com/</a></p>\n\n<p>The one IntelliJ IDEA uses is fernflower, but it can't handle recent things - like String/Enum switches, generics (didn't test this one personally, only read about it), ...\nI just tried cfr from the above website and the result was the same as with the built-in decompiler (except for the Enum switch I had in my class).</p>\n"},{"tags":[],"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"down_vote_count":0,"up_vote_count":51,"is_accepted":false,"score":51,"last_activity_date":1542813885,"creation_date":1438677090,"answer_id":31804366,"question_id":28389006,"body_markdown":"Follow instructions for [IntelliJ JD plugin][1]. Or see an excerpt from the instructions below.\r\n\r\n    java -jar fernflower.jar [&lt;source&gt;]+ &lt;destination&gt;\r\n\r\n&gt; `+` means 1 or more times  \r\n&gt; `&lt;source&gt;`: file or directory with files to be decompiled. Directories are recursively scanned. Allowed file extensions are class, zip and jar.  \r\n&gt; `&lt;destination&gt;`: destination directory\r\n\r\nExample:\r\n\r\n    java -jar fernflower.jar -hdc=0 -dgs=1 -rsy=1 -lit=1 c:\\Temp\\binary\\ -e=c:\\Java\\rt.jar c:\\Temp\\source\\\r\n\r\nBe aware that if you pass it a &quot;.jar&quot; file for the source, it will create another &quot;.jar&quot; file in the destination, however, within the new &quot;.jar&quot; file, the files will be .java instead of .class files (it doesn&#39;t explode the jar).\r\n\r\n---\r\n\r\n### UPDATE\r\n\r\nPeople ask me: How do I get the fernflower.jar?\r\n\r\nIf you have any IntelliJ product installed, chances are that you already have the Fernflower decompiler on your computer. IntelliJ IDEA comes with [Java Bytecode Decompiler](https://plugins.jetbrains.com/plugin/7100-java-decompiler-intellij-plugin) plugin (bundled) which is a modern extension of Fernflower. \r\n\r\n1. Locate the file in `${IntelliJ_INSTALL_DIR}\\plugins\\java-decompiler\\lib\\java-decompiler.jar` (example: C:\\Program Files\\JetBrains\\IntelliJ IDEA 2018\\plugins\\java-decompiler\\lib).\r\n2. Copy it somewhere and rename to fernflower.jar (optional).\r\n3. This JAR is not executable, so we can&#39;t run it using `java -jar`. However something like this works:\r\n\r\n        java -cp fernflower.jar org.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler [&lt;source&gt;]+ &lt;destination&gt;\r\n\r\n    `org.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler` is the class that contains the main method to run the decompiler.\r\n\r\n    Example:\r\n\r\n        mkdir output_src\r\n        java -cp fernflower.jar org.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler -hdc=0 -dgs=1 -rsy=1 -lit=1 ./input.jar ./output_src\r\n\r\nIf you don&#39;t have IntelliJ products installed, either download it now (available on [jetbrains.com][2]) or make your own decompiler executable from sources (available on [Github][1]).\r\n\r\n\r\n  [1]: https://github.com/JetBrains/intellij-community/tree/master/plugins/java-decompiler/engine\r\n  [2]: https://www.jetbrains.com/idea/download","title":"How to decompile to java files intellij idea","body":"<p>Follow instructions for <a href=\"https://github.com/JetBrains/intellij-community/tree/master/plugins/java-decompiler/engine\" rel=\"noreferrer\">IntelliJ JD plugin</a>. Or see an excerpt from the instructions below.</p>\n\n<pre><code>java -jar fernflower.jar [&lt;source&gt;]+ &lt;destination&gt;\n</code></pre>\n\n<blockquote>\n  <p><code>+</code> means 1 or more times<br>\n  <code>&lt;source&gt;</code>: file or directory with files to be decompiled. Directories are recursively scanned. Allowed file extensions are class, zip and jar.<br>\n  <code>&lt;destination&gt;</code>: destination directory</p>\n</blockquote>\n\n<p>Example:</p>\n\n<pre><code>java -jar fernflower.jar -hdc=0 -dgs=1 -rsy=1 -lit=1 c:\\Temp\\binary\\ -e=c:\\Java\\rt.jar c:\\Temp\\source\\\n</code></pre>\n\n<p>Be aware that if you pass it a \".jar\" file for the source, it will create another \".jar\" file in the destination, however, within the new \".jar\" file, the files will be .java instead of .class files (it doesn't explode the jar).</p>\n\n<hr>\n\n<h3>UPDATE</h3>\n\n<p>People ask me: How do I get the fernflower.jar?</p>\n\n<p>If you have any IntelliJ product installed, chances are that you already have the Fernflower decompiler on your computer. IntelliJ IDEA comes with <a href=\"https://plugins.jetbrains.com/plugin/7100-java-decompiler-intellij-plugin\" rel=\"noreferrer\">Java Bytecode Decompiler</a> plugin (bundled) which is a modern extension of Fernflower. </p>\n\n<ol>\n<li>Locate the file in <code>${IntelliJ_INSTALL_DIR}\\plugins\\java-decompiler\\lib\\java-decompiler.jar</code> (example: C:\\Program Files\\JetBrains\\IntelliJ IDEA 2018\\plugins\\java-decompiler\\lib).</li>\n<li>Copy it somewhere and rename to fernflower.jar (optional).</li>\n<li><p>This JAR is not executable, so we can't run it using <code>java -jar</code>. However something like this works:</p>\n\n<pre><code>java -cp fernflower.jar org.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler [&lt;source&gt;]+ &lt;destination&gt;\n</code></pre>\n\n<p><code>org.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler</code> is the class that contains the main method to run the decompiler.</p>\n\n<p>Example:</p>\n\n<pre><code>mkdir output_src\njava -cp fernflower.jar org.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler -hdc=0 -dgs=1 -rsy=1 -lit=1 ./input.jar ./output_src\n</code></pre></li>\n</ol>\n\n<p>If you don't have IntelliJ products installed, either download it now (available on <a href=\"https://www.jetbrains.com/idea/download\" rel=\"noreferrer\">jetbrains.com</a>) or make your own decompiler executable from sources (available on <a href=\"https://github.com/JetBrains/intellij-community/tree/master/plugins/java-decompiler/engine\" rel=\"noreferrer\">Github</a>).</p>\n"},{"tags":[],"owner":{"account_id":157624,"reputation":2952,"user_id":375713,"accept_rate":57,"display_name":"yan"},"down_vote_count":0,"up_vote_count":95,"is_accepted":false,"score":95,"last_activity_date":1501949375,"creation_date":1501949375,"answer_id":45523925,"question_id":28389006,"body_markdown":"As of August 2017 and IntelliJ V2017.2, the accepted answer does not seem to be entirely accurate anymore: there is no `fernflower.jar` to use. \r\n\r\nThe jar file is called `java-decompiler.jar` and does not include a main manifest... Instead you can use the following command (from a Mac install):\r\n\r\n    java -cp &quot;/Applications/IntelliJ IDEA.app/Contents/plugins/java-decompiler/lib/java-decompiler.jar&quot; org.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler\r\n\r\n(you will get the wrong *Usage* command, but it does work).","title":"How to decompile to java files intellij idea","body":"<p>As of August 2017 and IntelliJ V2017.2, the accepted answer does not seem to be entirely accurate anymore: there is no <code>fernflower.jar</code> to use. </p>\n\n<p>The jar file is called <code>java-decompiler.jar</code> and does not include a main manifest... Instead you can use the following command (from a Mac install):</p>\n\n<pre><code>java -cp \"/Applications/IntelliJ IDEA.app/Contents/plugins/java-decompiler/lib/java-decompiler.jar\" org.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler\n</code></pre>\n\n<p>(you will get the wrong <em>Usage</em> command, but it does work).</p>\n"},{"tags":[],"owner":{"account_id":1028612,"reputation":1675,"user_id":1037363,"accept_rate":20,"display_name":"Prasobh.Kollattu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1517919939,"creation_date":1517919939,"answer_id":48643058,"question_id":28389006,"body_markdown":"Try\r\n\r\n[https://github.com/fesh0r/fernflower][1]\r\n\r\nDownload jar from \r\n\r\n[http://files.minecraftforge.net/maven/net/minecraftforge/fernflower/][2]\r\n\r\n\r\n  [1]: https://github.com/fesh0r/fernflower\r\n  [2]: http://files.minecraftforge.net/maven/net/minecraftforge/fernflower/\r\n\r\nCommand :\r\n\r\n    java -jar fernflower.jar -hes=0 -hdc=0 C:\\binary  C:\\source\r\nPlace your jar file in folder C:\\binary and source will be extracted and packed in a jar inside C:\\source.\r\n\r\nEnjoy!\r\n\r\n\r\n","title":"How to decompile to java files intellij idea","body":"<p>Try</p>\n\n<p><a href=\"https://github.com/fesh0r/fernflower\" rel=\"nofollow noreferrer\">https://github.com/fesh0r/fernflower</a></p>\n\n<p>Download jar from </p>\n\n<p><a href=\"http://files.minecraftforge.net/maven/net/minecraftforge/fernflower/\" rel=\"nofollow noreferrer\">http://files.minecraftforge.net/maven/net/minecraftforge/fernflower/</a></p>\n\n<p>Command :</p>\n\n<pre><code>java -jar fernflower.jar -hes=0 -hdc=0 C:\\binary  C:\\source\n</code></pre>\n\n<p>Place your jar file in folder C:\\binary and source will be extracted and packed in a jar inside C:\\source.</p>\n\n<p>Enjoy!</p>\n"},{"tags":[],"owner":{"account_id":10541292,"reputation":101,"user_id":7767250,"display_name":"tecdoc ukr net"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1531934128,"creation_date":1531934128,"answer_id":51407633,"question_id":28389006,"body_markdown":"I use JD-GUI for extract all decompiled java classes to java files. ","title":"How to decompile to java files intellij idea","body":"<p>I use JD-GUI for extract all decompiled java classes to java files. </p>\n"},{"tags":[],"owner":{"account_id":4643327,"reputation":4164,"user_id":3762471,"accept_rate":33,"display_name":"Victor Choy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542802612,"creation_date":1542801250,"answer_id":53411496,"question_id":28389006,"body_markdown":"Someone had gave good answers. I made another instruction clue step by step.\r\nFirst, open your studio and search. You can find the decompier is Fernflower.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4xsaP.png\r\n\r\nSecond, we can find it in the plugins directory.\r\n\r\n    /Applications/Android Studio.app/Contents/plugins/java-decompiler/lib/java-decompiler.jar\r\n\r\nThird, run it, you will get the usage\r\n\r\n    java -cp &quot;/Applications/Android Studio.app/Contents/plugins/java-decompiler/lib/java-decompiler.jar&quot; org.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler\r\n\r\n    Usage: java -jar fernflower.jar [-&lt;option&gt;=&lt;value&gt;]* [&lt;source&gt;]+ &lt;destination&gt;\r\n    Example: java -jar fernflower.jar -dgs=true c:\\my\\source\\ c:\\my.jar d:\\decompiled\\\r\n\r\nFinally, The studio&#39;s nest options for decompiler list as follows according IdeaDecompiler.kt\r\n\r\n-hdc=0  -dgs=1  -rsy=1 -rbr=1  -lit=1  -nls=1 -mpm=60 -lac=1\r\n\r\n    IFernflowerPreferences.HIDE_DEFAULT_CONSTRUCTOR to &quot;0&quot;,\r\n            IFernflowerPreferences.DECOMPILE_GENERIC_SIGNATURES to &quot;1&quot;,\r\n            IFernflowerPreferences.REMOVE_SYNTHETIC to &quot;1&quot;,\r\n            IFernflowerPreferences.REMOVE_BRIDGE to &quot;1&quot;,\r\n            IFernflowerPreferences.LITERALS_AS_IS to &quot;1&quot;,\r\n            IFernflowerPreferences.NEW_LINE_SEPARATOR to &quot;1&quot;,\r\n            **IFernflowerPreferences.BANNER to BANNER,**\r\n            IFernflowerPreferences.MAX_PROCESSING_METHOD to 60,\r\n            **IFernflowerPreferences.INDENT_STRING to indent,**\r\n            **IFernflowerPreferences.IGNORE_INVALID_BYTECODE to &quot;1&quot;,**\r\n            IFernflowerPreferences.VERIFY_ANONYMOUS_CLASSES to &quot;1&quot;,\r\n             **IFernflowerPreferences.UNIT_TEST_MODE to if (ApplicationManager.getApplication().isUnitTestMode) &quot;1&quot; else &quot;0&quot;)**\r\n\r\nI cant find the sutialbe option for the asterisk items.\r\n\r\nHope these steps will make the question clear.","title":"How to decompile to java files intellij idea","body":"<p>Someone had gave good answers. I made another instruction clue step by step.\nFirst, open your studio and search. You can find the decompier is Fernflower.</p>\n\n<p><a href=\"https://i.stack.imgur.com/4xsaP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4xsaP.png\" alt=\"enter image description here\"></a></p>\n\n<p>Second, we can find it in the plugins directory.</p>\n\n<pre><code>/Applications/Android Studio.app/Contents/plugins/java-decompiler/lib/java-decompiler.jar\n</code></pre>\n\n<p>Third, run it, you will get the usage</p>\n\n<pre><code>java -cp \"/Applications/Android Studio.app/Contents/plugins/java-decompiler/lib/java-decompiler.jar\" org.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler\n\nUsage: java -jar fernflower.jar [-&lt;option&gt;=&lt;value&gt;]* [&lt;source&gt;]+ &lt;destination&gt;\nExample: java -jar fernflower.jar -dgs=true c:\\my\\source\\ c:\\my.jar d:\\decompiled\\\n</code></pre>\n\n<p>Finally, The studio's nest options for decompiler list as follows according IdeaDecompiler.kt</p>\n\n<p>-hdc=0  -dgs=1  -rsy=1 -rbr=1  -lit=1  -nls=1 -mpm=60 -lac=1</p>\n\n<pre><code>IFernflowerPreferences.HIDE_DEFAULT_CONSTRUCTOR to \"0\",\n        IFernflowerPreferences.DECOMPILE_GENERIC_SIGNATURES to \"1\",\n        IFernflowerPreferences.REMOVE_SYNTHETIC to \"1\",\n        IFernflowerPreferences.REMOVE_BRIDGE to \"1\",\n        IFernflowerPreferences.LITERALS_AS_IS to \"1\",\n        IFernflowerPreferences.NEW_LINE_SEPARATOR to \"1\",\n        **IFernflowerPreferences.BANNER to BANNER,**\n        IFernflowerPreferences.MAX_PROCESSING_METHOD to 60,\n        **IFernflowerPreferences.INDENT_STRING to indent,**\n        **IFernflowerPreferences.IGNORE_INVALID_BYTECODE to \"1\",**\n        IFernflowerPreferences.VERIFY_ANONYMOUS_CLASSES to \"1\",\n         **IFernflowerPreferences.UNIT_TEST_MODE to if (ApplicationManager.getApplication().isUnitTestMode) \"1\" else \"0\")**\n</code></pre>\n\n<p>I cant find the sutialbe option for the asterisk items.</p>\n\n<p>Hope these steps will make the question clear.</p>\n"},{"tags":[],"owner":{"account_id":3123263,"reputation":237,"user_id":2642646,"display_name":"user2642646"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1628050129,"creation_date":1620050387,"answer_id":67370257,"question_id":28389006,"body_markdown":"1. Open an existing project or create a new one.\r\n\r\n2. Go to [Project structure settings][1] &gt; Libraries. Add the jar you want to decompile in libraries by clicking the `+` symbol.\r\n\r\n3. Go to the [Project tool window][2] shown on the left. Search for jar name that you added in the previous step. Navigate to the desired class or package.\r\n\r\nYou can see the decompiled java files for that jar.\r\n\r\n[1]: https://www.jetbrains.com/help/idea/project-settings-and-structure.html\r\n[2]: https://www.jetbrains.com/help/idea/project-tool-window.html","title":"How to decompile to java files intellij idea","body":"<ol>\n<li><p>Open an existing project or create a new one.</p>\n</li>\n<li><p>Go to <a href=\"https://www.jetbrains.com/help/idea/project-settings-and-structure.html\" rel=\"noreferrer\">Project structure settings</a> &gt; Libraries. Add the jar you want to decompile in libraries by clicking the <code>+</code> symbol.</p>\n</li>\n<li><p>Go to the <a href=\"https://www.jetbrains.com/help/idea/project-tool-window.html\" rel=\"noreferrer\">Project tool window</a> shown on the left. Search for jar name that you added in the previous step. Navigate to the desired class or package.</p>\n</li>\n</ol>\n<p>You can see the decompiled java files for that jar.</p>\n"},{"tags":[],"owner":{"account_id":1386556,"reputation":7199,"user_id":1318479,"accept_rate":88,"display_name":"cb4"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656706678,"creation_date":1651289883,"answer_id":72065519,"question_id":28389006,"body_markdown":"2022 UPDATE\r\n-----------\r\n\r\nLike any experienced developer who&#39;s being honest, I have to admit it -- I&#39;m lazy. More is less and less is better when it comes to typing. The answers from @naXa and @yan are fine, except for having to open a terminal and type :-( \r\n\r\nTo decompile a jar right from within intellij, create a reusable `JAR Application` run configuration:\r\n\r\n 1. Copy `java-decompiler.jar` to a folder in your project (I used lib). Get from:: Windows: C:\\Program Files\\Intellij\\plugins\\java-decompiler\\lib; [or from github (documentation is here)][1]\r\n 2. Copy source jar or class files to same folder\r\n 3. Create a run configuration with settings like these:\r\n\r\n - `Path to JAR:` browse to java-decompiler.jar\r\n - `Program arguments:` -hdc=0 -dgs=1 -rsy=1 -lit=1 your.jar lib \r\n - `Working directory:` lib\r\n - `JRE:` 11\r\n\r\nIn this case, `your.jar` is the source and `lib` is the output directory. Save it, run it, and watch it do its thing :-)\r\n\r\nNeed to do it again with different class files or jars? Duplicate the run config and update `Program arguments`.\r\n\r\n\r\n  [1]: https://github.com/javaweb-sec/fernflower-decomplier","title":"How to decompile to java files intellij idea","body":"<h2>2022 UPDATE</h2>\n<p>Like any experienced developer who's being honest, I have to admit it -- I'm lazy. More is less and less is better when it comes to typing. The answers from @naXa and @yan are fine, except for having to open a terminal and type :-(</p>\n<p>To decompile a jar right from within intellij, create a reusable <code>JAR Application</code> run configuration:</p>\n<ol>\n<li>Copy <code>java-decompiler.jar</code> to a folder in your project (I used lib). Get from:: Windows: C:\\Program Files\\Intellij\\plugins\\java-decompiler\\lib; <a href=\"https://github.com/javaweb-sec/fernflower-decomplier\" rel=\"nofollow noreferrer\">or from github (documentation is here)</a></li>\n<li>Copy source jar or class files to same folder</li>\n<li>Create a run configuration with settings like these:</li>\n</ol>\n<ul>\n<li><code>Path to JAR:</code> browse to java-decompiler.jar</li>\n<li><code>Program arguments:</code> -hdc=0 -dgs=1 -rsy=1 -lit=1 your.jar lib</li>\n<li><code>Working directory:</code> lib</li>\n<li><code>JRE:</code> 11</li>\n</ul>\n<p>In this case, <code>your.jar</code> is the source and <code>lib</code> is the output directory. Save it, run it, and watch it do its thing :-)</p>\n<p>Need to do it again with different class files or jars? Duplicate the run config and update <code>Program arguments</code>.</p>\n"},{"tags":[],"owner":{"account_id":18232027,"reputation":1,"user_id":13270778,"display_name":"XINGXUAN LUO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673577043,"creation_date":1673577043,"answer_id":75104304,"question_id":28389006,"body_markdown":"---- package jar (java) jar -cvfM0 test.jar\r\n\r\n\r\n * ---Decompile jar(class)&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;jar(java) java -cp &quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\plugins\\java-decompiler\\lib\\java-decompiler.jar&quot; org.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler -dgs=true C:\\ Users\\luo\\Desktop\\sf1\\pxks\\test.jar C:\\Users\\luo\\Desktop\\sf1\r\n\r\n\r\nUnzip manually \r\n\r\nOr use the following command to decompress \r\n\r\nfind the path \r\ncd.. \r\n\r\ndecompress \r\njar -xvf test.jar \r\n\r\nReference http://t.csdn.cn/3YLK4","title":"How to decompile to java files intellij idea","body":"<p>---- package jar (java) jar -cvfM0 test.jar</p>\n<ul>\n<li>---Decompile jar(class)&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;jar(java) java -cp &quot;C:\\Program Files\\JetBrains\\IntelliJ IDEA 2020.1\\plugins\\java-decompiler\\lib\\java-decompiler.jar&quot; org.jetbrains.java.decompiler.main.decompiler.ConsoleDecompiler -dgs=true C:\\ Users\\luo\\Desktop\\sf1\\pxks\\test.jar C:\\Users\\luo\\Desktop\\sf1</li>\n</ul>\n<p>Unzip manually</p>\n<p>Or use the following command to decompress</p>\n<p>find the path\ncd..</p>\n<p>decompress\njar -xvf test.jar</p>\n<p>Reference <a href=\"http://t.csdn.cn/3YLK4\" rel=\"nofollow noreferrer\">http://t.csdn.cn/3YLK4</a></p>\n"}],"owner":{"display_name":"user4541912"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215192,"favorite_count":0,"down_vote_count":0,"up_vote_count":107,"answer_count":11,"score":107,"last_activity_date":1682003457,"creation_date":1423353888,"question_id":28389006,"body_markdown":"IDEA has a great built-in feature - decompiler. It works great.I can copy source code, but I cannot find option to extract all decompiled java classes to java files.   \r\nThis project has a lot of java classes and packages, so I will be to long to copy this manually.  \r\nDoes anyone know how to extract to java source files.\r\n  Thx","title":"How to decompile to java files intellij idea","body":"<p>IDEA has a great built-in feature - decompiler. It works great.I can copy source code, but I cannot find option to extract all decompiled java classes to java files.<br>\nThis project has a lot of java classes and packages, so I will be to long to copy this manually.<br>\nDoes anyone know how to extract to java source files.\n  Thx</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":1,"creation_date":1681719548,"post_id":76032997,"comment_id":134096067,"body_markdown":"Can you post the stacktrace of the crash?","body":"Can you post the stacktrace of the crash?"}],"answers":[{"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682002980,"creation_date":1681831033,"answer_id":76046324,"question_id":76032997,"body_markdown":"**Your Problem**\r\n\r\n&gt; I have tried changing the intent statement in many ways but each time the program still crashes, and I&#39;m not being given any details on the error.\r\n\r\nThe crash is telling you the exact problem. This is how to debug your issue:\r\n\r\nFirst, look at the actual exception that was raised and read the information:\r\n\r\n&gt; java.lang.IllegalStateException: Could not find method Imagebuttonclicked(View) in a parent or ancestor Context for android:onClick attribute defined on view class android.widget.LinearLayout with id &#39;barbellRow&#39;\r\n\r\nYou didn&#39;t post your layout but from this very detailed error we know you have a `LinearLayout` with id `barbellRow` on which you set the `android:onClick` attribute to the `Imagebuttonclicked(View)` method.\r\n\r\nWe also know that problem is that that method was not found &quot;in a parent or ancestor Context&quot;. From [the documentation,][1] for `onClick` we know that (emphasis mine):\r\n\r\n&gt;For instance, if you specify android:onClick=&quot;sayHello&quot;, you must declare a public void sayHello(View v) method of your **context (typically, your Activity).** \r\n\r\nFrom your code, your click handler is defined in your `Fragment` and `Fragment` is not a `Context`, so it fails.\r\n\r\n**So the solution is one of two options:**\r\n\r\n1 - (Preferred) - Don&#39;t use the gimmicky `onClick` attribute and set the click listener on the `LinearLayout` explicitly in your `Fragment`. This will be more obvious and keeps your click handling local to your `Fragment` instead of having it being handle by the `Activity`.\r\n\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        binding = FragmentExercisesBinding.inflate(getLayoutInflater(), container, false);\r\n        View view = binding.getRoot();\r\n        // Your existing code\r\n    \r\n        // Set onclicklistener explicitly\r\n        binding.barbellRow.setOnClickListener(new OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Imagebuttonclicked(v);\r\n            }\r\n        });\r\n    \r\n        return view;\r\n    }\r\n\r\n2 - If you want to use the `onClick` attribute, move the function to the `Activity` in which the `Fragment` lives to satisfy the conditions required by that attribute.\r\n\r\n  [1]: https://developer.android.com/reference/android/view/View#attr_android:onClick","title":"How can I open a new activity using a button in a fragment?","body":"<p><strong>Your Problem</strong></p>\n<blockquote>\n<p>I have tried changing the intent statement in many ways but each time the program still crashes, and I'm not being given any details on the error.</p>\n</blockquote>\n<p>The crash is telling you the exact problem. This is how to debug your issue:</p>\n<p>First, look at the actual exception that was raised and read the information:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Could not find method Imagebuttonclicked(View) in a parent or ancestor Context for android:onClick attribute defined on view class android.widget.LinearLayout with id 'barbellRow'</p>\n</blockquote>\n<p>You didn't post your layout but from this very detailed error we know you have a <code>LinearLayout</code> with id <code>barbellRow</code> on which you set the <code>android:onClick</code> attribute to the <code>Imagebuttonclicked(View)</code> method.</p>\n<p>We also know that problem is that that method was not found &quot;in a parent or ancestor Context&quot;. From <a href=\"https://developer.android.com/reference/android/view/View#attr_android:onClick\" rel=\"nofollow noreferrer\">the documentation,</a> for <code>onClick</code> we know that (emphasis mine):</p>\n<blockquote>\n<p>For instance, if you specify android:onClick=&quot;sayHello&quot;, you must declare a public void sayHello(View v) method of your <strong>context (typically, your Activity).</strong></p>\n</blockquote>\n<p>From your code, your click handler is defined in your <code>Fragment</code> and <code>Fragment</code> is not a <code>Context</code>, so it fails.</p>\n<p><strong>So the solution is one of two options:</strong></p>\n<p>1 - (Preferred) - Don't use the gimmicky <code>onClick</code> attribute and set the click listener on the <code>LinearLayout</code> explicitly in your <code>Fragment</code>. This will be more obvious and keeps your click handling local to your <code>Fragment</code> instead of having it being handle by the <code>Activity</code>.</p>\n<pre><code>public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    binding = FragmentExercisesBinding.inflate(getLayoutInflater(), container, false);\n    View view = binding.getRoot();\n    // Your existing code\n\n    // Set onclicklistener explicitly\n    binding.barbellRow.setOnClickListener(new OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Imagebuttonclicked(v);\n        }\n    });\n\n    return view;\n}\n</code></pre>\n<p>2 - If you want to use the <code>onClick</code> attribute, move the function to the <code>Activity</code> in which the <code>Fragment</code> lives to satisfy the conditions required by that attribute.</p>\n"}],"owner":{"account_id":27921471,"reputation":1,"user_id":21321491,"display_name":"Aiden2602"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682002980,"creation_date":1681719138,"question_id":76032997,"body_markdown":"I&#39;m trying to move from a fragment to an activity with a button, but every the button is pressed my program crashes. I can&#39;t seem to find the source of the error.\r\n\r\nI have tried changing the intent statement in many ways but each time the program still crashes, and I&#39;m not being given any details on the error.\r\n\r\n    public class ExercisesFragment extends Fragment {\r\n    \r\n        int[] newArray;\r\n        \r\n        private FragmentExercisesBinding binding;\r\n        \r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n        }\r\n        \r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n            binding = FragmentExercisesBinding.inflate(getLayoutInflater(), container, false);\r\n            View view = binding.getRoot();\r\n        \r\n            newArray = new int[]{\r\n        \r\n                  R.id.barbellRow, R.id.barbellFrontSquat, R.id.barbellShrugs, R.id.bodyweightSquat, R.id.dumbbellChestPress,\r\n                    R.id.lateralRaise, R.id.overheadTricepExtensions, R.id.pullUps, R.id.pushUps, R.id.rearDeltFlies,\r\n                    R.id.romanianDeadlifts, R.id.seatedDumbbellCurl, R.id.sitUps, R.id.shoulderPress, R.id.standingCurl,\r\n        \r\n        \r\n            };\r\n        \r\n        \r\n            return view;\r\n        }\r\n        \r\n        public void Imagebuttonclicked(View view) {\r\n        \r\n        \r\n            for (int i=0;i&lt; newArray.length;i++){\r\n        \r\n        \r\n                if(view.getId() == newArray[i]) {\r\n                   int value = i+1;\r\n                   Log.i(&quot;FIRST&quot;, String.valueOf(value));\r\n                   Intent intent = new Intent(getActivity(),tutorialActivity.class);\r\n                   getActivity().startActivity(intent);\r\n        \r\n        \r\n                }\r\n            }\r\n        \r\n        }\r\n    \r\n    }\r\n\r\n\r\nHere is the stacktrace for the error that occurs when I press on the small arrow buttons:\r\n \r\n\r\n&gt; E  FATAL EXCEPTION: main\r\n&gt;                                                                                                     Process: com.example.neafitnessapp, PID: 23372\r\n&gt;                                                                                                     java.lang.IllegalStateException: Could not find method\r\n&gt; Imagebuttonclicked(View) in a parent or ancestor Context for\r\n&gt; android:onClick attribute defined on view class\r\n&gt; android.widget.LinearLayout with id &#39;barbellRow&#39;\r\n&gt;                                                                                                     \tat\r\n&gt; android.view.View$DeclaredOnClickListener.resolveMethod(View.java:6359)\r\n&gt;                                                                                                     \tat android.view.View$DeclaredOnClickListener.onClick(View.java:6316)\r\n&gt;                                                                                                     \tat android.view.View.performClick(View.java:7506)\r\n&gt;                                                                                                     \tat android.view.View.performClickInternal(View.java:7483)\r\n&gt;                                                                                                     \tat android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\r\n&gt;                                                                                                     \tat android.view.View$PerformClick.run(View.java:29334)\r\n&gt;                                                                                                     \tat android.os.Handler.handleCallback(Handler.java:942)\r\n&gt;                                                                                                     \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n&gt;                                                                                                     \tat android.os.Looper.loopOnce(Looper.java:201)\r\n&gt;                                                                                                     \tat android.os.Looper.loop(Looper.java:288)\r\n&gt;                                                                                                     \tat android.app.ActivityThread.main(ActivityThread.java:7872)\r\n&gt;                                                                                                     \tat java.lang.reflect.Method.invoke(Native Method)\r\n&gt;                                                                                                     \tat\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n&gt;                                                                                                     \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)","title":"How can I open a new activity using a button in a fragment?","body":"<p>I'm trying to move from a fragment to an activity with a button, but every the button is pressed my program crashes. I can't seem to find the source of the error.</p>\n<p>I have tried changing the intent statement in many ways but each time the program still crashes, and I'm not being given any details on the error.</p>\n<pre><code>public class ExercisesFragment extends Fragment {\n\n    int[] newArray;\n    \n    private FragmentExercisesBinding binding;\n    \n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n    \n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        binding = FragmentExercisesBinding.inflate(getLayoutInflater(), container, false);\n        View view = binding.getRoot();\n    \n        newArray = new int[]{\n    \n              R.id.barbellRow, R.id.barbellFrontSquat, R.id.barbellShrugs, R.id.bodyweightSquat, R.id.dumbbellChestPress,\n                R.id.lateralRaise, R.id.overheadTricepExtensions, R.id.pullUps, R.id.pushUps, R.id.rearDeltFlies,\n                R.id.romanianDeadlifts, R.id.seatedDumbbellCurl, R.id.sitUps, R.id.shoulderPress, R.id.standingCurl,\n    \n    \n        };\n    \n    \n        return view;\n    }\n    \n    public void Imagebuttonclicked(View view) {\n    \n    \n        for (int i=0;i&lt; newArray.length;i++){\n    \n    \n            if(view.getId() == newArray[i]) {\n               int value = i+1;\n               Log.i(&quot;FIRST&quot;, String.valueOf(value));\n               Intent intent = new Intent(getActivity(),tutorialActivity.class);\n               getActivity().startActivity(intent);\n    \n    \n            }\n        }\n    \n    }\n\n}\n</code></pre>\n<p>Here is the stacktrace for the error that occurs when I press on the small arrow buttons:</p>\n<blockquote>\n<p>E  FATAL EXCEPTION: main\nProcess: com.example.neafitnessapp, PID: 23372\njava.lang.IllegalStateException: Could not find method\nImagebuttonclicked(View) in a parent or ancestor Context for\nandroid:onClick attribute defined on view class\nandroid.widget.LinearLayout with id 'barbellRow'\nat\nandroid.view.View$DeclaredOnClickListener.resolveMethod(View.java:6359)\nat android.view.View$DeclaredOnClickListener.onClick(View.java:6316)\nat android.view.View.performClick(View.java:7506)\nat android.view.View.performClickInternal(View.java:7483)\nat android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\nat android.view.View$PerformClick.run(View.java:29334)\nat android.os.Handler.handleCallback(Handler.java:942)\nat android.os.Handler.dispatchMessage(Handler.java:99)\nat android.os.Looper.loopOnce(Looper.java:201)\nat android.os.Looper.loop(Looper.java:288)\nat android.app.ActivityThread.main(ActivityThread.java:7872)\nat java.lang.reflect.Method.invoke(Native Method)\nat\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)</p>\n</blockquote>\n"},{"tags":["java","bitwise-operators"],"comments":[{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":3,"creation_date":1682002946,"post_id":76065528,"comment_id":134150435,"body_markdown":"The diff between `&amp;&amp;` and `&amp;` is that `&amp;&amp;` [short-circuits](https://stackoverflow.com/questions/8759868/java-logical-operator-short-circuiting). The reason it behaves differently is because you are modifying `grid` in the `visit()` method, and when you use `&amp;&amp;` and it short-circuits, the modification by subsequent calls to `visit()` isn&#39;t performed.","body":"The diff between <code>&amp;&amp;</code> and <code>&amp;</code> is that <code>&amp;&amp;</code> <a href=\"https://stackoverflow.com/questions/8759868/java-logical-operator-short-circuiting\">short-circuits</a>. The reason it behaves differently is because you are modifying <code>grid</code> in the <code>visit()</code> method, and when you use <code>&amp;&amp;</code> and it short-circuits, the modification by subsequent calls to <code>visit()</code> isn&#39;t performed."}],"owner":{"account_id":17974901,"reputation":542,"user_id":13062745,"display_name":"zxcisnoias"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682002737,"creation_date":1682002737,"question_id":76065528,"body_markdown":"So today I was doing some leetcode problems, and I came across this one: [number of closed  islands](https://leetcode.com/problems/number-of-closed-islands/description/). &lt;br&gt;\r\nThis is my initial solution:\r\n```\r\nclass Solution {\r\n    public int closedIsland(int[][] grid) {\r\n        int ans = 0;\r\n        for(int i=0;i&lt;grid.length; i++){\r\n            for(int j=0; j&lt;grid[0].length;j++){\r\n                if(grid[i][j]==0 &amp;&amp; visit(grid, i, j)){\r\n                    ans++;\r\n                }\r\n            }\r\n        }\r\n        return ans;\r\n    }\r\n\r\n    public boolean visit(int[][] grid, int row, int col){\r\n        if(row&gt;=grid.length || col&gt;=grid[0].length || row&lt;0 || col&lt;0) return false;\r\n        if(grid[row][col]==1 || grid[row][col]==-1) return true;\r\n\r\n        grid[row][col] = -1;\r\n\r\n        return visit(grid, row+1, col)&amp;\r\n        visit(grid, row-1, col)&amp;\r\n        visit(grid, row, col+1)&amp;\r\n        visit(grid, row, col-1);\r\n    }\r\n}\r\n```\r\nAnd it passed all the test cases. However, when I replaced ```&amp;``` with ```&amp;&amp;``` in the return statement in ```visit(...)```, the new solution failed some cases.","title":"Effect of bitwise AND while evaluating an boolean statement in Java, which is different than logical AND","body":"<p>So today I was doing some leetcode problems, and I came across this one: <a href=\"https://leetcode.com/problems/number-of-closed-islands/description/\" rel=\"nofollow noreferrer\">number of closed  islands</a>. <br>\nThis is my initial solution:</p>\n<pre><code>class Solution {\n    public int closedIsland(int[][] grid) {\n        int ans = 0;\n        for(int i=0;i&lt;grid.length; i++){\n            for(int j=0; j&lt;grid[0].length;j++){\n                if(grid[i][j]==0 &amp;&amp; visit(grid, i, j)){\n                    ans++;\n                }\n            }\n        }\n        return ans;\n    }\n\n    public boolean visit(int[][] grid, int row, int col){\n        if(row&gt;=grid.length || col&gt;=grid[0].length || row&lt;0 || col&lt;0) return false;\n        if(grid[row][col]==1 || grid[row][col]==-1) return true;\n\n        grid[row][col] = -1;\n\n        return visit(grid, row+1, col)&amp;\n        visit(grid, row-1, col)&amp;\n        visit(grid, row, col+1)&amp;\n        visit(grid, row, col-1);\n    }\n}\n</code></pre>\n<p>And it passed all the test cases. However, when I replaced <code>&amp;</code> with <code>&amp;&amp;</code> in the return statement in <code>visit(...)</code>, the new solution failed some cases.</p>\n"},{"tags":["java","log4j","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1682068868,"post_id":76065521,"comment_id":134161010,"body_markdown":"Does this answer your question? [Importing two classes with same name. How to handle?](https://stackoverflow.com/questions/2079823/importing-two-classes-with-same-name-how-to-handle)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2079823/importing-two-classes-with-same-name-how-to-handle\">Importing two classes with same name. How to handle?</a>"}],"owner":{"account_id":18433200,"reputation":61,"user_id":13427790,"display_name":"Anjit Singha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682002700,"creation_date":1682002700,"question_id":76065521,"body_markdown":"I am in the middle of upgrading the log4j from the existing version 1.2.17 to 2.17.0. For the log4j2 upgrade, I am using the JARS - log4j-api-2.17.0 and log4j-core-2.17.0. In the existing old code, the method removeAppender() is called from the org.apache.log4j.Category.removeAppender however, in the log4j2 I have observed that this method is moved under org.apache.logging.log4j.core.Logger. \r\nThe problem here is, I am already using a couple of methods from the Logger class from the package org.apache.logging.log4j.Logger. When I try to import another Loggers class from the org.apache.logging.log4j.core.Logger, Eclipse is showing me the error &quot;The import org.apache.logging.log4j.core.Logger collides with another import statement&quot;. \r\n\r\nPlease advise how can I call the removeAppender() from the org.apache.logging.log4j.core.Logger or am I referring to an incorrect package path/class to call the method removeAppender()? \r\n\r\nExisting code to call removeAppender() - \r\n\r\n  perfAggregationLogger.removeAppender(perfLogAggregationDBAppenderName); \r\n\r\nAlso, I need suggestions on what JAR files I should be used to upgrade from Log4J1 to Log4j2. \r\n","title":"Error while trying to call the method removeAppender() in log4j-core-2.17.0 JAR","body":"<p>I am in the middle of upgrading the log4j from the existing version 1.2.17 to 2.17.0. For the log4j2 upgrade, I am using the JARS - log4j-api-2.17.0 and log4j-core-2.17.0. In the existing old code, the method removeAppender() is called from the org.apache.log4j.Category.removeAppender however, in the log4j2 I have observed that this method is moved under org.apache.logging.log4j.core.Logger.\nThe problem here is, I am already using a couple of methods from the Logger class from the package org.apache.logging.log4j.Logger. When I try to import another Loggers class from the org.apache.logging.log4j.core.Logger, Eclipse is showing me the error &quot;The import org.apache.logging.log4j.core.Logger collides with another import statement&quot;.</p>\n<p>Please advise how can I call the removeAppender() from the org.apache.logging.log4j.core.Logger or am I referring to an incorrect package path/class to call the method removeAppender()?</p>\n<p>Existing code to call removeAppender() -</p>\n<p>perfAggregationLogger.removeAppender(perfLogAggregationDBAppenderName);</p>\n<p>Also, I need suggestions on what JAR files I should be used to upgrade from Log4J1 to Log4j2.</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","spring-webclient"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1682019390,"post_id":76064958,"comment_id":134154150,"body_markdown":"use the `onStatus` operator https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-client-retrieve","body":"use the <code>onStatus</code> operator <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-client-retrieve\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":4078308,"reputation":3651,"user_id":3349358,"accept_rate":88,"display_name":"gmode"},"score":0,"creation_date":1682064167,"post_id":76064958,"comment_id":134159997,"body_markdown":"@Toerktumlare I understand usage of onStatus per each call but my first example already works. How do I use onStatus in WebClient builder with ExchangeFilterFunction?","body":"@Toerktumlare I understand usage of onStatus per each call but my first example already works. How do I use onStatus in WebClient builder with ExchangeFilterFunction?"}],"owner":{"account_id":4078308,"reputation":3651,"user_id":3349358,"accept_rate":88,"display_name":"gmode"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682002610,"creation_date":1681999210,"question_id":76064958,"body_markdown":"When web client receives status 404, I would like to return Optional.empty(). I managed it per each client call\r\n```java\r\npublic Optional&lt;User&gt; getUser(Username username) {\r\n    return webClient\r\n            .get()\r\n            .uri(buildUrl(username))\r\n            .retrieve()\r\n            .bodyToMono(User.class)\r\n            .onErrorResume(WebClientResponseException.class, e -&gt; HttpStatus.NOT_FOUND.equals(e.getStatusCode()) ? Mono.empty() : Mono.error(e))\r\n            .blockOptional();\r\n}\r\n```\r\nAbove code works well. However, I have many different calls and would like to extract this behavior in the web client builder globally. This is my current code:\r\n\r\n```java\r\n        Function&lt;ClientResponse, Mono&lt;ClientResponse&gt;&gt; webclientResponseProcessor = clientResponse -&gt; {\r\n            HttpStatusCode responseStatus = clientResponse.statusCode();\r\n            if (responseStatus.value() == 404) {\r\n                return Mono.empty(); //this doesn&#39;t work\r\n            }\r\n            if (responseStatus.is4xxClientError() || responseStatus.is5xxServerError()) {\r\n                return clientResponse.createError();\r\n            }\r\n            return Mono.just(clientResponse);\r\n        };\r\n        return WebClient.builder()\r\n                        .filter(ExchangeFilterFunction.ofResponseProcessor(webclientResponseProcessor))\r\n                        .build();\r\n```\r\n\r\nHowever, returning `Mono.empty()` results in \r\n\r\n&gt; java.lang.IllegalStateException: The underlying HTTP client completed\r\n&gt; without emitting a response.\r\n&gt; org.springframework.web.reactive.function.client.DefaultWebClient.lambda$static$0(DefaultWebClient.java:77)\r\n&gt; \tat\r\n&gt; reactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:55)\r\n&gt; \tat reactor.core.publisher.Mono.subscribe(Mono.java:4444) \tat\r\n&gt; reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82)\r\n\r\nWhat am I missing?","title":"Return Optional.empty() globally from Spring Webclient on not found response","body":"<p>When web client receives status 404, I would like to return Optional.empty(). I managed it per each client call</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Optional&lt;User&gt; getUser(Username username) {\n    return webClient\n            .get()\n            .uri(buildUrl(username))\n            .retrieve()\n            .bodyToMono(User.class)\n            .onErrorResume(WebClientResponseException.class, e -&gt; HttpStatus.NOT_FOUND.equals(e.getStatusCode()) ? Mono.empty() : Mono.error(e))\n            .blockOptional();\n}\n</code></pre>\n<p>Above code works well. However, I have many different calls and would like to extract this behavior in the web client builder globally. This is my current code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Function&lt;ClientResponse, Mono&lt;ClientResponse&gt;&gt; webclientResponseProcessor = clientResponse -&gt; {\n            HttpStatusCode responseStatus = clientResponse.statusCode();\n            if (responseStatus.value() == 404) {\n                return Mono.empty(); //this doesn't work\n            }\n            if (responseStatus.is4xxClientError() || responseStatus.is5xxServerError()) {\n                return clientResponse.createError();\n            }\n            return Mono.just(clientResponse);\n        };\n        return WebClient.builder()\n                        .filter(ExchangeFilterFunction.ofResponseProcessor(webclientResponseProcessor))\n                        .build();\n</code></pre>\n<p>However, returning <code>Mono.empty()</code> results in</p>\n<blockquote>\n<p>java.lang.IllegalStateException: The underlying HTTP client completed\nwithout emitting a response.\norg.springframework.web.reactive.function.client.DefaultWebClient.lambda$static$0(DefaultWebClient.java:77)\nat\nreactor.core.publisher.MonoErrorSupplied.subscribe(MonoErrorSupplied.java:55)\nat reactor.core.publisher.Mono.subscribe(Mono.java:4444)    at\nreactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onComplete(FluxSwitchIfEmpty.java:82)</p>\n</blockquote>\n<p>What am I missing?</p>\n"},{"tags":["java","swing","2d","game-physics","java-2d"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682001614,"post_id":76065216,"comment_id":134150071,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1682003474,"post_id":76065216,"comment_id":134150569,"body_markdown":"Java has a [java.awt.Rectangle](https://docs.oracle.com/javase/8/docs/api/java/awt/Rectangle.html) class where you can define a rectangle.  This class has a contains method and an intersect method where you can determine if a line is contained ion a rectangle or intersects a rectangle.","body":"Java has a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Rectangle.html\" rel=\"nofollow noreferrer\">java.awt.Rectangle</a> class where you can define a rectangle.  This class has a contains method and an intersect method where you can determine if a line is contained ion a rectangle or intersects a rectangle."},{"owner":{"account_id":19022907,"reputation":1,"user_id":13886601,"display_name":"Binny Bogs"},"score":0,"creation_date":1682006441,"post_id":76065216,"comment_id":134151376,"body_markdown":"@GilbertLeBlanc thank you so much Mr Gilbert. Problem solved :)","body":"@GilbertLeBlanc thank you so much Mr Gilbert. Problem solved :)"}],"owner":{"account_id":19022907,"reputation":1,"user_id":13886601,"display_name":"Binny Bogs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682002507,"creation_date":1682000692,"question_id":76065216,"body_markdown":"can someone give me idea how can i make intersection only first box when the line is stretched to mouse cursor? Im trying to make something like &quot;raycasting&quot; but don&#39;t know how to stop the line.\r\n\r\nhttps://i.stack.imgur.com/0CzpW.png\r\n\r\nI tried line-line intersection but don&#39;t know how to find proper wall of the box","title":"How to make intersection &quot;line vs box&quot; without penetration many objects?","body":"<p>can someone give me idea how can i make intersection only first box when the line is stretched to mouse cursor? Im trying to make something like &quot;raycasting&quot; but don't know how to stop the line.</p>\n<p><a href=\"https://i.stack.imgur.com/0CzpW.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/0CzpW.png</a></p>\n<p>I tried line-line intersection but don't know how to find proper wall of the box</p>\n"},{"tags":["java","jackson","comparable"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1619456933,"creation_date":1619451815,"answer_id":67269719,"question_id":67269472,"body_markdown":"TL;DR: It does nothing and is a bug.\r\n\r\nDid you _read_ the source code? Because it explains it quite well.\r\n\r\nSpecifically, it links to [Neal Gafter&#39;s post on Super Type Tokens](http://gafter.blogspot.com/2006/12/super-type-tokens.html) and explicitly explains that the Comparable stuff is there &#39;inspired by a comment&#39;. So, open that link, scroll down to the comments, and sure enough:\r\n\r\n&gt; Brian Oxley said...\r\n&gt; Rather than check for a type parameter in the constructor, you can make it a syntax error to leave out:\r\n&gt; \r\n&gt; ```\r\n&gt; public abstract TypeReference&lt;R&gt; implements Comparable&lt;TypeReference&lt;R&gt;&gt; {\r\n&gt;   // ...\r\n&gt;   \r\n&gt;   public int compareTo(TypeReference&lt;R&gt; o) {\r\n&gt;     // Need a real implementation.\r\n&gt;     // Only saying &quot;return 0&quot; for illustration.\r\n&gt;     return 0;\r\n&gt;   }\r\n&gt; }\r\n&gt; ```\r\n&gt;\r\n&gt; Now this is legal:\r\n&gt;\r\n&gt; `new TypeReference&lt;Object&gt;() { };`\r\n&gt;\r\n&gt; But this is a syntax error for not implementing `Comparable`:\r\n&gt;\r\n&gt; `new TypeReference() { }`;\r\n&gt;\r\n&gt; _February 20, 2007 6:12 AM_\r\n\r\n\r\n_However_, __that is incorrect__.\r\n\r\nIt actually does nothing. Here, let&#39;s try it:\r\n\r\n```\r\n&gt; cat Test.java\r\nimport java.lang.reflect.*;\r\nabstract class TypeReference&lt;T&gt; implements Comparable&lt;TypeReference&lt;T&gt;&gt; {\r\n  protected final Type _type;\r\n  protected TypeReference() {\r\n    Type superClass = getClass().getGenericSuperclass();\r\n    if (superClass instanceof Class&lt;?&gt;) { // sanity check, should never happen\r\n      throw new IllegalArgumentException(&quot;Internal error: TypeReference constructed without actual type information&quot;);\r\n    }\r\n    _type = ((ParameterizedType) superClass).getActualTypeArguments()[0];\r\n  }\r\n\r\n  @Override public int compareTo(TypeReference&lt;T&gt; o) { return 0; }\r\n\r\n  public static void main(String[] args) {\r\n    TypeReference raw = new TypeReference() {};\r\n  }\r\n}\r\n\r\n&gt; javac Test.java\r\n```\r\n\r\nSee? Compiles fine. If you run it, you get that &#39;sanity check&#39; exception. The comparator stuff does nothing.\r\n\r\n----\r\n\r\nEDIT:\r\n\r\nI filed a bug over at jackson about it [Issue #697](https://github.com/FasterXML/jackson-core/issues/697).\r\n\r\nTo try to explain what the thought behind all this was (even though it does not work):\r\n\r\nA raw type is infectious, and all aspects related to it are also raw. Raw types behaviour in unique ways, but usually those ways are very similar to having `Object` for _all_ type variables, even if there is a lower bound.\r\n\r\nThus, `new TypeReference() {}`, being raw, means the `Comparable` it implements is also raw, which acts as if it&#39;s like Object, which means that the impl must have the method `public int compareTo(Object o)`.\r\n\r\nThe provided implementation of `TypeReference` _does not have_ `int compareTo(Object)`, it only has `compareTo(TypeReference)`, therefore, `new TypeReference() {}` wouldn&#39;t compile.\r\n\r\nA nice story. But that&#39;s not how javac works, unfortunately. You can see the logic and it makes some sense, but unfortunately that `compareTo`, because it matches the lower bound, gets a synthetic additional method. You can check this: If you `javap` TypeReference:\r\n\r\n```\r\n&gt; javap TypeReference\r\njavap TypeReference\r\nCompiled from &quot;Test.java&quot;\r\nabstract class TypeReference&lt;T&gt; implements java.lang.Comparable&lt;TypeReference&lt;T&gt;&gt; {\r\n  protected final java.lang.reflect.Type _type;\r\n  protected TypeReference();\r\n  public int compareTo(TypeReference&lt;T&gt;);\r\n  public static void main(java.lang.String[]);\r\n  public int compareTo(java.lang.Object);\r\n```\r\n\r\nNote how there are two `compareTo` methods in the class file even though we wrote only one in the source. Thus, any classes that `extends TypeReference` will always have, baked in, an impl for `compareTo(Object)` no matter what you try to hack with the generics part of it.\r\n","title":"why com.fasterxml.jackson.core.type.TypeReference implements Comparable interface?","body":"<p>TL;DR: It does nothing and is a bug.</p>\n<p>Did you <em>read</em> the source code? Because it explains it quite well.</p>\n<p>Specifically, it links to <a href=\"http://gafter.blogspot.com/2006/12/super-type-tokens.html\" rel=\"noreferrer\">Neal Gafter's post on Super Type Tokens</a> and explicitly explains that the Comparable stuff is there 'inspired by a comment'. So, open that link, scroll down to the comments, and sure enough:</p>\n<blockquote>\n<p>Brian Oxley said...\nRather than check for a type parameter in the constructor, you can make it a syntax error to leave out:</p>\n<pre><code>public abstract TypeReference&lt;R&gt; implements Comparable&lt;TypeReference&lt;R&gt;&gt; {\n  // ...\n  \n  public int compareTo(TypeReference&lt;R&gt; o) {\n    // Need a real implementation.\n    // Only saying &quot;return 0&quot; for illustration.\n    return 0;\n  }\n}\n</code></pre>\n<p>Now this is legal:</p>\n<p><code>new TypeReference&lt;Object&gt;() { };</code></p>\n<p>But this is a syntax error for not implementing <code>Comparable</code>:</p>\n<p><code>new TypeReference() { }</code>;</p>\n<p><em>February 20, 2007 6:12 AM</em></p>\n</blockquote>\n<p><em>However</em>, <strong>that is incorrect</strong>.</p>\n<p>It actually does nothing. Here, let's try it:</p>\n<pre><code>&gt; cat Test.java\nimport java.lang.reflect.*;\nabstract class TypeReference&lt;T&gt; implements Comparable&lt;TypeReference&lt;T&gt;&gt; {\n  protected final Type _type;\n  protected TypeReference() {\n    Type superClass = getClass().getGenericSuperclass();\n    if (superClass instanceof Class&lt;?&gt;) { // sanity check, should never happen\n      throw new IllegalArgumentException(&quot;Internal error: TypeReference constructed without actual type information&quot;);\n    }\n    _type = ((ParameterizedType) superClass).getActualTypeArguments()[0];\n  }\n\n  @Override public int compareTo(TypeReference&lt;T&gt; o) { return 0; }\n\n  public static void main(String[] args) {\n    TypeReference raw = new TypeReference() {};\n  }\n}\n\n&gt; javac Test.java\n</code></pre>\n<p>See? Compiles fine. If you run it, you get that 'sanity check' exception. The comparator stuff does nothing.</p>\n<hr />\n<p>EDIT:</p>\n<p>I filed a bug over at jackson about it <a href=\"https://github.com/FasterXML/jackson-core/issues/697\" rel=\"noreferrer\">Issue #697</a>.</p>\n<p>To try to explain what the thought behind all this was (even though it does not work):</p>\n<p>A raw type is infectious, and all aspects related to it are also raw. Raw types behaviour in unique ways, but usually those ways are very similar to having <code>Object</code> for <em>all</em> type variables, even if there is a lower bound.</p>\n<p>Thus, <code>new TypeReference() {}</code>, being raw, means the <code>Comparable</code> it implements is also raw, which acts as if it's like Object, which means that the impl must have the method <code>public int compareTo(Object o)</code>.</p>\n<p>The provided implementation of <code>TypeReference</code> <em>does not have</em> <code>int compareTo(Object)</code>, it only has <code>compareTo(TypeReference)</code>, therefore, <code>new TypeReference() {}</code> wouldn't compile.</p>\n<p>A nice story. But that's not how javac works, unfortunately. You can see the logic and it makes some sense, but unfortunately that <code>compareTo</code>, because it matches the lower bound, gets a synthetic additional method. You can check this: If you <code>javap</code> TypeReference:</p>\n<pre><code>&gt; javap TypeReference\njavap TypeReference\nCompiled from &quot;Test.java&quot;\nabstract class TypeReference&lt;T&gt; implements java.lang.Comparable&lt;TypeReference&lt;T&gt;&gt; {\n  protected final java.lang.reflect.Type _type;\n  protected TypeReference();\n  public int compareTo(TypeReference&lt;T&gt;);\n  public static void main(java.lang.String[]);\n  public int compareTo(java.lang.Object);\n</code></pre>\n<p>Note how there are two <code>compareTo</code> methods in the class file even though we wrote only one in the source. Thus, any classes that <code>extends TypeReference</code> will always have, baked in, an impl for <code>compareTo(Object)</code> no matter what you try to hack with the generics part of it.</p>\n"}],"owner":{"account_id":21408366,"reputation":41,"user_id":15769141,"display_name":"hlfv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1319,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1682002453,"creation_date":1619450830,"question_id":67269472,"body_markdown":"Why do **com.fasterxml.jackson.core.type.TypeReference** implements **Comparable interface**?  \r\n\r\nI don&#39;t understand the intention of implementing it.\r\n\r\n```\r\npublic abstract class TypeReference&lt;T&gt; implements Comparable&lt;TypeReference&lt;T&gt;&gt; {\r\n    protected final Type _type;\r\n    \r\n    protected TypeReference() {\r\n        Type superClass = getClass().getGenericSuperclass();\r\n        if (superClass instanceof Class&lt;?&gt;) { // sanity check, should never happen\r\n            throw new IllegalArgumentException(&quot;Internal error: TypeReference constructed without actual type information&quot;);\r\n        }\r\n        /* 22-Dec-2008, tatu: Not sure if this case is safe -- I suspect\r\n         *   it is possible to make it fail?\r\n         *   But let&#39;s deal with specific\r\n         *   case when we know an actual use case, and thereby suitable\r\n         *   workarounds for valid case(s) and/or error to throw\r\n         *   on invalid one(s).\r\n         */\r\n        _type = ((ParameterizedType) superClass).getActualTypeArguments()[0];\r\n    }\r\n\r\n    public Type getType() { return _type; }\r\n    \r\n    /**\r\n     * The only reason we define this method (and require implementation\r\n     * of &lt;code&gt;Comparable&lt;/code&gt;) is to prevent constructing a\r\n     * reference without type information.\r\n     */\r\n    @Override\r\n    public int compareTo(TypeReference&lt;T&gt; o) { return 0; }\r\n    // just need an implementation, not a good one... hence ^^^\r\n}\r\n```\r\nHere&#39;s the source code description, but I still can&#39;t understand it.","title":"why com.fasterxml.jackson.core.type.TypeReference implements Comparable interface?","body":"<p>Why do <strong>com.fasterxml.jackson.core.type.TypeReference</strong> implements <strong>Comparable interface</strong>?</p>\n<p>I don't understand the intention of implementing it.</p>\n<pre><code>public abstract class TypeReference&lt;T&gt; implements Comparable&lt;TypeReference&lt;T&gt;&gt; {\n    protected final Type _type;\n    \n    protected TypeReference() {\n        Type superClass = getClass().getGenericSuperclass();\n        if (superClass instanceof Class&lt;?&gt;) { // sanity check, should never happen\n            throw new IllegalArgumentException(&quot;Internal error: TypeReference constructed without actual type information&quot;);\n        }\n        /* 22-Dec-2008, tatu: Not sure if this case is safe -- I suspect\n         *   it is possible to make it fail?\n         *   But let's deal with specific\n         *   case when we know an actual use case, and thereby suitable\n         *   workarounds for valid case(s) and/or error to throw\n         *   on invalid one(s).\n         */\n        _type = ((ParameterizedType) superClass).getActualTypeArguments()[0];\n    }\n\n    public Type getType() { return _type; }\n    \n    /**\n     * The only reason we define this method (and require implementation\n     * of &lt;code&gt;Comparable&lt;/code&gt;) is to prevent constructing a\n     * reference without type information.\n     */\n    @Override\n    public int compareTo(TypeReference&lt;T&gt; o) { return 0; }\n    // just need an implementation, not a good one... hence ^^^\n}\n</code></pre>\n<p>Here's the source code description, but I still can't understand it.</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":97082,"reputation":375006,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1364546587,"creation_date":1364546587,"answer_id":15699975,"question_id":15699953,"body_markdown":"You may use `parseInt` :\r\n\r\n    int id = Integer.parseInt(jsonObj.get(&quot;id&quot;));\r\n\r\nor better and more directly the [getInt][1] method :\r\n\r\n    int id = jsonObj.getInt(&quot;id&quot;);\r\n\r\n\r\n  [1]: http://www.json.org/javadoc/org/json/JSONObject.html#getInt%28java.lang.String%29","title":"How do I parse JSON into an int?","body":"<p>You may use <code>parseInt</code> :</p>\n\n<pre><code>int id = Integer.parseInt(jsonObj.get(\"id\"));\n</code></pre>\n\n<p>or better and more directly the <a href=\"http://www.json.org/javadoc/org/json/JSONObject.html#getInt%28java.lang.String%29\" rel=\"noreferrer\">getInt</a> method :</p>\n\n<pre><code>int id = jsonObj.getInt(\"id\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1870617,"reputation":821,"user_id":1692933,"display_name":"Joel Quiles"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1435870327,"creation_date":1435870327,"answer_id":31194430,"question_id":15699953,"body_markdown":"It depends on the property type that you are parsing.\r\n\r\nIf the json property is a number (e.g. 5) you can cast to Long directly, so you could do:\r\n\r\n    (long) jsonObj.get(&quot;id&quot;) // with id = 5, cast `5` to long \r\n\r\nAfter getting the long,you could cast again to int, resulting in:\r\n    \r\n    (int) (long) jsonObj.get(&quot;id&quot;)\r\n\r\nIf the json property is a number with quotes (e.g. &quot;5&quot;), is is considered a string, and you need to do something similar to Integer.parseInt() or Long.parseLong();\r\n\r\n    Integer.parseInt(jsonObj.get(&quot;id&quot;)) // with id = &quot;5&quot;, convert &quot;5&quot; to Long\r\n\r\nThe only issue is, if you sometimes receive id&#39;s a string or as a number (you cant predict your client&#39;s format or it does it interchangeably), you might get an exception, especially if you use parseInt/Long on a null json object.\r\n\r\nIf not using Java Generics, the best way to deal with these runtime exceptions that I use is:\r\n\r\n    if(jsonObj.get(&quot;id&quot;) == null) {\r\n       // do something here\r\n    }\r\n\r\n    int id;\r\n    try{\r\n        id = Integer.parseInt(jsonObj.get(&quot;id&quot;).toString());\r\n    } catch(NumberFormatException e) {\r\n      // handle here\r\n    }\r\n\r\nYou could also remove that first if and add the exception to the catch.\r\nHope this helps.","title":"How do I parse JSON into an int?","body":"<p>It depends on the property type that you are parsing.</p>\n\n<p>If the json property is a number (e.g. 5) you can cast to Long directly, so you could do:</p>\n\n<pre><code>(long) jsonObj.get(\"id\") // with id = 5, cast `5` to long \n</code></pre>\n\n<p>After getting the long,you could cast again to int, resulting in:</p>\n\n<pre><code>(int) (long) jsonObj.get(\"id\")\n</code></pre>\n\n<p>If the json property is a number with quotes (e.g. \"5\"), is is considered a string, and you need to do something similar to Integer.parseInt() or Long.parseLong();</p>\n\n<pre><code>Integer.parseInt(jsonObj.get(\"id\")) // with id = \"5\", convert \"5\" to Long\n</code></pre>\n\n<p>The only issue is, if you sometimes receive id's a string or as a number (you cant predict your client's format or it does it interchangeably), you might get an exception, especially if you use parseInt/Long on a null json object.</p>\n\n<p>If not using Java Generics, the best way to deal with these runtime exceptions that I use is:</p>\n\n<pre><code>if(jsonObj.get(\"id\") == null) {\n   // do something here\n}\n\nint id;\ntry{\n    id = Integer.parseInt(jsonObj.get(\"id\").toString());\n} catch(NumberFormatException e) {\n  // handle here\n}\n</code></pre>\n\n<p>You could also remove that first if and add the exception to the catch.\nHope this helps.</p>\n"},{"tags":[],"owner":{"account_id":6958148,"reputation":934,"user_id":5338542,"accept_rate":78,"display_name":"Morteza Mashayekhi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1446480940,"creation_date":1446480940,"answer_id":33482084,"question_id":15699953,"body_markdown":"Non of them worked for me.\r\nI did this and it worked:\r\n\r\nTo encode as a json:\r\n\r\n    JSONObject obj = new JSONObject();\r\n    obj.put(&quot;productId&quot;, 100);\r\n\r\nTo decode:\r\n\r\n    long temp = (Long) obj.get(&quot;productId&quot;);","title":"How do I parse JSON into an int?","body":"<p>Non of them worked for me.\nI did this and it worked:</p>\n\n<p>To encode as a json:</p>\n\n<pre><code>JSONObject obj = new JSONObject();\nobj.put(\"productId\", 100);\n</code></pre>\n\n<p>To decode:</p>\n\n<pre><code>long temp = (Long) obj.get(\"productId\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7387023,"reputation":51,"user_id":5621753,"display_name":"Aleksandr"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1474534407,"creation_date":1474533553,"answer_id":39634157,"question_id":15699953,"body_markdown":"Its very simple.\r\n\r\nExample JSON:\r\n\r\n    {\r\n       &quot;value&quot;:1\r\n    }\r\n&lt;br&gt;\r\n\r\n    int z = jsonObject.getInt(&quot;value&quot;);","title":"How do I parse JSON into an int?","body":"<p>Its very simple.</p>\n\n<p>Example JSON:</p>\n\n<pre><code>{\n   \"value\":1\n}\n</code></pre>\n\n<p><br></p>\n\n<pre><code>int z = jsonObject.getInt(\"value\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4364861,"reputation":517,"user_id":3560966,"display_name":"Paul Cuddihy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486130575,"creation_date":1486130575,"answer_id":42026042,"question_id":15699953,"body_markdown":"I use a combination of json.get() and instanceof to read in values that might be either integers or integer strings.\r\n\r\nThese three test cases illustrate:\r\n\r\n    int val;\r\n    Object obj;\r\n    JSONObject json = new JSONObject();\r\n    json.put(&quot;number&quot;, 1);\r\n    json.put(&quot;string&quot;, &quot;10&quot;);\r\n    json.put(&quot;other&quot;, &quot;tree&quot;);\r\n\t\t\r\n    obj = json.get(&quot;number&quot;);\r\n    val = (obj instanceof Integer) ? (int) obj : (int) Integer.parseInt((String) obj);\r\n    System.out.println(val);\r\n\t\t\r\n    obj = json.get(&quot;string&quot;);\r\n    val = (obj instanceof Integer) ? (int) obj : (int) Integer.parseInt((String) obj);\r\n    System.out.println(val);\r\n\r\n    try {\r\n        obj = json.get(&quot;other&quot;);\r\n        val = (obj instanceof Integer) ? (int) obj : (int) Integer.parseInt((String) obj);\r\n    } catch (Exception e) {\r\n        // throws exception\r\n    }","title":"How do I parse JSON into an int?","body":"<p>I use a combination of json.get() and instanceof to read in values that might be either integers or integer strings.</p>\n\n<p>These three test cases illustrate:</p>\n\n<pre><code>int val;\nObject obj;\nJSONObject json = new JSONObject();\njson.put(\"number\", 1);\njson.put(\"string\", \"10\");\njson.put(\"other\", \"tree\");\n\nobj = json.get(\"number\");\nval = (obj instanceof Integer) ? (int) obj : (int) Integer.parseInt((String) obj);\nSystem.out.println(val);\n\nobj = json.get(\"string\");\nval = (obj instanceof Integer) ? (int) obj : (int) Integer.parseInt((String) obj);\nSystem.out.println(val);\n\ntry {\n    obj = json.get(\"other\");\n    val = (obj instanceof Integer) ? (int) obj : (int) Integer.parseInt((String) obj);\n} catch (Exception e) {\n    // throws exception\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20673631,"reputation":1,"user_id":15178789,"display_name":"Paco_Gaeta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614184944,"creation_date":1614184944,"answer_id":66355142,"question_id":15699953,"body_markdown":"The question is kind of old, but I get a good result creating a function to convert an object in a Json string from a string variable to an integer\r\n\r\n  \r\n\r\n    function getInt(arr, prop) {\r\n        var int;\r\n        for (var i=0 ; i&lt;arr.length ; i++) {\r\n            int = parseInt(arr[i][prop])\r\n                arr[i][prop] = int;\r\n        }\r\n        return arr;\r\n      }\r\n\r\nthe function just go thru the array and return all elements of the object of your selection as an integer","title":"How do I parse JSON into an int?","body":"<p>The question is kind of old, but I get a good result creating a function to convert an object in a Json string from a string variable to an integer</p>\n<pre><code>function getInt(arr, prop) {\n    var int;\n    for (var i=0 ; i&lt;arr.length ; i++) {\n        int = parseInt(arr[i][prop])\n            arr[i][prop] = int;\n    }\n    return arr;\n  }\n</code></pre>\n<p>the function just go thru the array and return all elements of the object of your selection as an integer</p>\n"},{"tags":[],"owner":{"account_id":8713079,"reputation":312,"user_id":6518664,"accept_rate":100,"display_name":"Elated Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649502508,"creation_date":1649502508,"answer_id":71807519,"question_id":15699953,"body_markdown":"For **JsonNode** use:`Integer.parseInt(String.valueOf())` ","title":"How do I parse JSON into an int?","body":"<p>For <strong>JsonNode</strong> use:<code>Integer.parseInt(String.valueOf())</code></p>\n"},{"tags":[],"owner":{"account_id":27016532,"reputation":11,"user_id":20575268,"display_name":"&#193;lvaro Huertas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682002392,"creation_date":1682002392,"answer_id":76065469,"question_id":15699953,"body_markdown":"This is what only worked for me:\r\n\r\n    id = ((Long) jsonObj.get(&quot;id&quot;)).intValue();\r\n\r\nThis is because json number values are only Long.","title":"How do I parse JSON into an int?","body":"<p>This is what only worked for me:</p>\n<pre><code>id = ((Long) jsonObj.get(&quot;id&quot;)).intValue();\n</code></pre>\n<p>This is because json number values are only Long.</p>\n"}],"owner":{"account_id":2185318,"reputation":537,"user_id":1933846,"accept_rate":0,"display_name":"Josef"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153143,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":8,"score":25,"last_activity_date":1682002392,"creation_date":1364546478,"question_id":15699953,"body_markdown":"I have Parsed some JSON data and its working fine as long as I store it in String variables.\r\n\r\nMy problem is that I need the ID in an int varibable and not in String.\r\ni have tried to make a cast `int id = (int) jsonObj.get(&quot;&quot;);`\r\n\r\nBut it gives an error message that I cannot convert an object to an int.\r\nSo I tried to convert by using: \r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n    String id = (String) jsonObj.get(&quot;id&quot;);\r\n    int value = Integer.parseInt(id);\r\n\r\nBut also that is not working. What is wrong. How is JSON working with int?\r\nMy strings are working just fine its only when I try to make them as an int I get problems.\r\n\r\nHere is my code :\r\n\r\n    public void parseJsonData() throws ParseException {\r\n    \r\n    \t\tJSONParser parser = new JSONParser();\r\n    \t\tObject obj = parser.parse(jsonData);\r\n    \t\tJSONObject topObject = (JSONObject) obj;\r\n    \t\tJSONObject locationList = (JSONObject) topObject.get(&quot;LocationList&quot;);\r\n    \t\tJSONArray array = (JSONArray) locationList.get(&quot;StopLocation&quot;);\r\n    \t\tIterator&lt;JSONObject&gt; iterator = array.iterator();\r\n    \r\n    \t\twhile (iterator.hasNext()) {\r\n    \r\n    \t\t\tJSONObject jsonObj = (JSONObject) iterator.next();\r\n    \t\t    String name  =(String) jsonObj.get(&quot;name&quot;);\r\n    \t\t    String id = (String) jsonObj.get(&quot;id&quot;);\r\n    \t\t\tPlanner.getPlanner().setLocationName(name);\r\n    \t\t\tPlanner.getPlanner().setArrayID(id);\r\n    \r\n    \t\t\t\r\n    \t\t}\r\n    \r\n    \t}","title":"How do I parse JSON into an int?","body":"<p>I have Parsed some JSON data and its working fine as long as I store it in String variables.</p>\n\n<p>My problem is that I need the ID in an int varibable and not in String.\ni have tried to make a cast <code>int id = (int) jsonObj.get(\"\");</code></p>\n\n<p>But it gives an error message that I cannot convert an object to an int.\nSo I tried to convert by using: </p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>String id = (String) jsonObj.get(\"id\");\nint value = Integer.parseInt(id);\n</code></pre>\n\n<p>But also that is not working. What is wrong. How is JSON working with int?\nMy strings are working just fine its only when I try to make them as an int I get problems.</p>\n\n<p>Here is my code :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void parseJsonData() throws ParseException {\n\n        JSONParser parser = new JSONParser();\n        Object obj = parser.parse(jsonData);\n        JSONObject topObject = (JSONObject) obj;\n        JSONObject locationList = (JSONObject) topObject.get(\"LocationList\");\n        JSONArray array = (JSONArray) locationList.get(\"StopLocation\");\n        Iterator&lt;JSONObject&gt; iterator = array.iterator();\n\n        while (iterator.hasNext()) {\n\n            JSONObject jsonObj = (JSONObject) iterator.next();\n            String name  =(String) jsonObj.get(\"name\");\n            String id = (String) jsonObj.get(\"id\");\n            Planner.getPlanner().setLocationName(name);\n            Planner.getPlanner().setArrayID(id);\n\n\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","input"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iya Bursov"},"score":6,"creation_date":1423600947,"post_id":28441322,"comment_id":45212413,"body_markdown":"yes, there are several ways to do so","body":"yes, there are several ways to do so"},{"owner":{"account_id":402857,"reputation":13631,"user_id":770270,"accept_rate":75,"display_name":"tnw"},"score":4,"creation_date":1423601018,"post_id":28441322,"comment_id":45212441,"body_markdown":"Surely you don&#39;t *just* want a yes/no answer to your question, so why don&#39;t you share what you&#39;ve tried so far and explain what specifically is not working? If you haven&#39;t tried anything, please research and attempt this yourself *first* and come back when you run into a problem.","body":"Surely you don&#39;t <i>just</i> want a yes/no answer to your question, so why don&#39;t you share what you&#39;ve tried so far and explain what specifically is not working? If you haven&#39;t tried anything, please research and attempt this yourself <i>first</i> and come back when you run into a problem."},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1423601626,"post_id":28441322,"comment_id":45212757,"body_markdown":"@MotasimFoad What&#39;s an input box?","body":"@MotasimFoad What&#39;s an input box?"},{"owner":{"account_id":5767762,"reputation":87,"user_id":4552153,"display_name":"Motasim Foad"},"score":0,"creation_date":1423601796,"post_id":28441322,"comment_id":45212833,"body_markdown":"when we are using Dr. Java a box appears where the sc.nextInt(); is called to take the input... @immibis","body":"when we are using Dr. Java a box appears where the sc.nextInt(); is called to take the input... @immibis"},{"owner":{"account_id":5767762,"reputation":87,"user_id":4552153,"display_name":"Motasim Foad"},"score":0,"creation_date":1423601846,"post_id":28441322,"comment_id":45212860,"body_markdown":"@Lashane If it is possible please guide me how to do it...","body":"@Lashane If it is possible please guide me how to do it..."}],"answers":[{"tags":[],"owner":{"account_id":1911974,"reputation":8959,"user_id":1725558,"display_name":"Anderson Vieira"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1423601071,"creation_date":1423601071,"answer_id":28441382,"question_id":28441322,"body_markdown":"If you separate your input using whitespace and then press enter like this:\r\n\r\n    2 3\r\n\r\nYou can use `nextInt()` normally:\r\n\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        a = in.nextInt();\r\n        b = in.nextInt();\r\n    }\r\n\r\n`a` will contain 2 and `b` will contain 3.\r\n\r\nIf you need to, you can place both `nextInt()` calls inside a loop, so you can read multiple lines:\r\n\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        int numLines = in.nextInt();\r\n        int a, b;\r\n        for (int i = 0; i &lt; numLines; i++) {\r\n            a = in.nextInt();\r\n            b = in.nextInt();\r\n            System.out.println(a + &quot;, &quot; + b);\r\n        }\r\n    }","title":"How to take multiple inputs from the user at a same time and line in java?","body":"<p>If you separate your input using whitespace and then press enter like this:</p>\n\n<pre><code>2 3\n</code></pre>\n\n<p>You can use <code>nextInt()</code> normally:</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    a = in.nextInt();\n    b = in.nextInt();\n}\n</code></pre>\n\n<p><code>a</code> will contain 2 and <code>b</code> will contain 3.</p>\n\n<p>If you need to, you can place both <code>nextInt()</code> calls inside a loop, so you can read multiple lines:</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    int numLines = in.nextInt();\n    int a, b;\n    for (int i = 0; i &lt; numLines; i++) {\n        a = in.nextInt();\n        b = in.nextInt();\n        System.out.println(a + \", \" + b);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9786786,"reputation":899,"user_id":7252861,"display_name":"Yashovardhan99"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480955360,"creation_date":1480955360,"answer_id":40978855,"question_id":28441322,"body_markdown":"To take multiple inputs from the user from the same input line, you can ask the user to seperate the input with a comma or a white space.\r\nIn case of a white space, Anderson Vieira&#39;s answer gives the correct idea. You can use 2 successive `nextInt()` statements as in\r\n\r\n    System.out.println(&quot;Enter 2 nos.&quot;);\r\n    int a = sc.nextInt();\r\n    int b = sc.nextInt();\r\nAlso, you can specifically ask the user to seperate two nos. with a comma, take the input as a String and then seperate the two nos. using `Integer.parseInt()` command.\r\n\r\n    System.out.println(&quot;Enter 2 nos. seperated with a comma(,) or a semicolon(;)&quot;);\r\n    String S = sc.nextLine();\r\n    String nos[] = S.split(&quot;[, ;]&quot;);\r\n    int a = Integer.parseInt(nos[0]);\r\n    int b = Integer.parseInt(nos[1]);\r\nYou can ofcourse use any other character to seperate the nos.","title":"How to take multiple inputs from the user at a same time and line in java?","body":"<p>To take multiple inputs from the user from the same input line, you can ask the user to seperate the input with a comma or a white space.\nIn case of a white space, Anderson Vieira's answer gives the correct idea. You can use 2 successive <code>nextInt()</code> statements as in</p>\n\n<pre><code>System.out.println(\"Enter 2 nos.\");\nint a = sc.nextInt();\nint b = sc.nextInt();\n</code></pre>\n\n<p>Also, you can specifically ask the user to seperate two nos. with a comma, take the input as a String and then seperate the two nos. using <code>Integer.parseInt()</code> command.</p>\n\n<pre><code>System.out.println(\"Enter 2 nos. seperated with a comma(,) or a semicolon(;)\");\nString S = sc.nextLine();\nString nos[] = S.split(\"[, ;]\");\nint a = Integer.parseInt(nos[0]);\nint b = Integer.parseInt(nos[1]);\n</code></pre>\n\n<p>You can ofcourse use any other character to seperate the nos.</p>\n"},{"tags":[],"owner":{"account_id":12976757,"reputation":1,"user_id":9380585,"display_name":"Sagar Darade"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682001859,"creation_date":1682001859,"answer_id":76065377,"question_id":28441322,"body_markdown":"        int[] nums = new int[2];\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Please Enter 2 No.s, Space separated&quot;);\r\n        for(int i = 0; i &lt; nums.length; i++) {\r\n            nums[i] = sc.nextInt();\r\n        }\r\n \r\n        for(int a : nums){\r\n            System.out.println(a);\r\n        }","title":"How to take multiple inputs from the user at a same time and line in java?","body":"<pre><code>    int[] nums = new int[2];\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Please Enter 2 No.s, Space separated&quot;);\n    for(int i = 0; i &lt; nums.length; i++) {\n        nums[i] = sc.nextInt();\n    }\n\n    for(int a : nums){\n        System.out.println(a);\n    }\n</code></pre>\n"}],"owner":{"account_id":5767762,"reputation":87,"user_id":4552153,"display_name":"Motasim Foad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15582,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1682001859,"creation_date":1423600846,"question_id":28441322,"body_markdown":"Suppose there are 2 int a &amp; b, so when we take input from the scanner we need to first take one variables value then press enter then take another value from the user.\r\nIs there any way so that the input box for the int a &amp; b will appear at the same time and to assign the value the user will have to press enter only one time? \r\n","title":"How to take multiple inputs from the user at a same time and line in java?","body":"<p>Suppose there are 2 int a &amp; b, so when we take input from the scanner we need to first take one variables value then press enter then take another value from the user.\nIs there any way so that the input box for the int a &amp; b will appear at the same time and to assign the value the user will have to press enter only one time? </p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682001830,"creation_date":1681930644,"answer_id":76057978,"question_id":76057385,"body_markdown":"You would need your `LoginController` to have a reference to the instance of `SceneController` *that was created when the corresponding FXML was loaded*. You could in theory do this by passing a reference to that instance to the `LoginController` when you load `Login.fxml` in the `switchToLogin()` method.\r\n\r\nBriefly, this would look like:\r\n\r\n    public void switchToLogin(ActionEvent event) throws IOException {\r\n        FXMLLoader loader = new FXMLLoader(Objects.requireNonNull(getClass().getResource(&quot;Login.fxml&quot;)));\r\n        Parent root = loader.load();\r\n        LoginController controller = loader.getController();\r\n        controller.setSceneController(this);\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n    }\r\n\r\nand in the `LoginController`:\r\n\r\n    public class LoginController {\r\n    \r\n        private SceneController sceneController ;\r\n    \r\n        public void setSceneController(SceneController sceneController){\r\n            this.sceneController = sceneController;\r\n        }\r\n    \r\n        // ...\r\n    \r\n                    if (queryResult.getInt(1) ==1 ) {\r\n                        \r\n                        sceneController.switchToBook(null);\r\n    \r\n                    }\r\n    \r\n        // ...\r\n    \r\n    }\r\n\r\nHowever, it&#39;s not really good practice to have controllers having dependencies on each other. A better approach is to use a MVC design. In a MVC design, the controller should only update the model. Typically, a view would observe the model and update its controls based on changes in the model data. The JavaFX FXML design is really more of a MVP design, where the &quot;Presenter&quot; collaborates more closely with the view (the FXML). However, the presenter/controller should only update the UI controls for which it is directly responsible; it should not update other UI controls or communicate with other controllers. For example, your login controller is trying to communicate with the scene controller, and your scene controller is trying to modify the scene (which I am fairly sure is not defined in the corresponding FXML).\r\n\r\nInstead of communicating between controllers, you should update and observe a model, decoupling all controllers from each other.\r\n\r\nHere is a very quick example. This code is also posted [as a gist](https://gist.github.com/james-d/bae73788a9b881cf9358cbf2d842f554).\r\n\r\nThe model will store and expose a `User` and the current `BrowseState` (which is basically just &quot;is the user browsing DVDs or Books&quot;). For this we have a very simple `record`:\r\n\r\n`User.java`:\r\n\r\n    package org.jamesd.examples.library;\r\n    \r\n    public record User(String username) {}\r\n\r\nand enum:\r\n\r\n`BrowseState.java`:\r\n\r\n    package org.jamesd.examples.library;\r\n    \r\n    public enum BrowseState { BOOK, DVD }\r\n\r\nAnd then the model is:\r\n\r\n`Model.java`\r\n\r\n    package org.jamesd.examples.library;\r\n    \r\n    import javafx.beans.property.ObjectProperty;\r\n    import javafx.beans.property.SimpleObjectProperty;\r\n    \r\n    public class Model {\r\n        private final ObjectProperty&lt;User&gt; user = new SimpleObjectProperty&lt;&gt;(null);\r\n    \r\n        public User getUser() {\r\n            return user.get();\r\n        }\r\n    \r\n        public ObjectProperty&lt;User&gt; userProperty() {\r\n            return user;\r\n        }\r\n    \r\n        public void setUser(User user) {\r\n            this.user.set(user);\r\n        }\r\n    \r\n        private final ObjectProperty&lt;BrowseState&gt; browseState = new SimpleObjectProperty&lt;&gt;(BrowseState.BOOK);\r\n    \r\n        public BrowseState getBrowseState() {\r\n            return browseState.get();\r\n        }\r\n    \r\n        public ObjectProperty&lt;BrowseState&gt; browseStateProperty() {\r\n            return browseState;\r\n        }\r\n    \r\n        public void setBrowseState(BrowseState browseState) {\r\n            this.browseState.set(browseState);\r\n        }\r\n    \r\n        public void logout() {\r\n            setUser(null);\r\n        }\r\n    }\r\n\r\nThe idea, common to all MVC-type designs, is that the controllers can update the model and any interested actors can observe the properties in the model if they need to update the UI as a result of values changing.\r\n\r\nHere is the `Login.fxml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.layout.GridPane?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n    &lt;?import javafx.scene.layout.HBox?&gt;\r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.PasswordField?&gt;\r\n    &lt;?import javafx.scene.control.Tooltip?&gt;\r\n    &lt;GridPane xmlns=&quot;http://javafx.com/javafx&quot;\r\n              xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n              hgap=&quot;5&quot; vgap=&quot;5&quot;\r\n              alignment=&quot;CENTER&quot;\r\n              fx:controller=&quot;org.jamesd.examples.library.LoginController&quot;&gt;\r\n    \r\n        &lt;Label fx:id=&quot;loginLabel&quot; text=&quot;Please enter user name and password&quot;\r\n               GridPane.rowIndex=&quot;0&quot; GridPane.columnIndex=&quot;0&quot; GridPane.columnSpan=&quot;2&quot;/&gt;\r\n        &lt;Label text=&quot;Username:&quot; GridPane.rowIndex=&quot;1&quot; GridPane.columnIndex=&quot;0&quot;/&gt;\r\n        &lt;Label text=&quot;Password:&quot; GridPane.rowIndex=&quot;2&quot; GridPane.columnIndex=&quot;0&quot;/&gt;\r\n    \r\n        &lt;TextField fx:id=&quot;usernameEntry&quot; GridPane.rowIndex=&quot;1&quot; GridPane.columnIndex=&quot;1&quot;/&gt;\r\n        &lt;PasswordField fx:id=&quot;passwordEntry&quot; GridPane.rowIndex=&quot;2&quot; GridPane.columnIndex=&quot;1&quot;\r\n                promptText=&quot;Password is &#39;secret&#39;&quot;&gt;\r\n                &lt;tooltip&gt;\r\n                    &lt;Tooltip text=&quot;Password is &#39;secret&#39;&quot;/&gt;\r\n                &lt;/tooltip&gt;\r\n        &lt;/PasswordField&gt;\r\n    \r\n        &lt;HBox alignment=&quot;CENTER&quot; GridPane.rowIndex=&quot;3&quot; GridPane.columnIndex=&quot;0&quot; GridPane.columnSpan=&quot;2&quot;&gt;\r\n            &lt;Button text=&quot;Login&quot; onAction=&quot;#loginButtonAction&quot; /&gt;\r\n        &lt;/HBox&gt;\r\n    \r\n    &lt;/GridPane&gt;\r\n\r\nand its controller\r\n\r\n`LoginController.java`:\r\n\r\n    package org.jamesd.examples.library;\r\n    \r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.PasswordField;\r\n    import javafx.scene.control.TextField;\r\n    \r\n    \r\n    public class LoginController {\r\n    \r\n        private final Model model;\r\n        @FXML\r\n        private Label loginLabel;\r\n        @FXML\r\n        private TextField usernameEntry;\r\n        @FXML\r\n        private PasswordField passwordEntry;\r\n    \r\n        public LoginController(Model model) {\r\n            this.model = model;\r\n        }\r\n    \r\n    \r\n        public void loginButtonAction() {\r\n            String username = usernameEntry.getText();\r\n            String password = passwordEntry.getText();\r\n            if (username.isBlank() || password.isBlank()) {\r\n                loginLabel.setText(&quot;Please enter username and password&quot;);\r\n            } else {\r\n                if (validateLogin(username, password)) {\r\n                    model.setUser(new User(username));\r\n                } else {\r\n                    loginLabel.setText(&quot;Invalid username and/or password&quot;);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public boolean validateLogin(String username, String password) {\r\n            // dummy implementation\r\n            return &quot;secret&quot;.equals(password);\r\n        }\r\n    \r\n    }\r\n\r\nNote this controller does not have a no-arg constructor, which we will deal with later. \r\n\r\nMore importantly, note that it does not attempt to change the view when the user logs in. All it does is update the model with the new user.\r\n\r\nHere is a `Book.fxml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.layout.VBox?&gt;\r\n    &lt;?import javafx.scene.layout.HBox?&gt;\r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;VBox xmlns=&quot;http://javafx.com/javafx&quot;\r\n          xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n          spacing=&quot;20&quot;\r\n          alignment=&quot;CENTER&quot;\r\n          fx:controller=&quot;org.jamesd.examples.library.BookController&quot;&gt;\r\n        &lt;padding&gt;&lt;Insets topRightBottomLeft=&quot;20&quot;/&gt;&lt;/padding&gt;\r\n    \r\n        &lt;Label fx:id=&quot;welcomeLabel&quot;/&gt;\r\n        &lt;Label text=&quot;Please browse our books...&quot;/&gt;\r\n        &lt;HBox spacing=&quot;10&quot; alignment=&quot;CENTER&quot;&gt;\r\n            &lt;Button text=&quot;Switch to DVDs&quot; onAction=&quot;#switchToDvds&quot;/&gt;\r\n            &lt;Button text=&quot;Logout&quot; onAction=&quot;#logout&quot;/&gt;\r\n        &lt;/HBox&gt;\r\n    &lt;/VBox&gt;\r\n\r\nand its controller:\r\n\r\n`BookController.java`:\r\n\r\n    package org.jamesd.examples.library;\r\n    \r\n    import javafx.event.ActionEvent;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.Label;\r\n    \r\n    public class BookController {\r\n    \r\n        private final Model model;\r\n        @FXML\r\n        private Label welcomeLabel;\r\n    \r\n        public BookController(Model model) {\r\n            this.model = model;\r\n        }\r\n    \r\n        @FXML\r\n        private void initialize() {\r\n            welcomeLabel.textProperty().bind(\r\n                    model.userProperty()\r\n                            .map( u -&gt; String.format(&quot;Welcome %s&quot;, u.username()))\r\n                            .orElse(&quot;Welcome&quot;)\r\n            );\r\n        }\r\n    \r\n        public void switchToDvds() {\r\n            model.setBrowseState(BrowseState.DVD);\r\n        }\r\n    \r\n        public void logout(ActionEvent actionEvent) {\r\n            model.logout();\r\n        }\r\n    }\r\n\r\nAs with the `LoginController`, note there is no no-arg constructor, and note it doesn&#39;t try to change any UI elements except the ones for which it is directly responsible (the ones defined in `Book.fxml`). It just calls methods on the model.\r\n\r\nThe DVD, for demo purposes, is basically identical:\r\n\r\nDvd.fxml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.layout.HBox?&gt;\r\n    &lt;?import javafx.scene.layout.VBox?&gt;\r\n    &lt;VBox xmlns=&quot;http://javafx.com/javafx&quot;\r\n          xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n          spacing=&quot;20&quot;\r\n          alignment=&quot;CENTER&quot;\r\n          fx:controller=&quot;org.jamesd.examples.library.DvdController&quot;&gt;\r\n        &lt;padding&gt;&lt;Insets topRightBottomLeft=&quot;20&quot;/&gt;&lt;/padding&gt;\r\n    \r\n        &lt;Label fx:id=&quot;welcomeLabel&quot;/&gt;\r\n        &lt;Label text=&quot;Please browse our DVDs...&quot;/&gt;\r\n        &lt;HBox spacing=&quot;10&quot; alignment=&quot;CENTER&quot;&gt;\r\n            &lt;Button text=&quot;Switch to Books&quot; onAction=&quot;#switchToBooks&quot;/&gt;\r\n            &lt;Button text=&quot;Logout&quot; onAction=&quot;#logout&quot;/&gt;\r\n        &lt;/HBox&gt;\r\n    &lt;/VBox&gt;\r\n\r\n`DvdController.java`:\r\n\r\n    package org.jamesd.examples.library;\r\n    \r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.Label;\r\n    \r\n    public class DvdController {\r\n    \r\n        private final Model model;\r\n        @FXML private Label welcomeLabel;\r\n    \r\n        public DvdController(Model model) {\r\n            this.model = model;\r\n        }\r\n    \r\n        @FXML\r\n        private void initialize() {\r\n            welcomeLabel.textProperty().bind(\r\n                    model.userProperty()\r\n                            .map( u -&gt; String.format(&quot;Welcome %s&quot;, u.username()))\r\n                            .orElse(&quot;Welcome&quot;)\r\n            );\r\n        }\r\n        public void switchToBooks() {\r\n            model.setBrowseState(BrowseState.BOOK);\r\n        }\r\n    \r\n        public void logout() {\r\n            model.logout();\r\n        }\r\n    }\r\n\r\nNow all we need to do is assemble the application. The application class should instantiate the model and scene and tie everything together. I will use one additional class: a `ViewManager` class. The responsibility of this class is to observe the model properties and expose a property with the current view that should appear in the scene. This avoids the need for the model (which should just represent data) from having to be aware of any UI details (such as FXML files, scene roots, etc.).\r\n\r\nThis also uses a controller factory, which is a function the `FXMLLoader` can use to create controller objects from their classes. This uses a little reflection to check if the controller class defines a constructor taking a single parameter of type `Model`: if so, it uses that constructor. (Otherwise it just uses the default constructor.)\r\n\r\n`ViewManager.java`.\r\n\r\n    package org.jamesd.examples.library;\r\n    \r\n    import javafx.beans.property.ReadOnlyObjectProperty;\r\n    import javafx.beans.property.ReadOnlyObjectWrapper;\r\n    import javafx.beans.value.ChangeListener;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.util.Callback;\r\n    \r\n    import java.io.IOException;\r\n    import java.lang.reflect.Constructor;\r\n    import java.net.URL;\r\n    \r\n    public class ViewManager {\r\n    \r\n        private final Model model ;\r\n    \r\n        private final Callback&lt;Class&lt;?&gt;, Object&gt; controllerFactory ;\r\n    \r\n        private final ReadOnlyObjectWrapper&lt;Parent&gt; currentView = new ReadOnlyObjectWrapper&lt;&gt;();\r\n    \r\n        public Parent getCurrentView() {\r\n            return currentView.get();\r\n        }\r\n    \r\n        public ReadOnlyObjectProperty&lt;Parent&gt; currentViewProperty() {\r\n            return currentView.getReadOnlyProperty();\r\n        }\r\n    \r\n        public ViewManager(Model model) {\r\n            this.model = model;\r\n            controllerFactory = type -&gt; {\r\n                try {\r\n                    for (Constructor&lt;?&gt; c : type.getConstructors()) {\r\n                        if (c.getParameterCount() == 1 &amp;&amp; c.getParameterTypes()[0].equals(Model.class)) {\r\n                            return c.newInstance(model);\r\n                        }\r\n                    }\r\n                    return type.getConstructor().newInstance();\r\n                } catch (Exception e) {\r\n                    throw e instanceof RuntimeException re ? re : new RuntimeException(e);\r\n                }\r\n            };\r\n    \r\n            ChangeListener&lt;Object&gt; listener = (obs, oldValue, newValue) -&gt; updateView();\r\n            model.userProperty().addListener(listener);\r\n            model.browseStateProperty().addListener(listener);\r\n            updateView();\r\n        }\r\n    \r\n        private void updateView() {\r\n            try {\r\n                URL resource;\r\n                if (model.getUser() == null) {\r\n                    resource = LoginController.class.getResource(&quot;Login.fxml&quot;);\r\n                } else {\r\n                    resource = switch(model.getBrowseState()) {\r\n                        case DVD -&gt; DvdController.class.getResource(&quot;Dvd.fxml&quot;);\r\n                        case BOOK -&gt; BookController.class.getResource(&quot;Book.fxml&quot;);\r\n                    };\r\n                }\r\n                FXMLLoader loader = new FXMLLoader(resource);\r\n                loader.setControllerFactory(controllerFactory);\r\n                currentView.set(loader.load());\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nNow the application class just creates the model, view manager, and scene, and binds the scene&#39;s root to the current view in the view manager:\r\n\r\n`HelloApplication.java`:\r\n\r\n    package org.jamesd.examples.library;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class HelloApplication extends Application {\r\n        @Override\r\n        public void start(Stage stage) {\r\n            Model model = new Model();\r\n            ViewManager viewManager = new ViewManager(model);\r\n            Scene scene = new Scene(viewManager.getCurrentView(), 800, 500);\r\n            scene.rootProperty().bind(viewManager.currentViewProperty());\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }","title":"how can i use function from another class?","body":"<p>You would need your <code>LoginController</code> to have a reference to the instance of <code>SceneController</code> <em>that was created when the corresponding FXML was loaded</em>. You could in theory do this by passing a reference to that instance to the <code>LoginController</code> when you load <code>Login.fxml</code> in the <code>switchToLogin()</code> method.</p>\n<p>Briefly, this would look like:</p>\n<pre><code>public void switchToLogin(ActionEvent event) throws IOException {\n    FXMLLoader loader = new FXMLLoader(Objects.requireNonNull(getClass().getResource(&quot;Login.fxml&quot;)));\n    Parent root = loader.load();\n    LoginController controller = loader.getController();\n    controller.setSceneController(this);\n    stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n    scene = new Scene(root);\n    stage.setScene(scene);\n    stage.show();\n\n}\n</code></pre>\n<p>and in the <code>LoginController</code>:</p>\n<pre><code>public class LoginController {\n\n    private SceneController sceneController ;\n\n    public void setSceneController(SceneController sceneController){\n        this.sceneController = sceneController;\n    }\n\n    // ...\n\n                if (queryResult.getInt(1) ==1 ) {\n                    \n                    sceneController.switchToBook(null);\n\n                }\n\n    // ...\n\n}\n</code></pre>\n<p>However, it's not really good practice to have controllers having dependencies on each other. A better approach is to use a MVC design. In a MVC design, the controller should only update the model. Typically, a view would observe the model and update its controls based on changes in the model data. The JavaFX FXML design is really more of a MVP design, where the &quot;Presenter&quot; collaborates more closely with the view (the FXML). However, the presenter/controller should only update the UI controls for which it is directly responsible; it should not update other UI controls or communicate with other controllers. For example, your login controller is trying to communicate with the scene controller, and your scene controller is trying to modify the scene (which I am fairly sure is not defined in the corresponding FXML).</p>\n<p>Instead of communicating between controllers, you should update and observe a model, decoupling all controllers from each other.</p>\n<p>Here is a very quick example. This code is also posted <a href=\"https://gist.github.com/james-d/bae73788a9b881cf9358cbf2d842f554\" rel=\"nofollow noreferrer\">as a gist</a>.</p>\n<p>The model will store and expose a <code>User</code> and the current <code>BrowseState</code> (which is basically just &quot;is the user browsing DVDs or Books&quot;). For this we have a very simple <code>record</code>:</p>\n<p><code>User.java</code>:</p>\n<pre><code>package org.jamesd.examples.library;\n\npublic record User(String username) {}\n</code></pre>\n<p>and enum:</p>\n<p><code>BrowseState.java</code>:</p>\n<pre><code>package org.jamesd.examples.library;\n\npublic enum BrowseState { BOOK, DVD }\n</code></pre>\n<p>And then the model is:</p>\n<p><code>Model.java</code></p>\n<pre><code>package org.jamesd.examples.library;\n\nimport javafx.beans.property.ObjectProperty;\nimport javafx.beans.property.SimpleObjectProperty;\n\npublic class Model {\n    private final ObjectProperty&lt;User&gt; user = new SimpleObjectProperty&lt;&gt;(null);\n\n    public User getUser() {\n        return user.get();\n    }\n\n    public ObjectProperty&lt;User&gt; userProperty() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user.set(user);\n    }\n\n    private final ObjectProperty&lt;BrowseState&gt; browseState = new SimpleObjectProperty&lt;&gt;(BrowseState.BOOK);\n\n    public BrowseState getBrowseState() {\n        return browseState.get();\n    }\n\n    public ObjectProperty&lt;BrowseState&gt; browseStateProperty() {\n        return browseState;\n    }\n\n    public void setBrowseState(BrowseState browseState) {\n        this.browseState.set(browseState);\n    }\n\n    public void logout() {\n        setUser(null);\n    }\n}\n</code></pre>\n<p>The idea, common to all MVC-type designs, is that the controllers can update the model and any interested actors can observe the properties in the model if they need to update the UI as a result of values changing.</p>\n<p>Here is the <code>Login.fxml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.PasswordField?&gt;\n&lt;?import javafx.scene.control.Tooltip?&gt;\n&lt;GridPane xmlns=&quot;http://javafx.com/javafx&quot;\n          xmlns:fx=&quot;http://javafx.com/fxml&quot;\n          hgap=&quot;5&quot; vgap=&quot;5&quot;\n          alignment=&quot;CENTER&quot;\n          fx:controller=&quot;org.jamesd.examples.library.LoginController&quot;&gt;\n\n    &lt;Label fx:id=&quot;loginLabel&quot; text=&quot;Please enter user name and password&quot;\n           GridPane.rowIndex=&quot;0&quot; GridPane.columnIndex=&quot;0&quot; GridPane.columnSpan=&quot;2&quot;/&gt;\n    &lt;Label text=&quot;Username:&quot; GridPane.rowIndex=&quot;1&quot; GridPane.columnIndex=&quot;0&quot;/&gt;\n    &lt;Label text=&quot;Password:&quot; GridPane.rowIndex=&quot;2&quot; GridPane.columnIndex=&quot;0&quot;/&gt;\n\n    &lt;TextField fx:id=&quot;usernameEntry&quot; GridPane.rowIndex=&quot;1&quot; GridPane.columnIndex=&quot;1&quot;/&gt;\n    &lt;PasswordField fx:id=&quot;passwordEntry&quot; GridPane.rowIndex=&quot;2&quot; GridPane.columnIndex=&quot;1&quot;\n            promptText=&quot;Password is 'secret'&quot;&gt;\n            &lt;tooltip&gt;\n                &lt;Tooltip text=&quot;Password is 'secret'&quot;/&gt;\n            &lt;/tooltip&gt;\n    &lt;/PasswordField&gt;\n\n    &lt;HBox alignment=&quot;CENTER&quot; GridPane.rowIndex=&quot;3&quot; GridPane.columnIndex=&quot;0&quot; GridPane.columnSpan=&quot;2&quot;&gt;\n        &lt;Button text=&quot;Login&quot; onAction=&quot;#loginButtonAction&quot; /&gt;\n    &lt;/HBox&gt;\n\n&lt;/GridPane&gt;\n</code></pre>\n<p>and its controller</p>\n<p><code>LoginController.java</code>:</p>\n<pre><code>package org.jamesd.examples.library;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.PasswordField;\nimport javafx.scene.control.TextField;\n\n\npublic class LoginController {\n\n    private final Model model;\n    @FXML\n    private Label loginLabel;\n    @FXML\n    private TextField usernameEntry;\n    @FXML\n    private PasswordField passwordEntry;\n\n    public LoginController(Model model) {\n        this.model = model;\n    }\n\n\n    public void loginButtonAction() {\n        String username = usernameEntry.getText();\n        String password = passwordEntry.getText();\n        if (username.isBlank() || password.isBlank()) {\n            loginLabel.setText(&quot;Please enter username and password&quot;);\n        } else {\n            if (validateLogin(username, password)) {\n                model.setUser(new User(username));\n            } else {\n                loginLabel.setText(&quot;Invalid username and/or password&quot;);\n            }\n        }\n    }\n\n    public boolean validateLogin(String username, String password) {\n        // dummy implementation\n        return &quot;secret&quot;.equals(password);\n    }\n\n}\n</code></pre>\n<p>Note this controller does not have a no-arg constructor, which we will deal with later.</p>\n<p>More importantly, note that it does not attempt to change the view when the user logs in. All it does is update the model with the new user.</p>\n<p>Here is a <code>Book.fxml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;VBox xmlns=&quot;http://javafx.com/javafx&quot;\n      xmlns:fx=&quot;http://javafx.com/fxml&quot;\n      spacing=&quot;20&quot;\n      alignment=&quot;CENTER&quot;\n      fx:controller=&quot;org.jamesd.examples.library.BookController&quot;&gt;\n    &lt;padding&gt;&lt;Insets topRightBottomLeft=&quot;20&quot;/&gt;&lt;/padding&gt;\n\n    &lt;Label fx:id=&quot;welcomeLabel&quot;/&gt;\n    &lt;Label text=&quot;Please browse our books...&quot;/&gt;\n    &lt;HBox spacing=&quot;10&quot; alignment=&quot;CENTER&quot;&gt;\n        &lt;Button text=&quot;Switch to DVDs&quot; onAction=&quot;#switchToDvds&quot;/&gt;\n        &lt;Button text=&quot;Logout&quot; onAction=&quot;#logout&quot;/&gt;\n    &lt;/HBox&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p>and its controller:</p>\n<p><code>BookController.java</code>:</p>\n<pre><code>package org.jamesd.examples.library;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Label;\n\npublic class BookController {\n\n    private final Model model;\n    @FXML\n    private Label welcomeLabel;\n\n    public BookController(Model model) {\n        this.model = model;\n    }\n\n    @FXML\n    private void initialize() {\n        welcomeLabel.textProperty().bind(\n                model.userProperty()\n                        .map( u -&gt; String.format(&quot;Welcome %s&quot;, u.username()))\n                        .orElse(&quot;Welcome&quot;)\n        );\n    }\n\n    public void switchToDvds() {\n        model.setBrowseState(BrowseState.DVD);\n    }\n\n    public void logout(ActionEvent actionEvent) {\n        model.logout();\n    }\n}\n</code></pre>\n<p>As with the <code>LoginController</code>, note there is no no-arg constructor, and note it doesn't try to change any UI elements except the ones for which it is directly responsible (the ones defined in <code>Book.fxml</code>). It just calls methods on the model.</p>\n<p>The DVD, for demo purposes, is basically identical:</p>\n<p>Dvd.fxml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;VBox xmlns=&quot;http://javafx.com/javafx&quot;\n      xmlns:fx=&quot;http://javafx.com/fxml&quot;\n      spacing=&quot;20&quot;\n      alignment=&quot;CENTER&quot;\n      fx:controller=&quot;org.jamesd.examples.library.DvdController&quot;&gt;\n    &lt;padding&gt;&lt;Insets topRightBottomLeft=&quot;20&quot;/&gt;&lt;/padding&gt;\n\n    &lt;Label fx:id=&quot;welcomeLabel&quot;/&gt;\n    &lt;Label text=&quot;Please browse our DVDs...&quot;/&gt;\n    &lt;HBox spacing=&quot;10&quot; alignment=&quot;CENTER&quot;&gt;\n        &lt;Button text=&quot;Switch to Books&quot; onAction=&quot;#switchToBooks&quot;/&gt;\n        &lt;Button text=&quot;Logout&quot; onAction=&quot;#logout&quot;/&gt;\n    &lt;/HBox&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p><code>DvdController.java</code>:</p>\n<pre><code>package org.jamesd.examples.library;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Label;\n\npublic class DvdController {\n\n    private final Model model;\n    @FXML private Label welcomeLabel;\n\n    public DvdController(Model model) {\n        this.model = model;\n    }\n\n    @FXML\n    private void initialize() {\n        welcomeLabel.textProperty().bind(\n                model.userProperty()\n                        .map( u -&gt; String.format(&quot;Welcome %s&quot;, u.username()))\n                        .orElse(&quot;Welcome&quot;)\n        );\n    }\n    public void switchToBooks() {\n        model.setBrowseState(BrowseState.BOOK);\n    }\n\n    public void logout() {\n        model.logout();\n    }\n}\n</code></pre>\n<p>Now all we need to do is assemble the application. The application class should instantiate the model and scene and tie everything together. I will use one additional class: a <code>ViewManager</code> class. The responsibility of this class is to observe the model properties and expose a property with the current view that should appear in the scene. This avoids the need for the model (which should just represent data) from having to be aware of any UI details (such as FXML files, scene roots, etc.).</p>\n<p>This also uses a controller factory, which is a function the <code>FXMLLoader</code> can use to create controller objects from their classes. This uses a little reflection to check if the controller class defines a constructor taking a single parameter of type <code>Model</code>: if so, it uses that constructor. (Otherwise it just uses the default constructor.)</p>\n<p><code>ViewManager.java</code>.</p>\n<pre><code>package org.jamesd.examples.library;\n\nimport javafx.beans.property.ReadOnlyObjectProperty;\nimport javafx.beans.property.ReadOnlyObjectWrapper;\nimport javafx.beans.value.ChangeListener;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.util.Callback;\n\nimport java.io.IOException;\nimport java.lang.reflect.Constructor;\nimport java.net.URL;\n\npublic class ViewManager {\n\n    private final Model model ;\n\n    private final Callback&lt;Class&lt;?&gt;, Object&gt; controllerFactory ;\n\n    private final ReadOnlyObjectWrapper&lt;Parent&gt; currentView = new ReadOnlyObjectWrapper&lt;&gt;();\n\n    public Parent getCurrentView() {\n        return currentView.get();\n    }\n\n    public ReadOnlyObjectProperty&lt;Parent&gt; currentViewProperty() {\n        return currentView.getReadOnlyProperty();\n    }\n\n    public ViewManager(Model model) {\n        this.model = model;\n        controllerFactory = type -&gt; {\n            try {\n                for (Constructor&lt;?&gt; c : type.getConstructors()) {\n                    if (c.getParameterCount() == 1 &amp;&amp; c.getParameterTypes()[0].equals(Model.class)) {\n                        return c.newInstance(model);\n                    }\n                }\n                return type.getConstructor().newInstance();\n            } catch (Exception e) {\n                throw e instanceof RuntimeException re ? re : new RuntimeException(e);\n            }\n        };\n\n        ChangeListener&lt;Object&gt; listener = (obs, oldValue, newValue) -&gt; updateView();\n        model.userProperty().addListener(listener);\n        model.browseStateProperty().addListener(listener);\n        updateView();\n    }\n\n    private void updateView() {\n        try {\n            URL resource;\n            if (model.getUser() == null) {\n                resource = LoginController.class.getResource(&quot;Login.fxml&quot;);\n            } else {\n                resource = switch(model.getBrowseState()) {\n                    case DVD -&gt; DvdController.class.getResource(&quot;Dvd.fxml&quot;);\n                    case BOOK -&gt; BookController.class.getResource(&quot;Book.fxml&quot;);\n                };\n            }\n            FXMLLoader loader = new FXMLLoader(resource);\n            loader.setControllerFactory(controllerFactory);\n            currentView.set(loader.load());\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n<p>Now the application class just creates the model, view manager, and scene, and binds the scene's root to the current view in the view manager:</p>\n<p><code>HelloApplication.java</code>:</p>\n<pre><code>package org.jamesd.examples.library;\n\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) {\n        Model model = new Model();\n        ViewManager viewManager = new ViewManager(model);\n        Scene scene = new Scene(viewManager.getCurrentView(), 800, 500);\n        scene.rootProperty().bind(viewManager.currentViewProperty());\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28352221,"reputation":1,"user_id":21683513,"display_name":"john White"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682001830,"creation_date":1681925883,"question_id":76057385,"body_markdown":"tying to set my project up so that just one controller handles the navigation and that i can just call the function for navigating to another page in a sperate controller and atach that function to a button.\r\n\r\nthis is the controller i have for navigation \r\n```\r\npackage system.test.librarysystem;\r\n\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Objects;\r\n\r\npublic class sceneController {\r\n\r\n    private Stage stage;\r\n    private Scene scene;\r\n    private Parent root;\r\n\r\n    public void switchToLogin(ActionEvent event) throws IOException {\r\n        Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;Login.fxml&quot;)));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n    }\r\n\r\n    public void switchToBook(ActionEvent event) throws IOException {\r\n        Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;Book.fxml&quot;)));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n    }\r\n\r\n\r\n    public void switchToDVD(ActionEvent event) throws IOException {\r\n        Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;DVD.fxml&quot;)));\r\n        stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n    }\r\n}\r\n```\r\nat the moment im trying to get it to work with this login controller\r\n```\r\npackage system.test.librarysystem;\r\n\r\nimport java.io.IOException;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.control.PasswordField;\r\nimport javafx.scene.input.KeyEvent;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.ResultSet;\r\nimport java.sql.Statement;\r\n\r\npublic class LoginController {\r\n\r\n    @FXML\r\n    private Label loginLabel;\r\n    @FXML\r\n    private TextField usernameEntry;\r\n    @FXML\r\n    private PasswordField passwordEntry;\r\n\r\n\r\n    public void loginButtonAction(ActionEvent e) {\r\n        if (usernameEntry.getText().isBlank() == false &amp;&amp; passwordEntry.getText().isBlank() == false) {\r\n            //loginLabel.setText(&quot;login successful&quot;);\r\n            validateLogin();\r\n        } else {\r\n            loginLabel.setText(&quot;Please enter username and password&quot;);\r\n        }\r\n    }\r\n\r\n    public void validateLogin() {\r\n        DatabaseConnection connectNow = new DatabaseConnection();\r\n        Connection connectDB = connectNow.getConnection();\r\n\r\n        String verifyLogin = &quot;SELECT count(1) FROM users WHERE username = &#39;&quot; + usernameEntry.getText() +  &quot;&#39; AND password = &#39;&quot; + passwordEntry.getText() + &quot;&#39;&quot;;\r\n\r\n        try {\r\n\r\n            Statement statement = connectDB.createStatement();\r\n            ResultSet queryResult = statement.executeQuery(verifyLogin);\r\n\r\n            while(queryResult.next()) {\r\n                if (queryResult.getInt(1) ==1 ) {\r\n                    //loginLabel.setText(&quot;Welcome&quot;);\r\n                    FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Book.FXML&quot;));\r\n                    sceneController sceneController = loader.getController();\r\n                    ActionEvent actionEvent = new ActionEvent();\r\n                    sceneController.switchToBook(actionEvent);\r\n\r\n                } else {\r\n                    loginLabel.setText(&quot;Invalid login&quot;);\r\n                }\r\n            }\r\n\r\n\r\n        } catch (Exception e) {\r\n\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nhow can i get this working?\r\n\r\n","title":"how can i use function from another class?","body":"<p>tying to set my project up so that just one controller handles the navigation and that i can just call the function for navigating to another page in a sperate controller and atach that function to a button.</p>\n<p>this is the controller i have for navigation</p>\n<pre><code>package system.test.librarysystem;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.Objects;\n\npublic class sceneController {\n\n    private Stage stage;\n    private Scene scene;\n    private Parent root;\n\n    public void switchToLogin(ActionEvent event) throws IOException {\n        Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;Login.fxml&quot;)));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n\n    }\n\n    public void switchToBook(ActionEvent event) throws IOException {\n        Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;Book.fxml&quot;)));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n\n    }\n\n\n    public void switchToDVD(ActionEvent event) throws IOException {\n        Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;DVD.fxml&quot;)));\n        stage = (Stage) ((Node) event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n\n    }\n}\n</code></pre>\n<p>at the moment im trying to get it to work with this login controller</p>\n<pre><code>package system.test.librarysystem;\n\nimport java.io.IOException;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.PasswordField;\nimport javafx.scene.input.KeyEvent;\n\nimport java.sql.Connection;\nimport java.sql.ResultSet;\nimport java.sql.Statement;\n\npublic class LoginController {\n\n    @FXML\n    private Label loginLabel;\n    @FXML\n    private TextField usernameEntry;\n    @FXML\n    private PasswordField passwordEntry;\n\n\n    public void loginButtonAction(ActionEvent e) {\n        if (usernameEntry.getText().isBlank() == false &amp;&amp; passwordEntry.getText().isBlank() == false) {\n            //loginLabel.setText(&quot;login successful&quot;);\n            validateLogin();\n        } else {\n            loginLabel.setText(&quot;Please enter username and password&quot;);\n        }\n    }\n\n    public void validateLogin() {\n        DatabaseConnection connectNow = new DatabaseConnection();\n        Connection connectDB = connectNow.getConnection();\n\n        String verifyLogin = &quot;SELECT count(1) FROM users WHERE username = '&quot; + usernameEntry.getText() +  &quot;' AND password = '&quot; + passwordEntry.getText() + &quot;'&quot;;\n\n        try {\n\n            Statement statement = connectDB.createStatement();\n            ResultSet queryResult = statement.executeQuery(verifyLogin);\n\n            while(queryResult.next()) {\n                if (queryResult.getInt(1) ==1 ) {\n                    //loginLabel.setText(&quot;Welcome&quot;);\n                    FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Book.FXML&quot;));\n                    sceneController sceneController = loader.getController();\n                    ActionEvent actionEvent = new ActionEvent();\n                    sceneController.switchToBook(actionEvent);\n\n                } else {\n                    loginLabel.setText(&quot;Invalid login&quot;);\n                }\n            }\n\n\n        } catch (Exception e) {\n\n        }\n    }\n\n}\n</code></pre>\n<p>how can i get this working?</p>\n"},{"tags":["java","eclipse","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1681968121,"post_id":76060775,"comment_id":134142617,"body_markdown":"`new ImageIcon(&quot;shrek.jpeg&quot;)` assumes that `shrek.jpeg` is in the current WORKING directory.  I would consider using `ImageIO.read` over `ImageIcon` as it will throw an exception when the image can&#39;t be loaded for some reason.  I would also consider making the image an &quot;embedded resource&quot; as it would be easier to locate at runtime","body":"<code>new ImageIcon(&quot;shrek.jpeg&quot;)</code> assumes that <code>shrek.jpeg</code> is in the current WORKING directory.  I would consider using <code>ImageIO.read</code> over <code>ImageIcon</code> as it will throw an exception when the image can&#39;t be loaded for some reason.  I would also consider making the image an &quot;embedded resource&quot; as it would be easier to locate at runtime"}],"owner":{"account_id":28356395,"reputation":1,"user_id":21687084,"display_name":"user21687084"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682001771,"creation_date":1681967784,"question_id":76060775,"body_markdown":"\tprivate void shrek() {\r\n        ImageIcon originalIcon = new ImageIcon(&quot;shrek.jpeg&quot;);\r\n        Image iconImage = originalIcon.getImage().getScaledInstance(400,400,0);\r\n        ImageIcon okIcon = new ImageIcon(iconImage);\r\n        Object textArea = null;\r\n\t\tJOptionPane.showMessageDialog(null, textArea, &quot;Shrek&quot;, \r\n        \t    JOptionPane.PLAIN_MESSAGE, okIcon);\r\n\t}\r\n// everything else works except for this part\r\n\r\nI&#39;ve never really done Gui before so I don&#39;t know what I did wrong","title":"I&#39;m trying to add an image of Shrek using JOptionPane on eclipse but the the photo doesn&#39;t show on the GUI interface","body":"<pre><code>private void shrek() {\n    ImageIcon originalIcon = new ImageIcon(&quot;shrek.jpeg&quot;);\n    Image iconImage = originalIcon.getImage().getScaledInstance(400,400,0);\n    ImageIcon okIcon = new ImageIcon(iconImage);\n    Object textArea = null;\n    JOptionPane.showMessageDialog(null, textArea, &quot;Shrek&quot;, \n            JOptionPane.PLAIN_MESSAGE, okIcon);\n}\n</code></pre>\n<p>// everything else works except for this part</p>\n<p>I've never really done Gui before so I don't know what I did wrong</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1345274246,"post_id":12016704,"comment_id":16033271,"body_markdown":"You *did* compile that piece of code. The exception was thrown when you *executed* it.","body":"You <i>did</i> compile that piece of code. The exception was thrown when you <i>executed</i> it."},{"owner":{"account_id":1755455,"reputation":97,"user_id":1603626,"accept_rate":43,"display_name":"Abdousoft"},"score":0,"creation_date":1345274857,"post_id":12016704,"comment_id":16033353,"body_markdown":"Yes exactly, but have an idea how can I proceed with this exception?","body":"Yes exactly, but have an idea how can I proceed with this exception?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1345526980,"post_id":12016704,"comment_id":16087511,"body_markdown":"My point is that you shouldn&#39;t mis-describe your problem. It just distracts and confuses. You could always edit your question you know.","body":"My point is that you shouldn&#39;t mis-describe your problem. It just distracts and confuses. You could always edit your question you know."}],"answers":[{"tags":[],"owner":{"account_id":184840,"reputation":1492,"user_id":421137,"display_name":"roni bar yanai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1345274700,"creation_date":1345274700,"answer_id":12016751,"question_id":12016704,"body_markdown":"This is a runtime exception, that means that the code uses shared library&#39;s (using jni probably) which it cannot load.\r\nhere you have two options:\r\n\r\n1. the shared library is not installed on you system.\r\n2. the path to the shared lib is not  included in the LD_LIBRARY_PATH (on linux, not sure how it called on windows)","title":"How to proceed with this exception java.lang.UnsatisfiedLinkError?","body":"<p>This is a runtime exception, that means that the code uses shared library's (using jni probably) which it cannot load.\nhere you have two options:</p>\n\n<ol>\n<li>the shared library is not installed on you system.</li>\n<li>the path to the shared lib is not  included in the LD_LIBRARY_PATH (on linux, not sure how it called on windows)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1453989,"reputation":756,"user_id":1370130,"display_name":"Nestor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1345274876,"creation_date":1345274876,"answer_id":12016773,"question_id":12016704,"body_markdown":"You need to add `swt-win32-3235.dll` to the `library_path` in your app. By default `library_path` equals to working dir (&quot;.&quot;) of your app. Or you may specify path to `library_path` in vm argument `-Djava.library.path=path`\r\n\r\nSo,\r\n1.Check existing `swt-win32-3235.dll` in your library_path.\r\n2. Check correct definition of `library_path` property.","title":"How to proceed with this exception java.lang.UnsatisfiedLinkError?","body":"<p>You need to add <code>swt-win32-3235.dll</code> to the <code>library_path</code> in your app. By default <code>library_path</code> equals to working dir (\".\") of your app. Or you may specify path to <code>library_path</code> in vm argument <code>-Djava.library.path=path</code></p>\n\n<p>So,\n1.Check existing <code>swt-win32-3235.dll</code> in your library_path.\n2. Check correct definition of <code>library_path</code> property.</p>\n"},{"tags":[],"owner":{"account_id":3373927,"reputation":351,"user_id":2832503,"display_name":"sashikanta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410866374,"creation_date":1410864321,"answer_id":25866711,"question_id":12016704,"body_markdown":"I got the error while running my application. The exception was \r\n\r\n&gt; java.lang.UnsatisfiedLinkError exception :\r\n&gt; SK.gnome.twain.TwainManager.initialize(I[B[BZ)V\r\n\r\n \r\nI fix it in eclipse as below step, Windows&gt;Preferences&gt;Java&gt;Install JREs&gt;check jre6-32 (check the appropriate versions of jre that you have install in your system).","title":"How to proceed with this exception java.lang.UnsatisfiedLinkError?","body":"<p>I got the error while running my application. The exception was </p>\n\n<blockquote>\n  <p>java.lang.UnsatisfiedLinkError exception :\n  SK.gnome.twain.TwainManager.initialize(I[B[BZ)V</p>\n</blockquote>\n\n<p>I fix it in eclipse as below step, Windows>Preferences>Java>Install JREs>check jre6-32 (check the appropriate versions of jre that you have install in your system).</p>\n"},{"tags":[],"owner":{"account_id":28361193,"reputation":1,"user_id":21691205,"display_name":"Milind Kaulgud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682001621,"creation_date":1682001621,"answer_id":76065351,"question_id":12016704,"body_markdown":"I found that copying the SWT dll files to the Java&#39;s JRE bin directory solved this problem.","title":"How to proceed with this exception java.lang.UnsatisfiedLinkError?","body":"<p>I found that copying the SWT dll files to the Java's JRE bin directory solved this problem.</p>\n"}],"owner":{"account_id":1755455,"reputation":97,"user_id":1603626,"accept_rate":43,"display_name":"Abdousoft"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10542,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":12016773,"answer_count":4,"score":1,"last_activity_date":1682001621,"creation_date":1345274164,"question_id":12016704,"body_markdown":"[this example of code][1] generates an exception :\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no swt-win32-3235 in java.library.path\r\n    \tat java.lang.ClassLoader.loadLibrary(Unknown Source)\r\n    \tat java.lang.Runtime.loadLibrary0(Unknown Source)\r\n    \tat java.lang.System.loadLibrary(Unknown Source)\r\n    \tat org.eclipse.swt.internal.Library.loadLibrary(Library.java:134)\r\n    \tat org.eclipse.swt.internal.win32.OS.&lt;clinit&gt;(OS.java:18)\r\n    \tat org.eclipse.swt.widgets.Display.&lt;clinit&gt;(Display.java:125)\r\n    \tat Snippet262.main(Snippet262.java:34)\r\n\r\nWhat does it mean please and how can I resolve it ?\r\nThank you\r\n\r\n\r\n  [1]: http://dev.eclipse.org/viewcvs/viewvc.cgi/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet262.java?view=co","title":"How to proceed with this exception java.lang.UnsatisfiedLinkError?","body":"<p><a href=\"http://dev.eclipse.org/viewcvs/viewvc.cgi/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet262.java?view=co\" rel=\"nofollow\">this example of code</a> generates an exception :</p>\n\n<pre><code>Exception in thread \"main\" java.lang.UnsatisfiedLinkError: no swt-win32-3235 in java.library.path\n    at java.lang.ClassLoader.loadLibrary(Unknown Source)\n    at java.lang.Runtime.loadLibrary0(Unknown Source)\n    at java.lang.System.loadLibrary(Unknown Source)\n    at org.eclipse.swt.internal.Library.loadLibrary(Library.java:134)\n    at org.eclipse.swt.internal.win32.OS.&lt;clinit&gt;(OS.java:18)\n    at org.eclipse.swt.widgets.Display.&lt;clinit&gt;(Display.java:125)\n    at Snippet262.main(Snippet262.java:34)\n</code></pre>\n\n<p>What does it mean please and how can I resolve it ?\nThank you</p>\n"},{"tags":["java","google-bigquery","liquibase"],"answers":[{"tags":[],"owner":{"account_id":9656914,"reputation":213,"user_id":7166176,"display_name":"Emmajiugo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682001544,"creation_date":1682001544,"answer_id":76065339,"question_id":76055397,"body_markdown":"I got it working by add the below under the `&lt;configuration&gt;....&lt;/configuration&gt;`\r\n\r\n```\r\n&lt;changelogSchemaName&gt;dataset-name-goes-here&lt;/changelogSchemaName&gt;\r\n```","title":"Liquibase failing on BigQuery","body":"<p>I got it working by add the below under the <code>&lt;configuration&gt;....&lt;/configuration&gt;</code></p>\n<pre><code>&lt;changelogSchemaName&gt;dataset-name-goes-here&lt;/changelogSchemaName&gt;\n</code></pre>\n"}],"owner":{"account_id":9656914,"reputation":213,"user_id":7166176,"display_name":"Emmajiugo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682001544,"creation_date":1681912662,"question_id":76055397,"body_markdown":"When I run the Liquibase on BigQuery, I get the below error:\r\n\r\n\r\n&gt; liquibase.exception.DatabaseException:\r\n&gt; liquibase.exception.DatabaseException: Error executing SQL UPDATE\r\n&gt; DATABASECHANGELOGLOCK SET LOCKED = false, LOCKEDBY = NULL, LOCKGRANTED\r\n&gt; = NULL WHERE ID = 1: [Simba][BigQueryJDBCDriver](100032) Error executing query job. Message: Table &quot;DATABASECHANGELOGLOCK&quot; must be\r\n&gt; qualified with a dataset (e.g. dataset.table).\r\n\r\nI have seen posts saying I should drop the DATABASECHANGELOGLOCK tbl, but the problem is, this is the first time I am running the migration and it has not created any of the tables I wanted.\r\n\r\nTesting the BigQuery connection is fine, but I don&#39;t know how to resolve this issue.\r\n\r\nAny help will be appreciated.\r\n","title":"Liquibase failing on BigQuery","body":"<p>When I run the Liquibase on BigQuery, I get the below error:</p>\n<blockquote>\n<p>liquibase.exception.DatabaseException:\nliquibase.exception.DatabaseException: Error executing SQL UPDATE\nDATABASECHANGELOGLOCK SET LOCKED = false, LOCKEDBY = NULL, LOCKGRANTED\n= NULL WHERE ID = 1: [Simba]BigQueryJDBCDriver Error executing query job. Message: Table &quot;DATABASECHANGELOGLOCK&quot; must be\nqualified with a dataset (e.g. dataset.table).</p>\n</blockquote>\n<p>I have seen posts saying I should drop the DATABASECHANGELOGLOCK tbl, but the problem is, this is the first time I am running the migration and it has not created any of the tables I wanted.</p>\n<p>Testing the BigQuery connection is fine, but I don't know how to resolve this issue.</p>\n<p>Any help will be appreciated.</p>\n"},{"tags":["java","azul-zulu"],"answers":[{"tags":[],"owner":{"account_id":28359904,"reputation":11,"user_id":21690077,"display_name":"Gon&#231;alo Montalv&#227;o Marques"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682001150,"creation_date":1682001150,"answer_id":76065286,"question_id":76065226,"body_markdown":"I would recommend using a tool like [jEnv][1] or [sdkman][2] that helps you install and manage different versions of Java.\r\n\r\n\r\njEnv in particular works only for Java, while sdkman allows multiple JDKs and SDKs.\r\n\r\n\r\n  [1]: https://www.jenv.be/\r\n  [2]: https://sdkman.io/","title":"how to change java version of Azul Zulu on MacOS with apple silicon","body":"<p>I would recommend using a tool like <a href=\"https://www.jenv.be/\" rel=\"nofollow noreferrer\">jEnv</a> or <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman</a> that helps you install and manage different versions of Java.</p>\n<p>jEnv in particular works only for Java, while sdkman allows multiple JDKs and SDKs.</p>\n"}],"owner":{"account_id":1073482,"reputation":10989,"user_id":1072187,"accept_rate":36,"display_name":"John Little"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1477,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682001150,"creation_date":1682000734,"question_id":76065226,"body_markdown":"I have java 11 and java 8 installed, but cant find out how to change it.  11 is the default.  I need to downgrade to 8.\r\n\r\nJAVA_HOME is not set, so I dont know how its picking up the 11 version.\r\n```\r\n% ls -1 /Library/Java/JavaVirtualMachines/\r\nzulu-11.jdk\r\nzulu-8.jdk\r\n\r\n/usr/libexec/java_home -V               \r\nMatching Java Virtual Machines (2):\r\n    11.0.10 (arm64) &quot;Azul Systems, Inc.&quot; - &quot;Zulu 11.45.27&quot; /Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home\r\n    1.8.0_362 (arm64) &quot;Azul Systems, Inc.&quot; - &quot;Zulu 8.68.0.21&quot; /Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home\r\n/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home\r\n     \r\njava -version\r\nopenjdk version &quot;11.0.10&quot; 2021-01-19 LTS\r\nOpenJDK Runtime Environment Zulu11.45+27-CA (build 11.0.10+9-LTS)\r\nOpenJDK 64-Bit Server VM Zulu11.45+27-CA (build 11.0.10+9-LTS, mixed mode)\r\n\r\n```\r\n\r\nhow do you change versions withAzul?  I&#39;m using it as the oracle version doesn&#39;t support Arm directly.","title":"how to change java version of Azul Zulu on MacOS with apple silicon","body":"<p>I have java 11 and java 8 installed, but cant find out how to change it.  11 is the default.  I need to downgrade to 8.</p>\n<p>JAVA_HOME is not set, so I dont know how its picking up the 11 version.</p>\n<pre><code>% ls -1 /Library/Java/JavaVirtualMachines/\nzulu-11.jdk\nzulu-8.jdk\n\n/usr/libexec/java_home -V               \nMatching Java Virtual Machines (2):\n    11.0.10 (arm64) &quot;Azul Systems, Inc.&quot; - &quot;Zulu 11.45.27&quot; /Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home\n    1.8.0_362 (arm64) &quot;Azul Systems, Inc.&quot; - &quot;Zulu 8.68.0.21&quot; /Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/Home\n/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home\n     \njava -version\nopenjdk version &quot;11.0.10&quot; 2021-01-19 LTS\nOpenJDK Runtime Environment Zulu11.45+27-CA (build 11.0.10+9-LTS)\nOpenJDK 64-Bit Server VM Zulu11.45+27-CA (build 11.0.10+9-LTS, mixed mode)\n\n</code></pre>\n<p>how do you change versions withAzul?  I'm using it as the oracle version doesn't support Arm directly.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682001123,"creation_date":1682001123,"answer_id":76065280,"question_id":76062449,"body_markdown":"The problem is the construction of your `User`. \r\n\r\n```java\r\nUserDetails ud = User.withUsername(&quot;bill&quot;)\r\n            .password(passwordEncoder().encode(&quot;password&quot;))\r\n            .authorities(&quot;read&quot;)\r\n            .roles(&quot;MANAGER&quot;)\r\n            .build();\r\n```\r\n\r\nIf you would have checked the code for the [`User`][1], or rather the [`UserBuilder`][2] and the corresponding [`authorities`][3] and [`roles`][4] methods you will see that each replaces the full authorities. So you use either one or the other. \r\n\r\nIf you look even closer you will see that both `authorities` and `roles` are actually just `authorities`. The only difference is that the `roles` are going to be prefixed with `ROLE_`. \r\n\r\nSo in your initial setup you are ending up with just 1 authority named `ROLE_MANAGER` / `ROLE_ADMIN` and not your `read` authority. \r\n\r\nInstead of calling both methods, just call `authorities` with both `read` and `ROLE_MANAGER`.\r\n\r\n```java\r\nUserDetails ud = User.withUsername(&quot;bill&quot;)\r\n            .password(passwordEncoder().encode(&quot;password&quot;))\r\n            .authorities(&quot;read&quot;, &quot;ROLE_MANAGER&quot;)\r\n            .build();\r\n``` \r\n\r\n[1]: https://github.com/spring-projects/spring-security/blob/main/core/src/main/java/org/springframework/security/core/userdetails/User.java\r\n[2]: https://github.com/spring-projects/spring-security/blob/main/core/src/main/java/org/springframework/security/core/userdetails/User.java#L326\r\n[3]: https://github.com/spring-projects/spring-security/blob/main/core/src/main/java/org/springframework/security/core/userdetails/User.java#L411\r\n[4]: https://github.com/spring-projects/spring-security/blob/main/core/src/main/java/org/springframework/security/core/userdetails/User.java#L456","title":"Spring Boot &amp; Spring Security : Issues with mixing roles and authorities for access control","body":"<p>The problem is the construction of your <code>User</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>UserDetails ud = User.withUsername(&quot;bill&quot;)\n            .password(passwordEncoder().encode(&quot;password&quot;))\n            .authorities(&quot;read&quot;)\n            .roles(&quot;MANAGER&quot;)\n            .build();\n</code></pre>\n<p>If you would have checked the code for the <a href=\"https://github.com/spring-projects/spring-security/blob/main/core/src/main/java/org/springframework/security/core/userdetails/User.java\" rel=\"nofollow noreferrer\"><code>User</code></a>, or rather the <a href=\"https://github.com/spring-projects/spring-security/blob/main/core/src/main/java/org/springframework/security/core/userdetails/User.java#L326\" rel=\"nofollow noreferrer\"><code>UserBuilder</code></a> and the corresponding <a href=\"https://github.com/spring-projects/spring-security/blob/main/core/src/main/java/org/springframework/security/core/userdetails/User.java#L411\" rel=\"nofollow noreferrer\"><code>authorities</code></a> and <a href=\"https://github.com/spring-projects/spring-security/blob/main/core/src/main/java/org/springframework/security/core/userdetails/User.java#L456\" rel=\"nofollow noreferrer\"><code>roles</code></a> methods you will see that each replaces the full authorities. So you use either one or the other.</p>\n<p>If you look even closer you will see that both <code>authorities</code> and <code>roles</code> are actually just <code>authorities</code>. The only difference is that the <code>roles</code> are going to be prefixed with <code>ROLE_</code>.</p>\n<p>So in your initial setup you are ending up with just 1 authority named <code>ROLE_MANAGER</code> / <code>ROLE_ADMIN</code> and not your <code>read</code> authority.</p>\n<p>Instead of calling both methods, just call <code>authorities</code> with both <code>read</code> and <code>ROLE_MANAGER</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>UserDetails ud = User.withUsername(&quot;bill&quot;)\n            .password(passwordEncoder().encode(&quot;password&quot;))\n            .authorities(&quot;read&quot;, &quot;ROLE_MANAGER&quot;)\n            .build();\n</code></pre>\n"}],"owner":{"account_id":12361682,"reputation":65,"user_id":9015656,"display_name":"Nathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682001123,"creation_date":1681982161,"question_id":76062449,"body_markdown":"I am using Spring Boot 2.7.2 and have set up a security configuration with roles and authorities for my users. However, I&#39;m having issues when mixing roles and authorities in my access control expression.\r\n\r\nHere&#39;s my configuration:\r\n\r\n```\r\n@Bean\r\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    return http\r\n            .httpBasic()\r\n            .and()\r\n            .authorizeRequests()\r\n            .anyRequest().access(&quot;isAuthenticated() and hasAuthority(&#39;read&#39;)&quot;)\r\n            .and()\r\n            .build();\r\n}\r\n\r\n@Bean\r\npublic UserDetailsService userDetailsService(){\r\n    InMemoryUserDetailsManager udm = new InMemoryUserDetailsManager();\r\n    UserDetails ud = User.withUsername(&quot;bill&quot;)\r\n            .password(passwordEncoder().encode(&quot;password&quot;))\r\n            .authorities(&quot;read&quot;)\r\n            .roles(&quot;MANAGER&quot;)\r\n            .build();\r\n\r\n    UserDetails ud1 = User.withUsername(&quot;john&quot;)\r\n            .password(passwordEncoder().encode(&quot;password&quot;))\r\n            .authorities(&quot;write&quot;)\r\n            .roles(&quot;ADMIN&quot;)\r\n            .build();\r\n\r\n    udm.createUser(ud);\r\n    udm.createUser(ud1);\r\n\r\n    return udm;\r\n}\r\n\r\n```\r\n\r\nWith this configuration, both users are rejected when trying to access an endpoint. However, if I remove the roles and only use authorities when creating users, it works fine: bill can access the endpoint, and john cannot.\r\n\r\nWith this configuration it will work as expected:\r\n\r\n```\r\n@Bean\r\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    return http\r\n            .httpBasic()\r\n            .and()\r\n            .authorizeRequests()\r\n            .anyRequest().access(&quot;isAuthenticated() and hasAuthority(&#39;read&#39;)&quot;)\r\n            .and()\r\n            .build();\r\n}\r\n\r\n@Bean\r\npublic UserDetailsService userDetailsService(){\r\n    InMemoryUserDetailsManager udm = new InMemoryUserDetailsManager();\r\n    UserDetails ud = User.withUsername(&quot;bill&quot;)\r\n            .password(passwordEncoder().encode(&quot;password&quot;))\r\n            .authorities(&quot;read&quot;)\r\n            .build();\r\n\r\n    UserDetails ud1 = User.withUsername(&quot;john&quot;)\r\n            .password(passwordEncoder().encode(&quot;password&quot;))\r\n            .authorities(&quot;write&quot;)\r\n            .build();\r\n\r\n    udm.createUser(ud);\r\n    udm.createUser(ud1);\r\n\r\n    return udm;\r\n}\r\n\r\n```\r\n\r\nI would like to understand why this issue occurs when I mix roles and authorities and how I can make it work with both roles and authorities in my configuration. Any help or suggestions would be appreciated.","title":"Spring Boot &amp; Spring Security : Issues with mixing roles and authorities for access control","body":"<p>I am using Spring Boot 2.7.2 and have set up a security configuration with roles and authorities for my users. However, I'm having issues when mixing roles and authorities in my access control expression.</p>\n<p>Here's my configuration:</p>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    return http\n            .httpBasic()\n            .and()\n            .authorizeRequests()\n            .anyRequest().access(&quot;isAuthenticated() and hasAuthority('read')&quot;)\n            .and()\n            .build();\n}\n\n@Bean\npublic UserDetailsService userDetailsService(){\n    InMemoryUserDetailsManager udm = new InMemoryUserDetailsManager();\n    UserDetails ud = User.withUsername(&quot;bill&quot;)\n            .password(passwordEncoder().encode(&quot;password&quot;))\n            .authorities(&quot;read&quot;)\n            .roles(&quot;MANAGER&quot;)\n            .build();\n\n    UserDetails ud1 = User.withUsername(&quot;john&quot;)\n            .password(passwordEncoder().encode(&quot;password&quot;))\n            .authorities(&quot;write&quot;)\n            .roles(&quot;ADMIN&quot;)\n            .build();\n\n    udm.createUser(ud);\n    udm.createUser(ud1);\n\n    return udm;\n}\n\n</code></pre>\n<p>With this configuration, both users are rejected when trying to access an endpoint. However, if I remove the roles and only use authorities when creating users, it works fine: bill can access the endpoint, and john cannot.</p>\n<p>With this configuration it will work as expected:</p>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    return http\n            .httpBasic()\n            .and()\n            .authorizeRequests()\n            .anyRequest().access(&quot;isAuthenticated() and hasAuthority('read')&quot;)\n            .and()\n            .build();\n}\n\n@Bean\npublic UserDetailsService userDetailsService(){\n    InMemoryUserDetailsManager udm = new InMemoryUserDetailsManager();\n    UserDetails ud = User.withUsername(&quot;bill&quot;)\n            .password(passwordEncoder().encode(&quot;password&quot;))\n            .authorities(&quot;read&quot;)\n            .build();\n\n    UserDetails ud1 = User.withUsername(&quot;john&quot;)\n            .password(passwordEncoder().encode(&quot;password&quot;))\n            .authorities(&quot;write&quot;)\n            .build();\n\n    udm.createUser(ud);\n    udm.createUser(ud1);\n\n    return udm;\n}\n\n</code></pre>\n<p>I would like to understand why this issue occurs when I mix roles and authorities and how I can make it work with both roles and authorities in my configuration. Any help or suggestions would be appreciated.</p>\n"},{"tags":["java","interface","polymorphism","abstract-class"],"comments":[{"owner":{"account_id":11955653,"reputation":585,"user_id":8748083,"display_name":"RobOhRob"},"score":0,"creation_date":1682006708,"post_id":76065161,"comment_id":134151467,"body_markdown":"Create another abstract class that extends the original, and put all the common code/variables in there.","body":"Create another abstract class that extends the original, and put all the common code/variables in there."}],"owner":{"account_id":17438832,"reputation":13,"user_id":12648160,"display_name":"amayito37"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682000344,"creation_date":1682000344,"question_id":76065161,"body_markdown":"I have two java classes that do the same thing but their output depends on the value of two attributes that are of the same type, but each class has different values for the attributes. Also each class input and output type are different but they implement the same abstract class. How can I avoid duplicated code?\r\n\r\n\r\n```\r\npublic class ClassA {\r\n    private MyClass1 attr1;\r\n    private myClass2 attr2;\r\n    \r\n    public ResponseA doSomething(RequestA request) {\r\n        // do something with attr1 and attr2 and request\r\n        return ResponseA.builder().build();\r\n    }\r\n}\r\n\r\npublic class ClassB {\r\n    private myClass1 attr1;\r\n    private myClass2 attr2;\r\n    \r\n    public ResponseB doSomething(RequestB request) {\r\n        // do something with attr1 and attr2 and request\r\n        return ResponseB.builder().build();\r\n    }\r\n}\r\n\r\npublic abstract class RequestType {\r\n     \r\n}\r\n\r\npublic class RequestA extends RequestType {\r\n\r\n}\r\n\r\npublic class RequestB extends RequestType {\r\n\r\n}\r\n\r\npublic abstract class ResponseType {\r\n    // can&#39;t have a builder\r\n}\r\n\r\npublic class ResponseA extends ResponseType {\r\n    // has a builder\r\n}\r\n\r\npublic class ResponseB extends ResponseType {\r\n    // has a builder\r\n}\r\n```\r\n\r\nHow can I make it so that I don&#39;t have to repeat the implementation of `doSomething` twice (or more than twice in the future.\r\n\r\nI tried with an interface, but had problems because I need to access the value of the attributes inside `doSomething` so I couldn&#39;t just put the implementation of the method in the interface.\r\n\r\nThe problem I have for abstract class is that, since `ResponseType` doesn&#39;t have a builder (neither can I touch that class), I can&#39;t build the object from the abstract class, because I need to know which subclass I&#39;m working with to call that builder.","title":"How to avoid code duplication in java when working with two implementations of an abstract class","body":"<p>I have two java classes that do the same thing but their output depends on the value of two attributes that are of the same type, but each class has different values for the attributes. Also each class input and output type are different but they implement the same abstract class. How can I avoid duplicated code?</p>\n<pre><code>public class ClassA {\n    private MyClass1 attr1;\n    private myClass2 attr2;\n    \n    public ResponseA doSomething(RequestA request) {\n        // do something with attr1 and attr2 and request\n        return ResponseA.builder().build();\n    }\n}\n\npublic class ClassB {\n    private myClass1 attr1;\n    private myClass2 attr2;\n    \n    public ResponseB doSomething(RequestB request) {\n        // do something with attr1 and attr2 and request\n        return ResponseB.builder().build();\n    }\n}\n\npublic abstract class RequestType {\n     \n}\n\npublic class RequestA extends RequestType {\n\n}\n\npublic class RequestB extends RequestType {\n\n}\n\npublic abstract class ResponseType {\n    // can't have a builder\n}\n\npublic class ResponseA extends ResponseType {\n    // has a builder\n}\n\npublic class ResponseB extends ResponseType {\n    // has a builder\n}\n</code></pre>\n<p>How can I make it so that I don't have to repeat the implementation of <code>doSomething</code> twice (or more than twice in the future.</p>\n<p>I tried with an interface, but had problems because I need to access the value of the attributes inside <code>doSomething</code> so I couldn't just put the implementation of the method in the interface.</p>\n<p>The problem I have for abstract class is that, since <code>ResponseType</code> doesn't have a builder (neither can I touch that class), I can't build the object from the abstract class, because I need to know which subclass I'm working with to call that builder.</p>\n"},{"tags":["java","low-latency","jgroups"],"answers":[{"tags":[],"owner":{"account_id":9601390,"reputation":33,"user_id":7128777,"display_name":"Christophe Kamphaus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681999767,"creation_date":1681999767,"answer_id":76065059,"question_id":74813753,"body_markdown":"There is an open issue in the JGroups tracker to establish a JGroups config optimized for low latency: https://issues.redhat.com/browse/JGRP-2601\r\nThis issue mentions that by default JGroups is biased towards high throughput and links to a working document for this issue: https://github.com/belaban/JGroups/blob/master/doc/design/LatencyVersusThroughput.txt\r\n\r\nThe listed recommendations in this document are:\r\n\r\n    Recommendations\r\n    ---------------\r\n    \r\n    * General\r\n      * Use a JDK &gt;= 15. Changes to the networking code in 15 improved performance for TCP (and UDP datagram sockets)\r\n        a lot: http://belaban.blogspot.com/2020/07/double-your-performance-virtual-threads.html\r\n      * Use virtual threads (set use_virtual_threads=true in the transport). This reduces context switching when more\r\n        threads than cores are used.\r\n      * Remove TIME when up/down measurements are not needed anymore; every message sent/received requires a\r\n        System.nanoTime(), slowing things down a bit\r\n    \r\n    * TCP:\r\n      * Low latency:\r\n        * buffered_output_stream_size=0 (or a low value)\r\n        * bundler_type=&quot;no-bundler&quot;\r\n          * Investigate: use &quot;per-destination&quot; bunder_type, but also use OOB|DONT_BUNDLE\r\n    \r\n      * High throughput: set buffered_output_stream to a high value (e.g. 65k)\r\n    \r\n    * UNICAST3\r\n      * ack_threshold: &lt;investigate&gt;\r\n\r\nAfter upgrading to JDK 17 we indeed noticed that our latency issues were fixed.","title":"How can we provide low latency transmission of messages using jGroups?","body":"<p>There is an open issue in the JGroups tracker to establish a JGroups config optimized for low latency: <a href=\"https://issues.redhat.com/browse/JGRP-2601\" rel=\"nofollow noreferrer\">https://issues.redhat.com/browse/JGRP-2601</a>\nThis issue mentions that by default JGroups is biased towards high throughput and links to a working document for this issue: <a href=\"https://github.com/belaban/JGroups/blob/master/doc/design/LatencyVersusThroughput.txt\" rel=\"nofollow noreferrer\">https://github.com/belaban/JGroups/blob/master/doc/design/LatencyVersusThroughput.txt</a></p>\n<p>The listed recommendations in this document are:</p>\n<pre><code>Recommendations\n---------------\n\n* General\n  * Use a JDK &gt;= 15. Changes to the networking code in 15 improved performance for TCP (and UDP datagram sockets)\n    a lot: http://belaban.blogspot.com/2020/07/double-your-performance-virtual-threads.html\n  * Use virtual threads (set use_virtual_threads=true in the transport). This reduces context switching when more\n    threads than cores are used.\n  * Remove TIME when up/down measurements are not needed anymore; every message sent/received requires a\n    System.nanoTime(), slowing things down a bit\n\n* TCP:\n  * Low latency:\n    * buffered_output_stream_size=0 (or a low value)\n    * bundler_type=&quot;no-bundler&quot;\n      * Investigate: use &quot;per-destination&quot; bunder_type, but also use OOB|DONT_BUNDLE\n\n  * High throughput: set buffered_output_stream to a high value (e.g. 65k)\n\n* UNICAST3\n  * ack_threshold: &lt;investigate&gt;\n</code></pre>\n<p>After upgrading to JDK 17 we indeed noticed that our latency issues were fixed.</p>\n"}],"owner":{"account_id":9601390,"reputation":33,"user_id":7128777,"display_name":"Christophe Kamphaus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76065059,"answer_count":1,"score":0,"last_activity_date":1681999767,"creation_date":1671117523,"question_id":74813753,"body_markdown":"We have implemented message broadcasting between instances of the same API using jGroups to synchronize application state.\r\nWe use jGroups`5.2.4.Final` on JDK 11.0.17 on Linux 5.4.0.\r\nCurrently we observe that some messages take around 7 seconds (in some cases even up to 50s) to be transmitted from one API to another and we&#39;d like to achieve &lt;1s latencies.\r\n\r\nThis issue occurs even when both API instances run on the same machine.\r\n\r\nTo send we use\r\n```\r\nchannel = new org.jgroups.JChannel(networkConfig.getInputStream()); // channel created once at startup of api\r\nchannel.setName(&quot;XNetwork&quot;);\r\nchannel.connect(&quot;XCluster&quot;);\r\nchannel.setReceiver(receiver);\r\nchannel.addChannelListener(this);\r\nchannel.setDiscardOwnMessages(true);\r\n...\r\nMessage message = new org.jgroups.BytesMessage(null, command);\r\nchannel.send(message); // executed when needed to synchronize state\r\n```\r\nwith the following configuration `networkConfig`:\r\n```\r\n &lt;config xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns=&quot;urn:org:jgroups&quot;\r\n        xsi:schemaLocation=&quot;urn:org:jgroups http://www.jgroups.org/schema/jgroups.xsd&quot;&gt;\r\n      &lt;TCP\r\n          external_addr=&quot;match-interface:eth0&quot;\r\n          bind_addr=&quot;site_local,match-interface:eth0&quot;\r\n          bind_port=&quot;${jgroups.tcp_bind_port:7800}&quot;\r\n          recv_buf_size=&quot;5M&quot;\r\n          send_buf_size=&quot;1M&quot;\r\n          thread_naming_pattern=&quot;cl&quot;\r\n          thread_pool.min_threads=&quot;0&quot;\r\n          thread_pool.max_threads=&quot;500&quot;\r\n          thread_pool.keep_alive_time=&quot;30000&quot; /&gt;\r\n      &lt;TCPPING async_discovery=&quot;true&quot;\r\n             initial_hosts=&quot;${jgroups.tcpping.initial_hosts:localhost[7800],localhost[7801]}&quot;\r\n             return_entire_cache=&quot;${jgroups.tcpping.return_entire_cache:false}&quot;\r\n             port_range=&quot;${jgroups.tcp.port_range:2}&quot;/&gt;\r\n      &lt;MERGE3 max_interval=&quot;30000&quot;\r\n              min_interval=&quot;10000&quot;/&gt;\r\n      &lt;FD_SOCK2/&gt;\r\n      &lt;FD_ALL3 timeout=&quot;30000&quot; interval=&quot;5000&quot;/&gt;\r\n      &lt;VERIFY_SUSPECT2 timeout=&quot;1500&quot;  /&gt;\r\n      &lt;BARRIER /&gt;\r\n      &lt;pbcast.NAKACK2 xmit_interval=&quot;500&quot;\r\n                      xmit_table_num_rows=&quot;100&quot;\r\n                      xmit_table_msgs_per_row=&quot;2000&quot;\r\n                      xmit_table_max_compaction_time=&quot;30000&quot;\r\n                      use_mcast_xmit=&quot;false&quot;\r\n                      discard_delivered_msgs=&quot;true&quot; /&gt;\r\n      &lt;UNICAST3\r\n              xmit_table_num_rows=&quot;100&quot;\r\n              xmit_table_msgs_per_row=&quot;1000&quot;\r\n              xmit_table_max_compaction_time=&quot;30000&quot;/&gt;\r\n      &lt;pbcast.STABLE desired_avg_gossip=&quot;50000&quot; max_bytes=&quot;8m&quot;/&gt;\r\n      &lt;pbcast.GMS print_local_addr=&quot;true&quot; join_timeout=&quot;3000&quot; /&gt;\r\n      &lt;UFC max_credits=&quot;2M&quot; min_threshold=&quot;0.4&quot;/&gt;\r\n      &lt;MFC max_credits=&quot;2M&quot; min_threshold=&quot;0.4&quot;/&gt;\r\n      &lt;FRAG2 frag_size=&quot;60K&quot;  /&gt;\r\n      &lt;pbcast.STATE_TRANSFER  /&gt;\r\n&lt;/config&gt;\r\n```\r\n\r\nAre there any jGroups parameters we could tune to reduce the latency?\r\n\r\nHow can we troubleshoot this latency issue to determine the root cause?\r\ne.g. How can we find out where in the network stack any latency is coming from?\r\n\r\nWe tried changing the `max_bundle_size` unsuccessfully. Setting the `DONT_BUNDLE` on the message flag reduced the time slightly, but not enough. We also played with the `&lt;FRAG2&gt;` and `&lt;FRAG4&gt;` tags without any success.\r\nWe expect the message to be delivered within less than 1s.","title":"How can we provide low latency transmission of messages using jGroups?","body":"<p>We have implemented message broadcasting between instances of the same API using jGroups to synchronize application state.\nWe use jGroups<code>5.2.4.Final</code> on JDK 11.0.17 on Linux 5.4.0.\nCurrently we observe that some messages take around 7 seconds (in some cases even up to 50s) to be transmitted from one API to another and we'd like to achieve &lt;1s latencies.</p>\n<p>This issue occurs even when both API instances run on the same machine.</p>\n<p>To send we use</p>\n<pre><code>channel = new org.jgroups.JChannel(networkConfig.getInputStream()); // channel created once at startup of api\nchannel.setName(&quot;XNetwork&quot;);\nchannel.connect(&quot;XCluster&quot;);\nchannel.setReceiver(receiver);\nchannel.addChannelListener(this);\nchannel.setDiscardOwnMessages(true);\n...\nMessage message = new org.jgroups.BytesMessage(null, command);\nchannel.send(message); // executed when needed to synchronize state\n</code></pre>\n<p>with the following configuration <code>networkConfig</code>:</p>\n<pre><code> &lt;config xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xmlns=&quot;urn:org:jgroups&quot;\n        xsi:schemaLocation=&quot;urn:org:jgroups http://www.jgroups.org/schema/jgroups.xsd&quot;&gt;\n      &lt;TCP\n          external_addr=&quot;match-interface:eth0&quot;\n          bind_addr=&quot;site_local,match-interface:eth0&quot;\n          bind_port=&quot;${jgroups.tcp_bind_port:7800}&quot;\n          recv_buf_size=&quot;5M&quot;\n          send_buf_size=&quot;1M&quot;\n          thread_naming_pattern=&quot;cl&quot;\n          thread_pool.min_threads=&quot;0&quot;\n          thread_pool.max_threads=&quot;500&quot;\n          thread_pool.keep_alive_time=&quot;30000&quot; /&gt;\n      &lt;TCPPING async_discovery=&quot;true&quot;\n             initial_hosts=&quot;${jgroups.tcpping.initial_hosts:localhost[7800],localhost[7801]}&quot;\n             return_entire_cache=&quot;${jgroups.tcpping.return_entire_cache:false}&quot;\n             port_range=&quot;${jgroups.tcp.port_range:2}&quot;/&gt;\n      &lt;MERGE3 max_interval=&quot;30000&quot;\n              min_interval=&quot;10000&quot;/&gt;\n      &lt;FD_SOCK2/&gt;\n      &lt;FD_ALL3 timeout=&quot;30000&quot; interval=&quot;5000&quot;/&gt;\n      &lt;VERIFY_SUSPECT2 timeout=&quot;1500&quot;  /&gt;\n      &lt;BARRIER /&gt;\n      &lt;pbcast.NAKACK2 xmit_interval=&quot;500&quot;\n                      xmit_table_num_rows=&quot;100&quot;\n                      xmit_table_msgs_per_row=&quot;2000&quot;\n                      xmit_table_max_compaction_time=&quot;30000&quot;\n                      use_mcast_xmit=&quot;false&quot;\n                      discard_delivered_msgs=&quot;true&quot; /&gt;\n      &lt;UNICAST3\n              xmit_table_num_rows=&quot;100&quot;\n              xmit_table_msgs_per_row=&quot;1000&quot;\n              xmit_table_max_compaction_time=&quot;30000&quot;/&gt;\n      &lt;pbcast.STABLE desired_avg_gossip=&quot;50000&quot; max_bytes=&quot;8m&quot;/&gt;\n      &lt;pbcast.GMS print_local_addr=&quot;true&quot; join_timeout=&quot;3000&quot; /&gt;\n      &lt;UFC max_credits=&quot;2M&quot; min_threshold=&quot;0.4&quot;/&gt;\n      &lt;MFC max_credits=&quot;2M&quot; min_threshold=&quot;0.4&quot;/&gt;\n      &lt;FRAG2 frag_size=&quot;60K&quot;  /&gt;\n      &lt;pbcast.STATE_TRANSFER  /&gt;\n&lt;/config&gt;\n</code></pre>\n<p>Are there any jGroups parameters we could tune to reduce the latency?</p>\n<p>How can we troubleshoot this latency issue to determine the root cause?\ne.g. How can we find out where in the network stack any latency is coming from?</p>\n<p>We tried changing the <code>max_bundle_size</code> unsuccessfully. Setting the <code>DONT_BUNDLE</code> on the message flag reduced the time slightly, but not enough. We also played with the <code>&lt;FRAG2&gt;</code> and <code>&lt;FRAG4&gt;</code> tags without any success.\nWe expect the message to be delivered within less than 1s.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681999512,"creation_date":1681999512,"answer_id":76065010,"question_id":76064518,"body_markdown":"It&#39;s possible to convert this loop to a stream. You just need some intermediate object to hold the object and its&#39; score. Record is perfect for this job:\r\n```\r\npublic record MyObjWrapper(MyObj myObj, double score) {\r\n}\r\n```\r\nNow calculate the score and [map][1] each object and score to the wrapper, find the [max][2] element by providing appropriate comparator and extract `MyObj` from the wrapper.\r\n```\r\npublic MyObj determineMyObjForDataStream(String data) {\r\n  List&lt;MyObj&gt; myObjs = myRepository.findAll();\r\n  List&lt;String&gt; splitData = Arrays.stream(data.split(BLANK_SPACE_STRING))\r\n          .map(String::toLowerCase)\r\n          .toList();\r\n  return myObjs.stream()\r\n          .map(obj -&gt; {\r\n            long hits = obj.keywords().stream()\r\n                    .map(String::toLowerCase)\r\n                    .filter(splitData::contains)\r\n                    .count();\r\n            double currentScore = hits / (double) splitData.size();\r\n            return new MyObjWrapper(obj, currentScore);\r\n          })\r\n          .max(Comparator.comparing(MyObjWrapper::score))\r\n          .map(MyObjWrapper::myObj)\r\n          .orElse(null);\r\n}\r\n```\r\nAdditionally, i would change `splitData` to a `Set` (contains is more efficient for set), unless you have a reason not to use set (maybe you need those duplicates when getting the size?).\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#max-java.util.Comparator-","title":"converting the code to stream (would it make sense? worth the effort?)","body":"<p>It's possible to convert this loop to a stream. You just need some intermediate object to hold the object and its' score. Record is perfect for this job:</p>\n<pre><code>public record MyObjWrapper(MyObj myObj, double score) {\n}\n</code></pre>\n<p>Now calculate the score and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\">map</a> each object and score to the wrapper, find the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#max-java.util.Comparator-\" rel=\"nofollow noreferrer\">max</a> element by providing appropriate comparator and extract <code>MyObj</code> from the wrapper.</p>\n<pre><code>public MyObj determineMyObjForDataStream(String data) {\n  List&lt;MyObj&gt; myObjs = myRepository.findAll();\n  List&lt;String&gt; splitData = Arrays.stream(data.split(BLANK_SPACE_STRING))\n          .map(String::toLowerCase)\n          .toList();\n  return myObjs.stream()\n          .map(obj -&gt; {\n            long hits = obj.keywords().stream()\n                    .map(String::toLowerCase)\n                    .filter(splitData::contains)\n                    .count();\n            double currentScore = hits / (double) splitData.size();\n            return new MyObjWrapper(obj, currentScore);\n          })\n          .max(Comparator.comparing(MyObjWrapper::score))\n          .map(MyObjWrapper::myObj)\n          .orElse(null);\n}\n</code></pre>\n<p>Additionally, i would change <code>splitData</code> to a <code>Set</code> (contains is more efficient for set), unless you have a reason not to use set (maybe you need those duplicates when getting the size?).</p>\n"}],"owner":{"account_id":2026852,"reputation":678,"user_id":1811590,"accept_rate":40,"display_name":"avinash chavan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76065010,"answer_count":1,"score":0,"last_activity_date":1681999512,"creation_date":1681996590,"question_id":76064518,"body_markdown":"I would like to know your opinion on converting the following code to streams instead of using the loop i have.\r\nAnd could you help me with it, as i am not sure how to combine the multiple loops that i have.\r\nIs it worth the effort and does it make sense?\r\n\r\n```\r\npublic MyObj determineMyObjForData(String data) {\r\n        List&lt;MyObj&gt; myObjs = myRepository.findAll();\r\n        List&lt;String&gt; splitData = Arrays.stream(data.split(BLANK_SPACE_STRING))\r\n                .map(String::toLowerCase)\r\n                .toList();\r\n        MyObj result = null;\r\n        double highestMatchScore = 0;\r\n        for (MyObj obj : myObjs) {\r\n            List&lt;String&gt; keywords = obj.getKeywords().stream()\r\n                    .map(String::toLowerCase)\r\n                    .toList();\r\n            long hits = keywords.stream()\r\n                    .filter(splitData::contains)\r\n                    .count();\r\n            double currentScore = hits / (double) splitData.size();\r\n            if (currentScore &gt; highestMatchScore) {\r\n                highestMatchScore = currentScore;\r\n                result = obj;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n```","title":"converting the code to stream (would it make sense? worth the effort?)","body":"<p>I would like to know your opinion on converting the following code to streams instead of using the loop i have.\nAnd could you help me with it, as i am not sure how to combine the multiple loops that i have.\nIs it worth the effort and does it make sense?</p>\n<pre><code>public MyObj determineMyObjForData(String data) {\n        List&lt;MyObj&gt; myObjs = myRepository.findAll();\n        List&lt;String&gt; splitData = Arrays.stream(data.split(BLANK_SPACE_STRING))\n                .map(String::toLowerCase)\n                .toList();\n        MyObj result = null;\n        double highestMatchScore = 0;\n        for (MyObj obj : myObjs) {\n            List&lt;String&gt; keywords = obj.getKeywords().stream()\n                    .map(String::toLowerCase)\n                    .toList();\n            long hits = keywords.stream()\n                    .filter(splitData::contains)\n                    .count();\n            double currentScore = hits / (double) splitData.size();\n            if (currentScore &gt; highestMatchScore) {\n                highestMatchScore = currentScore;\n                result = obj;\n            }\n        }\n        return result;\n    }\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":7822670,"reputation":1609,"user_id":5915318,"display_name":"David Kariuki"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650973205,"creation_date":1650973205,"answer_id":72013298,"question_id":72010468,"body_markdown":"You need services to run in the background when your application is not visible to the user. Android automatically kills some apps especially when they are resource intensive. This can also be done by some antivirus software, task cleaners, memory cleaning apps etc. \r\n\r\nYou need to build your application around these challenges because users will not be required to optimize their settings for your application to run. \r\n\r\nThis services can be triggered by some android activity lifecycles. When you lock your screen, some life cycle methods like the `onPause()` and the `onStop()` could be called in your applications by default. You need to handle these events.\r\n\r\n\r\n\r\n\r\n# Services\r\nA Service is an application component that can perform long-running operations in the background. It does not provide a user interface. Once started, a service might continue running for some time, even after the user switches to another application. You need to create a service that will perform the tasks you want and periodically update the call back in your application.\r\n\r\nE.g. The app may fetch notifications from a remote backend and periodically show them to the user at the notifications panel.\r\n\r\n# Android activity life cycles\r\nAs a user navigates through, out of, and back to your app, the Activity instances in your app transition through different states in their lifecycle. The Activity class provides a number of callbacks that allow the activity to know that a state has changed: that the system is creating, stopping, or resuming an activity, or destroying the process in which the activity resides.\r\n\r\nWithin the lifecycle callback methods, you can declare how your activity behaves when the user leaves and re-enters the activity.\r\n\r\n# References\r\n1. Android Services -&gt; [Learn about android services][1]\r\n2. Activity Life Cycles -&gt; [Learn about activity life cycles][2]\r\n\r\n\r\n  [1]: https://developer.android.com/guide/components/services\r\n  [2]: https://developer.android.com/guide/components/activities/activity-lifecycle","title":"Android app can&#39;t run in background more than 5 or 15 minutes","body":"<p>You need services to run in the background when your application is not visible to the user. Android automatically kills some apps especially when they are resource intensive. This can also be done by some antivirus software, task cleaners, memory cleaning apps etc.</p>\n<p>You need to build your application around these challenges because users will not be required to optimize their settings for your application to run.</p>\n<p>This services can be triggered by some android activity lifecycles. When you lock your screen, some life cycle methods like the <code>onPause()</code> and the <code>onStop()</code> could be called in your applications by default. You need to handle these events.</p>\n<h1>Services</h1>\n<p>A Service is an application component that can perform long-running operations in the background. It does not provide a user interface. Once started, a service might continue running for some time, even after the user switches to another application. You need to create a service that will perform the tasks you want and periodically update the call back in your application.</p>\n<p>E.g. The app may fetch notifications from a remote backend and periodically show them to the user at the notifications panel.</p>\n<h1>Android activity life cycles</h1>\n<p>As a user navigates through, out of, and back to your app, the Activity instances in your app transition through different states in their lifecycle. The Activity class provides a number of callbacks that allow the activity to know that a state has changed: that the system is creating, stopping, or resuming an activity, or destroying the process in which the activity resides.</p>\n<p>Within the lifecycle callback methods, you can declare how your activity behaves when the user leaves and re-enters the activity.</p>\n<h1>References</h1>\n<ol>\n<li>Android Services -&gt; <a href=\"https://developer.android.com/guide/components/services\" rel=\"nofollow noreferrer\">Learn about android services</a></li>\n<li>Activity Life Cycles -&gt; <a href=\"https://developer.android.com/guide/components/activities/activity-lifecycle\" rel=\"nofollow noreferrer\">Learn about activity life cycles</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1010615,"reputation":91,"user_id":1023265,"display_name":"trung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681999398,"creation_date":1681601077,"answer_id":76025197,"question_id":72010468,"body_markdown":"You app can run in background (hidden view) but due to Background Service Limitations, an app is considered to be in the foreground if it has a foreground service running. \r\n\r\nYou need to start a Foreground service and call `startForeground()` to start it.\r\n\r\nAlso, if you are using a `Webview`, such as `Ionic Javascript`, I see the `Webview` can stop after 5 min regardless even there was a Foreground service running. I was using `Ionic Webview Javascript` with Foreground service but it still stop after 5 min, so I decided to use Native Android and it works fine.\r\n\r\n\r\n","title":"Android app can&#39;t run in background more than 5 or 15 minutes","body":"<p>You app can run in background (hidden view) but due to Background Service Limitations, an app is considered to be in the foreground if it has a foreground service running.</p>\n<p>You need to start a Foreground service and call <code>startForeground()</code> to start it.</p>\n<p>Also, if you are using a <code>Webview</code>, such as <code>Ionic Javascript</code>, I see the <code>Webview</code> can stop after 5 min regardless even there was a Foreground service running. I was using <code>Ionic Webview Javascript</code> with Foreground service but it still stop after 5 min, so I decided to use Native Android and it works fine.</p>\n"}],"owner":{"account_id":20662147,"reputation":21,"user_id":15169891,"display_name":"odoojs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1001,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681999398,"creation_date":1650960553,"question_id":72010468,"body_markdown":"I know that it is a real problem with running apps in background for different OEMs, but how can I solve this problem? \r\n\r\nMy app has a webview integrated from an online radio, everything is ok, but after 5 minutes (in locked screen mode), the player stop playing... I can configure my mobile settings, going to Apps, Special access, Optimize battery usage, search for my app and disable that button, but I win only 10 minutes (15 in total), and the app will stop again...\r\n\r\nI found something about services, but I&#39;m a really beginner, I don&#39;t understand why should I use a service to run in foreground... I have also a notification icon (+title+message) which is showing on display even if the mobile screen is locked. For my understandings, that means the app is running in foreground and in background. Can&#39;t figure out how to solve this.\r\n\r\nI&#39;m a beginner, but I want to go with this app in production (Google Play), and I want to be useful, not to be just another app... \r\n\r\nI hope somebody will have the patience to respond on my issue. Thank you! \r\n\r\n(At least some advice, what should I do...)","title":"Android app can&#39;t run in background more than 5 or 15 minutes","body":"<p>I know that it is a real problem with running apps in background for different OEMs, but how can I solve this problem?</p>\n<p>My app has a webview integrated from an online radio, everything is ok, but after 5 minutes (in locked screen mode), the player stop playing... I can configure my mobile settings, going to Apps, Special access, Optimize battery usage, search for my app and disable that button, but I win only 10 minutes (15 in total), and the app will stop again...</p>\n<p>I found something about services, but I'm a really beginner, I don't understand why should I use a service to run in foreground... I have also a notification icon (+title+message) which is showing on display even if the mobile screen is locked. For my understandings, that means the app is running in foreground and in background. Can't figure out how to solve this.</p>\n<p>I'm a beginner, but I want to go with this app in production (Google Play), and I want to be useful, not to be just another app...</p>\n<p>I hope somebody will have the patience to respond on my issue. Thank you!</p>\n<p>(At least some advice, what should I do...)</p>\n"},{"tags":["java","c++","zeromq","portforwarding","upnp"],"owner":{"account_id":12635372,"reputation":295,"user_id":9185021,"display_name":"Mixalis Navridis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1681999013,"creation_date":1678305655,"question_id":75677691,"body_markdown":"I am using jeromq pub-sub system over pgm which works well. My problem is that I want this connection to be visible in the external internet, hence I choose to use Upnp to port forward, but my problem is that all java libraries that i found use TCP or UDP. Any suggestion on how to port forward port with pgm??","title":"Java Port forward using Upnp with PGM/EPGM instead of TCP or UDP","body":"<p>I am using jeromq pub-sub system over pgm which works well. My problem is that I want this connection to be visible in the external internet, hence I choose to use Upnp to port forward, but my problem is that all java libraries that i found use TCP or UDP. Any suggestion on how to port forward port with pgm??</p>\n"},{"tags":["java","sql-server","spring-boot","azure-sql-database","spring-data-jdbc"],"comments":[{"owner":{"account_id":19139186,"reputation":5735,"user_id":13979487,"display_name":"Joseph  Xu"},"score":0,"creation_date":1603272704,"post_id":64458305,"comment_id":113982050,"body_markdown":"It seems that the issue caused by the **id** column .","body":"It seems that the issue caused by the <b>id</b> column ."}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603273005,"creation_date":1603273005,"answer_id":64460748,"question_id":64458305,"body_markdown":"If I understand your Liquibase configuration correct, it sets up a sequence and sets the default value of the id to the `next` value of that sequence.\r\n\r\nThis in principle should work, since Spring Data JDBC does not include a `null` id in an insert, assuming it will be generated by the database and returned by the JDBC driver. \r\n\r\nThat last part is probably where things go wrong. \r\nThe exception basically says after inserting the data in the database and using whatever the JDBC driver returned to update the id, the id is still `null` (or `0` if you use a primitive number type).\r\nSo probably the driver doesn&#39;t return the id generated by the sequence.\r\n\r\nIn order to solve the problem you have the following options:\r\n\r\n 1. Don&#39;t use a sequence, but create the id on the client side, for example by using a UUID. The benefit of this is that it&#39;s easy to implement should scale pretty well. If you create the id upon instantiation of the entity, you may also refer to it before persisting the entity.\r\n\r\n 2. Use a separate query to select the value from the sequence and use it to set the id. This is probably best done in a `BeforeSaveCallback`, but could also happen in a factory method that creates your entities. This is a little more involved and requires an additional database roundtrip. Which could get mitigated by implementing an algorithm where you select values from a sequence multiply it with say 50 and then generate 50 ids from it locally. Which is basically the HiLo algorithm of Hibernate.\r\n\r\n 3. Teach Spring Data JDBC how to get the id from the database. This could take many forms and depends on Azure knowledge that I don&#39;t have. If Azure has a `SERIAL` or `AUTOINCREMENT` field, that could probably be used instead of the sequence and it should get returned by the JDBC driver.\r\n\r\n    Maybe it works when a different `IdGeneration` is used in the `Dialect` you are using. Or maybe a new `IdGeneration` could be implemented. This obviously is rather involved and would take a full new release (or a patched version) of Spring Data JDBC.\r\n","title":"Spring Data JDBC with Azure SQL: After saving the identifier must not be null","body":"<p>If I understand your Liquibase configuration correct, it sets up a sequence and sets the default value of the id to the <code>next</code> value of that sequence.</p>\n<p>This in principle should work, since Spring Data JDBC does not include a <code>null</code> id in an insert, assuming it will be generated by the database and returned by the JDBC driver.</p>\n<p>That last part is probably where things go wrong.\nThe exception basically says after inserting the data in the database and using whatever the JDBC driver returned to update the id, the id is still <code>null</code> (or <code>0</code> if you use a primitive number type).\nSo probably the driver doesn't return the id generated by the sequence.</p>\n<p>In order to solve the problem you have the following options:</p>\n<ol>\n<li><p>Don't use a sequence, but create the id on the client side, for example by using a UUID. The benefit of this is that it's easy to implement should scale pretty well. If you create the id upon instantiation of the entity, you may also refer to it before persisting the entity.</p>\n</li>\n<li><p>Use a separate query to select the value from the sequence and use it to set the id. This is probably best done in a <code>BeforeSaveCallback</code>, but could also happen in a factory method that creates your entities. This is a little more involved and requires an additional database roundtrip. Which could get mitigated by implementing an algorithm where you select values from a sequence multiply it with say 50 and then generate 50 ids from it locally. Which is basically the HiLo algorithm of Hibernate.</p>\n</li>\n<li><p>Teach Spring Data JDBC how to get the id from the database. This could take many forms and depends on Azure knowledge that I don't have. If Azure has a <code>SERIAL</code> or <code>AUTOINCREMENT</code> field, that could probably be used instead of the sequence and it should get returned by the JDBC driver.</p>\n<p>Maybe it works when a different <code>IdGeneration</code> is used in the <code>Dialect</code> you are using. Or maybe a new <code>IdGeneration</code> could be implemented. This obviously is rather involved and would take a full new release (or a patched version) of Spring Data JDBC.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":23390276,"reputation":79,"user_id":17455016,"display_name":"Miroslav Petrovic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681998707,"creation_date":1681998707,"answer_id":76064872,"question_id":64458305,"body_markdown":"It appears to be wrong annotation used \r\n\r\nshould be used \r\n\r\n    import org.springframework.data.annotation.Id\r\n\r\ninstead of \r\n\r\n    import javax.persistence.Id","title":"Spring Data JDBC with Azure SQL: After saving the identifier must not be null","body":"<p>It appears to be wrong annotation used</p>\n<p>should be used</p>\n<pre><code>import org.springframework.data.annotation.Id\n</code></pre>\n<p>instead of</p>\n<pre><code>import javax.persistence.Id\n</code></pre>\n"}],"owner":{"account_id":2933520,"reputation":11,"user_id":2513044,"display_name":"Balu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1356,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1681998707,"creation_date":1603263912,"question_id":64458305,"body_markdown":"Could you help me please with the following error? I am using spring-data-jdbc with Liquibase and Azure SQL Database. I get this when I want to save an object to database with *UserRepository.save*\r\n&gt;java.lang.IllegalArgumentException: After saving the identifier must not be null!\r\n\tat org.springframework.util.Assert.notNull(Assert.java:201)\r\n\tat org.springframework.data.jdbc.core.JdbcAggregateTemplate.store(JdbcAggregateTemplate.java:343)\r\n\tat org.springframework.data.jdbc.core.JdbcAggregateTemplate.save(JdbcAggregateTemplate.java:149)\r\n\tat org.springframework.data.jdbc.repository.support.SimpleJdbcRepository.save(SimpleJdbcRepository.java:55)\r\n\r\nEntity:\r\n```\r\n@Table(&quot;user_details&quot;)\r\npublic class UserDetails {\r\n\r\n    @Id\r\n    Long id;\r\n\r\n    @Column(&quot;email_address&quot;)\r\n    String emailAddress;\r\n\r\n    @Column(&quot;first_name&quot;)\r\n    String firstName;\r\n\r\n    @Column(&quot;last_name&quot;)\r\n    String lastName;\r\n}\r\n```\r\n\r\nRepository:\r\n```\r\n@Repository\r\npublic interface UserRepository extends CrudRepository&lt;UserDetails, Long&gt; {\r\n}\r\n```\r\nLiquibase: \r\n```\r\n  &lt;changeSet id=&quot;0001_user_details&quot;&gt;\r\n        &lt;createSequence sequenceName=&quot;user_details_seq&quot; startValue=&quot;1&quot;/&gt;\r\n\r\n        &lt;createTable tableName=&quot;user_details&quot;&gt;\r\n            &lt;column name=&quot;id&quot; type=&quot;BIGINT&quot; defaultValueSequenceNext=&quot;user_details_seq&quot;&gt;\r\n                &lt;constraints nullable=&quot;false&quot;/&gt;\r\n            &lt;/column&gt;\r\n\r\n            &lt;column name=&quot;email_address&quot; type=&quot;VARCHAR(1024)&quot;&gt;\r\n                &lt;constraints nullable=&quot;true&quot;/&gt;\r\n            &lt;/column&gt;       \r\n\r\n            &lt;column name=&quot;first_name&quot; type=&quot;VARCHAR(255)&quot;&gt;\r\n                &lt;constraints nullable=&quot;true&quot;/&gt;\r\n            &lt;/column&gt;\r\n\r\n            &lt;column name=&quot;last_name&quot; type=&quot;VARCHAR(255)&quot;&gt;\r\n                &lt;constraints nullable=&quot;true&quot;/&gt;\r\n            &lt;/column&gt;  \r\n\r\n        &lt;/createTable&gt;\r\n\r\n        &lt;addPrimaryKey tableName=&quot;user_details&quot; columnNames=&quot;id&quot;\r\n                       constraintName=&quot;user_details_pk&quot;/&gt;\r\n\r\n    &lt;/changeSet&gt;\r\n```\r\n\r\nGenerated Schema:\r\n```\r\ncreate sequence user_details_seq\r\ngo\r\n\r\ncreate table user_details\r\n(\r\n    id               bigint\r\n        constraint DF_user_details_id default NEXT VALUE FOR [user_details_seq] not null\r\n        constraint user_details_pk\r\n            primary key,\r\n    email_address    varchar(1024),\r\n    first_name       varchar(255),\r\n    last_name        varchar(255),\r\n)\r\ngo\r\n\r\n```\r\n\r\nMaven:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;8.4.1.jre14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Spring Data JDBC with Azure SQL: After saving the identifier must not be null","body":"<p>Could you help me please with the following error? I am using spring-data-jdbc with Liquibase and Azure SQL Database. I get this when I want to save an object to database with <em>UserRepository.save</em></p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: After saving the identifier must not be null!\nat org.springframework.util.Assert.notNull(Assert.java:201)\nat org.springframework.data.jdbc.core.JdbcAggregateTemplate.store(JdbcAggregateTemplate.java:343)\nat org.springframework.data.jdbc.core.JdbcAggregateTemplate.save(JdbcAggregateTemplate.java:149)\nat org.springframework.data.jdbc.repository.support.SimpleJdbcRepository.save(SimpleJdbcRepository.java:55)</p>\n</blockquote>\n<p>Entity:</p>\n<pre><code>@Table(&quot;user_details&quot;)\npublic class UserDetails {\n\n    @Id\n    Long id;\n\n    @Column(&quot;email_address&quot;)\n    String emailAddress;\n\n    @Column(&quot;first_name&quot;)\n    String firstName;\n\n    @Column(&quot;last_name&quot;)\n    String lastName;\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>@Repository\npublic interface UserRepository extends CrudRepository&lt;UserDetails, Long&gt; {\n}\n</code></pre>\n<p>Liquibase:</p>\n<pre><code>  &lt;changeSet id=&quot;0001_user_details&quot;&gt;\n        &lt;createSequence sequenceName=&quot;user_details_seq&quot; startValue=&quot;1&quot;/&gt;\n\n        &lt;createTable tableName=&quot;user_details&quot;&gt;\n            &lt;column name=&quot;id&quot; type=&quot;BIGINT&quot; defaultValueSequenceNext=&quot;user_details_seq&quot;&gt;\n                &lt;constraints nullable=&quot;false&quot;/&gt;\n            &lt;/column&gt;\n\n            &lt;column name=&quot;email_address&quot; type=&quot;VARCHAR(1024)&quot;&gt;\n                &lt;constraints nullable=&quot;true&quot;/&gt;\n            &lt;/column&gt;       \n\n            &lt;column name=&quot;first_name&quot; type=&quot;VARCHAR(255)&quot;&gt;\n                &lt;constraints nullable=&quot;true&quot;/&gt;\n            &lt;/column&gt;\n\n            &lt;column name=&quot;last_name&quot; type=&quot;VARCHAR(255)&quot;&gt;\n                &lt;constraints nullable=&quot;true&quot;/&gt;\n            &lt;/column&gt;  \n\n        &lt;/createTable&gt;\n\n        &lt;addPrimaryKey tableName=&quot;user_details&quot; columnNames=&quot;id&quot;\n                       constraintName=&quot;user_details_pk&quot;/&gt;\n\n    &lt;/changeSet&gt;\n</code></pre>\n<p>Generated Schema:</p>\n<pre><code>create sequence user_details_seq\ngo\n\ncreate table user_details\n(\n    id               bigint\n        constraint DF_user_details_id default NEXT VALUE FOR [user_details_seq] not null\n        constraint user_details_pk\n            primary key,\n    email_address    varchar(1024),\n    first_name       varchar(255),\n    last_name        varchar(255),\n)\ngo\n\n</code></pre>\n<p>Maven:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;8.4.1.jre14&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n            &lt;version&gt;3.8.9&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-integration"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681886585,"post_id":76051368,"comment_id":134127262,"body_markdown":"It feels like you are trying to do a task which Spring Batch is designed for with Spring Integration.","body":"It feels like you are trying to do a task which Spring Batch is designed for with Spring Integration."},{"owner":{"account_id":28014516,"reputation":11,"user_id":21396489,"display_name":"Andreas Laager"},"score":0,"creation_date":1681887551,"post_id":76051368,"comment_id":134127467,"body_markdown":"Thanks for the hint. I did a short research and you are right spring batch could also used for such a task. But according to this statement spring integration is better suited:\n&quot;In summary, Spring Integration is a better fit for the use case of reading data from a database and publishing it to a RabbitMQ queue due to its support for integration with databases and message brokers.&quot;","body":"Thanks for the hint. I did a short research and you are right spring batch could also used for such a task. But according to this statement spring integration is better suited: &quot;In summary, Spring Integration is a better fit for the use case of reading data from a database and publishing it to a RabbitMQ queue due to its support for integration with databases and message brokers.&quot;"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681888057,"post_id":76051368,"comment_id":134127585,"body_markdown":"Where are you publishing? I see a process message so it just seems you are only using RabbitMQ as a means to couple tasks.","body":"Where are you publishing? I see a process message so it just seems you are only using RabbitMQ as a means to couple tasks."},{"owner":{"account_id":28014516,"reputation":11,"user_id":21396489,"display_name":"Andreas Laager"},"score":0,"creation_date":1681888495,"post_id":76051368,"comment_id":134127682,"body_markdown":"I left away the publishing part to get a simple use case for my problem.","body":"I left away the publishing part to get a simple use case for my problem."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681888803,"post_id":76051368,"comment_id":134127748,"body_markdown":"Spring Batch does have a writer for rabbitmq. However I do not really understand the issue you currently have, it will poll 100 messages, as soon as they are on the channel it will continue with the next, it isn&#39;t aware of the further handling of the messages.","body":"Spring Batch does have a writer for rabbitmq. However I do not really understand the issue you currently have, it will poll 100 messages, as soon as they are on the channel it will continue with the next, it isn&#39;t aware of the further handling of the messages."},{"owner":{"account_id":28014516,"reputation":11,"user_id":21396489,"display_name":"Andreas Laager"},"score":0,"creation_date":1681891748,"post_id":76051368,"comment_id":134128435,"body_markdown":"That is unfortunately not the case. I added  a Thread.sleep to the processMessage. After the first poll my 10 threads are &quot;busy&quot;. The poller still polls and updates the records in the background. All my 1000 rows are updated to load_status = 3 while the threads still processing the first 10 messages.","body":"That is unfortunately not the case. I added  a Thread.sleep to the processMessage. After the first poll my 10 threads are &quot;busy&quot;. The poller still polls and updates the records in the background. All my 1000 rows are updated to load_status = 3 while the threads still processing the first 10 messages."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681892742,"post_id":76051368,"comment_id":134128657,"body_markdown":"Which is exactly what I stated would happen, the poller puts them on the channel and proceeds.","body":"Which is exactly what I stated would happen, the poller puts them on the channel and proceeds."},{"owner":{"account_id":28014516,"reputation":11,"user_id":21396489,"display_name":"Andreas Laager"},"score":0,"creation_date":1681894605,"post_id":76051368,"comment_id":134129077,"body_markdown":"But I like to have it such as it takes the next 100 when the first 100 are processed :-)","body":"But I like to have it such as it takes the next 100 when the first 100 are processed :-)"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1681894835,"post_id":76051368,"comment_id":134129122,"body_markdown":"That is not how this works. It polls puts stuff on a channel and continues, that is its job. For what you want, Spring Batch seems more suitable. Or update as part of the processing (although that might be slower).","body":"That is not how this works. It polls puts stuff on a channel and continues, that is its job. For what you want, Spring Batch seems more suitable. Or update as part of the processing (although that might be slower)."}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681909571,"creation_date":1681909571,"answer_id":76054885,"question_id":76051368,"body_markdown":"There never was a `setTrigger` nor `setTaskDecorator` in the `JdbcPollingChannelAdapter`. You are missing the fact that `@InboundChannelAdapter` is a pollable channel adapter based on a scheduled task. By default it is done per second. The next polling cycle is started after one second of the previous is finished. \r\n\r\nSee the `poller` attribute of that `@InboundChannelAdapter`. This is the place where you can adjust polling cycle and threading.\r\n\r\nSee more in docs: https://docs.spring.io/spring-integration/docs/current/reference/html/configuration.html#configuration-using-poller-annotation","title":"JdbcPollingChannelAdapter polling messages dynamically","body":"<p>There never was a <code>setTrigger</code> nor <code>setTaskDecorator</code> in the <code>JdbcPollingChannelAdapter</code>. You are missing the fact that <code>@InboundChannelAdapter</code> is a pollable channel adapter based on a scheduled task. By default it is done per second. The next polling cycle is started after one second of the previous is finished.</p>\n<p>See the <code>poller</code> attribute of that <code>@InboundChannelAdapter</code>. This is the place where you can adjust polling cycle and threading.</p>\n<p>See more in docs: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/configuration.html#configuration-using-poller-annotation\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/configuration.html#configuration-using-poller-annotation</a></p>\n"},{"tags":[],"owner":{"account_id":28014516,"reputation":11,"user_id":21396489,"display_name":"Andreas Laager"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681998650,"creation_date":1681998650,"answer_id":76064866,"question_id":76051368,"body_markdown":"So far the best way to limit the input is using a poller advice.\r\n\r\nThis pauses the poller once the thread queue is bigger than two times the core threads:\r\n\r\n```\r\npublic class ThreadQueueAwareReceiveMessageAdvice implements ReceiveMessageAdvice {\r\n    private final ThreadPoolTaskExecutor taskExecutor;\r\n    private int maxThreadQueue;\r\n\r\n    public ThreadQueueAwareReceiveMessageAdvice(ThreadPoolTaskExecutor taskExecutor) {\r\n        this.taskExecutor = taskExecutor;\r\n        this.maxThreadQueue = 2 * taskExecutor.getCorePoolSize();\r\n    }\r\n\r\n    @Override\r\n    public boolean beforeReceive(Object source) {\r\n        if (taskExecutor.getQueueSize() &gt;= maxThreadQueue) {\r\n            return false;\r\n        }\r\n        return ReceiveMessageAdvice.super.beforeReceive(source);\r\n    }\r\n\r\n    @Override\r\n    public Message&lt;?&gt; afterReceive(Message&lt;?&gt; result, Object source) {\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nThis is the poller using the advice:\r\n```\r\n    @Bean\r\n    public PollerMetadata dbPoller() {\r\n        return Pollers\r\n                .fixedRate(500)\r\n                .maxMessagesPerPoll(10)\r\n                .advice(new ThreadQueueAwareReceiveMessageAdvice(taskExecutor))\r\n                .get();\r\n    }\r\n```","title":"JdbcPollingChannelAdapter polling messages dynamically","body":"<p>So far the best way to limit the input is using a poller advice.</p>\n<p>This pauses the poller once the thread queue is bigger than two times the core threads:</p>\n<pre><code>public class ThreadQueueAwareReceiveMessageAdvice implements ReceiveMessageAdvice {\n    private final ThreadPoolTaskExecutor taskExecutor;\n    private int maxThreadQueue;\n\n    public ThreadQueueAwareReceiveMessageAdvice(ThreadPoolTaskExecutor taskExecutor) {\n        this.taskExecutor = taskExecutor;\n        this.maxThreadQueue = 2 * taskExecutor.getCorePoolSize();\n    }\n\n    @Override\n    public boolean beforeReceive(Object source) {\n        if (taskExecutor.getQueueSize() &gt;= maxThreadQueue) {\n            return false;\n        }\n        return ReceiveMessageAdvice.super.beforeReceive(source);\n    }\n\n    @Override\n    public Message&lt;?&gt; afterReceive(Message&lt;?&gt; result, Object source) {\n        return result;\n    }\n}\n</code></pre>\n<p>This is the poller using the advice:</p>\n<pre><code>    @Bean\n    public PollerMetadata dbPoller() {\n        return Pollers\n                .fixedRate(500)\n                .maxMessagesPerPoll(10)\n                .advice(new ThreadQueueAwareReceiveMessageAdvice(taskExecutor))\n                .get();\n    }\n</code></pre>\n"}],"owner":{"account_id":28014516,"reputation":11,"user_id":21396489,"display_name":"Andreas Laager"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1681998650,"creation_date":1681885893,"question_id":76051368,"body_markdown":"My application has the following input channel adapter:\r\n\r\n\r\n```\r\n    @Bean\r\n    @InboundChannelAdapter(value = &quot;databaseInputChannel&quot;)\r\n    public JdbcPollingChannelAdapter checkDbForInput() {\r\n        JdbcPollingChannelAdapter adapter = new JdbcPollingChannelAdapter(dataSource(), &quot;select * from users&quot;);\r\n        adapter.setUpdateSql(&quot;update users set load_status = &#39;3&#39; where id in (:id)&quot;);\r\n        adapter.setMaxRows(100);\r\n        return adapter;\r\n    }\r\n\r\n    @Bean\r\n    public IntegrationFlow pollingFlow() {\r\n        return IntegrationFlow.from(&quot;databaseInputChannel&quot;)\r\n                .split()\r\n                .channel(&quot;databaseRowInputChannel&quot;)\r\n                .get();\r\n    }\r\n\r\n    @Async\r\n    @ServiceActivator(inputChannel = &quot;databaseRowInputChannel&quot;)\r\n    public void processMessage(Message&lt;?&gt; message) {\r\n    }\r\n\r\n```\r\n\r\nHow do I get the poller to just poll the next 100 rows when the previous 100 are processed (limited by the thread pool)?\r\n\r\n\r\nI tried to use jdbcPollingChannelAdapter.setTrigger or jdbcPollingChannelAdapter.setTaskDecorator as suggested on some places. But it looks like these have been removed in spring 6. On the other hand I think there should be an easier way to achieve the wanted behaviour.","title":"JdbcPollingChannelAdapter polling messages dynamically","body":"<p>My application has the following input channel adapter:</p>\n<pre><code>    @Bean\n    @InboundChannelAdapter(value = &quot;databaseInputChannel&quot;)\n    public JdbcPollingChannelAdapter checkDbForInput() {\n        JdbcPollingChannelAdapter adapter = new JdbcPollingChannelAdapter(dataSource(), &quot;select * from users&quot;);\n        adapter.setUpdateSql(&quot;update users set load_status = '3' where id in (:id)&quot;);\n        adapter.setMaxRows(100);\n        return adapter;\n    }\n\n    @Bean\n    public IntegrationFlow pollingFlow() {\n        return IntegrationFlow.from(&quot;databaseInputChannel&quot;)\n                .split()\n                .channel(&quot;databaseRowInputChannel&quot;)\n                .get();\n    }\n\n    @Async\n    @ServiceActivator(inputChannel = &quot;databaseRowInputChannel&quot;)\n    public void processMessage(Message&lt;?&gt; message) {\n    }\n\n</code></pre>\n<p>How do I get the poller to just poll the next 100 rows when the previous 100 are processed (limited by the thread pool)?</p>\n<p>I tried to use jdbcPollingChannelAdapter.setTrigger or jdbcPollingChannelAdapter.setTaskDecorator as suggested on some places. But it looks like these have been removed in spring 6. On the other hand I think there should be an easier way to achieve the wanted behaviour.</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9506,"page":486,"page_size":100}
