{"items":[{"tags":["java","eclipse"],"answers":[{"comments":[{"owner":{"account_id":4773203,"reputation":383,"user_id":3857204,"display_name":"Beeker"},"score":0,"creation_date":1673669018,"post_id":75115426,"comment_id":132555630,"body_markdown":"Deleting the copied folder and performing an import fixed it *shrug*.  Somehow it lost the correct package name.  Now just have the mylyn issue to fix. Thanks","body":"Deleting the copied folder and performing an import fixed it <i>shrug</i>.  Somehow it lost the correct package name.  Now just have the mylyn issue to fix. Thanks"}],"tags":[],"owner":{"account_id":19956275,"reputation":16,"user_id":14624859,"display_name":"MeNoob"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673664313,"creation_date":1673664313,"answer_id":75115426,"question_id":75115230,"body_markdown":"I don&#39;t know exactly what your problem is but I&#39;m guessing it has something to with eclipse not seeing folders or files or something.\r\n\r\nFirst of all. Make sure the directory actually **exist** in the file explorer.\r\n\r\n**Then right click your project &gt; Build Path &gt; Configure Build Path.**\r\nThen select the **&quot;source&quot;** tab and press **&quot;Add Folder&quot;**\r\n\r\nIf the file is not there, then the other option **&quot;Link Source&quot;** might do it for you.\r\n\r\n\r\nIf that doesn&#39;t work then what I would do would be to remove the project from eclipse (don&#39;t delete the files) and then import the project again.\r\n\r\n**Import &gt; Existing Projects into Workspace**\r\n\r\nIf these two options don&#39;t work then the last option I know of is to simply create a separate project and then manually move all the files into the right spots.\r\n","title":"Missing package class in eclipse after recovery","body":"<p>I don't know exactly what your problem is but I'm guessing it has something to with eclipse not seeing folders or files or something.</p>\n<p>First of all. Make sure the directory actually <strong>exist</strong> in the file explorer.</p>\n<p><strong>Then right click your project &gt; Build Path &gt; Configure Build Path.</strong>\nThen select the <strong>&quot;source&quot;</strong> tab and press <strong>&quot;Add Folder&quot;</strong></p>\n<p>If the file is not there, then the other option <strong>&quot;Link Source&quot;</strong> might do it for you.</p>\n<p>If that doesn't work then what I would do would be to remove the project from eclipse (don't delete the files) and then import the project again.</p>\n<p><strong>Import &gt; Existing Projects into Workspace</strong></p>\n<p>If these two options don't work then the last option I know of is to simply create a separate project and then manually move all the files into the right spots.</p>\n"}],"owner":{"account_id":4773203,"reputation":383,"user_id":3857204,"display_name":"Beeker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75115426,"answer_count":1,"score":0,"last_activity_date":1673742529,"creation_date":1673658422,"question_id":75115230,"body_markdown":"I had a machine a Windows update corrupted and I had to copy my `eclipse-workspace` folder off to another machine.  I installed a slightly newer version (still in the 2022 year) of Eclipse on the new machine but it cannot find my source files.  They are there, but it is missing the `com.test` when it&#39;s looking for the file.\r\n\r\nIt&#39;s saying it cannot find `OBSTally/src/obstally` when the original path in the older version is `OBSTally/src/com/test/obstally`.\r\n\r\nI&#39;m sure I can&#39;t find/google the setting I need to change because I don&#39;t know it&#39;s proper name.","title":"Missing package class in eclipse after recovery","body":"<p>I had a machine a Windows update corrupted and I had to copy my <code>eclipse-workspace</code> folder off to another machine.  I installed a slightly newer version (still in the 2022 year) of Eclipse on the new machine but it cannot find my source files.  They are there, but it is missing the <code>com.test</code> when it's looking for the file.</p>\n<p>It's saying it cannot find <code>OBSTally/src/obstally</code> when the original path in the older version is <code>OBSTally/src/com/test/obstally</code>.</p>\n<p>I'm sure I can't find/google the setting I need to change because I don't know it's proper name.</p>\n"},{"tags":["java","spring","database","datasource"],"comments":[{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":1,"creation_date":1673727284,"post_id":75120892,"comment_id":132564287,"body_markdown":"The environment variable `%USERNAME%` that comes from Windows has a higher priority than that defined by your file. Try prefixing all variables inside that file with, for example, `database.` and then call `getProperty(&quot;database.username&quot;)`","body":"The environment variable <code>%USERNAME%</code> that comes from Windows has a higher priority than that defined by your file. Try prefixing all variables inside that file with, for example, <code>database.</code> and then call <code>getProperty(&quot;database.username&quot;)</code>"}],"answers":[{"comments":[{"owner":{"account_id":18419629,"reputation":51,"user_id":13417603,"display_name":"Ohonovskiy"},"score":0,"creation_date":1673795600,"post_id":75122156,"comment_id":132572906,"body_markdown":"Thank you! I hope it will help some people with database connectivity problems.","body":"Thank you! I hope it will help some people with database connectivity problems."}],"tags":[],"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673741706,"creation_date":1673741706,"answer_id":75122156,"question_id":75120892,"body_markdown":"Agree with the [comment][0] from [Alex R][1] about the `%USERNAME%` variable having a higher priority. Using a prefix for values in your `.properties` files is a good practice and will help you avoid a lot of conflicts like this.\r\n\r\nAlternatively, you can use the `ResourceBundle` class.\r\n\r\nWith `database.properties` at the top level of your Java resources (if not at the top level, just provide the path to the `database.properties` file), the snippet below will give you what you need:\r\n\r\n````\r\nfinal ResourceBundle bundle = ResourceBundle.getBundle(&quot;database&quot;);\r\nfinal String username = bundle.getString(&quot;username&quot;);\r\nfinal String password = bundle.getString(&quot;password&quot;);\r\n````\r\n\r\n\r\n  [0]: https://stackoverflow.com/questions/75120892/java-enviroment-class-problem-with-getting-properties/75122156#comment132564287_75120892\r\n  [1]: https://stackoverflow.com/users/7970787/alex-r\r\n","title":"Java Enviroment class problem with getting properties","body":"<p>Agree with the <a href=\"https://stackoverflow.com/questions/75120892/java-enviroment-class-problem-with-getting-properties/75122156#comment132564287_75120892\">comment</a> from <a href=\"https://stackoverflow.com/users/7970787/alex-r\">Alex R</a> about the <code>%USERNAME%</code> variable having a higher priority. Using a prefix for values in your <code>.properties</code> files is a good practice and will help you avoid a lot of conflicts like this.</p>\n<p>Alternatively, you can use the <code>ResourceBundle</code> class.</p>\n<p>With <code>database.properties</code> at the top level of your Java resources (if not at the top level, just provide the path to the <code>database.properties</code> file), the snippet below will give you what you need:</p>\n<pre><code>final ResourceBundle bundle = ResourceBundle.getBundle(&quot;database&quot;);\nfinal String username = bundle.getString(&quot;username&quot;);\nfinal String password = bundle.getString(&quot;password&quot;);\n</code></pre>\n"}],"owner":{"account_id":18419629,"reputation":51,"user_id":13417603,"display_name":"Ohonovskiy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75122156,"answer_count":1,"score":1,"last_activity_date":1673741706,"creation_date":1673726602,"question_id":75120892,"body_markdown":"I created new Enviroment in SpringConfig file:\r\n\r\n    private final Environment environment;\r\n    @Autowired\r\n    public SpringConfig(ApplicationContext applicationContext, Environment environment) {\r\n        this.applicationContext = applicationContext;\r\n        this.environment = environment;\r\n    }\r\nAnd file database.properties\r\n\r\n````lang-none\r\ndriver=com.mysql.jdbc.Driver \r\nurl=jdbc:mysql://localhost:3306/first_db\r\nusername=root\r\npassword=1234\r\n````\r\n\r\nCreated dataSource bean\r\n\r\n    @Bean\r\n        public DataSource dataSource(){\r\n            DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n    \r\n            dataSource.setDriverClassName(Objects.requireNonNull(environment.getProperty(&quot;driver&quot;)));\r\n            dataSource.setUrl(environment.getProperty(&quot;url&quot;));\r\n            dataSource.setUsername(environment.getProperty(&quot;username&quot;));\r\n            dataSource.setPassword(environment.getProperty(&quot;password&quot;));\r\n    \r\n            return dataSource;\r\n        }\r\n\r\nIt gave me error and I checked what enviroment.getProperty returns me. It showed me:\r\n\r\n````lang-none\r\ncom.mysql.jdbc.Driver\r\njdbc:mysql://localhost:3306/first_db\r\nPC // my PC name\r\n1234\r\n````\r\n\r\nSo why does enviroment returns me my Pc&#39;s name? How do I know what properties are already assigned?","title":"Java Enviroment class problem with getting properties","body":"<p>I created new Enviroment in SpringConfig file:</p>\n<pre><code>private final Environment environment;\n@Autowired\npublic SpringConfig(ApplicationContext applicationContext, Environment environment) {\n    this.applicationContext = applicationContext;\n    this.environment = environment;\n}\n</code></pre>\n<p>And file database.properties</p>\n<pre class=\"lang-none prettyprint-override\"><code>driver=com.mysql.jdbc.Driver \nurl=jdbc:mysql://localhost:3306/first_db\nusername=root\npassword=1234\n</code></pre>\n<p>Created dataSource bean</p>\n<pre><code>@Bean\n    public DataSource dataSource(){\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n\n        dataSource.setDriverClassName(Objects.requireNonNull(environment.getProperty(&quot;driver&quot;)));\n        dataSource.setUrl(environment.getProperty(&quot;url&quot;));\n        dataSource.setUsername(environment.getProperty(&quot;username&quot;));\n        dataSource.setPassword(environment.getProperty(&quot;password&quot;));\n\n        return dataSource;\n    }\n</code></pre>\n<p>It gave me error and I checked what enviroment.getProperty returns me. It showed me:</p>\n<pre class=\"lang-none prettyprint-override\"><code>com.mysql.jdbc.Driver\njdbc:mysql://localhost:3306/first_db\nPC // my PC name\n1234\n</code></pre>\n<p>So why does enviroment returns me my Pc's name? How do I know what properties are already assigned?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1673722054,"post_id":75120440,"comment_id":132563332,"body_markdown":"Is this a multi-module project? Can you share a little bit more of the project setup?","body":"Is this a multi-module project? Can you share a little bit more of the project setup?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1673722389,"post_id":75120440,"comment_id":132563410,"body_markdown":"Specifically w/o using the compiler plugin?","body":"Specifically w/o using the compiler plugin?"},{"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"score":0,"creation_date":1673722481,"post_id":75120440,"comment_id":132563425,"body_markdown":"I may be doing this wrong, but I have several .pom files that operate independently of each other, but all within the project repo.  Each manages compiling/packaging a separate application using code drawn from shared code directories.  These seem like modules (using the Maven definition), but I&#39;m not implementing them as such.  Should I be?","body":"I may be doing this wrong, but I have several .pom files that operate independently of each other, but all within the project repo.  Each manages compiling/packaging a separate application using code drawn from shared code directories.  These seem like modules (using the Maven definition), but I&#39;m not implementing them as such.  Should I be?"},{"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"score":0,"creation_date":1673722581,"post_id":75120440,"comment_id":132563441,"body_markdown":"The original .pom file I inherited did not have a compiler plugin, so created new .pom files following that model.  Should I add a compiler plugin?","body":"The original .pom file I inherited did not have a compiler plugin, so created new .pom files following that model.  Should I add a compiler plugin?"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1673728010,"post_id":75120440,"comment_id":132564416,"body_markdown":"Consider doing this properly by moving into sub modules so there is no overlap.","body":"Consider doing this properly by moving into sub modules so there is no overlap."}],"answers":[{"comments":[{"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"score":0,"creation_date":1673739917,"post_id":75122014,"comment_id":132566207,"body_markdown":"The use of `-Dmaven.test.skip=true` is trouble. Not sure how to resolve, but skipping tests is (usually) bad news.","body":"The use of <code>-Dmaven.test.skip=true</code> is trouble. Not sure how to resolve, but skipping tests is (usually) bad news."}],"tags":[],"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673739773,"creation_date":1673739773,"answer_id":75122014,"question_id":75120440,"body_markdown":"After many hours on this and after converting the code to use modules, I found two things:\r\n\r\n* Instead of excluding files, I needed to specify the includes instead:\r\n\r\n```\r\n&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.8.0&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n        &lt;target&gt;${maven.compiler.source}&lt;/target&gt;\r\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n        &lt;includes&gt;\r\n            &lt;include&gt;com/company/my_module/*.java&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n* The test code from the other modules was being run by default.  Yet this modules was not including the code for those tests.  I added ` -Dmaven.test.skip=true` to prevent that.","title":"Excluding Source Directory in Maven","body":"<p>After many hours on this and after converting the code to use modules, I found two things:</p>\n<ul>\n<li>Instead of excluding files, I needed to specify the includes instead:</li>\n</ul>\n<pre><code>&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n        &lt;target&gt;${maven.compiler.source}&lt;/target&gt;\n        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n        &lt;includes&gt;\n            &lt;include&gt;com/company/my_module/*.java&lt;/include&gt;\n        &lt;/includes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<ul>\n<li>The test code from the other modules was being run by default.  Yet this modules was not including the code for those tests.  I added <code> -Dmaven.test.skip=true</code> to prevent that.</li>\n</ul>\n"}],"owner":{"account_id":960660,"reputation":4565,"user_id":985088,"accept_rate":90,"display_name":"Hephaestus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673739773,"creation_date":1673721854,"question_id":75120440,"body_markdown":"Is there a way to exclude a source directory in Maven?  I&#39;ve searched on this topic and find plenty of discussion about excluding Resources, but very little on excluding Sources.  \r\n\r\nI have a repo with shared projects and several POM files.  Most coexist well, but one project has a conflict with one of the source directories and I need to exclude it only from that pom-file.\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    ...\r\n    &lt;build&gt;\r\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n\r\n        # I would like to add this but is not supported\r\n        &lt;excludeSourceDir&gt;src/main/java/com/company/project/conflict-dir&lt;/excludeSourceDir&gt;\r\n\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n```\r\n\r\nEdit 1:\r\nFollowing the recommendations, I implemented a parent-pom and converted the existing pom files into modules -- each module referencing the parent (excellent instructions [here](https://www.baeldung.com/maven-multi-module)).  I also implemented a &quot;maven-compiler-plugin&quot; which allows one to `&lt;exclude&gt;` files.  Most projects compile and package correctly, except the original troublemaker project is still refusing to compile.  Still researching options.","title":"Excluding Source Directory in Maven","body":"<p>Is there a way to exclude a source directory in Maven?  I've searched on this topic and find plenty of discussion about excluding Resources, but very little on excluding Sources.</p>\n<p>I have a repo with shared projects and several POM files.  Most coexist well, but one project has a conflict with one of the source directories and I need to exclude it only from that pom-file.</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    ...\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n\n        # I would like to add this but is not supported\n        &lt;excludeSourceDir&gt;src/main/java/com/company/project/conflict-dir&lt;/excludeSourceDir&gt;\n\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n</code></pre>\n<p>Edit 1:\nFollowing the recommendations, I implemented a parent-pom and converted the existing pom files into modules -- each module referencing the parent (excellent instructions <a href=\"https://www.baeldung.com/maven-multi-module\" rel=\"nofollow noreferrer\">here</a>).  I also implemented a &quot;maven-compiler-plugin&quot; which allows one to <code>&lt;exclude&gt;</code> files.  Most projects compile and package correctly, except the original troublemaker project is still refusing to compile.  Still researching options.</p>\n"},{"tags":["java","spring-boot","annotations","javabeans"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626372726,"creation_date":1626372726,"answer_id":68398898,"question_id":68398867,"body_markdown":"Just use `@Autowired`.\r\n\r\n```\r\n@Autowired\r\npublic void setId(String id) {\r\n    this.id = id;\r\n}\r\n```","title":"Spring @Required Annotation deprecated?","body":"<p>Just use <code>@Autowired</code>.</p>\n<pre><code>@Autowired\npublic void setId(String id) {\n    this.id = id;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1626375230,"creation_date":1626375230,"answer_id":68399394,"question_id":68398867,"body_markdown":"Read the [**documentation**][1]:\r\n\r\n &gt; Deprecated as of 5.1, in favor of **using constructor injection for required settings** (or a custom [`InitializingBean`][2] implementation).\r\n\r\n```java\r\npublic class Product {\r\n   private String id;\r\n\r\n   public Product(String id) {\r\n      this.id = id;\r\n   }\r\n\r\n   public String getId() {\r\n      return id;\r\n   }\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/5.2.9.RELEASE/javadoc-api/org/springframework/beans/factory/annotation/Required.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/5.2.9.RELEASE/javadoc-api/org/springframework/beans/factory/InitializingBean.html","title":"Spring @Required Annotation deprecated?","body":"<p>Read the <a href=\"https://docs.spring.io/spring-framework/docs/5.2.9.RELEASE/javadoc-api/org/springframework/beans/factory/annotation/Required.html\" rel=\"nofollow noreferrer\"><strong>documentation</strong></a>:</p>\n<blockquote>\n<p>Deprecated as of 5.1, in favor of <strong>using constructor injection for required settings</strong> (or a custom <a href=\"https://docs.spring.io/spring-framework/docs/5.2.9.RELEASE/javadoc-api/org/springframework/beans/factory/InitializingBean.html\" rel=\"nofollow noreferrer\"><code>InitializingBean</code></a> implementation).</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public class Product {\n   private String id;\n\n   public Product(String id) {\n      this.id = id;\n   }\n\n   public String getId() {\n      return id;\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20717463,"reputation":190,"user_id":15212573,"display_name":"roudlek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673739379,"creation_date":1673739379,"answer_id":75121993,"question_id":68398867,"body_markdown":"One of the best answer i got is this :\r\n\r\n    @Autowired(required = true)\r\n    private String yourVariable;\r\n\r\nif you set it required to false your String value will be null and you won&#39;t get an error\r\n\r\nif you just typed @Autowired, then it is required = true by default,\r\ntry these to understand and read console error messages","title":"Spring @Required Annotation deprecated?","body":"<p>One of the best answer i got is this :</p>\n<pre><code>@Autowired(required = true)\nprivate String yourVariable;\n</code></pre>\n<p>if you set it required to false your String value will be null and you won't get an error</p>\n<p>if you just typed @Autowired, then it is required = true by default,\ntry these to understand and read console error messages</p>\n"}],"owner":{"account_id":11172711,"reputation":300,"user_id":8199232,"display_name":"swapnil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2738,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68399394,"answer_count":3,"score":2,"last_activity_date":1673739379,"creation_date":1626372600,"question_id":68398867,"body_markdown":"I am trying to add `@Required` Annotation to my bean but complier says it&#39;s deprecated.\r\n\r\n   \r\n```java\r\npublic class Product {\r\n    private String id;\r\n    \r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    @Required\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n}\r\n```\r\nIs there a different annotation for this?","title":"Spring @Required Annotation deprecated?","body":"<p>I am trying to add <code>@Required</code> Annotation to my bean but complier says it's deprecated.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Product {\n    private String id;\n    \n    public String getId() {\n        return id;\n    }\n\n    @Required\n    public void setId(String id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p>Is there a different annotation for this?</p>\n"},{"tags":["java","file","reverse","println"],"comments":[{"owner":{"account_id":3755726,"reputation":5760,"user_id":3122133,"accept_rate":83,"display_name":"Madhan"},"score":4,"creation_date":1434825147,"post_id":30957501,"comment_id":49947736,"body_markdown":"Why dont you store it in a list or array and print it in reverse","body":"Why dont you store it in a list or array and print it in reverse"},{"owner":{"account_id":1979075,"reputation":3045,"user_id":1776116,"accept_rate":25,"display_name":"Manikandan"},"score":1,"creation_date":1434825148,"post_id":30957501,"comment_id":49947737,"body_markdown":"Use stack. (Recursion one way)","body":"Use stack. (Recursion one way)"},{"owner":{"account_id":2855061,"reputation":3154,"user_id":2451486,"accept_rate":94,"display_name":"smoggers"},"score":0,"creation_date":1434825207,"post_id":30957501,"comment_id":49947757,"body_markdown":"I agree with @Madhan, see here: http://stackoverflow.com/questions/10766492/reverse-the-arraylist-in-simplest-way","body":"I agree with @Madhan, see here: <a href=\"http://stackoverflow.com/questions/10766492/reverse-the-arraylist-in-simplest-way\" title=\"reverse the arraylist in simplest way\">stackoverflow.com/questions/10766492/&hellip;</a>"},{"owner":{"account_id":6460079,"reputation":65,"user_id":5004220,"accept_rate":60,"display_name":"Jonathan Cook"},"score":0,"creation_date":1434825624,"post_id":30957501,"comment_id":49947885,"body_markdown":"@Madhan I&#39;m an idiot. I&#39;ve been reading it like &#39;not mentioned, not required&#39;. Didn&#39;t even consider that.","body":"@Madhan I&#39;m an idiot. I&#39;ve been reading it like &#39;not mentioned, not required&#39;. Didn&#39;t even consider that."},{"owner":{"account_id":41230,"reputation":37700,"user_id":119775,"accept_rate":76,"display_name":"Jean-Fran&#231;ois Corbett"},"score":0,"creation_date":1434827713,"post_id":30957501,"comment_id":49948550,"body_markdown":"`;)l(nltnirp.tuo.metsyS` ... oh wait a minute, you didn&#39;t actually mean &quot;reverse Java&quot;.","body":"<code>;)l(nltnirp.tuo.metsyS</code> ... oh wait a minute, you didn&#39;t actually mean &quot;reverse Java&quot;."},{"owner":{"account_id":3755726,"reputation":5760,"user_id":3122133,"accept_rate":83,"display_name":"Madhan"},"score":0,"creation_date":1434828592,"post_id":30957501,"comment_id":49948822,"body_markdown":"`for (k=20;k&lt;20;k--)` it should be `for (k=20-1;k&gt;=0;k--)`","body":"<code>for (k=20;k&lt;20;k--)</code> it should be <code>for (k=20-1;k&gt;=0;k--)</code>"},{"owner":{"account_id":6460079,"reputation":65,"user_id":5004220,"accept_rate":60,"display_name":"Jonathan Cook"},"score":0,"creation_date":1434828878,"post_id":30957501,"comment_id":49948895,"body_markdown":"@Madhan Thank you for that. This is only my first course in Java, and I am quickly coming to realize that Arrays and calling up Methods are beyond me. Darn 5-week compressed course.","body":"@Madhan Thank you for that. This is only my first course in Java, and I am quickly coming to realize that Arrays and calling up Methods are beyond me. Darn 5-week compressed course."},{"owner":{"account_id":3755726,"reputation":5760,"user_id":3122133,"accept_rate":83,"display_name":"Madhan"},"score":0,"creation_date":1434829611,"post_id":30957501,"comment_id":49949123,"body_markdown":"Nothing is beyond anyone&#39;s reach spend some time on it and you&#39;ll be a master.And you can look at other&#39;s answers and see how they&#39;ve done it","body":"Nothing is beyond anyone&#39;s reach spend some time on it and you&#39;ll be a master.And you can look at other&#39;s answers and see how they&#39;ve done it"},{"owner":{"account_id":6460079,"reputation":65,"user_id":5004220,"accept_rate":60,"display_name":"Jonathan Cook"},"score":0,"creation_date":1434830062,"post_id":30957501,"comment_id":49949250,"body_markdown":"@Madhan It&#39;s not that it&#39;s beyond me, it&#39;s that it&#39;s a 2x a week, 5 week course. Will I get it? Yes. With a compressed course? Probably not.","body":"@Madhan It&#39;s not that it&#39;s beyond me, it&#39;s that it&#39;s a 2x a week, 5 week course. Will I get it? Yes. With a compressed course? Probably not."}],"answers":[{"tags":[],"owner":{"account_id":6397980,"reputation":179,"user_id":4961693,"display_name":"Tuxxy_Thang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434825507,"creation_date":1434825507,"answer_id":30957565,"question_id":30957501,"body_markdown":"try using org.apache.commons.io.input.ReversedLinesFileReader, it should do what you want.","title":"Printing lines in reverse java","body":"<p>try using org.apache.commons.io.input.ReversedLinesFileReader, it should do what you want.</p>\n"},{"tags":[],"owner":{"account_id":4825152,"reputation":1080,"user_id":3894784,"display_name":"Harish Sridharan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434825597,"creation_date":1434825597,"answer_id":30957579,"question_id":30957501,"body_markdown":"The most simplest way is to construct a List and add each line to the list while reading from the file. Once done, print the list items in reverse.\r\n\r\nHere is my version of code for your problem.\r\n\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n\r\n\t\tFileReader n = new FileReader(&quot;/Users/sharish/Data/abc.xml&quot;);\r\n\t\tScanner in = new Scanner(n);\r\n\r\n\t\tArrayList&lt;String&gt; lines = new ArrayList&lt;String&gt;();\r\n\r\n\t\twhile (in.hasNext()) {\r\n\t\t\tlines.add(in.nextLine());\r\n\t\t}\r\n\r\n\t\tin.close();\r\n\t\tfor (int i = lines.size() - 1; i &gt;= 0; i--) {\r\n\t\t\tSystem.out.println(lines.get(i));\r\n\t\t}\r\n\r\n\t}","title":"Printing lines in reverse java","body":"<p>The most simplest way is to construct a List and add each line to the list while reading from the file. Once done, print the list items in reverse.</p>\n\n<p>Here is my version of code for your problem.</p>\n\n<pre><code>public static void main(String[] args) throws FileNotFoundException {\n\n    FileReader n = new FileReader(\"/Users/sharish/Data/abc.xml\");\n    Scanner in = new Scanner(n);\n\n    ArrayList&lt;String&gt; lines = new ArrayList&lt;String&gt;();\n\n    while (in.hasNext()) {\n        lines.add(in.nextLine());\n    }\n\n    in.close();\n    for (int i = lines.size() - 1; i &gt;= 0; i--) {\n        System.out.println(lines.get(i));\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":949203,"reputation":4454,"user_id":975741,"display_name":"trooper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434832778,"creation_date":1434825605,"answer_id":30957580,"question_id":30957501,"body_markdown":"If you are permitted the use of third party APIs, Apache Commons IO contains a class, `ReversedLinesFileReader`, that reads files similar to a BufferedReader (except last line first). Here is the API documentation: http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/input/ReversedLinesFileReader.html\r\n\r\nAnother (less efficient) solution is hinted at in the comments. You can read your entire file into an ArrayList, reverse that list (e.g. by pushing its contents onto a stack and then popping it off), and then iterate through your reversed list to print.\r\n\r\n**EDIT:**\r\nHere is a crude example:\r\n\r\n    ArrayList&lt;String&gt; lines = new ArrayList&lt;String&gt;();\r\n    \r\n    Scanner in = new Scanner(new FileReader(&quot;input.txt&quot;));\r\n    while (in.hasNextLine())\r\n    {\r\n        lines.add(in.nextLine());\r\n    }\r\n\r\nUse an `ArrayList` instead of a static array. We don&#39;t necessarily know the length of the file in advance so a static array doesn&#39;t make sense here. http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html\r\n\r\n Your example input `123`, `abc`, etc, contains characters as well as ints, so your calls to `hasNextInt` and `nextInt` will eventually throw an Exception. To read lines use `hasNextLine` and `nextLine` instead. These methods return `String` and so our ArrayList also needs to store String. http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#hasNextLine()\r\n\r\nOnce the file is in a list (not a good solution if the file is large - we&#39;ve read the entire file into memory) we can either reverse the list (if keeping a reversed form around makes sense), or just iterate through it backwards. \r\n\r\n    for (int i=lines.size()-1; i&gt;=0; i--)  // from n-1 downTo 0\r\n    {\r\n        String line = lines.get(i);\r\n        System.out.println( line );\r\n    }\r\n","title":"Printing lines in reverse java","body":"<p>If you are permitted the use of third party APIs, Apache Commons IO contains a class, <code>ReversedLinesFileReader</code>, that reads files similar to a BufferedReader (except last line first). Here is the API documentation: <a href=\"http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/input/ReversedLinesFileReader.html\" rel=\"nofollow\">http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/input/ReversedLinesFileReader.html</a></p>\n\n<p>Another (less efficient) solution is hinted at in the comments. You can read your entire file into an ArrayList, reverse that list (e.g. by pushing its contents onto a stack and then popping it off), and then iterate through your reversed list to print.</p>\n\n<p><strong>EDIT:</strong>\nHere is a crude example:</p>\n\n<pre><code>ArrayList&lt;String&gt; lines = new ArrayList&lt;String&gt;();\n\nScanner in = new Scanner(new FileReader(\"input.txt\"));\nwhile (in.hasNextLine())\n{\n    lines.add(in.nextLine());\n}\n</code></pre>\n\n<p>Use an <code>ArrayList</code> instead of a static array. We don't necessarily know the length of the file in advance so a static array doesn't make sense here. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html</a></p>\n\n<p>Your example input <code>123</code>, <code>abc</code>, etc, contains characters as well as ints, so your calls to <code>hasNextInt</code> and <code>nextInt</code> will eventually throw an Exception. To read lines use <code>hasNextLine</code> and <code>nextLine</code> instead. These methods return <code>String</code> and so our ArrayList also needs to store String. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#hasNextLine()\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#hasNextLine()</a></p>\n\n<p>Once the file is in a list (not a good solution if the file is large - we've read the entire file into memory) we can either reverse the list (if keeping a reversed form around makes sense), or just iterate through it backwards. </p>\n\n<pre><code>for (int i=lines.size()-1; i&gt;=0; i--)  // from n-1 downTo 0\n{\n    String line = lines.get(i);\n    System.out.println( line );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5570795,"reputation":2409,"user_id":4416221,"accept_rate":78,"display_name":"jotadepicas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434825611,"creation_date":1434825611,"answer_id":30957586,"question_id":30957501,"body_markdown":"You could read the lines like you are already doing, but instead of printing them (because that would print them in order and you need it the other way around), add them to some memory structure like a List or a Stack, and then, in a second loop, iterate this structure to print the lines in the needed order.","title":"Printing lines in reverse java","body":"<p>You could read the lines like you are already doing, but instead of printing them (because that would print them in order and you need it the other way around), add them to some memory structure like a List or a Stack, and then, in a second loop, iterate this structure to print the lines in the needed order.</p>\n"},{"tags":[],"owner":{"account_id":1926006,"reputation":564,"user_id":1736436,"accept_rate":100,"display_name":"Mark"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434825649,"creation_date":1434825649,"answer_id":30957594,"question_id":30957501,"body_markdown":"Using your code and the answers in the comments, here&#39;s an example of how you would store the strings into the arraylist and then print them out in reverse (building off of your own code)\r\n\r\n    {\r\n        FileReader n=new FileReader(&quot;F:\\\\Java\\\\Set 8\\\\output1.txt&quot;);\r\n        Scanner in=new Scanner(n);\r\n        int l;\r\n        ArrayList&lt;String&gt; reversed = new ArrayList&lt;String&gt;(); // creating a new String arraylist\r\n        while (in.hasNext())\r\n        {\r\n            l=in.nextInt();\r\n            System.out.println(l);      \r\n            reversed.add(l); // storing the strings into the reversed arraylist\r\n        }\r\n        in.close(); \r\n        // for loop to print out the arraylist in reversed order\r\n        for (int i = reversed.size() - 1; i &gt;= 0; i--) {\r\n            System.out.println(reversed.get(i));\r\n        }\r\n    }\r\n    }","title":"Printing lines in reverse java","body":"<p>Using your code and the answers in the comments, here's an example of how you would store the strings into the arraylist and then print them out in reverse (building off of your own code)</p>\n\n<pre><code>{\n    FileReader n=new FileReader(\"F:\\\\Java\\\\Set 8\\\\output1.txt\");\n    Scanner in=new Scanner(n);\n    int l;\n    ArrayList&lt;String&gt; reversed = new ArrayList&lt;String&gt;(); // creating a new String arraylist\n    while (in.hasNext())\n    {\n        l=in.nextInt();\n        System.out.println(l);      \n        reversed.add(l); // storing the strings into the reversed arraylist\n    }\n    in.close(); \n    // for loop to print out the arraylist in reversed order\n    for (int i = reversed.size() - 1; i &gt;= 0; i--) {\n        System.out.println(reversed.get(i));\n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6495599,"reputation":2923,"user_id":5028333,"display_name":"Raman Shrivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434826002,"creation_date":1434826002,"answer_id":30957643,"question_id":30957501,"body_markdown":"Use Stack. \r\n\r\n    public static void displayReverse() throws FileNotFoundException {\r\n    \t\tFileReader n=new FileReader(&quot;C:\\\\Users\\\\User\\\\Documents\\\\file.txt&quot;);\r\n    \t\tScanner in=new Scanner(n);\r\n    \t\tStack&lt;String&gt; st = new Stack&lt;String&gt;();\r\n    \t\twhile (in.hasNext()) {\r\n    \t\t\tst.push(in.nextLine());      \r\n    \t\t}\r\n    \t\tin.close(); \r\n    \t\t\r\n    \t\twhile(!st.isEmpty()) {\r\n    \t\t\tSystem.out.println(st.pop());\r\n    \t\t}\r\n    \t}","title":"Printing lines in reverse java","body":"<p>Use Stack. </p>\n\n<pre><code>public static void displayReverse() throws FileNotFoundException {\n        FileReader n=new FileReader(\"C:\\\\Users\\\\User\\\\Documents\\\\file.txt\");\n        Scanner in=new Scanner(n);\n        Stack&lt;String&gt; st = new Stack&lt;String&gt;();\n        while (in.hasNext()) {\n            st.push(in.nextLine());      \n        }\n        in.close(); \n\n        while(!st.isEmpty()) {\n            System.out.println(st.pop());\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":389881,"reputation":53027,"user_id":749588,"accept_rate":65,"display_name":"Jean Logeart"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434827044,"creation_date":1434827044,"answer_id":30957813,"question_id":30957501,"body_markdown":"Using Java 8:\r\n\r\n    try(PrintWriter out = \r\n            new PrintWriter(Files.newBufferedWriter(Paths.get(&quot;out.txt&quot;)))) {\r\n        Files.lines(Paths.get(&quot;in.txt&quot;))\r\n             .collect(Collectors.toCollection(LinkedList::new))\r\n             .descendingIterator()\r\n             .forEachRemaining(out::println);\r\n    }","title":"Printing lines in reverse java","body":"<p>Using Java 8:</p>\n\n<pre><code>try(PrintWriter out = \n        new PrintWriter(Files.newBufferedWriter(Paths.get(\"out.txt\")))) {\n    Files.lines(Paths.get(\"in.txt\"))\n         .collect(Collectors.toCollection(LinkedList::new))\n         .descendingIterator()\n         .forEachRemaining(out::println);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26503547,"reputation":11,"user_id":20140080,"display_name":"Faheem Ahmad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673738414,"creation_date":1673737231,"answer_id":75121838,"question_id":30957501,"body_markdown":"    public static void main(String[] args) throws Exception{\r\n\r\n        String fileName = &quot;F:\\\\Java\\\\Set 8\\\\output1.txt&quot;;\r\n        RandomAccessFile raf = new RandomAccessFile(fileName,&quot;r&quot;);\r\n        int len = (int) raf.length();\r\n        raf.seek(len);\r\n\r\n        while(len &gt;= 0){\r\n            if(len == 0){\r\n                raf.seek(0);\r\n                System.out.println(raf.readLine());\r\n                break;\r\n            }\r\n            raf.seek(len--);\r\n            char ch = (char)raf.read();\r\n            if(ch == &#39;\\n&#39;){\r\n                String str = raf.readLine();\r\n                System.out.println(str);\r\n            }\r\n\r\n        }\r\n        \r\n    }","title":"Printing lines in reverse java","body":"<pre><code>public static void main(String[] args) throws Exception{\n\n    String fileName = &quot;F:\\\\Java\\\\Set 8\\\\output1.txt&quot;;\n    RandomAccessFile raf = new RandomAccessFile(fileName,&quot;r&quot;);\n    int len = (int) raf.length();\n    raf.seek(len);\n\n    while(len &gt;= 0){\n        if(len == 0){\n            raf.seek(0);\n            System.out.println(raf.readLine());\n            break;\n        }\n        raf.seek(len--);\n        char ch = (char)raf.read();\n        if(ch == '\\n'){\n            String str = raf.readLine();\n            System.out.println(str);\n        }\n\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":6460079,"reputation":65,"user_id":5004220,"accept_rate":60,"display_name":"Jonathan Cook"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6097,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":8,"score":1,"last_activity_date":1673738414,"creation_date":1434825041,"question_id":30957501,"body_markdown":"I&#39;m trying to wrap my head around a problem I have in a programming set.\r\n\r\nWe&#39;re supposed to write code that reads from a file and prints it out. I get that, I can do it.\r\n\r\nWhat he wants us to do is have it print out in reverse.\r\n\r\nthe file reads:\r\n\r\n    abc\r\n    123\r\n    987\r\n\r\nHe wants:\r\n\r\n    987\r\n    123\r\n    abc\r\n\r\nThe code, as it is, is as follows:\r\n\r\n    {\r\n\t\tFileReader n=new FileReader(&quot;F:\\\\Java\\\\Set 8\\\\output1.txt&quot;);\r\n\t\tScanner in=new Scanner(n);\r\n\t\tint l;\r\n\t\twhile (in.hasNext())\r\n\t\t{\r\n\t\t\tl=in.nextInt();\r\n\t\t\tSystem.out.println(l);\t\t\r\n\t\t}\r\n\t\tin.close();\t\r\n\t}\r\n    }\r\n\r\nYes, I am using java.io.*; and Scanner.\r\n\r\nWhat would be the simplest way to do this?\r\n\r\nEDIT EDIT EDIT\r\n\r\nHere&#39;s the improved code, where I try to put it into an array.\r\n\r\nThe data in the array isn&#39;t printing out.\r\n\r\n    public static void main(String[] args) throws IOException\r\n\t{\r\n\t\tint[]Num=new int[20];\r\n\t\tScanner in=new Scanner(new FileReader(&quot;F:\\\\Java\\\\Set 8\\\\output1.txt&quot;));\r\n\t\tint k;\r\n\t\tfor (k=0;k&lt;20;k++)\r\n\t\t{\r\n\t\t\tNum[k]=in.nextInt();\r\n\t\t}\r\n\t\t//in.close();\r\n\t\tfor (k=20;k&lt;20;k--)\r\n\t\t{\r\n\t\t\tSystem.out.print(+Num[k]);\r\n\t\t}\r\n\t\t//in.close();\t\r\n\t}","title":"Printing lines in reverse java","body":"<p>I'm trying to wrap my head around a problem I have in a programming set.</p>\n\n<p>We're supposed to write code that reads from a file and prints it out. I get that, I can do it.</p>\n\n<p>What he wants us to do is have it print out in reverse.</p>\n\n<p>the file reads:</p>\n\n<pre><code>abc\n123\n987\n</code></pre>\n\n<p>He wants:</p>\n\n<pre><code>987\n123\nabc\n</code></pre>\n\n<p>The code, as it is, is as follows:</p>\n\n<pre><code>{\n    FileReader n=new FileReader(\"F:\\\\Java\\\\Set 8\\\\output1.txt\");\n    Scanner in=new Scanner(n);\n    int l;\n    while (in.hasNext())\n    {\n        l=in.nextInt();\n        System.out.println(l);      \n    }\n    in.close(); \n}\n}\n</code></pre>\n\n<p>Yes, I am using java.io.*; and Scanner.</p>\n\n<p>What would be the simplest way to do this?</p>\n\n<p>EDIT EDIT EDIT</p>\n\n<p>Here's the improved code, where I try to put it into an array.</p>\n\n<p>The data in the array isn't printing out.</p>\n\n<pre><code>public static void main(String[] args) throws IOException\n{\n    int[]Num=new int[20];\n    Scanner in=new Scanner(new FileReader(\"F:\\\\Java\\\\Set 8\\\\output1.txt\"));\n    int k;\n    for (k=0;k&lt;20;k++)\n    {\n        Num[k]=in.nextInt();\n    }\n    //in.close();\n    for (k=20;k&lt;20;k--)\n    {\n        System.out.print(+Num[k]);\n    }\n    //in.close();   \n}\n</code></pre>\n"},{"tags":["java","spring-boot","insert-update","modelmapper","service-layer"],"comments":[{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":0,"creation_date":1673726663,"post_id":75120853,"comment_id":132564176,"body_markdown":"Shouldn&#39;t you use `map(dto, deliver)` instead of `map(dto, Deliver.class)`?","body":"Shouldn&#39;t you use <code>map(dto, deliver)</code> instead of <code>map(dto, Deliver.class)</code>?"},{"owner":{"account_id":16586300,"reputation":43,"user_id":11985623,"display_name":"Giovanni"},"score":0,"creation_date":1673731438,"post_id":75120853,"comment_id":132564979,"body_markdown":"Not according modelmapper documentation http://modelmapper.org/getting-started/","body":"Not according modelmapper documentation <a href=\"http://modelmapper.org/getting-started/\" rel=\"nofollow noreferrer\">modelmapper.org/getting-started</a>"}],"answers":[{"comments":[{"owner":{"account_id":16586300,"reputation":43,"user_id":11985623,"display_name":"Giovanni"},"score":0,"creation_date":1673744783,"post_id":75121913,"comment_id":132566752,"body_markdown":"Now it just worked as expected, and I learned a bit more about this API. The content that must be updated brought from DTO instance is saved in the database and the other fields left untouched.\nTY!","body":"Now it just worked as expected, and I learned a bit more about this API. The content that must be updated brought from DTO instance is saved in the database and the other fields left untouched. TY!"},{"owner":{"account_id":6408417,"reputation":59,"user_id":4968887,"display_name":"dharlequin"},"score":0,"creation_date":1678355507,"post_id":75121913,"comment_id":133517594,"body_markdown":"Weird, in my case I&#39;m clearly using the second method with Object-to-Object, and Entity fields that are not present in DTO are nulled as a result.","body":"Weird, in my case I&#39;m clearly using the second method with Object-to-Object, and Entity fields that are not present in DTO are nulled as a result."}],"tags":[],"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673738151,"creation_date":1673738151,"answer_id":75121913,"question_id":75120853,"body_markdown":"ModelMapper documentation is not the best part of that framework. Let us see what happens in your code.\r\n\r\nHere you fetch the entity to be updated from the repo:\r\n\r\n    Deliver deliver = deliverRepository.getOne(id);\r\n\r\nand log it having all the fields as should be. However this line:\r\n\r\n    deliver = modelMapper.map(dto, Deliver.class);\r\n\r\ndoes a re-assignment to your variable `deliver`. This method creates a new instance of **Deliver** class and assigns it to variable `deliver` so discarding the entity fetched from repo.\r\n\r\nThis new instance will have all the fields that are not existing or not set in DTO **null**.\r\n\r\nThis is the API doc that my IDE provides, fotr these two different methods:\r\n\r\n&gt;&lt;T&gt; String org.modelmapper.ModelMapper.map(Object source, Class&lt;T&gt; destinationType)\r\nMaps source to an instance of destinationType. Mapping is performed according     to the corresponding TypeMap. If no TypeMap exists for source.getClass() and    destinationType then one is created.\r\n\r\nVersus\r\n\r\n&gt;void org.modelmapper.ModelMapper.map(Object source, Object destination)    \r\nMaps source to destination. Mapping is performed according to the     corresponding TypeMap. If no TypeMap exists for source.getClass() and    destination.getClass() then one is created.\r\n\r\nIt might not be clearly stated that the first method actually creates a new instance based on the type (Class) passed but it should be clear that ModelMapper cannot alter some arbitrary variable just by knowing the type. You need to pass the variable to alter as method parameter.","title":"ModelMapper DTO--&gt;Entity. How to skip unconditionally all fields not mapped","body":"<p>ModelMapper documentation is not the best part of that framework. Let us see what happens in your code.</p>\n<p>Here you fetch the entity to be updated from the repo:</p>\n<pre><code>Deliver deliver = deliverRepository.getOne(id);\n</code></pre>\n<p>and log it having all the fields as should be. However this line:</p>\n<pre><code>deliver = modelMapper.map(dto, Deliver.class);\n</code></pre>\n<p>does a re-assignment to your variable <code>deliver</code>. This method creates a new instance of <strong>Deliver</strong> class and assigns it to variable <code>deliver</code> so discarding the entity fetched from repo.</p>\n<p>This new instance will have all the fields that are not existing or not set in DTO <strong>null</strong>.</p>\n<p>This is the API doc that my IDE provides, fotr these two different methods:</p>\n<blockquote>\n<p> String org.modelmapper.ModelMapper.map(Object source, Class destinationType)\nMaps source to an instance of destinationType. Mapping is performed according     to the corresponding TypeMap. If no TypeMap exists for source.getClass() and    destinationType then one is created.</p>\n</blockquote>\n<p>Versus</p>\n<blockquote>\n<p>void org.modelmapper.ModelMapper.map(Object source, Object destination)<br />\nMaps source to destination. Mapping is performed according to the     corresponding TypeMap. If no TypeMap exists for source.getClass() and    destination.getClass() then one is created.</p>\n</blockquote>\n<p>It might not be clearly stated that the first method actually creates a new instance based on the type (Class) passed but it should be clear that ModelMapper cannot alter some arbitrary variable just by knowing the type. You need to pass the variable to alter as method parameter.</p>\n"}],"owner":{"account_id":16586300,"reputation":43,"user_id":11985623,"display_name":"Giovanni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":605,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75121913,"answer_count":1,"score":0,"last_activity_date":1673738151,"creation_date":1673726293,"question_id":75120853,"body_markdown":"I have two classes (entity and DTO)\r\n\r\n```\r\npublic class Deliver  {\r\n\r\n\tprivate Long id;\r\n\tprivate String uri;\r\n\tprivate Instant moment;\r\n\tprivate DeliverStatus status; // enum PENDING,ACCEPTED,REJECTED\r\n\tprivate String feedback;      // feedback about received task\r\n\tprivate Integer correctCount; // nr of correct questions\r\n\tprivate Enrollment enrollment;\r\n\tprivate Lesson lesson;\r\n\r\n        // constructors, getters and setters..\r\n\r\npublic class DeliverRevisionDto  {\r\n\r\n\tprivate DeliverStatus status;\r\n\tprivate String feedback;\r\n\tprivate Integer correctCount;\r\n\t\r\n\t// constructors, getters and setters..\r\n```\r\n\r\nThe goal is pretty simple, update the entity fields conveyed by Dto class I have the following code at Service layer (Spring Boot version 2.4.4):\r\n\r\n```\r\n@Service\r\npublic class DeliverService {\r\n\r\n\t@Autowired\r\n\tprivate DeliverRepository deliverRepository;\r\n\t\r\n\t@Autowired\r\n\tprivate ModelMapper modelMapper;\r\n\t\r\n\t@Transactional\r\n\tpublic void saveRevision(Long id, DeliverRevisionDto dto) {\r\n\t\r\n\t\tDeliver deliver = deliverRepository.getOne(id);\r\n\t\t\r\n\t    System.out.println(&quot;BEFORE MAPPING: &quot; + deliver.toString());  // # debug purpose\r\n\r\n\t\tdeliver = modelMapper.map(dto, Deliver.class);\r\n \r\n\t\t// # debug purpose\r\n\t    TypeMap&lt;DeliverRevisionDto, Deliver&gt; tm = modelMapper.getTypeMap(DeliverRevisionDto.class, Deliver.class);\r\n\t    List&lt;Mapping&gt; list = tm.getMappings();\r\n\t    for (Mapping m : list)\r\n\t    {\r\n\t        System.out.println(m);\r\n\t    }\r\n\t    System.out.println(&quot;AFTER MAPPING: &quot; + deliver.toString()); // # debug purpose\r\n\t\tdeliverRepository.save(deliver);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThe console output is:\r\n\r\n```\r\nBEFORE MAPPING: Deliver [id=1, uri=``https://github/someone.com``, moment=2020-12-10T10:00:00Z, status=PENDING, feedback=null, correctCount=null, enrollment=com.devsuperior.dslearnbds.entities.Enrollment@7e0, lesson=com.devsuperior.dslearnbds.entities.Task@23]`\r\n`PropertyMapping[DeliverRevisionDto.correctCount -&gt; Deliver.correctCount]`\r\n`PropertyMapping[DeliverRevisionDto.feedback -&gt; Deliver.feedback]`\r\n`PropertyMapping[DeliverRevisionDto.status -&gt; Deliver.status]`\r\n`AFTER MAPPING: Deliver [id=null, uri=null, moment=null, status=ACCEPTED, feedback=Muito bem cabra, tarefa aceita., correctCount=5, enrollment=null, lesson=null]\r\n```\r\n\r\nThe mapping of the 3 fields in DTO is done correctly, BUT all the other fields of my entity are set to null. I know that I can skip fields according http://modelmapper.org/user-manual/property-mapping/\r\n\r\nThe problem is that I don&#180;t want to couple the code with specific field names/getters/setters, that&#180;s the reason I&#180;m using ModelMapper. I wonder if there is any configuration that, upon mapping the modelmapper object says &quot;Hey, the TARGET class have way more fields than the SOURCE class, I will left them untouched unconditionally (meaning I don&#180;t need to say what fields are).\r\n\r\nI&#39;m trying to map fields between 2 classes with different set of fields (some are the same), and when I map the class with smaller set of fields to the one with bigger set of fields, the mapper set fields that don&#180;t match with &quot;null&quot;, I want these fields untouched (with original values) without I telling which one they are, after all, the mapper knows which ones match.","title":"ModelMapper DTO--&gt;Entity. How to skip unconditionally all fields not mapped","body":"<p>I have two classes (entity and DTO)</p>\n<pre><code>public class Deliver  {\n\n    private Long id;\n    private String uri;\n    private Instant moment;\n    private DeliverStatus status; // enum PENDING,ACCEPTED,REJECTED\n    private String feedback;      // feedback about received task\n    private Integer correctCount; // nr of correct questions\n    private Enrollment enrollment;\n    private Lesson lesson;\n\n        // constructors, getters and setters..\n\npublic class DeliverRevisionDto  {\n\n    private DeliverStatus status;\n    private String feedback;\n    private Integer correctCount;\n    \n    // constructors, getters and setters..\n</code></pre>\n<p>The goal is pretty simple, update the entity fields conveyed by Dto class I have the following code at Service layer (Spring Boot version 2.4.4):</p>\n<pre><code>@Service\npublic class DeliverService {\n\n    @Autowired\n    private DeliverRepository deliverRepository;\n    \n    @Autowired\n    private ModelMapper modelMapper;\n    \n    @Transactional\n    public void saveRevision(Long id, DeliverRevisionDto dto) {\n    \n        Deliver deliver = deliverRepository.getOne(id);\n        \n        System.out.println(&quot;BEFORE MAPPING: &quot; + deliver.toString());  // # debug purpose\n\n        deliver = modelMapper.map(dto, Deliver.class);\n \n        // # debug purpose\n        TypeMap&lt;DeliverRevisionDto, Deliver&gt; tm = modelMapper.getTypeMap(DeliverRevisionDto.class, Deliver.class);\n        List&lt;Mapping&gt; list = tm.getMappings();\n        for (Mapping m : list)\n        {\n            System.out.println(m);\n        }\n        System.out.println(&quot;AFTER MAPPING: &quot; + deliver.toString()); // # debug purpose\n        deliverRepository.save(deliver);\n    }\n\n}\n</code></pre>\n<p>The console output is:</p>\n<pre><code>BEFORE MAPPING: Deliver [id=1, uri=``https://github/someone.com``, moment=2020-12-10T10:00:00Z, status=PENDING, feedback=null, correctCount=null, enrollment=com.devsuperior.dslearnbds.entities.Enrollment@7e0, lesson=com.devsuperior.dslearnbds.entities.Task@23]`\n`PropertyMapping[DeliverRevisionDto.correctCount -&gt; Deliver.correctCount]`\n`PropertyMapping[DeliverRevisionDto.feedback -&gt; Deliver.feedback]`\n`PropertyMapping[DeliverRevisionDto.status -&gt; Deliver.status]`\n`AFTER MAPPING: Deliver [id=null, uri=null, moment=null, status=ACCEPTED, feedback=Muito bem cabra, tarefa aceita., correctCount=5, enrollment=null, lesson=null]\n</code></pre>\n<p>The mapping of the 3 fields in DTO is done correctly, BUT all the other fields of my entity are set to null. I know that I can skip fields according <a href=\"http://modelmapper.org/user-manual/property-mapping/\" rel=\"nofollow noreferrer\">http://modelmapper.org/user-manual/property-mapping/</a></p>\n<p>The problem is that I dont want to couple the code with specific field names/getters/setters, thats the reason Im using ModelMapper. I wonder if there is any configuration that, upon mapping the modelmapper object says &quot;Hey, the TARGET class have way more fields than the SOURCE class, I will left them untouched unconditionally (meaning I dont need to say what fields are).</p>\n<p>I'm trying to map fields between 2 classes with different set of fields (some are the same), and when I map the class with smaller set of fields to the one with bigger set of fields, the mapper set fields that dont match with &quot;null&quot;, I want these fields untouched (with original values) without I telling which one they are, after all, the mapper knows which ones match.</p>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"answers":[{"comments":[{"owner":{"account_id":4528985,"reputation":4140,"user_id":3680045,"accept_rate":75,"display_name":"OPK"},"score":0,"creation_date":1673549988,"post_id":75093615,"comment_id":132530387,"body_markdown":"This requires type `Row`, but my dataset type is `Person`","body":"This requires type <code>Row</code>, but my dataset type is <code>Person</code>"},{"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"score":0,"creation_date":1673555895,"post_id":75093615,"comment_id":132532093,"body_markdown":"@OPK Sorry I didn&#39;t pay attention, I updated my answer","body":"@OPK Sorry I didn&#39;t pay attention, I updated my answer"},{"owner":{"account_id":4528985,"reputation":4140,"user_id":3680045,"accept_rate":75,"display_name":"OPK"},"score":0,"creation_date":1673565537,"post_id":75093615,"comment_id":132534372,"body_markdown":"Thanks, i think we are getting close, but not quite yet. Here is what the complier is saying: `Ambiguous method call. Both\nmap\n(Function1&lt;Person, Person&gt;,\nEncoder&lt;Person&gt;)\nin Dataset&#160;and\nmap\n(MapFunction&lt;Person, Person&gt;,\nEncoder&lt;Person&gt;)\nin Dataset&#160;match`.  Any idea?","body":"Thanks, i think we are getting close, but not quite yet. Here is what the complier is saying: <code>Ambiguous method call. Both map (Function1&lt;Person, Person&gt;, Encoder&lt;Person&gt;) in Datasetand map (MapFunction&lt;Person, Person&gt;, Encoder&lt;Person&gt;) in Datasetmatch</code>.  Any idea?"},{"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"score":0,"creation_date":1673600898,"post_id":75093615,"comment_id":132540233,"body_markdown":"@OPK I forgot how much type safe Java is xD, I should have tested it before, I updated my answer with a tested code.","body":"@OPK I forgot how much type safe Java is xD, I should have tested it before, I updated my answer with a tested code."},{"owner":{"account_id":4528985,"reputation":4140,"user_id":3680045,"accept_rate":75,"display_name":"OPK"},"score":0,"creation_date":1673645591,"post_id":75093615,"comment_id":132553865,"body_markdown":"Thank you. I think we are very close to get this answer accepted. One last question, what if I don&#39;t want to hard code the age value, instead I want to pass an arg into the lambda so the age value can be set dynamically? Is it doable?","body":"Thank you. I think we are very close to get this answer accepted. One last question, what if I don&#39;t want to hard code the age value, instead I want to pass an arg into the lambda so the age value can be set dynamically? Is it doable?"}],"tags":[],"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673738129,"creation_date":1673513263,"answer_id":75093615,"question_id":75091725,"body_markdown":"You can use map function to update a custom object, then .set() the desired value:\r\n\r\n        Encoder&lt;Person&gt; personEncoder = Encoders.bean(Person.class);\r\n        List&lt;Person&gt; personList = Arrays.asList(\r\n                new Person(&quot;John&quot;, &quot;Doe&quot;, 25),\r\n                new Person(&quot;Jane&quot;, &quot;Doe&quot;, 30)\r\n        );\r\n        Dataset&lt;Person&gt; personListDs = session.createDataset(personList, personEncoder);\r\n\r\n        personListDs.show();\r\n        Dataset&lt;Person&gt; updatedPersonListDs = personListDs.map((MapFunction&lt;Person, Person&gt;) person -&gt; {\r\n            person.setAge(12);\r\n            return person;\r\n        }, personEncoder);\r\n\r\n        updatedPersonListDs.show();\r\n\r\n**Very important**, the Person class should have no args constructor:\r\n\r\n    public class Person implements Serializable {\r\n        private String name;\r\n        private String gender;\r\n        private int age;\r\n    \r\n        public Person() {\r\n        }\r\n    \r\n        public Person(String name, String gender, int age) {\r\n            this.name = name;\r\n            this.gender = gender;\r\n            this.age = age;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getGender() {\r\n            return gender;\r\n        }\r\n    \r\n        public void setGender(String gender) {\r\n            this.gender = gender;\r\n        }\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n    }\r\n\r\n**UPDATE:**\r\n\r\nIf you want the age value as a variable you can just created before the .map and called it inside .map\r\n\r\n    final int age = 12;\r\n    Dataset&lt;Person&gt; updatedPersonListDs = personListDs.map((MapFunction&lt;Person, Person&gt;) person -&gt; {\r\n        person.setAge(age);\r\n        return person;\r\n    }, personEncoder);\r\n\r\nIf you don&#39;t want the variable to be final, you can use a braodcast variable:\r\n\r\n    int age = 12;\r\n    Broadcast&lt;Integer&gt; broadcastAge = new JavaSparkContext(session.sparkContext()).broadcast(age);\r\n\r\n    Dataset&lt;Person&gt; updatedPersonListDs = personListDs.map((MapFunction&lt;Person, Person&gt;) person -&gt; {\r\n        person.setAge(broadcastAge.value());\r\n        return person;\r\n    }, personEncoder);\r\n","title":"How to assign new attributes into spark Dataset in Java","body":"<p>You can use map function to update a custom object, then .set() the desired value:</p>\n<pre><code>    Encoder&lt;Person&gt; personEncoder = Encoders.bean(Person.class);\n    List&lt;Person&gt; personList = Arrays.asList(\n            new Person(&quot;John&quot;, &quot;Doe&quot;, 25),\n            new Person(&quot;Jane&quot;, &quot;Doe&quot;, 30)\n    );\n    Dataset&lt;Person&gt; personListDs = session.createDataset(personList, personEncoder);\n\n    personListDs.show();\n    Dataset&lt;Person&gt; updatedPersonListDs = personListDs.map((MapFunction&lt;Person, Person&gt;) person -&gt; {\n        person.setAge(12);\n        return person;\n    }, personEncoder);\n\n    updatedPersonListDs.show();\n</code></pre>\n<p><strong>Very important</strong>, the Person class should have no args constructor:</p>\n<pre><code>public class Person implements Serializable {\n    private String name;\n    private String gender;\n    private int age;\n\n    public Person() {\n    }\n\n    public Person(String name, String gender, int age) {\n        this.name = name;\n        this.gender = gender;\n        this.age = age;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getGender() {\n        return gender;\n    }\n\n    public void setGender(String gender) {\n        this.gender = gender;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n}\n</code></pre>\n<p><strong>UPDATE:</strong></p>\n<p>If you want the age value as a variable you can just created before the .map and called it inside .map</p>\n<pre><code>final int age = 12;\nDataset&lt;Person&gt; updatedPersonListDs = personListDs.map((MapFunction&lt;Person, Person&gt;) person -&gt; {\n    person.setAge(age);\n    return person;\n}, personEncoder);\n</code></pre>\n<p>If you don't want the variable to be final, you can use a braodcast variable:</p>\n<pre><code>int age = 12;\nBroadcast&lt;Integer&gt; broadcastAge = new JavaSparkContext(session.sparkContext()).broadcast(age);\n\nDataset&lt;Person&gt; updatedPersonListDs = personListDs.map((MapFunction&lt;Person, Person&gt;) person -&gt; {\n    person.setAge(broadcastAge.value());\n    return person;\n}, personEncoder);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4528985,"reputation":4140,"user_id":3680045,"accept_rate":75,"display_name":"OPK"},"score":0,"creation_date":1673549983,"post_id":75094361,"comment_id":132530385,"body_markdown":"This requires type `Row`, but my dataset type is `Person`","body":"This requires type <code>Row</code>, but my dataset type is <code>Person</code>"}],"tags":[],"owner":{"account_id":25617749,"reputation":29,"user_id":19390106,"display_name":"Imran"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673516957,"creation_date":1673516957,"answer_id":75094361,"question_id":75091725,"body_markdown":"Either import object like you do know and use it to access method:\r\n\r\n        import org.apache.spark.sql.functions;\r\n    \r\n        df.withColumn(&quot;foo&quot;, functions.lit(1));\r\n\r\nor use import static and call method directly:\r\n\r\n    import static org.apache.spark.sql.functions.lit;\r\n    \r\n    df.withColumn(&quot;foo&quot;, lit(1));\r\n\r\n","title":"How to assign new attributes into spark Dataset in Java","body":"<p>Either import object like you do know and use it to access method:</p>\n<pre><code>    import org.apache.spark.sql.functions;\n\n    df.withColumn(&quot;foo&quot;, functions.lit(1));\n</code></pre>\n<p>or use import static and call method directly:</p>\n<pre><code>import static org.apache.spark.sql.functions.lit;\n\ndf.withColumn(&quot;foo&quot;, lit(1));\n</code></pre>\n"}],"owner":{"account_id":4528985,"reputation":4140,"user_id":3680045,"accept_rate":75,"display_name":"OPK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75093615,"answer_count":2,"score":4,"last_activity_date":1673738129,"creation_date":1673498962,"question_id":75091725,"body_markdown":"Assuming I have a `Dataset&lt;Person&gt; personList`, that contains list of `Person`.\r\n\r\n`Person` is defined as follows:\r\n\r\n\r\n    public class Person {\r\n        String name;\r\n        String gender;\r\n    }\r\n\r\n\r\nNow I have the list `personList` as dataset, but I need to backfill another attribute into `Person`, let&#39;s say it&#39;s `age`. So I can update my `Person` to\r\n\r\n    public class Person {\r\n        String name;\r\n        String gender;\r\n        int age;\r\n    }\r\n\r\nHow do I loop through the Dataset and upate the age value? \r\n\r\nI tried this approach, but it didn&#39;t update anything:\r\n\r\n        personList.foreach(person -&gt; {\r\n            person.setAge(12);\r\n        });\r\n\r\nI tried to give every `Person` in the `personList` age of 12, but when I read the data set, the `age` value is still empty.\r\n\r\nWhy? ","title":"How to assign new attributes into spark Dataset in Java","body":"<p>Assuming I have a <code>Dataset&lt;Person&gt; personList</code>, that contains list of <code>Person</code>.</p>\n<p><code>Person</code> is defined as follows:</p>\n<pre><code>public class Person {\n    String name;\n    String gender;\n}\n</code></pre>\n<p>Now I have the list <code>personList</code> as dataset, but I need to backfill another attribute into <code>Person</code>, let's say it's <code>age</code>. So I can update my <code>Person</code> to</p>\n<pre><code>public class Person {\n    String name;\n    String gender;\n    int age;\n}\n</code></pre>\n<p>How do I loop through the Dataset and upate the age value?</p>\n<p>I tried this approach, but it didn't update anything:</p>\n<pre><code>    personList.foreach(person -&gt; {\n        person.setAge(12);\n    });\n</code></pre>\n<p>I tried to give every <code>Person</code> in the <code>personList</code> age of 12, but when I read the data set, the <code>age</code> value is still empty.</p>\n<p>Why?</p>\n"},{"tags":["java","android","kotlin","admob"],"comments":[{"owner":{"account_id":16864887,"reputation":872,"user_id":12194805,"display_name":"Oozeerally"},"score":0,"creation_date":1602510661,"post_id":64318020,"comment_id":113735623,"body_markdown":"Consider adding your code that is leading to this error","body":"Consider adding your code that is leading to this error"}],"answers":[{"comments":[{"owner":{"account_id":15769469,"reputation":386,"user_id":11378923,"display_name":"cm101"},"score":1,"creation_date":1643479323,"post_id":67902620,"comment_id":125352951,"body_markdown":"Even after more than 6 months this is still the correct answer - the API answers with &quot;Internal error.&quot; when requests are sent from the Android Emulator, but is working when used on a real device.","body":"Even after more than 6 months this is still the correct answer - the API answers with &quot;Internal error.&quot; when requests are sent from the Android Emulator, but is working when used on a real device."}],"tags":[],"owner":{"account_id":8803169,"reputation":171,"user_id":6578666,"display_name":"Rahul Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1623235502,"creation_date":1623235502,"answer_id":67902620,"question_id":64318020,"body_markdown":"I also faced same issue on emulator but when I tried same code on real device native ads seems to work perfectly. ","title":"Getting Received log message: &lt;Google:HTML&gt; Incorrect native ad response. Click actions were not properly specified.witht error code 0","body":"<p>I also faced same issue on emulator but when I tried same code on real device native ads seems to work perfectly.</p>\n"},{"comments":[{"owner":{"account_id":8806448,"reputation":1279,"user_id":6580933,"display_name":"Terblanche Daniel"},"score":0,"creation_date":1677918162,"post_id":75121767,"comment_id":133435375,"body_markdown":"Nice, fixed my problem.","body":"Nice, fixed my problem."}],"tags":[],"owner":{"account_id":11843078,"reputation":617,"user_id":8666381,"display_name":"Large"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673736459,"creation_date":1673736459,"answer_id":75121767,"question_id":64318020,"body_markdown":"I had the same issue and found another correct answer on this: https://stackoverflow.com/questions/67355780/flutter-native-admob-ad-failed-to-load-0\r\n\r\nYou need to test your app with an emulator that has Google Play framework installed.","title":"Getting Received log message: &lt;Google:HTML&gt; Incorrect native ad response. Click actions were not properly specified.witht error code 0","body":"<p>I had the same issue and found another correct answer on this: <a href=\"https://stackoverflow.com/questions/67355780/flutter-native-admob-ad-failed-to-load-0\">Flutter, Native Admob, Ad failed to load : 0</a></p>\n<p>You need to test your app with an emulator that has Google Play framework installed.</p>\n"}],"owner":{"account_id":19716476,"reputation":71,"user_id":14435823,"display_name":"Piyush Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1421,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1673736459,"creation_date":1602506048,"question_id":64318020,"body_markdown":"I am trying to implement native ads. I am getting error code 0 and 3 on both test units and real units when trying on emulator. While checking the logs I found the following statement. \r\n\r\n```Received log message: &lt;Google:HTML&gt; Incorrect native ad response. Click actions were not properly specified```\r\n\r\n```Ad failed to load : 0```\r\n\r\nError code 0 is coming when I am using real Ad units. \r\n\r\nI am trying to populate this native ad inside a FrameLayout.\r\nBelow is a code snippet from my xml file:\r\n\r\n```            \r\n&lt;LinearLayout\r\n                android:id=&quot;@+id/adLayout&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;bottom|center_horizontal&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;FrameLayout\r\n                    android:id=&quot;@+id/nativeAdArea&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:visibility=&quot;gone&quot; /&gt;\r\n               &lt;/LinearLayout&gt;\r\n   \r\n```\r\nHere&#39;s my java code snippet.\r\n```\r\n    FrameLayout nativeAdArea;\r\n    nativeAdArea = findViewById(R.id.nativeAdArea);\r\n\r\n    private void showNativeBanner() {\r\n        AdLoader adLoader = new AdLoader.Builder(this, getResources().getString(R.string.admob_native_mainactivity))\r\n                .forUnifiedNativeAd(new UnifiedNativeAd.OnUnifiedNativeAdLoadedListener() {\r\n                    @Override\r\n                    public void onUnifiedNativeAdLoaded(UnifiedNativeAd unifiedNativeAd) {\r\n                        Log.e(&quot;nativead&quot;, &quot;loaded&quot;);\r\n\r\n                        // Show the ad.\r\n                        nativeAdArea.setVisibility(View.VISIBLE);\r\n\r\n                        UnifiedNativeAdView adView = (UnifiedNativeAdView) getLayoutInflater()\r\n                                .inflate(R.layout.layout_homepage_nativead, null);\r\n                        // This method sets the text, images and the native ad, etc into the ad\r\n                        // view.\r\n                        mUnifiedNativeAd = populateUnifiedNativeAdView(unifiedNativeAd, adView);\r\n                        nativeAdArea.removeAllViews();\r\n                        nativeAdArea.addView(adView);\r\n                    }\r\n                })\r\n                .withAdListener(new AdListener() {\r\n                    @Override\r\n                    public void onAdLoaded() {\r\n                        super.onAdLoaded();\r\n                        mUnifiedNativeAd.setOnPaidEventListener(new OnPaidEventListener() {\r\n                            @Override\r\n                            public void onPaidEvent(AdValue adValue) {\r\n                                Bundle params = new Bundle();\r\n                                params.putString(&quot;valuemicros&quot;, String.valueOf(adValue.getValueMicros()));\r\n                                params.putString(&quot;currency&quot;, adValue.getCurrencyCode());\r\n                                params.putString(&quot;precision&quot;, String.valueOf(adValue.getPrecisionType()));\r\n                                params.putString(&quot;adunitid&quot;, getResources().getString(R.string.admob_native_mainactivity));\r\n                                params.putString(&quot;network&quot;, Objects.requireNonNull(mUnifiedNativeAd.getResponseInfo()).getMediationAdapterClassName());\r\n                                AnalyticsManager.logEvent(&quot;paid_ad_impression&quot;, params);\r\n                            }\r\n                        });\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdFailedToLoad(int errorCode) {\r\n                        Log.e(&quot;nativead&quot;, &quot;failedtoload&quot; + errorCode);\r\n                        // Handle the failure by logging, altering the UI, and so on.\r\n                        nativeAdArea.setVisibility(View.GONE);\r\n//                        getSmaatoNativeAd();\r\n                    }\r\n\r\n                    @Override\r\n                    public void onAdClicked() {\r\n                        if (mFirebaseAnalytics == null) {\r\n                            mFirebaseAnalytics = FirebaseAnalytics.getInstance(NewMainActivity.this);\r\n                        }\r\n                        Bundle adClickAnalyticsbundle = new Bundle();\r\n                        adClickAnalyticsbundle.putString(&quot;app_version&quot;, BuildConfig.VERSION_NAME);\r\n                        adClickAnalyticsbundle.putString(&quot;type&quot;, &quot;native&quot;);\r\n                        adClickAnalyticsbundle.putString(&quot;ad_unit_name&quot;, &quot;homepage_lower_native&quot;);\r\n                        mFirebaseAnalytics.logEvent(&quot;clicked_ad&quot;, adClickAnalyticsbundle);\r\n\r\n                        Bundle abTestBundle = new Bundle();\r\n                        abTestBundle.putString(&quot;app_version&quot;, BuildConfig.VERSION_NAME);\r\n                        abTestBundle.putString(&quot;type&quot;, &quot;native&quot;);\r\n                        mFirebaseAnalytics.logEvent(&quot;native_vs_adaptive&quot;, abTestBundle);\r\n                    }\r\n\r\n                })\r\n                .withNativeAdOptions(new NativeAdOptions.Builder()\r\n                        // Methods in the NativeAdOptions.Builder class can be\r\n                        // used here to specify individual options settings.\r\n                        .build())\r\n                .build();\r\n\r\n        AdRequest adRequest = new AdRequest.Builder().addNetworkExtrasBundle(AdMobAdapter.class, extras)\r\n                .build();\r\n        runOnUiThread(() -&gt; {\r\n            adLoader.loadAd(adRequest);\r\n        });\r\n    }\r\n\r\n    ```\r\n\r\n[![Here&#39;s a snapshot of the log][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f43d9.png","title":"Getting Received log message: &lt;Google:HTML&gt; Incorrect native ad response. Click actions were not properly specified.witht error code 0","body":"<p>I am trying to implement native ads. I am getting error code 0 and 3 on both test units and real units when trying on emulator. While checking the logs I found the following statement.</p>\n<p><code>Received log message: &lt;Google:HTML&gt; Incorrect native ad response. Click actions were not properly specified</code></p>\n<p><code>Ad failed to load : 0</code></p>\n<p>Error code 0 is coming when I am using real Ad units.</p>\n<p>I am trying to populate this native ad inside a FrameLayout.\nBelow is a code snippet from my xml file:</p>\n<pre><code>&lt;LinearLayout\n                android:id=&quot;@+id/adLayout&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;bottom|center_horizontal&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;FrameLayout\n                    android:id=&quot;@+id/nativeAdArea&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:visibility=&quot;gone&quot; /&gt;\n               &lt;/LinearLayout&gt;\n   \n</code></pre>\n<p>Here's my java code snippet.</p>\n<pre><code>    FrameLayout nativeAdArea;\n    nativeAdArea = findViewById(R.id.nativeAdArea);\n\n    private void showNativeBanner() {\n        AdLoader adLoader = new AdLoader.Builder(this, getResources().getString(R.string.admob_native_mainactivity))\n                .forUnifiedNativeAd(new UnifiedNativeAd.OnUnifiedNativeAdLoadedListener() {\n                    @Override\n                    public void onUnifiedNativeAdLoaded(UnifiedNativeAd unifiedNativeAd) {\n                        Log.e(&quot;nativead&quot;, &quot;loaded&quot;);\n\n                        // Show the ad.\n                        nativeAdArea.setVisibility(View.VISIBLE);\n\n                        UnifiedNativeAdView adView = (UnifiedNativeAdView) getLayoutInflater()\n                                .inflate(R.layout.layout_homepage_nativead, null);\n                        // This method sets the text, images and the native ad, etc into the ad\n                        // view.\n                        mUnifiedNativeAd = populateUnifiedNativeAdView(unifiedNativeAd, adView);\n                        nativeAdArea.removeAllViews();\n                        nativeAdArea.addView(adView);\n                    }\n                })\n                .withAdListener(new AdListener() {\n                    @Override\n                    public void onAdLoaded() {\n                        super.onAdLoaded();\n                        mUnifiedNativeAd.setOnPaidEventListener(new OnPaidEventListener() {\n                            @Override\n                            public void onPaidEvent(AdValue adValue) {\n                                Bundle params = new Bundle();\n                                params.putString(&quot;valuemicros&quot;, String.valueOf(adValue.getValueMicros()));\n                                params.putString(&quot;currency&quot;, adValue.getCurrencyCode());\n                                params.putString(&quot;precision&quot;, String.valueOf(adValue.getPrecisionType()));\n                                params.putString(&quot;adunitid&quot;, getResources().getString(R.string.admob_native_mainactivity));\n                                params.putString(&quot;network&quot;, Objects.requireNonNull(mUnifiedNativeAd.getResponseInfo()).getMediationAdapterClassName());\n                                AnalyticsManager.logEvent(&quot;paid_ad_impression&quot;, params);\n                            }\n                        });\n                    }\n\n                    @Override\n                    public void onAdFailedToLoad(int errorCode) {\n                        Log.e(&quot;nativead&quot;, &quot;failedtoload&quot; + errorCode);\n                        // Handle the failure by logging, altering the UI, and so on.\n                        nativeAdArea.setVisibility(View.GONE);\n//                        getSmaatoNativeAd();\n                    }\n\n                    @Override\n                    public void onAdClicked() {\n                        if (mFirebaseAnalytics == null) {\n                            mFirebaseAnalytics = FirebaseAnalytics.getInstance(NewMainActivity.this);\n                        }\n                        Bundle adClickAnalyticsbundle = new Bundle();\n                        adClickAnalyticsbundle.putString(&quot;app_version&quot;, BuildConfig.VERSION_NAME);\n                        adClickAnalyticsbundle.putString(&quot;type&quot;, &quot;native&quot;);\n                        adClickAnalyticsbundle.putString(&quot;ad_unit_name&quot;, &quot;homepage_lower_native&quot;);\n                        mFirebaseAnalytics.logEvent(&quot;clicked_ad&quot;, adClickAnalyticsbundle);\n\n                        Bundle abTestBundle = new Bundle();\n                        abTestBundle.putString(&quot;app_version&quot;, BuildConfig.VERSION_NAME);\n                        abTestBundle.putString(&quot;type&quot;, &quot;native&quot;);\n                        mFirebaseAnalytics.logEvent(&quot;native_vs_adaptive&quot;, abTestBundle);\n                    }\n\n                })\n                .withNativeAdOptions(new NativeAdOptions.Builder()\n                        // Methods in the NativeAdOptions.Builder class can be\n                        // used here to specify individual options settings.\n                        .build())\n                .build();\n\n        AdRequest adRequest = new AdRequest.Builder().addNetworkExtrasBundle(AdMobAdapter.class, extras)\n                .build();\n        runOnUiThread(() -&gt; {\n            adLoader.loadAd(adRequest);\n        });\n    }\n\n    ```\n\n[![Here's a snapshot of the log][1]][1]\n\n\n  [1]: https://i.stack.imgur.com/f43d9.png\n</code></pre>\n"},{"tags":["java","jpa","exception","constraints"],"answers":[{"comments":[{"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"score":1,"creation_date":1282048127,"post_id":3502302,"comment_id":3659712,"body_markdown":"... and then parsing `getCause().getMessag()`?","body":"... and then parsing <code>getCause().getMessag()</code>?"},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":2,"creation_date":1282117089,"post_id":3502302,"comment_id":3668589,"body_markdown":"That depends on what exception you will get. If it&#39;s an `SQLException,` check the error and SQLStatus. But some frameworks like Spring translate these to something more meaningful (`DataIntegrityViolationException`).","body":"That depends on what exception you will get. If it&#39;s an <code>SQLException,</code> check the error and SQLStatus. But some frameworks like Spring translate these to something more meaningful (<code>DataIntegrityViolationException</code>)."}],"tags":[],"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1282047676,"creation_date":1282047676,"answer_id":3502302,"question_id":3502279,"body_markdown":"Use `e.getCause()` to examine what caused the rollback.","title":"How to handle JPA unique constraint violations?","body":"<p>Use <code>e.getCause()</code> to examine what caused the rollback.</p>\n"},{"tags":[],"owner":{"account_id":39563,"reputation":4010,"user_id":114194,"accept_rate":70,"display_name":"hakish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1282048790,"creation_date":1282048790,"answer_id":3502455,"question_id":3502279,"body_markdown":"i think printing the stack trace will help you to know this. e.printStackTrace();","title":"How to handle JPA unique constraint violations?","body":"<p>i think printing the stack trace will help you to know this. e.printStackTrace();</p>\n"},{"comments":[{"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"score":0,"creation_date":1282055885,"post_id":3503436,"comment_id":3661249,"body_markdown":"Ok, but what should I do with the StackTrace? Parsing a string with the stack trace is somewhat ugly, but perhaps the only possibility.","body":"Ok, but what should I do with the StackTrace? Parsing a string with the stack trace is somewhat ugly, but perhaps the only possibility."},{"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"score":1,"creation_date":1282058608,"post_id":3503436,"comment_id":3661807,"body_markdown":"And how would I know what field caused the constraint violation?","body":"And how would I know what field caused the constraint violation?"}],"tags":[],"owner":{"account_id":185220,"reputation":47,"user_id":421788,"display_name":"Mercy"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1282054926,"creation_date":1282054926,"answer_id":3503436,"question_id":3502279,"body_markdown":"You can do like this :\r\n\r\n    StringWriter writer=new StringWriter(); //remains the message from stack trace.\r\n    e.printStackTrace(new PrintWriter(writer));\r\n    String message=writer.toString(); // gets the message of full stack trace.\r\n     \r\nAnd then view the information of exception.","title":"How to handle JPA unique constraint violations?","body":"<p>You can do like this :</p>\n\n<pre><code>StringWriter writer=new StringWriter(); //remains the message from stack trace.\ne.printStackTrace(new PrintWriter(writer));\nString message=writer.toString(); // gets the message of full stack trace.\n</code></pre>\n\n<p>And then view the information of exception.</p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564401,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1288518198,"creation_date":1282105742,"answer_id":3508976,"question_id":3502279,"body_markdown":"&gt; How can I find out that a unique constraint was violated?\r\n\r\nException are chained, you have to call `getCause()` recursively to get the provider specific exception (and maybe go down to the `SQLException`) to translate it into something your application can handle nicely for your user. The following will print the chain of exception:\r\n\r\n\tfor (t = e.getCause(); t != null; t = t.getCause()) {\r\n\t\tlogger.debug(&quot;Exception:&quot; + t);\r\n\t}\r\n\r\nFor the exception handling and the &quot;translation&quot;, you could do something like what Spring does (see the various `JpaDialect` classes, e.g. [`HibernateJpaDialect`][1] to get an idea).\r\n\r\nAll this is not nice, this code won&#39;t be portable and finding what attribute(s) caused the violation won&#39;t be easy. This somehow confirms that there is no [elegant and portable way to handle constraint violations in JPA][2].\r\n\r\n\r\n  [1]: http://www.jarvana.com/jarvana/view/org/springframework/spring-orm/3.0.1.RELEASE/spring-orm-3.0.1.RELEASE-sources.jar!/org/springframework/orm/jpa/vendor/HibernateJpaDialect.java?format=ok\r\n  [2]: https://stackoverflow.com/questions/2519902/elegantly-handling-constraint-violations-in-ejb-jpa-environment","title":"How to handle JPA unique constraint violations?","body":"<blockquote>\n  <p>How can I find out that a unique constraint was violated?</p>\n</blockquote>\n\n<p>Exception are chained, you have to call <code>getCause()</code> recursively to get the provider specific exception (and maybe go down to the <code>SQLException</code>) to translate it into something your application can handle nicely for your user. The following will print the chain of exception:</p>\n\n<pre><code>for (t = e.getCause(); t != null; t = t.getCause()) {\n    logger.debug(\"Exception:\" + t);\n}\n</code></pre>\n\n<p>For the exception handling and the \"translation\", you could do something like what Spring does (see the various <code>JpaDialect</code> classes, e.g. <a href=\"http://www.jarvana.com/jarvana/view/org/springframework/spring-orm/3.0.1.RELEASE/spring-orm-3.0.1.RELEASE-sources.jar!/org/springframework/orm/jpa/vendor/HibernateJpaDialect.java?format=ok\" rel=\"noreferrer\"><code>HibernateJpaDialect</code></a> to get an idea).</p>\n\n<p>All this is not nice, this code won't be portable and finding what attribute(s) caused the violation won't be easy. This somehow confirms that there is no <a href=\"https://stackoverflow.com/questions/2519902/elegantly-handling-constraint-violations-in-ejb-jpa-environment\">elegant and portable way to handle constraint violations in JPA</a>.</p>\n"},{"tags":[],"owner":{"account_id":442573,"reputation":594,"user_id":833245,"display_name":"abhijitcaps"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1367432401,"creation_date":1367432401,"answer_id":16323949,"question_id":3502279,"body_markdown":"compiler returns the exception ***SQLIntegrityConstraintViolationException***, while trying to violate unique constraint. \r\n\r\nUse the following catch block concept, to handle proper exceptions.\r\n\r\n    catch(SQLIntegrityConstraintViolationException e) \r\n    {\r\n      // Error message for integrity constraint violation\r\n    }\r\n    catch(Exception e)\r\n    {\r\n     // Other error messages\r\n    }","title":"How to handle JPA unique constraint violations?","body":"<p>compiler returns the exception <strong><em>SQLIntegrityConstraintViolationException</em></strong>, while trying to violate unique constraint. </p>\n\n<p>Use the following catch block concept, to handle proper exceptions.</p>\n\n<pre><code>catch(SQLIntegrityConstraintViolationException e) \n{\n  // Error message for integrity constraint violation\n}\ncatch(Exception e)\n{\n // Other error messages\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5624415,"reputation":507,"user_id":4453282,"display_name":"sajal rajabhoj"},"score":0,"creation_date":1544798489,"post_id":49791600,"comment_id":94414939,"body_markdown":"It did not help me. Can you confirm once?","body":"It did not help me. Can you confirm once?"},{"owner":{"account_id":1964236,"reputation":925,"user_id":1764889,"accept_rate":75,"display_name":"srnjak"},"score":3,"creation_date":1568194347,"post_id":49791600,"comment_id":102194465,"body_markdown":"You cannot talk about &quot;standard JPA&quot; and reference to hibernate.","body":"You cannot talk about &quot;standard JPA&quot; and reference to hibernate."}],"tags":[],"owner":{"account_id":8294958,"reputation":199,"user_id":6235468,"display_name":"AaMng"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1527765963,"creation_date":1523521797,"answer_id":49791600,"question_id":3502279,"body_markdown":"You can use the following :\r\n\r\nIf you are using spring framework then you can use :\r\n\r\n`org.springframework.dao.DataIntegrityViolationException`\r\n\r\nIf standard JPA following can be used\r\n\r\n`org.hibernate.exception.ConstraintViolationException`\r\n\r\nAt sql level following can be used :\r\n\r\n`java.sql.SQLIntegrityConstraintViolationException`","title":"How to handle JPA unique constraint violations?","body":"<p>You can use the following :</p>\n\n<p>If you are using spring framework then you can use :</p>\n\n<p><code>org.springframework.dao.DataIntegrityViolationException</code></p>\n\n<p>If standard JPA following can be used</p>\n\n<p><code>org.hibernate.exception.ConstraintViolationException</code></p>\n\n<p>At sql level following can be used :</p>\n\n<p><code>java.sql.SQLIntegrityConstraintViolationException</code></p>\n"},{"tags":[],"owner":{"account_id":4100198,"reputation":31,"user_id":3365942,"display_name":"AjayPS"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1533896754,"creation_date":1533896754,"answer_id":51784436,"question_id":3502279,"body_markdown":"This might very late for you but here&#39;s how I solved it for PostGres.\r\n\r\n    catch (DataIntegrityViolationException e) {\r\n    \r\n                for (Throwable t = e.getCause(); t != null; t = t.getCause()) {\r\n    \r\n                    if (PSQLException.class.equals(t.getClass())) {\r\n                        PSQLException postgresException = (PSQLException) t;\r\n    \r\n                        // In Postgres SQLState 23505=unique_violation\r\n                        if (&quot;23505&quot;.equals(postgresException.getSQLState())) {\r\n                            throw new CustomDataAlreadyExistsException(&quot;YourErrorCode&quot;, e);\r\n                        }\r\n                    }\r\n                }\r\n                throw new SomeOtherException(&quot;YourErrorCode2&quot;, e);\r\n    \r\n            }","title":"How to handle JPA unique constraint violations?","body":"<p>This might very late for you but here's how I solved it for PostGres.</p>\n\n<pre><code>catch (DataIntegrityViolationException e) {\n\n            for (Throwable t = e.getCause(); t != null; t = t.getCause()) {\n\n                if (PSQLException.class.equals(t.getClass())) {\n                    PSQLException postgresException = (PSQLException) t;\n\n                    // In Postgres SQLState 23505=unique_violation\n                    if (\"23505\".equals(postgresException.getSQLState())) {\n                        throw new CustomDataAlreadyExistsException(\"YourErrorCode\", e);\n                    }\n                }\n            }\n            throw new SomeOtherException(\"YourErrorCode2\", e);\n\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1359473,"reputation":1054,"user_id":1297091,"accept_rate":40,"display_name":"codezoner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602355083,"creation_date":1602355083,"answer_id":64296947,"question_id":3502279,"body_markdown":"You have to catch javax.persistence.PersistenceException.\r\nThrown exception is org.hibernate.exception.ConstraintViolationException.\r\n\r\nException Message : org.hibernate.exception.ConstraintViolationException: Duplicate entry &#39;893073116V-1234567&#39; for key &#39;nic_account_no&#39;","title":"How to handle JPA unique constraint violations?","body":"<p>You have to catch javax.persistence.PersistenceException.\nThrown exception is org.hibernate.exception.ConstraintViolationException.</p>\n<p>Exception Message : org.hibernate.exception.ConstraintViolationException: Duplicate entry '893073116V-1234567' for key 'nic_account_no'</p>\n"},{"tags":[],"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673736421,"creation_date":1673736421,"answer_id":75121762,"question_id":3502279,"body_markdown":"The easiest way to pin point the cause of constraint violation, is to **define the name of the constraint properly** in the first place:\r\n\r\n### Defining Unique Constraint:\r\nUsing `@UniqueConstraint` inside `@Table`, we can either define one column or multiple columns constraints, along with a **custom constraint name**:\r\n```\r\n@Entity\r\n@Table(uniqueConstraints = {\r\n        @UniqueConstraint(columnNames = { &quot;name&quot; }, name = &quot;name_constraint&quot;),\r\n        @UniqueConstraint(columnNames = { &quot;teamId&quot;, &quot;orderIndex&quot; }, name = &quot;teamId_orderIndex_constraint&quot;)\r\n})\r\npublic class Space {\r\n    // .. other field omitted\r\n\r\n    private String name;\r\n\r\n    private Integer orderIndex;\r\n\r\n    private Integer teamId;\r\n}\r\n```\r\nJPA alter the constraint with our **custom name**:\r\n```\r\nHibernate: \r\n    alter table space\r\n       add constraint name_constraint unique (name)\r\n\r\nHibernate: \r\n    alter table space\r\n       add constraint teamId_orderIndex_constraint unique (team_id, order_index)\r\n```\r\n### Properly handle `DataIntegrityViolationException`:\r\nUsing `e.getMessage()`, we get result back, which contains the name of the constraint we defined above: \r\n\r\n```\r\ncould not execute statement; SQL [n/a]; constraint [space.name_constraint]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n```\r\nThen simply check if the result contains the name we defined:\r\n```\r\nimport org.springframework.dao.DataIntegrityViolationException;\r\n\r\ntry {\r\n    repository.save(space);\r\n} catch (DataIntegrityViolationException e) {\r\n\r\n    if(e.getMessage().contains(&quot;name_constraint&quot;)) {\r\n        System.out.println(&quot;Unique name constraint violated&quot;);\r\n    }\r\n\r\n    if(e.getMessage().contains(&quot;teamId_orderIndex_constraint&quot;)) {\r\n        System.out.println(&quot;Unique teamId_orderIndex constraints violated&quot;);\r\n    }\r\n}\r\n```\r\nReference: [Defining Unique Constraints in JPA](https://www.baeldung.com/jpa-unique-constraints#2-defining-unique-constraints)","title":"How to handle JPA unique constraint violations?","body":"<p>The easiest way to pin point the cause of constraint violation, is to <strong>define the name of the constraint properly</strong> in the first place:</p>\n<h3>Defining Unique Constraint:</h3>\n<p>Using <code>@UniqueConstraint</code> inside <code>@Table</code>, we can either define one column or multiple columns constraints, along with a <strong>custom constraint name</strong>:</p>\n<pre><code>@Entity\n@Table(uniqueConstraints = {\n        @UniqueConstraint(columnNames = { &quot;name&quot; }, name = &quot;name_constraint&quot;),\n        @UniqueConstraint(columnNames = { &quot;teamId&quot;, &quot;orderIndex&quot; }, name = &quot;teamId_orderIndex_constraint&quot;)\n})\npublic class Space {\n    // .. other field omitted\n\n    private String name;\n\n    private Integer orderIndex;\n\n    private Integer teamId;\n}\n</code></pre>\n<p>JPA alter the constraint with our <strong>custom name</strong>:</p>\n<pre><code>Hibernate: \n    alter table space\n       add constraint name_constraint unique (name)\n\nHibernate: \n    alter table space\n       add constraint teamId_orderIndex_constraint unique (team_id, order_index)\n</code></pre>\n<h3>Properly handle <code>DataIntegrityViolationException</code>:</h3>\n<p>Using <code>e.getMessage()</code>, we get result back, which contains the name of the constraint we defined above:</p>\n<pre><code>could not execute statement; SQL [n/a]; constraint [space.name_constraint]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\n</code></pre>\n<p>Then simply check if the result contains the name we defined:</p>\n<pre><code>import org.springframework.dao.DataIntegrityViolationException;\n\ntry {\n    repository.save(space);\n} catch (DataIntegrityViolationException e) {\n\n    if(e.getMessage().contains(&quot;name_constraint&quot;)) {\n        System.out.println(&quot;Unique name constraint violated&quot;);\n    }\n\n    if(e.getMessage().contains(&quot;teamId_orderIndex_constraint&quot;)) {\n        System.out.println(&quot;Unique teamId_orderIndex constraints violated&quot;);\n    }\n}\n</code></pre>\n<p>Reference: <a href=\"https://www.baeldung.com/jpa-unique-constraints#2-defining-unique-constraints\" rel=\"nofollow noreferrer\">Defining Unique Constraints in JPA</a></p>\n"}],"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66269,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":3508976,"answer_count":9,"score":32,"last_activity_date":1673736421,"creation_date":1282047515,"question_id":3502279,"body_markdown":"When a unique constraint is violated, a `javax.persistence.RollbackException` is thrown. But there could be multiple reasons to throw a `RollbackException`. How can I find out that a unique constraint was violated?\r\n\r\n    try {\r\n    \trepository.save(article);\r\n    }\r\n    catch(javax.persistence.RollbackException e) {\r\n    \t// how to find out the reason for the rollback exception?\r\n    }","title":"How to handle JPA unique constraint violations?","body":"<p>When a unique constraint is violated, a <code>javax.persistence.RollbackException</code> is thrown. But there could be multiple reasons to throw a <code>RollbackException</code>. How can I find out that a unique constraint was violated?</p>\n\n<pre><code>try {\n    repository.save(article);\n}\ncatch(javax.persistence.RollbackException e) {\n    // how to find out the reason for the rollback exception?\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","hibernate","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":15246712,"reputation":15,"user_id":15582416,"display_name":"Loopinfility"},"score":0,"creation_date":1667585254,"post_id":74320715,"comment_id":131209487,"body_markdown":"Nope nothing changed..","body":"Nope nothing changed.."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667876148,"post_id":74320715,"comment_id":131266986,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74320715/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667581978,"creation_date":1667581978,"answer_id":74320715,"question_id":74320521,"body_markdown":"have you tried with below properties in application-properties file?\r\n\r\nspring.jpa.defer-datasource-initialization=true\r\n\r\nspring.sql.init.mode=always\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization.using-basic-sql-scripts","title":"Spring boot unable to create database schema and insert values on load at MYSQL","body":"<p>have you tried with below properties in application-properties file?</p>\n<p>spring.jpa.defer-datasource-initialization=true</p>\n<p>spring.sql.init.mode=always</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization.using-basic-sql-scripts\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization.using-basic-sql-scripts</a></p>\n"},{"tags":[],"owner":{"account_id":5024617,"reputation":11,"user_id":4037014,"display_name":"Shamsher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667589650,"creation_date":1667589650,"answer_id":74322012,"question_id":74320521,"body_markdown":"Try running with the following properties.\r\n```\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.hibernate.ddl-auto=create\r\n```","title":"Spring boot unable to create database schema and insert values on load at MYSQL","body":"<p>Try running with the following properties.</p>\n<pre><code>spring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=create\n</code></pre>\n"}],"owner":{"account_id":15246712,"reputation":15,"user_id":15582416,"display_name":"Loopinfility"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673735540,"creation_date":1667581053,"question_id":74320521,"body_markdown":"I&#39;m unable to get spring boot to automatically load my database schema when I start it up. I am using MySQL as an external DB.  Please find below the code \r\n\r\napplication properties \r\n\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/carsdb\r\n    spring.datasource.username=root\r\n    spring.datasource.password=password\r\n\r\nApplication.java\r\n\r\n    package com.truckla.cars;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @EnableAutoConfiguration\r\n    @SpringBootApplication\r\n    public class CarsApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(CarsApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\nModel entity\r\n\r\n    package com.truckla.cars.model;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    @Entity\r\n    @Table(name = &quot;cars&quot;)\r\n    @SequenceGenerator(name=&quot;seq&quot;, initialValue=4, allocationSize=100)\r\n    public class Car {\r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n        Integer id;\r\n        String manufacturer;\r\n        String model;\r\n        Integer build;\r\n    \r\n        public Car() {\r\n        }\r\n    \r\n        public Car(Integer id, String manufacturer, String model, Integer build) {\r\n            this.id = id;\r\n            this.manufacturer = manufacturer;\r\n            this.model = model;\r\n            this.build = build;\r\n        }\r\n    \r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getManufacturer() {\r\n            return manufacturer;\r\n        }\r\n    \r\n        public String getModel() {\r\n            return model;\r\n        }\r\n    \r\n        public int getBuild() {\r\n            return build;\r\n        }\r\n    \r\n        public void setId(Integer id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public void setManufacturer(String manufacturer) {\r\n            this.manufacturer = manufacturer;\r\n        }\r\n    \r\n        public void setModel(String model) {\r\n            this.model = model;\r\n        }\r\n    \r\n        public void setBuild(Integer build) {\r\n            this.build = build;\r\n        }\r\n    }\r\n\r\nschema.sql\r\n\r\n    CREATE TABLE cars (\r\n      id INT AUTO_INCREMENT  PRIMARY KEY,\r\n      manufacturer VARCHAR(250) NOT NULL,\r\n      model VARCHAR(250) NOT NULL,\r\n      build YEAR DEFAULT NULL\r\n    );\r\n\r\ndata.sql\r\n\r\n    INSERT INTO cars (manufacturer, model, build) VALUES\r\n      (&#39;Ford&#39;, &#39;Model T&#39;, 1927),\r\n      (&#39;Tesla&#39;, &#39;Model 3&#39;, 2017),\r\n      (&#39;Tesla&#39;, &#39;Cybertruck&#39;, 2019);\r\n\r\n\r\n\r\nAny ideas what am i doing wrong and what i should change in order to get it work?  Thanks in advance. \r\n","title":"Spring boot unable to create database schema and insert values on load at MYSQL","body":"<p>I'm unable to get spring boot to automatically load my database schema when I start it up. I am using MySQL as an external DB.  Please find below the code</p>\n<p>application properties</p>\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.hibernate.ddl-auto=update\nspring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/carsdb\nspring.datasource.username=root\nspring.datasource.password=password\n</code></pre>\n<p>Application.java</p>\n<pre><code>package com.truckla.cars;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@EnableAutoConfiguration\n@SpringBootApplication\npublic class CarsApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CarsApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Model entity</p>\n<pre><code>package com.truckla.cars.model;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport javax.persistence.*;\n\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\n@Entity\n@Table(name = &quot;cars&quot;)\n@SequenceGenerator(name=&quot;seq&quot;, initialValue=4, allocationSize=100)\npublic class Car {\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    Integer id;\n    String manufacturer;\n    String model;\n    Integer build;\n\n    public Car() {\n    }\n\n    public Car(Integer id, String manufacturer, String model, Integer build) {\n        this.id = id;\n        this.manufacturer = manufacturer;\n        this.model = model;\n        this.build = build;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public String getManufacturer() {\n        return manufacturer;\n    }\n\n    public String getModel() {\n        return model;\n    }\n\n    public int getBuild() {\n        return build;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public void setManufacturer(String manufacturer) {\n        this.manufacturer = manufacturer;\n    }\n\n    public void setModel(String model) {\n        this.model = model;\n    }\n\n    public void setBuild(Integer build) {\n        this.build = build;\n    }\n}\n</code></pre>\n<p>schema.sql</p>\n<pre><code>CREATE TABLE cars (\n  id INT AUTO_INCREMENT  PRIMARY KEY,\n  manufacturer VARCHAR(250) NOT NULL,\n  model VARCHAR(250) NOT NULL,\n  build YEAR DEFAULT NULL\n);\n</code></pre>\n<p>data.sql</p>\n<pre><code>INSERT INTO cars (manufacturer, model, build) VALUES\n  ('Ford', 'Model T', 1927),\n  ('Tesla', 'Model 3', 2017),\n  ('Tesla', 'Cybertruck', 2019);\n</code></pre>\n<p>Any ideas what am i doing wrong and what i should change in order to get it work?  Thanks in advance.</p>\n"},{"tags":["java","spring","mongodb","spring-data","spring-mongodb"],"comments":[{"owner":{"account_id":461480,"reputation":2840,"user_id":863192,"accept_rate":41,"display_name":"Zack Newsham"},"score":1,"creation_date":1673629456,"post_id":75110300,"comment_id":132549672,"body_markdown":"I don&#39;t know spring very well, but I suspect you need to add an `andOperator`? Something like `query.addCriteria(new Criteria().andOperator(new Criteria().orOperator(...), new Criteria().orOperator(...)))`","body":"I don&#39;t know spring very well, but I suspect you need to add an <code>andOperator</code>? Something like <code>query.addCriteria(new Criteria().andOperator(new Criteria().orOperator(...), new Criteria().orOperator(...)))</code>"}],"answers":[{"tags":[],"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673735363,"creation_date":1673735363,"answer_id":75121688,"question_id":75110300,"body_markdown":"You can try with this piece of code:\r\n\r\n```java\r\nCriteria firstOrCriteria = new Criteria().orOperator(\r\n    Criteria.where(&quot;field1&quot;).is(&quot;value1&quot;),\r\n    Criteria.where(&quot;field2&quot;).is(&quot;value2&quot;));\r\n\r\nCriteria secondOrCriteria = new Criteria().orOperator(\r\n    Criteria.where(&quot;field3&quot;).is(&quot;value3&quot;),\r\n    Criteria.where(&quot;field3&quot;).is(null),\r\n    Criteria.where(&quot;field3&quot;).exists(true));\r\n\r\nCriteria andCriteria = new Criteria().andOperator(firstOrCriteria, secondOrCriteria);\r\n\r\nQuery query = new Query(andCriteria);\r\n```","title":"Spring MongoDB - write a query with multiple $or conditions","body":"<p>You can try with this piece of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Criteria firstOrCriteria = new Criteria().orOperator(\n    Criteria.where(&quot;field1&quot;).is(&quot;value1&quot;),\n    Criteria.where(&quot;field2&quot;).is(&quot;value2&quot;));\n\nCriteria secondOrCriteria = new Criteria().orOperator(\n    Criteria.where(&quot;field3&quot;).is(&quot;value3&quot;),\n    Criteria.where(&quot;field3&quot;).is(null),\n    Criteria.where(&quot;field3&quot;).exists(true));\n\nCriteria andCriteria = new Criteria().andOperator(firstOrCriteria, secondOrCriteria);\n\nQuery query = new Query(andCriteria);\n</code></pre>\n"}],"owner":{"account_id":1907716,"reputation":3402,"user_id":1722236,"accept_rate":89,"display_name":"Olivier Tonglet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75121688,"answer_count":1,"score":0,"last_activity_date":1673735363,"creation_date":1673618959,"question_id":75110300,"body_markdown":"For an assignment I have to write a query with multiple OR conditions.\r\n\r\nIf I had to write it using MongoDB Query Language it would be trivial\r\n\r\n    { $and : [ \r\n      { $or : [ { &quot;field1&quot; : &quot;value1&quot; }, { &quot;field2&quot; : &quot;value2&quot; } ] }, \r\n      { $or : [ { &quot;field3&quot; : &quot;value3&quot; }, { &quot;field3&quot; : null }, { &quot;field3&quot; : { $exists : true }} ] } \r\n    ] }\r\n\r\n**I there a way to achieve this using Spring MongoDB ?**\r\n\r\nI tried\r\n\r\n    Query query = new Query();\r\n    query.addCriteria(new Criteria().orOperator(\r\n      Criteria.where(&quot;field1&quot;).is(&quot;value1&quot;),\r\n      Criteria.where(&quot;field2&quot;).is(&quot;value2&quot;),\r\n    ));\r\n    query.addCriteria(new Criteria().orOperator(\r\n      Criteria.where(&quot;field3&quot;).is(&quot;value3&quot;),\r\n      Criteria.where(&quot;field3&quot;).is(null),\r\n      Criteria.where(&quot;field3&quot;).exists(false),\r\n    ));\r\n\r\nand also tried\r\n\r\n    Query query = new Query();\r\n    query.addCriteria(\r\n      Criteria.where(&quot;field3&quot;).is(&quot;value3&quot;)\r\n      .orOperator(Criteria.where(&quot;field3&quot;).is(null))\r\n      .orOperator(Criteria.where(&quot;field3&quot;).exists(false))\r\n      .andOperator(\r\n         Criteria.where(&quot;field1&quot;).is(&quot;value1&quot;)\r\n         .orOperator(Criteria.where(&quot;field2&quot;).is(&quot;value2&quot;))\r\n    );\r\n\r\nI get the following message when trying to execute either queries.  \r\n\r\n&gt; Due to limitations of the com.mongodb.BasicDocument, you can&#39;t add a\r\n&gt; second &#39;$or&#39; expression specified as [...]\r\n\r\nAny help would be greatly appreciated.","title":"Spring MongoDB - write a query with multiple $or conditions","body":"<p>For an assignment I have to write a query with multiple OR conditions.</p>\n<p>If I had to write it using MongoDB Query Language it would be trivial</p>\n<pre><code>{ $and : [ \n  { $or : [ { &quot;field1&quot; : &quot;value1&quot; }, { &quot;field2&quot; : &quot;value2&quot; } ] }, \n  { $or : [ { &quot;field3&quot; : &quot;value3&quot; }, { &quot;field3&quot; : null }, { &quot;field3&quot; : { $exists : true }} ] } \n] }\n</code></pre>\n<p><strong>I there a way to achieve this using Spring MongoDB ?</strong></p>\n<p>I tried</p>\n<pre><code>Query query = new Query();\nquery.addCriteria(new Criteria().orOperator(\n  Criteria.where(&quot;field1&quot;).is(&quot;value1&quot;),\n  Criteria.where(&quot;field2&quot;).is(&quot;value2&quot;),\n));\nquery.addCriteria(new Criteria().orOperator(\n  Criteria.where(&quot;field3&quot;).is(&quot;value3&quot;),\n  Criteria.where(&quot;field3&quot;).is(null),\n  Criteria.where(&quot;field3&quot;).exists(false),\n));\n</code></pre>\n<p>and also tried</p>\n<pre><code>Query query = new Query();\nquery.addCriteria(\n  Criteria.where(&quot;field3&quot;).is(&quot;value3&quot;)\n  .orOperator(Criteria.where(&quot;field3&quot;).is(null))\n  .orOperator(Criteria.where(&quot;field3&quot;).exists(false))\n  .andOperator(\n     Criteria.where(&quot;field1&quot;).is(&quot;value1&quot;)\n     .orOperator(Criteria.where(&quot;field2&quot;).is(&quot;value2&quot;))\n);\n</code></pre>\n<p>I get the following message when trying to execute either queries.</p>\n<blockquote>\n<p>Due to limitations of the com.mongodb.BasicDocument, you can't add a\nsecond '$or' expression specified as [...]</p>\n</blockquote>\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1673723979,"post_id":75120583,"comment_id":132563680,"body_markdown":"HashSet depends on equals and hashcode but arrays don&#39;t override those methods. Instead they inherit them from java.lang.Object which means it depends on objects *reference* rather than *content*. Solution depends on what you want and are willing to do. You can for instance start using Lists instead of arrays, they override `equals` and `hashcode` properly. OR you could create your own class like `Row` which will wrap `int[]` array and provide implementation for equals/hashcode and use that with HashSet.","body":"HashSet depends on equals and hashcode but arrays don&#39;t override those methods. Instead they inherit them from java.lang.Object which means it depends on objects <i>reference</i> rather than <i>content</i>. Solution depends on what you want and are willing to do. You can for instance start using Lists instead of arrays, they override <code>equals</code> and <code>hashcode</code> properly. OR you could create your own class like <code>Row</code> which will wrap <code>int[]</code> array and provide implementation for equals/hashcode and use that with HashSet."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1673724043,"post_id":75120583,"comment_id":132563696,"body_markdown":"You can also use TreeSet instead of HashSet and provide Comparator which for equal arrays will return 0, and negative/positive arrays if one will be *smaller/bigger* than other.","body":"You can also use TreeSet instead of HashSet and provide Comparator which for equal arrays will return 0, and negative/positive arrays if one will be <i>smaller/bigger</i> than other."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1673724502,"post_id":75120583,"comment_id":132563790,"body_markdown":"(fix) &quot;...and negative/positive [number] if one will be *smaller/bigger* than other.&quot;","body":"(fix) &quot;...and negative/positive [number] if one will be <i>smaller/bigger</i> than other.&quot;"},{"owner":{"account_id":14940264,"reputation":161,"user_id":10787157,"display_name":"BJagger"},"score":0,"creation_date":1673724506,"post_id":75120583,"comment_id":132563791,"body_markdown":"Ok, I checked right now and it looks like there are two implementations of equals in the Arrays class: static provided by Arrays itself; which acts as I thought - comparing elements and length and equals inherited from Object which acts just like == operator. Thx I will try with TreeSet : )","body":"Ok, I checked right now and it looks like there are two implementations of equals in the Arrays class: static provided by Arrays itself; which acts as I thought - comparing elements and length and equals inherited from Object which acts just like == operator. Thx I will try with TreeSet : )"}],"answers":[{"tags":[],"owner":{"account_id":14940264,"reputation":161,"user_id":10787157,"display_name":"BJagger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673726996,"creation_date":1673726996,"answer_id":75120934,"question_id":75120583,"body_markdown":"Ok, I&#39;ve changed my solution as @Pshemo pointed out (thank you :)\r\n```\r\npublic static void main(String[] args) {\r\n        int[][] ms;\r\n\r\n        ms = new int[][] {{1, 2, 3, 4},\r\n                {3, 1, 4, 2},\r\n                {4, 3, 2, 1},\r\n                {2, 4, 1, 3}};\r\n        System.out.println(count_different_matrices(ms));\r\n    }\r\n    \r\n    private static final Set&lt;Row&gt; registeredM = new HashSet&lt;&gt;();\r\n    static public int count_different_matrices(int[][] matrices) {\r\n        registeredM.clear();\r\n        Arrays.stream(matrices).forEach(m -&gt; {\r\n        if(unwrapPossibleMatrices(m).stream().noneMatch(registeredM::contains)) {\r\n            registeredM.add(new Row(m));\r\n\r\n        }});\r\n        registeredM.forEach(e -&gt; System.out.println(Arrays.toString(e.row())));\r\n        return registeredM.size();\r\n    }\r\n\r\n    private static List&lt;Row&gt; unwrapPossibleMatrices(int[] m) {\r\n        return Arrays.asList(\r\n                new Row(m), \r\n                new Row(new int[]{m[2], m[0], m[3], m[1]}), \r\n                new Row(new int[]{m[3], m[2], m[1], m[0]}), \r\n                new Row(new int[]{m[1], m[3], m[0], m[2]})\r\n        );\r\n    }\r\n\r\n    record Row(int[] row) {\r\n        @Override\r\n        public int hashCode() {\r\n            return Arrays.hashCode(row);\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Row row1 = (Row) o;\r\n            return Arrays.equals(row, row1.row);\r\n        }\r\n    }\r\n``` ","title":"I try to compare two Collections of int arrays and I&#39;ve got results which origin I don&#39;t understand","body":"<p>Ok, I've changed my solution as @Pshemo pointed out (thank you :)</p>\n<pre><code>public static void main(String[] args) {\n        int[][] ms;\n\n        ms = new int[][] {{1, 2, 3, 4},\n                {3, 1, 4, 2},\n                {4, 3, 2, 1},\n                {2, 4, 1, 3}};\n        System.out.println(count_different_matrices(ms));\n    }\n    \n    private static final Set&lt;Row&gt; registeredM = new HashSet&lt;&gt;();\n    static public int count_different_matrices(int[][] matrices) {\n        registeredM.clear();\n        Arrays.stream(matrices).forEach(m -&gt; {\n        if(unwrapPossibleMatrices(m).stream().noneMatch(registeredM::contains)) {\n            registeredM.add(new Row(m));\n\n        }});\n        registeredM.forEach(e -&gt; System.out.println(Arrays.toString(e.row())));\n        return registeredM.size();\n    }\n\n    private static List&lt;Row&gt; unwrapPossibleMatrices(int[] m) {\n        return Arrays.asList(\n                new Row(m), \n                new Row(new int[]{m[2], m[0], m[3], m[1]}), \n                new Row(new int[]{m[3], m[2], m[1], m[0]}), \n                new Row(new int[]{m[1], m[3], m[0], m[2]})\n        );\n    }\n\n    record Row(int[] row) {\n        @Override\n        public int hashCode() {\n            return Arrays.hashCode(row);\n        }\n\n        @Override\n        public boolean equals(Object o) {\n            if (this == o) return true;\n            if (o == null || getClass() != o.getClass()) return false;\n            Row row1 = (Row) o;\n            return Arrays.equals(row, row1.row);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":14940264,"reputation":161,"user_id":10787157,"display_name":"BJagger"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673734627,"creation_date":1673723413,"question_id":75120583,"body_markdown":"I am solving this kata on Codewars: https://www.codewars.com/kata/635fc0497dadea0030cb7936\r\nthis is my code:\r\n```\r\n    public static void main(String[] args) {\r\n        int[][] ms;\r\n\r\n        ms = new int[][] {{1, 2, 3, 4},\r\n                {3, 1, 4, 2},\r\n                {4, 3, 2, 1},\r\n                {2, 4, 1, 3}};\r\n        System.out.println(count_different_matrices(ms));\r\n    }\r\n\r\n\r\n    private static final Set&lt;int[]&gt; registeredM = new HashSet&lt;&gt;();\r\n    static public int count_different_matrices(int[][] matrices) {\r\n        Arrays.stream(matrices).forEach(m -&gt; {\r\n        if(unwrapPossibleMatrices(m).stream().noneMatch(registeredM::contains)) {\r\n            registeredM.add(m);\r\n\r\n        }});\r\n        registeredM.forEach(e -&gt; System.out.println(Arrays.toString(e)));\r\n        return registeredM.size();\r\n    }\r\n\r\n    static private List&lt;int[]&gt; unwrapPossibleMatrices(int[] m) {\r\n        return Arrays.asList(new int[][]{\r\n                m,\r\n                {m[2], m[0], m[3], m[1]},\r\n                {m[3], m[2], m[1], m[0]},\r\n                {m[1], m[3], m[0], m[2]}\r\n        });\r\n    }\r\n```\r\nOutput received in the console: \r\n```\r\n[1, 2, 3, 4]\r\n[2, 4, 1, 3]\r\n[4, 3, 2, 1]\r\n[3, 1, 4, 2]\r\n4\r\n```\r\nI expected output of only `[1, 2, 3, 4]`, My train of thought was that `contains()` should invoke `a.equals(b)` where `a` and `b` in this example is of type `int[]` and when they will be compared by equals - it will check if length and elements in the arrays match. Instead what happened (I think) was that address of the object was checked - thus, giving different results for arrays with the same elements. My question is the following: how to modify this code to check actual elements passed in arrays?  ","title":"I try to compare two Collections of int arrays and I&#39;ve got results which origin I don&#39;t understand","body":"<p>I am solving this kata on Codewars: <a href=\"https://www.codewars.com/kata/635fc0497dadea0030cb7936\" rel=\"nofollow noreferrer\">https://www.codewars.com/kata/635fc0497dadea0030cb7936</a>\nthis is my code:</p>\n<pre><code>    public static void main(String[] args) {\n        int[][] ms;\n\n        ms = new int[][] {{1, 2, 3, 4},\n                {3, 1, 4, 2},\n                {4, 3, 2, 1},\n                {2, 4, 1, 3}};\n        System.out.println(count_different_matrices(ms));\n    }\n\n\n    private static final Set&lt;int[]&gt; registeredM = new HashSet&lt;&gt;();\n    static public int count_different_matrices(int[][] matrices) {\n        Arrays.stream(matrices).forEach(m -&gt; {\n        if(unwrapPossibleMatrices(m).stream().noneMatch(registeredM::contains)) {\n            registeredM.add(m);\n\n        }});\n        registeredM.forEach(e -&gt; System.out.println(Arrays.toString(e)));\n        return registeredM.size();\n    }\n\n    static private List&lt;int[]&gt; unwrapPossibleMatrices(int[] m) {\n        return Arrays.asList(new int[][]{\n                m,\n                {m[2], m[0], m[3], m[1]},\n                {m[3], m[2], m[1], m[0]},\n                {m[1], m[3], m[0], m[2]}\n        });\n    }\n</code></pre>\n<p>Output received in the console:</p>\n<pre><code>[1, 2, 3, 4]\n[2, 4, 1, 3]\n[4, 3, 2, 1]\n[3, 1, 4, 2]\n4\n</code></pre>\n<p>I expected output of only <code>[1, 2, 3, 4]</code>, My train of thought was that <code>contains()</code> should invoke <code>a.equals(b)</code> where <code>a</code> and <code>b</code> in this example is of type <code>int[]</code> and when they will be compared by equals - it will check if length and elements in the arrays match. Instead what happened (I think) was that address of the object was checked - thus, giving different results for arrays with the same elements. My question is the following: how to modify this code to check actual elements passed in arrays?</p>\n"},{"tags":["java","spring","spring-boot","authentication","spring-security"],"comments":[{"owner":{"account_id":4032983,"reputation":2269,"user_id":4165604,"display_name":"P&#228;r Nilsson"},"score":1,"creation_date":1495623600,"post_id":44155608,"comment_id":75329208,"body_markdown":"To clarify, do you want the first session to be invalidated?","body":"To clarify, do you want the first session to be invalidated?"},{"owner":{"account_id":10590948,"reputation":555,"user_id":7801546,"accept_rate":58,"display_name":"Durga"},"score":0,"creation_date":1495623678,"post_id":44155608,"comment_id":75329274,"body_markdown":"@P&#228;r Nilsson:Yes.","body":"@P&#228;r Nilsson:Yes."}],"answers":[{"comments":[{"owner":{"account_id":10590948,"reputation":555,"user_id":7801546,"accept_rate":58,"display_name":"Durga"},"score":0,"creation_date":1495625367,"post_id":44156095,"comment_id":75330412,"body_markdown":"i solved it, i am getting null values in `sessionregistory`, now how to implement session timeout in my code?","body":"i solved it, i am getting null values in <code>sessionregistory</code>, now how to implement session timeout in my code?"},{"owner":{"account_id":4032983,"reputation":2269,"user_id":4165604,"display_name":"P&#228;r Nilsson"},"score":0,"creation_date":1495627274,"post_id":44156095,"comment_id":75331844,"body_markdown":"You can set it in `aplication.properties` see my edit","body":"You can set it in <code>aplication.properties</code> see my edit"},{"owner":{"account_id":10590948,"reputation":555,"user_id":7801546,"accept_rate":58,"display_name":"Durga"},"score":0,"creation_date":1495627398,"post_id":44156095,"comment_id":75331920,"body_markdown":"Not working i tried `server.session.timeout` and `server.session-timeout`","body":"Not working i tried <code>server.session.timeout</code> and <code>server.session-timeout</code>"},{"owner":{"account_id":4032983,"reputation":2269,"user_id":4165604,"display_name":"P&#228;r Nilsson"},"score":0,"creation_date":1495627771,"post_id":44156095,"comment_id":75332195,"body_markdown":"are you using an embedded server/container?","body":"are you using an embedded server/container?"},{"owner":{"account_id":10590948,"reputation":555,"user_id":7801546,"accept_rate":58,"display_name":"Durga"},"score":0,"creation_date":1495628327,"post_id":44156095,"comment_id":75332671,"body_markdown":"embedded server, spring boot have tomcat default na?","body":"embedded server, spring boot have tomcat default na?"}],"tags":[],"owner":{"account_id":4032983,"reputation":2269,"user_id":4165604,"display_name":"P&#228;r Nilsson"},"comment_count":5,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1673734026,"creation_date":1495622704,"answer_id":44156095,"question_id":44155608,"body_markdown":"Remove your `httpSessionEventPublisher` and `SessionRegistry`\r\n\r\nTry this config:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n      http\r\n          .authorizeRequests()\r\n              .antMatchers(&quot;/&quot;, &quot;/forgotPwd&quot;, &quot;/resetPwd&quot;).permitAll()\r\n              .anyRequest().authenticated()\r\n              .and()\r\n          .formLogin()\r\n             .loginPage(&quot;/login&quot;)\r\n             .defaultSuccessUrl(&quot;/home&quot;)\r\n             .failureUrl(&quot;/login?error&quot;)\r\n             .permitAll()\r\n             .and()\r\n          .sessionManagement()\r\n             .maximumSessions(1);\r\n    }\r\n\r\nYou can set the session timout in the `application.properties`\r\n\r\n    server.session.timeout= # Session timeout in seconds.","title":"Disable multiple logins for same user in spring security + spring boot","body":"<p>Remove your <code>httpSessionEventPublisher</code> and <code>SessionRegistry</code></p>\n<p>Try this config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n  http\n      .authorizeRequests()\n          .antMatchers(&quot;/&quot;, &quot;/forgotPwd&quot;, &quot;/resetPwd&quot;).permitAll()\n          .anyRequest().authenticated()\n          .and()\n      .formLogin()\n         .loginPage(&quot;/login&quot;)\n         .defaultSuccessUrl(&quot;/home&quot;)\n         .failureUrl(&quot;/login?error&quot;)\n         .permitAll()\n         .and()\n      .sessionManagement()\n         .maximumSessions(1);\n}\n</code></pre>\n<p>You can set the session timout in the <code>application.properties</code></p>\n<pre><code>server.session.timeout= # Session timeout in seconds.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10590948,"reputation":555,"user_id":7801546,"accept_rate":58,"display_name":"Durga"},"score":0,"creation_date":1495622950,"post_id":44156161,"comment_id":75328787,"body_markdown":"What is the meaning of `deleteCookies(...)`","body":"What is the meaning of <code>deleteCookies(...)</code>"},{"owner":{"account_id":8275306,"reputation":2293,"user_id":6221731,"display_name":"Emil Hotkowski"},"score":0,"creation_date":1495623043,"post_id":44156161,"comment_id":75328853,"body_markdown":"Check if there are any cookies which are created on login in. If there are, just remove them. First try to add &#39;invalidHttpSession&#39;.","body":"Check if there are any cookies which are created on login in. If there are, just remove them. First try to add &#39;invalidHttpSession&#39;."},{"owner":{"account_id":10590948,"reputation":555,"user_id":7801546,"accept_rate":58,"display_name":"Durga"},"score":0,"creation_date":1495623652,"post_id":44156161,"comment_id":75329250,"body_markdown":"Just now i closed the tab without `logout`. And trying to `login` in another browser but not `logging`","body":"Just now i closed the tab without <code>logout</code>. And trying to <code>login</code> in another browser but not <code>logging</code>"},{"owner":{"account_id":8275306,"reputation":2293,"user_id":6221731,"display_name":"Emil Hotkowski"},"score":0,"creation_date":1495624311,"post_id":44156161,"comment_id":75329654,"body_markdown":"@Druga https://stackoverflow.com/questions/16272137/how-to-end-sessions-automatically-if-user-closes-the-browser","body":"@Druga <a href=\"https://stackoverflow.com/questions/16272137/how-to-end-sessions-automatically-if-user-closes-the-browser\" title=\"how to end sessions automatically if user closes the browser\">stackoverflow.com/questions/16272137/&hellip;</a>"},{"owner":{"account_id":10590948,"reputation":555,"user_id":7801546,"accept_rate":58,"display_name":"Durga"},"score":0,"creation_date":1495624565,"post_id":44156161,"comment_id":75329821,"body_markdown":"but i am not using `.xml` files. i am using spring boot","body":"but i am not using <code>.xml</code> files. i am using spring boot"},{"owner":{"account_id":8275306,"reputation":2293,"user_id":6221731,"display_name":"Emil Hotkowski"},"score":0,"creation_date":1495624692,"post_id":44156161,"comment_id":75329915,"body_markdown":"@Druga it is the same but just put it in Application Properties https://stackoverflow.com/questions/29128277/springboot-app-session-timeout","body":"@Druga it is the same but just put it in Application Properties <a href=\"https://stackoverflow.com/questions/29128277/springboot-app-session-timeout\" title=\"springboot app session timeout\">stackoverflow.com/questions/29128277/&hellip;</a>"},{"owner":{"account_id":10590948,"reputation":555,"user_id":7801546,"accept_rate":58,"display_name":"Durga"},"score":0,"creation_date":1495625104,"post_id":44156161,"comment_id":75330215,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/145013/discussion-between-durga-and-rjiuk).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/145013/discussion-between-durga-and-rjiuk\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":8275306,"reputation":2293,"user_id":6221731,"display_name":"Emil Hotkowski"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495623050,"creation_date":1495622881,"answer_id":44156161,"question_id":44155608,"body_markdown":"You should try to invalid user session on logout with and/or delete cookies if you have one.\r\n\r\n    .logout().deleteCookies(...).invalidateHttpSession(true)","title":"Disable multiple logins for same user in spring security + spring boot","body":"<p>You should try to invalid user session on logout with and/or delete cookies if you have one.</p>\n\n<pre><code>.logout().deleteCookies(...).invalidateHttpSession(true)\n</code></pre>\n"}],"owner":{"account_id":10590948,"reputation":555,"user_id":7801546,"accept_rate":58,"display_name":"Durga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14267,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1673734026,"creation_date":1495621332,"question_id":44155608,"body_markdown":"I have the below Spring Security configuration:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    static SessionRegistry SR;\r\n    @Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n    \t\t.authorizeRequests()\r\n\t\t        .antMatchers(&quot;/&quot;, &quot;/forgotPwd&quot;, &quot;/resetPwd&quot;).permitAll()\r\n\t\t        .anyRequest().authenticated()\r\n                .and()\r\n            .formLogin()\r\n                .loginPage(&quot;/login&quot;)\r\n          \t\t.defaultSuccessUrl(&quot;/home&quot;)\r\n                .failureUrl(&quot;/login?error&quot;)\r\n                .permitAll()\r\n\t\t        .successHandler(authenticationSuccessHandler) // autowired or defined below\r\n        \t\t.and()\r\n            .logout()\r\n        \t\t.logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n\t\t        .logoutSuccessHandler(myLogoutSuccessHandler)\r\n        \t\t.permitAll()\r\n\t\t        .and()\r\n            .sessionManagement()\r\n                .maximumSessions(1)\r\n                .maxSessionsPreventsLogin(true)\r\n                .sessionRegistry(SR);\r\n    }\r\n\r\n    @Bean\r\n    public ServletListenerRegistrationBean&lt;HttpSessionEventPublisher&gt; httpSessionEventPublisher() {\r\n        return new ServletListenerRegistrationBean&lt;HttpSessionEventPublisher&gt;(new HttpSessionEventPublisher());\r\n    }\r\n\r\nI was expecting `sessionManagement().maximumSessions(1)` to disable multiple login for the same user. It is working, but first user `logout` the application, so I am trying login in another browser but it showing `This account is already using by someone`.\r\n\r\nKindly request you to let me know where its going wrong.\r\n","title":"Disable multiple logins for same user in spring security + spring boot","body":"<p>I have the below Spring Security configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static SessionRegistry SR;\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http\n        .authorizeRequests()\n            .antMatchers(&quot;/&quot;, &quot;/forgotPwd&quot;, &quot;/resetPwd&quot;).permitAll()\n            .anyRequest().authenticated()\n            .and()\n        .formLogin()\n            .loginPage(&quot;/login&quot;)\n            .defaultSuccessUrl(&quot;/home&quot;)\n            .failureUrl(&quot;/login?error&quot;)\n            .permitAll()\n            .successHandler(authenticationSuccessHandler) // autowired or defined below\n            .and()\n        .logout()\n            .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n            .logoutSuccessHandler(myLogoutSuccessHandler)\n            .permitAll()\n            .and()\n        .sessionManagement()\n            .maximumSessions(1)\n            .maxSessionsPreventsLogin(true)\n            .sessionRegistry(SR);\n}\n\n@Bean\npublic ServletListenerRegistrationBean&lt;HttpSessionEventPublisher&gt; httpSessionEventPublisher() {\n    return new ServletListenerRegistrationBean&lt;HttpSessionEventPublisher&gt;(new HttpSessionEventPublisher());\n}\n</code></pre>\n<p>I was expecting <code>sessionManagement().maximumSessions(1)</code> to disable multiple login for the same user. It is working, but first user <code>logout</code> the application, so I am trying login in another browser but it showing <code>This account is already using by someone</code>.</p>\n<p>Kindly request you to let me know where its going wrong.</p>\n"},{"tags":["java","sql","database","jpa","eclipselink"],"comments":[{"owner":{"account_id":1668809,"reputation":5077,"user_id":1535679,"accept_rate":100,"display_name":"Stanley"},"score":0,"creation_date":1354509348,"post_id":13677165,"comment_id":18774967,"body_markdown":"Any other table has relationship with LogResult table?","body":"Any other table has relationship with LogResult table?"},{"owner":{"account_id":96393,"reputation":23995,"user_id":262022,"accept_rate":87,"display_name":"radai"},"score":0,"creation_date":1354509372,"post_id":13677165,"comment_id":18774975,"body_markdown":"is the relationship bi-directional ? does LogResult have a @ManyToOne getDashboard()?","body":"is the relationship bi-directional ? does LogResult have a @ManyToOne getDashboard()?"},{"owner":{"account_id":8074,"reputation":44073,"user_id":14316,"accept_rate":53,"display_name":"pdeva"},"score":0,"creation_date":1354519406,"post_id":13677165,"comment_id":18777634,"body_markdown":"@radai: No. LogResult has no annotation on the &#39;dashboard&#39; field.","body":"@radai: No. LogResult has no annotation on the &#39;dashboard&#39; field."},{"owner":{"account_id":8074,"reputation":44073,"user_id":14316,"accept_rate":53,"display_name":"pdeva"},"score":0,"creation_date":1354519988,"post_id":13677165,"comment_id":18777830,"body_markdown":"@Stanley no. only dashboard.","body":"@Stanley no. only dashboard."},{"owner":{"account_id":558023,"reputation":17978,"user_id":920607,"accept_rate":89,"display_name":"Piotr Nowicki"},"score":0,"creation_date":1354534529,"post_id":13677165,"comment_id":18783237,"body_markdown":"Do you have many-to-one relationship on the `LogResult` side? There is no annotation in the presented code. Is it present in `orm.xml`?","body":"Do you have many-to-one relationship on the <code>LogResult</code> side? There is no annotation in the presented code. Is it present in <code>orm.xml</code>?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1354540402,"post_id":13677165,"comment_id":18785810,"body_markdown":"Have you maintained both sides of the bidirectional relationship?  Remove can only cascade over logResults that dashboard references.   If that&#39;s not the case, turn logging on and remove the constraint if possible to see all the SQL for the transaction since it might help show what is going wrong","body":"Have you maintained both sides of the bidirectional relationship?  Remove can only cascade over logResults that dashboard references.   If that&#39;s not the case, turn logging on and remove the constraint if possible to see all the SQL for the transaction since it might help show what is going wrong"},{"owner":{"account_id":82370,"reputation":1477,"user_id":231645,"accept_rate":58,"display_name":"NBW"},"score":0,"creation_date":1362698915,"post_id":13677165,"comment_id":21565696,"body_markdown":"@pdeva if the relationship is not bi-directional then LogResult should not even contain a dashboard field. If it should contain it then you have modeled a bi-directional relationship and you should annotate things as such","body":"@pdeva if the relationship is not bi-directional then LogResult should not even contain a dashboard field. If it should contain it then you have modeled a bi-directional relationship and you should annotate things as such"},{"owner":{"account_id":131119,"reputation":28741,"user_id":330889,"accept_rate":89,"display_name":"Pedro Rolo"},"score":0,"creation_date":1385070034,"post_id":13677165,"comment_id":30004042,"body_markdown":"I have exactly the same problem here. also using mysql","body":"I have exactly the same problem here. also using mysql"}],"answers":[{"comments":[{"owner":{"account_id":1885169,"reputation":34027,"user_id":1704529,"display_name":"Yogendra Singh"},"score":0,"creation_date":1354509473,"post_id":13677205,"comment_id":18774994,"body_markdown":"@Vikdor: I was updating the answer already. Check the updated answer.","body":"@Vikdor: I was updating the answer already. Check the updated answer."},{"owner":{"account_id":86297,"reputation":23984,"user_id":240078,"accept_rate":58,"display_name":"Vikdor"},"score":0,"creation_date":1354509882,"post_id":13677205,"comment_id":18775092,"body_markdown":"cool, thanks! Is this something specific to JPA2 / EclipseLink?","body":"cool, thanks! Is this something specific to JPA2 / EclipseLink?"},{"owner":{"account_id":8074,"reputation":44073,"user_id":14316,"accept_rate":53,"display_name":"pdeva"},"score":2,"creation_date":1354519544,"post_id":13677205,"comment_id":18777687,"body_markdown":"there is no CascadeType.DELETE_ORPHAN in jpa. I am already using &quot;orphanRemoval = true&quot; in the annotation, as shown in the original question","body":"there is no CascadeType.DELETE_ORPHAN in jpa. I am already using &quot;orphanRemoval = true&quot; in the annotation, as shown in the original question"},{"owner":{"account_id":558023,"reputation":17978,"user_id":920607,"accept_rate":89,"display_name":"Piotr Nowicki"},"score":0,"creation_date":1354534447,"post_id":13677205,"comment_id":18783199,"body_markdown":"`CascadeType.DELETE_ORPHAN` is Hibernate proprietary solution. OP is using EclipseLink.","body":"<code>CascadeType.DELETE_ORPHAN</code> is Hibernate proprietary solution. OP is using EclipseLink."}],"tags":[],"owner":{"account_id":1885169,"reputation":34027,"user_id":1704529,"display_name":"Yogendra Singh"},"comment_count":4,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1354509376,"creation_date":1354509376,"answer_id":13677205,"question_id":13677165,"body_markdown":"Explicitly add `cascade = CascadeType.DELETE_ORPHAN` as well. When parent entity is deleted first, all the child objects become orphan. `CascadeType.DELETE_ORPHAN` cascade type makes JPA to remove those orphan objects.\r\n\r\ne.g. below:\r\n\r\n       @OneToMany(cascade={CascadeType.ALL, CascadeType.DELETE_ORPHAN})","title":"JPA - Cannot delete row due to foreign key constraint","body":"<p>Explicitly add <code>cascade = CascadeType.DELETE_ORPHAN</code> as well. When parent entity is deleted first, all the child objects become orphan. <code>CascadeType.DELETE_ORPHAN</code> cascade type makes JPA to remove those orphan objects.</p>\n\n<p>e.g. below:</p>\n\n<pre><code>   @OneToMany(cascade={CascadeType.ALL, CascadeType.DELETE_ORPHAN})\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1698675,"reputation":8901,"user_id":1559401,"accept_rate":83,"display_name":"rbaleksandar"},"score":1,"creation_date":1443718362,"post_id":13713427,"comment_id":53615251,"body_markdown":"For real now...Simply posting a link big fat web page (didn&#39;t even bother to give a specific location on it) is definitely not an answer that is of good quality on Stackoverflow.","body":"For real now...Simply posting a link big fat web page (didn&#39;t even bother to give a specific location on it) is definitely not an answer that is of good quality on Stackoverflow."}],"tags":[],"owner":{"account_id":267801,"reputation":41,"user_id":556182,"display_name":"ricks99"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1354661622,"creation_date":1354661622,"answer_id":13713427,"question_id":13677165,"body_markdown":"For EclipseLink implementation, see the EclispeLink JPA Extensions guide: http://eclipse.org/eclipselink/documentation/2.4/jpa/extensions/toc.htm","title":"JPA - Cannot delete row due to foreign key constraint","body":"<p>For EclipseLink implementation, see the EclispeLink JPA Extensions guide: <a href=\"http://eclipse.org/eclipselink/documentation/2.4/jpa/extensions/toc.htm\" rel=\"nofollow\">http://eclipse.org/eclipselink/documentation/2.4/jpa/extensions/toc.htm</a></p>\n"}],"owner":{"account_id":8074,"reputation":44073,"user_id":14316,"accept_rate":53,"display_name":"pdeva"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7841,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1673733705,"creation_date":1354509110,"question_id":13677165,"body_markdown":"I am using JPA2 (EclipseLink) and my entity objects look like this:\r\n\r\n    @Entity\r\n    public class Dashboard\r\n    {\r\n    \t@Id\r\n    \tprivate String name;\r\n    \r\n    \t@OneToMany(cascade = CascadeType.ALL, mappedBy=&quot;dashboard&quot;, orphanRemoval = true)\r\n    \tprivate List&lt;LogResult&gt; logResults;\r\n    \r\n        //getter-setters\r\n    }\r\n\r\n    @Entity\r\n    public class LogResult\r\n    {\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.TABLE)\r\n    \tprivate long id;\r\n            \r\n        private Dashboard dashboard;\r\n    \r\n        //getter-setters\r\n    }\r\n\r\nand I have code like this to delete a dashboard:\r\n\r\n    EntityManager em = PersistenceInitializer.newEntityManager();\r\n    em.getTransaction().begin();\r\n    em.remove(dashboard);\r\n    em.getTransaction().commit();\r\n\r\nHowever when I execute the code above, I get an error msg regarding a foreign key constraint on the logresult table.\r\n\r\nWhy is this so? Doesn&#39;t using CascadeType.ALL mean all that should be handled for me?\r\n\r\n**Update** here is the actual error output on the console \r\n\r\n    Internal Exception: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`crs`.`logresult`, CONSTRAINT `FK_LOGRESULT_DASHBOARD_NAME` FOREIGN KEY (`DASHBOARD_NAME`) REFERENCES `dashboard` (`NAME`))\r\n    Error Code: 1451","title":"JPA - Cannot delete row due to foreign key constraint","body":"<p>I am using JPA2 (EclipseLink) and my entity objects look like this:</p>\n\n<pre><code>@Entity\npublic class Dashboard\n{\n    @Id\n    private String name;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy=\"dashboard\", orphanRemoval = true)\n    private List&lt;LogResult&gt; logResults;\n\n    //getter-setters\n}\n\n@Entity\npublic class LogResult\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.TABLE)\n    private long id;\n\n    private Dashboard dashboard;\n\n    //getter-setters\n}\n</code></pre>\n\n<p>and I have code like this to delete a dashboard:</p>\n\n<pre><code>EntityManager em = PersistenceInitializer.newEntityManager();\nem.getTransaction().begin();\nem.remove(dashboard);\nem.getTransaction().commit();\n</code></pre>\n\n<p>However when I execute the code above, I get an error msg regarding a foreign key constraint on the logresult table.</p>\n\n<p>Why is this so? Doesn't using CascadeType.ALL mean all that should be handled for me?</p>\n\n<p><strong>Update</strong> here is the actual error output on the console </p>\n\n<pre><code>Internal Exception: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`crs`.`logresult`, CONSTRAINT `FK_LOGRESULT_DASHBOARD_NAME` FOREIGN KEY (`DASHBOARD_NAME`) REFERENCES `dashboard` (`NAME`))\nError Code: 1451\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4307476,"reputation":2427,"user_id":3519504,"display_name":"Sandeep Kumar"},"score":1,"creation_date":1577436344,"post_id":59498106,"comment_id":105169201,"body_markdown":"can you share the link of the problem?","body":"can you share the link of the problem?"},{"owner":{"account_id":4097010,"reputation":19107,"user_id":3363481,"display_name":"earthw0rmjim"},"score":1,"creation_date":1577436402,"post_id":59498106,"comment_id":105169221,"body_markdown":"Your algorithm results in exponential time complexity, it&#39;s quite expensive. You simply have to come up with a better solution.","body":"Your algorithm results in exponential time complexity, it&#39;s quite expensive. You simply have to come up with a better solution."},{"owner":{"account_id":12455651,"reputation":81,"user_id":9432887,"display_name":"Varad Paralikar"},"score":1,"creation_date":1577436415,"post_id":59498106,"comment_id":105169228,"body_markdown":"Link to the problem https://www.hackerrank.com/challenges/mark-and-toys/problem?h_l=interview&amp;playlist_slugs%5B%5D=interview-preparation-kit&amp;playlist_slugs%5B%5D=sorting","body":"Link to the problem <a href=\"https://www.hackerrank.com/challenges/mark-and-toys/problem?h_l=interview&amp;playlist_slugs%5B%5D=interview-preparation-kit&amp;playlist_slugs%5B%5D=sorting\" rel=\"nofollow noreferrer\">hackerrank.com/challenges/mark-and-toys/&hellip;</a>"},{"owner":{"account_id":4097010,"reputation":19107,"user_id":3363481,"display_name":"earthw0rmjim"},"score":1,"creation_date":1577436545,"post_id":59498106,"comment_id":105169278,"body_markdown":"Hint for a more efficient solution: try sorting the `prices` array first.","body":"Hint for a more efficient solution: try sorting the <code>prices</code> array first."},{"owner":{"account_id":12455651,"reputation":81,"user_id":9432887,"display_name":"Varad Paralikar"},"score":1,"creation_date":1577436631,"post_id":59498106,"comment_id":105169293,"body_markdown":"Can a efficient backtracking approach be implemented for this problem ?","body":"Can a efficient backtracking approach be implemented for this problem ?"},{"owner":{"account_id":4097010,"reputation":19107,"user_id":3363481,"display_name":"earthw0rmjim"},"score":0,"creation_date":1577436824,"post_id":59498106,"comment_id":105169356,"body_markdown":"Look into dynamic programming and memoization.","body":"Look into dynamic programming and memoization."},{"owner":{"account_id":12455651,"reputation":81,"user_id":9432887,"display_name":"Varad Paralikar"},"score":0,"creation_date":1577436911,"post_id":59498106,"comment_id":105169382,"body_markdown":"Yep will do, dynamic programming will be a good idea for this one","body":"Yep will do, dynamic programming will be a good idea for this one"},{"owner":{"account_id":1120990,"reputation":1117,"user_id":1109301,"accept_rate":88,"display_name":"Kannan Thangadurai"},"score":0,"creation_date":1577436926,"post_id":59498106,"comment_id":105169392,"body_markdown":"You should allow dynamic input in your program..Are you using static input?","body":"You should allow dynamic input in your program..Are you using static input?"},{"owner":{"account_id":12455651,"reputation":81,"user_id":9432887,"display_name":"Varad Paralikar"},"score":0,"creation_date":1577437040,"post_id":59498106,"comment_id":105169421,"body_markdown":"Input provided is just for example, my solution is not working for large inputs such as a array having a large size","body":"Input provided is just for example, my solution is not working for large inputs such as a array having a large size"}],"answers":[{"comments":[{"owner":{"account_id":12455651,"reputation":81,"user_id":9432887,"display_name":"Varad Paralikar"},"score":0,"creation_date":1577438258,"post_id":59498473,"comment_id":105169838,"body_markdown":"yeah but I wanted to do it using backtracking technique","body":"yeah but I wanted to do it using backtracking technique"},{"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"score":1,"creation_date":1577438439,"post_id":59498473,"comment_id":105169901,"body_markdown":"Good to see people here doing competitive programming.","body":"Good to see people here doing competitive programming."}],"tags":[],"owner":{"account_id":4307476,"reputation":2427,"user_id":3519504,"display_name":"Sandeep Kumar"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1577438172,"creation_date":1577438172,"answer_id":59498473,"question_id":59498106,"body_markdown":"This seems to be working fine:\r\n\r\n\r\n    // Complete the maximumToys function below.\r\n    static int maximumToys(int[] prices, int k) {\r\n        Arrays.sort(prices);\r\n        int sum = 0;\r\n        int index = 0;\r\n        for(int i = 0; i &lt; prices.length; i++) {\r\n            sum+=prices[i];\r\n            index = i;\r\n            if(sum &gt; k) {\r\n                break;\r\n            }\r\n        }\r\n            \r\n        return index;\r\n\r\n    }","title":"Hackerrank Mark and Toys Question my solution not working for large input testcases","body":"<p>This seems to be working fine:</p>\n\n<pre><code>// Complete the maximumToys function below.\nstatic int maximumToys(int[] prices, int k) {\n    Arrays.sort(prices);\n    int sum = 0;\n    int index = 0;\n    for(int i = 0; i &lt; prices.length; i++) {\n        sum+=prices[i];\n        index = i;\n        if(sum &gt; k) {\n            break;\n        }\n    }\n\n    return index;\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16343246,"reputation":1472,"user_id":11803687,"display_name":"c8999c 3f964f64"},"score":1,"creation_date":1673872045,"post_id":75121545,"comment_id":132587056,"body_markdown":"Hello Abhay, could you please explain what this code does or how it solves the problem, or what approach it&#39;s using? Pure code snippets are usually not the best answers, even if the code works.","body":"Hello Abhay, could you please explain what this code does or how it solves the problem, or what approach it&#39;s using? Pure code snippets are usually not the best answers, even if the code works."}],"tags":[],"owner":{"account_id":7633945,"reputation":21,"user_id":5788066,"display_name":"Abhay kakade"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673733673,"creation_date":1673733673,"answer_id":75121545,"question_id":59498106,"body_markdown":"    package Scanarios;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    \r\n    public class Toys {\r\n    \t\r\n    public static void main(String[] args) {\r\n    \t\t\r\n    \t\tToys t=new Toys();\r\n    \t\tint[] a = {3,6,2,1,4,5};\r\n    \t\tint q=1;\r\n    \t\tint n=6;\r\n    \t\tArrayList&lt;Integer&gt; queries[]=new ArrayList[n];\r\n    \t\tArrayList&lt;Integer&gt; result=new ArrayList();\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; n; i++) {\r\n    \t\t\t queries[i] = new ArrayList&lt;Integer&gt;();\r\n    \t    }\r\n    \t\t\r\n    \t\tqueries[0].add(10);\r\n    \t\tqueries[0].add(2);\r\n    \t\tqueries[0].add(2);\r\n    \t\tqueries[0].add(5);\r\n  \r\n    \t\tresult=t.maximumToys(n,a,q,queries);\r\n    \t\tSystem.out.println(result);\r\n    \t}\r\n    \t\r\n    \t public ArrayList&lt;Integer&gt; maximumToys(int n, int a[], int q, ArrayList&lt;Integer&gt; queries[]) {\r\n    \t        \r\n    \t\t ArrayList&lt;Integer&gt; arrlist=new ArrayList();\r\n    \t        for(int z=0;z&lt;q;z++) {\r\n    \t        \tint[] arr=queries[z].stream().mapToInt(i -&gt; i).toArray();\r\n    \t        \tint cost=arr[0];\r\n    \t        \tint k=arr[1];\r\n    \t        \tint count=0;\r\n    \t        \tint[] proxyarr=new int[n-1];\r\n    \t        \tproxyarr =removeBrokenPrice(a,arr,k);\r\n    \t        \tArrays.sort(proxyarr);\r\n    \r\n    \t        \tfor(int i=0;i&lt; proxyarr.length;i++) {\t        \t\t\t\r\n    \t        \t\t\t\r\n    \t        \t\tcost -=proxyarr[i];\r\n    \t        \t\tif(cost &gt; 0) {\r\n    \t        \t\t\tcount++; }else {\r\n    \t        \t\t\tbreak;\r\n    \t        \t\t}\r\n    \t        \t}\r\n    \t        \tarrlist.add(count);\r\n    \t        }\r\n    \t        return arrlist;\r\n    \t      }\r\n    \t        \t \r\n    \t int[] removeBrokenPrice (int a[],int b[],int k){\r\n    \t\t\r\n    \t\t int count=0;\r\n    \t\t for(int i=k;i &lt;= b.length-1;i++) {\r\n         \t\t\r\n         \t\tfor(int j=0;j&lt;a.length;j++) {\r\n         \t\t\t\r\n         \t\t\tif(j==b[i]-1) {\r\n         \t\t\t\ta[j]=-1;\r\n         \t\t\t\tcount++;\r\n         \t\t\t}\r\n         \t\t}\r\n         \t}\r\n    \t\t int[] proxyarr=new int[a.length-count];\r\n    \t\t \r\n    \t\t for(int i=0,j=0;i&lt; a.length;i++)\r\n    \t\t {\r\n    \t\t\t if(a[i]==-1) {\r\n    \t\t\t\t continue;\r\n    \t\t\t }else {\r\n    \t\t\t\t proxyarr[j++]=a[i];\r\n    \t\t\t }\r\n    \t\t }\r\n    \t\t return proxyarr;\r\n    \t\t \r\n    \t }\r\n    \t \r\n \r\n    \r\n    }\r\n\r\n","title":"Hackerrank Mark and Toys Question my solution not working for large input testcases","body":"<pre><code>package Scanarios;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Iterator;\nimport java.util.List;\n\npublic class Toys {\n    \npublic static void main(String[] args) {\n        \n        Toys t=new Toys();\n        int[] a = {3,6,2,1,4,5};\n        int q=1;\n        int n=6;\n        ArrayList&lt;Integer&gt; queries[]=new ArrayList[n];\n        ArrayList&lt;Integer&gt; result=new ArrayList();\n        \n        for (int i = 0; i &lt; n; i++) {\n             queries[i] = new ArrayList&lt;Integer&gt;();\n        }\n        \n        queries[0].add(10);\n        queries[0].add(2);\n        queries[0].add(2);\n        queries[0].add(5);\n\n        result=t.maximumToys(n,a,q,queries);\n        System.out.println(result);\n    }\n    \n     public ArrayList&lt;Integer&gt; maximumToys(int n, int a[], int q, ArrayList&lt;Integer&gt; queries[]) {\n            \n         ArrayList&lt;Integer&gt; arrlist=new ArrayList();\n            for(int z=0;z&lt;q;z++) {\n                int[] arr=queries[z].stream().mapToInt(i -&gt; i).toArray();\n                int cost=arr[0];\n                int k=arr[1];\n                int count=0;\n                int[] proxyarr=new int[n-1];\n                proxyarr =removeBrokenPrice(a,arr,k);\n                Arrays.sort(proxyarr);\n\n                for(int i=0;i&lt; proxyarr.length;i++) {                       \n                        \n                    cost -=proxyarr[i];\n                    if(cost &gt; 0) {\n                        count++; }else {\n                        break;\n                    }\n                }\n                arrlist.add(count);\n            }\n            return arrlist;\n          }\n                 \n     int[] removeBrokenPrice (int a[],int b[],int k){\n        \n         int count=0;\n         for(int i=k;i &lt;= b.length-1;i++) {\n            \n            for(int j=0;j&lt;a.length;j++) {\n                \n                if(j==b[i]-1) {\n                    a[j]=-1;\n                    count++;\n                }\n            }\n        }\n         int[] proxyarr=new int[a.length-count];\n         \n         for(int i=0,j=0;i&lt; a.length;i++)\n         {\n             if(a[i]==-1) {\n                 continue;\n             }else {\n                 proxyarr[j++]=a[i];\n             }\n         }\n         return proxyarr;\n         \n     }\n     \n\n\n}\n</code></pre>\n"}],"owner":{"account_id":12455651,"reputation":81,"user_id":9432887,"display_name":"Varad Paralikar"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1170,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":59498473,"answer_count":2,"score":3,"last_activity_date":1673733673,"creation_date":1577436161,"question_id":59498106,"body_markdown":"Below is the problem statement from hackerrank\r\n\r\nMark and Jane are very happy after having their first child. Their son loves toys, so Mark wants to buy some. There are a number of different toys lying in front of him, tagged with their prices. Mark has only a certain amount to spend, and he wants to maximize the number of toys he buys with this money.\r\n\r\nGiven a list of prices and an amount to spend, what is the maximum number of toys Mark can buy? For example, if prices = [1,2,3,4]  and Mark has k=7 to spend, he can buy items [1,2,3]  for 6, or [3,4]  for 7 units of currency. He would choose the first group of 3 items.\r\n\r\nBelow is code I wrote for this problem which involves backtracking technique\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    \r\n    public class MarkAndToys {\r\n    \r\n        static ArrayList&lt;Integer&gt; possibleSolutions = new ArrayList&lt;&gt;();\r\n    \r\n        static boolean findSolution(int[] prices,int amount,int left,int length,int items){\r\n    \r\n            // Base case: if whole array was iterated and amount is &gt;=0 then we got a solution\r\n            if(left &gt;= length){\r\n             if(amount&gt;=0){\r\n            \t possibleSolutions.add(items);\r\n                 return true;\r\n             }\r\n             return false;\r\n            }\r\n    \r\n            // Key idea: prices[left] is chosen or it is not.\r\n            // Deal with prices[left], letting recursion\r\n            // deal with all the rest of the array.\r\n    \r\n            // Recursive call trying the case that prices[left] is chosen --\r\n            // subtract it from amount in the call.\r\n            if (findSolution(prices,amount-prices[left],left+1,length,items+1)) return true;\r\n    \r\n            // Recursive call trying the case that prices[left] is not chosen.\r\n            if (findSolution(prices,amount,left+1,length,items)) return true;\r\n    \r\n            // If neither of the above worked, it&#39;s not possible.\r\n            return false;\r\n        }\r\n    \r\n        // Complete the maximumToys function below.\r\n        static int maximumToys(int[] prices, int k) {\r\n            if(findSolution(prices,k,0,prices.length,0)){\r\n            \t//if solutions are found then return maximum of them\r\n            \treturn Collections.max(possibleSolutions);\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n    \r\n    \r\n        public static void main(String[] args) {\r\n    \t\tSystem.out.println(maximumToys(new int[]{1,12,5,111,200,1000,10}, 50));\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Hackerrank Mark and Toys Question my solution not working for large input testcases","body":"<p>Below is the problem statement from hackerrank</p>\n\n<p>Mark and Jane are very happy after having their first child. Their son loves toys, so Mark wants to buy some. There are a number of different toys lying in front of him, tagged with their prices. Mark has only a certain amount to spend, and he wants to maximize the number of toys he buys with this money.</p>\n\n<p>Given a list of prices and an amount to spend, what is the maximum number of toys Mark can buy? For example, if prices = [1,2,3,4]  and Mark has k=7 to spend, he can buy items [1,2,3]  for 6, or [3,4]  for 7 units of currency. He would choose the first group of 3 items.</p>\n\n<p>Below is code I wrote for this problem which involves backtracking technique</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\n\npublic class MarkAndToys {\n\n    static ArrayList&lt;Integer&gt; possibleSolutions = new ArrayList&lt;&gt;();\n\n    static boolean findSolution(int[] prices,int amount,int left,int length,int items){\n\n        // Base case: if whole array was iterated and amount is &gt;=0 then we got a solution\n        if(left &gt;= length){\n         if(amount&gt;=0){\n             possibleSolutions.add(items);\n             return true;\n         }\n         return false;\n        }\n\n        // Key idea: prices[left] is chosen or it is not.\n        // Deal with prices[left], letting recursion\n        // deal with all the rest of the array.\n\n        // Recursive call trying the case that prices[left] is chosen --\n        // subtract it from amount in the call.\n        if (findSolution(prices,amount-prices[left],left+1,length,items+1)) return true;\n\n        // Recursive call trying the case that prices[left] is not chosen.\n        if (findSolution(prices,amount,left+1,length,items)) return true;\n\n        // If neither of the above worked, it's not possible.\n        return false;\n    }\n\n    // Complete the maximumToys function below.\n    static int maximumToys(int[] prices, int k) {\n        if(findSolution(prices,k,0,prices.length,0)){\n            //if solutions are found then return maximum of them\n            return Collections.max(possibleSolutions);\n        }\n        return 0;\n    }\n\n\n\n    public static void main(String[] args) {\n        System.out.println(maximumToys(new int[]{1,12,5,111,200,1000,10}, 50));\n    }\n\n}\n</code></pre>\n"},{"tags":["java","integer","double","histogram","rounding"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1673729857,"post_id":75121181,"comment_id":132564719,"body_markdown":"The output seems correct for the code as written. Please explain what you are expecting the output to be, and why.","body":"The output seems correct for the code as written. Please explain what you are expecting the output to be, and why."},{"owner":{"account_id":27400381,"reputation":11,"user_id":20901905,"display_name":"Abdullah Malik"},"score":0,"creation_date":1673729862,"post_id":75121181,"comment_id":132564720,"body_markdown":"The values I am using are: 13.5, 16.1,  3.2, 0.0, and 0.6","body":"The values I am using are: 13.5, 16.1,  3.2, 0.0, and 0.6"},{"owner":{"account_id":27400381,"reputation":11,"user_id":20901905,"display_name":"Abdullah Malik"},"score":0,"creation_date":1673729928,"post_id":75121181,"comment_id":132564729,"body_markdown":"************** 13.5\n*** 3.2\n**************** 16.1\n0.0\n* .6","body":"************** 13.5 *** 3.2 **************** 16.1 0.0 * .6"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1673729976,"post_id":75121181,"comment_id":132564736,"body_markdown":"With input of 13.5, will any of those if tests return true? And if not, *again*, why would you expect any output?","body":"With input of 13.5, will any of those if tests return true? And if not, <i>again</i>, why would you expect any output?"},{"owner":{"account_id":27400381,"reputation":11,"user_id":20901905,"display_name":"Abdullah Malik"},"score":0,"creation_date":1673730054,"post_id":75121181,"comment_id":132564748,"body_markdown":"It is going to assess the rounded  values and print the asterisks in the line with the number assigned as a double.","body":"It is going to assess the rounded  values and print the asterisks in the line with the number assigned as a double."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1673730128,"post_id":75121181,"comment_id":132564763,"body_markdown":"Again, if the input is 13.5, then roundNum should be 13, right? And if roundNum is 13, then all the if tests will be false, and none of the code in the if blocks will run. Again, *why* are you expecting to see any output with this code?","body":"Again, if the input is 13.5, then roundNum should be 13, right? And if roundNum is 13, then all the if tests will be false, and none of the code in the if blocks will run. Again, <i>why</i> are you expecting to see any output with this code?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1673730169,"post_id":75121181,"comment_id":132564770,"body_markdown":"I&#39;m trying to get you to think about your code. If you do this well, you will see the error in your logic and hopefully be able to fix your error.","body":"I&#39;m trying to get you to think about your code. If you do this well, you will see the error in your logic and hopefully be able to fix your error."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673730730,"post_id":75121181,"comment_id":132564853,"body_markdown":"Keep in mind that casting a `double` to an `int` doesn&#39;t round _per se_. It simply drops the decimal value. So `13.x` cast to an `int` will always be `13`, never `14`. I suppose you could say the cast always rounds towards zero.","body":"Keep in mind that casting a <code>double</code> to an <code>int</code> doesn&#39;t round <i>per se</i>. It simply drops the decimal value. So <code>13.x</code> cast to an <code>int</code> will always be <code>13</code>, never <code>14</code>. I suppose you could say the cast always rounds towards zero."},{"owner":{"account_id":24873773,"reputation":102,"user_id":18747955,"display_name":"Nysand"},"score":0,"creation_date":1673730956,"post_id":75121181,"comment_id":132564892,"body_markdown":"Does this answer your question? [I have a double value = 1.6 i want to round it up like 2.in java](https://stackoverflow.com/questions/35706438/i-have-a-double-value-1-6-i-want-to-round-it-up-like-2-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/35706438/i-have-a-double-value-1-6-i-want-to-round-it-up-like-2-in-java\">I have a double value = 1.6 i want to round it up like 2.in java</a>"},{"owner":{"account_id":27400381,"reputation":11,"user_id":20901905,"display_name":"Abdullah Malik"},"score":0,"creation_date":1673731036,"post_id":75121181,"comment_id":132564901,"body_markdown":"Thank you, I able to find a solution without using the rounding.","body":"Thank you, I able to find a solution without using the rounding."},{"owner":{"account_id":27400381,"reputation":11,"user_id":20901905,"display_name":"Abdullah Malik"},"score":0,"creation_date":1673731128,"post_id":75121181,"comment_id":132564913,"body_markdown":"I added 0.5 and set and if statement equal to 14 and set the amount of asterisks.","body":"I added 0.5 and set and if statement equal to 14 and set the amount of asterisks."},{"owner":{"account_id":24873773,"reputation":102,"user_id":18747955,"display_name":"Nysand"},"score":0,"creation_date":1673731260,"post_id":75121181,"comment_id":132564941,"body_markdown":"Yes that is the obvious choice since your if statement will print result at 14 only in that first if statement. But if you want to round your doubles use the method I put in the answer.","body":"Yes that is the obvious choice since your if statement will print result at 14 only in that first if statement. But if you want to round your doubles use the method I put in the answer."},{"owner":{"account_id":27400381,"reputation":11,"user_id":20901905,"display_name":"Abdullah Malik"},"score":0,"creation_date":1673732039,"post_id":75121181,"comment_id":132565057,"body_markdown":"I am doing it individually by value so the histogram will form one by one. It gave me a an  error when I replaced my double to int conversion.","body":"I am doing it individually by value so the histogram will form one by one. It gave me a an  error when I replaced my double to int conversion."}],"answers":[{"tags":[],"owner":{"account_id":24873773,"reputation":102,"user_id":18747955,"display_name":"Nysand"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673730336,"creation_date":1673730336,"answer_id":75121228,"question_id":75121181,"body_markdown":"Change your  int roundNum = (int)(num); to int rounded = Math.round((float)num); it should give you the desired output.","title":"I am making a histogram","body":"<p>Change your  int roundNum = (int)(num); to int rounded = Math.round((float)num); it should give you the desired output.</p>\n"},{"tags":[],"owner":{"account_id":22014851,"reputation":102,"user_id":16284523,"display_name":"Yaz Can Aslan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673733080,"creation_date":1673733080,"answer_id":75121497,"question_id":75121181,"body_markdown":"In Java, `typecasting` to primitive type `int` from primitive type `double` can be thought of as simply **removing the decimal part**.\r\n\r\nFor example;\r\n\r\n    System.out.println((int) 13.1); // prints 13\r\n    System.out.println((int) 13.5); // prints 13\r\n    System.out.println((int) 13.9); // prints 13\r\n\r\nSo, when you call `obj.histogram(13.5);` with the function parameter `num` being `13.5`, the operation `int roundNum = (int)(num);` is the same as `int roundNum = (int)(13.5);`, and assigns `13` to the `roundNum` variable.\r\n\r\nSince no `if statements` handle this case (`roundNum` being `13`), no output is generated.\r\n\r\nOn another note, hardcoding a lot of `if statements` for checking the same variable over and over again can usually lead to unnecessarily complex, inefficient and hard-to-read code. Can you think of a better way to print `&quot;*&quot;` characters for the histogram, by using the `roundNum` variable? (Hint: try experimenting with `for loops`)","title":"I am making a histogram","body":"<p>In Java, <code>typecasting</code> to primitive type <code>int</code> from primitive type <code>double</code> can be thought of as simply <strong>removing the decimal part</strong>.</p>\n<p>For example;</p>\n<pre><code>System.out.println((int) 13.1); // prints 13\nSystem.out.println((int) 13.5); // prints 13\nSystem.out.println((int) 13.9); // prints 13\n</code></pre>\n<p>So, when you call <code>obj.histogram(13.5);</code> with the function parameter <code>num</code> being <code>13.5</code>, the operation <code>int roundNum = (int)(num);</code> is the same as <code>int roundNum = (int)(13.5);</code>, and assigns <code>13</code> to the <code>roundNum</code> variable.</p>\n<p>Since no <code>if statements</code> handle this case (<code>roundNum</code> being <code>13</code>), no output is generated.</p>\n<p>On another note, hardcoding a lot of <code>if statements</code> for checking the same variable over and over again can usually lead to unnecessarily complex, inefficient and hard-to-read code. Can you think of a better way to print <code>&quot;*&quot;</code> characters for the histogram, by using the <code>roundNum</code> variable? (Hint: try experimenting with <code>for loops</code>)</p>\n"}],"owner":{"account_id":27400381,"reputation":11,"user_id":20901905,"display_name":"Abdullah Malik"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1673733080,"creation_date":1673729784,"question_id":75121181,"body_markdown":"I am trying to make a histogram with inputting a value and rounding it. The rounded value should print out the number of asterisks.\r\n\r\nI did the following code and inputted a value but, the output is coming out as nothing.\r\n\r\n```\r\npublic class Histogram\r\n{\r\n    public static void main(String args[]) \r\n    {\r\n      histogram obj = new histogram();\r\n      obj.histogram(13.5);\r\n    }\r\n}\r\n\r\nclass histogram\r\n{\r\n    public void histogram(double num)\r\n\t{\r\n\t\tint roundNum = (int)(num);\r\n\t\tif (roundNum == 14)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;**************&quot; + num);\r\n\t\t}\r\n\t\tif (roundNum == 3)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;***&quot; + num);\r\n\t\t}\r\n\t\tif (roundNum == 16)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;****************&quot; + num);\r\n\t\t}\r\n\t\tif (roundNum == 0)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;&quot; + num);\r\n\t\t}\r\n\t\tif (roundNum == 1)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;*&quot; + num);\r\n\t\t}\r\n \t}\r\n}\r\n```","title":"I am making a histogram","body":"<p>I am trying to make a histogram with inputting a value and rounding it. The rounded value should print out the number of asterisks.</p>\n<p>I did the following code and inputted a value but, the output is coming out as nothing.</p>\n<pre><code>public class Histogram\n{\n    public static void main(String args[]) \n    {\n      histogram obj = new histogram();\n      obj.histogram(13.5);\n    }\n}\n\nclass histogram\n{\n    public void histogram(double num)\n    {\n        int roundNum = (int)(num);\n        if (roundNum == 14)\n        {\n            System.out.println(&quot;**************&quot; + num);\n        }\n        if (roundNum == 3)\n        {\n            System.out.println(&quot;***&quot; + num);\n        }\n        if (roundNum == 16)\n        {\n            System.out.println(&quot;****************&quot; + num);\n        }\n        if (roundNum == 0)\n        {\n            System.out.println(&quot;&quot; + num);\n        }\n        if (roundNum == 1)\n        {\n            System.out.println(&quot;*&quot; + num);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":340843,"reputation":11330,"user_id":671092,"accept_rate":82,"display_name":"gd1"},"score":0,"creation_date":1357177310,"post_id":14131488,"comment_id":19565975,"body_markdown":"I&#39;ve looked at the article, and it clearly addresses fine-grained optimization issues. In this case, we have arrays being allocated and copied zillions of times. :) Then he explains how to implement Fork/Join frameworks that efficiently use a pool of threads that are given &quot;tasks&quot;. That guy implemented most of the java.util.concurrent package. :)","body":"I&#39;ve looked at the article, and it clearly addresses fine-grained optimization issues. In this case, we have arrays being allocated and copied zillions of times. :) Then he explains how to implement Fork/Join frameworks that efficiently use a pool of threads that are given &quot;tasks&quot;. That guy implemented most of the java.util.concurrent package. :)"}],"tags":[],"owner":{"account_id":162781,"reputation":9602,"user_id":384464,"display_name":"xagyg"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357177070,"creation_date":1357173534,"answer_id":14131488,"question_id":14131467,"body_markdown":"Without looking too deeply at your code, spawning a new thread is costly. If you haven&#39;t got much work to do, then it&#39;s not worth it for performance reasons alone. Very generally talking here, but a single thread could loop thousands of times before a new thread is spawned and starts running (especially on Windows).\r\n\r\nPlease refer to [Doug Lea&#39;s paper][1] (under 2. DESIGN) where he states: \r\n\r\n*&quot;However, the java.lang.Thread class (as well as POSIX pthreads, upon which Java threads are often based) are suboptimal vehicles for supporting fork/join programs&quot;*\r\n\r\n\r\n  [1]: http://www.google.com.au/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=9&amp;ved=0CIIBEBYwCA&amp;url=http://gee.cs.oswego.edu/dl/papers/fj.pdf&amp;ei=T93kUJGLJanOmgWu_IGIDQ&amp;usg=AFQjCNGcO_ZcUccZf9vXQxH9NY3sWxCztw&amp;sig2=CJqUxvdG0TWomoQ72K5e5g&amp;bvm=bv.1355534169,d.dGY&amp;cad=rja","title":"Java fork-join Performance","body":"<p>Without looking too deeply at your code, spawning a new thread is costly. If you haven't got much work to do, then it's not worth it for performance reasons alone. Very generally talking here, but a single thread could loop thousands of times before a new thread is spawned and starts running (especially on Windows).</p>\n\n<p>Please refer to <a href=\"http://www.google.com.au/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=9&amp;ved=0CIIBEBYwCA&amp;url=http://gee.cs.oswego.edu/dl/papers/fj.pdf&amp;ei=T93kUJGLJanOmgWu_IGIDQ&amp;usg=AFQjCNGcO_ZcUccZf9vXQxH9NY3sWxCztw&amp;sig2=CJqUxvdG0TWomoQ72K5e5g&amp;bvm=bv.1355534169,d.dGY&amp;cad=rja\" rel=\"nofollow\">Doug Lea's paper</a> (under 2. DESIGN) where he states: </p>\n\n<p><em>\"However, the java.lang.Thread class (as well as POSIX pthreads, upon which Java threads are often based) are suboptimal vehicles for supporting fork/join programs\"</em></p>\n"},{"comments":[{"owner":{"account_id":340843,"reputation":11330,"user_id":671092,"accept_rate":82,"display_name":"gd1"},"score":1,"creation_date":1357176857,"post_id":14131530,"comment_id":19565882,"body_markdown":"My sentence resulted to be (unintentionally) polemic, I changed it. :)","body":"My sentence resulted to be (unintentionally) polemic, I changed it. :)"},{"owner":{"account_id":40256,"reputation":46484,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":0,"creation_date":1357177409,"post_id":14131530,"comment_id":19565990,"body_markdown":"Not sure if there&#39;s a badge for vigorous self-censorship, but if there is, you&#39;ve earned it.","body":"Not sure if there&#39;s a badge for vigorous self-censorship, but if there is, you&#39;ve earned it."},{"owner":{"account_id":1322191,"reputation":11583,"user_id":1267768,"accept_rate":83,"display_name":"Matt"},"score":1,"creation_date":1357180960,"post_id":14131530,"comment_id":19566638,"body_markdown":"array allocation is not necessary in this sort of merge sort.  you can easily pass the array itself along with the start and end index of the section you are trying to sort, and sort in place.  you have to be careful with recursive algorithms.  Accumulators are a big help in avoiding excessive object creation.","body":"array allocation is not necessary in this sort of merge sort.  you can easily pass the array itself along with the start and end index of the section you are trying to sort, and sort in place.  you have to be careful with recursive algorithms.  Accumulators are a big help in avoiding excessive object creation."},{"owner":{"account_id":340843,"reputation":11330,"user_id":671092,"accept_rate":82,"display_name":"gd1"},"score":0,"creation_date":1357181350,"post_id":14131530,"comment_id":19566697,"body_markdown":"Your comment seem to summarize my answer. however it&#39;s hard to merge in place, even if possible with nonlinear cost. The most common strategy is two swap two buffers (see the OP code) but this fork/join approach forces you to allocate for every merge.","body":"Your comment seem to summarize my answer. however it&#39;s hard to merge in place, even if possible with nonlinear cost. The most common strategy is two swap two buffers (see the OP code) but this fork/join approach forces you to allocate for every merge."},{"owner":{"account_id":40256,"reputation":46484,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":0,"creation_date":1357205920,"post_id":14131530,"comment_id":19573446,"body_markdown":"@gd1: I read Matt&#39;s comment as claiming that you *can* use the two-buffer approach with fork-join. I would agree with that. Handwavingly, when you spawn a task to sort a range (m, n), it takes ownership of the section of both buffers between `buf[m]` and `buf[n]`. It is then free to manipulate those sections, or to split them up and hand them to subtasks, as long as it waits for the subtasks to finish before manipulating them itself. Having those sections of both buffers is sufficient to do a merge sensibly.","body":"@gd1: I read Matt&#39;s comment as claiming that you <i>can</i> use the two-buffer approach with fork-join. I would agree with that. Handwavingly, when you spawn a task to sort a range (m, n), it takes ownership of the section of both buffers between <code>buf[m]</code> and <code>buf[n]</code>. It is then free to manipulate those sections, or to split them up and hand them to subtasks, as long as it waits for the subtasks to finish before manipulating them itself. Having those sections of both buffers is sufficient to do a merge sensibly."},{"owner":{"account_id":340843,"reputation":11330,"user_id":671092,"accept_rate":82,"display_name":"gd1"},"score":0,"creation_date":1357208249,"post_id":14131530,"comment_id":19574427,"body_markdown":"I don&#39;t think Matt meant what you mean, which however makes sense. :) In fact I said &quot;this&quot; fork/join approach, not &quot;every&quot;. At the time I worked on this problem, I tried a fork/join with local locks on buffer portions (like you said) and ended up with a very disappointing speedup. :(","body":"I don&#39;t think Matt meant what you mean, which however makes sense. :) In fact I said &quot;this&quot; fork/join approach, not &quot;every&quot;. At the time I worked on this problem, I tried a fork/join with local locks on buffer portions (like you said) and ended up with a very disappointing speedup. :("},{"owner":{"account_id":340843,"reputation":11330,"user_id":671092,"accept_rate":82,"display_name":"gd1"},"score":0,"creation_date":1357208575,"post_id":14131530,"comment_id":19574586,"body_markdown":"The winning approach was the one of parallelizing by level of the recurrence tree, thus using the iterative, bottom-up version of the algorithm. The recursive version is just awesome to understand the concept of the algorithm, but crappy for parallelizing: you either waste memory, or use a bunch of locks, unless you use some outstandingly smart method which can&#39;t be very simple, however.","body":"The winning approach was the one of parallelizing by level of the recurrence tree, thus using the iterative, bottom-up version of the algorithm. The recursive version is just awesome to understand the concept of the algorithm, but crappy for parallelizing: you either waste memory, or use a bunch of locks, unless you use some outstandingly smart method which can&#39;t be very simple, however."},{"owner":{"account_id":4815244,"reputation":1562,"user_id":3887531,"accept_rate":33,"display_name":"dhaliman"},"score":0,"creation_date":1639992513,"post_id":14131530,"comment_id":124480459,"body_markdown":"I was having a similar problem. This worked for me! Thanks!!","body":"I was having a similar problem. This worked for me! Thanks!!"}],"tags":[],"owner":{"account_id":340843,"reputation":11330,"user_id":671092,"accept_rate":82,"display_name":"gd1"},"comment_count":8,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1357601618,"creation_date":1357173844,"answer_id":14131530,"question_id":14131467,"body_markdown":"IMHO the main reason is not the overhead due to thread spawning and pooling.\r\n\r\nI think the multi-threaded version runs slow mainly because **you are continuously creating new arrays**, all the times, **millions** of times. Eventually, you create 1 million of arrays with a single element, a headache for the garbage collector.\r\n\r\nAll your `DivideTask`s can just operate on different portions of the array (the two halves), so just send them a range and make them operate on that range.\r\n\r\nFurthermore, your parallelization strategy makes it impossible to use the clever &quot;helper array&quot; optimization (notice the `helper` array in the sequential version). This optimization swaps the &quot;input&quot; array with a &quot;helper&quot; array on which merges are made, so that a new array shouldn&#39;t be created for every merge operation: a memory-saving technique that you can&#39;t do if you don&#39;t parallelize *by level of the recursion tree*.\r\n\r\nFor a classwork, I had to parallelize MergeSort and I managed to get a nice speedup by parallelizing by level of the recursion tree. Unfortunately the code is in C and uses OpenMP. If you want I can provide it.","title":"Java fork-join Performance","body":"<p>IMHO the main reason is not the overhead due to thread spawning and pooling.</p>\n\n<p>I think the multi-threaded version runs slow mainly because <strong>you are continuously creating new arrays</strong>, all the times, <strong>millions</strong> of times. Eventually, you create 1 million of arrays with a single element, a headache for the garbage collector.</p>\n\n<p>All your <code>DivideTask</code>s can just operate on different portions of the array (the two halves), so just send them a range and make them operate on that range.</p>\n\n<p>Furthermore, your parallelization strategy makes it impossible to use the clever \"helper array\" optimization (notice the <code>helper</code> array in the sequential version). This optimization swaps the \"input\" array with a \"helper\" array on which merges are made, so that a new array shouldn't be created for every merge operation: a memory-saving technique that you can't do if you don't parallelize <em>by level of the recursion tree</em>.</p>\n\n<p>For a classwork, I had to parallelize MergeSort and I managed to get a nice speedup by parallelizing by level of the recursion tree. Unfortunately the code is in C and uses OpenMP. If you want I can provide it.</p>\n"},{"tags":[],"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1357174316,"creation_date":1357174316,"answer_id":14131590,"question_id":14131467,"body_markdown":"As gd1 points out, you&#39;re doing a lot of array allocation and copying; this is going to cost you. You should instead work on different sections of the same one array, taking care that no subtask works on a section that another subtask is working on.\r\n\r\nBut beyond that, there&#39;s a certain amount of overhead that comes with the fork/join approach (as with any concurrency). In fact, if you look at the javadocs for [RecursiveTask][1], they even point out that their simple example will perform slowly because the forking is too granular.\r\n\r\nLong story short, you should have fewer subdivisions, each of which does more. More generally, any time you have more non-blocked threads than cores, throughput is not going to improve, and in fact overhead will start to chip away at it.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/RecursiveTask.html","title":"Java fork-join Performance","body":"<p>As gd1 points out, you're doing a lot of array allocation and copying; this is going to cost you. You should instead work on different sections of the same one array, taking care that no subtask works on a section that another subtask is working on.</p>\n\n<p>But beyond that, there's a certain amount of overhead that comes with the fork/join approach (as with any concurrency). In fact, if you look at the javadocs for <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/RecursiveTask.html\" rel=\"nofollow\">RecursiveTask</a>, they even point out that their simple example will perform slowly because the forking is too granular.</p>\n\n<p>Long story short, you should have fewer subdivisions, each of which does more. More generally, any time you have more non-blocked threads than cores, throughput is not going to improve, and in fact overhead will start to chip away at it.</p>\n"},{"tags":[],"owner":{"account_id":1120685,"reputation":2411,"user_id":1109059,"accept_rate":87,"display_name":"gpa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357256178,"creation_date":1357256178,"answer_id":14149048,"question_id":14131467,"body_markdown":"Also found following information about working with Fork/Join\r\n[Dan Grossman&#39;s Introduction to Fork/Join][1]\r\n\r\n\r\n  [1]: http://homes.cs.washington.edu/~djg/teachingMaterials/grossmanSPAC_forkJoinFramework.html#gotchas","title":"Java fork-join Performance","body":"<p>Also found following information about working with Fork/Join\n<a href=\"http://homes.cs.washington.edu/~djg/teachingMaterials/grossmanSPAC_forkJoinFramework.html#gotchas\" rel=\"nofollow\">Dan Grossman's Introduction to Fork/Join</a></p>\n"},{"tags":[],"owner":{"account_id":4150585,"reputation":1,"user_id":3403168,"display_name":"Chaoyang Tong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673732582,"creation_date":1673731555,"answer_id":75121358,"question_id":14131467,"body_markdown":"I encountered the same issue. In my implementation of merge sort I only copy the right part which might be shorter than the left part. Also I skip possible max elements in the right part while copying and merging. Even with that optimization the parallel implementation is still slower than an iterative implementation. According to Leetcode, my iterative approach is faster than 91.96%, my parallel implementation is faster than 56.59%.\r\n\r\n 1. https://leetcode.com/problems/sort-an-array/submissions/878182467/.\r\n    https://leetcode.com/problems/sort-an-array/submissions/877801578/.\r\n\r\n```\r\nimport java.util.concurrent.RecursiveAction;\r\n\r\nclass Solution {\r\n\r\n    public static class Sort extends RecursiveAction {\r\n        private int[] a;\r\n        private int left;\r\n        private int right;\r\n\r\n        public Sort(int[] a, int left, int right) {\r\n            this.a = a;\r\n            this.left = left;\r\n            this.right = right;\r\n        }\r\n\r\n        @Override\r\n        protected void compute() {\r\n            int m = (left + right) / 2;\r\n            if (m &gt;= left + 1) {\r\n                Sort leftHalf = new Sort(a, left, m);\r\n                leftHalf.fork();\r\n                Sort rightHalf = new Sort(a, m+1, right);\r\n                rightHalf.compute();\r\n                leftHalf.join();\r\n            }\r\n            merge(a, left, right, m);\r\n        }\r\n\r\n        private void merge(int[] a, int left, int right, int mid) {\r\n            if (left == right || left + 1 == right &amp;&amp; a[left] &lt;= a[right])\r\n                return;\r\n            // let l point to last element of left half, r point to last element of right half\r\n            int l = mid, r = right;\r\n            // skip possible max elements\r\n            while (l &lt; r &amp;&amp; a[l] &lt;= a[r])\r\n                r -= 1;\r\n            // size of remaining right half\r\n            int size = r-l;\r\n            int[] buf = new int[size];\r\n            for (int i = 0; i &lt; size; i++){\r\n                buf[i] = a[mid + 1 + i];\r\n            }\r\n            int i = size-1;\r\n            while (i &gt;= 0) {\r\n                if (l &gt;= left &amp;&amp; a[ l] &gt;buf[i]) {\r\n                    a[r] = a[l];\r\n                    l -= 1;\r\n                } else {\r\n                    a[r] = buf[i];\r\n                    i -= 1;\r\n                }\r\n                r -= 1;\r\n            }\r\n        }\r\n    }\r\n\r\n    public int[] sortArray(int[] a) {\r\n        ForkJoinPool threadPool = ForkJoinPool.commonPool();\r\n        threadPool.invoke(new Sort(a, 0, a.length-1));\r\n        return a;\r\n    }\r\n}\r\n\r\nIterative implementation:\r\nclass Solution {\r\n    public int[] sortArray(int[] a) {\r\n        int[] buf = new int[a.length];\r\n        int size = 1;\r\n        while (size &lt; a.length) {\r\n            int left = 0 + size - 1;\r\n            int right = Math.min(left + size, a.length-1);\r\n            while (left &lt; a.length) {\r\n                merge(a, size, left, right, buf);\r\n                left += 2 * size;\r\n                right = Math.min(left + size, a.length-1);\r\n            }\r\n            size *= 2;\r\n        }\r\n        return a;\r\n    }\r\n\r\n    private void merge(int[] a, int size, int l, int r, int[] buf) {\r\n        int terminal1 = l - size;\r\n        int right = r;\r\n        while (l &lt; right &amp;&amp; a[l] &lt;= a[right])\r\n            right--;\r\n        r = right;\r\n        int rsize = right - l;\r\n        for (int i = rsize-1; i &gt;= 0; i--) {\r\n            buf[i] = a[right--];\r\n        }\r\n        int i = rsize-1;\r\n        while (i &gt;= 0) {\r\n            if (l &gt; terminal1 &amp;&amp; a[l] &gt; buf[i]) {\r\n                a[r--] = a[l--];\r\n            } else {\r\n                a[r--] = buf[i--];\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Java fork-join Performance","body":"<p>I encountered the same issue. In my implementation of merge sort I only copy the right part which might be shorter than the left part. Also I skip possible max elements in the right part while copying and merging. Even with that optimization the parallel implementation is still slower than an iterative implementation. According to Leetcode, my iterative approach is faster than 91.96%, my parallel implementation is faster than 56.59%.</p>\n<ol>\n<li><a href=\"https://leetcode.com/problems/sort-an-array/submissions/878182467/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/sort-an-array/submissions/878182467/</a>.\n<a href=\"https://leetcode.com/problems/sort-an-array/submissions/877801578/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/sort-an-array/submissions/877801578/</a>.</li>\n</ol>\n<pre><code>import java.util.concurrent.RecursiveAction;\n\nclass Solution {\n\n    public static class Sort extends RecursiveAction {\n        private int[] a;\n        private int left;\n        private int right;\n\n        public Sort(int[] a, int left, int right) {\n            this.a = a;\n            this.left = left;\n            this.right = right;\n        }\n\n        @Override\n        protected void compute() {\n            int m = (left + right) / 2;\n            if (m &gt;= left + 1) {\n                Sort leftHalf = new Sort(a, left, m);\n                leftHalf.fork();\n                Sort rightHalf = new Sort(a, m+1, right);\n                rightHalf.compute();\n                leftHalf.join();\n            }\n            merge(a, left, right, m);\n        }\n\n        private void merge(int[] a, int left, int right, int mid) {\n            if (left == right || left + 1 == right &amp;&amp; a[left] &lt;= a[right])\n                return;\n            // let l point to last element of left half, r point to last element of right half\n            int l = mid, r = right;\n            // skip possible max elements\n            while (l &lt; r &amp;&amp; a[l] &lt;= a[r])\n                r -= 1;\n            // size of remaining right half\n            int size = r-l;\n            int[] buf = new int[size];\n            for (int i = 0; i &lt; size; i++){\n                buf[i] = a[mid + 1 + i];\n            }\n            int i = size-1;\n            while (i &gt;= 0) {\n                if (l &gt;= left &amp;&amp; a[ l] &gt;buf[i]) {\n                    a[r] = a[l];\n                    l -= 1;\n                } else {\n                    a[r] = buf[i];\n                    i -= 1;\n                }\n                r -= 1;\n            }\n        }\n    }\n\n    public int[] sortArray(int[] a) {\n        ForkJoinPool threadPool = ForkJoinPool.commonPool();\n        threadPool.invoke(new Sort(a, 0, a.length-1));\n        return a;\n    }\n}\n\nIterative implementation:\nclass Solution {\n    public int[] sortArray(int[] a) {\n        int[] buf = new int[a.length];\n        int size = 1;\n        while (size &lt; a.length) {\n            int left = 0 + size - 1;\n            int right = Math.min(left + size, a.length-1);\n            while (left &lt; a.length) {\n                merge(a, size, left, right, buf);\n                left += 2 * size;\n                right = Math.min(left + size, a.length-1);\n            }\n            size *= 2;\n        }\n        return a;\n    }\n\n    private void merge(int[] a, int size, int l, int r, int[] buf) {\n        int terminal1 = l - size;\n        int right = r;\n        while (l &lt; right &amp;&amp; a[l] &lt;= a[right])\n            right--;\n        r = right;\n        int rsize = right - l;\n        for (int i = rsize-1; i &gt;= 0; i--) {\n            buf[i] = a[right--];\n        }\n        int i = rsize-1;\n        while (i &gt;= 0) {\n            if (l &gt; terminal1 &amp;&amp; a[l] &gt; buf[i]) {\n                a[r--] = a[l--];\n            } else {\n                a[r--] = buf[i--];\n            }\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":1120685,"reputation":2411,"user_id":1109059,"accept_rate":87,"display_name":"gpa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2865,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":14131530,"answer_count":5,"score":2,"last_activity_date":1673732582,"creation_date":1357173410,"question_id":14131467,"body_markdown":"I have sample implementations for Merge-Sort, one using Fork-Join and other is straight recursive function.\r\n\r\nIt looks like fork-join is slower than straight recursive, why?\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    import java.util.concurrent.ForkJoinPool;\r\n    import java.util.concurrent.RecursiveTask;\r\n\r\n    class DivideTask extends RecursiveTask&lt;int[]&gt; {\r\n        private static final long serialVersionUID = -7017440434091885703L;\r\n        int[] arrayToDivide;\r\n\r\n        public DivideTask(int[] arrayToDivide) {\r\n            this.arrayToDivide = arrayToDivide;\r\n        }\r\n\r\n        @Override\r\n        protected int[] compute() {\r\n            //List&lt;RecursiveTask&gt; forkedTasks = new ArrayList&lt;&gt;();\r\n\r\n            /*\r\n             * We divide the array till it has only 1 element. \r\n             * We can also custom define this value to say some \r\n             * 5 elements. In which case the return would be\r\n             * Arrays.sort(arrayToDivide) instead.\r\n             */\r\n            if (arrayToDivide.length &gt; 1) {\r\n\r\n                List&lt;int[]&gt; partitionedArray = partitionArray();\r\n\r\n                DivideTask task1 = new DivideTask(partitionedArray.get(0));\r\n                DivideTask task2 = new DivideTask(partitionedArray.get(1));\r\n                invokeAll(task1, task2);\r\n\r\n                //Wait for results from both the tasks\r\n                int[] array1 = task1.join();\r\n                int[] array2 = task2.join();\r\n\r\n                //Initialize a merged array\r\n                int[] mergedArray = new int[array1.length + array2.length];\r\n\r\n                mergeArrays(task1.join(), task2.join(), mergedArray);\r\n\r\n                return mergedArray;\r\n            }\r\n            return arrayToDivide;\r\n        }\r\n\r\n        private void mergeArrays(int[] array1, int[] array2, int[] mergedArray) {\r\n\r\n            int i = 0, j = 0, k = 0;\r\n\r\n            while ((i &lt; array1.length) &amp;&amp; (j &lt; array2.length)) {\r\n\r\n                if (array1[i] &lt; array2[j]) {\r\n                    mergedArray[k] = array1[i++];\r\n                } else {\r\n                    mergedArray[k] = array2[j++];\r\n                }\r\n\r\n                k++;\r\n            }\r\n\r\n            if (i == array1.length) {\r\n                for (int a = j; a &lt; array2.length; a++) {\r\n                    mergedArray[k++] = array2[a];\r\n                }\r\n            } else {\r\n                for (int a = i; a &lt; array1.length; a++) {\r\n                    mergedArray[k++] = array1[a];\r\n                }\r\n            }\r\n        }\r\n\r\n        private List&lt;int[]&gt; partitionArray() {\r\n            int[] partition1 = Arrays.copyOfRange(arrayToDivide, 0, arrayToDivide.length / 2);\r\n\r\n            int[] partition2 = Arrays.copyOfRange(arrayToDivide, arrayToDivide.length / 2, arrayToDivide.length);\r\n            return Arrays.asList(partition1, partition2);\r\n        }\r\n    }\r\n\r\n    public class ForkJoinTest {\r\n        static int[] numbers;\r\n        static final int SIZE = 1_000_000;\r\n        static final int MAX = 20;\r\n\r\n        public static void main(String[] args) {\r\n            setUp();\r\n\r\n            testMergeSortByFJ();\r\n            testMergeSort();\r\n        }\r\n\r\n        static void setUp() {\r\n            numbers = new int[SIZE];\r\n            Random generator = new Random();\r\n            for (int i = 0; i &lt; numbers.length; i++) {\r\n                numbers[i] = generator.nextInt(MAX);\r\n            }\r\n        }\r\n\r\n        static void testMergeSort() {\r\n            long startTime = System.currentTimeMillis();\r\n\r\n            Mergesort sorter = new Mergesort();\r\n            sorter.sort(numbers);\r\n\r\n            long stopTime = System.currentTimeMillis();\r\n            long elapsedTime = stopTime - startTime;\r\n            System.out.println(&quot;Mergesort Time:&quot; + elapsedTime + &quot; msec&quot;);\r\n        }\r\n\r\n        static void testMergeSortByFJ() {\r\n            //System.out.println(&quot;Unsorted array: &quot; + Arrays.toString(numbers));\r\n            long t1 = System.currentTimeMillis();\r\n            DivideTask task = new DivideTask(numbers);\r\n            ForkJoinPool forkJoinPool = new ForkJoinPool();\r\n            forkJoinPool.invoke(task);\r\n            //System.out.println(&quot;Sorted array: &quot; + Arrays.toString(task.join()));\r\n            System.out.println(&quot;Fork-Join Time:&quot; + (System.currentTimeMillis() - t1) + &quot; msec&quot;);\r\n        }\r\n     }\r\n\r\n    class Mergesort {\r\n        private int[] msNumbers;\r\n        private int[] helper;\r\n\r\n        private int number;\r\n\r\n        private void merge(int low, int middle, int high) {\r\n\r\n            // Copy both parts into the helper array\r\n            for (int i = low; i &lt;= high; i++) {\r\n                helper[i] = msNumbers[i];\r\n            }\r\n\r\n            int i = low;\r\n            int j = middle + 1;\r\n            int k = low;\r\n            // Copy the smallest values from either the left or the right side back\r\n            // to the original array\r\n            while (i &lt;= middle &amp;&amp; j &lt;= high) {\r\n                if (helper[i] &lt;= helper[j]) {\r\n                    msNumbers[k] = helper[i];\r\n                    i++;\r\n                } else {\r\n                    msNumbers[k] = helper[j];\r\n                    j++;\r\n                }\r\n                k++;\r\n            }\r\n            // Copy the rest of the left side of the array into the target array\r\n            while (i &lt;= middle) {\r\n                msNumbers[k] = helper[i];\r\n                k++;\r\n                i++;\r\n            }\r\n\r\n        }\r\n\r\n        private void mergesort(int low, int high) {\r\n            // Check if low is smaller then high, if not then the array is sorted\r\n            if (low &lt; high) {\r\n                // Get the index of the element which is in the middle\r\n                int middle = low + (high - low) / 2;\r\n                // Sort the left side of the array\r\n                mergesort(low, middle);\r\n                // Sort the right side of the array\r\n                mergesort(middle + 1, high);\r\n                // Combine them both\r\n                merge(low, middle, high);\r\n            }\r\n        }\r\n\r\n        public void sort(int[] values) {\r\n            this.msNumbers = values;\r\n            number = values.length;\r\n            this.helper = new int[number];\r\n            mergesort(0, number - 1);\r\n        }\r\n    }","title":"Java fork-join Performance","body":"<p>I have sample implementations for Merge-Sort, one using Fork-Join and other is straight recursive function.</p>\n\n<p>It looks like fork-join is slower than straight recursive, why?</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.concurrent.ForkJoinPool;\nimport java.util.concurrent.RecursiveTask;\n\nclass DivideTask extends RecursiveTask&lt;int[]&gt; {\n    private static final long serialVersionUID = -7017440434091885703L;\n    int[] arrayToDivide;\n\n    public DivideTask(int[] arrayToDivide) {\n        this.arrayToDivide = arrayToDivide;\n    }\n\n    @Override\n    protected int[] compute() {\n        //List&lt;RecursiveTask&gt; forkedTasks = new ArrayList&lt;&gt;();\n\n        /*\n         * We divide the array till it has only 1 element. \n         * We can also custom define this value to say some \n         * 5 elements. In which case the return would be\n         * Arrays.sort(arrayToDivide) instead.\n         */\n        if (arrayToDivide.length &gt; 1) {\n\n            List&lt;int[]&gt; partitionedArray = partitionArray();\n\n            DivideTask task1 = new DivideTask(partitionedArray.get(0));\n            DivideTask task2 = new DivideTask(partitionedArray.get(1));\n            invokeAll(task1, task2);\n\n            //Wait for results from both the tasks\n            int[] array1 = task1.join();\n            int[] array2 = task2.join();\n\n            //Initialize a merged array\n            int[] mergedArray = new int[array1.length + array2.length];\n\n            mergeArrays(task1.join(), task2.join(), mergedArray);\n\n            return mergedArray;\n        }\n        return arrayToDivide;\n    }\n\n    private void mergeArrays(int[] array1, int[] array2, int[] mergedArray) {\n\n        int i = 0, j = 0, k = 0;\n\n        while ((i &lt; array1.length) &amp;&amp; (j &lt; array2.length)) {\n\n            if (array1[i] &lt; array2[j]) {\n                mergedArray[k] = array1[i++];\n            } else {\n                mergedArray[k] = array2[j++];\n            }\n\n            k++;\n        }\n\n        if (i == array1.length) {\n            for (int a = j; a &lt; array2.length; a++) {\n                mergedArray[k++] = array2[a];\n            }\n        } else {\n            for (int a = i; a &lt; array1.length; a++) {\n                mergedArray[k++] = array1[a];\n            }\n        }\n    }\n\n    private List&lt;int[]&gt; partitionArray() {\n        int[] partition1 = Arrays.copyOfRange(arrayToDivide, 0, arrayToDivide.length / 2);\n\n        int[] partition2 = Arrays.copyOfRange(arrayToDivide, arrayToDivide.length / 2, arrayToDivide.length);\n        return Arrays.asList(partition1, partition2);\n    }\n}\n\npublic class ForkJoinTest {\n    static int[] numbers;\n    static final int SIZE = 1_000_000;\n    static final int MAX = 20;\n\n    public static void main(String[] args) {\n        setUp();\n\n        testMergeSortByFJ();\n        testMergeSort();\n    }\n\n    static void setUp() {\n        numbers = new int[SIZE];\n        Random generator = new Random();\n        for (int i = 0; i &lt; numbers.length; i++) {\n            numbers[i] = generator.nextInt(MAX);\n        }\n    }\n\n    static void testMergeSort() {\n        long startTime = System.currentTimeMillis();\n\n        Mergesort sorter = new Mergesort();\n        sorter.sort(numbers);\n\n        long stopTime = System.currentTimeMillis();\n        long elapsedTime = stopTime - startTime;\n        System.out.println(\"Mergesort Time:\" + elapsedTime + \" msec\");\n    }\n\n    static void testMergeSortByFJ() {\n        //System.out.println(\"Unsorted array: \" + Arrays.toString(numbers));\n        long t1 = System.currentTimeMillis();\n        DivideTask task = new DivideTask(numbers);\n        ForkJoinPool forkJoinPool = new ForkJoinPool();\n        forkJoinPool.invoke(task);\n        //System.out.println(\"Sorted array: \" + Arrays.toString(task.join()));\n        System.out.println(\"Fork-Join Time:\" + (System.currentTimeMillis() - t1) + \" msec\");\n    }\n }\n\nclass Mergesort {\n    private int[] msNumbers;\n    private int[] helper;\n\n    private int number;\n\n    private void merge(int low, int middle, int high) {\n\n        // Copy both parts into the helper array\n        for (int i = low; i &lt;= high; i++) {\n            helper[i] = msNumbers[i];\n        }\n\n        int i = low;\n        int j = middle + 1;\n        int k = low;\n        // Copy the smallest values from either the left or the right side back\n        // to the original array\n        while (i &lt;= middle &amp;&amp; j &lt;= high) {\n            if (helper[i] &lt;= helper[j]) {\n                msNumbers[k] = helper[i];\n                i++;\n            } else {\n                msNumbers[k] = helper[j];\n                j++;\n            }\n            k++;\n        }\n        // Copy the rest of the left side of the array into the target array\n        while (i &lt;= middle) {\n            msNumbers[k] = helper[i];\n            k++;\n            i++;\n        }\n\n    }\n\n    private void mergesort(int low, int high) {\n        // Check if low is smaller then high, if not then the array is sorted\n        if (low &lt; high) {\n            // Get the index of the element which is in the middle\n            int middle = low + (high - low) / 2;\n            // Sort the left side of the array\n            mergesort(low, middle);\n            // Sort the right side of the array\n            mergesort(middle + 1, high);\n            // Combine them both\n            merge(low, middle, high);\n        }\n    }\n\n    public void sort(int[] values) {\n        this.msNumbers = values;\n        number = values.length;\n        this.helper = new int[number];\n        mergesort(0, number - 1);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673732533,"creation_date":1665687208,"answer_id":74060494,"question_id":74059688,"body_markdown":"The only difference in the examples posted by you, is, in case of ```Embeddable```, the ```student_id course_id``` would be a composite key, so there would only be one row allowed per ```student_id course_id``` combination. Whereas, in the second example, you have used generated primary key, ensuring multiple rows for each ```student_id course_id``` combination. This would be particularly useful if the student fails the course for the first time and attempts it again. You can then add parameters like ```attemped_on, is_completed```, etc. to the student_course entity ","title":"in Spring jpa using the @ManyToMany relationship, why create a new class with @Embeddable?","body":"<p>The only difference in the examples posted by you, is, in case of <code>Embeddable</code>, the <code>student_id course_id</code> would be a composite key, so there would only be one row allowed per <code>student_id course_id</code> combination. Whereas, in the second example, you have used generated primary key, ensuring multiple rows for each <code>student_id course_id</code> combination. This would be particularly useful if the student fails the course for the first time and attempts it again. You can then add parameters like <code>attemped_on, is_completed</code>, etc. to the student_course entity</p>\n"},{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665692982,"creation_date":1665692982,"answer_id":74061453,"question_id":74059688,"body_markdown":"Your examples show differences in the key, and as Chetan&#39;s [answer][1] states, this affects the key used in the table. The choices here isn&#39;t necessarily in using a separate class/embbeded class, but in using a single generated Identifier vs using a composite primary key for the entity. \r\n\r\nIn the embedded example you&#39;ve posted, you have a composite primary key based on foreign key mappings. There are many other ways to map this same setup though, but the common parts will be:\r\n\r\n 1. composite PKs need an ID class. It doesn&#39;t have to be embedded in your class (see JPA [derived IDs][2]) but does need to exist. This is part of the JPA spec and allows em.find operations to deal with a single object. \r\n 2. ID values are immutable. They cannot change without remove/persist operations as per the JPA specification. Many providers don&#39;t like you even attempting to modify them in an Entity instance. In your embeddable example, you cannot change the references, while in the generated id example, you can.\r\n\r\nIt also affects what JPA requires you to use in foreign keys. If you use a composite ID, any references to that entity (*ToOne) that require foreign keys to that table are required to use its defined IDs - all columns that make up that ID. Some providers don&#39;t enforce this, but it will affect entity caching; since entities are cached on their IDs, using something else as the target of FKs might mean database hits for entities already in the cache. \r\n\r\n  [1]: https://stackoverflow.com/a/74060494/496099\r\n  [2]: https://wiki.eclipse.org/EclipseLink/Examples/JPA/2.0/DerivedIdentifiers","title":"in Spring jpa using the @ManyToMany relationship, why create a new class with @Embeddable?","body":"<p>Your examples show differences in the key, and as Chetan's <a href=\"https://stackoverflow.com/a/74060494/496099\">answer</a> states, this affects the key used in the table. The choices here isn't necessarily in using a separate class/embbeded class, but in using a single generated Identifier vs using a composite primary key for the entity.</p>\n<p>In the embedded example you've posted, you have a composite primary key based on foreign key mappings. There are many other ways to map this same setup though, but the common parts will be:</p>\n<ol>\n<li>composite PKs need an ID class. It doesn't have to be embedded in your class (see JPA <a href=\"https://wiki.eclipse.org/EclipseLink/Examples/JPA/2.0/DerivedIdentifiers\" rel=\"nofollow noreferrer\">derived IDs</a>) but does need to exist. This is part of the JPA spec and allows em.find operations to deal with a single object.</li>\n<li>ID values are immutable. They cannot change without remove/persist operations as per the JPA specification. Many providers don't like you even attempting to modify them in an Entity instance. In your embeddable example, you cannot change the references, while in the generated id example, you can.</li>\n</ol>\n<p>It also affects what JPA requires you to use in foreign keys. If you use a composite ID, any references to that entity (*ToOne) that require foreign keys to that table are required to use its defined IDs - all columns that make up that ID. Some providers don't enforce this, but it will affect entity caching; since entities are cached on their IDs, using something else as the target of FKs might mean database hits for entities already in the cache.</p>\n"}],"owner":{"account_id":20883043,"reputation":3,"user_id":20233546,"display_name":"Lester_stack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673732533,"creation_date":1665682312,"question_id":74059688,"body_markdown":"According to the Spring JPA documentation, in the Many-To-Many relationship (student - course) we must create a new table (student_course)\r\n\r\nclass student ---&gt; class student_course &lt;--- class course\r\n\r\n\r\nAccording to the documentation, if we want to add a new property to the table (student_course) we must create a new class that will contain the compound keys of the student class and the course class\r\n\r\n    \r\n    @Embeddable\r\n    class CourseStudentKey implements Serializable {\r\n\r\n\r\n    @Column(name=&quot;student_id&quot;)\r\n    Long studentId;\r\n\r\n\r\n    @Column(name = &quot;course_id&quot;)\r\n    Long courseId;\r\n    }\r\n\r\n_ Then to the Student_Course class we assign the id of type CourseStudentKey that contains the compound keys:\r\n\r\n   \r\n    @Entity\r\n    class StudentCourse {\r\n\r\n    @EmbeddedId\r\n    CourseRatingKey id;\r\n\r\n    @ManyToOne\r\n    @MapsId(&quot;studentId&quot;)\r\n    @JoinColumn(name = &quot;student_id&quot;)\r\n    Student student;\r\n\r\n    @ManyToOne\r\n    @MapsId(&quot;courseId&quot;)\r\n    @JoinColumn(name = &quot;course_id&quot;)\r\n    Course course;\r\n    }\r\n\r\nMy question is: What is the difference in creating only the StudentCourse class and doing the @ManyToOne mapping to the Student class and the Course class??... in this way we can also add attributes to the StudentCourse class\r\n\r\n\r\n_Clase Student\r\n    \r\n    @Entity\r\n    class Student {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private idStudent;\r\n\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;student&quot;)\r\n    List&lt;StudentCourse&gt; studentCourses = new ArrayList&lt;&gt;();\r\n\r\n\r\n_Clase Course\r\n\r\n    @Entity\r\n    class Course{\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private idCourse;\r\n\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;course&quot;)\r\n    List&lt;StudentCourse&gt; studentCourses = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n_Clase StudentCourse\r\n\r\n    @Entity \r\n    class StudentCourse {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private idStudentCourse;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;student_id&quot;)\r\n    Student student;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;course_id&quot;)\r\n    Course course;\r\n    }","title":"in Spring jpa using the @ManyToMany relationship, why create a new class with @Embeddable?","body":"<p>According to the Spring JPA documentation, in the Many-To-Many relationship (student - course) we must create a new table (student_course)</p>\n<p>class student ---&gt; class student_course &lt;--- class course</p>\n<p>According to the documentation, if we want to add a new property to the table (student_course) we must create a new class that will contain the compound keys of the student class and the course class</p>\n<pre><code>@Embeddable\nclass CourseStudentKey implements Serializable {\n\n\n@Column(name=&quot;student_id&quot;)\nLong studentId;\n\n\n@Column(name = &quot;course_id&quot;)\nLong courseId;\n}\n</code></pre>\n<p>_ Then to the Student_Course class we assign the id of type CourseStudentKey that contains the compound keys:</p>\n<pre><code>@Entity\nclass StudentCourse {\n\n@EmbeddedId\nCourseRatingKey id;\n\n@ManyToOne\n@MapsId(&quot;studentId&quot;)\n@JoinColumn(name = &quot;student_id&quot;)\nStudent student;\n\n@ManyToOne\n@MapsId(&quot;courseId&quot;)\n@JoinColumn(name = &quot;course_id&quot;)\nCourse course;\n}\n</code></pre>\n<p>My question is: What is the difference in creating only the StudentCourse class and doing the @ManyToOne mapping to the Student class and the Course class??... in this way we can also add attributes to the StudentCourse class</p>\n<p>_Clase Student</p>\n<pre><code>@Entity\nclass Student {\n\n@Id\n@GeneratedValue(strategy=GenerationType.IDENTITY)\nprivate idStudent;\n\n@JsonIgnore\n@OneToMany(mappedBy = &quot;student&quot;)\nList&lt;StudentCourse&gt; studentCourses = new ArrayList&lt;&gt;();\n</code></pre>\n<p>_Clase Course</p>\n<pre><code>@Entity\nclass Course{\n\n@Id\n@GeneratedValue(strategy=GenerationType.IDENTITY)\nprivate idCourse;\n\n@JsonIgnore\n@OneToMany(mappedBy = &quot;course&quot;)\nList&lt;StudentCourse&gt; studentCourses = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>_Clase StudentCourse</p>\n<pre><code>@Entity \nclass StudentCourse {\n\n@Id\n@GeneratedValue(strategy=GenerationType.IDENTITY)\nprivate idStudentCourse;\n\n@ManyToOne\n@JoinColumn(name = &quot;student_id&quot;)\nStudent student;\n\n@ManyToOne\n@JoinColumn(name = &quot;course_id&quot;)\nCourse course;\n}\n</code></pre>\n"},{"tags":["java","eclipse","spring-boot","breakpoints","spring-tool-suite"],"comments":[{"owner":{"account_id":198894,"reputation":4566,"user_id":443836,"accept_rate":52,"display_name":"Marco Eckstein"},"score":2,"creation_date":1556894682,"post_id":32770884,"comment_id":98595025,"body_markdown":"For IntelliJ users who landed here: Add a condition to the breakpoint in Run | View Breakpoints... | Any Exceptions: `return !(this instanceof org.springframework.boot.devtools.restart.SilentExitExceptionHandler.SilentExitException);` This must be Java even if you develop in another JVM language.","body":"For IntelliJ users who landed here: Add a condition to the breakpoint in Run | View Breakpoints... | Any Exceptions: <code>return !(this instanceof org.springframework.boot.devtools.restart.SilentExitExceptio&zwnj;&#8203;nHandler.SilentExitE&zwnj;&#8203;xception);</code> This must be Java even if you develop in another JVM language."}],"answers":[{"comments":[{"owner":{"account_id":438612,"reputation":24218,"user_id":826983,"accept_rate":69,"display_name":"Stefan Falk"},"score":8,"creation_date":1488627754,"post_id":32788203,"comment_id":72322219,"body_markdown":"This issue is still present unfortunately.","body":"This issue is still present unfortunately."},{"owner":{"account_id":314650,"reputation":1571,"user_id":745828,"display_name":"nabster"},"score":2,"creation_date":1572660065,"post_id":32788203,"comment_id":103638210,"body_markdown":"This issue is still present.","body":"This issue is still present."},{"owner":{"account_id":6167520,"reputation":1476,"user_id":4806903,"accept_rate":41,"display_name":"Sachin Sharma"},"score":1,"creation_date":1583228405,"post_id":32788203,"comment_id":107036359,"body_markdown":"still present :p","body":"still present :p"},{"owner":{"account_id":2846017,"reputation":1909,"user_id":2444394,"display_name":"src3369"},"score":2,"creation_date":1591056338,"post_id":32788203,"comment_id":109906264,"body_markdown":"This issue still present. using Eclipse Version: 2019-06 (4.12.0) &amp; spring-boot 2.0.6.\nWindow-&gt; Preferences -.&gt; Java -&gt; Debig -&gt; unchecked &quot;Suspend execution on uncaught exceptions&quot;","body":"This issue still present. using Eclipse Version: 2019-06 (4.12.0) &amp; spring-boot 2.0.6. Window-&gt; Preferences -.&gt; Java -&gt; Debig -&gt; unchecked &quot;Suspend execution on uncaught exceptions&quot;"},{"owner":{"account_id":5849629,"reputation":9616,"user_id":5377805,"accept_rate":93,"display_name":"HDJEMAI"},"score":0,"creation_date":1592150022,"post_id":32788203,"comment_id":110315125,"body_markdown":"Still present with Eclipse version 2020-03 (4.15.0) &amp; spring-boot 2.3.1","body":"Still present with Eclipse version 2020-03 (4.15.0) &amp; spring-boot 2.3.1"},{"owner":{"account_id":3989525,"reputation":81,"user_id":3288951,"accept_rate":50,"display_name":"Shramik"},"score":0,"creation_date":1607698033,"post_id":32788203,"comment_id":115361533,"body_markdown":"Still present on spring boot 2.4.0 and eclipse Version: 2020-06 (4.16.0)","body":"Still present on spring boot 2.4.0 and eclipse Version: 2020-06 (4.16.0)"},{"owner":{"account_id":1132767,"reputation":1647,"user_id":1118459,"accept_rate":60,"display_name":"MBach"},"score":0,"creation_date":1620657541,"post_id":32788203,"comment_id":119258375,"body_markdown":"Well, you know, still present","body":"Well, you know, still present"},{"owner":{"account_id":4208586,"reputation":668,"user_id":3446931,"accept_rate":60,"display_name":"borgmater"},"score":0,"creation_date":1639748001,"post_id":32788203,"comment_id":124434292,"body_markdown":"And all of a sudden, it became present for me too ..","body":"And all of a sudden, it became present for me too .."},{"owner":{"account_id":21224028,"reputation":157,"user_id":15610035,"display_name":"Voronin"},"score":0,"creation_date":1656704144,"post_id":32788203,"comment_id":128645473,"body_markdown":"Spring Boot 2.7.1 and the issue is still present....","body":"Spring Boot 2.7.1 and the issue is still present...."},{"owner":{"account_id":1741100,"reputation":93,"user_id":1592487,"display_name":"hirenhcm"},"score":0,"creation_date":1662532475,"post_id":32788203,"comment_id":130023911,"body_markdown":"Still not fixed. Spring Boot 5.2.4","body":"Still not fixed. Spring Boot 5.2.4"},{"owner":{"account_id":2146882,"reputation":248,"user_id":1904325,"display_name":"FINARX"},"score":0,"creation_date":1666454981,"post_id":32788203,"comment_id":130943283,"body_markdown":"See next answer of @xbranko is the solution per 2022: -Dspring.devtools.restart.enabled=false when launching the debugger","body":"See next answer of @xbranko is the solution per 2022: -Dspring.devtools.restart.enabled=false when launching the debugger"}],"tags":[],"owner":{"account_id":1656890,"reputation":8197,"user_id":1526192,"display_name":"Phil Webb"},"comment_count":11,"down_vote_count":1,"up_vote_count":145,"is_accepted":true,"score":144,"last_activity_date":1443204561,"creation_date":1443204561,"answer_id":32788203,"question_id":32770884,"body_markdown":"This is unfortunately a know issue with the new `spring-boot-devtools` module (see https://github.com/spring-projects/spring-boot/issues/3100). We use this trick to kill the main thread so that we can replace it with a re-loadable version. So far I&#39;ve not found a way to prevent the debug breakpoint from triggering.\r\n\r\nFor now, you can toggle the &quot;suspend execution on uncaught exceptions&quot; checkbox in Java -&gt; Debug preferences to prevent it from happening.","title":"Breakpoint at &quot;throw new SilentExitException()&quot; in Eclipse + Spring Boot","body":"<p>This is unfortunately a know issue with the new <code>spring-boot-devtools</code> module (see <a href=\"https://github.com/spring-projects/spring-boot/issues/3100\">https://github.com/spring-projects/spring-boot/issues/3100</a>). We use this trick to kill the main thread so that we can replace it with a re-loadable version. So far I've not found a way to prevent the debug breakpoint from triggering.</p>\n\n<p>For now, you can toggle the \"suspend execution on uncaught exceptions\" checkbox in Java -> Debug preferences to prevent it from happening.</p>\n"},{"tags":[],"owner":{"account_id":34190,"reputation":6211,"user_id":96386,"accept_rate":83,"display_name":"RichN"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1522221004,"creation_date":1522221004,"answer_id":49528203,"question_id":32770884,"body_markdown":"As Eclipse on Debug mode already allows limited hotpatching, I find the reloader to be counterproductive most of the time and so I decided to disable it by:\r\n\r\n    System.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;false&quot;);\r\n\r\n\r\nReference: https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html#using-boot-devtools-restart-disable\r\n\r\nSince that exception is thrown by the reloader, this also solves this issue. Note that you&#39;ll have to use the `System.setProperty` method instead of setting it in `application.properties`.","title":"Breakpoint at &quot;throw new SilentExitException()&quot; in Eclipse + Spring Boot","body":"<p>As Eclipse on Debug mode already allows limited hotpatching, I find the reloader to be counterproductive most of the time and so I decided to disable it by:</p>\n\n<pre><code>System.setProperty(\"spring.devtools.restart.enabled\", \"false\");\n</code></pre>\n\n<p>Reference: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html#using-boot-devtools-restart-disable\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/using-boot-devtools.html#using-boot-devtools-restart-disable</a></p>\n\n<p>Since that exception is thrown by the reloader, this also solves this issue. Note that you'll have to use the <code>System.setProperty</code> method instead of setting it in <code>application.properties</code>.</p>\n"},{"comments":[{"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"score":0,"creation_date":1638885170,"post_id":53777272,"comment_id":124202388,"body_markdown":"Setting the scope to runtime, didn&#39;t work for me.","body":"Setting the scope to runtime, didn&#39;t work for me."},{"owner":{"account_id":10449476,"reputation":854,"user_id":7703570,"accept_rate":90,"display_name":"Shakthi"},"score":0,"creation_date":1683527635,"post_id":53777272,"comment_id":134374628,"body_markdown":"this is not working.","body":"this is not working."}],"tags":[],"owner":{"account_id":13161151,"reputation":27,"user_id":9506595,"display_name":"ra1729"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1544781154,"creation_date":1544781154,"answer_id":53777272,"question_id":32770884,"body_markdown":"Try to run devtools at scope runtime:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Breakpoint at &quot;throw new SilentExitException()&quot; in Eclipse + Spring Boot","body":"<p>Try to run devtools at scope runtime:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9037951,"reputation":201,"user_id":6733136,"display_name":"sivakadi"},"score":1,"creation_date":1584467095,"post_id":59041658,"comment_id":107443777,"body_markdown":"Out of other options, I used this. Thanks a lot for making my day!","body":"Out of other options, I used this. Thanks a lot for making my day!"},{"owner":{"account_id":2580520,"reputation":451,"user_id":2237302,"accept_rate":88,"display_name":"Ivan Rodrigues"},"score":0,"creation_date":1647379773,"post_id":59041658,"comment_id":126355816,"body_markdown":"Thank u for share!!! I used in the main method with:\nSystem.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;false&quot;);","body":"Thank u for share!!! I used in the main method with: System.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;false&quot;);"},{"owner":{"account_id":19135528,"reputation":53,"user_id":13976582,"display_name":"Yash Nasery"},"score":0,"creation_date":1663828462,"post_id":59041658,"comment_id":130331695,"body_markdown":"This works !! For silent exit without a relevant stacktrace. I also had a mysql-connector-java version issue before this which can also cause a silent exit exception. For that if you are using the 5.1.6 try switching to 5.1.49.","body":"This works !! For silent exit without a relevant stacktrace. I also had a mysql-connector-java version issue before this which can also cause a silent exit exception. For that if you are using the 5.1.6 try switching to 5.1.49."}],"tags":[],"owner":{"account_id":125677,"reputation":635,"user_id":3167079,"accept_rate":40,"display_name":"xbranko"},"comment_count":3,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1619124325,"creation_date":1574725016,"answer_id":59041658,"question_id":32770884,"body_markdown":"Add the property as a VM argument:\r\n\r\n    -Dspring.devtools.restart.enabled=false\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0hxlf.png\r\n\r\nThat way you don&#39;t have to change your code, as it is the case when using:\r\n\r\n    System.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;false&quot;);","title":"Breakpoint at &quot;throw new SilentExitException()&quot; in Eclipse + Spring Boot","body":"<p>Add the property as a VM argument:</p>\n<pre><code>-Dspring.devtools.restart.enabled=false\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0hxlf.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0hxlf.png\" alt=\"enter image description here\" /></a></p>\n<p>That way you don't have to change your code, as it is the case when using:</p>\n<pre><code>System.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;false&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8579517,"reputation":367,"user_id":6427673,"display_name":"Dan Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1580742418,"creation_date":1580742418,"answer_id":60041916,"question_id":32770884,"body_markdown":"My workaround:\r\n\r\n  \tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t\tSpringApplication.run(App.class, args);\r\n\t\t} catch (Throwable e) {\r\n\t\t\tif(e.getClass().getName().contains(&quot;SilentExitException&quot;)) {\r\n\t\t\t\tLOGGER.debug(&quot;Spring is restarting the main thread - See spring-boot-devtools&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tLOGGER.error(&quot;Application crashed!&quot;, e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nIt doesn&#39;t matter that we ignore the `SilentExitException` because the devtools are just restarting the instance with a `SilentExitException` which isn&#39;t very silent. This try block will silence it...\r\n\r\nI had to use text matching on the class as the `SilentExitException` is private in `SilentExitExceptionHandler`.\r\n\r\nIt doesn&#39;t solve your problem with the breakpoint...","title":"Breakpoint at &quot;throw new SilentExitException()&quot; in Eclipse + Spring Boot","body":"<p>My workaround:</p>\n\n<pre><code>public static void main(String[] args) {\n    try {\n        SpringApplication.run(App.class, args);\n    } catch (Throwable e) {\n        if(e.getClass().getName().contains(\"SilentExitException\")) {\n            LOGGER.debug(\"Spring is restarting the main thread - See spring-boot-devtools\");\n        } else {\n            LOGGER.error(\"Application crashed!\", e);\n        }\n    }\n}\n</code></pre>\n\n<p>It doesn't matter that we ignore the <code>SilentExitException</code> because the devtools are just restarting the instance with a <code>SilentExitException</code> which isn't very silent. This try block will silence it...</p>\n\n<p>I had to use text matching on the class as the <code>SilentExitException</code> is private in <code>SilentExitExceptionHandler</code>.</p>\n\n<p>It doesn't solve your problem with the breakpoint...</p>\n"},{"tags":[],"owner":{"account_id":20676306,"reputation":11,"user_id":15180833,"display_name":"Hameed Riswan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613630286,"creation_date":1613630286,"answer_id":66254834,"question_id":32770884,"body_markdown":"I had same issue while running spring boot project. I found TRY CATCH block used in Main method. \r\n\r\nRemove the try catch block run the code. that error will not come again. like below:\r\n\r\npublic static void main(String[] args) {\r\n\r\n\t\tSpringApplication.run(TrewAuthApplication.class, args);\r\n\r\n\t}","title":"Breakpoint at &quot;throw new SilentExitException()&quot; in Eclipse + Spring Boot","body":"<p>I had same issue while running spring boot project. I found TRY CATCH block used in Main method.</p>\n<p>Remove the try catch block run the code. that error will not come again. like below:</p>\n<p>public static void main(String[] args) {</p>\n<pre><code>    SpringApplication.run(TrewAuthApplication.class, args);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1628786590,"creation_date":1628786590,"answer_id":68761313,"question_id":32770884,"body_markdown":"Delete these to Unknown Exceptions &amp; it won&#39;t break there:\r\n[![enter image description here][1]][1]\r\n\r\nUnfortunately, I haven&#39;t found a way for this to be permanent, but it should last till the next time you restart eclipse.\r\n\r\n  [1]: https://i.stack.imgur.com/6PGR3.png","title":"Breakpoint at &quot;throw new SilentExitException()&quot; in Eclipse + Spring Boot","body":"<p>Delete these to Unknown Exceptions &amp; it won't break there:\n<a href=\"https://i.stack.imgur.com/6PGR3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6PGR3.png\" alt=\"enter image description here\" /></a></p>\n<p>Unfortunately, I haven't found a way for this to be permanent, but it should last till the next time you restart eclipse.</p>\n"},{"comments":[{"owner":{"account_id":325619,"reputation":125,"user_id":646912,"accept_rate":86,"display_name":"Arquillian"},"score":0,"creation_date":1673729953,"post_id":69286931,"comment_id":132564735,"body_markdown":"Thi disables live-reload in apps like vaadin when you want to debug... The user just wanted to get rid of this exception stopping him from debugging. Therefore this doesnt help getting rid of the exception, it disables the complete feature.","body":"Thi disables live-reload in apps like vaadin when you want to debug... The user just wanted to get rid of this exception stopping him from debugging. Therefore this doesnt help getting rid of the exception, it disables the complete feature."}],"tags":[],"owner":{"account_id":3992180,"reputation":1524,"user_id":3290745,"display_name":"Tristate"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632323433,"creation_date":1632323433,"answer_id":69286931,"question_id":32770884,"body_markdown":"Set this in your application.properties file to true.\r\n\r\n    spring.devtools.restart.enabled=false\r\n\r\nAlso go sure that if you use a spring cloud config server, there is no propertie file  that enables this.\r\n","title":"Breakpoint at &quot;throw new SilentExitException()&quot; in Eclipse + Spring Boot","body":"<p>Set this in your application.properties file to true.</p>\n<pre><code>spring.devtools.restart.enabled=false\n</code></pre>\n<p>Also go sure that if you use a spring cloud config server, there is no propertie file  that enables this.</p>\n"},{"tags":[],"owner":{"account_id":2969131,"reputation":340,"user_id":2521628,"display_name":"Jan Cizmar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641310520,"creation_date":1641310520,"answer_id":70581292,"question_id":32770884,"body_markdown":"My workaround in Kotlin: \r\n\r\n    @JvmStatic\r\n    fun main(args: Array&lt;String&gt;) {\r\n      val app = SpringApplication(Application::class.java)\r\n      try {\r\n        app.run(*args)\r\n      } catch (e: Exception) {\r\n        preventNonNullExitCodeOnSilentExitException(e)\r\n      }\r\n    }\r\n\r\n    private fun preventNonNullExitCodeOnSilentExitException(e: Exception) {\r\n      if (e.toString().contains(&quot;SilentExitException&quot;)) {\r\n        log.info(&quot;Ignoring Silent Exit Exception...&quot;)\r\n        e.printStackTrace()\r\n        return\r\n      }\r\n      throw e\r\n    }","title":"Breakpoint at &quot;throw new SilentExitException()&quot; in Eclipse + Spring Boot","body":"<p>My workaround in Kotlin:</p>\n<pre><code>@JvmStatic\nfun main(args: Array&lt;String&gt;) {\n  val app = SpringApplication(Application::class.java)\n  try {\n    app.run(*args)\n  } catch (e: Exception) {\n    preventNonNullExitCodeOnSilentExitException(e)\n  }\n}\n\nprivate fun preventNonNullExitCodeOnSilentExitException(e: Exception) {\n  if (e.toString().contains(&quot;SilentExitException&quot;)) {\n    log.info(&quot;Ignoring Silent Exit Exception...&quot;)\n    e.printStackTrace()\n    return\n  }\n  throw e\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":325619,"reputation":125,"user_id":646912,"accept_rate":86,"display_name":"Arquillian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673732496,"creation_date":1673732496,"answer_id":75121445,"question_id":32770884,"body_markdown":"In the meantime this seems fixed when you use Spring Tools Suite latest. BUT when you START your application the exception still occurs and the debugger stops. Just after the first live-/hot-reload it will be ignored by STS. If you take a look at Preferences - Spring, there is a flag for this exception.","title":"Breakpoint at &quot;throw new SilentExitException()&quot; in Eclipse + Spring Boot","body":"<p>In the meantime this seems fixed when you use Spring Tools Suite latest. BUT when you START your application the exception still occurs and the debugger stops. Just after the first live-/hot-reload it will be ignored by STS. If you take a look at Preferences - Spring, there is a flag for this exception.</p>\n"}],"owner":{"account_id":132832,"reputation":2239,"user_id":1807416,"display_name":"Bruno De Freitas Barros"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61353,"favorite_count":0,"down_vote_count":0,"up_vote_count":116,"accepted_answer_id":32788203,"answer_count":10,"score":116,"last_activity_date":1673732496,"creation_date":1443128670,"question_id":32770884,"body_markdown":"Every time I run my Spring Boot project on debug mode in Eclipse IDE (Spring Tool Suite), the thread stops at `throw new SilentExitException();` line even without a breakpoint.\r\n\r\nIs there some solution to avoid this behavior?\r\n\r\n`org.springframework.boot.devtools.restart.SilentExitExceptionHandler.exitCurrentThread() (line 53):`\r\n\r\n    public static void exitCurrentThread() {\r\n\t\tthrow new SilentExitException();\r\n\t}\r\n\r\nThis starts happening after upgrade to 1.3.0 Milestones.\r\n\r\n**Spring Tool Suite**\r\n\r\n    Version: 3.7.0.RELEASE\r\n    Build Id: 201506290649\r\n\r\n**Platform:**\r\n\r\n    Eclipse Luna SR2 (4.4.2)","title":"Breakpoint at &quot;throw new SilentExitException()&quot; in Eclipse + Spring Boot","body":"<p>Every time I run my Spring Boot project on debug mode in Eclipse IDE (Spring Tool Suite), the thread stops at <code>throw new SilentExitException();</code> line even without a breakpoint.</p>\n<p>Is there some solution to avoid this behavior?</p>\n<p><code>org.springframework.boot.devtools.restart.SilentExitExceptionHandler.exitCurrentThread() (line 53):</code></p>\n<pre><code>public static void exitCurrentThread() {\n    throw new SilentExitException();\n}\n</code></pre>\n<p>This starts happening after upgrade to 1.3.0 Milestones.</p>\n<p><strong>Spring Tool Suite</strong></p>\n<pre><code>Version: 3.7.0.RELEASE\nBuild Id: 201506290649\n</code></pre>\n<p><strong>Platform:</strong></p>\n<pre><code>Eclipse Luna SR2 (4.4.2)\n</code></pre>\n"},{"tags":["java","eclipse","gradle","deeplearning4j","nd4j"],"answers":[{"comments":[{"owner":{"account_id":6263135,"reputation":88,"user_id":4869675,"display_name":"Farshad Bakhshandegan Moghadda"},"score":0,"creation_date":1509032770,"post_id":46956059,"comment_id":80864525,"body_markdown":"Thank you so much for your answer. I know that ND4j is not optional. But the point is why it works inside eclipse? I have not install ND4j separately.","body":"Thank you so much for your answer. I know that ND4j is not optional. But the point is why it works inside eclipse? I have not install ND4j separately."},{"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"score":0,"creation_date":1509068833,"post_id":46956059,"comment_id":80880125,"body_markdown":"I told you already. It&#39;s because you  have the nd4j dependency (NOT API nd4j-NATIVE caps for emphasis) You are misusing nd4j. An nd4j backend should not be a test dependency.","body":"I told you already. It&#39;s because you  have the nd4j dependency (NOT API nd4j-NATIVE caps for emphasis) You are misusing nd4j. An nd4j backend should not be a test dependency."},{"owner":{"account_id":6263135,"reputation":88,"user_id":4869675,"display_name":"Farshad Bakhshandegan Moghadda"},"score":0,"creation_date":1509089638,"post_id":46956059,"comment_id":80886711,"body_markdown":"Thank you so much. It is fixed.","body":"Thank you so much. It is fixed."},{"owner":{"account_id":3147406,"reputation":421,"user_id":2661619,"accept_rate":55,"display_name":"F___ThisToxicCommunityHere"},"score":2,"creation_date":1557109193,"post_id":46956059,"comment_id":98642975,"body_markdown":"The link is broken. It would be great to explain instead of posting a link. Thanks","body":"The link is broken. It would be great to explain instead of posting a link. Thanks"},{"owner":{"account_id":3147406,"reputation":421,"user_id":2661619,"accept_rate":55,"display_name":"F___ThisToxicCommunityHere"},"score":3,"creation_date":1557109592,"post_id":46956059,"comment_id":98643040,"body_markdown":"It would be even greater to get a little information about this &quot;backend&quot; idea without having to study the entire concept of nd4j starting with &quot;NDArrays: How Are They Stored in Memory?&quot; \nI just want to use deeplearning4j to train some models, not to study nd4j for days. (And I don&#39;t get a backend, even after adding nd4j-native and so on)","body":"It would be even greater to get a little information about this &quot;backend&quot; idea without having to study the entire concept of nd4j starting with &quot;NDArrays: How Are They Stored in Memory?&quot;  I just want to use deeplearning4j to train some models, not to study nd4j for days. (And I don&#39;t get a backend, even after adding nd4j-native and so on)"},{"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"score":0,"creation_date":1557579644,"post_id":46956059,"comment_id":98817652,"body_markdown":"I&#39;m not sure what else we can do for you. There&#39;s a stack trace that prints out exactly where to go when we don&#39;t find one. A direct link on what the problem is and how to solve it is about as easy as it gets. If you have any feedback we can take action on file an issue, happy to accommodate.","body":"I&#39;m not sure what else we can do for you. There&#39;s a stack trace that prints out exactly where to go when we don&#39;t find one. A direct link on what the problem is and how to solve it is about as easy as it gets. If you have any feedback we can take action on file an issue, happy to accommodate."},{"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"score":0,"creation_date":1673661302,"post_id":46956059,"comment_id":132554989,"body_markdown":"&quot;wE evEn giVe you a LiNk riGhT iN tHe sTack tRace.&quot; the link literally 404s.","body":"&quot;wE evEn giVe you a LiNk riGhT iN tHe sTack tRace.&quot; the link literally 404s."},{"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"score":0,"creation_date":1673731905,"post_id":46956059,"comment_id":132565037,"body_markdown":"Hi, this is a link from 3 years ago if you haven&#39;t noticed :) I updated the link.","body":"Hi, this is a link from 3 years ago if you haven&#39;t noticed :) I updated the link."}],"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"comment_count":8,"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1673731870,"creation_date":1509025511,"answer_id":46956059,"question_id":46953999,"body_markdown":"Edit: new link is here. https://deeplearning4j.konduit.ai/config/backends\r\n\r\n\r\nOld content below:\r\nYou have test scope on the nd4j backend. An nd4j backend is NEVER optional.\r\nhttps://nd4j.org/backend.html\r\n\r\nThe error is right in the message. We even give you a link with an explanation right in the stack trace.","title":"Deeplearning4j example does not work with gradle","body":"<p>Edit: new link is here. <a href=\"https://deeplearning4j.konduit.ai/config/backends\" rel=\"nofollow noreferrer\">https://deeplearning4j.konduit.ai/config/backends</a></p>\n<p>Old content below:\nYou have test scope on the nd4j backend. An nd4j backend is NEVER optional.\n<a href=\"https://nd4j.org/backend.html\" rel=\"nofollow noreferrer\">https://nd4j.org/backend.html</a></p>\n<p>The error is right in the message. We even give you a link with an explanation right in the stack trace.</p>\n"},{"comments":[{"owner":{"account_id":10235727,"reputation":183,"user_id":7554773,"display_name":"thomasters"},"score":0,"creation_date":1592470385,"post_id":58155847,"comment_id":110438561,"body_markdown":"As he states in his question he is using Gradle so not hugely helpful providing a Maven link.","body":"As he states in his question he is using Gradle so not hugely helpful providing a Maven link."},{"owner":{"account_id":3915820,"reputation":1101,"user_id":3239653,"accept_rate":80,"display_name":"zmx"},"score":0,"creation_date":1592478045,"post_id":58155847,"comment_id":110442657,"body_markdown":"try this: compile &quot;org.nd4j:nd4j-native:0.9.1&quot;","body":"try this: compile &quot;org.nd4j:nd4j-native:0.9.1&quot;"},{"owner":{"account_id":3915820,"reputation":1101,"user_id":3239653,"accept_rate":80,"display_name":"zmx"},"score":0,"creation_date":1592478355,"post_id":58155847,"comment_id":110442808,"body_markdown":"or just access the maven repository for that (you have both gradle and maven there, among other build systems): https://mvnrepository.com/artifact/org.nd4j/nd4j-native/0.9.1","body":"or just access the maven repository for that (you have both gradle and maven there, among other build systems): <a href=\"https://mvnrepository.com/artifact/org.nd4j/nd4j-native/0.9.1\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.nd4j/nd4j-native/0.9.1</a>"}],"tags":[],"owner":{"account_id":3915820,"reputation":1101,"user_id":3239653,"accept_rate":80,"display_name":"zmx"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652943277,"creation_date":1569764884,"answer_id":58155847,"question_id":46953999,"body_markdown":"I was having the same problem. You need an ND4J backend, which means updating your dependency tree.\r\n\r\n\r\nFor Maven builds, add the following dependency to your project&#39;s pom:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.nd4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;nd4j-native&lt;/artifactId&gt;\r\n        &lt;version&gt;0.9.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFor Gradle builds, just add the following line in your dependencies:\r\n````\r\ncompile &quot;org.nd4j:nd4j-native:0.9.1&quot;\r\n````\r\n\r\n\r\nThis native backend uses the CPU for computations.\r\nThere is another dependency for a CUDA-enabled graphics card.\r\n\r\n\r\nI found this link helpful:\r\n[DL4J Performance Debugging][1]\r\n\r\n\r\n  [1]: https://deeplearning4j.org/docs/latest/deeplearning4j-config-performance-debugging","title":"Deeplearning4j example does not work with gradle","body":"<p>I was having the same problem. You need an ND4J backend, which means updating your dependency tree.</p>\n<p>For Maven builds, add the following dependency to your project's pom:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.nd4j&lt;/groupId&gt;\n    &lt;artifactId&gt;nd4j-native&lt;/artifactId&gt;\n    &lt;version&gt;0.9.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>For Gradle builds, just add the following line in your dependencies:</p>\n<pre><code>compile &quot;org.nd4j:nd4j-native:0.9.1&quot;\n</code></pre>\n<p>This native backend uses the CPU for computations.\nThere is another dependency for a CUDA-enabled graphics card.</p>\n<p>I found this link helpful:\n<a href=\"https://deeplearning4j.org/docs/latest/deeplearning4j-config-performance-debugging\" rel=\"nofollow noreferrer\">DL4J Performance Debugging</a></p>\n"}],"owner":{"account_id":6263135,"reputation":88,"user_id":4869675,"display_name":"Farshad Bakhshandegan Moghadda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3252,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46956059,"answer_count":2,"score":2,"last_activity_date":1673731870,"creation_date":1509019848,"question_id":46953999,"body_markdown":"I am trying to run `CnnSentenceClassification` from deeplearning4j example. I moved this file to my Gradle project. When I run the class from the eclipse it works fine. However when I run it from `./gradlew run` I get following error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\r\n\tat \r\n    main.CnnSentenceClassification.main(CnnSentenceClassification.java:75)\r\n    Caused by: java.lang.RuntimeException: \r\n    org.nd4j.linalg.factory.Nd4jBackend$NoAvailableBackendException: \r\n    Please ensure that you have an nd4j backend on your classpath. Please \r\n    see: http://nd4j.org/getstarted.html\r\n\tat org.nd4j.linalg.factory.Nd4j.initContext(Nd4j.java:6089)\r\n\tat org.nd4j.linalg.factory.Nd4j.&lt;clinit&gt;(Nd4j.java:201)\r\n\t... 1 more\r\n    Caused by: \r\n    org.nd4j.linalg.factory.Nd4jBackend$NoAvailableBackendException: \r\n    Please ensure that you have an nd4j backend on your classpath. Please \r\n    see: http://nd4j.org/getstarted.html\r\n\tat org.nd4j.linalg.factory.Nd4jBackend.load(Nd4jBackend.java:258)\r\n\tat org.nd4j.linalg.factory.Nd4j.initContext(Nd4j.java:6086)\r\n\t... 2 more\r\n\r\nI checked and `nd4j-api-0.9.1.jar` is in my classpath. This is my `build.gradle`:\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;application&#39;\r\n\r\n    repositories {\r\n        jcenter()\r\n    }\r\n\r\n    mainClassName=&quot;main.CnnSentenceClassification&quot;\r\n\r\n    dependencies {\r\n\t    compile group: &#39;org.deeplearning4j&#39;, name: &#39;deeplearning4j-core&#39;, version: &#39;0.9.1&#39;\r\n    \tcompile group: &#39;org.deeplearning4j&#39;, name: &#39;deeplearning4j-nlp&#39;, version: &#39;0.9.1&#39;\t    \r\n\t\r\n    \ttestCompile group: &#39;org.nd4j&#39;, name: &#39;nd4j-native-platform&#39;, version: &#39;0.9.1&#39;\r\n\t    compile group: &#39;org.nd4j&#39;, name: &#39;nd4j-api&#39;, version: &#39;0.9.1&#39;\r\n\t\r\n        compile &quot;org.slf4j:slf4j-simple:1.7.25&quot;\r\n        compile &quot;org.slf4j:slf4j-api:1.7.25&quot;\r\n    }","title":"Deeplearning4j example does not work with gradle","body":"<p>I am trying to run <code>CnnSentenceClassification</code> from deeplearning4j example. I moved this file to my Gradle project. When I run the class from the eclipse it works fine. However when I run it from <code>./gradlew run</code> I get following error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ExceptionInInitializerError\nat \nmain.CnnSentenceClassification.main(CnnSentenceClassification.java:75)\nCaused by: java.lang.RuntimeException: \norg.nd4j.linalg.factory.Nd4jBackend$NoAvailableBackendException: \nPlease ensure that you have an nd4j backend on your classpath. Please \nsee: http://nd4j.org/getstarted.html\nat org.nd4j.linalg.factory.Nd4j.initContext(Nd4j.java:6089)\nat org.nd4j.linalg.factory.Nd4j.&lt;clinit&gt;(Nd4j.java:201)\n... 1 more\nCaused by: \norg.nd4j.linalg.factory.Nd4jBackend$NoAvailableBackendException: \nPlease ensure that you have an nd4j backend on your classpath. Please \nsee: http://nd4j.org/getstarted.html\nat org.nd4j.linalg.factory.Nd4jBackend.load(Nd4jBackend.java:258)\nat org.nd4j.linalg.factory.Nd4j.initContext(Nd4j.java:6086)\n... 2 more\n</code></pre>\n\n<p>I checked and <code>nd4j-api-0.9.1.jar</code> is in my classpath. This is my <code>build.gradle</code>:</p>\n\n<pre><code>apply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'application'\n\nrepositories {\n    jcenter()\n}\n\nmainClassName=\"main.CnnSentenceClassification\"\n\ndependencies {\n    compile group: 'org.deeplearning4j', name: 'deeplearning4j-core', version: '0.9.1'\n    compile group: 'org.deeplearning4j', name: 'deeplearning4j-nlp', version: '0.9.1'       \n\n    testCompile group: 'org.nd4j', name: 'nd4j-native-platform', version: '0.9.1'\n    compile group: 'org.nd4j', name: 'nd4j-api', version: '0.9.1'\n\n    compile \"org.slf4j:slf4j-simple:1.7.25\"\n    compile \"org.slf4j:slf4j-api:1.7.25\"\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa","nativequery"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1672931631,"post_id":75020144,"comment_id":132388197,"body_markdown":"If the COLUMN_NAME is of type DATE in the database you must pass two dates as parameters and not strings.","body":"If the COLUMN_NAME is of type DATE in the database you must pass two dates as parameters and not strings."},{"owner":{"account_id":15736640,"reputation":15,"user_id":11355383,"display_name":"dalia ahmed"},"score":0,"creation_date":1672935558,"post_id":75020144,"comment_id":132389788,"body_markdown":"Thanks for your help, but the column type is String as well.","body":"Thanks for your help, but the column type is String as well."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1672936391,"post_id":75020144,"comment_id":132390127,"body_markdown":"Then please show the whole stacktrace.","body":"Then please show the whole stacktrace."},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1672943529,"post_id":75020144,"comment_id":132392608,"body_markdown":"Did you try running same query in  Oracle database?","body":"Did you try running same query in  Oracle database?"}],"answers":[{"tags":[],"owner":{"account_id":15736640,"reputation":15,"user_id":11355383,"display_name":"dalia ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673731614,"creation_date":1673439009,"answer_id":75082837,"question_id":75020144,"body_markdown":"this is a temporary solution but it worked for me \r\n\r\ni had to select specific columns that i need to use in my code not all columns in the table, i don&#39;t really know yet what&#39;s wrong with selecting all columns but this solution may help, i used this query instead:\r\n\r\n```\r\n@Query(value=&quot;select COLUMN_ONE from TABLE_NAME where COLUMN_NAME between ?1 and ?2&quot;,nativeQuery=true)\r\npublic list&lt;COLUMN_TYPE&gt; findAllWithinInterval(String fromDate,String toDate)\r\n```\r\n","title":"ERROR : invalid coulmn name Oracle database when using native query in springboot (BETWEEN keyword)","body":"<p>this is a temporary solution but it worked for me</p>\n<p>i had to select specific columns that i need to use in my code not all columns in the table, i don't really know yet what's wrong with selecting all columns but this solution may help, i used this query instead:</p>\n<pre><code>@Query(value=&quot;select COLUMN_ONE from TABLE_NAME where COLUMN_NAME between ?1 and ?2&quot;,nativeQuery=true)\npublic list&lt;COLUMN_TYPE&gt; findAllWithinInterval(String fromDate,String toDate)\n</code></pre>\n"}],"owner":{"account_id":15736640,"reputation":15,"user_id":11355383,"display_name":"dalia ahmed"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673731614,"creation_date":1672929722,"question_id":75020144,"body_markdown":"I&#39;m new using native queries and I&#39;m trying to use a native query with &quot;BETWEEN&quot; keyword in oracle DB \r\n\r\nhere is my query:\r\n\r\n```\r\n@Query(value=&quot;select * from TABLE_NAME where COLUMN_NAME between ?1 and ?2&quot;,nativeQuery=true)\r\npublic list&lt;CLASS_NAME&gt; findAllWithinInterval(String fromDate,String toDate)\r\n```\r\n\r\nbut I got an error that said: &quot;Invalid column name&quot;\r\n\r\nNOTE: this SQL query works fine on Oracle developer tool (Oracle database)","title":"ERROR : invalid coulmn name Oracle database when using native query in springboot (BETWEEN keyword)","body":"<p>I'm new using native queries and I'm trying to use a native query with &quot;BETWEEN&quot; keyword in oracle DB</p>\n<p>here is my query:</p>\n<pre><code>@Query(value=&quot;select * from TABLE_NAME where COLUMN_NAME between ?1 and ?2&quot;,nativeQuery=true)\npublic list&lt;CLASS_NAME&gt; findAllWithinInterval(String fromDate,String toDate)\n</code></pre>\n<p>but I got an error that said: &quot;Invalid column name&quot;</p>\n<p>NOTE: this SQL query works fine on Oracle developer tool (Oracle database)</p>\n"},{"tags":["java","object","inheritance","constructor"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673730002,"post_id":75121180,"comment_id":132564737,"body_markdown":"Take care of java namning conventions. variable names sould start with lower case character","body":"Take care of java namning conventions. variable names sould start with lower case character"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673730040,"post_id":75121180,"comment_id":132564744,"body_markdown":"D mot make your variables static. There are equals for every instance of the class","body":"D mot make your variables static. There are equals for every instance of the class"},{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1673730163,"post_id":75121180,"comment_id":132564768,"body_markdown":"This is a good opportunity for you to start familiarizing yourself with [using a debugger](https://stackoverflow.com/q/25385173/328193).  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?  To learn more about this community and how we can help you, please start with the [tour] and read [ask] and its linked resources.","body":"This is a good opportunity for you to start familiarizing yourself with <a href=\"https://stackoverflow.com/q/25385173/328193\">using a debugger</a>.  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?  To learn more about this community and how we can help you, please start with the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1673735205,"post_id":75121180,"comment_id":132565577,"body_markdown":"`static` variables get SHARED across all instances of the class. So if you change it from one place, all other places will see that change to. If you want each instance of `Employee` to have their own separate, independent copies of `HourlyWage` and `Worked` them REMOVE the `static` keyword.","body":"<code>static</code> variables get SHARED across all instances of the class. So if you change it from one place, all other places will see that change to. If you want each instance of <code>Employee</code> to have their own separate, independent copies of <code>HourlyWage</code> and <code>Worked</code> them REMOVE the <code>static</code> keyword."}],"answers":[{"comments":[{"owner":{"account_id":22886216,"reputation":9,"user_id":17027059,"display_name":"Kevin"},"score":0,"creation_date":1673731245,"post_id":75121322,"comment_id":132564939,"body_markdown":"the formatting looks different because someone commented about it so I changed it all throughout my project from an uppercase at the start of the declared variable to a lowercase at the start","body":"the formatting looks different because someone commented about it so I changed it all throughout my project from an uppercase at the start of the declared variable to a lowercase at the start"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1673732642,"post_id":75121322,"comment_id":132565160,"body_markdown":"that is simply not *magically worked*. If the variables are static, all instances will get the same result","body":"that is simply not <i>magically worked</i>. If the variables are static, all instances will get the same result"}],"tags":[],"owner":{"account_id":22886216,"reputation":9,"user_id":17027059,"display_name":"Kevin"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1673731535,"creation_date":1673731182,"answer_id":75121322,"question_id":75121180,"body_markdown":"All I had to do was instead of having\r\n\r\n      Hourly.HourlyWage = HourlyWage;\r\n      Hourly.Worked = Worked;\r\n \r\nI needed to change it to\r\n\r\n     this.hourlyWage = hourlyWage;\r\n     this.worked = worked;\r\n\r\nAlso, the math was incomplete and to calculate the total weekly with overtime the correct equation is \r\n\r\n    (worked - 40) * (hourlyWage * 1.5) + (hourlyWage * worked)\r\n\r\nAnd it magically worked\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n\r\n","title":"Is there a way of having parameters declared on a constructor be used in a method that calculates?","body":"<p>All I had to do was instead of having</p>\n<pre><code>  Hourly.HourlyWage = HourlyWage;\n  Hourly.Worked = Worked;\n</code></pre>\n<p>I needed to change it to</p>\n<pre><code> this.hourlyWage = hourlyWage;\n this.worked = worked;\n</code></pre>\n<p>Also, the math was incomplete and to calculate the total weekly with overtime the correct equation is</p>\n<pre><code>(worked - 40) * (hourlyWage * 1.5) + (hourlyWage * worked)\n</code></pre>\n<p>And it magically worked</p>\n"}],"owner":{"account_id":22886216,"reputation":9,"user_id":17027059,"display_name":"Kevin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673731535,"creation_date":1673729754,"question_id":75121180,"body_markdown":"This was really hard to word since I&#39;m not too sure what I should be asking but basically the task was to make a weekly pay calculator (ignoring taxes) that calculates overtime and regular pay\r\n\r\nI have the following class \r\n\r\n    public class Hourly extends Employee {\r\n    private static double HourlyWage;\r\n    private static double Worked;\r\n\r\n    public Hourly(int Id, String Name, double HourlyWage, int Worked) {\r\n        super(Name, Id);\r\n        Hourly.HourlyWage = HourlyWage;\r\n        Hourly.Worked = Worked;\r\n    }\r\n     protected double WeeklyPay() {\r\n        if (Worked&gt; 40) {\r\n            return (Worked - 40) * (HourlyWage * 1.5);\r\n        } else {\r\n            return HourlyWage * Worked;\r\n        }\r\n     }\r\n     \r\n           \r\n    @Override\r\n    public String toString() {\r\n    return &quot;ID: &quot; + Id + &quot;, Name: &quot; + Name + &quot;, Hourly Wage: &quot; + HourlyWage + &quot;, Hours Worked: &quot; + Worked;\r\n    }\r\n\r\n\r\nand the following constructor\r\n\r\n    \r\n    public static void main(String[] args) {\r\n    Hourly A = new Hourly (1111, &quot;John Smith&quot;, 15.25, 40);\r\n    System.out.println(A);\r\n    Hourly B  = new Hourly (2222, &quot;Oliver Thomas&quot;, 15.50, 60);\r\n    System.out.println(B);\r\n    System.out.println(&quot;Weekly pay for Hourly worker: &quot; + A.WeeklyPay());\r\n    System.out.println(&quot;Weekly pay for Hourly worker: &quot; + B.WeeklyPay());\r\n\r\n\r\n\r\nthe output I get from this is:\r\n\r\nID: 1111, Name: John Smith, Hourly Wage: 15.25, Hours Worked: 40.0\r\n\r\nID: 2222, Name: Oliver Thomas, Hourly Wage: 15.5, Hours Worked: 60.0\r\n\r\nand \r\n\r\nWeekly pay for Hourly worker: 465.0\r\n\r\nWeekly pay for Hourly worker #2: 465.0\r\n\r\nObviously, it doesn&#39;t consider the number of hours worked or the hourly pay how would I fix this?\r\n\r\nIf there is any further detail I need to provide let me know, thanks!\r\n","title":"Is there a way of having parameters declared on a constructor be used in a method that calculates?","body":"<p>This was really hard to word since I'm not too sure what I should be asking but basically the task was to make a weekly pay calculator (ignoring taxes) that calculates overtime and regular pay</p>\n<p>I have the following class</p>\n<pre><code>public class Hourly extends Employee {\nprivate static double HourlyWage;\nprivate static double Worked;\n\npublic Hourly(int Id, String Name, double HourlyWage, int Worked) {\n    super(Name, Id);\n    Hourly.HourlyWage = HourlyWage;\n    Hourly.Worked = Worked;\n}\n protected double WeeklyPay() {\n    if (Worked&gt; 40) {\n        return (Worked - 40) * (HourlyWage * 1.5);\n    } else {\n        return HourlyWage * Worked;\n    }\n }\n \n       \n@Override\npublic String toString() {\nreturn &quot;ID: &quot; + Id + &quot;, Name: &quot; + Name + &quot;, Hourly Wage: &quot; + HourlyWage + &quot;, Hours Worked: &quot; + Worked;\n}\n</code></pre>\n<p>and the following constructor</p>\n<pre><code>public static void main(String[] args) {\nHourly A = new Hourly (1111, &quot;John Smith&quot;, 15.25, 40);\nSystem.out.println(A);\nHourly B  = new Hourly (2222, &quot;Oliver Thomas&quot;, 15.50, 60);\nSystem.out.println(B);\nSystem.out.println(&quot;Weekly pay for Hourly worker: &quot; + A.WeeklyPay());\nSystem.out.println(&quot;Weekly pay for Hourly worker: &quot; + B.WeeklyPay());\n</code></pre>\n<p>the output I get from this is:</p>\n<p>ID: 1111, Name: John Smith, Hourly Wage: 15.25, Hours Worked: 40.0</p>\n<p>ID: 2222, Name: Oliver Thomas, Hourly Wage: 15.5, Hours Worked: 60.0</p>\n<p>and</p>\n<p>Weekly pay for Hourly worker: 465.0</p>\n<p>Weekly pay for Hourly worker #2: 465.0</p>\n<p>Obviously, it doesn't consider the number of hours worked or the hourly pay how would I fix this?</p>\n<p>If there is any further detail I need to provide let me know, thanks!</p>\n"},{"tags":["java","powershell","keytool"],"comments":[{"owner":{"account_id":129553,"reputation":443,"user_id":328214,"display_name":"Guillaume"},"score":0,"creation_date":1651592546,"post_id":52500020,"comment_id":127397409,"body_markdown":"Have you been able to do it?","body":"Have you been able to do it?"}],"answers":[{"comments":[{"owner":{"account_id":9736740,"reputation":33,"user_id":7219756,"display_name":"zied khmili"},"score":1,"creation_date":1537884806,"post_id":52500273,"comment_id":91941097,"body_markdown":"Thank you for your answer! But I need everything to be run by the script. Your solution involves me copying manually the alias value.","body":"Thank you for your answer! But I need everything to be run by the script. Your solution involves me copying manually the alias value."},{"owner":{"account_id":8023785,"reputation":3013,"user_id":6051596,"display_name":"Soumen Mukherjee"},"score":0,"creation_date":1537884975,"post_id":52500273,"comment_id":91941209,"body_markdown":"You can run the command within the script and parse out the value , see this stackoverflow question for more info https://stackoverflow.com/questions/13334422/pfx-to-jks-keytool-conversion-alias-does-not-exist","body":"You can run the command within the script and parse out the value , see this stackoverflow question for more info <a href=\"https://stackoverflow.com/questions/13334422/pfx-to-jks-keytool-conversion-alias-does-not-exist\" title=\"pfx to jks keytool conversion alias does not exist\">stackoverflow.com/questions/13334422/&hellip;</a>"}],"tags":[],"owner":{"account_id":8023785,"reputation":3013,"user_id":6051596,"display_name":"Soumen Mukherjee"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537884642,"creation_date":1537884642,"answer_id":52500273,"question_id":52500020,"body_markdown":"You can use this command\r\n\r\n`keytool -v -list -storetype pkcs12 -keystore x.pfx`\r\n\r\nTo see the Alias , generally it will be some number like 1 or 2 , you can then use this in your command for &quot;-srcalias&quot;","title":"Keytool, retrieve the alias value as string from a JKS or from a PFX","body":"<p>You can use this command</p>\n\n<p><code>keytool -v -list -storetype pkcs12 -keystore x.pfx</code></p>\n\n<p>To see the Alias , generally it will be some number like 1 or 2 , you can then use this in your command for \"-srcalias\"</p>\n"},{"tags":[],"owner":{"account_id":20264817,"reputation":56105,"user_id":14868997,"display_name":"Charlieface"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673730631,"creation_date":1673730631,"answer_id":75121261,"question_id":52500020,"body_markdown":"You can use `keytool -list` to get the information out of the PFX, and use `Select-String` with a Regex expression to read it automatically from `keytool`.\r\n```powershell\r\n$alias = (\r\n        keytool -list -keystore $pfxFile -storepass $pass -v |\r\n        Select-String -Pattern &quot;Alias name: (.+)&quot;\r\n    ).Matches.Groups |\r\n    select -Skip 1 -First 1 -ExpandProperty Value;\r\n```\r\nThis looks for a string beginning `Alias name: `, followed by any characters in a group, and then takes the first group ignoring the outer match group.\r\n\r\nCheck `$LASTEXITCODE -ne 0` to see if it failed.","title":"Keytool, retrieve the alias value as string from a JKS or from a PFX","body":"<p>You can use <code>keytool -list</code> to get the information out of the PFX, and use <code>Select-String</code> with a Regex expression to read it automatically from <code>keytool</code>.</p>\n<pre><code>$alias = (\n        keytool -list -keystore $pfxFile -storepass $pass -v |\n        Select-String -Pattern &quot;Alias name: (.+)&quot;\n    ).Matches.Groups |\n    select -Skip 1 -First 1 -ExpandProperty Value;\n</code></pre>\n<p>This looks for a string beginning <code>Alias name: </code>, followed by any characters in a group, and then takes the first group ignoring the outer match group.</p>\n<p>Check <code>$LASTEXITCODE -ne 0</code> to see if it failed.</p>\n"}],"owner":{"account_id":9736740,"reputation":33,"user_id":7219756,"display_name":"zied khmili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6027,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673730631,"creation_date":1537883915,"question_id":52500020,"body_markdown":"I&#39;m running a Powershell script that is updating a properties file in a java application and using Keytool to convert keys from PFX to JKS format.\r\n\r\nI&#39;m trying to convert a PFX to a JKS. I can&#39;t specify -&quot;destalias&quot; without specifying &quot;-srcalias&quot;. The certificate being a PFX, I don&#39;t think it has an alias, but only a fingerprint.\r\n\r\nHowever Keytool seems to see that the PFX has an Alias and it&#39;s using that value to auto-populate the Alias value of the JKS file.\r\n\r\nI need the value of the Alias as a string to update my properties file.\r\n\r\nQuestion:\r\n\r\nIs there a way using Keytool or Powershell to either get the alias value from a PFX or a JKS as a String value.\r\n\r\nThank you!","title":"Keytool, retrieve the alias value as string from a JKS or from a PFX","body":"<p>I'm running a Powershell script that is updating a properties file in a java application and using Keytool to convert keys from PFX to JKS format.</p>\n\n<p>I'm trying to convert a PFX to a JKS. I can't specify -\"destalias\" without specifying \"-srcalias\". The certificate being a PFX, I don't think it has an alias, but only a fingerprint.</p>\n\n<p>However Keytool seems to see that the PFX has an Alias and it's using that value to auto-populate the Alias value of the JKS file.</p>\n\n<p>I need the value of the Alias as a string to update my properties file.</p>\n\n<p>Question:</p>\n\n<p>Is there a way using Keytool or Powershell to either get the alias value from a PFX or a JKS as a String value.</p>\n\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673629769,"post_id":75112331,"comment_id":132549772,"body_markdown":"As the error message says. You should implement the equals and the hashCode method","body":"As the error message says. You should implement the equals and the hashCode method"},{"owner":{"account_id":14980452,"reputation":65,"user_id":11817022,"display_name":"Tech Guy"},"score":0,"creation_date":1673632768,"post_id":75112331,"comment_id":132550664,"body_markdown":"@Jens In which class because all the eligible classes are already override the equals and the hashcode?","body":"@Jens In which class because all the eligible classes are already override the equals and the hashcode?"}],"owner":{"account_id":14980452,"reputation":65,"user_id":11817022,"display_name":"Tech Guy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673730031,"creation_date":1673629647,"question_id":75112331,"body_markdown":"I am getting the following warning,\r\n\r\n&gt; Encountered Java type [class java.lang.Object] for which we could not\r\n&gt; locate a JavaTypeDescriptor and which does not appear to implement\r\n&gt; equals and/or hashCode.  This can lead to significant performance\r\n&gt; problems when performing equality/dirty checking involving this Java\r\n&gt; type. Consider registering a custom JavaTypeDescriptor or at least\r\n&gt; implementing equals/hashCode.\r\n\r\nI am implementing an application using Spring Boot with Spring Data JPA. I have a class as follows,\r\n\r\n    public abstract class SomeClass implements Serializable {\r\n    \r\n       @Convert(converter = SomeConverter.class)\r\n       private Object someEntity;\r\n    }\r\n\r\nI had to use the `Object someEntity` because there are multiple classes eligible for that `someEntity` so I had to use the type as `Object`. And all the eligible `someEntity` classes are also extended a superclass but it is an abstract class, so cannot put it here.\r\n\r\nSince that warning is there I created a `JavaTypeDescriptor` as follows,\r\n\r\n    public class ObjectJavaTypeDescriptor implements JavaTypeDescriptor&lt;Object&gt; {\r\n    \r\n        @Override\r\n        public boolean areEqual(Object one, Object another) {\r\n            return one == another || (one != null &amp;&amp; one.equals(another));\r\n        }\r\n    \r\n        @Override\r\n        public Class&lt;Object&gt; getJavaTypeClass() {\r\n            return Object.class;\r\n        }\r\n    \r\n        @Override\r\n        public int extractHashCode(Object value) {\r\n            return value.hashCode();\r\n        }\r\n    \r\n        @Override\r\n        public String toString(Object value) {\r\n            return value.toString();\r\n        }\r\n    \r\n        @Override\r\n        public Object fromString(String string) {\r\n            throw new UnsupportedOperationException(&quot;Not supported&quot;);\r\n        }\r\n    \r\n        @SuppressWarnings({&quot;unchecked&quot;})\r\n        @Override\r\n        public &lt;X&gt; X unwrap(Object value, Class&lt;X&gt; type, WrapperOptions options) {\r\n            if (value == null) {\r\n                return null;\r\n            }\r\n            if (Object.class.isAssignableFrom(type)) {\r\n                return (X) value;\r\n            }\r\n            throw new UnsupportedOperationException(&quot;Not supported&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public &lt;X&gt; Object wrap(X value, WrapperOptions options) {\r\n            return value;\r\n        }\r\n    }\r\n\r\nAnd I tried the following 2 methods to register this TypeDescriptor,\r\n\r\n    @Bean\r\n    public HibernatePropertiesCustomizer hibernatePropertiesCustomizer() {\r\n        return hibernateProperties -&gt; hibernateProperties.put(&quot;hibernate.type_descriptors.object&quot;,\r\n                &quot;com.example.ObjectJavaTypeDescriptor&quot;);\r\n    }\r\n\r\nand this property,\r\n\r\n    spring.jpa.properties.hibernate.type_descriptors.object=com.example.ObjectJavaTypeDescriptor\r\n\r\nBut still, the warning is showing, and I see the application is little bit stuck at the starting and also taking some more time to start. How to resolve this issue? Anybody can help me? Thank you.","title":"How to get rid of this warning consider registering a custom JavaTypeDescriptor or at least implementing equals/hashCode?","body":"<p>I am getting the following warning,</p>\n<blockquote>\n<p>Encountered Java type [class java.lang.Object] for which we could not\nlocate a JavaTypeDescriptor and which does not appear to implement\nequals and/or hashCode.  This can lead to significant performance\nproblems when performing equality/dirty checking involving this Java\ntype. Consider registering a custom JavaTypeDescriptor or at least\nimplementing equals/hashCode.</p>\n</blockquote>\n<p>I am implementing an application using Spring Boot with Spring Data JPA. I have a class as follows,</p>\n<pre><code>public abstract class SomeClass implements Serializable {\n\n   @Convert(converter = SomeConverter.class)\n   private Object someEntity;\n}\n</code></pre>\n<p>I had to use the <code>Object someEntity</code> because there are multiple classes eligible for that <code>someEntity</code> so I had to use the type as <code>Object</code>. And all the eligible <code>someEntity</code> classes are also extended a superclass but it is an abstract class, so cannot put it here.</p>\n<p>Since that warning is there I created a <code>JavaTypeDescriptor</code> as follows,</p>\n<pre><code>public class ObjectJavaTypeDescriptor implements JavaTypeDescriptor&lt;Object&gt; {\n\n    @Override\n    public boolean areEqual(Object one, Object another) {\n        return one == another || (one != null &amp;&amp; one.equals(another));\n    }\n\n    @Override\n    public Class&lt;Object&gt; getJavaTypeClass() {\n        return Object.class;\n    }\n\n    @Override\n    public int extractHashCode(Object value) {\n        return value.hashCode();\n    }\n\n    @Override\n    public String toString(Object value) {\n        return value.toString();\n    }\n\n    @Override\n    public Object fromString(String string) {\n        throw new UnsupportedOperationException(&quot;Not supported&quot;);\n    }\n\n    @SuppressWarnings({&quot;unchecked&quot;})\n    @Override\n    public &lt;X&gt; X unwrap(Object value, Class&lt;X&gt; type, WrapperOptions options) {\n        if (value == null) {\n            return null;\n        }\n        if (Object.class.isAssignableFrom(type)) {\n            return (X) value;\n        }\n        throw new UnsupportedOperationException(&quot;Not supported&quot;);\n    }\n\n    @Override\n    public &lt;X&gt; Object wrap(X value, WrapperOptions options) {\n        return value;\n    }\n}\n</code></pre>\n<p>And I tried the following 2 methods to register this TypeDescriptor,</p>\n<pre><code>@Bean\npublic HibernatePropertiesCustomizer hibernatePropertiesCustomizer() {\n    return hibernateProperties -&gt; hibernateProperties.put(&quot;hibernate.type_descriptors.object&quot;,\n            &quot;com.example.ObjectJavaTypeDescriptor&quot;);\n}\n</code></pre>\n<p>and this property,</p>\n<pre><code>spring.jpa.properties.hibernate.type_descriptors.object=com.example.ObjectJavaTypeDescriptor\n</code></pre>\n<p>But still, the warning is showing, and I see the application is little bit stuck at the starting and also taking some more time to start. How to resolve this issue? Anybody can help me? Thank you.</p>\n"},{"tags":["java","spring-boot","spring-scheduled"],"comments":[{"owner":{"account_id":4047822,"reputation":683,"user_id":3328545,"accept_rate":25,"display_name":"gscaparrotti"},"score":0,"creation_date":1672412055,"post_id":74962713,"comment_id":132285605,"body_markdown":"It would be helpful to also log the milliseconds. If the execution is off by just a few millis, then it&#39;s perfectly normal, otherwise it may be worth to dig further.","body":"It would be helpful to also log the milliseconds. If the execution is off by just a few millis, then it&#39;s perfectly normal, otherwise it may be worth to dig further."},{"owner":{"account_id":14930536,"reputation":11,"user_id":10780053,"display_name":"Sigfrido Barbazza"},"score":0,"creation_date":1672432008,"post_id":74962713,"comment_id":132290470,"body_markdown":"The milliseconds are printed twice already. The third timestamp is equals to second only truncated. I am not sure how this can be normal: the method is invoked before the correct time, or the scheduling follow a clock that is different from the system. Moreover this happened less than 100 times with spring boot 2 over 9 months; and more than 400 times in 5 days with spring boot 3.","body":"The milliseconds are printed twice already. The third timestamp is equals to second only truncated. I am not sure how this can be normal: the method is invoked before the correct time, or the scheduling follow a clock that is different from the system. Moreover this happened less than 100 times with spring boot 2 over 9 months; and more than 400 times in 5 days with spring boot 3."},{"owner":{"account_id":4047822,"reputation":683,"user_id":3328545,"accept_rate":25,"display_name":"gscaparrotti"},"score":0,"creation_date":1672488441,"post_id":74962713,"comment_id":132297440,"body_markdown":"Is there any kind of periodicity in the timestamps?","body":"Is there any kind of periodicity in the timestamps?"},{"owner":{"account_id":14930536,"reputation":11,"user_id":10780053,"display_name":"Sigfrido Barbazza"},"score":0,"creation_date":1672492315,"post_id":74962713,"comment_id":132298093,"body_markdown":"It is random. For example: 1 time in one minute, 0 times the next minute, 4 times the next one...Any hour of the day","body":"It is random. For example: 1 time in one minute, 0 times the next minute, 4 times the next one...Any hour of the day"},{"owner":{"account_id":4047822,"reputation":683,"user_id":3328545,"accept_rate":25,"display_name":"gscaparrotti"},"score":0,"creation_date":1672499761,"post_id":74962713,"comment_id":132299466,"body_markdown":"The parsing of the cron string and the evaluation of each moment at which the method should be invoked is done inside `CronSequenceGenerator`. You could look inside it with a debugger and see if your problem starts there (maybe some kind of rounding issue?) or if you should look somewhere else.","body":"The parsing of the cron string and the evaluation of each moment at which the method should be invoked is done inside <code>CronSequenceGenerator</code>. You could look inside it with a debugger and see if your problem starts there (maybe some kind of rounding issue?) or if you should look somewhere else."}],"answers":[{"tags":[],"owner":{"account_id":14930536,"reputation":11,"user_id":10780053,"display_name":"Sigfrido Barbazza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673729405,"creation_date":1673729405,"answer_id":75121143,"question_id":74962713,"body_markdown":"Maybe I mistakenly referred to Spring Boot as guilty, but there is an open issue on Spring Framework about this problem:\r\nhttps://github.com/spring-projects/spring-framework/issues/29735","title":"Spring Boot wakes up too early on scheduled method","body":"<p>Maybe I mistakenly referred to Spring Boot as guilty, but there is an open issue on Spring Framework about this problem:\n<a href=\"https://github.com/spring-projects/spring-framework/issues/29735\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/29735</a></p>\n"}],"owner":{"account_id":14930536,"reputation":11,"user_id":10780053,"display_name":"Sigfrido Barbazza"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75121143,"answer_count":1,"score":1,"last_activity_date":1673729405,"creation_date":1672411249,"question_id":74962713,"body_markdown":"I found a strange behaviour on Spring Boot 3. Inside a method noted with @Scheduled I need to get the current time every 10 seconds (0, 10, 20, etc.), but sometimes it seems to be triggered few nanoseconds too early so the &quot;seconds&quot; are not as expected.\r\nCode example\r\n```\r\n@Scheduled(cron = &quot;0/10 * * * * *&quot;)\r\npublic void job() {\r\n    LocalDateTime now = LocalDateTime.now();\r\n    log.info(&quot;:: {} :: {}&quot;, now, now.truncatedTo(ChronoUnit.SECONDS));\r\n}\r\n```\r\n\r\nThis is what I get:\r\n```\r\n2022-12-30T14:12:10.012+01:00  INFO 14896 --- [   scheduling-1] com.example.demo301.Job                  : :: 2022-12-30T14:12:10.012881700 :: 2022-12-30T14:12:10\r\n2022-12-30T14:12:20.014+01:00  INFO 14896 --- [   scheduling-1] com.example.demo301.Job                  : :: 2022-12-30T14:12:20.014202300 :: 2022-12-30T14:12:20\r\n**2022-12-30T14:12:29.999+01:00  INFO 14896 --- [   scheduling-1] com.example.demo301.Job                  : :: 2022-12-30T14:12:29.999757 :: 2022-12-30T14:12:29**\r\n2022-12-30T14:12:40.005+01:00  INFO 14896 --- [   scheduling-1] com.example.demo301.Job                  : :: 2022-12-30T14:12:40.005453100 :: 2022-12-30T14:12:40\r\n2022-12-30T14:12:50.012+01:00  INFO 14896 --- [   scheduling-1] com.example.demo301.Job                  : :: 2022-12-30T14:12:50.012125900 :: 2022-12-30T14:12:50\r\n```\r\n\r\nI have created some maven projects from spring initializr with these options:\r\n- java version 19 / 17\r\n- 3.0.1 / 2.7.7\r\n- jar\r\n\r\nI let the code run for 1 hour on intellij with openjdk-19 and found this problem with spring boot 3 (both java versions).\r\nMy original evironment is docker with an image from openjdk, and it seems to happen more frequently but it could just be random. I downgraded to 2.7.7.\r\nLooking over the past months (I save a record every 10 second) with spring boot 2.7 in docker (java 15) on another SO, the same problem appeared just a few time so I didn&#39;t notice.\r\n\r\nI suppose this is a spring problem due to the annotation, and it is java/SO independent.\r\nDoes anyone found the same issue?\r\nI&#39;am not looking to fix the code like adding 1 or 2 milliseconds (horrible), but it doesn&#39;t look ok either.\r\n\r\nLooking forward a spring boot or java/openjdk fix.","title":"Spring Boot wakes up too early on scheduled method","body":"<p>I found a strange behaviour on Spring Boot 3. Inside a method noted with @Scheduled I need to get the current time every 10 seconds (0, 10, 20, etc.), but sometimes it seems to be triggered few nanoseconds too early so the &quot;seconds&quot; are not as expected.\nCode example</p>\n<pre><code>@Scheduled(cron = &quot;0/10 * * * * *&quot;)\npublic void job() {\n    LocalDateTime now = LocalDateTime.now();\n    log.info(&quot;:: {} :: {}&quot;, now, now.truncatedTo(ChronoUnit.SECONDS));\n}\n</code></pre>\n<p>This is what I get:</p>\n<pre><code>2022-12-30T14:12:10.012+01:00  INFO 14896 --- [   scheduling-1] com.example.demo301.Job                  : :: 2022-12-30T14:12:10.012881700 :: 2022-12-30T14:12:10\n2022-12-30T14:12:20.014+01:00  INFO 14896 --- [   scheduling-1] com.example.demo301.Job                  : :: 2022-12-30T14:12:20.014202300 :: 2022-12-30T14:12:20\n**2022-12-30T14:12:29.999+01:00  INFO 14896 --- [   scheduling-1] com.example.demo301.Job                  : :: 2022-12-30T14:12:29.999757 :: 2022-12-30T14:12:29**\n2022-12-30T14:12:40.005+01:00  INFO 14896 --- [   scheduling-1] com.example.demo301.Job                  : :: 2022-12-30T14:12:40.005453100 :: 2022-12-30T14:12:40\n2022-12-30T14:12:50.012+01:00  INFO 14896 --- [   scheduling-1] com.example.demo301.Job                  : :: 2022-12-30T14:12:50.012125900 :: 2022-12-30T14:12:50\n</code></pre>\n<p>I have created some maven projects from spring initializr with these options:</p>\n<ul>\n<li>java version 19 / 17</li>\n<li>3.0.1 / 2.7.7</li>\n<li>jar</li>\n</ul>\n<p>I let the code run for 1 hour on intellij with openjdk-19 and found this problem with spring boot 3 (both java versions).\nMy original evironment is docker with an image from openjdk, and it seems to happen more frequently but it could just be random. I downgraded to 2.7.7.\nLooking over the past months (I save a record every 10 second) with spring boot 2.7 in docker (java 15) on another SO, the same problem appeared just a few time so I didn't notice.</p>\n<p>I suppose this is a spring problem due to the annotation, and it is java/SO independent.\nDoes anyone found the same issue?\nI'am not looking to fix the code like adding 1 or 2 milliseconds (horrible), but it doesn't look ok either.</p>\n<p>Looking forward a spring boot or java/openjdk fix.</p>\n"},{"tags":["java","lombok"],"answers":[{"comments":[{"owner":{"account_id":1103468,"reputation":5324,"user_id":1095362,"accept_rate":43,"display_name":"robert trudel"},"score":0,"creation_date":1673733105,"post_id":75121135,"comment_id":132565249,"body_markdown":"problem with this solutions it&#39;s you will recreate 3 times the record.","body":"problem with this solutions it&#39;s you will recreate 3 times the record."},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1673756928,"post_id":75121135,"comment_id":132567699,"body_markdown":"That&#39;s always the case with `@With`. But unless you know that&#39;s a problem (e.g. from profiling you app), that&#39;s almost certainly _not_ a problem.","body":"That&#39;s always the case with <code>@With</code>. But unless you know that&#39;s a problem (e.g. from profiling you app), that&#39;s almost certainly <i>not</i> a problem."}],"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673729332,"creation_date":1673729332,"answer_id":75121135,"question_id":75121095,"body_markdown":"Assuming the fields are independent of one another, you already have it.\r\n\r\n```\r\nmyDepotRecord.withId(id).withX(x).withY(y)\r\n```\r\n\r\nand you can wrap that in a method if you like\r\n\r\n```\r\npublic DepotRecord withIdXY(final Long id, String x, String y) {\r\n  return myDepotRecord.withId(id).withX(x).withY(y);\r\n}\r\n```\r\n\r\nIn general, it&#39;s going to be better to give your API users the tools to compose together into whatever they want, rather than trying to anticipate every possible use case and provide a one-liner that does exactly that. What can you build more with? A big box of legos, or a pre-made lego house superglued together?","title":"Create a new With method with multiple value","body":"<p>Assuming the fields are independent of one another, you already have it.</p>\n<pre><code>myDepotRecord.withId(id).withX(x).withY(y)\n</code></pre>\n<p>and you can wrap that in a method if you like</p>\n<pre><code>public DepotRecord withIdXY(final Long id, String x, String y) {\n  return myDepotRecord.withId(id).withX(x).withY(y);\n}\n</code></pre>\n<p>In general, it's going to be better to give your API users the tools to compose together into whatever they want, rather than trying to anticipate every possible use case and provide a one-liner that does exactly that. What can you build more with? A big box of legos, or a pre-made lego house superglued together?</p>\n"}],"owner":{"account_id":1103468,"reputation":5324,"user_id":1095362,"accept_rate":43,"display_name":"robert trudel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673729332,"creation_date":1673728946,"question_id":75121095,"body_markdown":"I create a record like this (there are more field...)\r\n\r\n    @Builder\r\n    @With\r\n    public record DepotRecord(Long id, String x, String, y, String z, String a)\r\n    }\r\n\r\nA part of the generated code will look \r\n\r\n    public DepotRecord withId(final Long id) {\r\n        return this.id == id ? this : new DepotRecord(id, this.x, this.y,  this.z, this.a);\r\n    }\r\n\r\nIn rare case, i need to change more then one field.\r\n\r\nMaybe there is a way to have something generated  who look like\r\n\r\n    public DepotRecord withIdXY(final Long id, String x, String y) {\r\n        return this.id == id ? this : new DepotRecord(id, x, y, this.a);\r\n    }\r\n\r\nOtherwise there a way to create a custom method?\r\n\r\n","title":"Create a new With method with multiple value","body":"<p>I create a record like this (there are more field...)</p>\n<pre><code>@Builder\n@With\npublic record DepotRecord(Long id, String x, String, y, String z, String a)\n}\n</code></pre>\n<p>A part of the generated code will look</p>\n<pre><code>public DepotRecord withId(final Long id) {\n    return this.id == id ? this : new DepotRecord(id, this.x, this.y,  this.z, this.a);\n}\n</code></pre>\n<p>In rare case, i need to change more then one field.</p>\n<p>Maybe there is a way to have something generated  who look like</p>\n<pre><code>public DepotRecord withIdXY(final Long id, String x, String y) {\n    return this.id == id ? this : new DepotRecord(id, x, y, this.a);\n}\n</code></pre>\n<p>Otherwise there a way to create a custom method?</p>\n"},{"tags":["java","cassandra","cql","codec","datastax-java-driver"],"comments":[{"owner":{"account_id":14411493,"reputation":946,"user_id":10410162,"display_name":"Madhavan"},"score":1,"creation_date":1672325025,"post_id":74948622,"comment_id":132267912,"body_markdown":"could you update your original questions with information regarding the driver groupId, artifactId and version of the dependencies in your project? Thanks!","body":"could you update your original questions with information regarding the driver groupId, artifactId and version of the dependencies in your project? Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":60456,"reputation":55971,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672328357,"creation_date":1672327703,"answer_id":74953006,"question_id":74948622,"body_markdown":"You don&#39;t need to mess around with the codecs.  This error is occurring because the Cassandra `DECIMAL` type does not map to a Java `Double`.\r\n\r\nLet&#39;s assume that I have a table of numeric types, like this:\r\n\r\n    CREATE TABLE numerics (\r\n        num INT PRIMARY KEY,\r\n        dec DECIMAL,\r\n        doub DOUBLE,\r\n        flt FLOAT);\r\n\r\nWith the query builder, I can query and map these types like this:\r\n\r\n    Select query = QueryBuilder.selectFrom(&quot;stackoverflow&quot;, &quot;numerics&quot;)\r\n\t    .column(&quot;num&quot;)\r\n\t\t.column(&quot;dec&quot;)\r\n\t\t.column(&quot;doub&quot;)\r\n\t\t.column(&quot;flt&quot;)\r\n\t\t.whereColumn(&quot;num&quot;)\r\n\t\t    .isEqualTo(QueryBuilder.literal(1));\r\n\tSimpleStatement statement = query.build();\r\n\r\n\tResultSet rs = session.execute(statement);\r\n\tRow row = rs.one();\r\n\t\t\t  \r\n\tSystem.out.println(&quot;num(int) = &quot; + row.getInt(&quot;num&quot;));\r\n\tSystem.out.println(&quot;decimal = &quot; + row.getBigDecimal(&quot;dec&quot;));\r\n\tSystem.out.println(&quot;double = &quot; + row.getDouble(&quot;doub&quot;));\r\n\tSystem.out.println(&quot;float = &quot; + row.getFloat(&quot;flt&quot;));\r\n\r\n**tl;dr;**\r\n\r\nA Cassandra `DECIMAL` type maps to a `BigDecimal`, so try using that.\r\n\r\nGithub repo: https://github.com/aar0np/SelectNumerics","title":"Codec not found for requested operation [decimal &lt;-&gt; java.lang.Double]","body":"<p>You don't need to mess around with the codecs.  This error is occurring because the Cassandra <code>DECIMAL</code> type does not map to a Java <code>Double</code>.</p>\n<p>Let's assume that I have a table of numeric types, like this:</p>\n<pre><code>CREATE TABLE numerics (\n    num INT PRIMARY KEY,\n    dec DECIMAL,\n    doub DOUBLE,\n    flt FLOAT);\n</code></pre>\n<p>With the query builder, I can query and map these types like this:</p>\n<pre><code>Select query = QueryBuilder.selectFrom(&quot;stackoverflow&quot;, &quot;numerics&quot;)\n    .column(&quot;num&quot;)\n    .column(&quot;dec&quot;)\n    .column(&quot;doub&quot;)\n    .column(&quot;flt&quot;)\n    .whereColumn(&quot;num&quot;)\n        .isEqualTo(QueryBuilder.literal(1));\nSimpleStatement statement = query.build();\n\nResultSet rs = session.execute(statement);\nRow row = rs.one();\n          \nSystem.out.println(&quot;num(int) = &quot; + row.getInt(&quot;num&quot;));\nSystem.out.println(&quot;decimal = &quot; + row.getBigDecimal(&quot;dec&quot;));\nSystem.out.println(&quot;double = &quot; + row.getDouble(&quot;doub&quot;));\nSystem.out.println(&quot;float = &quot; + row.getFloat(&quot;flt&quot;));\n</code></pre>\n<p><strong>tl;dr;</strong></p>\n<p>A Cassandra <code>DECIMAL</code> type maps to a <code>BigDecimal</code>, so try using that.</p>\n<p>Github repo: <a href=\"https://github.com/aar0np/SelectNumerics\" rel=\"nofollow noreferrer\">https://github.com/aar0np/SelectNumerics</a></p>\n"},{"tags":[],"owner":{"account_id":14411493,"reputation":946,"user_id":10410162,"display_name":"Madhavan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673729290,"creation_date":1672327961,"answer_id":74953048,"question_id":74948622,"body_markdown":"A `decimal` CQL data type maps to `BigDecimal` in java type. See [CQL to Java type mapping documentation](https://docs.datastax.com/en/developer/java-driver/latest/manual/core/#cql-to-java-type-mapping) for more details.\r\n\r\nHaving said that, here is what I did with an example where I leveraged [**DataStax Astra DB**](www.datastax.com/astra) to demonstrate this:\r\n\r\n**Table Structure**:\r\n```\r\nCREATE TABLE ks.sodecimal (\r\n    i int PRIMARY KEY,\r\n    j decimal\r\n);\r\n```\r\n**Data**:\r\n```\r\ntoken@cqlsh:ks&gt; SELECT * FROM sodecimal ;\r\n\r\n i | j\r\n---+-------\r\n 1 | 0.124\r\n\r\n(1 rows)\r\n```\r\n\r\n**Java Driver**:\r\nI&#39;m using [DataStax Java Driver `4.15.0` version](https://mvnrepository.com/artifact/com.datastax.oss/java-driver-core/4.15.0) which is the latest as of this writing.\r\n\r\n```\r\n...\r\nSystem.out.println(&quot;-----------&quot;);\r\nResultSet rs_dec = session.execute(&quot;SELECT j FROM ks.sodecimal WHERE i = 1&quot;);\r\nBigDecimal bd = rs_dec.one().getBigDecimal(&quot;j&quot;);\r\nSystem.out.println(&quot;Decimal value: &quot; + bd.toString());\r\nSystem.out.println(&quot;-----------&quot;);\r\n...\r\n```\r\n\r\n**Output**:\r\n```\r\n-----------\r\nDecimal value: 0.124\r\n-----------\r\n```","title":"Codec not found for requested operation [decimal &lt;-&gt; java.lang.Double]","body":"<p>A <code>decimal</code> CQL data type maps to <code>BigDecimal</code> in java type. See <a href=\"https://docs.datastax.com/en/developer/java-driver/latest/manual/core/#cql-to-java-type-mapping\" rel=\"nofollow noreferrer\">CQL to Java type mapping documentation</a> for more details.</p>\n<p>Having said that, here is what I did with an example where I leveraged <strong>DataStax Astra DB</strong> to demonstrate this:</p>\n<p><strong>Table Structure</strong>:</p>\n<pre><code>CREATE TABLE ks.sodecimal (\n    i int PRIMARY KEY,\n    j decimal\n);\n</code></pre>\n<p><strong>Data</strong>:</p>\n<pre><code>token@cqlsh:ks&gt; SELECT * FROM sodecimal ;\n\n i | j\n---+-------\n 1 | 0.124\n\n(1 rows)\n</code></pre>\n<p><strong>Java Driver</strong>:\nI'm using <a href=\"https://mvnrepository.com/artifact/com.datastax.oss/java-driver-core/4.15.0\" rel=\"nofollow noreferrer\">DataStax Java Driver <code>4.15.0</code> version</a> which is the latest as of this writing.</p>\n<pre><code>...\nSystem.out.println(&quot;-----------&quot;);\nResultSet rs_dec = session.execute(&quot;SELECT j FROM ks.sodecimal WHERE i = 1&quot;);\nBigDecimal bd = rs_dec.one().getBigDecimal(&quot;j&quot;);\nSystem.out.println(&quot;Decimal value: &quot; + bd.toString());\nSystem.out.println(&quot;-----------&quot;);\n...\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>-----------\nDecimal value: 0.124\n-----------\n</code></pre>\n"}],"owner":{"account_id":26271745,"reputation":31,"user_id":19941559,"display_name":"sathish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673729290,"creation_date":1672301083,"question_id":74948622,"body_markdown":"I have decimal value in Cassandra db how to get that value        \r\n\r\n    cluster = Cluster.builder().addContactPoint(&quot;dev&quot;).withPort(9042).build();\r\n       cluster.getConfiguration().getCodecRegistry().register(InstantCodec.decimal());\r\n        Select select = QueryBuilder.select().from(&quot;app&quot;);\r\n        session = cluster.connect(keyspace);\r\n\r\n        ResultSet resultSet = session.execute(select);\r\n\r\n        Map&lt;String,Map&lt;String,Long&gt;&gt;map = new HashMap();\r\n \r\n       resultSet.forEach(x -&gt;map.put(x.getString(&quot;signal_name&quot;),x.getMap(&quot;config&quot;,String.class,Long.class)));","title":"Codec not found for requested operation [decimal &lt;-&gt; java.lang.Double]","body":"<p>I have decimal value in Cassandra db how to get that value</p>\n<pre><code>cluster = Cluster.builder().addContactPoint(&quot;dev&quot;).withPort(9042).build();\n   cluster.getConfiguration().getCodecRegistry().register(InstantCodec.decimal());\n    Select select = QueryBuilder.select().from(&quot;app&quot;);\n    session = cluster.connect(keyspace);\n\n    ResultSet resultSet = session.execute(select);\n\n    Map&lt;String,Map&lt;String,Long&gt;&gt;map = new HashMap();\n\n   resultSet.forEach(x -&gt;map.put(x.getString(&quot;signal_name&quot;),x.getMap(&quot;config&quot;,String.class,Long.class)));\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1673711146,"post_id":75119135,"comment_id":132561002,"body_markdown":"Instead of assigning a number to `carsPrice`, you should add to that number.","body":"Instead of assigning a number to <code>carsPrice</code>, you should add to that number."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673711232,"creation_date":1673711232,"answer_id":75119173,"question_id":75119135,"body_markdown":"You could move the price calculation into the loop and accumulate it:\r\n\r\n```java\r\nfor (int i = 0; i &lt; numberOfCars.length; i++) {\r\n       int nameA = i+1;\r\n       System.out.println(&quot;Enter name of car &quot; + nameA);\r\n       chosenCarNames [i] = sc.nextLine();\r\n\r\n       // Input validation omitted for brevity\r\n      \r\n       if (&quot;lamborghini&quot;.equals(chosenCarNames[i])) {\r\n           carsPrice += 59;\r\n       }\r\n       else if (&quot;toyota&quot;.equals(chosenCarNames[i])) {\r\n           carsPrice += 49;\r\n       }\r\n       else {\r\n           carsPrice += 39;\r\n       }\r\n}\r\n```","title":"Calculate the total price of acquiring multiple cars - Java","body":"<p>You could move the price calculation into the loop and accumulate it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; numberOfCars.length; i++) {\n       int nameA = i+1;\n       System.out.println(&quot;Enter name of car &quot; + nameA);\n       chosenCarNames [i] = sc.nextLine();\n\n       // Input validation omitted for brevity\n      \n       if (&quot;lamborghini&quot;.equals(chosenCarNames[i])) {\n           carsPrice += 59;\n       }\n       else if (&quot;toyota&quot;.equals(chosenCarNames[i])) {\n           carsPrice += 49;\n       }\n       else {\n           carsPrice += 39;\n       }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673715212,"creation_date":1673715212,"answer_id":75119669,"question_id":75119135,"body_markdown":"This is some interesting logic here:\r\n\r\n    while (&quot;lamborghini&quot;.equals(chosenCarNames[i]) &amp;&amp; &quot;toyota&quot;.equals(chosenCarNames[i]) &amp;&amp; &quot;audi 5&quot;.equals(chosenCarNames[i])) {\r\n\r\nIf the entered value was &quot;lamborghini&quot;, then the first part would be true, but then how could it also be equal to &quot;toyota&quot; and &quot;audi&quot; at the same time?\r\n\r\nIf the intention was to only allow &quot;lamborghini&quot;, &quot;toyota&quot;, or &quot;audi 5&quot;, then move that compound boolean expression from the inner `if` statement out to the `while` loop, and get rid of the inner `if`:\r\n\r\n    System.out.println(&quot;Enter name of car &quot; + nameA);\r\n    chosenCarNames [i] = sc.nextLine();\r\n    while (!&quot;lamborghini&quot;.equals(chosenCarNames[i]) &amp;&amp; !&quot;toyota&quot;.equals(chosenCarNames[i]) &amp;&amp; !&quot;audi 5&quot;.equals(chosenCarNames[i])) {\r\n       System.out.println(&quot;Name of car &quot; + nameA + &quot; is invalid. Please try again&quot;);\r\n       chosenCarNames[i] = sc.nextLine();\r\n    }\r\n","title":"Calculate the total price of acquiring multiple cars - Java","body":"<p>This is some interesting logic here:</p>\n<pre><code>while (&quot;lamborghini&quot;.equals(chosenCarNames[i]) &amp;&amp; &quot;toyota&quot;.equals(chosenCarNames[i]) &amp;&amp; &quot;audi 5&quot;.equals(chosenCarNames[i])) {\n</code></pre>\n<p>If the entered value was &quot;lamborghini&quot;, then the first part would be true, but then how could it also be equal to &quot;toyota&quot; and &quot;audi&quot; at the same time?</p>\n<p>If the intention was to only allow &quot;lamborghini&quot;, &quot;toyota&quot;, or &quot;audi 5&quot;, then move that compound boolean expression from the inner <code>if</code> statement out to the <code>while</code> loop, and get rid of the inner <code>if</code>:</p>\n<pre><code>System.out.println(&quot;Enter name of car &quot; + nameA);\nchosenCarNames [i] = sc.nextLine();\nwhile (!&quot;lamborghini&quot;.equals(chosenCarNames[i]) &amp;&amp; !&quot;toyota&quot;.equals(chosenCarNames[i]) &amp;&amp; !&quot;audi 5&quot;.equals(chosenCarNames[i])) {\n   System.out.println(&quot;Name of car &quot; + nameA + &quot; is invalid. Please try again&quot;);\n   chosenCarNames[i] = sc.nextLine();\n}\n</code></pre>\n"}],"owner":{"account_id":27393596,"reputation":21,"user_id":20896185,"display_name":"Jitheesh Justin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1673728492,"creation_date":1673710956,"question_id":75119135,"body_markdown":"Here is my code:\r\n\r\n    double carsPrice = 0; \r\n    Scanner sc = new Scanner(System.in);\r\n    System.out.println(&quot;Enter the number of cars you would like to drive&quot;);\r\n    String [] numberOfCars = new String[sc.nextInt()];\r\n    while (numberOfCars.length &gt; 5) {\r\n        System.out.println(&quot;Enter a number that is less than 5 and try again&quot;);\r\n        numberOfCars = new String[sc.nextInt()];\r\n    }\r\n    System.out.println(&quot;Enter the names of cars you would like to hire&quot;);\r\n    String [] chosenCarNames = new String[5];\r\n    sc.nextLine();\r\n    for (int i=0; i&lt;numberOfCars.length; i++) {\r\n        int nameA = i+1;\r\n        System.out.println(&quot;Enter name of car &quot; + nameA);\r\n        chosenCarNames [i] = sc.nextLine();\r\n        while (&quot;lamborghini&quot;.equals(chosenCarNames[i]) &amp;&amp; &quot;toyota&quot;.equals(chosenCarNames[i]) &amp;&amp; &quot;audi 5&quot;.equals(chosenCarNames[i])) {\r\n           if  (!&quot;lamborghini&quot;.equals(chosenCarNames[i]) &amp;&amp; !&quot;toyota&quot;.equals(chosenCarNames[i]) &amp;&amp; !&quot;audi 5&quot;.equals(chosenCarNames[i])) {\r\n               System.out.println(&quot;Name of car &quot; + nameA + &quot; is invalid. Please try again&quot;);\r\n               chosenCarNames[i] = sc.nextLine();\r\n           }\r\n        } \r\n    }\r\n    if (&quot;lamborghini&quot;.equals(chosenCarNames[i])) {\r\n        carsPrice = 59;\r\n    }\r\n    else if (&quot;toyota&quot;.equals(chosenCarNames[i])) {\r\n        carsPrice = 49;\r\n    }\r\n    else {\r\n        carsPrice = 39;\r\n    }\r\n\r\n \r\nI have made a java program that asks customers to enter the number of cars they would like to hire and after that the program should allow the user to enter the names of cars they would like to hire depending on the number of cars they would like to hire. My problem is that if the customer wants to hire more than one car, I am not able to calculate the total price the customer has to pay. If the customer wants to hire only one car, I have used if statements to calculate and display the total number of money the customer has to pay\r\n","title":"Calculate the total price of acquiring multiple cars - Java","body":"<p>Here is my code:</p>\n<pre><code>double carsPrice = 0; \nScanner sc = new Scanner(System.in);\nSystem.out.println(&quot;Enter the number of cars you would like to drive&quot;);\nString [] numberOfCars = new String[sc.nextInt()];\nwhile (numberOfCars.length &gt; 5) {\n    System.out.println(&quot;Enter a number that is less than 5 and try again&quot;);\n    numberOfCars = new String[sc.nextInt()];\n}\nSystem.out.println(&quot;Enter the names of cars you would like to hire&quot;);\nString [] chosenCarNames = new String[5];\nsc.nextLine();\nfor (int i=0; i&lt;numberOfCars.length; i++) {\n    int nameA = i+1;\n    System.out.println(&quot;Enter name of car &quot; + nameA);\n    chosenCarNames [i] = sc.nextLine();\n    while (&quot;lamborghini&quot;.equals(chosenCarNames[i]) &amp;&amp; &quot;toyota&quot;.equals(chosenCarNames[i]) &amp;&amp; &quot;audi 5&quot;.equals(chosenCarNames[i])) {\n       if  (!&quot;lamborghini&quot;.equals(chosenCarNames[i]) &amp;&amp; !&quot;toyota&quot;.equals(chosenCarNames[i]) &amp;&amp; !&quot;audi 5&quot;.equals(chosenCarNames[i])) {\n           System.out.println(&quot;Name of car &quot; + nameA + &quot; is invalid. Please try again&quot;);\n           chosenCarNames[i] = sc.nextLine();\n       }\n    } \n}\nif (&quot;lamborghini&quot;.equals(chosenCarNames[i])) {\n    carsPrice = 59;\n}\nelse if (&quot;toyota&quot;.equals(chosenCarNames[i])) {\n    carsPrice = 49;\n}\nelse {\n    carsPrice = 39;\n}\n</code></pre>\n<p>I have made a java program that asks customers to enter the number of cars they would like to hire and after that the program should allow the user to enter the names of cars they would like to hire depending on the number of cars they would like to hire. My problem is that if the customer wants to hire more than one car, I am not able to calculate the total price the customer has to pay. If the customer wants to hire only one car, I have used if statements to calculate and display the total number of money the customer has to pay</p>\n"},{"tags":["java","spring","spring-security","spring-rest"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":5,"creation_date":1673730682,"post_id":75120991,"comment_id":132564844,"body_markdown":"You have to permit `/error` to see the error message instead 401.","body":"You have to permit <code>&#47;error</code> to see the error message instead 401."},{"owner":{"account_id":15714806,"reputation":51,"user_id":11339268,"display_name":"30james00"},"score":2,"creation_date":1673732784,"post_id":75120991,"comment_id":132565191,"body_markdown":"Thanks! That solved my problem. I have not come across this in any JWT guide.","body":"Thanks! That solved my problem. I have not come across this in any JWT guide."},{"owner":{"account_id":154192,"reputation":3472,"user_id":369946,"accept_rate":75,"display_name":"Matt"},"score":2,"creation_date":1691657172,"post_id":75120991,"comment_id":135521930,"body_markdown":"Thanks @dur , I had the same problem after migrating to Spring Boot3/ Security6. Your other answer https://stackoverflow.com/a/75282801/369946 helped me to understand better this solution.","body":"Thanks @dur , I had the same problem after migrating to Spring Boot3/ Security6. Your other answer <a href=\"https://stackoverflow.com/a/75282801/369946\">stackoverflow.com/a/75282801/369946</a> helped me to understand better this solution."},{"owner":{"account_id":154192,"reputation":3472,"user_id":369946,"accept_rate":75,"display_name":"Matt"},"score":1,"creation_date":1691657302,"post_id":75120991,"comment_id":135521957,"body_markdown":"Not sure, why I didn&#39;t have this problem with Spring Boot 2 though, probably a custom error handler.","body":"Not sure, why I didn&#39;t have this problem with Spring Boot 2 though, probably a custom error handler."}],"owner":{"account_id":15714806,"reputation":51,"user_id":11339268,"display_name":"30james00"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1728,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1673728462,"creation_date":1673727668,"question_id":75120991,"body_markdown":"My application uses Spring Boot 3 with Spring Security and JWT authentication. It is simple REST API. This is my `SecurityFilterChain`:\r\n\r\n```java\r\n@Bean\r\n  protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n      // No need for CSRF in this example\r\n      http\r\n          .cors()\r\n              .and()\r\n          .csrf().disable()\r\n          // No authentication\r\n          .authorizeHttpRequests()\r\n              .requestMatchers(&quot;/login&quot;, &quot;/register&quot;).permitAll()\r\n              // Authentication for other requests\r\n              .anyRequest().authenticated()\r\n              .and()\r\n          // Session is stateless\r\n          .exceptionHandling()\r\n              .authenticationEntryPoint(jwtAuthenticationEntryPoint)\r\n              .and()\r\n          .sessionManagement()\r\n              .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n              .and()\r\n          .addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n      return http.build();\r\n  }\r\n```\r\n\r\nAnd this is my `JwtAuthenticationEntryPoint`:\r\n\r\n```java\r\n@Component\r\npublic class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n    @Override\r\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException {\r\n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI prepared exception classes as described in point 3.3 [here](https://www.baeldung.com/exception-handling-for-rest-with-spring) and [here](https://www.stackoverflow.com/) like this:\r\n\r\n```java\r\n@ResponseStatus(value = HttpStatus.NOT_FOUND)\r\npublic class RecipeNotFoundException extends RuntimeException {\r\n}\r\n\r\n```\r\n\r\nI use them like this.\r\n\r\n```java\r\nif (recipeFound.isEmpty()) throw new RecipeNotFoundException();\r\n``` \r\n\r\nI would like to send appropriate HTTP codes ex. when user tries to edit recipe that does not exist. Unfortunately I always get 401 Unauthorized. It also prevents my app from sending 500 code (I get 401 instead).\r\n\r\nHere is my `JwtRequestFilter`:\r\n```java\r\n@Component\r\npublic class JwtRequestFilter extends OncePerRequestFilter {\r\n    private final JwtUserDetailsService jwtUserDetailsService;\r\n    private final JwtTokenUtil jwtTokenUtil;\r\n\r\n    public JwtRequestFilter(JwtUserDetailsService jwtUserDetailsService, JwtTokenUtil jwtTokenUtil) {\r\n        this.jwtUserDetailsService = jwtUserDetailsService;\r\n        this.jwtTokenUtil = jwtTokenUtil;\r\n    }\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws ServletException, IOException {\r\n        if (!request.getRequestURI().equals(&quot;/register&quot;) &amp;&amp; !request.getRequestURI().equals(&quot;/login&quot;)) {\r\n            final String requestTokenHeader = request.getHeader(&quot;Authorization&quot;);\r\n\r\n            String username = null;\r\n            String jwtToken = null;\r\n\r\n            // Remove Bearer word from token\r\n            if (requestTokenHeader != null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer &quot;)) {\r\n                jwtToken = requestTokenHeader.substring(7);\r\n                try {\r\n                    username = jwtTokenUtil.getUsernameFromToken(jwtToken);\r\n                } catch (IllegalArgumentException e) {\r\n                    System.out.println(&quot;Unable to get JWT Token&quot;);\r\n                } catch (ExpiredJwtException e) {\r\n                    System.out.println(&quot;JWT Token has expired&quot;);\r\n                }\r\n            } else {\r\n                logger.warn(&quot;JWT Token does not start with Bearer String&quot;);\r\n            }\r\n\r\n            // Validate token\r\n            if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n                UserDetails userDetails = this.jwtUserDetailsService.loadUserByUsername(username);\r\n\r\n                // Configure authentication in Spring Security\r\n                if (jwtTokenUtil.validateToken(jwtToken, userDetails)) {\r\n                    UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken =\r\n                            new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n                    usernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n\r\n                    // Successful Authentication\r\n                    SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n                }\r\n            }\r\n        }\r\n        chain.doFilter(request, response);\r\n    }\r\n}\r\n```","title":"Spring Security returns only 401 Unauthorized","body":"<p>My application uses Spring Boot 3 with Spring Security and JWT authentication. It is simple REST API. This is my <code>SecurityFilterChain</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n  protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n      // No need for CSRF in this example\n      http\n          .cors()\n              .and()\n          .csrf().disable()\n          // No authentication\n          .authorizeHttpRequests()\n              .requestMatchers(&quot;/login&quot;, &quot;/register&quot;).permitAll()\n              // Authentication for other requests\n              .anyRequest().authenticated()\n              .and()\n          // Session is stateless\n          .exceptionHandling()\n              .authenticationEntryPoint(jwtAuthenticationEntryPoint)\n              .and()\n          .sessionManagement()\n              .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n              .and()\n          .addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n      return http.build();\n  }\n</code></pre>\n<p>And this is my <code>JwtAuthenticationEntryPoint</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint {\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException {\n        response.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Unauthorized&quot;);\n    }\n}\n</code></pre>\n<p>I prepared exception classes as described in point 3.3 <a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://www.stackoverflow.com/\">here</a> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ResponseStatus(value = HttpStatus.NOT_FOUND)\npublic class RecipeNotFoundException extends RuntimeException {\n}\n\n</code></pre>\n<p>I use them like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (recipeFound.isEmpty()) throw new RecipeNotFoundException();\n</code></pre>\n<p>I would like to send appropriate HTTP codes ex. when user tries to edit recipe that does not exist. Unfortunately I always get 401 Unauthorized. It also prevents my app from sending 500 code (I get 401 instead).</p>\n<p>Here is my <code>JwtRequestFilter</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class JwtRequestFilter extends OncePerRequestFilter {\n    private final JwtUserDetailsService jwtUserDetailsService;\n    private final JwtTokenUtil jwtTokenUtil;\n\n    public JwtRequestFilter(JwtUserDetailsService jwtUserDetailsService, JwtTokenUtil jwtTokenUtil) {\n        this.jwtUserDetailsService = jwtUserDetailsService;\n        this.jwtTokenUtil = jwtTokenUtil;\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws ServletException, IOException {\n        if (!request.getRequestURI().equals(&quot;/register&quot;) &amp;&amp; !request.getRequestURI().equals(&quot;/login&quot;)) {\n            final String requestTokenHeader = request.getHeader(&quot;Authorization&quot;);\n\n            String username = null;\n            String jwtToken = null;\n\n            // Remove Bearer word from token\n            if (requestTokenHeader != null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer &quot;)) {\n                jwtToken = requestTokenHeader.substring(7);\n                try {\n                    username = jwtTokenUtil.getUsernameFromToken(jwtToken);\n                } catch (IllegalArgumentException e) {\n                    System.out.println(&quot;Unable to get JWT Token&quot;);\n                } catch (ExpiredJwtException e) {\n                    System.out.println(&quot;JWT Token has expired&quot;);\n                }\n            } else {\n                logger.warn(&quot;JWT Token does not start with Bearer String&quot;);\n            }\n\n            // Validate token\n            if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n                UserDetails userDetails = this.jwtUserDetailsService.loadUserByUsername(username);\n\n                // Configure authentication in Spring Security\n                if (jwtTokenUtil.validateToken(jwtToken, userDetails)) {\n                    UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken =\n                            new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n                    usernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n\n                    // Successful Authentication\n                    SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n                }\n            }\n        }\n        chain.doFilter(request, response);\n    }\n}\n</code></pre>\n"},{"tags":["java","c#","visual-studio","maven","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":60634,"reputation":56007,"user_id":181087,"accept_rate":80,"display_name":"NightOwl888"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1673728451,"creation_date":1517657931,"answer_id":48596919,"question_id":48596614,"body_markdown":"The rough equivalent to Maven in the .NET ecosystem is [NuGet](https://www.nuget.org/). NuGet files can be [created](https://learn.microsoft.com/en-us/nuget/create-packages/creating-a-package) using the IDE or command-line tools such as [`dotnet pack`](https://learn.microsoft.com/en-us/dotnet/core/tools/dotnet-pack?tabs=netcore2x) or [`nuget pack`](https://learn.microsoft.com/en-us/nuget/tools/nuget-exe-cli-reference). A NuGet file is just a regular `.zip` file with the `.nupkg` extension. These files can be hosted on http://www.nuget.org for the general public to consume, on a site such as http://www.myget.org, or on a [private hosted NuGet server](https://learn.microsoft.com/en-us/nuget/hosting-packages/overview).\r\n\r\nThe NuGet tools also have the ability to [create debug symbol packages](https://learn.microsoft.com/en-us/nuget/create-packages/symbol-packages) that contain the source code files. The debug symbol packages can be hosted on public or private symbol servers and [used in Visual Studio](https://learn.microsoft.com/en-us/vsts/package/symbols/debug-with-symbols-visual-studio) to step through the code, with the configuration options enabled in Visual Studio.\r\n\r\nIf you open project A in Visual Studio and [automatic package restore](https://learn.microsoft.com/en-us/nuget/consume-packages/package-restore) is enabled and that project has a [package reference](https://learn.microsoft.com/en-us/nuget/consume-packages/package-references-in-project-files) to project B, when you build the project it will automatically download the NuGet file for project B, unpack it to your local NuGet cache, and use the assembly for project B in your project.\r\n\r\nIf Visual Studio is [configured correctly to find a debug symbols package](https://learn.microsoft.com/en-us/visualstudio/debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger) corresponding to the exact version of project B, it will allow the debugger to step through the code of project B. \r\n\r\n&gt; AFAIK, opening the code file of project B and then setting a break point is not possible (someone leave a comment if this is wrong), you need to set a breakpoint in project A and then when you step into the line that calls/instantiates the `Car` class, Visual Studio will open up the code file so you can step through it.\r\n\r\n### Update 2023-01-15\r\n\r\nNote that the above symbols documentation still works, but there is now a better way. If the author of a NuGet package configures [Source Link](https://github.com/dotnet/sourcelink#source-link) and the code exists in a Git repository, an IDE can [enable source stepping](https://lucenenet.apache.org/docs/4.8.0-beta00016/api/core/source-stepping.html) and the code files can be downloaded directly from the repository into the IDE&#39;s debugger. This means it is no longer necessary to package source files in the symbols package. This feature uses a Git commit hash to ensure that the source code matches the binary even if you upgrade the NuGet package later.\r\n\r\nThe symbols have also been updated to allow a [`.snupkg` file](https://learn.microsoft.com/en-us/nuget/create-packages/symbol-packages-snupkg) by including `&lt;PropertyGroup&gt;&lt;IncludeSymbols&gt;true&lt;/IncludeSymbols&gt;&lt;SymbolPackageFormat&gt;snupkg&lt;/SymbolPackageFormat&gt;&lt;/PropertyGroup&gt;` in the project file. This new format can be uploaded directly to NuGet instead of having to use a 3rd party symbol or self hosted server for debugging.","title":"Maven equivalent in .NET C#","body":"<p>The rough equivalent to Maven in the .NET ecosystem is <a href=\"https://www.nuget.org/\" rel=\"nofollow noreferrer\">NuGet</a>. NuGet files can be <a href=\"https://learn.microsoft.com/en-us/nuget/create-packages/creating-a-package\" rel=\"nofollow noreferrer\">created</a> using the IDE or command-line tools such as <a href=\"https://learn.microsoft.com/en-us/dotnet/core/tools/dotnet-pack?tabs=netcore2x\" rel=\"nofollow noreferrer\"><code>dotnet pack</code></a> or <a href=\"https://learn.microsoft.com/en-us/nuget/tools/nuget-exe-cli-reference\" rel=\"nofollow noreferrer\"><code>nuget pack</code></a>. A NuGet file is just a regular <code>.zip</code> file with the <code>.nupkg</code> extension. These files can be hosted on <a href=\"http://www.nuget.org\" rel=\"nofollow noreferrer\">http://www.nuget.org</a> for the general public to consume, on a site such as <a href=\"http://www.myget.org\" rel=\"nofollow noreferrer\">http://www.myget.org</a>, or on a <a href=\"https://learn.microsoft.com/en-us/nuget/hosting-packages/overview\" rel=\"nofollow noreferrer\">private hosted NuGet server</a>.</p>\n<p>The NuGet tools also have the ability to <a href=\"https://learn.microsoft.com/en-us/nuget/create-packages/symbol-packages\" rel=\"nofollow noreferrer\">create debug symbol packages</a> that contain the source code files. The debug symbol packages can be hosted on public or private symbol servers and <a href=\"https://learn.microsoft.com/en-us/vsts/package/symbols/debug-with-symbols-visual-studio\" rel=\"nofollow noreferrer\">used in Visual Studio</a> to step through the code, with the configuration options enabled in Visual Studio.</p>\n<p>If you open project A in Visual Studio and <a href=\"https://learn.microsoft.com/en-us/nuget/consume-packages/package-restore\" rel=\"nofollow noreferrer\">automatic package restore</a> is enabled and that project has a <a href=\"https://learn.microsoft.com/en-us/nuget/consume-packages/package-references-in-project-files\" rel=\"nofollow noreferrer\">package reference</a> to project B, when you build the project it will automatically download the NuGet file for project B, unpack it to your local NuGet cache, and use the assembly for project B in your project.</p>\n<p>If Visual Studio is <a href=\"https://learn.microsoft.com/en-us/visualstudio/debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger\" rel=\"nofollow noreferrer\">configured correctly to find a debug symbols package</a> corresponding to the exact version of project B, it will allow the debugger to step through the code of project B.</p>\n<blockquote>\n<p>AFAIK, opening the code file of project B and then setting a break point is not possible (someone leave a comment if this is wrong), you need to set a breakpoint in project A and then when you step into the line that calls/instantiates the <code>Car</code> class, Visual Studio will open up the code file so you can step through it.</p>\n</blockquote>\n<h3>Update 2023-01-15</h3>\n<p>Note that the above symbols documentation still works, but there is now a better way. If the author of a NuGet package configures <a href=\"https://github.com/dotnet/sourcelink#source-link\" rel=\"nofollow noreferrer\">Source Link</a> and the code exists in a Git repository, an IDE can <a href=\"https://lucenenet.apache.org/docs/4.8.0-beta00016/api/core/source-stepping.html\" rel=\"nofollow noreferrer\">enable source stepping</a> and the code files can be downloaded directly from the repository into the IDE's debugger. This means it is no longer necessary to package source files in the symbols package. This feature uses a Git commit hash to ensure that the source code matches the binary even if you upgrade the NuGet package later.</p>\n<p>The symbols have also been updated to allow a <a href=\"https://learn.microsoft.com/en-us/nuget/create-packages/symbol-packages-snupkg\" rel=\"nofollow noreferrer\"><code>.snupkg</code> file</a> by including <code>&lt;PropertyGroup&gt;&lt;IncludeSymbols&gt;true&lt;/IncludeSymbols&gt;&lt;SymbolPackageFormat&gt;snupkg&lt;/SymbolPackageFormat&gt;&lt;/PropertyGroup&gt;</code> in the project file. This new format can be uploaded directly to NuGet instead of having to use a 3rd party symbol or self hosted server for debugging.</p>\n"},{"tags":[],"owner":{"account_id":11945289,"reputation":41,"user_id":8740711,"display_name":"Tom"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1528182855,"creation_date":1528182538,"answer_id":50694097,"question_id":48596614,"body_markdown":"Well, actually it is possible. But some MSBuild modification is necessary. \r\n\r\nPreconditions:\r\n\r\n - use the new MSBuild format that was shiped with VS 2017\r\n\r\nStep by step:\r\n\r\n - create a solution and add both projects \r\n - I assume project A has a package reference to project B and the nuget package names are the same as the project names\r\n - in the root directory of both projects, which is probably not part of any source control system, create a file with the name Directory.Build.targets with the following content:\r\n\r\n\r\n      &lt;PropertyGroup&gt;\r\n        &lt;ReplacePackageReferences&gt;true&lt;/ReplacePackageReferences&gt;\r\n      &lt;/PropertyGroup&gt;\r\n    \r\n      &lt;Choose&gt;\r\n        &lt;When Condition=&quot;$(ReplacePackageReferences) AND &#39;$(SolutionPath)&#39; != &#39;&#39; AND &#39;$(SolutionPath)&#39; != &#39;*undefined*&#39; AND Exists(&#39;$(SolutionPath)&#39;)&quot;&gt;\r\n          \r\n          &lt;PropertyGroup&gt;\r\n            &lt;SolutionFileContent&gt;$([System.IO.File]::ReadAllText($(SolutionPath)))&lt;/SolutionFileContent&gt;\r\n            &lt;SmartSolutionDir&gt;$([System.IO.Path]::GetDirectoryName( $(SolutionPath) ))&lt;/SmartSolutionDir&gt;\r\n            &lt;RegexPattern&gt;(?&amp;lt;=&quot;[PackageName]&quot;, &quot;)(.*)(?=&quot;, &quot;)&lt;/RegexPattern&gt;\r\n          &lt;/PropertyGroup&gt;\r\n          \r\n          &lt;ItemGroup&gt;\r\n            \r\n            &lt;!-- Keep the identity of the  packagereference --&gt;\r\n            &lt;SmartPackageReference Include=&quot;@(PackageReference)&quot;&gt;\r\n              &lt;PackageName&gt;%(Identity)&lt;/PackageName&gt;\r\n              &lt;InSolution&gt;$(SolutionFileContent.Contains(&#39;\\%(Identity).csproj&#39;))&lt;/InSolution&gt;\r\n            &lt;/SmartPackageReference&gt;\r\n    \r\n            &lt;!-- Filter them by mapping them to another itemGroup using the WithMetadataValue item function --&gt;\r\n            &lt;PackageInSolution Include=&quot;@(SmartPackageReference -&gt; WithMetadataValue(&#39;InSolution&#39;, True) )&quot;&gt;\r\n              &lt;Pattern&gt;$(RegexPattern.Replace(&#39;[PackageName]&#39;,&#39;%(PackageName)&#39;) )&lt;/Pattern&gt;\r\n              &lt;SmartPath&gt;$([System.Text.RegularExpressions.Regex]::Match( &#39;$(SolutionFileContent)&#39;, &#39;%(Pattern)&#39; ))&lt;/SmartPath&gt;\r\n            &lt;/PackageInSolution&gt;\r\n            \r\n            &lt;ProjectReference  Include=&quot;@(PackageInSolution -&gt; &#39;$(SmartSolutionDir)\\%(SmartPath)&#39; )&quot;/&gt;\r\n    \r\n            &lt;!-- Remove the package references that are now referenced as projects --&gt;\r\n            &lt;PackageReference Remove=&quot;@(PackageInSolution -&gt; &#39;%(PackageName)&#39; )&quot;/&gt;\r\n          &lt;/ItemGroup&gt;\r\n    \r\n        &lt;/When&gt;\r\n      &lt;/Choose&gt;\r\n\r\nWhat happens here, is that all package references are automatically dynamically replaced with project references, when they are contained in the currently opened solution.\r\n\r\nFor further information, i have posted that solution also in a MSBuild github issue: \r\nhttps://github.com/dotnet/sdk/issues/1151","title":"Maven equivalent in .NET C#","body":"<p>Well, actually it is possible. But some MSBuild modification is necessary. </p>\n\n<p>Preconditions:</p>\n\n<ul>\n<li>use the new MSBuild format that was shiped with VS 2017</li>\n</ul>\n\n<p>Step by step:</p>\n\n<ul>\n<li>create a solution and add both projects </li>\n<li>I assume project A has a package reference to project B and the nuget package names are the same as the project names</li>\n<li><p>in the root directory of both projects, which is probably not part of any source control system, create a file with the name Directory.Build.targets with the following content:</p>\n\n<p>\n    true\n  </p>\n\n<p>\n    </p>\n\n<pre><code>  &lt;PropertyGroup&gt;\n    &lt;SolutionFileContent&gt;$([System.IO.File]::ReadAllText($(SolutionPath)))&lt;/SolutionFileContent&gt;\n    &lt;SmartSolutionDir&gt;$([System.IO.Path]::GetDirectoryName( $(SolutionPath) ))&lt;/SmartSolutionDir&gt;\n    &lt;RegexPattern&gt;(?&amp;lt;=\"[PackageName]\", \")(.*)(?=\", \")&lt;/RegexPattern&gt;\n  &lt;/PropertyGroup&gt;\n\n  &lt;ItemGroup&gt;\n\n    &lt;!-- Keep the identity of the  packagereference --&gt;\n    &lt;SmartPackageReference Include=\"@(PackageReference)\"&gt;\n      &lt;PackageName&gt;%(Identity)&lt;/PackageName&gt;\n      &lt;InSolution&gt;$(SolutionFileContent.Contains('\\%(Identity).csproj'))&lt;/InSolution&gt;\n    &lt;/SmartPackageReference&gt;\n\n    &lt;!-- Filter them by mapping them to another itemGroup using the WithMetadataValue item function --&gt;\n    &lt;PackageInSolution Include=\"@(SmartPackageReference -&gt; WithMetadataValue('InSolution', True) )\"&gt;\n      &lt;Pattern&gt;$(RegexPattern.Replace('[PackageName]','%(PackageName)') )&lt;/Pattern&gt;\n      &lt;SmartPath&gt;$([System.Text.RegularExpressions.Regex]::Match( '$(SolutionFileContent)', '%(Pattern)' ))&lt;/SmartPath&gt;\n    &lt;/PackageInSolution&gt;\n\n    &lt;ProjectReference  Include=\"@(PackageInSolution -&gt; '$(SmartSolutionDir)\\%(SmartPath)' )\"/&gt;\n\n    &lt;!-- Remove the package references that are now referenced as projects --&gt;\n    &lt;PackageReference Remove=\"@(PackageInSolution -&gt; '%(PackageName)' )\"/&gt;\n  &lt;/ItemGroup&gt;\n\n&lt;/When&gt;\n</code></pre>\n\n<p></p></li>\n</ul>\n\n<p>What happens here, is that all package references are automatically dynamically replaced with project references, when they are contained in the currently opened solution.</p>\n\n<p>For further information, i have posted that solution also in a MSBuild github issue: \n<a href=\"https://github.com/dotnet/sdk/issues/1151\" rel=\"nofollow noreferrer\">https://github.com/dotnet/sdk/issues/1151</a></p>\n"}],"owner":{"account_id":3781656,"reputation":464,"user_id":3448304,"accept_rate":44,"display_name":"Jurass"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18291,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":48596919,"answer_count":2,"score":10,"last_activity_date":1673728451,"creation_date":1517655741,"question_id":48596614,"body_markdown":"Let&#39;s assume there are two Maven Java projects, A and B. A has a dependency on B. B is placed in remote Maven repository and also on GitHub.\r\n\r\nIn IntelliJ Idea IDE, I will open project A and also B (B is cloned from GitHub) in two separate windows.\r\n\r\nNow, B has a class named `Car`. When I &#39;Ctrl+Left mouse button click&#39; on class `Car` in project A, IDE switches me automatically to the source code in opened project B. Therefore I can comfortably work together on A and B.\r\n\r\nHow can I achieve same behaviour with .NET C# and Visual Studio?","title":"Maven equivalent in .NET C#","body":"<p>Let's assume there are two Maven Java projects, A and B. A has a dependency on B. B is placed in remote Maven repository and also on GitHub.</p>\n\n<p>In IntelliJ Idea IDE, I will open project A and also B (B is cloned from GitHub) in two separate windows.</p>\n\n<p>Now, B has a class named <code>Car</code>. When I 'Ctrl+Left mouse button click' on class <code>Car</code> in project A, IDE switches me automatically to the source code in opened project B. Therefore I can comfortably work together on A and B.</p>\n\n<p>How can I achieve same behaviour with .NET C# and Visual Studio?</p>\n"},{"tags":["java","android","apk","native"],"owner":{"account_id":26855771,"reputation":1,"user_id":20440107,"display_name":"FaultyxD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673727897,"creation_date":1673466661,"question_id":75088321,"body_markdown":"Is there any method to count shared libraries (.so) programmatically. for example example.apk/lib/arm64-v8a/exp.so\r\ni just want to count how much.so files is there in lib folder inside .apk file","title":"Counting Shared Libraries (.so) Files","body":"<p>Is there any method to count shared libraries (.so) programmatically. for example example.apk/lib/arm64-v8a/exp.so\ni just want to count how much.so files is there in lib folder inside .apk file</p>\n"},{"tags":["java","arrays","csv","arraylist"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1673727706,"post_id":75120936,"comment_id":132564357,"body_markdown":"Actually, your code as written works fine for me if I do a `System.out.println(s);` in the bottom for loop.","body":"Actually, your code as written works fine for me if I do a <code>System.out.println(s);</code> in the bottom for loop."}],"owner":{"account_id":27158601,"reputation":11,"user_id":20697025,"display_name":"Hillary"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673727121,"answer_count":0,"score":0,"last_activity_date":1673727833,"creation_date":1673727018,"question_id":75120936,"body_markdown":"I am doing an assignment for a data structures class that involves manipulating data from a csv file. I have read in the file and converted each row of the file to a string array, and then added each row to an array list of string arrays. However, whenever I print out the rows, I get the address of the array. I have already tried converting the row to a string so I know that I am reading in the file correctly. However, whenever I have tried to index the row to find a certain value, I have been indexing the address instead of the actual string array. \r\n\r\nAny help is appreciated. \r\n\r\n```\r\npublic static void readData() {\r\n\tint count = 0;\r\n\tScanner file = null;\r\n\tArrayList&lt;String[]&gt; content = new ArrayList&lt;String[]&gt;();\r\n\ttry {\r\n\t\tfile = new Scanner(new File(&quot;compas-scores.csv&quot;));\r\n\t\twhile (file.hasNextLine()) {\r\n\t\t\tString line = file.nextLine();\r\n\t\t\t// Defendant d = new Defendant(line);\r\n\t\t\tString[] row = line.split(&quot;,&quot;);\r\n\t\t\t// System.out.println(row);\r\n\t\t\t// System.out.println(row.toString());\r\n\t\t\t// String s = Arrays.toString(row);\r\n\t\t\t// System.out.println(s);\r\n\t\t\tcontent.add(row);\r\n\t\t\tcount++;\r\n\t\t}\r\n\t} catch (FileNotFoundException e) {\r\n\t\tSystem.err.println(&quot;Cannot locate file.&quot;);\r\n\t\tSystem.exit(-1);\r\n\t}\r\n\t// System.out.println(content);\r\n\tfile.close();\r\n\r\n\tfor (String[] row : content){\r\n\t\tString s = Arrays.toString(row);\r\n\t\t// System.out.println(s);\r\n\t\t// if (nonViolent.contains()){\r\n\t\t//   System.out.println(&quot;nonViolent&quot;);\r\n\t\t// }else{\r\n\t\t//   System.out.println(&quot;violent&quot;);\r\n\t\t// }\r\n\t}\r\n}\r\n```\r\nWhen I print the row I get an address like this: Ljava.lang.String;@58a55449\r\nWhen I type s = Arrays.toString(row) I get the text that is in the csv file, but when I attempt to index it I am indexing individual characters, which makes sense to me. \r\n\r\nHere is a look at the csv file\r\n\r\n\r\n```\r\nsex,race,c_charge_degree,c_charge_desc,decile_score,score_text,two_year_recid,r_charge_desc,r_charge_degree\r\nMale,Other,F,Aggravated Assault w/Firearm,1,Low,0,,\r\nMale,African-American,F,Felony Battery w/Prior Convict,3,Low,1,Felony Battery (Dom Strang),(F3)\r\nMale,African-American,F,Possession of Cocaine,4,Low,1,Driving Under The Influence,(M1)\r\nMale,African-American,F,Possession of Cannabis,8,High,0,,\r\nMale,Other,F,arrest case no charge,1,Low,0,,\r\nMale,Other,M,Battery,1,Low,0,,\r\nMale,Caucasian,F,Possession Burglary Tools,6,Medium,1,Poss of Firearm by Convic Felo,(F2)\r\nMale,Other,F,arrest case no charge,4,Low,0,,\r\nFemale,Caucasian,M,Battery,1,Low,0,,\r\nMale,Caucasian,F,Insurance Fraud,3,Low,1,Battery,(M1)\r\nMale,Caucasian,F,&quot;Poss 3,4 MDMA (Ecstasy)&quot;,4,Low,0,,\r\nMale,African-American,M,Battery,6,Medium,1,Driving License Suspended,(M2)\r\nFemale,Caucasian,M,Battery,1,Low,0,,\r\nMale,African-American,F,&quot;Poss3,4 Methylenedioxymethcath&quot;,4,Low,0,,\r\n```\r\n","title":"Java: Attempting to index String array","body":"<p>I am doing an assignment for a data structures class that involves manipulating data from a csv file. I have read in the file and converted each row of the file to a string array, and then added each row to an array list of string arrays. However, whenever I print out the rows, I get the address of the array. I have already tried converting the row to a string so I know that I am reading in the file correctly. However, whenever I have tried to index the row to find a certain value, I have been indexing the address instead of the actual string array.</p>\n<p>Any help is appreciated.</p>\n<pre><code>public static void readData() {\n    int count = 0;\n    Scanner file = null;\n    ArrayList&lt;String[]&gt; content = new ArrayList&lt;String[]&gt;();\n    try {\n        file = new Scanner(new File(&quot;compas-scores.csv&quot;));\n        while (file.hasNextLine()) {\n            String line = file.nextLine();\n            // Defendant d = new Defendant(line);\n            String[] row = line.split(&quot;,&quot;);\n            // System.out.println(row);\n            // System.out.println(row.toString());\n            // String s = Arrays.toString(row);\n            // System.out.println(s);\n            content.add(row);\n            count++;\n        }\n    } catch (FileNotFoundException e) {\n        System.err.println(&quot;Cannot locate file.&quot;);\n        System.exit(-1);\n    }\n    // System.out.println(content);\n    file.close();\n\n    for (String[] row : content){\n        String s = Arrays.toString(row);\n        // System.out.println(s);\n        // if (nonViolent.contains()){\n        //   System.out.println(&quot;nonViolent&quot;);\n        // }else{\n        //   System.out.println(&quot;violent&quot;);\n        // }\n    }\n}\n</code></pre>\n<p>When I print the row I get an address like this: Ljava.lang.String;@58a55449\nWhen I type s = Arrays.toString(row) I get the text that is in the csv file, but when I attempt to index it I am indexing individual characters, which makes sense to me.</p>\n<p>Here is a look at the csv file</p>\n<pre><code>sex,race,c_charge_degree,c_charge_desc,decile_score,score_text,two_year_recid,r_charge_desc,r_charge_degree\nMale,Other,F,Aggravated Assault w/Firearm,1,Low,0,,\nMale,African-American,F,Felony Battery w/Prior Convict,3,Low,1,Felony Battery (Dom Strang),(F3)\nMale,African-American,F,Possession of Cocaine,4,Low,1,Driving Under The Influence,(M1)\nMale,African-American,F,Possession of Cannabis,8,High,0,,\nMale,Other,F,arrest case no charge,1,Low,0,,\nMale,Other,M,Battery,1,Low,0,,\nMale,Caucasian,F,Possession Burglary Tools,6,Medium,1,Poss of Firearm by Convic Felo,(F2)\nMale,Other,F,arrest case no charge,4,Low,0,,\nFemale,Caucasian,M,Battery,1,Low,0,,\nMale,Caucasian,F,Insurance Fraud,3,Low,1,Battery,(M1)\nMale,Caucasian,F,&quot;Poss 3,4 MDMA (Ecstasy)&quot;,4,Low,0,,\nMale,African-American,M,Battery,6,Medium,1,Driving License Suspended,(M2)\nFemale,Caucasian,M,Battery,1,Low,0,,\nMale,African-American,F,&quot;Poss3,4 Methylenedioxymethcath&quot;,4,Low,0,,\n</code></pre>\n"},{"tags":["java","traversal","graph-traversal"],"comments":[{"owner":{"account_id":1612692,"reputation":269,"user_id":1491213,"display_name":"triplej"},"score":0,"creation_date":1673730556,"post_id":75120875,"comment_id":132564827,"body_markdown":"What&#39;s the reason for putting a linked list inside an ArrayList?","body":"What&#39;s the reason for putting a linked list inside an ArrayList?"}],"owner":{"account_id":22473544,"reputation":92,"user_id":16673644,"display_name":"Noah Dennis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673727716,"creation_date":1673726494,"question_id":75120875,"body_markdown":"I&#39;m trying to do graph traversal for partitions where the values decrease and are at least two items in length. For example the partitions where n = 6 would be [3, 2, 1], [4, 2], [5, 1]. Something in the way I am counting these is flawed, but I haven&#39;t been able to find a solution. Each number has an instance of the class `Node` stored in `items` the node class has 2 properties, value and next. Next is an ArrayList of nodes which the current node can be broken up into. For example, 3 would have the following node:\r\nNode(3, [Node(3, [Node(2), Node(1])])\r\n\r\nI am currently getting the value 4294 when n = 10, where it should be only 9.\r\n\r\n```\r\npublic static int countItems(int n, ArrayList&lt;Integer&gt; notAllowed) {\r\n        if (memo.containsKey(n)) {\r\n            return memo.get(n);\r\n        }\r\n\r\n        int total = 0;\r\n        for (int i = n - 1; i &gt; 1; i--) {\r\n            ArrayList&lt;Integer&gt; localNotAllowed = new ArrayList&lt;&gt;(notAllowed);\r\n            int x = n - i;\r\n            int count = 0;\r\n\r\n            if (!localNotAllowed.contains(x) &amp;&amp; i &gt; x) {\r\n                count++;\r\n                localNotAllowed.add(x);\r\n            }\r\n\r\n            Node node = items.get(x);\r\n            for (Node item : node.next) {\r\n                 count += findWeight(item.value, localNotAllowed);\r\n            }\r\n\r\n            memo.put(x, count);\r\n            total += count;\r\n        }\r\n\r\n        return total;\r\n    }\r\n\r\ncountItems(10, new ArrayList&lt;Integer&gt;() {{add(n);}});\r\n```","title":"Graph traversal adding too many items","body":"<p>I'm trying to do graph traversal for partitions where the values decrease and are at least two items in length. For example the partitions where n = 6 would be [3, 2, 1], [4, 2], [5, 1]. Something in the way I am counting these is flawed, but I haven't been able to find a solution. Each number has an instance of the class <code>Node</code> stored in <code>items</code> the node class has 2 properties, value and next. Next is an ArrayList of nodes which the current node can be broken up into. For example, 3 would have the following node:\nNode(3, [Node(3, [Node(2), Node(1])])</p>\n<p>I am currently getting the value 4294 when n = 10, where it should be only 9.</p>\n<pre><code>public static int countItems(int n, ArrayList&lt;Integer&gt; notAllowed) {\n        if (memo.containsKey(n)) {\n            return memo.get(n);\n        }\n\n        int total = 0;\n        for (int i = n - 1; i &gt; 1; i--) {\n            ArrayList&lt;Integer&gt; localNotAllowed = new ArrayList&lt;&gt;(notAllowed);\n            int x = n - i;\n            int count = 0;\n\n            if (!localNotAllowed.contains(x) &amp;&amp; i &gt; x) {\n                count++;\n                localNotAllowed.add(x);\n            }\n\n            Node node = items.get(x);\n            for (Node item : node.next) {\n                 count += findWeight(item.value, localNotAllowed);\n            }\n\n            memo.put(x, count);\n            total += count;\n        }\n\n        return total;\n    }\n\ncountItems(10, new ArrayList&lt;Integer&gt;() {{add(n);}});\n</code></pre>\n"},{"tags":["java","netbeans","crash","restore"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1673710629,"post_id":75118482,"comment_id":132560892,"body_markdown":"Not sure how Netbeans works internally on that score but you can use `grep` in Unix and `find` in Windows to look for identifying strings. Get yourself a UPS - power outages are more likely than not going to increase ;) Netbeans should probably have an auto-save option I would have thought","body":"Not sure how Netbeans works internally on that score but you can use <code>grep</code> in Unix and <code>find</code> in Windows to look for identifying strings. Get yourself a UPS - power outages are more likely than not going to increase ;) Netbeans should probably have an auto-save option I would have thought"}],"answers":[{"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1673806466,"post_id":75120990,"comment_id":132574893,"body_markdown":"To be clear, the code you link to is not a plugin since it&#39;s been incorporated into NetBeans. See **Tools &gt; Options &gt; Editor &gt; Autosave**.","body":"To be clear, the code you link to is not a plugin since it&#39;s been incorporated into NetBeans. See <b>Tools &gt; Options &gt; Editor &gt; Autosave</b>."}],"tags":[],"owner":{"account_id":468855,"reputation":5925,"user_id":875083,"display_name":"Joachim Rohde"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673727639,"creation_date":1673727639,"answer_id":75120990,"question_id":75118482,"body_markdown":"Your changes are lost. There&#39;s an autosave plugin for the next time: https://plugins.netbeans.apache.org/catalogue/?id=22","title":"How do I Recover Unsaved Files in Nebeans After Crash?","body":"<p>Your changes are lost. There's an autosave plugin for the next time: <a href=\"https://plugins.netbeans.apache.org/catalogue/?id=22\" rel=\"nofollow noreferrer\">https://plugins.netbeans.apache.org/catalogue/?id=22</a></p>\n"}],"owner":{"account_id":11599586,"reputation":151,"user_id":8497191,"display_name":"ekene"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673727639,"creation_date":1673704909,"question_id":75118482,"body_markdown":"While working on a Java file in (Apache) Netbeans 14, my computer went off due to a power outage. Unfortunately, I had made a long string of edits without saving them. Is there a way to recover the edits? I have tried file history but it&#39;s showing only copies of the file that were saved.","title":"How do I Recover Unsaved Files in Nebeans After Crash?","body":"<p>While working on a Java file in (Apache) Netbeans 14, my computer went off due to a power outage. Unfortunately, I had made a long string of edits without saving them. Is there a way to recover the edits? I have tried file history but it's showing only copies of the file that were saved.</p>\n"},{"tags":["java","spring-boot","kotlin","spring-security","jwt"],"comments":[{"owner":{"account_id":11842440,"reputation":1,"user_id":8665931,"display_name":"muhammad hassaan siddiqui"},"score":0,"creation_date":1673730093,"post_id":75120891,"comment_id":132564754,"body_markdown":"it is just kotlin syntax","body":"it is just kotlin syntax"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1673730207,"post_id":75120891,"comment_id":132564776,"body_markdown":"It is not about kotlin syntax it is the concept of autowiring. You should check all solutions. There are several problems why bean is not injected.","body":"It is not about kotlin syntax it is the concept of autowiring. You should check all solutions. There are several problems why bean is not injected."}],"owner":{"account_id":11842440,"reputation":1,"user_id":8665931,"display_name":"muhammad hassaan siddiqui"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673751043,"answer_count":0,"score":0,"last_activity_date":1673727089,"creation_date":1673726594,"question_id":75120891,"body_markdown":"Hello I implementing Spring Security. I Found error while I Application is run. \r\nNot Creating Bean Produce Error.\r\n\r\nError creating bean with name &#39;securityFilterChain&#39; defined in class path resource [com/compilers/tripsntours/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;securityFilterChain&#39; threw exception with message: Cannot invoke &quot;java.lang.Object.getClass()&quot; because &quot;filter&quot; is null\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0: Error creating bean with name &#39;securityFilterChain&#39; defined in class path resource [com/compilers/tripsntours/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;securityFilterChain&#39; threw exception with message: Cannot invoke &quot;java.lang.Object.getClass()&quot; because &quot;filter&quot; is null\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:817) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:769) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:127) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar:3.0.0]\r\n\tat com.compilers.tripsntours.TripsnToursApplication$Companion.main(TripsnToursApplication.kt:65) ~[main/:na]\r\n\tat com.compilers.tripsntours.TripsnToursApplication.main(TripsnToursApplication.kt) ~[main/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0.jar:3.0.0]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;securityFilterChain&#39; defined in class path resource [com/compilers/tripsntours/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;securityFilterChain&#39; threw exception with message: Cannot invoke &quot;java.lang.Object.getClass()&quot; because &quot;filter&quot; is null\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:652) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:640) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1621) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1585) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1476) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1363) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:809) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\t... 26 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;securityFilterChain&#39; threw exception with message: Cannot invoke &quot;java.lang.Object.getClass()&quot; because &quot;filter&quot; is null\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\t... 42 common frames omitted\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Object.getClass()&quot; because &quot;filter&quot; is null\r\n\tat org.springframework.security.config.annotation.web.builders.HttpSecurity.addFilterAtOffsetOf(HttpSecurity.java:3056) ~[spring-security-config-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.config.annotation.web.builders.HttpSecurity.addFilterBefore(HttpSecurity.java:3050) ~[spring-security-config-6.0.0.jar:6.0.0]\r\n\tat com.compilers.tripsntours.config.SecurityConfig.securityFilterChain(SecurityConfig.kt:62) ~[main/:na]\r\n\tat com.compilers.tripsntours.config.SecurityConfig$$SpringCGLIB$$0.CGLIB$securityFilterChain$3(&lt;generated&gt;) ~[main/:na]\r\n\tat com.compilers.tripsntours.config.SecurityConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[main/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:257) ~[spring-core-6.0.2.jar:6.0.2]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.2.jar:6.0.2]\r\n\tat com.compilers.tripsntours.config.SecurityConfig$$SpringCGLIB$$0.securityFilterChain(&lt;generated&gt;) ~[main/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.2.jar:6.0.2]\r\n\t... 43 common frames omitted\r\n```\r\n**SecurityConfig.kt**\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\n//@EnableJpaRepositories\r\n//@EnableGlobalMethodSecurity(prePostEnabled = true)\r\nclass SecurityConfig {\r\n\r\n    @Autowired\r\n    val customUserDetailservice : CustomUserDetailservice  ?= null\r\n\r\n    @Autowired\r\n    val jwtAuthenticationFilter : JwtAuthenticationFilter ?= null\r\n\r\n    @Autowired\r\n    val jwtAuthenticationEntryRequestPoint: JwtAuthenticationEntryRequestPoint ?= null\r\n\r\n    @Bean\r\n    fun securityFilterChain(http: HttpSecurity) : SecurityFilterChain {\r\n\r\n        http\r\n            .csrf()\r\n            .disable()\r\n            .authorizeHttpRequests { requests -&gt;\r\n                requests\r\n                    .requestMatchers(&quot;/api/user/login&quot;,&quot;/api/user/registerUser&quot;)\r\n                    .permitAll()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                   // .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter::class.java)\r\n                    .exceptionHandling()\r\n                    .authenticationEntryPoint(this.jwtAuthenticationEntryRequestPoint)\r\n\r\n            }\r\n            .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n        http.addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter::class.java)\r\n        http.authenticationProvider(daoAuthenticationProvider())\r\n        val build : DefaultSecurityFilterChain = http.build()\r\n        return build\r\n    }\r\n    @Bean\r\n    fun passwordEncoder(): PasswordEncoder {\r\n        return BCryptPasswordEncoder()\r\n    }\r\n    @Bean\r\n    fun daoAuthenticationProvider(): DaoAuthenticationProvider? {\r\n        val provider = DaoAuthenticationProvider()\r\n        provider.setUserDetailsService(this.customUserDetailservice)\r\n        provider.setPasswordEncoder(passwordEncoder())\r\n        return provider\r\n    }\r\n    @Bean\r\n    @Primary\r\n    @Throws(Exception::class)\r\n    fun authepnticationManagerBean(configuration: AuthenticationConfiguration): AuthenticationManager? {\r\n       return configuration.authenticationManager\r\n    }\r\n\r\n\r\n}\r\n```\r\n**JwtAuthenticationFilter.kt**\r\n\r\n\r\n```\r\n\r\n@Component\r\nclass JwtAuthenticationFilter : OncePerRequestFilter() {\r\n\r\n    @Autowired\r\n    private val userDetailsService: UserDetailsService? = null\r\n\r\n    @Autowired\r\n    private val jwtTokenHelper: JwtTokenHelper? = null\r\n\r\n    @Throws(ServletException::class, IOException::class)\r\n    override fun doFilterInternal(\r\n        request: HttpServletRequest,\r\n        response: HttpServletResponse,\r\n        filterChain: FilterChain\r\n    ) {\r\n\r\n//\t\t1. get token\r\n        val requestToken = request.getHeader(&quot;Authorization&quot;)\r\n        val headerNames = request.headerNames\r\n        while (headerNames.hasMoreElements()) {\r\n            println(headerNames.nextElement())\r\n        }\r\n        // Bearer 2352523sdgsg\r\n        println(requestToken)\r\n        var username: String? = null\r\n        var token: String? = null\r\n        if (requestToken != null &amp;&amp; requestToken.startsWith(&quot;Bearer&quot;)) {\r\n            token = requestToken.substring(7)\r\n            try {\r\n                username = jwtTokenHelper!!.getUsernameFromToken(token)\r\n            } catch (e: IllegalArgumentException) {\r\n                println(&quot;Unable to get Jwt token&quot;)\r\n            } catch (e: ExpiredJwtException) {\r\n                println(&quot;Jwt token has expired&quot;)\r\n            } catch (e: MalformedJwtException) {\r\n                println(&quot;invalid jwt&quot;)\r\n            }\r\n        } else {\r\n            println(&quot;Jwt token does not begin with Bearer&quot;)\r\n        }\r\n\r\n        // once we get the token , now validate\r\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().authentication == null) {\r\n            val userDetails = userDetailsService!!.loadUserByUsername(username)\r\n            if (jwtTokenHelper!!.validateToken(token, userDetails)) {\r\n                val usernamePasswordAuthenticationToken = UsernamePasswordAuthenticationToken(\r\n                    userDetails, null, userDetails.authorities\r\n                )\r\n                usernamePasswordAuthenticationToken.details = WebAuthenticationDetailsSource().buildDetails(request)\r\n                SecurityContextHolder.getContext().authentication = usernamePasswordAuthenticationToken\r\n            } else {\r\n                println(&quot;Invalid jwt token&quot;)\r\n            }\r\n        } else {\r\n            println(&quot;username is null or context is not null&quot;)\r\n        }\r\n        filterChain.doFilter(request, response)\r\n    }\r\n}\r\n\r\n```\r\n\r\n**Main Class.kt**\r\n```\r\n@SpringBootApplication\r\nclass TripsnToursApplication : CommandLineRunner {\r\n\r\n    @Autowired\r\n    val passwordEncode: PasswordEncoder? = null\r\n\r\n    @Autowired\r\n    private val roleRepo: RoleRepo? = null\r\n\r\n    companion object {\r\n        @JvmStatic\r\n        fun main(args: Array&lt;String&gt;) {\r\n            runApplication&lt;TripsnToursApplication&gt;(*args)\r\n        }\r\n    }\r\n\r\n\r\n\r\n    @Throws(Exception::class)\r\n    override fun run(vararg args: String?) {\r\n        try {\r\n            val role1 = Role()\r\n            role1.id = ADMIN_USER\r\n            role1.name = &quot;ROLE_ADMIN&quot;\r\n            val role2 = Role()\r\n            role2.id = TOURIST_USER\r\n            role2.name = &quot;ROLE_TOURIST&quot;\r\n            val role3 = Role()\r\n            role3.id = AGENCEY_USER\r\n            role3.name = &quot;ROLE_AGENCY&quot;\r\n            val roles: List&lt;Role&gt; = listOf(role1, role2, role3)\r\n            val result: List&lt;Role&gt; = roleRepo!!.saveAll(roles)\r\n            result.forEach(Consumer&lt;Role&gt; { r: Role -&gt; System.out.println(r.name) })\r\n\r\n\r\n        } catch (e: Exception) {\r\n\r\n            e.printStackTrace()\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n","title":"While we add addFilter before in our Security Filter bean . Bean is not creating and and produce error, mentioned filter is empty. Spring Boot Kotlin","body":"<p>Hello I implementing Spring Security. I Found error while I Application is run.\nNot Creating Bean Produce Error.</p>\n<p>Error creating bean with name 'securityFilterChain' defined in class path resource [com/compilers/tripsntours/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Cannot invoke &quot;java.lang.Object.getClass()&quot; because &quot;filter&quot; is null</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [com/compilers/tripsntours/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Cannot invoke &quot;java.lang.Object.getClass()&quot; because &quot;filter&quot; is null\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:817) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:769) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:127) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.0.jar:3.0.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.0.jar:3.0.0]\n    at com.compilers.tripsntours.TripsnToursApplication$Companion.main(TripsnToursApplication.kt:65) ~[main/:na]\n    at com.compilers.tripsntours.TripsnToursApplication.main(TripsnToursApplication.kt) ~[main/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.0.jar:3.0.0]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/compilers/tripsntours/config/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Cannot invoke &quot;java.lang.Object.getClass()&quot; because &quot;filter&quot; is null\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:652) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:640) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1621) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1585) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1476) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1363) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:809) ~[spring-beans-6.0.2.jar:6.0.2]\n    ... 26 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Cannot invoke &quot;java.lang.Object.getClass()&quot; because &quot;filter&quot; is null\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648) ~[spring-beans-6.0.2.jar:6.0.2]\n    ... 42 common frames omitted\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.lang.Object.getClass()&quot; because &quot;filter&quot; is null\n    at org.springframework.security.config.annotation.web.builders.HttpSecurity.addFilterAtOffsetOf(HttpSecurity.java:3056) ~[spring-security-config-6.0.0.jar:6.0.0]\n    at org.springframework.security.config.annotation.web.builders.HttpSecurity.addFilterBefore(HttpSecurity.java:3050) ~[spring-security-config-6.0.0.jar:6.0.0]\n    at com.compilers.tripsntours.config.SecurityConfig.securityFilterChain(SecurityConfig.kt:62) ~[main/:na]\n    at com.compilers.tripsntours.config.SecurityConfig$$SpringCGLIB$$0.CGLIB$securityFilterChain$3(&lt;generated&gt;) ~[main/:na]\n    at com.compilers.tripsntours.config.SecurityConfig$$SpringCGLIB$$2.invoke(&lt;generated&gt;) ~[main/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:257) ~[spring-core-6.0.2.jar:6.0.2]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.2.jar:6.0.2]\n    at com.compilers.tripsntours.config.SecurityConfig$$SpringCGLIB$$0.securityFilterChain(&lt;generated&gt;) ~[main/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.2.jar:6.0.2]\n    ... 43 common frames omitted\n</code></pre>\n<p><strong>SecurityConfig.kt</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\n//@EnableJpaRepositories\n//@EnableGlobalMethodSecurity(prePostEnabled = true)\nclass SecurityConfig {\n\n    @Autowired\n    val customUserDetailservice : CustomUserDetailservice  ?= null\n\n    @Autowired\n    val jwtAuthenticationFilter : JwtAuthenticationFilter ?= null\n\n    @Autowired\n    val jwtAuthenticationEntryRequestPoint: JwtAuthenticationEntryRequestPoint ?= null\n\n    @Bean\n    fun securityFilterChain(http: HttpSecurity) : SecurityFilterChain {\n\n        http\n            .csrf()\n            .disable()\n            .authorizeHttpRequests { requests -&gt;\n                requests\n                    .requestMatchers(&quot;/api/user/login&quot;,&quot;/api/user/registerUser&quot;)\n                    .permitAll()\n                    .anyRequest()\n                    .authenticated()\n                    .and()\n                   // .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter::class.java)\n                    .exceptionHandling()\n                    .authenticationEntryPoint(this.jwtAuthenticationEntryRequestPoint)\n\n            }\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        http.addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter::class.java)\n        http.authenticationProvider(daoAuthenticationProvider())\n        val build : DefaultSecurityFilterChain = http.build()\n        return build\n    }\n    @Bean\n    fun passwordEncoder(): PasswordEncoder {\n        return BCryptPasswordEncoder()\n    }\n    @Bean\n    fun daoAuthenticationProvider(): DaoAuthenticationProvider? {\n        val provider = DaoAuthenticationProvider()\n        provider.setUserDetailsService(this.customUserDetailservice)\n        provider.setPasswordEncoder(passwordEncoder())\n        return provider\n    }\n    @Bean\n    @Primary\n    @Throws(Exception::class)\n    fun authepnticationManagerBean(configuration: AuthenticationConfiguration): AuthenticationManager? {\n       return configuration.authenticationManager\n    }\n\n\n}\n</code></pre>\n<p><strong>JwtAuthenticationFilter.kt</strong></p>\n<pre><code>\n@Component\nclass JwtAuthenticationFilter : OncePerRequestFilter() {\n\n    @Autowired\n    private val userDetailsService: UserDetailsService? = null\n\n    @Autowired\n    private val jwtTokenHelper: JwtTokenHelper? = null\n\n    @Throws(ServletException::class, IOException::class)\n    override fun doFilterInternal(\n        request: HttpServletRequest,\n        response: HttpServletResponse,\n        filterChain: FilterChain\n    ) {\n\n//      1. get token\n        val requestToken = request.getHeader(&quot;Authorization&quot;)\n        val headerNames = request.headerNames\n        while (headerNames.hasMoreElements()) {\n            println(headerNames.nextElement())\n        }\n        // Bearer 2352523sdgsg\n        println(requestToken)\n        var username: String? = null\n        var token: String? = null\n        if (requestToken != null &amp;&amp; requestToken.startsWith(&quot;Bearer&quot;)) {\n            token = requestToken.substring(7)\n            try {\n                username = jwtTokenHelper!!.getUsernameFromToken(token)\n            } catch (e: IllegalArgumentException) {\n                println(&quot;Unable to get Jwt token&quot;)\n            } catch (e: ExpiredJwtException) {\n                println(&quot;Jwt token has expired&quot;)\n            } catch (e: MalformedJwtException) {\n                println(&quot;invalid jwt&quot;)\n            }\n        } else {\n            println(&quot;Jwt token does not begin with Bearer&quot;)\n        }\n\n        // once we get the token , now validate\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().authentication == null) {\n            val userDetails = userDetailsService!!.loadUserByUsername(username)\n            if (jwtTokenHelper!!.validateToken(token, userDetails)) {\n                val usernamePasswordAuthenticationToken = UsernamePasswordAuthenticationToken(\n                    userDetails, null, userDetails.authorities\n                )\n                usernamePasswordAuthenticationToken.details = WebAuthenticationDetailsSource().buildDetails(request)\n                SecurityContextHolder.getContext().authentication = usernamePasswordAuthenticationToken\n            } else {\n                println(&quot;Invalid jwt token&quot;)\n            }\n        } else {\n            println(&quot;username is null or context is not null&quot;)\n        }\n        filterChain.doFilter(request, response)\n    }\n}\n\n</code></pre>\n<p><strong>Main Class.kt</strong></p>\n<pre><code>@SpringBootApplication\nclass TripsnToursApplication : CommandLineRunner {\n\n    @Autowired\n    val passwordEncode: PasswordEncoder? = null\n\n    @Autowired\n    private val roleRepo: RoleRepo? = null\n\n    companion object {\n        @JvmStatic\n        fun main(args: Array&lt;String&gt;) {\n            runApplication&lt;TripsnToursApplication&gt;(*args)\n        }\n    }\n\n\n\n    @Throws(Exception::class)\n    override fun run(vararg args: String?) {\n        try {\n            val role1 = Role()\n            role1.id = ADMIN_USER\n            role1.name = &quot;ROLE_ADMIN&quot;\n            val role2 = Role()\n            role2.id = TOURIST_USER\n            role2.name = &quot;ROLE_TOURIST&quot;\n            val role3 = Role()\n            role3.id = AGENCEY_USER\n            role3.name = &quot;ROLE_AGENCY&quot;\n            val roles: List&lt;Role&gt; = listOf(role1, role2, role3)\n            val result: List&lt;Role&gt; = roleRepo!!.saveAll(roles)\n            result.forEach(Consumer&lt;Role&gt; { r: Role -&gt; System.out.println(r.name) })\n\n\n        } catch (e: Exception) {\n\n            e.printStackTrace()\n        }\n\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":["java","javascript","html","internet-explorer","jax-rs"],"comments":[{"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1367218360,"post_id":16272682,"comment_id":23287948,"body_markdown":"What `content-type` are you returning as response to the client?","body":"What <code>content-type</code> are you returning as response to the client?"},{"owner":{"account_id":1900410,"reputation":48,"user_id":1716377,"display_name":"aditya.arora.89"},"score":0,"creation_date":1367219034,"post_id":16272682,"comment_id":23288208,"body_markdown":"Its application/json....The web service is working perfectly fine...the problem is the way IE treats response from web service","body":"Its application/json....The web service is working perfectly fine...the problem is the way IE treats response from web service"},{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":0,"creation_date":1367560389,"post_id":16272682,"comment_id":23426497,"body_markdown":"Are you sending back a `Content-Disposition` header with your response?","body":"Are you sending back a <code>Content-Disposition</code> header with your response?"}],"answers":[{"comments":[{"owner":{"account_id":1900410,"reputation":48,"user_id":1716377,"display_name":"aditya.arora.89"},"score":0,"creation_date":1367219285,"post_id":16272800,"comment_id":23288297,"body_markdown":"I have used `@Produces({ MediaType.APPLICATION_JSON })` annotation for my web service method. I hope that is sufficient.","body":"I have used <code>@Produces({ MediaType.APPLICATION_JSON })</code> annotation for my web service method. I hope that is sufficient."}],"tags":[],"owner":{"account_id":1405229,"reputation":8733,"user_id":1333133,"accept_rate":51,"display_name":"Satya"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1367218382,"creation_date":1367218382,"answer_id":16272800,"question_id":16272682,"body_markdown":"set `response.ContentType` to `application/json` and you should be through","title":"IE treating String response from JAX-RS web service as a file","body":"<p>set <code>response.ContentType</code> to <code>application/json</code> and you should be through</p>\n"},{"tags":[],"owner":{"account_id":1900410,"reputation":48,"user_id":1716377,"display_name":"aditya.arora.89"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673726655,"creation_date":1673726655,"answer_id":75120896,"question_id":16272682,"body_markdown":"IE always load the iFrame as a download file dialog.","title":"IE treating String response from JAX-RS web service as a file","body":"<p>IE always load the iFrame as a download file dialog.</p>\n"}],"owner":{"account_id":1900410,"reputation":48,"user_id":1716377,"display_name":"aditya.arora.89"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75120896,"answer_count":2,"score":0,"last_activity_date":1673726655,"creation_date":1367217862,"question_id":16272682,"body_markdown":"I have a JAX-RS web service that returns json string. I have created an html form to consume this service. \r\n`&lt;form action=&quot;/webserviceUrl&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot; target=&quot;result_frame&quot;&gt;`\r\n\r\nresult frame : \r\n`&lt;iframe id=&quot;result_frame&quot; name=&quot;result_frame&quot; style=&quot;width: 50%; height: 100px;&quot; &gt;&lt;/iframe&gt;`\r\n\r\nWhen i submit this form the web service is called and the result (json string) is returned to the browser. All browsers are successfully parsing the result and displaying it in the result frame, except IE. In IE the returned json string is considered as a file and it prompts me to download that file. When i open that file I get the same json string that is the output of my web service. What can i do so that IE parse it the same way other browsers are doing??","title":"IE treating String response from JAX-RS web service as a file","body":"<p>I have a JAX-RS web service that returns json string. I have created an html form to consume this service. \n<code>&lt;form action=\"/webserviceUrl\" method=\"post\" enctype=\"multipart/form-data\" target=\"result_frame\"&gt;</code></p>\n\n<p>result frame : \n<code>&lt;iframe id=\"result_frame\" name=\"result_frame\" style=\"width: 50%; height: 100px;\" &gt;&lt;/iframe&gt;</code></p>\n\n<p>When i submit this form the web service is called and the result (json string) is returned to the browser. All browsers are successfully parsing the result and displaying it in the result frame, except IE. In IE the returned json string is considered as a file and it prompts me to download that file. When i open that file I get the same json string that is the output of my web service. What can i do so that IE parse it the same way other browsers are doing??</p>\n"},{"tags":["java","talend"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673779344,"post_id":75120837,"comment_id":132570147,"body_markdown":"What is `StringHandling.LEN`, where is it defined, what&#39;s its implementation? What type is `context.last_record_filter_value`?","body":"What is <code>StringHandling.LEN</code>, where is it defined, what&#39;s its implementation? What type is <code>context.last_record_filter_value</code>?"}],"answers":[{"tags":[],"owner":{"account_id":7611366,"reputation":9515,"user_id":5772095,"display_name":"Skin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673726610,"creation_date":1673726610,"answer_id":75120893,"question_id":75120837,"body_markdown":"If your context variable is defined as a string data type, simply use the `length()` function to compare ...\r\n\r\n    if(context.last_record_filter_value.length() == 0)\r\n\r\n... or the `isEmpty()` method ...\r\n\r\n    if(context.last_record_filter_value.isEmpty())\r\n\r\nIt should be noted that `isEmpty()` will not work if the string is `null`, for obvious reasons, i.e. itll throw an exception if you try to call a method on a null variable. In that case, use `== null`.","title":"How do I check for the length of a context variable in a java component?","body":"<p>If your context variable is defined as a string data type, simply use the <code>length()</code> function to compare ...</p>\n<pre><code>if(context.last_record_filter_value.length() == 0)\n</code></pre>\n<p>... or the <code>isEmpty()</code> method ...</p>\n<pre><code>if(context.last_record_filter_value.isEmpty())\n</code></pre>\n<p>It should be noted that <code>isEmpty()</code> will not work if the string is <code>null</code>, for obvious reasons, i.e. itll throw an exception if you try to call a method on a null variable. In that case, use <code>== null</code>.</p>\n"}],"owner":{"account_id":20845880,"reputation":13,"user_id":15311387,"display_name":"muncieharts"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673726610,"creation_date":1673726062,"question_id":75120837,"body_markdown":"I&#39;ve tried:\r\n\r\n    if(StringHandling.LEN(context.last_record_filter_value) == 0)\r\n\r\nBut this ALWAYS evaluates true regardless of the length of the string.  When I attempt to put the zero in quotes, it doesn&#39;t like it since it is comparing an integer to a string.  I am going to set a context variable to 0 and compare it to that for now but there must be a more elegant way to accomplish this.  ","title":"How do I check for the length of a context variable in a java component?","body":"<p>I've tried:</p>\n<pre><code>if(StringHandling.LEN(context.last_record_filter_value) == 0)\n</code></pre>\n<p>But this ALWAYS evaluates true regardless of the length of the string.  When I attempt to put the zero in quotes, it doesn't like it since it is comparing an integer to a string.  I am going to set a context variable to 0 and compare it to that for now but there must be a more elegant way to accomplish this.</p>\n"},{"tags":["java","android","okhttp"],"comments":[{"owner":{"account_id":3112777,"reputation":347,"user_id":2634207,"accept_rate":83,"display_name":"danissimo"},"score":0,"creation_date":1673601249,"post_id":75106547,"comment_id":132540331,"body_markdown":"I&#39;m not sure I understood you right. What does crash? You app? At the line 246? ANR (whatever it is)? Your app crashes with that &#128070;&#127996; stacktrace? Does it crash each time it reaches the line 246 or eventually?","body":"I&#39;m not sure I understood you right. What does crash? You app? At the line 246? ANR (whatever it is)? Your app crashes with that  stacktrace? Does it crash each time it reaches the line 246 or eventually?"},{"owner":{"account_id":3112777,"reputation":347,"user_id":2634207,"accept_rate":83,"display_name":"danissimo"},"score":0,"creation_date":1673601761,"post_id":75106547,"comment_id":132540496,"body_markdown":"Oh, excuse me, I just read your stack trace more thoroughly. It looks scary. &#128552; Bad luck","body":"Oh, excuse me, I just read your stack trace more thoroughly. It looks scary.  Bad luck"}],"owner":{"account_id":1419645,"reputation":11379,"user_id":1344545,"accept_rate":59,"display_name":"mcfly soft"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673725624,"creation_date":1673598206,"question_id":75106547,"body_markdown":"I get lot of ANR reports (google play console) for which I have no clue how to solve it. I wrapped the problematic code with try and catch, but still it hangs at a specific codeline. I myself can&#39;t reproduce, but I ANR reports in the console.\r\n\r\nDoes anyone that understands the exception below in combination with the code and knows how to handle it?\r\n\r\n    private static boolean urlExists(String urlString) {\r\n        HttpURLConnection huc;\r\n        try {\r\n            URL url = new URL(urlString);\r\n            huc = (HttpURLConnection) url.openConnection();\r\n            huc.setRequestMethod(&quot;HEAD&quot;);\r\n            int responseCode = huc.getResponseCode(); &lt;-------------- line 246. Here is the problem.\r\n            return responseCode != 404;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return false;\r\n    }\r\n\r\nANR Report looks like this:\r\n\r\n    Thread\r\n    \r\n    &quot;main&quot; tid=1 Native\r\n    \r\n      #00  pc 0x000000000009b114  /apex/com.android.runtime/lib/bionic/libc.so (recvfrom+16)\r\n      #01  pc 0x000000000001aceb  /apex/com.android.art/lib/libopenjdk.so (NET_Read+36)\r\n      #02  pc 0x000000000001b3d5  /apex/com.android.art/lib/libopenjdk.so (SocketInputStream_socketRead0+176)\r\n      at java.net.SocketInputStream.socketRead0 (Native method)\r\n      at java.net.SocketInputStream.socketRead (SocketInputStream.java:118)\r\n      at java.net.SocketInputStream.read (SocketInputStream.java:173)\r\n      at java.net.SocketInputStream.read (SocketInputStream.java:143)\r\n      at com.android.okhttp.okio.Okio$2.read (Okio.java:138)\r\n      at com.android.okhttp.okio.AsyncTimeout$2.read (AsyncTimeout.java:213)\r\n      at com.android.okhttp.okio.RealBufferedSource.indexOf (RealBufferedSource.java:307)\r\n      at com.android.okhttp.okio.RealBufferedSource.indexOf (RealBufferedSource.java:301)\r\n      at com.android.okhttp.okio.RealBufferedSource.readUtf8LineStrict (RealBufferedSource.java:197)\r\n      at com.android.okhttp.internal.http.Http1xStream.readResponse (Http1xStream.java:188)\r\n      at com.android.okhttp.internal.http.Http1xStream.readResponseHeaders (Http1xStream.java:129)\r\n      at com.android.okhttp.internal.http.HttpEngine.readNetworkResponse (HttpEngine.java:750)\r\n      at com.android.okhttp.internal.http.HttpEngine.readResponse (HttpEngine.java:622)\r\n      at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute (HttpURLConnectionImpl.java:475)\r\n      at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponse (HttpURLConnectionImpl.java:411)\r\n      at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponseCode (HttpURLConnectionImpl.java:542)\r\n      at mycompany.mypackage.images.ImageFetcher.urlExists (ImageFetcher.java:246)\r\n\r\n","title":"Input dispatching timed out with HttpURLConnection.getResponseCode()","body":"<p>I get lot of ANR reports (google play console) for which I have no clue how to solve it. I wrapped the problematic code with try and catch, but still it hangs at a specific codeline. I myself can't reproduce, but I ANR reports in the console.</p>\n<p>Does anyone that understands the exception below in combination with the code and knows how to handle it?</p>\n<pre><code>private static boolean urlExists(String urlString) {\n    HttpURLConnection huc;\n    try {\n        URL url = new URL(urlString);\n        huc = (HttpURLConnection) url.openConnection();\n        huc.setRequestMethod(&quot;HEAD&quot;);\n        int responseCode = huc.getResponseCode(); &lt;-------------- line 246. Here is the problem.\n        return responseCode != 404;\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return false;\n}\n</code></pre>\n<p>ANR Report looks like this:</p>\n<pre><code>Thread\n\n&quot;main&quot; tid=1 Native\n\n  #00  pc 0x000000000009b114  /apex/com.android.runtime/lib/bionic/libc.so (recvfrom+16)\n  #01  pc 0x000000000001aceb  /apex/com.android.art/lib/libopenjdk.so (NET_Read+36)\n  #02  pc 0x000000000001b3d5  /apex/com.android.art/lib/libopenjdk.so (SocketInputStream_socketRead0+176)\n  at java.net.SocketInputStream.socketRead0 (Native method)\n  at java.net.SocketInputStream.socketRead (SocketInputStream.java:118)\n  at java.net.SocketInputStream.read (SocketInputStream.java:173)\n  at java.net.SocketInputStream.read (SocketInputStream.java:143)\n  at com.android.okhttp.okio.Okio$2.read (Okio.java:138)\n  at com.android.okhttp.okio.AsyncTimeout$2.read (AsyncTimeout.java:213)\n  at com.android.okhttp.okio.RealBufferedSource.indexOf (RealBufferedSource.java:307)\n  at com.android.okhttp.okio.RealBufferedSource.indexOf (RealBufferedSource.java:301)\n  at com.android.okhttp.okio.RealBufferedSource.readUtf8LineStrict (RealBufferedSource.java:197)\n  at com.android.okhttp.internal.http.Http1xStream.readResponse (Http1xStream.java:188)\n  at com.android.okhttp.internal.http.Http1xStream.readResponseHeaders (Http1xStream.java:129)\n  at com.android.okhttp.internal.http.HttpEngine.readNetworkResponse (HttpEngine.java:750)\n  at com.android.okhttp.internal.http.HttpEngine.readResponse (HttpEngine.java:622)\n  at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute (HttpURLConnectionImpl.java:475)\n  at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponse (HttpURLConnectionImpl.java:411)\n  at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponseCode (HttpURLConnectionImpl.java:542)\n  at mycompany.mypackage.images.ImageFetcher.urlExists (ImageFetcher.java:246)\n</code></pre>\n"},{"tags":["java","ssl","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1644156442,"post_id":71005670,"comment_id":125525674,"body_markdown":"You need to generate a client SSL cert. Then provide  SSL properties to the command. Also, Windows doesn&#39;t have a /tmp (see Zookeeper data directory)","body":"You need to generate a client SSL cert. Then provide  SSL properties to the command. Also, Windows doesn&#39;t have a /tmp (see Zookeeper data directory)"},{"owner":{"account_id":4397027,"reputation":21,"user_id":3583707,"display_name":"Akhil"},"score":0,"creation_date":1644212879,"post_id":71005670,"comment_id":125535837,"body_markdown":"I have already created SSL cert that and dataDir path is D:/tmp.\nI have followed steps which is mentioned in https://www.youtube.com/watch?v=hR_OuiqLgOo&amp;lc=Ugw1LHpgqDH17FBsmT94AaABAg.9XzVIF-q8PZ9XzjqESRRfX","body":"I have already created SSL cert that and dataDir path is D:/tmp. I have followed steps which is mentioned in <a href=\"https://www.youtube.com/watch?v=hR_OuiqLgOo&amp;lc=Ugw1LHpgqDH17FBsmT94AaABAg.9XzVIF-q8PZ9XzjqESRRfX\" rel=\"nofollow noreferrer\">youtube.com/&hellip;</a>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1644213075,"post_id":71005670,"comment_id":125535893,"body_markdown":"`kafka-topics` takes several more properties for SSL configs, though, is my point. Plus `--zookeeper` flag is deprecated","body":"<code>kafka-topics</code> takes several more properties for SSL configs, though, is my point. Plus <code>--zookeeper</code> flag is deprecated"}],"answers":[{"comments":[{"owner":{"account_id":4397027,"reputation":21,"user_id":3583707,"display_name":"Akhil"},"score":0,"creation_date":1644151185,"post_id":71006322,"comment_id":125524449,"body_markdown":"zookeeper.set.acl=false is not working same error.","body":"zookeeper.set.acl=false is not working same error."}],"tags":[],"owner":{"account_id":9298667,"reputation":152,"user_id":6904872,"display_name":"Naresh Sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644143940,"creation_date":1644143940,"answer_id":71006322,"question_id":71005670,"body_markdown":"Try Setting  `zookeeper.set.acl=false` or configure acl","title":"Kafka SSL : Create Topic Error while executing topic command : KeeperErrorCode = NoAuth for /config/topics/ssl-topic","body":"<p>Try Setting  <code>zookeeper.set.acl=false</code> or configure acl</p>\n"}],"owner":{"account_id":4397027,"reputation":21,"user_id":3583707,"display_name":"Akhil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673735136,"answer_count":1,"score":0,"last_activity_date":1673725092,"creation_date":1644138601,"question_id":71005670,"body_markdown":"I have set up SSL for zookeeper and Kafka clients. Zookeeper server and Kafka broker is started successfully. While I have created kafka topic then it gives the error.\r\n\r\n**kafka-topics.bat -zookeeper localhost:2181 --create --topic ssl-topic  --partitions 1 --replication-factor 1**\r\n\r\nError : \r\n\r\n&gt; Error while executing topic command : KeeperErrorCode = NoAuth for\r\n&gt; /config/topics/ssl-topic [2022-02-06 14:08:24,637] ERROR\r\n&gt; org.apache.zookeeper.KeeperException$NoAuthException: KeeperErrorCode\r\n&gt; = NoAuth for /config/topics/ssl-topic\r\n&gt;         at org.apache.zookeeper.KeeperException.create(KeeperException.java:120)\r\n&gt;         at org.apache.zookeeper.KeeperException.create(KeeperException.java:54)\r\n&gt;         at kafka.zookeeper.AsyncResponse.maybeThrow(ZooKeeperClient.scala:564)\r\n&gt;         at kafka.zk.KafkaZkClient.createRecursive(KafkaZkClient.scala:1644)\r\n&gt;         at kafka.zk.KafkaZkClient.createOrSet$1(KafkaZkClient.scala:364)\r\n&gt;         at kafka.zk.KafkaZkClient.setOrCreateEntityConfigs(KafkaZkClient.scala:374)\r\n&gt;         at kafka.zk.AdminZkClient.createTopicWithAssignment(AdminZkClient.scala:93)\r\n&gt;         at kafka.zk.AdminZkClient.createTopic(AdminZkClient.scala:57)\r\n&gt;         at kafka.admin.TopicCommand$ZookeeperTopicService.createTopic(TopicCommand.scala:353)\r\n&gt;         at kafka.admin.TopicCommand$TopicService.createTopic(TopicCommand.scala:196)\r\n&gt;         at kafka.admin.TopicCommand$TopicService.createTopic$(TopicCommand.scala:191)\r\n&gt;         at kafka.admin.TopicCommand$ZookeeperTopicService.createTopic(TopicCommand.scala:345)\r\n&gt;         at kafka.admin.TopicCommand$.main(TopicCommand.scala:62)\r\n&gt;         at kafka.admin.TopicCommand.main(TopicCommand.scala)  (kafka.admin.TopicCommand$)\r\n\r\n\r\n**Zookeeper.properties** are like\r\n\r\n    dataDir=D:/tmp/zookeeper\r\n    \r\n    admin.enableServer=true admin.serverPort=8080\r\n    \r\n    ssl.client.enable=true secureClientPort=2182 authProvider.x509=org.apache.zookeeper.server.auth.X509AuthenticationProvider serverCnxnFactory=org.apache.zookeeper.server.NettyServerCnxnFactory ssl.trustStore.location=C:/kafka_2.12-2.5.0/ssl/kafka.zookeeper.truststore.jks ssl.trustStore.password=pass ssl.keyStore.location=C:/kafka_2.12-2.5.0/ssl/kafka.zookeeper.keystore.jks ssl.keyStore.password=pass ssl.clientAuth=need\r\n\r\n**Server.properties** are like\r\n\r\n\r\n    zookeeper.connect=localhost:2182 \r\n    zookeeper.clientCnxnSocket=org.apache.zookeeper.ClientCnxnSocketNetty\r\n    zookeeper.ssl.client.enable=true\r\n    zookeeper.ssl.protocol=TLSv1.2\r\n    zookeeper.ssl.truststore.location=C:/kafka_2.12-2.5.0/ssl/kafka.broker.truststore.jks\r\n    zookeeper.ssl.truststore.password=Becker77\r\n    zookeeper.ssl.keystore.location=C:/kafka_2.12-2.5.0/ssl/kafka.broker.keystore.jks\r\n    zookeeper.ssl.keystore.password=Becker77\r\n    zookeeper.set.acl=true\r\n    \r\n    \r\n    ssl.truststore.location=C:/kafka_2.12-2.5.0/ssl/kafka.broker.truststore.jks\r\n    ssl.truststore.password=Becker77\r\n    ssl.keystore.location=C:/kafka_2.12-2.5.0/ssl/kafka.broker.keystore.jks\r\n    ssl.keystore.password=Becker77\r\n    ssl.key.password=Becker77\r\n    security.inter.broker.protocol=SSL\r\n    ssl.client.auth=required\r\n    ssl.protocol=TLSv1.2","title":"Kafka SSL : Create Topic Error while executing topic command : KeeperErrorCode = NoAuth for /config/topics/ssl-topic","body":"<p>I have set up SSL for zookeeper and Kafka clients. Zookeeper server and Kafka broker is started successfully. While I have created kafka topic then it gives the error.</p>\n<p><strong>kafka-topics.bat -zookeeper localhost:2181 --create --topic ssl-topic  --partitions 1 --replication-factor 1</strong></p>\n<p>Error :</p>\n<blockquote>\n<p>Error while executing topic command : KeeperErrorCode = NoAuth for\n/config/topics/ssl-topic [2022-02-06 14:08:24,637] ERROR\norg.apache.zookeeper.KeeperException$NoAuthException: KeeperErrorCode\n= NoAuth for /config/topics/ssl-topic\nat org.apache.zookeeper.KeeperException.create(KeeperException.java:120)\nat org.apache.zookeeper.KeeperException.create(KeeperException.java:54)\nat kafka.zookeeper.AsyncResponse.maybeThrow(ZooKeeperClient.scala:564)\nat kafka.zk.KafkaZkClient.createRecursive(KafkaZkClient.scala:1644)\nat kafka.zk.KafkaZkClient.createOrSet$1(KafkaZkClient.scala:364)\nat kafka.zk.KafkaZkClient.setOrCreateEntityConfigs(KafkaZkClient.scala:374)\nat kafka.zk.AdminZkClient.createTopicWithAssignment(AdminZkClient.scala:93)\nat kafka.zk.AdminZkClient.createTopic(AdminZkClient.scala:57)\nat kafka.admin.TopicCommand$ZookeeperTopicService.createTopic(TopicCommand.scala:353)\nat kafka.admin.TopicCommand$TopicService.createTopic(TopicCommand.scala:196)\nat kafka.admin.TopicCommand$TopicService.createTopic$(TopicCommand.scala:191)\nat kafka.admin.TopicCommand$ZookeeperTopicService.createTopic(TopicCommand.scala:345)\nat kafka.admin.TopicCommand$.main(TopicCommand.scala:62)\nat kafka.admin.TopicCommand.main(TopicCommand.scala)  (kafka.admin.TopicCommand$)</p>\n</blockquote>\n<p><strong>Zookeeper.properties</strong> are like</p>\n<pre><code>dataDir=D:/tmp/zookeeper\n\nadmin.enableServer=true admin.serverPort=8080\n\nssl.client.enable=true secureClientPort=2182 authProvider.x509=org.apache.zookeeper.server.auth.X509AuthenticationProvider serverCnxnFactory=org.apache.zookeeper.server.NettyServerCnxnFactory ssl.trustStore.location=C:/kafka_2.12-2.5.0/ssl/kafka.zookeeper.truststore.jks ssl.trustStore.password=pass ssl.keyStore.location=C:/kafka_2.12-2.5.0/ssl/kafka.zookeeper.keystore.jks ssl.keyStore.password=pass ssl.clientAuth=need\n</code></pre>\n<p><strong>Server.properties</strong> are like</p>\n<pre><code>zookeeper.connect=localhost:2182 \nzookeeper.clientCnxnSocket=org.apache.zookeeper.ClientCnxnSocketNetty\nzookeeper.ssl.client.enable=true\nzookeeper.ssl.protocol=TLSv1.2\nzookeeper.ssl.truststore.location=C:/kafka_2.12-2.5.0/ssl/kafka.broker.truststore.jks\nzookeeper.ssl.truststore.password=Becker77\nzookeeper.ssl.keystore.location=C:/kafka_2.12-2.5.0/ssl/kafka.broker.keystore.jks\nzookeeper.ssl.keystore.password=Becker77\nzookeeper.set.acl=true\n\n\nssl.truststore.location=C:/kafka_2.12-2.5.0/ssl/kafka.broker.truststore.jks\nssl.truststore.password=Becker77\nssl.keystore.location=C:/kafka_2.12-2.5.0/ssl/kafka.broker.keystore.jks\nssl.keystore.password=Becker77\nssl.key.password=Becker77\nsecurity.inter.broker.protocol=SSL\nssl.client.auth=required\nssl.protocol=TLSv1.2\n</code></pre>\n"},{"tags":["java","redis","race-condition"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":1,"creation_date":1673724510,"post_id":75120661,"comment_id":132563794,"body_markdown":"what exactly is the race condition?","body":"what exactly is the race condition?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673777236,"post_id":75120661,"comment_id":132569881,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":19074528,"reputation":1,"user_id":13928068,"display_name":"doukan elbasan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673724263,"creation_date":1673724263,"question_id":75120661,"body_markdown":"Hi i have a race condition in given method i have 2 instances in kubernates and checking in redis\r\n\r\n    public void method(GuestDTO guestDTO) {\r\n        String executeName = &quot;addingGuestToCache&quot; + guestDTO.getUser();\r\n        if (!redisService.checkExecute(executeName)) {\r\n            redisService.startExecute(executeName);\r\n            OpenGuestDTO openGuestDTO = new OpenGuestDTO();\r\n\r\n            RMap&lt;String, List&lt;OpenGuestDTO&gt;&gt; openGuestDTOList = redisService.getOpenGuestDTOList();\r\n            List&lt;OpenGuestDTO&gt; userGuestList = openGuestDTOList.get(guestDTO.getUser());\r\n            if (userGuestList == null) {\r\n                userGuestList = Collections.synchronizedList(new ArrayList&lt;OpenGuestDTO&gt;());\r\n            }\r\n            for (OpenGuestDTO guestDTO1 : userGuestList) {\r\n                if (guestDTO1.getGuestName().equalsIgnoreCase(guestDTO.getGuestName())) {\r\n                    redisService.deleteExecute(executeName);\r\n                    return;\r\n                }\r\n            }\r\n            openGuestDTOList.add(openGuestDTO);\r\n            openGuestDTOList.fastPut(guestDTO.getUser(), userGuestList);\r\n            redisService.deleteExecute(executeName);\r\n        }else{\r\n            method(guestDTO);\r\n        }\r\n    }","title":"Race condition in multiple instance in kubernates","body":"<p>Hi i have a race condition in given method i have 2 instances in kubernates and checking in redis</p>\n<pre><code>public void method(GuestDTO guestDTO) {\n    String executeName = &quot;addingGuestToCache&quot; + guestDTO.getUser();\n    if (!redisService.checkExecute(executeName)) {\n        redisService.startExecute(executeName);\n        OpenGuestDTO openGuestDTO = new OpenGuestDTO();\n\n        RMap&lt;String, List&lt;OpenGuestDTO&gt;&gt; openGuestDTOList = redisService.getOpenGuestDTOList();\n        List&lt;OpenGuestDTO&gt; userGuestList = openGuestDTOList.get(guestDTO.getUser());\n        if (userGuestList == null) {\n            userGuestList = Collections.synchronizedList(new ArrayList&lt;OpenGuestDTO&gt;());\n        }\n        for (OpenGuestDTO guestDTO1 : userGuestList) {\n            if (guestDTO1.getGuestName().equalsIgnoreCase(guestDTO.getGuestName())) {\n                redisService.deleteExecute(executeName);\n                return;\n            }\n        }\n        openGuestDTOList.add(openGuestDTO);\n        openGuestDTOList.fastPut(guestDTO.getUser(), userGuestList);\n        redisService.deleteExecute(executeName);\n    }else{\n        method(guestDTO);\n    }\n}\n</code></pre>\n"},{"tags":["java","flutter","android-studio"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1673680605,"post_id":75116371,"comment_id":132556537,"body_markdown":"One thing I&#39;m sure of, Android does not support Java 19. Last time I checked, Java 8.","body":"One thing I&#39;m sure of, Android does not support Java 19. Last time I checked, Java 8."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673694456,"post_id":75116371,"comment_id":132558219,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":6208122,"reputation":563,"user_id":4835356,"display_name":"Jim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673723540,"creation_date":1673723540,"answer_id":75120602,"question_id":75116371,"body_markdown":"I cannot say this is the best correct answer, but if you noticed, the `Android Studio\\jre\\bin` directory is empty. The bundled java is located in `Android Studio\\jbr\\bin` instead.\r\n\r\nMy **_quick-n-dirty_** fix was that I just copied the files in `\\jbr\\*` to `\\jre\\` and now `flutter doctor` doesn&#39;t complain.\r\n\r\n","title":"Unable to find bundled version Windows (Andriod Studio 2022.1)","body":"<p>I cannot say this is the best correct answer, but if you noticed, the <code>Android Studio\\jre\\bin</code> directory is empty. The bundled java is located in <code>Android Studio\\jbr\\bin</code> instead.</p>\n<p>My <strong><em>quick-n-dirty</em></strong> fix was that I just copied the files in <code>\\jbr\\*</code> to <code>\\jre\\</code> and now <code>flutter doctor</code> doesn't complain.</p>\n"}],"owner":{"account_id":27522892,"reputation":21,"user_id":21002732,"display_name":"vpham7"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":1,"score":-1,"last_activity_date":1673723540,"creation_date":1673680314,"question_id":75116371,"body_markdown":"I tried all day to figure this out but still can&#39;t seem to find bundled Java. What am I missing here?\r\n\r\nSo I&#39;ve tried to uninstall and reinstall Android Studio 2022.1 multiple times. Deleted all the Javas and re-downloaded as well.\r\n\r\n[Picture of Flutter Doctor](https://i.stack.imgur.com/Yva3N.png)\r\n\r\n[Current Java Version](https://i.stack.imgur.com/NgZwm.png)\r\n\r\n[Current User variables for Path](https://i.stack.imgur.com/2AtWU.png)\r\n\r\n[Environment Varibles](https://i.stack.imgur.com/LS3VF.png)\r\n\r\n[Path for System variables](https://i.stack.imgur.com/bSan1.png)\r\n\r\nI&#39;ve deleted, re-downloaded all Java &amp; Android Studios. Still missing bundled Java.","title":"Unable to find bundled version Windows (Andriod Studio 2022.1)","body":"<p>I tried all day to figure this out but still can't seem to find bundled Java. What am I missing here?</p>\n<p>So I've tried to uninstall and reinstall Android Studio 2022.1 multiple times. Deleted all the Javas and re-downloaded as well.</p>\n<p><a href=\"https://i.stack.imgur.com/Yva3N.png\" rel=\"nofollow noreferrer\">Picture of Flutter Doctor</a></p>\n<p><a href=\"https://i.stack.imgur.com/NgZwm.png\" rel=\"nofollow noreferrer\">Current Java Version</a></p>\n<p><a href=\"https://i.stack.imgur.com/2AtWU.png\" rel=\"nofollow noreferrer\">Current User variables for Path</a></p>\n<p><a href=\"https://i.stack.imgur.com/LS3VF.png\" rel=\"nofollow noreferrer\">Environment Varibles</a></p>\n<p><a href=\"https://i.stack.imgur.com/bSan1.png\" rel=\"nofollow noreferrer\">Path for System variables</a></p>\n<p>I've deleted, re-downloaded all Java &amp; Android Studios. Still missing bundled Java.</p>\n"},{"tags":["java","android","broadcastreceiver"],"comments":[{"owner":{"account_id":1287094,"reputation":7973,"user_id":1239966,"display_name":"Shivam Verma"},"score":0,"creation_date":1556146243,"post_id":55839510,"comment_id":98342881,"body_markdown":"Have you requested for permissions ?","body":"Have you requested for permissions ?"},{"owner":{"account_id":6565993,"reputation":55,"user_id":7218350,"display_name":"Alec Benson"},"score":0,"creation_date":1556146764,"post_id":55839510,"comment_id":98343014,"body_markdown":"Yes, I ask for the RECEIVE_SMS permission","body":"Yes, I ask for the RECEIVE_SMS permission"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1556147222,"post_id":55839510,"comment_id":98343105,"body_markdown":"Did you request it at runtime, in addition to the manifest entry? Are you testing on an emulator, or an actual device? Btw, if you&#39;re statically registering that in the manifest, you don&#39;t necessarily need to dynamically register an instance in your code.","body":"Did you request it at runtime, in addition to the manifest entry? Are you testing on an emulator, or an actual device? Btw, if you&#39;re statically registering that in the manifest, you don&#39;t necessarily need to dynamically register an instance in your code."},{"owner":{"account_id":6565993,"reputation":55,"user_id":7218350,"display_name":"Alec Benson"},"score":0,"creation_date":1556147285,"post_id":55839510,"comment_id":98343116,"body_markdown":"I use ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.RECEIVE_SMS},1);\nto request the permission, and I am testing on a one plus physical device","body":"I use ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.RECEIVE_SMS},1); to request the permission, and I am testing on a one plus physical device"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1556147675,"post_id":55839510,"comment_id":98343185,"body_markdown":"I&#39;m not personally familiar with OnePlus, but I wouldn&#39;t be surprised if it has extra restrictions on third-party apps receiving SMS, or running in the background, etc. Look in the device Settings for any additional security-related type things that might be preventing that broadcast to your app. It might also be in a separate, standalone app.","body":"I&#39;m not personally familiar with OnePlus, but I wouldn&#39;t be surprised if it has extra restrictions on third-party apps receiving SMS, or running in the background, etc. Look in the device Settings for any additional security-related type things that might be preventing that broadcast to your app. It might also be in a separate, standalone app."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1556147989,"post_id":55839510,"comment_id":98343246,"body_markdown":"Relevant links: https://stackoverflow.com/a/52016035. https://stackoverflow.com/a/46225122, https://stackoverflow.com/a/53538918.","body":"Relevant links: <a href=\"https://stackoverflow.com/a/52016035\">stackoverflow.com/a/52016035</a>. <a href=\"https://stackoverflow.com/a/46225122\">stackoverflow.com/a/46225122</a>, <a href=\"https://stackoverflow.com/a/53538918\">stackoverflow.com/a/53538918</a>."}],"answers":[{"tags":[],"owner":{"account_id":7282710,"reputation":27,"user_id":5551882,"display_name":"D. Rathore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556190631,"creation_date":1556190631,"answer_id":55847921,"question_id":55839510,"body_markdown":"This is Your Receiver Class-\r\n\r\nprivate static final String SMS_RECEIVED = &quot;android.provider.Telephony.SMS_RECEIVED&quot;;\r\n    private static final String TAG = &quot;SMSBroadcastReceiver&quot;;\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        \r\n        if (intent.getAction() != null) {\r\n            if (intent.getAction().equals(SMS_RECEIVED)) {\r\n                Bundle bundle = intent.getExtras();\r\n                if (bundle != null) {\r\n                    Object[] pdus = (Object[]) bundle.get(&quot;pdus&quot;);\r\n                    final SmsMessage[] messages = new SmsMessage[pdus.length];\r\n                    for (int i = 0; i &lt; pdus.length; i++) {\r\n                        messages[i] = SmsMessage.createFromPdu((byte[]) pdus[i]);\r\n                        Log.e(&quot;Message Content : &quot;, &quot; == &quot; + messages[i].getMessageBody());\r\n                        Log.e(&quot;Message Content Body : &quot;, &quot; == &quot; + messages[i].getDisplayMessageBody());\r\n                        Log.e(&quot;Message recieved From&quot;, &quot; == &quot; + messages[0].getOriginatingAddress());\r\n                    }\r\n                /*if (messages.length &gt; -1) {\r\n                    Log.e(&quot;Message recieved: &quot;,&quot; == &quot;+ messages[0].getMessageBody());\r\n                    Log.e(&quot;Message recieved From&quot;,&quot; == &quot;+ messages[0].getOriginatingAddress());\r\n                }*/\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to use a broadcast receiver to receive SMS in Android Studio?","body":"<p>This is Your Receiver Class-</p>\n\n<p>private static final String SMS_RECEIVED = \"android.provider.Telephony.SMS_RECEIVED\";\n    private static final String TAG = \"SMSBroadcastReceiver\";</p>\n\n<pre><code>@Override\npublic void onReceive(Context context, Intent intent) {\n\n    if (intent.getAction() != null) {\n        if (intent.getAction().equals(SMS_RECEIVED)) {\n            Bundle bundle = intent.getExtras();\n            if (bundle != null) {\n                Object[] pdus = (Object[]) bundle.get(\"pdus\");\n                final SmsMessage[] messages = new SmsMessage[pdus.length];\n                for (int i = 0; i &lt; pdus.length; i++) {\n                    messages[i] = SmsMessage.createFromPdu((byte[]) pdus[i]);\n                    Log.e(\"Message Content : \", \" == \" + messages[i].getMessageBody());\n                    Log.e(\"Message Content Body : \", \" == \" + messages[i].getDisplayMessageBody());\n                    Log.e(\"Message recieved From\", \" == \" + messages[0].getOriginatingAddress());\n                }\n            /*if (messages.length &gt; -1) {\n                Log.e(\"Message recieved: \",\" == \"+ messages[0].getMessageBody());\n                Log.e(\"Message recieved From\",\" == \"+ messages[0].getOriginatingAddress());\n            }*/\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20263664,"reputation":53,"user_id":14861438,"display_name":"hamid"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673722323,"creation_date":1673721028,"answer_id":75120361,"question_id":55839510,"body_markdown":"**In your fragment**\r\n\r\n    val smsReciever = SmsReciever()\r\n    val smsIntentFilter = IntentFilter(Telephony.Sms.Intents.SMS_RECEIVED_ACTION)\r\n    context?.registerReceiver(smsReciever, smsIntentFilter)      \r\n\r\n\r\n**In your manifest**\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_SMS&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_SMS&quot;/&gt;\r\n\r\n\r\n\r\n\r\n**In your receiver**\r\n\r\n\r\n\r\n    class SmsReciever : BroadcastReceiver() {\r\n\r\n       override fun onReceive(context: Context, intent: Intent) {\r\n\r\n            val message = Telephony.Sms.Intents.getMessagesFromIntent(intent)\r\n            val content =  message[0].displayMessageBody\r\n\r\n            Toast.makeText(context, content,\r\n               Toast.LENGTH_SHORT).show()\r\n        }\r\n    }","title":"How to use a broadcast receiver to receive SMS in Android Studio?","body":"<p><strong>In your fragment</strong></p>\n<pre><code>val smsReciever = SmsReciever()\nval smsIntentFilter = IntentFilter(Telephony.Sms.Intents.SMS_RECEIVED_ACTION)\ncontext?.registerReceiver(smsReciever, smsIntentFilter)      \n</code></pre>\n<p><strong>In your manifest</strong></p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.RECEIVE_SMS&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_SMS&quot;/&gt;\n</code></pre>\n<p><strong>In your receiver</strong></p>\n<pre><code>class SmsReciever : BroadcastReceiver() {\n\n   override fun onReceive(context: Context, intent: Intent) {\n\n        val message = Telephony.Sms.Intents.getMessagesFromIntent(intent)\n        val content =  message[0].displayMessageBody\n\n        Toast.makeText(context, content,\n           Toast.LENGTH_SHORT).show()\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6565993,"reputation":55,"user_id":7218350,"display_name":"Alec Benson"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3542,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1673722323,"creation_date":1556145651,"question_id":55839510,"body_markdown":"I&#39;m building an application that should trigger a function when an SMS is received. I&#39;ve used Broadcast Receivers and NotificationListeners before, but for this specific purpose, I need to register this Broadcast receiver. At this time, I&#39;m unable to register it, and I can&#39;t quite tell why. \r\n\r\nI&#39;ve tried multiple answers to similar issues on stack overflow but for some reason, the `Log.d` that I&#39;m using to troubleshoot right now will not print when I receive an SMS. I think I&#39;m fundamentally misunderstanding the problem, although I&#39;m not sure how. \r\n\r\nHere is my `SmsListener.java` class:\r\n\r\n    public class SmsListener extends BroadcastReceiver {\r\n        private SharedPreferences preferences;\r\n    \r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if(intent.getAction().equals(&quot;android.provider.Telephony.SMS_RECEIVED&quot;)){\r\n                Log.d(&quot;Test&quot;,&quot;test&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nHere is my Manifest:\r\n\r\n    &lt;receiver android:name=&quot;.SmsListener&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.provider.Telephony.SMS_RECEIVED&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/receiver&gt;\r\n\r\nHere is the `onCreate()` function of my activity that should be calling it:\r\n\r\n    BroadcastReceiver br = new SmsListener();\r\n    IntentFilter filter = new IntentFilter(Telephony.Sms.Intents.SMS_RECEIVED_ACTION);\r\n    registerReceiver(br,filter);\r\n\r\nThank you any help. I&#39;m at a total loss.","title":"How to use a broadcast receiver to receive SMS in Android Studio?","body":"<p>I'm building an application that should trigger a function when an SMS is received. I've used Broadcast Receivers and NotificationListeners before, but for this specific purpose, I need to register this Broadcast receiver. At this time, I'm unable to register it, and I can't quite tell why. </p>\n\n<p>I've tried multiple answers to similar issues on stack overflow but for some reason, the <code>Log.d</code> that I'm using to troubleshoot right now will not print when I receive an SMS. I think I'm fundamentally misunderstanding the problem, although I'm not sure how. </p>\n\n<p>Here is my <code>SmsListener.java</code> class:</p>\n\n<pre><code>public class SmsListener extends BroadcastReceiver {\n    private SharedPreferences preferences;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if(intent.getAction().equals(\"android.provider.Telephony.SMS_RECEIVED\")){\n            Log.d(\"Test\",\"test\");\n        }\n    }\n}\n</code></pre>\n\n<p>Here is my Manifest:</p>\n\n<pre><code>&lt;receiver android:name=\".SmsListener\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.provider.Telephony.SMS_RECEIVED\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n\n<p>Here is the <code>onCreate()</code> function of my activity that should be calling it:</p>\n\n<pre><code>BroadcastReceiver br = new SmsListener();\nIntentFilter filter = new IntentFilter(Telephony.Sms.Intents.SMS_RECEIVED_ACTION);\nregisterReceiver(br,filter);\n</code></pre>\n\n<p>Thank you any help. I'm at a total loss.</p>\n"},{"tags":["java","arrays","loops"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673713894,"post_id":75119414,"comment_id":132561580,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":13668348,"reputation":307,"user_id":9861623,"display_name":"Miles Morales"},"score":1,"creation_date":1673716518,"post_id":75119414,"comment_id":132562161,"body_markdown":"When asking a question, please post the code in an understandable format. Your variable naming is not helpful at all. https://stackoverflow.com/help/minimal-reproducible-example","body":"When asking a question, please post the code in an understandable format. Your variable naming is not helpful at all. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"answers":[{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673721671,"creation_date":1673721671,"answer_id":75120422,"question_id":75119414,"body_markdown":"Your code\r\n```java\r\n} else {\r\n    nama[i] = lulus1[i];\r\n}\r\n```\r\ndoes not seem to match your specification:\r\n&gt; _else an element in nama will be copied to lulus_\r\n\r\nShouldn&#39;t it rather be\r\n```java\r\n} else {\r\n    lulus1[i] = nama[i];\r\n}\r\n```\r\n?\r\n\r\nYour code can lead to `nama` inputs being overwritten with `null`.","title":"array output showing up as null","body":"<p>Your code</p>\n<pre class=\"lang-java prettyprint-override\"><code>} else {\n    nama[i] = lulus1[i];\n}\n</code></pre>\n<p>does not seem to match your specification:</p>\n<blockquote>\n<p><em>else an element in nama will be copied to lulus</em></p>\n</blockquote>\n<p>Shouldn't it rather be</p>\n<pre class=\"lang-java prettyprint-override\"><code>} else {\n    lulus1[i] = nama[i];\n}\n</code></pre>\n<p>?</p>\n<p>Your code can lead to <code>nama</code> inputs being overwritten with <code>null</code>.</p>\n"}],"owner":{"account_id":27528944,"reputation":1,"user_id":21007805,"display_name":"GoliathBlast"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673721671,"creation_date":1673713332,"question_id":75119414,"body_markdown":"```\r\n/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage freewill_project;\r\n\r\nimport java.util.Arrays;\r\nimport javax.swing.JOptionPane;\r\n\r\n/**\r\n *\r\n * @author ///\r\n */\r\npublic class Testing {\r\n\r\n    public static void main(String[] args) {\r\n        int batas = Integer.parseInt(JOptionPane.showInputDialog(&quot;Batas Siswa&quot;));\r\n        String[] nama = new String[batas];\r\n        String mapel1, mapel2;\r\n        int nilai1[] = new int[batas];\r\n        int nilai2[] = new int[batas];\r\n        int total1 = 0, total2 = 0, Ttotal;\r\n        int kkm1, kkm2, k=0;\r\n\r\n        String[] tlulus1 = new String[nama.length];\r\n        String[] lulus1 = new String[nama.length];\r\n        String[] tlulus2 = new String[nama.length];\r\n        String[] lulus2 = new String[nama.length];\r\n        int jumlah = 0;\r\n        mapel1 = JOptionPane.showInputDialog(&quot;Masukan Mapel 1&quot;);\r\n        mapel2 = JOptionPane.showInputDialog(&quot;Masukan Mapel 2&quot;);\r\n        kkm1 = (Integer.parseInt(JOptionPane.showInputDialog(&quot;Input KKM 1&quot;)));\r\n        kkm2 = (Integer.parseInt(JOptionPane.showInputDialog(&quot;Input KKM 2&quot;)));\r\n\r\n        for (int i = 0; i &lt; nama.length; i++) {\r\n            nama[i] = (JOptionPane.showInputDialog(&quot;Nama Siswa&quot;));\r\n            nilai1[i] = Integer.parseInt(JOptionPane.showInputDialog(&quot;Input Nilai&quot;));\r\n            total1 += nilai1[i];\r\n            if (nilai1[i] &lt; kkm1) {\r\n                tlulus1[i] = nama[i];\r\n            } else {\r\n                nama[i] = lulus1[i];\r\n            }\r\n            nilai2[i] = Integer.parseInt(JOptionPane.showInputDialog(&quot;Input Nilai&quot;));\r\n            total2 += nilai2[i];\r\n            if (nilai2[i] &lt; kkm2) {\r\n                nama[i] = tlulus2[i];\r\n            } else {\r\n                nama[i] = lulus2[i];\r\n            }\r\n        }\r\n\r\n\r\n        Ttotal = total1 + total2;\r\n        int rata = Ttotal / 2;\r\n        int max1 = nilai1[0];\r\n        int min1 = nilai1[0];\r\n        int max2 = nilai2[0];\r\n        int min2 = nilai2[0];\r\n        for (int i = 0; i &lt; 2; i++) { //for untuk output max, min, jumlah, rata arrays\r\n            if (max1 &lt; nilai1[i]) {\r\n                max1 = nilai1[i];\r\n            } else if (min1 &gt; nilai1[i]) {\r\n                min1 = nilai1[i];\r\n            }\r\n            if (max2 &lt; nilai2[i]) {\r\n                max2 = nilai2[i];\r\n            } else if (min2 &gt; nilai2[i]) {\r\n                min2 = nilai2[i];\r\n            }\r\n        }\r\n        System.out.println(&quot;Nilai Rata: &quot; + rata + &quot;\\nNilai Tertinggi1: &quot; + max1 + &quot;\\nNilai Terendah1: &quot; + min2 + &quot;\\nNilai Tertinggi2: &quot; + max2 + &quot;\\nNilai Terendah2: &quot; + min2 + &quot;\\nSiswa Lulus1: &quot; + Arrays.toString(lulus1) + &quot;\\nSiswa Tidak Lulus1: &quot; + Arrays.toString(tlulus1) + &quot;\\nSiswa Lulus2: &quot; + Arrays.toString(lulus2) + &quot;\\nSiswa Tidak Lulus2: &quot; + Arrays.toString(tlulus2));\r\n    }\r\n}\r\n\r\n```\r\nif the nilai is less than the kkm, then an element of the array in nama will be copied to tlulus, else an element in nama will be copied to lulus, however the output shows both lulus and tlulus as null\r\n\r\nthe output of lulus and tlulus should contain elements of nama, it showed up as null instead, I tried several fixes but then I get Arrays.outofbounds exception, any solution?","title":"array output showing up as null","body":"<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage freewill_project;\n\nimport java.util.Arrays;\nimport javax.swing.JOptionPane;\n\n/**\n *\n * @author ///\n */\npublic class Testing {\n\n    public static void main(String[] args) {\n        int batas = Integer.parseInt(JOptionPane.showInputDialog(&quot;Batas Siswa&quot;));\n        String[] nama = new String[batas];\n        String mapel1, mapel2;\n        int nilai1[] = new int[batas];\n        int nilai2[] = new int[batas];\n        int total1 = 0, total2 = 0, Ttotal;\n        int kkm1, kkm2, k=0;\n\n        String[] tlulus1 = new String[nama.length];\n        String[] lulus1 = new String[nama.length];\n        String[] tlulus2 = new String[nama.length];\n        String[] lulus2 = new String[nama.length];\n        int jumlah = 0;\n        mapel1 = JOptionPane.showInputDialog(&quot;Masukan Mapel 1&quot;);\n        mapel2 = JOptionPane.showInputDialog(&quot;Masukan Mapel 2&quot;);\n        kkm1 = (Integer.parseInt(JOptionPane.showInputDialog(&quot;Input KKM 1&quot;)));\n        kkm2 = (Integer.parseInt(JOptionPane.showInputDialog(&quot;Input KKM 2&quot;)));\n\n        for (int i = 0; i &lt; nama.length; i++) {\n            nama[i] = (JOptionPane.showInputDialog(&quot;Nama Siswa&quot;));\n            nilai1[i] = Integer.parseInt(JOptionPane.showInputDialog(&quot;Input Nilai&quot;));\n            total1 += nilai1[i];\n            if (nilai1[i] &lt; kkm1) {\n                tlulus1[i] = nama[i];\n            } else {\n                nama[i] = lulus1[i];\n            }\n            nilai2[i] = Integer.parseInt(JOptionPane.showInputDialog(&quot;Input Nilai&quot;));\n            total2 += nilai2[i];\n            if (nilai2[i] &lt; kkm2) {\n                nama[i] = tlulus2[i];\n            } else {\n                nama[i] = lulus2[i];\n            }\n        }\n\n\n        Ttotal = total1 + total2;\n        int rata = Ttotal / 2;\n        int max1 = nilai1[0];\n        int min1 = nilai1[0];\n        int max2 = nilai2[0];\n        int min2 = nilai2[0];\n        for (int i = 0; i &lt; 2; i++) { //for untuk output max, min, jumlah, rata arrays\n            if (max1 &lt; nilai1[i]) {\n                max1 = nilai1[i];\n            } else if (min1 &gt; nilai1[i]) {\n                min1 = nilai1[i];\n            }\n            if (max2 &lt; nilai2[i]) {\n                max2 = nilai2[i];\n            } else if (min2 &gt; nilai2[i]) {\n                min2 = nilai2[i];\n            }\n        }\n        System.out.println(&quot;Nilai Rata: &quot; + rata + &quot;\\nNilai Tertinggi1: &quot; + max1 + &quot;\\nNilai Terendah1: &quot; + min2 + &quot;\\nNilai Tertinggi2: &quot; + max2 + &quot;\\nNilai Terendah2: &quot; + min2 + &quot;\\nSiswa Lulus1: &quot; + Arrays.toString(lulus1) + &quot;\\nSiswa Tidak Lulus1: &quot; + Arrays.toString(tlulus1) + &quot;\\nSiswa Lulus2: &quot; + Arrays.toString(lulus2) + &quot;\\nSiswa Tidak Lulus2: &quot; + Arrays.toString(tlulus2));\n    }\n}\n\n</code></pre>\n<p>if the nilai is less than the kkm, then an element of the array in nama will be copied to tlulus, else an element in nama will be copied to lulus, however the output shows both lulus and tlulus as null</p>\n<p>the output of lulus and tlulus should contain elements of nama, it showed up as null instead, I tried several fixes but then I get Arrays.outofbounds exception, any solution?</p>\n"},{"tags":["java","minecraft","minecraft-fabric"],"owner":{"account_id":27317972,"reputation":3,"user_id":20832188,"display_name":"Sus Amongus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673721198,"creation_date":1673721198,"question_id":75120377,"body_markdown":"I&#39;m  new to fabric modding, and I haven&#39;t been able to find any good tutorial or documentation, so I am asking here.\r\nI am making a mod where when you press F9 and other key, it will print somethink about the key.\r\nI have a map where there are keys mapped with the things to say, but that&#39;s not the important thing.\r\nHere is my code:\r\n```\r\n/* fields database, FOLDER, LOGGER, DATABASE_FILE, helpKeybind and keyDescriptions DO EXIST */\r\npublic void onInitialize() {\r\n        LOGGER.info(&quot;Initializing Keyboard Mapper mod...&quot;);\r\n        if (!FOLDER.exists()) {\r\n            FOLDER.getParentFile().mkdirs();\r\n            FOLDER.mkdir();\r\n        }\r\n\r\n        database = DBMaker.fileDB(DATABASE_FILE).closeOnJvmShutdown().make();\r\n        keyDescriptions = database.hashMap(&quot;keyDescriptions&quot;, Serializer.STRING, Serializer.STRING).createOrOpen();\r\n\r\n        helpKeybind = KeyBindingHelper.registerKeyBinding(new KeyBinding(\r\n            &quot;key.keyboard-mapper.help&quot;,\r\n                InputUtil.Type.KEYSYM,\r\n                GLFW.GLFW_KEY_F9,\r\n                &quot;key.category.keyboard-mapper.keyboard-mapper&quot;\r\n        ));\r\n\r\n        ClientTickEvents.END_CLIENT_TICK.register(_client -&gt; {\r\n            if (helpKeybind.wasPressed()) {\r\n                /* get what other keys were pressed together with it too? */\r\n            }\r\n        });\r\n    }\r\n```\r\nI need to get the other keys that were pressed together with the F9 key.\r\n\r\nI register all of the keys, because the keybind menu would be flooded. So is there any other way of getting all the keys that were pressed?\r\n\r\nThanks!","title":"How to get if key is pressed without registering it in fabric api?","body":"<p>I'm  new to fabric modding, and I haven't been able to find any good tutorial or documentation, so I am asking here.\nI am making a mod where when you press F9 and other key, it will print somethink about the key.\nI have a map where there are keys mapped with the things to say, but that's not the important thing.\nHere is my code:</p>\n<pre><code>/* fields database, FOLDER, LOGGER, DATABASE_FILE, helpKeybind and keyDescriptions DO EXIST */\npublic void onInitialize() {\n        LOGGER.info(&quot;Initializing Keyboard Mapper mod...&quot;);\n        if (!FOLDER.exists()) {\n            FOLDER.getParentFile().mkdirs();\n            FOLDER.mkdir();\n        }\n\n        database = DBMaker.fileDB(DATABASE_FILE).closeOnJvmShutdown().make();\n        keyDescriptions = database.hashMap(&quot;keyDescriptions&quot;, Serializer.STRING, Serializer.STRING).createOrOpen();\n\n        helpKeybind = KeyBindingHelper.registerKeyBinding(new KeyBinding(\n            &quot;key.keyboard-mapper.help&quot;,\n                InputUtil.Type.KEYSYM,\n                GLFW.GLFW_KEY_F9,\n                &quot;key.category.keyboard-mapper.keyboard-mapper&quot;\n        ));\n\n        ClientTickEvents.END_CLIENT_TICK.register(_client -&gt; {\n            if (helpKeybind.wasPressed()) {\n                /* get what other keys were pressed together with it too? */\n            }\n        });\n    }\n</code></pre>\n<p>I need to get the other keys that were pressed together with the F9 key.</p>\n<p>I register all of the keys, because the keybind menu would be flooded. So is there any other way of getting all the keys that were pressed?</p>\n<p>Thanks!</p>\n"},{"tags":["java","ssh","jsch"],"answers":[{"comments":[{"owner":{"account_id":3313577,"reputation":213,"user_id":2786419,"accept_rate":60,"display_name":"Charity"},"score":0,"creation_date":1455899382,"post_id":35508047,"comment_id":58711204,"body_markdown":"Hi thanks the solution worked.","body":"Hi thanks the solution worked."}],"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1456127034,"creation_date":1455893304,"answer_id":35508047,"question_id":35502600,"body_markdown":"You generally should not use &quot;shell&quot; channel to automate a command execution.\r\n\r\nThe &quot;shell&quot; channel is intended to implement an interactive shell session.\r\n\r\nHence it requests PTY (pseudo-terminal), which has human-friendly, but machine-unfriendly, side-effects that break your code.\r\n\r\nUse &quot;exec&quot; channel instead.\r\n\r\nSee https://stackoverflow.com/q/34825155/850848\r\n\r\n---\r\n\r\nIf you need or want to use the &quot;shell&quot; channel for some reason (but do not, it will bite you anyway), make sure you call `.setPty(false)` before `.connect`:\r\n\r\n    channel = (ChannelShell)getSession().openChannel(&quot;shell&quot;);\r\n    channel.setPty(false);\r\n    channel.connect();\r\n\r\n---\r\n\r\nSide notes:\r\n\r\n- The `&quot;#!/bin/bash&quot;` is a pure nonsense. The shell ignores all commands starting with `#` (it&#39;s comment). There&#39;s no point sending it. \r\n- Do not use `StrictHostKeyChecking=no`. See [JSch SFTP security with session.setConfig(StrictHostKeyChecking, no);](https://stackoverflow.com/q/30178936/850848).\r\n\r\n\r\n","title":"JSch issue - Cannot retrieve full command output","body":"<p>You generally should not use \"shell\" channel to automate a command execution.</p>\n\n<p>The \"shell\" channel is intended to implement an interactive shell session.</p>\n\n<p>Hence it requests PTY (pseudo-terminal), which has human-friendly, but machine-unfriendly, side-effects that break your code.</p>\n\n<p>Use \"exec\" channel instead.</p>\n\n<p>See <a href=\"https://stackoverflow.com/q/34825155/850848\">Execute a list of commands from an ArrayList using JSch exec in Java</a></p>\n\n<hr>\n\n<p>If you need or want to use the \"shell\" channel for some reason (but do not, it will bite you anyway), make sure you call <code>.setPty(false)</code> before <code>.connect</code>:</p>\n\n<pre><code>channel = (ChannelShell)getSession().openChannel(\"shell\");\nchannel.setPty(false);\nchannel.connect();\n</code></pre>\n\n<hr>\n\n<p>Side notes:</p>\n\n<ul>\n<li>The <code>\"#!/bin/bash\"</code> is a pure nonsense. The shell ignores all commands starting with <code>#</code> (it's comment). There's no point sending it. </li>\n<li>Do not use <code>StrictHostKeyChecking=no</code>. See <a href=\"https://stackoverflow.com/q/30178936/850848\">JSch SFTP security with session.setConfig(StrictHostKeyChecking, no);</a>.</li>\n</ul>\n"}],"owner":{"account_id":3313577,"reputation":213,"user_id":2786419,"accept_rate":60,"display_name":"Charity"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3323,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":35508047,"answer_count":1,"score":0,"last_activity_date":1673720837,"creation_date":1455876580,"question_id":35502600,"body_markdown":"I am using JSch to connect to SSH and execute commands. One of the commands gives out a big output. In terminal if you execute the command  you have to press enter to see the entire output. Using JSch I am not able to retrieve the entire output. \r\n\r\nWhen I login using an interactive terminal, the command output stops after filling a screen and waits for &lt;kbd&gt;Enter&lt;/kbd&gt;.\r\n\r\nThe code is taken from \r\nhttps://stackoverflow.com/questions/25789245/how-to-get-jsch-shell-command-output-in-string:\r\n\r\n    public class SshConnectionManager {\r\n        \r\n        private static Session session;\r\n        private static ChannelShell channel;\r\n        private static String username = &quot;&quot;;\r\n        private static String password = &quot;&quot;;\r\n        private static String hostname = &quot;&quot;;\r\n        \r\n        \r\n        private static Session getSession(){\r\n            if(session == null || !session.isConnected()){\r\n                session = connect(hostname,username,password);\r\n            }\r\n            return session;\r\n        }\r\n        \r\n        private static Channel getChannel(){\r\n            if(channel == null || !channel.isConnected()){\r\n                try{\r\n                    channel = (ChannelShell)getSession().openChannel(&quot;shell&quot;);\r\n                    channel.connect();\r\n        \r\n                }catch(Exception e){\r\n                    System.out.println(&quot;Error while opening channel: &quot;+ e);\r\n                }\r\n            }\r\n            return channel;\r\n        }\r\n        \r\n        private static Session connect(String hostname, String username, String password){\r\n        \r\n            JSch jSch = new JSch();\r\n        \r\n            try {\r\n        \r\n                session = jSch.getSession(username, hostname, 22);\r\n                Properties config = new Properties(); \r\n                config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n                session.setConfig(config);\r\n                session.setPassword(password);\r\n        \r\n                System.out.println(&quot;Connecting SSH to &quot; + hostname + &quot; - Please wait for few seconds... &quot;);\r\n                session.connect();\r\n                System.out.println(&quot;Connected!&quot;);\r\n            }catch(Exception e){\r\n                System.out.println(&quot;An error occurred while connecting to &quot;+hostname+&quot;: &quot;+e);\r\n            }\r\n        \r\n            return session;\r\n        \r\n        }\r\n        \r\n        private static void executeCommands(List&lt;String&gt; commands){\r\n        \r\n            try{\r\n                Channel channel=getChannel();\r\n        \r\n                System.out.println(&quot;Sending commands...&quot;);\r\n                sendCommands(channel, commands);\r\n        \r\n                readChannelOutput(channel);\r\n                System.out.println(&quot;Finished sending commands!&quot;);\r\n        \r\n            }catch(Exception e){\r\n                System.out.println(&quot;An error ocurred during executeCommands: &quot;+e);\r\n            }\r\n        }\r\n        \r\n        private static void sendCommands(Channel channel, List&lt;String&gt; commands){\r\n        \r\n            try{\r\n                PrintStream out = new PrintStream(channel.getOutputStream());\r\n        \r\n                out.println(&quot;#!/bin/bash&quot;);\r\n                for(String command : commands){\r\n                    out.println(command);\r\n                }\r\n                out.println(&quot;exit&quot;);\r\n        \r\n                out.flush();\r\n            }catch(Exception e){\r\n                System.out.println(&quot;Error while sending commands: &quot;+ e);\r\n            }\r\n        \r\n        }\r\n        \r\n        private static void readChannelOutput(Channel channel){\r\n        \r\n            byte[] buffer = new byte[1024];\r\n        \r\n            try{\r\n                InputStream in = channel.getInputStream();\r\n                String line = &quot;&quot;;\r\n                while (true){\r\n                    while (in.available() &gt; 0) {\r\n                        int i = in.read(buffer, 0, 1024);\r\n                        if (i &lt; 0) {\r\n                            break;\r\n                        }\r\n                        line = new String(buffer, 0, i);\r\n                        System.out.println(line);\r\n                    }\r\n        \r\n                    if(line.contains(&quot;logout&quot;)){\r\n                        break;\r\n                    }\r\n        \r\n                    if (channel.isClosed()){\r\n                        break;\r\n                    }\r\n                    try {\r\n                        Thread.sleep(1000);\r\n                    } catch (Exception ee){}\r\n                }\r\n            }catch(Exception e){\r\n                System.out.println(&quot;Error while reading channel output: &quot;+ e);\r\n            }\r\n        \r\n        }\r\n        \r\n        public static void close(){\r\n            channel.disconnect();\r\n            session.disconnect();\r\n            System.out.println(&quot;Disconnected channel and session&quot;);\r\n        }\r\n        \r\n        \r\n        public static void main(String[] args){\r\n            List&lt;String&gt; commands = new ArrayList&lt;String&gt;();\r\n            commands.add(&quot;ls -l&quot;);\r\n        \r\n            executeCommands(commands);\r\n            close();\r\n        }\r\n    }","title":"JSch issue - Cannot retrieve full command output","body":"<p>I am using JSch to connect to SSH and execute commands. One of the commands gives out a big output. In terminal if you execute the command  you have to press enter to see the entire output. Using JSch I am not able to retrieve the entire output. </p>\n\n<p>When I login using an interactive terminal, the command output stops after filling a screen and waits for <kbd>Enter</kbd>.</p>\n\n<p>The code is taken from \n<a href=\"https://stackoverflow.com/questions/25789245/how-to-get-jsch-shell-command-output-in-string\">How to get jsch shell command output in String</a>:</p>\n\n<pre><code>public class SshConnectionManager {\n\n    private static Session session;\n    private static ChannelShell channel;\n    private static String username = \"\";\n    private static String password = \"\";\n    private static String hostname = \"\";\n\n\n    private static Session getSession(){\n        if(session == null || !session.isConnected()){\n            session = connect(hostname,username,password);\n        }\n        return session;\n    }\n\n    private static Channel getChannel(){\n        if(channel == null || !channel.isConnected()){\n            try{\n                channel = (ChannelShell)getSession().openChannel(\"shell\");\n                channel.connect();\n\n            }catch(Exception e){\n                System.out.println(\"Error while opening channel: \"+ e);\n            }\n        }\n        return channel;\n    }\n\n    private static Session connect(String hostname, String username, String password){\n\n        JSch jSch = new JSch();\n\n        try {\n\n            session = jSch.getSession(username, hostname, 22);\n            Properties config = new Properties(); \n            config.put(\"StrictHostKeyChecking\", \"no\");\n            session.setConfig(config);\n            session.setPassword(password);\n\n            System.out.println(\"Connecting SSH to \" + hostname + \" - Please wait for few seconds... \");\n            session.connect();\n            System.out.println(\"Connected!\");\n        }catch(Exception e){\n            System.out.println(\"An error occurred while connecting to \"+hostname+\": \"+e);\n        }\n\n        return session;\n\n    }\n\n    private static void executeCommands(List&lt;String&gt; commands){\n\n        try{\n            Channel channel=getChannel();\n\n            System.out.println(\"Sending commands...\");\n            sendCommands(channel, commands);\n\n            readChannelOutput(channel);\n            System.out.println(\"Finished sending commands!\");\n\n        }catch(Exception e){\n            System.out.println(\"An error ocurred during executeCommands: \"+e);\n        }\n    }\n\n    private static void sendCommands(Channel channel, List&lt;String&gt; commands){\n\n        try{\n            PrintStream out = new PrintStream(channel.getOutputStream());\n\n            out.println(\"#!/bin/bash\");\n            for(String command : commands){\n                out.println(command);\n            }\n            out.println(\"exit\");\n\n            out.flush();\n        }catch(Exception e){\n            System.out.println(\"Error while sending commands: \"+ e);\n        }\n\n    }\n\n    private static void readChannelOutput(Channel channel){\n\n        byte[] buffer = new byte[1024];\n\n        try{\n            InputStream in = channel.getInputStream();\n            String line = \"\";\n            while (true){\n                while (in.available() &gt; 0) {\n                    int i = in.read(buffer, 0, 1024);\n                    if (i &lt; 0) {\n                        break;\n                    }\n                    line = new String(buffer, 0, i);\n                    System.out.println(line);\n                }\n\n                if(line.contains(\"logout\")){\n                    break;\n                }\n\n                if (channel.isClosed()){\n                    break;\n                }\n                try {\n                    Thread.sleep(1000);\n                } catch (Exception ee){}\n            }\n        }catch(Exception e){\n            System.out.println(\"Error while reading channel output: \"+ e);\n        }\n\n    }\n\n    public static void close(){\n        channel.disconnect();\n        session.disconnect();\n        System.out.println(\"Disconnected channel and session\");\n    }\n\n\n    public static void main(String[] args){\n        List&lt;String&gt; commands = new ArrayList&lt;String&gt;();\n        commands.add(\"ls -l\");\n\n        executeCommands(commands);\n        close();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","flutter","dart"],"answers":[{"tags":[],"owner":{"account_id":22515144,"reputation":295,"user_id":16709479,"display_name":"Alain C. Jim&#233;nez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673720659,"creation_date":1673720659,"answer_id":75120307,"question_id":73761267,"body_markdown":"Duplicate of: [I am making an .XAPK installer application in flutter. with open_file package I can open normal .apk installation dialogue but how can I install .XAPK][1]\r\n\r\nIf you&#39;re still trying to install an .xapk file, I&#39;m sharing a piece of code that helped me. I&#39;m using the packages:\r\n\r\n[archive][2] (for all the extraction as zip logic)\r\n\r\n[device_apps][3] (to open the Settings app in case you don&#39;t have the required permissions)\r\n\r\n[open_filex][4] (to open the apk file with the Android intent)\r\n\r\n[package_archive_info][5] (to get the information from the .apk package)\r\n\r\n[path_provider][6] (to get Directories and paths)\r\n\r\n[permission_handler][7] (to ask for permissions to install)\r\n\r\nand [file_picker][8] since I initiate the method with a picked file using that package.\r\n\r\n    abstract class XapkInstaller {\r\n    static install({required PlatformFile file}) async {\r\n    late List&lt;FileSystemEntity&gt; allFiles, apkFiles;\r\n    late PackageArchiveInfo appInfo;\r\n    late String appPackageName;\r\n\r\n    Directory tempDir = await getTemporaryDirectory();\r\n    String tempPath = tempDir.path;\r\n\r\n    String appName = file.path.toString().split(&quot;/&quot;).last.replaceAll(&quot;.apklis&quot;, &quot;&quot;);\r\n\r\n    String zipFilePath = &quot;${tempDir.path.replaceAll(&#39;/$appName.apklis&#39;, &#39;&#39;)}/$appName.zip&quot;;\r\n\r\n    // this function convert xapk in zip file and moves in appname_zip directory\r\n    _moveFile(File(file.path.toString()), zipFilePath);\r\n\r\n    final bytes = File(zipFilePath).readAsBytesSync();\r\n    final archive = ZipDecoder().decodeBytes(bytes);\r\n\r\n    // Extract the contents of the Zip archive to disk app cache.\r\n    for (final file in archive) {\r\n      final String filename = file.name;\r\n\r\n      if (file.isFile) {\r\n        final data = file.content as List&lt;int&gt;;\r\n        File(&quot;${tempDir.path}/$appName/$filename&quot;)\r\n          ..createSync(recursive: true)\r\n          ..writeAsBytesSync(data);\r\n      } else {\r\n        Directory(tempPath).create(recursive: true);\r\n      }\r\n    }\r\n    final Directory myDir = Directory(&quot;${tempDir.path}/$appName&quot;);\r\n\r\n    allFiles = myDir.listSync(recursive: true, followLinks: true);\r\n\r\n    apkFiles = allFiles.where((element) =&gt; element.path.endsWith(&#39;.apk&#39;)).toList();\r\n    for (int x = 0; x &lt; apkFiles.length; x++) {\r\n      final String filePath = apkFiles[x].path;\r\n      try {\r\n        appInfo = await PackageArchiveInfo.fromPath(filePath);\r\n        appPackageName = appInfo.packageName;\r\n      } catch (e) {\r\n        appInfo = PackageArchiveInfo(appName: &quot;&quot;, packageName: &quot;&quot;, version: &quot;&quot;, buildNumber: &quot;&quot;);\r\n      }\r\n      if (appInfo.appName.isNotEmpty) {\r\n        try {\r\n          // moving obb file to android/obb folder\r\n          _moveObbToAndroidDir(allFiles, appPackageName);\r\n\r\n          // showing popup to install app\r\n          if (await Permission.requestInstallPackages.request().isGranted) {\r\n            await OpenFilex.open(filePath);\r\n          } else {\r\n            DeviceApps.openAppSettings(appInfo.packageName);\r\n          }\r\n        } catch (e) {\r\n          //catch error in installing\r\n        }\r\n      }\r\n    }\r\n    // clearing cache file after installing xapk\r\n    Future.delayed(const Duration(seconds: 180), () {\r\n      tempDir.deleteSync(recursive: true);\r\n      tempDir.create();\r\n    });\r\n    }\r\n\r\n    static _moveObbToAndroidDir(List&lt;FileSystemEntity&gt; allFiles, String appPackageName) async {\r\n    for (int x = 0; x &lt; allFiles.length; x++) {\r\n      final fileExtension = allFiles[x].path.split(&quot;/&quot;).last.split(&quot;.&quot;).last;\r\n\r\n      if (fileExtension == &quot;obb&quot;) {\r\n        String filepath = allFiles[x].path;\r\n        String obbFileName = filepath.split(&quot;/&quot;).last.split(&quot;.&quot;).first;\r\n\r\n        String obbDirPath = &quot;/Android/obb/$appPackageName&quot;;\r\n\r\n        // creating the directory inside android/obb folder to place obb files\r\n        if (!Directory(obbDirPath).existsSync()) {\r\n          Directory(obbDirPath).createSync();\r\n        }\r\n\r\n        // rename path should also contains filename i.e. whole path with filename and extension\r\n        final String renamePath = &quot;$obbDirPath/$obbFileName.obb&quot;;\r\n\r\n        try {\r\n          // syncronus copying\r\n          File(filepath).copySync(renamePath);\r\n        } on FileSystemException {\r\n          // in case of exception copying asyncronushly\r\n          await File(filepath).copy(renamePath);\r\n        }\r\n        }\r\n      }\r\n     }\r\n\r\n    static Future&lt;File&gt; _moveFile(File sourceFile, String newPath) async {\r\n    try {\r\n      // prefer using rename as it is probably faster\r\n      return await sourceFile.rename(newPath);\r\n    } on FileSystemException catch (e) {\r\n      // if rename fails, copy the source file and then delete it\r\n      final newFile = await sourceFile.copy(newPath);\r\n      await sourceFile.delete();\r\n      return newFile;\r\n      }\r\n     }\r\n    }\r\n\r\nI&#39;ve tried it and it works, so remember to update the permissions on the AndroidManifest file and you&#39;re all set.\r\n\r\n\r\n  [1]: https://stackoverflow.com/posts/75118149/edit\r\n  [2]: https://pub.dev/packages/archive\r\n  [3]: https://pub.dev/packages/device_apps\r\n  [4]: https://pub.dev/packages/open_filex\r\n  [5]: https://pub.dev/packages/package_archive_info\r\n  [6]: https://pub.dev/packages/path_provider\r\n  [7]: https://pub.dev/packages/permission_handler\r\n  [8]: https://pub.dev/packages/file_picker","title":"How to install .xapk file from local storage programmatically in Flutter?","body":"<p>Duplicate of: <a href=\"https://stackoverflow.com/posts/75118149/edit\">I am making an .XAPK installer application in flutter. with open_file package I can open normal .apk installation dialogue but how can I install .XAPK</a></p>\n<p>If you're still trying to install an .xapk file, I'm sharing a piece of code that helped me. I'm using the packages:</p>\n<p><a href=\"https://pub.dev/packages/archive\" rel=\"nofollow noreferrer\">archive</a> (for all the extraction as zip logic)</p>\n<p><a href=\"https://pub.dev/packages/device_apps\" rel=\"nofollow noreferrer\">device_apps</a> (to open the Settings app in case you don't have the required permissions)</p>\n<p><a href=\"https://pub.dev/packages/open_filex\" rel=\"nofollow noreferrer\">open_filex</a> (to open the apk file with the Android intent)</p>\n<p><a href=\"https://pub.dev/packages/package_archive_info\" rel=\"nofollow noreferrer\">package_archive_info</a> (to get the information from the .apk package)</p>\n<p><a href=\"https://pub.dev/packages/path_provider\" rel=\"nofollow noreferrer\">path_provider</a> (to get Directories and paths)</p>\n<p><a href=\"https://pub.dev/packages/permission_handler\" rel=\"nofollow noreferrer\">permission_handler</a> (to ask for permissions to install)</p>\n<p>and <a href=\"https://pub.dev/packages/file_picker\" rel=\"nofollow noreferrer\">file_picker</a> since I initiate the method with a picked file using that package.</p>\n<pre><code>abstract class XapkInstaller {\nstatic install({required PlatformFile file}) async {\nlate List&lt;FileSystemEntity&gt; allFiles, apkFiles;\nlate PackageArchiveInfo appInfo;\nlate String appPackageName;\n\nDirectory tempDir = await getTemporaryDirectory();\nString tempPath = tempDir.path;\n\nString appName = file.path.toString().split(&quot;/&quot;).last.replaceAll(&quot;.apklis&quot;, &quot;&quot;);\n\nString zipFilePath = &quot;${tempDir.path.replaceAll('/$appName.apklis', '')}/$appName.zip&quot;;\n\n// this function convert xapk in zip file and moves in appname_zip directory\n_moveFile(File(file.path.toString()), zipFilePath);\n\nfinal bytes = File(zipFilePath).readAsBytesSync();\nfinal archive = ZipDecoder().decodeBytes(bytes);\n\n// Extract the contents of the Zip archive to disk app cache.\nfor (final file in archive) {\n  final String filename = file.name;\n\n  if (file.isFile) {\n    final data = file.content as List&lt;int&gt;;\n    File(&quot;${tempDir.path}/$appName/$filename&quot;)\n      ..createSync(recursive: true)\n      ..writeAsBytesSync(data);\n  } else {\n    Directory(tempPath).create(recursive: true);\n  }\n}\nfinal Directory myDir = Directory(&quot;${tempDir.path}/$appName&quot;);\n\nallFiles = myDir.listSync(recursive: true, followLinks: true);\n\napkFiles = allFiles.where((element) =&gt; element.path.endsWith('.apk')).toList();\nfor (int x = 0; x &lt; apkFiles.length; x++) {\n  final String filePath = apkFiles[x].path;\n  try {\n    appInfo = await PackageArchiveInfo.fromPath(filePath);\n    appPackageName = appInfo.packageName;\n  } catch (e) {\n    appInfo = PackageArchiveInfo(appName: &quot;&quot;, packageName: &quot;&quot;, version: &quot;&quot;, buildNumber: &quot;&quot;);\n  }\n  if (appInfo.appName.isNotEmpty) {\n    try {\n      // moving obb file to android/obb folder\n      _moveObbToAndroidDir(allFiles, appPackageName);\n\n      // showing popup to install app\n      if (await Permission.requestInstallPackages.request().isGranted) {\n        await OpenFilex.open(filePath);\n      } else {\n        DeviceApps.openAppSettings(appInfo.packageName);\n      }\n    } catch (e) {\n      //catch error in installing\n    }\n  }\n}\n// clearing cache file after installing xapk\nFuture.delayed(const Duration(seconds: 180), () {\n  tempDir.deleteSync(recursive: true);\n  tempDir.create();\n});\n}\n\nstatic _moveObbToAndroidDir(List&lt;FileSystemEntity&gt; allFiles, String appPackageName) async {\nfor (int x = 0; x &lt; allFiles.length; x++) {\n  final fileExtension = allFiles[x].path.split(&quot;/&quot;).last.split(&quot;.&quot;).last;\n\n  if (fileExtension == &quot;obb&quot;) {\n    String filepath = allFiles[x].path;\n    String obbFileName = filepath.split(&quot;/&quot;).last.split(&quot;.&quot;).first;\n\n    String obbDirPath = &quot;/Android/obb/$appPackageName&quot;;\n\n    // creating the directory inside android/obb folder to place obb files\n    if (!Directory(obbDirPath).existsSync()) {\n      Directory(obbDirPath).createSync();\n    }\n\n    // rename path should also contains filename i.e. whole path with filename and extension\n    final String renamePath = &quot;$obbDirPath/$obbFileName.obb&quot;;\n\n    try {\n      // syncronus copying\n      File(filepath).copySync(renamePath);\n    } on FileSystemException {\n      // in case of exception copying asyncronushly\n      await File(filepath).copy(renamePath);\n    }\n    }\n  }\n }\n\nstatic Future&lt;File&gt; _moveFile(File sourceFile, String newPath) async {\ntry {\n  // prefer using rename as it is probably faster\n  return await sourceFile.rename(newPath);\n} on FileSystemException catch (e) {\n  // if rename fails, copy the source file and then delete it\n  final newFile = await sourceFile.copy(newPath);\n  await sourceFile.delete();\n  return newFile;\n  }\n }\n}\n</code></pre>\n<p>I've tried it and it works, so remember to update the permissions on the AndroidManifest file and you're all set.</p>\n"}],"owner":{"account_id":25418679,"reputation":11,"user_id":19225105,"display_name":"Sonu Lodha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673720659,"creation_date":1663490624,"question_id":73761267,"body_markdown":"I want to implement this functionality;\r\n\r\n&gt;A Button when pressed will install .xapk file from local storage with the following path.\r\n\r\nString _apkFilePath = &#39;/storage/emulated/0/Download/filename.xapk&#39;;\r\n","title":"How to install .xapk file from local storage programmatically in Flutter?","body":"<p>I want to implement this functionality;</p>\n<blockquote>\n<p>A Button when pressed will install .xapk file from local storage with the following path.</p>\n</blockquote>\n<p>String _apkFilePath = '/storage/emulated/0/Download/filename.xapk';</p>\n"},{"tags":["java","anylogic"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1673720683,"post_id":75100690,"comment_id":132563033,"body_markdown":"You&#39;ll want to have a look at threading, which is not a quick and easy topic, but if you take the time to put this work on halt and learn about how to use threading on its own first, you can then pick this back up and probably make it work with only moderate effort.","body":"You&#39;ll want to have a look at threading, which is not a quick and easy topic, but if you take the time to put this work on halt and learn about how to use threading on its own first, you can then pick this back up and probably make it work with only moderate effort."}],"owner":{"account_id":23668969,"reputation":1,"user_id":17696035,"display_name":"Adrian Grueso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673720455,"creation_date":1673547398,"question_id":75100690,"body_markdown":"I&#39;m learning about anylogic simulation.\r\nMy simulation is a process assemble. There is many workstation, and each one them do something activities, so, it&#39;s diferents times.\r\n\r\nModeling Process\r\n\r\n[1]:https://i.stack.imgur.com/JJx0B.jpg\r\n\r\n![1]\r\n\r\n\r\n\r\n\r\n\r\nI&#39;m trying to write a condition for this process, some like rotine below...\r\n\r\nFor exemple:\r\n\r\nif service block number 2 is occupated, all the process before must to wait until it finished.\r\nAnd service block 3, 4, 5... 10, 11, 12... same thing.\r\n\r\nHow I should to do?","title":"How to create a condition for wait and service block?","body":"<p>I'm learning about anylogic simulation.\nMy simulation is a process assemble. There is many workstation, and each one them do something activities, so, it's diferents times.</p>\n<p>Modeling Process</p>\n<p><img src=\"https://i.stack.imgur.com/JJx0B.jpg\" alt=\"1\" /></p>\n<p>I'm trying to write a condition for this process, some like rotine below...</p>\n<p>For exemple:</p>\n<p>if service block number 2 is occupated, all the process before must to wait until it finished.\nAnd service block 3, 4, 5... 10, 11, 12... same thing.</p>\n<p>How I should to do?</p>\n"},{"tags":["java","delphi","aidl","delphi-10.4-sydney"],"comments":[{"owner":{"account_id":5353945,"reputation":27603,"user_id":4267244,"accept_rate":85,"display_name":"Dalija Prasnikar"},"score":3,"creation_date":1673723491,"post_id":75120261,"comment_id":132563607,"body_markdown":"You cannot directly use java nor aidl files in Delphi. You need to build JAR from those files and then you can use them. For the last part (using JAR in Delphi) see https://docwiki.embarcadero.com/RADStudio/Sydney/en/Using_a_Custom_Set_of_Java_Libraries_In_Your_RAD_Studio_Android_Apps","body":"You cannot directly use java nor aidl files in Delphi. You need to build JAR from those files and then you can use them. For the last part (using JAR in Delphi) see <a href=\"https://docwiki.embarcadero.com/RADStudio/Sydney/en/Using_a_Custom_Set_of_Java_Libraries_In_Your_RAD_Studio_Android_Apps\" rel=\"nofollow noreferrer\">docwiki.embarcadero.com/RADStudio/Sydney/en/&hellip;</a>"},{"owner":{"account_id":19624697,"reputation":1,"user_id":19642940,"display_name":"cla-h"},"score":0,"creation_date":1673958768,"post_id":75120261,"comment_id":132608323,"body_markdown":"I tried following this tutorial but even generating the file with java2op.exe and including it in the project in the uses directive it does not find the classes.","body":"I tried following this tutorial but even generating the file with java2op.exe and including it in the project in the uses directive it does not find the classes."}],"owner":{"account_id":19624697,"reputation":1,"user_id":19642940,"display_name":"cla-h"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673720222,"creation_date":1673720222,"question_id":75120261,"body_markdown":"I have two .aidl files and I need to add them to a project delphi.\r\nIPrinterCallback.aidl\r\nIPrinterService.aidl\r\n```\r\n    // IPrinterService.aidl\r\n    package com.xcheng.printerservice;\r\n    import com.xcheng.printerservice.IPrinterCallback;\r\n    //import java.util.List;\r\n    //import java.util.Map;\r\n\r\n    // Declare any non-default types here with import statements\r\n\r\n    interface IPrinterService {\r\n     /**\r\n     * Demonstrates some basic types that you can use as parameters\r\n     * and return values in AIDL.\r\n     */\r\n...\r\n...\r\n```\r\n\r\nThe idea is simply to create a button to click and print anything using these packages.\r\nI read several tutorials and got nothing so far.\r\nIn one of them I saw that I needed to generate the equivalent .java files and add them to the project.\r\n\r\n```\r\n/*\r\n * This file is auto-generated.  DO NOT MODIFY.\r\n */\r\npackage com.xcheng.printerservice;\r\n//import java.util.List;\r\n//import java.util.Map;\r\n// Declare any non-default types here with import statements\r\n\r\npublic interface IPrinterService extends android.os.IInterface\r\n{\r\n  /** Default implementation for IPrinterService. */\r\n  public static class Default implements com.xcheng.printerservice.IPrinterService\r\n  {\r\n    /**\r\n         * Demonstrates some basic types that you can use as parameters\r\n         * and return values in AIDL.\r\n         */\r\n    @Override public void upgradePrinter() throws android.os.RemoteException\r\n    {\r\n    ...\r\n    ...\r\n    ...\r\n```\r\n\r\nSo I generated them using aidl.exe from skd android and put them in a folder inside the project.\r\nBut I always get a compilation error when I try to import it in &#39;uses&#39;.\r\n\r\nmy code without importing the AIDL\r\n\r\n```\r\nunit Unit1;\r\n\r\ninterface\r\n\r\nuses\r\n  System.SysUtils, System.Types, System.UITypes, System.Classes, System.Variants,\r\n  FMX.Types, FMX.Controls, FMX.Forms, FMX.Graphics, FMX.Dialogs,\r\n  FMX.Controls.Presentation, FMX.StdCtrls,\r\n  Androidapi.JNI.JavaTypes,\r\n  Androidapi.JNI.Os,\r\n  Android.ServiceApplication,\r\n  FMX.Helpers.Android;\r\n\r\ntype\r\n  TForm1 = class(TForm)\r\n    Print: TButton;\r\n    private\r\n      { Private declarations }\r\n    public\r\n      { Public declarations }\r\n  end;\r\n\r\nvar\r\n  Form1: TForm1;\r\n\r\nimplementation\r\n\r\n{$R *.fmx}\r\n\r\nend.\r\n```\r\n```\r\n    MyProject/\r\n    |\r\n    +-- src/\r\n    |   |\r\n    |   +-- com/\r\n    |       |\r\n    |       +-- xcheng/\r\n    |           |\r\n    |           +-- printerservice/\r\n    |               |\r\n    |               +-- IPrinterService.aidl\r\n    |               +-- IPrinterCallback.aidl\r\n    |               +-- IPrinterService.java\r\n    |               +-- IPrinterCallback.java\r\n    |\r\n    +-- assets/\r\n    |\r\n    +-- AndroidManifest.xml\r\n    +-- MyProject.dproj\r\n    ...\r\n    ...\r\n```\r\n\r\nCan anyone help me import and consume these files .aidl or .java in android delphi?","title":"how to add a .aidl file in a delphi android project?","body":"<p>I have two .aidl files and I need to add them to a project delphi.\nIPrinterCallback.aidl\nIPrinterService.aidl</p>\n<pre><code>    // IPrinterService.aidl\n    package com.xcheng.printerservice;\n    import com.xcheng.printerservice.IPrinterCallback;\n    //import java.util.List;\n    //import java.util.Map;\n\n    // Declare any non-default types here with import statements\n\n    interface IPrinterService {\n     /**\n     * Demonstrates some basic types that you can use as parameters\n     * and return values in AIDL.\n     */\n...\n...\n</code></pre>\n<p>The idea is simply to create a button to click and print anything using these packages.\nI read several tutorials and got nothing so far.\nIn one of them I saw that I needed to generate the equivalent .java files and add them to the project.</p>\n<pre><code>/*\n * This file is auto-generated.  DO NOT MODIFY.\n */\npackage com.xcheng.printerservice;\n//import java.util.List;\n//import java.util.Map;\n// Declare any non-default types here with import statements\n\npublic interface IPrinterService extends android.os.IInterface\n{\n  /** Default implementation for IPrinterService. */\n  public static class Default implements com.xcheng.printerservice.IPrinterService\n  {\n    /**\n         * Demonstrates some basic types that you can use as parameters\n         * and return values in AIDL.\n         */\n    @Override public void upgradePrinter() throws android.os.RemoteException\n    {\n    ...\n    ...\n    ...\n</code></pre>\n<p>So I generated them using aidl.exe from skd android and put them in a folder inside the project.\nBut I always get a compilation error when I try to import it in 'uses'.</p>\n<p>my code without importing the AIDL</p>\n<pre><code>unit Unit1;\n\ninterface\n\nuses\n  System.SysUtils, System.Types, System.UITypes, System.Classes, System.Variants,\n  FMX.Types, FMX.Controls, FMX.Forms, FMX.Graphics, FMX.Dialogs,\n  FMX.Controls.Presentation, FMX.StdCtrls,\n  Androidapi.JNI.JavaTypes,\n  Androidapi.JNI.Os,\n  Android.ServiceApplication,\n  FMX.Helpers.Android;\n\ntype\n  TForm1 = class(TForm)\n    Print: TButton;\n    private\n      { Private declarations }\n    public\n      { Public declarations }\n  end;\n\nvar\n  Form1: TForm1;\n\nimplementation\n\n{$R *.fmx}\n\nend.\n</code></pre>\n<pre><code>    MyProject/\n    |\n    +-- src/\n    |   |\n    |   +-- com/\n    |       |\n    |       +-- xcheng/\n    |           |\n    |           +-- printerservice/\n    |               |\n    |               +-- IPrinterService.aidl\n    |               +-- IPrinterCallback.aidl\n    |               +-- IPrinterService.java\n    |               +-- IPrinterCallback.java\n    |\n    +-- assets/\n    |\n    +-- AndroidManifest.xml\n    +-- MyProject.dproj\n    ...\n    ...\n</code></pre>\n<p>Can anyone help me import and consume these files .aidl or .java in android delphi?</p>\n"},{"tags":["java","apache-kafka","wildfly","classloader"],"owner":{"account_id":27527186,"reputation":1,"user_id":21006308,"display_name":"fer mou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673719855,"creation_date":1673697633,"question_id":75117754,"body_markdown":"I am facing an issue that I cannot solve. So I am searching some help here (Environment : java 8, maven 3, wildfly 12, spring, EC2, MSK).\r\n\r\nI have a legacy application on a wildfly 12 deployed on an EC2 instance.\r\nThis wildfly deploy different modules as war (app.war, ws.war), &#39;app&#39; is used for a man/machine interface and &#39;ws&#39; is for some webservices for partners.\r\n\r\nThis modules have the same dependency named &#39;services&#39; in their pom.xml.\r\n&#39;Services&#39; has the dependency aws-msk-iam-auth (1.1.4) in its pom.xml\r\nIn this dependency is set a kafka configuration to produce messages sent to a broker.\r\n\r\nHere is the configuration that can be helpful for you of my producer :\r\n\r\n```\r\nspring.kafka.producer.security.sasl.mechanism = AWS_MSK_IAM\r\nspring.kafka.producer.security.sasl.jaas.config = software.amazon.msk.auth.iam.IAMLoginModule required;\r\nspring.kafka.producer.security.sasl.client.callback.handler.class = software.amazon.msk.auth.iam.IAMClientCallbackHandler\r\nspring.kafka.producer.security.protocol = SASL_SSL\r\n```\r\n\r\nThe problem is :\r\nWhen I am on the man/machine interface and do actions that can produce messages, all is ok.\r\nThen I send http post request to the webservices, this must produce actions as well, but it does not work.\r\n \r\nThe exception caught is clear :\r\n`ERROR [software.amazon.msk.auth.iam.IAMClientCallbackHandler] (kafka-producer-network-thread | producer-1) Unsupported callback type: class: software.amazon.msk.auth.iam.internals.AWSCredentialsCallback classloader: ModuleClassLoader for Module &quot;deployment.app.war&quot; from Service Module Loader from class: software.amazon.msk.auth.iam.IAMClientCallbackHandler classloader: ModuleClassLoader for Module &quot;deployment.ws.war&quot; from Service Module Loader`\r\n \r\nIt&#39;s in the handle method of the IAMClientCallbackHandler class :\r\n\r\n```\r\n    for(int var4 = 0; var4 &lt; var3; ++var4) {\r\n        Callback callback = var2[var4];\r\n        if (log.isDebugEnabled()) {\r\n          log.debug(&quot;Type information for callback: &quot; + debugClassString(callback.getClass()) + &quot; from &quot; + debugClassString(this.getClass()));\r\n        }\r\n\r\n        if (!(callback instanceof AWSCredentialsCallback)) {\r\n          String message = &quot;Unsupported callback type: &quot; + debugClassString(callback.getClass()) + &quot; from &quot; + debugClassString(this.getClass());\r\n          log.error(message);\r\n          throw new UnsupportedCallbackException(callback, message);\r\n        }\r\n\r\n        this.handleCallback((AWSCredentialsCallback)callback);\r\n    }\r\n```\r\n\r\nThe error is that the callback is an instance of AWSCredentialsCallback but the classloader that can make the cast is in a different war.\r\n\r\n\r\n\r\n\r\nI tried to managed this with many solutions and maybe one of them should be close but it does not work.\r\nIncluding :\r\n- Having a kafka config in each war (but allways calling the service module)\r\n- Overriding IAMClientCallbackHandler.handle method to try to cast correctly the callback\r\n- Trying to add the aws-msk-iam-auth library in a wildfly module (I am not sure I did it the right way, but the problem stay exactly the same)\r\n- And so on...\r\n\r\nEvery advice here is welcome :)\r\n\r\nThanks !","title":"Kafka SaslException UnsupportedCallbackException due to class loader issue","body":"<p>I am facing an issue that I cannot solve. So I am searching some help here (Environment : java 8, maven 3, wildfly 12, spring, EC2, MSK).</p>\n<p>I have a legacy application on a wildfly 12 deployed on an EC2 instance.\nThis wildfly deploy different modules as war (app.war, ws.war), 'app' is used for a man/machine interface and 'ws' is for some webservices for partners.</p>\n<p>This modules have the same dependency named 'services' in their pom.xml.\n'Services' has the dependency aws-msk-iam-auth (1.1.4) in its pom.xml\nIn this dependency is set a kafka configuration to produce messages sent to a broker.</p>\n<p>Here is the configuration that can be helpful for you of my producer :</p>\n<pre><code>spring.kafka.producer.security.sasl.mechanism = AWS_MSK_IAM\nspring.kafka.producer.security.sasl.jaas.config = software.amazon.msk.auth.iam.IAMLoginModule required;\nspring.kafka.producer.security.sasl.client.callback.handler.class = software.amazon.msk.auth.iam.IAMClientCallbackHandler\nspring.kafka.producer.security.protocol = SASL_SSL\n</code></pre>\n<p>The problem is :\nWhen I am on the man/machine interface and do actions that can produce messages, all is ok.\nThen I send http post request to the webservices, this must produce actions as well, but it does not work.</p>\n<p>The exception caught is clear :\n<code>ERROR [software.amazon.msk.auth.iam.IAMClientCallbackHandler] (kafka-producer-network-thread | producer-1) Unsupported callback type: class: software.amazon.msk.auth.iam.internals.AWSCredentialsCallback classloader: ModuleClassLoader for Module &quot;deployment.app.war&quot; from Service Module Loader from class: software.amazon.msk.auth.iam.IAMClientCallbackHandler classloader: ModuleClassLoader for Module &quot;deployment.ws.war&quot; from Service Module Loader</code></p>\n<p>It's in the handle method of the IAMClientCallbackHandler class :</p>\n<pre><code>    for(int var4 = 0; var4 &lt; var3; ++var4) {\n        Callback callback = var2[var4];\n        if (log.isDebugEnabled()) {\n          log.debug(&quot;Type information for callback: &quot; + debugClassString(callback.getClass()) + &quot; from &quot; + debugClassString(this.getClass()));\n        }\n\n        if (!(callback instanceof AWSCredentialsCallback)) {\n          String message = &quot;Unsupported callback type: &quot; + debugClassString(callback.getClass()) + &quot; from &quot; + debugClassString(this.getClass());\n          log.error(message);\n          throw new UnsupportedCallbackException(callback, message);\n        }\n\n        this.handleCallback((AWSCredentialsCallback)callback);\n    }\n</code></pre>\n<p>The error is that the callback is an instance of AWSCredentialsCallback but the classloader that can make the cast is in a different war.</p>\n<p>I tried to managed this with many solutions and maybe one of them should be close but it does not work.\nIncluding :</p>\n<ul>\n<li>Having a kafka config in each war (but allways calling the service module)</li>\n<li>Overriding IAMClientCallbackHandler.handle method to try to cast correctly the callback</li>\n<li>Trying to add the aws-msk-iam-auth library in a wildfly module (I am not sure I did it the right way, but the problem stay exactly the same)</li>\n<li>And so on...</li>\n</ul>\n<p>Every advice here is welcome :)</p>\n<p>Thanks !</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":0,"creation_date":1667764474,"post_id":74339170,"comment_id":131239645,"body_markdown":"`{in.nextLine()}` may be array literal syntax the compiler accepts, but how would you describe what it (and other lines) do in a natural language such as English?","body":"<code>{in.nextLine()}</code> may be array literal syntax the compiler accepts, but how would you describe what it (and other lines) do in a natural language such as English?"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1667764607,"post_id":74339170,"comment_id":131239667,"body_markdown":"You are trying to use us as human debuggers while the job can be done much more efficiently with an actual debugger. Search for &quot;How to use &lt;my-IDE&gt; debugger&quot; and step through your code with your IDE. Then you&#39;ll have your answer in no time.","body":"You are trying to use us as human debuggers while the job can be done much more efficiently with an actual debugger. Search for &quot;How to use &lt;my-IDE&gt; debugger&quot; and step through your code with your IDE. Then you&#39;ll have your answer in no time."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":1,"creation_date":1667764702,"post_id":74339170,"comment_id":131239686,"body_markdown":"`String.valueOf(input.length)` will return the same number (as String) with every iteration. And that number is 1, because input is an array with one element, so the length is 1.","body":"<code>String.valueOf(input.length)</code> will return the same number (as String) with every iteration. And that number is 1, because input is an array with one element, so the length is 1."}],"answers":[{"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667765521,"post_id":74339296,"comment_id":131239871,"body_markdown":"Your solution is working, but it does not address the lack of Java basics shown by the question&#39;s author.","body":"Your solution is working, but it does not address the lack of Java basics shown by the question&#39;s author."},{"owner":{"account_id":26511838,"reputation":15,"user_id":20146935,"display_name":"The lol frog"},"score":0,"creation_date":1667779249,"post_id":74339296,"comment_id":131242176,"body_markdown":"Thank you for ur answer. However, we are not allowed to use Pattern nor Matcher","body":"Thank you for ur answer. However, we are not allowed to use Pattern nor Matcher"}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667764732,"creation_date":1667764732,"answer_id":74339296,"question_id":74339170,"body_markdown":"The pattern seems to be nondigits - followed by plus or minus - then digits. I would literally use a `Pattern` to represent that regular expression. Then loop over the matches to the pattern. That might look something like\r\n\r\n\tString[] inputs = { &quot;AFB+8HC-4&quot;, &quot;AFB+8SC-4H-2GDPE+9&quot; };\r\n\tPattern p = Pattern.compile(&quot;(\\\\D+)([+-])(\\\\d+)&quot;);\r\n\tfor (String s : inputs) {\r\n\t\tSystem.out.printf(&quot;For %s%n&quot;, s);\r\n\t\tMatcher m = p.matcher(s);\r\n\t\twhile (m.find()) {\r\n\t\t\tSystem.out.printf(&quot;%s %s %s%n&quot;,\r\n\t\t\t\t\tm.group(1),\r\n\t\t\t\t\tm.group(2).equals(&quot;+&quot;) ? &quot;tighten&quot; : &quot;loosen&quot;,\r\n\t\t\t\t\tm.group(3));\r\n\t\t}\r\n\t}\r\n\r\nOutputs (as requested)\r\n\r\n    For AFB+8HC-4\r\n    AFB tighten 8\r\n    HC loosen 4\r\n    For AFB+8SC-4H-2GDPE+9\r\n    AFB tighten 8\r\n    SC loosen 4\r\n    H loosen 2\r\n    GDPE tighten 9\r\n\r\n","title":"This questions can not be closed, but plz do not comment any more. thankyou! --- the frog","body":"<p>The pattern seems to be nondigits - followed by plus or minus - then digits. I would literally use a <code>Pattern</code> to represent that regular expression. Then loop over the matches to the pattern. That might look something like</p>\n<pre><code>String[] inputs = { &quot;AFB+8HC-4&quot;, &quot;AFB+8SC-4H-2GDPE+9&quot; };\nPattern p = Pattern.compile(&quot;(\\\\D+)([+-])(\\\\d+)&quot;);\nfor (String s : inputs) {\n    System.out.printf(&quot;For %s%n&quot;, s);\n    Matcher m = p.matcher(s);\n    while (m.find()) {\n        System.out.printf(&quot;%s %s %s%n&quot;,\n                m.group(1),\n                m.group(2).equals(&quot;+&quot;) ? &quot;tighten&quot; : &quot;loosen&quot;,\n                m.group(3));\n    }\n}\n</code></pre>\n<p>Outputs (as requested)</p>\n<pre><code>For AFB+8HC-4\nAFB tighten 8\nHC loosen 4\nFor AFB+8SC-4H-2GDPE+9\nAFB tighten 8\nSC loosen 4\nH loosen 2\nGDPE tighten 9\n</code></pre>\n"}],"owner":{"account_id":26511838,"reputation":15,"user_id":20146935,"display_name":"The lol frog"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1673719464,"creation_date":1667763698,"question_id":74339170,"body_markdown":"***\r\n\r\n&gt; What&#39;s wrong with my code? It will not print what I think my code is\r\n&gt; doing. This is question -2022 J3 Harp Tuning- from Canadian Computing\r\n&gt; Contest\r\n\r\n***\r\n\r\n\r\n\r\n**Sample Input 1**\r\n\r\nAFB+8HC-4\r\n\r\n**Output for Sample Input 1**\r\n\r\nAFB tighten 8\r\n\r\nHC loosen 4\r\n\r\n**Explanation of Sample Output 1**\r\n\r\nThe input contains two tuning instructions: \r\nAFB+8 and HC-4\r\n\r\n**Sample Input 2**\r\n\r\nAFB+8SC-4H-2GDPE+9\r\n\r\n**Output for Sample Input 2**\r\n\r\nAFB tighten 8\r\n\r\nSC loosen 4\r\n\r\nH loosen 2\r\n\r\nGDPE tighten 9\r\n\r\n**Explanation of Sample Output 2**\r\n\r\nThe input contains four tuning instructions: \r\nAFB+8, SC-4, H-2, and GDPE+9\r\n\r\n\r\n*I&#39;ve tried to use Array and String, non worked. \r\n**FYI** I am NOT allowed to use complicated stuff in my code as my teacher said (yes I will get marks off if I do)*\r\n\r\n\r\nMy code:\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Main \r\n{\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tString[] input = {in.nextLine()};\r\n\t\tString num = &quot;1234567890&quot;;\r\n    \tfor (int i = 0 ;i &lt; input.length;i++)\r\n    \t{\r\n    \t\tif (num.contains(String.valueOf(input.length)))\r\n    \t\t{\r\n    \t\t\tinput[i]=input[i]+&quot;\\n&quot;;\r\n    \t\t\t//continue;\r\n    \t    }//end of if\r\n    \t\tif (input[i]==&quot;+&quot;)\r\n    \t\t{\r\n    \t\t\tinput[i]=&quot; tighten &quot;;\r\n    \t\t}//end of if\r\n    \t\tif (input[i]==&quot;-&quot;)\r\n    \t\t{\r\n    \t\t\tinput[i]=&quot; loosen &quot;;\r\n    \t    }//end of if\r\n    \t}// end of for\r\n    \tprintArry(input);\r\n   }// end of main\r\n\r\n\tpublic static void printArry(String[]a)\r\n\t{\r\n           for (int j = 0; j &lt; a.length; j++) \r\n           {\r\n              System.out.print(a[j]);\r\n           }// end of for\r\n\t}// end of printArry\r\n}//end of class\r\n```","title":"This questions can not be closed, but plz do not comment any more. thankyou! --- the frog","body":"<hr />\n<blockquote>\n<p>What's wrong with my code? It will not print what I think my code is\ndoing. This is question -2022 J3 Harp Tuning- from Canadian Computing\nContest</p>\n</blockquote>\n<hr />\n<p><strong>Sample Input 1</strong></p>\n<p>AFB+8HC-4</p>\n<p><strong>Output for Sample Input 1</strong></p>\n<p>AFB tighten 8</p>\n<p>HC loosen 4</p>\n<p><strong>Explanation of Sample Output 1</strong></p>\n<p>The input contains two tuning instructions:\nAFB+8 and HC-4</p>\n<p><strong>Sample Input 2</strong></p>\n<p>AFB+8SC-4H-2GDPE+9</p>\n<p><strong>Output for Sample Input 2</strong></p>\n<p>AFB tighten 8</p>\n<p>SC loosen 4</p>\n<p>H loosen 2</p>\n<p>GDPE tighten 9</p>\n<p><strong>Explanation of Sample Output 2</strong></p>\n<p>The input contains four tuning instructions:\nAFB+8, SC-4, H-2, and GDPE+9</p>\n<p><em>I've tried to use Array and String, non worked.\n<strong>FYI</strong> I am NOT allowed to use complicated stuff in my code as my teacher said (yes I will get marks off if I do)</em></p>\n<p>My code:</p>\n<pre><code>import java.util.Scanner;\npublic class Main \n{\n    public static void main(String[] args) \n    {\n        Scanner in = new Scanner(System.in);\n        String[] input = {in.nextLine()};\n        String num = &quot;1234567890&quot;;\n        for (int i = 0 ;i &lt; input.length;i++)\n        {\n            if (num.contains(String.valueOf(input.length)))\n            {\n                input[i]=input[i]+&quot;\\n&quot;;\n                //continue;\n            }//end of if\n            if (input[i]==&quot;+&quot;)\n            {\n                input[i]=&quot; tighten &quot;;\n            }//end of if\n            if (input[i]==&quot;-&quot;)\n            {\n                input[i]=&quot; loosen &quot;;\n            }//end of if\n        }// end of for\n        printArry(input);\n   }// end of main\n\n    public static void printArry(String[]a)\n    {\n           for (int j = 0; j &lt; a.length; j++) \n           {\n              System.out.print(a[j]);\n           }// end of for\n    }// end of printArry\n}//end of class\n</code></pre>\n"},{"tags":["java","spring","amazon-web-services","amazon-dynamodb"],"comments":[{"owner":{"account_id":20683611,"reputation":1187,"user_id":15186569,"display_name":"ThrowsError"},"score":0,"creation_date":1673694554,"post_id":75116174,"comment_id":132558237,"body_markdown":"Need to improve formatting.","body":"Need to improve formatting."},{"owner":{"account_id":9225176,"reputation":1092,"user_id":6853216,"display_name":"Brian"},"score":0,"creation_date":1673703583,"post_id":75116174,"comment_id":132559560,"body_markdown":"Is `IDnum` the primary key of this table?","body":"Is <code>IDnum</code> the primary key of this table?"}],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673719387,"creation_date":1673719387,"answer_id":75120167,"question_id":75116174,"body_markdown":"The code you are sharing comes from https://www.tutorialspoint.com/dynamodb/dynamodb_getting_items.html. It works as expected, ensure that you are passing the correct partition key name for your table.\r\n\r\n```\r\npublic Item getItem(String hashKeyName,\r\n                    Object hashKeyValue)\r\n```\r\n\r\n[Reference](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/document/Table.html#getItem-java.lang.String-java.lang.Object-)","title":"how to read item from dynamoDb in aws?","body":"<p>The code you are sharing comes from <a href=\"https://www.tutorialspoint.com/dynamodb/dynamodb_getting_items.html\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/dynamodb/dynamodb_getting_items.html</a>. It works as expected, ensure that you are passing the correct partition key name for your table.</p>\n<pre><code>public Item getItem(String hashKeyName,\n                    Object hashKeyValue)\n</code></pre>\n<p><a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/document/Table.html#getItem-java.lang.String-java.lang.Object-\" rel=\"nofollow noreferrer\">Reference</a></p>\n"}],"owner":{"account_id":25974568,"reputation":56,"user_id":19689190,"display_name":"Amar kumar Nayak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673719387,"creation_date":1673677304,"question_id":75116174,"body_markdown":"I got error when try to read item from dynamodb by using getItem()\r\n\r\nThis is my code snippet: \r\n\r\n    DynamoDB dynamoDB = new DynamoDB(new AmazonDynamoDBClient(new ProfileCredentialsProvider()));  \r\n    Table table = dynamoDB.getTable(&quot;ProductList&quot;);  \r\n    Item item = table.getItem(&quot;IDnum&quot;, 109);\r\n\r\ni got error like attribute mismatch\r\n","title":"how to read item from dynamoDb in aws?","body":"<p>I got error when try to read item from dynamodb by using getItem()</p>\n<p>This is my code snippet:</p>\n<pre><code>DynamoDB dynamoDB = new DynamoDB(new AmazonDynamoDBClient(new ProfileCredentialsProvider()));  \nTable table = dynamoDB.getTable(&quot;ProductList&quot;);  \nItem item = table.getItem(&quot;IDnum&quot;, 109);\n</code></pre>\n<p>i got error like attribute mismatch</p>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":3112777,"reputation":347,"user_id":2634207,"accept_rate":83,"display_name":"danissimo"},"score":0,"creation_date":1673640880,"post_id":75113935,"comment_id":132552754,"body_markdown":"thank you. I tried. Doesn&#39;t work. I appended the result to my original text. Thank you again","body":"thank you. I tried. Doesn&#39;t work. I appended the result to my original text. Thank you again"}],"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673639858,"creation_date":1673639858,"answer_id":75113935,"question_id":75113676,"body_markdown":"Try adding an `@ElementCollection` annotation:\r\n```Java\r\n@Entity @Data\r\npublic class Schedule {\r\n  @Id @GeneratedValue\r\n  private Integer id;\r\n\r\n  @ElementCollection(targetClass=java.time.DayOfWeek, fetch = FetchType.EAGER)\r\n  @Convert(converter = DayOfWeekConverter.class) \r\n  private Set&lt;DayOfWeek&gt; daysOfWeek;\r\n\r\n  @Convert(converter = DayOfWeekConverter.class)\r\n  private DayOfWeek havingSexDay;\r\n}\r\n```","title":"hibernate: How to read a set of enums stored in an array as custom codes","body":"<p>Try adding an <code>@ElementCollection</code> annotation:</p>\n<pre><code>@Entity @Data\npublic class Schedule {\n  @Id @GeneratedValue\n  private Integer id;\n\n  @ElementCollection(targetClass=java.time.DayOfWeek, fetch = FetchType.EAGER)\n  @Convert(converter = DayOfWeekConverter.class) \n  private Set&lt;DayOfWeek&gt; daysOfWeek;\n\n  @Convert(converter = DayOfWeekConverter.class)\n  private DayOfWeek havingSexDay;\n}\n</code></pre>\n"}],"owner":{"account_id":3112777,"reputation":347,"user_id":2634207,"accept_rate":83,"display_name":"danissimo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673719334,"creation_date":1673637881,"question_id":75113676,"body_markdown":"Subj is the question. Let me invite you to dive into some context. I make a brand-new DB containing the single table and fill that table with the single row:\r\n```postgres-sql\r\ncreate table schedule (\r\n  id int generated by default as identity (start with 100) primary key,\r\n  days_of_week char(3)[] not null check (true/*\r\n    here I unsure that days_of_week is a unidimensional\r\n    and it&#39;s not empty\r\n    and its length is equal to the length of an array\r\n    filled with unique values of days_of_week values only\r\n  */)\r\n);\r\n\r\ninsert into schedule (id, days_of_week) values\r\n(0, array[&#39;mon&#39;, &#39;tue&#39;, &#39;wed&#39;, &#39;thu&#39;, &#39;fri&#39;, &#39;sat&#39;, &#39;sun&#39;]);\r\n```\r\n...spawn the entity class (mixing lombok)\r\n```java\r\n@Entity @Data\r\npublic class Schedule {\r\n  @Id @GeneratedValue\r\n  private Integer id;\r\n}\r\n\r\npublic interface ScheduleRepository\r\nextends CrudRepository&lt;Schedule, Integer&gt; {}\r\n```\r\n..and execute this setting with:\r\n```java\r\n@Bean\r\nCommandLineRunner printAllSchedules(ScheduleRepository repository) {\r\n  return args -&gt; {\r\n    for (Schedule schedule : repository.findAll()) {\r\n      log.info(schedule.toString());\r\n    }\r\n  };\r\n}\r\n```\r\nFinally, I get:\r\n```\r\n213347.962 I main/Application : Schedule(id=0)\r\n```\r\nVoil&#224;! Now I add the missing attribute to my entity:\r\n```java\r\n@Entity @Data\r\npublic class Schedule {\r\n  @Id @GeneratedValue\r\n  private Integer id;\r\n  private Set&lt;DayOfWeek&gt; daysOfWeek;\r\n}\r\n```\r\nIt fails (expectedly):\r\n```\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\nCaused by: org.springframework.orm.jpa.JpaSystemException: Unable to\r\n  extract JDBC value for position `2`\r\nCaused by: org.hibernate.HibernateException: Unable to extract JDBC\r\n  value for position `2`\r\nCaused by: java.lang.ClassCastException: class java.lang.String cannot be cast\r\n  to class java.lang.Number (java.lang.String and java.lang.Number are in module\r\n  java.base of loader &#39;bootstrap&#39;)\r\n```\r\nAha, just a moment:\r\n```java\r\n  @Enumerated(EnumType.STRING)\r\n  private Set&lt;DayOfWeek&gt; daysOfWeek;\r\n```\r\nRun and get a different result:\r\n```\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\nCaused by: org.springframework.orm.jpa.JpaSystemException: Unable to\r\n  extract JDBC value for position `2`\r\nCaused by: org.hibernate.HibernateException: Unable to extract JDBC\r\n  value for position `2`\r\nCaused by: java.lang.IllegalArgumentException: No enum constant\r\n  java.time.DayOfWeek.mon\r\n```\r\nObviously, it reads the array from `days_of_week` column and tries to convert `mon` into any `DayOfWeek`, and it fails expectedly. Let&#39;s try to put in the table &#171;correct&#187; strings for days of week:\r\n```postgres-sql\r\nalter table schedule\r\nalter column days_of_week\r\nset data type varchar(9)[];\r\n\r\nupdate schedule\r\nset days_of_week = array[&#39;SUNDAY&#39;, &#39;MONDAY&#39;]\r\nwhere id = 0;\r\n```\r\n...and run:\r\n```\r\n215032.322 I main/Application : Schedule(id=0, daysOfWeek=[MONDAY, SUNDAY])\r\n```\r\nNow, let&#39;s add this column:\r\n```postgres-sql\r\nalter table schedule\r\nadd column having_sex_day char(3)\r\nnot null default &#39;fri&#39;;\r\n-- today, January 13, 23 is Friday, not what you thought,\r\n-- and sex is what I&#39;m doing right now here, not what you thought\r\n```\r\n...touch the entity too:\r\n```java\r\n@Entity @Data\r\npublic class Schedule {\r\n  // ...\r\n  @Convert(converter = DayOfWeekConverter.class)\r\n  private DayOfWeek havingSexDay;\r\n}\r\n\r\n@Converter\r\npublic class DayOfWeekConverter\r\nimplements AttributeConverter&lt;DayOfWeek, String&gt; {\r\n  private static final Map&lt;DayOfWeek, String&gt; ENUM_ABBR = new HashMap&lt;&gt;(7, 1F);\r\n  private static final Map&lt;String, DayOfWeek&gt; ABBR_ENUM = new HashMap&lt;&gt;(7, 1F);\r\n  static {\r\n    for (DayOfWeek i : DayOfWeek.values()) {\r\n      String abbr = i.name().substring(0, 3).toLowerCase(Locale.ROOT);\r\n      ENUM_ABBR.put(i, abbr);\r\n      ABBR_ENUM.put(abbr, i);\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public String convertToDatabaseColumn(DayOfWeek attribute) {\r\n    return ENUM_ABBR.get(attribute);\r\n  }\r\n\r\n  @Override\r\n  public DayOfWeek convertToEntityAttribute(String dbData) {\r\n    return ABBR_ENUM.get(dbData);\r\n  }\r\n}\r\n```\r\n...and run:\r\n```\r\n215956.497 I main/Application : Schedule(id=0, daysOfWeek=[MONDAY, SUNDAY], havingSexDay=FRIDAY)\r\n```\r\nOkay, guys, the final stroke: Now I want Hibernate to read daysOfWeek written as three-letter abbreviations using the same converter:\r\n```java\r\n@Entity @Data\r\npublic class Schedule {\r\n  @Id @GeneratedValue\r\n  private Integer id;\r\n  @Convert(converter = DayOfWeekConverter.class) // &lt;-- IDE warns me here\r\n  private Set&lt;DayOfWeek&gt; daysOfWeek;\r\n  @Convert(converter = DayOfWeekConverter.class)\r\n  private DayOfWeek havingSexDay;\r\n}\r\n// The warning says: Converter&#39;s type DayOfWeek doesn&#39;t match\r\n// with the attribute type Set&lt;DayOfWeek&gt;. I know, bro, I know\r\n```\r\n...update the table:\r\n```postgres-sql\r\nupdate schedule\r\nset days_of_week = array[&#39;sun&#39;, &#39;mon&#39;]\r\nwhere id = 0;\r\n```\r\n...results in:\r\n```\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\nCaused by: org.springframework.orm.jpa.JpaSystemException: Unable to\r\n  extract JDBC value for position `2`\r\nCaused by: org.hibernate.HibernateException: Unable to extract JDBC\r\n  value for position `2`\r\nCaused by: java.lang.IllegalArgumentException: No enum constant\r\n  java.time.DayOfWeek.mon\r\n```\r\nagain. Surrendering I make this change:\r\n```java\r\n@Converter(autoApply = true)\r\npublic class DayOfWeekConverter\r\nimplements AttributeConverter&lt;DayOfWeek, String&gt; {\r\n  // ...\r\n}\r\n```\r\n...which yields the same result.\r\n\r\nPlease, help me move back and forth, back and forth days of weeks stored abbreviated in an array.\r\n\r\nThank you!\r\n\r\n---\r\n\r\n**UPD:** @EricGeorge, [suggested](https://stackoverflow.com/a/75113935/2634207) to try an `@ElementCollection`. `@ElementCollection` is for values stored in a different table (relation), not in an array column. But I tried anyway:\r\n```\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\nCaused by: org.springframework.dao.InvalidDataAccessResourceUsageException:\r\n  JDBC exception executing SQL [select d1_0.schedule_id,d1_0.days_of_week\r\n  from schedule_days_of_week d1_0 where d1_0.schedule_id=?]; SQL [n/a]\r\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing\r\n  SQL [select d1_0.schedule_id,d1_0.days_of_week from schedule_days_of_week d1_0\r\n  where d1_0.schedule_id=?]\r\nCaused by: org.postgresql.util.PSQLException:\r\n  ERROR: relation &quot;schedule_days_of_week&quot; does not exist\r\n```\r\nExpected. Sorry, Eric &#129335;&#127996;","title":"hibernate: How to read a set of enums stored in an array as custom codes","body":"<p>Subj is the question. Let me invite you to dive into some context. I make a brand-new DB containing the single table and fill that table with the single row:</p>\n<pre><code>create table schedule (\n  id int generated by default as identity (start with 100) primary key,\n  days_of_week char(3)[] not null check (true/*\n    here I unsure that days_of_week is a unidimensional\n    and it's not empty\n    and its length is equal to the length of an array\n    filled with unique values of days_of_week values only\n  */)\n);\n\ninsert into schedule (id, days_of_week) values\n(0, array['mon', 'tue', 'wed', 'thu', 'fri', 'sat', 'sun']);\n</code></pre>\n<p>...spawn the entity class (mixing lombok)</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity @Data\npublic class Schedule {\n  @Id @GeneratedValue\n  private Integer id;\n}\n\npublic interface ScheduleRepository\nextends CrudRepository&lt;Schedule, Integer&gt; {}\n</code></pre>\n<p>..and execute this setting with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nCommandLineRunner printAllSchedules(ScheduleRepository repository) {\n  return args -&gt; {\n    for (Schedule schedule : repository.findAll()) {\n      log.info(schedule.toString());\n    }\n  };\n}\n</code></pre>\n<p>Finally, I get:</p>\n<pre><code>213347.962 I main/Application : Schedule(id=0)\n</code></pre>\n<p>Voil! Now I add the missing attribute to my entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity @Data\npublic class Schedule {\n  @Id @GeneratedValue\n  private Integer id;\n  private Set&lt;DayOfWeek&gt; daysOfWeek;\n}\n</code></pre>\n<p>It fails (expectedly):</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\nCaused by: org.springframework.orm.jpa.JpaSystemException: Unable to\n  extract JDBC value for position `2`\nCaused by: org.hibernate.HibernateException: Unable to extract JDBC\n  value for position `2`\nCaused by: java.lang.ClassCastException: class java.lang.String cannot be cast\n  to class java.lang.Number (java.lang.String and java.lang.Number are in module\n  java.base of loader 'bootstrap')\n</code></pre>\n<p>Aha, just a moment:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Enumerated(EnumType.STRING)\n  private Set&lt;DayOfWeek&gt; daysOfWeek;\n</code></pre>\n<p>Run and get a different result:</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\nCaused by: org.springframework.orm.jpa.JpaSystemException: Unable to\n  extract JDBC value for position `2`\nCaused by: org.hibernate.HibernateException: Unable to extract JDBC\n  value for position `2`\nCaused by: java.lang.IllegalArgumentException: No enum constant\n  java.time.DayOfWeek.mon\n</code></pre>\n<p>Obviously, it reads the array from <code>days_of_week</code> column and tries to convert <code>mon</code> into any <code>DayOfWeek</code>, and it fails expectedly. Let's try to put in the table correct strings for days of week:</p>\n<pre><code>alter table schedule\nalter column days_of_week\nset data type varchar(9)[];\n\nupdate schedule\nset days_of_week = array['SUNDAY', 'MONDAY']\nwhere id = 0;\n</code></pre>\n<p>...and run:</p>\n<pre><code>215032.322 I main/Application : Schedule(id=0, daysOfWeek=[MONDAY, SUNDAY])\n</code></pre>\n<p>Now, let's add this column:</p>\n<pre><code>alter table schedule\nadd column having_sex_day char(3)\nnot null default 'fri';\n-- today, January 13, 23 is Friday, not what you thought,\n-- and sex is what I'm doing right now here, not what you thought\n</code></pre>\n<p>...touch the entity too:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity @Data\npublic class Schedule {\n  // ...\n  @Convert(converter = DayOfWeekConverter.class)\n  private DayOfWeek havingSexDay;\n}\n\n@Converter\npublic class DayOfWeekConverter\nimplements AttributeConverter&lt;DayOfWeek, String&gt; {\n  private static final Map&lt;DayOfWeek, String&gt; ENUM_ABBR = new HashMap&lt;&gt;(7, 1F);\n  private static final Map&lt;String, DayOfWeek&gt; ABBR_ENUM = new HashMap&lt;&gt;(7, 1F);\n  static {\n    for (DayOfWeek i : DayOfWeek.values()) {\n      String abbr = i.name().substring(0, 3).toLowerCase(Locale.ROOT);\n      ENUM_ABBR.put(i, abbr);\n      ABBR_ENUM.put(abbr, i);\n    }\n  }\n\n  @Override\n  public String convertToDatabaseColumn(DayOfWeek attribute) {\n    return ENUM_ABBR.get(attribute);\n  }\n\n  @Override\n  public DayOfWeek convertToEntityAttribute(String dbData) {\n    return ABBR_ENUM.get(dbData);\n  }\n}\n</code></pre>\n<p>...and run:</p>\n<pre><code>215956.497 I main/Application : Schedule(id=0, daysOfWeek=[MONDAY, SUNDAY], havingSexDay=FRIDAY)\n</code></pre>\n<p>Okay, guys, the final stroke: Now I want Hibernate to read daysOfWeek written as three-letter abbreviations using the same converter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity @Data\npublic class Schedule {\n  @Id @GeneratedValue\n  private Integer id;\n  @Convert(converter = DayOfWeekConverter.class) // &lt;-- IDE warns me here\n  private Set&lt;DayOfWeek&gt; daysOfWeek;\n  @Convert(converter = DayOfWeekConverter.class)\n  private DayOfWeek havingSexDay;\n}\n// The warning says: Converter's type DayOfWeek doesn't match\n// with the attribute type Set&lt;DayOfWeek&gt;. I know, bro, I know\n</code></pre>\n<p>...update the table:</p>\n<pre><code>update schedule\nset days_of_week = array['sun', 'mon']\nwhere id = 0;\n</code></pre>\n<p>...results in:</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\nCaused by: org.springframework.orm.jpa.JpaSystemException: Unable to\n  extract JDBC value for position `2`\nCaused by: org.hibernate.HibernateException: Unable to extract JDBC\n  value for position `2`\nCaused by: java.lang.IllegalArgumentException: No enum constant\n  java.time.DayOfWeek.mon\n</code></pre>\n<p>again. Surrendering I make this change:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Converter(autoApply = true)\npublic class DayOfWeekConverter\nimplements AttributeConverter&lt;DayOfWeek, String&gt; {\n  // ...\n}\n</code></pre>\n<p>...which yields the same result.</p>\n<p>Please, help me move back and forth, back and forth days of weeks stored abbreviated in an array.</p>\n<p>Thank you!</p>\n<hr />\n<p><strong>UPD:</strong> @EricGeorge, <a href=\"https://stackoverflow.com/a/75113935/2634207\">suggested</a> to try an <code>@ElementCollection</code>. <code>@ElementCollection</code> is for values stored in a different table (relation), not in an array column. But I tried anyway:</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\nCaused by: org.springframework.dao.InvalidDataAccessResourceUsageException:\n  JDBC exception executing SQL [select d1_0.schedule_id,d1_0.days_of_week\n  from schedule_days_of_week d1_0 where d1_0.schedule_id=?]; SQL [n/a]\nCaused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing\n  SQL [select d1_0.schedule_id,d1_0.days_of_week from schedule_days_of_week d1_0\n  where d1_0.schedule_id=?]\nCaused by: org.postgresql.util.PSQLException:\n  ERROR: relation &quot;schedule_days_of_week&quot; does not exist\n</code></pre>\n<p>Expected. Sorry, Eric </p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":928900,"reputation":2486,"user_id":959156,"accept_rate":100,"display_name":"Mostafa Zeinali"},"score":0,"creation_date":1673716760,"post_id":75101168,"comment_id":132562201,"body_markdown":"1. Does that directory exist? 2. Does it have a valid installation of Java in it (With the bin directory and all) 3. Does the version of Java (1.8) match the version of your source and compilation of your project. You might be using Post 9 (Modular) Java in your project but referencing a 1.8.","body":"1. Does that directory exist? 2. Does it have a valid installation of Java in it (With the bin directory and all) 3. Does the version of Java (1.8) match the version of your source and compilation of your project. You might be using Post 9 (Modular) Java in your project but referencing a 1.8."}],"answers":[{"tags":[],"owner":{"account_id":15203705,"reputation":914,"user_id":10970871,"display_name":"Milan Surelia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673594992,"creation_date":1673594992,"answer_id":75106045,"question_id":75101168,"body_markdown":"You need to add path for HOME directory of JDK Folder\r\n\r\n    C:\\Program Files\\Java\\jdk1.8.0_211\\Contents\\Home","title":"why is this an invalid directory?","body":"<p>You need to add path for HOME directory of JDK Folder</p>\n<pre><code>C:\\Program Files\\Java\\jdk1.8.0_211\\Contents\\Home\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15750890,"reputation":529,"user_id":11365488,"display_name":"Elfnan Sherif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673708431,"creation_date":1673708431,"answer_id":75118878,"question_id":75101168,"body_markdown":"i had same problem the solution i dowloaded Microsoft Visual C++ Redistributable from here\r\nhttps://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170\r\n\r\nhttps://issuetracker.google.com/issues/247854802#comment12\r\n","title":"why is this an invalid directory?","body":"<p>i had same problem the solution i dowloaded Microsoft Visual C++ Redistributable from here\n<a href=\"https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170</a></p>\n<p><a href=\"https://issuetracker.google.com/issues/247854802#comment12\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/247854802#comment12</a></p>\n"}],"owner":{"account_id":26718899,"reputation":3,"user_id":20323098,"display_name":"Al&#235;xxxiy69"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673719329,"creation_date":1673550268,"question_id":75101168,"body_markdown":"&gt;ERROR: JAVA_HOME is set to an invalid directory: C:\\Program Files\\Java\\jdk1.8.0_211\r\nPlease set the JAVA_HOME variable in your environment to match the\r\nlocation of your Java installation.\r\nException: Gradle task assembleDebug failed with exit code 1\r\n\r\n\r\nI had set the direction in the System Properties, but it didn&#39;t help","title":"why is this an invalid directory?","body":"<blockquote>\n<p>ERROR: JAVA_HOME is set to an invalid directory: C:\\Program Files\\Java\\jdk1.8.0_211\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\nException: Gradle task assembleDebug failed with exit code 1</p>\n</blockquote>\n<p>I had set the direction in the System Properties, but it didn't help</p>\n"},{"tags":["java","intellij-idea","compilation"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1598645101,"post_id":63640216,"comment_id":112536851,"body_markdown":"When do you get the &quot;Bad class file&quot; error?","body":"When do you get the &quot;Bad class file&quot; error?"},{"owner":{"account_id":9451033,"reputation":75,"user_id":10773441,"display_name":"mortimerfreeze"},"score":0,"creation_date":1598647163,"post_id":63640216,"comment_id":112537559,"body_markdown":"When trying to build.","body":"When trying to build."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":3,"creation_date":1598647182,"post_id":63640216,"comment_id":112537569,"body_markdown":"This project seems to use some library/classes that are compiled with Java 11 and will not work with Java 8. Does it help if you change the project SDK to 11?","body":"This project seems to use some library/classes that are compiled with Java 11 and will not work with Java 8. Does it help if you change the project SDK to 11?"},{"owner":{"account_id":9451033,"reputation":75,"user_id":10773441,"display_name":"mortimerfreeze"},"score":0,"creation_date":1598648134,"post_id":63640216,"comment_id":112537882,"body_markdown":"I uninstalled it but it was previously set to 11 and I got the &quot;invalid source release: 11&quot; error.","body":"I uninstalled it but it was previously set to 11 and I got the &quot;invalid source release: 11&quot; error."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1598650853,"post_id":63640216,"comment_id":112538631,"body_markdown":"Please share the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve).","body":"Please share the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":71523,"reputation":5162,"user_id":206877,"accept_rate":100,"display_name":"kevoroid"},"score":0,"creation_date":1607420166,"post_id":63640216,"comment_id":115260138,"body_markdown":"Having the same issue since i upgraded intelliJ to 2020.3 !! its like Android team and intelliJ team dont talk to each other! now intelliJ wants android 11 to compile my project but Android only works on 8! once you upgrade to 11, Android gives javax.xml.bind.JAXBException err!","body":"Having the same issue since i upgraded intelliJ to 2020.3 !! its like Android team and intelliJ team dont talk to each other! now intelliJ wants android 11 to compile my project but Android only works on 8! once you upgrade to 11, Android gives javax.xml.bind.JAXBException err!"}],"answers":[{"tags":[],"owner":{"account_id":179088,"reputation":555,"user_id":411495,"display_name":"Ward Muylaert"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671112259,"creation_date":1671112259,"answer_id":74812615,"question_id":63640216,"body_markdown":"I got the `class file has wrong version 55.0, should be 52.0` on the command line when compiling a project with Maven while my Java was set to version 8/1.8. I believe CrazyCoder was correct in the comments to the question that it had to do with the libraries/classes being used. I managed to compile the project by switching my Java version to 11.","title":"Class file has wrong version 55.0, should be 52.0 (IntelliJ)","body":"<p>I got the <code>class file has wrong version 55.0, should be 52.0</code> on the command line when compiling a project with Maven while my Java was set to version 8/1.8. I believe CrazyCoder was correct in the comments to the question that it had to do with the libraries/classes being used. I managed to compile the project by switching my Java version to 11.</p>\n"}],"owner":{"account_id":9451033,"reputation":75,"user_id":10773441,"display_name":"mortimerfreeze"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16471,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":1,"score":11,"last_activity_date":1673719265,"creation_date":1598644875,"question_id":63640216,"body_markdown":"Originally, when trying to compile the maven project in IntelliJ, I got the following error:\r\n\r\n```\r\nError:java: invalid source release: 11\r\n```\r\n\r\nI then began by following some of the solutions here: &lt;https://stackoverflow.com/questions/25878045/errorjava-invalid-source-release-8-in-intellij-what-does-it-mean/26009627#26009627&gt;\r\n\r\nThe previous projects I worked on were in Java 8, so after changing SDKs, language levels, JREs, etc. to Java 8, I have gotten this error:\r\n\r\n```\r\nBad class file. class file has wrong version 55.0, should be 52.0\r\n```\r\n\r\nI know this is essentially saying the class file is Java 11 and should be 8, but is there anything else I am missing that could still possibly be trying to use Java 11? I even uninstalled Java 11, but am still getting the same error.\r\n","title":"Class file has wrong version 55.0, should be 52.0 (IntelliJ)","body":"<p>Originally, when trying to compile the maven project in IntelliJ, I got the following error:</p>\n<pre><code>Error:java: invalid source release: 11\n</code></pre>\n<p>I then began by following some of the solutions here: <a href=\"https://stackoverflow.com/questions/25878045/errorjava-invalid-source-release-8-in-intellij-what-does-it-mean/26009627#26009627\">Error:java: invalid source release: 8 in Intellij. What does it mean?</a></p>\n<p>The previous projects I worked on were in Java 8, so after changing SDKs, language levels, JREs, etc. to Java 8, I have gotten this error:</p>\n<pre><code>Bad class file. class file has wrong version 55.0, should be 52.0\n</code></pre>\n<p>I know this is essentially saying the class file is Java 11 and should be 8, but is there anything else I am missing that could still possibly be trying to use Java 11? I even uninstalled Java 11, but am still getting the same error.</p>\n"},{"tags":["java","apache-flink"],"answers":[{"comments":[{"owner":{"account_id":6931602,"reputation":49,"user_id":5320934,"display_name":"sergiopf"},"score":0,"creation_date":1674646046,"post_id":75120155,"comment_id":132757530,"body_markdown":"Anyway I need all the data in the sinks. I have a timeout to allow the sinks to finish, i suppose that if I discard the sink I will lose the data.","body":"Anyway I need all the data in the sinks. I have a timeout to allow the sinks to finish, i suppose that if I discard the sink I will lose the data."},{"owner":{"account_id":82425,"reputation":8280,"user_id":231762,"display_name":"kkrugler"},"score":0,"creation_date":1674744509,"post_id":75120155,"comment_id":132782564,"body_markdown":"The `DiscardingSink` is there to terminate the workflow pipe. The data is sent by the preceding Async IO operator. Please take a look at the link to AsyncIO support.","body":"The <code>DiscardingSink</code> is there to terminate the workflow pipe. The data is sent by the preceding Async IO operator. Please take a look at the link to AsyncIO support."}],"tags":[],"owner":{"account_id":82425,"reputation":8280,"user_id":231762,"display_name":"kkrugler"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673719226,"creation_date":1673719226,"answer_id":75120155,"question_id":75117735,"body_markdown":"There are two issues that I see with the workflow...\r\n\r\n1. You shouldn&#39;t be doing a `inProgressSessionStream.broadcast()`\r\n1. For efficient async IO, you want to use Flink&#39;s [AsyncIO support][1], and then follow that with a DiscardingSink.\r\n\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/operators/asyncio/","title":"Sink in Flink blocks the task execution","body":"<p>There are two issues that I see with the workflow...</p>\n<ol>\n<li>You shouldn't be doing a <code>inProgressSessionStream.broadcast()</code></li>\n<li>For efficient async IO, you want to use Flink's <a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/operators/asyncio/\" rel=\"nofollow noreferrer\">AsyncIO support</a>, and then follow that with a DiscardingSink.</li>\n</ol>\n"}],"owner":{"account_id":6931602,"reputation":49,"user_id":5320934,"display_name":"sergiopf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673719226,"creation_date":1673697467,"question_id":75117735,"body_markdown":"I have a Sink in Flink, which extends from RichSinkFunction.\r\nIt delays the execution of all the Flink task (if I remove it, it takes a half, from 10&#39; to less than 5&#39;). This is its configuration:\r\n\r\n    OutputTag&lt;List&lt;SessionSinkModel&gt;&gt; inProgressSessionOutputTag = new OutputTag&lt;&gt;(ProcessorConstants.IN_PROGRESS_SESSIONS_SINK_NAME) {};           \r\n        \r\n    SingleOutputStreamOperator&lt;SessionAccumulator&gt; aggregatedSessionStream =\r\n        collectionMessageDataStream\r\n            .keyBy(CollectionMessage::getSessionId)\r\n            .process(sessionKeyedProcessFunction)\r\n            .uid(&quot;SessionWindow&quot;)\r\n            .name(&quot;Session Window&quot;)\r\n            .setParallelism(4);\r\n                \r\n    DataStream&lt;List&lt;SessionSinkModel&gt;&gt; inProgressSessionStream =  aggregatedSessionStream\r\n                                .getSideOutput(inProgressSessionOutputTag);\r\n                    \r\n    inProgressSessionStream\r\n        .broadcast()\r\n        .addSink(new SessionAPISink(config))\r\n        .uid(&quot;Sessions side output&quot;)\r\n        .name(&quot;Sessions side output&quot;);\r\n\r\nThis Sink sends massive data by POST to an endpoint, this POST call is asynchronous (as far as I know like the Sink call). I use the standard call using the output from *KeyedBroadcastProcessFunction.ReadOnlyContext* **ctx**.\r\n\r\n    ctx.output(outputTag, message);\r\n\r\nHow can I do to make this Sink not to block the task execution? ","title":"Sink in Flink blocks the task execution","body":"<p>I have a Sink in Flink, which extends from RichSinkFunction.\nIt delays the execution of all the Flink task (if I remove it, it takes a half, from 10' to less than 5'). This is its configuration:</p>\n<pre><code>OutputTag&lt;List&lt;SessionSinkModel&gt;&gt; inProgressSessionOutputTag = new OutputTag&lt;&gt;(ProcessorConstants.IN_PROGRESS_SESSIONS_SINK_NAME) {};           \n    \nSingleOutputStreamOperator&lt;SessionAccumulator&gt; aggregatedSessionStream =\n    collectionMessageDataStream\n        .keyBy(CollectionMessage::getSessionId)\n        .process(sessionKeyedProcessFunction)\n        .uid(&quot;SessionWindow&quot;)\n        .name(&quot;Session Window&quot;)\n        .setParallelism(4);\n            \nDataStream&lt;List&lt;SessionSinkModel&gt;&gt; inProgressSessionStream =  aggregatedSessionStream\n                            .getSideOutput(inProgressSessionOutputTag);\n                \ninProgressSessionStream\n    .broadcast()\n    .addSink(new SessionAPISink(config))\n    .uid(&quot;Sessions side output&quot;)\n    .name(&quot;Sessions side output&quot;);\n</code></pre>\n<p>This Sink sends massive data by POST to an endpoint, this POST call is asynchronous (as far as I know like the Sink call). I use the standard call using the output from <em>KeyedBroadcastProcessFunction.ReadOnlyContext</em> <strong>ctx</strong>.</p>\n<pre><code>ctx.output(outputTag, message);\n</code></pre>\n<p>How can I do to make this Sink not to block the task execution?</p>\n"},{"tags":["java","logging","slf4j","logback"],"comments":[{"owner":{"account_id":97082,"reputation":375036,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":9,"creation_date":1341565809,"post_id":11359187,"comment_id":14962717,"body_markdown":"I won&#39;t ask a closing, as this well presented question is interesting, but it&#39;s borderline if you read the FAQ : it will be hard to find a definitive unique answer not based on opinions.","body":"I won&#39;t ask a closing, as this well presented question is interesting, but it&#39;s borderline if you read the FAQ : it will be hard to find a definitive unique answer not based on opinions."},{"owner":{"account_id":97082,"reputation":375036,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":0,"creation_date":1341566041,"post_id":11359187,"comment_id":14962827,"body_markdown":"What you may have missed is that many framework authors gave up trying to use JUL and thus it&#39;s often harder to use it if you don&#39;t simply make vanilla java.","body":"What you may have missed is that many framework authors gave up trying to use JUL and thus it&#39;s often harder to use it if you don&#39;t simply make vanilla java."},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1341566347,"post_id":11359187,"comment_id":14962961,"body_markdown":"Thanks, dystroy, I&#39;m aware that it is difficult to find a unique answer. I&#39;ll reward the answer badge to the one that comes up with the one or several compelling reasons why I should not go with the JUL of today. This reason/reasons _must_ exist, otherwise all these facades and logging implementations wouldn&#39;t be in use.","body":"Thanks, dystroy, I&#39;m aware that it is difficult to find a unique answer. I&#39;ll reward the answer badge to the one that comes up with the one or several compelling reasons why I should not go with the JUL of today. This reason/reasons <i>must</i> exist, otherwise all these facades and logging implementations wouldn&#39;t be in use."},{"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"score":3,"creation_date":1341573990,"post_id":11359187,"comment_id":14966059,"body_markdown":"It is misleading to use the generic term &quot;logging-framework-X&quot; when referring to to popular logging framework(s) predating jul. You should use &quot;log4j&quot; in this case. Other popular frameworks such as SLF4J and logback came well after j.u.l was released.","body":"It is misleading to use the generic term &quot;logging-framework-X&quot; when referring to to popular logging framework(s) predating jul. You should use &quot;log4j&quot; in this case. Other popular frameworks such as SLF4J and logback came well after j.u.l was released."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1341920497,"post_id":11359187,"comment_id":15050001,"body_markdown":"There is one output handler that is very useful.  The one that sends a mail with the previous X log entries whenever a given criteria is full-filled.  That is quite useful when triaging.","body":"There is one output handler that is very useful.  The one that sends a mail with the previous X log entries whenever a given criteria is full-filled.  That is quite useful when triaging."},{"owner":{"account_id":1810587,"reputation":1264,"user_id":1646741,"accept_rate":75,"display_name":"Sami Korhonen"},"score":0,"creation_date":1360621033,"post_id":11359187,"comment_id":20764411,"body_markdown":"You should use .logp in order to avoid getSourceClassName call","body":"You should use .logp in order to avoid getSourceClassName call"},{"owner":{"account_id":1312307,"reputation":498,"user_id":1260069,"accept_rate":80,"display_name":"Acuariano"},"score":0,"creation_date":1466698204,"post_id":11359187,"comment_id":63437175,"body_markdown":"peterh or @Ceki, if you can add a comment on how things changed in the las 4 years, this would make this question/answers a lot more valuable.","body":"peterh or @Ceki, if you can add a comment on how things changed in the las 4 years, this would make this question/answers a lot more valuable."},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1466841390,"post_id":11359187,"comment_id":63493143,"body_markdown":"@Acuariano. I&#39;ve done a couple of APIs since then and only used SLF4J directly in one of these. Since then Netty project has taught me a way to create an API which is independent of all these logging preferences that people may have. I think that is the way forward for APIs.","body":"@Acuariano. I&#39;ve done a couple of APIs since then and only used SLF4J directly in one of these. Since then Netty project has taught me a way to create an API which is independent of all these logging preferences that people may have. I think that is the way forward for APIs."},{"owner":{"account_id":1312307,"reputation":498,"user_id":1260069,"accept_rate":80,"display_name":"Acuariano"},"score":0,"creation_date":1467121263,"post_id":11359187,"comment_id":63592308,"body_markdown":"Any pointers, reference or links on how that would go?","body":"Any pointers, reference or links on how that would go?"},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":1,"creation_date":1467125670,"post_id":11359187,"comment_id":63595682,"body_markdown":"@Acuariano. Netty project is simply using Reflection to test what logging framework is available on classpath. See [here](https://github.com/netty/netty/tree/4.1/common/src/main/java/io/netty/util/internal/logging) for source. See `InternalLoggerFactory.java`.","body":"@Acuariano. Netty project is simply using Reflection to test what logging framework is available on classpath. See <a href=\"https://github.com/netty/netty/tree/4.1/common/src/main/java/io/netty/util/internal/logging\" rel=\"nofollow noreferrer\">here</a> for source. See <code>InternalLoggerFactory.java</code>."},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra ika"},"score":0,"creation_date":1478107790,"post_id":11359187,"comment_id":68024077,"body_markdown":"One more reason against SLF4J/log4j: Broken by design for modularized classloading. We use JBoss Modules / Forge in our project, and log4j simply looks for log4j.properties resource through a classloader, so it ends up with one from any dependency. Which is typically not only wrong one, but also it&#39;s not deterministic - because modules loading is parallelized. So you end up with broken logging, and it&#39;s broken differently each time.","body":"One more reason against SLF4J/log4j: Broken by design for modularized classloading. We use JBoss Modules / Forge in our project, and log4j simply looks for log4j.properties resource through a classloader, so it ends up with one from any dependency. Which is typically not only wrong one, but also it&#39;s not deterministic - because modules loading is parallelized. So you end up with broken logging, and it&#39;s broken differently each time."},{"owner":{"account_id":5572088,"reputation":976,"user_id":4416941,"accept_rate":30,"display_name":"pojo-guy"},"score":0,"creation_date":1501021579,"post_id":11359187,"comment_id":77591421,"body_markdown":"No matter which java framework you use today, the core of it was written by @Ceki . JUL diverged around Java 1.4. The reasons for re-architecting were laid out in a 1999 article by Ceki.  With Ceki&#39;s answer, you have the answer of someone who has essentially done nothing but engineer java logging solutions for 20 years +/-, and who actually wrote most of the viable alternatives.","body":"No matter which java framework you use today, the core of it was written by @Ceki . JUL diverged around Java 1.4. The reasons for re-architecting were laid out in a 1999 article by Ceki.  With Ceki&#39;s answer, you have the answer of someone who has essentially done nothing but engineer java logging solutions for 20 years +/-, and who actually wrote most of the viable alternatives."},{"owner":{"account_id":71353,"reputation":16394,"user_id":206466,"accept_rate":70,"display_name":"xenoterracide"},"score":0,"creation_date":1528834739,"post_id":11359187,"comment_id":88655268,"body_markdown":"nice! question? any chance though you could modernize it for Java 8? since java 8 updated the JUL APIs... (specifically looking at performance analysis, and maybe trying to get people to look at the points like JUL supports callbacks, but SLF4j doesn&#39;t.","body":"nice! question? any chance though you could modernize it for Java 8? since java 8 updated the JUL APIs... (specifically looking at performance analysis, and maybe trying to get people to look at the points like JUL supports callbacks, but SLF4j doesn&#39;t."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1581673308,"post_id":11359187,"comment_id":106523172,"body_markdown":"@xenoterracide even more important would be an update to Java&#160;9, as it introduced `java.lang.System.Logger`, which is an *interface*, which can be redirected to whatever actual logging framework you want, as long as that framework caught up and provides an implementation of that interface. Combined with the modularization, you could even deploy an application with a bundled JRE not containing `java.util.logging`, if you prefer a different framework.","body":"@xenoterracide even more important would be an update to Java 9, as it introduced <code>java.lang.System.Logger</code>, which is an <i>interface</i>, which can be redirected to whatever actual logging framework you want, as long as that framework caught up and provides an implementation of that interface. Combined with the modularization, you could even deploy an application with a bundled JRE not containing <code>java.util.logging</code>, if you prefer a different framework."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1664703098,"post_id":11359187,"comment_id":130528619,"body_markdown":"Link to `java.lang.System.Logger`: https://docs.oracle.com/javase/9/docs/api/java/lang/System.Logger.html","body":"Link to <code>java.lang.System.Logger</code>: <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/System.Logger.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/9/docs/api/java/lang/System.Logger.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"score":0,"creation_date":1675171261,"post_id":11359187,"comment_id":132867512,"body_markdown":"Considering JUL can be redirected to other backends, why not check how it being redirected to slf4j or other facades would perform?","body":"Considering JUL can be redirected to other backends, why not check how it being redirected to slf4j or other facades would perform?"}],"answers":[{"comments":[{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":1,"creation_date":1341566586,"post_id":11359320,"comment_id":14963062,"body_markdown":"Thanks Joachim, I appreciate your post. Your (1) and (2) are to me just history. Long time ago. Your (4) is a consequence of that and then becomes what I call a cyclic argument. Your (3) is however really interesting. Maybe you are on to something? But this would only affect those who are building application containers which at the end of the day is very few people. Or what?","body":"Thanks Joachim, I appreciate your post. Your (1) and (2) are to me just history. Long time ago. Your (4) is a consequence of that and then becomes what I call a cyclic argument. Your (3) is however really interesting. Maybe you are on to something? But this would only affect those who are building application containers which at the end of the day is very few people. Or what?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":6,"creation_date":1341566876,"post_id":11359320,"comment_id":14963187,"body_markdown":"Well, who ignores history is doomed to repeate it ;-) History is **very** relevant in software development. People don&#39;t move too fast and replacing existing third-party libraries with standard APIs *only* works well if the standard APIs work *at least* as good as the third-party libraries. And they didn&#39;t initially (and arguably still don&#39;t in some cases).","body":"Well, who ignores history is doomed to repeate it ;-) History is <b>very</b> relevant in software development. People don&#39;t move too fast and replacing existing third-party libraries with standard APIs <i>only</i> works well if the standard APIs work <i>at least</i> as good as the third-party libraries. And they didn&#39;t initially (and arguably still don&#39;t in some cases)."},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1341568174,"post_id":11359320,"comment_id":14963794,"body_markdown":"Joachim,I&#39;m interested in those &quot;arguably still don&#39;t in some cases&quot; that you mention. That&#39;s were the meat has got to be. Replacing a logger library in your existing code is pretty trivial and can be automated these days. SLF4J has a tool for that which kind of proves my point. So I would think that a massive library written in 2002 with log4j could be converted to JUL in a matter of minutes with an automated tool. (I don&#39;t know if one exist, though). So why doesn&#39;t it happen?","body":"Joachim,I&#39;m interested in those &quot;arguably still don&#39;t in some cases&quot; that you mention. That&#39;s were the meat has got to be. Replacing a logger library in your existing code is pretty trivial and can be automated these days. SLF4J has a tool for that which kind of proves my point. So I would think that a massive library written in 2002 with log4j could be converted to JUL in a matter of minutes with an automated tool. (I don&#39;t know if one exist, though). So why doesn&#39;t it happen?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1341570468,"post_id":11359320,"comment_id":14964699,"body_markdown":"@nolan6000: I don&#39;t know enough about the specifics to go into details about that phrase, and it&#39;s not really the point I&#39;m making. Even if JUL is now on par with third-party frameworks, inertia and existing infrastructure is still a strong reason not to switch. For example if library X used slf4j in Version 1.1, switching to JUL in 1.2 (or even 2.0) would be a major problem for many users (who already correctly configured the old system and would have to re-do that for no apparent gain).","body":"@nolan6000: I don&#39;t know enough about the specifics to go into details about that phrase, and it&#39;s not really the point I&#39;m making. Even if JUL is now on par with third-party frameworks, inertia and existing infrastructure is still a strong reason not to switch. For example if library X used slf4j in Version 1.1, switching to JUL in 1.2 (or even 2.0) would be a major problem for many users (who already correctly configured the old system and would have to re-do that for no apparent gain)."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1341921042,"post_id":11359320,"comment_id":15050254,"body_markdown":"@nolan6000 even if _you_ do not care about history, the _libraries_ you use in your applications most certainly do.  No fun in having to discard a library simply because it used a different logging framework than you.","body":"@nolan6000 even if <i>you</i> do not care about history, the <i>libraries</i> you use in your applications most certainly do.  No fun in having to discard a library simply because it used a different logging framework than you."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1341921164,"post_id":11359320,"comment_id":15050304,"body_markdown":"@nolan6000 and using an automated tool to change the logging framework used in a given library (either by source or in - shudders - the binary) completely defies any efforts spent in using Maven or another dependency management tool.","body":"@nolan6000 and using an automated tool to change the logging framework used in a given library (either by source or in - shudders - the binary) completely defies any efforts spent in using Maven or another dependency management tool."},{"owner":{"account_id":701757,"reputation":121151,"user_id":592139,"display_name":"Ian Roberts"},"score":3,"creation_date":1531850900,"post_id":11359320,"comment_id":89747460,"body_markdown":"Point 3 here is still the most pertinent - it&#39;s precisely _because_ j.u.l is part of the platform that puts it at an immediate disadvantage.  Any other logging frameworks you can have different frameworks or different versions of the same framework in different classloaders with independent configuration, but j.u.l is on the bootstrap classpath so by definition has to be one set of configuration per JVM. The logging framework is something you specifically _don&#39;t want_ to be bundled with the JVM.","body":"Point 3 here is still the most pertinent - it&#39;s precisely <i>because</i> j.u.l is part of the platform that puts it at an immediate disadvantage.  Any other logging frameworks you can have different frameworks or different versions of the same framework in different classloaders with independent configuration, but j.u.l is on the bootstrap classpath so by definition has to be one set of configuration per JVM. The logging framework is something you specifically <i>don&#39;t want</i> to be bundled with the JVM."}],"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":7,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1639311168,"creation_date":1341566244,"answer_id":11359320,"question_id":11359187,"body_markdown":"1. `java.util.logging` was introduced in Java 1.4. There were uses for logging before that. That&#39;s why many other logging APIs exist. Those APIs were used heavily before Java 1.4 and thus had a great market share that didn&#39;t just drop to zero when 1.4 was release.\r\n\r\n2. JUL didn&#39;t start out all that great. Many of the things you mentioned were a lot worse in 1.4 and only got better in 1.5 (and I guess in 6 as well, but I&#39;m not too sure).\r\n\r\n3. JUL isn&#39;t well suited for multiple applications with different configurations in the same JVM (think multiple web applications that should not interact). Tomcat needs to jump through some hoops to get that working (effectively re-implementing JUL if I understood that correctly).\r\n\r\n4. You can&#39;t always influence what logging framework your libraries use. Therefore using SLF4J (which is actually just a very thin API layer above other libraries) helps keep a somewhat consistent picture of the entire logging world (so you can decide the underlying logging framework while still having library logging in the same system).\r\n\r\n5. Libraries can&#39;t easily change. If a previous version of a library used to use logging-library-X it can&#39;t easily switch to logging-library-Y (for example JUL), even if the latter is clearly superior. Any user of that library would need to learn the new logging framework and (at least) reconfigure their logging. That&#39;s a big no-no, especially when it brings no apparent gain to most people.\r\n\r\nHaving said all that I think JUL is *at least* a valid alternative to other logging frameworks these days.","title":"Why not use java.util.logging?","body":"<ol>\n<li><p><code>java.util.logging</code> was introduced in Java 1.4. There were uses for logging before that. That's why many other logging APIs exist. Those APIs were used heavily before Java 1.4 and thus had a great market share that didn't just drop to zero when 1.4 was release.</p>\n</li>\n<li><p>JUL didn't start out all that great. Many of the things you mentioned were a lot worse in 1.4 and only got better in 1.5 (and I guess in 6 as well, but I'm not too sure).</p>\n</li>\n<li><p>JUL isn't well suited for multiple applications with different configurations in the same JVM (think multiple web applications that should not interact). Tomcat needs to jump through some hoops to get that working (effectively re-implementing JUL if I understood that correctly).</p>\n</li>\n<li><p>You can't always influence what logging framework your libraries use. Therefore using SLF4J (which is actually just a very thin API layer above other libraries) helps keep a somewhat consistent picture of the entire logging world (so you can decide the underlying logging framework while still having library logging in the same system).</p>\n</li>\n<li><p>Libraries can't easily change. If a previous version of a library used to use logging-library-X it can't easily switch to logging-library-Y (for example JUL), even if the latter is clearly superior. Any user of that library would need to learn the new logging framework and (at least) reconfigure their logging. That's a big no-no, especially when it brings no apparent gain to most people.</p>\n</li>\n</ol>\n<p>Having said all that I think JUL is <em>at least</em> a valid alternative to other logging frameworks these days.</p>\n"},{"comments":[{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1341568685,"post_id":11359358,"comment_id":14964015,"body_markdown":"Thanks JB. My question is if I&#39;m really imposing that much on the user/implementer of my library by forcing JUL on him?  If he&#39;s unhappy with for example JUL&#39;s standard output handlers he can just swap them for his own at deployment time as I see it. I don&#39;t really see JUL as a straitjacket. It seems to me to be as flexible and extendible as the rest of them.","body":"Thanks JB. My question is if I&#39;m really imposing that much on the user/implementer of my library by forcing JUL on him?  If he&#39;s unhappy with for example JUL&#39;s standard output handlers he can just swap them for his own at deployment time as I see it. I don&#39;t really see JUL as a straitjacket. It seems to me to be as flexible and extendible as the rest of them."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":14,"creation_date":1341569541,"post_id":11359358,"comment_id":14964363,"body_markdown":"Except the end user could have already done this customization for his own code, or another library that uses log4j or LogBack. jul is extensible, but having to extend LogBack, jul, log4j and God only knows which other logging framework because he uses 4 libraries that use 4 different logging frameworks is cumbersome. By using slf4j, you allow him to configure the logging frameworks he wants. not the one you have chosen. Remember that typical projects use myriads of libraries, and not just yours.","body":"Except the end user could have already done this customization for his own code, or another library that uses log4j or LogBack. jul is extensible, but having to extend LogBack, jul, log4j and God only knows which other logging framework because he uses 4 libraries that use 4 different logging frameworks is cumbersome. By using slf4j, you allow him to configure the logging frameworks he wants. not the one you have chosen. Remember that typical projects use myriads of libraries, and not just yours."}],"tags":[],"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":2,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1341566385,"creation_date":1341566385,"answer_id":11359358,"question_id":11359187,"body_markdown":"IMHO, the main advantage in using a logging facade like slf4j is that you let the end-user of the library choose which concrete logging implementation he wants, rather than imposing your choice to the end user. \r\n\r\nMaybe he has invested time and money in Log4j or LogBack (special formatters, appenders, etc.) and prefers continuing using Log4j or LogBack, rather than configuring jul. No problem: slf4j allows that. Is it a wise choice to use Log4j over jul? Maybe, maybe not. But you don&#39;t care. Let the end user choose what he prefers.","title":"Why not use java.util.logging?","body":"<p>IMHO, the main advantage in using a logging facade like slf4j is that you let the end-user of the library choose which concrete logging implementation he wants, rather than imposing your choice to the end user. </p>\n\n<p>Maybe he has invested time and money in Log4j or LogBack (special formatters, appenders, etc.) and prefers continuing using Log4j or LogBack, rather than configuring jul. No problem: slf4j allows that. Is it a wise choice to use Log4j over jul? Maybe, maybe not. But you don't care. Let the end user choose what he prefers.</p>\n"},{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":5,"creation_date":1341920859,"post_id":11360517,"comment_id":15050156,"body_markdown":"@Ceki you may want to elaborate a bit on your disclaimer so it mentions your current role in the log4j, slf4j and logback projects.  The reason is naturally to explain your bias.","body":"@Ceki you may want to elaborate a bit on your disclaimer so it mentions your current role in the log4j, slf4j and logback projects.  The reason is naturally to explain your bias."},{"owner":{"account_id":459254,"reputation":986,"user_id":859604,"display_name":"Olivier Cailloux"},"score":2,"creation_date":1456823524,"post_id":11360517,"comment_id":59112888,"body_markdown":"Is there some support for the claim that most Java developers prefer SLF4J as their logging API?","body":"Is there some support for the claim that most Java developers prefer SLF4J as their logging API?"},{"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"score":3,"creation_date":1456908388,"post_id":11360517,"comment_id":59157997,"body_markdown":"The essence of my post is that different developers have different preferences which seems beyond dispute. Yes?","body":"The essence of my post is that different developers have different preferences which seems beyond dispute. Yes?"},{"owner":{"account_id":62540,"reputation":417,"user_id":185764,"accept_rate":90,"display_name":"fwonce"},"score":0,"creation_date":1469080891,"post_id":11360517,"comment_id":64392232,"body_markdown":"I&#39;m wondering will JDK adopt slf4j as part of it in the future.","body":"I&#39;m wondering will JDK adopt slf4j as part of it in the future."},{"owner":{"account_id":68665,"reputation":8103,"user_id":200224,"accept_rate":64,"display_name":"Andy"},"score":2,"creation_date":1496369683,"post_id":11360517,"comment_id":75644902,"body_markdown":"Another objective argument for j.u.l. is if you want the smallest download size for your Java app as possible, it will be smaller if you use j.u.l instead of bundling SLF4J or whatever with it.  It seems like Java is mostly just used for enterprise software these days, so people tend to forget this...","body":"Another objective argument for j.u.l. is if you want the smallest download size for your Java app as possible, it will be smaller if you use j.u.l instead of bundling SLF4J or whatever with it.  It seems like Java is mostly just used for enterprise software these days, so people tend to forget this..."},{"owner":{"account_id":68665,"reputation":8103,"user_id":200224,"accept_rate":64,"display_name":"Andy"},"score":3,"creation_date":1496370450,"post_id":11360517,"comment_id":75645065,"body_markdown":"Also, j.u.l. added support in 1.8 for `Supplier`s for generating log messages, which provides infinite flexibility in creating log messages without sacrificing disabled logging performance -- does SLF4J have a functional solution like that or only format string logging?","body":"Also, j.u.l. added support in 1.8 for <code>Supplier</code>s for generating log messages, which provides infinite flexibility in creating log messages without sacrificing disabled logging performance -- does SLF4J have a functional solution like that or only format string logging?"},{"owner":{"account_id":5572088,"reputation":976,"user_id":4416941,"accept_rate":30,"display_name":"pojo-guy"},"score":0,"creation_date":1501020993,"post_id":11360517,"comment_id":77591240,"body_markdown":"If I recall, wasn&#39;t the original release of JUL a buggy hack of log4j? Then JCL was a hasty attempt to blindly support a common API in response to and before Sun released the JUL?","body":"If I recall, wasn&#39;t the original release of JUL a buggy hack of log4j? Then JCL was a hasty attempt to blindly support a common API in response to and before Sun released the JUL?"},{"owner":{"account_id":71353,"reputation":16394,"user_id":206466,"accept_rate":70,"display_name":"xenoterracide"},"score":1,"creation_date":1528834971,"post_id":11360517,"comment_id":88655374,"body_markdown":"Objective argument in favor of JUL see @Andy&#39;s comment, SLF4J doesn&#39;t support it (I know I&#39;ve been following that bug for years).","body":"Objective argument in favor of JUL see @Andy&#39;s comment, SLF4J doesn&#39;t support it (I know I&#39;ve been following that bug for years)."},{"owner":{"account_id":71353,"reputation":16394,"user_id":206466,"accept_rate":70,"display_name":"xenoterracide"},"score":3,"creation_date":1528835558,"post_id":11360517,"comment_id":88655653,"body_markdown":"honestly though, I&#39;d love to see 2018 benchmarks on  Java 11 (or whatever that ends up being), and against log4j2 in async mode.","body":"honestly though, I&#39;d love to see 2018 benchmarks on  Java 11 (or whatever that ends up being), and against log4j2 in async mode."},{"owner":{"account_id":49071,"reputation":8690,"user_id":145976,"accept_rate":40,"display_name":"Charlie"},"score":13,"creation_date":1533509615,"post_id":11360517,"comment_id":90359131,"body_markdown":"Here I am, using SLF4J, and I *still* have to deal with all the other logging frameworks other libraries use. Using SLF4J does not solve the problem of heterogeneous loggers, it just makes it worse. https://xkcd.com/927/","body":"Here I am, using SLF4J, and I <i>still</i> have to deal with all the other logging frameworks other libraries use. Using SLF4J does not solve the problem of heterogeneous loggers, it just makes it worse. <a href=\"https://xkcd.com/927/\" rel=\"nofollow noreferrer\">xkcd.com/927</a>"},{"owner":{"account_id":5301023,"reputation":2603,"user_id":4230643,"accept_rate":80,"display_name":"Throw Away Account"},"score":3,"creation_date":1550797655,"post_id":11360517,"comment_id":96412972,"body_markdown":"LOL, I had to debug a project that used SLF4J yesterday. The logging functions did nothing, and determining why was impossible. java.util.logging failed too. So I resorted to writing a class that opens a file in append mode (which, like logging, Java turns into a Hard Problem that involves a quarter-dozen objects). Now I&#39;m debugging another Java project and logging doesn&#39;t work there, either! And I already deleted the other project, so I&#39;ll end up rewriting my file-appender from scratch. What I&#39;m not going to do is try to add SLF4J to the project.","body":"LOL, I had to debug a project that used SLF4J yesterday. The logging functions did nothing, and determining why was impossible. java.util.logging failed too. So I resorted to writing a class that opens a file in append mode (which, like logging, Java turns into a Hard Problem that involves a quarter-dozen objects). Now I&#39;m debugging another Java project and logging doesn&#39;t work there, either! And I already deleted the other project, so I&#39;ll end up rewriting my file-appender from scratch. What I&#39;m not going to do is try to add SLF4J to the project."},{"owner":{"account_id":2408521,"reputation":3734,"user_id":2104280,"accept_rate":78,"display_name":"Jan-Willem Gmelig Meyling"},"score":2,"creation_date":1609529141,"post_id":11360517,"comment_id":115861090,"body_markdown":"SLF4J forces transient dependencies on my end users (as a library). This transient dependency may collide with other libraries they are using, or versions of the library provided by for example an application server. The question this answer misses to address is IMO: is there a difference between OSS libraries, inhouse libraries/tools and applications? Should SLF4J be the go-to for any of these? Because a lot of libraries seem to prefer JUL still.","body":"SLF4J forces transient dependencies on my end users (as a library). This transient dependency may collide with other libraries they are using, or versions of the library provided by for example an application server. The question this answer misses to address is IMO: is there a difference between OSS libraries, inhouse libraries/tools and applications? Should SLF4J be the go-to for any of these? Because a lot of libraries seem to prefer JUL still."},{"owner":{"account_id":73432,"reputation":1895,"user_id":211453,"accept_rate":36,"display_name":"Wojtek"},"score":0,"creation_date":1688656493,"post_id":11360517,"comment_id":135106129,"body_markdown":"@Jan-WillemGmeligMeyling what transient dependencies? slf4j-api is 62K and has no dependencies...","body":"@Jan-WillemGmeligMeyling what transient dependencies? slf4j-api is 62K and has no dependencies..."},{"owner":{"account_id":73432,"reputation":1895,"user_id":211453,"accept_rate":36,"display_name":"Wojtek"},"score":0,"creation_date":1688656496,"post_id":11360517,"comment_id":135106130,"body_markdown":"@Ceki et all - how does slf4 compares to System.Logger? They do seem to overlapt, the latter (or rather it&#39;s JEP) states it not intended as common logging facade/framework but it&#39;s hard not to consider it as such...","body":"@Ceki et all - how does slf4 compares to System.Logger? They do seem to overlapt, the latter (or rather it&#39;s JEP) states it not intended as common logging facade/framework but it&#39;s hard not to consider it as such..."},{"owner":{"account_id":2408521,"reputation":3734,"user_id":2104280,"accept_rate":78,"display_name":"Jan-Willem Gmelig Meyling"},"score":0,"creation_date":1688718479,"post_id":11360517,"comment_id":135114240,"body_markdown":"@wojtek From the perspective of the application using the library, slf4j-api is the transitive dependency","body":"@wojtek From the perspective of the application using the library, slf4j-api is the transitive dependency"}],"tags":[],"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"comment_count":15,"down_vote_count":4,"up_vote_count":258,"is_accepted":true,"score":254,"last_activity_date":1543246254,"creation_date":1341570772,"answer_id":11360517,"question_id":11359187,"body_markdown":"**Disclaimer**: I am the founder of log4j, SLF4J and logback projects. \r\n\r\nThere are objective reasons for preferring SLF4J. For one, **SLF4J allows the end-user the liberty to choose the underlying logging framework**. In addition, savvier users tend to prefer [logback which offers capabilities beyond log4j][1], with j.u.l falling way behind. Feature-wise j.u.l  may be sufficient for some users but for many others it just isn&#39;t. In a nutshell, if logging is important to you, you would want to use SLF4J with logback as the underlying implementation. If logging is unimportant, j.u.l is fine.\r\n\r\nHowever, as an oss developer, you need to take into account the preferences of your users and not just your own. It follows that you should adopt SLF4J not because *you* are convinced that SLF4J is better than j.u.l but because most Java developers currently (July 2012) prefer SLF4J as their logging API. If ultimately you decide not to care about popular opinion, consider the following facts:\r\n\r\n 1. those who prefer j.u.l do so out of convenience because j.u.l is bundled with the JDK. To my knowledge there are no other objective arguments in favor of j.u.l.\r\n 2. your own preference for j.u.l is just that, *a preference*.\r\n\r\nThus, holding &quot;hard facts&quot; above public opinion, while seemingly brave, is a logical fallacy in this case.\r\n\r\nIf still not convinced, [JB Nizet][3] makes an additional and potent argument:\r\n\r\n&gt; Except the end user could have already done this customization for his\r\n&gt; own code, or another library that uses log4j or logback. j.u.l is\r\n&gt; extensible, but having to extend logback, j.u.l, log4j and God only\r\n&gt; knows which other logging framework because he uses four libraries that\r\n&gt; use four different logging frameworks is cumbersome. By using SLF4J, you\r\n&gt; allow him to configure the logging frameworks he wants, not the one\r\n&gt; you have chosen. **Remember that a typical project uses myriads of\r\n&gt; libraries, and not just yours**.\r\n\r\n\r\nIf for whatever reason you hate the SLF4J API and using it will snuff the fun out of your work, then by all means go for j.u.l. After all, there are means to [redirect j.u.l to SLF4J][2].\r\n\r\nBy the way, j.u.l parametrization is at least 10 times slower than SLF4J&#39;s which ends up making a noticeable difference.\r\n \r\n\r\n\r\n  [1]: http://logback.qos.ch/reasonsToSwitch.html\r\n  [2]: http://www.slf4j.org/legacy.html#jul-to-slf4j\r\n  [3]: https://stackoverflow.com/users/571407/jb-nizet","title":"Why not use java.util.logging?","body":"<p><strong>Disclaimer</strong>: I am the founder of log4j, SLF4J and logback projects. </p>\n\n<p>There are objective reasons for preferring SLF4J. For one, <strong>SLF4J allows the end-user the liberty to choose the underlying logging framework</strong>. In addition, savvier users tend to prefer <a href=\"http://logback.qos.ch/reasonsToSwitch.html\" rel=\"noreferrer\">logback which offers capabilities beyond log4j</a>, with j.u.l falling way behind. Feature-wise j.u.l  may be sufficient for some users but for many others it just isn't. In a nutshell, if logging is important to you, you would want to use SLF4J with logback as the underlying implementation. If logging is unimportant, j.u.l is fine.</p>\n\n<p>However, as an oss developer, you need to take into account the preferences of your users and not just your own. It follows that you should adopt SLF4J not because <em>you</em> are convinced that SLF4J is better than j.u.l but because most Java developers currently (July 2012) prefer SLF4J as their logging API. If ultimately you decide not to care about popular opinion, consider the following facts:</p>\n\n<ol>\n<li>those who prefer j.u.l do so out of convenience because j.u.l is bundled with the JDK. To my knowledge there are no other objective arguments in favor of j.u.l.</li>\n<li>your own preference for j.u.l is just that, <em>a preference</em>.</li>\n</ol>\n\n<p>Thus, holding \"hard facts\" above public opinion, while seemingly brave, is a logical fallacy in this case.</p>\n\n<p>If still not convinced, <a href=\"https://stackoverflow.com/users/571407/jb-nizet\">JB Nizet</a> makes an additional and potent argument:</p>\n\n<blockquote>\n  <p>Except the end user could have already done this customization for his\n  own code, or another library that uses log4j or logback. j.u.l is\n  extensible, but having to extend logback, j.u.l, log4j and God only\n  knows which other logging framework because he uses four libraries that\n  use four different logging frameworks is cumbersome. By using SLF4J, you\n  allow him to configure the logging frameworks he wants, not the one\n  you have chosen. <strong>Remember that a typical project uses myriads of\n  libraries, and not just yours</strong>.</p>\n</blockquote>\n\n<p>If for whatever reason you hate the SLF4J API and using it will snuff the fun out of your work, then by all means go for j.u.l. After all, there are means to <a href=\"http://www.slf4j.org/legacy.html#jul-to-slf4j\" rel=\"noreferrer\">redirect j.u.l to SLF4J</a>.</p>\n\n<p>By the way, j.u.l parametrization is at least 10 times slower than SLF4J's which ends up making a noticeable difference.</p>\n"},{"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1341921239,"post_id":11363369,"comment_id":15050341,"body_markdown":"Any reason you did not just use the &quot;redirect java.util.logging to slf4j&quot; package in the slf4j distribution?","body":"Any reason you did not just use the &quot;redirect java.util.logging to slf4j&quot; package in the slf4j distribution?"},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":2,"creation_date":1341921807,"post_id":11363369,"comment_id":15050601,"body_markdown":"We did, but to little value because the primary benefit of moving to slf4j is efficient parameterised logging. If we&#39;d used that from the start we would not have had any work to do now.","body":"We did, but to little value because the primary benefit of moving to slf4j is efficient parameterised logging. If we&#39;d used that from the start we would not have had any work to do now."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1341924409,"post_id":11363369,"comment_id":15051896,"body_markdown":"I agree that this is the low hanging fruit of slf4j.","body":"I agree that this is the low hanging fruit of slf4j."}],"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1341582123,"creation_date":1341582123,"answer_id":11363369,"question_id":11359187,"body_markdown":"I started, like you I suspect, using JUL because it was the easiest one to get going immediately. Over the years, however, I have come to wish I had spent a little more time choosing.\r\n\r\nMy main issue now is that we have a substantial amount of &#39;library&#39; code that is used in many applications and they all use JUL. Whenever I use these tools in a web-service type app the logging just disappears or goes somewhere unpredictable or strange.\r\n\r\nOur solution was to add a facade to the library code that meant that the library log calls did not change but were dynamically redirected to whatever logging mechanism is available. When included in a POJO tool they are directed to JUL but when deployed as a web-app they are redirected to LogBack.\r\n\r\nOur regret - of course - is that the library code does not use parameterised logging but this can now be retrofitted as and when needed.\r\n\r\nWe used slf4j to build the facade.","title":"Why not use java.util.logging?","body":"<p>I started, like you I suspect, using JUL because it was the easiest one to get going immediately. Over the years, however, I have come to wish I had spent a little more time choosing.</p>\n\n<p>My main issue now is that we have a substantial amount of 'library' code that is used in many applications and they all use JUL. Whenever I use these tools in a web-service type app the logging just disappears or goes somewhere unpredictable or strange.</p>\n\n<p>Our solution was to add a facade to the library code that meant that the library log calls did not change but were dynamically redirected to whatever logging mechanism is available. When included in a POJO tool they are directed to JUL but when deployed as a web-app they are redirected to LogBack.</p>\n\n<p>Our regret - of course - is that the library code does not use parameterised logging but this can now be retrofitted as and when needed.</p>\n\n<p>We used slf4j to build the facade.</p>\n"},{"comments":[{"owner":{"account_id":319988,"reputation":10980,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":4,"creation_date":1513522793,"post_id":40806112,"comment_id":82676768,"body_markdown":"You&#39;re not comparing like for like. Why are you explicitly creating an array for j.u.l.? I guess it&#39;s because slf4j lacks a one-argument overload of `logger.info()`. So you&#39;re deliberately crippling j.u.l. performance to compensate for a shortcoming in slf4j&#39;s interface. You should instead code both methods the way they are idiomatically coded.","body":"You&#39;re not comparing like for like. Why are you explicitly creating an array for j.u.l.? I guess it&#39;s because slf4j lacks a one-argument overload of <code>logger.info()</code>. So you&#39;re deliberately crippling j.u.l. performance to compensate for a shortcoming in slf4j&#39;s interface. You should instead code both methods the way they are idiomatically coded."},{"owner":{"account_id":4639875,"reputation":1695,"user_id":3760049,"accept_rate":86,"display_name":"riskop"},"score":6,"creation_date":1521701034,"post_id":40806112,"comment_id":85845063,"body_markdown":"You misunderstood it. You don&#39;t have to use an additional 800K. The consensus is that the **very thin** SLF4J api is worth to use because then you (or others who maybe reuse one day your code!) can switch freely among JUL, Logback, Log4j etc. SLF4J is only ~28K. SLF4J to JUL bridge (slf4j-jdk...jar) is only ~9K.","body":"You misunderstood it. You don&#39;t have to use an additional 800K. The consensus is that the <b>very thin</b> SLF4J api is worth to use because then you (or others who maybe reuse one day your code!) can switch freely among JUL, Logback, Log4j etc. SLF4J is only ~28K. SLF4J to JUL bridge (slf4j-jdk...jar) is only ~9K."}],"tags":[],"owner":{"account_id":235896,"reputation":1859,"user_id":503025,"accept_rate":21,"display_name":"weberjn"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1480080299,"creation_date":1480080299,"answer_id":40806112,"question_id":11359187,"body_markdown":"I ran jul against slf4j-1.7.21 over logback-1.1.7, output to an SSD, Java 1.8, Win64\r\n\r\njul ran 48449 ms, logback 27185 ms for an 1M loop.\r\n\r\nStill, a little more speed and a bit nicer API is not worth 3 libraries and 800K for me.\r\n\r\n    package log;\r\n    \r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    \r\n    public class LogJUL\r\n    {\r\n    \tfinal static Logger logger = Logger.getLogger(LogJUL.class.getSimpleName());\r\n    \t\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tint N = 1024*1024;\r\n    \t\t\r\n    \t\tlong l = System.currentTimeMillis();\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; N; i++)\r\n    \t\t{\r\n    \t\t\tLong lc = System.currentTimeMillis();\r\n    \t\t\t\r\n    \t\t\tObject[] o = { lc };\r\n    \t\t\t\r\n    \t\t\tlogger.log(Level.INFO,&quot;Epoch time {0}&quot;, o);\r\n    \t\t}\r\n    \t\t\r\n    \t\tl = System.currentTimeMillis() - l;\r\n    \t\t\r\n    \t\tSystem.out.printf(&quot;time (ms) %d%n&quot;, l);\r\n    \t}\r\n    }\r\n\r\nand\r\n\r\n    package log;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class LogSLF\r\n    {\r\n    \tstatic Logger logger = LoggerFactory.getLogger(LogSLF.class);\r\n    \r\n    \t\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tint N = 1024*1024;\r\n    \t\t\r\n    \t\tlong l = System.currentTimeMillis();\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; N; i++)\r\n    \t\t{\r\n    \t\t\tLong lc = System.currentTimeMillis();\r\n    \t\t\t\r\n    \t\t\tlogger.info(&quot;Epoch time {}&quot;, lc);\r\n    \t\t}\r\n    \t\t\r\n    \t\tl = System.currentTimeMillis() - l;\r\n    \t\t\r\n    \t\tSystem.out.printf(&quot;time (ms) %d%n&quot;, l);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"Why not use java.util.logging?","body":"<p>I ran jul against slf4j-1.7.21 over logback-1.1.7, output to an SSD, Java 1.8, Win64</p>\n\n<p>jul ran 48449 ms, logback 27185 ms for an 1M loop.</p>\n\n<p>Still, a little more speed and a bit nicer API is not worth 3 libraries and 800K for me.</p>\n\n<pre><code>package log;\n\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class LogJUL\n{\n    final static Logger logger = Logger.getLogger(LogJUL.class.getSimpleName());\n\n    public static void main(String[] args) \n    {\n        int N = 1024*1024;\n\n        long l = System.currentTimeMillis();\n\n        for (int i = 0; i &lt; N; i++)\n        {\n            Long lc = System.currentTimeMillis();\n\n            Object[] o = { lc };\n\n            logger.log(Level.INFO,\"Epoch time {0}\", o);\n        }\n\n        l = System.currentTimeMillis() - l;\n\n        System.out.printf(\"time (ms) %d%n\", l);\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>package log;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class LogSLF\n{\n    static Logger logger = LoggerFactory.getLogger(LogSLF.class);\n\n\n    public static void main(String[] args) \n    {\n        int N = 1024*1024;\n\n        long l = System.currentTimeMillis();\n\n        for (int i = 0; i &lt; N; i++)\n        {\n            Long lc = System.currentTimeMillis();\n\n            logger.info(\"Epoch time {}\", lc);\n        }\n\n        l = System.currentTimeMillis() - l;\n\n        System.out.printf(\"time (ms) %d%n\", l);\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1666854792,"post_id":74216588,"comment_id":131034900,"body_markdown":"Counter: It is indeed a stated non-goal of `System.Logger`. Yet, proponents argue that it actually fills the role. It does have the huge advantage that it is always available. So alternative logging facades (slf4j, elf4j, etc) will have an uphill battle arguing why their implementation is vastly superior to `System.Logger`. Will be interesting to follow.","body":"Counter: It is indeed a stated non-goal of <code>System.Logger</code>. Yet, proponents argue that it actually fills the role. It does have the huge advantage that it is always available. So alternative logging facades (slf4j, elf4j, etc) will have an uphill battle arguing why their implementation is vastly superior to <code>System.Logger</code>. Will be interesting to follow."},{"owner":{"account_id":6791856,"reputation":192,"user_id":5228704,"display_name":"q3769"},"score":1,"creation_date":1667062567,"post_id":74216588,"comment_id":131083978,"body_markdown":"True on the convinience factor for System.Logger. \n\nAs per reasons why use it for its non-goal, it&#39;s a matter of opinion and everybody has one. \n\nAs an API user, my main thing is always the API design&#39;s user-friendliness. System.Logger API is friendlier than JUL but these are still unfriendly to use: A. Numbered, instead of position-based, placeholder for message args; B. Inconsistent argument-supply syntax between log methods that take Throwable arg vs. those that don&#39;t. C. ResourceBundle syntactically appears in API instead of &quot;convention offline&quot;.","body":"True on the convinience factor for System.Logger.   As per reasons why use it for its non-goal, it&#39;s a matter of opinion and everybody has one.   As an API user, my main thing is always the API design&#39;s user-friendliness. System.Logger API is friendlier than JUL but these are still unfriendly to use: A. Numbered, instead of position-based, placeholder for message args; B. Inconsistent argument-supply syntax between log methods that take Throwable arg vs. those that don&#39;t. C. ResourceBundle syntactically appears in API instead of &quot;convention offline&quot;."},{"owner":{"account_id":5031827,"reputation":420,"user_id":5599966,"accept_rate":71,"display_name":"Mor Blau"},"score":0,"creation_date":1670330488,"post_id":74216588,"comment_id":131847190,"body_markdown":"@q3769 just to point out regarding the numbered-based placeholders - it&#39;s a big advantage in cases where you would use translations, and so in general I find it superior. I&#39;m not sure there&#39;s a case for it in logging, but who knows.","body":"@q3769 just to point out regarding the numbered-based placeholders - it&#39;s a big advantage in cases where you would use translations, and so in general I find it superior. I&#39;m not sure there&#39;s a case for it in logging, but who knows."},{"owner":{"account_id":6791856,"reputation":192,"user_id":5228704,"display_name":"q3769"},"score":1,"creation_date":1670420082,"post_id":74216588,"comment_id":131872125,"body_markdown":"@MorBlau the issue I had with using number-based placeholder in logging was it took much more time when you need to change positions of message args. E.g. when you have 5 args originally, and you want to drop the 2nd, move the 5th to the 3rd, and swap the 1st and 4th, all at the same time... Having to carry the index numbers and make sure they line up correctly becomes a drag rather than help - it&#39;s much easier to just read though the natural language order with positional/empty holders. Just my personal take but that was a big reason I stopped using JUL logging API.","body":"@MorBlau the issue I had with using number-based placeholder in logging was it took much more time when you need to change positions of message args. E.g. when you have 5 args originally, and you want to drop the 2nd, move the 5th to the 3rd, and swap the 1st and 4th, all at the same time... Having to carry the index numbers and make sure they line up correctly becomes a drag rather than help - it&#39;s much easier to just read though the natural language order with positional/empty holders. Just my personal take but that was a big reason I stopped using JUL logging API."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675357669,"post_id":74216588,"comment_id":132916532,"body_markdown":"It doesnt matter whether your placeholders contain numbers or not. In either case, the changes to the argument list require an adaptation to the message format. If your format string without indices doesnt line up with the arguments, the result will be a mess too. In the end, you are not independent of the back-end if you have to encode assumptions about the back-ends formatter. The only reasonable logging API is taking a just a `String` or `Supplier&lt;String&gt;`. No ambiguity. Your supplier can use whatever formatting API you prefer or just a string concatenation.","body":"It doesnt matter whether your placeholders contain numbers or not. In either case, the changes to the argument list require an adaptation to the message format. If your format string without indices doesnt line up with the arguments, the result will be a mess too. In the end, you are not independent of the back-end if you have to encode assumptions about the back-ends formatter. The only reasonable logging API is taking a just a <code>String</code> or <code>Supplier&lt;String&gt;</code>. No ambiguity. Your supplier can use whatever formatting API you prefer or just a string concatenation."},{"owner":{"account_id":6791856,"reputation":192,"user_id":5228704,"display_name":"q3769"},"score":0,"creation_date":1676324829,"post_id":74216588,"comment_id":133111239,"body_markdown":"It matters quite a bit for coding time needed to reconcile multiple arguments and change the entire log message structure: Saves ~50% time with positional (non-numbered) placeholders per my own experience. Much agreed logging argument substitution is not about formatting: Not the best of ideas trying to couple the two different concerns, as in most logging APIs. I disagree, though, that String and Supplier are the only reasonable logging argument types: As long as the logging API does not try to format the arguments after substitution, it should be fine.","body":"It matters quite a bit for coding time needed to reconcile multiple arguments and change the entire log message structure: Saves ~50% time with positional (non-numbered) placeholders per my own experience. Much agreed logging argument substitution is not about formatting: Not the best of ideas trying to couple the two different concerns, as in most logging APIs. I disagree, though, that String and Supplier are the only reasonable logging argument types: As long as the logging API does not try to format the arguments after substitution, it should be fine."}],"tags":[],"owner":{"account_id":6791856,"reputation":192,"user_id":5228704,"display_name":"q3769"},"comment_count":6,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673718855,"creation_date":1666842401,"answer_id":74216588,"question_id":11359187,"body_markdown":"Reasons why not JUL: \r\n\r\n1. User-unfriendly API design - The clumsy message arguments syntax, the strange definition of log levels... The list goes on.\r\n\r\n2. It is a logging implementation and not a Facade. \r\n\r\nAs the quoted blog post points out, it is a NON-goal of Java 9 System.Logger either to define a general-purpose interface for logging. Both SLF4J and Apache Commons Logging have attempted such Facade goal but IMHO both failed by providing too much implementation instead of sticking to the simple goal of a well-defined logging facade. E.g., a real logging facade would never be compared to any logging implementation on &quot;performance&quot; because a facade itself isn&#39;t expected to be logging.\r\n\r\nDisclaimer: For logging facade, I re-invent the wheel and use my own - https://github.com/elf4j/elf4j/","title":"Why not use java.util.logging?","body":"<p>Reasons why not JUL:</p>\n<ol>\n<li><p>User-unfriendly API design - The clumsy message arguments syntax, the strange definition of log levels... The list goes on.</p>\n</li>\n<li><p>It is a logging implementation and not a Facade.</p>\n</li>\n</ol>\n<p>As the quoted blog post points out, it is a NON-goal of Java 9 System.Logger either to define a general-purpose interface for logging. Both SLF4J and Apache Commons Logging have attempted such Facade goal but IMHO both failed by providing too much implementation instead of sticking to the simple goal of a well-defined logging facade. E.g., a real logging facade would never be compared to any logging implementation on &quot;performance&quot; because a facade itself isn't expected to be logging.</p>\n<p>Disclaimer: For logging facade, I re-invent the wheel and use my own - <a href=\"https://github.com/elf4j/elf4j/\" rel=\"nofollow noreferrer\">https://github.com/elf4j/elf4j/</a></p>\n"}],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87798,"favorite_count":0,"down_vote_count":1,"up_vote_count":439,"accepted_answer_id":11360517,"answer_count":6,"score":438,"last_activity_date":1673718855,"creation_date":1341565667,"question_id":11359187,"body_markdown":"For the first time in my life I find myself in a position where I&#39;m writing a Java API that will be open sourced. Hopefully to be included in many other projects.\r\n\r\nFor logging I (and indeed the people I work with) have always used JUL (`java.util.logging`) and never had any issues with it. However now I need to understand in more detail what I should do for my API development. I&#39;ve done some research on this and with the information I&#39;ve got I just get more confused. Hence this post.\r\n\r\nSince I come from JUL I&#39;m biased on that. My knowledge of the rest is not that big.\r\n\r\nFrom the research I&#39;ve done I&#39;ve come up with these reasons why people do not like JUL:\r\n\r\n1. *&quot;I started developing in Java long before Sun released JUL and it was just easier for me to continue with logging-framework-X rather than to learn something new&quot;*. Hmm. I&#39;m not kidding, this is actually what people say. With this argument we could all be doing COBOL. (however I can certainly relate to this being a lazy dude myself)\r\n\r\n2. *&quot;I don&#39;t like the names of the logging levels in JUL&quot;*. Ok, seriously, this is just not enough of a reason to introduce a new dependency.\r\n\r\n3. *&quot;I don&#39;t like the standard format of the output from JUL&quot;*. Hmm. This is just configuration. You do not even have to do anything code-wise. (true, back in old days you may have had to create your own Formatter class to get it right).\r\n\r\n4. *&quot;I use other libraries that also use logging-framework-X so I thought it easier just to use that one&quot;*. This is a circular argument, isn&#39;t ? Why does &#39;everybody&#39; use logging-framework-X and not JUL?\r\n\r\n5. *&quot;Everybody else is using logging-framework-X&quot;*. This to me is just a special case of the above. Majority is not always right.\r\n\r\n\r\nSo the real big question is **why not JUL?**. What is it I have missed ? The raison d&#39;&#234;tre for logging facades (SLF4J, JCL) is that multiple logging implementations have existed historically and the reason for that really goes back to the era before JUL as I see it. If JUL was perfect then logging facades wouldn&#39;t exist, or what? To make matters more confusing JUL is to some extent a facade itself, allowing Handlers, Formatters and even the LogManager to be swapped. \r\n\r\nRather than embracing multiple ways of doing the same thing (logging), shouldn&#39;t we question why they were necessary in the first place? (and see if those reasons still exist)\r\n\r\nOk, my research so far has led to a couple of things that I can see may be **real issues** with JUL:\r\n\r\n1. **Performance**. Some say that performance in SLF4J is superior to the rest. This seems to me to be a case of premature optimization. If you need to log hundreds of megabytes per second then I&#39;m not sure you are on the right path anyway. JUL has also evolved and the tests you did on Java 1.4 may no longer be true. You can read about it [here][1] and this fix has made it into Java 7. Many also talk about the overhead of string concatenation in logging methods. However template based logging avoids this cost and it exist also in JUL. Personally I never really write template based logging. Too lazy for that. For example if I do this with JUL:\r\n\r\n        log.finest(&quot;Lookup request from username=&quot; + username \r\n           + &quot;, valueX=&quot; + valueX\r\n           + &quot;, valueY=&quot; + valueY));\r\n\r\n    my IDE will warn me and ask permission that it should change it to:\r\n\r\n        log.log(Level.FINEST, &quot;Lookup request from username={0}, valueX={1}, valueY={2}&quot;, \r\n           new Object[]{username, valueX, valueY});\r\n\r\n    .. which I will of course accept. Permission granted ! Thank you for your help.\r\n\r\n    So I don&#39;t actually write such statements myself, that is done by the IDE.\r\n\r\n    In conclusion on the issue of performance I haven&#39;t found anything that would suggest that JUL&#39;s performance is not ok compared to the competition.\r\n\r\n\r\n2. **Configuration from classpath**. Out-of-the-box JUL cannot load a configuration file from the classpath. It is a [few lines of code][2] to make it do so. I can see why this may be annoying but the solution is short and simple.\r\n\r\n\r\n3. **Availability of output handlers**. JUL comes with 5 output handlers out-of-the-box: console, file stream, socket and memory. These can be extended or new ones can be written. This may for example be writing to UNIX/Linux Syslog and Windows Event Log. I have personally never had this requirement nor have I seen it used but I can certainly relate to why it may be a useful feature. Logback comes with an appender for Syslog for example. Still I would argue that\r\n    1. 99.5% of the needs for output destinations are covered by what is in JUL out-of-the-box.\r\n    2. Special needs could be catered for by custom handlers on top of JUL rather than on top of something else. There&#39;s nothing to me that suggests that it takes more time to write a Syslog output handler for JUL than it does for another logging framework.\r\n\r\n\r\nI&#39;m really concerned that there&#39;s something I&#39;ve overlooked. The use of logging facades  and logging implementations other than JUL is so widespread that I have to come to the conclusion that it&#39;s me who just doesn&#39;t understand. That wouldn&#39;t be the first time, I&#39;m afraid. :-)\r\n\r\nSo what should I do with my API?  I want it to become successful.  I can of course just &quot;go with the flow&quot; and implement SLF4J (which seems the most popular these days) but for my own sake I still need to understand exactly what is wrong with the JUL of today that warrants all the fuzz?  Will I sabotage myself by choosing JUL for my library ?\r\n\r\n\r\n## Testing performance \r\n*(section added by nolan600 on 07-JUL-2012)*\r\n\r\nThere&#39;s a reference below from Ceki about SLF4J&#39;s parametrization being 10 times or more faster than JUL&#39;s. So I&#39;ve started doing some simple tests. At first glance the claim is certainly correct. Here are the preliminary results (but read on!):\r\n\r\n* Execution time SLF4J, backend Logback: 1515\r\n* Execution time SLF4J, backend JUL: 12938\r\n* Execution time JUL: 16911\r\n\r\nThe numbers above are msecs so less is better. So 10 times performance difference is by first actually pretty close. My initial reaction: That is a lot !\r\n\r\nHere is the core of the test. As can be seen an integer and a string is construted in a loop which is then used in the log statement:\r\n\r\n        for (int i = 0; i &lt; noOfExecutions; i++) {\r\n            for (char x=32; x&lt;88; x++) {\r\n                String someString = Character.toString(x);\r\n                // here we log \r\n            }\r\n        }\r\n\r\n\r\n(I wanted the log statement to have both a primitive data type (in this case an int) and a more complex data type (in this case a String). Not sure it matters but there you have it.)\r\n\r\n\r\nThe log statement for SLF4J:\r\n\r\n    logger.info(&quot;Logging {} and {} &quot;, i, someString);\r\n\r\nThe log statement for JUL:\r\n\r\n    logger.log(Level.INFO, &quot;Logging {0} and {1}&quot;, new Object[]{i, someString});\r\n \r\n\r\nThe JVM was &#39;warmed up&#39; with the same test executed once before the actual measurement was done. Java 1.7.03 was used on Windows 7. Latest versions of SLF4J (v1.6.6) and Logback (v1.0.6) was used. Stdout and stderr was redirected to null device.\r\n\r\nHowever, careful now, it turns out JUL is spending most of its time in `getSourceClassName()` because JUL by default prints the source class name in the output, while Logback doesn&#39;t. So we are comparing apples and oranges. I have to do the test again and configure the logging implementations in a similar manner so that they actually output the same stuff. I do however suspect that SLF4J+Logback will still come out on top but far from the initial numbers as given above. Stay tuned.\r\n\r\nBtw: The test was first time I&#39;ve actually worked with SLF4J or Logback. A pleasant experience. JUL is certainly a lot less welcoming when you are starting out.\r\n\r\n## Testing performance (part 2)\r\n\r\n*(section added by nolan600 on 08-JUL-2012)*\r\n\r\nAs it turns out it doesn&#39;t really matter for performance how you configure your pattern in JUL, i.e. whether or not it includes the source name or not. I tried with a very simple pattern:\r\n\r\n    java.util.logging.SimpleFormatter.format=&quot;%4$s: %5$s [%1$tc]%n&quot;\r\n\r\nand that did not change the above timings at all. My profiler revealed that the logger still spent a lot of time in calls to `getSourceClassName()` even if this was not part of my pattern. The pattern doesn&#39;t matter.\r\n\r\nI&#39;m therefore concluding on the issue of performance that at least for the tested template based log statement there seems to be roughly a factor of 10 in real performance difference between JUL (slow) and SLF4J+Logback (quick). Just like Ceki said.\r\n\r\nI can also see another thing namely that SLF4J&#39;s `getLogger()` call is a lot more expensive than JUL&#39;s ditto. (95 ms vs 0.3 ms if my profiler is accurate). This makes sense. SLF4J has to do some time on the binding of the underlying logging implementation. This doesn&#39;t scare me. These calls should be somewhat rare in the lifetime of an application. The fastness should be in the actual log calls.\r\n\r\n\r\n# Final conclusion\r\n\r\n*(section added by peterh on 08-JUL-2012)*\r\n\r\nThank you for all your answers. Contrary to what I initially thought I&#39;ve ended up deciding to use SLF4J for my API. This is based on a number of things and your input:\r\n\r\n1. It gives flexibility to choose log implementation at deployment time.\r\n\r\n2. Issues with lack of flexibility of JUL&#39;s configuration when run inside an application server.\r\n\r\n3. SLF4J is certainly a lot faster as detailed above in particular if you couple it with Logback. Even if this was just a rough test I have reason to believe that a lot more effort has gone into optimization on SLF4J+Logback than on JUL.\r\n\r\n4. Documentation. The documentation for SLF4J is simply a lot more comprehensive and precise.\r\n\r\n5. Pattern flexibility. As I did the tests I set out to have JUL mimic the default pattern from Logback. This pattern includes the name of the thread. It turns out JUL cannot do this out of the box. Ok, I haven&#39;t missed it until now, but I don&#39;t think it is a thing that should be missing from a log framework. Period! \r\n\r\n6. Most (or many) Java projects today use Maven so adding a dependency is not that big a thing especially if that dependency is rather stable, i.e. doesn&#39;t constantly change its API. This seems to be true for SLF4J. Also the SLF4J jar and friends are small in size.\r\n\r\nSo the strange thing that happened was that I actually got quite upset with JUL after having worked a bit with SLF4J. I still regret that it has to be this way with JUL. JUL is far from perfect but kind of does the job. Just not quite well enough. The same can be said about `Properties` as an example but we do not think about abstracting that so people can plug in their own configuration library and what have you. I think the reason is that `Properties` comes in just above the bar while the opposite is true for JUL of today ... and in the past it came in at zero because it didn&#39;t exist.\r\n\r\n# Final-final conclusion (maybe)\r\n\r\n*(section added by peterh on 02-OCT-2022)*\r\n\r\nJava 9 introduced the [System.Logger][3] which is intended as a facade to logging implementations. Hence, as far as I can tell, it competes with SLF4J, but has the advantage that it is included with the JDK. **So perhaps library developers should use System.Logger rather than SLF4J** ?\r\n\r\nI find [this blog post][4] by Renato Athaydes to explain it quite well. (btw: the bug in the Log4j-v2 bridge mentioned by Renato seems to have been [fixed][5] with v2.13.2 of Log4j v2)\r\n\r\n\r\n  [1]: http://jeremymanson.blogspot.dk/2009/04/faster-logging-with-faster-logger.html\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug?bug_id=4958543\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.Logger.html\r\n  [4]: https://renato.athaydes.com/posts/java-system-logging.htm\r\n  [5]: https://issues.apache.org/jira/browse/LOG4J2-1360","title":"Why not use java.util.logging?","body":"<p>For the first time in my life I find myself in a position where I'm writing a Java API that will be open sourced. Hopefully to be included in many other projects.</p>\n<p>For logging I (and indeed the people I work with) have always used JUL (<code>java.util.logging</code>) and never had any issues with it. However now I need to understand in more detail what I should do for my API development. I've done some research on this and with the information I've got I just get more confused. Hence this post.</p>\n<p>Since I come from JUL I'm biased on that. My knowledge of the rest is not that big.</p>\n<p>From the research I've done I've come up with these reasons why people do not like JUL:</p>\n<ol>\n<li><p><em>&quot;I started developing in Java long before Sun released JUL and it was just easier for me to continue with logging-framework-X rather than to learn something new&quot;</em>. Hmm. I'm not kidding, this is actually what people say. With this argument we could all be doing COBOL. (however I can certainly relate to this being a lazy dude myself)</p>\n</li>\n<li><p><em>&quot;I don't like the names of the logging levels in JUL&quot;</em>. Ok, seriously, this is just not enough of a reason to introduce a new dependency.</p>\n</li>\n<li><p><em>&quot;I don't like the standard format of the output from JUL&quot;</em>. Hmm. This is just configuration. You do not even have to do anything code-wise. (true, back in old days you may have had to create your own Formatter class to get it right).</p>\n</li>\n<li><p><em>&quot;I use other libraries that also use logging-framework-X so I thought it easier just to use that one&quot;</em>. This is a circular argument, isn't ? Why does 'everybody' use logging-framework-X and not JUL?</p>\n</li>\n<li><p><em>&quot;Everybody else is using logging-framework-X&quot;</em>. This to me is just a special case of the above. Majority is not always right.</p>\n</li>\n</ol>\n<p>So the real big question is <strong>why not JUL?</strong>. What is it I have missed ? The raison d'tre for logging facades (SLF4J, JCL) is that multiple logging implementations have existed historically and the reason for that really goes back to the era before JUL as I see it. If JUL was perfect then logging facades wouldn't exist, or what? To make matters more confusing JUL is to some extent a facade itself, allowing Handlers, Formatters and even the LogManager to be swapped.</p>\n<p>Rather than embracing multiple ways of doing the same thing (logging), shouldn't we question why they were necessary in the first place? (and see if those reasons still exist)</p>\n<p>Ok, my research so far has led to a couple of things that I can see may be <strong>real issues</strong> with JUL:</p>\n<ol>\n<li><p><strong>Performance</strong>. Some say that performance in SLF4J is superior to the rest. This seems to me to be a case of premature optimization. If you need to log hundreds of megabytes per second then I'm not sure you are on the right path anyway. JUL has also evolved and the tests you did on Java 1.4 may no longer be true. You can read about it <a href=\"http://jeremymanson.blogspot.dk/2009/04/faster-logging-with-faster-logger.html\" rel=\"nofollow noreferrer\">here</a> and this fix has made it into Java 7. Many also talk about the overhead of string concatenation in logging methods. However template based logging avoids this cost and it exist also in JUL. Personally I never really write template based logging. Too lazy for that. For example if I do this with JUL:</p>\n<pre><code> log.finest(&quot;Lookup request from username=&quot; + username \n    + &quot;, valueX=&quot; + valueX\n    + &quot;, valueY=&quot; + valueY));\n</code></pre>\n<p>my IDE will warn me and ask permission that it should change it to:</p>\n<pre><code> log.log(Level.FINEST, &quot;Lookup request from username={0}, valueX={1}, valueY={2}&quot;, \n    new Object[]{username, valueX, valueY});\n</code></pre>\n<p>.. which I will of course accept. Permission granted ! Thank you for your help.</p>\n<p>So I don't actually write such statements myself, that is done by the IDE.</p>\n<p>In conclusion on the issue of performance I haven't found anything that would suggest that JUL's performance is not ok compared to the competition.</p>\n</li>\n<li><p><strong>Configuration from classpath</strong>. Out-of-the-box JUL cannot load a configuration file from the classpath. It is a <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4958543\" rel=\"nofollow noreferrer\">few lines of code</a> to make it do so. I can see why this may be annoying but the solution is short and simple.</p>\n</li>\n<li><p><strong>Availability of output handlers</strong>. JUL comes with 5 output handlers out-of-the-box: console, file stream, socket and memory. These can be extended or new ones can be written. This may for example be writing to UNIX/Linux Syslog and Windows Event Log. I have personally never had this requirement nor have I seen it used but I can certainly relate to why it may be a useful feature. Logback comes with an appender for Syslog for example. Still I would argue that</p>\n<ol>\n<li>99.5% of the needs for output destinations are covered by what is in JUL out-of-the-box.</li>\n<li>Special needs could be catered for by custom handlers on top of JUL rather than on top of something else. There's nothing to me that suggests that it takes more time to write a Syslog output handler for JUL than it does for another logging framework.</li>\n</ol>\n</li>\n</ol>\n<p>I'm really concerned that there's something I've overlooked. The use of logging facades  and logging implementations other than JUL is so widespread that I have to come to the conclusion that it's me who just doesn't understand. That wouldn't be the first time, I'm afraid. :-)</p>\n<p>So what should I do with my API?  I want it to become successful.  I can of course just &quot;go with the flow&quot; and implement SLF4J (which seems the most popular these days) but for my own sake I still need to understand exactly what is wrong with the JUL of today that warrants all the fuzz?  Will I sabotage myself by choosing JUL for my library ?</p>\n<h2>Testing performance</h2>\n<p><em>(section added by nolan600 on 07-JUL-2012)</em></p>\n<p>There's a reference below from Ceki about SLF4J's parametrization being 10 times or more faster than JUL's. So I've started doing some simple tests. At first glance the claim is certainly correct. Here are the preliminary results (but read on!):</p>\n<ul>\n<li>Execution time SLF4J, backend Logback: 1515</li>\n<li>Execution time SLF4J, backend JUL: 12938</li>\n<li>Execution time JUL: 16911</li>\n</ul>\n<p>The numbers above are msecs so less is better. So 10 times performance difference is by first actually pretty close. My initial reaction: That is a lot !</p>\n<p>Here is the core of the test. As can be seen an integer and a string is construted in a loop which is then used in the log statement:</p>\n<pre><code>    for (int i = 0; i &lt; noOfExecutions; i++) {\n        for (char x=32; x&lt;88; x++) {\n            String someString = Character.toString(x);\n            // here we log \n        }\n    }\n</code></pre>\n<p>(I wanted the log statement to have both a primitive data type (in this case an int) and a more complex data type (in this case a String). Not sure it matters but there you have it.)</p>\n<p>The log statement for SLF4J:</p>\n<pre><code>logger.info(&quot;Logging {} and {} &quot;, i, someString);\n</code></pre>\n<p>The log statement for JUL:</p>\n<pre><code>logger.log(Level.INFO, &quot;Logging {0} and {1}&quot;, new Object[]{i, someString});\n</code></pre>\n<p>The JVM was 'warmed up' with the same test executed once before the actual measurement was done. Java 1.7.03 was used on Windows 7. Latest versions of SLF4J (v1.6.6) and Logback (v1.0.6) was used. Stdout and stderr was redirected to null device.</p>\n<p>However, careful now, it turns out JUL is spending most of its time in <code>getSourceClassName()</code> because JUL by default prints the source class name in the output, while Logback doesn't. So we are comparing apples and oranges. I have to do the test again and configure the logging implementations in a similar manner so that they actually output the same stuff. I do however suspect that SLF4J+Logback will still come out on top but far from the initial numbers as given above. Stay tuned.</p>\n<p>Btw: The test was first time I've actually worked with SLF4J or Logback. A pleasant experience. JUL is certainly a lot less welcoming when you are starting out.</p>\n<h2>Testing performance (part 2)</h2>\n<p><em>(section added by nolan600 on 08-JUL-2012)</em></p>\n<p>As it turns out it doesn't really matter for performance how you configure your pattern in JUL, i.e. whether or not it includes the source name or not. I tried with a very simple pattern:</p>\n<pre><code>java.util.logging.SimpleFormatter.format=&quot;%4$s: %5$s [%1$tc]%n&quot;\n</code></pre>\n<p>and that did not change the above timings at all. My profiler revealed that the logger still spent a lot of time in calls to <code>getSourceClassName()</code> even if this was not part of my pattern. The pattern doesn't matter.</p>\n<p>I'm therefore concluding on the issue of performance that at least for the tested template based log statement there seems to be roughly a factor of 10 in real performance difference between JUL (slow) and SLF4J+Logback (quick). Just like Ceki said.</p>\n<p>I can also see another thing namely that SLF4J's <code>getLogger()</code> call is a lot more expensive than JUL's ditto. (95 ms vs 0.3 ms if my profiler is accurate). This makes sense. SLF4J has to do some time on the binding of the underlying logging implementation. This doesn't scare me. These calls should be somewhat rare in the lifetime of an application. The fastness should be in the actual log calls.</p>\n<h1>Final conclusion</h1>\n<p><em>(section added by peterh on 08-JUL-2012)</em></p>\n<p>Thank you for all your answers. Contrary to what I initially thought I've ended up deciding to use SLF4J for my API. This is based on a number of things and your input:</p>\n<ol>\n<li><p>It gives flexibility to choose log implementation at deployment time.</p>\n</li>\n<li><p>Issues with lack of flexibility of JUL's configuration when run inside an application server.</p>\n</li>\n<li><p>SLF4J is certainly a lot faster as detailed above in particular if you couple it with Logback. Even if this was just a rough test I have reason to believe that a lot more effort has gone into optimization on SLF4J+Logback than on JUL.</p>\n</li>\n<li><p>Documentation. The documentation for SLF4J is simply a lot more comprehensive and precise.</p>\n</li>\n<li><p>Pattern flexibility. As I did the tests I set out to have JUL mimic the default pattern from Logback. This pattern includes the name of the thread. It turns out JUL cannot do this out of the box. Ok, I haven't missed it until now, but I don't think it is a thing that should be missing from a log framework. Period!</p>\n</li>\n<li><p>Most (or many) Java projects today use Maven so adding a dependency is not that big a thing especially if that dependency is rather stable, i.e. doesn't constantly change its API. This seems to be true for SLF4J. Also the SLF4J jar and friends are small in size.</p>\n</li>\n</ol>\n<p>So the strange thing that happened was that I actually got quite upset with JUL after having worked a bit with SLF4J. I still regret that it has to be this way with JUL. JUL is far from perfect but kind of does the job. Just not quite well enough. The same can be said about <code>Properties</code> as an example but we do not think about abstracting that so people can plug in their own configuration library and what have you. I think the reason is that <code>Properties</code> comes in just above the bar while the opposite is true for JUL of today ... and in the past it came in at zero because it didn't exist.</p>\n<h1>Final-final conclusion (maybe)</h1>\n<p><em>(section added by peterh on 02-OCT-2022)</em></p>\n<p>Java 9 introduced the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.Logger.html\" rel=\"nofollow noreferrer\">System.Logger</a> which is intended as a facade to logging implementations. Hence, as far as I can tell, it competes with SLF4J, but has the advantage that it is included with the JDK. <strong>So perhaps library developers should use System.Logger rather than SLF4J</strong> ?</p>\n<p>I find <a href=\"https://renato.athaydes.com/posts/java-system-logging.htm\" rel=\"nofollow noreferrer\">this blog post</a> by Renato Athaydes to explain it quite well. (btw: the bug in the Log4j-v2 bridge mentioned by Renato seems to have been <a href=\"https://issues.apache.org/jira/browse/LOG4J2-1360\" rel=\"nofollow noreferrer\">fixed</a> with v2.13.2 of Log4j v2)</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"owner":{"account_id":24378426,"reputation":11,"user_id":18310391,"display_name":"MidacoYT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673718752,"creation_date":1672927595,"question_id":75019686,"body_markdown":"I would like some help with my mod I am doing in version 1.7.10.\r\nI made an overlay that is displayed when the player wins exp in his job(so an ExtendedEntityProperties) I made a feature that with a boolean display message = true to run it when the player wins the exp and displays the overlay unless it is not displayed. Here is the code of the extendedentity and the superposition.\r\n\r\nExtendedEntityProperties:\r\n```\r\npackage fr.valerium.valemod.jobs;\r\n\r\nimport java.util.HashMap;\r\n\r\nimport cpw.mods.fml.common.network.simpleimpl.IMessage;\r\nimport fr.valerium.valemod.ModVale;\r\nimport fr.valerium.valemod.jobs.Tasks.Tasks;\r\nimport fr.valerium.valemod.packets.PacketJobs;\r\nimport fr.valerium.valemod.utils.Utils;\r\nimport net.minecraft.client.Minecraft;\r\nimport net.minecraft.entity.Entity;\r\nimport net.minecraft.entity.player.EntityPlayer;\r\nimport net.minecraft.nbt.NBTTagCompound;\r\nimport net.minecraft.world.World;\r\nimport net.minecraftforge.common.IExtendedEntityProperties;\r\n\r\npublic class JobManager implements IExtendedEntityProperties {\r\n\r\n\tpublic final static String EXT_PROP_JOB = &quot;ExtPropJob&quot;;\r\n\r\n\tprivate final EntityPlayer player;\r\n\r\n\tpublic HashMap&lt;String, Integer&gt; levels;\r\n\tpublic HashMap&lt;String, Integer&gt; experience;\r\n\tpublic HashMap&lt;String, Long&gt; maxExperience;\r\n\r\n\tpublic static final int MINER = 1;\r\n\tpublic static final int FARMER = 2;\r\n\tpublic static final int HUNTER = 3;\r\n\tpublic static final int ALCHIMIST = 4;\r\n\r\n\tpublic static final String MINER_NAME = &quot;miner&quot;;\r\n\tpublic static final String FARMER_NAME = &quot;farmer&quot;;\r\n\tpublic static final String HUNTER_NAME = &quot;hunter&quot;;\r\n\tpublic static final String ALCHIMIST_NAME = &quot;alchimist&quot;;\r\n\r\n\tpublic static final int MAX_LEVEL = 20;\r\n\t\r\n\tOverlay overlay = new Overlay();\r\n\r\n\tpublic JobManager(EntityPlayer player) {\r\n\t\tthis.player = player;\r\n\r\n\t\tthis.levels = new HashMap&lt;String, Integer&gt;();\r\n\t\tthis.experience = new HashMap&lt;String, Integer&gt;();\r\n\t\tthis.maxExperience = new HashMap&lt;String, Long&gt;();\r\n\r\n\t\tthis.levels.put(MINER_NAME, 1);\r\n\t\tthis.experience.put(MINER_NAME, 0);\r\n\t\tthis.maxExperience.put(MINER_NAME, 200000L);\r\n\r\n\t\tthis.levels.put(FARMER_NAME, 1);\r\n\t\tthis.experience.put(FARMER_NAME, 0);\r\n\t\tthis.maxExperience.put(FARMER_NAME, 200000L);\r\n\r\n\t\tthis.levels.put(HUNTER_NAME, 1);\r\n\t\tthis.experience.put(HUNTER_NAME, 0);\r\n\t\tthis.maxExperience.put(HUNTER_NAME, 200000L);\r\n\r\n\t\tthis.levels.put(ALCHIMIST_NAME, 1);\r\n\t\tthis.experience.put(ALCHIMIST_NAME, 0);\r\n\t\tthis.maxExperience.put(ALCHIMIST_NAME, 200000L);\r\n\t}\r\n\r\n\tpublic void sync() {\r\n\t\tPacketJobs packet = new PacketJobs(levels, experience, maxExperience);\r\n\t\tModVale.network.sendToServer((IMessage) packet);\r\n\t}\r\n\r\n\tpublic static final void register(EntityPlayer player) {\r\n\t\tplayer.registerExtendedProperties(JobManager.EXT_PROP_JOB, new JobManager(player));\r\n\t}\r\n\r\n\tpublic static final JobManager get(EntityPlayer player) {\r\n\t\treturn (JobManager) player.getExtendedProperties(EXT_PROP_JOB);\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void saveNBTData(NBTTagCompound compound) {\r\n\t\tNBTTagCompound properties = new NBTTagCompound();\r\n\r\n\t\tfor (String job : levels.keySet()) {\r\n\t\t\tproperties.setInteger(job + &quot;Level&quot;, levels.get(job));\r\n\t\t\tproperties.setInteger(job + &quot;Experience&quot;, experience.get(job));\r\n\t\t\tproperties.setLong(job + &quot;MaxExperience&quot;, maxExperience.get(job));\r\n\t\t}\r\n\r\n\t\tsync();\r\n\r\n\t\tcompound.setTag(EXT_PROP_JOB, properties);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void loadNBTData(NBTTagCompound compound) {\r\n\t\tNBTTagCompound properties = (NBTTagCompound) compound.getTag(EXT_PROP_JOB);\r\n\r\n\t\tfor (String job : levels.keySet()) {\r\n\t\t\tlevels.put(job, properties.getInteger(job + &quot;Level&quot;));\r\n\t\t\texperience.put(job, properties.getInteger(job + &quot;Experience&quot;));\r\n\t\t\tmaxExperience.put(job, properties.getLong(job + &quot;MaxExperience&quot;));\r\n\t\t}\r\n\r\n\t\tsync();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void init(Entity entity, World world) {\r\n\t}\r\n\r\n\tpublic int getLevel(String job) {\r\n\t\tInteger level = levels.get(job);\r\n\t\treturn level == null ? 0 : level;\r\n\t}\r\n\r\n\tpublic void setLevel(String job, int level) {\r\n\t\tlevels.put(job, level);\r\n\t\tsync();\r\n\t}\r\n\r\n\tpublic int getExperience(String job) {\r\n\t\tInteger exp = experience.get(job);\r\n\t\treturn exp == null ? 0 : exp;\r\n\t}\r\n\r\n\tpublic void setExperience(String job, int exp) {\r\n\t\texperience.put(job, exp);\r\n\t\tsync();\r\n\t}\r\n\r\n\tpublic long getMaxExperience(String job) {\r\n\t\tLong maxExp = maxExperience.get(job);\r\n\t\treturn maxExp == null ? 0 : maxExp;\r\n\t}\r\n\r\n\tpublic void setMaxExperience(String job, long maxExp) {\r\n\t\tmaxExperience.put(job, maxExp);\r\n\t\tsync();\r\n\t}\r\n\r\n\tpublic void addExperience(String jobName, int xp) {\r\n\t\tint currentXp = experience.get(jobName);\r\n\t\tint newXp = currentXp + xp;\r\n\t\tint level = levels.get(jobName);\r\n\t\tlong maxXp = maxExperience.get(jobName);\r\n\t\twhile (newXp &gt;= maxXp &amp;&amp; level &lt; MAX_LEVEL) {\r\n\t\t    newXp -= maxXp;\r\n\t\t    level++;\r\n\t\t    maxXp = (long) (maxXp * 1.5);\r\n\t\t}\r\n\t\t\r\n\t\tTasks task = Utils.tasks.get(jobName);\r\n\t\toverlay.setTask(task, xp);\r\n\t\t\r\n\t\tlevels.put(jobName, level);\r\n\t\texperience.put(jobName, newXp);\r\n\t\tmaxExperience.put(jobName, maxXp);\r\n\t\tsync();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nOverlay :\r\n\r\n```\r\npackage fr.valerium.valemod.events;\r\n\r\nimport cpw.mods.fml.common.eventhandler.SubscribeEvent;\r\nimport fr.valerium.valemod.jobs.Tasks.Tasks;\r\nimport net.minecraft.client.Minecraft;\r\nimport net.minecraft.client.gui.FontRenderer;\r\nimport net.minecraft.client.renderer.Tessellator;\r\nimport net.minecraft.util.ResourceLocation;\r\nimport net.minecraftforge.client.event.RenderGameOverlayEvent;\r\n\r\npublic class OverlayRenderer {\r\n\r\n\tprivate static final int DISPLAY_DURATION = 20 * 2; // 20 ticks par seconde, dur&#233;e de 2 secondes\r\n\tprivate int timer = 0;\r\n\tprivate boolean displayMessage = true;\r\n\tprivate String message = &quot;Ceci est un overlay avec du texte.&quot;;\r\n\tTasks task;\r\n\tprivate int xp;\r\n\r\n\t@SubscribeEvent\r\n\tpublic void renderOverlay(RenderGameOverlayEvent.Text event) {\r\n\t\tif (displayMessage) {\r\n\t\t\tFontRenderer fontRenderer = Minecraft.getMinecraft().fontRenderer;\r\n\t\t\t// affiche le message en haut &#224; droite de l&#39;&#233;cran du joueur\r\n\t\t\tfontRenderer.drawString(message, event.resolution.getScaledWidth() - fontRenderer.getStringWidth(message) - 5, 5, 0xFFFFFF);\r\n\t\t\ttimer++;\r\n\t\t\tif (timer &gt; DISPLAY_DURATION) {\r\n\t\t\t\tdisplayMessage = false;\r\n\t\t\t\ttimer = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void setTask(Tasks task, int xp) {\r\n\t\tdisplayMessage = true;\r\n\t\tthis.task = task;\r\n\t\tthis.xp = xp;\r\n\t\ttimer = 0;\r\n\t}\r\n}\r\n```\r\n\r\nI tried to insert system.out.println(); everywhere and everything is good.\r\nThe overlay is instantiated, by default it is not displayed but if I make it display by default it works but not when I make it appear when we win from the exp.","title":"Minecraft overlay doesn&#39;t appear (1.7.10)","body":"<p>I would like some help with my mod I am doing in version 1.7.10.\nI made an overlay that is displayed when the player wins exp in his job(so an ExtendedEntityProperties) I made a feature that with a boolean display message = true to run it when the player wins the exp and displays the overlay unless it is not displayed. Here is the code of the extendedentity and the superposition.</p>\n<p>ExtendedEntityProperties:</p>\n<pre><code>package fr.valerium.valemod.jobs;\n\nimport java.util.HashMap;\n\nimport cpw.mods.fml.common.network.simpleimpl.IMessage;\nimport fr.valerium.valemod.ModVale;\nimport fr.valerium.valemod.jobs.Tasks.Tasks;\nimport fr.valerium.valemod.packets.PacketJobs;\nimport fr.valerium.valemod.utils.Utils;\nimport net.minecraft.client.Minecraft;\nimport net.minecraft.entity.Entity;\nimport net.minecraft.entity.player.EntityPlayer;\nimport net.minecraft.nbt.NBTTagCompound;\nimport net.minecraft.world.World;\nimport net.minecraftforge.common.IExtendedEntityProperties;\n\npublic class JobManager implements IExtendedEntityProperties {\n\n    public final static String EXT_PROP_JOB = &quot;ExtPropJob&quot;;\n\n    private final EntityPlayer player;\n\n    public HashMap&lt;String, Integer&gt; levels;\n    public HashMap&lt;String, Integer&gt; experience;\n    public HashMap&lt;String, Long&gt; maxExperience;\n\n    public static final int MINER = 1;\n    public static final int FARMER = 2;\n    public static final int HUNTER = 3;\n    public static final int ALCHIMIST = 4;\n\n    public static final String MINER_NAME = &quot;miner&quot;;\n    public static final String FARMER_NAME = &quot;farmer&quot;;\n    public static final String HUNTER_NAME = &quot;hunter&quot;;\n    public static final String ALCHIMIST_NAME = &quot;alchimist&quot;;\n\n    public static final int MAX_LEVEL = 20;\n    \n    Overlay overlay = new Overlay();\n\n    public JobManager(EntityPlayer player) {\n        this.player = player;\n\n        this.levels = new HashMap&lt;String, Integer&gt;();\n        this.experience = new HashMap&lt;String, Integer&gt;();\n        this.maxExperience = new HashMap&lt;String, Long&gt;();\n\n        this.levels.put(MINER_NAME, 1);\n        this.experience.put(MINER_NAME, 0);\n        this.maxExperience.put(MINER_NAME, 200000L);\n\n        this.levels.put(FARMER_NAME, 1);\n        this.experience.put(FARMER_NAME, 0);\n        this.maxExperience.put(FARMER_NAME, 200000L);\n\n        this.levels.put(HUNTER_NAME, 1);\n        this.experience.put(HUNTER_NAME, 0);\n        this.maxExperience.put(HUNTER_NAME, 200000L);\n\n        this.levels.put(ALCHIMIST_NAME, 1);\n        this.experience.put(ALCHIMIST_NAME, 0);\n        this.maxExperience.put(ALCHIMIST_NAME, 200000L);\n    }\n\n    public void sync() {\n        PacketJobs packet = new PacketJobs(levels, experience, maxExperience);\n        ModVale.network.sendToServer((IMessage) packet);\n    }\n\n    public static final void register(EntityPlayer player) {\n        player.registerExtendedProperties(JobManager.EXT_PROP_JOB, new JobManager(player));\n    }\n\n    public static final JobManager get(EntityPlayer player) {\n        return (JobManager) player.getExtendedProperties(EXT_PROP_JOB);\n\n    }\n\n    @Override\n    public void saveNBTData(NBTTagCompound compound) {\n        NBTTagCompound properties = new NBTTagCompound();\n\n        for (String job : levels.keySet()) {\n            properties.setInteger(job + &quot;Level&quot;, levels.get(job));\n            properties.setInteger(job + &quot;Experience&quot;, experience.get(job));\n            properties.setLong(job + &quot;MaxExperience&quot;, maxExperience.get(job));\n        }\n\n        sync();\n\n        compound.setTag(EXT_PROP_JOB, properties);\n    }\n\n    @Override\n    public void loadNBTData(NBTTagCompound compound) {\n        NBTTagCompound properties = (NBTTagCompound) compound.getTag(EXT_PROP_JOB);\n\n        for (String job : levels.keySet()) {\n            levels.put(job, properties.getInteger(job + &quot;Level&quot;));\n            experience.put(job, properties.getInteger(job + &quot;Experience&quot;));\n            maxExperience.put(job, properties.getLong(job + &quot;MaxExperience&quot;));\n        }\n\n        sync();\n    }\n\n    @Override\n    public void init(Entity entity, World world) {\n    }\n\n    public int getLevel(String job) {\n        Integer level = levels.get(job);\n        return level == null ? 0 : level;\n    }\n\n    public void setLevel(String job, int level) {\n        levels.put(job, level);\n        sync();\n    }\n\n    public int getExperience(String job) {\n        Integer exp = experience.get(job);\n        return exp == null ? 0 : exp;\n    }\n\n    public void setExperience(String job, int exp) {\n        experience.put(job, exp);\n        sync();\n    }\n\n    public long getMaxExperience(String job) {\n        Long maxExp = maxExperience.get(job);\n        return maxExp == null ? 0 : maxExp;\n    }\n\n    public void setMaxExperience(String job, long maxExp) {\n        maxExperience.put(job, maxExp);\n        sync();\n    }\n\n    public void addExperience(String jobName, int xp) {\n        int currentXp = experience.get(jobName);\n        int newXp = currentXp + xp;\n        int level = levels.get(jobName);\n        long maxXp = maxExperience.get(jobName);\n        while (newXp &gt;= maxXp &amp;&amp; level &lt; MAX_LEVEL) {\n            newXp -= maxXp;\n            level++;\n            maxXp = (long) (maxXp * 1.5);\n        }\n        \n        Tasks task = Utils.tasks.get(jobName);\n        overlay.setTask(task, xp);\n        \n        levels.put(jobName, level);\n        experience.put(jobName, newXp);\n        maxExperience.put(jobName, maxXp);\n        sync();\n    }\n\n}\n</code></pre>\n<p>Overlay :</p>\n<pre><code>package fr.valerium.valemod.events;\n\nimport cpw.mods.fml.common.eventhandler.SubscribeEvent;\nimport fr.valerium.valemod.jobs.Tasks.Tasks;\nimport net.minecraft.client.Minecraft;\nimport net.minecraft.client.gui.FontRenderer;\nimport net.minecraft.client.renderer.Tessellator;\nimport net.minecraft.util.ResourceLocation;\nimport net.minecraftforge.client.event.RenderGameOverlayEvent;\n\npublic class OverlayRenderer {\n\n    private static final int DISPLAY_DURATION = 20 * 2; // 20 ticks par seconde, dure de 2 secondes\n    private int timer = 0;\n    private boolean displayMessage = true;\n    private String message = &quot;Ceci est un overlay avec du texte.&quot;;\n    Tasks task;\n    private int xp;\n\n    @SubscribeEvent\n    public void renderOverlay(RenderGameOverlayEvent.Text event) {\n        if (displayMessage) {\n            FontRenderer fontRenderer = Minecraft.getMinecraft().fontRenderer;\n            // affiche le message en haut  droite de l'cran du joueur\n            fontRenderer.drawString(message, event.resolution.getScaledWidth() - fontRenderer.getStringWidth(message) - 5, 5, 0xFFFFFF);\n            timer++;\n            if (timer &gt; DISPLAY_DURATION) {\n                displayMessage = false;\n                timer = 0;\n            }\n        }\n    }\n    \n    public void setTask(Tasks task, int xp) {\n        displayMessage = true;\n        this.task = task;\n        this.xp = xp;\n        timer = 0;\n    }\n}\n</code></pre>\n<p>I tried to insert system.out.println(); everywhere and everything is good.\nThe overlay is instantiated, by default it is not displayed but if I make it display by default it works but not when I make it appear when we win from the exp.</p>\n"},{"tags":["java","datetime","timezone"],"answers":[{"comments":[{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1281368249,"post_id":3441609,"comment_id":3586201,"body_markdown":"...and has the concept of a LocalDateTime.","body":"...and has the concept of a LocalDateTime."},{"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"score":0,"creation_date":1281429630,"post_id":3441609,"comment_id":3593073,"body_markdown":"can you tell me how to do such a behaviour using joda time ?","body":"can you tell me how to do such a behaviour using joda time ?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1281431279,"post_id":3441609,"comment_id":3593283,"body_markdown":"@sword101: What behaviour *exactly*? If you just want an instant representing the current time (with no associated time zone) use `new Instant()`. If you want the current time and an associate with UTC, use `new DateTime(DateTimeZone.Utc)`.","body":"@sword101: What behaviour <i>exactly</i>? If you just want an instant representing the current time (with no associated time zone) use <code>new Instant()</code>. If you want the current time and an associate with UTC, use <code>new DateTime(DateTimeZone.Utc)</code>."},{"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"score":0,"creation_date":1281439724,"post_id":3441609,"comment_id":3594409,"body_markdown":"i just want to get current time in the timezone (GMT+3)","body":"i just want to get current time in the timezone (GMT+3)"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1281367967,"creation_date":1281367967,"answer_id":3441609,"question_id":3441555,"body_markdown":"`Timestamp` extends `Date` - it doesn&#39;t *have* a time zone, conceptually. It just represents an instant in time.\r\n\r\nIf you want to display it in a particular calendar with a particular time zone, that&#39;s a formatting issue. Create the appropriate calendar with the relevant time zone, and set the timestamp within it accordingly.\r\n\r\n(As per normal, I&#39;d like to recommend that you use [Joda Time][1] instead of the built-in API where possible. It&#39;s much cleaner.)\r\n\r\n\r\n  [1]: http://joda-time.sf.net","title":"How to get date in a specific timezone?","body":"<p><code>Timestamp</code> extends <code>Date</code> - it doesn't <em>have</em> a time zone, conceptually. It just represents an instant in time.</p>\n\n<p>If you want to display it in a particular calendar with a particular time zone, that's a formatting issue. Create the appropriate calendar with the relevant time zone, and set the timestamp within it accordingly.</p>\n\n<p>(As per normal, I'd like to recommend that you use <a href=\"http://joda-time.sf.net\" rel=\"nofollow noreferrer\">Joda Time</a> instead of the built-in API where possible. It's much cleaner.)</p>\n"},{"comments":[{"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"score":0,"creation_date":1281369999,"post_id":3441611,"comment_id":3586513,"body_markdown":"He is subtracting the offset of the default time zone, not the time zone he used to create the Calendar with.","body":"He is subtracting the offset of the default time zone, not the time zone he used to create the Calendar with."}],"tags":[],"owner":{"account_id":173570,"reputation":191,"user_id":402346,"display_name":"BruteForce"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1281367976,"creation_date":1281367976,"answer_id":3441611,"question_id":3441555,"body_markdown":"Why do you subtract the offset from the time in the last line? That is basically resetting your time back to GMT. You retrieve GMT+3 then you subtract 3 hours from that.","title":"How to get date in a specific timezone?","body":"<p>Why do you subtract the offset from the time in the last line? That is basically resetting your time back to GMT. You retrieve GMT+3 then you subtract 3 hours from that.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1281369060,"creation_date":1281368111,"answer_id":3441627,"question_id":3441555,"body_markdown":"What Jon said. A Timestamp does not have a time zone, it&#39;s always UTC, and really shouldn&#39;t be abused for representing local time. If you really need objects to represent local time, Joda Time [has a class for that][1]. \r\n\r\nAnd you should be aware that &quot;GMT+3&quot; is not a real valid time zone. A time zone has not just a base offset, but also a daylight savings time offset, which can be different for time zones with the same base offset, and can even change for the same time zone due to legislation. A real time zone ID is &quot;Europe/Berlin&quot; or &quot;Australia/Darwin&quot;.\r\n\r\n\r\n  [1]: http://joda-time.sourceforge.net/api-release/org/joda/time/LocalDateTime.html","title":"How to get date in a specific timezone?","body":"<p>What Jon said. A Timestamp does not have a time zone, it's always UTC, and really shouldn't be abused for representing local time. If you really need objects to represent local time, Joda Time <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/LocalDateTime.html\" rel=\"nofollow noreferrer\">has a class for that</a>. </p>\n\n<p>And you should be aware that \"GMT+3\" is not a real valid time zone. A time zone has not just a base offset, but also a daylight savings time offset, which can be different for time zones with the same base offset, and can even change for the same time zone due to legislation. A real time zone ID is \"Europe/Berlin\" or \"Australia/Darwin\".</p>\n"},{"tags":[],"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1281370379,"creation_date":1281370379,"answer_id":3441999,"question_id":3441555,"body_markdown":"`c.getTimeInMillis()` returns the number of milliseconds since January 1st, 1970 0:00 UTC and will return the same value, no matter which time zone is used in the Calendar instance. \r\n\r\nIf you create a Calendar with a time zone and need access to the time fields, you should access these directly:\r\n\r\n    int h = c.get(Calendar.HOUR_OF_DAY);\r\n    int m = c.get(Calendar.MINUTE);\r\n    int s = c.get(Calendar.SECOND);\r\n\r\n","title":"How to get date in a specific timezone?","body":"<p><code>c.getTimeInMillis()</code> returns the number of milliseconds since January 1st, 1970 0:00 UTC and will return the same value, no matter which time zone is used in the Calendar instance. </p>\n\n<p>If you create a Calendar with a time zone and need access to the time fields, you should access these directly:</p>\n\n<pre><code>int h = c.get(Calendar.HOUR_OF_DAY);\nint m = c.get(Calendar.MINUTE);\nint s = c.get(Calendar.SECOND);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2569236,"reputation":1249,"user_id":2228397,"display_name":"Tang Chanrith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490327778,"creation_date":1490326768,"answer_id":42991001,"question_id":3441555,"body_markdown":"Use the Timezone static method.\r\n\r\n    TimeZone default = TimeZone.getDefault();\r\n\r\n    TimeZone.setDefault(TimeZone.getTimeZone(&quot;GMT+3&quot;));\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.setTime(new Date(System.currentTimeMillis()));\r\n    Date date = cal.getTime(); // converted date time\r\n    System.out.println(date.toString());\r\n\r\n    // Set Back to System Default\r\n    TimeZone.setDefault(default);\r\n","title":"How to get date in a specific timezone?","body":"<p>Use the Timezone static method.</p>\n\n<pre><code>TimeZone default = TimeZone.getDefault();\n\nTimeZone.setDefault(TimeZone.getTimeZone(\"GMT+3\"));\nCalendar cal = Calendar.getInstance();\ncal.setTime(new Date(System.currentTimeMillis()));\nDate date = cal.getTime(); // converted date time\nSystem.out.println(date.toString());\n\n// Set Back to System Default\nTimeZone.setDefault(default);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1417867,"reputation":1821,"user_id":1343090,"accept_rate":0,"display_name":"Anand"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558067814,"creation_date":1558067814,"answer_id":56179685,"question_id":3441555,"body_markdown":"Sample Code to get Time in Different Time Zone\r\n\r\n    public class GetZoneDateTime {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tString reqTzId = &quot;Asia/Singapore&quot;;\r\n\t\t\r\n\t\tLocalDateTime now = LocalDateTime.now();\r\n\t\tSystem.out.println(&quot;Local Now: &quot; + now + &quot; TimeZone: &quot; + TimeZone.getDefault());\r\n\r\n\t\tZoneId zoneId = ZoneId.of(reqTzId);\r\n\t\tSystem.out.println(&quot;Req TimeZone : &quot; + zoneId);\r\n\r\n\t\tLocalDateTime localNow = LocalDateTime.now(zoneId);\r\n\t\tSystem.out.println(&quot;tzLocalDateTime: &quot; + localNow);\r\n\t\t\r\n\t\tZonedDateTime zoneNow = ZonedDateTime.now(zoneId);\r\n\t\tSystem.out.println(&quot;tzZonedDateTime: &quot; + zoneNow);\r\n\t}\r\n}","title":"How to get date in a specific timezone?","body":"<p>Sample Code to get Time in Different Time Zone</p>\n\n<pre><code>public class GetZoneDateTime {\n\npublic static void main(String[] args) throws Exception {\n    String reqTzId = \"Asia/Singapore\";\n\n    LocalDateTime now = LocalDateTime.now();\n    System.out.println(\"Local Now: \" + now + \" TimeZone: \" + TimeZone.getDefault());\n\n    ZoneId zoneId = ZoneId.of(reqTzId);\n    System.out.println(\"Req TimeZone : \" + zoneId);\n\n    LocalDateTime localNow = LocalDateTime.now(zoneId);\n    System.out.println(\"tzLocalDateTime: \" + localNow);\n\n    ZonedDateTime zoneNow = ZonedDateTime.now(zoneId);\n    System.out.println(\"tzZonedDateTime: \" + zoneNow);\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673718059,"creation_date":1673718059,"answer_id":75120021,"question_id":3441555,"body_markdown":"java.time\r\n--\r\n\r\nIn March 2014, the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) supplanted the legacy date-time API and since then it is strongly recommended to switch to `java.time`, the modern date-time API.\r\n\r\n**Solution using `java.time`, the modern Date-Time API:** The first important thing to understand is the difference between a ***timezone*** and a ***timezone offset***.\r\n\r\nA ***timezone*** is identified by an ID, typically in the form of a Region/City e.g. Europe/London. [Here](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones) you can check a list of tz database time zones. The `java.time` API provides with [`ZonedDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html) to represent a date-time with timezone.\r\n\r\nA ***timezone offset*** tells us the amount of time by which the time of a place is offset from the UTC e.g. 2011-12-03T10:15:30+01:00 which tells us that this date-time is offset by `01:00` hours from UTC i.e. we need to subtract `01:00` hours to get the equivalent date-time at UTC. The `java.time` API provides with [`OffsetDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html) to represent a date-time with time zone offset.\r\n\r\nSome time zones observe [DST](https://en.wikipedia.org/wiki/Daylight_saving_time) i.e. America/New_York observes an offset of `-05:00` hours in the winter while `-04:00` hours in the summer.[Here](https://www.timeanddate.com/time/change/usa/new-york) you can check an illustration.\r\n\r\nA `ZonedDateTime` automatically reflects the applicable offset while we create an `OffsetDateTime` with a fixed offset value. Thus, `GMT` and `GMT+3` mentioned in your question are not time zones, they represent time zone offset. A better and more modern way to write it is `Z` and `+03:00` respectively. \r\n\r\n\r\n**Demo:**\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.LocalTime;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZoneOffset;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            ZoneId zone = ZoneId.of(&quot;America/New_York&quot;);\r\n    \r\n            // Current date-time in America/New_York\r\n            System.out.println(ZonedDateTime.now(zone));\r\n    \r\n            // A sample winter date-time in America/New_York\r\n            System.out.println(ZonedDateTime.of(LocalDate.of(2023, 01, 14), LocalTime.of(10, 20, 30), zone));\r\n    \r\n            // A sample summer date-time in America/New_York\r\n            System.out.println(ZonedDateTime.of(LocalDate.of(2023, 06, 14), LocalTime.of(10, 20, 30), zone));\r\n    \r\n            // Current OffsetDateTime with an offset of 00:00 hours (UTC time)\r\n            System.out.println(OffsetDateTime.now(ZoneOffset.UTC));\r\n    \r\n            // Current OffsetDateTime with an offset of 05:30 hours\r\n            OffsetDateTime odt = OffsetDateTime.now(ZoneOffset.of(&quot;+05:30&quot;));\r\n            System.out.println(odt);\r\n            // The same OffsetDateTime converted to UTC time (will be 05:30 less)\r\n            System.out.println(odt.withOffsetSameInstant(ZoneOffset.UTC));\r\n        }\r\n    }\r\n    \r\n**Output from a sample run:**\r\n\r\n    2023-01-14T12:40:04.348474-05:00[America/New_York]\r\n    2023-01-14T10:20:30-05:00[America/New_York]\r\n    2023-06-14T10:20:30-04:00[America/New_York]\r\n    2023-01-14T17:40:04.352982Z\r\n    2023-01-14T23:10:04.353969+05:30\r\n    2023-01-14T17:40:04.353969Z\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/yQGT30)\r\n\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"How to get date in a specific timezone?","body":"<h2>java.time</h2>\n<p>In March 2014, the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a> supplanted the legacy date-time API and since then it is strongly recommended to switch to <code>java.time</code>, the modern date-time API.</p>\n<p><strong>Solution using <code>java.time</code>, the modern Date-Time API:</strong> The first important thing to understand is the difference between a <em><strong>timezone</strong></em> and a <em><strong>timezone offset</strong></em>.</p>\n<p>A <em><strong>timezone</strong></em> is identified by an ID, typically in the form of a Region/City e.g. Europe/London. <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">Here</a> you can check a list of tz database time zones. The <code>java.time</code> API provides with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a> to represent a date-time with timezone.</p>\n<p>A <em><strong>timezone offset</strong></em> tells us the amount of time by which the time of a place is offset from the UTC e.g. 2011-12-03T10:15:30+01:00 which tells us that this date-time is offset by <code>01:00</code> hours from UTC i.e. we need to subtract <code>01:00</code> hours to get the equivalent date-time at UTC. The <code>java.time</code> API provides with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a> to represent a date-time with time zone offset.</p>\n<p>Some time zones observe <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"nofollow noreferrer\">DST</a> i.e. America/New_York observes an offset of <code>-05:00</code> hours in the winter while <code>-04:00</code> hours in the summer.<a href=\"https://www.timeanddate.com/time/change/usa/new-york\" rel=\"nofollow noreferrer\">Here</a> you can check an illustration.</p>\n<p>A <code>ZonedDateTime</code> automatically reflects the applicable offset while we create an <code>OffsetDateTime</code> with a fixed offset value. Thus, <code>GMT</code> and <code>GMT+3</code> mentioned in your question are not time zones, they represent time zone offset. A better and more modern way to write it is <code>Z</code> and <code>+03:00</code> respectively.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.LocalDate;\nimport java.time.LocalTime;\nimport java.time.OffsetDateTime;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\nimport java.time.ZonedDateTime;\n\nclass Main {\n    public static void main(String[] args) {\n        ZoneId zone = ZoneId.of(&quot;America/New_York&quot;);\n\n        // Current date-time in America/New_York\n        System.out.println(ZonedDateTime.now(zone));\n\n        // A sample winter date-time in America/New_York\n        System.out.println(ZonedDateTime.of(LocalDate.of(2023, 01, 14), LocalTime.of(10, 20, 30), zone));\n\n        // A sample summer date-time in America/New_York\n        System.out.println(ZonedDateTime.of(LocalDate.of(2023, 06, 14), LocalTime.of(10, 20, 30), zone));\n\n        // Current OffsetDateTime with an offset of 00:00 hours (UTC time)\n        System.out.println(OffsetDateTime.now(ZoneOffset.UTC));\n\n        // Current OffsetDateTime with an offset of 05:30 hours\n        OffsetDateTime odt = OffsetDateTime.now(ZoneOffset.of(&quot;+05:30&quot;));\n        System.out.println(odt);\n        // The same OffsetDateTime converted to UTC time (will be 05:30 less)\n        System.out.println(odt.withOffsetSameInstant(ZoneOffset.UTC));\n    }\n}\n</code></pre>\n<p><strong>Output from a sample run:</strong></p>\n<pre><code>2023-01-14T12:40:04.348474-05:00[America/New_York]\n2023-01-14T10:20:30-05:00[America/New_York]\n2023-06-14T10:20:30-04:00[America/New_York]\n2023-01-14T17:40:04.352982Z\n2023-01-14T23:10:04.353969+05:30\n2023-01-14T17:40:04.353969Z\n</code></pre>\n<p><a href=\"https://ideone.com/yQGT30\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":189816,"reputation":33533,"user_id":429377,"accept_rate":91,"display_name":"Mahmoud Saleh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11616,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":3441609,"answer_count":7,"score":0,"last_activity_date":1673718059,"creation_date":1281367552,"question_id":3441555,"body_markdown":"greetings all\r\ni am using the following method to get the current time in GMT timezone\r\n\r\n    public static Timestamp getCurrentTimeGMT() {\r\n    \r\n    \t\tCalendar c = Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    \t\tlong time = c.getTimeInMillis();\r\n    \t\tlong offset = TimeZone.getDefault().getOffset(time);\r\n    \t\treturn new Timestamp(time - offset);\r\n    \r\n    \t}\r\n\r\nbut when i try to use the same method with minor changes to get the current time in GMT+3\r\nit gives me the same result of GMT ? i don&#39;t know why:\r\n\r\n    public static Timestamp getCurrentTimeGMT3() {\r\n\r\n\t\tCalendar c = Calendar.getInstance(TimeZone.getTimeZone(&quot;GMT+3&quot;));\r\n\t\tlong time = c.getTimeInMillis();\r\n\t\tlong offset = TimeZone.getDefault().getOffset(time);\r\n\t\treturn new Timestamp(time - offset);\r\n\r\n\t}\r\n\r\nany ideas why the above code doesn&#39;t work properly, and how to do such a method ?\r\n","title":"How to get date in a specific timezone?","body":"<p>greetings all\ni am using the following method to get the current time in GMT timezone</p>\n\n<pre><code>public static Timestamp getCurrentTimeGMT() {\n\n        Calendar c = Calendar.getInstance(TimeZone.getTimeZone(\"GMT\"));\n        long time = c.getTimeInMillis();\n        long offset = TimeZone.getDefault().getOffset(time);\n        return new Timestamp(time - offset);\n\n    }\n</code></pre>\n\n<p>but when i try to use the same method with minor changes to get the current time in GMT+3\nit gives me the same result of GMT ? i don't know why:</p>\n\n<pre><code>public static Timestamp getCurrentTimeGMT3() {\n\n    Calendar c = Calendar.getInstance(TimeZone.getTimeZone(\"GMT+3\"));\n    long time = c.getTimeInMillis();\n    long offset = TimeZone.getDefault().getOffset(time);\n    return new Timestamp(time - offset);\n\n}\n</code></pre>\n\n<p>any ideas why the above code doesn't work properly, and how to do such a method ?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":23118939,"reputation":67,"user_id":17225742,"display_name":"Rifaldi"},"score":0,"creation_date":1674023311,"post_id":75118977,"comment_id":132623788,"body_markdown":"You need edit sharedpreference value with current value. Since you didn&#39;t edit value, sharedpreference will and always start with last saved value.","body":"You need edit sharedpreference value with current value. Since you didn&#39;t edit value, sharedpreference will and always start with last saved value."}],"owner":{"account_id":27369510,"reputation":1,"user_id":20875777,"display_name":"Ahmad Hasan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673717846,"creation_date":1673709368,"question_id":75118977,"body_markdown":"Hello so I have a App about a fact and tip each 24 hours it displays a fact or tip!\r\nI am pretty new to Android studio anyways to keep track of the fact and tip the user is in I used a variabe &quot;timing&quot; in the start timer i put when the mTimeLeftInMillis == 0 then make timing = 1 and if timing == 1 then do that but ya for that it&#39;s not the case!\r\nwhen the user leaves the timing variable resets and goes back to 124!\r\nCould someone please help me! I tried to do shared perferences in it but It didn&#39;t work!\r\nhere is my java code!\r\n\r\n    public class MainActivity extends AppCompatActivity implements View.OnClickListener{\r\n        private static final long START_TIME_IN_MILLIS = 30000;\r\n    \r\n        Button tip;\r\n        TextView texttip;\r\n        TextView textfact;\r\n        Button next;\r\n        Button back;\r\n    \r\n        private TextView mTextViewCountDown;\r\n        private Button mButtonStartPause;\r\n        private Button mButtonStart;\r\n    \r\n        private CountDownTimer mCountDownTimer;\r\n    \r\n        private boolean mTimerRunning;\r\n    \r\n        private long mTimeLeftInMillis;\r\n        private long mEndTime;\r\n        private long timing = 124;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n    \r\n            mTextViewCountDown = findViewById(R.id.text_view_countdown);\r\n    \r\n            mButtonStartPause = findViewById(R.id.button_start_pause);\r\n            next = (Button)findViewById(R.id.next);\r\n            next.setOnClickListener(this);\r\n            back = (Button)findViewById(R.id.back);\r\n            back.setOnClickListener(this);\r\n            mButtonStart = findViewById(R.id.tip);\r\n            tip = (Button) findViewById(R.id.tip);\r\n            texttip = (TextView)findViewById(R.id.texttip);\r\n            textfact = (TextView)findViewById(R.id.textfact);\r\n    \r\n    \r\n    \r\n            mButtonStartPause.setOnClickListener((new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if(mTimerRunning) {\r\n                        mButtonStartPause.setText(&quot;fact &quot;);\r\n                    } else {\r\n                        startTimer();\r\n                    }\r\n    \r\n                }\r\n            }));\r\n    \r\n    \r\n            mButtonStart.setOnClickListener((new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if(mTimerRunning) {\r\n                        mButtonStart.setText(&quot;Tip&quot;);\r\n                    } else {\r\n                        startTimer();\r\n                    }\r\n    \r\n                }\r\n            }));\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onClick(View view) {\r\n            if(view.getId() == R.id.next){\r\n                tip.setVisibility(view.INVISIBLE);\r\n                mButtonStartPause.setVisibility(View.INVISIBLE);\r\n                mButtonStart.setVisibility(View.INVISIBLE);\r\n                textfact.setVisibility(View.INVISIBLE);\r\n                texttip.setVisibility(View.INVISIBLE);\r\n                mTextViewCountDown.setVisibility(View.INVISIBLE);\r\n                next.setVisibility(View.INVISIBLE);\r\n                back.setVisibility(View.VISIBLE);\r\n            }\r\n            if (view.getId() == R.id.back){\r\n                tip.setVisibility(View.VISIBLE);\r\n                mButtonStart.setVisibility(View.VISIBLE);\r\n                mButtonStartPause.setVisibility(View.VISIBLE);\r\n                textfact.setVisibility(View.VISIBLE);\r\n                texttip.setVisibility(View.VISIBLE);\r\n                mTextViewCountDown.setVisibility(View.VISIBLE);\r\n                next.setVisibility(View.VISIBLE);\r\n                back.setVisibility(View.INVISIBLE);\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        private void startTimer() {\r\n            if (timing == 5) {\r\n                mTimeLeftInMillis = START_TIME_IN_MILLIS;\r\n                updateCountDownText();\r\n                updateButtons();\r\n                textfact.setText(&quot;Makeup was invented by  egypt&quot;);\r\n                texttip.setText(&quot;Spend time with a loved one&quot;);\r\n            } else{\r\n                mButtonStartPause.setText(&quot;fact &quot;);\r\n            }\r\n    \r\n            if (timing == 4) {\r\n                timing = 5;\r\n                mTimeLeftInMillis = START_TIME_IN_MILLIS;\r\n                updateCountDownText();\r\n                updateButtons();\r\n                textfact.setText(&quot;The US flag was designed by a student&quot;);\r\n                texttip.setText(&quot;Its okay to make mistakes because you will learn from them&quot;);\r\n            } else{\r\n                mButtonStartPause.setText(&quot;fact &quot;);\r\n            }\r\n    \r\n            if (timing == 3) {\r\n                timing = 4;\r\n                mTimeLeftInMillis = START_TIME_IN_MILLIS;\r\n                updateCountDownText();\r\n                updateButtons();\r\n                textfact.setText(&quot;DID YOU KNOW THAT SCOTLAND HAS 421 WORDS FOR SNOW!!!&quot;);\r\n                texttip.setText(&quot;Don&#39;t compare your self to others!&quot;);\r\n            } else{\r\n                mButtonStartPause.setText(&quot;fact &quot;);\r\n            }\r\n            if (timing == 2) {\r\n                timing = 3;\r\n                mTimeLeftInMillis = START_TIME_IN_MILLIS;\r\n                updateCountDownText();\r\n                updateButtons();\r\n                textfact.setText(&quot;There is no q in all 50 states of US!&quot;);\r\n                texttip.setText(&quot;Do what you live. The purpose of life is to be happy!&quot;);\r\n            } else{\r\n                mButtonStartPause.setText(&quot;fact &quot;);\r\n            }\r\n    \r\n            if (timing == 1) {\r\n                timing = 2;\r\n                mTimeLeftInMillis = START_TIME_IN_MILLIS;\r\n                updateCountDownText();\r\n                updateButtons();\r\n                textfact.setText(&quot;The phillipines has about 7,641 islands!!&quot;);\r\n                texttip.setText(&quot;Develop good habits! Like running outside could benefit you and your mental health and your body by alot!&quot;);\r\n            } else{\r\n                mButtonStartPause.setText(&quot;fact &quot;);\r\n            }\r\n    \r\n    \r\n            if (mTimeLeftInMillis == 0 &amp;&amp; timing == 124) {\r\n                timing = 1;\r\n                mTimeLeftInMillis = START_TIME_IN_MILLIS;\r\n                updateCountDownText();\r\n                updateButtons();\r\n                textfact.setText(&quot;Sudan has the most pyramids in the world&quot;);\r\n                texttip.setText(&quot;Look for knowledge not results&quot;);\r\n                textfact.setVisibility(View.VISIBLE);\r\n                texttip.setVisibility(View.VISIBLE);\r\n            } else{\r\n                mButtonStartPause.setText(&quot;fact &quot;);\r\n            }\r\n            mEndTime = System.currentTimeMillis() + mTimeLeftInMillis;\r\n            mCountDownTimer = new CountDownTimer(mTimeLeftInMillis, 1000) {\r\n                @Override\r\n                public void onTick(long millisUntilFinished) {\r\n                    mTimeLeftInMillis = millisUntilFinished;\r\n                    updateCountDownText();\r\n                }\r\n    \r\n                @Override\r\n                public void onFinish() {\r\n                    mTimerRunning= false;\r\n                    updateButtons();\r\n                }\r\n            }.start();\r\n    \r\n            mTimerRunning = true;\r\n            updateButtons();\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        private void updateCountDownText() {\r\n            int minutes = (int) (mTimeLeftInMillis / 1000) / 60;\r\n            int seconds = (int) (mTimeLeftInMillis / 1000) % 60;\r\n    \r\n            String timeLeftFormatted = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, minutes, seconds);\r\n            mTextViewCountDown.setText(timeLeftFormatted);\r\n    \r\n        }\r\n    \r\n        private void updateButtons() {\r\n            if(mTimerRunning){\r\n    \r\n                mButtonStartPause.setText(&quot;fact&quot;);\r\n            }else {\r\n                mButtonStartPause.setText(&quot;fact&quot;);\r\n    \r\n                if (mTimeLeftInMillis &lt; 1000) {\r\n                    mButtonStartPause.setVisibility(View.VISIBLE);\r\n                } else {\r\n                    mButtonStartPause.setVisibility(View.VISIBLE);\r\n                }\r\n    \r\n    \r\n    \r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        @Override\r\n        protected void onStop() {\r\n            super.onStop();\r\n    \r\n            SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = prefs.edit();\r\n    \r\n            editor.putLong(&quot;millisLeft&quot;, mTimeLeftInMillis);\r\n            editor.putBoolean(&quot;timerRunning&quot;, mTimerRunning);\r\n            editor.putLong(&quot;endTime&quot;, mEndTime);\r\n    \r\n            editor.apply();\r\n        }\r\n    \r\n        @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n    \r\n            SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\r\n    \r\n            mTimeLeftInMillis = prefs.getLong(&quot;millisLeft&quot;, START_TIME_IN_MILLIS);\r\n            mTimerRunning = prefs.getBoolean(&quot;timerRunning&quot;, false);\r\n    \r\n            updateCountDownText();\r\n            updateButtons();\r\n    \r\n            if (mTimerRunning) {\r\n                mEndTime = prefs.getLong(&quot;endTime&quot;, 0);\r\n                mTimeLeftInMillis = mEndTime - System.currentTimeMillis();\r\n    \r\n                if (mTimeLeftInMillis &lt; 0) {\r\n                    mTimeLeftInMillis = 0;\r\n                    mTimerRunning = false;\r\n                    updateCountDownText();\r\n                    updateButtons();\r\n                } else{\r\n                    startTimer();\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\nI tried making two timers and the other timer  will save it because i know how to do shared preferences on timers but not on stuff like that but it didn&#39;t work also because errors started coming!\r\n\r\nI wanted the timing thing to save.\r\n\r\n","title":"Android studio not saving variable","body":"<p>Hello so I have a App about a fact and tip each 24 hours it displays a fact or tip!\nI am pretty new to Android studio anyways to keep track of the fact and tip the user is in I used a variabe &quot;timing&quot; in the start timer i put when the mTimeLeftInMillis == 0 then make timing = 1 and if timing == 1 then do that but ya for that it's not the case!\nwhen the user leaves the timing variable resets and goes back to 124!\nCould someone please help me! I tried to do shared perferences in it but It didn't work!\nhere is my java code!</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements View.OnClickListener{\n    private static final long START_TIME_IN_MILLIS = 30000;\n\n    Button tip;\n    TextView texttip;\n    TextView textfact;\n    Button next;\n    Button back;\n\n    private TextView mTextViewCountDown;\n    private Button mButtonStartPause;\n    private Button mButtonStart;\n\n    private CountDownTimer mCountDownTimer;\n\n    private boolean mTimerRunning;\n\n    private long mTimeLeftInMillis;\n    private long mEndTime;\n    private long timing = 124;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        mTextViewCountDown = findViewById(R.id.text_view_countdown);\n\n        mButtonStartPause = findViewById(R.id.button_start_pause);\n        next = (Button)findViewById(R.id.next);\n        next.setOnClickListener(this);\n        back = (Button)findViewById(R.id.back);\n        back.setOnClickListener(this);\n        mButtonStart = findViewById(R.id.tip);\n        tip = (Button) findViewById(R.id.tip);\n        texttip = (TextView)findViewById(R.id.texttip);\n        textfact = (TextView)findViewById(R.id.textfact);\n\n\n\n        mButtonStartPause.setOnClickListener((new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if(mTimerRunning) {\n                    mButtonStartPause.setText(&quot;fact &quot;);\n                } else {\n                    startTimer();\n                }\n\n            }\n        }));\n\n\n        mButtonStart.setOnClickListener((new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if(mTimerRunning) {\n                    mButtonStart.setText(&quot;Tip&quot;);\n                } else {\n                    startTimer();\n                }\n\n            }\n        }));\n\n\n\n\n\n\n    }\n\n    @Override\n    public void onClick(View view) {\n        if(view.getId() == R.id.next){\n            tip.setVisibility(view.INVISIBLE);\n            mButtonStartPause.setVisibility(View.INVISIBLE);\n            mButtonStart.setVisibility(View.INVISIBLE);\n            textfact.setVisibility(View.INVISIBLE);\n            texttip.setVisibility(View.INVISIBLE);\n            mTextViewCountDown.setVisibility(View.INVISIBLE);\n            next.setVisibility(View.INVISIBLE);\n            back.setVisibility(View.VISIBLE);\n        }\n        if (view.getId() == R.id.back){\n            tip.setVisibility(View.VISIBLE);\n            mButtonStart.setVisibility(View.VISIBLE);\n            mButtonStartPause.setVisibility(View.VISIBLE);\n            textfact.setVisibility(View.VISIBLE);\n            texttip.setVisibility(View.VISIBLE);\n            mTextViewCountDown.setVisibility(View.VISIBLE);\n            next.setVisibility(View.VISIBLE);\n            back.setVisibility(View.INVISIBLE);\n        }\n    }\n\n\n\n\n    private void startTimer() {\n        if (timing == 5) {\n            mTimeLeftInMillis = START_TIME_IN_MILLIS;\n            updateCountDownText();\n            updateButtons();\n            textfact.setText(&quot;Makeup was invented by  egypt&quot;);\n            texttip.setText(&quot;Spend time with a loved one&quot;);\n        } else{\n            mButtonStartPause.setText(&quot;fact &quot;);\n        }\n\n        if (timing == 4) {\n            timing = 5;\n            mTimeLeftInMillis = START_TIME_IN_MILLIS;\n            updateCountDownText();\n            updateButtons();\n            textfact.setText(&quot;The US flag was designed by a student&quot;);\n            texttip.setText(&quot;Its okay to make mistakes because you will learn from them&quot;);\n        } else{\n            mButtonStartPause.setText(&quot;fact &quot;);\n        }\n\n        if (timing == 3) {\n            timing = 4;\n            mTimeLeftInMillis = START_TIME_IN_MILLIS;\n            updateCountDownText();\n            updateButtons();\n            textfact.setText(&quot;DID YOU KNOW THAT SCOTLAND HAS 421 WORDS FOR SNOW!!!&quot;);\n            texttip.setText(&quot;Don't compare your self to others!&quot;);\n        } else{\n            mButtonStartPause.setText(&quot;fact &quot;);\n        }\n        if (timing == 2) {\n            timing = 3;\n            mTimeLeftInMillis = START_TIME_IN_MILLIS;\n            updateCountDownText();\n            updateButtons();\n            textfact.setText(&quot;There is no q in all 50 states of US!&quot;);\n            texttip.setText(&quot;Do what you live. The purpose of life is to be happy!&quot;);\n        } else{\n            mButtonStartPause.setText(&quot;fact &quot;);\n        }\n\n        if (timing == 1) {\n            timing = 2;\n            mTimeLeftInMillis = START_TIME_IN_MILLIS;\n            updateCountDownText();\n            updateButtons();\n            textfact.setText(&quot;The phillipines has about 7,641 islands!!&quot;);\n            texttip.setText(&quot;Develop good habits! Like running outside could benefit you and your mental health and your body by alot!&quot;);\n        } else{\n            mButtonStartPause.setText(&quot;fact &quot;);\n        }\n\n\n        if (mTimeLeftInMillis == 0 &amp;&amp; timing == 124) {\n            timing = 1;\n            mTimeLeftInMillis = START_TIME_IN_MILLIS;\n            updateCountDownText();\n            updateButtons();\n            textfact.setText(&quot;Sudan has the most pyramids in the world&quot;);\n            texttip.setText(&quot;Look for knowledge not results&quot;);\n            textfact.setVisibility(View.VISIBLE);\n            texttip.setVisibility(View.VISIBLE);\n        } else{\n            mButtonStartPause.setText(&quot;fact &quot;);\n        }\n        mEndTime = System.currentTimeMillis() + mTimeLeftInMillis;\n        mCountDownTimer = new CountDownTimer(mTimeLeftInMillis, 1000) {\n            @Override\n            public void onTick(long millisUntilFinished) {\n                mTimeLeftInMillis = millisUntilFinished;\n                updateCountDownText();\n            }\n\n            @Override\n            public void onFinish() {\n                mTimerRunning= false;\n                updateButtons();\n            }\n        }.start();\n\n        mTimerRunning = true;\n        updateButtons();\n\n\n    }\n\n\n\n\n\n    private void updateCountDownText() {\n        int minutes = (int) (mTimeLeftInMillis / 1000) / 60;\n        int seconds = (int) (mTimeLeftInMillis / 1000) % 60;\n\n        String timeLeftFormatted = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, minutes, seconds);\n        mTextViewCountDown.setText(timeLeftFormatted);\n\n    }\n\n    private void updateButtons() {\n        if(mTimerRunning){\n\n            mButtonStartPause.setText(&quot;fact&quot;);\n        }else {\n            mButtonStartPause.setText(&quot;fact&quot;);\n\n            if (mTimeLeftInMillis &lt; 1000) {\n                mButtonStartPause.setVisibility(View.VISIBLE);\n            } else {\n                mButtonStartPause.setVisibility(View.VISIBLE);\n            }\n\n\n\n        }\n    }\n\n\n\n\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n\n        SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\n        SharedPreferences.Editor editor = prefs.edit();\n\n        editor.putLong(&quot;millisLeft&quot;, mTimeLeftInMillis);\n        editor.putBoolean(&quot;timerRunning&quot;, mTimerRunning);\n        editor.putLong(&quot;endTime&quot;, mEndTime);\n\n        editor.apply();\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n\n        SharedPreferences prefs = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\n\n        mTimeLeftInMillis = prefs.getLong(&quot;millisLeft&quot;, START_TIME_IN_MILLIS);\n        mTimerRunning = prefs.getBoolean(&quot;timerRunning&quot;, false);\n\n        updateCountDownText();\n        updateButtons();\n\n        if (mTimerRunning) {\n            mEndTime = prefs.getLong(&quot;endTime&quot;, 0);\n            mTimeLeftInMillis = mEndTime - System.currentTimeMillis();\n\n            if (mTimeLeftInMillis &lt; 0) {\n                mTimeLeftInMillis = 0;\n                mTimerRunning = false;\n                updateCountDownText();\n                updateButtons();\n            } else{\n                startTimer();\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>I tried making two timers and the other timer  will save it because i know how to do shared preferences on timers but not on stuff like that but it didn't work also because errors started coming!</p>\n<p>I wanted the timing thing to save.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1646400543,"post_id":71351295,"comment_id":126119891,"body_markdown":"Did you find: https://developer.android.com/training/sign-in/biometric-auth#determine-how-user-authenticated","body":"Did you find: <a href=\"https://developer.android.com/training/sign-in/biometric-auth#determine-how-user-authenticated\" rel=\"nofollow noreferrer\">developer.android.com/training/sign-in/&hellip;</a>"},{"owner":{"account_id":22319968,"reputation":51,"user_id":16542734,"display_name":"Kevin Patel"},"score":0,"creation_date":1646628110,"post_id":71351295,"comment_id":126162239,"body_markdown":"Maybe you misunderstood the question. I want to know if the user has unlocked the device with either of those methods to perform the next action based on that data.","body":"Maybe you misunderstood the question. I want to know if the user has unlocked the device with either of those methods to perform the next action based on that data."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1646632738,"post_id":71351295,"comment_id":126162964,"body_markdown":"So a duplicate of: [Detect device is secured with pin lock or fingerprint lock of face lock?](https://stackoverflow.com/q/65474598/295004) and it seems it is not possible to get how the user unlocked.","body":"So a duplicate of: <a href=\"https://stackoverflow.com/q/65474598/295004\">Detect device is secured with pin lock or fingerprint lock of face lock?</a> and it seems it is not possible to get how the user unlocked."}],"answers":[{"tags":[],"owner":{"account_id":27051474,"reputation":1,"user_id":20604765,"display_name":"Asad Hayat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673717724,"creation_date":1673592915,"answer_id":75105780,"question_id":71351295,"body_markdown":"You can use `onPasswordSucceeded` callback function from `DeviceAdminReceiver` services in native and hbrid both. This function triggers when user correct PIN code.    \r\n\r\n```java\r\npublic class MyDeviceAdminReceiver extends DeviceAdminReceiver {\r\n    \r\n    @Override\r\n    public void onPasswordSucceeded(@NonNull Context context, @NonNull Intent intent, @NonNull UserHandle user) {\r\n        super.onPasswordSucceeded(context, intent, user); // Your Code here    \r\n    }    \r\n}\r\n```","title":"how to know in android if a user unlocked his device with pin/password/fingerprint/face?","body":"<p>You can use <code>onPasswordSucceeded</code> callback function from <code>DeviceAdminReceiver</code> services in native and hbrid both. This function triggers when user correct PIN code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyDeviceAdminReceiver extends DeviceAdminReceiver {\n    \n    @Override\n    public void onPasswordSucceeded(@NonNull Context context, @NonNull Intent intent, @NonNull UserHandle user) {\n        super.onPasswordSucceeded(context, intent, user); // Your Code here    \n    }    \n}\n</code></pre>\n"}],"owner":{"account_id":22319968,"reputation":51,"user_id":16542734,"display_name":"Kevin Patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673717724,"creation_date":1646396302,"question_id":71351295,"body_markdown":"In android can we get if the user unlocked his phone with either of below method:\r\n\r\n1. PIN\r\n2. Password\r\n3. FingerPrint\r\n4. FaceID","title":"how to know in android if a user unlocked his device with pin/password/fingerprint/face?","body":"<p>In android can we get if the user unlocked his phone with either of below method:</p>\n<ol>\n<li>PIN</li>\n<li>Password</li>\n<li>FingerPrint</li>\n<li>FaceID</li>\n</ol>\n"},{"tags":["python","java","sumo","traffic-simulation"],"owner":{"account_id":12041596,"reputation":87,"user_id":8808347,"display_name":"mahyar sadeghi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673717396,"creation_date":1673717396,"question_id":75119943,"body_markdown":"I&#39;m facing the problem in title with sumo 1.2.0. I&#39;m using TRAAS in java and I&#39;m sending the following command to sumo and I don&#39;t know how to specify this bitset and it gives me the error Error: Answered with error to command 0xa4: Retrieval of neighboring vehicles needs bitset to specify mode. I have also tried with byte instead of int and it didn&#39;t work:\r\n\r\n    public static SumoCommand getNeighbors(String vehID, int mode) {\r\n    \r\n            Object[] array = new Object[]{mode};\r\n            return new SumoCommand(Constants.CMD_GET_VEHICLE_VARIABLE, Constants.VAR_NEIGHBORS, vehID, array, Constants.RESPONSE_GET_VEHICLE_VARIABLE, Constants.TYPE_STRINGLIST);\r\n    \r\n        }\r\nI&#39;m sending the mode as an integer, for example mode=3 which is 101. And also, based on vehicle value retrieve document, I should get the response as String List. But when you check the traci document they receive it as string list of pairs. ","title":"How to solve Error: Answered with error to command 0xa4: Retrieval of neighboring vehicles needs bitset to specify mode in sumo traffic simulation?","body":"<p>I'm facing the problem in title with sumo 1.2.0. I'm using TRAAS in java and I'm sending the following command to sumo and I don't know how to specify this bitset and it gives me the error Error: Answered with error to command 0xa4: Retrieval of neighboring vehicles needs bitset to specify mode. I have also tried with byte instead of int and it didn't work:</p>\n<pre><code>public static SumoCommand getNeighbors(String vehID, int mode) {\n\n        Object[] array = new Object[]{mode};\n        return new SumoCommand(Constants.CMD_GET_VEHICLE_VARIABLE, Constants.VAR_NEIGHBORS, vehID, array, Constants.RESPONSE_GET_VEHICLE_VARIABLE, Constants.TYPE_STRINGLIST);\n\n    }\n</code></pre>\n<p>I'm sending the mode as an integer, for example mode=3 which is 101. And also, based on vehicle value retrieve document, I should get the response as String List. But when you check the traci document they receive it as string list of pairs.</p>\n"},{"tags":["java","jackson","deserialization"],"answers":[{"comments":[{"owner":{"account_id":2017109,"reputation":492,"user_id":1804153,"accept_rate":29,"display_name":"Aladin"},"score":0,"creation_date":1565626867,"post_id":57464729,"comment_id":101403008,"body_markdown":"an empty object for me is a one with all its members to be null. And not a serializer, but deserializer (if that change anything).","body":"an empty object for me is a one with all its members to be null. And not a serializer, but deserializer (if that change anything)."},{"owner":{"account_id":12849113,"reputation":409,"user_id":9294564,"display_name":"josev.junior"},"score":0,"creation_date":1565628863,"post_id":57464729,"comment_id":101403825,"body_markdown":"Sorry for the mistake.","body":"Sorry for the mistake."}],"tags":[],"owner":{"account_id":12849113,"reputation":409,"user_id":9294564,"display_name":"josev.junior"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565633924,"creation_date":1565626567,"answer_id":57464729,"question_id":57464489,"body_markdown":"What is a empty object for you? A object with null value fields? A object with no fields? You can create a custom to check the nodes and deserialize how you want. I see no problem to use it in a generic way.\r\n\r\nI did a little example:\r\n\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\n    import com.fasterxml.jackson.databind.module.SimpleModule;\r\n    import java.io.IOException;\r\n    import java.util.Objects;\r\n    \r\n    public class DeserializerExample&lt;T&gt; extends StdDeserializer&lt;T&gt; {\r\n    \r\n        private final ObjectMapper defaultMapper;\r\n    \r\n        public DeserializerExample(Class&lt;T&gt; clazz) {\r\n            super(clazz);\r\n            defaultMapper = new ObjectMapper();\r\n        }\r\n    \r\n        @Override\r\n        public T deserialize(JsonParser jp, DeserializationContext dc) throws IOException, JsonProcessingException {\r\n            System.out.println(&quot;Deserializing...&quot;);\r\n    \r\n            JsonNode node = jp.getCodec().readTree(jp);\r\n    \r\n            for (JsonNode jsonNode : node) {\r\n                if (!jsonNode.isNull()) {\r\n                    return defaultMapper.treeToValue(node, (Class&lt;T&gt;) getValueClass());\r\n                }\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            \r\n            ObjectMapper mapper = new ObjectMapper();\r\n            SimpleModule module = new SimpleModule();\r\n            module.addDeserializer(Person.class, new DeserializerExample(Person.class));\r\n            mapper.registerModule(module);\r\n            \r\n            Person person = mapper.readValue(&quot;{\\&quot;id\\&quot;:1, \\&quot;name\\&quot;:\\&quot;Joseph\\&quot;}&quot;, Person.class);\r\n            \r\n            Person nullPerson = mapper.readValue(&quot;{\\&quot;id\\&quot;:null, \\&quot;name\\&quot;:null}&quot;, Person.class);\r\n            \r\n            System.out.println(&quot;Is null: &quot; + Objects.isNull(person));\r\n            System.out.println(&quot;Is null: &quot; + Objects.isNull(nullPerson));\r\n        }\r\n    \r\n    }","title":"Enable Jackson Deserialization of Empty Objects to Null","body":"<p>What is a empty object for you? A object with null value fields? A object with no fields? You can create a custom to check the nodes and deserialize how you want. I see no problem to use it in a generic way.</p>\n\n<p>I did a little example:</p>\n\n<pre><code>import com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\nimport java.io.IOException;\nimport java.util.Objects;\n\npublic class DeserializerExample&lt;T&gt; extends StdDeserializer&lt;T&gt; {\n\n    private final ObjectMapper defaultMapper;\n\n    public DeserializerExample(Class&lt;T&gt; clazz) {\n        super(clazz);\n        defaultMapper = new ObjectMapper();\n    }\n\n    @Override\n    public T deserialize(JsonParser jp, DeserializationContext dc) throws IOException, JsonProcessingException {\n        System.out.println(\"Deserializing...\");\n\n        JsonNode node = jp.getCodec().readTree(jp);\n\n        for (JsonNode jsonNode : node) {\n            if (!jsonNode.isNull()) {\n                return defaultMapper.treeToValue(node, (Class&lt;T&gt;) getValueClass());\n            }\n        }\n\n        return null;\n    }\n\n    public static void main(String[] args) throws IOException {\n\n        ObjectMapper mapper = new ObjectMapper();\n        SimpleModule module = new SimpleModule();\n        module.addDeserializer(Person.class, new DeserializerExample(Person.class));\n        mapper.registerModule(module);\n\n        Person person = mapper.readValue(\"{\\\"id\\\":1, \\\"name\\\":\\\"Joseph\\\"}\", Person.class);\n\n        Person nullPerson = mapper.readValue(\"{\\\"id\\\":null, \\\"name\\\":null}\", Person.class);\n\n        System.out.println(\"Is null: \" + Objects.isNull(person));\n        System.out.println(\"Is null: \" + Objects.isNull(nullPerson));\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2017109,"reputation":492,"user_id":1804153,"accept_rate":29,"display_name":"Aladin"},"score":0,"creation_date":1565679407,"post_id":57467727,"comment_id":101417387,"body_markdown":"I think this property is related to serialization and not to deserialization","body":"I think this property is related to serialization and not to deserialization"},{"owner":{"account_id":1342401,"reputation":23303,"user_id":1283845,"accept_rate":65,"display_name":"BlackHatSamurai"},"score":0,"creation_date":1565731598,"post_id":57467727,"comment_id":101442121,"body_markdown":"From what I can see you are serializing, then deserializing. You can&#39;t deserialize something that isn&#39;t there.","body":"From what I can see you are serializing, then deserializing. You can&#39;t deserialize something that isn&#39;t there."}],"tags":[],"owner":{"account_id":1342401,"reputation":23303,"user_id":1283845,"accept_rate":65,"display_name":"BlackHatSamurai"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565731953,"creation_date":1565640987,"answer_id":57467727,"question_id":57464489,"body_markdown":"\r\nThe only way to do this is to use a custom deserializer: \r\n\r\n    class CustomDeserializer extends JsonDeserializer&lt;String&gt; {\r\n\r\n    @Override\r\n    public String deserialize(JsonParser jsonParser, DeserializationContext context) throws IOException, JsonProcessingException {\r\n        JsonNode node = jsonParser.readValueAsTree();\r\n        if (node.asText().isEmpty()) {\r\n            return null;\r\n        }\r\n        return node.toString();\r\n    }\r\n    }\r\n\r\nThen do: \r\n\r\n    class EventBean {\r\n    public Long eventId;\r\n    public String title;\r\n\r\n    @JsonDeserialize(using = CustomDeserializer.class)\r\n    public String location;\r\n    }\r\n\r\nThis solution courtesy of Sach141 on this [question][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30841981/how-to-deserialize-a-blank-json-string-value-to-null-for-java-lang-string","title":"Enable Jackson Deserialization of Empty Objects to Null","body":"<p>The only way to do this is to use a custom deserializer: </p>\n\n<pre><code>class CustomDeserializer extends JsonDeserializer&lt;String&gt; {\n\n@Override\npublic String deserialize(JsonParser jsonParser, DeserializationContext context) throws IOException, JsonProcessingException {\n    JsonNode node = jsonParser.readValueAsTree();\n    if (node.asText().isEmpty()) {\n        return null;\n    }\n    return node.toString();\n}\n}\n</code></pre>\n\n<p>Then do: </p>\n\n<pre><code>class EventBean {\npublic Long eventId;\npublic String title;\n\n@JsonDeserialize(using = CustomDeserializer.class)\npublic String location;\n}\n</code></pre>\n\n<p>This solution courtesy of Sach141 on this <a href=\"https://stackoverflow.com/questions/30841981/how-to-deserialize-a-blank-json-string-value-to-null-for-java-lang-string\">question</a>.</p>\n"},{"comments":[{"owner":{"account_id":2017109,"reputation":492,"user_id":1804153,"accept_rate":29,"display_name":"Aladin"},"score":1,"creation_date":1595596111,"post_id":63030594,"comment_id":111537601,"body_markdown":"Custom deserializer is a solution which I could not apply since the demand was to apply it for every object. Anyway, I don&#39;t work for that company anymore and as I remember this task was not implemented since it was stupid in the first place - no value but only risks and possibly performance penalties. I believe the best solution is to avoid implementing it in the first place, because it may mean that something is wrong with your flows.","body":"Custom deserializer is a solution which I could not apply since the demand was to apply it for every object. Anyway, I don&#39;t work for that company anymore and as I remember this task was not implemented since it was stupid in the first place - no value but only risks and possibly performance penalties. I believe the best solution is to avoid implementing it in the first place, because it may mean that something is wrong with your flows."},{"owner":{"account_id":2928505,"reputation":2489,"user_id":2561119,"accept_rate":89,"display_name":"GabrielBB"},"score":0,"creation_date":1597413494,"post_id":63030594,"comment_id":112132694,"body_markdown":"@Aladin I disagree. I find this very reasonable. I want to do this. One Rest endpoint I call send me some empty objects, and I just don&#39;t want to take one random property from it to know if it came empty, I think if it&#39;s null is more natural. By the way, I only mean {} , not &quot;&quot; or []","body":"@Aladin I disagree. I find this very reasonable. I want to do this. One Rest endpoint I call send me some empty objects, and I just don&#39;t want to take one random property from it to know if it came empty, I think if it&#39;s null is more natural. By the way, I only mean {} , not &quot;&quot; or []"},{"owner":{"account_id":2017109,"reputation":492,"user_id":1804153,"accept_rate":29,"display_name":"Aladin"},"score":0,"creation_date":1597595305,"post_id":63030594,"comment_id":112178106,"body_markdown":"In your case you can just write a custom deserializer for the request object of your specific rest point. I was talking about something generic for all endpoints.","body":"In your case you can just write a custom deserializer for the request object of your specific rest point. I was talking about something generic for all endpoints."},{"owner":{"account_id":6865350,"reputation":1548,"user_id":5580181,"accept_rate":58,"display_name":"Daniele Licitra"},"score":0,"creation_date":1599923802,"post_id":63030594,"comment_id":112928765,"body_markdown":"I don&#39;t remember if it works with all the jackson&#39; versions, but if you put your serializer on top of the class with @JsonDeserializer(...), it will be always used","body":"I don&#39;t remember if it works with all the jackson&#39; versions, but if you put your serializer on top of the class with @JsonDeserializer(...), it will be always used"}],"tags":[],"owner":{"account_id":6865350,"reputation":1548,"user_id":5580181,"accept_rate":58,"display_name":"Daniele Licitra"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595408531,"creation_date":1595408531,"answer_id":63030594,"question_id":57464489,"body_markdown":"I had the same problem.\r\n\r\nI hava a `City` class and sometimes I recive `&#39;city&#39;:{}` from a web service request.\r\n\r\nSo, the standard serializer create a new City with all empty field.\r\n\r\nI created a custom deserializer in this way\r\n\r\n    public class CityJsonDeSerializer extends StdDeserializer&lt;City&gt; {\r\n\r\n    @Override\r\n    public City deserialize(JsonParser jp, DeserializationContext dc) throws IOException, JsonProcessingException {\r\n        \r\n        JsonNode node = jp.getCodec().readTree(jp);\r\n        \r\n        if(node.isNull() || node.asText().isEmpty()|| node.size()==0)\r\n            return null;\r\n        \r\n        City city = new City();\r\n        ... // set all fields\r\n        return city;\r\n    }\r\n    }\r\n\r\nThe if check the conditions:\r\n- `&#39;city&#39; : null`\r\n- `&#39;city&#39; : &#39;&#39;`\r\n- `&#39;city&#39; : &#39;{}&#39;`\r\n\r\nand if it&#39;s true, the deserializer returns `null`.","title":"Enable Jackson Deserialization of Empty Objects to Null","body":"<p>I had the same problem.</p>\n<p>I hava a <code>City</code> class and sometimes I recive <code>'city':{}</code> from a web service request.</p>\n<p>So, the standard serializer create a new City with all empty field.</p>\n<p>I created a custom deserializer in this way</p>\n<pre><code>public class CityJsonDeSerializer extends StdDeserializer&lt;City&gt; {\n\n@Override\npublic City deserialize(JsonParser jp, DeserializationContext dc) throws IOException, JsonProcessingException {\n    \n    JsonNode node = jp.getCodec().readTree(jp);\n    \n    if(node.isNull() || node.asText().isEmpty()|| node.size()==0)\n        return null;\n    \n    City city = new City();\n    ... // set all fields\n    return city;\n}\n}\n</code></pre>\n<p>The if check the conditions:</p>\n<ul>\n<li><code>'city' : null</code></li>\n<li><code>'city' : ''</code></li>\n<li><code>'city' : '{}'</code></li>\n</ul>\n<p>and if it's true, the deserializer returns <code>null</code>.</p>\n"},{"tags":[],"owner":{"account_id":169763,"reputation":7117,"user_id":2103602,"accept_rate":59,"display_name":"sigpwned"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673717269,"creation_date":1673717269,"answer_id":75119926,"question_id":57464489,"body_markdown":"Another approach is to use a `com.fasterxml.jackson.databind.util.Converter&lt;IN,OUT&gt;`, which is essentially a postprocessor for deserialization.\r\n\r\nImagine we have a class:\r\n\r\n    public class Person {\r\n        public String id;\r\n        public String name;\r\n    }\r\n\r\nNow imagine we want to deserialize an empty JSON object `{}` as `null`, rather than a `Person` with `null` values for `id` and `name`. We can create the following `Converter`:\r\n\r\n    public PersonConverter implements Converter&lt;Person,Person&gt; {\r\n        @Override\r\n        public Person convert(Person p) {\r\n            return isEmpty(p) ? null : value;\r\n        }\r\n\r\n        private static boolean isEmpty(Person p) {\r\n            if(p == null) {\r\n                return true;\r\n            }\r\n            if(Optional.ofNullable(p.id).orElse(&quot;&quot;).isEmpty() &amp;&amp; \r\n                    Optional.ofNullable(p.name).orElse(&quot;&quot;).isEmpty()) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public JavaType getInputType(TypeFactory typeFactory) {\r\n            return typeFactory.constructType(Person.class);\r\n        }\r\n\r\n        @Override\r\n        public JavaType getOutputType(TypeFactory typeFactory) {\r\n            return typeFactory.constructType(Person.class);\r\n        }\r\n    }\r\n\r\nNote that we have to handle the blank `String` case because that is (counter-intuitively) the default value assigned to properties not given in JSON, as opposed to `null`.\r\n\r\nGiven the converter, we can then annotate our original `Person` class:\r\n\r\n    @JsonDeserialize(converter=PersonConverter.class)\r\n    public class Person {\r\n        public String id;\r\n        public String name;\r\n    }\r\n\r\nThe benefit of this approach is that you don&#39;t have to think or care about deserialization at all; you&#39;re simply deciding what to do with the deserialized object after it&#39;s deserialized. And there are many other transformations you can do with a `Converter`, too. But this works nicely for nullifying &quot;empty&quot; values.","title":"Enable Jackson Deserialization of Empty Objects to Null","body":"<p>Another approach is to use a <code>com.fasterxml.jackson.databind.util.Converter&lt;IN,OUT&gt;</code>, which is essentially a postprocessor for deserialization.</p>\n<p>Imagine we have a class:</p>\n<pre><code>public class Person {\n    public String id;\n    public String name;\n}\n</code></pre>\n<p>Now imagine we want to deserialize an empty JSON object <code>{}</code> as <code>null</code>, rather than a <code>Person</code> with <code>null</code> values for <code>id</code> and <code>name</code>. We can create the following <code>Converter</code>:</p>\n<pre><code>public PersonConverter implements Converter&lt;Person,Person&gt; {\n    @Override\n    public Person convert(Person p) {\n        return isEmpty(p) ? null : value;\n    }\n\n    private static boolean isEmpty(Person p) {\n        if(p == null) {\n            return true;\n        }\n        if(Optional.ofNullable(p.id).orElse(&quot;&quot;).isEmpty() &amp;&amp; \n                Optional.ofNullable(p.name).orElse(&quot;&quot;).isEmpty()) {\n            return true;\n        }\n        return false;\n    }\n\n    @Override\n    public JavaType getInputType(TypeFactory typeFactory) {\n        return typeFactory.constructType(Person.class);\n    }\n\n    @Override\n    public JavaType getOutputType(TypeFactory typeFactory) {\n        return typeFactory.constructType(Person.class);\n    }\n}\n</code></pre>\n<p>Note that we have to handle the blank <code>String</code> case because that is (counter-intuitively) the default value assigned to properties not given in JSON, as opposed to <code>null</code>.</p>\n<p>Given the converter, we can then annotate our original <code>Person</code> class:</p>\n<pre><code>@JsonDeserialize(converter=PersonConverter.class)\npublic class Person {\n    public String id;\n    public String name;\n}\n</code></pre>\n<p>The benefit of this approach is that you don't have to think or care about deserialization at all; you're simply deciding what to do with the deserialized object after it's deserialized. And there are many other transformations you can do with a <code>Converter</code>, too. But this works nicely for nullifying &quot;empty&quot; values.</p>\n"}],"owner":{"account_id":2017109,"reputation":492,"user_id":1804153,"accept_rate":29,"display_name":"Aladin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18681,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1673717269,"creation_date":1565625433,"question_id":57464489,"body_markdown":"I was asked to change our jackson mapping configuration so that each empty object we deserialize (from JSON) is going to be deserialized as null.\r\n\r\nThe problem is that I&#39;m struggling to do it, but without any luck. Here is a sample of our `ObjectMapper` configuration (and example):\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n    mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n    mapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, true);\r\n    mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\r\n    JavaTimeModule javaTimeModule = new JavaTimeModule();\r\n    javaTimeModule.addDeserializer(LocalDateTime.class, new LocalDateTimeDeserializer(DateTimeFormatter.ISO_DATE_TIME));\r\n    javaTimeModule.addDeserializer(Instant.class, InstantDeserializer.INSTANT);\r\n    mapper.registerModule(javaTimeModule);\r\n    mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    warmupMapper(mapper);\r\n\r\n    return mapper;\r\n\r\nI thought about something like adding:\r\n\r\n    mapper.configure(\r\n        DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT, true);\r\n\r\nbut it just works on strings. \r\n\r\nI&#39;m afraid that using a custom deserializer will not help me, because I&#39;m writing a generic (for all objects) mapper. So I probably need something like a delegator or a post process deserialization method.\r\n\r\nSo for json like `&quot;&quot;` or `{}` I expect to be converted to `null` in java (and not to empty string or `Object` instance).","title":"Enable Jackson Deserialization of Empty Objects to Null","body":"<p>I was asked to change our jackson mapping configuration so that each empty object we deserialize (from JSON) is going to be deserialized as null.</p>\n<p>The problem is that I'm struggling to do it, but without any luck. Here is a sample of our <code>ObjectMapper</code> configuration (and example):</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\nmapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\nmapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, true);\nmapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);\nJavaTimeModule javaTimeModule = new JavaTimeModule();\njavaTimeModule.addDeserializer(LocalDateTime.class, new LocalDateTimeDeserializer(DateTimeFormatter.ISO_DATE_TIME));\njavaTimeModule.addDeserializer(Instant.class, InstantDeserializer.INSTANT);\nmapper.registerModule(javaTimeModule);\nmapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\nmapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\nwarmupMapper(mapper);\n\nreturn mapper;\n</code></pre>\n<p>I thought about something like adding:</p>\n<pre><code>mapper.configure(\n    DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT, true);\n</code></pre>\n<p>but it just works on strings.</p>\n<p>I'm afraid that using a custom deserializer will not help me, because I'm writing a generic (for all objects) mapper. So I probably need something like a delegator or a post process deserialization method.</p>\n<p>So for json like <code>&quot;&quot;</code> or <code>{}</code> I expect to be converted to <code>null</code> in java (and not to empty string or <code>Object</code> instance).</p>\n"},{"tags":["java","exception","indexoutofboundsexception"],"answers":[{"tags":[],"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673678135,"creation_date":1673678135,"answer_id":75116230,"question_id":75116199,"body_markdown":"that is because in the inner loop you iterate until for `j &lt; nums.length` but then you access on `j+1` index `nums[j+1]`. Replace the inner loop with \r\n```java\r\nfor (int j = 0; j &lt; nums.length - 1; j++) {\r\n...\r\n```","title":"Bubble Sort code : Exception in main thread","body":"<p>that is because in the inner loop you iterate until for <code>j &lt; nums.length</code> but then you access on <code>j+1</code> index <code>nums[j+1]</code>. Replace the inner loop with</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int j = 0; j &lt; nums.length - 1; j++) {\n...\n</code></pre>\n"}],"owner":{"account_id":27525486,"reputation":1,"user_id":21004868,"display_name":"Vineeta Barkha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673716974,"creation_date":1673677695,"question_id":75116199,"body_markdown":"```\r\npublic class Main {\r\n\r\n    public static void main(String[] args){\r\n\r\n        int nums[] = {9,8,4,5,6,7};\r\n        int temp=0;\r\n\r\n        for(int i=0;i&lt;nums.length;i++){\r\n            for(int j=0;j&lt;nums.length;j++){\r\n                if(nums[j]&gt;nums[j+1]){                    //swap\r\n                    temp=nums[j];\r\n                    nums[j]=nums[j+1];\r\n                    nums[j+1]=temp;\r\n                }\r\n            }\r\n        }\r\n\r\n        for(int i=0;i&lt;nums.length;i++){          //print array after sorting\r\n            System.out.print(nums[i]+&quot;--&gt;&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI need the solution to be sorted in ascending order. However, it keeps throwing an error--&gt;\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 6 out of bounds for length 6 at Average.main(Average.java:21).\r\n\r\n","title":"Bubble Sort code : Exception in main thread","body":"<pre><code>public class Main {\n\n    public static void main(String[] args){\n\n        int nums[] = {9,8,4,5,6,7};\n        int temp=0;\n\n        for(int i=0;i&lt;nums.length;i++){\n            for(int j=0;j&lt;nums.length;j++){\n                if(nums[j]&gt;nums[j+1]){                    //swap\n                    temp=nums[j];\n                    nums[j]=nums[j+1];\n                    nums[j+1]=temp;\n                }\n            }\n        }\n\n        for(int i=0;i&lt;nums.length;i++){          //print array after sorting\n            System.out.print(nums[i]+&quot;--&gt;&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I need the solution to be sorted in ascending order. However, it keeps throwing an error--&gt;</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 6 out of bounds for length 6 at Average.main(Average.java:21).</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673717011,"post_id":75119789,"comment_id":132562249,"body_markdown":"From &lt;https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#Date-int-int-int-&gt; &quot;Deprecated.&quot; &quot;year: the year minus 1900&quot; (as can seen from your output, you have a date in year 3923). Switch to `java.time.Instant` or `LocalDate` if possible","body":"From &lt;<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#Date-int-int-int-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/&hellip;</a>&gt; &quot;Deprecated.&quot; &quot;year: the year minus 1900&quot; (as can seen from your output, you have a date in year 3923). Switch to <code>java.time.Instant</code> or <code>LocalDate</code> if possible"}],"answers":[{"tags":[],"owner":{"account_id":7630732,"reputation":1728,"user_id":5785871,"accept_rate":80,"display_name":"mslowiak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673716754,"creation_date":1673716754,"answer_id":75119870,"question_id":75119789,"body_markdown":"First of all, you [should rather use][1] a `LocalDate` instead of `Date`.\r\n\r\nBut going back to your question.\r\n\r\nCurrent date can be obtained from:\r\n`LocalDate today = LocalDate.now();`\r\n\r\nAnd right now, you need to add appropriate number of days.\r\nIf your case, you can create method:\r\n\r\n    private LocalDate getRandomDateInFutureDaysRange(int start, int end) {\r\n        LocalDate today = LocalDate.now();\r\n        return today.plusDays(ThreadLocalRandom.current().nextLong(start, end));\r\n    }\r\n\r\nFor your use cases you can call it as follows:\r\n1. getRandomDateInFutureDaysRange(0, 90)\r\n2. getRandomDateInFutureDaysRange(90, 180)\r\n3. getRandomDateInFutureDaysRange(181, 270)\r\n\r\n\r\nTo format the date you can use `DateTimeFormatter` as follows:\r\n```\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\nString formattedDate = yourDateToFormat.format(formatter);\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28730136/should-i-use-java-util-date-or-switch-to-java-time-localdate","title":"Generate a random date within some days back from today","body":"<p>First of all, you <a href=\"https://stackoverflow.com/questions/28730136/should-i-use-java-util-date-or-switch-to-java-time-localdate\">should rather use</a> a <code>LocalDate</code> instead of <code>Date</code>.</p>\n<p>But going back to your question.</p>\n<p>Current date can be obtained from:\n<code>LocalDate today = LocalDate.now();</code></p>\n<p>And right now, you need to add appropriate number of days.\nIf your case, you can create method:</p>\n<pre><code>private LocalDate getRandomDateInFutureDaysRange(int start, int end) {\n    LocalDate today = LocalDate.now();\n    return today.plusDays(ThreadLocalRandom.current().nextLong(start, end));\n}\n</code></pre>\n<p>For your use cases you can call it as follows:</p>\n<ol>\n<li>getRandomDateInFutureDaysRange(0, 90)</li>\n<li>getRandomDateInFutureDaysRange(90, 180)</li>\n<li>getRandomDateInFutureDaysRange(181, 270)</li>\n</ol>\n<p>To format the date you can use <code>DateTimeFormatter</code> as follows:</p>\n<pre><code>DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\nString formattedDate = yourDateToFormat.format(formatter);\n</code></pre>\n"}],"owner":{"account_id":27528457,"reputation":39,"user_id":21007380,"display_name":"Pratik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75119870,"answer_count":1,"score":0,"last_activity_date":1673716754,"creation_date":1673716157,"question_id":75119789,"body_markdown":"I am trying to generate a random date in yyyy-mm-dd format for the following cases.\r\n1. The random date should be within 90 days range from today.\r\n2. The random date should be within 90 to 180 days from today.\r\n3. The random date should be within 181 to 270 days from today.\r\n\r\nI have written a short code snippet wherein I tried generating a random date but it does not give me the date in the range expected. That is between Sep 9 and Jan 14. It gives me the dates beyond Jan 14 also. \r\n\r\n\r\n\r\n`public static void generateRandomDate() {\r\n\t\tDate d1=new Date(2022, 9, 9);\r\n\t\tDate d2=new Date(2023, 1, 14);\r\n\t\t\r\n\t\tDate randomDate = new Date(ThreadLocalRandom.current()\r\n                .nextLong(d1.getTime(), d2.getTime()));\r\n\t\tSystem.out.println(randomDate);\r\n\t}`\r\n Output: Wed Jan 17 23:41:37 IST 3923\r\nI can use switch case to generate random dates according to the cases I want. But I am not able to get the desired date with the code I am trying and also I need to date to be in yyyy-mm-dd format. It will be really helpful if I will be able to pass the d1 and d2 in that format. ","title":"Generate a random date within some days back from today","body":"<p>I am trying to generate a random date in yyyy-mm-dd format for the following cases.</p>\n<ol>\n<li>The random date should be within 90 days range from today.</li>\n<li>The random date should be within 90 to 180 days from today.</li>\n<li>The random date should be within 181 to 270 days from today.</li>\n</ol>\n<p>I have written a short code snippet wherein I tried generating a random date but it does not give me the date in the range expected. That is between Sep 9 and Jan 14. It gives me the dates beyond Jan 14 also.</p>\n<p>`public static void generateRandomDate() {\nDate d1=new Date(2022, 9, 9);\nDate d2=new Date(2023, 1, 14);</p>\n<pre><code>    Date randomDate = new Date(ThreadLocalRandom.current()\n            .nextLong(d1.getTime(), d2.getTime()));\n    System.out.println(randomDate);\n}`\n</code></pre>\n<p>Output: Wed Jan 17 23:41:37 IST 3923\nI can use switch case to generate random dates according to the cases I want. But I am not able to get the desired date with the code I am trying and also I need to date to be in yyyy-mm-dd format. It will be really helpful if I will be able to pass the d1 and d2 in that format.</p>\n"},{"tags":["java","android","sql","sqlite"],"answers":[{"comments":[{"owner":{"account_id":26933067,"reputation":1,"user_id":20505138,"display_name":"Jakov Spirovski"},"score":0,"creation_date":1673794303,"post_id":75119845,"comment_id":132572626,"body_markdown":"I added the notifyItemInserted fucntion for my adapter in btnAddFood.setOnClickListener in my MainAcitivity but it doesn&#39;t update the RecyleView after its pressed. I also tried notifyDataSetChanged() function but still nothing. Am i doing something wrong?","body":"I added the notifyItemInserted fucntion for my adapter in btnAddFood.setOnClickListener in my MainAcitivity but it doesn&#39;t update the RecyleView after its pressed. I also tried notifyDataSetChanged() function but still nothing. Am i doing something wrong?"}],"tags":[],"owner":{"account_id":18151803,"reputation":1,"user_id":21007972,"display_name":"SimpleBear3775"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673716577,"creation_date":1673716577,"answer_id":75119845,"question_id":75119424,"body_markdown":"Call [`notifyItemInserted`](https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.Adapter#notifyItemInserted(int)) after adding the item to your database and array lists, to update your adapter.\r\n\r\nLike so:\r\n```\r\nString foodName = edtFoodName.getText().toString().trim();\r\nString foodPrice = edtFoodPrice.getText().toString().trim();\r\n\r\nmyDB.addFood(foodName, foodPrice);\r\n\r\nfoodNames.add(foodName);\r\nfoodPrices.add(foodPrice);\r\n\r\ncustomAdapater.notifyItemInserted(foodNames.size() - 1);\r\n```","title":"Data in RecycleCiew from Sql database only updates after i restart the app","body":"<p>Call <a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.Adapter#notifyItemInserted(int)\" rel=\"nofollow noreferrer\"><code>notifyItemInserted</code></a> after adding the item to your database and array lists, to update your adapter.</p>\n<p>Like so:</p>\n<pre><code>String foodName = edtFoodName.getText().toString().trim();\nString foodPrice = edtFoodPrice.getText().toString().trim();\n\nmyDB.addFood(foodName, foodPrice);\n\nfoodNames.add(foodName);\nfoodPrices.add(foodPrice);\n\ncustomAdapater.notifyItemInserted(foodNames.size() - 1);\n</code></pre>\n"}],"owner":{"account_id":26933067,"reputation":1,"user_id":20505138,"display_name":"Jakov Spirovski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673716577,"creation_date":1673713425,"question_id":75119424,"body_markdown":"I am making a feature for my app where the user can add a new food item inside RecyleView. But instead using a new activity I opted out for a popup that appears in the Main Activity where you can enter the food and the price which means the activity doesn&#39;t refresh. How can I display the items in the RecycleView without restarting the app?\r\n\r\nCode in Main Activity:\r\n\r\n```\r\npublic class SecondScreen extends AppCompatActivity {\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.second_screen);\r\n\r\nmyDB = new MyDataBaseHelper(SecondScreen.this);\r\nfoodID = new ArrayList&lt;&gt;();\r\nfoodName = new ArrayList&lt;&gt;();\r\nfoodPrice = new ArrayList&lt;&gt;();\r\n\r\n popUp();\r\n\r\n//Data from Sql Tables\r\nstoreDataInArrays();\r\ncustomAdapater = new CustomAdapater(SecondScreen.this, foodID, foodName, foodPrice);\r\nrecyclerView.setLayoutManager(new LinearLayoutManager(SecondScreen.this));\r\nrecyclerView.setAdapter(customAdapater);\r\n\r\n//Storing the data from the sql table\r\n     public void storeDataInArrays(){\r\n        Cursor cursor = myDB.readAllData();\r\n        //Gets the count of the rows\r\n        if(cursor.getCount() == 0){\r\n            Toast.makeText(this, &quot;No data&quot;, Toast.LENGTH_SHORT).show();\r\n        }else{\r\n            while(cursor.moveToNext()){\r\n                foodID.add(cursor.getString(0));\r\n                foodName.add(cursor.getString(1));\r\n                foodPrice.add(cursor.getString(2));\r\n            }\r\n        }\r\n     }\r\n}\r\n\r\npublic void PopUP(){\r\nbtnAddFood.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                MyDataBaseHelper myDB = new MyDataBaseHelper(SecondScreen.this);\r\n           myDB.addFood(edtFoodName.getText().toString().trim(),\r\n           edtFoodPrice.getText().toString().trim());\r\n           \r\n           //Dismisses the popUp after button click\r\n           myDialog.dismiss();\r\n            }\r\n        });\r\n\r\n}\r\n\r\n}\r\n```\r\n\r\nCode for RecycleView Adapter\r\n\r\n```\r\npublic class CustomAdapater extends RecyclerView.Adapter&lt;CustomAdapater.MyViewHolder&gt; {\r\n\r\n     Context context;\r\n     private ArrayList foodID, foodName, foodPrice;\r\n     CheckBox chkItem;\r\n\r\n    //Constructor\r\n    CustomAdapater(Context context, ArrayList foodID, ArrayList foodName, ArrayList foodPrice){\r\n\r\n        //Declares to global variables that can be used in the MainAcivity\r\n       this.context = context;\r\n       this.foodID = foodID;\r\n       this.foodName = foodName;\r\n       this.foodPrice = foodPrice;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public CustomAdapater.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        //Inflates the item_row layout\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n        View view = inflater.inflate(R.layout.item_row, parent, false);\r\n        return new MyViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull CustomAdapater.MyViewHolder holder, int position) {\r\n        holder.checkItem.setText(String.valueOf(foodName.get(position)));\r\n        holder.foodPrice_txt.setText(String.valueOf(foodPrice.get(position) + &quot;$&quot;));\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return foodID.size();\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView foodPrice_txt;\r\n        CheckBox checkItem;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            checkItem = itemView.findViewById(R.id.chkItemRow);\r\n            foodPrice_txt = itemView.findViewById(R.id.txtPriceRow);\r\n\r\n        }\r\n    }\r\n}\r\n```","title":"Data in RecycleCiew from Sql database only updates after i restart the app","body":"<p>I am making a feature for my app where the user can add a new food item inside RecyleView. But instead using a new activity I opted out for a popup that appears in the Main Activity where you can enter the food and the price which means the activity doesn't refresh. How can I display the items in the RecycleView without restarting the app?</p>\n<p>Code in Main Activity:</p>\n<pre><code>public class SecondScreen extends AppCompatActivity {\n@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.second_screen);\n\nmyDB = new MyDataBaseHelper(SecondScreen.this);\nfoodID = new ArrayList&lt;&gt;();\nfoodName = new ArrayList&lt;&gt;();\nfoodPrice = new ArrayList&lt;&gt;();\n\n popUp();\n\n//Data from Sql Tables\nstoreDataInArrays();\ncustomAdapater = new CustomAdapater(SecondScreen.this, foodID, foodName, foodPrice);\nrecyclerView.setLayoutManager(new LinearLayoutManager(SecondScreen.this));\nrecyclerView.setAdapter(customAdapater);\n\n//Storing the data from the sql table\n     public void storeDataInArrays(){\n        Cursor cursor = myDB.readAllData();\n        //Gets the count of the rows\n        if(cursor.getCount() == 0){\n            Toast.makeText(this, &quot;No data&quot;, Toast.LENGTH_SHORT).show();\n        }else{\n            while(cursor.moveToNext()){\n                foodID.add(cursor.getString(0));\n                foodName.add(cursor.getString(1));\n                foodPrice.add(cursor.getString(2));\n            }\n        }\n     }\n}\n\npublic void PopUP(){\nbtnAddFood.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                MyDataBaseHelper myDB = new MyDataBaseHelper(SecondScreen.this);\n           myDB.addFood(edtFoodName.getText().toString().trim(),\n           edtFoodPrice.getText().toString().trim());\n           \n           //Dismisses the popUp after button click\n           myDialog.dismiss();\n            }\n        });\n\n}\n\n}\n</code></pre>\n<p>Code for RecycleView Adapter</p>\n<pre><code>public class CustomAdapater extends RecyclerView.Adapter&lt;CustomAdapater.MyViewHolder&gt; {\n\n     Context context;\n     private ArrayList foodID, foodName, foodPrice;\n     CheckBox chkItem;\n\n    //Constructor\n    CustomAdapater(Context context, ArrayList foodID, ArrayList foodName, ArrayList foodPrice){\n\n        //Declares to global variables that can be used in the MainAcivity\n       this.context = context;\n       this.foodID = foodID;\n       this.foodName = foodName;\n       this.foodPrice = foodPrice;\n    }\n\n    @NonNull\n    @Override\n    public CustomAdapater.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        //Inflates the item_row layout\n        LayoutInflater inflater = LayoutInflater.from(context);\n        View view = inflater.inflate(R.layout.item_row, parent, false);\n        return new MyViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull CustomAdapater.MyViewHolder holder, int position) {\n        holder.checkItem.setText(String.valueOf(foodName.get(position)));\n        holder.foodPrice_txt.setText(String.valueOf(foodPrice.get(position) + &quot;$&quot;));\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return foodID.size();\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n\n        TextView foodPrice_txt;\n        CheckBox checkItem;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            checkItem = itemView.findViewById(R.id.chkItemRow);\n            foodPrice_txt = itemView.findViewById(R.id.txtPriceRow);\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","kotlin","vert.x"],"answers":[{"comments":[{"owner":{"account_id":14324842,"reputation":97,"user_id":10347217,"display_name":"marcius.tan"},"score":0,"creation_date":1673528613,"post_id":60363416,"comment_id":132522583,"body_markdown":"You said : map() unwraps the future but it still returns Future&lt;U&gt;. Therefore im curious, which one is faster between map() vs compose(). In other words, when to choose map(Function&lt;&gt;) over compose(Function&lt;&gt;)? *Thx,","body":"You said : map() unwraps the future but it still returns Future&lt;U&gt;. Therefore im curious, which one is faster between map() vs compose(). In other words, when to choose map(Function&lt;&gt;) over compose(Function&lt;&gt;)? *Thx,"},{"owner":{"account_id":7926575,"reputation":16936,"user_id":5985853,"display_name":"Alexey Soshin"},"score":1,"creation_date":1673696618,"post_id":60363416,"comment_id":132558492,"body_markdown":"I&#39;m not sure if my answer was related to Vert.x 3 and is not true anymore, or if it wrong all along. In any case, it needed to be updated.","body":"I&#39;m not sure if my answer was related to Vert.x 3 and is not true anymore, or if it wrong all along. In any case, it needed to be updated."}],"tags":[],"owner":{"account_id":7926575,"reputation":16936,"user_id":5985853,"display_name":"Alexey Soshin"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1673716294,"creation_date":1582469524,"answer_id":60363416,"question_id":60358209,"body_markdown":"The original question and answer mention `setHandler()`, which existed in Vert.x 3, but was removed in Vert.x 4. The `setHandler()` was an alias for `onComplete()`\r\n\r\n`compose()` flattens the `Futures` while `map()` doesn&#39;t. In Vert.x, `flatMap()` is simply an alias for `compose()`\r\n\r\nUse `compose` when the argument of your lambda is a Future. Use `map` when it&#39;s a simple object. You should almost always use `compose` in Vert.x, since most methods will return you a Future.\r\n\r\nWhen is it important to flatten values?  \r\n\r\nConsider the following example:\r\n\r\n```java\r\nFuture&lt;Future&lt;String&gt;&gt; f = Future.succeededFuture(Future.succeededFuture(&quot;a&quot;));\r\n```\r\n\r\nNote that the type of `f` is `Future&lt;Future&lt;String&gt;&gt;`\r\n\r\nNow let&#39;s see what happens when we invoke `compose` and `map` on that `Future` \r\n\r\n```java\r\nFuture&lt;String&gt; composeResult = f.compose(a -&gt; a);\r\n\r\nFuture&lt;Future&lt;String&gt;&gt; mapResult = f.map(a -&gt; a);\r\n```\r\n\r\nNotice that `compose` stripped one level of nesting, &quot;flattening&quot; the results, while `map` didn&#39;t.\r\n\r\nThe stripping is valuable, since in asynchronous frameworks such as Vert.x, almost all results are deferred values, such as `Future`. By using `compose`, we ensure that the nesting doesn&#39;t occur.","title":"What is difference between setHandler/map/composite in Vert.x","body":"<p>The original question and answer mention <code>setHandler()</code>, which existed in Vert.x 3, but was removed in Vert.x 4. The <code>setHandler()</code> was an alias for <code>onComplete()</code></p>\n<p><code>compose()</code> flattens the <code>Futures</code> while <code>map()</code> doesn't. In Vert.x, <code>flatMap()</code> is simply an alias for <code>compose()</code></p>\n<p>Use <code>compose</code> when the argument of your lambda is a Future. Use <code>map</code> when it's a simple object. You should almost always use <code>compose</code> in Vert.x, since most methods will return you a Future.</p>\n<p>When is it important to flatten values?</p>\n<p>Consider the following example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Future&lt;Future&lt;String&gt;&gt; f = Future.succeededFuture(Future.succeededFuture(&quot;a&quot;));\n</code></pre>\n<p>Note that the type of <code>f</code> is <code>Future&lt;Future&lt;String&gt;&gt;</code></p>\n<p>Now let's see what happens when we invoke <code>compose</code> and <code>map</code> on that <code>Future</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>Future&lt;String&gt; composeResult = f.compose(a -&gt; a);\n\nFuture&lt;Future&lt;String&gt;&gt; mapResult = f.map(a -&gt; a);\n</code></pre>\n<p>Notice that <code>compose</code> stripped one level of nesting, &quot;flattening&quot; the results, while <code>map</code> didn't.</p>\n<p>The stripping is valuable, since in asynchronous frameworks such as Vert.x, almost all results are deferred values, such as <code>Future</code>. By using <code>compose</code>, we ensure that the nesting doesn't occur.</p>\n"}],"owner":{"account_id":4545667,"reputation":45,"user_id":3692360,"display_name":"frodrigues"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1226,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60363416,"answer_count":1,"score":3,"last_activity_date":1673716294,"creation_date":1582418833,"question_id":60358209,"body_markdown":"Vert.x has a class called Future (https://vertx.io/docs/apidocs/io/vertx/core/Future.html). I`ve already read the doc for setHandler, map and composite in javadoc but I really cannot understand, for me it sounds like as the same thing, could someone which have already had the same doubt help me with this issue?","title":"What is difference between setHandler/map/composite in Vert.x","body":"<p>Vert.x has a class called Future (<a href=\"https://vertx.io/docs/apidocs/io/vertx/core/Future.html\" rel=\"nofollow noreferrer\">https://vertx.io/docs/apidocs/io/vertx/core/Future.html</a>). I`ve already read the doc for setHandler, map and composite in javadoc but I really cannot understand, for me it sounds like as the same thing, could someone which have already had the same doubt help me with this issue?</p>\n"},{"tags":["java","android","codenameone"],"answers":[{"tags":[],"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673587069,"creation_date":1673587069,"answer_id":75105138,"question_id":75103269,"body_markdown":"`requestFocus()` is great for focus but it might collide with native editing which is a different process. \r\n\r\nWhat you want to use is `startEditingAsync()` to and possibly a `stopEditing()` if the wrong field might be edited. \r\n\r\n\r\nAs a sidenote You shouldn&#39;t issue `repaint()` calls unless you&#39;re building a custom component. You should **NEVER** invoke sleep on the EDT. This is a serious bug!","title":"CodenameOne Text Field Focus on Android","body":"<p><code>requestFocus()</code> is great for focus but it might collide with native editing which is a different process.</p>\n<p>What you want to use is <code>startEditingAsync()</code> to and possibly a <code>stopEditing()</code> if the wrong field might be edited.</p>\n<p>As a sidenote You shouldn't issue <code>repaint()</code> calls unless you're building a custom component. You should <strong>NEVER</strong> invoke sleep on the EDT. This is a serious bug!</p>\n"},{"tags":[],"owner":{"account_id":10869534,"reputation":121,"user_id":7991879,"display_name":"Doug Sisco"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673716191,"creation_date":1673716191,"answer_id":75119793,"question_id":75103269,"body_markdown":"Thanks, Shai. Obviously I&#39;m a newbie at CNO and mobile GUI development.\r\n\r\nIn addition to wrapping textedit edits in startEditingAsync() and startEditingAsync(), I had to handle these edits outside of the datachanged event handler.\r\n\r\n    public void onBarcode_tDataChangeEvent(com.codename1.ui.Component cmp, int type, int index) {\r\n        BarcodeDataChangedFired = true;\r\n    }\r\n\r\n    task = new TimerTask() {        \r\n        // run() method to carry out the action of the task\r\n        public void run() {          \r\n        if (BarcodeDataChangedFired) {\r\n                BarcodeDataChangedFired = false;\r\n                \r\n                String s1 = gui_Barcode_t.getText();\r\n    \r\n                // If this event was fired because of the gui_Barcode_ta.setText(&quot; &quot;)..\r\n                if (s1.length() &lt; 1) { \r\n                    // Set focus back to the barcode field.\r\n                    gui_Barcode_t.startEditingAsync();\r\n                    //gui_BarcodeList_ta.stopEditing(); // THIS PREVENTS THE TEXTCHANGE FROM FIRING!\r\n                    return;\r\n                }\r\n    \r\n                // Play a sound to indicate that the barcode was read.\r\n                PlayMP3(&quot;bell4.wav&quot;);\r\n    \r\n                // Copy the new barcode into the barcode list.\r\n                gui_BarcodeList_ta.startEditingAsync();\r\n                gui_BarcodeList_ta.setText(s1);\r\n                gui_BarcodeList_ta.stopEditing();\r\n    \r\n                // Clear the barcode field.\r\n                gui_Barcode_t.startEditingAsync();\r\n                // This is the only way to clear the TextArea, and it will fire the DataChanged event.\r\n                gui_Barcode_t.clear();\r\n                gui_BarcodeList_ta.stopEditing();\r\n            }\r\n        }\r\n    };        ","title":"CodenameOne Text Field Focus on Android","body":"<p>Thanks, Shai. Obviously I'm a newbie at CNO and mobile GUI development.</p>\n<p>In addition to wrapping textedit edits in startEditingAsync() and startEditingAsync(), I had to handle these edits outside of the datachanged event handler.</p>\n<pre><code>public void onBarcode_tDataChangeEvent(com.codename1.ui.Component cmp, int type, int index) {\n    BarcodeDataChangedFired = true;\n}\n\ntask = new TimerTask() {        \n    // run() method to carry out the action of the task\n    public void run() {          \n    if (BarcodeDataChangedFired) {\n            BarcodeDataChangedFired = false;\n            \n            String s1 = gui_Barcode_t.getText();\n\n            // If this event was fired because of the gui_Barcode_ta.setText(&quot; &quot;)..\n            if (s1.length() &lt; 1) { \n                // Set focus back to the barcode field.\n                gui_Barcode_t.startEditingAsync();\n                //gui_BarcodeList_ta.stopEditing(); // THIS PREVENTS THE TEXTCHANGE FROM FIRING!\n                return;\n            }\n\n            // Play a sound to indicate that the barcode was read.\n            PlayMP3(&quot;bell4.wav&quot;);\n\n            // Copy the new barcode into the barcode list.\n            gui_BarcodeList_ta.startEditingAsync();\n            gui_BarcodeList_ta.setText(s1);\n            gui_BarcodeList_ta.stopEditing();\n\n            // Clear the barcode field.\n            gui_Barcode_t.startEditingAsync();\n            // This is the only way to clear the TextArea, and it will fire the DataChanged event.\n            gui_Barcode_t.clear();\n            gui_BarcodeList_ta.stopEditing();\n        }\n    }\n};        \n</code></pre>\n"}],"owner":{"account_id":10869534,"reputation":121,"user_id":7991879,"display_name":"Doug Sisco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75119793,"answer_count":2,"score":1,"last_activity_date":1673716191,"creation_date":1673565292,"question_id":75103269,"body_markdown":"I have a textfield &#39;Barcode&#39; and a textarea &#39;BarcodeList&#39;. \r\n\r\nAt startup I want to set focus on the &#39;Barcode&#39; field. My Android scanner works just like a keyboard and successfully scans into this field. \r\n\r\nWhen the &#39;Barcode&#39; textfield changes I want to add the contents to the &#39;BarcodeList&#39; textarea and then set focus back to the &#39;Barcode&#39; field to get ready for the next scan.\r\n\r\nThe problem is that this works in the simulator but not on the Android device. On the device (Unitech HT730), the scanned data is added to the &#39;Barcode&#39; field and then is copied to the &#39;BarcodeList&#39;, however the focus is not returned to the &#39;Barcode&#39; field. The blinking cursor appears in the field to the far right, but I cannot scan (or type) into this field. Once I touch the field, the cursor jumps to the far left and I am able to scan or type into the field again.\r\n\r\nI have tried inserting sleep(100) just before calls to requestFocus(). I have also tried using repaint(). The only thing that helps is to remove the call to clear(). Its seems that clear() must mess with something other than just the &#39;Barcode&#39; text contents, but I cannot find any alternative way to clear the Barcode contents: even setText(&quot;&quot;) does not work.\r\n\r\nBelow is the code snippet that I am using:\r\n\r\n    gui_Barcode_t.addDataChangeListener((i1, i2) -&gt; {           \r\n        String s1 = gui_Barcode_t.getText();\r\n        \r\n        // A DataChange event will fire after the field is cleared, so test to see if this has occurred.\r\n        if (s1.length()&gt; 0) {           \r\n            List_s += s1 + &quot;\\n&quot;;\r\n\r\n            gui_BarcodeList_ta.requestFocus();\r\n            gui_BarcodeList_ta.setText(List_s);\r\n            sleep(100);            \r\n            gui_BarcodeList_ta.repaint();\r\n        } else {\r\n            // This works in sim: repaint(), sleep(100), requestFocus()\r\n            gui_Barcode_t.repaint();\r\n            sleep(100);            \r\n            gui_Barcode_t.requestFocus();\r\n            return;\r\n        }\r\n\r\n        // Note that a DataChange event will fire after the field is cleared.\r\n        // This works in sim: clear(), sleep(100), repaint(), sleep(100), requestFocus().\r\n        // This works on Android device if clear() is removed, but the text field is not cleared.\r\n        gui_Barcode_t.clear();\r\n        sleep(100);\r\n        gui_Barcode_t.repaint();\r\n        sleep(100);            \r\n        gui_Barcode_t.requestFocus();\r\n    });","title":"CodenameOne Text Field Focus on Android","body":"<p>I have a textfield 'Barcode' and a textarea 'BarcodeList'.</p>\n<p>At startup I want to set focus on the 'Barcode' field. My Android scanner works just like a keyboard and successfully scans into this field.</p>\n<p>When the 'Barcode' textfield changes I want to add the contents to the 'BarcodeList' textarea and then set focus back to the 'Barcode' field to get ready for the next scan.</p>\n<p>The problem is that this works in the simulator but not on the Android device. On the device (Unitech HT730), the scanned data is added to the 'Barcode' field and then is copied to the 'BarcodeList', however the focus is not returned to the 'Barcode' field. The blinking cursor appears in the field to the far right, but I cannot scan (or type) into this field. Once I touch the field, the cursor jumps to the far left and I am able to scan or type into the field again.</p>\n<p>I have tried inserting sleep(100) just before calls to requestFocus(). I have also tried using repaint(). The only thing that helps is to remove the call to clear(). Its seems that clear() must mess with something other than just the 'Barcode' text contents, but I cannot find any alternative way to clear the Barcode contents: even setText(&quot;&quot;) does not work.</p>\n<p>Below is the code snippet that I am using:</p>\n<pre><code>gui_Barcode_t.addDataChangeListener((i1, i2) -&gt; {           \n    String s1 = gui_Barcode_t.getText();\n    \n    // A DataChange event will fire after the field is cleared, so test to see if this has occurred.\n    if (s1.length()&gt; 0) {           \n        List_s += s1 + &quot;\\n&quot;;\n\n        gui_BarcodeList_ta.requestFocus();\n        gui_BarcodeList_ta.setText(List_s);\n        sleep(100);            \n        gui_BarcodeList_ta.repaint();\n    } else {\n        // This works in sim: repaint(), sleep(100), requestFocus()\n        gui_Barcode_t.repaint();\n        sleep(100);            \n        gui_Barcode_t.requestFocus();\n        return;\n    }\n\n    // Note that a DataChange event will fire after the field is cleared.\n    // This works in sim: clear(), sleep(100), repaint(), sleep(100), requestFocus().\n    // This works on Android device if clear() is removed, but the text field is not cleared.\n    gui_Barcode_t.clear();\n    sleep(100);\n    gui_Barcode_t.repaint();\n    sleep(100);            \n    gui_Barcode_t.requestFocus();\n});\n</code></pre>\n"},{"tags":["java","android","iphone","hashmap","nsdictionary"],"answers":[{"comments":[{"owner":{"account_id":164442,"reputation":10993,"user_id":387184,"accept_rate":97,"display_name":"user387184"},"score":0,"creation_date":1322159760,"post_id":8261124,"comment_id":10167497,"body_markdown":"That looks interesting. Is there a name for that? It looks like the matrix operations in Excel...","body":"That looks interesting. Is there a name for that? It looks like the matrix operations in Excel..."},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":12,"creation_date":1322159957,"post_id":8261124,"comment_id":10167532,"body_markdown":"@user387184 Yeah, they call it &quot;double brace initializer&quot;. See this topic: http://stackoverflow.com/questions/924285/efficiency-of-java-double-brace-initialization","body":"@user387184 Yeah, they call it &quot;double brace initializer&quot;. See this topic: <a href=\"http://stackoverflow.com/questions/924285/efficiency-of-java-double-brace-initialization\" title=\"efficiency of java double brace initialization\">stackoverflow.com/questions/924285/&hellip;</a>"},{"owner":{"account_id":164442,"reputation":10993,"user_id":387184,"accept_rate":97,"display_name":"user387184"},"score":2,"creation_date":1322160298,"post_id":8261124,"comment_id":10167598,"body_markdown":"I just put it in my code and I get this warning/message in the line: &quot;The serializable class does not declare a static final serialVersionUID field of type long&quot;. Can I just ignore that? what does this mean? Thanks","body":"I just put it in my code and I get this warning/message in the line: &quot;The serializable class does not declare a static final serialVersionUID field of type long&quot;. Can I just ignore that? what does this mean? Thanks"},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":1,"creation_date":1322160403,"post_id":8261124,"comment_id":10167623,"body_markdown":"@user387184 You can ignore it. See this topic: http://stackoverflow.com/questions/285793/why-should-i-bother-about-serialversionuid","body":"@user387184 You can ignore it. See this topic: <a href=\"http://stackoverflow.com/questions/285793/why-should-i-bother-about-serialversionuid\" title=\"why should i bother about serialversionuid\">stackoverflow.com/questions/285793/&hellip;</a>"},{"owner":{"account_id":2018772,"reputation":4438,"user_id":1805439,"accept_rate":80,"display_name":"Timo T&#252;rschmann"},"score":43,"creation_date":1461679194,"post_id":8261124,"comment_id":61301373,"body_markdown":"You should not use this method. It creates a new class for every time that you use it, which has **much** worse performance than just plainly creating a map. See http://stackoverflow.com/questions/924285/efficiency-of-java-double-brace-initialization","body":"You should not use this method. It creates a new class for every time that you use it, which has <b>much</b> worse performance than just plainly creating a map. See <a href=\"http://stackoverflow.com/questions/924285/efficiency-of-java-double-brace-initialization\" title=\"efficiency of java double brace initialization\">stackoverflow.com/questions/924285/&hellip;</a>"},{"owner":{"account_id":406151,"reputation":2021,"user_id":775496,"accept_rate":94,"display_name":"idungotnosn"},"score":9,"creation_date":1478622515,"post_id":8261124,"comment_id":68227859,"body_markdown":"The reason I downvoted this is because it didn&#39;t explain that this creates a new class for every time that you use it.  I think that people should be aware of the tradeoffs of doing it this way.","body":"The reason I downvoted this is because it didn&#39;t explain that this creates a new class for every time that you use it.  I think that people should be aware of the tradeoffs of doing it this way."},{"owner":{"account_id":2255622,"reputation":5525,"user_id":1986871,"accept_rate":94,"display_name":"Chris Cirefice"},"score":9,"creation_date":1480290060,"post_id":8261124,"comment_id":68887788,"body_markdown":"@TimoT&#252;rschmann Seems that if I ever needed static initialization of a map like this, that it would also be static, eliminating the *every time you use it* performance penalty - you&#39;d have that penalty once. I can&#39;t see any other time that one would want this kind of initialization *without* the variable being static (e.g., would anyone ever use this in a loop?). I may be wrong though, programmers are inventive.","body":"@TimoT&#252;rschmann Seems that if I ever needed static initialization of a map like this, that it would also be static, eliminating the <i>every time you use it</i> performance penalty - you&#39;d have that penalty once. I can&#39;t see any other time that one would want this kind of initialization <i>without</i> the variable being static (e.g., would anyone ever use this in a loop?). I may be wrong though, programmers are inventive."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":4,"creation_date":1522789193,"post_id":8261124,"comment_id":86285744,"body_markdown":"Please don&#39;t use this anti-pattern, it&#39;s [actively dangerous](http://errorprone.info/bugpattern/DoubleBraceInitialization) and there are reasonable alternatives.","body":"Please don&#39;t use this anti-pattern, it&#39;s <a href=\"http://errorprone.info/bugpattern/DoubleBraceInitialization\" rel=\"nofollow noreferrer\">actively dangerous</a> and there are reasonable alternatives."},{"owner":{"account_id":1080260,"reputation":1472,"user_id":1077437,"accept_rate":95,"display_name":"Ariel Grabijas"},"score":1,"creation_date":1554979696,"post_id":8261124,"comment_id":97952589,"body_markdown":"Another problem with this solution is that it can lead to memory leaks. Since it creates anonymoys class with reference to the instance of the owning object, leak can occur when anonymous inner class is returned and held by other objects.","body":"Another problem with this solution is that it can lead to memory leaks. Since it creates anonymoys class with reference to the instance of the owning object, leak can occur when anonymous inner class is returned and held by other objects."}],"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":9,"down_vote_count":10,"up_vote_count":339,"is_accepted":true,"score":329,"last_activity_date":1597895597,"creation_date":1322158254,"answer_id":8261124,"question_id":8261075,"body_markdown":"You can use the **Double Brace Initialization** as shown below:\r\n\r\n    Map&lt;String, Integer&gt; hashMap = new HashMap&lt;String, Integer&gt;()\r\n    {{\r\n         put(&quot;One&quot;, 1);\r\n         put(&quot;Two&quot;, 2);\r\n         put(&quot;Three&quot;, 3);\r\n    }};\r\n\r\nAs a piece of warning, please refer to the thread [Efficiency of Java Double Brace Initialization&quot;][1] for the performance implications that it might have. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/924285/efficiency-of-java-double-brace-initialization","title":"adding multiple entries to a HashMap at once in one statement","body":"<p>You can use the <strong>Double Brace Initialization</strong> as shown below:</p>\n<pre><code>Map&lt;String, Integer&gt; hashMap = new HashMap&lt;String, Integer&gt;()\n{{\n     put(&quot;One&quot;, 1);\n     put(&quot;Two&quot;, 2);\n     put(&quot;Three&quot;, 3);\n}};\n</code></pre>\n<p>As a piece of warning, please refer to the thread <a href=\"https://stackoverflow.com/questions/924285/efficiency-of-java-double-brace-initialization\">Efficiency of Java Double Brace Initialization&quot;</a> for the performance implications that it might have.</p>\n"},{"tags":[],"owner":{"account_id":245885,"reputation":301,"user_id":519662,"display_name":"dfraser"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1322159113,"creation_date":1322159113,"answer_id":8261261,"question_id":8261075,"body_markdown":"Java has no map literal, so there&#39;s no nice way to do exactly what you&#39;re asking.\r\n\r\nIf you need that type of syntax, consider some Groovy, which is Java-compatible and lets you do:\r\n\r\n    def map = [name:&quot;Gromit&quot;, likes:&quot;cheese&quot;, id:1234]","title":"adding multiple entries to a HashMap at once in one statement","body":"<p>Java has no map literal, so there's no nice way to do exactly what you're asking.</p>\n\n<p>If you need that type of syntax, consider some Groovy, which is Java-compatible and lets you do:</p>\n\n<pre><code>def map = [name:\"Gromit\", likes:\"cheese\", id:1234]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3799770,"reputation":235,"user_id":3153736,"display_name":"Micah Stairs"},"score":21,"creation_date":1475498125,"post_id":8261886,"comment_id":66952915,"body_markdown":"This is disgustingly hacky.","body":"This is disgustingly hacky."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":1,"creation_date":1475498216,"post_id":8261886,"comment_id":66952976,"body_markdown":"@MicahStairs - But it&#39;s only one statement.","body":"@MicahStairs - But it&#39;s only one statement."},{"owner":{"account_id":3799770,"reputation":235,"user_id":3153736,"display_name":"Micah Stairs"},"score":3,"creation_date":1475498360,"post_id":8261886,"comment_id":66953072,"body_markdown":"True, but this is the sort of code that I never hope to stumble across in production.","body":"True, but this is the sort of code that I never hope to stumble across in production."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1475500384,"post_id":8261886,"comment_id":66954390,"body_markdown":"@MicahStairs - I&#39;ve seen worse.","body":"@MicahStairs - I&#39;ve seen worse."},{"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"score":1,"creation_date":1476870613,"post_id":8261886,"comment_id":67525575,"body_markdown":"Omg i have searched for this today,how this code works? I have added it into the code for testing but i can&#39;t figure it out how it works internally...  :)","body":"Omg i have searched for this today,how this code works? I have added it into the code for testing but i can&#39;t figure it out how it works internally...  :)"}],"tags":[],"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"comment_count":5,"down_vote_count":9,"up_vote_count":13,"is_accepted":false,"score":4,"last_activity_date":1322164349,"creation_date":1322164349,"answer_id":8261886,"question_id":8261075,"body_markdown":"        boolean x;\r\n        for (x = false, \r\n            map.put(&quot;One&quot;, new Integer(1)), \r\n\t        map.put(&quot;Two&quot;, new Integer(2)),      \r\n\t        map.put(&quot;Three&quot;, new Integer(3)); x;);\r\n\r\nIgnoring the declaration of `x` (which is necessary to avoid an &quot;unreachable statement&quot; diagnostic), technically it&#39;s only one statement.","title":"adding multiple entries to a HashMap at once in one statement","body":"<pre><code>    boolean x;\n    for (x = false, \n        map.put(\"One\", new Integer(1)), \n        map.put(\"Two\", new Integer(2)),      \n        map.put(\"Three\", new Integer(3)); x;);\n</code></pre>\n\n<p>Ignoring the declaration of <code>x</code> (which is necessary to avoid an \"unreachable statement\" diagnostic), technically it's only one statement.</p>\n"},{"comments":[{"owner":{"account_id":259035,"reputation":12666,"user_id":541624,"accept_rate":64,"display_name":"ericn"},"score":0,"creation_date":1493796558,"post_id":23664406,"comment_id":74549056,"body_markdown":"Guava is huge, I wouldn&#39;t use it for my Android app unless absolutely necessary","body":"Guava is huge, I wouldn&#39;t use it for my Android app unless absolutely necessary"},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":4,"creation_date":1494007133,"post_id":23664406,"comment_id":74661575,"body_markdown":"Beware that `ImmutableMap` doesn&#39;t accept `null` keys or values.","body":"Beware that <code>ImmutableMap</code> doesn&#39;t accept <code>null</code> keys or values."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1522789452,"post_id":23664406,"comment_id":86285860,"body_markdown":"@ericn [ProGuard](https://www.guardsquare.com/en/proguard) lets you exclude any parts of a library you aren&#39;t using.","body":"@ericn <a href=\"https://www.guardsquare.com/en/proguard\" rel=\"nofollow noreferrer\">ProGuard</a> lets you exclude any parts of a library you aren&#39;t using."},{"owner":{"account_id":11849925,"reputation":295,"user_id":8671516,"display_name":"longbowking"},"score":0,"creation_date":1678377790,"post_id":23664406,"comment_id":133524545,"body_markdown":"it should be `Map&lt;String, Integer&gt; bigMap = new ImmutableMap.Builder&lt;String, Integer&gt;().put(...).put(...).build();`","body":"it should be <code>Map&lt;String, Integer&gt; bigMap = new ImmutableMap.Builder&lt;String, Integer&gt;().put(...).put(...).build();</code>"}],"tags":[],"owner":{"account_id":161104,"reputation":759,"user_id":381633,"display_name":"JimmyT"},"comment_count":4,"down_vote_count":0,"up_vote_count":73,"is_accepted":false,"score":73,"last_activity_date":1412277404,"creation_date":1400098947,"answer_id":23664406,"question_id":8261075,"body_markdown":"You can use Google Guava&#39;s ImmutableMap.  This works as long as you don&#39;t care about modifying the Map later (you can&#39;t call .put() on the map after constructing it using this method):\r\n\r\n    import com.google.common.collect.ImmutableMap;\r\n\r\n    // For up to five entries, use .of()\r\n    Map&lt;String, Integer&gt; littleMap = ImmutableMap.of(\r\n        &quot;One&quot;, Integer.valueOf(1),\r\n        &quot;Two&quot;, Integer.valueOf(2),\r\n        &quot;Three&quot;, Integer.valueOf(3)\r\n    );\r\n\r\n    // For more than five entries, use .builder()\r\n    Map&lt;String, Integer&gt; bigMap = ImmutableMap.&lt;String, Integer&gt;builder()\r\n        .put(&quot;One&quot;, Integer.valueOf(1))\r\n        .put(&quot;Two&quot;, Integer.valueOf(2))\r\n        .put(&quot;Three&quot;, Integer.valueOf(3))\r\n        .put(&quot;Four&quot;, Integer.valueOf(4))\r\n        .put(&quot;Five&quot;, Integer.valueOf(5))\r\n        .put(&quot;Six&quot;, Integer.valueOf(6))\r\n        .build();\r\n\r\nSee also: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/ImmutableMap.html\r\n\r\nA somewhat related question: https://stackoverflow.com/questions/5947869/like-immutablemap-of-for-hashmap-in-maps\r\n","title":"adding multiple entries to a HashMap at once in one statement","body":"<p>You can use Google Guava's ImmutableMap.  This works as long as you don't care about modifying the Map later (you can't call .put() on the map after constructing it using this method):</p>\n\n<pre><code>import com.google.common.collect.ImmutableMap;\n\n// For up to five entries, use .of()\nMap&lt;String, Integer&gt; littleMap = ImmutableMap.of(\n    \"One\", Integer.valueOf(1),\n    \"Two\", Integer.valueOf(2),\n    \"Three\", Integer.valueOf(3)\n);\n\n// For more than five entries, use .builder()\nMap&lt;String, Integer&gt; bigMap = ImmutableMap.&lt;String, Integer&gt;builder()\n    .put(\"One\", Integer.valueOf(1))\n    .put(\"Two\", Integer.valueOf(2))\n    .put(\"Three\", Integer.valueOf(3))\n    .put(\"Four\", Integer.valueOf(4))\n    .put(\"Five\", Integer.valueOf(5))\n    .put(\"Six\", Integer.valueOf(6))\n    .build();\n</code></pre>\n\n<p>See also: <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/ImmutableMap.html\" rel=\"noreferrer\">http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/ImmutableMap.html</a></p>\n\n<p>A somewhat related question: <a href=\"https://stackoverflow.com/questions/5947869/like-immutablemap-of-for-hashmap-in-maps\">ImmutableMap.of() workaround for HashMap in Maps?</a></p>\n"},{"tags":[],"owner":{"account_id":358084,"reputation":6560,"user_id":698632,"accept_rate":64,"display_name":"Dakusan"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1664756950,"creation_date":1431771800,"answer_id":30274460,"question_id":8261075,"body_markdown":"Here&#39;s a simple class that will accomplish what you want\r\n\r\n    import java.util.HashMap;\r\n    \r\n    public class QuickHash extends HashMap&lt;String, String&gt; {\r\n        public QuickHash(String... KeyValuePairs) {\r\n            super(KeyValuePairs.length/2);\r\n            for(int i=0; i&lt;KeyValuePairs.length; i+=2)\r\n                put(KeyValuePairs[i], KeyValuePairs[i+1]);\r\n        }\r\n    }\r\n\r\nAnd then to use it\r\n\r\n    Map&lt;String, String&gt; Foo=new QuickHash(\r\n        &quot;a&quot;, &quot;1&quot;,\r\n        &quot;b&quot;, &quot;2&quot;\r\n    );\r\n\r\nThis yields `{a:1, b:2}`","title":"adding multiple entries to a HashMap at once in one statement","body":"<p>Here's a simple class that will accomplish what you want</p>\n<pre><code>import java.util.HashMap;\n\npublic class QuickHash extends HashMap&lt;String, String&gt; {\n    public QuickHash(String... KeyValuePairs) {\n        super(KeyValuePairs.length/2);\n        for(int i=0; i&lt;KeyValuePairs.length; i+=2)\n            put(KeyValuePairs[i], KeyValuePairs[i+1]);\n    }\n}\n</code></pre>\n<p>And then to use it</p>\n<pre><code>Map&lt;String, String&gt; Foo=new QuickHash(\n    &quot;a&quot;, &quot;1&quot;,\n    &quot;b&quot;, &quot;2&quot;\n);\n</code></pre>\n<p>This yields <code>{a:1, b:2}</code></p>\n"},{"tags":[],"owner":{"account_id":4302218,"reputation":77,"user_id":3515682,"display_name":"Uri Ziv"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1441746150,"creation_date":1441746150,"answer_id":32467189,"question_id":8261075,"body_markdown":"Another approach may be writing special function to extract all elements values from one string by regular-expression:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Example {\r\n    \tpublic static void main (String[] args){\r\n    \t\tHashMap&lt;String,Integer&gt; hashMapStringInteger = createHashMapStringIntegerInOneStat(&quot;&#39;one&#39; =&gt; &#39;1&#39;, &#39;two&#39; =&gt; &#39;2&#39; , &#39;three&#39;=&gt;&#39;3&#39;  &quot;);\r\n    \t\t\r\n    \t\tSystem.out.println(hashMapStringInteger); // {one=1, two=2, three=3}\r\n    \t}\r\n    \r\n    \tprivate static HashMap&lt;String, Integer&gt; createHashMapStringIntegerInOneStat(String str) {\r\n    \t\tHashMap&lt;String, Integer&gt; returnVar = new HashMap&lt;String, Integer&gt;();\r\n    \r\n    \t\tString currentStr = str;\r\n    \t\tPattern pattern1 = Pattern.compile(&quot;^\\\\s*&#39;([^&#39;]*)&#39;\\\\s*=\\\\s*&gt;\\\\s*&#39;([^&#39;]*)&#39;\\\\s*,?\\\\s*(.*)$&quot;);\r\n    \r\n    \t\t// Parse all elements in the given string.\r\n    \t\tboolean thereIsMore = true;\r\n    \t\twhile (thereIsMore){\r\n    \t\t\tMatcher matcher = pattern1.matcher(currentStr);\r\n    \t\t\tif (matcher.find()) {\r\n    \t\t\t\treturnVar.put(matcher.group(1),Integer.valueOf(matcher.group(2)));\r\n    \t\t\t\tcurrentStr = matcher.group(3);\r\n    \t\t\t}\r\n    \t\t\telse{\r\n    \t\t\t\tthereIsMore = false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\t// Validate that all elements in the given string were parsed properly\r\n    \t\tif (currentStr.length() &gt; 0){\r\n    \t\t\tSystem.out.println(&quot;WARNING: Problematic string format. given String: &quot; + str);\r\n    \t\t}\r\n    \r\n    \t\treturn returnVar;\r\n    \t}\r\n    }\r\n    ","title":"adding multiple entries to a HashMap at once in one statement","body":"<p>Another approach may be writing special function to extract all elements values from one string by regular-expression:</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Example {\n    public static void main (String[] args){\n        HashMap&lt;String,Integer&gt; hashMapStringInteger = createHashMapStringIntegerInOneStat(\"'one' =&gt; '1', 'two' =&gt; '2' , 'three'=&gt;'3'  \");\n\n        System.out.println(hashMapStringInteger); // {one=1, two=2, three=3}\n    }\n\n    private static HashMap&lt;String, Integer&gt; createHashMapStringIntegerInOneStat(String str) {\n        HashMap&lt;String, Integer&gt; returnVar = new HashMap&lt;String, Integer&gt;();\n\n        String currentStr = str;\n        Pattern pattern1 = Pattern.compile(\"^\\\\s*'([^']*)'\\\\s*=\\\\s*&gt;\\\\s*'([^']*)'\\\\s*,?\\\\s*(.*)$\");\n\n        // Parse all elements in the given string.\n        boolean thereIsMore = true;\n        while (thereIsMore){\n            Matcher matcher = pattern1.matcher(currentStr);\n            if (matcher.find()) {\n                returnVar.put(matcher.group(1),Integer.valueOf(matcher.group(2)));\n                currentStr = matcher.group(3);\n            }\n            else{\n                thereIsMore = false;\n            }\n        }\n\n        // Validate that all elements in the given string were parsed properly\n        if (currentStr.length() &gt; 0){\n            System.out.println(\"WARNING: Problematic string format. given String: \" + str);\n        }\n\n        return returnVar;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3078593,"reputation":3418,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":2,"creation_date":1585814167,"post_id":36867326,"comment_id":107896265,"body_markdown":"After adding 10 entries, it throws strange error &quot;can not resolve method&quot;, is this bug with this method ?","body":"After adding 10 entries, it throws strange error &quot;can not resolve method&quot;, is this bug with this method ?"},{"owner":{"account_id":290705,"reputation":7460,"user_id":592392,"accept_rate":75,"display_name":"jolivier"},"score":6,"creation_date":1592491518,"post_id":36867326,"comment_id":110450268,"body_markdown":"@vikramvi yes If you look at the [documentation](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V,K,V,K,V,K,V,K,V,K,V,K,V,K,V)) `Map.of` is only done up to 10 entries since it is quite laborious","body":"@vikramvi yes If you look at the <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/Map.html#of(K,V,K,V,K,V,K,V,K,V,K,V,K,V,K,V,K,V,K,V)\" rel=\"nofollow noreferrer\">documentation</a> <code>Map.of</code> is only done up to 10 entries since it is quite laborious"}],"tags":[],"owner":{"account_id":2018772,"reputation":4438,"user_id":1805439,"accept_rate":80,"display_name":"Timo T&#252;rschmann"},"comment_count":2,"down_vote_count":0,"up_vote_count":87,"is_accepted":false,"score":87,"last_activity_date":1538383943,"creation_date":1461679547,"answer_id":36867326,"question_id":8261075,"body_markdown":"Since Java 9, it is possible to use [`Map.of(...)`][1], like so:\r\n\r\n    Map&lt;String, Integer&gt; immutableMap = Map.of(&quot;One&quot;, 1, \r\n                                               &quot;Two&quot;, 2, \r\n                                               &quot;Three&quot;, 3);\r\n\r\nThis map is immutable. If you want the map to be mutable, you have to add:\r\n\r\n    Map&lt;String, Integer&gt; hashMap = new HashMap&lt;&gt;(immutableMap);\r\n\r\nIf you can&#39;t use Java 9, you&#39;re stuck with writing a similar helper method yourself or using a third-party library (like [Guava][2]) to add that functionality for you.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#of--\r\n  [2]: https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/ImmutableMap.html#of--","title":"adding multiple entries to a HashMap at once in one statement","body":"<p>Since Java 9, it is possible to use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Map.html#of--\" rel=\"noreferrer\"><code>Map.of(...)</code></a>, like so:</p>\n\n<pre><code>Map&lt;String, Integer&gt; immutableMap = Map.of(\"One\", 1, \n                                           \"Two\", 2, \n                                           \"Three\", 3);\n</code></pre>\n\n<p>This map is immutable. If you want the map to be mutable, you have to add:</p>\n\n<pre><code>Map&lt;String, Integer&gt; hashMap = new HashMap&lt;&gt;(immutableMap);\n</code></pre>\n\n<p>If you can't use Java 9, you're stuck with writing a similar helper method yourself or using a third-party library (like <a href=\"https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/ImmutableMap.html#of--\" rel=\"noreferrer\">Guava</a>) to add that functionality for you.</p>\n"},{"comments":[{"owner":{"account_id":2338299,"reputation":87,"user_id":2050159,"display_name":"juls"},"score":0,"creation_date":1597053269,"post_id":44131887,"comment_id":111998492,"body_markdown":"This method shouldn&#39;t be used since the implementation is not type safe!\nExample: Map&lt;Integer, String&gt; map1 = mapOf(1, &quot;value1&quot;, &quot;key&quot;, 2, 2L);","body":"This method shouldn&#39;t be used since the implementation is not type safe! Example: Map&lt;Integer, String&gt; map1 = mapOf(1, &quot;value1&quot;, &quot;key&quot;, 2, 2L);"},{"owner":{"account_id":1215286,"reputation":7830,"user_id":1183010,"accept_rate":80,"display_name":"R. Oosterholt"},"score":0,"creation_date":1597215310,"post_id":44131887,"comment_id":112056797,"body_markdown":"Well, I expect the programmer which defines `Map&lt;Integer, String&gt;`, to also supply those types...","body":"Well, I expect the programmer which defines <code>Map&lt;Integer, String&gt;</code>, to also supply those types..."}],"tags":[],"owner":{"account_id":1215286,"reputation":7830,"user_id":1183010,"accept_rate":80,"display_name":"R. Oosterholt"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644565377,"creation_date":1495534327,"answer_id":44131887,"question_id":8261075,"body_markdown":"You could add this utility function to a utility class:\r\n\r\n\tpublic static &lt;K, V&gt; Map&lt;K, V&gt; mapOf(Object... keyValues) {\r\n\t\tMap&lt;K, V&gt; map = new HashMap&lt;&gt;(keyValues.length / 2);\r\n\r\n\t\tfor (int index = 0; index &lt; keyValues.length / 2; index++) {\r\n            map.put((K)keyValues[index * 2], (V)keyValues[index * 2 + 1]);\r\n\t\t}\r\n\r\n\t\treturn map;\r\n\t}\r\n\r\n    Map&lt;Integer, String&gt; map1 = YourClass.mapOf(1, &quot;value1&quot;, 2, &quot;value2&quot;);\r\n    Map&lt;String, String&gt; map2 = YourClass.mapOf(&quot;key1&quot;, &quot;value1&quot;, &quot;key2&quot;, &quot;value2&quot;);\r\n\r\nNote: in `Java 9` you can use [Map.of][1]\r\n\r\n[1]: http://download.java.net/java/jdk9/docs/api/java/util/Map.html#of-K-V-","title":"adding multiple entries to a HashMap at once in one statement","body":"<p>You could add this utility function to a utility class:</p>\n<pre><code>public static &lt;K, V&gt; Map&lt;K, V&gt; mapOf(Object... keyValues) {\n    Map&lt;K, V&gt; map = new HashMap&lt;&gt;(keyValues.length / 2);\n\n    for (int index = 0; index &lt; keyValues.length / 2; index++) {\n        map.put((K)keyValues[index * 2], (V)keyValues[index * 2 + 1]);\n    }\n\n    return map;\n}\n\nMap&lt;Integer, String&gt; map1 = YourClass.mapOf(1, &quot;value1&quot;, 2, &quot;value2&quot;);\nMap&lt;String, String&gt; map2 = YourClass.mapOf(&quot;key1&quot;, &quot;value1&quot;, &quot;key2&quot;, &quot;value2&quot;);\n</code></pre>\n<p>Note: in <code>Java 9</code> you can use <a href=\"http://download.java.net/java/jdk9/docs/api/java/util/Map.html#of-K-V-\" rel=\"nofollow noreferrer\">Map.of</a></p>\n"},{"comments":[{"owner":{"account_id":38158,"reputation":1565,"user_id":109354,"display_name":"Sourabh"},"score":0,"creation_date":1538722414,"post_id":46343417,"comment_id":92249944,"body_markdown":"Excellent if you could use Java 9+. Also these factory method returns immutable map.","body":"Excellent if you could use Java 9+. Also these factory method returns immutable map."}],"tags":[],"owner":{"account_id":8487283,"reputation":1292,"user_id":6364956,"accept_rate":86,"display_name":"Sadiq Ali"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1525122873,"creation_date":1505995314,"answer_id":46343417,"question_id":8261075,"body_markdown":"Maps have also had factory methods added in Java 9. For up to 10 entries Maps have overloaded constructors that take pairs of keys and values. For example we could build a map of various cities and their populations (according to google in October 2016) as follow:\r\n\r\n    Map&lt;String, Integer&gt; cities = Map.of(&quot;Brussels&quot;, 1_139000, &quot;Cardiff&quot;, 341_000);\r\n\r\nThe var-args case for Map is a little bit harder, you need to have both keys and values, but in Java, methods cant have two var-args parameters. So the general case is handled by taking a var-args method of `Map.Entry&lt;K, V&gt;` objects and adding a static `entry()` method that constructs them. For example:\r\n\r\n    Map&lt;String, Integer&gt; cities = Map.ofEntries(\r\n        entry(&quot;Brussels&quot;, 1139000), \r\n        entry(&quot;Cardiff&quot;, 341000)\r\n    );\r\n\r\n\r\n[Collection Factory Methods in Java 9][1] \r\n\r\n\r\n  [1]: http://iteratrlearning.com/java9/2016/11/09/java9-collection-factory-methods.html","title":"adding multiple entries to a HashMap at once in one statement","body":"<p>Maps have also had factory methods added in Java 9. For up to 10 entries Maps have overloaded constructors that take pairs of keys and values. For example we could build a map of various cities and their populations (according to google in October 2016) as follow:</p>\n\n<pre><code>Map&lt;String, Integer&gt; cities = Map.of(\"Brussels\", 1_139000, \"Cardiff\", 341_000);\n</code></pre>\n\n<p>The var-args case for Map is a little bit harder, you need to have both keys and values, but in Java, methods cant have two var-args parameters. So the general case is handled by taking a var-args method of <code>Map.Entry&lt;K, V&gt;</code> objects and adding a static <code>entry()</code> method that constructs them. For example:</p>\n\n<pre><code>Map&lt;String, Integer&gt; cities = Map.ofEntries(\n    entry(\"Brussels\", 1139000), \n    entry(\"Cardiff\", 341000)\n);\n</code></pre>\n\n<p><a href=\"http://iteratrlearning.com/java9/2016/11/09/java9-collection-factory-methods.html\" rel=\"noreferrer\">Collection Factory Methods in Java 9</a> </p>\n"},{"tags":[],"owner":{"account_id":5038301,"reputation":19,"user_id":4046496,"display_name":"alex5161"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610136452,"creation_date":1610136452,"answer_id":65635725,"question_id":8261075,"body_markdown":"Based on solution, presented by @Dakusan (the class defining to extend the HashMap), I did it this way:\r\n\r\n      public static HashMap&lt;String,String&gt; SetHash(String...pairs) {\r\n         HashMap&lt;String,String&gt; rtn = new HashMap&lt;String,String&gt;(pairs.length/2);\r\n         for ( int n=0; n &lt; pairs.length; n+=2 ) rtn.put(pairs[n], pairs[n + 1]);\r\n        return rtn; \r\n      }\r\n.. and using it this way:\r\n\r\n    HashMap&lt;String,String&gt; hm = SetHash( &quot;one&quot;,&quot;aa&quot;, &quot;two&quot;,&quot;bb&quot;, &quot;tree&quot;,&quot;cc&quot;);\r\n\r\n(Not sure if there is any disadvantages in that way (I am not a java developer, just has to do some task in java), but it works and seems to me comfortable.) \r\n","title":"adding multiple entries to a HashMap at once in one statement","body":"<p>Based on solution, presented by @Dakusan (the class defining to extend the HashMap), I did it this way:</p>\n<pre><code>  public static HashMap&lt;String,String&gt; SetHash(String...pairs) {\n     HashMap&lt;String,String&gt; rtn = new HashMap&lt;String,String&gt;(pairs.length/2);\n     for ( int n=0; n &lt; pairs.length; n+=2 ) rtn.put(pairs[n], pairs[n + 1]);\n    return rtn; \n  }\n</code></pre>\n<p>.. and using it this way:</p>\n<pre><code>HashMap&lt;String,String&gt; hm = SetHash( &quot;one&quot;,&quot;aa&quot;, &quot;two&quot;,&quot;bb&quot;, &quot;tree&quot;,&quot;cc&quot;);\n</code></pre>\n<p>(Not sure if there is any disadvantages in that way (I am not a java developer, just has to do some task in java), but it works and seems to me comfortable.)</p>\n"},{"tags":[],"owner":{"account_id":12178678,"reputation":81,"user_id":8890929,"display_name":"Shuyou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673716081,"creation_date":1673716081,"answer_id":75119778,"question_id":8261075,"body_markdown":"We can use JSON to achieve this, like following using Gson\r\n````\r\nMap&lt;String,Integer&gt; hashMap = new Gson().fromJson(&quot;{&#39;one&#39;:1,&#39;two&#39;:2,&#39;three&#39;:3}&quot;,HashMap.class);\r\n````\r\nOr using Jackson\r\n````\r\nMap&lt;String,Integer&gt; hashMap = new ObjectMapper().readValue(&quot;{&#39;one&#39;:1,&#39;two&#39;:2,&#39;three&#39;:3}&quot;,HashMap.class);\r\n````","title":"adding multiple entries to a HashMap at once in one statement","body":"<p>We can use JSON to achieve this, like following using Gson</p>\n<pre><code>Map&lt;String,Integer&gt; hashMap = new Gson().fromJson(&quot;{'one':1,'two':2,'three':3}&quot;,HashMap.class);\n</code></pre>\n<p>Or using Jackson</p>\n<pre><code>Map&lt;String,Integer&gt; hashMap = new ObjectMapper().readValue(&quot;{'one':1,'two':2,'three':3}&quot;,HashMap.class);\n</code></pre>\n"}],"owner":{"account_id":164442,"reputation":10993,"user_id":387184,"accept_rate":97,"display_name":"user387184"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222918,"favorite_count":0,"down_vote_count":0,"up_vote_count":180,"accepted_answer_id":8261124,"answer_count":11,"score":180,"last_activity_date":1673716081,"creation_date":1322157911,"question_id":8261075,"body_markdown":"I need to initialize a constant HashMap and would like to do it in one line statement. Avoiding sth like this:\r\n\r\n      hashMap.put(&quot;One&quot;, new Integer(1)); // adding value into HashMap\r\n      hashMap.put(&quot;Two&quot;, new Integer(2));      \r\n      hashMap.put(&quot;Three&quot;, new Integer(3));\r\n\r\nsimilar to this in objective C:\r\n\r\n    [NSDictionary dictionaryWithObjectsAndKeys:\r\n    @&quot;w&quot;,[NSNumber numberWithInt:1],\r\n    @&quot;K&quot;,[NSNumber numberWithInt:2],\r\n    @&quot;e&quot;,[NSNumber numberWithInt:4],\r\n    @&quot;z&quot;,[NSNumber numberWithInt:5],\r\n    @&quot;l&quot;,[NSNumber numberWithInt:6],\r\n    nil] \r\n\r\nI have not found any example that shows how to do this having looked at so many.\r\n   \r\n","title":"adding multiple entries to a HashMap at once in one statement","body":"<p>I need to initialize a constant HashMap and would like to do it in one line statement. Avoiding sth like this:</p>\n\n<pre><code>  hashMap.put(\"One\", new Integer(1)); // adding value into HashMap\n  hashMap.put(\"Two\", new Integer(2));      \n  hashMap.put(\"Three\", new Integer(3));\n</code></pre>\n\n<p>similar to this in objective C:</p>\n\n<pre><code>[NSDictionary dictionaryWithObjectsAndKeys:\n@\"w\",[NSNumber numberWithInt:1],\n@\"K\",[NSNumber numberWithInt:2],\n@\"e\",[NSNumber numberWithInt:4],\n@\"z\",[NSNumber numberWithInt:5],\n@\"l\",[NSNumber numberWithInt:6],\nnil] \n</code></pre>\n\n<p>I have not found any example that shows how to do this having looked at so many.</p>\n"},{"tags":["java","database","firebase","android-studio","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583585904,"creation_date":1583585904,"answer_id":60577763,"question_id":60577477,"body_markdown":"Firebase Realtime Database only allows accessing data by its path. There is no way to access data by a derived property such as its index/position. \r\n\r\nIf you need to access data by index, you should use the indices as the keys for those items. But note that Firebase in most cases recommends against doing this, as it hurts scalability and won&#39;t work while offline. See [Best Practices: Arrays in Firebase](https://firebase.googleblog.com/2014/04/best-practices-arrays-in-firebase.html).","title":"Retrieve data from Firebase by Refering to a Child&#39;s Index","body":"<p>Firebase Realtime Database only allows accessing data by its path. There is no way to access data by a derived property such as its index/position. </p>\n\n<p>If you need to access data by index, you should use the indices as the keys for those items. But note that Firebase in most cases recommends against doing this, as it hurts scalability and won't work while offline. See <a href=\"https://firebase.googleblog.com/2014/04/best-practices-arrays-in-firebase.html\" rel=\"nofollow noreferrer\">Best Practices: Arrays in Firebase</a>.</p>\n"}],"owner":{"account_id":14013359,"reputation":73,"user_id":10121467,"display_name":"Luke Xuereb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673715781,"creation_date":1583583641,"question_id":60577477,"body_markdown":"I am attempting to access, one by one, the values inside of the &#39;Progress&#39; Child, as can be seen in the [following image][3]. Having done my research, I cannot seem to find a function which allows me to refer to a child by its index. Is it possible to access these records by referring to some sort of index, such as [0], [1], [2] etc. as opposed to referring to their key?\r\n\r\n\r\n\r\n\r\n  [3]: https://i.stack.imgur.com/H7xNt.jpg","title":"Retrieve data from Firebase by Refering to a Child&#39;s Index","body":"<p>I am attempting to access, one by one, the values inside of the 'Progress' Child, as can be seen in the <a href=\"https://i.stack.imgur.com/H7xNt.jpg\" rel=\"nofollow noreferrer\">following image</a>. Having done my research, I cannot seem to find a function which allows me to refer to a child by its index. Is it possible to access these records by referring to some sort of index, such as [0], [1], [2] etc. as opposed to referring to their key?</p>\n"},{"tags":["java","intellij-idea","graalvm"],"answers":[{"comments":[{"owner":{"account_id":14955940,"reputation":65,"user_id":10797245,"display_name":"tofuthefirst"},"score":0,"creation_date":1603001510,"post_id":64403118,"comment_id":113894208,"body_markdown":"yeah @Oleg `org.graalvm.sdk.jmod` exists. But then should I add them to my IDE just like I would to add normal `jar`s?","body":"yeah @Oleg <code>org.graalvm.sdk.jmod</code> exists. But then should I add them to my IDE just like I would to add normal <code>jar</code>s?"},{"owner":{"account_id":1093963,"reputation":3605,"user_id":1087978,"display_name":"Oleg elajev"},"score":0,"creation_date":1603022745,"post_id":64403118,"comment_id":113899051,"body_markdown":"I&#39;m sorry, I don&#39;t know. I would expect it to work out of the box in the IDE. Maybe it&#39;s worth filing an issue to IDEA? Personally, I add the maven dependency and move on.","body":"I&#39;m sorry, I don&#39;t know. I would expect it to work out of the box in the IDE. Maybe it&#39;s worth filing an issue to IDEA? Personally, I add the maven dependency and move on."},{"owner":{"account_id":14955940,"reputation":65,"user_id":10797245,"display_name":"tofuthefirst"},"score":0,"creation_date":1603029639,"post_id":64403118,"comment_id":113900826,"body_markdown":"yeah thats what I did but ok @Oleg I&#39;ll try to file an issue","body":"yeah thats what I did but ok @Oleg I&#39;ll try to file an issue"},{"owner":{"account_id":18048588,"reputation":191,"user_id":13118875,"display_name":"Bolat Basheyev"},"score":0,"creation_date":1608840158,"post_id":64403118,"comment_id":115699971,"body_markdown":"I&#39;m experiencing the same issue with GraalVM (Java 11). I did try both ways: added graal-sdk to dependencies and cleared caches, but IntellJ IDEA still can not recognize java.util package.","body":"I&#39;m experiencing the same issue with GraalVM (Java 11). I did try both ways: added graal-sdk to dependencies and cleared caches, but IntellJ IDEA still can not recognize java.util package."},{"owner":{"account_id":1093963,"reputation":3605,"user_id":1087978,"display_name":"Oleg elajev"},"score":0,"creation_date":1608930530,"post_id":64403118,"comment_id":115715593,"body_markdown":"What version are you using? I think there might have been a fix in a recent release?","body":"What version are you using? I think there might have been a fix in a recent release?"}],"tags":[],"owner":{"account_id":1093963,"reputation":3605,"user_id":1087978,"display_name":"Oleg elajev"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1602962009,"creation_date":1602942122,"answer_id":64403118,"question_id":64399624,"body_markdown":"One way to make IDEA recognise the graal-sdk.jar classes is to add it to your dependencies via the build tool. The jar is available on Maven Central: https://mvnrepository.com/artifact/org.graalvm.sdk/graal-sdk/20.2.0\r\n\r\n\r\nso adding it to the dependencies with Maven scope: `provided` will make IDEA to index it and provide content assist, etc. but it won&#39;t be used or packaged, cause it&#39;s provided. \r\n\r\nFor Gradle I think it&#39;s the `compileOnly`. \r\n\r\nEdit: \r\nFor completeness, on JDK11 things are packaged in `jmod` files: https://docs.oracle.com/javase/9/tools/jmod.htm#JSWOR-GUID-0A0BDFF6-BE34-461B-86EF-AAC9A555E2AE \r\n\r\nAnd maybe you can convince IDE to look at them. I think it&#39;s the `$GRAALVM_HOME/jmods/org.graalvm.sdk.jmod`\r\n\r\n","title":"IntelliJ IDEA not indexing GraalVM libraries","body":"<p>One way to make IDEA recognise the graal-sdk.jar classes is to add it to your dependencies via the build tool. The jar is available on Maven Central: <a href=\"https://mvnrepository.com/artifact/org.graalvm.sdk/graal-sdk/20.2.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.graalvm.sdk/graal-sdk/20.2.0</a></p>\n<p>so adding it to the dependencies with Maven scope: <code>provided</code> will make IDEA to index it and provide content assist, etc. but it won't be used or packaged, cause it's provided.</p>\n<p>For Gradle I think it's the <code>compileOnly</code>.</p>\n<p>Edit:\nFor completeness, on JDK11 things are packaged in <code>jmod</code> files: <a href=\"https://docs.oracle.com/javase/9/tools/jmod.htm#JSWOR-GUID-0A0BDFF6-BE34-461B-86EF-AAC9A555E2AE\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/tools/jmod.htm#JSWOR-GUID-0A0BDFF6-BE34-461B-86EF-AAC9A555E2AE</a></p>\n<p>And maybe you can convince IDE to look at them. I think it's the <code>$GRAALVM_HOME/jmods/org.graalvm.sdk.jmod</code></p>\n"}],"owner":{"account_id":14955940,"reputation":65,"user_id":10797245,"display_name":"tofuthefirst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1084,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":64403118,"answer_count":1,"score":5,"last_activity_date":1673715208,"creation_date":1602916078,"question_id":64399624,"body_markdown":"I&#39;m kinda new to this GraalVM stuff so please help me. I am using IntelliJ IDEA as my IDE and Gradle as my standard build system. I&#39;m using the inbuilt GraalVM JDK (it&#39;s based on Java 11) for all of my projects. So, my problem is when I try to import the `org.graalvm.polyglot` or any such package it draws a squiggly line under the import which signifies that IntelliJ IDEA doesn&#39;t recognize the package and hasn&#39;t indexed it. But when I run it with gradle or any method, the imported packages work. The IDE&#39;s autocomplete doesn&#39;t work. It is kinda irritating to type out the whole name of the class and method just like one would while programming in Notepad. I have seen some tutorials for this which suggested that I add the `graal-sdk.jar` as a dependency but the jar file wasn&#39;t to be found in the Java 11 version of GraalVM. I even added the whole `lib` folder to IntelliJ&#39;s `Libraries` section in `Project Structure`. All of these did not work out. Could anybody help me out with this?","title":"IntelliJ IDEA not indexing GraalVM libraries","body":"<p>I'm kinda new to this GraalVM stuff so please help me. I am using IntelliJ IDEA as my IDE and Gradle as my standard build system. I'm using the inbuilt GraalVM JDK (it's based on Java 11) for all of my projects. So, my problem is when I try to import the <code>org.graalvm.polyglot</code> or any such package it draws a squiggly line under the import which signifies that IntelliJ IDEA doesn't recognize the package and hasn't indexed it. But when I run it with gradle or any method, the imported packages work. The IDE's autocomplete doesn't work. It is kinda irritating to type out the whole name of the class and method just like one would while programming in Notepad. I have seen some tutorials for this which suggested that I add the <code>graal-sdk.jar</code> as a dependency but the jar file wasn't to be found in the Java 11 version of GraalVM. I even added the whole <code>lib</code> folder to IntelliJ's <code>Libraries</code> section in <code>Project Structure</code>. All of these did not work out. Could anybody help me out with this?</p>\n"},{"tags":["java","mono","reactive-programming","spring-webflux","flux"],"answers":[{"comments":[{"owner":{"account_id":25372929,"reputation":1,"user_id":19186430,"display_name":"Harsh Singh"},"score":0,"creation_date":1673794421,"post_id":75119668,"comment_id":132572660,"body_markdown":"Is it possible to set values in A without creating new A object?","body":"Is it possible to set values in A without creating new A object?"},{"owner":{"account_id":7630732,"reputation":1728,"user_id":5785871,"accept_rate":80,"display_name":"mslowiak"},"score":0,"creation_date":1673821201,"post_id":75119668,"comment_id":132577669,"body_markdown":"You can do Mono.just(A.setVal(val))","body":"You can do Mono.just(A.setVal(val))"}],"tags":[],"owner":{"account_id":7630732,"reputation":1728,"user_id":5785871,"accept_rate":80,"display_name":"mslowiak"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673715192,"creation_date":1673715192,"answer_id":75119668,"question_id":75117906,"body_markdown":"It is hard to know what you exactly want to achieve but assuming that:\r\n- `groupedFlux` is a `Flux&lt;Integer&gt;`\r\n- `someOtherCallThatReturnsThisFluxOfDouble` is a `Flux&lt;Double&gt;`\r\n- `outsideFlux` is a `Flux&lt;A&gt;`\r\n\r\ntake a look on the following code snippet, it should help you:\r\n\r\n    public static void main(String[] args) {\r\n        Flux&lt;Integer&gt; groupedFlux = Flux.just(1, 2, 3, 4);\r\n        Flux&lt;A&gt; listOfA = groupedFlux\r\n                .map(DemoApplication::randomListOfDoubles)\r\n                .flatMap(fluxWithDoubles -&gt; fluxWithDoubles.collectList().flatMap(x -&gt; Mono.just(new A(x))));\r\n    }\r\n    \r\n    static class A {\r\n        private List&lt;Double&gt; doubles;\r\n        public A(List&lt;Double&gt; doubles) {\r\n            this.doubles = doubles;\r\n        }\r\n    }\r\n    \r\n    private static Flux&lt;Double&gt; randomListOfDoubles(int number) {\r\n        return Flux.just(100.00 + number, 200.00 + number, 300.00 + number);\r\n    }","title":"How to consume elements of flux inside flux?","body":"<p>It is hard to know what you exactly want to achieve but assuming that:</p>\n<ul>\n<li><code>groupedFlux</code> is a <code>Flux&lt;Integer&gt;</code></li>\n<li><code>someOtherCallThatReturnsThisFluxOfDouble</code> is a <code>Flux&lt;Double&gt;</code></li>\n<li><code>outsideFlux</code> is a <code>Flux&lt;A&gt;</code></li>\n</ul>\n<p>take a look on the following code snippet, it should help you:</p>\n<pre><code>public static void main(String[] args) {\n    Flux&lt;Integer&gt; groupedFlux = Flux.just(1, 2, 3, 4);\n    Flux&lt;A&gt; listOfA = groupedFlux\n            .map(DemoApplication::randomListOfDoubles)\n            .flatMap(fluxWithDoubles -&gt; fluxWithDoubles.collectList().flatMap(x -&gt; Mono.just(new A(x))));\n}\n\nstatic class A {\n    private List&lt;Double&gt; doubles;\n    public A(List&lt;Double&gt; doubles) {\n        this.doubles = doubles;\n    }\n}\n\nprivate static Flux&lt;Double&gt; randomListOfDoubles(int number) {\n    return Flux.just(100.00 + number, 200.00 + number, 300.00 + number);\n}\n</code></pre>\n"}],"owner":{"account_id":25372929,"reputation":1,"user_id":19186430,"display_name":"Harsh Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673715192,"creation_date":1673699130,"question_id":75117906,"body_markdown":"My code:-\r\n\r\n    Flux&lt;A&gt; outsideFlux = groupedFlux.map(element -&gt; {\r\n\r\n            //some operations that convert element to A\r\n\r\n            Flux&lt;Double&gt; insideFlux = someOtherCallThatReturnsThisFluxOfDouble;\r\n\r\n            insideFlux.subscribe(val -&gt; A.setVal(val));\r\n          }\r\n        )\r\n\r\nIssue with above is even after executing A.setVal(val),it remains null only(as value lives inside the stream only and dies afterwards).How do I set this value in A ?\r\n\r\n","title":"How to consume elements of flux inside flux?","body":"<p>My code:-</p>\n<pre><code>Flux&lt;A&gt; outsideFlux = groupedFlux.map(element -&gt; {\n\n        //some operations that convert element to A\n\n        Flux&lt;Double&gt; insideFlux = someOtherCallThatReturnsThisFluxOfDouble;\n\n        insideFlux.subscribe(val -&gt; A.setVal(val));\n      }\n    )\n</code></pre>\n<p>Issue with above is even after executing A.setVal(val),it remains null only(as value lives inside the stream only and dies afterwards).How do I set this value in A ?</p>\n"},{"tags":["java","android","androidx"],"comments":[{"owner":{"account_id":13399589,"reputation":49,"user_id":9669538,"display_name":"Al Sadiq Insitute"},"score":0,"creation_date":1577372762,"post_id":59489188,"comment_id":105154560,"body_markdown":"Nikolai Shevchenko\nPlz give me solution thanks","body":"Nikolai Shevchenko Plz give me solution thanks"},{"owner":{"account_id":13399589,"reputation":49,"user_id":9669538,"display_name":"Al Sadiq Insitute"},"score":0,"creation_date":1597040660,"post_id":59489188,"comment_id":111993579,"body_markdown":"migrate to Androidx   this is  the pure  solution","body":"migrate to Androidx   this is  the pure  solution"}],"answers":[{"comments":[{"owner":{"account_id":132094,"reputation":31753,"user_id":332578,"accept_rate":89,"display_name":"Jacksonkr"},"score":0,"creation_date":1614713348,"post_id":59576244,"comment_id":117467933,"body_markdown":"I recommend trying something like this first https://stackoverflow.com/q/55909804/332578","body":"I recommend trying something like this first <a href=\"https://stackoverflow.com/q/55909804/332578\">stackoverflow.com/q/55909804/332578</a>"}],"tags":[],"owner":{"account_id":13399589,"reputation":49,"user_id":9669538,"display_name":"Al Sadiq Insitute"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578044689,"creation_date":1578044689,"answer_id":59576244,"question_id":59489188,"body_markdown":"**I solve it solution to myself hurraaaaaaaaaah!\r\nAfter a long searching i get the solution  by  writing like that   excluding group of com.android.support and support-v4   from facebook audience network** \r\n\r\n**implementation (&#39;com.facebook.android:audience-network-sdk:5.6.0&#39;){\r\n      exclude group: &#39;com.android.support&#39;\r\n      exclude module: &#39;support-v4&#39;\r\n  }**","title":"Duplicate class android.support.v4.app.INotificationSideChannel found in modules core-1.1.0-runtime.jar","body":"<p><strong>I solve it solution to myself hurraaaaaaaaaah!\nAfter a long searching i get the solution  by  writing like that   excluding group of com.android.support and support-v4   from facebook audience network</strong> </p>\n\n<p><strong>implementation ('com.facebook.android:audience-network-sdk:5.6.0'){\n      exclude group: 'com.android.support'\n      exclude module: 'support-v4'\n  }</strong></p>\n"}],"owner":{"account_id":13399589,"reputation":49,"user_id":9669538,"display_name":"Al Sadiq Insitute"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2060,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673714573,"creation_date":1577366929,"question_id":59489188,"body_markdown":"How can I solve following error?\r\n```\r\n 1 exception was raised by workers:\r\n  java.lang.RuntimeException: Duplicate class android.support.v4.app.INotificationSideChannel found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\r\n  Duplicate class android.support.v4.app.INotificationSideChannel$Stub found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\r\n  Duplicate class android.support.v4.app.INotificationSideChannel$Stub$Proxy found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\r\n  Duplicate class android.support.v4.os.IResultReceiver found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\r\n  Duplicate class android.support.v4.os.IResultReceiver$Stub found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\r\n  Duplicate class android.support.v4.os.IResultReceiver$Stub$Proxy found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\r\n  Duplicate class android.support.v4.os.ResultReceiver found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\r\n  Duplicate class android.support.v4.os.ResultReceiver$1 found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\r\n  Duplicate class android.support.v4.os.ResultReceiver$MyResultReceiver found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\r\n  Duplicate class android.support.v4.os.ResultReceiver$MyRunnable found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\r\n  \r\n  Go to the documentation to learn how to &lt;a href=&quot;d.android.com/r/tools/classpath-sync-errors&quot;&gt;Fix dependency resolution errors&lt;/a&gt;.\r\n```\r\n\r\nGradle config:\r\n\r\n```gradle\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 29\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.postmaker&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 29\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.txt&#39;\r\n        }\r\n    }\r\n\r\n    configurations.all {\r\n        resolutionStrategy {\r\n            force &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n    implementation files(&#39;libs/photoeditor.jar&#39;)\r\n    implementation files(&#39;libs/filtres/AutoLayout.jar&#39;)\r\n    implementation &#39;com.facebook.android:audience-network-sdk:4.99.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n    androidTestImplementation &#39;androidx.test:core:1.2.0&#39;\r\n    implementation &#39;androidx.core:core-ktx:1.1.0&#39;\r\n    // AndroidJUnitRunner and JUnit Rules\r\n    androidTestImplementation &#39;androidx.test:runner:1.2.0&#39;\r\n    androidTestImplementation &#39;androidx.test:rules:1.2.0&#39;\r\n}\r\n```\r\n","title":"Duplicate class android.support.v4.app.INotificationSideChannel found in modules core-1.1.0-runtime.jar","body":"<p>How can I solve following error?</p>\n\n<pre><code> 1 exception was raised by workers:\n  java.lang.RuntimeException: Duplicate class android.support.v4.app.INotificationSideChannel found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\n  Duplicate class android.support.v4.app.INotificationSideChannel$Stub found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\n  Duplicate class android.support.v4.app.INotificationSideChannel$Stub$Proxy found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\n  Duplicate class android.support.v4.os.IResultReceiver found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\n  Duplicate class android.support.v4.os.IResultReceiver$Stub found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\n  Duplicate class android.support.v4.os.IResultReceiver$Stub$Proxy found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\n  Duplicate class android.support.v4.os.ResultReceiver found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\n  Duplicate class android.support.v4.os.ResultReceiver$1 found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\n  Duplicate class android.support.v4.os.ResultReceiver$MyResultReceiver found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\n  Duplicate class android.support.v4.os.ResultReceiver$MyRunnable found in modules core-1.1.0-runtime.jar (androidx.core:core:1.1.0) and support-compat-26.1.0-runtime.jar (com.android.support:support-compat:26.1.0)\n\n  Go to the documentation to learn how to &lt;a href=\"d.android.com/r/tools/classpath-sync-errors\"&gt;Fix dependency resolution errors&lt;/a&gt;.\n</code></pre>\n\n<p>Gradle config:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 29\n\n    defaultConfig {\n        applicationId \"com.example.postmaker\"\n        minSdkVersion 19\n        targetSdkVersion 29\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\n        }\n    }\n\n    configurations.all {\n        resolutionStrategy {\n            force 'androidx.appcompat:appcompat:1.1.0'\n        }\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n    implementation files('libs/photoeditor.jar')\n    implementation files('libs/filtres/AutoLayout.jar')\n    implementation 'com.facebook.android:audience-network-sdk:4.99.1'\n    implementation 'com.google.android.material:material:1.0.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    androidTestImplementation 'androidx.test:core:1.2.0'\n    implementation 'androidx.core:core-ktx:1.1.0'\n    // AndroidJUnitRunner and JUnit Rules\n    androidTestImplementation 'androidx.test:runner:1.2.0'\n    androidTestImplementation 'androidx.test:rules:1.2.0'\n}\n</code></pre>\n"},{"tags":["java","server","minecraft","minestom"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1630744628,"post_id":69053258,"comment_id":122043715,"body_markdown":"Can you expand on *it doesn&#39;t work sometimes* ? What happens that makes you think that it doesn&#39;t work? Is your code throwing an exception? Granted I&#39;m not a Minecraft player, nonetheless I did not understand what you are trying to demonstrate with your 28 second video.","body":"Can you expand on <i>it doesn&#39;t work sometimes</i> ? What happens that makes you think that it doesn&#39;t work? Is your code throwing an exception? Granted I&#39;m not a Minecraft player, nonetheless I did not understand what you are trying to demonstrate with your 28 second video."},{"owner":{"account_id":21495749,"reputation":99,"user_id":15840802,"display_name":"JustDoom"},"score":0,"creation_date":1630748063,"post_id":69053258,"comment_id":122044428,"body_markdown":"Oops sorry, It seems to not work when im far away and the server client doesnt say they used the water bucket for some reason. thats what ive got from my testing anyway","body":"Oops sorry, It seems to not work when im far away and the server client doesnt say they used the water bucket for some reason. thats what ive got from my testing anyway"},{"owner":{"account_id":21495749,"reputation":99,"user_id":15840802,"display_name":"JustDoom"},"score":0,"creation_date":1630749456,"post_id":69053258,"comment_id":122044665,"body_markdown":"well it is meant to place the water server side, when that happens a message saying &quot;placed block&quot; appears in chat. sometimes it is only placed client side and no message appears in chat, when this happens the water stays after you teleport back to the top platform. there are no errors in the console","body":"well it is meant to place the water server side, when that happens a message saying &quot;placed block&quot; appears in chat. sometimes it is only placed client side and no message appears in chat, when this happens the water stays after you teleport back to the top platform. there are no errors in the console"}],"answers":[{"tags":[],"owner":{"account_id":21495749,"reputation":99,"user_id":15840802,"display_name":"JustDoom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1631003479,"creation_date":1631003479,"answer_id":69084834,"question_id":69053258,"body_markdown":"I believe on the look vector is the next ticks look vector for placing water, but the server hasnt gotten this new look vector so it uses the old one","title":"Minestom (Minecraft) water bucket placing","body":"<p>I believe on the look vector is the next ticks look vector for placing water, but the server hasnt gotten this new look vector so it uses the old one</p>\n"}],"owner":{"account_id":21495749,"reputation":99,"user_id":15840802,"display_name":"JustDoom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69084834,"answer_count":1,"score":0,"last_activity_date":1673714315,"creation_date":1630740559,"question_id":69053258,"body_markdown":"I am creating a Minecraft server using minestom which is a server building library, it had so no code and you have to make everything yourself. So im trying to make it so players can place water but it doesnt work sometimes. If im falling and place it then it gets placed client side but not server side sometimes, when its placed server side it says &quot;placed block&quot; in the chat.\r\n\r\n```java\r\n        globalEventHandler.addListener(PlayerUseItemOnBlockEvent.class, event -&gt; {\r\n            final Player player = event.getPlayer();\r\n            if (event.getItemStack().getMaterial() != Material.WATER_BUCKET) {\r\n                return;\r\n            }\r\n\r\n            if (player.getInstance().getBlock(new Vec(event.getPosition().x(),\r\n                    event.getPosition().y(),\r\n                    event.getPosition().z())) == Block.IRON_BLOCK\r\n                    &amp;&amp; event.getBlockFace().normalY() == 1) {\r\n\r\n                Point placedPos = event.getPosition();\r\n                placedPos.withX(placedPos.x() + event.getBlockFace().normalX());\r\n                placedPos.withY(placedPos.y() + event.getBlockFace().normalY());\r\n                placedPos.withZ(placedPos.z() + event.getBlockFace().normalZ());\r\n\r\n                player.getInstance().setBlock(placedPos, Block.WATER);\r\n\r\n                player.sendMessage(&quot;placed water&quot;);\r\n            }\r\n\r\n            player.getInventory().update();\r\n        });\r\n```\r\n\r\nVideo - Ignore the platform disappearing, bug that I know how to fix but havent just yet but that also only happens when the water is placed server side too\r\nhttps://youtu.be/njH58gbXPlE","title":"Minestom (Minecraft) water bucket placing","body":"<p>I am creating a Minecraft server using minestom which is a server building library, it had so no code and you have to make everything yourself. So im trying to make it so players can place water but it doesnt work sometimes. If im falling and place it then it gets placed client side but not server side sometimes, when its placed server side it says &quot;placed block&quot; in the chat.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        globalEventHandler.addListener(PlayerUseItemOnBlockEvent.class, event -&gt; {\n            final Player player = event.getPlayer();\n            if (event.getItemStack().getMaterial() != Material.WATER_BUCKET) {\n                return;\n            }\n\n            if (player.getInstance().getBlock(new Vec(event.getPosition().x(),\n                    event.getPosition().y(),\n                    event.getPosition().z())) == Block.IRON_BLOCK\n                    &amp;&amp; event.getBlockFace().normalY() == 1) {\n\n                Point placedPos = event.getPosition();\n                placedPos.withX(placedPos.x() + event.getBlockFace().normalX());\n                placedPos.withY(placedPos.y() + event.getBlockFace().normalY());\n                placedPos.withZ(placedPos.z() + event.getBlockFace().normalZ());\n\n                player.getInstance().setBlock(placedPos, Block.WATER);\n\n                player.sendMessage(&quot;placed water&quot;);\n            }\n\n            player.getInventory().update();\n        });\n</code></pre>\n<p>Video - Ignore the platform disappearing, bug that I know how to fix but havent just yet but that also only happens when the water is placed server side too\n<a href=\"https://youtu.be/njH58gbXPlE\" rel=\"nofollow noreferrer\">https://youtu.be/njH58gbXPlE</a></p>\n"},{"tags":["java","hana"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1554488899,"post_id":55539440,"comment_id":97786024,"body_markdown":"22ms ? How many rows you are testing/fetching ? Is elastic on the same host ?  How do you know that getString() is taken more time ? How do you benchmark your code ?","body":"22ms ? How many rows you are testing/fetching ? Is elastic on the same host ?  How do you know that getString() is taken more time ? How do you benchmark your code ?"},{"owner":{"account_id":15684944,"reputation":1,"user_id":11317894,"display_name":"Bindu"},"score":0,"creation_date":1554569829,"post_id":55539440,"comment_id":97804080,"body_markdown":"Elastic server is on same host. Processing 300 rows. Problem is not with MySQL, with SAP HANA Resultset, it is taking almost 20 seconds where as MySQL is taking 22ms only","body":"Elastic server is on same host. Processing 300 rows. Problem is not with MySQL, with SAP HANA Resultset, it is taking almost 20 seconds where as MySQL is taking 22ms only"}],"answers":[{"tags":[],"owner":{"account_id":442392,"reputation":6491,"user_id":832991,"display_name":"Eralper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554719027,"creation_date":1554719027,"answer_id":55571243,"question_id":55539440,"body_markdown":"HANA database works best when table is created is COLUMN TABLE\r\n\r\nYou can find a sample [CREATE COLUMN TABLE script][1] on given sample. Then you will not need an index for a half million record in selectivity is high on table columns\r\n\r\nIt will be better to test the query performance on HANA database by directly executing the query on database, you will get execution statistics easily regarding database performance.\r\n\r\nOtherwise, the problem might be related with connection too\r\n\r\n\r\n  [1]: http://www.kodyaz.com/sap-abap/create-calculated-column-in-sap-hana-database-table.aspx","title":"Retrieve the records from SAP HANA database is slow in JAVA","body":"<p>HANA database works best when table is created is COLUMN TABLE</p>\n\n<p>You can find a sample <a href=\"http://www.kodyaz.com/sap-abap/create-calculated-column-in-sap-hana-database-table.aspx\" rel=\"nofollow noreferrer\">CREATE COLUMN TABLE script</a> on given sample. Then you will not need an index for a half million record in selectivity is high on table columns</p>\n\n<p>It will be better to test the query performance on HANA database by directly executing the query on database, you will get execution statistics easily regarding database performance.</p>\n\n<p>Otherwise, the problem might be related with connection too</p>\n"}],"owner":{"account_id":15684944,"reputation":1,"user_id":11317894,"display_name":"Bindu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":906,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673714260,"creation_date":1554480268,"question_id":55539440,"body_markdown":"The performance of the application to retrieve the records from SAP HANA ResultSet is slow.\r\n        \r\nTo verify the performance I created the following scenario and tested. I used MySQL and SAP HANA for comparison purpose.\r\n        \r\nCreated the same table in both MySQL and SAP HANA databases and generated the same data in the table in both databases.\r\n        \r\nCreated report using MySQL database and time taken to publish data into elastic search  22 milli secs\r\n        \r\nCreated report using SAP HANA database and time taken to publish data into elastic search  19441 milli secs\r\n      \r\nThe following code is taking more time   \r\n       \r\n    while(rs.next()){\r\n\r\n    &lt;!--code to fetch the the records !--&gt;\r\n     rs.getString(&quot;actorId&quot;);\r\n    }\r\n\r\nThe same code is being used for both MySQL and SAP HANA database.\r\n\r\nI have put log file statements to see the time taken for execution and observed SAP HANA is taking more time to fetch and process the records from ResultSet.","title":"Retrieve the records from SAP HANA database is slow in JAVA","body":"<p>The performance of the application to retrieve the records from SAP HANA ResultSet is slow.</p>\n\n<p>To verify the performance I created the following scenario and tested. I used MySQL and SAP HANA for comparison purpose.</p>\n\n<p>Created the same table in both MySQL and SAP HANA databases and generated the same data in the table in both databases.</p>\n\n<p>Created report using MySQL database and time taken to publish data into elastic search  22 milli secs</p>\n\n<p>Created report using SAP HANA database and time taken to publish data into elastic search  19441 milli secs</p>\n\n<p>The following code is taking more time   </p>\n\n<pre><code>while(rs.next()){\n\n&lt;!--code to fetch the the records !--&gt;\n rs.getString(\"actorId\");\n}\n</code></pre>\n\n<p>The same code is being used for both MySQL and SAP HANA database.</p>\n\n<p>I have put log file statements to see the time taken for execution and observed SAP HANA is taking more time to fetch and process the records from ResultSet.</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"score":0,"creation_date":1672381021,"post_id":74958661,"comment_id":132278765,"body_markdown":"Please refer: https://github.com/apache/netbeans/issues/5134","body":"Please refer: <a href=\"https://github.com/apache/netbeans/issues/5134\" rel=\"nofollow noreferrer\">github.com/apache/netbeans/issues/5134</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1672669744,"post_id":74958661,"comment_id":132323638,"body_markdown":"From https://netbeans.apache.org/download/nb16/: _&quot;The Apache NetBeans 16 binary releases require JDK 11+, and officially support running on JDK 11 and JDK 17.&quot;_. You cannot use it with Java 8.","body":"From <a href=\"https://netbeans.apache.org/download/nb16/\" rel=\"nofollow noreferrer\">netbeans.apache.org/download/nb16</a>: <i>&quot;The Apache NetBeans 16 binary releases require JDK 11+, and officially support running on JDK 11 and JDK 17.&quot;</i>. You cannot use it with Java 8."}],"answers":[{"tags":[],"owner":{"account_id":27528826,"reputation":16,"user_id":21007701,"display_name":"Guest"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673711560,"creation_date":1673711484,"answer_id":75119210,"question_id":74958661,"body_markdown":"I had a similar issue and I resolved it by downloading an older version of NetBeans, NetBeans 12.0 specifically. I think it has to do something with NetBeans 16 not supporting Java 8 (not completely sure). Hopefully this helps.","title":"Java 8 + Netbeans 16 throws java.lang.NoSuchMethodError: java.net.URLEncoder.encode(Ljava/lang/String;Ljava/nio/charset/Charset;)Ljava/lang/String;","body":"<p>I had a similar issue and I resolved it by downloading an older version of NetBeans, NetBeans 12.0 specifically. I think it has to do something with NetBeans 16 not supporting Java 8 (not completely sure). Hopefully this helps.</p>\n"}],"owner":{"account_id":24963657,"reputation":3,"user_id":18827404,"display_name":"Md Imran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":804,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75119210,"answer_count":1,"score":-1,"last_activity_date":1673714135,"creation_date":1672380531,"question_id":74958661,"body_markdown":"I am using Java 8 and NetBeans 16. When I deploy any WAR to Tomcat, then it throws\r\n```none\r\nIn-place deployment at E:\\Web_Project\\WebApplication1\\build\\web\r\nE:\\Web_Project\\WebApplication1\\nbproject\\build-impl.xml:1030: \r\njava.lang.NoSuchMethodError: java.net.URLEncoder.encode(Ljava/lang/String;Ljava/nio/charset/Charset;)Ljava/lang/String;\r\n\tat org.netbeans.modules.tomcat5.deploy.TomcatManagerImpl.createTempContextXml(TomcatManagerImpl.java:361)\r\n\tat org.netbeans.modules.tomcat5.deploy.TomcatManagerImpl.initialDeploy(TomcatManagerImpl.java:196)\r\n\tat org.netbeans.modules.tomcat5.optional.TomcatIncrementalDeployment.initialDeploy(TomcatIncrementalDeployment.java:126)\r\n\tat org.netbeans.modules.j2ee.deployment.impl.TargetServer.deploy(TargetServer.java:670)\r\n\tat org.netbeans.modules.j2ee.deployment.devmodules.api.Deployment.deploy(Deployment.java:221)\r\n\tat org.netbeans.modules.j2ee.deployment.devmodules.api.Deployment.deploy(Deployment.java:141)\r\n\tat org.netbeans.modules.j2ee.ant.Deploy.execute(Deploy.java:86)\r\n\tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\r\n\tat sun.reflect.GeneratedMethodAccessor80.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\r\n\tat org.apache.tools.ant.Task.perform(Task.java:350)\r\n\tat org.apache.tools.ant.Target.execute(Target.java:449)\r\n\tat org.apache.tools.ant.Target.performTasks(Target.java:470)\r\n\tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1391)\r\n\tat org.apache.tools.ant.Project.executeTarget(Project.java:1364)\r\n\tat org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\r\n\tat org.apache.tools.ant.Project.executeTarget(Project.java:1254)\r\n\tat org.apache.tools.ant.module.bridge.impl.BridgeImpl.run(BridgeImpl.java:261)\r\n\tat org.apache.tools.ant.module.run.TargetExecutor.run(TargetExecutor.java:573)\r\n\tat org.netbeans.core.execution.RunClassThread.doRun(RunClassThread.java:132)\r\n\tat org.netbeans.modules.openide.util.GlobalLookup.execute(GlobalLookup.java:45)\r\n\tat org.openide.util.lookup.Lookups.executeWith(Lookups.java:278)\r\n\tat org.netbeans.core.execution.RunClassThread.run(RunClassThread.java:81)\r\nBUILD FAILED (total time: 0 seconds)\r\n```\r\nHow is it caused and how can I solve it?","title":"Java 8 + Netbeans 16 throws java.lang.NoSuchMethodError: java.net.URLEncoder.encode(Ljava/lang/String;Ljava/nio/charset/Charset;)Ljava/lang/String;","body":"<p>I am using Java 8 and NetBeans 16. When I deploy any WAR to Tomcat, then it throws</p>\n<pre class=\"lang-none prettyprint-override\"><code>In-place deployment at E:\\Web_Project\\WebApplication1\\build\\web\nE:\\Web_Project\\WebApplication1\\nbproject\\build-impl.xml:1030: \njava.lang.NoSuchMethodError: java.net.URLEncoder.encode(Ljava/lang/String;Ljava/nio/charset/Charset;)Ljava/lang/String;\n    at org.netbeans.modules.tomcat5.deploy.TomcatManagerImpl.createTempContextXml(TomcatManagerImpl.java:361)\n    at org.netbeans.modules.tomcat5.deploy.TomcatManagerImpl.initialDeploy(TomcatManagerImpl.java:196)\n    at org.netbeans.modules.tomcat5.optional.TomcatIncrementalDeployment.initialDeploy(TomcatIncrementalDeployment.java:126)\n    at org.netbeans.modules.j2ee.deployment.impl.TargetServer.deploy(TargetServer.java:670)\n    at org.netbeans.modules.j2ee.deployment.devmodules.api.Deployment.deploy(Deployment.java:221)\n    at org.netbeans.modules.j2ee.deployment.devmodules.api.Deployment.deploy(Deployment.java:141)\n    at org.netbeans.modules.j2ee.ant.Deploy.execute(Deploy.java:86)\n    at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)\n    at sun.reflect.GeneratedMethodAccessor80.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:99)\n    at org.apache.tools.ant.Task.perform(Task.java:350)\n    at org.apache.tools.ant.Target.execute(Target.java:449)\n    at org.apache.tools.ant.Target.performTasks(Target.java:470)\n    at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1391)\n    at org.apache.tools.ant.Project.executeTarget(Project.java:1364)\n    at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)\n    at org.apache.tools.ant.Project.executeTarget(Project.java:1254)\n    at org.apache.tools.ant.module.bridge.impl.BridgeImpl.run(BridgeImpl.java:261)\n    at org.apache.tools.ant.module.run.TargetExecutor.run(TargetExecutor.java:573)\n    at org.netbeans.core.execution.RunClassThread.doRun(RunClassThread.java:132)\n    at org.netbeans.modules.openide.util.GlobalLookup.execute(GlobalLookup.java:45)\n    at org.openide.util.lookup.Lookups.executeWith(Lookups.java:278)\n    at org.netbeans.core.execution.RunClassThread.run(RunClassThread.java:81)\nBUILD FAILED (total time: 0 seconds)\n</code></pre>\n<p>How is it caused and how can I solve it?</p>\n"},{"tags":["java","kotlin","security","java-security"],"comments":[{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1673715569,"post_id":75119520,"comment_id":132561967,"body_markdown":"*I am getting the error only in the release build of my android app*  Where does it work?  Spongy Castle was abandoned 5 years ago, no?","body":"<i>I am getting the error only in the release build of my android app</i>  Where does it work?  Spongy Castle was abandoned 5 years ago, no?"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1673717571,"post_id":75119520,"comment_id":132562372,"body_markdown":"Spongy was mainly required because Android used a stripped version of Bouncy as backend for their JCE provider, but they kept all the classes in their original package. Hence you got name clashes if you imported a full version of Bouncy. The moved those packages and BC should be usable directly. In this case I&#39;d just remove Spongy from the classpath &amp; code.","body":"Spongy was mainly required because Android used a stripped version of Bouncy as backend for their JCE provider, but they kept all the classes in their original package. Hence you got name clashes if you imported a full version of Bouncy. The moved those packages and BC should be usable directly. In this case I&#39;d just remove Spongy from the classpath &amp; code."},{"owner":{"account_id":4070049,"reputation":7510,"user_id":3343503,"accept_rate":89,"display_name":"Waqas Tahir"},"score":0,"creation_date":1673775959,"post_id":75119520,"comment_id":132569706,"body_markdown":"so should I use BouncyCastle directly ?","body":"so should I use BouncyCastle directly ?"}],"owner":{"account_id":4070049,"reputation":7510,"user_id":3343503,"accept_rate":89,"display_name":"Waqas Tahir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673714123,"creation_date":1673714123,"question_id":75119520,"body_markdown":"java.security.NoSuchAlgorithmException: no such algorithm: SHA256WITHRSA for provider SC\r\n\r\nI am getting the error only in the release build of my android app\r\n\r\nMy code\r\n\r\n\r\n    fun createCertificate(\r\n            provider : Provider = BouncyCastleProvider()\r\n        ): X509Certificate {\r\n            val keyPair = KeyPairGenerator.getInstance(&quot;RSA&quot;).genKeyPair()\r\n            val subPubKeyInfo = SubjectPublicKeyInfo.getInstance(keyPair.public.encoded)\r\n            val now = Instant.now()\r\n            val validFrom = Date.from(now)\r\n            val validTo = Date.from(now.plusSeconds(60L * 60 * 24 * 365))\r\n            val certBuilder = X509v3CertificateBuilder(\r\n                X500Name(&quot;CN=ZANTA,O=QANTA,L=NewYork,C=DE&quot;),\r\n                BigInteger.ONE,\r\n                validFrom,\r\n                validTo,\r\n                X500Name(&quot;CN=ZANTA,O=QANTA,L=NewYork,C=DE&quot;),\r\n                subPubKeyInfo\r\n            )\r\n            val signer = JcaContentSignerBuilder(&quot;SHA256WithRSA&quot;)\r\n                .setProvider(provider)\r\n                .build(keyPair.private)\r\n            return JcaX509CertificateConverter().setProvider(provider)\r\n                .getCertificate(certBuilder.build(signer))\r\n        }\r\n\r\nThe Stacktrace\r\n\r\n\r\n    E/ERRRR: GONNNPRJ T\r\n    java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:566)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1038)\r\n     Caused by: java.lang.reflect.InvocationTargetException\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1038)&#160;\r\n     Caused by: org.spongycastle.operator.OperatorCreationException: cannot create signer: no such algorithm: SHA256WITHRSA for provider SC\r\n        at org.spongycastle.operator.jcajce.JcaContentSignerBuilder.build(JcaContentSignerBuilder.java:102)\r\n        at com.shalimart22.xferrr.util.SecurityUtil.createCertificate(SecurityUtil.kt:40)\r\n        at com.shalimart22.xferrr.data.UserDataRepository$certificate$2.invoke(UserDataRepository.kt:116)\r\n        at com.shalimart22.xferrr.data.UserDataRepository$certificate$2.invoke(UserDataRepository.kt:69)\r\n        at kotlin.SynchronizedLazyImpl.getValue(LazyJVM.kt:74)\r\n        at com.shalimart22.xferrr.data.UserDataRepository.getCertificate(UserDataRepository.kt:69)\r\n        at com.shalimart22.xferrr.data.UserDataRepository.getClientStatic(UserDataRepository.kt:143)\r\n        at com.shalimart22.xferrr.data.UserDataRepository$client$2.invoke(UserDataRepository.kt:147)\r\n        at com.shalimart22.xferrr.data.UserDataRepository$client$2.invoke(UserDataRepository.kt:146)\r\n        at kotlin.SynchronizedLazyImpl.getValue(LazyJVM.kt:74)\r\n        at com.shalimart22.xferrr.data.UserDataRepository.getClient(UserDataRepository.kt:146)\r\n        at com.shalimart22.xferrr.viewmodel.UserProfileViewModel.&lt;init&gt;(UserProfileViewModel.kt:40)\r\n        at com.shalimart22.xferrr.DaggerApp_HiltComponents_SingletonC$ViewModelCImpl$SwitchingProvider.get(DaggerApp_HiltComponents_SingletonC.java:1106)\r\n        at dagger.hilt.android.internal.lifecycle.HiltViewModelFactory$1.create(HiltViewModelFactory.java:104)\r\n        at androidx.lifecycle.AbstractSavedStateViewModelFactory.create(AbstractSavedStateViewModelFactory.java:89)\r\n        at dagger.hilt.android.internal.lifecycle.HiltViewModelFactory.create(HiltViewModelFactory.java:116)\r\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:187)\r\n        at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:153)\r\n        at androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:53)\r\n        at androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:35)\r\n        at com.shalimart22.xferrr.activity.IntroductionProfileFragment.getViewModel(WelcomeActivity.kt:239)\r\n        at com.shalimart22.xferrr.activity.IntroductionProfileFragment.onViewCreated(WelcomeActivity.kt:251)\r\n        at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3128)\r\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:552)\r\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\r\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1899)\r\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1817)\r\n        at androidx.fragment.app.FragmentManager.execSingleAction(FragmentManager.java:1729)\r\n        at androidx.fragment.app.BackStackRecord.commitNow(BackStackRecord.java:317)\r\n        at androidx.viewpager2.adapter.FragmentStateAdapter.placeFragmentInViewHolder(FragmentStateAdapter.java:341)\r\n        at androidx.viewpager2.adapter.FragmentStateAdapter.onViewAttachedToWindow(FragmentStateAdapter.java:276)\r\n        at androidx.viewpager2.adapter.FragmentStateAdapter.onViewAttachedToWindow(FragmentStateAdapter.java:67)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchChildAttached(RecyclerView.java:7867)\r\n        at androidx.recyclerview.widget.RecyclerView$5.addView(RecyclerView.java:893)\r\n        at androidx.recyclerview.widget.ChildHelper.addView(ChildHelper.java:107)\r\n        at androidx.recyclerview.widget.RecyclerView$LayoutManager.addViewInt(RecyclerView.java:8902)\r\n        at androidx.recyclerview.widget.RecyclerView$LayoutManager.addView(RecyclerView.java:8860)\r\n        E/ERRRR:     at androidx.recyclerview.widget.RecyclerView$LayoutManager.addView(RecyclerView.java:8848)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1645)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1591)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.scrollBy(LinearLayoutManager.java:1395)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.scrollHorizontallyBy(LinearLayoutManager.java:1124)\r\n        at androidx.recyclerview.widget.RecyclerView.scrollStep(RecyclerView.java:1969)\r\n        at androidx.recyclerview.widget.RecyclerView$SmoothScroller.onAnimation(RecyclerView.java:12316)\r\n        at androidx.recyclerview.widget.RecyclerView$ViewFlinger.run(RecyclerView.java:5564)\r\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1160)\r\n        at android.view.Choreographer.doCallbacks(Choreographer.java:950)\r\n        at android.view.Choreographer.doFrame(Choreographer.java:874)\r\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1142)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loopOnce(Looper.java:210)\r\n        at android.os.Looper.loop(Looper.java:299)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8309)\r\n        \t... 3 more\r\n        Caused by: java.security.NoSuchAlgorithmException: no such algorithm: SHA256WITHRSA for provider SC\r\n        at sun.security.jca.GetInstance.getService(GetInstance.java:101)\r\n        at sun.security.jca.GetInstance.getInstance(GetInstance.java:218)\r\n        at java.security.Signature.getInstance(Signature.java:549)\r\n        at org.spongycastle.jcajce.util.ProviderJcaJceHelper.createSignature(ProviderJcaJceHelper.java:99)\r\n        at org.spongycastle.operator.jcajce.OperatorHelper.createSignature(OperatorHelper.java:314)\r\n        at org.spongycastle.operator.jcajce.JcaContentSignerBuilder.build(JcaContentSignerBuilder.java:61)\r\n        \t... 56 more\r\n","title":"Cannot create a X509Certificate in Java","body":"<p>java.security.NoSuchAlgorithmException: no such algorithm: SHA256WITHRSA for provider SC</p>\n<p>I am getting the error only in the release build of my android app</p>\n<p>My code</p>\n<pre><code>fun createCertificate(\n        provider : Provider = BouncyCastleProvider()\n    ): X509Certificate {\n        val keyPair = KeyPairGenerator.getInstance(&quot;RSA&quot;).genKeyPair()\n        val subPubKeyInfo = SubjectPublicKeyInfo.getInstance(keyPair.public.encoded)\n        val now = Instant.now()\n        val validFrom = Date.from(now)\n        val validTo = Date.from(now.plusSeconds(60L * 60 * 24 * 365))\n        val certBuilder = X509v3CertificateBuilder(\n            X500Name(&quot;CN=ZANTA,O=QANTA,L=NewYork,C=DE&quot;),\n            BigInteger.ONE,\n            validFrom,\n            validTo,\n            X500Name(&quot;CN=ZANTA,O=QANTA,L=NewYork,C=DE&quot;),\n            subPubKeyInfo\n        )\n        val signer = JcaContentSignerBuilder(&quot;SHA256WithRSA&quot;)\n            .setProvider(provider)\n            .build(keyPair.private)\n        return JcaX509CertificateConverter().setProvider(provider)\n            .getCertificate(certBuilder.build(signer))\n    }\n</code></pre>\n<p>The Stacktrace</p>\n<pre><code>E/ERRRR: GONNNPRJ T\njava.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:566)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1038)\n Caused by: java.lang.reflect.InvocationTargetException\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1038)\n Caused by: org.spongycastle.operator.OperatorCreationException: cannot create signer: no such algorithm: SHA256WITHRSA for provider SC\n    at org.spongycastle.operator.jcajce.JcaContentSignerBuilder.build(JcaContentSignerBuilder.java:102)\n    at com.shalimart22.xferrr.util.SecurityUtil.createCertificate(SecurityUtil.kt:40)\n    at com.shalimart22.xferrr.data.UserDataRepository$certificate$2.invoke(UserDataRepository.kt:116)\n    at com.shalimart22.xferrr.data.UserDataRepository$certificate$2.invoke(UserDataRepository.kt:69)\n    at kotlin.SynchronizedLazyImpl.getValue(LazyJVM.kt:74)\n    at com.shalimart22.xferrr.data.UserDataRepository.getCertificate(UserDataRepository.kt:69)\n    at com.shalimart22.xferrr.data.UserDataRepository.getClientStatic(UserDataRepository.kt:143)\n    at com.shalimart22.xferrr.data.UserDataRepository$client$2.invoke(UserDataRepository.kt:147)\n    at com.shalimart22.xferrr.data.UserDataRepository$client$2.invoke(UserDataRepository.kt:146)\n    at kotlin.SynchronizedLazyImpl.getValue(LazyJVM.kt:74)\n    at com.shalimart22.xferrr.data.UserDataRepository.getClient(UserDataRepository.kt:146)\n    at com.shalimart22.xferrr.viewmodel.UserProfileViewModel.&lt;init&gt;(UserProfileViewModel.kt:40)\n    at com.shalimart22.xferrr.DaggerApp_HiltComponents_SingletonC$ViewModelCImpl$SwitchingProvider.get(DaggerApp_HiltComponents_SingletonC.java:1106)\n    at dagger.hilt.android.internal.lifecycle.HiltViewModelFactory$1.create(HiltViewModelFactory.java:104)\n    at androidx.lifecycle.AbstractSavedStateViewModelFactory.create(AbstractSavedStateViewModelFactory.java:89)\n    at dagger.hilt.android.internal.lifecycle.HiltViewModelFactory.create(HiltViewModelFactory.java:116)\n    at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:187)\n    at androidx.lifecycle.ViewModelProvider.get(ViewModelProvider.kt:153)\n    at androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:53)\n    at androidx.lifecycle.ViewModelLazy.getValue(ViewModelLazy.kt:35)\n    at com.shalimart22.xferrr.activity.IntroductionProfileFragment.getViewModel(WelcomeActivity.kt:239)\n    at com.shalimart22.xferrr.activity.IntroductionProfileFragment.onViewCreated(WelcomeActivity.kt:251)\n    at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3128)\n    at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:552)\n    at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\n    at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:1899)\n    at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:1817)\n    at androidx.fragment.app.FragmentManager.execSingleAction(FragmentManager.java:1729)\n    at androidx.fragment.app.BackStackRecord.commitNow(BackStackRecord.java:317)\n    at androidx.viewpager2.adapter.FragmentStateAdapter.placeFragmentInViewHolder(FragmentStateAdapter.java:341)\n    at androidx.viewpager2.adapter.FragmentStateAdapter.onViewAttachedToWindow(FragmentStateAdapter.java:276)\n    at androidx.viewpager2.adapter.FragmentStateAdapter.onViewAttachedToWindow(FragmentStateAdapter.java:67)\n    at androidx.recyclerview.widget.RecyclerView.dispatchChildAttached(RecyclerView.java:7867)\n    at androidx.recyclerview.widget.RecyclerView$5.addView(RecyclerView.java:893)\n    at androidx.recyclerview.widget.ChildHelper.addView(ChildHelper.java:107)\n    at androidx.recyclerview.widget.RecyclerView$LayoutManager.addViewInt(RecyclerView.java:8902)\n    at androidx.recyclerview.widget.RecyclerView$LayoutManager.addView(RecyclerView.java:8860)\n    E/ERRRR:     at androidx.recyclerview.widget.RecyclerView$LayoutManager.addView(RecyclerView.java:8848)\n    at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1645)\n    at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1591)\n    at androidx.recyclerview.widget.LinearLayoutManager.scrollBy(LinearLayoutManager.java:1395)\n    at androidx.recyclerview.widget.LinearLayoutManager.scrollHorizontallyBy(LinearLayoutManager.java:1124)\n    at androidx.recyclerview.widget.RecyclerView.scrollStep(RecyclerView.java:1969)\n    at androidx.recyclerview.widget.RecyclerView$SmoothScroller.onAnimation(RecyclerView.java:12316)\n    at androidx.recyclerview.widget.RecyclerView$ViewFlinger.run(RecyclerView.java:5564)\n    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1160)\n    at android.view.Choreographer.doCallbacks(Choreographer.java:950)\n    at android.view.Choreographer.doFrame(Choreographer.java:874)\n    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1142)\n    at android.os.Handler.handleCallback(Handler.java:938)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loopOnce(Looper.java:210)\n    at android.os.Looper.loop(Looper.java:299)\n    at android.app.ActivityThread.main(ActivityThread.java:8309)\n        ... 3 more\n    Caused by: java.security.NoSuchAlgorithmException: no such algorithm: SHA256WITHRSA for provider SC\n    at sun.security.jca.GetInstance.getService(GetInstance.java:101)\n    at sun.security.jca.GetInstance.getInstance(GetInstance.java:218)\n    at java.security.Signature.getInstance(Signature.java:549)\n    at org.spongycastle.jcajce.util.ProviderJcaJceHelper.createSignature(ProviderJcaJceHelper.java:99)\n    at org.spongycastle.operator.jcajce.OperatorHelper.createSignature(OperatorHelper.java:314)\n    at org.spongycastle.operator.jcajce.JcaContentSignerBuilder.build(JcaContentSignerBuilder.java:61)\n        ... 56 more\n</code></pre>\n"},{"tags":["java","ssl"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":4,"creation_date":1509356515,"post_id":47007663,"comment_id":80970438,"body_markdown":"Nothing unclear here. Poorly phrased, and betrays a misunderstanding of the problem, but the overall objective is clear.","body":"Nothing unclear here. Poorly phrased, and betrays a misunderstanding of the problem, but the overall objective is clear."}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1509334940,"creation_date":1509334940,"answer_id":47007845,"question_id":47007663,"body_markdown":"Just try to connect to it with `URL` and `HttpsURLConnection`, going at least as far as getting the response code, and no fancy trust managers or anything. If it&#39;s trusted, you won&#39;t have a problem.\r\n\r\nYour terminology is astray. All certificates are public. If it&#39;s a *CA-signed* certificate, signed by a *CA* whose certificate is in `cacerts`, you don&#39;t need to import it.","title":"How to check a Certificate is in default cacerts","body":"<p>Just try to connect to it with <code>URL</code> and <code>HttpsURLConnection</code>, going at least as far as getting the response code, and no fancy trust managers or anything. If it's trusted, you won't have a problem.</p>\n\n<p>Your terminology is astray. All certificates are public. If it's a <em>CA-signed</em> certificate, signed by a <em>CA</em> whose certificate is in <code>cacerts</code>, you don't need to import it.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1509339547,"post_id":47008266,"comment_id":80963312,"body_markdown":"But that won&#39;t tell him whether the server certificate is trusted, if it&#39;s signed by a CA. He would have to check the entire chain.","body":"But that won&#39;t tell him whether the server certificate is trusted, if it&#39;s signed by a CA. He would have to check the entire chain."},{"owner":{"account_id":6536192,"reputation":1854,"user_id":5055577,"display_name":"Jesse"},"score":0,"creation_date":1509340258,"post_id":47008266,"comment_id":80963472,"body_markdown":"Correct, although that isn&#39;t the question he asked.","body":"Correct, although that isn&#39;t the question he asked."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1509348841,"post_id":47008266,"comment_id":80966441,"body_markdown":"Well, he is really asking whether he needs to import it or not.","body":"Well, he is really asking whether he needs to import it or not."},{"owner":{"account_id":6536192,"reputation":1854,"user_id":5055577,"display_name":"Jesse"},"score":0,"creation_date":1509402986,"post_id":47008266,"comment_id":80997587,"body_markdown":"&quot;So how can I check whether a certificate from a website is already in java default truststore \\jre1.8\\lib\\security\\cacerts or not?&quot;","body":"&quot;So how can I check whether a certificate from a website is already in java default truststore \\jre1.8\\lib\\security\\cacerts or not?&quot;"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1509411593,"post_id":47008266,"comment_id":80999936,"body_markdown":"&#39;However I am unsure how to check whether I need to import the certificate or not.&#39; We can quote bits of the question to each other all day, but it&#39;s perfectly clear what his actual objective is.","body":"&#39;However I am unsure how to check whether I need to import the certificate or not.&#39; We can quote bits of the question to each other all day, but it&#39;s perfectly clear what his actual objective is."},{"owner":{"account_id":6536192,"reputation":1854,"user_id":5055577,"display_name":"Jesse"},"score":0,"creation_date":1509497386,"post_id":47008266,"comment_id":81040505,"body_markdown":"&#39;However I am unsure how to check whether I need to import the certificate or not&#39; - Indeed, he can check by listing the certificates in the keystore, who would have thought?","body":"&#39;However I am unsure how to check whether I need to import the certificate or not&#39; - Indeed, he can check by listing the certificates in the keystore, who would have thought?"},{"owner":{"account_id":374852,"reputation":5831,"user_id":725306,"accept_rate":97,"display_name":"Mohammad Faisal"},"score":0,"creation_date":1585825526,"post_id":47008266,"comment_id":107901762,"body_markdown":"if it is asking for a password consider adding `-storepass changeit` to the command.","body":"if it is asking for a password consider adding <code>-storepass changeit</code> to the command."}],"tags":[],"owner":{"account_id":6536192,"reputation":1854,"user_id":5055577,"display_name":"Jesse"},"comment_count":7,"down_vote_count":2,"up_vote_count":28,"is_accepted":false,"score":26,"last_activity_date":1673713889,"creation_date":1509338794,"answer_id":47008266,"question_id":47007663,"body_markdown":"You can inspect (list) certificates in your cacert keystore using the Java `keytool` command.\r\n\r\n```\r\nkeytool -list -v -keystore /path/to/cacerts\r\n```\r\n\r\n`keytool` has to be in your path, or can be found in the `bin` directory of your Java installation (e.g. `C:/Program Files (x86)/Java/jre1.8/bin/keytool.exe`). \r\n","title":"How to check a Certificate is in default cacerts","body":"<p>You can inspect (list) certificates in your cacert keystore using the Java <code>keytool</code> command.</p>\n<pre><code>keytool -list -v -keystore /path/to/cacerts\n</code></pre>\n<p><code>keytool</code> has to be in your path, or can be found in the <code>bin</code> directory of your Java installation (e.g. <code>C:/Program Files (x86)/Java/jre1.8/bin/keytool.exe</code>).</p>\n"},{"tags":[],"owner":{"account_id":88849,"reputation":405,"user_id":245523,"display_name":"Imran"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1673328036,"creation_date":1673328036,"answer_id":75065769,"question_id":47007663,"body_markdown":"A simple approach to list certificates in cacerts is\r\n\r\n    keytool -v -list -cacerts -storepass changeit","title":"How to check a Certificate is in default cacerts","body":"<p>A simple approach to list certificates in cacerts is</p>\n<pre><code>keytool -v -list -cacerts -storepass changeit\n</code></pre>\n"}],"owner":{"account_id":9516911,"reputation":351,"user_id":7072968,"display_name":"loi mai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109409,"favorite_count":0,"down_vote_count":1,"up_vote_count":17,"answer_count":3,"score":16,"last_activity_date":1673713889,"creation_date":1509333230,"question_id":47007663,"body_markdown":"A client provide me with a HTTPS URL for a service call. I need to make a  request to that URL. I know that if the certificate of that URL is from a common provider chances are that it&#39;s already available on the default java truststore **cacerts**.  \r\n\r\nHowever I am unsure how to check whether I need to import the certificate or not.  How can I check whether a certificate from a website is already in default java truststore \\jre1.8\\lib\\security\\cacerts?","title":"How to check a Certificate is in default cacerts","body":"<p>A client provide me with a HTTPS URL for a service call. I need to make a  request to that URL. I know that if the certificate of that URL is from a common provider chances are that it's already available on the default java truststore <strong>cacerts</strong>.  </p>\n\n<p>However I am unsure how to check whether I need to import the certificate or not.  How can I check whether a certificate from a website is already in default java truststore \\jre1.8\\lib\\security\\cacerts?</p>\n"},{"tags":["java","maven","relocation","shading"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673705125,"post_id":75118428,"comment_id":132559870,"body_markdown":"First: `If the library needs to be shaded,` a library does not needed to be shaded or even better don&#39;t do it because it prevent some features on the consumer side... And why do you need to search github pages? If you consume a dep it&#39;s defining it&#39;s dependencies itself ... there no need to do that on your own... ? Maybe you can elaborate more what your exact problem is... ?","body":"First: <code>If the library needs to be shaded,</code> a library does not needed to be shaded or even better don&#39;t do it because it prevent some features on the consumer side... And why do you need to search github pages? If you consume a dep it&#39;s defining it&#39;s dependencies itself ... there no need to do that on your own... ? Maybe you can elaborate more what your exact problem is... ?"},{"owner":{"account_id":19984783,"reputation":124,"user_id":14647130,"display_name":"David"},"score":0,"creation_date":1673705500,"post_id":75118428,"comment_id":132559933,"body_markdown":"Of course you need to shade the dependency, otherwise you would get ClassNotFoundException all over the place at runtime...","body":"Of course you need to shade the dependency, otherwise you would get ClassNotFoundException all over the place at runtime..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673705609,"post_id":75118428,"comment_id":132559949,"body_markdown":"No. If that&#39;s the case the original pom is simply wrong... transitive dependencies are done automaticially... Please show the full pom file of such case...","body":"No. If that&#39;s the case the original pom is simply wrong... transitive dependencies are done automaticially... Please show the full pom file of such case..."},{"owner":{"account_id":19984783,"reputation":124,"user_id":14647130,"display_name":"David"},"score":0,"creation_date":1673705743,"post_id":75118428,"comment_id":132559970,"body_markdown":"Where did you see that I talk about transitive dependencies? I am talking about direct dependencies - that have to be shaded in order to be used.","body":"Where did you see that I talk about transitive dependencies? I am talking about direct dependencies - that have to be shaded in order to be used."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673706006,"post_id":75118428,"comment_id":132560023,"body_markdown":"A library has dependencies plus it&#39;s own code. The dependencies of the library  are from the consumer perspective of the library transitive dependencies. Those should never been shaded. If doing so prevents a consumer to overrule the dependencies etc. (for example using a more recent version of a an other lib).","body":"A library has dependencies plus it&#39;s own code. The dependencies of the library  are from the consumer perspective of the library transitive dependencies. Those should never been shaded. If doing so prevents a consumer to overrule the dependencies etc. (for example using a more recent version of a an other lib)."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673706103,"post_id":75118428,"comment_id":132560040,"body_markdown":"If we are talking about an executable jar (which can be executed via `java -jar ...`) you can and have to shade but never for a usual consumtion via classpath...","body":"If we are talking about an executable jar (which can be executed via <code>java -jar ...</code>) you can and have to shade but never for a usual consumtion via classpath..."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1673706194,"post_id":75118428,"comment_id":132560059,"body_markdown":"@khmarbaise That&#39;s not really correct--plugin dependencies should not be arbitrarily overridden by plugin consumers. This keeps the plugin in a known-good state.","body":"@khmarbaise That&#39;s not really correct--plugin dependencies should not be arbitrarily overridden by plugin consumers. This keeps the plugin in a known-good state."},{"owner":{"account_id":19984783,"reputation":124,"user_id":14647130,"display_name":"David"},"score":0,"creation_date":1673706276,"post_id":75118428,"comment_id":132560073,"body_markdown":"@khmarbaise I don&#39;t think you understand what I&#39;m trying to build. I need a stand-alone jar that does its job, nothing else.","body":"@khmarbaise I don&#39;t think you understand what I&#39;m trying to build. I need a stand-alone jar that does its job, nothing else."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673706315,"post_id":75118428,"comment_id":132560084,"body_markdown":"It&#39;s not arbitrarily overridden. If someone is doing that you should assume the person knews what  it&#39;s doing. The plugin itself is in a good state not related... also all Maven plugins not even shading their dependencies ..","body":"It&#39;s not arbitrarily overridden. If someone is doing that you should assume the person knews what  it&#39;s doing. The plugin itself is in a good state not related... also all Maven plugins not even shading their dependencies .."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1673706321,"post_id":75118428,"comment_id":132560087,"body_markdown":"@David You&#39;re saying two different things. A jar that can be run anywhere is just a jar with its dependencies. A **plugin** is a different thing because it runs in the context of an existing application.","body":"@David You&#39;re saying two different things. A jar that can be run anywhere is just a jar with its dependencies. A <b>plugin</b> is a different thing because it runs in the context of an existing application."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1673706596,"post_id":75118428,"comment_id":132560139,"body_markdown":"@khmarbaise &quot;Assume the person knows what they&#39;re doing&quot;... Nope. The whole point of plugins is to isolate behavior. You cannot isolate behavior if consumers can arbitrarily change code the plugin depends on.","body":"@khmarbaise &quot;Assume the person knows what they&#39;re doing&quot;... Nope. The whole point of plugins is to isolate behavior. You cannot isolate behavior if consumers can arbitrarily change code the plugin depends on."},{"owner":{"account_id":19984783,"reputation":124,"user_id":14647130,"display_name":"David"},"score":0,"creation_date":1673706598,"post_id":75118428,"comment_id":132560140,"body_markdown":"@DaveNewton Okay, the only dependency marked as &quot;provided&quot; is the system&#39;s API which runs the plugin - all the rest should be shaded...","body":"@DaveNewton Okay, the only dependency marked as &quot;provided&quot; is the system&#39;s API which runs the plugin - all the rest should be shaded..."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1673706658,"post_id":75118428,"comment_id":132560146,"body_markdown":"@David For **maximum** reliability, yes. Whether or not the ROI of doing so is worth it depends on context.","body":"@David For <b>maximum</b> reliability, yes. Whether or not the ROI of doing so is worth it depends on context."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673706743,"post_id":75118428,"comment_id":132560160,"body_markdown":"@DaveNewton The consumer can not change the code of the plugin. Only override the deps..(yes I know that can result into failings). If it does not work .. problem of the user. All Maven plugins work like that...... but in case of issues the consumer can override the deps (for example with a newer version does not have vulnerbilities anymore)...","body":"@DaveNewton The consumer can not change the code of the plugin. Only override the deps..(yes I know that can result into failings). If it does not work .. problem of the user. All Maven plugins work like that...... but in case of issues the consumer can override the deps (for example with a newer version does not have vulnerbilities anymore)..."},{"owner":{"account_id":19984783,"reputation":124,"user_id":14647130,"display_name":"David"},"score":0,"creation_date":1673706860,"post_id":75118428,"comment_id":132560179,"body_markdown":"@DaveNewton What do you mean by ROI? This discussion is now way out of its original intention, I asked a very simple question","body":"@DaveNewton What do you mean by ROI? This discussion is now way out of its original intention, I asked a very simple question"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673707016,"post_id":75118428,"comment_id":132560212,"body_markdown":"Two things. First shading the dependencies into a single jar ... just use the default configuration for maven-shade-plugin and that&#39;s it... an other thing is to relocate packages? The question if this is really necessary? If you have a resulting jar which is used as a kind of plugin... that should not be needed?","body":"Two things. First shading the dependencies into a single jar ... just use the default configuration for maven-shade-plugin and that&#39;s it... an other thing is to relocate packages? The question if this is really necessary? If you have a resulting jar which is used as a kind of plugin... that should not be needed?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1673707613,"post_id":75118428,"comment_id":132560326,"body_markdown":"@David Return On Investment","body":"@David Return On Investment"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1673707717,"post_id":75118428,"comment_id":132560343,"body_markdown":"@khmarbaise If you&#39;re comfortable shipping plugins users can break in mysterious or hidden ways, great; knock yourself out. I&#39;m not. There are advantages and disadvantages to allowing arbitrary dependency replacement, hence my comment regarding ROI.","body":"@khmarbaise If you&#39;re comfortable shipping plugins users can break in mysterious or hidden ways, great; knock yourself out. I&#39;m not. There are advantages and disadvantages to allowing arbitrary dependency replacement, hence my comment regarding ROI."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1673707830,"post_id":75118428,"comment_id":132560356,"body_markdown":"@David The &quot;very simple question&quot;&#39;s answer is &quot;shade everything&quot;, but the &quot;very simple question&quot; ignored transitive dependencies, which are usually where issues arise. Direct dependencies are trivially shaded; transitive dependencies are why these tools exist in the first place, because they&#39;re essentially impossible to deal with manually for projects of any size.","body":"@David The &quot;very simple question&quot;&#39;s answer is &quot;shade everything&quot;, but the &quot;very simple question&quot; ignored transitive dependencies, which are usually where issues arise. Direct dependencies are trivially shaded; transitive dependencies are why these tools exist in the first place, because they&#39;re essentially impossible to deal with manually for projects of any size."}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673713462,"creation_date":1673713462,"answer_id":75119429,"question_id":75118428,"body_markdown":"Thing is, you &quot;usually&quot; don&#39;t shade your dependencies. This is why information about this is often not provided, and you are on your own.\r\n\r\nThere are actually few reasons to shade. \r\n\r\nIf you build a standalone JAR, and you find a conflict in your transitive dependencies, you first try to fix it without shading:\r\n\r\n- you set the version of the dependency in `&lt;dependencyManagement&gt;` to some new version and test if it works.\r\n- you reduce the dependencies of your project by writing some stuff yourself.\r\n\r\nOnly if this does not work, you start shading.\r\n\r\nNote: I am talking about standalone JARs. If your JAR runs as a plugin in the context of a different class loader (together with other, unknown plugins) like in Jenkins, then it might be worthwhile to shade a lot of stuff, and to reduce dependencies to an absolute minimum.","title":"How to know which package to shade in Maven?","body":"<p>Thing is, you &quot;usually&quot; don't shade your dependencies. This is why information about this is often not provided, and you are on your own.</p>\n<p>There are actually few reasons to shade.</p>\n<p>If you build a standalone JAR, and you find a conflict in your transitive dependencies, you first try to fix it without shading:</p>\n<ul>\n<li>you set the version of the dependency in <code>&lt;dependencyManagement&gt;</code> to some new version and test if it works.</li>\n<li>you reduce the dependencies of your project by writing some stuff yourself.</li>\n</ul>\n<p>Only if this does not work, you start shading.</p>\n<p>Note: I am talking about standalone JARs. If your JAR runs as a plugin in the context of a different class loader (together with other, unknown plugins) like in Jenkins, then it might be worthwhile to shade a lot of stuff, and to reduce dependencies to an absolute minimum.</p>\n"}],"owner":{"account_id":19984783,"reputation":124,"user_id":14647130,"display_name":"David"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673713462,"creation_date":1673704323,"question_id":75118428,"body_markdown":"When a library is released it&#39;s very common for the author to provide the Maven/Gradle dependencies.\r\nIf the library needs to be shaded, they would also specify the relevant package for the shade plugin:\r\n```\r\n&lt;relocation&gt;\r\n    &lt;pattern&gt;com.github.stefvanschie.inventoryframework&lt;/pattern&gt;\t\t\t\t\t\t\r\n    &lt;shadedPattern&gt;${shade.base}.inventoryframework&lt;/shadedPattern&gt;\r\n&lt;/relocation&gt;\r\n```\r\nBut what if they don&#39;t? For many dependencies I had to search the github page for the top package, which of course can be wrong.\r\nWhat should I do at that case?\r\n\r\n* If it&#39;s not clear from the post, I need to create a stand-alone jar(a plugin for a certain system) that contains my dependencies to obviously avoid `ClassNotFoundException`s at runtime.","title":"How to know which package to shade in Maven?","body":"<p>When a library is released it's very common for the author to provide the Maven/Gradle dependencies.\nIf the library needs to be shaded, they would also specify the relevant package for the shade plugin:</p>\n<pre><code>&lt;relocation&gt;\n    &lt;pattern&gt;com.github.stefvanschie.inventoryframework&lt;/pattern&gt;                       \n    &lt;shadedPattern&gt;${shade.base}.inventoryframework&lt;/shadedPattern&gt;\n&lt;/relocation&gt;\n</code></pre>\n<p>But what if they don't? For many dependencies I had to search the github page for the top package, which of course can be wrong.\nWhat should I do at that case?</p>\n<ul>\n<li>If it's not clear from the post, I need to create a stand-alone jar(a plugin for a certain system) that contains my dependencies to obviously avoid <code>ClassNotFoundException</code>s at runtime.</li>\n</ul>\n"},{"tags":["java","android","android-recyclerview","textview","spannable"],"answers":[{"comments":[{"owner":{"account_id":8822894,"reputation":4923,"user_id":6592058,"accept_rate":86,"display_name":"seekingStillness"},"score":0,"creation_date":1543155168,"post_id":53460572,"comment_id":93807130,"body_markdown":"Thanks, so I findViewByID, then add your code, then setText... all in ViewHolder.  Correct?","body":"Thanks, so I findViewByID, then add your code, then setText... all in ViewHolder.  Correct?"},{"owner":{"account_id":8822894,"reputation":4923,"user_id":6592058,"accept_rate":86,"display_name":"seekingStillness"},"score":0,"creation_date":1543157489,"post_id":53460572,"comment_id":93807824,"body_markdown":"Oops, I meant  so I findViewByID, then add your code... in ViewHolde constructor.  And setText in onBIndViewHolder","body":"Oops, I meant  so I findViewByID, then add your code... in ViewHolde constructor.  And setText in onBIndViewHolder"},{"owner":{"account_id":8616054,"reputation":371,"user_id":6452943,"display_name":"Swati Navalkar"},"score":0,"creation_date":1582657423,"post_id":53460572,"comment_id":106850770,"body_markdown":"Where should we write setSpan? How does SpannableFactory reduce the number of object creation?","body":"Where should we write setSpan? How does SpannableFactory reduce the number of object creation?"},{"owner":{"account_id":5251106,"reputation":2819,"user_id":4195337,"display_name":"jmart"},"score":0,"creation_date":1673715827,"post_id":53460572,"comment_id":132562027,"body_markdown":"By creating the spannable factory inside setSpannableFactory, we are creating a new factory every time we create a view holder. I&#39;d say it&#39;s better to create the factory only once in a global variable and use that variable to set the factory.","body":"By creating the spannable factory inside setSpannableFactory, we are creating a new factory every time we create a view holder. I&#39;d say it&#39;s better to create the factory only once in a global variable and use that variable to set the factory."}],"tags":[],"owner":{"account_id":3728672,"reputation":12411,"user_id":3101777,"accept_rate":79,"display_name":"Misha Akopov"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1673712850,"creation_date":1543079692,"answer_id":53460572,"question_id":53460355,"body_markdown":"In java you should just override method `newSpannable`, in its implementation cast source (CharSequence) to Spannable and set this factory to `TextView` (tvText in my case)\r\n\r\n           tvText.setSpannableFactory(new Spannable.Factory(){\r\n                @Override\r\n                public Spannable newSpannable(CharSequence source) {\r\n                    return (Spannable) source;\r\n                }\r\n            });\r\n\r\n\r\nKeep in mind, it should be **set** from `ViewHolder&#39;s` constructor, **not** `onBindViewHolder`. When you get reference to it by `findViewById`.","title":"Improving spanned/spannable performance in setting TextView RecylcerView","body":"<p>In java you should just override method <code>newSpannable</code>, in its implementation cast source (CharSequence) to Spannable and set this factory to <code>TextView</code> (tvText in my case)</p>\n<pre><code>       tvText.setSpannableFactory(new Spannable.Factory(){\n            @Override\n            public Spannable newSpannable(CharSequence source) {\n                return (Spannable) source;\n            }\n        });\n</code></pre>\n<p>Keep in mind, it should be <strong>set</strong> from <code>ViewHolder's</code> constructor, <strong>not</strong> <code>onBindViewHolder</code>. When you get reference to it by <code>findViewById</code>.</p>\n"}],"owner":{"account_id":8822894,"reputation":4923,"user_id":6592058,"accept_rate":86,"display_name":"seekingStillness"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":958,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53460572,"answer_count":1,"score":2,"last_activity_date":1673712850,"creation_date":1543078285,"question_id":53460355,"body_markdown":"I have a `RecyclerView` with a number of `TextViews`.  One of these `TextViews` is populated with a `Spanned`, via a marked up `String` taken from an `ArrayList&lt;Object&gt;`.  After reading [this][1] tutorial by Florina Muntenescu, I realize I can likely improve my performance by using `Spannable Factory`.  My biggest problem is that her code is written in `Kotlin` (and I&#39;m not quite there yet).\r\n\r\nAs far as I can tell, this is the key information,\r\n\r\n&gt; Lets say that we want to reuse a `TextView` and set the text multiple times, like in a `RecyclerView.ViewHolder`...  \r\n\r\n    val spannableFactory = object : Spannable.Factory() {\r\n        override fun newSpannable(source: CharSequence?): Spannable {\r\n            return source as Spannable\r\n        }\r\n    }`\r\n\r\n&gt; Set the `Spannable.Factory` object once right after you get a\r\n&gt; reference to your TextView. If youre using a RecyclerView, do this\r\n&gt; when you first inflate your views.\r\n\r\n    textView.setSpannableFactory(spannableFactory)\r\n\r\n\r\nSo, suppose I have this simple `RecyclerView adapter` setting a single `Spanned` `TextView`.\r\n\r\n\r\n    @Override\r\n    public void onBindViewHolder(RecyclerViewHolder rvh, int position){\r\n\r\n        String string =arrayList.get(position).getValue();\r\n        Spanned spanned = getSpannedValue(string);\r\n        rvh.tv.setText(spanned);\r\n    }\r\n\r\nHow can I change my code to utilize the recommendation from Florina?\r\n\r\n\r\n\r\n\r\n  [1]: https://medium.com/androiddevelopers/underspanding-spans-1b91008b97e4","title":"Improving spanned/spannable performance in setting TextView RecylcerView","body":"<p>I have a <code>RecyclerView</code> with a number of <code>TextViews</code>.  One of these <code>TextViews</code> is populated with a <code>Spanned</code>, via a marked up <code>String</code> taken from an <code>ArrayList&lt;Object&gt;</code>.  After reading <a href=\"https://medium.com/androiddevelopers/underspanding-spans-1b91008b97e4\" rel=\"nofollow noreferrer\">this</a> tutorial by Florina Muntenescu, I realize I can likely improve my performance by using <code>Spannable Factory</code>.  My biggest problem is that her code is written in <code>Kotlin</code> (and I'm not quite there yet).</p>\n\n<p>As far as I can tell, this is the key information,</p>\n\n<blockquote>\n  <p>Lets say that we want to reuse a <code>TextView</code> and set the text multiple times, like in a <code>RecyclerView.ViewHolder</code>...  </p>\n</blockquote>\n\n<pre><code>val spannableFactory = object : Spannable.Factory() {\n    override fun newSpannable(source: CharSequence?): Spannable {\n        return source as Spannable\n    }\n}`\n</code></pre>\n\n<blockquote>\n  <p>Set the <code>Spannable.Factory</code> object once right after you get a\n  reference to your TextView. If youre using a RecyclerView, do this\n  when you first inflate your views.</p>\n</blockquote>\n\n<pre><code>textView.setSpannableFactory(spannableFactory)\n</code></pre>\n\n<p>So, suppose I have this simple <code>RecyclerView adapter</code> setting a single <code>Spanned</code> <code>TextView</code>.</p>\n\n<pre><code>@Override\npublic void onBindViewHolder(RecyclerViewHolder rvh, int position){\n\n    String string =arrayList.get(position).getValue();\n    Spanned spanned = getSpannedValue(string);\n    rvh.tv.setText(spanned);\n}\n</code></pre>\n\n<p>How can I change my code to utilize the recommendation from Florina?</p>\n"},{"tags":["java","regex","escaping"],"answers":[{"comments":[{"owner":{"account_id":1628184,"reputation":9512,"user_id":1503237,"accept_rate":67,"display_name":"Matthias Ronge"},"score":107,"creation_date":1358342850,"post_id":60161,"comment_id":19964625,"body_markdown":"Please not that this doesnt escape the string itself, but wraps it using `\\Q` and `\\E`. This may lead to unexpected results, for example `Pattern.quote(&quot;*.wav&quot;).replaceAll(&quot;*&quot;,&quot;.*&quot;)` will result in `\\Q.*.wav\\E` and not `.*\\.wav`, as you might expect.","body":"Please not that this doesnt escape the string itself, but wraps it using <code>\\Q</code> and <code>\\E</code>. This may lead to unexpected results, for example <code>Pattern.quote(&quot;*.wav&quot;).replaceAll(&quot;*&quot;,&quot;.*&quot;)</code> will result in <code>\\Q.*.wav\\E</code> and not <code>.*\\.wav</code>, as you might expect."},{"owner":{"account_id":1628184,"reputation":9512,"user_id":1503237,"accept_rate":67,"display_name":"Matthias Ronge"},"score":19,"creation_date":1384267999,"post_id":60161,"comment_id":29661195,"body_markdown":"I just wantet to point out that this way of escaping applies escaping also on expressions that you introduce *afterwards*. This may be surprising. If you do `&quot;mouse&quot;.toUpperCase().replaceAll(&quot;OUS&quot;,&quot;ic&quot;)` it will return `MicE`. You wouldt expect it to return `MICE` because you didnt apply `toUpperCase()` on `ic`. In my example `quote()` is applied on the `.*` insertet by `replaceAll()` as well. You have to do something else, perhaps `.replaceAll(&quot;*&quot;,&quot;\\\\E.*\\\\Q&quot;)` would work, but thats counterintuitive.","body":"I just wantet to point out that this way of escaping applies escaping also on expressions that you introduce <i>afterwards</i>. This may be surprising. If you do <code>&quot;mouse&quot;.toUpperCase().replaceAll(&quot;OUS&quot;,&quot;ic&quot;)</code> it will return <code>MicE</code>. You wouldt expect it to return <code>MICE</code> because you didnt apply <code>toUpperCase()</code> on <code>ic</code>. In my example <code>quote()</code> is applied on the <code>.*</code> insertet by <code>replaceAll()</code> as well. You have to do something else, perhaps <code>.replaceAll(&quot;*&quot;,&quot;\\\\E.*\\\\Q&quot;)</code> would work, but thats counterintuitive."},{"owner":{"account_id":1347382,"reputation":10453,"user_id":1287856,"accept_rate":83,"display_name":"Mika&#235;l Mayer"},"score":1,"creation_date":1387553285,"post_id":60161,"comment_id":31015577,"body_markdown":"@Parameleon: The best solution to the corresponding problem is to use a split-map-mkString method. &quot;.wav&quot;.split(&quot;\\\\.&quot;).map(Pattern.quote).mkString(&quot;.&quot;).r","body":"@Parameleon: The best solution to the corresponding problem is to use a split-map-mkString method. &quot;.wav&quot;.split(&quot;\\\\.&quot;).map(Pattern.quote).mkString(&quot;.&quot;).r"},{"owner":{"account_id":4489466,"reputation":541,"user_id":3650944,"accept_rate":92,"display_name":"Adam Jensen"},"score":0,"creation_date":1408510616,"post_id":60161,"comment_id":39611613,"body_markdown":"@Paramaeleon Results in an error for me, as the first argument in replaceAll is a regex.","body":"@Paramaeleon Results in an error for me, as the first argument in replaceAll is a regex."},{"owner":{"account_id":1051720,"reputation":1538,"user_id":1055489,"accept_rate":40,"display_name":"Theodore Murdock"},"score":2,"creation_date":1434143957,"post_id":60161,"comment_id":49672723,"body_markdown":"@Paramaleon If it did work by adding individual escapes, your initial example still wouldn&#39;t do what you wanted...if it escaped characters individually, it would turn `*.wav` into the regex pattern `\\*\\.wav`, and the replaceAll would turn it into `\\.*\\.wav`, meaning it would match files whose name consists of a arbitrary number of periods followed by `.wav`. You&#39;d most likely have needed to `replaceAll(&quot;\\\\*&quot;, &quot;.*&quot;)` if they&#39;d gone with the more fragile implementation that relies on recognizing all possible active regex charachters and escaping them individually...would that be so much easier?","body":"@Paramaleon If it did work by adding individual escapes, your initial example still wouldn&#39;t do what you wanted...if it escaped characters individually, it would turn <code>*.wav</code> into the regex pattern <code>\\*\\.wav</code>, and the replaceAll would turn it into <code>\\.*\\.wav</code>, meaning it would match files whose name consists of a arbitrary number of periods followed by <code>.wav</code>. You&#39;d most likely have needed to <code>replaceAll(&quot;\\\\*&quot;, &quot;.*&quot;)</code> if they&#39;d gone with the more fragile implementation that relies on recognizing all possible active regex charachters and escaping them individually...would that be so much easier?"},{"owner":{"account_id":1051720,"reputation":1538,"user_id":1055489,"accept_rate":40,"display_name":"Theodore Murdock"},"score":0,"creation_date":1434144264,"post_id":60161,"comment_id":49672839,"body_markdown":"Or rather, combining with Adam Jensen&#39;s comment, you&#39;d have had to use `replaceAll(&quot;\\\\\\\\\\\\*&quot;, &quot;.*&quot;)`","body":"Or rather, combining with Adam Jensen&#39;s comment, you&#39;d have had to use <code>replaceAll(&quot;\\\\\\\\\\\\*&quot;, &quot;.*&quot;)</code>"},{"owner":{"account_id":1674818,"reputation":3154,"user_id":1540600,"display_name":"sferencik"},"score":1,"creation_date":1445271838,"post_id":60161,"comment_id":54243056,"body_markdown":"@Paramaeleon: the use case is `&quot;*.wav&quot;.replaceAll(Pattern.quote(&quot;*&quot;), &quot;.*&quot;)`.","body":"@Paramaeleon: the use case is <code>&quot;*.wav&quot;.replaceAll(Pattern.quote(&quot;*&quot;), &quot;.*&quot;)</code>."},{"owner":{"account_id":6939119,"reputation":435,"user_id":5326098,"accept_rate":88,"display_name":"Panther"},"score":1,"creation_date":1502403016,"post_id":60161,"comment_id":78208008,"body_markdown":"Actually none of the answers helped me, but then this came to my mind: I tried to make simple user input possible, where `*` simply means `.*` for example. User don&#39;t know anything of regex of course, so he might use regex strings like `.Hello*you?` - theoretically. It&#39;s not possible to use `Pattern.quote(string)` and then replace `*` with `.*` and the other way round, because it would quote the whole string. Just `split` the string for `*`, then quote every piece of the resulting array and put everything together again with `.*` between. Hope that helped someone who searched for the same :)","body":"Actually none of the answers helped me, but then this came to my mind: I tried to make simple user input possible, where <code>*</code> simply means <code>.*</code> for example. User don&#39;t know anything of regex of course, so he might use regex strings like <code>.Hello*you?</code> - theoretically. It&#39;s not possible to use <code>Pattern.quote(string)</code> and then replace <code>*</code> with <code>.*</code> and the other way round, because it would quote the whole string. Just <code>split</code> the string for <code>*</code>, then quote every piece of the resulting array and put everything together again with <code>.*</code> between. Hope that helped someone who searched for the same :)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1649771315,"post_id":60161,"comment_id":126956719,"body_markdown":"@MatthiasRonge `Pattern.quote(&quot;*.wav&quot;).replaceAll(&quot;*&quot;,&quot;.*&quot;)` will result in an exception, because `*` is not a valid regex. Generally, since `*` has a meaning to regex, it must be quoted as well. So `Pattern.quote(&quot;*.wav&quot;)` may return `&quot;\\\\Q*.wav\\\\E&quot;`, `&quot;\\\\*\\\\.wav&quot;`, `&quot;\\\\u002a\\\\.wav&quot;`, or `&quot;[*][.]wav&quot;`, but you can never expect it to return `&quot;*\\\\.wav&quot;` as returning an invalid regex would be definitely off contract. No valid variant could ever meet your hypothetical expectation that you can simply replace `*` with `.*` afterwards.","body":"@MatthiasRonge <code>Pattern.quote(&quot;*.wav&quot;).replaceAll(&quot;*&quot;,&quot;.*&quot;)</code> will result in an exception, because <code>*</code> is not a valid regex. Generally, since <code>*</code> has a meaning to regex, it must be quoted as well. So <code>Pattern.quote(&quot;*.wav&quot;)</code> may return <code>&quot;\\\\Q*.wav\\\\E&quot;</code>, <code>&quot;\\\\*\\\\.wav&quot;</code>, <code>&quot;\\\\u002a\\\\.wav&quot;</code>, or <code>&quot;[*][.]wav&quot;</code>, but you can never expect it to return <code>&quot;*\\\\.wav&quot;</code> as returning an invalid regex would be definitely off contract. No valid variant could ever meet your hypothetical expectation that you can simply replace <code>*</code> with <code>.*</code> afterwards."},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1660274846,"post_id":60161,"comment_id":129499114,"body_markdown":"`Pattern#quote(java.lang.String)` has never worked for me. Is there a way that actually escapes each special character?","body":"<code>Pattern#quote(java.lang.String)</code> has never worked for me. Is there a way that actually escapes each special character?"}],"tags":[],"owner":{"account_id":103,"reputation":44354,"user_id":122,"accept_rate":79,"display_name":"Mike Stone"},"comment_count":10,"down_vote_count":5,"up_vote_count":492,"is_accepted":true,"score":487,"last_activity_date":1362414574,"creation_date":1221262792,"answer_id":60161,"question_id":60160,"body_markdown":"Since [Java 1.5, yes](http://download.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#quote(java.lang.String)):\r\n\r\n    Pattern.quote(&quot;$5&quot;);","title":"How to escape text for regular expression in Java?","body":"<p>Since <a href=\"http://download.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#quote(java.lang.String)\" rel=\"noreferrer\">Java 1.5, yes</a>:</p>\n\n<pre><code>Pattern.quote(\"$5\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8709,"reputation":5827,"user_id":15816,"display_name":"Chris Mazzola"},"score":0,"creation_date":1249591902,"post_id":60164,"comment_id":1067647,"body_markdown":"I&#39;m curious if there&#39;s any difference between this and using the LITERAL flag, since the javadoc says there is no embedded flag to switch LITERAL on and off: http://java.sun.com/j2se/1.5.0/docs/api/java/util/regex/Pattern.html#LITERAL","body":"I&#39;m curious if there&#39;s any difference between this and using the LITERAL flag, since the javadoc says there is no embedded flag to switch LITERAL on and off: <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/regex/Pattern.html#LITERAL\" rel=\"nofollow noreferrer\">java.sun.com/j2se/1.5.0/docs/api/java/util/regex/&hellip;</a>"},{"owner":{"account_id":35052,"reputation":5206,"user_id":99189,"accept_rate":75,"display_name":"Jeremy Huiskamp"},"score":19,"creation_date":1297649026,"post_id":60164,"comment_id":5572914,"body_markdown":"Note that literally using \\Q and \\E is only fine if you know your input.  Pattern.quote(s) will also handle the case where your text actually contains these sequences.","body":"Note that literally using \\Q and \\E is only fine if you know your input.  Pattern.quote(s) will also handle the case where your text actually contains these sequences."}],"tags":[],"owner":{"account_id":1396,"reputation":2865,"user_id":1867,"accept_rate":29,"display_name":"Rob Oxspring"},"comment_count":2,"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1380097585,"creation_date":1221262936,"answer_id":60164,"question_id":60160,"body_markdown":"I think what you&#39;re after is `\\Q$5\\E`.  Also see `Pattern.quote(s)` introduced in Java5.\r\n\r\n\r\nSee [Pattern][1] javadoc for details.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html","title":"How to escape text for regular expression in Java?","body":"<p>I think what you're after is <code>\\Q$5\\E</code>.  Also see <code>Pattern.quote(s)</code> introduced in Java5.</p>\n\n<p>See <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html\" rel=\"noreferrer\">Pattern</a> javadoc for details.</p>\n"},{"comments":[{"owner":{"account_id":287724,"reputation":920,"user_id":587723,"display_name":"Steven"},"score":32,"creation_date":1321639949,"post_id":60172,"comment_id":10058058,"body_markdown":"Specifically, `Pattern.quote` replaces special characters in regex search strings, like .|+() etc, and `Matcher.quoteReplacement` replaces special characters in replacement strings, like \\1 for backreferences.","body":"Specifically, <code>Pattern.quote</code> replaces special characters in regex search strings, like .|+() etc, and <code>Matcher.quoteReplacement</code> replaces special characters in replacement strings, like \\1 for backreferences."},{"owner":{"account_id":76828,"reputation":5266,"user_id":219658,"accept_rate":25,"display_name":"David Medinets"},"score":13,"creation_date":1423265291,"post_id":60172,"comment_id":45093289,"body_markdown":"I don&#39;t agree. Pattern.quote wraps its argument with \\Q and \\E. It does not escape special characters.","body":"I don&#39;t agree. Pattern.quote wraps its argument with \\Q and \\E. It does not escape special characters."},{"owner":{"account_id":76828,"reputation":5266,"user_id":219658,"accept_rate":25,"display_name":"David Medinets"},"score":5,"creation_date":1423265476,"post_id":60172,"comment_id":45093360,"body_markdown":"Matcher.quoteReplacement(&quot;4$&amp;%$&quot;) produces &quot;4\\$&amp;%\\$&quot;. It escapes the special characters.","body":"Matcher.quoteReplacement(&quot;4$&amp;%$&quot;) produces &quot;4\\$&amp;%\\$&quot;. It escapes the special characters."},{"owner":{"account_id":3916043,"reputation":2182,"user_id":3239833,"accept_rate":67,"display_name":"SebastianH"},"score":6,"creation_date":1455444793,"post_id":60172,"comment_id":58485160,"body_markdown":"In other words: `quoteReplacement` only cares about the two symbols `$` and `\\ ` which can for example be used in replacement strings as backreferences `$1` or `\\1`. It therefore must not be used to escape/quote a regex.","body":"In other words: <code>quoteReplacement</code> only cares about the two symbols <code>$</code> and <code>\\ </code> which can for example be used in replacement strings as backreferences <code>$1</code> or <code>\\1</code>. It therefore must not be used to escape/quote a regex."},{"owner":{"account_id":1405869,"reputation":10755,"user_id":1333610,"accept_rate":86,"display_name":"arun"},"score":1,"creation_date":1456866620,"post_id":60172,"comment_id":59141543,"body_markdown":"Awesome. Here is an example where we want to replace `$Group$` with `T$UYO$HI`. The `$` symbol is special both in the pattern and in the replacement: `&quot;$Group$ Members&quot;.replaceFirst(Pattern.quote(&quot;$Group$&quot;), Matcher.quoteReplacement(&quot;T$UYO$HI&quot;))`","body":"Awesome. Here is an example where we want to replace <code>$Group$</code> with <code>T$UYO$HI</code>. The <code>$</code> symbol is special both in the pattern and in the replacement: <code>&quot;$Group$ Members&quot;.replaceFirst(Pattern.quote(&quot;$Group$&quot;), Matcher.quoteReplacement(&quot;T$UYO$HI&quot;))</code>"}],"tags":[],"owner":{"account_id":3785,"reputation":4641,"user_id":5507,"accept_rate":42,"display_name":"Pavel Feldman"},"comment_count":5,"down_vote_count":1,"up_vote_count":132,"is_accepted":false,"score":131,"last_activity_date":1445814051,"creation_date":1221263534,"answer_id":60172,"question_id":60160,"body_markdown":"Difference between [`Pattern.quote`][pattern quote] and [`Matcher.quoteReplacement`][matcher quote] was not clear to me before I saw following example\r\n\r\n    s.replaceFirst(Pattern.quote(&quot;text to replace&quot;), \r\n                   Matcher.quoteReplacement(&quot;replacement text&quot;));\r\n\r\n[matcher quote]: http://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#quoteReplacement-java.lang.String-\r\n[pattern quote]: http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#quote-java.lang.String-","title":"How to escape text for regular expression in Java?","body":"<p>Difference between <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#quote-java.lang.String-\" rel=\"noreferrer\"><code>Pattern.quote</code></a> and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html#quoteReplacement-java.lang.String-\" rel=\"noreferrer\"><code>Matcher.quoteReplacement</code></a> was not clear to me before I saw following example</p>\n\n<pre><code>s.replaceFirst(Pattern.quote(\"text to replace\"), \n               Matcher.quoteReplacement(\"replacement text\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91748,"reputation":939,"user_id":251767,"accept_rate":67,"display_name":"Meower68"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1344956427,"creation_date":1344956427,"answer_id":11955201,"question_id":60160,"body_markdown":"First off, if\r\n\r\n* you use replaceAll()\r\n* you DON&#39;T use Matcher.quoteReplacement()\r\n* the text to be substituted in includes a $1\r\n\r\nit won&#39;t put a 1 at the end.  It will look at the search regex for the first matching group and sub THAT in.  That&#39;s what $1, $2 or $3 means in the replacement text: matching groups from the search pattern.\r\n\r\nI frequently plug long strings of text into .properties files, then generate email subjects and bodies from those.  Indeed, this appears to be the default way to do i18n in Spring Framework.  I put XML tags, as placeholders, into the strings and I use replaceAll() to replace the XML tags with the values at runtime.\r\n\r\nI ran into an issue where a user input a dollars-and-cents figure, with a dollar sign.  replaceAll() choked on it, with the following showing up in a stracktrace:\r\n\r\n    java.lang.IndexOutOfBoundsException: No group 3\r\n    at java.util.regex.Matcher.start(Matcher.java:374)\r\n    at java.util.regex.Matcher.appendReplacement(Matcher.java:748)\r\n    at java.util.regex.Matcher.replaceAll(Matcher.java:823)\r\n    at java.lang.String.replaceAll(String.java:2201)\r\n\r\nIn this case, the user had entered &quot;$3&quot; somewhere in their input and replaceAll() went looking in the search regex for the third matching group, didn&#39;t find one, and puked.\r\n\r\nGiven:\r\n\r\n    // &quot;msg&quot; is a string from a .properties file, containing &quot;&lt;userInput /&gt;&quot; among other tags\r\n    // &quot;userInput&quot; is a String containing the user&#39;s input\r\n\r\nreplacing\r\n\r\n    msg = msg.replaceAll(&quot;&lt;userInput \\\\/&gt;&quot;, userInput);\r\n\r\nwith \r\n\r\n    msg = msg.replaceAll(&quot;&lt;userInput \\\\/&gt;&quot;, Matcher.quoteReplacement(userInput));\r\n\r\nsolved the problem.  The user could put in any kind of characters, including dollar signs, without issue.  It behaved exactly the way you would expect.\r\n\r\n","title":"How to escape text for regular expression in Java?","body":"<p>First off, if</p>\n\n<ul>\n<li>you use replaceAll()</li>\n<li>you DON'T use Matcher.quoteReplacement()</li>\n<li>the text to be substituted in includes a $1</li>\n</ul>\n\n<p>it won't put a 1 at the end.  It will look at the search regex for the first matching group and sub THAT in.  That's what $1, $2 or $3 means in the replacement text: matching groups from the search pattern.</p>\n\n<p>I frequently plug long strings of text into .properties files, then generate email subjects and bodies from those.  Indeed, this appears to be the default way to do i18n in Spring Framework.  I put XML tags, as placeholders, into the strings and I use replaceAll() to replace the XML tags with the values at runtime.</p>\n\n<p>I ran into an issue where a user input a dollars-and-cents figure, with a dollar sign.  replaceAll() choked on it, with the following showing up in a stracktrace:</p>\n\n<pre><code>java.lang.IndexOutOfBoundsException: No group 3\nat java.util.regex.Matcher.start(Matcher.java:374)\nat java.util.regex.Matcher.appendReplacement(Matcher.java:748)\nat java.util.regex.Matcher.replaceAll(Matcher.java:823)\nat java.lang.String.replaceAll(String.java:2201)\n</code></pre>\n\n<p>In this case, the user had entered \"$3\" somewhere in their input and replaceAll() went looking in the search regex for the third matching group, didn't find one, and puked.</p>\n\n<p>Given:</p>\n\n<pre><code>// \"msg\" is a string from a .properties file, containing \"&lt;userInput /&gt;\" among other tags\n// \"userInput\" is a String containing the user's input\n</code></pre>\n\n<p>replacing</p>\n\n<pre><code>msg = msg.replaceAll(\"&lt;userInput \\\\/&gt;\", userInput);\n</code></pre>\n\n<p>with </p>\n\n<pre><code>msg = msg.replaceAll(\"&lt;userInput \\\\/&gt;\", Matcher.quoteReplacement(userInput));\n</code></pre>\n\n<p>solved the problem.  The user could put in any kind of characters, including dollar signs, without issue.  It behaved exactly the way you would expect.</p>\n"},{"comments":[{"owner":{"account_id":439169,"reputation":34683,"user_id":827927,"accept_rate":74,"display_name":"Erel Segal-Halevi"},"score":0,"creation_date":1365322888,"post_id":13405612,"comment_id":22573783,"body_markdown":"You don&#39;t have to escape spaces. So you can chagne your pattern to &quot;([^a-zA-z0-9 ])&quot;.","body":"You don&#39;t have to escape spaces. So you can chagne your pattern to &quot;([^a-zA-z0-9 ])&quot;."},{"owner":{"account_id":44646,"reputation":2831,"user_id":131146,"accept_rate":75,"display_name":"Zefiro"},"score":6,"creation_date":1432915449,"post_id":13405612,"comment_id":49141898,"body_markdown":"Small typo, big consequences: &quot;([^a-zA-z0-9])&quot; does also not match (i.e. not escape) [, \\, ], ^ which you certainly want to have escaped! The typo is the second &#39;z&#39; which should be a &#39;Z&#39;, otherwise everything from ASCII 65 to ASCII 122 is included","body":"Small typo, big consequences: &quot;([^a-zA-z0-9])&quot; does also not match (i.e. not escape) [, \\, ], ^ which you certainly want to have escaped! The typo is the second &#39;z&#39; which should be a &#39;Z&#39;, otherwise everything from ASCII 65 to ASCII 122 is included"}],"tags":[],"owner":{"account_id":875339,"reputation":1601,"user_id":925098,"accept_rate":25,"display_name":"Moscow Boy"},"comment_count":2,"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1468945608,"creation_date":1353011250,"answer_id":13405612,"question_id":60160,"body_markdown":"To have protected pattern you may replace all symbols with &quot;\\\\\\\\\\\\\\\\&quot;, except digits and letters.  And after that you can put in that protected pattern your special symbols to make this pattern working not like stupid quoted text, but really like a patten, but your own.  Without user special symbols.\r\n\r\n    public class Test {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString str = &quot;y z (111)&quot;;\r\n    \t\tString p1 = &quot;x x (111)&quot;;\r\n    \t\tString p2 = &quot;.* .* \\\\(111\\\\)&quot;;\r\n    \t\t\r\n    \t\tp1 = escapeRE(p1);\r\n    \r\n    \t\tp1 = p1.replace(&quot;x&quot;, &quot;.*&quot;);\r\n    \r\n    \t\tSystem.out.println( p1 + &quot;--&gt;&quot; + str.matches(p1) ); \r\n                //.*\\ .*\\ \\(111\\)--&gt;true\r\n    \t\tSystem.out.println( p2 + &quot;--&gt;&quot; + str.matches(p2) ); \r\n                //.* .* \\(111\\)--&gt;true\r\n    \t}\r\n    \r\n    \tpublic static String escapeRE(String str) {\r\n    \t\t//Pattern escaper = Pattern.compile(&quot;([^a-zA-z0-9])&quot;);\r\n    \t\t//return escaper.matcher(str).replaceAll(&quot;\\\\\\\\$1&quot;);\r\n    \t\treturn str.replaceAll(&quot;([^a-zA-Z0-9])&quot;, &quot;\\\\\\\\$1&quot;);\r\n    \t}\r\n    }\r\n\r\n","title":"How to escape text for regular expression in Java?","body":"<p>To have protected pattern you may replace all symbols with \"\\\\\\\\\", except digits and letters.  And after that you can put in that protected pattern your special symbols to make this pattern working not like stupid quoted text, but really like a patten, but your own.  Without user special symbols.</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        String str = \"y z (111)\";\n        String p1 = \"x x (111)\";\n        String p2 = \".* .* \\\\(111\\\\)\";\n\n        p1 = escapeRE(p1);\n\n        p1 = p1.replace(\"x\", \".*\");\n\n        System.out.println( p1 + \"--&gt;\" + str.matches(p1) ); \n            //.*\\ .*\\ \\(111\\)--&gt;true\n        System.out.println( p2 + \"--&gt;\" + str.matches(p2) ); \n            //.* .* \\(111\\)--&gt;true\n    }\n\n    public static String escapeRE(String str) {\n        //Pattern escaper = Pattern.compile(\"([^a-zA-z0-9])\");\n        //return escaper.matcher(str).replaceAll(\"\\\\\\\\$1\");\n        return str.replaceAll(\"([^a-zA-Z0-9])\", \"\\\\\\\\$1\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4570918,"reputation":803,"user_id":3710640,"accept_rate":100,"display_name":"mjjaniec"},"score":1,"creation_date":1501830252,"post_id":35991060,"comment_id":77961203,"body_markdown":"It&#39;s especially nice because you can combine it with `Pattern.CASE_INSENSITIVE`","body":"It&#39;s especially nice because you can combine it with <code>Pattern.CASE_INSENSITIVE</code>"}],"tags":[],"owner":{"account_id":999506,"reputation":3145,"user_id":1014693,"accept_rate":67,"display_name":"Androidme"},"comment_count":1,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1458212981,"creation_date":1457967842,"answer_id":35991060,"question_id":60160,"body_markdown":"It may be too late to respond, but you can also use `Pattern.LITERAL`, which would ignore all special characters while formatting:\r\n\r\n    Pattern.compile(textToFormat, Pattern.LITERAL);","title":"How to escape text for regular expression in Java?","body":"<p>It may be too late to respond, but you can also use <code>Pattern.LITERAL</code>, which would ignore all special characters while formatting:</p>\n\n<pre><code>Pattern.compile(textToFormat, Pattern.LITERAL);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4239567,"reputation":734,"user_id":3469861,"display_name":"JackLeEmmerdeur"},"score":0,"creation_date":1605640049,"post_id":45415931,"comment_id":114711402,"body_markdown":"+1 This works pretty good for transforming a user-specified string of non-standard chars to a regex-compatible pattern. I&#39;m using it for enforcing those chars in a password. Thanks.","body":"+1 This works pretty good for transforming a user-specified string of non-standard chars to a regex-compatible pattern. I&#39;m using it for enforcing those chars in a password. Thanks."},{"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"score":0,"creation_date":1697924585,"post_id":45415931,"comment_id":136341158,"body_markdown":"This pattern contains some redundant structures (at least for Java) and it unnecessarily escapes some innocent characters. After fixing those and reordering, I arrive at the exact pattern found in [this](https://stackoverflow.com/a/6969486/1052284) answer.","body":"This pattern contains some redundant structures (at least for Java) and it unnecessarily escapes some innocent characters. After fixing those and reordering, I arrive at the exact pattern found in <a href=\"https://stackoverflow.com/a/6969486/1052284\">this</a> answer."}],"tags":[],"owner":{"account_id":3663387,"reputation":3549,"user_id":3058581,"display_name":"Adam111p"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1501504738,"creation_date":1501504001,"answer_id":45415931,"question_id":60160,"body_markdown":"Pattern.quote(&quot;blabla&quot;) works nicely.\r\n\r\nThe Pattern.quote() works nicely. It encloses the sentence with the characters &quot;**\\Q**&quot; and &quot;**\\E**&quot;, and if it does escape &quot;\\Q&quot; and &quot;\\E&quot;.\r\nHowever, if you need to do a real regular expression escaping(or custom escaping), you can use this code:\r\n\r\n    String someText = &quot;Some/s/wText*/,**&quot;;\r\n    System.out.println(someText.replaceAll(&quot;[-\\\\[\\\\]{}()*+?.,\\\\\\\\\\\\\\\\^$|#\\\\\\\\s]&quot;, &quot;\\\\\\\\$0&quot;));\r\nThis method returns: *Some/\\s/wText\\*/\\,\\*\\**\r\n\r\nCode for example and tests:\r\n\r\n    String someText = &quot;Some\\\\E/s/wText*/,**&quot;;\r\n    System.out.println(&quot;Pattern.quote: &quot;+ Pattern.quote(someText));\r\n    System.out.println(&quot;Full escape: &quot;+someText.replaceAll(&quot;[-\\\\[\\\\]{}()*+?.,\\\\\\\\\\\\\\\\^$|#\\\\\\\\s]&quot;, &quot;\\\\\\\\$0&quot;));\r\n\r\n\r\n","title":"How to escape text for regular expression in Java?","body":"<p>Pattern.quote(\"blabla\") works nicely.</p>\n\n<p>The Pattern.quote() works nicely. It encloses the sentence with the characters \"<strong>\\Q</strong>\" and \"<strong>\\E</strong>\", and if it does escape \"\\Q\" and \"\\E\".\nHowever, if you need to do a real regular expression escaping(or custom escaping), you can use this code:</p>\n\n<pre><code>String someText = \"Some/s/wText*/,**\";\nSystem.out.println(someText.replaceAll(\"[-\\\\[\\\\]{}()*+?.,\\\\\\\\\\\\\\\\^$|#\\\\\\\\s]\", \"\\\\\\\\$0\"));\n</code></pre>\n\n<p>This method returns: <em>Some/\\s/wText*/\\,**</em></p>\n\n<p>Code for example and tests:</p>\n\n<pre><code>String someText = \"Some\\\\E/s/wText*/,**\";\nSystem.out.println(\"Pattern.quote: \"+ Pattern.quote(someText));\nSystem.out.println(\"Full escape: \"+someText.replaceAll(\"[-\\\\[\\\\]{}()*+?.,\\\\\\\\\\\\\\\\^$|#\\\\\\\\s]\", \"\\\\\\\\$0\"));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4541793,"reputation":26875,"user_id":3689450,"display_name":"VLAZ"},"score":0,"creation_date":1604999789,"post_id":50990732,"comment_id":114511902,"body_markdown":"I don&#39;t see how this addresses the question at all.","body":"I don&#39;t see how this addresses the question at all."}],"tags":[],"owner":{"account_id":10327397,"reputation":1,"user_id":9717510,"display_name":"Akhil Kathi"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1543440648,"creation_date":1529679614,"answer_id":50990732,"question_id":60160,"body_markdown":"^(Negation) symbol is used to match something that is not in the character group.\r\n\r\nThis is the link to [Regular Expressions][2]\r\n\r\nHere is the image info about negation:\r\n\r\n![Info about negation][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m5cXU.png\r\n  [2]: https://learn.microsoft.com/en-us/dotnet/standard/base-types/regular-expression-language-quick-reference","title":"How to escape text for regular expression in Java?","body":"<p>^(Negation) symbol is used to match something that is not in the character group.</p>\n\n<p>This is the link to <a href=\"https://learn.microsoft.com/en-us/dotnet/standard/base-types/regular-expression-language-quick-reference\" rel=\"nofollow noreferrer\">Regular Expressions</a></p>\n\n<p>Here is the image info about negation:</p>\n\n<p><img src=\"https://i.stack.imgur.com/m5cXU.png\" alt=\"Info about negation\"></p>\n"}],"owner":{"account_id":1727,"reputation":31792,"user_id":2338,"accept_rate":100,"display_name":"Matt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":240407,"favorite_count":0,"down_vote_count":1,"up_vote_count":359,"accepted_answer_id":60161,"answer_count":8,"score":358,"last_activity_date":1673712240,"creation_date":1221262596,"question_id":60160,"body_markdown":"Does Java have a built-in way to escape arbitrary text so that it can be included in a regular expression? For example, if my users enter `&quot;$5&quot;`, I&#39;d like to match that exactly rather than a `&quot;5&quot;` after the end of input.","title":"How to escape text for regular expression in Java?","body":"<p>Does Java have a built-in way to escape arbitrary text so that it can be included in a regular expression? For example, if my users enter <code>&quot;$5&quot;</code>, I'd like to match that exactly rather than a <code>&quot;5&quot;</code> after the end of input.</p>\n"},{"tags":["java","arrays","long-integer"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1430830006,"post_id":30053354,"comment_id":48221206,"body_markdown":"Go through the array and check if the previous number is smaller than `current-1`?","body":"Go through the array and check if the previous number is smaller than <code>current-1</code>?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1430830018,"post_id":30053354,"comment_id":48221215,"body_markdown":"iterate over all of them, and check that i == element (+x). (if duplicates are possible, you&#39;ll need to consider those as well)","body":"iterate over all of them, and check that i == element (+x). (if duplicates are possible, you&#39;ll need to consider those as well)"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1430830109,"post_id":30053354,"comment_id":48221303,"body_markdown":"Are elements guaranteed to be ordered? Also are they unique?","body":"Are elements guaranteed to be ordered? Also are they unique?"},{"owner":{"display_name":"user4229245"},"score":0,"creation_date":1430830848,"post_id":30053354,"comment_id":48221923,"body_markdown":"I could create a website dedicated to all the wrong answers that keep showing up.","body":"I could create a website dedicated to all the wrong answers that keep showing up."},{"owner":{"display_name":"user4229245"},"score":1,"creation_date":1430831028,"post_id":30053354,"comment_id":48222055,"body_markdown":"I&#39;m not going to supply the code, but just suggest looping through looking to make sure that any given element is 1 more than the prior element (with an immediate pass for empty or arrays of size 1).  But again, we need clarification on some of the rules here.","body":"I&#39;m not going to supply the code, but just suggest looping through looking to make sure that any given element is 1 more than the prior element (with an immediate pass for empty or arrays of size 1).  But again, we need clarification on some of the rules here."},{"owner":{"display_name":"user4229245"},"score":0,"creation_date":1430831764,"post_id":30053354,"comment_id":48222616,"body_markdown":"I believe QBrute&#39;s ***revised*** answer is now the fastest, so long as the array is increasing and sorted.  He needs to put in checks for null and empty arrays too.  This question is too vague.","body":"I believe QBrute&#39;s <b><i>revised</i></b> answer is now the fastest, so long as the array is increasing and sorted.  He needs to put in checks for null and empty arrays too.  This question is too vague."}],"answers":[{"comments":[{"owner":{"display_name":"user4229245"},"score":1,"creation_date":1430830781,"post_id":30053686,"comment_id":48221866,"body_markdown":"HAHA, no.  This fails for {2}","body":"HAHA, no.  This fails for {2}"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1430831273,"post_id":30053686,"comment_id":48222228,"body_markdown":"and btw. OP states, that he wants a solution for his concrete array. So my first answer was correct for that special case.","body":"and btw. OP states, that he wants a solution for his concrete array. So my first answer was correct for that special case."},{"owner":{"display_name":"user4229245"},"score":0,"creation_date":1430831336,"post_id":30053686,"comment_id":48222282,"body_markdown":"No, because for that &quot;concrete&quot; array, the answer would be to look at it.  He&#39;s clearly looking for a general purpose algorithm.","body":"No, because for that &quot;concrete&quot; array, the answer would be to look at it.  He&#39;s clearly looking for a general purpose algorithm."},{"owner":{"display_name":"user4229245"},"score":0,"creation_date":1430831824,"post_id":30053686,"comment_id":48222664,"body_markdown":"You should probably make sure that the array isn&#39;t empty, or null.","body":"You should probably make sure that the array isn&#39;t empty, or null."},{"owner":{"display_name":"user4229245"},"score":0,"creation_date":1430831944,"post_id":30053686,"comment_id":48222767,"body_markdown":"To be clear, for this algorithm we need to make sure 1. that the array is increasing, and 2. that it&#39;s ordered.","body":"To be clear, for this algorithm we need to make sure 1. that the array is increasing, and 2. that it&#39;s ordered."}],"tags":[],"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430831996,"creation_date":1430830705,"answer_id":30053686,"question_id":30053354,"body_markdown":"Loop through the array and check, if the current item is exactly `x` more than the current index, where `x` is the first element in your array.\r\n\r\n    public boolean hasGaps(long[] array) {\r\n        if(array == null || array.length == 0) {\r\n            return false;\r\n        }\r\n\r\n        long start = array[0];\r\n        for(int i = 0; i &lt; array.length; i++) {\r\n            if(array[i] != i + start) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }","title":"How to check if an array of numbers has gaps?","body":"<p>Loop through the array and check, if the current item is exactly <code>x</code> more than the current index, where <code>x</code> is the first element in your array.</p>\n\n<pre><code>public boolean hasGaps(long[] array) {\n    if(array == null || array.length == 0) {\n        return false;\n    }\n\n    long start = array[0];\n    for(int i = 0; i &lt; array.length; i++) {\n        if(array[i] != i + start) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2038814,"reputation":11604,"user_id":1820501,"display_name":"Florent Bayle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430830938,"creation_date":1430830938,"answer_id":30053783,"question_id":30053354,"body_markdown":"\tpublic static boolean hasGaps(long[] array) {\r\n\t\tif (array == null || array.length == 0) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (array[array.length - 1] - array[0] + 1 != array.length) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tfor (int i = 1; i &lt; array.length; i++) {\r\n\t\t\tif (array[i] != array[i - 1] + 1) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\nThis method first check for the &quot;easy&quot; cases, then iterate the array to check the more complex cases.","title":"How to check if an array of numbers has gaps?","body":"<pre><code>public static boolean hasGaps(long[] array) {\n    if (array == null || array.length == 0) {\n        return false;\n    }\n    if (array[array.length - 1] - array[0] + 1 != array.length) {\n        return true;\n    }\n    for (int i = 1; i &lt; array.length; i++) {\n        if (array[i] != array[i - 1] + 1) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>This method first check for the \"easy\" cases, then iterate the array to check the more complex cases.</p>\n"},{"comments":[{"owner":{"account_id":2130230,"reputation":15498,"user_id":1891219,"display_name":"gaborsch"},"score":1,"creation_date":1430835158,"post_id":30053933,"comment_id":48225394,"body_markdown":"`array.length == 2` should not be a separate case. The first case should be `array.length == 0` (cannot be negative, and 1 is also covered by the last case). Otherwise +1, this is `O(1)` answer.","body":"<code>array.length == 2</code> should not be a separate case. The first case should be <code>array.length == 0</code> (cannot be negative, and 1 is also covered by the last case). Otherwise +1, this is <code>O(1)</code> answer."}],"tags":[],"owner":{"account_id":2255735,"reputation":86,"user_id":1986960,"display_name":"Xorr"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1532255008,"creation_date":1430831342,"answer_id":30053933,"question_id":30053354,"body_markdown":"If you&#39;re guaranteed that arrays is ordered without any duplicate then you could check that in O(1)\r\n\r\nI think this code should work in this specific case :)\r\n\r\n    //assume that given array is ordered and has no duplicated value\r\n    long[] myarray = {5,6,7};                 //no gap\r\n    long[] myarray1 = {1,2,4};                //has gap\r\n    long[] myarray2 = {10,11,12,13,14,15};    //no gap\r\n\r\n\t//return true if has gap\r\n\t//return false if no gap\r\n    //throw null-pointer if empty\r\n\tpublic static boolean checkIfHasGap(long[] array) {\r\n\t\tif (array.length == 0) {\r\n\t\t\tthrow new NullPointerException(&quot;Given Array is empty&quot;);\r\n\t\t} else {\r\n\t\t\treturn array[0] + array.length != array[array.length - 1] + 1;\r\n\t\t}\r\n\t}","title":"How to check if an array of numbers has gaps?","body":"<p>If you're guaranteed that arrays is ordered without any duplicate then you could check that in O(1)</p>\n\n<p>I think this code should work in this specific case :)</p>\n\n<pre><code>//assume that given array is ordered and has no duplicated value\nlong[] myarray = {5,6,7};                 //no gap\nlong[] myarray1 = {1,2,4};                //has gap\nlong[] myarray2 = {10,11,12,13,14,15};    //no gap\n\n//return true if has gap\n//return false if no gap\n//throw null-pointer if empty\npublic static boolean checkIfHasGap(long[] array) {\n    if (array.length == 0) {\n        throw new NullPointerException(\"Given Array is empty\");\n    } else {\n        return array[0] + array.length != array[array.length - 1] + 1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12400601,"reputation":43,"user_id":9038047,"display_name":"zapalote"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673712009,"creation_date":1673712009,"answer_id":75119264,"question_id":30053354,"body_markdown":"A simpler and reliable way:\r\n\r\n    const getMissingNumbers = (list) =&gt; {\r\n      if (!list || list.length === 0) return [];\r\n    \r\n      const missing = [];\r\n      // sort the list\r\n      list.sort((a, b) =&gt; a - b);\r\n      // pin start and end points in the list\r\n      const step = list[0];\r\n      const last = list[list.length - 1];\r\n      for (let i = step; i &lt; last; i++) {\r\n        if (list.indexOf(i) === -1) missing.push(i);\r\n      }\r\n      return missing;\r\n    }","title":"How to check if an array of numbers has gaps?","body":"<p>A simpler and reliable way:</p>\n<pre><code>const getMissingNumbers = (list) =&gt; {\n  if (!list || list.length === 0) return [];\n\n  const missing = [];\n  // sort the list\n  list.sort((a, b) =&gt; a - b);\n  // pin start and end points in the list\n  const step = list[0];\n  const last = list[list.length - 1];\n  for (let i = step; i &lt; last; i++) {\n    if (list.indexOf(i) === -1) missing.push(i);\n  }\n  return missing;\n}\n</code></pre>\n"}],"owner":{"account_id":4719079,"reputation":1173,"user_id":3817503,"accept_rate":50,"display_name":"goe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5138,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":4,"score":1,"last_activity_date":1673712009,"creation_date":1430829914,"question_id":30053354,"body_markdown":"I have a Long array with these numbers:\r\n\r\n    long[] = {1,2,3,5,6,7};\r\n\r\nNotice that `4` is missing. \r\nWhat&#39;s the best way to test this array if any such gaps exist or not?","title":"How to check if an array of numbers has gaps?","body":"<p>I have a Long array with these numbers:</p>\n\n<pre><code>long[] = {1,2,3,5,6,7};\n</code></pre>\n\n<p>Notice that <code>4</code> is missing. \nWhat's the best way to test this array if any such gaps exist or not?</p>\n"},{"tags":["java","android","reverse-geocoding"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1673776958,"post_id":75119128,"comment_id":132569842,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75119128/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":27025509,"reputation":1,"user_id":20582853,"display_name":"Mehtab"},"score":0,"creation_date":1675755859,"post_id":75119128,"comment_id":132991637,"body_markdown":"Your Idea sounds great can you please tell how you are fetching Sub admin area using postal code","body":"Your Idea sounds great can you please tell how you are fetching Sub admin area using postal code"}],"tags":[],"owner":{"account_id":27528644,"reputation":26,"user_id":21007535,"display_name":"Braj Kumar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673710875,"creation_date":1673710875,"answer_id":75119128,"question_id":74548550,"body_markdown":"It suddenly stops working for me as well. For now, just to not break the functionality we have followed the alternative approach to get the Sub Admin area.\r\nAs an alternative, we can get the pin code of the area using getPostalCode() method and then, with the help of pin code , we can fetch the Sub Admin area.","title":"Getting null in geocoder getSubAdminArea request however 10 days before it was returning a valid value","body":"<p>It suddenly stops working for me as well. For now, just to not break the functionality we have followed the alternative approach to get the Sub Admin area.\nAs an alternative, we can get the pin code of the area using getPostalCode() method and then, with the help of pin code , we can fetch the Sub Admin area.</p>\n"}],"owner":{"account_id":27025509,"reputation":1,"user_id":20582853,"display_name":"Mehtab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673710875,"creation_date":1669214271,"question_id":74548550,"body_markdown":"I am using Geocoder for getting city, district and State name  in Android App based on java\r\n```\r\n\r\nString state = addresses.get(0).getAdminArea();\r\nString district = addresses.get(0).getSubAdminArea(0);\r\nString city = addresses.get(0).getLocality();\r\n\r\n\r\n```\r\n\r\nBefore 10 days I was getting perfect results but now district value is null\r\n\r\n\r\n\r\nI tried a lot and I think the problem is with the getSubAdminArea request because other requests are working properly please help me out on this.\r\n","title":"Getting null in geocoder getSubAdminArea request however 10 days before it was returning a valid value","body":"<p>I am using Geocoder for getting city, district and State name  in Android App based on java</p>\n<pre><code>\nString state = addresses.get(0).getAdminArea();\nString district = addresses.get(0).getSubAdminArea(0);\nString city = addresses.get(0).getLocality();\n\n\n</code></pre>\n<p>Before 10 days I was getting perfect results but now district value is null</p>\n<p>I tried a lot and I think the problem is with the getSubAdminArea request because other requests are working properly please help me out on this.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1653613122,"post_id":72399378,"comment_id":127899519,"body_markdown":"A full program that reproduces the problem would help a lot here.  [mcve]","body":"A full program that reproduces the problem would help a lot here.  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":2141010,"reputation":118259,"user_id":1899640,"display_name":"that other guy"},"score":3,"creation_date":1653613345,"post_id":72399378,"comment_id":127899550,"body_markdown":"This happens because you create a new `Laptops` object every time with `new`. It&#39;s not entirely straight forward to fix because it&#39;s not clear what `Laptops` represents: one, or many? It contains a list as if it represents many laptops, but it&#39;s initialized with a single cpu/gpu as if it was one laptop. You should consider creating a `Laptop` class that represents a single laptop object, and then a `LaptopList` or `LaptopCollection` that contains an array of `Laptop`s. Alternatively, you can give your `Laptops` class a `.addNewLaptop(cpu, gpu, battery)` so it can be called multiple times","body":"This happens because you create a new <code>Laptops</code> object every time with <code>new</code>. It&#39;s not entirely straight forward to fix because it&#39;s not clear what <code>Laptops</code> represents: one, or many? It contains a list as if it represents many laptops, but it&#39;s initialized with a single cpu/gpu as if it was one laptop. You should consider creating a <code>Laptop</code> class that represents a single laptop object, and then a <code>LaptopList</code> or <code>LaptopCollection</code> that contains an array of <code>Laptop</code>s. Alternatively, you can give your <code>Laptops</code> class a <code>.addNewLaptop(cpu, gpu, battery)</code> so it can be called multiple times"},{"owner":{"account_id":20526095,"reputation":238,"user_id":15064501,"display_name":"Alex"},"score":0,"creation_date":1653613661,"post_id":72399378,"comment_id":127899586,"body_markdown":"I have added the full program now you should be able to copy and paste it into your IDE and recreate the problem if you would like.","body":"I have added the full program now you should be able to copy and paste it into your IDE and recreate the problem if you would like."}],"answers":[{"tags":[],"owner":{"account_id":14705483,"reputation":148,"user_id":10620332,"display_name":"Miguel Aragon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673710863,"creation_date":1653614064,"answer_id":72399506,"question_id":72399378,"body_markdown":"If you want a single Laptops object to continue updating, then you should initialize it once before your loop (I renamed your instance from &quot;addLaptop&quot; to &quot;laptops&quot; to remove ambiguity with the function with the same name).\r\n```java\r\nLaptops laptops = new Laptops();\r\nScanner myObj = new Scanner(System.in);\r\n\r\nint loop = 0;...\r\n```\r\n\r\nAnd then you want to remove this line (the one inside your loop, not the first one above the loop) entirely as it is the culprit:\r\n```java\r\nLaptops addLaptop = new Laptops(gpu, cpu, batterylife);\r\n```\r\nYou don&#39;t need to reinitialize it in the loop, simply call addLaptop() (a member of the Laptop class), but passing your 3 parameters, gpu, cpu and batterylife into that function, so when you call that method, it is like:\r\n```java\r\nlaptops.addLaptop(gpu, cpu, batterylife);\r\n```\r\n\r\nWhat&#39;s happening is that your code is continuously overwriting your old laptops with the `new` keyword.\r\n\r\nNoticed also, your (input == 1) case should also remove the `new` laptop, and simply call \r\n```java\r\nlaptops.printAllLaptops();\r\n```\r\nso that it updates the instance of your instance of Laptops, not a new one.","title":"Why isn&#39;t my Array updating outside of the method that it is set in after I assign it a new value?","body":"<p>If you want a single Laptops object to continue updating, then you should initialize it once before your loop (I renamed your instance from &quot;addLaptop&quot; to &quot;laptops&quot; to remove ambiguity with the function with the same name).</p>\n<pre class=\"lang-java prettyprint-override\"><code>Laptops laptops = new Laptops();\nScanner myObj = new Scanner(System.in);\n\nint loop = 0;...\n</code></pre>\n<p>And then you want to remove this line (the one inside your loop, not the first one above the loop) entirely as it is the culprit:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Laptops addLaptop = new Laptops(gpu, cpu, batterylife);\n</code></pre>\n<p>You don't need to reinitialize it in the loop, simply call addLaptop() (a member of the Laptop class), but passing your 3 parameters, gpu, cpu and batterylife into that function, so when you call that method, it is like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>laptops.addLaptop(gpu, cpu, batterylife);\n</code></pre>\n<p>What's happening is that your code is continuously overwriting your old laptops with the <code>new</code> keyword.</p>\n<p>Noticed also, your (input == 1) case should also remove the <code>new</code> laptop, and simply call</p>\n<pre class=\"lang-java prettyprint-override\"><code>laptops.printAllLaptops();\n</code></pre>\n<p>so that it updates the instance of your instance of Laptops, not a new one.</p>\n"}],"owner":{"account_id":20526095,"reputation":238,"user_id":15064501,"display_name":"Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72399506,"answer_count":1,"score":0,"last_activity_date":1673710863,"creation_date":1653612643,"question_id":72399378,"body_markdown":"I have an issue where when I combine two arrays &#39;laptops&#39; and &#39;arr2&#39; in the addLaptop() method and create a third array &#39;newArray&#39; to contain the values of &#39;laptops&#39; and &#39;arr2&#39; then set the &#39;laptops&#39; array equal to the value of &#39;newArray&#39; and print &#39;laptops&#39; within my addLaptop() method the value of &#39;laptops&#39; will be equal &#39;newArray&#39; just like I want. \r\n\r\nHowever, when I try grabbing the data out of the &#39;laptops&#39; from my printAllLaptops() method the values in the &#39;laptops&#39; array are set back to their original values instead of being set to the values of &#39;newArray&#39; like I want them to be.  \r\n\r\nWhat is my problem here I can&#39;t figure out why the values won&#39;t update? I have been stuck on this issue for hours now and have tried moving the &#39;laptops&#39; array around into my different methods and have tried setting laptops = newArray and have also tried returning laptops a few different ways from my addLaptop() method. \r\n\r\n**Code That Calls My Methods: LaptopFinderApp.java**\r\n\r\n    package docComments;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class LaptopFinderApp {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tint loop = 0;\r\n    \t\t\r\n    \t\twhile (loop !=1) {\r\n    \t\t\tString userInput = null;\r\n    \t\t\t\r\n                    // Entering 1 is what calls the method I am having issues with\r\n    \t\t\t\tSystem.out.println(&quot;1. Show all laptops&quot;);\r\n                    // Entering 2 is what calls the method that updates my &#39;laptops Array&#39;\r\n    \t\t\t\tSystem.out.println(&quot;2. Add a laptop&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;3. Find a laptop&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;4. Delete a laptop&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;5. Number of laptops&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;6. Exit&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;Enter your selection:&quot; );\r\n    \t\t\t\tScanner myObj = new Scanner(System.in);\r\n    \t\t\t\tuserInput = myObj.nextLine();  // Read user input\r\n    \t\t\t\tSystem.out.println();\r\n    \t\r\n    \t\t\t\t\r\n    \t\t\t\t// Converts user input from a string to an integer\r\n    \t\t\t\tint convertedInput = Integer.parseInt(userInput);\r\n    \t\t\t\t\r\n    \t\t\t\t// Handels user inputs\r\n    \t\t\t\tif (convertedInput &gt; 6) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Enter a selection 1 - 6&quot;);\r\n    \t\t\t\t} else if (convertedInput == 6) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Goodbye&quot;);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t} else if (convertedInput == 5) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t} else if (convertedInput == 4) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t} else if (convertedInput == 3) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t} else if (convertedInput == 2) {\r\n    \t\t\t\t\tSystem.out.println(&quot;GPU:&quot;);\r\n    \t\t\t\t\tString cpu = myObj.nextLine();\r\n    \t\t\t\t\tSystem.out.println(&quot;CPU:&quot;);\r\n    \t\t\t\t\tString gpu = myObj.nextLine();\r\n    \t\t\t\t\tSystem.out.println(&quot;Battery Life:&quot;);\r\n    \t\t\t\t\tString batterylife = myObj.nextLine();\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tLaptops addLaptop = new Laptops(gpu, cpu, batterylife);\r\n    \t\t\t\t\taddLaptop.addLaptop();\r\n    \t\t\t\t\t\r\n    \t\t\t\t} else if (convertedInput == 1) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tLaptops name = new Laptops(null, null, null);\r\n    \t\t\t\t\tname.printAllLaptops();\r\n    \t\t\t\t\t\r\n    \t\t\t\t} else if (convertedInput &lt; 1) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Enter a selection 1 - 6&quot;);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tSystem.out.println(&quot;Error please try again.&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tSystem.out.println();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**My Code That is The Issue: Laptops.java**\r\n\r\n    package docComments;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    public class Laptops {\r\n    \t/**\r\n    \t * Needs to have GPU, CPU, Battery Life, unique id and static count as attributes.\r\n    \t */\r\n    \tprivate String gpu;\r\n    \tprivate String cpu;\r\n    \tprivate String batterylife;\r\n    \tprivate int id;\r\n    \tprivate int counter;\r\n    \t\r\n    \t\tpublic Laptops(String gpu, String cpu, String batterylife) {\r\n    \t\t\t\tthis.gpu =  gpu;\r\n    \t\t\t\tthis.cpu = cpu;\r\n    \t\t\t\tthis.batterylife = batterylife;\r\n    \t\t\t\tthis.id = 1000003;\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Returns the GPU of the Laptop.\r\n    \t\t * @return the GPU\r\n    \t\t */\r\n    \t\tpublic String getGpu() {\r\n    \t\t\treturn gpu;\r\n    \t\t}\r\n    \r\n    \t\t/**\r\n    \t\t * Returns the CPU of the Laptop.\r\n    \t\t * @return the CPU\r\n    \t\t */\r\n    \t\tpublic String getCpu() {\r\n    \t\t\treturn cpu;\r\n    \t\t}\r\n    \r\n    \t\t/**\r\n    \t\t * Returns the batterylife of the Laptop.\r\n    \t\t * @return the batterylife\r\n    \t\t */\r\n    \t\tpublic String getBatteryLife() {\r\n    \t\t\treturn batterylife;\r\n    \t\t}\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Returns the user inputed id of the Laptop.\r\n    \t\t * @return the user inputed id\r\n    \t\t */\r\n    \t\tpublic int getId() {\r\n    \t\t\treturn id;\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Returns the new id we created.\r\n    \t\t * @return the new id\r\n    \t\t */\r\n    \t\tpublic int creatId() {\r\n    \t\t\tcounter = counter + 1;\r\n    \t\t\tid = id + counter;\r\n    \t\t\treturn id;\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Array of laptops\r\n    \t\t */\r\n        \tString[][] laptops = {\r\n    \t\t\t\t{&quot;1000001&quot;, &quot;RTX 3080&quot;, &quot;Intel i7&quot;, &quot;24h&quot;},\r\n    \t\t\t\t{&quot;1000002&quot;, &quot;RTX 4090&quot;, &quot;Intel i9&quot;, &quot;16h&quot;},\r\n    \t\t\t\t{&quot;1000003&quot;, &quot;GTX 1660&quot;, &quot;Ryzen 5&quot;, &quot;34h&quot;}\r\n    \t\t};\r\n    \t\t\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Prints all of the laptops in our array\r\n    \t\t */\r\n    \t\tpublic void printAllLaptops() {\r\n    \t\t\tSystem.out.println(Arrays.toString(laptops)); // only displays the three original laptops\r\n    \t\t\t for (int i = 0; i &lt; laptops.length; ++i) {\r\n    \t\t\t\t System.out.println(&quot;Laptop &quot; + i +&quot;: &quot; + &quot;ID:&quot; + laptops[i][0] + &quot; &quot; + laptops[i][1] + &quot; &quot; + laptops[i][2] + &quot; &quot; + laptops[i][3]);\r\n    \t\t\t }\r\n    \t\t}\r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Adds user created laptop to laptops array\r\n    \t\t */\r\n    \t    public String[][] addLaptop() {\r\n    \t    \tif (gpu != null) {\r\n    \t    \tString arr2[][] = {{String.valueOf(creatId()), gpu, cpu, batterylife}};\r\n    \t        \r\n    \t        // create new array \r\n    \t        String newArray[][] = new String[laptops.length + arr2.length][];\r\n    \t        \r\n    \t        // Copy laptops array to new array from 0 to laptops.length\r\n    \t        System.arraycopy(laptops, 0, newArray, 0, laptops.length);\r\n    \t        \r\n    \t        // copy second array to new array\r\n    \t        System.arraycopy(arr2, 0, newArray, laptops.length, arr2.length);\r\n    \t        \t        \r\n    \t        // display all arrays\r\n    \t        System.out.println(&quot;Array1 = &quot; + Arrays.toString(laptops[0]));\r\n    \t        System.out.println(&quot;Array2 = &quot; + Arrays.toString(arr2[0]));\r\n    \t        System.out.println(&quot;Merged Array = &quot; + Arrays.toString(newArray[3]));\r\n    \t        \r\n    \t        // set old array equal to new array\r\n    \t        laptops = newArray;\r\n    \t        return newArray;\r\n    \t    \t} else {\r\n    \t    \t\tSystem.out.println(&quot;Error adding laptop to list.&quot;);\r\n    \t    \t\treturn laptops;\r\n    \t    \t}\r\n    \t    \t\r\n    \t    }\r\n    \t    \r\n    \t\t\r\n    \t\t/**\r\n    \t\t * Prints out a string that contains GPU, CPU, battery life and id.\r\n    \t\t */\r\n    \t\t@Override\r\n    \t\tpublic String toString() {\r\n    \t\t\t\r\n    \t\t\treturn &quot;GPU: &quot; + gpu + &quot; CPU: &quot; + cpu + &quot; Battery Life: &quot; + batterylife + &quot; ID: &quot; + creatId();\r\n    \t\t}\r\n    }\r\n\r\n","title":"Why isn&#39;t my Array updating outside of the method that it is set in after I assign it a new value?","body":"<p>I have an issue where when I combine two arrays 'laptops' and 'arr2' in the addLaptop() method and create a third array 'newArray' to contain the values of 'laptops' and 'arr2' then set the 'laptops' array equal to the value of 'newArray' and print 'laptops' within my addLaptop() method the value of 'laptops' will be equal 'newArray' just like I want.</p>\n<p>However, when I try grabbing the data out of the 'laptops' from my printAllLaptops() method the values in the 'laptops' array are set back to their original values instead of being set to the values of 'newArray' like I want them to be.</p>\n<p>What is my problem here I can't figure out why the values won't update? I have been stuck on this issue for hours now and have tried moving the 'laptops' array around into my different methods and have tried setting laptops = newArray and have also tried returning laptops a few different ways from my addLaptop() method.</p>\n<p><strong>Code That Calls My Methods: LaptopFinderApp.java</strong></p>\n<pre><code>package docComments;\n\nimport java.util.Scanner;\n\npublic class LaptopFinderApp {\n    \n    public static void main(String[] args) {\n        \n        int loop = 0;\n        \n        while (loop !=1) {\n            String userInput = null;\n            \n                // Entering 1 is what calls the method I am having issues with\n                System.out.println(&quot;1. Show all laptops&quot;);\n                // Entering 2 is what calls the method that updates my 'laptops Array'\n                System.out.println(&quot;2. Add a laptop&quot;);\n                System.out.println(&quot;3. Find a laptop&quot;);\n                System.out.println(&quot;4. Delete a laptop&quot;);\n                System.out.println(&quot;5. Number of laptops&quot;);\n                System.out.println(&quot;6. Exit&quot;);\n                System.out.println(&quot;Enter your selection:&quot; );\n                Scanner myObj = new Scanner(System.in);\n                userInput = myObj.nextLine();  // Read user input\n                System.out.println();\n    \n                \n                // Converts user input from a string to an integer\n                int convertedInput = Integer.parseInt(userInput);\n                \n                // Handels user inputs\n                if (convertedInput &gt; 6) {\n                    System.out.println(&quot;Enter a selection 1 - 6&quot;);\n                } else if (convertedInput == 6) {\n                    System.out.println(&quot;Goodbye&quot;);\n                    break;\n                } else if (convertedInput == 5) {\n                    \n                } else if (convertedInput == 4) {\n                    \n                } else if (convertedInput == 3) {\n                    \n                } else if (convertedInput == 2) {\n                    System.out.println(&quot;GPU:&quot;);\n                    String cpu = myObj.nextLine();\n                    System.out.println(&quot;CPU:&quot;);\n                    String gpu = myObj.nextLine();\n                    System.out.println(&quot;Battery Life:&quot;);\n                    String batterylife = myObj.nextLine();\n                    \n                    Laptops addLaptop = new Laptops(gpu, cpu, batterylife);\n                    addLaptop.addLaptop();\n                    \n                } else if (convertedInput == 1) {\n                    \n                    Laptops name = new Laptops(null, null, null);\n                    name.printAllLaptops();\n                    \n                } else if (convertedInput &lt; 1) {\n                    System.out.println(&quot;Enter a selection 1 - 6&quot;);\n                } else {\n                    System.out.println(&quot;Error please try again.&quot;);\n                }\n                System.out.println();\n        }\n    }\n}\n</code></pre>\n<p><strong>My Code That is The Issue: Laptops.java</strong></p>\n<pre><code>package docComments;\n\nimport java.util.Arrays;\n\npublic class Laptops {\n    /**\n     * Needs to have GPU, CPU, Battery Life, unique id and static count as attributes.\n     */\n    private String gpu;\n    private String cpu;\n    private String batterylife;\n    private int id;\n    private int counter;\n    \n        public Laptops(String gpu, String cpu, String batterylife) {\n                this.gpu =  gpu;\n                this.cpu = cpu;\n                this.batterylife = batterylife;\n                this.id = 1000003;\n        }\n        \n        \n        /**\n         * Returns the GPU of the Laptop.\n         * @return the GPU\n         */\n        public String getGpu() {\n            return gpu;\n        }\n\n        /**\n         * Returns the CPU of the Laptop.\n         * @return the CPU\n         */\n        public String getCpu() {\n            return cpu;\n        }\n\n        /**\n         * Returns the batterylife of the Laptop.\n         * @return the batterylife\n         */\n        public String getBatteryLife() {\n            return batterylife;\n        }\n        \n        /**\n         * Returns the user inputed id of the Laptop.\n         * @return the user inputed id\n         */\n        public int getId() {\n            return id;\n        }\n        \n        \n        /**\n         * Returns the new id we created.\n         * @return the new id\n         */\n        public int creatId() {\n            counter = counter + 1;\n            id = id + counter;\n            return id;\n        }\n        \n        \n        /**\n         * Array of laptops\n         */\n        String[][] laptops = {\n                {&quot;1000001&quot;, &quot;RTX 3080&quot;, &quot;Intel i7&quot;, &quot;24h&quot;},\n                {&quot;1000002&quot;, &quot;RTX 4090&quot;, &quot;Intel i9&quot;, &quot;16h&quot;},\n                {&quot;1000003&quot;, &quot;GTX 1660&quot;, &quot;Ryzen 5&quot;, &quot;34h&quot;}\n        };\n        \n        \n        /**\n         * Prints all of the laptops in our array\n         */\n        public void printAllLaptops() {\n            System.out.println(Arrays.toString(laptops)); // only displays the three original laptops\n             for (int i = 0; i &lt; laptops.length; ++i) {\n                 System.out.println(&quot;Laptop &quot; + i +&quot;: &quot; + &quot;ID:&quot; + laptops[i][0] + &quot; &quot; + laptops[i][1] + &quot; &quot; + laptops[i][2] + &quot; &quot; + laptops[i][3]);\n             }\n        }\n        \n        /**\n         * Adds user created laptop to laptops array\n         */\n        public String[][] addLaptop() {\n            if (gpu != null) {\n            String arr2[][] = {{String.valueOf(creatId()), gpu, cpu, batterylife}};\n            \n            // create new array \n            String newArray[][] = new String[laptops.length + arr2.length][];\n            \n            // Copy laptops array to new array from 0 to laptops.length\n            System.arraycopy(laptops, 0, newArray, 0, laptops.length);\n            \n            // copy second array to new array\n            System.arraycopy(arr2, 0, newArray, laptops.length, arr2.length);\n                        \n            // display all arrays\n            System.out.println(&quot;Array1 = &quot; + Arrays.toString(laptops[0]));\n            System.out.println(&quot;Array2 = &quot; + Arrays.toString(arr2[0]));\n            System.out.println(&quot;Merged Array = &quot; + Arrays.toString(newArray[3]));\n            \n            // set old array equal to new array\n            laptops = newArray;\n            return newArray;\n            } else {\n                System.out.println(&quot;Error adding laptop to list.&quot;);\n                return laptops;\n            }\n            \n        }\n        \n        \n        /**\n         * Prints out a string that contains GPU, CPU, battery life and id.\n         */\n        @Override\n        public String toString() {\n            \n            return &quot;GPU: &quot; + gpu + &quot; CPU: &quot; + cpu + &quot; Battery Life: &quot; + batterylife + &quot; ID: &quot; + creatId();\n        }\n}\n</code></pre>\n"},{"tags":["java","rounding"],"comments":[{"owner":{"account_id":297962,"reputation":54236,"user_id":603742,"accept_rate":33,"display_name":"stinepike"},"score":2,"creation_date":1393236645,"post_id":21984578,"comment_id":33315545,"body_markdown":"have you tried something?","body":"have you tried something?"},{"owner":{"display_name":"user3344370"},"score":0,"creation_date":1393236765,"post_id":21984578,"comment_id":33315627,"body_markdown":"@StinePike Im new to Java so am unsure on the ways. I looked on the internet but a lot of replies are for decimals or involve rather long ways. I was wondering if there is a simple way to do such a thing?","body":"@StinePike Im new to Java so am unsure on the ways. I looked on the internet but a lot of replies are for decimals or involve rather long ways. I was wondering if there is a simple way to do such a thing?"},{"owner":{"account_id":297962,"reputation":54236,"user_id":603742,"accept_rate":33,"display_name":"stinepike"},"score":1,"creation_date":1393236849,"post_id":21984578,"comment_id":33315696,"body_markdown":"ok .. it is definitely not bad to ask questions .. but here people like to see what you have tried so far.. it is better to correct your mistakes instead of providing the full answer :)","body":"ok .. it is definitely not bad to ask questions .. but here people like to see what you have tried so far.. it is better to correct your mistakes instead of providing the full answer :)"},{"owner":{"display_name":"user3344370"},"score":0,"creation_date":1393237008,"post_id":21984578,"comment_id":33315800,"body_markdown":"@StinePike Thanks for that :) You may be able to tell but I joined this yesterday and am still understanding how it all works. Thanks for your advice","body":"@StinePike Thanks for that :) You may be able to tell but I joined this yesterday and am still understanding how it all works. Thanks for your advice"}],"answers":[{"tags":[],"owner":{"account_id":1417953,"reputation":45793,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1393237016,"creation_date":1393236666,"answer_id":21984611,"question_id":21984578,"body_markdown":"1. Divide by 100\r\n2. Round\r\n3. Multiply by 100\r\n\r\nSmall demo: \r\n\r\n    int[] values = { 497, 98, 1423 };\r\n    for (int value : values) {\r\n        int rounded = (int) Math.round(value / 100.0) * 100;\r\n        System.out.format(&quot;Before: %4d Rounded: %4d%n&quot;, value, rounded);\r\n    }","title":"Rounding to the closest 100","body":"<ol>\n<li>Divide by 100</li>\n<li>Round</li>\n<li>Multiply by 100</li>\n</ol>\n\n<p>Small demo: </p>\n\n<pre><code>int[] values = { 497, 98, 1423 };\nfor (int value : values) {\n    int rounded = (int) Math.round(value / 100.0) * 100;\n    System.out.format(\"Before: %4d Rounded: %4d%n\", value, rounded);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2721223,"reputation":7815,"user_id":2347483,"display_name":"Phylogenesis"},"score":1,"creation_date":1393237012,"post_id":21984628,"comment_id":33315806,"body_markdown":"And to stick to just integer arithmetic: `int rounded = ((initial + 50) / 100) * 100;`","body":"And to stick to just integer arithmetic: <code>int rounded = ((initial + 50) &#47; 100) * 100;</code>"},{"owner":{"display_name":"user3344370"},"score":0,"creation_date":1393237039,"post_id":21984628,"comment_id":33315834,"body_markdown":"@Mureinik Thanks, that seems to have done the trick. Much appreciated :)","body":"@Mureinik Thanks, that seems to have done the trick. Much appreciated :)"},{"owner":{"account_id":3197534,"reputation":4180,"user_id":2700399,"display_name":"Bart van Nierop"},"score":0,"creation_date":1393237746,"post_id":21984628,"comment_id":33316265,"body_markdown":"I haven&#39;t a java compiler close, but in C# this answer doesn&#39;t work. For example, 450 would round to 400.","body":"I haven&#39;t a java compiler close, but in C# this answer doesn&#39;t work. For example, 450 would round to 400."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1393239145,"post_id":21984628,"comment_id":33317142,"body_markdown":"@BartvanNierop In Java, Math.round(x) rounds half up.  What does it do in C# ?","body":"@BartvanNierop In Java, Math.round(x) rounds half up.  What does it do in C# ?"},{"owner":{"account_id":3197534,"reputation":4180,"user_id":2700399,"display_name":"Bart van Nierop"},"score":0,"creation_date":1393239683,"post_id":21984628,"comment_id":33317512,"body_markdown":"@PeterLawrey It does the same. The problem is floating point precision. The example 450 rounds to 400, but 550 correctly rounds to 600.","body":"@PeterLawrey It does the same. The problem is floating point precision. The example 450 rounds to 400, but 550 correctly rounds to 600."},{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1393245070,"post_id":21984628,"comment_id":33321119,"body_markdown":"@BartvanNierop Java isn&#39;t C#. This works as expected in on both JDK 6 &amp; 7 I have installed.","body":"@BartvanNierop Java isn&#39;t C#. This works as expected in on both JDK 6 &amp; 7 I have installed."},{"owner":{"account_id":3197534,"reputation":4180,"user_id":2700399,"display_name":"Bart van Nierop"},"score":0,"creation_date":1393245157,"post_id":21984628,"comment_id":33321174,"body_markdown":"@Mureinik Floating point arithmetic has precision issues in every language.","body":"@Mureinik Floating point arithmetic has precision issues in every language."},{"owner":{"account_id":3197534,"reputation":4180,"user_id":2700399,"display_name":"Bart van Nierop"},"score":1,"creation_date":1393246817,"post_id":21984628,"comment_id":33322310,"body_markdown":"Addendum: Java seems to do fine until ~2^61. But not after.","body":"Addendum: Java seems to do fine until ~2^61. But not after."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1393264081,"post_id":21984628,"comment_id":33334573,"body_markdown":"@BartvanNierop If C# uses the hardware floating point, it should do the same as Java and so 450 would be rounded to 500. See http://ideone.com/EXkbYM","body":"@BartvanNierop If C# uses the hardware floating point, it should do the same as Java and so 450 would be rounded to 500. See <a href=\"http://ideone.com/EXkbYM\" rel=\"nofollow noreferrer\">ideone.com/EXkbYM</a>"},{"owner":{"account_id":3197534,"reputation":4180,"user_id":2700399,"display_name":"Bart van Nierop"},"score":1,"creation_date":1393281767,"post_id":21984628,"comment_id":33345029,"body_markdown":"@PeterLawrey I guess it doesn&#39;t. See http://ideone.com/ITQmUW and http://ideone.com/k0UVRf. Also, see http://ideone.com/09TtII for the solution failing in Java.","body":"@PeterLawrey I guess it doesn&#39;t. See <a href=\"http://ideone.com/ITQmUW\" rel=\"nofollow noreferrer\">ideone.com/ITQmUW</a> and <a href=\"http://ideone.com/k0UVRf\" rel=\"nofollow noreferrer\">ideone.com/k0UVRf</a>. Also, see <a href=\"http://ideone.com/09TtII\" rel=\"nofollow noreferrer\">ideone.com/09TtII</a> for the solution failing in Java."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1393318870,"post_id":21984628,"comment_id":33359362,"body_markdown":"@BartvanNierop +1 for you and +1 for ideone.  double only has 15-17 digits of accuracy, you should be able to find failing values around 2^^60 I would expect.","body":"@BartvanNierop +1 for you and +1 for ideone.  double only has 15-17 digits of accuracy, you should be able to find failing values around 2^^60 I would expect."}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":11,"down_vote_count":2,"up_vote_count":12,"is_accepted":true,"score":10,"last_activity_date":1393245002,"creation_date":1393236702,"answer_id":21984628,"question_id":21984578,"body_markdown":"I&#39;d divide by 100, round, and then multiply again:\r\n\r\n    int initial = ...;\r\n    int rounded = (int) Math.round(initial/100.0) * 100;\r\n\r\nNote to divide by `100.0` and not `100`, so you do the division in floating point arithmetic.","title":"Rounding to the closest 100","body":"<p>I'd divide by 100, round, and then multiply again:</p>\n\n<pre><code>int initial = ...;\nint rounded = (int) Math.round(initial/100.0) * 100;\n</code></pre>\n\n<p>Note to divide by <code>100.0</code> and not <code>100</code>, so you do the division in floating point arithmetic.</p>\n"},{"tags":[],"owner":{"account_id":3197534,"reputation":4180,"user_id":2700399,"display_name":"Bart van Nierop"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393240535,"creation_date":1393237314,"answer_id":21984877,"question_id":21984578,"body_markdown":"Another way, that avoids floating point arithmetic and possible precision errors is something along these lines:\r\n\r\n    int value = 497;\r\n    int rounded = 0;\r\n    int remainder = value % 100;\r\n    if (remainder &gt;= 50) {\r\n      rounded = value - remainder + 100;\r\n    } else {\r\n      rounded = value - remainder;\r\n    }\r\n\r\nor simpler:\r\n\r\n    int rounded = ((value + 50) / 100) * 100;","title":"Rounding to the closest 100","body":"<p>Another way, that avoids floating point arithmetic and possible precision errors is something along these lines:</p>\n\n<pre><code>int value = 497;\nint rounded = 0;\nint remainder = value % 100;\nif (remainder &gt;= 50) {\n  rounded = value - remainder + 100;\n} else {\n  rounded = value - remainder;\n}\n</code></pre>\n\n<p>or simpler:</p>\n\n<pre><code>int rounded = ((value + 50) / 100) * 100;\n</code></pre>\n"}],"owner":{"display_name":"user3344370"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4712,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":21984628,"answer_count":3,"score":3,"last_activity_date":1673710375,"creation_date":1393236611,"question_id":21984578,"body_markdown":"How do you round an integer to the closest 100?\r\nFor example, 497 would round to 500, 98 would round to 100, and 1423 would round to 1400.","title":"Rounding to the closest 100","body":"<p>How do you round an integer to the closest 100?\nFor example, 497 would round to 500, 98 would round to 100, and 1423 would round to 1400.</p>\n"},{"tags":["java","spring","maven","spring-mvc","tomcat"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673705314,"post_id":75118430,"comment_id":132559905,"body_markdown":"Why do you define versions for `spring-aop`, `rest-assured` etc instead of using the one which is provided by the spring boot parent? If you like to use more recent versions use the most recent version of spring boot instead???","body":"Why do you define versions for <code>spring-aop</code>, <code>rest-assured</code> etc instead of using the one which is provided by the spring boot parent? If you like to use more recent versions use the most recent version of spring boot instead???"},{"owner":{"account_id":26939289,"reputation":53,"user_id":20510400,"display_name":"Shadow504"},"score":0,"creation_date":1673705654,"post_id":75118430,"comment_id":132559954,"body_markdown":"@khmarbaise I think it&#39;s just a template in VSCode, I&#39;m not too sure","body":"@khmarbaise I think it&#39;s just a template in VSCode, I&#39;m not too sure"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1673707597,"post_id":75118430,"comment_id":132560322,"body_markdown":"(1) Spring Boot 2.x + Tomcat 9.x (2) Spring Boot 3.x + Tomcat 10.x + JDK 17 ; (3) Please use Tomcat 9.x","body":"(1) Spring Boot 2.x + Tomcat 9.x (2) Spring Boot 3.x + Tomcat 10.x + JDK 17 ; (3) Please use Tomcat 9.x"}],"answers":[{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673707871,"creation_date":1673707871,"answer_id":75118821,"question_id":75118430,"body_markdown":"Spring 2 / Spring 5 will not work on Tomcat 10, because Tomcat 10 is working with jakarta packages that are not present in Spring 2 / Spring 5, they are using javax packages. Either downgrade to Tomcat 9 or upgrade to Spring 3 / Spring 6 if you want to use Tomcat 10.","title":"Simple Spring Web App isn&#39;t working in Tomcat","body":"<p>Spring 2 / Spring 5 will not work on Tomcat 10, because Tomcat 10 is working with jakarta packages that are not present in Spring 2 / Spring 5, they are using javax packages. Either downgrade to Tomcat 9 or upgrade to Spring 3 / Spring 6 if you want to use Tomcat 10.</p>\n"},{"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673710324,"creation_date":1673710324,"answer_id":75119075,"question_id":75118430,"body_markdown":"Using the Spring Boot framework will be written as follows\r\n\r\n# Spring Boot 3 \r\n## Project Structure\r\n\r\n```\r\n pom.xml\r\n src\r\n     main\r\n         java\r\n        &#160;&#160;  com\r\n        &#160;&#160;      example\r\n        &#160;&#160;          springmvctest\r\n        &#160;&#160;              DemoSpringbootJspApplication.java\r\n        &#160;&#160;              TestController.java\r\n         resources\r\n        &#160;&#160;  application.properties\r\n         webapp\r\n             index.jsp\r\n             WEB-INF\r\n                 views\r\n                     welcome.jsp\r\n```\r\n\r\n## pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;!--&lt;version&gt;2.7.6&lt;/version&gt;--&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springmvctest&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t&lt;name&gt;springmvctest&lt;/name&gt;\r\n\t&lt;description&gt;springmvctest&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t        &lt;exclusions&gt;\r\n                          &lt;exclusion&gt;\r\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                          &lt;/exclusion&gt;\t\r\n\t\t        &lt;/exclusions&gt;                          \t\t\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n## DemoSpringbootJspApplication.java\r\n\r\n```\r\npackage com.example.springmvctest;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n\r\n@SpringBootApplication\r\npublic class DemoSpringbootJspApplication extends SpringBootServletInitializer {\r\n\t@Override\r\n\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n\t\treturn application.sources(DemoSpringbootJspApplication.class);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoSpringbootJspApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n## TestController.java\r\n\r\n```\r\npackage com.example.springmvctest;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.servlet.ModelAndView;\r\n\r\nimport java.util.Map;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/&quot;)\r\npublic class TestController {\r\n    \r\n    @RequestMapping(value =  &quot;/test&quot;, method = RequestMethod.GET)\r\n    public String testMethod (Model model) {\r\n        model.addAttribute(&quot;greeting&quot;, &quot;Hello World 2&quot;);\r\n        return &quot;welcome&quot;;\r\n    }\r\n}\r\n```\r\n\r\n## application.properties\r\n\r\n```\r\nspring.mvc.view.prefix=/WEB-INF/views/\r\nspring.mvc.view.suffix=.jsp\r\n```\r\n\r\n## welcome.jsp\r\n\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n    pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n&lt;title&gt;Welcome&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;%\r\n// debug\r\nSystem.out.println(&quot;webapp / WEB-INF / views / welcome.jsp &quot;);\r\n%&gt;\r\n&lt;body&gt;\r\n   &lt;h1 class=&quot;color-red&quot;&gt;Wecome!  ${greeting} &lt;/h1&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n# Package\r\n\r\n```\r\nmvn clean package\r\n```\r\n\r\n# Deploy and start\r\n\r\n- Put traget/springmvctest.war to apache-tomcat-10.1.4/webapps/\r\n\r\n- Startup tomcat \r\n\r\n# Test\r\n\r\n## Run Command\r\n\r\n`curl http://localhost:8080/springmvctest/test`\r\n\r\n\r\n## Result\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n&lt;title&gt;Welcome&lt;/title&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n   &lt;h1 class=&quot;color-red&quot;&gt;Wecome!  Hello World 2 &lt;/h1&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```","title":"Simple Spring Web App isn&#39;t working in Tomcat","body":"<p>Using the Spring Boot framework will be written as follows</p>\n<h1>Spring Boot 3</h1>\n<h2>Project Structure</h2>\n<pre><code> pom.xml\n src\n     main\n         java\n          com\n              example\n                  springmvctest\n                      DemoSpringbootJspApplication.java\n                      TestController.java\n         resources\n          application.properties\n         webapp\n             index.jsp\n             WEB-INF\n                 views\n                     welcome.jsp\n</code></pre>\n<h2>pom.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;!--&lt;version&gt;2.7.6&lt;/version&gt;--&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;springmvctest&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;name&gt;springmvctest&lt;/name&gt;\n    &lt;description&gt;springmvctest&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n                &lt;exclusions&gt;\n                          &lt;exclusion&gt;\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                          &lt;/exclusion&gt;  \n                &lt;/exclusions&gt;                               \n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n            &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<h2>DemoSpringbootJspApplication.java</h2>\n<pre><code>package com.example.springmvctest;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\n@SpringBootApplication\npublic class DemoSpringbootJspApplication extends SpringBootServletInitializer {\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(DemoSpringbootJspApplication.class);\n    }\n    \n    public static void main(String[] args) {\n        SpringApplication.run(DemoSpringbootJspApplication.class, args);\n    }\n\n}\n</code></pre>\n<h2>TestController.java</h2>\n<pre><code>package com.example.springmvctest;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.servlet.ModelAndView;\n\nimport java.util.Map;\n\n@Controller\n@RequestMapping(&quot;/&quot;)\npublic class TestController {\n    \n    @RequestMapping(value =  &quot;/test&quot;, method = RequestMethod.GET)\n    public String testMethod (Model model) {\n        model.addAttribute(&quot;greeting&quot;, &quot;Hello World 2&quot;);\n        return &quot;welcome&quot;;\n    }\n}\n</code></pre>\n<h2>application.properties</h2>\n<pre><code>spring.mvc.view.prefix=/WEB-INF/views/\nspring.mvc.view.suffix=.jsp\n</code></pre>\n<h2>welcome.jsp</h2>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n&lt;title&gt;Welcome&lt;/title&gt;\n&lt;/head&gt;\n&lt;%\n// debug\nSystem.out.println(&quot;webapp / WEB-INF / views / welcome.jsp &quot;);\n%&gt;\n&lt;body&gt;\n   &lt;h1 class=&quot;color-red&quot;&gt;Wecome!  ${greeting} &lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<h1>Package</h1>\n<pre><code>mvn clean package\n</code></pre>\n<h1>Deploy and start</h1>\n<ul>\n<li><p>Put traget/springmvctest.war to apache-tomcat-10.1.4/webapps/</p>\n</li>\n<li><p>Startup tomcat</p>\n</li>\n</ul>\n<h1>Test</h1>\n<h2>Run Command</h2>\n<p><code>curl http://localhost:8080/springmvctest/test</code></p>\n<h2>Result</h2>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n&lt;title&gt;Welcome&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n   &lt;h1 class=&quot;color-red&quot;&gt;Wecome!  Hello World 2 &lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}],"owner":{"account_id":26939289,"reputation":53,"user_id":20510400,"display_name":"Shadow504"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75119075,"answer_count":2,"score":0,"last_activity_date":1673710324,"creation_date":1673704326,"question_id":75118430,"body_markdown":"I&#39;m currently learning Spring MVC and making a simple Hello World web application with it. However, I have no idea why its not working (The WebApplicationInitializer doesn&#39;t get invoked).\r\n\r\nHere&#39;s the pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;springmvctest&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;springmvctest Maven Webapp&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n    &lt;java.version&gt;18&lt;/java.version&gt;\r\n    &lt;lombok.version&gt;1.18.24&lt;/lombok.version&gt;\r\n    &lt;log4jdbc.log4j2.version&gt;1.16&lt;/log4jdbc.log4j2.version&gt;\r\n    &lt;rest.assured.version&gt;2.3.3&lt;/rest.assured.version&gt;\r\n\r\n    &lt;start-class&gt;java.WebInit&lt;/start-class&gt;\r\n\r\n  &lt;/properties&gt;\r\n\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.6.4&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n      &lt;version&gt;5.0.1.RELEASE&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n  &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n        &lt;version&gt;1.8.12&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.bgee.log4jdbc-log4j2&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4jdbc-log4j2-jdbc4.1&lt;/artifactId&gt;\r\n        &lt;version&gt;${log4jdbc.log4j2.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.jayway.restassured&lt;/groupId&gt;\r\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n        &lt;version&gt;${rest.assured.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;springmvctest&lt;/finalName&gt;\r\n\r\n    &lt;sourceDirectory&gt; src/main/ &lt;/sourceDirectory&gt;\r\n\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n\r\n\r\n          &lt;plugin&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n              &lt;dependencies&gt;\r\n                  &lt;dependency&gt;\r\n                      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                      &lt;artifactId&gt;springloaded&lt;/artifactId&gt;\r\n                      &lt;version&gt;${spring-loaded.version}&lt;/version&gt;\r\n                  &lt;/dependency&gt;\r\n              &lt;/dependencies&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;source&gt;18&lt;/source&gt;\r\n            &lt;target&gt;18&lt;/target&gt;\r\n          &lt;/configuration&gt;   \r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.2.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nHere&#39;s the WebApplicationInitializer implementation:\r\n\r\n```\r\n\r\npackage java;\r\n\r\nimport javax.servlet.ServletContext;\r\nimport javax.servlet.ServletRegistration;\r\n\r\nimport org.springframework.web.WebApplicationInitializer;\r\nimport org.springframework.web.context.support.AnnotationConfigWebApplicationContext;\r\nimport org.springframework.web.servlet.DispatcherServlet;\r\n\r\npublic class WebInit implements WebApplicationInitializer {\r\n    \r\n    @Override\r\n    public void onStartup(ServletContext servletContext) {\r\n        AnnotationConfigWebApplicationContext context = new AnnotationConfigWebApplicationContext();\r\n        context.register(WebConfig.class);\r\n        context.setServletContext(servletContext);\r\n\r\n        System.out.println(&quot;hi&quot;);\r\n        // Create and register the DispatcherServlet\r\n        DispatcherServlet servlet = new DispatcherServlet(context);\r\n\r\n        ServletRegistration.Dynamic registration = servletContext.addServlet(&quot;app&quot;, servlet);\r\n        registration.setLoadOnStartup(1);\r\n        registration.addMapping(&quot;/&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere&#39;s the WebConfig:\r\n\r\n```\r\n\r\npackage java;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.ViewResolver;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\r\nimport org.springframework.web.servlet.view.JstlView;\r\n\r\n@Configuration\r\n@EnableWebMvc\r\n@ComponentScan(&quot;java&quot;)\r\npublic class WebConfig {\r\n    \r\n    @Bean\r\n    public ViewResolver viewResolver() {\r\n        InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\r\n        viewResolver.setViewClass(JstlView.class);\r\n        viewResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n        viewResolver.setSuffix(&quot;.jsp&quot;);\r\n \r\n        return viewResolver;\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd finally here&#39;s the Controller implementation:\r\n\r\n```\r\n\r\npackage java;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/&quot;)\r\npublic class TestController {\r\n    \r\n    @RequestMapping(value =  &quot;/test&quot;, method = RequestMethod.GET)\r\n    public String testMethod (Model model) {\r\n        model.addAttribute(&quot;greeting&quot;, &quot;Hello World 2&quot;);\r\n        return &quot;welcome&quot;;\r\n    }\r\n}\r\n\r\n```\r\nI have used clean install and run the .war on the Tomcat server\r\n\r\nI tried entering &#39;http://localhost:8080/springmvctest/test&#39; but it gave me a 404 error on the web, and no error in the output.\r\n\r\nThere are also no mentions of Spring in the output whatsoever, so I assume that Tomcat doesn&#39;t detect Spring ?\r\n\r\nI&#39;m using Tomcat 10.0.27 and VSCode as the text editor.","title":"Simple Spring Web App isn&#39;t working in Tomcat","body":"<p>I'm currently learning Spring MVC and making a simple Hello World web application with it. However, I have no idea why its not working (The WebApplicationInitializer doesn't get invoked).</p>\n<p>Here's the pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;springmvctest&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;name&gt;springmvctest Maven Webapp&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n    &lt;java.version&gt;18&lt;/java.version&gt;\n    &lt;lombok.version&gt;1.18.24&lt;/lombok.version&gt;\n    &lt;log4jdbc.log4j2.version&gt;1.16&lt;/log4jdbc.log4j2.version&gt;\n    &lt;rest.assured.version&gt;2.3.3&lt;/rest.assured.version&gt;\n\n    &lt;start-class&gt;java.WebInit&lt;/start-class&gt;\n\n  &lt;/properties&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.4&lt;/version&gt;\n  &lt;/parent&gt;\n\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n      &lt;version&gt;5.0.1.RELEASE&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n  &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n        &lt;version&gt;1.8.12&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bgee.log4jdbc-log4j2&lt;/groupId&gt;\n        &lt;artifactId&gt;log4jdbc-log4j2-jdbc4.1&lt;/artifactId&gt;\n        &lt;version&gt;${log4jdbc.log4j2.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jayway.restassured&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n        &lt;version&gt;${rest.assured.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;springmvctest&lt;/finalName&gt;\n\n    &lt;sourceDirectory&gt; src/main/ &lt;/sourceDirectory&gt;\n\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n\n\n          &lt;plugin&gt;\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n              &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n              &lt;dependencies&gt;\n                  &lt;dependency&gt;\n                      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                      &lt;artifactId&gt;springloaded&lt;/artifactId&gt;\n                      &lt;version&gt;${spring-loaded.version}&lt;/version&gt;\n                  &lt;/dependency&gt;\n              &lt;/dependencies&gt;\n          &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;source&gt;18&lt;/source&gt;\n            &lt;target&gt;18&lt;/target&gt;\n          &lt;/configuration&gt;   \n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.2.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>Here's the WebApplicationInitializer implementation:</p>\n<pre><code>\npackage java;\n\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletRegistration;\n\nimport org.springframework.web.WebApplicationInitializer;\nimport org.springframework.web.context.support.AnnotationConfigWebApplicationContext;\nimport org.springframework.web.servlet.DispatcherServlet;\n\npublic class WebInit implements WebApplicationInitializer {\n    \n    @Override\n    public void onStartup(ServletContext servletContext) {\n        AnnotationConfigWebApplicationContext context = new AnnotationConfigWebApplicationContext();\n        context.register(WebConfig.class);\n        context.setServletContext(servletContext);\n\n        System.out.println(&quot;hi&quot;);\n        // Create and register the DispatcherServlet\n        DispatcherServlet servlet = new DispatcherServlet(context);\n\n        ServletRegistration.Dynamic registration = servletContext.addServlet(&quot;app&quot;, servlet);\n        registration.setLoadOnStartup(1);\n        registration.addMapping(&quot;/&quot;);\n    }\n\n}\n</code></pre>\n<p>Here's the WebConfig:</p>\n<pre><code>\npackage java;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.ViewResolver;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\nimport org.springframework.web.servlet.view.JstlView;\n\n@Configuration\n@EnableWebMvc\n@ComponentScan(&quot;java&quot;)\npublic class WebConfig {\n    \n    @Bean\n    public ViewResolver viewResolver() {\n        InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\n        viewResolver.setViewClass(JstlView.class);\n        viewResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\n        viewResolver.setSuffix(&quot;.jsp&quot;);\n \n        return viewResolver;\n    }\n}\n\n</code></pre>\n<p>And finally here's the Controller implementation:</p>\n<pre><code>\npackage java;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\n@Controller\n@RequestMapping(&quot;/&quot;)\npublic class TestController {\n    \n    @RequestMapping(value =  &quot;/test&quot;, method = RequestMethod.GET)\n    public String testMethod (Model model) {\n        model.addAttribute(&quot;greeting&quot;, &quot;Hello World 2&quot;);\n        return &quot;welcome&quot;;\n    }\n}\n\n</code></pre>\n<p>I have used clean install and run the .war on the Tomcat server</p>\n<p>I tried entering 'http://localhost:8080/springmvctest/test' but it gave me a 404 error on the web, and no error in the output.</p>\n<p>There are also no mentions of Spring in the output whatsoever, so I assume that Tomcat doesn't detect Spring ?</p>\n<p>I'm using Tomcat 10.0.27 and VSCode as the text editor.</p>\n"},{"tags":["java","arrays","for-loop","card","playing-cards"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":4,"creation_date":1673709980,"post_id":75119028,"comment_id":132560769,"body_markdown":"That&#39;s not too bad. As it happens, you can model playing cards as `enum`s. In fact there is an &#39;official&#39; tutorial showing just that. You could improve it a bit by using more self-documenting names for `getValueN` and `getValueS`- I read them and didn&#39;t know *immediately* what they did.","body":"That&#39;s not too bad. As it happens, you can model playing cards as <code>enum</code>s. In fact there is an &#39;official&#39; tutorial showing just that. You could improve it a bit by using more self-documenting names for <code>getValueN</code> and <code>getValueS</code>- I read them and didn&#39;t know <i>immediately</i> what they did."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1673710354,"post_id":75119028,"comment_id":132560841,"body_markdown":"Your deck lacks one element btw: `[x]` means that it has x elements. It is *indexed* 0 thru x-1. [This](https://docs.oracle.com/javase/tutorial/java/javaOO/examples/Deck3.java) is how easy it is to write a deck class with the cards having `enum`s","body":"Your deck lacks one element btw: <code>[x]</code> means that it has x elements. It is <i>indexed</i> 0 thru x-1. <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/examples/Deck3.java\" rel=\"nofollow noreferrer\">This</a> is how easy it is to write a deck class with the cards having <code>enum</code>s"},{"owner":{"account_id":22924697,"reputation":1,"user_id":17059975,"display_name":"Mitchell Fudge"},"score":0,"creation_date":1673711129,"post_id":75119028,"comment_id":132561000,"body_markdown":"i dont believe i can use an enum here because i am forced to use switch statements @g00se","body":"i dont believe i can use an enum here because i am forced to use switch statements @g00se"},{"owner":{"account_id":22924697,"reputation":1,"user_id":17059975,"display_name":"Mitchell Fudge"},"score":0,"creation_date":1673711985,"post_id":75119028,"comment_id":132561181,"body_markdown":"I added an x variable to store all the new cards and everything works now thank you very very much for the suggestion @g00se","body":"I added an x variable to store all the new cards and everything works now thank you very very much for the suggestion @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673712128,"post_id":75119028,"comment_id":132561212,"body_markdown":"Actually I was just making a general point with the &#39;x&#39; thing. You don&#39;t need a variable. Though you could define and use a constant such as `DEFAULT_DECK_SIZE`","body":"Actually I was just making a general point with the &#39;x&#39; thing. You don&#39;t need a variable. Though you could define and use a constant such as <code>DEFAULT_DECK_SIZE</code>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1673714725,"post_id":75119028,"comment_id":132561761,"body_markdown":"_i dont believe i can use an enum here because i am forced to use switch statements_: did you know that you can use enum constants in a switch statement? See https://stackoverflow.com/questions/6391777/switch-on-enum-in-java - or from the Java Tutorials: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html","body":"<i>i dont believe i can use an enum here because i am forced to use switch statements</i>: did you know that you can use enum constants in a switch statement? See <a href=\"https://stackoverflow.com/questions/6391777/switch-on-enum-in-java\" title=\"switch on enum in java\">stackoverflow.com/questions/6391777/switch-on-enum-in-java</a> - or from the Java Tutorials: <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/enum.html</a>"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":1,"creation_date":1673715806,"post_id":75119028,"comment_id":132562022,"body_markdown":"You have an &quot;off by one&quot; error. Your &quot;value&quot; `switch` goes from 1 to 13, and your &quot;suits&quot; `switch` goes from 1 to 4. In your `Deck` constructor, the outer `for` loop for &quot;values&quot; is correctly going from 1 to 13, but your inner `for` loop that is generating the &quot;suits&quot; is going from 0 to 3. So you need to either change the `switch` or the `for` loop...  =)","body":"You have an &quot;off by one&quot; error. Your &quot;value&quot; <code>switch</code> goes from 1 to 13, and your &quot;suits&quot; <code>switch</code> goes from 1 to 4. In your <code>Deck</code> constructor, the outer <code>for</code> loop for &quot;values&quot; is correctly going from 1 to 13, but your inner <code>for</code> loop that is generating the &quot;suits&quot; is going from 0 to 3. So you need to either change the <code>switch</code> or the <code>for</code> loop...  =)"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1673717405,"post_id":75119028,"comment_id":132562346,"body_markdown":"There are 52 cards in a deck. So this is wrong: `new Card [51];`. And a likely reason for your out of bounds exception. Your code looks fine to me.","body":"There are 52 cards in a deck. So this is wrong: <code>new Card [51];</code>. And a likely reason for your out of bounds exception. Your code looks fine to me."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1673721726,"post_id":75119028,"comment_id":132563257,"body_markdown":"By the way, &quot;Ace&quot; is usually, but not always, the card with the highest value. It would help if the names of your ranks were in value order: &quot;Two&quot;, &quot;Three&quot;, &quot;Four&quot;, ... , &quot;Queen&quot;, &quot;King&quot;, &quot;Ace&quot;.","body":"By the way, &quot;Ace&quot; is usually, but not always, the card with the highest value. It would help if the names of your ranks were in value order: &quot;Two&quot;, &quot;Three&quot;, &quot;Four&quot;, ... , &quot;Queen&quot;, &quot;King&quot;, &quot;Ace&quot;."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1673722053,"post_id":75119028,"comment_id":132563331,"body_markdown":"An alternative to using switch / case in your ~Number methods is to use an array: `public String valueNumber () { final String [] rankName = {&quot;Deuce&quot;, &quot;Three&quot;, &quot;Four&quot;, &quot;Five&quot;, ... , &quot;King&quot;, &quot;Ace&quot;}; return rankName [value];}`","body":"An alternative to using switch / case in your ~Number methods is to use an array: <code>public String valueNumber () { final String [] rankName = {&quot;Deuce&quot;, &quot;Three&quot;, &quot;Four&quot;, &quot;Five&quot;, ... , &quot;King&quot;, &quot;Ace&quot;}; return rankName [value];}</code>"}],"owner":{"account_id":22924697,"reputation":1,"user_id":17059975,"display_name":"Mitchell Fudge"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673709744,"creation_date":1673709744,"question_id":75119028,"body_markdown":"The real problem is trying to create and store the Card objects in my array.\r\nIf i just needed to store strings or doubles for example i would be able to figure it out.\r\nIm pretty new at this and this is my first stack overflow question so bear with me.\r\nIt might be worth noting i will eventually need to randomly generate random ints to pass through my card objects to get random cards.\r\n\r\nThis is my card class,\r\n\r\n```\r\npublic class Card\r\n{   \r\n    private int value;\r\n    private int suit;\r\n    private String valueN;    \r\n    private String valueS;\r\n    Card(int value, int suit)\r\n{\r\n        this.value = value;\r\n        this.suit = suit;\r\n}   \r\n    public String valueNumber()\r\n{    \r\n    switch(value)\r\n{\r\n      case 1:\r\n              valueN = &quot;Ace&quot;;\r\n              break;\r\n      case 2:\r\n              valueN = &quot;Two&quot;;\r\n              break;\r\n      case 3:\r\n              valueN = &quot;Three&quot;;\r\n              break;\r\n      case 4:\r\n              valueN = &quot;Four&quot;;\r\n              break;\r\n      case 5:\r\n              valueN = &quot;Five&quot;;\r\n              break;\r\n      case 6:\r\n              valueN = &quot;Six&quot;;\r\n              break;\r\n      case 7:\r\n              valueN = &quot;Seven&quot;;\r\n              break;\r\n      case 8:\r\n              valueN = &quot;Eight&quot;;\r\n              break;\r\n      case 9: \r\n              valueN = &quot;Nine&quot;;\r\n              break;\r\n      case 10:\r\n              valueN = &quot;Ten&quot;; \r\n              break;\r\n      case 11:\r\n              valueN = &quot;Jack&quot;;\r\n              break;\r\n      case 12:\r\n              valueN = &quot;Queen&quot;;\r\n              break;\r\n      case 13:\r\n              valueN = &quot;King&quot;; \r\n              break;\r\n}      \r\n        return valueN;\r\n    }\r\n    public String suitNumber()\r\n{\r\n    switch(suit)\r\n{    \r\n      case 1: \r\n              valueS = &quot;Hearts&quot;;\r\n              break;\r\n      case 2:\r\n              valueS = &quot;Clubs&quot;;\r\n              break;\r\n      case 3:       \r\n              valueS = &quot;Spades&quot;;\r\n              break;        \r\n      case 4:        \r\n              valueS = &quot;Diamonds&quot;;\r\n}                    \r\n        return valueS;\r\n}  \r\n    public String getValueN() \r\n{\r\n    return this.valueN;\r\n}\r\n   public String getSuitS()\r\n{\r\n    return this.valueS;\r\n}\r\n  public int getValue()\r\n{\r\n    return this.value;\r\n}\r\n  public int getSuit()\r\n{\r\n    return this.suit;\r\n}\r\n   public String toString() \r\n{\r\n        return valueNumber() + &quot; of &quot; + suitNumber();       \r\n}\r\n}\r\n```\r\nDo i need to use those accessor methods?\r\nIve been trying to solve this for an embarrassing amount of time and still dont know if i should use a regular array or a 2d array or something new altogether.\r\n\r\nI should mention this is for a school assignment and i dont know if stack overflow has anything asking questions pertaining to assignments but i assure you this is a very small part of this assignment.\r\n\r\nThis is my deck class and my best attempt at creating the loop and array i need but it gets out of bounds exception error and is probably wrong.\r\n\r\n```\r\npublic class Deck\r\n{\r\n    Deck ()\r\n    {\r\n        int index = 0;\r\n        Card deck [] = new Card [51]; \r\n            \r\n            for (int value = 1; value &lt;= 13; value++)\r\n            {\r\n                for (int suit = 0; suit &lt;= 3; suit++)\r\n                {\r\n                  deck[index] = new Card (value, suit);\r\n                  index++;\r\n                }           \r\n            }\r\n\r\n    \r\n    }   \r\n}   \r\n\r\n```\r\n\r\nI feel as though i need to make use and perhaps modify my accessor methods from my card class in my Deck constructor. ","title":"I need a way to store a deck of cards into an array without hard coding them","body":"<p>The real problem is trying to create and store the Card objects in my array.\nIf i just needed to store strings or doubles for example i would be able to figure it out.\nIm pretty new at this and this is my first stack overflow question so bear with me.\nIt might be worth noting i will eventually need to randomly generate random ints to pass through my card objects to get random cards.</p>\n<p>This is my card class,</p>\n<pre><code>public class Card\n{   \n    private int value;\n    private int suit;\n    private String valueN;    \n    private String valueS;\n    Card(int value, int suit)\n{\n        this.value = value;\n        this.suit = suit;\n}   \n    public String valueNumber()\n{    \n    switch(value)\n{\n      case 1:\n              valueN = &quot;Ace&quot;;\n              break;\n      case 2:\n              valueN = &quot;Two&quot;;\n              break;\n      case 3:\n              valueN = &quot;Three&quot;;\n              break;\n      case 4:\n              valueN = &quot;Four&quot;;\n              break;\n      case 5:\n              valueN = &quot;Five&quot;;\n              break;\n      case 6:\n              valueN = &quot;Six&quot;;\n              break;\n      case 7:\n              valueN = &quot;Seven&quot;;\n              break;\n      case 8:\n              valueN = &quot;Eight&quot;;\n              break;\n      case 9: \n              valueN = &quot;Nine&quot;;\n              break;\n      case 10:\n              valueN = &quot;Ten&quot;; \n              break;\n      case 11:\n              valueN = &quot;Jack&quot;;\n              break;\n      case 12:\n              valueN = &quot;Queen&quot;;\n              break;\n      case 13:\n              valueN = &quot;King&quot;; \n              break;\n}      \n        return valueN;\n    }\n    public String suitNumber()\n{\n    switch(suit)\n{    \n      case 1: \n              valueS = &quot;Hearts&quot;;\n              break;\n      case 2:\n              valueS = &quot;Clubs&quot;;\n              break;\n      case 3:       \n              valueS = &quot;Spades&quot;;\n              break;        \n      case 4:        \n              valueS = &quot;Diamonds&quot;;\n}                    \n        return valueS;\n}  \n    public String getValueN() \n{\n    return this.valueN;\n}\n   public String getSuitS()\n{\n    return this.valueS;\n}\n  public int getValue()\n{\n    return this.value;\n}\n  public int getSuit()\n{\n    return this.suit;\n}\n   public String toString() \n{\n        return valueNumber() + &quot; of &quot; + suitNumber();       \n}\n}\n</code></pre>\n<p>Do i need to use those accessor methods?\nIve been trying to solve this for an embarrassing amount of time and still dont know if i should use a regular array or a 2d array or something new altogether.</p>\n<p>I should mention this is for a school assignment and i dont know if stack overflow has anything asking questions pertaining to assignments but i assure you this is a very small part of this assignment.</p>\n<p>This is my deck class and my best attempt at creating the loop and array i need but it gets out of bounds exception error and is probably wrong.</p>\n<pre><code>public class Deck\n{\n    Deck ()\n    {\n        int index = 0;\n        Card deck [] = new Card [51]; \n            \n            for (int value = 1; value &lt;= 13; value++)\n            {\n                for (int suit = 0; suit &lt;= 3; suit++)\n                {\n                  deck[index] = new Card (value, suit);\n                  index++;\n                }           \n            }\n\n    \n    }   \n}   \n\n</code></pre>\n<p>I feel as though i need to make use and perhaps modify my accessor methods from my card class in my Deck constructor.</p>\n"},{"tags":["java","path","3d","game-development","path-finding"],"comments":[{"owner":{"account_id":44018,"reputation":97210,"user_id":128940,"display_name":"Beta"},"score":0,"creation_date":1674349140,"post_id":75109075,"comment_id":132695933,"body_markdown":"Creating the graph and finding the shortest route through it are two different problems; if you&#39;re asking about the first, don&#39;t post code for the second. Do you want the shortest path between every pair of cities?","body":"Creating the graph and finding the shortest route through it are two different problems; if you&#39;re asking about the first, don&#39;t post code for the second. Do you want the shortest path between every pair of cities?"}],"owner":{"account_id":21020756,"reputation":31,"user_id":15447162,"display_name":"kmaxi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673709509,"creation_date":1673612092,"question_id":75109075,"body_markdown":"I have a bunch of points in a 3d environment that I want to solve the traveling salesman problem with, for that I first need to convert the game world to a graph. \r\n\r\nThe world is around 1km wide, 1.5 km long and 250m high = 375 000 000 possible location. Each location either has an obstacle or is walkable. \r\n\r\nThere are 150 location that I want to connect in this world. What would be the best approach to solve this? \r\n\r\nHere is how the pathfinder looks right now, which is the bidirectional a* that also takes into account telporters \r\n\r\n\r\n    package me.mmaxi.pathfinder;\r\n\r\n    import me.mmaxi.utils.Location;\r\n    import me.mmaxi.utils.TeleportDirection;\r\n\r\n    import java.util.*;\r\n\r\n    public class PathFinder {\r\n    private final Map&lt;Location, Block&gt; blocks = new HashMap&lt;&gt;();\r\n\r\n    public List&lt;Location&gt; getPath(Location start, Location goal, IWalkHandler walkHandler, ITeleportHandler teleportHandler) {\r\n        // initializing start queue\r\n        PriorityQueue&lt;PathFindStep&gt; queueFromStart = new PriorityQueue&lt;&gt;();\r\n        Block startBlock = getBlock(start);\r\n        startBlock.distanceFromStart = 0;\r\n        startBlock.fScore = start.h(goal, teleportHandler, TeleportDirection.FORWARD);\r\n        queueFromStart.add(new PathFindStep(startBlock, startBlock.fScore));\r\n        // initializing goal queue\r\n        PriorityQueue&lt;PathFindStep&gt; queueFromGoal = new PriorityQueue&lt;&gt;();\r\n        Block goalBlock = getBlock(goal);\r\n        goalBlock.distanceFromGoal = 0;\r\n        goalBlock.fScore = goal.h(start, teleportHandler, TeleportDirection.BACKWARD);\r\n        queueFromGoal.add(new PathFindStep(goalBlock, goalBlock.fScore));\r\n        // here we will store the meeting point\r\n        Block meetingPoint = null;\r\n        // for debug purposes\r\n        int furthestAwayFromStartSoFar = 0;\r\n        int furthestAwayFromGoalSoFar = 0;\r\n        // working on the queues\r\n        while (!queueFromStart.isEmpty() || !queueFromGoal.isEmpty()) {\r\n            // coming from start\r\n            PathFindStep currentStepFromStart = queueFromStart.poll();\r\n            if (currentStepFromStart == null) {\r\n                throw new RuntimeException(&quot;We can no longer reach any blocks from the start. Maybe it&#39;s inside a wall?&quot;);\r\n            } else {\r\n                Block current = currentStepFromStart.toVisit;\r\n                if (Double.compare(currentStepFromStart.fScore, current.fScore) != 0) {\r\n                    // we already found a better fScore in the meantime\r\n                    continue;\r\n                }\r\n                if (current.location.equals(goal) || current.lastComingFromGoal != null) {\r\n                    // we found the goal or meeting point\r\n                    System.out.println(&quot;Breaking condition:\\n&quot; +\r\n                            &quot;* current.location.equals(goal):&quot; + current.location.equals(goal) + &quot;\\n&quot; +\r\n                            &quot;* current.lastComingFromGoal != null:&quot; + (current.lastComingFromGoal != null));\r\n                    meetingPoint = current;\r\n                    break;\r\n                }\r\n                Set&lt;Block&gt; neighbours = getNeighbours(current);\r\n                Location teleportTarget = teleportHandler.getDestination(current.location);\r\n                if (teleportTarget != null) {\r\n                    System.out.println(&quot;Found teleport target: &quot; + teleportTarget);\r\n                    neighbours.add(getBlock(teleportTarget));\r\n                }\r\n                for (Block neighbour : neighbours) {\r\n                    if (!walkHandler.canWalk(neighbour.location) &amp;&amp; !neighbour.location.equals(goal)) {\r\n                        // we can&#39;t go there so ignoring this neighbour but only if it&#39;s not the goal\r\n                        continue;\r\n                    }\r\n                    int pendingDistanceFromStart = current.distanceFromStart + 1;\r\n                    if (pendingDistanceFromStart &lt; neighbour.distanceFromStart) {\r\n                        neighbour.lastComingFromStart = current;\r\n                        neighbour.distanceFromStart = pendingDistanceFromStart;\r\n                        neighbour.fScore = neighbour.location.h(goal, teleportHandler, TeleportDirection.FORWARD) + pendingDistanceFromStart;\r\n                        queueFromStart.add(new PathFindStep(neighbour, neighbour.fScore));\r\n                        if (pendingDistanceFromStart &gt; furthestAwayFromStartSoFar) {\r\n                            furthestAwayFromStartSoFar = pendingDistanceFromStart;\r\n                            if (pendingDistanceFromStart % 25 == 0) {\r\n                                System.out.println(&quot;Furthest from start: &quot; + pendingDistanceFromStart);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // coming from goal\r\n            PathFindStep currentStepFromGoal = queueFromGoal.poll();\r\n            if (currentStepFromGoal == null) {\r\n                throw new RuntimeException(&quot;We can no longer reach any blocks from the goal. Maybe it&#39;s inside a wall?&quot;);\r\n            } else {\r\n                Block current = currentStepFromGoal.toVisit;\r\n                if (Double.compare(currentStepFromGoal.fScore, current.fScore) != 0) {\r\n                    // we already found a better fScore in the meantime\r\n                    continue;\r\n                }\r\n                if (current.location.equals(start) || current.lastComingFromStart != null) {\r\n                    // we found the start or meeting point\r\n                    System.out.println(&quot;Breaking condition:\\n&quot; +\r\n                            &quot;* current.location.equals(start):&quot; + current.location.equals(start) + &quot;\\n&quot; +\r\n                            &quot;* current.lastComingFromStart != null:&quot; + (current.lastComingFromStart != null));\r\n                    meetingPoint = current;\r\n                    break;\r\n                }\r\n                Set&lt;Block&gt; neighbours = getNeighbours(current);\r\n                Location teleportStart = teleportHandler.getStart(current.location);\r\n                if (teleportStart != null) {\r\n                    System.out.println(&quot;Found teleport start: &quot; + teleportStart);\r\n                    neighbours.add(getBlock(teleportStart));\r\n                }\r\n                for (Block neighbour : neighbours) {\r\n                    if (!walkHandler.canWalk(neighbour.location) &amp;&amp; !neighbour.location.equals(start)) {\r\n                        // we can&#39;t go there so ignoring this neighbour but only if it&#39;s not the start\r\n                        continue;\r\n                    }\r\n                    int pendingDistanceFromGoal = current.distanceFromGoal + 1;\r\n                    if (pendingDistanceFromGoal &lt; neighbour.distanceFromGoal) {\r\n                        neighbour.lastComingFromGoal = current;\r\n                        neighbour.distanceFromGoal = pendingDistanceFromGoal;\r\n                        neighbour.fScore = neighbour.location.h(start, teleportHandler, TeleportDirection.BACKWARD) + pendingDistanceFromGoal;\r\n                        queueFromGoal.add(new PathFindStep(neighbour, neighbour.fScore));\r\n                        if (pendingDistanceFromGoal &gt; furthestAwayFromGoalSoFar) {\r\n                            furthestAwayFromGoalSoFar = pendingDistanceFromGoal;\r\n                            if (pendingDistanceFromGoal % 25 == 0) {\r\n                                System.out.println(&quot;Furthest from goal: &quot; + pendingDistanceFromGoal);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (meetingPoint == null) {\r\n            throw new RuntimeException(&quot;Could not find a meeting point.&quot;);\r\n        }\r\n        System.out.println(&quot;Found a meeting point! &quot; + meetingPoint.location);\r\n        // reversing the one side coming from the goal, so we can then backtrack\r\n        System.out.println(&quot;Reversing side that started from goal.&quot;);\r\n        while (meetingPoint.lastComingFromGoal != null) {\r\n            meetingPoint.lastComingFromGoal.lastComingFromStart = meetingPoint;\r\n            meetingPoint = meetingPoint.lastComingFromGoal;\r\n        }\r\n        // now we can backtrack\r\n        System.out.println(&quot;Backtracking.&quot;);\r\n        Block tmp = goalBlock;\r\n        if (tmp.lastComingFromStart == null) {\r\n            throw new RuntimeException(&quot;Could not find the target block from that start block.&quot;);\r\n        }\r\n        System.out.println(&quot;Found goal. Starting to backtrack.&quot;);\r\n        List&lt;Location&gt; path = new ArrayList&lt;&gt;();\r\n        while (tmp != null) {\r\n            path.add(tmp.location);\r\n            tmp = tmp.lastComingFromStart;\r\n        }\r\n        Collections.reverse(path);\r\n        return path;\r\n    }\r\n\r\n    private Block getBlock(Location location) {\r\n        return blocks.computeIfAbsent(location, block -&gt; new Block(location));\r\n    }\r\n\r\n    private Set&lt;Block&gt; getNeighbours(Block block) {\r\n        Set&lt;Block&gt; neighbours = new HashSet&lt;&gt;();\r\n        for (BlockFace blockFace : BlockFace.values()) {\r\n            Location targetLocation = block.location.clone().add(blockFace.vector);\r\n            if (targetLocation.getBlockY() &gt; 255 || targetLocation.getBlockY() &lt; 0) {\r\n                continue;\r\n            }\r\n            neighbours.add(getBlock(targetLocation));\r\n        }\r\n        return neighbours;\r\n    }\r\n\r\n    static class PathFindStep implements Comparable&lt;PathFindStep&gt; {\r\n        Block toVisit;\r\n        double fScore;\r\n\r\n        public PathFindStep(Block toVisit, double fScore) {\r\n            this.toVisit = toVisit;\r\n            this.fScore = fScore;\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(PathFindStep o) {\r\n            return Double.compare(fScore, o.fScore);\r\n        }\r\n    }\r\n\r\n    static class Block {\r\n        Location location;\r\n\r\n        Block lastComingFromStart;\r\n        Block lastComingFromGoal;\r\n        double fScore;\r\n        int distanceFromStart = Integer.MAX_VALUE;\r\n        int distanceFromGoal = Integer.MAX_VALUE;\r\n\r\n        public Block(Location location) {\r\n            this.location = location;\r\n        }\r\n    }\r\n\r\n    enum BlockFace {\r\n        POS_Y(new Location(+0, +1, +0)),\r\n        NEG_Y(new Location(+0, -1, +0)),\r\n        POS_X(new Location(+1, +0, +0)),\r\n        NEG_X(new Location(-1, +0, +0)),\r\n        POS_Z(new Location(+0, +0, +1)),\r\n        NEG_Z(new Location(+0, +0, -1));\r\n\r\n        final Location vector;\r\n\r\n        BlockFace(Location vector) {\r\n            this.vector = vector;\r\n        }\r\n    }\r\n}\r\n\r\n    public class Location implements Cloneable {\r\n    private double x, y, z;\r\n\r\n    public Location(double x, double y, double z) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n\r\n    public double getX() {\r\n        return x;\r\n    }\r\n\r\n    public double getY() {\r\n        return y;\r\n    }\r\n\r\n    public double getZ() {\r\n        return z;\r\n    }\r\n\r\n    public int getBlockX() {\r\n        return (int) x;\r\n    }\r\n\r\n    public int getBlockY() {\r\n        return (int) y;\r\n    }\r\n\r\n    public int getBlockZ() {\r\n        return (int) z;\r\n    }\r\n\r\n    public Location add(double x, double y, double z) {\r\n        this.x += x;\r\n        this.y += y;\r\n        this.z += z;\r\n        return this;\r\n    }\r\n\r\n    public Location add(Location other) {\r\n        this.x += other.x;\r\n        this.y += other.y;\r\n        this.z += other.z;\r\n        return this;\r\n    }\r\n\r\n    public double distanceSquared(Location other) {\r\n        double dx = x - other.x;\r\n        double dy = y - other.y;\r\n        double dz = z - other.z;\r\n        return dx * dx + dy * dy + dz * dz;\r\n    }\r\n\r\n    public double mhd(Location other) {\r\n        double dx = Math.abs(x - other.x);\r\n        double dy = Math.abs(y - other.y);\r\n        double dz = Math.abs(z - other.z);\r\n        return Math.max(dx, Math.max(dy, dz));\r\n    }\r\n\r\n    public double h(Location other, ITeleportHandler teleportHandler, TeleportDirection teleportDirection) {\r\n        double h = mhd(other);\r\n        if (teleportHandler != null) {\r\n            Location[] closestTeleport = teleportHandler.getClosestTeleport(this, teleportDirection);\r\n            if (closestTeleport != null) {\r\n                if (teleportDirection == TeleportDirection.FORWARD) {\r\n                    h = Math.min(h, mhd(closestTeleport[0]) + closestTeleport[1].mhd(other));\r\n                } else {\r\n                    h = Math.min(h, mhd(closestTeleport[1]) + closestTeleport[0].mhd(other));\r\n                }\r\n            }\r\n        }\r\n        return h;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        Location location = (Location) o;\r\n        return Double.compare(location.x, x) == 0 &amp;&amp; Double.compare(location.y, y) == 0 &amp;&amp; Double.compare(location.z, z) == 0;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(x, y, z);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        String xString = Double.compare(x, (int) x) == 0 ? Integer.toString((int) x) : Double.toString(x);\r\n        String yString = Double.compare(y, (int) y) == 0 ? Integer.toString((int) y) : Double.toString(y);\r\n        String zString = Double.compare(z, (int) z) == 0 ? Integer.toString((int) z) : Double.toString(z);\r\n        return &quot;[&quot; + xString + &quot; &quot; + yString + &quot; &quot; + zString + &quot;]&quot;;\r\n    }\r\n\r\n    @Override\r\n    public Location clone() {\r\n        try {\r\n            return (Location) super.clone();\r\n        } catch (CloneNotSupportedException e) {\r\n            throw new AssertionError();\r\n        }\r\n    }\r\n}\r\n\r\n","title":"Algorithm to create all edges between a bunch of nodes in a 3d space?","body":"<p>I have a bunch of points in a 3d environment that I want to solve the traveling salesman problem with, for that I first need to convert the game world to a graph.</p>\n<p>The world is around 1km wide, 1.5 km long and 250m high = 375 000 000 possible location. Each location either has an obstacle or is walkable.</p>\n<p>There are 150 location that I want to connect in this world. What would be the best approach to solve this?</p>\n<p>Here is how the pathfinder looks right now, which is the bidirectional a* that also takes into account telporters</p>\n<pre><code>package me.mmaxi.pathfinder;\n\nimport me.mmaxi.utils.Location;\nimport me.mmaxi.utils.TeleportDirection;\n\nimport java.util.*;\n\npublic class PathFinder {\nprivate final Map&lt;Location, Block&gt; blocks = new HashMap&lt;&gt;();\n\npublic List&lt;Location&gt; getPath(Location start, Location goal, IWalkHandler walkHandler, ITeleportHandler teleportHandler) {\n    // initializing start queue\n    PriorityQueue&lt;PathFindStep&gt; queueFromStart = new PriorityQueue&lt;&gt;();\n    Block startBlock = getBlock(start);\n    startBlock.distanceFromStart = 0;\n    startBlock.fScore = start.h(goal, teleportHandler, TeleportDirection.FORWARD);\n    queueFromStart.add(new PathFindStep(startBlock, startBlock.fScore));\n    // initializing goal queue\n    PriorityQueue&lt;PathFindStep&gt; queueFromGoal = new PriorityQueue&lt;&gt;();\n    Block goalBlock = getBlock(goal);\n    goalBlock.distanceFromGoal = 0;\n    goalBlock.fScore = goal.h(start, teleportHandler, TeleportDirection.BACKWARD);\n    queueFromGoal.add(new PathFindStep(goalBlock, goalBlock.fScore));\n    // here we will store the meeting point\n    Block meetingPoint = null;\n    // for debug purposes\n    int furthestAwayFromStartSoFar = 0;\n    int furthestAwayFromGoalSoFar = 0;\n    // working on the queues\n    while (!queueFromStart.isEmpty() || !queueFromGoal.isEmpty()) {\n        // coming from start\n        PathFindStep currentStepFromStart = queueFromStart.poll();\n        if (currentStepFromStart == null) {\n            throw new RuntimeException(&quot;We can no longer reach any blocks from the start. Maybe it's inside a wall?&quot;);\n        } else {\n            Block current = currentStepFromStart.toVisit;\n            if (Double.compare(currentStepFromStart.fScore, current.fScore) != 0) {\n                // we already found a better fScore in the meantime\n                continue;\n            }\n            if (current.location.equals(goal) || current.lastComingFromGoal != null) {\n                // we found the goal or meeting point\n                System.out.println(&quot;Breaking condition:\\n&quot; +\n                        &quot;* current.location.equals(goal):&quot; + current.location.equals(goal) + &quot;\\n&quot; +\n                        &quot;* current.lastComingFromGoal != null:&quot; + (current.lastComingFromGoal != null));\n                meetingPoint = current;\n                break;\n            }\n            Set&lt;Block&gt; neighbours = getNeighbours(current);\n            Location teleportTarget = teleportHandler.getDestination(current.location);\n            if (teleportTarget != null) {\n                System.out.println(&quot;Found teleport target: &quot; + teleportTarget);\n                neighbours.add(getBlock(teleportTarget));\n            }\n            for (Block neighbour : neighbours) {\n                if (!walkHandler.canWalk(neighbour.location) &amp;&amp; !neighbour.location.equals(goal)) {\n                    // we can't go there so ignoring this neighbour but only if it's not the goal\n                    continue;\n                }\n                int pendingDistanceFromStart = current.distanceFromStart + 1;\n                if (pendingDistanceFromStart &lt; neighbour.distanceFromStart) {\n                    neighbour.lastComingFromStart = current;\n                    neighbour.distanceFromStart = pendingDistanceFromStart;\n                    neighbour.fScore = neighbour.location.h(goal, teleportHandler, TeleportDirection.FORWARD) + pendingDistanceFromStart;\n                    queueFromStart.add(new PathFindStep(neighbour, neighbour.fScore));\n                    if (pendingDistanceFromStart &gt; furthestAwayFromStartSoFar) {\n                        furthestAwayFromStartSoFar = pendingDistanceFromStart;\n                        if (pendingDistanceFromStart % 25 == 0) {\n                            System.out.println(&quot;Furthest from start: &quot; + pendingDistanceFromStart);\n                        }\n                    }\n                }\n            }\n        }\n\n        // coming from goal\n        PathFindStep currentStepFromGoal = queueFromGoal.poll();\n        if (currentStepFromGoal == null) {\n            throw new RuntimeException(&quot;We can no longer reach any blocks from the goal. Maybe it's inside a wall?&quot;);\n        } else {\n            Block current = currentStepFromGoal.toVisit;\n            if (Double.compare(currentStepFromGoal.fScore, current.fScore) != 0) {\n                // we already found a better fScore in the meantime\n                continue;\n            }\n            if (current.location.equals(start) || current.lastComingFromStart != null) {\n                // we found the start or meeting point\n                System.out.println(&quot;Breaking condition:\\n&quot; +\n                        &quot;* current.location.equals(start):&quot; + current.location.equals(start) + &quot;\\n&quot; +\n                        &quot;* current.lastComingFromStart != null:&quot; + (current.lastComingFromStart != null));\n                meetingPoint = current;\n                break;\n            }\n            Set&lt;Block&gt; neighbours = getNeighbours(current);\n            Location teleportStart = teleportHandler.getStart(current.location);\n            if (teleportStart != null) {\n                System.out.println(&quot;Found teleport start: &quot; + teleportStart);\n                neighbours.add(getBlock(teleportStart));\n            }\n            for (Block neighbour : neighbours) {\n                if (!walkHandler.canWalk(neighbour.location) &amp;&amp; !neighbour.location.equals(start)) {\n                    // we can't go there so ignoring this neighbour but only if it's not the start\n                    continue;\n                }\n                int pendingDistanceFromGoal = current.distanceFromGoal + 1;\n                if (pendingDistanceFromGoal &lt; neighbour.distanceFromGoal) {\n                    neighbour.lastComingFromGoal = current;\n                    neighbour.distanceFromGoal = pendingDistanceFromGoal;\n                    neighbour.fScore = neighbour.location.h(start, teleportHandler, TeleportDirection.BACKWARD) + pendingDistanceFromGoal;\n                    queueFromGoal.add(new PathFindStep(neighbour, neighbour.fScore));\n                    if (pendingDistanceFromGoal &gt; furthestAwayFromGoalSoFar) {\n                        furthestAwayFromGoalSoFar = pendingDistanceFromGoal;\n                        if (pendingDistanceFromGoal % 25 == 0) {\n                            System.out.println(&quot;Furthest from goal: &quot; + pendingDistanceFromGoal);\n                        }\n                    }\n                }\n            }\n        }\n    }\n    if (meetingPoint == null) {\n        throw new RuntimeException(&quot;Could not find a meeting point.&quot;);\n    }\n    System.out.println(&quot;Found a meeting point! &quot; + meetingPoint.location);\n    // reversing the one side coming from the goal, so we can then backtrack\n    System.out.println(&quot;Reversing side that started from goal.&quot;);\n    while (meetingPoint.lastComingFromGoal != null) {\n        meetingPoint.lastComingFromGoal.lastComingFromStart = meetingPoint;\n        meetingPoint = meetingPoint.lastComingFromGoal;\n    }\n    // now we can backtrack\n    System.out.println(&quot;Backtracking.&quot;);\n    Block tmp = goalBlock;\n    if (tmp.lastComingFromStart == null) {\n        throw new RuntimeException(&quot;Could not find the target block from that start block.&quot;);\n    }\n    System.out.println(&quot;Found goal. Starting to backtrack.&quot;);\n    List&lt;Location&gt; path = new ArrayList&lt;&gt;();\n    while (tmp != null) {\n        path.add(tmp.location);\n        tmp = tmp.lastComingFromStart;\n    }\n    Collections.reverse(path);\n    return path;\n}\n\nprivate Block getBlock(Location location) {\n    return blocks.computeIfAbsent(location, block -&gt; new Block(location));\n}\n\nprivate Set&lt;Block&gt; getNeighbours(Block block) {\n    Set&lt;Block&gt; neighbours = new HashSet&lt;&gt;();\n    for (BlockFace blockFace : BlockFace.values()) {\n        Location targetLocation = block.location.clone().add(blockFace.vector);\n        if (targetLocation.getBlockY() &gt; 255 || targetLocation.getBlockY() &lt; 0) {\n            continue;\n        }\n        neighbours.add(getBlock(targetLocation));\n    }\n    return neighbours;\n}\n\nstatic class PathFindStep implements Comparable&lt;PathFindStep&gt; {\n    Block toVisit;\n    double fScore;\n\n    public PathFindStep(Block toVisit, double fScore) {\n        this.toVisit = toVisit;\n        this.fScore = fScore;\n    }\n\n    @Override\n    public int compareTo(PathFindStep o) {\n        return Double.compare(fScore, o.fScore);\n    }\n}\n\nstatic class Block {\n    Location location;\n\n    Block lastComingFromStart;\n    Block lastComingFromGoal;\n    double fScore;\n    int distanceFromStart = Integer.MAX_VALUE;\n    int distanceFromGoal = Integer.MAX_VALUE;\n\n    public Block(Location location) {\n        this.location = location;\n    }\n}\n\nenum BlockFace {\n    POS_Y(new Location(+0, +1, +0)),\n    NEG_Y(new Location(+0, -1, +0)),\n    POS_X(new Location(+1, +0, +0)),\n    NEG_X(new Location(-1, +0, +0)),\n    POS_Z(new Location(+0, +0, +1)),\n    NEG_Z(new Location(+0, +0, -1));\n\n    final Location vector;\n\n    BlockFace(Location vector) {\n        this.vector = vector;\n    }\n}\n</code></pre>\n<p>}</p>\n<pre><code>public class Location implements Cloneable {\nprivate double x, y, z;\n\npublic Location(double x, double y, double z) {\n    this.x = x;\n    this.y = y;\n    this.z = z;\n}\n\npublic double getX() {\n    return x;\n}\n\npublic double getY() {\n    return y;\n}\n\npublic double getZ() {\n    return z;\n}\n\npublic int getBlockX() {\n    return (int) x;\n}\n\npublic int getBlockY() {\n    return (int) y;\n}\n\npublic int getBlockZ() {\n    return (int) z;\n}\n\npublic Location add(double x, double y, double z) {\n    this.x += x;\n    this.y += y;\n    this.z += z;\n    return this;\n}\n\npublic Location add(Location other) {\n    this.x += other.x;\n    this.y += other.y;\n    this.z += other.z;\n    return this;\n}\n\npublic double distanceSquared(Location other) {\n    double dx = x - other.x;\n    double dy = y - other.y;\n    double dz = z - other.z;\n    return dx * dx + dy * dy + dz * dz;\n}\n\npublic double mhd(Location other) {\n    double dx = Math.abs(x - other.x);\n    double dy = Math.abs(y - other.y);\n    double dz = Math.abs(z - other.z);\n    return Math.max(dx, Math.max(dy, dz));\n}\n\npublic double h(Location other, ITeleportHandler teleportHandler, TeleportDirection teleportDirection) {\n    double h = mhd(other);\n    if (teleportHandler != null) {\n        Location[] closestTeleport = teleportHandler.getClosestTeleport(this, teleportDirection);\n        if (closestTeleport != null) {\n            if (teleportDirection == TeleportDirection.FORWARD) {\n                h = Math.min(h, mhd(closestTeleport[0]) + closestTeleport[1].mhd(other));\n            } else {\n                h = Math.min(h, mhd(closestTeleport[1]) + closestTeleport[0].mhd(other));\n            }\n        }\n    }\n    return h;\n}\n\n@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    Location location = (Location) o;\n    return Double.compare(location.x, x) == 0 &amp;&amp; Double.compare(location.y, y) == 0 &amp;&amp; Double.compare(location.z, z) == 0;\n}\n\n@Override\npublic int hashCode() {\n    return Objects.hash(x, y, z);\n}\n\n@Override\npublic String toString() {\n    String xString = Double.compare(x, (int) x) == 0 ? Integer.toString((int) x) : Double.toString(x);\n    String yString = Double.compare(y, (int) y) == 0 ? Integer.toString((int) y) : Double.toString(y);\n    String zString = Double.compare(z, (int) z) == 0 ? Integer.toString((int) z) : Double.toString(z);\n    return &quot;[&quot; + xString + &quot; &quot; + yString + &quot; &quot; + zString + &quot;]&quot;;\n}\n\n@Override\npublic Location clone() {\n    try {\n        return (Location) super.clone();\n    } catch (CloneNotSupportedException e) {\n        throw new AssertionError();\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","design-patterns","strategy-pattern"],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673708671,"creation_date":1673708671,"answer_id":75118900,"question_id":75118855,"body_markdown":"You can eliminate duplicate code through inheritance, if you can factor the common code out.","title":"How to avoid duplicate code while using Strategy Design Pattern?","body":"<p>You can eliminate duplicate code through inheritance, if you can factor the common code out.</p>\n"},{"comments":[{"owner":{"account_id":18021484,"reputation":109,"user_id":13197379,"display_name":"Sai"},"score":0,"creation_date":1673779784,"post_id":75118986,"comment_id":132570210,"body_markdown":"Thanks for this. This solution helped me reduce duplicate code","body":"Thanks for this. This solution helped me reduce duplicate code"}],"tags":[],"owner":{"account_id":13488477,"reputation":349,"user_id":9731532,"display_name":"Anton Curmanschii"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673709419,"creation_date":1673709419,"answer_id":75118986,"question_id":75118855,"body_markdown":"You can make one general strategy that executes multiple strategies. Like event handling. The idea:\r\n```java\r\ninterface Strategy\r\n{\r\n    Object execute(Object obj);\r\n}\r\nclass MultiStrategy implements Strategy\r\n{\r\n    private Strategy[] strategies;\r\n    public Object execute(Object obj)\r\n    {\r\n        foreach (Strategy s : strategies)\r\n            obj = s.execute(obj);\r\n        return obj;\r\n    }\r\n}\r\nclass Strategy1 implements Strategy\r\n{\r\n    private Helperclass1 helperclass1;\r\n    public Object execute(Object obj)\r\n    {\r\n        return helperclass1.method1(obj);\r\n    }\r\n}\r\nclass Strategy2 implements Strategy\r\n{\r\n    private Helperclass1 helperclass2;\r\n    public Object execute(Object obj)\r\n    {\r\n        return helperclass2.method2(obj);\r\n    }\r\n}\r\n```\r\nAnd the usage would be kinda like:\r\n```java\r\nStrategy s = new MultiStrategy(new Strategy[]\r\n{\r\n    new Strategy1(helper1),\r\n    new Strategy2(helper2),\r\n});\r\n```\r\nIn my example the strategies 1 and 2 and in fact adapters, but that&#39;s also a common use case. The benefit of this is that you can use the same code of `MultiStrategy` for any number of substeps, or even combine multiple multi strategies under the `Strategy` interface to make trees of strategies. Note though, that this `MultiStrategy` is another pattern in and of itself, just using a single-layer strategy is not enough to clean this up in your case. I don&#39;t remember they call it officially, but I guess you can call it event handling.","title":"How to avoid duplicate code while using Strategy Design Pattern?","body":"<p>You can make one general strategy that executes multiple strategies. Like event handling. The idea:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Strategy\n{\n    Object execute(Object obj);\n}\nclass MultiStrategy implements Strategy\n{\n    private Strategy[] strategies;\n    public Object execute(Object obj)\n    {\n        foreach (Strategy s : strategies)\n            obj = s.execute(obj);\n        return obj;\n    }\n}\nclass Strategy1 implements Strategy\n{\n    private Helperclass1 helperclass1;\n    public Object execute(Object obj)\n    {\n        return helperclass1.method1(obj);\n    }\n}\nclass Strategy2 implements Strategy\n{\n    private Helperclass1 helperclass2;\n    public Object execute(Object obj)\n    {\n        return helperclass2.method2(obj);\n    }\n}\n</code></pre>\n<p>And the usage would be kinda like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Strategy s = new MultiStrategy(new Strategy[]\n{\n    new Strategy1(helper1),\n    new Strategy2(helper2),\n});\n</code></pre>\n<p>In my example the strategies 1 and 2 and in fact adapters, but that's also a common use case. The benefit of this is that you can use the same code of <code>MultiStrategy</code> for any number of substeps, or even combine multiple multi strategies under the <code>Strategy</code> interface to make trees of strategies. Note though, that this <code>MultiStrategy</code> is another pattern in and of itself, just using a single-layer strategy is not enough to clean this up in your case. I don't remember they call it officially, but I guess you can call it event handling.</p>\n"}],"owner":{"account_id":18021484,"reputation":109,"user_id":13197379,"display_name":"Sai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75118986,"answer_count":2,"score":-1,"last_activity_date":1673709419,"creation_date":1673708190,"question_id":75118855,"body_markdown":"I am new to design patterns and thinking about using Strategy design pattern for implementing code in my backend service. However, the Strategies are having duplicate code. I have the following classes:-\r\n\r\n\r\n    class StrategyA implements Strategy {\r\n      private Helperclass1 helperclass1;\r\n      private Helperclass2 helperclass2;\r\n      private Daoclass dao;\r\n    \r\n      public void execute(Object obj) {\r\n        updatedObj = helperclass1.method(obj);\r\n        updatedObj = helperclass2.method2(updatedObj);\r\n        updatedObj = updateObj(updatedObj);\r\n        dao.update(updatedObj);\r\n      }\r\n    \r\n      private Object updateObj(Object obj) {\r\n        //update obj &amp; return;\r\n      }\r\n    }\r\n    \r\n    class StrategyB implements Strategy {\r\n      private Helperclass1 helperclass1;\r\n      private Helperclass2 helperclass2;\r\n      private Daoclass dao;\r\n    \r\n      public void execute(Object obj) {\r\n        updatedObj = helperclass1.method(obj);\r\n        updatedObj = helperclass2.method2(updatedObj);\r\n        dao.update(updatedObj);\r\n      }\r\n    }\r\n    \r\n    class StrategyC implements Strategy {\r\n      private Helperclass1 helperclass1;\r\n      private Daoclass dao;\r\n    \r\n      public void execute(Object obj) {\r\n        updatedObj = helperclass1.method(obj);\r\n        dao.update(updatedObj);\r\n      }\r\n    }\r\n\r\n\r\n\r\n\r\nWhat should I do to remove duplicate code from Strategy pattern? I am considering not using the design pattern to avoid code duplication. Can anyone suggest a better design pattern for this usecase?\r\nI read about some similar situations and found that Command or Template patterns may be considered as an alternative (link:https://stackoverflow.com/questions/15371746/what-pattern-to-use-with-a-strategy-pattern-to-avoid-duplicate-code-inside-concr). However I am not sure how I can effectively use these patterns for my use-case.","title":"How to avoid duplicate code while using Strategy Design Pattern?","body":"<p>I am new to design patterns and thinking about using Strategy design pattern for implementing code in my backend service. However, the Strategies are having duplicate code. I have the following classes:-</p>\n<pre><code>class StrategyA implements Strategy {\n  private Helperclass1 helperclass1;\n  private Helperclass2 helperclass2;\n  private Daoclass dao;\n\n  public void execute(Object obj) {\n    updatedObj = helperclass1.method(obj);\n    updatedObj = helperclass2.method2(updatedObj);\n    updatedObj = updateObj(updatedObj);\n    dao.update(updatedObj);\n  }\n\n  private Object updateObj(Object obj) {\n    //update obj &amp; return;\n  }\n}\n\nclass StrategyB implements Strategy {\n  private Helperclass1 helperclass1;\n  private Helperclass2 helperclass2;\n  private Daoclass dao;\n\n  public void execute(Object obj) {\n    updatedObj = helperclass1.method(obj);\n    updatedObj = helperclass2.method2(updatedObj);\n    dao.update(updatedObj);\n  }\n}\n\nclass StrategyC implements Strategy {\n  private Helperclass1 helperclass1;\n  private Daoclass dao;\n\n  public void execute(Object obj) {\n    updatedObj = helperclass1.method(obj);\n    dao.update(updatedObj);\n  }\n}\n</code></pre>\n<p>What should I do to remove duplicate code from Strategy pattern? I am considering not using the design pattern to avoid code duplication. Can anyone suggest a better design pattern for this usecase?\nI read about some similar situations and found that Command or Template patterns may be considered as an alternative (link:<a href=\"https://stackoverflow.com/questions/15371746/what-pattern-to-use-with-a-strategy-pattern-to-avoid-duplicate-code-inside-concr\">What pattern to use with a Strategy Pattern to avoid duplicate code inside Concrete Strategies?</a>). However I am not sure how I can effectively use these patterns for my use-case.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1672694118,"post_id":74981197,"comment_id":132329852,"body_markdown":"Conceptually, a class is an abstraction - barring something like reflection, it is not something that interacts with other things in your program at runtime. Object instances of a class interact with other objects during the lifetime of a program.  I suggest writing some reflection code in Java, and coming back with a more concrete question.","body":"Conceptually, a class is an abstraction - barring something like reflection, it is not something that interacts with other things in your program at runtime. Object instances of a class interact with other objects during the lifetime of a program.  I suggest writing some reflection code in Java, and coming back with a more concrete question."},{"owner":{"account_id":7738,"reputation":143243,"user_id":13508,"accept_rate":86,"display_name":"&#193;lvaro Gonz&#225;lez"},"score":0,"creation_date":1673686302,"post_id":74981197,"comment_id":132557044,"body_markdown":"Everything uses memory, computers don&#39;t do magic. It&#39;d be helpful if you could quote the exact text that made that claim.","body":"Everything uses memory, computers don&#39;t do magic. It&#39;d be helpful if you could quote the exact text that made that claim."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1673716219,"post_id":74981197,"comment_id":132562110,"body_markdown":"`main` is always confusing to new programmers because it is `static`. Things that are `static` &quot;belong to the class&quot;, instead of belonging to a specific instance of the class. This is what makes them &quot;shared&quot; between all instances of the class. `static` things belong to the class, without needing an instance of the class. So, yes, if a class had no static members at all, then it would not take up any memory since you&#39;d have to create an instance of it first before you could use it. `static` members will exist as soon as the program starts, and will take up memory for the lifetime of the app.","body":"<code>main</code> is always confusing to new programmers because it is <code>static</code>. Things that are <code>static</code> &quot;belong to the class&quot;, instead of belonging to a specific instance of the class. This is what makes them &quot;shared&quot; between all instances of the class. <code>static</code> things belong to the class, without needing an instance of the class. So, yes, if a class had no static members at all, then it would not take up any memory since you&#39;d have to create an instance of it first before you could use it. <code>static</code> members will exist as soon as the program starts, and will take up memory for the lifetime of the app."}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673709416,"creation_date":1673688607,"answer_id":75116979,"question_id":74981197,"body_markdown":"There are three concepts to keep separate here: the _class_, the _instance_, and the _stack_.\r\n\r\n```java\r\nclass SomeClass {\r\n  static int staticValue = 0;\r\n\r\n  /* non-static */ int instanceValue = 0;\r\n\r\n  int someMethod() {\r\n    int stackValue = 42;\r\n    SomeClass instance = new SomeClass();\r\n    // ...\r\n  }\r\n}\r\n```\r\n\r\nThe class acts as a template, yes. In some languages other than Java, the class takes up no memory of its own: it merely describes the memory layout of the class&#39;s instances. For a beginner definition of OOP concepts you can think of that as true.\r\n\r\nIn Java this is not _quite_ true for three reasons:\r\n\r\n1. There is an object instance for SomeClass, accessible via `SomeClass.class`, which does take up memory. This instance allows you to look up information about the class itself, which is sometimes called &quot;reflection&quot;.\r\n\r\n2. The static field `staticValue` is shared among all instances of SomeClass, so in a sense the class takes up a small amount of memory to contain this shared value.\r\n\r\n3. SomeClass contains methods like `someMethod`, and that code has to be in memory in order to run. If you&#39;re willing to consider code as requiring memory, and that the code is associated with the class, then the class consumes memory. People talking about OOP concepts aren&#39;t usually talking about the memory consumed by the code itself, though.\r\n\r\nThis can be compared to _instances_ of the class SomeClass, which at a minimum contain a separate value of `instanceValue` for every instance you create. Instances don&#39;t have their own code, and do (in Java) contain a reference to their Class instance accessible via `getClass()`.\r\n\r\nFinally, the method `someMethod` and your `main` example do use references and local variables that consume memory, but in a different place than the instances or classes. This place is called a &quot;stack&quot;, in part because as you call methods and those call further methods, the stack grows like a stack of papers on a desk. This means that there may be many copies of `stackValue` existing at once, one for each time you have called `someMethod` that hasn&#39;t finished yet. Each value of `stackValue` is discarded whenever its corresponding invocation of `someMethod` returns. These aren&#39;t directly tied to classes or instances, other than that they are code that might be considered associated with a class as in #3 above. Disregarding the memory consumed by the compiled code itself, the `instance` does not contribute to SomeClass or its instances consuming any more memory in ways that matter to OOP.\r\n\r\n(Instances created with `new` are not a part of a &quot;stack&quot; but rather are part of the &quot;heap&quot;, at this level of explanation, and that includes the `SomeClass.class` instance and any instances of SomeClass. Some languages require careful management of the heap&#39;s memory, but Java manages it for you through a process called _garbage collection_. Primitives like `stackValue` and the _reference_ named `instance` are kept on the stack, though.)","title":"In oops concept does class occupy memory","body":"<p>There are three concepts to keep separate here: the <em>class</em>, the <em>instance</em>, and the <em>stack</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SomeClass {\n  static int staticValue = 0;\n\n  /* non-static */ int instanceValue = 0;\n\n  int someMethod() {\n    int stackValue = 42;\n    SomeClass instance = new SomeClass();\n    // ...\n  }\n}\n</code></pre>\n<p>The class acts as a template, yes. In some languages other than Java, the class takes up no memory of its own: it merely describes the memory layout of the class's instances. For a beginner definition of OOP concepts you can think of that as true.</p>\n<p>In Java this is not <em>quite</em> true for three reasons:</p>\n<ol>\n<li><p>There is an object instance for SomeClass, accessible via <code>SomeClass.class</code>, which does take up memory. This instance allows you to look up information about the class itself, which is sometimes called &quot;reflection&quot;.</p>\n</li>\n<li><p>The static field <code>staticValue</code> is shared among all instances of SomeClass, so in a sense the class takes up a small amount of memory to contain this shared value.</p>\n</li>\n<li><p>SomeClass contains methods like <code>someMethod</code>, and that code has to be in memory in order to run. If you're willing to consider code as requiring memory, and that the code is associated with the class, then the class consumes memory. People talking about OOP concepts aren't usually talking about the memory consumed by the code itself, though.</p>\n</li>\n</ol>\n<p>This can be compared to <em>instances</em> of the class SomeClass, which at a minimum contain a separate value of <code>instanceValue</code> for every instance you create. Instances don't have their own code, and do (in Java) contain a reference to their Class instance accessible via <code>getClass()</code>.</p>\n<p>Finally, the method <code>someMethod</code> and your <code>main</code> example do use references and local variables that consume memory, but in a different place than the instances or classes. This place is called a &quot;stack&quot;, in part because as you call methods and those call further methods, the stack grows like a stack of papers on a desk. This means that there may be many copies of <code>stackValue</code> existing at once, one for each time you have called <code>someMethod</code> that hasn't finished yet. Each value of <code>stackValue</code> is discarded whenever its corresponding invocation of <code>someMethod</code> returns. These aren't directly tied to classes or instances, other than that they are code that might be considered associated with a class as in #3 above. Disregarding the memory consumed by the compiled code itself, the <code>instance</code> does not contribute to SomeClass or its instances consuming any more memory in ways that matter to OOP.</p>\n<p>(Instances created with <code>new</code> are not a part of a &quot;stack&quot; but rather are part of the &quot;heap&quot;, at this level of explanation, and that includes the <code>SomeClass.class</code> instance and any instances of SomeClass. Some languages require careful management of the heap's memory, but Java manages it for you through a process called <em>garbage collection</em>. Primitives like <code>stackValue</code> and the <em>reference</em> named <code>instance</code> are kept on the stack, though.)</p>\n"}],"owner":{"account_id":27410286,"reputation":1,"user_id":20910309,"display_name":"jagadeesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673709416,"creation_date":1672654826,"question_id":74981197,"body_markdown":"As per the definition in Java. If class doesn&#39;t occupy memory and just acts like a template, then why are we creating objects(main method) inside curly braces of class. Doesn&#39;t that mean now class also occupies memory because of objects present inside of it?\r\n\r\nTrying to understand the definition of a class","title":"In oops concept does class occupy memory","body":"<p>As per the definition in Java. If class doesn't occupy memory and just acts like a template, then why are we creating objects(main method) inside curly braces of class. Doesn't that mean now class also occupies memory because of objects present inside of it?</p>\n<p>Trying to understand the definition of a class</p>\n"},{"tags":["java","android","libgdx","scene2d"],"comments":[{"owner":{"account_id":182090,"reputation":6832,"user_id":416549,"display_name":"nEx.Software"},"score":0,"creation_date":1439817171,"post_id":32051150,"comment_id":52001876,"body_markdown":"Show some code, and the actual stack trace of the crash.","body":"Show some code, and the actual stack trace of the crash."},{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1439818994,"post_id":32051150,"comment_id":52003098,"body_markdown":"Let me guess...you have a static reference to your AssetManager, or a class that references it. This will cause problems in Android, because closing an Activity in Android does not automatically clear your static references.","body":"Let me guess...you have a static reference to your AssetManager, or a class that references it. This will cause problems in Android, because closing an Activity in Android does not automatically clear your static references."},{"owner":{"account_id":2134739,"reputation":85,"user_id":1894808,"accept_rate":100,"display_name":"Aqvin"},"score":0,"creation_date":1439820583,"post_id":32051150,"comment_id":52004175,"body_markdown":"Yes you are right! I have declared assetmanager as static! Let me try making it non static and get back. Thanks","body":"Yes you are right! I have declared assetmanager as static! Let me try making it non static and get back. Thanks"},{"owner":{"account_id":2134739,"reputation":85,"user_id":1894808,"accept_rate":100,"display_name":"Aqvin"},"score":0,"creation_date":1439834492,"post_id":32051150,"comment_id":52012515,"body_markdown":"Tenfour04, You were absolutely right.. Could you please rewrite the comment as the answer so that I can mark it as the answer for the benefit of other people like me.","body":"Tenfour04, You were absolutely right.. Could you please rewrite the comment as the answer so that I can mark it as the answer for the benefit of other people like me."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1439836309,"creation_date":1439836309,"answer_id":32057310,"question_id":32051150,"body_markdown":"Closing an Activity in Android does not automatically clear your static references. Do not hold any static references to any OpenGL-related objects such as AssetManagers, Textures, ShaderPrograms, SpriteBatches, etc., or you risk Android reopening your game without knowing how (or that it needs) to reload them.\r\n\r\nThere might be ways around this by clearing your static references in your Activity&#39;s `onCreate` method, but it&#39;s safer/easier to avoid static references altogether.","title":"Libgdx AssetManager not loading resources on resume","body":"<p>Closing an Activity in Android does not automatically clear your static references. Do not hold any static references to any OpenGL-related objects such as AssetManagers, Textures, ShaderPrograms, SpriteBatches, etc., or you risk Android reopening your game without knowing how (or that it needs) to reload them.</p>\n\n<p>There might be ways around this by clearing your static references in your Activity's <code>onCreate</code> method, but it's safer/easier to avoid static references altogether.</p>\n"}],"owner":{"account_id":2134739,"reputation":85,"user_id":1894808,"accept_rate":100,"display_name":"Aqvin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32057310,"answer_count":1,"score":0,"last_activity_date":1673708624,"creation_date":1439816590,"question_id":32051150,"body_markdown":"I am using Libgdx assetmanager to load UI assets. It works perfectly fine until I restart the application(Android).\r\nHere is what happens:\r\n\r\n 1. I start my game: It runs fine\r\n 2. I close the application using `Gdx.app.exit()` (No errors)\r\n 3. Now when I press on the app icon to open it: crashed!\r\n\r\nError: `com.badlogic.gdx.utils.GdxRuntimeException: Asset not loaded: data/GUI/packed/gui.atlas`\r\n\r\nI tried `finishloading()` No luck!\r\nI tried using `finishloadingasset(&quot;data/GUI/packed/gui.atlas&quot;)` this blocks forever!\r\nAdded `assetmanager.dispose()` also clear before exit. No luck!\r\n\r\nAfter it is crashed, if i try to open it again it works just fine!\r\n\r\nPlease advice!\r\nThanks\r\n","title":"Libgdx AssetManager not loading resources on resume","body":"<p>I am using Libgdx assetmanager to load UI assets. It works perfectly fine until I restart the application(Android).\nHere is what happens:</p>\n\n<ol>\n<li>I start my game: It runs fine</li>\n<li>I close the application using <code>Gdx.app.exit()</code> (No errors)</li>\n<li>Now when I press on the app icon to open it: crashed!</li>\n</ol>\n\n<p>Error: <code>com.badlogic.gdx.utils.GdxRuntimeException: Asset not loaded: data/GUI/packed/gui.atlas</code></p>\n\n<p>I tried <code>finishloading()</code> No luck!\nI tried using <code>finishloadingasset(\"data/GUI/packed/gui.atlas\")</code> this blocks forever!\nAdded <code>assetmanager.dispose()</code> also clear before exit. No luck!</p>\n\n<p>After it is crashed, if i try to open it again it works just fine!</p>\n\n<p>Please advice!\nThanks</p>\n"},{"tags":["java","enums","constructor","singleton"],"comments":[{"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"score":7,"creation_date":1282519996,"post_id":3543903,"comment_id":3711244,"body_markdown":"Why would you want to do that? To me this sounds like an abuse of the enum concept. Enum values are supposed to be constants, whose creation is not dependent on anything. Even if technically you _could_ do that (by throwing an unchecked exception instead of a checked one), I would suggest you revise your design. If you are trying to implement a Singleton via this enum, it is better to implement it by hand as a normal class.","body":"Why would you want to do that? To me this sounds like an abuse of the enum concept. Enum values are supposed to be constants, whose creation is not dependent on anything. Even if technically you <i>could</i> do that (by throwing an unchecked exception instead of a checked one), I would suggest you revise your design. If you are trying to implement a Singleton via this enum, it is better to implement it by hand as a normal class."},{"owner":{"account_id":50132,"reputation":8477,"user_id":149412,"accept_rate":67,"display_name":"tekumara"},"score":2,"creation_date":1282521206,"post_id":3543903,"comment_id":3711332,"body_markdown":"I&#39;m implementing a Singleton, but how would implementing it by hand as a normal class be any better? I would still have to throw an exception from code called by a static initializer.\n\nYou can throw unchecked exceptions from an enum constructor.","body":"I&#39;m implementing a Singleton, but how would implementing it by hand as a normal class be any better? I would still have to throw an exception from code called by a static initializer.  You can throw unchecked exceptions from an enum constructor."},{"owner":{"account_id":64324,"reputation":76490,"user_id":189950,"accept_rate":79,"display_name":"Kirk Woll"},"score":0,"creation_date":1282521330,"post_id":3543903,"comment_id":3711343,"body_markdown":"there&#39;s something *icky* about getting an exception thrown merely by accessing an enum value.  Not so bad when it&#39;s a singleton getInstance() method.","body":"there&#39;s something <i>icky</i> about getting an exception thrown merely by accessing an enum value.  Not so bad when it&#39;s a singleton getInstance() method."},{"owner":{"account_id":5871092,"reputation":756,"user_id":4623411,"accept_rate":43,"display_name":"bylijinnan"},"score":1,"creation_date":1437095304,"post_id":3543903,"comment_id":50899956,"body_markdown":"@P&#233;ter T&#246;r&#246;k how would implementing it by hand as a normal class be any better? I think it&#39;s ok to use enum to implements a singleton, as &lt;Effective Java&gt; said.","body":"@P&#233;ter T&#246;r&#246;k how would implementing it by hand as a normal class be any better? I think it&#39;s ok to use enum to implements a singleton, as &lt;Effective Java&gt; said."},{"owner":{"account_id":4861607,"reputation":2168,"user_id":3921053,"accept_rate":80,"display_name":"Abhishek Garg"},"score":0,"creation_date":1572297739,"post_id":3543903,"comment_id":103509658,"body_markdown":"@P&#233;terT&#246;r&#246;k for my understanding, especially for this case, why do you think &quot;If you are trying to implement a Singleton via this enum, it is better to implement it by hand as a normal class.&quot;?","body":"@P&#233;terT&#246;r&#246;k for my understanding, especially for this case, why do you think &quot;If you are trying to implement a Singleton via this enum, it is better to implement it by hand as a normal class.&quot;?"}],"answers":[{"comments":[{"owner":{"account_id":14234,"reputation":2725,"user_id":29110,"display_name":"Johannes Wachter"},"score":6,"creation_date":1282521224,"post_id":3543906,"comment_id":3711334,"body_markdown":"Although that&#39;s a possible solution I don&#39;t think that it would make sense to solve the problem that way.","body":"Although that&#39;s a possible solution I don&#39;t think that it would make sense to solve the problem that way."}],"tags":[],"owner":{"account_id":50132,"reputation":8477,"user_id":149412,"accept_rate":67,"display_name":"tekumara"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1673707869,"creation_date":1282519818,"answer_id":3543906,"question_id":3543903,"body_markdown":"Because instances are created in a static initializer, throw an `ExceptionInInitializerError` instead.\r\n\r\n```java\r\nthrow new ExceptionInInitializerError();\r\n```","title":"How to throw an exception from an enum constructor?","body":"<p>Because instances are created in a static initializer, throw an <code>ExceptionInInitializerError</code> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>throw new ExceptionInInitializerError();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":64324,"reputation":76490,"user_id":189950,"accept_rate":79,"display_name":"Kirk Woll"},"score":3,"creation_date":1282521463,"post_id":3543973,"comment_id":3711353,"body_markdown":"If it&#39;s bad style to throw Exceptions from a constructor, what do you do when one of the arguments to your constructor is invalid and will prevent your class from functioning?  I prefer to fail fast by throwing an exception so I can get a meaningful stack trace.  That being said, I agree with you that the OP shouldn&#39;t be trying to throw an exception in an **enum&#39;s** constructor.","body":"If it&#39;s bad style to throw Exceptions from a constructor, what do you do when one of the arguments to your constructor is invalid and will prevent your class from functioning?  I prefer to fail fast by throwing an exception so I can get a meaningful stack trace.  That being said, I agree with you that the OP shouldn&#39;t be trying to throw an exception in an <b>enum&#39;s</b> constructor."},{"owner":{"account_id":14234,"reputation":2725,"user_id":29110,"display_name":"Johannes Wachter"},"score":0,"creation_date":1282521650,"post_id":3543973,"comment_id":3711366,"body_markdown":"@Kirk Woll: I prefer using factory methods that ensure the validity of the parameters. Also I was mainly focussing on checked Exceptions, RuntimeException would be a better way to signal a verification error IMO.","body":"@Kirk Woll: I prefer using factory methods that ensure the validity of the parameters. Also I was mainly focussing on checked Exceptions, RuntimeException would be a better way to signal a verification error IMO."},{"owner":{"account_id":64324,"reputation":76490,"user_id":189950,"accept_rate":79,"display_name":"Kirk Woll"},"score":2,"creation_date":1282521945,"post_id":3543973,"comment_id":3711378,"body_markdown":"Exclusive use of factory methods for all object instantiation?  Oh the poor woebegotten **new** operator. :)","body":"Exclusive use of factory methods for all object instantiation?  Oh the poor woebegotten <b>new</b> operator. :)"},{"owner":{"account_id":14234,"reputation":2725,"user_id":29110,"display_name":"Johannes Wachter"},"score":0,"creation_date":1282522437,"post_id":3543973,"comment_id":3711407,"body_markdown":"@Kirk Woll: No not for all instantiations, but for the once where special validation for the constructor parameters is needed. Normally I&#39;m using the principle of not doing work inside constructors besides assignments, so I&#39;m not programming as fail-fast as you :)","body":"@Kirk Woll: No not for all instantiations, but for the once where special validation for the constructor parameters is needed. Normally I&#39;m using the principle of not doing work inside constructors besides assignments, so I&#39;m not programming as fail-fast as you :)"},{"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"score":5,"creation_date":1282526293,"post_id":3543973,"comment_id":3711592,"body_markdown":"Is there really a difference between throwing an exception from a factory method versus a constructor? You say tomato I say tomatoe","body":"Is there really a difference between throwing an exception from a factory method versus a constructor? You say tomato I say tomatoe"},{"owner":{"account_id":9489110,"reputation":2186,"user_id":7054574,"display_name":"Anddo"},"score":0,"creation_date":1588367020,"post_id":3543973,"comment_id":108877621,"body_markdown":"About  factory methods, yes they are preferred by some over constructors. From Effective Java book &quot;Item 1: Consider static factory methods instead of constructors&quot;. Of course not always and not explicitly with exceptions, that is another matter.","body":"About  factory methods, yes they are preferred by some over constructors. From Effective Java book &quot;Item 1: Consider static factory methods instead of constructors&quot;. Of course not always and not explicitly with exceptions, that is another matter."}],"tags":[],"owner":{"account_id":14234,"reputation":2725,"user_id":29110,"display_name":"Johannes Wachter"},"comment_count":6,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1282521133,"creation_date":1282521133,"answer_id":3543973,"question_id":3543903,"body_markdown":"That scenario cannot work.\r\n\r\nYou are trying to throw a checked `Exception` from the constructor.\r\n\r\nThis constructor is called by the `INSTANCE` enum entry declaration, so the checked exception cannot be handled correctly.\r\n\r\nAlso it is in my opinion it&#39;s bad style to throw Exceptions from a constructor, as a constructor normally shouldn&#39;t do any work and especially not create errors.\r\n\r\nAlso if you want to throw an `IOException` I assume that you want to initialize something from a file, so you should perhaps consider this article on [dynamic enums][1].\r\n\r\n\r\n  [1]: http://blog.xebia.com/2009/04/02/dynamic-enums-in-java/","title":"How to throw an exception from an enum constructor?","body":"<p>That scenario cannot work.</p>\n\n<p>You are trying to throw a checked <code>Exception</code> from the constructor.</p>\n\n<p>This constructor is called by the <code>INSTANCE</code> enum entry declaration, so the checked exception cannot be handled correctly.</p>\n\n<p>Also it is in my opinion it's bad style to throw Exceptions from a constructor, as a constructor normally shouldn't do any work and especially not create errors.</p>\n\n<p>Also if you want to throw an <code>IOException</code> I assume that you want to initialize something from a file, so you should perhaps consider this article on <a href=\"http://blog.xebia.com/2009/04/02/dynamic-enums-in-java/\" rel=\"nofollow noreferrer\">dynamic enums</a>.</p>\n"},{"comments":[{"owner":{"account_id":98263,"reputation":7066,"user_id":266103,"accept_rate":87,"display_name":"shrini1000"},"score":3,"creation_date":1334816694,"post_id":7575400,"comment_id":13132409,"body_markdown":"But the original exception is chained with ExceptionInInitializerError, so if you call &#39;getCause()&#39; on it, you will get the original exception.","body":"But the original exception is chained with ExceptionInInitializerError, so if you call &#39;getCause()&#39; on it, you will get the original exception."}],"tags":[],"owner":{"account_id":911907,"reputation":153,"user_id":945552,"display_name":"silent_h"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1317156170,"creation_date":1317156170,"answer_id":7575400,"question_id":3543903,"body_markdown":"I have a case where I want to use enums as keys in some settings classes. The database will store a string value, allowing us to change the enum constants without having to udpate the database (a bit ugly, I know). I wanted to throw a runtime exception in the enum&#39;s constructor as a way to police the length of the string argument to avoid hitting the database and then getting a constraint violation when I could easily detect it myself.\r\n\r\n    public enum GlobalSettingKey {\r\n        EXAMPLE(&quot;example&quot;);\r\n\r\n        private String value;\r\n\r\n        private GlobalSettingKey(String value) {\r\n            if (value.length() &gt; 200) {\r\n                throw new IllegalArgumentException(&quot;you can&#39;t do that&quot;);\r\n            }\r\n            this.value = value;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return value;\r\n        }\r\n    }\r\n\r\nWhen I created a quick test for this, I found that the exception thrown was not mine, but instead was an ExceptionInInitializerError.\r\n\r\nMaybe this is dumb, but I think it&#39;s a fairly valid scenario for wanting to throw an exception in a static initializer.","title":"How to throw an exception from an enum constructor?","body":"<p>I have a case where I want to use enums as keys in some settings classes. The database will store a string value, allowing us to change the enum constants without having to udpate the database (a bit ugly, I know). I wanted to throw a runtime exception in the enum's constructor as a way to police the length of the string argument to avoid hitting the database and then getting a constraint violation when I could easily detect it myself.</p>\n\n<pre><code>public enum GlobalSettingKey {\n    EXAMPLE(\"example\");\n\n    private String value;\n\n    private GlobalSettingKey(String value) {\n        if (value.length() &gt; 200) {\n            throw new IllegalArgumentException(\"you can't do that\");\n        }\n        this.value = value;\n    }\n\n    @Override\n    public String toString() {\n        return value;\n    }\n}\n</code></pre>\n\n<p>When I created a quick test for this, I found that the exception thrown was not mine, but instead was an ExceptionInInitializerError.</p>\n\n<p>Maybe this is dumb, but I think it's a fairly valid scenario for wanting to throw an exception in a static initializer.</p>\n"}],"owner":{"account_id":50132,"reputation":8477,"user_id":149412,"accept_rate":67,"display_name":"tekumara"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17275,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":3543906,"answer_count":3,"score":20,"last_activity_date":1673707869,"creation_date":1282519744,"question_id":3543903,"body_markdown":"How can I throw an exception from an enum constructor? eg:\r\n\r\n    public enum RLoader {\r\n      INSTANCE;\r\n      private RLoader() throws IOException {\r\n       ....\r\n      }\r\n    }\r\n\r\nproduces the error \r\n\r\n&gt; Unhandled exception type IOException","title":"How to throw an exception from an enum constructor?","body":"<p>How can I throw an exception from an enum constructor? eg:</p>\n\n<pre><code>public enum RLoader {\n  INSTANCE;\n  private RLoader() throws IOException {\n   ....\n  }\n}\n</code></pre>\n\n<p>produces the error </p>\n\n<blockquote>\n  <p>Unhandled exception type IOException</p>\n</blockquote>\n"},{"tags":["java","matcher","replaceall"],"answers":[{"comments":[{"owner":{"account_id":11204185,"reputation":25,"user_id":8220301,"display_name":"Jana"},"score":1,"creation_date":1498919289,"post_id":44861420,"comment_id":76703583,"body_markdown":"thank you :) It makes sense and your device with &quot;geb.replaceAll(&quot;[\\\\-\\\\,\\\\.\\\\s]&quot;, &quot;&quot;); &quot; is working and the code looks a lot better now!","body":"thank you :) It makes sense and your device with &quot;geb.replaceAll(&quot;[\\\\-\\\\,\\\\.\\\\s]&quot;, &quot;&quot;); &quot; is working and the code looks a lot better now!"}],"tags":[],"owner":{"account_id":5982243,"reputation":133,"user_id":4700867,"display_name":"Michael Burke"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673707834,"creation_date":1498915311,"answer_id":44861420,"question_id":44859972,"body_markdown":"In the `Matcher` case, you are doing some extra work that is not necessary, but it still effectively does the same thing (but I would assume you pay an efficiency price, though it would be negligible in this case).\r\n\r\nIn the first case, you do `geb.replaceAll(&quot;\\\\.&quot;, &quot;&quot;)`. So you are saying take `geb`, and replace every period with &#39;nothing&#39; essentially.\r\n\r\nIn the second case, you do `geb.replaceAll(&quot;\\\\.&quot;, Matcher.quoteReplacement(sep))`. Now, you are saying, take `geb` and replace every period with the return value of `Matcher.quoteReplacement(&quot;&quot;)`. In this case, `Matcher.quoteReplacement` returns `&quot;&quot;`, exactly what you put into it. So it is essentially an extra/useless call that is not needed. Take a look at the docs for `Matcher.quoteReplacement` [here](\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#quoteReplacement(java.lang.String)).\r\n\r\nAnd for `String.replaceAll` [here](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)).\r\n\r\nThe one thing it does mention here though is to use `quoteReplacement` to suppress the special meaning of control characters like `&quot;\\&quot;` and `&quot;$&quot;`. So you only need to use that if you want the replacement `String` (the second argument to `replaceAll`) to behave as if those are literal characters and not control characters.\r\n\r\nAlso of note, you can do this all in one regex like `geb.replaceAll(&quot;[\\\\-\\\\,\\\\.\\\\s]&quot;, &quot;&quot;);`. I think there are even better ways than that to do it but my regex isn&#39;t great.","title":"replaceAll() vs. replaceAll(..., Matcher.quoteReplacement)","body":"<p>In the <code>Matcher</code> case, you are doing some extra work that is not necessary, but it still effectively does the same thing (but I would assume you pay an efficiency price, though it would be negligible in this case).</p>\n<p>In the first case, you do <code>geb.replaceAll(&quot;\\\\.&quot;, &quot;&quot;)</code>. So you are saying take <code>geb</code>, and replace every period with 'nothing' essentially.</p>\n<p>In the second case, you do <code>geb.replaceAll(&quot;\\\\.&quot;, Matcher.quoteReplacement(sep))</code>. Now, you are saying, take <code>geb</code> and replace every period with the return value of <code>Matcher.quoteReplacement(&quot;&quot;)</code>. In this case, <code>Matcher.quoteReplacement</code> returns <code>&quot;&quot;</code>, exactly what you put into it. So it is essentially an extra/useless call that is not needed. Take a look at the docs for <code>Matcher.quoteReplacement</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html#quoteReplacement(java.lang.String)\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>And for <code>String.replaceAll</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The one thing it does mention here though is to use <code>quoteReplacement</code> to suppress the special meaning of control characters like <code>&quot;\\&quot;</code> and <code>&quot;$&quot;</code>. So you only need to use that if you want the replacement <code>String</code> (the second argument to <code>replaceAll</code>) to behave as if those are literal characters and not control characters.</p>\n<p>Also of note, you can do this all in one regex like <code>geb.replaceAll(&quot;[\\\\-\\\\,\\\\.\\\\s]&quot;, &quot;&quot;);</code>. I think there are even better ways than that to do it but my regex isn't great.</p>\n"}],"owner":{"account_id":11204185,"reputation":25,"user_id":8220301,"display_name":"Jana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3735,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44861420,"answer_count":1,"score":2,"last_activity_date":1673707834,"creation_date":1498905519,"question_id":44859972,"body_markdown":"Hello :D short question: What is the difference between\r\n \r\n\r\n    String geb = tf_datum.getText();\r\n    String sep = &quot;&quot;; //sep is short for seperator\r\n    \r\n    geb = geb.replaceAll(&quot;\\\\.&quot;, sep);\r\n    geb = geb.replaceAll(&quot;\\\\,&quot;, sep); \r\n    geb = geb.replaceAll(&quot;\\\\-&quot;, sep);\r\n    geb = geb.replaceAll(&quot;\\\\ &quot;, sep);`\r\n\r\nand \r\n\r\n    String geb = tf_datum.getText();\r\n     \r\n    String sep = &quot;&quot;;\r\n    geb = geb.replaceAll(&quot;\\\\.&quot;, Matcher.quoteReplacement(sep));\r\n    geb = geb.replaceAll(&quot;\\\\,&quot;, Matcher.quoteReplacement(sep)); \r\n    geb = geb.replaceAll(&quot;\\\\-&quot;, Matcher.quoteReplacement(sep));\r\n    geb = geb.replaceAll(&quot;\\\\ &quot;, Matcher.quoteReplacement(sep)); \r\nBecause both is functionating. I tried to understand each method (in the second one) and to put it together but it makes no sense. \r\nIf somebody can help me, that would be very nice!\r\nThanks. :)  (and I also found the other question  [which seems to be the same][1], but he did not use the Matcher.quote inside of the replaceAll() ... so I was not shure if it is the same)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1466959/string-replaceall-vs-matcher-replaceall-performance-differences","title":"replaceAll() vs. replaceAll(..., Matcher.quoteReplacement)","body":"<p>Hello :D short question: What is the difference between</p>\n\n<pre><code>String geb = tf_datum.getText();\nString sep = \"\"; //sep is short for seperator\n\ngeb = geb.replaceAll(\"\\\\.\", sep);\ngeb = geb.replaceAll(\"\\\\,\", sep); \ngeb = geb.replaceAll(\"\\\\-\", sep);\ngeb = geb.replaceAll(\"\\\\ \", sep);`\n</code></pre>\n\n<p>and </p>\n\n<pre><code>String geb = tf_datum.getText();\n\nString sep = \"\";\ngeb = geb.replaceAll(\"\\\\.\", Matcher.quoteReplacement(sep));\ngeb = geb.replaceAll(\"\\\\,\", Matcher.quoteReplacement(sep)); \ngeb = geb.replaceAll(\"\\\\-\", Matcher.quoteReplacement(sep));\ngeb = geb.replaceAll(\"\\\\ \", Matcher.quoteReplacement(sep)); \n</code></pre>\n\n<p>Because both is functionating. I tried to understand each method (in the second one) and to put it together but it makes no sense. \nIf somebody can help me, that would be very nice!\nThanks. :)  (and I also found the other question  <a href=\"https://stackoverflow.com/questions/1466959/string-replaceall-vs-matcher-replaceall-performance-differences\">which seems to be the same</a>, but he did not use the Matcher.quote inside of the replaceAll() ... so I was not shure if it is the same)</p>\n"},{"tags":["java","android-studio","admob","ads"],"answers":[{"comments":[{"owner":{"account_id":17876408,"reputation":3,"user_id":12986343,"display_name":"Krisix"},"score":0,"creation_date":1597274776,"post_id":63383855,"comment_id":112082776,"body_markdown":"Thank you for the improvements! But what can be the problems with my Admob account ? What were your problems with your account ?","body":"Thank you for the improvements! But what can be the problems with my Admob account ? What were your problems with your account ?"},{"owner":{"account_id":13091928,"reputation":1,"user_id":9459085,"display_name":"Bartek Pilch"},"score":0,"creation_date":1597339280,"post_id":63383855,"comment_id":112107738,"body_markdown":"My account has been duplicated, I used to use AdMob with the same bank account number, which caused a problem with displaying ads.","body":"My account has been duplicated, I used to use AdMob with the same bank account number, which caused a problem with displaying ads."}],"tags":[],"owner":{"account_id":13091928,"reputation":1,"user_id":9459085,"display_name":"Bartek Pilch"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597262083,"creation_date":1597262083,"answer_id":63383855,"question_id":63383277,"body_markdown":"1. Check your Admob account, I had a similar problem but it turned out that there was a problem with my account. (If test ads are showing, it&#39;s probably not a code problem.)\r\n\r\n2. Try to add this code:\r\n\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view =inflater.inflate(R.layout.fragment_home, container, false);\r\n\r\n       MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n        @Override\r\n        public void onInitializationComplete(InitializationStatus initializationStatus) {}\r\n       });\r\n\r\n       // Use an activity context to get the rewarded video instance\r\n        mAd = MobileAds.getRewardedVideoAdInstance(getActivity());\r\n        mAd.setRewardedVideoAdListener(this);\r\n        loadRewardedVideoAd();\r\n\r\n       // Your code\r\n        ...","title":"Rewarded Test Ads shows but not the real one","body":"<ol>\n<li><p>Check your Admob account, I had a similar problem but it turned out that there was a problem with my account. (If test ads are showing, it's probably not a code problem.)</p>\n</li>\n<li><p>Try to add this code:</p>\n<pre><code> @Override\n public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                      Bundle savedInstanceState) {\n // Inflate the layout for this fragment\n View view =inflater.inflate(R.layout.fragment_home, container, false);\n\nMobileAds.initialize(this, new OnInitializationCompleteListener() {\n @Override\n public void onInitializationComplete(InitializationStatus initializationStatus) {}\n});\n\n// Use an activity context to get the rewarded video instance\n mAd = MobileAds.getRewardedVideoAdInstance(getActivity());\n mAd.setRewardedVideoAdListener(this);\n loadRewardedVideoAd();\n\n// Your code\n ...\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16653083,"reputation":51,"user_id":12035349,"display_name":"Chandana Gihan Perera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673707746,"creation_date":1673707746,"answer_id":75118804,"question_id":63383277,"body_markdown":"There are two types of ads called Rewarded ads and Rewarded interstitials. Try generating another ad unit and adding the relevant ad unit credentials.","title":"Rewarded Test Ads shows but not the real one","body":"<p>There are two types of ads called Rewarded ads and Rewarded interstitials. Try generating another ad unit and adding the relevant ad unit credentials.</p>\n"}],"owner":{"account_id":17876408,"reputation":3,"user_id":12986343,"display_name":"Krisix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673707746,"creation_date":1597259335,"question_id":63383277,"body_markdown":"I have some troubles with implementing rewarded ads (using AdMob) in my application made on Android Studio. \r\nWhen i put the test App ID and test Ads UNIT it works perfectly and the test ads appear but when i try to put my own App ID and my own Ads UNIT the ads don&#39;t load anymore.\r\n\r\nI waited more than a week after creating my admob account so for me the problem is not related with it.\r\n\r\nI was wondering if you could help me.\r\n\r\nAndroidManifest.xml :\r\n```\r\n &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;(hide)&quot;&gt;\r\n    &lt;!-- Internet Permission --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@drawable/logo&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\n        &lt;!-- Sample AdMob App ID: ca-app-pub-3940256099942544~3347511713 --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n            android:value=&quot;ca-app-pub-1726769558644129~3661017334&quot; /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.SpashScreenActivity&quot;\r\n            android:theme=&quot;@style/SplashScreenTheme&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.LoginActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;.DashboardActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.RegisterActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;.Main&quot; /&gt;\r\n        \r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nHomeFragment.java :\r\n```\r\n\r\n\r\n/**\r\n * A simple {@link Fragment} subclass.\r\n */\r\npublic class HomeFragment extends Fragment implements RewardedVideoAdListener{\r\n\r\n    public HomeFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n  \r\n\r\n    //init view\r\n    ImageButton addCoinsBtn;\r\n    \r\n    \r\n    //AdRewarded\r\n    private RewardedVideoAd mAd;\r\n\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view =inflater.inflate(R.layout.fragment_home, container, false);\r\n\r\n        MobileAds.initialize(getActivity(), &quot;ca-app-pub-1726769558644129~3661017334&quot;);\r\n\r\n              \r\n        // Use an activity context to get the rewarded video instance\r\n        mAd = MobileAds.getRewardedVideoAdInstance(getActivity());\r\n        mAd.setRewardedVideoAdListener(this);\r\n        loadRewardedVideoAd();\r\n\r\n\r\n\r\n        addCoinsBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                if(mAd.isLoaded())\r\n                {\r\n                    mAd.show();\r\n                    addCoinsBtn.setVisibility(View.INVISIBLE);\r\n                    waitAdLL.setVisibility(View.VISIBLE);\r\n                }\r\n\r\n            }\r\n\r\n\r\n        });\r\n\r\n        \r\n\r\n\r\n        return view;\r\n\r\n    }\r\n\r\n    private void loadRewardedVideoAd() {\r\n        mAd.loadAd(&quot;ca-app-pub-1726769558644129/3118091850&quot;, new AdRequest.Builder().build());\r\n    }\r\n\r\n\r\n    // Required to reward the user.\r\n    @Override\r\n    public void onRewarded(RewardItem reward) {\r\n\r\n        // Reward the user.\r\n\r\n       \r\n    }\r\n\r\n    // The following listener methods are optional.\r\n    @Override\r\n    public void onRewardedVideoAdLeftApplication() {\r\n        Toast.makeText(getActivity(), &quot;onRewardedVideoAdLeftApplication&quot;,Toast.LENGTH_SHORT).show();\r\n\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onRewardedVideoAdClosed() {\r\n        //Toast.makeText(getActivity(), &quot;onRewardedVideoAdClosed&quot;, Toast.LENGTH_SHORT).show();\r\n        loadRewardedVideoAd();\r\n    }\r\n\r\n    @Override\r\n    public void onRewardedVideoAdOpened() {\r\n        //Toast.makeText(getActivity(), &quot;onRewardedVideoAdOpened&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    @Override\r\n    public void onRewardedVideoStarted() {\r\n        //Toast.makeText(getActivity(), &quot;onRewardedVideoStarted&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    @Override\r\n    public void onRewardedVideoAdFailedToLoad(int errorCode) {\r\n        Toast.makeText(getActivity(), &quot;onRewardedVideoAdFailedToLoad&quot;, Toast.LENGTH_SHORT).show();\r\n        loadRewardedVideoAd();\r\n    }\r\n\r\n    @Override\r\n    public void onRewardedVideoCompleted() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        mAd.resume(getActivity());\r\n        super.onResume();\r\n    }\r\n    @Override\r\n    public void onPause() {\r\n        mAd.pause(getActivity());\r\n        super.onPause();\r\n    }\r\n    @Override\r\n    public void onDestroy() {\r\n        mAd.destroy(getActivity());\r\n        super.onDestroy();\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onRewardedVideoAdLoaded() {       \r\n        //Toast.makeText(getActivity(), &quot;onRewardedVideoAdLoaded&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n[My Admob information][1]\r\n\r\nThank you for your help.\r\n\r\nKrisix\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ADBjk.png","title":"Rewarded Test Ads shows but not the real one","body":"<p>I have some troubles with implementing rewarded ads (using AdMob) in my application made on Android Studio.\nWhen i put the test App ID and test Ads UNIT it works perfectly and the test ads appear but when i try to put my own App ID and my own Ads UNIT the ads don't load anymore.</p>\n<p>I waited more than a week after creating my admob account so for me the problem is not related with it.</p>\n<p>I was wondering if you could help me.</p>\n<p>AndroidManifest.xml :</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;(hide)&quot;&gt;\n    &lt;!-- Internet Permission --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@drawable/logo&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n\n        &lt;!-- Sample AdMob App ID: ca-app-pub-3940256099942544~3347511713 --&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\n            android:value=&quot;ca-app-pub-1726769558644129~3661017334&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.SpashScreenActivity&quot;\n            android:theme=&quot;@style/SplashScreenTheme&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=&quot;.LoginActivity&quot; /&gt;\n        &lt;activity android:name=&quot;.DashboardActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=&quot;.RegisterActivity&quot; /&gt;\n        &lt;activity android:name=&quot;.Main&quot; /&gt;\n        \n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>HomeFragment.java :</p>\n<pre><code>\n\n/**\n * A simple {@link Fragment} subclass.\n */\npublic class HomeFragment extends Fragment implements RewardedVideoAdListener{\n\n    public HomeFragment() {\n        // Required empty public constructor\n    }\n\n  \n\n    //init view\n    ImageButton addCoinsBtn;\n    \n    \n    //AdRewarded\n    private RewardedVideoAd mAd;\n\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view =inflater.inflate(R.layout.fragment_home, container, false);\n\n        MobileAds.initialize(getActivity(), &quot;ca-app-pub-1726769558644129~3661017334&quot;);\n\n              \n        // Use an activity context to get the rewarded video instance\n        mAd = MobileAds.getRewardedVideoAdInstance(getActivity());\n        mAd.setRewardedVideoAdListener(this);\n        loadRewardedVideoAd();\n\n\n\n        addCoinsBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                if(mAd.isLoaded())\n                {\n                    mAd.show();\n                    addCoinsBtn.setVisibility(View.INVISIBLE);\n                    waitAdLL.setVisibility(View.VISIBLE);\n                }\n\n            }\n\n\n        });\n\n        \n\n\n        return view;\n\n    }\n\n    private void loadRewardedVideoAd() {\n        mAd.loadAd(&quot;ca-app-pub-1726769558644129/3118091850&quot;, new AdRequest.Builder().build());\n    }\n\n\n    // Required to reward the user.\n    @Override\n    public void onRewarded(RewardItem reward) {\n\n        // Reward the user.\n\n       \n    }\n\n    // The following listener methods are optional.\n    @Override\n    public void onRewardedVideoAdLeftApplication() {\n        Toast.makeText(getActivity(), &quot;onRewardedVideoAdLeftApplication&quot;,Toast.LENGTH_SHORT).show();\n\n    }\n\n\n\n    @Override\n    public void onRewardedVideoAdClosed() {\n        //Toast.makeText(getActivity(), &quot;onRewardedVideoAdClosed&quot;, Toast.LENGTH_SHORT).show();\n        loadRewardedVideoAd();\n    }\n\n    @Override\n    public void onRewardedVideoAdOpened() {\n        //Toast.makeText(getActivity(), &quot;onRewardedVideoAdOpened&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void onRewardedVideoStarted() {\n        //Toast.makeText(getActivity(), &quot;onRewardedVideoStarted&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void onRewardedVideoAdFailedToLoad(int errorCode) {\n        Toast.makeText(getActivity(), &quot;onRewardedVideoAdFailedToLoad&quot;, Toast.LENGTH_SHORT).show();\n        loadRewardedVideoAd();\n    }\n\n    @Override\n    public void onRewardedVideoCompleted() {\n\n    }\n\n    @Override\n    public void onResume() {\n        mAd.resume(getActivity());\n        super.onResume();\n    }\n    @Override\n    public void onPause() {\n        mAd.pause(getActivity());\n        super.onPause();\n    }\n    @Override\n    public void onDestroy() {\n        mAd.destroy(getActivity());\n        super.onDestroy();\n    }\n\n\n\n    @Override\n    public void onRewardedVideoAdLoaded() {       \n        //Toast.makeText(getActivity(), &quot;onRewardedVideoAdLoaded&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n\n\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ADBjk.png\" rel=\"nofollow noreferrer\">My Admob information</a></p>\n<p>Thank you for your help.</p>\n<p>Krisix</p>\n"},{"tags":["java","spring","unit-testing","mockito"],"comments":[{"owner":{"account_id":18002520,"reputation":324,"user_id":13084140,"display_name":"Ryednap"},"score":0,"creation_date":1673695332,"post_id":75117484,"comment_id":132558342,"body_markdown":"is your test class marked `@SpringBootTest`? Can you show the class-level code?","body":"is your test class marked <code>@SpringBootTest</code>? Can you show the class-level code?"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":2,"creation_date":1673695658,"post_id":75117484,"comment_id":132558382,"body_markdown":"since `userService` calls two `userRepository` methods: `save` and `findById`, you need to mock both of them.","body":"since <code>userService</code> calls two <code>userRepository</code> methods: <code>save</code> and <code>findById</code>, you need to mock both of them."},{"owner":{"account_id":21354950,"reputation":383,"user_id":15724030,"display_name":"m3k_1"},"score":0,"creation_date":1673695956,"post_id":75117484,"comment_id":132558425,"body_markdown":"@Ryednap it&#39;s only marked with ```@Slf4j``` and ```@ExtendWith(MockitoExtension.class)```","body":"@Ryednap it&#39;s only marked with <code>@Slf4j</code> and <code>@ExtendWith(MockitoExtension.class)</code>"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1673699196,"post_id":75117484,"comment_id":132558865,"body_markdown":"Where do you create your mock and how do you inject it into your service? Can you sholl the full test class? (including annotations, fields, setup code). The single test method is enough, the others can be removed for the question","body":"Where do you create your mock and how do you inject it into your service? Can you sholl the full test class? (including annotations, fields, setup code). The single test method is enough, the others can be removed for the question"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1673743276,"post_id":75117484,"comment_id":132566580,"body_markdown":"You don&#39;t need to use `@SpringBootTest` for this -- just using `MockitoExtension` is sufficient and better.","body":"You don&#39;t need to use <code>@SpringBootTest</code> for this -- just using <code>MockitoExtension</code> is sufficient and better."}],"answers":[{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1673743208,"post_id":75118578,"comment_id":132566572,"body_markdown":"`editUser` expects that the user always exists.","body":"<code>editUser</code> expects that the user always exists."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1673806089,"post_id":75118578,"comment_id":132574820,"body_markdown":"Then return Optional.of(testUser) and create testUser upfront.","body":"Then return Optional.of(testUser) and create testUser upfront."}],"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673705765,"creation_date":1673705765,"answer_id":75118578,"question_id":75117484,"body_markdown":"You need to declare that behaviour to the mock, before using it:\r\n\r\n```java\r\nwhen(userRepository.findById(any()))\r\n   .thenReturn(Optional.empty());\r\n```","title":"JPA Repository method inside of mocked Service Class returns null","body":"<p>You need to declare that behaviour to the mock, before using it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(userRepository.findById(any()))\n   .thenReturn(Optional.empty());\n</code></pre>\n"}],"owner":{"account_id":21354950,"reputation":383,"user_id":15724030,"display_name":"m3k_1"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673705765,"creation_date":1673694456,"question_id":75117484,"body_markdown":"I have a service method that looks like this \r\n\r\n    @Override\r\n    public User editUser(User user) {\r\n\r\n        User savedUser = userRepository.findById(user.getUser_id()).get();\r\n        User userToEdit = new User();\r\n\r\n        userToEdit.setUser_id(user.getUser_id());\r\n        userToEdit.setRole(user.getRole().isEmpty() ? savedUser.getRole() : user.getRole());\r\n        userToEdit.setUsername(user.getUsername().isEmpty() ? savedUser.getUsername() : user.getUsername());\r\n        userToEdit.setPassword(user.getPassword().isEmpty() ? savedUser.getPassword() : passwordEncoder.encode(user.getPassword()));\r\n        userToEdit.setEmail(user.getEmail().isEmpty() ? savedUser.getEmail() : user.getEmail());\r\n        userToEdit.setGroup_id((user.getGroup_id() == -1) ? savedUser.getGroup_id() : user.getGroup_id());\r\n        userToEdit.setActive(user.getActive()!=savedUser.getActive() ? savedUser.getActive() : user.getActive());\r\n\r\n        return userRepository.save(userToEdit);\r\n    }\r\n\r\nAnd I&#39;m trying to test it with Mockito and when I call a repository method in the service class while testing it return a empty Optional\r\n\r\nHere&#39;s my before each test method \r\n\r\n    @BeforeEach\r\n    public void setup(){\r\n        user = new User(1,&quot;username&quot;, &quot;password&quot;, 1, &quot;test@test.com&quot;, &quot;admin&quot;, true);\r\n    }\r\n\r\nand my test method\r\n\r\n\r\n    @Test\r\n    void checkIfUserCanBeEdited(){\r\n\r\n        given(userRepository.save(user)).willReturn(user);\r\n        user.setPassword(&quot;check&quot;);\r\n        user.setRole(&quot;user&quot;);\r\n\r\n        //when\r\n        User updateUser = userService.editUser(user);\r\n\r\n        //then\r\n        assertThat(updateUser.getPassword()).isEqualTo(&quot;check&quot;);\r\n        assertThat(updateUser.getRole()).isEqualTo(&quot;user&quot;);\r\n    }\r\n\r\nAnd the error\r\n\r\n    java.util.NoSuchElementException: No value present\r\n\r\nat this line\r\n\r\n    User savedUser = userRepository.findById(user.getUser_id()).get();","title":"JPA Repository method inside of mocked Service Class returns null","body":"<p>I have a service method that looks like this</p>\n<pre><code>@Override\npublic User editUser(User user) {\n\n    User savedUser = userRepository.findById(user.getUser_id()).get();\n    User userToEdit = new User();\n\n    userToEdit.setUser_id(user.getUser_id());\n    userToEdit.setRole(user.getRole().isEmpty() ? savedUser.getRole() : user.getRole());\n    userToEdit.setUsername(user.getUsername().isEmpty() ? savedUser.getUsername() : user.getUsername());\n    userToEdit.setPassword(user.getPassword().isEmpty() ? savedUser.getPassword() : passwordEncoder.encode(user.getPassword()));\n    userToEdit.setEmail(user.getEmail().isEmpty() ? savedUser.getEmail() : user.getEmail());\n    userToEdit.setGroup_id((user.getGroup_id() == -1) ? savedUser.getGroup_id() : user.getGroup_id());\n    userToEdit.setActive(user.getActive()!=savedUser.getActive() ? savedUser.getActive() : user.getActive());\n\n    return userRepository.save(userToEdit);\n}\n</code></pre>\n<p>And I'm trying to test it with Mockito and when I call a repository method in the service class while testing it return a empty Optional</p>\n<p>Here's my before each test method</p>\n<pre><code>@BeforeEach\npublic void setup(){\n    user = new User(1,&quot;username&quot;, &quot;password&quot;, 1, &quot;test@test.com&quot;, &quot;admin&quot;, true);\n}\n</code></pre>\n<p>and my test method</p>\n<pre><code>@Test\nvoid checkIfUserCanBeEdited(){\n\n    given(userRepository.save(user)).willReturn(user);\n    user.setPassword(&quot;check&quot;);\n    user.setRole(&quot;user&quot;);\n\n    //when\n    User updateUser = userService.editUser(user);\n\n    //then\n    assertThat(updateUser.getPassword()).isEqualTo(&quot;check&quot;);\n    assertThat(updateUser.getRole()).isEqualTo(&quot;user&quot;);\n}\n</code></pre>\n<p>And the error</p>\n<pre><code>java.util.NoSuchElementException: No value present\n</code></pre>\n<p>at this line</p>\n<pre><code>User savedUser = userRepository.findById(user.getUser_id()).get();\n</code></pre>\n"},{"tags":["java","spring-boot","maven","slf4j"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673703744,"post_id":75117932,"comment_id":132559598,"body_markdown":"please show your full pom file...","body":"please show your full pom file..."},{"owner":{"account_id":2647828,"reputation":99,"user_id":2290175,"display_name":"Wash"},"score":0,"creation_date":1673705301,"post_id":75117932,"comment_id":132559904,"body_markdown":"i had to remove the build tag. otherwise the file was too large.","body":"i had to remove the build tag. otherwise the file was too large."}],"owner":{"account_id":2647828,"reputation":99,"user_id":2290175,"display_name":"Wash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673705245,"creation_date":1673699452,"question_id":75117932,"body_markdown":"On mvn compile, the app tries downloading from maven-restlet: https://maven.restlet.org/org/slf4j/slf4j-api/maven-metadata.xml\r\n\r\nthe transfer fails though with the following message: Could not transfer metadata org.slf4j:slf4j-api/maven-metadata.xml from/to maven-restlet (https://maven.restlet.org)\r\n\r\nDoes anyone know why this behaviour suddenly appears?\r\n\r\nmy pom:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;xxx&lt;/groupId&gt;\r\n      &lt;artifactId&gt;xxx&lt;/artifactId&gt;\r\n      &lt;version&gt;xxx&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n      &lt;name&gt;xxx&lt;/name&gt;\r\n      &lt;description&gt;xxx&lt;/description&gt;\r\n    \r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n        &lt;!-- lookup parent from repository --&gt;\r\n      &lt;/parent&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n        &lt;!-- libs --&gt;\r\n        &lt;testcontainers.version&gt;1.17.6&lt;/testcontainers.version&gt;\r\n        &lt;shedlock.version&gt;5.1.0&lt;/shedlock.version&gt;\r\n        &lt;!-- jacoco --&gt;\r\n        &lt;jacoco.version&gt;0.8.8&lt;/jacoco.version&gt;\r\n    \r\n        &lt;spring.security.version&gt;6.0.1&lt;/spring.security.version&gt;\r\n        &lt;azure.version&gt;6.0.0-beta.3&lt;/azure.version&gt;\r\n    \r\n        &lt;!-- lts versions only--&gt;\r\n        &lt;node.version&gt;v16.17.1&lt;/node.version&gt;\r\n    \r\n        &lt;!-- validator--&gt;\r\n        &lt;commons-validator.version&gt;1.7&lt;/commons-validator.version&gt;\r\n    \r\n        &lt;!-- libs --&gt;\r\n        &lt;sfdc.version&gt;41.0&lt;/sfdc.version&gt;\r\n        &lt;owasp.version&gt;7.4.4&lt;/owasp.version&gt;\r\n        &lt;resilience4j.version&gt;1.7.1&lt;/resilience4j.version&gt;\r\n    \r\n        &lt;!-- please don&#39;t override spring boot&#39;s dependency management via an explicit dependency declaration --&gt;\r\n        &lt;junit-jupiter.version&gt;5.9.1&lt;/junit-jupiter.version&gt;\r\n        &lt;selenide.version&gt;6.11.0&lt;/selenide.version&gt;\r\n        &lt;selenium.version&gt;4.7.2&lt;/selenium.version&gt;\r\n    \r\n        &lt;!-- cdc --&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.0&lt;/spring-cloud.version&gt;\r\n        &lt;spring-cloud-contract-maven-plugin.version&gt;4.0.0&lt;/spring-cloud-contract-maven-plugin.version&gt;\r\n    \r\n        &lt;!-- monitoring and tracing --&gt;\r\n        &lt;micrometer-tracing.version&gt;1.0.0&lt;/micrometer-tracing.version&gt;\r\n    \r\n        &lt;!-- maven profile --&gt;\r\n        &lt;skip.frontend.build&gt;false&lt;/skip.frontend.build&gt;\r\n        &lt;skip.frontend.webcomponent.build&gt;true&lt;/skip.frontend.webcomponent.build&gt;\r\n        &lt;skip.frontend.tests&gt;false&lt;/skip.frontend.tests&gt;\r\n        &lt;skip.backend.build&gt;false&lt;/skip.backend.build&gt;\r\n        &lt;skip.backend.tests.build&gt;false&lt;/skip.backend.tests.build&gt;\r\n        &lt;skip.backend.tests&gt;false&lt;/skip.backend.tests&gt;\r\n        &lt;skip.cdc.tests&gt;false&lt;/skip.cdc.tests&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;allTests&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;groups&gt;&lt;/groups&gt;\r\n          &lt;/properties&gt;\r\n          &lt;activation&gt;\r\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n          &lt;/activation&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;profile&gt;\r\n          &lt;id&gt;compileBE&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\r\n            &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\r\n            &lt;skip.backend.tests&gt;true&lt;/skip.backend.tests&gt;\r\n            &lt;skip.backend.tests.build&gt;true&lt;/skip.backend.tests.build&gt;\r\n            &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;profile&gt;\r\n          &lt;id&gt;compileFE&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;skip.frontend.webcomponent.build&gt;false&lt;/skip.frontend.webcomponent.build&gt;\r\n            &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\r\n            &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\r\n            &lt;skip.backend.tests.build&gt;true&lt;/skip.backend.tests.build&gt;\r\n            &lt;skip.backend.tests&gt;true&lt;/skip.backend.tests&gt;\r\n            &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;profile&gt;\r\n          &lt;id&gt;compileBEAndFE&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;skip.frontend.webcomponent.build&gt;false&lt;/skip.frontend.webcomponent.build&gt;\r\n            &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\r\n            &lt;skip.backend.tests&gt;true&lt;/skip.backend.tests&gt;\r\n            &lt;skip.backend.tests.build&gt;true&lt;/skip.backend.tests.build&gt;\r\n            &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;profile&gt;\r\n          &lt;id&gt;testFE&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\r\n            &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\r\n            &lt;skip.backend.tests.build&gt;true&lt;/skip.backend.tests.build&gt;\r\n            &lt;skip.backend.tests&gt;true&lt;/skip.backend.tests&gt;\r\n            &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;profile&gt;\r\n          &lt;id&gt;testBE&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;excludeGroups&gt;selenium&lt;/excludeGroups&gt;\r\n            &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\r\n            &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\r\n            &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\r\n            &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;profile&gt;\r\n          &lt;id&gt;testUnit&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;excludedGroups&gt;integration, cdc, selenium, kafka&lt;/excludedGroups&gt;\r\n            &lt;jacoco.execution.file&gt;${project.build.directory}/jacoco-unit.exec&lt;/jacoco.execution.file&gt;\r\n            &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\r\n            &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\r\n            &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\r\n            &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;profile&gt;\r\n          &lt;id&gt;cdcTests&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;groups&gt;cdc&lt;/groups&gt;\r\n            &lt;jacoco.execution.file&gt;${project.build.directory}/jacoco-cdc.exec&lt;/jacoco.execution.file&gt;\r\n            &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\r\n            &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\r\n            &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;profile&gt;\r\n          &lt;id&gt;testSelenium&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;groups&gt;selenium&lt;/groups&gt;\r\n            &lt;jacoco.execution.file&gt;${project.build.directory}/jacoco-selenium.exec&lt;/jacoco.execution.file&gt;\r\n            &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\r\n            &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\r\n            &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\r\n            &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    \r\n    \r\n        &lt;profile&gt;\r\n          &lt;id&gt;testIntegration&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;groups&gt;integration&lt;/groups&gt;\r\n            &lt;jacoco.execution.file&gt;${project.build.directory}/jacoco-integration.exec&lt;/jacoco.execution.file&gt;\r\n            &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\r\n            &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\r\n            &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\r\n            &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;profile&gt;\r\n          &lt;id&gt;testIntegrationKafka&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;groups&gt;kafka&lt;/groups&gt;\r\n            &lt;jacoco.execution.file&gt;${project.build.directory}/jacoco-integration-kafka.exec&lt;/jacoco.execution.file&gt;\r\n            &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\r\n            &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\r\n            &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\r\n            &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    \r\n        &lt;profile&gt;\r\n          &lt;id&gt;COFA&lt;/id&gt;\r\n          &lt;activation&gt;\r\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n          &lt;/activation&gt;\r\n    \r\n          &lt;build&gt;\r\n            &lt;plugins&gt;\r\n              &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;id&gt;copy&lt;/id&gt;\r\n                    &lt;phase&gt;validate&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;copy&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                  &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;artifactItems&gt;\r\n                    &lt;artifactItem&gt;\r\n                      &lt;groupId&gt;sfdc&lt;/groupId&gt;\r\n                      &lt;artifactId&gt;sfdc-canvas-sdk&lt;/artifactId&gt;\r\n                      &lt;version&gt;${sfdc.version}&lt;/version&gt;\r\n                      &lt;type&gt;jar&lt;/type&gt;\r\n                    &lt;/artifactItem&gt;\r\n                  &lt;/artifactItems&gt;\r\n                  &lt;outputDirectory&gt;${project.basedir}/fits/lib&lt;/outputDirectory&gt;\r\n                  &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n                  &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n          &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;FITS&lt;/id&gt;\r\n          &lt;build&gt;\r\n            &lt;plugins&gt;\r\n              &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;id&gt;sfdc-canvas-sdk&lt;/id&gt;\r\n                    &lt;phase&gt;validate&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;install-file&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                      &lt;file&gt;${project.basedir}/fits/lib/sfdc-canvas-sdk-${sfdc.version}.jar&lt;/file&gt;\r\n                      &lt;groupId&gt;sfdc&lt;/groupId&gt;\r\n                      &lt;artifactId&gt;sfdc-canvas-sdk&lt;/artifactId&gt;\r\n                      &lt;version&gt;${sfdc.version}&lt;/version&gt;\r\n                      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n                    &lt;/configuration&gt;\r\n                  &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n              &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n          &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;GITLAB-RUNNER&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;failsafe.args&gt;\r\n              -Dtestcontainer.postgres.enabled=true\r\n              -Dspring.datasource.use_datasource_proxy=true\r\n              -Dspring.datasource.use_datasource_proxy_count_only=true\r\n            &lt;/failsafe.args&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;DEV&lt;/id&gt;\r\n          &lt;properties&gt;\r\n            &lt;npm.profile&gt;development&lt;/npm.profile&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n      &lt;/profiles&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;!-- XML binding is optional since Java 10 --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n          &lt;version&gt;4.0.1&lt;/version&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n          &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\r\n          &lt;version&gt;1.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- starter for building web, REST applications. It uses tomcat server\r\n          as default embedded server. --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;!-- we&#39;re not using log4j, but this exclusion makes sure that it stays this way --&gt;\r\n              &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n              &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n          &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\r\n          &lt;version&gt;${shedlock.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n          &lt;artifactId&gt;shedlock-provider-jdbc-template&lt;/artifactId&gt;\r\n          &lt;version&gt;${shedlock.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n          &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n          &lt;version&gt;1.9.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n    \r\n        &lt;!-- Batch --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- UI --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Salesforce --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;sfdc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;sfdc-canvas-sdk&lt;/artifactId&gt;\r\n          &lt;version&gt;41.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n          &lt;version&gt;1.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n          &lt;version&gt;3.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n          &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n          &lt;version&gt;4.5.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n          &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Database --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n          &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n          &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n          &lt;version&gt;42.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Monitoring --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n          &lt;version&gt;2.14.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Messaging --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-cloud-azure-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Validator --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- TEST --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n          &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n          &lt;version&gt;5.7.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.yannbriancon&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-hibernate-query-utils&lt;/artifactId&gt;\r\n          &lt;version&gt;2.0.0&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n          &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n          &lt;version&gt;23.0.0&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n    \r\n        &lt;!-- LOGGING --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n          &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n          &lt;version&gt;7.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- TEST --&gt;\r\n        &lt;!-- exclude junit 4 --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;junit&lt;/groupId&gt;\r\n              &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n              &lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- JUnit 5 --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n          &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n          &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;archunit-junit5&lt;/artifactId&gt;\r\n          &lt;version&gt;0.23.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;archunit-junit5-engine&lt;/artifactId&gt;\r\n          &lt;version&gt;0.23.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;junit&lt;/groupId&gt;\r\n              &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Testcontainers is tightly coupled with the JUnit 4.x rule API, this module provides an API that is based on the JUnit Jupiter extension model. --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n          &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n          &lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jna&lt;/artifactId&gt;\r\n          &lt;version&gt;5.12.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n          &lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n          &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n          &lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n          &lt;artifactId&gt;kafka&lt;/artifactId&gt;\r\n          &lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenium&lt;/artifactId&gt;\r\n          &lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\r\n          &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n          &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n          &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\r\n          &lt;artifactId&gt;selenide&lt;/artifactId&gt;\r\n          &lt;version&gt;${selenide.version}&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.idera.xray&lt;/groupId&gt;\r\n          &lt;artifactId&gt;xray-junit-extensions&lt;/artifactId&gt;\r\n          &lt;version&gt;0.4.0&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!--Monitoring--&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n          &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n          &lt;artifactId&gt;micrometer-tracing&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n          &lt;artifactId&gt;micrometer-tracing-bridge-brave&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Schema migration --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n          &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n          &lt;version&gt;4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- validation --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;commons-validator&lt;/groupId&gt;\r\n          &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\r\n          &lt;version&gt;${commons-validator.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n          &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n          &lt;version&gt;31.1-jre&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n          &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n          &lt;version&gt;4.2.0&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.code.findbugs&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jsr305&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;au.com.dius.pact.consumer&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit5&lt;/artifactId&gt;\r\n          &lt;version&gt;4.2.21&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;xerces&lt;/groupId&gt;\r\n              &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;au.com.dius.pact.consumer&lt;/groupId&gt;\r\n          &lt;artifactId&gt;java8&lt;/artifactId&gt;\r\n          &lt;version&gt;4.1.40&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n          &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n              &lt;groupId&gt;xerces&lt;/groupId&gt;\r\n              &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n          &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;!-- CDC --&gt;\r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-azure-dependencies&lt;/artifactId&gt;\r\n            &lt;version&gt;${azure.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-tracing-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;${micrometer-tracing.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"After Migration to Spring Boot 3 my Project tries to download slf4j maven-metadata.xml from maven restlet","body":"<p>On mvn compile, the app tries downloading from maven-restlet: <a href=\"https://maven.restlet.org/org/slf4j/slf4j-api/maven-metadata.xml\" rel=\"nofollow noreferrer\">https://maven.restlet.org/org/slf4j/slf4j-api/maven-metadata.xml</a></p>\n<p>the transfer fails though with the following message: Could not transfer metadata org.slf4j:slf4j-api/maven-metadata.xml from/to maven-restlet (<a href=\"https://maven.restlet.org\" rel=\"nofollow noreferrer\">https://maven.restlet.org</a>)</p>\n<p>Does anyone know why this behaviour suddenly appears?</p>\n<p>my pom:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;xxx&lt;/groupId&gt;\n  &lt;artifactId&gt;xxx&lt;/artifactId&gt;\n  &lt;version&gt;xxx&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;name&gt;xxx&lt;/name&gt;\n  &lt;description&gt;xxx&lt;/description&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;relativePath/&gt;\n    &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n    &lt;!-- libs --&gt;\n    &lt;testcontainers.version&gt;1.17.6&lt;/testcontainers.version&gt;\n    &lt;shedlock.version&gt;5.1.0&lt;/shedlock.version&gt;\n    &lt;!-- jacoco --&gt;\n    &lt;jacoco.version&gt;0.8.8&lt;/jacoco.version&gt;\n\n    &lt;spring.security.version&gt;6.0.1&lt;/spring.security.version&gt;\n    &lt;azure.version&gt;6.0.0-beta.3&lt;/azure.version&gt;\n\n    &lt;!-- lts versions only--&gt;\n    &lt;node.version&gt;v16.17.1&lt;/node.version&gt;\n\n    &lt;!-- validator--&gt;\n    &lt;commons-validator.version&gt;1.7&lt;/commons-validator.version&gt;\n\n    &lt;!-- libs --&gt;\n    &lt;sfdc.version&gt;41.0&lt;/sfdc.version&gt;\n    &lt;owasp.version&gt;7.4.4&lt;/owasp.version&gt;\n    &lt;resilience4j.version&gt;1.7.1&lt;/resilience4j.version&gt;\n\n    &lt;!-- please don't override spring boot's dependency management via an explicit dependency declaration --&gt;\n    &lt;junit-jupiter.version&gt;5.9.1&lt;/junit-jupiter.version&gt;\n    &lt;selenide.version&gt;6.11.0&lt;/selenide.version&gt;\n    &lt;selenium.version&gt;4.7.2&lt;/selenium.version&gt;\n\n    &lt;!-- cdc --&gt;\n    &lt;spring-cloud.version&gt;2022.0.0&lt;/spring-cloud.version&gt;\n    &lt;spring-cloud-contract-maven-plugin.version&gt;4.0.0&lt;/spring-cloud-contract-maven-plugin.version&gt;\n\n    &lt;!-- monitoring and tracing --&gt;\n    &lt;micrometer-tracing.version&gt;1.0.0&lt;/micrometer-tracing.version&gt;\n\n    &lt;!-- maven profile --&gt;\n    &lt;skip.frontend.build&gt;false&lt;/skip.frontend.build&gt;\n    &lt;skip.frontend.webcomponent.build&gt;true&lt;/skip.frontend.webcomponent.build&gt;\n    &lt;skip.frontend.tests&gt;false&lt;/skip.frontend.tests&gt;\n    &lt;skip.backend.build&gt;false&lt;/skip.backend.build&gt;\n    &lt;skip.backend.tests.build&gt;false&lt;/skip.backend.tests.build&gt;\n    &lt;skip.backend.tests&gt;false&lt;/skip.backend.tests&gt;\n    &lt;skip.cdc.tests&gt;false&lt;/skip.cdc.tests&gt;\n  &lt;/properties&gt;\n\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;allTests&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;groups&gt;&lt;/groups&gt;\n      &lt;/properties&gt;\n      &lt;activation&gt;\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n      &lt;/activation&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n      &lt;id&gt;compileBE&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\n        &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\n        &lt;skip.backend.tests&gt;true&lt;/skip.backend.tests&gt;\n        &lt;skip.backend.tests.build&gt;true&lt;/skip.backend.tests.build&gt;\n        &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n      &lt;id&gt;compileFE&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;skip.frontend.webcomponent.build&gt;false&lt;/skip.frontend.webcomponent.build&gt;\n        &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\n        &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\n        &lt;skip.backend.tests.build&gt;true&lt;/skip.backend.tests.build&gt;\n        &lt;skip.backend.tests&gt;true&lt;/skip.backend.tests&gt;\n        &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n      &lt;id&gt;compileBEAndFE&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;skip.frontend.webcomponent.build&gt;false&lt;/skip.frontend.webcomponent.build&gt;\n        &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\n        &lt;skip.backend.tests&gt;true&lt;/skip.backend.tests&gt;\n        &lt;skip.backend.tests.build&gt;true&lt;/skip.backend.tests.build&gt;\n        &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n      &lt;id&gt;testFE&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\n        &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\n        &lt;skip.backend.tests.build&gt;true&lt;/skip.backend.tests.build&gt;\n        &lt;skip.backend.tests&gt;true&lt;/skip.backend.tests&gt;\n        &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n      &lt;id&gt;testBE&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;excludeGroups&gt;selenium&lt;/excludeGroups&gt;\n        &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\n        &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\n        &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\n        &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n      &lt;id&gt;testUnit&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;excludedGroups&gt;integration, cdc, selenium, kafka&lt;/excludedGroups&gt;\n        &lt;jacoco.execution.file&gt;${project.build.directory}/jacoco-unit.exec&lt;/jacoco.execution.file&gt;\n        &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\n        &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\n        &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\n        &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n      &lt;id&gt;cdcTests&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;groups&gt;cdc&lt;/groups&gt;\n        &lt;jacoco.execution.file&gt;${project.build.directory}/jacoco-cdc.exec&lt;/jacoco.execution.file&gt;\n        &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\n        &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\n        &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n      &lt;id&gt;testSelenium&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;groups&gt;selenium&lt;/groups&gt;\n        &lt;jacoco.execution.file&gt;${project.build.directory}/jacoco-selenium.exec&lt;/jacoco.execution.file&gt;\n        &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\n        &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\n        &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\n        &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n\n\n    &lt;profile&gt;\n      &lt;id&gt;testIntegration&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;groups&gt;integration&lt;/groups&gt;\n        &lt;jacoco.execution.file&gt;${project.build.directory}/jacoco-integration.exec&lt;/jacoco.execution.file&gt;\n        &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\n        &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\n        &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\n        &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n      &lt;id&gt;testIntegrationKafka&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;groups&gt;kafka&lt;/groups&gt;\n        &lt;jacoco.execution.file&gt;${project.build.directory}/jacoco-integration-kafka.exec&lt;/jacoco.execution.file&gt;\n        &lt;skip.backend.build&gt;true&lt;/skip.backend.build&gt;\n        &lt;skip.frontend.build&gt;true&lt;/skip.frontend.build&gt;\n        &lt;skip.frontend.tests&gt;true&lt;/skip.frontend.tests&gt;\n        &lt;skip.cdc.tests&gt;true&lt;/skip.cdc.tests&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n\n    &lt;profile&gt;\n      &lt;id&gt;COFA&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n      &lt;/activation&gt;\n\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.5.0&lt;/version&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;copy&lt;/id&gt;\n                &lt;phase&gt;validate&lt;/phase&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;copy&lt;/goal&gt;\n                &lt;/goals&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n              &lt;artifactItems&gt;\n                &lt;artifactItem&gt;\n                  &lt;groupId&gt;sfdc&lt;/groupId&gt;\n                  &lt;artifactId&gt;sfdc-canvas-sdk&lt;/artifactId&gt;\n                  &lt;version&gt;${sfdc.version}&lt;/version&gt;\n                  &lt;type&gt;jar&lt;/type&gt;\n                &lt;/artifactItem&gt;\n              &lt;/artifactItems&gt;\n              &lt;outputDirectory&gt;${project.basedir}/fits/lib&lt;/outputDirectory&gt;\n              &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n              &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n      &lt;id&gt;FITS&lt;/id&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;sfdc-canvas-sdk&lt;/id&gt;\n                &lt;phase&gt;validate&lt;/phase&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;install-file&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                  &lt;file&gt;${project.basedir}/fits/lib/sfdc-canvas-sdk-${sfdc.version}.jar&lt;/file&gt;\n                  &lt;groupId&gt;sfdc&lt;/groupId&gt;\n                  &lt;artifactId&gt;sfdc-canvas-sdk&lt;/artifactId&gt;\n                  &lt;version&gt;${sfdc.version}&lt;/version&gt;\n                  &lt;packaging&gt;jar&lt;/packaging&gt;\n                &lt;/configuration&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n      &lt;id&gt;GITLAB-RUNNER&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;failsafe.args&gt;\n          -Dtestcontainer.postgres.enabled=true\n          -Dspring.datasource.use_datasource_proxy=true\n          -Dspring.datasource.use_datasource_proxy_count_only=true\n        &lt;/failsafe.args&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n      &lt;id&gt;DEV&lt;/id&gt;\n      &lt;properties&gt;\n        &lt;npm.profile&gt;development&lt;/npm.profile&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- XML binding is optional since Java 10 --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n      &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n      &lt;version&gt;4.0.1&lt;/version&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\n      &lt;version&gt;1.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- starter for building web, REST applications. It uses tomcat server\n      as default embedded server. --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;!-- we're not using log4j, but this exclusion makes sure that it stays this way --&gt;\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n          &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n      &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\n      &lt;version&gt;${shedlock.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n      &lt;artifactId&gt;shedlock-provider-jdbc-template&lt;/artifactId&gt;\n      &lt;version&gt;${shedlock.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n      &lt;version&gt;1.9.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!-- Batch --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- UI --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Salesforce --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;sfdc&lt;/groupId&gt;\n      &lt;artifactId&gt;sfdc-canvas-sdk&lt;/artifactId&gt;\n      &lt;version&gt;41.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n      &lt;version&gt;1.15&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n      &lt;version&gt;3.12.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n      &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n      &lt;version&gt;4.5.14&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n      &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Database --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n      &lt;version&gt;42.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Monitoring --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n      &lt;version&gt;2.14.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Messaging --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-azure-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Validator --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- TEST --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n      &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n      &lt;version&gt;5.7.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.yannbriancon&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-hibernate-query-utils&lt;/artifactId&gt;\n      &lt;version&gt;2.0.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n      &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n      &lt;version&gt;23.0.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n\n    &lt;!-- LOGGING --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n      &lt;version&gt;7.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- TEST --&gt;\n    &lt;!-- exclude junit 4 --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;junit&lt;/groupId&gt;\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n          &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- JUnit 5 --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n      &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n      &lt;version&gt;${junit-jupiter.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n      &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\n      &lt;artifactId&gt;archunit-junit5&lt;/artifactId&gt;\n      &lt;version&gt;0.23.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.tngtech.archunit&lt;/groupId&gt;\n      &lt;artifactId&gt;archunit-junit5-engine&lt;/artifactId&gt;\n      &lt;version&gt;0.23.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;junit&lt;/groupId&gt;\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Testcontainers is tightly coupled with the JUnit 4.x rule API, this module provides an API that is based on the JUnit Jupiter extension model. --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n      &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n      &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n      &lt;artifactId&gt;jna&lt;/artifactId&gt;\n      &lt;version&gt;5.12.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n      &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n      &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n      &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n      &lt;artifactId&gt;kafka&lt;/artifactId&gt;\n      &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n      &lt;artifactId&gt;selenium&lt;/artifactId&gt;\n      &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n      &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\n      &lt;version&gt;${selenium.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n      &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n      &lt;version&gt;${selenium.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n      &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n      &lt;version&gt;${selenium.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.codeborne&lt;/groupId&gt;\n      &lt;artifactId&gt;selenide&lt;/artifactId&gt;\n      &lt;version&gt;${selenide.version}&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.idera.xray&lt;/groupId&gt;\n      &lt;artifactId&gt;xray-junit-extensions&lt;/artifactId&gt;\n      &lt;version&gt;0.4.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--Monitoring--&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n      &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n      &lt;artifactId&gt;micrometer-tracing&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n      &lt;artifactId&gt;micrometer-tracing-bridge-brave&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Schema migration --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n      &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n      &lt;version&gt;4.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- validation --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;commons-validator&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\n      &lt;version&gt;${commons-validator.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\n      &lt;version&gt;31.1-jre&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n      &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n      &lt;version&gt;4.2.0&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.code.findbugs&lt;/groupId&gt;\n      &lt;artifactId&gt;jsr305&lt;/artifactId&gt;\n      &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;au.com.dius.pact.consumer&lt;/groupId&gt;\n      &lt;artifactId&gt;junit5&lt;/artifactId&gt;\n      &lt;version&gt;4.2.21&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;xerces&lt;/groupId&gt;\n          &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;au.com.dius.pact.consumer&lt;/groupId&gt;\n      &lt;artifactId&gt;java8&lt;/artifactId&gt;\n      &lt;version&gt;4.1.40&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;xerces&lt;/groupId&gt;\n          &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;!-- CDC --&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-azure-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;${azure.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-tracing-bom&lt;/artifactId&gt;\n        &lt;version&gt;${micrometer-tracing.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","multithreading","concurrency","static","volatile"],"comments":[{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1438609436,"post_id":2423622,"comment_id":51506122,"body_markdown":"Official explanation of volatile: http://www.cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html#volatile","body":"Official explanation of volatile: <a href=\"http://www.cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html#volatile\" rel=\"nofollow noreferrer\">cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html#volatile</a>"}],"answers":[{"comments":[{"owner":{"account_id":199943,"reputation":84060,"user_id":445543,"accept_rate":85,"display_name":"stivlo"},"score":15,"creation_date":1319954358,"post_id":5726161,"comment_id":9707344,"body_markdown":"*If a variable is declared as volatile, all threads will have their own copy of the variable but the value is taken from the main memory.* =&gt; **right.** *So, the value of the variable in all the threads will be the same.* =&gt; **wrong, each thread will use the same value for the same Object, but each Object will have its own copy.**","body":"<i>If a variable is declared as volatile, all threads will have their own copy of the variable but the value is taken from the main memory.</i> =&gt; <b>right.</b> <i>So, the value of the variable in all the threads will be the same.</i> =&gt; <b>wrong, each thread will use the same value for the same Object, but each Object will have its own copy.</b>"}],"tags":[],"owner":{"account_id":740193,"reputation":37,"user_id":716535,"display_name":"Jitendra Nalwaya"},"comment_count":1,"down_vote_count":7,"up_vote_count":5,"is_accepted":false,"score":-2,"last_activity_date":1303279462,"creation_date":1303279462,"answer_id":5726161,"question_id":2423622,"body_markdown":"If we declare a variable as static, there will be only one copy of the variable.\r\nSo, whenever different threads access that variable, there will be only one final value for the variable(since there is only one memory location allocated for the variable).\r\n\r\nIf a variable is declared as volatile, all threads will have their own copy of the variable but the value is taken from the main memory.So, the value of the variable in all the threads will be the same.\r\n\r\nSo, in both cases, the main point is that the value of the variable is same across all threads.","title":"Volatile vs Static in Java","body":"<p>If we declare a variable as static, there will be only one copy of the variable.\nSo, whenever different threads access that variable, there will be only one final value for the variable(since there is only one memory location allocated for the variable).</p>\n\n<p>If a variable is declared as volatile, all threads will have their own copy of the variable but the value is taken from the main memory.So, the value of the variable in all the threads will be the same.</p>\n\n<p>So, in both cases, the main point is that the value of the variable is same across all threads.</p>\n"},{"comments":[{"owner":{"account_id":185012,"reputation":3371,"user_id":421467,"accept_rate":100,"display_name":"Dr.jacky"},"score":0,"creation_date":1352622846,"post_id":7943472,"comment_id":18186413,"body_markdown":"So does it means ALWAYS it&#39;s necessary to set volatile?","body":"So does it means ALWAYS it&#39;s necessary to set volatile?"},{"owner":{"account_id":199943,"reputation":84060,"user_id":445543,"accept_rate":85,"display_name":"stivlo"},"score":10,"creation_date":1352644884,"post_id":7943472,"comment_id":18190546,"body_markdown":"The volatile modifier guarantees that any thread that reads a field will see the most recently written value, so it&#39;s necessary if the variable is shared among multiple thread and you need this feature, it depends on your use case.","body":"The volatile modifier guarantees that any thread that reads a field will see the most recently written value, so it&#39;s necessary if the variable is shared among multiple thread and you need this feature, it depends on your use case."},{"owner":{"account_id":301657,"reputation":1547,"user_id":609540,"accept_rate":82,"display_name":"mert inan"},"score":5,"creation_date":1355778927,"post_id":7943472,"comment_id":19191989,"body_markdown":"What is the cache when you say &quot;locally cached&quot;? CPU cache, some kind of JVM cache?","body":"What is the cache when you say &quot;locally cached&quot;? CPU cache, some kind of JVM cache?"},{"owner":{"account_id":199943,"reputation":84060,"user_id":445543,"accept_rate":85,"display_name":"stivlo"},"score":6,"creation_date":1355782104,"post_id":7943472,"comment_id":19193282,"body_markdown":"@mertinan yes, the variable can be in a cache nearer to the processor or core. See http://www.cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html for more details.","body":"@mertinan yes, the variable can be in a cache nearer to the processor or core. See <a href=\"http://www.cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html\" rel=\"nofollow noreferrer\">cs.umd.edu/~pugh/java/memoryModel/jsr-133-faq.html</a> for more details."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":21,"creation_date":1377411593,"post_id":7943472,"comment_id":27070994,"body_markdown":"&#39;volatile&#39; does ***not*** imply &#39;one variable per object&#39;. Absence of &#39;static&#39; does that. -1 for failing to clear up this elementary misconception on the part of the OP.","body":"&#39;volatile&#39; does <b><i>not</i></b> imply &#39;one variable per object&#39;. Absence of &#39;static&#39; does that. -1 for failing to clear up this elementary misconception on the part of the OP."},{"owner":{"account_id":199943,"reputation":84060,"user_id":445543,"accept_rate":85,"display_name":"stivlo"},"score":28,"creation_date":1377434837,"post_id":7943472,"comment_id":27075640,"body_markdown":"@EJP I thought that the sentence &quot;Declaring a variable as volatile, there will be one variable for each Object. So on the surface it seems there is no difference from a normal variable&quot; was explaining that, I&#39;ve added *and not static*, feel free to edit the article and improve the wording to make that clearer.","body":"@EJP I thought that the sentence &quot;Declaring a variable as volatile, there will be one variable for each Object. So on the surface it seems there is no difference from a normal variable&quot; was explaining that, I&#39;ve added <i>and not static</i>, feel free to edit the article and improve the wording to make that clearer."},{"owner":{"account_id":60721,"reputation":1919,"user_id":181293,"accept_rate":67,"display_name":"ernesto"},"score":1,"creation_date":1410755505,"post_id":7943472,"comment_id":40430171,"body_markdown":"If volatile doesn&#39;t automatically impose proper synchronization then why use it? We could make any regular variable synchronized. What&#39;s the purpose of volatile?","body":"If volatile doesn&#39;t automatically impose proper synchronization then why use it? We could make any regular variable synchronized. What&#39;s the purpose of volatile?"},{"owner":{"account_id":4585640,"reputation":414,"user_id":3720409,"accept_rate":43,"display_name":"filip"},"score":1,"creation_date":1410799977,"post_id":7943472,"comment_id":40451829,"body_markdown":"@stivlo I don&#39;t see how the counter can be different from zero. Each thread that calls the concurrentMethodWrong will increment and decrement by 5. So the effective work done by each thread is zero (0). Am I missing something fundamental in my reasoning?","body":"@stivlo I don&#39;t see how the counter can be different from zero. Each thread that calls the concurrentMethodWrong will increment and decrement by 5. So the effective work done by each thread is zero (0). Am I missing something fundamental in my reasoning?"},{"owner":{"account_id":4585640,"reputation":414,"user_id":3720409,"accept_rate":43,"display_name":"filip"},"score":0,"creation_date":1410810523,"post_id":7943472,"comment_id":40456889,"body_markdown":"@stivlo I see, but I can&#39;t explain it. Well, guess I have to read these posts a few more times.","body":"@stivlo I see, but I can&#39;t explain it. Well, guess I have to read these posts a few more times."},{"owner":{"account_id":199943,"reputation":84060,"user_id":445543,"accept_rate":85,"display_name":"stivlo"},"score":4,"creation_date":1410820799,"post_id":7943472,"comment_id":40461142,"body_markdown":"@filip counter = counter + 5 is not an atomic operation. The thread could be switched in the middle of it, i.e. after reading counter but before adding 5.","body":"@filip counter = counter + 5 is not an atomic operation. The thread could be switched in the middle of it, i.e. after reading counter but before adding 5."},{"owner":{"account_id":4585640,"reputation":414,"user_id":3720409,"accept_rate":43,"display_name":"filip"},"score":0,"creation_date":1410866794,"post_id":7943472,"comment_id":40477942,"body_markdown":"@stivlo Yes, of course. I get it know, thank you for your time.","body":"@stivlo Yes, of course. I get it know, thank you for your time."},{"owner":{"account_id":2326469,"reputation":9226,"user_id":2040863,"accept_rate":96,"display_name":"John Hascall"},"score":4,"creation_date":1429836150,"post_id":7943472,"comment_id":47800255,"body_markdown":"@ernesto volatile is sufficient if only one thread ever writes to the volatile variable.  If two or more threads can write to it, then you need synchronized too.","body":"@ernesto volatile is sufficient if only one thread ever writes to the volatile variable.  If two or more threads can write to it, then you need synchronized too."},{"owner":{"account_id":354814,"reputation":12916,"user_id":693387,"display_name":"Tomasz Stanczak"},"score":1,"creation_date":1477575207,"post_id":7943472,"comment_id":67830282,"body_markdown":"@John Hascall this is not quite right  it is all about atomicity and not how many thread write. Even if two or more threads write to a volatile variable it doesn&#39;t need to be synchronized if they do not need the variables previous value to determine its new value  volatile make writing to a variable of any type atomic. Only reading and writing by multiple threads (like in a counter example) makes synchronization necessary.","body":"@John Hascall this is not quite right  it is all about atomicity and not how many thread write. Even if two or more threads write to a volatile variable it doesn&#39;t need to be synchronized if they do not need the variables previous value to determine its new value  volatile make writing to a variable of any type atomic. Only reading and writing by multiple threads (like in a counter example) makes synchronization necessary."}],"tags":[],"owner":{"account_id":199943,"reputation":84060,"user_id":445543,"accept_rate":85,"display_name":"stivlo"},"comment_count":13,"down_vote_count":2,"up_vote_count":399,"is_accepted":true,"score":397,"last_activity_date":1468051780,"creation_date":1319952548,"answer_id":7943472,"question_id":2423622,"body_markdown":"Declaring a **static** variable in Java, means that there will be only one copy, no matter how many objects of the class are created. The variable will be accessible even with no `Objects` created at all. However, threads may have locally cached values of it.\r\n\r\nWhen a variable is **volatile** and not **static**, there will be one variable for each `Object`. So, on the surface it seems there is no difference from a normal variable but totally different from **static**. However, even with `Object` fields, a thread may cache a variable value locally.\r\n\r\nThis means that if two threads update a variable of the same Object concurrently, and the variable is not declared volatile, there could be a case in which one of the thread has in cache an old value.\r\n\r\nEven if you access a **static** value through multiple threads, each thread can have its local cached copy! To avoid this you can declare the variable as **static volatile** and this will force the thread to read each time the global value.\r\n\r\nHowever, **volatile** is not a substitute for proper synchronisation!  \r\nFor instance:\r\n\r\n    private static volatile int counter = 0;\r\n\r\n    private void concurrentMethodWrong() {\r\n      counter = counter + 5;\r\n      //do something\r\n      counter = counter - 5;\r\n    }\r\n        \r\nExecuting `concurrentMethodWrong` concurrently many times may lead to a final value of counter different from zero!  \r\nTo solve the problem, you have to implement a lock:\r\n\r\n    private static final Object counterLock = new Object();\r\n\r\n    private static volatile int counter = 0;\r\n\r\n    private void concurrentMethodRight() {\r\n      synchronized (counterLock) {\r\n        counter = counter + 5;\r\n      }\r\n      //do something\r\n      synchronized (counterLock) {\r\n        counter = counter - 5;\r\n      }\r\n    }\r\n\r\nOr use the [`AtomicInteger`][1] class.\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html","title":"Volatile vs Static in Java","body":"<p>Declaring a <strong>static</strong> variable in Java, means that there will be only one copy, no matter how many objects of the class are created. The variable will be accessible even with no <code>Objects</code> created at all. However, threads may have locally cached values of it.</p>\n\n<p>When a variable is <strong>volatile</strong> and not <strong>static</strong>, there will be one variable for each <code>Object</code>. So, on the surface it seems there is no difference from a normal variable but totally different from <strong>static</strong>. However, even with <code>Object</code> fields, a thread may cache a variable value locally.</p>\n\n<p>This means that if two threads update a variable of the same Object concurrently, and the variable is not declared volatile, there could be a case in which one of the thread has in cache an old value.</p>\n\n<p>Even if you access a <strong>static</strong> value through multiple threads, each thread can have its local cached copy! To avoid this you can declare the variable as <strong>static volatile</strong> and this will force the thread to read each time the global value.</p>\n\n<p>However, <strong>volatile</strong> is not a substitute for proper synchronisation!<br>\nFor instance:</p>\n\n<pre><code>private static volatile int counter = 0;\n\nprivate void concurrentMethodWrong() {\n  counter = counter + 5;\n  //do something\n  counter = counter - 5;\n}\n</code></pre>\n\n<p>Executing <code>concurrentMethodWrong</code> concurrently many times may lead to a final value of counter different from zero!<br>\nTo solve the problem, you have to implement a lock:</p>\n\n<pre><code>private static final Object counterLock = new Object();\n\nprivate static volatile int counter = 0;\n\nprivate void concurrentMethodRight() {\n  synchronized (counterLock) {\n    counter = counter + 5;\n  }\n  //do something\n  synchronized (counterLock) {\n    counter = counter - 5;\n  }\n}\n</code></pre>\n\n<p>Or use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"noreferrer\"><code>AtomicInteger</code></a> class.</p>\n"},{"comments":[{"owner":{"account_id":1152235,"reputation":1124,"user_id":1133690,"accept_rate":47,"display_name":"Jaikrat"},"score":7,"creation_date":1435692959,"post_id":12193970,"comment_id":50304262,"body_markdown":"Hello @Som, Please correct me if I am wrong. But don&#39;t you think the statement &quot;**but not in the context of Thread where update of one thread to the static variable will reflect the changes immediately to all the threads (in their local cache).**&quot; should be &quot;but not in the context of Thread where update of one thread to the static variable will **&lt;&lt;NOT&gt;&gt;** reflect the changes immediately to all the threads (in their local cache).&quot;","body":"Hello @Som, Please correct me if I am wrong. But don&#39;t you think the statement &quot;<b>but not in the context of Thread where update of one thread to the static variable will reflect the changes immediately to all the threads (in their local cache).</b>&quot; should be &quot;but not in the context of Thread where update of one thread to the static variable will <b>&lt;&lt;NOT&gt;&gt;</b> reflect the changes immediately to all the threads (in their local cache).&quot;"},{"owner":{"account_id":3759138,"reputation":1845,"user_id":3124680,"accept_rate":64,"display_name":"stuart"},"score":0,"creation_date":1436293875,"post_id":12193970,"comment_id":50547086,"body_markdown":"@Jaikrat Yes that was very confusing for me.  My understanding is that you&#39;re right and that this answer is wrong, as written.  I would also like to be corrected if I&#39;m wrong.","body":"@Jaikrat Yes that was very confusing for me.  My understanding is that you&#39;re right and that this answer is wrong, as written.  I would also like to be corrected if I&#39;m wrong."},{"owner":{"account_id":1531770,"reputation":4658,"user_id":1428821,"accept_rate":69,"display_name":"Som"},"score":0,"creation_date":1436341568,"post_id":12193970,"comment_id":50565040,"body_markdown":"@Jaikrat Threads don&#39;t cache the static variables though but, do refer to the updated static variables .","body":"@Jaikrat Threads don&#39;t cache the static variables though but, do refer to the updated static variables ."},{"owner":{"account_id":1152235,"reputation":1124,"user_id":1133690,"accept_rate":47,"display_name":"Jaikrat"},"score":0,"creation_date":1436438669,"post_id":12193970,"comment_id":50617904,"body_markdown":"@Som Then would you like to correct the para and remove **but not in the context of Thread**. Thats very confusing. Thanks","body":"@Som Then would you like to correct the para and remove <b>but not in the context of Thread</b>. Thats very confusing. Thanks"},{"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"score":0,"creation_date":1447203737,"post_id":12193970,"comment_id":55059209,"body_markdown":"Sadly, this answer is incorrect. On modern CPUs, even a `volatile` variable can be shared among distinct CPU caches. This presents no problem because the cache negotiates exclusive ownership of the cache line prior to modify it.","body":"Sadly, this answer is incorrect. On modern CPUs, even a <code>volatile</code> variable can be shared among distinct CPU caches. This presents no problem because the cache negotiates exclusive ownership of the cache line prior to modify it."},{"owner":{"account_id":1593643,"reputation":185,"user_id":1476397,"accept_rate":35,"display_name":"Peter"},"score":0,"creation_date":1468319902,"post_id":12193970,"comment_id":64067564,"body_markdown":"Hello @Som,  Can Threads cache AtomicInteger variable as well like normal primitives ?","body":"Hello @Som,  Can Threads cache AtomicInteger variable as well like normal primitives ?"}],"tags":[],"owner":{"account_id":1531770,"reputation":4658,"user_id":1428821,"accept_rate":69,"display_name":"Som"},"comment_count":6,"down_vote_count":4,"up_vote_count":301,"is_accepted":false,"score":297,"last_activity_date":1424868701,"creation_date":1346319486,"answer_id":12193970,"question_id":2423622,"body_markdown":"Difference Between Static and Volatile :\r\n\r\n**Static Variable**:  If two Threads(suppose `t1` and `t2`) are accessing the same object and updating a variable which is declared as static   then  it means `t1` and `t2` can make their own local copy  of the same object(including static variables) in their respective cache, so update made by `t1` to the static variable in its local cache wont reflect  in the static variable for `t2` cache .\r\n\r\nStatic variables are used in the **context of Object** where update made by one object would reflect in all the other objects of the same class **but not in  the context of Thread** where update of one thread to the static variable will reflect the changes immediately to all the threads (in their local cache).\r\n\r\n**Volatile variable**: If two Threads(suppose `t1` and `t2`) are accessing the same object and updating a variable which is declared as volatile   then  it means `t1` and `t2` can make their own local cache  of the Object **except the variable which is declared as a volatile** . So the volatile variable will have only one main copy which will be updated by different threads and update made by one thread to the volatile variable will immediately reflect to the other Thread.\r\n","title":"Volatile vs Static in Java","body":"<p>Difference Between Static and Volatile :</p>\n\n<p><strong>Static Variable</strong>:  If two Threads(suppose <code>t1</code> and <code>t2</code>) are accessing the same object and updating a variable which is declared as static   then  it means <code>t1</code> and <code>t2</code> can make their own local copy  of the same object(including static variables) in their respective cache, so update made by <code>t1</code> to the static variable in its local cache wont reflect  in the static variable for <code>t2</code> cache .</p>\n\n<p>Static variables are used in the <strong>context of Object</strong> where update made by one object would reflect in all the other objects of the same class <strong>but not in  the context of Thread</strong> where update of one thread to the static variable will reflect the changes immediately to all the threads (in their local cache).</p>\n\n<p><strong>Volatile variable</strong>: If two Threads(suppose <code>t1</code> and <code>t2</code>) are accessing the same object and updating a variable which is declared as volatile   then  it means <code>t1</code> and <code>t2</code> can make their own local cache  of the Object <strong>except the variable which is declared as a volatile</strong> . So the volatile variable will have only one main copy which will be updated by different threads and update made by one thread to the volatile variable will immediately reflect to the other Thread.</p>\n"},{"tags":[],"owner":{"account_id":2590909,"reputation":3911,"user_id":2245634,"accept_rate":61,"display_name":""},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1517355317,"creation_date":1377410775,"answer_id":18426257,"question_id":2423622,"body_markdown":"I think `static` and `volatile` have no relation at all. I suggest you read java tutorial to understand [Atomic Access][1], and why use atomic access, understand what is [interleaved][2], you will find answer.\n\n  [1]: http://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html\n  [2]: http://docs.oracle.com/javase/tutorial/essential/concurrency/interfere.html","title":"Volatile vs Static in Java","body":"<p>I think <code>static</code> and <code>volatile</code> have no relation at all. I suggest you read java tutorial to understand <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html\" rel=\"nofollow noreferrer\">Atomic Access</a>, and why use atomic access, understand what is <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/interfere.html\" rel=\"nofollow noreferrer\">interleaved</a>, you will find answer.</p>\n"},{"comments":[{"owner":{"account_id":378670,"reputation":3959,"user_id":731548,"accept_rate":33,"display_name":"cquezel"},"score":1,"creation_date":1449866855,"post_id":33413884,"comment_id":56208367,"body_markdown":"static variables are shared among objects under a thread? This should read static variables are shared among objects all objects regardless of threads.","body":"static variables are shared among objects under a thread? This should read static variables are shared among objects all objects regardless of threads."},{"owner":{"account_id":378670,"reputation":3959,"user_id":731548,"accept_rate":33,"display_name":"cquezel"},"score":1,"creation_date":1449867419,"post_id":33413884,"comment_id":56208644,"body_markdown":"&quot;volatile variables are shared among multiple threads(so objects as well).&quot;\n\nVolatile does not change how variables are shared among multiple threads or objects. It changes how the runtime is allowed to cache the value.","body":"&quot;volatile variables are shared among multiple threads(so objects as well).&quot;  Volatile does not change how variables are shared among multiple threads or objects. It changes how the runtime is allowed to cache the value."},{"owner":{"account_id":378670,"reputation":3959,"user_id":731548,"accept_rate":33,"display_name":"cquezel"},"score":1,"creation_date":1450023982,"post_id":33413884,"comment_id":56248219,"body_markdown":"Your comment about static variables also applies to non static and the &quot;will be cached&quot; and &quot;will not reflect&quot; should probably be rephrased &quot;may be cached&quot; and &quot;may not reflect&quot;.","body":"Your comment about static variables also applies to non static and the &quot;will be cached&quot; and &quot;will not reflect&quot; should probably be rephrased &quot;may be cached&quot; and &quot;may not reflect&quot;."},{"owner":{"account_id":3459421,"reputation":15080,"user_id":2897008,"accept_rate":73,"display_name":"vins"},"score":6,"creation_date":1458001934,"post_id":33413884,"comment_id":59653819,"body_markdown":"I was very confused. this picture cleared all my questions!","body":"I was very confused. this picture cleared all my questions!"},{"owner":{"account_id":4243102,"reputation":3047,"user_id":5784939,"display_name":"Eugene Maysyuk"},"score":0,"creation_date":1644580626,"post_id":33413884,"comment_id":125650177,"body_markdown":"Perfect explanation!","body":"Perfect explanation!"}],"tags":[],"owner":{"account_id":1366348,"reputation":34421,"user_id":1592191,"accept_rate":100,"display_name":"mrsrinivas"},"comment_count":5,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1631377375,"creation_date":1446120688,"answer_id":33413884,"question_id":2423622,"body_markdown":"In addition to other answers, I would like to add one image for it(pic makes easy to understand)\r\n\r\n[![enter image description here][1]][1] \r\n\r\n`static` variables may be cached for individual threads. In multi-threaded environment **if one thread modifies its cached data, that may not reflect for other threads as they have a copy** of it.\r\n\r\n`volatile` declaration makes sure that threads **won&#39;t cache the data and uses the shared copy** only. \r\n\r\n[image source][2] \r\n\r\n\r\n  [1]: http://i.stack.imgur.com/zyhpA.png\r\n  [2]: https://malalanayake.wordpress.com/2013/09/12/volatile-vs-static-in-java/","title":"Volatile vs Static in Java","body":"<p>In addition to other answers, I would like to add one image for it(pic makes easy to understand)</p>\n<p><a href=\"https://i.stack.imgur.com/zyhpA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zyhpA.png\" alt=\"enter image description here\" /></a></p>\n<p><code>static</code> variables may be cached for individual threads. In multi-threaded environment <strong>if one thread modifies its cached data, that may not reflect for other threads as they have a copy</strong> of it.</p>\n<p><code>volatile</code> declaration makes sure that threads <strong>won't cache the data and uses the shared copy</strong> only.</p>\n<p><a href=\"https://malalanayake.wordpress.com/2013/09/12/volatile-vs-static-in-java/\" rel=\"noreferrer\">image source</a></p>\n"},{"comments":[{"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":0,"creation_date":1541646724,"post_id":37114038,"comment_id":93290539,"body_markdown":"I really appreciate this answer. I knew what is the `volatile` earlier, but, this answer clarifies a lot for me why do I still need to use `volatile` with the `static` variable.","body":"I really appreciate this answer. I knew what is the <code>volatile</code> earlier, but, this answer clarifies a lot for me why do I still need to use <code>volatile</code> with the <code>static</code> variable."},{"owner":{"account_id":3053788,"reputation":3379,"user_id":2587867,"accept_rate":58,"display_name":"ASR"},"score":0,"creation_date":1550817585,"post_id":37114038,"comment_id":96417719,"body_markdown":"volatile: This keyword is applicable to both class and instance variables. The statement you said above is incorrect regarding applicable to class. only two key words that applicable to variable is volatile and transient. so volatile wont applicable for class.","body":"volatile: This keyword is applicable to both class and instance variables. The statement you said above is incorrect regarding applicable to class. only two key words that applicable to variable is volatile and transient. so volatile wont applicable for class."},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1550833730,"post_id":37114038,"comment_id":96426234,"body_markdown":"volatile is applicable to class ( static ) variables.  Check out for Double locked singleton links in google and you can find that your understanding is wrong. https://stackoverflow.com/questions/18093735/double-checked-locking-in-singleton","body":"volatile is applicable to class ( static ) variables.  Check out for Double locked singleton links in google and you can find that your understanding is wrong. <a href=\"https://stackoverflow.com/questions/18093735/double-checked-locking-in-singleton\" title=\"double checked locking in singleton\">stackoverflow.com/questions/18093735/&hellip;</a>"},{"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"score":0,"creation_date":1550833808,"post_id":37114038,"comment_id":96426275,"body_markdown":"private static volatile is valid declaration.","body":"private static volatile is valid declaration."}],"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"comment_count":4,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1464505065,"creation_date":1462791466,"answer_id":37114038,"question_id":2423622,"body_markdown":"In simple terms,\r\n\r\n1. [static][1] : `static` variables are associated with the ***class***, rather than with any ***object***. Every instance of the class shares a class variable, which is in one fixed location in memory\r\n\r\n2. [volatile][2]: This keyword is applicable to both ***class*** and ***instance*** variables. \r\n\r\n&gt;  Using volatile variables reduces the risk of memory consistency errors, because any write to a volatile variable establishes a happens-before relationship with subsequent reads of that same variable. This means that changes to a volatile variable are always visible to other threads\r\n\r\nHave a look at this [article][3] by `Javin Paul`  to understand volatile variables in a better way.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nIn absence of `volatile` keyword, the value of variable in each thread&#39;s stack may be different. By making the variable as `volatile`, all threads will get same value in their working memory and memory consistency errors have been avoided.\r\n\r\nHere the term `variable` can be either `static` (class) variable or `instance` (object) variable.\r\n\r\nRegarding your query :\r\n&gt; Anyway a static variable value is also going to be one value for all threads, then why should we go for volatile?\r\n\r\nIf I need `instance` variable in my application, I can&#39;t use `static` variable. Even in case of `static` variable, consistency is not guaranteed due to Thread cache as shown in the diagram.\r\n\r\nUsing `volatile` variables reduces the risk of memory consistency errors, because any write to a volatile variable establishes a happens-before relationship with subsequent reads of that same variable. This means that changes to a volatile variable are always visible to other threads. \r\n\r\n&gt; What&#39;s more, it also means that when a thread reads a volatile variable, it sees not just the latest change to the volatile, but also the side effects of the code that led up the change =&gt; ***memory consistency errors are still possible with volatile variables***. To avoid side effects, you have to use synchronized variables. But there is a better solution in java.\r\n\r\n***Using simple atomic variable access is more efficient than accessing these variables through synchronized code***\r\n\r\nSome of the classes in the `java.util.concurrent` package provide atomic methods that do not rely on synchronization.\r\n\r\nRefer to this [high level concurrency control][5] article for more details. \r\n\r\nEspecially have a look at [Atomic variables][6].\r\n\r\nRelated SE questions:\r\n\r\nhttps://stackoverflow.com/questions/19744508/volatile-vs-atomic\r\n\r\nhttps://stackoverflow.com/questions/3786825/volatile-boolean-vs-atomicboolean\r\n\r\nhttps://stackoverflow.com/questions/3519664/difference-between-volatile-and-synchronized-in-java/34355995#34355995\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html\r\n  [3]: http://javarevisited.blogspot.in/2011/06/volatile-keyword-java-example-tutorial.html\r\n  [4]: http://i.stack.imgur.com/hhd6L.png\r\n  [5]: https://docs.oracle.com/javase/tutorial/essential/concurrency/highlevel.html\r\n  [6]: https://docs.oracle.com/javase/tutorial/essential/concurrency/atomicvars.html","title":"Volatile vs Static in Java","body":"<p>In simple terms,</p>\n\n<ol>\n<li><p><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">static</a> : <code>static</code> variables are associated with the <strong><em>class</em></strong>, rather than with any <strong><em>object</em></strong>. Every instance of the class shares a class variable, which is in one fixed location in memory</p></li>\n<li><p><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html\" rel=\"nofollow noreferrer\">volatile</a>: This keyword is applicable to both <strong><em>class</em></strong> and <strong><em>instance</em></strong> variables. </p></li>\n</ol>\n\n<blockquote>\n  <p>Using volatile variables reduces the risk of memory consistency errors, because any write to a volatile variable establishes a happens-before relationship with subsequent reads of that same variable. This means that changes to a volatile variable are always visible to other threads</p>\n</blockquote>\n\n<p>Have a look at this <a href=\"http://javarevisited.blogspot.in/2011/06/volatile-keyword-java-example-tutorial.html\" rel=\"nofollow noreferrer\">article</a> by <code>Javin Paul</code>  to understand volatile variables in a better way.</p>\n\n<p><a href=\"https://i.stack.imgur.com/hhd6L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hhd6L.png\" alt=\"enter image description here\"></a></p>\n\n<p>In absence of <code>volatile</code> keyword, the value of variable in each thread's stack may be different. By making the variable as <code>volatile</code>, all threads will get same value in their working memory and memory consistency errors have been avoided.</p>\n\n<p>Here the term <code>variable</code> can be either <code>static</code> (class) variable or <code>instance</code> (object) variable.</p>\n\n<p>Regarding your query :</p>\n\n<blockquote>\n  <p>Anyway a static variable value is also going to be one value for all threads, then why should we go for volatile?</p>\n</blockquote>\n\n<p>If I need <code>instance</code> variable in my application, I can't use <code>static</code> variable. Even in case of <code>static</code> variable, consistency is not guaranteed due to Thread cache as shown in the diagram.</p>\n\n<p>Using <code>volatile</code> variables reduces the risk of memory consistency errors, because any write to a volatile variable establishes a happens-before relationship with subsequent reads of that same variable. This means that changes to a volatile variable are always visible to other threads. </p>\n\n<blockquote>\n  <p>What's more, it also means that when a thread reads a volatile variable, it sees not just the latest change to the volatile, but also the side effects of the code that led up the change => <strong><em>memory consistency errors are still possible with volatile variables</em></strong>. To avoid side effects, you have to use synchronized variables. But there is a better solution in java.</p>\n</blockquote>\n\n<p><strong><em>Using simple atomic variable access is more efficient than accessing these variables through synchronized code</em></strong></p>\n\n<p>Some of the classes in the <code>java.util.concurrent</code> package provide atomic methods that do not rely on synchronization.</p>\n\n<p>Refer to this <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/highlevel.html\" rel=\"nofollow noreferrer\">high level concurrency control</a> article for more details. </p>\n\n<p>Especially have a look at <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/atomicvars.html\" rel=\"nofollow noreferrer\">Atomic variables</a>.</p>\n\n<p>Related SE questions:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/19744508/volatile-vs-atomic\">Volatile Vs Atomic</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/3786825/volatile-boolean-vs-atomicboolean\">Volatile boolean vs AtomicBoolean</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/3519664/difference-between-volatile-and-synchronized-in-java/34355995#34355995\">Difference between volatile and synchronized in Java</a></p>\n"},{"tags":[],"owner":{"account_id":3228622,"reputation":761,"user_id":2724374,"accept_rate":56,"display_name":"Aslam a"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1490598932,"creation_date":1490598932,"answer_id":43040072,"question_id":2423622,"body_markdown":"volatile variable value access will be direct from main memory. It should be used only in multi-threading environment.\r\nstatic variable will be loaded one time. If its used in single thread environment, even if the copy of the variable will be updated and there will be no harm accessing it as there is only one thread.\r\n\r\nNow if static variable is used in multi-threading environment then there will be issues if one expects desired result from it. As each thread has their own copy then any increment or decrement on static variable from one thread may not reflect in another thread.\r\n\r\nif one expects desired results from static variable then use volatile with static in multi-threading then everything will be resolved.","title":"Volatile vs Static in Java","body":"<p>volatile variable value access will be direct from main memory. It should be used only in multi-threading environment.\nstatic variable will be loaded one time. If its used in single thread environment, even if the copy of the variable will be updated and there will be no harm accessing it as there is only one thread.</p>\n\n<p>Now if static variable is used in multi-threading environment then there will be issues if one expects desired result from it. As each thread has their own copy then any increment or decrement on static variable from one thread may not reflect in another thread.</p>\n\n<p>if one expects desired results from static variable then use volatile with static in multi-threading then everything will be resolved.</p>\n"},{"tags":[],"owner":{"account_id":3303957,"reputation":43,"user_id":2779355,"display_name":"user2779355"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556737559,"creation_date":1556737559,"answer_id":55941327,"question_id":2423622,"body_markdown":"Not sure static variables are cached in thread local memory or NOT. But when I executed two threads(T1,T2) accessing same object(obj) and when update made by T1 thread to static variable it got reflected in T2.","title":"Volatile vs Static in Java","body":"<p>Not sure static variables are cached in thread local memory or NOT. But when I executed two threads(T1,T2) accessing same object(obj) and when update made by T1 thread to static variable it got reflected in T2.</p>\n"},{"tags":[],"owner":{"account_id":27527988,"reputation":61,"user_id":21006984,"display_name":"JohnR"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673705191,"creation_date":1673705097,"answer_id":75118501,"question_id":2423622,"body_markdown":"It is incorrect to say that static means one copy of the value for all objects because static means there will be only **one copy for each classloader that loads the containing class**.\r\n\r\nThe Java volatile keyword means, that every read of a volatile variable will be read from the computer&#39;s main memory, and not from the CPU cache, and that every write to a volatile variable will be written to main memory, and not just to the CPU cache.\r\n","title":"Volatile vs Static in Java","body":"<p>It is incorrect to say that static means one copy of the value for all objects because static means there will be only <strong>one copy for each classloader that loads the containing class</strong>.</p>\n<p>The Java volatile keyword means, that every read of a volatile variable will be read from the computer's main memory, and not from the CPU cache, and that every write to a volatile variable will be written to main memory, and not just to the CPU cache.</p>\n"}],"owner":{"account_id":47673,"reputation":14840,"user_id":141311,"accept_rate":57,"display_name":"Jothi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175805,"favorite_count":0,"down_vote_count":3,"up_vote_count":290,"accepted_answer_id":7943472,"answer_count":9,"score":287,"last_activity_date":1673705191,"creation_date":1268298084,"question_id":2423622,"body_markdown":"Is it correct to say that `static` means one copy of the value for all objects and `volatile` means one copy of the value for all threads? \r\n\r\nAnyway a `static` variable value is also going to be one value for all threads, then why should we go for `volatile`?","title":"Volatile vs Static in Java","body":"<p>Is it correct to say that <code>static</code> means one copy of the value for all objects and <code>volatile</code> means one copy of the value for all threads? </p>\n\n<p>Anyway a <code>static</code> variable value is also going to be one value for all threads, then why should we go for <code>volatile</code>?</p>\n"},{"tags":["java","junit","parameterized-tests"],"comments":[{"owner":{"account_id":5108104,"reputation":1920,"user_id":4095631,"accept_rate":100,"display_name":"Jasper Lankhorst"},"score":0,"creation_date":1580250184,"post_id":59957881,"comment_id":106034607,"body_markdown":"I have no idea what you are trying to do, but the test is like a void function you first run the function with the annotation and inside the function you tell it to run other functions like &quot;simpleMessage (boolean isPost) &quot; function. \n\nBasically create @Test testPostFunction(){ Add starting condition. do something in simpleMessage(boolean) function and assert if the simpleMessage result worked or failed. \n\nthe name &quot;verifyIdOdpEqual&quot; does not tell me quit clearly what the function does.","body":"I have no idea what you are trying to do, but the test is like a void function you first run the function with the annotation and inside the function you tell it to run other functions like &quot;simpleMessage (boolean isPost) &quot; function.   Basically create @Test testPostFunction(){ Add starting condition. do something in simpleMessage(boolean) function and assert if the simpleMessage result worked or failed.   the name &quot;verifyIdOdpEqual&quot; does not tell me quit clearly what the function does."}],"answers":[{"tags":[],"owner":{"account_id":16681522,"reputation":211,"user_id":12056468,"display_name":"Mikhail"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1673704934,"creation_date":1580253250,"answer_id":59958483,"question_id":59957881,"body_markdown":"I don&#39;t quite understand what you trying to achieve as well but you have few problems with your code:\r\n\r\n1. By presence of `@ParameterizedTest` and `@ValueSource` I assume you using JUnit 5. At the same time looks like you marked your method with annotation from JUnit 4 (because only in that case you will get an exception with the text you quoted).\r\n2. `@Test` is redundant when the method is annotated with `@ParametrizedTest`.\r\n\r\nYou have 2 options how to fix all of the above:\r\n\r\n1. If you want to use junit5 then you need to remove `@Test` annotation and make sure that your tests are launched by a runner that supports JUnit 5 ([more info][1]).\r\n\r\n    Example:\r\n\r\n    ```\r\n    package test;\r\n\r\n    import org.junit.jupiter.params.ParameterizedTest;\r\n    import org.junit.jupiter.params.provider.ValueSource;\r\n\r\n    public class TestTest {\r\n\r\n        @ParameterizedTest\r\n        @ValueSource(booleans =  {true, false})\r\n        public void test(boolean data) {\r\n            System.out.println(data);\r\n        }\r\n    }\r\n    ```\r\n\r\n2. If you want to use JUnit 4 then you need to remove `@ParameterizedTest` and `@ValueSource` annotations and rewrite your test to use parametrized runner ([more info][2]).\r\n\r\n\r\n  [1]: https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\r\n  [2]: https://github.com/junit-team/junit4/wiki/Parameterized-tests","title":"Use parameterized test returns Method should have no parameters","body":"<p>I don't quite understand what you trying to achieve as well but you have few problems with your code:</p>\n<ol>\n<li>By presence of <code>@ParameterizedTest</code> and <code>@ValueSource</code> I assume you using JUnit 5. At the same time looks like you marked your method with annotation from JUnit 4 (because only in that case you will get an exception with the text you quoted).</li>\n<li><code>@Test</code> is redundant when the method is annotated with <code>@ParametrizedTest</code>.</li>\n</ol>\n<p>You have 2 options how to fix all of the above:</p>\n<ol>\n<li><p>If you want to use junit5 then you need to remove <code>@Test</code> annotation and make sure that your tests are launched by a runner that supports JUnit 5 (<a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\" rel=\"noreferrer\">more info</a>).</p>\n<p>Example:</p>\n<pre><code>package test;\n\nimport org.junit.jupiter.params.ParameterizedTest;\nimport org.junit.jupiter.params.provider.ValueSource;\n\npublic class TestTest {\n\n    @ParameterizedTest\n    @ValueSource(booleans =  {true, false})\n    public void test(boolean data) {\n        System.out.println(data);\n    }\n}\n</code></pre>\n</li>\n<li><p>If you want to use JUnit 4 then you need to remove <code>@ParameterizedTest</code> and <code>@ValueSource</code> annotations and rewrite your test to use parametrized runner (<a href=\"https://github.com/junit-team/junit4/wiki/Parameterized-tests\" rel=\"noreferrer\">more info</a>).</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2967696,"reputation":455,"user_id":2520509,"display_name":"Nguyen Minh Hien"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660168306,"creation_date":1660168306,"answer_id":73313116,"question_id":59957881,"body_markdown":"Simply remove the line **@Test** out of your code","title":"Use parameterized test returns Method should have no parameters","body":"<p>Simply remove the line <strong>@Test</strong> out of your code</p>\n"}],"owner":{"account_id":17639838,"reputation":139,"user_id":12802324,"display_name":"Charles"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15491,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1673704934,"creation_date":1580249708,"question_id":59957881,"body_markdown":"I have a problem, I would like to pass the test method to send a request using the GET method and POST. I used parameterization, but I get information java.lang.Exception: Method simpleMessage should have no parameters\r\n\r\n      @Test\r\n        @ParameterizedTest\r\n        @ValueSource(strings = {&quot;true&quot;, &quot;false&quot;})\r\n        public void simpleMessage (boolean isPost) {\r\n            verifyIdOdpEqual(isPost,1243, &quot;message&quot;);\r\n        }","title":"Use parameterized test returns Method should have no parameters","body":"<p>I have a problem, I would like to pass the test method to send a request using the GET method and POST. I used parameterization, but I get information java.lang.Exception: Method simpleMessage should have no parameters</p>\n\n<pre><code>  @Test\n    @ParameterizedTest\n    @ValueSource(strings = {\"true\", \"false\"})\n    public void simpleMessage (boolean isPost) {\n        verifyIdOdpEqual(isPost,1243, \"message\");\n    }\n</code></pre>\n"},{"tags":["java","arrays","sorting","arraylist","project"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1673665847,"post_id":75115489,"comment_id":132555359,"body_markdown":"Wouldnt it be empty?","body":"Wouldnt it be empty?"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1673667620,"post_id":75115489,"comment_id":132555500,"body_markdown":"An ARRAY would have a fixed size. An ArrayList, however, grows dynamically to hold however many things you add to it.","body":"An ARRAY would have a fixed size. An ArrayList, however, grows dynamically to hold however many things you add to it."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1673699732,"post_id":75115489,"comment_id":132558952,"body_markdown":"What good world printing the size do? You need to enter the limit then check against that limit while entering values.","body":"What good world printing the size do? You need to enter the limit then check against that limit while entering values."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1673701312,"post_id":75115489,"comment_id":132559190,"body_markdown":"&quot;on our task, we have to type in a size first before inputting any values, like of i type 5, the list only accept 5 values.&quot; So get your size from the user then use a `for` or `while` loop to get that many inputs.","body":"&quot;on our task, we have to type in a size first before inputting any values, like of i type 5, the list only accept 5 values.&quot; So get your size from the user then use a <code>for</code> or <code>while</code> loop to get that many inputs."}],"answers":[{"comments":[{"owner":{"display_name":"user21004193"},"score":0,"creation_date":1673679943,"post_id":75115518,"comment_id":132556491,"body_markdown":"on our task, we have to type in a size first before inputting any values, like of i type 5, the list only accept 5 values.","body":"on our task, we have to type in a size first before inputting any values, like of i type 5, the list only accept 5 values."}],"tags":[],"owner":{"account_id":198938,"reputation":1576,"user_id":443908,"accept_rate":82,"display_name":"badperson"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673666021,"creation_date":1673666021,"answer_id":75115518,"question_id":75115489,"body_markdown":"you can call `.size()` on any list at any time, but prior to adding any values it will return 0","title":"How do I print the size of my ArrayList before entering any values?","body":"<p>you can call <code>.size()</code> on any list at any time, but prior to adding any values it will return 0</p>\n"},{"comments":[{"owner":{"display_name":"user21004193"},"score":0,"creation_date":1673679948,"post_id":75115519,"comment_id":132556492,"body_markdown":"on our task, we have to type in a size first before inputting any values, like of i type 5, the list only accept 5 values.","body":"on our task, we have to type in a size first before inputting any values, like of i type 5, the list only accept 5 values."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673777047,"post_id":75115519,"comment_id":132569854,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75115519/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27524699,"reputation":1,"user_id":21004208,"display_name":"ErikP"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673666025,"creation_date":1673666025,"answer_id":75115519,"question_id":75115489,"body_markdown":"In Java ArrayList is dynamic so if you haven&#39;t added any values into it the size is 0.","title":"How do I print the size of my ArrayList before entering any values?","body":"<p>In Java ArrayList is dynamic so if you haven't added any values into it the size is 0.</p>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673704389,"creation_date":1673704389,"answer_id":75118437,"question_id":75115489,"body_markdown":"&gt; on our task, we have to type in a size first before inputting any\r\n&gt; values, like of i type 5, the list only accept 5 values.\r\n\r\nSo get your size from the user, then use a for or while loop to get that many inputs.\r\n\r\nSomething like:\r\n\r\n    System.out.print(&quot;Enter the number of elements needed: &quot;);\r\n    int size = in.nextInt();\r\n    for(int i=1; i &lt;= size; i++) {\r\n        System.out.print(&quot;Enter value &quot; + i + &quot;: &quot;);\r\n        value.add(in.nextInt());\r\n    }","title":"How do I print the size of my ArrayList before entering any values?","body":"<blockquote>\n<p>on our task, we have to type in a size first before inputting any\nvalues, like of i type 5, the list only accept 5 values.</p>\n</blockquote>\n<p>So get your size from the user, then use a for or while loop to get that many inputs.</p>\n<p>Something like:</p>\n<pre><code>System.out.print(&quot;Enter the number of elements needed: &quot;);\nint size = in.nextInt();\nfor(int i=1; i &lt;= size; i++) {\n    System.out.print(&quot;Enter value &quot; + i + &quot;: &quot;);\n    value.add(in.nextInt());\n}\n</code></pre>\n"}],"owner":{"display_name":"user21004193"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1673704389,"creation_date":1673665642,"question_id":75115489,"body_markdown":"\r\nSystem.out.println(&quot;Enter the number of elements needed: &quot; );\r\n        \r\n        System.out.printf(&quot;Enter value 1: &quot;);\r\n        value.add(in.nextInt());\r\n\r\nHow do I print the size of my ArrayList before entering any values?","title":"How do I print the size of my ArrayList before entering any values?","body":"<p>System.out.println(&quot;Enter the number of elements needed: &quot; );</p>\n<pre><code>    System.out.printf(&quot;Enter value 1: &quot;);\n    value.add(in.nextInt());\n</code></pre>\n<p>How do I print the size of my ArrayList before entering any values?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":12731703,"reputation":3217,"user_id":9248098,"display_name":"Gowtham K K"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673634607,"creation_date":1673634607,"answer_id":75113176,"question_id":75113051,"body_markdown":"\r\nOne way to get it as `HashMap` and extract value from it, like this.\r\n\r\n    Map&lt;String, String&gt; map = (Map&lt;String, String&gt;) singleSnapshot.getValue();\r\n    String username = (String) map.get(&quot;username&quot;); // You should pass exact key names here.\r\n    String password = (String) map.get(&quot;password&quot;);\r\n\r\n","title":"Get value from list of objects Firebase Android Studio","body":"<p>One way to get it as <code>HashMap</code> and extract value from it, like this.</p>\n<pre><code>Map&lt;String, String&gt; map = (Map&lt;String, String&gt;) singleSnapshot.getValue();\nString username = (String) map.get(&quot;username&quot;); // You should pass exact key names here.\nString password = (String) map.get(&quot;password&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1675316188,"post_id":75117064,"comment_id":132903622,"body_markdown":"Hey there. Have you also tried my solution above?","body":"Hey there. Have you also tried my solution above?"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673689858,"creation_date":1673689858,"answer_id":75117064,"question_id":75113051,"body_markdown":"The [DataSnapshot#getValue()][1] returns an object of type [Object][2]. It&#39;s true you can cast it to a Map&lt;String, Object&gt;, as GowthamKK mentioned in his answer but there is by far a simpler solution that would get the value according to the corresponding type. So in code, it would be as simple as:\r\n\r\n    String password = singleSnapshot.child(&quot;password&quot;).getValue(String.class);\r\n\r\nAs you can see I have used now, [`&lt;T&gt; getValue(@NonNull Class&lt;T&gt; valueType`)][3] which:\r\n\r\n&gt; This method is used to marshall the data contained in this snapshot into a class of your choosing.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot#getValue()\r\n  [2]: https://developer.android.com/reference/kotlin/java/lang/Object.html\r\n  [3]: https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot#getValue(java.lang.Class%3CT%3E)","title":"Get value from list of objects Firebase Android Studio","body":"<p>The <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot#getValue()\" rel=\"nofollow noreferrer\">DataSnapshot#getValue()</a> returns an object of type <a href=\"https://developer.android.com/reference/kotlin/java/lang/Object.html\" rel=\"nofollow noreferrer\">Object</a>. It's true you can cast it to a Map&lt;String, Object&gt;, as GowthamKK mentioned in his answer but there is by far a simpler solution that would get the value according to the corresponding type. So in code, it would be as simple as:</p>\n<pre><code>String password = singleSnapshot.child(&quot;password&quot;).getValue(String.class);\n</code></pre>\n<p>As you can see I have used now, <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot#getValue(java.lang.Class%3CT%3E)\" rel=\"nofollow noreferrer\"><code>&lt;T&gt; getValue(@NonNull Class&lt;T&gt; valueType</code>)</a> which:</p>\n<blockquote>\n<p>This method is used to marshall the data contained in this snapshot into a class of your choosing.</p>\n</blockquote>\n"}],"owner":{"account_id":24084994,"reputation":247,"user_id":18059131,"display_name":"prodohsamuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75113176,"answer_count":2,"score":0,"last_activity_date":1673703513,"creation_date":1673633773,"question_id":75113051,"body_markdown":"I have the following code:\r\n\r\n```\r\n    public void signOn(String id, String password){\r\n        usersReference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                boolean valid = false;\r\n                for(DataSnapshot singleSnapshot : dataSnapshot.getChildren()){\r\n                    String key = singleSnapshot.getKey();\r\n                    if (key.equals(id)) {\r\n                        singleSnapshot.getValue()//THIS LINE THIS LINE\r\n                        Intent myIntent = new Intent(WelcomePage.this, MainActivity.class);\r\n                        myIntent.putExtra(&quot;key&quot;, key);\r\n                        WelcomePage.this.startActivity(myIntent);\r\n                    }\r\n                }\r\n            }\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n            }\r\n        });\r\n\r\n    }\r\n```\r\n\r\nWhen I call ```singleSnapshot.getValue()```, I get ```{password=passwordExample, username=usernameExample}``` as those are the keys and their values in my Realtime Database. How can I access the password value and the username value?","title":"Get value from list of objects Firebase Android Studio","body":"<p>I have the following code:</p>\n<pre><code>    public void signOn(String id, String password){\n        usersReference.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                boolean valid = false;\n                for(DataSnapshot singleSnapshot : dataSnapshot.getChildren()){\n                    String key = singleSnapshot.getKey();\n                    if (key.equals(id)) {\n                        singleSnapshot.getValue()//THIS LINE THIS LINE\n                        Intent myIntent = new Intent(WelcomePage.this, MainActivity.class);\n                        myIntent.putExtra(&quot;key&quot;, key);\n                        WelcomePage.this.startActivity(myIntent);\n                    }\n                }\n            }\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n            }\n        });\n\n    }\n</code></pre>\n<p>When I call <code>singleSnapshot.getValue()</code>, I get <code>{password=passwordExample, username=usernameExample}</code> as those are the keys and their values in my Realtime Database. How can I access the password value and the username value?</p>\n"},{"tags":["java","math","javafx","collision-detection"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1673602218,"post_id":75106806,"comment_id":132540657,"body_markdown":"You should provide us with a bit more code here please: I would suggest that you create an [mre] where you don&#39;t actually draw on screen, but just do the calculations. Don&#39;t forget to add input and expected output. And please remove all commented out code (!) - you can of course leave the actual comments.","body":"You should provide us with a bit more code here please: I would suggest that you create an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> where you don&#39;t actually draw on screen, but just do the calculations. Don&#39;t forget to add input and expected output. And please remove all commented out code (!) - you can of course leave the actual comments."},{"owner":{"account_id":16995186,"reputation":105,"user_id":12293801,"display_name":"sushiwithoutsushi"},"score":0,"creation_date":1673604710,"post_id":75106806,"comment_id":132541449,"body_markdown":"@cyberbrain I&#39;ve updated the code with everything you need to execute the code and return some results.","body":"@cyberbrain I&#39;ve updated the code with everything you need to execute the code and return some results."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1673617380,"post_id":75106806,"comment_id":132545404,"body_markdown":"that&#39;s not a [mcve] .. please read the referenced help page and act accordingly","body":"that&#39;s not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> .. please read the referenced help page and act accordingly"},{"owner":{"account_id":16995186,"reputation":105,"user_id":12293801,"display_name":"sushiwithoutsushi"},"score":0,"creation_date":1673618293,"post_id":75106806,"comment_id":132545711,"body_markdown":"I added a single class file here: https://pastebin.com/wMjUh9pZ with everything needed to run the code and the examples","body":"I added a single class file here: <a href=\"https://pastebin.com/wMjUh9pZ\" rel=\"nofollow noreferrer\">pastebin.com/wMjUh9pZ</a> with everything needed to run the code and the examples"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1673643665,"post_id":75106806,"comment_id":132553415,"body_markdown":"So what do you want for a solution? Do you want somebody to go through and debug your code? Do you want a proper method for detecting a collision between a circle and a ray? What do you mean by &quot;return a solution&quot;. Your method is a void method.","body":"So what do you want for a solution? Do you want somebody to go through and debug your code? Do you want a proper method for detecting a collision between a circle and a ray? What do you mean by &quot;return a solution&quot;. Your method is a void method."}],"answers":[{"comments":[{"owner":{"account_id":16995186,"reputation":105,"user_id":12293801,"display_name":"sushiwithoutsushi"},"score":0,"creation_date":1673606670,"post_id":75108009,"comment_id":132542064,"body_markdown":"I need the intersection to calculate the angle of reflection and the new line after the collision.","body":"I need the intersection to calculate the angle of reflection and the new line after the collision."},{"owner":{"account_id":4671622,"reputation":1328,"user_id":3783275,"accept_rate":75,"display_name":"Westranger"},"score":0,"creation_date":1673807355,"post_id":75108009,"comment_id":132575086,"body_markdown":"@sushiwithoutsushi added some exmaple code","body":"@sushiwithoutsushi added some exmaple code"}],"tags":[],"owner":{"account_id":4671622,"reputation":1328,"user_id":3783275,"accept_rate":75,"display_name":"Westranger"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673607522,"creation_date":1673606046,"answer_id":75108009,"question_id":75106806,"body_markdown":"If you only want to know if the line intersects if a given circle, create a second line which originates at the center of the given circle and the direction is the direction of your initial line rotated by 90 degrees. Then compute the intersection of the two lines. If then the distance between the intersection point and the center of the circle is smaller then the radius, both intersect.\r\n\r\nA while ago I wrote a small Geometry lib, I striped out the sections which are relevant for you, here is my code:\r\n\r\nLine class\r\n\r\n\r\n    public class Line {\r\n        final Vector2D positionVector;\r\n        final Vector2D directionVector;\r\n    \r\n        public Line(final Vector2D positionVector, final Vector2D directionVector) {\r\n            this.positionVector = positionVector;\r\n            this.directionVector = directionVector;\r\n        }\r\n    \r\n        public OptionalDouble computeIntersection(final Line line) {\r\n            final double numerator = line.getPositionVector().subtract(this.positionVector).cross(this.directionVector);\r\n            final double denominator = this.directionVector.cross(line.directionVector);\r\n    \r\n            if (Math.abs(numerator) &lt; 1e-10 &amp;&amp; Math.abs(denominator) &lt; 1e-10) {\r\n                // collinear\r\n                return OptionalDouble.of(Double.POSITIVE_INFINITY);\r\n            } else if (Math.abs(denominator) &lt; 1e-10) {\r\n                // parallel\r\n                return OptionalDouble.empty(); // Lines are parallel.\r\n            }\r\n    \r\n            final double t = line.getPositionVector().subtract(this.positionVector).cross(line.directionVector) / denominator;\r\n            return OptionalDouble.of(t);\r\n        }\r\n    \r\n        public Vector2D getPositionVector() {\r\n            return positionVector;\r\n        }\r\n    \r\n        public Vector2D getDirectionVector() {\r\n            return directionVector;\r\n        }\r\n    \r\n        public Point2D getClosestPointOnLine(final Point2D point) {\r\n            final Line line = new Line(new Vector2D(point.getX(), point.getY()), this.directionVector.turn90DegreeClockwise());\r\n            final OptionalDouble intersection = this.computeIntersection(line);\r\n            final Vector2D result = this.positionVector.add(this.directionVector.lerp(intersection.getAsDouble()));\r\n            return new Point2D(result.getX(), result.getY());\r\n        }\r\n    }\r\n\r\n\r\n\r\nintersection function\r\n\r\n    public static PointResult intersection(final Line l1, final Circle c1) {\r\n        final Point2D intersection = l1.getClosestPointOnLine(c1.getCenter());\r\n        final double dist = intersection.distance(c1.getCenter());\r\n        if (Math.abs(dist - c1.getRadius()) &lt; 1e-10) {\r\n            final List&lt;Point2D&gt; result = new LinkedList&lt;&gt;();\r\n            result.add(intersection);\r\n            return new PointResult(Collections.unmodifiableList(result));\r\n        } else if (dist &lt; c1.getRadius()) {\r\n            // we have two points\r\n            final double adjacentLeg = Math.sqrt(c1.getRadius() * c1.getRadius() - dist * dist);\r\n            final Point2D pt1 = intersection.pointAt(l1.getDirectionVector().angle(), adjacentLeg);\r\n            final Point2D pt2 = intersection.pointAt(l1.getDirectionVector().angle() + Math.PI, adjacentLeg);\r\n    \r\n            final List&lt;Point2D&gt; result = new LinkedList&lt;&gt;();\r\n            result.add(pt1);\r\n            result.add(pt2);\r\n            return new PointResult(Collections.unmodifiableList(result));\r\n        }\r\n        return new PointResult();\r\n    }\r\n\r\nTestCase\r\n\r\n    @Test\r\n    void testIntersectionLineCircleTwoPoints() {\r\n        final Point2D ptCircleCenter = new Point2D(2.0, 5.0);\r\n        final Point2D ptLineCircleIntersection = new Point2D(5.0, 2.0);\r\n\r\n        final Point2D pt1 = new Point2D(3.0, 0.0);\r\n        final Point2D pt2 = new Point2D(7.0, 4.0);\r\n\r\n        final double a = Math.sqrt((2.0 * 2.0) + (2.0 * 2.0));\r\n        final double b = ptCircleCenter.diff(ptLineCircleIntersection).norm();\r\n        final double radius = Math.sqrt((a * a) + (b * b));\r\n\r\n        final Line l1 = new Line(pt1, pt2);\r\n        final Circle circle = new Circle(ptCircleCenter, radius);\r\n\r\n        PointResult intersection = GeometryOperation.intersection(l1, circle);\r\n\r\n        assertTrue(intersection.getPoints().isPresent());\r\n        assertEquals(2, intersection.getPoints().get().size());\r\n\r\n        assertEquals(7.0, intersection.getPoints().get().get(0).getX(), 1e-10);\r\n        assertEquals(4.0, intersection.getPoints().get().get(0).getY(), 1e-10);\r\n\r\n        assertEquals(3.0, intersection.getPoints().get().get(1).getX(), 1e-10);\r\n        assertEquals(0.0, intersection.getPoints().get().get(1).getY(), 1e-10);\r\n    }\r\n\r\nI did not add the `Circle`, `Vector2D` and `Point2D` class because they are trivial. And the class `PointResult` is just a list.\r\n\r\n","title":"Unable to find solution of a ray colliding a list of circles","body":"<p>If you only want to know if the line intersects if a given circle, create a second line which originates at the center of the given circle and the direction is the direction of your initial line rotated by 90 degrees. Then compute the intersection of the two lines. If then the distance between the intersection point and the center of the circle is smaller then the radius, both intersect.</p>\n<p>A while ago I wrote a small Geometry lib, I striped out the sections which are relevant for you, here is my code:</p>\n<p>Line class</p>\n<pre><code>public class Line {\n    final Vector2D positionVector;\n    final Vector2D directionVector;\n\n    public Line(final Vector2D positionVector, final Vector2D directionVector) {\n        this.positionVector = positionVector;\n        this.directionVector = directionVector;\n    }\n\n    public OptionalDouble computeIntersection(final Line line) {\n        final double numerator = line.getPositionVector().subtract(this.positionVector).cross(this.directionVector);\n        final double denominator = this.directionVector.cross(line.directionVector);\n\n        if (Math.abs(numerator) &lt; 1e-10 &amp;&amp; Math.abs(denominator) &lt; 1e-10) {\n            // collinear\n            return OptionalDouble.of(Double.POSITIVE_INFINITY);\n        } else if (Math.abs(denominator) &lt; 1e-10) {\n            // parallel\n            return OptionalDouble.empty(); // Lines are parallel.\n        }\n\n        final double t = line.getPositionVector().subtract(this.positionVector).cross(line.directionVector) / denominator;\n        return OptionalDouble.of(t);\n    }\n\n    public Vector2D getPositionVector() {\n        return positionVector;\n    }\n\n    public Vector2D getDirectionVector() {\n        return directionVector;\n    }\n\n    public Point2D getClosestPointOnLine(final Point2D point) {\n        final Line line = new Line(new Vector2D(point.getX(), point.getY()), this.directionVector.turn90DegreeClockwise());\n        final OptionalDouble intersection = this.computeIntersection(line);\n        final Vector2D result = this.positionVector.add(this.directionVector.lerp(intersection.getAsDouble()));\n        return new Point2D(result.getX(), result.getY());\n    }\n}\n</code></pre>\n<p>intersection function</p>\n<pre><code>public static PointResult intersection(final Line l1, final Circle c1) {\n    final Point2D intersection = l1.getClosestPointOnLine(c1.getCenter());\n    final double dist = intersection.distance(c1.getCenter());\n    if (Math.abs(dist - c1.getRadius()) &lt; 1e-10) {\n        final List&lt;Point2D&gt; result = new LinkedList&lt;&gt;();\n        result.add(intersection);\n        return new PointResult(Collections.unmodifiableList(result));\n    } else if (dist &lt; c1.getRadius()) {\n        // we have two points\n        final double adjacentLeg = Math.sqrt(c1.getRadius() * c1.getRadius() - dist * dist);\n        final Point2D pt1 = intersection.pointAt(l1.getDirectionVector().angle(), adjacentLeg);\n        final Point2D pt2 = intersection.pointAt(l1.getDirectionVector().angle() + Math.PI, adjacentLeg);\n\n        final List&lt;Point2D&gt; result = new LinkedList&lt;&gt;();\n        result.add(pt1);\n        result.add(pt2);\n        return new PointResult(Collections.unmodifiableList(result));\n    }\n    return new PointResult();\n}\n</code></pre>\n<p>TestCase</p>\n<pre><code>@Test\nvoid testIntersectionLineCircleTwoPoints() {\n    final Point2D ptCircleCenter = new Point2D(2.0, 5.0);\n    final Point2D ptLineCircleIntersection = new Point2D(5.0, 2.0);\n\n    final Point2D pt1 = new Point2D(3.0, 0.0);\n    final Point2D pt2 = new Point2D(7.0, 4.0);\n\n    final double a = Math.sqrt((2.0 * 2.0) + (2.0 * 2.0));\n    final double b = ptCircleCenter.diff(ptLineCircleIntersection).norm();\n    final double radius = Math.sqrt((a * a) + (b * b));\n\n    final Line l1 = new Line(pt1, pt2);\n    final Circle circle = new Circle(ptCircleCenter, radius);\n\n    PointResult intersection = GeometryOperation.intersection(l1, circle);\n\n    assertTrue(intersection.getPoints().isPresent());\n    assertEquals(2, intersection.getPoints().get().size());\n\n    assertEquals(7.0, intersection.getPoints().get().get(0).getX(), 1e-10);\n    assertEquals(4.0, intersection.getPoints().get().get(0).getY(), 1e-10);\n\n    assertEquals(3.0, intersection.getPoints().get().get(1).getX(), 1e-10);\n    assertEquals(0.0, intersection.getPoints().get().get(1).getY(), 1e-10);\n}\n</code></pre>\n<p>I did not add the <code>Circle</code>, <code>Vector2D</code> and <code>Point2D</code> class because they are trivial. And the class <code>PointResult</code> is just a list.</p>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673703126,"creation_date":1673609004,"answer_id":75108545,"question_id":75106806,"body_markdown":"I think you should create a class that represents an intersection by a ray. \r\n\r\n    class Intersection{\r\n        double distance;\r\n        Point loc;\r\n        double normal;\r\n    }\r\n\r\nThat way, distance is along the ray and normal is the normal of the object intersected.\r\n\r\nThen I would have a method for finding the intersetion of a circle and a point.\r\n\r\n    List&lt;Intersection&gt; lineAndCircle( Point org, double angle, Point center, double radius){...}\r\n\r\nYou seem to have a similar method but you&#39;re doing more work in it.\r\n\r\nThen you also want to check the edge of the screen.\r\n\r\n    Intersection lineAndBoundary( Point org, double angle){ ... }\r\n\r\nYou have a very similar method, but you seem to be doing a lot more work in the method. . This way you are testing separate methods. Then your algorithm works as.\r\n\r\n 1 go through circles and find intersections.  \r\n 2 get the intersection with the boundary.  \r\n 3 find the closest intersection ( the smallest distance greater than 0 )  \r\n\r\nDoing it this way makes it a bit more extensible. First our ray is re-used a lot. Lets make a class.\r\n\r\n    class Ray{\r\n        Point origin;\r\n        double angle;\r\n    }\r\n\r\nThen we collide a ray with multiple objects.\r\n\r\n    interface Interceptable{\r\n        List&lt;Intersection&gt; intercepts(Ray r);\r\n    }\r\n\r\nThen we can use different classes.\r\n\r\n    class Circle implements Interceptable{\r\n        Point pos;\r\n        double radius;\r\n        @Override\r\n        List&lt;Intersection&gt; collides(Ray r){\r\n            ...\r\n        }\r\n    }\r\n\r\nNow you can right collides and testable.\r\n\r\n    Circle a = new Circle( new Point( 40, 40 ), 5 );\r\n\r\n    List&lt;Intersection&gt; yes = a.collides( new Ray( new Point(0, 0), 3.14/4 ) );\r\n    List&lt;Intersection&gt; no = a.collides( new Ray( new Point(0, 0), 0) ) );\r\n\r\nThen you can narrow your example down to. &quot;How do I write a collide method?&quot; or &quot;Why doesn&#39;t my collide method work for this ray/circle pair? I expect it to hit at two points, but it misses.&quot; etc. \r\n\r\nHere is a complete runnable example that creates a swing window. I kinda enjoy making toy programs like this.\r\n\r\nNote that I used an interface for the Intersectable. So now it is circles, but it could be anything that returns a list of `Intersection`\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.Graphics;\r\nimport java.awt.Dimension;\r\nimport java.awt.Color;\r\nimport java.awt.event.*;\r\nimport java.util.*;\r\n\r\npublic class RayAndCircle{\r\n        \r\n    public static void main(String[] args){\r\n        List&lt;Intersectable&gt; circles = new ArrayList&lt;&gt;();\r\n        for(int i = 0; i&lt;250; i++){\r\n            double r = Math.random()*50 + 50;\r\n            double x = 2048*Math.random();\r\n            double y = 2048*Math.random();\r\n            circles.add( new Circle( r, new double[]{x,y}));\r\n        }\r\n        List&lt;LineSegment&gt; segments = new ArrayList&lt;&gt;();\r\n        \r\n        JFrame frame = new JFrame(&quot;Ray caster&quot;);\r\n        JPanel panel = new JPanel(){\r\n            @Override\r\n            public Dimension getPreferredSize(){\r\n                return new Dimension(2048, 2048);\r\n            }\r\n            @Override\r\n            public void paintComponent( Graphics g){\r\n                g.setColor(Color.RED);\r\n                for( Intersectable c: circles ){\r\n                    c.draw(g);\r\n                }\r\n                g.setColor(Color.BLACK);\r\n                for( LineSegment segment: segments){\r\n                    g.drawLine( (int) segment.a[0], (int) segment.a[1],(int)segment.b[0], (int)segment.b[1]);\r\n                }\r\n            }\r\n        };\r\n        \r\n        panel.addMouseListener( new MouseAdapter(){\r\n            @Override\r\n            public void mouseClicked( MouseEvent evt ){\r\n                double x = evt.getPoint().getX();\r\n                double y = evt.getPoint().getY();\r\n                double theta = Math.random() * Math.PI * 2;\r\n                double dx = Math.cos( theta );\r\n                double dy = Math.sin( theta );\r\n                Ray ray = new Ray( new double[] {x, y}, new double[]{ dx, dy } );\r\n                int count = 500;\r\n                Intersectable last = null;\r\n                while( ray != null &amp;&amp; count &gt; 0 ){\r\n                    Intersection hit = null;\r\n                    Intersectable next = null;\r\n                    for(Intersectable c: circles){\r\n                        if(c == last){\r\n                            continue;\r\n                        }\r\n                        List&lt;Intersection&gt; intersections = c.intersects(ray);\r\n                        for(Intersection i : intersections){\r\n                            if( hit == null ){\r\n                                hit = i;\r\n                                next = c;\r\n                            } else{\r\n                                if( hit.s &gt; i.s ){\r\n                                    hit = i;\r\n                                    next = c;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    if(hit != null){\r\n                        last = next;\r\n                        segments.add( new LineSegment( ray.origin, new double[]{ hit.pos[0], hit.pos[1] } ) );\r\n                        count--;\r\n                        //reflected portion of ray.\r\n                        double dot = hit.normal[0]*ray.direction[0] + hit.normal[1]*ray.direction[1];\r\n                        double rx = ray.direction[0] - 2 * hit.normal[0]*dot;\r\n                        double ry = ray.direction[1] - 2 * hit.normal[1]*dot;\r\n                        \r\n                        double z = Math.sqrt(rx*rx + ry*ry);\r\n                        ray = new Ray(hit.pos, new double[] { rx/z, ry/z});\r\n                    } else{\r\n                        ray = null;\r\n                    }\r\n                }\r\n                panel.repaint();    \r\n            }\r\n        });\r\n        frame.setContentPane(panel);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    }\r\n}\r\n\r\nclass Ray{\r\n    double[] origin; double[] direction;\r\n    public Ray( double[] origin, double[] direction){\r\n        this.origin = new double[]{origin[0], origin[1]};\r\n        this.direction = new double[]{direction[0], direction[1]};\r\n    }\r\n}\r\n\r\nclass Intersection{\r\n    double s;\r\n    double[] pos;\r\n    double[] normal;\r\n    Circle b;\r\n    public Intersection(double s, double[] pos, double[] normal){\r\n        this.s = s;\r\n        this.pos = pos;\r\n        setNormal(normal);\r\n    }\r\n    public void setNormal(double[] normal){\r\n        double m = Math.sqrt(normal[0]*normal[0] + normal[1]*normal[1]);\r\n        if( Double.isNaN(m) || m == 0) throw new RuntimeException(&quot;Invalid normal! Magnitude of&quot; + m);\r\n        this.normal = new double[] { normal[0]/m , normal[1]/m };\r\n    }\r\n}\r\n\r\ninterface Intersectable{\r\n    List&lt;Intersection&gt; intersects(Ray ray);\r\n    void draw(Graphics g);\r\n}\r\n\r\nclass Circle implements Intersectable{\r\n    double[] origin;\r\n    double radius;\r\n    public Circle( double radius, double[] origin){\r\n        this.radius = radius;\r\n        this.origin = new double[]{origin[0], origin[1]};\r\n    }\r\n    Intersection intersectionAt(Ray ray, double s){\r\n        //intersection.\r\n        double locx = ray.origin[0] + s*ray.direction[0];\r\n        double locy = ray.origin[1] + s*ray.direction[1];\r\n        double nx = (locx - origin[0])/radius;\r\n        double ny = (locy - origin[1])/radius;\r\n        return new Intersection( s, new double[]{ locx, locy }, new double[]{nx, ny} );\r\n    }\r\n    public List&lt;Intersection&gt; intersects(Ray ray){\r\n        double rx = origin[0] - ray.origin[0];\r\n        double ry = origin[1] - ray.origin[1];\r\n        double m2 = rx*rx + ry*ry;\r\n        double m = Math.sqrt(m2);\r\n        //position along ray that is closest to circles origin.\r\n        double s = rx*ray.direction[0] + ry*ray.direction[1]; \r\n        //closest distance to circle.\r\n        double approach = Math.sqrt(m2 - s*s);\r\n        List&lt;Intersection&gt; result = new ArrayList&lt;&gt;();\r\n        \r\n        if( approach &lt; radius ){\r\n            //two intersections at points on circle.  \r\n            //radius is hypotenuse and approach is one of the lengths.\r\n            double l = Math.sqrt( radius*radius - approach*approach);\r\n            double s1 = s - l;\r\n            if(s1 &gt; 0){\r\n                result.add( intersectionAt(ray, s1) );\r\n            }\r\n            double s2 = s + l;\r\n            if(s2 &gt; 0){\r\n                //intersection!\r\n                result.add(intersectionAt(ray, s2) );\r\n            }\r\n        } else if(approach == radius){\r\n            //one intersection tangent.\r\n            if( s &gt; 0 ){\r\n                result.add( intersectionAt(ray, s) );\r\n            }\r\n        } else{\r\n            //miss.\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    public void draw(Graphics g){\r\n        g.fillOval(\r\n            (int)(origin[0] - radius), \r\n            (int)(origin[1] - radius), \r\n            (int)radius*2, \r\n            (int)radius*2\r\n        );\r\n    }\r\n}\r\nclass LineSegment{\r\n    double[] a, b;\r\n    public LineSegment( double[] a, double[] b){\r\n        this.a = new double[]{a[0], a[1]};\r\n        this.b = new double[]{b[0], b[1]};\r\n    }\r\n}\r\n```\r\n\r\nYou&#39;ll probably be most interested in the intersects method of the Circle class, and the small chunk of code burried in the `mouseClicked` method that calculates the reflected ray.","title":"Unable to find solution of a ray colliding a list of circles","body":"<p>I think you should create a class that represents an intersection by a ray.</p>\n<pre><code>class Intersection{\n    double distance;\n    Point loc;\n    double normal;\n}\n</code></pre>\n<p>That way, distance is along the ray and normal is the normal of the object intersected.</p>\n<p>Then I would have a method for finding the intersetion of a circle and a point.</p>\n<pre><code>List&lt;Intersection&gt; lineAndCircle( Point org, double angle, Point center, double radius){...}\n</code></pre>\n<p>You seem to have a similar method but you're doing more work in it.</p>\n<p>Then you also want to check the edge of the screen.</p>\n<pre><code>Intersection lineAndBoundary( Point org, double angle){ ... }\n</code></pre>\n<p>You have a very similar method, but you seem to be doing a lot more work in the method. . This way you are testing separate methods. Then your algorithm works as.</p>\n<p>1 go through circles and find intersections.<br />\n2 get the intersection with the boundary.<br />\n3 find the closest intersection ( the smallest distance greater than 0 )</p>\n<p>Doing it this way makes it a bit more extensible. First our ray is re-used a lot. Lets make a class.</p>\n<pre><code>class Ray{\n    Point origin;\n    double angle;\n}\n</code></pre>\n<p>Then we collide a ray with multiple objects.</p>\n<pre><code>interface Interceptable{\n    List&lt;Intersection&gt; intercepts(Ray r);\n}\n</code></pre>\n<p>Then we can use different classes.</p>\n<pre><code>class Circle implements Interceptable{\n    Point pos;\n    double radius;\n    @Override\n    List&lt;Intersection&gt; collides(Ray r){\n        ...\n    }\n}\n</code></pre>\n<p>Now you can right collides and testable.</p>\n<pre><code>Circle a = new Circle( new Point( 40, 40 ), 5 );\n\nList&lt;Intersection&gt; yes = a.collides( new Ray( new Point(0, 0), 3.14/4 ) );\nList&lt;Intersection&gt; no = a.collides( new Ray( new Point(0, 0), 0) ) );\n</code></pre>\n<p>Then you can narrow your example down to. &quot;How do I write a collide method?&quot; or &quot;Why doesn't my collide method work for this ray/circle pair? I expect it to hit at two points, but it misses.&quot; etc.</p>\n<p>Here is a complete runnable example that creates a swing window. I kinda enjoy making toy programs like this.</p>\n<p>Note that I used an interface for the Intersectable. So now it is circles, but it could be anything that returns a list of <code>Intersection</code></p>\n<pre><code>import javax.swing.*;\nimport java.awt.Graphics;\nimport java.awt.Dimension;\nimport java.awt.Color;\nimport java.awt.event.*;\nimport java.util.*;\n\npublic class RayAndCircle{\n        \n    public static void main(String[] args){\n        List&lt;Intersectable&gt; circles = new ArrayList&lt;&gt;();\n        for(int i = 0; i&lt;250; i++){\n            double r = Math.random()*50 + 50;\n            double x = 2048*Math.random();\n            double y = 2048*Math.random();\n            circles.add( new Circle( r, new double[]{x,y}));\n        }\n        List&lt;LineSegment&gt; segments = new ArrayList&lt;&gt;();\n        \n        JFrame frame = new JFrame(&quot;Ray caster&quot;);\n        JPanel panel = new JPanel(){\n            @Override\n            public Dimension getPreferredSize(){\n                return new Dimension(2048, 2048);\n            }\n            @Override\n            public void paintComponent( Graphics g){\n                g.setColor(Color.RED);\n                for( Intersectable c: circles ){\n                    c.draw(g);\n                }\n                g.setColor(Color.BLACK);\n                for( LineSegment segment: segments){\n                    g.drawLine( (int) segment.a[0], (int) segment.a[1],(int)segment.b[0], (int)segment.b[1]);\n                }\n            }\n        };\n        \n        panel.addMouseListener( new MouseAdapter(){\n            @Override\n            public void mouseClicked( MouseEvent evt ){\n                double x = evt.getPoint().getX();\n                double y = evt.getPoint().getY();\n                double theta = Math.random() * Math.PI * 2;\n                double dx = Math.cos( theta );\n                double dy = Math.sin( theta );\n                Ray ray = new Ray( new double[] {x, y}, new double[]{ dx, dy } );\n                int count = 500;\n                Intersectable last = null;\n                while( ray != null &amp;&amp; count &gt; 0 ){\n                    Intersection hit = null;\n                    Intersectable next = null;\n                    for(Intersectable c: circles){\n                        if(c == last){\n                            continue;\n                        }\n                        List&lt;Intersection&gt; intersections = c.intersects(ray);\n                        for(Intersection i : intersections){\n                            if( hit == null ){\n                                hit = i;\n                                next = c;\n                            } else{\n                                if( hit.s &gt; i.s ){\n                                    hit = i;\n                                    next = c;\n                                }\n                            }\n                        }\n                    }\n                    if(hit != null){\n                        last = next;\n                        segments.add( new LineSegment( ray.origin, new double[]{ hit.pos[0], hit.pos[1] } ) );\n                        count--;\n                        //reflected portion of ray.\n                        double dot = hit.normal[0]*ray.direction[0] + hit.normal[1]*ray.direction[1];\n                        double rx = ray.direction[0] - 2 * hit.normal[0]*dot;\n                        double ry = ray.direction[1] - 2 * hit.normal[1]*dot;\n                        \n                        double z = Math.sqrt(rx*rx + ry*ry);\n                        ray = new Ray(hit.pos, new double[] { rx/z, ry/z});\n                    } else{\n                        ray = null;\n                    }\n                }\n                panel.repaint();    \n            }\n        });\n        frame.setContentPane(panel);\n        frame.pack();\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n}\n\nclass Ray{\n    double[] origin; double[] direction;\n    public Ray( double[] origin, double[] direction){\n        this.origin = new double[]{origin[0], origin[1]};\n        this.direction = new double[]{direction[0], direction[1]};\n    }\n}\n\nclass Intersection{\n    double s;\n    double[] pos;\n    double[] normal;\n    Circle b;\n    public Intersection(double s, double[] pos, double[] normal){\n        this.s = s;\n        this.pos = pos;\n        setNormal(normal);\n    }\n    public void setNormal(double[] normal){\n        double m = Math.sqrt(normal[0]*normal[0] + normal[1]*normal[1]);\n        if( Double.isNaN(m) || m == 0) throw new RuntimeException(&quot;Invalid normal! Magnitude of&quot; + m);\n        this.normal = new double[] { normal[0]/m , normal[1]/m };\n    }\n}\n\ninterface Intersectable{\n    List&lt;Intersection&gt; intersects(Ray ray);\n    void draw(Graphics g);\n}\n\nclass Circle implements Intersectable{\n    double[] origin;\n    double radius;\n    public Circle( double radius, double[] origin){\n        this.radius = radius;\n        this.origin = new double[]{origin[0], origin[1]};\n    }\n    Intersection intersectionAt(Ray ray, double s){\n        //intersection.\n        double locx = ray.origin[0] + s*ray.direction[0];\n        double locy = ray.origin[1] + s*ray.direction[1];\n        double nx = (locx - origin[0])/radius;\n        double ny = (locy - origin[1])/radius;\n        return new Intersection( s, new double[]{ locx, locy }, new double[]{nx, ny} );\n    }\n    public List&lt;Intersection&gt; intersects(Ray ray){\n        double rx = origin[0] - ray.origin[0];\n        double ry = origin[1] - ray.origin[1];\n        double m2 = rx*rx + ry*ry;\n        double m = Math.sqrt(m2);\n        //position along ray that is closest to circles origin.\n        double s = rx*ray.direction[0] + ry*ray.direction[1]; \n        //closest distance to circle.\n        double approach = Math.sqrt(m2 - s*s);\n        List&lt;Intersection&gt; result = new ArrayList&lt;&gt;();\n        \n        if( approach &lt; radius ){\n            //two intersections at points on circle.  \n            //radius is hypotenuse and approach is one of the lengths.\n            double l = Math.sqrt( radius*radius - approach*approach);\n            double s1 = s - l;\n            if(s1 &gt; 0){\n                result.add( intersectionAt(ray, s1) );\n            }\n            double s2 = s + l;\n            if(s2 &gt; 0){\n                //intersection!\n                result.add(intersectionAt(ray, s2) );\n            }\n        } else if(approach == radius){\n            //one intersection tangent.\n            if( s &gt; 0 ){\n                result.add( intersectionAt(ray, s) );\n            }\n        } else{\n            //miss.\n        }\n        return result;\n    }\n    \n    public void draw(Graphics g){\n        g.fillOval(\n            (int)(origin[0] - radius), \n            (int)(origin[1] - radius), \n            (int)radius*2, \n            (int)radius*2\n        );\n    }\n}\nclass LineSegment{\n    double[] a, b;\n    public LineSegment( double[] a, double[] b){\n        this.a = new double[]{a[0], a[1]};\n        this.b = new double[]{b[0], b[1]};\n    }\n}\n</code></pre>\n<p>You'll probably be most interested in the intersects method of the Circle class, and the small chunk of code burried in the <code>mouseClicked</code> method that calculates the reflected ray.</p>\n"}],"owner":{"account_id":16995186,"reputation":105,"user_id":12293801,"display_name":"sushiwithoutsushi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1673703126,"creation_date":1673599699,"question_id":75106806,"body_markdown":"I am coding a method that calculates the intersection of a line and a circle as a first step to write some kind of ray casting demo. In case an intersection is calculated it gets the shortest distance to the two points of intersection that will be the collision point, then it repeats the process where the new line originates from the collision point. \r\n\r\nI was motivated by this video [of a laser hitting different circles.][1]\r\n\r\nThe method receives the angle of the line, the point where it originates, the size of the window, the radius of the circles, the array of centers of the circles and the GraphicsContext object from JavaFX. \r\n\r\nThe method has a couple of booleans to determine whether a collision has been made or not, and an ArrayList to store the collisions that will be later drawn on a JavaFX Canvas.\r\n\r\nInside a while loop the equation of the line is defined with the form y = m*x + b. Then checks which of the circles has a distance between the circle center and the line smaller than the radius of the line, this is calculated with the method explained here: [math.stackexchange.com][2]. \r\n\r\nIn case the distance to the center is smaller than the radius a collision occurs against that circle. As far as I know to find the intersection between a line and a circle you need to solve the equation system: y = m\\*x + b, (x-x1)^2 + (y-y1)^2 = r^2, that I solved via substitution. This results in a second degree polinomial equation that has a real solution if: p1\\*p1 &gt;= 4\\*p0\\*p2.\r\n\r\nThe solution with the shortest distance to the origin point is the one that the line hits first and is the solution to our problem. A new angle is calculated with the center of the circle, the collision point and the origin point. With this a new line is defined and the loop repeats until no collision against the circles is calculated, situation where the collision against the borders of the window is calculated.\r\n\r\nAt the end a for loop draws all of the lines defined as couples of points inside collisionList.\r\n\r\nThis is the code, I&#39;ve tried to comment it as best as I could:\r\n\r\n```\r\n\tprivate void extendPoint(double angle, Point origin, double x, double y, double radius, ArrayList&lt;Point&gt; pointList) {\r\n\t\t\r\n\t\tdouble newAngle = angle; //Angle that defines the direction of the line\r\n\t\t\r\n\t\t//This is used if the line does not hit a circle\r\n\t    double angle11 = Math.atan2(origin.getY(), origin.getX());\r\n\t    double angle_11 = Math.atan2(origin.getY(), -origin.getX());\r\n\t    double angle_1_1 = angle11 + Math.PI;\r\n\t    double angle1_1 = angle_11 + Math.PI;\r\n\r\n\t\tboolean noCollision = true; //Will be true if the line does not hit a circle\r\n\t\tboolean repeat = true; //If no collision has been made the while loop stops with this\r\n\t\tPoint currentPoint = Point.copy(origin); // (x0, y0)\r\n\t\tPoint collision = new Point(-1,-1); //Stores the collision point\r\n\t\tPoint newDirection = new Point(-1,-1); //Stores the new direction after a collision, returns(magnitud, angle) of a vector\r\n\t\tArrayList &lt;Point&gt; collisionList = new ArrayList&lt;&gt;(); //ArrayList of collision points that will be drawn later\r\n\t\tcollisionList.add(origin); //The origin point is added as a collision for representation purposes\r\n\t\t\r\n\t\twhile(repeat == true) {\r\n\t\t\t//Line equation that passes through a point with an angle\r\n\t\t\t//y = a*x - a*x0 + y0; -&gt; y = m*x + b;\r\n\t\t\tdouble m = Math.tan(-newAngle);\r\n\t\t\tdouble a = m;\r\n\t\t\tdouble b = -m*currentPoint.getX() + (currentPoint.getY());\r\n\r\n\t\t\tfor(int i = 0; i &lt; pointList.size(); i++) {\r\n\t\t\t\tPoint gridPoint = pointList.get(i); //(x1, y1)\r\n\t\t\t\t\r\n\t\t\t\t//From: https://math.stackexchange.com/questions/2552687/distance-between-line-and-point\r\n\t\t\t\t//Given a line defined as A*x + B*y + C = 0 \r\n\t\t\t\t//x*(y1-y0)+y*(x1-x0)+(-y0*(x1-x0)-x0*(y1-y0)\r\n\t\t\t\tdouble A = gridPoint.getY()-currentPoint.getY();\r\n\t\t\t\tdouble B = gridPoint.getX()-currentPoint.getX(); \r\n\t\t\t\tdouble C = -currentPoint.getY()*B + currentPoint.getX()*A;\r\n//\t\t\t\tdouble d_cp_gp = Math.abs(m*gridPoint.getX()-b*(gridPoint.getY()))/(Math.sqrt(m*m + 1));\r\n\t\t\t\tdouble d_cp_gp = Math.abs(A + B + C)/Math.sqrt(A*A + B*B);\r\n\r\n\t\t\t\tif(d_cp_gp &lt; radius) {\r\n\t\t\t\t\tSystem.out.println(&quot;radio &quot; + d_cp_gp);\r\n\t\t\t\t\t//The intersection between a line and a circunference:\r\n\t\t\t\t\t//Circunference: (x-x1)^2 + (y-y1)^2 = r^2\r\n\t\t\t\t\t//Line: y = tan(alpha)*(x-x0)+y0 -&gt; y = a*x + b; a = tan(alfa), b = -tan(alfa)*x0 + y0\r\n\t\t\t\t\t//Substituting the line equation in the circunference equation:\r\n\t\t\t\t\t//x^2*(1+a^2) + x*(-2x1 + 2*a*b) + 2*a*b + x1^2+b^2-r^2 = 0\r\n\t\t\t\t\tdouble p2 = 1 + a*a;\r\n\t\t\t\t\tdouble p1 = -2*gridPoint.getX() + 2*a*b;\r\n\t\t\t\t\tdouble p0 = gridPoint.getX()*gridPoint.getX() + b*b - radius*radius;\r\n\t\t\t\t\tdouble p0_ = 4*p0*p2;\r\n\t\t\t\t\tSystem.out.println(p1*p1 + &quot; &quot; + p0_);\r\n\t\t\t\t\t//Check if the second order equation has solutions\r\n\t\t\t\t\tif(p1*p1 &gt;= p0_) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;IT HAS SOLUTION&quot;);\r\n\t\t\t\t\t\t//Solution\r\n\t\t\t\t\t\tdouble root = Math.sqrt(p1*p1 - p0_);\r\n\t\t\t\t\t\tdouble sol1x = (-p1 + root)/(2*p2);\r\n\t\t\t\t\t\tdouble sol2x = (-p1 - root)/(2*p2);\r\n\t\t\t\t\t\tdouble sol1y = a*sol1x - a*currentPoint.getX() + currentPoint.getY();\r\n\t\t\t\t\t\tdouble sol2y = a*sol1x - a*currentPoint.getX() + currentPoint.getY();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//The line will intersect twice with the circle, we want the solution\r\n\t\t\t\t\t\t//with the shortest distance to currentPoint (x0,y0)\r\n\t\t\t\t\t\tdouble distSol1 = Math.sqrt(Math.pow(currentPoint.getX()- sol1x, 2) + \r\n\t\t\t\t\t\t\t\tMath.pow(currentPoint.getY() - sol1y, 2));\r\n\t\t\t\t\t\tdouble distSol2 = Math.sqrt(Math.pow(currentPoint.getX()- sol2x, 2) + \r\n\t\t\t\t\t\t\t\tMath.pow(currentPoint.getY() - sol2y, 2));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//The collision point is the point that the line hits first\r\n\t\t\t\t\t\tif(distSol1 &lt; distSol2) {\r\n\t\t\t\t\t\t\tcollision.setXY(sol1x, sol1y);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tcollision.setXY(sol2x, sol2y);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t//newAngle returns a vector with the form (magnitude, angle)\r\n\t\t\t\t\t\tnewDirection = newAngle(currentPoint, gridPoint, collision, radius);\r\n\t\t\t\t\t\tcurrentPoint = collision;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//The new line after the collision is defined here\r\n\t\t\t\t\t\tm = Math.tan(-newDirection.getY());\r\n\t\t\t\t\t\ta = m;\r\n\t\t\t\t\t\tb = -m*collision.getX() + (collision.getY());\r\n\t\t\t\t\t\tcollisionList.add(collision);\r\n\t\t\t\t\t\tSystem.out.println(&quot;A collision has been calculated successfully: &quot; + collision.toString());\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//If a collision\r\n\t\t\t\t\t\tnoCollision= false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//If no collisions have been detected at the end of the for loop exit the while loop\r\n\t\t\t\tif(i == pointList.size() - 1 &amp;&amp; noCollision == true) {\r\n\t\t\t\t\trepeat = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t//If no collision has been calculated with the circles this\r\n\t\t\t//calculates the collision with the limits of the window\r\n\t\t\tif(noCollision == true &amp;&amp; repeat == false) {\r\n\r\n\t\t        if(angle&lt;angle11 || angle &gt; angle1_1) {\r\n\t\t        \tcollision.setXY(x, m*x + b);\r\n\t\t        }\r\n\t\t        else if(angle &gt; angle11 &amp;&amp; angle &lt; angle_11){\r\n\t\t        \tcollision.setXY((0 - b)/m, 0);\r\n\t\t        }\r\n\t\t        else if(angle &gt; angle_11 &amp;&amp; angle &lt; angle_1_1) {\r\n\t\t        \tcollision.setXY(0, m*0 + b);\r\n\t\t        }\r\n\t\t        else if(angle&gt; angle_1_1 &amp;&amp; angle &lt; angle1_1) {\r\n\t\t        \tcollision.setXY((y - b)/m, y);\r\n\t\t        }\r\n\r\n\t\t        collisionList.add(collision);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;Number of collisions: &quot; + (int)(collisionList.size() - 1));\r\n\t}\r\n\r\n```\r\n\r\nMy main problem is that the shortest distance to a circle doesn&#39;t seem to be calculated properly, which directly difficults if the rest of the code works properly. \r\n\r\nI&#39;ve tried different methods to find the shortest distance and this is the one that I liked the most as I find it easy to understand, however the implementation doesn&#39;t work properly. I&#39;ve thought that this could be because of JavaFX coordinate system (x increases to the right and y to the bottom) but I&#39;m not sure, I&#39;m a bit lost at this point.\r\n\r\nThanks for your time.\r\n\r\nEdit:\r\nAs suggested I am adding some extra code to facilitate reproducibility.\r\n\r\nThe Point and Vector classes are defined as follows:\r\n\r\n```\r\npublic class Point {\r\n\tprivate double x;\r\n\tprivate double y;\r\n\t\r\n\tpublic Point(double x, double y) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;}\r\n\tpublic double getX() {\r\n\t\treturn x;}\r\n\tpublic double getY() {\r\n\t\treturn y;}\r\n\tpublic void setX(double x) {\r\n\t\tthis.x = x;}\r\n\tpublic void setY(double y) {\r\n\t\tthis.y = y;}\r\n\tpublic void setXY(double x, double y) {\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;}\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn(&quot;(&quot; + this.x + &quot;,&quot; + this.y + &quot;)&quot;);\r\n\t}\r\n\tpublic static Point copy(Point a) {\r\n\t\treturn new Point(a.getX(), a.getY());\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npublic class Vector {\r\n\tprivate double vx; \r\n\tprivate double vy; \r\n\tprivate double ptoApX; \r\n\tprivate double ptoApY; \r\n\tprivate double angle;\r\n\tprivate double modulo;\r\n\t\r\n\t\r\n\tpublic Vector(double vx, double vy) {\r\n\t\tthis.vx = vx;\r\n\t\tthis.vy = vy;\r\n\t\tthis.ptoApX = 0;\r\n\t\tthis.ptoApY = 0;\r\n\t\tthis.angle = angle(vx,vy);\r\n\t\tthis.modulo = modulo(vx,vy);\r\n\t}\r\n\t//Getters\r\n\tpublic double getVx() {\r\n\t\treturn this.vx;\r\n\t}\r\n\tpublic double getVy() {\r\n\t\treturn this.vy;\r\n\t}\r\n\tpublic double getPtoApX() {\r\n\t\treturn this.ptoApX;\r\n\t}\r\n\tpublic double getPtoApY() {\r\n\t\treturn this.ptoApY;\r\n\t}\r\n\tpublic double getAngle() {\r\n\t\treturn this.angle;\r\n\t}\r\n\tpublic double getModulo() {\r\n\t\treturn this.modulo;\r\n\t}\r\n\t\r\n\t//Setters\r\n\tpublic void setVx(double vx) {\r\n\t\tthis.vx = vx;\r\n\t}\r\n\tpublic void setVy(double vy) {\r\n\t\tthis.vy = vy;\r\n\t}\r\n\tpublic void setPtoApX(double ptoApX) {\r\n\t\tthis.ptoApX = ptoApX;\r\n\t}\r\n\tpublic void setPtoApY(double ptoApY) {\r\n\t\tthis.ptoApY = ptoApY;\r\n\t}\r\n\tpublic void setAngle(double angle) {\r\n\t\tthis.angle = angle;\r\n\t}\r\n\tpublic void setModulo(double modulo) {\r\n\t\tthis.modulo = modulo;\r\n\t}\r\n\t\r\n\t//To String\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;(&quot;+this.getVx()+&quot;,&quot;+this.getVy()+&quot;)&quot;;\r\n\t}\r\n\t\r\n\t\r\n\tpublic static double dotProduct(Vector a, Vector b) {\r\n\t\treturn a.getVx()*b.getVx() + a.getVy()*b.getVy();\r\n\t}\r\n\tpublic static Vector escalarProduct(Vector v, double n) {\r\n\t\treturn new Vector(n*v.getVx(), n*v.getVy());\r\n\t}\r\n\tpublic static Vector vectorWith2Points(Point a, Point b) {\r\n\t\tPoint p = Point.resta(a,b);\r\n\t\treturn new Vector(p.getX(),p.getY());\r\n\t}\r\n\tpublic static Vector vectorPointAngle(Point a, double angle, double modulo) {\r\n\t\tdouble angleRadians = Math.toRadians(angle);\r\n\t\tPoint b = new Point(Math.cos(angleRadians)*modulo, Math.sin(angleRadians)*modulo);\r\n\t\treturn vectorWith2Points(a,b);\r\n\t}\r\n\tpublic static double modulo(double vx, double vy) {\r\n\t\treturn Math.sqrt(vx*vx + vy*vy);\r\n\t}\r\n\tpublic static double angle(double vx, double vy) {\r\n\t\treturn Math.atan2(vy, vx);\r\n\t}\r\n\tpublic static Vector normalize(Vector v) {\r\n\t\treturn new Vector(v.getVx()/v.getModulo(),v.getVy()/v.getModulo());\r\n\t}\r\n\tpublic static double angle2vectors(Vector u, Vector v) {\r\n\t\tdouble argument = dotProduct(u,v)/(u.getModulo()*v.getModulo());\r\n\t\treturn Math.acos(argument);\r\n\t}\r\n\tpublic static Point polar2cart(double r, double angle) {\r\n\t\treturn new Point(r*Math.cos(angle), r*Math.sin(angle));\r\n\t}\r\n\tpublic static Point cart2polar(Point p) {\r\n\t\treturn new Point(modulo(p.getX(), p.getY()), angle(p.getX(), p.getY()));\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\nAnd the method to obtain the new angle after a collision:\r\n```\r\n\tprivate Point newAngle(Point origin, Point center, Point c, double radius) {\r\n\t\t//Normal vector\r\n\t\tVector n = Vector.vectorWith2Points(c, center);\r\n\t\tVector nNorm = Vector.normalize(n);\r\n\r\n\t\t//Incident vector\r\n\t\tVector d = Vector.vectorWith2Points(c, origin);\r\n\t\t//Tangent vector\r\n\t\tVector tg = new Vector(-nNorm.getVy(), nNorm.getVx());\r\n\t\t\r\n\t\t//Reflected vector\r\n\t\tdouble product = Vector.dotProduct(d,tg);\r\n\t\tVector r = new Vector(d.getVx()-2*product*tg.getVx(),\r\n\t\t\t\t\t\t\t\t\td.getVy() - 2*product*tg.getVy());\r\n\t\treturn new Point(r.getModulo(), r.getAngle());\r\n\t}\r\n```\r\n\r\nAn example of the code of different angles where a collision should be detected:\r\n\r\n```\r\ndouble x = 600;\r\ndouble y = 400;\r\ndouble radius = 10;\r\nPoint origin = new Point(x/2, y/2);\r\nArrayList&lt;Point&gt; pointList = new ArrayList&lt;&gt;();\r\npointList.add(new Point(40,40));\r\npointList.add(new Point(500,100));\r\npointList.add(new Point(40,330));\r\npointList.add(new Point(450,300));\r\n//This should return a solution\r\nextendPoint(0.4363323129985824, origin, x, y, radius, pointList);\r\nextendPoint(2.6179938779914944, origin, x, y, radius, pointList);\r\n\r\n//this returns a solution when it should not\r\nextendPoint(1.5707963267948966, origin, x, y, radius, pointList);\r\nextendPoint(-1.5707963267948966, origin, x, y, radius, pointList);\r\n\r\n```\r\n\r\nI wrote an class with everything needed to run the code here: [https://pastebin.com/wMjUh9pZ][3]\r\n\r\n\r\n  [1]: https://www.reddit.com/r/generative/comments/q0g5hi/on_my_side_bouncing_laser/?utm_source=share&amp;utm_medium=android_app&amp;utm_name=androidcss&amp;utm_term=1&amp;utm_content=share_button\r\n  [2]: https://math.stackexchange.com/questions/2552687/distance-between-line-and-point\r\n  [3]: https://pastebin.com/wMjUh9pZ","title":"Unable to find solution of a ray colliding a list of circles","body":"<p>I am coding a method that calculates the intersection of a line and a circle as a first step to write some kind of ray casting demo. In case an intersection is calculated it gets the shortest distance to the two points of intersection that will be the collision point, then it repeats the process where the new line originates from the collision point.</p>\n<p>I was motivated by this video <a href=\"https://www.reddit.com/r/generative/comments/q0g5hi/on_my_side_bouncing_laser/?utm_source=share&amp;utm_medium=android_app&amp;utm_name=androidcss&amp;utm_term=1&amp;utm_content=share_button\" rel=\"nofollow noreferrer\">of a laser hitting different circles.</a></p>\n<p>The method receives the angle of the line, the point where it originates, the size of the window, the radius of the circles, the array of centers of the circles and the GraphicsContext object from JavaFX.</p>\n<p>The method has a couple of booleans to determine whether a collision has been made or not, and an ArrayList to store the collisions that will be later drawn on a JavaFX Canvas.</p>\n<p>Inside a while loop the equation of the line is defined with the form y = m*x + b. Then checks which of the circles has a distance between the circle center and the line smaller than the radius of the line, this is calculated with the method explained here: <a href=\"https://math.stackexchange.com/questions/2552687/distance-between-line-and-point\">math.stackexchange.com</a>.</p>\n<p>In case the distance to the center is smaller than the radius a collision occurs against that circle. As far as I know to find the intersection between a line and a circle you need to solve the equation system: y = m*x + b, (x-x1)^2 + (y-y1)^2 = r^2, that I solved via substitution. This results in a second degree polinomial equation that has a real solution if: p1*p1 &gt;= 4*p0*p2.</p>\n<p>The solution with the shortest distance to the origin point is the one that the line hits first and is the solution to our problem. A new angle is calculated with the center of the circle, the collision point and the origin point. With this a new line is defined and the loop repeats until no collision against the circles is calculated, situation where the collision against the borders of the window is calculated.</p>\n<p>At the end a for loop draws all of the lines defined as couples of points inside collisionList.</p>\n<p>This is the code, I've tried to comment it as best as I could:</p>\n<pre><code>    private void extendPoint(double angle, Point origin, double x, double y, double radius, ArrayList&lt;Point&gt; pointList) {\n        \n        double newAngle = angle; //Angle that defines the direction of the line\n        \n        //This is used if the line does not hit a circle\n        double angle11 = Math.atan2(origin.getY(), origin.getX());\n        double angle_11 = Math.atan2(origin.getY(), -origin.getX());\n        double angle_1_1 = angle11 + Math.PI;\n        double angle1_1 = angle_11 + Math.PI;\n\n        boolean noCollision = true; //Will be true if the line does not hit a circle\n        boolean repeat = true; //If no collision has been made the while loop stops with this\n        Point currentPoint = Point.copy(origin); // (x0, y0)\n        Point collision = new Point(-1,-1); //Stores the collision point\n        Point newDirection = new Point(-1,-1); //Stores the new direction after a collision, returns(magnitud, angle) of a vector\n        ArrayList &lt;Point&gt; collisionList = new ArrayList&lt;&gt;(); //ArrayList of collision points that will be drawn later\n        collisionList.add(origin); //The origin point is added as a collision for representation purposes\n        \n        while(repeat == true) {\n            //Line equation that passes through a point with an angle\n            //y = a*x - a*x0 + y0; -&gt; y = m*x + b;\n            double m = Math.tan(-newAngle);\n            double a = m;\n            double b = -m*currentPoint.getX() + (currentPoint.getY());\n\n            for(int i = 0; i &lt; pointList.size(); i++) {\n                Point gridPoint = pointList.get(i); //(x1, y1)\n                \n                //From: https://math.stackexchange.com/questions/2552687/distance-between-line-and-point\n                //Given a line defined as A*x + B*y + C = 0 \n                //x*(y1-y0)+y*(x1-x0)+(-y0*(x1-x0)-x0*(y1-y0)\n                double A = gridPoint.getY()-currentPoint.getY();\n                double B = gridPoint.getX()-currentPoint.getX(); \n                double C = -currentPoint.getY()*B + currentPoint.getX()*A;\n//              double d_cp_gp = Math.abs(m*gridPoint.getX()-b*(gridPoint.getY()))/(Math.sqrt(m*m + 1));\n                double d_cp_gp = Math.abs(A + B + C)/Math.sqrt(A*A + B*B);\n\n                if(d_cp_gp &lt; radius) {\n                    System.out.println(&quot;radio &quot; + d_cp_gp);\n                    //The intersection between a line and a circunference:\n                    //Circunference: (x-x1)^2 + (y-y1)^2 = r^2\n                    //Line: y = tan(alpha)*(x-x0)+y0 -&gt; y = a*x + b; a = tan(alfa), b = -tan(alfa)*x0 + y0\n                    //Substituting the line equation in the circunference equation:\n                    //x^2*(1+a^2) + x*(-2x1 + 2*a*b) + 2*a*b + x1^2+b^2-r^2 = 0\n                    double p2 = 1 + a*a;\n                    double p1 = -2*gridPoint.getX() + 2*a*b;\n                    double p0 = gridPoint.getX()*gridPoint.getX() + b*b - radius*radius;\n                    double p0_ = 4*p0*p2;\n                    System.out.println(p1*p1 + &quot; &quot; + p0_);\n                    //Check if the second order equation has solutions\n                    if(p1*p1 &gt;= p0_) {\n                        System.out.println(&quot;IT HAS SOLUTION&quot;);\n                        //Solution\n                        double root = Math.sqrt(p1*p1 - p0_);\n                        double sol1x = (-p1 + root)/(2*p2);\n                        double sol2x = (-p1 - root)/(2*p2);\n                        double sol1y = a*sol1x - a*currentPoint.getX() + currentPoint.getY();\n                        double sol2y = a*sol1x - a*currentPoint.getX() + currentPoint.getY();\n                        \n                        //The line will intersect twice with the circle, we want the solution\n                        //with the shortest distance to currentPoint (x0,y0)\n                        double distSol1 = Math.sqrt(Math.pow(currentPoint.getX()- sol1x, 2) + \n                                Math.pow(currentPoint.getY() - sol1y, 2));\n                        double distSol2 = Math.sqrt(Math.pow(currentPoint.getX()- sol2x, 2) + \n                                Math.pow(currentPoint.getY() - sol2y, 2));\n                        \n                        //The collision point is the point that the line hits first\n                        if(distSol1 &lt; distSol2) {\n                            collision.setXY(sol1x, sol1y);\n                        }\n                        else {\n                            collision.setXY(sol2x, sol2y);\n                        }\n\n                        //newAngle returns a vector with the form (magnitude, angle)\n                        newDirection = newAngle(currentPoint, gridPoint, collision, radius);\n                        currentPoint = collision;\n                        \n                        //The new line after the collision is defined here\n                        m = Math.tan(-newDirection.getY());\n                        a = m;\n                        b = -m*collision.getX() + (collision.getY());\n                        collisionList.add(collision);\n                        System.out.println(&quot;A collision has been calculated successfully: &quot; + collision.toString());\n                        \n                        //If a collision\n                        noCollision= false;\n                    }\n                }\n\n                //If no collisions have been detected at the end of the for loop exit the while loop\n                if(i == pointList.size() - 1 &amp;&amp; noCollision == true) {\n                    repeat = false;\n                }\n            }\n            //If no collision has been calculated with the circles this\n            //calculates the collision with the limits of the window\n            if(noCollision == true &amp;&amp; repeat == false) {\n\n                if(angle&lt;angle11 || angle &gt; angle1_1) {\n                    collision.setXY(x, m*x + b);\n                }\n                else if(angle &gt; angle11 &amp;&amp; angle &lt; angle_11){\n                    collision.setXY((0 - b)/m, 0);\n                }\n                else if(angle &gt; angle_11 &amp;&amp; angle &lt; angle_1_1) {\n                    collision.setXY(0, m*0 + b);\n                }\n                else if(angle&gt; angle_1_1 &amp;&amp; angle &lt; angle1_1) {\n                    collision.setXY((y - b)/m, y);\n                }\n\n                collisionList.add(collision);\n            }\n            \n        }\n        \n        System.out.println(&quot;Number of collisions: &quot; + (int)(collisionList.size() - 1));\n    }\n\n</code></pre>\n<p>My main problem is that the shortest distance to a circle doesn't seem to be calculated properly, which directly difficults if the rest of the code works properly.</p>\n<p>I've tried different methods to find the shortest distance and this is the one that I liked the most as I find it easy to understand, however the implementation doesn't work properly. I've thought that this could be because of JavaFX coordinate system (x increases to the right and y to the bottom) but I'm not sure, I'm a bit lost at this point.</p>\n<p>Thanks for your time.</p>\n<p>Edit:\nAs suggested I am adding some extra code to facilitate reproducibility.</p>\n<p>The Point and Vector classes are defined as follows:</p>\n<pre><code>public class Point {\n    private double x;\n    private double y;\n    \n    public Point(double x, double y) {\n        this.x = x;\n        this.y = y;}\n    public double getX() {\n        return x;}\n    public double getY() {\n        return y;}\n    public void setX(double x) {\n        this.x = x;}\n    public void setY(double y) {\n        this.y = y;}\n    public void setXY(double x, double y) {\n        this.x = x;\n        this.y = y;}\n    \n    @Override\n    public String toString() {\n        return(&quot;(&quot; + this.x + &quot;,&quot; + this.y + &quot;)&quot;);\n    }\n    public static Point copy(Point a) {\n        return new Point(a.getX(), a.getY());\n    }\n}\n</code></pre>\n<pre><code>public class Vector {\n    private double vx; \n    private double vy; \n    private double ptoApX; \n    private double ptoApY; \n    private double angle;\n    private double modulo;\n    \n    \n    public Vector(double vx, double vy) {\n        this.vx = vx;\n        this.vy = vy;\n        this.ptoApX = 0;\n        this.ptoApY = 0;\n        this.angle = angle(vx,vy);\n        this.modulo = modulo(vx,vy);\n    }\n    //Getters\n    public double getVx() {\n        return this.vx;\n    }\n    public double getVy() {\n        return this.vy;\n    }\n    public double getPtoApX() {\n        return this.ptoApX;\n    }\n    public double getPtoApY() {\n        return this.ptoApY;\n    }\n    public double getAngle() {\n        return this.angle;\n    }\n    public double getModulo() {\n        return this.modulo;\n    }\n    \n    //Setters\n    public void setVx(double vx) {\n        this.vx = vx;\n    }\n    public void setVy(double vy) {\n        this.vy = vy;\n    }\n    public void setPtoApX(double ptoApX) {\n        this.ptoApX = ptoApX;\n    }\n    public void setPtoApY(double ptoApY) {\n        this.ptoApY = ptoApY;\n    }\n    public void setAngle(double angle) {\n        this.angle = angle;\n    }\n    public void setModulo(double modulo) {\n        this.modulo = modulo;\n    }\n    \n    //To String\n    @Override\n    public String toString() {\n        return &quot;(&quot;+this.getVx()+&quot;,&quot;+this.getVy()+&quot;)&quot;;\n    }\n    \n    \n    public static double dotProduct(Vector a, Vector b) {\n        return a.getVx()*b.getVx() + a.getVy()*b.getVy();\n    }\n    public static Vector escalarProduct(Vector v, double n) {\n        return new Vector(n*v.getVx(), n*v.getVy());\n    }\n    public static Vector vectorWith2Points(Point a, Point b) {\n        Point p = Point.resta(a,b);\n        return new Vector(p.getX(),p.getY());\n    }\n    public static Vector vectorPointAngle(Point a, double angle, double modulo) {\n        double angleRadians = Math.toRadians(angle);\n        Point b = new Point(Math.cos(angleRadians)*modulo, Math.sin(angleRadians)*modulo);\n        return vectorWith2Points(a,b);\n    }\n    public static double modulo(double vx, double vy) {\n        return Math.sqrt(vx*vx + vy*vy);\n    }\n    public static double angle(double vx, double vy) {\n        return Math.atan2(vy, vx);\n    }\n    public static Vector normalize(Vector v) {\n        return new Vector(v.getVx()/v.getModulo(),v.getVy()/v.getModulo());\n    }\n    public static double angle2vectors(Vector u, Vector v) {\n        double argument = dotProduct(u,v)/(u.getModulo()*v.getModulo());\n        return Math.acos(argument);\n    }\n    public static Point polar2cart(double r, double angle) {\n        return new Point(r*Math.cos(angle), r*Math.sin(angle));\n    }\n    public static Point cart2polar(Point p) {\n        return new Point(modulo(p.getX(), p.getY()), angle(p.getX(), p.getY()));\n    }\n    \n}\n\n</code></pre>\n<p>And the method to obtain the new angle after a collision:</p>\n<pre><code>    private Point newAngle(Point origin, Point center, Point c, double radius) {\n        //Normal vector\n        Vector n = Vector.vectorWith2Points(c, center);\n        Vector nNorm = Vector.normalize(n);\n\n        //Incident vector\n        Vector d = Vector.vectorWith2Points(c, origin);\n        //Tangent vector\n        Vector tg = new Vector(-nNorm.getVy(), nNorm.getVx());\n        \n        //Reflected vector\n        double product = Vector.dotProduct(d,tg);\n        Vector r = new Vector(d.getVx()-2*product*tg.getVx(),\n                                    d.getVy() - 2*product*tg.getVy());\n        return new Point(r.getModulo(), r.getAngle());\n    }\n</code></pre>\n<p>An example of the code of different angles where a collision should be detected:</p>\n<pre><code>double x = 600;\ndouble y = 400;\ndouble radius = 10;\nPoint origin = new Point(x/2, y/2);\nArrayList&lt;Point&gt; pointList = new ArrayList&lt;&gt;();\npointList.add(new Point(40,40));\npointList.add(new Point(500,100));\npointList.add(new Point(40,330));\npointList.add(new Point(450,300));\n//This should return a solution\nextendPoint(0.4363323129985824, origin, x, y, radius, pointList);\nextendPoint(2.6179938779914944, origin, x, y, radius, pointList);\n\n//this returns a solution when it should not\nextendPoint(1.5707963267948966, origin, x, y, radius, pointList);\nextendPoint(-1.5707963267948966, origin, x, y, radius, pointList);\n\n</code></pre>\n<p>I wrote an class with everything needed to run the code here: <a href=\"https://pastebin.com/wMjUh9pZ\" rel=\"nofollow noreferrer\">https://pastebin.com/wMjUh9pZ</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9494,"page":729,"page_size":100}
