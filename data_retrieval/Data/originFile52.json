{"items":[{"tags":["java","path"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700417520,"post_id":77511821,"comment_id":136649027,"body_markdown":"have you tried to add `C:\\Program Files\\java\\jdk-17.0.9+9\\bin` directly to the PATH, instead `%JAVA_HOME%\\bin`? Actually, what is the output of the `path` command executed in cmd?","body":"have you tried to add <code>C:\\Program Files\\java\\jdk-17.0.9+9\\bin</code> directly to the PATH, instead <code>%JAVA_HOME%\\bin</code>? Actually, what is the output of the <code>path</code> command executed in cmd?"},{"owner":{"account_id":29676183,"reputation":1,"user_id":22744067,"display_name":"ArMa314"},"score":0,"creation_date":1700418751,"post_id":77511821,"comment_id":136649152,"body_markdown":"@user85421 I&#39;ve tried that now as well, didn&#39;t work either unfortunately. The path command returns:\nPATH=C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\","body":"@user85421 I&#39;ve tried that now as well, didn&#39;t work either unfortunately. The path command returns: PATH=C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem&zwnj;&#8203;;C:\\WINDOWS\\System32&zwnj;&#8203;\\WindowsPowerShell\\v&zwnj;&#8203;1.0\\;C:\\WINDOWS\\Syst&zwnj;&#8203;em32\\OpenSSH\\"},{"owner":{"account_id":29676183,"reputation":1,"user_id":22744067,"display_name":"ArMa314"},"score":0,"creation_date":1700419339,"post_id":77511821,"comment_id":136649211,"body_markdown":"@user85421 now that you mention it no matter what I put in my path variable, the output of the path function does not change.","body":"@user85421 now that you mention it no matter what I put in my path variable, the output of the path function does not change."},{"owner":{"account_id":29676183,"reputation":1,"user_id":22744067,"display_name":"ArMa314"},"score":0,"creation_date":1700420165,"post_id":77511821,"comment_id":136649318,"body_markdown":"@user85421 I close the cmd window and open a new one... is that not enough? I&#39;ve heard this suggested a lot.","body":"@user85421 I close the cmd window and open a new one... is that not enough? I&#39;ve heard this suggested a lot."},{"owner":{"account_id":18117615,"reputation":136,"user_id":13174087,"display_name":"Greenylie"},"score":0,"creation_date":1700421405,"post_id":77511821,"comment_id":136649455,"body_markdown":"Since the PATH is not updating in cmd regardless, maybe try with some of the suggested ways here: https://stackoverflow.com/questions/9546324/adding-a-directory-to-the-path-environment-variable-in-windows\nspecifically the `setx` command may be helpful.","body":"Since the PATH is not updating in cmd regardless, maybe try with some of the suggested ways here: <a href=\"https://stackoverflow.com/questions/9546324/adding-a-directory-to-the-path-environment-variable-in-windows\" title=\"adding a directory to the path environment variable in windows\">stackoverflow.com/questions/9546324/&hellip;</a> specifically the <code>setx</code> command may be helpful."},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1700423383,"post_id":77511821,"comment_id":136649647,"body_markdown":"Yeah, so this doesn&#39;t sound like a Java problem at all, but rather, a systems admin issue. The problem is that you don&#39;t seem to be able set the PATH. Check the control level of the user account you&#39;re using and make sure it has admin.","body":"Yeah, so this doesn&#39;t sound like a Java problem at all, but rather, a systems admin issue. The problem is that you don&#39;t seem to be able set the PATH. Check the control level of the user account you&#39;re using and make sure it has admin."},{"owner":{"account_id":29676183,"reputation":1,"user_id":22744067,"display_name":"ArMa314"},"score":0,"creation_date":1700429650,"post_id":77511821,"comment_id":136650328,"body_markdown":"@Greenylie am I misunderstanding that post, it seems to be saying that it only temporarily changes my path for the time of the current cmd session? I don&#39;t think that would solve my issue but I am of course open to being corrected. :)","body":"@Greenylie am I misunderstanding that post, it seems to be saying that it only temporarily changes my path for the time of the current cmd session? I don&#39;t think that would solve my issue but I am of course open to being corrected. :)"},{"owner":{"account_id":29676183,"reputation":1,"user_id":22744067,"display_name":"ArMa314"},"score":0,"creation_date":1700429703,"post_id":77511821,"comment_id":136650336,"body_markdown":"@MarsAtomic I have admin access... so seems not that...","body":"@MarsAtomic I have admin access... so seems not that..."}],"owner":{"account_id":29676183,"reputation":1,"user_id":22744067,"display_name":"ArMa314"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700415960,"creation_date":1700415960,"question_id":77511821,"body_markdown":"I am running a freshly installed Windows 10.\r\n\r\nI&#39;ve been having trouble with installing java properly. I downloaded the JDK-17.9.0.9+9 version zip, extracted it into &quot;c:\\\\Program Files\\\\java&quot; and then went to update my environment variables:\r\n\r\n- I added a new System Variable JAVA_HOME = c:\\\\Program Files\\\\java\\\\jdk-17.0.9+9\r\n\r\n- I added a line to my Path variable reading &quot;%JAVA_HOME%\\\\bin&quot;\r\n\r\nTo check whether it had worked, I started cmd and ran &quot;java -version&quot; and was greeted with the ugly face of the &quot;&#39;java&#39; is not recognized as an internal or external command,\r\noperable program or batch file.&quot; error. \r\n\r\nConfused I decided to copy the System variables I had previously created/edited and do the same process for my user variables, which did not change anything.\r\n\r\nFinally, after looking on StackOF I saw someone recommend testing the location of the installation to make sure the environment variables had the right directory, following their information I opened a fresh cmd and ran:\r\n\r\n&gt;&quot;c:\\Program Files\\java\\jdk-17.0.9+9\\bin\\java&quot; -version\r\n\r\nTo my surprise, this correctly returned my version as:\r\n\r\nopenjdk version &quot;17.0.9&quot; 2023-10-17\r\n\r\nOpenJDK Runtime Environment Temurin-17.0.9+9 (build 17.0.9+9)\r\n\r\nOpenJDK 64-Bit Server VM Temurin-17.0.9+9 (build 17.0.9+9, mixed mode, sharing)\r\n\r\nSo I went back to my environment variable and verified that they contained the exact same directory. I have no idea what else could be wrong in my process.\r\n\r\nI&#39;ve also messed around with the order of my Path file by moving the &quot;%JAVA_HOME%\\bin&quot; element all the way up, to no avail.\r\n\r\n\r\nI&#39;ve tried any and all solutions I could find myself from pre-existing threads:\r\nhttps://stackoverflow.com/questions/15796855/java-is-not-recognized-as-an-internal-or-external-command\r\nhttps://stackoverflow.com/questions/57991159/java-is-not-recognized-even-after-setting-the-path","title":"Can&#39;t get cmd to recognize &#39;java&#39; command even after editing Path files","body":"<p>I am running a freshly installed Windows 10.</p>\n<p>I've been having trouble with installing java properly. I downloaded the JDK-17.9.0.9+9 version zip, extracted it into &quot;c:\\Program Files\\java&quot; and then went to update my environment variables:</p>\n<ul>\n<li><p>I added a new System Variable JAVA_HOME = c:\\Program Files\\java\\jdk-17.0.9+9</p>\n</li>\n<li><p>I added a line to my Path variable reading &quot;%JAVA_HOME%\\bin&quot;</p>\n</li>\n</ul>\n<p>To check whether it had worked, I started cmd and ran &quot;java -version&quot; and was greeted with the ugly face of the &quot;'java' is not recognized as an internal or external command,\noperable program or batch file.&quot; error.</p>\n<p>Confused I decided to copy the System variables I had previously created/edited and do the same process for my user variables, which did not change anything.</p>\n<p>Finally, after looking on StackOF I saw someone recommend testing the location of the installation to make sure the environment variables had the right directory, following their information I opened a fresh cmd and ran:</p>\n<blockquote>\n<p>&quot;c:\\Program Files\\java\\jdk-17.0.9+9\\bin\\java&quot; -version</p>\n</blockquote>\n<p>To my surprise, this correctly returned my version as:</p>\n<p>openjdk version &quot;17.0.9&quot; 2023-10-17</p>\n<p>OpenJDK Runtime Environment Temurin-17.0.9+9 (build 17.0.9+9)</p>\n<p>OpenJDK 64-Bit Server VM Temurin-17.0.9+9 (build 17.0.9+9, mixed mode, sharing)</p>\n<p>So I went back to my environment variable and verified that they contained the exact same directory. I have no idea what else could be wrong in my process.</p>\n<p>I've also messed around with the order of my Path file by moving the &quot;%JAVA_HOME%\\bin&quot; element all the way up, to no avail.</p>\n<p>I've tried any and all solutions I could find myself from pre-existing threads:\n<a href=\"https://stackoverflow.com/questions/15796855/java-is-not-recognized-as-an-internal-or-external-command\">&#39;Java&#39; is not recognized as an internal or external command</a>\n<a href=\"https://stackoverflow.com/questions/57991159/java-is-not-recognized-even-after-setting-the-path\">java is not recognized even after setting the path</a></p>\n"},{"tags":["java","spring","junit"],"comments":[{"owner":{"account_id":11889468,"reputation":1750,"user_id":8700809,"display_name":"Jacob"},"score":0,"creation_date":1700403972,"post_id":77510520,"comment_id":136647591,"body_markdown":"Have you looked into creating a custom [Test Fixture](https://www.baeldung.com/spring-dynamicpropertysource#an-alternative-test-fixtures)?","body":"Have you looked into creating a custom <a href=\"https://www.baeldung.com/spring-dynamicpropertysource#an-alternative-test-fixtures\" rel=\"nofollow noreferrer\">Test Fixture</a>?"},{"owner":{"account_id":6577123,"reputation":107,"user_id":5082719,"display_name":"helmi77"},"score":0,"creation_date":1700415243,"post_id":77510520,"comment_id":136648786,"body_markdown":"Yes, but it didn&#39;t work for me. Found a solution using DI","body":"Yes, but it didn&#39;t work for me. Found a solution using DI"}],"answers":[{"tags":[],"owner":{"account_id":6577123,"reputation":107,"user_id":5082719,"display_name":"helmi77"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700415461,"creation_date":1700415461,"answer_id":77511792,"question_id":77510520,"body_markdown":"One option is to inject the configuration class annotated with `@ConfigurationProperties` in the `beforeEach` method and update the value there:\r\n\r\n    @DirtiesContext\r\n    @SpringBatchTest\r\n    @SpringBootTest\r\n    @SpringJUnitConfig(classes = ImageBatchJobApplication.class)\r\n    class ImageBatchJobApplicationTests {\r\n\r\n        @TempDir\r\n        private Path imagePath;\r\n    \r\n    \t@BeforeEach\r\n    \tpublic void setup(@Autowired MyConfiguration config) {\r\n    \t\tconfig.setImagePath(imagePath.toString());\r\n    \t}\r\n    }","title":"How to use non-static @TempDir with custom @ConfigurationProperties during testing","body":"<p>One option is to inject the configuration class annotated with <code>@ConfigurationProperties</code> in the <code>beforeEach</code> method and update the value there:</p>\n<pre><code>@DirtiesContext\n@SpringBatchTest\n@SpringBootTest\n@SpringJUnitConfig(classes = ImageBatchJobApplication.class)\nclass ImageBatchJobApplicationTests {\n\n    @TempDir\n    private Path imagePath;\n\n    @BeforeEach\n    public void setup(@Autowired MyConfiguration config) {\n        config.setImagePath(imagePath.toString());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6577123,"reputation":107,"user_id":5082719,"display_name":"helmi77"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77511792,"answer_count":1,"score":0,"last_activity_date":1700415461,"creation_date":1700392032,"question_id":77510520,"body_markdown":"I am working on a Spring Batch application which processes image files, where the path to the images is configurable using `application.yml`:\r\n```\r\nfiles:\r\n    image-path: /var/images\r\n```\r\n\r\nI&#39;m trying to use a **non-static** field annotated with `@TempDir` in one of my Spring Boot integration tests, so that I get a new temporary folder for each test:\r\n\r\n```\r\n@SpringBatchTest\r\n@SpringBootTest\r\n@SpringJUnitConfig(classes = ImageBatchJobApplication.class)\r\nclass ImageBatchJobTests {\r\n\r\n\t@TempDir\r\n\tprivate Path imagePath;\r\n\r\n    ...\r\n}\r\n```\r\n\r\n The problem is that I somehow need to pass this temporary folder path to my custom `@ConfigurationProperties` class:\r\n\r\n```\r\n@ConfigurationProperties(prefix = &quot;files&quot;)\r\npublic record MyConfiguration(String imagePath) { }\r\n```\r\n\r\nI tried to use a `@DynamicPropertySource` where I would add the temporary directory to the registry:\r\n```\r\n@DynamicPropertySource\r\nprivate static void testProperties(DynamicPropertyRegistry registry) {\r\n\tregistry.add(&quot;files.image-path&quot;, imagePath::toString);\r\n}\r\n```\r\nbut of course from within a static method I can not access the non-static `imagePath` field. I thought about using a custom `ApplicationCOntextInitializer`, however there I would run into the same problem of how to access the instance variable. Does anybody have an idea how I could pass my `@TempDir` path to the `MyConfiguration` before each test tun?","title":"How to use non-static @TempDir with custom @ConfigurationProperties during testing","body":"<p>I am working on a Spring Batch application which processes image files, where the path to the images is configurable using <code>application.yml</code>:</p>\n<pre><code>files:\n    image-path: /var/images\n</code></pre>\n<p>I'm trying to use a <strong>non-static</strong> field annotated with <code>@TempDir</code> in one of my Spring Boot integration tests, so that I get a new temporary folder for each test:</p>\n<pre><code>@SpringBatchTest\n@SpringBootTest\n@SpringJUnitConfig(classes = ImageBatchJobApplication.class)\nclass ImageBatchJobTests {\n\n    @TempDir\n    private Path imagePath;\n\n    ...\n}\n</code></pre>\n<p>The problem is that I somehow need to pass this temporary folder path to my custom <code>@ConfigurationProperties</code> class:</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;files&quot;)\npublic record MyConfiguration(String imagePath) { }\n</code></pre>\n<p>I tried to use a <code>@DynamicPropertySource</code> where I would add the temporary directory to the registry:</p>\n<pre><code>@DynamicPropertySource\nprivate static void testProperties(DynamicPropertyRegistry registry) {\n    registry.add(&quot;files.image-path&quot;, imagePath::toString);\n}\n</code></pre>\n<p>but of course from within a static method I can not access the non-static <code>imagePath</code> field. I thought about using a custom <code>ApplicationCOntextInitializer</code>, however there I would run into the same problem of how to access the instance variable. Does anybody have an idea how I could pass my <code>@TempDir</code> path to the <code>MyConfiguration</code> before each test tun?</p>\n"},{"tags":["java","sockets","ssl","network-programming","serversocket"],"comments":[{"owner":{"account_id":15271,"reputation":63428,"user_id":32090,"accept_rate":91,"display_name":"Boris Pavlović"},"score":0,"creation_date":1452786422,"post_id":34793660,"comment_id":57330965,"body_markdown":"Which Java version are you using? JDK 8 uses v1.2 by default","body":"Which Java version are you using? JDK 8 uses v1.2 by default"},{"owner":{"account_id":223245,"reputation":5512,"user_id":482317,"accept_rate":100,"display_name":"Andrea Bergia"},"score":0,"creation_date":1452786673,"post_id":34793660,"comment_id":57331133,"body_markdown":"Take a look at [`SSLSocket`](https://docs.oracle.com/javase/7/docs/api/javax/net/ssl/SSLSocket.html).","body":"Take a look at <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/net/ssl/SSLSocket.html\" rel=\"nofollow noreferrer\"><code>SSLSocket</code></a>."},{"owner":{"account_id":4911606,"reputation":579,"user_id":3956771,"accept_rate":46,"display_name":"Argho Chatterjee"},"score":0,"creation_date":1452840812,"post_id":34793660,"comment_id":57353828,"body_markdown":"Hi @Boris, I am using jdk 1.8. Can you post an example of a client server communication using sslsocket classes for reference. I am assuming that if I use sslSocket classes, then I will directly be encrypting using SSL/TLS and sending the encrypted message via the TCP layer, and avoiding the use of HTTPS to do it for me. Is my understanding correct?","body":"Hi @Boris, I am using jdk 1.8. Can you post an example of a client server communication using sslsocket classes for reference. I am assuming that if I use sslSocket classes, then I will directly be encrypting using SSL/TLS and sending the encrypted message via the TCP layer, and avoiding the use of HTTPS to do it for me. Is my understanding correct?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1452849502,"post_id":34793660,"comment_id":57357715,"body_markdown":"Take a look at the JSSE Reference Guide. Too broad.","body":"Take a look at the JSSE Reference Guide. Too broad."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1452860738,"post_id":34793660,"comment_id":57363900,"body_markdown":"What makes you think the HTTPS layer can possibly get involved in your code? You&#39;re not using it =&gt; it isn&#39;t there.","body":"What makes you think the HTTPS layer can possibly get involved in your code? You&#39;re not using it =&gt; it isn&#39;t there."},{"owner":{"account_id":4911606,"reputation":579,"user_id":3956771,"accept_rate":46,"display_name":"Argho Chatterjee"},"score":0,"creation_date":1452861450,"post_id":34793660,"comment_id":57364331,"body_markdown":"Hey @EJP, ya that is what even I think, but I asked to just make sure my understanding is correct..","body":"Hey @EJP, ya that is what even I think, but I asked to just make sure my understanding is correct.."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1567741759,"post_id":34793660,"comment_id":102061921,"body_markdown":"And you&#39;ve already implemented I what you&#39;re asking for Unclear what you&#39;re asking.","body":"And you&#39;ve already implemented I what you&#39;re asking for Unclear what you&#39;re asking."}],"owner":{"account_id":4911606,"reputation":579,"user_id":3956771,"accept_rate":46,"display_name":"Argho Chatterjee"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29850,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":0,"score":9,"last_activity_date":1700414654,"creation_date":1452786154,"question_id":34793660,"body_markdown":"I want to create commnicate between two systems via TLS v1.2. The information it contains is confidential. I want to avoid an https web service call and diectly want to perform message exchange at the TCP layer.\r\n\r\nCan you suggest how to implement this where I can securely transfer data via TLS v1.2.\r\n\r\nEDIT:\r\n\r\nI have written the following code after reading the below answers\r\n\r\nSSLServer\r\n\r\n            System.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;/home/user/.keystore&quot;);\r\n\t\t    System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;changeit&quot;);\r\n\r\n\t\t    SSLServerSocketFactory ssf = (SSLServerSocketFactory) SSLServerSocketFactory.getDefault();\r\n\t\t    ServerSocket ss = ssf.createServerSocket(8362);\r\n\t\t    while (true) {\r\n\t\t    \tSystem.out.println(&quot;awaiting to accept..&quot;);\r\n\t\t      Socket s = ss.accept();\r\n\t\t      SSLSession session = ((SSLSocket) s).getSession();\r\n\t\t      Certificate[] cchain2 = session.getLocalCertificates();\r\n\t\t      for (int i = 0; i &lt; cchain2.length; i++) {\r\n\t\t        System.out.println(((X509Certificate) cchain2[i]).getSubjectDN());\r\n\t\t      }\r\n\t\t      System.out.println(&quot;Peer host is &quot; + session.getPeerHost());\r\n\t\t      System.out.println(&quot;Cipher is &quot; + session.getCipherSuite());\r\n\t\t      System.out.println(&quot;Protocol is &quot; + session.getProtocol());\r\n\t\t      System.out.println(&quot;ID is &quot; + new BigInteger(session.getId()));\r\n\t\t      System.out.println(&quot;Session created in &quot; + session.getCreationTime());\r\n\t\t      System.out.println(&quot;Session accessed in &quot; + session.getLastAccessedTime());\r\n\t\t      \r\n\t\t      \r\n\t\t      PrintStream out = new PrintStream(s.getOutputStream());\r\n\t\t     \r\n\t\t      /*BufferedReader in = new BufferedReader(new InputStreamReader(\r\n\t\t\t\t\t\ts.getInputStream()));*/\r\n\t\t      boolean isChatOver = false;\r\n\t\t      System.out.println(&quot;\\n\\n*******************Type Below********************&quot;);\r\n\t\t      System.out.println(&quot;To End Chat Type &#39;Bye&#39;!&quot;);\r\n\t\t      \r\n\t\t      BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\t\t        \r\n\t\t      while(!isChatOver) {\r\n\t\t    \t  String nextChat = br.readLine();\r\n\t\t\t      out.println(nextChat);\r\n\t\t\t      if(&quot;bye&quot;.equalsIgnoreCase(nextChat.trim())) {\r\n\t\t\t    \t  isChatOver = true;\r\n\t\t\t      }\r\n\t\t      }\r\n\t\t\r\n\t\t      out.close();\r\n\t\t      s.close();\r\n\t\t    }\r\n\r\n\r\n\r\n\r\nSSLClient\r\n\r\n\r\n\t\tSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;/home/user/.truststore&quot;);\r\n\t\tSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);\r\n\r\n\t\tSSLSocketFactory ssf = (SSLSocketFactory) SSLSocketFactory.getDefault();\r\n\t\tSocket s = ssf.createSocket(&quot;127.0.0.1&quot;, 8362);\r\n\r\n\t\tSSLSession session = ((SSLSocket) s).getSession();\r\n\t\tCertificate[] cchain = session.getPeerCertificates();\r\n\t\tSystem.out.println(&quot;The Certificates used by peer&quot;);\r\n\t\tfor (int i = 0; i &lt; cchain.length; i++) {\r\n\t\t\tSystem.out.println(((X509Certificate) cchain[i]).getSubjectDN());\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Peer host is &quot; + session.getPeerHost());\r\n\t\tSystem.out.println(&quot;Cipher is &quot; + session.getCipherSuite());\r\n\t\tSystem.out.println(&quot;Protocol is &quot; + session.getProtocol());\r\n\t\tSystem.out.println(&quot;ID is &quot; + new BigInteger(session.getId()));\r\n\t\tSystem.out.println(&quot;Session created in &quot; + session.getCreationTime());\r\n\t\tSystem.out.println(&quot;Session accessed in &quot;\r\n\t\t\t\t+ session.getLastAccessedTime());\r\n\r\n\t\tBufferedReader in = new BufferedReader(new InputStreamReader(\r\n\t\t\t\ts.getInputStream()));\r\n\t\tboolean isChatOver = false;\r\n\t\twhile(!isChatOver) {\r\n\t\t\tif(in.ready()) {\r\n\t\t\t\tThread.sleep(5000);\r\n\t\t\t}\r\n\t\t\tString nextChat = in.readLine();\r\n\t\t\tSystem.out.println(&quot;server says : &quot; + nextChat);\r\n\t\t\tif(&quot;bye&quot;.equalsIgnoreCase(nextChat.trim())) {\r\n\t\t\t\tSystem.out.println(&quot;**************************************Closing Session.*********************************************&quot;);\r\n\t\t\t\tisChatOver = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\tin.close();\r\n\t\r\n\r\n\r\nIn the above code, is my code directly passing message to TCP Layer after encryption using TLS 1.2 ? I hope it does not call an https internally because I want to avoid application layer at all cost.\r\n\r\nKindly let me know in case of any queries in the question.\r\n\r\nThanks\r\ncheers :))","title":"How to create a secured TCP connection via TLS v.1.2 in Java","body":"<p>I want to create commnicate between two systems via TLS v1.2. The information it contains is confidential. I want to avoid an https web service call and diectly want to perform message exchange at the TCP layer.</p>\n\n<p>Can you suggest how to implement this where I can securely transfer data via TLS v1.2.</p>\n\n<p>EDIT:</p>\n\n<p>I have written the following code after reading the below answers</p>\n\n<p>SSLServer</p>\n\n<pre><code>        System.setProperty(\"javax.net.ssl.keyStore\", \"/home/user/.keystore\");\n        System.setProperty(\"javax.net.ssl.keyStorePassword\", \"changeit\");\n\n        SSLServerSocketFactory ssf = (SSLServerSocketFactory) SSLServerSocketFactory.getDefault();\n        ServerSocket ss = ssf.createServerSocket(8362);\n        while (true) {\n            System.out.println(\"awaiting to accept..\");\n          Socket s = ss.accept();\n          SSLSession session = ((SSLSocket) s).getSession();\n          Certificate[] cchain2 = session.getLocalCertificates();\n          for (int i = 0; i &lt; cchain2.length; i++) {\n            System.out.println(((X509Certificate) cchain2[i]).getSubjectDN());\n          }\n          System.out.println(\"Peer host is \" + session.getPeerHost());\n          System.out.println(\"Cipher is \" + session.getCipherSuite());\n          System.out.println(\"Protocol is \" + session.getProtocol());\n          System.out.println(\"ID is \" + new BigInteger(session.getId()));\n          System.out.println(\"Session created in \" + session.getCreationTime());\n          System.out.println(\"Session accessed in \" + session.getLastAccessedTime());\n\n\n          PrintStream out = new PrintStream(s.getOutputStream());\n\n          /*BufferedReader in = new BufferedReader(new InputStreamReader(\n                    s.getInputStream()));*/\n          boolean isChatOver = false;\n          System.out.println(\"\\n\\n*******************Type Below********************\");\n          System.out.println(\"To End Chat Type 'Bye'!\");\n\n          BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\n          while(!isChatOver) {\n              String nextChat = br.readLine();\n              out.println(nextChat);\n              if(\"bye\".equalsIgnoreCase(nextChat.trim())) {\n                  isChatOver = true;\n              }\n          }\n\n          out.close();\n          s.close();\n        }\n</code></pre>\n\n<p>SSLClient</p>\n\n<pre><code>    System.setProperty(\"javax.net.ssl.trustStore\", \"/home/user/.truststore\");\n    System.setProperty(\"javax.net.ssl.trustStorePassword\", \"changeit\");\n\n    SSLSocketFactory ssf = (SSLSocketFactory) SSLSocketFactory.getDefault();\n    Socket s = ssf.createSocket(\"127.0.0.1\", 8362);\n\n    SSLSession session = ((SSLSocket) s).getSession();\n    Certificate[] cchain = session.getPeerCertificates();\n    System.out.println(\"The Certificates used by peer\");\n    for (int i = 0; i &lt; cchain.length; i++) {\n        System.out.println(((X509Certificate) cchain[i]).getSubjectDN());\n    }\n    System.out.println(\"Peer host is \" + session.getPeerHost());\n    System.out.println(\"Cipher is \" + session.getCipherSuite());\n    System.out.println(\"Protocol is \" + session.getProtocol());\n    System.out.println(\"ID is \" + new BigInteger(session.getId()));\n    System.out.println(\"Session created in \" + session.getCreationTime());\n    System.out.println(\"Session accessed in \"\n            + session.getLastAccessedTime());\n\n    BufferedReader in = new BufferedReader(new InputStreamReader(\n            s.getInputStream()));\n    boolean isChatOver = false;\n    while(!isChatOver) {\n        if(in.ready()) {\n            Thread.sleep(5000);\n        }\n        String nextChat = in.readLine();\n        System.out.println(\"server says : \" + nextChat);\n        if(\"bye\".equalsIgnoreCase(nextChat.trim())) {\n            System.out.println(\"**************************************Closing Session.*********************************************\");\n            isChatOver = true;\n        }\n    }\n    in.close();\n</code></pre>\n\n<p>In the above code, is my code directly passing message to TCP Layer after encryption using TLS 1.2 ? I hope it does not call an https internally because I want to avoid application layer at all cost.</p>\n\n<p>Kindly let me know in case of any queries in the question.</p>\n\n<p>Thanks\ncheers :))</p>\n"},{"tags":["java","mysql","postgresql","jdbc","timeout"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1412751606,"post_id":26250141,"comment_id":41178991,"body_markdown":"I don&#39;t see any difference, just a poorly chosen name (`loginTimeout`).","body":"I don&#39;t see any difference, just a poorly chosen name (<code>loginTimeout</code>)."},{"owner":{"account_id":1545012,"reputation":1402,"user_id":1438735,"accept_rate":52,"display_name":"Ratatouille"},"score":0,"creation_date":1521703072,"post_id":26250141,"comment_id":85846003,"body_markdown":"Where did you found the timeout in millisecond ?","body":"Where did you found the timeout in millisecond ?"}],"answers":[{"tags":[],"owner":{"account_id":75579,"reputation":759,"user_id":216742,"display_name":"Scott Fines"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472654973,"creation_date":1472654973,"answer_id":39252811,"question_id":26250141,"body_markdown":"MySQL&#39;s `socketConnect` setting determines how long the client will try to attempt to open a network connection; it makes no claims that the database itself will authenticate or function, only that a socket can be established. \r\n\r\nPostgres, by contrast, is indicating a maximum amount of time to connect _to the database_; if your command returns before the timeout, then the database received the network request and responded in an appropriate amount of time.\r\n\r\nSo in one situation, you are only putting constraints on network behavior (i.e. how long you wait to connect a socket to that server at that port); in the other, you are putting constraints on _database_ behavior (i.e. how long to wait for the database itself to connect).\r\n\r\nAs a side note, the interface `javax.sql.CommonDataSource` dictates a JDBC property for `getLoginTimeout` which mimics the behavior of PostgreSQL&#39;s property. When you look at various implementations of a MysqlDataSource([mariadb][1], for example), these methods are not implemented; this generally leads me to believe that there is no direct analogue in MySQL.\r\n\r\n\r\n  [1]: https://github.com/MariaDB/mariadb-connector-j/blob/41910e840323b7b349dc85c0f18e6f0ba89fa9e1/src/main/java/org/mariadb/jdbc/MariaDbDataSource.java","title":"jdbc connectTimeout vs jdbc loginTimeout","body":"<p>MySQL's <code>socketConnect</code> setting determines how long the client will try to attempt to open a network connection; it makes no claims that the database itself will authenticate or function, only that a socket can be established. </p>\n\n<p>Postgres, by contrast, is indicating a maximum amount of time to connect <em>to the database</em>; if your command returns before the timeout, then the database received the network request and responded in an appropriate amount of time.</p>\n\n<p>So in one situation, you are only putting constraints on network behavior (i.e. how long you wait to connect a socket to that server at that port); in the other, you are putting constraints on <em>database</em> behavior (i.e. how long to wait for the database itself to connect).</p>\n\n<p>As a side note, the interface <code>javax.sql.CommonDataSource</code> dictates a JDBC property for <code>getLoginTimeout</code> which mimics the behavior of PostgreSQL's property. When you look at various implementations of a MysqlDataSource(<a href=\"https://github.com/MariaDB/mariadb-connector-j/blob/41910e840323b7b349dc85c0f18e6f0ba89fa9e1/src/main/java/org/mariadb/jdbc/MariaDbDataSource.java\" rel=\"nofollow\">mariadb</a>, for example), these methods are not implemented; this generally leads me to believe that there is no direct analogue in MySQL.</p>\n"}],"owner":{"account_id":982206,"reputation":155,"user_id":1001667,"accept_rate":44,"display_name":"shreyas K N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10811,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1700413535,"creation_date":1412748052,"question_id":26250141,"body_markdown":"There is a requirement in our project to support &#39;jdbc timeout&#39; feature for Postgres (Postgresql driver).\r\nwe also support Microsoft SQL (JTDS driver) and MySQl (mysql driver). So i want to introduce the &#39;loginTimeout&#39; as a common feature for all the Databases.\r\n\r\nWhile going through documentation of the drivers, i found there is a jdbc parameter called &#39;loginTimeout&#39; supported from both JTDS and Postgresql drivers but not for Msql\r\n\r\nhttp://jtds.sourceforge.net/faq.html\r\n\r\n&gt; ***loginTimeout** (default - 0 for TCP/IP connections or 20 for named pipe connections) The amount of time to wait (in seconds) for a successful\r\n&gt; connection before timing out. If a TCP/IP connection is used to\r\n&gt; connect to the database and Java 1.4 or newer is being used, the\r\n&gt; loginTimeout parameter is used to set the initial connection timeout\r\n&gt; when initially opening a new socket. A value of zero (the default)\r\n&gt; causes the connection to wait indefinitely, e.g.,until a connection is\r\n&gt; established or an error occurs. See also socketTimeout. If a named\r\n&gt; pipe connection is used (namedPipe is true) and loginTimeout is\r\n&gt; greater than zero, the value of loginTimeout is used for the length of\r\n&gt; the retry period when &quot;All pipe instances are busy&quot; error messages are\r\n&gt; received while attempting to connect to the server. If loginTimeout is\r\n&gt; zero (the default), a value of 20 seconds is used for the named pipe\r\n&gt; retry period.*\r\n\r\nhttp://jdbc.postgresql.org/documentation/84/connect.html\r\n\r\n&gt; **loginTimeout** = int Specify how long to wait for establishment of a\r\n&gt; database connection. The timeout is specified in seconds.\r\n\r\n\r\nbut for Mysql there is nothing like loginTimeout, but has \r\n\r\n&gt; **connectTimeout**: Timeout for socket connect (in milliseconds), with 0\r\n&gt; being no timeout. Only works on JDK-1.4 or newer. Defaults to &#39;0&#39;\r\n\r\n\r\nSo my question is &quot;what is the difference between connectTimeout and loginTimeout&quot; , do they do the same functionality ?","title":"jdbc connectTimeout vs jdbc loginTimeout","body":"<p>There is a requirement in our project to support 'jdbc timeout' feature for Postgres (Postgresql driver).\nwe also support Microsoft SQL (JTDS driver) and MySQl (mysql driver). So i want to introduce the 'loginTimeout' as a common feature for all the Databases.</p>\n\n<p>While going through documentation of the drivers, i found there is a jdbc parameter called 'loginTimeout' supported from both JTDS and Postgresql drivers but not for Msql</p>\n\n<p><a href=\"http://jtds.sourceforge.net/faq.html\" rel=\"nofollow\">http://jtds.sourceforge.net/faq.html</a></p>\n\n<blockquote>\n  <p><strong><em>loginTimeout</strong> (default - 0 for TCP/IP connections or 20 for named pipe connections) The amount of time to wait (in seconds) for a successful\n  connection before timing out. If a TCP/IP connection is used to\n  connect to the database and Java 1.4 or newer is being used, the\n  loginTimeout parameter is used to set the initial connection timeout\n  when initially opening a new socket. A value of zero (the default)\n  causes the connection to wait indefinitely, e.g.,until a connection is\n  established or an error occurs. See also socketTimeout. If a named\n  pipe connection is used (namedPipe is true) and loginTimeout is\n  greater than zero, the value of loginTimeout is used for the length of\n  the retry period when \"All pipe instances are busy\" error messages are\n  received while attempting to connect to the server. If loginTimeout is\n  zero (the default), a value of 20 seconds is used for the named pipe\n  retry period.</em></p>\n</blockquote>\n\n<p><a href=\"http://jdbc.postgresql.org/documentation/84/connect.html\" rel=\"nofollow\">http://jdbc.postgresql.org/documentation/84/connect.html</a></p>\n\n<blockquote>\n  <p><strong>loginTimeout</strong> = int Specify how long to wait for establishment of a\n  database connection. The timeout is specified in seconds.</p>\n</blockquote>\n\n<p>but for Mysql there is nothing like loginTimeout, but has </p>\n\n<blockquote>\n  <p><strong>connectTimeout</strong>: Timeout for socket connect (in milliseconds), with 0\n  being no timeout. Only works on JDK-1.4 or newer. Defaults to '0'</p>\n</blockquote>\n\n<p>So my question is \"what is the difference between connectTimeout and loginTimeout\" , do they do the same functionality ?</p>\n"},{"tags":["java","spring-boot","netbeans","classloader","spring-boot-devtools"],"owner":{"account_id":15424656,"reputation":141,"user_id":12934171,"display_name":"Kerdos Media"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700412470,"creation_date":1700412470,"question_id":77511627,"body_markdown":"I keep getting errors with the RestartClassLoader including\r\n\r\n    java.lang.LinkageError: loader constraint violation: loader &#39;app&#39; wants to load\r\n    interface com.company.core.AnInterface. A different interface with the same name was\r\n    previously loaded by org.springframework.boot.devtools.restart.classloader.RestartClassLoader\r\n    @7ee94bd7. (com.company.core.AnInterface is in unnamed module of loader\r\n    org.springframework.boot.devtools.restart.classloader.RestartClassLoader\r\n    @7ee94bd7, parent loader &#39;app&#39;)\r\n\r\nI&#39;m building a multi-module spring boot project with a structure similar to\r\n\r\n    com.company.parent (to tie everything together)\r\n    com.company.app (dependencies for core and module)\r\n    com.company.core\r\n    com.company.module\r\n\r\nI define an interface in the core project, AnInterface. \r\n\r\n    public interface AnInterface {\r\n    \tString getInterfaceId();\r\n    \tboolean isInterface(AnInterface anInterface);\r\n    }\r\n\r\nI also have an abstract Entity class in module, AbstractEntity.\r\n\r\n    @Data\r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n    public abstract class AbstractEntity implements AnInterface {\r\n    \tprivate String interfaceId;\r\n            private abstract boolean isInterface(AnInterface anInterface);\r\n    }\r\n\r\nIn the appplication package I have the SubEntity\r\n\r\n    @Data\r\n    @Entity\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public class SubEntity extends AbstractEntity implements Serialiazable {\r\n    \t@Override\r\n    \tpublic boolean isInterface(AnInterface  anInterface) {\r\n    \t\t//check for nulls ommited\r\n    \t\treturn anInterface.getId().equals(getInterfaceId());\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nAs I understand the error, DevTools uses two class loaders. One for the app, and then one for all the dependencies, of which core, and module are. AnInterface gets loaded by both causing 2 different versions of AnInterface.\r\n\r\nFrom what I understand there are ways to have RestartClassLoader include or exclude classes/sources/jars but I&#39;m having issues with the placement and syntax.\r\n\r\nThe only way I can bypass the exception is to add a system property in my main class\r\n\r\n    @SpringBootApplication\r\n    @EnableAutoCOnfiguration\r\n    @CompnentScan(basePackages = {&quot;com.company.web&quot;, &quot;com.company.core&quot;, &quot;com.company.module&quot;}\r\n    @EnableJpaRepositories(basePackages = {&quot;com.company.web&quot;, &quot;com.company.core&quot;, &quot;com.company.module&quot;}\r\n    @EntityScan(basePackages = {&quot;com.company.web&quot;, &quot;com.company.core&quot;, &quot;com.company.module&quot;}\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    @PropertySource(&quot;classpath:module.properties&quot;)\r\n    @PropertySource(&quot;classpath:core.properties&quot;)\r\n    public class MainClass implements WebMvcConfigurer {\r\n    \tpublic static void main(String[] args) {\r\n    \tSystem.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;false&quot;);\r\n    \t}\r\n    }\r\n\r\nIf I put spring.devtools.restart.enabled=false into application.properties it doesn&#39;t appear to do anything. I also tried creating a spring-devtools.properties in the same folder as application.properties which didn&#39;t fix it either.\r\n\r\nWhile this gets me to be able to continue developing, losing the ability for devtools to restart the application is slowing me down. How can I configure devtools restartClassLoader to avoid this collission?\r\n\r\nThe best I could figure out it has something to do with setting in application.properties a property like \r\n\r\n    restart.include.com-company-core=/com-company-core-[\\\\w\\\\d-\\\\.]+\\\\.jar\r\n    restart.include.com-company-module=/com-company-module-[\\\\w\\\\d-\\\\.]+\\\\.jar\r\n\r\nbut that hasn&#39;t worked for me and neither did putting it in the main class as\r\n\r\n    System.setProperty(&quot;spring.devtools.restart.include.com-company-module&quot;, &quot;/com-company-core-[\\\\\\\\w\\\\\\\\d-\\\\\\\\.]+\\\\\\\\.jar]&quot;);\r\n    System.setProperty(&quot;spring.devtools.restart.include.com-company-module&quot;, &quot;/com-company-module-[\\\\\\\\w\\\\\\\\d-\\\\\\\\.]+\\\\\\\\.jar]&quot;);\r\n\r\nIt feels like I&#39;m close, what am I missing to be able to get devtools restart working again?","title":"How to configure spring boot dev tools so it doesn&#39;t fail when an interface is loaded by both classloaders?","body":"<p>I keep getting errors with the RestartClassLoader including</p>\n<pre><code>java.lang.LinkageError: loader constraint violation: loader 'app' wants to load\ninterface com.company.core.AnInterface. A different interface with the same name was\npreviously loaded by org.springframework.boot.devtools.restart.classloader.RestartClassLoader\n@7ee94bd7. (com.company.core.AnInterface is in unnamed module of loader\norg.springframework.boot.devtools.restart.classloader.RestartClassLoader\n@7ee94bd7, parent loader 'app')\n</code></pre>\n<p>I'm building a multi-module spring boot project with a structure similar to</p>\n<pre><code>com.company.parent (to tie everything together)\ncom.company.app (dependencies for core and module)\ncom.company.core\ncom.company.module\n</code></pre>\n<p>I define an interface in the core project, AnInterface.</p>\n<pre><code>public interface AnInterface {\n    String getInterfaceId();\n    boolean isInterface(AnInterface anInterface);\n}\n</code></pre>\n<p>I also have an abstract Entity class in module, AbstractEntity.</p>\n<pre><code>@Data\n@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\npublic abstract class AbstractEntity implements AnInterface {\n    private String interfaceId;\n        private abstract boolean isInterface(AnInterface anInterface);\n}\n</code></pre>\n<p>In the appplication package I have the SubEntity</p>\n<pre><code>@Data\n@Entity\n@EntityListeners(AuditingEntityListener.class)\npublic class SubEntity extends AbstractEntity implements Serialiazable {\n    @Override\n    public boolean isInterface(AnInterface  anInterface) {\n        //check for nulls ommited\n        return anInterface.getId().equals(getInterfaceId());\n    }\n}\n</code></pre>\n<p>As I understand the error, DevTools uses two class loaders. One for the app, and then one for all the dependencies, of which core, and module are. AnInterface gets loaded by both causing 2 different versions of AnInterface.</p>\n<p>From what I understand there are ways to have RestartClassLoader include or exclude classes/sources/jars but I'm having issues with the placement and syntax.</p>\n<p>The only way I can bypass the exception is to add a system property in my main class</p>\n<pre><code>@SpringBootApplication\n@EnableAutoCOnfiguration\n@CompnentScan(basePackages = {&quot;com.company.web&quot;, &quot;com.company.core&quot;, &quot;com.company.module&quot;}\n@EnableJpaRepositories(basePackages = {&quot;com.company.web&quot;, &quot;com.company.core&quot;, &quot;com.company.module&quot;}\n@EntityScan(basePackages = {&quot;com.company.web&quot;, &quot;com.company.core&quot;, &quot;com.company.module&quot;}\n@PropertySource(&quot;classpath:application.properties&quot;)\n@PropertySource(&quot;classpath:module.properties&quot;)\n@PropertySource(&quot;classpath:core.properties&quot;)\npublic class MainClass implements WebMvcConfigurer {\n    public static void main(String[] args) {\n    System.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;false&quot;);\n    }\n}\n</code></pre>\n<p>If I put spring.devtools.restart.enabled=false into application.properties it doesn't appear to do anything. I also tried creating a spring-devtools.properties in the same folder as application.properties which didn't fix it either.</p>\n<p>While this gets me to be able to continue developing, losing the ability for devtools to restart the application is slowing me down. How can I configure devtools restartClassLoader to avoid this collission?</p>\n<p>The best I could figure out it has something to do with setting in application.properties a property like</p>\n<pre><code>restart.include.com-company-core=/com-company-core-[\\\\w\\\\d-\\\\.]+\\\\.jar\nrestart.include.com-company-module=/com-company-module-[\\\\w\\\\d-\\\\.]+\\\\.jar\n</code></pre>\n<p>but that hasn't worked for me and neither did putting it in the main class as</p>\n<pre><code>System.setProperty(&quot;spring.devtools.restart.include.com-company-module&quot;, &quot;/com-company-core-[\\\\\\\\w\\\\\\\\d-\\\\\\\\.]+\\\\\\\\.jar]&quot;);\nSystem.setProperty(&quot;spring.devtools.restart.include.com-company-module&quot;, &quot;/com-company-module-[\\\\\\\\w\\\\\\\\d-\\\\\\\\.]+\\\\\\\\.jar]&quot;);\n</code></pre>\n<p>It feels like I'm close, what am I missing to be able to get devtools restart working again?</p>\n"},{"tags":["java","office365","jakarta-mail","imap"],"comments":[{"owner":{"account_id":1550376,"reputation":10772,"user_id":1442918,"display_name":"Max"},"score":1,"creation_date":1700403698,"post_id":77510725,"comment_id":136647564,"body_markdown":"You _cannot_ log in with a password.  Period.  https://learn.microsoft.com/en-us/exchange/clients-and-mobile-in-exchange-online/deprecation-of-basic-authentication-exchange-online : `Basic authentication is now disabled in all tenants. Before December 31 2022, you could re-enable the affected protocols if users and apps in your tenant couldn&#39;t connect. Now no one (you or Microsoft support) can re-enable Basic authentication in your tenant.`","body":"You <i>cannot</i> log in with a password.  Period.  <a href=\"https://learn.microsoft.com/en-us/exchange/clients-and-mobile-in-exchange-online/deprecation-of-basic-authentication-exchange-online\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/exchange/&hellip;</a> : <code>Basic authentication is now disabled in all tenants. Before December 31 2022, you could re-enable the affected protocols if users and apps in your tenant couldn&#39;t connect. Now no one (you or Microsoft support) can re-enable Basic authentication in your tenant.</code>"},{"owner":{"account_id":1550376,"reputation":10772,"user_id":1442918,"display_name":"Max"},"score":0,"creation_date":1700403750,"post_id":77510725,"comment_id":136647569,"body_markdown":"You may be able to use certificate based authentication (which is not a password; I don&#39;t know if O365 in the cloud supports this, this is something you will have to specifically setup on the server side), or OAUTH.  Though note, OAUTH supports things like service accounts, etc., if the &quot;logging in with a web browser&quot; part is what styiming you","body":"You may be able to use certificate based authentication (which is not a password; I don&#39;t know if O365 in the cloud supports this, this is something you will have to specifically setup on the server side), or OAUTH.  Though note, OAUTH supports things like service accounts, etc., if the &quot;logging in with a web browser&quot; part is what styiming you"},{"owner":{"account_id":4303446,"reputation":394,"user_id":3516549,"display_name":"luizfelipetx"},"score":0,"creation_date":1700406690,"post_id":77510725,"comment_id":136647871,"body_markdown":"Any Free Mail Box Still is able to login with email and pass ? i can redirect email to there and login programatically there.","body":"Any Free Mail Box Still is able to login with email and pass ? i can redirect email to there and login programatically there."},{"owner":{"account_id":1550376,"reputation":10772,"user_id":1442918,"display_name":"Max"},"score":0,"creation_date":1700426136,"post_id":77510725,"comment_id":136649937,"body_markdown":"I believe consumer microsoft accounts (eg hotmail/outlook.com) can still login with a password, but you&#39;ll have to do your own research there.  Or, stand up your own SMTP server!  Push is better than pull!","body":"I believe consumer microsoft accounts (eg hotmail/outlook.com) can still login with a password, but you&#39;ll have to do your own research there.  Or, stand up your own SMTP server!  Push is better than pull!"}],"owner":{"account_id":4303446,"reputation":394,"user_id":3516549,"display_name":"luizfelipetx"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700409842,"creation_date":1700396266,"question_id":77510725,"body_markdown":"i need connect in outlook365 just to read email , with login and pass to one integration, and i need to be login and pass without XOAUTH. \r\n\r\nI already tried a lot of codes without success, if anyone can help i will be grateful. \r\nFollow my code Java 17\r\n\r\n===========\r\n\r\nUPDATE 19/11/2023\r\nfrom @MAX\r\nits is impossible.\r\n\r\nSo anyone, use another mail box, with login and pass programaticaly to login  ? And that works still in java ? \r\n\r\ncan i made a rule inside main email to foward to another one. And this new &quot;email&quot; in &quot;new plataform&quot; i can access programatically.\r\n\r\nex/. email received in outlook , automatic redirect, to yahoo , in yahoo i will get this email. and use.\r\n\r\n(i tried yahoo, but the flow to create thirdy party access is disable for now)\r\n\r\n```\r\n\r\nMailConnector.java\r\n\r\npackage br.com.myproject.utils;\r\n\r\nimport java.util.Properties;\r\nimport javax.mail.Folder;\r\nimport javax.mail.Message;\r\nimport javax.mail.Session;\r\nimport javax.mail.Store;\r\n\r\npublic class MailConnector {\r\n\r\n\tstatic String user = &quot;myEmailFromCompanyOffice365Enterprise&quot;;\r\n\tstatic String senha = &quot;password&quot;;\r\n\t\r\n\t\r\n\tpublic  static void connect() throws Exception {\r\n\t\t\r\n\t\r\n\t\tProperties prop = new Properties();\r\n\t\tprop.setProperty(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\r\n\t\tprop.setProperty(&quot;ssl.SocketFactory.provider&quot;, &quot;mypackage.utils.ExchangeSSLSocketFactory&quot;);\r\n\t\tprop.setProperty(&quot;mail.imap.socketFactory.class&quot;, &quot;mypackage.utils.ExchangeSSLSocketFactory&quot;);\r\n\t\tprop.setProperty(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\r\n\t    prop.setProperty(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\r\n\t  \r\n          //prop.setProperty(&quot;mail.imaps.partialfetch&quot;, &quot;false&quot;);\r\n          //Add this line ERROR A3 ,  remove this line ERROR A1\r\n\r\n\t\tSession session = Session.getDefaultInstance(prop, null);\r\n\t\tsession.setDebug(true);\r\n\t\tStore store = session.getStore(&quot;imap&quot;);\r\n\r\n\t\tstore.connect(&quot;outlook.office365.com&quot;, user, senha);\r\n\r\n\t\tFolder folder = store.getFolder(&quot;INBOX&quot;);\r\n\t\tfolder.open(Folder.READ_ONLY);\r\n\r\n\t\tSystem.out.println(&quot;Total Message:&quot; + folder.getMessageCount());\r\n\t\tSystem.out.println(&quot;Unread Message:&quot; + folder.getUnreadMessageCount());\r\n\r\n\t\tMessage messages[] = folder.getMessages();\r\n\r\n\t\tfor (Message mail : messages) {\r\n\r\n\t\t\tSystem.out.println(&quot;*********************************&quot;);\r\n\t\t\tSystem.out.println(&quot;MESSAGE : \\n&quot;);\r\n\r\n\t\t\tSystem.out.println(&quot;Subject: &quot; + mail.getSubject());\r\n\t\t\tSystem.out.println(&quot;From: &quot; + mail.getFrom()[0]);\r\n\t\t\tSystem.out.println(&quot;To: &quot; + mail.getAllRecipients()[0]);\r\n\t\t\tSystem.out.println(&quot;Date: &quot; + mail.getReceivedDate());\r\n\t\t\tSystem.out.println(&quot;Size: &quot; + mail.getSize());\r\n\t\t\tSystem.out.println(&quot;Flags: &quot; + mail.getFlags());\r\n\t\t\tSystem.out.println(&quot;ContentType: &quot; + mail.getContentType());\r\n\t\t\tSystem.out.println(&quot;*******************************&quot;);\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tconnect();\r\n\t}\r\n\t \r\n\t\r\n}\r\n```\r\n\r\nReading some problems about that, i add one class to negotiate credentials with microsoft and add in package , and in props session. \r\n\r\nThis is the class. (i just copy and past this class)\r\n\r\n\r\n```\r\n\r\nExchangeSSLSocketFactory.java\r\n\r\npackage br.com.myproject.utils;\r\n\r\nimport javax.net.SocketFactory;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.SSLSocketFactory;\r\nimport javax.net.ssl.TrustManager;\r\nimport javax.net.ssl.*;\r\nimport java.io.IOException;\r\nimport java.net.InetAddress;\r\nimport java.net.Socket;\r\nimport java.security.cert.CertificateException;\r\nimport java.security.cert.X509Certificate;\r\n\r\npublic class ExchangeSSLSocketFactory extends SSLSocketFactory {\r\n\r\nprivate SSLSocketFactory sslSocketFactory;\r\nprivate SocketFactory socketFactory;\r\n\r\npublic ExchangeSSLSocketFactory() {\r\n    try {\r\n        socketFactory = SocketFactory.getDefault();\r\n\r\n        SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\n        context.init(null, new TrustManager[] { new EmptyTrustManager() }, null);\r\n        sslSocketFactory = (SSLSocketFactory)context.getSocketFactory();\r\n    }\r\n    catch (Exception e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n\r\nprivate final class EmptyTrustManager implements X509TrustManager {\r\n    public void checkClientTrusted(X509Certificate[] cert, String authType) throws CertificateException {}\r\n\r\n    public void checkServerTrusted(X509Certificate[] cert, String authType) throws CertificateException {}\r\n\r\n    public X509Certificate[] getAcceptedIssuers() {\r\n        return new java.security.cert.X509Certificate[0];\r\n    }\r\n}\r\n\r\npublic static SocketFactory getDefault() {\r\n    return new ExchangeSSLSocketFactory();\r\n}\r\n\r\n@Override\r\npublic Socket createSocket(Socket socket, String s, int i, boolean flag) throws IOException {\r\n    return sslSocketFactory.createSocket(socket, s, i, flag);\r\n}\r\n\r\n@Override\r\npublic Socket createSocket(InetAddress inaddr, int i, InetAddress inaddr1, int j) throws IOException {\r\n    return socketFactory.createSocket(inaddr, i, inaddr1, j);\r\n}\r\n\r\n@Override\r\npublic Socket createSocket(InetAddress inaddr, int i) throws IOException {\r\n    return socketFactory.createSocket(inaddr, i);\r\n}\r\n\r\n@Override\r\npublic Socket createSocket(String s, int i, InetAddress inaddr, int j) throws IOException {\r\n    return socketFactory.createSocket(s, i, inaddr, j);\r\n}\r\n\r\n@Override\r\npublic Socket createSocket(String s, int i) throws IOException {\r\n    return socketFactory.createSocket(s, i);\r\n}\r\n\r\n@Override\r\npublic Socket createSocket() throws IOException {\r\n    return socketFactory.createSocket();\r\n}\r\n\r\n@Override\r\npublic String[] getDefaultCipherSuites() {\r\n    return sslSocketFactory.getSupportedCipherSuites();\r\n}\r\n\r\n@Override\r\npublic String[] getSupportedCipherSuites() {\r\n    return sslSocketFactory.getSupportedCipherSuites();\r\n}\r\n\r\n}\r\n```\r\n\r\n\r\nIf anyone have a solution or understand better about protocols and what i need to do to make the integration works, will be amazing. This solution cannot provide XOAUTH, need to be login and pass. Reading the forum i found lot of people with solutions working but not share the code =/\r\n\r\n\r\n","title":"Connect OutlookMail Fail A1 and A3 Errors JavaMail with simple login and pass to connect in Outlook365 Mail","body":"<p>i need connect in outlook365 just to read email , with login and pass to one integration, and i need to be login and pass without XOAUTH.</p>\n<p>I already tried a lot of codes without success, if anyone can help i will be grateful.\nFollow my code Java 17</p>\n<p>===========</p>\n<p>UPDATE 19/11/2023\nfrom @MAX\nits is impossible.</p>\n<p>So anyone, use another mail box, with login and pass programaticaly to login  ? And that works still in java ?</p>\n<p>can i made a rule inside main email to foward to another one. And this new &quot;email&quot; in &quot;new plataform&quot; i can access programatically.</p>\n<p>ex/. email received in outlook , automatic redirect, to yahoo , in yahoo i will get this email. and use.</p>\n<p>(i tried yahoo, but the flow to create thirdy party access is disable for now)</p>\n<pre><code>\nMailConnector.java\n\npackage br.com.myproject.utils;\n\nimport java.util.Properties;\nimport javax.mail.Folder;\nimport javax.mail.Message;\nimport javax.mail.Session;\nimport javax.mail.Store;\n\npublic class MailConnector {\n\n    static String user = &quot;myEmailFromCompanyOffice365Enterprise&quot;;\n    static String senha = &quot;password&quot;;\n    \n    \n    public  static void connect() throws Exception {\n        \n    \n        Properties prop = new Properties();\n        prop.setProperty(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\n        prop.setProperty(&quot;ssl.SocketFactory.provider&quot;, &quot;mypackage.utils.ExchangeSSLSocketFactory&quot;);\n        prop.setProperty(&quot;mail.imap.socketFactory.class&quot;, &quot;mypackage.utils.ExchangeSSLSocketFactory&quot;);\n        prop.setProperty(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\n        prop.setProperty(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\n      \n          //prop.setProperty(&quot;mail.imaps.partialfetch&quot;, &quot;false&quot;);\n          //Add this line ERROR A3 ,  remove this line ERROR A1\n\n        Session session = Session.getDefaultInstance(prop, null);\n        session.setDebug(true);\n        Store store = session.getStore(&quot;imap&quot;);\n\n        store.connect(&quot;outlook.office365.com&quot;, user, senha);\n\n        Folder folder = store.getFolder(&quot;INBOX&quot;);\n        folder.open(Folder.READ_ONLY);\n\n        System.out.println(&quot;Total Message:&quot; + folder.getMessageCount());\n        System.out.println(&quot;Unread Message:&quot; + folder.getUnreadMessageCount());\n\n        Message messages[] = folder.getMessages();\n\n        for (Message mail : messages) {\n\n            System.out.println(&quot;*********************************&quot;);\n            System.out.println(&quot;MESSAGE : \\n&quot;);\n\n            System.out.println(&quot;Subject: &quot; + mail.getSubject());\n            System.out.println(&quot;From: &quot; + mail.getFrom()[0]);\n            System.out.println(&quot;To: &quot; + mail.getAllRecipients()[0]);\n            System.out.println(&quot;Date: &quot; + mail.getReceivedDate());\n            System.out.println(&quot;Size: &quot; + mail.getSize());\n            System.out.println(&quot;Flags: &quot; + mail.getFlags());\n            System.out.println(&quot;ContentType: &quot; + mail.getContentType());\n            System.out.println(&quot;*******************************&quot;);\n\n        }\n    }\n\n    public static void main(String[] args) throws Exception {\n        connect();\n    }\n     \n    \n}\n</code></pre>\n<p>Reading some problems about that, i add one class to negotiate credentials with microsoft and add in package , and in props session.</p>\n<p>This is the class. (i just copy and past this class)</p>\n<pre><code>\nExchangeSSLSocketFactory.java\n\npackage br.com.myproject.utils;\n\nimport javax.net.SocketFactory;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLSocketFactory;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.*;\nimport java.io.IOException;\nimport java.net.InetAddress;\nimport java.net.Socket;\nimport java.security.cert.CertificateException;\nimport java.security.cert.X509Certificate;\n\npublic class ExchangeSSLSocketFactory extends SSLSocketFactory {\n\nprivate SSLSocketFactory sslSocketFactory;\nprivate SocketFactory socketFactory;\n\npublic ExchangeSSLSocketFactory() {\n    try {\n        socketFactory = SocketFactory.getDefault();\n\n        SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\n        context.init(null, new TrustManager[] { new EmptyTrustManager() }, null);\n        sslSocketFactory = (SSLSocketFactory)context.getSocketFactory();\n    }\n    catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n\nprivate final class EmptyTrustManager implements X509TrustManager {\n    public void checkClientTrusted(X509Certificate[] cert, String authType) throws CertificateException {}\n\n    public void checkServerTrusted(X509Certificate[] cert, String authType) throws CertificateException {}\n\n    public X509Certificate[] getAcceptedIssuers() {\n        return new java.security.cert.X509Certificate[0];\n    }\n}\n\npublic static SocketFactory getDefault() {\n    return new ExchangeSSLSocketFactory();\n}\n\n@Override\npublic Socket createSocket(Socket socket, String s, int i, boolean flag) throws IOException {\n    return sslSocketFactory.createSocket(socket, s, i, flag);\n}\n\n@Override\npublic Socket createSocket(InetAddress inaddr, int i, InetAddress inaddr1, int j) throws IOException {\n    return socketFactory.createSocket(inaddr, i, inaddr1, j);\n}\n\n@Override\npublic Socket createSocket(InetAddress inaddr, int i) throws IOException {\n    return socketFactory.createSocket(inaddr, i);\n}\n\n@Override\npublic Socket createSocket(String s, int i, InetAddress inaddr, int j) throws IOException {\n    return socketFactory.createSocket(s, i, inaddr, j);\n}\n\n@Override\npublic Socket createSocket(String s, int i) throws IOException {\n    return socketFactory.createSocket(s, i);\n}\n\n@Override\npublic Socket createSocket() throws IOException {\n    return socketFactory.createSocket();\n}\n\n@Override\npublic String[] getDefaultCipherSuites() {\n    return sslSocketFactory.getSupportedCipherSuites();\n}\n\n@Override\npublic String[] getSupportedCipherSuites() {\n    return sslSocketFactory.getSupportedCipherSuites();\n}\n\n}\n</code></pre>\n<p>If anyone have a solution or understand better about protocols and what i need to do to make the integration works, will be amazing. This solution cannot provide XOAUTH, need to be login and pass. Reading the forum i found lot of people with solutions working but not share the code =/</p>\n"},{"tags":["java","java-8","apache-kafka","java-12"],"comments":[{"owner":{"account_id":2429856,"reputation":576,"user_id":2121026,"accept_rate":74,"display_name":"Java Dude"},"score":0,"creation_date":1700409659,"post_id":55531708,"comment_id":136648187,"body_markdown":"Did you fix the issue? If yes, please share the fix.","body":"Did you fix the issue? If yes, please share the fix."}],"answers":[{"comments":[{"owner":{"display_name":"user11311618"},"score":0,"creation_date":1554463867,"post_id":55532989,"comment_id":97771897,"body_markdown":"i downloaded java 8 and i&#39;m using that.","body":"i downloaded java 8 and i&#39;m using that."},{"owner":{"account_id":7025899,"reputation":2192,"user_id":5383281,"display_name":"Mebin Joe"},"score":0,"creation_date":1554703702,"post_id":55532989,"comment_id":97833319,"body_markdown":"@Hummingbird Were you able to resolve NoClassDefFoundError ?","body":"@Hummingbird Were you able to resolve NoClassDefFoundError ?"},{"owner":{"account_id":7025899,"reputation":2192,"user_id":5383281,"display_name":"Mebin Joe"},"score":0,"creation_date":1554793973,"post_id":55532989,"comment_id":97871183,"body_markdown":"@Hummingbird If the answer was helpful could you please mark the answer as useful. Thank you","body":"@Hummingbird If the answer was helpful could you please mark the answer as useful. Thank you"},{"owner":{"display_name":"user11311618"},"score":0,"creation_date":1554800124,"post_id":55532989,"comment_id":97874560,"body_markdown":"i&#39;m ready to mark it as useful but i don&#39;t know how to do it, also i&#39;m not marking as accepted as it din&#39;t solve my answer.","body":"i&#39;m ready to mark it as useful but i don&#39;t know how to do it, also i&#39;m not marking as accepted as it din&#39;t solve my answer."},{"owner":{"account_id":7025899,"reputation":2192,"user_id":5383281,"display_name":"Mebin Joe"},"score":0,"creation_date":1554803351,"post_id":55532989,"comment_id":97876563,"body_markdown":"@Hummingbird It&#39;s ok. Cool","body":"@Hummingbird It&#39;s ok. Cool"},{"owner":{"account_id":928372,"reputation":2357,"user_id":958689,"display_name":"hiergiltdiestfu"},"score":0,"creation_date":1554986063,"post_id":55532989,"comment_id":97956272,"body_markdown":"@Humming The linked solution works for any Java at or above version 11.","body":"@Humming The linked solution works for any Java at or above version 11."},{"owner":{"display_name":"user11311618"},"score":0,"creation_date":1554986982,"post_id":55532989,"comment_id":97956846,"body_markdown":"@hiergiltdiestfu yes, but the solution assumes it was build from maven but i do not have pom.xml to add the dependency&#39;s.","body":"@hiergiltdiestfu yes, but the solution assumes it was build from maven but i do not have pom.xml to add the dependency&#39;s."},{"owner":{"account_id":928372,"reputation":2357,"user_id":958689,"display_name":"hiergiltdiestfu"},"score":0,"creation_date":1554991556,"post_id":55532989,"comment_id":97960115,"body_markdown":"@humming You can download the referenced libraries through maven central and use the jars directly.","body":"@humming You can download the referenced libraries through maven central and use the jars directly."},{"owner":{"display_name":"user11311618"},"score":0,"creation_date":1555052920,"post_id":55532989,"comment_id":97981830,"body_markdown":"how can i add jar files to shell files??","body":"how can i add jar files to shell files??"},{"owner":{"account_id":928372,"reputation":2357,"user_id":958689,"display_name":"hiergiltdiestfu"},"score":0,"creation_date":1583846901,"post_id":55532989,"comment_id":107244806,"body_markdown":"@humming you need to put them onto the classpath when invoking your java application, irrespective if you start it directly or through a shell file","body":"@humming you need to put them onto the classpath when invoking your java application, irrespective if you start it directly or through a shell file"}],"tags":[],"owner":{"account_id":7025899,"reputation":2192,"user_id":5383281,"display_name":"Mebin Joe"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554458737,"creation_date":1554458737,"answer_id":55532989,"question_id":55531708,"body_markdown":"This `javax/xml/bind` API is removed since Java 11. You can refer to https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j for a workaround","title":"Kafka unable to resolve javax/xml/bind/* ClassNotFoundExeption for java 12?","body":"<p>This <code>javax/xml/bind</code> API is removed since Java 11. You can refer to <a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception-in-j\">How to resolve java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException in Java 9</a> for a workaround</p>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1554478618,"creation_date":1554478618,"answer_id":55538980,"question_id":55531708,"body_markdown":"&gt; I&#39;m learning kafka and just downloaded kafka 0.10.1\r\n\r\nThis version of Kafka does not support versions of Java above 8. \r\n\r\nOnly the newest Kafka 2.2.0 (which very likely will work the same for your learning purposes), added support for Java 11","title":"Kafka unable to resolve javax/xml/bind/* ClassNotFoundExeption for java 12?","body":"<blockquote>\n  <p>I'm learning kafka and just downloaded kafka 0.10.1</p>\n</blockquote>\n\n<p>This version of Kafka does not support versions of Java above 8. </p>\n\n<p>Only the newest Kafka 2.2.0 (which very likely will work the same for your learning purposes), added support for Java 11</p>\n"},{"tags":[],"owner":{"account_id":2260830,"reputation":3,"user_id":1990991,"display_name":"user1990991"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559889143,"creation_date":1559889143,"answer_id":56489063,"question_id":55531708,"body_markdown":"I am  using JDK10. for that I  have added something like below to make it work for me.\r\n1) edit  kafka-run-class.bat\r\n2) the set COMMAND=%JAVA%  **–add-modules java.xml.bind** rest of the lines remain same.\r\n3) Run kafka server","title":"Kafka unable to resolve javax/xml/bind/* ClassNotFoundExeption for java 12?","body":"<p>I am  using JDK10. for that I  have added something like below to make it work for me.\n1) edit  kafka-run-class.bat\n2) the set COMMAND=%JAVA%  <strong>–add-modules java.xml.bind</strong> rest of the lines remain same.\n3) Run kafka server</p>\n"}],"owner":{"display_name":"user11311618"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2451,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55538980,"answer_count":3,"score":0,"last_activity_date":1700409643,"creation_date":1554454653,"question_id":55531708,"body_markdown":"I&#39;m learning kafka and  just downloaded kafka 0.10.1 (as it&#39;s the requirement of my project) and whenever i run this command line code\r\n\r\n`bin/kafka-server-start.sh config/server.properties`\r\n\r\ni get this error\r\n\r\n    java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\r\n    \tat kafka.utils.CoreUtils$.urlSafeBase64EncodeNoPadding(CoreUtils.scala:298)\r\n    \tat kafka.utils.CoreUtils$.generateUuidAsBase64(CoreUtils.scala:286)\r\n    \tat kafka.server.KafkaServer$$anonfun$getOrGenerateClusterId$1.apply(KafkaServer.scala:336)\r\n    \tat kafka.server.KafkaServer$$anonfun$getOrGenerateClusterId$1.apply(KafkaServer.scala:336)\r\n    \tat scala.Option.getOrElse(Option.scala:121)\r\n    \tat kafka.server.KafkaServer.getOrGenerateClusterId(KafkaServer.scala:336)\r\n    \tat kafka.server.KafkaServer.startup(KafkaServer.scala:203)\r\n    \tat kafka.server.KafkaServerStartable.startup(KafkaServerStartable.scala:39)\r\n    \tat kafka.Kafka$.main(Kafka.scala:67)\r\n    \tat kafka.Kafka.main(Kafka.scala)\r\n    Caused by: java.lang.ClassNotFoundException: javax.xml.bind.DatatypeConverter\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 10 more\r\n\r\n\r\nI&#39;m actually using java 12 and `javax/xml/bind/*` is removed from java 11 so some suggestion were to add the dependencies in the pom.xml file but i unzipped kafka from a .tar file and not build it using maven so how can i resolve this error in kafka??\r\n\r\nshould i download java-8 for this??","title":"Kafka unable to resolve javax/xml/bind/* ClassNotFoundExeption for java 12?","body":"<p>I'm learning kafka and  just downloaded kafka 0.10.1 (as it's the requirement of my project) and whenever i run this command line code</p>\n\n<p><code>bin/kafka-server-start.sh config/server.properties</code></p>\n\n<p>i get this error</p>\n\n<pre><code>java.lang.NoClassDefFoundError: javax/xml/bind/DatatypeConverter\n    at kafka.utils.CoreUtils$.urlSafeBase64EncodeNoPadding(CoreUtils.scala:298)\n    at kafka.utils.CoreUtils$.generateUuidAsBase64(CoreUtils.scala:286)\n    at kafka.server.KafkaServer$$anonfun$getOrGenerateClusterId$1.apply(KafkaServer.scala:336)\n    at kafka.server.KafkaServer$$anonfun$getOrGenerateClusterId$1.apply(KafkaServer.scala:336)\n    at scala.Option.getOrElse(Option.scala:121)\n    at kafka.server.KafkaServer.getOrGenerateClusterId(KafkaServer.scala:336)\n    at kafka.server.KafkaServer.startup(KafkaServer.scala:203)\n    at kafka.server.KafkaServerStartable.startup(KafkaServerStartable.scala:39)\n    at kafka.Kafka$.main(Kafka.scala:67)\n    at kafka.Kafka.main(Kafka.scala)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.DatatypeConverter\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 10 more\n</code></pre>\n\n<p>I'm actually using java 12 and <code>javax/xml/bind/*</code> is removed from java 11 so some suggestion were to add the dependencies in the pom.xml file but i unzipped kafka from a .tar file and not build it using maven so how can i resolve this error in kafka??</p>\n\n<p>should i download java-8 for this??</p>\n"},{"tags":["java","performance","affinity","numa","numactl"],"owner":{"account_id":5164133,"reputation":151,"user_id":4134776,"display_name":"Carlos S&#225;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1700409580,"creation_date":1495189236,"question_id":44067490,"body_markdown":"I&#39;m studying some codes in Java (*SOR algorithm and LU factorisation*). The main goal is to study the impact of executing such algorithms in a NUMA aware architecture. I already found some tools such as *numactl*, and other affinity environment variables. Such as: **GOMP_CPU_AFFINITY (GCC)** and **KMP_AFFINITY (ICC)** to pin threads to cores using the same algorithms in C. However I don&#39;t know what alternatives I have for studying NUMA in Java. For Java I only use *numactl* with performance gains using **--interleave=all** flag but I don&#39;t really have control about what is happening in a JVM level.\r\n\r\nI found another tool called *numastat* which is supposed to measure &quot;NUMA counters&quot; in a NUMA architecture and know the allocations which were &quot;hit&quot; (numa_hit) and &quot;miss&quot; (numa_miss) in a NUMA-Node. However I&#39;m not sure how can I use it to measure this counters with my Java application.\r\nWhat kind of tests (and programming techniques) should I perform in order to study the impact of NUMA in Java applications?\r\n\r\nThanks for your help.","title":"How to study the impact of NUMA in Java algorithms","body":"<p>I'm studying some codes in Java (<em>SOR algorithm and LU factorisation</em>). The main goal is to study the impact of executing such algorithms in a NUMA aware architecture. I already found some tools such as <em>numactl</em>, and other affinity environment variables. Such as: <strong>GOMP_CPU_AFFINITY (GCC)</strong> and <strong>KMP_AFFINITY (ICC)</strong> to pin threads to cores using the same algorithms in C. However I don't know what alternatives I have for studying NUMA in Java. For Java I only use <em>numactl</em> with performance gains using <strong>--interleave=all</strong> flag but I don't really have control about what is happening in a JVM level.</p>\n<p>I found another tool called <em>numastat</em> which is supposed to measure &quot;NUMA counters&quot; in a NUMA architecture and know the allocations which were &quot;hit&quot; (numa_hit) and &quot;miss&quot; (numa_miss) in a NUMA-Node. However I'm not sure how can I use it to measure this counters with my Java application.\nWhat kind of tests (and programming techniques) should I perform in order to study the impact of NUMA in Java applications?</p>\n<p>Thanks for your help.</p>\n"},{"tags":["java","swing","concurrency"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1700403437,"post_id":77511087,"comment_id":136647533,"body_markdown":"For one, you&#39;re using the wrong Timer class. Do not use `java.util.Timer` with Swing GUI&#39;s but rather use `javax.swing.Timer` which is thread-safe. For another, you are not posting the key information required to allow others to be able to help debug a NPE (NullPointerException), one of the most common issues seen on this site. Study the duplicate and consider improving your question if still stuck.","body":"For one, you&#39;re using the wrong Timer class. Do not use <code>java.util.Timer</code> with Swing GUI&#39;s but rather use <code>javax.swing.Timer</code> which is thread-safe. For another, you are not posting the key information required to allow others to be able to help debug a NPE (NullPointerException), one of the most common issues seen on this site. Study the duplicate and consider improving your question if still stuck."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1700404047,"post_id":77511087,"comment_id":136647599,"body_markdown":"So, always include the full stack trace text with your NPE question, and highlight the lines that the stack trace indicates throws the exception (which you may kind of be doing, but without the stack trace, it&#39;s difficult to tell), and also what variable is definitely null when the exception occurs, as per your debugger.  Also, look into posting [mre] code with your question so that we can reproduce the problem ourselves.","body":"So, always include the full stack trace text with your NPE question, and highlight the lines that the stack trace indicates throws the exception (which you may kind of be doing, but without the stack trace, it&#39;s difficult to tell), and also what variable is definitely null when the exception occurs, as per your debugger.  Also, look into posting <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> code with your question so that we can reproduce the problem ourselves."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1700404391,"post_id":77511087,"comment_id":136647636,"body_markdown":"and to answer your direct question, yes, it is very possible for a null check, such as written above, to fail in a multi-threading environment if threading isn&#39;t handled correctly. One solution is to use synchronization, but more importantly for this example, simply changing your Timer class to the correct one will likely remove this very risk.","body":"and to answer your direct question, yes, it is very possible for a null check, such as written above, to fail in a multi-threading environment if threading isn&#39;t handled correctly. One solution is to use synchronization, but more importantly for this example, simply changing your Timer class to the correct one will likely remove this very risk."},{"owner":{"account_id":18080104,"reputation":131,"user_id":14575766,"display_name":"Javi"},"score":0,"creation_date":1700406079,"post_id":77511087,"comment_id":136647800,"body_markdown":"Thanks, i will try with the other timer.  i tried with synchornized method but app frezze","body":"Thanks, i will try with the other timer.  i tried with synchornized method but app frezze"},{"owner":{"account_id":18080104,"reputation":131,"user_id":14575766,"display_name":"Javi"},"score":0,"creation_date":1700407491,"post_id":77511087,"comment_id":136647944,"body_markdown":"Thanks. The javax.swing.Timer works fine","body":"Thanks. The javax.swing.Timer works fine"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1700409395,"post_id":77511087,"comment_id":136648155,"body_markdown":"You&#39;re welcome. The Swing timer should work because all the key code is called on a single thread, the Swing Event Thread. For more details on this, please review [Lesson: Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html)","body":"You&#39;re welcome. The Swing timer should work because all the key code is called on a single thread, the Swing Event Thread. For more details on this, please review <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Lesson: Concurrency in Swing</a>"}],"owner":{"account_id":18080104,"reputation":131,"user_id":14575766,"display_name":"Javi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1700403319,"answer_count":0,"score":0,"last_activity_date":1700409280,"creation_date":1700403267,"question_id":77511087,"body_markdown":"//swing class, An object named foo(frame showing time each second)\r\n\r\n        Timer timer = new Timer();\r\n        timer.scheduleAtFixedRate(new TimerTask() {\r\n            \r\n            @Override\r\n            public void  run() {\r\n                \r\n                if(object != null){\r\n                      object.getProperty()... //-&gt;here NullPointerException\r\n                }\r\n            }\r\n         }, 0, 1000);\r\n\r\n      //another class\r\n\r\n      foo.setObject(null)\r\n\r\n\r\n\r\n\r\n\r\nis it possible that foo.setObject(null) happens after if(object!=null) and before object.getproperty()??","title":"NullPointerException on timer","body":"<p>//swing class, An object named foo(frame showing time each second)</p>\n<pre><code>    Timer timer = new Timer();\n    timer.scheduleAtFixedRate(new TimerTask() {\n        \n        @Override\n        public void  run() {\n            \n            if(object != null){\n                  object.getProperty()... //-&gt;here NullPointerException\n            }\n        }\n     }, 0, 1000);\n\n  //another class\n\n  foo.setObject(null)\n</code></pre>\n<p>is it possible that foo.setObject(null) happens after if(object!=null) and before object.getproperty()??</p>\n"},{"tags":["java","spring","rest","spring-boot","http"],"answers":[{"comments":[{"owner":{"account_id":6259816,"reputation":823,"user_id":4867303,"accept_rate":75,"display_name":"CeePlusPlus"},"score":0,"creation_date":1569340033,"post_id":58067128,"comment_id":102561893,"body_markdown":"You were first, but its still not working.  Current error is `org.springframework.web.multipart.support.MissingServletRequestPartException: Required request part &#39;file&#39; is not present`  -- I&#39;ve add the servers source code to the question.","body":"You were first, but its still not working.  Current error is <code>org.springframework.web.multipart.support.MissingServletRequ&zwnj;&#8203;estPartException: Required request part &#39;file&#39; is not present</code>  -- I&#39;ve add the servers source code to the question."},{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":1,"creation_date":1569340322,"post_id":58067128,"comment_id":102562045,"body_markdown":"Sorry, Could you try `multipartRequest.add(&quot;file&quot;,entity);` instead of `multipartRequest.add(&quot;MyResultFile&quot;,entity);` ?","body":"Sorry, Could you try <code>multipartRequest.add(&quot;file&quot;,entity);</code> instead of <code>multipartRequest.add(&quot;MyResultFile&quot;,entity);</code> ?"},{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1569341502,"post_id":58067128,"comment_id":102562673,"body_markdown":"what error do you receive ? Is it complaining about the file name ?","body":"what error do you receive ? Is it complaining about the file name ?"},{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1569341746,"post_id":58067128,"comment_id":102562797,"body_markdown":"That doesn&#39;t look like an error coming from rest template but from controller. Are you sure your multipart request is making to the controller correctly ?","body":"That doesn&#39;t look like an error coming from rest template but from controller. Are you sure your multipart request is making to the controller correctly ?"},{"owner":{"account_id":6259816,"reputation":823,"user_id":4867303,"accept_rate":75,"display_name":"CeePlusPlus"},"score":0,"creation_date":1569341816,"post_id":58067128,"comment_id":102562833,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/199923/discussion-between-ceeplusplus-and-user2683814).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/199923/discussion-between-ceeplusplus-and-user2683814\">continue this discussion in chat</a>."},{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1569365773,"post_id":58067128,"comment_id":102571427,"body_markdown":"Added the missing content disposition header. It should all work now.","body":"Added the missing content disposition header. It should all work now."},{"owner":{"account_id":6259816,"reputation":823,"user_id":4867303,"accept_rate":75,"display_name":"CeePlusPlus"},"score":0,"creation_date":1569437815,"post_id":58067128,"comment_id":102600761,"body_markdown":"something even before the server is blocking it now, it doesnt seem to even reach Spring if I add that header.  I verified that line is causing this issue now.","body":"something even before the server is blocking it now, it doesnt seem to even reach Spring if I add that header.  I verified that line is causing this issue now."},{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1569438000,"post_id":58067128,"comment_id":102600834,"body_markdown":"I tried the same code at my end and worked as expected. are you just trying with first multipart only ? I removed the &#39;parameters&#39; in my test. See if you can locate any error somewhere in logs.","body":"I tried the same code at my end and worked as expected. are you just trying with first multipart only ? I removed the &#39;parameters&#39; in my test. See if you can locate any error somewhere in logs."},{"owner":{"account_id":6259816,"reputation":823,"user_id":4867303,"accept_rate":75,"display_name":"CeePlusPlus"},"score":0,"creation_date":1569438783,"post_id":58067128,"comment_id":102601184,"body_markdown":"With no params it also doesnt hit the logs, regardless of that header their or not.  With the parameters and not that header I&#39;m back to &#39;file&#39; is not present.   My code currently matches my post.","body":"With no params it also doesnt hit the logs, regardless of that header their or not.  With the parameters and not that header I&#39;m back to &#39;file&#39; is not present.   My code currently matches my post."},{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1569438928,"post_id":58067128,"comment_id":102601239,"body_markdown":"To be honest. I didnt try with all other request parameters you have. I tried with `@PutMapping(path = &quot;/xyz&quot;)\npublic ResponseEntity putRequest(\n    HttpServletRequest request,\n    HttpServletResponse response,\n    @RequestParam(&quot;file&quot;) MultipartFile uploadedFile ) throws Exception  {\n        uploadedFile.getBytes(); ...`\n    }\n} and worked for me.","body":"To be honest. I didnt try with all other request parameters you have. I tried with <code>@PutMapping(path = &quot;&#47;xyz&quot;) public ResponseEntity putRequest(     HttpServletRequest request,     HttpServletResponse response,     @RequestParam(&quot;file&quot;) MultipartFile uploadedFile ) throws Exception  {         uploadedFile.getBytes(); ...</code>     } } and worked for me."},{"owner":{"account_id":6259816,"reputation":823,"user_id":4867303,"accept_rate":75,"display_name":"CeePlusPlus"},"score":0,"creation_date":1569438985,"post_id":58067128,"comment_id":102601262,"body_markdown":"Everything else is just path variables that make up the uri","body":"Everything else is just path variables that make up the uri"},{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1569443533,"post_id":58067128,"comment_id":102603094,"body_markdown":"You could add `header.set(&quot;Authorization&quot;,&quot;myToken&quot;);` if its complaining about the authorization. If that doesn&#39;t work please see if you can locate the error. May be trying running your server at debug log level. This should now match exactly as what your Apache version.","body":"You could add <code>header.set(&quot;Authorization&quot;,&quot;myToken&quot;);</code> if its complaining about the authorization. If that doesn&#39;t work please see if you can locate the error. May be trying running your server at debug log level. This should now match exactly as what your Apache version."},{"owner":{"account_id":6259816,"reputation":823,"user_id":4867303,"accept_rate":75,"display_name":"CeePlusPlus"},"score":0,"creation_date":1569520031,"post_id":58067128,"comment_id":102632960,"body_markdown":"Added my answer that builds on yours. Seems to be working for me. Thank you so much for your help.","body":"Added my answer that builds on yours. Seems to be working for me. Thank you so much for your help."}],"tags":[],"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"comment_count":13,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569365701,"creation_date":1569258355,"answer_id":58067128,"question_id":57963597,"body_markdown":"You need to add the content type as multipart along with content disposition. Make sure to import spring classes as there are same classes in Apache Http library.\r\n\r\n    String uri = &quot;http://putmyresults.com&quot;;\r\n    MultiValueMap&lt;String,Object&gt; multipartRequest = new LinkedMultiValueMap&lt;&gt;();\r\n\r\n    ResultObject results = buildResultObject(myData);\r\n    byte[] bytes = results.convertToAvroBytes()\r\n    HttpHeaders fileHeader = new HttpHeaders();\r\n    headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\r\n    headers.setContentDispositionFormData(&quot;file&quot;,&quot;mydata&quot;);\r\n    HttpEntity&lt;byte[]&gt; entity = new HttpEntity&lt;&gt;(bytes,fileHeader);\r\n    multipartRequest.add(&quot;file&quot;,entity);\r\n    \r\n    HttpHeaders header = new HttpHeaders();\r\n    header.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n\r\n    HttpEntity&lt;MultiValueMap&lt;String,Object&gt;&gt; requestMap = new HttpEntity&lt;&gt;(multipartRequest,header);\r\n    String response = new RestTemplate().exchange(uri,HttpMethod.PUT,requestMap,String.class);\r\n\r\nReference:[multipart-file-upload-using-spring-rest-template-spring-web-mvc][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/26964688/multipart-file-upload-using-spring-rest-template-spring-web-mvc","title":"Making a MultiPart Put request via Spring Rest to call a API with formData (Replace Apache MultipartEntityBuilder with REST)","body":"<p>You need to add the content type as multipart along with content disposition. Make sure to import spring classes as there are same classes in Apache Http library.</p>\n\n<pre><code>String uri = \"http://putmyresults.com\";\nMultiValueMap&lt;String,Object&gt; multipartRequest = new LinkedMultiValueMap&lt;&gt;();\n\nResultObject results = buildResultObject(myData);\nbyte[] bytes = results.convertToAvroBytes()\nHttpHeaders fileHeader = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_OCTET_STREAM);\nheaders.setContentDispositionFormData(\"file\",\"mydata\");\nHttpEntity&lt;byte[]&gt; entity = new HttpEntity&lt;&gt;(bytes,fileHeader);\nmultipartRequest.add(\"file\",entity);\n\nHttpHeaders header = new HttpHeaders();\nheader.setContentType(MediaType.MULTIPART_FORM_DATA);\n\nHttpEntity&lt;MultiValueMap&lt;String,Object&gt;&gt; requestMap = new HttpEntity&lt;&gt;(multipartRequest,header);\nString response = new RestTemplate().exchange(uri,HttpMethod.PUT,requestMap,String.class);\n</code></pre>\n\n<p>Reference:<a href=\"https://stackoverflow.com/questions/26964688/multipart-file-upload-using-spring-rest-template-spring-web-mvc\">multipart-file-upload-using-spring-rest-template-spring-web-mvc</a></p>\n"},{"comments":[{"owner":{"account_id":6259816,"reputation":823,"user_id":4867303,"accept_rate":75,"display_name":"CeePlusPlus"},"score":0,"creation_date":1569340134,"post_id":58068215,"comment_id":102561938,"body_markdown":"`Cant infer arguments for ByteArrayResource` -- can you please expand the example and match the variables to what I have?  I&#39;m not clear what is my byte[] in this example.    (I&#39;ve force added ByteArrayResource into the Diamonds, but then the error is `ByteArrayResource cannot be applied to byte[]`","body":"<code>Cant infer arguments for ByteArrayResource</code> -- can you please expand the example and match the variables to what I have?  I&#39;m not clear what is my byte[] in this example.    (I&#39;ve force added ByteArrayResource into the Diamonds, but then the error is <code>ByteArrayResource cannot be applied to byte[]</code>"}],"tags":[],"owner":{"account_id":6288043,"reputation":770,"user_id":4886572,"display_name":"brijesh"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1569263401,"creation_date":1569263401,"answer_id":58068215,"question_id":57963597,"body_markdown":"Try this:\r\n\r\n    MultiValueMap&lt;String, Object&gt; multipartRequest = new LinkedMultiValueMap&lt;&gt;();\r\n \r\n    // creating an HttpEntity for the binary part\r\n    HttpHeaders header = new HttpHeaders();\r\n    pictureHeader.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n    HttpEntity&lt;ByteArrayResource&gt; file = new HttpEntity&lt;&gt;(pngPicture, pictureHeader);\r\n    multipartRequest.add(&quot;file&quot;, file);\r\n \r\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt; \r\n    (multipartRequest, header);\r\n    ResultObject result = restTemplate.put(UPLOAD_URL, requestEntity);","title":"Making a MultiPart Put request via Spring Rest to call a API with formData (Replace Apache MultipartEntityBuilder with REST)","body":"<p>Try this:</p>\n\n<pre><code>MultiValueMap&lt;String, Object&gt; multipartRequest = new LinkedMultiValueMap&lt;&gt;();\n\n// creating an HttpEntity for the binary part\nHttpHeaders header = new HttpHeaders();\npictureHeader.setContentType(MediaType.MULTIPART_FORM_DATA);\nHttpEntity&lt;ByteArrayResource&gt; file = new HttpEntity&lt;&gt;(pngPicture, pictureHeader);\nmultipartRequest.add(\"file\", file);\n\nHttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt; \n(multipartRequest, header);\nResultObject result = restTemplate.put(UPLOAD_URL, requestEntity);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6259816,"reputation":823,"user_id":4867303,"accept_rate":75,"display_name":"CeePlusPlus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700409216,"creation_date":1569517073,"answer_id":58121528,"question_id":57963597,"body_markdown":"With the help of @user2683814 and [this article][1], this is what works for me:\r\n\r\n```Java\r\nimport org.springframework.http.*; //Used with 5.1.9.RELEASE\r\n\r\nUri uri = &quot;http://putmyresults.com&quot;;\r\nbyte[] bytes = results.convertToBytes();\r\n\r\nMultiValueMap&lt;String,String&gt; fileMap = new LinkedMultiValueMap&lt;&gt;();\r\nContentDisposition cd = ContentDisposition.builder(&quot;form-data&quot;).\r\nname(&quot;file&quot;).filename(&quot;myFile&quot;).build();\r\nfilemap.add(HttpHeaders.CONTENT_DISPOSITION,cd.toString());\r\n\r\nHttpEntity&lt;byte[]&gt; fileEntity = new HttpEntity&lt;&gt;(bytes,fileMap);\r\nMultiValueMap&lt;String,Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\nbody.add(&quot;file&quot;,fileEntity);\r\n\r\n\r\nHttpHeaders tokenHeader = new HttpHeaders();\r\ntokenHeader.set(&quot;Authorization&quot;,&quot;myToken&quot;);\r\ntokenHeader.setContentType(MediaType.MULITPART_FORM_DATA);\r\n\r\nHttpEntity&lt;MultiValueMap&lt;String,Object&gt;&gt; requestMap = new HttpEntity&lt;&gt;(body,securedTokenHeaders);\r\n\r\n\r\nnew RestTemplate().exchange(uri,HttpMethod.PUT,requestMap,String.class)\r\n\r\n```\r\n\r\n\r\n  [1]: https://medium.com/red6-es/uploading-a-file-with-a-filename-with-spring-resttemplate-8ec5e7dc52ca","title":"Making a MultiPart Put request via Spring Rest to call a API with formData (Replace Apache MultipartEntityBuilder with REST)","body":"<p>With the help of @user2683814 and <a href=\"https://medium.com/red6-es/uploading-a-file-with-a-filename-with-spring-resttemplate-8ec5e7dc52ca\" rel=\"nofollow noreferrer\">this article</a>, this is what works for me:</p>\n<pre><code>import org.springframework.http.*; //Used with 5.1.9.RELEASE\n\nUri uri = &quot;http://putmyresults.com&quot;;\nbyte[] bytes = results.convertToBytes();\n\nMultiValueMap&lt;String,String&gt; fileMap = new LinkedMultiValueMap&lt;&gt;();\nContentDisposition cd = ContentDisposition.builder(&quot;form-data&quot;).\nname(&quot;file&quot;).filename(&quot;myFile&quot;).build();\nfilemap.add(HttpHeaders.CONTENT_DISPOSITION,cd.toString());\n\nHttpEntity&lt;byte[]&gt; fileEntity = new HttpEntity&lt;&gt;(bytes,fileMap);\nMultiValueMap&lt;String,Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\nbody.add(&quot;file&quot;,fileEntity);\n\n\nHttpHeaders tokenHeader = new HttpHeaders();\ntokenHeader.set(&quot;Authorization&quot;,&quot;myToken&quot;);\ntokenHeader.setContentType(MediaType.MULITPART_FORM_DATA);\n\nHttpEntity&lt;MultiValueMap&lt;String,Object&gt;&gt; requestMap = new HttpEntity&lt;&gt;(body,securedTokenHeaders);\n\n\nnew RestTemplate().exchange(uri,HttpMethod.PUT,requestMap,String.class)\n\n</code></pre>\n"}],"owner":{"account_id":6259816,"reputation":823,"user_id":4867303,"accept_rate":75,"display_name":"CeePlusPlus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1444,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58121528,"answer_count":3,"score":2,"last_activity_date":1700409216,"creation_date":1568663720,"question_id":57963597,"body_markdown":"I have a PUT API to call to send my data that expects a Multipart Request.  (Swagger has the API listed as Paramter Type formData; Data Type file).\r\n\r\nI have this code working fine via Apache&#39;s Http Library, but to match the rest of the program I would like to use Spring Rest Template to make the same call.\r\n\r\n```java\r\n//Via Apache:\r\nUri uri = &quot;http://putmyresults.com&quot;;\r\nResultObject results = buildResultObject(myData);\r\nMultipartEntityBuilder meb = MultipartEntityBuilder.create();\r\nmeb.addBinaryBody(&quot;file&quot;, results.convertToBytes(), ContentType.create(&quot;application/octet-stream&quot;),&quot;MyResultFile&quot;);\r\nHttpEntity entity = meb.build();\r\nput.setEntity(entity);\r\n\r\nput.setHeader(new BasicHeader(&quot;Authorization&quot;,&quot;myToken&quot;));\r\nput.setHeader(&quot;Accept&quot;,&quot;application/json,application,octet-stream&quot;);\r\ngetMyCloseableHttpClient().execute(put);\r\n//process response codes...\r\n\r\n\r\n\r\n//Sample working REST for GET request:\r\nUri uri = &quot;http://getmyresults.com/section5/resultId?sectionId=foo&quot;;\r\nRestTemplate rest = new RestTemplate;\r\n\r\norg.springframework.http.HttpEntity header = new HttpHeaders();\r\nheader.set(&quot;Authorization&quot;,&quot;myToken&quot;);\r\nheader.setContentType(MediaType.APPLICATION_JSON);\r\nheader.setAccept(Arrays.asList(MediaType.APPLICATION_JSON,MediaType.APPLICATION_OCTET_STREAM));\r\n\r\nHttpEntity&lt;String&gt; entity = new HttpEntity(&quot;parameters&quot;, headers);\r\nrest.exchange(uri, HttpMethod.GET, entity, Resource.class);\r\n//process response...\r\n\r\n```\r\n\r\nBut I can&#39;t seem to make the PUT request via REST.  This is what I have so far:\r\n```java\r\nUri uri = &quot;http://putmyresults.com&quot;;\r\nMultiValueMap&lt;String,Object&gt; map = new LinkedMultiValueMap&lt;&gt;();\r\nResultObject results = buildResultObject(myData);\r\nbyte[] bytes = results.convertToBytes();\r\n\r\nHttpHeaders header = new HttpHeaders();\r\nheaders.setContentType(MediaType.APPLICATION_OCTET_STREAM);\r\norg.springframework.http.HttpEntity&lt;byte[]&gt; entity = new HttpEntity&lt;&gt;(bytes,headers);\r\nmap.add(&quot;MyResultFile&quot;,entity);\r\n\r\nHttpHeaders tokenHeader = new HttpHeaders();\r\ntokenHeader.set(new BasicHeader(&quot;Authorization&quot;,&quot;myToken&quot;));\r\ntokenHeader.setContentType(MediaType.APPLICATION_JSON);\r\nHttpEntity&lt;String&gt; tokenEntity = new HttpEntity(&quot;parameters&quot;, headers);\r\nmap.add(&quot;parameters&quot;,tokenEntity);\r\n\r\norg.springframework.http.HttpEntity&lt;&lt;MultiValueMap&lt;String,Object&gt; requestMap = new org.springframework.http.HttpEntity&lt;&gt;(map);\r\nnew RestTemplate().exchange(uri,HttpMethod.PUT,requestMap,String.class);\r\n```\r\n\r\nServer Header:\r\n```Java\r\n@PutMapping(path = &quot;/xyz&quot;)\r\npublic ResponseEntity putRequest{\r\n    HttpServletRequest request,\r\n    HttpServletResponse response,\r\n    @PathVariable String id,\r\n    @RequestParam(&quot;file&quot;) MultipartFile uploadedFile,\r\n    @RequestParam String sample,\r\n    @RequestParam String sample2 throws Exception  {\r\n        uploadedFile.getBytes(); ...\r\n    }\r\n}\r\n```\r\n\r\nThanks for your help.","title":"Making a MultiPart Put request via Spring Rest to call a API with formData (Replace Apache MultipartEntityBuilder with REST)","body":"<p>I have a PUT API to call to send my data that expects a Multipart Request.  (Swagger has the API listed as Paramter Type formData; Data Type file).</p>\n\n<p>I have this code working fine via Apache's Http Library, but to match the rest of the program I would like to use Spring Rest Template to make the same call.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>//Via Apache:\nUri uri = \"http://putmyresults.com\";\nResultObject results = buildResultObject(myData);\nMultipartEntityBuilder meb = MultipartEntityBuilder.create();\nmeb.addBinaryBody(\"file\", results.convertToBytes(), ContentType.create(\"application/octet-stream\"),\"MyResultFile\");\nHttpEntity entity = meb.build();\nput.setEntity(entity);\n\nput.setHeader(new BasicHeader(\"Authorization\",\"myToken\"));\nput.setHeader(\"Accept\",\"application/json,application,octet-stream\");\ngetMyCloseableHttpClient().execute(put);\n//process response codes...\n\n\n\n//Sample working REST for GET request:\nUri uri = \"http://getmyresults.com/section5/resultId?sectionId=foo\";\nRestTemplate rest = new RestTemplate;\n\norg.springframework.http.HttpEntity header = new HttpHeaders();\nheader.set(\"Authorization\",\"myToken\");\nheader.setContentType(MediaType.APPLICATION_JSON);\nheader.setAccept(Arrays.asList(MediaType.APPLICATION_JSON,MediaType.APPLICATION_OCTET_STREAM));\n\nHttpEntity&lt;String&gt; entity = new HttpEntity(\"parameters\", headers);\nrest.exchange(uri, HttpMethod.GET, entity, Resource.class);\n//process response...\n\n</code></pre>\n\n<p>But I can't seem to make the PUT request via REST.  This is what I have so far:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Uri uri = \"http://putmyresults.com\";\nMultiValueMap&lt;String,Object&gt; map = new LinkedMultiValueMap&lt;&gt;();\nResultObject results = buildResultObject(myData);\nbyte[] bytes = results.convertToBytes();\n\nHttpHeaders header = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_OCTET_STREAM);\norg.springframework.http.HttpEntity&lt;byte[]&gt; entity = new HttpEntity&lt;&gt;(bytes,headers);\nmap.add(\"MyResultFile\",entity);\n\nHttpHeaders tokenHeader = new HttpHeaders();\ntokenHeader.set(new BasicHeader(\"Authorization\",\"myToken\"));\ntokenHeader.setContentType(MediaType.APPLICATION_JSON);\nHttpEntity&lt;String&gt; tokenEntity = new HttpEntity(\"parameters\", headers);\nmap.add(\"parameters\",tokenEntity);\n\norg.springframework.http.HttpEntity&lt;&lt;MultiValueMap&lt;String,Object&gt; requestMap = new org.springframework.http.HttpEntity&lt;&gt;(map);\nnew RestTemplate().exchange(uri,HttpMethod.PUT,requestMap,String.class);\n</code></pre>\n\n<p>Server Header:</p>\n\n<pre><code>@PutMapping(path = \"/xyz\")\npublic ResponseEntity putRequest{\n    HttpServletRequest request,\n    HttpServletResponse response,\n    @PathVariable String id,\n    @RequestParam(\"file\") MultipartFile uploadedFile,\n    @RequestParam String sample,\n    @RequestParam String sample2 throws Exception  {\n        uploadedFile.getBytes(); ...\n    }\n}\n</code></pre>\n\n<p>Thanks for your help.</p>\n"},{"tags":["java","linux","centos","cpu-cores"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1534926633,"post_id":51962589,"comment_id":90875643,"body_markdown":"See https://unix.stackexchange.com/questions/326579/how-to-ensure-exclusive-cpu-availability-for-a-running-process","body":"See <a href=\"https://unix.stackexchange.com/questions/326579/how-to-ensure-exclusive-cpu-availability-for-a-running-process\" title=\"how to ensure exclusive cpu availability for a running process\">unix.stackexchange.com/questions/326579/&hellip;</a>"},{"owner":{"account_id":5321680,"reputation":26,"user_id":4244958,"display_name":"Vo Tan Phuc"},"score":0,"creation_date":1535015067,"post_id":51962589,"comment_id":90913693,"body_markdown":"Thank Kayaman ! But in your link, I difficult to get an answer! \nIn this post: https://stackoverflow.com/questions/5479458/is-there-a-way-to-lock-a-process-to-a-cpu\nI found here said no lock. But I&#39;m not sure this process can change CPUcore auto by themself or not. And if no lock, it&#39;s mean can assign another thread into this core (1 core can bear with many thread, I think so).","body":"Thank Kayaman ! But in your link, I difficult to get an answer!  In this post: <a href=\"https://stackoverflow.com/questions/5479458/is-there-a-way-to-lock-a-process-to-a-cpu\" title=\"is there a way to lock a process to a cpu\">stackoverflow.com/questions/5479458/&hellip;</a> I found here said no lock. But I&#39;m not sure this process can change CPUcore auto by themself or not. And if no lock, it&#39;s mean can assign another thread into this core (1 core can bear with many thread, I think so)."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1535015256,"post_id":51962589,"comment_id":90913803,"body_markdown":"Your link is about thread affinity, my link is about **exclusive** access to a core by thread. Do you have a real reason why you want a core exclusively for your program?","body":"Your link is about thread affinity, my link is about <b>exclusive</b> access to a core by thread. Do you have a real reason why you want a core exclusively for your program?"},{"owner":{"account_id":5321680,"reputation":26,"user_id":4244958,"display_name":"Vo Tan Phuc"},"score":0,"creation_date":1535017978,"post_id":51962589,"comment_id":90915476,"body_markdown":"Hmm.., About core exclusively for my thread. I want it running in specific core, no round robin, don&#39;t let another thread run in same core. May be in future, my thread increase more resource. So keep it in specific core to easy to maintain and high performance","body":"Hmm.., About core exclusively for my thread. I want it running in specific core, no round robin, don&#39;t let another thread run in same core. May be in future, my thread increase more resource. So keep it in specific core to easy to maintain and high performance"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1535018200,"post_id":51962589,"comment_id":90915598,"body_markdown":"Let the OS handle thread scheduling, it&#39;s a lot better at it than you are, and you don&#39;t seem to have a real need for exclusivity. &quot;Easy to maintain and high performance&quot; are not something you need an exclusive core for.","body":"Let the OS handle thread scheduling, it&#39;s a lot better at it than you are, and you don&#39;t seem to have a real need for exclusivity. &quot;Easy to maintain and high performance&quot; are not something you need an exclusive core for."}],"owner":{"account_id":5321680,"reputation":26,"user_id":4244958,"display_name":"Vo Tan Phuc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":473,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700409154,"creation_date":1534925926,"question_id":51962589,"body_markdown":"In Linux, I have a Java program running. \r\nI using `jstack [pid]` to thread dump my Java app. And detect my processID. \r\n\r\nNow I using `taskset` to assign this process for specific CPU core, but beside that, I can assign to another process into that core also, but I don&#39;t want it.\r\n\r\nHow can I lock that core after I assign my process. \r\nThanks for all! ","title":"How can I assign process for 1 CPU core and lock this core in Linux?","body":"<p>In Linux, I have a Java program running. \nI using <code>jstack [pid]</code> to thread dump my Java app. And detect my processID. </p>\n\n<p>Now I using <code>taskset</code> to assign this process for specific CPU core, but beside that, I can assign to another process into that core also, but I don't want it.</p>\n\n<p>How can I lock that core after I assign my process. \nThanks for all! </p>\n"},{"tags":["java","android","multithreading","get"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1700419770,"post_id":77511347,"comment_id":136649265,"body_markdown":"Log messages are not restricted to certain threads, if you don&#39;t get log messages then the code is not executed.","body":"Log messages are not restricted to certain threads, if you don&#39;t get log messages then the code is not executed."}],"answers":[{"tags":[],"owner":{"account_id":3366602,"reputation":611,"user_id":2827025,"display_name":"anemomylos"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700407916,"creation_date":1700407916,"answer_id":77511369,"question_id":77511347,"body_markdown":"You forgot to start the thread: in the second-to-last line of the method, replace `});` with `}).start();`\r\n","title":"My android studio new Thread(new Runnable ) didn&#39;t work","body":"<p>You forgot to start the thread: in the second-to-last line of the method, replace <code>});</code> with <code>}).start();</code></p>\n"}],"owner":{"account_id":29928440,"reputation":1,"user_id":22935933,"display_name":"Ikun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700407978,"creation_date":1700407497,"question_id":77511347,"body_markdown":"I want to use GET() connection in android studio.\r\nAnd here is my code in MainActivity.java.\r\n\r\n```\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        data=findViewById(R.id.bright);\r\n\r\n        if (Build.VERSION.SDK_INT&gt;=Build.VERSION_CODES.M){\r\n            requestPermissions(new String[]{&quot;android.permission.INTERNET&quot;},1);\r\n            Gushen();\r\n        }\r\n    }\r\n    public void Gushen(){\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    OkHttpClient client = new OkHttpClient();\r\n                    Log.w(&quot;sss&quot;,&quot;gushen&quot;);\r\n                    Request request = new Request.Builder().url(&quot;http://iot-api.heclouds.com/thingmodel/query-thing-model?product_id=w50WLDzGBb&quot;).build();\r\n                    Response response = client.newCall(request).execute();\r\n                    String responseData = response.body().string();\r\n                    Log.w(&quot;sss&quot;,responseData);\r\n                    parseJSONWithGSON(responseData);\r\n\r\n\r\n                    JsonRootBean app = new Gson().fromJson(responseData, JsonRootBean.class);\r\n                    List&lt;Datastreams&gt; streams = app.getData().getDatastreams();\r\n                    List&lt;Datapoints&gt; points = streams.get(0).getDatapoints();\r\n                    value = points.get(0).getValue();\r\n                    data.post(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            data.setText(String.format(&quot;Light is:%s&quot;, value));\r\n                        }\r\n                    });\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();}\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nI cannot get &quot;                    Log.w(&quot;sss&quot;,&quot;gushen&quot;);\r\n&quot;in my logcat because it is in the new Thread. And I also seem not to get connected to this URL.\r\nhere is the screenshot of my logcat.\r\n[enter image description here](https://i.stack.imgur.com/iiTtS.png)\r\n\r\n\r\nHow can I successfully use my new thread and see the result of Log.w of it in the logcat?\r\nAnd I didn&#39;t know if I get connected to the URL by using GET().","title":"My android studio new Thread(new Runnable ) didn&#39;t work","body":"<p>I want to use GET() connection in android studio.\nAnd here is my code in MainActivity.java.</p>\n<pre><code>    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        data=findViewById(R.id.bright);\n\n        if (Build.VERSION.SDK_INT&gt;=Build.VERSION_CODES.M){\n            requestPermissions(new String[]{&quot;android.permission.INTERNET&quot;},1);\n            Gushen();\n        }\n    }\n    public void Gushen(){\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    OkHttpClient client = new OkHttpClient();\n                    Log.w(&quot;sss&quot;,&quot;gushen&quot;);\n                    Request request = new Request.Builder().url(&quot;http://iot-api.heclouds.com/thingmodel/query-thing-model?product_id=w50WLDzGBb&quot;).build();\n                    Response response = client.newCall(request).execute();\n                    String responseData = response.body().string();\n                    Log.w(&quot;sss&quot;,responseData);\n                    parseJSONWithGSON(responseData);\n\n\n                    JsonRootBean app = new Gson().fromJson(responseData, JsonRootBean.class);\n                    List&lt;Datastreams&gt; streams = app.getData().getDatastreams();\n                    List&lt;Datapoints&gt; points = streams.get(0).getDatapoints();\n                    value = points.get(0).getValue();\n                    data.post(new Runnable() {\n                        @Override\n                        public void run() {\n                            data.setText(String.format(&quot;Light is:%s&quot;, value));\n                        }\n                    });\n                } catch (IOException e) {\n                    e.printStackTrace();}\n            }\n        });\n    }\n</code></pre>\n<p>I cannot get &quot;                    Log.w(&quot;sss&quot;,&quot;gushen&quot;);\n&quot;in my logcat because it is in the new Thread. And I also seem not to get connected to this URL.\nhere is the screenshot of my logcat.\n<a href=\"https://i.stack.imgur.com/iiTtS.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>How can I successfully use my new thread and see the result of Log.w of it in the logcat?\nAnd I didn't know if I get connected to the URL by using GET().</p>\n"},{"tags":["java","intellij-idea","microservices"],"owner":{"account_id":29808133,"reputation":65,"user_id":22844207,"display_name":"user22844207"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700407932,"creation_date":1700405559,"question_id":77511226,"body_markdown":"When I see the architecture of this [project](https://github.com/spring-projects/spring-data-examples/tree/main/redis), I want to create it manually.\r\n\r\nI check the pom.xml file, it has a lot of modules. \r\n```java\r\n\t&lt;modules&gt;\r\n\t\t&lt;module&gt;cluster&lt;/module&gt;\r\n\t\t&lt;module&gt;example&lt;/module&gt;\r\n\t\t&lt;module&gt;pubsub&lt;/module&gt;\r\n\t\t&lt;module&gt;reactive&lt;/module&gt;\r\n\t\t&lt;module&gt;repositories&lt;/module&gt;\r\n\t\t&lt;module&gt;sentinel&lt;/module&gt;\r\n\t\t&lt;module&gt;streams&lt;/module&gt;\r\n\t\t&lt;module&gt;util&lt;/module&gt;\r\n\t&lt;/modules&gt;\r\n```\r\nAccording to my understanding, to create the structure like this. I need perform the following two steps (IntelliJ Idea)\r\n\r\nStep1: Create one root project by going to FILE|NEW, click Project and choose `Maven` type\r\n\r\nStep2: Create modules by going to FILE|NEW, click Module and choose `Spring Initializr`\r\n\r\nBut I see the results differently:\r\n\r\n- at step1: there is too little information in my pom.yml\r\n\r\n[![enter image description here][1]][1]\r\n \r\n- at step2: when I create the modules, the root pom.yml doesn&#39;t change, I think it automatically add something like this into root pom.yml\r\n```java\r\n\t&lt;modules&gt;\r\n\t\t&lt;module&gt;example&lt;/module&gt;\r\n\t&lt;/modules&gt;\r\n```  \r\n\r\nI have tried to search on google and stackoverflow to find some tutorials or guides about the best practice for creating the root project but I can&#39;t find anything. I have found the keywork `Maven archetype` but it&#39;s too hard for me to understand.\r\n\r\nBesides, there are a lot of things in the root pom.xml, I don&#39;t know which one to focus on\r\n\r\nSo, I am looking for a guide on how to create a project architecture like this as well as some important keywords to pay attention to.\r\n\r\nThanks. \r\n\r\n  [1]: https://i.stack.imgur.com/ZgTV1.png","title":"How to create the ROOT project correctly in IntelliJ Idea with Java?","body":"<p>When I see the architecture of this <a href=\"https://github.com/spring-projects/spring-data-examples/tree/main/redis\" rel=\"nofollow noreferrer\">project</a>, I want to create it manually.</p>\n<p>I check the pom.xml file, it has a lot of modules.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    &lt;modules&gt;\n        &lt;module&gt;cluster&lt;/module&gt;\n        &lt;module&gt;example&lt;/module&gt;\n        &lt;module&gt;pubsub&lt;/module&gt;\n        &lt;module&gt;reactive&lt;/module&gt;\n        &lt;module&gt;repositories&lt;/module&gt;\n        &lt;module&gt;sentinel&lt;/module&gt;\n        &lt;module&gt;streams&lt;/module&gt;\n        &lt;module&gt;util&lt;/module&gt;\n    &lt;/modules&gt;\n</code></pre>\n<p>According to my understanding, to create the structure like this. I need perform the following two steps (IntelliJ Idea)</p>\n<p>Step1: Create one root project by going to FILE|NEW, click Project and choose <code>Maven</code> type</p>\n<p>Step2: Create modules by going to FILE|NEW, click Module and choose <code>Spring Initializr</code></p>\n<p>But I see the results differently:</p>\n<ul>\n<li>at step1: there is too little information in my pom.yml</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/ZgTV1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZgTV1.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>at step2: when I create the modules, the root pom.yml doesn't change, I think it automatically add something like this into root pom.yml</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>    &lt;modules&gt;\n        &lt;module&gt;example&lt;/module&gt;\n    &lt;/modules&gt;\n</code></pre>\n<p>I have tried to search on google and stackoverflow to find some tutorials or guides about the best practice for creating the root project but I can't find anything. I have found the keywork <code>Maven archetype</code> but it's too hard for me to understand.</p>\n<p>Besides, there are a lot of things in the root pom.xml, I don't know which one to focus on</p>\n<p>So, I am looking for a guide on how to create a project architecture like this as well as some important keywords to pay attention to.</p>\n<p>Thanks.</p>\n"},{"tags":["java","mysql","string","spring-data-jpa"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":1,"creation_date":1700419003,"post_id":77511358,"comment_id":136649174,"body_markdown":"Please don&#39;t post text as pictures, and in particular, don&#39;t post tiny, unreadable pictures of text. Just copying and pasting the text into your question is far easier for you to do and for potential helpers to use.","body":"Please don&#39;t post text as pictures, and in particular, don&#39;t post tiny, unreadable pictures of text. Just copying and pasting the text into your question is far easier for you to do and for potential helpers to use."}],"owner":{"account_id":24094543,"reputation":29,"user_id":18067284,"display_name":"user"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1700407670,"creation_date":1700407670,"question_id":77511358,"body_markdown":"I want to store basic text as VARCHAR in MySQL database, and this is how my text looks in debugger when i want to save it \r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere is shown that **\\n** is saved . And in database it is also correctly saved with those **\\n** \r\n[![enter image description here][2]][2]\r\n\r\n\r\nbut when i try to get this string from database it looses all the formatting and become just plain string without any **\\n** \r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qyKPb.png\r\n  [2]: https://i.stack.imgur.com/G52xm.png\r\n  [3]: https://i.stack.imgur.com/pYTyo.png\r\n\r\n\r\nHere is a code for this process\r\nSaving text\r\n```\r\npublic Template saveTemplate(Template template){\r\n    return templateRepository.save(template);\r\n}\r\n```\r\nRetrieving text\r\n```\r\npublic interface TemplateRepository extends JpaRepository&lt;Template, Long&gt; {\r\n\r\n    Optional&lt;Template&gt; findByKey(String key);\r\n}\r\n\r\n```\r\n\r\n```\r\nprivate Template findByKeyInternal(String key) {\r\n\r\n        Template text = templateRepository.findByKey(key)\r\n                .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Not found templates by key:[&quot;+ key +&quot;]&quot;));\r\n\r\n\r\n        return text;\r\n    }\r\n```\r\n\r\nSo my question is what can cause this error, maybe i need to store in database under a different type or any other possible solutions for this issue","title":"String formatting lost after retrieving from database","body":"<p>I want to store basic text as VARCHAR in MySQL database, and this is how my text looks in debugger when i want to save it\n<a href=\"https://i.stack.imgur.com/qyKPb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qyKPb.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is shown that <strong>\\n</strong> is saved . And in database it is also correctly saved with those <strong>\\n</strong>\n<a href=\"https://i.stack.imgur.com/G52xm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G52xm.png\" alt=\"enter image description here\" /></a></p>\n<p>but when i try to get this string from database it looses all the formatting and become just plain string without any <strong>\\n</strong>\n<a href=\"https://i.stack.imgur.com/pYTyo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pYTyo.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is a code for this process\nSaving text</p>\n<pre><code>public Template saveTemplate(Template template){\n    return templateRepository.save(template);\n}\n</code></pre>\n<p>Retrieving text</p>\n<pre><code>public interface TemplateRepository extends JpaRepository&lt;Template, Long&gt; {\n\n    Optional&lt;Template&gt; findByKey(String key);\n}\n\n</code></pre>\n<pre><code>private Template findByKeyInternal(String key) {\n\n        Template text = templateRepository.findByKey(key)\n                .orElseThrow(() -&gt; new EntityNotFoundException(&quot;Not found templates by key:[&quot;+ key +&quot;]&quot;));\n\n\n        return text;\n    }\n</code></pre>\n<p>So my question is what can cause this error, maybe i need to store in database under a different type or any other possible solutions for this issue</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700417936,"post_id":77510587,"comment_id":136649066,"body_markdown":"Unclear what your problem is. Anyhow your app does not need any permission to create files in public Documents directory. So dont ask any.","body":"Unclear what your problem is. Anyhow your app does not need any permission to create files in public Documents directory. So dont ask any."}],"owner":{"account_id":21950303,"reputation":110,"user_id":16229577,"display_name":"Vasil3"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700407108,"creation_date":1700393253,"question_id":77510587,"body_markdown":"Now on Android 13+ , it shows the grant permission , i allow it and then when i try to read or write text files from/to:\r\n\r\n\r\n\r\n    Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS)\r\n\r\n\r\n\r\nIt doesn&#39;t work. What I find even more confusing is that i have some code that writes a png image of the application , is working , but not the writing to text file portion.\r\n\r\nAlso another thing that I find difficult to understand is that in android studio if i have a android 13 or 14 emulator , it works , but not on the real phone.\r\n\r\nHere are the 2 types: The image that is saving correctly:\r\n\r\n\r\n\r\n    private void writeScreenShotToFile(ArrayList&lt;Bitmap&gt; bitmapArray)\r\n    {\r\n            askPermissionComponent.askForWritePermission();\r\n            askPermissionComponent.verifyIfFolderExist();\r\n    \r\n            try\r\n            {\r\n                FileOutputStream outputStream = new FileOutputStream(dataComponent.getSavedImage(getLoadedMonth()));\r\n    \r\n                combineImages(bitmapArray).compress(Bitmap.CompressFormat.PNG, 100, outputStream);\r\n                outputStream.flush();\r\n                outputStream.close();\r\n            }\r\n            catch (IOException e)\r\n            {\r\n                errorBuilderComponent.errorConstructor(&quot;error&quot;);\r\n            }\r\n    }\r\n\r\n\r\n\r\nAnd the code that is not working:\r\n\r\n\r\n\r\n    public void loadFromFile()\r\n    {\r\n        askPermissionComponent.askForWritePermission();\r\n        askPermissionComponent.verifyIfFolderExist();\r\n    \r\n        if (dataComponent.getSavedFile(dataComponent.getCurrentMonth()).exists())\r\n        {\r\n    \r\n    writeDataFromFileToTable(dataComponent.getSavedFile(dataComponent.getCurrentMonth()));\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nThis gets its data from:\r\n\r\n\r\n\r\n    public File getSavedFile(String month)\r\n    {\r\n        return new File(getSDCardLocation(month) + &quot;.txt&quot;);\r\n    }\r\n    \r\n    public File getSavedImage(String month)\r\n    {\r\n        return new File(getSDCardLocation(month) + &quot;.png&quot;);\r\n    }\r\n    \r\n    private String getSDCardLocation(String month)\r\n    {\r\n        return Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS)  + &quot;/TEST/&quot; + month;\r\n    }\r\n\r\n\r\n\r\nNow below I will write the class that I use for asking for permission:\r\n\r\n\r\n\r\n    public class AskForWritePermission\r\n    {\r\n        private final MainActivity mainActivityComponent;\r\n        private static final int REQUEST_WRITE_STORAGE = 112;\r\n    \r\n        public AskForWritePermission(MainActivity mainActivityComponent)\r\n        {\r\n            this.mainActivityComponent = mainActivityComponent;\r\n        }\r\n    \r\n        public void askForWritePermission()\r\n        {\r\n            boolean hasPermission = ContextCompat.checkSelfPermission(mainActivityComponent, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED;\r\n            if (!hasPermission)\r\n            {\r\n                ActivityCompat.requestPermissions(mainActivityComponent, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, REQUEST_WRITE_STORAGE);\r\n            }\r\n        }\r\n    \r\n        public void verifyIfFolderExist()\r\n        {\r\n            File dir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS) + &quot;/TEST&quot;);\r\n    \r\n            if (!dir.exists())\r\n            {\r\n                dir.mkdirs();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nAlso in the manifest I am calling for:\r\n\r\n\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    \r\n    &lt;!--  File save functions handles this  --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;","title":"Android 13+ problems writing and reading files","body":"<p>Now on Android 13+ , it shows the grant permission , i allow it and then when i try to read or write text files from/to:</p>\n<pre><code>Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS)\n</code></pre>\n<p>It doesn't work. What I find even more confusing is that i have some code that writes a png image of the application , is working , but not the writing to text file portion.</p>\n<p>Also another thing that I find difficult to understand is that in android studio if i have a android 13 or 14 emulator , it works , but not on the real phone.</p>\n<p>Here are the 2 types: The image that is saving correctly:</p>\n<pre><code>private void writeScreenShotToFile(ArrayList&lt;Bitmap&gt; bitmapArray)\n{\n        askPermissionComponent.askForWritePermission();\n        askPermissionComponent.verifyIfFolderExist();\n\n        try\n        {\n            FileOutputStream outputStream = new FileOutputStream(dataComponent.getSavedImage(getLoadedMonth()));\n\n            combineImages(bitmapArray).compress(Bitmap.CompressFormat.PNG, 100, outputStream);\n            outputStream.flush();\n            outputStream.close();\n        }\n        catch (IOException e)\n        {\n            errorBuilderComponent.errorConstructor(&quot;error&quot;);\n        }\n}\n</code></pre>\n<p>And the code that is not working:</p>\n<pre><code>public void loadFromFile()\n{\n    askPermissionComponent.askForWritePermission();\n    askPermissionComponent.verifyIfFolderExist();\n\n    if (dataComponent.getSavedFile(dataComponent.getCurrentMonth()).exists())\n    {\n\nwriteDataFromFileToTable(dataComponent.getSavedFile(dataComponent.getCurrentMonth()));\n    }\n\n}\n</code></pre>\n<p>This gets its data from:</p>\n<pre><code>public File getSavedFile(String month)\n{\n    return new File(getSDCardLocation(month) + &quot;.txt&quot;);\n}\n\npublic File getSavedImage(String month)\n{\n    return new File(getSDCardLocation(month) + &quot;.png&quot;);\n}\n\nprivate String getSDCardLocation(String month)\n{\n    return Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS)  + &quot;/TEST/&quot; + month;\n}\n</code></pre>\n<p>Now below I will write the class that I use for asking for permission:</p>\n<pre><code>public class AskForWritePermission\n{\n    private final MainActivity mainActivityComponent;\n    private static final int REQUEST_WRITE_STORAGE = 112;\n\n    public AskForWritePermission(MainActivity mainActivityComponent)\n    {\n        this.mainActivityComponent = mainActivityComponent;\n    }\n\n    public void askForWritePermission()\n    {\n        boolean hasPermission = ContextCompat.checkSelfPermission(mainActivityComponent, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED;\n        if (!hasPermission)\n        {\n            ActivityCompat.requestPermissions(mainActivityComponent, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, REQUEST_WRITE_STORAGE);\n        }\n    }\n\n    public void verifyIfFolderExist()\n    {\n        File dir = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS) + &quot;/TEST&quot;);\n\n        if (!dir.exists())\n        {\n            dir.mkdirs();\n        }\n    }\n}\n</code></pre>\n<p>Also in the manifest I am calling for:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n\n&lt;!--  File save functions handles this  --&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n    tools:ignore=&quot;ScopedStorage&quot; /&gt;\n</code></pre>\n"},{"tags":["java","databricks","integration","databricks-sql"],"answers":[{"tags":[],"owner":{"account_id":9963,"reputation":82992,"user_id":18627,"display_name":"Alex Ott"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1699693724,"creation_date":1699693724,"answer_id":77464486,"question_id":77462405,"body_markdown":"For Spring, the simplest way is to use [Databricks JDBC driver][1] that provides very good performance, especially when you need to fetch big chunks of the data.  Driver is available on the [Maven Central][2] under following coordinates:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.databricks&lt;/groupId&gt;\r\n    &lt;artifactId&gt;databricks-jdbc&lt;/artifactId&gt;\r\n    &lt;version&gt;2.6.34&lt;/version&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAfter that you can just use it as another JDBC data source via JDBC url like `jdbc:databricks://...` (exact string depends on the configuration).  I have a [small example][3] of using it from Spring (not very idiomatic although).\r\n\r\nAnother way is to use [Databricks SQL Statement Execution REST API][4], but it&#39;s typically requires a bit more work to authenticate, wait for results, decode data, etc.  Although the [Databricks Java SDK][5] simplifies its usage, so you can use it if you don&#39;t want to use JDBC.\r\n\r\n\r\n  [1]: https://docs.databricks.com/en/integrations/jdbc-odbc-bi.html\r\n  [2]: https://mvnrepository.com/artifact/com.databricks/databricks-jdbc\r\n  [3]: https://github.com/alexott/databricks-playground/tree/main/spring-jdbc-dbsql\r\n  [4]: https://docs.databricks.com/api/workspace/statementexecution/executestatement\r\n  [5]: https://github.com/databricks/databricks-sdk-java","title":"What is the best way to consume Databricks database data in Java application?","body":"<p>For Spring, the simplest way is to use <a href=\"https://docs.databricks.com/en/integrations/jdbc-odbc-bi.html\" rel=\"nofollow noreferrer\">Databricks JDBC driver</a> that provides very good performance, especially when you need to fetch big chunks of the data.  Driver is available on the <a href=\"https://mvnrepository.com/artifact/com.databricks/databricks-jdbc\" rel=\"nofollow noreferrer\">Maven Central</a> under following coordinates:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.databricks&lt;/groupId&gt;\n    &lt;artifactId&gt;databricks-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;2.6.34&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>After that you can just use it as another JDBC data source via JDBC url like <code>jdbc:databricks://...</code> (exact string depends on the configuration).  I have a <a href=\"https://github.com/alexott/databricks-playground/tree/main/spring-jdbc-dbsql\" rel=\"nofollow noreferrer\">small example</a> of using it from Spring (not very idiomatic although).</p>\n<p>Another way is to use <a href=\"https://docs.databricks.com/api/workspace/statementexecution/executestatement\" rel=\"nofollow noreferrer\">Databricks SQL Statement Execution REST API</a>, but it's typically requires a bit more work to authenticate, wait for results, decode data, etc.  Although the <a href=\"https://github.com/databricks/databricks-sdk-java\" rel=\"nofollow noreferrer\">Databricks Java SDK</a> simplifies its usage, so you can use it if you don't want to use JDBC.</p>\n"}],"owner":{"account_id":1316659,"reputation":37,"user_id":7373817,"display_name":"Ramesh Bathini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1699998117,"answer_count":1,"score":0,"last_activity_date":1700406906,"creation_date":1699644185,"question_id":77462405,"body_markdown":"I need to retrieve data stored in Databricks platform. I could see that it can be achieved using Databricks-SDK as well as Databricks API route but do not see anywhere that best way of getting the data.\r\n\r\nPlease let me know if you could see any other better way.\r\n\r\nAny help/suggestion here is really appreciated.","title":"What is the best way to consume Databricks database data in Java application?","body":"<p>I need to retrieve data stored in Databricks platform. I could see that it can be achieved using Databricks-SDK as well as Databricks API route but do not see anywhere that best way of getting the data.</p>\n<p>Please let me know if you could see any other better way.</p>\n<p>Any help/suggestion here is really appreciated.</p>\n"},{"tags":["java","spring-boot","trace","spring-cloud-sleuth","micrometer-tracing"],"answers":[{"tags":[],"owner":{"account_id":25706203,"reputation":26,"user_id":19465428,"display_name":"user19465428"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700406001,"creation_date":1700406001,"answer_id":77511255,"question_id":77500569,"body_markdown":"(I only speak Chinese, the following is the translation)\r\nI am upgrading from 2.7 to 3.1, and now I have added a bean, you can try it\r\n\r\n```\r\n@Bean\r\nContainerCustomizer&lt;SimpleMessageListenerContainer&gt; containerCustomizer() {\r\n    return container -&gt; container.setObservationEnabled(true);\r\n}\r\n```","title":"Tracing in RabbitListener - observationEnabled","body":"<p>(I only speak Chinese, the following is the translation)\nI am upgrading from 2.7 to 3.1, and now I have added a bean, you can try it</p>\n<pre><code>@Bean\nContainerCustomizer&lt;SimpleMessageListenerContainer&gt; containerCustomizer() {\n    return container -&gt; container.setObservationEnabled(true);\n}\n</code></pre>\n"}],"owner":{"account_id":14473469,"reputation":93,"user_id":10454701,"display_name":"dargui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77511255,"answer_count":1,"score":-1,"last_activity_date":1700406001,"creation_date":1700213471,"question_id":77500569,"body_markdown":"migrating from SpringBoot 2 to SpringBoot 3.1 in an application that uses @RabbitListener the tracing information relating to TraceId and SpanId no longer appears in the logs.\r\n&lt;br/&gt;\r\nI used the new classes also forcing the generation\r\n```\r\n   Tracer tracer = Tracer.NOOP;\r\n    Span span = tracer.currentSpan();\r\n   span = tracer.nextSpan();\r\n```\r\nbut it didn&#39;t help.\r\n\r\nAbout the documentation:\r\n&lt;pre&gt;\r\nUsing Micrometer for observation is now supported, since version 3.0.5, for the RabbitStreamTemplate and the stream listener container. The container now also supports Micrometer timers (when observation is not enabled).\r\n\r\nSet observationEnabled on each component to enable observation; this will disable Micrometer Timers because the timers will now be managed with each observation. When using annotated listeners, set observationEnabled on the container factory.\r\n&lt;/pre&gt;\r\n\r\nHas anyone had a similar problem?\r\n","title":"Tracing in RabbitListener - observationEnabled","body":"<p>migrating from SpringBoot 2 to SpringBoot 3.1 in an application that uses @RabbitListener the tracing information relating to TraceId and SpanId no longer appears in the logs.\n<br/>\nI used the new classes also forcing the generation</p>\n<pre><code>   Tracer tracer = Tracer.NOOP;\n    Span span = tracer.currentSpan();\n   span = tracer.nextSpan();\n</code></pre>\n<p>but it didn't help.</p>\n<p>About the documentation:</p>\n<pre>\nUsing Micrometer for observation is now supported, since version 3.0.5, for the RabbitStreamTemplate and the stream listener container. The container now also supports Micrometer timers (when observation is not enabled).\n\nSet observationEnabled on each component to enable observation; this will disable Micrometer Timers because the timers will now be managed with each observation. When using annotated listeners, set observationEnabled on the container factory.\n</pre>\n<p>Has anyone had a similar problem?</p>\n"},{"tags":["java","user-interface","awt"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1700409117,"post_id":77511252,"comment_id":136648125,"body_markdown":"1) Why are you using AWT? You should at least be learning Swing if not newer alternatives. 2) A painting method is for painting only. That is you paint the current state of the class. The rest of you application has logic to change the state. So you should NOT be 1) using Thread.sleep(...). Use a Swing Timer for animation. 2) invoking repaint(). The Timer will invoke repaint() when it is fired. 3) Have game logic to check for end of game etc. You need to rewrite/restrucuture to the cod to remove all logic from the paint method.","body":"1) Why are you using AWT? You should at least be learning Swing if not newer alternatives. 2) A painting method is for painting only. That is you paint the current state of the class. The rest of you application has logic to change the state. So you should NOT be 1) using Thread.sleep(...). Use a Swing Timer for animation. 2) invoking repaint(). The Timer will invoke repaint() when it is fired. 3) Have game logic to check for end of game etc. You need to rewrite/restrucuture to the cod to remove all logic from the paint method."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1700409123,"post_id":77511252,"comment_id":136648126,"body_markdown":"4) Don&#39;t use a null layout. Start by reading the [Swing tutotrial](https://docs.oracle.com/javase/tutorial/uiswing/TOC.html)","body":"4) Don&#39;t use a null layout. Start by reading the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/TOC.html\" rel=\"nofollow noreferrer\">Swing tutotrial</a>"},{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1700409395,"post_id":77511252,"comment_id":136648156,"body_markdown":"I have to do it without swing and only awt","body":"I have to do it without swing and only awt"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1700420302,"post_id":77511252,"comment_id":136649337,"body_markdown":"Whether you use AWT components or Swing components it doesn&#39;t change my suggestions.","body":"Whether you use AWT components or Swing components it doesn&#39;t change my suggestions."},{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1700453152,"post_id":77511252,"comment_id":136652247,"body_markdown":"I mean I cant use swing timer so i hit a dead end.","body":"I mean I cant use swing timer so i hit a dead end."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1700453588,"post_id":77511252,"comment_id":136652270,"body_markdown":"I&#39;ve never used AWT (since its 20 years out of date) but you should be able to use a java.util.Timer.  Not sure if you need to wrap the code in the Timer in an EventQueue.invokeLater(...).","body":"I&#39;ve never used AWT (since its 20 years out of date) but you should be able to use a java.util.Timer.  Not sure if you need to wrap the code in the Timer in an EventQueue.invokeLater(...)."},{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1700473094,"post_id":77511252,"comment_id":136654456,"body_markdown":"Alright i will look it up. Thanks","body":"Alright i will look it up. Thanks"}],"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700405958,"creation_date":1700405958,"question_id":77511252,"body_markdown":"I made a quiz app and It displays 10 quiz questions. When user clicks next the count increments and next question is displayed from array. The problem is if i click button faster the count exceeds 10 and when the later click events are handled I get Array index out of bounds exceptions as I am loading only 10 questions from database and storing in array. How do I make sure my count variable is only incremented till 10(i.e. 9 for array index) no matter how many times next is clicked. Also I am trying to display timer of 15 seconds and i call repaint every second to update it but I have also added an image and it repaints image ass well every second. I want to avoid repainting image and only update timer value. Any help is appreciated.\r\n\r\n    package com.shivam;\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    public class QuizFrame extends Frame implements ActionListener {\r\n        String[][] questions;\r\n        String[][] answers;\r\n        String[][] useranswers = new String[10][1];\r\n        Label qno, question;\r\n        Checkbox opt1, opt2, opt3, opt4;\r\n        CheckboxGroup groupoptions;\r\n        Button next, submit;\r\n      //QuizRepository quizRepository;\r\n        Image image;\r\n        public static int timer = 15;\r\n        public static int ans_given = 0;\r\n        public static int count = 0;\r\n        public static int score = 0;\r\n        String name;\r\n        QuizFrame(String name,QuizRepository quizRepository) {\r\n            count = 0;\r\n            this.name = name;\r\n            setTitle(&quot;QuizApp - Quiz&quot;);\r\n            setBackground(new Color(42, 20, 66));\r\n            setForeground(Color.WHITE);\r\n            setLayout(null);\r\n    //      quizRepository = new QuizRepository();\r\n    //      quizRepository.loadQuizFromDb();\r\n            questions = quizRepository.getQuestions();\r\n            answers = quizRepository.getAnswers();\r\n    \r\n            qno = new Label();\r\n            qno.setBounds(350, 280, 40, 30);\r\n            qno.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 24));\r\n            add(qno);\r\n    \r\n            question = new Label();\r\n            question.setBounds(410, 280, 850, 30);\r\n            question.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 24));\r\n            add(question);\r\n    \r\n            groupoptions = new CheckboxGroup();\r\n            opt1 = new Checkbox();\r\n            opt1.setCheckboxGroup(groupoptions);\r\n            opt1.setBounds(420, 320, 300, 30);\r\n            opt1.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\r\n            add(opt1);\r\n    \r\n            opt2 = new Checkbox();\r\n            opt2.setCheckboxGroup(groupoptions);\r\n            opt2.setBounds(420, 360, 300, 30);\r\n            opt2.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\r\n            add(opt2);\r\n    \r\n            opt3 = new Checkbox();\r\n            opt3.setBounds(420, 400, 300, 30);\r\n            opt3.setCheckboxGroup(groupoptions);\r\n            opt3.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\r\n            add(opt3);\r\n    \r\n            opt4 = new Checkbox();\r\n            opt4.setBounds(420, 440, 300, 30);\r\n            opt4.setCheckboxGroup(groupoptions);\r\n            opt4.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\r\n            add(opt4);\r\n    \r\n            next = new Button(&quot;Next&quot;);\r\n            next.setBounds(550, 500, 150, 40);\r\n            next.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 22));\r\n            next.setBackground(new Color(30, 144, 255));\r\n            next.setForeground(Color.WHITE);\r\n            next.addActionListener(this);\r\n            add(next);\r\n    \r\n            submit = new Button(&quot;Submit&quot;);\r\n            submit.setBounds(800, 500, 150, 40);\r\n            submit.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 22));\r\n            submit.setBackground(new Color(129, 131, 129));\r\n            submit.setForeground(Color.WHITE);\r\n            submit.addActionListener(this);\r\n            submit.setEnabled(false);\r\n            add(submit);\r\n    \r\n            start(count);\r\n            setExtendedState(Frame.MAXIMIZED_BOTH);\r\n            image = Toolkit.getDefaultToolkit().getImage(&quot;src/resources/boy.png&quot;);\r\n            //System.out.println(image.getGraphics());\r\n            MediaTracker tracker = new MediaTracker(this);\r\n            tracker.addImage(image,0);\r\n            try {\r\n                tracker.waitForID(0);\r\n            }\r\n            catch(InterruptedException ae){\r\n                System.out.println(&quot;Exception occurred while loading image...&quot;);\r\n            }\r\n            setVisible(true);\r\n        }\r\n    \r\n        public void actionPerformed(ActionEvent ae) {\r\n            if (ae.getSource() == next) {\r\n                repaint();\r\n                opt1.setEnabled(true);\r\n                opt2.setEnabled(true);\r\n                opt3.setEnabled(true);\r\n                opt4.setEnabled(true);\r\n    \r\n                ans_given = 1;\r\n                if (groupoptions.getSelectedCheckbox() == null) {\r\n                    useranswers[count][0] = &quot;&quot;;\r\n                } else {\r\n                    useranswers[count][0] = groupoptions.getSelectedCheckbox().getLabel();\r\n                }\r\n    \r\n                if (count == 8) {\r\n                    next.setEnabled(false);\r\n                    next.setBackground(new Color(129, 131, 129));\r\n                    submit.setEnabled(true);\r\n                    submit.setBackground(new Color(104, 239, 66));\r\n                }\r\n                count++;\r\n                start(count);\r\n            }\r\n             else if (ae.getSource() == submit) {\r\n                ans_given = 1;\r\n                if (groupoptions.getSelectedCheckbox() == null) {\r\n                    useranswers[count][0] = &quot;&quot;;\r\n                } else {\r\n                    useranswers[count][0] = groupoptions.getSelectedCheckbox().getLabel();\r\n                }\r\n    \r\n                for (int i = 0; i &lt; useranswers.length; i++) {\r\n                    if (useranswers[i][0].equals(answers[i][1])) {\r\n                        score += 10;\r\n                    }\r\n                }\r\n                setVisible(false);\r\n                new ResultFrame(name,score);\r\n                System.out.println(&quot;Score : &quot;+score);\r\n            }\r\n        }\r\n    \r\n        public void paint(Graphics g) {\r\n            super.paint(g);\r\n            String time = &quot;Time left - &quot; + timer + &quot; seconds&quot;; // 15\r\n            g.setColor(Color.RED);\r\n            g.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 25));\r\n            g.drawImage(image,950,300,null);\r\n            if (timer &gt; 0) {\r\n                g.drawString(time, 600, 200);\r\n            } else {\r\n                g.drawString(&quot;Times up!!&quot;, 600, 200);\r\n            }\r\n            timer--; // 14\r\n            try {\r\n                Thread.sleep(1000);\r\n                repaint();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            if (ans_given == 1) {\r\n                ans_given = 0;\r\n                timer = 15;\r\n            } else if (timer &lt; 0) {\r\n                timer = 15;\r\n                opt1.setEnabled(true);\r\n                opt2.setEnabled(true);\r\n                opt3.setEnabled(true);\r\n                opt4.setEnabled(true);\r\n    \r\n                if (count == 8) {\r\n                    next.setEnabled(false);\r\n                    submit.setEnabled(true);\r\n                }\r\n                if (count == 9) { // submit button\r\n                    if (groupoptions.getSelectedCheckbox() == null) {\r\n                        useranswers[count][0] = &quot;&quot;;\r\n                    } else {\r\n                        useranswers[count][0] = groupoptions.getSelectedCheckbox().getLabel();\r\n                    }\r\n                    for (int i = 0; i &lt; useranswers.length; i++) {\r\n                        if (useranswers[i][0].equals(answers[i][1])) {\r\n                            score += 10;\r\n                        }\r\n                    }\r\n                    setVisible(false);\r\n                    new ResultFrame(name,score);\r\n                    System.out.println(&quot;Score : &quot;+score);\r\n                } else { // next button\r\n                    if (groupoptions.getSelectedCheckbox() == null) {\r\n                        useranswers[count][0] = &quot;&quot;;\r\n                    } else {\r\n                        useranswers[count][0] = groupoptions.getSelectedCheckbox().getLabel();\r\n                    }\r\n                    count++; // 0 // 1\r\n                    start(count);\r\n                }\r\n            }\r\n        }\r\n        public void start(int count) {\r\n            if(count&lt;=9) {\r\n                qno.setText((count + 1) + &quot;. &quot;);\r\n                question.setText(questions[count][0]);\r\n                opt1.setLabel(questions[count][1]);\r\n                opt2.setLabel(questions[count][2]);\r\n                opt3.setLabel(questions[count][3]);\r\n                opt4.setLabel(questions[count][4]);\r\n                groupoptions.setSelectedCheckbox(null);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe boy image i have drawn in paint method and it repaints every second. I want to stop that.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3F3DN.png","title":"AWT button clicks exceed the count value beyond expected","body":"<p>I made a quiz app and It displays 10 quiz questions. When user clicks next the count increments and next question is displayed from array. The problem is if i click button faster the count exceeds 10 and when the later click events are handled I get Array index out of bounds exceptions as I am loading only 10 questions from database and storing in array. How do I make sure my count variable is only incremented till 10(i.e. 9 for array index) no matter how many times next is clicked. Also I am trying to display timer of 15 seconds and i call repaint every second to update it but I have also added an image and it repaints image ass well every second. I want to avoid repainting image and only update timer value. Any help is appreciated.</p>\n<pre><code>package com.shivam;\n\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class QuizFrame extends Frame implements ActionListener {\n    String[][] questions;\n    String[][] answers;\n    String[][] useranswers = new String[10][1];\n    Label qno, question;\n    Checkbox opt1, opt2, opt3, opt4;\n    CheckboxGroup groupoptions;\n    Button next, submit;\n  //QuizRepository quizRepository;\n    Image image;\n    public static int timer = 15;\n    public static int ans_given = 0;\n    public static int count = 0;\n    public static int score = 0;\n    String name;\n    QuizFrame(String name,QuizRepository quizRepository) {\n        count = 0;\n        this.name = name;\n        setTitle(&quot;QuizApp - Quiz&quot;);\n        setBackground(new Color(42, 20, 66));\n        setForeground(Color.WHITE);\n        setLayout(null);\n//      quizRepository = new QuizRepository();\n//      quizRepository.loadQuizFromDb();\n        questions = quizRepository.getQuestions();\n        answers = quizRepository.getAnswers();\n\n        qno = new Label();\n        qno.setBounds(350, 280, 40, 30);\n        qno.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 24));\n        add(qno);\n\n        question = new Label();\n        question.setBounds(410, 280, 850, 30);\n        question.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 24));\n        add(question);\n\n        groupoptions = new CheckboxGroup();\n        opt1 = new Checkbox();\n        opt1.setCheckboxGroup(groupoptions);\n        opt1.setBounds(420, 320, 300, 30);\n        opt1.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\n        add(opt1);\n\n        opt2 = new Checkbox();\n        opt2.setCheckboxGroup(groupoptions);\n        opt2.setBounds(420, 360, 300, 30);\n        opt2.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\n        add(opt2);\n\n        opt3 = new Checkbox();\n        opt3.setBounds(420, 400, 300, 30);\n        opt3.setCheckboxGroup(groupoptions);\n        opt3.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\n        add(opt3);\n\n        opt4 = new Checkbox();\n        opt4.setBounds(420, 440, 300, 30);\n        opt4.setCheckboxGroup(groupoptions);\n        opt4.setFont(new Font(&quot;Dialog&quot;, Font.PLAIN, 20));\n        add(opt4);\n\n        next = new Button(&quot;Next&quot;);\n        next.setBounds(550, 500, 150, 40);\n        next.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 22));\n        next.setBackground(new Color(30, 144, 255));\n        next.setForeground(Color.WHITE);\n        next.addActionListener(this);\n        add(next);\n\n        submit = new Button(&quot;Submit&quot;);\n        submit.setBounds(800, 500, 150, 40);\n        submit.setFont(new Font(&quot;Tahoma&quot;, Font.PLAIN, 22));\n        submit.setBackground(new Color(129, 131, 129));\n        submit.setForeground(Color.WHITE);\n        submit.addActionListener(this);\n        submit.setEnabled(false);\n        add(submit);\n\n        start(count);\n        setExtendedState(Frame.MAXIMIZED_BOTH);\n        image = Toolkit.getDefaultToolkit().getImage(&quot;src/resources/boy.png&quot;);\n        //System.out.println(image.getGraphics());\n        MediaTracker tracker = new MediaTracker(this);\n        tracker.addImage(image,0);\n        try {\n            tracker.waitForID(0);\n        }\n        catch(InterruptedException ae){\n            System.out.println(&quot;Exception occurred while loading image...&quot;);\n        }\n        setVisible(true);\n    }\n\n    public void actionPerformed(ActionEvent ae) {\n        if (ae.getSource() == next) {\n            repaint();\n            opt1.setEnabled(true);\n            opt2.setEnabled(true);\n            opt3.setEnabled(true);\n            opt4.setEnabled(true);\n\n            ans_given = 1;\n            if (groupoptions.getSelectedCheckbox() == null) {\n                useranswers[count][0] = &quot;&quot;;\n            } else {\n                useranswers[count][0] = groupoptions.getSelectedCheckbox().getLabel();\n            }\n\n            if (count == 8) {\n                next.setEnabled(false);\n                next.setBackground(new Color(129, 131, 129));\n                submit.setEnabled(true);\n                submit.setBackground(new Color(104, 239, 66));\n            }\n            count++;\n            start(count);\n        }\n         else if (ae.getSource() == submit) {\n            ans_given = 1;\n            if (groupoptions.getSelectedCheckbox() == null) {\n                useranswers[count][0] = &quot;&quot;;\n            } else {\n                useranswers[count][0] = groupoptions.getSelectedCheckbox().getLabel();\n            }\n\n            for (int i = 0; i &lt; useranswers.length; i++) {\n                if (useranswers[i][0].equals(answers[i][1])) {\n                    score += 10;\n                }\n            }\n            setVisible(false);\n            new ResultFrame(name,score);\n            System.out.println(&quot;Score : &quot;+score);\n        }\n    }\n\n    public void paint(Graphics g) {\n        super.paint(g);\n        String time = &quot;Time left - &quot; + timer + &quot; seconds&quot;; // 15\n        g.setColor(Color.RED);\n        g.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 25));\n        g.drawImage(image,950,300,null);\n        if (timer &gt; 0) {\n            g.drawString(time, 600, 200);\n        } else {\n            g.drawString(&quot;Times up!!&quot;, 600, 200);\n        }\n        timer--; // 14\n        try {\n            Thread.sleep(1000);\n            repaint();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        if (ans_given == 1) {\n            ans_given = 0;\n            timer = 15;\n        } else if (timer &lt; 0) {\n            timer = 15;\n            opt1.setEnabled(true);\n            opt2.setEnabled(true);\n            opt3.setEnabled(true);\n            opt4.setEnabled(true);\n\n            if (count == 8) {\n                next.setEnabled(false);\n                submit.setEnabled(true);\n            }\n            if (count == 9) { // submit button\n                if (groupoptions.getSelectedCheckbox() == null) {\n                    useranswers[count][0] = &quot;&quot;;\n                } else {\n                    useranswers[count][0] = groupoptions.getSelectedCheckbox().getLabel();\n                }\n                for (int i = 0; i &lt; useranswers.length; i++) {\n                    if (useranswers[i][0].equals(answers[i][1])) {\n                        score += 10;\n                    }\n                }\n                setVisible(false);\n                new ResultFrame(name,score);\n                System.out.println(&quot;Score : &quot;+score);\n            } else { // next button\n                if (groupoptions.getSelectedCheckbox() == null) {\n                    useranswers[count][0] = &quot;&quot;;\n                } else {\n                    useranswers[count][0] = groupoptions.getSelectedCheckbox().getLabel();\n                }\n                count++; // 0 // 1\n                start(count);\n            }\n        }\n    }\n    public void start(int count) {\n        if(count&lt;=9) {\n            qno.setText((count + 1) + &quot;. &quot;);\n            question.setText(questions[count][0]);\n            opt1.setLabel(questions[count][1]);\n            opt2.setLabel(questions[count][2]);\n            opt3.setLabel(questions[count][3]);\n            opt4.setLabel(questions[count][4]);\n            groupoptions.setSelectedCheckbox(null);\n        }\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/3F3DN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3F3DN.png\" alt=\"enter image description here\" /></a></p>\n<p>The boy image i have drawn in paint method and it repaints every second. I want to stop that.</p>\n"},{"tags":["java","binary-tree","preorder"],"answers":[{"comments":[{"owner":{"account_id":4818688,"reputation":477,"user_id":3889963,"accept_rate":67,"display_name":"user3889963"},"score":0,"creation_date":1437495475,"post_id":31543737,"comment_id":51047970,"body_markdown":"I think I&#39;ll change that to while(p!=null &amp;&amp; prev.successor)","body":"I think I&#39;ll change that to while(p!=null &amp;&amp; prev.successor)"}],"tags":[],"owner":{"account_id":57196,"reputation":448,"user_id":2935160,"display_name":"Praneeth Reddy G"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437493399,"creation_date":1437493399,"answer_id":31543737,"question_id":31543361,"body_markdown":"First things first... You should write unit tests to find functional bugs\r\n\r\nHowever you seem to have a bug here... while loop does not execute at all\r\n\r\n`if(p!=null &amp;&amp; prev.successor){\r\n    while(p!=null &amp;&amp; !prev.successor){\r\n       prev=p;\r\n       p=p.right;\r\n    }\r\n }`\r\n\r\nYou may want to replace it with do-while","title":"Threaded tree preorder traversal in java","body":"<p>First things first... You should write unit tests to find functional bugs</p>\n\n<p>However you seem to have a bug here... while loop does not execute at all</p>\n\n<p><code>if(p!=null &amp;&amp; prev.successor){\n    while(p!=null &amp;&amp; !prev.successor){\n       prev=p;\n       p=p.right;\n    }\n }</code></p>\n\n<p>You may want to replace it with do-while</p>\n"},{"tags":[],"owner":{"account_id":29876717,"reputation":1,"user_id":22896733,"display_name":"user22896733"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700057451,"creation_date":1699993725,"answer_id":77483646,"question_id":31543361,"body_markdown":"```java\r\npublic class ParcelBST extends BinarySearchTree&lt;Parcel&gt; implements Iterable&lt;Parcel&gt;  {\r\n\r\n    public ParcelBST(Parcel value, ParcelBST leftNode, ParcelBST rightNode) {\r\n        super(value, leftNode, rightNode);\r\n    }\r\n\r\n    public ParcelBST(BinarySearchTree&lt;Parcel&gt; parcelBST) {\r\n        //这里写了root是value\r\n        super(parcelBST.value,parcelBST.leftNode,parcelBST.rightNode);\r\n    }\r\n\r\n    public ParcelBST(Tree&lt;Parcel&gt; parcelTree) {\r\n        super(parcelTree.value,parcelTree.leftNode,parcelTree.rightNode);\r\n    }\r\n\r\n    public ParcelBST(Parcel value) {\r\n        super(value);\r\n    }\r\n\r\n\r\n    @Override\r\n    public Iterator&lt;Parcel&gt; iterator() {\r\n        return new IteratorPreOrder();\r\n    }\r\n\r\n    class IteratorPreOrder implements Iterator&lt;Parcel&gt; {\r\n        // Hint: value, left/right sub-trees can be accessed by:\r\n        //    ParcelBST.this.value    ParcelBST.this.leftNode   ParcelBST.this.rightNode\r\n        // Or equivalently directly:\r\n        //    value   leftNode    rightNode\r\n\r\n        private Deque&lt;BinarySearchTree&lt;Parcel&gt;&gt; stack = new LinkedList&lt;&gt;();\r\n\r\n        // You may add methods and variables here if you wish\r\n        //这个方法是干什么？\r\n\r\n        public IteratorPreOrder() {\r\n            //初始preorder的迭代器\r\n            // You may add code here if you wish\r\n            //为什么要用外部类?\r\n            //检查的有没有根节点，如果根节点\r\n\r\n            if(ParcelBST.this.value != null){\r\n                stack.push(ParcelBST.this);\r\n            }\r\n        }\r\n\r\n        //在这个迭代器里，再去写方法\r\n\r\n        @Override\r\n        public boolean hasNext() {\r\n            // TODO\r\n            // START YOUR CODE\r\n            //是用来判断stack里有没有东西的\r\n            if(stack.isEmpty()){\r\n                return false;\r\n            }\r\n            return true;\r\n            // END YOUR CODE\r\n        }\r\n\r\n        @Override\r\n        //这个方法是为了去迭代树\r\n        public Parcel next() {\r\n            // TODO\r\n            // START YOUR CODE\r\n            if (!hasNext()) {\r\n                throw new NoSuchElementException();\r\n            }\r\n\r\n            BinarySearchTree&lt;Parcel&gt; current = stack.pop();\r\n\r\n            //right\r\n            if (current.rightNode != null &amp;&amp; current.rightNode.value != null) {\r\n                stack.push((BinarySearchTree&lt;Parcel&gt;) current.rightNode);\r\n            }\r\n\r\n            //left\r\n            if (current.leftNode != null &amp;&amp; current.leftNode.value != null) {\r\n                stack.push((BinarySearchTree&lt;Parcel&gt;) current.leftNode);\r\n            }\r\n            // END YOUR CODE\r\n            //返回整个curren的value\r\n            return current.value;\r\n        }\r\n    }\r\n}\r\n```","title":"Threaded tree preorder traversal in java","body":"<pre class=\"lang-java prettyprint-override\"><code>public class ParcelBST extends BinarySearchTree&lt;Parcel&gt; implements Iterable&lt;Parcel&gt;  {\n\n    public ParcelBST(Parcel value, ParcelBST leftNode, ParcelBST rightNode) {\n        super(value, leftNode, rightNode);\n    }\n\n    public ParcelBST(BinarySearchTree&lt;Parcel&gt; parcelBST) {\n        //这里写了root是value\n        super(parcelBST.value,parcelBST.leftNode,parcelBST.rightNode);\n    }\n\n    public ParcelBST(Tree&lt;Parcel&gt; parcelTree) {\n        super(parcelTree.value,parcelTree.leftNode,parcelTree.rightNode);\n    }\n\n    public ParcelBST(Parcel value) {\n        super(value);\n    }\n\n\n    @Override\n    public Iterator&lt;Parcel&gt; iterator() {\n        return new IteratorPreOrder();\n    }\n\n    class IteratorPreOrder implements Iterator&lt;Parcel&gt; {\n        // Hint: value, left/right sub-trees can be accessed by:\n        //    ParcelBST.this.value    ParcelBST.this.leftNode   ParcelBST.this.rightNode\n        // Or equivalently directly:\n        //    value   leftNode    rightNode\n\n        private Deque&lt;BinarySearchTree&lt;Parcel&gt;&gt; stack = new LinkedList&lt;&gt;();\n\n        // You may add methods and variables here if you wish\n        //这个方法是干什么？\n\n        public IteratorPreOrder() {\n            //初始preorder的迭代器\n            // You may add code here if you wish\n            //为什么要用外部类?\n            //检查的有没有根节点，如果根节点\n\n            if(ParcelBST.this.value != null){\n                stack.push(ParcelBST.this);\n            }\n        }\n\n        //在这个迭代器里，再去写方法\n\n        @Override\n        public boolean hasNext() {\n            // TODO\n            // START YOUR CODE\n            //是用来判断stack里有没有东西的\n            if(stack.isEmpty()){\n                return false;\n            }\n            return true;\n            // END YOUR CODE\n        }\n\n        @Override\n        //这个方法是为了去迭代树\n        public Parcel next() {\n            // TODO\n            // START YOUR CODE\n            if (!hasNext()) {\n                throw new NoSuchElementException();\n            }\n\n            BinarySearchTree&lt;Parcel&gt; current = stack.pop();\n\n            //right\n            if (current.rightNode != null &amp;&amp; current.rightNode.value != null) {\n                stack.push((BinarySearchTree&lt;Parcel&gt;) current.rightNode);\n            }\n\n            //left\n            if (current.leftNode != null &amp;&amp; current.leftNode.value != null) {\n                stack.push((BinarySearchTree&lt;Parcel&gt;) current.leftNode);\n            }\n            // END YOUR CODE\n            //返回整个curren的value\n            return current.value;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4818688,"reputation":477,"user_id":3889963,"accept_rate":67,"display_name":"user3889963"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1700405270,"creation_date":1437492423,"question_id":31543361,"body_markdown":"I&#39;m trying to write a code for the **preorder** traversal of a **Binary Threaded** tree in java. I wrote the following code, and it holds for a few examples, but I&#39;m worried that I&#39;m overlooking some edge scenarios. \r\n\r\n**MORE INFO**\r\nA node has two references *left* and *right* pointing to the left and right child of the node respectively. A boolean field called *successor* determines if the *right* pointer points to a child or the successor according to inorder traversal (if successor==false: *right* points to child, else points to inorder traversal successor)\r\n\r\nIt would be most appreciated if someone could point out the flaws in my logic here...\r\n\r\n    public void threadedPreorder(){\r\n            IntThreadedTreeNode prev, p=root;    //pointers to binary tree nodes\r\n            \r\n            while(p!=null){\r\n                while(p.left!=null){    //traversal to leftmost node\r\n                    visit(p);           //while visiting it\r\n                    p=p.left;\r\n                }\r\n                visit(p);\r\n                prev=p;\r\n                p=p.right;                      //shift to right or successor\r\n                if(p!=null &amp;&amp; prev.successor){    //avoid visiting the same node twice\r\n                    while(p!=null &amp;&amp; prev.successor){\r\n                        prev=p;\r\n                        p=p.right;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\nAny help would be appreciated...:)","title":"Threaded tree preorder traversal in java","body":"<p>I'm trying to write a code for the <strong>preorder</strong> traversal of a <strong>Binary Threaded</strong> tree in java. I wrote the following code, and it holds for a few examples, but I'm worried that I'm overlooking some edge scenarios. </p>\n\n<p><strong>MORE INFO</strong>\nA node has two references <em>left</em> and <em>right</em> pointing to the left and right child of the node respectively. A boolean field called <em>successor</em> determines if the <em>right</em> pointer points to a child or the successor according to inorder traversal (if successor==false: <em>right</em> points to child, else points to inorder traversal successor)</p>\n\n<p>It would be most appreciated if someone could point out the flaws in my logic here...</p>\n\n<pre><code>public void threadedPreorder(){\n        IntThreadedTreeNode prev, p=root;    //pointers to binary tree nodes\n\n        while(p!=null){\n            while(p.left!=null){    //traversal to leftmost node\n                visit(p);           //while visiting it\n                p=p.left;\n            }\n            visit(p);\n            prev=p;\n            p=p.right;                      //shift to right or successor\n            if(p!=null &amp;&amp; prev.successor){    //avoid visiting the same node twice\n                while(p!=null &amp;&amp; prev.successor){\n                    prev=p;\n                    p=p.right;\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>Any help would be appreciated...:)</p>\n"},{"tags":["java","spring-boot","spring-kafka"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1533138377,"post_id":51637328,"comment_id":90239237,"body_markdown":"Do you have some custom configuration on the matter in your project? I mean if there is anything what really disables Spring Boot&#39;s auto-configuration for Kafka... Maybe you even can share with us your failing project somewhere on the GitHub...","body":"Do you have some custom configuration on the matter in your project? I mean if there is anything what really disables Spring Boot&#39;s auto-configuration for Kafka... Maybe you even can share with us your failing project somewhere on the GitHub..."},{"owner":{"account_id":5426010,"reputation":1104,"user_id":4318240,"accept_rate":60,"display_name":"lights"},"score":0,"creation_date":1533138555,"post_id":51637328,"comment_id":90239351,"body_markdown":"this is for work so unfortunately I can&#39;t share the project. What kind of configurations would disable the auto-configuration? I think I posted all of the kafka related configs","body":"this is for work so unfortunately I can&#39;t share the project. What kind of configurations would disable the auto-configuration? I think I posted all of the kafka related configs"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1533138566,"post_id":51637328,"comment_id":90239361,"body_markdown":"BTW they must be called `key-deserializer` and `value-deserializer` on for the `spring.kafka.consumer.`...","body":"BTW they must be called <code>key-deserializer</code> and <code>value-deserializer</code> on for the <code>spring.kafka.consumer.</code>..."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1533138608,"post_id":51637328,"comment_id":90239387,"body_markdown":"OK! So, create some new simple project which exhibits the problem. Otherwise I don&#39;t see how we can help...","body":"OK! So, create some new simple project which exhibits the problem. Otherwise I don&#39;t see how we can help..."},{"owner":{"account_id":5426010,"reputation":1104,"user_id":4318240,"accept_rate":60,"display_name":"lights"},"score":0,"creation_date":1533139169,"post_id":51637328,"comment_id":90239709,"body_markdown":"Fair enough, just posted an update with how I&#39;m consuming the messages, not sure if that sheds any more light on anything or not.","body":"Fair enough, just posted an update with how I&#39;m consuming the messages, not sure if that sheds any more light on anything or not."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1533140024,"post_id":51637328,"comment_id":90240165,"body_markdown":"No, that looks OK. I&#39;m pretty sure you can come up with a simple project to share with us...","body":"No, that looks OK. I&#39;m pretty sure you can come up with a simple project to share with us..."},{"owner":{"account_id":5426010,"reputation":1104,"user_id":4318240,"accept_rate":60,"display_name":"lights"},"score":0,"creation_date":1533141036,"post_id":51637328,"comment_id":90240780,"body_markdown":"I made a simple project and it worked. And then I found that there were @Configuration beans elsewhere in the project that were overriding the properties. Not sure how I missed that....\nThank you for your time!","body":"I made a simple project and it worked. And then I found that there were @Configuration beans elsewhere in the project that were overriding the properties. Not sure how I missed that.... Thank you for your time!"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1533141104,"post_id":51637328,"comment_id":90240817,"body_markdown":"Cool! Feel free to answer to your own question to let other people do not step to the same rake! ;-)","body":"Cool! Feel free to answer to your own question to let other people do not step to the same rake! ;-)"}],"answers":[{"tags":[],"owner":{"account_id":5426010,"reputation":1104,"user_id":4318240,"accept_rate":60,"display_name":"lights"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1533141236,"creation_date":1533141236,"answer_id":51638268,"question_id":51637328,"body_markdown":"I realized there were @Configuration beans elsewhere in the project that were manually setting the properties. I removed them and everything worked.","title":"Spring boot spring.kafka.bootstrap-servers not getting picked up by consumer config","body":"<p>I realized there were @Configuration beans elsewhere in the project that were manually setting the properties. I removed them and everything worked.</p>\n"},{"tags":[],"owner":{"account_id":7564305,"reputation":109,"user_id":5740547,"display_name":"Ievgen"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1608471809,"creation_date":1608470107,"answer_id":65380288,"question_id":51637328,"body_markdown":"check out `KafkaProperties` object. It contains standard properties. Acts like a factory.\r\n\r\n```\r\n  @Bean\r\n  public KafkaTemplate&lt;Integer, String&gt; createTemplate(KafkaProperties properties)\r\n  {\r\n    Map&lt;String, Object&gt; props = properties.buildProducerProperties();\r\n    \r\n    props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\r\n    props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n\r\n    KafkaTemplate&lt;Integer, String&gt; template = new KafkaTemplate&lt;&gt;(new DefaultKafkaProducerFactory&lt;&gt;(props));\r\n    return template;\r\n  }\r\n```\r\n\r\nOriginal answer: https://stackoverflow.com/a/60961582/5740547","title":"Spring boot spring.kafka.bootstrap-servers not getting picked up by consumer config","body":"<p>check out <code>KafkaProperties</code> object. It contains standard properties. Acts like a factory.</p>\n<pre><code>  @Bean\n  public KafkaTemplate&lt;Integer, String&gt; createTemplate(KafkaProperties properties)\n  {\n    Map&lt;String, Object&gt; props = properties.buildProducerProperties();\n    \n    props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\n    props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n\n    KafkaTemplate&lt;Integer, String&gt; template = new KafkaTemplate&lt;&gt;(new DefaultKafkaProducerFactory&lt;&gt;(props));\n    return template;\n  }\n</code></pre>\n<p>Original answer: <a href=\"https://stackoverflow.com/a/60961582/5740547\">https://stackoverflow.com/a/60961582/5740547</a></p>\n"}],"owner":{"account_id":5426010,"reputation":1104,"user_id":4318240,"accept_rate":60,"display_name":"lights"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25886,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":51638268,"answer_count":2,"score":11,"last_activity_date":1700404857,"creation_date":1533137878,"question_id":51637328,"body_markdown":"I&#39;m trying to use connect a spring boot project to kafka .\r\nIn my application.properties file I have the following configs:\r\n\r\n    spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n    spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\r\n    spring.kafka.consumer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n    spring.kafka.consumer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\r\n    spring.kafka.template.default-topic=my_default_topic\r\n    spring.kafka.admin.fail-fast=true\r\n    spring.kafka.consumer.auto-offset-reset=latest\r\n    spring.kafka.consumer.group-id=my_group_id\r\n    spring.kafka.listener.concurrency=10\r\n    spring.kafka.bootstrap-servers=kafka:9092\r\n\r\nBut in the logs I see that only some of these values are making it into the consume configs. Configs from the logs are here:\r\n \r\n\r\n    2018-08-01 15:20:34.640  WARN 1 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refr[3/5548]\r\n    mpt: org.springframework.context.ApplicationContextException: Failed to start bean &#39;org.springframework.kafka.config.internalKafkaListenerEndpointRegistry&#39;; nested exception is org.apache.kafka.common.KafkaException: Failed to cons[2/5548]\r\n    fka consumer                                                                                                                                                                                                                           [1/5548]\r\n            isolation.level = read_uncommitted                                                                                                                            [46/5548]\r\n            key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer                                                                             [45/5548]\r\n            max.partition.fetch.bytes = 1048576                                                                                                                           [44/5548]\r\n            max.poll.interval.ms = 300000                                                                                                                                 [43/5548]\r\n            check.crcs = true                                                                                                                                             [58/5548]\r\n            client.id =\r\n            connections.max.idle.ms = 540000\r\n            enable.auto.commit = true\r\n            exclude.internal.topics = true\r\n            fetch.max.bytes = 52428800\r\n            fetch.max.wait.ms = 500\r\n            fetch.min.bytes = 1\r\n            group.id = null\r\n            heartbeat.interval.ms = 3000\r\n            interceptor.classes = null\r\n            internal.leave.group.on.close = true\r\n            isolation.level = read_uncommitted\r\n            key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\r\n            max.partition.fetch.bytes = 1048576\r\n            max.poll.interval.ms = 300000\r\n            max.poll.records = 500\r\n            metadata.max.age.ms = 300000\r\n            metric.reporters = []\r\n            metrics.num.samples = 2\r\n            metrics.recording.level = INFO\r\n            metrics.sample.window.ms = 30000\r\n            partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]\r\n            receive.buffer.bytes = 65536\r\n            reconnect.backoff.max.ms = 1000\r\n            reconnect.backoff.ms = 50\r\n            request.timeout.ms = 305000\r\n            retry.backoff.ms = 100\r\n            sasl.jaas.config = null\r\n            sasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n            sasl.kerberos.min.time.before.relogin = 60000\r\n            sasl.kerberos.service.name = null\r\n            sasl.kerberos.ticket.renew.jitter = 0.05\r\n            sasl.kerberos.ticket.renew.window.factor = 0.8\r\n            sasl.mechanism = GSSAPI\r\n            security.protocol = PLAINTEXT\r\n            send.buffer.bytes = 131072\r\n            session.timeout.ms = 10000\r\n            ssl.cipher.suites = null\r\n            ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]\r\n            ssl.endpoint.identification.algorithm = null\r\n            ssl.key.password = null\r\n            ssl.keymanager.algorithm = SunX509\r\n            ssl.keystore.location = null\r\n            ssl.keystore.password = null\r\n            ssl.keystore.type = JKS\r\n            ssl.protocol = TLS\r\n            ssl.provider = null\r\n            ssl.secure.random.implementation = null\r\n            ssl.trustmanager.algorithm = PKIX\r\n            ssl.truststore.location = null\r\n            ssl.truststore.password = null\r\n            ssl.truststore.type = JKS\r\n            value.deserializer = class org.springframework.kafka.support.serializer.JsonDeserializer\r\n\r\n\r\n\r\nSpecifically bootstrap.servers and group.id are missing. I then get an exception\r\n\r\n     org.springframework.context.ApplicationContextException: Failed to start bean &#39;org.springframework.kafka.config.internalKafkaListenerEndpointRegistry&#39;; nested exception is or\r\n    g.apache.kafka.common.KafkaException: Failed to construct kafka consumer\r\n\r\nbecause it can&#39;t find the bootstrap servers. I know I can manually pass the properties into a `DefaultKafkaConsumerFactory` bean but I was hoping Spring Boot could handle that automatically. Is there any way to do that?\r\nThank you!\r\n\r\n**EDIT:**\r\nI am trying to consume the messages using a `@KafkaListener` like so...\r\n\r\n     @KafkaListener(topics = &quot;${app-name.inputTopic}&quot;)\r\n        public void handleMessage(CustomMessage message){ \r\n           //my code\r\n        }\r\n\r\n\r\n","title":"Spring boot spring.kafka.bootstrap-servers not getting picked up by consumer config","body":"<p>I'm trying to use connect a spring boot project to kafka .\nIn my application.properties file I have the following configs:</p>\n\n<pre><code>spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\nspring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\nspring.kafka.consumer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\nspring.kafka.consumer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer\nspring.kafka.template.default-topic=my_default_topic\nspring.kafka.admin.fail-fast=true\nspring.kafka.consumer.auto-offset-reset=latest\nspring.kafka.consumer.group-id=my_group_id\nspring.kafka.listener.concurrency=10\nspring.kafka.bootstrap-servers=kafka:9092\n</code></pre>\n\n<p>But in the logs I see that only some of these values are making it into the consume configs. Configs from the logs are here:</p>\n\n<pre><code>2018-08-01 15:20:34.640  WARN 1 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refr[3/5548]\nmpt: org.springframework.context.ApplicationContextException: Failed to start bean 'org.springframework.kafka.config.internalKafkaListenerEndpointRegistry'; nested exception is org.apache.kafka.common.KafkaException: Failed to cons[2/5548]\nfka consumer                                                                                                                                                                                                                           [1/5548]\n        isolation.level = read_uncommitted                                                                                                                            [46/5548]\n        key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer                                                                             [45/5548]\n        max.partition.fetch.bytes = 1048576                                                                                                                           [44/5548]\n        max.poll.interval.ms = 300000                                                                                                                                 [43/5548]\n        check.crcs = true                                                                                                                                             [58/5548]\n        client.id =\n        connections.max.idle.ms = 540000\n        enable.auto.commit = true\n        exclude.internal.topics = true\n        fetch.max.bytes = 52428800\n        fetch.max.wait.ms = 500\n        fetch.min.bytes = 1\n        group.id = null\n        heartbeat.interval.ms = 3000\n        interceptor.classes = null\n        internal.leave.group.on.close = true\n        isolation.level = read_uncommitted\n        key.deserializer = class org.apache.kafka.common.serialization.StringDeserializer\n        max.partition.fetch.bytes = 1048576\n        max.poll.interval.ms = 300000\n        max.poll.records = 500\n        metadata.max.age.ms = 300000\n        metric.reporters = []\n        metrics.num.samples = 2\n        metrics.recording.level = INFO\n        metrics.sample.window.ms = 30000\n        partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]\n        receive.buffer.bytes = 65536\n        reconnect.backoff.max.ms = 1000\n        reconnect.backoff.ms = 50\n        request.timeout.ms = 305000\n        retry.backoff.ms = 100\n        sasl.jaas.config = null\n        sasl.kerberos.kinit.cmd = /usr/bin/kinit\n        sasl.kerberos.min.time.before.relogin = 60000\n        sasl.kerberos.service.name = null\n        sasl.kerberos.ticket.renew.jitter = 0.05\n        sasl.kerberos.ticket.renew.window.factor = 0.8\n        sasl.mechanism = GSSAPI\n        security.protocol = PLAINTEXT\n        send.buffer.bytes = 131072\n        session.timeout.ms = 10000\n        ssl.cipher.suites = null\n        ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]\n        ssl.endpoint.identification.algorithm = null\n        ssl.key.password = null\n        ssl.keymanager.algorithm = SunX509\n        ssl.keystore.location = null\n        ssl.keystore.password = null\n        ssl.keystore.type = JKS\n        ssl.protocol = TLS\n        ssl.provider = null\n        ssl.secure.random.implementation = null\n        ssl.trustmanager.algorithm = PKIX\n        ssl.truststore.location = null\n        ssl.truststore.password = null\n        ssl.truststore.type = JKS\n        value.deserializer = class org.springframework.kafka.support.serializer.JsonDeserializer\n</code></pre>\n\n<p>Specifically bootstrap.servers and group.id are missing. I then get an exception</p>\n\n<pre><code> org.springframework.context.ApplicationContextException: Failed to start bean 'org.springframework.kafka.config.internalKafkaListenerEndpointRegistry'; nested exception is or\ng.apache.kafka.common.KafkaException: Failed to construct kafka consumer\n</code></pre>\n\n<p>because it can't find the bootstrap servers. I know I can manually pass the properties into a <code>DefaultKafkaConsumerFactory</code> bean but I was hoping Spring Boot could handle that automatically. Is there any way to do that?\nThank you!</p>\n\n<p><strong>EDIT:</strong>\nI am trying to consume the messages using a <code>@KafkaListener</code> like so...</p>\n\n<pre><code> @KafkaListener(topics = \"${app-name.inputTopic}\")\n    public void handleMessage(CustomMessage message){ \n       //my code\n    }\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1700405604,"post_id":77511169,"comment_id":136647756,"body_markdown":"`stick` will be initialized in the controller that is created by the `FXMLLoader` that loads `game-view.fxml`. It won&#39;t be initialized in the controller on which `switchToGame(...)` is invoked (you haven&#39;t shown the code for how that controller is created, but it looks like it is a controller created by some other `FXMLLoader`).","body":"<code>stick</code> will be initialized in the controller that is created by the <code>FXMLLoader</code> that loads <code>game-view.fxml</code>. It won&#39;t be initialized in the controller on which <code>switchToGame(...)</code> is invoked (you haven&#39;t shown the code for how that controller is created, but it looks like it is a controller created by some other <code>FXMLLoader</code>)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1700406502,"post_id":77511169,"comment_id":136647857,"body_markdown":"Consequently, it looks like you are using the same controller class for two different FXML files. This is always a bad idea: use a different controller class for each FXML.","body":"Consequently, it looks like you are using the same controller class for two different FXML files. This is always a bad idea: use a different controller class for each FXML."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1700522591,"post_id":77511169,"comment_id":136662852,"body_markdown":"You should never set anything that has been annotated `@FXML` to another value (e.g. your `pausedLabel`).  You should not annotate objects not defined in FXML as `@FXML` (likely your `scene`, `gameScene` and `stage` objects, and the `gameIsRunning` boolean value).  You don&#39;t need to annotate public methods `@FXML`, though it is usually best to define them as private and annotate them `@FXML` instead.  You can get the scene from the stage, you don&#39;t need to create a new scene every time you set the root node of the scene.  Use the non `ea` versions - `ea` is for unstable early access code.","body":"You should never set anything that has been annotated <code>@FXML</code> to another value (e.g. your <code>pausedLabel</code>).  You should not annotate objects not defined in FXML as <code>@FXML</code> (likely your <code>scene</code>, <code>gameScene</code> and <code>stage</code> objects, and the <code>gameIsRunning</code> boolean value).  You don&#39;t need to annotate public methods <code>@FXML</code>, though it is usually best to define them as private and annotate them <code>@FXML</code> instead.  You can get the scene from the stage, you don&#39;t need to create a new scene every time you set the root node of the scene.  Use the non <code>ea</code> versions - <code>ea</code> is for unstable early access code."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1700522654,"post_id":77511169,"comment_id":136662856,"body_markdown":"Abstract your game logic (e.g. `gameIsRunning`) outside of your controllers and [share it with controllers using MVC](https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx) if needed.","body":"Abstract your game logic (e.g. <code>gameIsRunning</code>) outside of your controllers and <a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\">share it with controllers using MVC</a> if needed."}],"owner":{"account_id":29116069,"reputation":11,"user_id":22304749,"display_name":"Surat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700404469,"creation_date":1700404469,"question_id":77511169,"body_markdown":"I have a code where I want to increase the height of a stick (basically a rectangle) on detecting a key press.\r\nInitially, on detecting key presses the code was printing out text, which worked perfectly fine\r\nHowever after I created a rectangle object, wrote the code to increase it&#39;s height, and interfaced the rectangle with the corresponding fx:id and ran it, it threw the following error\r\n\r\nSo I went back to the scene builder, and now when I tried to check if the rectangle was associated with the correct fx:id, I simply saw that the id had disappeared. This is a recurring problem. Each time I create a new rectangle, I can see the fx:id there. But right after running the code, the id disappeared.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nThe Error\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.shape.Rectangle.getHeight()&quot; because &quot;this.this$0.stick&quot; is null\r\n\tat com.example.demo2@1.0-SNAPSHOT/com.example.demo2.SceneController$1.handle(SceneController.java:105)\r\n\tat com.example.demo2@1.0-SNAPSHOT/com.example.demo2.SceneController$1.handle(SceneController.java:83)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base@21-ea/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@21-ea/javafx.scene.Scene.processKeyEvent(Scene.java:2194)\r\n\tat javafx.graphics@21-ea/javafx.scene.Scene$ScenePeerListener.keyEvent(Scene.java:2715)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$KeyEventNotification.run(GlassViewEventHandler.java:218)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$KeyEventNotification.run(GlassViewEventHandler.java:150)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleKeyEvent$1(GlassViewEventHandler.java:250)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleKeyEvent(GlassViewEventHandler.java:249)\r\n\tat javafx.graphics@21-ea/com.sun.glass.ui.View.handleKeyEvent(View.java:542)\r\n\tat javafx.graphics@21-ea/com.sun.glass.ui.View.notifyKey(View.java:966)\r\n\tat javafx.graphics@21-ea/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@21-ea/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1583)\r\n\r\n```\r\n\r\n\r\n\r\nThe bugged controller.java code\r\n```\r\npackage com.example.demo2;\r\n\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.input.KeyCode;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Objects;\r\n\r\npublic class SceneController {\r\n\r\n\r\n\r\n    @FXML\r\n    private Rectangle stick;\r\n\r\n    @FXML\r\n    private Stage stage;\r\n\r\n    @FXML\r\n    private boolean gameIsRunning = false;\r\n\r\n    @FXML\r\n    private javafx.scene.control.Label pausedLabel = new Label();\r\n\r\n    @FXML\r\n    private Scene scene;\r\n\r\n    @FXML private Scene gameScene;\r\n\r\n    @FXML\r\n    private Scene pausedScene;\r\n\r\n    @FXML\r\n    private Parent root;\r\n\r\n\r\n    @FXML\r\n    private javafx.scene.control.Button closeButton;\r\n\r\n\r\n    @FXML\r\n    public void switchToMainMenu(ActionEvent event) throws IOException {\r\n        root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;hello-view.fxml&quot;)));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    @FXML\r\n    public void switchToMainMenuFromGame() throws IOException {\r\n        root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;hello-view.fxml&quot;)));\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    @FXML\r\n    private void createBridge(KeyEvent event){\r\n        switch (event.getCode()){\r\n            case C -&gt; stick.setHeight(stick.getHeight()+10.0);\r\n        }\r\n    }\r\n\r\n    @FXML\r\n    public void switchToGame(ActionEvent event) throws IOException {\r\n        gameIsRunning = true;\r\n        Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;game-view.fxml&quot;)));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        gameScene = scene;\r\n\r\n        scene.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\r\n            @Override\r\n            public void handle(KeyEvent keyEvent) {\r\n                switch (keyEvent.getCode()){\r\n                    case ESCAPE -&gt; {\r\n                        System.out.println(&quot;paused game&quot;);\r\n                        pauseGame();\r\n                        try {\r\n                            switchToPausedScene();\r\n                        } catch (IOException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }\r\n                    case Q -&gt; {\r\n                        try {\r\n                            switchToMainMenuFromGame();\r\n                        } catch (IOException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }\r\n                    case C -&gt; {\r\n                        System.out.println(&quot;creating bridge&quot;);\r\n                        stick.setHeight(stick.getHeight()+10.0);\r\n                    }\r\n                    case X -&gt; System.out.println(&quot;switching sides&quot;);\r\n                }\r\n            }\r\n        });\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    @FXML\r\n    private void switchToPausedScene() throws IOException{\r\n        gameIsRunning = false;\r\n        if(null == pausedScene){\r\n            root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;paused-menu.fxml&quot;)));\r\n            scene = new Scene(root);\r\n            pausedScene = scene;\r\n        }else{\r\n            scene = pausedScene;\r\n        }\r\n        scene.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\r\n            @Override\r\n            public void handle(KeyEvent keyEvent) {\r\n                if (Objects.requireNonNull(keyEvent.getCode()) == KeyCode.ESCAPE) {\r\n                    try {\r\n                        switchToGameSceneFromPaused();\r\n                    } catch (IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    @FXML\r\n    private void switchToGameSceneFromPaused() throws IOException{\r\n        scene = gameScene;\r\n        stage.setScene(scene);\r\n        stage.show();\r\n        gameIsRunning = true;\r\n    }\r\n\r\n\r\n    @FXML\r\n    protected void onExitButtonClick() {\r\n        Stage stage = (Stage) closeButton.getScene().getWindow();\r\n        stage.close();\r\n    }\r\n\r\n\r\n    @FXML\r\n    private void pauseGame(){\r\n        gameIsRunning = false;\r\n    }\r\n\r\n    @FXML\r\n    private void resumeGame(){\r\n        gameIsRunning = true;\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nand my game-view.fxml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.shape.Rectangle?&gt;\r\n\r\n\r\n&lt;AnchorPane prefHeight=&quot;966.0&quot; prefWidth=&quot;540.0&quot; xmlns=&quot;http://javafx.com/javafx/21&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.demo2.SceneController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;Rectangle fx:id=&quot;stick&quot; arcHeight=&quot;5.0&quot; arcWidth=&quot;5.0&quot; fill=&quot;DODGERBLUE&quot; height=&quot;6.0&quot; layoutX=&quot;287.0&quot; layoutY=&quot;225.0&quot; stroke=&quot;BLACK&quot; strokeType=&quot;INSIDE&quot; width=&quot;6.0&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```","title":"Objects not appearing in SceneBuilder in fx:id post running","body":"<p>I have a code where I want to increase the height of a stick (basically a rectangle) on detecting a key press.\nInitially, on detecting key presses the code was printing out text, which worked perfectly fine\nHowever after I created a rectangle object, wrote the code to increase it's height, and interfaced the rectangle with the corresponding fx:id and ran it, it threw the following error</p>\n<p>So I went back to the scene builder, and now when I tried to check if the rectangle was associated with the correct fx:id, I simply saw that the id had disappeared. This is a recurring problem. Each time I create a new rectangle, I can see the fx:id there. But right after running the code, the id disappeared.</p>\n<p>The Error</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.shape.Rectangle.getHeight()&quot; because &quot;this.this$0.stick&quot; is null\n    at com.example.demo2@1.0-SNAPSHOT/com.example.demo2.SceneController$1.handle(SceneController.java:105)\n    at com.example.demo2@1.0-SNAPSHOT/com.example.demo2.SceneController$1.handle(SceneController.java:83)\n    at javafx.base@21-ea/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@21-ea/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@21-ea/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21-ea/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21-ea/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@21-ea/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@21-ea/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@21-ea/javafx.scene.Scene.processKeyEvent(Scene.java:2194)\n    at javafx.graphics@21-ea/javafx.scene.Scene$ScenePeerListener.keyEvent(Scene.java:2715)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$KeyEventNotification.run(GlassViewEventHandler.java:218)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler$KeyEventNotification.run(GlassViewEventHandler.java:150)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleKeyEvent$1(GlassViewEventHandler.java:250)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@21-ea/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleKeyEvent(GlassViewEventHandler.java:249)\n    at javafx.graphics@21-ea/com.sun.glass.ui.View.handleKeyEvent(View.java:542)\n    at javafx.graphics@21-ea/com.sun.glass.ui.View.notifyKey(View.java:966)\n    at javafx.graphics@21-ea/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@21-ea/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\n    at java.base/java.lang.Thread.run(Thread.java:1583)\n\n</code></pre>\n<p>The bugged controller.java code</p>\n<pre><code>package com.example.demo2;\n\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.Objects;\n\npublic class SceneController {\n\n\n\n    @FXML\n    private Rectangle stick;\n\n    @FXML\n    private Stage stage;\n\n    @FXML\n    private boolean gameIsRunning = false;\n\n    @FXML\n    private javafx.scene.control.Label pausedLabel = new Label();\n\n    @FXML\n    private Scene scene;\n\n    @FXML private Scene gameScene;\n\n    @FXML\n    private Scene pausedScene;\n\n    @FXML\n    private Parent root;\n\n\n    @FXML\n    private javafx.scene.control.Button closeButton;\n\n\n    @FXML\n    public void switchToMainMenu(ActionEvent event) throws IOException {\n        root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;hello-view.fxml&quot;)));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    @FXML\n    public void switchToMainMenuFromGame() throws IOException {\n        root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;hello-view.fxml&quot;)));\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    @FXML\n    private void createBridge(KeyEvent event){\n        switch (event.getCode()){\n            case C -&gt; stick.setHeight(stick.getHeight()+10.0);\n        }\n    }\n\n    @FXML\n    public void switchToGame(ActionEvent event) throws IOException {\n        gameIsRunning = true;\n        Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;game-view.fxml&quot;)));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        gameScene = scene;\n\n        scene.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\n            @Override\n            public void handle(KeyEvent keyEvent) {\n                switch (keyEvent.getCode()){\n                    case ESCAPE -&gt; {\n                        System.out.println(&quot;paused game&quot;);\n                        pauseGame();\n                        try {\n                            switchToPausedScene();\n                        } catch (IOException e) {\n                            throw new RuntimeException(e);\n                        }\n                    }\n                    case Q -&gt; {\n                        try {\n                            switchToMainMenuFromGame();\n                        } catch (IOException e) {\n                            throw new RuntimeException(e);\n                        }\n                    }\n                    case C -&gt; {\n                        System.out.println(&quot;creating bridge&quot;);\n                        stick.setHeight(stick.getHeight()+10.0);\n                    }\n                    case X -&gt; System.out.println(&quot;switching sides&quot;);\n                }\n            }\n        });\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    @FXML\n    private void switchToPausedScene() throws IOException{\n        gameIsRunning = false;\n        if(null == pausedScene){\n            root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;paused-menu.fxml&quot;)));\n            scene = new Scene(root);\n            pausedScene = scene;\n        }else{\n            scene = pausedScene;\n        }\n        scene.setOnKeyPressed(new EventHandler&lt;KeyEvent&gt;() {\n            @Override\n            public void handle(KeyEvent keyEvent) {\n                if (Objects.requireNonNull(keyEvent.getCode()) == KeyCode.ESCAPE) {\n                    try {\n                        switchToGameSceneFromPaused();\n                    } catch (IOException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n        });\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    @FXML\n    private void switchToGameSceneFromPaused() throws IOException{\n        scene = gameScene;\n        stage.setScene(scene);\n        stage.show();\n        gameIsRunning = true;\n    }\n\n\n    @FXML\n    protected void onExitButtonClick() {\n        Stage stage = (Stage) closeButton.getScene().getWindow();\n        stage.close();\n    }\n\n\n    @FXML\n    private void pauseGame(){\n        gameIsRunning = false;\n    }\n\n    @FXML\n    private void resumeGame(){\n        gameIsRunning = true;\n    }\n\n\n\n\n}\n\n</code></pre>\n<p>and my game-view.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.shape.Rectangle?&gt;\n\n\n&lt;AnchorPane prefHeight=&quot;966.0&quot; prefWidth=&quot;540.0&quot; xmlns=&quot;http://javafx.com/javafx/21&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.demo2.SceneController&quot;&gt;\n   &lt;children&gt;\n      &lt;Rectangle fx:id=&quot;stick&quot; arcHeight=&quot;5.0&quot; arcWidth=&quot;5.0&quot; fill=&quot;DODGERBLUE&quot; height=&quot;6.0&quot; layoutX=&quot;287.0&quot; layoutY=&quot;225.0&quot; stroke=&quot;BLACK&quot; strokeType=&quot;INSIDE&quot; width=&quot;6.0&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n"},{"tags":["java","multithreading"],"answers":[{"comments":[{"owner":{"account_id":19323531,"reputation":107,"user_id":14126714,"display_name":"curious_coder"},"score":0,"creation_date":1700422610,"post_id":77510987,"comment_id":136649589,"body_markdown":"In case of multi threading, it takes some time to give back the result and it comes as empty. For the apis I’ve been using, I’ve set the timeout for 3 minutes, which isn’t enough to fetch the entire data.","body":"In case of multi threading, it takes some time to give back the result and it comes as empty. For the apis I’ve been using, I’ve set the timeout for 3 minutes, which isn’t enough to fetch the entire data."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1700436545,"post_id":77510987,"comment_id":136651006,"body_markdown":"1) That could be the server reacting to what it perceives to be a DOS attack; i.e. some client &quot;spamming&quot; it with multiple requests.  Read the documentation and/or contact the operators of the service to find out how to deal with this.  2) Well ... the &quot;solution&quot; to the timeouts would be to increase the timeout.  If it is going to take 2 to 3 hours, set the timeout appropriately.  Obviously you want it to take less time, but setting a timeout / deadline that you know that you are not meeting is not helping you.","body":"1) That could be the server reacting to what it perceives to be a DOS attack; i.e. some client &quot;spamming&quot; it with multiple requests.  Read the documentation and/or contact the operators of the service to find out how to deal with this.  2) Well ... the &quot;solution&quot; to the timeouts would be to increase the timeout.  If it is going to take 2 to 3 hours, set the timeout appropriately.  Obviously you want it to take less time, but setting a timeout / deadline that you know that you are not meeting is not helping you."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700403959,"creation_date":1700401565,"answer_id":77510987,"question_id":77510200,"body_markdown":"A problem like this can be approached in a few ways:\r\n\r\n1.  Use multiple threads to make requests in parallel.  This must be done carefully, because if you attempt to submit too many requests (i.e. from too many request threads) you can overload the server and *increase* response times ... or worse.\r\n\r\n    You said that you tried multi-threading, but you gave no details, so we can only speculate as to why it didn&#39;t help, or whether you could address those (presumed) issues.\r\n\r\n2.  Change the API so that you request more information in each request.  In your case, you might request information for multiple owner ids in one request.  But this assumes that you can change the API to do that.\r\n\r\n3.  Get the information another way; e.g. by querying the 3rd-party system&#39;s database.  This is probably impractical.\r\n\r\n----------------------\r\n\r\nIn your context, only approach 1 is likely to be feasible.\r\n\r\nYou could also see if you can reduce the average time taken to perform a single request.  Possible things you could do include:\r\n\r\n  - Optimize / shorten the network path from your app to the 3rd-party server.  (This assumes that network round-trip times or bandwidth limits are a bottleneck.) \r\n\r\n  - Use HTTP 1.0 keep-alives or HTTP 1.1 (or later) persistent connections.  Starting a new connection for each call will slow down requests, not least because multiple client / server round trips are involved in establishing an SSL/TLS connection and authenticating.","title":"Fetch data from db and third party api","body":"<p>A problem like this can be approached in a few ways:</p>\n<ol>\n<li><p>Use multiple threads to make requests in parallel.  This must be done carefully, because if you attempt to submit too many requests (i.e. from too many request threads) you can overload the server and <em>increase</em> response times ... or worse.</p>\n<p>You said that you tried multi-threading, but you gave no details, so we can only speculate as to why it didn't help, or whether you could address those (presumed) issues.</p>\n</li>\n<li><p>Change the API so that you request more information in each request.  In your case, you might request information for multiple owner ids in one request.  But this assumes that you can change the API to do that.</p>\n</li>\n<li><p>Get the information another way; e.g. by querying the 3rd-party system's database.  This is probably impractical.</p>\n</li>\n</ol>\n<hr />\n<p>In your context, only approach 1 is likely to be feasible.</p>\n<p>You could also see if you can reduce the average time taken to perform a single request.  Possible things you could do include:</p>\n<ul>\n<li><p>Optimize / shorten the network path from your app to the 3rd-party server.  (This assumes that network round-trip times or bandwidth limits are a bottleneck.)</p>\n</li>\n<li><p>Use HTTP 1.0 keep-alives or HTTP 1.1 (or later) persistent connections.  Starting a new connection for each call will slow down requests, not least because multiple client / server round trips are involved in establishing an SSL/TLS connection and authenticating.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":19323531,"reputation":107,"user_id":14126714,"display_name":"curious_coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77510987,"answer_count":1,"score":-2,"last_activity_date":1700403959,"creation_date":1700384429,"question_id":77510200,"body_markdown":"I need to fetch all the owner ids and names, and their corresponding co-owners in txt file or json format. The owner ids and names are stored in the database but the corresponding co-owners can only be fetched by a third party api. And the third party apis take around 1 sec to fetch the data for a single owner id. I’m using Java 17 and spring boot; and Postgres as the database. I’ve around 10000 rows in the database. \r\n\r\n\r\nFor starters, I&#39;ve used a loop to call the api and fetch data synchronously. But the api is timing out in this case as I have over 10k owner ids and for each owner id is taking around 1 sec. \r\nThen I’ve tried using multithreading in java but it’s still timing out. \r\n\r\nIs there any other approach for these kind of problems statements?","title":"Fetch data from db and third party api","body":"<p>I need to fetch all the owner ids and names, and their corresponding co-owners in txt file or json format. The owner ids and names are stored in the database but the corresponding co-owners can only be fetched by a third party api. And the third party apis take around 1 sec to fetch the data for a single owner id. I’m using Java 17 and spring boot; and Postgres as the database. I’ve around 10000 rows in the database.</p>\n<p>For starters, I've used a loop to call the api and fetch data synchronously. But the api is timing out in this case as I have over 10k owner ids and for each owner id is taking around 1 sec.\nThen I’ve tried using multithreading in java but it’s still timing out.</p>\n<p>Is there any other approach for these kind of problems statements?</p>\n"},{"tags":["java","reactive-programming"],"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700403127,"creation_date":1700403127,"question_id":77511077,"body_markdown":"I have this method for which I want to write a unit test using junit5 in java17.\r\n```\r\n    @Override\r\n    public CompletableFuture&lt;HttpResponse&lt;Void&gt;&gt; downloadContentWithSubscriber(String url, ByteSubscriber byteSubscriber) {\r\n        var request = HttpRequest.newBuilder(URI.create(url))\r\n                .timeout(Duration.ofMinutes(2))\r\n                .GET()\r\n                .build();\r\n        return client.sendAsync(request, HttpResponse.BodyHandlers.fromSubscriber(byteSubscriber))\r\n                .orTimeout(2, TimeUnit.MINUTES);\r\n    }\r\n```\r\n\r\nI have written this test below\r\n```\r\n    @Test\r\n    void givenAValidUrl_whenDownloadIsCalledWithCustomSubscriber_shouldDownloadFileSuccessfully() throws ExecutionException, InterruptedException {\r\n        // Arrange\r\n        String givenUrl = &quot;http://test-domain-not-working-dummy.com/3.90.0/installer_win.msi&quot;;\r\n        var request = HttpRequest.newBuilder(URI.create(givenUrl))\r\n                .timeout(Duration.ofMinutes(2))\r\n                .GET()\r\n                .build();\r\n        var byteSubscriber = mock(ByteSubscriber.class);\r\n        var response = mock(HttpResponse.class);\r\n        when(httpClient.sendAsync(request, HttpResponse.BodyHandlers.fromSubscriber(byteSubscriber)))\r\n                .thenReturn(CompletableFuture.completedFuture(response));\r\n        // Act\r\n        var httpResponse = webSystemCalls.downloadContentWithSubscriber(givenUrl, byteSubscriber).get();\r\n        // Assert\r\n        verify(httpClient, times(1)).sendAsync(request, HttpResponse.BodyHandlers.fromSubscriber(byteSubscriber));\r\n    }\r\n```\r\n\r\nBut it fails with below error\r\n```\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;java.util.concurrent.CompletableFuture.orTimeout(long, java.util.concurrent.TimeUnit)&quot; because the return value of &quot;java.net.http.HttpClient.sendAsync(java.net.http.HttpRequest, java.net.http.HttpResponse$BodyHandler)&quot; is null\r\n\tat com.abc.bcd.http.DefaultWebSystemCall.downloadContentWithSubscriber(DefaultWebSystemCall.java:47)\r\n\tat com.abc.bcd.http.DefaultWebSystemCallTest.downloadContentWithSubscriber_shouldReturnCompletedFuture(DefaultWebSystemCallTest.java:127)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n\r\n```\r\n\r\nMy ByteSubscriber Class looks like this\r\n```\r\npublic class ByteSubscriber implements Flow.Subscriber&lt;List&lt;ByteBuffer&gt;&gt; {\r\n    private final CompletableFuture&lt;Void&gt; downloadFuture;\r\n    private final String localFilePath;\r\n    private final Consumer&lt;FileProgress&gt; onProgressChanged;\r\n    private final long totalFileSize;\r\n    private long downloadStartTime;\r\n    private Flow.Subscription subscription;\r\n\r\n    public ByteSubscriber(String localFilePath, long totalFileSize, CompletableFuture&lt;Void&gt; downloadFuture, Consumer&lt;FileProgress&gt; onProgressChanged) {\r\n        this.localFilePath = localFilePath;\r\n        this.totalFileSize = totalFileSize;\r\n        this.downloadFuture = downloadFuture;\r\n        this.onProgressChanged = onProgressChanged;\r\n    }\r\n\r\n    @Override\r\n    public void onSubscribe(Flow.Subscription subscription) {\r\n        if (this.subscription != null) {\r\n            subscription.cancel();\r\n            return;\r\n        }\r\n        this.subscription = subscription;\r\n        this.downloadStartTime = System.nanoTime();\r\n        subscription.request(Long.MAX_VALUE);\r\n    }\r\n\r\n    @Override\r\n    public void onNext(List&lt;ByteBuffer&gt; bytes) {\r\n        int size = remaining(bytes, Integer.MAX_VALUE);\r\n        byte[] res = new byte[size];\r\n        int from = 0;\r\n        for (ByteBuffer b : bytes) {\r\n            int l = b.remaining();\r\n            b.get(res, from, l);\r\n            from += l;\r\n        }         \r\n\r\n    }\r\n\r\n    @Override\r\n    public void onError(Throwable throwable) {\r\n        downloadFuture.completeExceptionally(throwable);\r\n    }\r\n\r\n    @Override\r\n    public void onComplete() {\r\n        downloadFuture.complete(null);\r\n    }\r\n\r\n```\r\n\r\nWhat do I need to change to make it work ?\r\nI have similar tests which works fine but only change there is sendAsync method uses `HttpResponse.BodyHandlers.ofByteArray()` and rest stays same.","title":"Java HttpClient sendAsync Junit Test with Custom Reactive Subscriber","body":"<p>I have this method for which I want to write a unit test using junit5 in java17.</p>\n<pre><code>    @Override\n    public CompletableFuture&lt;HttpResponse&lt;Void&gt;&gt; downloadContentWithSubscriber(String url, ByteSubscriber byteSubscriber) {\n        var request = HttpRequest.newBuilder(URI.create(url))\n                .timeout(Duration.ofMinutes(2))\n                .GET()\n                .build();\n        return client.sendAsync(request, HttpResponse.BodyHandlers.fromSubscriber(byteSubscriber))\n                .orTimeout(2, TimeUnit.MINUTES);\n    }\n</code></pre>\n<p>I have written this test below</p>\n<pre><code>    @Test\n    void givenAValidUrl_whenDownloadIsCalledWithCustomSubscriber_shouldDownloadFileSuccessfully() throws ExecutionException, InterruptedException {\n        // Arrange\n        String givenUrl = &quot;http://test-domain-not-working-dummy.com/3.90.0/installer_win.msi&quot;;\n        var request = HttpRequest.newBuilder(URI.create(givenUrl))\n                .timeout(Duration.ofMinutes(2))\n                .GET()\n                .build();\n        var byteSubscriber = mock(ByteSubscriber.class);\n        var response = mock(HttpResponse.class);\n        when(httpClient.sendAsync(request, HttpResponse.BodyHandlers.fromSubscriber(byteSubscriber)))\n                .thenReturn(CompletableFuture.completedFuture(response));\n        // Act\n        var httpResponse = webSystemCalls.downloadContentWithSubscriber(givenUrl, byteSubscriber).get();\n        // Assert\n        verify(httpClient, times(1)).sendAsync(request, HttpResponse.BodyHandlers.fromSubscriber(byteSubscriber));\n    }\n</code></pre>\n<p>But it fails with below error</p>\n<pre><code>\njava.lang.NullPointerException: Cannot invoke &quot;java.util.concurrent.CompletableFuture.orTimeout(long, java.util.concurrent.TimeUnit)&quot; because the return value of &quot;java.net.http.HttpClient.sendAsync(java.net.http.HttpRequest, java.net.http.HttpResponse$BodyHandler)&quot; is null\n    at com.abc.bcd.http.DefaultWebSystemCall.downloadContentWithSubscriber(DefaultWebSystemCall.java:47)\n    at com.abc.bcd.http.DefaultWebSystemCallTest.downloadContentWithSubscriber_shouldReturnCompletedFuture(DefaultWebSystemCallTest.java:127)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n\n</code></pre>\n<p>My ByteSubscriber Class looks like this</p>\n<pre><code>public class ByteSubscriber implements Flow.Subscriber&lt;List&lt;ByteBuffer&gt;&gt; {\n    private final CompletableFuture&lt;Void&gt; downloadFuture;\n    private final String localFilePath;\n    private final Consumer&lt;FileProgress&gt; onProgressChanged;\n    private final long totalFileSize;\n    private long downloadStartTime;\n    private Flow.Subscription subscription;\n\n    public ByteSubscriber(String localFilePath, long totalFileSize, CompletableFuture&lt;Void&gt; downloadFuture, Consumer&lt;FileProgress&gt; onProgressChanged) {\n        this.localFilePath = localFilePath;\n        this.totalFileSize = totalFileSize;\n        this.downloadFuture = downloadFuture;\n        this.onProgressChanged = onProgressChanged;\n    }\n\n    @Override\n    public void onSubscribe(Flow.Subscription subscription) {\n        if (this.subscription != null) {\n            subscription.cancel();\n            return;\n        }\n        this.subscription = subscription;\n        this.downloadStartTime = System.nanoTime();\n        subscription.request(Long.MAX_VALUE);\n    }\n\n    @Override\n    public void onNext(List&lt;ByteBuffer&gt; bytes) {\n        int size = remaining(bytes, Integer.MAX_VALUE);\n        byte[] res = new byte[size];\n        int from = 0;\n        for (ByteBuffer b : bytes) {\n            int l = b.remaining();\n            b.get(res, from, l);\n            from += l;\n        }         \n\n    }\n\n    @Override\n    public void onError(Throwable throwable) {\n        downloadFuture.completeExceptionally(throwable);\n    }\n\n    @Override\n    public void onComplete() {\n        downloadFuture.complete(null);\n    }\n\n</code></pre>\n<p>What do I need to change to make it work ?\nI have similar tests which works fine but only change there is sendAsync method uses <code>HttpResponse.BodyHandlers.ofByteArray()</code> and rest stays same.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"comments":[{"owner":{"account_id":29760610,"reputation":29,"user_id":22808304,"display_name":"kimzero"},"score":0,"creation_date":1700394929,"post_id":77510624,"comment_id":136646855,"body_markdown":"Thank you. I did what you wrote, but I see a red error in the loofer and postDelayed, this, LoginActivity.class. Please see the picture attached to the post.","body":"Thank you. I did what you wrote, but I see a red error in the loofer and postDelayed, this, LoginActivity.class. Please see the picture attached to the post."},{"owner":{"account_id":23642317,"reputation":802,"user_id":17672403,"display_name":"Faruk Karaca"},"score":0,"creation_date":1700395489,"post_id":77510624,"comment_id":136646894,"body_markdown":"I think you&#39;re missing a braces at the end. You should import the red ones. for windows Alt - Enter , for macOs Option - Enter","body":"I think you&#39;re missing a braces at the end. You should import the red ones. for windows Alt - Enter , for macOs Option - Enter"},{"owner":{"account_id":29760610,"reputation":29,"user_id":22808304,"display_name":"kimzero"},"score":0,"creation_date":1700396683,"post_id":77510624,"comment_id":136646976,"body_markdown":"I revised it as you said. However, the same red lines continue to appear in the PostDelayed part and this, LoginActivety.class.","body":"I revised it as you said. However, the same red lines continue to appear in the PostDelayed part and this, LoginActivety.class."},{"owner":{"account_id":23642317,"reputation":802,"user_id":17672403,"display_name":"Faruk Karaca"},"score":0,"creation_date":1700402804,"post_id":77510624,"comment_id":136647482,"body_markdown":"Check what you imported. Import this `import android.os.Handler;`. Not this import `java.util.logging.Handler;` I edited check.","body":"Check what you imported. Import this <code>import android.os.Handler;</code>. Not this import <code>java.util.logging.Handler;</code> I edited check."},{"owner":{"account_id":29760610,"reputation":29,"user_id":22808304,"display_name":"kimzero"},"score":0,"creation_date":1700441549,"post_id":77510624,"comment_id":136651405,"body_markdown":"Thanks to you, I solved it. Thank you so much!","body":"Thanks to you, I solved it. Thank you so much!"},{"owner":{"account_id":23642317,"reputation":802,"user_id":17672403,"display_name":"Faruk Karaca"},"score":0,"creation_date":1700459348,"post_id":77510624,"comment_id":136652694,"body_markdown":"no problem, glad to help!","body":"no problem, glad to help!"},{"owner":{"account_id":23642317,"reputation":802,"user_id":17672403,"display_name":"Faruk Karaca"},"score":0,"creation_date":1700459368,"post_id":77510624,"comment_id":136652699,"body_markdown":"Can you mark it as a correct answer","body":"Can you mark it as a correct answer"}],"tags":[],"owner":{"account_id":23642317,"reputation":802,"user_id":17672403,"display_name":"Faruk Karaca"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700402735,"creation_date":1700394193,"answer_id":77510624,"question_id":77510583,"body_markdown":"In `try` you froze the main thread for 3 seconds. This is not recommended. It will not go into `catch` as it works successfully. You can use this `handler` instead. \r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.splash_activity);\r\n    \r\n        Handler handler = new Handler(Looper.getMainLooper());\r\n        handler.postDelayed(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        }, 3000);\r\n    }\r\n\r\n","title":"Android studio Splash Error (It&#39;s frozen on the intro screen)","body":"<p>In <code>try</code> you froze the main thread for 3 seconds. This is not recommended. It will not go into <code>catch</code> as it works successfully. You can use this <code>handler</code> instead.</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.splash_activity);\n\n    Handler handler = new Handler(Looper.getMainLooper());\n    handler.postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\n            startActivity(intent);\n            finish();\n        }\n    }, 3000);\n}\n</code></pre>\n"}],"owner":{"account_id":29760610,"reputation":29,"user_id":22808304,"display_name":"kimzero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700402735,"creation_date":1700393228,"question_id":77510583,"body_markdown":"I was making an intro screen through Splash.\r\nI have to show the intro screen for 3 seconds and go to the login screen afterwards, but it&#39;s still frozen on the intro screen.\r\n\r\nWhat&#39;s the problem?\r\nCorresponding source code:\r\n\r\nSlashActivity.java (splash class)\r\n\r\npublic class SlashActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.splash_activity);\r\n\r\n        try {\r\n            Thread.sleep(3000);\r\n        } catch (Exception e) {\r\n\r\n\r\n            Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n    }\r\n}\r\n\r\nLoginActivity.java\r\n\r\npublic class LoginActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login);\r\n\r\n        mFirebaseAuth = FirebaseAuth.getInstance();\r\n        mDatabaseRef = FirebaseDatabase.getInstance().getReference();\r\n\r\n        EtEmail = findViewById(R.id.EtEmail);\r\n        EtPwd = findViewById(R.id.EtPwd);\r\n        Btn_Register = findViewById(R.id.Btn_Register);\r\n        Btn_Login = findViewById(R.id.Btn_Login);\r\n\r\n        Btn_Login.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(EtEmail.getText().length() &gt; 0 &amp;&amp; EtPwd.getText().length() &gt; 0) {\r\n                    String strEmail = EtEmail.getText().toString();\r\n                    String strPwd = EtPwd.getText().toString();\r\n                    mFirebaseAuth.signInWithEmailAndPassword(strEmail, strPwd).addOnCompleteListener(LoginActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                        @Override\r\n                        public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                            if (task.isSuccessful()) {\r\n                                // 로그인 성공\r\n                                Intent intent = new Intent(LoginActivity.this, MainActivity.class);\r\n                                startActivity(intent);\r\n                                finish();\r\n                            } else {\r\n                                Toast.makeText(LoginActivity.this, &quot;로그인 실패&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    });\r\n                } else {\r\n                    Toast.makeText(LoginActivity.this, &quot;아이디와 비밀번호를 확인해주세요.&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        });\r\n        Btn_Register.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(LoginActivity.this, RegisterActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n            }\r\n        }\r\n\r\nAndroidManifest.xml\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\r\n\r\n    &lt;application\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_icon&quot;\r\n        android:label=&quot;HomePet&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_icon&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Project&quot;\r\n        tools:targetApi=&quot;31&quot; &gt;\r\n  \r\n        &lt;activity android:name=&quot;.SlashActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.map.MapsActivity&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:label=&quot;MapsActivity&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.User_Account&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.RegisterActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.LoginActivity&quot;\r\n            android:exported=&quot;true&quot; &gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot; &gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;activity android:name=&quot;.Useredit_Activity&quot;/&gt;\r\n        &lt;activity android:name=&quot;.LogoutActivity&quot;/&gt;\r\n        &lt;activity android:name=&quot;.NoticeActivity&quot;/&gt;\r\n        &lt;activity android:name=&quot;.HospitalActivity&quot;\r\n            android:exported=&quot;false&quot;/&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\nI would really appreciate your help.\r\n\r\n-------------------------------------------\r\n\r\nwhy error??\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QGn61.png","title":"Android studio Splash Error (It&#39;s frozen on the intro screen)","body":"<p>I was making an intro screen through Splash.\nI have to show the intro screen for 3 seconds and go to the login screen afterwards, but it's still frozen on the intro screen.</p>\n<p>What's the problem?\nCorresponding source code:</p>\n<p>SlashActivity.java (splash class)</p>\n<p>public class SlashActivity extends AppCompatActivity {</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.splash_activity);\n\n    try {\n        Thread.sleep(3000);\n    } catch (Exception e) {\n\n\n        Intent intent = new Intent(getApplicationContext(), LoginActivity.class);\n        startActivity(intent);\n        finish();\n    }\n}\n</code></pre>\n<p>}</p>\n<p>LoginActivity.java</p>\n<p>public class LoginActivity extends AppCompatActivity {</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_login);\n\n    mFirebaseAuth = FirebaseAuth.getInstance();\n    mDatabaseRef = FirebaseDatabase.getInstance().getReference();\n\n    EtEmail = findViewById(R.id.EtEmail);\n    EtPwd = findViewById(R.id.EtPwd);\n    Btn_Register = findViewById(R.id.Btn_Register);\n    Btn_Login = findViewById(R.id.Btn_Login);\n\n    Btn_Login.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            if(EtEmail.getText().length() &gt; 0 &amp;&amp; EtPwd.getText().length() &gt; 0) {\n                String strEmail = EtEmail.getText().toString();\n                String strPwd = EtPwd.getText().toString();\n                mFirebaseAuth.signInWithEmailAndPassword(strEmail, strPwd).addOnCompleteListener(LoginActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                        if (task.isSuccessful()) {\n                            // 로그인 성공\n                            Intent intent = new Intent(LoginActivity.this, MainActivity.class);\n                            startActivity(intent);\n                            finish();\n                        } else {\n                            Toast.makeText(LoginActivity.this, &quot;로그인 실패&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n            } else {\n                Toast.makeText(LoginActivity.this, &quot;아이디와 비밀번호를 확인해주세요.&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    });\n    Btn_Register.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent(LoginActivity.this, RegisterActivity.class);\n            startActivity(intent);\n        }\n    });\n        }\n    }\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot;/&gt;\n\n&lt;application\n    android:usesCleartextTraffic=&quot;true&quot;\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_icon&quot;\n    android:label=&quot;HomePet&quot;\n    android:roundIcon=&quot;@mipmap/ic_icon&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.Project&quot;\n    tools:targetApi=&quot;31&quot; &gt;\n\n    &lt;activity android:name=&quot;.SlashActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;activity\n        android:name=&quot;.map.MapsActivity&quot;\n        android:exported=&quot;false&quot;\n        android:label=&quot;MapsActivity&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.User_Account&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.RegisterActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.LoginActivity&quot;\n        android:exported=&quot;true&quot; &gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot; &gt;\n    &lt;/activity&gt;\n\n    &lt;activity android:name=&quot;.Useredit_Activity&quot;/&gt;\n    &lt;activity android:name=&quot;.LogoutActivity&quot;/&gt;\n    &lt;activity android:name=&quot;.NoticeActivity&quot;/&gt;\n    &lt;activity android:name=&quot;.HospitalActivity&quot;\n        android:exported=&quot;false&quot;/&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>I would really appreciate your help.</p>\n<hr />\n<p>why error??</p>\n<p><a href=\"https://i.stack.imgur.com/QGn61.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QGn61.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium","casting","css-selectors","shadow-dom"],"comments":[{"owner":{"account_id":8908789,"reputation":5958,"user_id":6649786,"accept_rate":100,"display_name":"Wais Kamal"},"score":1,"creation_date":1642404593,"post_id":70737766,"comment_id":125052362,"body_markdown":"You are getting a java error in javascript?","body":"You are getting a java error in javascript?"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642541637,"creation_date":1642541637,"answer_id":70762633,"question_id":70737766,"body_markdown":"You need to take care of a couple of things:\r\n\r\n- Now that Chrome supports shadow root via the driver, `shadowRoot` JS calls are returned per the spec with a shadow root element key (`shadow-6066-11e4-a52e-4f735466cecf`). [tag:selenium4] has a new `ShadowRoot` class to support this, but it didn&#39;t include the translation code that we earlier did when execute script calls return elements. This has been fixed and will be available in [Selenium](https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491) _**v4.1**_. The only difference is that you&#39;ll need to cast to `ShadowRoot` instead of `WebElement`.\r\n- The actual state is that the return value of that JavaScript changed in v96 of ChromeDriver in order to be w3c compliant. Selenium 3.141.59 can not parse this new return value. You can use `getShadowRoot()` in Selenium 4, or you&#39;ll be able to get a `ShadowRoot` instance returned from the JS in Selenium 4.1.\r\n\r\n\r\n----------\r\n\r\n\r\nImplementation\r\n--------------\r\nFrom the [documentation](https://github.com/SeleniumHQ/selenium/blob/78482214e31cddd16f105dd7d7211b34d14efedb/java/src/org/openqa/selenium/remote/ShadowRoot.java#L18)\r\n\r\n\tpackage org.openqa.selenium.remote;\r\n\r\n\timport org.openqa.selenium.By;\r\n\timport org.openqa.selenium.SearchContext;\r\n\timport org.openqa.selenium.WebDriver;\r\n\timport org.openqa.selenium.WebElement;\r\n\timport org.openqa.selenium.WrapsDriver;\r\n\timport org.openqa.selenium.internal.Require;\r\n\r\n\timport java.util.List;\r\n\timport java.util.Map;\r\n\r\n\timport static java.util.Collections.singletonMap;\r\n\timport static org.openqa.selenium.remote.Dialect.W3C;\r\n\timport static org.openqa.selenium.remote.DriverCommand.FIND_ELEMENTS_FROM_SHADOW_ROOT;\r\n\timport static org.openqa.selenium.remote.DriverCommand.FIND_ELEMENT_FROM_SHADOW_ROOT;\r\n\r\n\t// Note: we want people to code against the SearchContext API, so we keep this class package private\r\n\tclass ShadowRoot implements SearchContext, WrapsDriver {\r\n\t  private final RemoteWebDriver parent;\r\n\t  private final String id;\r\n\r\n\t  ShadowRoot(RemoteWebDriver parent, String id) {\r\n\t    this.parent = Require.nonNull(&quot;Owning remote webdriver&quot;, parent);\r\n\t    this.id = Require.nonNull(&quot;Shadow root ID&quot;, id);\r\n\t  }\r\n\r\n\t  @Override\r\n\t  public List&lt;WebElement&gt; findElements(By by) {\r\n\t    return parent.findElements(\r\n\t      this,\r\n\t      (using, value) -&gt; FIND_ELEMENTS_FROM_SHADOW_ROOT(id, using, String.valueOf(value)),\r\n\t      by);\r\n\t  }\r\n\r\n\t  @Override\r\n\t  public WebElement findElement(By by) {\r\n\t    return parent.findElement(\r\n\t      this,\r\n\t      (using, value) -&gt; FIND_ELEMENT_FROM_SHADOW_ROOT(id, using, String.valueOf(value)),\r\n\t      by);\r\n\t  }\r\n\r\n\t  @Override\r\n\t  public WebDriver getWrappedDriver() {\r\n\t    return parent;\r\n\t  }\r\n\r\n\t  public String getId() {\r\n\t    return this.id;\r\n\t  }\r\n\r\n\t  private Map&lt;String, Object&gt; toJson() {\r\n\t    return singletonMap(W3C.getShadowRootElementKey(), id);\r\n\t  }\r\n\t}\r\n\r\n\r\n----------\r\n\r\n\r\nExample Code:\r\n\r\n\tWebElement shadowHost = seleniumWebDriver.findElement(By.cssSelector(&quot;#shadowrootcontainer&quot;));\r\n\tJavascriptExecutor javascriptExecutor = (JavascriptExecutor) seleniumWebDriver;\r\n\tSearchContext shadowRoot = (SearchContext) javascriptExecutor.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\r\n\tWebElement shadowContent = shadowRoot.findElement(By.cssSelector(&quot;#shadowcontentcss&quot;));\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nThis Usecase\r\n------------\r\nYour modified code block will be:\r\n\r\n\tWebElement shadowDomHostElement = uiDriver.webDr.findElement(By.cssSelector(&quot;authoring-ui[ng-version=&#39;12.0.1&#39;]&quot;));\r\n\tJavascriptExecutor execute = (JavascriptExecutor)uiDriver.webDr;\r\n\tSearchContext shadowRoot = (SearchContext) execute.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowDomHostElement);\r\n\tWebElement executeshadow = shadowRoot.webDr.findElement(By.cssSelector(&quot;authoring-ui[ng-version=&#39;12.0.1&#39;]&quot;));\r\n\r\n\r\n----------\r\n\r\n\r\nTL; DR\r\n------\r\nSome helpful discussions:\r\n\r\n- [[&#128027; Bug]: Confusing JAVA API documentation, failed to cast org.openqa.selenium.remote.ShadowRoot](https://giters.com/SeleniumHQ/selenium/issues/10050)\r\n- [Issue 3958: since ChromeDriver 96. impossible to access a shadowroot-div anymore (fine under 95)](https://bugs.chromium.org/p/chromedriver/issues/detail?id=3958)","title":"java.lang.ClassCastException: cannot be cast to org.openqa.selenium.WebElement using executeScript() to return shadowRoot from shadowHost","body":"<p>You need to take care of a couple of things:</p>\n<ul>\n<li>Now that Chrome supports shadow root via the driver, <code>shadowRoot</code> JS calls are returned per the spec with a shadow root element key (<code>shadow-6066-11e4-a52e-4f735466cecf</code>). <a href=\"/questions/tagged/selenium4\" class=\"post-tag\" title=\"show questions tagged &#39;selenium4&#39;\" rel=\"tag\">selenium4</a> has a new <code>ShadowRoot</code> class to support this, but it didn't include the translation code that we earlier did when execute script calls return elements. This has been fixed and will be available in <a href=\"https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491\">Selenium</a> <em><strong>v4.1</strong></em>. The only difference is that you'll need to cast to <code>ShadowRoot</code> instead of <code>WebElement</code>.</li>\n<li>The actual state is that the return value of that JavaScript changed in v96 of ChromeDriver in order to be w3c compliant. Selenium 3.141.59 can not parse this new return value. You can use <code>getShadowRoot()</code> in Selenium 4, or you'll be able to get a <code>ShadowRoot</code> instance returned from the JS in Selenium 4.1.</li>\n</ul>\n<hr />\n<h2>Implementation</h2>\n<p>From the <a href=\"https://github.com/SeleniumHQ/selenium/blob/78482214e31cddd16f105dd7d7211b34d14efedb/java/src/org/openqa/selenium/remote/ShadowRoot.java#L18\" rel=\"nofollow noreferrer\">documentation</a></p>\n<pre><code>package org.openqa.selenium.remote;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.SearchContext;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.WrapsDriver;\nimport org.openqa.selenium.internal.Require;\n\nimport java.util.List;\nimport java.util.Map;\n\nimport static java.util.Collections.singletonMap;\nimport static org.openqa.selenium.remote.Dialect.W3C;\nimport static org.openqa.selenium.remote.DriverCommand.FIND_ELEMENTS_FROM_SHADOW_ROOT;\nimport static org.openqa.selenium.remote.DriverCommand.FIND_ELEMENT_FROM_SHADOW_ROOT;\n\n// Note: we want people to code against the SearchContext API, so we keep this class package private\nclass ShadowRoot implements SearchContext, WrapsDriver {\n  private final RemoteWebDriver parent;\n  private final String id;\n\n  ShadowRoot(RemoteWebDriver parent, String id) {\n    this.parent = Require.nonNull(&quot;Owning remote webdriver&quot;, parent);\n    this.id = Require.nonNull(&quot;Shadow root ID&quot;, id);\n  }\n\n  @Override\n  public List&lt;WebElement&gt; findElements(By by) {\n    return parent.findElements(\n      this,\n      (using, value) -&gt; FIND_ELEMENTS_FROM_SHADOW_ROOT(id, using, String.valueOf(value)),\n      by);\n  }\n\n  @Override\n  public WebElement findElement(By by) {\n    return parent.findElement(\n      this,\n      (using, value) -&gt; FIND_ELEMENT_FROM_SHADOW_ROOT(id, using, String.valueOf(value)),\n      by);\n  }\n\n  @Override\n  public WebDriver getWrappedDriver() {\n    return parent;\n  }\n\n  public String getId() {\n    return this.id;\n  }\n\n  private Map&lt;String, Object&gt; toJson() {\n    return singletonMap(W3C.getShadowRootElementKey(), id);\n  }\n}\n</code></pre>\n<hr />\n<p>Example Code:</p>\n<pre><code>WebElement shadowHost = seleniumWebDriver.findElement(By.cssSelector(&quot;#shadowrootcontainer&quot;));\nJavascriptExecutor javascriptExecutor = (JavascriptExecutor) seleniumWebDriver;\nSearchContext shadowRoot = (SearchContext) javascriptExecutor.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\nWebElement shadowContent = shadowRoot.findElement(By.cssSelector(&quot;#shadowcontentcss&quot;));\n</code></pre>\n<hr />\n<h2>This Usecase</h2>\n<p>Your modified code block will be:</p>\n<pre><code>WebElement shadowDomHostElement = uiDriver.webDr.findElement(By.cssSelector(&quot;authoring-ui[ng-version='12.0.1']&quot;));\nJavascriptExecutor execute = (JavascriptExecutor)uiDriver.webDr;\nSearchContext shadowRoot = (SearchContext) execute.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowDomHostElement);\nWebElement executeshadow = shadowRoot.webDr.findElement(By.cssSelector(&quot;authoring-ui[ng-version='12.0.1']&quot;));\n</code></pre>\n<hr />\n<h2>TL; DR</h2>\n<p>Some helpful discussions:</p>\n<ul>\n<li><a href=\"https://giters.com/SeleniumHQ/selenium/issues/10050\" rel=\"nofollow noreferrer\">[🐛 Bug]: Confusing JAVA API documentation, failed to cast org.openqa.selenium.remote.ShadowRoot</a></li>\n<li><a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=3958\" rel=\"nofollow noreferrer\">Issue 3958: since ChromeDriver 96. impossible to access a shadowroot-div anymore (fine under 95)</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2500437,"reputation":1762,"user_id":2175704,"display_name":"Sameera De Silva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653154180,"creation_date":1653154180,"answer_id":72331830,"question_id":70737766,"body_markdown":"I am using selenium 4, so instead of WebElement , it accept SearchContext.\r\n\r\n    WebElement shadowDomOne = (WebElement) js.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\r\n\r\nSo I had to use \r\n \r\n\r\n       SearchContext shadowDomOne = (SearchContext) js.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\r\n\r\nRefer this for more information-https://www.youtube.com/watch?v=IbjHhi7hcpI&amp;ab_channel=SelectorsHub\r\n\r\nAlso this videos helps to get an idea about shadow DOM.\r\nhttps://www.youtube.com/watch?v=bpzyjNZ0jaw&amp;t=632s&amp;ab_channel=SDET-QAAutomationTechie\r\n\r\nFull code that worked for me is as per below.\r\n\r\n  \r\n\r\n      driver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\r\n            // Navigate to the demoqa website\r\n            driver.get(&quot;https://books-pwakit.appspot.com/&quot;);\r\n            //This is th shadow host. Root element\r\n            WebElement shadowHost = driver.findElement(By.tagName(&quot;book-app&quot;));\r\n            JavascriptExecutor js = (JavascriptExecutor) driver;\r\n           // WebElement shadowDomOne = (WebElement) js.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\r\n            SearchContext shadowDomOne = (SearchContext) js.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\r\n           // WebElement appHeader=shadowDomOne.findElement(By.tagName(&quot;app-header&quot;)); because of https://github.com/SeleniumHQ/selenium/issues/10025\r\n    \r\n            WebElement appHeader=shadowDomOne.findElement(By.cssSelector(&quot;app-header&quot;));// So had to use css , here passes tag name.\r\n            WebElement app_toolbar=appHeader.findElement(By.cssSelector(&quot;app-toolbar.toolbar-bottom&quot;));\r\n            WebElement book_input_decorator=app_toolbar.findElement(By.tagName(&quot;book-input-decorator&quot;));\r\n            WebElement search=book_input_decorator.findElement(By.cssSelector(&quot;input#input&quot;));\r\n            search.sendKeys(&quot;At last we made it.&quot;);\r\n\r\n","title":"java.lang.ClassCastException: cannot be cast to org.openqa.selenium.WebElement using executeScript() to return shadowRoot from shadowHost","body":"<p>I am using selenium 4, so instead of WebElement , it accept SearchContext.</p>\n<pre><code>WebElement shadowDomOne = (WebElement) js.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\n</code></pre>\n<p>So I had to use</p>\n<pre><code>   SearchContext shadowDomOne = (SearchContext) js.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\n</code></pre>\n<p>Refer this for more information-https://www.youtube.com/watch?v=IbjHhi7hcpI&amp;ab_channel=SelectorsHub</p>\n<p>Also this videos helps to get an idea about shadow DOM.\n<a href=\"https://www.youtube.com/watch?v=bpzyjNZ0jaw&amp;t=632s&amp;ab_channel=SDET-QAAutomationTechie\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=bpzyjNZ0jaw&amp;t=632s&amp;ab_channel=SDET-QAAutomationTechie</a></p>\n<p>Full code that worked for me is as per below.</p>\n<pre><code>  driver.manage().timeouts().implicitlyWait(20, TimeUnit.SECONDS);\n        // Navigate to the demoqa website\n        driver.get(&quot;https://books-pwakit.appspot.com/&quot;);\n        //This is th shadow host. Root element\n        WebElement shadowHost = driver.findElement(By.tagName(&quot;book-app&quot;));\n        JavascriptExecutor js = (JavascriptExecutor) driver;\n       // WebElement shadowDomOne = (WebElement) js.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\n        SearchContext shadowDomOne = (SearchContext) js.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\n       // WebElement appHeader=shadowDomOne.findElement(By.tagName(&quot;app-header&quot;)); because of https://github.com/SeleniumHQ/selenium/issues/10025\n\n        WebElement appHeader=shadowDomOne.findElement(By.cssSelector(&quot;app-header&quot;));// So had to use css , here passes tag name.\n        WebElement app_toolbar=appHeader.findElement(By.cssSelector(&quot;app-toolbar.toolbar-bottom&quot;));\n        WebElement book_input_decorator=app_toolbar.findElement(By.tagName(&quot;book-input-decorator&quot;));\n        WebElement search=book_input_decorator.findElement(By.cssSelector(&quot;input#input&quot;));\n        search.sendKeys(&quot;At last we made it.&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16224731,"reputation":101,"user_id":11715400,"display_name":"Dhawal Kamdar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669451811,"creation_date":1669451452,"answer_id":74580746,"question_id":70737766,"body_markdown":"Try using the following `getShadowRootElement()` method to get the WebElement of the Shadow-root.\r\n\r\n    public WebElement getShadowRootElement(WebElement shadowHost) {\r\n    \tWebElement returnObj = null;\r\n    \tObject shadowRoot = ((JavascriptExecutor) driver).executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\r\n    \tif (shadowRoot instanceof WebElement) {\r\n    \t\t// ChromeDriver 95\r\n    \t\treturnObj = (WebElement) shadowRoot;\r\n    \t} else if (shadowRoot instanceof Map) {\r\n    \t\t// ChromeDriver 96+\r\n    \t\tMap&lt;String, Object&gt; shadowRootMap = (Map&lt;String, Object&gt;) shadowRoot;\r\n    \t\tString shadowRootKey = (String) shadowRootMap.keySet().toArray()[0];\r\n    \t\tString id = (String) shadowRootMap.get(shadowRootKey);\r\n    \t\tRemoteWebElement remoteWebElement = new RemoteWebElement();\r\n    \t\tremoteWebElement.setParent((RemoteWebDriver) driver);\r\n    \t\tremoteWebElement.setId(id);\r\n    \t\treturnObj = remoteWebElement;\r\n    \t} else {\r\n    \t\tSystem.out.println(&quot;Unexpected return type for shadowRoot in getShadowRootElement()&quot;);\r\n    \t}\r\n    \treturn returnObj;\r\n    }","title":"java.lang.ClassCastException: cannot be cast to org.openqa.selenium.WebElement using executeScript() to return shadowRoot from shadowHost","body":"<p>Try using the following <code>getShadowRootElement()</code> method to get the WebElement of the Shadow-root.</p>\n<pre><code>public WebElement getShadowRootElement(WebElement shadowHost) {\n    WebElement returnObj = null;\n    Object shadowRoot = ((JavascriptExecutor) driver).executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowHost);\n    if (shadowRoot instanceof WebElement) {\n        // ChromeDriver 95\n        returnObj = (WebElement) shadowRoot;\n    } else if (shadowRoot instanceof Map) {\n        // ChromeDriver 96+\n        Map&lt;String, Object&gt; shadowRootMap = (Map&lt;String, Object&gt;) shadowRoot;\n        String shadowRootKey = (String) shadowRootMap.keySet().toArray()[0];\n        String id = (String) shadowRootMap.get(shadowRootKey);\n        RemoteWebElement remoteWebElement = new RemoteWebElement();\n        remoteWebElement.setParent((RemoteWebDriver) driver);\n        remoteWebElement.setId(id);\n        returnObj = remoteWebElement;\n    } else {\n        System.out.println(&quot;Unexpected return type for shadowRoot in getShadowRootElement()&quot;);\n    }\n    return returnObj;\n}\n</code></pre>\n"}],"owner":{"account_id":23962875,"reputation":31,"user_id":17952725,"display_name":"Asha Rani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10552,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1700402695,"creation_date":1642404105,"question_id":70737766,"body_markdown":"Getting Issue :\r\n\r\n    java.lang.ClassCastException: com.google.common.collect.Maps$TransformedEntriesMap cannot be cast to org.openqa.selenium.WebElement\r\n\r\nCode trials:\r\n\r\n```java\r\nJavascriptExecutor execute = (JavascriptExecutor)uiDriver.webDr;\r\nWebElement shadowDomHostElement = uiDriver.webDr.findElement(By.cssSelector(&quot;authoring-ui[ng-version=&#39;12.0.1&#39;]&quot;));\r\nWebElement executeshadow = (WebElement)execute.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowDomHostElement);\r\n```\r\nUnable to cast the `WebElement`, please need help on this","title":"java.lang.ClassCastException: cannot be cast to org.openqa.selenium.WebElement using executeScript() to return shadowRoot from shadowHost","body":"<p>Getting Issue :</p>\n<pre><code>java.lang.ClassCastException: com.google.common.collect.Maps$TransformedEntriesMap cannot be cast to org.openqa.selenium.WebElement\n</code></pre>\n<p>Code trials:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JavascriptExecutor execute = (JavascriptExecutor)uiDriver.webDr;\nWebElement shadowDomHostElement = uiDriver.webDr.findElement(By.cssSelector(&quot;authoring-ui[ng-version='12.0.1']&quot;));\nWebElement executeshadow = (WebElement)execute.executeScript(&quot;return arguments[0].shadowRoot&quot;, shadowDomHostElement);\n</code></pre>\n<p>Unable to cast the <code>WebElement</code>, please need help on this</p>\n"},{"tags":["java","android"],"owner":{"account_id":29941210,"reputation":11,"user_id":22945681,"display_name":"Yanivonix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700402402,"creation_date":1700402402,"question_id":77511033,"body_markdown":"``` \r\npublic class MyCanvasView extends View {\r\n\r\n    public final int BRUSH_FREE = 0;\r\n    public final int BRUSH_LINE = 1;\r\n\r\n    private int brush_mode;\r\n    private Paint mPaint;\r\n    private Paint mBackroundPaint;\r\n    private Path mPath;\r\n    private int mDrawColor;\r\n    private int mBackgroundColor;\r\n    private int mTestColor;\r\n    private Canvas mExtraCanvas;\r\n    private Bitmap mExtraBitmap;\r\n    private Rect mFrame;\r\n    private ArrayList&lt;Path&gt; paths = new ArrayList&lt;&gt;();\r\n\r\n    public MyCanvasView(Context context) {\r\n        this(context, null);\r\n    }\r\n\r\n    public MyCanvasView(Context context, AttributeSet attributeSet) {\r\n        super(context, attributeSet);\r\n\r\n        mBackgroundColor = ResourcesCompat.getColor(getResources(),\r\n                R.color.opaque_orange, null);\r\n        mDrawColor = ResourcesCompat.getColor(getResources(),\r\n                R.color.opaque_yellow, null);\r\n        mTestColor = ResourcesCompat.getColor(getResources(),R.color.testColor,null);\r\n\r\n        brush_mode = BRUSH_FREE;\r\n\r\n        mPath = new Path();\r\n\r\n        mPaint = new Paint();\r\n\r\n        mPaint.setColor(mDrawColor);\r\n        mPaint.setAntiAlias(true);\r\n        mPaint.setDither(true);\r\n        mPaint.setStyle(Paint.Style.STROKE);\r\n        mPaint.setStrokeJoin(Paint.Join.ROUND);\r\n        mPaint.setStrokeCap(Paint.Cap.ROUND);\r\n        mPaint.setStrokeWidth(12);\r\n\r\n        mBackroundPaint = new Paint(mPaint);\r\n        mBackroundPaint.setColor(mBackgroundColor);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onSizeChanged(int width, int height,\r\n                                 int oldWidth, int oldHeight) {\r\n        super.onSizeChanged(width, height, oldWidth, oldHeight);\r\n        mExtraBitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\r\n        mExtraCanvas = new Canvas(mExtraBitmap);\r\n        mExtraCanvas.drawColor(mBackgroundColor);\r\n\r\n\r\n        int inset = 40;\r\n        mFrame = new Rect (inset, inset, width - inset, height - inset);\r\n    }\r\n\r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        super.onDraw(canvas);\r\n\r\n\r\n        canvas.drawBitmap(mExtraBitmap, 0, 0, null);\r\n\r\n\r\n        canvas.drawRect(mFrame, mPaint);\r\n    }\r\n\r\n\r\n    private float mX, mY;\r\n    private float moveLastX = -10000, moveLastY = -10000;\r\n\r\n    private static final float TOUCH_TOLERANCE = 4;\r\n\r\n\r\n\r\n    private void touchStart(float x, float y) {\r\n        mPath.moveTo(x, y);\r\n        mX = x;\r\n        mY = y;\r\n    }\r\n\r\n    private void touchMove(float x, float y) {\r\n        float dx = Math.abs(x - mX);\r\n        float dy = Math.abs(y - mY);\r\n        if (dx &gt;= TOUCH_TOLERANCE || dy &gt;= TOUCH_TOLERANCE) {\r\n            switch (brush_mode){\r\n                case (BRUSH_FREE):\r\n                    mPath.quadTo(mX, mY, (x + mX)/2, (y + mY)/2);\r\n                    mX = x;\r\n                    mY = y;\r\n                    paths.add(mPath);\r\n                    mExtraCanvas.drawPath(mPath, mPaint);\r\n                    break;\r\n                case (BRUSH_LINE):\r\n                    if(x != moveLastX &amp;&amp; y != moveLastY) {\r\n                        mPath.moveTo(moveLastX, moveLastY);\r\n                        mPath.lineTo(mX, mY);\r\n                        mExtraCanvas.drawPath(mPath, mBackroundPaint);\r\n                        mPath.lineTo(x, y);\r\n                        mExtraCanvas.drawPath(mPath, mPaint);\r\n                        break;\r\n                    }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    private void touchUp() {\r\n        moveLastX = -10000;\r\n        moveLastY = -10000;\r\n        mPath.reset();\r\n    }\r\n\r\n\r\n\r\n    public boolean onTouchEvent(MotionEvent event) {\r\n        float x = event.getX();\r\n        float y = event.getY();\r\n\r\n        switch (event.getAction()) {\r\n            case MotionEvent.ACTION_DOWN:\r\n                touchStart(x, y);\r\n                break;\r\n            case MotionEvent.ACTION_MOVE:\r\n                if(moveLastY == -10000 &amp;&amp; moveLastX == -10000){\r\n                    moveLastX = x;\r\n                    moveLastY = y;\r\n                }\r\n                touchMove(x, y);\r\n                moveLastY = y;\r\n                moveLastX = x;\r\n                invalidate();\r\n                break;\r\n            case MotionEvent.ACTION_UP:\r\n                touchUp();\r\n                break;\r\n            default:\r\n\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public static int getScreenWidth() {\r\n        return Resources.getSystem().getDisplayMetrics().widthPixels;\r\n    }\r\n\r\n    public static int getScreenHeight() {\r\n        return Resources.getSystem().getDisplayMetrics().heightPixels;\r\n    }\r\n\r\n    public void clearMyCanvas(){\r\n        mExtraCanvas.drawColor(mBackgroundColor);\r\n        mExtraCanvas.drawRect(mFrame, mPaint);\r\n        invalidate();\r\n        Log.d(&quot;MY ALERTS&quot;,&quot;Path reset supposedly&quot;);\r\n    }\r\n\r\n    public void setBrush_mode(int brushtype){\r\n        switch (brushtype){\r\n            case(BRUSH_FREE):\r\n                brush_mode = BRUSH_FREE;\r\n                break;\r\n            case(BRUSH_LINE):\r\n                brush_mode = BRUSH_LINE;\r\n                break;\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI want the finger to drag across the screen, and have a preview of the line show from the fixed start position (of when the finger initially touched the screen) to where it currently is. Problem is I am having trouble getting rid of all the preview lines drawn on screen so I&#39;m getting this &quot;sun-like&quot; figure on the screen, where more and more lines are drawn with each and every move of the finger.\r\nCan you help me organize a certain algorithm to do that properly?","title":"Android studio - Draw a line on a canvas with preview, without having all the former lines drawn on the canvas?","body":"<pre><code>public class MyCanvasView extends View {\n\n    public final int BRUSH_FREE = 0;\n    public final int BRUSH_LINE = 1;\n\n    private int brush_mode;\n    private Paint mPaint;\n    private Paint mBackroundPaint;\n    private Path mPath;\n    private int mDrawColor;\n    private int mBackgroundColor;\n    private int mTestColor;\n    private Canvas mExtraCanvas;\n    private Bitmap mExtraBitmap;\n    private Rect mFrame;\n    private ArrayList&lt;Path&gt; paths = new ArrayList&lt;&gt;();\n\n    public MyCanvasView(Context context) {\n        this(context, null);\n    }\n\n    public MyCanvasView(Context context, AttributeSet attributeSet) {\n        super(context, attributeSet);\n\n        mBackgroundColor = ResourcesCompat.getColor(getResources(),\n                R.color.opaque_orange, null);\n        mDrawColor = ResourcesCompat.getColor(getResources(),\n                R.color.opaque_yellow, null);\n        mTestColor = ResourcesCompat.getColor(getResources(),R.color.testColor,null);\n\n        brush_mode = BRUSH_FREE;\n\n        mPath = new Path();\n\n        mPaint = new Paint();\n\n        mPaint.setColor(mDrawColor);\n        mPaint.setAntiAlias(true);\n        mPaint.setDither(true);\n        mPaint.setStyle(Paint.Style.STROKE);\n        mPaint.setStrokeJoin(Paint.Join.ROUND);\n        mPaint.setStrokeCap(Paint.Cap.ROUND);\n        mPaint.setStrokeWidth(12);\n\n        mBackroundPaint = new Paint(mPaint);\n        mBackroundPaint.setColor(mBackgroundColor);\n    }\n\n\n    @Override\n    protected void onSizeChanged(int width, int height,\n                                 int oldWidth, int oldHeight) {\n        super.onSizeChanged(width, height, oldWidth, oldHeight);\n        mExtraBitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\n        mExtraCanvas = new Canvas(mExtraBitmap);\n        mExtraCanvas.drawColor(mBackgroundColor);\n\n\n        int inset = 40;\n        mFrame = new Rect (inset, inset, width - inset, height - inset);\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        super.onDraw(canvas);\n\n\n        canvas.drawBitmap(mExtraBitmap, 0, 0, null);\n\n\n        canvas.drawRect(mFrame, mPaint);\n    }\n\n\n    private float mX, mY;\n    private float moveLastX = -10000, moveLastY = -10000;\n\n    private static final float TOUCH_TOLERANCE = 4;\n\n\n\n    private void touchStart(float x, float y) {\n        mPath.moveTo(x, y);\n        mX = x;\n        mY = y;\n    }\n\n    private void touchMove(float x, float y) {\n        float dx = Math.abs(x - mX);\n        float dy = Math.abs(y - mY);\n        if (dx &gt;= TOUCH_TOLERANCE || dy &gt;= TOUCH_TOLERANCE) {\n            switch (brush_mode){\n                case (BRUSH_FREE):\n                    mPath.quadTo(mX, mY, (x + mX)/2, (y + mY)/2);\n                    mX = x;\n                    mY = y;\n                    paths.add(mPath);\n                    mExtraCanvas.drawPath(mPath, mPaint);\n                    break;\n                case (BRUSH_LINE):\n                    if(x != moveLastX &amp;&amp; y != moveLastY) {\n                        mPath.moveTo(moveLastX, moveLastY);\n                        mPath.lineTo(mX, mY);\n                        mExtraCanvas.drawPath(mPath, mBackroundPaint);\n                        mPath.lineTo(x, y);\n                        mExtraCanvas.drawPath(mPath, mPaint);\n                        break;\n                    }\n            }\n\n        }\n    }\n\n    private void touchUp() {\n        moveLastX = -10000;\n        moveLastY = -10000;\n        mPath.reset();\n    }\n\n\n\n    public boolean onTouchEvent(MotionEvent event) {\n        float x = event.getX();\n        float y = event.getY();\n\n        switch (event.getAction()) {\n            case MotionEvent.ACTION_DOWN:\n                touchStart(x, y);\n                break;\n            case MotionEvent.ACTION_MOVE:\n                if(moveLastY == -10000 &amp;&amp; moveLastX == -10000){\n                    moveLastX = x;\n                    moveLastY = y;\n                }\n                touchMove(x, y);\n                moveLastY = y;\n                moveLastX = x;\n                invalidate();\n                break;\n            case MotionEvent.ACTION_UP:\n                touchUp();\n                break;\n            default:\n\n        }\n        return true;\n    }\n\n    public static int getScreenWidth() {\n        return Resources.getSystem().getDisplayMetrics().widthPixels;\n    }\n\n    public static int getScreenHeight() {\n        return Resources.getSystem().getDisplayMetrics().heightPixels;\n    }\n\n    public void clearMyCanvas(){\n        mExtraCanvas.drawColor(mBackgroundColor);\n        mExtraCanvas.drawRect(mFrame, mPaint);\n        invalidate();\n        Log.d(&quot;MY ALERTS&quot;,&quot;Path reset supposedly&quot;);\n    }\n\n    public void setBrush_mode(int brushtype){\n        switch (brushtype){\n            case(BRUSH_FREE):\n                brush_mode = BRUSH_FREE;\n                break;\n            case(BRUSH_LINE):\n                brush_mode = BRUSH_LINE;\n                break;\n\n        }\n    }\n\n\n\n}\n</code></pre>\n<p>I want the finger to drag across the screen, and have a preview of the line show from the fixed start position (of when the finger initially touched the screen) to where it currently is. Problem is I am having trouble getting rid of all the preview lines drawn on screen so I'm getting this &quot;sun-like&quot; figure on the screen, where more and more lines are drawn with each and every move of the finger.\nCan you help me organize a certain algorithm to do that properly?</p>\n"},{"tags":["java","kotlin","android-studio","mobile","android-inflate"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700427064,"post_id":77511013,"comment_id":136650055,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29941159,"reputation":1,"user_id":22945647,"display_name":"Phyo Aung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700402232,"creation_date":1700402004,"question_id":77511013,"body_markdown":"[this is my java file][1]I follow to write this code  with a android development course online, but don&#39;t know why it doesn&#39;t work.\r\n\r\n[[this is my menu.xml file](https://i.stack.imgur.com/iwrvT.png),  (https://i.stack.imgur.com/xyC8G.png)]\r\n\r\nCan anyone help me why is happening with my code?\r\nI also have search a lot online, but don&#39;t find a helpful answer.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/va42z.png","title":"Inflate and menu.xml don&#39;t work as expected","body":"<p><a href=\"https://i.stack.imgur.com/va42z.png\" rel=\"nofollow noreferrer\">this is my java file</a>I follow to write this code  with a android development course online, but don't know why it doesn't work.</p>\n<p>[<a href=\"https://i.stack.imgur.com/iwrvT.png\" rel=\"nofollow noreferrer\">this is my menu.xml file</a>,  (<a href=\"https://i.stack.imgur.com/xyC8G.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/xyC8G.png</a>)]</p>\n<p>Can anyone help me why is happening with my code?\nI also have search a lot online, but don't find a helpful answer.</p>\n"},{"tags":["java","list","collections"],"comments":[{"owner":{"account_id":10759,"reputation":50070,"user_id":20471,"accept_rate":78,"display_name":"Joe Phillips"},"score":2,"creation_date":1299363758,"post_id":5207162,"comment_id":5855296,"body_markdown":"You can set the starting size of an ArrayList but if you add more elements it will expand itself","body":"You can set the starting size of an ArrayList but if you add more elements it will expand itself"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":8,"creation_date":1299363847,"post_id":5207162,"comment_id":5855306,"body_markdown":"fixed, or maximum? Do you want the list to not be able to have more than 100 items? And what should happen if `add()` is attempted? Exception, nothing, or an existing element discarded in favour of the new one.","body":"fixed, or maximum? Do you want the list to not be able to have more than 100 items? And what should happen if <code>add()</code> is attempted? Exception, nothing, or an existing element discarded in favour of the new one."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":10,"creation_date":1299364434,"post_id":5207162,"comment_id":5855400,"body_markdown":"Aren&#39;t these beasts called &quot;arrays&quot;?","body":"Aren&#39;t these beasts called &quot;arrays&quot;?"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":3,"creation_date":1299364638,"post_id":5207162,"comment_id":5855424,"body_markdown":"arrays do not conform to the `List` interface ;)","body":"arrays do not conform to the <code>List</code> interface ;)"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1299366701,"post_id":5207162,"comment_id":5855689,"body_markdown":"@Bozho: no they don&#39;t but given the limited information available in his question, who knows if he needs that, and they&#39;re plenty powerful.   If all he needs is some collection to hold 100 items, no more and no less, then he can do well with an array.  If not, he needs to clarify his question **a lot**.","body":"@Bozho: no they don&#39;t but given the limited information available in his question, who knows if he needs that, and they&#39;re plenty powerful.   If all he needs is some collection to hold 100 items, no more and no less, then he can do well with an array.  If not, he needs to clarify his question <b>a lot</b>."},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1299398247,"post_id":5207162,"comment_id":5858209,"body_markdown":"@fasatcoderjava - will you clarify the question?","body":"@fasatcoderjava - will you clarify the question?"},{"owner":{"account_id":72569,"reputation":10656,"user_id":209502,"accept_rate":67,"display_name":"Krzysztof Wolny"},"score":1,"creation_date":1439479808,"post_id":5207162,"comment_id":51889354,"body_markdown":"possible duplicate of [Fixed Size List in Java](http://stackoverflow.com/questions/6027995/fixed-size-list-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/6027995/fixed-size-list-in-java\">Fixed Size List in Java</a>"},{"owner":{"account_id":15305578,"reputation":2692,"user_id":11042460,"display_name":"Java wanna bee"},"score":0,"creation_date":1590667313,"post_id":5207162,"comment_id":109769565,"body_markdown":"List&lt;Integer&gt; myArrayList = new ArrayList&lt;&gt;(100);","body":"List&lt;Integer&gt; myArrayList = new ArrayList&lt;&gt;(100);"}],"answers":[{"comments":[{"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"score":1,"creation_date":1299363720,"post_id":5207170,"comment_id":5855291,"body_markdown":"will it keep the size to 100 if you keep adding to it?","body":"will it keep the size to 100 if you keep adding to it?"},{"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":16,"creation_date":1299364027,"post_id":5207170,"comment_id":5855337,"body_markdown":"@fastcodejava - you cannot use the `add` method with a fixed-length list - it already has 100 null entries. Use `set` to set values.","body":"@fastcodejava - you cannot use the <code>add</code> method with a fixed-length list - it already has 100 null entries. Use <code>set</code> to set values."},{"owner":{"account_id":2970196,"reputation":7818,"user_id":2522405,"accept_rate":79,"display_name":"Huy Tower"},"score":0,"creation_date":1401562077,"post_id":5207170,"comment_id":36936763,"body_markdown":"It can set fixed size. But when I add the object to the List&lt;&gt;, I always received ERROR UNKOWN, u know why?","body":"It can set fixed size. But when I add the object to the List&lt;&gt;, I always received ERROR UNKOWN, u know why?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1406805295,"post_id":5207170,"comment_id":38978317,"body_markdown":"@AlexTran - read the comments.  You cannot call `add` on a list created this way.","body":"@AlexTran - read the comments.  You cannot call <code>add</code> on a list created this way."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":4,"creation_date":1520969667,"post_id":5207170,"comment_id":85532330,"body_markdown":"This doesn&#39;t work if `MyType` is a parameterized type. For instance, `List&lt;List&lt;String&gt;&gt; fixed = Arrays.asList(new List&lt;String&gt;[100]);` will generate a compiler error. (In earlier Java versions, it generated a warning.) See [Restrictions on Generics](https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html) in the Java tutorials.","body":"This doesn&#39;t work if <code>MyType</code> is a parameterized type. For instance, <code>List&lt;List&lt;String&gt;&gt; fixed = Arrays.asList(new List&lt;String&gt;[100]);</code> will generate a compiler error. (In earlier Java versions, it generated a warning.) See <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/restrictions.html\" rel=\"nofollow noreferrer\">Restrictions on Generics</a> in the Java tutorials."},{"owner":{"account_id":5992361,"reputation":889,"user_id":4708118,"display_name":"DaithiG"},"score":0,"creation_date":1614027443,"post_id":5207170,"comment_id":117254096,"body_markdown":"`Arrays.asList()` always creates an immutable list.","body":"<code>Arrays.asList()</code> always creates an immutable list."},{"owner":{"display_name":"user15358848"},"score":1,"creation_date":1618859540,"post_id":5207170,"comment_id":118725574,"body_markdown":"@Daithi - not correct, documentation states &quot;fixed-size list&quot;, its elements **can** be changed, just the size not","body":"@Daithi - not correct, documentation states &quot;fixed-size list&quot;, its elements <b>can</b> be changed, just the size not"}],"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":7,"down_vote_count":1,"up_vote_count":65,"is_accepted":false,"score":64,"last_activity_date":1299363564,"creation_date":1299363564,"answer_id":5207170,"question_id":5207162,"body_markdown":"This should do it if memory serves:\r\n\r\n    List&lt;MyType&gt; fixed = Arrays.asList(new MyType[100]);","title":"Define a fixed-size list in Java","body":"<p>This should do it if memory serves:</p>\n\n<pre><code>List&lt;MyType&gt; fixed = Arrays.asList(new MyType[100]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60286,"reputation":6139,"user_id":180145,"display_name":"developmentalinsanity"},"comment_count":0,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1299363653,"creation_date":1299363653,"answer_id":5207178,"question_id":5207162,"body_markdown":"Create an array of size 100. If you need the List interface, then call [Arrays.asList][1] on it. It&#39;ll return a fixed-size list backed by the array.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29","title":"Define a fixed-size list in Java","body":"<p>Create an array of size 100. If you need the List interface, then call <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29\" rel=\"noreferrer\">Arrays.asList</a> on it. It'll return a fixed-size list backed by the array.</p>\n"},{"comments":[{"owner":{"account_id":1298880,"reputation":1317,"user_id":1249196,"accept_rate":73,"display_name":"Swiftslide"},"score":0,"creation_date":1351042871,"post_id":5207205,"comment_id":17707501,"body_markdown":"My reason&#39;s the same as Jeffrey&#39;s. Shocked to learn that you cant have the line:\nT[] myGenericArray = new T[5];","body":"My reason&#39;s the same as Jeffrey&#39;s. Shocked to learn that you cant have the line: T[] myGenericArray = new T[5];"},{"owner":{"account_id":199169,"reputation":3296,"user_id":444277,"accept_rate":40,"display_name":"Debarati"},"score":1,"creation_date":1380014761,"post_id":5207205,"comment_id":28031147,"body_markdown":"This is perfect. Instead of &quot;String&quot; we have to put the Object class as per requirement.Thanx.","body":"This is perfect. Instead of &quot;String&quot; we have to put the Object class as per requirement.Thanx."}],"tags":[],"owner":{"account_id":38358,"reputation":53281,"user_id":110028,"accept_rate":86,"display_name":"snakile"},"comment_count":2,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1299364775,"creation_date":1299363885,"answer_id":5207205,"question_id":5207162,"body_markdown":"Yes. You can pass a java array to [Arrays.asList(Object[])][1].\r\n\r\n    List&lt;String&gt; fixedSizeList = Arrays.asList(new String[100]);\r\n\r\nYou cannot insert new Strings to the fixedSizeList (it already has 100 elements). You can only set its values like this:\r\n\r\n    fixedSizeList.set(7, &quot;new value&quot;);\r\n\r\nThat way you have a fixed size list. The thing functions like an array and I can&#39;t think of a good reason to use it. I&#39;d love to hear why you want your fixed size collection to be a list instead of just using an array.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/util/Arrays.html#asList%28java.lang.Object[]%29","title":"Define a fixed-size list in Java","body":"<p>Yes. You can pass a java array to <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/util/Arrays.html#asList%28java.lang.Object[]%29\" rel=\"noreferrer\">Arrays.asList(Object[])</a>.</p>\n\n<pre><code>List&lt;String&gt; fixedSizeList = Arrays.asList(new String[100]);\n</code></pre>\n\n<p>You cannot insert new Strings to the fixedSizeList (it already has 100 elements). You can only set its values like this:</p>\n\n<pre><code>fixedSizeList.set(7, \"new value\");\n</code></pre>\n\n<p>That way you have a fixed size list. The thing functions like an array and I can't think of a good reason to use it. I'd love to hear why you want your fixed size collection to be a list instead of just using an array.</p>\n"},{"comments":[{"owner":{"account_id":146287,"reputation":3470,"user_id":356645,"display_name":"shams"},"score":1,"creation_date":1299423700,"post_id":5207356,"comment_id":5860749,"body_markdown":"The add(int index, T element) method will also need to be overridden.","body":"The add(int index, T element) method will also need to be overridden."},{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":1,"creation_date":1299450433,"post_id":5207356,"comment_id":5864322,"body_markdown":"@shams: That&#39;s why I said &quot;you would need to override all the methods that change the state of the list&quot; ...","body":"@shams: That&#39;s why I said &quot;you would need to override all the methods that change the state of the list&quot; ..."},{"owner":{"account_id":146287,"reputation":3470,"user_id":356645,"display_name":"shams"},"score":0,"creation_date":1299468031,"post_id":5207356,"comment_id":5866393,"body_markdown":"Yeah, I think handling these two should suffice. The add* are the only methods from the standard interface that can increase the size of the List. I think there are four of them but the other two (addAll*) in turn call the add* methods.","body":"Yeah, I think handling these two should suffice. The add* are the only methods from the standard interface that can increase the size of the List. I think there are four of them but the other two (addAll*) in turn call the add* methods."},{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":1,"creation_date":1299595898,"post_id":5207356,"comment_id":5890454,"body_markdown":"@shams: Good point, but I&#39;m not sure I would depend on that, as there is no contract saying that the others must depend on the simple add(). To be safe, I would override all four add methods.","body":"@shams: Good point, but I&#39;m not sure I would depend on that, as there is no contract saying that the others must depend on the simple add(). To be safe, I would override all four add methods."},{"owner":{"account_id":146287,"reputation":3470,"user_id":356645,"display_name":"shams"},"score":0,"creation_date":1300381922,"post_id":5207356,"comment_id":6032361,"body_markdown":"True, but in the ArrayList impl it does use the add() calls and LimitedArrayList&lt;T&gt; extends ArrayList&lt;T&gt; :). In general however all the four add methods will need to be overridden.","body":"True, but in the ArrayList impl it does use the add() calls and LimitedArrayList&lt;T&gt; extends ArrayList&lt;T&gt; :). In general however all the four add methods will need to be overridden."},{"owner":{"account_id":331941,"reputation":4028,"user_id":656936,"accept_rate":76,"display_name":"grasshopper"},"score":0,"creation_date":1387468079,"post_id":5207356,"comment_id":30977748,"body_markdown":"The check should be:\n this.size() == limit","body":"The check should be:  this.size() == limit"},{"owner":{"display_name":"user15358848"},"score":0,"creation_date":1619249720,"post_id":5207356,"comment_id":118852234,"body_markdown":"@shams - wrong! At least Java 16 (Oracle Corporation, 16, 2021-03-16) implementation of `ArrayList#addAll` **does not** call `add`! It checks and eventually grows the array and uses `System.arraycopy` to add the values! (also Java 8 does **not** use `add`)","body":"@shams - wrong! At least Java 16 (Oracle Corporation, 16, 2021-03-16) implementation of <code>ArrayList#addAll</code> <b>does not</b> call <code>add</code>! It checks and eventually grows the array and uses <code>System.arraycopy</code> to add the values! (also Java 8 does <b>not</b> use <code>add</code>)"},{"owner":{"display_name":"user15358848"},"score":0,"creation_date":1619250652,"post_id":5207356,"comment_id":118852449,"body_markdown":"@shams - Source [ArrayList#addAll](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java#L669)  -  the method from `AbstractList` is being overriden by `ArrayList` !","body":"@shams - Source <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java#L669\" rel=\"nofollow noreferrer\">ArrayList#addAll</a>  -  the method from <code>AbstractList</code> is being overriden by <code>ArrayList</code> !"}],"tags":[],"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"comment_count":8,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1474448480,"creation_date":1299365875,"answer_id":5207356,"question_id":5207162,"body_markdown":"If you want some flexibility, create a class that watches the size of the list.\r\n\r\nHere&#39;s a simple example. You would need to override all the methods that change the state of the list.\r\n\r\n    public class LimitedArrayList&lt;T&gt; extends ArrayList&lt;T&gt;{\r\n        private int limit;\r\n\r\n        public LimitedArrayList(int limit){\r\n            this.limit = limit;\r\n        }\r\n\r\n        @Override\r\n        public void add(T item){\r\n            if (this.size() &gt; limit)\r\n                throw new ListTooLargeException();\r\n            super.add(item);\r\n        }\r\n\r\n        // ... similarly for other methods that may add new elements ...","title":"Define a fixed-size list in Java","body":"<p>If you want some flexibility, create a class that watches the size of the list.</p>\n\n<p>Here's a simple example. You would need to override all the methods that change the state of the list.</p>\n\n<pre><code>public class LimitedArrayList&lt;T&gt; extends ArrayList&lt;T&gt;{\n    private int limit;\n\n    public LimitedArrayList(int limit){\n        this.limit = limit;\n    }\n\n    @Override\n    public void add(T item){\n        if (this.size() &gt; limit)\n            throw new ListTooLargeException();\n        super.add(item);\n    }\n\n    // ... similarly for other methods that may add new elements ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":2,"up_vote_count":37,"is_accepted":false,"score":35,"last_activity_date":1586423533,"creation_date":1299365963,"answer_id":5207362,"question_id":5207162,"body_markdown":"A Java list is a collection of objects ... the elements of a list.  The size of the list is the number of elements in that list.  If you want that size to be fixed, that means that you cannot either add or remove elements, because adding or removing elements would violate your &quot;fixed size&quot; constraint.\r\n\r\nThe simplest way to implement a &quot;fixed sized&quot; list (if that is really what you want!) is to put the elements into an array and then `Arrays.asList(array)` to create the list wrapper.  The wrapper will allow you to do operations like `get` and `set`, but the `add` and `remove` operations will throw exceptions.\r\n\r\nAnd if you want to create a fixed-sized wrapper for an existing list, then you could use the Apache commons [`FixedSizeList`][1] class.  But note that this wrapper can&#39;t stop something else changing the size of the original list, and if that happens the wrapped list will presumably reflect those changes.  \r\n\r\n--------------\r\n\r\nOn the other hand, if you really want a list type with a fixed limit (or limits) on its size, then you&#39;ll need to create your own List class to implement this.  For example, you could create a wrapper class that implements the relevant checks in the various `add` / `addAll` and `remove` / `removeAll` / `retainAll` operations.  (And in the iterator `remove` methods if they are supported.)\r\n\r\nSo why doesn&#39;t the Java Collections framework implement these?  Here&#39;s why I think so:\r\n\r\n  1.  Use-cases that need this are rare.\r\n  1.  The use-cases where this is needed, there are different requirements on what to do when an operation tries to break the limits; e.g. throw exception, ignore operation, discard some other element to make space.\r\n  1.  A list implementation with limits could be problematic for helper methods; e.g. `Collections.sort`.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/list/FixedSizeList.html","title":"Define a fixed-size list in Java","body":"<p>A Java list is a collection of objects ... the elements of a list.  The size of the list is the number of elements in that list.  If you want that size to be fixed, that means that you cannot either add or remove elements, because adding or removing elements would violate your \"fixed size\" constraint.</p>\n\n<p>The simplest way to implement a \"fixed sized\" list (if that is really what you want!) is to put the elements into an array and then <code>Arrays.asList(array)</code> to create the list wrapper.  The wrapper will allow you to do operations like <code>get</code> and <code>set</code>, but the <code>add</code> and <code>remove</code> operations will throw exceptions.</p>\n\n<p>And if you want to create a fixed-sized wrapper for an existing list, then you could use the Apache commons <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/list/FixedSizeList.html\" rel=\"noreferrer\"><code>FixedSizeList</code></a> class.  But note that this wrapper can't stop something else changing the size of the original list, and if that happens the wrapped list will presumably reflect those changes.  </p>\n\n<hr>\n\n<p>On the other hand, if you really want a list type with a fixed limit (or limits) on its size, then you'll need to create your own List class to implement this.  For example, you could create a wrapper class that implements the relevant checks in the various <code>add</code> / <code>addAll</code> and <code>remove</code> / <code>removeAll</code> / <code>retainAll</code> operations.  (And in the iterator <code>remove</code> methods if they are supported.)</p>\n\n<p>So why doesn't the Java Collections framework implement these?  Here's why I think so:</p>\n\n<ol>\n<li>Use-cases that need this are rare.</li>\n<li>The use-cases where this is needed, there are different requirements on what to do when an operation tries to break the limits; e.g. throw exception, ignore operation, discard some other element to make space.</li>\n<li>A list implementation with limits could be problematic for helper methods; e.g. <code>Collections.sort</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":146287,"reputation":3470,"user_id":356645,"display_name":"shams"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1299376721,"creation_date":1299376721,"answer_id":5208132,"question_id":5207162,"body_markdown":"Typically an alternative for fixed size Lists are Java arrays. Lists by default are allowed to grow/shrink in Java. However, that does not mean you cannot have a List of a fixed size. You&#39;ll need to do some work and create a custom implementation.\r\n\r\nYou can extend an [ArrayList][1] with custom implementations of the clear, add and remove methods.\r\n\r\ne.g.\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    public class FixedSizeList&lt;T&gt; extends ArrayList&lt;T&gt; {\r\n    \r\n        public FixedSizeList(int capacity) {\r\n            super(capacity);\r\n            for (int i = 0; i &lt; capacity; i++) {\r\n                super.add(null);\r\n            }\r\n        }\r\n    \r\n        public FixedSizeList(T[] initialElements) {\r\n            super(initialElements.length);\r\n            for (T loopElement : initialElements) {\r\n                super.add(loopElement);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void clear() {\r\n            throw new UnsupportedOperationException(&quot;Elements may not be cleared from a fixed size List.&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public boolean add(T o) {\r\n            throw new UnsupportedOperationException(&quot;Elements may not be added to a fixed size List, use set() instead.&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void add(int index, T element) {\r\n            throw new UnsupportedOperationException(&quot;Elements may not be added to a fixed size List, use set() instead.&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public T remove(int index) {\r\n            throw new UnsupportedOperationException(&quot;Elements may not be removed from a fixed size List.&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public boolean remove(Object o) {\r\n            throw new UnsupportedOperationException(&quot;Elements may not be removed from a fixed size List.&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void removeRange(int fromIndex, int toIndex) {\r\n            throw new UnsupportedOperationException(&quot;Elements may not be removed from a fixed size List.&quot;);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/ArrayList.html","title":"Define a fixed-size list in Java","body":"<p>Typically an alternative for fixed size Lists are Java arrays. Lists by default are allowed to grow/shrink in Java. However, that does not mean you cannot have a List of a fixed size. You'll need to do some work and create a custom implementation.</p>\n\n<p>You can extend an <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"noreferrer\">ArrayList</a> with custom implementations of the clear, add and remove methods.</p>\n\n<p>e.g.</p>\n\n<pre><code>import java.util.ArrayList;\n\npublic class FixedSizeList&lt;T&gt; extends ArrayList&lt;T&gt; {\n\n    public FixedSizeList(int capacity) {\n        super(capacity);\n        for (int i = 0; i &lt; capacity; i++) {\n            super.add(null);\n        }\n    }\n\n    public FixedSizeList(T[] initialElements) {\n        super(initialElements.length);\n        for (T loopElement : initialElements) {\n            super.add(loopElement);\n        }\n    }\n\n    @Override\n    public void clear() {\n        throw new UnsupportedOperationException(\"Elements may not be cleared from a fixed size List.\");\n    }\n\n    @Override\n    public boolean add(T o) {\n        throw new UnsupportedOperationException(\"Elements may not be added to a fixed size List, use set() instead.\");\n    }\n\n    @Override\n    public void add(int index, T element) {\n        throw new UnsupportedOperationException(\"Elements may not be added to a fixed size List, use set() instead.\");\n    }\n\n    @Override\n    public T remove(int index) {\n        throw new UnsupportedOperationException(\"Elements may not be removed from a fixed size List.\");\n    }\n\n    @Override\n    public boolean remove(Object o) {\n        throw new UnsupportedOperationException(\"Elements may not be removed from a fixed size List.\");\n    }\n\n    @Override\n    protected void removeRange(int fromIndex, int toIndex) {\n        throw new UnsupportedOperationException(\"Elements may not be removed from a fixed size List.\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":228743,"reputation":10672,"user_id":491245,"accept_rate":93,"display_name":"PhoneixS"},"score":18,"creation_date":1358355255,"post_id":5968535,"comment_id":19971938,"body_markdown":"Why will you decorate Arrays.asList result if it is already a fixed size list?","body":"Why will you decorate Arrays.asList result if it is already a fixed size list?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":5,"creation_date":1358383937,"post_id":5968535,"comment_id":19984489,"body_markdown":"Yea ... the `FixedSizeList.decorate(...)` is for wrapping lists that are not already fixed sized.   Using it here is redundant.","body":"Yea ... the <code>FixedSizeList.decorate(...)</code> is for wrapping lists that are not already fixed sized.   Using it here is redundant."}],"tags":[],"owner":{"account_id":43546,"reputation":33497,"user_id":127359,"accept_rate":85,"display_name":"Arthur Ronald"},"comment_count":2,"down_vote_count":5,"up_vote_count":29,"is_accepted":true,"score":24,"last_activity_date":1660240543,"creation_date":1305136779,"answer_id":5968535,"question_id":5207162,"body_markdown":"# `FixedSizeList`\r\n\r\n**Yes**,\r\n\r\nThe [*Apache Commons*][1] library provides the [`FixedSizeList`][2] class which does not support the `add`, `remove` and `clear` methods (but the set method is allowed because it does not modify the `List`&#39;s size). Ditto for [`FixedSizeList`][3] in [Eclipse Collections][4]. If you try to call one of these methods, your list remains the same size.\r\n\r\nTo create your fixed size list, just call\r\n\r\n    List&lt;YourType&gt; fixed = FixedSizeList.decorate(Arrays.asList(new YourType[100]));\r\n\r\n-------------------\r\nYou can use [`unmodifiableList`][5] if you want an unmodifiable view of the specified list, or **read-only access to internal lists**.\r\n\r\n    List&lt;YourType&gt; unmodifiable = java.util.Collections.unmodifiableList(internalList);\r\n\r\n\r\n  [1]: https://commons.apache.org/collections/\r\n  [2]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/list/FixedSizeList.html\r\n  [3]: https://www.eclipse.org/collections/javadoc/11.1.0/org/eclipse/collections/api/list/FixedSizeList.html\r\n  [4]: https://www.eclipse.org/collections/\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableList-java.util.List-","title":"Define a fixed-size list in Java","body":"<h1><code>FixedSizeList</code></h1>\n<p><strong>Yes</strong>,</p>\n<p>The <a href=\"https://commons.apache.org/collections/\" rel=\"nofollow noreferrer\"><em>Apache Commons</em></a> library provides the <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/list/FixedSizeList.html\" rel=\"nofollow noreferrer\"><code>FixedSizeList</code></a> class which does not support the <code>add</code>, <code>remove</code> and <code>clear</code> methods (but the set method is allowed because it does not modify the <code>List</code>'s size). Ditto for <a href=\"https://www.eclipse.org/collections/javadoc/11.1.0/org/eclipse/collections/api/list/FixedSizeList.html\" rel=\"nofollow noreferrer\"><code>FixedSizeList</code></a> in <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>. If you try to call one of these methods, your list remains the same size.</p>\n<p>To create your fixed size list, just call</p>\n<pre><code>List&lt;YourType&gt; fixed = FixedSizeList.decorate(Arrays.asList(new YourType[100]));\n</code></pre>\n<hr />\n<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#unmodifiableList-java.util.List-\" rel=\"nofollow noreferrer\"><code>unmodifiableList</code></a> if you want an unmodifiable view of the specified list, or <strong>read-only access to internal lists</strong>.</p>\n<pre><code>List&lt;YourType&gt; unmodifiable = java.util.Collections.unmodifiableList(internalList);\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user15358848"},"score":0,"creation_date":1619252128,"post_id":48235210,"comment_id":118852715,"body_markdown":"1: `PriorityQueue` grows if needed, it is **not** fixed size ([ideone](https://ideone.com/nFOoSh)); 2: not sure if that matters, but `PriorityQueue` does not implement `List`","body":"1: <code>PriorityQueue</code> grows if needed, it is <b>not</b> fixed size (<a href=\"https://ideone.com/nFOoSh\" rel=\"nofollow noreferrer\">ideone</a>); 2: not sure if that matters, but <code>PriorityQueue</code> does not implement <code>List</code>"}],"tags":[],"owner":{"account_id":11140476,"reputation":57,"user_id":8177262,"display_name":"Jacky Wang"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515798182,"creation_date":1515798182,"answer_id":48235210,"question_id":5207162,"body_markdown":"If you want to use [ArrayList][1] or [LinkedList][2], it seems that the answer is no. Although there are some classes in java that you can set them fixed size, like [PriorityQueue][3], ArrayList and LinkedList can&#39;t, because there is no constructor for these two to specify capacity.\r\n\r\nIf you want to stick to ArrayList/LinkedList, one easy solution is to check the size manually each time.\r\n\r\n    public void fixedAdd(List&lt;Integer&gt; list, int val, int size) {\r\n        list.add(val);\r\n        if(list.size() &gt; size) list.remove(0);\r\n    }\r\n\r\nLinkedList is better than ArrayList in this situation. Suppose there are many values to be added but the list size is quite samll, there will be many remove operations. The reason is that the cost of removing from ArrayList is O(N), but only O(1) for LinkedList.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/LinkedList.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html","title":"Define a fixed-size list in Java","body":"<p>If you want to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList</a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/LinkedList.html\" rel=\"nofollow noreferrer\">LinkedList</a>, it seems that the answer is no. Although there are some classes in java that you can set them fixed size, like <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\">PriorityQueue</a>, ArrayList and LinkedList can't, because there is no constructor for these two to specify capacity.</p>\n\n<p>If you want to stick to ArrayList/LinkedList, one easy solution is to check the size manually each time.</p>\n\n<pre><code>public void fixedAdd(List&lt;Integer&gt; list, int val, int size) {\n    list.add(val);\n    if(list.size() &gt; size) list.remove(0);\n}\n</code></pre>\n\n<p>LinkedList is better than ArrayList in this situation. Suppose there are many values to be added but the list size is quite samll, there will be many remove operations. The reason is that the cost of removing from ArrayList is O(N), but only O(1) for LinkedList.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561892436,"creation_date":1561892014,"answer_id":56824261,"question_id":5207162,"body_markdown":"The public `java.util.List` subclasses of the JDK don&#39;t provide a fixed size feature that   doesn&#39;t make part of the [`List` specification][1].    \r\nYou could find it only in `Queue` subclasses (for example `ArrayBlockingQueue`, a bounded blocking queue backed by an array for example) that handle very specific requirements.      \r\n\r\nIn Java, with a `List` type, you could implement it according to two scenarios : \r\n\r\n1) The fixed list size is always both the actual and the maximum size.   \r\n\r\nIt sounds as an array definition. So `Arrays.asList()` that returns a fixed-size list backed by the specified array is what you are looking for. And as with an array you can neither increase nor decrease its size but only changing its content. So adding and removing operation are not supported.   \r\n\r\nFor example : \r\n\r\n    Foo[] foosInput= ...;\r\n    List&lt;Foo&gt; foos = Arrays.asList(foosInput);\r\n    foos.add(new Foo()); // throws an Exception\r\n    foos.remove(new Foo()); // throws an Exception\r\n\r\n\r\nIt works also with a collection as input while first we convert it into an array : \r\n\r\n    Collection&lt;Foo&gt; foosInput= ...;\r\n    List&lt;Foo&gt; foos = Arrays.asList(foosInput.toArray(Foo[]::new)); // Java 11 way\r\n    // Or\r\n    List&lt;Foo&gt; foos = Arrays.asList(foosInput.stream().toArray(Foo[]::new)); // Java 8 way\r\n\r\n2) The list content is not known as soon as its creation. So you mean by fixed size list  its maximum size.    \r\n\r\nYou could use inheritance (`extends ArrayList`) but you should favor composition over that since it allows you to not couple your class with the implementation details of this implementation and provides also flexibility about the implementation of the decorated/composed.    \r\n\r\nWith [Guava Forwarding classes][2] you could do : \r\n\r\n    import com.google.common.collect.ForwardingList;\r\n\r\n    public class FixedSizeList&lt;T&gt; extends ForwardingList&lt;T&gt; {\r\n    \r\n      private final List&lt;T&gt; delegate;\r\n      private final int maxSize;\r\n    \r\n      public FixedSizeList(List&lt;T&gt; delegate, int maxSize) {\r\n        this.delegate = delegate;\r\n        this.maxSize = maxSize;\r\n      }\r\n    \r\n      @Override protected List&lt;T&gt; delegate() {\r\n        return delegate;\r\n      }\r\n    \r\n      @Override public boolean add(T element) {\r\n        assertMaxSizeNotReached(1);\r\n        return super.add(element);\r\n      }\r\n\r\n      @Override public void add(int index, T element) {\r\n        assertMaxSizeNotReached(1);\r\n        super.add(index, element);\r\n      }\r\n    \r\n      @Override public boolean addAll(Collection&lt;? extends T&gt; collection) {\r\n        assertMaxSizeNotReached(collection.size());\r\n        return super.addAll(collection);\r\n      }\r\n    \r\n      @Override public boolean addAll(int index, Collection&lt;? extends T&gt; elements) {\r\n        assertMaxSizeNotReached(elements.size());\r\n        return super.addAll(index, elements);\r\n      }    \r\n    \r\n      private void assertMaxSizeNotReached(int size) {\r\n        if (delegate.size() + size &gt;= maxSize) {\r\n          throw new RuntimeException(&quot;size max reached&quot;);\r\n        }\r\n      }\r\n\r\n    }\r\n\r\nAnd use it : \r\n\r\n    List&lt;String&gt; fixedSizeList = new FixedSizeList&lt;&gt;(new ArrayList&lt;&gt;(), 3); \r\n    fixedSizeList.addAll(Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;));\r\n    fixedSizeList.add(&quot;4&quot;);  // throws an Exception\r\n\r\nNote that with composition, you could use it with any `List` implementation : \r\n\r\n    List&lt;String&gt; fixedSizeList = new FixedSizeList&lt;&gt;(new LinkedList&lt;&gt;(), 3); \r\n    //...\r\n \r\nWhich is not possible with inheritance.  \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html\r\n  [2]: https://github.com/google/guava/wiki/CollectionHelpersExplained","title":"Define a fixed-size list in Java","body":"<p>The public <code>java.util.List</code> subclasses of the JDK don't provide a fixed size feature that   doesn't make part of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html\" rel=\"nofollow noreferrer\"><code>List</code> specification</a>.<br>\nYou could find it only in <code>Queue</code> subclasses (for example <code>ArrayBlockingQueue</code>, a bounded blocking queue backed by an array for example) that handle very specific requirements.      </p>\n\n<p>In Java, with a <code>List</code> type, you could implement it according to two scenarios : </p>\n\n<p>1) The fixed list size is always both the actual and the maximum size.   </p>\n\n<p>It sounds as an array definition. So <code>Arrays.asList()</code> that returns a fixed-size list backed by the specified array is what you are looking for. And as with an array you can neither increase nor decrease its size but only changing its content. So adding and removing operation are not supported.   </p>\n\n<p>For example : </p>\n\n<pre><code>Foo[] foosInput= ...;\nList&lt;Foo&gt; foos = Arrays.asList(foosInput);\nfoos.add(new Foo()); // throws an Exception\nfoos.remove(new Foo()); // throws an Exception\n</code></pre>\n\n<p>It works also with a collection as input while first we convert it into an array : </p>\n\n<pre><code>Collection&lt;Foo&gt; foosInput= ...;\nList&lt;Foo&gt; foos = Arrays.asList(foosInput.toArray(Foo[]::new)); // Java 11 way\n// Or\nList&lt;Foo&gt; foos = Arrays.asList(foosInput.stream().toArray(Foo[]::new)); // Java 8 way\n</code></pre>\n\n<p>2) The list content is not known as soon as its creation. So you mean by fixed size list  its maximum size.    </p>\n\n<p>You could use inheritance (<code>extends ArrayList</code>) but you should favor composition over that since it allows you to not couple your class with the implementation details of this implementation and provides also flexibility about the implementation of the decorated/composed.    </p>\n\n<p>With <a href=\"https://github.com/google/guava/wiki/CollectionHelpersExplained\" rel=\"nofollow noreferrer\">Guava Forwarding classes</a> you could do : </p>\n\n<pre><code>import com.google.common.collect.ForwardingList;\n\npublic class FixedSizeList&lt;T&gt; extends ForwardingList&lt;T&gt; {\n\n  private final List&lt;T&gt; delegate;\n  private final int maxSize;\n\n  public FixedSizeList(List&lt;T&gt; delegate, int maxSize) {\n    this.delegate = delegate;\n    this.maxSize = maxSize;\n  }\n\n  @Override protected List&lt;T&gt; delegate() {\n    return delegate;\n  }\n\n  @Override public boolean add(T element) {\n    assertMaxSizeNotReached(1);\n    return super.add(element);\n  }\n\n  @Override public void add(int index, T element) {\n    assertMaxSizeNotReached(1);\n    super.add(index, element);\n  }\n\n  @Override public boolean addAll(Collection&lt;? extends T&gt; collection) {\n    assertMaxSizeNotReached(collection.size());\n    return super.addAll(collection);\n  }\n\n  @Override public boolean addAll(int index, Collection&lt;? extends T&gt; elements) {\n    assertMaxSizeNotReached(elements.size());\n    return super.addAll(index, elements);\n  }    \n\n  private void assertMaxSizeNotReached(int size) {\n    if (delegate.size() + size &gt;= maxSize) {\n      throw new RuntimeException(\"size max reached\");\n    }\n  }\n\n}\n</code></pre>\n\n<p>And use it : </p>\n\n<pre><code>List&lt;String&gt; fixedSizeList = new FixedSizeList&lt;&gt;(new ArrayList&lt;&gt;(), 3); \nfixedSizeList.addAll(Arrays.asList(\"1\", \"2\", \"3\"));\nfixedSizeList.add(\"4\");  // throws an Exception\n</code></pre>\n\n<p>Note that with composition, you could use it with any <code>List</code> implementation : </p>\n\n<pre><code>List&lt;String&gt; fixedSizeList = new FixedSizeList&lt;&gt;(new LinkedList&lt;&gt;(), 3); \n//...\n</code></pre>\n\n<p>Which is not possible with inheritance.  </p>\n"},{"tags":[],"owner":{"display_name":"user4910279"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1573398762,"creation_date":1567406367,"answer_id":57752411,"question_id":5207162,"body_markdown":"You can define a generic function like this:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T&gt; List&lt;T&gt; newFixedSizeList(int size) {\r\n        return (List&lt;T&gt;)Arrays.asList(new Object[size]);\r\n    }\r\n\r\nAnd\r\n\r\n    List&lt;String&gt; s = newFixedSizeList(3);  // All elements are initialized to null\r\n    s.set(0, &quot;zero&quot;);\r\n    s.add(&quot;three&quot;);  // throws java.lang.UnsupportedOperationException\r\n","title":"Define a fixed-size list in Java","body":"<p>You can define a generic function like this:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\npublic static &lt;T&gt; List&lt;T&gt; newFixedSizeList(int size) {\n    return (List&lt;T&gt;)Arrays.asList(new Object[size]);\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>List&lt;String&gt; s = newFixedSizeList(3);  // All elements are initialized to null\ns.set(0, \"zero\");\ns.add(\"three\");  // throws java.lang.UnsupportedOperationException\n</code></pre>\n"},{"tags":[],"owner":{"account_id":463512,"reputation":748,"user_id":866473,"accept_rate":60,"display_name":"Bas Kuis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575512484,"creation_date":1575512484,"answer_id":59187280,"question_id":5207162,"body_markdown":"This should work pretty nicely. It will never grow beyond the initial size. The toList method will give you the entries in the correct chronological order. This was done in groovy - but converting it to java proper should be pretty easy.\r\n\r\n    static class FixedSizeCircularReference&lt;T&gt; {\r\n        T[] entries\r\n        FixedSizeCircularReference(int size) {\r\n            this.entries = new Object[size] as T[]\r\n            this.size = size\r\n        }\r\n        int cur = 0\r\n        int size\r\n        void add(T entry) {\r\n            entries[cur++] = entry\r\n            if (cur &gt;= size) {\r\n                cur = 0\r\n            }\r\n        }\r\n        List&lt;T&gt; asList() {\r\n            List&lt;T&gt; list = new ArrayList&lt;&gt;()\r\n            int oldest = (cur == size - 1) ? 0 : cur\r\n            for (int i = 0; i &lt; this.entries.length; i++) {\r\n                def e = this.entries[oldest + i &lt; size ? oldest + i : oldest + i - size]\r\n                if (e) list.add(e)\r\n            }\r\n            return list\r\n        }\r\n    }\r\n\r\n    FixedSizeCircularReference&lt;String&gt; latestEntries = new FixedSizeCircularReference(100)\r\n    latestEntries.add(&#39;message 1&#39;) \r\n    // .....\r\n    latestEntries.add(&#39;message 1000&#39;) \r\n    latestEntries.asList() //Returns list of &#39;100&#39; messages\r\n\r\n","title":"Define a fixed-size list in Java","body":"<p>This should work pretty nicely. It will never grow beyond the initial size. The toList method will give you the entries in the correct chronological order. This was done in groovy - but converting it to java proper should be pretty easy.</p>\n\n<pre><code>static class FixedSizeCircularReference&lt;T&gt; {\n    T[] entries\n    FixedSizeCircularReference(int size) {\n        this.entries = new Object[size] as T[]\n        this.size = size\n    }\n    int cur = 0\n    int size\n    void add(T entry) {\n        entries[cur++] = entry\n        if (cur &gt;= size) {\n            cur = 0\n        }\n    }\n    List&lt;T&gt; asList() {\n        List&lt;T&gt; list = new ArrayList&lt;&gt;()\n        int oldest = (cur == size - 1) ? 0 : cur\n        for (int i = 0; i &lt; this.entries.length; i++) {\n            def e = this.entries[oldest + i &lt; size ? oldest + i : oldest + i - size]\n            if (e) list.add(e)\n        }\n        return list\n    }\n}\n\nFixedSizeCircularReference&lt;String&gt; latestEntries = new FixedSizeCircularReference(100)\nlatestEntries.add('message 1') \n// .....\nlatestEntries.add('message 1000') \nlatestEntries.asList() //Returns list of '100' messages\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14086413,"reputation":349,"user_id":10176064,"display_name":"Changer"},"score":1,"creation_date":1596121559,"post_id":62064170,"comment_id":111715967,"body_markdown":"This one sets the capacity, not the size.","body":"This one sets the capacity, not the size."},{"owner":{"account_id":15305578,"reputation":2692,"user_id":11042460,"display_name":"Java wanna bee"},"score":0,"creation_date":1596143032,"post_id":62064170,"comment_id":111725277,"body_markdown":"It&#39;s like one liter bottle. You determine how much water is inside, but the maximum capacity remains 1 liter. The size can be 0 to 100 is just up to you.","body":"It&#39;s like one liter bottle. You determine how much water is inside, but the maximum capacity remains 1 liter. The size can be 0 to 100 is just up to you."},{"owner":{"display_name":"user15358848"},"score":0,"creation_date":1619251540,"post_id":62064170,"comment_id":118852623,"body_markdown":"wrong, if more space is needed, the *bottle* will be exchanged with a larger one! Or why is the constructor parameter called **initial**Capacity? Documentation *&quot;...As elements are added to an ArrayList, its capacity grows automatically....&quot;* (check the [source code](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java#L467)) ((or just test it [ideone](https://ideone.com/aP6YAD)...))","body":"wrong, if more space is needed, the <i>bottle</i> will be exchanged with a larger one! Or why is the constructor parameter called <b>initial</b>Capacity? Documentation <i>&quot;...As elements are added to an ArrayList, its capacity grows automatically....&quot;</i> (check the <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java#L467\" rel=\"nofollow noreferrer\">source code</a>) ((or just test it <a href=\"https://ideone.com/aP6YAD\" rel=\"nofollow noreferrer\">ideone</a>...))"}],"tags":[],"owner":{"account_id":15305578,"reputation":2692,"user_id":11042460,"display_name":"Java wanna bee"},"comment_count":3,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1590667161,"creation_date":1590667161,"answer_id":62064170,"question_id":5207162,"body_markdown":"Yes is posible:\r\n\r\n    List&lt;Integer&gt; myArrayList = new ArrayList&lt;&gt;(100);\r\n\r\nnow, the initial capacity of myArrayList will be 100","title":"Define a fixed-size list in Java","body":"<p>Yes is posible:</p>\n\n<pre><code>List&lt;Integer&gt; myArrayList = new ArrayList&lt;&gt;(100);\n</code></pre>\n\n<p>now, the initial capacity of myArrayList will be 100</p>\n"},{"tags":[],"owner":{"account_id":1905509,"reputation":1,"user_id":1720474,"display_name":"javase"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612427105,"creation_date":1612259155,"answer_id":66007175,"question_id":5207162,"body_markdown":"You need either of the following depending on the type of the container of `T` elements you pass to the builder (`Collection&lt;T&gt;` or `T[]`):\r\n\r\n - In case of an existing `Collection&lt;T&gt; YOUR_COLLECTION`:\r\n\r\n&gt; ```java\r\n&gt; Collections.unmodifiableList(new ArrayList&lt;&gt;(YOUR_COLLECTION));\r\n&gt; ```\r\n\r\n - In case of an existing `T[] YOUR_ARRAY`:\r\n\r\n&gt; ```java\r\n&gt; Arrays.asList(YOUR_ARRAY);\r\n&gt; ```\r\n***Simple as that***","title":"Define a fixed-size list in Java","body":"<p>You need either of the following depending on the type of the container of <code>T</code> elements you pass to the builder (<code>Collection&lt;T&gt;</code> or <code>T[]</code>):</p>\n<ul>\n<li>In case of an existing <code>Collection&lt;T&gt; YOUR_COLLECTION</code>:</li>\n</ul>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>Collections.unmodifiableList(new ArrayList&lt;&gt;(YOUR_COLLECTION));\n</code></pre>\n</blockquote>\n<ul>\n<li>In case of an existing <code>T[] YOUR_ARRAY</code>:</li>\n</ul>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.asList(YOUR_ARRAY);\n</code></pre>\n</blockquote>\n<p><em><strong>Simple as that</strong></em></p>\n"},{"comments":[{"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"score":0,"creation_date":1651843098,"post_id":72142038,"comment_id":127466743,"body_markdown":"No, the API of [`Collectors.toList()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toList--) states that &quot;There are no guarantees on the type, mutability, [...] of the List returned&quot;, so the returned list may support adding more elements to it.","body":"No, the API of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toList--\" rel=\"nofollow noreferrer\"><code>Collectors.toList()</code></a> states that &quot;There are no guarantees on the type, mutability, [...] of the List returned&quot;, so the returned list may support adding more elements to it."}],"tags":[],"owner":{"account_id":6651349,"reputation":4535,"user_id":7756492,"display_name":"ucMedia"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651842719,"creation_date":1651842719,"answer_id":72142038,"question_id":5207162,"body_markdown":"To get a fixed-size list, you can simply use the Stream API. This will result in a fixed-size list :\r\n\r\n        List&lt;Integer&gt; list = Arrays.stream(new int[100])\r\n                                .boxed()\r\n                                .collect(Collectors.toList());\r\n\r\n\r\nOr the old-fashioned way, This will result in a fixed-size list that is backed by the specified array:\r\n\r\n        List&lt;Integer&gt; list = Arrays.asList(new Integer[100]);","title":"Define a fixed-size list in Java","body":"<p>To get a fixed-size list, you can simply use the Stream API. This will result in a fixed-size list :</p>\n<pre><code>    List&lt;Integer&gt; list = Arrays.stream(new int[100])\n                            .boxed()\n                            .collect(Collectors.toList());\n</code></pre>\n<p>Or the old-fashioned way, This will result in a fixed-size list that is backed by the specified array:</p>\n<pre><code>    List&lt;Integer&gt; list = Arrays.asList(new Integer[100]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":164059,"reputation":1169,"user_id":386587,"display_name":"Erk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700402059,"creation_date":1700402059,"answer_id":77511019,"question_id":5207162,"body_markdown":"Another variant, especially if you only want a fixed size internal data source (e.g. in a wrapper class) that is generic, is to use an `ArrayList` initialized to `null`:\r\n\r\n    List&lt;MyGenericType&lt;E&gt;&gt; list = new ArrayList&lt;&gt;(Collections.nCopies(size, null));\r\n\r\nChecking if a value is set or not consists of checking for null:\r\n\r\n    if (list.get(index) == null)\r\n        // Not set\r\n\r\nSetting a value must be done using `set(index, ...)`. Removing would mean setting back to `null` with `set(index, null)`. For stream handling, you might want to add an extra `filter(Objects::nonNull)` to only get &quot;set&quot; values.\r\n\r\nYou can do add and remove and break the fixed size, so this list cannot be exposed to the world outside the wrapper class unless it&#39;s made unmodifiable.\r\n\r\nThis is an easier way to create an internal &quot;array&quot; with some nice handling of values and without the extra memory burden of an `Integer`-keyed `Map`. Though, `Arrays.asList(...)` may still be just as fine for your purposes.","title":"Define a fixed-size list in Java","body":"<p>Another variant, especially if you only want a fixed size internal data source (e.g. in a wrapper class) that is generic, is to use an <code>ArrayList</code> initialized to <code>null</code>:</p>\n<pre><code>List&lt;MyGenericType&lt;E&gt;&gt; list = new ArrayList&lt;&gt;(Collections.nCopies(size, null));\n</code></pre>\n<p>Checking if a value is set or not consists of checking for null:</p>\n<pre><code>if (list.get(index) == null)\n    // Not set\n</code></pre>\n<p>Setting a value must be done using <code>set(index, ...)</code>. Removing would mean setting back to <code>null</code> with <code>set(index, null)</code>. For stream handling, you might want to add an extra <code>filter(Objects::nonNull)</code> to only get &quot;set&quot; values.</p>\n<p>You can do add and remove and break the fixed size, so this list cannot be exposed to the world outside the wrapper class unless it's made unmodifiable.</p>\n<p>This is an easier way to create an internal &quot;array&quot; with some nice handling of values and without the extra memory burden of an <code>Integer</code>-keyed <code>Map</code>. Though, <code>Arrays.asList(...)</code> may still be just as fine for your purposes.</p>\n"}],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196371,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":5968535,"answer_count":15,"score":73,"last_activity_date":1700402059,"creation_date":1299363444,"question_id":5207162,"body_markdown":"Is it possible to define a list with a fixed size that&#39;s 100? If not why isn&#39;t this available in Java?","title":"Define a fixed-size list in Java","body":"<p>Is it possible to define a list with a fixed size that's 100? If not why isn't this available in Java?</p>\n"},{"tags":["java","xml","validation","xsd"],"answers":[{"comments":[{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":1,"creation_date":1700410896,"post_id":77510983,"comment_id":136648305,"body_markdown":"There is no reason in principle why an HTTP URL should not work. This answer has been accepted, so presumably the change worked, but I suspect that&#39;s because the HTTP URL was wrong, not because HTTP URLs aren&#39;t accepted by this schema processor.","body":"There is no reason in principle why an HTTP URL should not work. This answer has been accepted, so presumably the change worked, but I suspect that&#39;s because the HTTP URL was wrong, not because HTTP URLs aren&#39;t accepted by this schema processor."}],"tags":[],"owner":{"account_id":18586978,"reputation":2220,"user_id":15000097,"display_name":"Georgii Lvov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700401504,"creation_date":1700401504,"answer_id":77510983,"question_id":77510836,"body_markdown":"The issue you&#39;re facing is related to the way you are specifying the schema locations in the xsd_1.xsd file:\r\n\r\n    &lt;xsd:include schemaLocation=&quot;http://.../xmlschema/xsd_2.xsd&quot;/&gt;\r\n\r\nThe schemaLocation attribute is expecting a relative or absolute path, but you&#39;ve provided an HTTP URL. This is likely the reason why xsd_2.xsd is not loading properly during validation.\r\n\r\nTo fix this issue, you should use a relative or absolute path instead of an HTTP URL. If both XSD files are in the same directory, you can use a relative path like this:\r\n\r\n    &lt;xsd:include schemaLocation=&quot;xsd_2.xsd&quot;/&gt;\r\n\r\nMake sure that the paths are correct and that the XSD files are accessible from the location where you are running the validation.\r\n\r\nHere&#39;s how your corrected xsd_1.xsd might look:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; \r\n                xmlns=&quot;...&quot; targetNamespace=&quot;...&quot;\r\n                elementFormDefault=&quot;qualified&quot; attributeFormDefault=&quot;unqualified&quot;&gt;\r\n    \r\n        &lt;xsd:include schemaLocation=&quot;xsd_2.xsd&quot;/&gt;\r\n    \r\n        ... \r\n    &lt;/xsd:schema&gt;\r\n\r\n\r\n","title":"Validate XML against two XSD: Cant resolve the name &#39;Elem&#39; to a(n) &#39;type definition&#39; component","body":"<p>The issue you're facing is related to the way you are specifying the schema locations in the xsd_1.xsd file:</p>\n<pre><code>&lt;xsd:include schemaLocation=&quot;http://.../xmlschema/xsd_2.xsd&quot;/&gt;\n</code></pre>\n<p>The schemaLocation attribute is expecting a relative or absolute path, but you've provided an HTTP URL. This is likely the reason why xsd_2.xsd is not loading properly during validation.</p>\n<p>To fix this issue, you should use a relative or absolute path instead of an HTTP URL. If both XSD files are in the same directory, you can use a relative path like this:</p>\n<pre><code>&lt;xsd:include schemaLocation=&quot;xsd_2.xsd&quot;/&gt;\n</code></pre>\n<p>Make sure that the paths are correct and that the XSD files are accessible from the location where you are running the validation.</p>\n<p>Here's how your corrected xsd_1.xsd might look:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; \n            xmlns=&quot;...&quot; targetNamespace=&quot;...&quot;\n            elementFormDefault=&quot;qualified&quot; attributeFormDefault=&quot;unqualified&quot;&gt;\n\n    &lt;xsd:include schemaLocation=&quot;xsd_2.xsd&quot;/&gt;\n\n    ... \n&lt;/xsd:schema&gt;\n</code></pre>\n"}],"owner":{"account_id":1152835,"reputation":103,"user_id":16300149,"display_name":"User123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77510983,"answer_count":1,"score":0,"last_activity_date":1700401504,"creation_date":1700398704,"question_id":77510836,"body_markdown":"I have an XML file and two XSD files for it: xsd_1.xsd and xsd_2.xsd. xsd_1.xsd refers to the xsd_2.xsd but it seems that does not load when validation is performed.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; \r\n            xmlns=&quot;...&quot; targetNamespace=&quot;...&quot;\r\n            elementFormDefault=&quot;qualified&quot; attributeFormDefault=&quot;unqualified&quot;&gt;\r\n\r\n\t&lt;xsd:include schemaLocation = &quot;http://.../xmlschema/xsd_2.xsd&quot;/&gt;\r\n\r\n\t... \r\n&lt;/xsd:schema&gt;\r\n\r\n```\r\nXML file has some simple structure. I use the following code to validate this xml:\r\n\r\n```\r\nSource[] schemes = new StreamSource[] {\r\n\t\tnew StreamSource(&quot;C:/java-projects/xsl/src/test/resources/ex/xsd_1.xsd&quot;),\r\n\t\tnew StreamSource(&quot;C:/java-projects/xsl/src/test/resources/ex/xsd_2.xsd&quot;)\r\n};\r\n\r\nSource xml = new StreamSource(new File(XML_PATH));\r\n\r\nSchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\nSchema schema = sf.newSchema(schemes);\r\nValidator validator = schema.newValidator();\r\nvalidator.validate(xml);\r\n\r\n```\r\nI can&#39;t validate xml using this code, the following exception is thrown:\r\n\r\n```\r\norg.xml.sax.SAXParseException; systemId: file:///C:/java-projects/xsl/src/test/resources/ex/xsd_1.xsd; lineNumber: 16; columnNumber: 49; src-resolve: Cannot resolve the name &#39;Elem&#39; to a(n) &#39;type definition&#39; component.\r\n\r\n```\r\nThe `Elem` tag is defined in the xsd_2 file.xsd and it looks like this file is not loading.\r\n\r\nBut the following trick works. If I create a wrapper with these two xsd files, the validation will be successful:\r\n\r\n```\r\nURL firstXsd = XMLValidator.class.getResource(FIRST_XSD_PATH);\r\nURL secondXsd = XMLValidator.class.getResource(SECOND_XSD_PATH);\r\n\r\nSchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\nval wrapper =\r\n\t\t&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;yes\\&quot;?&gt;\\n &quot;\r\n\t\t+ &quot;&lt;xs:schema xmlns:xs=\\&quot;http://www.w3.org/2001/XMLSchema\\&quot; elementFormDefault=\\&quot;qualified\\&quot; &quot;\r\n\t\t+ &quot;targetNamespace=\\&quot;...\\&quot;&gt;\\n &quot;\r\n\t\t+ &quot;&lt;xs:include schemaLocation=\\&quot;&quot; + firstXsd.getPath() + &quot;\\&quot;/&gt;\\n &quot;\r\n\t\t+ &quot;&lt;xs:include schemaLocation=\\&quot;&quot; + secondXsd.getPath() + &quot;\\&quot;/&gt;\\n &quot;\r\n\t\t+&quot;&lt;/xs:schema&gt;&quot;;\r\n\r\nSchema schema = schemaFactory.newSchema(new StreamSource(new StringReader(wrapper)));\r\nValidator validator = schema.newValidator();\r\nvalidator.validate(new StreamSource(new File(XML_PATH)));\r\n\r\n```\r\nThis solution is not suitable for a number of reasons. Why I can&#39;t validate xml using the first approach?\r\n\r\nPerhaps something wrong with this instruction?\r\n\r\n```\r\n&lt;xsd:include schemaLocation = &quot;http://.../xmlschema/xsd_2.xsd&quot;/&gt;\r\n```\r\n\r\nThis resource does not exist on the network, all xsd files are stored locally. But I can&#39;t make changes to them.","title":"Validate XML against two XSD: Cant resolve the name &#39;Elem&#39; to a(n) &#39;type definition&#39; component","body":"<p>I have an XML file and two XSD files for it: xsd_1.xsd and xsd_2.xsd. xsd_1.xsd refers to the xsd_2.xsd but it seems that does not load when validation is performed.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; \n            xmlns=&quot;...&quot; targetNamespace=&quot;...&quot;\n            elementFormDefault=&quot;qualified&quot; attributeFormDefault=&quot;unqualified&quot;&gt;\n\n    &lt;xsd:include schemaLocation = &quot;http://.../xmlschema/xsd_2.xsd&quot;/&gt;\n\n    ... \n&lt;/xsd:schema&gt;\n\n</code></pre>\n<p>XML file has some simple structure. I use the following code to validate this xml:</p>\n<pre><code>Source[] schemes = new StreamSource[] {\n        new StreamSource(&quot;C:/java-projects/xsl/src/test/resources/ex/xsd_1.xsd&quot;),\n        new StreamSource(&quot;C:/java-projects/xsl/src/test/resources/ex/xsd_2.xsd&quot;)\n};\n\nSource xml = new StreamSource(new File(XML_PATH));\n\nSchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\nSchema schema = sf.newSchema(schemes);\nValidator validator = schema.newValidator();\nvalidator.validate(xml);\n\n</code></pre>\n<p>I can't validate xml using this code, the following exception is thrown:</p>\n<pre><code>org.xml.sax.SAXParseException; systemId: file:///C:/java-projects/xsl/src/test/resources/ex/xsd_1.xsd; lineNumber: 16; columnNumber: 49; src-resolve: Cannot resolve the name 'Elem' to a(n) 'type definition' component.\n\n</code></pre>\n<p>The <code>Elem</code> tag is defined in the xsd_2 file.xsd and it looks like this file is not loading.</p>\n<p>But the following trick works. If I create a wrapper with these two xsd files, the validation will be successful:</p>\n<pre><code>URL firstXsd = XMLValidator.class.getResource(FIRST_XSD_PATH);\nURL secondXsd = XMLValidator.class.getResource(SECOND_XSD_PATH);\n\nSchemaFactory schemaFactory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\nval wrapper =\n        &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;yes\\&quot;?&gt;\\n &quot;\n        + &quot;&lt;xs:schema xmlns:xs=\\&quot;http://www.w3.org/2001/XMLSchema\\&quot; elementFormDefault=\\&quot;qualified\\&quot; &quot;\n        + &quot;targetNamespace=\\&quot;...\\&quot;&gt;\\n &quot;\n        + &quot;&lt;xs:include schemaLocation=\\&quot;&quot; + firstXsd.getPath() + &quot;\\&quot;/&gt;\\n &quot;\n        + &quot;&lt;xs:include schemaLocation=\\&quot;&quot; + secondXsd.getPath() + &quot;\\&quot;/&gt;\\n &quot;\n        +&quot;&lt;/xs:schema&gt;&quot;;\n\nSchema schema = schemaFactory.newSchema(new StreamSource(new StringReader(wrapper)));\nValidator validator = schema.newValidator();\nvalidator.validate(new StreamSource(new File(XML_PATH)));\n\n</code></pre>\n<p>This solution is not suitable for a number of reasons. Why I can't validate xml using the first approach?</p>\n<p>Perhaps something wrong with this instruction?</p>\n<pre><code>&lt;xsd:include schemaLocation = &quot;http://.../xmlschema/xsd_2.xsd&quot;/&gt;\n</code></pre>\n<p>This resource does not exist on the network, all xsd files are stored locally. But I can't make changes to them.</p>\n"},{"tags":["java","spring-boot","intellij-idea","spring-boot-devtools"],"comments":[{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":0,"creation_date":1593090190,"post_id":62575769,"comment_id":110661948,"body_markdown":"I faced the same problem, after restart the IDE and cleaning maven it was automatically fixed","body":"I faced the same problem, after restart the IDE and cleaning maven it was automatically fixed"},{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1593090477,"post_id":62575769,"comment_id":110662128,"body_markdown":"In IntelliJ idea can you please try `Invalidate Cache and restart` from file menu.","body":"In IntelliJ idea can you please try <code>Invalidate Cache and restart</code> from file menu."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1593094780,"post_id":62575769,"comment_id":110664801,"body_markdown":"Do you use Java 9 modules? It can be related to this: e.g. if there is a valid Java 9 module IDE places their classes into a module path instead of a classpath. If you can reproduce it in a sample project please feel free to file an issue at https://youtrack.jetbrains.com/issues/IDEA with the reproducer.","body":"Do you use Java 9 modules? It can be related to this: e.g. if there is a valid Java 9 module IDE places their classes into a module path instead of a classpath. If you can reproduce it in a sample project please feel free to file an issue at <a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a> with the reproducer."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1593100058,"post_id":62575769,"comment_id":110667915,"body_markdown":"@Andrey  No I don&#39;t use any modules (no module-info.java) in our project. That&#39;s the weird thing about that.","body":"@Andrey  No I don&#39;t use any modules (no module-info.java) in our project. That&#39;s the weird thing about that."},{"owner":{"account_id":15662438,"reputation":958,"user_id":11301085,"display_name":"BeardOverflow"},"score":0,"creation_date":1598028052,"post_id":62575769,"comment_id":112334372,"body_markdown":"I have the same problem using Spring Quartz and Blaze Persistence. Restart class loader might fail with some libraries: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-devtools-restart-disable","body":"I have the same problem using Spring Quartz and Blaze Persistence. Restart class loader might fail with some libraries: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#using-boot-devtools-restart-disable\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10014501,"reputation":17,"user_id":7406305,"display_name":"vijay"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1603721283,"creation_date":1603719979,"answer_id":64538386,"question_id":62575769,"body_markdown":"I removed the dependency below and it worked.\r\n    \r\n&lt;dependency&gt;\r\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n     &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n     &lt;scope&gt;runtime&lt;/scope&gt;\r\n     &lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t","title":"java.lang.ClassCastException: class ... is in unnamed module of loader &#39;app&#39; - spring-boot-dev-tools","body":"<p>I removed the dependency below and it worked.</p>\n\n     org.springframework.boot\n     spring-boot-devtools\n     runtime\n     true\n\n            \n            \n            \n            \n"},{"tags":[],"owner":{"account_id":10814564,"reputation":665,"user_id":7954042,"display_name":"Rama Adaikkalam"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1617287553,"creation_date":1617182808,"answer_id":66885000,"question_id":62575769,"body_markdown":"Disable the spring dev tools restart\r\n\r\nYou can disable the restart feature using the `spring.devtools.restart.enabled` property set to `false`. In most cases you can set this in your *application.properties* (this will still initialize the restart classloader but it won’t watch for file changes).\r\n\r\nIf you need to completely disable restart support, for example, because it doesn’t work with a specific library, you need to set a *System property* before calling `SpringApplication.run(…​)`.\r\n\r\nFor example:\r\n\r\n\r\n     public static void main(final String[] args) {\r\n        System.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;false&quot;);\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n\r\n\r\nReference [spring docs][1]\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-restart-disable","title":"java.lang.ClassCastException: class ... is in unnamed module of loader &#39;app&#39; - spring-boot-dev-tools","body":"<p>Disable the spring dev tools restart</p>\n<p>You can disable the restart feature using the <code>spring.devtools.restart.enabled</code> property set to <code>false</code>. In most cases you can set this in your <em>application.properties</em> (this will still initialize the restart classloader but it won’t watch for file changes).</p>\n<p>If you need to completely disable restart support, for example, because it doesn’t work with a specific library, you need to set a <em>System property</em> before calling <code>SpringApplication.run(…​)</code>.</p>\n<p>For example:</p>\n<pre><code> public static void main(final String[] args) {\n    System.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;false&quot;);\n    SpringApplication.run(Application.class, args);\n}\n</code></pre>\n<p>Reference <a href=\"https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-restart-disable\" rel=\"nofollow noreferrer\">spring docs</a></p>\n"},{"tags":[],"owner":{"account_id":16765801,"reputation":1,"user_id":12119499,"display_name":"SREELEKSHMI G"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683768297,"creation_date":1683768297,"answer_id":76223544,"question_id":62575769,"body_markdown":"I had the same issue and after invalidating the cache and restart, it worked for me.","title":"java.lang.ClassCastException: class ... is in unnamed module of loader &#39;app&#39; - spring-boot-dev-tools","body":"<p>I had the same issue and after invalidating the cache and restart, it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":19439755,"reputation":394,"user_id":14218416,"display_name":"OnlyWick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700399593,"creation_date":1700399593,"answer_id":77510881,"question_id":62575769,"body_markdown":"If you are using MyBatis like me, you may need to check if the resultMap or resultType in xxx-mapper.xml is compatible with your target type.\r\n\r\nThis solution works for me. :-)","title":"java.lang.ClassCastException: class ... is in unnamed module of loader &#39;app&#39; - spring-boot-dev-tools","body":"<p>If you are using MyBatis like me, you may need to check if the resultMap or resultType in xxx-mapper.xml is compatible with your target type.</p>\n<p>This solution works for me. :-)</p>\n"}],"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29863,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1700399593,"creation_date":1593089406,"question_id":62575769,"body_markdown":"We have a larger Spring boot application which causes the following exeception:\r\n\r\n\t\tjava.lang.ClassCastException: class jpa.XVersion cannot be cast to class jpa.XVersion (jpa.XVersion is in unnamed module of loader &#39;app&#39;; jpa.XVersion is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @671ef14f)\r\n\t\tat y.package.abc(XService.java:70)\r\n\t\tat org.springframework.scheduling.quartz.QuartzJobBean.execute(QuartzJobBean.java:75)\r\n\t\tat org.quartz.core.JobRunShell.run(JobRunShell.java:202)\r\n\t\tat org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)\r\n\r\nwhile starting from within IDEA IntelliJ in relationship with JPA classes.\r\n\r\nThe application works fine while starting from plain command line.\r\n\r\nAfter we have removed the dependency \r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n      &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe execution from within the IDE works fine without any issues.\r\n\r\nWe are using:\r\n* Idea IntelliJ 2020.1.2\r\n* Spring Boot Version 2.3.1, \r\n* JDK 11.0.7 (Adopt Open JDK),\r\n* Apache Maven 3.6.3\r\n\r\n\r\nDoes someone has already observed that kind of issue? \r\nDoes exist a different solution then removing the dependency?\r\n\r\n","title":"java.lang.ClassCastException: class ... is in unnamed module of loader &#39;app&#39; - spring-boot-dev-tools","body":"<p>We have a larger Spring boot application which causes the following exeception:</p>\n<pre><code>    java.lang.ClassCastException: class jpa.XVersion cannot be cast to class jpa.XVersion (jpa.XVersion is in unnamed module of loader 'app'; jpa.XVersion is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @671ef14f)\n    at y.package.abc(XService.java:70)\n    at org.springframework.scheduling.quartz.QuartzJobBean.execute(QuartzJobBean.java:75)\n    at org.quartz.core.JobRunShell.run(JobRunShell.java:202)\n    at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)\n</code></pre>\n<p>while starting from within IDEA IntelliJ in relationship with JPA classes.</p>\n<p>The application works fine while starting from plain command line.</p>\n<p>After we have removed the dependency</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n  &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The execution from within the IDE works fine without any issues.</p>\n<p>We are using:</p>\n<ul>\n<li>Idea IntelliJ 2020.1.2</li>\n<li>Spring Boot Version 2.3.1,</li>\n<li>JDK 11.0.7 (Adopt Open JDK),</li>\n<li>Apache Maven 3.6.3</li>\n</ul>\n<p>Does someone has already observed that kind of issue?\nDoes exist a different solution then removing the dependency?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":19766574,"reputation":265,"user_id":14474468,"display_name":"Amine Safi"},"score":2,"creation_date":1700396999,"post_id":77509130,"comment_id":136646994,"body_markdown":"You need to add setters as well, otherwise the framework won&#39;t be able to inject the values in the properties.","body":"You need to add setters as well, otherwise the framework won&#39;t be able to inject the values in the properties."},{"owner":{"account_id":26088922,"reputation":9,"user_id":19786091,"display_name":"TheOneTrueFives"},"score":0,"creation_date":1700407862,"post_id":77509130,"comment_id":136647996,"body_markdown":"@AmineSafi I am insanely stupid, thank you so much.  I don&#39;t know why I didn&#39;t realize that after this long.","body":"@AmineSafi I am insanely stupid, thank you so much.  I don&#39;t know why I didn&#39;t realize that after this long."}],"owner":{"account_id":26088922,"reputation":9,"user_id":19786091,"display_name":"TheOneTrueFives"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700397018,"creation_date":1700352010,"question_id":77509130,"body_markdown":"When attempting to create a @ConfigurationProperty to store a url for my site, it correctly initializes but does not actually populate any of the values.\r\n\r\nMy configuration class:\r\n\r\n```\r\npackage suggestunes;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.context.annotation.PropertySource;\r\n\r\n@Component\r\n@ConfigurationProperties(&quot;&quot;)\r\npublic class MainConfig {\r\n    private String version;\r\n    private String url;\r\n\r\n    public String GetVersion() {\r\n        return version;\r\n    }\r\n\r\n    public String GetUrl() {\r\n        return url;\r\n    }\r\n}\r\n```\r\n\r\nMy application.yml:\r\n\r\n```\r\nversion: 0.0.1-SNAPSHOT\r\nurl: http://localhost:8080\r\n```\r\n\r\nWhen calling GetVersion() or GetUrl(), I get `null`.\r\n\r\nI&#39;ve tried adding a prefix, tried naming the file as `application.properties`, tried using `@EnableConfigurationProperties(MainConfig.class)` on my main class, tried using `@ConfigurationPropertiesScan`.  At this point I&#39;m somewhat at a loss.  My only guess is that it could have something to do with the `pom.xml`, but I don&#39;t have that file as I compile using gradle and can&#39;t find any information on alternatives.\r\n\r\nAny help is appreciated.","title":"All values returned from @ConfigurationProperty class are null","body":"<p>When attempting to create a @ConfigurationProperty to store a url for my site, it correctly initializes but does not actually populate any of the values.</p>\n<p>My configuration class:</p>\n<pre><code>package suggestunes;\nimport org.springframework.stereotype.Component;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.context.annotation.PropertySource;\n\n@Component\n@ConfigurationProperties(&quot;&quot;)\npublic class MainConfig {\n    private String version;\n    private String url;\n\n    public String GetVersion() {\n        return version;\n    }\n\n    public String GetUrl() {\n        return url;\n    }\n}\n</code></pre>\n<p>My application.yml:</p>\n<pre><code>version: 0.0.1-SNAPSHOT\nurl: http://localhost:8080\n</code></pre>\n<p>When calling GetVersion() or GetUrl(), I get <code>null</code>.</p>\n<p>I've tried adding a prefix, tried naming the file as <code>application.properties</code>, tried using <code>@EnableConfigurationProperties(MainConfig.class)</code> on my main class, tried using <code>@ConfigurationPropertiesScan</code>.  At this point I'm somewhat at a loss.  My only guess is that it could have something to do with the <code>pom.xml</code>, but I don't have that file as I compile using gradle and can't find any information on alternatives.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","multithreading","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"score":0,"creation_date":1699936775,"post_id":77476835,"comment_id":136590335,"body_markdown":"persistent context is cleared with new thread to begin with.You could refer [here](https://stackoverflow.com/questions/50137961/hibernate-creates-new-entity-unnecessarily-when-running-on-a-different-thread) for alike issue","body":"persistent context is cleared with new thread to begin with.You could refer <a href=\"https://stackoverflow.com/questions/50137961/hibernate-creates-new-entity-unnecessarily-when-running-on-a-different-thread\">here</a> for alike issue"}],"answers":[{"tags":[],"owner":{"account_id":17385796,"reputation":219,"user_id":12597147,"display_name":"CodingSamples"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700396559,"creation_date":1700182473,"answer_id":77498813,"question_id":77476835,"body_markdown":"You should not create threads by yourself. To use CDI and JTA with multiple threads you can inject or create a managed executor. Furthermore to get the transaction you should move your transactional method to another bean.\r\n\r\n```java\r\n@ApplicationScope\r\npublic class Service {\r\n\r\n    @Inject\r\n    Logger logger;\r\n\r\n    @Transactional\r\n    public void copyOne(long id)\r\n    {\r\n        ComPocTtEntity comPocTtEntityn = ComPocTtEntity.findById(id);\r\n        logger.info(&quot;Id: &quot; + comPocTtEntityn.getId());\r\n        //Copy item to HighPriorityOpenEntity\r\n        HighPriorityOpenEntity highPriorityOpenEntityn = new HighPriorityOpenEntity();\r\n        highPriorityOpenEntityn.setId(comPocTtEntityn.getId());\r\n        highPriorityOpenEntityn.setName(comPocTtEntityn.getName());\r\n        highPriorityOpenEntityn.setDescription(comPocTtEntityn.getDescription());\r\n        highPriorityOpenEntityn.setType(comPocTtEntityn.getType());\r\n        highPriorityOpenEntityn.setOwner(comPocTtEntityn.getOwner());\r\n        highPriorityOpenEntityn.setCreated(comPocTtEntityn.getCreated());\r\n        highPriorityOpenEntityn.setUpdated(comPocTtEntityn.getUpdated());\r\n        highPriorityOpenEntityn.setDue(comPocTtEntityn.getDue());\r\n        highPriorityOpenEntityn.setResolved(comPocTtEntityn.getResolved());\r\n        highPriorityOpenEntityn.setClosed(comPocTtEntityn.getClosed());\r\n        highPriorityOpenEntityn.setSeverity(comPocTtEntityn.getSeverity());\r\n        //Persist item and flush\r\n        highPriorityOpenEntityn.persistAndFlush();\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Path(&quot;/&quot;)\r\npublic class Endpoint {\r\n\r\n    @Inject\r\n    Logger logger;\r\n\r\n    @Inject\r\n    Service service;\r\n\r\n    @POST\r\n    @Path(&quot;/copyOne&quot;)\r\n    public void copyOne(long id) {\r\n        service.copyOne(id);\r\n    }\r\n\r\n    @Path(&quot;/streamHPO/{maxt}&quot;)\r\n    public Response streamHPO(@PathParam(&quot;maxt&quot;) int maxt) throws IOException {\r\n        \r\n        ManagedExecutor executor = ManagedExecutor.builder()\r\n            .maxAsync(maxt)\r\n            .propagated(ThreadContext.CDI, ThreadContext.TRANSACTION)\r\n            .build();\r\n\r\n        //Get all HIGH priority OPEN status items\r\n        List&lt;ComPocTtEntity&gt; comPocTtEntityList = ComPocTtEntity.listAll();\r\n        List&lt;Long&gt; hpoIdList = comPocTtEntityList.stream()\r\n                .filter(e -&gt; e.getPriority().equals(&quot;HIGH&quot;))\r\n                .filter(e -&gt; e.getStatus().equals(&quot;OPEN&quot;))\r\n                .toList().stream().map(ComPocTtEntity::getId).toList();\r\n        int s = hpoIdList.size();\r\n        int i = 0;\r\n        logger.info(&quot;HPO size: &quot; + s);\r\n        for (long id : hpoIdList) {\r\n            executor.runAsync(() =&gt; {\r\n                service.copyOne(id);\r\n            });\r\n\r\n            logger.info(&quot;HPO: &quot; + i + &quot; of &quot; + s);\r\n            ++i;\r\n        }\r\n        return Response.ok().build();\r\n    }\r\n}\r\n```\r\n\r\nI am not totally sure but I think it should be enough to propagate the CDI context, because the other CDI bean has the transactional context.\r\n\r\nhttps://github.com/eclipse/microprofile-context-propagation/tree/main\r\n\r\n```java\r\nManagedExecutor executor = ManagedExecutor.builder()\r\n    .maxAsync(maxt)\r\n    .propagated(ThreadContext.CDI)\r\n    .build();\r\n```","title":"Quarkus Transaction error when running on multiple threads","body":"<p>You should not create threads by yourself. To use CDI and JTA with multiple threads you can inject or create a managed executor. Furthermore to get the transaction you should move your transactional method to another bean.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ApplicationScope\npublic class Service {\n\n    @Inject\n    Logger logger;\n\n    @Transactional\n    public void copyOne(long id)\n    {\n        ComPocTtEntity comPocTtEntityn = ComPocTtEntity.findById(id);\n        logger.info(&quot;Id: &quot; + comPocTtEntityn.getId());\n        //Copy item to HighPriorityOpenEntity\n        HighPriorityOpenEntity highPriorityOpenEntityn = new HighPriorityOpenEntity();\n        highPriorityOpenEntityn.setId(comPocTtEntityn.getId());\n        highPriorityOpenEntityn.setName(comPocTtEntityn.getName());\n        highPriorityOpenEntityn.setDescription(comPocTtEntityn.getDescription());\n        highPriorityOpenEntityn.setType(comPocTtEntityn.getType());\n        highPriorityOpenEntityn.setOwner(comPocTtEntityn.getOwner());\n        highPriorityOpenEntityn.setCreated(comPocTtEntityn.getCreated());\n        highPriorityOpenEntityn.setUpdated(comPocTtEntityn.getUpdated());\n        highPriorityOpenEntityn.setDue(comPocTtEntityn.getDue());\n        highPriorityOpenEntityn.setResolved(comPocTtEntityn.getResolved());\n        highPriorityOpenEntityn.setClosed(comPocTtEntityn.getClosed());\n        highPriorityOpenEntityn.setSeverity(comPocTtEntityn.getSeverity());\n        //Persist item and flush\n        highPriorityOpenEntityn.persistAndFlush();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/&quot;)\npublic class Endpoint {\n\n    @Inject\n    Logger logger;\n\n    @Inject\n    Service service;\n\n    @POST\n    @Path(&quot;/copyOne&quot;)\n    public void copyOne(long id) {\n        service.copyOne(id);\n    }\n\n    @Path(&quot;/streamHPO/{maxt}&quot;)\n    public Response streamHPO(@PathParam(&quot;maxt&quot;) int maxt) throws IOException {\n        \n        ManagedExecutor executor = ManagedExecutor.builder()\n            .maxAsync(maxt)\n            .propagated(ThreadContext.CDI, ThreadContext.TRANSACTION)\n            .build();\n\n        //Get all HIGH priority OPEN status items\n        List&lt;ComPocTtEntity&gt; comPocTtEntityList = ComPocTtEntity.listAll();\n        List&lt;Long&gt; hpoIdList = comPocTtEntityList.stream()\n                .filter(e -&gt; e.getPriority().equals(&quot;HIGH&quot;))\n                .filter(e -&gt; e.getStatus().equals(&quot;OPEN&quot;))\n                .toList().stream().map(ComPocTtEntity::getId).toList();\n        int s = hpoIdList.size();\n        int i = 0;\n        logger.info(&quot;HPO size: &quot; + s);\n        for (long id : hpoIdList) {\n            executor.runAsync(() =&gt; {\n                service.copyOne(id);\n            });\n\n            logger.info(&quot;HPO: &quot; + i + &quot; of &quot; + s);\n            ++i;\n        }\n        return Response.ok().build();\n    }\n}\n</code></pre>\n<p>I am not totally sure but I think it should be enough to propagate the CDI context, because the other CDI bean has the transactional context.</p>\n<p><a href=\"https://github.com/eclipse/microprofile-context-propagation/tree/main\" rel=\"nofollow noreferrer\">https://github.com/eclipse/microprofile-context-propagation/tree/main</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>ManagedExecutor executor = ManagedExecutor.builder()\n    .maxAsync(maxt)\n    .propagated(ThreadContext.CDI)\n    .build();\n</code></pre>\n"}],"owner":{"account_id":20043783,"reputation":45,"user_id":14693960,"display_name":"szg12345"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700396559,"creation_date":1699909074,"question_id":77476835,"body_markdown":"When I run post to http://localhost:80/poc/copyOne, the code runs perfectly, but when I curl http://localhost:80/poc/streamHPO/2, it fails with the message:\r\n\r\n&gt; Cannot use the EntityManager/Session because neither a transaction nor a CDI request context is active. Consider adding @Transactional to your method to automatically activate a transaction, or @ActivateRequestContext if you have valid reasons not to use transactions\r\n\r\nI&#39;m using an MSSQL server (not sure if it&#39;s related), and PanacheEntityBase-s for both HighPriorityOpenEntity and ComPocTtEntity\r\n\r\n```Java\r\n@GET\r\n    @Path(&quot;/streamHPO/{maxt}&quot;)\r\n    public Response streamHPO(@PathParam(&quot;maxt&quot;) int maxt) throws IOException {\r\n        //get the largest id\r\n        //start on a new thread\r\n        new Thread(() -&gt;\r\n        {\r\n            try {\r\n                streamHPOThread(maxt);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }).start();\r\n        return Response.ok().build();\r\n    }\r\n\r\n    @POST\r\n    @Transactional\r\n    @Path(&quot;/copyOne&quot;)\r\n    public void copyOne(long id)\r\n    {\r\n        ComPocTtEntity ComPocTtEntityn = ComPocTtEntity.findById(id);\r\n        System.out.println(&quot;Id: &quot; + ComPocTtEntityn.getId());\r\n        //Copy item to HighPriorityOpenEntity\r\n        HighPriorityOpenEntity highPriorityOpenEntityn = new HighPriorityOpenEntity();\r\n        highPriorityOpenEntityn.setId(ComPocTtEntityn.getId());\r\n        highPriorityOpenEntityn.setName(ComPocTtEntityn.getName());\r\n        highPriorityOpenEntityn.setDescription(ComPocTtEntityn.getDescription());\r\n        highPriorityOpenEntityn.setType(ComPocTtEntityn.getType());\r\n        highPriorityOpenEntityn.setOwner(ComPocTtEntityn.getOwner());\r\n        highPriorityOpenEntityn.setCreated(ComPocTtEntityn.getCreated());\r\n        highPriorityOpenEntityn.setUpdated(ComPocTtEntityn.getUpdated());\r\n        highPriorityOpenEntityn.setDue(ComPocTtEntityn.getDue());\r\n        highPriorityOpenEntityn.setResolved(ComPocTtEntityn.getResolved());\r\n        highPriorityOpenEntityn.setClosed(ComPocTtEntityn.getClosed());\r\n        highPriorityOpenEntityn.setSeverity(ComPocTtEntityn.getSeverity());\r\n        //Persist item and flush\r\n        highPriorityOpenEntityn.persistAndFlush();\r\n    }\r\n    public void streamHPOThread(int maxt) throws IOException {\r\n        //Get all HIGH priority OPEN status items\r\n        List&lt;ComPocTtEntity&gt; ComPocTtEntityList = ComPocTtEntity.listAll();\r\n        List&lt;Long&gt; HPOids = ComPocTtEntityList.stream()\r\n                .filter(ComPocTtEntity -&gt; ComPocTtEntity.getPriority().equals(&quot;HIGH&quot;))\r\n                .filter(ComPocTtEntity -&gt; ComPocTtEntity.getStatus().equals(&quot;OPEN&quot;))\r\n                .toList().stream().map(ComPocTtEntity::getId).toList();\r\n        System.out.println(&quot;HPO size: &quot; + HPOids.size());\r\n        int s = HPOids.size();\r\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\r\n        for (int c = 0; c &lt; s; c++) {\r\n            while (threads.size() &gt;= maxt)\r\n                for (int t = 0; t &lt; threads.size(); t++)\r\n                    if (!threads.get(t).isAlive())\r\n                        threads.remove(t);\r\n            //Get first item\r\n            long id = HPOids.get(c);\r\n            //Start copyone on a new thread\r\n            threads.add(new Thread(() -&gt;\r\n                copyOne(id)\r\n            ));\r\n            threads.get(c).start();\r\n\r\n            System.out.println(&quot;HPO: &quot; + c + &quot; of &quot; + s);\r\n        }\r\n    }\r\n```","title":"Quarkus Transaction error when running on multiple threads","body":"<p>When I run post to http://localhost:80/poc/copyOne, the code runs perfectly, but when I curl http://localhost:80/poc/streamHPO/2, it fails with the message:</p>\n<blockquote>\n<p>Cannot use the EntityManager/Session because neither a transaction nor a CDI request context is active. Consider adding @Transactional to your method to automatically activate a transaction, or @ActivateRequestContext if you have valid reasons not to use transactions</p>\n</blockquote>\n<p>I'm using an MSSQL server (not sure if it's related), and PanacheEntityBase-s for both HighPriorityOpenEntity and ComPocTtEntity</p>\n<pre><code>@GET\n    @Path(&quot;/streamHPO/{maxt}&quot;)\n    public Response streamHPO(@PathParam(&quot;maxt&quot;) int maxt) throws IOException {\n        //get the largest id\n        //start on a new thread\n        new Thread(() -&gt;\n        {\n            try {\n                streamHPOThread(maxt);\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }).start();\n        return Response.ok().build();\n    }\n\n    @POST\n    @Transactional\n    @Path(&quot;/copyOne&quot;)\n    public void copyOne(long id)\n    {\n        ComPocTtEntity ComPocTtEntityn = ComPocTtEntity.findById(id);\n        System.out.println(&quot;Id: &quot; + ComPocTtEntityn.getId());\n        //Copy item to HighPriorityOpenEntity\n        HighPriorityOpenEntity highPriorityOpenEntityn = new HighPriorityOpenEntity();\n        highPriorityOpenEntityn.setId(ComPocTtEntityn.getId());\n        highPriorityOpenEntityn.setName(ComPocTtEntityn.getName());\n        highPriorityOpenEntityn.setDescription(ComPocTtEntityn.getDescription());\n        highPriorityOpenEntityn.setType(ComPocTtEntityn.getType());\n        highPriorityOpenEntityn.setOwner(ComPocTtEntityn.getOwner());\n        highPriorityOpenEntityn.setCreated(ComPocTtEntityn.getCreated());\n        highPriorityOpenEntityn.setUpdated(ComPocTtEntityn.getUpdated());\n        highPriorityOpenEntityn.setDue(ComPocTtEntityn.getDue());\n        highPriorityOpenEntityn.setResolved(ComPocTtEntityn.getResolved());\n        highPriorityOpenEntityn.setClosed(ComPocTtEntityn.getClosed());\n        highPriorityOpenEntityn.setSeverity(ComPocTtEntityn.getSeverity());\n        //Persist item and flush\n        highPriorityOpenEntityn.persistAndFlush();\n    }\n    public void streamHPOThread(int maxt) throws IOException {\n        //Get all HIGH priority OPEN status items\n        List&lt;ComPocTtEntity&gt; ComPocTtEntityList = ComPocTtEntity.listAll();\n        List&lt;Long&gt; HPOids = ComPocTtEntityList.stream()\n                .filter(ComPocTtEntity -&gt; ComPocTtEntity.getPriority().equals(&quot;HIGH&quot;))\n                .filter(ComPocTtEntity -&gt; ComPocTtEntity.getStatus().equals(&quot;OPEN&quot;))\n                .toList().stream().map(ComPocTtEntity::getId).toList();\n        System.out.println(&quot;HPO size: &quot; + HPOids.size());\n        int s = HPOids.size();\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\n        for (int c = 0; c &lt; s; c++) {\n            while (threads.size() &gt;= maxt)\n                for (int t = 0; t &lt; threads.size(); t++)\n                    if (!threads.get(t).isAlive())\n                        threads.remove(t);\n            //Get first item\n            long id = HPOids.get(c);\n            //Start copyone on a new thread\n            threads.add(new Thread(() -&gt;\n                copyOne(id)\n            ));\n            threads.get(c).start();\n\n            System.out.println(&quot;HPO: &quot; + c + &quot; of &quot; + s);\n        }\n    }\n</code></pre>\n"},{"tags":["java","flutter","dart","integration","native-code"],"owner":{"account_id":22008632,"reputation":1,"user_id":16279216,"display_name":"HAMZA HAIMOUR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700395804,"creation_date":1700395552,"question_id":77510699,"body_markdown":"I am trying to Integrate with ATID907 RFID device I have all the documents related but it&#39;s all in Java, I know how to integrate my code with native Java code I already did the battery function in Java and called it in the main.dart but all the functions in the sample code are void and I should call a ton of functions and event listeners to get the value.\r\n\r\n I tried to follow the document and all of it is overrided by another class and interfaces but there is no value returned I will attach my sample code and all the provided PDFs and sample codes by the manufacturer under folder at907 on the root.\r\nhttps://github.com/hamzahaimour/rfidSample.git","title":"How to Integrate ATID907 rfid device with my flutter app (is there a plugin for it in flutter)?","body":"<p>I am trying to Integrate with ATID907 RFID device I have all the documents related but it's all in Java, I know how to integrate my code with native Java code I already did the battery function in Java and called it in the main.dart but all the functions in the sample code are void and I should call a ton of functions and event listeners to get the value.</p>\n<p>I tried to follow the document and all of it is overrided by another class and interfaces but there is no value returned I will attach my sample code and all the provided PDFs and sample codes by the manufacturer under folder at907 on the root.\n<a href=\"https://github.com/hamzahaimour/rfidSample.git\" rel=\"nofollow noreferrer\">https://github.com/hamzahaimour/rfidSample.git</a></p>\n"},{"tags":["java","gradle","jar","build.gradle","executable-jar"],"answers":[{"comments":[{"owner":{"account_id":159837,"reputation":6425,"user_id":379482,"accept_rate":73,"display_name":"advait"},"score":0,"creation_date":1413267356,"post_id":21721177,"comment_id":41367169,"body_markdown":"From what I understand, `installApp` doesn&#39;t create a `META-INF/MANIFEST.MF` file. Am I doing something wrong?","body":"From what I understand, <code>installApp</code> doesn&#39;t create a <code>META-INF&#47;MANIFEST.MF</code> file. Am I doing something wrong?"},{"owner":{"account_id":352743,"reputation":2565,"user_id":689991,"accept_rate":91,"display_name":"Quazi Irfan"},"score":1,"creation_date":1526512995,"post_id":21721177,"comment_id":87778623,"body_markdown":"I do not see `installApp` task in the task list of [Application Plugin](https://docs.gradle.org/current/userguide/application_plugin.html#sec:application_tasks). Did you mean `installDist` instead?","body":"I do not see <code>installApp</code> task in the task list of <a href=\"https://docs.gradle.org/current/userguide/application_plugin.html#sec:application_tasks\" rel=\"nofollow noreferrer\">Application Plugin</a>. Did you mean <code>installDist</code> instead?"},{"owner":{"account_id":352743,"reputation":2565,"user_id":689991,"accept_rate":91,"display_name":"Quazi Irfan"},"score":2,"creation_date":1526513139,"post_id":21721177,"comment_id":87778651,"body_markdown":"Yes, `installApp` was renamed to `installDist` in Gradle 3.0. Here is the [release note](https://docs.gradle.org/3.0/release-notes.html).","body":"Yes, <code>installApp</code> was renamed to <code>installDist</code> in Gradle 3.0. Here is the <a href=\"https://docs.gradle.org/3.0/release-notes.html\" rel=\"nofollow noreferrer\">release note</a>."}],"tags":[],"owner":{"account_id":3685403,"reputation":9772,"user_id":3069254,"display_name":"Jorge_B"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1392189526,"creation_date":1392189526,"answer_id":21721177,"question_id":21721119,"body_markdown":"Have you tried the &#39;installApp&#39; task?  Does it not create a full directory with a set of start scripts?\r\n\r\nhttp://www.gradle.org/docs/current/userguide/application_plugin.html","title":"Creating runnable JAR with Gradle","body":"<p>Have you tried the 'installApp' task?  Does it not create a full directory with a set of start scripts?</p>\n\n<p><a href=\"http://www.gradle.org/docs/current/userguide/application_plugin.html\" rel=\"noreferrer\">http://www.gradle.org/docs/current/userguide/application_plugin.html</a></p>\n"},{"comments":[{"owner":{"account_id":1028416,"reputation":5052,"user_id":1037206,"accept_rate":54,"display_name":"Hannes"},"score":6,"creation_date":1392192216,"post_id":21721305,"comment_id":32847846,"body_markdown":"This seems to be what I was looking for; but: I declared already dependencies in the build.gradle, do I really have to add manually the class path or can I re-use my dependency declaration?","body":"This seems to be what I was looking for; but: I declared already dependencies in the build.gradle, do I really have to add manually the class path or can I re-use my dependency declaration?"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1392192341,"post_id":21721305,"comment_id":32847919,"body_markdown":"You should be able to loop through the libraries inside the &#39;runtime&#39; configuration and to concatenate them to create the Class-Path attribute value.","body":"You should be able to loop through the libraries inside the &#39;runtime&#39; configuration and to concatenate them to create the Class-Path attribute value."},{"owner":{"account_id":1028416,"reputation":5052,"user_id":1037206,"accept_rate":54,"display_name":"Hannes"},"score":4,"creation_date":1392196815,"post_id":21721305,"comment_id":32850399,"body_markdown":"What do you mean with &#39;inseid the &quot;runtime&quot; configuration&#39;? Sorry for stupid questions, I am quite new to Gradle ...","body":"What do you mean with &#39;inseid the &quot;runtime&quot; configuration&#39;? Sorry for stupid questions, I am quite new to Gradle ..."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1392206683,"post_id":21721305,"comment_id":32856901,"body_markdown":"The gradle java plugin defines 4 &quot;configurations&quot; corresponding to 4 different classpaths: compile (used to compile the Java files), testCompile (which is used to compile the test Java source files), runtime (which is used to execute the application) and testRuntime (which is used to execute the tests). See http://www.gradle.org/docs/current/userguide/userguide_single.html#configurations","body":"The gradle java plugin defines 4 &quot;configurations&quot; corresponding to 4 different classpaths: compile (used to compile the Java files), testCompile (which is used to compile the test Java source files), runtime (which is used to execute the application) and testRuntime (which is used to execute the tests). See <a href=\"http://www.gradle.org/docs/current/userguide/userguide_single.html#configurations\" rel=\"nofollow noreferrer\">gradle.org/docs/current/userguide/&hellip;</a>"},{"owner":{"account_id":1028416,"reputation":5052,"user_id":1037206,"accept_rate":54,"display_name":"Hannes"},"score":0,"creation_date":1392207424,"post_id":21721305,"comment_id":32857362,"body_markdown":"Ah, thanks - than I understood it correct and manage to build the JAR, now I am frickeling with creating the classpath ;-) Thanks a lot for your help!","body":"Ah, thanks - than I understood it correct and manage to build the JAR, now I am frickeling with creating the classpath ;-) Thanks a lot for your help!"},{"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"score":1,"creation_date":1466178911,"post_id":21721305,"comment_id":63226124,"body_markdown":"Adding manifest attribute also as adding `chmod +x` attribute to a file is completely not enough to make JAR executable and absolutely not the same as Eclipse command `Export to` does.","body":"Adding manifest attribute also as adding <code>chmod +x</code> attribute to a file is completely not enough to make JAR executable and absolutely not the same as Eclipse command <code>Export to</code> does."},{"owner":{"account_id":1613052,"reputation":141,"user_id":1491491,"display_name":"Intel"},"score":0,"creation_date":1561597372,"post_id":21721305,"comment_id":100120011,"body_markdown":"gradle-shadow-plugin is better as stated below by Jared Burrows, see the getting started guide here: https://imperceptiblethoughts.com/shadow/getting-started/#default-java-groovy-tasks","body":"gradle-shadow-plugin is better as stated below by Jared Burrows, see the getting started guide here: <a href=\"https://imperceptiblethoughts.com/shadow/getting-started/#default-java-groovy-tasks\" rel=\"nofollow noreferrer\">imperceptiblethoughts.com/shadow/getting-started/&hellip;</a>"},{"owner":{"account_id":19185251,"reputation":1995,"user_id":14016161,"display_name":"Julia"},"score":0,"creation_date":1597788191,"post_id":21721305,"comment_id":112247223,"body_markdown":"How would I use this with the Kotlin DSL? When I tried it, I got an error; something like &quot;Expression &#39;jar&#39; cannot be invoked as a function. The function &#39;invoke()&#39; is not found&quot;","body":"How would I use this with the Kotlin DSL? When I tried it, I got an error; something like &quot;Expression &#39;jar&#39; cannot be invoked as a function. The function &#39;invoke()&#39; is not found&quot;"}],"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":8,"down_vote_count":3,"up_vote_count":206,"is_accepted":true,"score":203,"last_activity_date":1673488495,"creation_date":1392189976,"answer_id":21721305,"question_id":21721119,"body_markdown":"An executable jar file is just a jar file containing a Main-Class entry in its manifest. So you just need to configure the [jar task][1] in order to add this entry in its manifest:\r\n\r\n    jar {\r\n        manifest {\r\n            attributes &#39;Main-Class&#39;: &#39;com.foo.bar.MainClass&#39;\r\n        }\r\n    }\r\n\r\nYou might also need to add classpath entries in the manifest, but that would be done the same way.\r\n\r\nSee http://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html\r\n\r\n---\r\n\r\nIf you already have defined an application context, you can re-use the definition rather than duplicate it:\r\n\r\n``` java\r\napplication {\r\n  // Define the main class for the application.\r\n  mainClass = &#39;com.foo.bar.MainClass&#39;\r\n}\r\n\r\njar {\r\n  manifest {\r\n    attributes &#39;Main-Class&#39;: application.mainClass\r\n  }\r\n}\r\n```\r\n\r\n  [1]: http://www.gradle.org/docs/current/dsl/org.gradle.api.tasks.bundling.Jar.html","title":"Creating runnable JAR with Gradle","body":"<p>An executable jar file is just a jar file containing a Main-Class entry in its manifest. So you just need to configure the <a href=\"http://www.gradle.org/docs/current/dsl/org.gradle.api.tasks.bundling.Jar.html\" rel=\"noreferrer\">jar task</a> in order to add this entry in its manifest:</p>\n<pre><code>jar {\n    manifest {\n        attributes 'Main-Class': 'com.foo.bar.MainClass'\n    }\n}\n</code></pre>\n<p>You might also need to add classpath entries in the manifest, but that would be done the same way.</p>\n<p>See <a href=\"http://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html</a></p>\n<hr />\n<p>If you already have defined an application context, you can re-use the definition rather than duplicate it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>application {\n  // Define the main class for the application.\n  mainClass = 'com.foo.bar.MainClass'\n}\n\njar {\n  manifest {\n    attributes 'Main-Class': application.mainClass\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":122758,"reputation":2509,"user_id":316766,"accept_rate":85,"display_name":"Jako"},"score":0,"creation_date":1511869573,"post_id":21743527,"comment_id":82017954,"body_markdown":"Just tried shadow and one-jar. I&#39;ll stick to one-jar: it is simpler and easier to use. Cool! thanks","body":"Just tried shadow and one-jar. I&#39;ll stick to one-jar: it is simpler and easier to use. Cool! thanks"},{"owner":{"account_id":60800,"reputation":1229,"user_id":181506,"accept_rate":60,"display_name":"pharsicle"},"score":0,"creation_date":1526003224,"post_id":21743527,"comment_id":87583994,"body_markdown":"Unfortunately one-jar does not work with recent versions of Gradle. See, for example, https://github.com/rholder/gradle-one-jar/issues/34","body":"Unfortunately one-jar does not work with recent versions of Gradle. See, for example, <a href=\"https://github.com/rholder/gradle-one-jar/issues/34\" rel=\"nofollow noreferrer\">github.com/rholder/gradle-one-jar/issues/34</a>"},{"owner":{"account_id":352743,"reputation":2565,"user_id":689991,"accept_rate":91,"display_name":"Quazi Irfan"},"score":1,"creation_date":1526514002,"post_id":21743527,"comment_id":87778859,"body_markdown":"[Here](http://www.baeldung.com/gradle-fat-jar) is a one-liner solution to build one-jar by modifying the jar task. I&#39;ve found this to be the most convenient. Note that you need to add `configurations.runtime` to bundle runtime dependencies in the single jar.","body":"<a href=\"http://www.baeldung.com/gradle-fat-jar\" rel=\"nofollow noreferrer\">Here</a> is a one-liner solution to build one-jar by modifying the jar task. I&#39;ve found this to be the most convenient. Note that you need to add <code>configurations.runtime</code> to bundle runtime dependencies in the single jar."},{"owner":{"account_id":2610717,"reputation":1677,"user_id":2260864,"accept_rate":67,"display_name":"kinORnirvana"},"score":0,"creation_date":1578263278,"post_id":21743527,"comment_id":105373417,"body_markdown":"I found &quot;application plugin&quot; to be suitable and flexible enough for my need.\nIt allows also to pack everything to zip and include/exclude extra files in that zip.\nAlso, it&#39;s possible to add another launcher script with additional entry point using custom task.","body":"I found &quot;application plugin&quot; to be suitable and flexible enough for my need. It allows also to pack everything to zip and include/exclude extra files in that zip. Also, it&#39;s possible to add another launcher script with additional entry point using custom task."},{"owner":{"account_id":5814053,"reputation":2527,"user_id":7759514,"accept_rate":61,"display_name":"Tobiq"},"score":0,"creation_date":1581557183,"post_id":21743527,"comment_id":106478336,"body_markdown":"How would I execute the `.tar` / `.zip` files generated?","body":"How would I execute the <code>.tar</code> / <code>.zip</code> files generated?"},{"owner":{"account_id":1008064,"reputation":2242,"user_id":1021250,"display_name":"davidmc24"},"score":0,"creation_date":1613079212,"post_id":21743527,"comment_id":116973481,"body_markdown":"The .tar/.zip files mentioned are not directly executable.  You extract them and run the script bundled within.","body":"The .tar/.zip files mentioned are not directly executable.  You extract them and run the script bundled within."}],"tags":[],"owner":{"account_id":1008064,"reputation":2242,"user_id":1021250,"display_name":"davidmc24"},"comment_count":6,"down_vote_count":0,"up_vote_count":119,"is_accepted":false,"score":119,"last_activity_date":1508314565,"creation_date":1392255193,"answer_id":21743527,"question_id":21721119,"body_markdown":"Both JB Nizet and Jorge_B&#39;s answers are correct.\r\n\r\nIn its simplest form, creating an executable JAR with Gradle is just a matter of adding the appropriate entries to the [manifest](http://www.gradle.org/docs/current/userguide/java_plugin.html#sub:manifest).  However, it&#39;s much more common to have dependencies that need to be included on the classpath, making this approach tricky in practice.\r\n\r\nThe [application plugin](http://www.gradle.org/docs/current/userguide/application_plugin.html) provides an alternate approach; instead of creating an executable JAR, it provides:\r\n\r\n* a `run` task to facilitate easily running the application directly from the build\r\n* an `installDist` task that generates a directory structure including the built JAR, all of the JARs that it depends on, and a startup script that pulls it all together into a program you can run\r\n* `distZip` and `distTar` tasks that create archives containing a complete application distribution (startup scripts and JARs)\r\n\r\nA third approach is to create a so-called &quot;fat JAR&quot; which is an executable JAR that includes not only your component&#39;s code, but also all of its dependencies.  There are a few different plugins that use this approach.  I&#39;ve included links to a few that I&#39;m aware of; I&#39;m sure there are more.\r\n\r\n* [shadow](https://github.com/johnrengelman/shadow)\r\n* [one-jar](https://github.com/rholder/gradle-one-jar)\r\n* [spring-boot](https://docs.spring.io/spring-boot/docs/current/reference/html/build-tool-plugins-gradle-plugin.html)\r\n* [capsule](https://github.com/danthegoodman/gradle-capsule-plugin)\r\n","title":"Creating runnable JAR with Gradle","body":"<p>Both JB Nizet and Jorge_B's answers are correct.</p>\n\n<p>In its simplest form, creating an executable JAR with Gradle is just a matter of adding the appropriate entries to the <a href=\"http://www.gradle.org/docs/current/userguide/java_plugin.html#sub:manifest\" rel=\"noreferrer\">manifest</a>.  However, it's much more common to have dependencies that need to be included on the classpath, making this approach tricky in practice.</p>\n\n<p>The <a href=\"http://www.gradle.org/docs/current/userguide/application_plugin.html\" rel=\"noreferrer\">application plugin</a> provides an alternate approach; instead of creating an executable JAR, it provides:</p>\n\n<ul>\n<li>a <code>run</code> task to facilitate easily running the application directly from the build</li>\n<li>an <code>installDist</code> task that generates a directory structure including the built JAR, all of the JARs that it depends on, and a startup script that pulls it all together into a program you can run</li>\n<li><code>distZip</code> and <code>distTar</code> tasks that create archives containing a complete application distribution (startup scripts and JARs)</li>\n</ul>\n\n<p>A third approach is to create a so-called \"fat JAR\" which is an executable JAR that includes not only your component's code, but also all of its dependencies.  There are a few different plugins that use this approach.  I've included links to a few that I'm aware of; I'm sure there are more.</p>\n\n<ul>\n<li><a href=\"https://github.com/johnrengelman/shadow\" rel=\"noreferrer\">shadow</a></li>\n<li><a href=\"https://github.com/rholder/gradle-one-jar\" rel=\"noreferrer\">one-jar</a></li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/build-tool-plugins-gradle-plugin.html\" rel=\"noreferrer\">spring-boot</a></li>\n<li><a href=\"https://github.com/danthegoodman/gradle-capsule-plugin\" rel=\"noreferrer\">capsule</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2835446,"reputation":31,"user_id":2436154,"display_name":"Mondain"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1423400693,"creation_date":1423400693,"answer_id":28394231,"question_id":21721119,"body_markdown":"You can define a jar artifact in the module settings (or project structure).\r\n\r\n* Right click the module &gt; Open module settings &gt; Artifacts &gt; + &gt; JAR &gt; from modules with dependencies.\r\n* Set the main class.\r\n\r\n\r\nMaking a jar is then as easy as clicking &quot;Build artifact...&quot; from the Build menu. As a bonus, you can package all the dependencies into a single jar.\r\n\r\n\r\n\r\nTested on IntelliJ IDEA 14 Ultimate.","title":"Creating runnable JAR with Gradle","body":"<p>You can define a jar artifact in the module settings (or project structure).</p>\n\n<ul>\n<li>Right click the module > Open module settings > Artifacts > + > JAR > from modules with dependencies.</li>\n<li>Set the main class.</li>\n</ul>\n\n<p>Making a jar is then as easy as clicking \"Build artifact...\" from the Build menu. As a bonus, you can package all the dependencies into a single jar.</p>\n\n<p>Tested on IntelliJ IDEA 14 Ultimate.</p>\n"},{"comments":[{"owner":{"account_id":979180,"reputation":2939,"user_id":999375,"display_name":"Marc Nuri"},"score":0,"creation_date":1442226541,"post_id":28825374,"comment_id":52980199,"body_markdown":"The current application jar will be in the &#39;lib&#39; directory of the distribution too. You have to either move it by had to the top directory or change this line:  \n&#39;Class-Path&#39;: configurations.runtime.files.collect { &quot;lib/$it.name&quot; }.join(&#39; &#39;)\n    }  \nto this:  \n&#39;Class-Path&#39;: configurations.runtime.files.collect { &quot;$it.name&quot; }.join(&#39; &#39;)\n    }","body":"The current application jar will be in the &#39;lib&#39; directory of the distribution too. You have to either move it by had to the top directory or change this line:   &#39;Class-Path&#39;: configurations.runtime.files.collect { &quot;lib/$it.name&quot; }.join(&#39; &#39;)     }   to this:   &#39;Class-Path&#39;: configurations.runtime.files.collect { &quot;$it.name&quot; }.join(&#39; &#39;)     }"},{"owner":{"account_id":5509766,"reputation":632,"user_id":4376460,"accept_rate":80,"display_name":"thejonwithnoh"},"score":1,"creation_date":1449859362,"post_id":28825374,"comment_id":56204490,"body_markdown":"@MarcNuri Are you sure?  I tried using this approach for my application, and the current application jar was **not** in the `lib` directory of the produced zip/tar file, but rather was in `lib`&#39;s parent directory, as this answer suggests.  This solution seemed to work perfectly for me.","body":"@MarcNuri Are you sure?  I tried using this approach for my application, and the current application jar was <b>not</b> in the <code>lib</code> directory of the produced zip/tar file, but rather was in <code>lib</code>&#39;s parent directory, as this answer suggests.  This solution seemed to work perfectly for me."},{"owner":{"account_id":979180,"reputation":2939,"user_id":999375,"display_name":"Marc Nuri"},"score":1,"creation_date":1450085563,"post_id":28825374,"comment_id":56268510,"body_markdown":"@thejonwithnoh I&#39;m sorry, you&#39;re right. I didn&#39;t see the solution proposed to use the &quot;java-library-distribution&quot; plugin. In my case I&#39;m simply using the &quot;application&quot; plugin which does the same job with the main difference that all of the jar files (**including** the application jar) are located in the &quot;lib&quot; directory. Thus changing `&quot;lib/$it.name&quot;` to `&quot;$it.name&quot;` will do the job.","body":"@thejonwithnoh I&#39;m sorry, you&#39;re right. I didn&#39;t see the solution proposed to use the &quot;java-library-distribution&quot; plugin. In my case I&#39;m simply using the &quot;application&quot; plugin which does the same job with the main difference that all of the jar files (<b>including</b> the application jar) are located in the &quot;lib&quot; directory. Thus changing <code>&quot;lib&#47;$it.name&quot;</code> to <code>&quot;$it.name&quot;</code> will do the job."},{"owner":{"account_id":6449193,"reputation":156,"user_id":5000766,"display_name":"comfreak"},"score":0,"creation_date":1662042922,"post_id":28825374,"comment_id":129919327,"body_markdown":"`configurations.runtime.files.collect` seems to be replaced with `configurations.runtimeClasspath.files.collect` as of Gradle 7.x","body":"<code>configurations.runtime.files.collect</code> seems to be replaced with <code>configurations.runtimeClasspath.files.collect</code> as of Gradle 7.x"}],"tags":[],"owner":{"account_id":1322512,"reputation":18477,"user_id":1268003,"accept_rate":82,"display_name":"Martin Andersson"},"comment_count":4,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1425364245,"creation_date":1425363814,"answer_id":28825374,"question_id":21721119,"body_markdown":"As others have noted, in order for a jar file to be executable, the application&#39;s entry point must be set in the `Main-Class` attribute of the manifest file. If the dependency class files are not collocated, then they need to be set in the `Class-Path` entry of the manifest file.\r\n\r\nI have tried all kinds of plugin combinations and what not for the simple task of creating an executable jar and somehow someway, include the dependencies. All plugins seem to be lacking one way or another, but finally I got it like I wanted. No mysterious scripts, not a million different mini files polluting the build directory, a pretty clean build script file, and above all: not a million foreign third party class files merged into my jar archive.\r\n\r\n*The following is a copy-paste from [here](https://stackoverflow.com/a/28825171/1268003) for your convenience..*\r\n\r\n[How-to] create a distribution zip file with dependency jars in subdirectory `/lib` and add all dependencies to `Class-Path` entry in the manifest file:\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;java-library-distribution&#39;\r\n     \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n     \r\n    dependencies {\r\n        compile &#39;org.apache.commons:commons-lang3:3.3.2&#39;\r\n    }\r\n     \r\n    // Task &quot;distZip&quot; added by plugin &quot;java-library-distribution&quot;:\r\n    distZip.shouldRunAfter(build)\r\n     \r\n    jar {\r\n        // Keep jar clean:\r\n        exclude &#39;META-INF/*.SF&#39;, &#39;META-INF/*.DSA&#39;, &#39;META-INF/*.RSA&#39;, &#39;META-INF/*.MF&#39;\r\n        \r\n        manifest {\r\n            attributes &#39;Main-Class&#39;: &#39;com.somepackage.MainClass&#39;,\r\n                       &#39;Class-Path&#39;: configurations.runtime.files.collect { &quot;lib/$it.name&quot; }.join(&#39; &#39;)\r\n        }\r\n        // How-to add class path:\r\n        //     https://stackoverflow.com/questions/22659463/add-classpath-in-manifest-using-gradle\r\n        //     https://gist.github.com/simon04/6865179\r\n    }\r\n\r\nHosted as a gist [here](https://gist.github.com/MartinanderssonDotcom/c63675ce87947da1ef4a).\r\n\r\nThe result can be found in `build/distributions` and the unzipped contents look like this:\r\n\r\n&gt; lib/commons-lang3-3.3.2.jar &lt;br&gt;\r\n&gt; MyJarFile.jar &lt;br&gt;\r\n\r\nContents of `MyJarFile.jar#META-INF/MANIFEST.mf`:\r\n\r\n&gt; Manifest-Version: 1.0 &lt;br&gt;\r\n&gt; Main-Class: com.somepackage.MainClass &lt;br&gt;\r\n&gt; Class-Path: lib/commons-lang3-3.3.2.jar &lt;br&gt;\r\n&gt; &lt;br&gt;\r\n&gt; ","title":"Creating runnable JAR with Gradle","body":"<p>As others have noted, in order for a jar file to be executable, the application's entry point must be set in the <code>Main-Class</code> attribute of the manifest file. If the dependency class files are not collocated, then they need to be set in the <code>Class-Path</code> entry of the manifest file.</p>\n\n<p>I have tried all kinds of plugin combinations and what not for the simple task of creating an executable jar and somehow someway, include the dependencies. All plugins seem to be lacking one way or another, but finally I got it like I wanted. No mysterious scripts, not a million different mini files polluting the build directory, a pretty clean build script file, and above all: not a million foreign third party class files merged into my jar archive.</p>\n\n<p><em>The following is a copy-paste from <a href=\"https://stackoverflow.com/a/28825171/1268003\">here</a> for your convenience..</em></p>\n\n<p>[How-to] create a distribution zip file with dependency jars in subdirectory <code>/lib</code> and add all dependencies to <code>Class-Path</code> entry in the manifest file:</p>\n\n<pre><code>apply plugin: 'java'\napply plugin: 'java-library-distribution'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile 'org.apache.commons:commons-lang3:3.3.2'\n}\n\n// Task \"distZip\" added by plugin \"java-library-distribution\":\ndistZip.shouldRunAfter(build)\n\njar {\n    // Keep jar clean:\n    exclude 'META-INF/*.SF', 'META-INF/*.DSA', 'META-INF/*.RSA', 'META-INF/*.MF'\n\n    manifest {\n        attributes 'Main-Class': 'com.somepackage.MainClass',\n                   'Class-Path': configurations.runtime.files.collect { \"lib/$it.name\" }.join(' ')\n    }\n    // How-to add class path:\n    //     https://stackoverflow.com/questions/22659463/add-classpath-in-manifest-using-gradle\n    //     https://gist.github.com/simon04/6865179\n}\n</code></pre>\n\n<p>Hosted as a gist <a href=\"https://gist.github.com/MartinanderssonDotcom/c63675ce87947da1ef4a\" rel=\"noreferrer\">here</a>.</p>\n\n<p>The result can be found in <code>build/distributions</code> and the unzipped contents look like this:</p>\n\n<blockquote>\n  <p>lib/commons-lang3-3.3.2.jar <br>\n  MyJarFile.jar <br></p>\n</blockquote>\n\n<p>Contents of <code>MyJarFile.jar#META-INF/MANIFEST.mf</code>:</p>\n\n<blockquote>\n  <p>Manifest-Version: 1.0 <br>\n  Main-Class: com.somepackage.MainClass <br>\n  Class-Path: lib/commons-lang3-3.3.2.jar <br>\n  <br></p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":7100578,"reputation":2612,"user_id":5432315,"accept_rate":71,"display_name":"Brad Turek"},"score":2,"creation_date":1515606398,"post_id":32473606,"comment_id":83366973,"body_markdown":"Here&#39;s a [full `build.gradle` example](https://gist.github.com/TurekBot/4a3cd406cb52dfd8bfb8022b982f0f6c).","body":"Here&#39;s a <a href=\"https://gist.github.com/TurekBot/4a3cd406cb52dfd8bfb8022b982f0f6c\" rel=\"nofollow noreferrer\">full <code>build.gradle</code> example</a>."},{"owner":{"account_id":2256806,"reputation":2577,"user_id":1987830,"accept_rate":40,"display_name":"Luka Lopusina"},"score":0,"creation_date":1529323681,"post_id":32473606,"comment_id":88818224,"body_markdown":"When I do this build I get BUILD SUCCESSFUL but when I try to run jar file with java -jar build/libs/core-all-1.0.jar I get following error: Error: Could not find or load main class scanners.exchange.Main\nCaused by: java.lang.ClassNotFoundException: scanners.exchange.Main Do you know how I can solve this?","body":"When I do this build I get BUILD SUCCESSFUL but when I try to run jar file with java -jar build/libs/core-all-1.0.jar I get following error: Error: Could not find or load main class scanners.exchange.Main Caused by: java.lang.ClassNotFoundException: scanners.exchange.Main Do you know how I can solve this?"},{"owner":{"account_id":7356800,"reputation":6070,"user_id":5601284,"accept_rate":100,"display_name":"byxor"},"score":0,"creation_date":1570199375,"post_id":32473606,"comment_id":102849412,"body_markdown":"@LukaLopusina The class you specified isn&#39;t in your JAR file. If you&#39;re using kotlin, you need to say `&#39;com.my.app.MainKt&#39;`. Without more info, I can&#39;t help you further.","body":"@LukaLopusina The class you specified isn&#39;t in your JAR file. If you&#39;re using kotlin, you need to say <code>&#39;com.my.app.MainKt&#39;</code>. Without more info, I can&#39;t help you further."},{"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"score":0,"creation_date":1573062161,"post_id":32473606,"comment_id":103761731,"body_markdown":"Current plugin Shadow v5.+ is compatible with Gradle 5.0+ and Java 7+ only.","body":"Current plugin Shadow v5.+ is compatible with Gradle 5.0+ and Java 7+ only."}],"tags":[],"owner":{"account_id":1476086,"reputation":6940,"user_id":1386439,"accept_rate":97,"display_name":"Ostkontentitan"},"comment_count":4,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1560571674,"creation_date":1441784298,"answer_id":32473606,"question_id":21721119,"body_markdown":"Least effort solution for me was to make use of the [gradle-shadow-plugin][1]\r\n\r\nBesides applying the plugin all that needs to be done is: \r\n\r\n Configure the jar task to put your Main class into manifest\r\n\r\n```groovy\r\njar {\r\n  manifest {\r\n   attributes &#39;Main-Class&#39;: &#39;com.my.app.Main&#39;\r\n  }\r\n}\r\n```\r\n\r\n Run the gradle task \r\n\r\n    ./gradlew shadowJar\r\n\r\nTake the ***app-version-all.jar*** from *build/libs/* \r\n\r\nAnd finally execute it via:\r\n\r\n    java -jar app-version-all.jar\r\n\r\n  [1]: https://github.com/johnrengelman/shadow\r\n\r\n","title":"Creating runnable JAR with Gradle","body":"<p>Least effort solution for me was to make use of the <a href=\"https://github.com/johnrengelman/shadow\" rel=\"noreferrer\">gradle-shadow-plugin</a></p>\n\n<p>Besides applying the plugin all that needs to be done is: </p>\n\n<p>Configure the jar task to put your Main class into manifest</p>\n\n<pre><code>jar {\n  manifest {\n   attributes 'Main-Class': 'com.my.app.Main'\n  }\n}\n</code></pre>\n\n<p>Run the gradle task </p>\n\n<pre><code>./gradlew shadowJar\n</code></pre>\n\n<p>Take the <strong><em>app-version-all.jar</em></strong> from <em>build/libs/</em> </p>\n\n<p>And finally execute it via:</p>\n\n<pre><code>java -jar app-version-all.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7424311,"reputation":51,"user_id":5647378,"display_name":"Alex Yavorskiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1449430810,"creation_date":1449430810,"answer_id":34121777,"question_id":21721119,"body_markdown":"Thank you Konstantin, it worked like a charm with few nuances. For some reason, specifying main class as part of jar manifest did not quite work and it wanted the mainClassName attribute instead. Here is a snippet from build.gradle that includes everything to make it work:\r\n\r\n    plugins {\r\n      id &#39;java&#39; \r\n      id &#39;com.github.johnrengelman.shadow&#39; version &#39;1.2.2&#39;\r\n    }\r\n    ...\r\n    ...\r\n    apply plugin: &#39;application&#39;\r\n    apply plugin: &#39;com.github.johnrengelman.shadow&#39;\r\n    ...\r\n    ...\r\n    mainClassName = &#39;com.acme.myapp.MyClassMain&#39;\r\n    ...\r\n    ...\r\n    ...\r\n    shadowJar {\r\n    \tbaseName = &#39;myapp&#39;\r\n    }\r\n\r\nAfter running gradle shadowJar you get myapp-{version}-all.jar in your build folder which can be run as java -jar myapp-{version}-all.jar.","title":"Creating runnable JAR with Gradle","body":"<p>Thank you Konstantin, it worked like a charm with few nuances. For some reason, specifying main class as part of jar manifest did not quite work and it wanted the mainClassName attribute instead. Here is a snippet from build.gradle that includes everything to make it work:</p>\n\n<pre><code>plugins {\n  id 'java' \n  id 'com.github.johnrengelman.shadow' version '1.2.2'\n}\n...\n...\napply plugin: 'application'\napply plugin: 'com.github.johnrengelman.shadow'\n...\n...\nmainClassName = 'com.acme.myapp.MyClassMain'\n...\n...\n...\nshadowJar {\n    baseName = 'myapp'\n}\n</code></pre>\n\n<p>After running gradle shadowJar you get myapp-{version}-all.jar in your build folder which can be run as java -jar myapp-{version}-all.jar.</p>\n"},{"comments":[{"owner":{"account_id":1042817,"reputation":501,"user_id":1048465,"accept_rate":50,"display_name":"carl"},"score":1,"creation_date":1557415612,"post_id":35189253,"comment_id":98765639,"body_markdown":"From 2019: This suggestion does not work here. No dependencies are included in the fatjar","body":"From 2019: This suggestion does not work here. No dependencies are included in the fatjar"}],"tags":[],"owner":{"account_id":5929286,"reputation":419,"user_id":4664279,"display_name":"Sandeep Sarkar"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1454541722,"creation_date":1454539543,"answer_id":35189253,"question_id":21721119,"body_markdown":"I checked quite some links for the solution, finally did the below mentioned steps to get it working. I am using Gradle 2.9.\r\n\r\nMake the following changes in your build,gradle file :\r\n\r\n1. Mention plugin:\r\n\r\n        apply plugin: &#39;eu.appsatori.fatjar&#39;\r\n\r\n2. Provide the Buildscript:\r\n\r\n        buildscript {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n    \r\n        dependencies {\r\n            classpath &quot;eu.appsatori:gradle-fatjar-plugin:0.3&quot;\r\n        }\r\n        }\r\n\r\n3. Provide the Main Class:\r\n\r\n        fatJar {\r\n          classifier &#39;fat&#39;\r\n          manifest {\r\n            attributes &#39;Main-Class&#39;: &#39;my.project.core.MyMainClass&#39;\r\n          }\r\n          exclude &#39;META-INF/*.DSA&#39;, &#39;META-INF/*.RSA&#39;, &#39;META-INF/*.SF&#39;\r\n        }\r\n\r\n4. Create the fatjar: \r\n\r\n        ./gradlew clean fatjar\r\n\r\n5. Run the fatjar from /build/libs/ :\r\n\r\n        java -jar MyFatJar.jar\r\n\r\n\r\n\r\n\r\n\r\n","title":"Creating runnable JAR with Gradle","body":"<p>I checked quite some links for the solution, finally did the below mentioned steps to get it working. I am using Gradle 2.9.</p>\n\n<p>Make the following changes in your build,gradle file :</p>\n\n<ol>\n<li><p>Mention plugin:</p>\n\n<pre><code>apply plugin: 'eu.appsatori.fatjar'\n</code></pre></li>\n<li><p>Provide the Buildscript:</p>\n\n<pre><code>buildscript {\nrepositories {\n    jcenter()\n}\n\ndependencies {\n    classpath \"eu.appsatori:gradle-fatjar-plugin:0.3\"\n}\n}\n</code></pre></li>\n<li><p>Provide the Main Class:</p>\n\n<pre><code>fatJar {\n  classifier 'fat'\n  manifest {\n    attributes 'Main-Class': 'my.project.core.MyMainClass'\n  }\n  exclude 'META-INF/*.DSA', 'META-INF/*.RSA', 'META-INF/*.SF'\n}\n</code></pre></li>\n<li><p>Create the fatjar: </p>\n\n<pre><code>./gradlew clean fatjar\n</code></pre></li>\n<li><p>Run the fatjar from /build/libs/ :</p>\n\n<pre><code>java -jar MyFatJar.jar\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":178949,"reputation":12261,"user_id":411247,"accept_rate":91,"display_name":"Topera"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1577330920,"creation_date":1577330920,"answer_id":59483559,"question_id":21721119,"body_markdown":"You can use the SpringBoot plugin:\r\n\r\n    plugins {\r\n      id &quot;org.springframework.boot&quot; version &quot;2.2.2.RELEASE&quot;\r\n    }\r\n\r\nCreate the jar\r\n\r\n    gradle assemble\r\n\r\nAnd then run it\r\n\r\n    java -jar build/libs/*.jar\r\n\r\nNote: your project does NOT need to be a SpringBoot project to use this plugin.","title":"Creating runnable JAR with Gradle","body":"<p>You can use the SpringBoot plugin:</p>\n\n<pre><code>plugins {\n  id \"org.springframework.boot\" version \"2.2.2.RELEASE\"\n}\n</code></pre>\n\n<p>Create the jar</p>\n\n<pre><code>gradle assemble\n</code></pre>\n\n<p>And then run it</p>\n\n<pre><code>java -jar build/libs/*.jar\n</code></pre>\n\n<p>Note: your project does NOT need to be a SpringBoot project to use this plugin.</p>\n"},{"tags":[],"owner":{"account_id":4392902,"reputation":537,"user_id":3580786,"display_name":"Niraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604199558,"creation_date":1604199558,"answer_id":64628291,"question_id":21721119,"body_markdown":" 1. Configure Main Class to your Manifest\r\n\r\nIf you are using gradle project, just add the following into your build.gradle \r\n\r\n    jar {\r\n        manifest {\r\n            attributes(\r\n                   &#39;Main-Class&#39;: &#39;pokerhandscorer.PokerHandScorer&#39;\r\n            )\r\n        }\r\n    }\r\n- Where &#39;pokerhandscorer&#39; is the name of the package name,\r\n and PokerHandScorer is the main class name\r\n\r\nThis creates a jar file into your \\build\\libs\\{jarFilename}.jar\r\n\r\n\r\n 2. Run jar file using java -jar /{path}/{jarFileName.jar}\r\n\r\n    \r\n\r\n&gt; java -jar /{path}/{jarFileName.jar}\r\n\r\n","title":"Creating runnable JAR with Gradle","body":"<ol>\n<li>Configure Main Class to your Manifest</li>\n</ol>\n<p>If you are using gradle project, just add the following into your build.gradle</p>\n<pre><code>jar {\n    manifest {\n        attributes(\n               'Main-Class': 'pokerhandscorer.PokerHandScorer'\n        )\n    }\n}\n</code></pre>\n<ul>\n<li>Where 'pokerhandscorer' is the name of the package name,\nand PokerHandScorer is the main class name</li>\n</ul>\n<p>This creates a jar file into your \\build\\libs{jarFilename}.jar</p>\n<ol start=\"2\">\n<li>Run jar file using java -jar /{path}/{jarFileName.jar}</li>\n</ol>\n<blockquote>\n<p>java -jar /{path}/{jarFileName.jar}</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605108622,"creation_date":1605098474,"answer_id":64786642,"question_id":21721119,"body_markdown":"Here is the solution I tried with Gradle 6.7\r\n\r\n\r\nRunnable fat Jar (with all dependent libraries copied to the jar)\r\n\r\n    task fatJar(type: Jar) {\r\n       \r\n        manifest {\r\n            attributes &#39;Main-Class&#39;: &#39;com.example.gradle.App&#39;\r\n        }\r\n        from {\r\n            configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\r\n        } with jar\r\n        \r\n    }\r\n \r\nRunnable jar with all dependencies copied to a directory and adding the classpath to the manifest\r\n\r\n \r\n\r\n        def dependsDir = &quot;${buildDir}/libs/dependencies/&quot;\r\n        task copyDependencies(type: Copy) {\r\n            from configurations.compile\r\n            into &quot;${dependsDir}&quot;\r\n        }\r\n        task createJar(dependsOn: copyDependencies, type: Jar) {\r\n          \r\n            manifest {\r\n                attributes(&#39;Main-Class&#39;: &#39;com.example.gradle.App&#39;,\r\n                        &#39;Class-Path&#39;: configurations.compile.collect { &#39;dependencies/&#39; + it.getName() }.join(&#39; &#39;)\r\n                )\r\n            }\r\n            with jar\r\n        }\r\n\r\nHow to use  ?\r\n* Add the above tasks to build.gradle\r\n* Execute `gradle fatJar` //create fatJar\r\n* Execute `gradle createJar` // create jar with dependencies copied.\r\n\r\nMore details : https://jafarmlp.medium.com/a-simple-java-project-with-gradle-2c323ae0e43d","title":"Creating runnable JAR with Gradle","body":"<p>Here is the solution I tried with Gradle 6.7</p>\n<p>Runnable fat Jar (with all dependent libraries copied to the jar)</p>\n<pre><code>task fatJar(type: Jar) {\n   \n    manifest {\n        attributes 'Main-Class': 'com.example.gradle.App'\n    }\n    from {\n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\n    } with jar\n    \n}\n</code></pre>\n<p>Runnable jar with all dependencies copied to a directory and adding the classpath to the manifest</p>\n<pre><code>    def dependsDir = &quot;${buildDir}/libs/dependencies/&quot;\n    task copyDependencies(type: Copy) {\n        from configurations.compile\n        into &quot;${dependsDir}&quot;\n    }\n    task createJar(dependsOn: copyDependencies, type: Jar) {\n      \n        manifest {\n            attributes('Main-Class': 'com.example.gradle.App',\n                    'Class-Path': configurations.compile.collect { 'dependencies/' + it.getName() }.join(' ')\n            )\n        }\n        with jar\n    }\n</code></pre>\n<p>How to use  ?</p>\n<ul>\n<li>Add the above tasks to build.gradle</li>\n<li>Execute <code>gradle fatJar</code> //create fatJar</li>\n<li>Execute <code>gradle createJar</code> // create jar with dependencies copied.</li>\n</ul>\n<p>More details : <a href=\"https://jafarmlp.medium.com/a-simple-java-project-with-gradle-2c323ae0e43d\" rel=\"nofollow noreferrer\">https://jafarmlp.medium.com/a-simple-java-project-with-gradle-2c323ae0e43d</a></p>\n"},{"comments":[{"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"score":0,"creation_date":1644670812,"post_id":70864141,"comment_id":125671243,"body_markdown":"Also, see [this post](https://stackoverflow.com/a/71092054/8583692) to create a new task instead of modifying the existing *Jar* task.","body":"Also, see <a href=\"https://stackoverflow.com/a/71092054/8583692\">this post</a> to create a new task instead of modifying the existing <i>Jar</i> task."}],"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1700395787,"creation_date":1643203558,"answer_id":70864141,"question_id":21721119,"body_markdown":"This is for [Kotlin DSL][1] (build.gradle.**kts**).\r\n\r\n### Method 1 (no need for `application` or other plugins)\r\n\r\n```kotlin\r\ntasks.jar {\r\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\r\n    // OR another notation\r\n    // manifest {\r\n    //     attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\r\n    // }\r\n}\r\n```\r\n  \r\nIf you use any external libraries, use below code. Copy library JARs in *libs* sub-directory of where you put your result JAR. Make sure your library JAR files do not contain space in their file name.\r\n\r\n```kotlin\r\ntasks.jar {\r\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\r\n    manifest.attributes[&quot;Class-Path&quot;] = configurations\r\n        .runtimeClasspath\r\n        .get()\r\n        .joinToString(separator = &quot; &quot;) { file -&gt;\r\n            &quot;libs/${file.name}&quot;\r\n        }\r\n}\r\n```\r\n\r\nNote that Java requires us to use relative URLs for the `Class-Path` attribute. So, we cannot use the absolute path of Gradle dependencies (which is also prone to being changed and not available on other systems). If you want to use absolute paths, maybe [this workaround][2] will work.\r\n\r\nCreate the JAR with the following command:\r\n\r\n```shell\r\n./gradlew jar\r\n```\r\n\r\nThe result JAR will be created in *build/libs/* directory by default.\r\n\r\n### Method 2: Embedding libraries (if any) in the result JAR (fat or uber JAR)\r\n\r\n```kotlin\r\ntasks.jar {\r\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\r\n    val dependencies = configurations\r\n        .runtimeClasspath\r\n        .get()\r\n        .map(::zipTree) // OR .map { zipTree(it) }\r\n    from(dependencies)\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n}\r\n```\r\n\r\nCreating the JAR is exactly the same as the previous method.\r\n\r\n### Method 3: Using the [Shadow plugin][3] (to create a fat or uber JAR)\r\n```kotlin\r\nplugins {\r\n    id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;6.0.0&quot;\r\n}\r\n// Shadow task depends on Jar task, so these will be reflected for Shadow as well\r\ntasks.jar {\r\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;org.example.MainKt&quot;\r\n}\r\n```\r\n\r\nCreate the JAR with this command:\r\n\r\n```shell\r\n./gradlew shadowJar\r\n```\r\n\r\nSee [Shadow documentations][4] for more information about configuring the plugin.\r\n\r\n# Running the created JAR\r\n\r\n```shell\r\njava -jar my-artifact.jar\r\n```\r\n\r\nThe above solutions were tested with:\r\n  - Java 17\r\n  - Gradle 7.1 (which uses Kotlin 1.4.31 for *.kts* build scripts)\r\n\r\nSee the official [Gradle documentation for creating uber (fat) JARs][5].\r\n\r\nFor more information about manifests, see [Oracle Java Documentation: Working with Manifest files](https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html).\r\n\r\nNote that your resource files will be included in the JAR file automatically (assuming they were placed in */src/main/resources/* directory or any custom directory set as resources root in the build file). To access a resource file in your application, use this code (note the `/` at the start of names):\r\n\r\n  - Kotlin\r\n    ```kotlin\r\n    val vegetables = MyClass::class.java.getResource(&quot;/vegetables.txt&quot;).readText()\r\n    // Alternative ways:\r\n    // val vegetables = object{}.javaClass.getResource(&quot;/vegetables.txt&quot;).readText()\r\n    // val vegetables = MyClass::class.java.getResourceAsStream(&quot;/vegetables.txt&quot;).reader().readText()\r\n    // val vegetables = object{}.javaClass.getResourceAsStream(&quot;/vegetables.txt&quot;).reader().readText()\r\n    ```\r\n  - Java\r\n    ```java\r\n    var stream = MyClass.class.getResource(&quot;/vegetables.txt&quot;).openStream();\r\n    // OR var stream = MyClass.class.getResourceAsStream(&quot;/vegetables.txt&quot;);\r\n    var reader = new BufferedReader(new InputStreamReader(stream));\r\n    var vegetables = reader.lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n    ```\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/kotlin_dsl.html\r\n  [2]: https://stackoverflow.com/q/47961942/8583692\r\n  [3]: https://github.com/johnrengelman/shadow\r\n  [4]: https://imperceptiblethoughts.com/shadow/configuration/#configuring-the-jar-manifest\r\n  [5]: https://docs.gradle.org/current/userguide/working_with_files.html#sec:creating_uber_jar_example","title":"Creating runnable JAR with Gradle","body":"<p>This is for <a href=\"https://docs.gradle.org/current/userguide/kotlin_dsl.html\" rel=\"nofollow noreferrer\">Kotlin DSL</a> (build.gradle.<strong>kts</strong>).</p>\n<h3>Method 1 (no need for <code>application</code> or other plugins)</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.jar {\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\n    // OR another notation\n    // manifest {\n    //     attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\n    // }\n}\n</code></pre>\n<p>If you use any external libraries, use below code. Copy library JARs in <em>libs</em> sub-directory of where you put your result JAR. Make sure your library JAR files do not contain space in their file name.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.jar {\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\n    manifest.attributes[&quot;Class-Path&quot;] = configurations\n        .runtimeClasspath\n        .get()\n        .joinToString(separator = &quot; &quot;) { file -&gt;\n            &quot;libs/${file.name}&quot;\n        }\n}\n</code></pre>\n<p>Note that Java requires us to use relative URLs for the <code>Class-Path</code> attribute. So, we cannot use the absolute path of Gradle dependencies (which is also prone to being changed and not available on other systems). If you want to use absolute paths, maybe <a href=\"https://stackoverflow.com/q/47961942/8583692\">this workaround</a> will work.</p>\n<p>Create the JAR with the following command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./gradlew jar\n</code></pre>\n<p>The result JAR will be created in <em>build/libs/</em> directory by default.</p>\n<h3>Method 2: Embedding libraries (if any) in the result JAR (fat or uber JAR)</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks.jar {\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;com.example.MyMainClass&quot;\n    val dependencies = configurations\n        .runtimeClasspath\n        .get()\n        .map(::zipTree) // OR .map { zipTree(it) }\n    from(dependencies)\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n}\n</code></pre>\n<p>Creating the JAR is exactly the same as the previous method.</p>\n<h3>Method 3: Using the <a href=\"https://github.com/johnrengelman/shadow\" rel=\"nofollow noreferrer\">Shadow plugin</a> (to create a fat or uber JAR)</h3>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    id(&quot;com.github.johnrengelman.shadow&quot;) version &quot;6.0.0&quot;\n}\n// Shadow task depends on Jar task, so these will be reflected for Shadow as well\ntasks.jar {\n    manifest.attributes[&quot;Main-Class&quot;] = &quot;org.example.MainKt&quot;\n}\n</code></pre>\n<p>Create the JAR with this command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>./gradlew shadowJar\n</code></pre>\n<p>See <a href=\"https://imperceptiblethoughts.com/shadow/configuration/#configuring-the-jar-manifest\" rel=\"nofollow noreferrer\">Shadow documentations</a> for more information about configuring the plugin.</p>\n<h1>Running the created JAR</h1>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar my-artifact.jar\n</code></pre>\n<p>The above solutions were tested with:</p>\n<ul>\n<li>Java 17</li>\n<li>Gradle 7.1 (which uses Kotlin 1.4.31 for <em>.kts</em> build scripts)</li>\n</ul>\n<p>See the official <a href=\"https://docs.gradle.org/current/userguide/working_with_files.html#sec:creating_uber_jar_example\" rel=\"nofollow noreferrer\">Gradle documentation for creating uber (fat) JARs</a>.</p>\n<p>For more information about manifests, see <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/manifestindex.html\" rel=\"nofollow noreferrer\">Oracle Java Documentation: Working with Manifest files</a>.</p>\n<p>Note that your resource files will be included in the JAR file automatically (assuming they were placed in <em>/src/main/resources/</em> directory or any custom directory set as resources root in the build file). To access a resource file in your application, use this code (note the <code>/</code> at the start of names):</p>\n<ul>\n<li>Kotlin\n<pre class=\"lang-kotlin prettyprint-override\"><code>val vegetables = MyClass::class.java.getResource(&quot;/vegetables.txt&quot;).readText()\n// Alternative ways:\n// val vegetables = object{}.javaClass.getResource(&quot;/vegetables.txt&quot;).readText()\n// val vegetables = MyClass::class.java.getResourceAsStream(&quot;/vegetables.txt&quot;).reader().readText()\n// val vegetables = object{}.javaClass.getResourceAsStream(&quot;/vegetables.txt&quot;).reader().readText()\n</code></pre>\n</li>\n<li>Java\n<pre class=\"lang-java prettyprint-override\"><code>var stream = MyClass.class.getResource(&quot;/vegetables.txt&quot;).openStream();\n// OR var stream = MyClass.class.getResourceAsStream(&quot;/vegetables.txt&quot;);\nvar reader = new BufferedReader(new InputStreamReader(stream));\nvar vegetables = reader.lines().collect(Collectors.joining(&quot;\\n&quot;));\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":1028416,"reputation":5052,"user_id":1037206,"accept_rate":54,"display_name":"Hannes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313805,"favorite_count":0,"down_vote_count":2,"up_vote_count":197,"accepted_answer_id":21721305,"answer_count":12,"score":195,"last_activity_date":1700395787,"creation_date":1392189344,"question_id":21721119,"body_markdown":"Until now I created runnable JAR files via the Eclipse &quot;Export...&quot; functionallity but now I switched to IntelliJ IDEA and Gradle for build automation.\r\n\r\nSome articles here suggest the &quot;application&quot; plugin, but this does not entirely lead to the result I expected (just a JAR, no start scripts or anything like this).\r\n\r\nHow can I achieve the same result Eclipse does with the &quot;Export...&quot; dialog?","title":"Creating runnable JAR with Gradle","body":"<p>Until now I created runnable JAR files via the Eclipse \"Export...\" functionallity but now I switched to IntelliJ IDEA and Gradle for build automation.</p>\n\n<p>Some articles here suggest the \"application\" plugin, but this does not entirely lead to the result I expected (just a JAR, no start scripts or anything like this).</p>\n\n<p>How can I achieve the same result Eclipse does with the \"Export...\" dialog?</p>\n"},{"tags":["java","android","parcel"],"answers":[{"comments":[{"owner":{"account_id":2406407,"reputation":3654,"user_id":2102748,"accept_rate":100,"display_name":"milosmns"},"score":3,"creation_date":1527808546,"post_id":33504305,"comment_id":88278223,"body_markdown":"You might not want to move this to Android tests - it would require having devices attached or using Robolectric (or similar tools) which creates a big test dependency you might not like introducing for this one use-case only. So, if you want a JUnit-only solution, you probably want to fake the Parcel implementation on your own and use that in your tests - https://stackoverflow.com/a/50634063/2102748","body":"You might not want to move this to Android tests - it would require having devices attached or using Robolectric (or similar tools) which creates a big test dependency you might not like introducing for this one use-case only. So, if you want a JUnit-only solution, you probably want to fake the Parcel implementation on your own and use that in your tests - <a href=\"https://stackoverflow.com/a/50634063/2102748\">stackoverflow.com/a/50634063/2102748</a>"},{"owner":{"account_id":2406407,"reputation":3654,"user_id":2102748,"accept_rate":100,"display_name":"milosmns"},"score":1,"creation_date":1527808588,"post_id":33504305,"comment_id":88278234,"body_markdown":"Not saying that there is anything wrong with doing it through Android tests with Robolectric, but a simple JUnit solution might suffice for some (my case as well) :)","body":"Not saying that there is anything wrong with doing it through Android tests with Robolectric, but a simple JUnit solution might suffice for some (my case as well) :)"}],"tags":[],"owner":{"account_id":5346091,"reputation":3706,"user_id":4261613,"accept_rate":74,"display_name":"Mikhail"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1446568232,"creation_date":1446568232,"answer_id":33504305,"question_id":31969224,"body_markdown":"I&#39;ve had the same issue. However after I moved the test from `test` directory to `androidTest` directory everything started working fine. I think this is due to the fact that `Parcel` class is system one, so it needs to be instrumented as well.","title":"Android Parcel.obtain() returns null?","body":"<p>I've had the same issue. However after I moved the test from <code>test</code> directory to <code>androidTest</code> directory everything started working fine. I think this is due to the fact that <code>Parcel</code> class is system one, so it needs to be instrumented as well.</p>\n"},{"comments":[{"owner":{"account_id":6505709,"reputation":288,"user_id":5034694,"display_name":"Chris Li"},"score":1,"creation_date":1527214719,"post_id":49113331,"comment_id":88053525,"body_markdown":"Try newer version of Robolectric and see if it better supports Parcel, I saw this as improvement: https://github.com/robolectric/robolectric/blob/master/shadows/framework/src/main/java/org/robolectric/shadows/ShadowParcel.java","body":"Try newer version of Robolectric and see if it better supports Parcel, I saw this as improvement: <a href=\"https://github.com/robolectric/robolectric/blob/master/shadows/framework/src/main/java/org/robolectric/shadows/ShadowParcel.java\" rel=\"nofollow noreferrer\">github.com/robolectric/robolectric/blob/master/shadows/&hellip;</a>"}],"tags":[],"owner":{"account_id":3627756,"reputation":750,"user_id":3024878,"accept_rate":0,"display_name":"Miguel Sesma"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520262087,"creation_date":1520262087,"answer_id":49113331,"question_id":31969224,"body_markdown":"Parcel is in the Android framework, so your test will only work using Expresso as Mikhail comments, or using Robolectric as the test runner.\r\n\r\nRobolectric mocks the Android.jar and allow this kind of testing, but consider that you will be unit testing Android code...","title":"Android Parcel.obtain() returns null?","body":"<p>Parcel is in the Android framework, so your test will only work using Expresso as Mikhail comments, or using Robolectric as the test runner.</p>\n\n<p>Robolectric mocks the Android.jar and allow this kind of testing, but consider that you will be unit testing Android code...</p>\n"},{"comments":[{"owner":{"account_id":237170,"reputation":18509,"user_id":505152,"accept_rate":72,"display_name":"htafoya"},"score":1,"creation_date":1619120055,"post_id":50634063,"comment_id":118815971,"body_markdown":"Nice Guide, your kotlin code has some flaws dealing with Nulls but it directed me into the correct approach, thanks! :)","body":"Nice Guide, your kotlin code has some flaws dealing with Nulls but it directed me into the correct approach, thanks! :)"},{"owner":{"account_id":2111091,"reputation":1371,"user_id":1876359,"accept_rate":78,"display_name":"ocramot"},"score":0,"creation_date":1662200078,"post_id":50634063,"comment_id":129954380,"body_markdown":"....aaaand it&#39;s a 404 now. :(","body":"....aaaand it&#39;s a 404 now. :("},{"owner":{"account_id":2406407,"reputation":3654,"user_id":2102748,"accept_rate":100,"display_name":"milosmns"},"score":0,"creation_date":1662289577,"post_id":50634063,"comment_id":129967602,"body_markdown":"@htafoya feel free to edit, it&#39;s a snippet now","body":"@htafoya feel free to edit, it&#39;s a snippet now"},{"owner":{"account_id":2406407,"reputation":3654,"user_id":2102748,"accept_rate":100,"display_name":"milosmns"},"score":1,"creation_date":1662289613,"post_id":50634063,"comment_id":129967605,"body_markdown":"@ocramot see now :)","body":"@ocramot see now :)"},{"owner":{"account_id":1754549,"reputation":1124,"user_id":1602887,"accept_rate":17,"display_name":"Ben-J"},"score":0,"creation_date":1665587110,"post_id":50634063,"comment_id":130736832,"body_markdown":"&quot;whenever&quot; is in face &quot;Mockito.`when`&quot; in Kotlin ;)","body":"&quot;whenever&quot; is in face &quot;Mockito.<code>when</code>&quot; in Kotlin ;)"}],"tags":[],"owner":{"account_id":2406407,"reputation":3654,"user_id":2102748,"accept_rate":100,"display_name":"milosmns"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1662289541,"creation_date":1527808385,"answer_id":50634063,"question_id":31969224,"body_markdown":"To avoid going to Robolectric or instrumentation altogether, e.g. you want to use JUnit only with no devices attached, you can use Mockito to mock everything inside of the Parcel.\r\n\r\nI have a simple implementation and I use it across many of my projects:\r\n\r\n```kotlin\r\n// Mockito is required for this to work\r\nclass ParcelFake {\r\n\r\n  companion object {\r\n    @JvmStatic fun obtain(): Parcel {\r\n      return ParcelFake().mock\r\n    }\r\n  }\r\n\r\n  private var position = 0\r\n  private var store = mutableListOf&lt;Any&gt;()\r\n  private var mock = mock&lt;Parcel&gt;()\r\n\r\n  init {\r\n    setupWrites()\r\n    setupReads()\r\n    setupOthers()\r\n  }\r\n\r\n  // uncomment when needed for the first time\r\n  private fun setupWrites() {\r\n    val answer = { i: InvocationOnMock -&gt;\r\n      with(store) {\r\n        add(i.arguments[0])\r\n        get(lastIndex)\r\n      }\r\n    }\r\n    whenever(mock.writeByte(anyByte())).thenAnswer(answer)\r\n    whenever(mock.writeInt(anyInt())).thenAnswer(answer)\r\n    whenever(mock.writeString(anyString())).thenAnswer(answer)\r\n    // whenever(mock.writeLong(anyLong())).thenAnswer(answer)\r\n    // whenever(mock.writeFloat(anyFloat())).thenAnswer(answer)\r\n    // whenever(mock.writeDouble(anyDouble())).thenAnswer(answer)\r\n  }\r\n\r\n  // uncomment when needed for the first time\r\n  private fun setupReads() {\r\n    val answer = { _: InvocationOnMock -&gt; store[position++] }\r\n    whenever(mock.readByte()).thenAnswer(answer)\r\n    whenever(mock.readInt()).thenAnswer(answer)\r\n    whenever(mock.readString()).thenAnswer(answer)\r\n    // whenever(mock.readLong()).thenAnswer(answer)\r\n    // whenever(mock.readFloat()).thenAnswer(answer)\r\n    // whenever(mock.readDouble()).thenAnswer(answer)\r\n  }\r\n\r\n  private fun setupOthers() {\r\n    val answer = { i: InvocationOnMock -&gt;\r\n      position = i.arguments[0] as Int\r\n      null\r\n    }\r\n    whenever(mock.setDataPosition(anyInt()))\r\n      .thenAnswer(answer)\r\n  }\r\n}\r\n\r\n```\r\n\r\nThe basic idea is to have a backing storage (i.e. a list) and push everything into it - but you do need to mock a Parcel internally using Mockito to get this to work. I commented out some data types, but I assume you&#39;ll get the idea.\r\n\r\nThis is a result of reading through docs and trying out various approaches. Any edits are welcome.","title":"Android Parcel.obtain() returns null?","body":"<p>To avoid going to Robolectric or instrumentation altogether, e.g. you want to use JUnit only with no devices attached, you can use Mockito to mock everything inside of the Parcel.</p>\n<p>I have a simple implementation and I use it across many of my projects:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Mockito is required for this to work\nclass ParcelFake {\n\n  companion object {\n    @JvmStatic fun obtain(): Parcel {\n      return ParcelFake().mock\n    }\n  }\n\n  private var position = 0\n  private var store = mutableListOf&lt;Any&gt;()\n  private var mock = mock&lt;Parcel&gt;()\n\n  init {\n    setupWrites()\n    setupReads()\n    setupOthers()\n  }\n\n  // uncomment when needed for the first time\n  private fun setupWrites() {\n    val answer = { i: InvocationOnMock -&gt;\n      with(store) {\n        add(i.arguments[0])\n        get(lastIndex)\n      }\n    }\n    whenever(mock.writeByte(anyByte())).thenAnswer(answer)\n    whenever(mock.writeInt(anyInt())).thenAnswer(answer)\n    whenever(mock.writeString(anyString())).thenAnswer(answer)\n    // whenever(mock.writeLong(anyLong())).thenAnswer(answer)\n    // whenever(mock.writeFloat(anyFloat())).thenAnswer(answer)\n    // whenever(mock.writeDouble(anyDouble())).thenAnswer(answer)\n  }\n\n  // uncomment when needed for the first time\n  private fun setupReads() {\n    val answer = { _: InvocationOnMock -&gt; store[position++] }\n    whenever(mock.readByte()).thenAnswer(answer)\n    whenever(mock.readInt()).thenAnswer(answer)\n    whenever(mock.readString()).thenAnswer(answer)\n    // whenever(mock.readLong()).thenAnswer(answer)\n    // whenever(mock.readFloat()).thenAnswer(answer)\n    // whenever(mock.readDouble()).thenAnswer(answer)\n  }\n\n  private fun setupOthers() {\n    val answer = { i: InvocationOnMock -&gt;\n      position = i.arguments[0] as Int\n      null\n    }\n    whenever(mock.setDataPosition(anyInt()))\n      .thenAnswer(answer)\n  }\n}\n\n</code></pre>\n<p>The basic idea is to have a backing storage (i.e. a list) and push everything into it - but you do need to mock a Parcel internally using Mockito to get this to work. I commented out some data types, but I assume you'll get the idea.</p>\n<p>This is a result of reading through docs and trying out various approaches. Any edits are welcome.</p>\n"},{"tags":[],"owner":{"account_id":16328337,"reputation":81,"user_id":11792371,"display_name":"Youssef Amine AMIMI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700395189,"creation_date":1700395189,"answer_id":77510680,"question_id":31969224,"body_markdown":"You have to add runner to your TestClass :\r\n\r\n    @RunWith(AndroidJUnit4::class)\r\n    class TestClass {\r\n    \r\n    }","title":"Android Parcel.obtain() returns null?","body":"<p>You have to add runner to your TestClass :</p>\n<pre><code>@RunWith(AndroidJUnit4::class)\nclass TestClass {\n\n}\n</code></pre>\n"}],"owner":{"account_id":1993130,"reputation":71,"user_id":1786682,"display_name":"Michael Schrempp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5157,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1700395189,"creation_date":1439392478,"question_id":31969224,"body_markdown":"i am just developing an Android Application (API 15) and got the following Problem, when trying to write a unit test:\r\n\r\nI use android.os.Parcel for saving a class (e.g. if the screen is turned around) and send it to another Activity. If i try to unit test the Parcel Method like this (i got this from the internet):\r\n\r\n    @Test\r\n    public void testParcel() {\r\n        Comment test = new Comment();\r\n        test.setId(testNr0Id);\r\n        test.setComment(testNr0String);\r\n\r\n\r\n        // Obtain a Parcel object and write the parcelable object to it:\r\n        Parcel parcel = Parcel.obtain();\r\n        test.writeToParcel(parcel, 0);\r\n\r\n        // After you&#39;re done with writing, you need to reset the parcel for reading:\r\n        parcel.setDataPosition(0);\r\n\r\n        // Reconstruct object from parcel and asserts:\r\n        Comment createdFromParcel = Comment.CREATOR.createFromParcel(parcel);\r\n        assertEquals(test, createdFromParcel);\r\n    }\r\n\r\nthen i get a NullPointerException, because the Parcel returned from Parcel.obtain() is null. The JavaDoc is just saying that this Method &quot;returns an parcel Object from the pool&quot;. Now my question is: Which pool? And why is this Parcel-Object null? Any suggestions how to make this test run?\r\n\r\nThanks for your help\r\n\r\nMichael","title":"Android Parcel.obtain() returns null?","body":"<p>i am just developing an Android Application (API 15) and got the following Problem, when trying to write a unit test:</p>\n\n<p>I use android.os.Parcel for saving a class (e.g. if the screen is turned around) and send it to another Activity. If i try to unit test the Parcel Method like this (i got this from the internet):</p>\n\n<pre><code>@Test\npublic void testParcel() {\n    Comment test = new Comment();\n    test.setId(testNr0Id);\n    test.setComment(testNr0String);\n\n\n    // Obtain a Parcel object and write the parcelable object to it:\n    Parcel parcel = Parcel.obtain();\n    test.writeToParcel(parcel, 0);\n\n    // After you're done with writing, you need to reset the parcel for reading:\n    parcel.setDataPosition(0);\n\n    // Reconstruct object from parcel and asserts:\n    Comment createdFromParcel = Comment.CREATOR.createFromParcel(parcel);\n    assertEquals(test, createdFromParcel);\n}\n</code></pre>\n\n<p>then i get a NullPointerException, because the Parcel returned from Parcel.obtain() is null. The JavaDoc is just saying that this Method \"returns an parcel Object from the pool\". Now my question is: Which pool? And why is this Parcel-Object null? Any suggestions how to make this test run?</p>\n\n<p>Thanks for your help</p>\n\n<p>Michael</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":4148701,"reputation":15584,"user_id":3924118,"accept_rate":35,"display_name":"nbro"},"score":2,"creation_date":1521207514,"post_id":37499307,"comment_id":85645363,"body_markdown":"See also: https://stackoverflow.com/q/4989063/3924118.","body":"See also: <a href=\"https://stackoverflow.com/q/4989063/3924118\">stackoverflow.com/q/4989063/3924118</a>."}],"answers":[{"comments":[{"owner":{"account_id":4148701,"reputation":15584,"user_id":3924118,"accept_rate":35,"display_name":"nbro"},"score":0,"creation_date":1464440813,"post_id":37499336,"comment_id":62493699,"body_markdown":"So, my consequent question is: how does spring differentiate between sessions, and users? I guess this requires a deeper understanding of Spring...","body":"So, my consequent question is: how does spring differentiate between sessions, and users? I guess this requires a deeper understanding of Spring..."},{"owner":{"account_id":4148701,"reputation":15584,"user_id":3924118,"accept_rate":35,"display_name":"nbro"},"score":0,"creation_date":1464442687,"post_id":37499336,"comment_id":62494289,"body_markdown":"Thanks! Nice answer. I have just one doubt which comes from my reduced experience in creating web applications, etc. But before let me try to explain what I think I know. From what I&#39;ve learnt, HTTP requests can be enhanced with a session IDs. This information is probably used by Tomcat (or whatever) to differentiate between users and requests. Principal is the current logged in user for the current context. To understand that there&#39;s a logged in user (a principal), a session number must probably be associated with it.","body":"Thanks! Nice answer. I have just one doubt which comes from my reduced experience in creating web applications, etc. But before let me try to explain what I think I know. From what I&#39;ve learnt, HTTP requests can be enhanced with a session IDs. This information is probably used by Tomcat (or whatever) to differentiate between users and requests. Principal is the current logged in user for the current context. To understand that there&#39;s a logged in user (a principal), a session number must probably be associated with it."},{"owner":{"account_id":4148701,"reputation":15584,"user_id":3924118,"accept_rate":35,"display_name":"nbro"},"score":0,"creation_date":1464442698,"post_id":37499336,"comment_id":62494294,"body_markdown":"Now, suppose that I&#39;ve two logged in users called `root` and `admin` and I&#39;ve a controller whose request mapping is `/users/{username}`.\nSuppose further that `root` is playing with his account on the client side at the URL `www.host.com:3000/users/root`. \nAt this point, I guess a session ID has already been generated for root. If it now tries to do a request to `www.host.com:3000/users/admin`,\nby changing for example the URL manually, and admin is also connected and logged in from another machine, what would happen in this case?","body":"Now, suppose that I&#39;ve two logged in users called <code>root</code> and <code>admin</code> and I&#39;ve a controller whose request mapping is <code>&#47;users&#47;{username}</code>. Suppose further that <code>root</code> is playing with his account on the client side at the URL <code>www.host.com:3000&#47;users&#47;root</code>.  At this point, I guess a session ID has already been generated for root. If it now tries to do a request to <code>www.host.com:3000&#47;users&#47;admin</code>, by changing for example the URL manually, and admin is also connected and logged in from another machine, what would happen in this case?"},{"owner":{"account_id":4148701,"reputation":15584,"user_id":3924118,"accept_rate":35,"display_name":"nbro"},"score":0,"creation_date":1464442700,"post_id":37499336,"comment_id":62494295,"body_markdown":"I guess this would not be allowed by the server because the request does probably not contain the right information, i.e. the right session id?","body":"I guess this would not be allowed by the server because the request does probably not contain the right information, i.e. the right session id?"},{"owner":{"account_id":1246120,"reputation":768,"user_id":1207540,"accept_rate":82,"display_name":"Glen Mazza"},"score":2,"creation_date":1464501235,"post_id":37499336,"comment_id":62507761,"body_markdown":"@nbro With RestController just need to add the Principal arg [like here](https://github.com/gmazza/tightblog/blob/trunk/app/src/main/java/org/apache/roller/weblogger/ui/restapi/UserController.java#L95), Spring will automatically populate it, and you can do whatever security checking desired.  (e.g., if P is &quot;root&quot; but is trying to see &quot;admins&quot; page throw a 403 error but allow it he&#39;s trying to his page.)  See Section 15.3.2.3 [here](http://docs.spring.io/spring-framework/docs/3.0.x/reference/mvc.html) for all the arguments you can choose that Spring will populate for you automatically.","body":"@nbro With RestController just need to add the Principal arg <a href=\"https://github.com/gmazza/tightblog/blob/trunk/app/src/main/java/org/apache/roller/weblogger/ui/restapi/UserController.java#L95\" rel=\"nofollow noreferrer\">like here</a>, Spring will automatically populate it, and you can do whatever security checking desired.  (e.g., if P is &quot;root&quot; but is trying to see &quot;admins&quot; page throw a 403 error but allow it he&#39;s trying to his page.)  See Section 15.3.2.3 <a href=\"http://docs.spring.io/spring-framework/docs/3.0.x/reference/mvc.html\" rel=\"nofollow noreferrer\">here</a> for all the arguments you can choose that Spring will populate for you automatically."},{"owner":{"account_id":2508599,"reputation":374,"user_id":2181576,"display_name":"veritas"},"score":0,"creation_date":1651993101,"post_id":37499336,"comment_id":127494655,"body_markdown":"@GlenMazza github link you shared is broken","body":"@GlenMazza github link you shared is broken"}],"tags":[],"owner":{"account_id":44871,"reputation":22865,"user_id":131929,"accept_rate":83,"display_name":"Marcel St&#246;r"},"comment_count":6,"down_vote_count":1,"up_vote_count":136,"is_accepted":true,"score":135,"last_activity_date":1700394060,"creation_date":1464440589,"answer_id":37499336,"question_id":37499307,"body_markdown":"The principal _is_ the currently logged in user. However, you retrieve it through the security context which is bound to the current thread and as such, it&#39;s also bound to the current request and its session.\r\n\r\n`SecurityContextHolder.getContext()` internally obtains the current `SecurityContext` implementation through a `ThreadLocal` variable. As a request is bound to a single thread this will get you the context of the _current request_.\r\n\r\nTo simplify you could say that the security context is in the session and contains user/principal and roles/authorities.\r\n\r\n&gt; How do I retrieve a specific user?\r\n\r\nYou don&#39;t. All APIs are designed to allow access to the user &amp; session of the _current request_. \r\n\r\nLet user A be one of 100 currently authenticated users. If A issues a request against your server, the server will allocate one thread to process that request. If you then do `SecurityContextHolder.getContext().getAuthentication()` you do so in the context of this thread. From within that thread you don&#39;t have access to the context of user B which is processed by a different thread.\r\n\r\n&gt; And how do I differentiate between users that are doing requests?\r\n\r\nYou don&#39;t have to, that&#39;s what the Servlet container does for you.","title":"What&#39;s the &quot;principal&quot; in Spring Security?","body":"<p>The principal <em>is</em> the currently logged in user. However, you retrieve it through the security context which is bound to the current thread and as such, it's also bound to the current request and its session.</p>\n<p><code>SecurityContextHolder.getContext()</code> internally obtains the current <code>SecurityContext</code> implementation through a <code>ThreadLocal</code> variable. As a request is bound to a single thread this will get you the context of the <em>current request</em>.</p>\n<p>To simplify you could say that the security context is in the session and contains user/principal and roles/authorities.</p>\n<blockquote>\n<p>How do I retrieve a specific user?</p>\n</blockquote>\n<p>You don't. All APIs are designed to allow access to the user &amp; session of the <em>current request</em>.</p>\n<p>Let user A be one of 100 currently authenticated users. If A issues a request against your server, the server will allocate one thread to process that request. If you then do <code>SecurityContextHolder.getContext().getAuthentication()</code> you do so in the context of this thread. From within that thread you don't have access to the context of user B which is processed by a different thread.</p>\n<blockquote>\n<p>And how do I differentiate between users that are doing requests?</p>\n</blockquote>\n<p>You don't have to, that's what the Servlet container does for you.</p>\n"},{"tags":[],"owner":{"account_id":13261077,"reputation":2382,"user_id":9575631,"display_name":"Ousama"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1606720692,"creation_date":1606720692,"answer_id":65069419,"question_id":37499307,"body_markdown":"**Brief definition of Principal:**\r\n\r\nA **Principal** represents a user&#39;s identity.\r\n\r\nIt can be a String object having username on a simple level or a complex **UserDetails** object.","title":"What&#39;s the &quot;principal&quot; in Spring Security?","body":"<p><strong>Brief definition of Principal:</strong></p>\n<p>A <strong>Principal</strong> represents a user's identity.</p>\n<p>It can be a String object having username on a simple level or a complex <strong>UserDetails</strong> object.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1630873450,"creation_date":1630873450,"answer_id":69066940,"question_id":37499307,"body_markdown":"Principal is just an old interface from **Java SE 6**.\r\n\r\nAs all interfaces without default implementation **it simple** **defines some methods** **which are required to be implemented by the class which will implement that interface**.\r\n\r\nThose methods are\r\n\r\n    boolean\t equals(Object another)\r\n              Compares this principal to the specified object.\r\n\r\n    String\t getName()\r\n              Returns the name of this principal.\r\n\r\n    int\t     hashCode()\r\n              Returns a hashcode for this principal.\r\n\r\n    String\t toString()\r\n              Returns a string representation of this principal.\r\n\r\nAs the [Java Doc][1] states :\r\n\r\n&gt; This interface represents the abstract notion of a principal, **which\r\n&gt; can be used to represent any entity, such as an individual, a\r\n&gt; corporation, and a login id**.\r\n\r\nIn simple terms it is just used so that the implementer will have to implement this interface in a way that he makes an entity uniquely distingueed between other entities. Also the `getName()` will have to return a value by which one specific entity is uniquely identified and does not collide with other entities. \r\nSo if the `Principal` which is used is of type `UserDetails` then the `getName()` of `Principal` returns the `UserName` of `UserDetails`.\r\n\r\nIf we see the implementation that Spring uses for `AbstractAuthenticationToken.class` :\r\n\r\n \r\n\r\n    public String getName() {\r\n            if (this.getPrincipal() instanceof UserDetails) {\r\n                return ((UserDetails)this.getPrincipal()).getUsername();\r\n            } else if (this.getPrincipal() instanceof AuthenticatedPrincipal) {\r\n                return ((AuthenticatedPrincipal)this.getPrincipal()).getName();\r\n            } else if (this.getPrincipal() instanceof Principal) {\r\n                return ((Principal)this.getPrincipal()).getName();\r\n            } else {\r\n                return this.getPrincipal() == null ? &quot;&quot; : this.getPrincipal().toString();\r\n            }\r\n        }\r\n\r\nAlso is important to mention: \r\n\r\n`abstract class AbstractAuthenticationToken implements Authentication` and\r\n\r\n`interface Authentication extends Principal`\r\n\r\n`Principal` Interface also ensures that the implementer will implement `equals()` and `hashCode()` which makes much sense because the entity of Principal that represents an Organization or a Company or a Person must have some way of being compared with other entities.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true","title":"What&#39;s the &quot;principal&quot; in Spring Security?","body":"<p>Principal is just an old interface from <strong>Java SE 6</strong>.</p>\n<p>As all interfaces without default implementation <strong>it simple</strong> <strong>defines some methods</strong> <strong>which are required to be implemented by the class which will implement that interface</strong>.</p>\n<p>Those methods are</p>\n<pre><code>boolean  equals(Object another)\n          Compares this principal to the specified object.\n\nString   getName()\n          Returns the name of this principal.\n\nint      hashCode()\n          Returns a hashcode for this principal.\n\nString   toString()\n          Returns a string representation of this principal.\n</code></pre>\n<p>As the <a href=\"https://docs.oracle.com/javase/6/docs/api/java/security/Principal.html?is-external=true\" rel=\"nofollow noreferrer\">Java Doc</a> states :</p>\n<blockquote>\n<p>This interface represents the abstract notion of a principal, <strong>which\ncan be used to represent any entity, such as an individual, a\ncorporation, and a login id</strong>.</p>\n</blockquote>\n<p>In simple terms it is just used so that the implementer will have to implement this interface in a way that he makes an entity uniquely distingueed between other entities. Also the <code>getName()</code> will have to return a value by which one specific entity is uniquely identified and does not collide with other entities.\nSo if the <code>Principal</code> which is used is of type <code>UserDetails</code> then the <code>getName()</code> of <code>Principal</code> returns the <code>UserName</code> of <code>UserDetails</code>.</p>\n<p>If we see the implementation that Spring uses for <code>AbstractAuthenticationToken.class</code> :</p>\n<pre><code>public String getName() {\n        if (this.getPrincipal() instanceof UserDetails) {\n            return ((UserDetails)this.getPrincipal()).getUsername();\n        } else if (this.getPrincipal() instanceof AuthenticatedPrincipal) {\n            return ((AuthenticatedPrincipal)this.getPrincipal()).getName();\n        } else if (this.getPrincipal() instanceof Principal) {\n            return ((Principal)this.getPrincipal()).getName();\n        } else {\n            return this.getPrincipal() == null ? &quot;&quot; : this.getPrincipal().toString();\n        }\n    }\n</code></pre>\n<p>Also is important to mention:</p>\n<p><code>abstract class AbstractAuthenticationToken implements Authentication</code> and</p>\n<p><code>interface Authentication extends Principal</code></p>\n<p><code>Principal</code> Interface also ensures that the implementer will implement <code>equals()</code> and <code>hashCode()</code> which makes much sense because the entity of Principal that represents an Organization or a Company or a Person must have some way of being compared with other entities.</p>\n"}],"owner":{"account_id":4148701,"reputation":15584,"user_id":3924118,"accept_rate":35,"display_name":"nbro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93948,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"accepted_answer_id":37499336,"answer_count":3,"score":85,"last_activity_date":1700394060,"creation_date":1464440386,"question_id":37499307,"body_markdown":"I&#39;m really new to Spring and Spring Security. I was reading about Spring Security and it came out the concept of _principal_, which should be the current logged user. But what if we have more than one current logged user? So, my question is, what exactly is then the principal in spring security?\r\n\r\nI&#39;ve read for example this tutorial:\r\n\r\n&gt; http://www.mkyong.com/spring-security/get-current-logged-in-username-in-spring-security/\r\n\r\nand they seem to take into account that there&#39;s just one current logged user, which isn&#39;t often the case.\r\n\r\nHow do I retrieve a specific user? And how do I differentiate between users that are doing requests?","title":"What&#39;s the &quot;principal&quot; in Spring Security?","body":"<p>I'm really new to Spring and Spring Security. I was reading about Spring Security and it came out the concept of <em>principal</em>, which should be the current logged user. But what if we have more than one current logged user? So, my question is, what exactly is then the principal in spring security?</p>\n\n<p>I've read for example this tutorial:</p>\n\n<blockquote>\n  <p><a href=\"http://www.mkyong.com/spring-security/get-current-logged-in-username-in-spring-security/\" rel=\"noreferrer\">http://www.mkyong.com/spring-security/get-current-logged-in-username-in-spring-security/</a></p>\n</blockquote>\n\n<p>and they seem to take into account that there's just one current logged user, which isn't often the case.</p>\n\n<p>How do I retrieve a specific user? And how do I differentiate between users that are doing requests?</p>\n"},{"tags":["java","string","new-operator","pool"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1565272498,"post_id":57414169,"comment_id":101308647,"body_markdown":"it&#39;s the latter unless you use `intern()` on it.","body":"it&#39;s the latter unless you use <code>intern()</code> on it."},{"owner":{"account_id":5871401,"reputation":2092,"user_id":4935554,"accept_rate":40,"display_name":"Ng Sharma"},"score":0,"creation_date":1565272598,"post_id":57414169,"comment_id":101308712,"body_markdown":"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.3.3","body":"<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.3.3\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.3&zwnj;&#8203;.3</a>"}],"answers":[{"comments":[{"owner":{"account_id":15586524,"reputation":1970,"user_id":11244881,"display_name":"SKumar"},"score":0,"creation_date":1604225922,"post_id":57414694,"comment_id":114276735,"body_markdown":"creating a String using literal doesn&#39;t neccessarily means that it is a constant. Isn&#39;t it ? So, why should it exist in constant pool ?","body":"creating a String using literal doesn&#39;t neccessarily means that it is a constant. Isn&#39;t it ? So, why should it exist in constant pool ?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1604226641,"post_id":57414694,"comment_id":114276909,"body_markdown":"Please read the start of the my answer.  The constant pool refers to things in the class file that the JVM specifications calls constants.  This is nothing to do with `final` ... though there is a relationship with *constant expressions*.  A string literal is a constant expression.","body":"Please read the start of the my answer.  The constant pool refers to things in the class file that the JVM specifications calls constants.  This is nothing to do with <code>final</code> ... though there is a relationship with <i>constant expressions</i>.  A string literal is a constant expression."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1699627513,"creation_date":1565273752,"answer_id":57414694,"question_id":57414169,"body_markdown":"Terminology:\r\n\r\n  - The Constant Pool is an area in (each) .class file that contains various constants, including strings.   No *runtime* objects exist in the constant pool.   It is a region of a *file*.\r\n\r\n  - The String Pool is a runtime data structure used by the JVM to manage certain kinds of strings.  (Specifically, `String` objects that correspond to literals, and `String` objects added to the pool by `String::intern()`.)\r\n\r\nYour question is actually talking about the String Pool, not the Constant Pool.\r\n\r\n------------------\r\n\r\nTo answer your questions:\r\n\r\n&gt; String pool - do String always exist in constant pool?\r\n\r\nNo.   A string object created using `new String()` doesn&#39;t exist in either the string pool or the constant pool.\r\n\r\n&gt; When string is created by using literal, it gets stored in pool. \r\n\r\nThe string (which is represented in the constant pool of a classfile being loaded) is created as a `String` object and added to the string pool.  (These steps happen before or as the literal is first used by Java code, and the precise details vary depending on the JVM implementation.)\r\n\r\n&gt; But when `new` operator is used to create String object, it stores the object in Heap.\r\n\r\nYes.  But the string pool is also part of the Heap.  Like I said, it is a data structure, not a region of storage.\r\n\r\n(In the old days, the string pool lived in a special heap called the PermGen heap.  But PermGen was replaced with something else (MetaSpace), and the string pool doesn&#39;t use either ... anymore.\r\n\r\n&gt; But is the object in heap just a pointer to literal stored in pool or is it a simple String object stored in heap which is eligible for GC?\r\n\r\nThis is really confused.\r\n\r\nAll strings are represented as `String` objects in the (a) heap.  That includes strings in the string pool.  Even when the string pool was in PermGen.  \r\n\r\nAll `String` objects that are unreachable are eligible for garbage collection.  Even for strings in the string pool.  Even for `String` objects that represent string literals.\r\n\r\nBut ... wait ... so can string literals be garbage collected?\r\n\r\nYes!!   If a `String` object that represents a string literal becomes unreachable at runtime it is eligible for garbage collection, just like any other `String` object.\r\n\r\nA string literal can become unreachable if the code object(s) that use the literal become unreachable.  It can happen, when a classloader becomes unreachable, and class unloading occurs.\r\n\r\nAnd yes, PermGen *was* garbage collected.  At least since JDK 1.2.  (IIRC Java 1.0 and maybe 1.1 didn&#39;t implement GC for the PermGen heap.  But that was fixed a long time ago.)","title":"String pool - do String always exist in constant pool?","body":"<p>Terminology:</p>\n<ul>\n<li><p>The Constant Pool is an area in (each) .class file that contains various constants, including strings.   No <em>runtime</em> objects exist in the constant pool.   It is a region of a <em>file</em>.</p>\n</li>\n<li><p>The String Pool is a runtime data structure used by the JVM to manage certain kinds of strings.  (Specifically, <code>String</code> objects that correspond to literals, and <code>String</code> objects added to the pool by <code>String::intern()</code>.)</p>\n</li>\n</ul>\n<p>Your question is actually talking about the String Pool, not the Constant Pool.</p>\n<hr />\n<p>To answer your questions:</p>\n<blockquote>\n<p>String pool - do String always exist in constant pool?</p>\n</blockquote>\n<p>No.   A string object created using <code>new String()</code> doesn't exist in either the string pool or the constant pool.</p>\n<blockquote>\n<p>When string is created by using literal, it gets stored in pool.</p>\n</blockquote>\n<p>The string (which is represented in the constant pool of a classfile being loaded) is created as a <code>String</code> object and added to the string pool.  (These steps happen before or as the literal is first used by Java code, and the precise details vary depending on the JVM implementation.)</p>\n<blockquote>\n<p>But when <code>new</code> operator is used to create String object, it stores the object in Heap.</p>\n</blockquote>\n<p>Yes.  But the string pool is also part of the Heap.  Like I said, it is a data structure, not a region of storage.</p>\n<p>(In the old days, the string pool lived in a special heap called the PermGen heap.  But PermGen was replaced with something else (MetaSpace), and the string pool doesn't use either ... anymore.</p>\n<blockquote>\n<p>But is the object in heap just a pointer to literal stored in pool or is it a simple String object stored in heap which is eligible for GC?</p>\n</blockquote>\n<p>This is really confused.</p>\n<p>All strings are represented as <code>String</code> objects in the (a) heap.  That includes strings in the string pool.  Even when the string pool was in PermGen.</p>\n<p>All <code>String</code> objects that are unreachable are eligible for garbage collection.  Even for strings in the string pool.  Even for <code>String</code> objects that represent string literals.</p>\n<p>But ... wait ... so can string literals be garbage collected?</p>\n<p>Yes!!   If a <code>String</code> object that represents a string literal becomes unreachable at runtime it is eligible for garbage collection, just like any other <code>String</code> object.</p>\n<p>A string literal can become unreachable if the code object(s) that use the literal become unreachable.  It can happen, when a classloader becomes unreachable, and class unloading occurs.</p>\n<p>And yes, PermGen <em>was</em> garbage collected.  At least since JDK 1.2.  (IIRC Java 1.0 and maybe 1.1 didn't implement GC for the PermGen heap.  But that was fixed a long time ago.)</p>\n"},{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699622086,"post_id":77459991,"comment_id":136558441,"body_markdown":"BTW there is no &#39;*creation of String &quot;a&quot;*&#39; in `String a = &quot;a&quot;;`","body":"BTW there is no &#39;<i>creation of String &quot;a&quot;</i>&#39; in <code>String a = &quot;a&quot;;</code>"},{"owner":{"account_id":8528499,"reputation":11,"user_id":6393139,"display_name":"chrycon"},"score":0,"creation_date":1699944916,"post_id":77459991,"comment_id":136591029,"body_markdown":"@user85421 Why do you say that?","body":"@user85421 Why do you say that?"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1699946769,"post_id":77459991,"comment_id":136591257,"body_markdown":"quoting from your post &quot;*Running the above 10 times ... the creation of String &quot;a&quot; takes ...*&quot; and the code is measuring `String a = &quot;a&quot;;` - but the literal `&quot;a&quot;` is eventually created before, and only once","body":"quoting from your post &quot;<i>Running the above 10 times ... the creation of String &quot;a&quot; takes ...</i>&quot; and the code is measuring <code>String a = &quot;a&quot;;</code> - but the literal <code>&quot;a&quot;</code> is eventually created before, and only once"},{"owner":{"account_id":8528499,"reputation":11,"user_id":6393139,"display_name":"chrycon"},"score":0,"creation_date":1700391569,"post_id":77459991,"comment_id":136646575,"body_markdown":"@user85421 What I meant was that I ran the above in 10 different runs. Since the JVM is restarted each time, the strings are added to the string pool every time. I will rephrase my answer to clarify, thank you.","body":"@user85421 What I meant was that I ran the above in 10 different runs. Since the JVM is restarted each time, the strings are added to the string pool every time. I will rephrase my answer to clarify, thank you."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700411223,"post_id":77459991,"comment_id":136648350,"body_markdown":"you restartet the JVM for every measurement? I would recommend reading the answer to [How do I write a correct micro-benchmark in Java?](https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java/513259#513259) (BTW there are a couple of strings already interned when `main` is called, eventually depending on JVM implementation, in my system,  `&quot;java&quot;` is one of these, for example)","body":"you restartet the JVM for every measurement? I would recommend reading the answer to <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java/513259#513259\">How do I write a correct micro-benchmark in Java?</a> (BTW there are a couple of strings already interned when <code>main</code> is called, eventually depending on JVM implementation, in my system,  <code>&quot;java&quot;</code> is one of these, for example)"},{"owner":{"account_id":8528499,"reputation":11,"user_id":6393139,"display_name":"chrycon"},"score":0,"creation_date":1701090634,"post_id":77459991,"comment_id":136728010,"body_markdown":"That&#39;s a great read, thanks!","body":"That&#39;s a great read, thanks!"}],"tags":[],"owner":{"account_id":8528499,"reputation":11,"user_id":6393139,"display_name":"chrycon"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700391865,"creation_date":1699619057,"answer_id":77459991,"question_id":57414169,"body_markdown":"It is a String object stored in the heap eligible for GC. I am using Amazon Corretto 17.\r\n\r\nI was finding confusing explanations, so I decided to investigate with code, by running a test to compare the String object creation time in each case:\r\n\r\n    startTime = System.nanoTime();\r\n    String a = &quot;a&quot;;\r\n    endTime = System.nanoTime();\r\n    System.out.println(endTime - startTime);\r\n\r\n    startTime = System.nanoTime();\r\n    String b = new String(&quot;b&quot;);\r\n    endTime = System.nanoTime();\r\n    System.out.println(endTime - startTime);\r\n    \r\n\r\nRunning the above 10 times on my machine(in independent runs of the JVM), the creation of String &quot;a&quot; takes 2100-4900ns and the creation of String &quot;b&quot; takes 4900-15500ns, so the creation of b must do something significantly more expensive than the creation of a.\r\n\r\nThen I compared the references of String objects with the same set of characters using the String.intern() method, which returns a reference to the String object in the string pool.\r\n\r\n    String c = &quot;hello&quot;;\r\n    String d = new String(&quot;hello&quot;);\r\n    System.out.println(c==d); // false\r\n    System.out.println(c==c.intern()); // true\r\n    System.out.println(d==d.intern()); // false\r\n    System.out.println((c.intern()==d.intern())); // true\r\n\r\nWith these, we can deduce that c and d point on different objects, c being a String object in the string pool (which from Java8 is stored in non-heap memory) and d being a String object in the heap. Regarding GC, I believe the string pool is garbage collected only when the non-heap memory where it resides reaches a limit. That memory seems to be called Metaspace and replaces PermGen.","title":"String pool - do String always exist in constant pool?","body":"<p>It is a String object stored in the heap eligible for GC. I am using Amazon Corretto 17.</p>\n<p>I was finding confusing explanations, so I decided to investigate with code, by running a test to compare the String object creation time in each case:</p>\n<pre><code>startTime = System.nanoTime();\nString a = &quot;a&quot;;\nendTime = System.nanoTime();\nSystem.out.println(endTime - startTime);\n\nstartTime = System.nanoTime();\nString b = new String(&quot;b&quot;);\nendTime = System.nanoTime();\nSystem.out.println(endTime - startTime);\n</code></pre>\n<p>Running the above 10 times on my machine(in independent runs of the JVM), the creation of String &quot;a&quot; takes 2100-4900ns and the creation of String &quot;b&quot; takes 4900-15500ns, so the creation of b must do something significantly more expensive than the creation of a.</p>\n<p>Then I compared the references of String objects with the same set of characters using the String.intern() method, which returns a reference to the String object in the string pool.</p>\n<pre><code>String c = &quot;hello&quot;;\nString d = new String(&quot;hello&quot;);\nSystem.out.println(c==d); // false\nSystem.out.println(c==c.intern()); // true\nSystem.out.println(d==d.intern()); // false\nSystem.out.println((c.intern()==d.intern())); // true\n</code></pre>\n<p>With these, we can deduce that c and d point on different objects, c being a String object in the string pool (which from Java8 is stored in non-heap memory) and d being a String object in the heap. Regarding GC, I believe the string pool is garbage collected only when the non-heap memory where it resides reaches a limit. That memory seems to be called Metaspace and replaces PermGen.</p>\n"}],"owner":{"account_id":15519327,"reputation":11,"user_id":11195939,"display_name":"Puneet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1029,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700391865,"creation_date":1565272116,"question_id":57414169,"body_markdown":"When string is created by using literal, it gets stored in pool. But when new operator is used to create String object, it stores the object in Heap.\r\n\r\nBut is the object in heap just a pointer to literal stored in pool or is it a simple String object stored in heap which is eligible for GC?","title":"String pool - do String always exist in constant pool?","body":"<p>When string is created by using literal, it gets stored in pool. But when new operator is used to create String object, it stores the object in Heap.</p>\n\n<p>But is the object in heap just a pointer to literal stored in pool or is it a simple String object stored in heap which is eligible for GC?</p>\n"},{"tags":["java","android"],"owner":{"account_id":27028627,"reputation":3,"user_id":20585429,"display_name":"Bukrek35TR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700391686,"creation_date":1700391686,"question_id":77510496,"body_markdown":"I&#39;m trying to automatically switch between dropdown menus.\r\n\r\nI have two drop-down menus, when I select the first menu, the second menu content changes depending on this menu, I want it to automatically switch to the second menu and show the list content.\r\n\r\nHowever, it goes to the second menu but does not show its content.\r\n\r\nIt appears when I click again.\r\n\r\nMy codes are below. Can you help me?\r\n\r\n\r\n``` \r\n\r\n   &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/dropDownListOuterAccounts&quot;\r\n        style=&quot;@style/MyDropDownMenuOuterStyle&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/toolbar&quot;&gt;\r\n\r\n        &lt;AutoCompleteTextView\r\n            android:id=&quot;@+id/dropDownListAccounts&quot;\r\n            style=&quot;@style/MyEditTextInputInnerStyle&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:adapter=&quot;@{arrayAdapterAccounts}&quot;\r\n            android:hint=&quot;@string/choose_account&quot;\r\n            android:inputType=&quot;none&quot;\r\n            tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/dropDownListOuterSubaccounts&quot;\r\n        style=&quot;@style/MyDropDownMenuOuterStyle&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/dropDownListOuterAccounts&quot;&gt;\r\n\r\n        &lt;AutoCompleteTextView\r\n            android:id=&quot;@+id/dropDownListSubaccounts&quot;\r\n            style=&quot;@style/MyEditTextInputInnerStyle&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:adapter=&quot;@{arrayAdapterSubaccounts}&quot;\r\n            android:hint=&quot;@string/choose_subaccount&quot;\r\n            android:inputType=&quot;none&quot;\r\n            tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n```\r\n\r\n\r\n```\r\n        binding.dropDownListAccounts.setOnItemClickListener((parent, view, position, id) -&gt; {\r\n\r\n            binding.dropDownListOuterAccounts.setHelperText(accountList.get(position).getAccountTypeName());\r\n\r\n            binding.dropDownListSubaccounts.setText(null);\r\n            binding.dropDownListOuterSubaccounts.setHelperText(null);\r\n\r\n            subaccountsList.set(\r\n                    subaccountList\r\n                            .stream()\r\n                            .filter(subaccounts -&gt; subaccounts.getAccountId().equals(accountList.get(position).getAccountId())).collect(Collectors.toList())\r\n            );\r\n\r\n            List&lt;String&gt; subaccountNames =\r\n                    subaccountsList.get()\r\n                            .stream()\r\n                            .map(Subaccounts::getSubaccountName)\r\n                            .collect(Collectors.toList());\r\n\r\n            binding.setArrayAdapterSubaccounts(\r\n                    new ArrayAdapter&lt;&gt;(\r\n                            requireContext(),\r\n                            com.google.android.material.R.layout.support_simple_spinner_dropdown_item,\r\n                            subaccountNames));\r\n            \r\n            binding.dropDownListSubaccounts.setFocusable(true);\r\n            binding.dropDownListSubaccounts.setFocusableInTouchMode(true);\r\n            binding.dropDownListSubaccounts.requestFocus();\r\n            binding.dropDownListSubaccounts.performClick();\r\n\r\n        });\r\n```","title":"Automatic switching between drop-down menus (Android)","body":"<p>I'm trying to automatically switch between dropdown menus.</p>\n<p>I have two drop-down menus, when I select the first menu, the second menu content changes depending on this menu, I want it to automatically switch to the second menu and show the list content.</p>\n<p>However, it goes to the second menu but does not show its content.</p>\n<p>It appears when I click again.</p>\n<p>My codes are below. Can you help me?</p>\n<pre><code>\n   &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/dropDownListOuterAccounts&quot;\n        style=&quot;@style/MyDropDownMenuOuterStyle&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/toolbar&quot;&gt;\n\n        &lt;AutoCompleteTextView\n            android:id=&quot;@+id/dropDownListAccounts&quot;\n            style=&quot;@style/MyEditTextInputInnerStyle&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:adapter=&quot;@{arrayAdapterAccounts}&quot;\n            android:hint=&quot;@string/choose_account&quot;\n            android:inputType=&quot;none&quot;\n            tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:id=&quot;@+id/dropDownListOuterSubaccounts&quot;\n        style=&quot;@style/MyDropDownMenuOuterStyle&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/dropDownListOuterAccounts&quot;&gt;\n\n        &lt;AutoCompleteTextView\n            android:id=&quot;@+id/dropDownListSubaccounts&quot;\n            style=&quot;@style/MyEditTextInputInnerStyle&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:adapter=&quot;@{arrayAdapterSubaccounts}&quot;\n            android:hint=&quot;@string/choose_subaccount&quot;\n            android:inputType=&quot;none&quot;\n            tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n</code></pre>\n<pre><code>        binding.dropDownListAccounts.setOnItemClickListener((parent, view, position, id) -&gt; {\n\n            binding.dropDownListOuterAccounts.setHelperText(accountList.get(position).getAccountTypeName());\n\n            binding.dropDownListSubaccounts.setText(null);\n            binding.dropDownListOuterSubaccounts.setHelperText(null);\n\n            subaccountsList.set(\n                    subaccountList\n                            .stream()\n                            .filter(subaccounts -&gt; subaccounts.getAccountId().equals(accountList.get(position).getAccountId())).collect(Collectors.toList())\n            );\n\n            List&lt;String&gt; subaccountNames =\n                    subaccountsList.get()\n                            .stream()\n                            .map(Subaccounts::getSubaccountName)\n                            .collect(Collectors.toList());\n\n            binding.setArrayAdapterSubaccounts(\n                    new ArrayAdapter&lt;&gt;(\n                            requireContext(),\n                            com.google.android.material.R.layout.support_simple_spinner_dropdown_item,\n                            subaccountNames));\n            \n            binding.dropDownListSubaccounts.setFocusable(true);\n            binding.dropDownListSubaccounts.setFocusableInTouchMode(true);\n            binding.dropDownListSubaccounts.requestFocus();\n            binding.dropDownListSubaccounts.performClick();\n\n        });\n</code></pre>\n"},{"tags":["java","netbeans","ubuntu-18.04"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1694464119,"post_id":77084562,"comment_id":135891784,"body_markdown":"I wonder if you had configured your NetBeans installation to use an external JDK for its own execution rather than relying by default on its own internally bundled JDK? NetBeans is itself a Java app, and needs a JDK to operate. The JDK used to run NetBeans does *not* have to be the same JDK used to build and execute your Java project.","body":"I wonder if you had configured your NetBeans installation to use an external JDK for its own execution rather than relying by default on its own internally bundled JDK? NetBeans is itself a Java app, and needs a JDK to operate. The JDK used to run NetBeans does <i>not</i> have to be the same JDK used to build and execute your Java project."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1694544538,"post_id":77084562,"comment_id":135904380,"body_markdown":"The bad news is that with NetBeans 19 you have no choice but to upgrade to a JDK &gt;= 11 because the [Release Notes state that](https://netbeans.apache.org/download/nb19): _&quot;The Apache NetBeans 19 binary releases require JDK 11+...&quot;_. The good news is that you can still build your projects using Java 8 if you use JDK11+. That said, it would be preferable for NetBeans to refuse to update itself if it couldn&#39;t find an appropriate JDK, rather than blindly updating and then refusing to start because the default JDK is invalid. But not a big deal really, and there&#39;s no need to roll back.","body":"The bad news is that with NetBeans 19 you have no choice but to upgrade to a JDK &gt;= 11 because the <a href=\"https://netbeans.apache.org/download/nb19\" rel=\"nofollow noreferrer\">Release Notes state that</a>: <i>&quot;The Apache NetBeans 19 binary releases require JDK 11+...&quot;</i>. The good news is that you can still build your projects using Java 8 if you use JDK11+. That said, it would be preferable for NetBeans to refuse to update itself if it couldn&#39;t find an appropriate JDK, rather than blindly updating and then refusing to start because the default JDK is invalid. But not a big deal really, and there&#39;s no need to roll back."},{"owner":{"account_id":15610772,"reputation":41,"user_id":11262296,"display_name":"backclipped"},"score":0,"creation_date":1694635634,"post_id":77084562,"comment_id":135918830,"body_markdown":"@BasilBourque how would I configure that (other than with the netbeans.conf file)? I did not setup this dev environment.","body":"@BasilBourque how would I configure that (other than with the netbeans.conf file)? I did not setup this dev environment."},{"owner":{"account_id":15610772,"reputation":41,"user_id":11262296,"display_name":"backclipped"},"score":0,"creation_date":1694635721,"post_id":77084562,"comment_id":135918847,"body_markdown":"@skomisa exactly. All I wanted was the option to delay the update since I did not have the prereqs.","body":"@skomisa exactly. All I wanted was the option to delay the update since I did not have the prereqs."}],"answers":[{"comments":[{"owner":{"account_id":15610772,"reputation":41,"user_id":11262296,"display_name":"backclipped"},"score":1,"creation_date":1694635782,"post_id":77084589,"comment_id":135918863,"body_markdown":"Installing JDK 11 did not fix the issue. Please see post updates.","body":"Installing JDK 11 did not fix the issue. Please see post updates."}],"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1694463804,"creation_date":1694463804,"answer_id":77084589,"question_id":77084562,"body_markdown":"Only the NetBeans binaries need the `JDK 11`, **it doesn&#39;t effect your projects**!\r\n\r\n&gt; The Runtime JDK NetBeans uses does not influence the JDK range projects can use. - [Release Notes][1]\r\n\r\n\r\n  [1]: https://netbeans.apache.org/download/nb19/#sect1","title":"Java 11 Required After Netbeans Update","body":"<p>Only the NetBeans binaries need the <code>JDK 11</code>, <strong>it doesn't effect your projects</strong>!</p>\n<blockquote>\n<p>The Runtime JDK NetBeans uses does not influence the JDK range projects can use. - <a href=\"https://netbeans.apache.org/download/nb19/#sect1\" rel=\"nofollow noreferrer\">Release Notes</a></p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":15610772,"reputation":41,"user_id":11262296,"display_name":"backclipped"},"score":1,"creation_date":1694635874,"post_id":77084600,"comment_id":135918883,"body_markdown":"Installing JDK 11 did not fix the issue, even after the netbeans.conf file was updated. Please see post updates.","body":"Installing JDK 11 did not fix the issue, even after the netbeans.conf file was updated. Please see post updates."},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1694640161,"post_id":77084600,"comment_id":135919564,"body_markdown":"Perhaps look [at this question](https://stackoverflow.com/questions/58825429/how-to-configure-netbeans-when-installed-as-snap-package) for help with that. It sounds like the snap package is complicating things.","body":"Perhaps look <a href=\"https://stackoverflow.com/questions/58825429/how-to-configure-netbeans-when-installed-as-snap-package\">at this question</a> for help with that. It sounds like the snap package is complicating things."}],"tags":[],"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694464179,"creation_date":1694463899,"answer_id":77084600,"question_id":77084562,"body_markdown":"Although NetBeans itself needs JDK 11, I think you can still build and run JDK 8 for your projects. \r\n\r\nSee [*Overview of JDK 8 Support in NetBeans IDE*](https://netbeans.apache.org/kb/docs/java/javase-jdk8.html).\r\n\r\nI also found this other StackOverflow question about pointing NetBeans at a particular JDK, in case you run into any trouble: [How can I set the JDK NetBeans runs on?](https://stackoverflow.com/questions/6950960/how-can-i-set-the-jdk-netbeans-runs-on)","title":"Java 11 Required After Netbeans Update","body":"<p>Although NetBeans itself needs JDK 11, I think you can still build and run JDK 8 for your projects.</p>\n<p>See <a href=\"https://netbeans.apache.org/kb/docs/java/javase-jdk8.html\" rel=\"nofollow noreferrer\"><em>Overview of JDK 8 Support in NetBeans IDE</em></a>.</p>\n<p>I also found this other StackOverflow question about pointing NetBeans at a particular JDK, in case you run into any trouble: <a href=\"https://stackoverflow.com/questions/6950960/how-can-i-set-the-jdk-netbeans-runs-on\">How can I set the JDK NetBeans runs on?</a></p>\n"},{"tags":[],"owner":{"account_id":1504846,"reputation":1794,"user_id":1408483,"accept_rate":88,"display_name":"BigBadMe"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1694684036,"creation_date":1694684036,"answer_id":77103579,"question_id":77084562,"body_markdown":"I&#39;m using Windows and I had the same issue just now. I uninstalled Netbeans-19, then manually installed JDK-20:\r\n\r\n[https://www.oracle.com/java/technologies/downloads/#jdk20-windows][1]\r\n\r\nI then reinstalled Netbeans-19 pointing the installer to the JDK-20 folder and it worked fine.\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/downloads/#jdk20-windows","title":"Java 11 Required After Netbeans Update","body":"<p>I'm using Windows and I had the same issue just now. I uninstalled Netbeans-19, then manually installed JDK-20:</p>\n<p><a href=\"https://www.oracle.com/java/technologies/downloads/#jdk20-windows\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/downloads/#jdk20-windows</a></p>\n<p>I then reinstalled Netbeans-19 pointing the installer to the JDK-20 folder and it worked fine.</p>\n"},{"tags":[],"owner":{"account_id":2316438,"reputation":181,"user_id":5860154,"display_name":"Muktesh Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698062462,"creation_date":1698062462,"answer_id":77345037,"question_id":77084562,"body_markdown":"use --jdkhome switch\r\nSteps:\r\n\r\n 1. Right click on Netbeans Shorcut \r\n 2. Select Properties\r\n 3. Add --jdkhome switch to Target\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3x2Hd.png","title":"Java 11 Required After Netbeans Update","body":"<p>use --jdkhome switch\nSteps:</p>\n<ol>\n<li>Right click on Netbeans Shorcut</li>\n<li>Select Properties</li>\n<li>Add --jdkhome switch to Target</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/3x2Hd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3x2Hd.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700391649,"creation_date":1700391649,"answer_id":77510494,"question_id":77084562,"body_markdown":"open `netbeans.conf` file in notepad, e.g. mine is situated  in `C:\\ides\\netbeans\\etc\\netbeans.conf`\r\nand set **netbeans_jdkhome** variable on your own , e.g.  `netbeans_jdkhome=&quot;C:\\Program Files\\Java\\jdk-22&quot;`\r\nsave the file , launch the IDE and you are done.","title":"Java 11 Required After Netbeans Update","body":"<p>open <code>netbeans.conf</code> file in notepad, e.g. mine is situated  in <code>C:\\ides\\netbeans\\etc\\netbeans.conf</code>\nand set <strong>netbeans_jdkhome</strong> variable on your own , e.g.  <code>netbeans_jdkhome=&quot;C:\\Program Files\\Java\\jdk-22&quot;</code>\nsave the file , launch the IDE and you are done.</p>\n"}],"owner":{"account_id":15610772,"reputation":41,"user_id":11262296,"display_name":"backclipped"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3521,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":5,"score":3,"last_activity_date":1700391649,"creation_date":1694463406,"question_id":77084562,"body_markdown":"Ubuntu 18.04.6 LTS\r\n\r\nNetbeans updated (to version 19) over the weekend, and it is now completely broken. Whenever I try to start Netbeans, a pop-up shows up:\r\n\r\nPop-up Title: Java 11 or newer required\r\nPop-up Desc: Cannot run on older versions of Java than Java 11. Please install Java 11 or newer or use --jdkhome switch to point to its installation directory. \r\n\r\nThe pop-up can be dismissed but Netbeans will not open.\r\n\r\nI do not want to use Java 11 (currently using Java 8) because some of my dependencies do not support it. What is the best way to fix this? Can I roll back this unwanted update? How do I prevent Netbeans from being updated in the future?\r\n\r\nUPDATES: It seems rolling back Netbeans is not an option. As a workaround, I installed Java 11, which has not yet fixed the problem.\r\n\r\n1) Installed Java 11 using:\r\n    sudo apt-get install openjdk-11-jdk\r\nNetbeans still fails. Pop-up says requires Java 11.\r\n\r\n2) Set default java to openjdk11 using:\r\n\r\n    sudo update-alternatives --config java\r\nNetbeans still fails. Pop-up says requires Java 11.\r\n\r\n3) I checked the jdkhome line in netbeans.conf, and found 3 instances of this file:\r\n\r\n    /etc/netbeans.conf\r\n\r\n/snap/netbeans/84/netbeans/etc/netbeans.conf\r\n\r\n/snap/netbeans/80/netbeans/etc/netbeans.conf\r\n\r\nAll three files have the jdkhome line commented out using a #. I can only edit the /etc/netbeans.conf file, the other 2 are uneditable (even using sudo nano [file]).\r\n\r\n4) Set jdkhome in /etc/netbeans.conf file using:\r\n\r\n    sudo nano /etc/netbeans.conf\r\n\r\nTried:\r\nnetbeans_jdkhome=&quot;/usr/lib/jvm&quot;\t\t\t\t\tNetbeans fails to launch.\r\n\r\nnetbeans_jdkhome=&quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\t\tNetbeans fails to launch.\r\n\r\nnetbeans_jdkhome=&quot;/usr/lib/jvm/java-11-openjdk-amd64/bin&quot;\tNetbeans fails to launch.\r\n\r\n5) Attempted to set JDK by running Netbeans from terminal and using the --jdkhome flag, but this did not work.\r\n\r\n/snap/netbeans/current/netbeans/bin/netbeans --jdkhome /usr/lib/jvm/java-11-openjdk-amd64\r\nThrows a warning : &quot;Warning - An instance of the program cannot access specified user directory. This is a serious problem that may prevent the program to function properly. Make sure is writable. Click OK to continue in spite of previous error.&quot;\r\n\r\n    Clicking OK gives an error:\r\n    java.io.FileNotFoundException: /snap/netbeans/84/netbeans/bin/lock (Read-only file system)\r\n\r\nRunning the prior command with sudo gives the exact same result. Java 11 and Java 8 are both installed in the same place (/usr/lib/jvm), so it is beyond me why it could access Java 8 JDK just fine a week ago, and now &quot;cannot access specified user directory&quot;.\r\n\r\nUPDATE 2:\r\nI went back to running netbeans from terminal using the --jdkhome switch and finally found the magic words...sort of:\r\n\r\nXYZ@XYZ:/snap/netbeans/current/netbeans/bin$ netbeans --jdkhome /usr/lib/jvm/java-11-openjdk-amd64\r\nWARNING: package com.apple.eio not in java.desktop\r\n\r\nThe ^above^ command successfully starts Netbeans, but it doesn&#39;t FIX Netbeans, because opening Netbeans from the desktop icon still fails with the original error. I have to start it from Terminal with the above command.\r\n\r\nI tried changing Tools&gt;Options&gt;Java options to use Java 11 or 17 with no effect (even though I still plan to use Java 8 for dev).\r\n\r\n\r\n\r\n","title":"Java 11 Required After Netbeans Update","body":"<p>Ubuntu 18.04.6 LTS</p>\n<p>Netbeans updated (to version 19) over the weekend, and it is now completely broken. Whenever I try to start Netbeans, a pop-up shows up:</p>\n<p>Pop-up Title: Java 11 or newer required\nPop-up Desc: Cannot run on older versions of Java than Java 11. Please install Java 11 or newer or use --jdkhome switch to point to its installation directory.</p>\n<p>The pop-up can be dismissed but Netbeans will not open.</p>\n<p>I do not want to use Java 11 (currently using Java 8) because some of my dependencies do not support it. What is the best way to fix this? Can I roll back this unwanted update? How do I prevent Netbeans from being updated in the future?</p>\n<p>UPDATES: It seems rolling back Netbeans is not an option. As a workaround, I installed Java 11, which has not yet fixed the problem.</p>\n<ol>\n<li><p>Installed Java 11 using:\nsudo apt-get install openjdk-11-jdk\nNetbeans still fails. Pop-up says requires Java 11.</p>\n</li>\n<li><p>Set default java to openjdk11 using:</p>\n<p>sudo update-alternatives --config java\nNetbeans still fails. Pop-up says requires Java 11.</p>\n</li>\n<li><p>I checked the jdkhome line in netbeans.conf, and found 3 instances of this file:</p>\n<p>/etc/netbeans.conf</p>\n</li>\n</ol>\n<p>/snap/netbeans/84/netbeans/etc/netbeans.conf</p>\n<p>/snap/netbeans/80/netbeans/etc/netbeans.conf</p>\n<p>All three files have the jdkhome line commented out using a #. I can only edit the /etc/netbeans.conf file, the other 2 are uneditable (even using sudo nano [file]).</p>\n<ol start=\"4\">\n<li><p>Set jdkhome in /etc/netbeans.conf file using:</p>\n<p>sudo nano /etc/netbeans.conf</p>\n</li>\n</ol>\n<p>Tried:\nnetbeans_jdkhome=&quot;/usr/lib/jvm&quot;                 Netbeans fails to launch.</p>\n<p>netbeans_jdkhome=&quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;       Netbeans fails to launch.</p>\n<p>netbeans_jdkhome=&quot;/usr/lib/jvm/java-11-openjdk-amd64/bin&quot;   Netbeans fails to launch.</p>\n<ol start=\"5\">\n<li>Attempted to set JDK by running Netbeans from terminal and using the --jdkhome flag, but this did not work.</li>\n</ol>\n<p>/snap/netbeans/current/netbeans/bin/netbeans --jdkhome /usr/lib/jvm/java-11-openjdk-amd64\nThrows a warning : &quot;Warning - An instance of the program cannot access specified user directory. This is a serious problem that may prevent the program to function properly. Make sure is writable. Click OK to continue in spite of previous error.&quot;</p>\n<pre><code>Clicking OK gives an error:\njava.io.FileNotFoundException: /snap/netbeans/84/netbeans/bin/lock (Read-only file system)\n</code></pre>\n<p>Running the prior command with sudo gives the exact same result. Java 11 and Java 8 are both installed in the same place (/usr/lib/jvm), so it is beyond me why it could access Java 8 JDK just fine a week ago, and now &quot;cannot access specified user directory&quot;.</p>\n<p>UPDATE 2:\nI went back to running netbeans from terminal using the --jdkhome switch and finally found the magic words...sort of:</p>\n<p>XYZ@XYZ:/snap/netbeans/current/netbeans/bin$ netbeans --jdkhome /usr/lib/jvm/java-11-openjdk-amd64\nWARNING: package com.apple.eio not in java.desktop</p>\n<p>The ^above^ command successfully starts Netbeans, but it doesn't FIX Netbeans, because opening Netbeans from the desktop icon still fails with the original error. I have to start it from Terminal with the above command.</p>\n<p>I tried changing Tools&gt;Options&gt;Java options to use Java 11 or 17 with no effect (even though I still plan to use Java 8 for dev).</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1700414850,"post_id":77510470,"comment_id":136648745,"body_markdown":"FYI: https://pt.stackoverflow.com/","body":"FYI: <a href=\"https://pt.stackoverflow.com/\">pt.stackoverflow.com</a>"}],"answers":[{"comments":[{"owner":{"account_id":29940314,"reputation":35,"user_id":22944997,"display_name":"Jos&#233; Filipe Silva"},"score":0,"creation_date":1700392633,"post_id":77510487,"comment_id":136646670,"body_markdown":"Thank you very much for your help. Everything is working now, besides one thing, the percentage of positives. I changed the calculus, once it was wrong and now it shows me 0.0 always. I was making the wrong calculus at first, beucase I was dividing the total amount of all the positives together, but I just needed the number of positive numbers divided by the counter and multiplied by 100 to give me a flat %, which is what i have now. Somehow it returns 0.0 everytime.","body":"Thank you very much for your help. Everything is working now, besides one thing, the percentage of positives. I changed the calculus, once it was wrong and now it shows me 0.0 always. I was making the wrong calculus at first, beucase I was dividing the total amount of all the positives together, but I just needed the number of positive numbers divided by the counter and multiplied by 100 to give me a flat %, which is what i have now. Somehow it returns 0.0 everytime."},{"owner":{"account_id":29940314,"reputation":35,"user_id":22944997,"display_name":"Jos&#233; Filipe Silva"},"score":0,"creation_date":1700394070,"post_id":77510487,"comment_id":136646790,"body_markdown":"Nvm, I made it, I guess the problem was something about the parenthesis I had in the expression tho. Thanks alot man.","body":"Nvm, I made it, I guess the problem was something about the parenthesis I had in the expression tho. Thanks alot man."}],"tags":[],"owner":{"account_id":13210775,"reputation":999,"user_id":9541096,"display_name":"Owais Yosuf"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1700391517,"creation_date":1700391517,"answer_id":77510487,"question_id":77510470,"body_markdown":"Your code seems mostly correct, but there&#39;s a small issue in your for loop condition. The loop should continue while `i` is less than `N`, not while `i == N-1`. The correct loop condition is `i &lt; N`. Here&#39;s the corrected code:\r\n\r\n    import java.util.Random;\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n    \r\n            Random random = new Random();\r\n            Scanner ler = new Scanner(System.in);\r\n            int nPos = 0, nNeg = 0, totalPos = 0, totalNeg = 0, contador = 1;\r\n    \r\n            int N;\r\n            double mediaNeg, percPos;\r\n    \r\n            System.out.println(&quot;Insira o n&#250;mero de n&#250;meros que pretende inserir:&quot;);\r\n    \r\n            N = ler.nextInt();\r\n    \r\n            for (int i = 0; i &lt; N; i++) { // Corrected loop condition\r\n                int num = random.nextInt(101) - 50;\r\n                System.out.println(num);\r\n                contador++;\r\n                if (num &gt; 0) {\r\n                    nPos++;\r\n                    totalPos += num;\r\n                } else if (num &lt; 0) {\r\n                    nNeg++;\r\n                    totalNeg += num;\r\n                }\r\n            }\r\n    \r\n            contador = contador - 1;\r\n    \r\n            // Check if nNeg is not zero to avoid dividing by zero\r\n            if (nNeg != 0) {\r\n                mediaNeg = (double) totalNeg / nNeg;\r\n                System.out.println(&quot;M&#233;dia dos negativos = &quot; + mediaNeg);\r\n            } else {\r\n                System.out.println(&quot;N&#227;o h&#225; n&#250;meros negativos para calcular a m&#233;dia.&quot;);\r\n            }\r\n    \r\n            // Calculate percentage only if there are positive numbers\r\n            if (contador != 0) {\r\n                percPos = (double) (totalPos / contador) * 100;\r\n                System.out.print(&quot;Percentagem dos positivos = &quot; + percPos);\r\n            } else {\r\n                System.out.println(&quot;N&#227;o h&#225; n&#250;meros positivos para calcular a percentagem.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n*These changes should help you avoid the divide-by-zero error and provide more accurate results. I also added some checks to handle cases where there are no negative or positive numbers entered by the user.*","title":"Dividing by 0 error / Sorry my sentences are in PT","body":"<p>Your code seems mostly correct, but there's a small issue in your for loop condition. The loop should continue while <code>i</code> is less than <code>N</code>, not while <code>i == N-1</code>. The correct loop condition is <code>i &lt; N</code>. Here's the corrected code:</p>\n<pre><code>import java.util.Random;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        Random random = new Random();\n        Scanner ler = new Scanner(System.in);\n        int nPos = 0, nNeg = 0, totalPos = 0, totalNeg = 0, contador = 1;\n\n        int N;\n        double mediaNeg, percPos;\n\n        System.out.println(&quot;Insira o número de números que pretende inserir:&quot;);\n\n        N = ler.nextInt();\n\n        for (int i = 0; i &lt; N; i++) { // Corrected loop condition\n            int num = random.nextInt(101) - 50;\n            System.out.println(num);\n            contador++;\n            if (num &gt; 0) {\n                nPos++;\n                totalPos += num;\n            } else if (num &lt; 0) {\n                nNeg++;\n                totalNeg += num;\n            }\n        }\n\n        contador = contador - 1;\n\n        // Check if nNeg is not zero to avoid dividing by zero\n        if (nNeg != 0) {\n            mediaNeg = (double) totalNeg / nNeg;\n            System.out.println(&quot;Média dos negativos = &quot; + mediaNeg);\n        } else {\n            System.out.println(&quot;Não há números negativos para calcular a média.&quot;);\n        }\n\n        // Calculate percentage only if there are positive numbers\n        if (contador != 0) {\n            percPos = (double) (totalPos / contador) * 100;\n            System.out.print(&quot;Percentagem dos positivos = &quot; + percPos);\n        } else {\n            System.out.println(&quot;Não há números positivos para calcular a percentagem.&quot;);\n        }\n    }\n}\n</code></pre>\n<p><em>These changes should help you avoid the divide-by-zero error and provide more accurate results. I also added some checks to handle cases where there are no negative or positive numbers entered by the user.</em></p>\n"}],"owner":{"account_id":29940314,"reputation":35,"user_id":22944997,"display_name":"Jos&#233; Filipe Silva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77510487,"answer_count":1,"score":2,"last_activity_date":1700391517,"creation_date":1700391187,"question_id":77510470,"body_markdown":"I&#39;m pretty new to this programming area, I&#39;m taking a level 5 course and I&#39;m learning java now. \r\n\r\nI was trying to do some exercises at home, and now I&#39;m trying to build an algorithm that let&#39;s the user choose (N) number of numbers, and then randomly display them and make the average of all the negatives, and the percentage of all the positive ones. \r\n\r\nBut there&#39;s this error with my counter, says it can&#39;t divide by 0, I even tried to initialize it as 1, and before I do the math I take -1 from him to come to it&#39;s original value, but it won&#39;t work. \r\n\r\nWould appreciate some enlightnment here! Thanks alot!\r\n\r\n\r\n```java\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        Random random = new Random();\r\n        Scanner ler = new Scanner(System.in);      //ler stands for read \r\n        int nPos = 0, nNeg = 0, totalPos = 0, totalNeg = 0, contador = 1; \r\n\r\n//contador stands for counter \r\n        \r\n        int N;\r\n        double mediaNeg, percPos; //media stands for average \r\n\r\n        System.out.println(&quot;Insira o n&#250;mero de n&#250;meros que pretende inserir: &quot;); \r\n\r\n// this print stands for insert the number of numbers you intend to insert\r\n      \r\n        N = ler.nextInt();\r\n\r\n        for (int i = 0; i == N-1; i++){\r\n            int num = random.nextInt(101) - 50;\r\n            System.out.println(num);\r\n            contador ++;\r\n                if (num &gt; 0){\r\n                    nPos ++;\r\n                    totalPos += num;\r\n                }\r\n                else if (num &lt; 0){\r\n                    nNeg ++;\r\n                    totalNeg += num;\r\n                }\r\n\r\n        }\r\n\r\n        contador = contador - 1;\r\n        mediaNeg = (double) totalNeg / nNeg;\r\n        percPos = (double) (totalPos / contador) * 100;\r\n\r\n        System.out.println(&quot;M&#233;dia dos negativos = &quot; +mediaNeg);\r\n        System.out.print(&quot;Percentagem dos positivos = &quot; +percPos); \r\n\r\n//These two are supposed to show the average of the negative numbers, and the percentage of the positives. \r\n\r\n\r\n    }\r\n}\r\n```","title":"Dividing by 0 error / Sorry my sentences are in PT","body":"<p>I'm pretty new to this programming area, I'm taking a level 5 course and I'm learning java now.</p>\n<p>I was trying to do some exercises at home, and now I'm trying to build an algorithm that let's the user choose (N) number of numbers, and then randomly display them and make the average of all the negatives, and the percentage of all the positive ones.</p>\n<p>But there's this error with my counter, says it can't divide by 0, I even tried to initialize it as 1, and before I do the math I take -1 from him to come to it's original value, but it won't work.</p>\n<p>Would appreciate some enlightnment here! Thanks alot!</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Random;\nimport java.util.Scanner;\n\n\npublic class Main {\n    public static void main(String[] args) {\n\n        Random random = new Random();\n        Scanner ler = new Scanner(System.in);      //ler stands for read \n        int nPos = 0, nNeg = 0, totalPos = 0, totalNeg = 0, contador = 1; \n\n//contador stands for counter \n        \n        int N;\n        double mediaNeg, percPos; //media stands for average \n\n        System.out.println(&quot;Insira o número de números que pretende inserir: &quot;); \n\n// this print stands for insert the number of numbers you intend to insert\n      \n        N = ler.nextInt();\n\n        for (int i = 0; i == N-1; i++){\n            int num = random.nextInt(101) - 50;\n            System.out.println(num);\n            contador ++;\n                if (num &gt; 0){\n                    nPos ++;\n                    totalPos += num;\n                }\n                else if (num &lt; 0){\n                    nNeg ++;\n                    totalNeg += num;\n                }\n\n        }\n\n        contador = contador - 1;\n        mediaNeg = (double) totalNeg / nNeg;\n        percPos = (double) (totalPos / contador) * 100;\n\n        System.out.println(&quot;Média dos negativos = &quot; +mediaNeg);\n        System.out.print(&quot;Percentagem dos positivos = &quot; +percPos); \n\n//These two are supposed to show the average of the negative numbers, and the percentage of the positives. \n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","https","proxy"],"comments":[{"owner":{"account_id":2552324,"reputation":1621,"user_id":2215858,"display_name":"Wisienkas"},"score":0,"creation_date":1537187684,"post_id":52367456,"comment_id":91679899,"body_markdown":"Hi Tobias, Have you tried looking into Zuul ?","body":"Hi Tobias, Have you tried looking into Zuul ?"},{"owner":{"account_id":3426734,"reputation":739,"user_id":2872319,"accept_rate":64,"display_name":"Tobias Kuess"},"score":0,"creation_date":1537339618,"post_id":52367456,"comment_id":91743417,"body_markdown":"Hi, no, that&#39;s the first time I heard of it. I am now running out of options though.. tried everything the past two days.","body":"Hi, no, that&#39;s the first time I heard of it. I am now running out of options though.. tried everything the past two days."}],"owner":{"account_id":3426734,"reputation":739,"user_id":2872319,"accept_rate":64,"display_name":"Tobias Kuess"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":684,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1700391033,"creation_date":1537186237,"question_id":52367456,"body_markdown":"For some API calls I need to configure a HTTPS proxy. \r\n\r\nLocally I can achieve this with the simple configuration of `Systemproperties` like this:\r\n\r\n    System.setProperty(&quot;https.proxyHost&quot;, HOST);\r\n    System.setProperty(&quot;https.proxyPort&quot;,PORT);\r\n\r\nBut that doesn&#39;t work when I try this on the code which will be deployed to a WildFily instance. I tried using Unirest, but this only offers HTTP proxy settings which won&#39;t work since i need HTTPS:\r\n\r\n\tUnirest.setProxy(new HttpHost(&quot;94.100.132.14&quot;, 80));\r\n\tHttpResponse&lt;InputStream&gt; response = Unirest.get(url).asBinary();\r\n\r\nIs there any possibility to configure a HTTPS proxy with unirest or some similar libraries?","title":"Configure HTTPS proxy in Java","body":"<p>For some API calls I need to configure a HTTPS proxy.</p>\n<p>Locally I can achieve this with the simple configuration of <code>Systemproperties</code> like this:</p>\n<pre><code>System.setProperty(&quot;https.proxyHost&quot;, HOST);\nSystem.setProperty(&quot;https.proxyPort&quot;,PORT);\n</code></pre>\n<p>But that doesn't work when I try this on the code which will be deployed to a WildFily instance. I tried using Unirest, but this only offers HTTP proxy settings which won't work since i need HTTPS:</p>\n<pre><code>Unirest.setProxy(new HttpHost(&quot;94.100.132.14&quot;, 80));\nHttpResponse&lt;InputStream&gt; response = Unirest.get(url).asBinary();\n</code></pre>\n<p>Is there any possibility to configure a HTTPS proxy with unirest or some similar libraries?</p>\n"},{"tags":["java","spring","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700381690,"creation_date":1700381690,"answer_id":77510089,"question_id":77509833,"body_markdown":"## Summary \r\nActually , there is two different programming web model . accroding to your description , i guess that the model you are confused about is ```springmvc``` model . it would receive request and handle it in a ```threa-pool``` which embeded in spring framkework . \r\n\r\n### @Async and @EnableAsync \r\nThe @Async and @EnableAsync annotations are used to enable asynchronous processing in specific methods or components. By using these annotations, you can make certain methods execute asynchronously, allowing them to run in the background without blocking the main thread. This is particularly useful for handling tasks that can be performed independently of the main request-response cycle.\r\n\r\n\r\n### Spring WebFlux non-blocking model\r\nIt since from ```spring-boot``` version ```3.0``` , spring using the non-block request model. It would use less thread to receive request , in general , it would be more stable than traditional request-response  thread blocking model.  it cost less cpu time  , you can read doc here  [reative in spring](https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.reactive)","title":"Is Spring Boot by-default synchronous or asynchronous","body":"<h2>Summary</h2>\n<p>Actually , there is two different programming web model . accroding to your description , i guess that the model you are confused about is <code>springmvc</code> model . it would receive request and handle it in a <code>threa-pool</code> which embeded in spring framkework .</p>\n<h3>@Async and @EnableAsync</h3>\n<p>The @Async and @EnableAsync annotations are used to enable asynchronous processing in specific methods or components. By using these annotations, you can make certain methods execute asynchronously, allowing them to run in the background without blocking the main thread. This is particularly useful for handling tasks that can be performed independently of the main request-response cycle.</p>\n<h3>Spring WebFlux non-blocking model</h3>\n<p>It since from <code>spring-boot</code> version <code>3.0</code> , spring using the non-block request model. It would use less thread to receive request , in general , it would be more stable than traditional request-response  thread blocking model.  it cost less cpu time  , you can read doc here  <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/web.html#web.reactive\" rel=\"nofollow noreferrer\">reative in spring</a></p>\n"}],"owner":{"account_id":11118604,"reputation":328,"user_id":8162191,"display_name":"A.Shenoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77510089,"answer_count":1,"score":-1,"last_activity_date":1700390178,"creation_date":1700374949,"question_id":77509833,"body_markdown":"I just came across @Async and @EnableAsync annotation and and I understand these are used to handle multiple requests concurrently.\r\n\r\nDoes that mean spring boot by default handles request synchronously, that mean if request-1 and request-2 calling same API. Then request-2 waits for request-1 to complete. Well I don&#39;t that happening in my application, which makes me assume spring boot is by default handles request Asynchronously.\r\n\r\nBut since we have these annotations. I am confused if spring boot by default Synchronous or Asynchronous .","title":"Is Spring Boot by-default synchronous or asynchronous","body":"<p>I just came across @Async and @EnableAsync annotation and and I understand these are used to handle multiple requests concurrently.</p>\n<p>Does that mean spring boot by default handles request synchronously, that mean if request-1 and request-2 calling same API. Then request-2 waits for request-1 to complete. Well I don't that happening in my application, which makes me assume spring boot is by default handles request Asynchronously.</p>\n<p>But since we have these annotations. I am confused if spring boot by default Synchronous or Asynchronous .</p>\n"},{"tags":["java","arrays","equals"],"comments":[{"owner":{"account_id":21322779,"reputation":37,"user_id":20040346,"display_name":"Anshul V. Kumar"},"score":0,"creation_date":1700389530,"post_id":77510385,"comment_id":136646393,"body_markdown":"@Jorn What does using `equals()` in case of arrays do then? `Arrays.equals` works.","body":"@Jorn What does using <code>equals()</code> in case of arrays do then? <code>Arrays.equals</code> works."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1700389557,"post_id":77510385,"comment_id":136646397,"body_markdown":"Please check the duplicate link, it explains all","body":"Please check the duplicate link, it explains all"}],"owner":{"account_id":21322779,"reputation":37,"user_id":20040346,"display_name":"Anshul V. Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1700389384,"answer_count":0,"score":-2,"last_activity_date":1700389334,"creation_date":1700389210,"question_id":77510385,"body_markdown":"I just learnt that we can&#39;t compare Strings in java using `==` operator because that will compare the references. Instead we use `equals()` method as it compares the actual object.\r\n\r\n```\r\nString str1 = &quot;java&quot;;\r\nString str2 = new String(&quot;java&quot;);\r\nSystem.out.println(str1 == str2);       // returns false as references are not equal\r\nSystem.out.println(str1.equals(str2));  // returns true as objects are equal\r\n```\r\n\r\nWhy can&#39;t I use equals() method to compare two array as they are also objects like Strings?\r\n\r\n```\r\nint[] A = {1, 2, 3, 4, 5};\r\nint[] B = {1, 2, 3, 4, 5};\r\nSystem.out.println(A.equals(B)); // How does this return false when both the objects are same?\r\n```\r\n\r\nMy understanding is that `equals()` method compares the actual objects and not references. So it should return true in the array case.","title":"Why equals() method doesn&#39;t work when comparing two array objects in Java?","body":"<p>I just learnt that we can't compare Strings in java using <code>==</code> operator because that will compare the references. Instead we use <code>equals()</code> method as it compares the actual object.</p>\n<pre><code>String str1 = &quot;java&quot;;\nString str2 = new String(&quot;java&quot;);\nSystem.out.println(str1 == str2);       // returns false as references are not equal\nSystem.out.println(str1.equals(str2));  // returns true as objects are equal\n</code></pre>\n<p>Why can't I use equals() method to compare two array as they are also objects like Strings?</p>\n<pre><code>int[] A = {1, 2, 3, 4, 5};\nint[] B = {1, 2, 3, 4, 5};\nSystem.out.println(A.equals(B)); // How does this return false when both the objects are same?\n</code></pre>\n<p>My understanding is that <code>equals()</code> method compares the actual objects and not references. So it should return true in the array case.</p>\n"},{"tags":["java","docker","xdebug","apache-karaf"],"answers":[{"comments":[{"owner":{"account_id":385998,"reputation":3034,"user_id":743507,"accept_rate":93,"display_name":"dschulten"},"score":0,"creation_date":1699522323,"post_id":57585011,"comment_id":136543495,"body_markdown":"In the management.cfg there are only the following host IP addresses:\nrmiRegistryHost, rmiServerHost, jmxmpHost. Which one is the host I should change to configure the debug host?","body":"In the management.cfg there are only the following host IP addresses: rmiRegistryHost, rmiServerHost, jmxmpHost. Which one is the host I should change to configure the debug host?"}],"tags":[],"owner":{"account_id":16545359,"reputation":11,"user_id":11954997,"display_name":"Francois Papon"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566365529,"creation_date":1566365529,"answer_id":57585011,"question_id":57188386,"body_markdown":"you can configure this in the `$KARAF_HOME/etc/org.apache.karaf.management.cfg` file.\r\n\r\nregards,","title":"Apache Karaf 4 debug in Docker container","body":"<p>you can configure this in the <code>$KARAF_HOME/etc/org.apache.karaf.management.cfg</code> file.</p>\n\n<p>regards,</p>\n"},{"tags":[],"owner":{"account_id":385998,"reputation":3034,"user_id":743507,"accept_rate":93,"display_name":"dschulten"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700388181,"creation_date":1700306578,"answer_id":77506662,"question_id":57188386,"body_markdown":"To debug Karaf &gt;= 4 in docker, you have to prefix the port with `*:`, e.g. `*:5005` or whatever you want the debug port to be. This can be defined by exporting the env variable JAVA_DEBUG_PORT before starting karaf. You can do this e.g. in the _entrypoint.sh_ of your karaf docker workspace before you execute `karaf run`:\r\n\r\n```\r\nexport KARAF_DEBUG=true\r\nexport JAVA_DEBUG_PORT=&quot;*:5005&quot;\r\n/opt/karaf/bin/karaf run\r\n```\r\nOr by using any of the usual means to [set environment variables in docker containers][1].\r\n\r\nYou can also set JAVA_DEBUG_OPTS to have full control over the debug configuration, e.g. you might want to set `suspend=y` (wait for the debugger to attach):\r\n\r\n```\r\nJAVA_DEBUG_OPTS=&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005&quot;\r\n```\r\nAs an alternative, if your container image passes arguments to the karaf script, you can pass the following arguments to the script in order to debug or debug suspending:\r\n\r\n```\r\nkaraf debug\r\nkaraf debugs\r\n```\r\n\r\n  [1]: https://docs.docker.com/compose/environment-variables/set-environment-variables/","title":"Apache Karaf 4 debug in Docker container","body":"<p>To debug Karaf &gt;= 4 in docker, you have to prefix the port with <code>*:</code>, e.g. <code>*:5005</code> or whatever you want the debug port to be. This can be defined by exporting the env variable JAVA_DEBUG_PORT before starting karaf. You can do this e.g. in the <em>entrypoint.sh</em> of your karaf docker workspace before you execute <code>karaf run</code>:</p>\n<pre><code>export KARAF_DEBUG=true\nexport JAVA_DEBUG_PORT=&quot;*:5005&quot;\n/opt/karaf/bin/karaf run\n</code></pre>\n<p>Or by using any of the usual means to <a href=\"https://docs.docker.com/compose/environment-variables/set-environment-variables/\" rel=\"nofollow noreferrer\">set environment variables in docker containers</a>.</p>\n<p>You can also set JAVA_DEBUG_OPTS to have full control over the debug configuration, e.g. you might want to set <code>suspend=y</code> (wait for the debugger to attach):</p>\n<pre><code>JAVA_DEBUG_OPTS=&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005&quot;\n</code></pre>\n<p>As an alternative, if your container image passes arguments to the karaf script, you can pass the following arguments to the script in order to debug or debug suspending:</p>\n<pre><code>karaf debug\nkaraf debugs\n</code></pre>\n"}],"owner":{"account_id":2088931,"reputation":2173,"user_id":1889864,"accept_rate":35,"display_name":"teone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700388181,"creation_date":1563989496,"question_id":57188386,"body_markdown":"I have a karaf based application that runs inside a docker container.\r\nIn karaf 3, when I started the app with the `debug` flag the debugging server was listening on:\r\n\r\n    tcp        0      0 0.0.0.0:5005            0.0.0.0:*               LISTEN      1/java\r\n\r\nAfter I moved to karaf 4 it is listening on:\r\n\r\n    tcp        0      0 127.0.0.1:5005          0.0.0.0:*               LISTEN      55/java\r\n\r\nBecuase of that the server won&#39;t listen for connection arriving from my IDE.\r\n\r\nAnyone knows how to configure `karaf` to start the server on `0.0.0.0` instead of `127.0.0.1`?\r\n\r\nThanks in advance","title":"Apache Karaf 4 debug in Docker container","body":"<p>I have a karaf based application that runs inside a docker container.\nIn karaf 3, when I started the app with the <code>debug</code> flag the debugging server was listening on:</p>\n\n<pre><code>tcp        0      0 0.0.0.0:5005            0.0.0.0:*               LISTEN      1/java\n</code></pre>\n\n<p>After I moved to karaf 4 it is listening on:</p>\n\n<pre><code>tcp        0      0 127.0.0.1:5005          0.0.0.0:*               LISTEN      55/java\n</code></pre>\n\n<p>Becuase of that the server won't listen for connection arriving from my IDE.</p>\n\n<p>Anyone knows how to configure <code>karaf</code> to start the server on <code>0.0.0.0</code> instead of <code>127.0.0.1</code>?</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-boot","gatling"],"comments":[{"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"score":0,"creation_date":1700477175,"post_id":77507301,"comment_id":136655132,"body_markdown":"Answered on Gatling&#39;s community forum: https://community.gatling.io/t/llm-inference-completions-endpoint/8342/3","body":"Answered on Gatling&#39;s community forum: <a href=\"https://community.gatling.io/t/llm-inference-completions-endpoint/8342/3\" rel=\"nofollow noreferrer\">community.gatling.io/t/llm-inference-completions-endpoint/83&zwnj;&#8203;42/&hellip;</a>"},{"owner":{"account_id":5636066,"reputation":6620,"user_id":4461537,"accept_rate":89,"display_name":"Ren&#233; Winkler"},"score":0,"creation_date":1700480287,"post_id":77507301,"comment_id":136655655,"body_markdown":"Thank you for your answer. Of course it&#39;s a shame that Gatling doesn&#39;t support this at the moment, but I certainly hope to have this functionality in the future ;-)","body":"Thank you for your answer. Of course it&#39;s a shame that Gatling doesn&#39;t support this at the moment, but I certainly hope to have this functionality in the future ;-)"},{"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"score":0,"creation_date":1700499764,"post_id":77507301,"comment_id":136659375,"body_markdown":"Well, both you and ChatGPT are doing things that are not supported in the SSE specification, hence at your own risk. Then, as mentioned in the thread, we&#39;re not opposed to this feature. But the best way to have it land is not to wait idly but to contribute or sponsor :)","body":"Well, both you and ChatGPT are doing things that are not supported in the SSE specification, hence at your own risk. Then, as mentioned in the thread, we&#39;re not opposed to this feature. But the best way to have it land is not to wait idly but to contribute or sponsor :)"}],"owner":{"account_id":5636066,"reputation":6620,"user_id":4461537,"accept_rate":89,"display_name":"Ren&#233; Winkler"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700387614,"creation_date":1700317707,"question_id":77507301,"body_markdown":"I&#39;m currently working on a project where I have implemented a POST endpoint to trigger server-sent events (SSE) with a specific request body. This setup is to facilitate a search functionality involving numerous parameters. \r\n\r\nWhile I&#39;m aware that using POST for SSE might not be the standard approach, it seemed like the simplest solution for my application&#39;s needs, so I went with it. However, it must be said that POST requests with SSE are apparently no longer so unusual, since ChatGpt also uses exactly such an endpoint.\r\n\r\nNow, I&#39;m facing a challenge with Gatling. From my understanding, Gatling supports SSE with GET requests, but I haven&#39;t found clear documentation or examples showing how to handle SSE with POST requests, especially ones that require a request body.\r\n\r\nIs it possible to use Gatling to send a POST request for server-sent events with a request body? If so, how can I implement this? Are there any specific configurations or workarounds that I need to be aware of to make this work with Gatling?\r\n\r\nThank you in advance for your help!\r\n\r\nGatling SSE documentation: https://gatling.io/docs/gatling/reference/current/http/sse/\r\n\r\nAnother gatling user posted the same question \r\nin the gatling community forum without ever receiveing an answer: https://community.gatling.io/t/sse-connect-via-post-request-possible/6543/1","title":"Is it Possible to Send a POST Server-Sent Event Request with a Request Body Using Gatling?","body":"<p>I'm currently working on a project where I have implemented a POST endpoint to trigger server-sent events (SSE) with a specific request body. This setup is to facilitate a search functionality involving numerous parameters.</p>\n<p>While I'm aware that using POST for SSE might not be the standard approach, it seemed like the simplest solution for my application's needs, so I went with it. However, it must be said that POST requests with SSE are apparently no longer so unusual, since ChatGpt also uses exactly such an endpoint.</p>\n<p>Now, I'm facing a challenge with Gatling. From my understanding, Gatling supports SSE with GET requests, but I haven't found clear documentation or examples showing how to handle SSE with POST requests, especially ones that require a request body.</p>\n<p>Is it possible to use Gatling to send a POST request for server-sent events with a request body? If so, how can I implement this? Are there any specific configurations or workarounds that I need to be aware of to make this work with Gatling?</p>\n<p>Thank you in advance for your help!</p>\n<p>Gatling SSE documentation: <a href=\"https://gatling.io/docs/gatling/reference/current/http/sse/\" rel=\"nofollow noreferrer\">https://gatling.io/docs/gatling/reference/current/http/sse/</a></p>\n<p>Another gatling user posted the same question\nin the gatling community forum without ever receiveing an answer: <a href=\"https://community.gatling.io/t/sse-connect-via-post-request-possible/6543/1\" rel=\"nofollow noreferrer\">https://community.gatling.io/t/sse-connect-via-post-request-possible/6543/1</a></p>\n"},{"tags":["java","intellij-idea","integer"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1700381698,"post_id":77510075,"comment_id":136645844,"body_markdown":"Well why have you created an array of size `10` if you&#39;re going to fill `number` elements? Why not create an array of `number` elements? (Your current code would fail in a different way if someone entered 11 to start with, aside from anything else...)","body":"Well why have you created an array of size <code>10</code> if you&#39;re going to fill <code>number</code> elements? Why not create an array of <code>number</code> elements? (Your current code would fail in a different way if someone entered 11 to start with, aside from anything else...)"},{"owner":{"account_id":21448499,"reputation":1,"user_id":22403821,"display_name":"Pronay Sarker"},"score":0,"creation_date":1700382240,"post_id":77510075,"comment_id":136645881,"body_markdown":"Thanks man, didnt think about that. Thank you @JonSkeet","body":"Thanks man, didnt think about that. Thank you @JonSkeet"}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1700382580,"creation_date":1700382580,"answer_id":77510124,"question_id":77510075,"body_markdown":"**Solution:**\r\n\r\n    int numbersAmount = sc.nextInt();\r\n    Integer[] array = new Integer[numbersAmount];\r\n    for(int j = 0; j &lt; array.length; j++){\r\n        array[j] = sc.nextInt();\r\n    }\r\n    Arrays.sort(array, Collections.reverseOrder());\r\n    System.out.println(Arrays.toString(array));\r\n\r\n**Additionally:**\r\n\r\nThink about: \r\n- What if you press ENTER without any Input?\r\n- What If you press ENTER If the input is an alphabetic letter?","title":"Can I print the whole array without getting &#39;Cannot read field &quot;value&quot; because &quot;anotherInteger&quot; is null&#39; error?","body":"<p><strong>Solution:</strong></p>\n<pre><code>int numbersAmount = sc.nextInt();\nInteger[] array = new Integer[numbersAmount];\nfor(int j = 0; j &lt; array.length; j++){\n    array[j] = sc.nextInt();\n}\nArrays.sort(array, Collections.reverseOrder());\nSystem.out.println(Arrays.toString(array));\n</code></pre>\n<p><strong>Additionally:</strong></p>\n<p>Think about:</p>\n<ul>\n<li>What if you press ENTER without any Input?</li>\n<li>What If you press ENTER If the input is an alphabetic letter?</li>\n</ul>\n"}],"owner":{"account_id":21448499,"reputation":1,"user_id":22403821,"display_name":"Pronay Sarker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77510124,"answer_count":1,"score":-2,"last_activity_date":1700383601,"creation_date":1700381313,"question_id":77510075,"body_markdown":"Well I am trying to create a program that is going to print number is decending number usings `rays.sort(array, Collections.reverseOrder());` method.\r\n\r\nit&#39;s giving me an error. because some of the values of the array is NULL. \r\nerror msg -`Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read field &quot;value&quot; because &quot;anotherInteger&quot; is null`\r\n\r\nExample: If I put `5` as the value of `number`, then only the first 5 elements of that array is going to have a value. So, it&#39;s showing me an error.\r\n\r\n\r\nand here is the code\r\n```\r\n            int number = sc.nextInt();\r\n            Integer array[]= new Integer[10];\r\n            for(int j=0;j&lt;number;j++){  // here number is the number of inputs,\r\n                    array[j]= sc.nextInt();\r\n            }\r\n            Arrays.sort(array, Collections.reverseOrder()); // to sort our array\r\n            System.out.println(Arrays.toString(array));\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nnow, is there any way that I can print the whole array without getting the error message?","title":"Can I print the whole array without getting &#39;Cannot read field &quot;value&quot; because &quot;anotherInteger&quot; is null&#39; error?","body":"<p>Well I am trying to create a program that is going to print number is decending number usings <code>rays.sort(array, Collections.reverseOrder());</code> method.</p>\n<p>it's giving me an error. because some of the values of the array is NULL.\nerror msg -<code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read field &quot;value&quot; because &quot;anotherInteger&quot; is null</code></p>\n<p>Example: If I put <code>5</code> as the value of <code>number</code>, then only the first 5 elements of that array is going to have a value. So, it's showing me an error.</p>\n<p>and here is the code</p>\n<pre><code>            int number = sc.nextInt();\n            Integer array[]= new Integer[10];\n            for(int j=0;j&lt;number;j++){  // here number is the number of inputs,\n                    array[j]= sc.nextInt();\n            }\n            Arrays.sort(array, Collections.reverseOrder()); // to sort our array\n            System.out.println(Arrays.toString(array));\n</code></pre>\n<p>now, is there any way that I can print the whole array without getting the error message?</p>\n"},{"tags":["java","android","unity-game-engine","gradle"],"owner":{"account_id":27737260,"reputation":1,"user_id":21174554,"display_name":"Amir Safari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700383331,"creation_date":1700383247,"question_id":77510158,"body_markdown":"Whenever Im trying to build my project for android devices I get this error along with &quot;Gradle build failed&quot; \r\nHow can I fix it ? the project is nearly blank, I just added google cardboard and PUN to it. \r\n[error logs image](https://i.stack.imgur.com/paj2e.jpg)\r\n\r\nAdding JAVA_HOME to my environment variables in the user variables as given in this link was what I tried : \r\n[tested solution link](https://discussions.unity.com/t/picked-up-java_tool_options-dfile-encoding-utf-8/251394)","title":"Getting &quot;Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF-8&quot; on Android building in Unity 2022 LTS","body":"<p>Whenever Im trying to build my project for android devices I get this error along with &quot;Gradle build failed&quot;\nHow can I fix it ? the project is nearly blank, I just added google cardboard and PUN to it.\n<a href=\"https://i.stack.imgur.com/paj2e.jpg\" rel=\"nofollow noreferrer\">error logs image</a></p>\n<p>Adding JAVA_HOME to my environment variables in the user variables as given in this link was what I tried :\n<a href=\"https://discussions.unity.com/t/picked-up-java_tool_options-dfile-encoding-utf-8/251394\" rel=\"nofollow noreferrer\">tested solution link</a></p>\n"},{"tags":["javascript","java","slack-api","slack-block-kit"],"owner":{"account_id":23340303,"reputation":1,"user_id":17415288,"display_name":"Naveen Chelluboina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700383058,"creation_date":1700258786,"question_id":77504854,"body_markdown":"```\r\nList&lt;com.slack.api.model.block.LayoutBlock&gt; content = new ArrayList&lt;&gt;(\r\n                asBlocks(\r\n                        input(\r\n                                input -&gt; input.blockId(Resource.ID)\r\n                                        .label(plainText(&quot;select Users&quot;, true))\r\n                                        .element(\r\n                                                multiUsersSelect(\r\n                                                        ms -&gt; ms.actionId(Resource.ID)\r\n                                                                .placeholder(plainText(pt -&gt; pt.text(&quot;users&quot;)))))),);\r\n```\r\nThese block gives the list of users in the entire workspace but i only need users in the existing channel\r\n\r\nhttps://api.slack.com/reference/block-kit/block-elements#users_multi_select\r\n\r\nI&#39;ve tried to get the list of users and use multi static select and send it as options object.\r\n\r\nhttps://api.slack.com/reference/block-kit/block-elements#static_multi_select\r\n\r\nBut here i have construct option object and and pass userName and Id which not feasible","title":"Slack Block-kit Multi_users_select Show only members in the channel","body":"<pre><code>List&lt;com.slack.api.model.block.LayoutBlock&gt; content = new ArrayList&lt;&gt;(\n                asBlocks(\n                        input(\n                                input -&gt; input.blockId(Resource.ID)\n                                        .label(plainText(&quot;select Users&quot;, true))\n                                        .element(\n                                                multiUsersSelect(\n                                                        ms -&gt; ms.actionId(Resource.ID)\n                                                                .placeholder(plainText(pt -&gt; pt.text(&quot;users&quot;)))))),);\n</code></pre>\n<p>These block gives the list of users in the entire workspace but i only need users in the existing channel</p>\n<p><a href=\"https://api.slack.com/reference/block-kit/block-elements#users_multi_select\" rel=\"nofollow noreferrer\">https://api.slack.com/reference/block-kit/block-elements#users_multi_select</a></p>\n<p>I've tried to get the list of users and use multi static select and send it as options object.</p>\n<p><a href=\"https://api.slack.com/reference/block-kit/block-elements#static_multi_select\" rel=\"nofollow noreferrer\">https://api.slack.com/reference/block-kit/block-elements#static_multi_select</a></p>\n<p>But here i have construct option object and and pass userName and Id which not feasible</p>\n"},{"tags":["java","spring","cloud","gateway","actuator"],"answers":[{"tags":[],"owner":{"account_id":7259270,"reputation":1,"user_id":5536686,"display_name":"lbg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700381498,"creation_date":1700381498,"answer_id":77510084,"question_id":77507549,"body_markdown":"I checked the Spring cloud gateway source code.\r\n\r\n&#39;/actuator/gateway/refresh&#39; fires the following events.\r\nAs you can see, there is no command to reload the configuration file of the Config Server.\r\nI feel like the explanation in the book I was studying is insufficient.\r\n\r\nRouter configuration via Java DSL or properties is combined in the CompositeRouteLocator class. And this is finally cached using the CachingRouteLocator class. This event initializes this cache. It may be possible to manage routing information in a specific repository and use it for refresh when changes occur.\r\n\r\nIf there are any errors, please let me know. Thank you.\r\n\r\n\r\n    // CachingRouteLocator.java\r\n    @Override\r\n\tpublic void onApplicationEvent(RefreshRoutesEvent event) {\r\n\t\ttry {\r\n\t\t\tif (this.cache.containsKey(CACHE_KEY) &amp;&amp; event.isScoped()) {\r\n\t\t\t\tfinal Mono&lt;List&lt;Route&gt;&gt; scopedRoutes = fetch(event.getMetadata()).collect(Collectors.toList())\r\n\t\t\t\t\t\t.onErrorResume(s -&gt; Mono.just(List.of()));\r\n\r\n\t\t\t\tscopedRoutes.subscribe(scopedRoutesList -&gt; {\r\n\t\t\t\t\tFlux.concat(Flux.fromIterable(scopedRoutesList), getNonScopedRoutes(event))\r\n\t\t\t\t\t\t\t.sort(AnnotationAwareOrderComparator.INSTANCE).materialize().collect(Collectors.toList())\r\n\t\t\t\t\t\t\t.subscribe(signals -&gt; {\r\n\t\t\t\t\t\t\t\tapplicationEventPublisher.publishEvent(new RefreshRoutesResultEvent(this));\r\n\t\t\t\t\t\t\t\tcache.put(CACHE_KEY, signals);\r\n\t\t\t\t\t\t\t}, this::handleRefreshError);\r\n\t\t\t\t}, this::handleRefreshError);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tfinal Mono&lt;List&lt;Route&gt;&gt; allRoutes = fetch().collect(Collectors.toList());\r\n\r\n\t\t\t\tallRoutes.subscribe(list -&gt; Flux.fromIterable(list).materialize().collect(Collectors.toList())\r\n\t\t\t\t\t\t.subscribe(signals -&gt; {\r\n\t\t\t\t\t\t\tapplicationEventPublisher.publishEvent(new RefreshRoutesResultEvent(this));\r\n\t\t\t\t\t\t\tcache.put(CACHE_KEY, signals);\r\n\t\t\t\t\t\t}, this::handleRefreshError), this::handleRefreshError);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (Throwable e) {\r\n\t\t\thandleRefreshError(e);\r\n\t\t}\r\n\t}","title":"Spring Cloud Gateway&#39;s refresh endpoint does not work","body":"<p>I checked the Spring cloud gateway source code.</p>\n<p>'/actuator/gateway/refresh' fires the following events.\nAs you can see, there is no command to reload the configuration file of the Config Server.\nI feel like the explanation in the book I was studying is insufficient.</p>\n<p>Router configuration via Java DSL or properties is combined in the CompositeRouteLocator class. And this is finally cached using the CachingRouteLocator class. This event initializes this cache. It may be possible to manage routing information in a specific repository and use it for refresh when changes occur.</p>\n<p>If there are any errors, please let me know. Thank you.</p>\n<pre><code>// CachingRouteLocator.java\n@Override\npublic void onApplicationEvent(RefreshRoutesEvent event) {\n    try {\n        if (this.cache.containsKey(CACHE_KEY) &amp;&amp; event.isScoped()) {\n            final Mono&lt;List&lt;Route&gt;&gt; scopedRoutes = fetch(event.getMetadata()).collect(Collectors.toList())\n                    .onErrorResume(s -&gt; Mono.just(List.of()));\n\n            scopedRoutes.subscribe(scopedRoutesList -&gt; {\n                Flux.concat(Flux.fromIterable(scopedRoutesList), getNonScopedRoutes(event))\n                        .sort(AnnotationAwareOrderComparator.INSTANCE).materialize().collect(Collectors.toList())\n                        .subscribe(signals -&gt; {\n                            applicationEventPublisher.publishEvent(new RefreshRoutesResultEvent(this));\n                            cache.put(CACHE_KEY, signals);\n                        }, this::handleRefreshError);\n            }, this::handleRefreshError);\n        }\n        else {\n            final Mono&lt;List&lt;Route&gt;&gt; allRoutes = fetch().collect(Collectors.toList());\n\n            allRoutes.subscribe(list -&gt; Flux.fromIterable(list).materialize().collect(Collectors.toList())\n                    .subscribe(signals -&gt; {\n                        applicationEventPublisher.publishEvent(new RefreshRoutesResultEvent(this));\n                        cache.put(CACHE_KEY, signals);\n                    }, this::handleRefreshError), this::handleRefreshError);\n        }\n    }\n    catch (Throwable e) {\n        handleRefreshError(e);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7259270,"reputation":1,"user_id":5536686,"display_name":"lbg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700381498,"creation_date":1700321536,"question_id":77507549,"body_markdown":"I configured the cloud config server and cloud gateway server in my local environment.\r\n(Spring boot 3.1.5, springCloudVersion : 2022.0.4 )\r\n\r\n\r\nThis is the geteway information configured on my cloud config server.\r\n```\r\nserver:\r\n  port: 8072\r\n\r\neureka:\r\n  instance:\r\n    prefer-ip-address: true\r\n  client:\r\n    register-with-eureka: true\r\n    fetch-registry: true\r\n    service-url:\r\n      defaultZone: http://localhost:8070/eureka\r\n\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      routes:\r\n        - id: organization-service\r\n          uri: lb://organization-service\r\n\r\n          predicates:\r\n            - Path=/organization/**\r\n\r\n          filters:\r\n            - RewritePath=/organization/(?&lt;path&gt;.*), /$\\{path}\r\n\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: &quot;*&quot;\r\n    enabled-by-default: true\r\n```\r\n\r\nWhen I change the routing information, &#39;http://{geteway-host}/actuator/refresh&#39; updates the routing information, but &#39;http://{geteway-host}/actuator/gateway/refresh&#39; does not work.\r\n\r\nWhy? Could you please explain what &#39;/actuator/gateway/refresh&#39; is for? Why isn&#39;t the routing information updated?\r\n\r\n\r\nI referred to the official document and changed the gateway routing information in the cloud config server. Then, I called &#39;/actuator/gateway/refresh&#39; and checked whether the routing information changed. But this didn&#39;t work.","title":"Spring Cloud Gateway&#39;s refresh endpoint does not work","body":"<p>I configured the cloud config server and cloud gateway server in my local environment.\n(Spring boot 3.1.5, springCloudVersion : 2022.0.4 )</p>\n<p>This is the geteway information configured on my cloud config server.</p>\n<pre><code>server:\n  port: 8072\n\neureka:\n  instance:\n    prefer-ip-address: true\n  client:\n    register-with-eureka: true\n    fetch-registry: true\n    service-url:\n      defaultZone: http://localhost:8070/eureka\n\nspring:\n  cloud:\n    gateway:\n      routes:\n        - id: organization-service\n          uri: lb://organization-service\n\n          predicates:\n            - Path=/organization/**\n\n          filters:\n            - RewritePath=/organization/(?&lt;path&gt;.*), /$\\{path}\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: &quot;*&quot;\n    enabled-by-default: true\n</code></pre>\n<p>When I change the routing information, 'http://{geteway-host}/actuator/refresh' updates the routing information, but 'http://{geteway-host}/actuator/gateway/refresh' does not work.</p>\n<p>Why? Could you please explain what '/actuator/gateway/refresh' is for? Why isn't the routing information updated?</p>\n<p>I referred to the official document and changed the gateway routing information in the cloud config server. Then, I called '/actuator/gateway/refresh' and checked whether the routing information changed. But this didn't work.</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":1593181,"reputation":5129,"user_id":1476062,"display_name":"Dennis Meng"},"score":2,"creation_date":1342654805,"post_id":11551888,"comment_id":15277577,"body_markdown":"For what it&#39;s worth, `java -help` prints out usage information; doing that would&#39;ve given you the solution immediately.","body":"For what it&#39;s worth, <code>java -help</code> prints out usage information; doing that would&#39;ve given you the solution immediately."},{"owner":{"account_id":1825654,"reputation":1180,"user_id":1658543,"accept_rate":67,"display_name":"Nils Lindemann"},"score":1,"creation_date":1592998765,"post_id":11551888,"comment_id":110624335,"body_markdown":"@DennisMeng yes, *if* you know that you need to write just one dash.","body":"@DennisMeng yes, <i>if</i> you know that you need to write just one dash."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1700388257,"post_id":11551888,"comment_id":136646293,"body_markdown":"@NilsLindemann that is why most tools come with [documentation](https://docs.oracle.com/en/java/javase/21/docs/specs/man/index.html) even back in 2012 (and, at least actual versions, also accept `--help`)","body":"@NilsLindemann that is why most tools come with <a href=\"https://docs.oracle.com/en/java/javase/21/docs/specs/man/index.html\" rel=\"nofollow noreferrer\">documentation</a> even back in 2012 (and, at least actual versions, also accept <code>--help</code>)"}],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1700370075,"post_id":11551904,"comment_id":136645261,"body_markdown":"There is a subtle difference between `-version` and `--version`.  The former outputs to standard error, while the latter outputs to standard output ... as is the standard behavior for `--version` options on Linux, MacOS, etc.  (This is mentioned by `java --help` ... at least on recent versions of Java that support the `--version` form.)","body":"There is a subtle difference between <code>-version</code> and <code>--version</code>.  The former outputs to standard error, while the latter outputs to standard output ... as is the standard behavior for <code>--version</code> options on Linux, MacOS, etc.  (This is mentioned by <code>java --help</code> ... at least on recent versions of Java that support the <code>--version</code> form.)"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1700380409,"post_id":11551904,"comment_id":136645761,"body_markdown":"@StephenC That is very interesting. Thank you for sharing. Added this to an answer.","body":"@StephenC That is very interesting. Thank you for sharing. Added this to an answer."}],"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"comment_count":2,"down_vote_count":0,"up_vote_count":121,"is_accepted":false,"score":121,"last_activity_date":1700380453,"creation_date":1342654401,"answer_id":11551904,"question_id":11551888,"body_markdown":"You used two `-` marks. Try with one: `java -version`.\r\n\r\n**Update**: [Since Java 9][1] `java` and `javac` commands support both `--version` and `-version`.\r\n\r\n----\r\nBonus:\r\n\r\nAs [mentioned][2] by [Stephen C][3] `java --help` states (at least in recent versions supporting `--version`) that\r\n\r\n&gt;     -version      print product version to the error stream and exit\r\n&gt;     --version     print product version to the output stream and exit\r\n\r\nThis means that if you try to execute `java -version` programmatically, for instance via [`Process`][4] you will need to read its result from [Process#getErrorStream()][5] instead of [Process#getOutputStream()][6].\r\n  \r\nSuch behavior can be also observed in other `java` options which have `-` and `--` versions.  For instance `-h` or `-?` or `-help` will print to *error stream*, while `--help` will print to *output stream*. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/tools/java.htm#JSWOR624\r\n  [2]: https://stackoverflow.com/questions/11551888/java-version-doesnt-work-in-the-command-line/11551904?noredirect=1#comment136645261_11551904\r\n  [3]: https://stackoverflow.com/users/139985/stephen-c\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html#getErrorStream()\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html#getOutputStream()","title":"java --version doesn&#39;t work in the command line","body":"<p>You used two <code>-</code> marks. Try with one: <code>java -version</code>.</p>\n<p><strong>Update</strong>: <a href=\"https://docs.oracle.com/javase/9/tools/java.htm#JSWOR624\" rel=\"nofollow noreferrer\">Since Java 9</a> <code>java</code> and <code>javac</code> commands support both <code>--version</code> and <code>-version</code>.</p>\n<hr />\n<p>Bonus:</p>\n<p>As <a href=\"https://stackoverflow.com/questions/11551888/java-version-doesnt-work-in-the-command-line/11551904?noredirect=1#comment136645261_11551904\">mentioned</a> by <a href=\"https://stackoverflow.com/users/139985/stephen-c\">Stephen C</a> <code>java --help</code> states (at least in recent versions supporting <code>--version</code>) that</p>\n<blockquote>\n<pre><code>-version      print product version to the error stream and exit\n--version     print product version to the output stream and exit\n</code></pre>\n</blockquote>\n<p>This means that if you try to execute <code>java -version</code> programmatically, for instance via <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html\" rel=\"nofollow noreferrer\"><code>Process</code></a> you will need to read its result from <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html#getErrorStream()\" rel=\"nofollow noreferrer\">Process#getErrorStream()</a> instead of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html#getOutputStream()\" rel=\"nofollow noreferrer\">Process#getOutputStream()</a>.</p>\n<p>Such behavior can be also observed in other <code>java</code> options which have <code>-</code> and <code>--</code> versions.  For instance <code>-h</code> or <code>-?</code> or <code>-help</code> will print to <em>error stream</em>, while <code>--help</code> will print to <em>output stream</em>.</p>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1659516880,"post_id":68397131,"comment_id":129311208,"body_markdown":"This basically repeats the information provided in the answer from Pshemo from 2012.","body":"This basically repeats the information provided in the answer from Pshemo from 2012."}],"tags":[],"owner":{"account_id":16381455,"reputation":117,"user_id":13877172,"display_name":"Anuj"},"comment_count":1,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1626364864,"creation_date":1626364864,"answer_id":68397131,"question_id":11551888,"body_markdown":"    java -version\r\n\r\nThis is the command to get the current installed version info ","title":"java --version doesn&#39;t work in the command line","body":"<pre><code>java -version\n</code></pre>\n<p>This is the command to get the current installed version info</p>\n"}],"owner":{"account_id":1331772,"reputation":651,"user_id":1275511,"accept_rate":0,"display_name":"Deepak behera"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52997,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"answer_count":2,"score":49,"last_activity_date":1700380453,"creation_date":1342654292,"question_id":11551888,"body_markdown":"I tried `java --version` in the command line and I get :\r\n\r\n    Unrecognized option: --version\r\n    Error: Could not create the Java virtual machine\r\n    Error: A fatal exception has occurred. Program will exit.\r\n\r\nEverything was working fine until I installed jre 7 (I had jdk 1.6 preinstalled )\r\nSo, I uninstalled the previous versions, restarted and then installed fresh jdk 7u5 windows i586.\r\n\r\nStill I get the same problem. Can anyone help me with this?&lt;br/&gt;\r\nI am unable to install and run maven for this reason.   \r\n  \r\n","title":"java --version doesn&#39;t work in the command line","body":"<p>I tried <code>java --version</code> in the command line and I get :</p>\n\n<pre><code>Unrecognized option: --version\nError: Could not create the Java virtual machine\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n\n<p>Everything was working fine until I installed jre 7 (I had jdk 1.6 preinstalled )\nSo, I uninstalled the previous versions, restarted and then installed fresh jdk 7u5 windows i586.</p>\n\n<p>Still I get the same problem. Can anyone help me with this?<br/>\nI am unable to install and run maven for this reason.   </p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1691263356,"post_id":76843148,"comment_id":135469419,"body_markdown":"I don&#39;t understand this part of the question, _&quot;... the sum of the lengths of the longest trail covered on each day is the minimum possible. ...&quot;_.  So, every day they must hike, at a minimum, whatever the current accumulated hiked distance is?","body":"I don&#39;t understand this part of the question, <i>&quot;... the sum of the lengths of the longest trail covered on each day is the minimum possible. ...&quot;</i>.  So, every day they must hike, at a minimum, whatever the current accumulated hiked distance is?"},{"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"score":0,"creation_date":1691264196,"post_id":76843148,"comment_id":135469506,"body_markdown":"@user16320675, For [10,15,9,3,8,5] and record 2, we pick 10 and 15 so output is 25","body":"@user16320675, For [10,15,9,3,8,5] and record 2, we pick 10 and 15 so output is 25"},{"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"score":0,"creation_date":1691264878,"post_id":76843148,"comment_id":135469566,"body_markdown":"@user16320675, I have added 2 more examples to my post which were part of sample test cases I have. For example array = [150, 200, 400, 350, 250] and record = 3, output is 15+200+400 = 750. So for input [10,15,9,3,8,5] and record 2, we get 10 + max(15,9,3,8,5) = 10 + 15 = 25","body":"@user16320675, I have added 2 more examples to my post which were part of sample test cases I have. For example array = [150, 200, 400, 350, 250] and record = 3, output is 15+200+400 = 750. So for input [10,15,9,3,8,5] and record 2, we get 10 + max(15,9,3,8,5) = 10 + 15 = 25"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1691264925,"post_id":76843148,"comment_id":135469570,"body_markdown":"repeating: &quot;why not 1st day: 10, 15, 9, 3, 8, longest=15; and 2nd day: just 5, longest=5 - so the sum is 15 + 5 = 20 ?&quot;  ?? - for the 3rd time, the given examples are (probably) not covering all cases (e.g. why only one trail/day but for the last day) ((and the last example is mostly useless, assuming it was meant to be record=1))","body":"repeating: &quot;why not 1st day: 10, 15, 9, 3, 8, longest=15; and 2nd day: just 5, longest=5 - so the sum is 15 + 5 = 20 ?&quot;  ?? - for the 3rd time, the given examples are (probably) not covering all cases (e.g. why only one trail/day but for the last day) ((and the last example is mostly useless, assuming it was meant to be record=1))"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1691277476,"post_id":76843148,"comment_id":135470588,"body_markdown":"Is the problem still on HackerRank?  If it is, could you, please, provide a link?","body":"Is the problem still on HackerRank?  If it is, could you, please, provide a link?"},{"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"score":0,"creation_date":1691294278,"post_id":76843148,"comment_id":135471317,"body_markdown":"@OldDogProgrammer, this is old question, so the link has expired.","body":"@OldDogProgrammer, this is old question, so the link has expired."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1700380244,"post_id":76843148,"comment_id":136645747,"body_markdown":"I rolled back your latest edit, as you removed the description of the work you did, and the code. These are essential to your post and should not be deleted.","body":"I rolled back your latest edit, as you removed the description of the work you did, and the code. These are essential to your post and should not be deleted."}],"answers":[{"comments":[{"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"score":0,"creation_date":1691264035,"post_id":76843181,"comment_id":135469487,"body_markdown":"Thank you, I am still trying to understand, looks like I misunderstood the question. If input is `[8,3,60,5,6,50,4,7,2,3]` and `record=5`, what should be the output? is it [8,3,60,5,6] = 82 or [60,5,6,50,4] = 125.","body":"Thank you, I am still trying to understand, looks like I misunderstood the question. If input is <code>[8,3,60,5,6,50,4,7,2,3]</code> and <code>record=5</code>, what should be the output? is it [8,3,60,5,6] = 82 or [60,5,6,50,4] = 125."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1691269626,"post_id":76843181,"comment_id":135469975,"body_markdown":"@user16320675 actually, good point. This question is really convoluted; it tries to make it relatable but then utterly fails by making you count the max trek instead of the sum of all treks that day.","body":"@user16320675 actually, good point. This question is really convoluted; it tries to make it relatable but then utterly fails by making you count the max trek instead of the sum of all treks that day."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1691269860,"post_id":76843181,"comment_id":135469994,"body_markdown":"For [8,3,60,5,6,50,4,7,2,3]r=5 I think they are looking for splitting that into: `8/3/60/5/6/50`, `4`, `7`, `2`, `3` for a total of `60+4+7+2+3` = 76. The &#39;story&#39; around the question is highly misleading (trekking all that in a single day to then walk next to nothing for the remaining 4 makes no sense and yet that gets you the best &#39;score&#39;, and doing it in fewer days is _easier_).","body":"For [8,3,60,5,6,50,4,7,2,3]r=5 I think they are looking for splitting that into: <code>8&#47;3&#47;60&#47;5&#47;6&#47;50</code>, <code>4</code>, <code>7</code>, <code>2</code>, <code>3</code> for a total of <code>60+4+7+2+3</code> = 76. The &#39;story&#39; around the question is highly misleading (trekking all that in a single day to then walk next to nothing for the remaining 4 makes no sense and yet that gets you the best &#39;score&#39;, and doing it in fewer days is <i>easier</i>)."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1691270193,"post_id":76843181,"comment_id":135470014,"body_markdown":"@technotigr I have significantly edited this answer, with a new (correct, this time!) example case that is failed by your question, as well as some additional insight into how to tackle this one.","body":"@technotigr I have significantly edited this answer, with a new (correct, this time!) example case that is failed by your question, as well as some additional insight into how to tackle this one."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1691270330,"post_id":76843181,"comment_id":135470023,"body_markdown":"To explain why it&#39;s 8/3/60/5/6/50 all on the first day: You _have_ to go in order. However, you can walk as many treks in a single day as you please, __but__, you have to end up at exactly 5 non-empty segments, so if you were to also do the &#39;4&#39; on the first day there are not enough treks left to pad it out to 5 days. However, by doing 60 and 50 both on the first day, you only &#39;pay&#39; the longest trek on the day, so combining long single treks in a single day is efficient. Had the input been one trek shorter (lop off that 3), the answer becomes slightly higher: 8+60+4+7+2.","body":"To explain why it&#39;s 8/3/60/5/6/50 all on the first day: You <i>have</i> to go in order. However, you can walk as many treks in a single day as you please, <b>but</b>, you have to end up at exactly 5 non-empty segments, so if you were to also do the &#39;4&#39; on the first day there are not enough treks left to pad it out to 5 days. However, by doing 60 and 50 both on the first day, you only &#39;pay&#39; the longest trek on the day, so combining long single treks in a single day is efficient. Had the input been one trek shorter (lop off that 3), the answer becomes slightly higher: 8+60+4+7+2."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":5,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1691270152,"creation_date":1691262988,"answer_id":76843181,"question_id":76843148,"body_markdown":"Your code adds the length of the first trail immediately and that is not necessarily the right move. It is in the one example you have, but it&#39;s not universal. For example, if you have `[50,60,8]` and record=2, the correct answer is 68: First day you do 50 and 60, and add 60 to the sum, and the second day you do 8 and add 8.\r\n\r\nPoint is, if you add &#39;50&#39;, you lose - that&#39;s not the right move. For such exercises, your first instinct might be to start coding but it usually is the wrong move. Write down a bunch of test cases and analyse how to derive the right answer for these. THEN start coding. You haven&#39;t done that effort here in this question - the right next step is for you to have written down a whole bunch of test cases you cooked up along with the answers you think are right.\r\n\r\nNormally, _if_ a programming question is &#39;festooned&#39; with a story to make it relatable, it tends to help to think about the question in terms of the relatable story first and extrapolate. But they can be misleading; it can be helpful to double check if the relatable story is in any way sensible.\r\n\r\n__And here it is not__, this is an utterly idiotic way to explain the problem. If you endeavour to do the whole thing in a single day you actually trivially get the lowest possible score (namely, the longest trek in the input, that&#39;s your total score). On a day where you do a really long trek it&#39;s worth it to do a ton of treks to try to gobble up other long but not quite as long treks - if you have 2 really long treks in the input you _really_ want to combine those in a single day.\r\n\r\nNone of that is in any way relatable to the idea of walking a bunch of treks to set a world record.\r\n\r\nThe point of such questions really isn&#39;t to test if you have the wherewithal to realize the question is faking you out by hanging it on a misleading &#39;relatable&#39; situation. So, in general, I&#39;d consider the question, and with it, the authority that makes you do this question (be it a test or an interviewer) really, really bad at their job. You should count yourself lucky you don&#39;t work there, as a programmer and someone in charge of hiring, I&#39;m offended by the very idea someone dared asked this lunacy in an interview.\r\n\r\nEDIT: I cooked up an example but then got it wrong. I was already annoyed at the &#39;form&#39; of this question and, given that OP is feeling a bit bad about failing their interview, chose to elaborate on how this question is ridiculous.","title":"Find longest sum for array and given days","body":"<p>Your code adds the length of the first trail immediately and that is not necessarily the right move. It is in the one example you have, but it's not universal. For example, if you have <code>[50,60,8]</code> and record=2, the correct answer is 68: First day you do 50 and 60, and add 60 to the sum, and the second day you do 8 and add 8.</p>\n<p>Point is, if you add '50', you lose - that's not the right move. For such exercises, your first instinct might be to start coding but it usually is the wrong move. Write down a bunch of test cases and analyse how to derive the right answer for these. THEN start coding. You haven't done that effort here in this question - the right next step is for you to have written down a whole bunch of test cases you cooked up along with the answers you think are right.</p>\n<p>Normally, <em>if</em> a programming question is 'festooned' with a story to make it relatable, it tends to help to think about the question in terms of the relatable story first and extrapolate. But they can be misleading; it can be helpful to double check if the relatable story is in any way sensible.</p>\n<p><strong>And here it is not</strong>, this is an utterly idiotic way to explain the problem. If you endeavour to do the whole thing in a single day you actually trivially get the lowest possible score (namely, the longest trek in the input, that's your total score). On a day where you do a really long trek it's worth it to do a ton of treks to try to gobble up other long but not quite as long treks - if you have 2 really long treks in the input you <em>really</em> want to combine those in a single day.</p>\n<p>None of that is in any way relatable to the idea of walking a bunch of treks to set a world record.</p>\n<p>The point of such questions really isn't to test if you have the wherewithal to realize the question is faking you out by hanging it on a misleading 'relatable' situation. So, in general, I'd consider the question, and with it, the authority that makes you do this question (be it a test or an interviewer) really, really bad at their job. You should count yourself lucky you don't work there, as a programmer and someone in charge of hiring, I'm offended by the very idea someone dared asked this lunacy in an interview.</p>\n<p>EDIT: I cooked up an example but then got it wrong. I was already annoyed at the 'form' of this question and, given that OP is feeling a bit bad about failing their interview, chose to elaborate on how this question is ridiculous.</p>\n"},{"comments":[{"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"score":0,"creation_date":1691347177,"post_id":76843842,"comment_id":135476201,"body_markdown":"Here in this answer, to get the max item, you are sorting the remaining elements to the max value. So the logic I used in my code is same as the one you provided here. So this answer cannot solve the problem.","body":"Here in this answer, to get the max item, you are sorting the remaining elements to the max value. So the logic I used in my code is same as the one you provided here. So this answer cannot solve the problem."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1691347622,"post_id":76843842,"comment_id":135476248,"body_markdown":"@technotigr, in your code you are assigning the max value without checking it.  This will cause only the maximum value of the last two items to be used.  Try adding a conditional check before the _max_ assignment.","body":"@technotigr, in your code you are assigning the max value without checking it.  This will cause only the maximum value of the last two items to be used.  Try adding a conditional check before the <i>max</i> assignment."},{"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"score":0,"creation_date":1691348065,"post_id":76843842,"comment_id":135476285,"body_markdown":"`max = Math.max(max, array[i]);` I am using Math.max function that does the conditional check already, so I am already checking it before assigning. Are you referring to this only?","body":"<code>max = Math.max(max, array[i]);</code> I am using Math.max function that does the conditional check already, so I am already checking it before assigning. Are you referring to this only?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1691356342,"post_id":76843842,"comment_id":135477053,"body_markdown":"@technotigr, you&#39;re right actually, I read that incorrectly.  That would work.","body":"@technotigr, you&#39;re right actually, I read that incorrectly.  That would work."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1693563288,"post_id":76843842,"comment_id":135780872,"body_markdown":"Logically, the result should be the same for the reversed array. Your first test will produce a different result when you reverse the array. So this solution is not correct.","body":"Logically, the result should be the same for the reversed array. Your first test will produce a different result when you reverse the array. So this solution is not correct."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1691283335,"creation_date":1691275918,"answer_id":76843842,"question_id":76843148,"body_markdown":"Sum the first _record &amp;minus; 1_ values, and then add the maximum of the remaining range.\r\n\r\nI utilized the _[Arrays#sort](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#sort(int[],int,int))_ method here, to get the maximum value of the range.\r\n\r\n```java\r\npublic static int trekking(int[] array, int record) {\r\n    int index, result = 0;\r\n    for (index = 0; index &lt; record - 1; index++)\r\n        result += array[index];\r\n    Arrays.sort(array, index, array.length);\r\n    result += array[array.length - 1];\r\n    return result;\r\n}\r\n```\r\n\r\nHere is a usage, with the provided example data.\r\n\r\n```java\r\nint[] arrayA = { 150, 200, 400, 350, 250 };\r\nint recordA = 3;\r\n\r\nint[] arrayB = { 78, 45, 12, 56, 85, 45 };\r\nint recordB = 0;\r\n\r\nint[] arrayC = { 10, 5, 9, 3, 8, 15 };\r\nint recordC = 2;\r\n\r\nSystem.out.println(trekking(arrayA, recordA));\r\nSystem.out.println(trekking(arrayB, recordB));\r\nSystem.out.println(trekking(arrayC, recordC));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n750\r\n85\r\n25\r\n```","title":"Find longest sum for array and given days","body":"<p>Sum the first <em>record − 1</em> values, and then add the maximum of the remaining range.</p>\n<p>I utilized the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#sort(int%5B%5D,int,int)\" rel=\"nofollow noreferrer\">Arrays#sort</a></em> method here, to get the maximum value of the range.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int trekking(int[] array, int record) {\n    int index, result = 0;\n    for (index = 0; index &lt; record - 1; index++)\n        result += array[index];\n    Arrays.sort(array, index, array.length);\n    result += array[array.length - 1];\n    return result;\n}\n</code></pre>\n<p>Here is a usage, with the provided example data.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] arrayA = { 150, 200, 400, 350, 250 };\nint recordA = 3;\n\nint[] arrayB = { 78, 45, 12, 56, 85, 45 };\nint recordB = 0;\n\nint[] arrayC = { 10, 5, 9, 3, 8, 15 };\nint recordC = 2;\n\nSystem.out.println(trekking(arrayA, recordA));\nSystem.out.println(trekking(arrayB, recordB));\nSystem.out.println(trekking(arrayC, recordC));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>750\n85\n25\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"score":0,"creation_date":1693331378,"post_id":76888179,"comment_id":135745714,"body_markdown":"I have added the code in my post based on the solution you provided. I am not clear where I did mistake, I am getting wrong output. Can you please check it once.","body":"I have added the code in my post based on the solution you provided. I am not clear where I did mistake, I am getting wrong output. Can you please check it once."},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1693332742,"post_id":76888179,"comment_id":135745960,"body_markdown":"I&#39;ll try to find time to go through your code, but no guarantees as I&#39;m quite busy with other tasks.","body":"I&#39;ll try to find time to go through your code, but no guarantees as I&#39;m quite busy with other tasks."}],"tags":[],"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691824648,"creation_date":1691824648,"answer_id":76888179,"question_id":76843148,"body_markdown":"**Dynamic Programming Solution**\r\n\r\nThis problem can be solved using [dynamic programming](https://en.wikipedia.org/wiki/Dynamic_programming).\r\n\r\nSuppose &quot;record&quot; equals `D` days and the number of trails is `T`.\r\n\r\nThe dynamic programming formulation will have `T` *stages*, one corresponding to each trail `t`, `1 &lt;= t &lt;= T`. At each stage `t` the *state variables* will be the the optimal solutions (define below) for the first `t` trails if they are hiked on the first `d` days (`1 &lt;= d &lt;= min { D, t }`) and `n` of those `t` trails are hiked on the last day. Thus, there will be one state variable for each triple, `(t,d,n)`.\r\n\r\nFor each such triple a *solution* is given by a (positive) number of hikes to be hiked on each of the `d` days, with those numbers of hikes summing to `t` and with `n` of those `t` hikes hiked on the last of the `d` days. The *value* of a solution equals the sum of the lengths of the longest hike hiked on each day. A solution is *optimal* if its value in minimal among all solutions for the given triple.\r\n\r\nIt is seen that the value of each state variable for the `t+1`&lt;sup&gt;th&lt;/sup&gt; stage can be computed from the state variables for the `t`&lt;sup&gt;th&lt;/sup&gt; stage. This satisfies dynamic programming&#39;s *Principle of Optimality*.\r\n\r\n**Basic Idea**\r\n \r\nThe idea is to start by hiking the first trail on the first day. There is but one solution for the first day, namely, hiking the first trail on the first day, with 1 of those hikes hiked on the last (here the first) day.\r\n\r\nWe then move on to determining the optimal solutions for hiking the first two trails on one day or on two days. That too is straightforward.\r\n\r\nNext we determine the optimal solutions for hiking the first three trails one one, two or three days (assuming `D &gt;= 3`). Here we encounter the first time we must consider the variable `n`, the number of hikes hiked on the last day. That is when the three hikes are to be hiked in two days, as there can either be one or two hikes hiked on the last (the second) day. For hiking the three hikes in one or three days there is only one possibility for the number of hikes hiked on the last day.\r\n\r\nThe calculations become slightly more involved for the fourth and subsequent days. Rather than explaining that here I will work through an example, which should make that clear.\r\n\r\n**Example**\r\n\r\nSuppose `D = 3` and the lengths of the hikes, which must be hiked in order, is given by the array\r\n\r\n    x = [350, 200, 400, 150, 250] \r\n\r\n**Variables**\r\n\r\nLet\r\n\r\n- `x(i)` equals the length of the i&lt;sup&gt;th&lt;/sup&gt; trail (index base 1);\r\n\r\n- `v(t,d,n)` equals the optimal value for hiking the first `t` trails over `d` days, when `n` trails are hiked on the last day; and\r\n\r\n- `z(t,d,n)` equals the maximum of the lengths of the last `n` trails associated with `v(t,d,n)`.\r\n\r\n**Determine the optimal solution for the first trail (`t = 1`)**\r\n\r\nWe need consider only one day and one number of hikes on the last (here the first) day.\r\n\r\n    x(1) = 350\r\n\r\n    v(1,1,1) = 350\r\n    x(1,1,1) = 350\r\n        \r\n**Determine the optimal solutions for the first two trails (`t = 2`)**\r\n\r\nWe need consider only two days and for each one number of hikes on the last day.\r\n\r\n    x(2) = 200\r\n\r\n    z(2,1,2) = max { z(1,1,1), x(2) } = max { 350, 200 } = 350\r\n    v(2,1,2) = v(1,1,1) - z(1,1,1) + z(2,1,2) = 350 - 350 + 350 = 350 \r\n\r\n    z(2,2,1) = x(2) = 200\r\n    v(2,2,1) = v(1,1,1) + z(2,2,1) = 350 + 200 = 550\r\n\r\n**Determine the optimal solutions for the first three trails (`t = 3`)**\r\n\r\nFrom here on we need consider all three days.\r\n \r\n    x(3) = 400   \r\n\r\n    z(3,1,3) = max { z(2,1,2), x(3) } = max { 350, 400 } = 400 \r\n    v(3,1,3) = v(2,1,2) - z(2,1,2) + z(3,1,3) = 350 - 350 + 400 = 400\r\n \r\n    z(3,2,2) = max { z(2,2,1), x(3) } = max { 200, 400 } = 400\r\n    v(3,2,2) = v(2,2,1) - z(2,2,1) + z(3,2,2) = 550 - 200 + 400 = 750\r\n    \r\n    z(3,2,1) = x(3) = 400\r\n    v(3,2,1) = v(2,1,2) + z(3,2,1) = 350 + 400 = 750\r\n    \r\n    z(3,3,1) = x(3) = 400\r\n    v(3,3,1) = v(2,2,1) + z(3,3,1) = 550 + 400 = 950\r\n    \r\n**Determine the optimal solutions for the first four trails (`t = 4`)**\r\n\r\nThere is no need to compute `v(4,1,4)` (and `z(4,1,4)`) because that would restrict the number of groups to `2` and `D = 3` (Record)\r\n \r\n    x(4) = 150   \r\n\r\n    z(4,2,3) = max { z(3,2,2), x(4) } = max { 400, 150 } = 400\r\n    v(4,2,3) = v(3,2,2) - z(3,2,2) + z(4,2,3) = 750 - 400 + 400 = 750\r\n\r\n    z(4,2,2) = max { z(3,2,1), x(4) } = max { 400, 150 } = 400\r\n    v(4,2,2) = v(3,2,1) - z(3,2,1) + z(4,2,2) = 750 - 400 + 400 = 750\r\n\r\n    z(4,2,1) = x(4) = 150\r\n    v(4,2,1) = v(3,1,3) + z(4,2,1) = 400 + 150 = 550\r\n                 \r\n    z(4,3,2) = max { z(3,3,1), x(4) } = max { 400, 150 } = 400\r\n    v(4,3,2) = v(3,3,1) - z(3,3,1) + z(4,3,2) = 950 - 400 + 400 = 950 \r\n  \r\n    z(4,3,1) = x(4) = 150 \r\n    v(4,3,1) = min { z(3,2,2), z(3,2,1) } + z(4,3,1) \r\n             = min { 750, 750 } + 150 = 900\r\n                     ^^^\r\n\r\nNotice that in computing `v(4,3,1)` either `2` or `1` hikes can be hiked on the second day. It is for that reason that we compute the minimum of  `z(3,2,2)` and `z(3,2,1)` and make a note of which is the minimum. Coincidentally, the two values are the same, so it makes no difference which we select.\r\n\r\n**Determine the optimal solutions for all five trails (`t = 5`)**\r\n\r\nAs `t = 5` refers to the last trail and `D = 3` we need only compute `z(5,3,i)` and `v(5,3,i)` for `i` equal `3`, `2` and `1`.\r\n\r\n    x(5) = 250\r\n\r\n    z(5,3,3) = max { z(4,3,2), x(5) } = max { 400, 250 } = 400\r\n    v(5,3,3) = v(4,3,2) - z(4,3,2) + z(5,3,3) = 950 - 400 + 400 = 950\r\n\r\n    z(5,3,2) = max { z(4,3,1), x(5) } = max { 150, 250 } = 250\r\n    v(5,3,2) = v(4,3,1) - z(4,3,1) + z(5,3,2) = 900 - 150 + 250 = 1000\r\n\r\n    z(5,3,1) = x(5) = 250\r\n    v(5,3,1) = min { v(4,2,3), v(4,2,2), v(4,2,1) } + x(5)\r\n             = min { 750, 750, 550 } + 250 = 800\r\n                               ^^^\r\nIn computing `v(5,3,1)` either `3` or `2` or `1` hikes can be hiked on the second day. It is for that reason that we compute the minimum of `z(4,2,3)` `z(4,2,2)` and `z(4,2,1)` and make a note of which is the minimum. \r\n\r\n**Determine the optimal value**\r\n\r\nLastly, we compute\r\n\r\n    min { v(5,3,3), v(5,3,2), v(5,3,1) } = min { 950, 1000, 800 } = 800\r\n                              ^^^^^^^^\r\nThe value of the optimal solution therefore equals `800`.\r\n\r\n**Construct the the optimal solution**\r\n\r\nTo compute the optimal number of hikes to hike each day we begin by noting that the `1` in `v(5,3,1)` above tells that on day 3 we should hike the last trail only, trail #5, whose distance is `250`. \r\n\r\nIn calculating `v(5,3,1)` (see above) we would have made a note that the minimum of the three values was `v(4,2,1)`. That tells us that on day 2 we should hike just 1 trail, trail #4, whose length is `150`. The calculation of `v(4,2,1)` in turn identifies the term `v(3,1,3)` (see above), which tells us that the first 3 trails should be hiked on the first day. As the maximum length of the first three trails is `400`, we see that the optimal value of this solution equals\r\n\r\n    400 + 150 + 250 = 800\r\n\r\nas expected. By this backtracking procedure we are able to compute the optimal number of hikes to hike each day regardless of the size of the problem.\r\n\r\nIt can be inferred that even if there were, say, 100 hikes to be hiked over 30 days, the optimal solution could be obtained in the blink of an eye.\r\n","title":"Find longest sum for array and given days","body":"<p><strong>Dynamic Programming Solution</strong></p>\n<p>This problem can be solved using <a href=\"https://en.wikipedia.org/wiki/Dynamic_programming\" rel=\"nofollow noreferrer\">dynamic programming</a>.</p>\n<p>Suppose &quot;record&quot; equals <code>D</code> days and the number of trails is <code>T</code>.</p>\n<p>The dynamic programming formulation will have <code>T</code> <em>stages</em>, one corresponding to each trail <code>t</code>, <code>1 &lt;= t &lt;= T</code>. At each stage <code>t</code> the <em>state variables</em> will be the the optimal solutions (define below) for the first <code>t</code> trails if they are hiked on the first <code>d</code> days (<code>1 &lt;= d &lt;= min { D, t }</code>) and <code>n</code> of those <code>t</code> trails are hiked on the last day. Thus, there will be one state variable for each triple, <code>(t,d,n)</code>.</p>\n<p>For each such triple a <em>solution</em> is given by a (positive) number of hikes to be hiked on each of the <code>d</code> days, with those numbers of hikes summing to <code>t</code> and with <code>n</code> of those <code>t</code> hikes hiked on the last of the <code>d</code> days. The <em>value</em> of a solution equals the sum of the lengths of the longest hike hiked on each day. A solution is <em>optimal</em> if its value in minimal among all solutions for the given triple.</p>\n<p>It is seen that the value of each state variable for the <code>t+1</code><sup>th</sup> stage can be computed from the state variables for the <code>t</code><sup>th</sup> stage. This satisfies dynamic programming's <em>Principle of Optimality</em>.</p>\n<p><strong>Basic Idea</strong></p>\n<p>The idea is to start by hiking the first trail on the first day. There is but one solution for the first day, namely, hiking the first trail on the first day, with 1 of those hikes hiked on the last (here the first) day.</p>\n<p>We then move on to determining the optimal solutions for hiking the first two trails on one day or on two days. That too is straightforward.</p>\n<p>Next we determine the optimal solutions for hiking the first three trails one one, two or three days (assuming <code>D &gt;= 3</code>). Here we encounter the first time we must consider the variable <code>n</code>, the number of hikes hiked on the last day. That is when the three hikes are to be hiked in two days, as there can either be one or two hikes hiked on the last (the second) day. For hiking the three hikes in one or three days there is only one possibility for the number of hikes hiked on the last day.</p>\n<p>The calculations become slightly more involved for the fourth and subsequent days. Rather than explaining that here I will work through an example, which should make that clear.</p>\n<p><strong>Example</strong></p>\n<p>Suppose <code>D = 3</code> and the lengths of the hikes, which must be hiked in order, is given by the array</p>\n<pre><code>x = [350, 200, 400, 150, 250] \n</code></pre>\n<p><strong>Variables</strong></p>\n<p>Let</p>\n<ul>\n<li><p><code>x(i)</code> equals the length of the i<sup>th</sup> trail (index base 1);</p>\n</li>\n<li><p><code>v(t,d,n)</code> equals the optimal value for hiking the first <code>t</code> trails over <code>d</code> days, when <code>n</code> trails are hiked on the last day; and</p>\n</li>\n<li><p><code>z(t,d,n)</code> equals the maximum of the lengths of the last <code>n</code> trails associated with <code>v(t,d,n)</code>.</p>\n</li>\n</ul>\n<p><strong>Determine the optimal solution for the first trail (<code>t = 1</code>)</strong></p>\n<p>We need consider only one day and one number of hikes on the last (here the first) day.</p>\n<pre><code>x(1) = 350\n\nv(1,1,1) = 350\nx(1,1,1) = 350\n    \n</code></pre>\n<p><strong>Determine the optimal solutions for the first two trails (<code>t = 2</code>)</strong></p>\n<p>We need consider only two days and for each one number of hikes on the last day.</p>\n<pre><code>x(2) = 200\n\nz(2,1,2) = max { z(1,1,1), x(2) } = max { 350, 200 } = 350\nv(2,1,2) = v(1,1,1) - z(1,1,1) + z(2,1,2) = 350 - 350 + 350 = 350 \n\nz(2,2,1) = x(2) = 200\nv(2,2,1) = v(1,1,1) + z(2,2,1) = 350 + 200 = 550\n</code></pre>\n<p><strong>Determine the optimal solutions for the first three trails (<code>t = 3</code>)</strong></p>\n<p>From here on we need consider all three days.</p>\n<pre><code>x(3) = 400   \n\nz(3,1,3) = max { z(2,1,2), x(3) } = max { 350, 400 } = 400 \nv(3,1,3) = v(2,1,2) - z(2,1,2) + z(3,1,3) = 350 - 350 + 400 = 400\n\nz(3,2,2) = max { z(2,2,1), x(3) } = max { 200, 400 } = 400\nv(3,2,2) = v(2,2,1) - z(2,2,1) + z(3,2,2) = 550 - 200 + 400 = 750\n\nz(3,2,1) = x(3) = 400\nv(3,2,1) = v(2,1,2) + z(3,2,1) = 350 + 400 = 750\n\nz(3,3,1) = x(3) = 400\nv(3,3,1) = v(2,2,1) + z(3,3,1) = 550 + 400 = 950\n</code></pre>\n<p><strong>Determine the optimal solutions for the first four trails (<code>t = 4</code>)</strong></p>\n<p>There is no need to compute <code>v(4,1,4)</code> (and <code>z(4,1,4)</code>) because that would restrict the number of groups to <code>2</code> and <code>D = 3</code> (Record)</p>\n<pre><code>x(4) = 150   \n\nz(4,2,3) = max { z(3,2,2), x(4) } = max { 400, 150 } = 400\nv(4,2,3) = v(3,2,2) - z(3,2,2) + z(4,2,3) = 750 - 400 + 400 = 750\n\nz(4,2,2) = max { z(3,2,1), x(4) } = max { 400, 150 } = 400\nv(4,2,2) = v(3,2,1) - z(3,2,1) + z(4,2,2) = 750 - 400 + 400 = 750\n\nz(4,2,1) = x(4) = 150\nv(4,2,1) = v(3,1,3) + z(4,2,1) = 400 + 150 = 550\n             \nz(4,3,2) = max { z(3,3,1), x(4) } = max { 400, 150 } = 400\nv(4,3,2) = v(3,3,1) - z(3,3,1) + z(4,3,2) = 950 - 400 + 400 = 950 \n\nz(4,3,1) = x(4) = 150 \nv(4,3,1) = min { z(3,2,2), z(3,2,1) } + z(4,3,1) \n         = min { 750, 750 } + 150 = 900\n                 ^^^\n</code></pre>\n<p>Notice that in computing <code>v(4,3,1)</code> either <code>2</code> or <code>1</code> hikes can be hiked on the second day. It is for that reason that we compute the minimum of  <code>z(3,2,2)</code> and <code>z(3,2,1)</code> and make a note of which is the minimum. Coincidentally, the two values are the same, so it makes no difference which we select.</p>\n<p><strong>Determine the optimal solutions for all five trails (<code>t = 5</code>)</strong></p>\n<p>As <code>t = 5</code> refers to the last trail and <code>D = 3</code> we need only compute <code>z(5,3,i)</code> and <code>v(5,3,i)</code> for <code>i</code> equal <code>3</code>, <code>2</code> and <code>1</code>.</p>\n<pre><code>x(5) = 250\n\nz(5,3,3) = max { z(4,3,2), x(5) } = max { 400, 250 } = 400\nv(5,3,3) = v(4,3,2) - z(4,3,2) + z(5,3,3) = 950 - 400 + 400 = 950\n\nz(5,3,2) = max { z(4,3,1), x(5) } = max { 150, 250 } = 250\nv(5,3,2) = v(4,3,1) - z(4,3,1) + z(5,3,2) = 900 - 150 + 250 = 1000\n\nz(5,3,1) = x(5) = 250\nv(5,3,1) = min { v(4,2,3), v(4,2,2), v(4,2,1) } + x(5)\n         = min { 750, 750, 550 } + 250 = 800\n                           ^^^\n</code></pre>\n<p>In computing <code>v(5,3,1)</code> either <code>3</code> or <code>2</code> or <code>1</code> hikes can be hiked on the second day. It is for that reason that we compute the minimum of <code>z(4,2,3)</code> <code>z(4,2,2)</code> and <code>z(4,2,1)</code> and make a note of which is the minimum.</p>\n<p><strong>Determine the optimal value</strong></p>\n<p>Lastly, we compute</p>\n<pre><code>min { v(5,3,3), v(5,3,2), v(5,3,1) } = min { 950, 1000, 800 } = 800\n                          ^^^^^^^^\n</code></pre>\n<p>The value of the optimal solution therefore equals <code>800</code>.</p>\n<p><strong>Construct the the optimal solution</strong></p>\n<p>To compute the optimal number of hikes to hike each day we begin by noting that the <code>1</code> in <code>v(5,3,1)</code> above tells that on day 3 we should hike the last trail only, trail #5, whose distance is <code>250</code>.</p>\n<p>In calculating <code>v(5,3,1)</code> (see above) we would have made a note that the minimum of the three values was <code>v(4,2,1)</code>. That tells us that on day 2 we should hike just 1 trail, trail #4, whose length is <code>150</code>. The calculation of <code>v(4,2,1)</code> in turn identifies the term <code>v(3,1,3)</code> (see above), which tells us that the first 3 trails should be hiked on the first day. As the maximum length of the first three trails is <code>400</code>, we see that the optimal value of this solution equals</p>\n<pre><code>400 + 150 + 250 = 800\n</code></pre>\n<p>as expected. By this backtracking procedure we are able to compute the optimal number of hikes to hike each day regardless of the size of the problem.</p>\n<p>It can be inferred that even if there were, say, 100 hikes to be hiked over 30 days, the optimal solution could be obtained in the blink of an eye.</p>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693776056,"creation_date":1693776056,"answer_id":77034207,"question_id":76843148,"body_markdown":"The approach with dynamic programming seems the right way to go. I would use a memoization table with only two dimensions, where the y-coordinate represents the number of partitions, and the x coordinate the index where the subarray under consideration starts (and extends to the end). The value found in the table should provide the optimal solution (minimum of sum of maxima) for the denoted subarray and number of partitions.\r\n\r\nIf you take a bottom-up approach you would:\r\n\r\n* Define 0 for when the number of partitions is zero: nothing to do. Zero is actually not a valid value for the number of partitions, but it will serve for the rest of the algorithm.\r\n* Define the results for when the number of partitions is one: in that case the maximum of the subarray must be stored. This can be done efficiently by iterating the values from end to start, keeping track of a &quot;running&quot; maximum.\r\n* For the greater number of partitions, build on top of the previous results: the current partition may end at serveral possible indices, so assume each of these one by one and maintain the maximum as this partition grows. What follows after the end of the partition can be read from previous results in the table.\r\n\r\nI suppose there are several optimisations possible. Like this one:\r\n\r\n* It is never needed to have two consecutive partitions that both have more than one member. \r\n\r\n    Proof: imagine we have two such consecutive partitions, and the maximum value in the left partition is greater than the maximum value in the right partition. We can shift all values from the left partition into the right partition, except its leftmost value. This will not increase the maximum value in either partition, although it could possibly lower that of the first partition. So we can always replace the original partitioning by one where we don&#39;t have two consecutive partitions that both have more than one member.\r\n\r\n    A similar reasoning can be used when the maximum value in the left partition is *less than or equal to* the maximum value in the right partition.\r\n\r\nThis means we can look at these scenarios:\r\n\r\n* Take the leftmost element of the current subarray as a 1-sized partition, and rely on the results for one less partition to see how that plays out for the rest of the subarray.\r\n* Look at other indices where the current partition could end (so it has a greater size than 1), and then select the very next element as a 1-sized partition on its own. We can rely on the results for two partitions less to see what we get for the rest of the subarray.\r\n* Assume that all but the current partition will be size 1 and thus &quot;cramped&quot; at the right side of the subarray. We can then get the results from the one partition less for those remaining partitions.\r\n\r\nHere is an implementation:\r\n\r\n```java\r\n    public static int solve(int[] values, int numPartitions) {\r\n        int n = values.length;\r\n        int[][] dp = new int[numPartitions+1][n+1];\r\n        // Initialise dp for when there is one partition \r\n        //    In that case the maximum value in the slice is the outcome\r\n        for (int i = n - 1; i &gt;= 0; i--) {\r\n            dp[1][i] = Math.max(dp[1][i + 1], values[i]); // &quot;running&quot; maximum\r\n        }\r\n        // Initialise dp for when array size is the number of partitions\r\n        for (int p = 1; p &lt;= numPartitions; p++) {\r\n            int i = n - p; // Size of slice is number of partitions\r\n            dp[p][i] = values[i] + dp[p - 1][i + 1];\r\n        }\r\n        // Increment number of partitions: dynamic programming\r\n        for (int p = 2; p &lt;= numPartitions; p++) {\r\n            for (int i = numPartitions - p; i &lt;= n - p; i++) {\r\n                // Split  (i)(i + 1...)...\r\n                int max = values[i]; // Maintain the maximum of the current partition\r\n                int result = max + dp[p - 1][i + 1];\r\n                // Loop to place a singleton (so two splits) somewhere in the slice\r\n                for (int j = i + 2; j &lt;= n - p; j++) {\r\n                    max = Math.max(max, values[j - 1]);\r\n                    if (p &gt; 2) { // Split (i..j-1)(j)(j+1...)...\r\n                        result = Math.min(result, max + values[j] + dp[p - 2][j + 1]);\r\n                    }\r\n                }\r\n                int j = n - p + 1;\r\n                // Split  (i..j-1)(j)(j+1)...(n-1) all cramped to the right\r\n                dp[p][i] = Math.min(result, Math.max(max, values[j - 1]) + dp[p - 1][j]);\r\n            }\r\n        }\r\n        return dp[numPartitions][0];\r\n    }\r\n```\r\n\r\nTested with these test cases:\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        System.out.printf(&quot;%d\\n&quot;.repeat(7),\r\n            solve(new int[]{1000, 500, 2000, 8000, 1500}, 3), // 9500\r\n            solve(new int[]{3000, 1000, 4000}, 2), // 7000\r\n            solve(new int[]{190, 200, 450, 499, 358, 160}, 3), // 849\r\n            solve(new int[]{10,5,9,3,8,15}, 2), // 25\r\n            solve(new int[]{150, 200, 400, 350, 250}, 3), // 750\r\n            solve(new int[]{78, 45, 12, 56, 85, 45}, 1), // 85\r\n            solve(new int[]{10, 5, 9, 3, 8, 15}, 2) // 25\r\n        );\r\n    }\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n9500\r\n7000\r\n849\r\n25\r\n750\r\n85\r\n25\r\n```","title":"Find longest sum for array and given days","body":"<p>The approach with dynamic programming seems the right way to go. I would use a memoization table with only two dimensions, where the y-coordinate represents the number of partitions, and the x coordinate the index where the subarray under consideration starts (and extends to the end). The value found in the table should provide the optimal solution (minimum of sum of maxima) for the denoted subarray and number of partitions.</p>\n<p>If you take a bottom-up approach you would:</p>\n<ul>\n<li>Define 0 for when the number of partitions is zero: nothing to do. Zero is actually not a valid value for the number of partitions, but it will serve for the rest of the algorithm.</li>\n<li>Define the results for when the number of partitions is one: in that case the maximum of the subarray must be stored. This can be done efficiently by iterating the values from end to start, keeping track of a &quot;running&quot; maximum.</li>\n<li>For the greater number of partitions, build on top of the previous results: the current partition may end at serveral possible indices, so assume each of these one by one and maintain the maximum as this partition grows. What follows after the end of the partition can be read from previous results in the table.</li>\n</ul>\n<p>I suppose there are several optimisations possible. Like this one:</p>\n<ul>\n<li><p>It is never needed to have two consecutive partitions that both have more than one member.</p>\n<p>Proof: imagine we have two such consecutive partitions, and the maximum value in the left partition is greater than the maximum value in the right partition. We can shift all values from the left partition into the right partition, except its leftmost value. This will not increase the maximum value in either partition, although it could possibly lower that of the first partition. So we can always replace the original partitioning by one where we don't have two consecutive partitions that both have more than one member.</p>\n<p>A similar reasoning can be used when the maximum value in the left partition is <em>less than or equal to</em> the maximum value in the right partition.</p>\n</li>\n</ul>\n<p>This means we can look at these scenarios:</p>\n<ul>\n<li>Take the leftmost element of the current subarray as a 1-sized partition, and rely on the results for one less partition to see how that plays out for the rest of the subarray.</li>\n<li>Look at other indices where the current partition could end (so it has a greater size than 1), and then select the very next element as a 1-sized partition on its own. We can rely on the results for two partitions less to see what we get for the rest of the subarray.</li>\n<li>Assume that all but the current partition will be size 1 and thus &quot;cramped&quot; at the right side of the subarray. We can then get the results from the one partition less for those remaining partitions.</li>\n</ul>\n<p>Here is an implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static int solve(int[] values, int numPartitions) {\n        int n = values.length;\n        int[][] dp = new int[numPartitions+1][n+1];\n        // Initialise dp for when there is one partition \n        //    In that case the maximum value in the slice is the outcome\n        for (int i = n - 1; i &gt;= 0; i--) {\n            dp[1][i] = Math.max(dp[1][i + 1], values[i]); // &quot;running&quot; maximum\n        }\n        // Initialise dp for when array size is the number of partitions\n        for (int p = 1; p &lt;= numPartitions; p++) {\n            int i = n - p; // Size of slice is number of partitions\n            dp[p][i] = values[i] + dp[p - 1][i + 1];\n        }\n        // Increment number of partitions: dynamic programming\n        for (int p = 2; p &lt;= numPartitions; p++) {\n            for (int i = numPartitions - p; i &lt;= n - p; i++) {\n                // Split  (i)(i + 1...)...\n                int max = values[i]; // Maintain the maximum of the current partition\n                int result = max + dp[p - 1][i + 1];\n                // Loop to place a singleton (so two splits) somewhere in the slice\n                for (int j = i + 2; j &lt;= n - p; j++) {\n                    max = Math.max(max, values[j - 1]);\n                    if (p &gt; 2) { // Split (i..j-1)(j)(j+1...)...\n                        result = Math.min(result, max + values[j] + dp[p - 2][j + 1]);\n                    }\n                }\n                int j = n - p + 1;\n                // Split  (i..j-1)(j)(j+1)...(n-1) all cramped to the right\n                dp[p][i] = Math.min(result, Math.max(max, values[j - 1]) + dp[p - 1][j]);\n            }\n        }\n        return dp[numPartitions][0];\n    }\n</code></pre>\n<p>Tested with these test cases:</p>\n<pre><code>    public static void main(String[] args) {\n        System.out.printf(&quot;%d\\n&quot;.repeat(7),\n            solve(new int[]{1000, 500, 2000, 8000, 1500}, 3), // 9500\n            solve(new int[]{3000, 1000, 4000}, 2), // 7000\n            solve(new int[]{190, 200, 450, 499, 358, 160}, 3), // 849\n            solve(new int[]{10,5,9,3,8,15}, 2), // 25\n            solve(new int[]{150, 200, 400, 350, 250}, 3), // 750\n            solve(new int[]{78, 45, 12, 56, 85, 45}, 1), // 85\n            solve(new int[]{10, 5, 9, 3, 8, 15}, 2) // 25\n        );\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code>9500\n7000\n849\n25\n750\n85\n25\n</code></pre>\n"}],"owner":{"account_id":17772156,"reputation":362,"user_id":12905411,"display_name":"technotigr"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1450,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":77034207,"answer_count":4,"score":4,"last_activity_date":1700380184,"creation_date":1691262464,"question_id":76843148,"body_markdown":"A hiker is planning a multi-day trek through the mountains. There are n trails, each with a certain length, given as a list, trails, that need to be covered in the same order given in the list. The hiker wants to achieve a new world record by completing the trek in record number of days. The hiker also wants to cover at least one trail on each day and ensure that the sum of the lengths of the longest trail covered on each day is the minimum possible. Find this minimum sum.\r\n\r\nFor example, say there are n =6 trails with lengths trails = [10,5,9,3,8,15], and record = 2. Then, the hiker covers the first trail on the first day, so the longest trail length is 10, and the remaining trails on the second day, so the longest trail on the second day is of length max(5,9,3,8,15) = 15. The sum of the lengths of the longest trails on all the days is 10 + 15 = 25. Return 25.\r\n\r\n**Other Examples:**\r\n\r\n    array = [150, 200, 400, 350, 250] and record = 3\r\n    \r\n    Ans:\r\n    Cover the first trail on day 1, the second on day 2, and the remaining on day 3.\r\n    The total is 150 + 200 + max(400, 350, 250) = 750\r\n\r\n**Example:**\r\n\r\n    array = [78, 45, 12, 56, 85, 45], record=1\r\n    \r\n    Ans:\r\n    \r\n    Covers all the trails in one day.\r\n    \r\n    Output = 85\r\n\r\n**Constraint:\r\n**\r\n\r\n`n is of size 1 to 300\r\nrecord is of size 1 to 300\r\narray elements holds values 1 to 10^5\r\n`\r\nResult of the program is an int, so no need to use long\r\n\r\n\r\n\r\nHere is my approach:\r\n\r\n Pick first (record-1) items from array and add them to result, next get the maximum item from (record to array.length) and add that to result.\r\n\r\nBased on the instructions I have written the code. This was asked during an interview one month back in hackerrank, this code solved only 10 out of 15 test cases. The remaining cases failed saying wrong output and they are hidden cases.\r\n\r\nIs there anything I am missing here that is causing the test cases fail? I tried using long variables also but there is no improvement in score.\r\n\r\n**Update:**\r\n\r\nUsing dynamic programming:\r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n            solve(new int[]{1000, 500, 2000, 8000, 1500}, 3); // correct result : 9500\r\n            solve(new int[]{3000, 1000, 4000}, 2); // correct result : 7000\r\n            solve(new int[]{190, 200, 450, 499, 358, 160}, 3); // correct result : 849\r\n        }\r\n    \t\r\n    \tpublic static void solve(int[] x, int D) {\r\n            int T = x.length; // Number of trails\r\n            \r\n            int[][][] v = new int[T + 1][D + 1][T + 1];\r\n            int[][][] z = new int[T + 1][D + 1][T + 1];\r\n            \r\n            // Dynamic programming\r\n            for (int t = 1; t &lt;= T; t++) {\r\n                for (int d = 1; d &lt;= Math.min(D, t); d++) {\r\n                    for (int n = 1; n &lt;= t; n++) {\r\n                        if (t == 1 &amp;&amp; d == 1) {\r\n                            v[t][d][n] = x[t - 1];\r\n                            z[t][d][n] = x[t - 1];\r\n                        } else {\r\n                            x[t - 1] = x[t - 1]; // Length of current trail\r\n                            \r\n                            if (d == 1) {\r\n                                z[t][d][n] = Math.max(z[t - 1][d][n - 1], x[t-1]);\r\n                                v[t][d][n] = v[t - 1][d][n - 1] - z[t - 1][d][n - 1] + z[t][d][n];\r\n                            } else {\r\n                                int maxLastTrail = Math.max(z[t - 1][d][n - 1], x[t-1]);\r\n                                z[t][d][n] = maxLastTrail;\r\n                                v[t][d][n] = v[t - 1][d][n - 1] - z[t - 1][d][n - 1] + z[t][d][n];\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            \r\n            // Finding the optimal value\r\n            int optimalValue = Integer.MAX_VALUE;\r\n            for (int n = 1; n &lt;= T; n++) {\r\n                optimalValue = Math.min(optimalValue, v[T][D][n]);\r\n            }\r\n            \r\n            //System.out.println(&quot;Optimal value: &quot; + optimalValue);\r\n            \r\n            // Backtracking to construct optimal solution\r\n            int daysLeft = D;\r\n            int trailsLeft = T;\r\n            int lastTrails = -1;\r\n            \r\n            for (int n = T; n &gt;= 1; n--) {\r\n                if (v[trailsLeft][daysLeft][n] == optimalValue) {\r\n                    lastTrails = n;\r\n                    break;\r\n                }\r\n            }\r\n            \r\n            List&lt;Integer&gt; hikePlan = new ArrayList&lt;&gt;();\r\n            for (int t = T; t &gt;= 1 &amp;&amp; daysLeft &gt;=0 &amp;&amp; lastTrails &gt;=0; t--) {\r\n                if (v[t][daysLeft][lastTrails] != optimalValue) {\r\n                    trailsLeft = t + 1;\r\n                    daysLeft--;\r\n                    lastTrails--;\r\n                    hikePlan.add(trailsLeft);\r\n                }\r\n            }\r\n            \r\n            Collections.reverse(hikePlan);\r\n            \r\n            // Printing the hike plan\r\n            int result = 0;\r\n            for(int e : hikePlan) {\r\n                result += x[e-1];\r\n            }\r\n            System.out.println(result);\r\n        }\r\n    }\r\n\r\nI tried to implement the solution provided by Cary Swoveland, but I am not clear where I did mistake, I am getting wrong output. \r\n\r\nFor input `{3000, 1000, 4000}, 2` correct result is `7000` but I am getting `5000`. Similarly for input `{190, 200, 450, 499, 358, 160}, 3`, correct output is `849` but getting `518`. For input `{150, 200, 400, 350, 250}, 3`, correct output is `750` but I am getting `600`.\r\n ","title":"Find longest sum for array and given days","body":"<p>A hiker is planning a multi-day trek through the mountains. There are n trails, each with a certain length, given as a list, trails, that need to be covered in the same order given in the list. The hiker wants to achieve a new world record by completing the trek in record number of days. The hiker also wants to cover at least one trail on each day and ensure that the sum of the lengths of the longest trail covered on each day is the minimum possible. Find this minimum sum.</p>\n<p>For example, say there are n =6 trails with lengths trails = [10,5,9,3,8,15], and record = 2. Then, the hiker covers the first trail on the first day, so the longest trail length is 10, and the remaining trails on the second day, so the longest trail on the second day is of length max(5,9,3,8,15) = 15. The sum of the lengths of the longest trails on all the days is 10 + 15 = 25. Return 25.</p>\n<p><strong>Other Examples:</strong></p>\n<pre><code>array = [150, 200, 400, 350, 250] and record = 3\n\nAns:\nCover the first trail on day 1, the second on day 2, and the remaining on day 3.\nThe total is 150 + 200 + max(400, 350, 250) = 750\n</code></pre>\n<p><strong>Example:</strong></p>\n<pre><code>array = [78, 45, 12, 56, 85, 45], record=1\n\nAns:\n\nCovers all the trails in one day.\n\nOutput = 85\n</code></pre>\n<p>**Constraint:\n**</p>\n<p><code>n is of size 1 to 300 record is of size 1 to 300 array elements holds values 1 to 10^5 </code>\nResult of the program is an int, so no need to use long</p>\n<p>Here is my approach:</p>\n<p>Pick first (record-1) items from array and add them to result, next get the maximum item from (record to array.length) and add that to result.</p>\n<p>Based on the instructions I have written the code. This was asked during an interview one month back in hackerrank, this code solved only 10 out of 15 test cases. The remaining cases failed saying wrong output and they are hidden cases.</p>\n<p>Is there anything I am missing here that is causing the test cases fail? I tried using long variables also but there is no improvement in score.</p>\n<p><strong>Update:</strong></p>\n<p>Using dynamic programming:</p>\n<pre><code>public static void main(String[] args) {\n        solve(new int[]{1000, 500, 2000, 8000, 1500}, 3); // correct result : 9500\n        solve(new int[]{3000, 1000, 4000}, 2); // correct result : 7000\n        solve(new int[]{190, 200, 450, 499, 358, 160}, 3); // correct result : 849\n    }\n    \n    public static void solve(int[] x, int D) {\n        int T = x.length; // Number of trails\n        \n        int[][][] v = new int[T + 1][D + 1][T + 1];\n        int[][][] z = new int[T + 1][D + 1][T + 1];\n        \n        // Dynamic programming\n        for (int t = 1; t &lt;= T; t++) {\n            for (int d = 1; d &lt;= Math.min(D, t); d++) {\n                for (int n = 1; n &lt;= t; n++) {\n                    if (t == 1 &amp;&amp; d == 1) {\n                        v[t][d][n] = x[t - 1];\n                        z[t][d][n] = x[t - 1];\n                    } else {\n                        x[t - 1] = x[t - 1]; // Length of current trail\n                        \n                        if (d == 1) {\n                            z[t][d][n] = Math.max(z[t - 1][d][n - 1], x[t-1]);\n                            v[t][d][n] = v[t - 1][d][n - 1] - z[t - 1][d][n - 1] + z[t][d][n];\n                        } else {\n                            int maxLastTrail = Math.max(z[t - 1][d][n - 1], x[t-1]);\n                            z[t][d][n] = maxLastTrail;\n                            v[t][d][n] = v[t - 1][d][n - 1] - z[t - 1][d][n - 1] + z[t][d][n];\n                        }\n                    }\n                }\n            }\n        }\n        \n        // Finding the optimal value\n        int optimalValue = Integer.MAX_VALUE;\n        for (int n = 1; n &lt;= T; n++) {\n            optimalValue = Math.min(optimalValue, v[T][D][n]);\n        }\n        \n        //System.out.println(&quot;Optimal value: &quot; + optimalValue);\n        \n        // Backtracking to construct optimal solution\n        int daysLeft = D;\n        int trailsLeft = T;\n        int lastTrails = -1;\n        \n        for (int n = T; n &gt;= 1; n--) {\n            if (v[trailsLeft][daysLeft][n] == optimalValue) {\n                lastTrails = n;\n                break;\n            }\n        }\n        \n        List&lt;Integer&gt; hikePlan = new ArrayList&lt;&gt;();\n        for (int t = T; t &gt;= 1 &amp;&amp; daysLeft &gt;=0 &amp;&amp; lastTrails &gt;=0; t--) {\n            if (v[t][daysLeft][lastTrails] != optimalValue) {\n                trailsLeft = t + 1;\n                daysLeft--;\n                lastTrails--;\n                hikePlan.add(trailsLeft);\n            }\n        }\n        \n        Collections.reverse(hikePlan);\n        \n        // Printing the hike plan\n        int result = 0;\n        for(int e : hikePlan) {\n            result += x[e-1];\n        }\n        System.out.println(result);\n    }\n}\n</code></pre>\n<p>I tried to implement the solution provided by Cary Swoveland, but I am not clear where I did mistake, I am getting wrong output.</p>\n<p>For input <code>{3000, 1000, 4000}, 2</code> correct result is <code>7000</code> but I am getting <code>5000</code>. Similarly for input <code>{190, 200, 450, 499, 358, 160}, 3</code>, correct output is <code>849</code> but getting <code>518</code>. For input <code>{150, 200, 400, 350, 250}, 3</code>, correct output is <code>750</code> but I am getting <code>600</code>.</p>\n"},{"tags":["java","android","kotlin","android-jetpack-compose","mobile-development"],"answers":[{"tags":[],"owner":{"account_id":19293500,"reputation":95,"user_id":14102903,"display_name":"dev.tejasb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700380040,"creation_date":1700380040,"answer_id":77510026,"question_id":77287863,"body_markdown":"This solution will not prevent user from entering invalid characters but will validate the input. Then, based on if the input is valid or not, you can decide whether to proceed further or not.\r\nThe regex used here will only allow months from 01 to 12 and current year or any year in future.\r\n\r\n``` kotlin\r\nvar text by remember { mutableStateOf(&quot;&quot;) }\r\nvar isError by remember { mutableStateOf(false) }\r\nval currentYear = java.time.Year.now().value.toString().substring(2)\r\nval regexPattern = &quot;&quot;&quot;^(0[1-9]|1[0-2])/$currentYear|[2-9]\\d$&quot;&quot;&quot;.toRegex()\r\nOutlinedTextField(\r\n  value = text,\r\n  onValueChange = {\r\n    text = it\r\n    isError = !regexPattern.matches(it)\r\n  },\r\n  isError = isError,\r\n)\r\n```","title":"How to implement standard formatting and validation while typing expiry date (Debit/Credit cards) in Jetpack Compose?","body":"<p>This solution will not prevent user from entering invalid characters but will validate the input. Then, based on if the input is valid or not, you can decide whether to proceed further or not.\nThe regex used here will only allow months from 01 to 12 and current year or any year in future.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var text by remember { mutableStateOf(&quot;&quot;) }\nvar isError by remember { mutableStateOf(false) }\nval currentYear = java.time.Year.now().value.toString().substring(2)\nval regexPattern = &quot;&quot;&quot;^(0[1-9]|1[0-2])/$currentYear|[2-9]\\d$&quot;&quot;&quot;.toRegex()\nOutlinedTextField(\n  value = text,\n  onValueChange = {\n    text = it\n    isError = !regexPattern.matches(it)\n  },\n  isError = isError,\n)\n</code></pre>\n"}],"owner":{"account_id":17241145,"reputation":137,"user_id":12483361,"display_name":"Alfin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700380040,"creation_date":1697201240,"question_id":77287863,"body_markdown":"I have a text field for entering a credit card expiration date in MM/YY format, which is a 4-digit string like 0523. The first two digits represent the month and the second two digits represent the year. I am using visual transformation to show a slash between the month and year.\r\n\r\nI need a function to format the input and prevent the user from typing invalid months (e.g., 13, 44, 21) and previous years.\r\n\r\nI have done a lot of research on this, but I haven&#39;t found a proper solution for preventing users from typing invalid dates.\r\n\r\nCan anyone help me implement this in Jetpack Compose?\r\n\r\n[![This is the ui part ][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lFdAO.jpg","title":"How to implement standard formatting and validation while typing expiry date (Debit/Credit cards) in Jetpack Compose?","body":"<p>I have a text field for entering a credit card expiration date in MM/YY format, which is a 4-digit string like 0523. The first two digits represent the month and the second two digits represent the year. I am using visual transformation to show a slash between the month and year.</p>\n<p>I need a function to format the input and prevent the user from typing invalid months (e.g., 13, 44, 21) and previous years.</p>\n<p>I have done a lot of research on this, but I haven't found a proper solution for preventing users from typing invalid dates.</p>\n<p>Can anyone help me implement this in Jetpack Compose?</p>\n<p><a href=\"https://i.stack.imgur.com/lFdAO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lFdAO.jpg\" alt=\"This is the ui part \" /></a></p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1700348183,"post_id":77508955,"comment_id":136644110,"body_markdown":"I&#39;m surprised `&quot;views/View1.fxml&quot;` works in either class, assuming that project structure is accurate. Both classes should require you use `&quot;/com/example/views/View1.fxml&quot;`. That said, reading [How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application?](https://stackoverflow.com/q/61531317/6395627) may help.","body":"I&#39;m surprised <code>&quot;views&#47;View1.fxml&quot;</code> works in either class, assuming that project structure is accurate. Both classes should require you use <code>&quot;&#47;com&#47;example&#47;views&#47;View1.fxml&quot;</code>. That said, reading <a href=\"https://stackoverflow.com/q/61531317/6395627\">How do I determine the correct path for FXML files, CSS files, Images, and other resources needed by my JavaFX Application?</a> may help."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1700372422,"post_id":77508955,"comment_id":136645356,"body_markdown":"You should respect case when using resources, for example `Views/View1.fxml` should be `views/View1.fxml`.","body":"You should respect case when using resources, for example <code>Views&#47;View1.fxml</code> should be <code>views&#47;View1.fxml</code>."}],"answers":[{"comments":[{"owner":{"account_id":22931421,"reputation":15,"user_id":17065633,"display_name":"Carlosz"},"score":0,"creation_date":1700390496,"post_id":77509983,"comment_id":136646476,"body_markdown":"This works thanks, but to which directory is the relative path on File2 pointing at? Is there a way to check it?","body":"This works thanks, but to which directory is the relative path on File2 pointing at? Is there a way to check it?"},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":2,"creation_date":1700392692,"post_id":77509983,"comment_id":136646677,"body_markdown":"The root of a relative path points to the directory of the file it is created in. If you create a relative path in File2.java, the root is &quot;subdirectory/&quot;. Just a note: All paths starting with a &quot;/&quot; are absolute, all other paths are relative. The knowledge about paths is absolutely necessary for developers, you really need to work that up, because you won&#39;t get happy without that! Additional topic: Filesystempath vs classpath. And both can be relative or absolute. :)","body":"The root of a relative path points to the directory of the file it is created in. If you create a relative path in File2.java, the root is &quot;subdirectory/&quot;. Just a note: All paths starting with a &quot;/&quot; are absolute, all other paths are relative. The knowledge about paths is absolutely necessary for developers, you really need to work that up, because you won&#39;t get happy without that! Additional topic: Filesystempath vs classpath. And both can be relative or absolute. :)"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1700525074,"post_id":77509983,"comment_id":136663078,"body_markdown":"@Carlosz For `getClass().getResource(&quot;&lt;relativePath&gt;&quot;)`, the path is relative to the location of the class.  That will be defined by the package the class is in (which could change if you copy this code to another class in another package).  Usually, I look resources up relative to my application class, (e.g. `MyApplication.class.getResource()`) because it is easier for me to know where to place and how to find the resource.  Ensure you don&#39;t use `..` to find relative resources in a parent folder, that will work with a file system resource but not a jar-packaged resource.","body":"@Carlosz For <code>getClass().getResource(&quot;&lt;relativePath&gt;&quot;)</code>, the path is relative to the location of the class.  That will be defined by the package the class is in (which could change if you copy this code to another class in another package).  Usually, I look resources up relative to my application class, (e.g. <code>MyApplication.class.getResource()</code>) because it is easier for me to know where to place and how to find the resource.  Ensure you don&#39;t use <code>..</code> to find relative resources in a parent folder, that will work with a file system resource but not a jar-packaged resource."}],"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1700378780,"creation_date":1700378780,"answer_id":77509983,"question_id":77508955,"body_markdown":"**Solution:**\r\n\r\nThe reason is that you are passing a `relative file path` as argument, instead of an `absolute file path`. This is not recommended.\r\n\r\nYour path should look like this:\r\n\r\n    String fxmlPath=&quot;/com/example/views/View1.fxml&quot;;\r\n    FXMLLoader(getClass().getResource(fxmlPath));\r\n\r\n**Note:**\r\n\r\nIf you are using IntelliJ and you write the first `/` of your path, you can press `CTRL+SPACE` to autocomplete your path from here on. Maybe this works in other IDEs too.","title":"Resource can&#39;t be accessed if class in subdirectory","body":"<p><strong>Solution:</strong></p>\n<p>The reason is that you are passing a <code>relative file path</code> as argument, instead of an <code>absolute file path</code>. This is not recommended.</p>\n<p>Your path should look like this:</p>\n<pre><code>String fxmlPath=&quot;/com/example/views/View1.fxml&quot;;\nFXMLLoader(getClass().getResource(fxmlPath));\n</code></pre>\n<p><strong>Note:</strong></p>\n<p>If you are using IntelliJ and you write the first <code>/</code> of your path, you can press <code>CTRL+SPACE</code> to autocomplete your path from here on. Maybe this works in other IDEs too.</p>\n"}],"owner":{"account_id":22931421,"reputation":15,"user_id":17065633,"display_name":"Carlosz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77509983,"answer_count":1,"score":0,"last_activity_date":1700378780,"creation_date":1700346782,"question_id":77508955,"body_markdown":"I&#39;m trying to create a java FX application and depending on the path of a .java file, a resource from the resource folder can or cannot be loaded. (I dont think this issue is java FX related btw).\r\n\r\nThis is my project strucure:\r\n\r\n```\r\njava/com/example/app/\r\n-File1.java\r\n-subdirectory/\r\n    -File2.java\r\nresources/com/example/views/\r\n-View1.fxml\r\n-View2.fxml\r\n```\r\n\r\nIn File1, by using the following line of code to load the resource, the file loads successfully.\r\n\r\n```\r\nFXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;Views/View1.fxml&quot;));\r\n```\r\n\r\nHowever, in File2 the resource can&#39;t be located.\r\n\r\nIf I move File2 to the parent directory I does work, but is not the solution I&#39;m looking for.\r\n\r\nCan someone explain why? Thx","title":"Resource can&#39;t be accessed if class in subdirectory","body":"<p>I'm trying to create a java FX application and depending on the path of a .java file, a resource from the resource folder can or cannot be loaded. (I dont think this issue is java FX related btw).</p>\n<p>This is my project strucure:</p>\n<pre><code>java/com/example/app/\n-File1.java\n-subdirectory/\n    -File2.java\nresources/com/example/views/\n-View1.fxml\n-View2.fxml\n</code></pre>\n<p>In File1, by using the following line of code to load the resource, the file loads successfully.</p>\n<pre><code>FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;Views/View1.fxml&quot;));\n</code></pre>\n<p>However, in File2 the resource can't be located.</p>\n<p>If I move File2 to the parent directory I does work, but is not the solution I'm looking for.</p>\n<p>Can someone explain why? Thx</p>\n"},{"tags":["java","spring-boot","graalvm"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1701467419,"post_id":77509842,"comment_id":136783734,"body_markdown":"I compiled and rand the native executable. did not get the exception when I hit to localhost:8080 I got 404 but no UnsupportedFeatureError, I put the screen shot  [here](https://github.com/quiz-roulette/legacy-service/pull/1#issuecomment-1836824825)","body":"I compiled and rand the native executable. did not get the exception when I hit to localhost:8080 I got 404 but no UnsupportedFeatureError, I put the screen shot  <a href=\"https://github.com/quiz-roulette/legacy-service/pull/1#issuecomment-1836824825\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":7665731,"reputation":2078,"user_id":5809504,"accept_rate":62,"display_name":"Smit"},"score":1,"creation_date":1701492102,"post_id":77509842,"comment_id":136785536,"body_markdown":"Thanks Oz. I updated to Java 21. And it worked.","body":"Thanks Oz. I updated to Java 21. And it worked."}],"owner":{"account_id":7665731,"reputation":2078,"user_id":5809504,"accept_rate":62,"display_name":"Smit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700375161,"creation_date":1700375161,"question_id":77509842,"body_markdown":"I have build the graalvm code, but it is failing with this execution error:\r\n\r\n```\r\nException in thread &quot;main&quot; com.oracle.svm.core.jdk.UnsupportedFeatureError: Code that was considered unreachable by closed-world analysis was reached.\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.util.VMError.unsupportedFeature(VMError.java:92)\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.snippets.SnippetRuntime.unsupportedFeature(SnippetRuntime.java:173)\r\n        at java.base@17.0.9/java.io.BufferedReader.close(BufferedReader.java:522)\r\n        at java.base@17.0.9/java.util.ServiceLoader$LazyClassPathLookupIterator.parse(ServiceLoader.java:1178)\r\n        at java.base@17.0.9/java.util.ServiceLoader$LazyClassPathLookupIterator.nextProviderClass(ServiceLoader.java:1213)\r\n        at java.base@17.0.9/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1228)\r\n        at java.base@17.0.9/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1273)\r\n        at java.base@17.0.9/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1309)\r\n        at java.base@17.0.9/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1393)\r\n        at org.slf4j.LoggerFactory.findServiceProviders(LoggerFactory.java:114)\r\n        at org.slf4j.LoggerFactory.bind(LoggerFactory.java:178)\r\n        at org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:170)\r\n        at org.slf4j.LoggerFactory.getProvider(LoggerFactory.java:455)\r\n        at org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:441)\r\n        at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:390)\r\n        at org.apache.commons.logging.LogAdapter$Slf4jAdapter.createLocationAwareLog(LogAdapter.java:121)\r\n        at org.apache.commons.logging.LogAdapter.createLog(LogAdapter.java:95)\r\n        at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:67)\r\n        at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:59)\r\n        at org.springframework.boot.SpringApplication.&lt;clinit&gt;(SpringApplication.java:185)\r\n        at com.quizroulette.LegacyServer.LegacyServerApplication.main(LegacyServerApplication.java:10)\r\n```\r\n\r\nHere is the PR: https://github.com/quiz-roulette/legacy-service/pull/1\r\n\r\nWhich I am trying to build.\r\n\r\n[Some of the Github Issues say it is resolved in Java 21][1]. Is it worth I upgrade to Java 21 directly?\r\n\r\n\r\n  [1]: https://github.com/oracle/graal/issues/5778#issuecomment-1727797954","title":"Java 17 - GraalVM - Spring Boot 3 - Failing with unreachable Code","body":"<p>I have build the graalvm code, but it is failing with this execution error:</p>\n<pre><code>Exception in thread &quot;main&quot; com.oracle.svm.core.jdk.UnsupportedFeatureError: Code that was considered unreachable by closed-world analysis was reached.\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.util.VMError.unsupportedFeature(VMError.java:92)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.snippets.SnippetRuntime.unsupportedFeature(SnippetRuntime.java:173)\n        at java.base@17.0.9/java.io.BufferedReader.close(BufferedReader.java:522)\n        at java.base@17.0.9/java.util.ServiceLoader$LazyClassPathLookupIterator.parse(ServiceLoader.java:1178)\n        at java.base@17.0.9/java.util.ServiceLoader$LazyClassPathLookupIterator.nextProviderClass(ServiceLoader.java:1213)\n        at java.base@17.0.9/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1228)\n        at java.base@17.0.9/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1273)\n        at java.base@17.0.9/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1309)\n        at java.base@17.0.9/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1393)\n        at org.slf4j.LoggerFactory.findServiceProviders(LoggerFactory.java:114)\n        at org.slf4j.LoggerFactory.bind(LoggerFactory.java:178)\n        at org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:170)\n        at org.slf4j.LoggerFactory.getProvider(LoggerFactory.java:455)\n        at org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:441)\n        at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:390)\n        at org.apache.commons.logging.LogAdapter$Slf4jAdapter.createLocationAwareLog(LogAdapter.java:121)\n        at org.apache.commons.logging.LogAdapter.createLog(LogAdapter.java:95)\n        at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:67)\n        at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:59)\n        at org.springframework.boot.SpringApplication.&lt;clinit&gt;(SpringApplication.java:185)\n        at com.quizroulette.LegacyServer.LegacyServerApplication.main(LegacyServerApplication.java:10)\n</code></pre>\n<p>Here is the PR: <a href=\"https://github.com/quiz-roulette/legacy-service/pull/1\" rel=\"nofollow noreferrer\">https://github.com/quiz-roulette/legacy-service/pull/1</a></p>\n<p>Which I am trying to build.</p>\n<p><a href=\"https://github.com/oracle/graal/issues/5778#issuecomment-1727797954\" rel=\"nofollow noreferrer\">Some of the Github Issues say it is resolved in Java 21</a>. Is it worth I upgrade to Java 21 directly?</p>\n"},{"tags":["java","multithreading"],"answers":[{"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1615629548,"post_id":66611188,"comment_id":117753957,"body_markdown":"You could also use method references (using the `Task` class of the OP as example): `Thread thread = new Thread(t::doTask);`","body":"You could also use method references (using the <code>Task</code> class of the OP as example): <code>Thread thread = new Thread(t::doTask);</code>"}],"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1615621593,"creation_date":1615621593,"answer_id":66611188,"question_id":66611118,"body_markdown":"There is no point in defining a `Runnable` class with a `run()` method that only invokes `doTask`. Just put the contents of `doTask` in `run`.\r\n\r\nOr, better, use a lambda:\r\n\r\n```\r\nThread thread = new Thread(() -&gt; {\r\n  // Stuff you want to do.\r\n});\r\n```\r\n\r\nBut there is absolutely no good reason to extend `Thread`.\r\n\r\nIn fact, in many cases you don&#39;t want to use `Thread` directly: instead, use an `ExecutorService`, to which you submit `Runnable`/`Callable` instances.","title":"What is best way of implementing multithreading in java?","body":"<p>There is no point in defining a <code>Runnable</code> class with a <code>run()</code> method that only invokes <code>doTask</code>. Just put the contents of <code>doTask</code> in <code>run</code>.</p>\n<p>Or, better, use a lambda:</p>\n<pre><code>Thread thread = new Thread(() -&gt; {\n  // Stuff you want to do.\n});\n</code></pre>\n<p>But there is absolutely no good reason to extend <code>Thread</code>.</p>\n<p>In fact, in many cases you don't want to use <code>Thread</code> directly: instead, use an <code>ExecutorService</code>, to which you submit <code>Runnable</code>/<code>Callable</code> instances.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615623228,"creation_date":1615622809,"answer_id":66611338,"question_id":66611118,"body_markdown":"&gt; What is best way of implementing multithreading in java?\r\n\r\nThere is no single &quot;best&quot; way.\r\n\r\nThere are different ways ... that have advantages and disadvantages.\r\n\r\nThe simple way is to use one of the standard `ExecutorService` implementations and submit your tasks as lambdas or instances of `Runnable` or `Callable`.  \r\n\r\nForkJoin pools are similar, but tuned for a different kind of task where one task forks multiple subtasks and then joins them; e.g. divide and conquer algorithms.\r\n\r\nAnother approach is to use a 3rd-party thread pool; e.g. as provided by Guava.\r\n\r\nIf you really need to manage your own threads you could implement your own thread pool, but there is probably something &quot;out there&quot; that provided the functionality you need.\r\n\r\nIf you have a task that needs to be run periodically (in a thread), look at `TimerTask` or a more sophisticated task scheduling library; e.g. Quartz.\r\n\r\nIf you have a situation where the threads are static and long running, you can instantiate and start the `Thread` objects directly, passing the body of the thread as a `Runnable` (or lambda).\r\n\r\nJust about the only thing to **avoid** is writing a class that `extends` the `Thread` class.  It is a bad idea.  And if you come across an example or demos that shows does this, *ignore it*.  Extending `Thread` embeds your business logic in the thread&#39;s `run()` method.  This makes it difficult to adapt your code to use a different thread management strategy.\r\n\r\nRecommended reading:\r\n\r\n  - [Thread Pools][1] from the Oracle Java Tutorials.\r\n  - [Introduction to Thread Pools in Java](https://www.baeldung.com/thread-pool-java-and-guava)\r\n  - https://stackoverflow.com/questions/541487\r\n\r\n----------------\r\n\r\nFinally, there is an Java incubator project (&quot;Loom&quot;) that is developing a light-weight thread model.  These threads are called &quot;fibres&quot;.  It is probably not relevant to you now.  \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html","title":"What is best way of implementing multithreading in java?","body":"<blockquote>\n<p>What is best way of implementing multithreading in java?</p>\n</blockquote>\n<p>There is no single &quot;best&quot; way.</p>\n<p>There are different ways ... that have advantages and disadvantages.</p>\n<p>The simple way is to use one of the standard <code>ExecutorService</code> implementations and submit your tasks as lambdas or instances of <code>Runnable</code> or <code>Callable</code>.</p>\n<p>ForkJoin pools are similar, but tuned for a different kind of task where one task forks multiple subtasks and then joins them; e.g. divide and conquer algorithms.</p>\n<p>Another approach is to use a 3rd-party thread pool; e.g. as provided by Guava.</p>\n<p>If you really need to manage your own threads you could implement your own thread pool, but there is probably something &quot;out there&quot; that provided the functionality you need.</p>\n<p>If you have a task that needs to be run periodically (in a thread), look at <code>TimerTask</code> or a more sophisticated task scheduling library; e.g. Quartz.</p>\n<p>If you have a situation where the threads are static and long running, you can instantiate and start the <code>Thread</code> objects directly, passing the body of the thread as a <code>Runnable</code> (or lambda).</p>\n<p>Just about the only thing to <strong>avoid</strong> is writing a class that <code>extends</code> the <code>Thread</code> class.  It is a bad idea.  And if you come across an example or demos that shows does this, <em>ignore it</em>.  Extending <code>Thread</code> embeds your business logic in the thread's <code>run()</code> method.  This makes it difficult to adapt your code to use a different thread management strategy.</p>\n<p>Recommended reading:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html\" rel=\"nofollow noreferrer\">Thread Pools</a> from the Oracle Java Tutorials.</li>\n<li><a href=\"https://www.baeldung.com/thread-pool-java-and-guava\" rel=\"nofollow noreferrer\">Introduction to Thread Pools in Java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/541487\">&quot;implements Runnable&quot; vs &quot;extends Thread&quot; in Java</a></li>\n</ul>\n<hr />\n<p>Finally, there is an Java incubator project (&quot;Loom&quot;) that is developing a light-weight thread model.  These threads are called &quot;fibres&quot;.  It is probably not relevant to you now.</p>\n"},{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615623110,"creation_date":1615623110,"answer_id":66611369,"question_id":66611118,"body_markdown":"In your simple example there is absolutely no downside (or upside) to using a shared object. But you can run into trouble if you have an mutable variable in your object that is changed in multiple tasks. \r\n\r\n    class Task {\r\n        //Getter\r\n        private long taskId;\r\n\r\n        public void doTask() {\r\n            taskId++;\r\n            for (int i = 0; i &lt; 1500; i++) {\r\n                System.out.print(&#39;T&#39;);\r\n            }\r\n        }\r\n    }\r\n\r\nIn this case you would have to use the `synchronized` keyword or AtomicLong. Otherwise you may end up in a race condition and  `taskId` gives wrong values.","title":"What is best way of implementing multithreading in java?","body":"<p>In your simple example there is absolutely no downside (or upside) to using a shared object. But you can run into trouble if you have an mutable variable in your object that is changed in multiple tasks.</p>\n<pre><code>class Task {\n    //Getter\n    private long taskId;\n\n    public void doTask() {\n        taskId++;\n        for (int i = 0; i &lt; 1500; i++) {\n            System.out.print('T');\n        }\n    }\n}\n</code></pre>\n<p>In this case you would have to use the <code>synchronized</code> keyword or AtomicLong. Otherwise you may end up in a race condition and  <code>taskId</code> gives wrong values.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700374879,"creation_date":1615623498,"answer_id":66611423,"question_id":66611118,"body_markdown":"The [Answer by Andy Turner][1] is correct. I just want to emphasize that in modern Java there is rarely any reason to directly address the `Thread` class. The tutorials you read are seriously outmoded; ignore them.\r\n\r\n# Executor services\r\n\r\nThe executor service framework was added to Java 5 to abstract away the chores of thread management. \r\n\r\nLook to the [`Executors`][2] class to instantiate various implementations of [`ExecutorService`][3].  \r\n\r\n    ExecutorService es = Executors. … ;\r\n\r\nTo automatically close the [`AutoCloseable`][4] executor service and any backing pool of threads, use try-with-resources syntax.\r\n\r\n    try (\r\n        ExecutorService es = Executors. … ;\r\n    ) {\r\n        …\r\n    }\r\n\r\nDefine your tasks as [`Runnable`][5] Or [`Callable`][6] objects. Submit them to the to the executor service. \r\n\r\n    try (\r\n        ExecutorService es = Executors. … ;\r\n    ) {\r\n        es.submit( new MyRunnable() ) ;\r\n        …\r\n    }\r\n\r\nIf you want to track the completion of your task, capture the [`Future`][7] object returned by the `submit` method.\r\n\r\n[*Project Loom*][8] brought a new executor service Java 21+ that uses lightweight [virtual threads][9] ([fibers][10]) to use less memory, execute faster, and make blocking very cheap, to allow for millions of threads running. Look for talks by Ron Pressler, Alan Bateman, or Jos&#233; Paumard. \r\n\r\n    try (\r\n        ExecutorService es = Executors.newVirtualThreadPerTaskExecutor() ;\r\n    ) {\r\n        es.submit( new MyRunnable() ) ;\r\n        …\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/66611188/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/util/concurrent/Executors.html\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/util/concurrent/ExecutorService.html\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/lang/AutoCloseable.html\r\n  [5]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/lang/Runnable.html\r\n  [6]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/util/concurrent/Callable.html\r\n  [7]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/util/concurrent/Future.html\r\n  [8]: https://wiki.openjdk.org/display/loom/Main\r\n  [9]: https://openjdk.org/jeps/444\r\n  [10]: https://en.wikipedia.org/wiki/Fiber_(computer_science)","title":"What is best way of implementing multithreading in java?","body":"<p>The <a href=\"https://stackoverflow.com/a/66611188/642706\">Answer by Andy Turner</a> is correct. I just want to emphasize that in modern Java there is rarely any reason to directly address the <code>Thread</code> class. The tutorials you read are seriously outmoded; ignore them.</p>\n<h1>Executor services</h1>\n<p>The executor service framework was added to Java 5 to abstract away the chores of thread management.</p>\n<p>Look to the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\"><code>Executors</code></a> class to instantiate various implementations of <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a>.</p>\n<pre><code>ExecutorService es = Executors. … ;\n</code></pre>\n<p>To automatically close the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\"><code>AutoCloseable</code></a> executor service and any backing pool of threads, use try-with-resources syntax.</p>\n<pre><code>try (\n    ExecutorService es = Executors. … ;\n) {\n    …\n}\n</code></pre>\n<p>Define your tasks as <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/lang/Runnable.html\" rel=\"nofollow noreferrer\"><code>Runnable</code></a> Or <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\"><code>Callable</code></a> objects. Submit them to the to the executor service.</p>\n<pre><code>try (\n    ExecutorService es = Executors. … ;\n) {\n    es.submit( new MyRunnable() ) ;\n    …\n}\n</code></pre>\n<p>If you want to track the completion of your task, capture the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/util/concurrent/Future.html\" rel=\"nofollow noreferrer\"><code>Future</code></a> object returned by the <code>submit</code> method.</p>\n<p><a href=\"https://wiki.openjdk.org/display/loom/Main\" rel=\"nofollow noreferrer\"><em>Project Loom</em></a> brought a new executor service Java 21+ that uses lightweight <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">virtual threads</a> (<a href=\"https://en.wikipedia.org/wiki/Fiber_(computer_science)\" rel=\"nofollow noreferrer\">fibers</a>) to use less memory, execute faster, and make blocking very cheap, to allow for millions of threads running. Look for talks by Ron Pressler, Alan Bateman, or José Paumard.</p>\n<pre><code>try (\n    ExecutorService es = Executors.newVirtualThreadPerTaskExecutor() ;\n) {\n    es.submit( new MyRunnable() ) ;\n    …\n}\n</code></pre>\n"}],"owner":{"display_name":"user14485881"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1005,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1700374879,"creation_date":1615621005,"question_id":66611118,"body_markdown":"I have been following several YouTube demos and tutorials on implementing multi-threaded operations in Java. However, all the tutorials show this following procedure:\r\n\r\n```\r\nclass Task implements Runnable {\r\n    @Override\r\n    public void run() {\r\n        doTask();\r\n    }\r\n\r\n    public void doTask() {\r\n        for (int i = 0; i &lt; 1500; i++) {\r\n            System.out.print(&#39;T&#39;);\r\n        }\r\n    }\r\n}\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Task t = new Task();\r\n\r\n        Thread thread = new Thread(t);\r\n        thread.start();\r\n\r\n        for (int i = 0; i &lt; 1500; i++) {\r\n            System.out.print(&#39;M&#39;);\r\n        }\r\n    }\r\n}\r\n```\r\nSome demos extends Thread class instead of Runnable, however, they follow a similar concept.\r\n\r\nHowever, one problem that I reckon is that what if I want to have multiple logics in a class that I want to run concurrently, then, I have a issue. Well, Java veterans may know some trick to do so. However, I tried to implement such logic in a different way. Here is the code that I wrote:\r\n```\r\nclass Task {\r\n    public void doTask() {\r\n        for (int i = 0; i &lt; 1500; i++) {\r\n            System.out.print(&#39;T&#39;);\r\n        }\r\n    }\r\n}\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Task t = new Task();\r\n\r\n        Thread thread = new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                t.doTask();\r\n            }\r\n        });\r\n        thread.start();\r\n\r\n        for (int i = 0; i &lt; 1500; i++) {\r\n            System.out.print(&#39;M&#39;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNow, I can launch several threads and call the particular method that I want run concurrently.\r\n\r\nNow, I want to know is there any benefit of implementing multi threaded operation using the first approach and is there any shortcomings of the latter one?","title":"What is best way of implementing multithreading in java?","body":"<p>I have been following several YouTube demos and tutorials on implementing multi-threaded operations in Java. However, all the tutorials show this following procedure:</p>\n<pre><code>class Task implements Runnable {\n    @Override\n    public void run() {\n        doTask();\n    }\n\n    public void doTask() {\n        for (int i = 0; i &lt; 1500; i++) {\n            System.out.print('T');\n        }\n    }\n}\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Task t = new Task();\n\n        Thread thread = new Thread(t);\n        thread.start();\n\n        for (int i = 0; i &lt; 1500; i++) {\n            System.out.print('M');\n        }\n    }\n}\n</code></pre>\n<p>Some demos extends Thread class instead of Runnable, however, they follow a similar concept.</p>\n<p>However, one problem that I reckon is that what if I want to have multiple logics in a class that I want to run concurrently, then, I have a issue. Well, Java veterans may know some trick to do so. However, I tried to implement such logic in a different way. Here is the code that I wrote:</p>\n<pre><code>class Task {\n    public void doTask() {\n        for (int i = 0; i &lt; 1500; i++) {\n            System.out.print('T');\n        }\n    }\n}\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Task t = new Task();\n\n        Thread thread = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                t.doTask();\n            }\n        });\n        thread.start();\n\n        for (int i = 0; i &lt; 1500; i++) {\n            System.out.print('M');\n        }\n    }\n}\n</code></pre>\n<p>Now, I can launch several threads and call the particular method that I want run concurrently.</p>\n<p>Now, I want to know is there any benefit of implementing multi threaded operation using the first approach and is there any shortcomings of the latter one?</p>\n"},{"tags":["java","spring-cloud","spring-cloud-gateway"],"comments":[{"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"score":0,"creation_date":1700234091,"post_id":77500951,"comment_id":136632927,"body_markdown":"please add buildRouteLocatorFrom method detail","body":"please add buildRouteLocatorFrom method detail"},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1700242313,"post_id":77500951,"comment_id":136634490,"body_markdown":"@DingHao please see the edit. I omitted the methods for a good reason","body":"@DingHao please see the edit. I omitted the methods for a good reason"}],"answers":[{"comments":[{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1700386910,"post_id":77509823,"comment_id":136646167,"body_markdown":"Thank you. But how do I fix it?","body":"Thank you. But how do I fix it?"},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1700387637,"post_id":77509823,"comment_id":136646241,"body_markdown":"I added an extra invocation of `refreshRoutings()` before registering the listener in my `@PostConstruct`, and you know, the app did start up! It seems you were right","body":"I added an extra invocation of <code>refreshRoutings()</code> before registering the listener in my <code>@PostConstruct</code>, and you know, the app did start up! It seems you were right"}],"tags":[],"owner":{"account_id":25804254,"reputation":774,"user_id":19546048,"display_name":"DingHao"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700374715,"creation_date":1700374715,"answer_id":77509823,"question_id":77500951,"body_markdown":"According to the exception log\r\n\r\nIf the @RefreshScope annotation is not used, the custom routeLocator bean is not proxied. At this time, the RouteLocator instance returned by routeLocatorProvider.getRouteLocator() is actually null, that is, NullBean, because you initialize the routeLocator variable by listening to the CacheRefreshedEvent event, and this event It is sent by a scheduled task in DiscoveryClient (initScheduledTasks()), with a default delay of 30 seconds.\r\n\r\n        @Bean\r\n    \t@Primary\r\n    \t@ConditionalOnMissingBean(name = &quot;cachedCompositeRouteLocator&quot;)\r\n    \tpublic RouteLocator cachedCompositeRouteLocator(List&lt;RouteLocator&gt; routeLocators) {\r\n    \t\treturn new CachingRouteLocator(new CompositeRouteLocator(Flux.fromIterable(routeLocators)));\r\n    \t}\r\n\r\nTherefore, the routeLocators obtained from the main RouteLocator actually only have a built-in RouteDefinitionRouteLocator (because NullBean will be filtered when injected), and there is no your customized routeLocator. There will be no problem when calling getRoutes() later. Of course, in this case, you can customize it. RouteLocator is equivalent to not being defined.\r\n\r\nIf the @RefreshScope annotation is used, the custom routeLocator will be proxied (but the real bean of the proxy is still NullBean). The routeLocators actually have two beans. Finally, when getRoutes() is executed, it will be executed on the NullBean instance, thus reporting object is not an instance of declaring class error\r\n","title":"@RefreshScope causes &quot;object is not an instance of declaring class&quot;. Why?","body":"<p>According to the exception log</p>\n<p>If the @RefreshScope annotation is not used, the custom routeLocator bean is not proxied. At this time, the RouteLocator instance returned by routeLocatorProvider.getRouteLocator() is actually null, that is, NullBean, because you initialize the routeLocator variable by listening to the CacheRefreshedEvent event, and this event It is sent by a scheduled task in DiscoveryClient (initScheduledTasks()), with a default delay of 30 seconds.</p>\n<pre><code>    @Bean\n    @Primary\n    @ConditionalOnMissingBean(name = &quot;cachedCompositeRouteLocator&quot;)\n    public RouteLocator cachedCompositeRouteLocator(List&lt;RouteLocator&gt; routeLocators) {\n        return new CachingRouteLocator(new CompositeRouteLocator(Flux.fromIterable(routeLocators)));\n    }\n</code></pre>\n<p>Therefore, the routeLocators obtained from the main RouteLocator actually only have a built-in RouteDefinitionRouteLocator (because NullBean will be filtered when injected), and there is no your customized routeLocator. There will be no problem when calling getRoutes() later. Of course, in this case, you can customize it. RouteLocator is equivalent to not being defined.</p>\n<p>If the @RefreshScope annotation is used, the custom routeLocator will be proxied (but the real bean of the proxy is still NullBean). The routeLocators actually have two beans. Finally, when getRoutes() is executed, it will be executed on the NullBean instance, thus reporting object is not an instance of declaring class error</p>\n"}],"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77509823,"answer_count":1,"score":0,"last_activity_date":1700374715,"creation_date":1700217161,"question_id":77500951,"body_markdown":"This works:\r\n```java\r\n@Configuration\r\npublic class RouteLocatorConfig {\r\n    @Bean\r\n    public RouteLocator routeLocator(RouteLocatorProvider routeLocatorProvider) {\r\n        return routeLocatorProvider.getRouteLocator();\r\n    }\r\n}\r\n```\r\nbut this doesn&#39;t:\r\n```java\r\n@Configuration\r\npublic class RouteLocatorConfig {\r\n    @Bean\r\n    @RefreshScope\r\n    public RouteLocator routeLocator(RouteLocatorProvider routeLocatorProvider) {\r\n        return routeLocatorProvider.getRouteLocator();\r\n    }\r\n}\r\n```\r\n`RouteLocatorProvider` is a class that I wrote myself. It&#39;s annotated as a `@Component` and is scanned by another `@Configuration` called `WebClientConfig`. Let&#39;s ignore for a moment that it&#39;s semantically questionable\r\n```java\r\n@Configuration\r\n@ComponentScan(basePackages = &quot;by.afinny.apigateway&quot;)\r\npublic class WebClientConfig {\r\n    @Bean\r\n    @LoadBalanced\r\n    public WebClient.Builder webClientBuilder() {\r\n        return WebClient.builder();\r\n    }\r\n}\r\n```\r\n```java\r\n@Component\r\npublic class RouteLocatorProvider {\r\n    private final EurekaClient eurekaClient;\r\n    private final WebClient.Builder webClientBuilder;\r\n    private final RouteLocatorBuilder routeLocatorBuilder;\r\n    private final OpenAPIV3Parser apiParser;\r\n    @Getter\r\n    private RouteLocator routeLocator;\r\n\r\n    public RouteLocatorProvider(EurekaClient eurekaClient, WebClient.Builder webClientBuilder,\r\n                                RouteLocatorBuilder routeLocatorBuilder) {\r\n        this.eurekaClient = eurekaClient;\r\n        this.webClientBuilder = webClientBuilder;\r\n        this.routeLocatorBuilder = routeLocatorBuilder;\r\n        this.apiParser = new OpenAPIV3Parser();\r\n    }\r\n\r\n    @PostConstruct\r\n    public void registerListener() {\r\n        eurekaClient.registerEventListener(event -&gt; {\r\n            if (event instanceof CacheRefreshedEvent) { // wtf, spring\r\n                refreshRoutings();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void refreshRoutings() {\r\n        List&lt;Application&gt; applications = findOtherRegisteredApplications();\r\n        Map&lt;Application, SwaggerParseResult&gt; docs = mapToDocs(applications);\r\n        routeLocator = buildRouteLocatorFrom(docs);\r\n        // initially, I called refreshScope.refresh(RouteLocator.class) here but then removed it to isolate the cause – removing it didn&#39;t help\r\n    }\r\n\r\n// more logic\r\n```\r\nYou may be wondering what all those methods do. But it really doesn&#39;t matter. If you implement them like this (just to make the compiler happy), the problem is exactly the same:\r\n```java\r\n    private List&lt;Application&gt; findOtherRegisteredApplications() {\r\n        return Collections.emptyList();\r\n    }\r\n\r\n    private Map&lt;Application, SwaggerParseResult&gt; mapToDocs(List&lt;Application&gt; applications) {\r\n        return Collections.emptyMap();\r\n    }\r\n\r\n    private RouteLocator buildRouteLocatorFrom(Map&lt;Application, SwaggerParseResult&gt; appsToDocs) {\r\n        return routeLocatorBuilder.routes().build();\r\n    }\r\n```\r\nAnnotating the `RouteLocator` `@Bean` method with `@RefreshScope` leads to this exception:\r\n```\r\norg.springframework.context.ApplicationContextException: Failed to start bean &#39;eurekaAutoServiceRegistration&#39;\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:182) ~[spring-context-6.0.12.jar:6.0.12]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:357) ~[spring-context-6.0.12.jar:6.0.12]\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:156) ~[spring-context-6.0.12.jar:6.0.12]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:124) ~[spring-context-6.0.12.jar:6.0.12]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:958) ~[spring-context-6.0.12.jar:6.0.12]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:611) ~[spring-context-6.0.12.jar:6.0.12]\r\n\tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\tat by.afinny.apigateway.ApiGatewayV2Application.main(ApiGatewayV2Application.java:9) ~[classes/:na]\r\nCaused by: java.lang.IllegalArgumentException: object is not an instance of declaring class\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281) ~[spring-core-6.0.12.jar:6.0.12]\r\n\tat org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:482) ~[spring-cloud-context-4.0.4.jar:4.0.4]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.12.jar:6.0.12]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.12.jar:6.0.12]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy107.getRoutes(Unknown Source) ~[na:na]\r\n\tat reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onNext(FluxMergeSequential.java:208) ~[reactor-core-3.5.10.jar:3.5.10]\r\n\tat reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:335) ~[reactor-core-3.5.10.jar:3.5.10]\r\n\tat reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.5.10.jar:3.5.10]\r\n\tat reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onSubscribe(FluxMergeSequential.java:198) ~[reactor-core-3.5.10.jar:3.5.10]\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.5.10.jar:3.5.10]\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.5.10.jar:3.5.10]\r\n\tat reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62) ~[reactor-core-3.5.10.jar:3.5.10]\r\n\tat reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54) ~[reactor-core-3.5.10.jar:3.5.10]\r\n\tat reactor.core.publisher.Flux.subscribe(Flux.java:8773) ~[reactor-core-3.5.10.jar:3.5.10]\r\n\tat reactor.core.publisher.Flux.blockLast(Flux.java:2752) ~[reactor-core-3.5.10.jar:3.5.10]\r\n\tat org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter.lambda$onApplicationEvent$0(WeightCalculatorWebFilter.java:140) ~[spring-cloud-gateway-server-4.0.7.jar:4.0.7]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.ifAvailable(DefaultListableBeanFactory.java:2070) ~[spring-beans-6.0.12.jar:6.0.12]\r\n\tat org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter.onApplicationEvent(WeightCalculatorWebFilter.java:140) ~[spring-cloud-gateway-server-4.0.7.jar:4.0.7]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:174) ~[spring-context-6.0.12.jar:6.0.12]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:167) ~[spring-context-6.0.12.jar:6.0.12]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:145) ~[spring-context-6.0.12.jar:6.0.12]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:437) ~[spring-context-6.0.12.jar:6.0.12]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:370) ~[spring-context-6.0.12.jar:6.0.12]\r\n\tat org.springframework.cloud.gateway.route.RouteRefreshListener.reset(RouteRefreshListener.java:73) ~[spring-cloud-gateway-server-4.0.7.jar:4.0.7]\r\n\tat org.springframework.cloud.gateway.route.RouteRefreshListener.onApplicationEvent(RouteRefreshListener.java:54) ~[spring-cloud-gateway-server-4.0.7.jar:4.0.7]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:174) ~[spring-context-6.0.12.jar:6.0.12]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:167) ~[spring-context-6.0.12.jar:6.0.12]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:145) ~[spring-context-6.0.12.jar:6.0.12]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:437) ~[spring-context-6.0.12.jar:6.0.12]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:370) ~[spring-context-6.0.12.jar:6.0.12]\r\n\tat org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:85) ~[spring-cloud-netflix-eureka-client-4.0.3.jar:4.0.3]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:179) ~[spring-context-6.0.12.jar:6.0.12]\r\n\t... 13 common frames omitted\r\n\tSuppressed: java.lang.Exception: #block terminated with an error\r\n\t\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:103) ~[reactor-core-3.5.10.jar:3.5.10]\r\n\t\tat reactor.core.publisher.Flux.blockLast(Flux.java:2753) ~[reactor-core-3.5.10.jar:3.5.10]\r\n\t\t... 30 common frames omitted\r\n```\r\nIt must have something to do with the dependency on `RouteLocatorProvider` because if I rewrite the `routeLocator()` method like so:\r\n```java\r\n    @Bean\r\n    @RefreshScope\r\n    public RouteLocator routeLocator(RouteLocatorBuilder routeLocatorBuilder) {\r\n        return routeLocatorBuilder.routes().build();\r\n    }\r\n```\r\nthe application starts up successfully (that is, it *does* start up)\r\n\r\nWhy is it happening and how do I fix it?","title":"@RefreshScope causes &quot;object is not an instance of declaring class&quot;. Why?","body":"<p>This works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class RouteLocatorConfig {\n    @Bean\n    public RouteLocator routeLocator(RouteLocatorProvider routeLocatorProvider) {\n        return routeLocatorProvider.getRouteLocator();\n    }\n}\n</code></pre>\n<p>but this doesn't:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class RouteLocatorConfig {\n    @Bean\n    @RefreshScope\n    public RouteLocator routeLocator(RouteLocatorProvider routeLocatorProvider) {\n        return routeLocatorProvider.getRouteLocator();\n    }\n}\n</code></pre>\n<p><code>RouteLocatorProvider</code> is a class that I wrote myself. It's annotated as a <code>@Component</code> and is scanned by another <code>@Configuration</code> called <code>WebClientConfig</code>. Let's ignore for a moment that it's semantically questionable</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ComponentScan(basePackages = &quot;by.afinny.apigateway&quot;)\npublic class WebClientConfig {\n    @Bean\n    @LoadBalanced\n    public WebClient.Builder webClientBuilder() {\n        return WebClient.builder();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class RouteLocatorProvider {\n    private final EurekaClient eurekaClient;\n    private final WebClient.Builder webClientBuilder;\n    private final RouteLocatorBuilder routeLocatorBuilder;\n    private final OpenAPIV3Parser apiParser;\n    @Getter\n    private RouteLocator routeLocator;\n\n    public RouteLocatorProvider(EurekaClient eurekaClient, WebClient.Builder webClientBuilder,\n                                RouteLocatorBuilder routeLocatorBuilder) {\n        this.eurekaClient = eurekaClient;\n        this.webClientBuilder = webClientBuilder;\n        this.routeLocatorBuilder = routeLocatorBuilder;\n        this.apiParser = new OpenAPIV3Parser();\n    }\n\n    @PostConstruct\n    public void registerListener() {\n        eurekaClient.registerEventListener(event -&gt; {\n            if (event instanceof CacheRefreshedEvent) { // wtf, spring\n                refreshRoutings();\n            }\n        });\n    }\n\n    private void refreshRoutings() {\n        List&lt;Application&gt; applications = findOtherRegisteredApplications();\n        Map&lt;Application, SwaggerParseResult&gt; docs = mapToDocs(applications);\n        routeLocator = buildRouteLocatorFrom(docs);\n        // initially, I called refreshScope.refresh(RouteLocator.class) here but then removed it to isolate the cause – removing it didn't help\n    }\n\n// more logic\n</code></pre>\n<p>You may be wondering what all those methods do. But it really doesn't matter. If you implement them like this (just to make the compiler happy), the problem is exactly the same:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private List&lt;Application&gt; findOtherRegisteredApplications() {\n        return Collections.emptyList();\n    }\n\n    private Map&lt;Application, SwaggerParseResult&gt; mapToDocs(List&lt;Application&gt; applications) {\n        return Collections.emptyMap();\n    }\n\n    private RouteLocator buildRouteLocatorFrom(Map&lt;Application, SwaggerParseResult&gt; appsToDocs) {\n        return routeLocatorBuilder.routes().build();\n    }\n</code></pre>\n<p>Annotating the <code>RouteLocator</code> <code>@Bean</code> method with <code>@RefreshScope</code> leads to this exception:</p>\n<pre><code>org.springframework.context.ApplicationContextException: Failed to start bean 'eurekaAutoServiceRegistration'\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:182) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:357) ~[spring-context-6.0.12.jar:6.0.12]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:156) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:124) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:958) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:611) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) ~[spring-boot-3.1.4.jar:3.1.4]\n    at by.afinny.apigateway.ApiGatewayV2Application.main(ApiGatewayV2Application.java:9) ~[classes/:na]\nCaused by: java.lang.IllegalArgumentException: object is not an instance of declaring class\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:281) ~[spring-core-6.0.12.jar:6.0.12]\n    at org.springframework.cloud.context.scope.GenericScope$LockedScopedProxyFactoryBean.invoke(GenericScope.java:482) ~[spring-cloud-context-4.0.4.jar:4.0.4]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.12.jar:6.0.12]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.12.jar:6.0.12]\n    at jdk.proxy2/jdk.proxy2.$Proxy107.getRoutes(Unknown Source) ~[na:na]\n    at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onNext(FluxMergeSequential.java:208) ~[reactor-core-3.5.10.jar:3.5.10]\n    at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:335) ~[reactor-core-3.5.10.jar:3.5.10]\n    at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:294) ~[reactor-core-3.5.10.jar:3.5.10]\n    at reactor.core.publisher.FluxMergeSequential$MergeSequentialMain.onSubscribe(FluxMergeSequential.java:198) ~[reactor-core-3.5.10.jar:3.5.10]\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.5.10.jar:3.5.10]\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.5.10.jar:3.5.10]\n    at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62) ~[reactor-core-3.5.10.jar:3.5.10]\n    at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54) ~[reactor-core-3.5.10.jar:3.5.10]\n    at reactor.core.publisher.Flux.subscribe(Flux.java:8773) ~[reactor-core-3.5.10.jar:3.5.10]\n    at reactor.core.publisher.Flux.blockLast(Flux.java:2752) ~[reactor-core-3.5.10.jar:3.5.10]\n    at org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter.lambda$onApplicationEvent$0(WeightCalculatorWebFilter.java:140) ~[spring-cloud-gateway-server-4.0.7.jar:4.0.7]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.ifAvailable(DefaultListableBeanFactory.java:2070) ~[spring-beans-6.0.12.jar:6.0.12]\n    at org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter.onApplicationEvent(WeightCalculatorWebFilter.java:140) ~[spring-cloud-gateway-server-4.0.7.jar:4.0.7]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:174) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:167) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:145) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:437) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:370) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.cloud.gateway.route.RouteRefreshListener.reset(RouteRefreshListener.java:73) ~[spring-cloud-gateway-server-4.0.7.jar:4.0.7]\n    at org.springframework.cloud.gateway.route.RouteRefreshListener.onApplicationEvent(RouteRefreshListener.java:54) ~[spring-cloud-gateway-server-4.0.7.jar:4.0.7]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:174) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:167) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:145) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:437) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:370) ~[spring-context-6.0.12.jar:6.0.12]\n    at org.springframework.cloud.netflix.eureka.serviceregistry.EurekaAutoServiceRegistration.start(EurekaAutoServiceRegistration.java:85) ~[spring-cloud-netflix-eureka-client-4.0.3.jar:4.0.3]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:179) ~[spring-context-6.0.12.jar:6.0.12]\n    ... 13 common frames omitted\n    Suppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:103) ~[reactor-core-3.5.10.jar:3.5.10]\n        at reactor.core.publisher.Flux.blockLast(Flux.java:2753) ~[reactor-core-3.5.10.jar:3.5.10]\n        ... 30 common frames omitted\n</code></pre>\n<p>It must have something to do with the dependency on <code>RouteLocatorProvider</code> because if I rewrite the <code>routeLocator()</code> method like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    @RefreshScope\n    public RouteLocator routeLocator(RouteLocatorBuilder routeLocatorBuilder) {\n        return routeLocatorBuilder.routes().build();\n    }\n</code></pre>\n<p>the application starts up successfully (that is, it <em>does</em> start up)</p>\n<p>Why is it happening and how do I fix it?</p>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"comments":[{"owner":{"account_id":27755,"reputation":1996,"user_id":73572,"accept_rate":55,"display_name":"joycollector"},"score":0,"creation_date":1248777117,"post_id":1190339,"comment_id":1015844,"body_markdown":"The problem is that if there is 2.0 in A2 I need to get string &quot;2.0&quot;, and if 2 then string &quot;2&quot;.","body":"The problem is that if there is 2.0 in A2 I need to get string &quot;2.0&quot;, and if 2 then string &quot;2&quot;."}],"tags":[],"owner":{"account_id":7727,"reputation":7891,"user_id":13491,"accept_rate":100,"display_name":"WolfmanDragon"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1489745618,"creation_date":1248725291,"answer_id":1190339,"question_id":1072561,"body_markdown":"cast to an int then do a `.toString()`. It is ugly but it works.","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<p>cast to an int then do a <code>.toString()</code>. It is ugly but it works.</p>\n"},{"tags":[],"owner":{"account_id":3645,"reputation":2084,"user_id":5271,"display_name":"Turismo"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1248949481,"creation_date":1248949481,"answer_id":1205727,"question_id":1072561,"body_markdown":"We had the same problem and forced our users to format the cells as &#39;text&#39; **before** entering the value. That way Excel correctly stores even numbers as text.\r\nIf the format is changed afterwards Excel only changes the way the value is displayed but does not change the way the value is stored unless the value is entered again (e.g. by pressing return when in the cell).\r\n\r\nWhether or not Excel correctly stored the value as text is indicated by the little green triangle that Excel displays in the left upper corner of the cell if it thinks the cell contains a number but is formated as text. ","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<p>We had the same problem and forced our users to format the cells as 'text' <strong>before</strong> entering the value. That way Excel correctly stores even numbers as text.\nIf the format is changed afterwards Excel only changes the way the value is displayed but does not change the way the value is stored unless the value is entered again (e.g. by pressing return when in the cell).</p>\n\n<p>Whether or not Excel correctly stored the value as text is indicated by the little green triangle that Excel displays in the left upper corner of the cell if it thinks the cell contains a number but is formated as text. </p>\n"},{"tags":[],"owner":{"account_id":65148,"reputation":2019,"user_id":191931,"accept_rate":57,"display_name":"datatoo"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1259712768,"creation_date":1259712768,"answer_id":1829861,"question_id":1072561,"body_markdown":"Do you control the excel worksheet in anyway? Is there a template the users have for giving you the input? If so, you can have code format the input cells for you.","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<p>Do you control the excel worksheet in anyway? Is there a template the users have for giving you the input? If so, you can have code format the input cells for you.</p>\n"},{"comments":[{"owner":{"account_id":188831,"reputation":5007,"user_id":427793,"accept_rate":81,"display_name":"swdev"},"score":0,"creation_date":1347269680,"post_id":3504406,"comment_id":16580609,"body_markdown":"I use poi-3.8-beta4, and its working as expected! Why don&#39;t TS accept this as the answer?","body":"I use poi-3.8-beta4, and its working as expected! Why don&#39;t TS accept this as the answer?"},{"owner":{"account_id":903400,"reputation":1513,"user_id":938899,"accept_rate":75,"display_name":"Alexey Berezkin"},"score":0,"creation_date":1359110386,"post_id":3504406,"comment_id":20244229,"body_markdown":"Be aware that POI numeric to String conversion doesn&#39;t take into a consideration the system locale, it always uses the dot as a decimal separator. For example, if your system uses &quot;,&quot;, and in Excel numbers look like &quot;1,9&quot;, POI will return &quot;1.9&quot; instead.","body":"Be aware that POI numeric to String conversion doesn&#39;t take into a consideration the system locale, it always uses the dot as a decimal separator. For example, if your system uses &quot;,&quot;, and in Excel numbers look like &quot;1,9&quot;, POI will return &quot;1.9&quot; instead."},{"owner":{"account_id":933736,"reputation":13154,"user_id":963076,"accept_rate":59,"display_name":"ryvantage"},"score":0,"creation_date":1380248602,"post_id":3504406,"comment_id":28139931,"body_markdown":"I wonder will this account for formatting? Like if the Excel file always shows up to 2 decimal places, will the string value be exactly the same?","body":"I wonder will this account for formatting? Like if the Excel file always shows up to 2 decimal places, will the string value be exactly the same?"},{"owner":{"account_id":1861044,"reputation":1917,"user_id":1901896,"display_name":"Akash5288"},"score":0,"creation_date":1400915959,"post_id":3504406,"comment_id":36688958,"body_markdown":"Not working for me. Actually i am reading time from Excel sheet cell, getting numeric value. How can i read it as a Time or String. Pls help .","body":"Not working for me. Actually i am reading time from Excel sheet cell, getting numeric value. How can i read it as a Time or String. Pls help ."},{"owner":{"account_id":370877,"reputation":318,"user_id":719092,"display_name":"Jurri"},"score":0,"creation_date":1411851696,"post_id":3504406,"comment_id":40862589,"body_markdown":"Beware of setCellType(CellType.CELL_TYPE_STRING) memory footprint. With 3.10-FINAL, I ran into trouble reading large files. FlighRecorder showed enormous Object[] allocations due to org.apache.poi.xssf.usermodel.XSSFWorkbook.onDeleteFormula(XSSFCell) call.\n\nI suggest using XSSFCell.getRawValue() for reading. This solved my problem, allocations are gone. Be sure to have all formulas evaluated, though.","body":"Beware of setCellType(CellType.CELL_TYPE_STRING) memory footprint. With 3.10-FINAL, I ran into trouble reading large files. FlighRecorder showed enormous Object[] allocations due to org.apache.poi.xssf.usermodel.XSSFWorkbook.onDeleteFormula(X&zwnj;&#8203;SSFCell) call.  I suggest using XSSFCell.getRawValue() for reading. This solved my problem, allocations are gone. Be sure to have all formulas evaluated, though."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":67,"creation_date":1432466031,"post_id":3504406,"comment_id":48931198,"body_markdown":"Note that the [Apache POI javadocs explicitly say not to do this!](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29) As they explain, you should use DataFormatter instead","body":"Note that the <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29\" rel=\"nofollow noreferrer\">Apache POI javadocs explicitly say not to do this!</a> As they explain, you should use DataFormatter instead"},{"owner":{"account_id":187546,"reputation":3941,"user_id":425683,"accept_rate":92,"display_name":"Chris Finley"},"score":8,"creation_date":1438348744,"post_id":3504406,"comment_id":51427848,"body_markdown":"Gagravarr&#39;s warning against doing this is right! From the docs: &quot;If what you want to do is get a String value for your numeric cell,\t\nstop!. This is not the way to do it. Instead, for fetching the string value of a numeric or boolean or date cell, use DataFormatter instead.&quot; https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29\n\t\nI was using this technique myself until I wound up accidentally changing data I didn&#39;t intend to change. (Set type to String, read value, set type back to numeric, read again and get a different numeric value!)","body":"Gagravarr&#39;s warning against doing this is right! From the docs: &quot;If what you want to do is get a String value for your numeric cell,\t stop!. This is not the way to do it. Instead, for fetching the string value of a numeric or boolean or date cell, use DataFormatter instead.&quot; <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29\" rel=\"nofollow noreferrer\">poi.apache.org/apidocs/org/apache/poi/ss/usermodel/&hellip;</a> \t I was using this technique myself until I wound up accidentally changing data I didn&#39;t intend to change. (Set type to String, read value, set type back to numeric, read again and get a different numeric value!)"},{"owner":{"account_id":3909567,"reputation":567,"user_id":3235300,"accept_rate":50,"display_name":"Meenaxi"},"score":1,"creation_date":1445668000,"post_id":3504406,"comment_id":54428875,"body_markdown":"@Wil  cell.setCellType(Cell.CELL_TYPE_STRING); not works for .xlsx sheet. Any other solution for this?","body":"@Wil  cell.setCellType(Cell.CELL_TYPE_STRING); not works for .xlsx sheet. Any other solution for this?"},{"owner":{"account_id":1766074,"reputation":549,"user_id":1611938,"accept_rate":50,"display_name":"Balu SKT"},"score":6,"creation_date":1456493904,"post_id":3504406,"comment_id":58986528,"body_markdown":"Use DataFormatter. The Javadoc warns us from using the above method.","body":"Use DataFormatter. The Javadoc warns us from using the above method."},{"owner":{"account_id":2800101,"reputation":377,"user_id":2408490,"display_name":"Harsha"},"score":0,"creation_date":1460126202,"post_id":3504406,"comment_id":60611953,"body_markdown":"Excellent solution. I&#39;m using version 3.14 and for that  cell.setCellType(XSSFCell.CELL_TYPE_STRING); will be works","body":"Excellent solution. I&#39;m using version 3.14 and for that  cell.setCellType(XSSFCell.CELL_TYPE_STRING); will be works"},{"owner":{"account_id":337881,"reputation":2204,"user_id":666414,"accept_rate":50,"display_name":"maxxyme"},"score":0,"creation_date":1477660720,"post_id":3504406,"comment_id":67868993,"body_markdown":"This answer should clearly be degraded and/or removed, as it&#39;s incorrect.","body":"This answer should clearly be degraded and/or removed, as it&#39;s incorrect."},{"owner":{"account_id":14077640,"reputation":156,"user_id":10169464,"display_name":"世界知名伟人"},"score":0,"creation_date":1590027134,"post_id":3504406,"comment_id":109528166,"body_markdown":"Work fine for interger, not for double","body":"Work fine for interger, not for double"},{"owner":{"account_id":8120335,"reputation":2034,"user_id":6117311,"display_name":"Tiago Medici"},"score":0,"creation_date":1593532150,"post_id":3504406,"comment_id":110811900,"body_markdown":"@deprecated This method is deprecated and will be removed in POI 5.0.","body":"@deprecated This method is deprecated and will be removed in POI 5.0."},{"owner":{"account_id":7613907,"reputation":81,"user_id":5773994,"display_name":"Radboud"},"score":0,"creation_date":1612529690,"post_id":3504406,"comment_id":116802072,"body_markdown":"Please be aware that excel is not very good in long sequences of digits. When you enter a sequence of 20 times four &quot;44444444444444444444&quot;, then excel will show you &quot;4,44444E+19&quot;. When you represent this as a number format &quot;0&quot; (no decimal difgits) then you get &quot;44444444444444400000&quot;. It has already lost the precision of the least important digits. Numeric value strings should be entered in a cell that is already formatted as TEXT. This is the only way not to lose data. Of course, you may not be in the position to do anything about this, and then your best bet is the DataFormatter.","body":"Please be aware that excel is not very good in long sequences of digits. When you enter a sequence of 20 times four &quot;44444444444444444444&quot;, then excel will show you &quot;4,44444E+19&quot;. When you represent this as a number format &quot;0&quot; (no decimal difgits) then you get &quot;44444444444444400000&quot;. It has already lost the precision of the least important digits. Numeric value strings should be entered in a cell that is already formatted as TEXT. This is the only way not to lose data. Of course, you may not be in the position to do anything about this, and then your best bet is the DataFormatter."}],"tags":[],"owner":{"account_id":642261,"reputation":3596,"user_id":423054,"display_name":"wil"},"comment_count":14,"down_vote_count":15,"up_vote_count":361,"is_accepted":true,"score":346,"last_activity_date":1700373020,"creation_date":1282060457,"answer_id":3504406,"question_id":1072561,"body_markdown":"## Set cell type to string\r\n\r\nI had same problem. I did `cell.setCellType(Cell.CELL_TYPE_STRING);` before reading the string value, which solved the problem regardless of how the user formatted the cell.","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<h2>Set cell type to string</h2>\n<p>I had same problem. I did <code>cell.setCellType(Cell.CELL_TYPE_STRING);</code> before reading the string value, which solved the problem regardless of how the user formatted the cell.</p>\n"},{"tags":[],"owner":{"account_id":53858,"reputation":4190,"user_id":161040,"accept_rate":100,"display_name":"Simon D"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1285352950,"creation_date":1285352950,"answer_id":3789892,"question_id":1072561,"body_markdown":"It looks like this can&#39;t be done in the current version of POI, based on the fact that this bug:\r\n\r\nhttps://issues.apache.org/bugzilla/show_bug.cgi?id=46136\r\n\r\nis still outstanding.","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<p>It looks like this can't be done in the current version of POI, based on the fact that this bug:</p>\n\n<p><a href=\"https://issues.apache.org/bugzilla/show_bug.cgi?id=46136\" rel=\"nofollow\">https://issues.apache.org/bugzilla/show_bug.cgi?id=46136</a></p>\n\n<p>is still outstanding.</p>\n"},{"comments":[{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1313608428,"post_id":4423095,"comment_id":8499742,"body_markdown":"Your solution seems to be not usable if one doesn&#39;t produce the excel files oneself, is it? (Also, could you put an extract into your answer? It is not that long.)","body":"Your solution seems to be not usable if one doesn&#39;t produce the excel files oneself, is it? (Also, could you put an extract into your answer? It is not that long.)"},{"owner":{"account_id":123329,"reputation":843,"user_id":317716,"accept_rate":89,"display_name":"Asif Shahzad"},"score":0,"creation_date":1313917765,"post_id":4423095,"comment_id":8558175,"body_markdown":"Yes, it can&#39;t be used when one isn&#39;t producing excel file oneself.","body":"Yes, it can&#39;t be used when one isn&#39;t producing excel file oneself."}],"tags":[],"owner":{"account_id":123329,"reputation":843,"user_id":317716,"accept_rate":89,"display_name":"Asif Shahzad"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313917953,"creation_date":1292177100,"answer_id":4423095,"question_id":1072561,"body_markdown":"When we read the MS Excel&#39;s numeric cell value using Apache POI library, it read it as numeric. But sometime we want it to read as string (e.g. phone numbers, etc.). This is how I did it:\r\n\r\n1. Insert a new column with first cell =CONCATENATE(&quot;!&quot;,D2). I assume D2 is cell id of your phone-number column. Drag new cell up to end.\r\n\r\n2. Now if you read the cell using POI, it will read the formula instead of calculated value. Now do following:\r\n\r\n3. Add another column\r\n\r\n4. Select complete column created in step 1. and choose Edit-&gt;COPY\r\n\r\n5. Go to top cell of column created in step 3. and Select Edit-&gt;Paste Special\r\n\r\n6. In the opened window, Select &quot;Values&quot; radio button\r\n\r\n7. Select &quot;OK&quot;\r\n\r\n8. Now read using POI API ... after reading in Java ... just remove the first character i.e. &quot;!&quot;","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<p>When we read the MS Excel's numeric cell value using Apache POI library, it read it as numeric. But sometime we want it to read as string (e.g. phone numbers, etc.). This is how I did it:</p>\n\n<ol>\n<li><p>Insert a new column with first cell =CONCATENATE(\"!\",D2). I assume D2 is cell id of your phone-number column. Drag new cell up to end.</p></li>\n<li><p>Now if you read the cell using POI, it will read the formula instead of calculated value. Now do following:</p></li>\n<li><p>Add another column</p></li>\n<li><p>Select complete column created in step 1. and choose Edit->COPY</p></li>\n<li><p>Go to top cell of column created in step 3. and Select Edit->Paste Special</p></li>\n<li><p>In the opened window, Select \"Values\" radio button</p></li>\n<li><p>Select \"OK\"</p></li>\n<li><p>Now read using POI API ... after reading in Java ... just remove the first character i.e. \"!\"</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":0,"creation_date":1313608500,"post_id":7094033,"comment_id":8499770,"body_markdown":"As I understand, the asker wants to be able to distinguish between `2` and `2.0`. Your solution wouldn&#39;t do this.  (But still, welcome to Stack Overflow!)","body":"As I understand, the asker wants to be able to distinguish between <code>2</code> and <code>2.0</code>. Your solution wouldn&#39;t do this.  (But still, welcome to Stack Overflow!)"}],"tags":[],"owner":{"account_id":483605,"reputation":4112,"user_id":898776,"display_name":"iTake"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1313608552,"creation_date":1313589321,"answer_id":7094033,"question_id":1072561,"body_markdown":"Try:\r\n\r\n    new java.text.DecimalFormat(&quot;0&quot;).format( cell.getNumericCellValue() )\r\n\r\nShould format the number correctly.","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<p>Try:</p>\n\n<pre><code>new java.text.DecimalFormat(\"0\").format( cell.getNumericCellValue() )\n</code></pre>\n\n<p>Should format the number correctly.</p>\n"},{"comments":[{"owner":{"account_id":3061338,"reputation":422,"user_id":2593906,"display_name":"ankush yadav"},"score":0,"creation_date":1465902416,"post_id":7100727,"comment_id":63084562,"body_markdown":"Thanks @Gagravarr only your answer work for me,                  &lt;code&gt;cell.setCellType(Cell.CELL_TYPE_STRING);&lt;code&gt; in convert the 2.2 value as 2.2000000000000002, but i want 2.2. it return anything in string format thank","body":"Thanks @Gagravarr only your answer work for me,                  &lt;code&gt;cell.setCellType(Cell.CELL_TYPE_STRING);&lt;code&gt; in convert the 2.2 value as 2.2000000000000002, but i want 2.2. it return anything in string format thank"},{"owner":{"account_id":2343939,"reputation":13166,"user_id":2054671,"accept_rate":40,"display_name":"gaurav5430"},"score":0,"creation_date":1467629902,"post_id":7100727,"comment_id":63791956,"body_markdown":"dataformatter does not seem to work for Formula cells, it returns a string representation of the formula instead of the value","body":"dataformatter does not seem to work for Formula cells, it returns a string representation of the formula instead of the value"},{"owner":{"account_id":4534566,"reputation":4099,"user_id":3684132,"accept_rate":63,"display_name":"BAERUS"},"score":3,"creation_date":1504690433,"post_id":7100727,"comment_id":79103936,"body_markdown":"Just one minor note: Please provide short code snippets for such answers, also if those are stated in provided links","body":"Just one minor note: Please provide short code snippets for such answers, also if those are stated in provided links"},{"owner":{"account_id":3530844,"reputation":360,"user_id":2950458,"display_name":"SaratBhaswanth"},"score":0,"creation_date":1548399816,"post_id":7100727,"comment_id":95535095,"body_markdown":"@gaurav5430 Yes, it doesnt go well with formulas... According to doc, `When passed a null or blank cell, this method will return an empty String (&quot;&quot;). Formulas in formula type cells will not be evaluated.`","body":"@gaurav5430 Yes, it doesnt go well with formulas... According to doc, <code>When passed a null or blank cell, this method will return an empty String (&quot;&quot;). Formulas in formula type cells will not be evaluated.</code>"},{"owner":{"account_id":3033509,"reputation":539,"user_id":2572072,"accept_rate":38,"display_name":"Stik"},"score":0,"creation_date":1674654095,"post_id":7100727,"comment_id":132760225,"body_markdown":"This also does not work well with large integers that have a numeric cell type, because `DataFormatter` internally converts it to a `double`, then back to a `String`, so there&#39;s the risk of losing precision, and leading/trailing 0s","body":"This also does not work well with large integers that have a numeric cell type, because <code>DataFormatter</code> internally converts it to a <code>double</code>, then back to a <code>String</code>, so there&#39;s the risk of losing precision, and leading/trailing 0s"}],"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"comment_count":5,"down_vote_count":0,"up_vote_count":127,"is_accepted":false,"score":127,"last_activity_date":1700373197,"creation_date":1313623585,"answer_id":7100727,"question_id":1072561,"body_markdown":"## `DataFormatter`\r\n\r\nI don&#39;t think we had this class back when you asked the question, but today there is an easy answer.\r\n\r\nWhat you want to do is use the [DataFormatter class](http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html). You pass this a cell, and it does its best to return you a string containing what Excel would show you for that cell. If you pass it a string cell, you&#39;ll get the string back. If you pass it a numeric cell with formatting rules applied, it will format the number based on them and give you the string back.\r\n\r\nFor your case, I&#39;d assume that the numeric cells have an integer formatting rule applied to them. If you ask DataFormatter to format those cells, it&#39;ll give you back a string with the integer string in it.\r\n\r\nAlso, note that lots of people suggest doing `cell.setCellType(Cell.CELL_TYPE_STRING)`, but the [Apache POI JavaDocs quite clearly state that you shouldn&#39;t do this](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29)! Doing the `setCellType` call will loose formatting, as the [javadocs explain](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29) the only way to convert to a String with formatting remaining is to use the [DataFormatter class](http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html).\r\n\r\nA simple example of using this class:\r\n\r\n```java\r\nDataFormatter dataFormatter = new DataFormatter();\r\nString formattedCellStr = dataFormatter.formatCellValue(cell);\r\n```","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<h2><code>DataFormatter</code></h2>\n<p>I don't think we had this class back when you asked the question, but today there is an easy answer.</p>\n<p>What you want to do is use the <a href=\"http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html\" rel=\"nofollow noreferrer\">DataFormatter class</a>. You pass this a cell, and it does its best to return you a string containing what Excel would show you for that cell. If you pass it a string cell, you'll get the string back. If you pass it a numeric cell with formatting rules applied, it will format the number based on them and give you the string back.</p>\n<p>For your case, I'd assume that the numeric cells have an integer formatting rule applied to them. If you ask DataFormatter to format those cells, it'll give you back a string with the integer string in it.</p>\n<p>Also, note that lots of people suggest doing <code>cell.setCellType(Cell.CELL_TYPE_STRING)</code>, but the <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29\" rel=\"nofollow noreferrer\">Apache POI JavaDocs quite clearly state that you shouldn't do this</a>! Doing the <code>setCellType</code> call will loose formatting, as the <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29\" rel=\"nofollow noreferrer\">javadocs explain</a> the only way to convert to a String with formatting remaining is to use the <a href=\"http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html\" rel=\"nofollow noreferrer\">DataFormatter class</a>.</p>\n<p>A simple example of using this class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DataFormatter dataFormatter = new DataFormatter();\nString formattedCellStr = dataFormatter.formatCellValue(cell);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":892374,"reputation":1,"user_id":930383,"display_name":"Mark Holmes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352741012,"creation_date":1315302744,"answer_id":7318016,"question_id":1072561,"body_markdown":"I also have had a similar issue on a data set of thousands of numbers and I think that I have found a simple way to solve. I needed to get the apostrophe inserted before a number so that a separate DB import always sees the numbers as text. Before this the number 8 would be imported as 8.0.\r\n\r\nSolution:\r\n\r\n - Keep all the formatting as General.\r\n - Here I am assuming numbers are stored in Column A starting at Row 1.    \r\n - Put in the &#39; in Column B and copy down as many rows as needed. Nothing appears in the worksheet but clicking on the cell you can see the apostophe in the Formula bar.    \r\n - In Column C: =B1&amp;A1.    \r\n - Select all the Cells in Column C and do a Paste Special into Column D using the Values option.\r\n\r\nHey Presto all the numbers but stored as Text.\r\n","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<p>I also have had a similar issue on a data set of thousands of numbers and I think that I have found a simple way to solve. I needed to get the apostrophe inserted before a number so that a separate DB import always sees the numbers as text. Before this the number 8 would be imported as 8.0.</p>\n\n<p>Solution:</p>\n\n<ul>\n<li>Keep all the formatting as General.</li>\n<li>Here I am assuming numbers are stored in Column A starting at Row 1.    </li>\n<li>Put in the ' in Column B and copy down as many rows as needed. Nothing appears in the worksheet but clicking on the cell you can see the apostophe in the Formula bar.    </li>\n<li>In Column C: =B1&amp;A1.    </li>\n<li>Select all the Cells in Column C and do a Paste Special into Column D using the Values option.</li>\n</ul>\n\n<p>Hey Presto all the numbers but stored as Text.</p>\n"},{"tags":[],"owner":{"account_id":1168663,"reputation":11,"user_id":1146362,"display_name":"Mark Farnsworth"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1326399127,"creation_date":1326399127,"answer_id":8841618,"question_id":1072561,"body_markdown":"As long as the cell is in text format before the user types in the number, POI will allow you to obtain the value as a string. One key is that if there is a small green triangle in the upper left-hand corner of cell that is formatted as Text, you will be able to retrieve its value as a string (the green triangle appears whenever something that appears to be a number is coerced into a text format). If you have Text formatted cells that contain numbers, but POI will not let you fetch those values as strings, there are a few things you can do to the Spreadsheet data to allow that: \r\n\r\n - Double click on the cell so that the editing cursor is present inside the cell, then click on Enter (which can be done only one cell at a time).\r\n - Use the Excel 2007 text conversion function (which can be done on multiple cells at once).\r\n - Cut out the offending values to another location, reformat the spreadsheet cells as text, then repaste the previously cut out values as *Unformatted Values* back into the proper area.\r\n\r\nOne final thing that you can do is that if you are using POI to obtain data from an Excel 2007 spreadsheet, you can the Cell class &#39;getRawValue()&#39; method. This does not care what the format is. It will simply return a string with the raw data.","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<p>As long as the cell is in text format before the user types in the number, POI will allow you to obtain the value as a string. One key is that if there is a small green triangle in the upper left-hand corner of cell that is formatted as Text, you will be able to retrieve its value as a string (the green triangle appears whenever something that appears to be a number is coerced into a text format). If you have Text formatted cells that contain numbers, but POI will not let you fetch those values as strings, there are a few things you can do to the Spreadsheet data to allow that: </p>\n\n<ul>\n<li>Double click on the cell so that the editing cursor is present inside the cell, then click on Enter (which can be done only one cell at a time).</li>\n<li>Use the Excel 2007 text conversion function (which can be done on multiple cells at once).</li>\n<li>Cut out the offending values to another location, reformat the spreadsheet cells as text, then repaste the previously cut out values as <em>Unformatted Values</em> back into the proper area.</li>\n</ul>\n\n<p>One final thing that you can do is that if you are using POI to obtain data from an Excel 2007 spreadsheet, you can the Cell class 'getRawValue()' method. This does not care what the format is. It will simply return a string with the raw data.</p>\n"},{"comments":[{"owner":{"account_id":346324,"reputation":697,"user_id":679783,"accept_rate":75,"display_name":"Chris"},"score":5,"creation_date":1414151563,"post_id":19216860,"comment_id":41717434,"body_markdown":"But you have to be careful using this for double values. For me it turned the value 7.9 into 7.8999956589965...","body":"But you have to be careful using this for double values. For me it turned the value 7.9 into 7.8999956589965..."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":2,"creation_date":1456492775,"post_id":19216860,"comment_id":58985689,"body_markdown":"The [Apache POI javadocs are very clear that you shouldn&#39;t be doing it like that](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29): *If what you want to do is get a String value for your numeric cell, stop!. This is not the way to do it. Instead, for fetching the string value of a numeric or boolean or date cell, use DataFormatter instead.*","body":"The <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29\" rel=\"nofollow noreferrer\">Apache POI javadocs are very clear that you shouldn&#39;t be doing it like that</a>: <i>If what you want to do is get a String value for your numeric cell, stop!. This is not the way to do it. Instead, for fetching the string value of a numeric or boolean or date cell, use DataFormatter instead.</i>"}],"tags":[],"owner":{"account_id":3305275,"reputation":814,"user_id":2780293,"display_name":"Rajesh Mbm"},"comment_count":2,"down_vote_count":2,"up_vote_count":18,"is_accepted":false,"score":16,"last_activity_date":1518201329,"creation_date":1381118581,"answer_id":19216860,"question_id":1072561,"body_markdown":"Yes, this works perfectly\r\n\r\nrecommended:\r\n\r\n            DataFormatter dataFormatter = new DataFormatter();\r\n            String value = dataFormatter.formatCellValue(cell);\r\n\r\nold:\r\n\r\n    cell.setCellType(Cell.CELL_TYPE_STRING);\r\n\r\neven if you have a problem with retrieving a value from `cell` having formula, still this works.","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<p>Yes, this works perfectly</p>\n\n<p>recommended:</p>\n\n<pre><code>        DataFormatter dataFormatter = new DataFormatter();\n        String value = dataFormatter.formatCellValue(cell);\n</code></pre>\n\n<p>old:</p>\n\n<pre><code>cell.setCellType(Cell.CELL_TYPE_STRING);\n</code></pre>\n\n<p>even if you have a problem with retrieving a value from <code>cell</code> having formula, still this works.</p>\n"},{"comments":[{"owner":{"account_id":5180779,"reputation":581,"user_id":4146565,"display_name":"Vitor Santos"},"score":9,"creation_date":1455644922,"post_id":24533998,"comment_id":58576932,"body_markdown":"Worked just fine! My suggestion would be to change the way the FormulaEvaluator is retrieved. The Workbook class provides a formula evaluator though the `getCreationHelper().createFormulaEvaluator()` method.\nThis way your code won&#39;t be coupled with the HSSFFormulaEvaluator class.","body":"Worked just fine! My suggestion would be to change the way the FormulaEvaluator is retrieved. The Workbook class provides a formula evaluator though the <code>getCreationHelper().createFormulaEvaluator()</code> method. This way your code won&#39;t be coupled with the HSSFFormulaEvaluator class."},{"owner":{"account_id":1298380,"reputation":898,"user_id":1248817,"accept_rate":83,"display_name":"Mattiavelli"},"score":2,"creation_date":1498151613,"post_id":24533998,"comment_id":76394142,"body_markdown":"This should be the accepted answer. Thanks @Vinayak","body":"This should be the accepted answer. Thanks @Vinayak"},{"owner":{"account_id":31848,"reputation":43498,"user_id":87796,"accept_rate":93,"display_name":"P.Brian.Mackey"},"score":0,"creation_date":1504902183,"post_id":24533998,"comment_id":79210775,"body_markdown":"Can `FormulaEvaluator` simply be removed from this solution?  Does it serve a purpose?","body":"Can <code>FormulaEvaluator</code> simply be removed from this solution?  Does it serve a purpose?"},{"owner":{"account_id":244548,"reputation":4557,"user_id":517450,"display_name":"Radu Simionescu"},"score":2,"creation_date":1539008660,"post_id":24533998,"comment_id":92335303,"body_markdown":"the call to objFormulaEvaluator.evaluate is not necessary. The return value of that is not being used here.","body":"the call to objFormulaEvaluator.evaluate is not necessary. The return value of that is not being used here."}],"tags":[],"owner":{"account_id":3668880,"reputation":1609,"user_id":3056514,"accept_rate":42,"display_name":"Vinayak Dornala"},"comment_count":4,"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1404315867,"creation_date":1404311866,"answer_id":24533998,"question_id":1072561,"body_markdown":"The below code worked for me for any type of cell.\r\n\r\n    InputStream inp =getClass().getResourceAsStream(&quot;filename.xls&quot;));\r\n    Workbook wb = WorkbookFactory.create(inp);\r\n    DataFormatter objDefaultFormat = new DataFormatter();\r\n    FormulaEvaluator objFormulaEvaluator = new HSSFFormulaEvaluator((HSSFWorkbook) wb);\r\n    \t\t\t\t\r\n    Sheet sheet= wb.getSheetAt(0);\r\n    Iterator&lt;Row&gt; objIterator = sheet.rowIterator();\r\n    \t\t\t\t\r\n    while(objIterator.hasNext()){\r\n    \t\t\t\t\r\n    \tRow row = objIterator.next();\r\n    \tCell cellValue = row.getCell(0);\r\n    \tobjFormulaEvaluator.evaluate(cellValue); // This will evaluate the cell, And any type of cell will return string value\r\n    \tString cellValueStr = objDefaultFormat.formatCellValue(cellValue,objFormulaEvaluator);\r\n    \t\t\t\t\r\n    }\r\n\r\n\t    \t\t\t    \t","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<p>The below code worked for me for any type of cell.</p>\n\n<pre><code>InputStream inp =getClass().getResourceAsStream(\"filename.xls\"));\nWorkbook wb = WorkbookFactory.create(inp);\nDataFormatter objDefaultFormat = new DataFormatter();\nFormulaEvaluator objFormulaEvaluator = new HSSFFormulaEvaluator((HSSFWorkbook) wb);\n\nSheet sheet= wb.getSheetAt(0);\nIterator&lt;Row&gt; objIterator = sheet.rowIterator();\n\nwhile(objIterator.hasNext()){\n\n    Row row = objIterator.next();\n    Cell cellValue = row.getCell(0);\n    objFormulaEvaluator.evaluate(cellValue); // This will evaluate the cell, And any type of cell will return string value\n    String cellValueStr = objDefaultFormat.formatCellValue(cellValue,objFormulaEvaluator);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":160026,"reputation":8395,"user_id":379779,"accept_rate":57,"display_name":"zawhtut"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1407899955,"creation_date":1407899955,"answer_id":25277487,"question_id":1072561,"body_markdown":"getStringCellValue returns NumberFormatException if the cell type is numeric. If you don&#39;t want to change the cell type to string, you can do this.\r\n\r\n\r\n    String rsdata = &quot;&quot;;\r\n    try {\r\n    \trsdata = cell.getStringValue();\r\n    } catch (NumberFormatException ex) {\r\n    \trsdata = cell.getNumericValue() + &quot;&quot;;\r\n    }","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<p>getStringCellValue returns NumberFormatException if the cell type is numeric. If you don't want to change the cell type to string, you can do this.</p>\n\n<pre><code>String rsdata = \"\";\ntry {\n    rsdata = cell.getStringValue();\n} catch (NumberFormatException ex) {\n    rsdata = cell.getNumericValue() + \"\";\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1432465900,"post_id":30417397,"comment_id":48931160,"body_markdown":"However, it is [explicitly listed in the JavaDocs as not the right way to do it](https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29)!","body":"However, it is <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29\" rel=\"nofollow noreferrer\">explicitly listed in the JavaDocs as not the right way to do it</a>!"}],"tags":[],"owner":{"account_id":3039276,"reputation":35,"user_id":2576685,"display_name":"Nagen Biswal."},"comment_count":1,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1432413800,"creation_date":1432413800,"answer_id":30417397,"question_id":1072561,"body_markdown":"cell.setCellType(Cell.CELL_TYPE_STRING); is working fine for me\r\n","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<p>cell.setCellType(Cell.CELL_TYPE_STRING); is working fine for me</p>\n"},{"comments":[{"owner":{"account_id":10474373,"reputation":299,"user_id":7721350,"display_name":"Gleb Egunov"},"score":0,"creation_date":1560941757,"post_id":34454265,"comment_id":99899909,"body_markdown":"Really exciting advise! Thank you! It allows getting unconverted values in contrast to setting cellType to String.","body":"Really exciting advise! Thank you! It allows getting unconverted values in contrast to setting cellType to String."},{"owner":{"account_id":2738882,"reputation":77,"user_id":2360859,"accept_rate":33,"display_name":"Vinay"},"score":0,"creation_date":1593079962,"post_id":34454265,"comment_id":110656575,"body_markdown":"I am getting 44007 as output for cell value of 25/06/2020. What am I doing wrong?","body":"I am getting 44007 as output for cell value of 25/06/2020. What am I doing wrong?"},{"owner":{"account_id":2857,"reputation":8373,"user_id":4052,"accept_rate":92,"display_name":"Georgy Bolyuba"},"score":0,"creation_date":1599642098,"post_id":34454265,"comment_id":112833257,"body_markdown":"@Vinay for dates use DateUtil. Something like `DateUtil.getLocalDateTime(row.getCell(1).getNumericCellValue()).toLocalDate()`","body":"@Vinay for dates use DateUtil. Something like <code>DateUtil.getLocalDateTime(row.getCell(1).getNumericCellValue&zwnj;&#8203;()).toLocalDate()</code>"}],"tags":[],"owner":{"account_id":2075022,"reputation":1754,"user_id":1848640,"display_name":"Stanislav Mamontov"},"comment_count":3,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1450967353,"creation_date":1450967353,"answer_id":34454265,"question_id":1072561,"body_markdown":"I would recommend the following approach when modifying cell&#39;s type is undesirable:\r\n\r\n    if(cell.getCellType() == Cell.CELL_TYPE_NUMERIC) {\r\n        String str = NumberToTextConverter.toText(cell.getNumericCellValue())\r\n    }\r\n\r\nNumberToTextConverter can correctly convert double value to a text using Excel&#39;s rules without precision loss.","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<p>I would recommend the following approach when modifying cell's type is undesirable:</p>\n\n<pre><code>if(cell.getCellType() == Cell.CELL_TYPE_NUMERIC) {\n    String str = NumberToTextConverter.toText(cell.getNumericCellValue())\n}\n</code></pre>\n\n<p>NumberToTextConverter can correctly convert double value to a text using Excel's rules without precision loss.</p>\n"},{"tags":[],"owner":{"account_id":1537914,"reputation":5365,"user_id":1433372,"accept_rate":50,"display_name":"userM1433372"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1478876256,"creation_date":1478876256,"answer_id":40550614,"question_id":1072561,"body_markdown":"As already mentioned in the Poi&#39;s JavaDocs (https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29) don&#39;t use: \r\n\r\n    cell.setCellType(Cell.CELL_TYPE_STRING);\r\n\r\nbut use:\r\n\r\n    DataFormatter df = new DataFormatter();\r\n    String value = df.formatCellValue(cell);\r\n\r\nMore examples on http://massapi.com/class/da/DataFormatter.html","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<p>As already mentioned in the Poi's JavaDocs (<a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29\" rel=\"noreferrer\">https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html#setCellType%28int%29</a>) don't use: </p>\n\n<pre><code>cell.setCellType(Cell.CELL_TYPE_STRING);\n</code></pre>\n\n<p>but use:</p>\n\n<pre><code>DataFormatter df = new DataFormatter();\nString value = df.formatCellValue(cell);\n</code></pre>\n\n<p>More examples on <a href=\"http://massapi.com/class/da/DataFormatter.html\" rel=\"noreferrer\">http://massapi.com/class/da/DataFormatter.html</a></p>\n"},{"tags":[],"owner":{"account_id":4104426,"reputation":643,"user_id":3368958,"accept_rate":85,"display_name":"Nelda.techspiress"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497026217,"creation_date":1497026217,"answer_id":44462818,"question_id":1072561,"body_markdown":"Many of these answers reference old POI documentation and classes. In the newest POI 3.16, [Cell with the int types][1] has been deprecated \r\n\r\n    Cell.CELL_TYPE_STRING\r\n[![enter image description here][2]][2]\r\n\r\n\r\nInstead the [CellType enum][3] can be used.\r\n\r\n    CellType.STRING \r\n\r\nJust be sure to update your pom with the poi dependency as well as the poi-ooxml dependency to the new 3.16 version otherwise you will continue to get exceptions. One advantage with this version is that you can specify the cell type at the time the cell is created eliminating all the extra steps described in previous answers:\r\n\r\n    titleRowCell = currentReportRow.createCell(currentReportColumnIndex, CellType.STRING);\r\n\r\n\r\n  [1]: https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html\r\n  [2]: https://i.stack.imgur.com/PInzh.png\r\n  [3]: https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/CellType.html","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<p>Many of these answers reference old POI documentation and classes. In the newest POI 3.16, <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/Cell.html\" rel=\"nofollow noreferrer\">Cell with the int types</a> has been deprecated </p>\n\n<pre><code>Cell.CELL_TYPE_STRING\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/PInzh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PInzh.png\" alt=\"enter image description here\"></a></p>\n\n<p>Instead the <a href=\"https://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/CellType.html\" rel=\"nofollow noreferrer\">CellType enum</a> can be used.</p>\n\n<pre><code>CellType.STRING \n</code></pre>\n\n<p>Just be sure to update your pom with the poi dependency as well as the poi-ooxml dependency to the new 3.16 version otherwise you will continue to get exceptions. One advantage with this version is that you can specify the cell type at the time the cell is created eliminating all the extra steps described in previous answers:</p>\n\n<pre><code>titleRowCell = currentReportRow.createCell(currentReportColumnIndex, CellType.STRING);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6783661,"reputation":285,"user_id":5223127,"accept_rate":25,"display_name":"Rama Krishna"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1507025856,"creation_date":1507025856,"answer_id":46542269,"question_id":1072561,"body_markdown":"This worked perfect for me.\r\n\r\n    Double legacyRow = row.getCell(col).getNumericCellValue();\r\n\tString legacyRowStr = legacyRow.toString();\r\n\tif(legacyRowStr.contains(&quot;.0&quot;)){\r\n\t\tlegacyRowStr = legacyRowStr.substring(0, legacyRowStr.length()-2);\r\n\t}","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<p>This worked perfect for me.</p>\n\n<pre><code>Double legacyRow = row.getCell(col).getNumericCellValue();\nString legacyRowStr = legacyRow.toString();\nif(legacyRowStr.contains(\".0\")){\n    legacyRowStr = legacyRowStr.substring(0, legacyRowStr.length()-2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10861237,"reputation":593,"user_id":7986053,"display_name":"KeaganFouche"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527588840,"creation_date":1527588840,"answer_id":50581795,"question_id":1072561,"body_markdown":"I would much rather go the route of the wil&#39;s answer or Vinayak Dornala, unfortunately they effected my performance far to much.\r\nI went for a **HACKY** solution of implicit casting:\r\n\r\n    for (Row row : sheet){\r\n    String strValue = (row.getCell(numericColumn)+&quot;&quot;); // hack\r\n    ...\r\n\r\nI don&#39;t suggest you do this, for my situation it worked because of the nature of how the system worked and I had a reliable file source.\r\n\r\nFootnote:\r\n    numericColumn\r\nIs an int which is generated from reading the header of the file processed.\r\n","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<p>I would much rather go the route of the wil's answer or Vinayak Dornala, unfortunately they effected my performance far to much.\nI went for a <strong>HACKY</strong> solution of implicit casting:</p>\n\n<pre><code>for (Row row : sheet){\nString strValue = (row.getCell(numericColumn)+\"\"); // hack\n...\n</code></pre>\n\n<p>I don't suggest you do this, for my situation it worked because of the nature of how the system worked and I had a reliable file source.</p>\n\n<p>Footnote:\n    numericColumn\nIs an int which is generated from reading the header of the file processed.</p>\n"},{"tags":[],"owner":{"account_id":14557375,"reputation":35,"user_id":10514532,"display_name":"Prasanna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540288002,"creation_date":1540288002,"answer_id":52946002,"question_id":1072561,"body_markdown":"    public class Excellib {\r\n\tpublic String getExceldata(String sheetname,int rownum,int cellnum, boolean isString) {\r\n\t\tString retVal=null;\r\n\t\ttry {\r\n\t\t\tFileInputStream fis=new FileInputStream(&quot;E:\\\\Sample-Automation-Workspace\\\\SampleTestDataDriven\\\\Registration.xlsx&quot;);\r\n\t\t\tWorkbook wb=WorkbookFactory.create(fis);\r\n\t\t\tSheet s=wb.getSheet(sheetname);\r\n\t\t\tRow r=s.getRow(rownum);\r\n\t\t\tCell c=r.getCell(cellnum);\r\n\t\t\tif(c.getCellType() == Cell.CELL_TYPE_STRING)\r\n\t\t\tretVal=c.getStringCellValue();\r\n\t\t\telse {\r\n\t\t\t\tretVal = String.valueOf(c.getNumericCellValue());\r\n\t\t\t}\r\n\r\nI Tried This and It worked For me ","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<pre><code>public class Excellib {\npublic String getExceldata(String sheetname,int rownum,int cellnum, boolean isString) {\n    String retVal=null;\n    try {\n        FileInputStream fis=new FileInputStream(\"E:\\\\Sample-Automation-Workspace\\\\SampleTestDataDriven\\\\Registration.xlsx\");\n        Workbook wb=WorkbookFactory.create(fis);\n        Sheet s=wb.getSheet(sheetname);\n        Row r=s.getRow(rownum);\n        Cell c=r.getCell(cellnum);\n        if(c.getCellType() == Cell.CELL_TYPE_STRING)\n        retVal=c.getStringCellValue();\n        else {\n            retVal = String.valueOf(c.getNumericCellValue());\n        }\n</code></pre>\n\n<p>I Tried This and It worked For me </p>\n"},{"tags":[],"owner":{"account_id":2374648,"reputation":619,"user_id":2078368,"display_name":"Sergey Krivenkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606777595,"creation_date":1606777595,"answer_id":65082438,"question_id":1072561,"body_markdown":"There is a ready-to-use wrapper\r\n(some additional optimizations can be applied)\r\n\r\n - it supports numeric and String cells\r\n - formulas are recognized and handled automatically\r\n - avoid some boilerplate\r\n\r\n\r\n\t\tpublic final class Cell {\r\n\t\r\n\t\tprivate final static DataFormatter FORMATTER = new DataFormatter();\r\n\t\r\n\t\tprivate XSSFCell mCell;\r\n\t\r\n\t\tpublic Cell(@NotNull XSSFCell cell) {\r\n\t\t\tmCell = cell;\r\n\t\r\n\t\t\tif (isFormula()) {\r\n\t\t\t\tXSSFWorkbook book = mCell.getSheet().getWorkbook();\r\n\t\t\t\tFormulaEvaluator evaluator = book.getCreationHelper().createFormulaEvaluator();\r\n\t\t\t\tmCell = (XSSFCell) evaluator.evaluateInCell(mCell);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\t/**\r\n\t\t * Get content\r\n\t\t */\r\n\t\tpublic final int getInt() {\r\n\t\t\treturn (int) getLong();\r\n\t\t}\r\n\t\r\n\t\tpublic final long getLong() {\r\n\t\t\treturn Math.round(getDouble());\r\n\t\t}\r\n\t\r\n\t\tpublic final double getDouble() {\r\n\t\t\treturn mCell.getNumericCellValue();\r\n\t\t}\r\n\t\r\n\t\tpublic final String getString() {\r\n\t\t\tif (!isString()) {\r\n\t\t\t\treturn FORMATTER.formatCellValue(mCell);\r\n\t\t\t}\r\n\t\t\treturn mCell.getStringCellValue();\r\n\t\t}\r\n\t\r\n\t\t/**\r\n\t\t * Get properties\r\n\t\t */\r\n\t\tpublic final boolean isNumber() {\r\n\t\t\tif (isFormula()) {\r\n\t\t\t\treturn mCell.getCachedFormulaResultType().equals(CellType.NUMERIC);\r\n\t\t\t}\r\n\t\t\treturn mCell.getCellType().equals(CellType.NUMERIC);\r\n\t\t}\r\n\t\r\n\t\tpublic final boolean isString() {\r\n\t\t\tif (isFormula()) {\r\n\t\t\t\treturn mCell.getCachedFormulaResultType().equals(CellType.STRING);\r\n\t\t\t}\r\n\t\t\treturn mCell.getCellType().equals(CellType.STRING);\r\n\t\t}\r\n\t\r\n\t\tpublic final boolean isFormula() {\r\n\t\t\treturn mCell.getCellType().equals(CellType.FORMULA);\r\n\t\t}\r\n\t\r\n\t\t/**\r\n\t\t * Debug info\r\n\t\t */\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn getString();\r\n\t\t}\r\n        }\r\n\r\n","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<p>There is a ready-to-use wrapper\n(some additional optimizations can be applied)</p>\n<ul>\n<li><p>it supports numeric and String cells</p>\n</li>\n<li><p>formulas are recognized and handled automatically</p>\n</li>\n<li><p>avoid some boilerplate</p>\n<pre><code> public final class Cell {\n\n private final static DataFormatter FORMATTER = new DataFormatter();\n\n private XSSFCell mCell;\n\n public Cell(@NotNull XSSFCell cell) {\n     mCell = cell;\n\n     if (isFormula()) {\n         XSSFWorkbook book = mCell.getSheet().getWorkbook();\n         FormulaEvaluator evaluator = book.getCreationHelper().createFormulaEvaluator();\n         mCell = (XSSFCell) evaluator.evaluateInCell(mCell);\n     }\n }\n\n /**\n  * Get content\n  */\n public final int getInt() {\n     return (int) getLong();\n }\n\n public final long getLong() {\n     return Math.round(getDouble());\n }\n\n public final double getDouble() {\n     return mCell.getNumericCellValue();\n }\n\n public final String getString() {\n     if (!isString()) {\n         return FORMATTER.formatCellValue(mCell);\n     }\n     return mCell.getStringCellValue();\n }\n\n /**\n  * Get properties\n  */\n public final boolean isNumber() {\n     if (isFormula()) {\n         return mCell.getCachedFormulaResultType().equals(CellType.NUMERIC);\n     }\n     return mCell.getCellType().equals(CellType.NUMERIC);\n }\n\n public final boolean isString() {\n     if (isFormula()) {\n         return mCell.getCachedFormulaResultType().equals(CellType.STRING);\n     }\n     return mCell.getCellType().equals(CellType.STRING);\n }\n\n public final boolean isFormula() {\n     return mCell.getCellType().equals(CellType.FORMULA);\n }\n\n /**\n  * Debug info\n  */\n @Override\n public String toString() {\n     return getString();\n }\n }\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20195076,"reputation":39,"user_id":14812221,"display_name":"Reshma Kachhadiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657793971,"creation_date":1657793971,"answer_id":72978932,"question_id":1072561,"body_markdown":"You can read numerical cells as String using java.\r\n\r\n    int type = cell.getCellType();\r\n    if(type == 0){\r\n       String value = NumberToTextConverter.toText(cell.getNumericCellValue());\r\n    }\r\n    else{\r\n       value = String.valueOf(cell.getStringCellValue());\r\n    }\r\n\r\n\r\n\r\nHere,\r\n\r\n 0 =&gt; numeric cell \r\n  \r\ngetCellType() =&gt; this method use to get type of excel cell.\r\n\r\n\r\n\r\n","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<p>You can read numerical cells as String using java.</p>\n<pre><code>int type = cell.getCellType();\nif(type == 0){\n   String value = NumberToTextConverter.toText(cell.getNumericCellValue());\n}\nelse{\n   value = String.valueOf(cell.getStringCellValue());\n}\n</code></pre>\n<p>Here,</p>\n<p>0 =&gt; numeric cell</p>\n<p>getCellType() =&gt; this method use to get type of excel cell.</p>\n"},{"tags":[],"owner":{"account_id":3723758,"reputation":11894,"user_id":3600553,"accept_rate":71,"display_name":"Du-Lacoste"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670933591,"creation_date":1670933591,"answer_id":74784692,"question_id":1072561,"body_markdown":"I encountered the same issue and easiest fix would be setting the `CELL TYPE` as `STRING`. This will avoid `exceptions` being prompted. \r\n\r\n    FileInputStream fis = new FileInputStream(new File(filePath));\r\n    XSSFWorkbook wb = new XSSFWorkbook(fis);\r\n    XSSFSheet sheet = wb.getSheetAt(0); // get first sheet\r\n    row.getCell(1).setCellType(CellType.STRING); // set Cell Type as String\r\n    String val = row.getCell(1).getStringCellValue(); // get the value as String type\r\n    System.out.println(val); // prints the value; ","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<p>I encountered the same issue and easiest fix would be setting the <code>CELL TYPE</code> as <code>STRING</code>. This will avoid <code>exceptions</code> being prompted.</p>\n<pre><code>FileInputStream fis = new FileInputStream(new File(filePath));\nXSSFWorkbook wb = new XSSFWorkbook(fis);\nXSSFSheet sheet = wb.getSheetAt(0); // get first sheet\nrow.getCell(1).setCellType(CellType.STRING); // set Cell Type as String\nString val = row.getCell(1).getStringCellValue(); // get the value as String type\nSystem.out.println(val); // prints the value; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10085235,"reputation":441,"user_id":7454104,"display_name":"Flavio Oliva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676314230,"creation_date":1676314230,"answer_id":75440078,"question_id":1072561,"body_markdown":"Another option would be to **force excel to evaluate the integer value as a string**. To achieve that you will have to **prefix a single quote before the number**.\r\n\r\nHere is an example appending a single quote to number 1:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ETmOr.png","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<p>Another option would be to <strong>force excel to evaluate the integer value as a string</strong>. To achieve that you will have to <strong>prefix a single quote before the number</strong>.</p>\n<p>Here is an example appending a single quote to number 1:</p>\n<p><a href=\"https://i.stack.imgur.com/ETmOr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ETmOr.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27755,"reputation":1996,"user_id":73572,"accept_rate":55,"display_name":"joycollector"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":336304,"favorite_count":0,"down_vote_count":0,"up_vote_count":166,"accepted_answer_id":3504406,"answer_count":24,"score":166,"last_activity_date":1700373197,"creation_date":1246510256,"question_id":1072561,"body_markdown":"1. I have excel file with such contents: \r\n\r\n   * A1: SomeString\r\n\r\n   * A2: 2\r\n\r\n   All fields are set to String format.\r\n\r\n2. When I read the file in java using POI, it tells that A2 is in numeric cell format.\r\n3. The problem is that the value in A2 can be 2 or 2.0 (and I want to be able to distinguish them) so I can&#39;t just use `.toString()`.\r\n\r\nWhat can I do to read the value as string?\r\n","title":"How can I read numeric strings in Excel cells as string (not numbers)?","body":"<ol>\n<li><p>I have excel file with such contents: </p>\n\n<ul>\n<li><p>A1: SomeString</p></li>\n<li><p>A2: 2</p></li>\n</ul>\n\n<p>All fields are set to String format.</p></li>\n<li><p>When I read the file in java using POI, it tells that A2 is in numeric cell format.</p></li>\n<li>The problem is that the value in A2 can be 2 or 2.0 (and I want to be able to distinguish them) so I can't just use <code>.toString()</code>.</li>\n</ol>\n\n<p>What can I do to read the value as string?</p>\n"},{"tags":["java","file","jar","external"],"comments":[{"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"score":0,"creation_date":1352396425,"post_id":13294594,"comment_id":18127747,"body_markdown":"does `bar` provide a way to access this file? if so, add it to the build path of `foo` and use the appropriate objects.","body":"does <code>bar</code> provide a way to access this file? if so, add it to the build path of <code>foo</code> and use the appropriate objects."}],"answers":[{"comments":[{"owner":{"account_id":1905951,"reputation":3308,"user_id":1720829,"accept_rate":75,"display_name":"Nathan F."},"score":0,"creation_date":1352397712,"post_id":13294672,"comment_id":18128320,"body_markdown":"Would I do that like this?\n\n`JarFile j = new JarFile(&quot;bar.jar&quot;);`\n`j.getClass().getResourceAsStream(&quot;foo-bar.txt&quot;);`","body":"Would I do that like this?  <code>JarFile j = new JarFile(&quot;bar.jar&quot;);</code> <code>j.getClass().getResourceAsStream(&quot;foo-bar.txt&quot;);</code>"},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1352398026,"post_id":13294672,"comment_id":18128474,"body_markdown":"No. You would need `j.getEntry` and `j.getInputStream`","body":"No. You would need <code>j.getEntry</code> and <code>j.getInputStream</code>"},{"owner":{"account_id":1905951,"reputation":3308,"user_id":1720829,"accept_rate":75,"display_name":"Nathan F."},"score":0,"creation_date":1352422760,"post_id":13294672,"comment_id":18138108,"body_markdown":"Could you show me some code? (I learn best from code snippets)","body":"Could you show me some code? (I learn best from code snippets)"},{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1352424551,"post_id":13294672,"comment_id":18138541,"body_markdown":"@Roman&#39;s (answer)[http://stackoverflow.com/a/13294687/18573] is better and has example, but I confess I believe there is enough information in my answer to not need actual code. Have you done any programming before?","body":"@Roman&#39;s (answer)[<a href=\"http://stackoverflow.com/a/13294687/18573]\">stackoverflow.com/a/13294687/18573]</a> is better and has example, but I confess I believe there is enough information in my answer to not need actual code. Have you done any programming before?"},{"owner":{"account_id":1905951,"reputation":3308,"user_id":1720829,"accept_rate":75,"display_name":"Nathan F."},"score":0,"creation_date":1352731009,"post_id":13294672,"comment_id":18212661,"body_markdown":"Quite a bit. But very little java.","body":"Quite a bit. But very little java."}],"tags":[],"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1352396577,"creation_date":1352396577,"answer_id":13294672,"question_id":13294594,"body_markdown":"If the jar is in your classpath then `getResourceAsStream` will work, but note that it will find the *first* instance in your classpath. If foo.jar and bar.jar both contain this file then it will return whichever jar is first in classpath.\r\n\r\nTo read it from the jar use [`JarFile.getEntry`][1] and [`JarFile.getInputStream`][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/jar/JarFile.html#getEntry%28java.lang.String%29\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/util/jar/JarFile.html#getInputStream%28java.util.zip.ZipEntry%29","title":"Read a file from inside of an external Jar file?","body":"<p>If the jar is in your classpath then <code>getResourceAsStream</code> will work, but note that it will find the <em>first</em> instance in your classpath. If foo.jar and bar.jar both contain this file then it will return whichever jar is first in classpath.</p>\n\n<p>To read it from the jar use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/jar/JarFile.html#getEntry%28java.lang.String%29\" rel=\"noreferrer\"><code>JarFile.getEntry</code></a> and <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/jar/JarFile.html#getInputStream%28java.util.zip.ZipEntry%29\" rel=\"noreferrer\"><code>JarFile.getInputStream</code></a></p>\n"},{"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1352546457,"post_id":13294687,"comment_id":18172416,"body_markdown":"[This](http://stackoverflow.com/questions/13208999/how-can-i-retrieve-information-from-text-file-using-java-streams/13209144#13209144) information could be helpful for file IO.","body":"<a href=\"http://stackoverflow.com/questions/13208999/how-can-i-retrieve-information-from-text-file-using-java-streams/13209144#13209144\">This</a> information could be helpful for file IO."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1352396953,"creation_date":1352396610,"answer_id":13294687,"question_id":13294594,"body_markdown":"Use jar url to open connection the example code\r\n\r\n    InputStream in = null;\r\n    String inputFile = &quot;jar:file:/c:/path/to/my.jar!/myfile.txt&quot;;\r\n    if (inputFile.startsWith(&quot;jar:&quot;)){\r\n      try {\r\n        inputURL = new URL(inputFile);\r\n        JarURLConnection conn = (JarURLConnection)inputURL.openConnection();\r\n        in = conn.getInputStream();\r\n      } catch (MalformedURLException e1) {\r\n        System.err.println(&quot;Malformed input URL: &quot;+inputURL);\r\n        return;\r\n      } catch (IOException e1) {\r\n        System.err.println(&quot;IO error open connection&quot;);\r\n        return;\r\n      }\r\n    } \r\n","title":"Read a file from inside of an external Jar file?","body":"<p>Use jar url to open connection the example code</p>\n\n<pre><code>InputStream in = null;\nString inputFile = \"jar:file:/c:/path/to/my.jar!/myfile.txt\";\nif (inputFile.startsWith(\"jar:\")){\n  try {\n    inputURL = new URL(inputFile);\n    JarURLConnection conn = (JarURLConnection)inputURL.openConnection();\n    in = conn.getInputStream();\n  } catch (MalformedURLException e1) {\n    System.err.println(\"Malformed input URL: \"+inputURL);\n    return;\n  } catch (IOException e1) {\n    System.err.println(\"IO error open connection\");\n    return;\n  }\n} \n</code></pre>\n"}],"owner":{"account_id":1905951,"reputation":3308,"user_id":1720829,"accept_rate":75,"display_name":"Nathan F."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9102,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":13294687,"answer_count":2,"score":3,"last_activity_date":1700372519,"creation_date":1352396285,"question_id":13294594,"body_markdown":"I&#39;m trying to read a file from inside an external jar using java..\r\nFor example, I have two jar files. One is &quot;foo.jar&quot; the other is &quot;bar.jar&quot;. Inside of &quot;bar.jar&quot; is the file &quot;foo-bar.txt&quot;. How do i read the file &quot;foo-bar.txt&quot; from inside of &quot;bar.jar&quot; using code in &quot;foo.jar&quot;...? Is this even possible..? \r\nI know that i can read a file from iside of foo.jar using\r\n\r\n    this.getClass().getClassLoader().getResourceAsStream(&quot;foo-bar.txt&quot;);\r\n\r\nBut I don&#39;t know how to do it from an external jar.. can someone help me?","title":"Read a file from inside of an external Jar file?","body":"<p>I'm trying to read a file from inside an external jar using java..\nFor example, I have two jar files. One is \"foo.jar\" the other is \"bar.jar\". Inside of \"bar.jar\" is the file \"foo-bar.txt\". How do i read the file \"foo-bar.txt\" from inside of \"bar.jar\" using code in \"foo.jar\"...? Is this even possible..? \nI know that i can read a file from iside of foo.jar using</p>\n\n<pre><code>this.getClass().getClassLoader().getResourceAsStream(\"foo-bar.txt\");\n</code></pre>\n\n<p>But I don't know how to do it from an external jar.. can someone help me?</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":25580296,"reputation":3,"user_id":19358988,"display_name":"Blake Only"},"score":0,"creation_date":1700357406,"post_id":77509261,"comment_id":136644735,"body_markdown":"Thanks a lot, no way I was figuring this one out by myself","body":"Thanks a lot, no way I was figuring this one out by myself"}],"tags":[],"owner":{"account_id":29520193,"reputation":932,"user_id":22623172,"display_name":"Vlad Guriev"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700356359,"creation_date":1700356359,"answer_id":77509261,"question_id":77509199,"body_markdown":"`dealt2.setImageResource(R.drawable.clubsace);` is equivalent to the following:\r\n```Java\r\ndealt2.setImageResource(dealt2.getResources().getIdentifier(&quot;clubsace&quot;, &quot;drawable&quot;, dealt2.getContext().getPackageName()));\r\n```\r\n\r\nAnd please don&#39;t forget to remove `.png` from the hashmap","title":"Is there a way to insert a string into the the statement ImageView.setImageResource(R.drawable._____) in order to retrieve an image?","body":"<p><code>dealt2.setImageResource(R.drawable.clubsace);</code> is equivalent to the following:</p>\n<pre><code>dealt2.setImageResource(dealt2.getResources().getIdentifier(&quot;clubsace&quot;, &quot;drawable&quot;, dealt2.getContext().getPackageName()));\n</code></pre>\n<p>And please don't forget to remove <code>.png</code> from the hashmap</p>\n"},{"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700372084,"creation_date":1700372084,"answer_id":77509727,"question_id":77509199,"body_markdown":"A more simple way can be to just store the drawable resource id into the HashMap instead of just the image name. \r\n\r\nThis is due to the fact that all the resources are mapped to `Integer`. i.e. `R.drawable.clubsace` has `Integer` type so you can store it in `HashMap`.\r\n\r\n```\r\nHashMap&lt;Integer,Integer&gt; cards = new HashMap&lt;&gt;();\r\ncards.put(1, R.drawable.clubsace);\r\n```\r\n\r\nThen you can simply set the resource directly.\r\n```\r\ndealt2.setImageResource(cards.get(1));\r\n```","title":"Is there a way to insert a string into the the statement ImageView.setImageResource(R.drawable._____) in order to retrieve an image?","body":"<p>A more simple way can be to just store the drawable resource id into the HashMap instead of just the image name.</p>\n<p>This is due to the fact that all the resources are mapped to <code>Integer</code>. i.e. <code>R.drawable.clubsace</code> has <code>Integer</code> type so you can store it in <code>HashMap</code>.</p>\n<pre><code>HashMap&lt;Integer,Integer&gt; cards = new HashMap&lt;&gt;();\ncards.put(1, R.drawable.clubsace);\n</code></pre>\n<p>Then you can simply set the resource directly.</p>\n<pre><code>dealt2.setImageResource(cards.get(1));\n</code></pre>\n"}],"owner":{"account_id":25580296,"reputation":3,"user_id":19358988,"display_name":"Blake Only"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77509261,"answer_count":2,"score":0,"last_activity_date":1700372084,"creation_date":1700354049,"question_id":77509199,"body_markdown":"I have an ImageView and I want it to display an image from my drawable folder based on the value \r\nof a number. I have a collection of images of playing cards in my drawable folder and I&#39;m making a game where each card represents a number from 1 to 52. To represent this, I made a hashmap that links each number from 1 to 52 to a string which is the full name of the png file in my drawable folder. Now I need to find a way to use this key-value link in my hashmap to display a card in my ImageView depending on what my number variable is. The issue I&#39;ve run into is that I don&#39;t know how to use the string value from the hashmap to access the image.\r\n\r\n\r\n        \r\n        \r\n\r\nThe statement that changes the image should look like this\r\n\r\n        dealt2.setImageResource(R.drawable.clubsace);\r\n\r\nWhere dealt2 is the ImageView variable.\r\n\r\nI&#39;ve checked and this works, but what I&#39;m trying to do is something like: \r\n\r\n dealt2.setImageResource(R.drawable.cards.get(1));\r\n\r\nWhere cards is my hashmap and cards.get(1) will return the string &quot;clubsace.png&quot;. I don&#39;t know if there is a way to turn this string into something that can fit into that statement","title":"Is there a way to insert a string into the the statement ImageView.setImageResource(R.drawable._____) in order to retrieve an image?","body":"<p>I have an ImageView and I want it to display an image from my drawable folder based on the value\nof a number. I have a collection of images of playing cards in my drawable folder and I'm making a game where each card represents a number from 1 to 52. To represent this, I made a hashmap that links each number from 1 to 52 to a string which is the full name of the png file in my drawable folder. Now I need to find a way to use this key-value link in my hashmap to display a card in my ImageView depending on what my number variable is. The issue I've run into is that I don't know how to use the string value from the hashmap to access the image.</p>\n<p>The statement that changes the image should look like this</p>\n<pre><code>    dealt2.setImageResource(R.drawable.clubsace);\n</code></pre>\n<p>Where dealt2 is the ImageView variable.</p>\n<p>I've checked and this works, but what I'm trying to do is something like:</p>\n<p>dealt2.setImageResource(R.drawable.cards.get(1));</p>\n<p>Where cards is my hashmap and cards.get(1) will return the string &quot;clubsace.png&quot;. I don't know if there is a way to turn this string into something that can fit into that statement</p>\n"},{"tags":["java","c++","class","jar","java-native-interface"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1700369443,"post_id":77509602,"comment_id":136645235,"body_markdown":"It would help if you printed the actual exception rather than your own error message. `env-&gt;ExceptionDescribe()`. Also if you showed the declaration of `jvmtest`.","body":"It would help if you printed the actual exception rather than your own error message. <code>env-&gt;ExceptionDescribe()</code>. Also if you showed the declaration of <code>jvmtest</code>."},{"owner":{"account_id":3739368,"reputation":81,"user_id":3109481,"accept_rate":0,"display_name":"mya"},"score":0,"creation_date":1700370948,"post_id":77509602,"comment_id":136645290,"body_markdown":"Thanks for the feedback, the question has been updated as recommended","body":"Thanks for the feedback, the question has been updated as recommended"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1700371298,"post_id":77509602,"comment_id":136645310,"body_markdown":"&quot;Wrong name&quot; tells all. Your class isn&#39;t `com.jvmtest`. It isn&#39;t in the `com` package. That&#39;s why the unstructured JAR file works. If you put it in the `com` directory in the JAR file it needs to be compiled as `com.jvmtest`, which means it needs `package com;`.","body":"&quot;Wrong name&quot; tells all. Your class isn&#39;t <code>com.jvmtest</code>. It isn&#39;t in the <code>com</code> package. That&#39;s why the unstructured JAR file works. If you put it in the <code>com</code> directory in the JAR file it needs to be compiled as <code>com.jvmtest</code>, which means it needs <code>package com;</code>."},{"owner":{"account_id":3739368,"reputation":81,"user_id":3109481,"accept_rate":0,"display_name":"mya"},"score":0,"creation_date":1700373864,"post_id":77509602,"comment_id":136645435,"body_markdown":"Thank you very much. Adding &#39;package com;&#39; to the first line of jvmtest.java resolved this issue, the packaged class can now be successfully found.","body":"Thank you very much. Adding &#39;package com;&#39; to the first line of jvmtest.java resolved this issue, the packaged class can now be successfully found."}],"owner":{"account_id":3739368,"reputation":81,"user_id":3109481,"accept_rate":0,"display_name":"mya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700371646,"creation_date":1700368487,"question_id":77509602,"body_markdown":"I am unable to use JNIs FindClass function to detect a class from a packaged jar file. \r\n\r\nIf I do not package the jar file (class files not within sub-folders) JNIs FindClass is successful, however I need to detect the class when it is packaged within multiple sub-folders. \r\n\r\nFor testing I have created a file jvmtest.java: \r\n\r\n    public class jvmtest\r\n    {\r\n      public static void main(String[] args)\r\n      {\r\n        System.out.println(&quot;Hello from jvmtest main&quot;);\r\n      }\r\n    \r\n      public class innerjvmtest\r\n      {\r\n        public void hello()\r\n        {\r\n          System.out.println(&quot;Hello from innerjvmtest&quot;);\r\n        }\r\n      }\r\n    }\r\n\r\nPlaced it in a folder &#39;com&#39; and complied it within the folder &#39;com&#39; via: \r\n\r\n    javac jvmtest.java\r\n\r\nI then created a packaged jar file jvmtest.jar with one sub-folder &#39;com&#39; using the command:\r\n\r\n    jar cvf jvmtest.jar com/*.class\r\n\r\nwith its archive shown as:\r\n\r\n[![jvmtest.jar archive][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mrDAH.jpg\r\n\r\nMy Main.cpp file is:\r\n\r\n    #include &lt;jni.h&gt;\r\n    #include &lt;iostream&gt;\r\n    using namespace std;\r\n\r\n    int main(int argc, char* argv[])\r\n    {  \r\n      JavaVM *vm;\r\n      JNIEnv *env;\r\n      JavaVMInitArgs vm_args;\r\n      vm_args.version = JNI_VERSION_1_6;\r\n      JavaVMOption *options = new JavaVMOption[1];\r\n      options[0].optionString = &quot;-Djava.class.path=jvmtest.jar&quot;;\r\n      vm_args.nOptions = 1;\r\n      vm_args.options = options;\r\n      vm_args.ignoreUnrecognized = false;\r\n      // Construct a VM\r\n      jint res = JNI_CreateJavaVM(&amp;vm, (void **)&amp;env, &amp;vm_args);\r\n      if (res != JNI_OK)\r\n      {\r\n        std::cout &lt;&lt; &quot;Failed to load JVM&quot; &lt;&lt; std::endl;\r\n      }\r\n      std::cout &lt;&lt; &quot;JVM loaded: JNI Version &quot;;\r\n      jint ver = env-&gt;GetVersion();\r\n      std::cout &lt;&lt; ((ver&gt;&gt;16)&amp;0x0f) &lt;&lt; &quot;.&quot;&lt;&lt;(ver&amp;0x0f) &lt;&lt; std::endl;\r\n    \r\n      jclass cls = env-&gt;FindClass(&quot;com/jvmtest&quot;);\r\n      if(cls == NULL)\r\n      {\r\n        std::cout &lt;&lt; &quot;ERROR: outer class not found !&quot; &lt;&lt; std::endl;\r\n      }\r\n      else\r\n      {\r\n        std::cout &lt;&lt; &quot;SUCCESS: Found the outer class !&quot; &lt;&lt; std::endl;\r\n      }\r\n      \r\n      env-&gt;ExceptionDescribe();\r\n    }\r\n\r\nThe output of the program is: \r\nJVM loaded: JNI Version 9.0                                                                                                                 ERROR: outer class not found !                                               \r\n\r\nwith the exception: \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: jvmtest (wrong name: com/jvmtest)\r\n    at java.lang.ClassLoader.defineClass1(java.base@9-internal/Native Method)\r\n    at java.lang.ClassLoader.defineClass(java.base@9-internal/ClassLoader.java:939)\r\n \tat java.security.SecureClassLoader.defineClass(java.base@9-internal/SecureClassLoader.java:152)\r\n \tat jdk.internal.loader.BuiltinClassLoader.defineClass(java.base@9-internal/BuiltinClassLoader.java:553)\r\n \tat jdk.internal.loader.BuiltinClassLoader.access$200(java.base@9-internal/BuiltinClassLoader.java:88)\r\n \tat jdk.internal.loader.BuiltinClassLoader$3.run(java.base@9-internal/BuiltinClassLoader.java:466)\r\n \tat jdk.internal.loader.BuiltinClassLoader$3.run(java.base@9-internal/BuiltinClassLoader.java:460)\r\n \tat java.security.AccessController.doPrivileged(java.base@9-internal/Native Method)\r\n \tat jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(java.base@9-internal/BuiltinClassLoader.java:459)\r\n \tat jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(java.base@9-internal/BuiltinClassLoader.java:406)\r\n \tat jdk.internal.loader.BuiltinClassLoader.loadClass(java.base@9-internal/BuiltinClassLoader.java:364)\r\n \tat jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(java.base@9-internal/ClassLoaders.java:184)\r\n \tat java.lang.ClassLoader.loadClass(java.base@9-internal/ClassLoader.java:419)\r\n\r\n                                                                      \r\nI do not understand why it is prompting that &#39;com/jvmtest&#39; is the wrong name. \r\n\r\nHow do I use JNIs FindClass function to detect a class from a packaged jar file?\r\n\r\n\r\n","title":"JNI FindClass unable to find class from a packaged jar file","body":"<p>I am unable to use JNIs FindClass function to detect a class from a packaged jar file.</p>\n<p>If I do not package the jar file (class files not within sub-folders) JNIs FindClass is successful, however I need to detect the class when it is packaged within multiple sub-folders.</p>\n<p>For testing I have created a file jvmtest.java:</p>\n<pre><code>public class jvmtest\n{\n  public static void main(String[] args)\n  {\n    System.out.println(&quot;Hello from jvmtest main&quot;);\n  }\n\n  public class innerjvmtest\n  {\n    public void hello()\n    {\n      System.out.println(&quot;Hello from innerjvmtest&quot;);\n    }\n  }\n}\n</code></pre>\n<p>Placed it in a folder 'com' and complied it within the folder 'com' via:</p>\n<pre><code>javac jvmtest.java\n</code></pre>\n<p>I then created a packaged jar file jvmtest.jar with one sub-folder 'com' using the command:</p>\n<pre><code>jar cvf jvmtest.jar com/*.class\n</code></pre>\n<p>with its archive shown as:</p>\n<p><a href=\"https://i.stack.imgur.com/mrDAH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mrDAH.jpg\" alt=\"jvmtest.jar archive\" /></a></p>\n<p>My Main.cpp file is:</p>\n<pre><code>#include &lt;jni.h&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\nint main(int argc, char* argv[])\n{  \n  JavaVM *vm;\n  JNIEnv *env;\n  JavaVMInitArgs vm_args;\n  vm_args.version = JNI_VERSION_1_6;\n  JavaVMOption *options = new JavaVMOption[1];\n  options[0].optionString = &quot;-Djava.class.path=jvmtest.jar&quot;;\n  vm_args.nOptions = 1;\n  vm_args.options = options;\n  vm_args.ignoreUnrecognized = false;\n  // Construct a VM\n  jint res = JNI_CreateJavaVM(&amp;vm, (void **)&amp;env, &amp;vm_args);\n  if (res != JNI_OK)\n  {\n    std::cout &lt;&lt; &quot;Failed to load JVM&quot; &lt;&lt; std::endl;\n  }\n  std::cout &lt;&lt; &quot;JVM loaded: JNI Version &quot;;\n  jint ver = env-&gt;GetVersion();\n  std::cout &lt;&lt; ((ver&gt;&gt;16)&amp;0x0f) &lt;&lt; &quot;.&quot;&lt;&lt;(ver&amp;0x0f) &lt;&lt; std::endl;\n\n  jclass cls = env-&gt;FindClass(&quot;com/jvmtest&quot;);\n  if(cls == NULL)\n  {\n    std::cout &lt;&lt; &quot;ERROR: outer class not found !&quot; &lt;&lt; std::endl;\n  }\n  else\n  {\n    std::cout &lt;&lt; &quot;SUCCESS: Found the outer class !&quot; &lt;&lt; std::endl;\n  }\n  \n  env-&gt;ExceptionDescribe();\n}\n</code></pre>\n<p>The output of the program is:\nJVM loaded: JNI Version 9.0                                                                                                                 ERROR: outer class not found !</p>\n<p>with the exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: jvmtest (wrong name: com/jvmtest)\nat java.lang.ClassLoader.defineClass1(java.base@9-internal/Native Method)\nat java.lang.ClassLoader.defineClass(java.base@9-internal/ClassLoader.java:939)\nat java.security.SecureClassLoader.defineClass(java.base@9-internal/SecureClassLoader.java:152)\nat jdk.internal.loader.BuiltinClassLoader.defineClass(java.base@9-internal/BuiltinClassLoader.java:553)\nat jdk.internal.loader.BuiltinClassLoader.access$200(java.base@9-internal/BuiltinClassLoader.java:88)\nat jdk.internal.loader.BuiltinClassLoader$3.run(java.base@9-internal/BuiltinClassLoader.java:466)\nat jdk.internal.loader.BuiltinClassLoader$3.run(java.base@9-internal/BuiltinClassLoader.java:460)\nat java.security.AccessController.doPrivileged(java.base@9-internal/Native Method)\nat jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(java.base@9-internal/BuiltinClassLoader.java:459)\nat jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(java.base@9-internal/BuiltinClassLoader.java:406)\nat jdk.internal.loader.BuiltinClassLoader.loadClass(java.base@9-internal/BuiltinClassLoader.java:364)\nat jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(java.base@9-internal/ClassLoaders.java:184)\nat java.lang.ClassLoader.loadClass(java.base@9-internal/ClassLoader.java:419)\n\n                                                                  \n</code></pre>\n<p>I do not understand why it is prompting that 'com/jvmtest' is the wrong name.</p>\n<p>How do I use JNIs FindClass function to detect a class from a packaged jar file?</p>\n"},{"tags":["java","html","css","validation","selenium"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1530627711,"post_id":51156670,"comment_id":89297237,"body_markdown":"Relevant HTML and code trials please","body":"Relevant HTML and code trials please"}],"answers":[{"comments":[{"owner":{"display_name":"user9960732"},"score":0,"creation_date":1530702870,"post_id":51158111,"comment_id":89327258,"body_markdown":"The validationMessage attribute did the charm, haven&#39;t found that answer anywhere else yet. Thank you!","body":"The validationMessage attribute did the charm, haven&#39;t found that answer anywhere else yet. Thank you!"}],"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1530631309,"creation_date":1530631309,"answer_id":51158111,"question_id":51156670,"body_markdown":"There can be two thing.  \r\n\r\n**First** : I am assuming `input` fields which contains **required** attribute.  \r\n\r\nSomething like this :  `Username: &lt;input type=&quot;text&quot; name=&quot;usrname&quot; required&gt;` \r\n\r\nIf you do not provide anything in this **input** and hit on **submit** button, you would get this error message : `&quot;Please fill out this field&quot;` , which is outcome of **HTML5** required attribute(You may refer it as first level of verification).  \r\n\r\nYou can catch this exception message like this :  \r\n\r\n    String message = driver.findElement(By.name(&quot;usrname&quot;)).getAttribute(&quot;validationMessage&quot;);  \r\n\r\nIf you will print message String , you will get this : `Please fill out this field`  \r\n\r\n**Second** : There may be a Javascript validation alert which pops up when there are improper input given by the user. In such cases, you will have to switch to alert prompt and then retrieve the message from the the specific alert.  \r\n\r\nCode you can try out in this case :  \r\n\r\n\r\n    Alert alert = driver.switchTo().alert();\r\n    alert.getText();\r\n\r\n","title":"Selenium (Java): how to locate browser validation message?","body":"<p>There can be two thing.  </p>\n\n<p><strong>First</strong> : I am assuming <code>input</code> fields which contains <strong>required</strong> attribute.  </p>\n\n<p>Something like this :  <code>Username: &lt;input type=\"text\" name=\"usrname\" required&gt;</code> </p>\n\n<p>If you do not provide anything in this <strong>input</strong> and hit on <strong>submit</strong> button, you would get this error message : <code>\"Please fill out this field\"</code> , which is outcome of <strong>HTML5</strong> required attribute(You may refer it as first level of verification).  </p>\n\n<p>You can catch this exception message like this :  </p>\n\n<pre><code>String message = driver.findElement(By.name(\"usrname\")).getAttribute(\"validationMessage\");  \n</code></pre>\n\n<p>If you will print message String , you will get this : <code>Please fill out this field</code>  </p>\n\n<p><strong>Second</strong> : There may be a Javascript validation alert which pops up when there are improper input given by the user. In such cases, you will have to switch to alert prompt and then retrieve the message from the the specific alert.  </p>\n\n<p>Code you can try out in this case :  </p>\n\n<pre><code>Alert alert = driver.switchTo().alert();\nalert.getText();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8363516,"reputation":1695,"user_id":6280998,"accept_rate":78,"display_name":"Armine"},"score":0,"creation_date":1583399505,"post_id":60541228,"comment_id":107105209,"body_markdown":"So what is the question? Please state your question so it could be answered.","body":"So what is the question? Please state your question so it could be answered."}],"tags":[],"owner":{"account_id":17780875,"reputation":1,"user_id":12912100,"display_name":"Mohab Mohie"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583398724,"creation_date":1583397745,"answer_id":60541228,"question_id":51156670,"body_markdown":"I was actually looking for the same issue and decided to consolidate my findings in this article:\nhttps://www.linkedin.com/pulse/working-font-end-web-form-validations-using-test-automation-mohie/\n\nIn the above scenario, you can do three validations\n\n 1. validate that the field is required.\n\n        // this boolean value can be either true if the attribute exists or null if it doesn&#39;t\n        Boolean isRequired = driver.findElement(username).getAttribute(&quot;required&quot;);\n\n 2. validate that the message text is configured correctly.\n    \n        driver.findElement(username).getAttribute(&quot;validationMessage&quot;);\n\n 3. validate that the message is actually displayed.\n\n     This is the tricky part where you can use visual validation in case the element is not displayed on the main page DOM\n","title":"Selenium (Java): how to locate browser validation message?","body":"<p>I was actually looking for the same issue and decided to consolidate my findings in this article:\n<a href=\"https://www.linkedin.com/pulse/working-font-end-web-form-validations-using-test-automation-mohie/\" rel=\"nofollow noreferrer\">https://www.linkedin.com/pulse/working-font-end-web-form-validations-using-test-automation-mohie/</a></p>\n<p>In the above scenario, you can do three validations</p>\n<ol>\n<li><p>validate that the field is required.</p>\n<pre><code>// this boolean value can be either true if the attribute exists or null if it doesn't\nBoolean isRequired = driver.findElement(username).getAttribute(&quot;required&quot;);\n</code></pre>\n</li>\n<li><p>validate that the message text is configured correctly.</p>\n<pre><code>driver.findElement(username).getAttribute(&quot;validationMessage&quot;);\n</code></pre>\n</li>\n<li><p>validate that the message is actually displayed.</p>\n<p>This is the tricky part where you can use visual validation in case the element is not displayed on the main page DOM</p>\n</li>\n</ol>\n"}],"owner":{"display_name":"user9960732"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3401,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":51158111,"answer_count":2,"score":1,"last_activity_date":1700370498,"creation_date":1530626817,"question_id":51156670,"body_markdown":"I am working with Selenium and Java to write automated tests. I was given a task to validate mandatory fields in forms. The idea is that I try to submit the form without filling a mandatory field and I check the popup message. If it&#39;s there with the message, then it&#39;s a success. One form has several mandatory fields.\r\n\r\nThe issue is that the popup message - as I was told by dev collegues - is part of the browser and it&#39;s not part of the HTML code in any way, so I can&#39;t use `findElement(By)` as usual. Also the warning is not a separate window, you cannot click on it (because it disappears), it&#39;s just a bubble of some sorts which says: `&quot;Please fill out this field&quot;`\r\n\r\nHow can I locate this message with Selenium(Java)?","title":"Selenium (Java): how to locate browser validation message?","body":"<p>I am working with Selenium and Java to write automated tests. I was given a task to validate mandatory fields in forms. The idea is that I try to submit the form without filling a mandatory field and I check the popup message. If it's there with the message, then it's a success. One form has several mandatory fields.</p>\n\n<p>The issue is that the popup message - as I was told by dev collegues - is part of the browser and it's not part of the HTML code in any way, so I can't use <code>findElement(By)</code> as usual. Also the warning is not a separate window, you cannot click on it (because it disappears), it's just a bubble of some sorts which says: <code>\"Please fill out this field\"</code></p>\n\n<p>How can I locate this message with Selenium(Java)?</p>\n"},{"tags":["java","spring-boot","microservices","single-sign-on"],"owner":{"account_id":1512523,"reputation":497,"user_id":1414248,"accept_rate":88,"display_name":"DeveloperJava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700369796,"creation_date":1700369796,"question_id":77509649,"body_markdown":"We have 2 microservices which are responsible for processing business data along with those we have 1 auth service which handles part of OAuth authentication.\r\n\r\nNow we have requirement for SSO login from portal application where they will pass userid(which is already registered with our application) for accessing our application services.\r\n\r\nHow this can be implemented without Octa?\r\n\r\nWe are planning to implement it by creating one API in auth service microservice where we will get userid passed as uri parameter when that external app will access login link of our application (like http://dns.name/#/login?userid)\r\nThen we will fetch user details from our application and internally redirect to login url again along with userid and password to generate token to land the user on respective dashboard.\r\n\r\nis it wise solution?\r\n\r\nPlease assist.","title":"How to implement SSO in spring boot without octa","body":"<p>We have 2 microservices which are responsible for processing business data along with those we have 1 auth service which handles part of OAuth authentication.</p>\n<p>Now we have requirement for SSO login from portal application where they will pass userid(which is already registered with our application) for accessing our application services.</p>\n<p>How this can be implemented without Octa?</p>\n<p>We are planning to implement it by creating one API in auth service microservice where we will get userid passed as uri parameter when that external app will access login link of our application (like <a href=\"http://dns.name/#/login?userid\" rel=\"nofollow noreferrer\">http://dns.name/#/login?userid</a>)\nThen we will fetch user details from our application and internally redirect to login url again along with userid and password to generate token to land the user on respective dashboard.</p>\n<p>is it wise solution?</p>\n<p>Please assist.</p>\n"},{"tags":["java","amazon-web-services","gremlin","amazon-neptune","tinkerpop3"],"answers":[{"tags":[],"owner":{"account_id":14025132,"reputation":2074,"user_id":10130372,"display_name":"Taylor Riggan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700369672,"creation_date":1687528721,"answer_id":76540838,"question_id":76539764,"body_markdown":"So this seems very much in line with an analytics (OLAP) style of using a graph data store.  Neptune was originally designed as an OLTP, transactional, graph database.  It is designed for high concurrency of more constrained graph queries (starting with one or a few starting points and traversing through the graph until you resolve to an ending condition).\r\n\r\nIf you were to attempt to do something like this on Neptune today, you would need to build a multi-threaded app and split your query into multiple concurrent sub-queries that could be executed in parallel.","title":"Performance issues with Neptune gremlin query","body":"<p>So this seems very much in line with an analytics (OLAP) style of using a graph data store.  Neptune was originally designed as an OLTP, transactional, graph database.  It is designed for high concurrency of more constrained graph queries (starting with one or a few starting points and traversing through the graph until you resolve to an ending condition).</p>\n<p>If you were to attempt to do something like this on Neptune today, you would need to build a multi-threaded app and split your query into multiple concurrent sub-queries that could be executed in parallel.</p>\n"}],"owner":{"account_id":231613,"reputation":3000,"user_id":495939,"accept_rate":50,"display_name":"popcoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1700369672,"creation_date":1687520505,"question_id":76539764,"body_markdown":"We have an analysis project for which we are using neptune db.\r\nConfiguration:\r\ndb.r5d.24xlarge \r\n96 cores \r\n768G memory. \r\n\r\nIt contains around 50 million vertices and 500 million edges.\r\n\r\nVertices have id, name and category properties.\r\nEdges have id, date, tag, score and a few other properties.\r\n\r\nI&#39;ve been running queries to find all possible paths with 1 and 2 hops but mostly getting timeouts (time out is 60 seconds). Queries only return proper responses when number of vertices / edges processed is small.\r\n\r\nEg of a query:\r\n\r\n                g\r\n                .V()\r\n                .filter(values(&quot;name&quot;).is(fromName))\r\n                .repeat(\r\n                outE()\r\n                .and(\r\n                    filter(values(&quot;tag&quot;).is(tag)),\r\n                    filter(values(&quot;date&quot;).is(P.gte(dateVal))))\r\n                .inV())\r\n                .until(loops().is(2))\r\n                .filter(values(&quot;name&quot;).is(toName))\r\n                .simplePath()\r\n                .path()\r\n                .by(T.id)\r\n                .by(&quot;score&quot;);\r\n    \r\nMy Neptune java client config as follows:\r\n\r\n    Cluster cluster =\r\n        Cluster.build()\r\n            .addContactPoint(neptuneHost)\r\n            .port(neptunePort)\r\n            .enableSsl(true)\r\n            .serializer(Serializers.GRAPHBINARY_V1D0)\r\n            .maxConnectionPoolSize(poolSizeMax)\r\n            .minConnectionPoolSize(poolSizeMin).build();\r\n    \r\n    DriverRemoteConnection connection = DriverRemoteConnection.using(cluster);\r\n    \r\n    g = traversal().withRemote(connection);\r\n\r\nwhere poolSizeMax == poolSizeMin = 8.\r\n\r\nI&#39;ve also tried the following properties of the connection with different values, no luck so far: \r\n\r\n    workerPoolSize\r\n    maxInProcessPerConnection\r\n    maxSimultaneousUsagePerConnection\r\n    minSimultaneousUsagePerConnection\r\n\r\nWe&#39;ve noticed that the CPU and memory usage of the Neptune instance is pretty low as well. \r\n\r\nAny pointers on optimizing the query or any other configurations to run the queries without timing out would be really helpful. Note that we can&#39;t put a limit() to vertices or edges since that will result in incorrect output.","title":"Performance issues with Neptune gremlin query","body":"<p>We have an analysis project for which we are using neptune db.\nConfiguration:\ndb.r5d.24xlarge\n96 cores\n768G memory.</p>\n<p>It contains around 50 million vertices and 500 million edges.</p>\n<p>Vertices have id, name and category properties.\nEdges have id, date, tag, score and a few other properties.</p>\n<p>I've been running queries to find all possible paths with 1 and 2 hops but mostly getting timeouts (time out is 60 seconds). Queries only return proper responses when number of vertices / edges processed is small.</p>\n<p>Eg of a query:</p>\n<pre><code>            g\n            .V()\n            .filter(values(&quot;name&quot;).is(fromName))\n            .repeat(\n            outE()\n            .and(\n                filter(values(&quot;tag&quot;).is(tag)),\n                filter(values(&quot;date&quot;).is(P.gte(dateVal))))\n            .inV())\n            .until(loops().is(2))\n            .filter(values(&quot;name&quot;).is(toName))\n            .simplePath()\n            .path()\n            .by(T.id)\n            .by(&quot;score&quot;);\n</code></pre>\n<p>My Neptune java client config as follows:</p>\n<pre><code>Cluster cluster =\n    Cluster.build()\n        .addContactPoint(neptuneHost)\n        .port(neptunePort)\n        .enableSsl(true)\n        .serializer(Serializers.GRAPHBINARY_V1D0)\n        .maxConnectionPoolSize(poolSizeMax)\n        .minConnectionPoolSize(poolSizeMin).build();\n\nDriverRemoteConnection connection = DriverRemoteConnection.using(cluster);\n\ng = traversal().withRemote(connection);\n</code></pre>\n<p>where poolSizeMax == poolSizeMin = 8.</p>\n<p>I've also tried the following properties of the connection with different values, no luck so far:</p>\n<pre><code>workerPoolSize\nmaxInProcessPerConnection\nmaxSimultaneousUsagePerConnection\nminSimultaneousUsagePerConnection\n</code></pre>\n<p>We've noticed that the CPU and memory usage of the Neptune instance is pretty low as well.</p>\n<p>Any pointers on optimizing the query or any other configurations to run the queries without timing out would be really helpful. Note that we can't put a limit() to vertices or edges since that will result in incorrect output.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1700178633,"post_id":77498621,"comment_id":136625983,"body_markdown":"Rather then doing `String newUserPhrase = userPhrase.replaceAll(&quot;\\\\s&quot;,&quot;&quot;);`, use `String#split` to split the text on the spaces.  Then for each element, check the first character, if it&#39;s a capital letter, append it to your `acronym`","body":"Rather then doing <code>String newUserPhrase = userPhrase.replaceAll(&quot;\\\\s&quot;,&quot;&quot;);</code>, use <code>String#split</code> to split the text on the spaces.  Then for each element, check the first character, if it&#39;s a capital letter, append it to your <code>acronym</code>"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1700194420,"post_id":77498621,"comment_id":136627200,"body_markdown":"One liner: Single word string: (first three characters) OR Multi word string: (first letter from each word) - Java8+ required: Make sure `inputString` is not null or Empty: `String acronym = (!inputString.contains(&quot; &quot;) ? inputString.toUpperCase().substring(0, 3) : java.util.Arrays.stream(inputString.split(&quot;\\\\s+&quot;)).map(t -&gt; t.substring(0, 1).toUpperCase()).collect(java.util.stream.Collectors.joining(&quot;&quot;)));`","body":"One liner: Single word string: (first three characters) OR Multi word string: (first letter from each word) - Java8+ required: Make sure <code>inputString</code> is not null or Empty: <code>String acronym = (!inputString.contains(&quot; &quot;) ? inputString.toUpperCase().substring(0, 3) : java.util.Arrays.stream(inputString.split(&quot;\\\\s+&quot;)).map(t -&gt; t.substring(0, 1).toUpperCase()).collect(java.util.stream.Collectors.joinin&zwnj;&#8203;g(&quot;&quot;)));</code>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700178899,"creation_date":1700178899,"answer_id":77498652,"question_id":77498621,"body_markdown":"So, rather then removing all the spaces, which removes your ability to determine the word boundaries, simply split the `String` on spaces.\r\n\r\nThis will give you an array of seperate `String`s, each representing a word in the original text.\r\n\r\nThen, check if the first character of each word is upper case or not and append it your `acronym` if it is.\r\n\r\nFor example...\r\n\r\n    public static String createAcronym(String userPhrase) {\r\n        String[] words = userPhrase.split(&quot;\\\\s&quot;);\r\n        String acronym = &quot;&quot;;\r\n        for (String word : words) {\r\n            if (!word.isBlank() &amp;&amp; Character.isUpperCase(word.charAt(0))) {\r\n                acronym += Character.toString(word.charAt(0));\r\n            }\r\n        }\r\n        return acronym;\r\n    }\r\n\r\nSo an input of `&quot;Awesome COOL Crazy&quot;` will output `ACC`\r\n\r\nI would also normally make use of `StringBuilder` rather then `String` concatenation, but I think you have enough to deal with right now","title":"Making an acronym from user input string","body":"<p>So, rather then removing all the spaces, which removes your ability to determine the word boundaries, simply split the <code>String</code> on spaces.</p>\n<p>This will give you an array of seperate <code>String</code>s, each representing a word in the original text.</p>\n<p>Then, check if the first character of each word is upper case or not and append it your <code>acronym</code> if it is.</p>\n<p>For example...</p>\n<pre><code>public static String createAcronym(String userPhrase) {\n    String[] words = userPhrase.split(&quot;\\\\s&quot;);\n    String acronym = &quot;&quot;;\n    for (String word : words) {\n        if (!word.isBlank() &amp;&amp; Character.isUpperCase(word.charAt(0))) {\n            acronym += Character.toString(word.charAt(0));\n        }\n    }\n    return acronym;\n}\n</code></pre>\n<p>So an input of <code>&quot;Awesome COOL Crazy&quot;</code> will output <code>ACC</code></p>\n<p>I would also normally make use of <code>StringBuilder</code> rather then <code>String</code> concatenation, but I think you have enough to deal with right now</p>\n"},{"comments":[{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":0,"creation_date":1700369128,"post_id":77498658,"comment_id":136645223,"body_markdown":"Do never concatenate `String` in loop!","body":"Do never concatenate <code>String</code> in loop!"}],"tags":[],"owner":{"account_id":24160871,"reputation":63,"user_id":18124427,"display_name":"flash speedster"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1700179005,"creation_date":1700179005,"answer_id":77498658,"question_id":77498621,"body_markdown":"Logic - \r\n1) Break the string into Array using split.\r\n2) Get the first character of every array element \r\n```\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t\tString s = &quot;Awesome COOL Crazy&quot;;\r\n\t\tString acronym = &quot;&quot;;\r\n\t\tString sArray[] = s.split(&quot; &quot;);\r\n\t\tfor(int i=0; i&lt;sArray.length; i++) {\r\n\t\t    acronym += sArray[i].charAt(0);\r\n\t\t}\r\n\t\tSystem.out.println(acronym);\r\n\t}\r\n}\r\n```","title":"Making an acronym from user input string","body":"<p>Logic -</p>\n<ol>\n<li>Break the string into Array using split.</li>\n<li>Get the first character of every array element</li>\n</ol>\n<pre><code>public class Main\n{\n    public static void main(String[] args) {\n        String s = &quot;Awesome COOL Crazy&quot;;\n        String acronym = &quot;&quot;;\n        String sArray[] = s.split(&quot; &quot;);\n        for(int i=0; i&lt;sArray.length; i++) {\n            acronym += sArray[i].charAt(0);\n        }\n        System.out.println(acronym);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700187672,"creation_date":1700184214,"answer_id":77498884,"question_id":77498621,"body_markdown":"Use a _[regular expression pattern](https://en.wikipedia.org/wiki/Regular_expression)_, and the _[Pattern](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/regex/Pattern.html)_ and _[Matcher](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/regex/Matcher.html)_ classes.\r\n\r\n```none\r\n(?i)(?&lt;=^|\\s)[a-z]\r\n```\r\n\r\n```java\r\nString s = &quot;Awesome COOL Crazy&quot;;\r\nStringBuilder b = new StringBuilder();\r\nPattern p = Pattern.compile(&quot;(?i)(?&lt;=^|\\\\s)[a-z]&quot;);\r\nMatcher m = p.matcher(s);\r\nwhile (m.find()) b.append(m.group().toUpperCase());\r\n```\r\n\r\nAlternately, use the _[String#replaceAll](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String))_ method.\r\n\r\n```none\r\n(?i)(?&lt;=[a-z]).*?(?:\\s+|$)\r\n```\r\n\r\n```java\r\nString s = &quot;Awesome COOL Crazy&quot;.trim().toUpperCase();\r\ns = s.replaceAll(&quot;(?i)(?&lt;=[a-z]).*?(?:\\\\s+|$)&quot;, &quot;&quot;);\r\n```\r\n\r\nAnother solution would be to utilize the _[String#split](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#split(java.lang.String))_ method.\r\n\r\n```java\r\nString s = &quot;Awesome COOL Crazy&quot;.trim().toUpperCase();\r\nStringBuilder b = new StringBuilder();\r\nchar c;\r\nfor (String v : s.split(&quot; +&quot;))\r\n    if (Character.isLetter(c = v.charAt(0))) b.append(c);\r\n```\r\n\r\nOr, utilize the _[Scanner](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html)_ class.\r\n\r\n```java\r\nString s = &quot;Awesome COOL Crazy&quot;.toUpperCase();\r\nStringBuilder b = new StringBuilder();\r\nScanner sc = new Scanner(s);\r\nchar c;\r\nwhile (sc.hasNext())\r\n    if (Character.isLetter(c = sc.next().charAt(0))) b.append(c);\r\n```\r\n\r\nOr finally, utilize the _[StringCharacterIterator](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/text/StringCharacterIterator.html)_ class.\r\n\r\n```java\r\nString s = &quot;Awesome COOL Crazy&quot;.trim().toUpperCase();\r\nStringBuilder b = new StringBuilder();\r\nStringCharacterIterator i = new StringCharacterIterator(s);\r\nb.append(i.current());\r\ndo if (i.current() == &#39; &#39;)\r\n    do if (i.next() != &#39; &#39;)\r\n        if (Character.isLetter(i.current())) {\r\n            b.append(i.current());\r\n            break;\r\n        }\r\n    while (i.current() != CharacterIterator.DONE);\r\nwhile (i.next() != CharacterIterator.DONE);\r\n```","title":"Making an acronym from user input string","body":"<p>Use a <em><a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">regular expression pattern</a></em>, and the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Pattern</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">Matcher</a></em> classes.</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?i)(?&lt;=^|\\s)[a-z]\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;Awesome COOL Crazy&quot;;\nStringBuilder b = new StringBuilder();\nPattern p = Pattern.compile(&quot;(?i)(?&lt;=^|\\\\s)[a-z]&quot;);\nMatcher m = p.matcher(s);\nwhile (m.find()) b.append(m.group().toUpperCase());\n</code></pre>\n<p>Alternately, use the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">String#replaceAll</a></em> method.</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?i)(?&lt;=[a-z]).*?(?:\\s+|$)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;Awesome COOL Crazy&quot;.trim().toUpperCase();\ns = s.replaceAll(&quot;(?i)(?&lt;=[a-z]).*?(?:\\\\s+|$)&quot;, &quot;&quot;);\n</code></pre>\n<p>Another solution would be to utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">String#split</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;Awesome COOL Crazy&quot;.trim().toUpperCase();\nStringBuilder b = new StringBuilder();\nchar c;\nfor (String v : s.split(&quot; +&quot;))\n    if (Character.isLetter(c = v.charAt(0))) b.append(c);\n</code></pre>\n<p>Or, utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Scanner.html\" rel=\"nofollow noreferrer\">Scanner</a></em> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;Awesome COOL Crazy&quot;.toUpperCase();\nStringBuilder b = new StringBuilder();\nScanner sc = new Scanner(s);\nchar c;\nwhile (sc.hasNext())\n    if (Character.isLetter(c = sc.next().charAt(0))) b.append(c);\n</code></pre>\n<p>Or finally, utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/text/StringCharacterIterator.html\" rel=\"nofollow noreferrer\">StringCharacterIterator</a></em> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;Awesome COOL Crazy&quot;.trim().toUpperCase();\nStringBuilder b = new StringBuilder();\nStringCharacterIterator i = new StringCharacterIterator(s);\nb.append(i.current());\ndo if (i.current() == ' ')\n    do if (i.next() != ' ')\n        if (Character.isLetter(i.current())) {\n            b.append(i.current());\n            break;\n        }\n    while (i.current() != CharacterIterator.DONE);\nwhile (i.next() != CharacterIterator.DONE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700368852,"creation_date":1700368852,"answer_id":77509614,"question_id":77498621,"body_markdown":"```java\r\npublic static String getAcronyms(String str) {\r\n    return Arrays.stream(str.split(&quot;\\\\s+&quot;))\r\n                 .map(word -&gt; String.valueOf(word.charAt(0)))\r\n                 .collect(Collectors.joining());\r\n}\r\n```\r\n\r\n```java\r\npublic static String getAcronyms(String str) {\r\n    StringBuilder buf = new StringBuilder(str.length());\r\n\r\n    for (int i = 0; i &lt; str.length(); i++)\r\n        if (i == 0 || str.charAt(i - 1) == &#39; &#39;)\r\n            buf.append(str.charAt(i));\r\n\r\n    return buf.toString();\r\n}\r\n```","title":"Making an acronym from user input string","body":"<pre class=\"lang-java prettyprint-override\"><code>public static String getAcronyms(String str) {\n    return Arrays.stream(str.split(&quot;\\\\s+&quot;))\n                 .map(word -&gt; String.valueOf(word.charAt(0)))\n                 .collect(Collectors.joining());\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getAcronyms(String str) {\n    StringBuilder buf = new StringBuilder(str.length());\n\n    for (int i = 0; i &lt; str.length(); i++)\n        if (i == 0 || str.charAt(i - 1) == ' ')\n            buf.append(str.charAt(i));\n\n    return buf.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":29599885,"reputation":1,"user_id":22685596,"display_name":"Amanda Brown"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1700368852,"creation_date":1700178399,"question_id":77498621,"body_markdown":"I need my program to output an acronym, but I&#39;m having trouble finding a way to omit other capital letters in the string that aren&#39;t the first letters. For example, if the input is &quot;Awesome COOL Crazy&quot; I get an output of &quot;ACOOLC&quot; instead of the desired &quot;ACC&quot;.\r\n\r\nI&#39;m extremely new to this (you can probably tell by this question and by the code) so any tips are appreciated. Thank you.\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n   \r\n   public static String createAcronym(String userPhrase) {\r\n      String newUserPhrase = userPhrase.replaceAll(&quot;\\\\s&quot;,&quot;&quot;);\r\n      char acronymChar;\r\n      String acronym = &quot;&quot;;\r\n      int i;\r\n      \r\n      for (i = 0; i &lt; newUserPhrase.length(); ++i) {\r\n         if ( (Character.isUpperCase(newUserPhrase.charAt(i))) ) {\r\n            acronymChar = newUserPhrase.charAt(i);\r\n            acronym += acronymChar + &quot;.&quot;;\r\n         }\r\n      }\r\n      return acronym;\r\n   }\r\n      \r\n   public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      \r\n      String userPhrase = scnr.nextLine();\r\n      \r\n      System.out.println(createAcronym(userPhrase));\r\n   }\r\n   }\r\n```\r\n\r\n\r\nI tried implementing an if statement that reads the next char in the user string, and then removing that char from the final acronym. ","title":"Making an acronym from user input string","body":"<p>I need my program to output an acronym, but I'm having trouble finding a way to omit other capital letters in the string that aren't the first letters. For example, if the input is &quot;Awesome COOL Crazy&quot; I get an output of &quot;ACOOLC&quot; instead of the desired &quot;ACC&quot;.</p>\n<p>I'm extremely new to this (you can probably tell by this question and by the code) so any tips are appreciated. Thank you.</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n   \n   public static String createAcronym(String userPhrase) {\n      String newUserPhrase = userPhrase.replaceAll(&quot;\\\\s&quot;,&quot;&quot;);\n      char acronymChar;\n      String acronym = &quot;&quot;;\n      int i;\n      \n      for (i = 0; i &lt; newUserPhrase.length(); ++i) {\n         if ( (Character.isUpperCase(newUserPhrase.charAt(i))) ) {\n            acronymChar = newUserPhrase.charAt(i);\n            acronym += acronymChar + &quot;.&quot;;\n         }\n      }\n      return acronym;\n   }\n      \n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      \n      String userPhrase = scnr.nextLine();\n      \n      System.out.println(createAcronym(userPhrase));\n   }\n   }\n</code></pre>\n<p>I tried implementing an if statement that reads the next char in the user string, and then removing that char from the final acronym.</p>\n"},{"tags":["java","android","firebase-realtime-database","android-asynctask"],"answers":[{"comments":[{"owner":{"account_id":29938468,"reputation":1,"user_id":22943609,"display_name":"Dp258"},"score":0,"creation_date":1700366234,"post_id":77509546,"comment_id":136645125,"body_markdown":"Originally setText was placed inside the second onDataChange, but it didn&#39;t work either, not even calling the event multiple times (As I mentioned at the end of the post, calling the event twice does currently load the data).\nCould you tell me how can I do a call on the main thread made in onDataChanged?","body":"Originally setText was placed inside the second onDataChange, but it didn&#39;t work either, not even calling the event multiple times (As I mentioned at the end of the post, calling the event twice does currently load the data). Could you tell me how can I do a call on the main thread made in onDataChanged?"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1700368788,"post_id":77509546,"comment_id":136645207,"body_markdown":"*firebaser here* `onDataChange` already runs on the main thread, precisely so that you can update the UI from it.","body":"<i>firebaser here</i> <code>onDataChange</code> already runs on the main thread, precisely so that you can update the UI from it."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1700370050,"post_id":77509546,"comment_id":136645258,"body_markdown":"@FrankvanPuffelen That makes sense.  In that case, updating the text view in onDataChanged is correct.","body":"@FrankvanPuffelen That makes sense.  In that case, updating the text view in onDataChanged is correct."},{"owner":{"account_id":29938468,"reputation":1,"user_id":22943609,"display_name":"Dp258"},"score":0,"creation_date":1700401938,"post_id":77509546,"comment_id":136647386,"body_markdown":"I have placed the setText inside the second OnDataChange, but it did not update. When doing the Debug, I realized that it is because the application returns the view first and then does the setText, leaving the text by default...","body":"I have placed the setText inside the second OnDataChange, but it did not update. When doing the Debug, I realized that it is because the application returns the view first and then does the setText, leaving the text by default..."},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1700430008,"post_id":77509546,"comment_id":136650377,"body_markdown":"So if you swap those statements and put the `return` last, does it work?","body":"So if you swap those statements and put the <code>return</code> last, does it work?"},{"owner":{"account_id":29938468,"reputation":1,"user_id":22943609,"display_name":"Dp258"},"score":0,"creation_date":1700430465,"post_id":77509546,"comment_id":136650423,"body_markdown":"It works, but only in the second time that I trigger the event.\nThe first time it only loads the text by default.","body":"It works, but only in the second time that I trigger the event. The first time it only loads the text by default."}],"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700365947,"creation_date":1700365947,"answer_id":77509546,"question_id":77509531,"body_markdown":"Your calls to setText are happening synchronously, but your network requests are asynchronous (as they need to be).  That means the setText will happen before the network request.  You need to call setText in the onDataChanged function, or in a call on the main thread made in onDataChanged if that happens off the main thread.","title":"Change TextView in the xml file after two asynchronous requests - Java Android studio","body":"<p>Your calls to setText are happening synchronously, but your network requests are asynchronous (as they need to be).  That means the setText will happen before the network request.  You need to call setText in the onDataChanged function, or in a call on the main thread made in onDataChanged if that happens off the main thread.</p>\n"}],"owner":{"account_id":29938468,"reputation":1,"user_id":22943609,"display_name":"Dp258"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700368739,"creation_date":1700365061,"question_id":77509531,"body_markdown":"I make two requests to the Firebase database, and then load the data into the XML. But it doesn&#39;t load them and just leaves the default, I suspect it&#39;s because I&#39;m not handling asynchronous requests properly. Can anybody help me?\r\n\r\n```\r\n@Override\r\n    public View getInfoWindow(@NonNull Marker marker) {\r\n        if (!(marker.getTitle().toString().equals(&quot;Este es mi perfil&quot;))){\r\n            View infoView = LayoutInflater.from(context).inflate(R.layout.custom_info,null);\r\n             title_mod = infoView.findViewById(R.id.title_mod);\r\n             snipp_mod = infoView.findViewById(R.id.snipp_mod);\r\n            imagen_mod = infoView.findViewById(R.id.imagen_mod);\r\n\r\n            LatLng posicionMarker = marker.getPosition();\r\n            String idLocation = String.valueOf(posicionMarker.latitude).replace(&quot;.&quot;,&quot;&quot;) + &quot;_&quot; + String.valueOf(posicionMarker.longitude).replace(&quot;.&quot;,&quot;&quot;);\r\n            DataHandler dataHandler = new DataHandler();\r\n\r\n            databaseReference = FirebaseDatabase.getInstance().getReference(&quot;chismesinfo&quot;);\r\n            databaseReference.child(idLocation).addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    if (snapshot.exists()) {\r\n                        descripcion = snapshot.child(&quot;descripcion&quot;).getValue(String.class);\r\n                        user = snapshot.child(&quot;user&quot;).getValue(String.class);\r\n                        firstOperation.complete(null);\r\n                        usersReference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\r\n                        usersReference.child(user).addValueEventListener(new ValueEventListener() {\r\n                            @Override\r\n                            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                                if (snapshot.exists()) {\r\n                                    username = snapshot.child(&quot;name&quot;).getValue(String.class);\r\n                                    if (snapshot.hasChild(&quot;profile&quot;)) {\r\n                                        foto = snapshot.child(&quot;profile&quot;).getValue(String.class);\r\n                                    } else {\r\n                                        foto = null;\r\n                                    }\r\n                                    secondOperation.complete(null);\r\n                                }\r\n                            }\r\n                            @Override\r\n                            public void onCancelled(@NonNull DatabaseError error) {\r\n                                // Manejar errores si es necesario\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                }\r\n            });\r\n\r\n            if (foto != null) {\r\n                byte[] imageAsByte = Base64.decode(foto.getBytes(), Base64.DEFAULT);\r\n                Bitmap bitmap = BitmapFactory.decodeByteArray(imageAsByte, 0, imageAsByte.length);\r\n                imagen_mod.setImageBitmap(bitmap);\r\n            }\r\n            title_mod.setText(username);\r\n            snipp_mod.setText(descripcion);\r\n            return infoView;\r\n}\r\n```\r\n\r\nI was expecting the data to be loaded directly to the interface, but instead I just get the text by default. However, the second time I trigger the event, it does load the data.","title":"Change TextView in the xml file after two asynchronous requests - Java Android studio","body":"<p>I make two requests to the Firebase database, and then load the data into the XML. But it doesn't load them and just leaves the default, I suspect it's because I'm not handling asynchronous requests properly. Can anybody help me?</p>\n<pre><code>@Override\n    public View getInfoWindow(@NonNull Marker marker) {\n        if (!(marker.getTitle().toString().equals(&quot;Este es mi perfil&quot;))){\n            View infoView = LayoutInflater.from(context).inflate(R.layout.custom_info,null);\n             title_mod = infoView.findViewById(R.id.title_mod);\n             snipp_mod = infoView.findViewById(R.id.snipp_mod);\n            imagen_mod = infoView.findViewById(R.id.imagen_mod);\n\n            LatLng posicionMarker = marker.getPosition();\n            String idLocation = String.valueOf(posicionMarker.latitude).replace(&quot;.&quot;,&quot;&quot;) + &quot;_&quot; + String.valueOf(posicionMarker.longitude).replace(&quot;.&quot;,&quot;&quot;);\n            DataHandler dataHandler = new DataHandler();\n\n            databaseReference = FirebaseDatabase.getInstance().getReference(&quot;chismesinfo&quot;);\n            databaseReference.child(idLocation).addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n                    if (snapshot.exists()) {\n                        descripcion = snapshot.child(&quot;descripcion&quot;).getValue(String.class);\n                        user = snapshot.child(&quot;user&quot;).getValue(String.class);\n                        firstOperation.complete(null);\n                        usersReference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\n                        usersReference.child(user).addValueEventListener(new ValueEventListener() {\n                            @Override\n                            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                                if (snapshot.exists()) {\n                                    username = snapshot.child(&quot;name&quot;).getValue(String.class);\n                                    if (snapshot.hasChild(&quot;profile&quot;)) {\n                                        foto = snapshot.child(&quot;profile&quot;).getValue(String.class);\n                                    } else {\n                                        foto = null;\n                                    }\n                                    secondOperation.complete(null);\n                                }\n                            }\n                            @Override\n                            public void onCancelled(@NonNull DatabaseError error) {\n                                // Manejar errores si es necesario\n                            }\n                        });\n                    }\n                }\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n\n                }\n            });\n\n            if (foto != null) {\n                byte[] imageAsByte = Base64.decode(foto.getBytes(), Base64.DEFAULT);\n                Bitmap bitmap = BitmapFactory.decodeByteArray(imageAsByte, 0, imageAsByte.length);\n                imagen_mod.setImageBitmap(bitmap);\n            }\n            title_mod.setText(username);\n            snipp_mod.setText(descripcion);\n            return infoView;\n}\n</code></pre>\n<p>I was expecting the data to be loaded directly to the interface, but instead I just get the text by default. However, the second time I trigger the event, it does load the data.</p>\n"},{"tags":["java","android","network-programming","esp32","lan"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1700343566,"post_id":77507135,"comment_id":136643722,"body_markdown":"A simple workaround that should work on many networks would be sending a special UDP packet to the local broadcast address of the network. On the ESP having the matching UDP port open and listening for that special UDP packet and it it is received send a response back to the sender. In the app you could listen for the response and once you get it the packet sender IP is the IP you are searching.","body":"A simple workaround that should work on many networks would be sending a special UDP packet to the local broadcast address of the network. On the ESP having the matching UDP port open and listening for that special UDP packet and it it is received send a response back to the sender. In the app you could listen for the response and once you get it the packet sender IP is the IP you are searching."},{"owner":{"account_id":19293500,"reputation":95,"user_id":14102903,"display_name":"dev.tejasb"},"score":0,"creation_date":1700366376,"post_id":77507135,"comment_id":136645130,"body_markdown":"Thanks @Robert for your time. After posting the question, I was also researching for the solution &amp; I also found about the UDP &amp; it is working fine. I&#39;ll post the code so anyone in future will get the help.","body":"Thanks @Robert for your time. After posting the question, I was also researching for the solution &amp; I also found about the UDP &amp; it is working fine. I&#39;ll post the code so anyone in future will get the help."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1700440442,"post_id":77507135,"comment_id":136651298,"body_markdown":"`then loop over the range w.x.y.0 to w.x.y.255,` Did such before and always the server was found within seconds. Do ip&#39;s around client ip first. Use a Socket. You dont need http protocol.","body":"<code>then loop over the range w.x.y.0 to w.x.y.255,</code> Did such before and always the server was found within seconds. Do ip&#39;s around client ip first. Use a Socket. You dont need http protocol."},{"owner":{"account_id":19293500,"reputation":95,"user_id":14102903,"display_name":"dev.tejasb"},"score":0,"creation_date":1700442819,"post_id":77507135,"comment_id":136651510,"body_markdown":"Hi @blackapps, can you tell how much seconds it was taking approximately and how much timeout did you set to socket?","body":"Hi @blackapps, can you tell how much seconds it was taking approximately and how much timeout did you set to socket?"}],"answers":[{"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1700391553,"post_id":77509601,"comment_id":136646571,"body_markdown":"Note that this solution creates a lot of (unnecessary) Wifi traffic as it will continuously send UDP packets to the Wifi network. This can reduce the battery of the device itself and all connected devices that run on battery. It would be better to only listen for UDP in the ESP and then send back a response if a special UDP packet is received via broadcast from the Android app.","body":"Note that this solution creates a lot of (unnecessary) Wifi traffic as it will continuously send UDP packets to the Wifi network. This can reduce the battery of the device itself and all connected devices that run on battery. It would be better to only listen for UDP in the ESP and then send back a response if a special UDP packet is received via broadcast from the Android app."},{"owner":{"account_id":19293500,"reputation":95,"user_id":14102903,"display_name":"dev.tejasb"},"score":0,"creation_date":1700391751,"post_id":77509601,"comment_id":136646591,"body_markdown":"is listening at ESP32 side for incoming packet a blocking procedure? if not you can post the code as your answer. asking because we&#39;re already utilizing both the cores and don&#39;t want to block any of them.","body":"is listening at ESP32 side for incoming packet a blocking procedure? if not you can post the code as your answer. asking because we&#39;re already utilizing both the cores and don&#39;t want to block any of them."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1700394050,"post_id":77509601,"comment_id":136646787,"body_markdown":"I never developed on ESP with UDP, but I would try to listen non-blocking (asynchronous). It seems like there are libraries that can do this: https://github.com/me-no-dev/ESPAsyncUDP (just as en example, never used it).","body":"I never developed on ESP with UDP, but I would try to listen non-blocking (asynchronous). It seems like there are libraries that can do this: <a href=\"https://github.com/me-no-dev/ESPAsyncUDP\" rel=\"nofollow noreferrer\">github.com/me-no-dev/ESPAsyncUDP</a> (just as en example, never used it)."},{"owner":{"account_id":19293500,"reputation":95,"user_id":14102903,"display_name":"dev.tejasb"},"score":0,"creation_date":1700396521,"post_id":77509601,"comment_id":136646970,"body_markdown":"I&#39;ll give it a try. It would be great if it works as it will overcome the problems in current answer like battery consumption, and like so.","body":"I&#39;ll give it a try. It would be great if it works as it will overcome the problems in current answer like battery consumption, and like so."}],"tags":[],"owner":{"account_id":19293500,"reputation":95,"user_id":14102903,"display_name":"dev.tejasb"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700368408,"creation_date":1700368408,"answer_id":77509601,"question_id":77507135,"body_markdown":"After much research, I also came up with the UDP just as mentioned by @Robert in the comment &amp; it works fine. Here is the code for anyone in need.\r\n\r\nAndroid (Java)\r\n``` java\r\nbyte[] buffer = new byte[BYTE_SIZE];\r\ntry (DatagramSocket socket = new DatagramSocket(PORT)) {\r\n    socket.setSoTimeout(5000);\r\n    DatagramPacket packet = new DatagramPacket(buffer, buffer.length);\r\n    socket.receive(packet);\r\n    String receivedIP = new String(packet.getData(), 0, packet.getLength());\r\n    // Rest of the code here to check if &#39;receivedIP&#39; is desired one or not.\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\nESP32 code\r\n```arduino\r\n#include &lt;WiFiUdp.h&gt;\r\n// Other includes\r\nWiFiUDP udp;\r\nvoid setup() {\r\n  // After connecting to LAN\r\n  udp.begin(PORT);\r\n}\r\nvoid loop() {\r\n  udp.beginPacket(&quot;255.255.255.255&quot;, PORT);\r\n  udp.print(WiFi.localIP());\r\n  udp.endPacket();\r\n  // Rest of the code\r\n}\r\n```","title":"How to find IP of a webserver in local network in Android using Java?","body":"<p>After much research, I also came up with the UDP just as mentioned by @Robert in the comment &amp; it works fine. Here is the code for anyone in need.</p>\n<p>Android (Java)</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] buffer = new byte[BYTE_SIZE];\ntry (DatagramSocket socket = new DatagramSocket(PORT)) {\n    socket.setSoTimeout(5000);\n    DatagramPacket packet = new DatagramPacket(buffer, buffer.length);\n    socket.receive(packet);\n    String receivedIP = new String(packet.getData(), 0, packet.getLength());\n    // Rest of the code here to check if 'receivedIP' is desired one or not.\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>ESP32 code</p>\n<pre><code>#include &lt;WiFiUdp.h&gt;\n// Other includes\nWiFiUDP udp;\nvoid setup() {\n  // After connecting to LAN\n  udp.begin(PORT);\n}\nvoid loop() {\n  udp.beginPacket(&quot;255.255.255.255&quot;, PORT);\n  udp.print(WiFi.localIP());\n  udp.endPacket();\n  // Rest of the code\n}\n</code></pre>\n"}],"owner":{"account_id":19293500,"reputation":95,"user_id":14102903,"display_name":"dev.tejasb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700368408,"creation_date":1700314852,"question_id":77507135,"body_markdown":"##### The context:\r\nThe webserver is running on a ESP32.\r\nThe Android app is being written in Java.\r\nThe Android phone &amp; ESP32 are in same local network.\r\nThe minimum Android version is Lollipop (5.0).\r\n\r\n---\r\n\r\n##### The problem:\r\nTo find the IP (IPv4) of a webserver in local network in order to make further communication by making Http requests (GET &amp; POST) to the webserver. Cannot use static IP &amp; hence need to find the dynamically assigned IP.\r\n\r\n##### The approach:\r\n###### 1. The mDNS:\r\nESP32 supports mDNS but on Android, it is only supported from version 12. So, mDNS is being used from Android 12 &amp; above without any problem.\r\n###### 2. The looping:\r\nBecause mDNS cannot be used on Android below 12, current approach is to get the local IP (Ipv4) of the phone which will be w.x.y.z &amp; then loop over the range w.x.y.0 to w.x.y.255, making a Http request (timeout set to 500ms for each request) to each IP to check if the IP is desired one by comparing the response. This will take forever so; multi-threading is being used which significantly reduces the time but still it is too much (in seconds).\r\n\r\n---\r\n\r\n##### The requirement:\r\nA reliable &amp; faster solution for the problem than the 2nd approach for Android below 12. The solution should work even if the local network is formed via a router or via hotspot of the same Android phone or via hotspot of some different phone.\r\n\r\nThanks in advance.\r\n\r\nPS: Cannot implement DNS server or anything like so as the ESP32 is being used in a consumer product &amp; as per the consumer POV, the data should be available from ESP32&#39;s webserver in the Android app without any user setup or configuration. Actual solution code is not a requirement (it would be great if you provide one) but a logic or general approach on how to solve this will also be appreciated.","title":"How to find IP of a webserver in local network in Android using Java?","body":"<h5>The context:</h5>\n<p>The webserver is running on a ESP32.\nThe Android app is being written in Java.\nThe Android phone &amp; ESP32 are in same local network.\nThe minimum Android version is Lollipop (5.0).</p>\n<hr />\n<h5>The problem:</h5>\n<p>To find the IP (IPv4) of a webserver in local network in order to make further communication by making Http requests (GET &amp; POST) to the webserver. Cannot use static IP &amp; hence need to find the dynamically assigned IP.</p>\n<h5>The approach:</h5>\n<h6>1. The mDNS:</h6>\n<p>ESP32 supports mDNS but on Android, it is only supported from version 12. So, mDNS is being used from Android 12 &amp; above without any problem.</p>\n<h6>2. The looping:</h6>\n<p>Because mDNS cannot be used on Android below 12, current approach is to get the local IP (Ipv4) of the phone which will be w.x.y.z &amp; then loop over the range w.x.y.0 to w.x.y.255, making a Http request (timeout set to 500ms for each request) to each IP to check if the IP is desired one by comparing the response. This will take forever so; multi-threading is being used which significantly reduces the time but still it is too much (in seconds).</p>\n<hr />\n<h5>The requirement:</h5>\n<p>A reliable &amp; faster solution for the problem than the 2nd approach for Android below 12. The solution should work even if the local network is formed via a router or via hotspot of the same Android phone or via hotspot of some different phone.</p>\n<p>Thanks in advance.</p>\n<p>PS: Cannot implement DNS server or anything like so as the ESP32 is being used in a consumer product &amp; as per the consumer POV, the data should be available from ESP32's webserver in the Android app without any user setup or configuration. Actual solution code is not a requirement (it would be great if you provide one) but a logic or general approach on how to solve this will also be appreciated.</p>\n"},{"tags":["java","string"],"answers":[{"comments":[{"owner":{"account_id":29799422,"reputation":1,"user_id":22837533,"display_name":"Bernoulli"},"score":0,"creation_date":1698814344,"post_id":77400343,"comment_id":136451732,"body_markdown":"Thank you for the input, It does help a little bit. But, is there any way where I can replace any character which is not the 1st occurrence. Eg in the word &#39;alabama&#39;, If i wish to replace the &#39;a&#39; at the 4th index with some other character, is that possible?","body":"Thank you for the input, It does help a little bit. But, is there any way where I can replace any character which is not the 1st occurrence. Eg in the word &#39;alabama&#39;, If i wish to replace the &#39;a&#39; at the 4th index with some other character, is that possible?"},{"owner":{"account_id":7086509,"reputation":1051,"user_id":5423183,"display_name":"Knight Rider"},"score":0,"creation_date":1698837957,"post_id":77400343,"comment_id":136454856,"body_markdown":"Then you use the second piece of the solution. You provide the index that you want to replace and that can be done. \n\nYou can also use StringBuilder to accomplish this.\n\nStringBuilder stringBuilder = new StringBuilder(str);\nstringBuilder.setCharAt(indexToReplace, newChar);\nString str = stringBuilder.toString();","body":"Then you use the second piece of the solution. You provide the index that you want to replace and that can be done.   You can also use StringBuilder to accomplish this.  StringBuilder stringBuilder = new StringBuilder(str); stringBuilder.setCharAt(indexToReplace, newChar); String str = stringBuilder.toString();"}],"tags":[],"owner":{"account_id":7086509,"reputation":1051,"user_id":5423183,"display_name":"Knight Rider"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698812727,"creation_date":1698812727,"answer_id":77400343,"question_id":77400316,"body_markdown":"If you want to replace only a specific substring in Java, you can use the `replaceFirst` method or manipulate the string using the `substring` method. Here&#39;s an example using `replaceFirst`:\r\n\r\n```java\r\nString str = &quot;gallbladder&quot;;\r\nstr = str.replaceFirst(&quot;allb&quot;, &quot;o&quot;);\r\nSystem.out.println(str);  // This will print &quot;goladder&quot;\r\n```\r\n\r\nAlternatively, you can achieve this using `substring` if you know the index or use `indexOf` to get the index first:\r\n\r\n```java\r\nString str = &quot;gallbladder&quot;;\r\nint index = 1; // Index of the &#39;a&#39; you want to replace\r\nstr = str.substring(0, index) + &quot;o&quot; + str.substring(index + 1);\r\nSystem.out.println(str);  // This will also print &quot;gollbladder&quot;\r\n```\r\n\r\nThese methods will replace only the first occurrence of &#39;a&#39; in the string.","title":"Is there a way to replace only a specific substring in java?","body":"<p>If you want to replace only a specific substring in Java, you can use the <code>replaceFirst</code> method or manipulate the string using the <code>substring</code> method. Here's an example using <code>replaceFirst</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;gallbladder&quot;;\nstr = str.replaceFirst(&quot;allb&quot;, &quot;o&quot;);\nSystem.out.println(str);  // This will print &quot;goladder&quot;\n</code></pre>\n<p>Alternatively, you can achieve this using <code>substring</code> if you know the index or use <code>indexOf</code> to get the index first:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;gallbladder&quot;;\nint index = 1; // Index of the 'a' you want to replace\nstr = str.substring(0, index) + &quot;o&quot; + str.substring(index + 1);\nSystem.out.println(str);  // This will also print &quot;gollbladder&quot;\n</code></pre>\n<p>These methods will replace only the first occurrence of 'a' in the string.</p>\n"},{"comments":[{"owner":{"account_id":29799422,"reputation":1,"user_id":22837533,"display_name":"Bernoulli"},"score":0,"creation_date":1698814372,"post_id":77400390,"comment_id":136451734,"body_markdown":"Thanks a lot mate. But, is there any way where I can replace any character which is not the 1st occurrence. Eg in the word &#39;alabama&#39;, If i wish to replace the &#39;a&#39; at the 4th index with some other character, is that possible?","body":"Thanks a lot mate. But, is there any way where I can replace any character which is not the 1st occurrence. Eg in the word &#39;alabama&#39;, If i wish to replace the &#39;a&#39; at the 4th index with some other character, is that possible?"},{"owner":{"account_id":13210775,"reputation":999,"user_id":9541096,"display_name":"Owais Yosuf"},"score":0,"creation_date":1698814608,"post_id":77400390,"comment_id":136451751,"body_markdown":"Iterate a loop and check character by character the first occurrence of that particular character. Once you locate that, then use that index to replace that character with another one.","body":"Iterate a loop and check character by character the first occurrence of that particular character. Once you locate that, then use that index to replace that character with another one."}],"tags":[],"owner":{"account_id":13210775,"reputation":999,"user_id":9541096,"display_name":"Owais Yosuf"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698813830,"creation_date":1698813830,"answer_id":77400390,"question_id":77400316,"body_markdown":"Yes, you can achieve your desired behaviour by using the `substring` method to build a new string with the replacement. Here&#39;s how you can replace only the first occurrence of &#39;a&#39; with &#39;o&#39; in the string &quot;gallbladder&quot;:\r\n\r\n    String str = &quot;gallbladder&quot;;\r\n    int index = str.indexOf(&quot;a&quot;);\r\n    \r\n    if (index != -1) {\r\n        String newStr = str.substring(0, index) + &quot;o&quot; + str.substring(index + 1);\r\n        System.out.println(newStr);\r\n    } else {\r\n        // Handle the case when &#39;a&#39; is not found in the string.\r\n        System.out.println(&quot;Substring not found&quot;);\r\n    }\r\n\r\n*In this code, we first find the index of the first occurrence of &#39;a&#39; using the indexOf method. If &#39;a&#39; is found, we create a new string by concatenating the substring before the &#39;a&#39;, the replacement &#39;o&#39;, and the substring after &#39;a&#39;. This way, only the first &#39;a&#39; is replaced with &#39;o&#39;, and the rest of the string remains unchanged.*","title":"Is there a way to replace only a specific substring in java?","body":"<p>Yes, you can achieve your desired behaviour by using the <code>substring</code> method to build a new string with the replacement. Here's how you can replace only the first occurrence of 'a' with 'o' in the string &quot;gallbladder&quot;:</p>\n<pre><code>String str = &quot;gallbladder&quot;;\nint index = str.indexOf(&quot;a&quot;);\n\nif (index != -1) {\n    String newStr = str.substring(0, index) + &quot;o&quot; + str.substring(index + 1);\n    System.out.println(newStr);\n} else {\n    // Handle the case when 'a' is not found in the string.\n    System.out.println(&quot;Substring not found&quot;);\n}\n</code></pre>\n<p><em>In this code, we first find the index of the first occurrence of 'a' using the indexOf method. If 'a' is found, we create a new string by concatenating the substring before the 'a', the replacement 'o', and the substring after 'a'. This way, only the first 'a' is replaced with 'o', and the rest of the string remains unchanged.</em></p>\n"},{"tags":[],"owner":{"account_id":6853454,"reputation":23,"user_id":5269875,"display_name":"Dilan Madurapperuma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698817807,"creation_date":1698817807,"answer_id":77400595,"question_id":77400316,"body_markdown":"If you always want to replace **1st** matching substring, you can use &quot;replaceFirst&quot; method.\r\n\r\n        String str = &quot;gallbladder&quot;;\r\n        str = str.replaceFirst(&quot;a&quot;, &quot;o&quot;);\r\n        System.out.println(str);\r\n\r\nOtherwise if you want to replace different index, you can write a code like below. Lets say you want to replace 3rd(2nd index) &quot;al&quot; from &quot;gallblaldd aleral&quot;\r\n\r\n        String str = &quot;gallblaldd aleral&quot;;\r\n        String stringToReplace = &quot;al&quot;;\r\n        String replaceWith = &quot;o&quot;;\r\n        String[]  splitStrings= str.split(stringToReplace);\r\n        int matchingIndexToReplace = 2;\r\n        int index = 0;\r\n        str = &quot;&quot;;\r\n        for (String s : splitStrings) {\r\n            if (index == matchingIndexToReplace) {\r\n                str = str + s + replaceWith;\r\n            } else if (index != matchingIndexToReplace &amp;&amp; (index != (splitStrings.length - 1) || matchingIndexToReplace != (splitStrings.length - 1))) {\r\n                str = str + s + stringToReplace;\r\n            } else {\r\n                str = str + s;\r\n            }\r\n            index++;\r\n        }\r\n\r\n        System.out.println(str);\r\n\r\n\r\n","title":"Is there a way to replace only a specific substring in java?","body":"<p>If you always want to replace <strong>1st</strong> matching substring, you can use &quot;replaceFirst&quot; method.</p>\n<pre><code>    String str = &quot;gallbladder&quot;;\n    str = str.replaceFirst(&quot;a&quot;, &quot;o&quot;);\n    System.out.println(str);\n</code></pre>\n<p>Otherwise if you want to replace different index, you can write a code like below. Lets say you want to replace 3rd(2nd index) &quot;al&quot; from &quot;gallblaldd aleral&quot;</p>\n<pre><code>    String str = &quot;gallblaldd aleral&quot;;\n    String stringToReplace = &quot;al&quot;;\n    String replaceWith = &quot;o&quot;;\n    String[]  splitStrings= str.split(stringToReplace);\n    int matchingIndexToReplace = 2;\n    int index = 0;\n    str = &quot;&quot;;\n    for (String s : splitStrings) {\n        if (index == matchingIndexToReplace) {\n            str = str + s + replaceWith;\n        } else if (index != matchingIndexToReplace &amp;&amp; (index != (splitStrings.length - 1) || matchingIndexToReplace != (splitStrings.length - 1))) {\n            str = str + s + stringToReplace;\n        } else {\n            str = str + s;\n        }\n        index++;\n    }\n\n    System.out.println(str);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698818431,"creation_date":1698818431,"answer_id":77400626,"question_id":77400316,"body_markdown":"In your particular case, I prefer the use of `replaceFirst`, which has already been demonstrated.\r\n\r\nIf, however, you need something a little more complicated, you should consider making use of a `StringBuilder`, as a, very basic, example...\r\n\r\n    String str = &quot;gallbladder&quot;;\r\n    StringBuilder sb = new StringBuilder(str);\r\n    int index = str.indexOf(&#39;a&#39;);\r\n    sb.replace(index, index, &quot;*&quot;);\r\n    str = sb.toString();\r\n\r\nThis essentially acts like a mutable `String`","title":"Is there a way to replace only a specific substring in java?","body":"<p>In your particular case, I prefer the use of <code>replaceFirst</code>, which has already been demonstrated.</p>\n<p>If, however, you need something a little more complicated, you should consider making use of a <code>StringBuilder</code>, as a, very basic, example...</p>\n<pre><code>String str = &quot;gallbladder&quot;;\nStringBuilder sb = new StringBuilder(str);\nint index = str.indexOf('a');\nsb.replace(index, index, &quot;*&quot;);\nstr = sb.toString();\n</code></pre>\n<p>This essentially acts like a mutable <code>String</code></p>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698820022,"creation_date":1698820022,"answer_id":77400728,"question_id":77400316,"body_markdown":"Here&#39;s a regex approach to replace the nth occurrence of a string:\r\n\r\n    String replace(String str, String find, String replace, int occurrence) {\r\n\t\treturn str.replaceFirst(&quot;((?:&quot; + find + &quot;.*?){&quot; + (occurrence - 1) + &quot;})&quot; + find, &quot;$1&quot; + replace);\r\n\t}\r\n\r\nBasically, the replacement `$1` refers to the outer capturing group which matches any text containing the search string `n - 1` times, followed by the replacement for the final occurrence.\r\n\r\nFor brevity&#39;s sake I left out escaping, but if you don&#39;t know the contents of `find` and `replace`, you may need to wrap them in `Pattern.quote()` and `Matcher.quoteReplacement()` respectively.","title":"Is there a way to replace only a specific substring in java?","body":"<p>Here's a regex approach to replace the nth occurrence of a string:</p>\n<pre><code>String replace(String str, String find, String replace, int occurrence) {\n    return str.replaceFirst(&quot;((?:&quot; + find + &quot;.*?){&quot; + (occurrence - 1) + &quot;})&quot; + find, &quot;$1&quot; + replace);\n}\n</code></pre>\n<p>Basically, the replacement <code>$1</code> refers to the outer capturing group which matches any text containing the search string <code>n - 1</code> times, followed by the replacement for the final occurrence.</p>\n<p>For brevity's sake I left out escaping, but if you don't know the contents of <code>find</code> and <code>replace</code>, you may need to wrap them in <code>Pattern.quote()</code> and <code>Matcher.quoteReplacement()</code> respectively.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700367821,"creation_date":1700367353,"answer_id":77509584,"question_id":77400316,"body_markdown":"&gt; _&quot;... I just want to replace the &#39;a&#39; at the 1st index with an &#39;o&#39; ...&quot;_\r\n\r\nUtilize the _[StringBuilder#setCharAt](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html#setCharAt(int,char))_ method.\r\n\r\n```java\r\nStringBuilder s = new StringBuilder(&quot;gallbladder&quot;);\r\ns.setCharAt(1, &#39;o&#39;);\r\n```\r\n\r\nIf you don&#39;t know the index, you can use the _[indexOf](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html#indexOf(java.lang.String))_, or _[lastIndexOf](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html#lastIndexOf(java.lang.String))_, methods.\r\n\r\n```java\r\ns.setCharAt(s.indexOf(&quot;a&quot;), &#39;o&#39;);\r\n```\r\n\r\nAlternately, use the _[String#replaceFirst](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#replaceFirst(java.lang.String,java.lang.String))_ method.\\\r\nKeep in mind, the argument will be interpreted as a _[regular expression pattern](https://en.wikipedia.org/wiki/Regular_expression)_.\\\r\nPlace the value within `\\Q` and `\\E`, to void any syntactic values.\\\r\nAlthough, in this case, _&quot;a&quot;_ is not a meta-character.\r\n\r\n```java\r\nString s = &quot;gallbladder&quot;;\r\ns = s.replaceFirst(&quot;\\\\Qa\\\\E&quot;, &quot;o&quot;);\r\n```\r\n\r\nOr, conveniently use the _[Pattern#quote](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/regex/Pattern.html#quote(java.lang.String))_ method.\r\n\r\n```java\r\ns = s.replaceFirst(Pattern.quote(&quot;a&quot;), &quot;o&quot;);\r\n```","title":"Is there a way to replace only a specific substring in java?","body":"<blockquote>\n<p><em>&quot;... I just want to replace the 'a' at the 1st index with an 'o' ...&quot;</em></p>\n</blockquote>\n<p>Utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html#setCharAt(int,char)\" rel=\"nofollow noreferrer\">StringBuilder#setCharAt</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder s = new StringBuilder(&quot;gallbladder&quot;);\ns.setCharAt(1, 'o');\n</code></pre>\n<p>If you don't know the index, you can use the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html#indexOf(java.lang.String)\" rel=\"nofollow noreferrer\">indexOf</a></em>, or <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/StringBuilder.html#lastIndexOf(java.lang.String)\" rel=\"nofollow noreferrer\">lastIndexOf</a></em>, methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>s.setCharAt(s.indexOf(&quot;a&quot;), 'o');\n</code></pre>\n<p>Alternately, use the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#replaceFirst(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">String#replaceFirst</a></em> method.<br />\nKeep in mind, the argument will be interpreted as a <em><a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">regular expression pattern</a></em>.<br />\nPlace the value within <code>\\Q</code> and <code>\\E</code>, to void any syntactic values.<br />\nAlthough, in this case, <em>&quot;a&quot;</em> is not a meta-character.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;gallbladder&quot;;\ns = s.replaceFirst(&quot;\\\\Qa\\\\E&quot;, &quot;o&quot;);\n</code></pre>\n<p>Or, conveniently use the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/regex/Pattern.html#quote(java.lang.String)\" rel=\"nofollow noreferrer\">Pattern#quote</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>s = s.replaceFirst(Pattern.quote(&quot;a&quot;), &quot;o&quot;);\n</code></pre>\n"}],"owner":{"account_id":29799422,"reputation":1,"user_id":22837533,"display_name":"Bernoulli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1700367821,"creation_date":1698812099,"question_id":77400316,"body_markdown":"I am new to programming, I&#39;m aware of basic functions in Java, but I got stuck at a problem where in I had to replace a substring with a different set of characters.\r\n\r\n\r\nFor eg, a `String str=&quot;gallbladder&quot;`\r\n\r\nI just want to replace the &#39;a&#39; at the 1st index with an &#39;o&#39;, upon using \r\n\r\n    str.replace(&quot;a&quot;,&quot;o&quot;)\r\n\r\nor \r\n\r\n    str.replace(str.charAt(1),&quot;o&quot;)\r\n\r\n\r\nThis replaces all the &#39;a&#39;s with &#39;o&#39;s. Is there any other way to go about this issue?","title":"Is there a way to replace only a specific substring in java?","body":"<p>I am new to programming, I'm aware of basic functions in Java, but I got stuck at a problem where in I had to replace a substring with a different set of characters.</p>\n<p>For eg, a <code>String str=&quot;gallbladder&quot;</code></p>\n<p>I just want to replace the 'a' at the 1st index with an 'o', upon using</p>\n<pre><code>str.replace(&quot;a&quot;,&quot;o&quot;)\n</code></pre>\n<p>or</p>\n<pre><code>str.replace(str.charAt(1),&quot;o&quot;)\n</code></pre>\n<p>This replaces all the 'a's with 'o's. Is there any other way to go about this issue?</p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"answers":[{"comments":[{"owner":{"account_id":26842255,"reputation":15,"user_id":20428567,"display_name":"AGadzhiev"},"score":0,"creation_date":1667711865,"post_id":74331750,"comment_id":131229668,"body_markdown":"I delete dependencies on Guava and WebDriver Manager. The same error.","body":"I delete dependencies on Guava and WebDriver Manager. The same error."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1667718555,"post_id":74331750,"comment_id":131230315,"body_markdown":"@AGadzhiev Welcome to Dependency Hell, also known as Jar Hell. You&#39;re going to have to figure out which dependencies need which version of Guava, and tinker with their versions to end up at a working set.","body":"@AGadzhiev Welcome to Dependency Hell, also known as Jar Hell. You&#39;re going to have to figure out which dependencies need which version of Guava, and tinker with their versions to end up at a working set."}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667685466,"creation_date":1667685103,"answer_id":74331750,"question_id":74331709,"body_markdown":"You are explicitly excluding the transitive dependency on Guava from one of your libraries, and including another version. The version you are including isn&#39;t compatible with the library. Specifically, the library is calling a version of `ImmutableMap.of` which isn&#39;t available in your version.\r\n\r\nThe solution is one of these:\r\n* Upgrade your dependency on io.github.bonigarcia:webdrivermanager to a version that uses a newer version of Guava\r\n* (politely) ask the maintainer of that library to upgrade their Guava dependency\r\n* Remove your explicit dependency on Guava and use the one provided by the library","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError. What&#39;s the problem?","body":"<p>You are explicitly excluding the transitive dependency on Guava from one of your libraries, and including another version. The version you are including isn't compatible with the library. Specifically, the library is calling a version of <code>ImmutableMap.of</code> which isn't available in your version.</p>\n<p>The solution is one of these:</p>\n<ul>\n<li>Upgrade your dependency on io.github.bonigarcia:webdrivermanager to a version that uses a newer version of Guava</li>\n<li>(politely) ask the maintainer of that library to upgrade their Guava dependency</li>\n<li>Remove your explicit dependency on Guava and use the one provided by the library</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5500581,"reputation":1,"user_id":4370038,"display_name":"Anand Ravi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700364099,"creation_date":1700364099,"answer_id":77509504,"question_id":74331709,"body_markdown":"For me this resolved by changing the version of maven dependency of selenium-java to 4.15.0\r\n\r\nI hope this help others as well.","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError. What&#39;s the problem?","body":"<p>For me this resolved by changing the version of maven dependency of selenium-java to 4.15.0</p>\n<p>I hope this help others as well.</p>\n"}],"owner":{"account_id":26842255,"reputation":15,"user_id":20428567,"display_name":"AGadzhiev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2868,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1700364099,"creation_date":1667684701,"question_id":74331709,"body_markdown":"Error log:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;com.google.common.collect.ImmutableMap com.google.common.collect.ImmutableMap.of(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object)&#39;\r\n\tat org.openqa.selenium.chrome.AddHasCasting.getAdditionalCommands(AddHasCasting.java:38)\r\n\tat org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.getExtraCommands(ChromeDriver.java:98)\r\n\tat org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.&lt;init&gt;(ChromeDriver.java:93)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:49)\r\n\tat org.example.lesson3.SeleniumStart.main(SeleniumStart.java:12)\r\n```\r\n\r\n\r\nMy POM\r\n\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;selenium_start&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n  &lt;name&gt;selenium_start&lt;/name&gt;\r\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.13.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n      &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n      &lt;version&gt;4.10.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n      &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n      &lt;version&gt;4.5.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n      &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n      &lt;version&gt;5.3.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n          &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n      &lt;version&gt;31.1-jre&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\nI tried to configure chrome driver on Mac m2\r\n\r\nversion of chrome driver chromedriver_mac_arm64.zip 107.0.5304.62\r\nversion of google chrome 107.0.5304.87\r\n\r\nI&#39;ve broke my mind already. Could you help me with this problem.\r\n\r\nI run basic code \r\n```\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src/main/resources/chromedriver&quot;);\r\n\r\nWebDriverManager.chromedriver().setup();\r\nWebDriver driver = new ChromeDriver();\r\n\r\ndriver.get(&quot;https://google.com&quot;)\r\n\r\ndriver.quit();\r\n```\r\n\r\nIf I run this code same error\r\n```\r\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src/main/resources/chromedriver&quot;);\r\n\r\nWebDriver driver = new ChromeDriver();\r\n\r\ndriver.get(&quot;https://google.com&quot;)\r\n\r\ndriver.quit();\r\n```\r\n\r\nI think the problem is version between components. \r\n","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError. What&#39;s the problem?","body":"<p>Error log:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: 'com.google.common.collect.ImmutableMap com.google.common.collect.ImmutableMap.of(java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object, java.lang.Object)'\n    at org.openqa.selenium.chrome.AddHasCasting.getAdditionalCommands(AddHasCasting.java:38)\n    at org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.getExtraCommands(ChromeDriver.java:98)\n    at org.openqa.selenium.chrome.ChromeDriver$ChromeDriverCommandExecutor.&lt;init&gt;(ChromeDriver.java:93)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:49)\n    at org.example.lesson3.SeleniumStart.main(SeleniumStart.java:12)\n</code></pre>\n<p>My POM</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;selenium_start&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;selenium_start&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.13.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n      &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n      &lt;version&gt;4.10.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.0.0-M7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n      &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n      &lt;version&gt;4.5.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n      &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n      &lt;version&gt;5.3.0&lt;/version&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n          &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\n      &lt;version&gt;31.1-jre&lt;/version&gt;\n    &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>I tried to configure chrome driver on Mac m2</p>\n<p>version of chrome driver chromedriver_mac_arm64.zip 107.0.5304.62\nversion of google chrome 107.0.5304.87</p>\n<p>I've broke my mind already. Could you help me with this problem.</p>\n<p>I run basic code</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src/main/resources/chromedriver&quot;);\n\nWebDriverManager.chromedriver().setup();\nWebDriver driver = new ChromeDriver();\n\ndriver.get(&quot;https://google.com&quot;)\n\ndriver.quit();\n</code></pre>\n<p>If I run this code same error</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src/main/resources/chromedriver&quot;);\n\nWebDriver driver = new ChromeDriver();\n\ndriver.get(&quot;https://google.com&quot;)\n\ndriver.quit();\n</code></pre>\n<p>I think the problem is version between components.</p>\n"},{"tags":["java","spring","maven","spring-mvc","intellij-idea"],"comments":[{"owner":{"account_id":1004269,"reputation":4294,"user_id":1018419,"display_name":"Mechkov"},"score":0,"creation_date":1476367254,"post_id":40022839,"comment_id":67323295,"body_markdown":"So your code is working but you are uneasy about IntelliJ&#39;s warnings?","body":"So your code is working but you are uneasy about IntelliJ&#39;s warnings?"},{"owner":{"account_id":60341,"reputation":1974,"user_id":180294,"accept_rate":79,"display_name":"canadiancreed"},"score":0,"creation_date":1476368589,"post_id":40022839,"comment_id":67324386,"body_markdown":"@Mechkov effectively yes that&#39;s a good way of summing it up. It may be nothing of course, but I rather have confirmation with citation as to why instead of finding it biting me in the ass down the road.","body":"@Mechkov effectively yes that&#39;s a good way of summing it up. It may be nothing of course, but I rather have confirmation with citation as to why instead of finding it biting me in the ass down the road."},{"owner":{"account_id":10243930,"reputation":97,"user_id":7560349,"display_name":"Jdslk"},"score":0,"creation_date":1683890265,"post_id":40022839,"comment_id":134439412,"body_markdown":"Here is the answer you&#39;re looking for: https://stackoverflow.com/a/76235738/7560349","body":"Here is the answer you&#39;re looking for: <a href=\"https://stackoverflow.com/a/76235738/7560349\">stackoverflow.com/a/76235738/7560349</a>"}],"answers":[{"comments":[{"owner":{"account_id":60341,"reputation":1974,"user_id":180294,"accept_rate":79,"display_name":"canadiancreed"},"score":0,"creation_date":1476381083,"post_id":40023357,"comment_id":67332729,"body_markdown":"So just gave that a try but sadly no dice. It offered three java files to choose from, but adding them and rebooting tomcat has done next to nothing regarding the issue occurring.","body":"So just gave that a try but sadly no dice. It offered three java files to choose from, but adding them and rebooting tomcat has done next to nothing regarding the issue occurring."},{"owner":{"account_id":3133300,"reputation":7957,"user_id":2650436,"accept_rate":80,"display_name":"meistermeier"},"score":1,"creation_date":1476430387,"post_id":40023357,"comment_id":67351150,"body_markdown":"Rebooting tomcat has no effect here because we are &#39;just&#39; talking about an IDE feature. Do you have one &#39;main&#39; config file that includes the other ones? If you add all three (A, B, C) and A includes B and C, the problem might be that you now have duplicated (from IntelliJ&#39;s POV) informations and another warning. Another possible problem could be that IntelliJ cannot match `viewname` to `WEB-INF/viewname.jsp`. Currently I have no &#39;raw&#39; Spring MVC project on hand to verify this.","body":"Rebooting tomcat has no effect here because we are &#39;just&#39; talking about an IDE feature. Do you have one &#39;main&#39; config file that includes the other ones? If you add all three (A, B, C) and A includes B and C, the problem might be that you now have duplicated (from IntelliJ&#39;s POV) informations and another warning. Another possible problem could be that IntelliJ cannot match <code>viewname</code> to <code>WEB-INF&#47;viewname.jsp</code>. Currently I have no &#39;raw&#39; Spring MVC project on hand to verify this."}],"tags":[],"owner":{"account_id":3133300,"reputation":7957,"user_id":2650436,"accept_rate":80,"display_name":"meistermeier"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1476367730,"creation_date":1476367730,"answer_id":40023357,"question_id":40022839,"body_markdown":"Possible solution (I have to write an answer because of the screenshot):\r\nYou did not configure the facet for your module. \r\nOpen the Project Structure Dialog \r\ngo to the Modules entry on the left and add the Spring facet to it.\r\nIf you have done this you can add your spring configurations.\r\n[![project structure dialog][1]][1]\r\n\r\nIdea should have notified you that there are unregistered Spring configs (something like this)\r\n\r\n  [1]: https://i.stack.imgur.com/WBcpp.png","title":"Unable to resolve MVC view when using Spring and Intellj","body":"<p>Possible solution (I have to write an answer because of the screenshot):\nYou did not configure the facet for your module. \nOpen the Project Structure Dialog \ngo to the Modules entry on the left and add the Spring facet to it.\nIf you have done this you can add your spring configurations.\n<a href=\"https://i.stack.imgur.com/WBcpp.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/WBcpp.png\" alt=\"project structure dialog\"></a></p>\n\n<p>Idea should have notified you that there are unregistered Spring configs (something like this)</p>\n"},{"comments":[{"owner":{"account_id":8167476,"reputation":63,"user_id":6149244,"display_name":"Rizwan Shakoor"},"score":0,"creation_date":1637826923,"post_id":40503187,"comment_id":123930664,"body_markdown":"can you please mention suggested configurations or resolver() method for html static page ( If that is present in resource/static directory).","body":"can you please mention suggested configurations or resolver() method for html static page ( If that is present in resource/static directory)."}],"tags":[],"owner":{"account_id":8149443,"reputation":1311,"user_id":6137004,"accept_rate":25,"display_name":"TomOw"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478682441,"creation_date":1478682441,"answer_id":40503187,"question_id":40022839,"body_markdown":"I think this issue occurs becouse Itellij does not properly recognize the ViewResolver Bean. Try changing the configuration of viewResolver to something like this:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan(&quot;com.app&quot;)\r\n    \r\n    public class WebConfig extends WebMvcConfigurerAdapter{\r\n        @Bean\r\n        public InternalResourceViewResolver resolver(){\r\n            InternalResourceViewResolver resolver = new InternalResourceViewResolver();\r\n            resolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n            resolver.setSuffix(&quot;.jsp&quot;);\r\n            return resolver;\r\n        }\r\n    \r\n        public void configureDefaultServerletHandling(DefaultServletHandlerConfigurer configurer){\r\n            configurer.enable();\r\n        }\r\n        @Override\r\n        public void addResourceHandlers(ResourceHandlerRegistry registry){\r\n            registry\r\n                    .addResourceHandler(&quot;/resources/**&quot;)\r\n                    .addResourceLocations(&quot;/resources/&quot;);\r\n        }\r\n    }\r\n","title":"Unable to resolve MVC view when using Spring and Intellj","body":"<p>I think this issue occurs becouse Itellij does not properly recognize the ViewResolver Bean. Try changing the configuration of viewResolver to something like this:</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan(\"com.app\")\n\npublic class WebConfig extends WebMvcConfigurerAdapter{\n    @Bean\n    public InternalResourceViewResolver resolver(){\n        InternalResourceViewResolver resolver = new InternalResourceViewResolver();\n        resolver.setPrefix(\"/WEB-INF/views/\");\n        resolver.setSuffix(\".jsp\");\n        return resolver;\n    }\n\n    public void configureDefaultServerletHandling(DefaultServletHandlerConfigurer configurer){\n        configurer.enable();\n    }\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry){\n        registry\n                .addResourceHandler(\"/resources/**\")\n                .addResourceLocations(\"/resources/\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":368,"reputation":44335,"user_id":459,"accept_rate":81,"display_name":"dlamblin"},"score":1,"creation_date":1617085883,"post_id":63270104,"comment_id":118196821,"body_markdown":"Oddly IDEA Ultimate 2020.2 did this until I told it to invalidate caches and restart. So, I&#39;m seeing the bug fixed in 2021.1 beta, but I worked around it without that. I did tell the module to add thymeleaf which didn&#39;t appear to do anything before invalidate and restarting.","body":"Oddly IDEA Ultimate 2020.2 did this until I told it to invalidate caches and restart. So, I&#39;m seeing the bug fixed in 2021.1 beta, but I worked around it without that. I did tell the module to add thymeleaf which didn&#39;t appear to do anything before invalidate and restarting."}],"tags":[],"owner":{"account_id":3650789,"reputation":396,"user_id":3043030,"display_name":"Samrat Debroy"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596647007,"creation_date":1596647007,"answer_id":63270104,"question_id":40022839,"body_markdown":"After spending around 4 hours on this, I found that this is an Intellij bug that is reported [here][1]. \r\n\r\nThe workaround is to configure view resolver like this:\r\n```\r\npublic void configureViewResolvers(ViewResolverRegistry registry) {\r\n    registry.jsp(&quot;/WEB-INF/pages/&quot;, &quot;.jsp&quot;);\r\n}\r\n```\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-186130?_ga=2.164067640.669602953.1596628724-384664884.1564859093","title":"Unable to resolve MVC view when using Spring and Intellj","body":"<p>After spending around 4 hours on this, I found that this is an Intellij bug that is reported <a href=\"https://youtrack.jetbrains.com/issue/IDEA-186130?_ga=2.164067640.669602953.1596628724-384664884.1564859093\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The workaround is to configure view resolver like this:</p>\n<pre><code>public void configureViewResolvers(ViewResolverRegistry registry) {\n    registry.jsp(&quot;/WEB-INF/pages/&quot;, &quot;.jsp&quot;);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10243930,"reputation":97,"user_id":7560349,"display_name":"Jdslk"},"score":0,"creation_date":1683888291,"post_id":72245083,"comment_id":134438937,"body_markdown":"This worked for me. Answer bookmarked! Thanks @Jason","body":"This worked for me. Answer bookmarked! Thanks @Jason"}],"tags":[],"owner":{"account_id":15344798,"reputation":179,"user_id":12391466,"display_name":"Jason Huang"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652580277,"creation_date":1652580277,"answer_id":72245083,"question_id":40022839,"body_markdown":"If you are using IntelliJ IDEA, one possible cause for this issue could be the wrong **Web Resource Directory**. Go to **File** -&gt; **Project Structure** -&gt; **Modules** -&gt; On the left side **Web** -&gt; **Web Resource Directories** below configure the path to your web resource directory","title":"Unable to resolve MVC view when using Spring and Intellj","body":"<p>If you are using IntelliJ IDEA, one possible cause for this issue could be the wrong <strong>Web Resource Directory</strong>. Go to <strong>File</strong> -&gt; <strong>Project Structure</strong> -&gt; <strong>Modules</strong> -&gt; On the left side <strong>Web</strong> -&gt; <strong>Web Resource Directories</strong> below configure the path to your web resource directory</p>\n"},{"tags":[],"owner":{"account_id":28079922,"reputation":1,"user_id":21451173,"display_name":"Joop Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691744870,"creation_date":1691573495,"answer_id":76866383,"question_id":40022839,"body_markdown":"I had the `@Configuration` class extend a base abstract class. The base abstract class did create the `FreeMarkerConfigurer` and `FreeMarkerViewResolver` objects.\r\n\r\nMoving the creation of `FreeMarkerConfigurer` and `FreeMarkerViewResolver` from the abstract class to the class with the `@Configuration` annotation solved the problem that IntelliJ couldn&#39;t find my *freemarker* template/views.","title":"Unable to resolve MVC view when using Spring and Intellj","body":"<p>I had the <code>@Configuration</code> class extend a base abstract class. The base abstract class did create the <code>FreeMarkerConfigurer</code> and <code>FreeMarkerViewResolver</code> objects.</p>\n<p>Moving the creation of <code>FreeMarkerConfigurer</code> and <code>FreeMarkerViewResolver</code> from the abstract class to the class with the <code>@Configuration</code> annotation solved the problem that IntelliJ couldn't find my <em>freemarker</em> template/views.</p>\n"},{"comments":[{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1700384220,"post_id":77509495,"comment_id":136645999,"body_markdown":"Please format the text above so anybody can read it good.","body":"Please format the text above so anybody can read it good."}],"tags":[],"owner":{"account_id":29938450,"reputation":1,"user_id":22943595,"display_name":"user22943595"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700363845,"creation_date":1700363845,"answer_id":77509495,"question_id":40022839,"body_markdown":"    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.codepresso&lt;/groupId&gt;\r\n    &lt;artifactId&gt;controllerexercise&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;controllerexercise&lt;/name&gt;\r\n    &lt;description&gt;controllerexercise&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;image&gt;\r\n                        &lt;builder&gt;paketobuildpacks/builder-jammy-base:latest&lt;/builder&gt;\r\n                    &lt;/image&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\nMaybe you haven&#39;t added TEMPLATE ENGINES: Thymeleaf so there may be an error","title":"Unable to resolve MVC view when using Spring and Intellj","body":"<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n3.1.5\n \n\ncom.codepresso\ncontrollerexercise\n0.0.1-SNAPSHOT\ncontrollerexercise\ncontrollerexercise\n\n&lt;java.version&gt;17&lt;/java.version&gt;\n\n\n\norg.springframework.boot\nspring-boot-starter-thymeleaf\n\n\norg.springframework.boot\nspring-boot-starter-web\n</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;image&gt;\n                    &lt;builder&gt;paketobuildpacks/builder-jammy-base:latest&lt;/builder&gt;\n                &lt;/image&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\nMaybe you haven't added TEMPLATE ENGINES: Thymeleaf so there may be an error\n"}],"owner":{"account_id":60341,"reputation":1974,"user_id":180294,"accept_rate":79,"display_name":"canadiancreed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10562,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":6,"score":1,"last_activity_date":1700363845,"creation_date":1476366414,"question_id":40022839,"body_markdown":"Having a confusing issue that may be entirely due to inexperience with both Spring and/or Intellj, but after searching across the internet and SO and the lot, was having no luck on how to fix so here goes.\r\n\r\nIn a nutshell, I have a sample application that I&#39;m working on to gain some experience with Spring/Hibernate/Maven. It works fine (loads pages as expected, etc...), but in the code, I have a ton of flags for the IDE not able to resolve MVC views, which I can&#39;t see as to why this would be the case.\r\n\r\nThe setup is web.xmlless, using an entirely Java setup with the following Listener configuration as so.\r\n\r\n    @Override\r\n    \tpublic void configureViewResolvers(ViewResolverRegistry registry) {\r\n    \r\n    \t\tInternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\r\n    \t\tviewResolver.setViewClass(JstlView.class);\r\n    \t\tviewResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n    \t\tviewResolver.setSuffix(&quot;.jsp&quot;);\r\n    \t\tregistry.viewResolver(viewResolver);\r\n    \t}\r\n\r\nand here one example of code where it flags that it cannot resolve the MVC view\r\n\r\n    @RequestMapping(value = { &quot;/&quot;, &quot;/list&quot; }, method = RequestMethod.GET)\r\n    \tpublic String listUsers(ModelMap model) {\r\n    \r\n    \t\tList&lt;User&gt; users = userService.findAllUsers();\r\n    \t\tmodel.addAttribute(&quot;users&quot;, users);\r\n    \t\tmodel.addAttribute(&quot;loggedinuser&quot;, getPrincipal());\r\n    \t\treturn &quot;userslist&quot;;\r\n    \t}\r\n\r\nwith userslist being the offending view not being found.\r\n\r\nWhile I&#39;m fairly certain that it&#39;s not a missing Spring plugin, the pom.xml has the following spring components, using version 4.2.5 \r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${springframework.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${springframework.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${springframework.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${springframework.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${springframework.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nAlso using the latest version of IntellJ, 2016.2.4 that is registered.","title":"Unable to resolve MVC view when using Spring and Intellj","body":"<p>Having a confusing issue that may be entirely due to inexperience with both Spring and/or Intellj, but after searching across the internet and SO and the lot, was having no luck on how to fix so here goes.</p>\n\n<p>In a nutshell, I have a sample application that I'm working on to gain some experience with Spring/Hibernate/Maven. It works fine (loads pages as expected, etc...), but in the code, I have a ton of flags for the IDE not able to resolve MVC views, which I can't see as to why this would be the case.</p>\n\n<p>The setup is web.xmlless, using an entirely Java setup with the following Listener configuration as so.</p>\n\n<pre><code>@Override\n    public void configureViewResolvers(ViewResolverRegistry registry) {\n\n        InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\n        viewResolver.setViewClass(JstlView.class);\n        viewResolver.setPrefix(\"/WEB-INF/views/\");\n        viewResolver.setSuffix(\".jsp\");\n        registry.viewResolver(viewResolver);\n    }\n</code></pre>\n\n<p>and here one example of code where it flags that it cannot resolve the MVC view</p>\n\n<pre><code>@RequestMapping(value = { \"/\", \"/list\" }, method = RequestMethod.GET)\n    public String listUsers(ModelMap model) {\n\n        List&lt;User&gt; users = userService.findAllUsers();\n        model.addAttribute(\"users\", users);\n        model.addAttribute(\"loggedinuser\", getPrincipal());\n        return \"userslist\";\n    }\n</code></pre>\n\n<p>with userslist being the offending view not being found.</p>\n\n<p>While I'm fairly certain that it's not a missing Spring plugin, the pom.xml has the following spring components, using version 4.2.5 </p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;${springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;${springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;${springframework.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>Also using the latest version of IntellJ, 2016.2.4 that is registered.</p>\n"},{"tags":["java","file","inputstream","executable-jar"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1700362179,"post_id":77509425,"comment_id":136644970,"body_markdown":"If it&#39;s a file it isn&#39;t in the JAR. If it&#39;s in the JAR it isn&#39;t a file. Why do you think you need a `File` when you can get an `InputStream` directly?","body":"If it&#39;s a file it isn&#39;t in the JAR. If it&#39;s in the JAR it isn&#39;t a file. Why do you think you need a <code>File</code> when you can get an <code>InputStream</code> directly?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700472581,"post_id":77509425,"comment_id":136654360,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":29938279,"reputation":1,"user_id":22943458,"display_name":"KitchenSpice"},"score":0,"creation_date":1700368264,"post_id":77509454,"comment_id":136645187,"body_markdown":"So when I tried to use \nprefabFormat.class.getResourceAsStream(&quot;Assets\\\\Cozy.ttf&quot;);\n\nthen I got the exception error: \n\n &#39;Exception in thread &quot;main&quot; java.io.IOException: Problem reading font data.\n        at java.desktop/java.awt.Font.createFont0(Font.java:1208)\n        at java.desktop/java.awt.Font.createFont(Font.java:1076)\n        at ClockWorkWindow.prefabFormat.&lt;init&gt;(prefabFormat.java:32)\n        at ClockWorkWindow.mainDriver.main(mainDriver.java:41)&#39;","body":"So when I tried to use  prefabFormat.class.getResourceAsStream(&quot;Assets\\\\Cozy.ttf&quot;);  then I got the exception error:    &#39;Exception in thread &quot;main&quot; java.io.IOException: Problem reading font data.         at java.desktop/java.awt.Font.createFont0(Font.java:1208)         at java.desktop/java.awt.Font.createFont(Font.java:1076)         at ClockWorkWindow.prefabFormat.&lt;init&gt;(prefabFormat.java:32)         at ClockWorkWindow.mainDriver.main(mainDriver.java:41)&#39;"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1700406126,"post_id":77509454,"comment_id":136647805,"body_markdown":"@KitchenSpice It’s `&quot;Assets/Cozy.ttf&quot;`.  The string argument is actually a relative URL, not a filename, so the argument must use forward-slash (`/`) on all platforms.","body":"@KitchenSpice It’s <code>&quot;Assets&#47;Cozy.ttf&quot;</code>.  The string argument is actually a relative URL, not a filename, so the argument must use forward-slash (<code>&#47;</code>) on all platforms."},{"owner":{"account_id":29938279,"reputation":1,"user_id":22943458,"display_name":"KitchenSpice"},"score":1,"creation_date":1700420596,"post_id":77509454,"comment_id":136649377,"body_markdown":"Thank you for the clarification. I just finished compiling and all of the code runs flawlessly. I can&#39;t tell you how much this has helped me.","body":"Thank you for the clarification. I just finished compiling and all of the code runs flawlessly. I can&#39;t tell you how much this has helped me."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700362679,"creation_date":1700362679,"answer_id":77509454,"question_id":77509425,"body_markdown":"`File` is literal. As in, it represents files, and &#39;things in a jar file&#39; __are not files__. Hence, what you want is impossible short of unpacking that stuff. More generally if `src` is anywhere in a hardcoded path, that&#39;s not going to work.\r\n\r\nThe solution is resource loading:\r\n\r\n```\r\npublic class ThisIsAnExample {\r\n  public void setIconExample() {\r\n    JLabel label = ...;\r\n    label.setIcon(new ImageIcon(ThisIsAnExample.class.getResource(&quot;myIcon.png&quot;)));\r\n  }\r\n}\r\n```\r\n\r\nUsage notes:\r\n\r\n* The path is relative to the class file. In your jar, somewhere, there&#39;s `ThisIsAnExample.class`. In the same place (same dir), put `myIcon.png`.\r\n* Maven automatically moves stuff from `/src/main/resources` into the jar. If you use a different build system, figure out where to put non-java files so they are included. If you&#39;re writing it yourself, copy them into the jar.\r\n* You can use `/myIcon.png` to be relative to the root of the jar.\r\n* If you&#39;re confused about where it&#39;s looking, print `MyClass.class.getResource(&quot;MyClass.class&quot;)` - class files are resources just the same, you can ask for it.\r\n* `getResource` returns a URL which many things in swing allow, so, use that. If not, though, there&#39;s `getResourceAsStream` which will require `try () {}` to safely use, then, you have an input stream you can read from.\r\n* You can open the contents of entries in the jar. __You cannot list jar contents__. Use SPI if you need that.\r\n* Don&#39;t call `.getClassLoader()`, and don&#39;t call `.getClass()`. It&#39;s `MyClassName.class.getResource` (or `getResourceAsStream`). They don&#39;t make things better, and there are cases where those alternatives break where `MyClass.class.getResource` does not.\r\n* `jar tvf myjar.jar` shows you the jar structure.","title":"How to retrieve File in a .JAR project","body":"<p><code>File</code> is literal. As in, it represents files, and 'things in a jar file' <strong>are not files</strong>. Hence, what you want is impossible short of unpacking that stuff. More generally if <code>src</code> is anywhere in a hardcoded path, that's not going to work.</p>\n<p>The solution is resource loading:</p>\n<pre><code>public class ThisIsAnExample {\n  public void setIconExample() {\n    JLabel label = ...;\n    label.setIcon(new ImageIcon(ThisIsAnExample.class.getResource(&quot;myIcon.png&quot;)));\n  }\n}\n</code></pre>\n<p>Usage notes:</p>\n<ul>\n<li>The path is relative to the class file. In your jar, somewhere, there's <code>ThisIsAnExample.class</code>. In the same place (same dir), put <code>myIcon.png</code>.</li>\n<li>Maven automatically moves stuff from <code>/src/main/resources</code> into the jar. If you use a different build system, figure out where to put non-java files so they are included. If you're writing it yourself, copy them into the jar.</li>\n<li>You can use <code>/myIcon.png</code> to be relative to the root of the jar.</li>\n<li>If you're confused about where it's looking, print <code>MyClass.class.getResource(&quot;MyClass.class&quot;)</code> - class files are resources just the same, you can ask for it.</li>\n<li><code>getResource</code> returns a URL which many things in swing allow, so, use that. If not, though, there's <code>getResourceAsStream</code> which will require <code>try () {}</code> to safely use, then, you have an input stream you can read from.</li>\n<li>You can open the contents of entries in the jar. <strong>You cannot list jar contents</strong>. Use SPI if you need that.</li>\n<li>Don't call <code>.getClassLoader()</code>, and don't call <code>.getClass()</code>. It's <code>MyClassName.class.getResource</code> (or <code>getResourceAsStream</code>). They don't make things better, and there are cases where those alternatives break where <code>MyClass.class.getResource</code> does not.</li>\n<li><code>jar tvf myjar.jar</code> shows you the jar structure.</li>\n</ul>\n"}],"owner":{"account_id":29938279,"reputation":1,"user_id":22943458,"display_name":"KitchenSpice"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700362679,"creation_date":1700361991,"question_id":77509425,"body_markdown":"I am pretty new to java and made a new project with JFrames and JPanels to create a clock display to tell the time, date, and days. now when I package the project into a JAR executable and run it, I get hit with an exception, and don&#39;t know how to track what/where the exception is. I looked into it and found how I got resources (files), from my source code was incorrect. My way to get the file was: &quot;File {insert var name} = new File(projectname...\\\\src\\\\Assets\\\\Cozy.ttf&quot;), which is just a font for the JPanels to use. The more I kept reading into alternatives like &quot;getResourceAsStream()&quot;, and &quot;getResource()&quot;, the more I got stuck. I don&#39;t know where to start because I haven&#39;t worked with files on this level. I read about &quot;File.createTempFile()&quot;, but it all seems very confusing. And I cant find any simplistic and effective documentation for what I need.\r\n\r\nThe main problem I have is that I can&#39;t load File objects from inside the .JAR. I know I&#39;m not being descriptive or this isn&#39;t very helpful without any code, but I don&#39;t really know what to do now.\r\n\r\nI tried to research into Class.getResourceAsStream(), and had mild success with retreiving the designated object without problems, but then the whole thing became a little useless when I looked into converting the InputStream into a File and got nothing that was really easy to wrap my head around.\r\n\r\nI also don&#39;t know if I could use the raw InputStream into the Font object for Font.createFont(truetypeConstant,InputStream) to be a valid syntax.","title":"How to retrieve File in a .JAR project","body":"<p>I am pretty new to java and made a new project with JFrames and JPanels to create a clock display to tell the time, date, and days. now when I package the project into a JAR executable and run it, I get hit with an exception, and don't know how to track what/where the exception is. I looked into it and found how I got resources (files), from my source code was incorrect. My way to get the file was: &quot;File {insert var name} = new File(projectname...\\src\\Assets\\Cozy.ttf&quot;), which is just a font for the JPanels to use. The more I kept reading into alternatives like &quot;getResourceAsStream()&quot;, and &quot;getResource()&quot;, the more I got stuck. I don't know where to start because I haven't worked with files on this level. I read about &quot;File.createTempFile()&quot;, but it all seems very confusing. And I cant find any simplistic and effective documentation for what I need.</p>\n<p>The main problem I have is that I can't load File objects from inside the .JAR. I know I'm not being descriptive or this isn't very helpful without any code, but I don't really know what to do now.</p>\n<p>I tried to research into Class.getResourceAsStream(), and had mild success with retreiving the designated object without problems, but then the whole thing became a little useless when I looked into converting the InputStream into a File and got nothing that was really easy to wrap my head around.</p>\n<p>I also don't know if I could use the raw InputStream into the Font object for Font.createFont(truetypeConstant,InputStream) to be a valid syntax.</p>\n"},{"tags":["java","loops","repeat","continue"],"comments":[{"owner":{"account_id":2498626,"reputation":2734,"user_id":2174382,"display_name":"guleryuz"},"score":1,"creation_date":1535818907,"post_id":52130017,"comment_id":91210387,"body_markdown":"`while(true){ break; /* if no */ }`","body":"<code>while(true){ break; &#47;* if no *&#47; }</code>"},{"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"score":5,"creation_date":1535818914,"post_id":52130017,"comment_id":91210390,"body_markdown":"Look into a `while`/ `do-while` loop","body":"Look into a <code>while</code>/ <code>do-while</code> loop"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":7,"creation_date":1535819039,"post_id":52130017,"comment_id":91210419,"body_markdown":"I&#39;m voting to close this question as off-topic because: [&quot;3. Questions asking for homework help must include a **summary of the work you&#39;ve done so far to solve the problem**, and a **description of the difficulty you are having** solving it.&quot;](https://stackoverflow.com/help/on-topic). Current state of your question doesn&#39;t fulfill these requirements. Use [edit] option to improve it.","body":"I&#39;m voting to close this question as off-topic because: <a href=\"https://stackoverflow.com/help/on-topic\">&quot;3. Questions asking for homework help must include a <b>summary of the work you&#39;ve done so far to solve the problem</b>, and a <b>description of the difficulty you are having</b> solving it.&quot;</a>. Current state of your question doesn&#39;t fulfill these requirements. Use <a href=\"https://stackoverflow.com/posts/52130017/edit\">edit</a> option to improve it."},{"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"score":0,"creation_date":1535819060,"post_id":52130017,"comment_id":91210427,"body_markdown":"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html</a>"},{"owner":{"account_id":14264416,"reputation":3,"user_id":10304120,"display_name":"DCN"},"score":0,"creation_date":1536028161,"post_id":52130017,"comment_id":91266297,"body_markdown":"Thank you for everyone&#39;s help! Pshemo, this is actually not part of my homework. I&#39;m learning on my own. I watched some youtube videos and kind have a general idea about while loop. I just didn&#39;t know what syntax to use to accept Y or N.","body":"Thank you for everyone&#39;s help! Pshemo, this is actually not part of my homework. I&#39;m learning on my own. I watched some youtube videos and kind have a general idea about while loop. I just didn&#39;t know what syntax to use to accept Y or N."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1700363778,"post_id":52130017,"comment_id":136645026,"body_markdown":"*I watched some youtube videos*   I suggest reading a book.","body":"<i>I watched some youtube videos</i>   I suggest reading a book."}],"answers":[{"comments":[{"owner":{"account_id":14264416,"reputation":3,"user_id":10304120,"display_name":"DCN"},"score":0,"creation_date":1536028604,"post_id":52130123,"comment_id":91266369,"body_markdown":"answer.equalsIgnoreCase(&quot;n&quot;) .... this is the syntax I was looking for.","body":"answer.equalsIgnoreCase(&quot;n&quot;) .... this is the syntax I was looking for."}],"tags":[],"owner":{"account_id":6715691,"reputation":1680,"user_id":5177596,"display_name":"Faiizii Awan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1535820179,"creation_date":1535819454,"answer_id":52130123,"question_id":52130017,"body_markdown":"    while(true){\r\n\r\n        System.out.println(&quot;How much money do you want to have? &quot;);\r\n        double money = input.nextDouble();\r\n    \r\n        System.out.println(&quot;Ok, here is yours $&quot; + money);\r\n    \r\n        System.out.println(&quot;Do you want to continue y or n&quot;);\r\n        String c = input.nextLine();\r\n    \r\n       if(c.equalsIgnoreCase(&quot;n&quot;)){ \r\n          break;\r\n         }//else continue to loop on any string ;-)\r\n\r\n    }","title":"Java - Do you want to continue?(Y/N)","body":"<pre><code>while(true){\n\n    System.out.println(\"How much money do you want to have? \");\n    double money = input.nextDouble();\n\n    System.out.println(\"Ok, here is yours $\" + money);\n\n    System.out.println(\"Do you want to continue y or n\");\n    String c = input.nextLine();\n\n   if(c.equalsIgnoreCase(\"n\")){ \n      break;\n     }//else continue to loop on any string ;-)\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11260438,"reputation":5143,"user_id":8258942,"accept_rate":0,"display_name":"Nitin Bisht"},"score":1,"creation_date":1535820904,"post_id":52130185,"comment_id":91210967,"body_markdown":"Hey, add a semicolon at the end of the do-while loop.","body":"Hey, add a semicolon at the end of the do-while loop."}],"tags":[],"owner":{"account_id":5975130,"reputation":1084,"user_id":4696268,"accept_rate":50,"display_name":"Sunder R"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1535820975,"creation_date":1535819825,"answer_id":52130185,"question_id":52130017,"body_markdown":"    String c = &quot;&quot;;\r\n    do{\r\n        System.out.println(&quot;How much money do you want to have? &quot;);\r\n        double money = input.nextDouble();\r\n    \r\n        System.out.println(&quot;Ok, here is yours $&quot; + money);\r\n    \r\n        System.out.println(&quot;Do you want to continue y or n&quot;);\r\n        c = input.nextLine();\r\n    \r\n    }while(c.equalsIgnoreCase(&quot;Y&quot;));","title":"Java - Do you want to continue?(Y/N)","body":"<pre><code>String c = \"\";\ndo{\n    System.out.println(\"How much money do you want to have? \");\n    double money = input.nextDouble();\n\n    System.out.println(\"Ok, here is yours $\" + money);\n\n    System.out.println(\"Do you want to continue y or n\");\n    c = input.nextLine();\n\n}while(c.equalsIgnoreCase(\"Y\"));\n</code></pre>\n"}],"owner":{"account_id":14264416,"reputation":3,"user_id":10304120,"display_name":"DCN"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27940,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":52130185,"answer_count":2,"score":-4,"last_activity_date":1700362338,"creation_date":1535818792,"question_id":52130017,"body_markdown":"I want to write a simple loop for the program to go back and restart it again.\r\n\r\nJust a simple 1 question program. Then the system ask if the user want to do it again. If the user inputs Y ... the program will loop it back to the beginning and run the entire program again. If the user inputs N, it exits.\r\n\r\n\r\n    import java.util.Scanner; // show them as code\r\n\r\n    public class HowToDoLoop {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.print(&quot;How much money do you want to have? &quot;);\r\n\t\tdouble money = input.nextDouble();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Ok, here is yours $&quot; + money);\r\n\t\t\r\n\t\tSystem.out.println(&quot;Do you want to continue y or n&quot;);\r\n\t\t","title":"Java - Do you want to continue?(Y/N)","body":"<p>I want to write a simple loop for the program to go back and restart it again.</p>\n\n<p>Just a simple 1 question program. Then the system ask if the user want to do it again. If the user inputs Y ... the program will loop it back to the beginning and run the entire program again. If the user inputs N, it exits.</p>\n\n<pre><code>import java.util.Scanner; // show them as code\n\npublic class HowToDoLoop {\n\npublic static void main(String[] args) {\n\n    Scanner input = new Scanner(System.in);\n\n    System.out.print(\"How much money do you want to have? \");\n    double money = input.nextDouble();\n\n    System.out.println(\"Ok, here is yours $\" + money);\n\n    System.out.println(\"Do you want to continue y or n\");\n</code></pre>\n"},{"tags":["java","spring","concurrency","cron","scheduled-tasks"],"comments":[{"owner":{"account_id":462668,"reputation":6135,"user_id":865107,"display_name":"Selaron"},"score":1,"creation_date":1539937895,"post_id":52888401,"comment_id":92690011,"body_markdown":"Can you provide you configuration source code of the Jobs, Trigger and Executor? I think the behavior in question is configurable. For example if your executor has only one single worker thread, it won&#39;t ever execute multiple jobs in parallel (neither same nor different jobs).","body":"Can you provide you configuration source code of the Jobs, Trigger and Executor? I think the behavior in question is configurable. For example if your executor has only one single worker thread, it won&#39;t ever execute multiple jobs in parallel (neither same nor different jobs)."},{"owner":{"account_id":10526569,"reputation":1677,"user_id":7757415,"display_name":"Ali Yılmaz"},"score":0,"creation_date":1539938367,"post_id":52888401,"comment_id":92690230,"body_markdown":"@Selaron thank you for your concern. To be honest, I cant find anything else significant to share. Basically, there are two functions with `@Scheduled` annotation. I checked my configuration file for anything related to crons, jobs, triggers, executors, I couldn&#39;t find any relevant configuration. The configuration file is all about peripheral credentials like elasticsearch, rabbitmq and redis host/ports. I believe, if there is any configuration available, I should be using the default ones.","body":"@Selaron thank you for your concern. To be honest, I cant find anything else significant to share. Basically, there are two functions with <code>@Scheduled</code> annotation. I checked my configuration file for anything related to crons, jobs, triggers, executors, I couldn&#39;t find any relevant configuration. The configuration file is all about peripheral credentials like elasticsearch, rabbitmq and redis host/ports. I believe, if there is any configuration available, I should be using the default ones."},{"owner":{"account_id":10526569,"reputation":1677,"user_id":7757415,"display_name":"Ali Yılmaz"},"score":0,"creation_date":1539938515,"post_id":52888401,"comment_id":92690312,"body_markdown":"Actually I found a `ConcurrentTaskScheduler` bean in ApplicationConfig file. It takes no arguments btw. All properties are default I guess.","body":"Actually I found a <code>ConcurrentTaskScheduler</code> bean in ApplicationConfig file. It takes no arguments btw. All properties are default I guess."},{"owner":{"account_id":462668,"reputation":6135,"user_id":865107,"display_name":"Selaron"},"score":2,"creation_date":1539938787,"post_id":52888401,"comment_id":92690463,"body_markdown":"Thats helpful already as it suggests you are using the defaults.","body":"Thats helpful already as it suggests you are using the defaults."}],"answers":[{"comments":[{"owner":{"account_id":10526569,"reputation":1677,"user_id":7757415,"display_name":"Ali Yılmaz"},"score":0,"creation_date":1539938710,"post_id":52888761,"comment_id":92690419,"body_markdown":"Thank you for your concern. I found a `ConcurrentTaskScheduler` bean, initialized inside ApplicationConfig with no parameters. I believe it&#39;s quite similar to `ThreadPoolTaskScheduler`. I will check documentation and hopefully edit my question with the answer:)","body":"Thank you for your concern. I found a <code>ConcurrentTaskScheduler</code> bean, initialized inside ApplicationConfig with no parameters. I believe it&#39;s quite similar to <code>ThreadPoolTaskScheduler</code>. I will check documentation and hopefully edit my question with the answer:)"},{"owner":{"account_id":10526569,"reputation":1677,"user_id":7757415,"display_name":"Ali Yılmaz"},"score":0,"creation_date":1539938849,"post_id":52888761,"comment_id":92690496,"body_markdown":"question: If I somehow support multithreading for scheduled cronjobs, will my question #1&#39;s answer still be yes?","body":"question: If I somehow support multithreading for scheduled cronjobs, will my question #1&#39;s answer still be yes?"},{"owner":{"account_id":10526569,"reputation":1677,"user_id":7757415,"display_name":"Ali Yılmaz"},"score":0,"creation_date":1539939089,"post_id":52888761,"comment_id":92690601,"body_markdown":"thanks for update! So, basically, I should **replace** `TaskScheduler` bean with your `ScheduledExecutorService` bean, right? edit: trying that atm","body":"thanks for update! So, basically, I should <b>replace</b> <code>TaskScheduler</code> bean with your <code>ScheduledExecutorService</code> bean, right? edit: trying that atm"},{"owner":{"display_name":"user10527814"},"score":0,"creation_date":1539939379,"post_id":52888761,"comment_id":92690756,"body_markdown":"@AliYılmaz Yes, or  ThreadPoolTaskScheduler (my fault, both does not allow overlapping, that&#39;s why I removed the update)","body":"@AliYılmaz Yes, or  ThreadPoolTaskScheduler (my fault, both does not allow overlapping, that&#39;s why I removed the update)"}],"tags":[],"owner":{"display_name":"user10527814"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1539938942,"creation_date":1539938447,"answer_id":52888761,"question_id":52888401,"body_markdown":"All @Scheduled methods share, by default, a single thread. You can modify this behavior by defining, for example, a custom [ThreadPoolTaskScheduler][1] bean:\r\n\r\n    @Bean\r\n    public ThreadPoolTaskScheduler threadPoolTaskScheduler() {\r\n    \tThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\r\n    \tthreadPoolTaskScheduler.setPoolSize(5);\r\n    \tthreadPoolTaskScheduler.setThreadNamePrefix(&quot;ThreadPoolTaskScheduler&quot;);\r\n    \treturn threadPoolTaskScheduler;\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/concurrent/ThreadPoolTaskScheduler.html\r\n\r\n","title":"Java Spring: how to run two different cronjobs simultaneously?","body":"<p>All @Scheduled methods share, by default, a single thread. You can modify this behavior by defining, for example, a custom <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/concurrent/ThreadPoolTaskScheduler.html\" rel=\"nofollow noreferrer\">ThreadPoolTaskScheduler</a> bean:</p>\n\n<pre><code>@Bean\npublic ThreadPoolTaskScheduler threadPoolTaskScheduler() {\n    ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\n    threadPoolTaskScheduler.setPoolSize(5);\n    threadPoolTaskScheduler.setThreadNamePrefix(\"ThreadPoolTaskScheduler\");\n    return threadPoolTaskScheduler;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3772025,"reputation":9,"user_id":3133927,"display_name":"hameed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700360700,"creation_date":1700360700,"answer_id":77509381,"question_id":52888401,"body_markdown":"You can run the cronjob for 90 second using spring fixedrate eg. \r\n\r\n\r\n     @Scheduled(fixedRate = 90000)\r\n    public void runAfter90Second(){\r\nSystem.out.println(&quot;dateTime: &quot;+ LocalDateTime.now());\r\n} code here\r\n\r\n    enter code here\r\n\r\n","title":"Java Spring: how to run two different cronjobs simultaneously?","body":"<p>You can run the cronjob for 90 second using spring fixedrate eg.</p>\n<pre><code> @Scheduled(fixedRate = 90000)\npublic void runAfter90Second(){\n</code></pre>\n<p>System.out.println(&quot;dateTime: &quot;+ LocalDateTime.now());\n} code here</p>\n<pre><code>enter code here\n</code></pre>\n"}],"owner":{"account_id":10526569,"reputation":1677,"user_id":7757415,"display_name":"Ali Yılmaz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2020,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52888761,"answer_count":2,"score":1,"last_activity_date":1700360700,"creation_date":1539937075,"question_id":52888401,"body_markdown":"First of all, sorry if this has been asked before, I couldn&#39;t find a similar question so I decided to ask it myself.\r\n\r\nLet&#39;s say I have two different cron jobs like this:\r\n\r\n    @Scheduled(cron = &quot;0 30 * * * *&quot;)\r\n    private void sleepForDays() {\r\n        while(true) sleep();\r\n    }\r\n\r\n    @Scheduled(cron= &quot;0 * * * * *&quot;)\r\n    private void logHello() {\r\n       log(&quot;hello!&quot;);\r\n    }\r\n\r\n\r\nI have a function that runs for days, which is triggered every 30th minute of hour. (0 30 * * * *) Let&#39;s name it `sleepForDays()`.\r\n\r\nI have another function that is supposed to log hello each minute. Lets name it `logHello()`.\r\n\r\n\r\n**Questions:**\r\n\r\n1. Once `sleepForDays()` is started, I believe second `sleepForDays()` won&#39;t start until first one is finished. Right?\r\n\r\n2. Once `sleepForDays()` is started, `logHello()` is not working each minute. I do logging inside this function on my production environment, and I can&#39;t see those logs on output file. Clearly it&#39;s not working while `sleepForDays()` is in execution.\r\n\r\n\r\n**Intentions:**\r\n\r\n1. I want different cronJobs to operate independently from each other. In other words, I don&#39;t want `sleepForDays()` to block `logHello()`.\r\n\r\n2. I also want to avoid duplicate execution of same cronJob. If `sleepForDays()` is already executing, I don&#39;t want a second `sleepForDays()` to start.\r\n\r\n\r\n\r\nMy main point of posting this question is Question #2. Regarding similar posts in StackOverflow, I believe Question #1&#39;s answer is yes. I wanted to make sure my assumption in Question #1 is correct.\r\n\r\n\r\nThank you for your time!\r\n\r\n\r\n\r\n\r\n\r\n**Edit:**\r\n\r\nThe problem is probably about the fact that I initialize `TaskScheduler` bean with default parameters. By default, `TaskScheduler` do not support multithreading for scheduled cronjobs. If I initialize TaskScheduled bean with multithreading support, will my question #1&#39;s answer still be yes?\r\n\r\nBean initialization is as follows:\r\n\r\n    @Bean\r\n    public static TaskScheduler taskScheduler() {\r\n        return new ConcurrentTaskScheduler();\r\n    }\r\n\r\n\r\n**Edit 2: Solution**\r\n\r\nBig thanks to contributors, I managed to run those functions concurrently, using the bean initialization below. I simply replaced `TaskScheduler` bean with this one:\r\n\r\n    @Bean\r\n    public ThreadPoolTaskScheduler threadPoolTaskScheduler() {\r\n        ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\r\n        threadPoolTaskScheduler.setPoolSize(2);\r\n        threadPoolTaskScheduler.setThreadNamePrefix(&quot;ThreadPoolTaskScheduler&quot;); // i dont know what it does, i used it anyways lol\r\n        return threadPoolTaskScheduler;\r\n    }\r\n\r\n\r\n \r\n","title":"Java Spring: how to run two different cronjobs simultaneously?","body":"<p>First of all, sorry if this has been asked before, I couldn't find a similar question so I decided to ask it myself.</p>\n\n<p>Let's say I have two different cron jobs like this:</p>\n\n<pre><code>@Scheduled(cron = \"0 30 * * * *\")\nprivate void sleepForDays() {\n    while(true) sleep();\n}\n\n@Scheduled(cron= \"0 * * * * *\")\nprivate void logHello() {\n   log(\"hello!\");\n}\n</code></pre>\n\n<p>I have a function that runs for days, which is triggered every 30th minute of hour. (0 30 * * * *) Let's name it <code>sleepForDays()</code>.</p>\n\n<p>I have another function that is supposed to log hello each minute. Lets name it <code>logHello()</code>.</p>\n\n<p><strong>Questions:</strong></p>\n\n<ol>\n<li><p>Once <code>sleepForDays()</code> is started, I believe second <code>sleepForDays()</code> won't start until first one is finished. Right?</p></li>\n<li><p>Once <code>sleepForDays()</code> is started, <code>logHello()</code> is not working each minute. I do logging inside this function on my production environment, and I can't see those logs on output file. Clearly it's not working while <code>sleepForDays()</code> is in execution.</p></li>\n</ol>\n\n<p><strong>Intentions:</strong></p>\n\n<ol>\n<li><p>I want different cronJobs to operate independently from each other. In other words, I don't want <code>sleepForDays()</code> to block <code>logHello()</code>.</p></li>\n<li><p>I also want to avoid duplicate execution of same cronJob. If <code>sleepForDays()</code> is already executing, I don't want a second <code>sleepForDays()</code> to start.</p></li>\n</ol>\n\n<p>My main point of posting this question is Question #2. Regarding similar posts in StackOverflow, I believe Question #1's answer is yes. I wanted to make sure my assumption in Question #1 is correct.</p>\n\n<p>Thank you for your time!</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>The problem is probably about the fact that I initialize <code>TaskScheduler</code> bean with default parameters. By default, <code>TaskScheduler</code> do not support multithreading for scheduled cronjobs. If I initialize TaskScheduled bean with multithreading support, will my question #1's answer still be yes?</p>\n\n<p>Bean initialization is as follows:</p>\n\n<pre><code>@Bean\npublic static TaskScheduler taskScheduler() {\n    return new ConcurrentTaskScheduler();\n}\n</code></pre>\n\n<p><strong>Edit 2: Solution</strong></p>\n\n<p>Big thanks to contributors, I managed to run those functions concurrently, using the bean initialization below. I simply replaced <code>TaskScheduler</code> bean with this one:</p>\n\n<pre><code>@Bean\npublic ThreadPoolTaskScheduler threadPoolTaskScheduler() {\n    ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\n    threadPoolTaskScheduler.setPoolSize(2);\n    threadPoolTaskScheduler.setThreadNamePrefix(\"ThreadPoolTaskScheduler\"); // i dont know what it does, i used it anyways lol\n    return threadPoolTaskScheduler;\n}\n</code></pre>\n"},{"tags":["java","class","methods"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1442263993,"post_id":32573707,"comment_id":53002515,"body_markdown":"Please conform to Java coding conventions: Type names (class,interface,enum) should start with a capital letter (e.g. `BigPicture`). Method, variable and field names should start with a lowercase letter (e.g. `bigPicture`), and constants should be all-caps (e.g. `BIG_PICTURE`).","body":"Please conform to Java coding conventions: Type names (class,interface,enum) should start with a capital letter (e.g. <code>BigPicture</code>). Method, variable and field names should start with a lowercase letter (e.g. <code>bigPicture</code>), and constants should be all-caps (e.g. <code>BIG_PICTURE</code>)."},{"owner":{"account_id":1590282,"reputation":6170,"user_id":1473751,"accept_rate":100,"display_name":"Zong"},"score":3,"creation_date":1442264055,"post_id":32573707,"comment_id":53002551,"body_markdown":"Putting aside how confusing it is the number of times you use &quot;balance&quot;, please show us *how* you&#39;re using this class. Your description is too vague.","body":"Putting aside how confusing it is the number of times you use &quot;balance&quot;, please show us <i>how</i> you&#39;re using this class. Your description is too vague."},{"owner":{"account_id":1510989,"reputation":21746,"user_id":1413133,"display_name":"Manos Nikolaidis"},"score":0,"creation_date":1442264061,"post_id":32573707,"comment_id":53002554,"body_markdown":"and setters must start with set e.g. setBalance","body":"and setters must start with set e.g. setBalance"},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1442264260,"post_id":32573707,"comment_id":53002650,"body_markdown":"Everytimes you use `new something()` it creates a new instance (i.e. in your case a balnce instance with balance equal to 0), that&#39;s probably your issue","body":"Everytimes you use <code>new something()</code> it creates a new instance (i.e. in your case a balnce instance with balance equal to 0), that&#39;s probably your issue"},{"owner":{"account_id":198018,"reputation":8276,"user_id":442451,"accept_rate":100,"display_name":"GriffeyDog"},"score":1,"creation_date":1442264668,"post_id":32573707,"comment_id":53002865,"body_markdown":"It seems to me the balance should be part of an `Account` class, not its own class.","body":"It seems to me the balance should be part of an <code>Account</code> class, not its own class."},{"owner":{"account_id":4816487,"reputation":4550,"user_id":3888450,"accept_rate":89,"display_name":"Stefan Dollase"},"score":0,"creation_date":1442264826,"post_id":32573707,"comment_id":53002945,"body_markdown":"You need to show us how you use the balance class. When and how do you call `getBalance` and `returnBalance`? Without this information we can only guess what is wrong.","body":"You need to show us how you use the balance class. When and how do you call <code>getBalance</code> and <code>returnBalance</code>? Without this information we can only guess what is wrong."},{"owner":{"account_id":9533520,"reputation":4461,"user_id":11573842,"display_name":"Sabito stands with Ukraine"},"score":0,"creation_date":1614029350,"post_id":32573707,"comment_id":117254841,"body_markdown":"No answers in the question, please. I have rolled back/edited your question and removed the answer. Add the answer in the answer section only.","body":"No answers in the question, please. I have rolled back/edited your question and removed the answer. Add the answer in the answer section only."}],"answers":[{"tags":[],"owner":{"account_id":1134300,"reputation":143586,"user_id":1119701,"display_name":"ouah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442264316,"creation_date":1442264316,"answer_id":32573836,"question_id":32573707,"body_markdown":"If you want all your objects to share the same `balance` field you have to add the `static` modifier. Otherwise a new member will be created for every objects.","title":"Java update value between classes","body":"<p>If you want all your objects to share the same <code>balance</code> field you have to add the <code>static</code> modifier. Otherwise a new member will be created for every objects.</p>\n"},{"tags":[],"owner":{"account_id":1585670,"reputation":11607,"user_id":1470092,"accept_rate":96,"display_name":"huseyin tugrul buyukisik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442264466,"creation_date":1442264466,"answer_id":32573864,"question_id":32573707,"body_markdown":"If you need just a copy with same balance,\r\n\r\n    public class Balance {\r\n    private int balance;\r\n    \r\n        public int getBalance()\r\n        {\r\n            return balance;\r\n        }\r\n    \r\n        public void setBalance(int b)        \r\n        { \r\n             balance=b;\r\n        }\r\n\r\n        public Balance newBalance()\r\n        {\r\n             Balance b=new Balance();\r\n             b.setBalance(getBalance());\r\n             return b;\r\n        }\r\n      }\r\n\r\n\r\nusage:\r\n\r\n      balanceCall=previousBalance.newBalance();\r\n\r\nor you can clone too.","title":"Java update value between classes","body":"<p>If you need just a copy with same balance,</p>\n\n<pre><code>public class Balance {\nprivate int balance;\n\n    public int getBalance()\n    {\n        return balance;\n    }\n\n    public void setBalance(int b)        \n    { \n         balance=b;\n    }\n\n    public Balance newBalance()\n    {\n         Balance b=new Balance();\n         b.setBalance(getBalance());\n         return b;\n    }\n  }\n</code></pre>\n\n<p>usage:</p>\n\n<pre><code>  balanceCall=previousBalance.newBalance();\n</code></pre>\n\n<p>or you can clone too.</p>\n"},{"tags":[],"owner":{"account_id":6952431,"reputation":11,"user_id":5334643,"display_name":"cleed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442264514,"creation_date":1442264514,"answer_id":32573882,"question_id":32573707,"body_markdown":"Assuming the methods are called correctly, you can share your balance variable by using the **static** keyword (ex. &quot;static int balance;&quot;).\r\n\r\nIn doing so, you make the variable belongs to all classes within the project and is shared across them. To use this variable, just refer to its name, in this case use &quot;balance = [insert formula];&quot; (no longer need to use &quot;this.balance&quot;).","title":"Java update value between classes","body":"<p>Assuming the methods are called correctly, you can share your balance variable by using the <strong>static</strong> keyword (ex. \"static int balance;\").</p>\n\n<p>In doing so, you make the variable belongs to all classes within the project and is shared across them. To use this variable, just refer to its name, in this case use \"balance = [insert formula];\" (no longer need to use \"this.balance\").</p>\n"},{"comments":[{"owner":{"account_id":3979186,"reputation":63,"user_id":3281576,"accept_rate":57,"display_name":"ArtisticMelody"},"score":0,"creation_date":1442265317,"post_id":32573956,"comment_id":53003183,"body_markdown":"Is there a better way to share a variable between classes?","body":"Is there a better way to share a variable between classes?"},{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":0,"creation_date":1442265727,"post_id":32573956,"comment_id":53003372,"body_markdown":"It depends what you want to do. If its simply passing one object to another, you just pass the reference to it (not create a new one) to the other class. You can do it as a method parameter for instance. For example, lets say you have a `BankTransfer` class, which has a method `transferFunds(BankAccount from, BankAccount to)` ... it has a reference to both bank accounts and can thus update the balance of both","body":"It depends what you want to do. If its simply passing one object to another, you just pass the reference to it (not create a new one) to the other class. You can do it as a method parameter for instance. For example, lets say you have a <code>BankTransfer</code> class, which has a method <code>transferFunds(BankAccount from, BankAccount to)</code> ... it has a reference to both bank accounts and can thus update the balance of both"},{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":2,"creation_date":1442265999,"post_id":32573956,"comment_id":53003508,"body_markdown":"For the record, I don&#39;t quite agree with the `static` approach. This means all the balance instances throughout the program will have the same value. So it means there can&#39;t be 2 different bank accounts with 2 different balances.","body":"For the record, I don&#39;t quite agree with the <code>static</code> approach. This means all the balance instances throughout the program will have the same value. So it means there can&#39;t be 2 different bank accounts with 2 different balances."}],"tags":[],"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442264780,"creation_date":1442264780,"answer_id":32573956,"question_id":32573707,"body_markdown":"You are creating a new instance of the `balance` class when you do `new balance()`. So essentially one class is still referring to the old instance, while the new class is referring to the new one. \r\n\r\nThe way you should go about this depends a bit on the rest of the program, but if you want to refer to the same instance, you should put an extra method in the `balance` class, called `updateBalance()` which changes the balance, or maybe decrements / increments it depending on whether it is a withdrawal or deposit.\r\n\r\nHowever, your design seems to be a bit weird. It seems that both classes performing withdrawals or deposits should actually be referring to the same bank account. The balance class seems a bit redundant.\r\n","title":"Java update value between classes","body":"<p>You are creating a new instance of the <code>balance</code> class when you do <code>new balance()</code>. So essentially one class is still referring to the old instance, while the new class is referring to the new one. </p>\n\n<p>The way you should go about this depends a bit on the rest of the program, but if you want to refer to the same instance, you should put an extra method in the <code>balance</code> class, called <code>updateBalance()</code> which changes the balance, or maybe decrements / increments it depending on whether it is a withdrawal or deposit.</p>\n\n<p>However, your design seems to be a bit weird. It seems that both classes performing withdrawals or deposits should actually be referring to the same bank account. The balance class seems a bit redundant.</p>\n"},{"tags":[],"owner":{"account_id":3422880,"reputation":1870,"user_id":2869791,"accept_rate":67,"display_name":"Sarath Chandra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442266232,"creation_date":1442264896,"answer_id":32573978,"question_id":32573707,"body_markdown":"The `static` behaviour approach as suggested by others definitely helps achieve a solution, but, keeping in mind your opening line that you&#39;re still a beginner in Java, I&#39;d suggest you change your Class design altogether, to make it more in line with an Object Oriented design. \r\n\r\nCreate a class called `Account`, with `Balance` as its attribute. It makes sense to have an `Account` object (like in the real-world) that `HAS` a `Balance` attribute. The `withdraw` or `deposit` actions corresponding to an Account can be put within the same `Account` class, in line with the encapsulation paradigm of OOP/Java. This would help in making it more intuitive to understand the flow of variables within your program.\r\n\r\n\r\n    public class Account{\r\n       public int balance = 0;\r\n        \r\n       public void setBalance(int balance){\r\n          this.balance = balance;\r\n       }\r\n\r\n       public int getBalance(){\r\n          return this.balance;\r\n       }\r\n  \r\n       public deposit(int amount){\r\n          this.balance += amount;\r\n       }\r\n\r\n       public withdraw(int amount){ \r\n          //Additional validations can be added to ensure non-negative balance, if needed\r\n          this.balance -= amount;\r\n       }\r\n    }\r\n    \r\n    public AccountDemo{\r\n       public static void main(String[] args){\r\n         Account account1 = new Account();\r\n         account1.deposit(100);\r\n         Account account2 = new Account();\r\n         account2.deposit(50);\r\n         account2.withdraw(10);\r\n         //account1 has a balance of 100 &amp; account2 has a balance of 40 at this point\r\n\r\n         AccountDemo.transferMoney(account1, account2, 20);\r\n         //account2 now has a balance of 80 (deducted by 20) \r\n         // &amp; account2 has a balance of 60(increased by 20) after the transfer.\r\n\r\n      }\r\n\r\n      public static boolean transferMoney(Account source, Account destination, int amount){\r\n        if(source.getBalance() &gt;= amount){\r\n           source.withdraw(amount);\r\n           destination.deposit(amount);\r\n           System.out.println(&quot;Transfer successful&quot;);\r\n           return true;\r\n        } else{\r\n           System.out.println(&quot;Sorry. Transfer failed due to \r\n              insufficient funds.&quot;);\r\n           return false;\r\n        }\r\n\r\n      }\r\n    }","title":"Java update value between classes","body":"<p>The <code>static</code> behaviour approach as suggested by others definitely helps achieve a solution, but, keeping in mind your opening line that you're still a beginner in Java, I'd suggest you change your Class design altogether, to make it more in line with an Object Oriented design. </p>\n\n<p>Create a class called <code>Account</code>, with <code>Balance</code> as its attribute. It makes sense to have an <code>Account</code> object (like in the real-world) that <code>HAS</code> a <code>Balance</code> attribute. The <code>withdraw</code> or <code>deposit</code> actions corresponding to an Account can be put within the same <code>Account</code> class, in line with the encapsulation paradigm of OOP/Java. This would help in making it more intuitive to understand the flow of variables within your program.</p>\n\n<pre><code>public class Account{\n   public int balance = 0;\n\n   public void setBalance(int balance){\n      this.balance = balance;\n   }\n\n   public int getBalance(){\n      return this.balance;\n   }\n\n   public deposit(int amount){\n      this.balance += amount;\n   }\n\n   public withdraw(int amount){ \n      //Additional validations can be added to ensure non-negative balance, if needed\n      this.balance -= amount;\n   }\n}\n\npublic AccountDemo{\n   public static void main(String[] args){\n     Account account1 = new Account();\n     account1.deposit(100);\n     Account account2 = new Account();\n     account2.deposit(50);\n     account2.withdraw(10);\n     //account1 has a balance of 100 &amp; account2 has a balance of 40 at this point\n\n     AccountDemo.transferMoney(account1, account2, 20);\n     //account2 now has a balance of 80 (deducted by 20) \n     // &amp; account2 has a balance of 60(increased by 20) after the transfer.\n\n  }\n\n  public static boolean transferMoney(Account source, Account destination, int amount){\n    if(source.getBalance() &gt;= amount){\n       source.withdraw(amount);\n       destination.deposit(amount);\n       System.out.println(\"Transfer successful\");\n       return true;\n    } else{\n       System.out.println(\"Sorry. Transfer failed due to \n          insufficient funds.\");\n       return false;\n    }\n\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3979186,"reputation":63,"user_id":3281576,"accept_rate":57,"display_name":"ArtisticMelody"},"score":0,"creation_date":1442271960,"post_id":32574250,"comment_id":53005560,"body_markdown":"I get this error every time i try this: Exception in thread &quot;pool-1-thread-1&quot; java.lang.NullPointerException","body":"I get this error every time i try this: Exception in thread &quot;pool-1-thread-1&quot; java.lang.NullPointerException"},{"owner":{"account_id":4816487,"reputation":4550,"user_id":3888450,"accept_rate":89,"display_name":"Stefan Dollase"},"score":0,"creation_date":1442273207,"post_id":32574250,"comment_id":53005864,"body_markdown":"Thanks, you are right. I fixed it in my answer above, by adding `= new AtomicInteger()`.","body":"Thanks, you are right. I fixed it in my answer above, by adding <code>= new AtomicInteger()</code>."}],"tags":[],"owner":{"account_id":4816487,"reputation":4550,"user_id":3888450,"accept_rate":89,"display_name":"Stefan Dollase"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442273115,"creation_date":1442266146,"answer_id":32574250,"question_id":32573707,"body_markdown":"This seems to be a problem with thread synchronization, namely lost update. This means, if you read and write the same value from multiple threads, some calculations will not be represented in the final result. You can solve this problem using the class [`AtomicInteger`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html):\r\n\r\n\tpublic class Balance {\r\n\t\tprivate AtomicInteger value = new AtomicInteger();\r\n\r\n\t\tpublic int get() {\r\n\t\t\treturn value.get();\r\n\t\t}\r\n\r\n\t\tpublic void set(int value) {\r\n\t\t\tthis.value.set(value);\r\n\t\t}\r\n\r\n\t\tpublic int addAndGet(int value) {\r\n\t\t\treturn this.value.addAndGet(value);\r\n\t\t}\r\n\t}\r\n\r\n**Right usage:**\r\n\r\n\t\tint value = balance.addAndGet(25);\r\n\r\n**Wrong usage:**\r\n\r\n\t\tint value = balance.get();\r\n\t\tvalue = value + 25;\r\n\t\tbalance.set(25);\r\n\r\nYou have to use the `addAndGet` method to prevent the problem of lost update.\r\n\r\nAlso, you should definitely not declare the `value` attribute as `static`, because then all of your `Balance` instances will hold the same value which is probably not what you want.\r\n\r\nSee also:\r\n\r\n* [Why are static variables considered evil?](https://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil)\r\n* [Java - using AtomicInteger vs Static int](https://stackoverflow.com/a/13598980/3888450)","title":"Java update value between classes","body":"<p>This seems to be a problem with thread synchronization, namely lost update. This means, if you read and write the same value from multiple threads, some calculations will not be represented in the final result. You can solve this problem using the class <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"nofollow noreferrer\"><code>AtomicInteger</code></a>:</p>\n\n<pre><code>public class Balance {\n    private AtomicInteger value = new AtomicInteger();\n\n    public int get() {\n        return value.get();\n    }\n\n    public void set(int value) {\n        this.value.set(value);\n    }\n\n    public int addAndGet(int value) {\n        return this.value.addAndGet(value);\n    }\n}\n</code></pre>\n\n<p><strong>Right usage:</strong></p>\n\n<pre><code>    int value = balance.addAndGet(25);\n</code></pre>\n\n<p><strong>Wrong usage:</strong></p>\n\n<pre><code>    int value = balance.get();\n    value = value + 25;\n    balance.set(25);\n</code></pre>\n\n<p>You have to use the <code>addAndGet</code> method to prevent the problem of lost update.</p>\n\n<p>Also, you should definitely not declare the <code>value</code> attribute as <code>static</code>, because then all of your <code>Balance</code> instances will hold the same value which is probably not what you want.</p>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/7026507/why-are-static-variables-considered-evil\">Why are static variables considered evil?</a></li>\n<li><a href=\"https://stackoverflow.com/a/13598980/3888450\">Java - using AtomicInteger vs Static int</a></li>\n</ul>\n"}],"owner":{"account_id":3979186,"reputation":63,"user_id":3281576,"accept_rate":57,"display_name":"ArtisticMelody"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8558,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":6,"score":2,"last_activity_date":1700359365,"creation_date":1442263889,"question_id":32573707,"body_markdown":"I&#39;m pretty new to Java and need some help with a program I am writing. Basically I have 2 classes that are trying to change the balance of a bank account. One class is adding deposits while the other is withdrawing. I though the easiest way to share a balance between the classes was to make a third class that looks like this:\r\n\r\n    public class Balance {\r\n\tstatic int balance;\r\n\t\r\n        public int getBalance(){\r\n            return balance;\r\n         }\r\n    \r\n        public void returnBalance(int bal){\r\n    \t    this.balance = bal;\r\n        }\r\n    }\r\n\r\nI am correctly calling the getBalance method because that is pulling in the correct balance. However, when I use my object `Balance balanceCall = new Balance();` to give the changed balance (after depositing), it is not updating the balance within the class. I think I am again calling the method correctly, but it does not appear to actually change the value of the balance variable in my balance class. Is the code in my balance class used incorrectly for the `returnBalance` method?\r\n\r\nThanks for your help!\r\n\r\n\r\nUPDATE: I changed the integer to static int balance. It is now updating the value between classes, however it seems to be creating a new value every time i do a deposit. \r\n\r\nThis is what it looks like:\r\n\r\n\r\nThread 1 deposits $76\t\t\t\t\tBalance is $76\r\n\r\nThread 8 withdraws $45\t\tBalance is $31\r\n\r\nThread 7 withdraws $12\t\tBalance is $64\r\n\r\nThread 6 withdraws $41\t\tBalance is $35\r\n\r\nThread 3 deposits $89\t\t\t\t\tBalance is $165\r\n\r\nThread 5 withdraws $10\t\tBalance is $66\r\n\r\nThread 4 withdraws $17\t\tBalance is $59\r\n\r\nThread 2 deposits $157\t\t\t\t\tBalance is $157\r\n\r\nHere is how I use the `Balance` instance:\r\n\r\n    balanceNum = balanceCall.getBalance();\r\n    balanceNum = balanceNum + 25;\r\n    balanceCall.returnBalance(balanceNum);\r\n\r\nHopefully this helps to clear things up. \r\n","title":"Java update value between classes","body":"<p>I'm pretty new to Java and need some help with a program I am writing. Basically I have 2 classes that are trying to change the balance of a bank account. One class is adding deposits while the other is withdrawing. I though the easiest way to share a balance between the classes was to make a third class that looks like this:</p>\n<pre><code>public class Balance {\nstatic int balance;\n\n    public int getBalance(){\n        return balance;\n     }\n\n    public void returnBalance(int bal){\n        this.balance = bal;\n    }\n}\n</code></pre>\n<p>I am correctly calling the getBalance method because that is pulling in the correct balance. However, when I use my object <code>Balance balanceCall = new Balance();</code> to give the changed balance (after depositing), it is not updating the balance within the class. I think I am again calling the method correctly, but it does not appear to actually change the value of the balance variable in my balance class. Is the code in my balance class used incorrectly for the <code>returnBalance</code> method?</p>\n<p>Thanks for your help!</p>\n<p>UPDATE: I changed the integer to static int balance. It is now updating the value between classes, however it seems to be creating a new value every time i do a deposit.</p>\n<p>This is what it looks like:</p>\n<p>Thread 1 deposits $76                   Balance is $76</p>\n<p>Thread 8 withdraws $45      Balance is $31</p>\n<p>Thread 7 withdraws $12      Balance is $64</p>\n<p>Thread 6 withdraws $41      Balance is $35</p>\n<p>Thread 3 deposits $89                   Balance is $165</p>\n<p>Thread 5 withdraws $10      Balance is $66</p>\n<p>Thread 4 withdraws $17      Balance is $59</p>\n<p>Thread 2 deposits $157                  Balance is $157</p>\n<p>Here is how I use the <code>Balance</code> instance:</p>\n<pre><code>balanceNum = balanceCall.getBalance();\nbalanceNum = balanceNum + 25;\nbalanceCall.returnBalance(balanceNum);\n</code></pre>\n<p>Hopefully this helps to clear things up.</p>\n"},{"tags":["java","multithreading","arraylist"],"comments":[{"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":5,"creation_date":1282966139,"post_id":3589308,"comment_id":3766257,"body_markdown":"Half and half on a string is straightly impossible, but if you have 2 threads adding 100 strings to an unsynchronized list, you may not get 200 strings in the end.","body":"Half and half on a string is straightly impossible, but if you have 2 threads adding 100 strings to an unsynchronized list, you may not get 200 strings in the end."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1282972445,"post_id":3589308,"comment_id":3766491,"body_markdown":"Yup.  See my answer for an illustration of why this can happen.","body":"Yup.  See my answer for an illustration of why this can happen."},{"owner":{"account_id":192388,"reputation":385,"user_id":433500,"accept_rate":78,"display_name":"user433500"},"score":0,"creation_date":1283027844,"post_id":3589308,"comment_id":3769853,"body_markdown":"thanks for the thorough explanations and examples","body":"thanks for the thorough explanations and examples"},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":3,"creation_date":1298843620,"post_id":3589308,"comment_id":5762954,"body_markdown":"what escapes me how such a question gets this high praise. Linking few books is a good start, I seriously doubt lack of very basic knowledge can be mended by an answer.","body":"what escapes me how such a question gets this high praise. Linking few books is a good start, I seriously doubt lack of very basic knowledge can be mended by an answer."}],"answers":[{"tags":[],"owner":{"account_id":24810,"reputation":44154,"user_id":63309,"accept_rate":70,"display_name":"Tom"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1700359056,"creation_date":1282965910,"answer_id":3589350,"question_id":3589308,"body_markdown":"When will it cause trouble? \r\n\r\nAnytime that a thread is reading the ArrayList and the other one is writing, or when they are both writing. [Here&#39;s a very known example.][1]\r\n\r\n&gt; Also, I remember that I was told that\r\n&gt; multiple threads are not really\r\n&gt; running simultaneously, 1 thread is\r\n&gt; run for sometime and another thread\r\n&gt; runs after that(on computers with a\r\n&gt; single CPU). If that was correct, how\r\n&gt; could two threads ever access the same\r\n&gt; data at the same time? Maybe thread 1\r\n&gt; will be stopped in the middle of\r\n&gt; modifying something and thread 2 will\r\n&gt; be started?\r\n\r\nYes, Single core cpus can execute only one instruction at a time (not really, [pipelining][2] has been here for a while, but as a professor once said, that&#39;s &quot;free&quot; parallelism). Even though, each process running in your computer is only executed for a period of time, then it goes to an idle state. In that moment, another process may start/continue its execution. And then go into an idle state or finish. Processes execution are interleaved.\r\n\r\nWith threads the same thing happens, only that they are contained inside a process. How they execute is dependant on the Operating System, but the concept remains the same. They change from active to idle constantly through their lifetime.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Producer-consumer_problem\r\n  [2]: http://en.wikipedia.org/wiki/Pipeline_(computing)","title":"ArrayList and Multithreading in Java","body":"<p>When will it cause trouble?</p>\n<p>Anytime that a thread is reading the ArrayList and the other one is writing, or when they are both writing. <a href=\"http://en.wikipedia.org/wiki/Producer-consumer_problem\" rel=\"nofollow noreferrer\">Here's a very known example.</a></p>\n<blockquote>\n<p>Also, I remember that I was told that\nmultiple threads are not really\nrunning simultaneously, 1 thread is\nrun for sometime and another thread\nruns after that(on computers with a\nsingle CPU). If that was correct, how\ncould two threads ever access the same\ndata at the same time? Maybe thread 1\nwill be stopped in the middle of\nmodifying something and thread 2 will\nbe started?</p>\n</blockquote>\n<p>Yes, Single core cpus can execute only one instruction at a time (not really, <a href=\"http://en.wikipedia.org/wiki/Pipeline_(computing)\" rel=\"nofollow noreferrer\">pipelining</a> has been here for a while, but as a professor once said, that's &quot;free&quot; parallelism). Even though, each process running in your computer is only executed for a period of time, then it goes to an idle state. In that moment, another process may start/continue its execution. And then go into an idle state or finish. Processes execution are interleaved.</p>\n<p>With threads the same thing happens, only that they are contained inside a process. How they execute is dependant on the Operating System, but the concept remains the same. They change from active to idle constantly through their lifetime.</p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1282966773,"creation_date":1282966047,"answer_id":3589355,"question_id":3589308,"body_markdown":"&gt; I don&#39;t really see an instance where the string is half modified, I am on the right track here?\r\n\r\nThat won&#39;t happen. However, what could happen is that only one of the strings gets added. Or that an exception occurs during the call to add.\r\n\r\n&gt; can someone please give me an example where an ArrayList causes a problem and a Vector solves it?\r\n\r\nIf you want to access a collection from multiple threads, you need to synchronize this access. However, just using a Vector does not really solve the problem. You will not get the issues described above, but the following pattern will still not work:\r\n     \r\n     // broken, even though vector is &quot;thread-safe&quot;\r\n     if (vector.isEmpty())\r\n        vector.add(1);\r\n\r\nThe Vector itself will not get corrupted, but that does not mean that it cannot get into states that your business logic would not want to have.\r\nYou need to synchronize in your application code (and then there is no need to use Vector).\r\n\r\n\r\n    synchronized(list){\r\n       if (list.isEmpty())\r\n         list.add(1);\r\n    }\r\n\r\nThe concurrency utility packages also has a number of collections that provide atomic operations necessary for thread-safe queues and such.","title":"ArrayList and Multithreading in Java","body":"<blockquote>\n  <p>I don't really see an instance where the string is half modified, I am on the right track here?</p>\n</blockquote>\n\n<p>That won't happen. However, what could happen is that only one of the strings gets added. Or that an exception occurs during the call to add.</p>\n\n<blockquote>\n  <p>can someone please give me an example where an ArrayList causes a problem and a Vector solves it?</p>\n</blockquote>\n\n<p>If you want to access a collection from multiple threads, you need to synchronize this access. However, just using a Vector does not really solve the problem. You will not get the issues described above, but the following pattern will still not work:</p>\n\n<pre><code> // broken, even though vector is \"thread-safe\"\n if (vector.isEmpty())\n    vector.add(1);\n</code></pre>\n\n<p>The Vector itself will not get corrupted, but that does not mean that it cannot get into states that your business logic would not want to have.\nYou need to synchronize in your application code (and then there is no need to use Vector).</p>\n\n<pre><code>synchronized(list){\n   if (list.isEmpty())\n     list.add(1);\n}\n</code></pre>\n\n<p>The concurrency utility packages also has a number of collections that provide atomic operations necessary for thread-safe queues and such.</p>\n"},{"comments":[{"owner":{"account_id":9943,"reputation":28532,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1282970739,"post_id":3589363,"comment_id":3766421,"body_markdown":"+1 nice example. race-condition errors are usually not able to reproduce and such examples are great help for novice","body":"+1 nice example. race-condition errors are usually not able to reproduce and such examples are great help for novice"},{"owner":{"account_id":50166,"reputation":39932,"user_id":149530,"accept_rate":100,"display_name":"Michael Foukarakis"},"score":0,"creation_date":1282974514,"post_id":3589363,"comment_id":3766585,"body_markdown":"Why? A fair example, but your answer is incomplete.","body":"Why? A fair example, but your answer is incomplete."},{"owner":{"account_id":130930,"reputation":67596,"user_id":330565,"accept_rate":79,"display_name":"Nikita Rybak"},"score":0,"creation_date":1283010476,"post_id":3589363,"comment_id":3768596,"body_markdown":"@mfukar Thanks, I just posted it and went to sleep :)  Now link added.","body":"@mfukar Thanks, I just posted it and went to sleep :)  Now link added."}],"tags":[],"owner":{"account_id":130930,"reputation":67596,"user_id":330565,"accept_rate":79,"display_name":"Nikita Rybak"},"comment_count":3,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1298843800,"creation_date":1282966157,"answer_id":3589363,"question_id":3589308,"body_markdown":"A practical example. At the end list should contain 40 items, but for me it usually shows between 30 and 35. Guess why?\r\n\r\n\r\n    static class ListTester implements Runnable {\r\n        private List&lt;Integer&gt; a;\r\n\r\n        public ListTester(List&lt;Integer&gt; a) {\r\n            this.a = a;\r\n        }\r\n\r\n        public void run() {\r\n            try {\r\n                for (int i = 0; i &lt; 20; ++i) {\r\n                    a.add(i);\r\n                    Thread.sleep(10);\r\n                }\r\n            } catch (InterruptedException e) {\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        ArrayList&lt;Integer&gt; a = new ArrayList&lt;Integer&gt;();\r\n\r\n        Thread t1 = new Thread(new ListTester(a));\r\n        Thread t2 = new Thread(new ListTester(a));\r\n\r\n        t1.start();\r\n        t2.start();\r\n        t1.join();\r\n        t2.join();\r\n        System.out.println(a.size());\r\n        for (int i = 0; i &lt; a.size(); ++i) {\r\n            System.out.println(i + &quot;  &quot; + a.get(i));\r\n        }\r\n    }\r\n\r\n**edit**  \r\nThere&#39;re more comprehensive explanations around (for example, **Stephen C**&#39;s post), but I&#39;ll make a little comment since **mfukar** asked. (should&#39;ve done it right away, when posting answer)  \r\n\r\nThis is the famous problem of incrementing integer from two different threads. There&#39;s a [nice explanation][1] in Sun&#39;s Java tutorial on concurrency. Only in that example they have `--i` and `++i` and we have `++size` twice. (`++size` is part of `ArrayList#add` implementation.)\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/essential/concurrency/interfere.html","title":"ArrayList and Multithreading in Java","body":"<p>A practical example. At the end list should contain 40 items, but for me it usually shows between 30 and 35. Guess why?</p>\n\n<pre><code>static class ListTester implements Runnable {\n    private List&lt;Integer&gt; a;\n\n    public ListTester(List&lt;Integer&gt; a) {\n        this.a = a;\n    }\n\n    public void run() {\n        try {\n            for (int i = 0; i &lt; 20; ++i) {\n                a.add(i);\n                Thread.sleep(10);\n            }\n        } catch (InterruptedException e) {\n        }\n    }\n}\n\n\npublic static void main(String[] args) throws Exception {\n    ArrayList&lt;Integer&gt; a = new ArrayList&lt;Integer&gt;();\n\n    Thread t1 = new Thread(new ListTester(a));\n    Thread t2 = new Thread(new ListTester(a));\n\n    t1.start();\n    t2.start();\n    t1.join();\n    t2.join();\n    System.out.println(a.size());\n    for (int i = 0; i &lt; a.size(); ++i) {\n        System.out.println(i + \"  \" + a.get(i));\n    }\n}\n</code></pre>\n\n<p><strong>edit</strong><br>\nThere're more comprehensive explanations around (for example, <strong>Stephen C</strong>'s post), but I'll make a little comment since <strong>mfukar</strong> asked. (should've done it right away, when posting answer)  </p>\n\n<p>This is the famous problem of incrementing integer from two different threads. There's a <a href=\"http://download.oracle.com/javase/tutorial/essential/concurrency/interfere.html\" rel=\"noreferrer\">nice explanation</a> in Sun's Java tutorial on concurrency. Only in that example they have <code>--i</code> and <code>++i</code> and we have <code>++size</code> twice. (<code>++size</code> is part of <code>ArrayList#add</code> implementation.)</p>\n"},{"tags":[],"owner":{"account_id":189669,"reputation":466,"user_id":429133,"display_name":"Amit"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1282968514,"creation_date":1282968514,"answer_id":3589427,"question_id":3589308,"body_markdown":"The first part of youe query has been already answered. I will try to answer the second part : \r\n\r\n&gt; Also, I remember that I was told that multiple threads are not really running simultaneously, 1 thread is run for sometime and another thread runs after that(on computers with a single CPU). If that was correct, how could two threads ever access the same data at the same time? Maybe thread 1 will be stopped in the middle of modifying something and thread 2 will be started?\r\n\r\nin wait-notify framework, the thread aquiring the lock on the object releases it when waiting on some condition. A great example is the producer-consumer problem. See here: [link text][1]\r\n\r\n\r\n  [1]: http://www.java2s.com/Code/Java/Threads/ProducerconsumerinJava2.htm","title":"ArrayList and Multithreading in Java","body":"<p>The first part of youe query has been already answered. I will try to answer the second part : </p>\n\n<blockquote>\n  <p>Also, I remember that I was told that multiple threads are not really running simultaneously, 1 thread is run for sometime and another thread runs after that(on computers with a single CPU). If that was correct, how could two threads ever access the same data at the same time? Maybe thread 1 will be stopped in the middle of modifying something and thread 2 will be started?</p>\n</blockquote>\n\n<p>in wait-notify framework, the thread aquiring the lock on the object releases it when waiting on some condition. A great example is the producer-consumer problem. See here: <a href=\"http://www.java2s.com/Code/Java/Threads/ProducerconsumerinJava2.htm\" rel=\"nofollow noreferrer\">link text</a></p>\n"},{"comments":[{"owner":{"account_id":1622108,"reputation":254,"user_id":1498442,"display_name":"Albert Casanovas"},"score":0,"creation_date":1455537382,"post_id":3589491,"comment_id":58518408,"body_markdown":"Hi Stephen. I understand that adding the synchronized keyword to the function that threads enter simultaneously solved the problem ? I mean, in your first example, simply defining the function as &quot;public synchronized void add(T element)&quot; solves the problem, isn&#39;t it ?","body":"Hi Stephen. I understand that adding the synchronized keyword to the function that threads enter simultaneously solved the problem ? I mean, in your first example, simply defining the function as &quot;public synchronized void add(T element)&quot; solves the problem, isn&#39;t it ?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1464248168,"post_id":3589491,"comment_id":62409161,"body_markdown":"@CAAY - Hypothetically yes.  But that code is a &quot;sketch&quot; of what is going on in the real `ArrayList.add` method.  Obviously you can&#39;t add `synchronized` to methods defined by standard classes.  So this is not a solution to the problem this Question is describing.","body":"@CAAY - Hypothetically yes.  But that code is a &quot;sketch&quot; of what is going on in the real <code>ArrayList.add</code> method.  Obviously you can&#39;t add <code>synchronized</code> to methods defined by standard classes.  So this is not a solution to the problem this Question is describing."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1449837129,"creation_date":1282970355,"answer_id":3589491,"question_id":3589308,"body_markdown":"There are three aspects of what might go wrong if you use an ArrayList (for example) without adequate synchronization.\r\n\r\nThe **first scenario** is that if two threads happen to update the ArrayList at the same time, then it may get corrupted.  For instance, the logic of appending to a list goes something like this:\r\n\r\n    public void add(T element) {\r\n        if (!haveSpace(size + 1)) {\r\n            expand(size + 1);\r\n        }\r\n        elements[size] = element;\r\n        // HERE\r\n        size++;\r\n    }\r\n\r\nNow suppose that we have one processor / core and two threads executing this code on the same list at the &quot;same time&quot;.  Suppose that the first thread gets to the point labeled `HERE` and is preempted.  The second thread comes along, and overwrites the slot in `elements` that the first thread just updated with its own element, and then increments `size`.  When the first thread finally gets control, it updates `size`.  The end result is that we&#39;ve added the second thread&#39;s element and not the first thread&#39;s element, and most likely also added a `null` to the list.  (This is just illustrative.  In reality, the native code compiler may have reordered the code, and so on.  But the point is that bad things can happen if updates happen simultaneously.)\r\n\r\nThe **second scenario** arises due to the caching of main memory contents in the CPU&#39;s cache memory.  Suppose that we have two threads, one adding elements to the list and the second one reading the list&#39;s size.  When on thread adds an element, it will update the list&#39;s `size` attribute.   However, since `size` is not `volatile`, the new value of `size` may not immediately be written out to main memory.  Instead, it could sit in the cache until a synchronization point where the Java memory model requires that cached writes get flushed.  In the meantime, the second thread could call `size()` on the list and get a stale value of `size`.  In the worst case, the second thread (calling `get(int)` for example) might see inconsistent values of `size` and the `elements` array, resulting in unexpected exceptions.  (Note that kind of problem can happen even when there is only one core and no memory caching.  The JIT compiler is free to use CPU registers to cache memory contents, and those registers don&#39;t get flushed / refreshed with respect to their memory locations when a thread context switch occurs.)\r\n\r\nThe **third scenario** arises when you synchronize operations on the `ArrayList`; e.g. by wrapping it as a `SynchronizedList`.\r\n\r\n        List list = Collections.synchronizedList(new ArrayList());\r\n\r\n        // Thread 1\r\n        List list2 = ...\r\n        for (Object element : list2) {\r\n            list.add(element);\r\n        }\r\n\r\n        // Thread 2\r\n        List list3 = ...\r\n        for (Object element : list) {\r\n            list3.add(element);\r\n        }\r\n\r\nIf thread2&#39;s list is an `ArrayList` or `LinkedList` and the two threads run simultaneously, thread 2 will fail with a `ConcurrentModificationException`.  If it is some other (home brew) list, then the results are unpredictable.  The problem is that making `list` a synchronized list is NOT SUFFICIENT to make it thread-safe with respect to a *sequence* of list operations performed by different threads.  To get that, the application would typically need to synchronize at a higher level / coarser grain.\r\n\r\n----------------\r\n\r\n&gt; Also, I remember that I was told that multiple threads are not really running simultaneously, 1 thread is run for sometime and another thread runs after that(on computers with a single CPU). \r\n\r\nCorrect.  If there is only one core available to run the application, obviously only one thread gets to run at a time.  This makes some of the hazards impossible and others become much less likely likely to occur.  However, it is possible for the OS to switch from one thread to another thread at any point in the code, and at any time.\r\n\r\n&gt; If that was correct, how could two threads ever access the same data at the same time? Maybe thread 1 will be stopped in the middle of modifying something and thread 2 will be started?\r\n\r\nYup.  That&#39;s possible.  The probability of it happening is very small&lt;sup&gt;1&lt;/sup&gt; but that just makes this kind of problem more insidious.\r\n\r\n-------------------\r\n\r\n&lt;sup&gt;1 - This is because thread time-slicing events are extremely infrequent, when measured on the timescale of hardware clock cycles.&lt;/sup&gt;","title":"ArrayList and Multithreading in Java","body":"<p>There are three aspects of what might go wrong if you use an ArrayList (for example) without adequate synchronization.</p>\n\n<p>The <strong>first scenario</strong> is that if two threads happen to update the ArrayList at the same time, then it may get corrupted.  For instance, the logic of appending to a list goes something like this:</p>\n\n<pre><code>public void add(T element) {\n    if (!haveSpace(size + 1)) {\n        expand(size + 1);\n    }\n    elements[size] = element;\n    // HERE\n    size++;\n}\n</code></pre>\n\n<p>Now suppose that we have one processor / core and two threads executing this code on the same list at the \"same time\".  Suppose that the first thread gets to the point labeled <code>HERE</code> and is preempted.  The second thread comes along, and overwrites the slot in <code>elements</code> that the first thread just updated with its own element, and then increments <code>size</code>.  When the first thread finally gets control, it updates <code>size</code>.  The end result is that we've added the second thread's element and not the first thread's element, and most likely also added a <code>null</code> to the list.  (This is just illustrative.  In reality, the native code compiler may have reordered the code, and so on.  But the point is that bad things can happen if updates happen simultaneously.)</p>\n\n<p>The <strong>second scenario</strong> arises due to the caching of main memory contents in the CPU's cache memory.  Suppose that we have two threads, one adding elements to the list and the second one reading the list's size.  When on thread adds an element, it will update the list's <code>size</code> attribute.   However, since <code>size</code> is not <code>volatile</code>, the new value of <code>size</code> may not immediately be written out to main memory.  Instead, it could sit in the cache until a synchronization point where the Java memory model requires that cached writes get flushed.  In the meantime, the second thread could call <code>size()</code> on the list and get a stale value of <code>size</code>.  In the worst case, the second thread (calling <code>get(int)</code> for example) might see inconsistent values of <code>size</code> and the <code>elements</code> array, resulting in unexpected exceptions.  (Note that kind of problem can happen even when there is only one core and no memory caching.  The JIT compiler is free to use CPU registers to cache memory contents, and those registers don't get flushed / refreshed with respect to their memory locations when a thread context switch occurs.)</p>\n\n<p>The <strong>third scenario</strong> arises when you synchronize operations on the <code>ArrayList</code>; e.g. by wrapping it as a <code>SynchronizedList</code>.</p>\n\n<pre><code>    List list = Collections.synchronizedList(new ArrayList());\n\n    // Thread 1\n    List list2 = ...\n    for (Object element : list2) {\n        list.add(element);\n    }\n\n    // Thread 2\n    List list3 = ...\n    for (Object element : list) {\n        list3.add(element);\n    }\n</code></pre>\n\n<p>If thread2's list is an <code>ArrayList</code> or <code>LinkedList</code> and the two threads run simultaneously, thread 2 will fail with a <code>ConcurrentModificationException</code>.  If it is some other (home brew) list, then the results are unpredictable.  The problem is that making <code>list</code> a synchronized list is NOT SUFFICIENT to make it thread-safe with respect to a <em>sequence</em> of list operations performed by different threads.  To get that, the application would typically need to synchronize at a higher level / coarser grain.</p>\n\n<hr>\n\n<blockquote>\n  <p>Also, I remember that I was told that multiple threads are not really running simultaneously, 1 thread is run for sometime and another thread runs after that(on computers with a single CPU). </p>\n</blockquote>\n\n<p>Correct.  If there is only one core available to run the application, obviously only one thread gets to run at a time.  This makes some of the hazards impossible and others become much less likely likely to occur.  However, it is possible for the OS to switch from one thread to another thread at any point in the code, and at any time.</p>\n\n<blockquote>\n  <p>If that was correct, how could two threads ever access the same data at the same time? Maybe thread 1 will be stopped in the middle of modifying something and thread 2 will be started?</p>\n</blockquote>\n\n<p>Yup.  That's possible.  The probability of it happening is very small<sup>1</sup> but that just makes this kind of problem more insidious.</p>\n\n<hr>\n\n<p><sup>1 - This is because thread time-slicing events are extremely infrequent, when measured on the timescale of hardware clock cycles.</sup></p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1282971272,"creation_date":1282971272,"answer_id":3589518,"question_id":3589308,"body_markdown":"You cannot control when one thread will be stopped and other will start. Thread 1 will not wait until it has completely finished adding data. There is always possible to corrupt data.","title":"ArrayList and Multithreading in Java","body":"<p>You cannot control when one thread will be stopped and other will start. Thread 1 will not wait until it has completely finished adding data. There is always possible to corrupt data.</p>\n"}],"owner":{"account_id":192388,"reputation":385,"user_id":433500,"accept_rate":78,"display_name":"user433500"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37829,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"answer_count":6,"score":26,"last_activity_date":1700359056,"creation_date":1282965013,"question_id":3589308,"body_markdown":"Under what circumstances would an unsynchronized collection, say an ArrayList, cause a problem?  I can&#39;t think of any, can someone please give me an example where an ArrayList causes a problem and a Vector solves it?  I wrote a program that have 2 threads both modifying an arraylist that has one element.  One thread puts &quot;bbb&quot; into the arraylist while the other puts &quot;aaa&quot; into the arraylist.  I don&#39;t really see an instance where the string is half modified, I am on the right track here?\r\n\r\nAlso, I remember that I was told that multiple threads are not really running simultaneously, 1 thread is run for sometime and another thread runs after that(on computers with a single CPU).  If that was correct, how could two threads ever access the same data at the same time?  Maybe thread 1 will be stopped in the middle of modifying something and thread 2 will be started?\r\n\r\nMany Thanks in advance.","title":"ArrayList and Multithreading in Java","body":"<p>Under what circumstances would an unsynchronized collection, say an ArrayList, cause a problem?  I can't think of any, can someone please give me an example where an ArrayList causes a problem and a Vector solves it?  I wrote a program that have 2 threads both modifying an arraylist that has one element.  One thread puts \"bbb\" into the arraylist while the other puts \"aaa\" into the arraylist.  I don't really see an instance where the string is half modified, I am on the right track here?</p>\n\n<p>Also, I remember that I was told that multiple threads are not really running simultaneously, 1 thread is run for sometime and another thread runs after that(on computers with a single CPU).  If that was correct, how could two threads ever access the same data at the same time?  Maybe thread 1 will be stopped in the middle of modifying something and thread 2 will be started?</p>\n\n<p>Many Thanks in advance.</p>\n"},{"tags":["java","unit-testing","rx-java"],"comments":[{"owner":{"account_id":6837280,"reputation":129,"user_id":5258719,"accept_rate":86,"display_name":"Finix"},"score":0,"creation_date":1700357466,"post_id":77509240,"comment_id":136644739,"body_markdown":"I figured out one workaround by myself. Make the first parameter ```long time``` got from one method, e.g. ```xxx.delay(getDelayTime(), TimeUnit.MILLISECONDS)```. Then we can mock ```getDelayTime()```...","body":"I figured out one workaround by myself. Make the first parameter <code>long time</code> got from one method, e.g. <code>xxx.delay(getDelayTime(), TimeUnit.MILLISECONDS)</code>. Then we can mock <code>getDelayTime()</code>..."}],"owner":{"account_id":6837280,"reputation":129,"user_id":5258719,"accept_rate":86,"display_name":"Finix"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700356333,"creation_date":1700355351,"question_id":77509240,"body_markdown":"I am using RxJava3. Its ```Completable``` has one non-static method ```delay(long time, TimeUnit unit)```.  \r\nI want to mock this ```delay``` method in my Unit Test by skipping it directly or delay a very short time, e.g. 1ms. Is it possible?  \r\n(It looks like cannot mock ```Completable```, as it will impact the normal functionality.  )","title":"How to mock Completable&#39;s delay() in RxJava?","body":"<p>I am using RxJava3. Its <code>Completable</code> has one non-static method <code>delay(long time, TimeUnit unit)</code>.<br />\nI want to mock this <code>delay</code> method in my Unit Test by skipping it directly or delay a very short time, e.g. 1ms. Is it possible?<br />\n(It looks like cannot mock <code>Completable</code>, as it will impact the normal functionality.  )</p>\n"},{"tags":["java","spring","maven","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":3252686,"reputation":252,"user_id":2742554,"accept_rate":100,"display_name":"Kuldeep S Chauhan"},"score":0,"creation_date":1467969018,"post_id":38245973,"comment_id":63945478,"body_markdown":"Try annonating your SecurityConfiguration.class with @EnableWebSecurity and your CustomUserDetailsService.class with @ Component.","body":"Try annonating your SecurityConfiguration.class with @EnableWebSecurity and your CustomUserDetailsService.class with @ Component."},{"owner":{"account_id":4427596,"reputation":887,"user_id":3605642,"display_name":"Michal Lonski"},"score":1,"creation_date":1487965060,"post_id":38245973,"comment_id":72037402,"body_markdown":"Is your database set up and running? This error &quot;Error creating bean with name &#39;entityManagerFactory&#39;&quot; often means problems with database connection.","body":"Is your database set up and running? This error &quot;Error creating bean with name &#39;entityManagerFactory&#39;&quot; often means problems with database connection."},{"owner":{"account_id":10456748,"reputation":587,"user_id":7708750,"accept_rate":78,"display_name":"naila naseem"},"score":0,"creation_date":1522502797,"post_id":38245973,"comment_id":86184179,"body_markdown":"@Mandy did you find solution ?","body":"@Mandy did you find solution ?"}],"answers":[{"tags":[],"owner":{"account_id":6125856,"reputation":1,"user_id":4777881,"display_name":"Amarnath Pathak"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1505375322,"creation_date":1505370933,"answer_id":46212110,"question_id":38245973,"body_markdown":"Annotate your `SecurityConfiguration` with `@EnableWebSecurity`","title":"How to implement Role Permission based system in Spring Boot","body":"<p>Annotate your <code>SecurityConfiguration</code> with <code>@EnableWebSecurity</code></p>\n"},{"tags":[],"owner":{"account_id":1374386,"reputation":3070,"user_id":1308685,"accept_rate":88,"display_name":"Jeremy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581877436,"creation_date":1581877436,"answer_id":60251716,"question_id":38245973,"body_markdown":"As Michal pointed out, this is a DB problem -  \r\n\r\n&lt;pre&gt;\r\nError creating bean with name &#39;entityManagerFactory&#39; defined in class path resource[org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: \r\nInvocation of init method failed; nested exception is javax.persistence.PersistenceException: \r\n[PersistenceUnit: default] Unable to build Hibernate SessionFactory at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334)\r\n&lt;/pre&gt; \r\n\r\nYour MySQL DB may not be running, or you may not have provided the datasource connection in the spring properties [I see you have a MySQL dependency reference]\r\n \r\nFor debugging or test cases you might try H2 -  \r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/com.h2database/h2 --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    &lt;version&gt;1.4.200&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n``` \r\n","title":"How to implement Role Permission based system in Spring Boot","body":"<p>As Michal pointed out, this is a DB problem -  </p>\n\n<pre>\nError creating bean with name 'entityManagerFactory' defined in class path resource[org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: \nInvocation of init method failed; nested exception is javax.persistence.PersistenceException: \n[PersistenceUnit: default] Unable to build Hibernate SessionFactory at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334)\n</pre> \n\n<p>Your MySQL DB may not be running, or you may not have provided the datasource connection in the spring properties [I see you have a MySQL dependency reference]</p>\n\n<p>For debugging or test cases you might try H2 -  </p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.h2database/h2 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;version&gt;1.4.200&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4206151,"reputation":1103,"user_id":5361990,"accept_rate":35,"display_name":"Mandy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700355920,"creation_date":1467895851,"question_id":38245973,"body_markdown":"I am trying to implement role permissions based system using spring boot and spring security. For this, I have taken an example from [http://www.baeldung.com/role-and-privilege-for-spring-security-registration][1]\r\n, but failed to do that.\r\n\r\n**Efforts**\r\n\r\n**SpringSecurity Configuration**\r\n\r\n    package com.insight;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.WebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.authentication.AuthenticationFailureHandler;\r\n    import org.springframework.security.web.authentication.AuthenticationSuccessHandler;\r\n    import org.springframework.security.web.authentication.logout.LogoutSuccessHandler;\r\n    import org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n     \r\n    @Configuration\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter{\r\n        \t\r\n        \t@Autowired\r\n            private UserDetailsService userDetailsService;\r\n    \r\n            @Autowired\r\n            private AuthenticationSuccessHandler myAuthenticationSuccessHandler;\r\n    \r\n            @Autowired\r\n            private LogoutSuccessHandler myLogoutSuccessHandler;\r\n    \r\n            @Autowired\r\n            private AuthenticationFailureHandler authenticationFailureHandler;\r\n        \t\r\n        \t@Override\r\n            protected void configure(final AuthenticationManagerBuilder auth) throws Exception {\r\n                auth.authenticationProvider(authProvider());\r\n            }\r\n    \r\n            @Override\r\n            public void configure(final WebSecurity web) throws Exception {\r\n                web.ignoring().antMatchers(&quot;/resources/**&quot;);\r\n            }\r\n            \r\n        \t@Override\r\n            protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n                httpSecurity.authorizeRequests()\r\n            \t.antMatchers(&quot;/js/**&quot;,&quot;/css/**&quot;,&quot;/images/**&quot;,&quot;/fonts/**&quot;).permitAll()\r\n            \t.antMatchers(&quot;/user/signup/**&quot;,&quot;/about&quot;, &quot;/&quot;,&quot;/user/login/&quot;).permitAll() // #4\r\n            \t.anyRequest().authenticated() // 7\r\n            \t.and()\r\n            \t.formLogin().failureUrl(&quot;/user/login?error=true&quot;)\r\n                .defaultSuccessUrl(&quot;/&quot;)\r\n                .loginProcessingUrl(&quot;/user/validateLogin&quot;)\r\n                .usernameParameter(&quot;email&quot;)\r\n                .passwordParameter(&quot;password&quot;)\r\n                .loginPage(&quot;/user/login&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .logout().logoutRequestMatcher(new AntPathRequestMatcher(&quot;/user/logout&quot;)).logoutSuccessUrl(&quot;/user/login&quot;)\r\n                .permitAll();\r\n            }\r\n        \t@Bean\r\n            public DaoAuthenticationProvider authProvider() {\r\n                final DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n                authProvider.setUserDetailsService(userDetailsService);\r\n                authProvider.setPasswordEncoder(encoder());\r\n                return authProvider;\r\n            }\r\n    \r\n            @Bean\r\n            public PasswordEncoder encoder() {\r\n                return new BCryptPasswordEncoder(11);\r\n            }\r\n        }\r\n\r\n**User Model**\r\n\r\n    package com.insight.models;\r\n    \r\n    import java.util.Collection;\r\n    import java.util.Date;\r\n    import java.util.Set;\r\n    \r\n    import javax.persistence.CascadeType;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.JoinColumn;\r\n    import javax.persistence.JoinTable;\r\n    import javax.persistence.OneToMany;\r\n    import javax.persistence.OneToOne;\r\n    import javax.persistence.PrePersist;\r\n    import javax.persistence.PreUpdate;\r\n    import javax.persistence.Table;\r\n    import javax.validation.constraints.NotNull;\r\n    import org.hibernate.validator.constraints.Email;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n    \r\n    \t\r\n    \t // An autogenerated id (unique for each user in the db)\r\n    \t  @Id\r\n    \t  @GeneratedValue(strategy = GenerationType.AUTO)\r\n    \t  private Long id;\r\n    \t  \r\n    \t  @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n    \t  private Set&lt;Address&gt; addresses;\r\n    \t  \r\n    \t  @NotNull\r\n    \t  @OneToOne(cascade = CascadeType.ALL)\r\n    \t  @JoinColumn(name = &quot;title&quot;)\r\n    \t  private Configuration title;\r\n    \t  \r\n    \t  @OneToOne(cascade=CascadeType.ALL)\r\n    \t    @JoinTable(name=&quot;user_roles&quot;,\r\n    \t        joinColumns = {@JoinColumn(name=&quot;user_id&quot;, referencedColumnName=&quot;id&quot;)},\r\n    \t        inverseJoinColumns = {@JoinColumn(name=&quot;role_id&quot;, referencedColumnName=&quot;id&quot;)}\r\n    \t    )\r\n    \t    private Collection&lt;Role&gt; roles;\r\n    \t  \r\n    \t  @NotNull\r\n    \t  private String firstName;\r\n    \t  @NotNull\r\n    \t  private String lastName;\r\n    \t  \r\n    \t  @NotNull\r\n    \t  @Column(unique = true)\r\n    \t  @Email\r\n    \t  private String email;\r\n    \t  @NotNull\r\n    \t  private String password;\r\n    \t  \r\n    \t  private String profileImage;\r\n    \t  \t  \r\n    \t  @Column(name = &quot;created_at&quot;)\r\n    \t  private Date createdAt;\r\n    \t  @Column(name = &quot;created_by&quot;)\r\n    \t  private String createdBy;\r\n    \t  \r\n    \t  @Column(name = &quot;updated_at&quot;)\r\n    \t  private Date updatedAt;\r\n    \t  @Column(name = &quot;updated_by&quot;)\r\n    \t  private String updatedBy;\r\n    \t  \r\n    \t  private String status;\r\n    \t  private String deleteFlag;\r\n    \t  private String confirmationCode;\r\n    \t  private String lastLoginAt;\r\n    \t  private boolean enabled;\r\n    \t  private boolean tokenExpired;\r\n    \t  \r\n    \t  public User() {\r\n    \t        super();\r\n    \t        this.enabled = false;\r\n    \t    }\r\n    \r\n    \t  @PrePersist\r\n    \t  void createdAt() {\r\n    \t    this.createdAt = this.updatedAt = new Date();\r\n    \t  }\r\n    \r\n    \t  @PreUpdate\r\n    \t  void updatedAt() {\r\n    \t    this.updatedAt = new Date();\r\n    \t  }\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic Set&lt;Address&gt; getAddresses() {\r\n    \t\treturn addresses;\r\n    \t}\r\n    \r\n    \tpublic void setAddresses(Set&lt;Address&gt; addresses) {\r\n    \t\tthis.addresses = addresses;\r\n    \t}\r\n    \r\n    \tpublic Configuration getTitle() {\r\n    \t\treturn title;\r\n    \t}\r\n    \r\n    \tpublic void setTitle(Configuration title) {\r\n    \t\tthis.title = title;\r\n    \t}\r\n    \r\n    \t\r\n    \r\n    \tpublic Collection&lt;Role&gt; getRoles() {\r\n    \t\treturn roles;\r\n    \t}\r\n    \r\n    \tpublic void setRoles(Collection&lt;Role&gt; roles) {\r\n    \t\tthis.roles = roles;\r\n    \t}\r\n    \r\n    \tpublic String getFirstName() {\r\n    \t\treturn firstName;\r\n    \t}\r\n    \r\n    \tpublic void setFirstName(String firstName) {\r\n    \t\tthis.firstName = firstName;\r\n    \t}\r\n    \r\n    \tpublic String getLastName() {\r\n    \t\treturn lastName;\r\n    \t}\r\n    \r\n    \tpublic void setLastName(String lastName) {\r\n    \t\tthis.lastName = lastName;\r\n    \t}\r\n    \r\n    \tpublic String getEmail() {\r\n    \t\treturn email;\r\n    \t}\r\n    \r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \r\n    \tpublic String getPassword() {\r\n    \t\treturn password;\r\n    \t}\r\n    \r\n    \tpublic void setPassword(String password) {\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \r\n    \tpublic String getProfileImage() {\r\n    \t\treturn profileImage;\r\n    \t}\r\n    \r\n    \tpublic void setProfileImage(String profileImage) {\r\n    \t\tthis.profileImage = profileImage;\r\n    \t}\r\n    \r\n    \tpublic Date getCreatedAt() {\r\n    \t\treturn createdAt;\r\n    \t}\r\n    \r\n    \tpublic void setCreatedAt(Date createdAt) {\r\n    \t\tthis.createdAt = createdAt;\r\n    \t}\r\n    \r\n    \tpublic String getCreatedBy() {\r\n    \t\treturn createdBy;\r\n    \t}\r\n    \r\n    \tpublic void setCreatedBy(String createdBy) {\r\n    \t\tthis.createdBy = createdBy;\r\n    \t}\r\n    \r\n    \tpublic Date getUpdatedAt() {\r\n    \t\treturn updatedAt;\r\n    \t}\r\n    \r\n    \tpublic void setUpdatedAt(Date updatedAt) {\r\n    \t\tthis.updatedAt = updatedAt;\r\n    \t}\r\n    \r\n    \tpublic String getUpdatedBy() {\r\n    \t\treturn updatedBy;\r\n    \t}\r\n    \r\n    \tpublic void setUpdatedBy(String updatedBy) {\r\n    \t\tthis.updatedBy = updatedBy;\r\n    \t}\r\n    \r\n    \tpublic String getStatus() {\r\n    \t\treturn status;\r\n    \t}\r\n    \r\n    \tpublic void setStatus(String status) {\r\n    \t\tthis.status = status;\r\n    \t}\r\n    \r\n    \tpublic String getDeleteFlag() {\r\n    \t\treturn deleteFlag;\r\n    \t}\r\n    \r\n    \tpublic void setDeleteFlag(String deleteFlag) {\r\n    \t\tthis.deleteFlag = deleteFlag;\r\n    \t}\r\n    \r\n    \tpublic String getConfirmationCode() {\r\n    \t\treturn confirmationCode;\r\n    \t}\r\n    \r\n    \tpublic void setConfirmationCode(String confirmationCode) {\r\n    \t\tthis.confirmationCode = confirmationCode;\r\n    \t}\r\n    \r\n    \tpublic String getLastLoginAt() {\r\n    \t\treturn lastLoginAt;\r\n    \t}\r\n    \r\n    \tpublic void setLastLoginAt(String lastLoginAt) {\r\n    \t\tthis.lastLoginAt = lastLoginAt;\r\n    \t}\r\n    \r\n    \tpublic boolean isEnabled() {\r\n    \t\treturn enabled;\r\n    \t}\r\n    \r\n    \tpublic void setEnabled(boolean enabled) {\r\n    \t\tthis.enabled = enabled;\r\n    \t}\r\n    \r\n    \tpublic boolean isTokenExpired() {\r\n    \t\treturn tokenExpired;\r\n    \t}\r\n    \r\n    \tpublic void setTokenExpired(boolean tokenExpired) {\r\n    \t\tthis.tokenExpired = tokenExpired;\r\n    \t}\r\n    \t@Override\r\n        public int hashCode() {\r\n            final int prime = 31;\r\n            int result = 1;\r\n            result = (prime * result) + ((email == null) ? 0 : email.hashCode());\r\n            return result;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(final Object obj) {\r\n            if (this == obj) {\r\n                return true;\r\n            }\r\n            if (obj == null) {\r\n                return false;\r\n            }\r\n            if (getClass() != obj.getClass()) {\r\n                return false;\r\n            }\r\n            final User user = (User) obj;\r\n            if (!email.equals(user.email)) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            final StringBuilder builder = new StringBuilder();\r\n            builder.append(&quot;User [firstName=&quot;).append(firstName).append(&quot;]&quot;).append(&quot;[lastName=&quot;).append(lastName).append(&quot;]&quot;).append(&quot;[username&quot;).append(email).append(&quot;]&quot;);\r\n            return builder.toString();\r\n        }\r\n    \t\r\n    }\r\n\r\n**Role Model**\r\n\r\n    package com.insight.models;\r\n    \r\n    import java.util.Collection;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.JoinColumn;\r\n    import javax.persistence.JoinTable;\r\n    import javax.persistence.ManyToMany;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name=&quot;roles&quot;)\r\n    public class Role {\r\n         \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n         \r\n        private String name;\r\n         \r\n        @ManyToMany(mappedBy = &quot;roles&quot;)\r\n        private Collection&lt;User&gt; userRoles;\r\n        \r\n        @ManyToMany\r\n        @JoinTable(\r\n            name = &quot;roles_privileges&quot;, \r\n            joinColumns = @JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;), \r\n            inverseJoinColumns = @JoinColumn(name = &quot;permission_id&quot;, referencedColumnName = &quot;id&quot;))\r\n        private Collection&lt;Permission&gt; permissions;\r\n     \r\n        public Role(String name) {\r\n    \t\tthis.name=name;\r\n    \t}\r\n    \r\n    \tpublic Long getId() {\r\n            return id;\r\n        }\r\n     \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n     \r\n         \r\n        public String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic Collection&lt;User&gt; getUserRoles() {\r\n            return userRoles;\r\n        }\r\n     \r\n        public void setUserRoles(Collection&lt;User&gt; userRoles) {\r\n            this.userRoles = userRoles;\r\n        }\r\n    \r\n    \tpublic Collection&lt;Permission&gt; getPermissions() {\r\n    \t\treturn permissions;\r\n    \t}\r\n    \r\n    \tpublic void setPermissions(Collection&lt;Permission&gt; permissions) {\r\n    \t\tthis.permissions = permissions;\r\n    \t}\r\n         \r\n    \t@Override\r\n        public int hashCode() {\r\n            final int prime = 31;\r\n            int result = 1;\r\n            result = prime * result + ((name == null) ? 0 : name.hashCode());\r\n            return result;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(final Object obj) {\r\n            if (this == obj) {\r\n                return true;\r\n            }\r\n            if (obj == null) {\r\n                return false;\r\n            }\r\n            if (getClass() != obj.getClass()) {\r\n                return false;\r\n            }\r\n            final Role role = (Role) obj;\r\n            if (!role.equals(role.name)) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            final StringBuilder builder = new StringBuilder();\r\n            builder.append(&quot;Role [name=&quot;).append(name).append(&quot;]&quot;).append(&quot;[id=&quot;).append(id).append(&quot;]&quot;);\r\n            return builder.toString();\r\n        }\r\n    }\r\n\r\n**Permission Model**\r\n\r\n    package com.insight.models;\r\n    \r\n    import java.util.Collection;\r\n    \r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.ManyToMany;\r\n    \r\n    public class Permission {\r\n    \r\n    \t@Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n     \r\n        private String name;\r\n     \r\n        @ManyToMany(mappedBy = &quot;permissions&quot;)\r\n        private Collection&lt;Role&gt; roles;\r\n    \r\n    \tpublic Permission(String name2) {\r\n    \t\tname = name;\r\n    \t}\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic Collection&lt;Role&gt; getRoles() {\r\n    \t\treturn roles;\r\n    \t}\r\n    \r\n    \tpublic void setRoles(Collection&lt;Role&gt; roles) {\r\n    \t\tthis.roles = roles;\r\n    \t}\r\n        \r\n    \t@Override\r\n        public int hashCode() {\r\n            final int prime = 31;\r\n            int result = 1;\r\n            result = prime * result + ((name == null) ? 0 : name.hashCode());\r\n            return result;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if (this == obj)\r\n                return true;\r\n            if (obj == null)\r\n                return false;\r\n            if (getClass() != obj.getClass())\r\n                return false;\r\n            Permission other = (Permission) obj;\r\n            if (name == null) {\r\n                if (other.name != null)\r\n                    return false;\r\n            } else if (!name.equals(other.name))\r\n                return false;\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            final StringBuilder builder = new StringBuilder();\r\n            builder.append(&quot;Permission [name=&quot;).append(name).append(&quot;]&quot;).append(&quot;[id=&quot;).append(id).append(&quot;]&quot;);\r\n            return builder.toString();\r\n        }\r\n    }\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.insight&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;insight&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;insight&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.3.5.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;thymeleaf-extras-springsecurity4&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t &lt;dependency&gt;\r\n    \t\t \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t \t&lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n    \t\t &lt;/dependency&gt;\r\n    \t\t &lt;dependency&gt;\r\n    \t\t \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t \t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    \t\t \t&lt;version&gt;1.3.6.RELEASE&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n    \t\t &lt;/dependency&gt;\r\n    \t\t &lt;dependency&gt;\r\n    \t\t \t&lt;groupId&gt;org.passay&lt;/groupId&gt;\r\n    \t\t \t&lt;artifactId&gt;passay&lt;/artifactId&gt;\r\n    \t\t \t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t\t &lt;/dependency&gt;\r\n    \t\t &lt;dependency&gt;\r\n    \t\t \t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    \t\t \t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    \t\t \t&lt;version&gt;19.0&lt;/version&gt;\r\n    \t\t &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;  \t\r\n    &lt;/project&gt;\r\n\r\n**CustomUserDetailsService**\r\n\r\n    package com.insight.services;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n     \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.MessageSource;\r\n    import org.springframework.security.core.GrantedAuthority;\r\n    import org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    import com.insight.models.Permission;\r\n    import com.insight.models.Role;\r\n    import com.insight.models.User;\r\n    import com.insight.repositories.RoleRepository;\r\n    import com.insight.repositories.UserRepository;\r\n     \r\n    \r\n     \r\n    @Service(&quot;userDetailsService&quot;)\r\n    @Transactional\r\n    public class CustomUserDetailsService implements UserDetailsService {\r\n         \r\n    \t@Autowired\r\n        private UserRepository userRepository;\r\n        @Autowired\r\n        private IUserService service;\r\n        @Autowired\r\n        private MessageSource messages;\r\n        @Autowired\r\n        private RoleRepository roleRepository;\r\n     \r\n        @Override\r\n        public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n            User user = userRepository.findByEmail(email);\r\n            if (user == null) {\r\n                return new org.springframework.security.core.userdetails.User(\r\n                  &quot; &quot;, &quot; &quot;, true, true, true, true, \r\n                  getAuthorities(Arrays.asList(roleRepository.findByName(&quot;ROLE_USER&quot;))));\r\n            }\r\n     \r\n            return new org.springframework.security.core.userdetails.User(\r\n              user.getEmail(), user.getPassword(), user.isEnabled(), true, true, \r\n              true, getAuthorities(user.getRoles()));\r\n        }\r\n     \r\n        private Collection&lt;? extends GrantedAuthority&gt; getAuthorities(Collection&lt;Role&gt; roles) {\r\n            return getGrantedAuthorities(getPrivileges(roles));\r\n        }\r\n     \r\n        private List&lt;String&gt; getPrivileges(Collection&lt;Role&gt; roles) {\r\n            List&lt;String&gt; privileges = new ArrayList&lt;String&gt;();\r\n            List&lt;Permission&gt; collection = new ArrayList&lt;Permission&gt;();\r\n            for (Role role : roles) {\r\n                collection.addAll(role.getPermissions());\r\n            }\r\n            for (Permission item : collection) {\r\n                privileges.add(item.getName());\r\n            }\r\n            return privileges;\r\n        }\r\n     \r\n        private List&lt;GrantedAuthority&gt; getGrantedAuthorities(List&lt;String&gt; privileges) {\r\n            List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;GrantedAuthority&gt;();\r\n            for (String privilege : privileges) {\r\n                authorities.add(new SimpleGrantedAuthority(privilege));\r\n            }\r\n            return authorities;\r\n        }\r\n    }\r\n\r\nThere some etc. classes also there, but I am not posting due to large segment, if anyone requires specifics, I will post.\r\n\r\nWhen I tried to run, I am getting following error on console:\r\n\r\n&gt;    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire method: public void org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.setFilterChainProxySecurityConfigurer(org.springframework.security.config.annotation.ObjectPostProcessor,java.util.List) throws java.lang.Exception; nested exception is org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;securityConfiguration&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.springframework.security.core.userdetails.UserDetailsService com.insight.SecurityConfiguration.userDetailsService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userDetailsService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.insight.repositories.UserRepository com.insight.services.CustomUserDetailsService.userRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39;: Cannot create inner bean &#39;(inner bean)#778bd3a2&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#778bd3a2&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334) ~[spring-beans-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214) ~[spring-beans-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) ~[spring-beans-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:368) ~[spring-beans-4.2.6.RELEASE.jar:4.2.6.RELEASE]\r\n    \tat \r\n\r\nPlease friends help me.\r\n  [1]: http://www.baeldung.com/role-and-privilege-for-spring-security-registration\r\n\r\n\r\n\r\n","title":"How to implement Role Permission based system in Spring Boot","body":"<p>I am trying to implement role permissions based system using spring boot and spring security. For this, I have taken an example from <a href=\"http://www.baeldung.com/role-and-privilege-for-spring-security-registration\" rel=\"nofollow\">http://www.baeldung.com/role-and-privilege-for-spring-security-registration</a>\n, but failed to do that.</p>\n\n<p><strong>Efforts</strong></p>\n\n<p><strong>SpringSecurity Configuration</strong></p>\n\n<pre><code>package com.insight;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.builders.WebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.authentication.AuthenticationFailureHandler;\nimport org.springframework.security.web.authentication.AuthenticationSuccessHandler;\nimport org.springframework.security.web.authentication.logout.LogoutSuccessHandler;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\n@Configuration\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter{\n\n        @Autowired\n        private UserDetailsService userDetailsService;\n\n        @Autowired\n        private AuthenticationSuccessHandler myAuthenticationSuccessHandler;\n\n        @Autowired\n        private LogoutSuccessHandler myLogoutSuccessHandler;\n\n        @Autowired\n        private AuthenticationFailureHandler authenticationFailureHandler;\n\n        @Override\n        protected void configure(final AuthenticationManagerBuilder auth) throws Exception {\n            auth.authenticationProvider(authProvider());\n        }\n\n        @Override\n        public void configure(final WebSecurity web) throws Exception {\n            web.ignoring().antMatchers(\"/resources/**\");\n        }\n\n        @Override\n        protected void configure(HttpSecurity httpSecurity) throws Exception {\n            httpSecurity.authorizeRequests()\n            .antMatchers(\"/js/**\",\"/css/**\",\"/images/**\",\"/fonts/**\").permitAll()\n            .antMatchers(\"/user/signup/**\",\"/about\", \"/\",\"/user/login/\").permitAll() // #4\n            .anyRequest().authenticated() // 7\n            .and()\n            .formLogin().failureUrl(\"/user/login?error=true\")\n            .defaultSuccessUrl(\"/\")\n            .loginProcessingUrl(\"/user/validateLogin\")\n            .usernameParameter(\"email\")\n            .passwordParameter(\"password\")\n            .loginPage(\"/user/login\")\n            .permitAll()\n            .and()\n            .logout().logoutRequestMatcher(new AntPathRequestMatcher(\"/user/logout\")).logoutSuccessUrl(\"/user/login\")\n            .permitAll();\n        }\n        @Bean\n        public DaoAuthenticationProvider authProvider() {\n            final DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n            authProvider.setUserDetailsService(userDetailsService);\n            authProvider.setPasswordEncoder(encoder());\n            return authProvider;\n        }\n\n        @Bean\n        public PasswordEncoder encoder() {\n            return new BCryptPasswordEncoder(11);\n        }\n    }\n</code></pre>\n\n<p><strong>User Model</strong></p>\n\n<pre><code>package com.insight.models;\n\nimport java.util.Collection;\nimport java.util.Date;\nimport java.util.Set;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.JoinTable;\nimport javax.persistence.OneToMany;\nimport javax.persistence.OneToOne;\nimport javax.persistence.PrePersist;\nimport javax.persistence.PreUpdate;\nimport javax.persistence.Table;\nimport javax.validation.constraints.NotNull;\nimport org.hibernate.validator.constraints.Email;\n\n@Entity\n@Table(name = \"users\")\npublic class User {\n\n\n     // An autogenerated id (unique for each user in the db)\n      @Id\n      @GeneratedValue(strategy = GenerationType.AUTO)\n      private Long id;\n\n      @OneToMany(mappedBy = \"user\", cascade = CascadeType.ALL)\n      private Set&lt;Address&gt; addresses;\n\n      @NotNull\n      @OneToOne(cascade = CascadeType.ALL)\n      @JoinColumn(name = \"title\")\n      private Configuration title;\n\n      @OneToOne(cascade=CascadeType.ALL)\n        @JoinTable(name=\"user_roles\",\n            joinColumns = {@JoinColumn(name=\"user_id\", referencedColumnName=\"id\")},\n            inverseJoinColumns = {@JoinColumn(name=\"role_id\", referencedColumnName=\"id\")}\n        )\n        private Collection&lt;Role&gt; roles;\n\n      @NotNull\n      private String firstName;\n      @NotNull\n      private String lastName;\n\n      @NotNull\n      @Column(unique = true)\n      @Email\n      private String email;\n      @NotNull\n      private String password;\n\n      private String profileImage;\n\n      @Column(name = \"created_at\")\n      private Date createdAt;\n      @Column(name = \"created_by\")\n      private String createdBy;\n\n      @Column(name = \"updated_at\")\n      private Date updatedAt;\n      @Column(name = \"updated_by\")\n      private String updatedBy;\n\n      private String status;\n      private String deleteFlag;\n      private String confirmationCode;\n      private String lastLoginAt;\n      private boolean enabled;\n      private boolean tokenExpired;\n\n      public User() {\n            super();\n            this.enabled = false;\n        }\n\n      @PrePersist\n      void createdAt() {\n        this.createdAt = this.updatedAt = new Date();\n      }\n\n      @PreUpdate\n      void updatedAt() {\n        this.updatedAt = new Date();\n      }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public Set&lt;Address&gt; getAddresses() {\n        return addresses;\n    }\n\n    public void setAddresses(Set&lt;Address&gt; addresses) {\n        this.addresses = addresses;\n    }\n\n    public Configuration getTitle() {\n        return title;\n    }\n\n    public void setTitle(Configuration title) {\n        this.title = title;\n    }\n\n\n\n    public Collection&lt;Role&gt; getRoles() {\n        return roles;\n    }\n\n    public void setRoles(Collection&lt;Role&gt; roles) {\n        this.roles = roles;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getProfileImage() {\n        return profileImage;\n    }\n\n    public void setProfileImage(String profileImage) {\n        this.profileImage = profileImage;\n    }\n\n    public Date getCreatedAt() {\n        return createdAt;\n    }\n\n    public void setCreatedAt(Date createdAt) {\n        this.createdAt = createdAt;\n    }\n\n    public String getCreatedBy() {\n        return createdBy;\n    }\n\n    public void setCreatedBy(String createdBy) {\n        this.createdBy = createdBy;\n    }\n\n    public Date getUpdatedAt() {\n        return updatedAt;\n    }\n\n    public void setUpdatedAt(Date updatedAt) {\n        this.updatedAt = updatedAt;\n    }\n\n    public String getUpdatedBy() {\n        return updatedBy;\n    }\n\n    public void setUpdatedBy(String updatedBy) {\n        this.updatedBy = updatedBy;\n    }\n\n    public String getStatus() {\n        return status;\n    }\n\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n    public String getDeleteFlag() {\n        return deleteFlag;\n    }\n\n    public void setDeleteFlag(String deleteFlag) {\n        this.deleteFlag = deleteFlag;\n    }\n\n    public String getConfirmationCode() {\n        return confirmationCode;\n    }\n\n    public void setConfirmationCode(String confirmationCode) {\n        this.confirmationCode = confirmationCode;\n    }\n\n    public String getLastLoginAt() {\n        return lastLoginAt;\n    }\n\n    public void setLastLoginAt(String lastLoginAt) {\n        this.lastLoginAt = lastLoginAt;\n    }\n\n    public boolean isEnabled() {\n        return enabled;\n    }\n\n    public void setEnabled(boolean enabled) {\n        this.enabled = enabled;\n    }\n\n    public boolean isTokenExpired() {\n        return tokenExpired;\n    }\n\n    public void setTokenExpired(boolean tokenExpired) {\n        this.tokenExpired = tokenExpired;\n    }\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = (prime * result) + ((email == null) ? 0 : email.hashCode());\n        return result;\n    }\n\n    @Override\n    public boolean equals(final Object obj) {\n        if (this == obj) {\n            return true;\n        }\n        if (obj == null) {\n            return false;\n        }\n        if (getClass() != obj.getClass()) {\n            return false;\n        }\n        final User user = (User) obj;\n        if (!email.equals(user.email)) {\n            return false;\n        }\n        return true;\n    }\n\n    @Override\n    public String toString() {\n        final StringBuilder builder = new StringBuilder();\n        builder.append(\"User [firstName=\").append(firstName).append(\"]\").append(\"[lastName=\").append(lastName).append(\"]\").append(\"[username\").append(email).append(\"]\");\n        return builder.toString();\n    }\n\n}\n</code></pre>\n\n<p><strong>Role Model</strong></p>\n\n<pre><code>package com.insight.models;\n\nimport java.util.Collection;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.JoinTable;\nimport javax.persistence.ManyToMany;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name=\"roles\")\npublic class Role {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private String name;\n\n    @ManyToMany(mappedBy = \"roles\")\n    private Collection&lt;User&gt; userRoles;\n\n    @ManyToMany\n    @JoinTable(\n        name = \"roles_privileges\", \n        joinColumns = @JoinColumn(name = \"role_id\", referencedColumnName = \"id\"), \n        inverseJoinColumns = @JoinColumn(name = \"permission_id\", referencedColumnName = \"id\"))\n    private Collection&lt;Permission&gt; permissions;\n\n    public Role(String name) {\n        this.name=name;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Collection&lt;User&gt; getUserRoles() {\n        return userRoles;\n    }\n\n    public void setUserRoles(Collection&lt;User&gt; userRoles) {\n        this.userRoles = userRoles;\n    }\n\n    public Collection&lt;Permission&gt; getPermissions() {\n        return permissions;\n    }\n\n    public void setPermissions(Collection&lt;Permission&gt; permissions) {\n        this.permissions = permissions;\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + ((name == null) ? 0 : name.hashCode());\n        return result;\n    }\n\n    @Override\n    public boolean equals(final Object obj) {\n        if (this == obj) {\n            return true;\n        }\n        if (obj == null) {\n            return false;\n        }\n        if (getClass() != obj.getClass()) {\n            return false;\n        }\n        final Role role = (Role) obj;\n        if (!role.equals(role.name)) {\n            return false;\n        }\n        return true;\n    }\n\n    @Override\n    public String toString() {\n        final StringBuilder builder = new StringBuilder();\n        builder.append(\"Role [name=\").append(name).append(\"]\").append(\"[id=\").append(id).append(\"]\");\n        return builder.toString();\n    }\n}\n</code></pre>\n\n<p><strong>Permission Model</strong></p>\n\n<pre><code>package com.insight.models;\n\nimport java.util.Collection;\n\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.ManyToMany;\n\npublic class Permission {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private String name;\n\n    @ManyToMany(mappedBy = \"permissions\")\n    private Collection&lt;Role&gt; roles;\n\n    public Permission(String name2) {\n        name = name;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public Collection&lt;Role&gt; getRoles() {\n        return roles;\n    }\n\n    public void setRoles(Collection&lt;Role&gt; roles) {\n        this.roles = roles;\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + ((name == null) ? 0 : name.hashCode());\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        Permission other = (Permission) obj;\n        if (name == null) {\n            if (other.name != null)\n                return false;\n        } else if (!name.equals(other.name))\n            return false;\n        return true;\n    }\n\n    @Override\n    public String toString() {\n        final StringBuilder builder = new StringBuilder();\n        builder.append(\"Permission [name=\").append(name).append(\"]\").append(\"[id=\").append(id).append(\"]\");\n        return builder.toString();\n    }\n}\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.insight&lt;/groupId&gt;\n    &lt;artifactId&gt;insight&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;insight&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.3.5.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity4&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n         &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n            &lt;version&gt;1.3.6.RELEASE&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n         &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.passay&lt;/groupId&gt;\n            &lt;artifactId&gt;passay&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n         &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;19.0&lt;/version&gt;\n         &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;    \n&lt;/project&gt;\n</code></pre>\n\n<p><strong>CustomUserDetailsService</strong></p>\n\n<pre><code>package com.insight.services;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.MessageSource;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.insight.models.Permission;\nimport com.insight.models.Role;\nimport com.insight.models.User;\nimport com.insight.repositories.RoleRepository;\nimport com.insight.repositories.UserRepository;\n\n\n\n@Service(\"userDetailsService\")\n@Transactional\npublic class CustomUserDetailsService implements UserDetailsService {\n\n    @Autowired\n    private UserRepository userRepository;\n    @Autowired\n    private IUserService service;\n    @Autowired\n    private MessageSource messages;\n    @Autowired\n    private RoleRepository roleRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n        User user = userRepository.findByEmail(email);\n        if (user == null) {\n            return new org.springframework.security.core.userdetails.User(\n              \" \", \" \", true, true, true, true, \n              getAuthorities(Arrays.asList(roleRepository.findByName(\"ROLE_USER\"))));\n        }\n\n        return new org.springframework.security.core.userdetails.User(\n          user.getEmail(), user.getPassword(), user.isEnabled(), true, true, \n          true, getAuthorities(user.getRoles()));\n    }\n\n    private Collection&lt;? extends GrantedAuthority&gt; getAuthorities(Collection&lt;Role&gt; roles) {\n        return getGrantedAuthorities(getPrivileges(roles));\n    }\n\n    private List&lt;String&gt; getPrivileges(Collection&lt;Role&gt; roles) {\n        List&lt;String&gt; privileges = new ArrayList&lt;String&gt;();\n        List&lt;Permission&gt; collection = new ArrayList&lt;Permission&gt;();\n        for (Role role : roles) {\n            collection.addAll(role.getPermissions());\n        }\n        for (Permission item : collection) {\n            privileges.add(item.getName());\n        }\n        return privileges;\n    }\n\n    private List&lt;GrantedAuthority&gt; getGrantedAuthorities(List&lt;String&gt; privileges) {\n        List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;GrantedAuthority&gt;();\n        for (String privilege : privileges) {\n            authorities.add(new SimpleGrantedAuthority(privilege));\n        }\n        return authorities;\n    }\n}\n</code></pre>\n\n<p>There some etc. classes also there, but I am not posting due to large segment, if anyone requires specifics, I will post.</p>\n\n<p>When I tried to run, I am getting following error on console:</p>\n\n<blockquote>\n  <p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire method: public void org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration.setFilterChainProxySecurityConfigurer(org.springframework.security.config.annotation.ObjectPostProcessor,java.util.List) throws java.lang.Exception; nested exception is org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityConfiguration': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.springframework.security.core.userdetails.UserDetailsService com.insight.SecurityConfiguration.userDetailsService; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userDetailsService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: private com.insight.repositories.UserRepository com.insight.services.CustomUserDetailsService.userRepository; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '(inner bean)#778bd3a2' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#778bd3a2': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory\n          at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334) ~[spring-beans-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n          at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214) ~[spring-beans-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n          at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) ~[spring-beans-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n          at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n          at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n          at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n          at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n          at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n          at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:368) ~[spring-beans-4.2.6.RELEASE.jar:4.2.6.RELEASE]\n          at </p>\n</blockquote>\n\n<p>Please friends help me.</p>\n"},{"tags":["java","android","android-studio","kotlin","exoplayer"],"answers":[{"tags":[],"owner":{"account_id":6713306,"reputation":1513,"user_id":5175944,"accept_rate":50,"display_name":"surga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700353657,"creation_date":1700353657,"answer_id":77509188,"question_id":74953213,"body_markdown":"It&#39;s safer and easier to create temporary file\r\n\r\n          val tempWav = File.createTempFile(&quot;tempAudio&quot;, &quot;wav&quot;)\r\n          tempWav.deleteOnExit()\r\n          val fos = FileOutputStream(tempMp3)\r\n          fos.write(byte)\r\n          fos.close()\r\n\r\n          var mediaItem = MediaItem.fromUri(tempWav.toURI().toString())","title":"Play byte array in Exo player","body":"<p>It's safer and easier to create temporary file</p>\n<pre><code>      val tempWav = File.createTempFile(&quot;tempAudio&quot;, &quot;wav&quot;)\n      tempWav.deleteOnExit()\n      val fos = FileOutputStream(tempMp3)\n      fos.write(byte)\n      fos.close()\n\n      var mediaItem = MediaItem.fromUri(tempWav.toURI().toString())\n</code></pre>\n"}],"owner":{"account_id":23577973,"reputation":88,"user_id":17623544,"display_name":"mistelo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1700353657,"creation_date":1672328855,"question_id":74953213,"body_markdown":"I&#39;m trying to play byte array with exo player is there any suggestion for me \r\nThis is what I tryed\r\n\r\n    private fun playAudio(bytes: ByteArray) {\r\n        lifecycleScope.launch {\r\n            \r\n            player!!.apply {\r\n                setMediaSource(createMediaSource(bytes))\r\n                prepare()\r\n                playWhenReady = true // start playing when the exoplayer has setup\r\n                \r\n            }\r\n        }\r\n    }\r\n\r\n    fun createMediaSource(bytes: ByteArray): MediaSource {\r\n        val byteArrayDataSource = ByteArrayDataSource(bytes)\r\n        val factory = DataSource.Factory {\r\n            return@Factory byteArrayDataSource\r\n        }\r\n        return ProgressiveMediaSource.Factory(factory,\r\n            ExtractorsFactory { return@ExtractorsFactory arrayOf(Mp3Extractor()) })\r\n            .createMediaSource(\r\n                MediaItem.fromUri(\r\n                    Uri.EMPTY\r\n                )\r\n            )\r\n    }\r\n\r\n **also this is my recording function which has a function to return byteString/byteArray** \r\n\r\n    suspend fun recordVoice(audioRecord: AudioRecord?) = withContext(Dispatchers.IO) {\r\n        Log.i(&quot;LOG&quot;, &quot;BUFFER SIZE: $BUFFER_SIZE_RECORDING&quot;)\r\n        audioRecord?.startRecording()\r\n        val buf = ByteArray(BUFFER_SIZE_RECORDING)\r\n        try {\r\n            do {\r\n                val byteRead = audioRecord?.read(buf, 0, buf.size) ?: break\r\n\r\n                if (byteRead &lt; -1)\r\n                    break\r\n                onRecordedByteString.byteString(buf.toByteString(0, byteRead))\r\n            } while (true)\r\n        } catch (e: Exception) {\r\n            e.printStackTrace()\r\n        }\r\n    }\r\nAnd buffer \r\n\r\n    companion object {\r\n        private const val RECORDER_SAMPLE_RATE = 44100\r\n        private const val RECORDER_CHANNELS: Int = AudioFormat.CHANNEL_IN_STEREO\r\n        private const val RECORDER_AUDIO_ENCODING: Int = AudioFormat.ENCODING_PCM_16BIT\r\n        private val BUFFER_SIZE_RECORDING = AudioRecord.getMinBufferSize(\r\n            RECORDER_SAMPLE_RATE,\r\n            RECORDER_CHANNELS,\r\n            RECORDER_AUDIO_ENCODING\r\n        ) * 4\r\n\r\n    }\r\n\r\nafter recording and pushing play button this issue happening \r\n[![Issue Image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9AREz.png","title":"Play byte array in Exo player","body":"<p>I'm trying to play byte array with exo player is there any suggestion for me\nThis is what I tryed</p>\n<pre><code>private fun playAudio(bytes: ByteArray) {\n    lifecycleScope.launch {\n        \n        player!!.apply {\n            setMediaSource(createMediaSource(bytes))\n            prepare()\n            playWhenReady = true // start playing when the exoplayer has setup\n            \n        }\n    }\n}\n\nfun createMediaSource(bytes: ByteArray): MediaSource {\n    val byteArrayDataSource = ByteArrayDataSource(bytes)\n    val factory = DataSource.Factory {\n        return@Factory byteArrayDataSource\n    }\n    return ProgressiveMediaSource.Factory(factory,\n        ExtractorsFactory { return@ExtractorsFactory arrayOf(Mp3Extractor()) })\n        .createMediaSource(\n            MediaItem.fromUri(\n                Uri.EMPTY\n            )\n        )\n}\n</code></pre>\n<p><strong>also this is my recording function which has a function to return byteString/byteArray</strong></p>\n<pre><code>suspend fun recordVoice(audioRecord: AudioRecord?) = withContext(Dispatchers.IO) {\n    Log.i(&quot;LOG&quot;, &quot;BUFFER SIZE: $BUFFER_SIZE_RECORDING&quot;)\n    audioRecord?.startRecording()\n    val buf = ByteArray(BUFFER_SIZE_RECORDING)\n    try {\n        do {\n            val byteRead = audioRecord?.read(buf, 0, buf.size) ?: break\n\n            if (byteRead &lt; -1)\n                break\n            onRecordedByteString.byteString(buf.toByteString(0, byteRead))\n        } while (true)\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n}\n</code></pre>\n<p>And buffer</p>\n<pre><code>companion object {\n    private const val RECORDER_SAMPLE_RATE = 44100\n    private const val RECORDER_CHANNELS: Int = AudioFormat.CHANNEL_IN_STEREO\n    private const val RECORDER_AUDIO_ENCODING: Int = AudioFormat.ENCODING_PCM_16BIT\n    private val BUFFER_SIZE_RECORDING = AudioRecord.getMinBufferSize(\n        RECORDER_SAMPLE_RATE,\n        RECORDER_CHANNELS,\n        RECORDER_AUDIO_ENCODING\n    ) * 4\n\n}\n</code></pre>\n<p>after recording and pushing play button this issue happening\n<a href=\"https://i.stack.imgur.com/9AREz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9AREz.png\" alt=\"Issue Image\" /></a></p>\n"},{"tags":["java","overflow"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1700321364,"post_id":77507336,"comment_id":136641371,"body_markdown":"Can you, please, edit the question to show the &quot;big numbers&quot; you tried?","body":"Can you, please, edit the question to show the &quot;big numbers&quot; you tried?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1700321609,"post_id":77507336,"comment_id":136641395,"body_markdown":"What do you mean by &quot;big numbers&quot;?  Did you try numbers near `Integer.MIN_VALUE`?","body":"What do you mean by &quot;big numbers&quot;?  Did you try numbers near <code>Integer.MIN_VALUE</code>?"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1700322168,"post_id":77507336,"comment_id":136641456,"body_markdown":"You should test for overflow within loop (after each add) since overflow can &quot;wrap around&quot;: For example `negSum = Integer.MIN_VALUE; negSum += -2` yields overflow but then adding `negSum += Integer.MIN_VALUE` yields overflow false.","body":"You should test for overflow within loop (after each add) since overflow can &quot;wrap around&quot;: For example <code>negSum = Integer.MIN_VALUE; negSum += -2</code> yields overflow but then adding <code>negSum += Integer.MIN_VALUE</code> yields overflow false."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1700324600,"creation_date":1700322178,"answer_id":77507591,"question_id":77507336,"body_markdown":"The problem is that you can&#39;t depend on the the final value of `negSum` to detect overflow.  If two negative numbers create overflow their sum will be positive.  But what happens if the next negative number when added to that result is negative?  You had overflow, but it was hidden by subsequent negative additions. So you need to check for overflow after each negative addition.\r\n\r\nHere is a related item you may be unaware of.\r\n\r\nInterim overflows during the addition of numbers does not mean the final sum will be incorrect.  As long as the order of the summands could be rearranged to prevent overflow during the process, the overflow would be corrected.  Here is an example:\r\n```\r\nint sum1 = Integer.MAX_VALUE + Integer.MAX_VALUE + Integer.MIN_VALUE + \r\n  Integer.MIN_VALUE + 10;\r\n\r\nint sum2 = Integer.MAX_VALUE + Integer.MIN_VALUE + Integer.MAX_VALUE + \r\n  Integer.MIN_VALUE + 10;\r\n \r\nSystem.out.println(sum1 + &quot; &quot; + sum2);\r\n```\r\nprints\r\n```\r\n8 8\r\n```\r\nIn the first case, overflow occurred after the second addition. But subsequent additions brought the result back into the range of the target type.\r\nIn the second  case, no overflow was encountered due to the rearrangement of the values.\r\n","title":"How to detect the overflow of the sum of all negative numbers in an array?","body":"<p>The problem is that you can't depend on the the final value of <code>negSum</code> to detect overflow.  If two negative numbers create overflow their sum will be positive.  But what happens if the next negative number when added to that result is negative?  You had overflow, but it was hidden by subsequent negative additions. So you need to check for overflow after each negative addition.</p>\n<p>Here is a related item you may be unaware of.</p>\n<p>Interim overflows during the addition of numbers does not mean the final sum will be incorrect.  As long as the order of the summands could be rearranged to prevent overflow during the process, the overflow would be corrected.  Here is an example:</p>\n<pre><code>int sum1 = Integer.MAX_VALUE + Integer.MAX_VALUE + Integer.MIN_VALUE + \n  Integer.MIN_VALUE + 10;\n\nint sum2 = Integer.MAX_VALUE + Integer.MIN_VALUE + Integer.MAX_VALUE + \n  Integer.MIN_VALUE + 10;\n \nSystem.out.println(sum1 + &quot; &quot; + sum2);\n</code></pre>\n<p>prints</p>\n<pre><code>8 8\n</code></pre>\n<p>In the first case, overflow occurred after the second addition. But subsequent additions brought the result back into the range of the target type.\nIn the second  case, no overflow was encountered due to the rearrangement of the values.</p>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700324542,"creation_date":1700322760,"answer_id":77507634,"question_id":77507336,"body_markdown":"Your test for overflow is unreliable. Consider the possibility that `negSum` overflowed / wrapped around more than once. \r\n\r\nTo reliably detect overflow in arithmetic, consider using the `~Exact` methods of the [`Math` API](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Math.html).  Unlike regular arithmetic operations, these  methods throw an `ArithmeticException` when overflow occurs.\r\n\r\n````\r\npublic class BinaryArray {\r\n\r\n    static int[] X = {3, -30000, 27, 101, 50, 0, -20000, -21, 19, 6, 4, -10,\r\n         -2147483647, -2147483647};\r\n \r\n    static int negSum = 0;\r\n    static int pzCount = 0;\r\n    static int oddCount = 0;\r\n    static boolean overflow1 = false, overflow2 = false;\r\n\r\n    public static void main(String[] args) {\r\n        for (int i = 0; i &lt; X.length; i++) {\r\n            try {\r\n                if (X[i] &lt; 0) {\r\n                    negSum += X[i];\r\n                    int check = Math.addExact(negSum, X[i]);\r\n                }\r\n            } catch (ArithmeticException ex) {\r\n                overflow1 = true;\r\n            }\r\n\r\n            if (X[i] &gt;= 0) {\r\n                pzCount++;\r\n            }\r\n            if (X[i] &gt; 0 &amp;&amp; X[i] % 2 != 0) {\r\n                oddCount++;\r\n            }\r\n        }\r\n\r\n        if (negSum &gt; 0) {\r\n            overflow2 = true;\r\n        }\r\n\r\n        System.out.println(&quot;Array negSum: &quot; + negSum);\r\n        System.out.println(&quot;Array pzCount: &quot; + pzCount);\r\n        System.out.println(&quot;Array oddCount: &quot; + oddCount);\r\n        System.out.println (&quot;Overflow indicator: &quot; + overflow1);\r\n        System.out.println (&quot;Old overflow indicator: &quot; + overflow2);\r\n    }\r\n}\r\n````\r\n\r\nI used two `boolean overflow` variables. That lets you play around with the values of the  `int X[]` and compare the results.  \r\n\r\nOff-topic: I removed the variable `n`.  That way, the `for` loop will always iterate once for each element in `X`.  Having a separate variable for the number of elements in the array increases the likelihood of creating a bug when elements need to be added or removed. ","title":"How to detect the overflow of the sum of all negative numbers in an array?","body":"<p>Your test for overflow is unreliable. Consider the possibility that <code>negSum</code> overflowed / wrapped around more than once.</p>\n<p>To reliably detect overflow in arithmetic, consider using the <code>~Exact</code> methods of the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Math.html\" rel=\"nofollow noreferrer\"><code>Math</code> API</a>.  Unlike regular arithmetic operations, these  methods throw an <code>ArithmeticException</code> when overflow occurs.</p>\n<pre><code>public class BinaryArray {\n\n    static int[] X = {3, -30000, 27, 101, 50, 0, -20000, -21, 19, 6, 4, -10,\n         -2147483647, -2147483647};\n \n    static int negSum = 0;\n    static int pzCount = 0;\n    static int oddCount = 0;\n    static boolean overflow1 = false, overflow2 = false;\n\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; X.length; i++) {\n            try {\n                if (X[i] &lt; 0) {\n                    negSum += X[i];\n                    int check = Math.addExact(negSum, X[i]);\n                }\n            } catch (ArithmeticException ex) {\n                overflow1 = true;\n            }\n\n            if (X[i] &gt;= 0) {\n                pzCount++;\n            }\n            if (X[i] &gt; 0 &amp;&amp; X[i] % 2 != 0) {\n                oddCount++;\n            }\n        }\n\n        if (negSum &gt; 0) {\n            overflow2 = true;\n        }\n\n        System.out.println(&quot;Array negSum: &quot; + negSum);\n        System.out.println(&quot;Array pzCount: &quot; + pzCount);\n        System.out.println(&quot;Array oddCount: &quot; + oddCount);\n        System.out.println (&quot;Overflow indicator: &quot; + overflow1);\n        System.out.println (&quot;Old overflow indicator: &quot; + overflow2);\n    }\n}\n</code></pre>\n<p>I used two <code>boolean overflow</code> variables. That lets you play around with the values of the  <code>int X[]</code> and compare the results.</p>\n<p>Off-topic: I removed the variable <code>n</code>.  That way, the <code>for</code> loop will always iterate once for each element in <code>X</code>.  Having a separate variable for the number of elements in the array increases the likelihood of creating a bug when elements need to be added or removed.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700353167,"creation_date":1700323380,"answer_id":77507670,"question_id":77507336,"body_markdown":"&gt; _&quot;... I need to calculate the summary of negative elements in array X and detect whether the result is a overflow or not. ...&quot;_\r\n\r\nHere is an example using the _[BigInteger](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/BigInteger.html)_ class.\r\n\r\n```java\r\nRandom r = new Random();\r\nint i, v, n = 1000, a[] = new int[n],\r\n    mn = Integer.MIN_VALUE, mx = Integer.MAX_VALUE;\r\nfor (i = 0; i &lt; n; i++) a[i] = r.nextInt(mn, mx);\r\nBigInteger x = BigInteger.ZERO, mb = BigInteger.valueOf(mn);\r\nfor (i = 0; i &lt; n; i++) {\r\n    if ((v = a[i]) &gt; 0) continue;\r\n    if ((x = x.add(BigInteger.valueOf(v))).compareTo(mb) &lt; 0)\r\n        break;\r\n}\r\nif (i != n) System.out.println(&quot;overflow at &quot; + i);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\noverflow at 5\r\n```\r\n\r\nAnd, here is the same example, with an output for each iteration.\r\n\r\n```java\r\nRandom r = new Random();\r\nint i, v, n = 1000, a[] = new int[n],\r\n    mn = Integer.MIN_VALUE, mx = Integer.MAX_VALUE;\r\nfor (i = 0; i &lt; n; i++) a[i] = r.nextInt(mn, mx);\r\nBigInteger x = BigInteger.ZERO, mb = BigInteger.valueOf(mn);\r\nSystem.out.printf(&quot;%4s%12s   %12s   %s%n&quot;, &quot;i&quot;, &quot;x&quot;, &quot;v&quot;, &quot;sum&quot;);\r\nSystem.out.println(&quot;-&quot;.repeat(45));\r\nfor (i = 0; i &lt; n; i++) {\r\n    if ((v = a[i]) &gt; 0) continue;\r\n    System.out.printf(&quot;%4s%12s + %12s = &quot;, i, x, v);\r\n    x = x.add(BigInteger.valueOf(v));\r\n    System.out.println(x);\r\n    if (x.compareTo(mb) &lt; 0) break;\r\n}\r\nif (i != n) System.out.println(&quot;overflow at &quot; + i);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n   i           x              v   sum\r\n---------------------------------------------\r\n   1           0 +    -20935943 = -20935943\r\n   7   -20935943 +   -914825338 = -935761281\r\n   8  -935761281 +  -1732178540 = -2667939821\r\noverflow at 8\r\n```","title":"How to detect the overflow of the sum of all negative numbers in an array?","body":"<blockquote>\n<p><em>&quot;... I need to calculate the summary of negative elements in array X and detect whether the result is a overflow or not. ...&quot;</em></p>\n</blockquote>\n<p>Here is an example using the <em><a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">BigInteger</a></em> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Random r = new Random();\nint i, v, n = 1000, a[] = new int[n],\n    mn = Integer.MIN_VALUE, mx = Integer.MAX_VALUE;\nfor (i = 0; i &lt; n; i++) a[i] = r.nextInt(mn, mx);\nBigInteger x = BigInteger.ZERO, mb = BigInteger.valueOf(mn);\nfor (i = 0; i &lt; n; i++) {\n    if ((v = a[i]) &gt; 0) continue;\n    if ((x = x.add(BigInteger.valueOf(v))).compareTo(mb) &lt; 0)\n        break;\n}\nif (i != n) System.out.println(&quot;overflow at &quot; + i);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>overflow at 5\n</code></pre>\n<p>And, here is the same example, with an output for each iteration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Random r = new Random();\nint i, v, n = 1000, a[] = new int[n],\n    mn = Integer.MIN_VALUE, mx = Integer.MAX_VALUE;\nfor (i = 0; i &lt; n; i++) a[i] = r.nextInt(mn, mx);\nBigInteger x = BigInteger.ZERO, mb = BigInteger.valueOf(mn);\nSystem.out.printf(&quot;%4s%12s   %12s   %s%n&quot;, &quot;i&quot;, &quot;x&quot;, &quot;v&quot;, &quot;sum&quot;);\nSystem.out.println(&quot;-&quot;.repeat(45));\nfor (i = 0; i &lt; n; i++) {\n    if ((v = a[i]) &gt; 0) continue;\n    System.out.printf(&quot;%4s%12s + %12s = &quot;, i, x, v);\n    x = x.add(BigInteger.valueOf(v));\n    System.out.println(x);\n    if (x.compareTo(mb) &lt; 0) break;\n}\nif (i != n) System.out.println(&quot;overflow at &quot; + i);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>   i           x              v   sum\n---------------------------------------------\n   1           0 +    -20935943 = -20935943\n   7   -20935943 +   -914825338 = -935761281\n   8  -935761281 +  -1732178540 = -2667939821\noverflow at 8\n</code></pre>\n"}],"owner":{"account_id":29647791,"reputation":1,"user_id":22722434,"display_name":"pia zhang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1700353167,"creation_date":1700318283,"question_id":77507336,"body_markdown":"The specifications are as follows: There is an array named *X* of two&#39;s complement integers in memory. There is also a two&#39;s complement integer variable *n* which sets the size of the array. Thus *X* contains *n* elements. *n*&#160;is a 16-bit integer, the maximum size of the array is 32767 entries.\r\n\r\nI need to calculate the summary of negative elements in array *X* and detect whether the result is a overflow or not.\r\n\r\n```\r\npublic class BinaryArray {\r\n\tstatic int[]X = {3, -30000, 27, 101, 50, 0, -20000, -21, 19, 6, 4, -10};\r\n\tstatic int n = 12;\r\n\tstatic int negSum = 0;\r\n\tstatic int pzCount = 0;\r\n\tstatic int oddCount = 0;\r\n\tstatic boolean overflow = false;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tfor(int i = 0; i&lt;n; i++) {\r\n\t\t\tif(X[i] &lt; 0) {\r\n\t\t\t\tnegSum +=X[i];\r\n\t\t\t}\r\n\t\t\tif(X[i] &gt;= 0) {\r\n\t\t\t\tpzCount++;\r\n\t\t\t}\r\n\t\t\tif(X[i] &gt;0 &amp;&amp; X[i] % 2 !=0) {\r\n\t\t\t\toddCount++;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif(negSum &gt; 0) {\r\n\t\t\toverflow = true;\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;Array negSum: &quot; + negSum);\r\n\t\tSystem.out.println(&quot;Array pzCount: &quot; + pzCount);\r\n\t\tSystem.out.println(&quot;Array oddCount: &quot; + oddCount);\r\n\t\t\r\n        if (overflow) {\r\n            System.out.println(&quot;Overflow indicator: 1&quot;);\r\n        } else {\r\n            System.out.println(&quot;Overflow indicator: 0&quot;);\r\n        }\r\n\t}\r\n}\r\n```\r\n\r\nI tried big numbers that must cause a overflow but my code runs as no. I wonder if I&#39;m judging the overflow in the wrong way?","title":"How to detect the overflow of the sum of all negative numbers in an array?","body":"<p>The specifications are as follows: There is an array named <em>X</em> of two's complement integers in memory. There is also a two's complement integer variable <em>n</em> which sets the size of the array. Thus <em>X</em> contains <em>n</em> elements. <em>n</em> is a 16-bit integer, the maximum size of the array is 32767 entries.</p>\n<p>I need to calculate the summary of negative elements in array <em>X</em> and detect whether the result is a overflow or not.</p>\n<pre><code>public class BinaryArray {\n    static int[]X = {3, -30000, 27, 101, 50, 0, -20000, -21, 19, 6, 4, -10};\n    static int n = 12;\n    static int negSum = 0;\n    static int pzCount = 0;\n    static int oddCount = 0;\n    static boolean overflow = false;\n    \n    public static void main(String[] args) {\n        for(int i = 0; i&lt;n; i++) {\n            if(X[i] &lt; 0) {\n                negSum +=X[i];\n            }\n            if(X[i] &gt;= 0) {\n                pzCount++;\n            }\n            if(X[i] &gt;0 &amp;&amp; X[i] % 2 !=0) {\n                oddCount++;\n            }\n        }\n        \n        if(negSum &gt; 0) {\n            overflow = true;\n        }\n        \n        System.out.println(&quot;Array negSum: &quot; + negSum);\n        System.out.println(&quot;Array pzCount: &quot; + pzCount);\n        System.out.println(&quot;Array oddCount: &quot; + oddCount);\n        \n        if (overflow) {\n            System.out.println(&quot;Overflow indicator: 1&quot;);\n        } else {\n            System.out.println(&quot;Overflow indicator: 0&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I tried big numbers that must cause a overflow but my code runs as no. I wonder if I'm judging the overflow in the wrong way?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"score":3,"creation_date":1700350774,"post_id":77509083,"comment_id":136644308,"body_markdown":"I suppose it happens because when you call `s.reverse()` you are mutating `s`. So your code is equal to `s.reverse(); s.equals(s);` which is true. On the other hand, Strings are immutable thus when calling `s.toString()` you are actually creating a new object in the heap","body":"I suppose it happens because when you call <code>s.reverse()</code> you are mutating <code>s</code>. So your code is equal to <code>s.reverse(); s.equals(s);</code> which is true. On the other hand, Strings are immutable thus when calling <code>s.toString()</code> you are actually creating a new object in the heap"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1700351226,"post_id":77509083,"comment_id":136644337,"body_markdown":"You&#39;re comparing the _instance_ of _StringBuilder_, here.  And, not the content; via _toString_.","body":"You&#39;re comparing the <i>instance</i> of <i>StringBuilder</i>, here.  And, not the content; via <i>toString</i>."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1700364040,"post_id":77509083,"comment_id":136645034,"body_markdown":"Or to put it more  simply, a StringBuilder is not a String, so any expectation that they are interchangeable is misplaced.","body":"Or to put it more  simply, a StringBuilder is not a String, so any expectation that they are interchangeable is misplaced."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1700352646,"creation_date":1700352015,"answer_id":77509131,"question_id":77509083,"body_markdown":"The call to `reverse()` does not return a new object. It returns the same `StringBuilder` you called the method on. The following:\r\n\r\n```java\r\nStringBuilder s = new StringBuilder(&quot;Foo&quot;);\r\nSystem.out.println(s == s.reverse());\r\n```\r\n\r\nWould print `true`. So, doing `s.equals(s.reverse())` is the same as doing `s.equals(s)`&lt;sup&gt;1&lt;/sup&gt;, which is going to return true for any valid implementation of `equals`.\r\n\r\nThat said, your code also assumes `StringBuilder` overrides the `equals` method. It does not.  It inherits the behavior of `Object.equals`, which is the same as `==` (i.e., reference equality). For example, doing:\r\n\r\n```java\r\nStringBuilder s1 = new StringBuilder(&quot;Foo&quot;);\r\nStringBuilder s2 = new StringBuilder(&quot;Foo&quot;);\r\nSystem.out.println(s1.equals(s2));\r\n```\r\n\r\nWould print `false` despite the two string builders containing the character sequence `&quot;Foo&quot;`.\r\n\r\nSo, why does it work when you convert to `String`? Because calling `toString()` creates a new `String` object with the same character sequence as the `StringBuilder` _at the time of the method call_. The returned string is separate from the string builder; any subsequent mutations done to the string builder will not affect the previously returned string.\r\n\r\nFor example:\r\n\r\n```java \r\nStringBuilder sb = new StringBuilder(&quot;Foo&quot;);\r\n\r\nString str1 = sb.toString(); // &#39;str1&#39; contains &quot;Foo&quot;\r\nsb.reverse(); // &#39;sb&#39; now contains &quot;ooF&quot;, but &#39;str1&#39; still contains &quot;Foo&quot;\r\nString str2 = sb.toString(); // &#39;str2&#39; contains &quot;ooF&quot;\r\n\r\n// Prints false. It is testing if &quot;Foo&quot; is equal to &quot;ooF&quot; (it is not)\r\nSystem.out.println(str1.equals(str2));\r\n```\r\n\r\nPlus, `String` _does_ override `equals` so that it compares the characters between the two strings.\r\n\r\n---\r\n\r\n&lt;sup&gt;1. With regards to the call to `equals`. Doing `s.equals(s.reverse())` will still have the side-effect of reversing the character sequence, whereas `s.equals(s)` obviously will not. The point is that you are testing if an object is equal to itself regardless.&lt;/sup&gt;","title":"why reverse() function doesn&#39;t work properly for StringBuilder?","body":"<p>The call to <code>reverse()</code> does not return a new object. It returns the same <code>StringBuilder</code> you called the method on. The following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder s = new StringBuilder(&quot;Foo&quot;);\nSystem.out.println(s == s.reverse());\n</code></pre>\n<p>Would print <code>true</code>. So, doing <code>s.equals(s.reverse())</code> is the same as doing <code>s.equals(s)</code><sup>1</sup>, which is going to return true for any valid implementation of <code>equals</code>.</p>\n<p>That said, your code also assumes <code>StringBuilder</code> overrides the <code>equals</code> method. It does not.  It inherits the behavior of <code>Object.equals</code>, which is the same as <code>==</code> (i.e., reference equality). For example, doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder s1 = new StringBuilder(&quot;Foo&quot;);\nStringBuilder s2 = new StringBuilder(&quot;Foo&quot;);\nSystem.out.println(s1.equals(s2));\n</code></pre>\n<p>Would print <code>false</code> despite the two string builders containing the character sequence <code>&quot;Foo&quot;</code>.</p>\n<p>So, why does it work when you convert to <code>String</code>? Because calling <code>toString()</code> creates a new <code>String</code> object with the same character sequence as the <code>StringBuilder</code> <em>at the time of the method call</em>. The returned string is separate from the string builder; any subsequent mutations done to the string builder will not affect the previously returned string.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder sb = new StringBuilder(&quot;Foo&quot;);\n\nString str1 = sb.toString(); // 'str1' contains &quot;Foo&quot;\nsb.reverse(); // 'sb' now contains &quot;ooF&quot;, but 'str1' still contains &quot;Foo&quot;\nString str2 = sb.toString(); // 'str2' contains &quot;ooF&quot;\n\n// Prints false. It is testing if &quot;Foo&quot; is equal to &quot;ooF&quot; (it is not)\nSystem.out.println(str1.equals(str2));\n</code></pre>\n<p>Plus, <code>String</code> <em>does</em> override <code>equals</code> so that it compares the characters between the two strings.</p>\n<hr />\n<p><sup>1. With regards to the call to <code>equals</code>. Doing <code>s.equals(s.reverse())</code> will still have the side-effect of reversing the character sequence, whereas <code>s.equals(s)</code> obviously will not. The point is that you are testing if an object is equal to itself regardless.</sup></p>\n"},{"tags":[],"owner":{"account_id":5098102,"reputation":368,"user_id":5266667,"display_name":"falero80s"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700352672,"creation_date":1700352075,"answer_id":77509134,"question_id":77509083,"body_markdown":"[Oracle document says:][1]\r\n`reverse()` &quot;Causes this character sequence to be **replaced** by the reverse of the sequence&quot;. And then it returns the reference to this object `s`.\r\n\r\nAs soon as you called `s.reverse()`. The actual data; the &quot;abcd&quot; in its location is replaced by the reverse of &quot;abcd&quot;. The `StringBuilder` object now contains &quot;dcba&quot;.\r\n\r\nNow the value of s for s.equals becomes &quot;dcba&quot;.\r\n\r\nYou are basically doing &quot;dcba at location-A&quot;.equals(&quot;dcba at location-A&quot;), which is true.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#reverse--","title":"why reverse() function doesn&#39;t work properly for StringBuilder?","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#reverse--\" rel=\"nofollow noreferrer\">Oracle document says:</a>\n<code>reverse()</code> &quot;Causes this character sequence to be <strong>replaced</strong> by the reverse of the sequence&quot;. And then it returns the reference to this object <code>s</code>.</p>\n<p>As soon as you called <code>s.reverse()</code>. The actual data; the &quot;abcd&quot; in its location is replaced by the reverse of &quot;abcd&quot;. The <code>StringBuilder</code> object now contains &quot;dcba&quot;.</p>\n<p>Now the value of s for s.equals becomes &quot;dcba&quot;.</p>\n<p>You are basically doing &quot;dcba at location-A&quot;.equals(&quot;dcba at location-A&quot;), which is true.</p>\n"}],"owner":{"account_id":29937680,"reputation":11,"user_id":22942995,"display_name":"Pavni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1700352672,"creation_date":1700350550,"question_id":77509083,"body_markdown":"The following code prints true for all the inputs. But when I convert it into String its working properly. whats the reason?\r\n\r\n```\r\nStringBuilder s= new StringBuilder();\r\ns.append(&quot;abcd&quot;);\r\nSystem.out.println(s.equals(s.reverse()));\r\n\r\noutput: true\r\n\r\nStringBuilder s= new StringBuilder();\r\ns.append(&quot;abcd&quot;);\r\nSystem.out.println(s.toString().equals(s.reverse().toString()));\r\noutput: false\r\n```","title":"why reverse() function doesn&#39;t work properly for StringBuilder?","body":"<p>The following code prints true for all the inputs. But when I convert it into String its working properly. whats the reason?</p>\n<pre><code>StringBuilder s= new StringBuilder();\ns.append(&quot;abcd&quot;);\nSystem.out.println(s.equals(s.reverse()));\n\noutput: true\n\nStringBuilder s= new StringBuilder();\ns.append(&quot;abcd&quot;);\nSystem.out.println(s.toString().equals(s.reverse().toString()));\noutput: false\n</code></pre>\n"},{"tags":["java","linked-list","nodes"],"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":5,"creation_date":1700350464,"post_id":77509006,"comment_id":136644292,"body_markdown":"Binary search for linked list makes no sense. They don&#39;t belong together. This is not a good code challenge.","body":"Binary search for linked list makes no sense. They don&#39;t belong together. This is not a good code challenge."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700350849,"post_id":77509006,"comment_id":136644316,"body_markdown":"Please edit the question to include an exact copy of any error(s) you are getting. To ensure accuracy, use text copy-and-paste.","body":"Please edit the question to include an exact copy of any error(s) you are getting. To ensure accuracy, use text copy-and-paste."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700352426,"creation_date":1700352426,"answer_id":77509142,"question_id":77509006,"body_markdown":"Some of the issues:\r\n\r\n* You are trying to access `Node` from a static context, but `Node` is not static\r\n\r\n* As you don&#39;t create a `Main` *instance*, `Node` and `LinkedList` classes should be defined as static (unless you create them as top-level classes). \r\n\r\n* You should define *instance* methods. For instance, it is not best practice to define `push` as a static method where you need to provide the head node as argument. Instead `push` should be an instance method.\r\n\r\n* `head` should be an instance field of the `LinkedList` class, not a variable in `main`.\r\n\r\n* The main function should create a `LinkedList` instance.\r\n\r\nHere is your code with these remarks taken into account:\r\n\r\n```\r\npublic class Main\r\n{ \r\n    static class Node // Mark as static, since we don&#39;t create a Main instance\r\n    {\r\n        int data;\r\n        Node next;\r\n        Node(int d)\r\n        {\r\n            data = d;\r\n            next = null;\r\n        }\r\n    }\r\n\r\n    static class LinkedList  // Mark as static\r\n    {\r\n        Node head = null; // Should be a field, not a function argument\r\n      \r\n        Node push(int data) // Should not be static\r\n        {\r\n            Node newNode = new Node(data);\r\n            newNode.next = head;\r\n            head = newNode;\r\n            return head;\r\n        }\r\n      \r\n        static Node middleNode(Node start, Node last)\r\n        {\r\n            if (start == null || start == last) // Also capture case of 1 node\r\n                return start;\r\n\r\n            Node slow = start;\r\n            Node fast = start.next;\r\n\r\n            while (fast != last)\r\n            {\r\n                fast = fast.next;\r\n                if (fast != last)\r\n                {\r\n                    slow = slow.next;\r\n                    fast = fast.next;\r\n                }\r\n            }\r\n            return slow;\r\n        }\r\n      \r\n        Node binarySearch(int value)  // Should not be static\r\n        {\r\n            Node start = head;\r\n            Node last = null;\r\n\r\n            do\r\n            {\r\n                Node mid = middleNode(start, last);\r\n                if (mid == null)\r\n                    return null;\r\n               if (mid.data == value)\r\n                    return mid;\r\n                else if (mid.data &gt; value)\r\n                    start = mid.next;\r\n                else\r\n                    last = mid;\r\n            } while (last != start); // Don&#39;t need to test last is null\r\n            return null;\r\n        }\r\n    }\r\n  \r\n    public static void main(String[] args)\r\n    {\r\n        LinkedList list = new LinkedList(); // Should create instance\r\n        list.push(2);  // Use the instance to push data\r\n        list.push(5);\r\n        list.push(7);\r\n        list.push(11);\r\n        list.push(15);\r\n        list.push(18);\r\n        int value = 18;\r\n\r\n        if (list.binarySearch(value) == null)\r\n        {\r\n            System.out.println(&quot;Element not found&quot;);\r\n        }\r\n        else\r\n        {\r\n            System.out.println(&quot;Element found&quot;);\r\n        }\r\n    }\r\n} \r\n```\r\n\r\nOn a final note, this code challenge is not teaching the right thing: binary search has no place in the world of linked lists. It isn&#39;t efficient there. A linear search makes much more sense when searching a linked list, and will often find a node faster than binary search will.\r\n\r\n","title":"I want to make a binary search using linked list","body":"<p>Some of the issues:</p>\n<ul>\n<li><p>You are trying to access <code>Node</code> from a static context, but <code>Node</code> is not static</p>\n</li>\n<li><p>As you don't create a <code>Main</code> <em>instance</em>, <code>Node</code> and <code>LinkedList</code> classes should be defined as static (unless you create them as top-level classes).</p>\n</li>\n<li><p>You should define <em>instance</em> methods. For instance, it is not best practice to define <code>push</code> as a static method where you need to provide the head node as argument. Instead <code>push</code> should be an instance method.</p>\n</li>\n<li><p><code>head</code> should be an instance field of the <code>LinkedList</code> class, not a variable in <code>main</code>.</p>\n</li>\n<li><p>The main function should create a <code>LinkedList</code> instance.</p>\n</li>\n</ul>\n<p>Here is your code with these remarks taken into account:</p>\n<pre><code>public class Main\n{ \n    static class Node // Mark as static, since we don't create a Main instance\n    {\n        int data;\n        Node next;\n        Node(int d)\n        {\n            data = d;\n            next = null;\n        }\n    }\n\n    static class LinkedList  // Mark as static\n    {\n        Node head = null; // Should be a field, not a function argument\n      \n        Node push(int data) // Should not be static\n        {\n            Node newNode = new Node(data);\n            newNode.next = head;\n            head = newNode;\n            return head;\n        }\n      \n        static Node middleNode(Node start, Node last)\n        {\n            if (start == null || start == last) // Also capture case of 1 node\n                return start;\n\n            Node slow = start;\n            Node fast = start.next;\n\n            while (fast != last)\n            {\n                fast = fast.next;\n                if (fast != last)\n                {\n                    slow = slow.next;\n                    fast = fast.next;\n                }\n            }\n            return slow;\n        }\n      \n        Node binarySearch(int value)  // Should not be static\n        {\n            Node start = head;\n            Node last = null;\n\n            do\n            {\n                Node mid = middleNode(start, last);\n                if (mid == null)\n                    return null;\n               if (mid.data == value)\n                    return mid;\n                else if (mid.data &gt; value)\n                    start = mid.next;\n                else\n                    last = mid;\n            } while (last != start); // Don't need to test last is null\n            return null;\n        }\n    }\n  \n    public static void main(String[] args)\n    {\n        LinkedList list = new LinkedList(); // Should create instance\n        list.push(2);  // Use the instance to push data\n        list.push(5);\n        list.push(7);\n        list.push(11);\n        list.push(15);\n        list.push(18);\n        int value = 18;\n\n        if (list.binarySearch(value) == null)\n        {\n            System.out.println(&quot;Element not found&quot;);\n        }\n        else\n        {\n            System.out.println(&quot;Element found&quot;);\n        }\n    }\n} \n</code></pre>\n<p>On a final note, this code challenge is not teaching the right thing: binary search has no place in the world of linked lists. It isn't efficient there. A linear search makes much more sense when searching a linked list, and will often find a node faster than binary search will.</p>\n"}],"owner":{"account_id":28761208,"reputation":1,"user_id":22027064,"display_name":"iEdit4Fun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1700352426,"creation_date":1700348299,"question_id":77509006,"body_markdown":"[enter image description here](https://i.stack.imgur.com/KIAFB.png)\r\n\r\nSearch Techniques\r\nUse appropriate variable names and adhere to coding standards.\r\nHandle user input and display output clearly.\r\nUse iterative/recursive binary search in binary Search method\r\nSubmit the Java file (StudentName_BinaryLinkedList.java) containing your implementation. Replace student name with your name\r\n\r\nQuestion at position 1\r\n1\r\n \r\n10 points \r\n\r\n \r\n \r\nQuestion at position 1 \r\nYou are given a sorted singly linked list of integers, and you are required to implement a binary search algorithm to find a target value within the linked list. Write a Java program that includes the following:\r\n\r\nDefine a class named Node to represent a node in the linked list. The class should have an integer value and a reference to the next node.\r\n\r\nDefine a class named Linked List to represent the linked list. The class should have methods to insert nodes and a method named binary Search that takes a target value as a parameter and returns true if the target value is present in the linked list, and false otherwise. Implement the binary search algorithm for linked lists.\r\n\r\nIn the main method, create an instance of the Linked List class and insert at least 10 sorted integers into the linked list. Prompt the user to input a target value to search for in the linked list. Call the binary Search method to determine if the target value is present and display the result.\r\n\r\nThis is what I tried and I get the same error\r\n\r\nhttps://replit.com/@JordanBrown24/CS114#Main.java\r\n\r\n```\r\npublic class Main\r\n{ \r\n  class Node\r\n  {\r\n      int data;\r\n      Node next;\r\n      Node(int d)\r\n      {\r\n          data = d;\r\n          next = null;\r\n      }\r\n  }\r\n\r\n  class LinkedList\r\n    \r\n  {\r\n      static Node push(Node head, int data)\r\n      {\r\n          Node newNode = new Node(data);\r\n          newNode.next = head;\r\n          head = newNode;\r\n          return head;\r\n      }\r\n      static Node middleNode(Node start, Node last)\r\n      {\r\n          if (start == null)\r\n              return null;\r\n\r\n          Node slow = start;\r\n          Node fast = start.next;\r\n\r\n          while (fast != last)\r\n          {\r\n              fast = fast.next;\r\n              if (fast != last)\r\n              {\r\n                  slow = slow.next;\r\n                  fast = fast.next;\r\n              }\r\n          }\r\n          return slow;\r\n      }\r\n      static Node binarySearch(Node head, int value)\r\n      {\r\n          Node start = head;\r\n          Node last = null;\r\n\r\n          do\r\n          {\r\n\r\n              Node mid = middleNode(start, last);\r\n              if (mid == null)\r\n                  return null;\r\n              if (mid.data == value)\r\n                  return mid;\r\n              else if (mid.data &gt; value)\r\n              {\r\n                  start = mid.next;\r\n              }\r\n              else\r\n                  last = mid;\r\n          } while (last == null || last != start);\r\n\r\n          return null;\r\n      }\r\n      public static void main(String[] args)\r\n      {\r\n          Node head = null;\r\n\r\n          head = push(head, 2);\r\n          head = push(head, 5);\r\n          head = push(head, 7);\r\n          head = push(head, 11);\r\n          head = push(head, 15);\r\n          head = push(head, 18);\r\n          int value = 7;\r\n\r\n          if (binarySearch(head, value) == null)\r\n          {\r\n              System.out.println(&quot;Element not found&quot;);\r\n          }\r\n          else\r\n          {\r\n              System.out.println(&quot;Element found&quot;);\r\n          }\r\n      }\r\n  }\r\n}  \r\n```\r\n","title":"I want to make a binary search using linked list","body":"<p><a href=\"https://i.stack.imgur.com/KIAFB.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Search Techniques\nUse appropriate variable names and adhere to coding standards.\nHandle user input and display output clearly.\nUse iterative/recursive binary search in binary Search method\nSubmit the Java file (StudentName_BinaryLinkedList.java) containing your implementation. Replace student name with your name</p>\n<p>Question at position 1\n1</p>\n<p>10 points</p>\n<p>Question at position 1\nYou are given a sorted singly linked list of integers, and you are required to implement a binary search algorithm to find a target value within the linked list. Write a Java program that includes the following:</p>\n<p>Define a class named Node to represent a node in the linked list. The class should have an integer value and a reference to the next node.</p>\n<p>Define a class named Linked List to represent the linked list. The class should have methods to insert nodes and a method named binary Search that takes a target value as a parameter and returns true if the target value is present in the linked list, and false otherwise. Implement the binary search algorithm for linked lists.</p>\n<p>In the main method, create an instance of the Linked List class and insert at least 10 sorted integers into the linked list. Prompt the user to input a target value to search for in the linked list. Call the binary Search method to determine if the target value is present and display the result.</p>\n<p>This is what I tried and I get the same error</p>\n<p><a href=\"https://replit.com/@JordanBrown24/CS114#Main.java\" rel=\"nofollow noreferrer\">https://replit.com/@JordanBrown24/CS114#Main.java</a></p>\n<pre><code>public class Main\n{ \n  class Node\n  {\n      int data;\n      Node next;\n      Node(int d)\n      {\n          data = d;\n          next = null;\n      }\n  }\n\n  class LinkedList\n    \n  {\n      static Node push(Node head, int data)\n      {\n          Node newNode = new Node(data);\n          newNode.next = head;\n          head = newNode;\n          return head;\n      }\n      static Node middleNode(Node start, Node last)\n      {\n          if (start == null)\n              return null;\n\n          Node slow = start;\n          Node fast = start.next;\n\n          while (fast != last)\n          {\n              fast = fast.next;\n              if (fast != last)\n              {\n                  slow = slow.next;\n                  fast = fast.next;\n              }\n          }\n          return slow;\n      }\n      static Node binarySearch(Node head, int value)\n      {\n          Node start = head;\n          Node last = null;\n\n          do\n          {\n\n              Node mid = middleNode(start, last);\n              if (mid == null)\n                  return null;\n              if (mid.data == value)\n                  return mid;\n              else if (mid.data &gt; value)\n              {\n                  start = mid.next;\n              }\n              else\n                  last = mid;\n          } while (last == null || last != start);\n\n          return null;\n      }\n      public static void main(String[] args)\n      {\n          Node head = null;\n\n          head = push(head, 2);\n          head = push(head, 5);\n          head = push(head, 7);\n          head = push(head, 11);\n          head = push(head, 15);\n          head = push(head, 18);\n          int value = 7;\n\n          if (binarySearch(head, value) == null)\n          {\n              System.out.println(&quot;Element not found&quot;);\n          }\n          else\n          {\n              System.out.println(&quot;Element found&quot;);\n          }\n      }\n  }\n}  \n</code></pre>\n"},{"tags":["java","file","cross-platform","dvd"],"answers":[{"comments":[{"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"score":1,"creation_date":1313108232,"post_id":7034388,"comment_id":8405109,"body_markdown":"Bit of a hack though, really. But it&#39;s good for identifying immediately playable drives. However,  wouldn&#39;t like to use it for permanently displaying a drive.","body":"Bit of a hack though, really. But it&#39;s good for identifying immediately playable drives. However,  wouldn&#39;t like to use it for permanently displaying a drive."},{"owner":{"account_id":993440,"reputation":2244,"user_id":1010029,"accept_rate":88,"display_name":"Jesan Fafon"},"score":5,"creation_date":1346429023,"post_id":7034388,"comment_id":16369473,"body_markdown":"This isn&#39;t cross platform. On Linux using EXT4, the output is:\n/: rootfs","body":"This isn&#39;t cross platform. On Linux using EXT4, the output is: /: rootfs"}],"tags":[],"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1313108045,"creation_date":1313108045,"answer_id":7034388,"question_id":7034216,"body_markdown":"The new [file system API][1] in Java 7 can do this:\r\n\r\n\tFileSystem fs = FileSystems.getDefault();\r\n            \r\n    for (Path rootPath : fs.getRootDirectories())\r\n    {\r\n        try\r\n        {\r\n            FileStore store = Files.getFileStore(rootPath);\r\n            System.out.println(rootPath + &quot;: &quot; + store.type());\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            System.out.println(rootPath + &quot;: &quot; + &quot;&lt;error getting store details&gt;&quot;);\r\n        }\r\n    }  \r\n\r\nOn my system it gave the following (with a CD in drive D, the rest hard disk or network shares):\r\n\r\n    C:\\: NTFS\r\n    D:\\: CDFS\r\n    H:\\: NTFS\r\n    M:\\: NTFS\r\n    S:\\: NTFS\r\n    T:\\: NTFS\r\n    V:\\: &lt;error getting store details&gt;\r\n    W:\\: NTFS\r\n    Z:\\: NTFS\r\n\r\nSo a query on the file store&#39;s *type()* should do it.\r\n\r\nWith a CD not in the drive, the getFileStore() call throws \r\n\r\n&gt; java.nio.file.FileSystemException: D:\\: The device is not ready.\r\n\r\n  [1]: http://download.oracle.com/javase/7/docs/api/java/nio/file/package-summary.html","title":"Get all DVD drives in Java","body":"<p>The new <a href=\"http://download.oracle.com/javase/7/docs/api/java/nio/file/package-summary.html\" rel=\"noreferrer\">file system API</a> in Java 7 can do this:</p>\n\n<pre><code>FileSystem fs = FileSystems.getDefault();\n\nfor (Path rootPath : fs.getRootDirectories())\n{\n    try\n    {\n        FileStore store = Files.getFileStore(rootPath);\n        System.out.println(rootPath + \": \" + store.type());\n    }\n    catch (IOException e)\n    {\n        System.out.println(rootPath + \": \" + \"&lt;error getting store details&gt;\");\n    }\n}  \n</code></pre>\n\n<p>On my system it gave the following (with a CD in drive D, the rest hard disk or network shares):</p>\n\n<pre><code>C:\\: NTFS\nD:\\: CDFS\nH:\\: NTFS\nM:\\: NTFS\nS:\\: NTFS\nT:\\: NTFS\nV:\\: &lt;error getting store details&gt;\nW:\\: NTFS\nZ:\\: NTFS\n</code></pre>\n\n<p>So a query on the file store's <em>type()</em> should do it.</p>\n\n<p>With a CD not in the drive, the getFileStore() call throws </p>\n\n<blockquote>\n  <p>java.nio.file.FileSystemException: D:: The device is not ready.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1047596,"reputation":9325,"user_id":1052284,"accept_rate":44,"display_name":"Mark Jeronimus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700348538,"creation_date":1700324069,"answer_id":77507713,"question_id":7034216,"body_markdown":"Here&#39;s a Linux-compatible approach:\r\n\r\n\tFileSystem fs = FileSystems.getDefault();\r\n\r\n\tfor (FileStore store : fs.getFileStores()) {\r\n\t\tString storeString = store.toString();\r\n\r\n\t\tString type = store.type();\r\n\t\tif (type.equals(&quot;tmpfs&quot;)) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tif (storeString.startsWith(&quot;/dev&quot;)) {\r\n\t\t\tcontinue;\r\n\t\t} else if (storeString.startsWith(&quot;/proc&quot;)) {\r\n\t\t\tcontinue;\r\n\t\t} else if (storeString.startsWith(&quot;/sys&quot;)) {\r\n\t\t\tcontinue;\r\n\t\t} else if (storeString.startsWith(&quot;/run/&quot;) &amp;&amp; !storeString.startsWith(&quot;/run/user&quot;)) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tint index = storeString.indexOf(&quot; (&quot;);\r\n\t\tif (index &lt; 0) {\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tString path = storeString.substring(0, index);\r\n\r\n\t\tSystem.out.printf(&quot;%-30s %-20s %-10s\\n&quot;, path, store.name(), type);\r\n\t}\r\n\r\nIt can only detect a \\*disk*, not a *drive*. With no disk inserted, or a corrupted disk, the mount point just disappears.\r\n\r\n```none\r\n\t/                              /dev/sda5            btrfs     \r\n\t/boot/efi                      /dev/sda1            vfat      \r\n\t/mnt/oldubuntu                 /dev/sda3            ext4      \r\n\t/home                          /dev/sda4            ext4      \r\n\t/run/user/1000/gvfs            gvfsd-fuse           fuse.gvfsd-fuse\r\n\t/run/user/1000/doc             portal               fuse.portal\r\n\t/media/zom-b/W1200A            /dev/sdb1            ext4      \r\n\t/mnt/nasu                      zom-b@192.168.1.20:/ fuse.sshfs\r\n\t/media/zom-b/MovieDataDVD001   /dev/sr0             iso9660   \r\n```\r\n\r\nOptical disks can be `iso9660` or `udf` afaik","title":"Get all DVD drives in Java","body":"<p>Here's a Linux-compatible approach:</p>\n<pre><code>FileSystem fs = FileSystems.getDefault();\n\nfor (FileStore store : fs.getFileStores()) {\n    String storeString = store.toString();\n\n    String type = store.type();\n    if (type.equals(&quot;tmpfs&quot;)) {\n        continue;\n    }\n\n    if (storeString.startsWith(&quot;/dev&quot;)) {\n        continue;\n    } else if (storeString.startsWith(&quot;/proc&quot;)) {\n        continue;\n    } else if (storeString.startsWith(&quot;/sys&quot;)) {\n        continue;\n    } else if (storeString.startsWith(&quot;/run/&quot;) &amp;&amp; !storeString.startsWith(&quot;/run/user&quot;)) {\n        continue;\n    }\n\n    int index = storeString.indexOf(&quot; (&quot;);\n    if (index &lt; 0) {\n        continue;\n    }\n\n    String path = storeString.substring(0, index);\n\n    System.out.printf(&quot;%-30s %-20s %-10s\\n&quot;, path, store.name(), type);\n}\n</code></pre>\n<p>It can only detect a *disk*, not a <em>drive</em>. With no disk inserted, or a corrupted disk, the mount point just disappears.</p>\n<pre class=\"lang-none prettyprint-override\"><code>    /                              /dev/sda5            btrfs     \n    /boot/efi                      /dev/sda1            vfat      \n    /mnt/oldubuntu                 /dev/sda3            ext4      \n    /home                          /dev/sda4            ext4      \n    /run/user/1000/gvfs            gvfsd-fuse           fuse.gvfsd-fuse\n    /run/user/1000/doc             portal               fuse.portal\n    /media/zom-b/W1200A            /dev/sdb1            ext4      \n    /mnt/nasu                      zom-b@192.168.1.20:/ fuse.sshfs\n    /media/zom-b/MovieDataDVD001   /dev/sr0             iso9660   \n</code></pre>\n<p>Optical disks can be <code>iso9660</code> or <code>udf</code> afaik</p>\n"}],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2365,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":7034388,"answer_count":2,"score":4,"last_activity_date":1700348538,"creation_date":1313106373,"question_id":7034216,"body_markdown":"[After getting a list of the drive roots][1], is there a cross-platform way in Java to check whether any of the drives is:\r\n\r\n - A DVD drive\r\n - ...that contains a disk?\r\n\r\nI want the user to be able to select a DVD for playing, and narrowing the options down to DVD drives rather than including other drives (such as pen drives, hard drives etc.) would be helpful in this case. If I can get a list of such drives, showing what ones contain disks would again be helpful (same reason.)\r\n\r\nAfter searching around though I haven&#39;t found any way to do this that doesn&#39;t involve platform-specific hackery. Is there anything out there?\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/io/File.html#listRoots%28%29","title":"Get all DVD drives in Java","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/io/File.html#listRoots%28%29\" rel=\"nofollow\">After getting a list of the drive roots</a>, is there a cross-platform way in Java to check whether any of the drives is:</p>\n\n<ul>\n<li>A DVD drive</li>\n<li>...that contains a disk?</li>\n</ul>\n\n<p>I want the user to be able to select a DVD for playing, and narrowing the options down to DVD drives rather than including other drives (such as pen drives, hard drives etc.) would be helpful in this case. If I can get a list of such drives, showing what ones contain disks would again be helpful (same reason.)</p>\n\n<p>After searching around though I haven't found any way to do this that doesn't involve platform-specific hackery. Is there anything out there?</p>\n"},{"tags":["java","tls1.2"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1492564818,"post_id":43481010,"comment_id":74025041,"body_markdown":"The (current) `SSLContext` s set only an _upper_ bound on the protocol (unless FIPS mode). Do you or any library/middleware call `.setEnabledProtocols` on the resulting `SSLServerSocket SSLSocket` (s) and/or `SSLEngine` (s)? Do you have any non-standard settings in `JRE/lib/security/security.java` or equivalent calls to `Security.setProperty`?","body":"The (current) <code>SSLContext</code> s set only an <i>upper</i> bound on the protocol (unless FIPS mode). Do you or any library/middleware call <code>.setEnabledProtocols</code> on the resulting <code>SSLServerSocket SSLSocket</code> (s) and/or <code>SSLEngine</code> (s)? Do you have any non-standard settings in <code>JRE&#47;lib&#47;security&#47;security.java</code> or equivalent calls to <code>Security.setProperty</code>?"},{"owner":{"account_id":10408896,"reputation":31,"user_id":7674955,"display_name":"feh"},"score":0,"creation_date":1492694178,"post_id":43481010,"comment_id":74094579,"body_markdown":"I wasn&#39;t aware of the upper bound aspect. Thank you for that information. If I use setEnabledProtocols(), I get the desired result. However, this is a partial solution; my original question remains - is there a way to restrict enabled protocols to only TLS 1.2 for the entire JVM?","body":"I wasn&#39;t aware of the upper bound aspect. Thank you for that information. If I use setEnabledProtocols(), I get the desired result. However, this is a partial solution; my original question remains - is there a way to restrict enabled protocols to only TLS 1.2 for the entire JVM?"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1492931872,"post_id":43481010,"comment_id":74186921,"body_markdown":"For 8u31 and 7u75 up, you can edit `jdk.tls.disabledAlgorithms` in `java.security` (which your Q already lists, and applies to all JVMs running that JRE) or equivalently call `Security.setProperty` before JSSE is initialized (can vary per JVM, but may need updating when JRE default is updated OR cryptanalytic knowledge changes). Note this affects both incoming and outgoing connections (if you use both). Also found dupe http://stackoverflow.com/questions/32466407/how-to-force-java-server-to-accept-only-tls-1-2-and-reject-tls-1-0-and-tls-1-1-c","body":"For 8u31 and 7u75 up, you can edit <code>jdk.tls.disabledAlgorithms</code> in <code>java.security</code> (which your Q already lists, and applies to all JVMs running that JRE) or equivalently call <code>Security.setProperty</code> before JSSE is initialized (can vary per JVM, but may need updating when JRE default is updated OR cryptanalytic knowledge changes). Note this affects both incoming and outgoing connections (if you use both). Also found dupe <a href=\"http://stackoverflow.com/questions/32466407/how-to-force-java-server-to-accept-only-tls-1-2-and-reject-tls-1-0-and-tls-1-1-c\" title=\"how to force java server to accept only tls 1 2 and reject tls 1 0 and tls 1 1 c\">stackoverflow.com/questions/32466407/&hellip;</a>"},{"owner":{"account_id":10408896,"reputation":31,"user_id":7674955,"display_name":"feh"},"score":0,"creation_date":1493060782,"post_id":43481010,"comment_id":74241746,"body_markdown":"For some reason, using the jdk.tls.disabledAlgorithms parameter is not having the desired effect. Is that setting a &quot;master switch&quot;, or can it be overridden by programmatic measures? I&#39;m using the setting below, yet my server still accepts TLS 1.1 connections: \n  jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1 DH keySize &lt; 1024","body":"For some reason, using the jdk.tls.disabledAlgorithms parameter is not having the desired effect. Is that setting a &quot;master switch&quot;, or can it be overridden by programmatic measures? I&#39;m using the setting below, yet my server still accepts TLS 1.1 connections:    jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1 DH keySize &lt; 1024"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1493169536,"post_id":43481010,"comment_id":74295781,"body_markdown":"There is no API to override disabledAlgorithms once set, although you can &#39;cheat&#39; with reflection and change any Java internal field (unless a securitymanager is set and prohibits it). If you have correctly quoted the value you used, it is **apparently missing the comma** between TLSv1.1 and DH keySize&lt;1024. This causes it to be parsed wrong and effectively ignores that item.","body":"There is no API to override disabledAlgorithms once set, although you can &#39;cheat&#39; with reflection and change any Java internal field (unless a securitymanager is set and prohibits it). If you have correctly quoted the value you used, it is <b>apparently missing the comma</b> between TLSv1.1 and DH keySize&lt;1024. This causes it to be parsed wrong and effectively ignores that item."}],"answers":[{"comments":[{"owner":{"account_id":78723,"reputation":9670,"user_id":223837,"accept_rate":80,"display_name":"MarnixKlooster ReinstateMonica"},"score":0,"creation_date":1533297853,"post_id":43719612,"comment_id":90306971,"body_markdown":"Note that details are in the answers to https://stackoverflow.com/q/32466407/223837, as as well as in the comments by the OP on their question (I missed them on first reading).","body":"Note that details are in the answers to <a href=\"https://stackoverflow.com/q/32466407/223837\">stackoverflow.com/q/32466407/223837</a>, as as well as in the comments by the OP on their question (I missed them on first reading)."}],"tags":[],"owner":{"account_id":10408896,"reputation":31,"user_id":7674955,"display_name":"feh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493644152,"creation_date":1493644152,"answer_id":43719612,"question_id":43481010,"body_markdown":"Editing security.java does work, assuming you have all the necessary commas.","title":"how to enable only TLSv1.2 on Java 8 server application","body":"<p>Editing security.java does work, assuming you have all the necessary commas.</p>\n"}],"owner":{"account_id":10408896,"reputation":31,"user_id":7674955,"display_name":"feh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16984,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1700363561,"answer_count":1,"score":3,"last_activity_date":1700348520,"creation_date":1492545098,"question_id":43481010,"body_markdown":"I&#39;m trying to configure an application running on Java 8 to support ***only*** TLSv1.2 connections. I&#39;ve seen posts about altering .../jre/lib/security/java.security, using -Ddeployment.security.TLS* arguments when launching the JVM, and of course specifying an SSLContext of &quot;TLSV1.2&quot; in the code.\r\n\r\nI&#39;ve managed to get the server to support only TLSv1.1 and TLSv1.2, but have been unsuccessful at also turning away TLSv1.1 connections.\r\n\r\nAny help would be appreciated. Thanks.","title":"how to enable only TLSv1.2 on Java 8 server application","body":"<p>I'm trying to configure an application running on Java 8 to support <strong><em>only</em></strong> TLSv1.2 connections. I've seen posts about altering .../jre/lib/security/java.security, using -Ddeployment.security.TLS* arguments when launching the JVM, and of course specifying an SSLContext of \"TLSV1.2\" in the code.</p>\n\n<p>I've managed to get the server to support only TLSv1.1 and TLSv1.2, but have been unsuccessful at also turning away TLSv1.1 connections.</p>\n\n<p>Any help would be appreciated. Thanks.</p>\n"},{"tags":["java","macos","jenkins"],"comments":[{"owner":{"account_id":4599455,"reputation":2892,"user_id":3730626,"display_name":"M B"},"score":1,"creation_date":1700462619,"post_id":77508997,"comment_id":136653037,"body_markdown":"Switch to the Jenkins user and try running the same commands to see if this user also has access to the JAVA_HOME","body":"Switch to the Jenkins user and try running the same commands to see if this user also has access to the JAVA_HOME"}],"owner":{"account_id":14831756,"reputation":83,"user_id":10711074,"display_name":"raymax"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700348008,"creation_date":1700348008,"question_id":77508997,"body_markdown":"I have installed jenkins on my local machine. When I try to run a JOB i am getting an error \r\n\r\nERROR: JAVA_HOME is set to an invalid directory: /usr/libexec/java_home\r\nI have multiple java version installed and properly configured JAVA_HOME-&gt; /usr/libexec/java_home\r\n\r\nIn terminal **java -version** returns -&gt;  \r\njava version &quot;17.0.8&quot; 2023-07-18 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.8+9-LTS-211)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.8+9-LTS-211, mixed mode, sharing)\r\n\r\n**whereis JAVA_HOME** returns -&gt;  \r\nJAVA_HOME: /usr/libexec/JAVA_HOME\r\n\r\nterminal command **/usr/libexec/java_home -V**  return -&gt;   \r\nMatching Java Virtual Machines (2):\r\n    17.0.8 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 17.0.8&quot; /Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home\r\n    15.0.1 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 15.0.1&quot; /Library/Java/JavaVirtualMachines/jdk-15.0.1.jdk/Contents/Home\r\n/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home\r\n\r\n","title":"Jenkins can not locate JAVA_HOME on MacOS","body":"<p>I have installed jenkins on my local machine. When I try to run a JOB i am getting an error</p>\n<p>ERROR: JAVA_HOME is set to an invalid directory: /usr/libexec/java_home\nI have multiple java version installed and properly configured JAVA_HOME-&gt; /usr/libexec/java_home</p>\n<p>In terminal <strong>java -version</strong> returns -&gt;<br />\njava version &quot;17.0.8&quot; 2023-07-18 LTS\nJava(TM) SE Runtime Environment (build 17.0.8+9-LTS-211)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.8+9-LTS-211, mixed mode, sharing)</p>\n<p><strong>whereis JAVA_HOME</strong> returns -&gt;<br />\nJAVA_HOME: /usr/libexec/JAVA_HOME</p>\n<p>terminal command <strong>/usr/libexec/java_home -V</strong>  return -&gt;<br />\nMatching Java Virtual Machines (2):\n17.0.8 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 17.0.8&quot; /Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home\n15.0.1 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 15.0.1&quot; /Library/Java/JavaVirtualMachines/jdk-15.0.1.jdk/Contents/Home\n/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8732,"reputation":87908,"user_id":15880,"accept_rate":75,"display_name":"Powerlord"},"score":0,"creation_date":1700347475,"post_id":77508890,"comment_id":136644061,"body_markdown":"I feel like this is a XY Problem.  Is there a reason you need it to evaluate as a Boolean rather than just doing a null check and/or `Optional&lt;ErrType&gt;`&#39;s `isPresent()`?","body":"I feel like this is a XY Problem.  Is there a reason you need it to evaluate as a Boolean rather than just doing a null check and/or <code>Optional&lt;ErrType&gt;</code>&#39;s <code>isPresent()</code>?"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1700347799,"post_id":77508890,"comment_id":136644085,"body_markdown":"maybe add an `isError()` method to `ErrType`; or just `if (err.getID() == 1)`, assuming that method is implemented","body":"maybe add an <code>isError()</code> method to <code>ErrType</code>; or just <code>if (err.getID() == 1)</code>, assuming that method is implemented"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1700407001,"post_id":77508890,"comment_id":136647906,"body_markdown":"It’s not a good idea for a method to indicate an error status in a returned value.  Developers usually don’t bother to check returned values (which caused a tremendous number of problems in C programs for many years).  The best way to indicate an error is to have ErrType extend Exception, then declare exampleFunction as `public void exampleFunction() throws ErrType`.  Now it’s easy for calling code to discern whether an error occurred:  any code which is not in the `catch` block can safely assume there was no error.","body":"It’s not a good idea for a method to indicate an error status in a returned value.  Developers usually don’t bother to check returned values (which caused a tremendous number of problems in C programs for many years).  The best way to indicate an error is to have ErrType extend Exception, then declare exampleFunction as <code>public void exampleFunction() throws ErrType</code>.  Now it’s easy for calling code to discern whether an error occurred:  any code which is not in the <code>catch</code> block can safely assume there was no error."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700346892,"creation_date":1700346892,"answer_id":77508961,"question_id":77508890,"body_markdown":"In developing _Java_, they decided against this type of evaluation for _data-types_, due to the plethora of errors it created in similar languages, e.g., _C_, _C++_, etc.\\\r\nIt&#39;s sometimes referred to as _&quot;parity&quot;_.\r\n\r\nThe simplest solution is to just create a _method_.\r\n\r\n```java\r\nclass X {\r\n    boolean is() {\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nX x = new X();\r\nif (x.is()) {\r\n\r\n}\r\n```","title":"Auto-Typecasting Java class to a Boolean","body":"<p>In developing <em>Java</em>, they decided against this type of evaluation for <em>data-types</em>, due to the plethora of errors it created in similar languages, e.g., <em>C</em>, <em>C++</em>, etc.<br />\nIt's sometimes referred to as <em>&quot;parity&quot;</em>.</p>\n<p>The simplest solution is to just create a <em>method</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class X {\n    boolean is() {\n        return true;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>X x = new X();\nif (x.is()) {\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":2,"creation_date":1700380565,"post_id":77508984,"comment_id":136645769,"body_markdown":"detail: never use `==` to compare *content* of object (unless you really want to check if it is the same instance, not just equal content) - see [How do I compare strings in Java?](https://stackoverflow.com/a/513839/85421) || in the code as posted, `==` will work since only using `literals`, but that is an edge case","body":"detail: never use <code>==</code> to compare <i>content</i> of object (unless you really want to check if it is the same instance, not just equal content) - see <a href=\"https://stackoverflow.com/a/513839/85421\">How do I compare strings in Java?</a> || in the code as posted, <code>==</code> will work since only using <code>literals</code>, but that is an edge case"}],"tags":[],"owner":{"account_id":28543340,"reputation":1,"user_id":21849114,"display_name":"Emilie Greaker"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1700347676,"creation_date":1700347676,"answer_id":77508984,"question_id":77508890,"body_markdown":"You could create an evaluate function in the ErrType class like this;\r\n\r\n    class ErrType {\r\n       ... code here ...\r\n    \r\n       public Boolean evaluate() {\r\n           return this.error_name == &quot;NO_ERROR&quot;;\r\n       }\r\n    }\r\n\r\nThen the main code would just be changing !err with !err.evaluate() like this;\r\n\r\n    public ErrType exampleFunction() {\r\n        // ErrType(ID, name, description)\r\n        // An int value of &quot;1&quot; is equivlent to true, anything else would be false.\r\n        return new ErrType(1, &quot;NO_ERROR&quot;, &quot;No error occured&quot;);\r\n    }\r\n    \r\n    public void testFunction() {\r\n        ErrType err = exampleFunction();\r\n        if(!err.evaluate()) {\r\n            // Error thrown. Do something.\r\n        } else {\r\n            // No error thrown.\r\n        }\r\n    }","title":"Auto-Typecasting Java class to a Boolean","body":"<p>You could create an evaluate function in the ErrType class like this;</p>\n<pre><code>class ErrType {\n   ... code here ...\n\n   public Boolean evaluate() {\n       return this.error_name == &quot;NO_ERROR&quot;;\n   }\n}\n</code></pre>\n<p>Then the main code would just be changing !err with !err.evaluate() like this;</p>\n<pre><code>public ErrType exampleFunction() {\n    // ErrType(ID, name, description)\n    // An int value of &quot;1&quot; is equivlent to true, anything else would be false.\n    return new ErrType(1, &quot;NO_ERROR&quot;, &quot;No error occured&quot;);\n}\n\npublic void testFunction() {\n    ErrType err = exampleFunction();\n    if(!err.evaluate()) {\n        // Error thrown. Do something.\n    } else {\n        // No error thrown.\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29937353,"reputation":1,"user_id":22942746,"display_name":"Alex Solon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1700347676,"creation_date":1700345728,"question_id":77508890,"body_markdown":"I&#39;m attempting to solve somewhat of an odd &quot;issue&quot;. I have a class that I am using to describe error types. It stores an ID, a name, and a short description. I want to be able to evaluate the class as a Boolean, but I can&#39;t seem to figure out how to do so.\r\n\r\nExample:\r\n\r\n```\r\npublic ErrType exampleFunction() {\r\n    // ErrType(ID, name, description)\r\n    // An int value of &quot;1&quot; is equivlent to true, anything else would be false.\r\n    return new ErrType(1, &quot;NO_ERROR&quot;, &quot;No error occured&quot;);\r\n}\r\n\r\npublic void testFunction() {\r\n    ErrType err = exampleFunction();\r\n    if(!err) {\r\n        // Error thrown. Do something.\r\n    } else {\r\n        // No error thrown.\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve tried something similar to the toString() method, but that did not work for obvious reasons.\r\n\r\ntoString() example:\r\n\r\n```\r\nclass ErrType {\r\n   ... code here ...\r\n\r\n   public String toString() {\r\n       return error_id + &quot;: &quot; + error_name;\r\n   }\r\n}\r\n\r\n... more code here ...\r\n\r\nErrType err = new ErrType(1, &quot;test&quot;);\r\nSystem.out.println(err);\r\n```","title":"Auto-Typecasting Java class to a Boolean","body":"<p>I'm attempting to solve somewhat of an odd &quot;issue&quot;. I have a class that I am using to describe error types. It stores an ID, a name, and a short description. I want to be able to evaluate the class as a Boolean, but I can't seem to figure out how to do so.</p>\n<p>Example:</p>\n<pre><code>public ErrType exampleFunction() {\n    // ErrType(ID, name, description)\n    // An int value of &quot;1&quot; is equivlent to true, anything else would be false.\n    return new ErrType(1, &quot;NO_ERROR&quot;, &quot;No error occured&quot;);\n}\n\npublic void testFunction() {\n    ErrType err = exampleFunction();\n    if(!err) {\n        // Error thrown. Do something.\n    } else {\n        // No error thrown.\n    }\n}\n</code></pre>\n<p>I've tried something similar to the toString() method, but that did not work for obvious reasons.</p>\n<p>toString() example:</p>\n<pre><code>class ErrType {\n   ... code here ...\n\n   public String toString() {\n       return error_id + &quot;: &quot; + error_name;\n   }\n}\n\n... more code here ...\n\nErrType err = new ErrType(1, &quot;test&quot;);\nSystem.out.println(err);\n</code></pre>\n"},{"tags":["java","jpa","netbeans","glassfish","ejb"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1700412712,"post_id":77508962,"comment_id":136648518,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29656951,"reputation":1,"user_id":22729513,"display_name":"Francesco"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1700346947,"creation_date":1700346947,"question_id":77508962,"body_markdown":"Good evening everyone. I am implementing a &quot;client&quot; and &quot;server&quot; with java enterprise technology. When I go to deploy the server it always generates an error similar to &quot;java.lang.IllegalArgumentException: Specified library jar org.eclipse.persistence.core-2.7.12.jar does not exist: C:\\Program%20Files\\NetBeans- 19\\netbeans\\java\\modules\\ext\\eclipselink\\org.eclipse.persistence.core-2.7.12.jar&quot;, changes the library. The fundamental problem is that all libraries are 100% present.\r\nPlease help me, I haven&#39;t found help anywhere. Thanks for your time.\r\n\r\n\r\n```\r\njava.lang.IllegalArgumentException: Specified library jar org.eclipse.persistence.core-2.7.12.jar does not exist: C:\\Program%20Files\\NetBeans-19\\netbeans\\java\\modules\\ext\\eclipselink\\org.eclipse.persistence.core-2.7.12.jar\r\n\tat org.glassfish.deployment.common.DeploymentContextImpl.getAppLibs(DeploymentContextImpl.java:458)\r\n\tat org.glassfish.deployment.common.DeploymentContextImpl.createClassLoader(DeploymentContextImpl.java:244)\r\n\tat org.glassfish.deployment.common.DeploymentContextImpl.createDeploymentClassLoader(DeploymentContextImpl.java:229)\r\n\tat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:365)\r\n\tat com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:219)\r\n\tat org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:491)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:540)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:536)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat javax.security.auth.Subject.doAs(Subject.java:360)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:535)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:566)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:558)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat javax.security.auth.Subject.doAs(Subject.java:360)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:557)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1465)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl.access$1300(CommandRunnerImpl.java:110)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1847)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1723)\r\n\tat com.sun.enterprise.v3.admin.AdminAdapter.doCommand(AdminAdapter.java:534)\r\n\tat com.sun.enterprise.v3.admin.AdminAdapter.onMissingResource(AdminAdapter.java:224)\r\n\tat org.glassfish.grizzly.http.server.StaticHttpHandlerBase.service(StaticHttpHandlerBase.java:190)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:463)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:168)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:206)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:180)\r\n\tat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:242)\r\n\tat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\r\n\tat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\r\n\tat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)\r\n\tat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:593)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:573)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n|#]\r\n  Exception while deploying the app [AutoRicambio5] : Specified library jar org.eclipse.persistence.core-2.7.12.jar does not exist: C:\\Program%20Files\\NetBeans-19\\netbeans\\java\\modules\\ext\\eclipselink\\org.eclipse.persistence.core-2.7.12.jar|#]\r\n\r\n```\r\n\r\n\r\nDatabase implementation with JPA and EJB","title":"Can&#39;t deploy EJB module to Glassfish","body":"<p>Good evening everyone. I am implementing a &quot;client&quot; and &quot;server&quot; with java enterprise technology. When I go to deploy the server it always generates an error similar to &quot;java.lang.IllegalArgumentException: Specified library jar org.eclipse.persistence.core-2.7.12.jar does not exist: C:\\Program%20Files\\NetBeans- 19\\netbeans\\java\\modules\\ext\\eclipselink\\org.eclipse.persistence.core-2.7.12.jar&quot;, changes the library. The fundamental problem is that all libraries are 100% present.\nPlease help me, I haven't found help anywhere. Thanks for your time.</p>\n<pre><code>java.lang.IllegalArgumentException: Specified library jar org.eclipse.persistence.core-2.7.12.jar does not exist: C:\\Program%20Files\\NetBeans-19\\netbeans\\java\\modules\\ext\\eclipselink\\org.eclipse.persistence.core-2.7.12.jar\n    at org.glassfish.deployment.common.DeploymentContextImpl.getAppLibs(DeploymentContextImpl.java:458)\n    at org.glassfish.deployment.common.DeploymentContextImpl.createClassLoader(DeploymentContextImpl.java:244)\n    at org.glassfish.deployment.common.DeploymentContextImpl.createDeploymentClassLoader(DeploymentContextImpl.java:229)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:365)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.deploy(ApplicationLifecycle.java:219)\n    at org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:491)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:540)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:536)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.Subject.doAs(Subject.java:360)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:535)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:566)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:558)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.Subject.doAs(Subject.java:360)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:557)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1465)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.access$1300(CommandRunnerImpl.java:110)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1847)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1723)\n    at com.sun.enterprise.v3.admin.AdminAdapter.doCommand(AdminAdapter.java:534)\n    at com.sun.enterprise.v3.admin.AdminAdapter.onMissingResource(AdminAdapter.java:224)\n    at org.glassfish.grizzly.http.server.StaticHttpHandlerBase.service(StaticHttpHandlerBase.java:190)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:463)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:168)\n    at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:206)\n    at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:180)\n    at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:242)\n    at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)\n    at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)\n    at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:539)\n    at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:593)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:573)\n    at java.lang.Thread.run(Thread.java:750)\n|#]\n  Exception while deploying the app [AutoRicambio5] : Specified library jar org.eclipse.persistence.core-2.7.12.jar does not exist: C:\\Program%20Files\\NetBeans-19\\netbeans\\java\\modules\\ext\\eclipselink\\org.eclipse.persistence.core-2.7.12.jar|#]\n\n</code></pre>\n<p>Database implementation with JPA and EJB</p>\n"},{"tags":["java","android","android-mediaplayer","android-orientation"],"comments":[{"owner":{"account_id":21384180,"reputation":1690,"user_id":15749574,"display_name":"JustSightseeing"},"score":0,"creation_date":1700089079,"post_id":77491322,"comment_id":136613418,"body_markdown":"Could you include the entire class?","body":"Could you include the entire class?"},{"owner":{"account_id":7497774,"reputation":623,"user_id":5697347,"display_name":"Marsroverr"},"score":0,"creation_date":1700089167,"post_id":77491322,"comment_id":136613428,"body_markdown":"Where is `player` declared? If it&#39;s a variable in the activity then when the activity is re-created the music keeps playing from the reference in the old instance&#39;s context, which is no longer accessible. Decouple your data from your activity lifcycle using a ViewModel and both this and your last question will be resolved as the data will persist between re-creation of the activity.","body":"Where is <code>player</code> declared? If it&#39;s a variable in the activity then when the activity is re-created the music keeps playing from the reference in the old instance&#39;s context, which is no longer accessible. Decouple your data from your activity lifcycle using a ViewModel and both this and your last question will be resolved as the data will persist between re-creation of the activity."},{"owner":{"account_id":27312778,"reputation":43,"user_id":20827674,"display_name":"P47HF1ND3R"},"score":0,"creation_date":1700090179,"post_id":77491322,"comment_id":136613532,"body_markdown":"Its currently declared at the very top like so     MP3Player player = new MP3Player();","body":"Its currently declared at the very top like so     MP3Player player = new MP3Player();"},{"owner":{"account_id":27312778,"reputation":43,"user_id":20827674,"display_name":"P47HF1ND3R"},"score":0,"creation_date":1700090228,"post_id":77491322,"comment_id":136613537,"body_markdown":"Would i not be able to pass the old state as a variable into save on instnace and recovery and reset it ?","body":"Would i not be able to pass the old state as a variable into save on instnace and recovery and reset it ?"},{"owner":{"account_id":7497774,"reputation":623,"user_id":5697347,"display_name":"Marsroverr"},"score":0,"creation_date":1700092466,"post_id":77491322,"comment_id":136613729,"body_markdown":"No, it&#39;s not memory-safe that way. A ViewModel is the proper way to persist data through the activity lifecycle","body":"No, it&#39;s not memory-safe that way. A ViewModel is the proper way to persist data through the activity lifecycle"}],"answers":[{"tags":[],"owner":{"account_id":7497774,"reputation":623,"user_id":5697347,"display_name":"Marsroverr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700092890,"creation_date":1700092890,"answer_id":77491582,"question_id":77491322,"body_markdown":"Your problem is the reference to the MP3 player instance is not persisting when the activity is recreated, but continues to exist in the background since it&#39;s playing music. The correct way to persist anything through the activity lifecycle is to use a [ViewModel](https://developer.android.com/topic/libraries/architecture/viewmodel), you should create one and store your MP3 player instance there.","title":"Android Studio Media Player won&#39;t stop after orientation change","body":"<p>Your problem is the reference to the MP3 player instance is not persisting when the activity is recreated, but continues to exist in the background since it's playing music. The correct way to persist anything through the activity lifecycle is to use a <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel\" rel=\"nofollow noreferrer\">ViewModel</a>, you should create one and store your MP3 player instance there.</p>\n"}],"owner":{"account_id":27312778,"reputation":43,"user_id":20827674,"display_name":"P47HF1ND3R"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1700346428,"creation_date":1700088388,"question_id":77491322,"body_markdown":"If I change the orientation of the phone the music would keep playing which is good but it won&#39;t pause or stop either.\r\n```java\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_current_music);\r\n\r\n    musicState = String.valueOf(player.getState());\r\n\r\n    if (savedInstanceState != null)\r\n    {\r\n        musicState = savedInstanceState.getString(&quot;State&quot;);\r\n\r\n    }\r\n\r\n    player.state = MP3Player.MP3PlayerState.valueOf(musicState);\r\n\r\n}\r\n\r\n\r\n@Override\r\npublic void onSaveInstanceState(Bundle outState)\r\n{\r\n    super.onSaveInstanceState(outState);\r\n    outState.putInt(&quot;Red&quot;, r);\r\n    outState.putInt(&quot;Green&quot;, g);\r\n    outState.putInt(&quot;Blue&quot;, b);\r\n    outState.putFloat(&quot;SPEED&quot;, playbackspeed);\r\n    outState.putInt(&quot;PROGRESS&quot;, progressUpdate);\r\n    outState.putInt(&quot;Update&quot;, updateIncrement);\r\n    outState.putInt(&quot;Duration&quot;, duration);\r\n    outState.putString(&quot;State&quot;, musicState);\r\n\r\n}\r\n\r\n\r\npublic void onMusicBackClick ( View v ) {\r\n    Log. d (&quot; g53mdp &quot;, &quot; button pressed !&quot;) ;\r\n\r\n\r\n    Intent intent = new Intent(CurrentMusic.this, MainActivity.class);\r\n    player.stop();\r\n    intent.putExtra(&quot;Red&quot;, r);\r\n    intent.putExtra(&quot;Green&quot;, g);\r\n    intent.putExtra(&quot;Blue&quot;, b);\r\n    intent.putExtra(&quot;SPEED&quot;, playbackspeed);\r\n\r\n    startActivity(intent);\r\n    finish();\r\n}\r\n\r\npublic void onPlayClick (View v)\r\n{\r\n    Log.d(&quot;MP3 Player&quot;, &quot;Music Play button pressed&quot;);\r\n    if(player.getState() == MP3Player.MP3PlayerState.PAUSED)\r\n    {\r\n        player.play();\r\n        musicState = String.valueOf(player.getState());\r\n    }\r\n    else if(player.getState() == MP3Player.MP3PlayerState.PLAYING)\r\n    {\r\n        player.pause();\r\n        musicState = String.valueOf(player.getState());\r\n    }\r\n    else\r\n    {\r\n        player.load(musicURL, playbackspeed);\r\n        musicState = String.valueOf(player.getState());\r\n\r\n        updateIncrement = player.getDuration()/100;\r\n        duration = player.getDuration();\r\n        musicProgress = findViewById(R.id.p_musicProgress);\r\n        musicProgress.setMax(duration);\r\n\r\n        progress = player.getProgress();\r\n        timer.scheduleAtFixedRate(timerTask = new TimerTask(){\r\n            @Override\r\n            public void run() {\r\n                progress = player.getProgress();\r\n                progressUpdate = progress;\r\n                musicProgress.setProgress(progress);\r\n            }\r\n        }, 0, updateIncrement);\r\n    }\r\n}\r\n\r\npublic void onPauseClick (View v)\r\n{\r\n    Log.d(&quot;MP3 Player&quot;, &quot;Music pause button pressed&quot;);\r\n    if(player.getState() == MP3Player.MP3PlayerState.PLAYING)\r\n    {\r\n        player.pause();\r\n    }\r\n}\r\npublic void onStopClick (View v)\r\n{\r\n    Log.d(&quot;MP3 Player&quot;, &quot;Music stop button pressed&quot;);\r\n    if(player.getState() == MP3Player.MP3PlayerState.PAUSED || player.getState() == MP3Player.MP3PlayerState.PLAYING)\r\n    {\r\n        player.stop();\r\n    }\r\n    player.stop();\r\n}\r\n```\r\n\r\n\r\nI thought just converting values to string and then extracting it and putting it back would work but if you play the media file and orientated the phone it almost goes rogue.\r\n\r\nI&#39;m printing out states and am checking every state under every single interaction and even after recreating the activity after orientation it says and tells me its actually stopped but its still some how playing?","title":"Android Studio Media Player won&#39;t stop after orientation change","body":"<p>If I change the orientation of the phone the music would keep playing which is good but it won't pause or stop either.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_current_music);\n\n    musicState = String.valueOf(player.getState());\n\n    if (savedInstanceState != null)\n    {\n        musicState = savedInstanceState.getString(&quot;State&quot;);\n\n    }\n\n    player.state = MP3Player.MP3PlayerState.valueOf(musicState);\n\n}\n\n\n@Override\npublic void onSaveInstanceState(Bundle outState)\n{\n    super.onSaveInstanceState(outState);\n    outState.putInt(&quot;Red&quot;, r);\n    outState.putInt(&quot;Green&quot;, g);\n    outState.putInt(&quot;Blue&quot;, b);\n    outState.putFloat(&quot;SPEED&quot;, playbackspeed);\n    outState.putInt(&quot;PROGRESS&quot;, progressUpdate);\n    outState.putInt(&quot;Update&quot;, updateIncrement);\n    outState.putInt(&quot;Duration&quot;, duration);\n    outState.putString(&quot;State&quot;, musicState);\n\n}\n\n\npublic void onMusicBackClick ( View v ) {\n    Log. d (&quot; g53mdp &quot;, &quot; button pressed !&quot;) ;\n\n\n    Intent intent = new Intent(CurrentMusic.this, MainActivity.class);\n    player.stop();\n    intent.putExtra(&quot;Red&quot;, r);\n    intent.putExtra(&quot;Green&quot;, g);\n    intent.putExtra(&quot;Blue&quot;, b);\n    intent.putExtra(&quot;SPEED&quot;, playbackspeed);\n\n    startActivity(intent);\n    finish();\n}\n\npublic void onPlayClick (View v)\n{\n    Log.d(&quot;MP3 Player&quot;, &quot;Music Play button pressed&quot;);\n    if(player.getState() == MP3Player.MP3PlayerState.PAUSED)\n    {\n        player.play();\n        musicState = String.valueOf(player.getState());\n    }\n    else if(player.getState() == MP3Player.MP3PlayerState.PLAYING)\n    {\n        player.pause();\n        musicState = String.valueOf(player.getState());\n    }\n    else\n    {\n        player.load(musicURL, playbackspeed);\n        musicState = String.valueOf(player.getState());\n\n        updateIncrement = player.getDuration()/100;\n        duration = player.getDuration();\n        musicProgress = findViewById(R.id.p_musicProgress);\n        musicProgress.setMax(duration);\n\n        progress = player.getProgress();\n        timer.scheduleAtFixedRate(timerTask = new TimerTask(){\n            @Override\n            public void run() {\n                progress = player.getProgress();\n                progressUpdate = progress;\n                musicProgress.setProgress(progress);\n            }\n        }, 0, updateIncrement);\n    }\n}\n\npublic void onPauseClick (View v)\n{\n    Log.d(&quot;MP3 Player&quot;, &quot;Music pause button pressed&quot;);\n    if(player.getState() == MP3Player.MP3PlayerState.PLAYING)\n    {\n        player.pause();\n    }\n}\npublic void onStopClick (View v)\n{\n    Log.d(&quot;MP3 Player&quot;, &quot;Music stop button pressed&quot;);\n    if(player.getState() == MP3Player.MP3PlayerState.PAUSED || player.getState() == MP3Player.MP3PlayerState.PLAYING)\n    {\n        player.stop();\n    }\n    player.stop();\n}\n</code></pre>\n<p>I thought just converting values to string and then extracting it and putting it back would work but if you play the media file and orientated the phone it almost goes rogue.</p>\n<p>I'm printing out states and am checking every state under every single interaction and even after recreating the activity after orientation it says and tells me its actually stopped but its still some how playing?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1700338865,"post_id":77508246,"comment_id":136643301,"body_markdown":"Your `VBox`, `HBox`s and `Label`s need to be defined in the cell (so you have one for each cell). You can’t use the same box, etc, in every cell. Then your `updateItem()` method should set the label text.","body":"Your <code>VBox</code>, <code>HBox</code>s and <code>Label</code>s need to be defined in the cell (so you have one for each cell). You can’t use the same box, etc, in every cell. Then your <code>updateItem()</code> method should set the label text."},{"owner":{"account_id":16016495,"reputation":575,"user_id":11559075,"display_name":"Salah"},"score":0,"creation_date":1700342127,"post_id":77508246,"comment_id":136643613,"body_markdown":"@James_D can you Share your Solution please","body":"@James_D can you Share your Solution please"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1700344069,"post_id":77508246,"comment_id":136643756,"body_markdown":"Additionally, you should only set the cell factory on the table once, not once for each item.  Think of it this way, the list cell is a window on a train, as the train moves the scenery behind the window (in your case the product currently seen through the window) changes, but the window itself doesn&#39;t change, there are only a fixed set of windows in the train carriage and those are created automatically by your table when it needs to call the cell factory to create a new cell.  So, you only need one cell factory to produce all the windows (cells).","body":"Additionally, you should only set the cell factory on the table once, not once for each item.  Think of it this way, the list cell is a window on a train, as the train moves the scenery behind the window (in your case the product currently seen through the window) changes, but the window itself doesn&#39;t change, there are only a fixed set of windows in the train carriage and those are created automatically by your table when it needs to call the cell factory to create a new cell.  So, you only need one cell factory to produce all the windows (cells)."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1700372618,"post_id":77508246,"comment_id":136645372,"body_markdown":"Possible duplicate: [How can I Populate a ListView in JavaFX using Custom Objects?](https://stackoverflow.com/questions/36657299/how-can-i-populate-a-listview-in-javafx-using-custom-objects)","body":"Possible duplicate: <a href=\"https://stackoverflow.com/questions/36657299/how-can-i-populate-a-listview-in-javafx-using-custom-objects\">How can I Populate a ListView in JavaFX using Custom Objects?</a>"}],"answers":[{"comments":[{"owner":{"account_id":16016495,"reputation":575,"user_id":11559075,"display_name":"Salah"},"score":0,"creation_date":1700346149,"post_id":77508842,"comment_id":136643920,"body_markdown":"Thank you Mr Slaw ,I really was stack on how the updateItem  works, this example  made everything clear for me to be honest.","body":"Thank you Mr Slaw ,I really was stack on how the updateItem  works, this example  made everything clear for me to be honest."}],"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1700345499,"creation_date":1700344401,"answer_id":77508842,"question_id":77508246,"body_markdown":"# Virutalized Controls\r\n\r\nA `ListView` is a so-called &quot;virtualized&quot; control. This means it has a relatively small number of cells, at least enough to fill the viewport, that it _reuses_ as needed. You may have thousands of items in the `ListView`, but only about 10 to 100 cells will exist at any given time.\r\n\r\nOther virtualized controls include `TableView`, `TreeTableView`, and `TreeView`.\r\n\r\n## Custom Cells\r\n\r\nYou can customize the way a virtual control displays its items by creating a custom cell implementation. This is done by subclassing the appropriate cell class and overriding the [`updateItem(T,boolean)`][1] method. That method must be implemented correctly.\r\n\r\n* You must call `super.updateItem(item, empty)` unconditionally (i.e., all code paths must call the super implementation at some point). Typically, this is the first statement in the method.\r\n\r\n* If the cell is empty then you must update the cell to its &quot;empty state&quot;. In most cases, that will simply mean setting the `text` and `graphic` properties to null. Often a cell should also revert to its &quot;empty state&quot; when the item is null (yet the cell is not empty).\r\n\r\n* Otherwise, you need to update the UI to match the new item (which may be null if the items list contains null elements).\r\n\r\nIt is the **cell&#39;s** responsibility to maintain its own visual state. It must update its UI appropriately when `updateItem` is called.\r\n\r\nIt is also important to realize that a [`Node`][2] can only appear once in the scene graph. If a node is already a child of some parent, then adding the node to a different parent will implicitly and quietly remove the node from its current parent. What this means a cell and a graphic have a _one-to-one_ relationship. You cannot share a graphic between cells. And that means the cell should be responsible for creating its own graphic.\r\n\r\nNote your code creates the graphic outside the cell. This would be &quot;okay&quot; if you did this for every cell, but you do not. Rather, you are creating the graphic _per cell factory_, which means the graphic is being shared with every cell created by that factory. Another thing that makes your approach incorrect is that you are setting the state of the graphic outside the cell. Given cells are reused, you must update the state of the graphic inside the `updateItem` method.\r\n\r\nWhat may help here is to forget about the fact your ultimate goal is to display multiple items when implementing a custom cell. Think of the cell as designed to display a single item (or no item when empty) _in isolation_. Do not worry about how many items there are, what other cells are doing, or how the control is using the cells. Simply implement `updateItem` correctly and then have faith it will &quot;just work&quot;.\r\n\r\n## Cell Factories\r\n\r\nThe way to customize which cell implementation is used with a virtualized control is by setting a cell factory. The factory is responsible for returning a _new_ cell each time it is called. The factory is also associated with the entire control (or column for the table-like controls). It is _not_ associated with each individual item. You should **only set the cell factory once**, when you are first initializing the control.\r\n\r\nNote your code is looping over a &quot;products&quot; list and setting the cell factory each iteration. As just stated, you should only be setting the factory once. Setting the cell factory will replace the previous one. So, in addition to the graphic problem mentioned at the end of the _Custom Cells_ section above, only the last iteration of your loop has any real effect.\r\n\r\n## Item Type\r\n\r\nThe whole point of custom cells and cell factories is to customize how an object is rendered in the UI. This means you should make the item type your actual model (or view-model) class. In other words, if you have a `Product` class that you want to display in a `ListView`, then you should ideally have a `ListView&lt;Product&gt;` instead of a `ListView&lt;String&gt;`. This will mean that `updateItem` is called with the appropriate `Product` argument, allowing you to update the cell&#39;s UI as needed.\r\n\r\nIt is a little different for tables, where you&#39;d have a `TableView&lt;Product&gt;` but then have, for example, a `TableColumn&lt;Product, String&gt;` for the product&#39;s name column.\r\n\r\n---\r\n\r\n# Example\r\n\r\nHere is an example showing how to use a custom cell with `ListView`.\r\n\r\n```java\r\npackage com.example;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.geometry.HPos;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.ListCell;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.scene.layout.ColumnConstraints;\r\nimport javafx.scene.layout.GridPane;\r\nimport javafx.stage.Stage;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\n\r\npublic class Main extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        var productListView = new ListView&lt;Product&gt;();\r\n        productListView.setCellFactory(lv -&gt; new ProductListCell());\r\n        productListView.getItems().addAll(createRandomProducts());\r\n\r\n        primaryStage.setScene(new Scene(productListView, 500, 800));\r\n        primaryStage.setTitle(&quot;Custom ListCell Example&quot;);\r\n        primaryStage.show();\r\n    }\r\n\r\n    private List&lt;Product&gt; createRandomProducts() {\r\n        var products = new ArrayList&lt;Product&gt;(100);\r\n\r\n        var random = new Random();\r\n        for (int i = 0; i &lt; 100; i++) {\r\n            var name = &quot;Product #&quot; + (i + 1);\r\n            double price = random.nextDouble(5.0, 151.0);\r\n            int quantity = random.nextInt(1, 11);\r\n            products.add(new Product(name, price, quantity));\r\n        }\r\n\r\n        return products;\r\n    }\r\n\r\n    // Warning: Using floating-point numbers for money calculations would be\r\n    // wrong in a &quot;real&quot; application.\r\n    public record Product(String name, double price, int quantity) {\r\n\r\n        public double totalPrice() {\r\n            return price * quantity;\r\n        }\r\n    }\r\n\r\n    public static class ProductListCell extends ListCell&lt;Product&gt; {\r\n\r\n        private final GridPane grid = new GridPane();\r\n        private final Label nameLabel = new Label();\r\n        private final Label priceLabel = new Label();\r\n        private final Label quantityLabel = new Label();\r\n\r\n        public ProductListCell() {\r\n            grid.setHgap(10);\r\n            grid.setVgap(10);\r\n            grid.setPadding(new Insets(10));\r\n\r\n            var colConstraints = new ColumnConstraints();\r\n            colConstraints.setMaxWidth(Double.MAX_VALUE);\r\n            colConstraints.setPercentWidth(50);\r\n            grid.getColumnConstraints().addAll(colConstraints, colConstraints);\r\n\r\n            grid.add(nameLabel, 0, 0, 2, 1);\r\n            grid.add(priceLabel, 0, 1);\r\n            grid.add(quantityLabel, 1, 1);\r\n            GridPane.setHalignment(quantityLabel, HPos.RIGHT);\r\n        }\r\n\r\n        @Override\r\n        protected void updateItem(Product item, boolean empty) {\r\n            super.updateItem(item, empty);\r\n            if (empty || item == null) {\r\n                setText(null);\r\n                setGraphic(null);\r\n            } else {\r\n                setGraphic(grid);\r\n                nameLabel.setText(item.name());\r\n                priceLabel.setText(String.format(&quot;Total price: $%,.2f&quot;, item.totalPrice()));\r\n                quantityLabel.setText(String.format(&quot;Quantity: %,d&quot;, item.quantity()));\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/21/javafx.controls/javafx/scene/control/Cell.html#updateItem(T,boolean)\r\n  [2]: https://openjfx.io/javadoc/21/javafx.graphics/javafx/scene/Node.html","title":"Ceate Simple Custom ListCell In Javafx","body":"<h1>Virutalized Controls</h1>\n<p>A <code>ListView</code> is a so-called &quot;virtualized&quot; control. This means it has a relatively small number of cells, at least enough to fill the viewport, that it <em>reuses</em> as needed. You may have thousands of items in the <code>ListView</code>, but only about 10 to 100 cells will exist at any given time.</p>\n<p>Other virtualized controls include <code>TableView</code>, <code>TreeTableView</code>, and <code>TreeView</code>.</p>\n<h2>Custom Cells</h2>\n<p>You can customize the way a virtual control displays its items by creating a custom cell implementation. This is done by subclassing the appropriate cell class and overriding the <a href=\"https://openjfx.io/javadoc/21/javafx.controls/javafx/scene/control/Cell.html#updateItem(T,boolean)\" rel=\"nofollow noreferrer\"><code>updateItem(T,boolean)</code></a> method. That method must be implemented correctly.</p>\n<ul>\n<li><p>You must call <code>super.updateItem(item, empty)</code> unconditionally (i.e., all code paths must call the super implementation at some point). Typically, this is the first statement in the method.</p>\n</li>\n<li><p>If the cell is empty then you must update the cell to its &quot;empty state&quot;. In most cases, that will simply mean setting the <code>text</code> and <code>graphic</code> properties to null. Often a cell should also revert to its &quot;empty state&quot; when the item is null (yet the cell is not empty).</p>\n</li>\n<li><p>Otherwise, you need to update the UI to match the new item (which may be null if the items list contains null elements).</p>\n</li>\n</ul>\n<p>It is the <strong>cell's</strong> responsibility to maintain its own visual state. It must update its UI appropriately when <code>updateItem</code> is called.</p>\n<p>It is also important to realize that a <a href=\"https://openjfx.io/javadoc/21/javafx.graphics/javafx/scene/Node.html\" rel=\"nofollow noreferrer\"><code>Node</code></a> can only appear once in the scene graph. If a node is already a child of some parent, then adding the node to a different parent will implicitly and quietly remove the node from its current parent. What this means a cell and a graphic have a <em>one-to-one</em> relationship. You cannot share a graphic between cells. And that means the cell should be responsible for creating its own graphic.</p>\n<p>Note your code creates the graphic outside the cell. This would be &quot;okay&quot; if you did this for every cell, but you do not. Rather, you are creating the graphic <em>per cell factory</em>, which means the graphic is being shared with every cell created by that factory. Another thing that makes your approach incorrect is that you are setting the state of the graphic outside the cell. Given cells are reused, you must update the state of the graphic inside the <code>updateItem</code> method.</p>\n<p>What may help here is to forget about the fact your ultimate goal is to display multiple items when implementing a custom cell. Think of the cell as designed to display a single item (or no item when empty) <em>in isolation</em>. Do not worry about how many items there are, what other cells are doing, or how the control is using the cells. Simply implement <code>updateItem</code> correctly and then have faith it will &quot;just work&quot;.</p>\n<h2>Cell Factories</h2>\n<p>The way to customize which cell implementation is used with a virtualized control is by setting a cell factory. The factory is responsible for returning a <em>new</em> cell each time it is called. The factory is also associated with the entire control (or column for the table-like controls). It is <em>not</em> associated with each individual item. You should <strong>only set the cell factory once</strong>, when you are first initializing the control.</p>\n<p>Note your code is looping over a &quot;products&quot; list and setting the cell factory each iteration. As just stated, you should only be setting the factory once. Setting the cell factory will replace the previous one. So, in addition to the graphic problem mentioned at the end of the <em>Custom Cells</em> section above, only the last iteration of your loop has any real effect.</p>\n<h2>Item Type</h2>\n<p>The whole point of custom cells and cell factories is to customize how an object is rendered in the UI. This means you should make the item type your actual model (or view-model) class. In other words, if you have a <code>Product</code> class that you want to display in a <code>ListView</code>, then you should ideally have a <code>ListView&lt;Product&gt;</code> instead of a <code>ListView&lt;String&gt;</code>. This will mean that <code>updateItem</code> is called with the appropriate <code>Product</code> argument, allowing you to update the cell's UI as needed.</p>\n<p>It is a little different for tables, where you'd have a <code>TableView&lt;Product&gt;</code> but then have, for example, a <code>TableColumn&lt;Product, String&gt;</code> for the product's name column.</p>\n<hr />\n<h1>Example</h1>\n<p>Here is an example showing how to use a custom cell with <code>ListView</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport javafx.application.Application;\nimport javafx.geometry.HPos;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.ListCell;\nimport javafx.scene.control.ListView;\nimport javafx.scene.layout.ColumnConstraints;\nimport javafx.scene.layout.GridPane;\nimport javafx.stage.Stage;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        var productListView = new ListView&lt;Product&gt;();\n        productListView.setCellFactory(lv -&gt; new ProductListCell());\n        productListView.getItems().addAll(createRandomProducts());\n\n        primaryStage.setScene(new Scene(productListView, 500, 800));\n        primaryStage.setTitle(&quot;Custom ListCell Example&quot;);\n        primaryStage.show();\n    }\n\n    private List&lt;Product&gt; createRandomProducts() {\n        var products = new ArrayList&lt;Product&gt;(100);\n\n        var random = new Random();\n        for (int i = 0; i &lt; 100; i++) {\n            var name = &quot;Product #&quot; + (i + 1);\n            double price = random.nextDouble(5.0, 151.0);\n            int quantity = random.nextInt(1, 11);\n            products.add(new Product(name, price, quantity));\n        }\n\n        return products;\n    }\n\n    // Warning: Using floating-point numbers for money calculations would be\n    // wrong in a &quot;real&quot; application.\n    public record Product(String name, double price, int quantity) {\n\n        public double totalPrice() {\n            return price * quantity;\n        }\n    }\n\n    public static class ProductListCell extends ListCell&lt;Product&gt; {\n\n        private final GridPane grid = new GridPane();\n        private final Label nameLabel = new Label();\n        private final Label priceLabel = new Label();\n        private final Label quantityLabel = new Label();\n\n        public ProductListCell() {\n            grid.setHgap(10);\n            grid.setVgap(10);\n            grid.setPadding(new Insets(10));\n\n            var colConstraints = new ColumnConstraints();\n            colConstraints.setMaxWidth(Double.MAX_VALUE);\n            colConstraints.setPercentWidth(50);\n            grid.getColumnConstraints().addAll(colConstraints, colConstraints);\n\n            grid.add(nameLabel, 0, 0, 2, 1);\n            grid.add(priceLabel, 0, 1);\n            grid.add(quantityLabel, 1, 1);\n            GridPane.setHalignment(quantityLabel, HPos.RIGHT);\n        }\n\n        @Override\n        protected void updateItem(Product item, boolean empty) {\n            super.updateItem(item, empty);\n            if (empty || item == null) {\n                setText(null);\n                setGraphic(null);\n            } else {\n                setGraphic(grid);\n                nameLabel.setText(item.name());\n                priceLabel.setText(String.format(&quot;Total price: $%,.2f&quot;, item.totalPrice()));\n                quantityLabel.setText(String.format(&quot;Quantity: %,d&quot;, item.quantity()));\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16016495,"reputation":575,"user_id":11559075,"display_name":"Salah"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77508842,"answer_count":1,"score":0,"last_activity_date":1700345499,"creation_date":1700332629,"question_id":77508246,"body_markdown":"I&#39;m trying to make a custom ListCell to my listview so i want the cell to be something like this : &lt;br&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nso i want the listcell to be a Vbox which contain two hbox&#39;s :&lt;br&gt;\r\nthe first hbox contain one label &lt;br&gt;\r\nthe second hbox contain two labels &lt;br&gt;\r\n\r\nand then each time i iterate through my products that i get from database i add the name of the product and it&#39;s quantity and price to those labels and set those hbox&#39;s to the Container vbox then set all that to the ListCell.&lt;br&gt;\r\n\r\nthis is what i did so far but can&#39;t make it work always i do that it redner empty Cell.&lt;br&gt;\r\n\r\n``` \r\n\r\n    public void FetchingProducts() {\r\n        Product product = new Product();\r\n        Products = product.getProducts();\r\n\r\n        for (Product element:Products){\r\n   \r\n            VBox vbox = new VBox();\r\n\r\n            HBox hbox1 = new HBox();\r\n            HBox hbox2 = new HBox();\r\n\r\n            Label label1 = new Label();\r\n            Label label2 = new Label();\r\n            Label label3 = new Label();\r\n\r\n\r\n\r\n            label1.setText(element.getNomProduit());\r\n            label2.setText(String.valueOf(element.getPrixVente()));\r\n            label3.setText(String.valueOf(element.getSeuilQte()));\r\n\r\n            hbox1.getChildren().add(label1);\r\n            hbox2.getChildren().addAll(label2,label3);\r\n            vbox.getChildren().addAll(hbox1,hbox2);\r\n\r\n            myList.setCellFactory((ListView&lt;String&gt; param) -&gt; new ListCell&lt;String&gt;() {\r\n\r\n                @Override\r\n                public void updateItem(String item, boolean empty) {\r\n                    super.updateItem(item, empty);\r\n                    if ((empty || item == null)) {\r\n\r\n                        setGraphic(null);\r\n                        setText(null);\r\n\r\n                    } else {\r\n                        setGraphic(vbox);\r\n                    }\r\n                }\r\n            });\r\n\r\n\r\n        }\r\n\r\n    }\r\n```\r\nAfter i run my code i get empty cells like this : &lt;br&gt;\r\n[![enter image description here][2]][2]\r\n\r\nHas Anyone any idea how to make this work ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DmqcM.png\r\n  [2]: https://i.stack.imgur.com/PBzb5.png","title":"Ceate Simple Custom ListCell In Javafx","body":"<p>I'm trying to make a custom ListCell to my listview so i want the cell to be something like this : <br></p>\n<p><a href=\"https://i.stack.imgur.com/DmqcM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DmqcM.png\" alt=\"enter image description here\" /></a></p>\n<p>so i want the listcell to be a Vbox which contain two hbox's :<br>\nthe first hbox contain one label <br>\nthe second hbox contain two labels <br></p>\n<p>and then each time i iterate through my products that i get from database i add the name of the product and it's quantity and price to those labels and set those hbox's to the Container vbox then set all that to the ListCell.<br></p>\n<p>this is what i did so far but can't make it work always i do that it redner empty Cell.<br></p>\n<pre><code>\n    public void FetchingProducts() {\n        Product product = new Product();\n        Products = product.getProducts();\n\n        for (Product element:Products){\n   \n            VBox vbox = new VBox();\n\n            HBox hbox1 = new HBox();\n            HBox hbox2 = new HBox();\n\n            Label label1 = new Label();\n            Label label2 = new Label();\n            Label label3 = new Label();\n\n\n\n            label1.setText(element.getNomProduit());\n            label2.setText(String.valueOf(element.getPrixVente()));\n            label3.setText(String.valueOf(element.getSeuilQte()));\n\n            hbox1.getChildren().add(label1);\n            hbox2.getChildren().addAll(label2,label3);\n            vbox.getChildren().addAll(hbox1,hbox2);\n\n            myList.setCellFactory((ListView&lt;String&gt; param) -&gt; new ListCell&lt;String&gt;() {\n\n                @Override\n                public void updateItem(String item, boolean empty) {\n                    super.updateItem(item, empty);\n                    if ((empty || item == null)) {\n\n                        setGraphic(null);\n                        setText(null);\n\n                    } else {\n                        setGraphic(vbox);\n                    }\n                }\n            });\n\n\n        }\n\n    }\n</code></pre>\n<p>After i run my code i get empty cells like this : <br>\n<a href=\"https://i.stack.imgur.com/PBzb5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PBzb5.png\" alt=\"enter image description here\" /></a></p>\n<p>Has Anyone any idea how to make this work ?</p>\n"},{"tags":["java","mongodb","spring-data","spring-data-mongodb","remote-host"],"answers":[{"comments":[{"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"score":0,"creation_date":1455557955,"post_id":35415592,"comment_id":58532127,"body_markdown":"My server is running, but not on `localhost`","body":"My server is running, but not on <code>localhost</code>"},{"owner":{"account_id":6252171,"reputation":575,"user_id":4861910,"accept_rate":17,"display_name":"rootExplorr"},"score":1,"creation_date":1455558016,"post_id":35415592,"comment_id":58532169,"body_markdown":"Check your address then.","body":"Check your address then."},{"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"score":0,"creation_date":1455558076,"post_id":35415592,"comment_id":58532207,"body_markdown":"I checked. It is not `localhost`.","body":"I checked. It is not <code>localhost</code>."},{"owner":{"account_id":6252171,"reputation":575,"user_id":4861910,"accept_rate":17,"display_name":"rootExplorr"},"score":0,"creation_date":1455558108,"post_id":35415592,"comment_id":58532226,"body_markdown":"Try printing out the address. As per the error trace the code is reaching out to localhost.","body":"Try printing out the address. As per the error trace the code is reaching out to localhost."}],"tags":[],"owner":{"account_id":6252171,"reputation":575,"user_id":4861910,"accept_rate":17,"display_name":"rootExplorr"},"comment_count":4,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1455557769,"creation_date":1455557769,"answer_id":35415592,"question_id":35415308,"body_markdown":"It seems your server is not running. \nAlso if it running,  it is doing so on a different port.","title":"Exception in monitor thread while connecting to server localhost:27017 while accessing MongoDB with Java","body":"<p>It seems your server is not running. \nAlso if it running,  it is doing so on a different port.</p>\n"},{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1558950652,"creation_date":1455558352,"answer_id":35415769,"question_id":35415308,"body_markdown":"I can&#39;t say for sure. It&#39;s kind of not enough information question.\r\n\r\nI can say that: Mongo driver by default tries to connect to the local host.\r\nProbably you haven&#39;t specified the Mongo host/port.\r\n\r\nSo you&#39;ll have to configure the MongoDB host/port/credentials (if you have those).\r\n\r\nMaybe it&#39;s network related issue or firewall (try to connect to MongoDB from your machine directly with cli / even running a basic program that uses only mongo driver).\r\n\r\nFrom the stacktrace I don&#39;t see any usage of Spring, so more information is required to say for sure.\r\n\r\n\r\nIn general you can analyze the dependencies in Gradle by using `gradle dependencies` command (see [here][1]).\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/userguide_single.html#sec:listing_dependencies","title":"Exception in monitor thread while connecting to server localhost:27017 while accessing MongoDB with Java","body":"<p>I can't say for sure. It's kind of not enough information question.</p>\n\n<p>I can say that: Mongo driver by default tries to connect to the local host.\nProbably you haven't specified the Mongo host/port.</p>\n\n<p>So you'll have to configure the MongoDB host/port/credentials (if you have those).</p>\n\n<p>Maybe it's network related issue or firewall (try to connect to MongoDB from your machine directly with cli / even running a basic program that uses only mongo driver).</p>\n\n<p>From the stacktrace I don't see any usage of Spring, so more information is required to say for sure.</p>\n\n<p>In general you can analyze the dependencies in Gradle by using <code>gradle dependencies</code> command (see <a href=\"https://docs.gradle.org/current/userguide/userguide_single.html#sec:listing_dependencies\" rel=\"nofollow noreferrer\">here</a>).</p>\n"},{"comments":[{"owner":{"account_id":5329358,"reputation":647,"user_id":4250408,"accept_rate":62,"display_name":"funky-nd"},"score":1,"creation_date":1527004430,"post_id":35416124,"comment_id":87957264,"body_markdown":"you are god, bro.","body":"you are god, bro."},{"owner":{"account_id":2667790,"reputation":109,"user_id":2305785,"display_name":"LuCG"},"score":0,"creation_date":1554672357,"post_id":35416124,"comment_id":97827321,"body_markdown":"Martin check this [post](https://stackoverflow.com/questions/46281830/i-cant-exclude-mongoautoconfiguration-in-springboot-kotlin-mongosocketopenexce)","body":"Martin check this <a href=\"https://stackoverflow.com/questions/46281830/i-cant-exclude-mongoautoconfiguration-in-springboot-kotlin-mongosocketopenexce\">post</a>"},{"owner":{"account_id":6900742,"reputation":96,"user_id":5300484,"display_name":"Sachith.Wanni"},"score":1,"creation_date":1572416391,"post_id":35416124,"comment_id":103547931,"body_markdown":"if above method is not working, you can try this\n https://stackoverflow.com/a/34415014/5300484","body":"if above method is not working, you can try this  <a href=\"https://stackoverflow.com/a/34415014/5300484\">stackoverflow.com/a/34415014/5300484</a>"},{"owner":{"account_id":9144090,"reputation":178,"user_id":6800988,"display_name":"vanya"},"score":1,"creation_date":1651665060,"post_id":35416124,"comment_id":127415828,"body_markdown":"@Dims what does `@EnableAutoConfiguration(exclude={MongoAutoConfiguration.class})` do?","body":"@Dims what does <code>@EnableAutoConfiguration(exclude={MongoAutoConfiguration.cla&zwnj;&#8203;ss})</code> do?"},{"owner":{"account_id":11818721,"reputation":87,"user_id":8648351,"display_name":"Steffen Ebert"},"score":1,"creation_date":1675529443,"post_id":35416124,"comment_id":132950446,"body_markdown":"@Dims as of today it should be `@SpringBootApplication(exclude={MongoAutoConfiguration.class})`","body":"@Dims as of today it should be <code>@SpringBootApplication(exclude={MongoAutoConfiguration.class&zwnj;&#8203;})</code>"},{"owner":{"account_id":4995454,"reputation":79,"user_id":4016212,"display_name":"Irinel"},"score":0,"creation_date":1693907936,"post_id":35416124,"comment_id":135818124,"body_markdown":"@Dims since `@SpringBootApplication` is already decorated via `@EnableAutoConfiguration` you just have to add that exclusion to `@SpringBootApplication`","body":"@Dims since <code>@SpringBootApplication</code> is already decorated via <code>@EnableAutoConfiguration</code> you just have to add that exclusion to <code>@SpringBootApplication</code>"}],"tags":[],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":6,"down_vote_count":2,"up_vote_count":71,"is_accepted":true,"score":69,"last_activity_date":1455559542,"creation_date":1455559542,"answer_id":35416124,"question_id":35415308,"body_markdown":"I was to add exclusion annotation to my main annotated class, \r\n\r\ni.e. instead of\r\n\r\n    @SpringBootApplication\r\n\r\nI should have \r\n\r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration(exclude={MongoAutoConfiguration.class})","title":"Exception in monitor thread while connecting to server localhost:27017 while accessing MongoDB with Java","body":"<p>I was to add exclusion annotation to my main annotated class, </p>\n\n<p>i.e. instead of</p>\n\n<pre><code>@SpringBootApplication\n</code></pre>\n\n<p>I should have </p>\n\n<pre><code>@SpringBootApplication\n@EnableAutoConfiguration(exclude={MongoAutoConfiguration.class})\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8232198,"reputation":121,"user_id":6192536,"display_name":"Elazar Neeman"},"score":0,"creation_date":1571734843,"post_id":49529386,"comment_id":103330030,"body_markdown":"Had a similar issue, setting these properties solved my problem, Thanks !!!","body":"Had a similar issue, setting these properties solved my problem, Thanks !!!"}],"tags":[],"owner":{"account_id":13085870,"reputation":103,"user_id":9454858,"display_name":"Vaibhav"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1579476545,"creation_date":1522225016,"answer_id":49529386,"question_id":35415308,"body_markdown":"Try adding \r\n\r\n    spring.data.mongodb.host=hostIpOnWhichMongoIsRunning\r\n    spring.data.mongodb.port=27017\r\n\r\ninto `application.properties`.  \r\n\r\nIf Mongo is not running on localhost, this should fix the issue.","title":"Exception in monitor thread while connecting to server localhost:27017 while accessing MongoDB with Java","body":"<p>Try adding </p>\n\n<pre><code>spring.data.mongodb.host=hostIpOnWhichMongoIsRunning\nspring.data.mongodb.port=27017\n</code></pre>\n\n<p>into <code>application.properties</code>.  </p>\n\n<p>If Mongo is not running on localhost, this should fix the issue.</p>\n"},{"tags":[],"owner":{"account_id":14694030,"reputation":925,"user_id":10611878,"display_name":"Pulsara Sandeepa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617983685,"creation_date":1617983685,"answer_id":67024365,"question_id":35415308,"body_markdown":"I had the same exception when trying to connect MongoDB with spring-boot.\r\nIn my case, I forgot to add the `@Configuration` annotation in the MongoDB Configuration class I created.\r\n\r\nAfter adding this it worked for me.","title":"Exception in monitor thread while connecting to server localhost:27017 while accessing MongoDB with Java","body":"<p>I had the same exception when trying to connect MongoDB with spring-boot.\nIn my case, I forgot to add the <code>@Configuration</code> annotation in the MongoDB Configuration class I created.</p>\n<p>After adding this it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":22028384,"reputation":1,"user_id":16296035,"display_name":"Anisha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624436780,"creation_date":1624432994,"answer_id":68095312,"question_id":35415308,"body_markdown":"I changed the scope(It was Test before)\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\r\n    &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\r\n    &lt;scope&gt;4.2.3&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Exception in monitor thread while connecting to server localhost:27017 while accessing MongoDB with Java","body":"<p>I changed the scope(It was Test before)</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\n&lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\n&lt;scope&gt;4.2.3&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21239904,"reputation":619,"user_id":15623558,"display_name":"aszswaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1627013905,"creation_date":1627013905,"answer_id":68494005,"question_id":35415308,"body_markdown":"My IDEA suggested that I do this.\r\n\r\n```java\r\n@SpringBootApplication(exclude = {MongoAutoConfiguration.class})\r\n```","title":"Exception in monitor thread while connecting to server localhost:27017 while accessing MongoDB with Java","body":"<p>My IDEA suggested that I do this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication(exclude = {MongoAutoConfiguration.class})\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10399669,"reputation":119,"user_id":7668403,"display_name":"kaustubhd9"},"score":0,"creation_date":1679142527,"post_id":70475923,"comment_id":133670429,"body_markdown":"to add to this, had to switch my network due to which the IP address got changed. check if your IP address is added for your MongoDB cluster. (Adding 0.0.0.0/0 will also do.)","body":"to add to this, had to switch my network due to which the IP address got changed. check if your IP address is added for your MongoDB cluster. (Adding 0.0.0.0/0 will also do.)"}],"tags":[],"owner":{"account_id":11394837,"reputation":209,"user_id":8353607,"display_name":"Saliou673"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640372993,"creation_date":1640372993,"answer_id":70475923,"question_id":35415308,"body_markdown":"In my case the mistake was not to have authorized my development environment. So I allowed connections from any IP (not a good idea for prod env) by adding the rule `0.0.0.0/0`. You add this rule from the `Network Access` section from the atlas dashboard.","title":"Exception in monitor thread while connecting to server localhost:27017 while accessing MongoDB with Java","body":"<p>In my case the mistake was not to have authorized my development environment. So I allowed connections from any IP (not a good idea for prod env) by adding the rule <code>0.0.0.0/0</code>. You add this rule from the <code>Network Access</code> section from the atlas dashboard.</p>\n"},{"tags":[],"owner":{"account_id":2531294,"reputation":97,"user_id":11277353,"display_name":"Shashi Ranjan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654081402,"creation_date":1654081402,"answer_id":72460733,"question_id":35415308,"body_markdown":"In my case mongoDB internal port was not mapped to external. Using command `docker run -p 27017:27017 -d mongo` resolved my issue.","title":"Exception in monitor thread while connecting to server localhost:27017 while accessing MongoDB with Java","body":"<p>In my case mongoDB internal port was not mapped to external. Using command <code>docker run -p 27017:27017 -d mongo</code> resolved my issue.</p>\n"},{"tags":[],"owner":{"account_id":18659904,"reputation":81,"user_id":13601366,"display_name":"Đ&#224;o Tuy&#234;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670902982,"creation_date":1670902982,"answer_id":74779739,"question_id":35415308,"body_markdown":"check your mongo with cmd &quot;mongo&quot; if mongo is deathed follow step\r\n1: open search windown\r\n2: search &quot;services&quot;\r\n3: find MongoDB Service and right click then click start on popup","title":"Exception in monitor thread while connecting to server localhost:27017 while accessing MongoDB with Java","body":"<p>check your mongo with cmd &quot;mongo&quot; if mongo is deathed follow step\n1: open search windown\n2: search &quot;services&quot;\n3: find MongoDB Service and right click then click start on popup</p>\n"},{"tags":[],"owner":{"account_id":1153819,"reputation":87,"user_id":1134967,"display_name":"Rabamirezzan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694081826,"creation_date":1694081826,"answer_id":77058675,"question_id":35415308,"body_markdown":"In my case, the fix is:\r\n\r\n    @EnableAutoConfiguration(exclude={MongoReactiveAutoConfiguration.class})","title":"Exception in monitor thread while connecting to server localhost:27017 while accessing MongoDB with Java","body":"<p>In my case, the fix is:</p>\n<pre><code>@EnableAutoConfiguration(exclude={MongoReactiveAutoConfiguration.class})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6023585,"reputation":524,"user_id":4730000,"accept_rate":100,"display_name":"Daniels Šatcs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700344754,"creation_date":1700344754,"answer_id":77508856,"question_id":35415308,"body_markdown":"For future searchers.\r\n\r\nIn my case this was caused by the Mongo server not accepting connections from my IP. I had to whitelist it in MongoDB console.","title":"Exception in monitor thread while connecting to server localhost:27017 while accessing MongoDB with Java","body":"<p>For future searchers.</p>\n<p>In my case this was caused by the Mongo server not accepting connections from my IP. I had to whitelist it in MongoDB console.</p>\n"}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108335,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":35416124,"answer_count":12,"score":41,"last_activity_date":1700344754,"creation_date":1455556798,"question_id":35415308,"body_markdown":"I have the following exception when running Java app for MongoDB:\r\n\r\n    [localhost:27017] org.mongodb.driver.cluster : Exception in monitor thread while connecting to server localhost:27017 while accessing MongoDB with Java\r\n\r\nCall stack is follows:\r\n\r\n    com.mongodb.MongoSocketOpenException: Exception opening socket\r\n    \tat com.mongodb.connection.SocketStream.open(SocketStream.java:63) ~[mongodb-driver-core-3.0.4.jar:na]\r\n    \tat com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:114) ~[mongodb-driver-core-3.0.4.jar:na]\r\n    \tat com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:127) ~[mongodb-driver-core-3.0.4.jar:na]\r\n    \tat java.lang.Thread.run(Thread.java:745) [na:1.8.0_45]\r\n    Caused by: java.net.ConnectException: Connection refused: connect\r\n    \tat java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_45]\r\n    \tat java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_45]\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345) ~[na:1.8.0_45]\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_45]\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_45]\r\n    \tat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_45]\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_45]\r\n    \tat java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_45]\r\n    \tat com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:50) ~[mongodb-driver-core-3.0.4.jar:na]\r\n    \tat com.mongodb.connection.SocketStream.open(SocketStream.java:58) ~[mongodb-driver-core-3.0.4.jar:na]\r\n    \t... 3 common frames omitted\r\n\r\nNeither of these names belong to my application. Also I have NO MONGODB server on local host. I am using remote host and setting it later. An exception occurs BEFORE any of my statements concerning Mongo.\r\n\r\n**UPDATE**\r\n\r\nThis is probably some `Spring` provided beans accessing `Mongo`. How to disable them?\r\n\r\nMy config contains following dependencies:\r\n\r\n    dependencies {\r\n    \tcompile(&#39;javax.media:jai_core:1.1.3&#39;)\r\n    \t//compile(&#39;jai_core:1.1.3&#39;)\r\n    \r\n    //\tcompile(&#39;org.springframework.boot:spring-boot-starter-data-mongodb&#39;)\r\n    \tcompile(&#39;org.mongodb:mongodb-driver:3.0.4&#39;)\r\n    \tcompile(&#39;org.mongodb:bson:3.0.4&#39;)\r\n    \r\n    \tcompile(&#39;org.geotools:gt-api:14.2&#39;)\r\n    \tcompile(&#39;org.geotools:gt-shapefile:14.2&#39;)\r\n    \tcompile(&#39;org.geotools:gt-geometry:14.2&#39;)\r\n    \tcompile(&#39;org.geotools:gt-referencing:14.2&#39;)\r\n    \tcompile(&#39;org.geotools:gt-geojson:14.2&#39;)\r\n    \tcompile(&#39;org.geotools:gt-mongodb:14.2&#39;)\r\n    \r\n    \tcompile(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n    \tprovidedRuntime(&#39;org.springframework.boot:spring-boot-starter-tomcat&#39;)\r\n    \ttestCompile(&#39;org.springframework.boot:spring-boot-starter-test&#39;) \r\n    }\r\n\r\ni.e. I have removed `org.springframework.boot:spring-boot-starter-data-mongodb` and was thinking will use `Mongo` myself...\r\n\r\n**UPDATE2**\r\n\r\nI found related question: https://stackoverflow.com/questions/28747909/how-to-disable-spring-data-mongodb-autoconfiguration-in-spring-boot","title":"Exception in monitor thread while connecting to server localhost:27017 while accessing MongoDB with Java","body":"<p>I have the following exception when running Java app for MongoDB:</p>\n\n<pre><code>[localhost:27017] org.mongodb.driver.cluster : Exception in monitor thread while connecting to server localhost:27017 while accessing MongoDB with Java\n</code></pre>\n\n<p>Call stack is follows:</p>\n\n<pre><code>com.mongodb.MongoSocketOpenException: Exception opening socket\n    at com.mongodb.connection.SocketStream.open(SocketStream.java:63) ~[mongodb-driver-core-3.0.4.jar:na]\n    at com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:114) ~[mongodb-driver-core-3.0.4.jar:na]\n    at com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:127) ~[mongodb-driver-core-3.0.4.jar:na]\n    at java.lang.Thread.run(Thread.java:745) [na:1.8.0_45]\nCaused by: java.net.ConnectException: Connection refused: connect\n    at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_45]\n    at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[na:1.8.0_45]\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:345) ~[na:1.8.0_45]\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_45]\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_45]\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[na:1.8.0_45]\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_45]\n    at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_45]\n    at com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:50) ~[mongodb-driver-core-3.0.4.jar:na]\n    at com.mongodb.connection.SocketStream.open(SocketStream.java:58) ~[mongodb-driver-core-3.0.4.jar:na]\n    ... 3 common frames omitted\n</code></pre>\n\n<p>Neither of these names belong to my application. Also I have NO MONGODB server on local host. I am using remote host and setting it later. An exception occurs BEFORE any of my statements concerning Mongo.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>This is probably some <code>Spring</code> provided beans accessing <code>Mongo</code>. How to disable them?</p>\n\n<p>My config contains following dependencies:</p>\n\n<pre><code>dependencies {\n    compile('javax.media:jai_core:1.1.3')\n    //compile('jai_core:1.1.3')\n\n//  compile('org.springframework.boot:spring-boot-starter-data-mongodb')\n    compile('org.mongodb:mongodb-driver:3.0.4')\n    compile('org.mongodb:bson:3.0.4')\n\n    compile('org.geotools:gt-api:14.2')\n    compile('org.geotools:gt-shapefile:14.2')\n    compile('org.geotools:gt-geometry:14.2')\n    compile('org.geotools:gt-referencing:14.2')\n    compile('org.geotools:gt-geojson:14.2')\n    compile('org.geotools:gt-mongodb:14.2')\n\n    compile('org.springframework.boot:spring-boot-starter-web')\n    providedRuntime('org.springframework.boot:spring-boot-starter-tomcat')\n    testCompile('org.springframework.boot:spring-boot-starter-test') \n}\n</code></pre>\n\n<p>i.e. I have removed <code>org.springframework.boot:spring-boot-starter-data-mongodb</code> and was thinking will use <code>Mongo</code> myself...</p>\n\n<p><strong>UPDATE2</strong></p>\n\n<p>I found related question: <a href=\"https://stackoverflow.com/questions/28747909/how-to-disable-spring-data-mongodb-autoconfiguration-in-spring-boot\">How to disable spring-data-mongodb autoconfiguration in spring-boot</a></p>\n"},{"tags":["java","android","json","firebase","spinner"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1700395890,"post_id":77508809,"comment_id":136646925,"body_markdown":"I&#39;m not sure I understand.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"}],"owner":{"account_id":17769351,"reputation":43,"user_id":12903385,"display_name":"Ayoub Bentameur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700344257,"creation_date":1700343568,"question_id":77508809,"body_markdown":"i want to do a reverse operation like i get the position of the selected items from the two spinners then going to the json url and get that selected data from &quot;fr&quot; array and &quot;ar&quot; array to upload it to realtime database firebase.\r\n\r\n\r\nthis is my code:\r\n\r\n    // Request a string response from the provided URL.\r\n    StringRequest stringRequest = new StringRequest(Request.Method.GET, url,\r\n            response -&gt; {\r\n                try {\r\n                    // Parse the JSON response\r\n\r\n                    //get the current app Language\r\n                    currentLang = getResources().getConfiguration().locale.getLanguage();\r\n                    jsonArray = new JSONArray(response);\r\n                    JSONObject jsonObject = jsonArray.getJSONObject(0);\r\n                    if (currentLang.equals(&quot;fr&quot;) || currentLang.equals(&quot;en&quot;)) {\r\n                        firstArray = jsonObject.getJSONArray(&quot;fr&quot;);\r\n                        for (int i = 0; i &lt; firstArray.length(); i++) {\r\n                            obj = firstArray.getJSONObject(i);\r\n                            wilayaName = obj.getString(&quot;name&quot;);\r\n                            Log.d(&quot;JSON&quot;, &quot;Name:&quot; + wilayaName);\r\n                            wilayaNames.add(wilayaName);\r\n\r\n                        }\r\n                    } else if (currentLang.equals(&quot;ar&quot;)) {\r\n                        firstArray = jsonObject.getJSONArray(&quot;ar&quot;);\r\n\r\n                        for (int i = 0; i &lt; firstArray.length(); i++) {\r\n                            obj = firstArray.getJSONObject(i);\r\n                            wilayaName = obj.getString(&quot;name&quot;);\r\n                            Log.d(&quot;JSON&quot;, &quot;Name:&quot; + wilayaName);\r\n                            wilayaNames.add(wilayaName);\r\n                        }\r\n                    }\r\n\r\n\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                    Log.e(&quot;Error&quot;, e.getMessage());\r\n                }\r\n                ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, wilayaNames);\r\n                adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n\r\n    // Finally, set the adapter to the spinner\r\n                wilayaSpinner.setAdapter(adapter);\r\n\r\n\r\n            }, error -&gt; {\r\n        // Handle error\r\n\r\n    });\r\n\r\n    // Add the request to the RequestQueue.\r\n    queue.add(stringRequest);\r\n\r\n\r\n    wilayaSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n\r\n        @Override\r\n        public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n            // Handle the user&#39;s selection here\r\n\r\n            selectedState = wilayaSpinner.getSelectedItem().toString();\r\n            JsonArrayRequest request;\r\n\r\n            request = new JsonArrayRequest(Request.Method.GET, url, null, response -&gt; {\r\n                try {\r\n                    // Parse the JSON data and extract the required information\r\n\r\n                    if (communeAdapter != null) {\r\n                        communeAdapter.clear();\r\n                    }\r\n                    if (currentLang.equals(&quot;fr&quot;) || currentLang.equals(&quot;en&quot;)) {\r\n                        JSONArray jsonArray = response.getJSONObject(0).getJSONArray(&quot;fr&quot;);\r\n                        JSONObject jsonObject = null;\r\n                        for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n                            jsonObject = jsonArray.getJSONObject(i);\r\n                            if (jsonObject.getString(&quot;name&quot;).equals(selectedState)) {\r\n                                break;\r\n                            }\r\n                        }\r\n                        JSONArray communesArray = jsonObject.getJSONArray(&quot;communes&quot;);\r\n                        for (int j = 0; j &lt; communesArray.length(); j++) {\r\n                            String commune = communesArray.getString(j);\r\n                            communesList.add(commune);\r\n\r\n                            Log.d(&quot;Commune List&quot;, commune);\r\n                        }\r\n                    } else if (currentLang.equals(&quot;ar&quot;)) {\r\n                        JSONArray jsonArray = response.getJSONObject(0).getJSONArray(&quot;ar&quot;);\r\n                        JSONObject jsonObject = null;\r\n                        for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n                            jsonObject = jsonArray.getJSONObject(i);\r\n                            if (jsonObject.getString(&quot;name&quot;).equals(selectedState)) {\r\n                                break;\r\n                            }\r\n                        }\r\n                        JSONArray communesArray = jsonObject.getJSONArray(&quot;communes&quot;);\r\n                        for (int j = 0; j &lt; communesArray.length(); j++) {\r\n                            String commune = communesArray.getString(j);\r\n                            communesList.add(commune);\r\n\r\n\r\n                            Log.d(&quot;Commune List&quot;, commune);\r\n                        }\r\n                    }\r\n\r\n\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                communeAdapter = new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, communesList);\r\n                communeAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n\r\n                communeSpinner.setAdapter(communeAdapter);\r\n\r\n                communeAdapter.notifyDataSetChanged();\r\n            }, Throwable::printStackTrace);\r\n\r\n            queue.add(request);\r\n        }\r\n        @Override\r\n        public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n            // Do nothing\r\n        }\r\n    });\r\n\r\nthis is my Database Structure:\r\n\r\n    {\r\n      &quot;location&quot;: {\r\n        &quot;location_enfr&quot;: {\r\n          &quot;city&quot;: &quot;Akabli&quot;,\r\n          &quot;province&quot;: &quot;ADRAR&quot;\r\n        },\r\n        &quot;location_ar&quot;: {\r\n          &quot;city&quot;: &quot;أكابلي&quot;,\r\n          &quot;province&quot;: &quot;أدرار&quot;\r\n        }\r\n      }\r\n    }\r\n\r\nand this this is my json:\r\n\r\n    [\r\n        {\r\n          &quot;fr&quot;: [\r\n            {\r\n              &quot;id&quot;: 1,\r\n              &quot;name&quot;: &quot;ADRAR&quot;,\r\n              &quot;communes&quot;: [ &quot;Adrar&quot;,&quot;Akabli&quot;,&quot;Aougrout&quot;,&quot;Aoulef&quot;,&quot;Bordj badji mokhtar&quot;,&quot;Bouda&quot;]\r\n            },\r\n            {\r\n              &quot;id&quot;: 2,\r\n              &quot;name&quot;: &quot;CHLEF&quot;,\r\n              &quot;communes&quot;: [&quot;Abou el hassan&quot;,&quot;Ain merane&quot;,&quot;Benairia&quot;,&quot;Beni bouateb&quot;,&quot;Beni haoua&quot;,&quot;Beni rached&quot;]\r\n            },\r\n            {\r\n              &quot;id&quot;: 3,\r\n              &quot;name&quot;: &quot;LAGHOUAT&quot;,\r\n              &quot;communes&quot;: [&quot;Aflou&quot;,&quot;Ain madhi&quot;,&quot;Ait sidi ali&quot;,&quot;Beidha&quot;,&quot;Brida&quot;,&quot;El assafia&quot;,&quot;El ghicha&quot;,&quot;El houaita&quot;]\r\n            }\r\n          ],\r\n          &quot;ar&quot;: [\r\n            {\r\n              &quot;id&quot;: 1,\r\n              &quot;name&quot;: &quot;أدرار&quot;,\r\n              &quot;communes&quot;: [&quot;أدرار&quot;,&quot;أكابلي&quot;,&quot;أوقروت&quot;,&quot;أولف&quot;,&quot;برج بادجي مختار&quot;,&quot;بودة&quot;  ]\r\n            },\r\n            {\r\n              &quot;id&quot;: 2,\r\n              &quot;name&quot;: &quot;شلف&quot;,\r\n              &quot;communes&quot;: [&quot;أبو الحسن&quot;,&quot;عين مران&quot;,&quot;بنايرية&quot;,&quot;بني بوعتاب&quot;,&quot;بني حواء&quot;,&quot;بني راشد&quot;]\r\n            },\r\n            {\r\n              &quot;id&quot;: 3,\r\n              &quot;name&quot;: &quot;الأغواط&quot;,\r\n              &quot;communes&quot;: [&quot;عفلو&quot;,&quot;عين ماضي&quot;,&quot;عيت سيدي علي&quot;,&quot;البيضاء&quot;,&quot;بريدة&quot;,&quot;الأسافية&quot;,&quot;الغيشة&quot;,&quot;الحويطة&quot;]\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n      \r\n\r\nsomeone can help me please this is my first project.\r\n","title":"Reverse Operation: Fetching Selected Data from JSON URL Using Spinner Positions for Database Upload","body":"<p>i want to do a reverse operation like i get the position of the selected items from the two spinners then going to the json url and get that selected data from &quot;fr&quot; array and &quot;ar&quot; array to upload it to realtime database firebase.</p>\n<p>this is my code:</p>\n<pre><code>// Request a string response from the provided URL.\nStringRequest stringRequest = new StringRequest(Request.Method.GET, url,\n        response -&gt; {\n            try {\n                // Parse the JSON response\n\n                //get the current app Language\n                currentLang = getResources().getConfiguration().locale.getLanguage();\n                jsonArray = new JSONArray(response);\n                JSONObject jsonObject = jsonArray.getJSONObject(0);\n                if (currentLang.equals(&quot;fr&quot;) || currentLang.equals(&quot;en&quot;)) {\n                    firstArray = jsonObject.getJSONArray(&quot;fr&quot;);\n                    for (int i = 0; i &lt; firstArray.length(); i++) {\n                        obj = firstArray.getJSONObject(i);\n                        wilayaName = obj.getString(&quot;name&quot;);\n                        Log.d(&quot;JSON&quot;, &quot;Name:&quot; + wilayaName);\n                        wilayaNames.add(wilayaName);\n\n                    }\n                } else if (currentLang.equals(&quot;ar&quot;)) {\n                    firstArray = jsonObject.getJSONArray(&quot;ar&quot;);\n\n                    for (int i = 0; i &lt; firstArray.length(); i++) {\n                        obj = firstArray.getJSONObject(i);\n                        wilayaName = obj.getString(&quot;name&quot;);\n                        Log.d(&quot;JSON&quot;, &quot;Name:&quot; + wilayaName);\n                        wilayaNames.add(wilayaName);\n                    }\n                }\n\n\n            } catch (JSONException e) {\n                e.printStackTrace();\n                Log.e(&quot;Error&quot;, e.getMessage());\n            }\n            ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, wilayaNames);\n            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n\n// Finally, set the adapter to the spinner\n            wilayaSpinner.setAdapter(adapter);\n\n\n        }, error -&gt; {\n    // Handle error\n\n});\n\n// Add the request to the RequestQueue.\nqueue.add(stringRequest);\n\n\nwilayaSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n\n    @Override\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n        // Handle the user's selection here\n\n        selectedState = wilayaSpinner.getSelectedItem().toString();\n        JsonArrayRequest request;\n\n        request = new JsonArrayRequest(Request.Method.GET, url, null, response -&gt; {\n            try {\n                // Parse the JSON data and extract the required information\n\n                if (communeAdapter != null) {\n                    communeAdapter.clear();\n                }\n                if (currentLang.equals(&quot;fr&quot;) || currentLang.equals(&quot;en&quot;)) {\n                    JSONArray jsonArray = response.getJSONObject(0).getJSONArray(&quot;fr&quot;);\n                    JSONObject jsonObject = null;\n                    for (int i = 0; i &lt; jsonArray.length(); i++) {\n                        jsonObject = jsonArray.getJSONObject(i);\n                        if (jsonObject.getString(&quot;name&quot;).equals(selectedState)) {\n                            break;\n                        }\n                    }\n                    JSONArray communesArray = jsonObject.getJSONArray(&quot;communes&quot;);\n                    for (int j = 0; j &lt; communesArray.length(); j++) {\n                        String commune = communesArray.getString(j);\n                        communesList.add(commune);\n\n                        Log.d(&quot;Commune List&quot;, commune);\n                    }\n                } else if (currentLang.equals(&quot;ar&quot;)) {\n                    JSONArray jsonArray = response.getJSONObject(0).getJSONArray(&quot;ar&quot;);\n                    JSONObject jsonObject = null;\n                    for (int i = 0; i &lt; jsonArray.length(); i++) {\n                        jsonObject = jsonArray.getJSONObject(i);\n                        if (jsonObject.getString(&quot;name&quot;).equals(selectedState)) {\n                            break;\n                        }\n                    }\n                    JSONArray communesArray = jsonObject.getJSONArray(&quot;communes&quot;);\n                    for (int j = 0; j &lt; communesArray.length(); j++) {\n                        String commune = communesArray.getString(j);\n                        communesList.add(commune);\n\n\n                        Log.d(&quot;Commune List&quot;, commune);\n                    }\n                }\n\n\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n            communeAdapter = new ArrayAdapter&lt;&gt;(getApplicationContext(), android.R.layout.simple_spinner_item, communesList);\n            communeAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n\n            communeSpinner.setAdapter(communeAdapter);\n\n            communeAdapter.notifyDataSetChanged();\n        }, Throwable::printStackTrace);\n\n        queue.add(request);\n    }\n    @Override\n    public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n        // Do nothing\n    }\n});\n</code></pre>\n<p>this is my Database Structure:</p>\n<pre><code>{\n  &quot;location&quot;: {\n    &quot;location_enfr&quot;: {\n      &quot;city&quot;: &quot;Akabli&quot;,\n      &quot;province&quot;: &quot;ADRAR&quot;\n    },\n    &quot;location_ar&quot;: {\n      &quot;city&quot;: &quot;أكابلي&quot;,\n      &quot;province&quot;: &quot;أدرار&quot;\n    }\n  }\n}\n</code></pre>\n<p>and this this is my json:</p>\n<pre><code>[\n    {\n      &quot;fr&quot;: [\n        {\n          &quot;id&quot;: 1,\n          &quot;name&quot;: &quot;ADRAR&quot;,\n          &quot;communes&quot;: [ &quot;Adrar&quot;,&quot;Akabli&quot;,&quot;Aougrout&quot;,&quot;Aoulef&quot;,&quot;Bordj badji mokhtar&quot;,&quot;Bouda&quot;]\n        },\n        {\n          &quot;id&quot;: 2,\n          &quot;name&quot;: &quot;CHLEF&quot;,\n          &quot;communes&quot;: [&quot;Abou el hassan&quot;,&quot;Ain merane&quot;,&quot;Benairia&quot;,&quot;Beni bouateb&quot;,&quot;Beni haoua&quot;,&quot;Beni rached&quot;]\n        },\n        {\n          &quot;id&quot;: 3,\n          &quot;name&quot;: &quot;LAGHOUAT&quot;,\n          &quot;communes&quot;: [&quot;Aflou&quot;,&quot;Ain madhi&quot;,&quot;Ait sidi ali&quot;,&quot;Beidha&quot;,&quot;Brida&quot;,&quot;El assafia&quot;,&quot;El ghicha&quot;,&quot;El houaita&quot;]\n        }\n      ],\n      &quot;ar&quot;: [\n        {\n          &quot;id&quot;: 1,\n          &quot;name&quot;: &quot;أدرار&quot;,\n          &quot;communes&quot;: [&quot;أدرار&quot;,&quot;أكابلي&quot;,&quot;أوقروت&quot;,&quot;أولف&quot;,&quot;برج بادجي مختار&quot;,&quot;بودة&quot;  ]\n        },\n        {\n          &quot;id&quot;: 2,\n          &quot;name&quot;: &quot;شلف&quot;,\n          &quot;communes&quot;: [&quot;أبو الحسن&quot;,&quot;عين مران&quot;,&quot;بنايرية&quot;,&quot;بني بوعتاب&quot;,&quot;بني حواء&quot;,&quot;بني راشد&quot;]\n        },\n        {\n          &quot;id&quot;: 3,\n          &quot;name&quot;: &quot;الأغواط&quot;,\n          &quot;communes&quot;: [&quot;عفلو&quot;,&quot;عين ماضي&quot;,&quot;عيت سيدي علي&quot;,&quot;البيضاء&quot;,&quot;بريدة&quot;,&quot;الأسافية&quot;,&quot;الغيشة&quot;,&quot;الحويطة&quot;]\n        }\n      ]\n    }\n  ]\n  \n</code></pre>\n<p>someone can help me please this is my first project.</p>\n"},{"tags":["java","protocol-buffers"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1524138706,"post_id":49920313,"comment_id":86856286,"body_markdown":"I think you need to delete everything after `new ProtocolList()` and the next `};` and try again.","body":"I think you need to delete everything after <code>new ProtocolList()</code> and the next <code>};</code> and try again."},{"owner":{"account_id":13399473,"reputation":21,"user_id":9669450,"display_name":"Messi"},"score":0,"creation_date":1524139144,"post_id":49920313,"comment_id":86856597,"body_markdown":"I removed it ,now I&#39;m getting error ProtocolStringList is abstract cannot be instantiated.","body":"I removed it ,now I&#39;m getting error ProtocolStringList is abstract cannot be instantiated."},{"owner":{"account_id":13399473,"reputation":21,"user_id":9669450,"display_name":"Messi"},"score":0,"creation_date":1524139533,"post_id":49920313,"comment_id":86856850,"body_markdown":"I got it.Since its an interface I can&#39;t use new.Thanks @daniu for helping me out.","body":"I got it.Since its an interface I can&#39;t use new.Thanks @daniu for helping me out."}],"answers":[{"tags":[],"owner":{"account_id":13342229,"reputation":1403,"user_id":9630106,"display_name":"Luc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524252607,"creation_date":1524252607,"answer_id":49948549,"question_id":49920313,"body_markdown":"to add item to your your list in Java you need to use a Builder and build the object.\r\n\r\nYou have an example on the reference guide:\r\nhttps://developers.google.com/protocol-buffers/docs/javatutorial\r\n\r\n      Person john =\r\n      Person.newBuilder()\r\n        .setId(1234)\r\n        .setName(&quot;John Doe&quot;)\r\n        .setEmail(&quot;jdoe@example.com&quot;)\r\n        .addPhones(\r\n          Person.PhoneNumber.newBuilder()\r\n            .setNumber(&quot;555-4321&quot;)\r\n            .setType(Person.PhoneType.HOME))\r\n        .build();\r\n\r\nIn your example, your code should look something like:\r\n\r\n     s = ProtocolStringList.newBuilder()\r\n           .add(&quot;a&quot;)\r\n           .add(&quot;b&quot;)\r\n           .build();\r\n\r\n","title":"Add items to ProtocolStringList","body":"<p>to add item to your your list in Java you need to use a Builder and build the object.</p>\n\n<p>You have an example on the reference guide:\n<a href=\"https://developers.google.com/protocol-buffers/docs/javatutorial\" rel=\"nofollow noreferrer\">https://developers.google.com/protocol-buffers/docs/javatutorial</a></p>\n\n<pre><code>  Person john =\n  Person.newBuilder()\n    .setId(1234)\n    .setName(\"John Doe\")\n    .setEmail(\"jdoe@example.com\")\n    .addPhones(\n      Person.PhoneNumber.newBuilder()\n        .setNumber(\"555-4321\")\n        .setType(Person.PhoneType.HOME))\n    .build();\n</code></pre>\n\n<p>In your example, your code should look something like:</p>\n\n<pre><code> s = ProtocolStringList.newBuilder()\n       .add(\"a\")\n       .add(\"b\")\n       .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6494483,"reputation":11,"user_id":5027497,"display_name":"Vibhav Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1700342533,"creation_date":1660917680,"answer_id":73417990,"question_id":49920313,"body_markdown":"`ProtocolStringList` is an Interface (like `List&lt;E&gt;`). You need to instantiate the implemented Data Structure to add elements or use its functionality.\r\n\r\nExample \r\n\r\n    ProtocolStringList plist = new LazyStringArrayList();\r\n    plist.add(&quot;E&quot;);\r\n\r\n\r\n ","title":"Add items to ProtocolStringList","body":"<p><code>ProtocolStringList</code> is an Interface (like <code>List&lt;E&gt;</code>). You need to instantiate the implemented Data Structure to add elements or use its functionality.</p>\n<p>Example</p>\n<pre><code>ProtocolStringList plist = new LazyStringArrayList();\nplist.add(&quot;E&quot;);\n</code></pre>\n"}],"owner":{"account_id":13399473,"reputation":21,"user_id":9669450,"display_name":"Messi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2567,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1700342533,"creation_date":1524138337,"question_id":49920313,"body_markdown":"I am trying to add items to a ProtocolStringList.When I use the add function no error is returned,however when I try to print the list I get null as values.\r\nI dont&#39;t know what I&#39;m doing wrong.I tried printing the size to but that also prints 0.I can&#39;t figure out what to do.Please Help.Thank you.\r\nHere is the code:\r\n\r\n\r\n    public class demo {\r\n        public  static  void main(String args[])\r\n        {\r\n            ProtocolStringList s=new ProtocolStringList() {\r\n                @Override\r\n                public List&lt;ByteString&gt; asByteStringList() {\r\n                    return null;\r\n                }\r\n    \r\n                @Override\r\n                public int size() {\r\n                    return 0;\r\n                }\r\n    \r\n                @Override\r\n                public boolean isEmpty() {\r\n                    return false;\r\n                }\r\n    \r\n                @Override\r\n                public boolean contains(Object o) {\r\n                    return false;\r\n                }\r\n    \r\n                @Override\r\n                public Iterator&lt;String&gt; iterator() {\r\n                    return null;\r\n                }\r\n    \r\n                @Override\r\n                public Object[] toArray() {\r\n                    return new Object[0];\r\n                }\r\n    \r\n                @Override\r\n                public &lt;T&gt; T[] toArray(T[] a) {\r\n                    return null;\r\n                }\r\n    \r\n                @Override\r\n                public boolean add(String s) {\r\n                    return false;\r\n                }\r\n    \r\n                @Override\r\n                public boolean remove(Object o) {\r\n                    return false;\r\n                }\r\n    \r\n                @Override\r\n                public boolean containsAll(Collection&lt;?&gt; c) {\r\n                    return false;\r\n                }\r\n    \r\n                @Override\r\n                public boolean addAll(Collection&lt;? extends String&gt; c) {\r\n                    return false;\r\n                }\r\n    \r\n                @Override\r\n                public boolean addAll(int index, Collection&lt;? extends String&gt; c) {\r\n                    return false;\r\n                }\r\n    \r\n                @Override\r\n                public boolean removeAll(Collection&lt;?&gt; c) {\r\n                    return false;\r\n                }\r\n    \r\n                @Override\r\n                public boolean retainAll(Collection&lt;?&gt; c) {\r\n                    return false;\r\n                }\r\n    \r\n                @Override\r\n                public void clear() {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public String get(int index) {\r\n                    return null;\r\n                }\r\n    \r\n                @Override\r\n                public String set(int index, String element) {\r\n                    return null;\r\n                }\r\n    \r\n                @Override\r\n                public void add(int index, String element) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public String remove(int index) {\r\n                    return null;\r\n                }\r\n    \r\n                @Override\r\n                public int indexOf(Object o) {\r\n                    return 0;\r\n                }\r\n    \r\n                @Override\r\n                public int lastIndexOf(Object o) {\r\n                    return 0;\r\n                }\r\n    \r\n                @Override\r\n                public ListIterator&lt;String&gt; listIterator() {\r\n                    return null;\r\n                }\r\n    \r\n                @Override\r\n                public ListIterator&lt;String&gt; listIterator(int index) {\r\n                    return null;\r\n                }\r\n    \r\n                @Override\r\n                public List&lt;String&gt; subList(int fromIndex, int toIndex) {\r\n                    return null;\r\n                }\r\n            };\r\n    \r\n            s.add(&quot;a&quot;);\r\n            s.add(&quot;b&quot;);\r\n            for(int i=0;i&lt;2;i++)\r\n            {\r\n                System.out.println(s.get(i));//prints null\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Add items to ProtocolStringList","body":"<p>I am trying to add items to a ProtocolStringList.When I use the add function no error is returned,however when I try to print the list I get null as values.\nI dont't know what I'm doing wrong.I tried printing the size to but that also prints 0.I can't figure out what to do.Please Help.Thank you.\nHere is the code:</p>\n\n<pre><code>public class demo {\n    public  static  void main(String args[])\n    {\n        ProtocolStringList s=new ProtocolStringList() {\n            @Override\n            public List&lt;ByteString&gt; asByteStringList() {\n                return null;\n            }\n\n            @Override\n            public int size() {\n                return 0;\n            }\n\n            @Override\n            public boolean isEmpty() {\n                return false;\n            }\n\n            @Override\n            public boolean contains(Object o) {\n                return false;\n            }\n\n            @Override\n            public Iterator&lt;String&gt; iterator() {\n                return null;\n            }\n\n            @Override\n            public Object[] toArray() {\n                return new Object[0];\n            }\n\n            @Override\n            public &lt;T&gt; T[] toArray(T[] a) {\n                return null;\n            }\n\n            @Override\n            public boolean add(String s) {\n                return false;\n            }\n\n            @Override\n            public boolean remove(Object o) {\n                return false;\n            }\n\n            @Override\n            public boolean containsAll(Collection&lt;?&gt; c) {\n                return false;\n            }\n\n            @Override\n            public boolean addAll(Collection&lt;? extends String&gt; c) {\n                return false;\n            }\n\n            @Override\n            public boolean addAll(int index, Collection&lt;? extends String&gt; c) {\n                return false;\n            }\n\n            @Override\n            public boolean removeAll(Collection&lt;?&gt; c) {\n                return false;\n            }\n\n            @Override\n            public boolean retainAll(Collection&lt;?&gt; c) {\n                return false;\n            }\n\n            @Override\n            public void clear() {\n\n            }\n\n            @Override\n            public String get(int index) {\n                return null;\n            }\n\n            @Override\n            public String set(int index, String element) {\n                return null;\n            }\n\n            @Override\n            public void add(int index, String element) {\n\n            }\n\n            @Override\n            public String remove(int index) {\n                return null;\n            }\n\n            @Override\n            public int indexOf(Object o) {\n                return 0;\n            }\n\n            @Override\n            public int lastIndexOf(Object o) {\n                return 0;\n            }\n\n            @Override\n            public ListIterator&lt;String&gt; listIterator() {\n                return null;\n            }\n\n            @Override\n            public ListIterator&lt;String&gt; listIterator(int index) {\n                return null;\n            }\n\n            @Override\n            public List&lt;String&gt; subList(int fromIndex, int toIndex) {\n                return null;\n            }\n        };\n\n        s.add(\"a\");\n        s.add(\"b\");\n        for(int i=0;i&lt;2;i++)\n        {\n            System.out.println(s.get(i));//prints null\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase-authentication","gmail"],"comments":[{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":1,"creation_date":1700340129,"post_id":77508387,"comment_id":136643422,"body_markdown":"This question is way too broad to be answered on Stack Overflow.","body":"This question is way too broad to be answered on Stack Overflow."},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1700341489,"post_id":77508387,"comment_id":136643555,"body_markdown":"What you call &quot;sign up with gmail&quot; is actually known as signing in with Google, as it applies to more than just `gmail.com` addresses. For documentation on that sign-in method, see https://firebase.google.com/docs/auth/android/google-signin","body":"What you call &quot;sign up with gmail&quot; is actually known as signing in with Google, as it applies to more than just <code>gmail.com</code> addresses. For documentation on that sign-in method, see <a href=\"https://firebase.google.com/docs/auth/android/google-signin\" rel=\"nofollow noreferrer\">firebase.google.com/docs/auth/android/google-signin</a>"},{"owner":{"account_id":6435751,"reputation":56,"user_id":9342781,"display_name":"Sajid"},"score":0,"creation_date":1700346655,"post_id":77508387,"comment_id":136643972,"body_markdown":"As Puff suggested, you need to use Google as a sign-in method. You&#39;ll be authenticating with use of Google services not just GMail.","body":"As Puff suggested, you need to use Google as a sign-in method. You&#39;ll be authenticating with use of Google services not just GMail."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1700395753,"post_id":77508387,"comment_id":136646916,"body_markdown":"I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseAuthentication).","body":"I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseAuthentication\" rel=\"nofollow noreferrer\">repo</a>."}],"owner":{"account_id":29936674,"reputation":9,"user_id":22942245,"display_name":"areg aloyan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":0,"score":-1,"last_activity_date":1700341555,"creation_date":1700334982,"question_id":77508387,"body_markdown":"I have a Java android studio app project which is connected to firebase.I have button &quot;sign up with gmail&quot; which must create user with his gmail.I have chosen the gmail in authentification part of firebase and put there my SHA1 code.\r\n\r\nI counldnt find any documentation about it.","title":"How to create user by gmail in android studio firebase","body":"<p>I have a Java android studio app project which is connected to firebase.I have button &quot;sign up with gmail&quot; which must create user with his gmail.I have chosen the gmail in authentification part of firebase and put there my SHA1 code.</p>\n<p>I counldnt find any documentation about it.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","postman"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1670467476,"post_id":74724921,"comment_id":131884510,"body_markdown":"Do any of your other endpoints work? What type of request are you making to http://localhost:8080/mdb-spring-boot-product-organizer/api/addProduct?","body":"Do any of your other endpoints work? What type of request are you making to <a href=\"http://localhost:8080/mdb-spring-boot-product-organizer/api/addProduct\" rel=\"nofollow noreferrer\">localhost:8080/mdb-spring-boot-product-organizer/api/addProd&zwnj;&#8203;uct</a>?"},{"owner":{"account_id":13318942,"reputation":3000,"user_id":9614331,"display_name":"Avijit Barua"},"score":0,"creation_date":1670479803,"post_id":74724921,"comment_id":131886203,"body_markdown":"Also provide postman screenshot","body":"Also provide postman screenshot"}],"answers":[{"tags":[],"owner":{"account_id":213898,"reputation":908,"user_id":467545,"display_name":"Wahid Sadik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670467871,"creation_date":1670467871,"answer_id":74724975,"question_id":74724921,"body_markdown":"I don&#39;t think `mdb-spring-boot-product-organizer` should be part of the URL.\r\n\r\nTry making a `POST` to `http://localhost:8080/api/addProduct`.","title":"Spring Boot Postman 404 and Not Found Error","body":"<p>I don't think <code>mdb-spring-boot-product-organizer</code> should be part of the URL.</p>\n<p>Try making a <code>POST</code> to <code>http://localhost:8080/api/addProduct</code>.</p>\n"},{"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1670479460,"post_id":74726118,"comment_id":131886152,"body_markdown":"You can add `com.example.mdbspringbootproductorganizer.repository` to `@EnableMongoRepositories` as well , need to check ! It will scan for repository definition and log will show up something like this , Found 1 repository ...","body":"You can add <code>com.example.mdbspringbootproductorganizer.repository</code> to <code>@EnableMongoRepositories</code> as well , need to check ! It will scan for repository definition and log will show up something like this , Found 1 repository ..."}],"tags":[],"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670479380,"creation_date":1670479380,"answer_id":74726118,"question_id":74724921,"body_markdown":"Try adding `@ComponentScan` to your Spring boot application class.\r\n\r\n    @SpringBootApplication\r\n    @EnableMongoRepositories\r\n    @ComponentScan(basePackages={&quot;com.example.mdbspringbootproductorganizer.controller&quot;,&quot;com.example.mdbspringbootproductorganizer.repository&quot;})\r\n    public class MdbSpringBootApplication {\r\n        \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MdbSpringBootApplication.class, args);\r\n        }\r\n        \r\n    \r\n    }\r\n\r\nThis error comes usually when your spring boot application cannot find the URL ***(since it is defined in different package than one with @SpringBootApplication class)*** despite defined in Controller!","title":"Spring Boot Postman 404 and Not Found Error","body":"<p>Try adding <code>@ComponentScan</code> to your Spring boot application class.</p>\n<pre><code>@SpringBootApplication\n@EnableMongoRepositories\n@ComponentScan(basePackages={&quot;com.example.mdbspringbootproductorganizer.controller&quot;,&quot;com.example.mdbspringbootproductorganizer.repository&quot;})\npublic class MdbSpringBootApplication {\n    \n    public static void main(String[] args) {\n        SpringApplication.run(MdbSpringBootApplication.class, args);\n    }\n    \n\n}\n</code></pre>\n<p>This error comes usually when your spring boot application cannot find the URL <em><strong>(since it is defined in different package than one with @SpringBootApplication class)</strong></em> despite defined in Controller!</p>\n"}],"owner":{"account_id":27183059,"reputation":11,"user_id":20717961,"display_name":"Sohaib"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":841,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1700340450,"creation_date":1670467288,"question_id":74724921,"body_markdown":"I am trying to create a Spring Boot program where I can save different products that a business may have for sale. I am saving the products into MongoDB. \r\n\r\nCurrently, I am trying to use PostMan to save a product into the database. However, PostMan keeps giving me this error, and I was wondering what I am doing wrong (this is the URL I am inputting into PostMan: &quot;http://localhost:8080/mdb-spring-boot-product-organizer/api/addProduct&quot;):\r\n````\r\n\r\n{\r\n    &quot;timestamp&quot;: &quot;2022-12-07T22:56:33.866+00:00&quot;,\r\n    &quot;status&quot;: 404,\r\n    &quot;error&quot;: &quot;Not Found&quot;,\r\n    &quot;path&quot;: &quot;/mdb-spring-boot-product-organizer/api/addProduct&quot;\r\n}\r\n\r\n````\r\n\r\n\r\n\r\n[Project Explorer](https://i.stack.imgur.com/ExXmu.png)\r\n\r\n\r\n\r\n\r\nController Code\r\n\r\n\r\n````\r\n\r\npackage com.example.mdbspringbootproductorganizer.controller;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.example.mdbspringbootproductorganizer.model.Product;\r\nimport com.example.mdbspringbootproductorganizer.repository.ProductRepository;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class ProductController {\r\n\t\r\n\t@Autowired\r\n\tprivate ProductRepository repository; \r\n\t\r\n\t@PostMapping(&quot;/addProduct&quot;)\r\n\tpublic String saveProduct(@RequestBody Product product) {\r\n\t\t\r\n\t\trepository.save(product);\r\n\t\t\r\n\t\treturn &quot;Added product with id : &quot; + product.getId();\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/findAllProducts&quot;)\r\n\tpublic List&lt;Product&gt; getProducts() {\r\n\t\t\r\n\t\treturn repository.findAll();\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/findAllProducts/{id}&quot;)\r\n\tpublic Optional&lt;Product&gt; getProduct(@PathVariable int id) {\r\n\t\t\r\n\t\treturn repository.findById(id);\r\n\t}\r\n\t\r\n\t@DeleteMapping(&quot;/delete/{id}&quot;)\r\n\tpublic String deleteBook(@PathVariable int id) {\r\n\t\t\r\n\t\trepository.deleteById(id); \r\n\t\t\r\n\t\treturn &quot;Product deleted with id: &quot; + id;\r\n\t}\r\n}\r\n\r\n````\r\n\r\n\r\n\r\nRepository\r\n````\r\n\r\npackage com.example.mdbspringbootproductorganizer.repository;\r\n\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\n\r\nimport com.example.mdbspringbootproductorganizer.model.Product;\r\n\r\npublic interface ProductRepository extends MongoRepository&lt;Product, Integer&gt; {\r\n\r\n\t \r\n}\r\n\r\n````\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nPOJO\r\n\r\n\r\n````\r\n\r\npackage com.example.mdbspringbootproductorganizer.model;\r\n\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\n@Document(collection = &quot;ProductInventory&quot;)\r\npublic class Product {\r\n\t\r\n\t@Id\r\n\tprivate int id;\r\n\t\r\n\tprivate String name;\r\n\tprivate double listedPrice; \r\n\tprivate double purchasePrice; \r\n\tprivate String condition;\r\n\tprivate String brand; \r\n\tprivate char shelf;\r\n\tprivate int bin;\r\n\t\r\n\tpublic Product(int id, String name, double listedPrice, double purchasePrice, String condition, String brand,\r\n\t\t\tchar shelf, int bin) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.listedPrice = listedPrice;\r\n\t\tthis.purchasePrice = purchasePrice;\r\n\t\tthis.condition = condition;\r\n\t\tthis.brand = brand;\r\n\t\tthis.shelf = shelf;\r\n\t\tthis.bin = bin;\r\n\t}\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic double getListedPrice() {\r\n\t\treturn listedPrice;\r\n\t}\r\n\r\n\tpublic void setListedPrice(double listedPrice) {\r\n\t\tthis.listedPrice = listedPrice;\r\n\t}\r\n\r\n\tpublic double getPurchasePrice() {\r\n\t\treturn purchasePrice;\r\n\t}\r\n\r\n\tpublic void setPurchasePrice(double purchasePrice) {\r\n\t\tthis.purchasePrice = purchasePrice;\r\n\t}\r\n\r\n\tpublic String getCondition() {\r\n\t\treturn condition;\r\n\t}\r\n\r\n\tpublic void setCondition(String condition) {\r\n\t\tthis.condition = condition;\r\n\t}\r\n\r\n\tpublic String getBrand() {\r\n\t\treturn brand;\r\n\t}\r\n\r\n\tpublic void setBrand(String brand) {\r\n\t\tthis.brand = brand;\r\n\t}\r\n\r\n\tpublic char getShelf() {\r\n\t\treturn shelf;\r\n\t}\r\n\r\n\tpublic void setShelf(char shelf) {\r\n\t\tthis.shelf = shelf;\r\n\t}\r\n\r\n\tpublic int getBin() {\r\n\t\treturn bin;\r\n\t}\r\n\r\n\tpublic void setBin(int bin) {\r\n\t\tthis.bin = bin;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Product [idNumber=&quot; + id + &quot;, name=&quot; + name + &quot;, listedPrice=&quot; + listedPrice + &quot;, purchasePrice=&quot;\r\n\t\t\t\t+ purchasePrice + &quot;, condition=&quot; + condition + &quot;, brand=&quot; + brand + &quot;, shelf=&quot; + shelf + &quot;, bin=&quot; + bin\r\n\t\t\t\t+ &quot;]&quot;;\r\n\t} \r\n\t\t\t\t\r\n}\r\n\r\n````\r\n\r\n\r\n\r\nMain class\r\n````\r\npackage com.example.mdbspringbootproductorganizer;\r\n\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\r\n\r\n@SpringBootApplication\r\n@EnableMongoRepositories\r\npublic class MdbSpringBootApplication {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(MdbSpringBootApplication.class, args);\r\n\t}\r\n\t\r\n\r\n}````\r\n\r\n\r\n\r\nI have been trying to add different annotations or rename my packages, but none of that has worked.","title":"Spring Boot Postman 404 and Not Found Error","body":"<p>I am trying to create a Spring Boot program where I can save different products that a business may have for sale. I am saving the products into MongoDB.</p>\n<p>Currently, I am trying to use PostMan to save a product into the database. However, PostMan keeps giving me this error, and I was wondering what I am doing wrong (this is the URL I am inputting into PostMan: &quot;http://localhost:8080/mdb-spring-boot-product-organizer/api/addProduct&quot;):</p>\n<pre><code>\n{\n    &quot;timestamp&quot;: &quot;2022-12-07T22:56:33.866+00:00&quot;,\n    &quot;status&quot;: 404,\n    &quot;error&quot;: &quot;Not Found&quot;,\n    &quot;path&quot;: &quot;/mdb-spring-boot-product-organizer/api/addProduct&quot;\n}\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ExXmu.png\" rel=\"nofollow noreferrer\">Project Explorer</a></p>\n<p>Controller Code</p>\n<pre><code>\npackage com.example.mdbspringbootproductorganizer.controller;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.example.mdbspringbootproductorganizer.model.Product;\nimport com.example.mdbspringbootproductorganizer.repository.ProductRepository;\n\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class ProductController {\n    \n    @Autowired\n    private ProductRepository repository; \n    \n    @PostMapping(&quot;/addProduct&quot;)\n    public String saveProduct(@RequestBody Product product) {\n        \n        repository.save(product);\n        \n        return &quot;Added product with id : &quot; + product.getId();\n    }\n    \n    @GetMapping(&quot;/findAllProducts&quot;)\n    public List&lt;Product&gt; getProducts() {\n        \n        return repository.findAll();\n    }\n    \n    @GetMapping(&quot;/findAllProducts/{id}&quot;)\n    public Optional&lt;Product&gt; getProduct(@PathVariable int id) {\n        \n        return repository.findById(id);\n    }\n    \n    @DeleteMapping(&quot;/delete/{id}&quot;)\n    public String deleteBook(@PathVariable int id) {\n        \n        repository.deleteById(id); \n        \n        return &quot;Product deleted with id: &quot; + id;\n    }\n}\n\n</code></pre>\n<p>Repository</p>\n<pre><code>\npackage com.example.mdbspringbootproductorganizer.repository;\n\nimport org.springframework.data.mongodb.repository.MongoRepository;\n\nimport com.example.mdbspringbootproductorganizer.model.Product;\n\npublic interface ProductRepository extends MongoRepository&lt;Product, Integer&gt; {\n\n     \n}\n\n</code></pre>\n<p>POJO</p>\n<pre><code>\npackage com.example.mdbspringbootproductorganizer.model;\n\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\n@Document(collection = &quot;ProductInventory&quot;)\npublic class Product {\n    \n    @Id\n    private int id;\n    \n    private String name;\n    private double listedPrice; \n    private double purchasePrice; \n    private String condition;\n    private String brand; \n    private char shelf;\n    private int bin;\n    \n    public Product(int id, String name, double listedPrice, double purchasePrice, String condition, String brand,\n            char shelf, int bin) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.listedPrice = listedPrice;\n        this.purchasePrice = purchasePrice;\n        this.condition = condition;\n        this.brand = brand;\n        this.shelf = shelf;\n        this.bin = bin;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public double getListedPrice() {\n        return listedPrice;\n    }\n\n    public void setListedPrice(double listedPrice) {\n        this.listedPrice = listedPrice;\n    }\n\n    public double getPurchasePrice() {\n        return purchasePrice;\n    }\n\n    public void setPurchasePrice(double purchasePrice) {\n        this.purchasePrice = purchasePrice;\n    }\n\n    public String getCondition() {\n        return condition;\n    }\n\n    public void setCondition(String condition) {\n        this.condition = condition;\n    }\n\n    public String getBrand() {\n        return brand;\n    }\n\n    public void setBrand(String brand) {\n        this.brand = brand;\n    }\n\n    public char getShelf() {\n        return shelf;\n    }\n\n    public void setShelf(char shelf) {\n        this.shelf = shelf;\n    }\n\n    public int getBin() {\n        return bin;\n    }\n\n    public void setBin(int bin) {\n        this.bin = bin;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Product [idNumber=&quot; + id + &quot;, name=&quot; + name + &quot;, listedPrice=&quot; + listedPrice + &quot;, purchasePrice=&quot;\n                + purchasePrice + &quot;, condition=&quot; + condition + &quot;, brand=&quot; + brand + &quot;, shelf=&quot; + shelf + &quot;, bin=&quot; + bin\n                + &quot;]&quot;;\n    } \n                \n}\n\n</code></pre>\n<p>Main class</p>\n<pre><code>package com.example.mdbspringbootproductorganizer;\n\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\n\n@SpringBootApplication\n@EnableMongoRepositories\npublic class MdbSpringBootApplication {\n    \n    public static void main(String[] args) {\n        SpringApplication.run(MdbSpringBootApplication.class, args);\n    }\n    \n\n}````\n\n\n\nI have been trying to add different annotations or rename my packages, but none of that has worked.\n</code></pre>\n"},{"tags":["java","jenkins","appium","appium-android"],"comments":[{"owner":{"account_id":25686400,"reputation":83,"user_id":19448419,"display_name":"HomeLander"},"score":0,"creation_date":1700445735,"post_id":77508631,"comment_id":136651728,"body_markdown":"Please raise a ticket with Browserstack at support@browserstack.com","body":"Please raise a ticket with Browserstack at support@browserstack.com"}],"owner":{"account_id":1554647,"reputation":373,"user_id":1446165,"accept_rate":75,"display_name":"Jimmy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700339867,"creation_date":1700339867,"question_id":77508631,"body_markdown":"I am running my test using Appium Java with integration in jenkins, and I use Jenkins `build now` to debug my test run (since I need to simulate test in CI/CD process and make sure that it will run in jenkins).\r\n\r\nnote: I already set some of env variable in jenkins\r\n\r\nhere is my structure(page object model) :\r\n\r\n\r\n`Baseclass.java`\r\n```\r\npublic class BaseClass {\r\n\tpublic AndroidDriver driver;\r\n\tpublic PageObject pageObject;\r\n\t\r\n\t\r\n\tpublic static String userName = System.getenv(&quot;USERNAME&quot;); // JimWOrm_AkxAuc\r\n\tpublic static String accessKey = System.getenv(&quot;ACCESSKEY&quot;);  // PfrH3CPzJttGb8F6cxgl\r\n\t\r\n\tpublic static String buildName = System.getenv(&quot;BROWSERSTACK_BUILD_NAME&quot;); \r\n\tpublic static String app = System.getenv(&quot;APP_ID&quot;); bs://ffdf74d0b5ccf9f84ee79735f505fadf12288514\r\n\r\n    public static String url = &quot;http://&quot;+userName+&quot;:&quot;+accessKey+&quot;@hub-cloud.browserstack.com/wd/hub&quot;;\r\n\t\t\r\n    @BeforeTest\r\n    public void setUp() throws MalformedURLException, InterruptedException {\r\n    \tMutableCapabilities capabilities = new UiAutomator2Options();\r\n    \t\r\n    \tHashMap&lt;String, Object&gt; browserstackOptions = new HashMap&lt;String, Object&gt;();\r\n    \tbrowserstackOptions.put(&quot;appiumVersion&quot;, &quot;1.18.0&quot;);\r\n    \tcapabilities.setCapability(&quot;bstack:options&quot;, browserstackOptions);\r\n    \t\r\n\t\tcapabilities.setCapability(&quot;deviceName&quot;, &quot;Samsung Galaxy S21&quot;);\r\n\t\tcapabilities.setCapability(&quot;os_Version&quot;, &quot;12.0&quot;);\r\n\t\tcapabilities.setCapability(&quot;Project&quot;,&quot;Sample project Jenkins Integration&quot;); \r\n\t\tcapabilities.setCapability(&quot;build&quot;, buildName); \r\n\r\n\t\tcapabilities.setCapability(&quot;app&quot;, app); \r\n\r\n      \tdriver = new AndroidDriver(new URL(url), capabilities);\r\n      \t\r\n      \tpageObject = new PageObject(driver);\r\n      \t\r\n    }\r\n\r\n   \r\n   \r\n    @AfterTest\r\n    public void tearDown() {\r\n        driver.quit();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n`Login.java`\r\n```\r\npackage com.browserstack;\r\n\r\nimport org.testng.annotations.Test;\r\n\r\npublic class Login extends BaseClass {\r\n\t\r\n\t@Test\r\n\tpublic void login () throws InterruptedException {\r\n\t\t//app loading\r\n\t\tpageObject.appLoading(); \r\n\t\t\r\n\t\t//click and send in namefield\r\n\t\tpageObject.clickOnElement(pageObject.nameField);\r\n\t\tpageObject.enterUsersname(pageObject.nameField);\r\n\t\t\r\n\t\t//hide keyboard\r\n\t\tpageObject.hideKeyboard();\r\n\t\t\r\n\t\t//submit\r\n\t\tpageObject.clickOnElement(pageObject.loginbtn);\r\n\t\t\r\n\t\tSystem.out.print(&quot;Test Login : Complete&quot;);\r\n\t\t\r\n\t}\r\n}\r\n\r\n```\r\n\r\n`PageObject.java`\r\n\r\n```\r\npackage pages;\r\n\r\nimport io.appium.java_client.android.AndroidDriver;\r\nimport io.appium.java_client.pagefactory.AndroidFindBy;\r\nimport io.appium.java_client.pagefactory.AppiumFieldDecorator;\r\n\r\nimport java.util.concurrent.TimeUnit;\r\n\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.support.PageFactory;\r\n\r\nimport Utility.utils;\r\n\r\npublic class PageObject extends Utils {\r\n\tAndroidDriver driver;\r\n\r\n\tpublic PageObject(AndroidDriver driver) {\r\n\r\n\t\tsuper(driver);\r\n\t\tthis.driver = driver;\r\n\t\tPageFactory.initElements(new AppiumFieldDecorator(driver), this);\r\n\t\t\r\n\t}\r\n\r\n\t// page object\r\n\t@AndroidFindBy(id = &quot;com.androidsample.sampleapp:id/nameField&quot;)\r\n\tpublic WebElement nameField;\r\n\r\n    @AndroidFindBy(id = &quot;com.androidsample.sampleapp:id/btnLetsShop&quot;)\r\n\tpublic WebElement loginbtn;\r\n\r\n    @AndroidFindBy(id = &quot;android:id/country&quot;)\r\n\tpublic WebElement countrybtn;\r\n    \r\n    //methods\r\n    public void appLoading() {\r\n\tdriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n    }\r\n\r\n\tpublic void navigateBack() {\r\n\t\tdriver.pressKey(new KeyEvent(AndroidKey.BACK));\r\n\t\r\n```\r\n\r\n`Utils.java`\r\n```\r\npackage utility;\r\n\r\nimport org.openqa.selenium.JavascriptExecutor;\r\n\r\nimport com.google.common.collect.ImmutableMap;\r\n\r\nimport io.appium.java_client.AppiumBy;\r\nimport io.appium.java_client.android.AndroidDriver;\r\n\r\npublic class Utils {\r\n\tstatic AndroidDriver driver;\r\n\t\r\n\tpublic Utils(AndroidDriver driver) {\r\n\t\tUtils.driver=driver;\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void scrollDown() throws InterruptedException {\r\n\t\t((JavascriptExecutor) driver).executeScript(&quot;mobile: scrollGesture&quot;, ImmutableMap.of(\r\n\t\t\t    &quot;left&quot;, 100, &quot;top&quot;, 450, &quot;width&quot;, 200, &quot;height&quot;, 950,\r\n\t\t\t    &quot;direction&quot;, &quot;DOWN&quot;,\r\n\t\t\t    &quot;percent&quot;, 10\r\n\t\t\t));\r\n\t}\r\n\r\n```\r\n`xml file`\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;suite name=&quot;First&quot;&gt;\r\n    &lt;test name=&quot;FirstTest&quot;&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;com.browserstack.Login&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt;\r\n\r\n```\r\n\r\nafter `build now` run in jenkins here is the result:\r\n`console output in jenkins run`\r\n```\r\n[INFO] Running TestSuite\r\n[ERROR] Tests run: 3, Failures: 1, Errors: 0, Skipped: 2, Time elapsed: 30.001 s &lt;&lt;&lt; FAILURE! - in TestSuite\r\n[ERROR] setUp(com.browserstack.Login)  Time elapsed: 29.903 s  &lt;&lt;&lt; FAILURE!\r\njava.lang.ExceptionInInitializerError\r\nCaused by: net.sf.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @b62d79\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @b62d79\r\n```\r\n\r\n`browserstack issue result`\r\n```\r\nSTOP SESSION\r\n[BROWSERSTACK_IDLE_TIMEOUT] Session timed out due to inactivity for configured time interval (default: 90 secs)\r\n```\r\n\r\nhow to fix this error:\r\n```\r\njava.lang.ExceptionInInitializerError\r\nCaused by: net.sf.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class\r\n```\r\n\r\nAm I missing something? or should I tweak/change my structure of page object model?\r\n","title":"how to fix java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class in appium with jenkins","body":"<p>I am running my test using Appium Java with integration in jenkins, and I use Jenkins <code>build now</code> to debug my test run (since I need to simulate test in CI/CD process and make sure that it will run in jenkins).</p>\n<p>note: I already set some of env variable in jenkins</p>\n<p>here is my structure(page object model) :</p>\n<p><code>Baseclass.java</code></p>\n<pre><code>public class BaseClass {\n    public AndroidDriver driver;\n    public PageObject pageObject;\n    \n    \n    public static String userName = System.getenv(&quot;USERNAME&quot;); // JimWOrm_AkxAuc\n    public static String accessKey = System.getenv(&quot;ACCESSKEY&quot;);  // PfrH3CPzJttGb8F6cxgl\n    \n    public static String buildName = System.getenv(&quot;BROWSERSTACK_BUILD_NAME&quot;); \n    public static String app = System.getenv(&quot;APP_ID&quot;); bs://ffdf74d0b5ccf9f84ee79735f505fadf12288514\n\n    public static String url = &quot;http://&quot;+userName+&quot;:&quot;+accessKey+&quot;@hub-cloud.browserstack.com/wd/hub&quot;;\n        \n    @BeforeTest\n    public void setUp() throws MalformedURLException, InterruptedException {\n        MutableCapabilities capabilities = new UiAutomator2Options();\n        \n        HashMap&lt;String, Object&gt; browserstackOptions = new HashMap&lt;String, Object&gt;();\n        browserstackOptions.put(&quot;appiumVersion&quot;, &quot;1.18.0&quot;);\n        capabilities.setCapability(&quot;bstack:options&quot;, browserstackOptions);\n        \n        capabilities.setCapability(&quot;deviceName&quot;, &quot;Samsung Galaxy S21&quot;);\n        capabilities.setCapability(&quot;os_Version&quot;, &quot;12.0&quot;);\n        capabilities.setCapability(&quot;Project&quot;,&quot;Sample project Jenkins Integration&quot;); \n        capabilities.setCapability(&quot;build&quot;, buildName); \n\n        capabilities.setCapability(&quot;app&quot;, app); \n\n        driver = new AndroidDriver(new URL(url), capabilities);\n        \n        pageObject = new PageObject(driver);\n        \n    }\n\n   \n   \n    @AfterTest\n    public void tearDown() {\n        driver.quit();\n    }\n}\n</code></pre>\n<p><code>Login.java</code></p>\n<pre><code>package com.browserstack;\n\nimport org.testng.annotations.Test;\n\npublic class Login extends BaseClass {\n    \n    @Test\n    public void login () throws InterruptedException {\n        //app loading\n        pageObject.appLoading(); \n        \n        //click and send in namefield\n        pageObject.clickOnElement(pageObject.nameField);\n        pageObject.enterUsersname(pageObject.nameField);\n        \n        //hide keyboard\n        pageObject.hideKeyboard();\n        \n        //submit\n        pageObject.clickOnElement(pageObject.loginbtn);\n        \n        System.out.print(&quot;Test Login : Complete&quot;);\n        \n    }\n}\n\n</code></pre>\n<p><code>PageObject.java</code></p>\n<pre><code>package pages;\n\nimport io.appium.java_client.android.AndroidDriver;\nimport io.appium.java_client.pagefactory.AndroidFindBy;\nimport io.appium.java_client.pagefactory.AppiumFieldDecorator;\n\nimport java.util.concurrent.TimeUnit;\n\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.PageFactory;\n\nimport Utility.utils;\n\npublic class PageObject extends Utils {\n    AndroidDriver driver;\n\n    public PageObject(AndroidDriver driver) {\n\n        super(driver);\n        this.driver = driver;\n        PageFactory.initElements(new AppiumFieldDecorator(driver), this);\n        \n    }\n\n    // page object\n    @AndroidFindBy(id = &quot;com.androidsample.sampleapp:id/nameField&quot;)\n    public WebElement nameField;\n\n    @AndroidFindBy(id = &quot;com.androidsample.sampleapp:id/btnLetsShop&quot;)\n    public WebElement loginbtn;\n\n    @AndroidFindBy(id = &quot;android:id/country&quot;)\n    public WebElement countrybtn;\n    \n    //methods\n    public void appLoading() {\n    driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n    }\n\n    public void navigateBack() {\n        driver.pressKey(new KeyEvent(AndroidKey.BACK));\n    \n</code></pre>\n<p><code>Utils.java</code></p>\n<pre><code>package utility;\n\nimport org.openqa.selenium.JavascriptExecutor;\n\nimport com.google.common.collect.ImmutableMap;\n\nimport io.appium.java_client.AppiumBy;\nimport io.appium.java_client.android.AndroidDriver;\n\npublic class Utils {\n    static AndroidDriver driver;\n    \n    public Utils(AndroidDriver driver) {\n        Utils.driver=driver;\n    }\n    \n    \n    public static void scrollDown() throws InterruptedException {\n        ((JavascriptExecutor) driver).executeScript(&quot;mobile: scrollGesture&quot;, ImmutableMap.of(\n                &quot;left&quot;, 100, &quot;top&quot;, 450, &quot;width&quot;, 200, &quot;height&quot;, 950,\n                &quot;direction&quot;, &quot;DOWN&quot;,\n                &quot;percent&quot;, 10\n            ));\n    }\n\n</code></pre>\n<p><code>xml file</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;First&quot;&gt;\n    &lt;test name=&quot;FirstTest&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.browserstack.Login&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n\n</code></pre>\n<p>after <code>build now</code> run in jenkins here is the result:\n<code>console output in jenkins run</code></p>\n<pre><code>[INFO] Running TestSuite\n[ERROR] Tests run: 3, Failures: 1, Errors: 0, Skipped: 2, Time elapsed: 30.001 s &lt;&lt;&lt; FAILURE! - in TestSuite\n[ERROR] setUp(com.browserstack.Login)  Time elapsed: 29.903 s  &lt;&lt;&lt; FAILURE!\njava.lang.ExceptionInInitializerError\nCaused by: net.sf.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @b62d79\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @b62d79\n</code></pre>\n<p><code>browserstack issue result</code></p>\n<pre><code>STOP SESSION\n[BROWSERSTACK_IDLE_TIMEOUT] Session timed out due to inactivity for configured time interval (default: 90 secs)\n</code></pre>\n<p>how to fix this error:</p>\n<pre><code>java.lang.ExceptionInInitializerError\nCaused by: net.sf.cglib.core.CodeGenerationException: java.lang.reflect.InaccessibleObjectException--&gt;Unable to make protected final java.lang.Class\n</code></pre>\n<p>Am I missing something? or should I tweak/change my structure of page object model?</p>\n"},{"tags":["java","android","regex"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1700334243,"post_id":77508228,"comment_id":136642845,"body_markdown":"Without looking at your code, I would have a `boolean decimalPointAllowed = true;`. After an operation key  (`+`,`*`,`-`, `/`, `=`, etc.) is pressed, set it to `true` in preparation for accepting the next number. When the decimal point button is pressed, test it:  `if (decimalPointAllowed) { decimalPointAllowed = false; /* rest of code for handling decimal point */ }","body":"Without looking at your code, I would have a <code>boolean decimalPointAllowed = true;</code>. After an operation key  (<code>+</code>,<code>*</code>,<code>-</code>, <code>&#47;</code>, <code>=</code>, etc.) is pressed, set it to <code>true</code> in preparation for accepting the next number. When the decimal point button is pressed, test it:  `if (decimalPointAllowed) { decimalPointAllowed = false; /* rest of code for handling decimal point */ }"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1700339710,"post_id":77508228,"comment_id":136643384,"body_markdown":"`(\\\\.\\\\d*)?` The problem is here. Have a think about what it actually means.","body":"<code>(\\\\.\\\\d*)?</code> The problem is here. Have a think about what it actually means."}],"answers":[{"comments":[{"owner":{"account_id":29788646,"reputation":17,"user_id":22829433,"display_name":"just coding"},"score":0,"creation_date":1700375116,"post_id":77508351,"comment_id":136645488,"body_markdown":"Ohh!! I didn&#39;t know that!! By any chance, if I don&#39;t type a decimal but any random number, would it still work as usual for the calculator?","body":"Ohh!! I didn&#39;t know that!! By any chance, if I don&#39;t type a decimal but any random number, would it still work as usual for the calculator?"},{"owner":{"account_id":29776118,"reputation":269,"user_id":22820043,"display_name":"Cloverleaf"},"score":0,"creation_date":1700385805,"post_id":77508351,"comment_id":136646091,"body_markdown":"Sure! `inputType=&quot;numberDecimal&quot;` only prevents meaningless numbers as input.","body":"Sure! <code>inputType=&quot;numberDecimal&quot;</code> only prevents meaningless numbers as input."}],"tags":[],"owner":{"account_id":29776118,"reputation":269,"user_id":22820043,"display_name":"Cloverleaf"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1700339269,"creation_date":1700334405,"answer_id":77508351,"question_id":77508228,"body_markdown":"The solution to this problem is fairly simple. You have chosen an `EditText` as the input for the numbers, haven&#39;t you? Then all you have to do is add the line \r\n\r\n    &lt;EditText\r\n        ...\r\n        android:inputType=&quot;numberDecimal&quot;\r\n        ...\r\n        /&gt;\r\n\r\nin the xml layout file which prevents a number from having multiple decimal points (or letters or other symbols).","title":"How do I limit decimal point to just ONE per number+","body":"<p>The solution to this problem is fairly simple. You have chosen an <code>EditText</code> as the input for the numbers, haven't you? Then all you have to do is add the line</p>\n<pre><code>&lt;EditText\n    ...\n    android:inputType=&quot;numberDecimal&quot;\n    ...\n    /&gt;\n</code></pre>\n<p>in the xml layout file which prevents a number from having multiple decimal points (or letters or other symbols).</p>\n"}],"owner":{"account_id":29788646,"reputation":17,"user_id":22829433,"display_name":"just coding"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77508351,"answer_count":1,"score":0,"last_activity_date":1700339269,"creation_date":1700332318,"question_id":77508228,"body_markdown":"I am coding a calculator in java/android studio, and I ran into this problem of only requiring one decimal point per number. Like 1.2 and not 1.2.3. The user is allowed to use fractional numbers or natural numbers in the calculator, however, once the user presses dot (“.”) sign, this cannot be repeated again for that specific number. \r\n\r\nI coded it to show error (which didn&#39;t work), and instead of showing error, the user shouldn&#39;t be able to add another decimal point after the first one for the number. It need to work for 1.1 + 1.1 but not for 1.1.1. or 1.1. etc\r\n\r\nI tried this as part of the code but it doesn&#39;t work. Like, it keeps disabling my equal button even though I had already written it right after the first warning.\r\n\r\n```\r\nPattern p;\r\n\r\n\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n   super.onCreate(savedInstanceState);\r\n   setContentView(R.layout.activity_main);\r\n\r\n\r\n   p = Pattern.compile(&quot;(\\\\d*(\\\\.\\\\d*)?([+\\\\-*%\\\\]|$))*&quot;);\r\n\r\n\r\n   UserInput = findViewById(R.id.ed_calculation_input);\r\n   UserInput.setShowSoftInputOnFocus(false);\r\n   tvCalculationOutput = findViewById(R.id.tv_calculation_output);\r\n\r\n\r\n   edUserInput.addTextChangedListener(new TextWatcher() {\r\n       @Override\r\n       public void beforeTextChanged(CharSequence s, int start, int count, int after) {\r\n\r\n\r\n       }\r\n\r\n\r\n       @Override\r\n       public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n           Matcher m = p.matcher(edUserInput.getText().toString());\r\n           if(!m.matches()) {\r\n               edUserInput.setError(&quot;Enter valid no&quot;);\r\n               btnEqual.setEnabled(false);\r\n           } else {\r\n               btnEqual.setEnabled(true);\r\n           }\r\n       }\r\n\r\n\r\n       @Override\r\n       public void afterTextChanged(Editable s) {\r\n\r\n\r\n       }\r\n   });\r\n\r\n```","title":"How do I limit decimal point to just ONE per number+","body":"<p>I am coding a calculator in java/android studio, and I ran into this problem of only requiring one decimal point per number. Like 1.2 and not 1.2.3. The user is allowed to use fractional numbers or natural numbers in the calculator, however, once the user presses dot (“.”) sign, this cannot be repeated again for that specific number.</p>\n<p>I coded it to show error (which didn't work), and instead of showing error, the user shouldn't be able to add another decimal point after the first one for the number. It need to work for 1.1 + 1.1 but not for 1.1.1. or 1.1. etc</p>\n<p>I tried this as part of the code but it doesn't work. Like, it keeps disabling my equal button even though I had already written it right after the first warning.</p>\n<pre><code>Pattern p;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n   super.onCreate(savedInstanceState);\n   setContentView(R.layout.activity_main);\n\n\n   p = Pattern.compile(&quot;(\\\\d*(\\\\.\\\\d*)?([+\\\\-*%\\\\]|$))*&quot;);\n\n\n   UserInput = findViewById(R.id.ed_calculation_input);\n   UserInput.setShowSoftInputOnFocus(false);\n   tvCalculationOutput = findViewById(R.id.tv_calculation_output);\n\n\n   edUserInput.addTextChangedListener(new TextWatcher() {\n       @Override\n       public void beforeTextChanged(CharSequence s, int start, int count, int after) {\n\n\n       }\n\n\n       @Override\n       public void onTextChanged(CharSequence s, int start, int before, int count) {\n           Matcher m = p.matcher(edUserInput.getText().toString());\n           if(!m.matches()) {\n               edUserInput.setError(&quot;Enter valid no&quot;);\n               btnEqual.setEnabled(false);\n           } else {\n               btnEqual.setEnabled(true);\n           }\n       }\n\n\n       @Override\n       public void afterTextChanged(Editable s) {\n\n\n       }\n   });\n\n</code></pre>\n"},{"tags":["java","servlets","nullpointerexception","websphere","myfaces"],"answers":[{"tags":[],"owner":{"account_id":7533198,"reputation":1546,"user_id":5720532,"display_name":"Abderrazzak Nejeoui"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551696314,"creation_date":1551696314,"answer_id":54981589,"question_id":39388300,"body_markdown":"java.lang.NullPointerException can occure on WAS 7 when security is enabled and provisioning is disabled, you can apply the fix pack 8.0.0.11 and 8.5.5.7 see (https://www-01.ibm.com/support/docview.wss?uid=swg1PI39369) for more details","title":"com.ibm.ws.webcontainer.webapp.WebApp logServletError SRVE0293E: [Servlet Error]-[faces]: java.lang.NullPointerException","body":"<p>java.lang.NullPointerException can occure on WAS 7 when security is enabled and provisioning is disabled, you can apply the fix pack 8.0.0.11 and 8.5.5.7 see (<a href=\"https://www-01.ibm.com/support/docview.wss?uid=swg1PI39369\" rel=\"nofollow noreferrer\">https://www-01.ibm.com/support/docview.wss?uid=swg1PI39369</a>) for more details</p>\n"}],"owner":{"account_id":7805640,"reputation":21,"user_id":5903617,"display_name":"Kiran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16902,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1700338106,"creation_date":1473329762,"question_id":39388300,"body_markdown":"I am using IBM WAS 7.0 and myfaces.version 1.1.5 but when i run the application following error is triggered. but the same code is working fine in some other environment(environment with same configuration).\r\n\r\n\r\n    [8/9/16 14:36:58:634 IST] 0000001f viewhandler   E   Error Rendering View[/jsf/search.jspx]\r\n                                 java.lang.NullPointerException\r\n\tat org.apache.myfaces.trinidadinternal.ui.RootRenderingContext.getRendererManager(RootRenderingContext.java:193)\r\n\tat org.apache.myfaces.trinidadinternal.uinode.UIXComponentUINode.getRenderer(UIXComponentUINode.java:379)\r\n\tat org.apache.myfaces.trinidadinternal.uinode.UIXComponentUINode.renderInternal(UIXComponentUINode.java:166)\r\n\tat org.apache.myfaces.trinidadinternal.uinode.UINodeRendererBase.encodeEnd(UINodeRendererBase.java:70)\r\n\tat org.apache.myfaces.trinidad.component.UIXComponentBase.encodeEnd(UIXComponentBase.java:693)\r\n\tat org.apache.myfaces.trinidad.render.CoreRenderer.encodeChild(CoreRenderer.java:304)\r\n\tat org.apache.myfaces.trinidad.render.CoreRenderer.encodeAllChildren(CoreRenderer.java:321)\r\n\tat org.apache.myfaces.trinidadinternal.renderkit.html.CellFormatRenderer.encodeAll(CellFormatRenderer.java:102)\r\n\tat org.apache.myfaces.trinidad.render.CoreRenderer.encodeEnd(CoreRenderer.java:224)\r\n\tat org.apache.myfaces.trinidad.component.UIXComponentBase.encodeEnd(UIXComponentBase.java:693)\r\n\tat org.apache.myfaces.trinidad.render.CoreRenderer.encodeChild(CoreRenderer.java:304)\r\n\tat org.apache.myfaces.trinidadinternal.renderkit.html.RowLayoutRenderer.encodeChild(RowLayoutRenderer.java:110)\r\n\tat org.apache.myfaces.trinidad.render.CoreRenderer.encodeAllChildren(CoreRenderer.java:321)\r\n\tat org.apache.myfaces.trinidadinternal.renderkit.html.RowLayoutRenderer.encodeAll(RowLayoutRenderer.java:88\r\n\r\n    [8/9/16 14:36:58:638 IST] 0000001f servlet       E com.ibm.ws.webcontainer.servlet.ServletWrapper service SRVE0068E: Uncaught exception created in one of the service methods of the servlet faces in application compass-ear. Exception created : javax.servlet.ServletException: java.lang.NullPointerException\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:158)\r\n\tat com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1443)\r\n\tat com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1384)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:131)\r\n\tat uk.co.orange.bi.cd.ra.log.PerformanceMonitorFilter.doFilter(PerformanceMonitorFilter.java:46)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:236)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)\r\n\tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:188)\r\n\tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:116)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:359)\r\n\tat org.springframework.security.intercept.web.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:109)\r\n\tat org.springframework.security.intercept.web.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:83)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\r\n\tat org.springframework.security.ui.SessionFixationProtectionFilter.doFilterHttp(SessionFixationProtectionFilter.java:67)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\r\n\tat org.springframework.security.ui.ExceptionTranslationFilter.doFilterHttp(ExceptionTranslationFilter.java:101)\r\n\tat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\r\n\tat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\r\n","title":"com.ibm.ws.webcontainer.webapp.WebApp logServletError SRVE0293E: [Servlet Error]-[faces]: java.lang.NullPointerException","body":"<p>I am using IBM WAS 7.0 and myfaces.version 1.1.5 but when i run the application following error is triggered. but the same code is working fine in some other environment(environment with same configuration).</p>\n\n<pre><code>[8/9/16 14:36:58:634 IST] 0000001f viewhandler   E   Error Rendering View[/jsf/search.jspx]\n                             java.lang.NullPointerException\nat org.apache.myfaces.trinidadinternal.ui.RootRenderingContext.getRendererManager(RootRenderingContext.java:193)\nat org.apache.myfaces.trinidadinternal.uinode.UIXComponentUINode.getRenderer(UIXComponentUINode.java:379)\nat org.apache.myfaces.trinidadinternal.uinode.UIXComponentUINode.renderInternal(UIXComponentUINode.java:166)\nat org.apache.myfaces.trinidadinternal.uinode.UINodeRendererBase.encodeEnd(UINodeRendererBase.java:70)\nat org.apache.myfaces.trinidad.component.UIXComponentBase.encodeEnd(UIXComponentBase.java:693)\nat org.apache.myfaces.trinidad.render.CoreRenderer.encodeChild(CoreRenderer.java:304)\nat org.apache.myfaces.trinidad.render.CoreRenderer.encodeAllChildren(CoreRenderer.java:321)\nat org.apache.myfaces.trinidadinternal.renderkit.html.CellFormatRenderer.encodeAll(CellFormatRenderer.java:102)\nat org.apache.myfaces.trinidad.render.CoreRenderer.encodeEnd(CoreRenderer.java:224)\nat org.apache.myfaces.trinidad.component.UIXComponentBase.encodeEnd(UIXComponentBase.java:693)\nat org.apache.myfaces.trinidad.render.CoreRenderer.encodeChild(CoreRenderer.java:304)\nat org.apache.myfaces.trinidadinternal.renderkit.html.RowLayoutRenderer.encodeChild(RowLayoutRenderer.java:110)\nat org.apache.myfaces.trinidad.render.CoreRenderer.encodeAllChildren(CoreRenderer.java:321)\nat org.apache.myfaces.trinidadinternal.renderkit.html.RowLayoutRenderer.encodeAll(RowLayoutRenderer.java:88\n\n[8/9/16 14:36:58:638 IST] 0000001f servlet       E com.ibm.ws.webcontainer.servlet.ServletWrapper service SRVE0068E: Uncaught exception created in one of the service methods of the servlet faces in application compass-ear. Exception created : javax.servlet.ServletException: java.lang.NullPointerException\nat javax.faces.webapp.FacesServlet.service(FacesServlet.java:158)\nat com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1443)\nat com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1384)\nat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:131)\nat uk.co.orange.bi.cd.ra.log.PerformanceMonitorFilter.doFilter(PerformanceMonitorFilter.java:46)\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:236)\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:167)\nat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:188)\nat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:116)\nat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:359)\nat org.springframework.security.intercept.web.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:109)\nat org.springframework.security.intercept.web.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:83)\nat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\nat org.springframework.security.ui.SessionFixationProtectionFilter.doFilterHttp(SessionFixationProtectionFilter.java:67)\nat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\nat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\nat org.springframework.security.ui.ExceptionTranslationFilter.doFilterHttp(ExceptionTranslationFilter.java:101)\nat org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)\nat org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:371)\n</code></pre>\n"},{"tags":["java","spring","thymeleaf","h2","spring-el"],"answers":[{"comments":[{"owner":{"account_id":9896327,"reputation":167,"user_id":7327720,"accept_rate":75,"display_name":"Gustav"},"score":0,"creation_date":1483101433,"post_id":41394515,"comment_id":69994444,"body_markdown":"thanks you very much for your answer. I did change them and now it works perfectly. I get all the books name in the list view. I will put the question as answered.","body":"thanks you very much for your answer. I did change them and now it works perfectly. I get all the books name in the list view. I will put the question as answered."}],"tags":[],"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1483093810,"creation_date":1483093229,"answer_id":41394515,"question_id":41394458,"body_markdown":"Yoor getter for name must be named getName() in order to be found by ExpressionLanguage(SpEL = Spring Expresion Language).\r\nThe setter should be setName, too.","title":"Displaying JPA Entity table data to thymeleaf view","body":"<p>Yoor getter for name must be named getName() in order to be found by ExpressionLanguage(SpEL = Spring Expresion Language).\nThe setter should be setName, too.</p>\n"},{"tags":[],"owner":{"account_id":4071068,"reputation":370,"user_id":3344137,"display_name":"markwoollen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700337921,"creation_date":1700337921,"answer_id":77508531,"question_id":41394458,"body_markdown":"use Lombok to automagically generate getters/setters...\r\n\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Entity\r\n    @Table(name = &quot;Book&quot;)\r\n    public class Book extends AbstractPersistable&lt;Long&gt; {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;id&quot;)\r\n        private Long id;\r\n\r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n\r\n        ...\r\n        // Remove your hand-coded getters/setters\r\n    }\r\n\r\nMaven POM.XML\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.18.30&lt;/version&gt;\r\n\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t&lt;/dependency&gt;","title":"Displaying JPA Entity table data to thymeleaf view","body":"<p>use Lombok to automagically generate getters/setters...</p>\n<pre><code>import lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n@Getter\n@Setter\n@Entity\n@Entity\n@Table(name = &quot;Book&quot;)\npublic class Book extends AbstractPersistable&lt;Long&gt; {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    ...\n    // Remove your hand-coded getters/setters\n}\n</code></pre>\n<p>Maven POM.XML</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.30&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":9896327,"reputation":167,"user_id":7327720,"accept_rate":75,"display_name":"Gustav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1501,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":41394515,"answer_count":2,"score":1,"last_activity_date":1700337921,"creation_date":1483093006,"question_id":41394458,"body_markdown":"I have a JPA Entity table with id and name column. I want to display the name values to the thymeleaf view. Right now I am able to see the Entity object in the view but not the column values for name. Here&#39;s how I created the table and defined getters and setters: \r\n\r\n    @Entity\r\n    @Table(name = &quot;Book&quot;)\r\n    public class Book extends AbstractPersistable&lt;Long&gt; {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n    \r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n  \r\n    public Long getID() {\r\n        return this.id;\r\n    }\r\n    \r\n    public String getContent() {\r\n        return this.name;\r\n    }\r\n    \r\n    public void setID (Long id) {\r\n        this.id = id;\r\n    }\r\n    \r\n    public void setContent (String name) {\r\n        this.name = name;\r\n        }\r\n    }\r\n\r\n\r\nFrom the controller this is how I am trying to set the content:\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/&quot;)\r\n    public class BookController {\r\n        \r\n    @Autowired\r\n    private BookRepository bookRepository;\r\n    \r\n    @RequestMapping(&quot;/addBook&quot;)\r\n    @ResponseBody\r\n    public String addBook(@RequestParam(&quot;name&quot;) String name) {\r\n        Book book = new Book();\r\n        \r\n        book.setContent(name);\r\n        bookRepository.save(book);\r\n        return name;\r\n        \r\n    }\r\n   \r\n    @RequestMapping(value = &quot;book&quot;, method = RequestMethod.GET)\r\n        public String books(Model model) {\r\n        model.addAttribute(&quot;books&quot;, bookRepository.findAll());\r\n        return &quot;book&quot;;\r\n        } \r\n    \r\n    }\r\n\r\nThe thymeleaf view template:   \r\n     \r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; \r\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;      \r\n      xmlns:sec=&quot;http://www.thymeleaf.org/thymeleaf-extras-springsecurity3&quot;\r\n      xmlns:layout=&quot;http://www.ultraq.net.nz/thymeleaf/layout&quot;&gt;\r\n        &lt;head lang=&quot;en&quot;&gt;\r\n            &lt;meta charset=&quot;UTF-8&quot; /&gt;\r\n            &lt;title&gt;Books&lt;/title&gt;\r\n        &lt;/head&gt;\r\n        &lt;body&gt;\r\n            &lt;h1&gt;Books Database&lt;/h1&gt;\r\n            &lt;ul th:each=&quot;book : ${books}&quot;&gt;\r\n                &lt;li th:text=&quot;${book.name}&quot;&gt;&lt;/li&gt;\r\n            &lt;/ul&gt;                \r\n        &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nWhen I add new books from the `addBook` page and visit the book page to see the book names then I get this error: \r\n\r\n&gt; Exception evaluating SpringEL expression: &quot;book.name&quot;. In the IDE\r\n&gt; console the error found as:\r\n&gt; org.springframework.expression.spel.SpelEvaluationException: EL1008E:\r\n&gt; Property or field &#39;name&#39; cannot be found on object of type\r\n&gt; &#39;sec.book.BookNames.\r\n\r\n What could be wrong? \r\n\r\nIn the view if i use `th:text=&quot;${book}` then a list of Entity objects appears like this for each row from the table. This is what is shown:\r\n\r\n&gt; Entity of type sec.helloworld.Book with id: null.\r\n\r\nI just want the book names to show up not the objects. How am I supposed to do that?\r\n\r\n    \r\n\r\n","title":"Displaying JPA Entity table data to thymeleaf view","body":"<p>I have a JPA Entity table with id and name column. I want to display the name values to the thymeleaf view. Right now I am able to see the Entity object in the view but not the column values for name. Here's how I created the table and defined getters and setters: </p>\n\n<pre><code>@Entity\n@Table(name = \"Book\")\npublic class Book extends AbstractPersistable&lt;Long&gt; {\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Column(name = \"id\")\nprivate Long id;\n\n@Column(name = \"name\")\nprivate String name;\n\npublic Long getID() {\n    return this.id;\n}\n\npublic String getContent() {\n    return this.name;\n}\n\npublic void setID (Long id) {\n    this.id = id;\n}\n\npublic void setContent (String name) {\n    this.name = name;\n    }\n}\n</code></pre>\n\n<p>From the controller this is how I am trying to set the content:</p>\n\n<pre><code>@Controller\n@RequestMapping(\"/\")\npublic class BookController {\n\n@Autowired\nprivate BookRepository bookRepository;\n\n@RequestMapping(\"/addBook\")\n@ResponseBody\npublic String addBook(@RequestParam(\"name\") String name) {\n    Book book = new Book();\n\n    book.setContent(name);\n    bookRepository.save(book);\n    return name;\n\n}\n\n@RequestMapping(value = \"book\", method = RequestMethod.GET)\n    public String books(Model model) {\n    model.addAttribute(\"books\", bookRepository.findAll());\n    return \"book\";\n    } \n\n}\n</code></pre>\n\n<p>The thymeleaf view template:   </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" \n  xmlns:th=\"http://www.thymeleaf.org\"      \n  xmlns:sec=\"http://www.thymeleaf.org/thymeleaf-extras-springsecurity3\"\n  xmlns:layout=\"http://www.ultraq.net.nz/thymeleaf/layout\"&gt;\n    &lt;head lang=\"en\"&gt;\n        &lt;meta charset=\"UTF-8\" /&gt;\n        &lt;title&gt;Books&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Books Database&lt;/h1&gt;\n        &lt;ul th:each=\"book : ${books}\"&gt;\n            &lt;li th:text=\"${book.name}\"&gt;&lt;/li&gt;\n        &lt;/ul&gt;                \n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>When I add new books from the <code>addBook</code> page and visit the book page to see the book names then I get this error: </p>\n\n<blockquote>\n  <p>Exception evaluating SpringEL expression: \"book.name\". In the IDE\n  console the error found as:\n  org.springframework.expression.spel.SpelEvaluationException: EL1008E:\n  Property or field 'name' cannot be found on object of type\n  'sec.book.BookNames.</p>\n</blockquote>\n\n<p>What could be wrong? </p>\n\n<p>In the view if i use <code>th:text=\"${book}</code> then a list of Entity objects appears like this for each row from the table. This is what is shown:</p>\n\n<blockquote>\n  <p>Entity of type sec.helloworld.Book with id: null.</p>\n</blockquote>\n\n<p>I just want the book names to show up not the objects. How am I supposed to do that?</p>\n"},{"tags":["java","windows","powershell"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1700337936,"post_id":77508520,"comment_id":136643204,"body_markdown":"Please read: [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why should I not upload images of code/data/errors?</a>"},{"owner":{"account_id":4056511,"reputation":938,"user_id":3789865,"display_name":"Keith Langmead"},"score":0,"creation_date":1700339765,"post_id":77508520,"comment_id":136643388,"body_markdown":"Looks like a system issue rather than a programming issue, so probably a question better suited to Super User.","body":"Looks like a system issue rather than a programming issue, so probably a question better suited to Super User."},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1700398143,"post_id":77508520,"comment_id":136647087,"body_markdown":"You are trying to run a cmd.exe command in PS.  See https://stackoverflow.com/questions/24940243/running-cmd-command-in-powershell","body":"You are trying to run a cmd.exe command in PS.  See <a href=\"https://stackoverflow.com/questions/24940243/running-cmd-command-in-powershell\" title=\"running cmd command in powershell\">stackoverflow.com/questions/24940243/&hellip;</a>"}],"owner":{"account_id":29936866,"reputation":1,"user_id":22942391,"display_name":"Rserpent3"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1700337723,"creation_date":1700337723,"question_id":77508520,"body_markdown":"I am having trouble using windows powershell. System level commands as well as installed program commands do not seem to be working: \r\n[attempting to use ping and java --version](https://i.stack.imgur.com/Deovf.png)\r\n\r\nI have tried manually adding to the path via powershell: \r\n`$env:Path += &quot;;C:\\Windows\\System32&quot;`\r\n\r\nI have verified the file locations are correct: \r\n[System 32](https://i.stack.imgur.com/FeaXW.png)\r\n\r\nand java:\r\n[Java](https://i.stack.imgur.com/UTEOe.png)","title":"Can&#39;t run ping or other commands in Windows Powershell","body":"<p>I am having trouble using windows powershell. System level commands as well as installed program commands do not seem to be working:\n<a href=\"https://i.stack.imgur.com/Deovf.png\" rel=\"nofollow noreferrer\">attempting to use ping and java --version</a></p>\n<p>I have tried manually adding to the path via powershell:\n<code>$env:Path += &quot;;C:\\Windows\\System32&quot;</code></p>\n<p>I have verified the file locations are correct:\n<a href=\"https://i.stack.imgur.com/FeaXW.png\" rel=\"nofollow noreferrer\">System 32</a></p>\n<p>and java:\n<a href=\"https://i.stack.imgur.com/UTEOe.png\" rel=\"nofollow noreferrer\">Java</a></p>\n"},{"tags":["java","twitter","twitter4j","twitter-api-v2"],"comments":[{"owner":{"account_id":1306358,"reputation":42103,"user_id":1255289,"accept_rate":89,"display_name":"miken32"},"score":0,"creation_date":1700338533,"post_id":77470652,"comment_id":136643270,"body_markdown":"Did you read the message? It&#39;s very explicit about the problem and possible solutions.","body":"Did you read the message? It&#39;s very explicit about the problem and possible solutions."},{"owner":{"account_id":29887128,"reputation":1,"user_id":22904281,"display_name":"viniolt"},"score":0,"creation_date":1700799351,"post_id":77470652,"comment_id":136700055,"body_markdown":"Yes I did, and I checked their github for more information and there&#39;s some people reporting this","body":"Yes I did, and I checked their github for more information and there&#39;s some people reporting this"},{"owner":{"account_id":1306358,"reputation":42103,"user_id":1255289,"accept_rate":89,"display_name":"miken32"},"score":0,"creation_date":1700842958,"post_id":77470652,"comment_id":136706294,"body_markdown":"There&#39;s nothing about github in the error message. Twitter wants you to pay to use their API, that&#39;s it. &#128176;&#128176;&#128176;","body":"There&#39;s nothing about github in the error message. Twitter wants you to pay to use their API, that&#39;s it. 💰💰💰"},{"owner":{"account_id":29887128,"reputation":1,"user_id":22904281,"display_name":"viniolt"},"score":0,"creation_date":1700878573,"post_id":77470652,"comment_id":136709730,"body_markdown":"yes, i understand this, but i wanted to know why i could do the exactly same thing in python and couldn&#39;t in Java. but thanks for your support mate","body":"yes, i understand this, but i wanted to know why i could do the exactly same thing in python and couldn&#39;t in Java. but thanks for your support mate"}],"owner":{"account_id":29887128,"reputation":1,"user_id":22904281,"display_name":"viniolt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1700336917,"creation_date":1699823030,"question_id":77470652,"body_markdown":"I had this error message when trying to make a tweet using the twitter4j version 4.1.2: \r\n\r\n&gt; 403:The request is understood, but it has been refused. An accompanying error message will explain why. This code is used when requests are being denied due to update limits (https://support.twitter.com/articles/15364-about-twitter-limits-update-api-dm-and-following).\r\nmessage - You currently have access to a subset of Twitter API v2 endpoints and limited v1.1 endpoints (e.g. media post, oauth) only. If you need access to this endpoint, you may need a different access level. You can learn more here: https://developer.twitter.com/en/portal/product\r\ncode - 453\r\n\r\n\r\nHere&#39;s my code\r\n```\r\nimport org.junit.Test;\r\nimport twitter4j.Twitter;\r\nimport twitter4j.v1.Status;\r\nimport twitter4j.TwitterException;\r\n\r\npublic class tweetarValorIbovespa\r\n{\r\n    @Test\r\n    public void FazerTweetComValorIbovespa() throws TwitterException\r\n    {\r\n        Twitter twitter = Twitter.getInstance();\r\n        String latestStatus = &quot;hello, world&quot;;\r\n        Status status = twitter.v1().tweets().updateStatus(latestStatus);\r\n        System.out.println(&quot;Successfully updated the status to [&quot; + status.getText() + &quot;].&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\nhere&#39;s all the keys that I added in twitter4j.properties\r\n\r\n    debug=true\r\n    oauth.consumerKey=*********************\r\n    oauth.consumerSecret=******************************************\r\n    oauth.accessToken=**************************************************\r\n    oauth.accessTokenSecret=******************************************  \r\n\r\n\r\n\r\nI&#39;ve set up all the tokens that had been requested \r\nApplication type already is Read, write and access direct messages \r\nwhat should I do? ","title":"Error 403, code 453 trying to make a tweet using twitter4j and Java","body":"<p>I had this error message when trying to make a tweet using the twitter4j version 4.1.2:</p>\n<blockquote>\n<p>403:The request is understood, but it has been refused. An accompanying error message will explain why. This code is used when requests are being denied due to update limits (<a href=\"https://support.twitter.com/articles/15364-about-twitter-limits-update-api-dm-and-following\" rel=\"nofollow noreferrer\">https://support.twitter.com/articles/15364-about-twitter-limits-update-api-dm-and-following</a>).\nmessage - You currently have access to a subset of Twitter API v2 endpoints and limited v1.1 endpoints (e.g. media post, oauth) only. If you need access to this endpoint, you may need a different access level. You can learn more here: <a href=\"https://developer.twitter.com/en/portal/product\" rel=\"nofollow noreferrer\">https://developer.twitter.com/en/portal/product</a>\ncode - 453</p>\n</blockquote>\n<p>Here's my code</p>\n<pre><code>import org.junit.Test;\nimport twitter4j.Twitter;\nimport twitter4j.v1.Status;\nimport twitter4j.TwitterException;\n\npublic class tweetarValorIbovespa\n{\n    @Test\n    public void FazerTweetComValorIbovespa() throws TwitterException\n    {\n        Twitter twitter = Twitter.getInstance();\n        String latestStatus = &quot;hello, world&quot;;\n        Status status = twitter.v1().tweets().updateStatus(latestStatus);\n        System.out.println(&quot;Successfully updated the status to [&quot; + status.getText() + &quot;].&quot;);\n    }\n}\n</code></pre>\n<p>here's all the keys that I added in twitter4j.properties</p>\n<pre><code>debug=true\noauth.consumerKey=*********************\noauth.consumerSecret=******************************************\noauth.accessToken=**************************************************\noauth.accessTokenSecret=******************************************  \n</code></pre>\n<p>I've set up all the tokens that had been requested\nApplication type already is Read, write and access direct messages\nwhat should I do?</p>\n"},{"tags":["java","circular-list"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1700327110,"post_id":77507882,"comment_id":136642051,"body_markdown":"You&#39;ve done all the debugging work for us... When inserting at 0, one thing to do is update `last.next` to point at the new head. Which of the two commands you currently have does this? (spoiler: neither) You may have to find the last node first.","body":"You&#39;ve done all the debugging work for us... When inserting at 0, one thing to do is update <code>last.next</code> to point at the new head. Which of the two commands you currently have does this? (spoiler: neither) You may have to find the last node first."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700327046,"creation_date":1700327046,"answer_id":77507904,"question_id":77507882,"body_markdown":"Your `if (position == 0)` path:\r\n\r\n* Sets the &#39;next&#39; of the newly created node to point at what used to be the first node in the list.\r\n* Sets the &#39;global&#39; pointer to the first node in the list to this newly created object.\r\n\r\nThat&#39;s literally the two lines you have in there. You ask:\r\n\r\n&gt; I noticed that the head reference of the last node still shows to the old head. Why does it happen?\r\n\r\nThe answer is the rather obvious: Because.. you didn&#39;t change it.\r\n\r\nPossibly you&#39;re confused about how java works. It&#39;s not like math. When you write something like:\r\n\r\n```\r\nsomeNode.next = head;\r\n```\r\n\r\nThat is __not__ a mathematical aliasing concept. That statement doesn&#39;t mean: &quot;`head` and `someNode.next` are to be deemed as aliases; they are the same, now and forever&quot;. No, it just means: &quot;Take the __current__ value of the `head` variable, and update the value of the `next` field in whatever object the __current__ value of `someNode` is pointing to to be the same value; they are not equivalent and updating either one later does not magically modify the other one&quot;.\r\n\r\nSo, you&#39;d have to go find the last node in the chain (with a loop of some sort) and tell it that its `.next` should be the newly created node.\r\n","title":"Circular linked list head doesn&#39;t update when inserting at position 0?","body":"<p>Your <code>if (position == 0)</code> path:</p>\n<ul>\n<li>Sets the 'next' of the newly created node to point at what used to be the first node in the list.</li>\n<li>Sets the 'global' pointer to the first node in the list to this newly created object.</li>\n</ul>\n<p>That's literally the two lines you have in there. You ask:</p>\n<blockquote>\n<p>I noticed that the head reference of the last node still shows to the old head. Why does it happen?</p>\n</blockquote>\n<p>The answer is the rather obvious: Because.. you didn't change it.</p>\n<p>Possibly you're confused about how java works. It's not like math. When you write something like:</p>\n<pre><code>someNode.next = head;\n</code></pre>\n<p>That is <strong>not</strong> a mathematical aliasing concept. That statement doesn't mean: &quot;<code>head</code> and <code>someNode.next</code> are to be deemed as aliases; they are the same, now and forever&quot;. No, it just means: &quot;Take the <strong>current</strong> value of the <code>head</code> variable, and update the value of the <code>next</code> field in whatever object the <strong>current</strong> value of <code>someNode</code> is pointing to to be the same value; they are not equivalent and updating either one later does not magically modify the other one&quot;.</p>\n<p>So, you'd have to go find the last node in the chain (with a loop of some sort) and tell it that its <code>.next</code> should be the newly created node.</p>\n"}],"owner":{"account_id":24881430,"reputation":37,"user_id":18754570,"display_name":"righN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77507904,"answer_count":1,"score":0,"last_activity_date":1700336452,"creation_date":1700326606,"question_id":77507882,"body_markdown":"I have a circular linked list created. I originally insert all the information to the end.\r\n\r\nMy insertAtEnd method.\r\n\r\n```java\r\npublic void insertAtEnd(Card data) {\r\n    Node newNode = new Node(data);\r\n \r\n    if (head == null) {\r\n        newNode.next = newNode;\r\n        head = newNode;\r\n    } else {\r\n        Node current = head;\r\n        do {\r\n            current = current.next;\r\n        } while (current.next != head);\r\n        newNode.next = head;\r\n        current.next = newNode;\r\n    }\r\n}\r\n```\r\n\r\nEverything outputs fine then, but when I try to use insertAtPos method while inserting into position 0, an infinite loop happens for some reason. While debugging, I noticed that the head reference of the last node still shows to the old head. Why does this happen?\r\n\r\nMy insertAtPos method\r\n\r\n```java\r\npublic void insertAtPos(Card data, int position) {\r\n    if (position &lt; 0) {\r\n        System.out.println(&quot;Invalid position. Position cannot be negative&quot;);\r\n        return;\r\n    }\r\n \r\n    Node newNode = new Node(data);\r\n    if (position == 0) {\r\n        newNode.next = head;\r\n        head = newNode;\r\n    } else {\r\n        Node current = head;\r\n        int currentIndex = 0;\r\n        while (current != null &amp;&amp; currentIndex &lt; position - 1) {\r\n            current = current.next;\r\n            currentIndex++;\r\n        }\r\n        if (current == null) {\r\n            System.out.println(&quot;Position is out of bounds&quot;);\r\n            return;\r\n        }\r\n        newNode.next = current.next;\r\n        current.next = newNode;\r\n    }\r\n}\r\n```\r\n\r\nHead is a global variable in that class, so I guess it shouldn&#39;t be problem that some methods can or can&#39;t edit it?","title":"Circular linked list head doesn&#39;t update when inserting at position 0?","body":"<p>I have a circular linked list created. I originally insert all the information to the end.</p>\n<p>My insertAtEnd method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void insertAtEnd(Card data) {\n    Node newNode = new Node(data);\n \n    if (head == null) {\n        newNode.next = newNode;\n        head = newNode;\n    } else {\n        Node current = head;\n        do {\n            current = current.next;\n        } while (current.next != head);\n        newNode.next = head;\n        current.next = newNode;\n    }\n}\n</code></pre>\n<p>Everything outputs fine then, but when I try to use insertAtPos method while inserting into position 0, an infinite loop happens for some reason. While debugging, I noticed that the head reference of the last node still shows to the old head. Why does this happen?</p>\n<p>My insertAtPos method</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void insertAtPos(Card data, int position) {\n    if (position &lt; 0) {\n        System.out.println(&quot;Invalid position. Position cannot be negative&quot;);\n        return;\n    }\n \n    Node newNode = new Node(data);\n    if (position == 0) {\n        newNode.next = head;\n        head = newNode;\n    } else {\n        Node current = head;\n        int currentIndex = 0;\n        while (current != null &amp;&amp; currentIndex &lt; position - 1) {\n            current = current.next;\n            currentIndex++;\n        }\n        if (current == null) {\n            System.out.println(&quot;Position is out of bounds&quot;);\n            return;\n        }\n        newNode.next = current.next;\n        current.next = newNode;\n    }\n}\n</code></pre>\n<p>Head is a global variable in that class, so I guess it shouldn't be problem that some methods can or can't edit it?</p>\n"},{"tags":["java","json","spring-mvc","junit","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":5909904,"reputation":2554,"user_id":4650497,"accept_rate":88,"display_name":"Krzysztof Majewski"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1545138827,"creation_date":1545138827,"answer_id":53833838,"question_id":50759998,"body_markdown":"I&#39;ve found a solution by making a custom Matcher:\r\n\r\n    class DateEquals extends BaseMatcher&lt;Integer&gt; {\r\n    \r\n        private final Date expectedValue;\r\n    \r\n        DateEquals(Date equalArg) {\r\n            expectedValue = equalArg;\r\n        }\r\n    \r\n        @Override\r\n        public boolean matches(Object item) {\r\n            Long dateTimeMillis = (Long) item;\r\n            return dateTimeMillis.equals(toEpochMillis(expectedValue));\r\n        }\r\n    \r\n        @Override\r\n        public void describeTo(Description description) {\r\n            description.appendValue(&quot; equals to date: &quot; + expectedValue);\r\n        }\r\n    }\r\n\r\n\r\nFactory for it:\r\n\r\n    public class CustomMatchersFactory {\r\n        public static Matcher dateEquals(Date date) {\r\n            return is(new DateEquals(date));\r\n        }\r\n    }\r\n\r\nAnd usage:\r\n\r\n    .andExpect(jsonPath(&quot;$.content.[*].startDate&quot;, dateEquals(MY_INSTANT_DATE)));","title":"Spring MockMvc - getting java.time.Instant from REST","body":"<p>I've found a solution by making a custom Matcher:</p>\n\n<pre><code>class DateEquals extends BaseMatcher&lt;Integer&gt; {\n\n    private final Date expectedValue;\n\n    DateEquals(Date equalArg) {\n        expectedValue = equalArg;\n    }\n\n    @Override\n    public boolean matches(Object item) {\n        Long dateTimeMillis = (Long) item;\n        return dateTimeMillis.equals(toEpochMillis(expectedValue));\n    }\n\n    @Override\n    public void describeTo(Description description) {\n        description.appendValue(\" equals to date: \" + expectedValue);\n    }\n}\n</code></pre>\n\n<p>Factory for it:</p>\n\n<pre><code>public class CustomMatchersFactory {\n    public static Matcher dateEquals(Date date) {\n        return is(new DateEquals(date));\n    }\n}\n</code></pre>\n\n<p>And usage:</p>\n\n<pre><code>.andExpect(jsonPath(\"$.content.[*].startDate\", dateEquals(MY_INSTANT_DATE)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14860080,"reputation":934,"user_id":10731216,"display_name":"HereAndBeyond"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700334750,"creation_date":1700334750,"answer_id":77508372,"question_id":50759998,"body_markdown":"Usually, there is no need for explicit mapping. It happens if Jackson Mapper is told to write dates as timestamps. \r\nSo, there are two places to check (because by default this feature is disabled):\r\n- Code\r\n- Application properties\r\n\r\nRegarding the code, you can check this Baeldung article where possible ways od ObjectMapper adjustments are shown: https://www.baeldung.com/spring-boot-customize-jackson-objectmapper#customizing-the-default-objectmapper\r\n\r\nRegarding the application properties. The appropriate property is `spring.jackson.serialization.write-dates-as-timestamps`, so either check if it&#39;s disabled, or you can explicitly disable it just for your confidence (to remove this point from the list of potential causes):  \r\n\r\nFor *.yaml you can disable it in next way:\r\n\r\n```yaml\r\nspring:\r\n  jackson:\r\n    serialization:\r\n      write-dates-as-timestamps: false\r\n``` \r\nOr in case if you use `*.properties` file\r\n```\r\nspring.jackson.serialization.write-dates-as-timestamps=false\r\n```","title":"Spring MockMvc - getting java.time.Instant from REST","body":"<p>Usually, there is no need for explicit mapping. It happens if Jackson Mapper is told to write dates as timestamps.\nSo, there are two places to check (because by default this feature is disabled):</p>\n<ul>\n<li>Code</li>\n<li>Application properties</li>\n</ul>\n<p>Regarding the code, you can check this Baeldung article where possible ways od ObjectMapper adjustments are shown: <a href=\"https://www.baeldung.com/spring-boot-customize-jackson-objectmapper#customizing-the-default-objectmapper\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-customize-jackson-objectmapper#customizing-the-default-objectmapper</a></p>\n<p>Regarding the application properties. The appropriate property is <code>spring.jackson.serialization.write-dates-as-timestamps</code>, so either check if it's disabled, or you can explicitly disable it just for your confidence (to remove this point from the list of potential causes):</p>\n<p>For *.yaml you can disable it in next way:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  jackson:\n    serialization:\n      write-dates-as-timestamps: false\n</code></pre>\n<p>Or in case if you use <code>*.properties</code> file</p>\n<pre><code>spring.jackson.serialization.write-dates-as-timestamps=false\n</code></pre>\n"}],"owner":{"account_id":5909904,"reputation":2554,"user_id":4650497,"accept_rate":88,"display_name":"Krzysztof Majewski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1093,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":53833838,"answer_count":2,"score":5,"last_activity_date":1700334750,"creation_date":1528458497,"question_id":50759998,"body_markdown":"I have a resource that returns me an object with `java.time.Instant` property.\r\n\r\n    class X {\r\n        ...\r\n        private Instant startDate;\r\n        ...\r\n    }\r\n\r\nAnd I am testing it with:\r\n\r\n        mockMvc.perform(get(&quot;/api/x&quot;))\r\n            .andExpect(status().isOk())\r\n            .andExpect(jsonPath(&quot;$.content.[*].startDate&quot;).value(hasItem(MY_INSTANT_DATE)));\r\n\r\nBut what I get from JUnit is:\r\n\r\n    Expected: a collection containing &lt;2018-06-08T11:46:50.292Z&gt; but: was &lt;1528458378.397000000&gt;\r\n\r\nHow can I map my `Instant` date to this format?","title":"Spring MockMvc - getting java.time.Instant from REST","body":"<p>I have a resource that returns me an object with <code>java.time.Instant</code> property.</p>\n\n<pre><code>class X {\n    ...\n    private Instant startDate;\n    ...\n}\n</code></pre>\n\n<p>And I am testing it with:</p>\n\n<pre><code>    mockMvc.perform(get(\"/api/x\"))\n        .andExpect(status().isOk())\n        .andExpect(jsonPath(\"$.content.[*].startDate\").value(hasItem(MY_INSTANT_DATE)));\n</code></pre>\n\n<p>But what I get from JUnit is:</p>\n\n<pre><code>Expected: a collection containing &lt;2018-06-08T11:46:50.292Z&gt; but: was &lt;1528458378.397000000&gt;\n</code></pre>\n\n<p>How can I map my <code>Instant</code> date to this format?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9865,"page":52,"page_size":100}
