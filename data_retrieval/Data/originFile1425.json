{"items":[{"tags":["java","json"],"comments":[{"owner":{"account_id":18145453,"reputation":423,"user_id":13198830,"display_name":"Abhishek"},"score":0,"creation_date":1624017560,"post_id":68033997,"comment_id":120249037,"body_markdown":"Save the json file for it to get updated, you just changed the value of an object not in the local file","body":"Save the json file for it to get updated, you just changed the value of an object not in the local file"}],"answers":[{"tags":[],"owner":{"account_id":13342760,"reputation":1334,"user_id":9630486,"display_name":"Egor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624015340,"creation_date":1624015340,"answer_id":68034275,"question_id":68033997,"body_markdown":"JSONObject is a represent of json that does not link to originally file.\r\nTo rewrite file you need to change values in `person` and write it to file.\r\n\r\n    person.put(&quot;city&quot;, &quot;BLR&quot;);\r\n    String jsonString = person.toString();\r\n    // write jsonString to file","title":"how to update json array in java with existing json array value using java. Value are not updating in external json file","body":"<p>JSONObject is a represent of json that does not link to originally file.\nTo rewrite file you need to change values in <code>person</code> and write it to file.</p>\n<pre><code>person.put(&quot;city&quot;, &quot;BLR&quot;);\nString jsonString = person.toString();\n// write jsonString to file\n</code></pre>\n"}],"owner":{"account_id":21986052,"reputation":1,"user_id":16260295,"display_name":"shubham vashishth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650187246,"creation_date":1624014120,"question_id":68033997,"body_markdown":"JSON file:\r\n[  \r\n  {  \r\n      &quot;name&quot;:&quot;John&quot;,\r\n      &quot;city&quot;:&quot;Berlin&quot;,\r\n      &quot;job&quot;:&quot;Teacher&quot;\r\n  },\r\n  {  \r\n      &quot;name&quot;:&quot;Mark&quot;,\r\n      &quot;city&quot;:&quot;Oslo&quot;,\r\n      &quot;job&quot;:&quot;Doctor&quot;\r\n  }\r\n]\r\n\r\n\r\nJSONParser parser = new JSONParser();\r\n\t\tJSONArray a = (JSONArray) parser.parse(new FileReader(&quot;F:\\\\file.json&quot;));\r\n\r\n\t\tfor (Object o : a) {\r\n\t\t\tJSONObject person = (JSONObject) o;\r\n\r\n\t\t\tString name = (String) person.get(&quot;name&quot;);\r\n\t\t\t\r\n\t\t\tif (name.equalsIgnoreCase(&quot;john&quot;)) {\r\n\t\t\t\tString name1 = (String) person.get(&quot;name&quot;);\r\n\t\t\t\tSystem.out.println(&quot;name1&quot; + name1);\r\n\r\n\t\t\t\tString city1 = (String) person.get(&quot;city&quot;);\r\n\t\t\t\tSystem.out.println(&quot;city1&quot; + city1);\r\n\r\n\t\t\t\tString job1 = (String) person.get(&quot;job&quot;);\r\n\t\t\t\tSystem.out.println(&quot;job1&quot; + job1);\t\r\n\t\t\t\t\r\n\t\t\t\tperson.put(&quot;city&quot;, &quot;BLR&quot;);\r\n\t\t\t\tString city2 = (String) person.get(&quot;city&quot;);\r\n\t\t\t\tSystem.out.println(&quot;city2&quot; + city2);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\nValue are not updating in Json external file","title":"how to update json array in java with existing json array value using java. Value are not updating in external json file","body":"<p>JSON file:\n[<br />\n{<br />\n&quot;name&quot;:&quot;John&quot;,\n&quot;city&quot;:&quot;Berlin&quot;,\n&quot;job&quot;:&quot;Teacher&quot;\n},\n{<br />\n&quot;name&quot;:&quot;Mark&quot;,\n&quot;city&quot;:&quot;Oslo&quot;,\n&quot;job&quot;:&quot;Doctor&quot;\n}\n]</p>\n<p>JSONParser parser = new JSONParser();\nJSONArray a = (JSONArray) parser.parse(new FileReader(&quot;F:\\file.json&quot;));</p>\n<pre><code>    for (Object o : a) {\n        JSONObject person = (JSONObject) o;\n\n        String name = (String) person.get(&quot;name&quot;);\n        \n        if (name.equalsIgnoreCase(&quot;john&quot;)) {\n            String name1 = (String) person.get(&quot;name&quot;);\n            System.out.println(&quot;name1&quot; + name1);\n\n            String city1 = (String) person.get(&quot;city&quot;);\n            System.out.println(&quot;city1&quot; + city1);\n\n            String job1 = (String) person.get(&quot;job&quot;);\n            System.out.println(&quot;job1&quot; + job1);  \n            \n            person.put(&quot;city&quot;, &quot;BLR&quot;);\n            String city2 = (String) person.get(&quot;city&quot;);\n            System.out.println(&quot;city2&quot; + city2);\n        }\n    }\n</code></pre>\n<p>Value are not updating in Json external file</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":970256,"reputation":892,"user_id":992940,"accept_rate":67,"display_name":"Dmitrii Bocharov"},"score":0,"creation_date":1609924994,"post_id":65593086,"comment_id":115970419,"body_markdown":"https://www.baeldung.com/jackson-object-mapper-tutorial","body":"<a href=\"https://www.baeldung.com/jackson-object-mapper-tutorial\" rel=\"nofollow noreferrer\">baeldung.com/jackson-object-mapper-tutorial</a>"},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1609926421,"post_id":65593086,"comment_id":115970968,"body_markdown":"aside from all the good suggestions in the answers, you could use string replace with regex and that would not require any additional packages. although i can&#39;t give you the exact regex to fit your case.","body":"aside from all the good suggestions in the answers, you could use string replace with regex and that would not require any additional packages. although i can&#39;t give you the exact regex to fit your case."},{"owner":{"account_id":4034876,"reputation":1557,"user_id":3319725,"display_name":"AnatolyG"},"score":0,"creation_date":1609953510,"post_id":65593086,"comment_id":115983646,"body_markdown":"I agree with @TomElias. Sometimes a tool like ObjectMapper to update just one string value in JSON is overkill. In addition to simple and standard string operations, you may take a look at this https://stackoverflow.com/questions/64422516/how-to-update-json-value-using-java/64424791#64424791","body":"I agree with @TomElias. Sometimes a tool like ObjectMapper to update just one string value in JSON is overkill. In addition to simple and standard string operations, you may take a look at this <a href=\"https://stackoverflow.com/questions/64422516/how-to-update-json-value-using-java/64424791#64424791\" title=\"how to update json value using java\">stackoverflow.com/questions/64422516/&hellip;</a>"},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1610007278,"post_id":65593086,"comment_id":115998323,"body_markdown":"a word of warning to everyone who loves JSON parsers so much:\n1) JSON mapping relies heavily on reflection. and that&#39;s very bad performance in high throughput systems.\n2) JSON serializers are often NOT thread safe. people usually use object mappers as singleton beans and that can be risky.","body":"a word of warning to everyone who loves JSON parsers so much: 1) JSON mapping relies heavily on reflection. and that&#39;s very bad performance in high throughput systems. 2) JSON serializers are often NOT thread safe. people usually use object mappers as singleton beans and that can be risky."}],"answers":[{"tags":[],"owner":{"account_id":2693254,"reputation":8153,"user_id":2325987,"accept_rate":91,"display_name":"A Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609925516,"creation_date":1609925516,"answer_id":65593270,"question_id":65593086,"body_markdown":"Try something like this. Below is both options to delete or update the data. Use com.fasterxml.jackson\r\n\r\n  \r\n\r\n      String tt = &quot;{   \\&quot;result\\&quot;:{      \\&quot;issue_date\\&quot;:\\&quot;20-02-2011\\&quot;,      \\&quot;father/husband\\&quot;:\\&quot;Chopra\\&quot;,      \\&quot;name\\&quot;:\\&quot;Variyar\\&quot;,       \\&quot;img\\&quot;:\\&quot;/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS\\&quot;,      \\&quot;blood_group\\&quot;:\\&quot;\\&quot;,      \\&quot;dob\\&quot;:\\&quot;11-03-1981\\&quot;,      \\&quot;validity\\&quot;:{         \\&quot;non-transport\\&quot;:\\&quot;24-03-2010 to 23-02-2030\\&quot;,         \\&quot;transport\\&quot;:\\&quot;\\&quot;      },      \\&quot;cov_details\\&quot;:[         {            \\&quot;issue_date\\&quot;:\\&quot;UNIT OFFICE,TRICHY\\&quot;,            \\&quot;cov\\&quot;:\\&quot;NCWG\\&quot;         }      ],      \\&quot;dl_number\\&quot;:\\&quot;TN0290000784\\&quot;,      \\&quot;address\\&quot;:\\&quot;PERIYA COLONY  KO PAVAZHANGUDI  VIRUDHACHALAM TK\\&quot;   },   \\&quot;request_id\\&quot;:\\&quot;a2642ae9-2f10-4e9a-9f7e-c3ee1a9a2dbe\\&quot;,   \\&quot;status-code\\&quot;:\\&quot;101\\&quot;}&quot;;\r\n        \t ObjectMapper mapper = new ObjectMapper();\r\n        \t mapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\r\n        \t JsonFactory factory = mapper.getFactory();\r\n        \t JsonParser createParser = factory.createParser(tt);\r\n        \t JsonNode actualObj1 = mapper.readTree(createParser);\r\n    // if you just want to update\r\n        \t ((ObjectNode)((ObjectNode)actualObj1).get(&quot;result&quot;)).put(&quot;img&quot;, &quot;n/a&quot;); \r\n    // if you just want delete\r\n        \t ((ObjectNode)((ObjectNode)actualObj1).get(&quot;result&quot;)).remove(&quot;img&quot;);\r\n        \t System.out.println(actualObj1.toString());","title":"How to modify values inside JSON object in Java","body":"<p>Try something like this. Below is both options to delete or update the data. Use com.fasterxml.jackson</p>\n<pre><code>  String tt = &quot;{   \\&quot;result\\&quot;:{      \\&quot;issue_date\\&quot;:\\&quot;20-02-2011\\&quot;,      \\&quot;father/husband\\&quot;:\\&quot;Chopra\\&quot;,      \\&quot;name\\&quot;:\\&quot;Variyar\\&quot;,       \\&quot;img\\&quot;:\\&quot;/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS\\&quot;,      \\&quot;blood_group\\&quot;:\\&quot;\\&quot;,      \\&quot;dob\\&quot;:\\&quot;11-03-1981\\&quot;,      \\&quot;validity\\&quot;:{         \\&quot;non-transport\\&quot;:\\&quot;24-03-2010 to 23-02-2030\\&quot;,         \\&quot;transport\\&quot;:\\&quot;\\&quot;      },      \\&quot;cov_details\\&quot;:[         {            \\&quot;issue_date\\&quot;:\\&quot;UNIT OFFICE,TRICHY\\&quot;,            \\&quot;cov\\&quot;:\\&quot;NCWG\\&quot;         }      ],      \\&quot;dl_number\\&quot;:\\&quot;TN0290000784\\&quot;,      \\&quot;address\\&quot;:\\&quot;PERIYA COLONY  KO PAVAZHANGUDI  VIRUDHACHALAM TK\\&quot;   },   \\&quot;request_id\\&quot;:\\&quot;a2642ae9-2f10-4e9a-9f7e-c3ee1a9a2dbe\\&quot;,   \\&quot;status-code\\&quot;:\\&quot;101\\&quot;}&quot;;\n         ObjectMapper mapper = new ObjectMapper();\n         mapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\n         JsonFactory factory = mapper.getFactory();\n         JsonParser createParser = factory.createParser(tt);\n         JsonNode actualObj1 = mapper.readTree(createParser);\n// if you just want to update\n         ((ObjectNode)((ObjectNode)actualObj1).get(&quot;result&quot;)).put(&quot;img&quot;, &quot;n/a&quot;); \n// if you just want delete\n         ((ObjectNode)((ObjectNode)actualObj1).get(&quot;result&quot;)).remove(&quot;img&quot;);\n         System.out.println(actualObj1.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20354853,"reputation":188,"user_id":14930632,"display_name":"CodeDead"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609926607,"creation_date":1609925959,"answer_id":65593351,"question_id":65593086,"body_markdown":"You can use any of the popular Json serialization libraries to convert Java objects to Json and the other way around:\r\n\r\n* [Jackson][1]\r\n* [Moshi][2]\r\n* [Gson][3]\r\n\r\nIn the case of Jackson, your objects in Java would look something like this:\r\n```\r\npackage com.example;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport com.fasterxml.jackson.annotation.JsonAnyGetter;\r\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\n\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n&quot;issue_date&quot;,\r\n&quot;cov&quot;\r\n})\r\npublic class CovDetail {\r\n\r\n@JsonProperty(&quot;issue_date&quot;)\r\nprivate String issueDate;\r\n@JsonProperty(&quot;cov&quot;)\r\nprivate String cov;\r\n@JsonIgnore\r\nprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n\r\n@JsonProperty(&quot;issue_date&quot;)\r\npublic String getIssueDate() {\r\nreturn issueDate;\r\n}\r\n\r\n@JsonProperty(&quot;issue_date&quot;)\r\npublic void setIssueDate(String issueDate) {\r\nthis.issueDate = issueDate;\r\n}\r\n\r\n@JsonProperty(&quot;cov&quot;)\r\npublic String getCov() {\r\nreturn cov;\r\n}\r\n\r\n@JsonProperty(&quot;cov&quot;)\r\npublic void setCov(String cov) {\r\nthis.cov = cov;\r\n}\r\n\r\n@JsonAnyGetter\r\npublic Map&lt;String, Object&gt; getAdditionalProperties() {\r\nreturn this.additionalProperties;\r\n}\r\n\r\n@JsonAnySetter\r\npublic void setAdditionalProperty(String name, Object value) {\r\nthis.additionalProperties.put(name, value);\r\n}\r\n\r\n}\r\n```\r\n```\r\npackage com.example;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport com.fasterxml.jackson.annotation.JsonAnyGetter;\r\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\n\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n&quot;result&quot;,\r\n&quot;request_id&quot;,\r\n&quot;status-code&quot;\r\n})\r\npublic class Result {\r\n\r\n@JsonProperty(&quot;result&quot;)\r\nprivate Result_ result;\r\n@JsonProperty(&quot;request_id&quot;)\r\nprivate String requestId;\r\n@JsonProperty(&quot;status-code&quot;)\r\nprivate String statusCode;\r\n@JsonIgnore\r\nprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n\r\n@JsonProperty(&quot;result&quot;)\r\npublic Result_ getResult() {\r\nreturn result;\r\n}\r\n\r\n@JsonProperty(&quot;result&quot;)\r\npublic void setResult(Result_ result) {\r\nthis.result = result;\r\n}\r\n\r\n@JsonProperty(&quot;request_id&quot;)\r\npublic String getRequestId() {\r\nreturn requestId;\r\n}\r\n\r\n@JsonProperty(&quot;request_id&quot;)\r\npublic void setRequestId(String requestId) {\r\nthis.requestId = requestId;\r\n}\r\n\r\n@JsonProperty(&quot;status-code&quot;)\r\npublic String getStatusCode() {\r\nreturn statusCode;\r\n}\r\n\r\n@JsonProperty(&quot;status-code&quot;)\r\npublic void setStatusCode(String statusCode) {\r\nthis.statusCode = statusCode;\r\n}\r\n\r\n@JsonAnyGetter\r\npublic Map&lt;String, Object&gt; getAdditionalProperties() {\r\nreturn this.additionalProperties;\r\n}\r\n\r\n@JsonAnySetter\r\npublic void setAdditionalProperty(String name, Object value) {\r\nthis.additionalProperties.put(name, value);\r\n}\r\n\r\n}\r\n```\r\n\r\n```\r\npackage com.example;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport com.fasterxml.jackson.annotation.JsonAnyGetter;\r\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\n\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n&quot;issue_date&quot;,\r\n&quot;father/husband&quot;,\r\n&quot;name&quot;,\r\n&quot;img&quot;,\r\n&quot;blood_group&quot;,\r\n&quot;dob&quot;,\r\n&quot;validity&quot;,\r\n&quot;cov_details&quot;,\r\n&quot;dl_number&quot;,\r\n&quot;address&quot;\r\n})\r\npublic class Result_ {\r\n\r\n@JsonProperty(&quot;issue_date&quot;)\r\nprivate String issueDate;\r\n@JsonProperty(&quot;father/husband&quot;)\r\nprivate String fatherHusband;\r\n@JsonProperty(&quot;name&quot;)\r\nprivate String name;\r\n@JsonProperty(&quot;img&quot;)\r\nprivate String img;\r\n@JsonProperty(&quot;blood_group&quot;)\r\nprivate String bloodGroup;\r\n@JsonProperty(&quot;dob&quot;)\r\nprivate String dob;\r\n@JsonProperty(&quot;validity&quot;)\r\nprivate Validity validity;\r\n@JsonProperty(&quot;cov_details&quot;)\r\nprivate List&lt;CovDetail&gt; covDetails = null;\r\n@JsonProperty(&quot;dl_number&quot;)\r\nprivate String dlNumber;\r\n@JsonProperty(&quot;address&quot;)\r\nprivate String address;\r\n@JsonIgnore\r\nprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n\r\n@JsonProperty(&quot;issue_date&quot;)\r\npublic String getIssueDate() {\r\nreturn issueDate;\r\n}\r\n\r\n@JsonProperty(&quot;issue_date&quot;)\r\npublic void setIssueDate(String issueDate) {\r\nthis.issueDate = issueDate;\r\n}\r\n\r\n@JsonProperty(&quot;father/husband&quot;)\r\npublic String getFatherHusband() {\r\nreturn fatherHusband;\r\n}\r\n\r\n@JsonProperty(&quot;father/husband&quot;)\r\npublic void setFatherHusband(String fatherHusband) {\r\nthis.fatherHusband = fatherHusband;\r\n}\r\n\r\n@JsonProperty(&quot;name&quot;)\r\npublic String getName() {\r\nreturn name;\r\n}\r\n\r\n@JsonProperty(&quot;name&quot;)\r\npublic void setName(String name) {\r\nthis.name = name;\r\n}\r\n\r\n@JsonProperty(&quot;img&quot;)\r\npublic String getImg() {\r\nreturn img;\r\n}\r\n\r\n@JsonProperty(&quot;img&quot;)\r\npublic void setImg(String img) {\r\nthis.img = img;\r\n}\r\n\r\n@JsonProperty(&quot;blood_group&quot;)\r\npublic String getBloodGroup() {\r\nreturn bloodGroup;\r\n}\r\n\r\n@JsonProperty(&quot;blood_group&quot;)\r\npublic void setBloodGroup(String bloodGroup) {\r\nthis.bloodGroup = bloodGroup;\r\n}\r\n\r\n@JsonProperty(&quot;dob&quot;)\r\npublic String getDob() {\r\nreturn dob;\r\n}\r\n\r\n@JsonProperty(&quot;dob&quot;)\r\npublic void setDob(String dob) {\r\nthis.dob = dob;\r\n}\r\n\r\n@JsonProperty(&quot;validity&quot;)\r\npublic Validity getValidity() {\r\nreturn validity;\r\n}\r\n\r\n@JsonProperty(&quot;validity&quot;)\r\npublic void setValidity(Validity validity) {\r\nthis.validity = validity;\r\n}\r\n\r\n@JsonProperty(&quot;cov_details&quot;)\r\npublic List&lt;CovDetail&gt; getCovDetails() {\r\nreturn covDetails;\r\n}\r\n\r\n@JsonProperty(&quot;cov_details&quot;)\r\npublic void setCovDetails(List&lt;CovDetail&gt; covDetails) {\r\nthis.covDetails = covDetails;\r\n}\r\n\r\n@JsonProperty(&quot;dl_number&quot;)\r\npublic String getDlNumber() {\r\nreturn dlNumber;\r\n}\r\n\r\n@JsonProperty(&quot;dl_number&quot;)\r\npublic void setDlNumber(String dlNumber) {\r\nthis.dlNumber = dlNumber;\r\n}\r\n\r\n@JsonProperty(&quot;address&quot;)\r\npublic String getAddress() {\r\nreturn address;\r\n}\r\n\r\n@JsonProperty(&quot;address&quot;)\r\npublic void setAddress(String address) {\r\nthis.address = address;\r\n}\r\n\r\n@JsonAnyGetter\r\npublic Map&lt;String, Object&gt; getAdditionalProperties() {\r\nreturn this.additionalProperties;\r\n}\r\n\r\n@JsonAnySetter\r\npublic void setAdditionalProperty(String name, Object value) {\r\nthis.additionalProperties.put(name, value);\r\n}\r\n\r\n}\r\n```\r\n\r\n```\r\npackage com.example;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport com.fasterxml.jackson.annotation.JsonAnyGetter;\r\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\n\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@JsonPropertyOrder({\r\n&quot;non-transport&quot;,\r\n&quot;transport&quot;\r\n})\r\npublic class Validity {\r\n\r\n@JsonProperty(&quot;non-transport&quot;)\r\nprivate String nonTransport;\r\n@JsonProperty(&quot;transport&quot;)\r\nprivate String transport;\r\n@JsonIgnore\r\nprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n\r\n@JsonProperty(&quot;non-transport&quot;)\r\npublic String getNonTransport() {\r\nreturn nonTransport;\r\n}\r\n\r\n@JsonProperty(&quot;non-transport&quot;)\r\npublic void setNonTransport(String nonTransport) {\r\nthis.nonTransport = nonTransport;\r\n}\r\n\r\n@JsonProperty(&quot;transport&quot;)\r\npublic String getTransport() {\r\nreturn transport;\r\n}\r\n\r\n@JsonProperty(&quot;transport&quot;)\r\npublic void setTransport(String transport) {\r\nthis.transport = transport;\r\n}\r\n\r\n@JsonAnyGetter\r\npublic Map&lt;String, Object&gt; getAdditionalProperties() {\r\nreturn this.additionalProperties;\r\n}\r\n\r\n@JsonAnySetter\r\npublic void setAdditionalProperty(String name, Object value) {\r\nthis.additionalProperties.put(name, value);\r\n}\r\n\r\n}\r\n```\r\n\r\nYou can then serialize the Json to Java objects by running the following code:\r\n```\r\nfinal ObjectMapper objectMapper = new ObjectMapper();\r\nfinal Result result = objectMapper.readValue(json, Result.class);\r\n```\r\n\r\nWhereby the `json` variable refers to your Json data. After you have your Java objects, you can simply use the getters and setters to adjust the objects to your needs.\r\n\r\n```\r\nresult.setRequestId(&quot;Test&quot;);\r\n```\r\n\r\nIn case you want to edit the `img` property:\r\n```\r\nresult.getResult().setImg(&quot;N/A&quot;);\r\n```\r\n\r\nIf you then want to convert the Java objects back to Json, you could do something like this:\r\n```\r\nfinal ObjectMapper mapper = new ObjectMapper();\r\nfinal String jsonString = mapper.writeValueAsString(result);\r\n```\r\n\r\n*Source of the Java classes: http://www.jsonschema2pojo.org/*\r\n\r\n  [1]: https://github.com/FasterXML/jackson\r\n  [2]: https://github.com/square/moshi\r\n  [3]: https://github.com/google/gson","title":"How to modify values inside JSON object in Java","body":"<p>You can use any of the popular Json serialization libraries to convert Java objects to Json and the other way around:</p>\n<ul>\n<li><a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a></li>\n<li><a href=\"https://github.com/square/moshi\" rel=\"nofollow noreferrer\">Moshi</a></li>\n<li><a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a></li>\n</ul>\n<p>In the case of Jackson, your objects in Java would look something like this:</p>\n<pre><code>package com.example;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport com.fasterxml.jackson.annotation.JsonAnyGetter;\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\n\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n&quot;issue_date&quot;,\n&quot;cov&quot;\n})\npublic class CovDetail {\n\n@JsonProperty(&quot;issue_date&quot;)\nprivate String issueDate;\n@JsonProperty(&quot;cov&quot;)\nprivate String cov;\n@JsonIgnore\nprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n\n@JsonProperty(&quot;issue_date&quot;)\npublic String getIssueDate() {\nreturn issueDate;\n}\n\n@JsonProperty(&quot;issue_date&quot;)\npublic void setIssueDate(String issueDate) {\nthis.issueDate = issueDate;\n}\n\n@JsonProperty(&quot;cov&quot;)\npublic String getCov() {\nreturn cov;\n}\n\n@JsonProperty(&quot;cov&quot;)\npublic void setCov(String cov) {\nthis.cov = cov;\n}\n\n@JsonAnyGetter\npublic Map&lt;String, Object&gt; getAdditionalProperties() {\nreturn this.additionalProperties;\n}\n\n@JsonAnySetter\npublic void setAdditionalProperty(String name, Object value) {\nthis.additionalProperties.put(name, value);\n}\n\n}\n</code></pre>\n<pre><code>package com.example;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport com.fasterxml.jackson.annotation.JsonAnyGetter;\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\n\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n&quot;result&quot;,\n&quot;request_id&quot;,\n&quot;status-code&quot;\n})\npublic class Result {\n\n@JsonProperty(&quot;result&quot;)\nprivate Result_ result;\n@JsonProperty(&quot;request_id&quot;)\nprivate String requestId;\n@JsonProperty(&quot;status-code&quot;)\nprivate String statusCode;\n@JsonIgnore\nprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n\n@JsonProperty(&quot;result&quot;)\npublic Result_ getResult() {\nreturn result;\n}\n\n@JsonProperty(&quot;result&quot;)\npublic void setResult(Result_ result) {\nthis.result = result;\n}\n\n@JsonProperty(&quot;request_id&quot;)\npublic String getRequestId() {\nreturn requestId;\n}\n\n@JsonProperty(&quot;request_id&quot;)\npublic void setRequestId(String requestId) {\nthis.requestId = requestId;\n}\n\n@JsonProperty(&quot;status-code&quot;)\npublic String getStatusCode() {\nreturn statusCode;\n}\n\n@JsonProperty(&quot;status-code&quot;)\npublic void setStatusCode(String statusCode) {\nthis.statusCode = statusCode;\n}\n\n@JsonAnyGetter\npublic Map&lt;String, Object&gt; getAdditionalProperties() {\nreturn this.additionalProperties;\n}\n\n@JsonAnySetter\npublic void setAdditionalProperty(String name, Object value) {\nthis.additionalProperties.put(name, value);\n}\n\n}\n</code></pre>\n<pre><code>package com.example;\n\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport com.fasterxml.jackson.annotation.JsonAnyGetter;\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\n\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n&quot;issue_date&quot;,\n&quot;father/husband&quot;,\n&quot;name&quot;,\n&quot;img&quot;,\n&quot;blood_group&quot;,\n&quot;dob&quot;,\n&quot;validity&quot;,\n&quot;cov_details&quot;,\n&quot;dl_number&quot;,\n&quot;address&quot;\n})\npublic class Result_ {\n\n@JsonProperty(&quot;issue_date&quot;)\nprivate String issueDate;\n@JsonProperty(&quot;father/husband&quot;)\nprivate String fatherHusband;\n@JsonProperty(&quot;name&quot;)\nprivate String name;\n@JsonProperty(&quot;img&quot;)\nprivate String img;\n@JsonProperty(&quot;blood_group&quot;)\nprivate String bloodGroup;\n@JsonProperty(&quot;dob&quot;)\nprivate String dob;\n@JsonProperty(&quot;validity&quot;)\nprivate Validity validity;\n@JsonProperty(&quot;cov_details&quot;)\nprivate List&lt;CovDetail&gt; covDetails = null;\n@JsonProperty(&quot;dl_number&quot;)\nprivate String dlNumber;\n@JsonProperty(&quot;address&quot;)\nprivate String address;\n@JsonIgnore\nprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n\n@JsonProperty(&quot;issue_date&quot;)\npublic String getIssueDate() {\nreturn issueDate;\n}\n\n@JsonProperty(&quot;issue_date&quot;)\npublic void setIssueDate(String issueDate) {\nthis.issueDate = issueDate;\n}\n\n@JsonProperty(&quot;father/husband&quot;)\npublic String getFatherHusband() {\nreturn fatherHusband;\n}\n\n@JsonProperty(&quot;father/husband&quot;)\npublic void setFatherHusband(String fatherHusband) {\nthis.fatherHusband = fatherHusband;\n}\n\n@JsonProperty(&quot;name&quot;)\npublic String getName() {\nreturn name;\n}\n\n@JsonProperty(&quot;name&quot;)\npublic void setName(String name) {\nthis.name = name;\n}\n\n@JsonProperty(&quot;img&quot;)\npublic String getImg() {\nreturn img;\n}\n\n@JsonProperty(&quot;img&quot;)\npublic void setImg(String img) {\nthis.img = img;\n}\n\n@JsonProperty(&quot;blood_group&quot;)\npublic String getBloodGroup() {\nreturn bloodGroup;\n}\n\n@JsonProperty(&quot;blood_group&quot;)\npublic void setBloodGroup(String bloodGroup) {\nthis.bloodGroup = bloodGroup;\n}\n\n@JsonProperty(&quot;dob&quot;)\npublic String getDob() {\nreturn dob;\n}\n\n@JsonProperty(&quot;dob&quot;)\npublic void setDob(String dob) {\nthis.dob = dob;\n}\n\n@JsonProperty(&quot;validity&quot;)\npublic Validity getValidity() {\nreturn validity;\n}\n\n@JsonProperty(&quot;validity&quot;)\npublic void setValidity(Validity validity) {\nthis.validity = validity;\n}\n\n@JsonProperty(&quot;cov_details&quot;)\npublic List&lt;CovDetail&gt; getCovDetails() {\nreturn covDetails;\n}\n\n@JsonProperty(&quot;cov_details&quot;)\npublic void setCovDetails(List&lt;CovDetail&gt; covDetails) {\nthis.covDetails = covDetails;\n}\n\n@JsonProperty(&quot;dl_number&quot;)\npublic String getDlNumber() {\nreturn dlNumber;\n}\n\n@JsonProperty(&quot;dl_number&quot;)\npublic void setDlNumber(String dlNumber) {\nthis.dlNumber = dlNumber;\n}\n\n@JsonProperty(&quot;address&quot;)\npublic String getAddress() {\nreturn address;\n}\n\n@JsonProperty(&quot;address&quot;)\npublic void setAddress(String address) {\nthis.address = address;\n}\n\n@JsonAnyGetter\npublic Map&lt;String, Object&gt; getAdditionalProperties() {\nreturn this.additionalProperties;\n}\n\n@JsonAnySetter\npublic void setAdditionalProperty(String name, Object value) {\nthis.additionalProperties.put(name, value);\n}\n\n}\n</code></pre>\n<pre><code>package com.example;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport com.fasterxml.jackson.annotation.JsonAnyGetter;\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\n\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n&quot;non-transport&quot;,\n&quot;transport&quot;\n})\npublic class Validity {\n\n@JsonProperty(&quot;non-transport&quot;)\nprivate String nonTransport;\n@JsonProperty(&quot;transport&quot;)\nprivate String transport;\n@JsonIgnore\nprivate Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n\n@JsonProperty(&quot;non-transport&quot;)\npublic String getNonTransport() {\nreturn nonTransport;\n}\n\n@JsonProperty(&quot;non-transport&quot;)\npublic void setNonTransport(String nonTransport) {\nthis.nonTransport = nonTransport;\n}\n\n@JsonProperty(&quot;transport&quot;)\npublic String getTransport() {\nreturn transport;\n}\n\n@JsonProperty(&quot;transport&quot;)\npublic void setTransport(String transport) {\nthis.transport = transport;\n}\n\n@JsonAnyGetter\npublic Map&lt;String, Object&gt; getAdditionalProperties() {\nreturn this.additionalProperties;\n}\n\n@JsonAnySetter\npublic void setAdditionalProperty(String name, Object value) {\nthis.additionalProperties.put(name, value);\n}\n\n}\n</code></pre>\n<p>You can then serialize the Json to Java objects by running the following code:</p>\n<pre><code>final ObjectMapper objectMapper = new ObjectMapper();\nfinal Result result = objectMapper.readValue(json, Result.class);\n</code></pre>\n<p>Whereby the <code>json</code> variable refers to your Json data. After you have your Java objects, you can simply use the getters and setters to adjust the objects to your needs.</p>\n<pre><code>result.setRequestId(&quot;Test&quot;);\n</code></pre>\n<p>In case you want to edit the <code>img</code> property:</p>\n<pre><code>result.getResult().setImg(&quot;N/A&quot;);\n</code></pre>\n<p>If you then want to convert the Java objects back to Json, you could do something like this:</p>\n<pre><code>final ObjectMapper mapper = new ObjectMapper();\nfinal String jsonString = mapper.writeValueAsString(result);\n</code></pre>\n<p><em>Source of the Java classes: <a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">http://www.jsonschema2pojo.org/</a></em></p>\n"},{"tags":[],"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609926732,"creation_date":1609926187,"answer_id":65593406,"question_id":65593086,"body_markdown":"Solution using simple org.json library(*without using POJO classes)\r\n\r\n   \r\n\r\n    \r\n    import org.json.JSONObject;\r\n    \r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n            String jsonArray = &quot;{\\n&quot; +\r\n                    &quot;   \\&quot;result\\&quot;:{\\n&quot; +\r\n                    &quot;      \\&quot;issue_date\\&quot;:\\&quot;20-02-2011\\&quot;,\\n&quot; +\r\n                    &quot;      \\&quot;father/husband\\&quot;:\\&quot;Chopra\\&quot;,\\n&quot; +\r\n                    &quot;      \\&quot;name\\&quot;:\\&quot;Variyar\\&quot;,\\n&quot; +\r\n                    &quot;      \\n&quot; +\r\n                    &quot; \\&quot;img\\&quot;:\\&quot;/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS\\&quot;,\\n&quot; +\r\n                    &quot;      \\&quot;blood_group\\&quot;:\\&quot;\\&quot;,\\n&quot; +\r\n                    &quot;      \\&quot;dob\\&quot;:\\&quot;11-03-1981\\&quot;,\\n&quot; +\r\n                    &quot;      \\&quot;validity\\&quot;:{\\n&quot; +\r\n                    &quot;         \\&quot;non-transport\\&quot;:\\&quot;24-03-2010 to 23-02-2030\\&quot;,\\n&quot; +\r\n                    &quot;         \\&quot;transport\\&quot;:\\&quot;\\&quot;\\n&quot; +\r\n                    &quot;      },\\n&quot; +\r\n                    &quot;      \\&quot;cov_details\\&quot;:[\\n&quot; +\r\n                    &quot;         {\\n&quot; +\r\n                    &quot;            \\&quot;issue_date\\&quot;:\\&quot;UNIT OFFICE,TRICHY\\&quot;,\\n&quot; +\r\n                    &quot;            \\&quot;cov\\&quot;:\\&quot;NCWG\\&quot;\\n&quot; +\r\n                    &quot;         }\\n&quot; +\r\n                    &quot;      ],\\n&quot; +\r\n                    &quot;      \\&quot;dl_number\\&quot;:\\&quot;TN0290000784\\&quot;,\\n&quot; +\r\n                    &quot;      \\&quot;address\\&quot;:\\&quot;PERIYA COLONY  KO PAVAZHANGUDI  VIRUDHACHALAM TK\\&quot;\\n&quot; +\r\n                    &quot;   },\\n&quot; +\r\n                    &quot;   \\&quot;request_id\\&quot;:\\&quot;a2642ae9-2f10-4e9a-9f7e-c3ee1a9a2dbe\\&quot;,\\n&quot; +\r\n                    &quot;   \\&quot;status-code\\&quot;:\\&quot;101\\&quot;\\n&quot; +\r\n                    &quot;}&quot;;\r\n            JSONObject jObject = new JSONObject(jsonArray);\r\n            jObject.getJSONObject(&quot;result&quot;).put(&quot;img&quot;, &quot;N/A&quot;);\r\n            System.out.println(jObject);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nOutput:\r\n\r\n   \r\n\r\n     {\r\n       &quot;result&quot;:{\r\n          &quot;cov_details&quot;:[\r\n             {\r\n                &quot;issue_date&quot;:&quot;UNIT OFFICE,TRICHY&quot;,\r\n                &quot;cov&quot;:&quot;NCWG&quot;\r\n             }\r\n          ],\r\n          &quot;img&quot;:&quot;N/A&quot;,\r\n          &quot;dl_number&quot;:&quot;TN0290000784&quot;,\r\n          &quot;address&quot;:&quot;PERIYA COLONY  KO PAVAZHANGUDI  VIRUDHACHALAM TK&quot;,\r\n          &quot;issue_date&quot;:&quot;20-02-2011&quot;,\r\n          &quot;dob&quot;:&quot;11-03-1981&quot;,\r\n          &quot;name&quot;:&quot;Variyar&quot;,\r\n          &quot;blood_group&quot;:&quot;&quot;,\r\n          &quot;validity&quot;:{\r\n             &quot;transport&quot;:&quot;&quot;,\r\n             &quot;non-transport&quot;:&quot;24-03-2010 to 23-02-2030&quot;\r\n          },\r\n          &quot;father/husband&quot;:&quot;Chopra&quot;\r\n       },\r\n       &quot;status-code&quot;:&quot;101&quot;,\r\n       &quot;request_id&quot;:&quot;a2642ae9-2f10-4e9a-9f7e-c3ee1a9a2dbe&quot;\r\n    }","title":"How to modify values inside JSON object in Java","body":"<p>Solution using simple org.json library(*without using POJO classes)</p>\n<pre><code>import org.json.JSONObject;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        String jsonArray = &quot;{\\n&quot; +\n                &quot;   \\&quot;result\\&quot;:{\\n&quot; +\n                &quot;      \\&quot;issue_date\\&quot;:\\&quot;20-02-2011\\&quot;,\\n&quot; +\n                &quot;      \\&quot;father/husband\\&quot;:\\&quot;Chopra\\&quot;,\\n&quot; +\n                &quot;      \\&quot;name\\&quot;:\\&quot;Variyar\\&quot;,\\n&quot; +\n                &quot;      \\n&quot; +\n                &quot; \\&quot;img\\&quot;:\\&quot;/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS\\&quot;,\\n&quot; +\n                &quot;      \\&quot;blood_group\\&quot;:\\&quot;\\&quot;,\\n&quot; +\n                &quot;      \\&quot;dob\\&quot;:\\&quot;11-03-1981\\&quot;,\\n&quot; +\n                &quot;      \\&quot;validity\\&quot;:{\\n&quot; +\n                &quot;         \\&quot;non-transport\\&quot;:\\&quot;24-03-2010 to 23-02-2030\\&quot;,\\n&quot; +\n                &quot;         \\&quot;transport\\&quot;:\\&quot;\\&quot;\\n&quot; +\n                &quot;      },\\n&quot; +\n                &quot;      \\&quot;cov_details\\&quot;:[\\n&quot; +\n                &quot;         {\\n&quot; +\n                &quot;            \\&quot;issue_date\\&quot;:\\&quot;UNIT OFFICE,TRICHY\\&quot;,\\n&quot; +\n                &quot;            \\&quot;cov\\&quot;:\\&quot;NCWG\\&quot;\\n&quot; +\n                &quot;         }\\n&quot; +\n                &quot;      ],\\n&quot; +\n                &quot;      \\&quot;dl_number\\&quot;:\\&quot;TN0290000784\\&quot;,\\n&quot; +\n                &quot;      \\&quot;address\\&quot;:\\&quot;PERIYA COLONY  KO PAVAZHANGUDI  VIRUDHACHALAM TK\\&quot;\\n&quot; +\n                &quot;   },\\n&quot; +\n                &quot;   \\&quot;request_id\\&quot;:\\&quot;a2642ae9-2f10-4e9a-9f7e-c3ee1a9a2dbe\\&quot;,\\n&quot; +\n                &quot;   \\&quot;status-code\\&quot;:\\&quot;101\\&quot;\\n&quot; +\n                &quot;}&quot;;\n        JSONObject jObject = new JSONObject(jsonArray);\n        jObject.getJSONObject(&quot;result&quot;).put(&quot;img&quot;, &quot;N/A&quot;);\n        System.out.println(jObject);\n    }\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code> {\n   &quot;result&quot;:{\n      &quot;cov_details&quot;:[\n         {\n            &quot;issue_date&quot;:&quot;UNIT OFFICE,TRICHY&quot;,\n            &quot;cov&quot;:&quot;NCWG&quot;\n         }\n      ],\n      &quot;img&quot;:&quot;N/A&quot;,\n      &quot;dl_number&quot;:&quot;TN0290000784&quot;,\n      &quot;address&quot;:&quot;PERIYA COLONY  KO PAVAZHANGUDI  VIRUDHACHALAM TK&quot;,\n      &quot;issue_date&quot;:&quot;20-02-2011&quot;,\n      &quot;dob&quot;:&quot;11-03-1981&quot;,\n      &quot;name&quot;:&quot;Variyar&quot;,\n      &quot;blood_group&quot;:&quot;&quot;,\n      &quot;validity&quot;:{\n         &quot;transport&quot;:&quot;&quot;,\n         &quot;non-transport&quot;:&quot;24-03-2010 to 23-02-2030&quot;\n      },\n      &quot;father/husband&quot;:&quot;Chopra&quot;\n   },\n   &quot;status-code&quot;:&quot;101&quot;,\n   &quot;request_id&quot;:&quot;a2642ae9-2f10-4e9a-9f7e-c3ee1a9a2dbe&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2616296,"reputation":1932,"user_id":2265283,"accept_rate":7,"display_name":"Eyal Sooliman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609927498,"creation_date":1609927498,"answer_id":65593738,"question_id":65593086,"body_markdown":"I suggest using Strings to replace &quot;img&quot; object as follow (no matter what &quot;img&quot; value or length you have): \r\n\r\n1. First get the &quot;img&quot; object value as string:\r\n\r\n       String imgObject = &quot;\\&quot;img\\&quot;: \\&quot;&quot; + json.getJSONObject(&quot;result&quot;).getString(&quot;img&quot;) + &quot;\\&quot;,&quot;;\r\n    \r\noutput will be: \r\n\r\n&quot;img&quot;: &quot;/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS&quot;,\r\n\r\n\r\n2. Then extract only the &quot;img&quot; value:\r\n\r\n       imgObject = imgObject.substring(8,imgObject.length()-2);\r\n       imgObject = imgObject.replace(&quot;\\&quot;,&quot;,&quot;&quot;);\r\n\r\nOutput will be: \r\n\r\n/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS\r\n\r\n\r\n3. Convert the original Json to string: \r\n\r\n       String convertedJson = json.toString();\r\n\r\n4. replace &quot;img&quot; with &quot;N/A&quot;:\r\n\r\n       convertedJson = convertedJson.replace(imgObject,&quot;N/A&quot;);\r\n\r\n5. convert back to JSONObject:\r\n\r\n       json = new JSONObject(convertedJson);\r\n\r\nand that&#39;s it. \r\n\r\n\r\nComplete code:\r\n\r\n            JSONObject json = new JSONObject(&quot;{\\n&quot; +\r\n                &quot;   \\&quot;result\\&quot;:{\\n&quot; +\r\n                &quot;      \\&quot;issue_date\\&quot;:\\&quot;20-02-2011\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;father/husband\\&quot;:\\&quot;Chopra\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;name\\&quot;:\\&quot;Variyar\\&quot;,\\n&quot; +\r\n                &quot;      \\n&quot; +\r\n                &quot; \\&quot;img\\&quot;:\\&quot;/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;blood_group\\&quot;:\\&quot;\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;dob\\&quot;:\\&quot;11-03-1981\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;validity\\&quot;:{\\n&quot; +\r\n                &quot;         \\&quot;non-transport\\&quot;:\\&quot;24-03-2010 to 23-02-2030\\&quot;,\\n&quot; +\r\n                &quot;         \\&quot;transport\\&quot;:\\&quot;\\&quot;\\n&quot; +\r\n                &quot;      },\\n&quot; +\r\n                &quot;      \\&quot;cov_details\\&quot;:[\\n&quot; +\r\n                &quot;         {\\n&quot; +\r\n                &quot;            \\&quot;issue_date\\&quot;:\\&quot;UNIT OFFICE,TRICHY\\&quot;,\\n&quot; +\r\n                &quot;            \\&quot;cov\\&quot;:\\&quot;NCWG\\&quot;\\n&quot; +\r\n                &quot;         }\\n&quot; +\r\n                &quot;      ],\\n&quot; +\r\n                &quot;      \\&quot;dl_number\\&quot;:\\&quot;TN0290000784\\&quot;,\\n&quot; +\r\n                &quot;      \\&quot;address\\&quot;:\\&quot;PERIYA COLONY  KO PAVAZHANGUDI  VIRUDHACHALAM TK\\&quot;\\n&quot; +\r\n                &quot;   },\\n&quot; +\r\n                &quot;   \\&quot;request_id\\&quot;:\\&quot;a2642ae9-2f10-4e9a-9f7e-c3ee1a9a2dbe\\&quot;,\\n&quot; +\r\n                &quot;   \\&quot;status-code\\&quot;:\\&quot;101\\&quot;\\n&quot; +\r\n                &quot;}&quot;);\r\n\r\n        System.out.println(&quot;Original img value: &quot;+ json.getJSONObject(&quot;result&quot;).getString(&quot;img&quot;));\r\n\r\n        //SubString the img object:\r\n        String imgObject = &quot;\\&quot;img\\&quot;: \\&quot;&quot; + json.getJSONObject(&quot;result&quot;).getString(&quot;img&quot;) + &quot;\\&quot;,&quot;;\r\n        System.out.println(&quot;img object key and value: &quot;+imgObject);\r\n\r\n        imgObject = imgObject.substring(8,imgObject.length()-2);\r\n        imgObject = imgObject.replace(&quot;\\&quot;,&quot;,&quot;&quot;);\r\n\r\n        System.out.println(&quot;img object only value: &quot;+imgObject);\r\n\r\n        //convert json to string:\r\n        String convertedJson = json.toString();\r\n\r\n        //replace img\r\n        convertedJson = convertedJson.replace(imgObject,&quot;N/A&quot;);\r\n\r\n\r\n        //convert back to JSONObject\r\n        json = new JSONObject(convertedJson);\r\n\r\n        System.out.println(&quot;Converted Json with new img value: &quot;+ json.getJSONObject(&quot;result&quot;).getString(&quot;img&quot;));","title":"How to modify values inside JSON object in Java","body":"<p>I suggest using Strings to replace &quot;img&quot; object as follow (no matter what &quot;img&quot; value or length you have):</p>\n<ol>\n<li><p>First get the &quot;img&quot; object value as string:</p>\n<pre><code>String imgObject = &quot;\\&quot;img\\&quot;: \\&quot;&quot; + json.getJSONObject(&quot;result&quot;).getString(&quot;img&quot;) + &quot;\\&quot;,&quot;;\n</code></pre>\n</li>\n</ol>\n<p>output will be:</p>\n<p>&quot;img&quot;: &quot;/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS&quot;,</p>\n<ol start=\"2\">\n<li><p>Then extract only the &quot;img&quot; value:</p>\n<pre><code>imgObject = imgObject.substring(8,imgObject.length()-2);\nimgObject = imgObject.replace(&quot;\\&quot;,&quot;,&quot;&quot;);\n</code></pre>\n</li>\n</ol>\n<p>Output will be:</p>\n<p>/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS</p>\n<ol start=\"3\">\n<li><p>Convert the original Json to string:</p>\n<pre><code>String convertedJson = json.toString();\n</code></pre>\n</li>\n<li><p>replace &quot;img&quot; with &quot;N/A&quot;:</p>\n<pre><code>convertedJson = convertedJson.replace(imgObject,&quot;N/A&quot;);\n</code></pre>\n</li>\n<li><p>convert back to JSONObject:</p>\n<pre><code>json = new JSONObject(convertedJson);\n</code></pre>\n</li>\n</ol>\n<p>and that's it.</p>\n<p>Complete code:</p>\n<pre><code>        JSONObject json = new JSONObject(&quot;{\\n&quot; +\n            &quot;   \\&quot;result\\&quot;:{\\n&quot; +\n            &quot;      \\&quot;issue_date\\&quot;:\\&quot;20-02-2011\\&quot;,\\n&quot; +\n            &quot;      \\&quot;father/husband\\&quot;:\\&quot;Chopra\\&quot;,\\n&quot; +\n            &quot;      \\&quot;name\\&quot;:\\&quot;Variyar\\&quot;,\\n&quot; +\n            &quot;      \\n&quot; +\n            &quot; \\&quot;img\\&quot;:\\&quot;/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS\\&quot;,\\n&quot; +\n            &quot;      \\&quot;blood_group\\&quot;:\\&quot;\\&quot;,\\n&quot; +\n            &quot;      \\&quot;dob\\&quot;:\\&quot;11-03-1981\\&quot;,\\n&quot; +\n            &quot;      \\&quot;validity\\&quot;:{\\n&quot; +\n            &quot;         \\&quot;non-transport\\&quot;:\\&quot;24-03-2010 to 23-02-2030\\&quot;,\\n&quot; +\n            &quot;         \\&quot;transport\\&quot;:\\&quot;\\&quot;\\n&quot; +\n            &quot;      },\\n&quot; +\n            &quot;      \\&quot;cov_details\\&quot;:[\\n&quot; +\n            &quot;         {\\n&quot; +\n            &quot;            \\&quot;issue_date\\&quot;:\\&quot;UNIT OFFICE,TRICHY\\&quot;,\\n&quot; +\n            &quot;            \\&quot;cov\\&quot;:\\&quot;NCWG\\&quot;\\n&quot; +\n            &quot;         }\\n&quot; +\n            &quot;      ],\\n&quot; +\n            &quot;      \\&quot;dl_number\\&quot;:\\&quot;TN0290000784\\&quot;,\\n&quot; +\n            &quot;      \\&quot;address\\&quot;:\\&quot;PERIYA COLONY  KO PAVAZHANGUDI  VIRUDHACHALAM TK\\&quot;\\n&quot; +\n            &quot;   },\\n&quot; +\n            &quot;   \\&quot;request_id\\&quot;:\\&quot;a2642ae9-2f10-4e9a-9f7e-c3ee1a9a2dbe\\&quot;,\\n&quot; +\n            &quot;   \\&quot;status-code\\&quot;:\\&quot;101\\&quot;\\n&quot; +\n            &quot;}&quot;);\n\n    System.out.println(&quot;Original img value: &quot;+ json.getJSONObject(&quot;result&quot;).getString(&quot;img&quot;));\n\n    //SubString the img object:\n    String imgObject = &quot;\\&quot;img\\&quot;: \\&quot;&quot; + json.getJSONObject(&quot;result&quot;).getString(&quot;img&quot;) + &quot;\\&quot;,&quot;;\n    System.out.println(&quot;img object key and value: &quot;+imgObject);\n\n    imgObject = imgObject.substring(8,imgObject.length()-2);\n    imgObject = imgObject.replace(&quot;\\&quot;,&quot;,&quot;&quot;);\n\n    System.out.println(&quot;img object only value: &quot;+imgObject);\n\n    //convert json to string:\n    String convertedJson = json.toString();\n\n    //replace img\n    convertedJson = convertedJson.replace(imgObject,&quot;N/A&quot;);\n\n\n    //convert back to JSONObject\n    json = new JSONObject(convertedJson);\n\n    System.out.println(&quot;Converted Json with new img value: &quot;+ json.getJSONObject(&quot;result&quot;).getString(&quot;img&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3502928,"reputation":21,"user_id":2929229,"display_name":"Mostafa Shabani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609931867,"creation_date":1609931867,"answer_id":65594795,"question_id":65593086,"body_markdown":"    try {\r\n            com.fasterxml.jackson.databind.ObjectMapper mapper = new com.fasterxml.jackson.databind.ObjectMapper();\r\n            java.util.LinkedHashMap obj = (java.util.LinkedHashMap) mapper.readValue(jsonString, Object.class);\r\n            java.util.LinkedHashMap result = (java.util.LinkedHashMap) obj.get(&quot;result&quot;);\r\n            result.put(&quot;img&quot;, &quot;YOUR_VALUE&quot;);\r\n            java.io.ByteArrayOutputStream bout = new java.io.ByteArrayOutputStream();\r\n            mapper.writeValue(bout, obj);\r\n            byte[] objectBytes = bout.toByteArray();\r\n            jsonString = new String(objectBytes);\r\n        } catch (java.io.IOException e) {\r\n            e.printStackTrace();\r\n        }","title":"How to modify values inside JSON object in Java","body":"<pre><code>try {\n        com.fasterxml.jackson.databind.ObjectMapper mapper = new com.fasterxml.jackson.databind.ObjectMapper();\n        java.util.LinkedHashMap obj = (java.util.LinkedHashMap) mapper.readValue(jsonString, Object.class);\n        java.util.LinkedHashMap result = (java.util.LinkedHashMap) obj.get(&quot;result&quot;);\n        result.put(&quot;img&quot;, &quot;YOUR_VALUE&quot;);\n        java.io.ByteArrayOutputStream bout = new java.io.ByteArrayOutputStream();\n        mapper.writeValue(bout, obj);\n        byte[] objectBytes = bout.toByteArray();\n        jsonString = new String(objectBytes);\n    } catch (java.io.IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"}],"owner":{"account_id":20051857,"reputation":11,"user_id":14700400,"display_name":"Natsu Uchiha "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6050,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1650187206,"creation_date":1609924586,"question_id":65593086,"body_markdown":"I have a JSON Object which looks like this. \r\n```\r\n{\r\n   &quot;result&quot;:{\r\n      &quot;issue_date&quot;:&quot;20-02-2011&quot;,\r\n      &quot;father/husband&quot;:&quot;Chopra&quot;,\r\n      &quot;name&quot;:&quot;Variyar&quot;,\r\n      \r\n &quot;img&quot;:&quot;/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS&quot;,\r\n      &quot;blood_group&quot;:&quot;&quot;,\r\n      &quot;dob&quot;:&quot;11-03-1981&quot;,\r\n      &quot;validity&quot;:{\r\n         &quot;non-transport&quot;:&quot;24-03-2010 to 23-02-2030&quot;,\r\n         &quot;transport&quot;:&quot;&quot;\r\n      },\r\n      &quot;cov_details&quot;:[\r\n         {\r\n            &quot;issue_date&quot;:&quot;UNIT OFFICE,TRICHY&quot;,\r\n            &quot;cov&quot;:&quot;NCWG&quot;\r\n         }\r\n      ],\r\n      &quot;dl_number&quot;:&quot;TN0290000784&quot;,\r\n      &quot;address&quot;:&quot;PERIYA COLONY  KO PAVAZHANGUDI  VIRUDHACHALAM TK&quot;\r\n   },\r\n   &quot;request_id&quot;:&quot;a2642ae9-2f10-4e9a-9f7e-c3ee1a9a2dbe&quot;,\r\n   &quot;status-code&quot;:&quot;101&quot;\r\n}\r\n```\r\nI want to edit the values inside of &quot;img&quot; which is inside &quot;result&quot; using java.\r\n```\r\nobj.remove(&quot;img&quot;);\r\nobj.put(&quot;img&quot;,&quot;N/A&quot;);\r\n```\r\nBut it did not work. My expected output is that the Img tag should be like this \r\n```\r\n &quot;img&quot;:&quot;N/A&quot;,     \r\n```\r\nAny suggestion on how to achieve this? ","title":"How to modify values inside JSON object in Java","body":"<p>I have a JSON Object which looks like this.</p>\n<pre><code>{\n   &quot;result&quot;:{\n      &quot;issue_date&quot;:&quot;20-02-2011&quot;,\n      &quot;father/husband&quot;:&quot;Chopra&quot;,\n      &quot;name&quot;:&quot;Variyar&quot;,\n      \n &quot;img&quot;:&quot;/9j/4AAQSkZJRgABAQAABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKS&quot;,\n      &quot;blood_group&quot;:&quot;&quot;,\n      &quot;dob&quot;:&quot;11-03-1981&quot;,\n      &quot;validity&quot;:{\n         &quot;non-transport&quot;:&quot;24-03-2010 to 23-02-2030&quot;,\n         &quot;transport&quot;:&quot;&quot;\n      },\n      &quot;cov_details&quot;:[\n         {\n            &quot;issue_date&quot;:&quot;UNIT OFFICE,TRICHY&quot;,\n            &quot;cov&quot;:&quot;NCWG&quot;\n         }\n      ],\n      &quot;dl_number&quot;:&quot;TN0290000784&quot;,\n      &quot;address&quot;:&quot;PERIYA COLONY  KO PAVAZHANGUDI  VIRUDHACHALAM TK&quot;\n   },\n   &quot;request_id&quot;:&quot;a2642ae9-2f10-4e9a-9f7e-c3ee1a9a2dbe&quot;,\n   &quot;status-code&quot;:&quot;101&quot;\n}\n</code></pre>\n<p>I want to edit the values inside of &quot;img&quot; which is inside &quot;result&quot; using java.</p>\n<pre><code>obj.remove(&quot;img&quot;);\nobj.put(&quot;img&quot;,&quot;N/A&quot;);\n</code></pre>\n<p>But it did not work. My expected output is that the Img tag should be like this</p>\n<pre><code> &quot;img&quot;:&quot;N/A&quot;,     \n</code></pre>\n<p>Any suggestion on how to achieve this?</p>\n"},{"tags":["java","file","package"],"comments":[{"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"score":6,"creation_date":1347639831,"post_id":12428394,"comment_id":16708331,"body_markdown":"Try putting the .txt file in the root of your project.  While text files can be in the same folder as files in a particular package, that doesn&#39;t really make them part of the package.  Instead, you need to load it from the file system (or alternatively, from the jar or war.)","body":"Try putting the .txt file in the root of your project.  While text files can be in the same folder as files in a particular package, that doesn&#39;t really make them part of the package.  Instead, you need to load it from the file system (or alternatively, from the jar or war.)"}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1483975811,"creation_date":1347639889,"answer_id":12428425,"question_id":12428394,"body_markdown":"Assuming the text file is in the same directory as the `.class`, rather than the `.java` file you can do\r\n\r\n    Scanner scanner = new Scanner(getClass().getResourceAsStream(&quot;Words.txt&quot;));\r\n\r\nWhat you have will look for the file in the current working directory. When you are building your program this is typically the root directory of your program. When you run it as a standalone program it is usually the directory the program was started from.","title":"Java - Getting file from same package","body":"<p>Assuming the text file is in the same directory as the <code>.class</code>, rather than the <code>.java</code> file you can do</p>\n\n<pre><code>Scanner scanner = new Scanner(getClass().getResourceAsStream(\"Words.txt\"));\n</code></pre>\n\n<p>What you have will look for the file in the current working directory. When you are building your program this is typically the root directory of your program. When you run it as a standalone program it is usually the directory the program was started from.</p>\n"},{"tags":[],"owner":{"account_id":1744463,"reputation":12621,"user_id":1594980,"accept_rate":85,"display_name":"Jiri Kremser"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1347639921,"creation_date":1347639921,"answer_id":12428435,"question_id":12428394,"body_markdown":"   \r\n\r\n    InputStream is = MyClass.class.getResourceAsStream(&quot;Words.txt&quot;);\r\n    ...","title":"Java - Getting file from same package","body":"<pre><code>InputStream is = MyClass.class.getResourceAsStream(\"Words.txt\");\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1544874,"reputation":19288,"user_id":1438628,"accept_rate":80,"display_name":"Majid Laissi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1347639970,"creation_date":1347639970,"answer_id":12428442,"question_id":12428394,"body_markdown":"\r\n\r\n    Scanner = new Scanner(new File(&quot;/path/to/Words.txt&quot;)); \r\n\r\nThe argument in the File() constructor, Is the path relative to the system your VM is running on, it s doesn&#39;t depend on the classe&#39;s package. \r\n\r\nIf you your words.txt is a resource packaged with your war you can see here : https://stackoverflow.com/questions/3294196/load-resource-from-anywhere-in-classpath","title":"Java - Getting file from same package","body":"<pre><code>Scanner = new Scanner(new File(\"/path/to/Words.txt\")); \n</code></pre>\n\n<p>The argument in the File() constructor, Is the path relative to the system your VM is running on, it s doesn't depend on the classe's package. </p>\n\n<p>If you your words.txt is a resource packaged with your war you can see here : <a href=\"https://stackoverflow.com/questions/3294196/load-resource-from-anywhere-in-classpath\">Load resource from anywhere in classpath</a></p>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1347640109,"creation_date":1347640109,"answer_id":12428481,"question_id":12428394,"body_markdown":"\r\n\r\n    Scanner scanner = new Scanner(getClass().getResourceAsInputStream(&quot;Words.txt&quot;));\r\n    \r\n    String s = new String();\r\n    \r\n    while(scanner.hasNextLine()){\r\n    \r\n    \r\n            s = s + scanner.nextLine();\r\n    \r\n           \r\n     }","title":"Java - Getting file from same package","body":"<pre><code>Scanner scanner = new Scanner(getClass().getResourceAsInputStream(\"Words.txt\"));\n\nString s = new String();\n\nwhile(scanner.hasNextLine()){\n\n\n        s = s + scanner.nextLine();\n\n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7246552,"reputation":466,"user_id":5528262,"display_name":"Umar Kayondo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650187162,"creation_date":1650121094,"answer_id":71894951,"question_id":12428394,"body_markdown":"All the above solutions did not work for me, however this seemed to work as expected even when the source code is exported as a docker image.\r\n\r\n    import java.io.InputStream;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import org.apache.commons.io.IOUtils;\r\n    import org.apache.commons.lang.StringUtils;\r\n    import org.springframework.core.io.ClassPathResource;\r\n    \r\n    \r\n    public class FileUtil {\r\n\tprivate static final Logger LOGGER = Logger.getLogger(FileUtil.class.getSimpleName());\r\n\r\n\tprivate FileUtil() {\r\n\t\t// Private constructor\r\n\t}\r\n\r\n\tprivate static FileUtil instance = null;\r\n\r\n\tpublic static FileUtil getInstance() {\r\n\t\tif (instance == null) {\r\n\t\t\tinstance = new FileUtil();\r\n\t\t}\r\n\t\treturn instance;\r\n\t}\r\n\r\n\t/**\r\n\t * Read file from the the resources folder as a string from an\r\n\t * {@link InputStream}\r\n\t * \r\n\t * @param fileName: This can be name.txt or any file format of your choice\r\n\t * @return\r\n\t * @throws Exception\r\n\t */\r\n\tpublic String getResourceFileAsString(String fileName) throws ValidationFailedException {\r\n\t\ttry {\r\n\t\t\tfileName = String.format(&quot;classpath:%s&quot;, fileName);\r\n\t\t\ttry (InputStream reader = new ClassPathResource(fileName).getInputStream()) {\r\n\t\t\t\treturn IOUtils.toString(reader, StandardCharsets.UTF_8.toString());\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.log(Level.WARNING, String.format(&quot;Failed to read template {%s}&quot;, e.getMessage()), e);\r\n\t\t\tthrow new Exception(String.format(&quot;Failed to read template {%s}&quot;, e.getMessage()));\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java - Getting file from same package","body":"<p>All the above solutions did not work for me, however this seemed to work as expected even when the source code is exported as a docker image.</p>\n<pre><code>import java.io.InputStream;\nimport java.nio.charset.StandardCharsets;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport org.apache.commons.io.IOUtils;\nimport org.apache.commons.lang.StringUtils;\nimport org.springframework.core.io.ClassPathResource;\n\n\npublic class FileUtil {\nprivate static final Logger LOGGER = Logger.getLogger(FileUtil.class.getSimpleName());\n\nprivate FileUtil() {\n    // Private constructor\n}\n\nprivate static FileUtil instance = null;\n\npublic static FileUtil getInstance() {\n    if (instance == null) {\n        instance = new FileUtil();\n    }\n    return instance;\n}\n\n/**\n * Read file from the the resources folder as a string from an\n * {@link InputStream}\n * \n * @param fileName: This can be name.txt or any file format of your choice\n * @return\n * @throws Exception\n */\npublic String getResourceFileAsString(String fileName) throws ValidationFailedException {\n    try {\n        fileName = String.format(&quot;classpath:%s&quot;, fileName);\n        try (InputStream reader = new ClassPathResource(fileName).getInputStream()) {\n            return IOUtils.toString(reader, StandardCharsets.UTF_8.toString());\n        }\n    } catch (Exception e) {\n        LOGGER.log(Level.WARNING, String.format(&quot;Failed to read template {%s}&quot;, e.getMessage()), e);\n        throw new Exception(String.format(&quot;Failed to read template {%s}&quot;, e.getMessage()));\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1828811,"reputation":151,"user_id":1660833,"accept_rate":0,"display_name":"Ronan H"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45222,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":5,"score":14,"last_activity_date":1650187162,"creation_date":1347639716,"question_id":12428394,"body_markdown":"If I want to read from &quot;Words.txt&quot; which is in the same package as the class, how would I do this? Doing simply `Scanner = new Scanner(new File(&quot;Words.txt&quot;));` returns an error.","title":"Java - Getting file from same package","body":"<p>If I want to read from \"Words.txt\" which is in the same package as the class, how would I do this? Doing simply <code>Scanner = new Scanner(new File(\"Words.txt\"));</code> returns an error.</p>\n"},{"tags":["java","c"],"comments":[{"owner":{"account_id":321625,"reputation":25233,"user_id":640558,"accept_rate":97,"display_name":"Lostsoul"},"score":0,"creation_date":1350236983,"post_id":12884834,"comment_id":17446787,"body_markdown":"@SparKot I never heard of it, I&#39;ll research it a bit. Thanks.","body":"@SparKot I never heard of it, I&#39;ll research it a bit. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1350238189,"creation_date":1350238189,"answer_id":12885040,"question_id":12884834,"body_markdown":"Here what I have on the top of my head\r\n 1. run C program using command line from java app.\r\n 2. Use JNI/JNA\r\n 3. Implement your own &quot;client-server&quot; architecture. It sounds complicated but in some cases it may be the best and the simplest solution.\r\n 4. Communicate using Web service, SOAP, REST, whatever.\r\n\r\nI hope this is helpful for the beginning.\r\nYou are welcome to ask more specific questions once you have.","title":"How can I pass and access C data from Java?","body":"<p>Here what I have on the top of my head\n 1. run C program using command line from java app.\n 2. Use JNI/JNA\n 3. Implement your own \"client-server\" architecture. It sounds complicated but in some cases it may be the best and the simplest solution.\n 4. Communicate using Web service, SOAP, REST, whatever.</p>\n\n<p>I hope this is helpful for the beginning.\nYou are welcome to ask more specific questions once you have.</p>\n"},{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1350238659,"creation_date":1350238659,"answer_id":12885109,"question_id":12884834,"body_markdown":"You may find it easier to keep the programs testable and clear if you leave them separate and then use a client-server approach, or simply choose a common file format and have the latter steps poll the output directory for new files to process.\r\n\r\nTo make it easier to define file formats across different languages, consider a package like [Apache Thrift](http://thrift.apache.org) or [Google Protocol Buffers](http://code.google.com/p/protobuf/).","title":"How can I pass and access C data from Java?","body":"<p>You may find it easier to keep the programs testable and clear if you leave them separate and then use a client-server approach, or simply choose a common file format and have the latter steps poll the output directory for new files to process.</p>\n\n<p>To make it easier to define file formats across different languages, consider a package like <a href=\"http://thrift.apache.org\" rel=\"nofollow\">Apache Thrift</a> or <a href=\"http://code.google.com/p/protobuf/\" rel=\"nofollow\">Google Protocol Buffers</a>.</p>\n"}],"owner":{"account_id":321625,"reputation":25233,"user_id":640558,"accept_rate":97,"display_name":"Lostsoul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":12885109,"answer_count":2,"score":0,"last_activity_date":1650186744,"creation_date":1350236810,"question_id":12884834,"body_markdown":"I&#39;ve been doing some programming in Java and some in C but now I need to sort of use both together.\r\n\r\nHere&#39;s the situation, I&#39;m using Hadoop/Hbase to process and store a lot of data but I&#39;m using C/Cuda to do number crunching on the data.  Is there a stable/mature/common way to take data (it&#39;s basically a log file) in Java and pass it to a C program, which C processes the data it stores it as a linked list that is then accessible by the Java app?\r\n\r\nI might not be searching for the right thing, but so far I found JavaCPP, which is good but seems to involve both programs together.  Because Java handles the data flow and C handles the processing of the data, I thought it might be better to keep them as independent programs that can communicate to each other as opposed to a single program that may become confusing.   But I&#39;m totally flexible so any suggestions/solutions are welcomed.","title":"How can I pass and access C data from Java?","body":"<p>I've been doing some programming in Java and some in C but now I need to sort of use both together.</p>\n<p>Here's the situation, I'm using Hadoop/Hbase to process and store a lot of data but I'm using C/Cuda to do number crunching on the data.  Is there a stable/mature/common way to take data (it's basically a log file) in Java and pass it to a C program, which C processes the data it stores it as a linked list that is then accessible by the Java app?</p>\n<p>I might not be searching for the right thing, but so far I found JavaCPP, which is good but seems to involve both programs together.  Because Java handles the data flow and C handles the processing of the data, I thought it might be better to keep them as independent programs that can communicate to each other as opposed to a single program that may become confusing.   But I'm totally flexible so any suggestions/solutions are welcomed.</p>\n"},{"tags":["java","json","selenium"],"comments":[{"owner":{"account_id":11030710,"reputation":624,"user_id":8102135,"display_name":"Jonah"},"score":0,"creation_date":1579262185,"post_id":59786618,"comment_id":105716551,"body_markdown":"Have you tried to deserialize the JSON?","body":"Have you tried to deserialize the JSON?"},{"owner":{"account_id":3716127,"reputation":18090,"user_id":3092298,"accept_rate":84,"display_name":"Greg Burghardt"},"score":1,"creation_date":1579266952,"post_id":59786618,"comment_id":105718775,"body_markdown":"Selenium is used to automate the browser. Is this JSON file being updated through the browser, or do you just need to manipulate this data in Java? I suspect this has nothing to do with Selenium.","body":"Selenium is used to automate the browser. Is this JSON file being updated through the browser, or do you just need to manipulate this data in Java? I suspect this has nothing to do with Selenium."},{"owner":{"account_id":13794080,"reputation":31,"user_id":9955682,"display_name":"MVJ"},"score":0,"creation_date":1579292928,"post_id":59786618,"comment_id":105730926,"body_markdown":"Here  DemoFileJson is a json array and inside that there is another array &quot;specimens&quot; : and I want to update that array along with &quot;accessionNumber&quot; object at the same time in java.","body":"Here  DemoFileJson is a json array and inside that there is another array &quot;specimens&quot; : and I want to update that array along with &quot;accessionNumber&quot; object at the same time in java."},{"owner":{"account_id":13794080,"reputation":31,"user_id":9955682,"display_name":"MVJ"},"score":0,"creation_date":1579293224,"post_id":59786618,"comment_id":105731044,"body_markdown":"@GregBurghardt : Yes, it&#39;s only for java.","body":"@GregBurghardt : Yes, it&#39;s only for java."}],"answers":[{"tags":[],"owner":{"account_id":24652826,"reputation":1,"user_id":18549759,"display_name":"nurfiqih"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648000219,"creation_date":1648000219,"answer_id":71580935,"question_id":59786618,"body_markdown":"    search &amp; update value json file, with java class\r\n\r\n    example json file\r\n    [{&quot;trx_id&quot;:&quot;123&quot;},{&quot;trx_id&quot;:&quot;123&quot;,&quot;datetime_expired&quot;:&quot;20221102&quot;}]\r\n    \r\n    public class cariJSON {\r\n        public static void main(String[] args)throws Exception {\r\n             JSONArray dd = updateJson(&quot;datetime_expired&quot;, &quot;20331001&quot;);    \r\n                 try (FileWriter file = new FileWriter(&quot;C://file.json&quot;)) { //store data\r\n                file.append(dd.toString());\r\n                file.flush();\r\n                 }\r\n                System.out.println(dd);\r\n       }\r\n        \r\n        public static JSONArray updateJson(String keyString, String newValue) throws Exception {\r\n                \r\n          String jsons = readFileAsString(&quot;C://file.json&quot;);\r\n          JSONArray jsonArray = new JSONArray(jsons);  \r\n          for (int j = 0; j &lt; jsonArray.length(); j++)\r\n          {\r\n               JSONObject obj = new JSONObject(jsonArray.get(j).toString());\r\n                // get the keys of json object\r\n             \r\n                if (obj.get(&quot;trx_id&quot;).equals(&quot;123&quot;))\r\n            {\r\n                \r\n                Iterator iterator = obj.keys();\r\n                String key = null;\r\n                while (iterator.hasNext()) {\r\n                    key = (String) iterator.next();\r\n                    // if the key is a string, then update the value\r\n                    if ((obj.optJSONArray(key) == null) &amp;&amp; (obj.optJSONObject(key) == null)) {\r\n                        if ((key.equals(keyString))) {\r\n    \r\n                            obj.put(key, newValue);\r\n                            jsonArray.remove(j);\r\n                            return jsonArray.put(obj);                 \r\n                        }\r\n    \r\n                    }\r\n                    // if it&#39;s jsonobject\r\n                    if (obj.optJSONObject(key) != null) {\r\n                        updateJson(keyString, newValue);\r\n                    }\r\n                    // if it&#39;s jsonarray\r\n                    if (obj.optJSONArray(key) != null) {\r\n                        JSONArray jArray = obj.getJSONArray(key);\r\n                        for (int i = 0; i &lt; jArray.length(); i++) {\r\n                            updateJson(keyString, newValue);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n                System.out.println(&quot;Output array : &quot; + jsonArray);\r\n                return jsonArray;\r\n               }\r\n            return null;            \r\n        }\r\n    }\r\n\r\n","title":"How to update few fields in JSON file and again read the JSON with updated values in selenium using Java","body":"<pre><code>search &amp; update value json file, with java class\n\nexample json file\n[{&quot;trx_id&quot;:&quot;123&quot;},{&quot;trx_id&quot;:&quot;123&quot;,&quot;datetime_expired&quot;:&quot;20221102&quot;}]\n\npublic class cariJSON {\n    public static void main(String[] args)throws Exception {\n         JSONArray dd = updateJson(&quot;datetime_expired&quot;, &quot;20331001&quot;);    \n             try (FileWriter file = new FileWriter(&quot;C://file.json&quot;)) { //store data\n            file.append(dd.toString());\n            file.flush();\n             }\n            System.out.println(dd);\n   }\n    \n    public static JSONArray updateJson(String keyString, String newValue) throws Exception {\n            \n      String jsons = readFileAsString(&quot;C://file.json&quot;);\n      JSONArray jsonArray = new JSONArray(jsons);  \n      for (int j = 0; j &lt; jsonArray.length(); j++)\n      {\n           JSONObject obj = new JSONObject(jsonArray.get(j).toString());\n            // get the keys of json object\n         \n            if (obj.get(&quot;trx_id&quot;).equals(&quot;123&quot;))\n        {\n            \n            Iterator iterator = obj.keys();\n            String key = null;\n            while (iterator.hasNext()) {\n                key = (String) iterator.next();\n                // if the key is a string, then update the value\n                if ((obj.optJSONArray(key) == null) &amp;&amp; (obj.optJSONObject(key) == null)) {\n                    if ((key.equals(keyString))) {\n\n                        obj.put(key, newValue);\n                        jsonArray.remove(j);\n                        return jsonArray.put(obj);                 \n                    }\n\n                }\n                // if it's jsonobject\n                if (obj.optJSONObject(key) != null) {\n                    updateJson(keyString, newValue);\n                }\n                // if it's jsonarray\n                if (obj.optJSONArray(key) != null) {\n                    JSONArray jArray = obj.getJSONArray(key);\n                    for (int i = 0; i &lt; jArray.length(); i++) {\n                        updateJson(keyString, newValue);\n                    }\n                }\n            }\n        }\n            System.out.println(&quot;Output array : &quot; + jsonArray);\n            return jsonArray;\n           }\n        return null;            \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13794080,"reputation":31,"user_id":9955682,"display_name":"MVJ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":673,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650186491,"creation_date":1579261064,"question_id":59786618,"body_markdown":"How to update few fields in JSON file and again read the JSON with updated values in selenium using Java.\r\n\r\nBelow is my JSON :\r\nI want to update \r\n\r\n```json\r\n{\n&quot;DemoFileJson&quot;: [\n{\r\n  &quot;name&quot;: &quot;demoPan&quot;,\r\n  &quot;Type&quot;: &quot;patientcare&quot;,\r\n  &quot;indication&quot;: &quot;fever&quot;,\r\n  &quot;disease&quot;: {\r\n    &quot;code&quot;: &quot;282292002&quot;,\r\n    &quot;label&quot;: &quot;Uncertain diagnosis&quot;\r\n  },\r\n\r\n  &quot;identified&quot;: false,\r\n\r\n  &quot;specimens&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;primarySpecimen&quot;,\r\n      &quot;type&quot;: {\r\n        &quot;code&quot;: &quot;442524009&quot;,\r\n        &quot;label&quot;: &quot;a.m. specimen&quot;\r\n      },\r\n      &quot;studyIdentifier&quot;: &quot;Stud1&quot;,\r\n      &quot;studySubjectIdentifier&quot;: &quot;Part1&quot;,\r\n      &quot;accessionNumber&quot;: &quot;TSO500-MJ678&quot;,\r\n      &quot;dateAccessioned&quot;: &quot;2019-03-29T20:00:00Z&quot;,\r\n      &quot;datecollected&quot;: &quot;2019-03-29T20:00:00Z&quot;,\r\n      &quot;dateReceived&quot;: &quot;2019-03-29T20:00:00Z&quot;\r\n    }\r\n  ]\r\n}\n]\n}","title":"How to update few fields in JSON file and again read the JSON with updated values in selenium using Java","body":"<p>How to update few fields in JSON file and again read the JSON with updated values in selenium using Java.</p>\n\n<p>Below is my JSON :\nI want to update </p>\n\n<pre><code>{\n\"DemoFileJson\": [\n{\n  \"name\": \"demoPan\",\n  \"Type\": \"patientcare\",\n  \"indication\": \"fever\",\n  \"disease\": {\n    \"code\": \"282292002\",\n    \"label\": \"Uncertain diagnosis\"\n  },\n\n  \"identified\": false,\n\n  \"specimens\": [\n    {\n      \"name\": \"primarySpecimen\",\n      \"type\": {\n        \"code\": \"442524009\",\n        \"label\": \"a.m. specimen\"\n      },\n      \"studyIdentifier\": \"Stud1\",\n      \"studySubjectIdentifier\": \"Part1\",\n      \"accessionNumber\": \"TSO500-MJ678\",\n      \"dateAccessioned\": \"2019-03-29T20:00:00Z\",\n      \"datecollected\": \"2019-03-29T20:00:00Z\",\n      \"dateReceived\": \"2019-03-29T20:00:00Z\"\n    }\n  ]\n}\n]\n}\n</code></pre>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":215364,"reputation":3722,"user_id":469983,"display_name":"Adinia"},"score":0,"creation_date":1559723617,"post_id":56454721,"comment_id":99505727,"body_markdown":"How do you know it&#39;s not working? By looking at `singleparsed`? If so, it&#39;s normal,  you need to move it after the lines where you put the new values.","body":"How do you know it&#39;s not working? By looking at <code>singleparsed</code>? If so, it&#39;s normal,  you need to move it after the lines where you put the new values."},{"owner":{"account_id":16064508,"reputation":19,"user_id":11594547,"display_name":"pavan sai"},"score":0,"creation_date":1559725930,"post_id":56454721,"comment_id":99506912,"body_markdown":"Yeah you were right but its not updating in link why??","body":"Yeah you were right but its not updating in link why??"},{"owner":{"account_id":215364,"reputation":3722,"user_id":469983,"display_name":"Adinia"},"score":0,"creation_date":1559725935,"post_id":56454721,"comment_id":99506916,"body_markdown":"Well, then show us all the code; here you are just creating a copy to the `JO` object with the new values, but you are not using it, nor publishing it back to the url.","body":"Well, then show us all the code; here you are just creating a copy to the <code>JO</code> object with the new values, but you are not using it, nor publishing it back to the url."},{"owner":{"account_id":16064508,"reputation":19,"user_id":11594547,"display_name":"pavan sai"},"score":0,"creation_date":1559727119,"post_id":56454721,"comment_id":99507478,"body_markdown":"this was the code and to post it back what to do?? Thanks","body":"this was the code and to post it back what to do?? Thanks"},{"owner":{"account_id":215364,"reputation":3722,"user_id":469983,"display_name":"Adinia"},"score":0,"creation_date":1559727947,"post_id":56454721,"comment_id":99507880,"body_markdown":"That&#39;s entirely another question; see [Android-POST Json with HttpUrlConnection](https://stackoverflow.com/q/40238360)","body":"That&#39;s entirely another question; see <a href=\"https://stackoverflow.com/q/40238360\">Android-POST Json with HttpUrlConnection</a>"},{"owner":{"account_id":16064508,"reputation":19,"user_id":11594547,"display_name":"pavan sai"},"score":0,"creation_date":1559737473,"post_id":56454721,"comment_id":99512224,"body_markdown":"i have gone through that but i didnt get where to use that method in above code??please help","body":"i have gone through that but i didnt get where to use that method in above code??please help"}],"answers":[{"tags":[],"owner":{"account_id":11123015,"reputation":1,"user_id":8165369,"display_name":"Mathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559717199,"creation_date":1559714185,"answer_id":56454916,"question_id":56454721,"body_markdown":"We can use JSON Object request instead of String request in Volley.\r\n\r\n    JSONObject obj = JSONObject()\r\n    obj.put(&quot;name&quot;, &quot;xxx&quot;)\r\n    obj.put(&quot;hit&quot;, false)\r\n    \r\n    Log.i(&quot;OutPut : &quot;,obj.toString())","title":"How to update element value in JsonObject?","body":"<p>We can use JSON Object request instead of String request in Volley.</p>\n\n<pre><code>JSONObject obj = JSONObject()\nobj.put(\"name\", \"xxx\")\nobj.put(\"hit\", false)\n\nLog.i(\"OutPut : \",obj.toString())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8052003,"reputation":134,"user_id":6070229,"display_name":"Chandan Yadav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559715545,"creation_date":1559715545,"answer_id":56455131,"question_id":56454721,"body_markdown":" You can override the value as you want putting the same key.\r\n    \r\n    \r\n    [ { &quot;name&quot;: &quot;pavan&quot;, &quot;hit&quot;: true } ]\r\n    \r\n    JsonObject jsonObj = new JsonObject();\r\n    jsonObj .put(&quot;name&quot;, &quot;Sai&quot;);\r\n    jsonObj .put(&quot;hit&quot;, false); \r\n","title":"How to update element value in JsonObject?","body":"<p>You can override the value as you want putting the same key.</p>\n\n<pre><code>[ { \"name\": \"pavan\", \"hit\": true } ]\n\nJsonObject jsonObj = new JsonObject();\njsonObj .put(\"name\", \"Sai\");\njsonObj .put(\"hit\", false); \n</code></pre>\n"}],"owner":{"account_id":16064508,"reputation":19,"user_id":11594547,"display_name":"pavan sai"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10274,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1650186395,"creation_date":1559712802,"question_id":56454721,"body_markdown":"I have a json file with parameters `name` and `hit`.\r\n\r\n    [{\r\n        &quot;name&quot;: &quot;pavan&quot;,\r\n        &quot;hit&quot;: true   \r\n    }]\r\n\r\nI would like to update `name` and `hit` to \r\n\r\n    [{\r\n        &quot;name&quot;: &quot;sai&quot;,\r\n        &quot;hit&quot;: false\r\n    }]\r\n\r\nI tried using `put` but it is not updating the values.\r\n\r\n\r\n    protected Void doInBackground(Void... voids) {\r\n    \r\n          /*  x = new ArrayList&lt;Entry&gt;();\r\n            y = new ArrayList&lt;String&gt;();*/\r\n            try {\r\n                URL url=new URL(&quot;https://api.myjson.com/bins/1854yb&quot;);\r\n                HttpURLConnection httpURLConnection=(HttpURLConnection) url.openConnection();\r\n                InputStream inputStream=httpURLConnection.getInputStream();\r\n                BufferedReader bufferedReader=new BufferedReader(new InputStreamReader(inputStream));\r\n                String line=&quot;&quot;;\r\n                while (line!=null)\r\n                {\r\n                    line=bufferedReader.readLine();\r\n                    data=data+line;\r\n                }\r\n                JSONArray JA=new JSONArray(data);\r\n                for(int i=0;i&lt;JA.length();i++)\r\n                {\r\n                    JSONObject JO= (JSONObject) JA.get(i);\r\n                    singleparsed=&quot;Name:&quot;+JO.get(&quot;name&quot;)+&quot;\\n&quot;+\r\n                            &quot;Hit:&quot;+JO.get(&quot;hit&quot;);\r\n                    \r\n                    JO.put(&quot;name&quot;,&quot;sai&quot;);\r\n                    JO.put(&quot;hit&quot;,false);\r\n    \r\n                    dataparsed=dataparsed+singleparsed;\r\n                }\r\n    \r\n    \r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return null;\r\n        }\r\n\r\nI want to update any element in that file, but it&#39;s not working.","title":"How to update element value in JsonObject?","body":"<p>I have a json file with parameters <code>name</code> and <code>hit</code>.</p>\n\n<pre><code>[{\n    \"name\": \"pavan\",\n    \"hit\": true   \n}]\n</code></pre>\n\n<p>I would like to update <code>name</code> and <code>hit</code> to </p>\n\n<pre><code>[{\n    \"name\": \"sai\",\n    \"hit\": false\n}]\n</code></pre>\n\n<p>I tried using <code>put</code> but it is not updating the values.</p>\n\n<pre><code>protected Void doInBackground(Void... voids) {\n\n      /*  x = new ArrayList&lt;Entry&gt;();\n        y = new ArrayList&lt;String&gt;();*/\n        try {\n            URL url=new URL(\"https://api.myjson.com/bins/1854yb\");\n            HttpURLConnection httpURLConnection=(HttpURLConnection) url.openConnection();\n            InputStream inputStream=httpURLConnection.getInputStream();\n            BufferedReader bufferedReader=new BufferedReader(new InputStreamReader(inputStream));\n            String line=\"\";\n            while (line!=null)\n            {\n                line=bufferedReader.readLine();\n                data=data+line;\n            }\n            JSONArray JA=new JSONArray(data);\n            for(int i=0;i&lt;JA.length();i++)\n            {\n                JSONObject JO= (JSONObject) JA.get(i);\n                singleparsed=\"Name:\"+JO.get(\"name\")+\"\\n\"+\n                        \"Hit:\"+JO.get(\"hit\");\n\n                JO.put(\"name\",\"sai\");\n                JO.put(\"hit\",false);\n\n                dataparsed=dataparsed+singleparsed;\n            }\n\n\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n</code></pre>\n\n<p>I want to update any element in that file, but it's not working.</p>\n"},{"tags":["java","opencv","computer-vision","edge-detection"],"comments":[{"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"score":0,"creation_date":1650185729,"post_id":71893073,"comment_id":127053608,"body_markdown":"After posting the answer, I tried your JAVA code, and the problem is not reproducible (I downloaded the JAVA code only now). I saw you replaced `200.3` with `200,3`. Did you fix the issue, or is it a result of using different OpenCV version? I also updated my post with suggested simplified version of JAVA implementation.","body":"After posting the answer, I tried your JAVA code, and the problem is not reproducible (I downloaded the JAVA code only now). I saw you replaced <code>200.3</code> with <code>200,3</code>. Did you fix the issue, or is it a result of using different OpenCV version? I also updated my post with suggested simplified version of JAVA implementation."}],"answers":[{"tags":[],"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650185375,"creation_date":1650148530,"answer_id":71897951,"question_id":71893073,"body_markdown":"The main issue is applying `findContours` after Canny edge detection.  \r\n\r\nThe Canny operator creates small gaps in the external contours:  \r\n[![enter image description here][1]][1]  \r\n\r\nIn combination with `approxPolyDP`, we are getting weird results.  \r\n\r\n---\r\n\r\nSimple solution is skipping the Canny operator and applying `findContours` on `dilatedMat`.  \r\n\r\nReplace `Imgproc.findContours(cannyMat, contours, hierarchy, Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);` with:  \r\n\r\n    Imgproc.findContours(dilatedMat, contours, hierarchy, Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\r\n\r\nNote: using `RETR_EXTERNAL` is recommended but not a must in this case.  \r\n\r\n---\r\n\r\nA minor issue is that there are small contours that are result of noise.  \r\nWe may use [opening][2] morphological operation for removing the small (noise) contours (better applied before dilate).  \r\n\r\nAnother simple solution is skipping contours with small area.  \r\nI found out that area below 10000 pixels may considered &quot;small&quot;.  \r\n\r\n\r\nIn the for loop add an if statement:  \r\n\r\n    double area = Imgproc.contourArea(cnt);\r\n    if (area &gt; 10000) { // Exclude small contours (noise)...\r\n\r\n---\r\n\r\nOutput:  \r\n\r\n[![enter image description here][3]][3]\r\n\r\n---\r\n\r\nI converted the code to Python (the JAVA code is kept in the comments).\r\n\r\nComplete code sample:  \r\n\r\n&lt;!-- language: lang-python --&gt;\r\n\r\n    import cv2\r\n    import numpy as np\r\n    \r\n    srcMat = cv2.imread(&#39;receipts.jpg&#39;)  # Read input image\r\n    cv2.resize(srcMat, (0, 0), srcMat, 0.1, 0.1, cv2.INTER_AREA)  # Imgproc.resize (srcMat, srcMat, new Size (0,0), 0.5, 0.5, Imgproc.INTER_AREA);\r\n    grayMat = cv2.cvtColor(srcMat, cv2.COLOR_BGR2GRAY)  # grayMat = Imgproc.cvtColor (srcMat, grayMat, Imgproc.COLOR_BGR2GRAY);\r\n    grayMat = cv2.threshold(grayMat, 177, 200, cv2.THRESH_BINARY)[1]  # Imgproc.threshold (grayMat, grayMat, 177, 200, Imgproc.THRESH_BINARY);\r\n    blurredMat = cv2.GaussianBlur(grayMat, ksize=(21, 21), sigmaX=0, sigmaY=0)  # Imgproc.GaussianBlur (grayMat, blurredMat, new Size (21,21), 0, 0, Core.BORDER_DEFAULT); // 3,3, 9,9 15,15, ....\r\n    \r\n    rectKernel = cv2.getStructuringElement(cv2.MORPH_RECT, (21, 21))  # Mat rectKernel = Imgproc.getStructuringElement (Imgproc.MORPH_RECT, new Size (21,21));\r\n    \r\n    dilatedMat = cv2.dilate(blurredMat, rectKernel)  # Imgproc.dilate (blurredMat, dilatedMat, rectKernel, new Point (0,0), 1);\r\n    cannyMat = cv2.Canny(dilatedMat, 100, 200.3)  # Imgproc.Canny (dilatedMat, cannyMat, 100,200.3);\r\n    \r\n    # List &lt;MatOfPoint&gt; contours = new ArrayList &lt;MatOfPoint&gt; ();\r\n    # final Mat hierarchy = new Mat ();\r\n    #contours, hierarchy = cv2.findContours(cannyMat, cv2.RETR_TREE, cv2.CHAIN_APPROX_SIMPLE)  # Imgproc.findContours(cannyMat, contours, hierarchy, Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);\r\n    \r\n    # Find contours over dilatedMat (the Canny operator creates gaps in the external contour).\r\n    contours, hierarchy = cv2.findContours(dilatedMat, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)  # Imgproc.findContours(dilatedMat, contours, hierarchy, Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\r\n    \r\n    \r\n    # Use cv2.RETR_EXTERNAL instead of cv2.RETR_TREE\r\n    #contours, hierarchy = cv2.findContours(cannyMat, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)  # Imgproc.findContours(cannyMat, contours, hierarchy, Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);\r\n    \r\n    cntImg = srcMat.copy()\r\n    # Mark best_cnt with green line - used for testing\r\n    cv2.drawContours(cntImg, contours, -1, (0, 255, 0), 20)\r\n    \r\n    # for(MatOfPoint cnt : contours) {\r\n    for cnt  in contours:\r\n        area = cv2.contourArea(cnt)\r\n    \r\n        # Exclude small contours (noise)\r\n        if area &gt; 10000:\r\n            mop2f = cv2.approxPolyDP(cnt, 0.02 * cv2.arcLength(cnt, True), True)  # Imgproc.approxPolyDP(mop2f, mop2f, 0.02*Imgproc.arcLength(mop2f, true), true);\r\n            rr = cv2.minAreaRect(mop2f) #  RotatedRect rr = Imgproc.minAreaRect(mop2f);\r\n            m = cv2.boxPoints(rr) # Imgproc.boxPoints(rr, m);  \r\n    \r\n            # Point[] rectPoints = new Point[4];\r\n            # rr.points(rectPoints);\r\n            rectPoints = np.int0(m)  # Convert all coordinates floating point values to int\r\n    \r\n            # for (int j = 0; j &lt; 4; ++j) {\r\n            #     Imgproc.line(srcMat, rectPoints[j], rectPoints[(j + 1) % 4], new Scalar(0,255,0), 20); }    \r\n            #for j in range(4):\r\n            #    cv2.line(srcMat, tuple(rectPoints[j]), tuple(rectPoints[(j + 1) % 4]), (0, 255, 0), 20)  # Imgproc.line(srcMat, rectPoints[j], rectPoints[(j + 1) % 4], new Scalar(0,255,0), 20);\r\n    \r\n            # Deaw the rectangles using drawContours instead of drawing lines\r\n            # https://stackoverflow.com/questions/18207181/opencv-python-draw-minarearect-rotatedrect-not-implemented\r\n            cv2.drawContours(srcMat, [rectPoints], 0, (0, 255, 0), 20)\r\n    \r\n            boundingRect = cv2.boundingRect(cnt)  # Rect boundingRect = Imgproc.boundingRect(cnt);\r\n            cv2.rectangle(srcMat, boundingRect, (0, 0, 255), 20)  # Imgproc.rectangle(srcMat, boundingRect, new Scalar(0,0,255),20); //scalar not is RGB but BGR !\r\n\r\n---\r\n\r\nSimplifying the implementation (suggestion):  \r\n\r\n - Use `Imgproc.THRESH_OTSU` for automatic threshold selection.  \r\n - There is no need to apply `GaussianBlur`.\r\n - Use closing instead of dilate.\r\n - There is no need to apply `Canny`.\r\n\r\nSuggested JAVA code:  \r\n\r\n    package myproject; //package it.neo7bf;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.opencv.core.Core;\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.core.MatOfPoint;\r\n    import org.opencv.core.MatOfPoint2f;\r\n    import org.opencv.core.Point;\r\n    import org.opencv.core.Rect;\r\n    import org.opencv.core.RotatedRect;\r\n    import org.opencv.core.Scalar;\r\n    import org.opencv.core.Size;\r\n    import org.opencv.imgcodecs.Imgcodecs;\r\n    import org.opencv.imgproc.Imgproc;\r\n    \r\n    //import nu.pattern.OpenCV;\r\n    \r\n    public class SeparationTest3 {\r\n        \r\n        static { System.loadLibrary(Core.NATIVE_LIBRARY_NAME); }\r\n        \r\n        static class I {\r\n            public String name;\r\n            public int v;\r\n            I(String name, int v) {\r\n                this.name = name;\r\n                this.v = v;\r\n            }\r\n        }\r\n        \r\n        public static void cannyTest() {\r\n    \r\n            List&lt;I&gt; images = List.of(\r\n                new I(&quot;2022-04-16_085329&quot;,3)\r\n            );\r\n    \r\n            for(I image : images) {\r\n    \r\n                Mat srcMat = Imgcodecs.imread(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\&quot;+image.name+&quot;.jpg&quot;);\r\n                \r\n                Mat grayMat = new Mat();\r\n                //Mat blurredMat = new Mat();\r\n                Mat dilatedMat = new Mat();\r\n                //Mat cannyMat = new Mat();\r\n                \r\n    \r\n                Imgproc.resize(srcMat, srcMat, new Size(0,0), 0.5, 0.5, Imgproc.INTER_AREA);\r\n                Imgproc.cvtColor(srcMat, grayMat, Imgproc.COLOR_BGR2GRAY);\r\n                //Imgproc.threshold(grayMat, grayMat, 177, 200, Imgproc.THRESH_BINARY);\r\n                Imgproc.threshold(grayMat, grayMat, 0, 255, Imgproc.THRESH_OTSU);  //Use automatic threshold\r\n                \r\n                //There is no need to blur the image after threshold\r\n                //Imgproc.GaussianBlur(grayMat, blurredMat, new Size(21,21),0, 0,Core.BORDER_DEFAULT); //3,3, 9,9 15,15,....\r\n                    \r\n                Mat rectKernel = Imgproc.getStructuringElement(Imgproc.MORPH_RECT, new Size(21,21));\r\n                \r\n                //Imgproc.dilate(blurredMat, dilatedMat, rectKernel, new Point(0,0),1);\r\n                Imgproc.morphologyEx(grayMat, dilatedMat, Imgproc.MORPH_CLOSE, rectKernel);  // Use closing instead of dilate\r\n                //Imgproc.Canny(dilatedMat,cannyMat,100,200,3); //No need for Canny\r\n                \r\n                List&lt;MatOfPoint&gt; contours = new ArrayList&lt;MatOfPoint&gt;();\r\n                final Mat hierarchy = new Mat();\r\n        \r\n                //Imgproc.findContours(cannyMat, contours, hierarchy, Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);\r\n                \r\n                Imgproc.findContours(dilatedMat, contours, hierarchy, Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\r\n                \r\n                //contours = getMaxContours(contours,image.v);\r\n                \r\n                for(MatOfPoint cnt : contours) {\r\n                    double area = Imgproc.contourArea(cnt);\r\n                    if (area &gt; 10000) //Ignore small contours\r\n                    {\r\n                        MatOfPoint2f mop2f = new MatOfPoint2f(cnt.toArray());\r\n                        Imgproc.approxPolyDP(mop2f, mop2f, 0.02*Imgproc.arcLength(mop2f, true), true);\r\n                        RotatedRect rr = Imgproc.minAreaRect(mop2f);\r\n                        MatOfPoint m = new MatOfPoint();                    \r\n                        Imgproc.boxPoints(rr, m);\r\n                        Point[] rectPoints = new Point[4];          \r\n                        rr.points(rectPoints);\r\n                        for (int j = 0; j &lt; 4; ++j) {\r\n                          Imgproc.line(srcMat, rectPoints[j], rectPoints[(j + 1) % 4], new Scalar(0,255,0), 20); \r\n                        }\r\n    \r\n                        //BoundingBox\r\n                        Rect boundingRect = Imgproc.boundingRect(cnt);\r\n                        Imgproc.rectangle(srcMat, boundingRect, new Scalar(0,0,255),20); //scalar not is RGB but BGR !\r\n                    }\r\n                }\r\n                        \r\n                //C:\\ProgettoScontrino\\scontrini\\campioni-test\\test-separazione\\output\\\r\n                Imgcodecs.imwrite(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\output\\\\&quot;+image.name+&quot;gray.jpg&quot;, grayMat);\r\n                //Imgcodecs.imwrite(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\output\\\\&quot;+image.name+&quot;blurred.jpg&quot;, blurredMat);\r\n                Imgcodecs.imwrite(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\output\\\\&quot;+image.name+&quot;dilated.jpg&quot;, dilatedMat);\r\n                //Imgcodecs.imwrite(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\output\\\\&quot;+image.name+&quot;canny.jpg&quot;, cannyMat);\r\n                Imgcodecs.imwrite(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\output\\\\&quot;+image.name+&quot;contours.jpg&quot;, srcMat);\r\n            }\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            cannyTest();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2UQjV.png\r\n  [2]: https://en.wikipedia.org/wiki/Opening_(morphology)\r\n  [3]: https://i.stack.imgur.com/4bR9Q.png","title":"Why i can&#39;t correctly select the rectangular areas with java opencv?","body":"<p>The main issue is applying <code>findContours</code> after Canny edge detection.</p>\n<p>The Canny operator creates small gaps in the external contours:<br />\n<a href=\"https://i.stack.imgur.com/2UQjV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2UQjV.png\" alt=\"enter image description here\" /></a></p>\n<p>In combination with <code>approxPolyDP</code>, we are getting weird results.</p>\n<hr />\n<p>Simple solution is skipping the Canny operator and applying <code>findContours</code> on <code>dilatedMat</code>.</p>\n<p>Replace <code>Imgproc.findContours(cannyMat, contours, hierarchy, Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);</code> with:</p>\n<pre><code>Imgproc.findContours(dilatedMat, contours, hierarchy, Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\n</code></pre>\n<p>Note: using <code>RETR_EXTERNAL</code> is recommended but not a must in this case.</p>\n<hr />\n<p>A minor issue is that there are small contours that are result of noise.<br />\nWe may use <a href=\"https://en.wikipedia.org/wiki/Opening_(morphology)\" rel=\"nofollow noreferrer\">opening</a> morphological operation for removing the small (noise) contours (better applied before dilate).</p>\n<p>Another simple solution is skipping contours with small area.<br />\nI found out that area below 10000 pixels may considered &quot;small&quot;.</p>\n<p>In the for loop add an if statement:</p>\n<pre><code>double area = Imgproc.contourArea(cnt);\nif (area &gt; 10000) { // Exclude small contours (noise)...\n</code></pre>\n<hr />\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/4bR9Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4bR9Q.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>I converted the code to Python (the JAVA code is kept in the comments).</p>\n<p>Complete code sample:</p>\n<pre class=\"lang-python prettyprint-override\"><code>import cv2\nimport numpy as np\n\nsrcMat = cv2.imread('receipts.jpg')  # Read input image\ncv2.resize(srcMat, (0, 0), srcMat, 0.1, 0.1, cv2.INTER_AREA)  # Imgproc.resize (srcMat, srcMat, new Size (0,0), 0.5, 0.5, Imgproc.INTER_AREA);\ngrayMat = cv2.cvtColor(srcMat, cv2.COLOR_BGR2GRAY)  # grayMat = Imgproc.cvtColor (srcMat, grayMat, Imgproc.COLOR_BGR2GRAY);\ngrayMat = cv2.threshold(grayMat, 177, 200, cv2.THRESH_BINARY)[1]  # Imgproc.threshold (grayMat, grayMat, 177, 200, Imgproc.THRESH_BINARY);\nblurredMat = cv2.GaussianBlur(grayMat, ksize=(21, 21), sigmaX=0, sigmaY=0)  # Imgproc.GaussianBlur (grayMat, blurredMat, new Size (21,21), 0, 0, Core.BORDER_DEFAULT); // 3,3, 9,9 15,15, ....\n\nrectKernel = cv2.getStructuringElement(cv2.MORPH_RECT, (21, 21))  # Mat rectKernel = Imgproc.getStructuringElement (Imgproc.MORPH_RECT, new Size (21,21));\n\ndilatedMat = cv2.dilate(blurredMat, rectKernel)  # Imgproc.dilate (blurredMat, dilatedMat, rectKernel, new Point (0,0), 1);\ncannyMat = cv2.Canny(dilatedMat, 100, 200.3)  # Imgproc.Canny (dilatedMat, cannyMat, 100,200.3);\n\n# List &lt;MatOfPoint&gt; contours = new ArrayList &lt;MatOfPoint&gt; ();\n# final Mat hierarchy = new Mat ();\n#contours, hierarchy = cv2.findContours(cannyMat, cv2.RETR_TREE, cv2.CHAIN_APPROX_SIMPLE)  # Imgproc.findContours(cannyMat, contours, hierarchy, Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);\n\n# Find contours over dilatedMat (the Canny operator creates gaps in the external contour).\ncontours, hierarchy = cv2.findContours(dilatedMat, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)  # Imgproc.findContours(dilatedMat, contours, hierarchy, Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\n\n\n# Use cv2.RETR_EXTERNAL instead of cv2.RETR_TREE\n#contours, hierarchy = cv2.findContours(cannyMat, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)  # Imgproc.findContours(cannyMat, contours, hierarchy, Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);\n\ncntImg = srcMat.copy()\n# Mark best_cnt with green line - used for testing\ncv2.drawContours(cntImg, contours, -1, (0, 255, 0), 20)\n\n# for(MatOfPoint cnt : contours) {\nfor cnt  in contours:\n    area = cv2.contourArea(cnt)\n\n    # Exclude small contours (noise)\n    if area &gt; 10000:\n        mop2f = cv2.approxPolyDP(cnt, 0.02 * cv2.arcLength(cnt, True), True)  # Imgproc.approxPolyDP(mop2f, mop2f, 0.02*Imgproc.arcLength(mop2f, true), true);\n        rr = cv2.minAreaRect(mop2f) #  RotatedRect rr = Imgproc.minAreaRect(mop2f);\n        m = cv2.boxPoints(rr) # Imgproc.boxPoints(rr, m);  \n\n        # Point[] rectPoints = new Point[4];\n        # rr.points(rectPoints);\n        rectPoints = np.int0(m)  # Convert all coordinates floating point values to int\n\n        # for (int j = 0; j &lt; 4; ++j) {\n        #     Imgproc.line(srcMat, rectPoints[j], rectPoints[(j + 1) % 4], new Scalar(0,255,0), 20); }    \n        #for j in range(4):\n        #    cv2.line(srcMat, tuple(rectPoints[j]), tuple(rectPoints[(j + 1) % 4]), (0, 255, 0), 20)  # Imgproc.line(srcMat, rectPoints[j], rectPoints[(j + 1) % 4], new Scalar(0,255,0), 20);\n\n        # Deaw the rectangles using drawContours instead of drawing lines\n        # https://stackoverflow.com/questions/18207181/opencv-python-draw-minarearect-rotatedrect-not-implemented\n        cv2.drawContours(srcMat, [rectPoints], 0, (0, 255, 0), 20)\n\n        boundingRect = cv2.boundingRect(cnt)  # Rect boundingRect = Imgproc.boundingRect(cnt);\n        cv2.rectangle(srcMat, boundingRect, (0, 0, 255), 20)  # Imgproc.rectangle(srcMat, boundingRect, new Scalar(0,0,255),20); //scalar not is RGB but BGR !\n</code></pre>\n<hr />\n<p>Simplifying the implementation (suggestion):</p>\n<ul>\n<li>Use <code>Imgproc.THRESH_OTSU</code> for automatic threshold selection.</li>\n<li>There is no need to apply <code>GaussianBlur</code>.</li>\n<li>Use closing instead of dilate.</li>\n<li>There is no need to apply <code>Canny</code>.</li>\n</ul>\n<p>Suggested JAVA code:</p>\n<pre><code>package myproject; //package it.neo7bf;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.core.MatOfPoint;\nimport org.opencv.core.MatOfPoint2f;\nimport org.opencv.core.Point;\nimport org.opencv.core.Rect;\nimport org.opencv.core.RotatedRect;\nimport org.opencv.core.Scalar;\nimport org.opencv.core.Size;\nimport org.opencv.imgcodecs.Imgcodecs;\nimport org.opencv.imgproc.Imgproc;\n\n//import nu.pattern.OpenCV;\n\npublic class SeparationTest3 {\n    \n    static { System.loadLibrary(Core.NATIVE_LIBRARY_NAME); }\n    \n    static class I {\n        public String name;\n        public int v;\n        I(String name, int v) {\n            this.name = name;\n            this.v = v;\n        }\n    }\n    \n    public static void cannyTest() {\n\n        List&lt;I&gt; images = List.of(\n            new I(&quot;2022-04-16_085329&quot;,3)\n        );\n\n        for(I image : images) {\n\n            Mat srcMat = Imgcodecs.imread(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\&quot;+image.name+&quot;.jpg&quot;);\n            \n            Mat grayMat = new Mat();\n            //Mat blurredMat = new Mat();\n            Mat dilatedMat = new Mat();\n            //Mat cannyMat = new Mat();\n            \n\n            Imgproc.resize(srcMat, srcMat, new Size(0,0), 0.5, 0.5, Imgproc.INTER_AREA);\n            Imgproc.cvtColor(srcMat, grayMat, Imgproc.COLOR_BGR2GRAY);\n            //Imgproc.threshold(grayMat, grayMat, 177, 200, Imgproc.THRESH_BINARY);\n            Imgproc.threshold(grayMat, grayMat, 0, 255, Imgproc.THRESH_OTSU);  //Use automatic threshold\n            \n            //There is no need to blur the image after threshold\n            //Imgproc.GaussianBlur(grayMat, blurredMat, new Size(21,21),0, 0,Core.BORDER_DEFAULT); //3,3, 9,9 15,15,....\n                \n            Mat rectKernel = Imgproc.getStructuringElement(Imgproc.MORPH_RECT, new Size(21,21));\n            \n            //Imgproc.dilate(blurredMat, dilatedMat, rectKernel, new Point(0,0),1);\n            Imgproc.morphologyEx(grayMat, dilatedMat, Imgproc.MORPH_CLOSE, rectKernel);  // Use closing instead of dilate\n            //Imgproc.Canny(dilatedMat,cannyMat,100,200,3); //No need for Canny\n            \n            List&lt;MatOfPoint&gt; contours = new ArrayList&lt;MatOfPoint&gt;();\n            final Mat hierarchy = new Mat();\n    \n            //Imgproc.findContours(cannyMat, contours, hierarchy, Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);\n            \n            Imgproc.findContours(dilatedMat, contours, hierarchy, Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\n            \n            //contours = getMaxContours(contours,image.v);\n            \n            for(MatOfPoint cnt : contours) {\n                double area = Imgproc.contourArea(cnt);\n                if (area &gt; 10000) //Ignore small contours\n                {\n                    MatOfPoint2f mop2f = new MatOfPoint2f(cnt.toArray());\n                    Imgproc.approxPolyDP(mop2f, mop2f, 0.02*Imgproc.arcLength(mop2f, true), true);\n                    RotatedRect rr = Imgproc.minAreaRect(mop2f);\n                    MatOfPoint m = new MatOfPoint();                    \n                    Imgproc.boxPoints(rr, m);\n                    Point[] rectPoints = new Point[4];          \n                    rr.points(rectPoints);\n                    for (int j = 0; j &lt; 4; ++j) {\n                      Imgproc.line(srcMat, rectPoints[j], rectPoints[(j + 1) % 4], new Scalar(0,255,0), 20); \n                    }\n\n                    //BoundingBox\n                    Rect boundingRect = Imgproc.boundingRect(cnt);\n                    Imgproc.rectangle(srcMat, boundingRect, new Scalar(0,0,255),20); //scalar not is RGB but BGR !\n                }\n            }\n                    \n            //C:\\ProgettoScontrino\\scontrini\\campioni-test\\test-separazione\\output\\\n            Imgcodecs.imwrite(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\output\\\\&quot;+image.name+&quot;gray.jpg&quot;, grayMat);\n            //Imgcodecs.imwrite(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\output\\\\&quot;+image.name+&quot;blurred.jpg&quot;, blurredMat);\n            Imgcodecs.imwrite(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\output\\\\&quot;+image.name+&quot;dilated.jpg&quot;, dilatedMat);\n            //Imgcodecs.imwrite(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\output\\\\&quot;+image.name+&quot;canny.jpg&quot;, cannyMat);\n            Imgcodecs.imwrite(&quot;C:\\\\ProgettoScontrino\\\\scontrini\\\\campioni-test\\\\test-separazione\\\\output\\\\&quot;+image.name+&quot;contours.jpg&quot;, srcMat);\n        }\n    }\n    \n    public static void main(String[] args) {\n        cannyTest();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5422650,"reputation":151,"user_id":4315871,"display_name":"Forcuti Alessandro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71897951,"answer_count":1,"score":1,"last_activity_date":1650185375,"creation_date":1650104786,"question_id":71893073,"body_markdown":"through opencv I would like to select the areas of the receipts from images like this:\r\n\r\nhttps://i.imgur.com/BnXzWPe.jpg\r\n\r\nand then crop them and save them in separate files.\r\n\r\nThe image was scanned at 1200 Dpi by superimposing a black cardboard over the receipts to better identify the edges.\r\n\r\nSo far I have come to the following result:\r\n\r\nhttps://i.imgur.com/tRaPocd.jpg\r\n\r\nwhere you can see in red the bounding box rectangle containing the receipt and in green the rectangle with the minimum area.\r\n\r\nDespite the correct identification of the edges with Canny:\r\n\r\nhttps://i.stack.imgur.com/aULhG.jpg\r\n\r\nthe central image green area is not correct and I cannot understand why.\r\n\r\nThis is an excerpt from the source code that you can find here in full: https://pastebin.com/NNc18pzA\r\n\r\n    Imgproc.resize (srcMat, srcMat, new Size (0,0), 0.5, 0.5, Imgproc.INTER_AREA);\r\n    Imgproc.cvtColor (srcMat, grayMat, Imgproc.COLOR_BGR2GRAY);\r\n    Imgproc.threshold (grayMat, grayMat, 177, 200, Imgproc.THRESH_BINARY);\r\n    Imgproc.GaussianBlur (grayMat, blurredMat, new Size (21,21), 0, 0, Core.BORDER_DEFAULT); // 3,3, 9,9 15,15, ....\r\n    \r\n    Mat rectKernel = Imgproc.getStructuringElement (Imgproc.MORPH_RECT, new Size (21,21));\r\n    \r\n    Imgproc.dilate (blurredMat, dilatedMat, rectKernel, new Point (0,0), 1);\r\n    Imgproc.Canny (dilatedMat, cannyMat, 100,200.3);\r\n    \r\n    List &lt;MatOfPoint&gt; contours = new ArrayList &lt;MatOfPoint&gt; ();\r\n    final Mat hierarchy = new Mat ();\r\n    \r\n    Imgproc.findContours (cannyMat, contours, hierarchy, Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);\r\n\r\n\r\nThese are the images processed in the intermediate stages:\r\n\r\ngrayed:\r\nhttps://i.imgur.com/ufeIMQT.jpg\r\n\r\nblurred:\r\nhttps://i.stack.imgur.com/2M6GW.jpg\r\n\r\ndilated:\r\nhttps://i.stack.imgur.com/CPlj4.jpg\r\n\r\nthis is the version of opencv used:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.openpnp&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;opencv&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.3.0-2&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n\r\n \r\n\r\n\r\nPlease help me.\r\n\r\nThank you all.","title":"Why i can&#39;t correctly select the rectangular areas with java opencv?","body":"<p>through opencv I would like to select the areas of the receipts from images like this:</p>\n<p><a href=\"https://i.imgur.com/BnXzWPe.jpg\" rel=\"nofollow noreferrer\">https://i.imgur.com/BnXzWPe.jpg</a></p>\n<p>and then crop them and save them in separate files.</p>\n<p>The image was scanned at 1200 Dpi by superimposing a black cardboard over the receipts to better identify the edges.</p>\n<p>So far I have come to the following result:</p>\n<p><a href=\"https://i.imgur.com/tRaPocd.jpg\" rel=\"nofollow noreferrer\">https://i.imgur.com/tRaPocd.jpg</a></p>\n<p>where you can see in red the bounding box rectangle containing the receipt and in green the rectangle with the minimum area.</p>\n<p>Despite the correct identification of the edges with Canny:</p>\n<p><a href=\"https://i.stack.imgur.com/aULhG.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/aULhG.jpg</a></p>\n<p>the central image green area is not correct and I cannot understand why.</p>\n<p>This is an excerpt from the source code that you can find here in full: <a href=\"https://pastebin.com/NNc18pzA\" rel=\"nofollow noreferrer\">https://pastebin.com/NNc18pzA</a></p>\n<pre><code>Imgproc.resize (srcMat, srcMat, new Size (0,0), 0.5, 0.5, Imgproc.INTER_AREA);\nImgproc.cvtColor (srcMat, grayMat, Imgproc.COLOR_BGR2GRAY);\nImgproc.threshold (grayMat, grayMat, 177, 200, Imgproc.THRESH_BINARY);\nImgproc.GaussianBlur (grayMat, blurredMat, new Size (21,21), 0, 0, Core.BORDER_DEFAULT); // 3,3, 9,9 15,15, ....\n\nMat rectKernel = Imgproc.getStructuringElement (Imgproc.MORPH_RECT, new Size (21,21));\n\nImgproc.dilate (blurredMat, dilatedMat, rectKernel, new Point (0,0), 1);\nImgproc.Canny (dilatedMat, cannyMat, 100,200.3);\n\nList &lt;MatOfPoint&gt; contours = new ArrayList &lt;MatOfPoint&gt; ();\nfinal Mat hierarchy = new Mat ();\n\nImgproc.findContours (cannyMat, contours, hierarchy, Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE);\n</code></pre>\n<p>These are the images processed in the intermediate stages:</p>\n<p>grayed:\n<a href=\"https://i.imgur.com/ufeIMQT.jpg\" rel=\"nofollow noreferrer\">https://i.imgur.com/ufeIMQT.jpg</a></p>\n<p>blurred:\n<a href=\"https://i.stack.imgur.com/2M6GW.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/2M6GW.jpg</a></p>\n<p>dilated:\n<a href=\"https://i.stack.imgur.com/CPlj4.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/CPlj4.jpg</a></p>\n<p>this is the version of opencv used:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.openpnp&lt;/groupId&gt;\n    &lt;artifactId&gt;opencv&lt;/artifactId&gt;\n    &lt;version&gt;4.3.0-2&lt;/version&gt;\n&lt;/dependency&gt; \n</code></pre>\n<p>Please help me.</p>\n<p>Thank you all.</p>\n"},{"tags":["java","android","flutter","maven","gradle"],"answers":[{"tags":[],"owner":{"account_id":3438445,"reputation":1239,"user_id":2880947,"accept_rate":75,"display_name":"Gerry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649844602,"creation_date":1649842867,"answer_id":71855258,"question_id":71855169,"body_markdown":"It seems like some configuration files for android are missing.\r\n\r\nTry reinstalling the Android SDK.\r\n\r\nTo do this, you need to uninstall from SDK Manager and then reinstall it.\r\n\r\nFind it by: Clicking Tools &gt; SDK Manager.\r\n\r\n\r\n","title":"flutter gradle build failed with gradle 4.2.2 and sdk version 31","body":"<p>It seems like some configuration files for android are missing.</p>\n<p>Try reinstalling the Android SDK.</p>\n<p>To do this, you need to uninstall from SDK Manager and then reinstall it.</p>\n<p>Find it by: Clicking Tools &gt; SDK Manager.</p>\n"},{"tags":[],"owner":{"account_id":2566496,"reputation":2586,"user_id":2226388,"accept_rate":54,"display_name":"questionasker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650185085,"creation_date":1650185085,"answer_id":71900507,"question_id":71855169,"body_markdown":"I finally solve this issue by downgrade my Gradle version to `4.1.0`\r\n\r\n    dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:4.1.0&#39;\r\n            ...        \r\n    }","title":"flutter gradle build failed with gradle 4.2.2 and sdk version 31","body":"<p>I finally solve this issue by downgrade my Gradle version to <code>4.1.0</code></p>\n<pre><code>dependencies {\n        classpath 'com.android.tools.build:gradle:4.1.0'\n        ...        \n}\n</code></pre>\n"}],"owner":{"account_id":2566496,"reputation":2586,"user_id":2226388,"accept_rate":54,"display_name":"questionasker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3754,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71900507,"answer_count":2,"score":3,"last_activity_date":1650185085,"creation_date":1649842448,"question_id":71855169,"body_markdown":"I get below error when building flutter mobile apps:\r\n\r\n```\r\n* What went wrong:\r\nExecution failed for task &#39;:location_permissions:parseReleaseLocalResources&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:location_permissions:androidApis&#39;.\r\n   &gt; Failed to transform android.jar to match attributes {artifactType=android-platform-attr, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\r\n      &gt; Execution failed for PlatformAttrTransform: C:\\Users\\zukijuki\\AppData\\Local\\Android\\sdk\\platforms\\android-29\\android.jar.\r\n         &gt; C:\\Users\\zukijuki\\AppData\\Local\\Android\\sdk\\platforms\\android-29\\android.jar\r\n```\r\n\r\nmy `android/build.gradle` conf:\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        maven {\r\n            url &#39;https://maven.fabric.io/public&#39;\r\n        }\r\n        maven {\r\n            url &#39;https://plugins.gradle.org/m2/&#39;\r\n        }\r\n        maven {\r\n            url &#39;https://maven.google.com&#39;\r\n        }\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.2.2&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.3&#39;\r\n        classpath &#39;io.fabric.tools:gradle:1.28.1&#39;        \r\n    }\r\n}\r\n``` \r\n\r\nand below `app/build.gradle`:\r\n\r\n```\r\n...\r\n\r\nandroid {\r\n    compileSdkVersion 31\r\n    buildToolsVersion &#39;28.0.3&#39;\r\n\r\n    lintOptions {\r\n        //disable &#39;InvalidPackage&#39;\r\n    }\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example&quot;\r\n        minSdkVersion 22\r\n        multiDexEnabled true\r\n        targetSdkVersion 30\r\n        versionCode flutterVersionCode.toInteger()\r\n        versionName flutterVersionName\r\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        resConfigs &quot;en&quot;, &quot;US&quot;\r\n    }\r\n    \r\n    ...\r\n\r\n}\r\n\r\nflutter {\r\n    source &#39;../..&#39;\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation(&quot;com.google.android.gms:play-services-base:17.0.0&quot;){ force = true } \r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n    androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n\r\n    implementation &#39;com.google.android.gms:play-services-location:16.0.0&#39;\r\n    implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n    implementation &#39;com.facebook.android:facebook-android-sdk:[5,6)&#39;\r\n\r\n\r\n}\r\n\r\nconfigurations {\r\n    all*.exclude group: &#39;com.google.guava&#39;, module: &#39;listenablefuture&#39;\r\n}\r\n\r\n\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\napply plugin: &#39;io.fabric&#39;\r\n```\r\n\r\n\r\nany idea to fix the above problem?\r\n\r\nThank you in advance...\r\n\r\n\r\n===**update**\r\n\r\n1) gradle.properties\r\n```\r\norg.gradle.jvmargs=-Xmx1536M\r\nandroid.useAndroidX=true\r\nandroid.enableJetifier=true\r\nandroid.enableR8=true\r\n```\r\n\r\n2) Build using `Android Studio Bumblebee | 2021.1.1 Patch 3`\r\n\r\n3) Reinstall API Level 29,30,31,32 still cant resolve.","title":"flutter gradle build failed with gradle 4.2.2 and sdk version 31","body":"<p>I get below error when building flutter mobile apps:</p>\n<pre><code>* What went wrong:\nExecution failed for task ':location_permissions:parseReleaseLocalResources'.\n&gt; Could not resolve all files for configuration ':location_permissions:androidApis'.\n   &gt; Failed to transform android.jar to match attributes {artifactType=android-platform-attr, org.gradle.libraryelements=jar, org.gradle.usage=java-runtime}.\n      &gt; Execution failed for PlatformAttrTransform: C:\\Users\\zukijuki\\AppData\\Local\\Android\\sdk\\platforms\\android-29\\android.jar.\n         &gt; C:\\Users\\zukijuki\\AppData\\Local\\Android\\sdk\\platforms\\android-29\\android.jar\n</code></pre>\n<p>my <code>android/build.gradle</code> conf:</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        mavenCentral()\n        maven {\n            url 'https://maven.fabric.io/public'\n        }\n        maven {\n            url 'https://plugins.gradle.org/m2/'\n        }\n        maven {\n            url 'https://maven.google.com'\n        }\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.2.2'\n        classpath 'com.google.gms:google-services:4.3.3'\n        classpath 'io.fabric.tools:gradle:1.28.1'        \n    }\n}\n</code></pre>\n<p>and below <code>app/build.gradle</code>:</p>\n<pre><code>...\n\nandroid {\n    compileSdkVersion 31\n    buildToolsVersion '28.0.3'\n\n    lintOptions {\n        //disable 'InvalidPackage'\n    }\n\n    defaultConfig {\n        applicationId &quot;com.example&quot;\n        minSdkVersion 22\n        multiDexEnabled true\n        targetSdkVersion 30\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n        resConfigs &quot;en&quot;, &quot;US&quot;\n    }\n    \n    ...\n\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n\n    implementation(&quot;com.google.android.gms:play-services-base:17.0.0&quot;){ force = true } \n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n\n    implementation 'com.google.android.gms:play-services-location:16.0.0'\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation 'com.facebook.android:facebook-android-sdk:[5,6)'\n\n\n}\n\nconfigurations {\n    all*.exclude group: 'com.google.guava', module: 'listenablefuture'\n}\n\n\napply plugin: 'com.google.gms.google-services'\napply plugin: 'io.fabric'\n</code></pre>\n<p>any idea to fix the above problem?</p>\n<p>Thank you in advance...</p>\n<p>===<strong>update</strong></p>\n<ol>\n<li>gradle.properties</li>\n</ol>\n<pre><code>org.gradle.jvmargs=-Xmx1536M\nandroid.useAndroidX=true\nandroid.enableJetifier=true\nandroid.enableR8=true\n</code></pre>\n<ol start=\"2\">\n<li><p>Build using <code>Android Studio Bumblebee | 2021.1.1 Patch 3</code></p>\n</li>\n<li><p>Reinstall API Level 29,30,31,32 still cant resolve.</p>\n</li>\n</ol>\n"},{"tags":["java","real-time"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1303580183,"post_id":5765718,"comment_id":6603488,"body_markdown":"You are aware that &quot;real time&quot; refers to that &quot;things are guaranteed to happen before X cycles&quot; where X can be large, and not &quot;things happen very fast&quot;?","body":"You are aware that &quot;real time&quot; refers to that &quot;things are guaranteed to happen before X cycles&quot; where X can be large, and not &quot;things happen very fast&quot;?"},{"owner":{"account_id":94758,"reputation":9844,"user_id":258526,"accept_rate":66,"display_name":"fred basset"},"score":0,"creation_date":1303580334,"post_id":5765718,"comment_id":6603506,"body_markdown":"Yes, looking to see if hard real time can be done with Java.","body":"Yes, looking to see if hard real time can be done with Java."},{"owner":{"account_id":78148,"reputation":5208,"user_id":222593,"accept_rate":91,"display_name":"seand"},"score":0,"creation_date":1303583174,"post_id":5765718,"comment_id":6603919,"body_markdown":"I&#39;d tread with caution.  Thinks like gc, JIT-compiling at run time can cause unpredictable delays.  Java doesn&#39;t seem like a good choice for this sort of thing","body":"I&#39;d tread with caution.  Thinks like gc, JIT-compiling at run time can cause unpredictable delays.  Java doesn&#39;t seem like a good choice for this sort of thing"},{"owner":{"account_id":30659,"reputation":22506,"user_id":83695,"accept_rate":86,"display_name":"andersoj"},"score":0,"creation_date":1303586974,"post_id":5765718,"comment_id":6604451,"body_markdown":"Please contact me if you have any RT/embedded Java questions.  I can help out.  But on StackOverflow, you need to ask specific questions with well-defined answers... likely to get closed...","body":"Please contact me if you have any RT/embedded Java questions.  I can help out.  But on StackOverflow, you need to ask specific questions with well-defined answers... likely to get closed..."}],"answers":[{"tags":[],"owner":{"account_id":202342,"reputation":13496,"user_id":449355,"accept_rate":91,"display_name":"Umesh K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650184747,"creation_date":1303580267,"answer_id":5765793,"question_id":5765718,"body_markdown":"Have a look at [Java Optimized Processor][1]. It&#39;s the implementation of JVM in the hardware. This system can be used as a real-time embedded system.\r\n\r\n\r\n  [1]: http://www.jopdesign.com/","title":"Anyone experienced in real-time Java on embedded systems?","body":"<p>Have a look at <a href=\"http://www.jopdesign.com/\" rel=\"nofollow noreferrer\">Java Optimized Processor</a>. It's the implementation of JVM in the hardware. This system can be used as a real-time embedded system.</p>\n"}],"owner":{"account_id":94758,"reputation":9844,"user_id":258526,"accept_rate":66,"display_name":"fred basset"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1303586983,"answer_count":1,"score":1,"last_activity_date":1650184747,"creation_date":1303579320,"question_id":5765718,"body_markdown":"Has anyone out there implemented a real-time embedded Java system?  I am very interested to see if this could work for a new product I&#39;m developing, but am unsure of how the whole real-time responsiveness &amp; garbage collection work.  Would really like to contact anyone who&#39;s done a real-time Java system before.","title":"Anyone experienced in real-time Java on embedded systems?","body":"<p>Has anyone out there implemented a real-time embedded Java system?  I am very interested to see if this could work for a new product I'm developing, but am unsure of how the whole real-time responsiveness &amp; garbage collection work.  Would really like to contact anyone who's done a real-time Java system before.</p>\n"},{"tags":["java","maven","github","gradle","github-packages"],"comments":[{"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"score":0,"creation_date":1649574064,"post_id":71812255,"comment_id":126906617,"body_markdown":"can you also share the full line in dependencies {} for the dependency `&#39;:android@debug/compileClasspath&#39;:`  seems bit complicated. does the same work fine with maven local ?","body":"can you also share the full line in dependencies {} for the dependency <code>&#39;:android@debug&#47;compileClasspath&#39;:</code>  seems bit complicated. does the same work fine with maven local ?"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1649597079,"post_id":71812255,"comment_id":126910708,"body_markdown":"@PrasadU, it&#39;s just a basic `implementation &#39;myGroup:myArtifact:myVersion&#39;` That phrase doesn&#39;t appear in my build.gradle. The part where I put *myDependency* is the name of the group/artifact/dependency. That other phrase is describing the android module and flavor.","body":"@PrasadU, it&#39;s just a basic <code>implementation &#39;myGroup:myArtifact:myVersion&#39;</code> That phrase doesn&#39;t appear in my build.gradle. The part where I put <i>myDependency</i> is the name of the group/artifact/dependency. That other phrase is describing the android module and flavor."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1650139658,"post_id":71812255,"comment_id":127047803,"body_markdown":"From the first look, it doesn&#39;t look like a connectivity issue to the repo but you could validate it by trying to download `maven-metadata.xml` that is a first step for maven repos `https://maven.pkg.github.com/OWNER/REPOSITORY/GROUP_ID/ARTIFACT_ID/VERSION/maven-metadata.xml` (please note that &quot;.&quot; should be replaced by &quot;/&quot; for GROUP_ID/ARTIFACT_ID).\nAlso, not sure what you mean by &quot;That phrase doesn&#39;t appear in my build.gradle&quot; but probably you need to define your repo in the `pluginManagement { repositories { } }&#39; that is applied before `repositories { }`.","body":"From the first look, it doesn&#39;t look like a connectivity issue to the repo but you could validate it by trying to download <code>maven-metadata.xml</code> that is a first step for maven repos <code>https:&#47;&#47;maven.pkg.github.com&#47;OWNER&#47;REPOSITORY&#47;GROUP_ID&#47;ARTIF&zwnj;&#8203;ACT_ID&#47;VERSION&#47;maven&zwnj;&#8203;-metadata.xml</code> (please note that &quot;.&quot; should be replaced by &quot;/&quot; for GROUP_ID/ARTIFACT_ID). Also, not sure what you mean by &quot;That phrase doesn&#39;t appear in my build.gradle&quot; but probably you need to define your repo in the <code>pluginManagement { repositories { } }&#39; that is applied before </code>repositories { }`."}],"answers":[{"tags":[],"owner":{"account_id":2008878,"reputation":15778,"user_id":1797912,"accept_rate":60,"display_name":"Chriki"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1650184707,"creation_date":1650142961,"answer_id":71897475,"question_id":71812255,"body_markdown":"From what I can tell from your question, your setup looks correct.\r\n\r\nIt seems that you’re only looking at the error provided by Android Studio. Gradle’s own error messages are usually more helpful, so I’d recommend to look at those. In other words, I’d recommend to try building the project from the command line, e.g. with:\r\n\r\n```lang-sh\r\n./gradlew build\r\n```\r\n\r\nDepending on what’s wrong, you’ll get different error messages. For example, if your password/token is wrong, then you’ll see something like this:\r\n\r\n```lang-none\r\n&gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\r\n   &gt; Could not resolve com.example:my-lib:1.0.0.\r\n     Required by:\r\n         project :\r\n      &gt; Could not resolve com.example:my-lib:1.0.0.\r\n         &gt; Could not get resource &#39;https://maven.pkg.github.com/myAccountName/myRepo/com/example/my-lib/1.0.0/my-lib-1.0.0.pom&#39;.\r\n            &gt; Could not GET &#39;https://maven.pkg.github.com/myAccountName/myRepo/com/example/my-lib/1.0.0/my-lib-1.0.0.pom&#39;. Received status code 401 from server: Unauthorized\r\n```\r\n\r\nNote the `Received status code 401 from server: Unauthorized` at the end.\r\n\r\nIf, however, your dependency declaration is wrong (any of group, module name or version), then you’ll get an error like this:\r\n\r\n```lang-none\r\n&gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\r\n   &gt; Could not find com.example:oops-wrong:1.0.0.\r\n     Searched in the following locations:\r\n       - file:/home/chriki/.m2/repository/com/example/oops-wrong/1.0.0/oops-wrong-1.0.0.pom\r\n       - https://maven.pkg.github.com/myAccountName/myRepo/com/example/oops-wrong/1.0.0/oops-wrong-1.0.0.pom\r\n     Required by:\r\n         project :\r\n```\r\n\r\nOf course, you’ll get the same error if you haven’t (correctly) uploaded/published the required package before. You can manually check if it exists at `https://maven.pkg.github.com/myAccountName/myRepo/packages`.\r\n\r\nThere may be other error messages for other cases. I remember having seen a 403, for example. Unfortunately, the GitHub Packages registry doesn’t seem to provide enough details to Gradle so that it can provide other errors than the two above. Even if I use a wrong repository, I still get the second kind of error only:\r\n\r\n```lang-none\r\n&gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\r\n   &gt; Could not find com.example:my-lib:1.0.0.\r\n     Searched in the following locations:\r\n       - file:/home/chriki/.m2/repository/com/example/my-lib/1.0.0/my-lib-1.0.0.pom\r\n       - https://maven.pkg.github.com/oops-wrong/com/example/my-lib/1.0.0/my-lib-1.0.0.pom\r\n     Required by:\r\n         project :\r\n```\r\n\r\nSome more findings:\r\n\r\n* For the credentials, it seems that GitHub only looks at the token. The user name doesn’t seem to matter.\r\n* The concrete name of the repository in the URL seems to be irrelevant as long as it’s not empty.\r\n\r\n---\r\n\r\nGetting back to your concrete issue: part of the Android Studio error message seems to still come from Gradle directly. It says “Could not resolve” rather than “Could not find”. So it’s likely a problem with the repository connection. If you haven’t used your token for anything else, then you can check at https://github.com/settings/tokens whether GitHub considers it to having been used, yet (e.g., “Last used within the last week”). If it says “Never used”, then you’ll know that Gradle has never succeeded to connect to GitHub, and you should double check the used token or try a new one. Alternatively, you could try your credentials with `wget` first:\r\n\r\n```lang-sh\r\nwget --user myAccountName --password &quot;$GITHUB_PACKAGES_TOKEN&quot; \\\r\n    https://maven.pkg.github.com/myAccountName/myRepo/com/example/my-lib/1.0.0/my-lib-1.0.0.pom\r\n```\r\n","title":"Debugging Github Packages repository connection in Gradle","body":"<p>From what I can tell from your question, your setup looks correct.</p>\n<p>It seems that you’re only looking at the error provided by Android Studio. Gradle’s own error messages are usually more helpful, so I’d recommend to look at those. In other words, I’d recommend to try building the project from the command line, e.g. with:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>./gradlew build\n</code></pre>\n<p>Depending on what’s wrong, you’ll get different error messages. For example, if your password/token is wrong, then you’ll see something like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt; Could not resolve all files for configuration ':compileClasspath'.\n   &gt; Could not resolve com.example:my-lib:1.0.0.\n     Required by:\n         project :\n      &gt; Could not resolve com.example:my-lib:1.0.0.\n         &gt; Could not get resource 'https://maven.pkg.github.com/myAccountName/myRepo/com/example/my-lib/1.0.0/my-lib-1.0.0.pom'.\n            &gt; Could not GET 'https://maven.pkg.github.com/myAccountName/myRepo/com/example/my-lib/1.0.0/my-lib-1.0.0.pom'. Received status code 401 from server: Unauthorized\n</code></pre>\n<p>Note the <code>Received status code 401 from server: Unauthorized</code> at the end.</p>\n<p>If, however, your dependency declaration is wrong (any of group, module name or version), then you’ll get an error like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt; Could not resolve all files for configuration ':compileClasspath'.\n   &gt; Could not find com.example:oops-wrong:1.0.0.\n     Searched in the following locations:\n       - file:/home/chriki/.m2/repository/com/example/oops-wrong/1.0.0/oops-wrong-1.0.0.pom\n       - https://maven.pkg.github.com/myAccountName/myRepo/com/example/oops-wrong/1.0.0/oops-wrong-1.0.0.pom\n     Required by:\n         project :\n</code></pre>\n<p>Of course, you’ll get the same error if you haven’t (correctly) uploaded/published the required package before. You can manually check if it exists at <code>https://maven.pkg.github.com/myAccountName/myRepo/packages</code>.</p>\n<p>There may be other error messages for other cases. I remember having seen a 403, for example. Unfortunately, the GitHub Packages registry doesn’t seem to provide enough details to Gradle so that it can provide other errors than the two above. Even if I use a wrong repository, I still get the second kind of error only:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&gt; Could not resolve all files for configuration ':compileClasspath'.\n   &gt; Could not find com.example:my-lib:1.0.0.\n     Searched in the following locations:\n       - file:/home/chriki/.m2/repository/com/example/my-lib/1.0.0/my-lib-1.0.0.pom\n       - https://maven.pkg.github.com/oops-wrong/com/example/my-lib/1.0.0/my-lib-1.0.0.pom\n     Required by:\n         project :\n</code></pre>\n<p>Some more findings:</p>\n<ul>\n<li>For the credentials, it seems that GitHub only looks at the token. The user name doesn’t seem to matter.</li>\n<li>The concrete name of the repository in the URL seems to be irrelevant as long as it’s not empty.</li>\n</ul>\n<hr />\n<p>Getting back to your concrete issue: part of the Android Studio error message seems to still come from Gradle directly. It says “Could not resolve” rather than “Could not find”. So it’s likely a problem with the repository connection. If you haven’t used your token for anything else, then you can check at <a href=\"https://github.com/settings/tokens\" rel=\"nofollow noreferrer\">https://github.com/settings/tokens</a> whether GitHub considers it to having been used, yet (e.g., “Last used within the last week”). If it says “Never used”, then you’ll know that Gradle has never succeeded to connect to GitHub, and you should double check the used token or try a new one. Alternatively, you could try your credentials with <code>wget</code> first:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>wget --user myAccountName --password &quot;$GITHUB_PACKAGES_TOKEN&quot; \\\n    https://maven.pkg.github.com/myAccountName/myRepo/com/example/my-lib/1.0.0/my-lib-1.0.0.pom\n</code></pre>\n"}],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1175,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71897475,"answer_count":1,"score":3,"last_activity_date":1650184707,"creation_date":1649542059,"question_id":71812255,"body_markdown":"I have set up a private project in Github that has some Maven packages. I can browse to them on the Github web site.\r\n\r\nBy following the directions [here](https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-gradle-registry#authenticating-to-github-packages) I have set up my build.gradle to declare the repository as follows:\r\n\r\n```lang-groovy\r\nrepositories {\r\n    mavenLocal()\r\n    maven {\r\n        url = &quot;https://maven.pkg.github.com/myAccountName/myRepo&quot;\r\n        credentials {\r\n            username = System.getenv(&quot;GITHUB_USERNAME&quot;)\r\n            password = System.getenv(&quot;GITHUB_PACKAGES_TOKEN&quot;)\r\n        }\r\n    }\r\n}\r\n```\r\nI&#39;ve set up the system environment variables with the username and access token that I created in Github settings with `read:packages` permission.\r\n\r\nI declare the dependency the same way I was doing previously when I had it installed to `mavenLocal()`. But I deleted it from the local Maven repo so I could test this.\r\n\r\nThe dependency cannot be resolved. But all the warning from Gradle says is:\r\n\r\n&gt; Unable to resolve dependency for &#39;:android@debug/compileClasspath&#39;: Could not resolve *myGroup:myArtifact:1.0*\r\n\r\nThere are no logged warnings about one of the Maven repos not being valid, but I think that is the likely problem, since this was working fine when the package was in the local Maven repo. Likely either I&#39;m specifying it incorrectly or the credentials aren&#39;t working.\r\n\r\nI also tried directly typing the string username and token instead of using environment variables. The token is brand new and not expired.\r\n\r\nHow can I determine what is going wrong with my connection to the Github Packages Maven repository? Is there a way I can get more useful logs? Or do you see something I&#39;m doing wrong with how I&#39;m authenticating?","title":"Debugging Github Packages repository connection in Gradle","body":"<p>I have set up a private project in Github that has some Maven packages. I can browse to them on the Github web site.</p>\n<p>By following the directions <a href=\"https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-gradle-registry#authenticating-to-github-packages\" rel=\"nofollow noreferrer\">here</a> I have set up my build.gradle to declare the repository as follows:</p>\n<pre class=\"lang-groovy prettyprint-override\"><code>repositories {\n    mavenLocal()\n    maven {\n        url = &quot;https://maven.pkg.github.com/myAccountName/myRepo&quot;\n        credentials {\n            username = System.getenv(&quot;GITHUB_USERNAME&quot;)\n            password = System.getenv(&quot;GITHUB_PACKAGES_TOKEN&quot;)\n        }\n    }\n}\n</code></pre>\n<p>I've set up the system environment variables with the username and access token that I created in Github settings with <code>read:packages</code> permission.</p>\n<p>I declare the dependency the same way I was doing previously when I had it installed to <code>mavenLocal()</code>. But I deleted it from the local Maven repo so I could test this.</p>\n<p>The dependency cannot be resolved. But all the warning from Gradle says is:</p>\n<blockquote>\n<p>Unable to resolve dependency for ':android@debug/compileClasspath': Could not resolve <em>myGroup:myArtifact:1.0</em></p>\n</blockquote>\n<p>There are no logged warnings about one of the Maven repos not being valid, but I think that is the likely problem, since this was working fine when the package was in the local Maven repo. Likely either I'm specifying it incorrectly or the credentials aren't working.</p>\n<p>I also tried directly typing the string username and token instead of using environment variables. The token is brand new and not expired.</p>\n<p>How can I determine what is going wrong with my connection to the Github Packages Maven repository? Is there a way I can get more useful logs? Or do you see something I'm doing wrong with how I'm authenticating?</p>\n"},{"tags":["java","hadoop","hdfs"],"answers":[{"tags":[],"owner":{"account_id":1324051,"reputation":5838,"user_id":1269281,"accept_rate":59,"display_name":"bachr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421858215,"creation_date":1421858215,"answer_id":28072290,"question_id":28072115,"body_markdown":"I usually keep the `core-site.xml` (along with the other files) in the classpath and get the configuration as follows:\r\n\r\n    Configuration conf = new Configuration();\r\n    FileSystem localfs = FileSystem.getLocal(conf);\r\n    FileSystem hdfs = FileSystem.get(conf);\r\n\r\nHere is the content of my `core-site.xml`:\r\n\r\n    &lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;configuration.xsl&quot;?&gt;\r\n    &lt;configuration&gt;\r\n      &lt;property&gt;\r\n        &lt;name&gt;fs.default.name&lt;/name&gt;\r\n        &lt;value&gt;hdfs://{hadoop-server-addr}&lt;/value&gt;\r\n      &lt;/property&gt;\r\n    &lt;/configuration&gt;","title":"Hadoop configuration object not pointing to hdfs file system","body":"<p>I usually keep the <code>core-site.xml</code> (along with the other files) in the classpath and get the configuration as follows:</p>\n\n<pre><code>Configuration conf = new Configuration();\nFileSystem localfs = FileSystem.getLocal(conf);\nFileSystem hdfs = FileSystem.get(conf);\n</code></pre>\n\n<p>Here is the content of my <code>core-site.xml</code>:</p>\n\n<pre><code>&lt;?xml-stylesheet type=\"text/xsl\" href=\"configuration.xsl\"?&gt;\n&lt;configuration&gt;\n  &lt;property&gt;\n    &lt;name&gt;fs.default.name&lt;/name&gt;\n    &lt;value&gt;hdfs://{hadoop-server-addr}&lt;/value&gt;\n  &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3222094,"reputation":907,"user_id":2719291,"accept_rate":86,"display_name":"Suraj Nayak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460239760,"creation_date":1460239760,"answer_id":36523320,"question_id":28072115,"body_markdown":"Add your hdfs-site.xml and core-site.xml to class path. And use following code.\r\n\r\n    Configuration conf = new Configuration();\r\n    FileSystem hdfs = FileSystem.newInstance(conf);\r\n\r\nIt will pick the configs mentioned in the xmls.","title":"Hadoop configuration object not pointing to hdfs file system","body":"<p>Add your hdfs-site.xml and core-site.xml to class path. And use following code.</p>\n\n<pre><code>Configuration conf = new Configuration();\nFileSystem hdfs = FileSystem.newInstance(conf);\n</code></pre>\n\n<p>It will pick the configs mentioned in the xmls.</p>\n"},{"tags":[],"owner":{"account_id":3149789,"reputation":31,"user_id":2663462,"display_name":"shunya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555062230,"creation_date":1555062230,"answer_id":55648828,"question_id":28072115,"body_markdown":"To debug the issue better, add this line after creating a new Configuration instance. This will give you a better idea.\r\n\r\n    Configuration conf = new Configuration(false);\r\n    conf.setQuietMode(false);\r\n\r\nIn most cases, defaulting to local filesystem instead of hdfs occurs when `Configuration` is not able to load resources specified by the Path strings. In such cases, the default behaviour of `Configuration` is to fail quietly and return `null` for requested key. In this case, the requested key is `fs.defaultFS` , the namenode host. `FileSystem` instance then defaults to the `file:///` scheme which is the local file system.\r\n\r\n","title":"Hadoop configuration object not pointing to hdfs file system","body":"<p>To debug the issue better, add this line after creating a new Configuration instance. This will give you a better idea.</p>\n\n<pre><code>Configuration conf = new Configuration(false);\nconf.setQuietMode(false);\n</code></pre>\n\n<p>In most cases, defaulting to local filesystem instead of hdfs occurs when <code>Configuration</code> is not able to load resources specified by the Path strings. In such cases, the default behaviour of <code>Configuration</code> is to fail quietly and return <code>null</code> for requested key. In this case, the requested key is <code>fs.defaultFS</code> , the namenode host. <code>FileSystem</code> instance then defaults to the <code>file:///</code> scheme which is the local file system.</p>\n"}],"owner":{"account_id":202342,"reputation":13496,"user_id":449355,"accept_rate":91,"display_name":"Umesh K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2067,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1650184644,"creation_date":1421857644,"question_id":28072115,"body_markdown":"I am trying to create small Spark program in Java. I am creating a Hadoop configuration object as show below:\r\n\r\n    Configuration conf = new Configuration(false);\r\n    conf.addResource(new Path(&quot;/dir/core-site.xml&quot;));\r\n    conf.addResource(new Path(&quot;/dir/hdfs-site.xml&quot;));\r\n    conf.addResource(new Path(&quot;/dir/yarn-site.xml&quot;));\r\n    \r\n\r\nWhen I call the following I get file system but it points to local file system and not the hdfs file system\r\n\r\n    FileSystem fs = FileSystem.get(conf);\r\n\r\nI am new to Hadoop. \r\n","title":"Hadoop configuration object not pointing to hdfs file system","body":"<p>I am trying to create small Spark program in Java. I am creating a Hadoop configuration object as show below:</p>\n<pre><code>Configuration conf = new Configuration(false);\nconf.addResource(new Path(&quot;/dir/core-site.xml&quot;));\nconf.addResource(new Path(&quot;/dir/hdfs-site.xml&quot;));\nconf.addResource(new Path(&quot;/dir/yarn-site.xml&quot;));\n</code></pre>\n<p>When I call the following I get file system but it points to local file system and not the hdfs file system</p>\n<pre><code>FileSystem fs = FileSystem.get(conf);\n</code></pre>\n<p>I am new to Hadoop.</p>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":5668327,"reputation":8372,"user_id":4483840,"accept_rate":75,"display_name":"Zielu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1428598820,"creation_date":1428598033,"answer_id":29544368,"question_id":29544067,"body_markdown":"The `scheduleService.shutdown();`\r\n\r\nwill indicate that the the scheduler that it should not take new tasks and the existing one will either be cancelled or they may be executed (but not repeated) depending on the policy used:\r\n\r\n&gt; &quot;If the ExecuteExistingDelayedTasksAfterShutdownPolicy has been set\r\n&gt; false, existing delayed tasks whose delays have not yet elapsed are\r\n&gt; cancelled. And unless the\r\n&gt; ContinueExistingPeriodicTasksAfterShutdownPolicy has been set true,\r\n&gt; future executions of existing periodic tasks will be cancelled.&quot;\r\n\r\nNow in your code you should call:\r\n\r\n    scheduleSerice.awaitTermination()\r\n\r\ninstead of `while(!scheduleService.isTerminated())`. The while loop will burn all the cycles of the processor as it will be constantly checking the executor state.\r\n\r\nIf you don&#39;t call the awaitTermination method (or your loop aproach), the method from which you called your shceduleService.schedule will simply finish (quit), and potentially your whole program will terminate (without completing the jobs).\r\n\r\nBut it depends on your design. If it is asynrchonous, than, you can simply ignore the awaittermination and continue your work. The jobs will be processed in the background.\r\n\r\n**Your thread pool should not growth!!!!** It should match your avaialbe resources == CPUs. For not IO tasks that are waiting for resources it should be around processor counts, for IO tasks double the number of CPUs, anything more makes no sense, it will actually slow the execution down as there will thread throtling.\r\n\r\nThe pool size limits how many tasks will be executed simultaneusly, not the size of task queue, which unless set otherwise is unbounded and grows.","title":"Do we need to call awaitTermination on ScheduledExecutorService?","body":"<p>The <code>scheduleService.shutdown();</code></p>\n\n<p>will indicate that the the scheduler that it should not take new tasks and the existing one will either be cancelled or they may be executed (but not repeated) depending on the policy used:</p>\n\n<blockquote>\n  <p>\"If the ExecuteExistingDelayedTasksAfterShutdownPolicy has been set\n  false, existing delayed tasks whose delays have not yet elapsed are\n  cancelled. And unless the\n  ContinueExistingPeriodicTasksAfterShutdownPolicy has been set true,\n  future executions of existing periodic tasks will be cancelled.\"</p>\n</blockquote>\n\n<p>Now in your code you should call:</p>\n\n<pre><code>scheduleSerice.awaitTermination()\n</code></pre>\n\n<p>instead of <code>while(!scheduleService.isTerminated())</code>. The while loop will burn all the cycles of the processor as it will be constantly checking the executor state.</p>\n\n<p>If you don't call the awaitTermination method (or your loop aproach), the method from which you called your shceduleService.schedule will simply finish (quit), and potentially your whole program will terminate (without completing the jobs).</p>\n\n<p>But it depends on your design. If it is asynrchonous, than, you can simply ignore the awaittermination and continue your work. The jobs will be processed in the background.</p>\n\n<p><strong>Your thread pool should not growth!!!!</strong> It should match your avaialbe resources == CPUs. For not IO tasks that are waiting for resources it should be around processor counts, for IO tasks double the number of CPUs, anything more makes no sense, it will actually slow the execution down as there will thread throtling.</p>\n\n<p>The pool size limits how many tasks will be executed simultaneusly, not the size of task queue, which unless set otherwise is unbounded and grows.</p>\n"},{"tags":[],"owner":{"account_id":5309320,"reputation":1226,"user_id":4236207,"display_name":"hemant1900"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1428598833,"creation_date":1428598833,"answer_id":29544632,"question_id":29544067,"body_markdown":"You need to call `awaitTermination()` if your application is supposed to do some action after it makes sure that all current tasks are finished. If your application does not care when the current tasks finish then you don&#39;t need to `awaitTermination()`.\r\n\r\nAbout growing thread pool size, you can directly use `ScheduledThreadPoolExecutor`.\r\n\r\n    /**\r\n     * Creates a new {@code ScheduledThreadPoolExecutor} with the\r\n     * given core pool size.\r\n     *\r\n     * @param corePoolSize the number of threads to keep in the pool, even\r\n     *        if they are idle, unless {@code allowCoreThreadTimeOut} is set\r\n     * @throws IllegalArgumentException if {@code corePoolSize &lt; 0}\r\n     */\r\n    public ScheduledThreadPoolExecutor(int corePoolSize) {\r\n        super(corePoolSize, Integer.MAX_VALUE, 0, TimeUnit.NANOSECONDS,\r\n              new DelayedWorkQueue());\r\n    }\r\n\r\nKeep the core pool size as what you need at minimum and let it grow till the max pool size.","title":"Do we need to call awaitTermination on ScheduledExecutorService?","body":"<p>You need to call <code>awaitTermination()</code> if your application is supposed to do some action after it makes sure that all current tasks are finished. If your application does not care when the current tasks finish then you don't need to <code>awaitTermination()</code>.</p>\n\n<p>About growing thread pool size, you can directly use <code>ScheduledThreadPoolExecutor</code>.</p>\n\n<pre><code>/**\n * Creates a new {@code ScheduledThreadPoolExecutor} with the\n * given core pool size.\n *\n * @param corePoolSize the number of threads to keep in the pool, even\n *        if they are idle, unless {@code allowCoreThreadTimeOut} is set\n * @throws IllegalArgumentException if {@code corePoolSize &lt; 0}\n */\npublic ScheduledThreadPoolExecutor(int corePoolSize) {\n    super(corePoolSize, Integer.MAX_VALUE, 0, TimeUnit.NANOSECONDS,\n          new DelayedWorkQueue());\n}\n</code></pre>\n\n<p>Keep the core pool size as what you need at minimum and let it grow till the max pool size.</p>\n"}],"owner":{"account_id":202342,"reputation":13496,"user_id":449355,"accept_rate":91,"display_name":"Umesh K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2398,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":29544632,"answer_count":2,"score":3,"last_activity_date":1650184612,"creation_date":1428597100,"question_id":29544067,"body_markdown":"I am new to Java multithreading. I have thousands of scheduled tasks/threads that I need to be executed. I am using the following code:\r\n\r\n    ScheduledExecutorSerivce scheduleService = Executors.newScheduledThreadPool(90);\r\n    Map&lt;Interger,Interger&gt; loginMap = new HashMap&lt;&gt;();//contain login time of scheduled threads\r\n    for(int i = 0; i &lt; taskCount ; i++) {\r\n      scheduleService.schedule(new MyCallableWorker(),loginMap.get(i),TimeUnit.SECONDS)\r\n    }\r\n    scheduleService.shutdown();\r\n    //do I need to call the following because I dont know any timeout value or above shutDown() is enough\r\n    while(!scheduleService.isTerminated()) {\r\n    }\r\n\r\nAlso please let me know what should be the ideal count for thread pool. I have set as 90 but I want pool which can grow as needed but looks like ScheduleExecutorService has no such API.\r\n","title":"Do we need to call awaitTermination on ScheduledExecutorService?","body":"<p>I am new to Java multithreading. I have thousands of scheduled tasks/threads that I need to be executed. I am using the following code:</p>\n<pre><code>ScheduledExecutorSerivce scheduleService = Executors.newScheduledThreadPool(90);\nMap&lt;Interger,Interger&gt; loginMap = new HashMap&lt;&gt;();//contain login time of scheduled threads\nfor(int i = 0; i &lt; taskCount ; i++) {\n  scheduleService.schedule(new MyCallableWorker(),loginMap.get(i),TimeUnit.SECONDS)\n}\nscheduleService.shutdown();\n//do I need to call the following because I dont know any timeout value or above shutDown() is enough\nwhile(!scheduleService.isTerminated()) {\n}\n</code></pre>\n<p>Also please let me know what should be the ideal count for thread pool. I have set as 90 but I want pool which can grow as needed but looks like ScheduleExecutorService has no such API.</p>\n"},{"tags":["java","dictionary","compression","zstd"],"comments":[{"owner":{"account_id":193612,"reputation":32530,"user_id":2320035,"accept_rate":79,"display_name":"sascha"},"score":0,"creation_date":1650109353,"post_id":71886221,"comment_id":127041655,"body_markdown":"I guess you are talking about training-based dicts [zstd docs](http://facebook.github.io/zstd/#small-data). Using zstds tools, some binary-dict will be generated through some training procedure and i&#39;m pretty optimistic that your func-signature exactly want&#39;s those raw bytes. Howewer: This makes things much more complex: training-data acquisition, training-procedure, making sure compressor/decompressor use the same version of the pre-trained dict. It also is designed to help for small-data cases (you say: `large JSON payload`). With big data, this should not help. Maybe just tune the compr-lvl","body":"I guess you are talking about training-based dicts <a href=\"http://facebook.github.io/zstd/#small-data\" rel=\"nofollow noreferrer\">zstd docs</a>. Using zstds tools, some binary-dict will be generated through some training procedure and i&#39;m pretty optimistic that your func-signature exactly want&#39;s those raw bytes. Howewer: This makes things much more complex: training-data acquisition, training-procedure, making sure compressor/decompressor use the same version of the pre-trained dict. It also is designed to help for small-data cases (you say: <code>large JSON payload</code>). With big data, this should not help. Maybe just tune the compr-lvl"},{"owner":{"account_id":7316632,"reputation":71,"user_id":5574055,"display_name":"A. Ganesh"},"score":0,"creation_date":1650246664,"post_id":71886221,"comment_id":127064603,"body_markdown":"Thanks for your response! I&#39;m looking for something to help with reducing decompression speeds for large JSON payloads (I&#39;m happy with the compression ratio without the dict). If the large JSON payload has a lot of repeated patterns, will the dictionary help? Or is it only useful for smaller payloads as the documentation suggests? I can&#39;t change the compr-lvl for my situation unfortunately","body":"Thanks for your response! I&#39;m looking for something to help with reducing decompression speeds for large JSON payloads (I&#39;m happy with the compression ratio without the dict). If the large JSON payload has a lot of repeated patterns, will the dictionary help? Or is it only useful for smaller payloads as the documentation suggests? I can&#39;t change the compr-lvl for my situation unfortunately"}],"answers":[{"tags":[],"owner":{"account_id":15650051,"reputation":113,"user_id":11291606,"display_name":"koigor"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1650184190,"creation_date":1650184190,"answer_id":71900415,"question_id":71886221,"body_markdown":"This example is for https://github.com/luben/zstd-jni.\r\n\r\nFirst of all you need to get many samples of your jsons. You shouldn&#39;t use just one or couple samples. After that you can train your dictionary:\r\n```java\r\nList&lt;String&gt; jsons = ...; // List of your jsons samples\r\n\r\nZstdDictTrainer trainer = new ZstdDictTrainer(1024 * 1024, 16 * 1024); // 16 KB dictionary\r\n\r\nfor(String json : jsons) {\r\n    trainer.addSample(json.getBytes(StandardCharsets.UTF_8));\r\n}\r\n\r\nbyte[] dictionary = trainer.trainSamples();\r\n```\r\n\r\nNow you have you dictionary in byte array.\r\n\r\nNext step is using **SAME** dictionary to compress and decompress. \r\n\r\n```java\r\n// Compress\r\nbyte[] json = jsonString.getBytes(StandardCharsets.UTF_8);\r\nZstdDictCompress zstdDictCompress = new ZstdDictCompress(dictionary, Zstd.defaultCompressionLevel());\r\nbyte[] compressed = Zstd.compress(json, zstdDictCompress);\r\n\r\n// Tricky moment, you have to pass json full length to decompress method\r\nint jsonFullLength = json.length;\r\n\r\n// Decompress\r\nZstdDictDecompress zstdDictDecompress = new ZstdDictDecompress(dictionary);\r\nbyte[] decompressed = Zstd.decompress(compressed, zstdDictDecompress, jsonFullLength);\r\nString jsonString2 = new String(decompressed, StandardCharsets.UTF_8);\r\n```\r\n\r\nThat&#39;s all!\r\n","title":"How do I create a dictionary object for passing to Zstd.compress?","body":"<p>This example is for <a href=\"https://github.com/luben/zstd-jni\" rel=\"noreferrer\">https://github.com/luben/zstd-jni</a>.</p>\n<p>First of all you need to get many samples of your jsons. You shouldn't use just one or couple samples. After that you can train your dictionary:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; jsons = ...; // List of your jsons samples\n\nZstdDictTrainer trainer = new ZstdDictTrainer(1024 * 1024, 16 * 1024); // 16 KB dictionary\n\nfor(String json : jsons) {\n    trainer.addSample(json.getBytes(StandardCharsets.UTF_8));\n}\n\nbyte[] dictionary = trainer.trainSamples();\n</code></pre>\n<p>Now you have you dictionary in byte array.</p>\n<p>Next step is using <strong>SAME</strong> dictionary to compress and decompress.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Compress\nbyte[] json = jsonString.getBytes(StandardCharsets.UTF_8);\nZstdDictCompress zstdDictCompress = new ZstdDictCompress(dictionary, Zstd.defaultCompressionLevel());\nbyte[] compressed = Zstd.compress(json, zstdDictCompress);\n\n// Tricky moment, you have to pass json full length to decompress method\nint jsonFullLength = json.length;\n\n// Decompress\nZstdDictDecompress zstdDictDecompress = new ZstdDictDecompress(dictionary);\nbyte[] decompressed = Zstd.decompress(compressed, zstdDictDecompress, jsonFullLength);\nString jsonString2 = new String(decompressed, StandardCharsets.UTF_8);\n</code></pre>\n<p>That's all!</p>\n"}],"owner":{"account_id":7316632,"reputation":71,"user_id":5574055,"display_name":"A. Ganesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3393,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1650184190,"creation_date":1650038294,"question_id":71886221,"body_markdown":"I am using Zstd compression in Java for compressing a large JSON payload. I am using methods from the zstd-jni library for Java. I create a byte array out of the JSON string and use this method.\r\n\r\npublic static byte[] compress(byte[] var0, int var1)\r\n\r\nI read that ZSTD will give more optimal results when a dictionary is passed during compression and decompression. How do I create a ZstdDictCompress object? What byte array and integer should I pass to the constructor?\r\n\r\npublic static long compress(byte[] var0, byte[] var1, ZstdDictCompress var2) ","title":"How do I create a dictionary object for passing to Zstd.compress?","body":"<p>I am using Zstd compression in Java for compressing a large JSON payload. I am using methods from the zstd-jni library for Java. I create a byte array out of the JSON string and use this method.</p>\n<p>public static byte[] compress(byte[] var0, int var1)</p>\n<p>I read that ZSTD will give more optimal results when a dictionary is passed during compression and decompression. How do I create a ZstdDictCompress object? What byte array and integer should I pass to the constructor?</p>\n<p>public static long compress(byte[] var0, byte[] var1, ZstdDictCompress var2)</p>\n"},{"tags":["java","spring-mvc","file-io","multipart"],"answers":[{"tags":[],"owner":{"account_id":153343,"reputation":1086,"user_id":368532,"accept_rate":70,"display_name":"Boris"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1389610400,"creation_date":1389610400,"answer_id":21089474,"question_id":21089106,"body_markdown":"MultipartFile, by default, is already saved on your server as a file when user uploaded it.\r\nFrom that point - you can do anything you want with this file.\r\nThere is a method that moves that temp file to any destination you want.\r\nhttp://docs.spring.io/spring/docs/3.0.x/api/org/springframework/web/multipart/MultipartFile.html#transferTo(java.io.File)\r\n\r\nBut MultipartFile is just API, you can implement any other **MultipartResolver** \r\nhttp://docs.spring.io/spring/docs/3.0.x/api/org/springframework/web/multipart/MultipartResolver.html\r\n\r\nThis API accepts input stream and you can do anything you want with it. Default implementation (usually commons-multipart) saves it to temp dir as a file.\r\n\r\nBut other problem stays here   - if S3 API accepts a file as a parameter - you cannot do anything with this - you need a real file. If you want to avoid creating files at all - create you own S3 API.","title":"Converting MultipartFile to java.io.File without copying to local machine","body":"<p>MultipartFile, by default, is already saved on your server as a file when user uploaded it.\nFrom that point - you can do anything you want with this file.\nThere is a method that moves that temp file to any destination you want.\n<a href=\"http://docs.spring.io/spring/docs/3.0.x/api/org/springframework/web/multipart/MultipartFile.html#transferTo(java.io.File)\">http://docs.spring.io/spring/docs/3.0.x/api/org/springframework/web/multipart/MultipartFile.html#transferTo(java.io.File)</a></p>\n\n<p>But MultipartFile is just API, you can implement any other <strong>MultipartResolver</strong> \n<a href=\"http://docs.spring.io/spring/docs/3.0.x/api/org/springframework/web/multipart/MultipartResolver.html\">http://docs.spring.io/spring/docs/3.0.x/api/org/springframework/web/multipart/MultipartResolver.html</a></p>\n\n<p>This API accepts input stream and you can do anything you want with it. Default implementation (usually commons-multipart) saves it to temp dir as a file.</p>\n\n<p>But other problem stays here   - if S3 API accepts a file as a parameter - you cannot do anything with this - you need a real file. If you want to avoid creating files at all - create you own S3 API.</p>\n"},{"tags":[],"owner":{"account_id":1349124,"reputation":728,"user_id":1289270,"display_name":"Kostas Filios"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1428578706,"creation_date":1428578706,"answer_id":29537216,"question_id":21089106,"body_markdown":"The question is already more than one year old, so I&#39;m not sure if the [jets35][1] link provided by the OP had the following snippet at that time.\r\n\r\n&gt;  If your data isn&#39;t a `File` or `String` you can use any **input stream** as a data source, but **you must manually set the Content-Length**.\r\n&gt;\r\n&lt;!-- language: java --&gt;\r\n\r\n&gt;     // Create an object containing a greeting string as input stream data.\r\n&gt;     String greeting = &quot;Hello World!&quot;;\r\n&gt;\r\n&gt;     S3Object helloWorldObject = new S3Object(&quot;HelloWorld2.txt&quot;);\r\n&gt;\r\n&gt;     ByteArrayInputStream greetingIS = new ByteArrayInputStream(greeting.getBytes());\r\n&gt;\r\n&gt;     helloWorldObject.setDataInputStream(greetingIS);\r\n&gt;     helloWorldObject.setContentLength(\r\n&gt;         greeting.getBytes(Constants.DEFAULT_ENCODING).length);\r\n&gt;     helloWorldObject.setContentType(&quot;text/plain&quot;);\r\n&gt;\r\n&gt;     s3Service.putObject(testBucket, helloWorldObject);\r\n\r\n\r\nIt turns out you don&#39;t have to create a local file first. As @Boris suggests you can feed the `S3Object` with the `Data Input Stream`, `Content Type` and `Content Length` you&#39;ll get from [`MultipartFile.getInputStream()`][2], [`MultipartFile.getContentType()`][3] and [`MultipartFile.getSize()`][4] respectively.\r\n\r\n  [1]: http://jets3t.s3.amazonaws.com/toolkit/code-samples.html#uploading\r\n  [2]: http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/multipart/MultipartFile.html#getInputStream--\r\n  [3]: http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/multipart/MultipartFile.html#getContentType--\r\n  [4]: http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/multipart/MultipartFile.html#getSize--","title":"Converting MultipartFile to java.io.File without copying to local machine","body":"<p>The question is already more than one year old, so I'm not sure if the <a href=\"http://jets3t.s3.amazonaws.com/toolkit/code-samples.html#uploading\" rel=\"noreferrer\">jets35</a> link provided by the OP had the following snippet at that time.</p>\n\n<blockquote>\n  <p>If your data isn't a <code>File</code> or <code>String</code> you can use any <strong>input stream</strong> as a data source, but <strong>you must manually set the Content-Length</strong>.</p>\n  \n  <pre class=\"lang-java prettyprint-override\"><code>// Create an object containing a greeting string as input stream data.\nString greeting = \"Hello World!\";\n\nS3Object helloWorldObject = new S3Object(\"HelloWorld2.txt\");\n\nByteArrayInputStream greetingIS = new ByteArrayInputStream(greeting.getBytes());\n\nhelloWorldObject.setDataInputStream(greetingIS);\nhelloWorldObject.setContentLength(\n    greeting.getBytes(Constants.DEFAULT_ENCODING).length);\nhelloWorldObject.setContentType(\"text/plain\");\n\ns3Service.putObject(testBucket, helloWorldObject);\n</code></pre>\n</blockquote>\n\n<p>It turns out you don't have to create a local file first. As @Boris suggests you can feed the <code>S3Object</code> with the <code>Data Input Stream</code>, <code>Content Type</code> and <code>Content Length</code> you'll get from <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/multipart/MultipartFile.html#getInputStream--\" rel=\"noreferrer\"><code>MultipartFile.getInputStream()</code></a>, <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/multipart/MultipartFile.html#getContentType--\" rel=\"noreferrer\"><code>MultipartFile.getContentType()</code></a> and <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/multipart/MultipartFile.html#getSize--\" rel=\"noreferrer\"><code>MultipartFile.getSize()</code></a> respectively.</p>\n"},{"tags":[],"owner":{"account_id":10203549,"reputation":1434,"user_id":7532946,"accept_rate":0,"display_name":"anson"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1623945475,"creation_date":1623945475,"answer_id":68022767,"question_id":21089106,"body_markdown":"if you are try to use in httpentity check my answer here\r\n\r\n\r\n    https://stackoverflow.com/a/68022695/7532946","title":"Converting MultipartFile to java.io.File without copying to local machine","body":"<p>if you are try to use in httpentity check my answer here</p>\n<pre><code>https://stackoverflow.com/a/68022695/7532946\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650184144,"creation_date":1650184144,"answer_id":71900410,"question_id":21089106,"body_markdown":"Instead of copying it to your local machine, you can just do this and replace the file name with this:\r\n\r\n    File newFile = new File(multipartFile.getOriginalName());\r\n\r\nThis way, you don&#39;t have to have a local destination create your file","title":"Converting MultipartFile to java.io.File without copying to local machine","body":"<p>Instead of copying it to your local machine, you can just do this and replace the file name with this:</p>\n<pre><code>File newFile = new File(multipartFile.getOriginalName());\n</code></pre>\n<p>This way, you don't have to have a local destination create your file</p>\n"}],"owner":{"account_id":2729259,"reputation":6968,"user_id":2353403,"accept_rate":82,"display_name":"Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40737,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":21089474,"answer_count":4,"score":13,"last_activity_date":1650184144,"creation_date":1389609245,"question_id":21089106,"body_markdown":"I have a Java Spring MVC web application. From client, through AngularJS, I am uploading a file and posting it to Controller as webservice.\r\n\r\nIn my Controller, I am gettinfg it as **MultipartFile** and I can copy it to local machine.\r\n\r\nBut I want to upload the file to **Amazone S3** bucket. So I have to convert it to **java.io.File**. Right now what I am doing is, I am copying it to local machine and then uploading to S3 using [**jets3t**][1].\r\n\r\nHere is my way of converting in controller\r\n\r\n    MultipartHttpServletRequest mRequest=(MultipartHttpServletRequest)request;\r\n    \r\n    Iterator&lt;String&gt; itr=mRequest.getFileNames();\r\n    \t\twhile(itr.hasNext()){\r\n    \t\t\tMultipartFile mFile=mRequest.getFile(itr.next());\r\n    \t\t\tString fileName=mFile.getOriginalFilename();\r\n    \t\t\t\r\n    \t\t\tfileLoc=&quot;/home/mydocs/my-uploads/&quot;+date+&quot;_&quot;+fileName; //date is String form of current date.\r\n\r\nThen I am using FIleCopyUtils of SpringFramework\r\n\r\n    File newFile = new File(fileLoc);\r\n    \t\t\t\t\r\n    \t\t\t\t  // if the directory does not exist, create it\r\n    \t\t\t\t  if (!newFile.getParentFile().exists()) {\r\n    \t\t\t\t    newFile.getParentFile().mkdirs();  \r\n    \t\t\t\t  }\r\n    \t\t\t\tFileCopyUtils.copy(mFile.getBytes(), newFile);\r\n\r\n\r\n\r\nSo it will create a new file in the local machine. That file I am uplaoding in S3\r\n\r\n    S3Object fileObject = new S3Object(newFile);\r\n    \t\t\t\t\r\n    s3Service.putObject(&quot;myBucket&quot;, fileObject);\r\n\r\nIt creates file in my local system. I don&#39;t want to create.\r\n\r\n**Without creating a file in local system, how to convert a *MultipartFIle* to *java.io.File*?**\r\n\r\n\r\n  [1]: http://jets3t.s3.amazonaws.com/toolkit/code-samples.html","title":"Converting MultipartFile to java.io.File without copying to local machine","body":"<p>I have a Java Spring MVC web application. From client, through AngularJS, I am uploading a file and posting it to Controller as webservice.</p>\n\n<p>In my Controller, I am gettinfg it as <strong>MultipartFile</strong> and I can copy it to local machine.</p>\n\n<p>But I want to upload the file to <strong>Amazone S3</strong> bucket. So I have to convert it to <strong>java.io.File</strong>. Right now what I am doing is, I am copying it to local machine and then uploading to S3 using <a href=\"http://jets3t.s3.amazonaws.com/toolkit/code-samples.html\" rel=\"noreferrer\"><strong>jets3t</strong></a>.</p>\n\n<p>Here is my way of converting in controller</p>\n\n<pre><code>MultipartHttpServletRequest mRequest=(MultipartHttpServletRequest)request;\n\nIterator&lt;String&gt; itr=mRequest.getFileNames();\n        while(itr.hasNext()){\n            MultipartFile mFile=mRequest.getFile(itr.next());\n            String fileName=mFile.getOriginalFilename();\n\n            fileLoc=\"/home/mydocs/my-uploads/\"+date+\"_\"+fileName; //date is String form of current date.\n</code></pre>\n\n<p>Then I am using FIleCopyUtils of SpringFramework</p>\n\n<pre><code>File newFile = new File(fileLoc);\n\n                  // if the directory does not exist, create it\n                  if (!newFile.getParentFile().exists()) {\n                    newFile.getParentFile().mkdirs();  \n                  }\n                FileCopyUtils.copy(mFile.getBytes(), newFile);\n</code></pre>\n\n<p>So it will create a new file in the local machine. That file I am uplaoding in S3</p>\n\n<pre><code>S3Object fileObject = new S3Object(newFile);\n\ns3Service.putObject(\"myBucket\", fileObject);\n</code></pre>\n\n<p>It creates file in my local system. I don't want to create.</p>\n\n<p><strong>Without creating a file in local system, how to convert a <em>MultipartFIle</em> to <em>java.io.File</em>?</strong></p>\n"},{"tags":["java","kotlin","reflection"],"answers":[{"tags":[],"owner":{"account_id":16027731,"reputation":1182,"user_id":11567551,"display_name":"Michiel Leegwater"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569143479,"creation_date":1569140786,"answer_id":58047393,"question_id":58047229,"body_markdown":"In this specific case I think the [`isDefault()`][1] method should return `true`.\r\n\r\nI would have expected `Polite::class.java.getMethod(&quot;giveHello&quot;)` to return the method, but not `getDeclaredMethod()`, but we are in the world of using Java reflection on Kotlin classes and interfaces. The Java expectations may not be met.\r\n\r\nYou could use kotlin reflection though, use `declaredMembers` to get the properties and functions from the [`KClass`][2]. Note, import from `kotlin.reflect.full` is required, since extension methods are used.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Method.html#isDefault--\r\n  [2]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/index.html","title":"How to check if a class has overriden a default method from an interface using Reflection in Kotlin or Java?","body":"<p>In this specific case I think the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Method.html#isDefault--\" rel=\"nofollow noreferrer\"><code>isDefault()</code></a> method should return <code>true</code>.</p>\n\n<p>I would have expected <code>Polite::class.java.getMethod(\"giveHello\")</code> to return the method, but not <code>getDeclaredMethod()</code>, but we are in the world of using Java reflection on Kotlin classes and interfaces. The Java expectations may not be met.</p>\n\n<p>You could use kotlin reflection though, use <code>declaredMembers</code> to get the properties and functions from the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/index.html\" rel=\"nofollow noreferrer\"><code>KClass</code></a>. Note, import from <code>kotlin.reflect.full</code> is required, since extension methods are used.</p>\n"},{"tags":[],"owner":{"account_id":7230627,"reputation":1424,"user_id":5517612,"display_name":"Todd Sewell"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1650184053,"creation_date":1569144510,"answer_id":58047891,"question_id":58047229,"body_markdown":"As described in [KT-4779](https://youtrack.jetbrains.com/issue/KT-4779), currently Kotlin default functions are not implemented using actual Java/JVM default methods. The default implementation lives in a static method instead, and all classes using that default implementation just call that static method. This is done to ensure Kotlin default functions also work on the 1.6 JVM target which doesn&#39;t have them yet.\r\n\r\nSo your code roughly compiles to this Java equivalent:\r\n\r\n```java\r\npublic interface MyType {\r\n  public String giveHello();\r\n\r\n  public static class MyTypeImpls {\r\n     public static String giveHello() { return &quot;Hello!&quot; }\r\n  }\r\n}\r\n\r\npublic final class Polite implements MyType {\r\n  //does not override\r\n  public String giveHello() { return MyType.MyTypeImpls.giveHello() }\r\n}\r\n\r\npublic final class Rude implements MyType {\r\n  //does override\r\n  override fun giveHello() { return &quot;I don&#39;t like you&quot; }\r\n}\r\n```\r\n\r\nThis is why java reflection thinks both classes override the function, ie because they actually do.\r\n\r\nYou need to use Kotlin reflection here, notably [`declaredMemberFunctions`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/declared-member-functions.html) and [`memberFunctions`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/member-functions.html):\r\n\r\n```kotlin\r\nfun overridesGiveHello&lt;T: MyType&gt;(cls: KClass&lt;T&gt;) =\r\n        cls.memberFunctions.first { it.name == &quot;giveHello&quot; } in cls.declaredFunctions\r\n\r\nprintln(overridesGiveHello(Polite::class)) //false\r\nprintln(overridesGiveHello(Rude::class))  //true\r\n```","title":"How to check if a class has overriden a default method from an interface using Reflection in Kotlin or Java?","body":"<p>As described in <a href=\"https://youtrack.jetbrains.com/issue/KT-4779\" rel=\"nofollow noreferrer\">KT-4779</a>, currently Kotlin default functions are not implemented using actual Java/JVM default methods. The default implementation lives in a static method instead, and all classes using that default implementation just call that static method. This is done to ensure Kotlin default functions also work on the 1.6 JVM target which doesn't have them yet.</p>\n<p>So your code roughly compiles to this Java equivalent:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyType {\n  public String giveHello();\n\n  public static class MyTypeImpls {\n     public static String giveHello() { return &quot;Hello!&quot; }\n  }\n}\n\npublic final class Polite implements MyType {\n  //does not override\n  public String giveHello() { return MyType.MyTypeImpls.giveHello() }\n}\n\npublic final class Rude implements MyType {\n  //does override\n  override fun giveHello() { return &quot;I don't like you&quot; }\n}\n</code></pre>\n<p>This is why java reflection thinks both classes override the function, ie because they actually do.</p>\n<p>You need to use Kotlin reflection here, notably <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/declared-member-functions.html\" rel=\"nofollow noreferrer\"><code>declaredMemberFunctions</code></a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.full/member-functions.html\" rel=\"nofollow noreferrer\"><code>memberFunctions</code></a>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun overridesGiveHello&lt;T: MyType&gt;(cls: KClass&lt;T&gt;) =\n        cls.memberFunctions.first { it.name == &quot;giveHello&quot; } in cls.declaredFunctions\n\nprintln(overridesGiveHello(Polite::class)) //false\nprintln(overridesGiveHello(Rude::class))  //true\n</code></pre>\n"}],"owner":{"account_id":10719481,"reputation":1127,"user_id":7889026,"display_name":"harold_admin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1438,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":58047891,"answer_count":2,"score":5,"last_activity_date":1650184053,"creation_date":1569139291,"question_id":58047229,"body_markdown":"I have an interface with a default method, and two classes which implement this interface. One of the classes overrides the default method, and the other does not.\r\n\r\n```kotlin\r\ninterface MyType {\r\n  fun giveHello(): String = &quot;Hello!&quot;\r\n}\r\n\r\nclass Polite: MyType {\r\n  // Does not override giveHello()\r\n}\r\n\r\nclass Rude: MyType {\r\n  override fun giveHello(): String = &quot;I don&#39;t like you&quot;\r\n}\r\n```\r\n\r\nI get access to the `giveHello` method using reflection like this:\r\n```kotlin\r\nval methodOfPolite = Polite::class.java.getDeclaredMethod(&quot;giveHello&quot;)\r\nval methodOfRude = Rude::class.java.getDeclaredMethod(&quot;giveHello&quot;)\r\n```\r\n\r\nThere&#39;s one weird thing here. The polite class does not override the `giveHello` method, but the `declaringClass` of this method object still points to `Polite`.\r\n\r\n**So is there a way I can check whether the class actually did override the default interface method or not?**\r\n\r\nMy use case looks something like this (assuming we can get the behaviour I&#39;m asking for in a property called `isOverriden`):\r\n```kotlin\r\nif (methodOfPolite.isOverriden) {\r\n  // do something\r\n} else {\r\n  // do something else\r\n}\r\n```","title":"How to check if a class has overriden a default method from an interface using Reflection in Kotlin or Java?","body":"<p>I have an interface with a default method, and two classes which implement this interface. One of the classes overrides the default method, and the other does not.</p>\n\n<pre><code>interface MyType {\n  fun giveHello(): String = \"Hello!\"\n}\n\nclass Polite: MyType {\n  // Does not override giveHello()\n}\n\nclass Rude: MyType {\n  override fun giveHello(): String = \"I don't like you\"\n}\n</code></pre>\n\n<p>I get access to the <code>giveHello</code> method using reflection like this:</p>\n\n<pre><code>val methodOfPolite = Polite::class.java.getDeclaredMethod(\"giveHello\")\nval methodOfRude = Rude::class.java.getDeclaredMethod(\"giveHello\")\n</code></pre>\n\n<p>There's one weird thing here. The polite class does not override the <code>giveHello</code> method, but the <code>declaringClass</code> of this method object still points to <code>Polite</code>.</p>\n\n<p><strong>So is there a way I can check whether the class actually did override the default interface method or not?</strong></p>\n\n<p>My use case looks something like this (assuming we can get the behaviour I'm asking for in a property called <code>isOverriden</code>):</p>\n\n<pre><code>if (methodOfPolite.isOverriden) {\n  // do something\n} else {\n  // do something else\n}\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-firestore","android-recyclerview"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1650193605,"post_id":71898883,"comment_id":127054913,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":24968621,"reputation":1,"user_id":18831973,"display_name":"Cristina11"},"score":0,"creation_date":1650230955,"post_id":71898883,"comment_id":127062375,"body_markdown":"No, I have no errors, but nothing is displayed on the phone and I don&#39;t know why. @AlexMamo","body":"No, I have no errors, but nothing is displayed on the phone and I don&#39;t know why. @AlexMamo"}],"answers":[{"tags":[],"owner":{"account_id":10833670,"reputation":549,"user_id":7967235,"display_name":"Avital"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650183416,"creation_date":1650183416,"answer_id":71900318,"question_id":71898883,"body_markdown":"You try to retreive `actualizare` as a `long` variable while it is a `timestamp`. Try to change all the **long** to **Date** inside your class:\r\n\r\n    import java.util.Date;\r\n\r\n    public class Pacienti {\r\n    public String nume, varsta;\r\n    public Date actualizare;\r\n\r\n    public Pacienti(){\r\n\r\n    }\r\n\r\n    public Pacienti(String nume, String varsta, Date actualizare) {\r\n        this.nume = nume;\r\n        this.varsta = varsta;\r\n        this.actualizare = actualizare;\r\n    }\r\n\r\n    public String getNume() {\r\n        return nume;\r\n    }\r\n\r\n    public void setNume(String nume) {\r\n        this.nume = nume;\r\n    }\r\n\r\n\r\n    public String getVarsta() {\r\n        return varsta;\r\n    }\r\n\r\n    public void setVarsta(String varsta) {\r\n        this.varsta = varsta;\r\n    }\r\n\r\n\r\n    public Date getActualizare() {\r\n        return actualizare;\r\n    }\r\n\r\n\r\n    public void setActualizare(Date actualizare) {\r\n        this.actualizare = actualizare;\r\n    }\r\n}","title":"Unable to retrieve data from firestore in recyclerview","body":"<p>You try to retreive <code>actualizare</code> as a <code>long</code> variable while it is a <code>timestamp</code>. Try to change all the <strong>long</strong> to <strong>Date</strong> inside your class:</p>\n<pre><code>import java.util.Date;\n\npublic class Pacienti {\npublic String nume, varsta;\npublic Date actualizare;\n\npublic Pacienti(){\n\n}\n\npublic Pacienti(String nume, String varsta, Date actualizare) {\n    this.nume = nume;\n    this.varsta = varsta;\n    this.actualizare = actualizare;\n}\n\npublic String getNume() {\n    return nume;\n}\n\npublic void setNume(String nume) {\n    this.nume = nume;\n}\n\n\npublic String getVarsta() {\n    return varsta;\n}\n\npublic void setVarsta(String varsta) {\n    this.varsta = varsta;\n}\n\n\npublic Date getActualizare() {\n    return actualizare;\n}\n\n\npublic void setActualizare(Date actualizare) {\n    this.actualizare = actualizare;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":24968621,"reputation":1,"user_id":18831973,"display_name":"Cristina11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650183416,"creation_date":1650163064,"question_id":71898883,"body_markdown":"My activity code: \r\n\r\n```\r\npackage com.example.licenta;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\n\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.firestore.DocumentChange;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.EventListener;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.FirebaseFirestoreException;\r\nimport com.google.firebase.firestore.Query;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class ListaPacienti extends AppCompatActivity {\r\n\r\n\r\n    RecyclerView recyclerView;\r\n    FirebaseFirestore db;\r\n    Myadapter myadapter;\r\n    ArrayList&lt;Pacienti&gt; list;\r\n    ProgressDialog progressDialog;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_lista_pacienti);\r\n\r\n        //progressDialog = new ProgressDialog(this);\r\n        //progressDialog.setCancelable(false);\r\n        //progressDialog.setMessage(&quot;...&quot;);\r\n        //progressDialog.show();\r\n\r\n        recyclerView = findViewById(R.id.listapacienti);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        db = FirebaseFirestore.getInstance();\r\n        list = new ArrayList&lt;Pacienti&gt;();\r\n        myadapter = new Myadapter(ListaPacienti.this, list);\r\n        recyclerView.setAdapter(myadapter);\r\n\r\n\r\n\r\n        EventChangeListener();\r\n    }\r\n\r\n\r\n    private void EventChangeListener() {\r\n        db.collection(&quot;Nume&quot;)\r\n                .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\r\n\r\n                        if (error!=null){\r\n\r\n                            Log.e(&quot;Firestore error&quot;, error.getMessage());\r\n                            return;\r\n                        }\r\n\r\n                        for (DocumentChange dc: value.getDocumentChanges()){\r\n\r\n                            if(dc.getType() == DocumentChange.Type.ADDED){\r\n\r\n                                list.add(dc.getDocument().toObject(Pacienti.class));\r\n\r\n                            }\r\n\r\n                            myadapter.notifyDataSetChanged();\r\n\r\n                        }\r\n\r\n\r\n                    };\r\n                });\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nAdapter code:\r\n```\r\npackage com.example.licenta;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class Myadapter extends RecyclerView.Adapter&lt;Myadapter.MyViewHolder&gt; {\r\n\r\n    Context context;\r\n    ArrayList&lt;Pacienti&gt; list;\r\n    \r\n    public Myadapter(Context context, ArrayList&lt;Pacienti&gt; list) {\r\n        this.context = context;\r\n        this.list = list;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Myadapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.item, parent, false);\r\n        return new MyViewHolder(v);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\r\n\r\n        Pacienti pacienti = list.get(position);\r\n\r\n\r\n        holder.nume.setText(list.get(position).getNume());\r\n        holder.varsta.setText(list.get(position).getVarsta());\r\n        holder.actualizare.setText(String.valueOf(list.get(position).getActualizare()));\r\n        //holder.varsta.setText(String.valueOf(list.varsta));\r\n        //holder.actualizare.setText(String.valueOf(pacienti.actualizare));\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n\r\n        return list.size();\r\n    }\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView nume, varsta, actualizare;\r\n\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            nume=itemView.findViewById(R.id.lstnume);\r\n            varsta=itemView.findViewById(R.id.lstvarsta);\r\n            actualizare=itemView.findViewById(R.id.lstactualizare);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nClass code: \r\n```\r\npackage com.example.licenta;\r\n\r\npublic class Pacienti {\r\n\r\n    public String nume, varsta;\r\n    public long actualizare;\r\n\r\n    public Pacienti(){\r\n\r\n    }\r\n\r\n    public Pacienti(String nume, String varsta, long actualizare) {\r\n        this.nume = nume;\r\n        this.varsta = varsta;\r\n        this.actualizare = actualizare;\r\n    }\r\n\r\n    public String getNume() {\r\n        return nume;\r\n    }\r\n\r\n    public void setNume(String nume) {\r\n        this.nume = nume;\r\n    }\r\n\r\n\r\n    public String getVarsta() {\r\n        return varsta;\r\n    }\r\n\r\n    public void setVarsta(String varsta) {\r\n        this.varsta = varsta;\r\n    }\r\n\r\n\r\n    public long getActualizare() {\r\n        return actualizare;\r\n    }\r\n\r\n\r\n    public void setActualizare(long actualizare) {\r\n        this.actualizare = actualizare;\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd the firestore:\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rC5cj.png\r\n\r\nI don&#39;t know if my google-services.json is the problem. \r\n```\r\n{\r\n  &quot;project_info&quot;: {\r\n    &quot;project_number&quot;: &quot;825557024849&quot;,\r\n    &quot;project_id&quot;: &quot;listapacienti&quot;,\r\n    &quot;storage_bucket&quot;: &quot;listapacienti.appspot.com&quot;\r\n  },\r\n  &quot;client&quot;: [\r\n    {\r\n      &quot;client_info&quot;: {\r\n        &quot;mobilesdk_app_id&quot;: &quot;1:825557024849:android:e17859e27645053a59b870&quot;,\r\n        &quot;android_client_info&quot;: {\r\n          &quot;package_name&quot;: &quot;com.example.licenta&quot;\r\n        }\r\n      },\r\n      &quot;oauth_client&quot;: [\r\n        {\r\n          &quot;client_id&quot;: &quot;825557024849-v2kacaptlk31v3lbp7gn2pboi70bfda9.apps.googleusercontent.com&quot;,\r\n          &quot;client_type&quot;: 3\r\n        }\r\n      ],\r\n      &quot;api_key&quot;: [\r\n        {\r\n          &quot;current_key&quot;: &quot;AIzaSyCGkeG2qA8tSUYGV5dMjKz-RTcJAtXs1dw&quot;\r\n        }\r\n      ],\r\n      &quot;services&quot;: {\r\n        &quot;appinvite_service&quot;: {\r\n          &quot;other_platform_oauth_client&quot;: [\r\n            {\r\n              &quot;client_id&quot;: &quot;825557024849-v2kacaptlk31v3lbp7gn2pboi70bfda9.apps.googleusercontent.com&quot;,\r\n              &quot;client_type&quot;: 3\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    }\r\n  ],\r\n  &quot;configuration_version&quot;: &quot;1&quot;\r\n}\r\n```\r\nThe app start, but doesn&#39;t show data from firebase.I tried with get() but it doesn&#39;t work.\r\nIt is a part of an app so it is possible to have this problem from another file? \r\n","title":"Unable to retrieve data from firestore in recyclerview","body":"<p>My activity code:</p>\n<pre><code>package com.example.licenta;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.app.ProgressDialog;\nimport android.os.Bundle;\nimport android.util.Log;\n\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.firebase.firestore.DocumentChange;\nimport com.google.firebase.firestore.DocumentSnapshot;\nimport com.google.firebase.firestore.EventListener;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.FirebaseFirestoreException;\nimport com.google.firebase.firestore.Query;\nimport com.google.firebase.firestore.QuerySnapshot;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class ListaPacienti extends AppCompatActivity {\n\n\n    RecyclerView recyclerView;\n    FirebaseFirestore db;\n    Myadapter myadapter;\n    ArrayList&lt;Pacienti&gt; list;\n    ProgressDialog progressDialog;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_lista_pacienti);\n\n        //progressDialog = new ProgressDialog(this);\n        //progressDialog.setCancelable(false);\n        //progressDialog.setMessage(&quot;...&quot;);\n        //progressDialog.show();\n\n        recyclerView = findViewById(R.id.listapacienti);\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        db = FirebaseFirestore.getInstance();\n        list = new ArrayList&lt;Pacienti&gt;();\n        myadapter = new Myadapter(ListaPacienti.this, list);\n        recyclerView.setAdapter(myadapter);\n\n\n\n        EventChangeListener();\n    }\n\n\n    private void EventChangeListener() {\n        db.collection(&quot;Nume&quot;)\n                .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\n                    @Override\n                    public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\n\n                        if (error!=null){\n\n                            Log.e(&quot;Firestore error&quot;, error.getMessage());\n                            return;\n                        }\n\n                        for (DocumentChange dc: value.getDocumentChanges()){\n\n                            if(dc.getType() == DocumentChange.Type.ADDED){\n\n                                list.add(dc.getDocument().toObject(Pacienti.class));\n\n                            }\n\n                            myadapter.notifyDataSetChanged();\n\n                        }\n\n\n                    };\n                });\n\n    }\n\n}\n</code></pre>\n<p>Adapter code:</p>\n<pre><code>package com.example.licenta;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class Myadapter extends RecyclerView.Adapter&lt;Myadapter.MyViewHolder&gt; {\n\n    Context context;\n    ArrayList&lt;Pacienti&gt; list;\n    \n    public Myadapter(Context context, ArrayList&lt;Pacienti&gt; list) {\n        this.context = context;\n        this.list = list;\n    }\n\n    @NonNull\n    @Override\n    public Myadapter.MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.item, parent, false);\n        return new MyViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n\n        Pacienti pacienti = list.get(position);\n\n\n        holder.nume.setText(list.get(position).getNume());\n        holder.varsta.setText(list.get(position).getVarsta());\n        holder.actualizare.setText(String.valueOf(list.get(position).getActualizare()));\n        //holder.varsta.setText(String.valueOf(list.varsta));\n        //holder.actualizare.setText(String.valueOf(pacienti.actualizare));\n\n    }\n\n    @Override\n    public int getItemCount() {\n\n        return list.size();\n    }\n\n    public static class MyViewHolder extends RecyclerView.ViewHolder{\n\n        TextView nume, varsta, actualizare;\n\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            nume=itemView.findViewById(R.id.lstnume);\n            varsta=itemView.findViewById(R.id.lstvarsta);\n            actualizare=itemView.findViewById(R.id.lstactualizare);\n        }\n    }\n}\n</code></pre>\n<p>Class code:</p>\n<pre><code>package com.example.licenta;\n\npublic class Pacienti {\n\n    public String nume, varsta;\n    public long actualizare;\n\n    public Pacienti(){\n\n    }\n\n    public Pacienti(String nume, String varsta, long actualizare) {\n        this.nume = nume;\n        this.varsta = varsta;\n        this.actualizare = actualizare;\n    }\n\n    public String getNume() {\n        return nume;\n    }\n\n    public void setNume(String nume) {\n        this.nume = nume;\n    }\n\n\n    public String getVarsta() {\n        return varsta;\n    }\n\n    public void setVarsta(String varsta) {\n        this.varsta = varsta;\n    }\n\n\n    public long getActualizare() {\n        return actualizare;\n    }\n\n\n    public void setActualizare(long actualizare) {\n        this.actualizare = actualizare;\n    }\n}\n\n</code></pre>\n<p>And the firestore:</p>\n<p><a href=\"https://i.stack.imgur.com/rC5cj.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I don't know if my google-services.json is the problem.</p>\n<pre><code>{\n  &quot;project_info&quot;: {\n    &quot;project_number&quot;: &quot;825557024849&quot;,\n    &quot;project_id&quot;: &quot;listapacienti&quot;,\n    &quot;storage_bucket&quot;: &quot;listapacienti.appspot.com&quot;\n  },\n  &quot;client&quot;: [\n    {\n      &quot;client_info&quot;: {\n        &quot;mobilesdk_app_id&quot;: &quot;1:825557024849:android:e17859e27645053a59b870&quot;,\n        &quot;android_client_info&quot;: {\n          &quot;package_name&quot;: &quot;com.example.licenta&quot;\n        }\n      },\n      &quot;oauth_client&quot;: [\n        {\n          &quot;client_id&quot;: &quot;825557024849-v2kacaptlk31v3lbp7gn2pboi70bfda9.apps.googleusercontent.com&quot;,\n          &quot;client_type&quot;: 3\n        }\n      ],\n      &quot;api_key&quot;: [\n        {\n          &quot;current_key&quot;: &quot;AIzaSyCGkeG2qA8tSUYGV5dMjKz-RTcJAtXs1dw&quot;\n        }\n      ],\n      &quot;services&quot;: {\n        &quot;appinvite_service&quot;: {\n          &quot;other_platform_oauth_client&quot;: [\n            {\n              &quot;client_id&quot;: &quot;825557024849-v2kacaptlk31v3lbp7gn2pboi70bfda9.apps.googleusercontent.com&quot;,\n              &quot;client_type&quot;: 3\n            }\n          ]\n        }\n      }\n    }\n  ],\n  &quot;configuration_version&quot;: &quot;1&quot;\n}\n</code></pre>\n<p>The app start, but doesn't show data from firebase.I tried with get() but it doesn't work.\nIt is a part of an app so it is possible to have this problem from another file?</p>\n"},{"tags":["java","jsoup"],"comments":[{"owner":{"account_id":121881,"reputation":20677,"user_id":315306,"accept_rate":90,"display_name":"Raffaele"},"score":0,"creation_date":1430044705,"post_id":29876506,"comment_id":47877371,"body_markdown":"Likely there&#39;s no element with id `header.tableHeader` - maybe you are looking for a selector like `docw.select(&quot;#trestleLifts time&quot;)`, and then you should pick the first element","body":"Likely there&#39;s no element with id <code>header.tableHeader</code> - maybe you are looking for a selector like <code>docw.select(&quot;#trestleLifts time&quot;)</code>, and then you should pick the first element"},{"owner":{"account_id":5226677,"reputation":551,"user_id":4178519,"accept_rate":57,"display_name":"Agustin Scalisi"},"score":0,"creation_date":1430067595,"post_id":29876506,"comment_id":47885397,"body_markdown":"Doesnt crash, but show nothing. I use this url      http://trestlebikepark.com/Lift_TrailStatus.html","body":"Doesnt crash, but show nothing. I use this url      <a href=\"http://trestlebikepark.com/Lift_TrailStatus.html\" rel=\"nofollow noreferrer\">trestlebikepark.com/Lift_TrailStatus.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1650182816,"creation_date":1430044903,"answer_id":29876584,"question_id":29876506,"body_markdown":"    Element doc = docw.getElementById(&quot;header.tableHeader&quot;);\r\n\r\ndoesn&#39;t make much sense since there is no tag with `id=&quot;header.tableHeader&quot;` attribute.\r\n\r\nSince you are using CSS selector you want `select` method instead to pick `&lt;header class=&quot;tableHeader&quot;&gt;`.\r\n\r\n\tElements doc = docw.select(&quot;header.tableHeader&quot;);\r\n\r\nThan just pick `time` element \r\n\r\n    Elements h1 = doc.select(&quot;time&quot;);\r\n\r\nBTW you can do it all in one call via \r\n\r\n    \r\n    Elements h1 = doc.select(&quot;header.tableHeader time&quot;);\r\n\r\n---\r\nBased on your comment in which you include address of page you want to parse, it seems that problem with this solution is that `&lt;time&gt;` is empty `&lt;time&gt;&lt;/time&gt;` after page is loaded and its content is later generated by JavaScript. In that case Jsoup will not be able to help you, because it is HTML parser without support of JS engine. You will have to use different tool like selenium webdriver or HTMLutils.","title":"Retrieve time tag with Jsoup","body":"<pre><code>Element doc = docw.getElementById(&quot;header.tableHeader&quot;);\n</code></pre>\n<p>doesn't make much sense since there is no tag with <code>id=&quot;header.tableHeader&quot;</code> attribute.</p>\n<p>Since you are using CSS selector you want <code>select</code> method instead to pick <code>&lt;header class=&quot;tableHeader&quot;&gt;</code>.</p>\n<pre><code>Elements doc = docw.select(&quot;header.tableHeader&quot;);\n</code></pre>\n<p>Than just pick <code>time</code> element</p>\n<pre><code>Elements h1 = doc.select(&quot;time&quot;);\n</code></pre>\n<p>BTW you can do it all in one call via</p>\n<pre><code>Elements h1 = doc.select(&quot;header.tableHeader time&quot;);\n</code></pre>\n<hr />\n<p>Based on your comment in which you include address of page you want to parse, it seems that problem with this solution is that <code>&lt;time&gt;</code> is empty <code>&lt;time&gt;&lt;/time&gt;</code> after page is loaded and its content is later generated by JavaScript. In that case Jsoup will not be able to help you, because it is HTML parser without support of JS engine. You will have to use different tool like selenium webdriver or HTMLutils.</p>\n"}],"owner":{"account_id":5226677,"reputation":551,"user_id":4178519,"accept_rate":57,"display_name":"Agustin Scalisi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":649,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1650182816,"creation_date":1430044363,"question_id":29876506,"body_markdown":"This is my Html:\r\n\r\n    &lt;div id=&quot;trestleLifts&quot;&gt;\r\n                &lt;header class=&quot;tableHeader&quot;&gt;\r\n                    &lt;time&gt;as of 4/23/15 @5:18 AM MST&lt;/time&gt;\r\n                    &lt;h2&gt;Lifts&lt;/h2&gt;\r\n                &lt;/header&gt;\r\n               \r\nI need the time Tag, but cant resolve it.\r\n\r\nI try with this code, but the app crash\r\n\r\n      Document docw = Jsoup.connect(url).get();\r\n      Element doc = docw.getElementById(&quot;header.tableHeader&quot;);\r\n                Elements h1=doc.getElementsByTag(&quot;time&quot;);\r\n                String tit = h1.text();\r\n\r\n","title":"Retrieve time tag with Jsoup","body":"<p>This is my Html:</p>\n\n<pre><code>&lt;div id=\"trestleLifts\"&gt;\n            &lt;header class=\"tableHeader\"&gt;\n                &lt;time&gt;as of 4/23/15 @5:18 AM MST&lt;/time&gt;\n                &lt;h2&gt;Lifts&lt;/h2&gt;\n            &lt;/header&gt;\n</code></pre>\n\n<p>I need the time Tag, but cant resolve it.</p>\n\n<p>I try with this code, but the app crash</p>\n\n<pre><code>  Document docw = Jsoup.connect(url).get();\n  Element doc = docw.getElementById(\"header.tableHeader\");\n            Elements h1=doc.getElementsByTag(\"time\");\n            String tit = h1.text();\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650190523,"post_id":71900046,"comment_id":127054359,"body_markdown":"The method is executed by the current thread.","body":"The method is executed by the current thread."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650190766,"post_id":71900046,"comment_id":127054420,"body_markdown":"&#39;It results in MainThreadNetworking Exception &#39;: no it didn&#39;t. You got `NetworkingOnMainThreadException`. Be accurate.","body":"&#39;It results in MainThreadNetworking Exception &#39;: no it didn&#39;t. You got <code>NetworkingOnMainThreadException</code>. Be accurate."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650182645,"creation_date":1650182645,"answer_id":71900259,"question_id":71900046,"body_markdown":"There is no way to tell another thread to execute something. So, no, the above simply runs it in _your_ thread. Note, there&#39;s the concept &#39;Thread -a thing that runs on an OS core&#39; and &#39;java.lang.Thread - an object that represents that concept&#39;. They are not quite identical. I&#39;ll use `j.l.Thread` to indicate the Thread object and just thread for the OS concept. `j.l.Thread` is __just an object__, it&#39;s not particularly magical. Just interacting with a `j.l.Thread` instance is just.. interacting with an object. It doesn&#39;t convey magical &#39;anything you do with this object somehow runs in a separate thread&#39; powers.\r\n\r\nThere are only only 2 ways to tell another thread (OS-level or j.l.Thread) to execute something, i.e., only 2 ways to use `j.l.Thread` to actually run stuff in separate threads:\r\n\r\n* When creating a `j.l.Thread`, you pass along the &#39;run()&#39; code (either passing a Runnable, or extending Thread and supplying a `run()` method). When some thread runs the code `thatThreadObject.start()` (note: not run!) - then that starts an actual thread, and that newly created thread will, after initializing, begin by executing the code in that run() method of the `j.l.Thread` object.\r\n* By programming it. In other words, perhaps some thread looks like this:\r\n\r\n```\r\nprivate class Runner extends Thread {\r\n  private final ArrayBlockingQueue &lt;Runnable&gt; queue = new ArrayBlockingQueue&lt;&gt;(1000);\r\n\r\n  public void offer(Runnable r) {\r\n    queue.add(r);\r\n  }\r\n\r\n  @Override public void run() {\r\n    while (true) {\r\n      Runnable r = queue.take();\r\n      r.run();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\nThen, imagine some code is running in a thread (not the thread represented by the `j.l.Thread` instance made from the above code), and calls `thatThreadObj.offer(() -&gt; System.out.println(&quot;Hello!&quot;);`...\r\n\r\nthen eventually the thread represented by that `j.l.Thread` will run it. Because you programmed it to do this.\r\n\r\nIf you want something like that, note that the `java.util.concurrent` package has implementations of this concept (`ExecutorPool` and friends). Don&#39;t write it yourself.\r\n","title":"Access vs execute thread&#39;s method","body":"<p>There is no way to tell another thread to execute something. So, no, the above simply runs it in <em>your</em> thread. Note, there's the concept 'Thread -a thing that runs on an OS core' and 'java.lang.Thread - an object that represents that concept'. They are not quite identical. I'll use <code>j.l.Thread</code> to indicate the Thread object and just thread for the OS concept. <code>j.l.Thread</code> is <strong>just an object</strong>, it's not particularly magical. Just interacting with a <code>j.l.Thread</code> instance is just.. interacting with an object. It doesn't convey magical 'anything you do with this object somehow runs in a separate thread' powers.</p>\n<p>There are only only 2 ways to tell another thread (OS-level or j.l.Thread) to execute something, i.e., only 2 ways to use <code>j.l.Thread</code> to actually run stuff in separate threads:</p>\n<ul>\n<li>When creating a <code>j.l.Thread</code>, you pass along the 'run()' code (either passing a Runnable, or extending Thread and supplying a <code>run()</code> method). When some thread runs the code <code>thatThreadObject.start()</code> (note: not run!) - then that starts an actual thread, and that newly created thread will, after initializing, begin by executing the code in that run() method of the <code>j.l.Thread</code> object.</li>\n<li>By programming it. In other words, perhaps some thread looks like this:</li>\n</ul>\n<pre><code>private class Runner extends Thread {\n  private final ArrayBlockingQueue &lt;Runnable&gt; queue = new ArrayBlockingQueue&lt;&gt;(1000);\n\n  public void offer(Runnable r) {\n    queue.add(r);\n  }\n\n  @Override public void run() {\n    while (true) {\n      Runnable r = queue.take();\n      r.run();\n    }\n  }\n}\n</code></pre>\n<p>Then, imagine some code is running in a thread (not the thread represented by the <code>j.l.Thread</code> instance made from the above code), and calls <code>thatThreadObj.offer(() -&gt; System.out.println(&quot;Hello!&quot;);</code>...</p>\n<p>then eventually the thread represented by that <code>j.l.Thread</code> will run it. Because you programmed it to do this.</p>\n<p>If you want something like that, note that the <code>java.util.concurrent</code> package has implementations of this concept (<code>ExecutorPool</code> and friends). Don't write it yourself.</p>\n"}],"owner":{"account_id":18980842,"reputation":93,"user_id":13852262,"display_name":"RektLeft"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1650190718,"answer_count":1,"score":-1,"last_activity_date":1650182645,"creation_date":1650180364,"question_id":71900046,"body_markdown":"Does this line:\r\n\r\n    ClientThread.ClientSocket.getInputStream().read()\r\n\r\ntakes ClientThread&#39;s method and executes it on MainUI thread, or does it tell ClientThread to execute it?\r\n\r\nIt results in MainThreadNetworking Exception so I believe it&#39;s the first option, sadly. If so, how can I execute that method in the ClientThread instead?","title":"Access vs execute thread&#39;s method","body":"<p>Does this line:</p>\n<pre><code>ClientThread.ClientSocket.getInputStream().read()\n</code></pre>\n<p>takes ClientThread's method and executes it on MainUI thread, or does it tell ClientThread to execute it?</p>\n<p>It results in MainThreadNetworking Exception so I believe it's the first option, sadly. If so, how can I execute that method in the ClientThread instead?</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650182196,"creation_date":1650182196,"answer_id":71900219,"question_id":71900145,"body_markdown":"The argument to the `java` executable __is not a file__. It&#39;s a fully qualified class name. To run such a name, java needs to know where the class file lives (as well as the class files for any types mentioned in it, of course) - and it does this by searching the classpath (not the `PATH`), which _are_ file system paths - you can specify either a jar file, or a directory. Either way, the class files need to exactly match the full names, e.g. the full name of the String class is `java.lang.String`. It&#39;s the package + the name (`String.java` starts with `package java.lang;`).\r\n\r\nIt&#39;s not clear whether you have told eclipse that `bin/test` is the base folder, or if `bin` is the base folder and your example class has `package test;` at the top.\r\n\r\nYou&#39;d run something like this:\r\n\r\n```\r\njava -cp ~/eclipse-workspace/bin/test example\r\n# or - depends on that package stuff\r\njava -cp ~/eclipse-workspace/bin test.example\r\n```\r\n\r\nIt gets more complicated if you have deps involved. Then it might look like:\r\n\r\n```\r\njava -cp ~/eclipse-workspace/bin:&#39;~/eclipse-workspace/lib/*&#39; test.example\r\n```\r\n\r\nNote the single quotes: You do _NOT_ want bash (your shell) to expand that star. It also depends on your eclipse config. Your question cannot possibly be an eclipse config, or at least, not without some _wildly_ odd setting shenanigans - normally it&#39;s `workspace/projectname/bin/fully/qualified/package/YourClass.class` - i.e. `workspace/projectname/bin` is the classpath. Not `workspace/bin`.\r\n","title":"How to simplify java route in mac terminal","body":"<p>The argument to the <code>java</code> executable <strong>is not a file</strong>. It's a fully qualified class name. To run such a name, java needs to know where the class file lives (as well as the class files for any types mentioned in it, of course) - and it does this by searching the classpath (not the <code>PATH</code>), which <em>are</em> file system paths - you can specify either a jar file, or a directory. Either way, the class files need to exactly match the full names, e.g. the full name of the String class is <code>java.lang.String</code>. It's the package + the name (<code>String.java</code> starts with <code>package java.lang;</code>).</p>\n<p>It's not clear whether you have told eclipse that <code>bin/test</code> is the base folder, or if <code>bin</code> is the base folder and your example class has <code>package test;</code> at the top.</p>\n<p>You'd run something like this:</p>\n<pre><code>java -cp ~/eclipse-workspace/bin/test example\n# or - depends on that package stuff\njava -cp ~/eclipse-workspace/bin test.example\n</code></pre>\n<p>It gets more complicated if you have deps involved. Then it might look like:</p>\n<pre><code>java -cp ~/eclipse-workspace/bin:'~/eclipse-workspace/lib/*' test.example\n</code></pre>\n<p>Note the single quotes: You do <em>NOT</em> want bash (your shell) to expand that star. It also depends on your eclipse config. Your question cannot possibly be an eclipse config, or at least, not without some <em>wildly</em> odd setting shenanigans - normally it's <code>workspace/projectname/bin/fully/qualified/package/YourClass.class</code> - i.e. <code>workspace/projectname/bin</code> is the classpath. Not <code>workspace/bin</code>.</p>\n"}],"owner":{"account_id":24971282,"reputation":3,"user_id":18834438,"display_name":"user6867"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1650198307,"accepted_answer_id":71900219,"answer_count":1,"score":-1,"last_activity_date":1650182196,"creation_date":1650181529,"question_id":71900145,"body_markdown":"If I have    eclipse-workspace/bin/test/example.class  in my mac\r\nI try `java example` (in test folder, use mac terminal)\r\nBut it doesn&#39;t work just say \r\n\r\n&gt; Error: Could not find or load main class haha\r\n\r\nBut it works `java test/example` (in bin folder)\r\nHow can i declare just &#39;java example&#39; in test folder?\r\n(I probably think it&#39;s about PATH, but i can&#39;t find solution...)","title":"How to simplify java route in mac terminal","body":"<p>If I have    eclipse-workspace/bin/test/example.class  in my mac\nI try <code>java example</code> (in test folder, use mac terminal)\nBut it doesn't work just say</p>\n<blockquote>\n<p>Error: Could not find or load main class haha</p>\n</blockquote>\n<p>But it works <code>java test/example</code> (in bin folder)\nHow can i declare just 'java example' in test folder?\n(I probably think it's about PATH, but i can't find solution...)</p>\n"},{"tags":["java","android","database","sqlite","android-room"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1632512256,"creation_date":1632474576,"answer_id":69312423,"question_id":69310197,"body_markdown":"Much easier to use an `@Query` it&#39;s as simple as:-\r\n\r\n    @Query(&quot;SELECT * FROM UserTable WHERE userId IN (:idList)&quot;)\r\n    public List&lt;UserTable&gt; getWhatever(long[] idList);\r\n\r\nYou&#39;d then use `getWhatever(new long[]{1L,2L})`\r\n\r\nIf you need it an  @rawQuery though you could do it like (used previous answer code for my convenience) :-\r\n\r\n\r\n    private List&lt;TableXEntity&gt; loadAllUserListByIds(int order,long[] idList) {\r\n        StringBuilder idListAsCSV = new StringBuilder(); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\r\n        boolean afterFirst = false; //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\r\n        //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; all of the loop to create the CSV\r\n        for (Long l: idList) {\r\n            if (afterFirst) {\r\n                idListAsCSV.append(&quot;,&quot;);\r\n            }\r\n            afterFirst = true;\r\n            idListAsCSV.append(String.valueOf(l));\r\n        }\r\n        StringBuilder sb = new StringBuilder(&quot;SELECT * FROM &quot;).append(DBHelper.TableX.NAME);\r\n        sb.append(&quot; WHERE &quot; + DBHelper.TableX.COLUMN_ID + &quot; IN(&quot;).append(idListAsCSV).append(&quot;) &quot;); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\r\n        switch (order) {\r\n            case DBHelper.TableX.FIRSTNAME_DESCENDING:\r\n                sb.append(DBHelper.TableX.ORDER_BY_FIRSTNAME_DESC);\r\n                break;\r\n            case DBHelper.TableX.FIRSTNAME_ASCENDING:\r\n                sb.append(DBHelper.TableX.ORDER_BY_FIRSTNAME_ASC);\r\n                break;\r\n            case DBHelper.TableX.LASTNAME_DESCENDING:\r\n                sb.append(DBHelper.TableX.ORDER_BY_LASTNAME_DESC);\r\n                break;\r\n            case DBHelper.TableX.LASTNAME_ASCENDING:\r\n                sb.append(DBHelper.TableX.ORDER_BY_LASTNAME_ASC);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        sb.append(&quot;;&quot;);\r\n        return roomDao.rawq(new SimpleSQLiteQuery(sb.toString(),null));\r\n    }\r\n\r\ni.e. provide a CSV *(although I vaguely recall being able to pass an array)*\r\n\r\n----\r\n\r\nTo use bind arguments (the recommended way as binding arguments protects against SQL injection) then you need a ? for each value and a corresponding array of objects.\r\n\r\nSo for 3 id&#39;s you need IN(?,?,?)  and the actual values, the bind arguments, in an Object[]. The following is an example that does this noting that it shows 2 ways of building the Object[] (the bind arguments/values):-\r\n\r\n    private List&lt;TableXEntity&gt; loadByidList(long[] idlist) {\r\n        List&lt;Object&gt; bindargs = new ArrayList&lt;&gt;(); // way 1\r\n        Object[] args4Bind = new Object[idlist.length]; // way 2\r\n        StringBuilder placeholders = new StringBuilder(); // for the ? placeholders\r\n        /* Build the sql before the place holders */\r\n        StringBuilder sql = new StringBuilder(&quot;SELECT * FROM &quot;)\r\n                .append(DBHelper.TableX.NAME)\r\n                .append(&quot; WHERE &quot;)\r\n                .append(DBHelper.TableX.COLUMN_ID)\r\n                .append(&quot; IN (&quot;);\r\n        boolean afterfirst = false;\r\n        int i = 0; /* using for each so have index counter (as opposed to for(int i=0 ....) */\r\n        for (long l: idlist) {\r\n            bindargs.add(l); // for way 1\r\n            args4Bind[i++] = String.valueOf(l); // for way 2\r\n            if (afterfirst) {\r\n                placeholders.append(&quot;,&quot;);\r\n            }\r\n            afterfirst = true;\r\n            placeholders.append(&quot;?&quot;);\r\n        }\r\n        /* finalise the SQL */\r\n        sql.append(placeholders.toString())\r\n                .append(&quot;);&quot;);\r\n        //return roomDao.rawq(new SimpleSQLiteQuery(sql.toString(),bindargs.toArray())); // way 1\r\n        return roomDao.rawq(new SimpleSQLiteQuery(sql.toString(),args4Bind)); // way 2\r\n    }","title":"Room database RawQuery() is not work on &quot;IN&quot; and &quot;NOT IN&quot; clause","body":"<p>Much easier to use an <code>@Query</code> it's as simple as:-</p>\n<pre><code>@Query(&quot;SELECT * FROM UserTable WHERE userId IN (:idList)&quot;)\npublic List&lt;UserTable&gt; getWhatever(long[] idList);\n</code></pre>\n<p>You'd then use <code>getWhatever(new long[]{1L,2L})</code></p>\n<p>If you need it an  @rawQuery though you could do it like (used previous answer code for my convenience) :-</p>\n<pre><code>private List&lt;TableXEntity&gt; loadAllUserListByIds(int order,long[] idList) {\n    StringBuilder idListAsCSV = new StringBuilder(); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n    boolean afterFirst = false; //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n    //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; all of the loop to create the CSV\n    for (Long l: idList) {\n        if (afterFirst) {\n            idListAsCSV.append(&quot;,&quot;);\n        }\n        afterFirst = true;\n        idListAsCSV.append(String.valueOf(l));\n    }\n    StringBuilder sb = new StringBuilder(&quot;SELECT * FROM &quot;).append(DBHelper.TableX.NAME);\n    sb.append(&quot; WHERE &quot; + DBHelper.TableX.COLUMN_ID + &quot; IN(&quot;).append(idListAsCSV).append(&quot;) &quot;); //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n    switch (order) {\n        case DBHelper.TableX.FIRSTNAME_DESCENDING:\n            sb.append(DBHelper.TableX.ORDER_BY_FIRSTNAME_DESC);\n            break;\n        case DBHelper.TableX.FIRSTNAME_ASCENDING:\n            sb.append(DBHelper.TableX.ORDER_BY_FIRSTNAME_ASC);\n            break;\n        case DBHelper.TableX.LASTNAME_DESCENDING:\n            sb.append(DBHelper.TableX.ORDER_BY_LASTNAME_DESC);\n            break;\n        case DBHelper.TableX.LASTNAME_ASCENDING:\n            sb.append(DBHelper.TableX.ORDER_BY_LASTNAME_ASC);\n            break;\n        default:\n            break;\n    }\n    sb.append(&quot;;&quot;);\n    return roomDao.rawq(new SimpleSQLiteQuery(sb.toString(),null));\n}\n</code></pre>\n<p>i.e. provide a CSV <em>(although I vaguely recall being able to pass an array)</em></p>\n<hr />\n<p>To use bind arguments (the recommended way as binding arguments protects against SQL injection) then you need a ? for each value and a corresponding array of objects.</p>\n<p>So for 3 id's you need IN(?,?,?)  and the actual values, the bind arguments, in an Object[]. The following is an example that does this noting that it shows 2 ways of building the Object[] (the bind arguments/values):-</p>\n<pre><code>private List&lt;TableXEntity&gt; loadByidList(long[] idlist) {\n    List&lt;Object&gt; bindargs = new ArrayList&lt;&gt;(); // way 1\n    Object[] args4Bind = new Object[idlist.length]; // way 2\n    StringBuilder placeholders = new StringBuilder(); // for the ? placeholders\n    /* Build the sql before the place holders */\n    StringBuilder sql = new StringBuilder(&quot;SELECT * FROM &quot;)\n            .append(DBHelper.TableX.NAME)\n            .append(&quot; WHERE &quot;)\n            .append(DBHelper.TableX.COLUMN_ID)\n            .append(&quot; IN (&quot;);\n    boolean afterfirst = false;\n    int i = 0; /* using for each so have index counter (as opposed to for(int i=0 ....) */\n    for (long l: idlist) {\n        bindargs.add(l); // for way 1\n        args4Bind[i++] = String.valueOf(l); // for way 2\n        if (afterfirst) {\n            placeholders.append(&quot;,&quot;);\n        }\n        afterfirst = true;\n        placeholders.append(&quot;?&quot;);\n    }\n    /* finalise the SQL */\n    sql.append(placeholders.toString())\n            .append(&quot;);&quot;);\n    //return roomDao.rawq(new SimpleSQLiteQuery(sql.toString(),bindargs.toArray())); // way 1\n    return roomDao.rawq(new SimpleSQLiteQuery(sql.toString(),args4Bind)); // way 2\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16243342,"reputation":61,"user_id":11729111,"display_name":"Sachin Deshapande"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632483674,"creation_date":1632483674,"answer_id":69314433,"question_id":69310197,"body_markdown":"Please try this, here it has working!\r\n\r\nTry this simple trick to pass the arguments for IN operator-\r\n \r\n\r\n    List&lt;Object&gt; argList = new ArrayList&lt;&gt;();\r\n     argList.add(&quot;3&quot;);\r\n     argList.add(&quot;6&quot;);\r\n\r\n        \r\nThen prepare your raw query string:\r\n\r\n**Note- Match your argument list size with &#39;?&#39; size**\r\n\r\n  \r\n\r\n       String selectQuery = &quot;SELECT * FROM task WHERE id IN (?,?)&quot;;\r\n\r\nAfter this pass the raw query string to SimpleSQLiteQuery-\r\n  \r\n\r\n       SimpleSQLiteQuery rawQuery = new SimpleSQLiteQuery(selectQuery, args.toArray());\r\n\r\n\r\nThen fetch the List using DAO:\r\n \r\n\r\n    List&lt;UserTable&gt; taskList1=DatabaseClient\r\n                            .getInstance(getApplicationContext())\r\n                            .getAppDatabase()\r\n                            .userTableDAO()\r\n                            .getAllList(query);\r\n\r\n","title":"Room database RawQuery() is not work on &quot;IN&quot; and &quot;NOT IN&quot; clause","body":"<p>Please try this, here it has working!</p>\n<p>Try this simple trick to pass the arguments for IN operator-</p>\n<pre><code>List&lt;Object&gt; argList = new ArrayList&lt;&gt;();\n argList.add(&quot;3&quot;);\n argList.add(&quot;6&quot;);\n\n    \n</code></pre>\n<p>Then prepare your raw query string:</p>\n<p><strong>Note- Match your argument list size with '?' size</strong></p>\n<pre><code>   String selectQuery = &quot;SELECT * FROM task WHERE id IN (?,?)&quot;;\n</code></pre>\n<p>After this pass the raw query string to SimpleSQLiteQuery-</p>\n<pre><code>   SimpleSQLiteQuery rawQuery = new SimpleSQLiteQuery(selectQuery, args.toArray());\n</code></pre>\n<p>Then fetch the List using DAO:</p>\n<pre><code>List&lt;UserTable&gt; taskList1=DatabaseClient\n                        .getInstance(getApplicationContext())\n                        .getAppDatabase()\n                        .userTableDAO()\n                        .getAllList(query);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5229201,"reputation":2849,"user_id":4180169,"display_name":"protanvir993"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650181462,"creation_date":1650181462,"answer_id":71900139,"question_id":69310197,"body_markdown":"We can do it in kotlin in the more simpler way.\r\n\r\n 1. Let&#39;s create two helper methos\r\n\r\n        object Helper {\r\n           fun sqlIn(list: List&lt;Any&gt;, bindArgs: MutableList&lt;Any&gt;): String {\r\n              bindArgs.apply { this.addAll(list) }\r\n\r\n              return &quot;IN (${list.joinToString(&quot;,&quot;) { &quot;?&quot; }})&quot;\r\n           }\r\n\r\n           fun sqlNotIn(list: List&lt;Any&gt;, bindArgs: MutableList&lt;Any&gt;): String = &quot;NOT ${sqlIn(list, bindArgs)}&quot;\r\n        }\r\n\r\n 2. Then you can use it in anywhere else\r\n\r\n        val ids = listOf(1, 2, 3)\r\n        val ownerId = 10\r\n    \r\n        val bindArgs = mutableListOf&lt;Any&gt;()\r\n        val query = &quot;SELECT * FROM posts WHERE id ${Helper.sqlIn(ids, bindArgs)} AND owner_id = ?&quot;\r\n        bindArgs.add(ownerId)\r\n\r\n        dao.query(\r\n            SimpleSQLiteQuery(query, bindArgs.toTypedArray())\r\n        )","title":"Room database RawQuery() is not work on &quot;IN&quot; and &quot;NOT IN&quot; clause","body":"<p>We can do it in kotlin in the more simpler way.</p>\n<ol>\n<li><p>Let's create two helper methos</p>\n<pre><code>object Helper {\n   fun sqlIn(list: List&lt;Any&gt;, bindArgs: MutableList&lt;Any&gt;): String {\n      bindArgs.apply { this.addAll(list) }\n\n      return &quot;IN (${list.joinToString(&quot;,&quot;) { &quot;?&quot; }})&quot;\n   }\n\n   fun sqlNotIn(list: List&lt;Any&gt;, bindArgs: MutableList&lt;Any&gt;): String = &quot;NOT ${sqlIn(list, bindArgs)}&quot;\n}\n</code></pre>\n</li>\n<li><p>Then you can use it in anywhere else</p>\n<pre><code>val ids = listOf(1, 2, 3)\nval ownerId = 10\n\nval bindArgs = mutableListOf&lt;Any&gt;()\nval query = &quot;SELECT * FROM posts WHERE id ${Helper.sqlIn(ids, bindArgs)} AND owner_id = ?&quot;\nbindArgs.add(ownerId)\n\ndao.query(\n    SimpleSQLiteQuery(query, bindArgs.toTypedArray())\n)\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":8101110,"reputation":826,"user_id":6104103,"display_name":"Mayur Misal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":938,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":69312423,"answer_count":3,"score":2,"last_activity_date":1650181462,"creation_date":1632463104,"question_id":69310197,"body_markdown":"I have my one table like UserTable.\r\n\r\n    @Entity\r\n    public class UserTable{\r\n      @PrimaryKey(autoGenerate = true)\r\n        private int userId;\r\n        private String userName;\r\n        private String userEmailId;\r\n    \r\n      // Below code is getter and setter of this class.\r\n    }\r\n\r\n    @Dao\r\n    public interface UserDao {\r\n        @Query(&quot;SELECT * FROM userTable&quot;)\r\n        public List&lt;UserTable&gt; loadAllUsers();\r\n    \r\n        @Insert\r\n        public long insertUserTable(UserTable userTable);\r\n    \r\n        @Insert\r\n        public long[] insertUserTables(UserTable... userTables);\r\n    \r\n        @Update\r\n        public int updateUserTable(UserTable userTable);\r\n    \r\n        @Delete\r\n        public int deleteUserTable(UserTable userTable);\r\n    \r\n        @RawQuery\r\n        public abstract List&lt;UserTable&gt; loadAllUserListByGivenIds\r\n                (SupportSQLiteQuery query);\r\n    \r\n        public default List&lt;UserTable&gt; loadAllUserListByIds(long[] userIds) {\r\n            List&lt;UserTable&gt; list;\r\n            ArrayList&lt;Object&gt; argsList = new ArrayList&lt;&gt;();\r\n            String selectQuery = &quot;SELECT  * FROM UserTable WHERE userId IN (?);&quot;;\r\n            argsList.add(userIds);\r\n            \r\n            SimpleSQLiteQuery simpleSQLiteQuery = new SimpleSQLiteQuery(selectQuery, argsList.toArray());\r\n            list = loadAllUserListByGivenIds(simpleSQLiteQuery);\r\n            return list;\r\n        }\r\n    }\r\n\r\n// Now in My MainActivity.class file, I have use following code:\r\n\r\n     List&lt;UserTable&gt; userList= databaseClient\r\n                    .getAppDatabase()\r\n                    .userDao()\r\n                    .loadAllUserListByIds(new long[]{1L,2L});\r\n\r\n\r\nMy query is running in normal database, but when I was pass array of user ids then, in @RawQuery() method of dao class is not supported for &quot;IN&quot; clause used in where condition &quot;WHERE userId IN (?)&quot;.\r\n\r\nHow, I will use &quot;IN&quot; clause in @RawQuery() of room database.\r\n","title":"Room database RawQuery() is not work on &quot;IN&quot; and &quot;NOT IN&quot; clause","body":"<p>I have my one table like UserTable.</p>\n<pre><code>@Entity\npublic class UserTable{\n  @PrimaryKey(autoGenerate = true)\n    private int userId;\n    private String userName;\n    private String userEmailId;\n\n  // Below code is getter and setter of this class.\n}\n\n@Dao\npublic interface UserDao {\n    @Query(&quot;SELECT * FROM userTable&quot;)\n    public List&lt;UserTable&gt; loadAllUsers();\n\n    @Insert\n    public long insertUserTable(UserTable userTable);\n\n    @Insert\n    public long[] insertUserTables(UserTable... userTables);\n\n    @Update\n    public int updateUserTable(UserTable userTable);\n\n    @Delete\n    public int deleteUserTable(UserTable userTable);\n\n    @RawQuery\n    public abstract List&lt;UserTable&gt; loadAllUserListByGivenIds\n            (SupportSQLiteQuery query);\n\n    public default List&lt;UserTable&gt; loadAllUserListByIds(long[] userIds) {\n        List&lt;UserTable&gt; list;\n        ArrayList&lt;Object&gt; argsList = new ArrayList&lt;&gt;();\n        String selectQuery = &quot;SELECT  * FROM UserTable WHERE userId IN (?);&quot;;\n        argsList.add(userIds);\n        \n        SimpleSQLiteQuery simpleSQLiteQuery = new SimpleSQLiteQuery(selectQuery, argsList.toArray());\n        list = loadAllUserListByGivenIds(simpleSQLiteQuery);\n        return list;\n    }\n}\n</code></pre>\n<p>// Now in My MainActivity.class file, I have use following code:</p>\n<pre><code> List&lt;UserTable&gt; userList= databaseClient\n                .getAppDatabase()\n                .userDao()\n                .loadAllUserListByIds(new long[]{1L,2L});\n</code></pre>\n<p>My query is running in normal database, but when I was pass array of user ids then, in @RawQuery() method of dao class is not supported for &quot;IN&quot; clause used in where condition &quot;WHERE userId IN (?)&quot;.</p>\n<p>How, I will use &quot;IN&quot; clause in @RawQuery() of room database.</p>\n"},{"tags":["java","spring","multithreading","asynchronous"],"comments":[{"owner":{"account_id":1428135,"reputation":5246,"user_id":1351167,"accept_rate":75,"display_name":"jAC"},"score":0,"creation_date":1650180577,"post_id":71900053,"comment_id":127052841,"body_markdown":"That depends on the underlying cache provider. Do you simply use the default one?","body":"That depends on the underlying cache provider. Do you simply use the default one?"},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1650180912,"post_id":71900053,"comment_id":127052905,"body_markdown":"@jAC Yes. I do.","body":"@jAC Yes. I do."},{"owner":{"account_id":1428135,"reputation":5246,"user_id":1351167,"accept_rate":75,"display_name":"jAC"},"score":1,"creation_date":1650186437,"post_id":71900053,"comment_id":127053710,"body_markdown":"Then this should answer your question: https://stackoverflow.com/questions/44202700/spring-cacheable-default-ttl","body":"Then this should answer your question: <a href=\"https://stackoverflow.com/questions/44202700/spring-cacheable-default-ttl\" title=\"spring cacheable default ttl\">stackoverflow.com/questions/44202700/&hellip;</a>"}],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650180413,"creation_date":1650180413,"question_id":71900053,"body_markdown":"I have a multi-threaded, high-performance and long-running process (I mean hours) in Spring. In order to allow this process to cancel I like to check periodically for the permission to cancel this process using a huge SQL.\r\n\r\n    @Service\r\n    public class CancelHolder {\r\n      @PersistenceContext\r\n      private final EntityManager em = null;\r\n\r\n      public boolean isCancel() {\r\n        return !em.createQuery(&quot;..&lt;huge sql&gt;..&quot;).getResultList().isEmpty();\r\n      }\r\n    }\r\n\r\nThis `isCancel` is called about 20/sec/thread from about 100 threads make a total of 2000 calls per second.\r\n\r\nProblem\r\n-\r\nIf I use `@Cacheable(value=&quot;cancelcache&quot;, sync=true)` the method is called once and stored forever.\r\n\r\nSolution\r\n-\r\nI have to evict the cache every 1 second.\r\n\r\nQuestion\r\n-\r\nHow to evict the cache every 1 second?","title":"Spring cachable timeout","body":"<p>I have a multi-threaded, high-performance and long-running process (I mean hours) in Spring. In order to allow this process to cancel I like to check periodically for the permission to cancel this process using a huge SQL.</p>\n<pre><code>@Service\npublic class CancelHolder {\n  @PersistenceContext\n  private final EntityManager em = null;\n\n  public boolean isCancel() {\n    return !em.createQuery(&quot;..&lt;huge sql&gt;..&quot;).getResultList().isEmpty();\n  }\n}\n</code></pre>\n<p>This <code>isCancel</code> is called about 20/sec/thread from about 100 threads make a total of 2000 calls per second.</p>\n<h2>Problem</h2>\n<p>If I use <code>@Cacheable(value=&quot;cancelcache&quot;, sync=true)</code> the method is called once and stored forever.</p>\n<h2>Solution</h2>\n<p>I have to evict the cache every 1 second.</p>\n<h2>Question</h2>\n<p>How to evict the cache every 1 second?</p>\n"},{"tags":["java","eclipse","file","class"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1650179350,"creation_date":1311269651,"answer_id":6780226,"question_id":6780182,"body_markdown":"You can view the the bin folders in the `Navigator` (`Window` --&gt; `Show View` ---&gt; `Navigator`), **which is now deprecated**, or in the `Project Explorer` (`Window` --&gt; `Show View` ---&gt; `Project Explorer`) . But you can&#39;t view the bin folders in the `Package Explorer`.\r\n\r\n\r\nFor viewing the bin folders in the `Project Explorer` , you can click `Customize View` ---&gt; `Filters` --&gt; Do not click `Java Output Folders`\r\n\r\n![enter image description here][1]\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/EXDpu.png\r\n  [2]: http://i.stack.imgur.com/4vkLr.png","title":"Eclipse - Show generated class files","body":"<p>You can view the the bin folders in the <code>Navigator</code> (<code>Window</code> --&gt; <code>Show View</code> ---&gt; <code>Navigator</code>), <strong>which is now deprecated</strong>, or in the <code>Project Explorer</code> (<code>Window</code> --&gt; <code>Show View</code> ---&gt; <code>Project Explorer</code>) . But you can't view the bin folders in the <code>Package Explorer</code>.</p>\n<p>For viewing the bin folders in the <code>Project Explorer</code> , you can click <code>Customize View</code> ---&gt; <code>Filters</code> --&gt; Do not click <code>Java Output Folders</code></p>\n<p><img src=\"https://i.stack.imgur.com/EXDpu.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/4vkLr.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":259956,"reputation":7267,"user_id":543220,"accept_rate":97,"display_name":"Joeblackdev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37060,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":6780226,"answer_count":1,"score":16,"last_activity_date":1650179350,"creation_date":1311269435,"question_id":6780182,"body_markdown":"How can I show the folder (bin) where my class files are placed after I build a project in eclipse? I want this directory to show up in the package explorer. Searched the forums, but can&#39;t seem to find an answer","title":"Eclipse - Show generated class files","body":"<p>How can I show the folder (bin) where my class files are placed after I build a project in eclipse? I want this directory to show up in the package explorer. Searched the forums, but can't seem to find an answer</p>\n"},{"tags":["java","compression"],"comments":[{"owner":{"account_id":79742,"reputation":19393,"user_id":225899,"accept_rate":85,"display_name":"James P."},"score":0,"creation_date":1313070679,"post_id":7027022,"comment_id":8394180,"body_markdown":"You could try a statiscal approach (which you&#39;ve apparently already considered) or make some estimates beforehand given the file type. I&#39;d go for the second option and improve on that.","body":"You could try a statiscal approach (which you&#39;ve apparently already considered) or make some estimates beforehand given the file type. I&#39;d go for the second option and improve on that."},{"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"score":0,"creation_date":1313070941,"post_id":7027022,"comment_id":8394305,"body_markdown":"Well, yes, but which statistical approach exactly?","body":"Well, yes, but which statistical approach exactly?"},{"owner":{"account_id":331003,"reputation":3741,"user_id":655424,"display_name":"Atreys"},"score":0,"creation_date":1313071109,"post_id":7027022,"comment_id":8394371,"body_markdown":"Where do you get your 128 bytes?  If that portion is having more varied data (header information / magic numbers / other) than other locations (a large expanse of pixels all the same color / 3000 paragraph breaks / a group of children with the same age), then your prediction might say no (the 128 bytes I saw were rich and full of content and not compressible), when the bulk of the data is amenable.  Just curious :)","body":"Where do you get your 128 bytes?  If that portion is having more varied data (header information / magic numbers / other) than other locations (a large expanse of pixels all the same color / 3000 paragraph breaks / a group of children with the same age), then your prediction might say no (the 128 bytes I saw were rich and full of content and not compressible), when the bulk of the data is amenable.  Just curious :)"},{"owner":{"account_id":79742,"reputation":19393,"user_id":225899,"accept_rate":85,"display_name":"James P."},"score":0,"creation_date":1313071228,"post_id":7027022,"comment_id":8394420,"body_markdown":"There&#39;s various approaches possible in pure statistics. One obvious one is selecting random elements.","body":"There&#39;s various approaches possible in pure statistics. One obvious one is selecting random elements."},{"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"score":1,"creation_date":1313071368,"post_id":7027022,"comment_id":8394473,"body_markdown":"I found that looking at the first 128 bytes is enough to get a good prediction if a block is compressible. But it&#39;s really just an example.","body":"I found that looking at the first 128 bytes is enough to get a good prediction if a block is compressible. But it&#39;s really just an example."},{"owner":{"account_id":428580,"reputation":35982,"user_id":811001,"accept_rate":85,"display_name":"tskuzzy"},"score":0,"creation_date":1313071503,"post_id":7027022,"comment_id":8394526,"body_markdown":"If parsing a mere 128 bytes of data is too slow for you, I can&#39;t imagine a reliable method that would work fast enough.","body":"If parsing a mere 128 bytes of data is too slow for you, I can&#39;t imagine a reliable method that would work fast enough."},{"owner":{"account_id":47176,"reputation":33749,"user_id":139595,"accept_rate":88,"display_name":"J&#246;rn Horstmann"},"score":1,"creation_date":1313073973,"post_id":7027022,"comment_id":8395466,"body_markdown":"If you are mostly dealing with complete files than I would go with the file headers, maybe even only the first 4 bytes, to identify known compressed file formats. The linux file command uses a very extensive database of magic patterns from which you could extract the needed information.","body":"If you are mostly dealing with complete files than I would go with the file headers, maybe even only the first 4 bytes, to identify known compressed file formats. The linux file command uses a very extensive database of magic patterns from which you could extract the needed information."},{"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"score":0,"creation_date":1313075717,"post_id":7027022,"comment_id":8396209,"body_markdown":"@J&#246;rn Unfortunately, it&#39;s not always complete files. Sometimes it&#39;s just chunks of files (large files are split into chunks).","body":"@J&#246;rn Unfortunately, it&#39;s not always complete files. Sometimes it&#39;s just chunks of files (large files are split into chunks)."},{"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"score":1,"creation_date":1313079516,"post_id":7027022,"comment_id":8397663,"body_markdown":"@Thomas Not sure about first 128 bytes. Some formats have compressible header here. E.g. JAR/zip file has list of file names, which is mostly like plain text, but then it has compressed content. Maybe it worth to sample several small blocks across the whole block.","body":"@Thomas Not sure about first 128 bytes. Some formats have compressible header here. E.g. JAR/zip file has list of file names, which is mostly like plain text, but then it has compressed content. Maybe it worth to sample several small blocks across the whole block."},{"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"score":0,"creation_date":1313082378,"post_id":7027022,"comment_id":8398577,"body_markdown":"@kan You are right. Instead of smaller blocks, I guess using an offset of (let&#39;s say) 1 KB will help. Picking every xth byte might work as well, but isn&#39;t that cache-efficient.","body":"@kan You are right. Instead of smaller blocks, I guess using an offset of (let&#39;s say) 1 KB will help. Picking every xth byte might work as well, but isn&#39;t that cache-efficient."}],"answers":[{"tags":[],"owner":{"account_id":428580,"reputation":35982,"user_id":811001,"accept_rate":85,"display_name":"tskuzzy"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1313070918,"creation_date":1313070918,"answer_id":7027141,"question_id":7027022,"body_markdown":"Calculate the [entropy][1] of the data. If it has high entropy (~1.0), it is not likely going to be further compressed. If it has low entropy (~0.0), then that means that there isn&#39;t a lot of &quot;information&quot; in it and can be further compressed.\r\n\r\nIt provides a theoretical measure of how compressed a piece of data can get.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Entropy_%28information_theory%29","title":"How to efficiently predict if data is compressible","body":"<p>Calculate the <a href=\"http://en.wikipedia.org/wiki/Entropy_%28information_theory%29\" rel=\"noreferrer\">entropy</a> of the data. If it has high entropy (~1.0), it is not likely going to be further compressed. If it has low entropy (~0.0), then that means that there isn't a lot of \"information\" in it and can be further compressed.</p>\n\n<p>It provides a theoretical measure of how compressed a piece of data can get.</p>\n"},{"tags":[],"owner":{"account_id":210974,"reputation":545,"user_id":462891,"display_name":"cs94njw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313070958,"creation_date":1313070958,"answer_id":7027148,"question_id":7027022,"body_markdown":"I expect there&#39;s no way to check how compressible something is until you try to compress it.\r\nYou could check for patterns (more patterns, perhaps more compressible), but then a particular compression algorithmn may not use the patterns you checked for - and may do better than you expect.\r\nAnother trick may be to take the first 128000 bytes of data, push it through Deflate/Java compression, and see if it&#39;s less than the original size.  If so - chances are it&#39;s worthwhile compressing the entire lot.","title":"How to efficiently predict if data is compressible","body":"<p>I expect there's no way to check how compressible something is until you try to compress it.\nYou could check for patterns (more patterns, perhaps more compressible), but then a particular compression algorithmn may not use the patterns you checked for - and may do better than you expect.\nAnother trick may be to take the first 128000 bytes of data, push it through Deflate/Java compression, and see if it's less than the original size.  If so - chances are it's worthwhile compressing the entire lot.</p>\n"},{"tags":[],"owner":{"account_id":395405,"reputation":67443,"user_id":758345,"display_name":"Chronial"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1313071387,"creation_date":1313071387,"answer_id":7027268,"question_id":7027022,"body_markdown":"From my experience almost all of the formats that can effectively be compressed are non-binary. So checking if about 70-80% of the characters are within in the [0-127] rage should do the trick.\r\n\r\nIf you want to to it &quot;properly&quot; (even though I really can&#39;t see a reason to do that), you either have to run (parts of) your compression algorithm on the data or calculate the entropy, as tskuzzy already proposed.","title":"How to efficiently predict if data is compressible","body":"<p>From my experience almost all of the formats that can effectively be compressed are non-binary. So checking if about 70-80% of the characters are within in the [0-127] rage should do the trick.</p>\n\n<p>If you want to to it \"properly\" (even though I really can't see a reason to do that), you either have to run (parts of) your compression algorithm on the data or calculate the entropy, as tskuzzy already proposed.</p>\n"},{"tags":[],"owner":{"account_id":473876,"reputation":304,"user_id":883235,"display_name":"Peter Sherman"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1313072747,"creation_date":1313072747,"answer_id":7027616,"question_id":7027022,"body_markdown":"It says on your profile that you&#39;re the author of the H2 Database Engine, a database written in Java.\r\n\r\nIf I am guessing correctly, you are looking to engineer this database engine to automatically compress BLOB data, if possible.\r\n\r\nBut -- (I am guessing) you have realized that not everything will compress, and speed is important -- so you don&#39;t want to waste a microsecond more than is necessary when determining if you should compress data...\r\n\r\nMy question is engineering in nature -- why do all this?   Basically, isn&#39;t it second-guessing the intent of the database user / application developer -- at the expense of speed?\r\n\r\nWouldn&#39;t you think that an application developer (who is writing data to the blob fields in the first place) would be the best person to make the decision if data should be compressed or not, and if so -- to choose the appropriate compression method?\r\n\r\nThe only possible place I can see automatic database compression possibly adding some value is in text/varchar fields -- and only if they&#39;re beyond a certain length -- but even so, that option might be better decided by the application developer...  I might even go so far as to allow the application developer a compression plug-in, if so...  That way they can make their own decisions for their own data...\r\n\r\nIf my assumptions about what you are trying to do were wrong -- then I humbly apologize for saying what I said... (It&#39;s just one insignificant user&#39;s opinion.)\r\n\r\n","title":"How to efficiently predict if data is compressible","body":"<p>It says on your profile that you're the author of the H2 Database Engine, a database written in Java.</p>\n\n<p>If I am guessing correctly, you are looking to engineer this database engine to automatically compress BLOB data, if possible.</p>\n\n<p>But -- (I am guessing) you have realized that not everything will compress, and speed is important -- so you don't want to waste a microsecond more than is necessary when determining if you should compress data...</p>\n\n<p>My question is engineering in nature -- why do all this?   Basically, isn't it second-guessing the intent of the database user / application developer -- at the expense of speed?</p>\n\n<p>Wouldn't you think that an application developer (who is writing data to the blob fields in the first place) would be the best person to make the decision if data should be compressed or not, and if so -- to choose the appropriate compression method?</p>\n\n<p>The only possible place I can see automatic database compression possibly adding some value is in text/varchar fields -- and only if they're beyond a certain length -- but even so, that option might be better decided by the application developer...  I might even go so far as to allow the application developer a compression plug-in, if so...  That way they can make their own decisions for their own data...</p>\n\n<p>If my assumptions about what you are trying to do were wrong -- then I humbly apologize for saying what I said... (It's just one insignificant user's opinion.)</p>\n"},{"tags":[],"owner":{"account_id":473876,"reputation":304,"user_id":883235,"display_name":"Peter Sherman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313117336,"creation_date":1313117336,"answer_id":7035114,"question_id":7027022,"body_markdown":"Also -- Why not try lzop?  I can personally vouch for the fact that it&#39;s faster, much faster (compression and decompression) than bzip, gzip, zip, rar...\r\n\r\nhttp://www.lzop.org\r\n\r\nUsing it for disk image compression makes the process disk-IO bound.  Using any of the other compressors makes the process CPU-bound (i.e., the other compressors use all available CPU, lzop (on a reasonable CPU) can handle data at the same speed a 7200 RPM stock hard drive can dish it out...)\r\n\r\nI&#39;ll bet if you tested it with the first X bytes of a &#39;test compression&#39; string, it would be much faster than most other methods...\r\n\r\n","title":"How to efficiently predict if data is compressible","body":"<p>Also -- Why not try lzop?  I can personally vouch for the fact that it's faster, much faster (compression and decompression) than bzip, gzip, zip, rar...</p>\n\n<p><a href=\"http://www.lzop.org\" rel=\"nofollow\">http://www.lzop.org</a></p>\n\n<p>Using it for disk image compression makes the process disk-IO bound.  Using any of the other compressors makes the process CPU-bound (i.e., the other compressors use all available CPU, lzop (on a reasonable CPU) can handle data at the same speed a 7200 RPM stock hard drive can dish it out...)</p>\n\n<p>I'll bet if you tested it with the first X bytes of a 'test compression' string, it would be much faster than most other methods...</p>\n"},{"tags":[],"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1394976633,"creation_date":1313133895,"answer_id":7036862,"question_id":7027022,"body_markdown":"I implemented a few methods to test if data is compressible. \r\n\r\n**Simplified Compression**\r\n\r\nThis basically checks for duplicate byte pairs:\r\n\r\n    static boolean isCompressible(byte[] data, int len) {\r\n        int result = 0;\r\n        // check in blocks of 256 bytes, \r\n        // and sum up how compressible each block is\r\n        for (int start = 0; start &lt; len; start += 256) {\r\n            result += matches(data, start, Math.min(start + 255, len));\r\n        }\r\n        // the result is proportional to the number of \r\n        // bytes that can be saved\r\n        // if we can save many bytes, then it is compressible\r\n        return ((len - result) * 777) &lt; len * 100;\r\n    }\r\n\r\n    static int matches(byte[] data, int i, int end) {\r\n        // bitArray is a bloom filter of seen byte pairs\r\n        // match counts duplicate byte pairs\r\n        // last is the last seen byte\r\n        int bitArray = 0, match = 0, last = 0;\r\n        if (i &lt; 0 || end &gt; data.length) {\r\n            // this check may allow the JVM to avoid\r\n            // array bound checks in the following loop\r\n            throw new ArrayIndexOutOfBoundsException();\r\n        }\r\n        for (; i &lt; end; i++) {\r\n            int x = data[i];\r\n            // the bloom filter bit to set\r\n            int bit = 1 &lt;&lt; ((last ^ x) &amp; 31);\r\n            // if it was already set, increment match\r\n            // (without using a branch, as branches are slow)\r\n            match -= (-(bitArray &amp; bit)) &gt;&gt; 31;\r\n            bitArray |= bit;\r\n            last = x;\r\n        }\r\n        return match;\r\n    }\r\n\r\nOn my (limited) set of test data, this algorithm is quite accurate. It about 5 times faster than compressing itself if the data is not compressible. For trivial data (all zeroes), it is about half as fast however.\r\n\r\n**Partial Entropy**\r\n\r\nThis algorithm estimates the entropy of the high nibbles. I wanted to avoid using too many buckets, because they have to be zeroed out each time (which is slow if the blocks to check are small). `63 - numberOfLeadingZeros` is the logarithm (I wanted to avoid using floating point numbers). Depending on the data, it is faster or slower than the algorithm above (not sure why). The result isn&#39;t quite as accurate as the algorithm above, possibly because of using only 16 buckets, and only integer arithmetic.\r\n\r\n    static boolean isCompressible(byte[] data, int len) {\r\n        // the number of bytes with \r\n        // high nibble 0, 1,.., 15\r\n        int[] sum = new int[16];\r\n        for (int i = 0; i &lt; len; i++) {\r\n            int x = (data[i] &amp; 255) &gt;&gt; 4;\r\n            sum[x]++;\r\n        }\r\n        // see wikipedia to understand this formula :-)\r\n        int r = 0;\r\n        for (int x : sum) {\r\n            long v = ((long) x &lt;&lt; 32) / len;\r\n            r += 63 - Long.numberOfLeadingZeros(v + 1);\r\n        }\r\n        return len * r &lt; 438 * len;\r\n    }","title":"How to efficiently predict if data is compressible","body":"<p>I implemented a few methods to test if data is compressible. </p>\n\n<p><strong>Simplified Compression</strong></p>\n\n<p>This basically checks for duplicate byte pairs:</p>\n\n<pre><code>static boolean isCompressible(byte[] data, int len) {\n    int result = 0;\n    // check in blocks of 256 bytes, \n    // and sum up how compressible each block is\n    for (int start = 0; start &lt; len; start += 256) {\n        result += matches(data, start, Math.min(start + 255, len));\n    }\n    // the result is proportional to the number of \n    // bytes that can be saved\n    // if we can save many bytes, then it is compressible\n    return ((len - result) * 777) &lt; len * 100;\n}\n\nstatic int matches(byte[] data, int i, int end) {\n    // bitArray is a bloom filter of seen byte pairs\n    // match counts duplicate byte pairs\n    // last is the last seen byte\n    int bitArray = 0, match = 0, last = 0;\n    if (i &lt; 0 || end &gt; data.length) {\n        // this check may allow the JVM to avoid\n        // array bound checks in the following loop\n        throw new ArrayIndexOutOfBoundsException();\n    }\n    for (; i &lt; end; i++) {\n        int x = data[i];\n        // the bloom filter bit to set\n        int bit = 1 &lt;&lt; ((last ^ x) &amp; 31);\n        // if it was already set, increment match\n        // (without using a branch, as branches are slow)\n        match -= (-(bitArray &amp; bit)) &gt;&gt; 31;\n        bitArray |= bit;\n        last = x;\n    }\n    return match;\n}\n</code></pre>\n\n<p>On my (limited) set of test data, this algorithm is quite accurate. It about 5 times faster than compressing itself if the data is not compressible. For trivial data (all zeroes), it is about half as fast however.</p>\n\n<p><strong>Partial Entropy</strong></p>\n\n<p>This algorithm estimates the entropy of the high nibbles. I wanted to avoid using too many buckets, because they have to be zeroed out each time (which is slow if the blocks to check are small). <code>63 - numberOfLeadingZeros</code> is the logarithm (I wanted to avoid using floating point numbers). Depending on the data, it is faster or slower than the algorithm above (not sure why). The result isn't quite as accurate as the algorithm above, possibly because of using only 16 buckets, and only integer arithmetic.</p>\n\n<pre><code>static boolean isCompressible(byte[] data, int len) {\n    // the number of bytes with \n    // high nibble 0, 1,.., 15\n    int[] sum = new int[16];\n    for (int i = 0; i &lt; len; i++) {\n        int x = (data[i] &amp; 255) &gt;&gt; 4;\n        sum[x]++;\n    }\n    // see wikipedia to understand this formula :-)\n    int r = 0;\n    for (int x : sum) {\n        long v = ((long) x &lt;&lt; 32) / len;\n        r += 63 - Long.numberOfLeadingZeros(v + 1);\n    }\n    return len * r &lt; 438 * len;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":325643,"reputation":13388,"user_id":646947,"accept_rate":85,"display_name":"Cyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1316611108,"creation_date":1316611108,"answer_id":7500423,"question_id":7027022,"body_markdown":"Fast compressor such as LZ4 already have built-in checks for data compressibility. They quickly skip the bad segments to concentrate on more interesting ones.\r\nTo give a proper example, LZ4 on non-compressible data works at almost RAM speed limit (2GB/s on my laptop). So there is little room for a detector to be even faster.\r\nYou can try it for yourself :\r\nhttp://code.google.com/p/lz4/","title":"How to efficiently predict if data is compressible","body":"<p>Fast compressor such as LZ4 already have built-in checks for data compressibility. They quickly skip the bad segments to concentrate on more interesting ones.\nTo give a proper example, LZ4 on non-compressible data works at almost RAM speed limit (2GB/s on my laptop). So there is little room for a detector to be even faster.\nYou can try it for yourself :\n<a href=\"http://code.google.com/p/lz4/\" rel=\"nofollow\">http://code.google.com/p/lz4/</a></p>\n"},{"tags":[],"owner":{"account_id":2955,"reputation":34912,"user_id":4194,"accept_rate":75,"display_name":"dmeister"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1361960192,"creation_date":1361960192,"answer_id":15109466,"question_id":7027022,"body_markdown":"This problem is interesting alone because with for example zlib compressing uncompressible data takes much longer then compressing compressible data. So doing unsuccessful compression is especially expensive (for details see the links). Nice recent work in this area has been done by Harnik et al. from IBM.\r\n\r\nYes, the prefix method and byte order-0 entropy (called entropy in the other posts) are good indicators.\r\nOther good ways to guess if a file is compressable or not are (from the paper): \r\n\r\n - Core-set size – The character set that makes up most of the data\r\n - Symbol-pairs distribution indicator \r\n\r\nHere is the FAST [paper][1] and the [slides][2].\r\n\r\n\r\n  [1]: https://www.usenix.org/system/files/conference/fast13/fast13-final38.pdf\r\n  [2]: https://www.usenix.org/sites/default/files/conference/protected-files/harnik_fast13_slides.pdf","title":"How to efficiently predict if data is compressible","body":"<p>This problem is interesting alone because with for example zlib compressing uncompressible data takes much longer then compressing compressible data. So doing unsuccessful compression is especially expensive (for details see the links). Nice recent work in this area has been done by Harnik et al. from IBM.</p>\n\n<p>Yes, the prefix method and byte order-0 entropy (called entropy in the other posts) are good indicators.\nOther good ways to guess if a file is compressable or not are (from the paper): </p>\n\n<ul>\n<li>Core-set size – The character set that makes up most of the data</li>\n<li>Symbol-pairs distribution indicator </li>\n</ul>\n\n<p>Here is the FAST <a href=\"https://www.usenix.org/system/files/conference/fast13/fast13-final38.pdf\" rel=\"nofollow\">paper</a> and the <a href=\"https://www.usenix.org/sites/default/files/conference/protected-files/harnik_fast13_slides.pdf\" rel=\"nofollow\">slides</a>.</p>\n"},{"tags":[],"owner":{"account_id":16221379,"reputation":21,"user_id":11712847,"display_name":"sweetesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650178594,"creation_date":1650178594,"answer_id":71899923,"question_id":7027022,"body_markdown":"A faster and more accurate algorithm for estimating compressibility\r\n1) 2 to 4 times faster and more accurate answer than judging by Shannon&#39;s entropy. It is\r\nbased on the Huffman coding approach.\r\n2) Time complexity of answering does not depend on numerical values of frequency of\r\nsymbols, rather depends on the number of unique symbols. Shannon&#39;s entropy calculates\r\nlog(frequency), Hence the more the frequency, the more time it will consume to compute\r\nthis value. In the current approach, mathematical operations on frequency values are\r\navoided.\r\n3) For similar reasons as above, precision is also higher since our dependency on floating\r\npoint operations is avoided as well as we just rely on sum and multiplication operations and\r\nhow actual Huffman codes will contribute to total compressed size.\r\n4) Same algorithm can be enhanced to generate actual Huffman codes in less time which\r\nwon&#39;t involve complex data structures like trees, heaps or priority queue. For our different\r\nrequirements we just use the same frequency array of symbols.\r\n\r\nFollowing algorithm specifies how to calculate compressibility of a file whose symbol\r\nfrequency values are stored in map array.[Time comparison chart][1]\r\n\r\n         int compressed_file_size_in_bits = 0, n=256;\r\n      /* We sort the map array in increasing order.\r\n       * We will be simulating huffman codes algorithm.\r\n       * Insertion Sort is used as its a small array of 256 symbols.\r\n       */\r\n      insertionSort(map, 256);\r\n    \r\n      for (j = 0; j &lt; n; j++)\r\n        if (map[j] != 0)\r\n          break;\r\n    \r\n      for (i = j; i + 1 &lt; n; i++) {\r\n        j = i + 1;\r\n        /* Following is an important step, as we keep on building more\r\n         * and more codes bottom up, their contribution to compressed size\r\n         * gets governed by following formula. Copy pen simulation is recommended.\r\n         */\r\n        compressed_file_size_in_bits = compressed_file_size_in_bits + map[i] + map[j];\r\n    \r\n        /* Least two elements of the map gets summed up and form a new frequency\r\n         * value which gets placed at i+1 th index.\r\n         */\r\n        map[i + 1] = map[i] + map[j];\r\n        // map [i+2-----] is already sorted. Just fix the first element.\r\n        Adjust_first_element(map + i + 1, n - i - 1);\r\n      }\r\n      printf(&quot;Entropy per byte %f &quot;, compressed_file_size_in_bits * (1.0) / file_len);\r\n    \r\n      void insertionSort(long arr[], long n) {\r\n      long i, key, j;\r\n      for (i = 1; i &lt; n; i++) {\r\n        key = arr[i];\r\n        j = i - 1;\r\n    \r\n        /* Move elements of arr[0..i-1], that are\r\n        greater than key, to one position ahead\r\n        of their current position */\r\n        while (j &gt;= 0 &amp;&amp; arr[j] &gt; key) {\r\n          arr[j + 1] = arr[j];\r\n          j = j - 1;\r\n        }\r\n        arr[j + 1] = key;\r\n      }\r\n    }\r\n    \r\n    // Assumes arr[i+1---] is already sorted. Just first\r\n    // element needs to be placed at appropriate place.\r\n    void Adjust_first_element(long arr[], long n) {\r\n      long i, key, j = 1;\r\n      key = arr[0];\r\n      while (j &lt; n &amp;&amp; arr[j] &lt; key) {\r\n        arr[j - 1] = arr[j];\r\n        j = j + 1;\r\n      }\r\n      arr[j - 1] = key;\r\n    }\r\n--------------------------------------------------------------------------\r\nConstruction of codes using above algorithm\r\n\r\nConstruction of codes which makes use of the above algorithm is a string manipulation problem where we start with no code for each symbol. Then we follow the same algorithm as compressed file size/ compressibility calculation. Additionally we just keep on maintaining the history of code evolution. After the iteration through frequency array finishes, our final code which contains the evolution of different Huffman code for each symbol gets stored in the top index of codes array.\r\nAt this point, a string parsing algorithm can parse this evolution and generate individual codes per symbol. Complete phenomenon involves no trees, heaps or priority queue. Just one iteration through frequency array (size 256 in most cases) would generate the evolution of codes as well as final compressed size value.\r\n\r\n\r\n \r\n\r\n       /* Generate code for map array of frequencies. Final code gets generated at\r\n     * codes[r] which can be provided as input to string parsing algorithm to\r\n     * generate code for individual symbols.\r\n     */\r\n    void generate_code(long map[], int l, int r) {\r\n      int i, j, k, compressed_file_size_in_bits = 0;\r\n    \r\n      insertionSort(map + l, r - l);\r\n    \r\n      for (i = l; i + 1 &lt;= r; i++) {\r\n        j = i + 1;\r\n    \r\n        compressed_file_size = compressed_file_size_in_bits + map[i] + map[j];\r\n        char code[50] = &quot;(&quot;;\r\n    \r\n        /* According to  algorithm, two different codes from two different\r\n         * nodes are getting combined in a way so that they can be separated by\r\n         * by a string parsing algorithm.  Left node code, codes[i] gets appended by\r\n         * 0  and right node code, codes[j] gets appended by 1. These two codes \r\n          get\r\n         * separated by a comma.\r\n         */\r\n        strcat(code, codes[i]);\r\n        strcat(code, &quot;0&quot;);\r\n        strcat(code, &quot;,&quot;);\r\n        strcat(code, codes[j]);\r\n        strcat(code, &quot;1&quot;);\r\n        strcat(code, &quot;)&quot;);\r\n    \r\n        map[i + 1] = map[i] + map[j];\r\n    \r\n        strcpy(codes[i + 1], code);\r\n    \r\n        int n = r - l;\r\n        /* Adjust_first_element now takes an additional 3rd argument.\r\n         * this argument helps in adjusting codes according to how\r\n         * map elements are getting adjusted.\r\n         */\r\n        Adjust_first_element(map + i + 1, n - i - 1, i + 1);\r\n      }\r\n    }\r\n    \r\n    void insertionSort(long arr[], long n) {\r\n      long i, key, j;\r\n      //   if(n&gt;3)\r\n      //  n=3;\r\n      for (i = 1; i &lt; n; i++) {\r\n        key = arr[i];\r\n        j = i - 1;\r\n    \r\n        /* Move elements of arr[0..i-1], that are\r\n        greater than key, to one position ahead\r\n        of their current position */\r\n        while (j &gt;= 0 &amp;&amp; arr[j] &gt; key) {\r\n          arr[j + 1] = arr[j];\r\n          j = j - 1;\r\n        }\r\n        arr[j + 1] = key;\r\n      }\r\n    }\r\n    \r\n    // Assumes arr[i+1---] is already sorted. Just first\r\n    // element needs to be placed at appropriate place.\r\n    void Adjust_first_element(long arr[], long n, int start) {\r\n      long i, key, j = 1;\r\n      char temp_arr[250];\r\n      key = arr[0];\r\n      /* How map elements will change position, codes[] element will follow\r\n       * same path\r\n       */\r\n      strcpy(temp_arr, codes[start]);\r\n    \r\n      while (j &lt; n &amp;&amp; arr[j] &lt; key) {\r\n        arr[j - 1] = arr[j];\r\n        /* codes should also move according to map values */\r\n        strcpy(codes[j - 1 + start], codes[j + start]);\r\n        j = j + 1;\r\n      }\r\n      arr[j - 1] = key;\r\n      strcpy(codes[j - 1 + start], temp_arr);\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Uh0Qk.png","title":"How to efficiently predict if data is compressible","body":"<p>A faster and more accurate algorithm for estimating compressibility</p>\n<ol>\n<li>2 to 4 times faster and more accurate answer than judging by Shannon's entropy. It is\nbased on the Huffman coding approach.</li>\n<li>Time complexity of answering does not depend on numerical values of frequency of\nsymbols, rather depends on the number of unique symbols. Shannon's entropy calculates\nlog(frequency), Hence the more the frequency, the more time it will consume to compute\nthis value. In the current approach, mathematical operations on frequency values are\navoided.</li>\n<li>For similar reasons as above, precision is also higher since our dependency on floating\npoint operations is avoided as well as we just rely on sum and multiplication operations and\nhow actual Huffman codes will contribute to total compressed size.</li>\n<li>Same algorithm can be enhanced to generate actual Huffman codes in less time which\nwon't involve complex data structures like trees, heaps or priority queue. For our different\nrequirements we just use the same frequency array of symbols.</li>\n</ol>\n<p>Following algorithm specifies how to calculate compressibility of a file whose symbol\nfrequency values are stored in map array.<a href=\"https://i.stack.imgur.com/Uh0Qk.png\" rel=\"nofollow noreferrer\">Time comparison chart</a></p>\n<pre><code>     int compressed_file_size_in_bits = 0, n=256;\n  /* We sort the map array in increasing order.\n   * We will be simulating huffman codes algorithm.\n   * Insertion Sort is used as its a small array of 256 symbols.\n   */\n  insertionSort(map, 256);\n\n  for (j = 0; j &lt; n; j++)\n    if (map[j] != 0)\n      break;\n\n  for (i = j; i + 1 &lt; n; i++) {\n    j = i + 1;\n    /* Following is an important step, as we keep on building more\n     * and more codes bottom up, their contribution to compressed size\n     * gets governed by following formula. Copy pen simulation is recommended.\n     */\n    compressed_file_size_in_bits = compressed_file_size_in_bits + map[i] + map[j];\n\n    /* Least two elements of the map gets summed up and form a new frequency\n     * value which gets placed at i+1 th index.\n     */\n    map[i + 1] = map[i] + map[j];\n    // map [i+2-----] is already sorted. Just fix the first element.\n    Adjust_first_element(map + i + 1, n - i - 1);\n  }\n  printf(&quot;Entropy per byte %f &quot;, compressed_file_size_in_bits * (1.0) / file_len);\n\n  void insertionSort(long arr[], long n) {\n  long i, key, j;\n  for (i = 1; i &lt; n; i++) {\n    key = arr[i];\n    j = i - 1;\n\n    /* Move elements of arr[0..i-1], that are\n    greater than key, to one position ahead\n    of their current position */\n    while (j &gt;= 0 &amp;&amp; arr[j] &gt; key) {\n      arr[j + 1] = arr[j];\n      j = j - 1;\n    }\n    arr[j + 1] = key;\n  }\n}\n\n// Assumes arr[i+1---] is already sorted. Just first\n// element needs to be placed at appropriate place.\nvoid Adjust_first_element(long arr[], long n) {\n  long i, key, j = 1;\n  key = arr[0];\n  while (j &lt; n &amp;&amp; arr[j] &lt; key) {\n    arr[j - 1] = arr[j];\n    j = j + 1;\n  }\n  arr[j - 1] = key;\n}\n</code></pre>\n<hr />\n<p>Construction of codes using above algorithm</p>\n<p>Construction of codes which makes use of the above algorithm is a string manipulation problem where we start with no code for each symbol. Then we follow the same algorithm as compressed file size/ compressibility calculation. Additionally we just keep on maintaining the history of code evolution. After the iteration through frequency array finishes, our final code which contains the evolution of different Huffman code for each symbol gets stored in the top index of codes array.\nAt this point, a string parsing algorithm can parse this evolution and generate individual codes per symbol. Complete phenomenon involves no trees, heaps or priority queue. Just one iteration through frequency array (size 256 in most cases) would generate the evolution of codes as well as final compressed size value.</p>\n<pre><code>   /* Generate code for map array of frequencies. Final code gets generated at\n * codes[r] which can be provided as input to string parsing algorithm to\n * generate code for individual symbols.\n */\nvoid generate_code(long map[], int l, int r) {\n  int i, j, k, compressed_file_size_in_bits = 0;\n\n  insertionSort(map + l, r - l);\n\n  for (i = l; i + 1 &lt;= r; i++) {\n    j = i + 1;\n\n    compressed_file_size = compressed_file_size_in_bits + map[i] + map[j];\n    char code[50] = &quot;(&quot;;\n\n    /* According to  algorithm, two different codes from two different\n     * nodes are getting combined in a way so that they can be separated by\n     * by a string parsing algorithm.  Left node code, codes[i] gets appended by\n     * 0  and right node code, codes[j] gets appended by 1. These two codes \n      get\n     * separated by a comma.\n     */\n    strcat(code, codes[i]);\n    strcat(code, &quot;0&quot;);\n    strcat(code, &quot;,&quot;);\n    strcat(code, codes[j]);\n    strcat(code, &quot;1&quot;);\n    strcat(code, &quot;)&quot;);\n\n    map[i + 1] = map[i] + map[j];\n\n    strcpy(codes[i + 1], code);\n\n    int n = r - l;\n    /* Adjust_first_element now takes an additional 3rd argument.\n     * this argument helps in adjusting codes according to how\n     * map elements are getting adjusted.\n     */\n    Adjust_first_element(map + i + 1, n - i - 1, i + 1);\n  }\n}\n\nvoid insertionSort(long arr[], long n) {\n  long i, key, j;\n  //   if(n&gt;3)\n  //  n=3;\n  for (i = 1; i &lt; n; i++) {\n    key = arr[i];\n    j = i - 1;\n\n    /* Move elements of arr[0..i-1], that are\n    greater than key, to one position ahead\n    of their current position */\n    while (j &gt;= 0 &amp;&amp; arr[j] &gt; key) {\n      arr[j + 1] = arr[j];\n      j = j - 1;\n    }\n    arr[j + 1] = key;\n  }\n}\n\n// Assumes arr[i+1---] is already sorted. Just first\n// element needs to be placed at appropriate place.\nvoid Adjust_first_element(long arr[], long n, int start) {\n  long i, key, j = 1;\n  char temp_arr[250];\n  key = arr[0];\n  /* How map elements will change position, codes[] element will follow\n   * same path\n   */\n  strcpy(temp_arr, codes[start]);\n\n  while (j &lt; n &amp;&amp; arr[j] &lt; key) {\n    arr[j - 1] = arr[j];\n    /* codes should also move according to map values */\n    strcpy(codes[j - 1 + start], codes[j + start]);\n    j = j + 1;\n  }\n  arr[j - 1] = key;\n  strcpy(codes[j - 1 + start], temp_arr);\n}\n</code></pre>\n"}],"owner":{"account_id":161745,"reputation":49235,"user_id":382763,"accept_rate":92,"display_name":"Thomas Mueller"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6754,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":7027268,"answer_count":9,"score":23,"last_activity_date":1650178594,"creation_date":1313070525,"question_id":7027022,"body_markdown":"I want to write a storage backend to store larger chunks of data. The data can be anything, but it is mainly binary files (images, pdfs, jar files) or text files (xml, jsp, js, html, java...). I found most of the data is already compressed. If everything is compressed, about 15% disk space can be saved.\r\n\r\nI am looking for the most efficient algorithm that can predict with high probability that a chunk of data (let&#39;s say 128 KB) can be compressed or not (lossless compression), without having to look at all the data if possible.\r\n\r\nThe compression algorithm will be either LZF, Deflate, or something similar (maybe Google Snappy). So predicting if data is compressible should be much faster than compressing the data itself, and use less memory.\r\n\r\nAlgorithms I already know about:\r\n\r\n* Try to compress a subset of the data, let&#39;s say 128 bytes (this is a bit slow)\r\n\r\n* Calculate the sum of 128 bytes, and if it&#39;s within a certain range then it&#39;s likely not compressible (within 10% of 128 * 127) (this is fast, and relatively good, but I&#39;m looking for something more reliable, because the algorithm really only looks at the topmost bits for each byte)\r\n\r\n* Look at the file headers (relatively reliable, but feels like cheating)\r\n\r\nI guess the general idea is that I need an algorithm that can quickly calculate if the probability of each bit in a list of bytes is roughly 0.5.\r\n\r\nUpdate\r\n------\r\n\r\nI have implemented &#39;ASCII checking&#39;, &#39;entropy calculation&#39;, and &#39;simplified compression&#39;, and all give good results. I want to refine the algorithms, and now my idea is to not only predict if data can be compressed, but also _how much_ it can be compressed. Possibly using a combination of algorithms. Now if I could only accept multiple answers... I will accept the answer that gave the best results.\r\n\r\nAdditional answers (new ideas) are still welcome! If possible, with source code or links :-)\r\n\r\nUpdate 2\r\n--------\r\nA similar method is [now implemented in Linux][1].\r\n\r\n\r\n  [1]: https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=19562430c6213925faba3baa9e8cb224ddd47ee6","title":"How to efficiently predict if data is compressible","body":"<p>I want to write a storage backend to store larger chunks of data. The data can be anything, but it is mainly binary files (images, pdfs, jar files) or text files (xml, jsp, js, html, java...). I found most of the data is already compressed. If everything is compressed, about 15% disk space can be saved.</p>\n\n<p>I am looking for the most efficient algorithm that can predict with high probability that a chunk of data (let's say 128 KB) can be compressed or not (lossless compression), without having to look at all the data if possible.</p>\n\n<p>The compression algorithm will be either LZF, Deflate, or something similar (maybe Google Snappy). So predicting if data is compressible should be much faster than compressing the data itself, and use less memory.</p>\n\n<p>Algorithms I already know about:</p>\n\n<ul>\n<li><p>Try to compress a subset of the data, let's say 128 bytes (this is a bit slow)</p></li>\n<li><p>Calculate the sum of 128 bytes, and if it's within a certain range then it's likely not compressible (within 10% of 128 * 127) (this is fast, and relatively good, but I'm looking for something more reliable, because the algorithm really only looks at the topmost bits for each byte)</p></li>\n<li><p>Look at the file headers (relatively reliable, but feels like cheating)</p></li>\n</ul>\n\n<p>I guess the general idea is that I need an algorithm that can quickly calculate if the probability of each bit in a list of bytes is roughly 0.5.</p>\n\n<h2>Update</h2>\n\n<p>I have implemented 'ASCII checking', 'entropy calculation', and 'simplified compression', and all give good results. I want to refine the algorithms, and now my idea is to not only predict if data can be compressed, but also <em>how much</em> it can be compressed. Possibly using a combination of algorithms. Now if I could only accept multiple answers... I will accept the answer that gave the best results.</p>\n\n<p>Additional answers (new ideas) are still welcome! If possible, with source code or links :-)</p>\n\n<h2>Update 2</h2>\n\n<p>A similar method is <a href=\"https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=19562430c6213925faba3baa9e8cb224ddd47ee6\" rel=\"nofollow noreferrer\">now implemented in Linux</a>.</p>\n"},{"tags":["java","spring","unit-testing","testing","spring-data-jpa"],"comments":[{"owner":{"account_id":4279009,"reputation":7633,"user_id":3498962,"display_name":"Essex Boy"},"score":0,"creation_date":1498037610,"post_id":44671835,"comment_id":76328619,"body_markdown":"I wouldn&#39;t to this, by which I mean write a generic Specification, I think it&#39;s rewriting the intention behind JPA.  I would write only specific Specification, most cases can be handled by Spring JPA anyway.  Just my own personal opinion of course.","body":"I wouldn&#39;t to this, by which I mean write a generic Specification, I think it&#39;s rewriting the intention behind JPA.  I would write only specific Specification, most cases can be handled by Spring JPA anyway.  Just my own personal opinion of course."},{"owner":{"account_id":6076754,"reputation":6728,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"score":0,"creation_date":1498037696,"post_id":44671835,"comment_id":76328683,"body_markdown":"I have 10 parameters which can or not be empty/null. I cannot write 10! single specifications","body":"I have 10 parameters which can or not be empty/null. I cannot write 10! single specifications"}],"answers":[{"tags":[],"owner":{"account_id":2914806,"reputation":5288,"user_id":2596915,"accept_rate":14,"display_name":"xyz"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1650178445,"creation_date":1498038618,"answer_id":44672656,"question_id":44671835,"body_markdown":"1. if you must test actual code that talks to the DB, use DBUnit for making your life easier, and it is recommended that you use HSQLDB, so that your tests will be able to setup their environment on runtime, without requiring a database already being installed and configured. \r\nInside integration test you check that query is : correct , executable , return expected result , data model is valid...... You don&#39;t need to check all possible combination inside integration tests, check only correct execution and result as expected.\r\n\r\n\r\n2. if you don&#39;t have to talk with the DB (appendOr,appendAnd - you check behavior , not data. check that specification builder has expected behavior - apply AND , OR..... predicates ), use a general mocking library : EasyMock, Mockito or any other, and make the tests not really talk to a DB, which will usually make tests faster and simpler.\r\n\r\nso , if you want to &#39;test only logic, how OR and AND clauses are created&#39; you can use mock for checking way of creation, but you should have min one integration test for method : Specification&lt;T&gt; build() with maximum amount of criteria like appendOr ,  appendAnd ....","title":"How to write a unit test for spring specification?","body":"<ol>\n<li><p>if you must test actual code that talks to the DB, use DBUnit for making your life easier, and it is recommended that you use HSQLDB, so that your tests will be able to setup their environment on runtime, without requiring a database already being installed and configured.\nInside integration test you check that query is : correct , executable , return expected result , data model is valid...... You don't need to check all possible combination inside integration tests, check only correct execution and result as expected.</p>\n</li>\n<li><p>if you don't have to talk with the DB (appendOr,appendAnd - you check behavior , not data. check that specification builder has expected behavior - apply AND , OR..... predicates ), use a general mocking library : EasyMock, Mockito or any other, and make the tests not really talk to a DB, which will usually make tests faster and simpler.</p>\n</li>\n</ol>\n<p>so , if you want to 'test only logic, how OR and AND clauses are created' you can use mock for checking way of creation, but you should have min one integration test for method : Specification build() with maximum amount of criteria like appendOr ,  appendAnd ....</p>\n"}],"owner":{"account_id":6076754,"reputation":6728,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15727,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":44672656,"answer_count":1,"score":4,"last_activity_date":1650178445,"creation_date":1498036732,"question_id":44671835,"body_markdown":"I created a builder class which construct [Specifications](http://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/domain/Specifications.html) object. It is used for creating queries for `JpaSpecificationExecutor`. The builder is used, because I have many parameters which can be null/empty (comes from user for filtering) and I cannot use just `Specifications` without it:\r\n\r\n\tpublic class SpecificationBuilder&lt;T&gt; {\r\n\r\n\t\tprivate Specifications&lt;T&gt; specification;\r\n\t\t\r\n\t\tpublic SpecificationBuilder() {\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic SpecificationBuilder(final Specification&lt;T&gt; spec) {\r\n\t\t\tspecification = Specifications.where(spec);\r\n\t\t}\r\n\t\t\r\n\t\tpublic SpecificationBuilder&lt;T&gt; appendOr(final Specification&lt;T&gt; spec) {\r\n\t\t\tspecification = Specifications.where(spec).or(specification);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t\r\n\t\tpublic SpecificationBuilder&lt;T&gt; appendAnd(final Specification&lt;T&gt; spec) {\r\n\t\t\tspecification = Specifications.where(spec).and(specification);\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t\r\n\t\tpublic Specification&lt;T&gt; build() {\r\n\t\t\treturn Specifications.where(specification);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nMy problem here is that I don&#39;t know how to test it in isolation. Of course I can autowire real repository (on in-memory db) but I want to not involve any other classes for that and test only logic, how OR and AND clauses are created.\r\n\r\nUnfortunately in spring API I cannot find any method which will help","title":"How to write a unit test for spring specification?","body":"<p>I created a builder class which construct <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/domain/Specifications.html\" rel=\"nofollow noreferrer\">Specifications</a> object. It is used for creating queries for <code>JpaSpecificationExecutor</code>. The builder is used, because I have many parameters which can be null/empty (comes from user for filtering) and I cannot use just <code>Specifications</code> without it:</p>\n\n<pre><code>public class SpecificationBuilder&lt;T&gt; {\n\n    private Specifications&lt;T&gt; specification;\n\n    public SpecificationBuilder() {\n\n    }\n\n    public SpecificationBuilder(final Specification&lt;T&gt; spec) {\n        specification = Specifications.where(spec);\n    }\n\n    public SpecificationBuilder&lt;T&gt; appendOr(final Specification&lt;T&gt; spec) {\n        specification = Specifications.where(spec).or(specification);\n        return this;\n    }\n\n    public SpecificationBuilder&lt;T&gt; appendAnd(final Specification&lt;T&gt; spec) {\n        specification = Specifications.where(spec).and(specification);\n        return this;\n    }\n\n    public Specification&lt;T&gt; build() {\n        return Specifications.where(specification);\n    }\n\n}\n</code></pre>\n\n<p>My problem here is that I don't know how to test it in isolation. Of course I can autowire real repository (on in-memory db) but I want to not involve any other classes for that and test only logic, how OR and AND clauses are created.</p>\n\n<p>Unfortunately in spring API I cannot find any method which will help</p>\n"},{"tags":["java","android","xml","kotlin","android-recyclerview"],"comments":[{"owner":{"account_id":1301014,"reputation":8110,"user_id":1250929,"accept_rate":72,"display_name":"Kristy Welsh"},"score":0,"creation_date":1620222379,"post_id":67401921,"comment_id":119136734,"body_markdown":"You never call stop on the previous audio track.","body":"You never call stop on the previous audio track."},{"owner":{"account_id":21486450,"reputation":31,"user_id":15833013,"display_name":"Aryan Raj"},"score":0,"creation_date":1620282423,"post_id":67401921,"comment_id":119155502,"body_markdown":"I have tried that also but however it is not working.","body":"I have tried that also but however it is not working."}],"answers":[{"tags":[],"owner":{"account_id":4824539,"reputation":969,"user_id":3894304,"display_name":"Marcel Hofgesang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620224513,"creation_date":1620224513,"answer_id":67403197,"question_id":67401921,"body_markdown":"Code seems to be good. Remember to call `release()` on your player and initialise it again with new media file before playing it. Maybe it could be useful for you to implement a [MediaPlayer.OnCompletionListener][1] in which you could call `player.release()`\r\n\r\nOr maybe this is enough:\r\n\r\n    holder.soundImage.setOnClickListener {\r\n            mediaPlayer!!.release()\r\n            mediaPlayer = null\r\n            mediaPlayer = MediaPlayer.create(context, itemModel.soundTrack)\r\n            Toast.makeText(context, itemModel.soundTitle, Toast.LENGTH_LONG).show()\r\n            mediaPlayer!!.start()\r\n        }\r\n\r\n  [1]: https://developer.android.com/reference/android/media/MediaPlayer#setOnCompletionListener(android.media.MediaPlayer.OnCompletionListener)","title":"When i click on multiple buttons, multiple audios start playing at the same time in android studio","body":"<p>Code seems to be good. Remember to call <code>release()</code> on your player and initialise it again with new media file before playing it. Maybe it could be useful for you to implement a <a href=\"https://developer.android.com/reference/android/media/MediaPlayer#setOnCompletionListener(android.media.MediaPlayer.OnCompletionListener)\" rel=\"nofollow noreferrer\">MediaPlayer.OnCompletionListener</a> in which you could call <code>player.release()</code></p>\n<p>Or maybe this is enough:</p>\n<pre><code>holder.soundImage.setOnClickListener {\n        mediaPlayer!!.release()\n        mediaPlayer = null\n        mediaPlayer = MediaPlayer.create(context, itemModel.soundTrack)\n        Toast.makeText(context, itemModel.soundTitle, Toast.LENGTH_LONG).show()\n        mediaPlayer!!.start()\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23903408,"reputation":159,"user_id":17901287,"display_name":"BeeProDev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650177967,"creation_date":1650177967,"answer_id":71899875,"question_id":67401921,"body_markdown":"I&#39;ll recommend to initialize just single object of MediaPlayer in your fragment or activity in which your RecyclerView is located and than pass that object into adapter as a parameter and use it and dont forget to release MediaPlayer in onDestroy() of activity or onDestroyView() of fragment by calling MediaPlayer?.release(). In adapter OnClickListener() you have to stop the media player calling MediaPlayer?.stop() and MediaPlayer?.reset() and than add the new source\r\n\r\n    class RecylerViewAdapter (var context: Context, var arrayList: ArrayList&lt;ItemModel&gt;, var mediaPlayer : MediaPlayer?) :\r\n    RecyclerView.Adapter&lt;RecylerViewAdapter.ItemHolder&gt;() {\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ItemHolder {\r\n\r\n        val viewHolder = LayoutInflater.from(parent.context)\r\n            .inflate(R.layout.sound_item_list, parent, false)\r\n        return ItemHolder(viewHolder)\r\n\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: ItemHolder, position: Int) {\r\n\r\n        val itemModel: ItemModel = arrayList[position]\r\n\r\n        holder.soundImage.setImageResource(itemModel.soundImage)\r\n        holder.soundTitle.text = itemModel.soundTitle\r\n\r\n    \r\n        holder.soundImage.setOnClickListener {\r\n        mediaPlayer?.stop()\r\n        mediaPlayer?.reset()\r\n        mediaPlayer?.setDataSource(itemModel.soundTrack)\r\n        mediaPlayer?.isLooping = true\r\n        mediaPlayer?.start()\r\n        }\r\n\r\n    }\r\n\r\n\r\n    override fun getItemCount(): Int {\r\n\r\n        return arrayList.size\r\n\r\n    }\r\n\r\n    class ItemHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\r\n\r\n        var soundImage = itemView.soundImage\r\n        var soundTitle = itemView.soundTitle\r\n\r\n    }\r\n}","title":"When i click on multiple buttons, multiple audios start playing at the same time in android studio","body":"<p>I'll recommend to initialize just single object of MediaPlayer in your fragment or activity in which your RecyclerView is located and than pass that object into adapter as a parameter and use it and dont forget to release MediaPlayer in onDestroy() of activity or onDestroyView() of fragment by calling MediaPlayer?.release(). In adapter OnClickListener() you have to stop the media player calling MediaPlayer?.stop() and MediaPlayer?.reset() and than add the new source</p>\n<pre><code>class RecylerViewAdapter (var context: Context, var arrayList: ArrayList&lt;ItemModel&gt;, var mediaPlayer : MediaPlayer?) :\nRecyclerView.Adapter&lt;RecylerViewAdapter.ItemHolder&gt;() {\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ItemHolder {\n\n    val viewHolder = LayoutInflater.from(parent.context)\n        .inflate(R.layout.sound_item_list, parent, false)\n    return ItemHolder(viewHolder)\n\n}\n\noverride fun onBindViewHolder(holder: ItemHolder, position: Int) {\n\n    val itemModel: ItemModel = arrayList[position]\n\n    holder.soundImage.setImageResource(itemModel.soundImage)\n    holder.soundTitle.text = itemModel.soundTitle\n\n\n    holder.soundImage.setOnClickListener {\n    mediaPlayer?.stop()\n    mediaPlayer?.reset()\n    mediaPlayer?.setDataSource(itemModel.soundTrack)\n    mediaPlayer?.isLooping = true\n    mediaPlayer?.start()\n    }\n\n}\n\n\noverride fun getItemCount(): Int {\n\n    return arrayList.size\n\n}\n\nclass ItemHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n    var soundImage = itemView.soundImage\n    var soundTitle = itemView.soundTitle\n\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":21486450,"reputation":31,"user_id":15833013,"display_name":"Aryan Raj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1650177967,"creation_date":1620219845,"question_id":67401921,"body_markdown":"    \r\nWhen i click on multiple images of recyclerview then multiple audios start playing without stopping the previous one. It is getting irritating. I hope someone can help me fix this. I have read about singleton class and using only one instance of media player but couldn&#39;t understood how to implement it correctly.\r\n\r\n\r\n    class RecylerViewAdapter (var context: Context, var arrayList: ArrayList&lt;ItemModel&gt;) :\r\n        RecyclerView.Adapter&lt;RecylerViewAdapter.ItemHolder&gt;() {\r\n    \r\n        var mediaPlayer: MediaPlayer? = null\r\n    \r\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ItemHolder {\r\n    \r\n            val viewHolder = LayoutInflater.from(parent.context)\r\n                .inflate(R.layout.sound_item_list, parent, false)\r\n            return ItemHolder(viewHolder)\r\n    \r\n        }\r\n    \r\n        override fun onBindViewHolder(holder: ItemHolder, position: Int) {\r\n    \r\n            val itemModel: ItemModel = arrayList[position]\r\n    \r\n            holder.soundImage.setImageResource(itemModel.soundImage)\r\n            holder.soundTitle.text = itemModel.soundTitle\r\n    \r\n            mediaPlayer = MediaPlayer.create(context, itemModel.soundTrack)\r\n            mediaPlayer!!.isLooping = true\r\n    \r\n            holder.soundImage.setOnClickListener {\r\n                Toast.makeText(context, itemModel.soundTitle, Toast.LENGTH_LONG).show()\r\n                mediaPlayer!!.start()\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        override fun getItemCount(): Int {\r\n    \r\n            return arrayList.size\r\n    \r\n        }\r\n    \r\n        class ItemHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\r\n    \r\n            var soundImage = itemView.soundImage\r\n            var soundTitle = itemView.soundTitle\r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"When i click on multiple buttons, multiple audios start playing at the same time in android studio","body":"<p>When i click on multiple images of recyclerview then multiple audios start playing without stopping the previous one. It is getting irritating. I hope someone can help me fix this. I have read about singleton class and using only one instance of media player but couldn't understood how to implement it correctly.</p>\n<pre><code>class RecylerViewAdapter (var context: Context, var arrayList: ArrayList&lt;ItemModel&gt;) :\n    RecyclerView.Adapter&lt;RecylerViewAdapter.ItemHolder&gt;() {\n\n    var mediaPlayer: MediaPlayer? = null\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ItemHolder {\n\n        val viewHolder = LayoutInflater.from(parent.context)\n            .inflate(R.layout.sound_item_list, parent, false)\n        return ItemHolder(viewHolder)\n\n    }\n\n    override fun onBindViewHolder(holder: ItemHolder, position: Int) {\n\n        val itemModel: ItemModel = arrayList[position]\n\n        holder.soundImage.setImageResource(itemModel.soundImage)\n        holder.soundTitle.text = itemModel.soundTitle\n\n        mediaPlayer = MediaPlayer.create(context, itemModel.soundTrack)\n        mediaPlayer!!.isLooping = true\n\n        holder.soundImage.setOnClickListener {\n            Toast.makeText(context, itemModel.soundTitle, Toast.LENGTH_LONG).show()\n            mediaPlayer!!.start()\n        }\n\n    }\n\n\n    override fun getItemCount(): Int {\n\n        return arrayList.size\n\n    }\n\n    class ItemHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        var soundImage = itemView.soundImage\n        var soundTitle = itemView.soundTitle\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","arraylist","text-files"],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649830464,"creation_date":1649824390,"answer_id":71851927,"question_id":71851789,"body_markdown":"Yes. You are right. You can use a hashmap. Try this code -&gt; \r\n```java\r\npublic static Hashmap&lt;String, Integer&gt; letterInstances(String file)throws IOException{\r\n    Hashmap&lt;String, String&gt; instanceMap = Hashmap&lt;String, String&gt;;\r\n  \r\n\r\n    Scanner reader = new Scanner(new File(&quot;test.txt&quot;));//scanner accesses file\r\n    \r\n    \r\n    while(reader.hasNext()){\r\n       String line = reader.nextLine();\r\n       for(int i = 0; i&lt; line.length(); i++){\r\n           String character = line.get(i).toString().toLowerCase();\r\n           int count = 0;\r\n           if(instanceMap.containsKey(character)) count = instanceList.get(character);\r\n           instanceMap.put(character, count)\r\n       }\r\n      \r\n       return instanceMap;\r\n\r\n}\r\n```\r\nOr if you also want to sort them to get the first 5 results, use this -&gt; \r\n```java\r\npublic List&lt;Entry&lt;String, Integer&gt;&gt; getTop5(Hashmap map){\r\n\r\n    Set&lt;Entry&lt;String, Integer&gt;&gt; set = map.entrySet();\r\n\r\n    List&lt;Entry&lt;String, Integer&gt;&gt; list = new ArrayList&lt;Entry&lt;String, Integer&gt;&gt;(\r\n            set);\r\n\r\n    Collections.sort(list, new Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;() {\r\n\r\n        @Override\r\n        public int compare(Entry&lt;String, Integer&gt; o1,\r\n                Entry&lt;String, Integer&gt; o2) {\r\n\r\n            return o2.getValue().compareTo(o1.getValue());\r\n        }\r\n\r\n    });\r\n    System.out.println(list.subList(0, 5)); // this is the list of largest 5 characters in count\r\n    return list.subList(0, 5);\r\n}\r\n\r\n```","title":"Finding Highest occurrence in file","body":"<p>Yes. You are right. You can use a hashmap. Try this code -&gt;</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Hashmap&lt;String, Integer&gt; letterInstances(String file)throws IOException{\n    Hashmap&lt;String, String&gt; instanceMap = Hashmap&lt;String, String&gt;;\n  \n\n    Scanner reader = new Scanner(new File(&quot;test.txt&quot;));//scanner accesses file\n    \n    \n    while(reader.hasNext()){\n       String line = reader.nextLine();\n       for(int i = 0; i&lt; line.length(); i++){\n           String character = line.get(i).toString().toLowerCase();\n           int count = 0;\n           if(instanceMap.containsKey(character)) count = instanceList.get(character);\n           instanceMap.put(character, count)\n       }\n      \n       return instanceMap;\n\n}\n</code></pre>\n<p>Or if you also want to sort them to get the first 5 results, use this -&gt;</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Entry&lt;String, Integer&gt;&gt; getTop5(Hashmap map){\n\n    Set&lt;Entry&lt;String, Integer&gt;&gt; set = map.entrySet();\n\n    List&lt;Entry&lt;String, Integer&gt;&gt; list = new ArrayList&lt;Entry&lt;String, Integer&gt;&gt;(\n            set);\n\n    Collections.sort(list, new Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;() {\n\n        @Override\n        public int compare(Entry&lt;String, Integer&gt; o1,\n                Entry&lt;String, Integer&gt; o2) {\n\n            return o2.getValue().compareTo(o1.getValue());\n        }\n\n    });\n    System.out.println(list.subList(0, 5)); // this is the list of largest 5 characters in count\n    return list.subList(0, 5);\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650176064,"creation_date":1649826435,"answer_id":71852155,"question_id":71851789,"body_markdown":"If you can not use a `HashMap`, you can try this.\r\n\r\nComments in the code.\r\n\r\n**Code**\r\n```\r\nmport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\n/**\r\n *\r\n * @author Sedrick(sedj601)\r\n */\r\npublic class Main\r\n{\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        //Fake file data\r\n        String dataToRead = \r\n        &quot;Lorem Ipsum is simply dummy text of the \r\n        printing and typesetting industry Lorem \r\n        Ipsum has been the industrys standard dummy \r\n        text ever since thes when an unknown printer \r\n        took a galley of type and scrambled it to make a \r\n        type specimen book It has survived not only five \r\n        centuries but also the leap into electronic typesetting \r\n        remaining essentially unchanged It was popularised in the \r\n        a with the release of Letraset sheets containing \r\n        Lorem Ipsum passages and more recently with desktop \r\n        publishing software like Aldus PageMaker including \r\n        versions of Lorem Ipsum&quot;;        \r\n        List&lt;String&gt; data = Arrays.asList(dataToRead.toUpperCase().split(&quot;\\n&quot;));//Capatilize the data as you read it.\r\n        \r\n        List&lt;String&gt; keyCapitalLetters = new ArrayList(Arrays.asList(&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ &quot;.split(&quot;&quot;)));//Use this List like you would use the key part of a HashMap.\r\n        //data.forEach(System.out::println);\r\n        List&lt;Integer&gt; valuescounters = new ArrayList();//Use this list like you would use the value part of a HashMap\r\n        //Set all the counters values to zero.\r\n        for(int i = 0; i &lt; 27; i++)\r\n        {\r\n            valuescounters.add(0);\r\n        }\r\n        \r\n        //Process the fake data line by line\r\n        for(String line : data)\r\n        {\r\n            System.out.println(&quot;Line: &quot; + line);\r\n            for(int i = 0; i &lt; line.length(); i++)//Read each character of each line.\r\n            {                \r\n                int index = keyCapitalLetters.indexOf(String.valueOf(line.charAt(i)));//find the index in the key List of the characters that is being read.\r\n                valuescounters.set(index, valuescounters.get(index) + 1);//Increment the counter value in the value list.\r\n                System.out.println(&quot;Char: &quot; + line.charAt(i) + &quot;\\tIndex: &quot; + index);\r\n            }\r\n        }\r\n        \r\n        //Remove the space character.\r\n        keyCapitalLetters.remove(&quot; &quot;);\r\n        valuescounters.remove(26);\r\n        \r\n        //Print the output of the key and value list.\r\n        System.out.println(&quot;\\nCount:&quot;);\r\n        for(int i = 0; i &lt; keyCapitalLetters.size(); i++)\r\n        {\r\n            System.out.println(keyCapitalLetters.get(i) + &quot;: &quot; + valuescounters.get(i));\r\n        }\r\n        \r\n        doSelectionSort(keyCapitalLetters, valuescounters);//Sort.\r\n        //Print After sort.\r\n        System.out.println(&quot;\\nSorted:&quot;);     \r\n        for(int i = 0; i &lt; keyCapitalLetters.size(); i++)\r\n        {\r\n            System.out.println(keyCapitalLetters.get(i) + &quot;: &quot; + valuescounters.get(i));\r\n        }\r\n        \r\n        //Print Five Highest.\r\n        System.out.println(&quot;\\nHighest Five&quot;);\r\n        List&lt;String&gt; keysFiveHighest = keyCapitalLetters.subList(keyCapitalLetters.size() - 5, keyCapitalLetters.size());\r\n        List&lt;Integer&gt; valuesFiveHighest = valuescounters.subList(valuescounters.size() - 5, valuescounters.size());\r\n        for(int i = 0; i &lt; keysFiveHighest.size(); i++)\r\n        {\r\n            System.out.println(keysFiveHighest.get(i) + &quot;: &quot; + valuesFiveHighest.get(i));\r\n        }\r\n        \r\n        System.out.println(&quot;\\nHighest - &quot; + keyCapitalLetters.get(keyCapitalLetters.size() - 1) + &quot;: &quot; + valuescounters.get(valuescounters.size() -1 ));\r\n        System.out.println(&quot;\\nLowest - &quot; + keyCapitalLetters.get(0) + &quot;: &quot; + valuescounters.get(0));\r\n        \r\n        \r\n        \r\n        \r\n    }    \r\n    \r\n    public static void doSelectionSort(List&lt;String&gt; keyList, List&lt;Integer&gt; valuesList) {\r\n        for (int i = 0; i &lt; valuesList.size(); i++) {\r\n            // find position of smallest num between (i + 1)th element and last element\r\n            int pos = i;\r\n            for (int j = i; j &lt; valuesList.size(); j++) {\r\n                if (valuesList.get(j) &lt; valuesList.get(pos))\r\n                    pos = j;\r\n            }\r\n            // Swap min (smallest num) to current position on array\r\n            int minValue = valuesList.get(pos);\r\n            String minKey = keyList.get(pos);\r\n            \r\n            valuesList.set(pos, valuesList.get(i));\r\n            keyList.set(pos, keyList.get(i));\r\n            \r\n            valuesList.set(i, minValue);\r\n            keyList.set(i, minKey);            \r\n        }\r\n    }    \r\n}\r\n\r\n```\r\n\r\n**OutPut**\r\n```\r\nSorted:\r\nJ: 0\r\nQ: 0\r\nZ: 0\r\nX: 2\r\nB: 5\r\nV: 5\r\nF: 6\r\nW: 6\r\nK: 7\r\nC: 10\r\nG: 11\r\nY: 13\r\nH: 14\r\nD: 16\r\nU: 17\r\nP: 19\r\nM: 19\r\nL: 22\r\nR: 24\r\nO: 25\r\nA: 30\r\nI: 38\r\nN: 38\r\nS: 38\r\nT: 43\r\nE: 59\r\n\r\nHighest Five\r\nI: 38\r\nN: 38\r\nS: 38\r\nT: 43\r\nE: 59\r\n\r\nHighest - E: 59\r\n\r\nLowest - J: 0\r\n```","title":"Finding Highest occurrence in file","body":"<p>If you can not use a <code>HashMap</code>, you can try this.</p>\n<p>Comments in the code.</p>\n<p><strong>Code</strong></p>\n<pre><code>mport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\n/**\n *\n * @author Sedrick(sedj601)\n */\npublic class Main\n{\n\n    public static void main(String[] args)\n    {\n        //Fake file data\n        String dataToRead = \n        &quot;Lorem Ipsum is simply dummy text of the \n        printing and typesetting industry Lorem \n        Ipsum has been the industrys standard dummy \n        text ever since thes when an unknown printer \n        took a galley of type and scrambled it to make a \n        type specimen book It has survived not only five \n        centuries but also the leap into electronic typesetting \n        remaining essentially unchanged It was popularised in the \n        a with the release of Letraset sheets containing \n        Lorem Ipsum passages and more recently with desktop \n        publishing software like Aldus PageMaker including \n        versions of Lorem Ipsum&quot;;        \n        List&lt;String&gt; data = Arrays.asList(dataToRead.toUpperCase().split(&quot;\\n&quot;));//Capatilize the data as you read it.\n        \n        List&lt;String&gt; keyCapitalLetters = new ArrayList(Arrays.asList(&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ &quot;.split(&quot;&quot;)));//Use this List like you would use the key part of a HashMap.\n        //data.forEach(System.out::println);\n        List&lt;Integer&gt; valuescounters = new ArrayList();//Use this list like you would use the value part of a HashMap\n        //Set all the counters values to zero.\n        for(int i = 0; i &lt; 27; i++)\n        {\n            valuescounters.add(0);\n        }\n        \n        //Process the fake data line by line\n        for(String line : data)\n        {\n            System.out.println(&quot;Line: &quot; + line);\n            for(int i = 0; i &lt; line.length(); i++)//Read each character of each line.\n            {                \n                int index = keyCapitalLetters.indexOf(String.valueOf(line.charAt(i)));//find the index in the key List of the characters that is being read.\n                valuescounters.set(index, valuescounters.get(index) + 1);//Increment the counter value in the value list.\n                System.out.println(&quot;Char: &quot; + line.charAt(i) + &quot;\\tIndex: &quot; + index);\n            }\n        }\n        \n        //Remove the space character.\n        keyCapitalLetters.remove(&quot; &quot;);\n        valuescounters.remove(26);\n        \n        //Print the output of the key and value list.\n        System.out.println(&quot;\\nCount:&quot;);\n        for(int i = 0; i &lt; keyCapitalLetters.size(); i++)\n        {\n            System.out.println(keyCapitalLetters.get(i) + &quot;: &quot; + valuescounters.get(i));\n        }\n        \n        doSelectionSort(keyCapitalLetters, valuescounters);//Sort.\n        //Print After sort.\n        System.out.println(&quot;\\nSorted:&quot;);     \n        for(int i = 0; i &lt; keyCapitalLetters.size(); i++)\n        {\n            System.out.println(keyCapitalLetters.get(i) + &quot;: &quot; + valuescounters.get(i));\n        }\n        \n        //Print Five Highest.\n        System.out.println(&quot;\\nHighest Five&quot;);\n        List&lt;String&gt; keysFiveHighest = keyCapitalLetters.subList(keyCapitalLetters.size() - 5, keyCapitalLetters.size());\n        List&lt;Integer&gt; valuesFiveHighest = valuescounters.subList(valuescounters.size() - 5, valuescounters.size());\n        for(int i = 0; i &lt; keysFiveHighest.size(); i++)\n        {\n            System.out.println(keysFiveHighest.get(i) + &quot;: &quot; + valuesFiveHighest.get(i));\n        }\n        \n        System.out.println(&quot;\\nHighest - &quot; + keyCapitalLetters.get(keyCapitalLetters.size() - 1) + &quot;: &quot; + valuescounters.get(valuescounters.size() -1 ));\n        System.out.println(&quot;\\nLowest - &quot; + keyCapitalLetters.get(0) + &quot;: &quot; + valuescounters.get(0));\n        \n        \n        \n        \n    }    \n    \n    public static void doSelectionSort(List&lt;String&gt; keyList, List&lt;Integer&gt; valuesList) {\n        for (int i = 0; i &lt; valuesList.size(); i++) {\n            // find position of smallest num between (i + 1)th element and last element\n            int pos = i;\n            for (int j = i; j &lt; valuesList.size(); j++) {\n                if (valuesList.get(j) &lt; valuesList.get(pos))\n                    pos = j;\n            }\n            // Swap min (smallest num) to current position on array\n            int minValue = valuesList.get(pos);\n            String minKey = keyList.get(pos);\n            \n            valuesList.set(pos, valuesList.get(i));\n            keyList.set(pos, keyList.get(i));\n            \n            valuesList.set(i, minValue);\n            keyList.set(i, minKey);            \n        }\n    }    \n}\n\n</code></pre>\n<p><strong>OutPut</strong></p>\n<pre><code>Sorted:\nJ: 0\nQ: 0\nZ: 0\nX: 2\nB: 5\nV: 5\nF: 6\nW: 6\nK: 7\nC: 10\nG: 11\nY: 13\nH: 14\nD: 16\nU: 17\nP: 19\nM: 19\nL: 22\nR: 24\nO: 25\nA: 30\nI: 38\nN: 38\nS: 38\nT: 43\nE: 59\n\nHighest Five\nI: 38\nN: 38\nS: 38\nT: 43\nE: 59\n\nHighest - E: 59\n\nLowest - J: 0\n</code></pre>\n"}],"owner":{"display_name":"user15447950"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1650176064,"creation_date":1649823216,"question_id":71851789,"body_markdown":"Passing an Integer arrayList. I get how to find the max and add that to a separate arrayList. But how would I be able to continue find the max. Not trying to use a selection sort algorithm.\r\n\r\n\r\n\r\n  \r\n  ","title":"Finding Highest occurrence in file","body":"<p>Passing an Integer arrayList. I get how to find the max and add that to a separate arrayList. But how would I be able to continue find the max. Not trying to use a selection sort algorithm.</p>\n"},{"tags":["java","arrays","foreach"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1352913348,"post_id":13383692,"comment_id":18278263,"body_markdown":"Just a silly suggestion: - Its not `2-D array` in Java. Its an `array of array`.","body":"Just a silly suggestion: - Its not <code>2-D array</code> in Java. Its an <code>array of array</code>."},{"owner":{"account_id":1233646,"reputation":1181,"user_id":1197712,"accept_rate":77,"display_name":"uml"},"score":0,"creation_date":1352913470,"post_id":13383692,"comment_id":18278323,"body_markdown":"It is implemented in the way of array in array, but it is called 2D array in books.","body":"It is implemented in the way of array in array, but it is called 2D array in books."},{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1352913600,"post_id":13383692,"comment_id":18278387,"body_markdown":"@uml.. May be, but still an `array of array` is a better term to name it. You will know it in future. :)","body":"@uml.. May be, but still an <code>array of array</code> is a better term to name it. You will know it in future. :)"},{"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"score":0,"creation_date":1352913778,"post_id":13383692,"comment_id":18278450,"body_markdown":"@uml I know a lot of books call it a 2D array, and if I needed a 2D array in a Java program I would map it to this structure, but it really is an array of arrays, and it is much better to think of it that way. For example, the answer to your question becomes obvious if you think of the for loop as iterating over an array, each of whose elements is an int[].","body":"@uml I know a lot of books call it a 2D array, and if I needed a 2D array in a Java program I would map it to this structure, but it really is an array of arrays, and it is much better to think of it that way. For example, the answer to your question becomes obvious if you think of the for loop as iterating over an array, each of whose elements is an int[]."}],"answers":[{"tags":[],"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1352913098,"creation_date":1352913098,"answer_id":13383714,"question_id":13383692,"body_markdown":"The loop is iterating on the elements of `uu`, which are objects of type `int[]`. (Or in other words - `u` is an element in `uu`, thus it is an `int[]`).\r\n\r\nThe declaration is always of the type of the objects retrieved by the iteration - in this case - it is `int[]` -\r\n\r\nSame as iterating over an `int[]` is:\r\n\r\n     for (int x : myArray) { ...}\r\n\r\nbecause each element of `x` is of type `int`.","title":"For each loop using 2D array","body":"<p>The loop is iterating on the elements of <code>uu</code>, which are objects of type <code>int[]</code>. (Or in other words - <code>u</code> is an element in <code>uu</code>, thus it is an <code>int[]</code>).</p>\n\n<p>The declaration is always of the type of the objects retrieved by the iteration - in this case - it is <code>int[]</code> -</p>\n\n<p>Same as iterating over an <code>int[]</code> is:</p>\n\n<pre><code> for (int x : myArray) { ...}\n</code></pre>\n\n<p>because each element of <code>x</code> is of type <code>int</code>.</p>\n"},{"tags":[],"owner":{"account_id":2031896,"reputation":4590,"user_id":1815355,"display_name":"ShyJ"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1352913108,"creation_date":1352913108,"answer_id":13383720,"question_id":13383692,"body_markdown":"It is because `uu` is an array of `int[]` arrays. So every item in it is `int[]`. In a `for` loop you declare the type of an item in an array you iterate over.","title":"For each loop using 2D array","body":"<p>It is because <code>uu</code> is an array of <code>int[]</code> arrays. So every item in it is <code>int[]</code>. In a <code>for</code> loop you declare the type of an item in an array you iterate over.</p>\n"},{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1352913638,"creation_date":1352913113,"answer_id":13383721,"question_id":13383692,"body_markdown":"Since your `uu` is an `array of array`. So, when you iterate over it, you will first get an `array`, and then you can iterate over that array to get individual elements.\r\n\r\nSo, your outer loop has `int[]` as type, and hence that declaration. If you iterate through your `u` in one more inner loop, you will get the type `int`: -\r\n\r\n    for (int[] u: uu) {\r\n        for (int elem: u) {\r\n            // Your individual element\r\n        }\r\n    }","title":"For each loop using 2D array","body":"<p>Since your <code>uu</code> is an <code>array of array</code>. So, when you iterate over it, you will first get an <code>array</code>, and then you can iterate over that array to get individual elements.</p>\n\n<p>So, your outer loop has <code>int[]</code> as type, and hence that declaration. If you iterate through your <code>u</code> in one more inner loop, you will get the type <code>int</code>: -</p>\n\n<pre><code>for (int[] u: uu) {\n    for (int elem: u) {\n        // Your individual element\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1303723,"reputation":6315,"user_id":1253136,"accept_rate":75,"display_name":"CosmicGiant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1352917650,"creation_date":1352914931,"answer_id":13384237,"question_id":13383692,"body_markdown":"*&quot;why does the declaration part of for loop is declared as int[] u, but not as int[][] u?&quot;*\r\n\r\nThe array is two-dimensional, so you are dealing with a double-layered iteration. You have an array &quot;inside&quot; another, in the same principle as `List&lt;List&lt;Integer&gt;&gt;` would work.\r\n\r\nTo iterate through all the elements, you should consider a rows-elements structure. It&#39;s necessary that you get each row from the container, and then each element from each row.\r\n\r\n`for(int[] u: uu)` is simply a for-each iteration rows, with the same principle of `for(int row = 0; row &lt; container.length; row++)`, and `u` or respectively `container[row]` are not elements themselves, but rows (arrays) of elements. Meaning you require a second iteration layer to get the elements:\r\n\r\n    int[][] container = new int[10][10];\r\n    //... - Fill elements.\r\n    for(int row = 0; row &lt; container.length; row++){\r\n      for(int element = 0; element &lt; container[row].length; element++){\r\n        System.out.printf(&quot;Row: %d Element: %d Value: %d\\n&quot;, row, element, container[row][element]);\r\n      }\r\n    }","title":"For each loop using 2D array","body":"<p><em>\"why does the declaration part of for loop is declared as int[] u, but not as int[][] u?\"</em></p>\n\n<p>The array is two-dimensional, so you are dealing with a double-layered iteration. You have an array \"inside\" another, in the same principle as <code>List&lt;List&lt;Integer&gt;&gt;</code> would work.</p>\n\n<p>To iterate through all the elements, you should consider a rows-elements structure. It's necessary that you get each row from the container, and then each element from each row.</p>\n\n<p><code>for(int[] u: uu)</code> is simply a for-each iteration rows, with the same principle of <code>for(int row = 0; row &lt; container.length; row++)</code>, and <code>u</code> or respectively <code>container[row]</code> are not elements themselves, but rows (arrays) of elements. Meaning you require a second iteration layer to get the elements:</p>\n\n<pre><code>int[][] container = new int[10][10];\n//... - Fill elements.\nfor(int row = 0; row &lt; container.length; row++){\n  for(int element = 0; element &lt; container[row].length; element++){\n    System.out.printf(\"Row: %d Element: %d Value: %d\\n\", row, element, container[row][element]);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24970638,"reputation":1,"user_id":18833843,"display_name":"TarunHacker"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650175522,"creation_date":1650175522,"answer_id":71899685,"question_id":13383692,"body_markdown":"This is an example of finding the sum in 2d array and print it\r\n```\r\npublic class Array2DForEach {\r\n    public static void main(String[] args) {\r\n        int sum = 0;\r\n        int[][] myFirst2DArray = {\r\n                                    { 3, 5, 1, 9 },\r\n                                    { 10, 15, 3, 0  },\r\n                                    { 1, 11, 31, 90 },\r\n                                    { 2, 51, 1, 9 }\r\n                                };\r\n\r\n        for (int[] row:myFirst2DArray) {\r\n\r\n            for (int columnElement : row) {\r\n                sum+=columnElement;\r\n            }\r\n            \r\n        }\r\n        System.out.println(sum);\r\n    }\r\n}\r\n\r\n```","title":"For each loop using 2D array","body":"<p>This is an example of finding the sum in 2d array and print it</p>\n<pre><code>public class Array2DForEach {\n    public static void main(String[] args) {\n        int sum = 0;\n        int[][] myFirst2DArray = {\n                                    { 3, 5, 1, 9 },\n                                    { 10, 15, 3, 0  },\n                                    { 1, 11, 31, 90 },\n                                    { 2, 51, 1, 9 }\n                                };\n\n        for (int[] row:myFirst2DArray) {\n\n            for (int columnElement : row) {\n                sum+=columnElement;\n            }\n            \n        }\n        System.out.println(sum);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":1233646,"reputation":1181,"user_id":1197712,"accept_rate":77,"display_name":"uml"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108981,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":13383721,"answer_count":5,"score":16,"last_activity_date":1650175522,"creation_date":1352912996,"question_id":13383692,"body_markdown":"This is the snippet of Java code:\r\n\r\n\tint[][] uu = new int[1][1];\r\n\tuu[0][0] = 5;\r\n\tfor(int[] u: uu){\r\n\t\tSystem.out.println(u[0]);\r\n\t}\r\n\r\nIt prints 5. But why does the declaration part of for loop is declared `as int[] u`, but not `as int[][] u`?\r\n\r\nAt the uu you reference 2D array...\r\nThat is not a homework. I am preparing for Java certification.\r\nCheers","title":"For each loop using 2D array","body":"<p>This is the snippet of Java code:</p>\n\n<pre><code>int[][] uu = new int[1][1];\nuu[0][0] = 5;\nfor(int[] u: uu){\n    System.out.println(u[0]);\n}\n</code></pre>\n\n<p>It prints 5. But why does the declaration part of for loop is declared <code>as int[] u</code>, but not <code>as int[][] u</code>?</p>\n\n<p>At the uu you reference 2D array...\nThat is not a homework. I am preparing for Java certification.\nCheers</p>\n"},{"tags":["java","vaadin","keyboard-shortcuts","vaadin7"],"answers":[{"tags":[],"owner":{"account_id":100513,"reputation":4957,"user_id":270910,"display_name":"Henri Kerola"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1392057995,"creation_date":1338404740,"answer_id":10822623,"question_id":10820117,"body_markdown":"Use focus and blur listeners to remove and add the shortcut key:\r\n\r\n\t\tf.addFocusListener(new FocusListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void focus(FocusEvent event) {\r\n\t\t\t\tb.setClickShortcut(KeyCode.ENTER);\r\n\t\t\t}\r\n\t\t});\r\n\t\tf.addBlurListener(new BlurListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void blur(BlurEvent event) {\r\n\t\t\t\tb.removeClickShortcut();\r\n\t\t\t}\r\n\t\t});","title":"Both ENTER shortcut and TextArea in Vaadin","body":"<p>Use focus and blur listeners to remove and add the shortcut key:</p>\n\n<pre><code>    f.addFocusListener(new FocusListener() {\n        @Override\n        public void focus(FocusEvent event) {\n            b.setClickShortcut(KeyCode.ENTER);\n        }\n    });\n    f.addBlurListener(new BlurListener() {\n        @Override\n        public void blur(BlurEvent event) {\n            b.removeClickShortcut();\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2860283,"reputation":542,"user_id":2455698,"display_name":"Mirko Seifert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1391937645,"creation_date":1391937318,"answer_id":21657281,"question_id":10820117,"body_markdown":"Newer versions of Vaadin require the following code as addListener() is deprecated now.\r\n\r\n\t    f.addFocusListener(new FocusListener() {\r\n\t    \t\r\n\t\t\tprivate static final long serialVersionUID = -6733373447805994139L;\r\n\r\n\t\t\t@Override\r\n\t        public void focus(FocusEvent event) {\r\n\t            b.setClickShortcut(KeyCode.ENTER);\r\n\t        }\r\n\t    });\r\n\t    \r\n\t    f.addBlurListener(new BlurListener() {\r\n\t\t\t\r\n\t\t\tprivate static final long serialVersionUID = -3673311830300629513L;\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void blur(BlurEvent event) {\r\n\t\t\t\tb.removeClickShortcut();\r\n\t\t\t}\r\n\t\t});\r\n","title":"Both ENTER shortcut and TextArea in Vaadin","body":"<p>Newer versions of Vaadin require the following code as addListener() is deprecated now.</p>\n\n<pre><code>    f.addFocusListener(new FocusListener() {\n\n        private static final long serialVersionUID = -6733373447805994139L;\n\n        @Override\n        public void focus(FocusEvent event) {\n            b.setClickShortcut(KeyCode.ENTER);\n        }\n    });\n\n    f.addBlurListener(new BlurListener() {\n\n        private static final long serialVersionUID = -3673311830300629513L;\n\n        @Override\n        public void blur(BlurEvent event) {\n            b.removeClickShortcut();\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5188476,"reputation":1415,"user_id":4160538,"accept_rate":12,"display_name":"Vipul Jain"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1594107921,"creation_date":1594107921,"answer_id":62770391,"question_id":10820117,"body_markdown":"Talking in terms of Vaadin 14,\r\nI was looking for the answer and for me, this worked well\r\n\r\n      Button search = new Button(&quot;Search&quot;);\r\n      search.addClickShortcut(Key.ENTER);\r\n\r\n","title":"Both ENTER shortcut and TextArea in Vaadin","body":"<p>Talking in terms of Vaadin 14,\nI was looking for the answer and for me, this worked well</p>\n<pre><code>  Button search = new Button(&quot;Search&quot;);\n  search.addClickShortcut(Key.ENTER);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12328133,"reputation":4037,"user_id":8994998,"display_name":"Brett Sutton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650175072,"creation_date":1650175072,"answer_id":71899660,"question_id":10820117,"body_markdown":"As of Vaadin 23 (and probably for sometime before) the requirements have changed again.\r\n\r\n```java\r\n\r\nprivate ShortcutRegistration primaryShortCut;\r\n\r\nvoid customShortCutHandling()\r\n\t{\r\n\t\tmyTextAreaField.addFocusListener((e) -&gt;\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;disable&quot;);\r\n\t\t\t\tprimaryShortCut = primaryButton.addClickShortcut(Key.ENTER);\r\n\t\t\t});\r\n\r\n\t\tmyTextAreaField.addBlurListener((e) -&gt;\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;enable&quot;);\r\n\t\t\t\tprimaryShortCut.remove();\r\n\t\t\t});\r\n\t}\r\n}\r\n```\r\nThis code assumes that primaryShortCut was set when the form is created.","title":"Both ENTER shortcut and TextArea in Vaadin","body":"<p>As of Vaadin 23 (and probably for sometime before) the requirements have changed again.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nprivate ShortcutRegistration primaryShortCut;\n\nvoid customShortCutHandling()\n    {\n        myTextAreaField.addFocusListener((e) -&gt;\n            {\n                System.out.println(&quot;disable&quot;);\n                primaryShortCut = primaryButton.addClickShortcut(Key.ENTER);\n            });\n\n        myTextAreaField.addBlurListener((e) -&gt;\n            {\n                System.out.println(&quot;enable&quot;);\n                primaryShortCut.remove();\n            });\n    }\n}\n</code></pre>\n<p>This code assumes that primaryShortCut was set when the form is created.</p>\n"}],"owner":{"account_id":98569,"reputation":37354,"user_id":266720,"accept_rate":70,"display_name":"Vi."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3894,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":10822623,"answer_count":4,"score":5,"last_activity_date":1650175072,"creation_date":1338394347,"question_id":10820117,"body_markdown":"    TextField f = new TextField();\r\n    Button b = new Button(&quot;Save&quot;);\r\n    b.setClickShortcut(KeyCode.ENTER); // For quick saving from text field itself\r\n    \r\n    TextArea longText = new TextArea(); // &quot;Enter&quot; is garbled here\r\n\r\n\r\n\r\nHot to make the shortcut to work only in the from text field?","title":"Both ENTER shortcut and TextArea in Vaadin","body":"<pre><code>TextField f = new TextField();\nButton b = new Button(\"Save\");\nb.setClickShortcut(KeyCode.ENTER); // For quick saving from text field itself\n\nTextArea longText = new TextArea(); // \"Enter\" is garbled here\n</code></pre>\n\n<p>Hot to make the shortcut to work only in the from text field?</p>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650174698,"creation_date":1650174698,"answer_id":71899624,"question_id":71899161,"body_markdown":"Whichever locator strategy you are using, be it CSS, xPath, etc. You should always make sure that these locators are unique in HTML-DOM. \r\n\r\n**Steps to check if they are unique or not:**\r\n\r\n`Press F12 in Chrome` -&gt; go to `element` section -&gt; do a `CTRL  + F` -&gt; then paste the `xpath/css` and see, if your desired `element` is getting **highlighted** with `1/1` matching node.\r\n\r\nAlso alone `td` is not a valid `CSS`, replace it with `//td` and make a valid xpath. \r\n\r\n**Code:**\r\n\r\n\t\tList&lt;String&gt; list = new ArrayList&lt;String&gt;();  \r\n\t    for(WebElement element : driver.findElements(By.xpath(&quot;//td&quot;)))\r\n\t    {\r\n\t        if(element.findElements(By.xpath(&quot;.//img&quot;)).size() &gt; 0) \r\n\t        {\r\n\t            String tr = &quot;img&quot;;\r\n\t            list.add(tr);\r\n\t        }\r\n\t        else \r\n\t        {\r\n\t            list.add(element.getText());            \r\n\t        }\r\n\t    }\r\n","title":"How To find elements in html by condition using selenium in java?","body":"<p>Whichever locator strategy you are using, be it CSS, xPath, etc. You should always make sure that these locators are unique in HTML-DOM.</p>\n<p><strong>Steps to check if they are unique or not:</strong></p>\n<p><code>Press F12 in Chrome</code> -&gt; go to <code>element</code> section -&gt; do a <code>CTRL  + F</code> -&gt; then paste the <code>xpath/css</code> and see, if your desired <code>element</code> is getting <strong>highlighted</strong> with <code>1/1</code> matching node.</p>\n<p>Also alone <code>td</code> is not a valid <code>CSS</code>, replace it with <code>//td</code> and make a valid xpath.</p>\n<p><strong>Code:</strong></p>\n<pre><code>    List&lt;String&gt; list = new ArrayList&lt;String&gt;();  \n    for(WebElement element : driver.findElements(By.xpath(&quot;//td&quot;)))\n    {\n        if(element.findElements(By.xpath(&quot;.//img&quot;)).size() &gt; 0) \n        {\n            String tr = &quot;img&quot;;\n            list.add(tr);\n        }\n        else \n        {\n            list.add(element.getText());            \n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":12414668,"reputation":65,"user_id":9044933,"display_name":"J.K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71899624,"answer_count":1,"score":1,"last_activity_date":1650174698,"creation_date":1650167605,"question_id":71899161,"body_markdown":"I&#39;m try to find two type of elements : td , img \r\n&lt;br&gt;\r\nand i tried using Xpath and cssSelector\r\nas i want to find td , td/img  i use like this\r\n```\r\ndriver.findElements(By.cssSelector(&quot;td&quot;))\r\n```\r\nand try \r\n```\r\ndriver.findElements(By.xpath(&quot;//*[self::td|self::img]&quot;))\r\n```\r\nbut when using first one, i couldn&#39;t get img elements \r\n```\r\nList&lt;String&gt; list = new ArrayList&lt;String&gt;();  \r\n\tfor(WebElement element : driver.findElements(By.cssSelector(&quot;td&quot;)))\r\n\t{\r\n\t\tif(element.getText().equals(&quot;img&quot;) == true) \r\n\t\t{\r\n\t\t\tString tr = &quot;img&quot;;\r\n\t\t\tlist.add(tr);\r\n\t\t}\r\n        else \r\n\t\t{\r\n\t\t\tlist.add(element.getText());\t\t\t\r\n\t\t}\r\n    }\r\n\t\t\t\t\r\n```\r\nand second one is not working well.  &lt;br&gt;\r\n\r\nHTML code look like this.\r\n```\r\n&lt;div id=&quot;bodyContent&quot;&gt;\r\n &lt;form name =&quot;lessonForm&quot; method=&quot;post&quot;&gt;\r\n  &lt;div id=&quot;listBox&quot;&gt;\r\n   &lt;div class=&quot;listContent&quot;&gt;\r\n    &lt;dl class=&quot;element&quot;&gt;\r\n     &lt;dd&gt;\r\n      &lt;div class =&quot;cont&quot;&gt;\r\n      &lt;table class = &quot;board&quot;&gt;\r\n       &lt;thead&gt; ... &lt;/thead&gt;\r\n        &lt;tbody&gt;\r\n         &lt;tr class =&quot;odd-row&quot;&gt;\r\n            &lt;td class =&quot;first&quot;&gt;&lt;/td&gt;\r\n            &lt;td&gt; offline &lt;/td&gt;\r\n            &lt;td&gt;  2022-03-02 &lt;/td&gt;\r\n        &lt;/tbody&gt;\r\n       &lt;/table&gt;\r\n      &lt;/div&gt;\r\n      :: after \r\n     &lt;/dd&gt;\r\n    &lt;/dl&gt;\r\n   &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  \r\n&lt;div id=&quot;listBox&quot;&gt;\r\n   &lt;div class=&quot;listContent&quot;&gt;\r\n    &lt;dl class=&quot;element&quot;&gt;\r\n     &lt;dd&gt;\r\n      &lt;div class =&quot;cont&quot;&gt;\r\n      &lt;table class = &quot;board&quot;&gt;\r\n       &lt;thead&gt; ... &lt;/thead&gt;\r\n        &lt;tbody&gt;\r\n         &lt;tr class =&quot;odd-row&quot;&gt;\r\n            &lt;td class =&quot;first&quot;&gt;&lt;/td&gt;\r\n            &lt;td&gt; offline &lt;/td&gt;\r\n            &lt;td&gt;  2022-03-09 &lt;/td&gt;\r\n            &lt;td&gt;   \r\n                &lt;img src =&quot;on_full.gif&quot;&gt;  \r\n            &lt;/td&gt;\r\n              \r\n        &lt;/tbody&gt;\r\n       &lt;/table&gt;\r\n      &lt;/div&gt;\r\n      :: after \r\n     &lt;/dd&gt;\r\n    &lt;/dl&gt;\r\n   &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  \r\n \r\n```\r\nhow can i add that img and td elements in List ?\r\nIt&#39;s just whether it&#39;s an img or not &lt;br&gt;\r\nI wish I could bring a letter. to know what is this img.\r\n\r\nI&#39;m waiting for your help. Thank u for read this. ","title":"How To find elements in html by condition using selenium in java?","body":"<p>I'm try to find two type of elements : td , img\n<br>\nand i tried using Xpath and cssSelector\nas i want to find td , td/img  i use like this</p>\n<pre><code>driver.findElements(By.cssSelector(&quot;td&quot;))\n</code></pre>\n<p>and try</p>\n<pre><code>driver.findElements(By.xpath(&quot;//*[self::td|self::img]&quot;))\n</code></pre>\n<p>but when using first one, i couldn't get img elements</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();  \n    for(WebElement element : driver.findElements(By.cssSelector(&quot;td&quot;)))\n    {\n        if(element.getText().equals(&quot;img&quot;) == true) \n        {\n            String tr = &quot;img&quot;;\n            list.add(tr);\n        }\n        else \n        {\n            list.add(element.getText());            \n        }\n    }\n                \n</code></pre>\n<p>and second one is not working well.  <br></p>\n<p>HTML code look like this.</p>\n<pre><code>&lt;div id=&quot;bodyContent&quot;&gt;\n &lt;form name =&quot;lessonForm&quot; method=&quot;post&quot;&gt;\n  &lt;div id=&quot;listBox&quot;&gt;\n   &lt;div class=&quot;listContent&quot;&gt;\n    &lt;dl class=&quot;element&quot;&gt;\n     &lt;dd&gt;\n      &lt;div class =&quot;cont&quot;&gt;\n      &lt;table class = &quot;board&quot;&gt;\n       &lt;thead&gt; ... &lt;/thead&gt;\n        &lt;tbody&gt;\n         &lt;tr class =&quot;odd-row&quot;&gt;\n            &lt;td class =&quot;first&quot;&gt;&lt;/td&gt;\n            &lt;td&gt; offline &lt;/td&gt;\n            &lt;td&gt;  2022-03-02 &lt;/td&gt;\n        &lt;/tbody&gt;\n       &lt;/table&gt;\n      &lt;/div&gt;\n      :: after \n     &lt;/dd&gt;\n    &lt;/dl&gt;\n   &lt;/div&gt;\n  &lt;/div&gt;\n  \n&lt;div id=&quot;listBox&quot;&gt;\n   &lt;div class=&quot;listContent&quot;&gt;\n    &lt;dl class=&quot;element&quot;&gt;\n     &lt;dd&gt;\n      &lt;div class =&quot;cont&quot;&gt;\n      &lt;table class = &quot;board&quot;&gt;\n       &lt;thead&gt; ... &lt;/thead&gt;\n        &lt;tbody&gt;\n         &lt;tr class =&quot;odd-row&quot;&gt;\n            &lt;td class =&quot;first&quot;&gt;&lt;/td&gt;\n            &lt;td&gt; offline &lt;/td&gt;\n            &lt;td&gt;  2022-03-09 &lt;/td&gt;\n            &lt;td&gt;   \n                &lt;img src =&quot;on_full.gif&quot;&gt;  \n            &lt;/td&gt;\n              \n        &lt;/tbody&gt;\n       &lt;/table&gt;\n      &lt;/div&gt;\n      :: after \n     &lt;/dd&gt;\n    &lt;/dl&gt;\n   &lt;/div&gt;\n  &lt;/div&gt;\n  \n \n</code></pre>\n<p>how can i add that img and td elements in List ?\nIt's just whether it's an img or not <br>\nI wish I could bring a letter. to know what is this img.</p>\n<p>I'm waiting for your help. Thank u for read this.</p>\n"},{"tags":["javascript","java","loops","for-loop"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1650173966,"post_id":71899526,"comment_id":127051902,"body_markdown":"so you used **odd** in title and partially **even** in text... strange since this week we got a lot of questions about summing even numbers in range (trying to avoid it being somehow recognized?)","body":"so you used <b>odd</b> in title and partially <b>even</b> in text... strange since this week we got a lot of questions about summing even numbers in range (trying to avoid it being somehow recognized?)"}],"owner":{"account_id":24741534,"reputation":11,"user_id":18628219,"display_name":"Rohan Mourya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1650173809,"answer_count":0,"score":1,"last_activity_date":1650173341,"creation_date":1650173341,"question_id":71899526,"body_markdown":"You are given a number stored in a variable with the name N\r\n\r\nYou have to print N  lines such that on each line you find the sum of all odd numbers in the range of[1,i], where i represents all the numbers in the range of[1,N]\r\n\r\nFor example, consider the value stored inN = 3\r\n\r\nThen, first we find the sum of all even numbers, in the range of [1,1], which comes out to be 1, as there is one odd number (1) in the range\r\n\r\nThen, we find the sum of all even numbers, in the range of [1,2], which comes out to be 1, as there is only 1 odd number (1). Hence, the sum becomes 1\r\n\r\nFinally, we find the sum of all even numbers in the range of [1,3], which comes out to be 4, as there are two odd numbers (1,3) in the given range. Hence, the sum becomes 4\r\n\r\n","title":"Find sum of all odd number in given range","body":"<p>You are given a number stored in a variable with the name N</p>\n<p>You have to print N  lines such that on each line you find the sum of all odd numbers in the range of[1,i], where i represents all the numbers in the range of[1,N]</p>\n<p>For example, consider the value stored inN = 3</p>\n<p>Then, first we find the sum of all even numbers, in the range of [1,1], which comes out to be 1, as there is one odd number (1) in the range</p>\n<p>Then, we find the sum of all even numbers, in the range of [1,2], which comes out to be 1, as there is only 1 odd number (1). Hence, the sum becomes 1</p>\n<p>Finally, we find the sum of all even numbers in the range of [1,3], which comes out to be 4, as there are two odd numbers (1,3) in the given range. Hence, the sum becomes 4</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":5,"creation_date":1650172955,"post_id":71899475,"comment_id":127051745,"body_markdown":"Don’t do any of this. Introduce an `interface` or `abstract class`.","body":"Don’t do any of this. Introduce an <code>interface</code> or <code>abstract class</code>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1650175068,"post_id":71899475,"comment_id":127052057,"body_markdown":"1) I would make all these classes extend a common class (same fields? - otherwise an interface); 2) instead of `MyA a = createAndSet(MyA.class);`, why not `MyA a = createAndSet(new MyA());` (if not passing the values in the constructor itself) - without knowing the use case, just based on some very abstract information, we cannot expect the best answer","body":"1) I would make all these classes extend a common class (same fields? - otherwise an interface); 2) instead of <code>MyA a = createAndSet(MyA.class);</code>, why not <code>MyA a = createAndSet(new MyA());</code> (if not passing the values in the constructor itself) - without knowing the use case, just based on some very abstract information, we cannot expect the best answer"}],"owner":{"account_id":6817728,"reputation":141,"user_id":5245796,"display_name":"user5245796"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650172794,"creation_date":1650172794,"question_id":71899475,"body_markdown":"Let&#39;s say I have three classes as shown below,\r\n```\r\npublic class MyA {\r\n    String code;\r\n    String message;\r\n    // and others\r\n}\r\n \r\npublic class MyB {\r\n    String code;\r\n    String message;\r\n    // and others\r\n}\r\n \r\npublic class MyC {\r\n    String code;\r\n    String message;\r\n    // and others\r\n}\r\n```\r\nSomewhere in my code, I need to do the following:\r\n```\r\nMyA a = new MyA();\r\na.setCode(&quot;some code&quot;);\r\na.setMessage(&quot;some message&quot;);\r\n \r\nMyA b = new MyB();\r\nb.setCode(&quot;some code&quot;);\r\nb.setMessage(&quot;some message&quot;);\r\n \r\nMyA c = new MyC();\r\nc.setCode(&quot;some code&quot;);\r\nc.setMessage(&quot;some message&quot;);\r\n```\r\nThere is a lot of duplicate code. I&#39;m thinking of creating a method to take care of instantiating the class and setting the properties for me. So that I only need to do this,\r\n```\r\nMyA a = createAndSet(MyA.class);\r\nMyA b = createAndSet(MyB.class);\r\nMyA c = createAndSet(MyC.class);\r\n```\r\nThe method would be something like this.\r\n```\r\nprivate &lt;T&gt; T createAndSet(Class&lt;T&gt; cls) {\r\n    T t = null;\r\n    try {\r\n        t = cls.getDeclaredConstructor().newInstance();\r\n    } catch (InstantiationException | InvocationTargetException | NoSuchMethodException ex)\r\n        ex.printStackTrace();\r\n    }\r\n   \r\n    t.setCode(&quot;some code&quot;);         // error\r\n    t.setMessage(&quot;some message&quot;);   // error\r\n   \r\n    return t;\r\n}\r\n```\r\nUnfortunately, the method doesn&#39;t work. Could anyone tell me the best way to handle a duplicate code situation like this?\r\n \r\nThank you in advance.","title":"How to set concrete class properties in a generic method with parameter Class&lt;T&gt;?","body":"<p>Let's say I have three classes as shown below,</p>\n<pre><code>public class MyA {\n    String code;\n    String message;\n    // and others\n}\n \npublic class MyB {\n    String code;\n    String message;\n    // and others\n}\n \npublic class MyC {\n    String code;\n    String message;\n    // and others\n}\n</code></pre>\n<p>Somewhere in my code, I need to do the following:</p>\n<pre><code>MyA a = new MyA();\na.setCode(&quot;some code&quot;);\na.setMessage(&quot;some message&quot;);\n \nMyA b = new MyB();\nb.setCode(&quot;some code&quot;);\nb.setMessage(&quot;some message&quot;);\n \nMyA c = new MyC();\nc.setCode(&quot;some code&quot;);\nc.setMessage(&quot;some message&quot;);\n</code></pre>\n<p>There is a lot of duplicate code. I'm thinking of creating a method to take care of instantiating the class and setting the properties for me. So that I only need to do this,</p>\n<pre><code>MyA a = createAndSet(MyA.class);\nMyA b = createAndSet(MyB.class);\nMyA c = createAndSet(MyC.class);\n</code></pre>\n<p>The method would be something like this.</p>\n<pre><code>private &lt;T&gt; T createAndSet(Class&lt;T&gt; cls) {\n    T t = null;\n    try {\n        t = cls.getDeclaredConstructor().newInstance();\n    } catch (InstantiationException | InvocationTargetException | NoSuchMethodException ex)\n        ex.printStackTrace();\n    }\n   \n    t.setCode(&quot;some code&quot;);         // error\n    t.setMessage(&quot;some message&quot;);   // error\n   \n    return t;\n}\n</code></pre>\n<p>Unfortunately, the method doesn't work. Could anyone tell me the best way to handle a duplicate code situation like this?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","annotations","aspectj"],"comments":[{"owner":{"account_id":53291,"reputation":1729,"user_id":159326,"accept_rate":87,"display_name":"aepurniet"},"score":0,"creation_date":1385002631,"post_id":20108298,"comment_id":29968516,"body_markdown":"this is a classpath problem. where is the compiled TestClass.class? most likely you are missing a stage where you need to call javac, to compile the class files, and ajc to compile the aspects.","body":"this is a classpath problem. where is the compiled TestClass.class? most likely you are missing a stage where you need to call javac, to compile the class files, and ajc to compile the aspects."},{"owner":{"account_id":99477,"reputation":2851,"user_id":268668,"accept_rate":79,"display_name":"Darek"},"score":0,"creation_date":1385016797,"post_id":20108298,"comment_id":29973066,"body_markdown":"TestClass.class is in the working directory, where I run java command. Aspects are compiled into jar file. I do not need to call ajc because I use annotated AspectJ","body":"TestClass.class is in the working directory, where I run java command. Aspects are compiled into jar file. I do not need to call ajc because I use annotated AspectJ"},{"owner":{"account_id":53291,"reputation":1729,"user_id":159326,"accept_rate":87,"display_name":"aepurniet"},"score":0,"creation_date":1385064357,"post_id":20108298,"comment_id":30001038,"body_markdown":"just add a &quot;aspects.jar;/home/tdi/dev/test/aspectjrt.jar;.&quot; - edit (windows path separator)","body":"just add a &quot;aspects.jar;/home/tdi/dev/test/aspectjrt.jar;.&quot; - edit (windows path separator)"},{"owner":{"account_id":99477,"reputation":2851,"user_id":268668,"accept_rate":79,"display_name":"Darek"},"score":0,"creation_date":1385112070,"post_id":20108298,"comment_id":30017790,"body_markdown":"@aepurniet adding &#39;.&#39; does not change anything.","body":"@aepurniet adding &#39;.&#39; does not change anything."},{"owner":{"account_id":53291,"reputation":1729,"user_id":159326,"accept_rate":87,"display_name":"aepurniet"},"score":0,"creation_date":1385331501,"post_id":20108298,"comment_id":30087544,"body_markdown":"well im stumped. does &#39;java TestClass&#39; find the class? if you cant then its a classpath problem. if you can then its something with the weaver agent.","body":"well im stumped. does &#39;java TestClass&#39; find the class? if you cant then its a classpath problem. if you can then its something with the weaver agent."},{"owner":{"account_id":99477,"reputation":2851,"user_id":268668,"accept_rate":79,"display_name":"Darek"},"score":0,"creation_date":1385366866,"post_id":20108298,"comment_id":30097029,"body_markdown":"@aepurniet when I run without agents, the class works well. when I add -classpath modifier then it does not find TestClass.class","body":"@aepurniet when I run without agents, the class works well. when I add -classpath modifier then it does not find TestClass.class"}],"answers":[{"tags":[],"owner":{"account_id":2163050,"reputation":953,"user_id":1916781,"accept_rate":60,"display_name":"Thorben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389349332,"creation_date":1389349332,"answer_id":21041737,"question_id":20108298,"body_markdown":"Maybe it could be a problem that TestClass is not in the JAR-file together with the aspects. You could try to put a folder `META-INF` with your `aop-ajc.xml` into the working directory with TestClass.class.\r\n\r\nAnother option would be to compare your run command with that of eclipse. You can do this be running the project in Debug mode, then right click on the process and open its Properties. Then you can see how eclipse is running the project on the command line.","title":"Command line load-time weaving","body":"<p>Maybe it could be a problem that TestClass is not in the JAR-file together with the aspects. You could try to put a folder <code>META-INF</code> with your <code>aop-ajc.xml</code> into the working directory with TestClass.class.</p>\n\n<p>Another option would be to compare your run command with that of eclipse. You can do this be running the project in Debug mode, then right click on the process and open its Properties. Then you can see how eclipse is running the project on the command line.</p>\n"},{"tags":[],"owner":{"account_id":24429399,"reputation":41,"user_id":18354539,"display_name":"LizzyMM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650172180,"creation_date":1650172180,"answer_id":71899425,"question_id":20108298,"body_markdown":"I ran into same issue, then I run below command follow the steps in this url [flylib.com][1] , then it worked\r\n\r\n    java -javaagent:&quot;/Users/XXX/test/aspectj/lib/aspectjweaver-1.9.6.jar&quot; -classpath .:lib/aspectjrt-1.8.13.jar com.XXX.aops.AOP5.HelloWorld\r\n\r\n\r\n  [1]: https://flylib.com/books/en/2.927.1.32/1/","title":"Command line load-time weaving","body":"<p>I ran into same issue, then I run below command follow the steps in this url <a href=\"https://flylib.com/books/en/2.927.1.32/1/\" rel=\"nofollow noreferrer\">flylib.com</a> , then it worked</p>\n<pre><code>java -javaagent:&quot;/Users/XXX/test/aspectj/lib/aspectjweaver-1.9.6.jar&quot; -classpath .:lib/aspectjrt-1.8.13.jar com.XXX.aops.AOP5.HelloWorld\n</code></pre>\n"}],"owner":{"account_id":99477,"reputation":2851,"user_id":268668,"accept_rate":79,"display_name":"Darek"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1257,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1650172180,"creation_date":1384986069,"question_id":20108298,"body_markdown":"So I am starting with AspectJ and have a problem. The following example works perfectly in Eclipse but when I try to run it in bash - it does not work. \r\n\r\nThis is my code I will monitor:\r\n\r\n    public class TestClass {\r\n      public static void method1() {\r\n        System.out.println(&quot;Hello World!&quot;);\r\n      }\r\n        \r\n      public static void main(String[] args) {\r\n        method1();\r\n      }\r\n    }\r\n\r\nThis is my Aspect class:\r\n\r\n    import org.aspectj.lang.annotation.After;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    import org.aspectj.lang.annotation.Pointcut;\r\n    \r\n        @Aspect\r\n        public class LogMe {\r\n        \t@Pointcut(&quot;call(public* TestClass.*())&quot;)\r\n        \tpublic void metCall() {}\r\n        \t\r\n        \t@After(&quot;metCall()&quot;)\r\n        \tpublic void aftercallAdvice() {\r\n        \t\tSystem.out.println(&quot;Blah&quot;);\r\n        \t}\r\n        }\r\n\r\nWhat I do is create jar called &#39;apsects.jar&#39; with `META-INF/aop-ajc.xml` with\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;aspectj&gt;\r\n            &lt;aspects&gt;\r\n                    &lt;aspect name=&quot;LogMe&quot;/&gt;\r\n            &lt;/aspects&gt;\r\n            &lt;weaver options=&quot;-showWeaveInfo&quot;/&gt;\r\n    &lt;/aspectj&gt;\r\n\r\nI try to run it like that:\r\n\r\n`java -javaagent:/home/tdi/dev/test/aspectjweaver.jar -classpath &quot;aspects.jar;/home/tdi/dev/test/aspectjrt.jar&quot; TestClass`\r\n\r\nWhat I get is:\r\n\r\n`Error: Could not find or load main class TestClass`\r\n\r\nHow can I run this application with LTW aspects ? \r\n","title":"Command line load-time weaving","body":"<p>So I am starting with AspectJ and have a problem. The following example works perfectly in Eclipse but when I try to run it in bash - it does not work. </p>\n\n<p>This is my code I will monitor:</p>\n\n<pre><code>public class TestClass {\n  public static void method1() {\n    System.out.println(\"Hello World!\");\n  }\n\n  public static void main(String[] args) {\n    method1();\n  }\n}\n</code></pre>\n\n<p>This is my Aspect class:</p>\n\n<pre><code>import org.aspectj.lang.annotation.After;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Pointcut;\n\n    @Aspect\n    public class LogMe {\n        @Pointcut(\"call(public* TestClass.*())\")\n        public void metCall() {}\n\n        @After(\"metCall()\")\n        public void aftercallAdvice() {\n            System.out.println(\"Blah\");\n        }\n    }\n</code></pre>\n\n<p>What I do is create jar called 'apsects.jar' with <code>META-INF/aop-ajc.xml</code> with</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;aspectj&gt;\n        &lt;aspects&gt;\n                &lt;aspect name=\"LogMe\"/&gt;\n        &lt;/aspects&gt;\n        &lt;weaver options=\"-showWeaveInfo\"/&gt;\n&lt;/aspectj&gt;\n</code></pre>\n\n<p>I try to run it like that:</p>\n\n<p><code>java -javaagent:/home/tdi/dev/test/aspectjweaver.jar -classpath \"aspects.jar;/home/tdi/dev/test/aspectjrt.jar\" TestClass</code></p>\n\n<p>What I get is:</p>\n\n<p><code>Error: Could not find or load main class TestClass</code></p>\n\n<p>How can I run this application with LTW aspects ? </p>\n"},{"tags":["java","arrays","object","oop"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1633102374,"post_id":69408485,"comment_id":122679247,"body_markdown":"All arrays are instances of `Object`. Any kind of object can be assigned to an `Object` reference.","body":"All arrays are instances of <code>Object</code>. Any kind of object can be assigned to an <code>Object</code> reference."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1633102507,"post_id":69408485,"comment_id":122679288,"body_markdown":"&quot;int is clearly a primitive variable&quot; yes, but this isn&#39;t an `int`, it&#39;s an `int[][]`, which is a reference type. But you can write `Object obj = 0;` anyway, because of autoboxing.","body":"&quot;int is clearly a primitive variable&quot; yes, but this isn&#39;t an <code>int</code>, it&#39;s an <code>int[][]</code>, which is a reference type. But you can write <code>Object obj = 0;</code> anyway, because of autoboxing."},{"owner":{"account_id":14770323,"reputation":610,"user_id":10666991,"display_name":"Ofir"},"score":0,"creation_date":1633102530,"post_id":69408485,"comment_id":122679294,"body_markdown":"Similar to question: https://stackoverflow.com/questions/2267790/how-are-arrays-implemented-in-java","body":"Similar to question: <a href=\"https://stackoverflow.com/questions/2267790/how-are-arrays-implemented-in-java\" title=\"how are arrays implemented in java\">stackoverflow.com/questions/2267790/&hellip;</a>"},{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":1,"creation_date":1633102531,"post_id":69408485,"comment_id":122679295,"body_markdown":"Think of it in a way - anything that needs `new` for creating an instance is an `Object`","body":"Think of it in a way - anything that needs <code>new</code> for creating an instance is an <code>Object</code>"},{"owner":{"account_id":16690500,"reputation":139,"user_id":12063243,"display_name":"abc123"},"score":1,"creation_date":1633107593,"post_id":69408485,"comment_id":122681160,"body_markdown":"Understood, when ever new is Used that means I am working on an Object and &quot;int[][], which is a reference type.&quot; thanks guys! I had mentioned to mention the reason for downvoting if some body plans on doing that but still somebody down voted without mentioning any reason. Anyways thanks @AndyTurner and Vasily","body":"Understood, when ever new is Used that means I am working on an Object and &quot;int[][], which is a reference type.&quot; thanks guys! I had mentioned to mention the reason for downvoting if some body plans on doing that but still somebody down voted without mentioning any reason. Anyways thanks @AndyTurner and Vasily"}],"answers":[{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633117078,"creation_date":1633117078,"answer_id":69411203,"question_id":69408485,"body_markdown":"&gt;  Isnt the reference variable &quot;games&quot; incompatible to be assigned to an Object reference because of 2 reasons- 1)&quot;games&quot; is the reference to a double dimensional int array, whereas &quot;obj&quot; is the reference to an Object. 2)int is clearly a primitive variable\r\n\r\nYou are correct that `int` is a primitive type. However, the type of `games` in your example is `int[][]`, not `int`, and is a subclass of `Object`.","title":"How can an object reference in java hold the reference to a primitive double dimensional int array","body":"<blockquote>\n<p>Isnt the reference variable &quot;games&quot; incompatible to be assigned to an Object reference because of 2 reasons- 1)&quot;games&quot; is the reference to a double dimensional int array, whereas &quot;obj&quot; is the reference to an Object. 2)int is clearly a primitive variable</p>\n</blockquote>\n<p>You are correct that <code>int</code> is a primitive type. However, the type of <code>games</code> in your example is <code>int[][]</code>, not <code>int</code>, and is a subclass of <code>Object</code>.</p>\n"},{"tags":[],"owner":{"account_id":17704436,"reputation":1,"user_id":12853398,"display_name":"ThierryKas"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650166988,"creation_date":1650166337,"answer_id":71899088,"question_id":69408485,"body_markdown":"if your code were\r\n\r\n    int [] games= new int[3]; \r\n    Object obj =games; // will fail to compile, \r\n\r\nbut declare `game` as `int [][] games` can be assigned to `obj`.","title":"How can an object reference in java hold the reference to a primitive double dimensional int array","body":"<p>if your code were</p>\n<pre><code>int [] games= new int[3]; \nObject obj =games; // will fail to compile, \n</code></pre>\n<p>but declare <code>game</code> as <code>int [][] games</code> can be assigned to <code>obj</code>.</p>\n"}],"owner":{"account_id":16690500,"reputation":139,"user_id":12063243,"display_name":"abc123"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1650171134,"answer_count":2,"score":-3,"last_activity_date":1650171596,"creation_date":1633102346,"question_id":69408485,"body_markdown":"I have a piece of code-\r\n```\r\npublic class Sudoku {\r\n    static int[][] game;\r\n\r\n    public static void main(String[] args) {\r\n        int [][] games= new int[3][3];\r\n        Object obj =games;\r\n    }\r\n\r\n}\r\n```\r\nMy question here is how can the &quot;games&quot; reference variable be assigned to the reference variable of type &quot;Object&quot;? I thought the &quot;**ClassCastException**&quot; would be thrown at runtime. But the code compiles and runs fine.\r\nIsnt the reference variable &quot;games&quot; incompatible to be assigned to an Object reference because of 2 reasons-\r\n1)&quot;games&quot; is the reference to a double dimensional int array, whereas &quot;obj&quot; is the reference to an Object.\r\n2)int is clearly a primitive variable..how can it be assigned to a variable of type object?\r\nI am running this in the Intellij IDE.\r\n","title":"How can an object reference in java hold the reference to a primitive double dimensional int array","body":"<p>I have a piece of code-</p>\n<pre><code>public class Sudoku {\n    static int[][] game;\n\n    public static void main(String[] args) {\n        int [][] games= new int[3][3];\n        Object obj =games;\n    }\n\n}\n</code></pre>\n<p>My question here is how can the &quot;games&quot; reference variable be assigned to the reference variable of type &quot;Object&quot;? I thought the &quot;<strong>ClassCastException</strong>&quot; would be thrown at runtime. But the code compiles and runs fine.\nIsnt the reference variable &quot;games&quot; incompatible to be assigned to an Object reference because of 2 reasons-\n1)&quot;games&quot; is the reference to a double dimensional int array, whereas &quot;obj&quot; is the reference to an Object.\n2)int is clearly a primitive variable..how can it be assigned to a variable of type object?\nI am running this in the Intellij IDE.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":1,"creation_date":1650166780,"post_id":71899058,"comment_id":127051162,"body_markdown":"You are never assigning to the member ```title```, instead you made a local variable with that same name.  You made that mistake throughout your code with many fields.","body":"You are never assigning to the member <code>title</code>, instead you made a local variable with that same name.  You made that mistake throughout your code with many fields."}],"answers":[{"tags":[],"owner":{"account_id":21769217,"reputation":130,"user_id":16072563,"display_name":"Equinox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650166994,"creation_date":1650166994,"answer_id":71899123,"question_id":71899058,"body_markdown":"so your mistake is that you never define title in your GUI class. I think you intended to with this line:\r\n```java\r\nJLabel title = new JLabel(&quot;Dynamic Memory Allocation Simulator&quot;);\r\n```\r\nThis actually creates a new local variable called title instead of defining the global one. So the global variable is still null. To fix this simply change that to like to this:\r\n```java\r\nthis.title = new JLabel(&quot;Dynamic Memory Allocation Simulator&quot;);\r\n```\r\nNow it will define the global variable! This shouldn&#39;t give a null pointer exception now.","title":"How to add to a JPanel from another class","body":"<p>so your mistake is that you never define title in your GUI class. I think you intended to with this line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JLabel title = new JLabel(&quot;Dynamic Memory Allocation Simulator&quot;);\n</code></pre>\n<p>This actually creates a new local variable called title instead of defining the global one. So the global variable is still null. To fix this simply change that to like to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.title = new JLabel(&quot;Dynamic Memory Allocation Simulator&quot;);\n</code></pre>\n<p>Now it will define the global variable! This shouldn't give a null pointer exception now.</p>\n"}],"owner":{"account_id":15580567,"reputation":45,"user_id":11283569,"display_name":"Ummayair Ahmad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71899123,"answer_count":1,"score":1,"last_activity_date":1650166994,"creation_date":1650165798,"question_id":71899058,"body_markdown":"I&#39;ve been spending the past few hours trying to figure out how to use a panel in my `GUI` class from a class named `algorithms`. I know this question has been asked before, But I cant seem to figure out how to incorporate it into my code, so I would appreciate any form of guidance. \r\n\r\nSpecifically, in my algorithms class I was testing trying to change the JLabel named title by creating a instance of my GUI class and then trying to use `title.setText()`, however it returns a Null Pointer Exception.\r\n\r\nThe `title` JLabel is located on my JPanel named `topPanel`\r\n\r\nI know I&#39;m not doing something right, I&#39;ve struggled with this for the past few hours and cant seem to make any progress. Like I said, any guidance would be appreciated. \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n`GUI.java`\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.util.Date;\r\n\r\npublic class GUI extends JFrame {\r\n    public JFrame myFrame;\r\n    public JPanel firstFitDisplay,topPanel;\r\n    public JLabel title;\r\n    public Timer timer;\r\n    public int count=0;\r\n\r\n\r\n    public GUI(){\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    public void initGUI(){\r\n\r\n\r\n        JFrame myFrame = new JFrame();\r\n        myFrame.setTitle(&quot;CIS 452 Dynamic Memory Allocation Project&quot;);\r\n        myFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        myFrame.setResizable(true);\r\n        myFrame.setLayout(new BorderLayout(6,6));\r\n        myFrame.setSize(1000,700);\r\n        myFrame.setVisible(true);\r\n        //myFrame.getContentPane().setBackground(Color.white);\r\n\r\n        //setup panels\r\n        JPanel infoPanel = new JPanel();\r\n        JPanel centerPanel = new JPanel();\r\n        JPanel topPanel = new JPanel();\r\n        JPanel bottom = new JPanel();\r\n        infoPanel.setBackground(Color.cyan);\r\n        centerPanel.setBackground(Color.red);\r\n        topPanel.setBackground(Color.yellow);\r\n        bottom.setBackground(Color.pink);\r\n        infoPanel.setPreferredSize(new Dimension(200,1000));\r\n        centerPanel.setPreferredSize(new Dimension(500,500));\r\n        topPanel.setPreferredSize(new Dimension(750,20));\r\n        bottom.setPreferredSize(new Dimension(750,25));\r\n\r\n\r\n\r\n        //setup layout for panels, so that we can add subpanels\r\n        infoPanel.setLayout(new BoxLayout(infoPanel,BoxLayout.PAGE_AXIS));\r\n\r\n        //add panels to main frame\r\n        myFrame.add(infoPanel,BorderLayout.WEST);\r\n        myFrame.add(centerPanel,BorderLayout.CENTER);\r\n        myFrame.add(topPanel,BorderLayout.NORTH);\r\n        myFrame.add(bottom,BorderLayout.SOUTH);\r\n\r\n\r\n        // setup sub panels for infoPanel\r\n        JPanel infoSubPanel = new JPanel();\r\n        infoSubPanel.setBackground(Color.pink);\r\n        infoSubPanel.setPreferredSize(new Dimension(50,90));\r\n        infoPanel.add(infoSubPanel);\r\n        //setting up text for infoSubPanel\r\n        JLabel subPanelTitle = new JLabel(&quot;Next Process Size to be allocated&quot;);\r\n        JLabel firstFitNextUpLabel = new JLabel(&quot;First:0&quot;);\r\n        JLabel bestFitNextUpLabel = new JLabel(&quot;Best:0&quot;);\r\n        JLabel worstFitNextUpLabel = new JLabel(&quot;Worst:0&quot;);\r\n        infoSubPanel.add(subPanelTitle);\r\n        infoSubPanel.add(firstFitNextUpLabel);\r\n        infoSubPanel.add(bestFitNextUpLabel);\r\n        infoSubPanel.add(worstFitNextUpLabel);\r\n        //subClockPanel\r\n        JPanel infoSubClockPanel = new JPanel();\r\n        infoSubClockPanel.setBackground(Color.GRAY);\r\n        infoSubClockPanel.setPreferredSize(new Dimension(50,90));\r\n        infoPanel.add(infoSubClockPanel);\r\n\r\n        //setting up text for sub clock panel\r\n        JLabel clockText = new JLabel(&quot;Seconds passed: &quot;);\r\n        int ten = 10;\r\n        JLabel clockCounter = new JLabel(&quot;0&quot;);\r\n        infoSubClockPanel.add(clockText);\r\n        infoSubClockPanel.add(clockCounter);\r\n\r\n\r\n        //logic for running timer;\r\n        timer = new Timer(1000, e -&gt; {\r\n            clockCounter.setText(String.valueOf(count++));\r\n        });\r\n        timer.start();\r\n\r\n        //setting up sub panels for the main center panel\r\n        centerPanel.setLayout(new FlowLayout());\r\n        JPanel firstFitDisplay = new JPanel();\r\n        JPanel bestFitDisplay = new JPanel();\r\n        JPanel worstFitDisplay = new JPanel();\r\n        firstFitDisplay.setPreferredSize(new Dimension(200,500));\r\n        bestFitDisplay.setPreferredSize(new Dimension(200,500));\r\n        worstFitDisplay.setPreferredSize(new Dimension(200,500));\r\n        centerPanel.add(firstFitDisplay);\r\n        centerPanel.add(bestFitDisplay);\r\n        centerPanel.add(worstFitDisplay);\r\n        //center components\r\n        centerPanel.setAlignmentX(Component.CENTER_ALIGNMENT);\r\n        firstFitDisplay.setAlignmentX(Component.CENTER_ALIGNMENT);\r\n\r\n\r\n        //setup title\r\n        JLabel title = new JLabel(&quot;Dynamic Memory Allocation Simulator&quot;);\r\n        topPanel.add(title);\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nand here is `algorithms.java`\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class algorithms {\r\n\r\n    public static void main(String[] args) {\r\n        GUI f = new GUI();\r\n        f.initGUI();\r\n        f.title.setText(&quot;HHHHHHHHHHH&quot;);\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n```","title":"How to add to a JPanel from another class","body":"<p>I've been spending the past few hours trying to figure out how to use a panel in my <code>GUI</code> class from a class named <code>algorithms</code>. I know this question has been asked before, But I cant seem to figure out how to incorporate it into my code, so I would appreciate any form of guidance.</p>\n<p>Specifically, in my algorithms class I was testing trying to change the JLabel named title by creating a instance of my GUI class and then trying to use <code>title.setText()</code>, however it returns a Null Pointer Exception.</p>\n<p>The <code>title</code> JLabel is located on my JPanel named <code>topPanel</code></p>\n<p>I know I'm not doing something right, I've struggled with this for the past few hours and cant seem to make any progress. Like I said, any guidance would be appreciated.</p>\n<p><code>GUI.java</code></p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.util.Date;\n\npublic class GUI extends JFrame {\n    public JFrame myFrame;\n    public JPanel firstFitDisplay,topPanel;\n    public JLabel title;\n    public Timer timer;\n    public int count=0;\n\n\n    public GUI(){\n\n\n\n    }\n\n\n    public void initGUI(){\n\n\n        JFrame myFrame = new JFrame();\n        myFrame.setTitle(&quot;CIS 452 Dynamic Memory Allocation Project&quot;);\n        myFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        myFrame.setResizable(true);\n        myFrame.setLayout(new BorderLayout(6,6));\n        myFrame.setSize(1000,700);\n        myFrame.setVisible(true);\n        //myFrame.getContentPane().setBackground(Color.white);\n\n        //setup panels\n        JPanel infoPanel = new JPanel();\n        JPanel centerPanel = new JPanel();\n        JPanel topPanel = new JPanel();\n        JPanel bottom = new JPanel();\n        infoPanel.setBackground(Color.cyan);\n        centerPanel.setBackground(Color.red);\n        topPanel.setBackground(Color.yellow);\n        bottom.setBackground(Color.pink);\n        infoPanel.setPreferredSize(new Dimension(200,1000));\n        centerPanel.setPreferredSize(new Dimension(500,500));\n        topPanel.setPreferredSize(new Dimension(750,20));\n        bottom.setPreferredSize(new Dimension(750,25));\n\n\n\n        //setup layout for panels, so that we can add subpanels\n        infoPanel.setLayout(new BoxLayout(infoPanel,BoxLayout.PAGE_AXIS));\n\n        //add panels to main frame\n        myFrame.add(infoPanel,BorderLayout.WEST);\n        myFrame.add(centerPanel,BorderLayout.CENTER);\n        myFrame.add(topPanel,BorderLayout.NORTH);\n        myFrame.add(bottom,BorderLayout.SOUTH);\n\n\n        // setup sub panels for infoPanel\n        JPanel infoSubPanel = new JPanel();\n        infoSubPanel.setBackground(Color.pink);\n        infoSubPanel.setPreferredSize(new Dimension(50,90));\n        infoPanel.add(infoSubPanel);\n        //setting up text for infoSubPanel\n        JLabel subPanelTitle = new JLabel(&quot;Next Process Size to be allocated&quot;);\n        JLabel firstFitNextUpLabel = new JLabel(&quot;First:0&quot;);\n        JLabel bestFitNextUpLabel = new JLabel(&quot;Best:0&quot;);\n        JLabel worstFitNextUpLabel = new JLabel(&quot;Worst:0&quot;);\n        infoSubPanel.add(subPanelTitle);\n        infoSubPanel.add(firstFitNextUpLabel);\n        infoSubPanel.add(bestFitNextUpLabel);\n        infoSubPanel.add(worstFitNextUpLabel);\n        //subClockPanel\n        JPanel infoSubClockPanel = new JPanel();\n        infoSubClockPanel.setBackground(Color.GRAY);\n        infoSubClockPanel.setPreferredSize(new Dimension(50,90));\n        infoPanel.add(infoSubClockPanel);\n\n        //setting up text for sub clock panel\n        JLabel clockText = new JLabel(&quot;Seconds passed: &quot;);\n        int ten = 10;\n        JLabel clockCounter = new JLabel(&quot;0&quot;);\n        infoSubClockPanel.add(clockText);\n        infoSubClockPanel.add(clockCounter);\n\n\n        //logic for running timer;\n        timer = new Timer(1000, e -&gt; {\n            clockCounter.setText(String.valueOf(count++));\n        });\n        timer.start();\n\n        //setting up sub panels for the main center panel\n        centerPanel.setLayout(new FlowLayout());\n        JPanel firstFitDisplay = new JPanel();\n        JPanel bestFitDisplay = new JPanel();\n        JPanel worstFitDisplay = new JPanel();\n        firstFitDisplay.setPreferredSize(new Dimension(200,500));\n        bestFitDisplay.setPreferredSize(new Dimension(200,500));\n        worstFitDisplay.setPreferredSize(new Dimension(200,500));\n        centerPanel.add(firstFitDisplay);\n        centerPanel.add(bestFitDisplay);\n        centerPanel.add(worstFitDisplay);\n        //center components\n        centerPanel.setAlignmentX(Component.CENTER_ALIGNMENT);\n        firstFitDisplay.setAlignmentX(Component.CENTER_ALIGNMENT);\n\n\n        //setup title\n        JLabel title = new JLabel(&quot;Dynamic Memory Allocation Simulator&quot;);\n        topPanel.add(title);\n\n\n\n    }\n}\n\n\n</code></pre>\n<p>and here is <code>algorithms.java</code></p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class algorithms {\n\n    public static void main(String[] args) {\n        GUI f = new GUI();\n        f.initGUI();\n        f.title.setText(&quot;HHHHHHHHHHH&quot;);\n    }\n\n\n\n}\n\n</code></pre>\n"},{"tags":["java","multithreading","sockets","asynchronous","threadpool"],"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1650151547,"post_id":71898174,"comment_id":127049705,"body_markdown":"What is your question?","body":"What is your question?"},{"owner":{"account_id":15769491,"reputation":532,"user_id":11378937,"display_name":"Ignace Vau"},"score":0,"creation_date":1650151615,"post_id":71898174,"comment_id":127049713,"body_markdown":"The last paragraph contains my actual question","body":"The last paragraph contains my actual question"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":3,"creation_date":1650151944,"post_id":71898174,"comment_id":127049761,"body_markdown":"`spread these asynchronous connections over all the available cores?` My vote would be &quot;no&quot; it does not make sense.  You don&#39;t have enough control over which core gets the thread to run to worry about this.  It&#39;s usually considered better to make as many threads as you need (your unbounded thread pool above) and let the OS worry about which cores to assign.","body":"<code>spread these asynchronous connections over all the available cores?</code> My vote would be &quot;no&quot; it does not make sense.  You don&#39;t have enough control over which core gets the thread to run to worry about this.  It&#39;s usually considered better to make as many threads as you need (your unbounded thread pool above) and let the OS worry about which cores to assign."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1650163720,"post_id":71898174,"comment_id":127050889,"body_markdown":"@markspace creating an unbounded number of threads is really a bad idea. It would be a great DOS attack vector. Apart from that, you get a lot of context switching, uncontrolled latency etc.","body":"@markspace creating an unbounded number of threads is really a bad idea. It would be a great DOS attack vector. Apart from that, you get a lot of context switching, uncontrolled latency etc."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1650165357,"post_id":71898174,"comment_id":127051025,"body_markdown":"@pveentjer I&#39;ll agree with that, I was speaking very loosely.  An unbounded thread pool would be impractical in many real world situations.  A fixed thread pool that could be configured externally is often a practical way to implement real world code.","body":"@pveentjer I&#39;ll agree with that, I was speaking very loosely.  An unbounded thread pool would be impractical in many real world situations.  A fixed thread pool that could be configured externally is often a practical way to implement real world code."}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1650155413,"creation_date":1650155413,"answer_id":71898460,"question_id":71898174,"body_markdown":"This is largely an extension of @markspace answer, but with added focus on the why.\r\n\r\nIf your question is asking is it possible to ensure that every single request gets a unique core and is evenly split, well yes, it is possible, but if you make that an implementation requirement, you are kind of fighting the language to get a requirement met. So in short, it is possible, but no, it does not make sense.\r\n\r\nThe Java devs put a lot of time into getting concurrency and task scheduling right, which means that they wanted the tool to be a multipurpose one-size-fits-most type of tool. Obviously, not every tool is right for the job, but the goal was to limit the amount of effort you would need to spend tweaking the tool to make it right for the job. If your concern is about throughput, it would likely be to your benefit to avoid trying to force the resource allocation in a certain direction, and just request resources as you need it. Let Java focus on doing that efficiently.\r\n\r\nIn java, you can also manually allocate memory, much like C or Rust. Yes, it is possible, but the entirety point of java was to abstract all of that information away from you, via a garbage collector, so that it is one less problem you have to solve. And more specifically, it is a problem that is currently solved in a much better way than a vast majority of us would be able to do.\r\n\r\nBut back to your original question. By all means, if you think that you can perform task scheduling and thread management better than the OS (or JVM, when Loom gets here), go right ahead. But unless you have an extremely good idea on how to do that (or an extremely good reason), it likely would not be wise, let alone worth the effort. The current implementation is good enough for 99% of what you will do in your career.\r\n\r\nOf course, if this is just to learn something (and not for a system that is being deployed to PROD), then dive in headfirst - here is the repo for most of Java&#39;s concurrency and asynchronous logic.\r\n\r\nhttps://github.com/openjdk/jdk/tree/master/src/java.base/share/classes/java/util/concurrent","title":"Asynchronous Server Sockets with Multithreading","body":"<p>This is largely an extension of @markspace answer, but with added focus on the why.</p>\n<p>If your question is asking is it possible to ensure that every single request gets a unique core and is evenly split, well yes, it is possible, but if you make that an implementation requirement, you are kind of fighting the language to get a requirement met. So in short, it is possible, but no, it does not make sense.</p>\n<p>The Java devs put a lot of time into getting concurrency and task scheduling right, which means that they wanted the tool to be a multipurpose one-size-fits-most type of tool. Obviously, not every tool is right for the job, but the goal was to limit the amount of effort you would need to spend tweaking the tool to make it right for the job. If your concern is about throughput, it would likely be to your benefit to avoid trying to force the resource allocation in a certain direction, and just request resources as you need it. Let Java focus on doing that efficiently.</p>\n<p>In java, you can also manually allocate memory, much like C or Rust. Yes, it is possible, but the entirety point of java was to abstract all of that information away from you, via a garbage collector, so that it is one less problem you have to solve. And more specifically, it is a problem that is currently solved in a much better way than a vast majority of us would be able to do.</p>\n<p>But back to your original question. By all means, if you think that you can perform task scheduling and thread management better than the OS (or JVM, when Loom gets here), go right ahead. But unless you have an extremely good idea on how to do that (or an extremely good reason), it likely would not be wise, let alone worth the effort. The current implementation is good enough for 99% of what you will do in your career.</p>\n<p>Of course, if this is just to learn something (and not for a system that is being deployed to PROD), then dive in headfirst - here is the repo for most of Java's concurrency and asynchronous logic.</p>\n<p><a href=\"https://github.com/openjdk/jdk/tree/master/src/java.base/share/classes/java/util/concurrent\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/tree/master/src/java.base/share/classes/java/util/concurrent</a></p>\n"},{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650165854,"creation_date":1650162946,"answer_id":71898880,"question_id":71898174,"body_markdown":"What we do in Hazelcast:\r\n\r\nThere is one thread responsible for accepting incoming TCP/IP connections.\r\n\r\nAnd once the TCP/IP connection is accepted, it is assigned to a single thread in an array of I/O threads. So a single TCP/IP connection is handled by a single I/O thread.\r\n\r\nThe I/O threads make use of non-blocking I/O, so a single I/O thread can serve many TCP/IP connections concurrently. For more information see: https://www.baeldung.com/java-nio-selector\r\n\r\nThis design could be simplified by getting rid of the accept thread and letting each I/O thread also take of accepting by setting SO_REUSEPORT to true. This allows for different processes to listen on the same server port for accepting requests. When a TCP/IP connection is established, the OS will determine which I/O thread the TCP/IP connection gets assigned to.\r\n\r\nYou might want to have a look at the Reactor (and perhaps the Proactor) design pattern. The I/O threads I described above can be seen as a Reactor.","title":"Asynchronous Server Sockets with Multithreading","body":"<p>What we do in Hazelcast:</p>\n<p>There is one thread responsible for accepting incoming TCP/IP connections.</p>\n<p>And once the TCP/IP connection is accepted, it is assigned to a single thread in an array of I/O threads. So a single TCP/IP connection is handled by a single I/O thread.</p>\n<p>The I/O threads make use of non-blocking I/O, so a single I/O thread can serve many TCP/IP connections concurrently. For more information see: <a href=\"https://www.baeldung.com/java-nio-selector\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-nio-selector</a></p>\n<p>This design could be simplified by getting rid of the accept thread and letting each I/O thread also take of accepting by setting SO_REUSEPORT to true. This allows for different processes to listen on the same server port for accepting requests. When a TCP/IP connection is established, the OS will determine which I/O thread the TCP/IP connection gets assigned to.</p>\n<p>You might want to have a look at the Reactor (and perhaps the Proactor) design pattern. The I/O threads I described above can be seen as a Reactor.</p>\n"}],"owner":{"account_id":15769491,"reputation":532,"user_id":11378937,"display_name":"Ignace Vau"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":894,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71898880,"answer_count":2,"score":1,"last_activity_date":1650165854,"creation_date":1650151380,"question_id":71898174,"body_markdown":"I want to setup a *single server* - *multiple client* system.\r\n\r\n&lt;h3&gt;Situation&lt;/h3&gt;\r\nMultiple clients want to start a TCP socket connection with the server, the server accepts the connections. (The connections stay up for a long time). How should I implement the server socket part such that it can always immediately accept a new client connection in the most efficient way (meaning, spread the load over all the available cores). These are the methods I found so far:&lt;br&gt;&lt;br&gt;\r\n\r\n&lt;h3&gt;Synchronous server sockets with unbound threadpool&lt;/h3&gt;\r\nFor each client connection, the server creates a new server socket in a new thread using an unbound threadpool. The problem is that when there are many clients, there will be too many threads and the server won&#39;t be able to handle it (because of the garbage collector?)&lt;br&gt;&lt;br&gt;\r\n\r\n&lt;h3&gt;Synchronous server sockets with fixed threadpool and LinkedBlockingQueue&lt;/h3&gt;\r\nFor each client connection, the server creates a new server socket in a new thread using a fixed threadpool. When there are more clients than there are threads in the fixed threadpool, the clients have to wait until a thread becomes available again.&lt;br&gt;&lt;br&gt;\r\n\r\n&lt;h3&gt;Asynchronous server sockets on single thread&lt;/h3&gt;\r\nFor each client connection, the server creates an asynchronous server socket, since these sockets are asynchronous, they can all run on the same thread. However, then all the load on the server is distributed over 1 thread, which seems less performant, because it all runs on 1 core.&lt;br&gt;&lt;br&gt;\r\n\r\n&lt;h3&gt;Asynchronous server sockets on multiple threads?&lt;/h3&gt;\r\nIs it possible/does it make sense, to spread these asynchronous connections over all the available cores? For example, create a thread for each core and then evenly fill these threads with the asynchronous tasks? This way it would be possible to have &quot;unlimited&quot; client-connections and also spread the load over all the available cores.","title":"Asynchronous Server Sockets with Multithreading","body":"<p>I want to setup a <em>single server</em> - <em>multiple client</em> system.</p>\n<h3>Situation</h3>\nMultiple clients want to start a TCP socket connection with the server, the server accepts the connections. (The connections stay up for a long time). How should I implement the server socket part such that it can always immediately accept a new client connection in the most efficient way (meaning, spread the load over all the available cores). These are the methods I found so far:<br><br>\n<h3>Synchronous server sockets with unbound threadpool</h3>\nFor each client connection, the server creates a new server socket in a new thread using an unbound threadpool. The problem is that when there are many clients, there will be too many threads and the server won't be able to handle it (because of the garbage collector?)<br><br>\n<h3>Synchronous server sockets with fixed threadpool and LinkedBlockingQueue</h3>\nFor each client connection, the server creates a new server socket in a new thread using a fixed threadpool. When there are more clients than there are threads in the fixed threadpool, the clients have to wait until a thread becomes available again.<br><br>\n<h3>Asynchronous server sockets on single thread</h3>\nFor each client connection, the server creates an asynchronous server socket, since these sockets are asynchronous, they can all run on the same thread. However, then all the load on the server is distributed over 1 thread, which seems less performant, because it all runs on 1 core.<br><br>\n<h3>Asynchronous server sockets on multiple threads?</h3>\nIs it possible/does it make sense, to spread these asynchronous connections over all the available cores? For example, create a thread for each core and then evenly fill these threads with the asynchronous tasks? This way it would be possible to have \"unlimited\" client-connections and also spread the load over all the available cores.\n"},{"tags":["java","spring-boot","scheduling"],"answers":[{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464016709,"creation_date":1464016709,"answer_id":37394729,"question_id":37394605,"body_markdown":"Spring has the TaskScheduler abstraction that you can use: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html#scheduling-task-scheduler\r\n\r\nIt has a method to schedule execution of a `Runnable` at a certain `Date`:\r\n\r\n    ScheduledFuture schedule(Runnable task, Date startTime);\r\n\r\nA little off-topic maybe: If `JobController` is a Spring `Controller` (or `RestController`), I would not autowire it into the `JobScheduler`. I would inverse it and inject the `JobScheduler` into the `JobController`.","title":"Spring Boot : execute a job at a particular Date entered by the user","body":"<p>Spring has the TaskScheduler abstraction that you can use: <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html#scheduling-task-scheduler\" rel=\"nofollow\">http://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html#scheduling-task-scheduler</a></p>\n\n<p>It has a method to schedule execution of a <code>Runnable</code> at a certain <code>Date</code>:</p>\n\n<pre><code>ScheduledFuture schedule(Runnable task, Date startTime);\n</code></pre>\n\n<p>A little off-topic maybe: If <code>JobController</code> is a Spring <code>Controller</code> (or <code>RestController</code>), I would not autowire it into the <code>JobScheduler</code>. I would inverse it and inject the <code>JobScheduler</code> into the <code>JobController</code>.</p>\n"},{"tags":[],"owner":{"account_id":17593033,"reputation":66,"user_id":12764498,"display_name":"Sh&#239;v&#224; T&#246;m&#224;r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650165126,"creation_date":1650165126,"answer_id":71899021,"question_id":37394605,"body_markdown":"Ok I know this is a very old questions but for future references, here&#39;s the answer:\r\n\r\nYou can use cron property, which gives much more control over the scheduling of a task. It lets us define the seconds, minutes ,and hours the task runs at but can go even further and specify even the years that a task will run in.\r\n\r\nBelow is a breakdown of the components that build a cron expression.\r\n\r\n- Seconds can have values 0-59 or the special characters , - * / .\r\n\r\n- Minutes can have values 0-59 or the special characters , - * / .\r\n\r\n- Hours can have values 0-59 or the special characters , - * / .\r\n\r\n- Day of month can have values 1-31 or the special characters , - * ? / L W C .\r\n\r\n- Month can have values 1-12, JAN-DEC or the special characters , - * / .\r\n\r\n- Day of week can have values 1-7, SUN-SAT or the special characters , - * ? / L C # .\r\n\r\n- Year can be empty, have values 1970-2099 or the special characters , - * / .\r\n\r\n\r\nJust for some extra clarity, I have combined the breakdown into an expression consisting of the field labels.\r\n\r\n@Scheduled(cron = &quot;[Seconds] [Minutes] [Hours] [Day of month] [Month] [Day of week] [Year]&quot;)\r\n\r\nFor more you can follow this article: https://dzone.com/articles/running-on-time-with-springs-scheduled-tasks","title":"Spring Boot : execute a job at a particular Date entered by the user","body":"<p>Ok I know this is a very old questions but for future references, here's the answer:</p>\n<p>You can use cron property, which gives much more control over the scheduling of a task. It lets us define the seconds, minutes ,and hours the task runs at but can go even further and specify even the years that a task will run in.</p>\n<p>Below is a breakdown of the components that build a cron expression.</p>\n<ul>\n<li><p>Seconds can have values 0-59 or the special characters , - * / .</p>\n</li>\n<li><p>Minutes can have values 0-59 or the special characters , - * / .</p>\n</li>\n<li><p>Hours can have values 0-59 or the special characters , - * / .</p>\n</li>\n<li><p>Day of month can have values 1-31 or the special characters , - * ? / L W C .</p>\n</li>\n<li><p>Month can have values 1-12, JAN-DEC or the special characters , - * / .</p>\n</li>\n<li><p>Day of week can have values 1-7, SUN-SAT or the special characters , - * ? / L C # .</p>\n</li>\n<li><p>Year can be empty, have values 1970-2099 or the special characters , - * / .</p>\n</li>\n</ul>\n<p>Just for some extra clarity, I have combined the breakdown into an expression consisting of the field labels.</p>\n<p>@Scheduled(cron = &quot;[Seconds] [Minutes] [Hours] [Day of month] [Month] [Day of week] [Year]&quot;)</p>\n<p>For more you can follow this article: <a href=\"https://dzone.com/articles/running-on-time-with-springs-scheduled-tasks\" rel=\"nofollow noreferrer\">https://dzone.com/articles/running-on-time-with-springs-scheduled-tasks</a></p>\n"}],"owner":{"account_id":6790267,"reputation":584,"user_id":5227664,"accept_rate":70,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3702,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1650165126,"creation_date":1464016359,"question_id":37394605,"body_markdown":"Im trying to manage scheduled tasks using spring boot. I want to execute my job only one time at a particular date ( specified by the user ). \r\nHere is my Job : \r\n\r\n    @Component\r\n    public class JobScheduler{\r\n    \t\r\n        @Autowired\r\n        JobController controller;\r\n        // Retrieving the Date entered by the user\r\n        controller.getDateForExecution();  // 2016/05/24 10:00 for example\r\n        \r\n        @Scheduled(???)\r\n        public void performJob() throws Exception {\r\n            controller.doSomething();\r\n        }\r\n\r\nThere are multiple options for Scheduled annotation such as fixedDelay, fixedRate, initialDelay, cron ... but none of these can accept a Date.\r\nSo, how can i execute my method at the specified Date dynamically ( ie depending on the Date insered ) ?\r\n\r\nPs : The method can be executed more than once if the user enter two or more Dates ..","title":"Spring Boot : execute a job at a particular Date entered by the user","body":"<p>Im trying to manage scheduled tasks using spring boot. I want to execute my job only one time at a particular date ( specified by the user ). \nHere is my Job : </p>\n\n<pre><code>@Component\npublic class JobScheduler{\n\n    @Autowired\n    JobController controller;\n    // Retrieving the Date entered by the user\n    controller.getDateForExecution();  // 2016/05/24 10:00 for example\n\n    @Scheduled(???)\n    public void performJob() throws Exception {\n        controller.doSomething();\n    }\n</code></pre>\n\n<p>There are multiple options for Scheduled annotation such as fixedDelay, fixedRate, initialDelay, cron ... but none of these can accept a Date.\nSo, how can i execute my method at the specified Date dynamically ( ie depending on the Date insered ) ?</p>\n\n<p>Ps : The method can be executed more than once if the user enter two or more Dates ..</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1568276309,"post_id":57901614,"comment_id":102225212,"body_markdown":"You sign only once, and that signs the whole PDF, even if the signature can be seen only on one page. If you need to sign several times (several people), you&#39;ll have to reload the saved file.","body":"You sign only once, and that signs the whole PDF, even if the signature can be seen only on one page. If you need to sign several times (several people), you&#39;ll have to reload the saved file."},{"owner":{"account_id":16681890,"reputation":11,"user_id":12056747,"display_name":"Shashichandra Achar"},"score":1,"creation_date":1568277723,"post_id":57901614,"comment_id":102225932,"body_markdown":"Hi @TilmanHausherr I want the visual appearance to be displayed in all pages in pdf by single person","body":"Hi @TilmanHausherr I want the visual appearance to be displayed in all pages in pdf by single person"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1568281451,"post_id":57901614,"comment_id":102227937,"body_markdown":"Have you tried the proof-of-concept at the bottom of [this answer](https://stackoverflow.com/a/52834362/1729265) in the [CreateMultipleVisualizations](https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/sign/CreateMultipleVisualizations.java#L95) test `testCreateSignatureWithMultipleVisualizations`using the helper method `addSignatureField`? That answer was created at the time PDFBox was at version 2.0.12, so chances are it can work for you.","body":"Have you tried the proof-of-concept at the bottom of <a href=\"https://stackoverflow.com/a/52834362/1729265\">this answer</a> in the <a href=\"https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/sign/CreateMultipleVisualizations.java#L95\" rel=\"nofollow noreferrer\">CreateMultipleVisualizations</a> test <code>testCreateSignatureWithMultipleVisualizations</code>using the helper method <code>addSignatureField</code>? That answer was created at the time PDFBox was at version 2.0.12, so chances are it can work for you."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1568281839,"post_id":57901614,"comment_id":102228144,"body_markdown":"That being said, though, please be aware that single signatures with multiple visualizations are brittle; several strategies for their creation are meanwhile (ISO 32000-2) considered invalid, and the remaining one is not invalid most likely only by oversight, see the section *A discussion of your actual task* of the afore mentioned [answer](https://stackoverflow.com/a/52834362/1729265).","body":"That being said, though, please be aware that single signatures with multiple visualizations are brittle; several strategies for their creation are meanwhile (ISO 32000-2) considered invalid, and the remaining one is not invalid most likely only by oversight, see the section <i>A discussion of your actual task</i> of the afore mentioned <a href=\"https://stackoverflow.com/a/52834362/1729265\">answer</a>."},{"owner":{"account_id":16681890,"reputation":11,"user_id":12056747,"display_name":"Shashichandra Achar"},"score":0,"creation_date":1568282914,"post_id":57901614,"comment_id":102228738,"body_markdown":"Hi @mkl yeah I have seen that already, but not tried as I am using ExternalSigningSupport as signature is coming from different server. The flow is like --  I am preparing the PDF and then generating hash and sending to a server which will send back the signature and I am adding that signature into PDF using ExternalSigningSupport.","body":"Hi @mkl yeah I have seen that already, but not tried as I am using ExternalSigningSupport as signature is coming from different server. The flow is like --  I am preparing the PDF and then generating hash and sending to a server which will send back the signature and I am adding that signature into PDF using ExternalSigningSupport."},{"owner":{"account_id":16681890,"reputation":11,"user_id":12056747,"display_name":"Shashichandra Achar"},"score":0,"creation_date":1568283084,"post_id":57901614,"comment_id":102228827,"body_markdown":"My task is to add a visual signature in all pages of a PDF.","body":"My task is to add a visual signature in all pages of a PDF."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1568283299,"post_id":57901614,"comment_id":102228976,"body_markdown":"*&quot;I have seen that already, but not tried. I am using ExternalSigningSupport as signature is coming from different server&quot;* - Then you should try. What keeps you from replacing the `PDDocument.saveIncremental` call there by your `PDDocument.saveIncrementalForExternalSigning` and external `SigningSupport` handling? In that case you can use `pdDocument.addSignature(signature)` instead of `pdDocument.addSignature(signature, this)`.","body":"<i>&quot;I have seen that already, but not tried. I am using ExternalSigningSupport as signature is coming from different server&quot;</i> - Then you should try. What keeps you from replacing the <code>PDDocument.saveIncremental</code> call there by your <code>PDDocument.saveIncrementalForExternalSigning</code> and external <code>SigningSupport</code> handling? In that case you can use <code>pdDocument.addSignature(signature)</code> instead of <code>pdDocument.addSignature(signature, this)</code>."},{"owner":{"account_id":16681890,"reputation":11,"user_id":12056747,"display_name":"Shashichandra Achar"},"score":0,"creation_date":1568287049,"post_id":57901614,"comment_id":102230994,"body_markdown":"That is also not working as unable to set the signature as stream is getting closed by PDDocument.saveIncremental.","body":"That is also not working as unable to set the signature as stream is getting closed by PDDocument.saveIncremental."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1568288482,"post_id":57901614,"comment_id":102231745,"body_markdown":"*&quot;That is also not working as unable to set the signature as stream is getting closed by PDDocument.saveIncremental&quot;* - allow me to quote from above: *What keeps you from replacing the `PDDocument.saveIncremental` call there by your `PDDocument.saveIncrementalForExternalSigning`?*","body":"<i>&quot;That is also not working as unable to set the signature as stream is getting closed by PDDocument.saveIncremental&quot;</i> - allow me to quote from above: <i>What keeps you from replacing the <code>PDDocument.saveIncremental</code> call there by your <code>PDDocument.saveIncrementalForExternalSigning</code>?</i>"},{"owner":{"account_id":16681890,"reputation":11,"user_id":12056747,"display_name":"Shashichandra Achar"},"score":0,"creation_date":1568290510,"post_id":57901614,"comment_id":102232912,"body_markdown":"I need to add the external signature in diffrent method. In that method I need to pass the OutputStream refrence and ExternalSigning refrence, PDDocument reference.\n\nSo,  _PDDocument.saveIncrementalForExternalSigning()_  saves PDF incrementally without closing for external signature creation scenario.\nBut _PDDocument.saveIncremental()_ closes the OutputStream.","body":"I need to add the external signature in diffrent method. In that method I need to pass the OutputStream refrence and ExternalSigning refrence, PDDocument reference.  So,  <i>PDDocument.saveIncrementalForExternalSigning()</i>  saves PDF incrementally without closing for external signature creation scenario. But <i>PDDocument.saveIncremental()</i> closes the OutputStream."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1568290532,"post_id":57901614,"comment_id":102232927,"body_markdown":"So, what keeps you from replacing the `PDDocument.saveIncremental` call in the code (from the referenced answer) by your `PDDocument.saveIncrementalForExternalSigning`?","body":"So, what keeps you from replacing the <code>PDDocument.saveIncremental</code> call in the code (from the referenced answer) by your <code>PDDocument.saveIncrementalForExternalSigning</code>?"},{"owner":{"account_id":16681890,"reputation":11,"user_id":12056747,"display_name":"Shashichandra Achar"},"score":0,"creation_date":1568704618,"post_id":57901614,"comment_id":102348499,"body_markdown":"Because i am adding visual signature appearance in each page and after that hash i&#39;m getting and sending to different server to get signature, which need to be added in pdf. So basically i&#39;m working on external signature signing","body":"Because i am adding visual signature appearance in each page and after that hash i&#39;m getting and sending to different server to get signature, which need to be added in pdf. So basically i&#39;m working on external signature signing"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1568717513,"post_id":57901614,"comment_id":102355226,"body_markdown":"That&#39;s why I keep proposing that you adapt the example code from the other answer by replacing the `PDDocument.saveIncremental` therein with the `PDDocument.saveIncrementalForExternalSigning`. That way you can use the example code from the other answer with external signing.","body":"That&#39;s why I keep proposing that you adapt the example code from the other answer by replacing the <code>PDDocument.saveIncremental</code> therein with the <code>PDDocument.saveIncrementalForExternalSigning</code>. That way you can use the example code from the other answer with external signing."},{"owner":{"account_id":16681890,"reputation":11,"user_id":12056747,"display_name":"Shashichandra Achar"},"score":0,"creation_date":1568727492,"post_id":57901614,"comment_id":102360676,"body_markdown":"I used _PDDocument.saveIncremental_ as for the example code but i&#39;m getting **Stream Closed** exception while adding the external sing which i&#39;m getting from another server.","body":"I used <i>PDDocument.saveIncremental</i> as for the example code but i&#39;m getting <b>Stream Closed</b> exception while adding the external sing which i&#39;m getting from another server."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1568795361,"post_id":57901614,"comment_id":102384270,"body_markdown":"Try it with `PDDocument.saveIncrementalForExternalSigning`.","body":"Try it with <code>PDDocument.saveIncrementalForExternalSigning</code>."},{"owner":{"account_id":16681890,"reputation":11,"user_id":12056747,"display_name":"Shashichandra Achar"},"score":0,"creation_date":1568807917,"post_id":57901614,"comment_id":102391388,"body_markdown":"From the day one i&#39;m using _PDDocument.saveIncrementalForExternalSigning_ method itself for single page signature everything is working perfect. But for multi page signature after completion of signing when i opened the PDF in signature properties its showing **The signature byte range is invalid**","body":"From the day one i&#39;m using <i>PDDocument.saveIncrementalForExternalSigning</i> method itself for single page signature everything is working perfect. But for multi page signature after completion of signing when i opened the PDF in signature properties its showing <b>The signature byte range is invalid</b>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1569315333,"post_id":57901614,"comment_id":102547753,"body_markdown":"Which is because you can&#39;t use this to sign several times in the same cycle. And please don&#39;t insist on signing every page. Nobody does that. Even Adobe doesn&#39;t do it. The signature is either invisible (verification can seen in the signature panel), or visible (same, plus something fancy usually on the first or on the last page).","body":"Which is because you can&#39;t use this to sign several times in the same cycle. And please don&#39;t insist on signing every page. Nobody does that. Even Adobe doesn&#39;t do it. The signature is either invisible (verification can seen in the signature panel), or visible (same, plus something fancy usually on the first or on the last page)."}],"answers":[{"tags":[],"owner":{"account_id":24968929,"reputation":1,"user_id":18832259,"display_name":"Arun Kumar R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650164427,"creation_date":1650164427,"answer_id":71898969,"question_id":57901614,"body_markdown":"Same problem..\r\nUnexpected byte range value defining scope of signed data..\r\n\r\nUsing foxit..\r\n\r\nRight click signature..\r\nThen click show signed version..\r\n\r\nYou will get your signed version and save it..\r\n\r\n","title":"How to fix &#39;Unexpected byte range values defining scope of signed data&#39; using pdfbox","body":"<p>Same problem..\nUnexpected byte range value defining scope of signed data..</p>\n<p>Using foxit..</p>\n<p>Right click signature..\nThen click show signed version..</p>\n<p>You will get your signed version and save it..</p>\n"}],"owner":{"account_id":16681890,"reputation":11,"user_id":12056747,"display_name":"Shashichandra Achar"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650164427,"creation_date":1568272847,"question_id":57901614,"body_markdown":"How to fix &#39;Unexpected byte range values defining scope of signed data. Details: The signature byte range is invalid&#39; while adding external signature in multiple pages using PDFBOX (2.0.12)\n\nThe following code is working for single page signing while multi page signing not working.\n\n    PDDocument pddoc = PDDocument.load(file);\n    PDSignature pds = new PDSignature();\n    SignatureOptions signatureOptions;\n    PDRectangle rect;//coordinates to visible signature\n    File imgFile;//background image in visible signature\n    String signDisplayInfo;//data to be displayed in visible signature\n    createVisualSignatureTemplate // generates the visible signature\n\n\n    for(int i=0;i&lt;pageCount;i++) {\n       signatureOptions.setVisualSignature(AddVisibleSignature.createVisualSignatureTemplate(pddoc, i, rect, imgFile,signDisplayInfo));\n       signatureOptions.setPage(i);\n       pddoc.addSignature(pds, signatureOptions);\n    }\n    externalSigning = pddoc.saveIncrementalForExternalSigning(fos);\n    InputStream dataToSign = externalSigning.getContent();\n    hash = DigestUtils.sha256Hex(dataToSign);\n\nAfter preparing the hash, is being sent to another server to get the signature. After getting the response adding the signature into the pdf.  \n    \n    String pkcs7Response = responseSignature;\n    byte[] sigbytes = java.util.Base64.getDecoder().decode(pkcs7Response);                   \n    externalSigning.setSignature(sigbytes);\n    pddoc.save(fos);\n    pddoc.close();\n\nError during signature verification.  \n\n&gt;Unexpected byte range values defining scope of signed data.\n&gt;\n&gt;Details: The signature byte range is invalid\n","title":"How to fix &#39;Unexpected byte range values defining scope of signed data&#39; using pdfbox","body":"<p>How to fix 'Unexpected byte range values defining scope of signed data. Details: The signature byte range is invalid' while adding external signature in multiple pages using PDFBOX (2.0.12)</p>\n<p>The following code is working for single page signing while multi page signing not working.</p>\n<pre><code>PDDocument pddoc = PDDocument.load(file);\nPDSignature pds = new PDSignature();\nSignatureOptions signatureOptions;\nPDRectangle rect;//coordinates to visible signature\nFile imgFile;//background image in visible signature\nString signDisplayInfo;//data to be displayed in visible signature\ncreateVisualSignatureTemplate // generates the visible signature\n\n\nfor(int i=0;i&lt;pageCount;i++) {\n   signatureOptions.setVisualSignature(AddVisibleSignature.createVisualSignatureTemplate(pddoc, i, rect, imgFile,signDisplayInfo));\n   signatureOptions.setPage(i);\n   pddoc.addSignature(pds, signatureOptions);\n}\nexternalSigning = pddoc.saveIncrementalForExternalSigning(fos);\nInputStream dataToSign = externalSigning.getContent();\nhash = DigestUtils.sha256Hex(dataToSign);\n</code></pre>\n<p>After preparing the hash, is being sent to another server to get the signature. After getting the response adding the signature into the pdf.</p>\n<pre><code>String pkcs7Response = responseSignature;\nbyte[] sigbytes = java.util.Base64.getDecoder().decode(pkcs7Response);                   \nexternalSigning.setSignature(sigbytes);\npddoc.save(fos);\npddoc.close();\n</code></pre>\n<p>Error during signature verification.</p>\n<blockquote>\n<p>Unexpected byte range values defining scope of signed data.</p>\n<p>Details: The signature byte range is invalid</p>\n</blockquote>\n"},{"tags":["java","jaxb","xjc"],"answers":[{"tags":[],"owner":{"account_id":5439,"reputation":28408,"user_id":8753,"display_name":"laz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1650163718,"creation_date":1321903610,"answer_id":8217372,"question_id":8217114,"body_markdown":"I&#39;ve not had experience with either of these, but there is [Apache JaxMe][1] and &lt;del&gt;[EclipseLink MOXy][2]&lt;/del&gt;.\r\n\r\n**Update:**\r\n\r\nAccording to Blaise Doughan below, MOXy uses the reference implementation.\r\n\r\n  [1]: https://svn.apache.org/repos/asf/webservices/archive/jaxme/site/index.html\r\n  [2]: http://eclipse.org/eclipselink/moxy.php","title":"Any alternatives to the JAXB XJC-compiler reference implementation from glassfish?","body":"<p>I've not had experience with either of these, but there is <a href=\"https://svn.apache.org/repos/asf/webservices/archive/jaxme/site/index.html\" rel=\"nofollow noreferrer\">Apache JaxMe</a> and <del><a href=\"http://eclipse.org/eclipselink/moxy.php\" rel=\"nofollow noreferrer\">EclipseLink MOXy</a></del>.</p>\n<p><strong>Update:</strong></p>\n<p>According to Blaise Doughan below, MOXy uses the reference implementation.</p>\n"}],"owner":{"account_id":451260,"reputation":31009,"user_id":847064,"accept_rate":84,"display_name":"Thomas Uhrig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1713,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":8217372,"answer_count":1,"score":4,"last_activity_date":1650163718,"creation_date":1321902305,"question_id":8217114,"body_markdown":"I am wondering if there are any alternatives to the reference implementation of the JAXB XJC-compiler from Glassfish!? Don&#39;t understand me wrong, the XJC is working fine. But if this is the &quot;reference implementation&quot;, there muste be other implementations. is there any from IBM?\r\n\r\n","title":"Any alternatives to the JAXB XJC-compiler reference implementation from glassfish?","body":"<p>I am wondering if there are any alternatives to the reference implementation of the JAXB XJC-compiler from Glassfish!? Don't understand me wrong, the XJC is working fine. But if this is the \"reference implementation\", there muste be other implementations. is there any from IBM?</p>\n"},{"tags":["java","string","arraylist"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1650162844,"post_id":71898805,"comment_id":127050818,"body_markdown":"One line using Stream while playing in Java8+: `int sum = myArrayList.stream().mapToInt(Integer::intValue).sum();`. The myArrayList is an `ArrayList&lt;Integer&gt;`.","body":"One line using Stream while playing in Java8+: <code>int sum = myArrayList.stream().mapToInt(Integer::intValue).sum();</code>. The myArrayList is an <code>ArrayList&lt;Integer&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":4818281,"reputation":231,"user_id":6386607,"display_name":"Shura16"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650163633,"creation_date":1650162340,"answer_id":71898837,"question_id":71898805,"body_markdown":"You are just adding elements to the list.\r\nIf you want the sum of them, you can create an Integer variable and add it.\r\n\r\n```\r\npublic static void main(String[] args) throws IOException {\r\n    File file = new File(&quot;C:\\\\Users\\\\[REDACTED]\\\\Desktop\\\\mbox.txt&quot;);\r\n    Scanner inputFile = new Scanner(file);\r\n    Integer confidenceLevelsSum = 0;\r\n    String [] DSPAM;\r\n    String line;\r\n    \r\n    while(inputFile.hasNext())\r\n    {\r\n        line = inputFile.nextLine();\r\n        if(line.startsWith(&quot;X-DSPAM-Confidence:&quot;))\r\n        {\r\n            DSPAM = line.split(&quot; 0&quot;);\r\n\r\n            // Check if it&#39;s null before trying to convert it.\r\n            if (DSPAM[1] == null) {\r\n                continue;\r\n            }\r\n\r\n            int x = Integer.parseInt(DSPAM[1].trim());\r\n            confidenceLevelsSum += x;\r\n        }\r\n    }\r\n    System.out.println(confidenceLevelsSum);\r\n}\r\n```","title":"How to add up all the values in an ArrayList&lt;String&gt; or convert to ArrayList&lt;Integer&gt;","body":"<p>You are just adding elements to the list.\nIf you want the sum of them, you can create an Integer variable and add it.</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    File file = new File(&quot;C:\\\\Users\\\\[REDACTED]\\\\Desktop\\\\mbox.txt&quot;);\n    Scanner inputFile = new Scanner(file);\n    Integer confidenceLevelsSum = 0;\n    String [] DSPAM;\n    String line;\n    \n    while(inputFile.hasNext())\n    {\n        line = inputFile.nextLine();\n        if(line.startsWith(&quot;X-DSPAM-Confidence:&quot;))\n        {\n            DSPAM = line.split(&quot; 0&quot;);\n\n            // Check if it's null before trying to convert it.\n            if (DSPAM[1] == null) {\n                continue;\n            }\n\n            int x = Integer.parseInt(DSPAM[1].trim());\n            confidenceLevelsSum += x;\n        }\n    }\n    System.out.println(confidenceLevelsSum);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7636682,"reputation":1,"user_id":5790041,"display_name":"Frank"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650162925,"creation_date":1650162925,"answer_id":71898878,"question_id":71898805,"body_markdown":"You can try use IntSummaryStatistics and you can get min/max/average/sum of this list.\r\n\r\n        IntSummaryStatistics intSummaryStatistics = ConfidenceLevels.stream().mapToInt(Integer::intValue).summaryStatistics();\r\n        System.out.println(intSummaryStatistics.getAverage());\r\n        System.out.println(intSummaryStatistics.getMin());\r\n        System.out.println(intSummaryStatistics.getMax());\r\n        System.out.println(intSummaryStatistics.getSum());","title":"How to add up all the values in an ArrayList&lt;String&gt; or convert to ArrayList&lt;Integer&gt;","body":"<p>You can try use IntSummaryStatistics and you can get min/max/average/sum of this list.</p>\n<pre><code>    IntSummaryStatistics intSummaryStatistics = ConfidenceLevels.stream().mapToInt(Integer::intValue).summaryStatistics();\n    System.out.println(intSummaryStatistics.getAverage());\n    System.out.println(intSummaryStatistics.getMin());\n    System.out.println(intSummaryStatistics.getMax());\n    System.out.println(intSummaryStatistics.getSum());\n</code></pre>\n"}],"owner":{"account_id":24968482,"reputation":3,"user_id":18831839,"display_name":"Quack25616"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71898837,"answer_count":2,"score":0,"last_activity_date":1650163633,"creation_date":1650161779,"question_id":71898805,"body_markdown":"I&#39;m trying to add up all the values inside of an ArrayList&lt;String&gt; but nothing allows me to get the sum. I have to find the average of the numbers pulled from a text file.\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        File file = new File(&quot;C:\\\\Users\\\\[REDACTED]\\\\Desktop\\\\mbox.txt&quot;);\r\n        Scanner inputFile = new Scanner(file);\r\n        ArrayList&lt;Integer&gt; ConfidenceLevels = new ArrayList&lt;&gt;();\r\n        String [] DSPAM;\r\n        String line;\r\n        \r\n        while(inputFile.hasNext())\r\n        {\r\n            line = inputFile.nextLine();\r\n            if(line.startsWith(&quot;X-DSPAM-Confidence:&quot;))\r\n            {\r\n                DSPAM = line.split(&quot; 0&quot;);\r\n                int x = Integer.parseInt(DSPAM[1].trim());\r\n                ConfidenceLevels.add(x);\r\n            }\r\n        }\r\n        System.out.println(ConfidenceLevels);\r\n        System.out.println(ConfidenceLevels.size());\r\n    }","title":"How to add up all the values in an ArrayList&lt;String&gt; or convert to ArrayList&lt;Integer&gt;","body":"<p>I'm trying to add up all the values inside of an ArrayList but nothing allows me to get the sum. I have to find the average of the numbers pulled from a text file.</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    File file = new File(&quot;C:\\\\Users\\\\[REDACTED]\\\\Desktop\\\\mbox.txt&quot;);\n    Scanner inputFile = new Scanner(file);\n    ArrayList&lt;Integer&gt; ConfidenceLevels = new ArrayList&lt;&gt;();\n    String [] DSPAM;\n    String line;\n    \n    while(inputFile.hasNext())\n    {\n        line = inputFile.nextLine();\n        if(line.startsWith(&quot;X-DSPAM-Confidence:&quot;))\n        {\n            DSPAM = line.split(&quot; 0&quot;);\n            int x = Integer.parseInt(DSPAM[1].trim());\n            ConfidenceLevels.add(x);\n        }\n    }\n    System.out.println(ConfidenceLevels);\n    System.out.println(ConfidenceLevels.size());\n}\n</code></pre>\n"},{"tags":["java","image","image-processing","png"],"comments":[{"owner":{"account_id":29697,"reputation":7852,"user_id":80449,"display_name":"Jesper Fyhr Knudsen"},"score":0,"creation_date":1364134693,"post_id":15598872,"comment_id":22120933,"body_markdown":"What settings did you use in ImageMagick to make a 200 megapixel image into a 700kb file?","body":"What settings did you use in ImageMagick to make a 200 megapixel image into a 700kb file?"},{"owner":{"account_id":165134,"reputation":2480,"user_id":388324,"accept_rate":56,"display_name":"Mihir"},"score":0,"creation_date":1364139713,"post_id":15598872,"comment_id":22122559,"body_markdown":"@Arkain i used convert demo400dpi.TIFF -units PixelsPerInch -density 400x400 -quality 100 -strip target.png","body":"@Arkain i used convert demo400dpi.TIFF -units PixelsPerInch -density 400x400 -quality 100 -strip target.png"}],"answers":[{"tags":[],"owner":{"account_id":118925,"reputation":5299,"user_id":310297,"accept_rate":97,"display_name":"Jazzepi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364131463,"creation_date":1364131463,"answer_id":15599005,"question_id":15598872,"body_markdown":"I would attempt to fiddle with the settings on the writeParam object you&#39;re creating. Currently you&#39;re calling `getDefaultWriteParam();` which gives you a basic writeParam object. My guess is the default would be NO compression.\r\n\r\nAfter doing that, you can probably set some of the compression modes to reduce the file size.\r\n\r\n    writeParam.setCompressionMode(int mode);\r\n    writeParam.setCompressionQuality(float quality);\r\n    writeParam.setCompressionType(String compressionType);\r\n\r\nSee http://docs.oracle.com/javase/6/docs/api/javax/imageio/ImageWriteParam.html\r\nAnd specifically http://docs.oracle.com/javase/6/docs/api/javax/imageio/ImageWriteParam.html#setCompressionMode(int)","title":"Write PNG file with less disk size in Java","body":"<p>I would attempt to fiddle with the settings on the writeParam object you're creating. Currently you're calling <code>getDefaultWriteParam();</code> which gives you a basic writeParam object. My guess is the default would be NO compression.</p>\n\n<p>After doing that, you can probably set some of the compression modes to reduce the file size.</p>\n\n<pre><code>writeParam.setCompressionMode(int mode);\nwriteParam.setCompressionQuality(float quality);\nwriteParam.setCompressionType(String compressionType);\n</code></pre>\n\n<p>See <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/imageio/ImageWriteParam.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/javax/imageio/ImageWriteParam.html</a>\nAnd specifically <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/imageio/ImageWriteParam.html#setCompressionMode(int)\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/javax/imageio/ImageWriteParam.html#setCompressionMode(int)</a></p>\n"},{"tags":[],"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1364157556,"creation_date":1364137899,"answer_id":15600125,"question_id":15598872,"body_markdown":"A 14400x14400 ARGB8 image has a raw (uncompressed) size of 791MB. It will compress more or less according to its nature (has uniform or smooth zones) and according (less important) to the PNG compression parameters.  \r\n\r\n&gt; when i convert it using imagemagic to PNG using 400 DPI , the\r\n&gt; resulting file size is only 700 KB.\r\n\r\n(I don&#39;t understand why you speak of DPI, that has nothing to do, what matters is the size in pixels) Are you saying that you are getting a 14400x14400 ARGB of 700KB? That would represent a compression of 1/1000, hard to believe unless the image is practically flat.\r\nYou should first understand what is going on here.\r\n\r\nAnyway, here&#39;s a sample code with PNGJ\r\n\r\n    /** writes a BufferedImage of type TYPE_INT_ARGB to PNG using PNGJ */\r\n    public static void writeARGB(BufferedImage bi, OutputStream os) {\r\n    \tif(bi.getType() != BufferedImage.TYPE_INT_ARGB) \r\n           throw new PngjException(&quot;This method expects  BufferedImage.TYPE_INT_ARGB&quot; );\r\n    \tImageInfo imi = new ImageInfo(bi.getWidth(), bi.getHeight(), 8, true);\r\n    \tPngWriter pngw = new PngWriter(os, imi);\r\n    \tpngw.setCompLevel(9);// maximum compression, not critical usually\r\n    \tpngw.setFilterType(FilterType.FILTER_AGGRESSIVE); // see what you prefer here\r\n        DataBufferInt db =((DataBufferInt) bi.getRaster().getDataBuffer());\r\n    \tSinglePixelPackedSampleModel samplemodel =  (SinglePixelPackedSampleModel) bi.getSampleModel();\r\n        if(db.getNumBanks()!=1) \r\n            throw new PngjException(&quot;This method expects one bank&quot;);\r\n    \tImageLine line = new ImageLine(imi);\r\n    \tfor (int row = 0; row &lt; imi.rows; row++) {\r\n    \t\tint elem=samplemodel.getOffset(0,row);\r\n    \t\tfor (int col = 0,j=0; col &lt; imi.cols; col++) {\r\n    \t\t\tint sample = db.getElem(elem++);\r\n    \t\t\tline.scanline[j++] =  (sample &amp; 0xFF0000)&gt;&gt;16; // R\r\n    \t\t\tline.scanline[j++] =  (sample &amp; 0xFF00)&gt;&gt;8; // G\r\n    \t\t\tline.scanline[j++] =  (sample &amp; 0xFF); // B\r\n    \t\t\tline.scanline[j++] =  (((sample &amp; 0xFF000000)&gt;&gt;24)&amp;0xFF); // A\r\n    \t\t}\r\n    \t\tpngw.writeRow(line, row);\r\n    \t}\r\n    \tpngw.end();\r\n    }\r\n","title":"Write PNG file with less disk size in Java","body":"<p>A 14400x14400 ARGB8 image has a raw (uncompressed) size of 791MB. It will compress more or less according to its nature (has uniform or smooth zones) and according (less important) to the PNG compression parameters.  </p>\n\n<blockquote>\n  <p>when i convert it using imagemagic to PNG using 400 DPI , the\n  resulting file size is only 700 KB.</p>\n</blockquote>\n\n<p>(I don't understand why you speak of DPI, that has nothing to do, what matters is the size in pixels) Are you saying that you are getting a 14400x14400 ARGB of 700KB? That would represent a compression of 1/1000, hard to believe unless the image is practically flat.\nYou should first understand what is going on here.</p>\n\n<p>Anyway, here's a sample code with PNGJ</p>\n\n<pre><code>/** writes a BufferedImage of type TYPE_INT_ARGB to PNG using PNGJ */\npublic static void writeARGB(BufferedImage bi, OutputStream os) {\n    if(bi.getType() != BufferedImage.TYPE_INT_ARGB) \n       throw new PngjException(\"This method expects  BufferedImage.TYPE_INT_ARGB\" );\n    ImageInfo imi = new ImageInfo(bi.getWidth(), bi.getHeight(), 8, true);\n    PngWriter pngw = new PngWriter(os, imi);\n    pngw.setCompLevel(9);// maximum compression, not critical usually\n    pngw.setFilterType(FilterType.FILTER_AGGRESSIVE); // see what you prefer here\n    DataBufferInt db =((DataBufferInt) bi.getRaster().getDataBuffer());\n    SinglePixelPackedSampleModel samplemodel =  (SinglePixelPackedSampleModel) bi.getSampleModel();\n    if(db.getNumBanks()!=1) \n        throw new PngjException(\"This method expects one bank\");\n    ImageLine line = new ImageLine(imi);\n    for (int row = 0; row &lt; imi.rows; row++) {\n        int elem=samplemodel.getOffset(0,row);\n        for (int col = 0,j=0; col &lt; imi.cols; col++) {\n            int sample = db.getElem(elem++);\n            line.scanline[j++] =  (sample &amp; 0xFF0000)&gt;&gt;16; // R\n            line.scanline[j++] =  (sample &amp; 0xFF00)&gt;&gt;8; // G\n            line.scanline[j++] =  (sample &amp; 0xFF); // B\n            line.scanline[j++] =  (((sample &amp; 0xFF000000)&gt;&gt;24)&amp;0xFF); // A\n        }\n        pngw.writeRow(line, row);\n    }\n    pngw.end();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22060406,"reputation":44,"user_id":16323206,"display_name":"jazznbass"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650163226,"creation_date":1650162887,"answer_id":71898876,"question_id":15598872,"body_markdown":"sample code for pngj that works for 2.x versions of the leonbloy&#39;s pngj library \r\n\r\n          /** writes a BufferedImage of type TYPE_INT_ARGB to PNG using PNGJ */\r\n      public static void writePNGJARGB(BufferedImage bi, /*OutputStream os, */File file) {\r\n          \r\n          System.out.println(&quot;.....entering PNGj alternative image file save mode.....&quot; );\r\n    \t\tif(bi.getType() != BufferedImage.TYPE_INT_ARGB) throw new PngjException(&quot;This method expects  BufferedImage.TYPE_INT_ARGB&quot; );\r\n    \t\tImageInfo imi = new ImageInfo(bi.getWidth(), bi.getHeight(), 8, true);\r\n    \t\tPngWriter pngw = new PngWriter(file, imi, false);\r\n                    // PngWriter pngw = new PngWriter(file,imginfo,overwrite); //params\r\n    \t\t pngw.setCompLevel(7); // tuning compression, not critical usually\r\n    \t\t pngw.setFilterType(FilterType.FILTER_PAETH); // tuning, see what you prefer here\r\n                    System.out.println(&quot;..... PNGj metadata = &quot;+pngw.getMetadata() );\r\n    \t\tDataBufferInt db =((DataBufferInt) bi.getRaster().getDataBuffer());\r\n    \t\tif(db.getNumBanks()!=1) {\r\n                        throw new PngjException(&quot;This method expects one bank&quot;);\r\n                    }\r\n    \t\tSinglePixelPackedSampleModel samplemodel =  (SinglePixelPackedSampleModel) bi.getSampleModel();\r\n    \t\tImageLineInt line = new ImageLineInt(imi);\r\n    \t\tint[] dbbuf = db.getData();\r\n    \t\tfor (int row = 0; row &lt; imi.rows; row++) {\r\n    \t\t\tint elem=samplemodel.getOffset(0,row);\r\n    \t\t\tfor (int col = 0,j=0; col &lt; imi.cols; col++) {\r\n                                    int sample = dbbuf[elem++];\r\n                                    line.getScanline()[j++] =  (sample &amp; 0xFF0000)&gt;&gt;16; // R\r\n                                    line.getScanline()[j++] =  (sample &amp; 0xFF00)&gt;&gt;8; // G\r\n                                    line.getScanline()[j++] =  (sample &amp; 0xFF); // B\r\n                                    line.getScanline()[j++] =  (((sample &amp; 0xFF000000)&gt;&gt;24)&amp;0xFF); // A\r\n                            }\r\n                          //pngw.writeRow(line, /*imi.rows*/);\r\n                            pngw.writeRow(line);  \r\n                    }\r\n                    pngw.end();\r\n        }","title":"Write PNG file with less disk size in Java","body":"<p>sample code for pngj that works for 2.x versions of the leonbloy's pngj library</p>\n<pre><code>      /** writes a BufferedImage of type TYPE_INT_ARGB to PNG using PNGJ */\n  public static void writePNGJARGB(BufferedImage bi, /*OutputStream os, */File file) {\n      \n      System.out.println(&quot;.....entering PNGj alternative image file save mode.....&quot; );\n        if(bi.getType() != BufferedImage.TYPE_INT_ARGB) throw new PngjException(&quot;This method expects  BufferedImage.TYPE_INT_ARGB&quot; );\n        ImageInfo imi = new ImageInfo(bi.getWidth(), bi.getHeight(), 8, true);\n        PngWriter pngw = new PngWriter(file, imi, false);\n                // PngWriter pngw = new PngWriter(file,imginfo,overwrite); //params\n         pngw.setCompLevel(7); // tuning compression, not critical usually\n         pngw.setFilterType(FilterType.FILTER_PAETH); // tuning, see what you prefer here\n                System.out.println(&quot;..... PNGj metadata = &quot;+pngw.getMetadata() );\n        DataBufferInt db =((DataBufferInt) bi.getRaster().getDataBuffer());\n        if(db.getNumBanks()!=1) {\n                    throw new PngjException(&quot;This method expects one bank&quot;);\n                }\n        SinglePixelPackedSampleModel samplemodel =  (SinglePixelPackedSampleModel) bi.getSampleModel();\n        ImageLineInt line = new ImageLineInt(imi);\n        int[] dbbuf = db.getData();\n        for (int row = 0; row &lt; imi.rows; row++) {\n            int elem=samplemodel.getOffset(0,row);\n            for (int col = 0,j=0; col &lt; imi.cols; col++) {\n                                int sample = dbbuf[elem++];\n                                line.getScanline()[j++] =  (sample &amp; 0xFF0000)&gt;&gt;16; // R\n                                line.getScanline()[j++] =  (sample &amp; 0xFF00)&gt;&gt;8; // G\n                                line.getScanline()[j++] =  (sample &amp; 0xFF); // B\n                                line.getScanline()[j++] =  (((sample &amp; 0xFF000000)&gt;&gt;24)&amp;0xFF); // A\n                        }\n                      //pngw.writeRow(line, /*imi.rows*/);\n                        pngw.writeRow(line);  \n                }\n                pngw.end();\n    }\n</code></pre>\n"}],"owner":{"account_id":165134,"reputation":2480,"user_id":388324,"accept_rate":56,"display_name":"Mihir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4274,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":15600125,"answer_count":3,"score":3,"last_activity_date":1650163226,"creation_date":1364130666,"question_id":15598872,"body_markdown":"I have a `BufferedImage`: \r\n\r\n    BufferedImage bi = new BufferedImage(14400, 14400, BufferedImage.TYPE_INT_ARGB);\r\n\r\nI have saved this image to a PNG file using the following code:\r\n\r\n    public static void saveGridImage(BufferedImage sourceImage, int DPI,\r\n    \t\t\tFile output) throws IOException {\r\n    \t\toutput.delete();\r\n    \r\n    \t\tfinal String formatName = &quot;png&quot;;\r\n    \r\n    \t\tfor (Iterator&lt;ImageWriter&gt; iw = ImageIO\r\n    \t\t\t\t.getImageWritersByFormatName(formatName); iw.hasNext();) {\r\n    \t\t\tImageWriter writer = iw.next();\r\n    \t\t\tImageWriteParam writeParam = writer.getDefaultWriteParam();\r\n    \t\t\tImageTypeSpecifier typeSpecifier = ImageTypeSpecifier\r\n    \t\t\t\t\t.createFromBufferedImageType(BufferedImage.TYPE_INT_RGB);\r\n    \t\t\tIIOMetadata metadata = writer.getDefaultImageMetadata(\r\n    \t\t\t\t\ttypeSpecifier, writeParam);\r\n    \t\t\tif (metadata.isReadOnly()\r\n    \t\t\t\t\t|| !metadata.isStandardMetadataFormatSupported()) {\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \r\n    \t\t\tsetDPI(metadata, DPI);\r\n    \r\n    \t\t\tfinal ImageOutputStream stream = ImageIO\r\n    \t\t\t\t\t.createImageOutputStream(output);\r\n    \t\t\ttry {\r\n    \t\t\t\twriter.setOutput(stream);\r\n    \t\t\t\twriter.write(metadata,\r\n    \t\t\t\t\t\tnew IIOImage(sourceImage, null, metadata), writeParam);\r\n    \t\t\t} finally {\r\n    \t\t\t\tstream.close();\r\n    \t\t\t}\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void setDPI(IIOMetadata metadata, int DPI)\r\n    \t\t\tthrows IIOInvalidTreeException {\r\n    \r\n    \t\tdouble INCH_2_CM = 2.54;\r\n    \r\n    \t\t// for PNG, it&#39;s dots per millimeter\r\n    \t\tdouble dotsPerMilli = 1.0 * DPI / 10 / INCH_2_CM;\r\n    \r\n    \t\tIIOMetadataNode horiz = new IIOMetadataNode(&quot;HorizontalPixelSize&quot;);\r\n    \t\thoriz.setAttribute(&quot;value&quot;, Double.toString(dotsPerMilli));\r\n    \r\n    \t\tIIOMetadataNode vert = new IIOMetadataNode(&quot;VerticalPixelSize&quot;);\r\n    \t\tvert.setAttribute(&quot;value&quot;, Double.toString(dotsPerMilli));\r\n    \r\n    \t\tIIOMetadataNode dim = new IIOMetadataNode(&quot;Dimension&quot;);\r\n    \t\tdim.appendChild(horiz);\r\n    \t\tdim.appendChild(vert);\r\n    \r\n    \t\tIIOMetadataNode root = new IIOMetadataNode(&quot;javax_imageio_1.0&quot;);\r\n    \t\troot.appendChild(dim);\r\n    \r\n    \t\tmetadata.mergeTree(&quot;javax_imageio_1.0&quot;, root);\r\n    \t}\r\n\r\nWhen the code executes it creates an PNG file with 400 DPI and Disk Size of **168 MB**; this is too much.\r\n\r\nIs there any way or parameters I can use to save a smaller PNG?\r\n\r\nBefore, I had a 1.20 GB TIFF file, and when I converted it to PNG using imagemagick at 400 DPI, the resulting file size was only 700 KB.\r\n\r\nSo, I think I might be able to save the above file smaller.\r\n\r\n**Can pngj help me? Because I now have a png file which I can read in pngj library.**\r\n","title":"Write PNG file with less disk size in Java","body":"<p>I have a <code>BufferedImage</code>: </p>\n\n<pre><code>BufferedImage bi = new BufferedImage(14400, 14400, BufferedImage.TYPE_INT_ARGB);\n</code></pre>\n\n<p>I have saved this image to a PNG file using the following code:</p>\n\n<pre><code>public static void saveGridImage(BufferedImage sourceImage, int DPI,\n            File output) throws IOException {\n        output.delete();\n\n        final String formatName = \"png\";\n\n        for (Iterator&lt;ImageWriter&gt; iw = ImageIO\n                .getImageWritersByFormatName(formatName); iw.hasNext();) {\n            ImageWriter writer = iw.next();\n            ImageWriteParam writeParam = writer.getDefaultWriteParam();\n            ImageTypeSpecifier typeSpecifier = ImageTypeSpecifier\n                    .createFromBufferedImageType(BufferedImage.TYPE_INT_RGB);\n            IIOMetadata metadata = writer.getDefaultImageMetadata(\n                    typeSpecifier, writeParam);\n            if (metadata.isReadOnly()\n                    || !metadata.isStandardMetadataFormatSupported()) {\n                continue;\n            }\n\n            setDPI(metadata, DPI);\n\n            final ImageOutputStream stream = ImageIO\n                    .createImageOutputStream(output);\n            try {\n                writer.setOutput(stream);\n                writer.write(metadata,\n                        new IIOImage(sourceImage, null, metadata), writeParam);\n            } finally {\n                stream.close();\n            }\n            break;\n        }\n    }\n\n    public static void setDPI(IIOMetadata metadata, int DPI)\n            throws IIOInvalidTreeException {\n\n        double INCH_2_CM = 2.54;\n\n        // for PNG, it's dots per millimeter\n        double dotsPerMilli = 1.0 * DPI / 10 / INCH_2_CM;\n\n        IIOMetadataNode horiz = new IIOMetadataNode(\"HorizontalPixelSize\");\n        horiz.setAttribute(\"value\", Double.toString(dotsPerMilli));\n\n        IIOMetadataNode vert = new IIOMetadataNode(\"VerticalPixelSize\");\n        vert.setAttribute(\"value\", Double.toString(dotsPerMilli));\n\n        IIOMetadataNode dim = new IIOMetadataNode(\"Dimension\");\n        dim.appendChild(horiz);\n        dim.appendChild(vert);\n\n        IIOMetadataNode root = new IIOMetadataNode(\"javax_imageio_1.0\");\n        root.appendChild(dim);\n\n        metadata.mergeTree(\"javax_imageio_1.0\", root);\n    }\n</code></pre>\n\n<p>When the code executes it creates an PNG file with 400 DPI and Disk Size of <strong>168 MB</strong>; this is too much.</p>\n\n<p>Is there any way or parameters I can use to save a smaller PNG?</p>\n\n<p>Before, I had a 1.20 GB TIFF file, and when I converted it to PNG using imagemagick at 400 DPI, the resulting file size was only 700 KB.</p>\n\n<p>So, I think I might be able to save the above file smaller.</p>\n\n<p><strong>Can pngj help me? Because I now have a png file which I can read in pngj library.</strong></p>\n"},{"tags":["java","swing","jpanel","transparency","jlist"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1650058522,"post_id":71888320,"comment_id":127034441,"body_markdown":"Swing doesn&#39;t support transparent color directly. Check out [Backgrounds With Transparency](https://tips4java.wordpress.com/2009/05/31/backgrounds-with-transparency/) for a solution.","body":"Swing doesn&#39;t support transparent color directly. Check out <a href=\"https://tips4java.wordpress.com/2009/05/31/backgrounds-with-transparency/\" rel=\"nofollow noreferrer\">Backgrounds With Transparency</a> for a solution."},{"owner":{"account_id":21769217,"reputation":130,"user_id":16072563,"display_name":"Equinox"},"score":0,"creation_date":1650074923,"post_id":71888320,"comment_id":127036902,"body_markdown":"@camickr They do support transparency with the setOpaque() method and a custom cell renderer that renders the list items transparently. Regardless this site doesn&#39;t seem to have the solution to my problem because I already have a transparent list it&#39;s just smearing because it&#39;s not being redrawn properly.","body":"@camickr They do support transparency with the setOpaque() method and a custom cell renderer that renders the list items transparently. Regardless this site doesn&#39;t seem to have the solution to my problem because I already have a transparent list it&#39;s just smearing because it&#39;s not being redrawn properly."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1650077793,"post_id":71888320,"comment_id":127037244,"body_markdown":"The setOpaque(...) method only supports full transparency at the component level. You are attempting to do transparent painting by using alpha values for your Color objects of your GradientPaint, which is NOT supported directly. The link you have been given explains why it doesn&#39;t work and shows how to implement transparency when using alpha values in your Color objects.","body":"The setOpaque(...) method only supports full transparency at the component level. You are attempting to do transparent painting by using alpha values for your Color objects of your GradientPaint, which is NOT supported directly. The link you have been given explains why it doesn&#39;t work and shows how to implement transparency when using alpha values in your Color objects."},{"owner":{"account_id":21769217,"reputation":130,"user_id":16072563,"display_name":"Equinox"},"score":0,"creation_date":1650079375,"post_id":71888320,"comment_id":127037417,"body_markdown":"@camickr No way, alright I was very skeptical that it would work but it worked perfectly! Thank you so much!","body":"@camickr No way, alright I was very skeptical that it would work but it worked perfectly! Thank you so much!"}],"answers":[{"tags":[],"owner":{"account_id":21769217,"reputation":130,"user_id":16072563,"display_name":"Equinox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650162671,"creation_date":1650162671,"answer_id":71898856,"question_id":71888320,"body_markdown":"The answer is to wrap the panel in a Container that is a sort of transparent.\r\n\r\n```java\r\npublic class AlphaContainer extends JComponent {\r\n\tprivate JComponent component;\r\n\r\n\tpublic AlphaContainer(JComponent component) {\r\n\t\tthis.component = component;\r\n\t\tsetLayout( new BorderLayout() );\r\n\t\tsetOpaque( false );\r\n\t\tcomponent.setOpaque( false );\r\n\t\tadd( component );\r\n\t}\r\n\r\n\t/**\r\n\t *  Paint the background using the background Color of the\r\n\t *  contained component\r\n\t */\r\n\t@Override\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\tg.setColor( component.getBackground() );\r\n\t\tg.fillRect(0, 0, getWidth(), getHeight());\r\n\t}\r\n}\r\n```\r\n","title":"Transparent JList smears when selecting elements or scrolling","body":"<p>The answer is to wrap the panel in a Container that is a sort of transparent.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AlphaContainer extends JComponent {\n    private JComponent component;\n\n    public AlphaContainer(JComponent component) {\n        this.component = component;\n        setLayout( new BorderLayout() );\n        setOpaque( false );\n        component.setOpaque( false );\n        add( component );\n    }\n\n    /**\n     *  Paint the background using the background Color of the\n     *  contained component\n     */\n    @Override\n    public void paintComponent(Graphics g) {\n        g.setColor( component.getBackground() );\n        g.fillRect(0, 0, getWidth(), getHeight());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21769217,"reputation":130,"user_id":16072563,"display_name":"Equinox"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71898856,"answer_count":1,"score":0,"last_activity_date":1650162671,"creation_date":1650052227,"question_id":71888320,"body_markdown":"I have a transparent JList and JScrollPanel on top of a gradient JPanel the code for each of those looks like this:\r\n\r\n    JPanel midPanel = new JPanel() {\r\n            protected void paintComponent(Graphics g) {\r\n                Paint p = new GradientPaint(0.0f, 0.0f, new Color(233, 220, 0, 0),\r\n                 getWidth(), getHeight(), new Color(239, 129, 91, 255), true);\r\n                Graphics2D g2d = (Graphics2D)g;\r\n                g2d.setPaint(p);\r\n                g2d.fillRect(0, 0, getWidth(), getHeight());\r\n            }\r\n        };\r\n\r\nList code\r\n\r\n        ArrayList&lt;String&gt; songs = new ArrayList&lt;&gt;(Arrays.asList(new String[] {elements...}));\r\n        \r\n        DefaultListModel&lt;String&gt; model = new DefaultListModel&lt;&gt;();\r\n        model.addAll(songs);\r\n\r\n        JList&lt;String&gt; songList = new JList&lt;String&gt;(model);\r\n\r\n        songList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\r\n        songList.setLayoutOrientation(JList.VERTICAL);\r\n        songList.setVisibleRowCount(-1);\r\n        songList.setOpaque(false);\r\n        songList.setCellRenderer(new TransparentListCellRenderer());\r\n\r\n        JScrollPane scroller = new JScrollPane(songList);\r\n        scroller.setPreferredSize(new Dimension(400, 250));\r\n        scroller.setOpaque(false);\r\n        scroller.getViewport().setOpaque(false);\r\n        scroller.setBorder(BorderFactory.createEmptyBorder());\r\n\r\n        midPanel.add(scroller);\r\n\r\nBefore anything is touched it looks like this:\r\n[![working image][1]][1]\r\n\r\n\r\nAnd after stuff gets selected or scrolling the elements of the list all smear and create this mess: [![Smeared Image][2]][2]\r\n\r\nDoes anyone know how to fix this? if I had to guess what was wrong it would be an issue with the gradient because the paintComponet() method is overridden so it&#39;s not getting redrawn properly but if that is the case I do not know how to fix it. Any help is much appreciated. \r\n\r\n  [1]: https://i.stack.imgur.com/76Iv4.png\r\n  [2]: https://i.stack.imgur.com/5fWtG.png","title":"Transparent JList smears when selecting elements or scrolling","body":"<p>I have a transparent JList and JScrollPanel on top of a gradient JPanel the code for each of those looks like this:</p>\n<pre><code>JPanel midPanel = new JPanel() {\n        protected void paintComponent(Graphics g) {\n            Paint p = new GradientPaint(0.0f, 0.0f, new Color(233, 220, 0, 0),\n             getWidth(), getHeight(), new Color(239, 129, 91, 255), true);\n            Graphics2D g2d = (Graphics2D)g;\n            g2d.setPaint(p);\n            g2d.fillRect(0, 0, getWidth(), getHeight());\n        }\n    };\n</code></pre>\n<p>List code</p>\n<pre><code>    ArrayList&lt;String&gt; songs = new ArrayList&lt;&gt;(Arrays.asList(new String[] {elements...}));\n    \n    DefaultListModel&lt;String&gt; model = new DefaultListModel&lt;&gt;();\n    model.addAll(songs);\n\n    JList&lt;String&gt; songList = new JList&lt;String&gt;(model);\n\n    songList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n    songList.setLayoutOrientation(JList.VERTICAL);\n    songList.setVisibleRowCount(-1);\n    songList.setOpaque(false);\n    songList.setCellRenderer(new TransparentListCellRenderer());\n\n    JScrollPane scroller = new JScrollPane(songList);\n    scroller.setPreferredSize(new Dimension(400, 250));\n    scroller.setOpaque(false);\n    scroller.getViewport().setOpaque(false);\n    scroller.setBorder(BorderFactory.createEmptyBorder());\n\n    midPanel.add(scroller);\n</code></pre>\n<p>Before anything is touched it looks like this:\n<a href=\"https://i.stack.imgur.com/76Iv4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/76Iv4.png\" alt=\"working image\" /></a></p>\n<p>And after stuff gets selected or scrolling the elements of the list all smear and create this mess: <a href=\"https://i.stack.imgur.com/5fWtG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5fWtG.png\" alt=\"Smeared Image\" /></a></p>\n<p>Does anyone know how to fix this? if I had to guess what was wrong it would be an issue with the gradient because the paintComponet() method is overridden so it's not getting redrawn properly but if that is the case I do not know how to fix it. Any help is much appreciated.</p>\n"},{"tags":["java","android","xml","frontend","progress-bar"],"comments":[{"owner":{"account_id":10454216,"reputation":594,"user_id":7706832,"display_name":"Maulik Togadiya"},"score":0,"creation_date":1650077624,"post_id":71889931,"comment_id":127037227,"body_markdown":"there are alredy existing lot&#39;s of lib for this kind of feature","body":"there are alredy existing lot&#39;s of lib for this kind of feature"},{"owner":{"account_id":11135455,"reputation":80,"user_id":8984764,"display_name":"Regn"},"score":0,"creation_date":1650099544,"post_id":71889931,"comment_id":127039957,"body_markdown":"@MaulikTogadiya I can&#39;t find suitable libs, do you have some recommendations for this?","body":"@MaulikTogadiya I can&#39;t find suitable libs, do you have some recommendations for this?"},{"owner":{"account_id":10454216,"reputation":594,"user_id":7706832,"display_name":"Maulik Togadiya"},"score":1,"creation_date":1650162239,"post_id":71889931,"comment_id":127050761,"body_markdown":"check out some of this use full lib:\n\nhttps://androidhiro.com/source/android/example/indicatorseekbar/5937\nhttps://github.com/zhou-you/EasySignSeekBar","body":"check out some of this use full lib:  <a href=\"https://androidhiro.com/source/android/example/indicatorseekbar/5937\" rel=\"nofollow noreferrer\">androidhiro.com/source/android/example/indicatorseekbar/5937</a> <a href=\"https://github.com/zhou-you/EasySignSeekBar\" rel=\"nofollow noreferrer\">github.com/zhou-you/EasySignSeekBar</a>"}],"answers":[{"tags":[],"owner":{"account_id":10454216,"reputation":594,"user_id":7706832,"display_name":"Maulik Togadiya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650162306,"creation_date":1650162306,"answer_id":71898836,"question_id":71889931,"body_markdown":"check out some of this use full lib:\r\n\r\n - https://androidhiro.com/source/android/example/indicatorseekbar/5937\r\n   \r\n - https://github.com/zhou-you/EasySignSeekBar","title":"Android Horizontal ProgressBar with a tooltip message to show the current state/progress","body":"<p>check out some of this use full lib:</p>\n<ul>\n<li><p><a href=\"https://androidhiro.com/source/android/example/indicatorseekbar/5937\" rel=\"nofollow noreferrer\">https://androidhiro.com/source/android/example/indicatorseekbar/5937</a></p>\n</li>\n<li><p><a href=\"https://github.com/zhou-you/EasySignSeekBar\" rel=\"nofollow noreferrer\">https://github.com/zhou-you/EasySignSeekBar</a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":11135455,"reputation":80,"user_id":8984764,"display_name":"Regn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71898836,"answer_count":1,"score":-1,"last_activity_date":1650162306,"creation_date":1650066661,"question_id":71889931,"body_markdown":"I want to create a horizontal progress bar, but with a tooltip floating on the top of it to show messages/display current progress based on the progress bar. \r\n\r\nHow can I achieve this? \r\n\r\n[![Progress Bar][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zz2K1.png\r\n\r\nThe result should be something like this, *I&#39;m sorry for the bad illustration, I was using Ms.Paint.\r\n\r\nAdditional: The message should be able to be changed dynamically from Java code.","title":"Android Horizontal ProgressBar with a tooltip message to show the current state/progress","body":"<p>I want to create a horizontal progress bar, but with a tooltip floating on the top of it to show messages/display current progress based on the progress bar.</p>\n<p>How can I achieve this?</p>\n<p><a href=\"https://i.stack.imgur.com/zz2K1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zz2K1.png\" alt=\"Progress Bar\" /></a></p>\n<p>The result should be something like this, *I'm sorry for the bad illustration, I was using Ms.Paint.</p>\n<p>Additional: The message should be able to be changed dynamically from Java code.</p>\n"},{"tags":["java","spring-boot","mapstruct"],"comments":[{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1650089443,"post_id":71890419,"comment_id":127038474,"body_markdown":"Do the Bird DTOs share some common parent? Where the lists are stored?","body":"Do the Bird DTOs share some common parent? Where the lists are stored?"}],"answers":[{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650130272,"creation_date":1650109302,"answer_id":71893572,"question_id":71890419,"body_markdown":"In both of your examples you show that you have a Mapper for a BirdDTO of some sorts. There are multiple approaches to your Problem.\r\n\r\n 1. Merge both mappers into one. They are related anyways. Then simply write usual java private methods in your mapper. These can be called in you @AfterMapping method. This way you prevent code duplications. The easiest way would be obviously to have the DTOs inheriting values.\r\n   \r\n        @Data\r\n        public class BirdDTOParent{\r\n        \tprivate Channel channel;\r\n        \t// fields shared by BirdViewDTO and BirdDashboardDTO\r\n        }\r\n\r\n        @Data\r\n        public class BirdViewDTO exntends BirdDTOParent{\r\n        \t// specific fields to BirdViewDTO \r\n        }\r\n\r\n        @Data\r\n        public class BirdDashboardDTO extends BirdDTOParent{\r\n        \t// specific fields to BirdDashboardDTO\t\r\n        }\r\n \r\n    And the method in you mapper:\r\n\r\n        @AfterMapping\r\n        default void customCodeBirdMapping(Bird source, @MappingTarget BirdDashboardDTO target) {\r\n           mappingHelper(source,target);\r\n        }\r\n\r\n        private void mappingHelper(Bird source, BirdDTOParent target) {\r\n\t\t  if (!source.getListTransmitter().isEmpty()) {\r\n\t            Transmitter trans = (source.getListTransmitter()\r\n\t                    .stream()\r\n\t                    .max(Comparator.comparing(Transmitter::getDateAttached)).get());\r\n\t            target.setChannel(trans.getChannel());\r\n\t            target.setChannelOffset(trans.getChannelOffset());\r\n\t        }\r\n\t\t    ...\r\n\t    }\r\n    If you dont want to do this then you can always cast during runtime. This is however much uglier. If the DTOs have so much in commen you should let the inherit the values\r\n\r\n        private void mappingHelper(Bird source, Object target) {\r\n\t    \tif (!source.getListTransmitter().isEmpty()) {\r\n\t            Transmitter trans = (source.getListTransmitter()\r\n\t                    .stream()\r\n\t                    .max(Comparator.comparing(Transmitter::getDateAttached)).get());\r\n\t        if(target instanceof BirdDashboardDTO ) {\r\n\t    \t    ((BirdDashboardDTO) target).setChannel(trans.getChannel());\r\n     \t        ((BirdDashboardDTO) target).setChannelOffset(trans.getChannelOffset());\t\r\n\t        } else if (target instanceof BirdViewDTO) {\r\n\t        \t((BirdViewDTO) target).setChannel(trans.getChannel());\r\n\t    \t    ((BirdViewDTO) target).setChannelOffset(trans.getChannelOffset());\r\n    \t    }\r\n\t        ...\r\n\t    }\r\n\r\n\r\n\r\n 2. You can have Mappers use the logic of other mappers.\r\n    \r\n        @Mapper(componentModel = &quot;spring&quot;, uses = {SomeOtherMapper.class})\r\n        public interface BirdMapper {\r\n\r\n    even functions you define with @Named annotations can then be used accross both the original and the &quot;using&quot; mapper\r\n  3. Use a static helper class or spring bean. Mapstruct allows you to have spring beans injected into your mappers. You have to changed your Mapper from an interface to an abstract class to achieve this https://stackoverflow.com/questions/38807415/mapstruct-how-can-i-inject-a-spring-dependency-in-the-generated-mapper-class. \r\n  \r\nI think the cleanest approach is the first one. But I guess that is up to you :)\r\n\r\n**EDIT**\r\n\r\nThe first approach can be further refined by creating a @AfterMapping Method for the Parent class and ad @AfterMapping for each child implementation\r\n\r\n    @Mapper(config = MappingConfig.class)\r\n    public interface BirdMapper {\r\n\r\n\r\n        BirdViewDTO entityToViewDTO(BirdEntity birdEntity);\r\n\r\n        BirdDashboardDTO entityToDashboardDTO(BirdEntity birdEntity);\r\n\r\n        @AfterMapping\r\n        default void mapParent(BirdEntity source, @MappingTarget BirdDTOParent target){\r\n            System.out.println(&quot;aaaaa&quot;);\r\n        }\r\n\r\n        @AfterMapping\r\n        default void mapViewDTO(BirdEntity source, @MappingTarget BirdViewDTO target){\r\n            System.out.println(&quot;bbbbbb&quot;);\r\n        }\r\n\r\n        @AfterMapping\r\n        default void mapDashboardDTO(BirdEntity source, @MappingTarget BirdDashboardDTO target){\r\n            System.out.println(&quot;cccccc&quot;);\r\n        }\r\n    }\r\n\r\nThe generated mapping file then looks like this\r\n\r\n    @Generated(\r\n    value = &quot;... mapstruct generated string ...&quot;,\r\n    date = &quot;... mapstruct generated string ...&quot;,\r\n    comments = &quot;... mapstruct generated string ...&quot;)\r\n    @Component\r\n    public class BirdMapperImpl implements BirdMapper {\r\n\r\n        @Override\r\n        public BirdViewDTO entityToViewDTO(BirdEntity birdEntity) {\r\n            if ( birdEntity == null ) {\r\n                return null;\r\n            }\r\n  \r\n            BirdViewDTO birdViewDTO = new BirdViewDTO();\r\n\r\n            birdViewDTO.setName( birdEntity.getName() );\r\n            birdViewDTO.setViewProperty( birdEntity.getViewProperty() );\r\n\r\n            mapParent( birdEntity, birdViewDTO );\r\n            mapViewDTO( birdEntity, birdViewDTO );\r\n\r\n            return birdViewDTO;\r\n        }\r\n\r\n        @Override\r\n        public BirdDashboardDTO entityToDashboardDTO(BirdEntity birdEntity) {\r\n            if ( birdEntity == null ) {\r\n                return null;\r\n            }\r\n\r\n            BirdDashboardDTO birdDashboardDTO = new BirdDashboardDTO();\r\n\r\n            birdDashboardDTO.setName( birdEntity.getName() );\r\n            birdDashboardDTO.setDashboardProperty( birdEntity.getDashboardProperty() );\r\n\r\n            mapParent( birdEntity, birdDashboardDTO );\r\n            mapDashboardDTO( birdEntity, birdDashboardDTO );\r\n\r\n            return birdDashboardDTO;\r\n        }\r\n    }\r\n","title":"Avoid DRY in @AfterMapping","body":"<p>In both of your examples you show that you have a Mapper for a BirdDTO of some sorts. There are multiple approaches to your Problem.</p>\n<ol>\n<li><p>Merge both mappers into one. They are related anyways. Then simply write usual java private methods in your mapper. These can be called in you @AfterMapping method. This way you prevent code duplications. The easiest way would be obviously to have the DTOs inheriting values.</p>\n<pre><code>@Data\npublic class BirdDTOParent{\n    private Channel channel;\n    // fields shared by BirdViewDTO and BirdDashboardDTO\n}\n\n@Data\npublic class BirdViewDTO exntends BirdDTOParent{\n    // specific fields to BirdViewDTO \n}\n\n@Data\npublic class BirdDashboardDTO extends BirdDTOParent{\n    // specific fields to BirdDashboardDTO  \n}\n</code></pre>\n<p>And the method in you mapper:</p>\n<pre><code>@AfterMapping\ndefault void customCodeBirdMapping(Bird source, @MappingTarget BirdDashboardDTO target) {\n   mappingHelper(source,target);\n}\n\nprivate void mappingHelper(Bird source, BirdDTOParent target) {\n  if (!source.getListTransmitter().isEmpty()) {\n        Transmitter trans = (source.getListTransmitter()\n                .stream()\n                .max(Comparator.comparing(Transmitter::getDateAttached)).get());\n        target.setChannel(trans.getChannel());\n        target.setChannelOffset(trans.getChannelOffset());\n    }\n    ...\n}\n</code></pre>\n<p>If you dont want to do this then you can always cast during runtime. This is however much uglier. If the DTOs have so much in commen you should let the inherit the values</p>\n<pre><code>private void mappingHelper(Bird source, Object target) {\n    if (!source.getListTransmitter().isEmpty()) {\n        Transmitter trans = (source.getListTransmitter()\n                .stream()\n                .max(Comparator.comparing(Transmitter::getDateAttached)).get());\n    if(target instanceof BirdDashboardDTO ) {\n        ((BirdDashboardDTO) target).setChannel(trans.getChannel());\n        ((BirdDashboardDTO) target).setChannelOffset(trans.getChannelOffset()); \n    } else if (target instanceof BirdViewDTO) {\n        ((BirdViewDTO) target).setChannel(trans.getChannel());\n        ((BirdViewDTO) target).setChannelOffset(trans.getChannelOffset());\n    }\n    ...\n}\n</code></pre>\n</li>\n<li><p>You can have Mappers use the logic of other mappers.</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, uses = {SomeOtherMapper.class})\npublic interface BirdMapper {\n</code></pre>\n<p>even functions you define with @Named annotations can then be used accross both the original and the &quot;using&quot; mapper</p>\n</li>\n<li><p>Use a static helper class or spring bean. Mapstruct allows you to have spring beans injected into your mappers. You have to changed your Mapper from an interface to an abstract class to achieve this <a href=\"https://stackoverflow.com/questions/38807415/mapstruct-how-can-i-inject-a-spring-dependency-in-the-generated-mapper-class\">Mapstruct - How can I inject a spring dependency in the Generated Mapper class</a>.</p>\n</li>\n</ol>\n<p>I think the cleanest approach is the first one. But I guess that is up to you :)</p>\n<p><strong>EDIT</strong></p>\n<p>The first approach can be further refined by creating a @AfterMapping Method for the Parent class and ad @AfterMapping for each child implementation</p>\n<pre><code>@Mapper(config = MappingConfig.class)\npublic interface BirdMapper {\n\n\n    BirdViewDTO entityToViewDTO(BirdEntity birdEntity);\n\n    BirdDashboardDTO entityToDashboardDTO(BirdEntity birdEntity);\n\n    @AfterMapping\n    default void mapParent(BirdEntity source, @MappingTarget BirdDTOParent target){\n        System.out.println(&quot;aaaaa&quot;);\n    }\n\n    @AfterMapping\n    default void mapViewDTO(BirdEntity source, @MappingTarget BirdViewDTO target){\n        System.out.println(&quot;bbbbbb&quot;);\n    }\n\n    @AfterMapping\n    default void mapDashboardDTO(BirdEntity source, @MappingTarget BirdDashboardDTO target){\n        System.out.println(&quot;cccccc&quot;);\n    }\n}\n</code></pre>\n<p>The generated mapping file then looks like this</p>\n<pre><code>@Generated(\nvalue = &quot;... mapstruct generated string ...&quot;,\ndate = &quot;... mapstruct generated string ...&quot;,\ncomments = &quot;... mapstruct generated string ...&quot;)\n@Component\npublic class BirdMapperImpl implements BirdMapper {\n\n    @Override\n    public BirdViewDTO entityToViewDTO(BirdEntity birdEntity) {\n        if ( birdEntity == null ) {\n            return null;\n        }\n\n        BirdViewDTO birdViewDTO = new BirdViewDTO();\n\n        birdViewDTO.setName( birdEntity.getName() );\n        birdViewDTO.setViewProperty( birdEntity.getViewProperty() );\n\n        mapParent( birdEntity, birdViewDTO );\n        mapViewDTO( birdEntity, birdViewDTO );\n\n        return birdViewDTO;\n    }\n\n    @Override\n    public BirdDashboardDTO entityToDashboardDTO(BirdEntity birdEntity) {\n        if ( birdEntity == null ) {\n            return null;\n        }\n\n        BirdDashboardDTO birdDashboardDTO = new BirdDashboardDTO();\n\n        birdDashboardDTO.setName( birdEntity.getName() );\n        birdDashboardDTO.setDashboardProperty( birdEntity.getDashboardProperty() );\n\n        mapParent( birdEntity, birdDashboardDTO );\n        mapDashboardDTO( birdEntity, birdDashboardDTO );\n\n        return birdDashboardDTO;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":343790,"reputation":10861,"user_id":675721,"accept_rate":75,"display_name":"Codebling"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650160649,"creation_date":1650160649,"answer_id":71898748,"question_id":71890419,"body_markdown":"### Perspective\r\nFor perspective, it may be worth watching [Dan Abramov&#39;s talk about the WET codebase](https://www.deconstructconf.com/2019/dan-abramov-the-wet-codebase). \r\n\r\n### To DRY or not to DRY\r\nWhen considering a refactor to deduplicate (**DRY** up) some code, one should ask themselves if the relevant code sections are *coincidentally* the same, or if they are *necessarily* the same. In your case, do your two bird classes share the same code *by definition*? If they don&#39;t, a small change may cause the two pieces of code to diverge, and if they have been merged/deduplicated/DRYed up then the DRY code ends up becoming monolithic, or must be split back out regardless. The two bird classes do appear to be the same by definition in your case, and thus are prime candidates for deduplication. In most cases, however, the two similar pieces of code are not exactly the same and the answer is not so clear-cut. \r\n\r\n### How to DRY\r\nWhen deduplicating code, be wary, as a class (or OOP in general) is a tool that can easily make everything look like a nail (to pervert [the old adage](https://en.wikipedia.org/wiki/Law_of_the_instrument)). In this case it may be tempting to introduce a common superclass, but a static utility function is likely more flexible and appropriate here. \r\n\r\n\r\n\r\n","title":"Avoid DRY in @AfterMapping","body":"<h3>Perspective</h3>\n<p>For perspective, it may be worth watching <a href=\"https://www.deconstructconf.com/2019/dan-abramov-the-wet-codebase\" rel=\"nofollow noreferrer\">Dan Abramov's talk about the WET codebase</a>.</p>\n<h3>To DRY or not to DRY</h3>\n<p>When considering a refactor to deduplicate (<strong>DRY</strong> up) some code, one should ask themselves if the relevant code sections are <em>coincidentally</em> the same, or if they are <em>necessarily</em> the same. In your case, do your two bird classes share the same code <em>by definition</em>? If they don't, a small change may cause the two pieces of code to diverge, and if they have been merged/deduplicated/DRYed up then the DRY code ends up becoming monolithic, or must be split back out regardless. The two bird classes do appear to be the same by definition in your case, and thus are prime candidates for deduplication. In most cases, however, the two similar pieces of code are not exactly the same and the answer is not so clear-cut.</p>\n<h3>How to DRY</h3>\n<p>When deduplicating code, be wary, as a class (or OOP in general) is a tool that can easily make everything look like a nail (to pervert <a href=\"https://en.wikipedia.org/wiki/Law_of_the_instrument\" rel=\"nofollow noreferrer\">the old adage</a>). In this case it may be tempting to introduce a common superclass, but a static utility function is likely more flexible and appropriate here.</p>\n"}],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":588,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1650160649,"creation_date":1650073330,"question_id":71890419,"body_markdown":"I have two MapStruct Mapping classes for the same Bird entity, with Methods (customCodeBirdMapping) that do almost the same thing but have slightly different return types.\r\n\r\n**BirdViewMapper**\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface BirdViewMapper {\r\n    \r\n    \r\n        @Mapping(source = &quot;bird.listHealthCheck&quot;, target = &quot;listHealthCheck&quot;)\r\n        BirdViewDTO birdToBirdViewDTO(Bird bird);\r\n    \r\n        @AfterMapping\r\n        default void customCodeBirdMapping(Bird source, @MappingTarget BirdViewDTO target) {\r\n    \r\n            if (!source.getListTransmitter().isEmpty()) {\r\n                Transmitter trans = (source.getListTransmitter()\r\n                        .stream()\r\n                        .max(Comparator.comparing(Transmitter::getDateAttached)).get());\r\n                target.setChannel(trans.getChannel());\r\n                target.setChannelOffset(trans.getChannelOffset());\r\n            }\r\n            if (!source.getListPIT().isEmpty()) {\r\n                PIT pit = (source.getListPIT()\r\n                        .stream()\r\n                        .max(Comparator.comparing(PIT::getDateInserted)).get());\r\n                target.setPitCode(pit.getCode());\r\n            }\r\n            if (!source.getListHealthCheck().isEmpty()) {\r\n                HealthCheck healthCheck = (source.getListHealthCheck()\r\n                        .stream()\r\n                        .max(Comparator.comparing(HealthCheck::getCatchDate)).get());\r\n                target.setDateLastHealthCheck(healthCheck.getCatchDate());\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n**BirdMapper**\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface BirdMapper {\r\n    \r\n        BirdDashboardDTO birdToBirdListDTO(Bird bird);\r\n    \r\n        @AfterMapping\r\n        default void customCodeBirdMapping(Bird source, @MappingTarget BirdDashboardDTO target) {\r\n    \r\n            if (!source.getListTransmitter().isEmpty()) {\r\n                Transmitter trans = (source.getListTransmitter()\r\n                        .stream()\r\n                        .max(Comparator.comparing(Transmitter::getDateAttached)).get());\r\n                target.setChannel(trans.getChannel());\r\n                target.setChannelOffset(trans.getChannelOffset());\r\n            }\r\n            if (!source.getListPIT().isEmpty()) {\r\n                PIT pit = (source.getListPIT()\r\n                        .stream()\r\n                        .max(Comparator.comparing(PIT::getDateInserted)).get());\r\n                target.setPitCode(pit.getCode());\r\n            }\r\n            if (!source.getListHealthCheck().isEmpty()) {\r\n                HealthCheck healthCheck = (source.getListHealthCheck()\r\n                        .stream()\r\n                        .max(Comparator.comparing(HealthCheck::getCatchDate)).get());\r\n                target.setDateLastHealthCheck(healthCheck.getCatchDate());\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nNotice that both BirdViewMapper and BirdMapper use an `@AfterMapping` to set the most recent value of some child entities but the return/target types are different.\r\n\r\nThe Bird DTOs are for different views, one for a list of birds (only a few fields) one for a view of a single bird many fields.\r\n\r\nI am breaking the DRY rule with the `customCodeBirdMapping` method on my mapper classes - is there a better way - a way to avoid the repetition?\r\n\r\n","title":"Avoid DRY in @AfterMapping","body":"<p>I have two MapStruct Mapping classes for the same Bird entity, with Methods (customCodeBirdMapping) that do almost the same thing but have slightly different return types.</p>\n<p><strong>BirdViewMapper</strong></p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface BirdViewMapper {\n\n\n    @Mapping(source = &quot;bird.listHealthCheck&quot;, target = &quot;listHealthCheck&quot;)\n    BirdViewDTO birdToBirdViewDTO(Bird bird);\n\n    @AfterMapping\n    default void customCodeBirdMapping(Bird source, @MappingTarget BirdViewDTO target) {\n\n        if (!source.getListTransmitter().isEmpty()) {\n            Transmitter trans = (source.getListTransmitter()\n                    .stream()\n                    .max(Comparator.comparing(Transmitter::getDateAttached)).get());\n            target.setChannel(trans.getChannel());\n            target.setChannelOffset(trans.getChannelOffset());\n        }\n        if (!source.getListPIT().isEmpty()) {\n            PIT pit = (source.getListPIT()\n                    .stream()\n                    .max(Comparator.comparing(PIT::getDateInserted)).get());\n            target.setPitCode(pit.getCode());\n        }\n        if (!source.getListHealthCheck().isEmpty()) {\n            HealthCheck healthCheck = (source.getListHealthCheck()\n                    .stream()\n                    .max(Comparator.comparing(HealthCheck::getCatchDate)).get());\n            target.setDateLastHealthCheck(healthCheck.getCatchDate());\n        }\n\n    }\n\n}\n</code></pre>\n<p><strong>BirdMapper</strong></p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface BirdMapper {\n\n    BirdDashboardDTO birdToBirdListDTO(Bird bird);\n\n    @AfterMapping\n    default void customCodeBirdMapping(Bird source, @MappingTarget BirdDashboardDTO target) {\n\n        if (!source.getListTransmitter().isEmpty()) {\n            Transmitter trans = (source.getListTransmitter()\n                    .stream()\n                    .max(Comparator.comparing(Transmitter::getDateAttached)).get());\n            target.setChannel(trans.getChannel());\n            target.setChannelOffset(trans.getChannelOffset());\n        }\n        if (!source.getListPIT().isEmpty()) {\n            PIT pit = (source.getListPIT()\n                    .stream()\n                    .max(Comparator.comparing(PIT::getDateInserted)).get());\n            target.setPitCode(pit.getCode());\n        }\n        if (!source.getListHealthCheck().isEmpty()) {\n            HealthCheck healthCheck = (source.getListHealthCheck()\n                    .stream()\n                    .max(Comparator.comparing(HealthCheck::getCatchDate)).get());\n            target.setDateLastHealthCheck(healthCheck.getCatchDate());\n        }\n\n    }\n}\n</code></pre>\n<p>Notice that both BirdViewMapper and BirdMapper use an <code>@AfterMapping</code> to set the most recent value of some child entities but the return/target types are different.</p>\n<p>The Bird DTOs are for different views, one for a list of birds (only a few fields) one for a view of a single bird many fields.</p>\n<p>I am breaking the DRY rule with the <code>customCodeBirdMapping</code> method on my mapper classes - is there a better way - a way to avoid the repetition?</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1650149113,"post_id":71897950,"comment_id":127049393,"body_markdown":"where is the error? where are your spring security debug logs?","body":"where is the error? where are your spring security debug logs?"},{"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"score":0,"creation_date":1650149652,"post_id":71897950,"comment_id":127049477,"body_markdown":"@Toerktumlare I am so sorry, it&#39;s just late, and I am sitting on this for 4 hours now. I just added the error and I don&#39;t have any debug logs because I currently don&#39;t use them.","body":"@Toerktumlare I am so sorry, it&#39;s just late, and I am sitting on this for 4 hours now. I just added the error and I don&#39;t have any debug logs because I currently don&#39;t use them."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1650149727,"post_id":71897950,"comment_id":127049486,"body_markdown":"then please lerarn how to use them, how to enable them before you ask on stack overflow.","body":"then please lerarn how to use them, how to enable them before you ask on stack overflow."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1650149904,"post_id":71897950,"comment_id":127049507,"body_markdown":"do you have spring mvc on your classpath?","body":"do you have spring mvc on your classpath?"},{"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"score":0,"creation_date":1650150138,"post_id":71897950,"comment_id":127049533,"body_markdown":"@Toerktumlare Sorry, I can&#39;t post the complete debugging logs because I am getting this error on Stackoverflow(\nBody is limited to 30000 characters; you entered 95589.), but I am going to try to paste everything from the debugging logs in there, because a lot are duplicates","body":"@Toerktumlare Sorry, I can&#39;t post the complete debugging logs because I am getting this error on Stackoverflow( Body is limited to 30000 characters; you entered 95589.), but I am going to try to paste everything from the debugging logs in there, because a lot are duplicates"},{"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"score":0,"creation_date":1650150673,"post_id":71897950,"comment_id":127049594,"body_markdown":"Sorry, @Toerktumlare, I don&#39;t fully understand your question about MVC. What do you mean by &quot;on my classpath&quot;? ^^ After my understanding this is using the MVC Pattern because there is a view and I can change the view over my Controller(/RestController). And the view is changing(or should change) from login to whatever the RestController returns, which is based on the URL. But I am new to Spring Security and Spring in general, so you can tell me if I am wrong. But I still think, I should have the right to ask a question here, even if I am not a pro at Spring Security","body":"Sorry, @Toerktumlare, I don&#39;t fully understand your question about MVC. What do you mean by &quot;on my classpath&quot;? ^^ After my understanding this is using the MVC Pattern because there is a view and I can change the view over my Controller(/RestController). And the view is changing(or should change) from login to whatever the RestController returns, which is based on the URL. But I am new to Spring Security and Spring in general, so you can tell me if I am wrong. But I still think, I should have the right to ask a question here, even if I am not a pro at Spring Security"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1650155697,"post_id":71897950,"comment_id":127050185,"body_markdown":"what is expected before you ask https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users if you dont understand what im asking, then you should google and read up on what classpath is and means. The log you posted does not contain the error message. You must understand that its very hard for us to solve problems unless we have the full picture, full logs, or a running example. Your logs you posted does not contain the error message so its basically impossible for us to follow the code execution. Good luck with your problem","body":"what is expected before you ask <a href=\"https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users\" title=\"how much research effort is expected of stack overflow users\">meta.stackoverflow.com/questions/261592/&hellip;</a> if you dont understand what im asking, then you should google and read up on what classpath is and means. The log you posted does not contain the error message. You must understand that its very hard for us to solve problems unless we have the full picture, full logs, or a running example. Your logs you posted does not contain the error message so its basically impossible for us to follow the code execution. Good luck with your problem"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1650156157,"post_id":71897950,"comment_id":127050216,"body_markdown":"stack overflow is a last resort, you ask here when you have googled everything, learnt everything about your problem, debugged your problem, read the logs, followed the code, read all about all the errors. When you havnt found an answer after a week, you ask here. Because then you are asking someone that has done all that, someone that has read everything, spent all their time on solving problems for FREE, to just give you an answer? asking on stack overflow taking up someones time shouldn&#39;t be taken lightly, its a Q&amp;A site, not a forum. You can ask, but no one owes you an answer remember that","body":"stack overflow is a last resort, you ask here when you have googled everything, learnt everything about your problem, debugged your problem, read the logs, followed the code, read all about all the errors. When you havnt found an answer after a week, you ask here. Because then you are asking someone that has done all that, someone that has read everything, spent all their time on solving problems for FREE, to just give you an answer? asking on stack overflow taking up someones time shouldn&#39;t be taken lightly, its a Q&amp;A site, not a forum. You can ask, but no one owes you an answer remember that"}],"answers":[{"tags":[],"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650160349,"creation_date":1650159119,"answer_id":71898681,"question_id":71897950,"body_markdown":"You get this error, because you did not fully configure Spring MVC, namely error handling part (and probably others).\r\n\r\nChain of events is as follows:\r\n1. Call API and get 403 forbidden resource\r\n`2022-04-17 00:58:48.803 DEBUG 12924 --- [nio-8080-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /admin] with attributes [hasRole(&#39;ROLE_ADMIN&#39;)]\r\n2022-04-17 00:58:48.803 DEBUG 12924 --- [nio-8080-exec-6] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code`\r\n\r\n2. Spring redirects to `/error` view:\r\n`Request received for GET &#39;/error&#39;:\r\norg.apache.catalina.core.ApplicationHttpRequest@1f38c9b6\r\nservletPath:/error`\r\n\r\n3. Here something happens (it was not found, or something is missing), it leads to another error -&gt; and here is when exception happens:\r\n`javax.servlet.ServletException: Circular view path [error]: would dispatch back to the current handler URL [/error] again. Check your ViewResolver setup! (Hint: This may be the result of an unspecified view, due to default view name generation.)`\r\n\r\nSolution:\r\n1. Try to search by &quot;springboot mvc set up white lable error page&quot;.\r\n2. And also check why you get 403 status in the first place, as according to logs, you logged in as admin user. Please, read about spring security adding `ROLE_` prefix. Most probably, in the DB it has to be `ROLE_ADMIN` and in the code `hasRole(&#39;ADMIN&#39;)`\r\n\r\nHope, it helped","title":"Why am I getting a &quot;Circular View Path Error&quot;?","body":"<p>You get this error, because you did not fully configure Spring MVC, namely error handling part (and probably others).</p>\n<p>Chain of events is as follows:</p>\n<ol>\n<li><p>Call API and get 403 forbidden resource\n<code>2022-04-17 00:58:48.803 DEBUG 12924 --- [nio-8080-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /admin] with attributes [hasRole('ROLE_ADMIN')] 2022-04-17 00:58:48.803 DEBUG 12924 --- [nio-8080-exec-6] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code</code></p>\n</li>\n<li><p>Spring redirects to <code>/error</code> view:\n<code>Request received for GET '/error': org.apache.catalina.core.ApplicationHttpRequest@1f38c9b6 servletPath:/error</code></p>\n</li>\n<li><p>Here something happens (it was not found, or something is missing), it leads to another error -&gt; and here is when exception happens:\n<code>javax.servlet.ServletException: Circular view path [error]: would dispatch back to the current handler URL [/error] again. Check your ViewResolver setup! (Hint: This may be the result of an unspecified view, due to default view name generation.)</code></p>\n</li>\n</ol>\n<p>Solution:</p>\n<ol>\n<li>Try to search by &quot;springboot mvc set up white lable error page&quot;.</li>\n<li>And also check why you get 403 status in the first place, as according to logs, you logged in as admin user. Please, read about spring security adding <code>ROLE_</code> prefix. Most probably, in the DB it has to be <code>ROLE_ADMIN</code> and in the code <code>hasRole('ADMIN')</code></li>\n</ol>\n<p>Hope, it helped</p>\n"}],"owner":{"account_id":22990091,"reputation":293,"user_id":17115716,"display_name":"Gabriel"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":605,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71898681,"answer_count":1,"score":0,"last_activity_date":1650160349,"creation_date":1650148523,"question_id":71897950,"body_markdown":"I am getting a &quot;Circular View Path Error&quot; but I don&#39;t know why. If I am understanding it correctly this error occurs when you are stuck in a infinite loop. But I don&#39;t see an infinite Loop in my code. I googled the error, and tested every solution I found, but nothing worked. \r\n\r\nMyUserDetails:\r\n```\r\npackage de.gabriel.vertretungsplan.models;\r\n\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class MyUserDetails implements UserDetails {\r\n\r\n    private String userName;\r\n    private String password;\r\n    private boolean active;\r\n    private List&lt;GrantedAuthority&gt; authorities;\r\n\r\n    public MyUserDetails(User user) {\r\n        this.userName = user.getUserName();\r\n        this.password = user.getPassword();\r\n        this.active = user.isActive();\r\n        this.authorities = Arrays.stream(user.getRoles().split(&quot;,&quot;))\r\n                .map(SimpleGrantedAuthority::new)\r\n                .collect(Collectors.toList());\r\n        System.out.println(userName);\r\n        System.out.println(password);\r\n        System.out.println(active);\r\n        System.out.println(authorities);\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return authorities;\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return userName;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return active;\r\n    }\r\n}\r\n```\r\nUser:\r\n```\r\npackage de.gabriel.vertretungsplan.models;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table(name = &quot;lehrer&quot;, schema = &quot;public&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int id;\r\n    private String userName;\r\n    private String password;\r\n    private boolean active;\r\n    private String roles;\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getUserName() {\r\n        return userName;\r\n    }\r\n\r\n    public void setUserName(String userName) {\r\n        this.userName = userName;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public boolean isActive() {\r\n        return active;\r\n    }\r\n\r\n    public void setActive(boolean active) {\r\n        this.active = active;\r\n    }\r\n\r\n    public String getRoles() {\r\n        return roles;\r\n    }\r\n\r\n    public void setRoles(String roles) {\r\n        this.roles = roles;\r\n    }\r\n}\r\n```\r\n\r\nRest Controller/ HomeResource:\r\n```\r\npackage de.gabriel.vertretungsplan;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class HomeResource {\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String home(){\r\n        return (&quot;&lt;h1&gt;Hier wird der Vertretungsplan einsehbar sein&lt;/h1&gt;&quot;);\r\n    }\r\n\r\n    @GetMapping(&quot;/lehrer&quot;)\r\n    public String lehrer(){\r\n        return (&quot;&lt;h1&gt;Hier wird das Formular einsehbar sein&lt;/h1&gt;&quot;);\r\n    }\r\n\r\n    @GetMapping(&quot;/admin&quot;)\r\n    public String admin(){\r\n        return (&quot;&lt;h1&gt;Hier wird die Admin &#220;bersicht einsehbar sein&lt;/h1&gt;&quot;);\r\n    }\r\n\r\n}\r\n```\r\nMyUserDetailsService:\r\n```\r\npackage de.gabriel.vertretungsplan;\r\n\r\nimport de.gabriel.vertretungsplan.models.MyUserDetails;\r\nimport de.gabriel.vertretungsplan.models.User;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class MyUserDetailsService implements UserDetailsService {\r\n\r\n    @Autowired\r\n    UserRepository userRepository;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String userName) throws UsernameNotFoundException {\r\n       Optional&lt;User&gt; user = userRepository.findByUserName(userName);\r\n\r\n       user.orElseThrow(() -&gt; new UsernameNotFoundException(&quot;Username &quot; + userName + &quot; not found!&quot;));\r\n\r\n       return user.map(MyUserDetails::new).get();\r\n    }\r\n\r\n}\r\n```\r\nUser Repository:\r\n```\r\npackage de.gabriel.vertretungsplan;\r\n\r\nimport de.gabriel.vertretungsplan.models.User;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport java.util.Optional;\r\n\r\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n    Optional&lt;User&gt; findByUserName(String userName);\r\n}\r\n```\r\nSecurity Configuration:\r\n```\r\npackage de.gabriel.vertretungsplan;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.NoOpPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    UserDetailsService userDetailsService;\r\n\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n         auth.userDetailsService(userDetailsService).passwordEncoder(getPasswordEncoder());\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n                .antMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .antMatchers(&quot;/lehrer&quot;).hasAnyRole(&quot;ADMIN&quot;,&quot;LEHRER&quot;)\r\n                .antMatchers(&quot;/&quot;).permitAll()\r\n                .and().formLogin();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder getPasswordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n}\r\n```\r\nAnd finally, this is my main:\r\n```\r\npackage de.gabriel.vertretungsplan;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\n@EnableJpaRepositories(basePackageClasses = UserRepository.class)\r\npublic class VertretungsplanApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(VertretungsplanApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\nI don&#39;t think, the errors origin can be in the database, but if it is, [here][1] is the contents of the &quot;lehrer&quot; table in the database &quot;vertretungsplan&quot;:\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/99GOw.png\r\n\r\nHere is the error log:\r\n```\r\n2022-04-17 00:50:57.562 ERROR 14740 --- [nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] threw exception\r\n\r\njavax.servlet.ServletException: Circular view path [error]: would dispatch back to the current handler URL [/error] again. Check your ViewResolver setup! (Hint: This may be the result of an unspecified view, due to default view name generation.)\r\n\tat org.springframework.web.servlet.view.InternalResourceView.prepareForRendering(InternalResourceView.java:210) ~[spring-webmvc-5.3.18.jar:5.3.18]\r\n\tat org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:148) ~[spring-webmvc-5.3.18.jar:5.3.18]\r\n\tat org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316) ~[spring-webmvc-5.3.18.jar:5.3.18]\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401) ~[spring-webmvc-5.3.18.jar:5.3.18]\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145) ~[spring-webmvc-5.3.18.jar:5.3.18]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084) ~[spring-webmvc-5.3.18.jar:5.3.18]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.18.jar:5.3.18]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.18.jar:5.3.18]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.18.jar:5.3.18]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.60.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.18.jar:5.3.18]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.60.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:80) ~[spring-boot-2.6.6.jar:2.6.6]\r\n\tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:70) ~[spring-boot-2.6.6.jar:2.6.6]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:106) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:87) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.18.jar:5.3.18]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:237) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:223) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.18.jar:5.3.18]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.18.jar:5.3.18]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.18.jar:5.3.18]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.2.jar:5.6.2]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.18.jar:5.3.18]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.18.jar:5.3.18]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.18.jar:5.3.18]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.18.jar:5.3.18]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.18.jar:5.3.18]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\nHere are the debug logs(they are too long, so I posted the longs of when the error happend):\r\n```\r\n2022-04-17 00:58:48.395 DEBUG 12924 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /login\r\n2022-04-17 00:58:48.395 DEBUG 12924 --- [nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\nHibernate: \r\n    select\r\n        user0_.id as id1_0_,\r\n        user0_.active as active2_0_,\r\n        user0_.password as password3_0_,\r\n        user0_.roles as roles4_0_,\r\n        user0_.user_name as user_nam5_0_ \r\n    from\r\n        public.lehrer user0_ \r\n    where\r\n        user0_.user_name=?\r\nadmin\r\n$2a$12$E8STVE26N/QpoL90VfoOAuFRnYvbfzHKlbGRe.KVOMYCqKtDKNK2G\r\ntrue\r\n[ADMIN]\r\n2022-04-17 00:58:48.796 DEBUG 12924 --- [nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\r\n2022-04-17 00:58:48.797 DEBUG 12924 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from CD2D5F40C901F8A7CF32826E28A596C9\r\n2022-04-17 00:58:48.797 DEBUG 12924 --- [nio-8080-exec-4] o.s.s.w.csrf.CsrfAuthenticationStrategy  : Replaced CSRF Token\r\n2022-04-17 00:58:48.798 DEBUG 12924 --- [nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=de.gabriel.vertretungsplan.models.MyUserDetails@69c46690, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD2D5F40C901F8A7CF32826E28A596C9], Granted Authorities=[ADMIN]]\r\n2022-04-17 00:58:48.798 DEBUG 12924 --- [nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/admin\r\n2022-04-17 00:58:48.798 DEBUG 12924 --- [nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=de.gabriel.vertretungsplan.models.MyUserDetails@69c46690, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD2D5F40C901F8A7CF32826E28A596C9], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@35a28abb]\r\n2022-04-17 00:58:48.798 DEBUG 12924 --- [nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=de.gabriel.vertretungsplan.models.MyUserDetails@69c46690, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD2D5F40C901F8A7CF32826E28A596C9], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@35a28abb]\r\n2022-04-17 00:58:48.798 DEBUG 12924 --- [nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n2022-04-17 00:58:48.801  INFO 12924 --- [nio-8080-exec-6] Spring Security Debugger                 : \r\n\r\n************************************************************\r\n\r\nRequest received for GET &#39;/admin&#39;:\r\n\r\norg.apache.catalina.connector.RequestFacade@328dbcd1\r\n\r\nservletPath:/admin\r\npathInfo:null\r\nheaders: \r\nhost: localhost:8080\r\nconnection: keep-alive\r\ncache-control: max-age=0\r\nupgrade-insecure-requests: 1\r\nuser-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36\r\naccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\r\nsec-fetch-site: same-origin\r\nsec-fetch-mode: navigate\r\nsec-fetch-user: ?1\r\nsec-fetch-dest: document\r\nsec-ch-ua: &quot; Not A;Brand&quot;;v=&quot;99&quot;, &quot;Chromium&quot;;v=&quot;100&quot;, &quot;Google Chrome&quot;;v=&quot;100&quot;\r\nsec-ch-ua-mobile: ?0\r\nsec-ch-ua-platform: &quot;Windows&quot;\r\nreferer: http://localhost:8080/login\r\naccept-encoding: gzip, deflate, br\r\naccept-language: de-DE,de;q=0.9,en-US;q=0.8,en;q=0.7\r\ncookie: Webstorm-bca5ba46=692b9f6e-b03a-4cb4-8435-ea3fef371fc4; JSESSIONID=A90C1A49C3CF4D7943EE0ABBD989B1D4\r\n\r\n\r\nSecurity filter chain: [\r\n  WebAsyncManagerIntegrationFilter\r\n  SecurityContextPersistenceFilter\r\n  HeaderWriterFilter\r\n  CsrfFilter\r\n  LogoutFilter\r\n  UsernamePasswordAuthenticationFilter\r\n  DefaultLoginPageGeneratingFilter\r\n  DefaultLogoutPageGeneratingFilter\r\n  RequestCacheAwareFilter\r\n  SecurityContextHolderAwareRequestFilter\r\n  AnonymousAuthenticationFilter\r\n  SessionManagementFilter\r\n  ExceptionTranslationFilter\r\n  FilterSecurityInterceptor\r\n]\r\n\r\n\r\n************************************************************\r\n\r\n\r\n2022-04-17 00:58:48.802 DEBUG 12924 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /admin\r\n2022-04-17 00:58:48.802 DEBUG 12924 --- [nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=de.gabriel.vertretungsplan.models.MyUserDetails@69c46690, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD2D5F40C901F8A7CF32826E28A596C9], Granted Authorities=[ADMIN]]]\r\n2022-04-17 00:58:48.802 DEBUG 12924 --- [nio-8080-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=de.gabriel.vertretungsplan.models.MyUserDetails@69c46690, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD2D5F40C901F8A7CF32826E28A596C9], Granted Authorities=[ADMIN]]]\r\n2022-04-17 00:58:48.802 DEBUG 12924 --- [nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8080/admin\r\n2022-04-17 00:58:48.803 DEBUG 12924 --- [nio-8080-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /admin] with attributes [hasRole(&#39;ROLE_ADMIN&#39;)]\r\n2022-04-17 00:58:48.803 DEBUG 12924 --- [nio-8080-exec-6] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code\r\n2022-04-17 00:58:48.803 DEBUG 12924 --- [nio-8080-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n2022-04-17 00:58:48.805  INFO 12924 --- [nio-8080-exec-6] Spring Security Debugger                 : \r\n\r\n************************************************************\r\n\r\nRequest received for GET &#39;/error&#39;:\r\n\r\norg.apache.catalina.core.ApplicationHttpRequest@1f38c9b6\r\n\r\nservletPath:/error\r\npathInfo:null\r\nheaders: \r\nhost: localhost:8080\r\nconnection: keep-alive\r\ncache-control: max-age=0\r\nupgrade-insecure-requests: 1\r\nuser-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36\r\naccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\r\nsec-fetch-site: same-origin\r\nsec-fetch-mode: navigate\r\nsec-fetch-user: ?1\r\nsec-fetch-dest: document\r\nsec-ch-ua: &quot; Not A;Brand&quot;;v=&quot;99&quot;, &quot;Chromium&quot;;v=&quot;100&quot;, &quot;Google Chrome&quot;;v=&quot;100&quot;\r\nsec-ch-ua-mobile: ?0\r\nsec-ch-ua-platform: &quot;Windows&quot;\r\nreferer: http://localhost:8080/login\r\naccept-encoding: gzip, deflate, br\r\naccept-language: de-DE,de;q=0.9,en-US;q=0.8,en;q=0.7\r\ncookie: Webstorm-bca5ba46=692b9f6e-b03a-4cb4-8435-ea3fef371fc4; JSESSIONID=A90C1A49C3CF4D7943EE0ABBD989B1D4\r\n\r\n\r\nSecurity filter chain: [\r\n  WebAsyncManagerIntegrationFilter\r\n  SecurityContextPersistenceFilter\r\n  HeaderWriterFilter\r\n  CsrfFilter\r\n  LogoutFilter\r\n  UsernamePasswordAuthenticationFilter\r\n  DefaultLoginPageGeneratingFilter\r\n  DefaultLogoutPageGeneratingFilter\r\n  RequestCacheAwareFilter\r\n  SecurityContextHolderAwareRequestFilter\r\n  AnonymousAuthenticationFilter\r\n  SessionManagementFilter\r\n  ExceptionTranslationFilter\r\n  FilterSecurityInterceptor\r\n]\r\n\r\n\r\n************************************************************\r\n```","title":"Why am I getting a &quot;Circular View Path Error&quot;?","body":"<p>I am getting a &quot;Circular View Path Error&quot; but I don't know why. If I am understanding it correctly this error occurs when you are stuck in a infinite loop. But I don't see an infinite Loop in my code. I googled the error, and tested every solution I found, but nothing worked.</p>\n<p>MyUserDetails:</p>\n<pre><code>package de.gabriel.vertretungsplan.models;\n\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class MyUserDetails implements UserDetails {\n\n    private String userName;\n    private String password;\n    private boolean active;\n    private List&lt;GrantedAuthority&gt; authorities;\n\n    public MyUserDetails(User user) {\n        this.userName = user.getUserName();\n        this.password = user.getPassword();\n        this.active = user.isActive();\n        this.authorities = Arrays.stream(user.getRoles().split(&quot;,&quot;))\n                .map(SimpleGrantedAuthority::new)\n                .collect(Collectors.toList());\n        System.out.println(userName);\n        System.out.println(password);\n        System.out.println(active);\n        System.out.println(authorities);\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return authorities;\n    }\n\n    @Override\n    public String getPassword() {\n        return password;\n    }\n\n    @Override\n    public String getUsername() {\n        return userName;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return active;\n    }\n}\n</code></pre>\n<p>User:</p>\n<pre><code>package de.gabriel.vertretungsplan.models;\n\nimport javax.persistence.*;\n\n@Entity\n@Table(name = &quot;lehrer&quot;, schema = &quot;public&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n    private String userName;\n    private String password;\n    private boolean active;\n    private String roles;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getUserName() {\n        return userName;\n    }\n\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public boolean isActive() {\n        return active;\n    }\n\n    public void setActive(boolean active) {\n        this.active = active;\n    }\n\n    public String getRoles() {\n        return roles;\n    }\n\n    public void setRoles(String roles) {\n        this.roles = roles;\n    }\n}\n</code></pre>\n<p>Rest Controller/ HomeResource:</p>\n<pre><code>package de.gabriel.vertretungsplan;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class HomeResource {\n\n    @GetMapping(&quot;/&quot;)\n    public String home(){\n        return (&quot;&lt;h1&gt;Hier wird der Vertretungsplan einsehbar sein&lt;/h1&gt;&quot;);\n    }\n\n    @GetMapping(&quot;/lehrer&quot;)\n    public String lehrer(){\n        return (&quot;&lt;h1&gt;Hier wird das Formular einsehbar sein&lt;/h1&gt;&quot;);\n    }\n\n    @GetMapping(&quot;/admin&quot;)\n    public String admin(){\n        return (&quot;&lt;h1&gt;Hier wird die Admin Übersicht einsehbar sein&lt;/h1&gt;&quot;);\n    }\n\n}\n</code></pre>\n<p>MyUserDetailsService:</p>\n<pre><code>package de.gabriel.vertretungsplan;\n\nimport de.gabriel.vertretungsplan.models.MyUserDetails;\nimport de.gabriel.vertretungsplan.models.User;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport java.util.Optional;\n\n@Service\npublic class MyUserDetailsService implements UserDetailsService {\n\n    @Autowired\n    UserRepository userRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String userName) throws UsernameNotFoundException {\n       Optional&lt;User&gt; user = userRepository.findByUserName(userName);\n\n       user.orElseThrow(() -&gt; new UsernameNotFoundException(&quot;Username &quot; + userName + &quot; not found!&quot;));\n\n       return user.map(MyUserDetails::new).get();\n    }\n\n}\n</code></pre>\n<p>User Repository:</p>\n<pre><code>package de.gabriel.vertretungsplan;\n\nimport de.gabriel.vertretungsplan.models.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport java.util.Optional;\n\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n    Optional&lt;User&gt; findByUserName(String userName);\n}\n</code></pre>\n<p>Security Configuration:</p>\n<pre><code>package de.gabriel.vertretungsplan;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.NoOpPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    UserDetailsService userDetailsService;\n\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n         auth.userDetailsService(userDetailsService).passwordEncoder(getPasswordEncoder());\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                .antMatchers(&quot;/admin&quot;).hasRole(&quot;ADMIN&quot;)\n                .antMatchers(&quot;/lehrer&quot;).hasAnyRole(&quot;ADMIN&quot;,&quot;LEHRER&quot;)\n                .antMatchers(&quot;/&quot;).permitAll()\n                .and().formLogin();\n    }\n\n    @Bean\n    public PasswordEncoder getPasswordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n}\n</code></pre>\n<p>And finally, this is my main:</p>\n<pre><code>package de.gabriel.vertretungsplan;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\n@EnableJpaRepositories(basePackageClasses = UserRepository.class)\npublic class VertretungsplanApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(VertretungsplanApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>I don't think, the errors origin can be in the database, but if it is, <a href=\"https://i.stack.imgur.com/99GOw.png\" rel=\"nofollow noreferrer\">here</a> is the contents of the &quot;lehrer&quot; table in the database &quot;vertretungsplan&quot;:</p>\n<p>Here is the error log:</p>\n<pre><code>2022-04-17 00:50:57.562 ERROR 14740 --- [nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] threw exception\n\njavax.servlet.ServletException: Circular view path [error]: would dispatch back to the current handler URL [/error] again. Check your ViewResolver setup! (Hint: This may be the result of an unspecified view, due to default view name generation.)\n    at org.springframework.web.servlet.view.InternalResourceView.prepareForRendering(InternalResourceView.java:210) ~[spring-webmvc-5.3.18.jar:5.3.18]\n    at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:148) ~[spring-webmvc-5.3.18.jar:5.3.18]\n    at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316) ~[spring-webmvc-5.3.18.jar:5.3.18]\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401) ~[spring-webmvc-5.3.18.jar:5.3.18]\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145) ~[spring-webmvc-5.3.18.jar:5.3.18]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084) ~[spring-webmvc-5.3.18.jar:5.3.18]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.18.jar:5.3.18]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.18.jar:5.3.18]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.18.jar:5.3.18]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.60.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.18.jar:5.3.18]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.60.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:80) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:70) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:106) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:87) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:237) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:223) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.6.2.jar:5.6.2]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102) ~[spring-web-5.3.18.jar:5.3.18]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>Here are the debug logs(they are too long, so I posted the longs of when the error happend):</p>\n<pre><code>2022-04-17 00:58:48.395 DEBUG 12924 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /login\n2022-04-17 00:58:48.395 DEBUG 12924 --- [nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\nHibernate: \n    select\n        user0_.id as id1_0_,\n        user0_.active as active2_0_,\n        user0_.password as password3_0_,\n        user0_.roles as roles4_0_,\n        user0_.user_name as user_nam5_0_ \n    from\n        public.lehrer user0_ \n    where\n        user0_.user_name=?\nadmin\n$2a$12$E8STVE26N/QpoL90VfoOAuFRnYvbfzHKlbGRe.KVOMYCqKtDKNK2G\ntrue\n[ADMIN]\n2022-04-17 00:58:48.796 DEBUG 12924 --- [nio-8080-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user\n2022-04-17 00:58:48.797 DEBUG 12924 --- [nio-8080-exec-4] .s.ChangeSessionIdAuthenticationStrategy : Changed session id from CD2D5F40C901F8A7CF32826E28A596C9\n2022-04-17 00:58:48.797 DEBUG 12924 --- [nio-8080-exec-4] o.s.s.w.csrf.CsrfAuthenticationStrategy  : Replaced CSRF Token\n2022-04-17 00:58:48.798 DEBUG 12924 --- [nio-8080-exec-4] w.a.UsernamePasswordAuthenticationFilter : Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=de.gabriel.vertretungsplan.models.MyUserDetails@69c46690, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD2D5F40C901F8A7CF32826E28A596C9], Granted Authorities=[ADMIN]]\n2022-04-17 00:58:48.798 DEBUG 12924 --- [nio-8080-exec-4] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/admin\n2022-04-17 00:58:48.798 DEBUG 12924 --- [nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=de.gabriel.vertretungsplan.models.MyUserDetails@69c46690, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD2D5F40C901F8A7CF32826E28A596C9], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@35a28abb]\n2022-04-17 00:58:48.798 DEBUG 12924 --- [nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=de.gabriel.vertretungsplan.models.MyUserDetails@69c46690, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD2D5F40C901F8A7CF32826E28A596C9], Granted Authorities=[ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@35a28abb]\n2022-04-17 00:58:48.798 DEBUG 12924 --- [nio-8080-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n2022-04-17 00:58:48.801  INFO 12924 --- [nio-8080-exec-6] Spring Security Debugger                 : \n\n************************************************************\n\nRequest received for GET '/admin':\n\norg.apache.catalina.connector.RequestFacade@328dbcd1\n\nservletPath:/admin\npathInfo:null\nheaders: \nhost: localhost:8080\nconnection: keep-alive\ncache-control: max-age=0\nupgrade-insecure-requests: 1\nuser-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36\naccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\nsec-fetch-site: same-origin\nsec-fetch-mode: navigate\nsec-fetch-user: ?1\nsec-fetch-dest: document\nsec-ch-ua: &quot; Not A;Brand&quot;;v=&quot;99&quot;, &quot;Chromium&quot;;v=&quot;100&quot;, &quot;Google Chrome&quot;;v=&quot;100&quot;\nsec-ch-ua-mobile: ?0\nsec-ch-ua-platform: &quot;Windows&quot;\nreferer: http://localhost:8080/login\naccept-encoding: gzip, deflate, br\naccept-language: de-DE,de;q=0.9,en-US;q=0.8,en;q=0.7\ncookie: Webstorm-bca5ba46=692b9f6e-b03a-4cb4-8435-ea3fef371fc4; JSESSIONID=A90C1A49C3CF4D7943EE0ABBD989B1D4\n\n\nSecurity filter chain: [\n  WebAsyncManagerIntegrationFilter\n  SecurityContextPersistenceFilter\n  HeaderWriterFilter\n  CsrfFilter\n  LogoutFilter\n  UsernamePasswordAuthenticationFilter\n  DefaultLoginPageGeneratingFilter\n  DefaultLogoutPageGeneratingFilter\n  RequestCacheAwareFilter\n  SecurityContextHolderAwareRequestFilter\n  AnonymousAuthenticationFilter\n  SessionManagementFilter\n  ExceptionTranslationFilter\n  FilterSecurityInterceptor\n]\n\n\n************************************************************\n\n\n2022-04-17 00:58:48.802 DEBUG 12924 --- [nio-8080-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /admin\n2022-04-17 00:58:48.802 DEBUG 12924 --- [nio-8080-exec-6] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=de.gabriel.vertretungsplan.models.MyUserDetails@69c46690, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD2D5F40C901F8A7CF32826E28A596C9], Granted Authorities=[ADMIN]]]\n2022-04-17 00:58:48.802 DEBUG 12924 --- [nio-8080-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=de.gabriel.vertretungsplan.models.MyUserDetails@69c46690, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD2D5F40C901F8A7CF32826E28A596C9], Granted Authorities=[ADMIN]]]\n2022-04-17 00:58:48.802 DEBUG 12924 --- [nio-8080-exec-6] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8080/admin\n2022-04-17 00:58:48.803 DEBUG 12924 --- [nio-8080-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /admin] with attributes [hasRole('ROLE_ADMIN')]\n2022-04-17 00:58:48.803 DEBUG 12924 --- [nio-8080-exec-6] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code\n2022-04-17 00:58:48.803 DEBUG 12924 --- [nio-8080-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n2022-04-17 00:58:48.805  INFO 12924 --- [nio-8080-exec-6] Spring Security Debugger                 : \n\n************************************************************\n\nRequest received for GET '/error':\n\norg.apache.catalina.core.ApplicationHttpRequest@1f38c9b6\n\nservletPath:/error\npathInfo:null\nheaders: \nhost: localhost:8080\nconnection: keep-alive\ncache-control: max-age=0\nupgrade-insecure-requests: 1\nuser-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36\naccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9\nsec-fetch-site: same-origin\nsec-fetch-mode: navigate\nsec-fetch-user: ?1\nsec-fetch-dest: document\nsec-ch-ua: &quot; Not A;Brand&quot;;v=&quot;99&quot;, &quot;Chromium&quot;;v=&quot;100&quot;, &quot;Google Chrome&quot;;v=&quot;100&quot;\nsec-ch-ua-mobile: ?0\nsec-ch-ua-platform: &quot;Windows&quot;\nreferer: http://localhost:8080/login\naccept-encoding: gzip, deflate, br\naccept-language: de-DE,de;q=0.9,en-US;q=0.8,en;q=0.7\ncookie: Webstorm-bca5ba46=692b9f6e-b03a-4cb4-8435-ea3fef371fc4; JSESSIONID=A90C1A49C3CF4D7943EE0ABBD989B1D4\n\n\nSecurity filter chain: [\n  WebAsyncManagerIntegrationFilter\n  SecurityContextPersistenceFilter\n  HeaderWriterFilter\n  CsrfFilter\n  LogoutFilter\n  UsernamePasswordAuthenticationFilter\n  DefaultLoginPageGeneratingFilter\n  DefaultLogoutPageGeneratingFilter\n  RequestCacheAwareFilter\n  SecurityContextHolderAwareRequestFilter\n  AnonymousAuthenticationFilter\n  SessionManagementFilter\n  ExceptionTranslationFilter\n  FilterSecurityInterceptor\n]\n\n\n************************************************************\n</code></pre>\n"},{"tags":["java","r","tabulizer"],"comments":[{"owner":{"account_id":8796229,"reputation":63180,"user_id":6574038,"accept_rate":95,"display_name":"jay.sf"},"score":0,"creation_date":1639589730,"post_id":70367168,"comment_id":124389513,"body_markdown":"Which OS are you talking about? Have you considered my [old answer](https://stackoverflow.com/a/44147228/6574038)?","body":"Which OS are you talking about? Have you considered my <a href=\"https://stackoverflow.com/a/44147228/6574038\">old answer</a>?"},{"owner":{"account_id":23273773,"reputation":55,"user_id":17358236,"display_name":"lwilliams"},"score":0,"creation_date":1639603721,"post_id":70367168,"comment_id":124394355,"body_markdown":"I am on Mac OS 10.13.6, and R 4.0.1. Tabulizer is no longer available to download by using install.packages, but I took a pretty similar approach by installing rJava first and then tabulizer from GitHub.","body":"I am on Mac OS 10.13.6, and R 4.0.1. Tabulizer is no longer available to download by using install.packages, but I took a pretty similar approach by installing rJava first and then tabulizer from GitHub."},{"owner":{"account_id":8796229,"reputation":63180,"user_id":6574038,"accept_rate":95,"display_name":"jay.sf"},"score":0,"creation_date":1639637007,"post_id":70367168,"comment_id":124400936,"body_markdown":"My [answer](https://stackoverflow.com/a/44147228/6574038) doesn&#39;t use `install.packages`, though. ;)","body":"My <a href=\"https://stackoverflow.com/a/44147228/6574038\">answer</a> doesn&#39;t use <code>install.packages</code>, though. ;)"},{"owner":{"account_id":15912544,"reputation":884,"user_id":11482110,"display_name":"ava"},"score":0,"creation_date":1699971267,"post_id":70367168,"comment_id":136595496,"body_markdown":"I get the same error. Could you solve this somehow?","body":"I get the same error. Could you solve this somehow?"}],"owner":{"account_id":23273773,"reputation":55,"user_id":17358236,"display_name":"lwilliams"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":833,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1650159567,"creation_date":1639585988,"question_id":70367168,"body_markdown":"I am trying to extract tables from pdfs in R using tabulizer, and keep getting this error when I use extract_tables.\r\n\r\n```Error in .jcall(&quot;RJavaTools&quot;, &quot;Ljava/lang/Object;&quot;, &quot;invokeMethod&quot;, cl, : java.lang.IllegalAccessException: class RJavaTools cannot access a member of class java.util.ArrayList$Itr (in module java.base) with modifiers &quot;public&quot;```\r\n\r\nI have seen this question asked before and am aware that it is likely a dependency issue, but am unsure about how to fix that. I installed Maven and that hasn&#39;t seemed to work.","title":"Trying to resolve Java issue when running Tabulizer in R","body":"<p>I am trying to extract tables from pdfs in R using tabulizer, and keep getting this error when I use extract_tables.</p>\n<p><code>Error in .jcall(&quot;RJavaTools&quot;, &quot;Ljava/lang/Object;&quot;, &quot;invokeMethod&quot;, cl, : java.lang.IllegalAccessException: class RJavaTools cannot access a member of class java.util.ArrayList$Itr (in module java.base) with modifiers &quot;public&quot;</code></p>\n<p>I have seen this question asked before and am aware that it is likely a dependency issue, but am unsure about how to fix that. I installed Maven and that hasn't seemed to work.</p>\n"},{"tags":["java","spring","amazon-web-services","spring-boot"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1649448791,"post_id":71800306,"comment_id":126887276,"body_markdown":"Why have you mixed `@ConfigurationProperties` and `@Value`? The two are separate mechanisms for binding properties to a class. You also don&#39;t need to declare `application.properties` as a property source. It&#39;s a Spring Boot default so it&#39;ll work out of the box.","body":"Why have you mixed <code>@ConfigurationProperties</code> and <code>@Value</code>? The two are separate mechanisms for binding properties to a class. You also don&#39;t need to declare <code>application.properties</code> as a property source. It&#39;s a Spring Boot default so it&#39;ll work out of the box."},{"owner":{"account_id":3480040,"reputation":180,"user_id":2912358,"accept_rate":62,"display_name":"I2obiN"},"score":0,"creation_date":1649457687,"post_id":71800306,"comment_id":126889102,"body_markdown":"https://www.baeldung.com/spring-value-annotation &quot;Naturally, we&#39;ll need a properties file to define the values we want to inject with the ```@Value``` annotation. And so, we&#39;ll first need to define a ```@PropertySource``` in our configuration class — with the properties file name.&quot; that gave me the impression they were to be used together. So I don&#39;t need to use ```@Value```s?","body":"<a href=\"https://www.baeldung.com/spring-value-annotation\" rel=\"nofollow noreferrer\">baeldung.com/spring-value-annotation</a> &quot;Naturally, we&#39;ll need a properties file to define the values we want to inject with the <code>@Value</code> annotation. And so, we&#39;ll first need to define a <code>@PropertySource</code> in our configuration class — with the properties file name.&quot; that gave me the impression they were to be used together. So I don&#39;t need to use <code>@Value</code>s?"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1649483209,"post_id":71800306,"comment_id":126891917,"body_markdown":"You should use either `@Value` or `@ConfigurationProperties`, not both. In either case, as you are using Spring Boot, you don’t need `@PropertySource` for `application.properties`. If you decide to use `@ConfiigurationProperties` you should read https://docs.spring.io/spring-boot/docs/2.6.x/reference/htmlsingle/#features.external-config.typesafe-configuration-properties first and modify your code accordingly","body":"You should use either <code>@Value</code> or <code>@ConfigurationProperties</code>, not both. In either case, as you are using Spring Boot, you don’t need <code>@PropertySource</code> for <code>application.properties</code>. If you decide to use <code>@ConfiigurationProperties</code> you should read <a href=\"https://docs.spring.io/spring-boot/docs/2.6.x/reference/htmlsingle/#features.external-config.typesafe-configuration-properties\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.6.x/reference/htmlsingle/&hellip;</a> first and modify your code accordingly"},{"owner":{"account_id":3480040,"reputation":180,"user_id":2912358,"accept_rate":62,"display_name":"I2obiN"},"score":0,"creation_date":1649525111,"post_id":71800306,"comment_id":126899902,"body_markdown":"Okay thank you. I have modified and retested in both question and code. Unfortunately I still get an empty body when I post to the actuator/refresh and the value remains unchanged after modification on the fly when printed from either main or the refresh listener","body":"Okay thank you. I have modified and retested in both question and code. Unfortunately I still get an empty body when I post to the actuator/refresh and the value remains unchanged after modification on the fly when printed from either main or the refresh listener"},{"owner":{"account_id":3480040,"reputation":180,"user_id":2912358,"accept_rate":62,"display_name":"I2obiN"},"score":0,"creation_date":1649673979,"post_id":71800306,"comment_id":126927729,"body_markdown":"Have tried this both way and neither have worked. Completely stuck at this point","body":"Have tried this both way and neither have worked. Completely stuck at this point"},{"owner":{"account_id":3480040,"reputation":180,"user_id":2912358,"accept_rate":62,"display_name":"I2obiN"},"score":0,"creation_date":1649842021,"post_id":71800306,"comment_id":126975850,"body_markdown":"After rewriting this with just use of the @ConfigurationProperties I have this successfully refreshing the AWS parameter store values, but bizarrely the file properties remain unchanged. I fear I will never solve this and my solution will simply have to be redesigned to use the AWS parameter store entirely. So for anyone looking for a solution and happen to be using AWS, just use the parameter store. :/","body":"After rewriting this with just use of the @ConfigurationProperties I have this successfully refreshing the AWS parameter store values, but bizarrely the file properties remain unchanged. I fear I will never solve this and my solution will simply have to be redesigned to use the AWS parameter store entirely. So for anyone looking for a solution and happen to be using AWS, just use the parameter store. :/"}],"answers":[{"tags":[],"owner":{"account_id":9644032,"reputation":11,"user_id":7447261,"display_name":"Chetan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649826691,"creation_date":1649826691,"answer_id":71852185,"question_id":71800306,"body_markdown":"@I2obiN. As you have mentioned that ApplicationProperties is getting refreshed by Refresh Scopes, therefore actuator refresh is working properly. \r\n\r\nBut I noticed that you are using RefreshScope on main application class. IMO this actuator management/refresh will not restart application. You can try to create an extra method that reinitializes Camel Context.\r\nHope this helps!!\r\n \r\n[https://www.baeldung.com/java-restart-spring-boot-app#actuators-restart-endpoint][1]\r\n\r\n\r\n\r\n\r\n\r\n     \r\n\r\n\r\n  [1]: https://www.baeldung.com/java-restart-spring-boot-app#actuators-restart-endpoint","title":"Springboot Actuator Refresh does not reload @Value properties in @ConfigurationProperties","body":"<p>@I2obiN. As you have mentioned that ApplicationProperties is getting refreshed by Refresh Scopes, therefore actuator refresh is working properly.</p>\n<p>But I noticed that you are using RefreshScope on main application class. IMO this actuator management/refresh will not restart application. You can try to create an extra method that reinitializes Camel Context.\nHope this helps!!</p>\n<p><a href=\"https://www.baeldung.com/java-restart-spring-boot-app#actuators-restart-endpoint\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-restart-spring-boot-app#actuators-restart-endpoint</a></p>\n"},{"tags":[],"owner":{"account_id":19523782,"reputation":572,"user_id":14285021,"display_name":"Terry Sposato"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649957548,"creation_date":1649957548,"answer_id":71875617,"question_id":71800306,"body_markdown":"Have you tried a PropertiesConfiguration bean? See here: https://www.baeldung.com/spring-reloading-properties.\r\n\r\nOnce configured correctly, it should automatically read changes to your properties file and reload them. Also, there are some limitations that are mentioned in that article that you should be aware of.\r\n","title":"Springboot Actuator Refresh does not reload @Value properties in @ConfigurationProperties","body":"<p>Have you tried a PropertiesConfiguration bean? See here: <a href=\"https://www.baeldung.com/spring-reloading-properties\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-reloading-properties</a>.</p>\n<p>Once configured correctly, it should automatically read changes to your properties file and reload them. Also, there are some limitations that are mentioned in that article that you should be aware of.</p>\n"},{"tags":[],"owner":{"account_id":4475864,"reputation":457,"user_id":3641003,"accept_rate":83,"display_name":"Roe hit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650157858,"creation_date":1650121032,"answer_id":71894943,"question_id":71800306,"body_markdown":"You can invoke the refresh Actuator endpoint by sending an empty HTTP POST to the client&#39;s refresh endpoint: `http://localhost:8080/actuator/refresh` . Then you can confirm it worked by visiting the `http://localhost:8080/message` endpoint.\r\n\r\nAnd once you refresh, try to rebind immediately by calling the POST endpoint `http://localhost:8080/actuator/env`\r\nThis worked on a spring boot I tried and it reloads the values and you can see it in the stack trace.\r\n\r\nI tried doing a field in spring data source with the given payload to Rebind and it reloads Example as the value.\r\n\r\nPayload:\r\n\r\n    {&quot;name&quot;:&quot;spring.datasource.userName&quot;, &quot;value&quot;:&quot;Example&quot;}\r\n\r\n\r\nIn the application.properties, add the following \r\n\r\n    management.endpoint.env.post.enabled=true\r\n    management.endpoint.restart.enabled=true\r\n    endpoints.sensitive=true\r\n    endpoints.actuator.enabled=true\r\n    management.security.enabled=false \r\n    management.endpoints.web.exposure.include=*","title":"Springboot Actuator Refresh does not reload @Value properties in @ConfigurationProperties","body":"<p>You can invoke the refresh Actuator endpoint by sending an empty HTTP POST to the client's refresh endpoint: <code>http://localhost:8080/actuator/refresh</code> . Then you can confirm it worked by visiting the <code>http://localhost:8080/message</code> endpoint.</p>\n<p>And once you refresh, try to rebind immediately by calling the POST endpoint <code>http://localhost:8080/actuator/env</code>\nThis worked on a spring boot I tried and it reloads the values and you can see it in the stack trace.</p>\n<p>I tried doing a field in spring data source with the given payload to Rebind and it reloads Example as the value.</p>\n<p>Payload:</p>\n<pre><code>{&quot;name&quot;:&quot;spring.datasource.userName&quot;, &quot;value&quot;:&quot;Example&quot;}\n</code></pre>\n<p>In the application.properties, add the following</p>\n<pre><code>management.endpoint.env.post.enabled=true\nmanagement.endpoint.restart.enabled=true\nendpoints.sensitive=true\nendpoints.actuator.enabled=true\nmanagement.security.enabled=false \nmanagement.endpoints.web.exposure.include=*\n</code></pre>\n"}],"owner":{"account_id":3480040,"reputation":180,"user_id":2912358,"accept_rate":62,"display_name":"I2obiN"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10753,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1650157858,"creation_date":1649434825,"question_id":71800306,"body_markdown":"I have a springboot application that ingests an application.properties via @ConfigurationProperties and @PropertySource(&quot;classpath:application.properties&quot;). My desire is to reload these properties on the fly for the purposes of support. When I POST to ```http://localhost:8080/actuator/refresh``` I get a 200 OK response but the body is empty, which I think implies no @RefreshScopes have been refreshed but I&#39;m not sure. I have read and viewed most docs and SO while trying various things but haven&#39;t managed to reload a new value.\r\n\r\nHere is my app:\r\n\r\napplication.properties:\r\n```\r\n# suppress inspection &quot;UnusedProperty&quot; for whole file\r\n# the name of Camel\r\ncamel.springboot.name = IntegrationsCamel\r\n\r\n# how often to trigger the timer (millis)\r\nmyPeriod = 2000\r\n\r\nspring.main.allow-bean-definition-overriding=true\r\n\r\n# to turn off Camel info in (/actuator/info)\r\nmanagement.info.camel.enabled=false\r\n\r\n# to configure logging levels\r\nlogging.level.org.springframework = INFO\r\nlogging.level.org.apache.camel.spring.boot = INFO\r\nlogging.level.org.apache.camel.impl = DEBUG\r\nlogging.level.sample.camel = DEBUG\r\n\r\n# Environment\r\nintegration.env = DEV\r\nspring.application.name = integration\r\nspring.config.import=aws-parameterstore:\r\n\r\n# Client API Auth -- Set by Instance\r\nintegration.client.auth.key = tempclientkey\r\nintegration.client.auth.secret = tempclientsecret\r\n\r\n# Client API Credentials -- Set by Instance\r\nintegration.client.endpoint = https://127.0.0.2\r\nintegration.client.port = 6060\r\n\r\n# AWS Paramstore Config\r\naws.paramstore.enabled=true\r\naws.paramstore.prefix=/integration\r\naws.paramstore.defaultContext=application\r\naws.paramstore.profile-separator=_\r\n\r\n# AWS OAuth\r\ncloud.aws.credentials.instance-profile=true\r\ncloud.aws.credentials.profile-name=default\r\ncloud.aws.credentials.access-key=${AWS_ACCESS_KEY_ID}\r\ncloud.aws.credentials.secret-key=${AWS_SECRET_ACCESS_KEY}\r\n\r\n# Non EC2 vars (remove when running live)\r\ncloud.aws.stack.auto=false\r\ncloud.aws.region.static=eu-west-1\r\nAWS_EC2_METADATA_DISABLED=true\r\nlogging.level.com.amazonaws.util.EC2MetadataUtils=error\r\nlogging.level.com.amazonaws.internal.InstanceMetadataServiceResourceFetcher=error\r\n\r\n# DB Vars\r\nspring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\nspring.datasource.url=jdbc:sqlserver://${RDS_HOSTNAME:my-server-domain.com}:${RDS_PORT:1337};databaseName=${RDS_DB_NAME:MYDB}\r\nspring.datasource.username=${RDS_USERNAME:readuser}\r\nspring.datasource.password=${RDS_PASSWORD:${read_pass}}\r\nspring.jpa.properties.hibernate.default_schema=dbo\r\n\r\n# Actuator Management\r\nmanagement.endpoints.enabled-by-default=false\r\nmanagement.endpoint.refresh.enabled=true\r\nmanagement.endpoints.web.exposure.include=refresh\r\n```\r\n\r\nAll of these are successfully pulled in to the bean\r\n\r\n```\r\npackage com.Integration.Configuration;\r\n\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.cloud.context.config.annotation.RefreshScope;\r\nimport org.springframework.cloud.context.scope.refresh.RefreshScopeRefreshedEvent;\r\nimport org.springframework.context.annotation.PropertySource;\r\nimport org.springframework.context.event.EventListener;\r\n\r\n@Getter\r\n@Setter\r\n\r\n@RefreshScope\r\n@Configuration\r\npublic class ApplicationProperties {\r\n\r\n    @Value(&quot;${integration.env}&quot;)\r\n    private String env;\r\n\r\n    @Value(&quot;${spring.datasource.url}&quot;)\r\n    private String DB_URL;\r\n\r\n    @Value(&quot;${rds-username}&quot;)\r\n    private String DB_USERNAME;\r\n\r\n    @Value(&quot;${rds-password}&quot;)\r\n    private String DB_ENCRYPTED_PASSWORD;\r\n\r\n    @Value(&quot;${oauth2.key}&quot;)\r\n    private String OAuth2Key;\r\n\r\n    @Value(&quot;${oauth2.secret}&quot;)\r\n    private String OAuth2Secret;\r\n\r\n    @Value(&quot;${integration.client.endpoint}&quot;)\r\n    private String ClientAPIEndpoint;\r\n\r\n    @Value(&quot;${integration.client.port}&quot;)\r\n    private String ClientAPIPort;\r\n\r\n    @Value(&quot;${integration.client.auth.key}&quot;)\r\n    private String ClientAPIKey;\r\n\r\n    @Value(&quot;${integration.client.auth.secret}&quot;)\r\n    private String ClientAPISecret;\r\n\r\n    public ApplicationProperties() {}\r\n\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    @EventListener(RefreshScopeRefreshedEvent.class)\r\n    public void onRefresh(RefreshScopeRefreshedEvent event) {\r\n        // todo: Bug-#01 @RefreshScope actuator/refresh not updating @Values\r\n        System.out.println(this.ClientAPIEndpoint);\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe event listener fires without issue too and it will successfully print the value from application.properties. I have debugged main below and all values are populated without issue.\r\nI suspect the issue is here but I&#39;m not sure what I&#39;m doing wrong in main()\r\n\r\n```\r\npackage com.Integration;\r\n\r\nimport com.Integration.AutoLoader.RouteBuilderAutoLoader;\r\nimport com.Integration.Configuration.ApplicationProperties;\r\n\r\nimport com.Integration.Scheduler.TasksScheduler;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\n\r\nimport org.apache.camel.CamelContext;\r\nimport org.apache.camel.impl.DefaultCamelContext;\r\nimport org.springframework.scheduling.annotation.EnableScheduling;\r\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler;\r\n\r\nimport java.util.Objects;\r\n\r\n@SpringBootApplication\r\n@RefreshScope\r\n@EnableScheduling\r\npublic class Integration {\r\n\r\n\tpublic static String SERVER_ADDR;\r\n\r\n\tprotected static CamelContext context;\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t// Spring Boot App Entry\r\n\t\tConfigurableApplicationContext appContext = SpringApplication.run(Integration.class, args);\r\n\t\t// Get ApplicationProperties\r\n\t\tApplicationProperties properties = appContext.getBean(ApplicationProperties.class);\r\n\t\tSERVER_ADDR = (Objects.equals(properties.getEnv(), &quot;DEV&quot;)) ? &quot;0.0.0.0&quot; : &quot;localhost&quot;;\r\n\t\t// Start Camel Context Engine\r\n\t\tcontext = new DefaultCamelContext();\r\n\t\t// Feed Camel our defined routes &amp; start\r\n\t\tRouteBuilderAutoLoader.loadRoutes(context);\r\n\t\tcontext.start();\r\n\t}\r\n}\r\n```\r\n\r\nThe last thing I&#39;m unsure of is if I have the necessary dependencies or if I&#39;m missing something here.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!--suppress MavenPackageUpdate --&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.Integration&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Integration&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;Integration&lt;/name&gt;\r\n\t&lt;description&gt;Generic API Integration App&lt;/description&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.6.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;Hoxton.SR12&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.13.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.4.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.21&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;9.4.1.jre8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2021.0.1&lt;/version&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- AWS/Cloud --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-aws&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-aws-context&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-aws-parameter-store-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Camel 3.14.1 Latest LTS version --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-spring-boot-bom&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.14.1&lt;/version&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.14.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-core-languages&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.14.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-bean&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.14.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-rest&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.14.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-direct&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.14.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-netty-http&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.14.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-platform-http&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.14.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-management&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.14.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;camel-endpointdsl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.14.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;activemq-spring&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.12&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.3.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\t&lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n### Edit 12/04/2022\r\n\r\nCompletely redid my classes with ```@ConfigurationProperties```\r\n\r\nSo when I post to refresh the values in propertySource for AWS automatically update. So eg I change cobaltdlt to cobaltdlttest below, hit refresh, and then I can see the change when I query GET ```http://localhost:8080/actuator/env```\r\n\r\nSo the refresh is working but it&#39;s not reflective in the ```@Component``` beans even though the propertySource is updating. In fact the only beans it is working with are the AWS beans.\r\n\r\n[![Postman][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/27iTQ.png","title":"Springboot Actuator Refresh does not reload @Value properties in @ConfigurationProperties","body":"<p>I have a springboot application that ingests an application.properties via @ConfigurationProperties and @PropertySource(&quot;classpath:application.properties&quot;). My desire is to reload these properties on the fly for the purposes of support. When I POST to <code>http://localhost:8080/actuator/refresh</code> I get a 200 OK response but the body is empty, which I think implies no @RefreshScopes have been refreshed but I'm not sure. I have read and viewed most docs and SO while trying various things but haven't managed to reload a new value.</p>\n<p>Here is my app:</p>\n<p>application.properties:</p>\n<pre><code># suppress inspection &quot;UnusedProperty&quot; for whole file\n# the name of Camel\ncamel.springboot.name = IntegrationsCamel\n\n# how often to trigger the timer (millis)\nmyPeriod = 2000\n\nspring.main.allow-bean-definition-overriding=true\n\n# to turn off Camel info in (/actuator/info)\nmanagement.info.camel.enabled=false\n\n# to configure logging levels\nlogging.level.org.springframework = INFO\nlogging.level.org.apache.camel.spring.boot = INFO\nlogging.level.org.apache.camel.impl = DEBUG\nlogging.level.sample.camel = DEBUG\n\n# Environment\nintegration.env = DEV\nspring.application.name = integration\nspring.config.import=aws-parameterstore:\n\n# Client API Auth -- Set by Instance\nintegration.client.auth.key = tempclientkey\nintegration.client.auth.secret = tempclientsecret\n\n# Client API Credentials -- Set by Instance\nintegration.client.endpoint = https://127.0.0.2\nintegration.client.port = 6060\n\n# AWS Paramstore Config\naws.paramstore.enabled=true\naws.paramstore.prefix=/integration\naws.paramstore.defaultContext=application\naws.paramstore.profile-separator=_\n\n# AWS OAuth\ncloud.aws.credentials.instance-profile=true\ncloud.aws.credentials.profile-name=default\ncloud.aws.credentials.access-key=${AWS_ACCESS_KEY_ID}\ncloud.aws.credentials.secret-key=${AWS_SECRET_ACCESS_KEY}\n\n# Non EC2 vars (remove when running live)\ncloud.aws.stack.auto=false\ncloud.aws.region.static=eu-west-1\nAWS_EC2_METADATA_DISABLED=true\nlogging.level.com.amazonaws.util.EC2MetadataUtils=error\nlogging.level.com.amazonaws.internal.InstanceMetadataServiceResourceFetcher=error\n\n# DB Vars\nspring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.datasource.url=jdbc:sqlserver://${RDS_HOSTNAME:my-server-domain.com}:${RDS_PORT:1337};databaseName=${RDS_DB_NAME:MYDB}\nspring.datasource.username=${RDS_USERNAME:readuser}\nspring.datasource.password=${RDS_PASSWORD:${read_pass}}\nspring.jpa.properties.hibernate.default_schema=dbo\n\n# Actuator Management\nmanagement.endpoints.enabled-by-default=false\nmanagement.endpoint.refresh.enabled=true\nmanagement.endpoints.web.exposure.include=refresh\n</code></pre>\n<p>All of these are successfully pulled in to the bean</p>\n<pre><code>package com.Integration.Configuration;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.cloud.context.config.annotation.RefreshScope;\nimport org.springframework.cloud.context.scope.refresh.RefreshScopeRefreshedEvent;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.context.event.EventListener;\n\n@Getter\n@Setter\n\n@RefreshScope\n@Configuration\npublic class ApplicationProperties {\n\n    @Value(&quot;${integration.env}&quot;)\n    private String env;\n\n    @Value(&quot;${spring.datasource.url}&quot;)\n    private String DB_URL;\n\n    @Value(&quot;${rds-username}&quot;)\n    private String DB_USERNAME;\n\n    @Value(&quot;${rds-password}&quot;)\n    private String DB_ENCRYPTED_PASSWORD;\n\n    @Value(&quot;${oauth2.key}&quot;)\n    private String OAuth2Key;\n\n    @Value(&quot;${oauth2.secret}&quot;)\n    private String OAuth2Secret;\n\n    @Value(&quot;${integration.client.endpoint}&quot;)\n    private String ClientAPIEndpoint;\n\n    @Value(&quot;${integration.client.port}&quot;)\n    private String ClientAPIPort;\n\n    @Value(&quot;${integration.client.auth.key}&quot;)\n    private String ClientAPIKey;\n\n    @Value(&quot;${integration.client.auth.secret}&quot;)\n    private String ClientAPISecret;\n\n    public ApplicationProperties() {}\n\n    @SuppressWarnings(&quot;unused&quot;)\n    @EventListener(RefreshScopeRefreshedEvent.class)\n    public void onRefresh(RefreshScopeRefreshedEvent event) {\n        // todo: Bug-#01 @RefreshScope actuator/refresh not updating @Values\n        System.out.println(this.ClientAPIEndpoint);\n    }\n\n}\n</code></pre>\n<p>The event listener fires without issue too and it will successfully print the value from application.properties. I have debugged main below and all values are populated without issue.\nI suspect the issue is here but I'm not sure what I'm doing wrong in main()</p>\n<pre><code>package com.Integration;\n\nimport com.Integration.AutoLoader.RouteBuilderAutoLoader;\nimport com.Integration.Configuration.ApplicationProperties;\n\nimport com.Integration.Scheduler.TasksScheduler;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\n\nimport org.springframework.context.ConfigurableApplicationContext;\n\nimport org.apache.camel.CamelContext;\nimport org.apache.camel.impl.DefaultCamelContext;\nimport org.springframework.scheduling.annotation.EnableScheduling;\nimport org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler;\n\nimport java.util.Objects;\n\n@SpringBootApplication\n@RefreshScope\n@EnableScheduling\npublic class Integration {\n\n    public static String SERVER_ADDR;\n\n    protected static CamelContext context;\n\n    public static void main(String[] args) throws Exception {\n        // Spring Boot App Entry\n        ConfigurableApplicationContext appContext = SpringApplication.run(Integration.class, args);\n        // Get ApplicationProperties\n        ApplicationProperties properties = appContext.getBean(ApplicationProperties.class);\n        SERVER_ADDR = (Objects.equals(properties.getEnv(), &quot;DEV&quot;)) ? &quot;0.0.0.0&quot; : &quot;localhost&quot;;\n        // Start Camel Context Engine\n        context = new DefaultCamelContext();\n        // Feed Camel our defined routes &amp; start\n        RouteBuilderAutoLoader.loadRoutes(context);\n        context.start();\n    }\n}\n</code></pre>\n<p>The last thing I'm unsure of is if I have the necessary dependencies or if I'm missing something here.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!--suppress MavenPackageUpdate --&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.Integration&lt;/groupId&gt;\n    &lt;artifactId&gt;Integration&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;Integration&lt;/name&gt;\n    &lt;description&gt;Generic API Integration App&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;Hoxton.SR12&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.6.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;version&gt;2.6.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;5.2.4.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.21&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;9.4.1.jre8&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;2021.0.1&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- AWS/Cloud --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-aws&lt;/artifactId&gt;\n            &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-aws-context&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.awspring.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-aws-parameter-store-config&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Camel 3.14.1 Latest LTS version --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel.springboot&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-spring-boot-bom&lt;/artifactId&gt;\n            &lt;version&gt;3.14.1&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-core&lt;/artifactId&gt;\n            &lt;version&gt;3.14.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-core-languages&lt;/artifactId&gt;\n            &lt;version&gt;3.14.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-bean&lt;/artifactId&gt;\n            &lt;version&gt;3.14.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-rest&lt;/artifactId&gt;\n            &lt;version&gt;3.14.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-direct&lt;/artifactId&gt;\n            &lt;version&gt;3.14.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-netty-http&lt;/artifactId&gt;\n            &lt;version&gt;3.14.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-platform-http&lt;/artifactId&gt;\n            &lt;version&gt;3.14.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-management&lt;/artifactId&gt;\n            &lt;version&gt;3.14.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n            &lt;artifactId&gt;camel-endpointdsl&lt;/artifactId&gt;\n            &lt;version&gt;3.14.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n            &lt;artifactId&gt;activemq-spring&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.12&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;version&gt;4.3.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<h3>Edit 12/04/2022</h3>\n<p>Completely redid my classes with <code>@ConfigurationProperties</code></p>\n<p>So when I post to refresh the values in propertySource for AWS automatically update. So eg I change cobaltdlt to cobaltdlttest below, hit refresh, and then I can see the change when I query GET <code>http://localhost:8080/actuator/env</code></p>\n<p>So the refresh is working but it's not reflective in the <code>@Component</code> beans even though the propertySource is updating. In fact the only beans it is working with are the AWS beans.</p>\n<p><a href=\"https://i.stack.imgur.com/27iTQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/27iTQ.png\" alt=\"Postman\" /></a></p>\n"},{"tags":["java","android","android-fragments","android-recyclerview","android-adapter"],"answers":[{"tags":[],"owner":{"account_id":23655286,"reputation":261,"user_id":17683676,"display_name":"Sumit Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647501854,"creation_date":1647495073,"answer_id":71507473,"question_id":71505253,"body_markdown":"You can use below code for update recycler view in screen rotation.\r\n\r\n    @Override\r\n    public void onConfigurationChanged(@NonNull Configuration newConfig) {\r\n    \r\n        super.onConfigurationChanged(newConfig);\r\n    \r\n        if(adapter!=null){\r\n            adapter.notifyDataSetChanged();\r\n        }\r\n    }\r\n\r\nCall `setRetainInstance(true)` in either of `onCreate()`, `onCreateView()` or `onActivityCreated()` methods.\r\n\r\n\r\n\r\n\r\n","title":"Update recyclerview item from background thread after changing configuration","body":"<p>You can use below code for update recycler view in screen rotation.</p>\n<pre><code>@Override\npublic void onConfigurationChanged(@NonNull Configuration newConfig) {\n\n    super.onConfigurationChanged(newConfig);\n\n    if(adapter!=null){\n        adapter.notifyDataSetChanged();\n    }\n}\n</code></pre>\n<p>Call <code>setRetainInstance(true)</code> in either of <code>onCreate()</code>, <code>onCreateView()</code> or <code>onActivityCreated()</code> methods.</p>\n"},{"tags":[],"owner":{"account_id":14623653,"reputation":173,"user_id":10561553,"display_name":"Keshav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649963564,"creation_date":1649963564,"answer_id":71876583,"question_id":71505253,"body_markdown":"Async task by default work on background thread, we cannot update our ui from background thread it&#39;s used for intensive works such as network calls etc. Please try running a \r\n\r\n    runOnUiThread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                // WORK on UI thread here\r\n            }\r\n        });\r\nstatement in your async task&#39;s onPostExecute method because it indicates your background processing is completed. put code that update views inside this run() method","title":"Update recyclerview item from background thread after changing configuration","body":"<p>Async task by default work on background thread, we cannot update our ui from background thread it's used for intensive works such as network calls etc. Please try running a</p>\n<pre><code>runOnUiThread(new Runnable() {\n        @Override\n        public void run() {\n            // WORK on UI thread here\n        }\n    });\n</code></pre>\n<p>statement in your async task's onPostExecute method because it indicates your background processing is completed. put code that update views inside this run() method</p>\n"},{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650155736,"creation_date":1649983681,"answer_id":71878968,"question_id":71505253,"body_markdown":"`AsyncTask` is deprecated since API level 30. It has issues especially for configuration changes [per documentation:][1]\r\n\r\n&gt; AsyncTask was intended to enable proper and easy use of the UI thread.\r\n&gt; However, the most common use case was for integrating into UI, and\r\n&gt; that would cause Context leaks, missed callbacks, or crashes on\r\n&gt; configuration changes.\r\n\r\nAnd because of these issues it shouldn&#39;t be used in long running tasks.\r\n\r\n&gt; AsyncTasks should ideally be used for short operations (a few seconds\r\n&gt; at the most.) If you need to keep threads running for long periods of\r\n&gt; time, it is highly recommended you use the various APIs provided by\r\n&gt; the java.util.concurrent package such as Executor, ThreadPoolExecutor\r\n&gt; and FutureTask.\r\n\r\n**Issue:**\r\n----\r\nWhen you run tasks in `doInBackground`, when the configuration changes, the activity is recreated (i.e. the old activity is destroyed, and a new activity is created); but the `AsyncTask` that was attached to the old activity continues to run (causing memory leaks); and so later on when `onPostExecute()` is ready to publish the results to the UI thread; it will release them to the destroyed activity rather than the current activity displayed on the screen; and the user won&#39;t see them consequently. Therefore the result is dismissed in your case.\r\n\r\nSo, it&#39;s recommended to see other background threading alternatives such as `Executors` either with callbacks to update the UI or with `ViewModel` (which survive configuration changes) &amp; `LiveData` to publish the results to the the UI.\r\n\r\n\r\nSolution With Executor\r\n----\r\n\r\n - Here `Executor` is provided:\r\n\r\n\r\nListener:\r\n\r\n    interface ProgressListener {\r\n        void onPostExecute();\r\n\r\n        void onProgressUpdate(int value);\r\n    }\r\n\t\r\nFragment:\t\r\n\r\n```\r\n\tListAdapter adapter = new ListAdapter(activity, items, new ProgressListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onPostExecute() {\r\n\t\t\t\t((ListAdapter.ViewHolder) Objects.requireNonNull(recyclerView.\r\n\t\t\t\t\t\tfindViewHolderForLayoutPosition(0))).name.setText(&quot;task is finished&quot;);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onProgressUpdate(int value) {\r\n\t\t\t\trecyclerView.post(() -&gt;\r\n\t\t\t\t\t\t((ListAdapter.ViewHolder) Objects.requireNonNull(recyclerView.findViewHolderForLayoutPosition(0))).\r\n\t\t\t\t\t\t\t\tname.setText(String.valueOf(value)));\r\n\t\t\t\trecyclerView.invalidate();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tmRecyclerView.setAdapter(adapter);\r\n```\t\t\r\n\t\t\r\nAdapter: just use single thread executor:\r\n\r\n```\r\npublic class ListAdapter extends RecyclerView.Adapter&lt;ListAdapter.ViewHolder&gt; {\r\n\r\n\tProgressListener progressListener;\r\n\r\n    public ListAdapter(Context context, ArrayList&lt;String&gt; items, ProgressListener listener) {\r\n        mInflater = LayoutInflater.from(context);\r\n        this.items = items;\r\n        progressListener = listener;\r\n    }\r\n\t\r\n\t\r\n\t// ........... CODE IS OMITTED\r\n\t\r\n\t\r\n\t// ViewHolder constructor\r\n\t\r\n        public ViewHolder(@NonNull View itemView, ListAdapter mAdapter) {\r\n            super(itemView);\r\n            this.mAdapter = mAdapter;\r\n            this.name = itemView.findViewById(R.id.file_name);\r\n            itemView.setOnClickListener(v -&gt; {\r\n                Executors.newSingleThreadExecutor().execute(() -&gt; {\r\n                    for (int i = 0; i &lt;= 30; i++) {\r\n                        progressListener.onProgressUpdate(i);\r\n                        SystemClock.sleep(500);\r\n                    }\r\n                    progressListener.onPostExecute();\r\n                });\r\n            });\r\n        }\r\n\t\r\n\r\n}\t\r\n```\r\n\r\nWith AsyncTask\r\n----\r\n\r\n - If you still need to solve this using AsyncTask, which is not recommended as previously mentioned. You need someway to preserve the adapter &amp; AsnyncTask instances; here a ViewModel is used:\r\n\r\nCreate the ViewModel to save the adapter &amp; AsnyncTask instances\r\n```\r\npublic class MainViewModel extends AndroidViewModel {\r\n\r\n    AsyncTask&lt;Void, Integer, Void&gt; myTask;\r\n    ListAdapter adapter;\r\n\r\n    public MainViewModel(@NonNull Application application) {\r\n        super(application);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nIn fragment: Instantiate the adapter only if it&#39;s null, and pass an instance of AsynkTask to the adapter:\r\n\r\n        if (viewModel.adapter == null)\r\n            viewModel.adapter = new ListAdapter(activity, items, viewModel);\r\n        recyclerView.setAdapter(viewModel.adapter);\r\n\r\nFinally use the `ViewModel AsynkTask` instance in the adapter: \r\n\r\n```\r\npublic class ListAdapter extends RecyclerView.Adapter&lt;ListAdapter.ViewHolder&gt; {\r\n\r\n\t// ......... code is omitted\r\n\r\n    private AsyncTask&lt;Void, Integer, Void&gt; task;\r\n\r\n    public ListAdapter(Context context, ArrayList&lt;String&gt; items, AsyncTask&lt;Void, Integer, Void&gt; myTask) {\r\n        mInflater = LayoutInflater.from(context);\r\n        this.items = items;\r\n\t\tthis.task = myTask;\r\n    }\r\n\t\r\n\t// ......... code is omitted\r\n\t\r\n\t\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        final ListAdapter mAdapter;\r\n        final TextView name;\r\n\r\n        public ViewHolder(@NonNull View itemView, ListAdapter mAdapter) {\r\n            super(itemView);\r\n            this.mAdapter = mAdapter;\r\n            this.name = itemView.findViewById(R.id.file_name);\r\n            itemView.setOnClickListener(v -&gt; {\r\n                task = new Task();\r\n                task.execute();\r\n            });\r\n        }\r\n    }\r\n\t\r\n\t\r\n}\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/AsyncTask","title":"Update recyclerview item from background thread after changing configuration","body":"<p><code>AsyncTask</code> is deprecated since API level 30. It has issues especially for configuration changes <a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"nofollow noreferrer\">per documentation:</a></p>\n<blockquote>\n<p>AsyncTask was intended to enable proper and easy use of the UI thread.\nHowever, the most common use case was for integrating into UI, and\nthat would cause Context leaks, missed callbacks, or crashes on\nconfiguration changes.</p>\n</blockquote>\n<p>And because of these issues it shouldn't be used in long running tasks.</p>\n<blockquote>\n<p>AsyncTasks should ideally be used for short operations (a few seconds\nat the most.) If you need to keep threads running for long periods of\ntime, it is highly recommended you use the various APIs provided by\nthe java.util.concurrent package such as Executor, ThreadPoolExecutor\nand FutureTask.</p>\n</blockquote>\n<h2><strong>Issue:</strong></h2>\n<p>When you run tasks in <code>doInBackground</code>, when the configuration changes, the activity is recreated (i.e. the old activity is destroyed, and a new activity is created); but the <code>AsyncTask</code> that was attached to the old activity continues to run (causing memory leaks); and so later on when <code>onPostExecute()</code> is ready to publish the results to the UI thread; it will release them to the destroyed activity rather than the current activity displayed on the screen; and the user won't see them consequently. Therefore the result is dismissed in your case.</p>\n<p>So, it's recommended to see other background threading alternatives such as <code>Executors</code> either with callbacks to update the UI or with <code>ViewModel</code> (which survive configuration changes) &amp; <code>LiveData</code> to publish the results to the the UI.</p>\n<h2>Solution With Executor</h2>\n<ul>\n<li>Here <code>Executor</code> is provided:</li>\n</ul>\n<p>Listener:</p>\n<pre><code>interface ProgressListener {\n    void onPostExecute();\n\n    void onProgressUpdate(int value);\n}\n</code></pre>\n<p>Fragment:</p>\n<pre><code>    ListAdapter adapter = new ListAdapter(activity, items, new ProgressListener() {\n            @Override\n            public void onPostExecute() {\n                ((ListAdapter.ViewHolder) Objects.requireNonNull(recyclerView.\n                        findViewHolderForLayoutPosition(0))).name.setText(&quot;task is finished&quot;);\n            }\n\n            @Override\n            public void onProgressUpdate(int value) {\n                recyclerView.post(() -&gt;\n                        ((ListAdapter.ViewHolder) Objects.requireNonNull(recyclerView.findViewHolderForLayoutPosition(0))).\n                                name.setText(String.valueOf(value)));\n                recyclerView.invalidate();\n            }\n        });\n\n        mRecyclerView.setAdapter(adapter);\n</code></pre>\n<p>Adapter: just use single thread executor:</p>\n<pre><code>public class ListAdapter extends RecyclerView.Adapter&lt;ListAdapter.ViewHolder&gt; {\n\n    ProgressListener progressListener;\n\n    public ListAdapter(Context context, ArrayList&lt;String&gt; items, ProgressListener listener) {\n        mInflater = LayoutInflater.from(context);\n        this.items = items;\n        progressListener = listener;\n    }\n    \n    \n    // ........... CODE IS OMITTED\n    \n    \n    // ViewHolder constructor\n    \n        public ViewHolder(@NonNull View itemView, ListAdapter mAdapter) {\n            super(itemView);\n            this.mAdapter = mAdapter;\n            this.name = itemView.findViewById(R.id.file_name);\n            itemView.setOnClickListener(v -&gt; {\n                Executors.newSingleThreadExecutor().execute(() -&gt; {\n                    for (int i = 0; i &lt;= 30; i++) {\n                        progressListener.onProgressUpdate(i);\n                        SystemClock.sleep(500);\n                    }\n                    progressListener.onPostExecute();\n                });\n            });\n        }\n    \n\n}   \n</code></pre>\n<h2>With AsyncTask</h2>\n<ul>\n<li>If you still need to solve this using AsyncTask, which is not recommended as previously mentioned. You need someway to preserve the adapter &amp; AsnyncTask instances; here a ViewModel is used:</li>\n</ul>\n<p>Create the ViewModel to save the adapter &amp; AsnyncTask instances</p>\n<pre><code>public class MainViewModel extends AndroidViewModel {\n\n    AsyncTask&lt;Void, Integer, Void&gt; myTask;\n    ListAdapter adapter;\n\n    public MainViewModel(@NonNull Application application) {\n        super(application);\n    }\n\n}\n</code></pre>\n<p>In fragment: Instantiate the adapter only if it's null, and pass an instance of AsynkTask to the adapter:</p>\n<pre><code>    if (viewModel.adapter == null)\n        viewModel.adapter = new ListAdapter(activity, items, viewModel);\n    recyclerView.setAdapter(viewModel.adapter);\n</code></pre>\n<p>Finally use the <code>ViewModel AsynkTask</code> instance in the adapter:</p>\n<pre><code>public class ListAdapter extends RecyclerView.Adapter&lt;ListAdapter.ViewHolder&gt; {\n\n    // ......... code is omitted\n\n    private AsyncTask&lt;Void, Integer, Void&gt; task;\n\n    public ListAdapter(Context context, ArrayList&lt;String&gt; items, AsyncTask&lt;Void, Integer, Void&gt; myTask) {\n        mInflater = LayoutInflater.from(context);\n        this.items = items;\n        this.task = myTask;\n    }\n    \n    // ......... code is omitted\n    \n    \n    public class ViewHolder extends RecyclerView.ViewHolder {\n        final ListAdapter mAdapter;\n        final TextView name;\n\n        public ViewHolder(@NonNull View itemView, ListAdapter mAdapter) {\n            super(itemView);\n            this.mAdapter = mAdapter;\n            this.name = itemView.findViewById(R.id.file_name);\n            itemView.setOnClickListener(v -&gt; {\n                task = new Task();\n                task.execute();\n            });\n        }\n    }\n    \n    \n}\n</code></pre>\n"}],"owner":{"account_id":1036855,"reputation":13858,"user_id":1043882,"accept_rate":79,"display_name":"hasanghaforian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2712,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71878968,"answer_count":3,"score":1,"last_activity_date":1650155736,"creation_date":1647471998,"question_id":71505253,"body_markdown":"I have a `RecyclerView` in a `Fragment`. Also I have an `AsyncTask` which updates items of `RecyclerView` from background thread. The problem is when I rotate the device (or cause any other configuration change),  the `AsyncTask` cannot update views.\r\n\r\nHere you can see the simplified code:\r\n\r\n`HomeFragment`:\r\n\r\n    public class HomeFragment extends Fragment {\r\n    \r\n        public HomeFragment() {\r\n        }\r\n    \r\n        public static HomeFragment newInstance() {\r\n            return new HomeFragment();\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n            return inflater.inflate(R.layout.fragment_home, container, false);\r\n        }\r\n    \r\n        @Override\r\n        public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n            RecyclerView mRecyclerView = requireView().findViewById(R.id.recyclerview);\r\n            Activity activity = requireActivity();\r\n            ArrayList&lt;String&gt; items = new ArrayList&lt;&gt;(Arrays.asList(&quot;Item1&quot;, &quot;Item2&quot;, &quot;Item3&quot;));\r\n            ListAdapter adapter = new ListAdapter(activity, items);\r\n            mRecyclerView.setAdapter(adapter);\r\n            mRecyclerView.setLayoutManager(new LinearLayoutManager(activity));\r\n        }\r\n    }\r\n\r\nThe adapter of RecyclerView and its inner `AsyncTask` class:\r\n\r\n    public class ListAdapter extends RecyclerView.Adapter&lt;ListAdapter.ViewHolder&gt; {\r\n    \r\n        private final ArrayList&lt;String&gt; items;\r\n        private final LayoutInflater mInflater;\r\n        private RecyclerView mRecyclerView;\r\n    \r\n        public ListAdapter(Context context, ArrayList&lt;String&gt; items) {\r\n            mInflater = LayoutInflater.from(context);\r\n            this.items = items;\r\n        }\r\n    \r\n        @Override\r\n        public void onAttachedToRecyclerView(@NonNull RecyclerView recyclerView) {\r\n            super.onAttachedToRecyclerView(recyclerView);\r\n            mRecyclerView = recyclerView;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public ListAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View mItemView = mInflater.inflate(R.layout.item, parent, false);\r\n            return new ViewHolder(mItemView, this);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull ListAdapter.ViewHolder holder, int position) {\r\n            holder.name.setText(items.get(position));\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return items.size();\r\n        }\r\n    \r\n        public class ViewHolder extends RecyclerView.ViewHolder {\r\n            final ListAdapter mAdapter;\r\n            final TextView name;\r\n    \r\n            public ViewHolder(@NonNull View itemView, ListAdapter mAdapter) {\r\n                super(itemView);\r\n                this.mAdapter = mAdapter;\r\n                this.name = itemView.findViewById(R.id.file_name);\r\n                itemView.setOnClickListener(v -&gt; {\r\n                    Task task = new Task();\r\n                    task.execute();\r\n                });\r\n            }\r\n        }\r\n    \r\n        class Task extends AsyncTask&lt;Void, Integer, Void&gt; {\r\n    \r\n            @Override\r\n            protected void onProgressUpdate(Integer... values) {\r\n                mRecyclerView.post(() -&gt;\r\n                        ((ViewHolder) Objects.requireNonNull(mRecyclerView.findViewHolderForLayoutPosition(0))).\r\n                                name.setText(String.valueOf(values[0])));\r\n                mRecyclerView.invalidate();\r\n            }\r\n    \r\n            @Override\r\n            protected Void doInBackground(Void... voids) {\r\n                for (int i = 0; i &lt;= 30; i++) {\r\n                    publishProgress(i);\r\n                    SystemClock.sleep(500);\r\n                }\r\n                return null;\r\n            }\r\n    \r\n            @Override\r\n            protected void onPostExecute(Void unused) {\r\n                ((ViewHolder) Objects.requireNonNull(mRecyclerView.findViewHolderForLayoutPosition(0))).name.setText(&quot;task is finished&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nAs you can see I used `mRecyclerView.post()` method to avoid touching views from non UI thread. How I can update items after rotating the device?\r\n\r\nWhat I tried before:\r\n\r\n- changing data set of adapter and calling `notifyDataSetChanged()`\r\n- creating a method in Fragment for updating items and calling it from `AsyncTask`\r\n- resetting adapter for RecyclerView\r\n- ... ","title":"Update recyclerview item from background thread after changing configuration","body":"<p>I have a <code>RecyclerView</code> in a <code>Fragment</code>. Also I have an <code>AsyncTask</code> which updates items of <code>RecyclerView</code> from background thread. The problem is when I rotate the device (or cause any other configuration change),  the <code>AsyncTask</code> cannot update views.</p>\n<p>Here you can see the simplified code:</p>\n<p><code>HomeFragment</code>:</p>\n<pre><code>public class HomeFragment extends Fragment {\n\n    public HomeFragment() {\n    }\n\n    public static HomeFragment newInstance() {\n        return new HomeFragment();\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        return inflater.inflate(R.layout.fragment_home, container, false);\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        RecyclerView mRecyclerView = requireView().findViewById(R.id.recyclerview);\n        Activity activity = requireActivity();\n        ArrayList&lt;String&gt; items = new ArrayList&lt;&gt;(Arrays.asList(&quot;Item1&quot;, &quot;Item2&quot;, &quot;Item3&quot;));\n        ListAdapter adapter = new ListAdapter(activity, items);\n        mRecyclerView.setAdapter(adapter);\n        mRecyclerView.setLayoutManager(new LinearLayoutManager(activity));\n    }\n}\n</code></pre>\n<p>The adapter of RecyclerView and its inner <code>AsyncTask</code> class:</p>\n<pre><code>public class ListAdapter extends RecyclerView.Adapter&lt;ListAdapter.ViewHolder&gt; {\n\n    private final ArrayList&lt;String&gt; items;\n    private final LayoutInflater mInflater;\n    private RecyclerView mRecyclerView;\n\n    public ListAdapter(Context context, ArrayList&lt;String&gt; items) {\n        mInflater = LayoutInflater.from(context);\n        this.items = items;\n    }\n\n    @Override\n    public void onAttachedToRecyclerView(@NonNull RecyclerView recyclerView) {\n        super.onAttachedToRecyclerView(recyclerView);\n        mRecyclerView = recyclerView;\n    }\n\n    @NonNull\n    @Override\n    public ListAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View mItemView = mInflater.inflate(R.layout.item, parent, false);\n        return new ViewHolder(mItemView, this);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ListAdapter.ViewHolder holder, int position) {\n        holder.name.setText(items.get(position));\n    }\n\n    @Override\n    public int getItemCount() {\n        return items.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        final ListAdapter mAdapter;\n        final TextView name;\n\n        public ViewHolder(@NonNull View itemView, ListAdapter mAdapter) {\n            super(itemView);\n            this.mAdapter = mAdapter;\n            this.name = itemView.findViewById(R.id.file_name);\n            itemView.setOnClickListener(v -&gt; {\n                Task task = new Task();\n                task.execute();\n            });\n        }\n    }\n\n    class Task extends AsyncTask&lt;Void, Integer, Void&gt; {\n\n        @Override\n        protected void onProgressUpdate(Integer... values) {\n            mRecyclerView.post(() -&gt;\n                    ((ViewHolder) Objects.requireNonNull(mRecyclerView.findViewHolderForLayoutPosition(0))).\n                            name.setText(String.valueOf(values[0])));\n            mRecyclerView.invalidate();\n        }\n\n        @Override\n        protected Void doInBackground(Void... voids) {\n            for (int i = 0; i &lt;= 30; i++) {\n                publishProgress(i);\n                SystemClock.sleep(500);\n            }\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(Void unused) {\n            ((ViewHolder) Objects.requireNonNull(mRecyclerView.findViewHolderForLayoutPosition(0))).name.setText(&quot;task is finished&quot;);\n        }\n    }\n}\n</code></pre>\n<p>As you can see I used <code>mRecyclerView.post()</code> method to avoid touching views from non UI thread. How I can update items after rotating the device?</p>\n<p>What I tried before:</p>\n<ul>\n<li>changing data set of adapter and calling <code>notifyDataSetChanged()</code></li>\n<li>creating a method in Fragment for updating items and calling it from <code>AsyncTask</code></li>\n<li>resetting adapter for RecyclerView</li>\n<li>...</li>\n</ul>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":15329532,"reputation":191,"user_id":11059630,"display_name":"Yusuf Yaşar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650154647,"creation_date":1650154647,"answer_id":71898402,"question_id":71896245,"body_markdown":"    public void removeItem(int position) {\r\n        mItems.remove(position);\r\n        notifyItemRemoved(position);\r\n        notifyItemRangeChanged(position, getItemCount());\r\n    }\r\n\r\nhave a helper method like in the sample code. You should definitely use notifyItemRangeChanged.","title":"recyclerAdapter.notifyItemInserted updates item on wrong position","body":"<pre><code>public void removeItem(int position) {\n    mItems.remove(position);\n    notifyItemRemoved(position);\n    notifyItemRangeChanged(position, getItemCount());\n}\n</code></pre>\n<p>have a helper method like in the sample code. You should definitely use notifyItemRangeChanged.</p>\n"}],"owner":{"account_id":17270161,"reputation":190,"user_id":12506059,"display_name":"Kristian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650154647,"creation_date":1650131894,"question_id":71896245,"body_markdown":"I created 3 recyclerViews which are in the same NestedScrollView. They all use the same ArrayList to display items. \r\n\r\nLastly I tried to follow one [tutorial][1] to add onSwipe to one of the recyclerViews which worked almost perfectly. Firstly I remove the object on selected position with `recyclerAdapter.notifyItemRemoved(position)` which behaves correctly and then I press the undo button which triggers `recyclerAdapter.notifyItemInserted(position)` but it doesnt update the recyclerView on correct position.\r\n\r\n**In depth behaviour:** \r\n\r\nWhen I swipe the first item, meaning position is 0. The `viewHolder.getAdapterPosition()` returns 0 which then calls `recyclerAdapter.notifyItemRemoved(position)` and after pressing the undo buttons which adds the item back I see via debug that the position inside the adapter is also 0 as it should. \r\n\r\nBut when I press any other item than on position 0, the `viewHolder.getAdapterPosition()` returns correct position for example 2 I again remove the item which works correctly. But after calling `recyclerAdapter.notifyItemInserted(position)` I can see that the position in method onBindViewHolder seems to always be the size of arrayList that is in the adapter instead of the position.  \r\n\r\nThere are no error messages shown when this happens.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**MainActivity.java**\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    //Objects\r\n    private RecyclerView timeRecyclerView, barRecyclerView, activityRecyclerView;\r\n    private RecyclerViewActivityAdapter recyclerViewActivityAdapter;\r\n    private RecyclerViewTimeAdapter recyclerViewTimeAdapter;\r\n    private RecyclerViewBarAdapter recyclerViewBarAdapter;\r\n    private Database database;\r\n\r\n    //Vars\r\n    private final String activityName = MainActivity.this.getClass().getSimpleName();\r\n    public static final String logName = &quot;[LOG]  &quot;;\r\n    private final List&lt;Day&gt; scheduleList = new ArrayList&lt;&gt;();\r\n    private int displayWidth;\r\n    private int displayHeight;\r\n    private int rowSize;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        getDisplaySize();\r\n        loadDatabase();\r\n        setTimeRecyclerView();\r\n        setBarRecyclerView();\r\n        setActivityRecyclerView();\r\n        setOnSwipe();\r\n    }\r\n\r\n    private void loadDatabase() {\r\n        Log.i(MainActivity.logName + activityName, &quot;loadDatabase()&quot;);\r\n        //loads data from database (only called onStart)\r\n\r\n        database = new Database(this);\r\n        scheduleList.clear();\r\n        scheduleList.addAll(database.getAll());\r\n    }\r\n\r\n    private void setActivityRecyclerView() {\r\n        Log.i(MainActivity.logName + activityName, &quot;setBarRecyclerView()&quot;);\r\n\r\n        activityRecyclerView = findViewById(R.id.activityRecyclerView);\r\n        RecyclerView.LayoutManager linearLayoutManager = new LinearLayoutManager(this);\r\n        recyclerViewActivityAdapter = new RecyclerViewActivityAdapter(scheduleList, rowSize);\r\n        recyclerViewActivityAdapter.setHasStableIds(true);\r\n\r\n        activityRecyclerView.setItemAnimator(new DefaultItemAnimator());\r\n        activityRecyclerView.setLayoutManager(linearLayoutManager);\r\n        activityRecyclerView.setAdapter(recyclerViewActivityAdapter);\r\n    }\r\n\r\n    private void setBarRecyclerView() {\r\n        Log.i(MainActivity.logName + activityName, &quot;setBarRecyclerView()&quot;);\r\n\r\n        barRecyclerView = findViewById(R.id.barRecyclerView);\r\n        RecyclerView.LayoutManager linearLayoutManager = new LinearLayoutManager(this);\r\n        recyclerViewBarAdapter = new RecyclerViewBarAdapter(scheduleList, rowSize);\r\n        recyclerViewBarAdapter.setHasStableIds(true);\r\n\r\n        barRecyclerView.setItemAnimator(new DefaultItemAnimator());\r\n        barRecyclerView.setLayoutManager(linearLayoutManager);\r\n        barRecyclerView.setAdapter(recyclerViewBarAdapter);\r\n    }\r\n\r\n    private void setTimeRecyclerView() {\r\n        Log.i(MainActivity.logName + activityName, &quot;setTimeRecyclerView()&quot;);\r\n\r\n        timeRecyclerView = findViewById(R.id.timeRecyclerView);\r\n        RecyclerView.LayoutManager linearLayoutManager = new LinearLayoutManager(this);\r\n        recyclerViewTimeAdapter = new RecyclerViewTimeAdapter(scheduleList, rowSize);\r\n        recyclerViewTimeAdapter.setHasStableIds(true);\r\n\r\n        timeRecyclerView.setItemAnimator(new DefaultItemAnimator());\r\n        timeRecyclerView.setLayoutManager(linearLayoutManager);\r\n        timeRecyclerView.setAdapter(recyclerViewTimeAdapter);\r\n    }\r\n\r\n    private void getDisplaySize() {\r\n        Log.i(MainActivity.logName + activityName, &quot;getDisplaySize()&quot;);\r\n\r\n        if (android.os.Build.VERSION.SDK_INT &lt;= 29){\r\n            DisplayMetrics displayMetrics = new DisplayMetrics();\r\n            getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\r\n\r\n            int width= displayMetrics.widthPixels;\r\n            int height= displayMetrics.heightPixels;\r\n\r\n            displayWidth = Math.round(width / (displayMetrics.xdpi / DisplayMetrics.DENSITY_DEFAULT));\r\n            displayHeight = Math.round(height / (displayMetrics.xdpi / DisplayMetrics.DENSITY_DEFAULT));\r\n            rowSize = displayHeight / 5;\r\n\r\n        } else { //api ver 30 and higher\r\n\r\n            WindowManager windowManager = (WindowManager) getApplicationContext().getSystemService(Context.WINDOW_SERVICE);\r\n            WindowMetrics metrics = windowManager.getCurrentWindowMetrics();\r\n            WindowInsets windowInsets = metrics.getWindowInsets();\r\n            Insets insets = windowInsets.getInsetsIgnoringVisibility(WindowInsets.Type.navigationBars()\r\n                    | WindowInsets.Type.displayCutout());\r\n\r\n            int insetsWidth = insets.right + insets.left;\r\n            int insetsHeight = insets.top + insets.bottom;\r\n\r\n            final Rect bounds = metrics.getBounds();\r\n\r\n            displayWidth = bounds.width() - insetsWidth;\r\n            displayHeight = bounds.height() - insetsHeight;\r\n            rowSize = displayHeight / 5;\r\n        }\r\n    }\r\n\r\n    private void setOnSwipe() {\r\n        Log.i(MainActivity.logName + activityName, &quot;setOnSwipe()&quot;);\r\n\r\n        new ItemTouchHelper(new ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.RIGHT) {\r\n            @Override\r\n            public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) {\r\n                int position = viewHolder.getAdapterPosition();\r\n\r\n                Day deletedActivity = scheduleList.get(position);\r\n                scheduleList.remove(position);\r\n\r\n                recyclerViewActivityAdapter.notifyItemRemoved(position);\r\n                recyclerViewBarAdapter.notifyItemRemoved(position);\r\n                recyclerViewTimeAdapter.notifyItemRemoved(position);\r\n\r\n                MakeSnackbar(activityRecyclerView, &quot;Successfully removed - &quot; + deletedActivity.getName(), deletedActivity, position);\r\n            }\r\n\r\n\r\n        }).attachToRecyclerView(activityRecyclerView);\r\n    }\r\n\r\n    private void MakeSnackbar(RecyclerView activityRecyclerView, String message, Day deletedActivity, int position) {\r\n        Log.i(MainActivity.logName + activityName, &quot;MakeSnackbar(RecyclerView, &quot;+ message +&quot;, &quot;+ deletedActivity.getName() +&quot; , &quot;+ position +&quot;)&quot;);\r\n\r\n        Snackbar snackbar = Snackbar.make(activityRecyclerView, message, Snackbar.LENGTH_LONG);\r\n\r\n        snackbar.setAction(&quot;Undo&quot;, new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                scheduleList.add(position, deletedActivity);\r\n\r\n                recyclerViewActivityAdapter.notifyItemInserted(position);\r\n                recyclerViewBarAdapter.notifyItemInserted(position);\r\n                recyclerViewTimeAdapter.notifyItemInserted(position);\r\n\r\n                snackbar.dismiss();\r\n            }\r\n        }).show();\r\n\r\n        snackbar.addCallback(new Snackbar.Callback() {\r\n            @Override\r\n            public void onDismissed(Snackbar snackbar, int event) {\r\n                if (event != DISMISS_EVENT_ACTION &amp;&amp; event != DISMISS_EVENT_MANUAL){\r\n                    database.removeActivity(deletedActivity.getId());\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onShown(Snackbar snackbar) {\r\n            }\r\n        });\r\n    }\r\n    }       \r\n\r\n**RecyclerAdapters (RecyclerViewActivityAdapter)** - the only difference between the adapter is that they display different data in the onBindViewHolder (besides layout and object reference)\r\n\r\n  \r\n\r\n    public class RecyclerViewActivityAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\r\n        private final String activityName = RecyclerViewActivityAdapter.this.getClass().getSimpleName();\r\n        private List&lt;Day&gt; data;\r\n        private int objectSize;\r\n        private Context context;\r\n    \r\n        public RecyclerViewActivityAdapter(List&lt;Day&gt; data, int size){\r\n            this.objectSize = size;\r\n            this.data = data;\r\n        }\r\n    \r\n        public static class ActivityViewHolder extends RecyclerView.ViewHolder{\r\n            public LinearLayout activityLayout;\r\n            public TextView activityName;\r\n    \r\n            public ActivityViewHolder(@NonNull View itemView){\r\n                super(itemView);\r\n    \r\n                activityLayout = itemView.findViewById(R.id.activityLayout);\r\n                activityName = itemView.findViewById(R.id.activityName);\r\n            }\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            Log.i(MainActivity.logName + activityName, &quot;onCreateViewHolder(ViewGroup,&quot;+viewType+&quot;)&quot;);\r\n    \r\n            context = parent.getContext();\r\n    \r\n            Log.i(MainActivity.logName + activityName, &quot;onCreateViewHolder type - ActivityViewHolder&quot;);\r\n            View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.segment_recycler_view_activity,parent,false);\r\n            return new RecyclerViewActivityAdapter.ActivityViewHolder(v);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\r\n            Log.i(MainActivity.logName + activityName, &quot;onBindViewHolder(ViewHolder,&quot;+position+&quot;)&quot;);\r\n    \r\n            //setLayout\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return data.size();\r\n        }\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/swipe-to-delete-and-undo-in-android-recyclerview/\r\n  [2]: https://i.stack.imgur.com/thILG.gif","title":"recyclerAdapter.notifyItemInserted updates item on wrong position","body":"<p>I created 3 recyclerViews which are in the same NestedScrollView. They all use the same ArrayList to display items.</p>\n<p>Lastly I tried to follow one <a href=\"https://www.geeksforgeeks.org/swipe-to-delete-and-undo-in-android-recyclerview/\" rel=\"nofollow noreferrer\">tutorial</a> to add onSwipe to one of the recyclerViews which worked almost perfectly. Firstly I remove the object on selected position with <code>recyclerAdapter.notifyItemRemoved(position)</code> which behaves correctly and then I press the undo button which triggers <code>recyclerAdapter.notifyItemInserted(position)</code> but it doesnt update the recyclerView on correct position.</p>\n<p><strong>In depth behaviour:</strong></p>\n<p>When I swipe the first item, meaning position is 0. The <code>viewHolder.getAdapterPosition()</code> returns 0 which then calls <code>recyclerAdapter.notifyItemRemoved(position)</code> and after pressing the undo buttons which adds the item back I see via debug that the position inside the adapter is also 0 as it should.</p>\n<p>But when I press any other item than on position 0, the <code>viewHolder.getAdapterPosition()</code> returns correct position for example 2 I again remove the item which works correctly. But after calling <code>recyclerAdapter.notifyItemInserted(position)</code> I can see that the position in method onBindViewHolder seems to always be the size of arrayList that is in the adapter instead of the position.</p>\n<p>There are no error messages shown when this happens.</p>\n<p><a href=\"https://i.stack.imgur.com/thILG.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/thILG.gif\" alt=\"enter image description here\" /></a></p>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n//Objects\nprivate RecyclerView timeRecyclerView, barRecyclerView, activityRecyclerView;\nprivate RecyclerViewActivityAdapter recyclerViewActivityAdapter;\nprivate RecyclerViewTimeAdapter recyclerViewTimeAdapter;\nprivate RecyclerViewBarAdapter recyclerViewBarAdapter;\nprivate Database database;\n\n//Vars\nprivate final String activityName = MainActivity.this.getClass().getSimpleName();\npublic static final String logName = &quot;[LOG]  &quot;;\nprivate final List&lt;Day&gt; scheduleList = new ArrayList&lt;&gt;();\nprivate int displayWidth;\nprivate int displayHeight;\nprivate int rowSize;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    getDisplaySize();\n    loadDatabase();\n    setTimeRecyclerView();\n    setBarRecyclerView();\n    setActivityRecyclerView();\n    setOnSwipe();\n}\n\nprivate void loadDatabase() {\n    Log.i(MainActivity.logName + activityName, &quot;loadDatabase()&quot;);\n    //loads data from database (only called onStart)\n\n    database = new Database(this);\n    scheduleList.clear();\n    scheduleList.addAll(database.getAll());\n}\n\nprivate void setActivityRecyclerView() {\n    Log.i(MainActivity.logName + activityName, &quot;setBarRecyclerView()&quot;);\n\n    activityRecyclerView = findViewById(R.id.activityRecyclerView);\n    RecyclerView.LayoutManager linearLayoutManager = new LinearLayoutManager(this);\n    recyclerViewActivityAdapter = new RecyclerViewActivityAdapter(scheduleList, rowSize);\n    recyclerViewActivityAdapter.setHasStableIds(true);\n\n    activityRecyclerView.setItemAnimator(new DefaultItemAnimator());\n    activityRecyclerView.setLayoutManager(linearLayoutManager);\n    activityRecyclerView.setAdapter(recyclerViewActivityAdapter);\n}\n\nprivate void setBarRecyclerView() {\n    Log.i(MainActivity.logName + activityName, &quot;setBarRecyclerView()&quot;);\n\n    barRecyclerView = findViewById(R.id.barRecyclerView);\n    RecyclerView.LayoutManager linearLayoutManager = new LinearLayoutManager(this);\n    recyclerViewBarAdapter = new RecyclerViewBarAdapter(scheduleList, rowSize);\n    recyclerViewBarAdapter.setHasStableIds(true);\n\n    barRecyclerView.setItemAnimator(new DefaultItemAnimator());\n    barRecyclerView.setLayoutManager(linearLayoutManager);\n    barRecyclerView.setAdapter(recyclerViewBarAdapter);\n}\n\nprivate void setTimeRecyclerView() {\n    Log.i(MainActivity.logName + activityName, &quot;setTimeRecyclerView()&quot;);\n\n    timeRecyclerView = findViewById(R.id.timeRecyclerView);\n    RecyclerView.LayoutManager linearLayoutManager = new LinearLayoutManager(this);\n    recyclerViewTimeAdapter = new RecyclerViewTimeAdapter(scheduleList, rowSize);\n    recyclerViewTimeAdapter.setHasStableIds(true);\n\n    timeRecyclerView.setItemAnimator(new DefaultItemAnimator());\n    timeRecyclerView.setLayoutManager(linearLayoutManager);\n    timeRecyclerView.setAdapter(recyclerViewTimeAdapter);\n}\n\nprivate void getDisplaySize() {\n    Log.i(MainActivity.logName + activityName, &quot;getDisplaySize()&quot;);\n\n    if (android.os.Build.VERSION.SDK_INT &lt;= 29){\n        DisplayMetrics displayMetrics = new DisplayMetrics();\n        getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\n\n        int width= displayMetrics.widthPixels;\n        int height= displayMetrics.heightPixels;\n\n        displayWidth = Math.round(width / (displayMetrics.xdpi / DisplayMetrics.DENSITY_DEFAULT));\n        displayHeight = Math.round(height / (displayMetrics.xdpi / DisplayMetrics.DENSITY_DEFAULT));\n        rowSize = displayHeight / 5;\n\n    } else { //api ver 30 and higher\n\n        WindowManager windowManager = (WindowManager) getApplicationContext().getSystemService(Context.WINDOW_SERVICE);\n        WindowMetrics metrics = windowManager.getCurrentWindowMetrics();\n        WindowInsets windowInsets = metrics.getWindowInsets();\n        Insets insets = windowInsets.getInsetsIgnoringVisibility(WindowInsets.Type.navigationBars()\n                | WindowInsets.Type.displayCutout());\n\n        int insetsWidth = insets.right + insets.left;\n        int insetsHeight = insets.top + insets.bottom;\n\n        final Rect bounds = metrics.getBounds();\n\n        displayWidth = bounds.width() - insetsWidth;\n        displayHeight = bounds.height() - insetsHeight;\n        rowSize = displayHeight / 5;\n    }\n}\n\nprivate void setOnSwipe() {\n    Log.i(MainActivity.logName + activityName, &quot;setOnSwipe()&quot;);\n\n    new ItemTouchHelper(new ItemTouchHelper.SimpleCallback(0, ItemTouchHelper.RIGHT) {\n        @Override\n        public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder target) {\n            return false;\n        }\n\n        @Override\n        public void onSwiped(@NonNull RecyclerView.ViewHolder viewHolder, int direction) {\n            int position = viewHolder.getAdapterPosition();\n\n            Day deletedActivity = scheduleList.get(position);\n            scheduleList.remove(position);\n\n            recyclerViewActivityAdapter.notifyItemRemoved(position);\n            recyclerViewBarAdapter.notifyItemRemoved(position);\n            recyclerViewTimeAdapter.notifyItemRemoved(position);\n\n            MakeSnackbar(activityRecyclerView, &quot;Successfully removed - &quot; + deletedActivity.getName(), deletedActivity, position);\n        }\n\n\n    }).attachToRecyclerView(activityRecyclerView);\n}\n\nprivate void MakeSnackbar(RecyclerView activityRecyclerView, String message, Day deletedActivity, int position) {\n    Log.i(MainActivity.logName + activityName, &quot;MakeSnackbar(RecyclerView, &quot;+ message +&quot;, &quot;+ deletedActivity.getName() +&quot; , &quot;+ position +&quot;)&quot;);\n\n    Snackbar snackbar = Snackbar.make(activityRecyclerView, message, Snackbar.LENGTH_LONG);\n\n    snackbar.setAction(&quot;Undo&quot;, new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            scheduleList.add(position, deletedActivity);\n\n            recyclerViewActivityAdapter.notifyItemInserted(position);\n            recyclerViewBarAdapter.notifyItemInserted(position);\n            recyclerViewTimeAdapter.notifyItemInserted(position);\n\n            snackbar.dismiss();\n        }\n    }).show();\n\n    snackbar.addCallback(new Snackbar.Callback() {\n        @Override\n        public void onDismissed(Snackbar snackbar, int event) {\n            if (event != DISMISS_EVENT_ACTION &amp;&amp; event != DISMISS_EVENT_MANUAL){\n                database.removeActivity(deletedActivity.getId());\n            }\n        }\n\n        @Override\n        public void onShown(Snackbar snackbar) {\n        }\n    });\n}\n}       \n</code></pre>\n<p><strong>RecyclerAdapters (RecyclerViewActivityAdapter)</strong> - the only difference between the adapter is that they display different data in the onBindViewHolder (besides layout and object reference)</p>\n<pre><code>public class RecyclerViewActivityAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n    private final String activityName = RecyclerViewActivityAdapter.this.getClass().getSimpleName();\n    private List&lt;Day&gt; data;\n    private int objectSize;\n    private Context context;\n\n    public RecyclerViewActivityAdapter(List&lt;Day&gt; data, int size){\n        this.objectSize = size;\n        this.data = data;\n    }\n\n    public static class ActivityViewHolder extends RecyclerView.ViewHolder{\n        public LinearLayout activityLayout;\n        public TextView activityName;\n\n        public ActivityViewHolder(@NonNull View itemView){\n            super(itemView);\n\n            activityLayout = itemView.findViewById(R.id.activityLayout);\n            activityName = itemView.findViewById(R.id.activityName);\n        }\n    }\n\n    @NonNull\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        Log.i(MainActivity.logName + activityName, &quot;onCreateViewHolder(ViewGroup,&quot;+viewType+&quot;)&quot;);\n\n        context = parent.getContext();\n\n        Log.i(MainActivity.logName + activityName, &quot;onCreateViewHolder type - ActivityViewHolder&quot;);\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.segment_recycler_view_activity,parent,false);\n        return new RecyclerViewActivityAdapter.ActivityViewHolder(v);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\n        Log.i(MainActivity.logName + activityName, &quot;onBindViewHolder(ViewHolder,&quot;+position+&quot;)&quot;);\n\n        //setLayout\n    }\n\n    @Override\n    public int getItemCount() {\n        return data.size();\n    }\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":20834828,"reputation":179,"user_id":15303234,"display_name":"TheHappyBee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650152100,"creation_date":1650151367,"answer_id":71898172,"question_id":71897725,"body_markdown":"To answer your question, a Array. We will each &quot;.&quot; inside the array and the such pointer A. Such that it is initialized as: \r\n\r\n    String[][] square = \r\n                {{&quot;A&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;},\r\n                {&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;},\r\n                {&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;},\r\n                {&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;},\r\n                {&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;}};\r\n\r\n\r\nnow, we make a new method `move(String direction, String[][] square)`, in which we make `&quot;A&quot;` move according to a set of rules:\r\n\r\n    Left - 0 y, -1 x\r\n    Right - 0 y, +1 x\r\n    Up - -1 y, 0 x\r\n    Down- +1 y, 0 x \r\n\r\nTo make:\r\n\r\n    public String[][] move(String direction, String[][] square) {\r\n             if (direction.equals(&quot;left&quot;)) {\r\n                 try {\r\n                     outerloop:\r\n                    for (int i = 0; i &lt; 5; i++){\r\n                        for (int j = 0; j &lt; 5; j++){\r\n                           if (square[i][j].equals(&quot;A&quot;)) {\r\n                               String temp = square[i][j];\r\n                               square[i][j] = square[i][j-1];\r\n                               square[i][j-1] = temp;\r\n                               break outerloop;\r\n                               \r\n                           }\r\n                        }\r\n                    }\r\n                 } catch(Exception e) {\r\n                     System.out.println(&quot;sorry you have reached the end of the square&quot;);\r\n                     return square;\r\n                 }\r\n             }\r\n             else if (direction.equals(&quot;right&quot;)) {\r\n                 try {\r\n                     outerloop:\r\n                    for (int i = 0; i &lt; 5; i++){\r\n                        for (int j = 0; j &lt; 5; j++){\r\n                           if (square[i][j].equals(&quot;A&quot;)) {\r\n                               String temp = square[i][j];\r\n                               square[i][j] = square[i][j+1];\r\n                               square[i][j+1] = temp;\r\n                               break outerloop;\r\n                           }\r\n                        }\r\n                    }\r\n                 } catch(Exception e) {\r\n                     System.out.println(&quot;sorry you have reached the end of the square&quot;);\r\n                     return square;\r\n                 }\r\n             }\r\n             else if (direction.equals(&quot;down&quot;)) {\r\n                 try {\r\n                     outerloop:\r\n                    for (int i = 0; i &lt; 5; i++){\r\n                        for (int j = 0; j &lt; 5; j++){\r\n                           if (square[i][j].equals(&quot;A&quot;)) {\r\n                               String temp = square[i][j];\r\n                               square[i][j] = square[i+1][j];\r\n                               square[i+1][j] = temp;\r\n                               break outerloop;\r\n                           }\r\n                        }\r\n                    }\r\n                 } catch(Exception e) {\r\n                     System.out.println(&quot;sorry you have reached the end of the square&quot;);\r\n                     return square;\r\n                 }\r\n             } else {\r\n                 try {\r\n                     outerloop:\r\n                    for (int i = 0; i &lt; 5; i++){\r\n                        for (int j = 0; j &lt; 5; j++){\r\n                           if (square[i][j].equals(&quot;A&quot;)) {\r\n                               String temp = square[i][j];\r\n                               square[i][j] = square[i-1][j];\r\n                               square[i-1][j] = temp;\r\n                               break outerloop;\r\n                           }\r\n                        }\r\n                    }\r\n                 } catch(Exception e) {\r\n                     System.out.println(&quot;sorry you have reached the end of the square&quot;);\r\n                     return square;\r\n                 }\r\n             }\r\n             return square;\r\n        }\r\n    \r\nFinally, initialize it during your loop and get `square`. Then use `Arrays.deepToString()` to print out the output.\r\n\r\n Or to print in your format:\r\nget each item and print it out using the loop your mentioned above:\r\n\r\n    for (int i = 0; i &lt; 5; i++){\r\n      for (int j = 0; j &lt; 5; j++){\r\n        System.out.print(board[i][j] + &quot;\\n&quot;);\r\n      } \r\n    }\r\nNote: **remember** to replace square with the new square returned in the method!","title":"How to move an object around in a 2D Square","body":"<p>To answer your question, a Array. We will each &quot;.&quot; inside the array and the such pointer A. Such that it is initialized as:</p>\n<pre><code>String[][] square = \n            {{&quot;A&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;},\n            {&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;},\n            {&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;},\n            {&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;},\n            {&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;,&quot;.&quot;}};\n</code></pre>\n<p>now, we make a new method <code>move(String direction, String[][] square)</code>, in which we make <code>&quot;A&quot;</code> move according to a set of rules:</p>\n<pre><code>Left - 0 y, -1 x\nRight - 0 y, +1 x\nUp - -1 y, 0 x\nDown- +1 y, 0 x \n</code></pre>\n<p>To make:</p>\n<pre><code>public String[][] move(String direction, String[][] square) {\n         if (direction.equals(&quot;left&quot;)) {\n             try {\n                 outerloop:\n                for (int i = 0; i &lt; 5; i++){\n                    for (int j = 0; j &lt; 5; j++){\n                       if (square[i][j].equals(&quot;A&quot;)) {\n                           String temp = square[i][j];\n                           square[i][j] = square[i][j-1];\n                           square[i][j-1] = temp;\n                           break outerloop;\n                           \n                       }\n                    }\n                }\n             } catch(Exception e) {\n                 System.out.println(&quot;sorry you have reached the end of the square&quot;);\n                 return square;\n             }\n         }\n         else if (direction.equals(&quot;right&quot;)) {\n             try {\n                 outerloop:\n                for (int i = 0; i &lt; 5; i++){\n                    for (int j = 0; j &lt; 5; j++){\n                       if (square[i][j].equals(&quot;A&quot;)) {\n                           String temp = square[i][j];\n                           square[i][j] = square[i][j+1];\n                           square[i][j+1] = temp;\n                           break outerloop;\n                       }\n                    }\n                }\n             } catch(Exception e) {\n                 System.out.println(&quot;sorry you have reached the end of the square&quot;);\n                 return square;\n             }\n         }\n         else if (direction.equals(&quot;down&quot;)) {\n             try {\n                 outerloop:\n                for (int i = 0; i &lt; 5; i++){\n                    for (int j = 0; j &lt; 5; j++){\n                       if (square[i][j].equals(&quot;A&quot;)) {\n                           String temp = square[i][j];\n                           square[i][j] = square[i+1][j];\n                           square[i+1][j] = temp;\n                           break outerloop;\n                       }\n                    }\n                }\n             } catch(Exception e) {\n                 System.out.println(&quot;sorry you have reached the end of the square&quot;);\n                 return square;\n             }\n         } else {\n             try {\n                 outerloop:\n                for (int i = 0; i &lt; 5; i++){\n                    for (int j = 0; j &lt; 5; j++){\n                       if (square[i][j].equals(&quot;A&quot;)) {\n                           String temp = square[i][j];\n                           square[i][j] = square[i-1][j];\n                           square[i-1][j] = temp;\n                           break outerloop;\n                       }\n                    }\n                }\n             } catch(Exception e) {\n                 System.out.println(&quot;sorry you have reached the end of the square&quot;);\n                 return square;\n             }\n         }\n         return square;\n    }\n</code></pre>\n<p>Finally, initialize it during your loop and get <code>square</code>. Then use <code>Arrays.deepToString()</code> to print out the output.</p>\n<p>Or to print in your format:\nget each item and print it out using the loop your mentioned above:</p>\n<pre><code>for (int i = 0; i &lt; 5; i++){\n  for (int j = 0; j &lt; 5; j++){\n    System.out.print(board[i][j] + &quot;\\n&quot;);\n  } \n}\n</code></pre>\n<p>Note: <strong>remember</strong> to replace square with the new square returned in the method!</p>\n"}],"owner":{"account_id":24958807,"reputation":21,"user_id":18822968,"display_name":"techplant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1650152100,"creation_date":1650145743,"question_id":71897725,"body_markdown":"    for (int i = 0; i &lt; 5; i++){\r\n      for (int j = 0; j &lt; 5; j++){\r\n        System.out.print(&quot;.&quot;);\r\n      } \r\n      System.out.println();\r\n    }\r\n\r\nTo create by 5*5 square: \r\n\r\n    . . . . .\r\n    . . . . .\r\n    . . . . .\r\n    . . . . .\r\n    . . . . .\r\n\r\nI would like to add a pointer onto the board, where I can receive input and traverse the pointer around the board. For example:\r\n\r\n    A . . . . \r\n    . . . . .\r\n    . . . . .\r\n    . . . . .\r\n    . . . . .\r\n\r\nEntering an input such as down would move my character downwards \r\n\r\n    . . . . . \r\n    A . . . .\r\n    . . . . .\r\n    . . . . .\r\n    . . . . .\r\n\r\nRight\r\n\r\n    . . . . . \r\n    . A . . .\r\n    . . . . .\r\n    . . . . .\r\n    . . . . .\r\n\r\nI understand I could use a Scanner scanner = new Scanner(System.in) to receive the input, and implement a switch to detect user input for &#39;up&#39;, &#39;down&#39;, &#39;left&#39; &amp; &#39;right&#39;. However how would I go about implenting this movement for pointer A on the 5*5 square in java?\r\n","title":"How to move an object around in a 2D Square","body":"<pre><code>for (int i = 0; i &lt; 5; i++){\n  for (int j = 0; j &lt; 5; j++){\n    System.out.print(&quot;.&quot;);\n  } \n  System.out.println();\n}\n</code></pre>\n<p>To create by 5*5 square:</p>\n<pre><code>. . . . .\n. . . . .\n. . . . .\n. . . . .\n. . . . .\n</code></pre>\n<p>I would like to add a pointer onto the board, where I can receive input and traverse the pointer around the board. For example:</p>\n<pre><code>A . . . . \n. . . . .\n. . . . .\n. . . . .\n. . . . .\n</code></pre>\n<p>Entering an input such as down would move my character downwards</p>\n<pre><code>. . . . . \nA . . . .\n. . . . .\n. . . . .\n. . . . .\n</code></pre>\n<p>Right</p>\n<pre><code>. . . . . \n. A . . .\n. . . . .\n. . . . .\n. . . . .\n</code></pre>\n<p>I understand I could use a Scanner scanner = new Scanner(System.in) to receive the input, and implement a switch to detect user input for 'up', 'down', 'left' &amp; 'right'. However how would I go about implenting this movement for pointer A on the 5*5 square in java?</p>\n"},{"tags":["java","jakarta-ee","intellij-idea","glassfish"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1518639500,"post_id":48795434,"comment_id":84593330,"body_markdown":"Your Java options aren&#39;t correct. Can&#39;t tell what they&#39;re set to based on this output. My guess; settings that were removed from Java some time ago (based on &quot;ignoring option MaxPermSize=192m; support was removed in 8.0&quot;). Try an older version of Java, or a newer version of glassfish.","body":"Your Java options aren&#39;t correct. Can&#39;t tell what they&#39;re set to based on this output. My guess; settings that were removed from Java some time ago (based on &quot;ignoring option MaxPermSize=192m; support was removed in 8.0&quot;). Try an older version of Java, or a newer version of glassfish."},{"owner":{"account_id":11278068,"reputation":161,"user_id":8271558,"accept_rate":14,"display_name":"SaKH"},"score":0,"creation_date":1518639713,"post_id":48795434,"comment_id":84593443,"body_markdown":"Glassfish that am using is the newer version. This morning is working fine for me but after rebooting my computer glassfish won&#39;t start!! How can I change the version of java ? in the file assenv.bat ?  ( the path : C:\\glassfish4\\glassfish\\config)","body":"Glassfish that am using is the newer version. This morning is working fine for me but after rebooting my computer glassfish won&#39;t start!! How can I change the version of java ? in the file assenv.bat ?  ( the path : C:\\glassfish4\\glassfish\\config)"},{"owner":{"account_id":73753,"reputation":4903,"user_id":212224,"display_name":"Mike"},"score":0,"creation_date":1518646901,"post_id":48795434,"comment_id":84596878,"body_markdown":"Setting `JAVA_HOME` in `asenv.bat` will change the Java version, but GlassFish 4 should be fine with Java 7 or 8. GF4 won&#39;t work on Java 9, but this is an odd error to see. Is there anything in the server.log?","body":"Setting <code>JAVA_HOME</code> in <code>asenv.bat</code> will change the Java version, but GlassFish 4 should be fine with Java 7 or 8. GF4 won&#39;t work on Java 9, but this is an odd error to see. Is there anything in the server.log?"},{"owner":{"account_id":11278068,"reputation":161,"user_id":8271558,"accept_rate":14,"display_name":"SaKH"},"score":0,"creation_date":1518647374,"post_id":48795434,"comment_id":84597098,"body_markdown":"I am using java 8. No I had only that output ! There is no error. it just showed me failed start domain","body":"I am using java 8. No I had only that output ! There is no error. it just showed me failed start domain"},{"owner":{"account_id":73753,"reputation":4903,"user_id":212224,"display_name":"Mike"},"score":0,"creation_date":1518647995,"post_id":48795434,"comment_id":84597361,"body_markdown":"Can you run other Java applications OK? I assume, by the intellij idea tag, that you can? You could perhaps try extracting GlassFish from the zip file once more so it is completely clean and try that.","body":"Can you run other Java applications OK? I assume, by the intellij idea tag, that you can? You could perhaps try extracting GlassFish from the zip file once more so it is completely clean and try that."},{"owner":{"account_id":11278068,"reputation":161,"user_id":8271558,"accept_rate":14,"display_name":"SaKH"},"score":0,"creation_date":1518648631,"post_id":48795434,"comment_id":84597609,"body_markdown":"I didn&#39;t test other java application. I tried also as u said to extract GlassFish from the zip file once more  but nothing new it doesn&#39;t work !! I am lost and don&#39;t know what should I do !!! I tried version 3 and 4, both  don&#39;t work. It&#39;s weird because I haven&#39;t that problem last week...","body":"I didn&#39;t test other java application. I tried also as u said to extract GlassFish from the zip file once more  but nothing new it doesn&#39;t work !! I am lost and don&#39;t know what should I do !!! I tried version 3 and 4, both  don&#39;t work. It&#39;s weird because I haven&#39;t that problem last week..."}],"owner":{"account_id":11278068,"reputation":161,"user_id":8271558,"accept_rate":14,"display_name":"SaKH"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650151931,"creation_date":1518639102,"question_id":48795434,"body_markdown":"I still having the same problem with glassfish !! I&#39;ve changed the port and executed the command as admin but it doesn&#39;t work..\r\n\r\nI also tried the command : **asadmin start-domain --verbose domain1**\r\n\r\nI tried also to create my own domain but it still not working...\r\n**Please Help me if you have any idea.**\r\n\r\nthis is the output (I am using windows 10):\r\n\r\n    C:\\glassfish4\\bin&gt;asadmin start-domain domain1\r\n    Waiting for domain1 to start ..Error starting domain domain1.\r\n    The server exited prematurely with exit code 1.\r\n    Before it died, it produced the following output:\r\n    \r\n    Syntaxe : java [-options] class [args...]\r\n               (pour l&#39;ex&#233;cution d&#39;une classe)\r\n       ou  java [-options] -jar jarfile [args...]\r\n               (pour l&#39;ex&#233;cution d&#39;un fichier JAR)\r\n    o&#249; les options comprennent :\r\n        -d32          utilisez le mod&#232;le de donn&#233;es 32 bits s&#39;il est disponible\r\n        -d64          utilisez le mod&#232;le de donn&#233;es 64 bits s&#39;il est disponible\r\n        -server       pour s&#233;lectionner la machine virtuelle &quot;server&quot;\r\n                      La machine virtuelle par d&#233;faut est server.\r\n    \r\n        -cp &lt;class search path of directories and zip/jar files&gt;\r\n        -classpath &lt;class search path of directories and zip/jar files&gt;\r\n                      Liste de r&#233;pertoires, d&#39;archives JAR et\r\n                       d&#39;archives ZIP s&#233;par&#233;s par des ;, dans laquelle rechercher les fichiers de classe.\r\n        -D&lt;name&gt;=&lt;value&gt;\r\n                      d&#233;finition d&#39;une propri&#233;t&#233; syst&#232;me\r\n        -verbose:[class|gc|jni]\r\n                      activation de la sortie en mode verbose\r\n        -version      impression de la version du produit et fin de l&#39;op&#233;ration\r\n        -version:&lt;value&gt;\r\n                      Avertissement : cette fonctionnalit&#233; est en phase d&#39;abandon et sera enlev&#233;e\r\n                      dans une version future.\r\n                      ex&#233;cution de la version sp&#233;cifi&#233;e obligatoire\r\n        -showversion  impression de la version du produit et poursuite de l&#39;op&#233;ration\r\n        -jre-restrict-search | -no-jre-restrict-search\r\n                      Avertissement : cette fonctionnalit&#233; est en phase d&#39;abandon et sera enlev&#233;e\r\n                      dans une version future.\r\n                      inclusion/exclusion des environnements JRE priv&#233;s de l&#39;utilisateur dans la recherche de version\r\n        -? -help      impression du message d&#39;aide\r\n        -X            impression de l&#39;aide sur les options non standard\r\n        -ea[:&lt;packagename&gt;...|:&lt;classname&gt;]\r\n        -enableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]\r\n                      activation des assertions avec la granularit&#233; sp&#233;cifi&#233;e\r\n        -da[:&lt;packagename&gt;...|:&lt;classname&gt;]\r\n        -disableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]\r\n                      d&#233;sactivation des assertions avec la granularit&#233; sp&#233;cifi&#233;e\r\n        -esa | -enablesystemassertions\r\n                      activation des assertions syst&#232;me\r\n        -dsa | -disablesystemassertions\r\n                      d&#233;sactivation des assertions syst&#232;me\r\n        -agentlib:&lt;libname&gt;[=&lt;options&gt;]\r\n                      chargement de la biblioth&#232;que d&#39;agent natif &lt;libname&gt;, par exemple -agentlib:hprof\r\n                      voir &#233;galement, -agentlib:jdwp=help et -agentlib:hprof=help\r\n        -agentpath:&lt;pathname&gt;[=&lt;options&gt;]\r\n                      chargement de la biblioth&#232;que d&#39;agent natif via le chemin d&#39;acc&#232;s complet\r\n        -javaagent:&lt;jarpath&gt;[=&lt;options&gt;]\r\n                      chargement de l&#39;agent du langage de programmation Java, voir java.lang.instrument\r\n        -splash:&lt;imagepath&gt;\r\n                      affichage de l&#39;&#233;cran d&#39;accueil avec l&#39;image sp&#233;cifi&#233;e\r\n    Voir http://www.oracle.com/technetwork/java/javase/documentation/index.html pour plus de d&#233;tails.\r\n    Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=192m; support was removed in 8.0\r\n    \r\n    Command start-domain failed.\r\n\r\n","title":"Glassfish won&#39;t start version 3 and 4","body":"<p>I still having the same problem with glassfish !! I've changed the port and executed the command as admin but it doesn't work..</p>\n\n<p>I also tried the command : <strong>asadmin start-domain --verbose domain1</strong></p>\n\n<p>I tried also to create my own domain but it still not working...\n<strong>Please Help me if you have any idea.</strong></p>\n\n<p>this is the output (I am using windows 10):</p>\n\n<pre><code>C:\\glassfish4\\bin&gt;asadmin start-domain domain1\nWaiting for domain1 to start ..Error starting domain domain1.\nThe server exited prematurely with exit code 1.\nBefore it died, it produced the following output:\n\nSyntaxe : java [-options] class [args...]\n           (pour l'exécution d'une classe)\n   ou  java [-options] -jar jarfile [args...]\n           (pour l'exécution d'un fichier JAR)\noù les options comprennent :\n    -d32          utilisez le modèle de données 32 bits s'il est disponible\n    -d64          utilisez le modèle de données 64 bits s'il est disponible\n    -server       pour sélectionner la machine virtuelle \"server\"\n                  La machine virtuelle par défaut est server.\n\n    -cp &lt;class search path of directories and zip/jar files&gt;\n    -classpath &lt;class search path of directories and zip/jar files&gt;\n                  Liste de répertoires, d'archives JAR et\n                   d'archives ZIP séparés par des ;, dans laquelle rechercher les fichiers de classe.\n    -D&lt;name&gt;=&lt;value&gt;\n                  définition d'une propriété système\n    -verbose:[class|gc|jni]\n                  activation de la sortie en mode verbose\n    -version      impression de la version du produit et fin de l'opération\n    -version:&lt;value&gt;\n                  Avertissement : cette fonctionnalité est en phase d'abandon et sera enlevée\n                  dans une version future.\n                  exécution de la version spécifiée obligatoire\n    -showversion  impression de la version du produit et poursuite de l'opération\n    -jre-restrict-search | -no-jre-restrict-search\n                  Avertissement : cette fonctionnalité est en phase d'abandon et sera enlevée\n                  dans une version future.\n                  inclusion/exclusion des environnements JRE privés de l'utilisateur dans la recherche de version\n    -? -help      impression du message d'aide\n    -X            impression de l'aide sur les options non standard\n    -ea[:&lt;packagename&gt;...|:&lt;classname&gt;]\n    -enableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]\n                  activation des assertions avec la granularité spécifiée\n    -da[:&lt;packagename&gt;...|:&lt;classname&gt;]\n    -disableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]\n                  désactivation des assertions avec la granularité spécifiée\n    -esa | -enablesystemassertions\n                  activation des assertions système\n    -dsa | -disablesystemassertions\n                  désactivation des assertions système\n    -agentlib:&lt;libname&gt;[=&lt;options&gt;]\n                  chargement de la bibliothèque d'agent natif &lt;libname&gt;, par exemple -agentlib:hprof\n                  voir également, -agentlib:jdwp=help et -agentlib:hprof=help\n    -agentpath:&lt;pathname&gt;[=&lt;options&gt;]\n                  chargement de la bibliothèque d'agent natif via le chemin d'accès complet\n    -javaagent:&lt;jarpath&gt;[=&lt;options&gt;]\n                  chargement de l'agent du langage de programmation Java, voir java.lang.instrument\n    -splash:&lt;imagepath&gt;\n                  affichage de l'écran d'accueil avec l'image spécifiée\nVoir http://www.oracle.com/technetwork/java/javase/documentation/index.html pour plus de détails.\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=192m; support was removed in 8.0\n\nCommand start-domain failed.\n</code></pre>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"score":2,"creation_date":1392666856,"post_id":21838078,"comment_id":33054585,"body_markdown":"Just curious but, why do you need to generate the value for the field?","body":"Just curious but, why do you need to generate the value for the field?"},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":1,"creation_date":1392667723,"post_id":21838078,"comment_id":33055039,"body_markdown":"Mainly because of triggers that modify non key columns. I need those values and am would like to remove the burden of manually refreshing (and sometimes evicting) entities that where just persisted.","body":"Mainly because of triggers that modify non key columns. I need those values and am would like to remove the burden of manually refreshing (and sometimes evicting) entities that where just persisted."},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1680280666,"post_id":21838078,"comment_id":133877225,"body_markdown":"Given this question was where I ended up recently (2023/Mar/28), it was deflating to see that it was unsolved...in early 2014. However, it turns out things have changed dramatically, as they do in Open Source software. And now there is actually a solution pathway. Here&#39;s the one I developed specifically for generating UUID outside of the PK (Primary Key): https://stackoverflow.com/a/75900798/501113","body":"Given this question was where I ended up recently (2023/Mar/28), it was deflating to see that it was unsolved...in early 2014. However, it turns out things have changed dramatically, as they do in Open Source software. And now there is actually a solution pathway. Here&#39;s the one I developed specifically for generating UUID outside of the PK (Primary Key): <a href=\"https://stackoverflow.com/a/75900798/501113\">stackoverflow.com/a/75900798/501113</a>"},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":1,"creation_date":1680287396,"post_id":21838078,"comment_id":133878673,"body_markdown":"@chaotic3quilibrium, unless I&#39;ve missed something, the answer in question is using Hibernate&#39;s `@Generated` annotation. Generated was already around back in 2014. My question is exactly about finding a pure JPA alternative to it (e.g., for folks using  other JPA providers such as EclipseLink). I haven&#39;t followed it closely, but if an alternative exists or is ever implemented I&#39;ll be happy to upvote other answers as well change the accepted answer once verified.","body":"@chaotic3quilibrium, unless I&#39;ve missed something, the answer in question is using Hibernate&#39;s <code>@Generated</code> annotation. Generated was already around back in 2014. My question is exactly about finding a pure JPA alternative to it (e.g., for folks using  other JPA providers such as EclipseLink). I haven&#39;t followed it closely, but if an alternative exists or is ever implemented I&#39;ll be happy to upvote other answers as well change the accepted answer once verified."},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":1,"creation_date":1680287878,"post_id":21838078,"comment_id":133878774,"body_markdown":"By the way. As far as I can tell there still isn&#39;t an alternative in the latest specs [Jakarta Persistence 3.1](https://jakarta.ee/specifications/persistence/3.1/) so apparently the answer bellow is unfortunately still correct.","body":"By the way. As far as I can tell there still isn&#39;t an alternative in the latest specs <a href=\"https://jakarta.ee/specifications/persistence/3.1/\" rel=\"nofollow noreferrer\">Jakarta Persistence 3.1</a> so apparently the answer bellow is unfortunately still correct."},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1680294584,"post_id":21838078,"comment_id":133880143,"body_markdown":"@AnthonyAccioly Ah. I missed that subtlety. For me and my experience (thus far), JPA and Hibernate are essentially the same thing. Tysvm for clarifying.","body":"@AnthonyAccioly Ah. I missed that subtlety. For me and my experience (thus far), JPA and Hibernate are essentially the same thing. Tysvm for clarifying."}],"answers":[{"tags":[],"owner":{"account_id":2102773,"reputation":19013,"user_id":1869933,"accept_rate":88,"display_name":"Koitoer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1392666797,"creation_date":1392666797,"answer_id":21838125,"question_id":21838078,"body_markdown":"I read the specs from the beginning until the end and it is not such thing, nothing comparable with @Generated, sorry , and as you said.\r\n\r\n&gt; The GeneratedValue annotation may be applied to a primary key property\r\n&gt; or field of an entity or mapped superclass in conjunction with the Id\r\n&gt; annotation.\r\n\r\nWhat you could do is use Event Listener **@PrePersist** and **@PreUpdate** to set some properties by default or generated by utility classes before em persist the object , try that approach it comes to my mind to something similiar.","title":"JPA equivalent of Hibernate&#39;s @Generated(GenerationTime.ALWAYS)","body":"<p>I read the specs from the beginning until the end and it is not such thing, nothing comparable with @Generated, sorry , and as you said.</p>\n\n<blockquote>\n  <p>The GeneratedValue annotation may be applied to a primary key property\n  or field of an entity or mapped superclass in conjunction with the Id\n  annotation.</p>\n</blockquote>\n\n<p>What you could do is use Event Listener <strong>@PrePersist</strong> and <strong>@PreUpdate</strong> to set some properties by default or generated by utility classes before em persist the object , try that approach it comes to my mind to something similiar.</p>\n"}],"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7444,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":21838125,"answer_count":1,"score":5,"last_activity_date":1650149841,"creation_date":1392666647,"question_id":21838078,"body_markdown":"When certain **non key** fields of a entity are generated in the database (for instance, by triggers) a call to `persist` will not bring back values that the database has just generated. In practice this means that you may need to `refresh` an entity after `persist` or `merge` (and when level 2 cache is enabled you may even need to `evict` the entity). \r\n\r\nHibernate have a custom annotation [`@Generated`](http://docs.jboss.org/hibernate/orm/4.3/javadocs/org/hibernate/annotations/Generated.html) which handles [Generated Properties](http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch05.html#mapping-generated).\r\n\r\n    // Refresh property 1 on insert and update\r\n    @Generated(GenerationTime.ALWAYS) \r\n    @Column(insertable = false, updatable = false)\r\n    private String property1;\r\n    \r\n    // Refresh property 2 on insert\r\n    @Generated(GenerationTime.INSERT) \r\n    @Column(insertable = false)\r\n    private String property2;\r\n\r\nJPA [`@GeneratedValue`](http://docs.oracle.com/javaee/7/api/javax/persistence/GeneratedValue.html) only works with primary key properties. \r\n\r\nSo, my question is if there is a replacement for `@Generated` on JPA API (maybe on 2.1)? And if there isn&#39;t one, what is the best practice to handle non key database generated fields?","title":"JPA equivalent of Hibernate&#39;s @Generated(GenerationTime.ALWAYS)","body":"<p>When certain <strong>non key</strong> fields of a entity are generated in the database (for instance, by triggers) a call to <code>persist</code> will not bring back values that the database has just generated. In practice this means that you may need to <code>refresh</code> an entity after <code>persist</code> or <code>merge</code> (and when level 2 cache is enabled you may even need to <code>evict</code> the entity).</p>\n<p>Hibernate have a custom annotation <a href=\"http://docs.jboss.org/hibernate/orm/4.3/javadocs/org/hibernate/annotations/Generated.html\" rel=\"nofollow noreferrer\"><code>@Generated</code></a> which handles <a href=\"http://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch05.html#mapping-generated\" rel=\"nofollow noreferrer\">Generated Properties</a>.</p>\n<pre><code>// Refresh property 1 on insert and update\n@Generated(GenerationTime.ALWAYS) \n@Column(insertable = false, updatable = false)\nprivate String property1;\n\n// Refresh property 2 on insert\n@Generated(GenerationTime.INSERT) \n@Column(insertable = false)\nprivate String property2;\n</code></pre>\n<p>JPA <a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/GeneratedValue.html\" rel=\"nofollow noreferrer\"><code>@GeneratedValue</code></a> only works with primary key properties.</p>\n<p>So, my question is if there is a replacement for <code>@Generated</code> on JPA API (maybe on 2.1)? And if there isn't one, what is the best practice to handle non key database generated fields?</p>\n"},{"tags":["java","selenium","xpath"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650149414,"creation_date":1650149414,"answer_id":71898032,"question_id":71888780,"body_markdown":"The desired information is distributed among several _`&lt;td&gt;`s_. So you have to identify the specific _`&lt;td&gt;`s_ \r\n\r\nTo parse the texts you can use the following [_locator strategies_](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver):\r\n\r\n- Printing _A Person_:\r\n\r\n\t  System.out.println(driver.findElement(By.xpath(&quot;//table[@class=&#39;svelte-abc&#39;]//tbody/tr[@class=&#39;svelte-abc&#39;]//following::td[2]&quot;)).getText());\r\n\t  \r\n- Printing _email@address.com_:\r\n\r\n\t  System.out.println(driver.findElement(By.xpath(&quot;//table[@class=&#39;svelte-abc&#39;]//tbody/tr[@class=&#39;svelte-abc&#39;]//following::td[3]&quot;)).getText());","title":"Selenium: How to get td objects within tr objects","body":"<p>The desired information is distributed among several <em><code>&lt;td&gt;</code>s</em>. So you have to identify the specific <em><code>&lt;td&gt;</code>s</em></p>\n<p>To parse the texts you can use the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Printing <em>A Person</em>:</p>\n<pre><code>System.out.println(driver.findElement(By.xpath(&quot;//table[@class='svelte-abc']//tbody/tr[@class='svelte-abc']//following::td[2]&quot;)).getText());\n</code></pre>\n</li>\n<li><p>Printing <em>email@address.com</em>:</p>\n<pre><code>System.out.println(driver.findElement(By.xpath(&quot;//table[@class='svelte-abc']//tbody/tr[@class='svelte-abc']//following::td[3]&quot;)).getText());\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":3161137,"reputation":139,"user_id":2672227,"accept_rate":50,"display_name":"Swatcat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71898032,"answer_count":1,"score":1,"last_activity_date":1650149414,"creation_date":1650055416,"question_id":71888780,"body_markdown":"I am trying to get rows of information for a user using Selenium and xpaths. I am able to get the rows using the following code:\r\n\r\n    String xpath = &quot;//tbody[contains(@class,&#39;svelte-abc&#39;)]//tr&quot;;\r\n    List&lt;WebElement&gt; elements = webDriver.findElements(By.xpath(xpath));\r\n\r\nWhat I am not sure is how to then parse the individual elements (TD&#39;s) for the row, e.g. the first one is a name, the second is email address.\r\n\r\nThe html is:\r\n\r\n    &lt;table class=&quot;svelte-abc&quot;&gt;\r\n        &lt;thead&gt;\r\n        .....\r\n        &lt;/thead&gt;\r\n\r\n        &lt;tbody&gt;\r\n            &lt;tr class=&quot;svelte-abc&quot;&gt;\r\n                &lt;td class=&quot;def&quot;&gt;\r\n                    &lt;div class=&quot;ace&quot;&gt;\r\n                        &lt;img ... &gt;\r\n                    &lt;/div&gt;\r\n                &lt;/td&gt;\r\n                &lt;td class=&quot;def&quot;&gt;A Person&lt;/td&gt;\r\n                &lt;td class=&quot;def&quot;&gt;email@address.com&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/tbody&gt;","title":"Selenium: How to get td objects within tr objects","body":"<p>I am trying to get rows of information for a user using Selenium and xpaths. I am able to get the rows using the following code:</p>\n<pre><code>String xpath = &quot;//tbody[contains(@class,'svelte-abc')]//tr&quot;;\nList&lt;WebElement&gt; elements = webDriver.findElements(By.xpath(xpath));\n</code></pre>\n<p>What I am not sure is how to then parse the individual elements (TD's) for the row, e.g. the first one is a name, the second is email address.</p>\n<p>The html is:</p>\n<pre><code>&lt;table class=&quot;svelte-abc&quot;&gt;\n    &lt;thead&gt;\n    .....\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n        &lt;tr class=&quot;svelte-abc&quot;&gt;\n            &lt;td class=&quot;def&quot;&gt;\n                &lt;div class=&quot;ace&quot;&gt;\n                    &lt;img ... &gt;\n                &lt;/div&gt;\n            &lt;/td&gt;\n            &lt;td class=&quot;def&quot;&gt;A Person&lt;/td&gt;\n            &lt;td class=&quot;def&quot;&gt;email@address.com&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n</code></pre>\n"},{"tags":["java","mysql","hibernate"],"comments":[{"owner":{"account_id":3481319,"reputation":876,"user_id":2913290,"accept_rate":50,"display_name":"Daniel Vilas-Boas"},"score":1,"creation_date":1650145090,"post_id":71896987,"comment_id":127048760,"body_markdown":"If I&#39;m not mistaken, order is a reserved word for spring data jpa or hibernate. Try renaming your table to something else and give it another try","body":"If I&#39;m not mistaken, order is a reserved word for spring data jpa or hibernate. Try renaming your table to something else and give it another try"}],"answers":[{"tags":[],"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650145080,"creation_date":1650145080,"answer_id":71897652,"question_id":71896987,"body_markdown":"`@Table(name = &quot;order&quot;)`: `order` is reserved word in MySQL. Change table name to something else, f.e. &quot;orders&quot; and it will work :) ","title":"SQLSyntaxErrorException in JPA One to many relationship","body":"<p><code>@Table(name = &quot;order&quot;)</code>: <code>order</code> is reserved word in MySQL. Change table name to something else, f.e. &quot;orders&quot; and it will work :)</p>\n"}],"owner":{"account_id":3054541,"reputation":651,"user_id":2588479,"accept_rate":100,"display_name":"Chan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71897652,"answer_count":1,"score":0,"last_activity_date":1650149030,"creation_date":1650138213,"question_id":71896987,"body_markdown":"I have two entity classes, Order class and OrderLineItems class. I am trying to create a one-many relationship between Order and OrderLineItems, i.e One Order can have multiple OrderLineItems. The code I have is given below.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;order&quot;)\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class Order {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long orderId;\r\n    private String orderNumber;\r\n    @OneToMany(mappedBy = &quot;order&quot;)\r\n    private List&lt;OrderLineItems&gt; orderLineItems;\r\n}\r\n```\r\n\r\n```\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;order_line_items&quot;)\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class OrderLineItems {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long orderLineItemsId;\r\n    private String skuCode;\r\n    private BigDecimal price;\r\n    private Integer quantity;\r\n    @ManyToOne(optional = false)\r\n    private Order order;\r\n    \r\n}\r\n\r\n```\r\n\r\nThe above code results in a SqlSyntaxErrorException. The relevant part of trace is given below. What am I doing wrong?\r\n\r\n```\r\n2022-04-16 12:39:22.643  INFO 85559 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\r\nHibernate: create table order (order_id bigint not null auto_increment, order_number varchar(255), primary key (order_id)) engine=InnoDB\r\n2022-04-16 12:39:23.098  WARN 85559 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table order (order_id bigint not null auto_increment, order_number varchar(255), primary key (order_id)) engine=InnoDB&quot; via JDBC Statement\r\n\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table order (order_id bigint not null auto_increment, order_number varchar(255), primary key (order_id)) engine=InnoDB&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:293) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:74) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:220) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.18.jar:5.3.18]\r\n\r\n.............\r\nCaused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;order (order_id bigint not null auto_increment, order_number varchar(255), prima&#39; at line 1\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.28.jar:8.0.28]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.28.jar:8.0.28]\r\n\tat com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-java-8.0.28.jar:8.0.28]\r\n\tat com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-java-8.0.28.jar:8.0.28]\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\r\n\t... 34 common frames omitted\r\n\r\n```\r\n\r\n","title":"SQLSyntaxErrorException in JPA One to many relationship","body":"<p>I have two entity classes, Order class and OrderLineItems class. I am trying to create a one-many relationship between Order and OrderLineItems, i.e One Order can have multiple OrderLineItems. The code I have is given below.</p>\n<pre><code>@Entity\n@Table(name = &quot;order&quot;)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class Order {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long orderId;\n    private String orderNumber;\n    @OneToMany(mappedBy = &quot;order&quot;)\n    private List&lt;OrderLineItems&gt; orderLineItems;\n}\n</code></pre>\n<pre><code>\n@Entity\n@Getter\n@Setter\n@Table(name = &quot;order_line_items&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class OrderLineItems {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long orderLineItemsId;\n    private String skuCode;\n    private BigDecimal price;\n    private Integer quantity;\n    @ManyToOne(optional = false)\n    private Order order;\n    \n}\n\n</code></pre>\n<p>The above code results in a SqlSyntaxErrorException. The relevant part of trace is given below. What am I doing wrong?</p>\n<pre><code>2022-04-16 12:39:22.643  INFO 85559 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\nHibernate: create table order (order_id bigint not null auto_increment, order_number varchar(255), primary key (order_id)) engine=InnoDB\n2022-04-16 12:39:23.098  WARN 85559 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table order (order_id bigint not null auto_increment, order_number varchar(255), primary key (order_id)) engine=InnoDB&quot; via JDBC Statement\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table order (order_id bigint not null auto_increment, order_number varchar(255), primary key (order_id)) engine=InnoDB&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:293) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:74) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:220) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.18.jar:5.3.18]\n\n.............\nCaused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'order (order_id bigint not null auto_increment, order_number varchar(255), prima' at line 1\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-java-8.0.28.jar:8.0.28]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.28.jar:8.0.28]\n    at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-java-8.0.28.jar:8.0.28]\n    at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-java-8.0.28.jar:8.0.28]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.7.Final.jar:5.6.7.Final]\n    ... 34 common frames omitted\n\n</code></pre>\n"},{"tags":["java","serialization","null"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1395157584,"post_id":22484215,"comment_id":34203957,"body_markdown":"Don&#39;t post your entire code. Take your time and create [minimal example](http://www.sscce.org/) we could use to reproduce your problem. There is also a chance that while creating such example you will figure out your problem yourself.","body":"Don&#39;t post your entire code. Take your time and create <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">minimal example</a> we could use to reproduce your problem. There is also a chance that while creating such example you will figure out your problem yourself."},{"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"score":0,"creation_date":1395158087,"post_id":22484215,"comment_id":34204379,"body_markdown":"Your `SearchResult` class isn&#39;t `serializable`","body":"Your <code>SearchResult</code> class isn&#39;t <code>serializable</code>"},{"owner":{"account_id":2347131,"reputation":1853,"user_id":2057069,"accept_rate":50,"display_name":"AndyFaizan"},"score":0,"creation_date":1395158151,"post_id":22484215,"comment_id":34204437,"body_markdown":"@NickHolt: OP has tried implementing Serializable in SearchResult as given in the points","body":"@NickHolt: OP has tried implementing Serializable in SearchResult as given in the points"},{"owner":{"account_id":3624061,"reputation":1801,"user_id":3022173,"display_name":"mttdbrd"},"score":0,"creation_date":1395158518,"post_id":22484215,"comment_id":34204755,"body_markdown":"I don&#39;t see how you&#39;re serializing the class. Are you using ObjectOutputStream?","body":"I don&#39;t see how you&#39;re serializing the class. Are you using ObjectOutputStream?"},{"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"score":0,"creation_date":1395159661,"post_id":22484215,"comment_id":34205604,"body_markdown":"Is the serialization/deserialization happening in the same JVM?  Given you&#39;ve set the `serialVersionUID` on `Protocol` it&#39;s possible that you have two different versions of the class (if you&#39;re using 2 JVMs).  One version of the class without the `searchResults` field being used on serializing side and another version of the class with the `searchResults` field being used on the serializing side, hence the field remains `null`","body":"Is the serialization/deserialization happening in the same JVM?  Given you&#39;ve set the <code>serialVersionUID</code> on <code>Protocol</code> it&#39;s possible that you have two different versions of the class (if you&#39;re using 2 JVMs).  One version of the class without the <code>searchResults</code> field being used on serializing side and another version of the class with the <code>searchResults</code> field being used on the serializing side, hence the field remains <code>null</code>"}],"answers":[{"tags":[],"owner":{"account_id":3624061,"reputation":1801,"user_id":3022173,"display_name":"mttdbrd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1395160314,"creation_date":1395158868,"answer_id":22484819,"question_id":22484215,"body_markdown":"This code correctly serializes and de-serializes the object:\r\n\r\n    //write out the object\r\n    FileOutputStream fos = new FileOutputStream(&quot;out.myobj&quot;);\r\n    ObjectOutputStream oos = new ObjectOutputStream(fos);\r\n    Protocol p = new Protocol(4);\r\n    p.setState(5);\r\n    oos.writeObject(p);\r\n    oos.close();\r\n\r\n    //read it in\r\n    FileInputStream fis = new FileInputStream(&quot;out.myobj&quot;);\r\n    ObjectInputStream ois = new ObjectInputStream(fis);\r\n    Protocol x = (Protocol)ois.readObject();\r\n    ois.close();\r\n    System.out.println(x.getState());\r\n\r\nOutput:\r\n\r\n&gt; 5\r\n\r\nIn this case, it&#39;s something with how you write the object to the stream.\r\n\r\nFYI: TableModel is an interface that does **not** implement Serializable. Implementing Serializable is *necessary* here only for Protocol. If you&#39;re instead writing out the class implementing TableModel, then that one needs to implement Serializable too.\r\n\r\nSee the docs: \r\n\r\nhttp://docs.oracle.com/javase/7/docs/api/javax/swing/table/TableModel.html","title":"Java Serialization/De-serialization giving null object references","body":"<p>This code correctly serializes and de-serializes the object:</p>\n\n<pre><code>//write out the object\nFileOutputStream fos = new FileOutputStream(\"out.myobj\");\nObjectOutputStream oos = new ObjectOutputStream(fos);\nProtocol p = new Protocol(4);\np.setState(5);\noos.writeObject(p);\noos.close();\n\n//read it in\nFileInputStream fis = new FileInputStream(\"out.myobj\");\nObjectInputStream ois = new ObjectInputStream(fis);\nProtocol x = (Protocol)ois.readObject();\nois.close();\nSystem.out.println(x.getState());\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>5</p>\n</blockquote>\n\n<p>In this case, it's something with how you write the object to the stream.</p>\n\n<p>FYI: TableModel is an interface that does <strong>not</strong> implement Serializable. Implementing Serializable is <em>necessary</em> here only for Protocol. If you're instead writing out the class implementing TableModel, then that one needs to implement Serializable too.</p>\n\n<p>See the docs: </p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/table/TableModel.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/javax/swing/table/TableModel.html</a></p>\n"},{"tags":[],"owner":{"account_id":18447907,"reputation":1,"user_id":13438714,"display_name":"Caner Arık"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650147623,"creation_date":1650147623,"answer_id":71897879,"question_id":22484215,"body_markdown":"**(&quot;protocol Controller&quot;) I think you should implement and use this**\r\n\r\n    import java.io.Serializable;\r\n    import javax.swing.table.TableModel;\r\n    \r\n    @Named(value = &quot;protocolController&quot;)\r\n    @SessionScoped\r\n    public class Protocol implements Serializable","title":"Java Serialization/De-serialization giving null object references","body":"<p><strong>(&quot;protocol Controller&quot;) I think you should implement and use this</strong></p>\n<pre><code>import java.io.Serializable;\nimport javax.swing.table.TableModel;\n\n@Named(value = &quot;protocolController&quot;)\n@SessionScoped\npublic class Protocol implements Serializable\n</code></pre>\n"}],"owner":{"account_id":2847956,"reputation":189,"user_id":2846321,"accept_rate":70,"display_name":"user163911"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4463,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650147623,"creation_date":1395157445,"question_id":22484215,"body_markdown":"I&#39;m working on a group project and we&#39;ve run into a problem with the serialization part of our software. We have the class protocol:\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n\r\n    import java.io.Serializable;\r\n    \r\n    import javax.swing.table.TableModel;\r\n    \r\n    public class Protocol implements Serializable{\r\n    \t\r\n    \t\r\n    \tprivate static final long serialVersionUID = 3474882407641871963L;\r\n    \tprivate int state;//0 = logged out \r\n    \t//1=logged in waiting for search \r\n    \t//2= search query sent\r\n    \tprivate String output;\r\n    \tprivate TableModel searchResults;\r\n    \t\r\n    \tpublic Protocol(int state){\r\n    \t\tthis.output = &quot;&quot;;\r\n    \t\tthis.state = 0;\r\n    \t\tthis.searchResults = null;\r\n    \t}\r\n    \t\r\n    \tpublic void setState(int s) {\r\n    \t\tthis.state = s;\r\n    \t}\r\n    \r\n    \tpublic void setOutput(String o) {\r\n    \t\tthis.output = o;\r\n    \t}\r\n    \r\n    \tpublic void setSearchResults(TableModel results) {\r\n    \t\tthis.searchResults = results;\r\n    \t}\r\n    \r\n    \tpublic String getOutput() {\r\n    \t\treturn this.output;\r\n    \t}\r\n        \r\n    \tpublic int getState(){\r\n    \t\treturn this.state;\r\n    \t}\r\n    \tpublic TableModel getSearchResults(){\r\n    \t\treturn this.searchResults;\r\n    \t}\r\n    \t\r\n    \r\n    }\r\n\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nWe also have the SearchResult class:\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\n\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.swing.event.TableModelListener;\r\n    import javax.swing.table.TableModel;\r\n    \r\n    /**\r\n     * An implementation of the TableModel interface that utilises a List of DataRow objects to\r\n     * store the data.\r\n     * \r\n     * @version 13/03/2014\r\n     * @author Jake Darby\r\n     * \r\n     * @see DataRow\r\n     * @see TableModel\r\n     */\r\n    public class SearchResult implements TableModel \r\n    {\r\n    \tprivate final List&lt;DataRow&gt; DATA;\r\n    \tprivate static final int NUM_COLUMNS = 8;\r\n    \tprivate final int NUM_ROWS;\r\n    \t\r\n    \t/**\r\n    \t * Constructor that generates a SearchResult object from a set of Results of a query to the &#39;products&#39; table\r\n    \t * \r\n    \t * @param data The results of an SQL query of the &#39;products&#39; table\r\n    \t * @throws SQLException\r\n    \t * \r\n    \t * @see ResultSet\r\n    \t */\r\n    \tpublic SearchResult (ResultSet data) throws SQLException\r\n    \t{\r\n    \t\tsuper();\r\n    \t\tDATA = DataRow.generate(data);\r\n    \t\tNUM_ROWS = DATA.size();\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Constructor creates an empty TableModel\r\n    \t */\r\n    \tpublic SearchResult()\r\n    \t{\r\n    \t\tsuper();\r\n    \t\tDATA = new ArrayList&lt;DataRow&gt;();\r\n    \t\tNUM_ROWS = 0;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic int getRowCount() \r\n    \t{\r\n    \t\treturn NUM_ROWS;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int getColumnCount() \r\n    \t{\r\n    \t\treturn NUM_COLUMNS;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getColumnName(int columnIndex) \r\n    \t{\r\n    \t\tswitch(columnIndex)\r\n    \t\t{\r\n    \t\tcase 0:\r\n    \t\t\treturn &quot;ID&quot;;\r\n    \t\tcase 1:\r\n    \t\t\treturn &quot;Name&quot;;\r\n    \t\tcase 2:\r\n    \t\t\treturn &quot;Price&quot;;\r\n    \t\tcase 3:\r\n    \t\t\treturn &quot;Pack Quantity&quot;;\r\n    \t\tcase 4:\r\n    \t\t\treturn &quot;Quantity in Stock&quot;;\r\n    \t\tcase 5:\r\n    \t\t\treturn &quot;VAT&quot;;\r\n    \t\tcase 6:\r\n    \t\t\treturn &quot;Order Date&quot;;\r\n    \t\tcase 7:\r\n    \t\t\treturn &quot;Expiry Date&quot;;\r\n    \t\tdefault:\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Class&lt;?&gt; getColumnClass(int columnIndex) \r\n    \t{\r\n    \t\tswitch(columnIndex)\r\n    \t\t{\r\n    \t\tcase 0:\r\n    \t\tcase 3:\r\n    \t\tcase 4:\r\n    \t\t\treturn Integer.class;\r\n    \t\tcase 1:\r\n    \t\tcase 2:\r\n    \t\tcase 6:\r\n    \t\tcase 7:\r\n    \t\t\treturn String.class;\r\n    \t\tcase 5:\r\n    \t\t\treturn Boolean.class;\r\n    \t\tdefault:\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean isCellEditable(int rowIndex, int columnIndex) \r\n    \t{\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object getValueAt(int rowIndex, int columnIndex) \r\n    \t{\r\n    \t\tDataRow row = DATA.get(rowIndex);\r\n    \t\tswitch(columnIndex)\r\n    \t\t{\r\n    \t\tcase -1:\r\n    \t\t\treturn row.getPrice();\r\n    \t\tcase 0:\r\n    \t\t\treturn row.getID();\r\n    \t\tcase 1:\r\n    \t\t\treturn row.getName();\r\n    \t\tcase 2:\r\n    \t\t\treturn String.format(&quot;&#163;%d.%02d&quot;, row.getPrice()/100, row.getPrice()%100);\r\n    \t\tcase 3:\r\n    \t\t\treturn row.getPackQuantity();\r\n    \t\tcase 4:\r\n    \t\t\treturn row.getQuantity();\r\n    \t\tcase 5:\r\n    \t\t\treturn row.getVAT();\r\n    \t\tcase 6:\r\n    \t\t\treturn row.getOrderDate() == null ? &quot;N/A&quot; : row.getOrderDate();\r\n    \t\tcase 7:\r\n    \t\t\treturn row.getExpiryDate() == null ? &quot;N/A&quot; : row.getExpiryDate();\r\n    \t\tdefault:\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void setValueAt(Object aValue, int rowIndex, int columnIndex) \r\n    \t{/*No implementation*/}\r\n    \t@Override\r\n    \tpublic void addTableModelListener(TableModelListener l) \r\n    \t{/*No implementation*/}\r\n    \r\n    \t@Override\r\n    \tpublic void removeTableModelListener(TableModelListener l) \r\n    \t{/*No implementation*/}\r\n    \t\r\n    \t@Override\r\n    \tpublic String toString()\r\n    \t{\r\n    \t\tString result = &quot;&quot;;\r\n    \t\tfor (int i = 0; i &lt; getRowCount(); i++)\r\n    \t\t{\r\n    \t\t\tfor (int j = 0; j &lt; getColumnCount(); j++)\r\n    \t\t\t{\r\n    \t\t\t\tresult += &quot;: &quot; + getValueAt(i, j) + &quot; :&quot;;\r\n    \t\t\t}\r\n    \t\t\tresult += &quot;\\n&quot;;\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    }\r\n\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nThe problem arises when we write the Protocol class over a client-server socket connection. The issue is that the TableModel object in the Protocol class becomes null at some point in the serialization/de-serialization process, and nothing we have done has yet fixed this.\r\n\r\nWe have so far tried:\r\n &lt;p&gt;- implementing Serializable in SearchResult (I don&#39;t believe that it should be necessary due to TableModel implementing Serializable)\r\n &lt;p&gt;- changing the TableModel field variable to a SearchResult field variable in Protocol\r\n\r\nAny help would be most appreciated.","title":"Java Serialization/De-serialization giving null object references","body":"<p>I'm working on a group project and we've run into a problem with the serialization part of our software. We have the class protocol:</p>\n\n<pre><code>\n\n    import java.io.Serializable;\n\n    import javax.swing.table.TableModel;\n\n    public class Protocol implements Serializable{\n\n\n        private static final long serialVersionUID = 3474882407641871963L;\n        private int state;//0 = logged out \n        //1=logged in waiting for search \n        //2= search query sent\n        private String output;\n        private TableModel searchResults;\n\n        public Protocol(int state){\n            this.output = \"\";\n            this.state = 0;\n            this.searchResults = null;\n        }\n\n        public void setState(int s) {\n            this.state = s;\n        }\n\n        public void setOutput(String o) {\n            this.output = o;\n        }\n\n        public void setSearchResults(TableModel results) {\n            this.searchResults = results;\n        }\n\n        public String getOutput() {\n            return this.output;\n        }\n\n        public int getState(){\n            return this.state;\n        }\n        public TableModel getSearchResults(){\n            return this.searchResults;\n        }\n\n\n    }\n\n</code></pre>\n\n<p>We also have the SearchResult class:</p>\n\n<pre>\n\n    import java.sql.ResultSet;\n    import java.sql.SQLException;\n    import java.util.ArrayList;\n    import java.util.List;\n\n    import javax.swing.event.TableModelListener;\n    import javax.swing.table.TableModel;\n\n    /**\n     * An implementation of the TableModel interface that utilises a List of DataRow objects to\n     * store the data.\n     * \n     * @version 13/03/2014\n     * @author Jake Darby\n     * \n     * @see DataRow\n     * @see TableModel\n     */\n    public class SearchResult implements TableModel \n    {\n        private final List DATA;\n        private static final int NUM_COLUMNS = 8;\n        private final int NUM_ROWS;\n\n        /**\n         * Constructor that generates a SearchResult object from a set of Results of a query to the 'products' table\n         * \n         * @param data The results of an SQL query of the 'products' table\n         * @throws SQLException\n         * \n         * @see ResultSet\n         */\n        public SearchResult (ResultSet data) throws SQLException\n        {\n            super();\n            DATA = DataRow.generate(data);\n            NUM_ROWS = DATA.size();\n        }\n\n        /**\n         * Constructor creates an empty TableModel\n         */\n        public SearchResult()\n        {\n            super();\n            DATA = new ArrayList();\n            NUM_ROWS = 0;\n        }\n\n        @Override\n        public int getRowCount() \n        {\n            return NUM_ROWS;\n        }\n\n        @Override\n        public int getColumnCount() \n        {\n            return NUM_COLUMNS;\n        }\n\n        @Override\n        public String getColumnName(int columnIndex) \n        {\n            switch(columnIndex)\n            {\n            case 0:\n                return \"ID\";\n            case 1:\n                return \"Name\";\n            case 2:\n                return \"Price\";\n            case 3:\n                return \"Pack Quantity\";\n            case 4:\n                return \"Quantity in Stock\";\n            case 5:\n                return \"VAT\";\n            case 6:\n                return \"Order Date\";\n            case 7:\n                return \"Expiry Date\";\n            default:\n                return null;\n            }\n        }\n\n        @Override\n        public Class getColumnClass(int columnIndex) \n        {\n            switch(columnIndex)\n            {\n            case 0:\n            case 3:\n            case 4:\n                return Integer.class;\n            case 1:\n            case 2:\n            case 6:\n            case 7:\n                return String.class;\n            case 5:\n                return Boolean.class;\n            default:\n                return null;\n            }\n        }\n\n        @Override\n        public boolean isCellEditable(int rowIndex, int columnIndex) \n        {\n            return false;\n        }\n\n        @Override\n        public Object getValueAt(int rowIndex, int columnIndex) \n        {\n            DataRow row = DATA.get(rowIndex);\n            switch(columnIndex)\n            {\n            case -1:\n                return row.getPrice();\n            case 0:\n                return row.getID();\n            case 1:\n                return row.getName();\n            case 2:\n                return String.format(\"£%d.%02d\", row.getPrice()/100, row.getPrice()%100);\n            case 3:\n                return row.getPackQuantity();\n            case 4:\n                return row.getQuantity();\n            case 5:\n                return row.getVAT();\n            case 6:\n                return row.getOrderDate() == null ? \"N/A\" : row.getOrderDate();\n            case 7:\n                return row.getExpiryDate() == null ? \"N/A\" : row.getExpiryDate();\n            default:\n                return null;\n            }\n        }\n\n        @Override\n        public void setValueAt(Object aValue, int rowIndex, int columnIndex) \n        {/*No implementation*/}\n        @Override\n        public void addTableModelListener(TableModelListener l) \n        {/*No implementation*/}\n\n        @Override\n        public void removeTableModelListener(TableModelListener l) \n        {/*No implementation*/}\n\n        @Override\n        public String toString()\n        {\n            String result = \"\";\n            for (int i = 0; i </pre>\n\n<p>The problem arises when we write the Protocol class over a client-server socket connection. The issue is that the TableModel object in the Protocol class becomes null at some point in the serialization/de-serialization process, and nothing we have done has yet fixed this.</p>\n\n<p>We have so far tried:\n <p>- implementing Serializable in SearchResult (I don't believe that it should be necessary due to TableModel implementing Serializable)\n <p>- changing the TableModel field variable to a SearchResult field variable in Protocol</p>\n\n<p>Any help would be most appreciated.</p>\n"},{"tags":["java","arrays","multidimensional-array","presentation"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1649883875,"post_id":71863797,"comment_id":126991666,"body_markdown":"Don&#39;t use `Arrays.toString`, but rather print out value by value directly.","body":"Don&#39;t use <code>Arrays.toString</code>, but rather print out value by value directly."},{"owner":{"display_name":"user18543051"},"score":0,"creation_date":1649884197,"post_id":71863797,"comment_id":126991771,"body_markdown":"So do you mean that I must manually change each element to &#39;.&#39; or is there a way of changing multiple elements at once. I am just asking because the array will change size, so this would make it difficult to hardcode.","body":"So do you mean that I must manually change each element to &#39;.&#39; or is there a way of changing multiple elements at once. I am just asking because the array will change size, so this would make it difficult to hardcode."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":2,"creation_date":1649884215,"post_id":71863797,"comment_id":126991777,"body_markdown":"Change `StdOut.println(Arrays.toString(gameBoard[i]));`  to `StdOut.println(String.join(&quot;&quot;, gameBoard[i]));`","body":"Change <code>StdOut.println(Arrays.toString(gameBoard[i]));</code>  to <code>StdOut.println(String.join(&quot;&quot;, gameBoard[i]));</code>"}],"answers":[{"tags":[],"owner":{"account_id":24930325,"reputation":1,"user_id":18797530,"display_name":"icodetea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649885035,"creation_date":1649885035,"answer_id":71863979,"question_id":71863797,"body_markdown":"as you see, the method of Arrays.toString() use &quot;[&quot; as prefix, &quot;,&quot; as delimeter and &quot;]&quot; as suffix. the easiest way to archieve what u want is to provide a custom toString method for your case:\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;What size matrix would you like?&quot;);\r\n        int m = 7; // just assume 7\r\n\r\n        // create board\r\n        String[][] gameBoard = new String[m][m];\r\n\r\n        for (int i = 0; i &lt; gameBoard.length; i++) {\r\n            Arrays.fill(gameBoard[i], &quot;*&quot;);\r\n            gameBoard[i][0] = &quot;.&quot;;\r\n            System.out.println(toString(gameBoard[i]));\r\n        }\r\n    }\r\n\r\n    private static String toString(String[] strings) {\r\n        StringBuffer result = new StringBuffer();\r\n        for (String string : strings) {\r\n            result.append(string);\r\n        }\r\n        return result.toString();\r\n    }","title":"Why is Arrays.fill() giving me a prefix, suffix and delimiters in the 2D array","body":"<p>as you see, the method of Arrays.toString() use &quot;[&quot; as prefix, &quot;,&quot; as delimeter and &quot;]&quot; as suffix. the easiest way to archieve what u want is to provide a custom toString method for your case:</p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(&quot;What size matrix would you like?&quot;);\n    int m = 7; // just assume 7\n\n    // create board\n    String[][] gameBoard = new String[m][m];\n\n    for (int i = 0; i &lt; gameBoard.length; i++) {\n        Arrays.fill(gameBoard[i], &quot;*&quot;);\n        gameBoard[i][0] = &quot;.&quot;;\n        System.out.println(toString(gameBoard[i]));\n    }\n}\n\nprivate static String toString(String[] strings) {\n    StringBuffer result = new StringBuffer();\n    for (String string : strings) {\n        result.append(string);\n    }\n    return result.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24142081,"reputation":78,"user_id":18108156,"display_name":"Daniel Scerpa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649885935,"creation_date":1649885589,"answer_id":71864050,"question_id":71863797,"body_markdown":"\r\nOne change seem to give you the results you want:\r\n\r\nYou can use String.join\r\n\r\n&gt; Returns a new String composed of copies of the CharSequence elements\r\n&gt; joined together with a copy of the specified delimiter\r\n\r\n\t\r\n    public static void main(String[] args) {\r\n          int m = 5;\r\n         \r\n         // create board\r\n         String[][] gameBoard = new String[m][m];\r\n         \r\n         for(int i = 0; i &lt; gameBoard.length; i++) {\r\n             Arrays.fill(gameBoard[i], &quot;*&quot;);\r\n             gameBoard[i][0] = &quot;.&quot;;\r\n             System.out.println(String.join(&quot;&quot;, gameBoard[i]));\r\n          }\r\n        }","title":"Why is Arrays.fill() giving me a prefix, suffix and delimiters in the 2D array","body":"<p>One change seem to give you the results you want:</p>\n<p>You can use String.join</p>\n<blockquote>\n<p>Returns a new String composed of copies of the CharSequence elements\njoined together with a copy of the specified delimiter</p>\n</blockquote>\n<pre><code>public static void main(String[] args) {\n      int m = 5;\n     \n     // create board\n     String[][] gameBoard = new String[m][m];\n     \n     for(int i = 0; i &lt; gameBoard.length; i++) {\n         Arrays.fill(gameBoard[i], &quot;*&quot;);\n         gameBoard[i][0] = &quot;.&quot;;\n         System.out.println(String.join(&quot;&quot;, gameBoard[i]));\n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21393283,"reputation":29,"user_id":15756901,"display_name":"axu08"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649885781,"creation_date":1649885781,"answer_id":71864076,"question_id":71863797,"body_markdown":"The simple solution is just to loop through all the elements one by one, and print them out.\r\n\r\nSo, for your loop, you would do:  \r\n```\r\nfor (int i = 0; i &lt; gameBoard.length; i++) {\r\n     Arrays.fill(gameBoard[i], &quot;*&quot;);\r\n     gameBoard[i][0] = &quot;.&quot;;\r\n\r\n     //edited part\r\n     for (int j = 0; j &lt; gameBoard[0].length; j++){\r\n          System.out.print(gameBoard[i][j]);\r\n     }\r\n\r\n     System.out.println();\r\n}\r\n```\r\nAnd note: this is similar to icodetea&#39;s solution, but a little bit easier to understand. ","title":"Why is Arrays.fill() giving me a prefix, suffix and delimiters in the 2D array","body":"<p>The simple solution is just to loop through all the elements one by one, and print them out.</p>\n<p>So, for your loop, you would do:</p>\n<pre><code>for (int i = 0; i &lt; gameBoard.length; i++) {\n     Arrays.fill(gameBoard[i], &quot;*&quot;);\n     gameBoard[i][0] = &quot;.&quot;;\n\n     //edited part\n     for (int j = 0; j &lt; gameBoard[0].length; j++){\n          System.out.print(gameBoard[i][j]);\n     }\n\n     System.out.println();\n}\n</code></pre>\n<p>And note: this is similar to icodetea's solution, but a little bit easier to understand.</p>\n"}],"owner":{"display_name":"user18543051"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1650147505,"creation_date":1649883645,"question_id":71863797,"body_markdown":"I am trying to create a grid String matrix using a 2D array. The matrix should be `mxm`, this will vary on the user&#39;s input. The first column must consist of `.` and the columns thereafter must consist of `*`. I have imported the `java.util.Arrays` method and am using the `toString` function. The problem is that I am getting an output that has delimiters as well as prefixes and suffixes. The output looks like this: \r\n\r\n    [., *, *, *, *, *, *, *]\r\n    [., *, *, *, *, *, *, *]\r\n    [., *, *, *, *, *, *, *]\r\n    [., *, *, *, *, *, *, *]\r\n    [., *, *, *, *, *, *, *]\r\n    [., *, *, *, *, *, *, *]\r\n    [., *, *, *, *, *, *, *]\r\n    [., *, *, *, *, *, *, *]\r\n\r\nHowever, I want the code to look like this:\r\n\r\n    .*******\r\n    .*******\r\n    .*******\r\n    .*******\r\n    .*******\r\n    .*******\r\n    .*******\r\n    .*******\r\n\r\nSo essentially I want to know if there is a way to get the matrix to have no square brackets or commas and how would I go about achieving this?\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class trial1 {\r\n\t \r\n\t public static void main(String[] args) {\r\n\t\t  StdOut.println(&quot;What size matrix would you like?&quot;);\r\n          int m = StdIn.readInt();\r\n\t\t \r\n\t\t // create board\r\n\t\t String[][] gameBoard = new String[m][m];\r\n\t\t \r\n\t\t for(int i = 0; i &lt; gameBoard.length; i++) {\r\n\t\t\t Arrays.fill(gameBoard[i], &quot;*&quot;);\r\n\t\t\t gameBoard[i][0] = &quot;.&quot;;\r\n\t\t\t StdOut.println(Arrays.toString(gameBoard[i]));\r\n\t      }\r\n\t\t \t}\r\n\t\r\n\t }","title":"Why is Arrays.fill() giving me a prefix, suffix and delimiters in the 2D array","body":"<p>I am trying to create a grid String matrix using a 2D array. The matrix should be <code>mxm</code>, this will vary on the user's input. The first column must consist of <code>.</code> and the columns thereafter must consist of <code>*</code>. I have imported the <code>java.util.Arrays</code> method and am using the <code>toString</code> function. The problem is that I am getting an output that has delimiters as well as prefixes and suffixes. The output looks like this:</p>\n<pre><code>[., *, *, *, *, *, *, *]\n[., *, *, *, *, *, *, *]\n[., *, *, *, *, *, *, *]\n[., *, *, *, *, *, *, *]\n[., *, *, *, *, *, *, *]\n[., *, *, *, *, *, *, *]\n[., *, *, *, *, *, *, *]\n[., *, *, *, *, *, *, *]\n</code></pre>\n<p>However, I want the code to look like this:</p>\n<pre><code>.*******\n.*******\n.*******\n.*******\n.*******\n.*******\n.*******\n.*******\n</code></pre>\n<p>So essentially I want to know if there is a way to get the matrix to have no square brackets or commas and how would I go about achieving this?</p>\n<pre><code>import java.util.Arrays;\n\npublic class trial1 {\n \n public static void main(String[] args) {\n      StdOut.println(&quot;What size matrix would you like?&quot;);\n      int m = StdIn.readInt();\n     \n     // create board\n     String[][] gameBoard = new String[m][m];\n     \n     for(int i = 0; i &lt; gameBoard.length; i++) {\n         Arrays.fill(gameBoard[i], &quot;*&quot;);\n         gameBoard[i][0] = &quot;.&quot;;\n         StdOut.println(Arrays.toString(gameBoard[i]));\n      }\n        }\n\n }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1650149662,"post_id":71892024,"comment_id":127049480,"body_markdown":"you do know that spring security comes with a built in JWTFilter, so all your custom code is not needed.","body":"you do know that spring security comes with a built in JWTFilter, so all your custom code is not needed."}],"answers":[{"tags":[],"owner":{"account_id":127329,"reputation":2592,"user_id":324407,"accept_rate":25,"display_name":"Delta George"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650147197,"creation_date":1650147197,"answer_id":71897844,"question_id":71892024,"body_markdown":"I noticed that AuthorizationFilter creates authorities but then does not set them in the UsernamePasswordAuthenticationToken. Your security matchers require an authority.","title":"403 error despite having a 200 ok response on login Springboot","body":"<p>I noticed that AuthorizationFilter creates authorities but then does not set them in the UsernamePasswordAuthenticationToken. Your security matchers require an authority.</p>\n"}],"owner":{"account_id":12612034,"reputation":226,"user_id":9170790,"display_name":"JamieRhys"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1447,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71897844,"answer_count":1,"score":-2,"last_activity_date":1650147197,"creation_date":1650095040,"question_id":71892024,"body_markdown":"I&#39;m running into a weird situation.\r\n\r\nHere&#39;s what I know:\r\n\r\nIn order to get it to log in, I need to send the credentials as a ```x-www-form-urlencoded``` POST request. User provides correct credentials, it passes and provides the user with an access token and a refresh token, if not, it fails and does not provide any of those tokens - which is what one would expect.\r\n\r\nNow, once logged in and I try to access a resource - in this case it&#39;s the list of users I have - it fails with a 403 forbidden error. I&#39;m currently using PostMan to test the API. The initial ```POST``` request I made after login is with a ```Bearer Token``` authorisation where in I use the access token. It fails. After debugging my code on Spring Boot:\r\n\r\n```\r\n@Slf4j\r\npublic class AuthorizationFilter extends OncePerRequestFilter {\r\n    @Override\r\n    protected void doFilterInternal(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            FilterChain filterChain\r\n    ) throws ServletException, IOException {\r\n        if(request.getServletPath().equals(&quot;api/login&quot;) || request.getServletPath().equals(&quot;/api/token/refresh&quot;)) {\r\n            filterChain.doFilter(request, response);\r\n        } else {\r\n            String authorizationHeader = request.getHeader(AUTHORIZATION);\r\n\r\n            if(authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\r\n                try {\r\n                    String token = authorizationHeader.substring(&quot;Bearer &quot;.length());\r\n                    // TODO: Refactor this to a utility class.\r\n                    Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\r\n                    JWTVerifier verifier = JWT.require(algorithm).build();\r\n                    DecodedJWT decodedJWT = verifier.verify(token);\r\n                    String username = decodedJWT.getSubject();\r\n                    String[] roles = decodedJWT.getClaim(&quot;roles&quot;).asArray(String.class);\r\n                    Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n                    stream(roles).forEach(role -&gt; {\r\n                        authorities.add(new SimpleGrantedAuthority(role));\r\n                    });\r\n                    UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(username, null);\r\n                    SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n                    filterChain.doFilter(request, response);\r\n                } catch (Exception exception) {\r\n                    log.error(&quot;Error logging in: &quot; + exception.getMessage());\r\n\r\n                    Map&lt;String, String&gt; error = new HashMap&lt;&gt;();\r\n                    error.put(&quot;error_message&quot;, exception.getMessage());\r\n                    response.setContentType(APPLICATION_JSON_VALUE);\r\n                    new ObjectMapper().writeValue(response.getOutputStream(), error);\r\n                }\r\n            } else {\r\n                filterChain.doFilter(request, response);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI found that ```token``` returns null. OK... let&#39;s try sending it as ```x-www-form-urlencoded``` instead. ```token``` picks up the token sent... Great! stepped in all the way through the code after ```filterChain.doFilter(request, response);``` and get to ```requiresAuthentication()``` in Spring Boots code... this returns ```false``` which is good... This is looking really good.\r\n\r\nHowever, return to Postman - ```Status: 403 Forbidden```. Oh - how? Looking at the logs for Spring Boot I picked out the following which is related to my url entrypoint:\r\n\r\n```\r\n2022-04-16 08:36:47.267 DEBUG 21000 --- [nio-8102-exec-4] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1683533175&lt;open&gt;)] after transaction\r\n2022-04-16 08:36:47.275 DEBUG 21000 --- [nio-8102-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to authenticate since no credentials provided\r\n2022-04-16 08:36:47.275 DEBUG 21000 --- [nio-8102-exec-4] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\r\n2022-04-16 08:36:47.275 DEBUG 21000 --- [nio-8102-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n2022-04-16 08:36:47.275 DEBUG 21000 --- [nio-8102-exec-4] o.a.c.c.C.[Tomcat].[localhost]           : Processing ErrorPage[errorCode=0, location=/error]\r\n2022-04-16 08:36:47.285 DEBUG 21000 --- [nio-8102-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error\r\n```\r\n\r\nBeing new to this, I&#39;m not sure how I should proceed to fix this. \r\n\r\nEDIT:\r\n\r\nThis is my current security configuration:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    @Lazy\r\n    private final UserDetailsService userDetailsService;\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable();\r\n        http.cors();\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        http.authorizeRequests().antMatchers(&quot;/login/**&quot;, &quot;/api/login/**&quot;, &quot;/api/token/refresh/**&quot;).permitAll();\r\n        http.authorizeRequests().antMatchers(HttpMethod.GET, &quot;/api/users/**&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;);\r\n        http.authorizeRequests().antMatchers(HttpMethod.POST, &quot;/api/user/save/**&quot;).hasAnyAuthority(&quot;ROLE_ADMIN&quot;);\r\n        http.authorizeRequests().antMatchers(HttpMethod.POST, &quot;/api/role/assign-to-user/**&quot;).hasAnyAuthority(&quot;ROLE_ADMIN&quot;);\r\n        http.authorizeRequests().anyRequest().authenticated();\r\n        http.addFilter(new AuthenticationFilter(authenticationManagerBean()));\r\n        http.addFilterBefore(new AuthorizationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n\r\n    @Bean\r\n    protected CorsConfigurationSource corsConfigurationSource() {\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\r\n        CorsConfiguration config = new CorsConfiguration();\r\n        config.setAllowedOriginPatterns(List.of(&quot;*&quot;));\r\n        config.setAllowedMethods(List.of(&quot;*&quot;));\r\n        config.setAllowedHeaders(List.of(&quot;*&quot;));\r\n        config.setAllowCredentials(true);\r\n        config.applyPermitDefaultValues();\r\n\r\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n\r\n        return source;\r\n    }\r\n}\r\n```\r\n\r\nAuthenticationFilter:\r\n\r\n```\r\n@Slf4j\r\npublic class AuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n    private final AuthenticationManager authenticationManager;\r\n\r\n    public AuthenticationFilter(AuthenticationManager authenticationManager) {\r\n        this.authenticationManager = authenticationManager;\r\n    }\r\n    @Override\r\n    public Authentication attemptAuthentication(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response\r\n    ) throws AuthenticationException {\r\n        String username = request.getParameter(&quot;username&quot;);\r\n        String password = request.getParameter(&quot;password&quot;);\r\n\r\n        log.info(&quot;Username: \\&quot;&quot; + username + &quot;\\&quot;, password: \\&quot;&quot; + password + &quot;\\&quot;&quot;);\r\n\r\n        UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(username, password);\r\n        return authenticationManager.authenticate(authenticationToken);\r\n    }\r\n\r\n    @Override\r\n    protected void successfulAuthentication(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            FilterChain chain,\r\n            Authentication authentication\r\n    ) throws IOException, ServletException {\r\n        User user = (User) authentication.getPrincipal();\r\n        // TODO: Generate secret key that is a little more secure than this.\r\n        Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\r\n        String accessToken = JWT.create()\r\n                .withSubject(user.getUsername())\r\n                .withExpiresAt(new Date(System.currentTimeMillis() + 10 * 60 * 1000))\r\n                .withIssuer(request.getRequestURL().toString())\r\n                .withClaim(&quot;roles&quot;, user.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.toList()))\r\n                .sign(algorithm);\r\n\r\n        String refreshToken  = JWT.create()\r\n                .withSubject(user.getUsername())\r\n                .withExpiresAt(new Date(System.currentTimeMillis() + 30 * 60 * 1000))\r\n                .withIssuer(request.getRequestURL().toString())\r\n                .sign(algorithm);\r\n\r\n        Map&lt;String, String&gt; tokens = new HashMap&lt;&gt;();\r\n        tokens.put(&quot;access_token&quot;, accessToken);\r\n        tokens.put(&quot;refresh_token&quot;, refreshToken);\r\n\r\n        response.setContentType(APPLICATION_JSON_VALUE);\r\n        new ObjectMapper().writeValue(response.getOutputStream(), tokens);\r\n    }\r\n}\r\n```","title":"403 error despite having a 200 ok response on login Springboot","body":"<p>I'm running into a weird situation.</p>\n<p>Here's what I know:</p>\n<p>In order to get it to log in, I need to send the credentials as a <code>x-www-form-urlencoded</code> POST request. User provides correct credentials, it passes and provides the user with an access token and a refresh token, if not, it fails and does not provide any of those tokens - which is what one would expect.</p>\n<p>Now, once logged in and I try to access a resource - in this case it's the list of users I have - it fails with a 403 forbidden error. I'm currently using PostMan to test the API. The initial <code>POST</code> request I made after login is with a <code>Bearer Token</code> authorisation where in I use the access token. It fails. After debugging my code on Spring Boot:</p>\n<pre><code>@Slf4j\npublic class AuthorizationFilter extends OncePerRequestFilter {\n    @Override\n    protected void doFilterInternal(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            FilterChain filterChain\n    ) throws ServletException, IOException {\n        if(request.getServletPath().equals(&quot;api/login&quot;) || request.getServletPath().equals(&quot;/api/token/refresh&quot;)) {\n            filterChain.doFilter(request, response);\n        } else {\n            String authorizationHeader = request.getHeader(AUTHORIZATION);\n\n            if(authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)) {\n                try {\n                    String token = authorizationHeader.substring(&quot;Bearer &quot;.length());\n                    // TODO: Refactor this to a utility class.\n                    Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\n                    JWTVerifier verifier = JWT.require(algorithm).build();\n                    DecodedJWT decodedJWT = verifier.verify(token);\n                    String username = decodedJWT.getSubject();\n                    String[] roles = decodedJWT.getClaim(&quot;roles&quot;).asArray(String.class);\n                    Collection&lt;SimpleGrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n                    stream(roles).forEach(role -&gt; {\n                        authorities.add(new SimpleGrantedAuthority(role));\n                    });\n                    UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(username, null);\n                    SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n                    filterChain.doFilter(request, response);\n                } catch (Exception exception) {\n                    log.error(&quot;Error logging in: &quot; + exception.getMessage());\n\n                    Map&lt;String, String&gt; error = new HashMap&lt;&gt;();\n                    error.put(&quot;error_message&quot;, exception.getMessage());\n                    response.setContentType(APPLICATION_JSON_VALUE);\n                    new ObjectMapper().writeValue(response.getOutputStream(), error);\n                }\n            } else {\n                filterChain.doFilter(request, response);\n            }\n        }\n    }\n}\n</code></pre>\n<p>I found that <code>token</code> returns null. OK... let's try sending it as <code>x-www-form-urlencoded</code> instead. <code>token</code> picks up the token sent... Great! stepped in all the way through the code after <code>filterChain.doFilter(request, response);</code> and get to <code>requiresAuthentication()</code> in Spring Boots code... this returns <code>false</code> which is good... This is looking really good.</p>\n<p>However, return to Postman - <code>Status: 403 Forbidden</code>. Oh - how? Looking at the logs for Spring Boot I picked out the following which is related to my url entrypoint:</p>\n<pre><code>2022-04-16 08:36:47.267 DEBUG 21000 --- [nio-8102-exec-4] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(1683533175&lt;open&gt;)] after transaction\n2022-04-16 08:36:47.275 DEBUG 21000 --- [nio-8102-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to authenticate since no credentials provided\n2022-04-16 08:36:47.275 DEBUG 21000 --- [nio-8102-exec-4] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access\n2022-04-16 08:36:47.275 DEBUG 21000 --- [nio-8102-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n2022-04-16 08:36:47.275 DEBUG 21000 --- [nio-8102-exec-4] o.a.c.c.C.[Tomcat].[localhost]           : Processing ErrorPage[errorCode=0, location=/error]\n2022-04-16 08:36:47.285 DEBUG 21000 --- [nio-8102-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error\n</code></pre>\n<p>Being new to this, I'm not sure how I should proceed to fix this.</p>\n<p>EDIT:</p>\n<p>This is my current security configuration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n    @Lazy\n    private final UserDetailsService userDetailsService;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable();\n        http.cors();\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.authorizeRequests().antMatchers(&quot;/login/**&quot;, &quot;/api/login/**&quot;, &quot;/api/token/refresh/**&quot;).permitAll();\n        http.authorizeRequests().antMatchers(HttpMethod.GET, &quot;/api/users/**&quot;).hasAnyAuthority(&quot;ROLE_USER&quot;);\n        http.authorizeRequests().antMatchers(HttpMethod.POST, &quot;/api/user/save/**&quot;).hasAnyAuthority(&quot;ROLE_ADMIN&quot;);\n        http.authorizeRequests().antMatchers(HttpMethod.POST, &quot;/api/role/assign-to-user/**&quot;).hasAnyAuthority(&quot;ROLE_ADMIN&quot;);\n        http.authorizeRequests().anyRequest().authenticated();\n        http.addFilter(new AuthenticationFilter(authenticationManagerBean()));\n        http.addFilterBefore(new AuthorizationFilter(), UsernamePasswordAuthenticationFilter.class);\n    }\n\n    @Bean\n    protected CorsConfigurationSource corsConfigurationSource() {\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowedOriginPatterns(List.of(&quot;*&quot;));\n        config.setAllowedMethods(List.of(&quot;*&quot;));\n        config.setAllowedHeaders(List.of(&quot;*&quot;));\n        config.setAllowCredentials(true);\n        config.applyPermitDefaultValues();\n\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\n\n        return source;\n    }\n}\n</code></pre>\n<p>AuthenticationFilter:</p>\n<pre><code>@Slf4j\npublic class AuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n    private final AuthenticationManager authenticationManager;\n\n    public AuthenticationFilter(AuthenticationManager authenticationManager) {\n        this.authenticationManager = authenticationManager;\n    }\n    @Override\n    public Authentication attemptAuthentication(\n            HttpServletRequest request,\n            HttpServletResponse response\n    ) throws AuthenticationException {\n        String username = request.getParameter(&quot;username&quot;);\n        String password = request.getParameter(&quot;password&quot;);\n\n        log.info(&quot;Username: \\&quot;&quot; + username + &quot;\\&quot;, password: \\&quot;&quot; + password + &quot;\\&quot;&quot;);\n\n        UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(username, password);\n        return authenticationManager.authenticate(authenticationToken);\n    }\n\n    @Override\n    protected void successfulAuthentication(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            FilterChain chain,\n            Authentication authentication\n    ) throws IOException, ServletException {\n        User user = (User) authentication.getPrincipal();\n        // TODO: Generate secret key that is a little more secure than this.\n        Algorithm algorithm = Algorithm.HMAC256(&quot;secret&quot;.getBytes());\n        String accessToken = JWT.create()\n                .withSubject(user.getUsername())\n                .withExpiresAt(new Date(System.currentTimeMillis() + 10 * 60 * 1000))\n                .withIssuer(request.getRequestURL().toString())\n                .withClaim(&quot;roles&quot;, user.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.toList()))\n                .sign(algorithm);\n\n        String refreshToken  = JWT.create()\n                .withSubject(user.getUsername())\n                .withExpiresAt(new Date(System.currentTimeMillis() + 30 * 60 * 1000))\n                .withIssuer(request.getRequestURL().toString())\n                .sign(algorithm);\n\n        Map&lt;String, String&gt; tokens = new HashMap&lt;&gt;();\n        tokens.put(&quot;access_token&quot;, accessToken);\n        tokens.put(&quot;refresh_token&quot;, refreshToken);\n\n        response.setContentType(APPLICATION_JSON_VALUE);\n        new ObjectMapper().writeValue(response.getOutputStream(), tokens);\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","fxml"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1650138686,"post_id":71896683,"comment_id":127047607,"body_markdown":"Via an `FXMLLoader`? No, I don&#39;t think you can do what you want. But you could use the [`java.xml` module](https://docs.oracle.com/en/java/javase/18/docs/api/java.xml/module-summary.html) to parse the FXML file (which is really just an XML file), get the root element, and look for the `fx:controller` attribute.","body":"Via an <code>FXMLLoader</code>? No, I don&#39;t think you can do what you want. But you could use the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.xml/module-summary.html\" rel=\"nofollow noreferrer\"><code>java.xml</code> module</a> to parse the FXML file (which is really just an XML file), get the root element, and look for the <code>fx:controller</code> attribute."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1650163005,"post_id":71896683,"comment_id":127050826,"body_markdown":"“I would like to get the fx:controller” -&gt; call [`loader.getController()`](https://openjfx.io/javadoc/17/javafx.fxml/javafx/fxml/FXMLLoader.html#getController())","body":"“I would like to get the fx:controller” -&gt; call <a href=\"https://openjfx.io/javadoc/17/javafx.fxml/javafx/fxml/FXMLLoader.html#getController()\" rel=\"nofollow noreferrer\"><code>loader.getController()</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650146139,"creation_date":1650146139,"answer_id":71897755,"question_id":71896683,"body_markdown":"You can get the controller class as a String  , but you need to load  your loader object first .\r\n\r\n  \r\n\r\n    package repTest;\r\n    \r\n    import java.net.URL;\r\n    \r\n    import javafx.fxml.FXMLLoader;\r\n    import repTest.jfreeChart.chartTestMain;\r\n    \r\n    public class GetFxmlInfo {\r\n    public static void main(String[] args) {\r\n        // TODO Auto-generated method stub\r\n\r\n        \r\n       URL location = chartTestMain.class.getResource(&quot;/repTest/sof.fxml&quot;);    \r\n       System.out.println(&quot;loc&quot;+location);\r\n       final FXMLLoader loader = new FXMLLoader(location);\r\n       loader.load();\r\n       String string = loader.getController().getClass().toString();\r\n        \r\n       System.out.println(string);\r\n        \r\n    }\r\n\r\n    }\r\n\r\n\r\n\r\n","title":"how to get an attribute value from fxml file?","body":"<p>You can get the controller class as a String  , but you need to load  your loader object first .</p>\n<pre><code>package repTest;\n\nimport java.net.URL;\n\nimport javafx.fxml.FXMLLoader;\nimport repTest.jfreeChart.chartTestMain;\n\npublic class GetFxmlInfo {\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n\n    \n   URL location = chartTestMain.class.getResource(&quot;/repTest/sof.fxml&quot;);    \n   System.out.println(&quot;loc&quot;+location);\n   final FXMLLoader loader = new FXMLLoader(location);\n   loader.load();\n   String string = loader.getController().getClass().toString();\n    \n   System.out.println(string);\n    \n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":2590622,"reputation":523,"user_id":2245414,"accept_rate":75,"display_name":"froggy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1650146139,"creation_date":1650135607,"question_id":71896683,"body_markdown":"Is there a loder method to get attribute value of fxml file ?\r\n\r\nI mean from loader is there a way to use somthing like loader.meth1().meth2()...\r\n\r\nfor example I would like to get the fx:controller value\r\n\r\n**sof.fxml** file : \r\n``` \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n\r\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;964.0&quot; prefWidth=&quot;1209.0&quot; stylesheets=&quot;@../../extension/extension.css&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;vue.vuetestCtrl&quot; /&gt;\r\n``` \r\n\r\n\r\njava file :\r\n``` \r\npackage repTest;\r\n\r\nimport java.net.URL;\r\n\r\nimport javafx.fxml.FXMLLoader;\r\nimport repTest.jfreeChart.chartTestMain;\r\n\r\npublic class GetFxmlInfo {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\t\r\n\t\tURL location = chartTestMain.class.getResource(&quot;/repTest/sof.fxml&quot;);    \r\n\t\tSystem.out.println(&quot;loc&quot;+location);\r\n\t   \tfinal FXMLLoader loader = new FXMLLoader(location);\r\n\t\t\r\n\t}\r\n\r\n}\r\n``` ","title":"how to get an attribute value from fxml file?","body":"<p>Is there a loder method to get attribute value of fxml file ?</p>\n<p>I mean from loader is there a way to use somthing like loader.meth1().meth2()...</p>\n<p>for example I would like to get the fx:controller value</p>\n<p><strong>sof.fxml</strong> file :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;964.0&quot; prefWidth=&quot;1209.0&quot; stylesheets=&quot;@../../extension/extension.css&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;vue.vuetestCtrl&quot; /&gt;\n</code></pre>\n<p>java file :</p>\n<pre><code>package repTest;\n\nimport java.net.URL;\n\nimport javafx.fxml.FXMLLoader;\nimport repTest.jfreeChart.chartTestMain;\n\npublic class GetFxmlInfo {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        \n        URL location = chartTestMain.class.getResource(&quot;/repTest/sof.fxml&quot;);    \n        System.out.println(&quot;loc&quot;+location);\n        final FXMLLoader loader = new FXMLLoader(location);\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","bazel"],"answers":[{"tags":[],"owner":{"account_id":10716163,"reputation":136,"user_id":8233415,"display_name":"Skk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634329712,"creation_date":1634329712,"answer_id":69590265,"question_id":69192209,"body_markdown":"You need to include this in the `data` attribute:\r\n\r\n```starlark\r\njava_junit5_test(\r\n    name = &quot;snapshot_admin_app_test&quot;,\r\n    srcs = glob([&quot;src/test/java/**/*.java&quot;]),\r\n    resources = glob([&quot;src/test/resources/**/*.*&quot;]) + ARCHIVES,\r\n    data = glob([&quot;src/test/resources/**/*.*&quot;]),\r\n    test_package = &quot;com.xxx.xxx&quot;,\r\n    deps = DEPS + TESTING_DEPS,\r\n)\r\n```","title":"Unable to load test file using bazel","body":"<p>You need to include this in the <code>data</code> attribute:</p>\n<pre><code>java_junit5_test(\n    name = &quot;snapshot_admin_app_test&quot;,\n    srcs = glob([&quot;src/test/java/**/*.java&quot;]),\n    resources = glob([&quot;src/test/resources/**/*.*&quot;]) + ARCHIVES,\n    data = glob([&quot;src/test/resources/**/*.*&quot;]),\n    test_package = &quot;com.xxx.xxx&quot;,\n    deps = DEPS + TESTING_DEPS,\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10335251,"reputation":41,"user_id":7623607,"display_name":"Pramod Kalipatnapu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650145109,"creation_date":1650145109,"answer_id":71897655,"question_id":69192209,"body_markdown":"I had a similar issue with loading resource files from the src/main/resources folder. Below is the answer from the Bazel slack channel:\r\n\r\n&gt; When you use bazel run on a java target, all resource files will be built into jars corresponding to their java_library targets meaning you can&#39;t use getFile on them directly. Try getResourceAsStream\r\n\r\n&gt; If the files are in the data param, they will be available on $PWD when you use bazel run, but they won&#39;t be built into the deploy jar and they won&#39;t be on the class path\r\n\r\nusing getResourceAsStream did the trick for me","title":"Unable to load test file using bazel","body":"<p>I had a similar issue with loading resource files from the src/main/resources folder. Below is the answer from the Bazel slack channel:</p>\n<blockquote>\n<p>When you use bazel run on a java target, all resource files will be built into jars corresponding to their java_library targets meaning you can't use getFile on them directly. Try getResourceAsStream</p>\n</blockquote>\n<blockquote>\n<p>If the files are in the data param, they will be available on $PWD when you use bazel run, but they won't be built into the deploy jar and they won't be on the class path</p>\n</blockquote>\n<p>using getResourceAsStream did the trick for me</p>\n"}],"owner":{"account_id":5701950,"reputation":2537,"user_id":5446985,"accept_rate":74,"display_name":"KeykoYume"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1650145109,"creation_date":1631705117,"question_id":69192209,"body_markdown":"I have the following project structure:\r\n\r\n```\r\nproject/\r\n   - app/\r\n   - test/\r\n      - java/\r\n         - Utils.java\r\n      - resources/\r\n         - file.json\r\n         - BUILD.bazel\r\n   - BUILD.bazel\r\n```\r\n\r\nI&#39;m trying to load the `file.json` as a `File` object in order to use it to test some classes. \r\nIn `Utils.java`, I try to read it as:\r\n\r\n```\r\npublic class Utils {\r\n    public static File getSnapshotTestData() {\r\n        File file = new File(Utils.class.getClassLoader().getResource(&quot;file.json&quot;).getFile());\r\n\r\n        // Added this part to test the file was loaded correctly\r\n        try {\r\n            String data = FileUtils.readFileToString(file, &quot;UTF-8&quot;); // throws FileNotFound Exception\r\n            System.out.println(&quot;Data: &quot; + data);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return file;\r\n    }\r\n}\r\n```\r\n\r\nEven though if `file.getAbsolutePath()` returns a path like `/scratch/xxxx/.bazel/output/d03a9523f165711d724c4ed2c7f8d270/execroot/__main__/bazel-out/k8-opt/bin...`, if I try to read the file, I get FileNotFound.\r\n\r\nAny idea what might be wrong here?\r\n\r\nAdded in my bazel files the following:\r\n\r\n**project/BUILD.bazel**\r\n```\r\nARCHIVES = [\r\n    &quot;//xxx/xxx/app/src/test/resources:file.json&quot;,\r\n]\r\n\r\njava_junit5_test(\r\n    name = &quot;snapshot_admin_app_test&quot;,\r\n    srcs = glob([&quot;src/test/java/**/*.java&quot;]),\r\n    resources = glob([&quot;src/test/resources/**/*.*&quot;]) + ARCHIVES,\r\n    test_package = &quot;com.xxx.xxx&quot;,\r\n    deps = DEPS + TESTING_DEPS,\r\n)\r\n```\r\n\r\n**project/test/resources/BUILD.bazel**\r\n```\r\nexports_files([&quot;file.json&quot;])\r\n```","title":"Unable to load test file using bazel","body":"<p>I have the following project structure:</p>\n<pre><code>project/\n   - app/\n   - test/\n      - java/\n         - Utils.java\n      - resources/\n         - file.json\n         - BUILD.bazel\n   - BUILD.bazel\n</code></pre>\n<p>I'm trying to load the <code>file.json</code> as a <code>File</code> object in order to use it to test some classes.\nIn <code>Utils.java</code>, I try to read it as:</p>\n<pre><code>public class Utils {\n    public static File getSnapshotTestData() {\n        File file = new File(Utils.class.getClassLoader().getResource(&quot;file.json&quot;).getFile());\n\n        // Added this part to test the file was loaded correctly\n        try {\n            String data = FileUtils.readFileToString(file, &quot;UTF-8&quot;); // throws FileNotFound Exception\n            System.out.println(&quot;Data: &quot; + data);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return file;\n    }\n}\n</code></pre>\n<p>Even though if <code>file.getAbsolutePath()</code> returns a path like <code>/scratch/xxxx/.bazel/output/d03a9523f165711d724c4ed2c7f8d270/execroot/__main__/bazel-out/k8-opt/bin...</code>, if I try to read the file, I get FileNotFound.</p>\n<p>Any idea what might be wrong here?</p>\n<p>Added in my bazel files the following:</p>\n<p><strong>project/BUILD.bazel</strong></p>\n<pre><code>ARCHIVES = [\n    &quot;//xxx/xxx/app/src/test/resources:file.json&quot;,\n]\n\njava_junit5_test(\n    name = &quot;snapshot_admin_app_test&quot;,\n    srcs = glob([&quot;src/test/java/**/*.java&quot;]),\n    resources = glob([&quot;src/test/resources/**/*.*&quot;]) + ARCHIVES,\n    test_package = &quot;com.xxx.xxx&quot;,\n    deps = DEPS + TESTING_DEPS,\n)\n</code></pre>\n<p><strong>project/test/resources/BUILD.bazel</strong></p>\n<pre><code>exports_files([&quot;file.json&quot;])\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":2,"creation_date":1650143931,"post_id":71897535,"comment_id":127048601,"body_markdown":"So where are you calling `startActivityForResult`? I only see a call to `startActivity`, which doesn&#39;t return any result.","body":"So where are you calling <code>startActivityForResult</code>? I only see a call to <code>startActivity</code>, which doesn&#39;t return any result."},{"owner":{"account_id":11539740,"reputation":3,"user_id":8455894,"display_name":"Manuel Torres"},"score":0,"creation_date":1650144807,"post_id":71897535,"comment_id":127048727,"body_markdown":"@ianhanniballake Thanks for your response, seems that startActivityForResult is been deprecated, thats why I used startActivity alone, please correct me if I&#39;m wrong.","body":"@ianhanniballake Thanks for your response, seems that startActivityForResult is been deprecated, thats why I used startActivity alone, please correct me if I&#39;m wrong."},{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":1,"creation_date":1650147156,"post_id":71897535,"comment_id":127049094,"body_markdown":"Overriding `onActivityResult` is also deprecated, as per [the guide](https://developer.android.com/training/basics/intents/result) - `registerForActivityResult` is what replaced both of those.","body":"Overriding <code>onActivityResult</code> is also deprecated, as per <a href=\"https://developer.android.com/training/basics/intents/result\" rel=\"nofollow noreferrer\">the guide</a> - <code>registerForActivityResult</code> is what replaced both of those."}],"answers":[{"tags":[],"owner":{"account_id":11008048,"reputation":584,"user_id":8086401,"display_name":"Muraino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650145024,"creation_date":1650145024,"answer_id":71897645,"question_id":71897535,"body_markdown":"Just do this. from MainActivity.class\r\n\r\n\r\n \r\n\r\n    \r\n                String index = String.valueOf(i);\r\n\r\n                Intent cambioEditActivity = new \r\n                Intent(MainActivity.this,EditActivity.class);\r\n                cambioEditActivity.putExtra(&quot;ARRAY_ID&quot;, index);\r\n                 startActivityForResult(cambioEditActivity, SECOND_ACTIVITY_REQUEST_CODE);\r\n\r\n\r\n             @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n\r\n        Toast.makeText(this, &quot;onActivityResult&quot;, Toast.LENGTH_SHORT).show();\r\n        try {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            if (requestCode == SECOND_ACTIVITY_REQUEST_CODE  &amp;&amp; resultCode  == RESULT_OK) {\r\n                assert data != null;\r\n                String requiredValue = data.getStringExtra(&quot;indice&quot;);\r\n            }\r\n        } catch (Exception ex) {\r\n            Toast.makeText(MainActivity.this, ex.toString(),\r\n                    Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n\r\non second activity.\r\n\r\n               String respuesta = editTextPais.getText().toString();\r\n                Intent intent = new Intent();\r\n                intent.putExtra(&quot;indice&quot;, respuesta);\r\n                setResult(Activity.RESULT_OK, intent);\r\n                finish();\r\n\r\n\r\nthis should work..","title":"onActivityResul not reached","body":"<p>Just do this. from MainActivity.class</p>\n<pre><code>            String index = String.valueOf(i);\n\n            Intent cambioEditActivity = new \n            Intent(MainActivity.this,EditActivity.class);\n            cambioEditActivity.putExtra(&quot;ARRAY_ID&quot;, index);\n             startActivityForResult(cambioEditActivity, SECOND_ACTIVITY_REQUEST_CODE);\n\n\n         @Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n\n    Toast.makeText(this, &quot;onActivityResult&quot;, Toast.LENGTH_SHORT).show();\n    try {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == SECOND_ACTIVITY_REQUEST_CODE  &amp;&amp; resultCode  == RESULT_OK) {\n            assert data != null;\n            String requiredValue = data.getStringExtra(&quot;indice&quot;);\n        }\n    } catch (Exception ex) {\n        Toast.makeText(MainActivity.this, ex.toString(),\n                Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>on second activity.</p>\n<pre><code>           String respuesta = editTextPais.getText().toString();\n            Intent intent = new Intent();\n            intent.putExtra(&quot;indice&quot;, respuesta);\n            setResult(Activity.RESULT_OK, intent);\n            finish();\n</code></pre>\n<p>this should work..</p>\n"}],"owner":{"account_id":11539740,"reputation":3,"user_id":8455894,"display_name":"Manuel Torres"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650145024,"creation_date":1650143632,"question_id":71897535,"body_markdown":"Im trying to get a value from second Activity (EditActivity) but onActivityResult is never reached. I should get the value assigned in &quot;indice&quot; in the main activity. This is the code:\r\n\r\nManifest:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.listviewwithbuttons&quot;&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.ListViewWithButtons&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.EditActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n\r\n```\r\n\r\nMain Activity:\r\nHere the Intent is created and sent ARRAY_ID which is effectively used in a Toast in second activity.\r\n\r\nHere is also the onActivityResult, the Toast inside is never reached.\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    ListView listView;\r\n    String[] countries = {&quot;Argentina&quot;, &quot;Chile&quot;, &quot;Brasil&quot;,&quot;Uruguay&quot;,&quot;Paraguay&quot;, &quot;Bolivia&quot;, &quot;Peru&quot;, &quot;Ecuador&quot;, &quot;Colombia&quot;, &quot;Venezuela&quot;};\r\n    private static final int SECOND_ACTIVITY_REQUEST_CODE = 1;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        listView = findViewById(R.id.lv_countryList);\r\n\r\n        StringViewRender();\r\n\r\n        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                Toast.makeText(MainActivity.this, &quot;Elegiste: &quot;+countries[i], Toast.LENGTH_SHORT).show();\r\n\r\n                String index = String.valueOf(i);\r\n\r\n                Intent cambioEditActivity = new Intent(MainActivity.this,EditActivity.class);\r\n                cambioEditActivity.putExtra(&quot;ARRAY_ID&quot;, index);\r\n                MainActivity.this.startActivity(cambioEditActivity);\r\n            }\r\n        });\r\n    }\r\n    public void StringViewRender () {\r\n\r\n        ArrayAdapter &lt;String&gt; adapter= new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_expandable_list_item_1,countries);\r\n        listView.setAdapter(adapter);\r\n    }\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n\r\n        Toast.makeText(this, &quot;onActivityResult&quot;, Toast.LENGTH_SHORT).show();\r\n        try {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            if (requestCode == SECOND_ACTIVITY_REQUEST_CODE  &amp;&amp; resultCode  == RESULT_OK) {\r\n                assert data != null;\r\n                String requiredValue = data.getStringExtra(&quot;indice&quot;);\r\n            }\r\n        } catch (Exception ex) {\r\n            Toast.makeText(MainActivity.this, ex.toString(),\r\n                    Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSecondary Activity:\r\nHere is where returning Intent is created, &quot;indice&quot; is created and sent, and finish terminates de activity. Should trigger onActivityResult in MainActivity.\r\n```\r\npublic class EditActivity extends AppCompatActivity {\r\n\r\n    Button buttonAceptar;\r\n    EditText editTextPais;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.editactivity);\r\n\r\n        buttonAceptar = findViewById(R.id.button);\r\n        editTextPais = findViewById(R.id.edt_pais);\r\n\r\n        String sessionId = getIntent().getStringExtra(&quot;ARRAY_ID&quot;);\r\n\r\n        Toast.makeText(this, sessionId, Toast.LENGTH_SHORT).show();\r\n\r\n        buttonAceptar.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                String respuesta = editTextPais.getText().toString();\r\n\r\n                Intent intent = new Intent();\r\n                intent.putExtra(&quot;indice&quot;, respuesta);\r\n                setResult(RESULT_OK, intent);\r\n                finish();\r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"onActivityResul not reached","body":"<p>Im trying to get a value from second Activity (EditActivity) but onActivityResult is never reached. I should get the value assigned in &quot;indice&quot; in the main activity. This is the code:</p>\n<p>Manifest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.listviewwithbuttons&quot;&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.ListViewWithButtons&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.EditActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n\n</code></pre>\n<p>Main Activity:\nHere the Intent is created and sent ARRAY_ID which is effectively used in a Toast in second activity.</p>\n<p>Here is also the onActivityResult, the Toast inside is never reached.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    ListView listView;\n    String[] countries = {&quot;Argentina&quot;, &quot;Chile&quot;, &quot;Brasil&quot;,&quot;Uruguay&quot;,&quot;Paraguay&quot;, &quot;Bolivia&quot;, &quot;Peru&quot;, &quot;Ecuador&quot;, &quot;Colombia&quot;, &quot;Venezuela&quot;};\n    private static final int SECOND_ACTIVITY_REQUEST_CODE = 1;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        listView = findViewById(R.id.lv_countryList);\n\n        StringViewRender();\n\n        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                Toast.makeText(MainActivity.this, &quot;Elegiste: &quot;+countries[i], Toast.LENGTH_SHORT).show();\n\n                String index = String.valueOf(i);\n\n                Intent cambioEditActivity = new Intent(MainActivity.this,EditActivity.class);\n                cambioEditActivity.putExtra(&quot;ARRAY_ID&quot;, index);\n                MainActivity.this.startActivity(cambioEditActivity);\n            }\n        });\n    }\n    public void StringViewRender () {\n\n        ArrayAdapter &lt;String&gt; adapter= new ArrayAdapter&lt;String&gt;(MainActivity.this, android.R.layout.simple_expandable_list_item_1,countries);\n        listView.setAdapter(adapter);\n    }\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n\n        Toast.makeText(this, &quot;onActivityResult&quot;, Toast.LENGTH_SHORT).show();\n        try {\n            super.onActivityResult(requestCode, resultCode, data);\n            if (requestCode == SECOND_ACTIVITY_REQUEST_CODE  &amp;&amp; resultCode  == RESULT_OK) {\n                assert data != null;\n                String requiredValue = data.getStringExtra(&quot;indice&quot;);\n            }\n        } catch (Exception ex) {\n            Toast.makeText(MainActivity.this, ex.toString(),\n                    Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n</code></pre>\n<p>Secondary Activity:\nHere is where returning Intent is created, &quot;indice&quot; is created and sent, and finish terminates de activity. Should trigger onActivityResult in MainActivity.</p>\n<pre><code>public class EditActivity extends AppCompatActivity {\n\n    Button buttonAceptar;\n    EditText editTextPais;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.editactivity);\n\n        buttonAceptar = findViewById(R.id.button);\n        editTextPais = findViewById(R.id.edt_pais);\n\n        String sessionId = getIntent().getStringExtra(&quot;ARRAY_ID&quot;);\n\n        Toast.makeText(this, sessionId, Toast.LENGTH_SHORT).show();\n\n        buttonAceptar.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                String respuesta = editTextPais.getText().toString();\n\n                Intent intent = new Intent();\n                intent.putExtra(&quot;indice&quot;, respuesta);\n                setResult(RESULT_OK, intent);\n                finish();\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":10833670,"reputation":549,"user_id":7967235,"display_name":"Avital"},"score":0,"creation_date":1650184247,"post_id":71897549,"comment_id":127053389,"body_markdown":"maybe try to create the adapte and set it to the spinner only **after** you finish to retreive the data from Firebase, so paste those lines at the end of `getUnits` method","body":"maybe try to create the adapte and set it to the spinner only <b>after</b> you finish to retreive the data from Firebase, so paste those lines at the end of <code>getUnits</code> method"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1650193348,"post_id":71897549,"comment_id":127054860,"body_markdown":"AsyncTask is a little old. A more convenient way would be to use a LiveData and a ViewModel object. If you understand Kotlin, I think that this [article](https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953) will help.","body":"AsyncTask is a little old. A more convenient way would be to use a LiveData and a ViewModel object. If you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-cloud-firestore-using-get-bf03b6ee4953\" rel=\"nofollow noreferrer\">article</a> will help."}],"owner":{"account_id":23446831,"reputation":1,"user_id":17503520,"display_name":"Martin Ballester"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650143850,"creation_date":1650143850,"question_id":71897549,"body_markdown":"I try load a spinner with values as get from firestore, i have two class:\r\n1- the class what get values from firestore.\r\n2- the class what set this values on spinner.\r\n\r\nThe step for charge is:\r\n\r\n- Create an Instance ArrayList&lt;String&gt;\r\n- equal this to the another ArrayList&lt;String&gt; get from firestore.\r\n- Put this result on spinner\r\n\r\nThe code is this:\r\n\r\n    ArrayList&lt;String&gt; Units = new ArrayList&lt;&gt;();\r\n\r\n                Products units2 = new Products();\r\n                Units = units2.getUnits(v, CompanySelected);\r\n\r\n                //Units.add(&quot;Unidad&quot;);\r\n                //Units.add(&quot;Caja&quot;);\r\n                //Units.add(&quot;Pouch&quot;);\r\n\r\n                Spinner UnitSelector = v.findViewById(R.id.Unit);\r\n\r\n                ArrayAdapter&lt;String&gt; adapterUnitsSpinner = new ArrayAdapter&lt;&gt;(v.getRootView().getContext(),\r\n                        android.R.layout.simple_list_item_1, Units);\r\n\r\n                UnitSelector.setAdapter(adapterUnitsSpinner);\r\n\r\n\r\n\r\nWhen i used at values what charge manually as commented on this code work fine, the spinner charge this and show item when touch, but when i get values from firestore only show this but dont select item.\r\n\r\nI tryed test the class as get values from firestore and works. The problem is on the code was showing.\r\n\r\nMy think is what use an AsyncTask for get values and put this on ArrayList, but i dont understand how implement this. ","title":"How to create AsyncTask on Android Java for charge Spinner from Firebase","body":"<p>I try load a spinner with values as get from firestore, i have two class:\n1- the class what get values from firestore.\n2- the class what set this values on spinner.</p>\n<p>The step for charge is:</p>\n<ul>\n<li>Create an Instance ArrayList</li>\n<li>equal this to the another ArrayList get from firestore.</li>\n<li>Put this result on spinner</li>\n</ul>\n<p>The code is this:</p>\n<pre><code>ArrayList&lt;String&gt; Units = new ArrayList&lt;&gt;();\n\n            Products units2 = new Products();\n            Units = units2.getUnits(v, CompanySelected);\n\n            //Units.add(&quot;Unidad&quot;);\n            //Units.add(&quot;Caja&quot;);\n            //Units.add(&quot;Pouch&quot;);\n\n            Spinner UnitSelector = v.findViewById(R.id.Unit);\n\n            ArrayAdapter&lt;String&gt; adapterUnitsSpinner = new ArrayAdapter&lt;&gt;(v.getRootView().getContext(),\n                    android.R.layout.simple_list_item_1, Units);\n\n            UnitSelector.setAdapter(adapterUnitsSpinner);\n</code></pre>\n<p>When i used at values what charge manually as commented on this code work fine, the spinner charge this and show item when touch, but when i get values from firestore only show this but dont select item.</p>\n<p>I tryed test the class as get values from firestore and works. The problem is on the code was showing.</p>\n<p>My think is what use an AsyncTask for get values and put this on ArrayList, but i dont understand how implement this.</p>\n"},{"tags":["java","excel","swing","jar","apache-poi"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1649885457,"post_id":71863791,"comment_id":126992088,"body_markdown":"I don&#39;t see any Apache Commons JARs in your classpath; if you continue to have problems, post text, not an image.","body":"I don&#39;t see any Apache Commons JARs in your classpath; if you continue to have problems, post text, not an image."},{"owner":{"account_id":15437947,"reputation":1,"user_id":11137497,"display_name":"Endriti"},"score":0,"creation_date":1649886055,"post_id":71863791,"comment_id":126992224,"body_markdown":"Do you mean that JAR’s in my classpath are wrong?@trashgod","body":"Do you mean that JAR’s in my classpath are wrong?@trashgod"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1649886241,"post_id":71863791,"comment_id":126992268,"body_markdown":"I don&#39;t know; I can&#39;t see commons, and I can&#39;t scroll or expand the image","body":"I don&#39;t know; I can&#39;t see commons, and I can&#39;t scroll or expand the image"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1649898134,"post_id":71863791,"comment_id":126994246,"body_markdown":"What happens [when you add all the dependencies of Apache POI and/or swap to using a dependency manager to do that for you?](https://poi.apache.org/components/index.html#components)","body":"What happens <a href=\"https://poi.apache.org/components/index.html#components\" rel=\"nofollow noreferrer\">when you add all the dependencies of Apache POI and/or swap to using a dependency manager to do that for you?</a>"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1649953285,"post_id":71863791,"comment_id":127009947,"body_markdown":"I would suggest spending a few minutes learning how to use gradle or maven - some build tool that works with pulling in transitive dependencies of jars - eg https://github.com/pjfanning/poi-gradle-example","body":"I would suggest spending a few minutes learning how to use gradle or maven - some build tool that works with pulling in transitive dependencies of jars - eg <a href=\"https://github.com/pjfanning/poi-gradle-example\" rel=\"nofollow noreferrer\">github.com/pjfanning/poi-gradle-example</a>"},{"owner":{"account_id":15437947,"reputation":1,"user_id":11137497,"display_name":"Endriti"},"score":0,"creation_date":1650033725,"post_id":71863791,"comment_id":127028003,"body_markdown":"@PJFanning in this project I am working with Ant","body":"@PJFanning in this project I am working with Ant"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1650142425,"post_id":71863791,"comment_id":127048337,"body_markdown":"https://poi.apache.org/download.html - follow the binary zip or tar.gz link and that should have all the jars you neeed","body":"<a href=\"https://poi.apache.org/download.html\" rel=\"nofollow noreferrer\">poi.apache.org/download.html</a> - follow the binary zip or tar.gz link and that should have all the jars you neeed"}],"answers":[{"tags":[],"owner":{"account_id":15437947,"reputation":1,"user_id":11137497,"display_name":"Endriti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650143806,"creation_date":1650143806,"answer_id":71897547,"question_id":71863791,"body_markdown":"Problem solved! It seems i needed to add dependecy to build.xml also after importing jar files!","title":"Write in Excel from Java NoClassDefFoundError","body":"<p>Problem solved! It seems i needed to add dependecy to build.xml also after importing jar files!</p>\n"}],"owner":{"account_id":15437947,"reputation":1,"user_id":11137497,"display_name":"Endriti"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71897547,"answer_count":1,"score":0,"last_activity_date":1650143806,"creation_date":1649883621,"question_id":71863791,"body_markdown":"When I try to add data to Excel from Java Ant, it shows `NoClassDefFoundError`, even that I imported all Jar files of Apache Poi. This is the Error:\r\n\r\n&gt;Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:org/apache/commons/io/output/UnsynchronizedByteArrayOutputStream\r\n\r\nThis is the code i tried:\r\n\r\n    XSSFWorkbook wb = new XSSFWorkbook();\r\n        \r\n        XSSFSheet sheet = wb.createSheet(&quot;Sheet1&quot;);\r\n        \r\n        XSSFRow row = sheet.createRow(0);\r\n        \r\n        Cell cell0 = row.createCell(0);\r\n        cell0.setCellValue(&quot;HelloWorld!&quot;);\r\n        \r\n        \r\n        try{\r\n            FileOutputStream out = new FileOutputStream(new File(&quot;Result.xlsx&quot;));\r\n            wb.write(out);\r\n            out.close();\r\n            System.out.println(&quot;Done&quot;);\r\n        }catch(FileNotFoundException e){\r\n            e.printStackTrace();\r\n        }catch(IOException e){\r\n            e.printStackTrace();\r\n        }\r\n\r\nThese are Jar imported files:\r\n![Libraries Classpath][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/takaa.png","title":"Write in Excel from Java NoClassDefFoundError","body":"<p>When I try to add data to Excel from Java Ant, it shows <code>NoClassDefFoundError</code>, even that I imported all Jar files of Apache Poi. This is the Error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:org/apache/commons/io/output/UnsynchronizedByteArrayOutputStream</p>\n</blockquote>\n<p>This is the code i tried:</p>\n<pre><code>XSSFWorkbook wb = new XSSFWorkbook();\n    \n    XSSFSheet sheet = wb.createSheet(&quot;Sheet1&quot;);\n    \n    XSSFRow row = sheet.createRow(0);\n    \n    Cell cell0 = row.createCell(0);\n    cell0.setCellValue(&quot;HelloWorld!&quot;);\n    \n    \n    try{\n        FileOutputStream out = new FileOutputStream(new File(&quot;Result.xlsx&quot;));\n        wb.write(out);\n        out.close();\n        System.out.println(&quot;Done&quot;);\n    }catch(FileNotFoundException e){\n        e.printStackTrace();\n    }catch(IOException e){\n        e.printStackTrace();\n    }\n</code></pre>\n<p>These are Jar imported files:\n<img src=\"https://i.stack.imgur.com/takaa.png\" alt=\"Libraries Classpath\" /></p>\n"},{"tags":["java","spring","hibernate","spring-mvc","kotlin"],"comments":[{"owner":{"account_id":6412139,"reputation":1598,"user_id":4971561,"accept_rate":50,"display_name":"Maroš Šeleng"},"score":0,"creation_date":1602180292,"post_id":41636745,"comment_id":113646465,"body_markdown":"I know it&#39;s been 3 years, but did you have any success resolving this? I just stumbled upon this now. I can&#39;t use inheritance with TABLE_PER_CLASS because it requires me to define Id in subclasses..","body":"I know it&#39;s been 3 years, but did you have any success resolving this? I just stumbled upon this now. I can&#39;t use inheritance with TABLE_PER_CLASS because it requires me to define Id in subclasses.."}],"answers":[{"tags":[],"owner":{"account_id":1375114,"reputation":92,"user_id":1309260,"display_name":"Manos Batsis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1485257061,"creation_date":1485257061,"answer_id":41827010,"question_id":41636745,"body_markdown":"In my case, using pure java, the cause was that an abstract @MappedSuperClass defined abstract getter/setter methods according to an interface, but did not define the actual member field. \r\n\r\nThe error went away after removing the getter/setter methods from the abstract class, there was no need for them after all. HTH","title":"Spring Data JPA / Hibernate &quot;Unable to locate Attribute with the given name&quot;","body":"<p>In my case, using pure java, the cause was that an abstract @MappedSuperClass defined abstract getter/setter methods according to an interface, but did not define the actual member field. </p>\n\n<p>The error went away after removing the getter/setter methods from the abstract class, there was no need for them after all. HTH</p>\n"},{"tags":[],"owner":{"account_id":8982326,"reputation":1004,"user_id":6697093,"accept_rate":100,"display_name":"Julio Villane"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1501530484,"creation_date":1501530484,"answer_id":45424167,"question_id":41636745,"body_markdown":"A wider possibility is that you refactorized an attribute name but with an inconsistency in a:\r\n\r\n - getter and/or setter\r\n - @Query\r\n - @NamedEntityGraphs\r\n - @NamedQuery","title":"Spring Data JPA / Hibernate &quot;Unable to locate Attribute with the given name&quot;","body":"<p>A wider possibility is that you refactorized an attribute name but with an inconsistency in a:</p>\n\n<ul>\n<li>getter and/or setter</li>\n<li>@Query</li>\n<li>@NamedEntityGraphs</li>\n<li>@NamedQuery</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10807011,"reputation":2216,"user_id":15016163,"display_name":"Maicon Mauricio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650143641,"creation_date":1633788501,"answer_id":69507465,"question_id":41636745,"body_markdown":"*This answer applies only to Kotlin.*\r\n\r\nChanging the access type may solve the error also (in my case it did), if it is the case that one is relying on getter and setter access but the default has been set to field access.\r\n\r\n- Use `@Access(AccessType.PROPERTY)` in order for getter and setter to be used.\r\n\r\n- Use `@Access(AccessType.FIELD)` in order for the field itself to be used.\r\n\r\nAs explained in more detail in [this helpful article][1]:\r\n\r\n&gt; By default, you specify the access strategy implicitly by annotating\r\n&gt; your primary key attribute or its getter method with an `@Id`\r\n&gt; annotation. If you annotate the attribute itself, Hibernate uses\r\n&gt; field-based access.\r\n&gt; \r\n&gt; [...] And if you annotate a getter method with the\r\n&gt; `@Id` annotation, Hibernate uses property-based access to set and read\r\n&gt; the attributes of this entity.\r\n&gt; \r\n&gt; ### Override the default access strategy\r\n&gt; \r\n&gt; If you want to mix both access strategies within one entity or a\r\n&gt; hierarchy of entities, you need to override the default strategy with\r\n&gt; an `@Access` annotation.\r\n### Example\r\n\r\nIn Java:\r\n\r\n```lang-java\r\n@Access(AccessType.PROPERTY)\r\npublic User getUser() { return user; }\r\n```\r\n\r\nAlso, I think that in OP&#39;s case using Generics make it a little less  complicated:\r\n\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    @Entity\r\n    abstract class ContactLogEntry&lt;Contact: AbstractContact, UserT: User&gt;\r\n            protected constructor() {\r\n        @GeneratedValue @Id val id: Long = 0\r\n    \r\n        @ManyToOne\r\n        @JoinColumn\r\n        open var contact: Contact? = null\r\n    \r\n        @ManyToOne\r\n        open var user: UserT? = null\r\n    }\r\n    \r\n    @Entity class MailLogEntry : ContactLogEntry&lt;Lead, Telephonist&gt;()\r\n\r\n  [1]: https://thorben-janssen.com/access-strategies-in-jpa-and-hibernate/\r\n","title":"Spring Data JPA / Hibernate &quot;Unable to locate Attribute with the given name&quot;","body":"<p><em>This answer applies only to Kotlin.</em></p>\n<p>Changing the access type may solve the error also (in my case it did), if it is the case that one is relying on getter and setter access but the default has been set to field access.</p>\n<ul>\n<li><p>Use <code>@Access(AccessType.PROPERTY)</code> in order for getter and setter to be used.</p>\n</li>\n<li><p>Use <code>@Access(AccessType.FIELD)</code> in order for the field itself to be used.</p>\n</li>\n</ul>\n<p>As explained in more detail in <a href=\"https://thorben-janssen.com/access-strategies-in-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">this helpful article</a>:</p>\n<blockquote>\n<p>By default, you specify the access strategy implicitly by annotating\nyour primary key attribute or its getter method with an <code>@Id</code>\nannotation. If you annotate the attribute itself, Hibernate uses\nfield-based access.</p>\n<p>[...] And if you annotate a getter method with the\n<code>@Id</code> annotation, Hibernate uses property-based access to set and read\nthe attributes of this entity.</p>\n<h3>Override the default access strategy</h3>\n<p>If you want to mix both access strategies within one entity or a\nhierarchy of entities, you need to override the default strategy with\nan <code>@Access</code> annotation.</p>\n</blockquote>\n<h3>Example</h3>\n<p>In Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Access(AccessType.PROPERTY)\npublic User getUser() { return user; }\n</code></pre>\n<p>Also, I think that in OP's case using Generics make it a little less  complicated:</p>\n<pre><code>@Inheritance(strategy = InheritanceType.JOINED)\n@Entity\nabstract class ContactLogEntry&lt;Contact: AbstractContact, UserT: User&gt;\n        protected constructor() {\n    @GeneratedValue @Id val id: Long = 0\n\n    @ManyToOne\n    @JoinColumn\n    open var contact: Contact? = null\n\n    @ManyToOne\n    open var user: UserT? = null\n}\n\n@Entity class MailLogEntry : ContactLogEntry&lt;Lead, Telephonist&gt;()\n</code></pre>\n"}],"owner":{"account_id":6260923,"reputation":955,"user_id":4868095,"accept_rate":36,"display_name":"Heady"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20866,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1650143641,"creation_date":1484317455,"question_id":41636745,"body_markdown":"We have a problem with a Spring Web Application and Hibernate. It is written in Kotlin.\r\n We have an abstract Entity\r\n\r\n    \r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    abstract @Entity class ContactLogEntry protected constructor() {\r\n    \r\n        @GeneratedValue @Id val id: Long = 0\r\n    \r\n    \r\n        @ManyToOne\r\n        @JoinColumn\r\n        protected lateinit var _contact: AbstractContact\r\n        open val contact: AbstractContact? get() = _contact\r\n\r\n      @ManyToOne\r\n        protected var _user: User? = null\r\n        open val user: User? get() = _user\r\n\r\nAnd some of those:\r\n\r\n    @Entity class MailLogEntry() : ContactLogEntry() {\r\n     \r\n    \r\n        override var contact: Lead\r\n            get() = super.contact as Lead\r\n            set(value) {\r\n                super._contact = value\r\n            }\r\n\r\n     override var user: Telephonist\r\n            get() = super.user as Telephonist\r\n            private set(value) {\r\n                super._user = value\r\n            }\r\n\r\nNote that &quot;Lead&quot; inherits directly from &quot;AbstractContact&quot;. The Problem is with the property `contact`. The User Property, where Telephonist inherits directly from User, works fine.\r\n\r\nWe get `Unable to locate Attribute  with the the given name [contact] on this ManagedType (PATH to ContactLogEntry)`\r\n\r\nWe did it the same way before, where it works. Really no clue whats wrong.","title":"Spring Data JPA / Hibernate &quot;Unable to locate Attribute with the given name&quot;","body":"<p>We have a problem with a Spring Web Application and Hibernate. It is written in Kotlin.\n We have an abstract Entity</p>\n\n<pre><code>@Inheritance(strategy = InheritanceType.JOINED)\nabstract @Entity class ContactLogEntry protected constructor() {\n\n    @GeneratedValue @Id val id: Long = 0\n\n\n    @ManyToOne\n    @JoinColumn\n    protected lateinit var _contact: AbstractContact\n    open val contact: AbstractContact? get() = _contact\n\n  @ManyToOne\n    protected var _user: User? = null\n    open val user: User? get() = _user\n</code></pre>\n\n<p>And some of those:</p>\n\n<pre><code>@Entity class MailLogEntry() : ContactLogEntry() {\n\n\n    override var contact: Lead\n        get() = super.contact as Lead\n        set(value) {\n            super._contact = value\n        }\n\n override var user: Telephonist\n        get() = super.user as Telephonist\n        private set(value) {\n            super._user = value\n        }\n</code></pre>\n\n<p>Note that \"Lead\" inherits directly from \"AbstractContact\". The Problem is with the property <code>contact</code>. The User Property, where Telephonist inherits directly from User, works fine.</p>\n\n<p>We get <code>Unable to locate Attribute  with the the given name [contact] on this ManagedType (PATH to ContactLogEntry)</code></p>\n\n<p>We did it the same way before, where it works. Really no clue whats wrong.</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":11008048,"reputation":584,"user_id":8086401,"display_name":"Muraino"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650143528,"creation_date":1650129969,"answer_id":71896014,"question_id":71895716,"body_markdown":"It because of your parent group LinearLayout\r\n\r\nTry this\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n       xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n       xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n       android:id=&quot;@+id/container&quot;\r\n       android:layout_width=&quot;match_parent&quot;\r\n       android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/nav_host_fragment_activity_main&quot;\r\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:defaultNavHost=&quot;true&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/nav_view&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:navGraph=&quot;@navigation/mobile_navigation&quot;\r\n    /&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n        &lt;androidx.appcompat.widget.Toolbar\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:id=&quot;@+id/toolbar&quot;\r\n            android:background=&quot;@color/toolbarDark&quot;\r\n            app:popupTheme=&quot;@style/MenuStyle&quot;&gt;\r\n            &lt;de.hdodenhof.circleimageview.CircleImageView\r\n                android:layout_width=&quot;30dp&quot;\r\n                android:layout_height=&quot;30dp&quot;\r\n                android:id=&quot;@+id/profile_image&quot;/&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:id=&quot;@+id/username&quot;\r\n                android:layout_marginLeft=&quot;25dp&quot;\r\n                android:layout_marginStart=&quot;25dp&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textStyle=&quot;bold&quot;/&gt;\r\n        &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n\r\n        &lt;com.google.android.material.tabs.TabLayout\r\n            android:id=&quot;@+id/tab_layout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            app:tabSelectedTextColor=&quot;@color/white&quot;\r\n            app:tabIndicatorColor=&quot;@color/white&quot;\r\n            app:tabTextColor=&quot;@color/white&quot;/&gt;\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n    &lt;androidx.viewpager.widget.ViewPager\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/view_pager&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;/&gt;\r\n\r\n\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/nav_view&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;0dp&quot;\r\n        android:layout_marginEnd=&quot;0dp&quot;\r\n        android:background=&quot;?android:attr/windowBackground&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:menu=&quot;@menu/bottom_nav_menu&quot;/&gt;\r\n     &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\nInside res folder, create a folder called nav\r\n\r\ninside the nav create mobile_navigation.xml and add\r\n\r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n     &lt;navigation \r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n      xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n       android:id=&quot;@+id/mobile_navigation&quot;\r\n       app:startDestination=&quot;@+id/navigation_home&quot;&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/navigation_home&quot;\r\n        android:name=&quot;ChatFragment&quot;\r\n        android:label=&quot;@string/title_home&quot;\r\n        tools:layout=&quot;@layout/chat_home&quot; /&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/navigation_dashboard&quot;\r\n        android:name=&quot;DashboardFragment&quot;\r\n        android:label=&quot;@string/title_dashboard&quot;\r\n        tools:layout=&quot;@layout/fragment_dashboard&quot; /&gt;\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/navigation_notifications&quot;\r\n        android:name=&quot;NotificationsFragment&quot;\r\n        android:label=&quot;@string/title_notifications&quot;\r\n        tools:layout=&quot;@layout/fragment_notifications&quot; /&gt;\r\n&lt;/navigation&gt;\r\n\r\ninside MainActivity class or whatever your dashboard class is, add\r\n\r\n      \r\n\r\n    \r\n     public class MainActivity extends AppCompatActivity {\r\n\r\n     private ActivityMainBinding binding;\r\n\r\n        @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n     binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n     setContentView(binding.getRoot());\r\n\r\n        BottomNavigationView navView = findViewById(R.id.nav_view);\r\n        // Passing each menu ID as a set of Ids because each\r\n        // menu should be considered as top level destinations.\r\n        AppBarConfiguration appBarConfiguration = new \r\n       AppBarConfiguration.Builder(\r\n                R.id.navigation_home, R.id.navigation_dashboard, \r\n       R.id.navigation_notifications)\r\n                .build();\r\n        NavController navController = \r\n        Navigation.findNavController(this, \r\n        R.id.nav_host_fragment_activity_main);\r\n        NavigationUI.setupActionBarWithNavController(this, \r\n       navController, appBarConfiguration);\r\n        NavigationUI.setupWithNavController(binding.navView, \r\n       navController);\r\n        }\r\n\r\n      }\r\n\r\n\r\nchat fragment\r\n\r\n    package com.example\r\n\r\n    import android.os.Bundle\r\n    import android.view.LayoutInflater\r\n    import android.view.View\r\n    import android.view.ViewGroup\r\n    import androidx.fragment.app.Fragment\r\n\r\n\r\n     import android.os.Bundle;\r\n     import android.view.LayoutInflater;\r\n     import android.view.View;\r\n     import android.view.ViewGroup;\r\n\r\n     import androidx.annotation.NonNull;\r\n     import androidx.fragment.app.Fragment;\r\n\r\n     import com.example.myapplication.R;\r\n\r\n      public class ChatFragment extends Fragment {\r\n        public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle \r\n          savedInstanceState) {\r\n         View  view = inflater.inflate(R.layout.fragment_chat, \r\n      container, false);\r\n\r\n           return view.getRootView();\r\n        }\r\n     }\r\n\r\nfragment_chat.xml\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/text_notifications&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot; /&gt;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nforum fragment\r\n\r\n     package com.example\r\n\r\n     import android.os.Bundle;\r\n      import android.view.LayoutInflater;\r\n      import android.view.View;\r\n     import android.view.ViewGroup;\r\n\r\n     import androidx.annotation.NonNull;\r\n     import androidx.fragment.app.Fragment;\r\n\r\n     import com.example.myapplication.R;\r\n\r\n     public class ForumFragment extends Fragment {\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle \r\n       savedInstanceState) {\r\n         View  view = inflater.inflate(R.layout.fragment_chat, \r\n      container, false);\r\n\r\n          return view.getRootView();\r\n        }\r\n     }\r\n\r\n\r\nHome fragment\r\n\r\n     import android.os.Bundle;\r\n     import android.view.LayoutInflater;\r\n     import android.view.View;\r\n     import android.view.ViewGroup;\r\n\r\n     import androidx.annotation.NonNull;\r\n     import androidx.fragment.app.Fragment;\r\n\r\n     import com.example.myapplication.R;\r\n\r\n     public class HomeFragment extends Fragment {\r\n        public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle \r\n        savedInstanceState) {\r\n            View  view = inflater.inflate(R.layout.fragment_chat, \r\n        container, false);\r\n\r\n         return view.getRootView();\r\n     }\r\n    }","title":"Bottom Navigation Bar in linerylayout does not work","body":"<p>It because of your parent group LinearLayout</p>\n<p>Try this</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n   xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n   xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n   android:id=&quot;@+id/container&quot;\n   android:layout_width=&quot;match_parent&quot;\n   android:layout_height=&quot;match_parent&quot;&gt;\n\n\n\n&lt;fragment\n    android:id=&quot;@+id/nav_host_fragment_activity_main&quot;\n    android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    app:defaultNavHost=&quot;true&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@id/nav_view&quot;\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:navGraph=&quot;@navigation/mobile_navigation&quot;\n/&gt;\n\n&lt;com.google.android.material.appbar.AppBarLayout\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n    &lt;androidx.appcompat.widget.Toolbar\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/toolbar&quot;\n        android:background=&quot;@color/toolbarDark&quot;\n        app:popupTheme=&quot;@style/MenuStyle&quot;&gt;\n        &lt;de.hdodenhof.circleimageview.CircleImageView\n            android:layout_width=&quot;30dp&quot;\n            android:layout_height=&quot;30dp&quot;\n            android:id=&quot;@+id/profile_image&quot;/&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/username&quot;\n            android:layout_marginLeft=&quot;25dp&quot;\n            android:layout_marginStart=&quot;25dp&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textStyle=&quot;bold&quot;/&gt;\n    &lt;/androidx.appcompat.widget.Toolbar&gt;\n\n    &lt;com.google.android.material.tabs.TabLayout\n        android:id=&quot;@+id/tab_layout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:tabSelectedTextColor=&quot;@color/white&quot;\n        app:tabIndicatorColor=&quot;@color/white&quot;\n        app:tabTextColor=&quot;@color/white&quot;/&gt;\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\n&lt;androidx.viewpager.widget.ViewPager\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/view_pager&quot;\n    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;/&gt;\n\n\n&lt;com.google.android.material.bottomnavigation.BottomNavigationView\n    android:id=&quot;@+id/nav_view&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;0dp&quot;\n    android:layout_marginEnd=&quot;0dp&quot;\n    android:background=&quot;?android:attr/windowBackground&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n    app:menu=&quot;@menu/bottom_nav_menu&quot;/&gt;\n &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Inside res folder, create a folder called nav</p>\n<p>inside the nav create mobile_navigation.xml and add</p>\n<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n &lt;navigation \n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n  xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n   android:id=&quot;@+id/mobile_navigation&quot;\n   app:startDestination=&quot;@+id/navigation_home&quot;&gt;\n\n&lt;fragment\n    android:id=&quot;@+id/navigation_home&quot;\n    android:name=&quot;ChatFragment&quot;\n    android:label=&quot;@string/title_home&quot;\n    tools:layout=&quot;@layout/chat_home&quot; /&gt;\n\n&lt;fragment\n    android:id=&quot;@+id/navigation_dashboard&quot;\n    android:name=&quot;DashboardFragment&quot;\n    android:label=&quot;@string/title_dashboard&quot;\n    tools:layout=&quot;@layout/fragment_dashboard&quot; /&gt;\n\n&lt;fragment\n    android:id=&quot;@+id/navigation_notifications&quot;\n    android:name=&quot;NotificationsFragment&quot;\n    android:label=&quot;@string/title_notifications&quot;\n    tools:layout=&quot;@layout/fragment_notifications&quot; /&gt;\n</code></pre>\n\n<p>inside MainActivity class or whatever your dashboard class is, add</p>\n<pre><code> public class MainActivity extends AppCompatActivity {\n\n private ActivityMainBinding binding;\n\n    @Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n binding = ActivityMainBinding.inflate(getLayoutInflater());\n setContentView(binding.getRoot());\n\n    BottomNavigationView navView = findViewById(R.id.nav_view);\n    // Passing each menu ID as a set of Ids because each\n    // menu should be considered as top level destinations.\n    AppBarConfiguration appBarConfiguration = new \n   AppBarConfiguration.Builder(\n            R.id.navigation_home, R.id.navigation_dashboard, \n   R.id.navigation_notifications)\n            .build();\n    NavController navController = \n    Navigation.findNavController(this, \n    R.id.nav_host_fragment_activity_main);\n    NavigationUI.setupActionBarWithNavController(this, \n   navController, appBarConfiguration);\n    NavigationUI.setupWithNavController(binding.navView, \n   navController);\n    }\n\n  }\n</code></pre>\n<p>chat fragment</p>\n<pre><code>package com.example\n\nimport android.os.Bundle\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport androidx.fragment.app.Fragment\n\n\n import android.os.Bundle;\n import android.view.LayoutInflater;\n import android.view.View;\n import android.view.ViewGroup;\n\n import androidx.annotation.NonNull;\n import androidx.fragment.app.Fragment;\n\n import com.example.myapplication.R;\n\n  public class ChatFragment extends Fragment {\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                         ViewGroup container, Bundle \n      savedInstanceState) {\n     View  view = inflater.inflate(R.layout.fragment_chat, \n  container, false);\n\n       return view.getRootView();\n    }\n }\n</code></pre>\n<p>fragment_chat.xml</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/text_notifications&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;8dp&quot;\n    android:layout_marginTop=&quot;8dp&quot;\n    android:layout_marginEnd=&quot;8dp&quot;\n    android:textAlignment=&quot;center&quot;\n    android:textSize=&quot;20sp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>forum fragment</p>\n<pre><code> package com.example\n\n import android.os.Bundle;\n  import android.view.LayoutInflater;\n  import android.view.View;\n import android.view.ViewGroup;\n\n import androidx.annotation.NonNull;\n import androidx.fragment.app.Fragment;\n\n import com.example.myapplication.R;\n\n public class ForumFragment extends Fragment {\npublic View onCreateView(@NonNull LayoutInflater inflater,\n                         ViewGroup container, Bundle \n   savedInstanceState) {\n     View  view = inflater.inflate(R.layout.fragment_chat, \n  container, false);\n\n      return view.getRootView();\n    }\n }\n</code></pre>\n<p>Home fragment</p>\n<pre><code> import android.os.Bundle;\n import android.view.LayoutInflater;\n import android.view.View;\n import android.view.ViewGroup;\n\n import androidx.annotation.NonNull;\n import androidx.fragment.app.Fragment;\n\n import com.example.myapplication.R;\n\n public class HomeFragment extends Fragment {\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                         ViewGroup container, Bundle \n    savedInstanceState) {\n        View  view = inflater.inflate(R.layout.fragment_chat, \n    container, false);\n\n     return view.getRootView();\n }\n}\n</code></pre>\n"}],"owner":{"account_id":12671827,"reputation":301,"user_id":12700297,"display_name":"Bubino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650143528,"creation_date":1650127332,"question_id":71895716,"body_markdown":"I&#39;m trying to make a bottom navigation menu, from how I wrote in the code I only did it that it doesn&#39;t appear below. I should put it in this chat app of mine that I am doing so that it always appears after the user has logged in. Is there something I did wrong? Thanks\r\n\r\nChatFragment\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_chats, container, false);\r\n\r\n        recyclerView = view.findViewById(R.id.recycler_view);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n\r\n        firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n        usersList = new Stack&lt;&gt;();\r\n\r\n        if (firebaseUser != null) {\r\n            Query reference1 = FirebaseDatabase.getInstance().getReference(&quot;Chatlist&quot;).child(firebaseUser.getUid()).orderByChild(&quot;time&quot;);\r\n            // Get every user from chatlist reference\r\n            reference1.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                    usersList.clear();\r\n                    for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\r\n                        Chatlist chatlist = snapshot.getValue(Chatlist.class);\r\n                        usersList.push(chatlist);\r\n                    }\r\n                    Collections.reverse(usersList);\r\n                    chatList();\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n                }\r\n            });\r\n        }\r\n        FirebaseMessaging.getInstance().getToken().addOnCompleteListener(new OnCompleteListener&lt;String&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;String&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    String mtoken = task.getResult();\r\n                    updateToken(mtoken);\r\n                    Log.d(&quot;TAG&quot;, mtoken); //Check the generated token.\r\n                } else {\r\n                    Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\r\n                }\r\n            }\r\n        });\r\n\r\n        registerForContextMenu(recyclerView);\r\n\r\n        return view;\r\n    }\r\n\r\nChat Layout\r\n\r\n   \r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.Fragments.ChatsFragment&quot;&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recycler_view&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\n&lt;/RelativeLayout&gt;","title":"Bottom Navigation Bar in linerylayout does not work","body":"<p>I'm trying to make a bottom navigation menu, from how I wrote in the code I only did it that it doesn't appear below. I should put it in this chat app of mine that I am doing so that it always appears after the user has logged in. Is there something I did wrong? Thanks</p>\n<p>ChatFragment</p>\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.fragment_chats, container, false);\n\n    recyclerView = view.findViewById(R.id.recycler_view);\n    recyclerView.setHasFixedSize(true);\n    recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\n\n    firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\n\n    usersList = new Stack&lt;&gt;();\n\n    if (firebaseUser != null) {\n        Query reference1 = FirebaseDatabase.getInstance().getReference(&quot;Chatlist&quot;).child(firebaseUser.getUid()).orderByChild(&quot;time&quot;);\n        // Get every user from chatlist reference\n        reference1.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                usersList.clear();\n                for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\n                    Chatlist chatlist = snapshot.getValue(Chatlist.class);\n                    usersList.push(chatlist);\n                }\n                Collections.reverse(usersList);\n                chatList();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n\n            }\n        });\n    }\n    FirebaseMessaging.getInstance().getToken().addOnCompleteListener(new OnCompleteListener&lt;String&gt;() {\n        @Override\n        public void onComplete(@NonNull Task&lt;String&gt; task) {\n            if (task.isSuccessful()) {\n                String mtoken = task.getResult();\n                updateToken(mtoken);\n                Log.d(&quot;TAG&quot;, mtoken); //Check the generated token.\n            } else {\n                Log.d(&quot;TAG&quot;, task.getException().getMessage()); //Never ignore potential errors!\n            }\n        }\n    });\n\n    registerForContextMenu(recyclerView);\n\n    return view;\n}\n</code></pre>\n<p>Chat Layout</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.Fragments.ChatsFragment&quot;&gt;\n\n&lt;androidx.recyclerview.widget.RecyclerView\n    android:id=&quot;@+id/recycler_view&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;/&gt;\n</code></pre>\n\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1650136705,"post_id":71896768,"comment_id":127047215,"body_markdown":"Java has no concept like Go&#39;s [`iota`](https://go.dev/ref/spec#Iota). So... I think there is no way to fixate the values at compile time automatically. What we could do is create a `static int counter = 0` and then always set `public static final int MY_VALUE = counter++;`. This, however, may not guarantee that the values are always the same if `counter` is used across multiple classes.","body":"Java has no concept like Go&#39;s <a href=\"https://go.dev/ref/spec#Iota\" rel=\"nofollow noreferrer\"><code>iota</code></a>. So... I think there is no way to fixate the values at compile time automatically. What we could do is create a <code>static int counter = 0</code> and then always set <code>public static final int MY_VALUE = counter++;</code>. This, however, may not guarantee that the values are always the same if <code>counter</code> is used across multiple classes."},{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":0,"creation_date":1650136785,"post_id":71896768,"comment_id":127047223,"body_markdown":"You could use `new Random().nextInt(0, 400000)` the odds of collision are low :-)","body":"You could use <code>new Random().nextInt(0, 400000)</code> the odds of collision are low :-)"},{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":1,"creation_date":1650136829,"post_id":71896768,"comment_id":127047231,"body_markdown":"or write a class that generates ints, then save them in a pool (to avoid collisions) then request one from the pool instead of generating one.","body":"or write a class that generates ints, then save them in a pool (to avoid collisions) then request one from the pool instead of generating one."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1650136871,"post_id":71896768,"comment_id":127047243,"body_markdown":"@Blundell both approaches will not guarantee that the values are always the same.","body":"@Blundell both approaches will not guarantee that the values are always the same."},{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":0,"creation_date":1650136888,"post_id":71896768,"comment_id":127047250,"body_markdown":"You could also come up with a schema and use bit shifting to generate codes. i.e. use a major number for the name of the fragment and a minor number. That way you wouldn&#39;t get collisions even when moved.","body":"You could also come up with a schema and use bit shifting to generate codes. i.e. use a major number for the name of the fragment and a minor number. That way you wouldn&#39;t get collisions even when moved."},{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":0,"creation_date":1650136924,"post_id":71896768,"comment_id":127047254,"body_markdown":"@Turing85 the pool would be passed a unique key :-)","body":"@Turing85 the pool would be passed a unique key :-)"},{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":1,"creation_date":1650137398,"post_id":71896768,"comment_id":127047365,"body_markdown":"What makes you think you need a unique integer value for intent request codes?","body":"What makes you think you need a unique integer value for intent request codes?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1650137704,"post_id":71896768,"comment_id":127047430,"body_markdown":"&quot;I want a unique integer here, please set it at compile time&quot; -- use [an ID resource](https://developer.android.com/guide/topics/resources/more-resources#Id). However, I agree with Ian: there should be few places in an app where you need a process-wide unique ID.","body":"&quot;I want a unique integer here, please set it at compile time&quot; -- use <a href=\"https://developer.android.com/guide/topics/resources/more-resources#Id\" rel=\"nofollow noreferrer\">an ID resource</a>. However, I agree with Ian: there should be few places in an app where you need a process-wide unique ID."},{"owner":{"account_id":551935,"reputation":3262,"user_id":1375015,"accept_rate":79,"display_name":"Konstantin Schubert"},"score":0,"creation_date":1650140417,"post_id":71896768,"comment_id":127047951,"body_markdown":"@CommonsWare I think your comment answers the question ... and yes, I shouldn&#39;t need a process-wide unique ID, but even defining unique IDs for, say, the http requests of an activity is a bit of a hassle.","body":"@CommonsWare I think your comment answers the question ... and yes, I shouldn&#39;t need a process-wide unique ID, but even defining unique IDs for, say, the http requests of an activity is a bit of a hassle."},{"owner":{"account_id":15329532,"reputation":191,"user_id":11059630,"display_name":"Yusuf Yaşar"},"score":0,"creation_date":1650153793,"post_id":71896768,"comment_id":127049981,"body_markdown":"I have the RequestCodes class. I am creating request code for all activities starting from 1 here. so it is unique.","body":"I have the RequestCodes class. I am creating request code for all activities starting from 1 here. so it is unique."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650141198,"creation_date":1650141198,"answer_id":71897317,"question_id":71896768,"body_markdown":"An [ID resource](https://developer.android.com/guide/topics/resources/more-resources#Id) will give you an integer that does not collide with any other ID resources used in your app (e.g., for widget IDs in a layout resource).\r\n","title":"How to generate unique integer values in Java (Android) at compile time","body":"<p>An <a href=\"https://developer.android.com/guide/topics/resources/more-resources#Id\" rel=\"nofollow noreferrer\">ID resource</a> will give you an integer that does not collide with any other ID resources used in your app (e.g., for widget IDs in a layout resource).</p>\n"},{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650142493,"creation_date":1650142493,"answer_id":71897437,"question_id":71896768,"body_markdown":"Create an enum.  Then you just add a new item to the enum.  \r\n\r\nYou don&#39;t want to assign these at compile time.  Half the point of these ids is to make it easy when using a debugger to be able to tell what the id is and figure out what the matching constant is.  Assigning at compile time makes that a nightmare.  It will cost you a TON of time in maintenance down the line.  You&#39;d be trading seconds at time of writing for hours of time in maintenance.","title":"How to generate unique integer values in Java (Android) at compile time","body":"<p>Create an enum.  Then you just add a new item to the enum.</p>\n<p>You don't want to assign these at compile time.  Half the point of these ids is to make it easy when using a debugger to be able to tell what the id is and figure out what the matching constant is.  Assigning at compile time makes that a nightmare.  It will cost you a TON of time in maintenance down the line.  You'd be trading seconds at time of writing for hours of time in maintenance.</p>\n"}],"owner":{"account_id":551935,"reputation":3262,"user_id":1375015,"accept_rate":79,"display_name":"Konstantin Schubert"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71897317,"answer_count":2,"score":1,"last_activity_date":1650142493,"creation_date":1650136365,"question_id":71896768,"body_markdown":"I need lots of unique integers in my Android code, for example for intent request codes.\r\n\r\nI don&#39;t want to have to worry about collisions, even if I move fragments between activities. So I want them to be globally unique.\r\n\r\nAt the moment, I am doing this manually. \r\n\r\n```\r\n    public static final int HTTP_ADD_OR_REMOVE_CALENDAR_REQUEST_CODE = 20001;\r\n```\r\n\r\nThis is annoying and error prone. \r\nIs there a way to tell Android/Java: \r\n\r\n&quot;I want a unique integer here, please set it at compile time&quot; ?\r\n\r\nOf course I&#39;d rather use an enum, but apparently that&#39;s not the Android way...\r\n\r\n","title":"How to generate unique integer values in Java (Android) at compile time","body":"<p>I need lots of unique integers in my Android code, for example for intent request codes.</p>\n<p>I don't want to have to worry about collisions, even if I move fragments between activities. So I want them to be globally unique.</p>\n<p>At the moment, I am doing this manually.</p>\n<pre><code>    public static final int HTTP_ADD_OR_REMOVE_CALENDAR_REQUEST_CODE = 20001;\n</code></pre>\n<p>This is annoying and error prone.\nIs there a way to tell Android/Java:</p>\n<p>&quot;I want a unique integer here, please set it at compile time&quot; ?</p>\n<p>Of course I'd rather use an enum, but apparently that's not the Android way...</p>\n"},{"tags":["java","maven","wicket"],"comments":[{"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"score":0,"creation_date":1650022412,"post_id":71883165,"comment_id":127024586,"body_markdown":"I am pretty sure it is related to https://stackoverflow.com/a/71876080/497381. There you used Wicket 8.13, 8.14 and 6.30 in the classpath. Now I see you use 9.0.0 too. Why 9.0.0 ?! If you update your app then use the latest 9.8.0","body":"I am pretty sure it is related to <a href=\"https://stackoverflow.com/a/71876080/497381\">stackoverflow.com/a/71876080/497381</a>. There you used Wicket 8.13, 8.14 and 6.30 in the classpath. Now I see you use 9.0.0 too. Why 9.0.0 ?! If you update your app then use the latest 9.8.0"},{"owner":{"account_id":174361,"reputation":496,"user_id":403675,"accept_rate":62,"display_name":"Petr Kostroun"},"score":0,"creation_date":1650022724,"post_id":71883165,"comment_id":127024673,"body_markdown":"Still there is problem with ICellPopulator. I try to delete wicket from my maven repo and import them again, but still there is same error. And also update to latest 9.8.0 still doesnt work.","body":"Still there is problem with ICellPopulator. I try to delete wicket from my maven repo and import them again, but still there is same error. And also update to latest 9.8.0 still doesnt work."},{"owner":{"account_id":174361,"reputation":496,"user_id":403675,"accept_rate":62,"display_name":"Petr Kostroun"},"score":0,"creation_date":1650023418,"post_id":71883165,"comment_id":127024821,"body_markdown":"When I try to update Wicket to 9.8.0, there is problem with class org.apache.wicket.markup.html.panel.GenericPanel;","body":"When I try to update Wicket to 9.8.0, there is problem with class org.apache.wicket.markup.html.panel.GenericPanel;"},{"owner":{"account_id":174361,"reputation":496,"user_id":403675,"accept_rate":62,"display_name":"Petr Kostroun"},"score":0,"creation_date":1650024214,"post_id":71883165,"comment_id":127025055,"body_markdown":"I also try do delete my mvn local repository, but with same problem.","body":"I also try do delete my mvn local repository, but with same problem."},{"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"score":0,"creation_date":1650027298,"post_id":71883165,"comment_id":127025984,"body_markdown":"Please share the output of `mvn dependency:tree`","body":"Please share the output of <code>mvn dependency:tree</code>"},{"owner":{"account_id":174361,"reputation":496,"user_id":403675,"accept_rate":62,"display_name":"Petr Kostroun"},"score":0,"creation_date":1650028315,"post_id":71883165,"comment_id":127026325,"body_markdown":"I add it into my question.","body":"I add it into my question."}],"answers":[{"tags":[],"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650142110,"creation_date":1650142110,"answer_id":71897398,"question_id":71883165,"body_markdown":"The classpath looks OK!\r\n\r\nI guess the downloaded wicket-extensions.jar got corrupted somehow. Delete it from ~/.m2/repository/org/apache/wicket/wicket-extensions/9.8.0 and try again. Maven will re-download it from Maven Central.","title":"Compile error on connot access org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator","body":"<p>The classpath looks OK!</p>\n<p>I guess the downloaded wicket-extensions.jar got corrupted somehow. Delete it from ~/.m2/repository/org/apache/wicket/wicket-extensions/9.8.0 and try again. Maven will re-download it from Maven Central.</p>\n"}],"owner":{"account_id":174361,"reputation":496,"user_id":403675,"accept_rate":62,"display_name":"Petr Kostroun"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650142110,"creation_date":1650020204,"question_id":71883165,"body_markdown":"I have problem with my maven build. It throws error\r\n\r\n    [ERROR] \\Users\\pkostrou\\IdeaProjects\\dhl-wc-1.2.30.0\\src\\main\\java\\com\\dhl\\web\\component\\table\\CheckboxPropertyColumn.java:[8,66] error: cannot access ICellPopulat\r\n    or\r\n\r\nBut `org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator` I have in my classpath on \r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.wicket&lt;/groupId&gt;\r\n            &lt;artifactId&gt;wicket-extensions&lt;/artifactId&gt;\r\n            &lt;version&gt;9.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nWhen I try to doubleclick ICellPopulator in Idea, It normally open class in dependency library.\r\n\r\nCan someone give me a point how to solve this issue\r\n\r\nMy mvn dependency:tree\r\n\r\n    [INFO] com.dhl.webcommon:dhl-wc:jar:1.2.30.0\r\n    [INFO] +- org.springframework:spring-tx:jar:5.3.18:compile\r\n    [INFO] |  \\- org.springframework:spring-beans:jar:5.3.18:compile\r\n    [INFO] +- org.springframework:spring-webmvc:jar:5.3.18:compile\r\n    [INFO] +- org.springframework:spring-core:jar:5.3.18:compile\r\n    [INFO] |  \\- org.springframework:spring-jcl:jar:5.3.18:compile\r\n    [INFO] +- org.springframework:spring-orm:jar:5.1.6.RELEASE:compile\r\n    [INFO] |  \\- org.springframework:spring-jdbc:jar:5.1.6.RELEASE:compile\r\n    [INFO] +- org.springframework:spring-web:jar:5.3.18:compile\r\n    [INFO] +- org.springframework:spring-expression:jar:5.3.18:compile\r\n    [INFO] +- org.springframework:spring-aop:jar:5.3.18:compile\r\n    [INFO] +- org.springframework:spring-aspects:jar:5.3.18:compile\r\n    [INFO] |  \\- org.aspectj:aspectjweaver:jar:1.9.7:compile\r\n    [INFO] +- org.springframework:spring-test:jar:5.3.18:compile\r\n    [INFO] +- org.springframework:spring-jms:jar:5.3.18:compile\r\n    [INFO] |  \\- org.springframework:spring-messaging:jar:5.3.18:compile\r\n    [INFO] +- org.springframework:spring-context:jar:5.3.18:compile\r\n    [INFO] +- org.springframework:spring-context-support:jar:5.3.18:compile\r\n    [INFO] +- org.springframework.security:spring-security-core:jar:3.2.3.RELEASE:compile\r\n    [INFO] |  \\- aopalliance:aopalliance:jar:1.0:compile\r\n    [INFO] +- org.springframework.security:spring-security-web:jar:3.2.3.RELEASE:compile\r\n    [INFO] +- org.springframework.security:spring-security-config:jar:3.2.3.RELEASE:compile\r\n    [INFO] +- org.springframework.batch:spring-batch-core:jar:2.2.1.RELEASE:compile\r\n    [INFO] |  +- org.springframework.batch:spring-batch-infrastructure:jar:2.2.1.RELEASE:compile\r\n    [INFO] |  |  \\- org.springframework.retry:spring-retry:jar:1.0.2.RELEASE:compile\r\n    [INFO] |  +- com.thoughtworks.xstream:xstream:jar:1.3:compile\r\n    [INFO] |  |  \\- xpp3:xpp3_min:jar:1.1.4c:compile\r\n    [INFO] |  \\- org.codehaus.jettison:jettison:jar:1.1:compile\r\n    [INFO] +- org.springframework.ldap:spring-ldap-core:jar:1.3.2.RELEASE:compile\r\n    [INFO] +- org.apache.wicket:wicket-core:jar:9.8.0:compile\r\n    [INFO] |  +- com.github.openjson:openjson:jar:1.0.12:compile\r\n    [INFO] |  +- org.apache.wicket:wicket-request:jar:9.8.0:compile\r\n    [INFO] |  +- org.apache.wicket:wicket-util:jar:9.8.0:compile\r\n    [INFO] |  |  +- commons-fileupload:commons-fileupload:jar:1.4:compile\r\n    [INFO] |  |  \\- org.apache.commons:commons-collections4:jar:4.4:compile\r\n    [INFO] |  \\- org.danekja:jdk-serializable-functional:jar:1.9.0:compile\r\n    [INFO] +- org.apache.wicket:wicket-spring:jar:9.8.0:compile\r\n    [INFO] |  \\- org.apache.wicket:wicket-ioc:jar:9.8.0:compile\r\n    [INFO] |     +- cglib:cglib:jar:3.3.0:compile\r\n    [INFO] |     +- javax.inject:javax.inject:jar:1:compile\r\n    [INFO] |     \\- org.ow2.asm:asm:jar:9.1:compile\r\n    [INFO] +- org.wicketstuff:wicketstuff-minis:jar:9.8.0:compile\r\n    [INFO] +- org.apache.wicket:wicket-bean-validation:jar:9.8.0:compile\r\n    [INFO] +- com.vaynberg.wicket.select2:wicket-select2:jar:4.1:compile\r\n    [INFO] |  \\- org.json:json:jar:20170516:compile\r\n    [INFO] +- cas:casclient:jar:2.1.1:compile\r\n    [INFO] |  +- javax.servlet:servlet-api:jar:2.3:compile\r\n    [INFO] |  \\- commons-logging:commons-logging:jar:1.0.4:compile\r\n    [INFO] +- org.jasig.cas:cas-client-core:jar:3.1.2:compile\r\n    [INFO] +- joda-time:joda-time-hibernate:jar:1.3:compile\r\n    [INFO] +- org.jadira.usertype:usertype.jodatime:jar:2.0.1:compile\r\n    [INFO] |  \\- org.jadira.usertype:usertype.spi:jar:2.0.1:compile\r\n    [INFO] +- com.google.guava:guava:jar:11.0.2:compile\r\n    [INFO] |  \\- com.google.code.findbugs:jsr305:jar:1.3.9:compile\r\n    [INFO] +- org.hibernate:hibernate-core:jar:5.3.6.Final:compile\r\n    [INFO] |  +- org.jboss.logging:jboss-logging:jar:3.3.2.Final:compile\r\n    [INFO] |  +- javax.persistence:javax.persistence-api:jar:2.2:compile\r\n    [INFO] |  +- org.javassist:javassist:jar:3.23.1-GA:compile\r\n    [INFO] |  +- net.bytebuddy:byte-buddy:jar:1.8.17:compile\r\n    [INFO] |  +- antlr:antlr:jar:2.7.7:compile\r\n    [INFO] |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.1.1.Final:compile\r\n    [INFO] |  +- org.jboss:jandex:jar:2.0.5.Final:compile\r\n    [INFO] |  +- com.fasterxml:classmate:jar:1.3.4:compile\r\n    [INFO] |  +- javax.activation:javax.activation-api:jar:1.2.0:compile\r\n    [INFO] |  +- dom4j:dom4j:jar:1.6.1:compile\r\n    [INFO] |  \\- org.hibernate.common:hibernate-commons-annotations:jar:5.0.4.Final:compile\r\n    [INFO] +- commons-dbcp:commons-dbcp:jar:1.4:compile\r\n    [INFO] |  \\- commons-pool:commons-pool:jar:1.5.4:compile\r\n    [INFO] +- javax.validation:validation-api:jar:1.0.0.GA:compile\r\n    [INFO] +- org.hibernate:hibernate-validator-annotation-processor:jar:4.2.0.Final:compile\r\n    [INFO] |  \\- org.hibernate:hibernate-validator:jar:4.2.0.Final:compile\r\n    [INFO] +- org.hibernate:hibernate-ehcache:jar:5.3.6.Final:compile\r\n    [INFO] |  \\- net.sf.ehcache:ehcache:jar:2.10.3:compile\r\n    [INFO] +- com.ibm.icu:icu4j:jar:4.0.1:compile\r\n    [INFO] +- org.apache.poi:poi:jar:3.13:compile\r\n    [INFO] |  \\- commons-codec:commons-codec:jar:1.9:compile\r\n    [INFO] +- org.apache.poi:poi-ooxml:jar:3.13:compile\r\n    [INFO] +- org.apache.poi:poi-ooxml-schemas:jar:3.13:compile\r\n    [INFO] +- org.apache.xmlbeans:xmlbeans:jar:2.6.0:compile\r\n    [INFO] |  \\- stax:stax-api:jar:1.0.1:compile\r\n    [INFO] +- com.oracle:ojdbc16:jar:11.2.0.3.0:runtime\r\n    [INFO] +- commons-lang:commons-lang:jar:2.6:compile\r\n    [INFO] +- org.aspectj:aspectjrt:jar:1.5.4:compile\r\n    [INFO] +- log4j:log4j:jar:1.2.17:compile\r\n    [INFO] +- org.slf4j:slf4j-api:jar:1.7.2:compile\r\n    [INFO] +- org.slf4j:slf4j-log4j12:jar:1.7.2:compile\r\n    [INFO] +- commons-io:commons-io:jar:2.4:compile\r\n    [INFO] +- junit:junit:jar:4.10:test\r\n    [INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.1:test\r\n    [INFO] +- org.hibernate:hibernate-envers:jar:5.3.6.Final:compile\r\n    [INFO] +- javax.mail:mail:jar:1.4.4:compile\r\n    [INFO] |  \\- javax.activation:activation:jar:1.1:compile\r\n    [INFO] +- com.code-troopers:wicket-editable-grid:jar:0.1:compile\r\n    [INFO] +- org.apache.wicket:wicket-extensions:jar:9.8.0:compile\r\n    [INFO] +- org.apache.cxf:cxf-rt-databinding-jaxb:jar:2.7.3:compile\r\n    [INFO] |  +- org.apache.cxf:cxf-api:jar:2.7.3:compile\r\n    [INFO] |  |  +- org.codehaus.woodstox:woodstox-core-asl:jar:4.1.4:runtime\r\n    [INFO] |  |  |  \\- org.codehaus.woodstox:stax2-api:jar:3.1.1:runtime\r\n    [INFO] |  |  +- org.apache.ws.xmlschema:xmlschema-core:jar:2.0.3:compile\r\n    [INFO] |  |  \\- wsdl4j:wsdl4j:jar:1.6.2:compile\r\n    [INFO] |  +- org.apache.cxf:cxf-rt-core:jar:2.7.3:compile\r\n    [INFO] |  +- com.sun.xml.bind:jaxb-impl:jar:2.1.13:compile\r\n    [INFO] |  \\- com.sun.xml.bind:jaxb-xjc:jar:2.1.13:compile\r\n    [INFO] +- org.apache.cxf:cxf-rt-frontend-jaxws:jar:2.7.3:compile\r\n    [INFO] |  +- xml-resolver:xml-resolver:jar:1.2:compile\r\n    [INFO] |  +- asm:asm:jar:3.3.1:compile\r\n    [INFO] |  +- org.apache.cxf:cxf-rt-bindings-soap:jar:2.7.3:compile\r\n    [INFO] |  +- org.apache.cxf:cxf-rt-bindings-xml:jar:2.7.3:compile\r\n    [INFO] |  +- org.apache.cxf:cxf-rt-frontend-simple:jar:2.7.3:compile\r\n    [INFO] |  \\- org.apache.cxf:cxf-rt-ws-addr:jar:2.7.3:compile\r\n    [INFO] |     \\- org.apache.cxf:cxf-rt-ws-policy:jar:2.7.3:compile\r\n    [INFO] |        \\- org.apache.neethi:neethi:jar:3.0.2:compile\r\n    [INFO] +- org.apache.cxf:cxf-rt-transports-http:jar:2.7.3:compile\r\n    [INFO] +- org.apache.httpcomponents:httpclient:jar:4.4:compile\r\n    [INFO] |  \\- org.apache.httpcomponents:httpcore:jar:4.4:compile\r\n    [INFO] +- com.fasterxml.jackson.core:jackson-core:jar:2.9.1:compile\r\n    [INFO] +- com.fasterxml.jackson.core:jackson-annotations:jar:2.9.1:compile\r\n    [INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.9.1:compile\r\n    [INFO] +- com.fasterxml.jackson.datatype:jackson-datatype-joda:jar:2.9.1:compile\r\n    [INFO] |  \\- joda-time:joda-time:jar:2.7:compile\r\n    [INFO] +- com.googlecode.wicket-jquery-ui:wicket-jquery-ui:jar:9.8.0:compile\r\n    [INFO] |  \\- com.googlecode.wicket-jquery-ui:wicket-jquery-ui-core:jar:9.8.0:compile\r\n    [INFO] +- com.dhl.webcommon:saml-filter:jar:1.0.10.0:compile\r\n    [INFO] +- com.dhl.webcommon:dhl-dbc:jar:1.1.82.0:compile\r\n    [INFO] |  +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.0.Final:compile\r\n    [INFO] |  \\- commons-beanutils:commons-beanutils:jar:1.9.2:compile\r\n    [INFO] |     \\- commons-collections:commons-collections:jar:3.2.1:compile\r\n    [INFO] +- com.dhl.webcommon:dhl-resources:jar:1.1.160.0:compile\r\n    [INFO] \\- org.flywaydb:flyway-core:jar:4.0.3:compile\r\n\r\nHope it will help to solve my issue. It seems that all dependency is there, but maven still cant resolve class GenericPanel\r\n\r\n","title":"Compile error on connot access org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator","body":"<p>I have problem with my maven build. It throws error</p>\n<pre><code>[ERROR] \\Users\\pkostrou\\IdeaProjects\\dhl-wc-1.2.30.0\\src\\main\\java\\com\\dhl\\web\\component\\table\\CheckboxPropertyColumn.java:[8,66] error: cannot access ICellPopulat\nor\n</code></pre>\n<p>But <code>org.apache.wicket.extensions.markup.html.repeater.data.grid.ICellPopulator</code> I have in my classpath on</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.wicket&lt;/groupId&gt;\n        &lt;artifactId&gt;wicket-extensions&lt;/artifactId&gt;\n        &lt;version&gt;9.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>When I try to doubleclick ICellPopulator in Idea, It normally open class in dependency library.</p>\n<p>Can someone give me a point how to solve this issue</p>\n<p>My mvn dependency:tree</p>\n<pre><code>[INFO] com.dhl.webcommon:dhl-wc:jar:1.2.30.0\n[INFO] +- org.springframework:spring-tx:jar:5.3.18:compile\n[INFO] |  \\- org.springframework:spring-beans:jar:5.3.18:compile\n[INFO] +- org.springframework:spring-webmvc:jar:5.3.18:compile\n[INFO] +- org.springframework:spring-core:jar:5.3.18:compile\n[INFO] |  \\- org.springframework:spring-jcl:jar:5.3.18:compile\n[INFO] +- org.springframework:spring-orm:jar:5.1.6.RELEASE:compile\n[INFO] |  \\- org.springframework:spring-jdbc:jar:5.1.6.RELEASE:compile\n[INFO] +- org.springframework:spring-web:jar:5.3.18:compile\n[INFO] +- org.springframework:spring-expression:jar:5.3.18:compile\n[INFO] +- org.springframework:spring-aop:jar:5.3.18:compile\n[INFO] +- org.springframework:spring-aspects:jar:5.3.18:compile\n[INFO] |  \\- org.aspectj:aspectjweaver:jar:1.9.7:compile\n[INFO] +- org.springframework:spring-test:jar:5.3.18:compile\n[INFO] +- org.springframework:spring-jms:jar:5.3.18:compile\n[INFO] |  \\- org.springframework:spring-messaging:jar:5.3.18:compile\n[INFO] +- org.springframework:spring-context:jar:5.3.18:compile\n[INFO] +- org.springframework:spring-context-support:jar:5.3.18:compile\n[INFO] +- org.springframework.security:spring-security-core:jar:3.2.3.RELEASE:compile\n[INFO] |  \\- aopalliance:aopalliance:jar:1.0:compile\n[INFO] +- org.springframework.security:spring-security-web:jar:3.2.3.RELEASE:compile\n[INFO] +- org.springframework.security:spring-security-config:jar:3.2.3.RELEASE:compile\n[INFO] +- org.springframework.batch:spring-batch-core:jar:2.2.1.RELEASE:compile\n[INFO] |  +- org.springframework.batch:spring-batch-infrastructure:jar:2.2.1.RELEASE:compile\n[INFO] |  |  \\- org.springframework.retry:spring-retry:jar:1.0.2.RELEASE:compile\n[INFO] |  +- com.thoughtworks.xstream:xstream:jar:1.3:compile\n[INFO] |  |  \\- xpp3:xpp3_min:jar:1.1.4c:compile\n[INFO] |  \\- org.codehaus.jettison:jettison:jar:1.1:compile\n[INFO] +- org.springframework.ldap:spring-ldap-core:jar:1.3.2.RELEASE:compile\n[INFO] +- org.apache.wicket:wicket-core:jar:9.8.0:compile\n[INFO] |  +- com.github.openjson:openjson:jar:1.0.12:compile\n[INFO] |  +- org.apache.wicket:wicket-request:jar:9.8.0:compile\n[INFO] |  +- org.apache.wicket:wicket-util:jar:9.8.0:compile\n[INFO] |  |  +- commons-fileupload:commons-fileupload:jar:1.4:compile\n[INFO] |  |  \\- org.apache.commons:commons-collections4:jar:4.4:compile\n[INFO] |  \\- org.danekja:jdk-serializable-functional:jar:1.9.0:compile\n[INFO] +- org.apache.wicket:wicket-spring:jar:9.8.0:compile\n[INFO] |  \\- org.apache.wicket:wicket-ioc:jar:9.8.0:compile\n[INFO] |     +- cglib:cglib:jar:3.3.0:compile\n[INFO] |     +- javax.inject:javax.inject:jar:1:compile\n[INFO] |     \\- org.ow2.asm:asm:jar:9.1:compile\n[INFO] +- org.wicketstuff:wicketstuff-minis:jar:9.8.0:compile\n[INFO] +- org.apache.wicket:wicket-bean-validation:jar:9.8.0:compile\n[INFO] +- com.vaynberg.wicket.select2:wicket-select2:jar:4.1:compile\n[INFO] |  \\- org.json:json:jar:20170516:compile\n[INFO] +- cas:casclient:jar:2.1.1:compile\n[INFO] |  +- javax.servlet:servlet-api:jar:2.3:compile\n[INFO] |  \\- commons-logging:commons-logging:jar:1.0.4:compile\n[INFO] +- org.jasig.cas:cas-client-core:jar:3.1.2:compile\n[INFO] +- joda-time:joda-time-hibernate:jar:1.3:compile\n[INFO] +- org.jadira.usertype:usertype.jodatime:jar:2.0.1:compile\n[INFO] |  \\- org.jadira.usertype:usertype.spi:jar:2.0.1:compile\n[INFO] +- com.google.guava:guava:jar:11.0.2:compile\n[INFO] |  \\- com.google.code.findbugs:jsr305:jar:1.3.9:compile\n[INFO] +- org.hibernate:hibernate-core:jar:5.3.6.Final:compile\n[INFO] |  +- org.jboss.logging:jboss-logging:jar:3.3.2.Final:compile\n[INFO] |  +- javax.persistence:javax.persistence-api:jar:2.2:compile\n[INFO] |  +- org.javassist:javassist:jar:3.23.1-GA:compile\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.8.17:compile\n[INFO] |  +- antlr:antlr:jar:2.7.7:compile\n[INFO] |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.1.1.Final:compile\n[INFO] |  +- org.jboss:jandex:jar:2.0.5.Final:compile\n[INFO] |  +- com.fasterxml:classmate:jar:1.3.4:compile\n[INFO] |  +- javax.activation:javax.activation-api:jar:1.2.0:compile\n[INFO] |  +- dom4j:dom4j:jar:1.6.1:compile\n[INFO] |  \\- org.hibernate.common:hibernate-commons-annotations:jar:5.0.4.Final:compile\n[INFO] +- commons-dbcp:commons-dbcp:jar:1.4:compile\n[INFO] |  \\- commons-pool:commons-pool:jar:1.5.4:compile\n[INFO] +- javax.validation:validation-api:jar:1.0.0.GA:compile\n[INFO] +- org.hibernate:hibernate-validator-annotation-processor:jar:4.2.0.Final:compile\n[INFO] |  \\- org.hibernate:hibernate-validator:jar:4.2.0.Final:compile\n[INFO] +- org.hibernate:hibernate-ehcache:jar:5.3.6.Final:compile\n[INFO] |  \\- net.sf.ehcache:ehcache:jar:2.10.3:compile\n[INFO] +- com.ibm.icu:icu4j:jar:4.0.1:compile\n[INFO] +- org.apache.poi:poi:jar:3.13:compile\n[INFO] |  \\- commons-codec:commons-codec:jar:1.9:compile\n[INFO] +- org.apache.poi:poi-ooxml:jar:3.13:compile\n[INFO] +- org.apache.poi:poi-ooxml-schemas:jar:3.13:compile\n[INFO] +- org.apache.xmlbeans:xmlbeans:jar:2.6.0:compile\n[INFO] |  \\- stax:stax-api:jar:1.0.1:compile\n[INFO] +- com.oracle:ojdbc16:jar:11.2.0.3.0:runtime\n[INFO] +- commons-lang:commons-lang:jar:2.6:compile\n[INFO] +- org.aspectj:aspectjrt:jar:1.5.4:compile\n[INFO] +- log4j:log4j:jar:1.2.17:compile\n[INFO] +- org.slf4j:slf4j-api:jar:1.7.2:compile\n[INFO] +- org.slf4j:slf4j-log4j12:jar:1.7.2:compile\n[INFO] +- commons-io:commons-io:jar:2.4:compile\n[INFO] +- junit:junit:jar:4.10:test\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.1:test\n[INFO] +- org.hibernate:hibernate-envers:jar:5.3.6.Final:compile\n[INFO] +- javax.mail:mail:jar:1.4.4:compile\n[INFO] |  \\- javax.activation:activation:jar:1.1:compile\n[INFO] +- com.code-troopers:wicket-editable-grid:jar:0.1:compile\n[INFO] +- org.apache.wicket:wicket-extensions:jar:9.8.0:compile\n[INFO] +- org.apache.cxf:cxf-rt-databinding-jaxb:jar:2.7.3:compile\n[INFO] |  +- org.apache.cxf:cxf-api:jar:2.7.3:compile\n[INFO] |  |  +- org.codehaus.woodstox:woodstox-core-asl:jar:4.1.4:runtime\n[INFO] |  |  |  \\- org.codehaus.woodstox:stax2-api:jar:3.1.1:runtime\n[INFO] |  |  +- org.apache.ws.xmlschema:xmlschema-core:jar:2.0.3:compile\n[INFO] |  |  \\- wsdl4j:wsdl4j:jar:1.6.2:compile\n[INFO] |  +- org.apache.cxf:cxf-rt-core:jar:2.7.3:compile\n[INFO] |  +- com.sun.xml.bind:jaxb-impl:jar:2.1.13:compile\n[INFO] |  \\- com.sun.xml.bind:jaxb-xjc:jar:2.1.13:compile\n[INFO] +- org.apache.cxf:cxf-rt-frontend-jaxws:jar:2.7.3:compile\n[INFO] |  +- xml-resolver:xml-resolver:jar:1.2:compile\n[INFO] |  +- asm:asm:jar:3.3.1:compile\n[INFO] |  +- org.apache.cxf:cxf-rt-bindings-soap:jar:2.7.3:compile\n[INFO] |  +- org.apache.cxf:cxf-rt-bindings-xml:jar:2.7.3:compile\n[INFO] |  +- org.apache.cxf:cxf-rt-frontend-simple:jar:2.7.3:compile\n[INFO] |  \\- org.apache.cxf:cxf-rt-ws-addr:jar:2.7.3:compile\n[INFO] |     \\- org.apache.cxf:cxf-rt-ws-policy:jar:2.7.3:compile\n[INFO] |        \\- org.apache.neethi:neethi:jar:3.0.2:compile\n[INFO] +- org.apache.cxf:cxf-rt-transports-http:jar:2.7.3:compile\n[INFO] +- org.apache.httpcomponents:httpclient:jar:4.4:compile\n[INFO] |  \\- org.apache.httpcomponents:httpcore:jar:4.4:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-core:jar:2.9.1:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-annotations:jar:2.9.1:compile\n[INFO] +- com.fasterxml.jackson.core:jackson-databind:jar:2.9.1:compile\n[INFO] +- com.fasterxml.jackson.datatype:jackson-datatype-joda:jar:2.9.1:compile\n[INFO] |  \\- joda-time:joda-time:jar:2.7:compile\n[INFO] +- com.googlecode.wicket-jquery-ui:wicket-jquery-ui:jar:9.8.0:compile\n[INFO] |  \\- com.googlecode.wicket-jquery-ui:wicket-jquery-ui-core:jar:9.8.0:compile\n[INFO] +- com.dhl.webcommon:saml-filter:jar:1.0.10.0:compile\n[INFO] +- com.dhl.webcommon:dhl-dbc:jar:1.1.82.0:compile\n[INFO] |  +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.0.Final:compile\n[INFO] |  \\- commons-beanutils:commons-beanutils:jar:1.9.2:compile\n[INFO] |     \\- commons-collections:commons-collections:jar:3.2.1:compile\n[INFO] +- com.dhl.webcommon:dhl-resources:jar:1.1.160.0:compile\n[INFO] \\- org.flywaydb:flyway-core:jar:4.0.3:compile\n</code></pre>\n<p>Hope it will help to solve my issue. It seems that all dependency is there, but maven still cant resolve class GenericPanel</p>\n"},{"tags":["java","sorting","nodes"],"answers":[{"tags":[],"owner":{"account_id":44018,"reputation":97210,"user_id":128940,"display_name":"Beta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650141546,"creation_date":1650139677,"answer_id":71897149,"question_id":71896983,"body_markdown":"You are confusing the *sorting algorithm* with the *swap method.*\r\n\r\nTo sort a list, you can use the bubble sort algorithm, the insertion sort algorithm, or any of many others.\r\n\r\nBut no matter what algorithm you use, sorting will involve *changing the order* of elements in the list. How will you do that?  A list is a bunch of nodes connected by pointers; you must either change the pointers, or change the nodes. (I suppose you could do both, if you wanted a challenge.)\r\n\r\nSuppose you have a list. Three nodes which we will call A, B and C, each containing a number. When you begin, A contains 22, B contains 55 and C contains 33, and the pointers are A-&gt;B-&gt;C. So the order of the list is {22, 55, 33}, and you want to sort it into {22, 33, 55}. Once the algorithm (whichever one you choose) tells you that B and C are out of order, you can either redirect the pointers to get A-&gt;C-&gt;B (leaving the contents of the nodes undisturbed), or swap the contents of B and C (leaving the pointers as they are).","title":"Sorting a singly linked list by changing the value of elements","body":"<p>You are confusing the <em>sorting algorithm</em> with the <em>swap method.</em></p>\n<p>To sort a list, you can use the bubble sort algorithm, the insertion sort algorithm, or any of many others.</p>\n<p>But no matter what algorithm you use, sorting will involve <em>changing the order</em> of elements in the list. How will you do that?  A list is a bunch of nodes connected by pointers; you must either change the pointers, or change the nodes. (I suppose you could do both, if you wanted a challenge.)</p>\n<p>Suppose you have a list. Three nodes which we will call A, B and C, each containing a number. When you begin, A contains 22, B contains 55 and C contains 33, and the pointers are A-&gt;B-&gt;C. So the order of the list is {22, 55, 33}, and you want to sort it into {22, 33, 55}. Once the algorithm (whichever one you choose) tells you that B and C are out of order, you can either redirect the pointers to get A-&gt;C-&gt;B (leaving the contents of the nodes undisturbed), or swap the contents of B and C (leaving the pointers as they are).</p>\n"}],"owner":{"account_id":21421091,"reputation":15,"user_id":15779351,"display_name":"nobody"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71897149,"answer_count":1,"score":0,"last_activity_date":1650141546,"creation_date":1650138170,"question_id":71896983,"body_markdown":"According to my assignment, I need to sort the elements of a single linked list in two ways. The first is by changing the pointers. As far as I believe bubble sorting is meant. And the second is by changing the values of the elements. What could it be? Insert?","title":"Sorting a singly linked list by changing the value of elements","body":"<p>According to my assignment, I need to sort the elements of a single linked list in two ways. The first is by changing the pointers. As far as I believe bubble sorting is meant. And the second is by changing the values of the elements. What could it be? Insert?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1493467194,"creation_date":1358327541,"answer_id":14354743,"question_id":14354717,"body_markdown":"You need to match &quot;s&quot;, but only if it is the last character in a word. This is achieved with the boundary assertion $:\r\n\r\n    input.replaceAll(&quot;s$&quot;, &quot; &quot;);\r\n\r\nIf you enhance the regular expression, you can replace multiple suffixes with one call to replaceAll:\r\n\r\n    input.replaceAll(&quot;(ed|s)$&quot;, &quot; &quot;);","title":"How to match a string&#39;s end using a regex pattern in Java?","body":"<p>You need to match \"s\", but only if it is the last character in a word. This is achieved with the boundary assertion $:</p>\n\n<pre><code>input.replaceAll(\"s$\", \" \");\n</code></pre>\n\n<p>If you enhance the regular expression, you can replace multiple suffixes with one call to replaceAll:</p>\n\n<pre><code>input.replaceAll(\"(ed|s)$\", \" \");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1358327661,"creation_date":1358327661,"answer_id":14354772,"question_id":14354717,"body_markdown":"Use `$`:\r\n\r\n    Pattern p = Pattern.compile(&quot;s$&quot;);","title":"How to match a string&#39;s end using a regex pattern in Java?","body":"<p>Use <code>$</code>:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"s$\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2158608,"reputation":2014,"user_id":1913280,"accept_rate":71,"display_name":"Avinash Nair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1358328134,"creation_date":1358327683,"answer_id":14354777,"question_id":14354717,"body_markdown":"        public static void main(String[] args) \r\n    {\r\n        String message = &quot;hi this message is a test message&quot;;\r\n        message = message.replaceAll(&quot;message$&quot;, &quot;email&quot;);\r\n        System.out.println(message);\r\n    }\r\n\r\nCheck this,\r\nhttp://docs.oracle.com/javase/tutorial/essential/regex/bounds.html\r\n","title":"How to match a string&#39;s end using a regex pattern in Java?","body":"<pre><code>    public static void main(String[] args) \n{\n    String message = \"hi this message is a test message\";\n    message = message.replaceAll(\"message$\", \"email\");\n    System.out.println(message);\n}\n</code></pre>\n\n<p>Check this,\n<a href=\"http://docs.oracle.com/javase/tutorial/essential/regex/bounds.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/essential/regex/bounds.html</a></p>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650140245,"creation_date":1650140245,"answer_id":71897219,"question_id":14354717,"body_markdown":"When matching a character at the end of string, mind that the `$` anchor matches either the *very end of string* or the *position before the final line break char if it is present* **even** when the `Pattern.MULTILINE` option is not used.\r\n\r\nThat is why it is safer to **use `\\z` as the very end of string anchor in a Java regex**.\r\n\r\nFor example:\r\n```java\r\nPattern p = Pattern.compile(&quot;s\\\\z&quot;);\r\n```\r\nwill match `s` at the end of string.\r\n\r\nSee a related https://stackoverflow.com/q/2707870/3832970 post.\r\n\r\n**NOTE**: Do not use zero-length patterns with `\\z` or `$` after them because https://stackoverflow.com/q/8604286/3832970 in that case. That is, do not use `input.replaceAll(&quot;s*\\\\z&quot;, &quot; &quot;);`, since you will get two spaces at the end, not one. Either use `&quot;s\\\\z&quot;` to replace one `s`, or use `&quot;s+\\\\z&quot;` to replace one or more.\r\n\r\nIf you still want to use `replaceAll` with a zero-length pattern anchored at the end of string to replace with a single occurrence of the replacement, you can use a workaround similar to the one in the https://stackoverflow.com/q/69649070/3832970 post (writing *&quot;a regular expression that works with `String` `replaceAll()` to remove zero or more spaces from the end of a line and replace them with a single period (`.`)&quot;*).","title":"How to match a string&#39;s end using a regex pattern in Java?","body":"<p>When matching a character at the end of string, mind that the <code>$</code> anchor matches either the <em>very end of string</em> or the <em>position before the final line break char if it is present</em> <strong>even</strong> when the <code>Pattern.MULTILINE</code> option is not used.</p>\n<p>That is why it is safer to <strong>use <code>\\z</code> as the very end of string anchor in a Java regex</strong>.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern p = Pattern.compile(&quot;s\\\\z&quot;);\n</code></pre>\n<p>will match <code>s</code> at the end of string.</p>\n<p>See a related <a href=\"https://stackoverflow.com/q/2707870/3832970\">Whats the difference between \\z and \\Z in a regular expression and when and how do I use it?</a> post.</p>\n<p><strong>NOTE</strong>: Do not use zero-length patterns with <code>\\z</code> or <code>$</code> after them because <a href=\"https://stackoverflow.com/q/8604286/3832970\">String.replaceAll(regex) makes the same replacement twice</a> in that case. That is, do not use <code>input.replaceAll(&quot;s*\\\\z&quot;, &quot; &quot;);</code>, since you will get two spaces at the end, not one. Either use <code>&quot;s\\\\z&quot;</code> to replace one <code>s</code>, or use <code>&quot;s+\\\\z&quot;</code> to replace one or more.</p>\n<p>If you still want to use <code>replaceAll</code> with a zero-length pattern anchored at the end of string to replace with a single occurrence of the replacement, you can use a workaround similar to the one in the <a href=\"https://stackoverflow.com/q/69649070/3832970\">How to make a regular expression for this seemingly simple case?</a> post (writing <em>&quot;a regular expression that works with <code>String</code> <code>replaceAll()</code> to remove zero or more spaces from the end of a line and replace them with a single period (<code>.</code>)&quot;</em>).</p>\n"}],"owner":{"account_id":1660168,"reputation":4242,"user_id":1528610,"accept_rate":51,"display_name":"VishalDevgire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32100,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":14354743,"answer_count":4,"score":15,"last_activity_date":1650140245,"creation_date":1358327449,"question_id":14354717,"body_markdown":"I want a regular expression pattern that will match with the end of a string.\r\n\r\nI&#39;m implementing a stemming algorithm that will remove suffixes of a word.\r\n\r\n\r\nE.g. for a word &#39;Developers&#39; it should match &#39;s&#39;.  \r\nI can do it using following code : \r\n\r\n    Pattern  p = Pattern.compile(&quot;s&quot;);\r\n    Matcher m = p.matcher(&quot;Developers&quot;);\r\n    m.replaceAll(&quot; &quot;); // it will replace all &#39;s&#39; with &#39; &#39;\r\n\r\nI want a regular expression that will match only a string&#39;s end something like `replaceLast()`.\r\n\r\n","title":"How to match a string&#39;s end using a regex pattern in Java?","body":"<p>I want a regular expression pattern that will match with the end of a string.</p>\n<p>I'm implementing a stemming algorithm that will remove suffixes of a word.</p>\n<p>E.g. for a word 'Developers' it should match 's'.<br />\nI can do it using following code :</p>\n<pre><code>Pattern  p = Pattern.compile(&quot;s&quot;);\nMatcher m = p.matcher(&quot;Developers&quot;);\nm.replaceAll(&quot; &quot;); // it will replace all 's' with ' '\n</code></pre>\n<p>I want a regular expression that will match only a string's end something like <code>replaceLast()</code>.</p>\n"},{"tags":["java","swing","jframe","jpanel","layout-manager"],"answers":[{"tags":[],"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1338193128,"creation_date":1338193128,"answer_id":10781439,"question_id":10781401,"body_markdown":"The right way is to create instances from these `JFrames` and set it&#39;s visibility.\r\n\r\n\r\n     new Fram1().setVisible(true);\r\n   \r\n     new Fram2().setVisible(true);\r\n   \r\n   ","title":"Switching between screens in Java swing","body":"<p>The right way is to create instances from these <code>JFrames</code> and set it's visibility.</p>\n\n<pre><code> new Fram1().setVisible(true);\n\n new Fram2().setVisible(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1650139568,"creation_date":1338193714,"answer_id":10781546,"question_id":10781401,"body_markdown":"The general approach using Swing would be to either combine all the GUI elements &#39;screens&#39; in one top level container using the appropriate strategy (generally a `CardLayout`, but the devil is in the details).  [This GUI](https://stackoverflow.com/a/5630271/418556) shows some other options (`JSplitPane` &amp; nested layouts):\r\n\r\n&lt;img src=&quot;http://i.stack.imgur.com/Jaqap.png&quot;&gt;\r\n\r\nSee also [this answer](https://stackoverflow.com/a/9554657/418556) for many other alternatives.\r\n\r\n---\r\nFor any other functionality which would logically be in a *different* container, use a (possibly) modal dialog or a `JOptionPane`.  E.G. a [log-in, popped from the main frame](https://stackoverflow.com/a/10773412/418556):\r\n\r\n&lt;img src=&quot;http://i.stack.imgur.com/hqCeE.png&quot;&gt;\r\n\r\n---\r\n\r\nAnother thing to take into account is that Swing (with a desktop monitor) allows us to offer a richer set of components to the user.  For instance, surfing around the Android SD card file system would generally be achieved by using one list per directory, and either changing the content of the list or view on entering a new directory.  In Swing you might use a single `JTree` for that.  So there is much less need for &#39;different screens&#39; in a desktop GUI toolkit, over one designed to be used on a tablet or phone.\r\n\r\nHere is a tree as used in a [file browser](https://stackoverflow.com/questions/6182110/file-browser-gui).\r\n\r\n&lt;img src=&quot;http://i.stack.imgur.com/yswnE.png&quot;&gt;","title":"Switching between screens in Java swing","body":"<p>The general approach using Swing would be to either combine all the GUI elements 'screens' in one top level container using the appropriate strategy (generally a <code>CardLayout</code>, but the devil is in the details).  <a href=\"https://stackoverflow.com/a/5630271/418556\">This GUI</a> shows some other options (<code>JSplitPane</code> &amp; nested layouts):</p>\n<img src=\"https://i.stack.imgur.com/Jaqap.png\">\n<p>See also <a href=\"https://stackoverflow.com/a/9554657/418556\">this answer</a> for many other alternatives.</p>\n<hr />\n<p>For any other functionality which would logically be in a <em>different</em> container, use a (possibly) modal dialog or a <code>JOptionPane</code>.  E.G. a <a href=\"https://stackoverflow.com/a/10773412/418556\">log-in, popped from the main frame</a>:</p>\n<img src=\"https://i.stack.imgur.com/hqCeE.png\">\n<hr />\n<p>Another thing to take into account is that Swing (with a desktop monitor) allows us to offer a richer set of components to the user.  For instance, surfing around the Android SD card file system would generally be achieved by using one list per directory, and either changing the content of the list or view on entering a new directory.  In Swing you might use a single <code>JTree</code> for that.  So there is much less need for 'different screens' in a desktop GUI toolkit, over one designed to be used on a tablet or phone.</p>\n<p>Here is a tree as used in a <a href=\"https://stackoverflow.com/questions/6182110/file-browser-gui\">file browser</a>.</p>\n<img src=\"https://i.stack.imgur.com/yswnE.png\">\n"}],"owner":{"account_id":1257833,"reputation":1540,"user_id":1216917,"accept_rate":92,"display_name":"DanM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12578,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":10781546,"answer_count":2,"score":4,"last_activity_date":1650139568,"creation_date":1338192932,"question_id":10781401,"body_markdown":"I had build big application for my client in Android. \r\nThe new project is to build the same app for PC in Java. So i have started developing with use of swing. \r\nWhen building in Android i use classes with activities that had content views and i could switch between activities.\r\nIn java i have build multiple classes that extends JFrame and i wish to switch between them. \r\nWhat is the right way to to this?\r\n\r\nis this:\r\n        \r\n    new_class.setVisible(true);\r\n    old_class.setVisible(false);\r\n\r\nthe correct way?\r\n","title":"Switching between screens in Java swing","body":"<p>I had build big application for my client in Android. \nThe new project is to build the same app for PC in Java. So i have started developing with use of swing. \nWhen building in Android i use classes with activities that had content views and i could switch between activities.\nIn java i have build multiple classes that extends JFrame and i wish to switch between them. \nWhat is the right way to to this?</p>\n\n<p>is this:</p>\n\n<pre><code>new_class.setVisible(true);\nold_class.setVisible(false);\n</code></pre>\n\n<p>the correct way?</p>\n"},{"tags":["java","string","reverse"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1571338293,"post_id":58438926,"comment_id":103217789,"body_markdown":"I just ran second example and it finishes with 2 test cases failed (no idea how many there are). I think that service is buggy rght now.","body":"I just ran second example and it finishes with 2 test cases failed (no idea how many there are). I think that service is buggy rght now."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1571338326,"post_id":58438926,"comment_id":103217797,"body_markdown":"+ I have resubmitted the exact same solution - now 6 cases failed. CodingGame is far better :)","body":"+ I have resubmitted the exact same solution - now 6 cases failed. CodingGame is far better :)"},{"owner":{"account_id":1315373,"reputation":818,"user_id":1262382,"accept_rate":100,"display_name":"Belovoj"},"score":0,"creation_date":1571338994,"post_id":58438926,"comment_id":103218090,"body_markdown":"@Antoniossss thanks I will try the CodingGame... I will try to leave this question open for couple more days if someone finds something out...","body":"@Antoniossss thanks I will try the CodingGame... I will try to leave this question open for couple more days if someone finds something out..."},{"owner":{"account_id":6277583,"reputation":66,"user_id":4879805,"display_name":"thejavagirl"},"score":2,"creation_date":1615564484,"post_id":58438926,"comment_id":117738331,"body_markdown":"I had this happen with the bracket matching problem. I took the alleged &quot;failed&quot; cases and ran them through and they passed. I actually think something is buggy with Coderbyte and it&#39;s concerning if companies are actually going to take the interview test results as gospel.","body":"I had this happen with the bracket matching problem. I took the alleged &quot;failed&quot; cases and ran them through and they passed. I actually think something is buggy with Coderbyte and it&#39;s concerning if companies are actually going to take the interview test results as gospel."},{"owner":{"account_id":16273889,"reputation":2910,"user_id":11751648,"display_name":"areus"},"score":1,"creation_date":1620240447,"post_id":58438926,"comment_id":119145334,"body_markdown":"I&#39;m facing the same problem now with the factorial function. I posted a correct solution and some test cases failed. I reposted the same solution and previous test cases passes but one that previously passed, now fails.","body":"I&#39;m facing the same problem now with the factorial function. I posted a correct solution and some test cases failed. I reposted the same solution and previous test cases passes but one that previously passed, now fails."},{"owner":{"account_id":215866,"reputation":22282,"user_id":470749,"accept_rate":73,"display_name":"Ryan"},"score":0,"creation_date":1676652721,"post_id":58438926,"comment_id":133186916,"body_markdown":"As an admin, I can also see 3 hidden answers below that mention similar experiences. And I also personally found that this person&#39;s test case failed incorrectly: https://coderbyte.com/results/karina9906:First%20Factorial:TypeScript  I&#39;m surprised companies rely on tools like CoderByte for hiring. It&#39;s disappointing.","body":"As an admin, I can also see 3 hidden answers below that mention similar experiences. And I also personally found that this person&#39;s test case failed incorrectly: <a href=\"https://coderbyte.com/results/karina9906:First%20Factorial:TypeScript\" rel=\"nofollow noreferrer\">coderbyte.com/results/karina9906:First%20Factorial:TypeScrip&zwnj;&#8203;t</a>  I&#39;m surprised companies rely on tools like CoderByte for hiring. It&#39;s disappointing."}],"owner":{"account_id":1315373,"reputation":818,"user_id":1262382,"accept_rate":100,"display_name":"Belovoj"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1258,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1650139360,"creation_date":1571337724,"question_id":58438926,"body_markdown":"I tried coderbyte and looks something is wrong with it. The first challenge is simply to reverse a string. I did this in java:\r\n\r\n```\r\nimport java.util.*; \r\nimport java.io.*;\r\n\r\nclass Main {\r\n\r\n  public static String FirstReverse(String str) {\r\n    char[] chars = str.toCharArray();\r\n    String ret = &quot;&quot;;\r\n    for (int i = chars.length - 1; i &gt;= 0; i--) {\r\n      ret += chars[i];\r\n    }\r\n    return ret;\r\n  }\r\n\r\n  public static void main (String[] args) {  \r\n    // keep this function call here     \r\n    Scanner s = new Scanner(System.in);\r\n    System.out.print(FirstReverse(s.nextLine())); \r\n  }\r\n\r\n}\r\n```\r\n\r\nIt said, that three test cases had wrong output and there was the correct output. I tried running the code with the specified cases and it printed the same string as correct output for that case. So I tried resubmitting it and it said that only one test case was correct and all other had wrong out put. So I said OK and rewrote my code this way:\r\n\r\n```\r\nimport java.util.*; \r\nimport java.io.*;\r\n\r\nclass Main {\r\n\r\n  public static String FirstReverse(String str) {\r\n    return new StringBuilder(str).reverse().toString();\r\n  }\r\n\r\n  public static void main (String[] args) {  \r\n    // keep this function call here     \r\n    Scanner s = new Scanner(System.in);\r\n    System.out.print(FirstReverse(s.nextLine())); \r\n  }\r\n\r\n}\r\n```\r\nUnfortunately it still says only one test case was successful... Any ideas what happened? Thanks","title":"CoderByte says all of my testcases are wrong?","body":"<p>I tried coderbyte and looks something is wrong with it. The first challenge is simply to reverse a string. I did this in java:</p>\n\n<pre><code>import java.util.*; \nimport java.io.*;\n\nclass Main {\n\n  public static String FirstReverse(String str) {\n    char[] chars = str.toCharArray();\n    String ret = \"\";\n    for (int i = chars.length - 1; i &gt;= 0; i--) {\n      ret += chars[i];\n    }\n    return ret;\n  }\n\n  public static void main (String[] args) {  \n    // keep this function call here     \n    Scanner s = new Scanner(System.in);\n    System.out.print(FirstReverse(s.nextLine())); \n  }\n\n}\n</code></pre>\n\n<p>It said, that three test cases had wrong output and there was the correct output. I tried running the code with the specified cases and it printed the same string as correct output for that case. So I tried resubmitting it and it said that only one test case was correct and all other had wrong out put. So I said OK and rewrote my code this way:</p>\n\n<pre><code>import java.util.*; \nimport java.io.*;\n\nclass Main {\n\n  public static String FirstReverse(String str) {\n    return new StringBuilder(str).reverse().toString();\n  }\n\n  public static void main (String[] args) {  \n    // keep this function call here     \n    Scanner s = new Scanner(System.in);\n    System.out.print(FirstReverse(s.nextLine())); \n  }\n\n}\n</code></pre>\n\n<p>Unfortunately it still says only one test case was successful... Any ideas what happened? Thanks</p>\n"},{"tags":["java","jackson","mapstruct"],"comments":[{"owner":{"account_id":2102822,"reputation":8840,"user_id":1869968,"accept_rate":70,"display_name":"Submersed"},"score":0,"creation_date":1649881792,"post_id":71863510,"comment_id":126991124,"body_markdown":"Your json is invalid.","body":"Your json is invalid."},{"owner":{"account_id":2102822,"reputation":8840,"user_id":1869968,"accept_rate":70,"display_name":"Submersed"},"score":0,"creation_date":1649882080,"post_id":71863510,"comment_id":126991214,"body_markdown":"Posting a question that is fully JSON related, then adding ... to it, defeats the entire purpose.","body":"Posting a question that is fully JSON related, then adding ... to it, defeats the entire purpose."},{"owner":{"account_id":2102822,"reputation":8840,"user_id":1869968,"accept_rate":70,"display_name":"Submersed"},"score":0,"creation_date":1649882131,"post_id":71863510,"comment_id":126991224,"body_markdown":"Also, why is your date broken up into an array...here&#39;s your sign :)","body":"Also, why is your date broken up into an array...here&#39;s your sign :)"},{"owner":{"account_id":2105234,"reputation":1029,"user_id":1871717,"accept_rate":51,"display_name":"sophie"},"score":0,"creation_date":1649882359,"post_id":71863510,"comment_id":126991285,"body_markdown":"updated the json. the date uses localdate. even if i removed it and just use id and name in my contacts json, I still encounter the same error.","body":"updated the json. the date uses localdate. even if i removed it and just use id and name in my contacts json, I still encounter the same error."},{"owner":{"account_id":2102822,"reputation":8840,"user_id":1869968,"accept_rate":70,"display_name":"Submersed"},"score":0,"creation_date":1649882376,"post_id":71863510,"comment_id":126991291,"body_markdown":"Pretty sure I already found it...but thank you for that, i&#39;ll retract my closure.","body":"Pretty sure I already found it...but thank you for that, i&#39;ll retract my closure."}],"answers":[{"tags":[],"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649889259,"creation_date":1649889259,"answer_id":71864485,"question_id":71863510,"body_markdown":"You have two alternative options to fix your `ContactDTO` class:\r\n\r\n* Add a no-arguments constructor  \r\n  `public ContactDTO() { }`  \r\n  to the class. To fix the then upcoming compiler error\r\n  you will need to remove the `@Builder` annotation.\r\n* Keep the `@Builder` annotation\r\n  and add the `@Jacksonized` annotation to the class.\r\n  This will configure the generated builder to cooperate\r\n  with Jackson&#39;s deserialization.\r\n  For more details see [Lombok&#39;s documentation about `@Jacksonized`][1].\r\n  \r\n [1]: https://projectlombok.org/features/experimental/Jacksonized\r\n ","title":"Java: Deserialize object with list of Objects","body":"<p>You have two alternative options to fix your <code>ContactDTO</code> class:</p>\n<ul>\n<li>Add a no-arguments constructor<br />\n<code>public ContactDTO() { }</code><br />\nto the class. To fix the then upcoming compiler error\nyou will need to remove the <code>@Builder</code> annotation.</li>\n<li>Keep the <code>@Builder</code> annotation\nand add the <code>@Jacksonized</code> annotation to the class.\nThis will configure the generated builder to cooperate\nwith Jackson's deserialization.\nFor more details see <a href=\"https://projectlombok.org/features/experimental/Jacksonized\" rel=\"nofollow noreferrer\">Lombok's documentation about <code>@Jacksonized</code></a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7273917,"reputation":123,"user_id":5545976,"display_name":"Rami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649932368,"creation_date":1649931604,"answer_id":71870041,"question_id":71863510,"body_markdown":"To deserialize you need a No arg constructor and to use `@Builder` you need an all arg constructor.\r\nSo you need tu add both.\r\nThe example below should work. I just added `@Getter` annotation to avoid using `@JsonProperty`\r\n\r\n    @Getter\r\n    public static class DTO {\r\n\r\n        private Long id;\r\n\r\n        @JsonProperty(&quot;contacts&quot;)\r\n        private List&lt;ContactDTO&gt; contacts;\r\n    }\r\n\r\n    @Builder\r\n    @Getter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public static class ContactDTO implements Serializable {\r\n\r\n        private Long id;\r\n\r\n        private String name;\r\n\r\n        private String emailAddress;\r\n\r\n        private Boolean active;\r\n\r\n        private List&lt;ContactPositionDTO&gt; positions;\r\n    }\r\n\r\n    @Getter\r\n    public static class ContactPositionDTO {\r\n\r\n        private Position position;\r\n\r\n        @JsonProperty(&quot;effectiveStartDate&quot;)\r\n        private List&lt;Integer&gt; date;\r\n\r\n        @Getter\r\n        static class Position {\r\n\r\n            private Integer id;\r\n\r\n            private String code;\r\n\r\n            private String description;\r\n        }\r\n    }\r\n\r\nNB: you can also use `@Jacksonized` annotation instead of `@NoArgsConstructor` and `@AllArgsConstructor`\r\n","title":"Java: Deserialize object with list of Objects","body":"<p>To deserialize you need a No arg constructor and to use <code>@Builder</code> you need an all arg constructor.\nSo you need tu add both.\nThe example below should work. I just added <code>@Getter</code> annotation to avoid using <code>@JsonProperty</code></p>\n<pre><code>@Getter\npublic static class DTO {\n\n    private Long id;\n\n    @JsonProperty(&quot;contacts&quot;)\n    private List&lt;ContactDTO&gt; contacts;\n}\n\n@Builder\n@Getter\n@NoArgsConstructor\n@AllArgsConstructor\npublic static class ContactDTO implements Serializable {\n\n    private Long id;\n\n    private String name;\n\n    private String emailAddress;\n\n    private Boolean active;\n\n    private List&lt;ContactPositionDTO&gt; positions;\n}\n\n@Getter\npublic static class ContactPositionDTO {\n\n    private Position position;\n\n    @JsonProperty(&quot;effectiveStartDate&quot;)\n    private List&lt;Integer&gt; date;\n\n    @Getter\n    static class Position {\n\n        private Integer id;\n\n        private String code;\n\n        private String description;\n    }\n}\n</code></pre>\n<p>NB: you can also use <code>@Jacksonized</code> annotation instead of <code>@NoArgsConstructor</code> and <code>@AllArgsConstructor</code></p>\n"}],"owner":{"account_id":2105234,"reputation":1029,"user_id":1871717,"accept_rate":51,"display_name":"sophie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1890,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650138543,"creation_date":1649881642,"question_id":71863510,"body_markdown":"I have this JSON: (passed as `Map&lt;String, Object&gt;`)\r\n\r\n    {\r\n      &quot;id&quot;: 1000,\r\n      &quot;lab&quot;: [\r\n        &quot;LAB1&quot;,\r\n        &quot;LAB2&quot;,\r\n        &quot;LAB3&quot;\r\n      ],\r\n      &quot;name&quot;: &quot;TEST&quot;,\r\n      &quot;ref&quot;: {\r\n        &quot;id&quot;: 1000,\r\n        &quot;code&quot;: &quot;REFCODE&quot;,\r\n        &quot;description&quot;: &quot;REF DESC&quot;\r\n      },\r\n      &quot;employee&quot;: {\r\n        &quot;id&quot;: 1000,\r\n        &quot;name&quot;: &quot;Emp1000&quot;,\r\n        &quot;tin&quot;: null,\r\n        &quot;active&quot;: true\r\n      },\r\n      &quot;contacts&quot;: [\r\n        {\r\n          &quot;id&quot;: 1000,\r\n          &quot;name&quot;: &quot;Contact 1&quot;,\r\n          &quot;emailAddress&quot;: &quot;contact1@test.com&quot;,\r\n          &quot;active&quot;: true,\r\n          &quot;positions&quot;: [\r\n            {\r\n              &quot;position&quot;: {\r\n                &quot;id&quot;: 1000,\r\n                &quot;code&quot;: &quot;POS&quot;,\r\n                &quot;description&quot;: &quot;POS DESC&quot;\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      &quot;status&quot;: &quot;NEW&quot;\r\n    }\r\n\r\nThis is my DTO and ContactDTO:\r\n\r\n    public class DTO {\r\n        private Long id;\r\n        ...\r\n\r\n        @JsonProperty(&quot;contacts&quot;)\r\n        private List&lt;ContactDTO&gt; contacts; \r\n\r\n    }\r\n\r\n    @Builder\r\n    public class ContactDTO implements Serializable {    \r\n        private Long id;\r\n        private String name;\r\n        private String emailAddress;\r\n        private Boolean active;\r\n        @NotEmpty\r\n        private List&lt;ContactPositionDTO&gt; positions;\r\n    }\r\n\r\nHere is my service class with object mapper and process method which accepts the JSON map:\r\n\r\n    private ObjectMapper objectMapper() {\r\n        var objectMapper = new ObjectMapper();\r\n        objectMapper.registerModule(new JavaTimeModule());\r\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        // objectMapper.enable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\r\n        return objectMapper;\r\n    }\r\n\r\n    public void process(final Map&lt;String, Object&gt; map) {\r\n        objectMapper().convertValue(map, DTO.class);\r\n    }\r\n\r\nHowever, I am getting `java.lang.IllegalArgumentException: Cannot deserialize value of type java.util.ArrayList` \r\n\r\nAnd if I add `DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY` I am getting a different error: \r\n\r\n`java.lang.IllegalArgumentException: Cannot construct instance of ContactDTO (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;[{id=1000, name=Contact 1, .....`\r\n\r\n\r\n\r\n\r\n","title":"Java: Deserialize object with list of Objects","body":"<p>I have this JSON: (passed as <code>Map&lt;String, Object&gt;</code>)</p>\n<pre><code>{\n  &quot;id&quot;: 1000,\n  &quot;lab&quot;: [\n    &quot;LAB1&quot;,\n    &quot;LAB2&quot;,\n    &quot;LAB3&quot;\n  ],\n  &quot;name&quot;: &quot;TEST&quot;,\n  &quot;ref&quot;: {\n    &quot;id&quot;: 1000,\n    &quot;code&quot;: &quot;REFCODE&quot;,\n    &quot;description&quot;: &quot;REF DESC&quot;\n  },\n  &quot;employee&quot;: {\n    &quot;id&quot;: 1000,\n    &quot;name&quot;: &quot;Emp1000&quot;,\n    &quot;tin&quot;: null,\n    &quot;active&quot;: true\n  },\n  &quot;contacts&quot;: [\n    {\n      &quot;id&quot;: 1000,\n      &quot;name&quot;: &quot;Contact 1&quot;,\n      &quot;emailAddress&quot;: &quot;contact1@test.com&quot;,\n      &quot;active&quot;: true,\n      &quot;positions&quot;: [\n        {\n          &quot;position&quot;: {\n            &quot;id&quot;: 1000,\n            &quot;code&quot;: &quot;POS&quot;,\n            &quot;description&quot;: &quot;POS DESC&quot;\n          }\n        }\n      ]\n    }\n  ],\n  &quot;status&quot;: &quot;NEW&quot;\n}\n</code></pre>\n<p>This is my DTO and ContactDTO:</p>\n<pre><code>public class DTO {\n    private Long id;\n    ...\n\n    @JsonProperty(&quot;contacts&quot;)\n    private List&lt;ContactDTO&gt; contacts; \n\n}\n\n@Builder\npublic class ContactDTO implements Serializable {    \n    private Long id;\n    private String name;\n    private String emailAddress;\n    private Boolean active;\n    @NotEmpty\n    private List&lt;ContactPositionDTO&gt; positions;\n}\n</code></pre>\n<p>Here is my service class with object mapper and process method which accepts the JSON map:</p>\n<pre><code>private ObjectMapper objectMapper() {\n    var objectMapper = new ObjectMapper();\n    objectMapper.registerModule(new JavaTimeModule());\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n    // objectMapper.enable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\n    return objectMapper;\n}\n\npublic void process(final Map&lt;String, Object&gt; map) {\n    objectMapper().convertValue(map, DTO.class);\n}\n</code></pre>\n<p>However, I am getting <code>java.lang.IllegalArgumentException: Cannot deserialize value of type java.util.ArrayList</code></p>\n<p>And if I add <code>DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY</code> I am getting a different error:</p>\n<p><code>java.lang.IllegalArgumentException: Cannot construct instance of ContactDTO (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('[{id=1000, name=Contact 1, .....</code></p>\n"},{"tags":["java","csv","printwriter","csvreader","csvwriter"],"comments":[{"owner":{"account_id":3508628,"reputation":501,"user_id":2933553,"accept_rate":50,"display_name":"SaleemKhair"},"score":0,"creation_date":1650095498,"post_id":71891820,"comment_id":127039294,"body_markdown":"Does this answer your question? [Unwanted double quotes in generated csv file](https://stackoverflow.com/questions/13969254/unwanted-double-quotes-in-generated-csv-file)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13969254/unwanted-double-quotes-in-generated-csv-file\">Unwanted double quotes in generated csv file</a>"},{"owner":{"account_id":212445,"reputation":4911,"user_id":2005490,"accept_rate":59,"display_name":"Atihska"},"score":0,"creation_date":1650096087,"post_id":71891820,"comment_id":127039397,"body_markdown":"@SaleemKhair No, I want quotes in fact and want to escape the ones within the cell and print `\\&quot;` instead of erroring out. I am unable to escape the ones within the cell as of now.","body":"@SaleemKhair No, I want quotes in fact and want to escape the ones within the cell and print <code>\\&quot;</code> instead of erroring out. I am unable to escape the ones within the cell as of now."},{"owner":{"account_id":3508628,"reputation":501,"user_id":2933553,"accept_rate":50,"display_name":"SaleemKhair"},"score":0,"creation_date":1650099360,"post_id":71891820,"comment_id":127039925,"body_markdown":"I just tested it, using `CSVWriter.NO_QUOTE_CHARACTER` and `CSVWriter.NO_ESCAPE_CHARACTER` create your writer like this `final CSVWriter writer = new CSVWriter(new java.io.FileWriter(&quot;/path/to/csv&quot;, false), CSVWriter.DEFAULT_SEPARATOR, CSVWriter.NO_QUOTE_CHARACTER, CSVWriter.NO_ESCAPE_CHARACTER, CSVWriter.DEFAULT_LINE_END)`, then executing `writer.writeNext(new String[] {&quot;bar&quot;, &quot;foo measure 3\\&quot; in inches&quot;});`","body":"I just tested it, using <code>CSVWriter.NO_QUOTE_CHARACTER</code> and <code>CSVWriter.NO_ESCAPE_CHARACTER</code> create your writer like this <code>final CSVWriter writer = new CSVWriter(new java.io.FileWriter(&quot;&#47;path&#47;to&#47;csv&quot;, false), CSVWriter.DEFAULT_SEPARATOR, CSVWriter.NO_QUOTE_CHARACTER, CSVWriter.NO_ESCAPE_CHARACTER, CSVWriter.DEFAULT_LINE_END)</code>, then executing <code>writer.writeNext(new String[] {&quot;bar&quot;, &quot;foo measure 3\\&quot; in inches&quot;});</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650102808,"post_id":71891820,"comment_id":127040566,"body_markdown":"*My final output is this where everything is correct except the String value has double quotes as...* Interestingly that seems to be quite acceptable to my spreadsheet application (LibreOffice Calc). I haven&#39;t tried it in Excel","body":"<i>My final output is this where everything is correct except the String value has double quotes as...</i> Interestingly that seems to be quite acceptable to my spreadsheet application (LibreOffice Calc). I haven&#39;t tried it in Excel"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1650118052,"post_id":71891820,"comment_id":127043289,"body_markdown":"Escaping double quotes by adding an extra double quote conforms to [RFC-4180](https://datatracker.ietf.org/doc/html/rfc4180#page-2): _&quot;If double-quotes are used to enclose fields, then a double-quote appearing inside a field must be escaped by preceding it with another double quote.&quot;_, so it is the standard way of escaping a double quote. In any case, if you want a different escape, and if this is opecsv, you need to use the constructor `CSVWriter(Writer writer, char separator, char quotechar, char escapechar, String lineEnd)` to configure the writer to use a different escape character.","body":"Escaping double quotes by adding an extra double quote conforms to <a href=\"https://datatracker.ietf.org/doc/html/rfc4180#page-2\" rel=\"nofollow noreferrer\">RFC-4180</a>: <i>&quot;If double-quotes are used to enclose fields, then a double-quote appearing inside a field must be escaped by preceding it with another double quote.&quot;</i>, so it is the standard way of escaping a double quote. In any case, if you want a different escape, and if this is opecsv, you need to use the constructor <code>CSVWriter(Writer writer, char separator, char quotechar, char escapechar, String lineEnd)</code> to configure the writer to use a different escape character."}],"answers":[{"tags":[],"owner":{"account_id":212445,"reputation":4911,"user_id":2005490,"accept_rate":59,"display_name":"Atihska"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650138457,"creation_date":1650138457,"answer_id":71897012,"question_id":71891820,"body_markdown":"Thank you @Mark Rotteveel for the pointer tip. This helped me to look for a different separator and also escape more characters. \r\n\r\nRealized that CSVReader and CSVWriter has different escape characters too.\r\n\r\nI finally solved using the follwing: \r\n\r\n```\r\nimport org.apache.commons.lang.StringEscapeUtils;\r\n...\r\n\r\nStringEscapeUtils.escapeCsv(&quot;Poly Nuclear 15\\&quot; Laptop Series, Notebook \\\\ Intel Windows10+ 7.6V Battery 8GB Memory&quot;)\r\n\r\n``` \r\n\r\nAnd using this while writing: \r\n```\r\nimport com.opencsv.ICSVWriter;\r\n...\r\nchar escapeChar = &#39;\\\\&#39;;\r\nCSVWriter writer = new CSVWriter(outputStreamWriter, ICSVWriter.DEFAULT_SEPARATOR, ICSVWriter.DEFAULT_QUOTE_CHARACTER, escapeChar, ICSVWriter.DEFAULT_LINE_END);\r\n```","title":"Reading existing csv and then writing back to CSV puts inches expressed as double quotes in a cell as &quot;&quot; instead of \\&quot;","body":"<p>Thank you @Mark Rotteveel for the pointer tip. This helped me to look for a different separator and also escape more characters.</p>\n<p>Realized that CSVReader and CSVWriter has different escape characters too.</p>\n<p>I finally solved using the follwing:</p>\n<pre><code>import org.apache.commons.lang.StringEscapeUtils;\n...\n\nStringEscapeUtils.escapeCsv(&quot;Poly Nuclear 15\\&quot; Laptop Series, Notebook \\\\ Intel Windows10+ 7.6V Battery 8GB Memory&quot;)\n\n</code></pre>\n<p>And using this while writing:</p>\n<pre><code>import com.opencsv.ICSVWriter;\n...\nchar escapeChar = '\\\\';\nCSVWriter writer = new CSVWriter(outputStreamWriter, ICSVWriter.DEFAULT_SEPARATOR, ICSVWriter.DEFAULT_QUOTE_CHARACTER, escapeChar, ICSVWriter.DEFAULT_LINE_END);\n</code></pre>\n"}],"owner":{"account_id":212445,"reputation":4911,"user_id":2005490,"accept_rate":59,"display_name":"Atihska"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":364,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71897012,"answer_count":1,"score":1,"last_activity_date":1650138457,"creation_date":1650092827,"question_id":71891820,"body_markdown":"I have a CSV that I generate by building StringBuilder and writing to using PrintWriter. Then I read that CSV again and append something to it, but it messes up the cell which has double quotes in it, used to denote inches.\r\nIt prints double-quotes twice as `15&quot; `\r\n\r\nOne of the values being added to StringBuilder is this:\r\n\r\n### Code 1.1\r\n```java\r\nString title = &quot;Poly Nuclear 15\\&quot; Laptop Series Notebook Intel Windows10+ 7.6V Battery 8GB Memory&quot;\r\nText t1 = new Text();\r\nt1.setContent(title);\r\n\r\nif (title.contains(&quot;\\&quot;&quot;)) {\r\n      t1.setContent(&quot;Poly Nuclear 15\\\\\\&quot; Laptop Series Notebook Intel Windows10+ 7.6V Battery 8GB Memory&quot;);\r\n}\r\n```\r\n\r\nMy first output (after writing comma separated String created using StringBuilder) using PrintWriter is this:\r\n```java\r\nOutputStreamWriter outputStreamWriter = new OutputStreamWriter(new FileOutputStream(filename, true), StandardCharsets.UTF_8);\r\nPrintWriter printWriter = new PrintWriter(outputStreamWriter);\r\nprintWriter.println(stringBuilder.toString());\r\n```\r\n\r\n\r\n```none\r\nkey,date,ms_id,title,alertId\r\n190-2,2022-02-20 12:35:09,107193,Poly Nuclear 15&quot;  Laptop Series Notebook Intel Windows10+ 7.6V Battery 8GB Memory,\r\n```\r\n\r\n### Code 1.2\r\n\r\nNow I am adding the last column&#39;s value `alertId` at the of each row. I am reading and appending to each row, then writing back to CSV as follows:\r\n```java\r\n// Here below method is called as writeBack(&quot;1222&quot;) with fixed value.\r\npublic void writeBack(String value) {\r\n      String filePath = &quot;/dir1/dir2/test.csv&quot;;\r\n      String key = &quot;alertId&quot;; // column name for which value needs to be added.\r\n      InputStreamReader inputStreamReader = new InputStreamReader(new \r\n      FileInputStream(filePath), StandardCharsets.UTF_8);\r\n      CSVReader reader = new CSVReader(inputStreamReader);\r\n\r\n      String[] header = reader.readNext();\r\n      int columnNum = Arrays.asList(header).indexOf(key);\r\n\r\n      List&lt;String[]&gt; feedData = reader.readAll();\r\n      try {\r\n        for (String[] row : feedData) {\r\n          row[columnNum] = value;\r\n        }\r\n        reader.close();\r\n\r\n        OutputStreamWriter outputStreamWriter = new OutputStreamWriter(new FileOutputStream(filePath), StandardCharsets.UTF_8);\r\n        CSVWriter writer = new CSVWriter(outputStreamWriter);\r\n        writer.writeNext(header);\r\n        writer.writeAll(feedData);\r\n        writer.flush();\r\n        writer.close();\r\n      } catch (Exception e) {\r\n        writeLog(&quot;ERROR&quot;, e);\r\n\r\n      }\r\n}\r\n```\r\n \r\nMy final output is this where everything is correct except the String value has double quotes as `15&quot;&quot;`\r\n```java\r\n&quot;key&quot;,&quot;date&quot;,&quot;ms_id&quot;,&quot;title&quot;,&quot;alertId&quot;\r\n&quot;190-2&quot;,&quot;2022-02-20 12:35:09&quot;,&quot;107193&quot;,&quot;Poly Nuclear 15&quot;&quot;  Laptop Series Notebook Intel Windows10+ 7.6V Battery 8GB Memory&quot;,&quot;1222&quot;\r\n```\r\n\r\nWhat can I do to avoid double quotes in the final output within the cell that denotes inches?\r\n\r\n**Expected output**\r\n```none\r\n&quot;key&quot;,&quot;date&quot;,&quot;ms_id&quot;,&quot;title&quot;,&quot;alertId&quot;\r\n&quot;190-2&quot;,&quot;2022-02-20 12:35:09&quot;,&quot;107193&quot;,&quot;Poly Nuclear 15\\&quot;  Laptop Series Notebook Intel Windows10+ 7.6V Battery 8GB Memory&quot;,&quot;1222&quot;\r\n```\r\n","title":"Reading existing csv and then writing back to CSV puts inches expressed as double quotes in a cell as &quot;&quot; instead of \\&quot;","body":"<p>I have a CSV that I generate by building StringBuilder and writing to using PrintWriter. Then I read that CSV again and append something to it, but it messes up the cell which has double quotes in it, used to denote inches.\nIt prints double-quotes twice as <code>15&quot; </code></p>\n<p>One of the values being added to StringBuilder is this:</p>\n<h3>Code 1.1</h3>\n<pre class=\"lang-java prettyprint-override\"><code>String title = &quot;Poly Nuclear 15\\&quot; Laptop Series Notebook Intel Windows10+ 7.6V Battery 8GB Memory&quot;\nText t1 = new Text();\nt1.setContent(title);\n\nif (title.contains(&quot;\\&quot;&quot;)) {\n      t1.setContent(&quot;Poly Nuclear 15\\\\\\&quot; Laptop Series Notebook Intel Windows10+ 7.6V Battery 8GB Memory&quot;);\n}\n</code></pre>\n<p>My first output (after writing comma separated String created using StringBuilder) using PrintWriter is this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>OutputStreamWriter outputStreamWriter = new OutputStreamWriter(new FileOutputStream(filename, true), StandardCharsets.UTF_8);\nPrintWriter printWriter = new PrintWriter(outputStreamWriter);\nprintWriter.println(stringBuilder.toString());\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>key,date,ms_id,title,alertId\n190-2,2022-02-20 12:35:09,107193,Poly Nuclear 15&quot;  Laptop Series Notebook Intel Windows10+ 7.6V Battery 8GB Memory,\n</code></pre>\n<h3>Code 1.2</h3>\n<p>Now I am adding the last column's value <code>alertId</code> at the of each row. I am reading and appending to each row, then writing back to CSV as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Here below method is called as writeBack(&quot;1222&quot;) with fixed value.\npublic void writeBack(String value) {\n      String filePath = &quot;/dir1/dir2/test.csv&quot;;\n      String key = &quot;alertId&quot;; // column name for which value needs to be added.\n      InputStreamReader inputStreamReader = new InputStreamReader(new \n      FileInputStream(filePath), StandardCharsets.UTF_8);\n      CSVReader reader = new CSVReader(inputStreamReader);\n\n      String[] header = reader.readNext();\n      int columnNum = Arrays.asList(header).indexOf(key);\n\n      List&lt;String[]&gt; feedData = reader.readAll();\n      try {\n        for (String[] row : feedData) {\n          row[columnNum] = value;\n        }\n        reader.close();\n\n        OutputStreamWriter outputStreamWriter = new OutputStreamWriter(new FileOutputStream(filePath), StandardCharsets.UTF_8);\n        CSVWriter writer = new CSVWriter(outputStreamWriter);\n        writer.writeNext(header);\n        writer.writeAll(feedData);\n        writer.flush();\n        writer.close();\n      } catch (Exception e) {\n        writeLog(&quot;ERROR&quot;, e);\n\n      }\n}\n</code></pre>\n<p>My final output is this where everything is correct except the String value has double quotes as <code>15&quot;&quot;</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;key&quot;,&quot;date&quot;,&quot;ms_id&quot;,&quot;title&quot;,&quot;alertId&quot;\n&quot;190-2&quot;,&quot;2022-02-20 12:35:09&quot;,&quot;107193&quot;,&quot;Poly Nuclear 15&quot;&quot;  Laptop Series Notebook Intel Windows10+ 7.6V Battery 8GB Memory&quot;,&quot;1222&quot;\n</code></pre>\n<p>What can I do to avoid double quotes in the final output within the cell that denotes inches?</p>\n<p><strong>Expected output</strong></p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;key&quot;,&quot;date&quot;,&quot;ms_id&quot;,&quot;title&quot;,&quot;alertId&quot;\n&quot;190-2&quot;,&quot;2022-02-20 12:35:09&quot;,&quot;107193&quot;,&quot;Poly Nuclear 15\\&quot;  Laptop Series Notebook Intel Windows10+ 7.6V Battery 8GB Memory&quot;,&quot;1222&quot;\n</code></pre>\n"},{"tags":["java","android","xml","button"],"comments":[{"owner":{"account_id":2607825,"reputation":5369,"user_id":2258611,"display_name":"Alexander Hoffmann"},"score":0,"creation_date":1649975448,"post_id":71877918,"comment_id":127016094,"body_markdown":"Check the logs in android studio. They will show you an error message with more details for the crash.","body":"Check the logs in android studio. They will show you an error message with more details for the crash."},{"owner":{"account_id":10454216,"reputation":594,"user_id":7706832,"display_name":"Maulik Togadiya"},"score":0,"creation_date":1649988753,"post_id":71877918,"comment_id":127018031,"body_markdown":"can you share the error logs?","body":"can you share the error logs?"},{"owner":{"account_id":12339881,"reputation":204,"user_id":9003483,"display_name":"Sartaj Roshan"},"score":0,"creation_date":1649996987,"post_id":71877918,"comment_id":127019053,"body_markdown":"Please share your goal.java code. Error may be in that activity.","body":"Please share your goal.java code. Error may be in that activity."},{"owner":{"account_id":14809028,"reputation":48,"user_id":10695224,"display_name":"S.Iliev"},"score":0,"creation_date":1650012414,"post_id":71877918,"comment_id":127021946,"body_markdown":"I think that it&#39;s look good. Maybe the error is in your goal Activity. Also you can check for the correct name of your goal class name, it will be more readable if the name starts with capital wetter","body":"I think that it&#39;s look good. Maybe the error is in your goal Activity. Also you can check for the correct name of your goal class name, it will be more readable if the name starts with capital wetter"},{"owner":{"account_id":24446119,"reputation":3,"user_id":18369043,"display_name":"Aisha R"},"score":0,"creation_date":1650138237,"post_id":71877918,"comment_id":127047536,"body_markdown":"I have shared the logs and the code for goal.java and goal.xml. I appreciate all the feedback!","body":"I have shared the logs and the code for goal.java and goal.xml. I appreciate all the feedback!"}],"owner":{"account_id":24446119,"reputation":3,"user_id":18369043,"display_name":"Aisha R"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650137996,"creation_date":1649972447,"question_id":71877918,"body_markdown":"I am trying to go from the homepage of my app to the next activity, but the app crashes when the button is clicked. \r\n\r\nThis is the code in the `MainActivity.java` file:\r\n  \r\n    \r\n\r\n        import android.content.Intent;\r\n            import android.os.Bundle;\r\n            import android.view.View;\r\n    \r\n            import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n            public class MainActivity extends AppCompatActivity {\r\n               public static final String EXTRA_MESSAGE = &quot;com.example.myfirstapp.MESSAGE&quot;;\r\n               @Override\r\n               protected void onCreate(Bundle savedInstanceState) {\r\n                 super.onCreate(savedInstanceState);\r\n                 setContentView(R.layout.activity_main);\r\n          }\r\n    \r\n          /** Called when the user taps the Send button */\r\n          public void onSignUpButtonClick(View view) {\r\n              Intent intent = new Intent(this, goal.class);\r\n              startActivity(intent);\r\n          }\r\n      }\r\n\r\n\r\nHere is the code for the button in the XML file:\r\n\r\n         &lt;Button\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:fontFamily=&quot;@font/croissantone&quot;\r\n            android:onClick=&quot;onSignUpButtonClick&quot;\r\n            android:text=&quot;@string/button_text&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.862&quot; /&gt;\r\n&#39;&#39;&#39;\r\n\r\n    This is the code for the goal.xml file\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:paddingTop=&quot;?attr/actionBarSize&quot;&gt;\r\n    \r\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/nav_view&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;0dp&quot;\r\n            android:layout_marginEnd=&quot;0dp&quot;\r\n            android:background=&quot;?android:attr/windowBackground&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\r\n    \r\n        &lt;fragment\r\n            android:id=&quot;@+id/nav_host_fragment_goal2&quot;\r\n            android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:defaultNavHost=&quot;true&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@id/nav_view&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:navGraph=&quot;@navigation/mobile_navigation2&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    &#39;&#39;&#39;\r\n    This is the code in the goal.java file \r\n        public class goal extends AppCompatActivity {\r\n    \r\n        private GoalBinding binding;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            binding = GoalBinding.inflate(getLayoutInflater());\r\n            setContentView(binding.getRoot());\r\n    \r\n            BottomNavigationView navView = findViewById(R.id.nav_view);\r\n            // Passing each menu ID as a set of Ids because each\r\n            // menu should be considered as top level destinations.\r\n            AppBarConfiguration appBarConfiguration = new AppBarConfiguration.Builder(\r\n                    R.id.navigation_home, R.id.navigation_dashboard, R.id.navigation_notifications)\r\n                    .build();\r\n            NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_goal2);\r\n            NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\r\n            NavigationUI.setupWithNavController(binding.navView, navController);\r\n        }\r\n    \r\n    }\r\n\r\nThe emulator also gives me a message stating that the UI is not responding. All things were working well before the implementation of the button. \r\n\r\n&#39;&#39;&#39;\r\nThe following is the LogCat: \r\n2022-04-16 14:41:50.624 20509-20509/com.cpst343.happymacro E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.cpst343.happymacro, PID: 20509\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.cpst343.happymacro/com.cpst343.happymacro.goal}: android.view.InflateException: Binary XML file line #9 in com.cpst343.happymacro:layout/goal: Binary XML file line #9 in com.cpst343.happymacro:layout/goal: Error inflating class com.google.android.material.bottomnavigation.BottomNavigationView\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: android.view.InflateException: Binary XML file line #9 in com.cpst343.happymacro:layout/goal: Binary XML file line #9 in com.cpst343.happymacro:layout/goal: Error inflating class com.google.android.material.bottomnavigation.BottomNavigationView\r\n     Caused by: android.view.InflateException: Binary XML file line #9 in com.cpst343.happymacro:layout/goal: Error inflating class com.google.android.material.bottomnavigation.BottomNavigationView\r\n     Caused by: java.lang.reflect.InvocationTargetException\r\n        at java.lang.reflect.Constructor.newInstance0(Native Method)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:343)\r\n        at android.view.LayoutInflater.createView(LayoutInflater.java:852)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1004)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\r\n        at android.view.LayoutInflater.rInflate(LayoutInflater.java:1121)\r\n        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:680)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:532)\r\n        at com.cpst343.happymacro.databinding.GoalBinding.inflate(GoalBinding.java:49)\r\n        at com.cpst343.happymacro.databinding.GoalBinding.inflate(GoalBinding.java:43)\r\n        at com.cpst343.happymacro.goal.onCreate(goal.java:23)\r\n        at android.app.Activity.performCreate(Activity.java:8000)\r\n        at android.app.Activity.performCreate(Activity.java:7984)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n     Caused by: java.lang.IllegalArgumentException: Maximum number of items supported by BottomNavigationView is 5. Limit can be checked with BottomNavigationView#getMaxItemCount()\r\n        at com.google.android.material.navigation.NavigationBarMenu.addInternal(NavigationBarMenu.java:67)\r\n2022-04-16 14:41:50.625 20509-20509/com.cpst343.happymacro E/AndroidRuntime:     at androidx.appcompat.view.menu.MenuBuilder.add(MenuBuilder.java:476)\r\n        at androidx.appcompat.view.SupportMenuInflater$MenuState.addItem(SupportMenuInflater.java:531)\r\n        at androidx.appcompat.view.SupportMenuInflater.parseMenu(SupportMenuInflater.java:207)\r\n        at androidx.appcompat.view.SupportMenuInflater.inflate(SupportMenuInflater.java:129)\r\n        at com.google.android.material.navigation.NavigationBarView.inflateMenu(NavigationBarView.java:384)\r\n        at com.google.android.material.navigation.NavigationBarView.&lt;init&gt;(NavigationBarView.java:280)\r\n        at com.google.android.material.bottomnavigation.BottomNavigationView.&lt;init&gt;(BottomNavigationView.java:108)\r\n        at com.google.android.material.bottomnavigation.BottomNavigationView.&lt;init&gt;(BottomNavigationView.java:103)\r\n        at com.google.android.material.bottomnavigation.BottomNavigationView.&lt;init&gt;(BottomNavigationView.java:98)\r\n        \t... 27 more","title":"App Crashes in Android Studio when button to next activity is pressed","body":"<p>I am trying to go from the homepage of my app to the next activity, but the app crashes when the button is clicked.</p>\n<p>This is the code in the <code>MainActivity.java</code> file:</p>\n<pre><code>    import android.content.Intent;\n        import android.os.Bundle;\n        import android.view.View;\n\n        import androidx.appcompat.app.AppCompatActivity;\n\n        public class MainActivity extends AppCompatActivity {\n           public static final String EXTRA_MESSAGE = &quot;com.example.myfirstapp.MESSAGE&quot;;\n           @Override\n           protected void onCreate(Bundle savedInstanceState) {\n             super.onCreate(savedInstanceState);\n             setContentView(R.layout.activity_main);\n      }\n\n      /** Called when the user taps the Send button */\n      public void onSignUpButtonClick(View view) {\n          Intent intent = new Intent(this, goal.class);\n          startActivity(intent);\n      }\n  }\n</code></pre>\n<p>Here is the code for the button in the XML file:</p>\n<pre><code>     &lt;Button\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:fontFamily=&quot;@font/croissantone&quot;\n        android:onClick=&quot;onSignUpButtonClick&quot;\n        android:text=&quot;@string/button_text&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.862&quot; /&gt;\n</code></pre>\n<p>'''</p>\n<pre><code>This is the code for the goal.xml file\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:paddingTop=&quot;?attr/actionBarSize&quot;&gt;\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;0dp&quot;\n        android:layout_marginEnd=&quot;0dp&quot;\n        android:background=&quot;?android:attr/windowBackground&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\n\n    &lt;fragment\n        android:id=&quot;@+id/nav_host_fragment_goal2&quot;\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:defaultNavHost=&quot;true&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/nav_view&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:navGraph=&quot;@navigation/mobile_navigation2&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n'''\nThis is the code in the goal.java file \n    public class goal extends AppCompatActivity {\n\n    private GoalBinding binding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = GoalBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        BottomNavigationView navView = findViewById(R.id.nav_view);\n        // Passing each menu ID as a set of Ids because each\n        // menu should be considered as top level destinations.\n        AppBarConfiguration appBarConfiguration = new AppBarConfiguration.Builder(\n                R.id.navigation_home, R.id.navigation_dashboard, R.id.navigation_notifications)\n                .build();\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_goal2);\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\n        NavigationUI.setupWithNavController(binding.navView, navController);\n    }\n\n}\n</code></pre>\n<p>The emulator also gives me a message stating that the UI is not responding. All things were working well before the implementation of the button.</p>\n<p>'''\nThe following is the LogCat:\n2022-04-16 14:41:50.624 20509-20509/com.cpst343.happymacro E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.cpst343.happymacro, PID: 20509\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.cpst343.happymacro/com.cpst343.happymacro.goal}: android.view.InflateException: Binary XML file line #9 in com.cpst343.happymacro:layout/goal: Binary XML file line #9 in com.cpst343.happymacro:layout/goal: Error inflating class com.google.android.material.bottomnavigation.BottomNavigationView\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3449)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:223)\nat android.app.ActivityThread.main(ActivityThread.java:7656)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\nCaused by: android.view.InflateException: Binary XML file line #9 in com.cpst343.happymacro:layout/goal: Binary XML file line #9 in com.cpst343.happymacro:layout/goal: Error inflating class com.google.android.material.bottomnavigation.BottomNavigationView\nCaused by: android.view.InflateException: Binary XML file line #9 in com.cpst343.happymacro:layout/goal: Error inflating class com.google.android.material.bottomnavigation.BottomNavigationView\nCaused by: java.lang.reflect.InvocationTargetException\nat java.lang.reflect.Constructor.newInstance0(Native Method)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:343)\nat android.view.LayoutInflater.createView(LayoutInflater.java:852)\nat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:1004)\nat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:959)\nat android.view.LayoutInflater.rInflate(LayoutInflater.java:1121)\nat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:1082)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:680)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:532)\nat com.cpst343.happymacro.databinding.GoalBinding.inflate(GoalBinding.java:49)\nat com.cpst343.happymacro.databinding.GoalBinding.inflate(GoalBinding.java:43)\nat com.cpst343.happymacro.goal.onCreate(goal.java:23)\nat android.app.Activity.performCreate(Activity.java:8000)\nat android.app.Activity.performCreate(Activity.java:7984)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1309)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3422)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3601)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2066)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:223)\nat android.app.ActivityThread.main(ActivityThread.java:7656)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\nCaused by: java.lang.IllegalArgumentException: Maximum number of items supported by BottomNavigationView is 5. Limit can be checked with BottomNavigationView#getMaxItemCount()\nat com.google.android.material.navigation.NavigationBarMenu.addInternal(NavigationBarMenu.java:67)\n2022-04-16 14:41:50.625 20509-20509/com.cpst343.happymacro E/AndroidRuntime:     at androidx.appcompat.view.menu.MenuBuilder.add(MenuBuilder.java:476)\nat androidx.appcompat.view.SupportMenuInflater$MenuState.addItem(SupportMenuInflater.java:531)\nat androidx.appcompat.view.SupportMenuInflater.parseMenu(SupportMenuInflater.java:207)\nat androidx.appcompat.view.SupportMenuInflater.inflate(SupportMenuInflater.java:129)\nat com.google.android.material.navigation.NavigationBarView.inflateMenu(NavigationBarView.java:384)\nat com.google.android.material.navigation.NavigationBarView.(NavigationBarView.java:280)\nat com.google.android.material.bottomnavigation.BottomNavigationView.(BottomNavigationView.java:108)\nat com.google.android.material.bottomnavigation.BottomNavigationView.(BottomNavigationView.java:103)\nat com.google.android.material.bottomnavigation.BottomNavigationView.(BottomNavigationView.java:98)\n... 27 more</p>\n"},{"tags":["java","bitcoin","bitcoinj"],"comments":[{"owner":{"account_id":14601696,"reputation":595,"user_id":10545803,"display_name":"Mehran Jalili"},"score":0,"creation_date":1625867571,"post_id":68046300,"comment_id":120750659,"body_markdown":"Please share if you found a way","body":"Please share if you found a way"},{"owner":{"account_id":8981716,"reputation":884,"user_id":6696702,"accept_rate":60,"display_name":"Lakshitha Kanchana"},"score":0,"creation_date":1650137036,"post_id":68046300,"comment_id":127047286,"body_markdown":"I found the way. See the answer marked as the correct ans.","body":"I found the way. See the answer marked as the correct ans."}],"answers":[{"tags":[],"owner":{"account_id":14731929,"reputation":71,"user_id":12182416,"display_name":"Mikhail R"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626195903,"creation_date":1626195903,"answer_id":68366656,"question_id":68046300,"body_markdown":"As a Redeem Script you must use P2WPKH (Pay to Witness Public Key Hash)\r\nAnd then the creation of the Redeem Script will look like:\r\n\r\nScript redeemScript = ScriptBuilder.createP2WPKHOutputScript(key);\r\n","title":"Generate P2SH bitcoin address from WIF in BitcoinJ Java","body":"<p>As a Redeem Script you must use P2WPKH (Pay to Witness Public Key Hash)\nAnd then the creation of the Redeem Script will look like:</p>\n<p>Script redeemScript = ScriptBuilder.createP2WPKHOutputScript(key);</p>\n"},{"tags":[],"owner":{"account_id":14601696,"reputation":595,"user_id":10545803,"display_name":"Mehran Jalili"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1626222544,"creation_date":1626219927,"answer_id":68370429,"question_id":68046300,"body_markdown":"This is the right code by using Mikhail&#39;s suggestion in kotlin:\r\n\r\n```\r\nval params: NetworkParameters = MainNetParams.get()\r\nval key: ECKey = ECKey.fromPrivate(BigInteger(&quot;2&quot;))\r\nval redeemScript: Script = ScriptBuilder.createP2WPKHOutputScript(key)\r\nval script = ScriptBuilder.createP2SHOutputScript(redeemScript)\r\nval scriptHash = ScriptPattern.extractHashFromP2SH(script)\r\nval legacyAddress = LegacyAddress.fromScriptHash(params, scriptHash)\r\nprintln(&quot;P2S address from the WIF private key is: $legacyAddress&quot;)\r\n```","title":"Generate P2SH bitcoin address from WIF in BitcoinJ Java","body":"<p>This is the right code by using Mikhail's suggestion in kotlin:</p>\n<pre><code>val params: NetworkParameters = MainNetParams.get()\nval key: ECKey = ECKey.fromPrivate(BigInteger(&quot;2&quot;))\nval redeemScript: Script = ScriptBuilder.createP2WPKHOutputScript(key)\nval script = ScriptBuilder.createP2SHOutputScript(redeemScript)\nval scriptHash = ScriptPattern.extractHashFromP2SH(script)\nval legacyAddress = LegacyAddress.fromScriptHash(params, scriptHash)\nprintln(&quot;P2S address from the WIF private key is: $legacyAddress&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8981716,"reputation":884,"user_id":6696702,"accept_rate":60,"display_name":"Lakshitha Kanchana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650136951,"creation_date":1650136951,"answer_id":71896838,"question_id":68046300,"body_markdown":"After spending very much of time I found the solution.\r\n\r\n    // Getting P2SH address\r\n    LegacyAddress p2shAddressObj = LegacyAddress.fromScriptHash(PARAMS,\r\n                                    Utils.sha256hash160(ScriptBuilder\r\n                                    .createP2WPKHOutputScript(key.getPubKeyHash())\r\n                                    .getProgram())); // P2WPKH-P2SH (3* segwit compatible)\r\n    String p2shAddress = p2shAddressObj.toString();","title":"Generate P2SH bitcoin address from WIF in BitcoinJ Java","body":"<p>After spending very much of time I found the solution.</p>\n<pre><code>// Getting P2SH address\nLegacyAddress p2shAddressObj = LegacyAddress.fromScriptHash(PARAMS,\n                                Utils.sha256hash160(ScriptBuilder\n                                .createP2WPKHOutputScript(key.getPubKeyHash())\n                                .getProgram())); // P2WPKH-P2SH (3* segwit compatible)\nString p2shAddress = p2shAddressObj.toString();\n</code></pre>\n"}],"owner":{"account_id":8981716,"reputation":884,"user_id":6696702,"accept_rate":60,"display_name":"Lakshitha Kanchana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1230,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71896838,"answer_count":3,"score":1,"last_activity_date":1650136951,"creation_date":1624101626,"question_id":68046300,"body_markdown":"I&#39;m trying to create P2SH-Segwit bitcoin address from the WIF private key. I&#39;m using the **BitcoinJ library in Java**. See the following code.\r\n\r\n\r\n    String base58PrivateKeyString = &quot;KyyJ5vVWjZck5nsAgDWvoN1u7Q8qp5FzE8WiCq97MbnRgdLesqJZ&quot;;\r\n\r\n    NetworkParameters params = MainNetParams.get();\r\n    ECKey key;\r\n\r\n    if (base58PrivateKeyString.length() == 51 || base58PrivateKeyString.length() == 52) {\r\n        DumpedPrivateKey dumpedPrivateKey = DumpedPrivateKey.fromBase58(params, base58PrivateKeyString);\r\n        key = dumpedPrivateKey.getKey();\r\n    } else {\r\n        BigInteger privKey = Base58.decodeToBigInteger(base58PrivateKeyString);\r\n        key = ECKey.fromPrivate(privKey);\r\n    }\r\n    \r\n    // Getting the public key\r\n    String pubKeyStr = key.getPublicKeyAsHex();\r\n    System.out.println(&quot;Public key is: &quot; + pubKeyStr + &quot;\\n&quot;);\r\n\r\n    // Getting the P2SH address\r\n    List&lt;ECKey&gt; eckeyAList = new ArrayList&lt;&gt;();\r\n    eckeyAList.add(key);\r\n    Script redeemScript = ScriptBuilder.createRedeemScript(1, eckeyAList);\r\n    Script script = ScriptBuilder.createP2SHOutputScript(redeemScript);\r\n    byte[] scriptHash = ScriptPattern.extractHashFromP2SH(script);\r\n    LegacyAddress legacyAddress = LegacyAddress.fromScriptHash(params, scriptHash);\r\n    System.out.println(&quot;P2S address from the WIF pivate key is: &quot; + legacyAddress.toString()); //3Az5wdibtPRGac41aGtyqzT1ejtobvb6qW\r\n        \r\n\r\nIts output public key is 03b5319c83adf4a2e274c37401623c7bf0ba453cee3e119f3bc2c523d27059b64f.\r\nIts **output P2SH address is 3Az5wdibtPRGac41aGtyqzT1ejtobvb6qW** which is far different from the **correct P2SH address 38SGXvkMvq8Tsop8rFx2K4JnaFKYZkjd5z**.\r\n\r\nIf any of you know to rectifying the issue I&#39;m happy to take your opinion.\r\n","title":"Generate P2SH bitcoin address from WIF in BitcoinJ Java","body":"<p>I'm trying to create P2SH-Segwit bitcoin address from the WIF private key. I'm using the <strong>BitcoinJ library in Java</strong>. See the following code.</p>\n<pre><code>String base58PrivateKeyString = &quot;KyyJ5vVWjZck5nsAgDWvoN1u7Q8qp5FzE8WiCq97MbnRgdLesqJZ&quot;;\n\nNetworkParameters params = MainNetParams.get();\nECKey key;\n\nif (base58PrivateKeyString.length() == 51 || base58PrivateKeyString.length() == 52) {\n    DumpedPrivateKey dumpedPrivateKey = DumpedPrivateKey.fromBase58(params, base58PrivateKeyString);\n    key = dumpedPrivateKey.getKey();\n} else {\n    BigInteger privKey = Base58.decodeToBigInteger(base58PrivateKeyString);\n    key = ECKey.fromPrivate(privKey);\n}\n\n// Getting the public key\nString pubKeyStr = key.getPublicKeyAsHex();\nSystem.out.println(&quot;Public key is: &quot; + pubKeyStr + &quot;\\n&quot;);\n\n// Getting the P2SH address\nList&lt;ECKey&gt; eckeyAList = new ArrayList&lt;&gt;();\neckeyAList.add(key);\nScript redeemScript = ScriptBuilder.createRedeemScript(1, eckeyAList);\nScript script = ScriptBuilder.createP2SHOutputScript(redeemScript);\nbyte[] scriptHash = ScriptPattern.extractHashFromP2SH(script);\nLegacyAddress legacyAddress = LegacyAddress.fromScriptHash(params, scriptHash);\nSystem.out.println(&quot;P2S address from the WIF pivate key is: &quot; + legacyAddress.toString()); //3Az5wdibtPRGac41aGtyqzT1ejtobvb6qW\n    \n</code></pre>\n<p>Its output public key is 03b5319c83adf4a2e274c37401623c7bf0ba453cee3e119f3bc2c523d27059b64f.\nIts <strong>output P2SH address is 3Az5wdibtPRGac41aGtyqzT1ejtobvb6qW</strong> which is far different from the <strong>correct P2SH address 38SGXvkMvq8Tsop8rFx2K4JnaFKYZkjd5z</strong>.</p>\n<p>If any of you know to rectifying the issue I'm happy to take your opinion.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3981580,"reputation":931,"user_id":3283350,"display_name":"ravi"},"score":0,"creation_date":1562837782,"post_id":56986031,"comment_id":100506835,"body_markdown":"Hey can you also show your `styles.xml` file here.","body":"Hey can you also show your <code>styles.xml</code> file here."},{"owner":{"display_name":"user10467639"},"score":0,"creation_date":1562838348,"post_id":56986031,"comment_id":100507214,"body_markdown":"@ravi I think the problem not cause by XML, the XML file actually is very long and confusing! It&#39;s just described my activity UI!","body":"@ravi I think the problem not cause by XML, the XML file actually is very long and confusing! It&#39;s just described my activity UI!"},{"owner":{"account_id":3981580,"reputation":931,"user_id":3283350,"display_name":"ravi"},"score":0,"creation_date":1562839248,"post_id":56986031,"comment_id":100507762,"body_markdown":"we should not really make assumptions about the cause of a problem. But if you think this much info gets your problem solved, well good luck.","body":"we should not really make assumptions about the cause of a problem. But if you think this much info gets your problem solved, well good luck."},{"owner":{"display_name":"user10467639"},"score":0,"creation_date":1562892780,"post_id":56986031,"comment_id":100531441,"body_markdown":"@ravi I am sorry for my naive assumtion. I have edited my answer with `style.xml` file. Can you help me again?","body":"@ravi I am sorry for my naive assumtion. I have edited my answer with <code>style.xml</code> file. Can you help me again?"},{"owner":{"account_id":3981580,"reputation":931,"user_id":3283350,"display_name":"ravi"},"score":0,"creation_date":1563180490,"post_id":56986031,"comment_id":100600633,"body_markdown":"It&#39;s alight man. I have posted an answer, try that and let me know if that helps","body":"It&#39;s alight man. I have posted an answer, try that and let me know if that helps"}],"answers":[{"tags":[],"owner":{"account_id":3981580,"reputation":931,"user_id":3283350,"display_name":"ravi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563180444,"creation_date":1563180444,"answer_id":57036197,"question_id":56986031,"body_markdown":"According to the docs [here][1]:\r\n\r\n&gt; Implement onWindowFocusChanged(). If you gain window focus, you may want to re-hide the system bars. If you lose window focus, for example due to a dialog or pop up menu showing above your app, you&#39;ll probably want to cancel any pending &quot;hide&quot; operations you previously scheduled with Handler.postDelayed() or something similar.\r\n\r\nSo What I suggest you do is, change your code in `MyActivity.java` from:\r\n```java\r\n@Override\r\npublic void onWindowFocusChanged(boolean hasFocus) {\r\n    super.onWindowFocusChanged(hasFocus);\r\n    hideSystemUI();\r\n}\r\n```\r\n\r\nto:\r\n\r\n```java\r\n@Override\r\npublic void onWindowFocusChanged(boolean hasFocus) {\r\n     if (!hasFocus){\r\n            //we lost focus due to DialogFragment\r\n            hideSystemUI();            \r\n        }\r\n}\r\n```\r\n\r\n  [1]: https://developer.android.com/training/system-ui/immersive.html","title":"Hide system navigation bar when show DialogFragment","body":"<p>According to the docs <a href=\"https://developer.android.com/training/system-ui/immersive.html\" rel=\"nofollow noreferrer\">here</a>:</p>\n\n<blockquote>\n  <p>Implement onWindowFocusChanged(). If you gain window focus, you may want to re-hide the system bars. If you lose window focus, for example due to a dialog or pop up menu showing above your app, you'll probably want to cancel any pending \"hide\" operations you previously scheduled with Handler.postDelayed() or something similar.</p>\n</blockquote>\n\n<p>So What I suggest you do is, change your code in <code>MyActivity.java</code> from:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onWindowFocusChanged(boolean hasFocus) {\n    super.onWindowFocusChanged(hasFocus);\n    hideSystemUI();\n}\n</code></pre>\n\n<p>to:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onWindowFocusChanged(boolean hasFocus) {\n     if (!hasFocus){\n            //we lost focus due to DialogFragment\n            hideSystemUI();            \n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11649527,"reputation":2235,"user_id":8531215,"display_name":"TaQuangTu"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1563860095,"creation_date":1563860095,"answer_id":57157300,"question_id":56986031,"body_markdown":"Followed this answer https://stackoverflow.com/a/23207365/8531215 ,I have tested and it works fine! modify `onCreateDialog()` method a little bit\r\n\r\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n            AlertDialog alertD = builder.create();\r\n            alertD.setView(view);\r\n            Dialog dialog = alertD.create();\r\n            dialog.getWindow().setFlags(WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE, WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE);\r\n    \r\n            //Show the dialog!\r\n            dialog.show();\r\n    \r\n             //Set the dialog to immersive sticky mode\r\n            dialog.getWindow().getDecorView().setSystemUiVisibility(\r\n                    View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\r\n                            | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);\r\n            //Clear the not focusable flag from the window\r\n            dialog.getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE);\r\n            return alertD;\r\n    }","title":"Hide system navigation bar when show DialogFragment","body":"<p>Followed this answer <a href=\"https://stackoverflow.com/a/23207365/8531215\">https://stackoverflow.com/a/23207365/8531215</a> ,I have tested and it works fine! modify <code>onCreateDialog()</code> method a little bit</p>\n\n<pre><code>public Dialog onCreateDialog(Bundle savedInstanceState) {\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n        AlertDialog alertD = builder.create();\n        alertD.setView(view);\n        Dialog dialog = alertD.create();\n        dialog.getWindow().setFlags(WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE, WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE);\n\n        //Show the dialog!\n        dialog.show();\n\n         //Set the dialog to immersive sticky mode\n        dialog.getWindow().getDecorView().setSystemUiVisibility(\n                View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\n                        | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION);\n        //Clear the not focusable flag from the window\n        dialog.getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE);\n        return alertD;\n}\n</code></pre>\n"}],"owner":{"display_name":"user10467639"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5434,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":57157300,"answer_count":2,"score":4,"last_activity_date":1650136035,"creation_date":1562837434,"question_id":56986031,"body_markdown":"My app is in `sticky immersive mode` that the `system navigation bar` (I call it SNB) is hidden in running time of my app. It works well but exists one problem, it is each time I show a `DialogFragment`, the SNB will be appear. How can I hide it. \r\n\r\nI have written a few line of code in my acivity class to make my app become fullscreen and `sticky immersive mode`.\r\n&gt; MyActivity.java\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        hideSystemUI();\r\n    }\r\n\r\n    @Override\r\n    public void onWindowFocusChanged(boolean hasFocus) {\r\n        super.onWindowFocusChanged(hasFocus);\r\n        hideSystemUI();\r\n    }\r\n\r\n    public void hideSystemUI() {\r\n        // Enables regular immersive sticky mode.\r\n        View decorView = getWindow().getDecorView();\r\n        decorView.setSystemUiVisibility(\r\n                View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\r\n                        | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                        );\r\n    }\r\n\r\n&gt; MyDialog.java\r\n\r\n    public class MyDialog extends DialogFragment{\r\n   \r\n        @NonNull\r\n        @Override\r\n        public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n            AlertDialog alertD = builder.create();\r\n            alertD.setView(view);\r\n            return alertD;\r\n        }\r\n    \r\n        public void show() {\r\n            Activity activity = getActivity();\r\n            show(activity.getSupportFragmentManager(), &quot;dialog&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onResume() {\r\n            super.onResume();\r\n            ViewGroup.LayoutParams params = getDialog().getWindow().getAttributes();\r\n            params.width = ViewGroup.LayoutParams.MATCH_PARENT;\r\n            params.height = ViewGroup.LayoutParams.WRAP_CONTENT;\r\n            getDialog().getWindow().setAttributes((WindowManager.LayoutParams) params);\r\n        }\r\n    }\r\nI followed the answer to show dialog without show SNB: https://stackoverflow.com/a/33589793/10467639 but it does not work as desired\r\n\r\n    MyDialog dialog = new MyDialog();\r\n    // Set the dialog to not focusable.\r\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\r\n            WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE);\r\n    dialog.show();\r\n    // Set the dialog to focusable again.\r\n    getWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE);\r\n\r\n&gt; style.xml\r\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n   \r\n\r\n     &lt;!-- Base application theme. --&gt;\r\n        &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;\r\n            &lt;!-- Customize your theme here. --&gt;\r\n            &lt;item name=&quot;colorPrimary&quot;&gt;@color/themeColor&lt;/item&gt;\r\n            &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/themeColor&lt;/item&gt;\r\n            &lt;item name=&quot;colorAccent&quot;&gt;@color/themeColor&lt;/item&gt;\r\n            &lt;item name=&quot;colorControlNormal&quot;&gt;@color/black&lt;/item&gt;\r\n            &lt;item name=&quot;colorControlActivated&quot;&gt;@color/black&lt;/item&gt;\r\n            &lt;item name=&quot;colorControlHighlight&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;/style&gt;\r\n        &lt;style name=&quot;BoldGrayHeaderTextView&quot;&gt;\r\n            &lt;item name=&quot;android:textSize&quot;&gt;12dp&lt;/item&gt;\r\n            &lt;item name=&quot;android:fontFamily&quot;&gt;@font/nunitosans_bold&lt;/item&gt;\r\n            &lt;item name=&quot;android:textColor&quot;&gt;@color/darkColor&lt;/item&gt;\r\n        &lt;/style&gt;\r\n        &lt;style name=&quot;AppTheme.NoActionBar&quot;&gt;\r\n            &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n            &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;!-- Splash Screen theme. --&gt;\r\n        &lt;style name=&quot;SplashTheme&quot; parent=&quot;Theme.AppCompat.NoActionBar&quot;&gt;\r\n            &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/splash_background&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;style name=&quot;AppTheme.AppBarOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Dark.ActionBar&quot; /&gt;\r\n    \r\n        &lt;style name=&quot;AppTheme.PopupOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Light&quot; /&gt;\r\n    \r\n        &lt;!-- For CarPinItem on Map --&gt;\r\n        &lt;style name=&quot;carPinItemUnSelected&quot;&gt;\r\n            &lt;item name=&quot;android:textSize&quot;&gt;12dp&lt;/item&gt;\r\n            &lt;item name=&quot;android:fontFamily&quot;&gt;@font/nunitosans_regular&lt;/item&gt;\r\n            &lt;item name=&quot;android:textColor&quot;&gt;@color/generalTextColor&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;style name=&quot;carPinItemSelected&quot;&gt;\r\n            &lt;item name=&quot;android:textSize&quot;&gt;12dp&lt;/item&gt;\r\n            &lt;item name=&quot;android:fontFamily&quot;&gt;@font/nunitosans_regular&lt;/item&gt;\r\n            &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;!-- Style for drawer navigation item                                                                       --&gt;\r\n        &lt;style name=&quot;NavigationDrawerStyle&quot;&gt;\r\n            &lt;item name=&quot;android:textSize&quot;&gt;15dp&lt;/item&gt;&lt;!-- text size in menu--&gt;\r\n            &lt;item name=&quot;android:listPreferredItemHeightSmall&quot;&gt;40dp&lt;/item&gt;&lt;!-- item size in menu--&gt;\r\n            &lt;item name=&quot;listPreferredItemHeightSmall&quot;&gt;40dp&lt;/item&gt;&lt;!-- item size in menu--&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;!--Style for textInputEditText   --&gt;\r\n        &lt;style name=&quot;TextInputLayoutStyle&quot;&gt;\r\n            &lt;item name=&quot;android:fontFamily&quot;&gt;@font/nunitosans_regular&lt;/item&gt;\r\n            &lt;item name=&quot;android:textSize&quot;&gt;13dp&lt;/item&gt;\r\n            &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\r\n    \r\n        &lt;/style&gt;\r\n        &lt;!--Style for profile bottom menu   --&gt;\r\n        &lt;style name=&quot;BottomTextLayoutStyle&quot;&gt;\r\n            &lt;item name=&quot;android:fontFamily&quot;&gt;@font/nunitosans_regular&lt;/item&gt;\r\n            &lt;item name=&quot;android:textColor&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;style name=&quot;MyDatePickerStyle&quot; parent=&quot;@android:style/Widget.Material.Light.DatePicker&quot;&gt;\r\n            &lt;item name=&quot;android:textColorPrimaryInverse&quot;&gt;@color/black&lt;/item&gt;\r\n            &lt;item name=&quot;android:colorControlActivated&quot;&gt;@color/successColor&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;style name=&quot;Theme.App.Base&quot; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;\r\n            &lt;item name=&quot;colorControlNormal&quot;&gt;@color/white&lt;/item&gt;\r\n            &lt;item name=&quot;colorControlActivated&quot;&gt;@color/white&lt;/item&gt;\r\n            &lt;item name=&quot;colorControlHighlight&quot;&gt;@color/white&lt;/item&gt;\r\n    \r\n        &lt;/style&gt;\r\n    \r\n        &lt;!--BottomNavivagionView textsize--&gt;\r\n        &lt;style name=&quot;Widget.BottomNavigationView&quot;\r\n            parent=&quot;Widget.Design.BottomNavigationView&quot;&gt;\r\n            &lt;item name=&quot;android:fontFamily&quot;&gt;@font/nunitosans_regular&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    \r\n        &lt;style name=&quot;NoActionBarTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n            &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    &lt;/resources&gt;\r\n\r\nHow can I solve this problem? Thank in advanced!\r\n\r\n\r\n","title":"Hide system navigation bar when show DialogFragment","body":"<p>My app is in <code>sticky immersive mode</code> that the <code>system navigation bar</code> (I call it SNB) is hidden in running time of my app. It works well but exists one problem, it is each time I show a <code>DialogFragment</code>, the SNB will be appear. How can I hide it. </p>\n\n<p>I have written a few line of code in my acivity class to make my app become fullscreen and <code>sticky immersive mode</code>.</p>\n\n<blockquote>\n  <p>MyActivity.java</p>\n</blockquote>\n\n<pre><code>@Override\nprotected void onResume() {\n    super.onResume();\n    hideSystemUI();\n}\n\n@Override\npublic void onWindowFocusChanged(boolean hasFocus) {\n    super.onWindowFocusChanged(hasFocus);\n    hideSystemUI();\n}\n\npublic void hideSystemUI() {\n    // Enables regular immersive sticky mode.\n    View decorView = getWindow().getDecorView();\n    decorView.setSystemUiVisibility(\n            View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\n                    | View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                    );\n}\n</code></pre>\n\n<blockquote>\n  <p>MyDialog.java</p>\n</blockquote>\n\n<pre><code>public class MyDialog extends DialogFragment{\n\n    @NonNull\n    @Override\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n        AlertDialog alertD = builder.create();\n        alertD.setView(view);\n        return alertD;\n    }\n\n    public void show() {\n        Activity activity = getActivity();\n        show(activity.getSupportFragmentManager(), \"dialog\");\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        ViewGroup.LayoutParams params = getDialog().getWindow().getAttributes();\n        params.width = ViewGroup.LayoutParams.MATCH_PARENT;\n        params.height = ViewGroup.LayoutParams.WRAP_CONTENT;\n        getDialog().getWindow().setAttributes((WindowManager.LayoutParams) params);\n    }\n}\n</code></pre>\n\n<p>I followed the answer to show dialog without show SNB: <a href=\"https://stackoverflow.com/a/33589793/10467639\">https://stackoverflow.com/a/33589793/10467639</a> but it does not work as desired</p>\n\n<pre><code>MyDialog dialog = new MyDialog();\n// Set the dialog to not focusable.\ngetWindow().setFlags(WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\n        WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE);\ndialog.show();\n// Set the dialog to focusable again.\ngetWindow().clearFlags(WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE);\n</code></pre>\n\n<blockquote>\n  <p>style.xml\n  </p>\n</blockquote>\n\n<pre><code> &lt;!-- Base application theme. --&gt;\n    &lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n        &lt;!-- Customize your theme here. --&gt;\n        &lt;item name=\"colorPrimary\"&gt;@color/themeColor&lt;/item&gt;\n        &lt;item name=\"colorPrimaryDark\"&gt;@color/themeColor&lt;/item&gt;\n        &lt;item name=\"colorAccent\"&gt;@color/themeColor&lt;/item&gt;\n        &lt;item name=\"colorControlNormal\"&gt;@color/black&lt;/item&gt;\n        &lt;item name=\"colorControlActivated\"&gt;@color/black&lt;/item&gt;\n        &lt;item name=\"colorControlHighlight\"&gt;@color/white&lt;/item&gt;\n    &lt;/style&gt;\n    &lt;style name=\"BoldGrayHeaderTextView\"&gt;\n        &lt;item name=\"android:textSize\"&gt;12dp&lt;/item&gt;\n        &lt;item name=\"android:fontFamily\"&gt;@font/nunitosans_bold&lt;/item&gt;\n        &lt;item name=\"android:textColor\"&gt;@color/darkColor&lt;/item&gt;\n    &lt;/style&gt;\n    &lt;style name=\"AppTheme.NoActionBar\"&gt;\n        &lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n        &lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;!-- Splash Screen theme. --&gt;\n    &lt;style name=\"SplashTheme\" parent=\"Theme.AppCompat.NoActionBar\"&gt;\n        &lt;item name=\"android:windowBackground\"&gt;@drawable/splash_background&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"AppTheme.AppBarOverlay\" parent=\"ThemeOverlay.AppCompat.Dark.ActionBar\" /&gt;\n\n    &lt;style name=\"AppTheme.PopupOverlay\" parent=\"ThemeOverlay.AppCompat.Light\" /&gt;\n\n    &lt;!-- For CarPinItem on Map --&gt;\n    &lt;style name=\"carPinItemUnSelected\"&gt;\n        &lt;item name=\"android:textSize\"&gt;12dp&lt;/item&gt;\n        &lt;item name=\"android:fontFamily\"&gt;@font/nunitosans_regular&lt;/item&gt;\n        &lt;item name=\"android:textColor\"&gt;@color/generalTextColor&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"carPinItemSelected\"&gt;\n        &lt;item name=\"android:textSize\"&gt;12dp&lt;/item&gt;\n        &lt;item name=\"android:fontFamily\"&gt;@font/nunitosans_regular&lt;/item&gt;\n        &lt;item name=\"android:textColor\"&gt;@color/white&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;!-- Style for drawer navigation item                                                                       --&gt;\n    &lt;style name=\"NavigationDrawerStyle\"&gt;\n        &lt;item name=\"android:textSize\"&gt;15dp&lt;/item&gt;&lt;!-- text size in menu--&gt;\n        &lt;item name=\"android:listPreferredItemHeightSmall\"&gt;40dp&lt;/item&gt;&lt;!-- item size in menu--&gt;\n        &lt;item name=\"listPreferredItemHeightSmall\"&gt;40dp&lt;/item&gt;&lt;!-- item size in menu--&gt;\n    &lt;/style&gt;\n\n    &lt;!--Style for textInputEditText   --&gt;\n    &lt;style name=\"TextInputLayoutStyle\"&gt;\n        &lt;item name=\"android:fontFamily\"&gt;@font/nunitosans_regular&lt;/item&gt;\n        &lt;item name=\"android:textSize\"&gt;13dp&lt;/item&gt;\n        &lt;item name=\"android:textColor\"&gt;@color/white&lt;/item&gt;\n\n    &lt;/style&gt;\n    &lt;!--Style for profile bottom menu   --&gt;\n    &lt;style name=\"BottomTextLayoutStyle\"&gt;\n        &lt;item name=\"android:fontFamily\"&gt;@font/nunitosans_regular&lt;/item&gt;\n        &lt;item name=\"android:textColor\"&gt;@color/black&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"MyDatePickerStyle\" parent=\"@android:style/Widget.Material.Light.DatePicker\"&gt;\n        &lt;item name=\"android:textColorPrimaryInverse\"&gt;@color/black&lt;/item&gt;\n        &lt;item name=\"android:colorControlActivated\"&gt;@color/successColor&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"Theme.App.Base\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n        &lt;item name=\"colorControlNormal\"&gt;@color/white&lt;/item&gt;\n        &lt;item name=\"colorControlActivated\"&gt;@color/white&lt;/item&gt;\n        &lt;item name=\"colorControlHighlight\"&gt;@color/white&lt;/item&gt;\n\n    &lt;/style&gt;\n\n    &lt;!--BottomNavivagionView textsize--&gt;\n    &lt;style name=\"Widget.BottomNavigationView\"\n        parent=\"Widget.Design.BottomNavigationView\"&gt;\n        &lt;item name=\"android:fontFamily\"&gt;@font/nunitosans_regular&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"NoActionBarTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n        &lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>How can I solve this problem? Thank in advanced!</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1650135045,"post_id":71896610,"comment_id":127046907,"body_markdown":"Not answerable without knowing which OS, at least.","body":"Not answerable without knowing which OS, at least."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1650135378,"post_id":71896610,"comment_id":127046969,"body_markdown":"The question is kind of confusing. In IntelliJ, we can add multiple JDKs and switch between them. This is independent from what we can configure for the shell. When we type a command in the shell, the paths in `$PATH` are searched for an executable of that name. So we need to add the `$JAVA_HOME` to the `$PATH`. We can change the value of `$JAVA_HOME` to point to a different JDK version. There are tools (e.g. [lmod](https://lmod.readthedocs.io/en/latest/)) with which we can manage multiple versions, but those are advanced tools.","body":"The question is kind of confusing. In IntelliJ, we can add multiple JDKs and switch between them. This is independent from what we can configure for the shell. When we type a command in the shell, the paths in <code>$PATH</code> are searched for an executable of that name. So we need to add the <code>$JAVA_HOME</code> to the <code>$PATH</code>. We can change the value of <code>$JAVA_HOME</code> to point to a different JDK version. There are tools (e.g. <a href=\"https://lmod.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">lmod</a>) with which we can manage multiple versions, but those are advanced tools."},{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1650174853,"post_id":71896610,"comment_id":127052034,"body_markdown":"setting up java_home may be harmful for IntelliJ IDEA. It is better to point /sur/bin/java to the correct java path, or add java SDK installation to path variable.","body":"setting up java_home may be harmful for IntelliJ IDEA. It is better to point /sur/bin/java to the correct java path, or add java SDK installation to path variable."}],"owner":{"account_id":20676330,"reputation":1,"user_id":17841899,"display_name":"Alia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650134952,"creation_date":1650134952,"question_id":71896610,"body_markdown":"I have installed intelliJ and java. Without even setting up any paths or zshrc profile.  When I run a simple java program in intelliJ (by clicking the handy green play button). It picks it up and executes the program. However the same done via terminal with javac filename.java returns \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    javac: file not found: first.java \r\n    Usage: javac &lt;options&gt; &lt;source files&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nUpon executing java -version; I dont have an established on.\r\nWhen i setup the java_Home in .zshrc file however, java -version returns the expected Java version and I am able to execute now my java program via terminal.\r\n\r\nIs the later setup system wide and the initial one only for the intelliJ specific project?\r\n\r\nI am confused why intelliJ works without addition java_home setup.","title":"Java Installations and switch java versions","body":"<p>I have installed intelliJ and java. Without even setting up any paths or zshrc profile.  When I run a simple java program in intelliJ (by clicking the handy green play button). It picks it up and executes the program. However the same done via terminal with javac filename.java returns</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>javac: file not found: first.java \nUsage: javac &lt;options&gt; &lt;source files&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Upon executing java -version; I dont have an established on.\nWhen i setup the java_Home in .zshrc file however, java -version returns the expected Java version and I am able to execute now my java program via terminal.</p>\n<p>Is the later setup system wide and the initial one only for the intelliJ specific project?</p>\n<p>I am confused why intelliJ works without addition java_home setup.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":22551306,"reputation":186,"user_id":16740373,"display_name":"David Mališ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650134198,"creation_date":1650134198,"answer_id":71896525,"question_id":71896408,"body_markdown":" If you read javadoc of the `UserDetailsService` interface from Spring - a responsibility of the implementation should be &quot;loading of User data&quot;. \r\n\r\nThe problem with your implementation is that you intended it for much more than that, i.e. &quot;saving user&quot;. To save a User, your `UserDetailsService` is also dependant on the `PasswordEncoder` bean which is supplied in the `WebSecurityConfig`, but in order to be suppplied a `UserDetailsService` is needed - this is that cycle. \r\n\r\nThis indicates an error in design and should be refactored somehow. \r\n\r\nThe easiest way to break that cycle is to allow a `PasswordEncoder` to be injected lazily, by annotating it with `@Lazy` in your `UserDetailsServiceImpl` class - **but I don&#39;t recommend doing it.** It will get you out of this situation, but the poor design choice will not be corrected. \r\n\r\n\r\nI would recommend moving all logic other than `loadUserByUsername` implementation away from the `UserDetailsServiceImpl` into some other `@Service` (i.e. `UserService`). - that way you will respect the contract defined in the Spring&#39;s `UserDetailsService` interface, and your `UserDetailsServiceImpl`will not be dependant on the `PasswordEncoder` bean - thus your cyclic dependency will be removed.\r\n\r\n\r\n","title":"Bean Cycle Spring Security","body":"<p>If you read javadoc of the <code>UserDetailsService</code> interface from Spring - a responsibility of the implementation should be &quot;loading of User data&quot;.</p>\n<p>The problem with your implementation is that you intended it for much more than that, i.e. &quot;saving user&quot;. To save a User, your <code>UserDetailsService</code> is also dependant on the <code>PasswordEncoder</code> bean which is supplied in the <code>WebSecurityConfig</code>, but in order to be suppplied a <code>UserDetailsService</code> is needed - this is that cycle.</p>\n<p>This indicates an error in design and should be refactored somehow.</p>\n<p>The easiest way to break that cycle is to allow a <code>PasswordEncoder</code> to be injected lazily, by annotating it with <code>@Lazy</code> in your <code>UserDetailsServiceImpl</code> class - <strong>but I don't recommend doing it.</strong> It will get you out of this situation, but the poor design choice will not be corrected.</p>\n<p>I would recommend moving all logic other than <code>loadUserByUsername</code> implementation away from the <code>UserDetailsServiceImpl</code> into some other <code>@Service</code> (i.e. <code>UserService</code>). - that way you will respect the contract defined in the Spring's <code>UserDetailsService</code> interface, and your <code>UserDetailsServiceImpl</code>will not be dependant on the <code>PasswordEncoder</code> bean - thus your cyclic dependency will be removed.</p>\n"}],"owner":{"account_id":23867380,"reputation":9,"user_id":17869543,"display_name":"Lex Bekker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650134198,"creation_date":1650133194,"question_id":71896408,"body_markdown":"I&#39;m developing a Spring boot web application. The problem is in the login scenario, and ima stacked in loop. Writes that the dependencies are interconnected, and I can&#39;t figure out exactly how and why\r\n\r\nDescription:\r\n\r\nThe dependencies of some of the beans in the application context form a cycle:\r\n\r\n```\r\n┌─────┐\r\n|  webSecurityConfig (field boot.service.UserDetailsServiceImpl boot.configs.WebSecurityConfig.userDetailsService)\r\n↑     ↓\r\n|  userDetailsServiceImpl (field org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder boot.service.UserDetailsServiceImpl.bCryptPasswordEncoder)\r\n└─────┘\r\n```\r\n\r\nHow can i resolve this, guys? My classes: \r\n\r\n```\r\n@Service\r\npublic class UserDetailsServiceImpl implements UserDetailsService {\r\n\r\n    @PersistenceContext\r\n    private EntityManager em;\r\n\r\n    @Autowired\r\n    UserRepository userRepository;\r\n\r\n    @Autowired\r\n    RoleRepository roleRepository;\r\n\r\n    @Autowired\r\n    BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        User user = userRepository.findByUsername(username);\r\n\r\n        if (user == null) {\r\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\r\n        }\r\n\r\n        return user;\r\n    }\r\n\r\n    public User findUserById(Long userId) {\r\n        Optional&lt;User&gt; userFromDb = userRepository.findById(userId);\r\n        return userFromDb.orElse(new User());\r\n    }\r\n\r\n    public List&lt;User&gt; allUsers() {\r\n        return userRepository.findAll();\r\n    }\r\n\r\n    public boolean saveUser(User user) {\r\n        User userFromDB = userRepository.findByUsername(user.getUsername());\r\n\r\n        if (userFromDB != null) {\r\n            return false;\r\n        }\r\n\r\n        user.setRoles(Collections.singleton(new Role(1L, &quot;ROLE_User&quot;)));\r\n        user.setPassword(bCryptPasswordEncoder.encode(user.getPassword()));\r\n        userRepository.save(user);\r\n        return true;\r\n    }\r\n\r\n    public boolean deleteUser(Long userId) {\r\n        if (userRepository.findById(userId).isPresent()) {\r\n            userRepository.deleteById(userId);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public List&lt;User&gt; usergtList(Long idMin) {\r\n        return em.createQuery(&quot;SELECT u from User u WHERE u.id &gt; :paramId&quot;, User.class)\r\n                .setParameter(&quot;paramId&quot;, idMin).getResultList();\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    UserDetailsServiceImpl userDetailsService;\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf()\r\n                    .disable()\r\n                .authorizeRequests()\r\n                    .antMatchers(&quot;/registration&quot;).not().fullyAuthenticated()\r\n                    .antMatchers((&quot;/admin/**&quot;)).hasRole(&quot;ADMIN&quot;)\r\n                    .antMatchers(&quot;/&quot;, &quot;/resources/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                    .formLogin()\r\n                    .loginPage(&quot;/login&quot;)\r\n                    .defaultSuccessUrl(&quot;/&quot;)\r\n                    .permitAll()\r\n                .and()\r\n                    .logout()\r\n                    .permitAll()\r\n                    .logoutSuccessUrl(&quot;/&quot;);\r\n    }\r\n\r\n    @Autowired\r\n    protected void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder());\r\n    }\r\n}\r\n```\r\n\r\nHelp me figure it out, I&#39;ve already broken my whole head, Google does not help\r\n","title":"Bean Cycle Spring Security","body":"<p>I'm developing a Spring boot web application. The problem is in the login scenario, and ima stacked in loop. Writes that the dependencies are interconnected, and I can't figure out exactly how and why</p>\n<p>Description:</p>\n<p>The dependencies of some of the beans in the application context form a cycle:</p>\n<pre><code>┌─────┐\n|  webSecurityConfig (field boot.service.UserDetailsServiceImpl boot.configs.WebSecurityConfig.userDetailsService)\n↑     ↓\n|  userDetailsServiceImpl (field org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder boot.service.UserDetailsServiceImpl.bCryptPasswordEncoder)\n└─────┘\n</code></pre>\n<p>How can i resolve this, guys? My classes:</p>\n<pre><code>@Service\npublic class UserDetailsServiceImpl implements UserDetailsService {\n\n    @PersistenceContext\n    private EntityManager em;\n\n    @Autowired\n    UserRepository userRepository;\n\n    @Autowired\n    RoleRepository roleRepository;\n\n    @Autowired\n    BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepository.findByUsername(username);\n\n        if (user == null) {\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\n        }\n\n        return user;\n    }\n\n    public User findUserById(Long userId) {\n        Optional&lt;User&gt; userFromDb = userRepository.findById(userId);\n        return userFromDb.orElse(new User());\n    }\n\n    public List&lt;User&gt; allUsers() {\n        return userRepository.findAll();\n    }\n\n    public boolean saveUser(User user) {\n        User userFromDB = userRepository.findByUsername(user.getUsername());\n\n        if (userFromDB != null) {\n            return false;\n        }\n\n        user.setRoles(Collections.singleton(new Role(1L, &quot;ROLE_User&quot;)));\n        user.setPassword(bCryptPasswordEncoder.encode(user.getPassword()));\n        userRepository.save(user);\n        return true;\n    }\n\n    public boolean deleteUser(Long userId) {\n        if (userRepository.findById(userId).isPresent()) {\n            userRepository.deleteById(userId);\n            return true;\n        }\n        return false;\n    }\n\n    public List&lt;User&gt; usergtList(Long idMin) {\n        return em.createQuery(&quot;SELECT u from User u WHERE u.id &gt; :paramId&quot;, User.class)\n                .setParameter(&quot;paramId&quot;, idMin).getResultList();\n    }\n\n\n}\n\n</code></pre>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    UserDetailsServiceImpl userDetailsService;\n\n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf()\n                    .disable()\n                .authorizeRequests()\n                    .antMatchers(&quot;/registration&quot;).not().fullyAuthenticated()\n                    .antMatchers((&quot;/admin/**&quot;)).hasRole(&quot;ADMIN&quot;)\n                    .antMatchers(&quot;/&quot;, &quot;/resources/**&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                    .formLogin()\n                    .loginPage(&quot;/login&quot;)\n                    .defaultSuccessUrl(&quot;/&quot;)\n                    .permitAll()\n                .and()\n                    .logout()\n                    .permitAll()\n                    .logoutSuccessUrl(&quot;/&quot;);\n    }\n\n    @Autowired\n    protected void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder());\n    }\n}\n</code></pre>\n<p>Help me figure it out, I've already broken my whole head, Google does not help</p>\n"},{"tags":["java","io","nio","apache-commons-io"],"comments":[{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1648915736,"post_id":71718676,"comment_id":126746288,"body_markdown":"Adding your code would make it easier for others to help you, rather than a description.","body":"Adding your code would make it easier for others to help you, rather than a description."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648927208,"post_id":71718676,"comment_id":126748600,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":5223114,"reputation":1,"user_id":11353994,"display_name":"Red"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650133324,"creation_date":1650133324,"answer_id":71896423,"question_id":71718676,"body_markdown":"Apparently, there is a parsing into an array in commons IO method called &quot;**File[]**&quot;\r\n\r\n**Note**: that it&#39;s in a recursion function or a double loop to increment the &quot;*increasingInteger*&quot; and &quot;*index*&quot;\r\nso you could build a folder limiting structure i.e. (&quot;*increasingInteger*&quot; = part)\r\n\r\nDestination folder\r\n\r\n| part1\r\n\r\n|| number of items (folders and files) inside part1\r\n\r\n| part2\r\n\r\n|| number of items (folders and files) inside part2\r\n\r\n| part3\r\n\r\n|| number of items (folders and files) inside part3\r\n\r\n\r\nfor my case (selecting either a file or a folder) this is what I came up with:\r\n\r\n    File srcFolder = new File(source);\r\n        File[] listOfFiles = srcFolder.listFiles();\r\n\r\n\r\n        try {\r\n            if (listOfFiles[index].isDirectory()) {\r\n\r\n                FileUtils.moveDirectoryToDirectory(listOfFiles[index], new File(destination + &quot;\\\\subDestination&quot;+ increasingInteger), false);\r\n            }\r\n            if (listOfFiles[index].isFile()){\r\n\r\n                FileUtils.moveFileToDirectory(listOfFiles[limit], new File(destination + &quot;\\\\subDestination&quot;+ increasingInteger),false);\r\n            }","title":"selecting one file/folder from the directory","body":"<p>Apparently, there is a parsing into an array in commons IO method called &quot;<strong>File[]</strong>&quot;</p>\n<p><strong>Note</strong>: that it's in a recursion function or a double loop to increment the &quot;<em>increasingInteger</em>&quot; and &quot;<em>index</em>&quot;\nso you could build a folder limiting structure i.e. (&quot;<em>increasingInteger</em>&quot; = part)</p>\n<p>Destination folder</p>\n<p>| part1</p>\n<p>|| number of items (folders and files) inside part1</p>\n<p>| part2</p>\n<p>|| number of items (folders and files) inside part2</p>\n<p>| part3</p>\n<p>|| number of items (folders and files) inside part3</p>\n<p>for my case (selecting either a file or a folder) this is what I came up with:</p>\n<pre><code>File srcFolder = new File(source);\n    File[] listOfFiles = srcFolder.listFiles();\n\n\n    try {\n        if (listOfFiles[index].isDirectory()) {\n\n            FileUtils.moveDirectoryToDirectory(listOfFiles[index], new File(destination + &quot;\\\\subDestination&quot;+ increasingInteger), false);\n        }\n        if (listOfFiles[index].isFile()){\n\n            FileUtils.moveFileToDirectory(listOfFiles[limit], new File(destination + &quot;\\\\subDestination&quot;+ increasingInteger),false);\n        }\n</code></pre>\n"}],"owner":{"account_id":5223114,"reputation":1,"user_id":11353994,"display_name":"Red"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650133324,"creation_date":1648911839,"question_id":71718676,"body_markdown":"I am building a program that manages the quantity and distribution of files and folders from folder &quot;a&quot; to &quot;b&quot; in java (io , nio, apache commons-io) libs.\r\n\r\nI got stuck at a point where i can move files from &quot;a&quot; to &quot;b&quot; but not subfolders(directories) of &quot;a&quot; or vice versa where i can move subfolders but not files, and at one time it got me laughing because it moved the files and the files that are contained in the sub folders of &quot;a&quot;, but not the folders.\r\n\r\nthe thing is i don&#39;t want to copy the whole &quot;a&quot; to &quot;b&quot; in a 1-to-1 copy, i am building a management tool that puts every &quot;x&quot; items(either files or folders) in a sub-&quot;b&quot;-folder.\r\n\r\n*I could manage that part of management and segmenting.  But what i am stuck at specifically the pointer if called correctly,* **i could not get it to point at folders and files at &quot;a&quot; one folder/file at a time to be handled by the program.**\r\n\r\nsincerely sorry if my explanation was not clear.\r\n\r\n\r\nEdit:\r\n the last thing that I could come up with, is to parse it into an array but did not work out.\r\nfor the main it only has strings that point to the location and if path exists arguments, a call for the copy method.\r\n\r\nEdit #2: noticed that i didn&#39;t mention that in main there would be an integer that would co-relate to both of init and limit; it&#39;s purpose is to limit the copying per subfolder towards &quot;b&quot;.\r\n\r\nreference code :\r\n\r\n        public static boolean copyRecurse(String source, String destination, int limit,int init){\r\n\r\n        if (limit &lt;= 0){System.out.println(&quot;Exiting...&quot;); return true;}\r\n        if (limit == init){System.out.print(&quot;copying&quot;);}\r\n        System.out.println(&quot;.&quot;);\r\n\r\n        //copies the whole directory as is\r\n        /*\r\n        try {\r\n            copyDirectory(new File(source), new File(destination));\r\n        }catch (IOException e) {e.printStackTrace();}\r\n        */\r\n\r\n\r\n        // failed attempt to make it copy by one subfolder/file at a time\r\n        try {\r\n        copyFile(new File(String.valueOf(Arrays.stream(Objects.requireNonNull(new File(source).listFiles())).findFirst())), new File(destination));\r\n        }catch (IOException e) {e.printStackTrace();}\r\n\r\n\r\n        copyRecurse(source,destination,limit-1,init);\r\n        return true;\r\n    }\r\n","title":"selecting one file/folder from the directory","body":"<p>I am building a program that manages the quantity and distribution of files and folders from folder &quot;a&quot; to &quot;b&quot; in java (io , nio, apache commons-io) libs.</p>\n<p>I got stuck at a point where i can move files from &quot;a&quot; to &quot;b&quot; but not subfolders(directories) of &quot;a&quot; or vice versa where i can move subfolders but not files, and at one time it got me laughing because it moved the files and the files that are contained in the sub folders of &quot;a&quot;, but not the folders.</p>\n<p>the thing is i don't want to copy the whole &quot;a&quot; to &quot;b&quot; in a 1-to-1 copy, i am building a management tool that puts every &quot;x&quot; items(either files or folders) in a sub-&quot;b&quot;-folder.</p>\n<p><em>I could manage that part of management and segmenting.  But what i am stuck at specifically the pointer if called correctly,</em> <strong>i could not get it to point at folders and files at &quot;a&quot; one folder/file at a time to be handled by the program.</strong></p>\n<p>sincerely sorry if my explanation was not clear.</p>\n<p>Edit:\nthe last thing that I could come up with, is to parse it into an array but did not work out.\nfor the main it only has strings that point to the location and if path exists arguments, a call for the copy method.</p>\n<p>Edit #2: noticed that i didn't mention that in main there would be an integer that would co-relate to both of init and limit; it's purpose is to limit the copying per subfolder towards &quot;b&quot;.</p>\n<p>reference code :</p>\n<pre><code>    public static boolean copyRecurse(String source, String destination, int limit,int init){\n\n    if (limit &lt;= 0){System.out.println(&quot;Exiting...&quot;); return true;}\n    if (limit == init){System.out.print(&quot;copying&quot;);}\n    System.out.println(&quot;.&quot;);\n\n    //copies the whole directory as is\n    /*\n    try {\n        copyDirectory(new File(source), new File(destination));\n    }catch (IOException e) {e.printStackTrace();}\n    */\n\n\n    // failed attempt to make it copy by one subfolder/file at a time\n    try {\n    copyFile(new File(String.valueOf(Arrays.stream(Objects.requireNonNull(new File(source).listFiles())).findFirst())), new File(destination));\n    }catch (IOException e) {e.printStackTrace();}\n\n\n    copyRecurse(source,destination,limit-1,init);\n    return true;\n}\n</code></pre>\n"},{"tags":["c#","java","properties"],"comments":[{"owner":{"account_id":20130,"reputation":279845,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"score":2,"creation_date":1275537765,"post_id":2963243,"comment_id":3021951,"body_markdown":"See [getters/setters in java](http://stackoverflow.com/questions/875033/getters-setters-in-java)","body":"See <a href=\"http://stackoverflow.com/questions/875033/getters-setters-in-java\">getters/setters in java</a>"},{"owner":{"display_name":"user1345113"},"score":0,"creation_date":1336615982,"post_id":2963243,"comment_id":13615706,"body_markdown":"Also see CodePorting C#2Java Cloud-App http://codeporting.com/blog/csharp-to-java-conversion/archive/2012/05/09/migrating-c-properties-to-java-using-codeporting-c2java.html that translates C# properties to java automatically while C# code is ported to java.","body":"Also see CodePorting C#2Java Cloud-App <a href=\"http://codeporting.com/blog/csharp-to-java-conversion/archive/2012/05/09/migrating-c-properties-to-java-using-codeporting-c2java.html\" rel=\"nofollow noreferrer\">codeporting.com/blog/csharp-to-java-conversion/archive/2012/&zwnj;&#8203;05/&hellip;</a> that translates C# properties to java automatically while C# code is ported to java."},{"owner":{"account_id":210642,"reputation":8430,"user_id":1347816,"accept_rate":78,"display_name":"LEMUEL  ADANE"},"score":0,"creation_date":1422415637,"post_id":2963243,"comment_id":44737277,"body_markdown":"Actually, you may omit the get and set prefixes and and use like for example public String name() {...} for the getter and public void name(String val) {...} for the setter. &quot;set&quot; and  &quot;get&quot; are conventional but its very obvious that you are setting when you write name(&quot;Lem&quot;) and getting String n = name();","body":"Actually, you may omit the get and set prefixes and and use like for example public String name() {...} for the getter and public void name(String val) {...} for the setter. &quot;set&quot; and  &quot;get&quot; are conventional but its very obvious that you are setting when you write name(&quot;Lem&quot;) and getting String n = name();"},{"owner":{"account_id":519146,"reputation":203,"user_id":11688856,"display_name":"Jayadevan Vijayan"},"score":0,"creation_date":1619319422,"post_id":2963243,"comment_id":118867697,"body_markdown":"@Scott That is not what OP asked. That functionality (something very similar) is already provided by Lombok soon after Java 5 came out.","body":"@Scott That is not what OP asked. That functionality (something very similar) is already provided by Lombok soon after Java 5 came out."},{"owner":{"account_id":519146,"reputation":203,"user_id":11688856,"display_name":"Jayadevan Vijayan"},"score":0,"creation_date":1619319458,"post_id":2963243,"comment_id":118867702,"body_markdown":"Traditional Java does not support, but Groovy supports it. Since they are compatible and approximately all Java is valid Groovy, that is a way to go if you need properties in Java.","body":"Traditional Java does not support, but Groovy supports it. Since they are compatible and approximately all Java is valid Groovy, that is a way to go if you need properties in Java."}],"answers":[{"tags":[],"owner":{"account_id":16638,"reputation":10639,"user_id":1244013,"accept_rate":48,"display_name":"Kevin Le - Khnle"},"down_vote_count":0,"up_vote_count":117,"is_accepted":true,"score":117,"last_activity_date":1275537717,"creation_date":1275537717,"answer_id":2963249,"question_id":2963243,"body_markdown":"No, Java does not have the equivalence.  It only has accessor and mutator methods, fancy names for getter and setter methods.  For example:\r\n\r\n    public class User {\r\n        private String name;\r\n\r\n        public String getName() { return this.name; }\r\n        public void setName(String name) { this.name = name; }\r\n    }","title":"Does java have something similar to C# properties?","body":"<p>No, Java does not have the equivalence.  It only has accessor and mutator methods, fancy names for getter and setter methods.  For example:</p>\n\n<pre><code>public class User {\n    private String name;\n\n    public String getName() { return this.name; }\n    public void setName(String name) { this.name = name; }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40944,"reputation":10156,"user_id":118860,"accept_rate":91,"display_name":"Larry Watanabe"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1275538084,"creation_date":1275538084,"answer_id":2963265,"question_id":2963243,"body_markdown":"You can just declare a private variable, and write the methods by hand. However, if you are using Eclipse, you can click on a variable, select &quot;Source&quot; and &quot;Generate getters and setters.&quot; This is about as convenient as C# properties.","title":"Does java have something similar to C# properties?","body":"<p>You can just declare a private variable, and write the methods by hand. However, if you are using Eclipse, you can click on a variable, select \"Source\" and \"Generate getters and setters.\" This is about as convenient as C# properties.</p>\n"},{"tags":[],"owner":{"account_id":146587,"reputation":1594,"user_id":357106,"accept_rate":72,"display_name":"Ben Smith"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1582087015,"creation_date":1275540222,"answer_id":2963360,"question_id":2963243,"body_markdown":"You could have a look at [Project Lombok][1] as it tries to take the pain out of writing boiler plate Java code. It allows you to either use `@Getter` and `@Setter` annotations, which will provide `getBlah()` and `setBlah()` methods:\r\n\r\n    public class GetterSetterExample {\r\n      @Getter @Setter private int age = 10;\r\n    }\r\n\r\nOr you can just use `@Data` and it will automatically implement your `hashCode()`, `equals()`, `toString()` and getter methods, along with setters on non-final fields:\r\n\r\n    @Data public class DataExample {\r\n      private String name;\r\n    }\r\n\r\nProblems I have found with the project, however, are that it&#39;s all a bit voodoo, which can be off-putting, and that you have to install an Eclipse (or what ever) plugin to get auto compilation to work.\r\n\r\n  [1]: http://projectlombok.org/","title":"Does java have something similar to C# properties?","body":"<p>You could have a look at <a href=\"http://projectlombok.org/\" rel=\"noreferrer\">Project Lombok</a> as it tries to take the pain out of writing boiler plate Java code. It allows you to either use <code>@Getter</code> and <code>@Setter</code> annotations, which will provide <code>getBlah()</code> and <code>setBlah()</code> methods:</p>\n\n<pre><code>public class GetterSetterExample {\n  @Getter @Setter private int age = 10;\n}\n</code></pre>\n\n<p>Or you can just use <code>@Data</code> and it will automatically implement your <code>hashCode()</code>, <code>equals()</code>, <code>toString()</code> and getter methods, along with setters on non-final fields:</p>\n\n<pre><code>@Data public class DataExample {\n  private String name;\n}\n</code></pre>\n\n<p>Problems I have found with the project, however, are that it's all a bit voodoo, which can be off-putting, and that you have to install an Eclipse (or what ever) plugin to get auto compilation to work.</p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1275548573,"creation_date":1275548573,"answer_id":2963885,"question_id":2963243,"body_markdown":"There has been a proposal to add C#-like support for properties (and events) to Java, but it looks like this is rejected for the next version of Java (Java 7).\r\n\r\nSee:\r\n\r\n - [Why will there be no native properties in Java 7?][1]\r\n - [Java Properties Without Getters and Setters][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/710266/why-will-there-be-no-native-properties-in-java-7\r\n  [2]: http://java.dzone.com/articles/java-properties-without","title":"Does java have something similar to C# properties?","body":"<p>There has been a proposal to add C#-like support for properties (and events) to Java, but it looks like this is rejected for the next version of Java (Java 7).</p>\n\n<p>See:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/710266/why-will-there-be-no-native-properties-in-java-7\">Why will there be no native properties in Java 7?</a></li>\n<li><a href=\"http://java.dzone.com/articles/java-properties-without\" rel=\"nofollow noreferrer\">Java Properties Without Getters and Setters</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2061466,"reputation":211,"user_id":1837894,"display_name":"Renjith"},"down_vote_count":5,"up_vote_count":22,"is_accepted":false,"score":17,"last_activity_date":1353395180,"creation_date":1353393589,"answer_id":13467839,"question_id":2963243,"body_markdown":"Properties are not only convenient in terms of writing `getters` and `setters` encapsulated in a unit , but also they provide a good syntax at the point of call.\r\n\r\n    Window.Title =  &quot;New&quot;; //which looks natural\r\n\r\nwhile with `getters` and `setters` it is usually \r\n\r\n    Window.setTitle(&quot;New&quot;);\r\n","title":"Does java have something similar to C# properties?","body":"<p>Properties are not only convenient in terms of writing <code>getters</code> and <code>setters</code> encapsulated in a unit , but also they provide a good syntax at the point of call.</p>\n\n<pre><code>Window.Title =  \"New\"; //which looks natural\n</code></pre>\n\n<p>while with <code>getters</code> and <code>setters</code> it is usually </p>\n\n<pre><code>Window.setTitle(\"New\");\n</code></pre>\n"}],"owner":{"display_name":"user354583"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81315,"favorite_count":0,"down_vote_count":2,"up_vote_count":102,"closed_date":1364487885,"accepted_answer_id":2963249,"answer_count":5,"score":100,"last_activity_date":1650132194,"creation_date":1275537593,"question_id":2963243,"body_markdown":"C# properties (I mean get and set methods) are a very useful feature. Does java have something similar to C# properties too? I mean how we can implement something like the following C# code in java:\r\n\r\n    public string Name\r\n    {\r\n        get\r\n        {\r\n            return name;\r\n        }\r\n    \r\n        set\r\n        {\r\n            name = value;\r\n        }\r\n    }","title":"Does java have something similar to C# properties?","body":"<p>C# properties (I mean get and set methods) are a very useful feature. Does java have something similar to C# properties too? I mean how we can implement something like the following C# code in java:</p>\n<pre><code>public string Name\n{\n    get\n    {\n        return name;\n    }\n\n    set\n    {\n        name = value;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","vaadin"],"answers":[{"tags":[],"owner":{"account_id":4059918,"reputation":1722,"user_id":3336733,"display_name":"Artur Signell"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1650131701,"creation_date":1650131701,"answer_id":71896228,"question_id":71895571,"body_markdown":"The report-ui addon you are using contains a file called flow-build-info.json which is part of an application but should never be packaged in an addon. Your application _should_ read flow-build-info.json primarily from the target folder in your project but apparently in your case it finds and tries to use the one from the addon instead.\r\n\r\nRemoving the addon should solve the problem. Ask the addon author to fix the addon.","title":"Spring boot and Vaadin error build java.lang.RuntimeException: Unable to initialize com.vaadin.flow.spring.VaadinServletContextInitializer","body":"<p>The report-ui addon you are using contains a file called flow-build-info.json which is part of an application but should never be packaged in an addon. Your application <em>should</em> read flow-build-info.json primarily from the target folder in your project but apparently in your case it finds and tries to use the one from the addon instead.</p>\n<p>Removing the addon should solve the problem. Ask the addon author to fix the addon.</p>\n"}],"owner":{"account_id":9371512,"reputation":1243,"user_id":8958651,"accept_rate":10,"display_name":"Jonio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650131701,"creation_date":1650126031,"question_id":71895571,"body_markdown":"In build application (`mvnw spring-boot:run`)  I receive this error:\r\n\r\n       2022-04-16 18:55:35.544  INFO 8980 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]\r\n    2022-04-16 18:55:35.835  INFO 8980 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-04-16 18:55:35.836  INFO 8980 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2810 ms\r\n    2022-04-16 18:55:36.088 ERROR 8980 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception sending context initialized event to listener instance of class [com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener]\r\n    \r\n    java.lang.RuntimeException: Unable to initialize com.vaadin.flow.spring.VaadinServletContextInitializer$VaadinAppShellContextListener\r\n    \tat com.vaadin.flow.spring.VaadinServletContextInitializer$FailFastServletContextListener.contextInitialized(VaadinServletContextInitializer.java:191) ~[vaadin-spring-23.0.0.jar:na]\r\n    \tat com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.lambda$contextInitialized$0(VaadinServletContextInitializer.java:213) ~[vaadin-spring-23.0.0.jar:na]\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541) ~[na:na]\r\n    \tat com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.contextInitialized(VaadinServletContextInitializer.java:213) ~[vaadin-spring-23.0.0.jar:na]\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4766) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:478) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat com.example.crud.CrudApplication.main(CrudApplication.java:17) ~[classes/:na]\r\n    Caused by: java.lang.IllegalStateException: Running project in development mode with no access to folder &#39;/Users/alejandro/git/vaadin-add-ons/report-ui/add-on&#39;.\r\n    Build project in production mode instead, see https://vaadin.com/docs/latest/flow/production/overview\r\n    \tat com.vaadin.flow.server.startup.AbstractConfigurationFactory.verifyFolderExists(AbstractConfigurationFactory.java:254) ~[flow-server-23.0.0.jar:23.0.0]\r\n    \tat com.vaadin.flow.server.startup.AbstractConfigurationFactory.getConfigParametersUsingTokenData(AbstractConfigurationFactory.java:117) ~[flow-server-23.0.0.jar:23.0.0]\r\n    \tat com.vaadin.flow.server.startup.DefaultApplicationConfigurationFactory.create(DefaultApplicationConfigurationFactory.java:121) ~[flow-server-23.0.0.jar:23.0.0]\r\n    \tat com.vaadin.flow.server.startup.ApplicationConfiguration.lambda$get$0(ApplicationConfiguration.java:67) ~[flow-server-23.0.0.jar:23.0.0]\r\n    \tat com.vaadin.flow.server.VaadinServletContext.getAttribute(VaadinServletContext.java:73) ~[flow-server-23.0.0.jar:23.0.0]\r\n    \tat com.vaadin.flow.server.startup.ApplicationConfiguration.get(ApplicationConfiguration.java:50) ~[flow-server-23.0.0.jar:23.0.0]\r\n    \tat com.vaadin.flow.spring.VaadinServletContextInitializer$VaadinAppShellContextListener.failFastContextInitialized(VaadinServletContextInitializer.java:543) ~[vaadin-spring-23.0.0.jar:na]\r\n    \tat com.vaadin.flow.spring.VaadinServletContextInitializer$FailFastServletContextListener.contextInitialized(VaadinServletContextInitializer.java:187) ~[vaadin-spring-23.0.0.jar:na]\r\n    \t... 41 common frames omitted\r\n    \r\n    2022-04-16 18:55:36.089 ERROR 8980 --- [           main] o.apache.catalina.core.StandardContext   : One or more listeners failed to start. Full details will be found in the appropriate container log file\r\n    2022-04-16 18:55:36.091 ERROR 8980 --- [           main] o.apache.catalina.core.StandardContext   : Context [] startup failed due to previous errors\r\n    2022-04-16 18:55:36.376  INFO 8980 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2022-04-16 18:55:36.386  WARN 8980 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n    2022-04-16 18:55:36.404  INFO 8980 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2022-04-16 18:55:36.436 ERROR 8980 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.18.jar:5.3.18]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat com.example.crud.CrudApplication.main(CrudApplication.java:17) ~[classes/:na]\r\n    Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:478) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \t... 8 common frames omitted\r\n    Caused by: java.lang.IllegalStateException: StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[] failed to start\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.rethrowDeferredStartupExceptions(TomcatWebServer.java:187) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126) ~[spring-boot-2.6.6.jar:2.6.6]\r\n    \t... 13 common frames omitted\r\n\r\nI have tryed to use the command to try to clean somethinks:\r\n\r\n    mvnw clean install\r\n\r\nOr try to add or remove the line in pom.xml about the vaadin version:\r\n\r\n    &lt;vaadin.version&gt;23.0.6&lt;/vaadin.version&gt;\r\n\r\nNo changes.\r\nMaybe ther is a kind of imcompatibilities and I&#39;m not able to see..\r\nBelow pom.xml.\r\n\r\n  \r\n\r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        \t&lt;parent&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;2.6.6&lt;/version&gt;\r\n        \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        \t&lt;/parent&gt;\r\n        \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;crud&lt;/artifactId&gt;\r\n        \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        \t&lt;name&gt;crud&lt;/name&gt;\r\n        \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        \t&lt;properties&gt;\r\n        \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n        \t\t&lt;vaadin.version&gt;23.0.6&lt;/vaadin.version&gt;\r\n        \t&lt;/properties&gt;\r\n        \t&lt;repositories&gt;\r\n        \t\t&lt;repository&gt;\r\n        \t\t\t&lt;id&gt;vaadin-addons&lt;/id&gt;\r\n        \t\t\t&lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\r\n        \t\t&lt;/repository&gt;\r\n        \t&lt;/repositories&gt;\r\n        \t&lt;dependencies&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.vaadin.crudui&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;crudui&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.vaadin.reportui&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;report-ui&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;collaboration-engine&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;3.2.2&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t&lt;/dependencies&gt;\r\n        \t&lt;dependencyManagement&gt;\r\n        \t\t&lt;dependencies&gt;\r\n        \t\t\t&lt;dependency&gt;\r\n        \t\t\t\t&lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;version&gt;23.0.0&lt;/version&gt;\r\n        \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n        \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n        \t\t\t&lt;/dependency&gt;\r\n        \t\t&lt;/dependencies&gt;\r\n        \t&lt;/dependencyManagement&gt;\r\n        \r\n        \t&lt;build&gt;\r\n        \t\t&lt;plugins&gt;\r\n        \t\t\t&lt;plugin&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;configuration&gt;\r\n        \t\t\t\t\t&lt;excludes&gt;\r\n        \t\t\t\t\t\t&lt;exclude&gt;\r\n        \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        \t\t\t\t\t\t&lt;/exclude&gt;\r\n        \t\t\t\t\t&lt;/excludes&gt;\r\n        \t\t\t\t&lt;/configuration&gt;\r\n        \t\t\t&lt;/plugin&gt;\r\n        \t\t&lt;/plugins&gt;\r\n        \t&lt;/build&gt;\r\n        \r\n        \t&lt;profiles&gt;\r\n        \t\t&lt;profile&gt;\r\n        \t\t\t&lt;id&gt;production&lt;/id&gt;\r\n        \t\t\t&lt;build&gt;\r\n        \t\t\t\t&lt;plugins&gt;\r\n        \t\t\t\t\t&lt;plugin&gt;\r\n        \t\t\t\t\t\t&lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n        \t\t\t\t\t\t&lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n        \t\t\t\t\t\t&lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n        \t\t\t\t\t\t&lt;executions&gt;\r\n        \t\t\t\t\t\t\t&lt;execution&gt;\r\n        \t\t\t\t\t\t\t\t&lt;id&gt;frontend&lt;/id&gt;\r\n        \t\t\t\t\t\t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n        \t\t\t\t\t\t\t\t&lt;goals&gt;\r\n        \t\t\t\t\t\t\t\t\t&lt;goal&gt;prepare-frontend&lt;/goal&gt;\r\n        \t\t\t\t\t\t\t\t\t&lt;goal&gt;build-frontend&lt;/goal&gt;\r\n        \t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n        \t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n        \t\t\t\t\t\t\t\t\t&lt;productionMode&gt;true&lt;/productionMode&gt;\r\n        \t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n        \t\t\t\t\t\t\t&lt;/execution&gt;\r\n        \t\t\t\t\t\t&lt;/executions&gt;\r\n        \t\t\t\t\t&lt;/plugin&gt;\r\n        \t\t\t\t&lt;/plugins&gt;\r\n        \t\t\t&lt;/build&gt;\r\n        \t\t&lt;/profile&gt;\r\n        \t&lt;/profiles&gt;\r\n        \r\n        &lt;/project&gt;\r\n\r\nHow can I solve it?\r\n\r\n","title":"Spring boot and Vaadin error build java.lang.RuntimeException: Unable to initialize com.vaadin.flow.spring.VaadinServletContextInitializer","body":"<p>In build application (<code>mvnw spring-boot:run</code>)  I receive this error:</p>\n<pre><code>   2022-04-16 18:55:35.544  INFO 8980 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.60]\n2022-04-16 18:55:35.835  INFO 8980 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-04-16 18:55:35.836  INFO 8980 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2810 ms\n2022-04-16 18:55:36.088 ERROR 8980 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception sending context initialized event to listener instance of class [com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener]\n\njava.lang.RuntimeException: Unable to initialize com.vaadin.flow.spring.VaadinServletContextInitializer$VaadinAppShellContextListener\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$FailFastServletContextListener.contextInitialized(VaadinServletContextInitializer.java:191) ~[vaadin-spring-23.0.0.jar:na]\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.lambda$contextInitialized$0(VaadinServletContextInitializer.java:213) ~[vaadin-spring-23.0.0.jar:na]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541) ~[na:na]\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.contextInitialized(VaadinServletContextInitializer.java:213) ~[vaadin-spring-23.0.0.jar:na]\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4766) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.60.jar:9.0.60]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:478) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.18.jar:5.3.18]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.6.jar:2.6.6]\n    at com.example.crud.CrudApplication.main(CrudApplication.java:17) ~[classes/:na]\nCaused by: java.lang.IllegalStateException: Running project in development mode with no access to folder '/Users/alejandro/git/vaadin-add-ons/report-ui/add-on'.\nBuild project in production mode instead, see https://vaadin.com/docs/latest/flow/production/overview\n    at com.vaadin.flow.server.startup.AbstractConfigurationFactory.verifyFolderExists(AbstractConfigurationFactory.java:254) ~[flow-server-23.0.0.jar:23.0.0]\n    at com.vaadin.flow.server.startup.AbstractConfigurationFactory.getConfigParametersUsingTokenData(AbstractConfigurationFactory.java:117) ~[flow-server-23.0.0.jar:23.0.0]\n    at com.vaadin.flow.server.startup.DefaultApplicationConfigurationFactory.create(DefaultApplicationConfigurationFactory.java:121) ~[flow-server-23.0.0.jar:23.0.0]\n    at com.vaadin.flow.server.startup.ApplicationConfiguration.lambda$get$0(ApplicationConfiguration.java:67) ~[flow-server-23.0.0.jar:23.0.0]\n    at com.vaadin.flow.server.VaadinServletContext.getAttribute(VaadinServletContext.java:73) ~[flow-server-23.0.0.jar:23.0.0]\n    at com.vaadin.flow.server.startup.ApplicationConfiguration.get(ApplicationConfiguration.java:50) ~[flow-server-23.0.0.jar:23.0.0]\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$VaadinAppShellContextListener.failFastContextInitialized(VaadinServletContextInitializer.java:543) ~[vaadin-spring-23.0.0.jar:na]\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$FailFastServletContextListener.contextInitialized(VaadinServletContextInitializer.java:187) ~[vaadin-spring-23.0.0.jar:na]\n    ... 41 common frames omitted\n\n2022-04-16 18:55:36.089 ERROR 8980 --- [           main] o.apache.catalina.core.StandardContext   : One or more listeners failed to start. Full details will be found in the appropriate container log file\n2022-04-16 18:55:36.091 ERROR 8980 --- [           main] o.apache.catalina.core.StandardContext   : Context [] startup failed due to previous errors\n2022-04-16 18:55:36.376  INFO 8980 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-04-16 18:55:36.386  WARN 8980 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n2022-04-16 18:55:36.404  INFO 8980 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-04-16 18:55:36.436 ERROR 8980 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.18.jar:5.3.18]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.6.jar:2.6.6]\n    at com.example.crud.CrudApplication.main(CrudApplication.java:17) ~[classes/:na]\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:478) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.6.jar:2.6.6]\n    ... 8 common frames omitted\nCaused by: java.lang.IllegalStateException: StandardEngine[Tomcat].StandardHost[localhost].TomcatEmbeddedContext[] failed to start\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.rethrowDeferredStartupExceptions(TomcatWebServer.java:187) ~[spring-boot-2.6.6.jar:2.6.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:126) ~[spring-boot-2.6.6.jar:2.6.6]\n    ... 13 common frames omitted\n</code></pre>\n<p>I have tryed to use the command to try to clean somethinks:</p>\n<pre><code>mvnw clean install\n</code></pre>\n<p>Or try to add or remove the line in pom.xml about the vaadin version:</p>\n<pre><code>&lt;vaadin.version&gt;23.0.6&lt;/vaadin.version&gt;\n</code></pre>\n<p>No changes.\nMaybe ther is a kind of imcompatibilities and I'm not able to see..\nBelow pom.xml.</p>\n<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.6.6&lt;/version&gt;\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n        &lt;/parent&gt;\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;crud&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;name&gt;crud&lt;/name&gt;\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n        &lt;properties&gt;\n            &lt;java.version&gt;11&lt;/java.version&gt;\n            &lt;vaadin.version&gt;23.0.6&lt;/vaadin.version&gt;\n        &lt;/properties&gt;\n        &lt;repositories&gt;\n            &lt;repository&gt;\n                &lt;id&gt;vaadin-addons&lt;/id&gt;\n                &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\n            &lt;/repository&gt;\n        &lt;/repositories&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n                &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;optional&gt;true&lt;/optional&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.vaadin.crudui&lt;/groupId&gt;\n                &lt;artifactId&gt;crudui&lt;/artifactId&gt;\n                &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.vaadin.reportui&lt;/groupId&gt;\n                &lt;artifactId&gt;report-ui&lt;/artifactId&gt;\n                &lt;version&gt;4.0.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;collaboration-engine&lt;/artifactId&gt;\n                &lt;version&gt;3.2.2&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n        &lt;dependencyManagement&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                    &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\n                    &lt;version&gt;23.0.0&lt;/version&gt;\n                    &lt;type&gt;pom&lt;/type&gt;\n                    &lt;scope&gt;import&lt;/scope&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/dependencyManagement&gt;\n    \n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    \n        &lt;profiles&gt;\n            &lt;profile&gt;\n                &lt;id&gt;production&lt;/id&gt;\n                &lt;build&gt;\n                    &lt;plugins&gt;\n                        &lt;plugin&gt;\n                            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                            &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n                            &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                            &lt;executions&gt;\n                                &lt;execution&gt;\n                                    &lt;id&gt;frontend&lt;/id&gt;\n                                    &lt;phase&gt;compile&lt;/phase&gt;\n                                    &lt;goals&gt;\n                                        &lt;goal&gt;prepare-frontend&lt;/goal&gt;\n                                        &lt;goal&gt;build-frontend&lt;/goal&gt;\n                                    &lt;/goals&gt;\n                                    &lt;configuration&gt;\n                                        &lt;productionMode&gt;true&lt;/productionMode&gt;\n                                    &lt;/configuration&gt;\n                                &lt;/execution&gt;\n                            &lt;/executions&gt;\n                        &lt;/plugin&gt;\n                    &lt;/plugins&gt;\n                &lt;/build&gt;\n            &lt;/profile&gt;\n        &lt;/profiles&gt;\n    \n    &lt;/project&gt;\n</code></pre>\n<p>How can I solve it?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","asynchronous"],"answers":[{"tags":[],"owner":{"account_id":2318297,"reputation":1653,"user_id":9231518,"display_name":"User9123"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650127213,"creation_date":1650126580,"answer_id":71895640,"question_id":71895225,"body_markdown":"You can return [CompletableFuture][1]. You will receive http response when CompleteableFuture will be completed.\r\n\r\nService:\r\n\r\n    @Async\r\n    public CompletableFuture&lt;List&lt;String&gt;&gt; doSomething() {\r\n        return CompletableFuture.completedFuture(Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;));\r\n    } \r\n\r\nController: \r\n\r\n    @GetMapping(&quot;test&quot;)\r\n    public CompletableFuture&lt;List&lt;String&gt;&gt; getAll(){\r\n        return service.getAll();\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\r\n","title":"Getting data back from @Async function call","body":"<p>You can return <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">CompletableFuture</a>. You will receive http response when CompleteableFuture will be completed.</p>\n<p>Service:</p>\n<pre><code>@Async\npublic CompletableFuture&lt;List&lt;String&gt;&gt; doSomething() {\n    return CompletableFuture.completedFuture(Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;));\n} \n</code></pre>\n<p>Controller:</p>\n<pre><code>@GetMapping(&quot;test&quot;)\npublic CompletableFuture&lt;List&lt;String&gt;&gt; getAll(){\n    return service.getAll();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8096264,"reputation":833,"user_id":6100749,"display_name":"Alexander Radchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650129027,"creation_date":1650129027,"answer_id":71895919,"question_id":71895225,"body_markdown":"If you want to use async I would split your single request into so called &quot;start task&quot; and &quot;get task result&quot; requests. Your application returns &quot;request id&quot; for &quot;start task&quot; request. Then you use &quot;request id&quot; when performing &quot;get task result&quot;. Such a scenario is a common way in the Batch Processing task. If you use Spring, you may be interesting investigating [Spring Batch][1] framework, which has Start/Stop/Restart job functionality among others.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-batch/docs/current/reference/html/spring-batch-intro.html#spring-batch-intro","title":"Getting data back from @Async function call","body":"<p>If you want to use async I would split your single request into so called &quot;start task&quot; and &quot;get task result&quot; requests. Your application returns &quot;request id&quot; for &quot;start task&quot; request. Then you use &quot;request id&quot; when performing &quot;get task result&quot;. Such a scenario is a common way in the Batch Processing task. If you use Spring, you may be interesting investigating <a href=\"https://docs.spring.io/spring-batch/docs/current/reference/html/spring-batch-intro.html#spring-batch-intro\" rel=\"nofollow noreferrer\">Spring Batch</a> framework, which has Start/Stop/Restart job functionality among others.</p>\n"},{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650131263,"creation_date":1650130943,"answer_id":71896130,"question_id":71895225,"body_markdown":"If you want to process the request asynchronously but also want the API client to receive the response after it finishes processing such that from the client &#39;s point of view , the request processing still looks like synchronous , the key is to use the [Servlet3 asynchronous processing][1] feature. \r\n\r\nYou do not need to configure it to execute asynchronously in the service level using `@Aysnc`. Instead configure the controller method to return `CompletableFuture`. Under the cover , it will trigger Servlet3 &#39;s asynchronous request processing which will process the request in another thread besides the HTTP thread that receive the request.\r\n\r\nSo your codes should look something like:\r\n\r\n```\r\npublic class Service {\r\n\t\r\n\t//No need to add @Async\r\n\tpublic List&lt;String&gt; doSomething(int a){\r\n\t    return list;\r\n\t}\r\n}\r\n\r\n\r\n@RestController\r\npublic class Controller{\r\n    \r\n    @Autowired\r\n    private Service service;\r\n\r\n    @GetMapping(&quot;test&quot;)\r\n    public CompletableFuture&lt;List&lt;String&gt;&gt; getAll(){\r\n        return CompletableFuture.supplyAsync(()-&gt;service.doSomething(1));\r\n    }\r\n}\r\n```\r\n\r\nFor details about the Servlet3 asynchronous request processing supported in spring-mvc , you can refer to this blog series start from [this][2] .\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/tutorial/servlets012.htm\r\n  [2]: https://spring.io/blog/2012/05/07/spring-mvc-3-2-preview-introducing-servlet-3-async-support","title":"Getting data back from @Async function call","body":"<p>If you want to process the request asynchronously but also want the API client to receive the response after it finishes processing such that from the client 's point of view , the request processing still looks like synchronous , the key is to use the <a href=\"https://docs.oracle.com/javaee/7/tutorial/servlets012.htm\" rel=\"nofollow noreferrer\">Servlet3 asynchronous processing</a> feature.</p>\n<p>You do not need to configure it to execute asynchronously in the service level using <code>@Aysnc</code>. Instead configure the controller method to return <code>CompletableFuture</code>. Under the cover , it will trigger Servlet3 's asynchronous request processing which will process the request in another thread besides the HTTP thread that receive the request.</p>\n<p>So your codes should look something like:</p>\n<pre><code>public class Service {\n    \n    //No need to add @Async\n    public List&lt;String&gt; doSomething(int a){\n        return list;\n    }\n}\n\n\n@RestController\npublic class Controller{\n    \n    @Autowired\n    private Service service;\n\n    @GetMapping(&quot;test&quot;)\n    public CompletableFuture&lt;List&lt;String&gt;&gt; getAll(){\n        return CompletableFuture.supplyAsync(()-&gt;service.doSomething(1));\n    }\n}\n</code></pre>\n<p>For details about the Servlet3 asynchronous request processing supported in spring-mvc , you can refer to this blog series start from <a href=\"https://spring.io/blog/2012/05/07/spring-mvc-3-2-preview-introducing-servlet-3-async-support\" rel=\"nofollow noreferrer\">this</a> .</p>\n"}],"owner":{"account_id":10508476,"reputation":115,"user_id":7744930,"display_name":"Ankit Kathait"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2061,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71896130,"answer_count":3,"score":0,"last_activity_date":1650131263,"creation_date":1650123327,"question_id":71895225,"body_markdown":"Hi I am new to multithreading in java. Can someone please help me with this:&lt;br&gt;&lt;br&gt;\r\nMy service:\r\n```\r\n@Async\r\npublic List&lt;String&gt; doSomething(int a){\r\n    //Do something\r\n    return list;\r\n}\r\n```\r\n\r\nSpringbootApplication:\r\n```\r\n@SpringBootApplication\r\n@EnableAsync\r\npublic class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Test.class, args);\r\n\t}\r\n\r\n}\r\n```\r\nAsync config:\r\n```\r\n@Configuration\r\n@EnableAsync\r\npublic class AsyncConfig {\r\n\r\n    @Bean(name =&quot;taskExecutor&quot;)\r\n    public Executor taskExecutor(){\r\n        ThreadPoolTaskExecutor executor=new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(2);\r\n        executor.setMaxPoolSize(2);\r\n        executor.setQueueCapacity(100);\r\n        executor.setThreadNamePrefix(&quot;userThread-&quot;);\r\n        executor.initialize();\r\n        return executor;\r\n    }\r\n}\r\n```\r\nController:\r\n```\r\n@RestController\r\npublic class Controller{\r\n    \r\n    @Autowired\r\n    private Service service;\r\n\r\n    @GetMapping(&quot;test&quot;)\r\n    public List&lt;String&gt; getAll(){\r\n        return service.doSomething(1);\r\n    }\r\n}\r\n```\r\nWhen I hit this get request from postman it is showing up blank in the response. I understand that my call is going asynchronously and the response is coming back even before the my method is called. Is there any way to see this response by changing some settings in either my postman or spring boot application","title":"Getting data back from @Async function call","body":"<p>Hi I am new to multithreading in java. Can someone please help me with this:<br><br>\nMy service:</p>\n<pre><code>@Async\npublic List&lt;String&gt; doSomething(int a){\n    //Do something\n    return list;\n}\n</code></pre>\n<p>SpringbootApplication:</p>\n<pre><code>@SpringBootApplication\n@EnableAsync\npublic class Test {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Test.class, args);\n    }\n\n}\n</code></pre>\n<p>Async config:</p>\n<pre><code>@Configuration\n@EnableAsync\npublic class AsyncConfig {\n\n    @Bean(name =&quot;taskExecutor&quot;)\n    public Executor taskExecutor(){\n        ThreadPoolTaskExecutor executor=new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(2);\n        executor.setMaxPoolSize(2);\n        executor.setQueueCapacity(100);\n        executor.setThreadNamePrefix(&quot;userThread-&quot;);\n        executor.initialize();\n        return executor;\n    }\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@RestController\npublic class Controller{\n    \n    @Autowired\n    private Service service;\n\n    @GetMapping(&quot;test&quot;)\n    public List&lt;String&gt; getAll(){\n        return service.doSomething(1);\n    }\n}\n</code></pre>\n<p>When I hit this get request from postman it is showing up blank in the response. I understand that my call is going asynchronously and the response is coming back even before the my method is called. Is there any way to see this response by changing some settings in either my postman or spring boot application</p>\n"},{"tags":["java","parsing","bison","jflex"],"comments":[{"owner":{"account_id":50123,"reputation":365443,"user_id":149392,"display_name":"sepp2k"},"score":0,"creation_date":1650123391,"post_id":71895140,"comment_id":127044511,"body_markdown":"I&#39;m not very familiar with Bison&#39;s Java support or with JFlex, but it looks like your JFlex rule for `SYMBOL_PLUS` does not set whatever JFlex&#39;s equivalent of `yylval` is.","body":"I&#39;m not very familiar with Bison&#39;s Java support or with JFlex, but it looks like your JFlex rule for <code>SYMBOL_PLUS</code> does not set whatever JFlex&#39;s equivalent of <code>yylval</code> is."},{"owner":{"account_id":21199577,"reputation":51,"user_id":15590483,"display_name":"izash"},"score":0,"creation_date":1650125431,"post_id":71895140,"comment_id":127044943,"body_markdown":"@sepp2k do you know how i can set that yylval value? I tried the stuff at https://jflex.de/manual.html under &quot;JFlex and BYacc/J&quot; but it doesn&#39;t seem to compile","body":"@sepp2k do you know how i can set that yylval value? I tried the stuff at <a href=\"https://jflex.de/manual.html\" rel=\"nofollow noreferrer\">jflex.de/manual.html</a> under &quot;JFlex and BYacc/J&quot; but it doesn&#39;t seem to compile"},{"owner":{"account_id":1707439,"reputation":236096,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":0,"creation_date":1650131155,"post_id":71895140,"comment_id":127046149,"body_markdown":"You need to implement [the lexer&#39;s `getLVal` method](https://www.gnu.org/software/bison/manual/bison.html#index-getLVal-on-Lexer), which returns the semantic value of the current token.","body":"You need to implement <a href=\"https://www.gnu.org/software/bison/manual/bison.html#index-getLVal-on-Lexer\" rel=\"nofollow noreferrer\">the lexer&#39;s <code>getLVal</code> method</a>, which returns the semantic value of the current token."}],"owner":{"account_id":21199577,"reputation":51,"user_id":15590483,"display_name":"izash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650131182,"creation_date":1650122581,"question_id":71895140,"body_markdown":"When I have an abstract syntax tree in the Java Bison (.y) file with this:\r\n\r\n    string_op:\r\n      SYMBOL_PLUS { $$ = $1; System.out.println(&quot;this should print + here: &quot; + $$);}\r\n      | SYMBOL_DOUBLEEQ\r\n      | SYMBOL_NOTEQ;\r\n\r\nI would expect it to print &quot;this should print + here:+&quot; whenever the parser comes across the + token (i.e. SYMBOL_PLUS). However, I always get &quot;this should print + here:null&quot;.\r\n\r\nI have already used the %type declarations and everything. \r\n\r\n    %nterm &lt;String&gt; string_op\r\n    \r\n    %type&lt;String&gt; SYMBOL_PLUS\r\n    %type&lt;String&gt; RESERVED_BOOL\r\n    %type&lt;String&gt; RESERVED_STRING\r\n    %type&lt;String&gt; RESERVED_INT\r\n    %type&lt;String&gt; IDENTIFIER\r\n    %type&lt;String&gt; SYMBOL_DOUBLEEQ\r\n    %type&lt;String&gt; SYMBOL_NOTEQ\r\n\r\nIt still gives the error. There is a massive lack of good, understandable, and clear documentation for java bison so it&#39;s really frustrating. Please let me know if you can fix this issue. I&#39;ve been on it for days.\r\n\r\n","title":"Why does my $1 operation not work with Java Bison?","body":"<p>When I have an abstract syntax tree in the Java Bison (.y) file with this:</p>\n<pre><code>string_op:\n  SYMBOL_PLUS { $$ = $1; System.out.println(&quot;this should print + here: &quot; + $$);}\n  | SYMBOL_DOUBLEEQ\n  | SYMBOL_NOTEQ;\n</code></pre>\n<p>I would expect it to print &quot;this should print + here:+&quot; whenever the parser comes across the + token (i.e. SYMBOL_PLUS). However, I always get &quot;this should print + here:null&quot;.</p>\n<p>I have already used the %type declarations and everything.</p>\n<pre><code>%nterm &lt;String&gt; string_op\n\n%type&lt;String&gt; SYMBOL_PLUS\n%type&lt;String&gt; RESERVED_BOOL\n%type&lt;String&gt; RESERVED_STRING\n%type&lt;String&gt; RESERVED_INT\n%type&lt;String&gt; IDENTIFIER\n%type&lt;String&gt; SYMBOL_DOUBLEEQ\n%type&lt;String&gt; SYMBOL_NOTEQ\n</code></pre>\n<p>It still gives the error. There is a massive lack of good, understandable, and clear documentation for java bison so it's really frustrating. Please let me know if you can fix this issue. I've been on it for days.</p>\n"},{"tags":["java","bufferedreader"],"answers":[{"tags":[],"owner":{"account_id":8273270,"reputation":652,"user_id":6220331,"display_name":"Austin Poole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650130736,"creation_date":1650130736,"answer_id":71896110,"question_id":71895878,"body_markdown":"I ran your code locally.\r\n\r\n 1. &quot;hello world&quot; has 11 characters. You have to include the white space between hello and world.\r\n 2. I&#39;m assuming you have a white space after &quot;world&quot; on that same line and that&#39;s why you are seeing 12 instead of 11.\r\n 3. You may want to refactor how you are doing your code just a bit. Specifically not opening the same file twice because its inefficient and you should close your BufferedReader inside the finally block of a [try/catch/finally][1] or use [try with resources][2]. This is to avoid potential memory leaks that are caused by not properly closing a stream because an exception may have been thrown.\r\n\r\nIf you are looking to only count alpha or alphanumeric characters then checkout [java.lang.Character#isLetterOrDigit(char ch)][3]\r\n\r\ntldr; Here&#39;s the simple fix. Just add this if statement when reading the characters\r\n\r\n    while (( c= inBuf2.read()) != -1) {\r\n       if(Character.isLetter(c))\r\n       charcount++; /*counts the number of characters read*/\r\n    }\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/java_try_catch.asp\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#isLetterOrDigit(char)","title":"java - Buffered Reader character count","body":"<p>I ran your code locally.</p>\n<ol>\n<li>&quot;hello world&quot; has 11 characters. You have to include the white space between hello and world.</li>\n<li>I'm assuming you have a white space after &quot;world&quot; on that same line and that's why you are seeing 12 instead of 11.</li>\n<li>You may want to refactor how you are doing your code just a bit. Specifically not opening the same file twice because its inefficient and you should close your BufferedReader inside the finally block of a <a href=\"https://www.w3schools.com/java/java_try_catch.asp\" rel=\"nofollow noreferrer\">try/catch/finally</a> or use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try with resources</a>. This is to avoid potential memory leaks that are caused by not properly closing a stream because an exception may have been thrown.</li>\n</ol>\n<p>If you are looking to only count alpha or alphanumeric characters then checkout <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#isLetterOrDigit(char)\" rel=\"nofollow noreferrer\">java.lang.Character#isLetterOrDigit(char ch)</a></p>\n<p>tldr; Here's the simple fix. Just add this if statement when reading the characters</p>\n<pre><code>while (( c= inBuf2.read()) != -1) {\n   if(Character.isLetter(c))\n   charcount++; /*counts the number of characters read*/\n}\n</code></pre>\n"}],"owner":{"account_id":23473209,"reputation":59,"user_id":17526384,"display_name":"Cik02"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71896110,"answer_count":1,"score":1,"last_activity_date":1650130736,"creation_date":1650128745,"question_id":71895878,"body_markdown":"I am fairly new to Java and coding in general. In the below program, this is set to read the number of lines in a file and the number of characters. \r\n\r\nWhile it gives the correct number of lines, I get more characters than present in my .txt file, so i assume it is also reading the new line characters.\r\nAs an example, in a test file with the text:\r\n&quot;hello\r\nworld&quot;\r\nit will read the character count as 12 instead of 10.\r\n\r\nAny advice on how I would get my program to read only the characters and not the new line character also?\r\n\r\n\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    \r\n    import javax.swing.JOptionPane;\r\n    \r\n    public class ReadFile \r\n    {\r\n    \t public static void main(String[] args) \r\n    \t {\r\n    \t\t try {  /*define block of code to test for errors while it is being executed*/\r\n    \t\t\t String inName = JOptionPane.showInputDialog(&quot;Please enter the input file name here&quot;);\r\n    \t\t\t int linecount = 0, charcount = 0;\r\n    \t\t\t\r\n    \t\t\t \r\n    \t\t\t /*open the input file*/\r\n    \t\t\t BufferedReader inBuf = new BufferedReader (new FileReader (inName)); /*Initializes buffered reader*/\r\n    \t\t\t \r\n    \t\t\t while ((inBuf.readLine()) !=null) { /*reads the contents of the file, line by line*/\r\n    \t\t\t\t linecount++; /*counts the number of lines read*/\r\n    \t\t\t }\r\n    \t\t\t \r\n    \t\t\t inBuf.close(); /*closes input file*/\r\n    \t\t\t \r\n    \t\t\t \r\n    \t\t\t BufferedReader inBuf2 = new BufferedReader (new FileReader (inName));\r\n    \t\t\t while ((inBuf2.read()) != -1) {\r\n    \t\t\t\t charcount++; /*counts the number of characters read*/\r\n    \t\t\t }\r\n    \t\t\t \r\n    \t\t\t /*closes input file*/\r\n    \t\t\t inBuf2.close();\r\n    \t\t\t \r\n    \t\t\t /*Displays the number of lines and characters read*/\r\n    \t\t\t JOptionPane.showMessageDialog(null, &quot;Number of lines in this file is: &quot; + linecount);\r\n    \t\t\t JOptionPane.showMessageDialog(null, &quot;Number of characters in this file is: &quot; + charcount);\r\n    \t\t\t \r\n    \t\t }\r\n    \t\t /*catch that allows code to be executed if error occurs*/\r\n    \t\t catch (FileNotFoundException f) {\r\n    \t\t\t JOptionPane.showMessageDialog(null, &quot;File cannot be found! Details:\\n&quot; + f);\r\n    \t\t }\r\n    \t\t catch (IOException a) {\r\n    \t\t\t JOptionPane.showMessageDialog(null, &quot;An error has occured when reading this file! Details:\\n&quot; + a);\r\n    \t\t }\r\n    \t\t \r\n    \t\t System.exit(0); /*exits system*/\r\n    \t }\r\n    }\r\n\r\n","title":"java - Buffered Reader character count","body":"<p>I am fairly new to Java and coding in general. In the below program, this is set to read the number of lines in a file and the number of characters.</p>\n<p>While it gives the correct number of lines, I get more characters than present in my .txt file, so i assume it is also reading the new line characters.\nAs an example, in a test file with the text:\n&quot;hello\nworld&quot;\nit will read the character count as 12 instead of 10.</p>\n<p>Any advice on how I would get my program to read only the characters and not the new line character also?</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\n\nimport javax.swing.JOptionPane;\n\npublic class ReadFile \n{\n     public static void main(String[] args) \n     {\n         try {  /*define block of code to test for errors while it is being executed*/\n             String inName = JOptionPane.showInputDialog(&quot;Please enter the input file name here&quot;);\n             int linecount = 0, charcount = 0;\n            \n             \n             /*open the input file*/\n             BufferedReader inBuf = new BufferedReader (new FileReader (inName)); /*Initializes buffered reader*/\n             \n             while ((inBuf.readLine()) !=null) { /*reads the contents of the file, line by line*/\n                 linecount++; /*counts the number of lines read*/\n             }\n             \n             inBuf.close(); /*closes input file*/\n             \n             \n             BufferedReader inBuf2 = new BufferedReader (new FileReader (inName));\n             while ((inBuf2.read()) != -1) {\n                 charcount++; /*counts the number of characters read*/\n             }\n             \n             /*closes input file*/\n             inBuf2.close();\n             \n             /*Displays the number of lines and characters read*/\n             JOptionPane.showMessageDialog(null, &quot;Number of lines in this file is: &quot; + linecount);\n             JOptionPane.showMessageDialog(null, &quot;Number of characters in this file is: &quot; + charcount);\n             \n         }\n         /*catch that allows code to be executed if error occurs*/\n         catch (FileNotFoundException f) {\n             JOptionPane.showMessageDialog(null, &quot;File cannot be found! Details:\\n&quot; + f);\n         }\n         catch (IOException a) {\n             JOptionPane.showMessageDialog(null, &quot;An error has occured when reading this file! Details:\\n&quot; + a);\n         }\n         \n         System.exit(0); /*exits system*/\n     }\n}\n</code></pre>\n"},{"tags":["java","oop","user-interface"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":2,"creation_date":1649376529,"post_id":71790076,"comment_id":126866278,"body_markdown":"To answer your question, no, a GUI is not required, you could do this in the console/terminal with a monospaced font","body":"To answer your question, no, a GUI is not required, you could do this in the console/terminal with a monospaced font"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1649376534,"post_id":71790076,"comment_id":126866282,"body_markdown":"No, a GUI is not necessary to create a model for the program, and in fact shouldn&#39;t be used. The model could be a simple 4x4 grid of logical (non-GUI) objects. The GUI is mainly  used to 1) display the state of the model and to 2) get input from the user.","body":"No, a GUI is not necessary to create a model for the program, and in fact shouldn&#39;t be used. The model could be a simple 4x4 grid of logical (non-GUI) objects. The GUI is mainly  used to 1) display the state of the model and to 2) get input from the user."},{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":0,"creation_date":1650137778,"post_id":71790076,"comment_id":127047441,"body_markdown":"You write that `I am meant to create a game in Java` - the only one who can answer **exactly** what you are meant to use to create that game is the one that asked you to create it! We may tell you that you *can* implement games without GUIs - but that cannot answer whether you *should*","body":"You write that <code>I am meant to create a game in Java</code> - the only one who can answer <b>exactly</b> what you are meant to use to create that game is the one that asked you to create it! We may tell you that you <i>can</i> implement games without GUIs - but that cannot answer whether you <i>should</i>"}],"answers":[{"tags":[],"owner":{"account_id":4489328,"reputation":1049,"user_id":3650859,"display_name":"Nano"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650130548,"creation_date":1649381689,"answer_id":71790718,"question_id":71790076,"body_markdown":"You can use `System.out.println(&quot;...&quot;)` to print out the info to the terminal. You can just put everything in a `String` and print it out. You&#39;ll be able to see each time you make a move and see previous moves and add in more verbose info if you want. Assuming your grid is in an `Arraylist grid`, the following code should help you see how it can work.\r\n```java\r\nfor (Row row: grid){\r\n    String str = &quot;&quot;;\r\n    for(Square square:row){\r\n        str += square;\r\n    }\r\n    System.out.println(str);\r\n}\r\n```\r\n\r\nYou can use the [Java Scanner][1] to grab input from the user instead of buttons.\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/java_user_input.asp","title":"Modeling a 4x4 Grid for Simple Game Using Looped ArrayLists in Java","body":"<p>You can use <code>System.out.println(&quot;...&quot;)</code> to print out the info to the terminal. You can just put everything in a <code>String</code> and print it out. You'll be able to see each time you make a move and see previous moves and add in more verbose info if you want. Assuming your grid is in an <code>Arraylist grid</code>, the following code should help you see how it can work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (Row row: grid){\n    String str = &quot;&quot;;\n    for(Square square:row){\n        str += square;\n    }\n    System.out.println(str);\n}\n</code></pre>\n<p>You can use the <a href=\"https://www.w3schools.com/java/java_user_input.asp\" rel=\"nofollow noreferrer\">Java Scanner</a> to grab input from the user instead of buttons.</p>\n"}],"owner":{"account_id":24851981,"reputation":1,"user_id":18728795,"display_name":"nadiaellebeans"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650130548,"creation_date":1649374614,"question_id":71790076,"body_markdown":"I am meant to create a game in Java that specifically uses looping Arraylists to create a 4x4 grid. I have a **Grid class**, made up of an ArrayList of 4 Rows, a **Row Class** made up of an ArrayList of Squares, and **Squares Class**. As well as other classes of objects, such as a hero and various enemies that will move to a random adjacent spot on the grid or &quot;board&quot; on each new turn.\r\n\r\nI have methods in place to randomly assign starting positions, to find all possible adjacent positions and then select a random position out of those possible positions, etc.\r\n\r\n The end product should look similar to this:  \r\n\r\n[![Printed Grid][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QgP4J.png\r\n\r\n\r\nIs a GUI necessary or is there a much more primitive, simple way to model to the user the &#39;Grid&#39; with the objects in their current containers?","title":"Modeling a 4x4 Grid for Simple Game Using Looped ArrayLists in Java","body":"<p>I am meant to create a game in Java that specifically uses looping Arraylists to create a 4x4 grid. I have a <strong>Grid class</strong>, made up of an ArrayList of 4 Rows, a <strong>Row Class</strong> made up of an ArrayList of Squares, and <strong>Squares Class</strong>. As well as other classes of objects, such as a hero and various enemies that will move to a random adjacent spot on the grid or &quot;board&quot; on each new turn.</p>\n<p>I have methods in place to randomly assign starting positions, to find all possible adjacent positions and then select a random position out of those possible positions, etc.</p>\n<p>The end product should look similar to this:</p>\n<p><a href=\"https://i.stack.imgur.com/QgP4J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QgP4J.png\" alt=\"Printed Grid\" /></a></p>\n<p>Is a GUI necessary or is there a much more primitive, simple way to model to the user the 'Grid' with the objects in their current containers?</p>\n"},{"tags":["java","processing"],"answers":[{"tags":[],"owner":{"account_id":20361869,"reputation":2962,"user_id":14936001,"display_name":"cSharp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649900062,"creation_date":1649900062,"answer_id":71865501,"question_id":71857450,"body_markdown":"You were setting the brightness wrong. \r\n\r\nIn your code, you use:\r\n```\r\nfloat adjustBrightness = map(height, 0, width, 0, 8); \r\n```\r\n\r\nYou are mapping `height` which is the height of the canvas size from `0~width` to `0~8`. Since the canvas size never changes, the value of `adjustBrightness` also **never changes**. That is why it suddenly becomes bright once in the beginning, then never change.\r\n\r\nI&#39;ve edited that part of the code to below (and other changes to make it work):\r\n```\r\n//declared globally\r\nint sliderStartX = 155;\r\n\r\n...\r\n\r\nSlider slider = myUI.addSlider(&quot;greys&quot;, sliderStartX, 885);\r\n\r\n...\r\n\r\nfloat adjustBrightness = map(mouseX, sliderStartX, sliderStartX + 102, 0, 8);\r\n```\r\n\r\nI saved the x position of the left of slider in `sliderStartX`, and used that as the lower limit of the source range in `map`, and `102` is the width of the slider element that I found on `SimpleUI.pde`, hence `sliderStartX + 102` is the upper limit of the source range.\r\n\r\nSo now, you are mapping `mouseX` from this range to your desired range.\r\n\r\n**However**, this approach **does not utilize the slider AT ALL**. As you can see, we are only using slider&#39;s xpos and width. A more elegant approach would be to actually use the `sliderValue` inside the `Slider` instance, and map it from `0~1` (as `sliderValue` seems to be in that range, looking at the console) to your desired range `0~8`. I&#39;m not familiar at all with this `SimpleUI` library, so I couldn&#39;t really get the time to study it and make that part of it work.\r\n\r\nHope this helps you in writing the code you need!","title":"Adding a brightness slider in processing 3.5.4, that changes brightness of the image that user loads","body":"<p>You were setting the brightness wrong.</p>\n<p>In your code, you use:</p>\n<pre><code>float adjustBrightness = map(height, 0, width, 0, 8); \n</code></pre>\n<p>You are mapping <code>height</code> which is the height of the canvas size from <code>0~width</code> to <code>0~8</code>. Since the canvas size never changes, the value of <code>adjustBrightness</code> also <strong>never changes</strong>. That is why it suddenly becomes bright once in the beginning, then never change.</p>\n<p>I've edited that part of the code to below (and other changes to make it work):</p>\n<pre><code>//declared globally\nint sliderStartX = 155;\n\n...\n\nSlider slider = myUI.addSlider(&quot;greys&quot;, sliderStartX, 885);\n\n...\n\nfloat adjustBrightness = map(mouseX, sliderStartX, sliderStartX + 102, 0, 8);\n</code></pre>\n<p>I saved the x position of the left of slider in <code>sliderStartX</code>, and used that as the lower limit of the source range in <code>map</code>, and <code>102</code> is the width of the slider element that I found on <code>SimpleUI.pde</code>, hence <code>sliderStartX + 102</code> is the upper limit of the source range.</p>\n<p>So now, you are mapping <code>mouseX</code> from this range to your desired range.</p>\n<p><strong>However</strong>, this approach <strong>does not utilize the slider AT ALL</strong>. As you can see, we are only using slider's xpos and width. A more elegant approach would be to actually use the <code>sliderValue</code> inside the <code>Slider</code> instance, and map it from <code>0~1</code> (as <code>sliderValue</code> seems to be in that range, looking at the console) to your desired range <code>0~8</code>. I'm not familiar at all with this <code>SimpleUI</code> library, so I couldn't really get the time to study it and make that part of it work.</p>\n<p>Hope this helps you in writing the code you need!</p>\n"}],"owner":{"account_id":23891147,"reputation":33,"user_id":17890787,"display_name":"Muhammad_786"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71865501,"answer_count":1,"score":0,"last_activity_date":1650130258,"creation_date":1649852663,"question_id":71857450,"body_markdown":"I was basically trying to use a slider that would change the brightness of any image that the user loads.\r\n\r\nThe code below at the moment has a slider and a button that loads the image. What I want is once the image has been loaded using the load button, if the user slides the slider up and down to change the brightness of the image.\r\n\r\nThere is another file connected to the current file, but I am not able to send that one as it is too big\r\n\r\nHere is the link for the whole file https://github.com/Muhammad-786/Test2\r\n\r\n\r\n  \r\n    PImage sourceImage;\r\n    PImage outputImage;\r\n\r\n    SimpleUI myUI;\r\n\r\n    void setup() {\r\n      size(1000, 1000);\r\n      myUI = new SimpleUI();\r\n      \r\n      Slider slider = myUI.addSlider(&quot;greys&quot;, 155, 885);\r\n      slider.setSliderValue(0.5);\r\n      myUI.addSimpleButton(&quot;Load file&quot;, 350,885);\r\n    }\r\n\r\n    void draw() {\r\n      loadPixels();\r\n\r\n      \r\n\r\n      updatePixels();\r\n      if( sourceImage != null ){\r\n        \r\n        image(sourceImage,100,50);\r\n       \r\n        \r\n      }\r\n      \r\n      if(outputImage != null){\r\n        \r\n        image(outputImage, 100, 50);\r\n      }\r\n      myUI.update();\r\n    }\r\n    void handleUIEvent(UIEventData uied) {\r\n      \r\n      uied.print(2);\r\n      \r\n        if(uied.eventIsFromWidget(&quot;Load file&quot;)){\r\n        myUI.openFileLoadDialog(&quot;Load an image&quot;);\r\n        \r\n      }\r\n      \r\n      \r\n      if(uied.eventIsFromWidget(&quot;fileLoadDialog&quot;)){\r\n        sourceImage = loadImage(uied.fileSelection);\r\n        \r\n      }\r\n\r\n      \r\n      if (uied.eventIsFromWidget(&quot;greys&quot;)) {\r\n        outputImage = SLIDER(sourceImage);\r\n      \r\n      }\r\n    }\r\n    PImage SLIDER(PImage sliderw){\r\n      PImage outputImage = createImage(sliderw.width,sliderw.height,RGB);\r\n     outputImage.loadPixels(); \r\n      for (int x = 0; x &lt; sliderw.width; x++ ) {\r\n        for (int y = 0; y &lt; sliderw.height; y++ ) {\r\n\r\n          \r\n          int loc = x + y*sliderw.width;\r\n\r\n          \r\n          float r = red  (sliderw.pixels[loc]);\r\n          float g = green(sliderw.pixels[loc]);\r\n          float b = blue (sliderw.pixels[loc]);\r\n\r\n          \r\n          float adjustBrightness = map(height, 0, width, 0, 8); \r\n          r *= adjustBrightness;\r\n          g *= adjustBrightness;\r\n          b *= adjustBrightness;\r\n\r\n          \r\n          r = constrain(r, 0, 255); \r\n          g = constrain(g, 0, 255);\r\n          b = constrain(b, 0, 255);\r\n\r\n          \r\n          color c = color(r, g, b);\r\n          pixels[loc] = c;\r\n          \r\n          outputImage.set(x,y, color(r,g, b));\r\n        }\r\n      }\r\n       outputImage.loadPixels();\r\n      \r\n      return outputImage;\r\n      }\r\n\r\n\r\n","title":"Adding a brightness slider in processing 3.5.4, that changes brightness of the image that user loads","body":"<p>I was basically trying to use a slider that would change the brightness of any image that the user loads.</p>\n<p>The code below at the moment has a slider and a button that loads the image. What I want is once the image has been loaded using the load button, if the user slides the slider up and down to change the brightness of the image.</p>\n<p>There is another file connected to the current file, but I am not able to send that one as it is too big</p>\n<p>Here is the link for the whole file <a href=\"https://github.com/Muhammad-786/Test2\" rel=\"nofollow noreferrer\">https://github.com/Muhammad-786/Test2</a></p>\n<pre><code>PImage sourceImage;\nPImage outputImage;\n\nSimpleUI myUI;\n\nvoid setup() {\n  size(1000, 1000);\n  myUI = new SimpleUI();\n  \n  Slider slider = myUI.addSlider(&quot;greys&quot;, 155, 885);\n  slider.setSliderValue(0.5);\n  myUI.addSimpleButton(&quot;Load file&quot;, 350,885);\n}\n\nvoid draw() {\n  loadPixels();\n\n  \n\n  updatePixels();\n  if( sourceImage != null ){\n    \n    image(sourceImage,100,50);\n   \n    \n  }\n  \n  if(outputImage != null){\n    \n    image(outputImage, 100, 50);\n  }\n  myUI.update();\n}\nvoid handleUIEvent(UIEventData uied) {\n  \n  uied.print(2);\n  \n    if(uied.eventIsFromWidget(&quot;Load file&quot;)){\n    myUI.openFileLoadDialog(&quot;Load an image&quot;);\n    \n  }\n  \n  \n  if(uied.eventIsFromWidget(&quot;fileLoadDialog&quot;)){\n    sourceImage = loadImage(uied.fileSelection);\n    \n  }\n\n  \n  if (uied.eventIsFromWidget(&quot;greys&quot;)) {\n    outputImage = SLIDER(sourceImage);\n  \n  }\n}\nPImage SLIDER(PImage sliderw){\n  PImage outputImage = createImage(sliderw.width,sliderw.height,RGB);\n outputImage.loadPixels(); \n  for (int x = 0; x &lt; sliderw.width; x++ ) {\n    for (int y = 0; y &lt; sliderw.height; y++ ) {\n\n      \n      int loc = x + y*sliderw.width;\n\n      \n      float r = red  (sliderw.pixels[loc]);\n      float g = green(sliderw.pixels[loc]);\n      float b = blue (sliderw.pixels[loc]);\n\n      \n      float adjustBrightness = map(height, 0, width, 0, 8); \n      r *= adjustBrightness;\n      g *= adjustBrightness;\n      b *= adjustBrightness;\n\n      \n      r = constrain(r, 0, 255); \n      g = constrain(g, 0, 255);\n      b = constrain(b, 0, 255);\n\n      \n      color c = color(r, g, b);\n      pixels[loc] = c;\n      \n      outputImage.set(x,y, color(r,g, b));\n    }\n  }\n   outputImage.loadPixels();\n  \n  return outputImage;\n  }\n</code></pre>\n"},{"tags":["java","spring-boot","image"],"comments":[{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1650088094,"post_id":71889095,"comment_id":127038341,"body_markdown":"what exception is thrown, can you share complete stacktrace?","body":"what exception is thrown, can you share complete stacktrace?"},{"owner":{"account_id":19587917,"reputation":283,"user_id":14335620,"display_name":"ABpositive"},"score":0,"creation_date":1650128243,"post_id":71889095,"comment_id":127045520,"body_markdown":"@swapyonubuntu i managed to actually debug now, post is updated with error","body":"@swapyonubuntu i managed to actually debug now, post is updated with error"},{"owner":{"account_id":1408815,"reputation":2002,"user_id":1811348,"accept_rate":88,"display_name":"swapyonubuntu"},"score":0,"creation_date":1650129630,"post_id":71889095,"comment_id":127045828,"body_markdown":"it seems error you are getting at controller level itself where spring cannot read given input body and deserialize it to java object itself. So writing to database which happens later is out of question, i think first you need to fix this","body":"it seems error you are getting at controller level itself where spring cannot read given input body and deserialize it to java object itself. So writing to database which happens later is out of question, i think first you need to fix this"}],"owner":{"account_id":19587917,"reputation":283,"user_id":14335620,"display_name":"ABpositive"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650129523,"creation_date":1650057996,"question_id":71889095,"body_markdown":"Im using Springboot and JPA.\r\n\r\nI&#39;m trying to insert an image as part of an entity by using `@LOB` and `byte[]` I remember seeing on a guide. Though I am uncertain of if / what other fields are requirements for image storage as I have not worked with them before.\r\n\r\n\r\nhere is the error thrown:\r\n```\r\nResolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `byte[]` from String &quot;http://localhost:3000/55c945ee-6c2b-4ac8-a09f-4535cda25f2a&quot;: Failed to decode VALUE_STRING as base64 (MIME-NO-LINEFEEDS): Illegal character &#39;:&#39; (code 0x3a) in base64 content; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `byte[]` from String &quot;http://localhost:3000/55c945ee-6c2b-4ac8-a09f-4535cda25f2a&quot;: Failed to decode VALUE_STRING as base64 (MIME-NO-LINEFEEDS): Illegal character &#39;:&#39; (code 0x3a) in base64 content&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 154] (through reference chain: com.bolton.demospringboot0903.Models.Item[&quot;image&quot;])]\r\n```\r\n\r\nhere is the class:\r\n```\r\n    @Id\r\n    @GeneratedValue\r\n    public Long id;\r\n    public String name;\r\n    public String description;\r\n    public Double price;\r\n    public LocalDate releaseDate;\r\n    public int score;\r\n    public Integer amount;\r\n    public Integer stockCount;\r\n\r\n    @Lob\r\n    @Column(length = Integer.MAX_VALUE, nullable = true)\r\n    public byte[] image;\r\n\r\n    @ManyToOne(targetEntity = Category.class)\r\n    @JoinTable(name = &quot;Item_category&quot;,\r\n            joinColumns = { @JoinColumn(name = &quot;item_id&quot;)},\r\n            inverseJoinColumns = { @JoinColumn(name = &quot;category_id&quot;)})\r\n    public Category category;\r\n```\r\n\r\nhere is the object I am passing:\r\n(I cant paste direct object because it wont copy image json it from chrome console)\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4MPfZ.png","title":"Sprintboot uploading image - Cannot deserialize value of type `byte[]`","body":"<p>Im using Springboot and JPA.</p>\n<p>I'm trying to insert an image as part of an entity by using <code>@LOB</code> and <code>byte[]</code> I remember seeing on a guide. Though I am uncertain of if / what other fields are requirements for image storage as I have not worked with them before.</p>\n<p>here is the error thrown:</p>\n<pre><code>Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `byte[]` from String &quot;http://localhost:3000/55c945ee-6c2b-4ac8-a09f-4535cda25f2a&quot;: Failed to decode VALUE_STRING as base64 (MIME-NO-LINEFEEDS): Illegal character ':' (code 0x3a) in base64 content; nested exception is com.fasterxml.jackson.databind.exc.InvalidFormatException: Cannot deserialize value of type `byte[]` from String &quot;http://localhost:3000/55c945ee-6c2b-4ac8-a09f-4535cda25f2a&quot;: Failed to decode VALUE_STRING as base64 (MIME-NO-LINEFEEDS): Illegal character ':' (code 0x3a) in base64 content&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 154] (through reference chain: com.bolton.demospringboot0903.Models.Item[&quot;image&quot;])]\n</code></pre>\n<p>here is the class:</p>\n<pre><code>    @Id\n    @GeneratedValue\n    public Long id;\n    public String name;\n    public String description;\n    public Double price;\n    public LocalDate releaseDate;\n    public int score;\n    public Integer amount;\n    public Integer stockCount;\n\n    @Lob\n    @Column(length = Integer.MAX_VALUE, nullable = true)\n    public byte[] image;\n\n    @ManyToOne(targetEntity = Category.class)\n    @JoinTable(name = &quot;Item_category&quot;,\n            joinColumns = { @JoinColumn(name = &quot;item_id&quot;)},\n            inverseJoinColumns = { @JoinColumn(name = &quot;category_id&quot;)})\n    public Category category;\n</code></pre>\n<p>here is the object I am passing:\n(I cant paste direct object because it wont copy image json it from chrome console)\n<a href=\"https://i.stack.imgur.com/4MPfZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4MPfZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-io"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1650066072,"post_id":71889680,"comment_id":127035751,"body_markdown":"This depends on what your “server” part is doing.  You may well be able to simply call a method directly, without the need for threads or pipes.","body":"This depends on what your “server” part is doing.  You may well be able to simply call a method directly, without the need for threads or pipes."},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1650068583,"post_id":71889680,"comment_id":127036077,"body_markdown":"When you say that the server is able to consume bytes &quot;at some arbitrary time,&quot; it&#39;s not clear that you understand if the server waits too long, the client won&#39;t be able to send any more data. There is a limited buffer between the two that will fill up, and the client will be blocked. Is that the behavior you want?","body":"When you say that the server is able to consume bytes &quot;at some arbitrary time,&quot; it&#39;s not clear that you understand if the server waits too long, the client won&#39;t be able to send any more data. There is a limited buffer between the two that will fill up, and the client will be blocked. Is that the behavior you want?"},{"owner":{"account_id":5904519,"reputation":1229,"user_id":4646803,"accept_rate":71,"display_name":"protasm"},"score":0,"creation_date":1650119834,"post_id":71889680,"comment_id":127043663,"body_markdown":"@erickson, thank you for this helpful comment -- I did not know that there is a finite buffer between client socket and server socket, although that makes complete sense.  So I think that refines my question to, how does the Sockets api implement this buffering behind the scenes?  Because I would like to explicitly recreate that system in a single program/JVM between two program components (probably running as two threads).","body":"@erickson, thank you for this helpful comment -- I did not know that there is a finite buffer between client socket and server socket, although that makes complete sense.  So I think that refines my question to, how does the Sockets api implement this buffering behind the scenes?  Because I would like to explicitly recreate that system in a single program/JVM between two program components (probably running as two threads)."}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650126532,"creation_date":1650067972,"answer_id":71890043,"question_id":71889680,"body_markdown":"This is mostly an extension of the answer @VGR gave in the comments.\r\n\r\nIf the entirety of your &quot;Network&quot; exists within the same, single JVM, then you don&#39;t need anything like sockets at all - you can just use Objects and methods.\r\n\r\nThe entire point of Sockets was to allow the JVM to perform actions outside of itself (typically with another JVM somewhere in the outside world).\r\n\r\nSo unless you are trying to interact with objects outside of your current JVM, it is as simple as this.\r\n\r\n```\r\npublic class ClientServerExample\r\n{\r\n\r\n   public static void main(String[] args)\r\n   {\r\n   \r\n      Server server = new Server();\r\n      Client client = new Client();\r\n      \r\n      client.sendMessage(&quot;Hello Server&quot;, server);\r\n   \r\n   }\r\n   \r\n   static class Server\r\n   {\r\n   \r\n      String respond(String input)\r\n      {\r\n      \r\n         String output = &quot;&quot;;\r\n         \r\n         System.out.println(&quot;Server received the following message -- {&quot; + input + &quot;}&quot;);\r\n         \r\n         //do something\r\n         \r\n         return output;\r\n      \r\n      }\r\n   \r\n   }\r\n   \r\n   static class Client\r\n   {\r\n   \r\n      void sendMessage(String message, Server server)\r\n      {\r\n      \r\n         System.out.println(&quot;Client is about to send the following message to the server -- {&quot; + message + &quot;}&quot;);\r\n      \r\n         String response = server.respond(message);\r\n         \r\n         System.out.println(&quot;Client received the following response from the server -- {&quot; + response + &quot;}&quot;);\r\n      \r\n         //maybe do stuff with the response\r\n      \r\n      }\r\n   \r\n   }\r\n\r\n}\r\n```\r\n\r\nHere is the result from running it.\r\n\r\n```\r\nClient is about to send the following message to the server -- {Hello Server}\r\nServer received the following message -- {Hello Server}\r\nClient received the following response from the server -- {}\r\n```\r\n\r\nNote that `server` doesn&#39;t return anything because I didn&#39;t do anything in the server. Replace that comment with some code of your own and you will see the results.\r\n\r\n**EDIT** - to better explain a real world example, where a server will respond to requests in FIFO, here is a modified version of the above example.\r\n\r\n```\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\npublic class ClientServerExample\r\n{\r\n\r\n   public static void main(String[] args)\r\n   {\r\n   \r\n      System.out.println(&quot;===========STARTING SYNCHRONOUS COMMUNICATION============&quot;);\r\n      synchronousCommunication();\r\n      System.out.println(&quot;===========FINISHED SYNCHRONOUS COMMUNICATION============&quot;);\r\n   \r\n      System.out.println(&quot;===========STARTING ASYNCHRONOUS COMMUNICATION============&quot;);\r\n      asynchronousCommunication();\r\n      System.out.println(&quot;===========FINISHED ASYNCHRONOUS COMMUNICATION============&quot;);\r\n   \r\n   }\r\n   \r\n   public static void synchronousCommunication()\r\n   {\r\n   \r\n      Server server = new Server();\r\n      Client client = new Client();\r\n   \r\n      String response = &quot;&quot;;\r\n   \r\n      response = client.sendMessage(&quot;Good morning Server!&quot;, server).join();\r\n      \r\n      System.out.println(&quot;Client received the following response from the server -- {&quot; + response + &quot;}&quot;);\r\n      \r\n      response = client.sendMessage(&quot;Good evening Server!&quot;, server).join();\r\n   \r\n      System.out.println(&quot;Client received the following response from the server -- {&quot; + response + &quot;}&quot;);\r\n   \r\n   }\r\n   \r\n   public static void asynchronousCommunication()\r\n   {\r\n   \r\n      Server server = new Server();\r\n      Client client = new Client();\r\n   \r\n      List&lt;CompletableFuture&lt;String&gt;&gt; responses = new ArrayList&lt;&gt;();\r\n   \r\n      responses.add(client.sendMessage(&quot;Good morning Server!&quot;, server));\r\n      responses.add(client.sendMessage(&quot;Good evening Server!&quot;, server));\r\n   \r\n      for (CompletableFuture&lt;String&gt; eachResponse : responses)\r\n      {\r\n      \r\n         System.out.println(&quot;Client received the following response from the server -- {&quot; + eachResponse.join() + &quot;}&quot;);\r\n      \r\n      }\r\n   \r\n   \r\n   }\r\n   \r\n   static class Server\r\n   {\r\n   \r\n      CompletableFuture&lt;String&gt; respond(final String input)\r\n      {\r\n      \r\n         System.out.println(&quot;Server received the following message -- {&quot; + input + &quot;}&quot;);\r\n         \r\n         return \r\n            CompletableFuture.supplyAsync(\r\n               () -&gt; \r\n               {\r\n               \r\n                  try\r\n                  {\r\n                  \r\n                  //sleep for 2 seconds, to represent arbitrary delay in receiver processing\r\n                     Thread.sleep(2000);\r\n                  \r\n                     return input.contains(&quot;morning&quot;) ? &quot;Good morning to you too!&quot; : &quot;Good evening to you too!&quot;;\r\n                  \r\n                  }\r\n                  \r\n                  catch (Exception e)\r\n                  {\r\n                  \r\n                     throw new IllegalStateException(&quot;What happened?&quot;, e);\r\n                  \r\n                  }\r\n               \r\n               });\r\n      \r\n      }\r\n   \r\n   }\r\n   \r\n   static class Client\r\n   {\r\n   \r\n      CompletableFuture&lt;String&gt; sendMessage(String message, Server server)\r\n      {\r\n      \r\n         System.out.println(&quot;Client is about to send the following message to the server -- {&quot; + message + &quot;}&quot;);\r\n      \r\n         return server.respond(message);\r\n         \r\n      }\r\n   \r\n   }\r\n\r\n}\r\n```\r\n\r\nBoth of these examples are performing a FIFO approach to data processing. They receive the request, calculate a response, and then send back a `CompletableFuture`, which is basically an Object that contains the response that will arrive once the `Server` gets around to it, sort of like a `Promise` in Javascript.\r\n\r\nFor the synchronous example, we see that a client message is sent, and then processed before the next one is sent. As a result, we have a minor delay between the 2 (about 2 seconds).\r\n\r\nFor the asynchronous example, we see that both client messages are sent, and their `CompletableFuture`s are put into a batch list, which is converted to normal strings once all requests have been sent.\r\n\r\nThe synchronous example takes around 10 seconds.\r\nThe asynchronous example takes around 5 seconds.\r\n\r\nBoth of these are different ways of performing FIFO in the way that you described. They both are examples where multiple clients send a request to the server, and then the server finishes them when they get around to it. That 5 seconds delay is meant to represent the idea of &quot;getting around to it&quot;. In reality, getting around to it usually means that the server has so much on it&#39;s plate that it will take a long time before it has a chance to give a full response.\r\n\r\nLet me know if you need another example to better help you understand.","title":"How to stream data from one part of a Java program to another?","body":"<p>This is mostly an extension of the answer @VGR gave in the comments.</p>\n<p>If the entirety of your &quot;Network&quot; exists within the same, single JVM, then you don't need anything like sockets at all - you can just use Objects and methods.</p>\n<p>The entire point of Sockets was to allow the JVM to perform actions outside of itself (typically with another JVM somewhere in the outside world).</p>\n<p>So unless you are trying to interact with objects outside of your current JVM, it is as simple as this.</p>\n<pre><code>public class ClientServerExample\n{\n\n   public static void main(String[] args)\n   {\n   \n      Server server = new Server();\n      Client client = new Client();\n      \n      client.sendMessage(&quot;Hello Server&quot;, server);\n   \n   }\n   \n   static class Server\n   {\n   \n      String respond(String input)\n      {\n      \n         String output = &quot;&quot;;\n         \n         System.out.println(&quot;Server received the following message -- {&quot; + input + &quot;}&quot;);\n         \n         //do something\n         \n         return output;\n      \n      }\n   \n   }\n   \n   static class Client\n   {\n   \n      void sendMessage(String message, Server server)\n      {\n      \n         System.out.println(&quot;Client is about to send the following message to the server -- {&quot; + message + &quot;}&quot;);\n      \n         String response = server.respond(message);\n         \n         System.out.println(&quot;Client received the following response from the server -- {&quot; + response + &quot;}&quot;);\n      \n         //maybe do stuff with the response\n      \n      }\n   \n   }\n\n}\n</code></pre>\n<p>Here is the result from running it.</p>\n<pre><code>Client is about to send the following message to the server -- {Hello Server}\nServer received the following message -- {Hello Server}\nClient received the following response from the server -- {}\n</code></pre>\n<p>Note that <code>server</code> doesn't return anything because I didn't do anything in the server. Replace that comment with some code of your own and you will see the results.</p>\n<p><strong>EDIT</strong> - to better explain a real world example, where a server will respond to requests in FIFO, here is a modified version of the above example.</p>\n<pre><code>\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.CompletableFuture;\n\npublic class ClientServerExample\n{\n\n   public static void main(String[] args)\n   {\n   \n      System.out.println(&quot;===========STARTING SYNCHRONOUS COMMUNICATION============&quot;);\n      synchronousCommunication();\n      System.out.println(&quot;===========FINISHED SYNCHRONOUS COMMUNICATION============&quot;);\n   \n      System.out.println(&quot;===========STARTING ASYNCHRONOUS COMMUNICATION============&quot;);\n      asynchronousCommunication();\n      System.out.println(&quot;===========FINISHED ASYNCHRONOUS COMMUNICATION============&quot;);\n   \n   }\n   \n   public static void synchronousCommunication()\n   {\n   \n      Server server = new Server();\n      Client client = new Client();\n   \n      String response = &quot;&quot;;\n   \n      response = client.sendMessage(&quot;Good morning Server!&quot;, server).join();\n      \n      System.out.println(&quot;Client received the following response from the server -- {&quot; + response + &quot;}&quot;);\n      \n      response = client.sendMessage(&quot;Good evening Server!&quot;, server).join();\n   \n      System.out.println(&quot;Client received the following response from the server -- {&quot; + response + &quot;}&quot;);\n   \n   }\n   \n   public static void asynchronousCommunication()\n   {\n   \n      Server server = new Server();\n      Client client = new Client();\n   \n      List&lt;CompletableFuture&lt;String&gt;&gt; responses = new ArrayList&lt;&gt;();\n   \n      responses.add(client.sendMessage(&quot;Good morning Server!&quot;, server));\n      responses.add(client.sendMessage(&quot;Good evening Server!&quot;, server));\n   \n      for (CompletableFuture&lt;String&gt; eachResponse : responses)\n      {\n      \n         System.out.println(&quot;Client received the following response from the server -- {&quot; + eachResponse.join() + &quot;}&quot;);\n      \n      }\n   \n   \n   }\n   \n   static class Server\n   {\n   \n      CompletableFuture&lt;String&gt; respond(final String input)\n      {\n      \n         System.out.println(&quot;Server received the following message -- {&quot; + input + &quot;}&quot;);\n         \n         return \n            CompletableFuture.supplyAsync(\n               () -&gt; \n               {\n               \n                  try\n                  {\n                  \n                  //sleep for 2 seconds, to represent arbitrary delay in receiver processing\n                     Thread.sleep(2000);\n                  \n                     return input.contains(&quot;morning&quot;) ? &quot;Good morning to you too!&quot; : &quot;Good evening to you too!&quot;;\n                  \n                  }\n                  \n                  catch (Exception e)\n                  {\n                  \n                     throw new IllegalStateException(&quot;What happened?&quot;, e);\n                  \n                  }\n               \n               });\n      \n      }\n   \n   }\n   \n   static class Client\n   {\n   \n      CompletableFuture&lt;String&gt; sendMessage(String message, Server server)\n      {\n      \n         System.out.println(&quot;Client is about to send the following message to the server -- {&quot; + message + &quot;}&quot;);\n      \n         return server.respond(message);\n         \n      }\n   \n   }\n\n}\n</code></pre>\n<p>Both of these examples are performing a FIFO approach to data processing. They receive the request, calculate a response, and then send back a <code>CompletableFuture</code>, which is basically an Object that contains the response that will arrive once the <code>Server</code> gets around to it, sort of like a <code>Promise</code> in Javascript.</p>\n<p>For the synchronous example, we see that a client message is sent, and then processed before the next one is sent. As a result, we have a minor delay between the 2 (about 2 seconds).</p>\n<p>For the asynchronous example, we see that both client messages are sent, and their <code>CompletableFuture</code>s are put into a batch list, which is converted to normal strings once all requests have been sent.</p>\n<p>The synchronous example takes around 10 seconds.\nThe asynchronous example takes around 5 seconds.</p>\n<p>Both of these are different ways of performing FIFO in the way that you described. They both are examples where multiple clients send a request to the server, and then the server finishes them when they get around to it. That 5 seconds delay is meant to represent the idea of &quot;getting around to it&quot;. In reality, getting around to it usually means that the server has so much on it's plate that it will take a long time before it has a chance to give a full response.</p>\n<p>Let me know if you need another example to better help you understand.</p>\n"},{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650097411,"creation_date":1650097411,"answer_id":71892296,"question_id":71889680,"body_markdown":"Yes, you can use [`PipedInputStream`](https://docs.oracle.com/javase/9/docs/api/java/io/PipedInputStream.html)/[`PipedOutputStream`](https://docs.oracle.com/javase/9/docs/api/java/io/PipedOutputStream.html) for &quot;streaming&quot; data &quot;locally&quot; in your JVM. You create one `PipedInputStream` and one `PipedOutputStream` instance, connect them with the [`connect()`](https://docs.oracle.com/javase/9/docs/api/java/io/PipedInputStream.html#connect-java.io.PipedOutputStream-) method and start sending/receiving bytes. Check the following example:\r\n\r\n\tPipedInputStream pipedIn = new PipedInputStream();\r\n\tPipedOutputStream pipedOut = new PipedOutputStream();\r\n\tpipedIn.connect(pipedOut);\r\n\t\r\n\tThread keyboardReadingThread = new Thread() {\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tSystem.out.println(&quot;Enter some data:&quot;);\r\n\t\t\tScanner s = new Scanner(System.in);\r\n\t\t\tString line = s.nextLine();\r\n\t\t\tSystem.out.println(&quot;Entered line: &quot;+line);\r\n\t\t\tbyte[] bytes = line.getBytes(StandardCharsets.UTF_8);\r\n\t\t\ttry {\r\n\t\t\t\tpipedOut.write(bytes);\r\n\t\t\t\tpipedOut.flush();\r\n\t\t\t\tpipedOut.close();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Keyboard reading thread terminated&quot;);\r\n\t\t}\r\n\t};\r\n\tkeyboardReadingThread.start();\r\n\t\r\n\tThread streamReadingThread = new Thread() {\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\ttry {\r\n\t\t\t\tint bytesRead = 0;\r\n\t\t\t\tbyte[] targetBytes = new byte[100];\r\n\t\t\t\tSystem.out.println(&quot;Read data from the PipedInputStream instance&quot;);\r\n\t\t\t\twhile ((bytesRead = pipedIn.read(targetBytes)) != -1) {\r\n\t\t\t\t\tSystem.out.println(&quot;read &quot;+bytesRead+&quot; bytes&quot;);\r\n\t\t\t\t\tString s = new String(targetBytes, 0, bytesRead, StandardCharsets.UTF_8);\r\n\t\t\t\t\tSystem.out.println(&quot;Received string: &quot;+s);\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Streaming reading thread terminated&quot;);\r\n\t\t}\r\n\t};\r\n\tstreamReadingThread.start();\r\n\t\r\n\tkeyboardReadingThread.join();\r\n\tstreamReadingThread.join();\r\n\r\nFirst the two piped stream instances are connected. After that two threads will read from the keyboard and read from the `PipedInputStream` instance. When you run your application you will get an output similar to this (with `Some example input for testing` being the keyboard input):\r\n\r\n    Enter some data:\r\n    Read data from the PipedInputStream instance\r\n    Some example input for testing\r\n    Entered line: Some example input for testing\r\n    Keyboard reading thread terminated\r\n    read 30 bytes\r\n    Received string: Some example input for testing\r\n    Streaming reading thread terminated\r\n\r\nAlso notice that the threads are not synchronized in any way, so the `System.out.println()` statements might get executed in a different order.","title":"How to stream data from one part of a Java program to another?","body":"<p>Yes, you can use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/PipedInputStream.html\" rel=\"nofollow noreferrer\"><code>PipedInputStream</code></a>/<a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/PipedOutputStream.html\" rel=\"nofollow noreferrer\"><code>PipedOutputStream</code></a> for &quot;streaming&quot; data &quot;locally&quot; in your JVM. You create one <code>PipedInputStream</code> and one <code>PipedOutputStream</code> instance, connect them with the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/PipedInputStream.html#connect-java.io.PipedOutputStream-\" rel=\"nofollow noreferrer\"><code>connect()</code></a> method and start sending/receiving bytes. Check the following example:</p>\n<pre><code>PipedInputStream pipedIn = new PipedInputStream();\nPipedOutputStream pipedOut = new PipedOutputStream();\npipedIn.connect(pipedOut);\n\nThread keyboardReadingThread = new Thread() {\n    @Override\n    public void run() {\n        System.out.println(&quot;Enter some data:&quot;);\n        Scanner s = new Scanner(System.in);\n        String line = s.nextLine();\n        System.out.println(&quot;Entered line: &quot;+line);\n        byte[] bytes = line.getBytes(StandardCharsets.UTF_8);\n        try {\n            pipedOut.write(bytes);\n            pipedOut.flush();\n            pipedOut.close();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        System.out.println(&quot;Keyboard reading thread terminated&quot;);\n    }\n};\nkeyboardReadingThread.start();\n\nThread streamReadingThread = new Thread() {\n    @Override\n    public void run() {\n        try {\n            int bytesRead = 0;\n            byte[] targetBytes = new byte[100];\n            System.out.println(&quot;Read data from the PipedInputStream instance&quot;);\n            while ((bytesRead = pipedIn.read(targetBytes)) != -1) {\n                System.out.println(&quot;read &quot;+bytesRead+&quot; bytes&quot;);\n                String s = new String(targetBytes, 0, bytesRead, StandardCharsets.UTF_8);\n                System.out.println(&quot;Received string: &quot;+s);\n            }\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        System.out.println(&quot;Streaming reading thread terminated&quot;);\n    }\n};\nstreamReadingThread.start();\n\nkeyboardReadingThread.join();\nstreamReadingThread.join();\n</code></pre>\n<p>First the two piped stream instances are connected. After that two threads will read from the keyboard and read from the <code>PipedInputStream</code> instance. When you run your application you will get an output similar to this (with <code>Some example input for testing</code> being the keyboard input):</p>\n<pre><code>Enter some data:\nRead data from the PipedInputStream instance\nSome example input for testing\nEntered line: Some example input for testing\nKeyboard reading thread terminated\nread 30 bytes\nReceived string: Some example input for testing\nStreaming reading thread terminated\n</code></pre>\n<p>Also notice that the threads are not synchronized in any way, so the <code>System.out.println()</code> statements might get executed in a different order.</p>\n"}],"owner":{"account_id":5904519,"reputation":1229,"user_id":4646803,"accept_rate":71,"display_name":"protasm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1650129129,"creation_date":1650063532,"question_id":71889680,"body_markdown":"I&#39;ve learned in Java how to stream data over a network connection using ServerSocket and Socket, such as:\r\n\r\nClient.java:\r\n\r\n    Socket socket = new Socket(address, port);\r\n    \r\n    int i;\r\n    \r\n    while ((i = System.in.read()) != -1)\r\n      socket.getOutputStream().write(i);\r\n\r\nServer.java:\r\n\r\n      ServerSocket server = new ServerSocket(port);\r\n      Socket socket = server.accept();\r\n    \r\n      int i;\r\n    \r\n      while ((i = socket.getInputStream().read()) != -1)\r\n        System.out.println(i);\r\n\r\nThis would simply have Client blocking on System.in.read() at one end, and Server blocking on socket.getInputStream().read() at the other, and the bytes get passed when ENTER is pressed in the Client program.\r\n\r\nHow would I accomplish something similar within a single program, without using Sockets?  For example, if I had Thread A waiting on keyboard input which is then streamed to Thread B which is able to &quot;consume&quot; the bytes at an arbitrary time in the future, just as Server (above) is able to consume bytes from socket.getInputStream() at some arbitrary time?\r\n\r\nIs PipedInput/OutputStream the right solution for this, or ByteArrayInput/OutputStream, or something else?  Or am I overthinking it?  ","title":"How to stream data from one part of a Java program to another?","body":"<p>I've learned in Java how to stream data over a network connection using ServerSocket and Socket, such as:</p>\n<p>Client.java:</p>\n<pre><code>Socket socket = new Socket(address, port);\n\nint i;\n\nwhile ((i = System.in.read()) != -1)\n  socket.getOutputStream().write(i);\n</code></pre>\n<p>Server.java:</p>\n<pre><code>  ServerSocket server = new ServerSocket(port);\n  Socket socket = server.accept();\n\n  int i;\n\n  while ((i = socket.getInputStream().read()) != -1)\n    System.out.println(i);\n</code></pre>\n<p>This would simply have Client blocking on System.in.read() at one end, and Server blocking on socket.getInputStream().read() at the other, and the bytes get passed when ENTER is pressed in the Client program.</p>\n<p>How would I accomplish something similar within a single program, without using Sockets?  For example, if I had Thread A waiting on keyboard input which is then streamed to Thread B which is able to &quot;consume&quot; the bytes at an arbitrary time in the future, just as Server (above) is able to consume bytes from socket.getInputStream() at some arbitrary time?</p>\n<p>Is PipedInput/OutputStream the right solution for this, or ByteArrayInput/OutputStream, or something else?  Or am I overthinking it?</p>\n"},{"tags":["java","android","json"],"answers":[{"tags":[],"owner":{"account_id":5788006,"reputation":3426,"user_id":4566531,"display_name":"Dixit Panchal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466234919,"creation_date":1466234919,"answer_id":37894466,"question_id":37894424,"body_markdown":"Try this\r\n\r\n      try {\r\n            JSONObject object=new JSONObject();\r\n            object.put(&quot;param1&quot;,&quot;value1&quot;);\r\n            object.put(&quot;param2&quot;,&quot;value2&quot;);\r\n            JSONObject param3=new JSONObject();\r\n            paraam3.put(&quot;username&quot;,&quot;admin&quot;);\r\n            paraam3.put(&quot;password&quot;,&quot;123&quot;);\r\n            object.put(&quot;param3&quot;,param3);\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }","title":"How to generate JSON Stringer in Android for this format","body":"<p>Try this</p>\n\n<pre><code>  try {\n        JSONObject object=new JSONObject();\n        object.put(\"param1\",\"value1\");\n        object.put(\"param2\",\"value2\");\n        JSONObject param3=new JSONObject();\n        paraam3.put(\"username\",\"admin\");\n        paraam3.put(\"password\",\"123\");\n        object.put(\"param3\",param3);\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":968019,"reputation":5631,"user_id":991094,"accept_rate":91,"display_name":"Sreehari"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1466235013,"creation_date":1466235013,"answer_id":37894478,"question_id":37894424,"body_markdown":"    JSONObject object1 = new JSONObject();\r\n    \r\n    object1.put(&quot;param1&quot;, &quot;value1&quot;);\r\n    object1.put(&quot;param2&quot;, &quot;param2&quot;);\r\n    \r\n    JSONObject innerObject1 = new JSONObject();\r\n    innerObject1.put(&quot;username&quot;, &quot;admin&quot;);\r\n    innerObject1.put(&quot;password&quot;, &quot;123&quot;);\r\n    \r\n    object1.put(&quot;param3&quot;,innerObject1);\r\n    \r\n    String jsonStr = object1.toString();\r\n\r\nIdeally reverse of JSON parsing can be applied to create a json string object, so that the same can be send to Server/DB\r\n","title":"How to generate JSON Stringer in Android for this format","body":"<pre><code>JSONObject object1 = new JSONObject();\n\nobject1.put(\"param1\", \"value1\");\nobject1.put(\"param2\", \"param2\");\n\nJSONObject innerObject1 = new JSONObject();\ninnerObject1.put(\"username\", \"admin\");\ninnerObject1.put(\"password\", \"123\");\n\nobject1.put(\"param3\",innerObject1);\n\nString jsonStr = object1.toString();\n</code></pre>\n\n<p>Ideally reverse of JSON parsing can be applied to create a json string object, so that the same can be send to Server/DB</p>\n"},{"tags":[],"owner":{"account_id":7561223,"reputation":379,"user_id":5738735,"display_name":"Kishan S. Rakholiya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466502162,"creation_date":1466240079,"answer_id":37895122,"question_id":37894424,"body_markdown":"You can create model which will be your java file same as your JSON file and can use **[`gson`][1]** library which is supported by Google to do JSON parsing. The library is quite flexible and easy to use then using traditional method of JSON parsing.\r\n\r\n\r\nModel File\r\n\r\n   \r\n\r\n    public class Response {\r\n    public String param1;\r\n    public String param2;\r\n    public Param3 param3;\r\n    public Response(String param1, String param2) {\r\n    \tthis.param1 = param1;\r\n    \tthis.param2 = param2;\r\n    }\r\n          public class Param3 {\r\n                public String username;\r\n                public String password;\r\n    \t\r\n    \tpublic Param3(String username, String password) {\r\n    \t\tthis.username = username;\r\n    \t\tthis.password = password;\r\n    \t}\r\n          }\r\n    }\r\n\r\nIn file in which you insert data\r\n\r\n    Response res = new Response(&quot;value1&quot;, &quot;value2&quot;, new Param3(&quot;admin&quot;,&quot;123&quot;));\r\n    String dbResult = new Gson.toJson(res);\r\n  [1]: https://github.com/google/gson\r\n","title":"How to generate JSON Stringer in Android for this format","body":"<p>You can create model which will be your java file same as your JSON file and can use <strong><a href=\"https://github.com/google/gson\" rel=\"nofollow\"><code>gson</code></a></strong> library which is supported by Google to do JSON parsing. The library is quite flexible and easy to use then using traditional method of JSON parsing.</p>\n\n<p>Model File</p>\n\n<pre><code>public class Response {\npublic String param1;\npublic String param2;\npublic Param3 param3;\npublic Response(String param1, String param2) {\n    this.param1 = param1;\n    this.param2 = param2;\n}\n      public class Param3 {\n            public String username;\n            public String password;\n\n    public Param3(String username, String password) {\n        this.username = username;\n        this.password = password;\n    }\n      }\n}\n</code></pre>\n\n<p>In file in which you insert data</p>\n\n<pre><code>Response res = new Response(\"value1\", \"value2\", new Param3(\"admin\",\"123\"));\nString dbResult = new Gson.toJson(res);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8273270,"reputation":652,"user_id":6220331,"display_name":"Austin Poole"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650129081,"creation_date":1650129081,"answer_id":71895924,"question_id":37894424,"body_markdown":"If you are looking for the actual solution using org.json.JSONStringer\r\n\r\n    JSONWriter writer = stringer3.object()\r\n                .key(&quot;param1&quot;).value(&quot;value1&quot;)\r\n                .key(&quot;param2&quot;).value(&quot;value2&quot;)\r\n                .key(&quot;param3&quot;).object()\r\n                    .key(&quot;username&quot;).value(&quot;admin&quot;)\r\n                    .key(&quot;password&quot;).value(&quot;123&quot;)\r\n                .endObject()\r\n                .endObject();\r\n        System.out.println(writer.toString());\r\nYou can think of the **object()** method as opening a new parenthesis and the **endObject()** as closing it\r\n\r\n","title":"How to generate JSON Stringer in Android for this format","body":"<p>If you are looking for the actual solution using org.json.JSONStringer</p>\n<pre><code>JSONWriter writer = stringer3.object()\n            .key(&quot;param1&quot;).value(&quot;value1&quot;)\n            .key(&quot;param2&quot;).value(&quot;value2&quot;)\n            .key(&quot;param3&quot;).object()\n                .key(&quot;username&quot;).value(&quot;admin&quot;)\n                .key(&quot;password&quot;).value(&quot;123&quot;)\n            .endObject()\n            .endObject();\n    System.out.println(writer.toString());\n</code></pre>\n<p>You can think of the <strong>object()</strong> method as opening a new parenthesis and the <strong>endObject()</strong> as closing it</p>\n"}],"owner":{"account_id":7758488,"reputation":1687,"user_id":5871975,"accept_rate":45,"display_name":"Adrian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1154,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":37894478,"answer_count":4,"score":4,"last_activity_date":1650129081,"creation_date":1466234590,"question_id":37894424,"body_markdown":"I need to send data to database in this format - \r\n\r\n    {&quot;param1&quot;:&quot;value1&quot;, &quot;param2&quot;:&quot;value2&quot;, &quot;param3&quot;: {&quot;username&quot;: &quot;admin&quot;, &quot;password&quot;: &quot;123&quot;}}\r\n\r\nHow to generate this using JSONStringer ?\r\n\r\n\r\nI tried this -\r\n\r\n    vm = new JSONStringer().object().key(&quot;param1&quot;).value(&quot;value1&quot;)\r\n                      .object().key(&quot;param2&quot;).value(&quot;value2&quot;)\r\n                        .key(&quot;param3&quot;).object()\r\n                        .key(&quot;username&quot;).value(&quot;admin&quot;)\r\n                        .key(&quot;password&quot;).value(&quot;123&quot;)\r\n                        .endObject().endObject().endObject();\r\n\r\nBut I&#39;m getting this error - \r\n\r\n&gt; org.json.JSONException: Nesting problem at\r\n&gt; org.json.JSONStringer.beforeValue(JSONStringer.java:415)\r\n\r\n\r\n\r\n","title":"How to generate JSON Stringer in Android for this format","body":"<p>I need to send data to database in this format - </p>\n\n<pre><code>{\"param1\":\"value1\", \"param2\":\"value2\", \"param3\": {\"username\": \"admin\", \"password\": \"123\"}}\n</code></pre>\n\n<p>How to generate this using JSONStringer ?</p>\n\n<p>I tried this -</p>\n\n<pre><code>vm = new JSONStringer().object().key(\"param1\").value(\"value1\")\n                  .object().key(\"param2\").value(\"value2\")\n                    .key(\"param3\").object()\n                    .key(\"username\").value(\"admin\")\n                    .key(\"password\").value(\"123\")\n                    .endObject().endObject().endObject();\n</code></pre>\n\n<p>But I'm getting this error - </p>\n\n<blockquote>\n  <p>org.json.JSONException: Nesting problem at\n  org.json.JSONStringer.beforeValue(JSONStringer.java:415)</p>\n</blockquote>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1650128818,"post_id":71895872,"comment_id":127045650,"body_markdown":"If this is a real app, you might want to be cautious about letting visitors to your web page reflectively choose what method to invoke...","body":"If this is a real app, you might want to be cautious about letting visitors to your web page reflectively choose what method to invoke..."},{"owner":{"account_id":24963499,"reputation":47,"user_id":18827255,"display_name":"Volatail"},"score":0,"creation_date":1650129243,"post_id":71895872,"comment_id":127045741,"body_markdown":"What could be the danger?","body":"What could be the danger?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1650129394,"post_id":71895872,"comment_id":127045780,"body_markdown":"Visitors to your website calling `System.exit`, or calling some method that they shouldn&#39;t have permissions to like `dumpAllDebuggingInformation`, or calling `getPassword()`, or any of a hundred things.  Doing reflection based on the data passed by users to your website is pretty much #1 on the list of security no-nos in Java.","body":"Visitors to your website calling <code>System.exit</code>, or calling some method that they shouldn&#39;t have permissions to like <code>dumpAllDebuggingInformation</code>, or calling <code>getPassword()</code>, or any of a hundred things.  Doing reflection based on the data passed by users to your website is pretty much #1 on the list of security no-nos in Java."},{"owner":{"account_id":24963499,"reputation":47,"user_id":18827255,"display_name":"Volatail"},"score":0,"creation_date":1650129854,"post_id":71895872,"comment_id":127045883,"body_markdown":"In my case, only certain methods marked with an annotation can be called. The method is selected according to the sent url in the requestv (/send-token)\nIn the future, I will add roles, but for now I wanted to deal with java reactive","body":"In my case, only certain methods marked with an annotation can be called. The method is selected according to the sent url in the requestv (/send-token) In the future, I will add roles, but for now I wanted to deal with java reactive"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1650148865,"post_id":71895872,"comment_id":127049351,"body_markdown":"remote invokation is dangerous and should be avoided at all costs, if someone annotates something wrong or you have a bug, this can have very dire consequences","body":"remote invokation is dangerous and should be avoided at all costs, if someone annotates something wrong or you have a bug, this can have very dire consequences"}],"owner":{"account_id":24963499,"reputation":47,"user_id":18827255,"display_name":"Volatail"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650128699,"creation_date":1650128699,"question_id":71895872,"body_markdown":"I&#39;m trying to make a service in reactive java, \r\nanother service will send me requests.\r\nI catch these requests and want to run methods according to the incoming URI\r\n\r\n\r\nHere I receive a request from another service and run the desired method:\r\n\r\n    public Mono&lt;Response&gt; requestResponse(Request message, ByteBuf metadata) {\r\n            return controller.startMethod(message)\r\n                    .onErrorResume(error -&gt; Mono.just(buildResponse(error.getMessage(), message, Status.STATUS_INTERNAL_SERVER_ERROR)))\r\n                    .switchIfEmpty(Mono.just(buildResponse(&quot;NULL&quot;, message, Status.STATUS_BAD_REQUEST)))\r\n                    .doOnNext(logResponse());\r\n        }\r\n\r\n\r\nThis is the launch itself, the method is located by the annotation and the http method\r\n\r\n    public Mono&lt;Response&gt; startMethod(Request message) {\r\n            for (Method method : clazz.getDeclaredMethods()) {\r\n                if (isNecessaryMethod(method, message)) {\r\n                    try {\r\n                        return (Mono&lt;Response&gt;) method.invoke(context.getBean(clazz), initParameters(method, message));\r\n                    } catch (Throwable e) {\r\n                        return Mono.error(e);\r\n                    }\r\n                }\r\n            }\r\n            return Mono.error(new PathNotFound());\r\n        }\r\n\r\n\r\nSubsequently, the method should run, this is an example:\r\n\r\n    @Request(url = &quot;/save-token&quot;, method = POST)\r\n        public Mono&lt;Response&gt; saveToken(String token) {\r\n    \r\n            return Mono.empty();\r\n        }\r\n\r\n\r\nI would like to know how to properly process method.invoke(...) so that everything works reactively and correctly","title":"how to properly wrap method.invoke() (reflect) in a reactive java?","body":"<p>I'm trying to make a service in reactive java,\nanother service will send me requests.\nI catch these requests and want to run methods according to the incoming URI</p>\n<p>Here I receive a request from another service and run the desired method:</p>\n<pre><code>public Mono&lt;Response&gt; requestResponse(Request message, ByteBuf metadata) {\n        return controller.startMethod(message)\n                .onErrorResume(error -&gt; Mono.just(buildResponse(error.getMessage(), message, Status.STATUS_INTERNAL_SERVER_ERROR)))\n                .switchIfEmpty(Mono.just(buildResponse(&quot;NULL&quot;, message, Status.STATUS_BAD_REQUEST)))\n                .doOnNext(logResponse());\n    }\n</code></pre>\n<p>This is the launch itself, the method is located by the annotation and the http method</p>\n<pre><code>public Mono&lt;Response&gt; startMethod(Request message) {\n        for (Method method : clazz.getDeclaredMethods()) {\n            if (isNecessaryMethod(method, message)) {\n                try {\n                    return (Mono&lt;Response&gt;) method.invoke(context.getBean(clazz), initParameters(method, message));\n                } catch (Throwable e) {\n                    return Mono.error(e);\n                }\n            }\n        }\n        return Mono.error(new PathNotFound());\n    }\n</code></pre>\n<p>Subsequently, the method should run, this is an example:</p>\n<pre><code>@Request(url = &quot;/save-token&quot;, method = POST)\n    public Mono&lt;Response&gt; saveToken(String token) {\n\n        return Mono.empty();\n    }\n</code></pre>\n<p>I would like to know how to properly process method.invoke(...) so that everything works reactively and correctly</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":0,"creation_date":1650135824,"post_id":71895864,"comment_id":127047031,"body_markdown":"Flip your test round, instead of doing `testMatrix.set(binding.ivMainImage.matrix)` try `binding.ivMainImage.matrix.set(testMatix)`. This will prove if you are right or wrong about them being &quot;identical&quot;.","body":"Flip your test round, instead of doing <code>testMatrix.set(binding.ivMainImage.matrix)</code> try <code>binding.ivMainImage.matrix.set(testMatix)</code>. This will prove if you are right or wrong about them being &quot;identical&quot;."},{"owner":{"account_id":21319272,"reputation":809,"user_id":15692700,"display_name":"Muhammad Rio"},"score":0,"creation_date":1650146113,"post_id":71895864,"comment_id":127048910,"body_markdown":"@Blundell But the `testMatrix` is an identity matrix , if i set the `ivMainImage.martix` to `testMatrix` , isn&#39;t that mean i reset the transformation (rotation , scale etc) ??","body":"@Blundell But the <code>testMatrix</code> is an identity matrix , if i set the <code>ivMainImage.martix</code> to <code>testMatrix</code> , isn&#39;t that mean i reset the transformation (rotation , scale etc) ??"},{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":0,"creation_date":1650292083,"post_id":71895864,"comment_id":127074669,"body_markdown":"What I meant was, you are thinking they re equal matrices but one is created from the other, which perhaps can be why they are unequal.","body":"What I meant was, you are thinking they re equal matrices but one is created from the other, which perhaps can be why they are unequal."},{"owner":{"account_id":21319272,"reputation":809,"user_id":15692700,"display_name":"Muhammad Rio"},"score":0,"creation_date":1650320818,"post_id":71895864,"comment_id":127082740,"body_markdown":"@Blundell two matrices are equal if Each matrix has the same number of rows &amp; column , and Corresponding elements within each matrix are equal. and if you take a look at `Matrix()` documentation and scroll down to the `equal` method , it is also said `Returns true iff obj is a Matrix and its values equal our values`., so based on these rules `testMatrix`  and `ivMainImage.martix` are actually equal.","body":"@Blundell two matrices are equal if Each matrix has the same number of rows &amp; column , and Corresponding elements within each matrix are equal. and if you take a look at <code>Matrix()</code> documentation and scroll down to the <code>equal</code> method , it is also said <code>Returns true iff obj is a Matrix and its values equal our values</code>., so based on these rules <code>testMatrix</code>  and <code>ivMainImage.martix</code> are actually equal."}],"owner":{"account_id":21319272,"reputation":809,"user_id":15692700,"display_name":"Muhammad Rio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650128651,"creation_date":1650128651,"question_id":71895864,"body_markdown":"I want to convert an `ImageView` to bitmap with transformation applied, such as `rotation` , `rotationX` ,`rotationY` , `scaleX` etc. But i&#39;ve found strange behavior of these similar `matrix`s (`testMatrix` and `binding.ivMainImage.matrix`)\r\n\r\n```kotlin\r\nclass MainActivity : AppCompatActivity() {\r\n    private lateinit var binding: ActivityMainBinding\r\n    private val testMatrix = Matrix()\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = ActivityMainBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n\r\n        binding.ivMainImage.rotation = 23f\r\n        binding.ivMainImage.scaleX = 0.5f\r\n        binding.ivMainImage.scaleY = 0.6f\r\n        binding.ivMainImage.rotationY = 20f\r\n\r\n        // set testMatrix values\r\n        testMatrix.set(binding.ivMainImage.matrix)\r\n        Log.i(&quot;DEBUG&quot;, &quot;matrix:testMatrix  :${testMatrix.toShortString()}&quot;)\r\n        Log.i(&quot;DEBUG&quot;, &quot;matrix:ivMainImage :${binding.ivMainImage.matrix.toShortString()}&quot;)\r\n\r\n        binding.button.setOnClickListener {\r\n            val result1 = binding.ivMainImage.drawToBitmap(binding.ivMainImage.matrix)\r\n            binding.ivResult1.setImageBitmap(result1)\r\n\r\n            val result2 = binding.ivMainImage.drawToBitmap(testMatrix)\r\n            binding.ivResult2.setImageBitmap(result2)\r\n        }\r\n    }\r\n\r\n    private fun View.drawToBitmap(\r\n        matrix: Matrix,\r\n        config: Bitmap.Config = Bitmap.Config.ARGB_8888\r\n    ): Bitmap{\r\n        if (!ViewCompat.isLaidOut(this)) {\r\n            throw IllegalStateException(&quot;View needs to be laid out before calling drawToBitmap()&quot;)\r\n        }\r\n        return Bitmap.createBitmap(width, height, config).applyCanvas {\r\n            translate(-scrollX.toFloat(), -scrollY.toFloat())\r\n            setMatrix(matrix)\r\n            this@drawToBitmap.draw(this)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Log**\r\n```\r\n04-16 23:03:56.004 10466-10466/com.example.myapplication I/DEBUG: matrix:testMatrix  :[0.4324958, -0.2203003, 0.0][0.19536556, 0.55230296, 0.0][2.7329096E-4, -1.3920615E-4, 1.0]\r\n04-16 23:03:56.005 10466-10466/com.example.myapplication I/DEBUG: matrix:ivMainImage :[0.4324958, -0.2203003, 0.0][0.19536556, 0.55230296, 0.0][2.7329096E-4, -1.3920615E-4, 1.0]\r\n```\r\n\r\nas you can see above , the `matrix`s values are perfectly similar , but those are produce different result, see below\r\n\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/idTDA.png\r\n\r\n**Xml**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout ...&gt;\r\n\r\n    //TextView\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/ivMainImage&quot;\r\n        android:layout_width=&quot;200dp&quot;\r\n        android:layout_height=&quot;200dp&quot;\r\n        android:layout_marginTop=&quot;24dp&quot;\r\n        android:adjustViewBounds=&quot;true&quot;\r\n        android:scaleType=&quot;fitXY&quot;\r\n        android:src=&quot;@drawable/test_image_1&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/tvMainImage&quot; /&gt;\r\n\r\n    //TextView\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/ivResult1&quot;\r\n        android:layout_width=&quot;200dp&quot;\r\n        android:layout_height=&quot;200dp&quot;\r\n        android:layout_margin=&quot;8dp&quot;\r\n        android:adjustViewBounds=&quot;true&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/guideline2&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/ivMainImage&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/ivResult2&quot;\r\n        android:layout_width=&quot;200dp&quot;\r\n        android:layout_height=&quot;200dp&quot;\r\n        android:layout_margin=&quot;8dp&quot;\r\n        android:adjustViewBounds=&quot;true&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/guideline2&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/ivMainImage&quot; /&gt;\r\n\r\n    \r\n    //Button\r\n    //GuideLine\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nThe **`Result 1`** is correct, my question is why do these `matrix`s (**`testMatrix`** and **`binding.ivMainImage.matrix`**) produce different result even if the values are perfectly similar ??","title":"Why do these perfect similar `Matrix` produce difference result when applied to `Canvas.setMatrix()`?","body":"<p>I want to convert an <code>ImageView</code> to bitmap with transformation applied, such as <code>rotation</code> , <code>rotationX</code> ,<code>rotationY</code> , <code>scaleX</code> etc. But i've found strange behavior of these similar <code>matrix</code>s (<code>testMatrix</code> and <code>binding.ivMainImage.matrix</code>)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MainActivity : AppCompatActivity() {\n    private lateinit var binding: ActivityMainBinding\n    private val testMatrix = Matrix()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivityMainBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n\n        binding.ivMainImage.rotation = 23f\n        binding.ivMainImage.scaleX = 0.5f\n        binding.ivMainImage.scaleY = 0.6f\n        binding.ivMainImage.rotationY = 20f\n\n        // set testMatrix values\n        testMatrix.set(binding.ivMainImage.matrix)\n        Log.i(&quot;DEBUG&quot;, &quot;matrix:testMatrix  :${testMatrix.toShortString()}&quot;)\n        Log.i(&quot;DEBUG&quot;, &quot;matrix:ivMainImage :${binding.ivMainImage.matrix.toShortString()}&quot;)\n\n        binding.button.setOnClickListener {\n            val result1 = binding.ivMainImage.drawToBitmap(binding.ivMainImage.matrix)\n            binding.ivResult1.setImageBitmap(result1)\n\n            val result2 = binding.ivMainImage.drawToBitmap(testMatrix)\n            binding.ivResult2.setImageBitmap(result2)\n        }\n    }\n\n    private fun View.drawToBitmap(\n        matrix: Matrix,\n        config: Bitmap.Config = Bitmap.Config.ARGB_8888\n    ): Bitmap{\n        if (!ViewCompat.isLaidOut(this)) {\n            throw IllegalStateException(&quot;View needs to be laid out before calling drawToBitmap()&quot;)\n        }\n        return Bitmap.createBitmap(width, height, config).applyCanvas {\n            translate(-scrollX.toFloat(), -scrollY.toFloat())\n            setMatrix(matrix)\n            this@drawToBitmap.draw(this)\n        }\n    }\n}\n</code></pre>\n<p><strong>Log</strong></p>\n<pre><code>04-16 23:03:56.004 10466-10466/com.example.myapplication I/DEBUG: matrix:testMatrix  :[0.4324958, -0.2203003, 0.0][0.19536556, 0.55230296, 0.0][2.7329096E-4, -1.3920615E-4, 1.0]\n04-16 23:03:56.005 10466-10466/com.example.myapplication I/DEBUG: matrix:ivMainImage :[0.4324958, -0.2203003, 0.0][0.19536556, 0.55230296, 0.0][2.7329096E-4, -1.3920615E-4, 1.0]\n</code></pre>\n<p>as you can see above , the <code>matrix</code>s values are perfectly similar , but those are produce different result, see below</p>\n<p><a href=\"https://i.stack.imgur.com/idTDA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/idTDA.png\" alt=\"\" /></a></p>\n<p><strong>Xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout ...&gt;\n\n    //TextView\n\n    &lt;ImageView\n        android:id=&quot;@+id/ivMainImage&quot;\n        android:layout_width=&quot;200dp&quot;\n        android:layout_height=&quot;200dp&quot;\n        android:layout_marginTop=&quot;24dp&quot;\n        android:adjustViewBounds=&quot;true&quot;\n        android:scaleType=&quot;fitXY&quot;\n        android:src=&quot;@drawable/test_image_1&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/tvMainImage&quot; /&gt;\n\n    //TextView\n\n    &lt;ImageView\n        android:id=&quot;@+id/ivResult1&quot;\n        android:layout_width=&quot;200dp&quot;\n        android:layout_height=&quot;200dp&quot;\n        android:layout_margin=&quot;8dp&quot;\n        android:adjustViewBounds=&quot;true&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/guideline2&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/ivMainImage&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/ivResult2&quot;\n        android:layout_width=&quot;200dp&quot;\n        android:layout_height=&quot;200dp&quot;\n        android:layout_margin=&quot;8dp&quot;\n        android:adjustViewBounds=&quot;true&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/guideline2&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/ivMainImage&quot; /&gt;\n\n    \n    //Button\n    //GuideLine\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>The <strong><code>Result 1</code></strong> is correct, my question is why do these <code>matrix</code>s (<strong><code>testMatrix</code></strong> and <strong><code>binding.ivMainImage.matrix</code></strong>) produce different result even if the values are perfectly similar ??</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3403175,"reputation":22394,"user_id":2854908,"accept_rate":95,"display_name":"libik"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1395660905,"creation_date":1395611327,"answer_id":22597559,"question_id":22597527,"body_markdown":"It is extremely easy :)\r\n\r\n\r\n    public static int countUniqueCharacters(String input) {\r\n        boolean[] isItThere = new boolean[Character.MAX_VALUE];\r\n        for (int i = 0; i &lt; input.length(); i++) {\r\n            isItThere[input.charAt(i)] = true;\r\n        }\r\n        \r\n        int count = 0;\r\n        for (int i = 0; i &lt; isItThere.length; i++) {\r\n            if (isItThere[i] == true){\r\n                count++;\r\n            }\r\n        }\r\n        \r\n        return count;\r\n    }\r\n\r\nExample for input &quot;aab&quot;\r\n\r\nFirst for-cycle goes 3 times, each time for one char.\r\n\r\nValue of &quot;a&quot; is 97, so it turns isItThere[97] to true, then second &quot;a&quot; is involved, which is doing the same, isItThere[97] is set to true again (hence changing nothing).\r\n\r\nAfter that &quot;b&quot; is involved, value of char &quot;b&quot; is 98, therefore isItThere[98] is set to true. \r\n\r\nAnd then you have second for-cycle, where you cycle through the all isItThere array. If you find any true statement, you increment count. In our case, you find isItThere[97] and isItThere[98] as true statement, it means you increment twice and returning 2.","title":"Counting unique characters in a String given by the user","body":"<p>It is extremely easy :)</p>\n\n<pre><code>public static int countUniqueCharacters(String input) {\n    boolean[] isItThere = new boolean[Character.MAX_VALUE];\n    for (int i = 0; i &lt; input.length(); i++) {\n        isItThere[input.charAt(i)] = true;\n    }\n\n    int count = 0;\n    for (int i = 0; i &lt; isItThere.length; i++) {\n        if (isItThere[i] == true){\n            count++;\n        }\n    }\n\n    return count;\n}\n</code></pre>\n\n<p>Example for input \"aab\"</p>\n\n<p>First for-cycle goes 3 times, each time for one char.</p>\n\n<p>Value of \"a\" is 97, so it turns isItThere[97] to true, then second \"a\" is involved, which is doing the same, isItThere[97] is set to true again (hence changing nothing).</p>\n\n<p>After that \"b\" is involved, value of char \"b\" is 98, therefore isItThere[98] is set to true. </p>\n\n<p>And then you have second for-cycle, where you cycle through the all isItThere array. If you find any true statement, you increment count. In our case, you find isItThere[97] and isItThere[98] as true statement, it means you increment twice and returning 2.</p>\n"},{"tags":[],"owner":{"account_id":2347441,"reputation":67540,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1395611447,"creation_date":1395611447,"answer_id":22597587,"question_id":22597527,"body_markdown":"Using Java 8 you could do the following:\r\n\r\n    public static long countUniqueCharacters(String input) {\r\n        return input.chars()\r\n                .distinct()\r\n                .count();\r\n    }\r\n\r\nThis creates an `IntStream` of `char`s, then takes only distincts values and then counts the number of occurences.","title":"Counting unique characters in a String given by the user","body":"<p>Using Java 8 you could do the following:</p>\n\n<pre><code>public static long countUniqueCharacters(String input) {\n    return input.chars()\n            .distinct()\n            .count();\n}\n</code></pre>\n\n<p>This creates an <code>IntStream</code> of <code>char</code>s, then takes only distincts values and then counts the number of occurences.</p>\n"},{"tags":[],"owner":{"account_id":3971227,"reputation":8507,"user_id":3275788,"display_name":"wumpz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1395612668,"creation_date":1395612668,"answer_id":22597803,"question_id":22597527,"body_markdown":"Here another solution:\r\n\r\n    public static int countUniqueCharacters(String input) {\r\n        String buffer = &quot;&quot;;\r\n        for (int i = 0; i &lt; input.length(); i++) {\r\n            if (!buffer.contains(String.valueOf(input.charAt(i)))) {\r\n                buffer += input.charAt(i);\r\n            }\r\n        }\r\n        return buffer.length();\r\n    }\r\n\r\nThe first occurance of each character is stored in `buffer`. Therefore you have of all characters one in `buffer`, therefore `buffer.length()` delivers the count you need.","title":"Counting unique characters in a String given by the user","body":"<p>Here another solution:</p>\n\n<pre><code>public static int countUniqueCharacters(String input) {\n    String buffer = \"\";\n    for (int i = 0; i &lt; input.length(); i++) {\n        if (!buffer.contains(String.valueOf(input.charAt(i)))) {\n            buffer += input.charAt(i);\n        }\n    }\n    return buffer.length();\n}\n</code></pre>\n\n<p>The first occurance of each character is stored in <code>buffer</code>. Therefore you have of all characters one in <code>buffer</code>, therefore <code>buffer.length()</code> delivers the count you need.</p>\n"},{"tags":[],"owner":{"account_id":5550402,"reputation":625,"user_id":4403696,"display_name":"SEGStriker"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1428800486,"creation_date":1428794633,"answer_id":29584206,"question_id":22597527,"body_markdown":"    public static int countUniqueChars (String buf) {\r\n        HashSet&lt;Character&gt; hash = new HashSet&lt;&gt;();\r\n        buf = buf.toUpperCase();\r\n        for (int i = 0; i &lt; buf.length(); i++)\r\n            hash.add(buf.charAt(i));\r\n        return hash.size();\r\n    }","title":"Counting unique characters in a String given by the user","body":"<pre><code>public static int countUniqueChars (String buf) {\n    HashSet&lt;Character&gt; hash = new HashSet&lt;&gt;();\n    buf = buf.toUpperCase();\n    for (int i = 0; i &lt; buf.length(); i++)\n        hash.add(buf.charAt(i));\n    return hash.size();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1814275,"reputation":586,"user_id":1649714,"display_name":"Chris Sullivan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1429137215,"creation_date":1429137215,"answer_id":29662087,"question_id":22597527,"body_markdown":"If your stuck on Java 7, you can use an ArrayList and just add unique values to it, then return the size of the ArrayList, which should always work even if the count is zero.\r\n\r\n     import java.util.ArrayList;\r\n\r\n     public int getUniqeCount( String arg )\r\n     {\r\n         ArrayList&lt;Character&gt; unique = new ArrayList&lt;Character&gt;();\r\n         for( int i = 0; i &lt; arg.length(); i++)\r\n             if( !unique.contains( arg.charAt( i ) ) )\r\n                 unique.add( arg.charAt( i ) );\r\n         return unique.size();\r\n     }","title":"Counting unique characters in a String given by the user","body":"<p>If your stuck on Java 7, you can use an ArrayList and just add unique values to it, then return the size of the ArrayList, which should always work even if the count is zero.</p>\n\n<pre><code> import java.util.ArrayList;\n\n public int getUniqeCount( String arg )\n {\n     ArrayList&lt;Character&gt; unique = new ArrayList&lt;Character&gt;();\n     for( int i = 0; i &lt; arg.length(); i++)\n         if( !unique.contains( arg.charAt( i ) ) )\n             unique.add( arg.charAt( i ) );\n     return unique.size();\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1759091,"reputation":2771,"user_id":1606663,"accept_rate":46,"display_name":"Sujeet Kumar Mehta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491285963,"creation_date":1491285963,"answer_id":43199443,"question_id":22597527,"body_markdown":"    public static long calculateDistinctSubStringSum(String text) {\r\n\t\tMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\n\t\tchar[] charAarry = text.toCharArray();\r\n\t\tfor (int i = 0; i &lt; charAarry.length; i++) {\r\n\t\t\tmap.put(charAarry[i] + &quot;&quot;, 1);\r\n\t\t}\r\n\t\treturn map.size();\r\n\r\n\t}\r\n\r\nThis is what I did to calculate but I am still looking for any fast way. If anyone knows please answer. ","title":"Counting unique characters in a String given by the user","body":"<pre><code>public static long calculateDistinctSubStringSum(String text) {\n    Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n    char[] charAarry = text.toCharArray();\n    for (int i = 0; i &lt; charAarry.length; i++) {\n        map.put(charAarry[i] + \"\", 1);\n    }\n    return map.size();\n\n}\n</code></pre>\n\n<p>This is what I did to calculate but I am still looking for any fast way. If anyone knows please answer. </p>\n"},{"tags":[],"owner":{"account_id":9008999,"reputation":3602,"user_id":6714430,"display_name":"rashedcs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496745648,"creation_date":1496745648,"answer_id":44387784,"question_id":22597527,"body_markdown":"You can use HashSet collections for counting the unique elements in a string. It allow only unique element.\r\n\r\n **Code Snippet** \r\n\r\n\r\n    public static int uniqueCount(String str) \r\n    {\r\n       HashSet&lt;Character&gt; al = new HashSet&lt;Character&gt;();\r\n       char[] arr= str.toCharArray();\r\n       for (int i=0; i&lt;arr.length; i++) \r\n       {\r\n          al.add(arr[i]);  \r\n       }\r\n       return al.size() ;\r\n    }  \r\n    \r\n\r\n   Refer this link to get full code: [ideone][1]\r\n\r\n\r\n  [1]: http://ideone.com/2NIN8V","title":"Counting unique characters in a String given by the user","body":"<p>You can use HashSet collections for counting the unique elements in a string. It allow only unique element.</p>\n\n<p><strong>Code Snippet</strong> </p>\n\n<pre><code>public static int uniqueCount(String str) \n{\n   HashSet&lt;Character&gt; al = new HashSet&lt;Character&gt;();\n   char[] arr= str.toCharArray();\n   for (int i=0; i&lt;arr.length; i++) \n   {\n      al.add(arr[i]);  \n   }\n   return al.size() ;\n}  \n</code></pre>\n\n<p>Refer this link to get full code: <a href=\"http://ideone.com/2NIN8V\" rel=\"nofollow noreferrer\">ideone</a></p>\n"},{"tags":[],"owner":{"account_id":11518005,"reputation":1,"user_id":8440814,"display_name":"gaurav agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502294316,"creation_date":1502293148,"answer_id":45595118,"question_id":22597527,"body_markdown":"Try to see if the following code helps you:\r\n\r\n\tString myString = &quot;&quot;;\r\n\t\t\r\n\tfor(int i=0; i&lt; word.length(); i++) {\r\n\t\t\r\n\t\tif(myString.indexOf(word.charAt(i)) == -1) {\r\n\t\t\tSystem.out.println(word.charAt(i));\r\n\t\t\tmyString = myString + word.charAt(i);\r\n\t\t}\r\n\t}\r\n\treturn myString.length();","title":"Counting unique characters in a String given by the user","body":"<p>Try to see if the following code helps you:</p>\n\n<pre><code>String myString = \"\";\n\nfor(int i=0; i&lt; word.length(); i++) {\n\n    if(myString.indexOf(word.charAt(i)) == -1) {\n        System.out.println(word.charAt(i));\n        myString = myString + word.charAt(i);\n    }\n}\nreturn myString.length();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12808723,"reputation":1,"user_id":9267622,"display_name":"sachin bhaiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516885700,"creation_date":1516885700,"answer_id":48443634,"question_id":22597527,"body_markdown":"\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Please enter String:&quot;);\r\n\t\tint length = scanner.nextInt();\r\n\t\tchar[] ch1 =  new char[length];\r\n\t\tString[] input = new String[length];\r\n\t\tfor (int i = 0; i &lt; length; i++) {\r\n\t\t\tString userInput = scanner.next();\r\n\t\t\tinput[i] = userInput;\r\n\t\t\t ch1= userInput.toCharArray();\r\n\t\t\t\r\n\t\t\tArrays.sort(ch1);\r\n\t\t\t System.out.println(ch1);\r\n\t\t}\r\n\t\t\r\n\t\r\n","title":"Counting unique characters in a String given by the user","body":"<pre><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(\"Please enter String:\");\n    int length = scanner.nextInt();\n    char[] ch1 =  new char[length];\n    String[] input = new String[length];\n    for (int i = 0; i &lt; length; i++) {\n        String userInput = scanner.next();\n        input[i] = userInput;\n         ch1= userInput.toCharArray();\n\n        Arrays.sort(ch1);\n         System.out.println(ch1);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8004185,"reputation":1391,"user_id":6037956,"display_name":"Soudipta Dutta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557317047,"creation_date":1517512002,"answer_id":48570054,"question_id":22597527,"body_markdown":" Unique Characters In A String:\r\n \r\nThis is a basic Java interview subject, where the interviewer wants to check the knowledge \r\nof HashSet or indexOf(in case of Java 7) .\r\nLet&#39;s take up a question. \r\nLet&#39;s say the interview tells you to  \r\nCheck if the String is unique : \r\nHashSet ensures uniqueness ,In other words , every object in the HashSet presents only once.\r\nHence, we will use HashSet. \r\n\r\n        \r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    public class Abc {\r\n    public static void main(String[] args) {\r\n    \tString a = &quot;Gini&quot;;\r\n    \tString aa = a.toLowerCase();\r\n    \t   if(  isUnique(aa)   ) {\r\n    \t\t      System.out.println(&quot;All characters are unique&quot;);\r\n    \t   }else {\r\n    \t\t   System.out.println(&quot;All characters  are not unique&quot;);\r\n    \t   }\r\n    }\r\n    public static boolean isUnique(String a ) {\r\n    \tSet&lt; Character&gt; set = new HashSet&lt;&gt;();\r\n    \tchar[] charArray =a.toCharArray();\r\n    \tfor(Character ch :charArray) {\r\n    \t\tif(!set.add(ch)) {\r\n    \t\t\treturn false;\r\n    \t\t}//if\r\n    \t}//foreach\r\n    \t\treturn true;\r\n    }\r\n    }\r\n\r\nThe output in case of GINI will be : All characters  are not unique \r\n\r\nNow, the count of the unique characters.\r\nHere also we will use HashSet because of the uniqueness.\r\n\r\n    \r\n    import java.util.HashSet;\r\n    \r\n    public class practice11 {\r\n    public static void main(String[] args) {\r\n    \tString a = &quot;Gini&quot;;\r\n    \tString aa = a.toLowerCase();\r\n    \tSystem.out.println(countUniqueCharacters(aa)); \t\r\n    }\r\n    public static int  countUniqueCharacters(String a) {\r\n    \tchar[] charArray = a.toCharArray();\r\n    \t\r\n    \tHashSet&lt;Character&gt; set = new HashSet&lt;Character&gt;();\r\n    \r\n    \tfor(int i = 0 ; i&lt; charArray.length ; i++) {\r\n    \t\t\r\n    \t\t set.add(charArray[i]);\r\n    \t}//for\r\n    \treturn   set.size() ;//This will give 3\r\n    }\r\n    }\r\nThe output for Gini will be 3 (Gin will be considered) .\r\n\r\nindexOf Method :\r\nindexOf() returns the index of first occurrence of the character and then we are comparing with -1.\r\n\r\n  \r\n\r\n      \r\n    public class Abc {\r\n    public static void main(String[] args) {\r\n    \tString a = &quot;Gini&quot;;\r\n    \tString aa = a.toLowerCase();\r\n    \tString t = &quot; &quot;;\r\n    \tfor (int i = 0; i &lt; aa.length(); i++) {\r\n    \t\t    int  pp =   aa.charAt(i) ;\r\n    \t\t \r\n    \t\tif(t.indexOf(aa.charAt(i))  ==  -1  ) {\r\n    \t\t\tt = t + aa.charAt(i);\r\n    \t\t}//if\r\n    \t\t\r\n    \t\t\r\n    \t}//for\r\n    \t\r\n    \tSystem.out.println(t );// This will give =&gt; gin\r\n    \tSystem.out.println(t.length()); // this will give 3\r\n    }//main\r\n    }//end\r\n\r\nIn Java 8, this is extremely easy. We just have to use chars().distinct().count().\r\nBut the return type will be long.\r\n\r\n    class Abc{\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString a = &quot;Gini&quot;;\r\n    \t\tString aa = a.toLowerCase();\r\n    \t\tSystem.out.println(  countUnique(aa));\r\n    \t}\r\n    \r\n    \tprivate static long  countUnique(String aa) {\r\n    \t\t// this will give 3(gin. another i will be not be counted as we have used distinct())\r\n             return  aa.chars().distinct().count() ; \r\n    \t}\r\n    }\r\n\r\nAnother classic Interview Question : Find the First non repeating character in the String OR the First Unique Character in a String. This problem can be solved using the knowledge of HashMap.\r\n\r\n        \r\n    class Abc{\r\n    \tpublic static void main(String[] args) {\r\n    \t\t  String a = &quot;GinaRani&quot; ;\r\n    // Output will be G\r\n    \t\t  System.out.println( firstNonRepeatingCharacter(a) );\r\n    \r\n    \t}//main\r\n    \tpublic static Character firstNonRepeatingCharacter(String a){\r\n          Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n            char[] charArray = a.toCharArray();\r\n            for(    Character  ch   :     charArray){\r\n            \t   if( map.containsKey(ch)   )   {\r\n            \t\t    map.put(ch, map.get(ch) +1 ) ;\r\n            \t   } else{\r\n            \t\t   map.put(ch, 1);\r\n            \t   }\r\n            }//for\r\n          \r\n            // 1st non repeating character\r\n            \r\n            for( int  i = 0 ; i &lt; a.length(); i ++ ){\r\n            \t char chh = a.charAt(i);\r\n            \t if(  map.get(chh) == 1 ){\r\n            \t\t System.out.println(&quot;first non repeating character in the String is  : &quot;);\r\n            \t\t   return chh ; \r\n            \t }//if\r\n            }//for\r\n            \r\n            return null; \r\n            \r\n    \t}//firstNonRepeatingCharacter\r\n    }//end\r\n\r\n\r\n\r\nWe will do this with the help of list comprehension in Python. We are not using set() operator.\r\nIn Python :\r\n\r\n    string = &#39;GiniGinaProtijayi&#39;\r\n     \r\n    unique = []\r\n    \r\n    [ unique.append(ch)  for ch in string if ch not in unique ]\r\n    lengthofUniqueCharacters = len(unique)\r\n    print(&quot;length of Unique Characters =&gt; &quot; ,lengthofUniqueCharacters)\r\n    print(&quot;as a list =&gt; &quot;,unique)\r\n    print(&quot;as a string =&gt; &quot; , &#39;&#39;.join(unique))\r\n\r\nJust to print out the distinct characters in Java 8:\r\n\r\n    public class Test5 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString a = &quot;GinaGini&quot;;\r\n    \r\n    \t\tString aa = a.chars().distinct()\r\n    \t\t\t\t.collect(StringBuilder::new, \r\n    \t\t\t\t\t\tStringBuilder::appendCodePoint, \r\n    \t\t\t\t\t\tStringBuilder::append)\r\n    \t\t\t\t.toString();\r\n    \t\tSystem.out.println(aa);//Gina\r\n    \r\n    \t}// main\r\n    \r\n    }\r\n\r\n","title":"Counting unique characters in a String given by the user","body":"<p>Unique Characters In A String:</p>\n\n<p>This is a basic Java interview subject, where the interviewer wants to check the knowledge \nof HashSet or indexOf(in case of Java 7) .\nLet's take up a question. \nLet's say the interview tells you to<br>\nCheck if the String is unique : \nHashSet ensures uniqueness ,In other words , every object in the HashSet presents only once.\nHence, we will use HashSet. </p>\n\n<pre><code>import java.util.HashSet;\nimport java.util.Set;\n\npublic class Abc {\npublic static void main(String[] args) {\n    String a = \"Gini\";\n    String aa = a.toLowerCase();\n       if(  isUnique(aa)   ) {\n              System.out.println(\"All characters are unique\");\n       }else {\n           System.out.println(\"All characters  are not unique\");\n       }\n}\npublic static boolean isUnique(String a ) {\n    Set&lt; Character&gt; set = new HashSet&lt;&gt;();\n    char[] charArray =a.toCharArray();\n    for(Character ch :charArray) {\n        if(!set.add(ch)) {\n            return false;\n        }//if\n    }//foreach\n        return true;\n}\n}\n</code></pre>\n\n<p>The output in case of GINI will be : All characters  are not unique </p>\n\n<p>Now, the count of the unique characters.\nHere also we will use HashSet because of the uniqueness.</p>\n\n<pre><code>import java.util.HashSet;\n\npublic class practice11 {\npublic static void main(String[] args) {\n    String a = \"Gini\";\n    String aa = a.toLowerCase();\n    System.out.println(countUniqueCharacters(aa));  \n}\npublic static int  countUniqueCharacters(String a) {\n    char[] charArray = a.toCharArray();\n\n    HashSet&lt;Character&gt; set = new HashSet&lt;Character&gt;();\n\n    for(int i = 0 ; i&lt; charArray.length ; i++) {\n\n         set.add(charArray[i]);\n    }//for\n    return   set.size() ;//This will give 3\n}\n}\n</code></pre>\n\n<p>The output for Gini will be 3 (Gin will be considered) .</p>\n\n<p>indexOf Method :\nindexOf() returns the index of first occurrence of the character and then we are comparing with -1.</p>\n\n<pre><code>public class Abc {\npublic static void main(String[] args) {\n    String a = \"Gini\";\n    String aa = a.toLowerCase();\n    String t = \" \";\n    for (int i = 0; i &lt; aa.length(); i++) {\n            int  pp =   aa.charAt(i) ;\n\n        if(t.indexOf(aa.charAt(i))  ==  -1  ) {\n            t = t + aa.charAt(i);\n        }//if\n\n\n    }//for\n\n    System.out.println(t );// This will give =&gt; gin\n    System.out.println(t.length()); // this will give 3\n}//main\n}//end\n</code></pre>\n\n<p>In Java 8, this is extremely easy. We just have to use chars().distinct().count().\nBut the return type will be long.</p>\n\n<pre><code>class Abc{\n    public static void main(String[] args) {\n        String a = \"Gini\";\n        String aa = a.toLowerCase();\n        System.out.println(  countUnique(aa));\n    }\n\n    private static long  countUnique(String aa) {\n        // this will give 3(gin. another i will be not be counted as we have used distinct())\n         return  aa.chars().distinct().count() ; \n    }\n}\n</code></pre>\n\n<p>Another classic Interview Question : Find the First non repeating character in the String OR the First Unique Character in a String. This problem can be solved using the knowledge of HashMap.</p>\n\n<pre><code>class Abc{\n    public static void main(String[] args) {\n          String a = \"GinaRani\" ;\n// Output will be G\n          System.out.println( firstNonRepeatingCharacter(a) );\n\n    }//main\n    public static Character firstNonRepeatingCharacter(String a){\n      Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n        char[] charArray = a.toCharArray();\n        for(    Character  ch   :     charArray){\n               if( map.containsKey(ch)   )   {\n                    map.put(ch, map.get(ch) +1 ) ;\n               } else{\n                   map.put(ch, 1);\n               }\n        }//for\n\n        // 1st non repeating character\n\n        for( int  i = 0 ; i &lt; a.length(); i ++ ){\n             char chh = a.charAt(i);\n             if(  map.get(chh) == 1 ){\n                 System.out.println(\"first non repeating character in the String is  : \");\n                   return chh ; \n             }//if\n        }//for\n\n        return null; \n\n    }//firstNonRepeatingCharacter\n}//end\n</code></pre>\n\n<p>We will do this with the help of list comprehension in Python. We are not using set() operator.\nIn Python :</p>\n\n<pre><code>string = 'GiniGinaProtijayi'\n\nunique = []\n\n[ unique.append(ch)  for ch in string if ch not in unique ]\nlengthofUniqueCharacters = len(unique)\nprint(\"length of Unique Characters =&gt; \" ,lengthofUniqueCharacters)\nprint(\"as a list =&gt; \",unique)\nprint(\"as a string =&gt; \" , ''.join(unique))\n</code></pre>\n\n<p>Just to print out the distinct characters in Java 8:</p>\n\n<pre><code>public class Test5 {\n    public static void main(String[] args) {\n        String a = \"GinaGini\";\n\n        String aa = a.chars().distinct()\n                .collect(StringBuilder::new, \n                        StringBuilder::appendCodePoint, \n                        StringBuilder::append)\n                .toString();\n        System.out.println(aa);//Gina\n\n    }// main\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5564509,"reputation":1825,"user_id":4412324,"accept_rate":50,"display_name":"Maged Saeed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534547763,"creation_date":1534501142,"answer_id":51893253,"question_id":22597527,"body_markdown":"In case you are allowed to use Java Sets, The following code is readable, compact and doing the job smoothly\r\n\r\n    public static int countUniqueChar(String word){\r\n        Set&lt;Character&gt; wordSet = new HashSet&lt;&gt;();\r\n        for(Character c : word.toCharArray())\r\n            wordSet.add(c);\r\n        return wordSet.size();\r\n    }\r\n","title":"Counting unique characters in a String given by the user","body":"<p>In case you are allowed to use Java Sets, The following code is readable, compact and doing the job smoothly</p>\n\n<pre><code>public static int countUniqueChar(String word){\n    Set&lt;Character&gt; wordSet = new HashSet&lt;&gt;();\n    for(Character c : word.toCharArray())\n        wordSet.add(c);\n    return wordSet.size();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17982589,"reputation":11,"user_id":13068540,"display_name":"Khant Lynn Yaung"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584865896,"creation_date":1584861990,"answer_id":60796891,"question_id":22597527,"body_markdown":"    String myString = &quot;&quot;;\r\n    \r\n    for(int i=0; i&lt; word.length(); i++) {\r\n        if(myString.indexOf(word.charAt(i)) == -1) {\r\n            System.out.println(word.charAt(i));\r\n            myString = myString + word.charAt(i);\r\n        }\r\n    }\r\n    return myString.length();","title":"Counting unique characters in a String given by the user","body":"<pre><code>String myString = \"\";\n\nfor(int i=0; i&lt; word.length(); i++) {\n    if(myString.indexOf(word.charAt(i)) == -1) {\n        System.out.println(word.charAt(i));\n        myString = myString + word.charAt(i);\n    }\n}\nreturn myString.length();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7841679,"reputation":1,"user_id":5927975,"display_name":"Jay Hoanger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650128580,"creation_date":1649788570,"answer_id":71847582,"question_id":22597527,"body_markdown":"Since you can&#39;t use advanced JAVA classes like this:\r\n\r\n    int solution(String s) {\r\n        return (int) s.chars().distinct().count();\r\n    }\r\n\r\nYou can count each character in its own array index by ASCII:\r\n\r\n    int solution(String s) {\r\n        //1. Create a ASCII char array\r\n        //2. count chars into array.\r\n        //3. loop array and return count of each greater than 0\r\n        \r\n        int[] a = new int[128];\r\n        \r\n        for(int i=0; i&lt;s.length(); i++)\r\n            a[s.charAt(i)] += 1;\r\n        \r\n        int count = 0;\r\n        for(int i=0; i&lt;a.length; i++)\r\n            if(a[i] &gt; 0)\r\n                count += 1;\r\n            \r\n        return count;\r\n    }\r\n\r\n","title":"Counting unique characters in a String given by the user","body":"<p>Since you can't use advanced JAVA classes like this:</p>\n<pre><code>int solution(String s) {\n    return (int) s.chars().distinct().count();\n}\n</code></pre>\n<p>You can count each character in its own array index by ASCII:</p>\n<pre><code>int solution(String s) {\n    //1. Create a ASCII char array\n    //2. count chars into array.\n    //3. loop array and return count of each greater than 0\n    \n    int[] a = new int[128];\n    \n    for(int i=0; i&lt;s.length(); i++)\n        a[s.charAt(i)] += 1;\n    \n    int count = 0;\n    for(int i=0; i&lt;a.length; i++)\n        if(a[i] &gt; 0)\n            count += 1;\n        \n    return count;\n}\n</code></pre>\n"}],"owner":{"account_id":4217692,"reputation":119,"user_id":3453347,"display_name":"user3453347"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83951,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":22597559,"answer_count":13,"score":12,"last_activity_date":1650128580,"creation_date":1395611147,"question_id":22597527,"body_markdown":"I have to write a program that counts the uniques characters in a String given by the user. For example &quot;abc&quot; returns 3 and &quot;aabbccd&quot; returns 4. I am not allow to use  advanced Java classes like Map, Set, etc. I can only use arrays, Strings, for loops, while loops, if statements. I am trying to use a nested loop but am getting confused about how to write the algorithm for the second for loop.\r\n\r\n    public static int countUniqueCharacters(String input){\r\n  \r\n    String orgInput = input.toLowerCase();\r\n    \t\tint count = 0;\r\n    \t\tint stringLength = input.length();\r\n    \t\tfor( int i = 0; i&lt;stringLength; i++){\r\n    \t\t\tfor(int j = 2; j &gt; j-i-1; j--){\r\n    \t\t\t\tchar temp = orgInput.charAt(i);\r\n    \t\t\t\tif (temp == orgInput.charAt(j)){\r\n    \t\t\t\t\tcount++;","title":"Counting unique characters in a String given by the user","body":"<p>I have to write a program that counts the uniques characters in a String given by the user. For example \"abc\" returns 3 and \"aabbccd\" returns 4. I am not allow to use  advanced Java classes like Map, Set, etc. I can only use arrays, Strings, for loops, while loops, if statements. I am trying to use a nested loop but am getting confused about how to write the algorithm for the second for loop.</p>\n\n<pre><code>public static int countUniqueCharacters(String input){\n\nString orgInput = input.toLowerCase();\n        int count = 0;\n        int stringLength = input.length();\n        for( int i = 0; i&lt;stringLength; i++){\n            for(int j = 2; j &gt; j-i-1; j--){\n                char temp = orgInput.charAt(i);\n                if (temp == orgInput.charAt(j)){\n                    count++;\n</code></pre>\n"},{"tags":["java","tomcat","spring-mvc"],"comments":[{"owner":{"account_id":1212717,"reputation":11317,"user_id":1180968,"accept_rate":100,"display_name":"Sajan Chandran"},"score":0,"creation_date":1345490911,"post_id":12043618,"comment_id":16079381,"body_markdown":"Change your url pattern in your web xml from /ui/* to /ui","body":"Change your url pattern in your web xml from /ui/* to /ui"},{"owner":{"account_id":1669972,"reputation":2383,"user_id":1536611,"accept_rate":86,"display_name":"km1"},"score":0,"creation_date":1345492366,"post_id":12043618,"comment_id":16079973,"body_markdown":"@Sajan, I should have included the other RequestMappings. (See edit) Changing the pattern from /ui/* to /ui breaks all the mappings and I get 404 for URIs /ui, /ui/ and /ui/other","body":"@Sajan, I should have included the other RequestMappings. (See edit) Changing the pattern from /ui/* to /ui breaks all the mappings and I get 404 for URIs /ui, /ui/ and /ui/other"},{"owner":{"account_id":319894,"reputation":43513,"user_id":637889,"accept_rate":93,"display_name":"andyb"},"score":0,"creation_date":1345493475,"post_id":12043618,"comment_id":16080409,"body_markdown":"What context is the webapp deployed to in Tomcat? Is your application called `ROOT.war` or `&lt;another_name&gt;.war` or does the application just  exist in a directory under webapps?","body":"What context is the webapp deployed to in Tomcat? Is your application called <code>ROOT.war</code> or <code>&lt;another_name&gt;.war</code> or does the application just  exist in a directory under webapps?"},{"owner":{"account_id":1669972,"reputation":2383,"user_id":1536611,"accept_rate":86,"display_name":"km1"},"score":0,"creation_date":1345493614,"post_id":12043618,"comment_id":16080467,"body_markdown":"@andyb, it is deployed to another context. In my example I use &quot;myapp&quot;. Am I wrong to think this should work?","body":"@andyb, it is deployed to another context. In my example I use &quot;myapp&quot;. Am I wrong to think this should work?"},{"owner":{"account_id":319894,"reputation":43513,"user_id":637889,"accept_rate":93,"display_name":"andyb"},"score":0,"creation_date":1345494581,"post_id":12043618,"comment_id":16080839,"body_markdown":"No, it definitely should work as expected. Which version of Spring are you using? Also, how are you configuring Spring, something like `&lt;context:component-scan base-package=&quot;...&quot;/&gt;`?","body":"No, it definitely should work as expected. Which version of Spring are you using? Also, how are you configuring Spring, something like <code>&lt;context:component-scan base-package=&quot;...&quot;&#47;&gt;</code>?"},{"owner":{"account_id":1669972,"reputation":2383,"user_id":1536611,"accept_rate":86,"display_name":"km1"},"score":0,"creation_date":1345496330,"post_id":12043618,"comment_id":16081511,"body_markdown":"Spring 3.1.2. Yep, got the component-scan scanning the appropriate package.","body":"Spring 3.1.2. Yep, got the component-scan scanning the appropriate package."}],"answers":[{"tags":[],"owner":{"account_id":1669972,"reputation":2383,"user_id":1536611,"accept_rate":86,"display_name":"km1"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1345566291,"creation_date":1345566291,"answer_id":12059197,"question_id":12043618,"body_markdown":"I eventually added a new RequestMapping to redirect the /ui requests to /ui/.\r\nAlso removed the empty string mapping from the mainPage&#39;s RequestMapping.\r\nNo edit required to web.xml.\r\n\r\nEnded up with something like this in my controller:\r\n\r\n        @RequestMapping(value=&quot;/ui&quot;)\r\n        public ModelAndView redirectToMainPage() {\r\n            return new ModelAndView(&quot;redirect:/ui/&quot;);\r\n        }\r\n\r\n        @RequestMapping(value=&quot;/&quot;)\r\n        public ModelAndView mainPage() { \r\n            DataModel model = initModel();\r\n            model.setView(&quot;intro&quot;);     \r\n            return new ModelAndView(&quot;main&quot;, &quot;model&quot;, model);\r\n        }\r\n\r\n        @RequestMapping(value={&quot;/other&quot;})\r\n        public ModelAndView otherPage() { \r\n            DataModel model = initModel();\r\n            model.setView(&quot;otherPage&quot;);     \r\n            return new ModelAndView(&quot;other&quot;, &quot;model&quot;, model);\r\n        }\r\n    \r\n\r\nNow the URL `http://myhost/myapp/ui` redirects to `http://myhost/myapp/ui/` and then my controller displays the introductory page. \r\n\r\n","title":"How do I map Spring MVC controller to a uri with and without trailing slash?","body":"<p>I eventually added a new RequestMapping to redirect the /ui requests to /ui/.\nAlso removed the empty string mapping from the mainPage's RequestMapping.\nNo edit required to web.xml.</p>\n\n<p>Ended up with something like this in my controller:</p>\n\n<pre><code>    @RequestMapping(value=\"/ui\")\n    public ModelAndView redirectToMainPage() {\n        return new ModelAndView(\"redirect:/ui/\");\n    }\n\n    @RequestMapping(value=\"/\")\n    public ModelAndView mainPage() { \n        DataModel model = initModel();\n        model.setView(\"intro\");     \n        return new ModelAndView(\"main\", \"model\", model);\n    }\n\n    @RequestMapping(value={\"/other\"})\n    public ModelAndView otherPage() { \n        DataModel model = initModel();\n        model.setView(\"otherPage\");     \n        return new ModelAndView(\"other\", \"model\", model);\n    }\n</code></pre>\n\n<p>Now the URL <code>http://myhost/myapp/ui</code> redirects to <code>http://myhost/myapp/ui/</code> and then my controller displays the introductory page. </p>\n"},{"tags":[],"owner":{"account_id":319894,"reputation":43513,"user_id":637889,"accept_rate":93,"display_name":"andyb"},"down_vote_count":1,"up_vote_count":17,"is_accepted":true,"score":16,"last_activity_date":1345648438,"creation_date":1345648438,"answer_id":12076223,"question_id":12043618,"body_markdown":"If your web application exists in the web server&#39;s webapps directory, for example `webapps/myapp/` then the root of this application context can be accessed at `http://localhost:8080/myapp/` assuming the default Tomcat port. This should work with or without the trailing slash, _I think_ by default - certainly that is the case in Jetty v8.1.5\r\n\r\nOnce you hit `/myapp` the Spring [DispatcherServlet][1] takes over, routing requests to the `&lt;servlet-name&gt;` as configured in your `web.xml`, which in your case is `/ui/*`.\r\n\r\nThe DispatcherServlet then routes all requests from `http://localhost/myapp/ui/` to the `@Controller`s.\r\n\r\nIn the _Controller_ itself you can use **`@RequestMapping(value = &quot;/*&quot;)`** for the _mainPage()_ method, which will result in both `http://localhost/myapp/ui/` and `http://localhost/myapp/ui` being routed to _mainPage()_.\r\n\r\nNote: you should also be using Spring &gt;= v3.0.3 due to [SPR-7064][2]\r\n\r\nFor completeness, here are the files I tested this with:\r\n\r\n###src/main/java/controllers/UIRootController.java\r\n\r\n    package controllers;\r\n\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n\r\n    @Controller\r\n    public class UiRootController {\r\n      @RequestMapping(value = &quot;/*&quot;)\r\n      public ModelAndView mainPage() {\r\n        return new ModelAndView(&quot;index&quot;);\r\n      }\r\n\r\n      @RequestMapping(value={&quot;/other&quot;})\r\n      public ModelAndView otherPage() {\r\n        return new ModelAndView(&quot;other&quot;);\r\n      }\r\n    }\r\n\r\n###WEB-INF/web.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n      version=&quot;3.0&quot; metadata-complete=&quot;false&quot;&gt;\r\n      &lt;servlet&gt;\r\n        &lt;servlet-name&gt;ui&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;!-- spring automatically discovers /WEB-INF/&lt;servlet-name&gt;-servlet.xml --&gt;\r\n      &lt;/servlet&gt;\r\n\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;ui&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/ui/*&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\n###WEB-INF/ui-servlet.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n      xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n      xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n      http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n      http://www.springframework.org/schema/context\r\n      http://www.springframework.org/schema/context/spring-context-3.0.xsd&quot;&gt;\r\n\r\n    &lt;context:component-scan base-package=&quot;controllers&quot; /&gt;\r\n\r\n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;\r\n      p:order=&quot;2&quot;\r\n      p:viewClass=&quot;org.springframework.web.servlet.view.JstlView&quot;\r\n      p:prefix=&quot;/WEB-INF/views/&quot;\r\n      p:suffix=&quot;.jsp&quot;/&gt;\r\n    &lt;/beans&gt;\r\n\r\nAnd also 2 JSP files at `WEB-INF/views/index.jsp` and `WEB-INF/views/other.jsp`.\r\n\r\nResult:\r\n\r\n - `http://localhost/myapp/` -&gt; directory listing\r\n - `http://localhost/myapp/ui` and `http://localhost/myapp/ui/` -&gt; index.jsp\r\n - `http://localhost/myapp/ui/other` and `http://localhost/myapp/ui/other/` -&gt; other.jsp\r\n\r\nHope this helps!\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/web/servlet/DispatcherServlet.html\r\n  [2]: https://jira.springsource.org/browse/SPR-7064","title":"How do I map Spring MVC controller to a uri with and without trailing slash?","body":"<p>If your web application exists in the web server's webapps directory, for example <code>webapps/myapp/</code> then the root of this application context can be accessed at <code>http://localhost:8080/myapp/</code> assuming the default Tomcat port. This should work with or without the trailing slash, <em>I think</em> by default - certainly that is the case in Jetty v8.1.5</p>\n\n<p>Once you hit <code>/myapp</code> the Spring <a href=\"http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/web/servlet/DispatcherServlet.html\">DispatcherServlet</a> takes over, routing requests to the <code>&lt;servlet-name&gt;</code> as configured in your <code>web.xml</code>, which in your case is <code>/ui/*</code>.</p>\n\n<p>The DispatcherServlet then routes all requests from <code>http://localhost/myapp/ui/</code> to the <code>@Controller</code>s.</p>\n\n<p>In the <em>Controller</em> itself you can use <strong><code>@RequestMapping(value = \"/*\")</code></strong> for the <em>mainPage()</em> method, which will result in both <code>http://localhost/myapp/ui/</code> and <code>http://localhost/myapp/ui</code> being routed to <em>mainPage()</em>.</p>\n\n<p>Note: you should also be using Spring >= v3.0.3 due to <a href=\"https://jira.springsource.org/browse/SPR-7064\">SPR-7064</a></p>\n\n<p>For completeness, here are the files I tested this with:</p>\n\n<h3>src/main/java/controllers/UIRootController.java</h3>\n\n<pre><code>package controllers;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.servlet.ModelAndView;\n\n@Controller\npublic class UiRootController {\n  @RequestMapping(value = \"/*\")\n  public ModelAndView mainPage() {\n    return new ModelAndView(\"index\");\n  }\n\n  @RequestMapping(value={\"/other\"})\n  public ModelAndView otherPage() {\n    return new ModelAndView(\"other\");\n  }\n}\n</code></pre>\n\n<h3>WEB-INF/web.xml</h3>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n  version=\"3.0\" metadata-complete=\"false\"&gt;\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;ui&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;!-- spring automatically discovers /WEB-INF/&lt;servlet-name&gt;-servlet.xml --&gt;\n  &lt;/servlet&gt;\n\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;ui&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/ui/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<h3>WEB-INF/ui-servlet.xml</h3>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n  xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xmlns:p=\"http://www.springframework.org/schema/p\"\n  xmlns:context=\"http://www.springframework.org/schema/context\"\n  xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n  http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n  http://www.springframework.org/schema/context\n  http://www.springframework.org/schema/context/spring-context-3.0.xsd\"&gt;\n\n&lt;context:component-scan base-package=\"controllers\" /&gt;\n\n&lt;bean id=\"viewResolver\" class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"\n  p:order=\"2\"\n  p:viewClass=\"org.springframework.web.servlet.view.JstlView\"\n  p:prefix=\"/WEB-INF/views/\"\n  p:suffix=\".jsp\"/&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>And also 2 JSP files at <code>WEB-INF/views/index.jsp</code> and <code>WEB-INF/views/other.jsp</code>.</p>\n\n<p>Result:</p>\n\n<ul>\n<li><code>http://localhost/myapp/</code> -> directory listing</li>\n<li><code>http://localhost/myapp/ui</code> and <code>http://localhost/myapp/ui/</code> -> index.jsp</li>\n<li><code>http://localhost/myapp/ui/other</code> and <code>http://localhost/myapp/ui/other/</code> -> other.jsp</li>\n</ul>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":3277434,"reputation":800,"user_id":2759005,"accept_rate":78,"display_name":"WoutVanAertTheBest"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476110499,"creation_date":1400076413,"answer_id":23657029,"question_id":12043618,"body_markdown":"try adding \r\n\r\n`    @RequestMapping(method = RequestMethod.GET)\r\n    public String list() {\r\n    \treturn &quot;redirect:/strategy/list&quot;;\r\n    }   `\r\n\r\nthe result:\r\n\r\n        @RequestMapping(value = &quot;/strategy&quot;)\r\n        public class StrategyController {\r\n        static Logger logger = LoggerFactory.getLogger(StrategyController.class);\r\n     \r\n        @Autowired\r\n        private StrategyService strategyService;\r\n     \r\n        @Autowired\r\n        private MessageSource messageSource;\r\n     \r\n        @RequestMapping(method = RequestMethod.GET)\r\n        public String list() {\r\n        \treturn &quot;redirect:/strategy/list&quot;;\r\n        }   \r\n        \r\n        @RequestMapping(value = {&quot;/&quot;, &quot;/list&quot;}, method = RequestMethod.GET)\r\n        public String listOfStrategies(Model model) {\r\n            logger.info(&quot;IN: Strategy/list-GET&quot;);\r\n     \r\n            List&lt;Strategy&gt; strategies = strategyService.getStrategies();\r\n            model.addAttribute(&quot;strategies&quot;, strategies);\r\n     \r\n            // if there was an error in /add, we do not want to overwrite\r\n            // the existing strategy object containing the errors.\r\n            if (!model.containsAttribute(&quot;strategy&quot;)) {\r\n                logger.info(&quot;Adding Strategy object to model&quot;);\r\n                Strategy strategy = new Strategy();\r\n                model.addAttribute(&quot;strategy&quot;, strategy);\r\n            }\r\n            return &quot;strategy-list&quot;;\r\n        }  \r\n\r\n\r\n** credits:\r\n \r\n[Advanced @RequestMapping tricks – Controller root and URI Template][1]\r\n\r\n  [1]: http://duckranger.com/2012/04/advanced-requestmapping-tricks-controller-root-and-uri-templates/\r\n","title":"How do I map Spring MVC controller to a uri with and without trailing slash?","body":"<p>try adding </p>\n\n<p><code>@RequestMapping(method = RequestMethod.GET)\n    public String list() {\n        return \"redirect:/strategy/list\";\n    }</code></p>\n\n<p>the result:</p>\n\n<pre><code>    @RequestMapping(value = \"/strategy\")\n    public class StrategyController {\n    static Logger logger = LoggerFactory.getLogger(StrategyController.class);\n\n    @Autowired\n    private StrategyService strategyService;\n\n    @Autowired\n    private MessageSource messageSource;\n\n    @RequestMapping(method = RequestMethod.GET)\n    public String list() {\n        return \"redirect:/strategy/list\";\n    }   \n\n    @RequestMapping(value = {\"/\", \"/list\"}, method = RequestMethod.GET)\n    public String listOfStrategies(Model model) {\n        logger.info(\"IN: Strategy/list-GET\");\n\n        List&lt;Strategy&gt; strategies = strategyService.getStrategies();\n        model.addAttribute(\"strategies\", strategies);\n\n        // if there was an error in /add, we do not want to overwrite\n        // the existing strategy object containing the errors.\n        if (!model.containsAttribute(\"strategy\")) {\n            logger.info(\"Adding Strategy object to model\");\n            Strategy strategy = new Strategy();\n            model.addAttribute(\"strategy\", strategy);\n        }\n        return \"strategy-list\";\n    }  \n</code></pre>\n\n<p>** credits:</p>\n\n<p><a href=\"http://duckranger.com/2012/04/advanced-requestmapping-tricks-controller-root-and-uri-templates/\" rel=\"nofollow\">Advanced @RequestMapping tricks – Controller root and URI Template</a></p>\n"},{"tags":[],"owner":{"account_id":5993785,"reputation":21,"user_id":4709100,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1427226181,"creation_date":1427226181,"answer_id":29241472,"question_id":12043618,"body_markdown":"Another solution I found is to not give the request mapping for mainPage() a value:\r\n\r\n    @RequestMapping\r\n    public ModelAndView mainPage() { \r\n        DataModel model = initModel();\r\n        model.setView(&quot;intro&quot;);     \r\n        return new ModelAndView(&quot;main&quot;, &quot;model&quot;, model);\r\n    }\r\n\r\n","title":"How do I map Spring MVC controller to a uri with and without trailing slash?","body":"<p>Another solution I found is to not give the request mapping for mainPage() a value:</p>\n\n<pre><code>@RequestMapping\npublic ModelAndView mainPage() { \n    DataModel model = initModel();\n    model.setView(\"intro\");     \n    return new ModelAndView(\"main\", \"model\", model);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1967474,"reputation":3342,"user_id":1767316,"accept_rate":42,"display_name":"user1767316"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1481921377,"creation_date":1481921377,"answer_id":41192224,"question_id":12043618,"body_markdown":"Using Springboot, my app could reply both with and without trailing slash by setting @RequestMapping&#39;s &quot;value&quot; option to the empty string:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/some&quot;)\r\n    public class SomeController {\r\n    //                  value = &quot;/&quot; (default) ,\r\n    //                  would limit valid url to that with trailing slash.\r\n        @RequestMapping(value = &quot;&quot;, method = RequestMethod.GET)\r\n        public Collection&lt;Student&gt; getAllStudents() {\r\n            String msg = &quot;getting all Students&quot;;\r\n            out.println(msg);\r\n            return StudentService.getAllStudents();\r\n        }\r\n    }","title":"How do I map Spring MVC controller to a uri with and without trailing slash?","body":"<p>Using Springboot, my app could reply both with and without trailing slash by setting @RequestMapping's \"value\" option to the empty string:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/some\")\npublic class SomeController {\n//                  value = \"/\" (default) ,\n//                  would limit valid url to that with trailing slash.\n    @RequestMapping(value = \"\", method = RequestMethod.GET)\n    public Collection&lt;Student&gt; getAllStudents() {\n        String msg = \"getting all Students\";\n        out.println(msg);\n        return StudentService.getAllStudents();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1468909,"reputation":4795,"user_id":1380968,"display_name":"Mohan"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1500758770,"creation_date":1500753751,"answer_id":45258671,"question_id":12043618,"body_markdown":"&gt; [PathMatchConfigurer][1] api allows you to configure various settings\r\n&gt; related to URL mapping and path matching. As per the latest version of spring, trail path matching is enabled by default. For customization, check the below example.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/PathMatchConfigurer.html\r\n\r\n**For Java-based configuration**\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class AppConfig extends WebMvcConfigurerAdapter {\r\n        @Override\r\n        public void configurePathMatch(PathMatchConfigurer configurer) {\r\n            configurer.setUseTrailingSlashMatch(true);\r\n        }\r\n    }\r\n\r\n**For XML-based configuration**\r\n\r\n    &lt;mvc:annotation-driven&gt;\r\n        &lt;mvc:path-matching trailing-slash=&quot;true&quot;/&gt;\r\n    &lt;/mvc:annotation-driven&gt;\r\n\r\n&gt;*For @RequestMapping(&quot;/foo&quot;), if trailing slash match set to **false**, example.com/foo/ != example.com/foo and if it&#39;s set to **true** (default), example.com/foo/ == example.com/foo*\r\n\r\n\r\nCheers!","title":"How do I map Spring MVC controller to a uri with and without trailing slash?","body":"<blockquote>\n  <p><a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/config/annotation/PathMatchConfigurer.html\" rel=\"noreferrer\">PathMatchConfigurer</a> api allows you to configure various settings\n  related to URL mapping and path matching. As per the latest version of spring, trail path matching is enabled by default. For customization, check the below example.</p>\n</blockquote>\n\n<p><strong>For Java-based configuration</strong></p>\n\n<pre><code>@Configuration\n@EnableWebMvc\npublic class AppConfig extends WebMvcConfigurerAdapter {\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n        configurer.setUseTrailingSlashMatch(true);\n    }\n}\n</code></pre>\n\n<p><strong>For XML-based configuration</strong></p>\n\n<pre><code>&lt;mvc:annotation-driven&gt;\n    &lt;mvc:path-matching trailing-slash=\"true\"/&gt;\n&lt;/mvc:annotation-driven&gt;\n</code></pre>\n\n<blockquote>\n  <p><em>For @RequestMapping(\"/foo\"), if trailing slash match set to <strong>false</strong>, example.com/foo/ != example.com/foo and if it's set to <strong>true</strong> (default), example.com/foo/ == example.com/foo</em></p>\n</blockquote>\n\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650128564,"creation_date":1650128564,"answer_id":71895858,"question_id":12043618,"body_markdown":"Not sure if this is the ideal approach, but what worked for me was to treat them as if they were **two different paths** and make them **both accepted** by each of my endpoints, such as.\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/mb/actor&quot;)\r\npublic class ActorController {\r\n\r\n@GetMapping({&quot;&quot;, &quot;/&quot;})\r\npublic ResponseEntity&lt;Object&gt; getAllActors() {\r\n\r\n    ...\r\n}\r\n\r\n@GetMapping({&quot;/{actorId}&quot;, &quot;/{actorId}/&quot;})\r\npublic ResponseEntity&lt;Object&gt; getActor(@PathVariable UUID actorId) {\r\n\r\n    ...\r\n}\r\n```\r\n\r\nThere may be best ways to do this and to avoid this duplication, and I&#39;d love to know that. However, what I found when I tried using `configurer.setUseTrailingSlashMatch(true);` is that ***broken paths*** also start becoming accepted, such as `/api/mb////actor` (with many slashs), and that&#39;s why I ended up going the multiple paths instead.","title":"How do I map Spring MVC controller to a uri with and without trailing slash?","body":"<p>Not sure if this is the ideal approach, but what worked for me was to treat them as if they were <strong>two different paths</strong> and make them <strong>both accepted</strong> by each of my endpoints, such as.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/mb/actor&quot;)\npublic class ActorController {\n\n@GetMapping({&quot;&quot;, &quot;/&quot;})\npublic ResponseEntity&lt;Object&gt; getAllActors() {\n\n    ...\n}\n\n@GetMapping({&quot;/{actorId}&quot;, &quot;/{actorId}/&quot;})\npublic ResponseEntity&lt;Object&gt; getActor(@PathVariable UUID actorId) {\n\n    ...\n}\n</code></pre>\n<p>There may be best ways to do this and to avoid this duplication, and I'd love to know that. However, what I found when I tried using <code>configurer.setUseTrailingSlashMatch(true);</code> is that <em><strong>broken paths</strong></em> also start becoming accepted, such as <code>/api/mb////actor</code> (with many slashs), and that's why I ended up going the multiple paths instead.</p>\n"}],"owner":{"account_id":1669972,"reputation":2383,"user_id":1536611,"accept_rate":86,"display_name":"km1"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39970,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":12076223,"answer_count":7,"score":24,"last_activity_date":1650128564,"creation_date":1345489813,"question_id":12043618,"body_markdown":"I have a Spring Controller with several RequestMappings for different URIs. My servlet is &quot;ui&quot;. The servlet&#39;s base URI only works with a trailing slash. I would like my users to not have to enter the trailing slash.\r\n\r\nThis URI works:\r\n    \r\n    http://localhost/myapp/ui/\r\n\r\nThis one does not:\r\n\r\n    http://localhost/myapp/ui\r\nIt gives me a HTTP Status 404 message.\r\n\r\n\r\nThe servlet and mapping from my web.xml are:\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;ui&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    \r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;ui&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/ui/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;    \r\n\r\nMy Controller: \r\n\r\n    @Controller\r\n    public class UiRootController {\r\n\r\n        @RequestMapping(value={&quot;&quot;,&quot;/&quot;})\r\n        public ModelAndView mainPage() { \r\n            DataModel model = initModel();\r\n            model.setView(&quot;intro&quot;);\t\t\r\n            return new ModelAndView(&quot;main&quot;, &quot;model&quot;, model);\r\n        }\r\n\r\n        @RequestMapping(value={&quot;/other&quot;})\r\n        public ModelAndView otherPage() { \r\n            DataModel model = initModel();\r\n            model.setView(&quot;otherPage&quot;);\t\t\r\n            return new ModelAndView(&quot;other&quot;, &quot;model&quot;, model);\r\n        }\r\n\r\n    }\r\n\r\n    ","title":"How do I map Spring MVC controller to a uri with and without trailing slash?","body":"<p>I have a Spring Controller with several RequestMappings for different URIs. My servlet is \"ui\". The servlet's base URI only works with a trailing slash. I would like my users to not have to enter the trailing slash.</p>\n\n<p>This URI works:</p>\n\n<pre><code>http://localhost/myapp/ui/\n</code></pre>\n\n<p>This one does not:</p>\n\n<pre><code>http://localhost/myapp/ui\n</code></pre>\n\n<p>It gives me a HTTP Status 404 message.</p>\n\n<p>The servlet and mapping from my web.xml are:</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;ui&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;ui&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/ui/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;    \n</code></pre>\n\n<p>My Controller: </p>\n\n<pre><code>@Controller\npublic class UiRootController {\n\n    @RequestMapping(value={\"\",\"/\"})\n    public ModelAndView mainPage() { \n        DataModel model = initModel();\n        model.setView(\"intro\");     \n        return new ModelAndView(\"main\", \"model\", model);\n    }\n\n    @RequestMapping(value={\"/other\"})\n    public ModelAndView otherPage() { \n        DataModel model = initModel();\n        model.setView(\"otherPage\");     \n        return new ModelAndView(\"other\", \"model\", model);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","generics","polymorphism"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1650108033,"post_id":71893433,"comment_id":127041451,"body_markdown":"[Due to type erasure](https://docs.oracle.com/javase/tutorial/java/generics/erasure.html), there are no generics at runtime. It is all compile-time type checking. IIRC, the JLS just specifies that the compiler has to assure types at runtime (e.g. by inserting type casts), but does not specify where exactly they have to be inserted (i.e. it is up to the compiler where to insert them as long as type safety is guaranteed). --- &quot;*What was the main purpose of introducing generics? Since we can do the same thing with the Object class.*&quot; - We loose type checks at compile time if we use `Object`.","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">Due to type erasure</a>, there are no generics at runtime. It is all compile-time type checking. IIRC, the JLS just specifies that the compiler has to assure types at runtime (e.g. by inserting type casts), but does not specify where exactly they have to be inserted (i.e. it is up to the compiler where to insert them as long as type safety is guaranteed). --- &quot;<i>What was the main purpose of introducing generics? Since we can do the same thing with the Object class.</i>&quot; - We loose type checks at compile time if we use <code>Object</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1650108160,"post_id":71893433,"comment_id":127041474,"body_markdown":"&quot;*Kindly anyone here, explain it in every detail.*&quot; - This is out-of-scpoe for Stack Overflow. The parts of the JLS dealing with generics is one of the more complex parts of the JLS.","body":"&quot;<i>Kindly anyone here, explain it in every detail.</i>&quot; - This is out-of-scpoe for Stack Overflow. The parts of the JLS dealing with generics is one of the more complex parts of the JLS."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1650109032,"post_id":71893433,"comment_id":127041617,"body_markdown":"What aspects of generics, specifically, are you confused about? Please ask specific questions.","body":"What aspects of generics, specifically, are you confused about? Please ask specific questions."},{"owner":{"account_id":24945622,"reputation":101,"user_id":18810982,"display_name":"Wahab Khaddim"},"score":0,"creation_date":1650110335,"post_id":71893433,"comment_id":127041846,"body_markdown":"@tgdavies actually I want to understand the overall use and concept of generics. But let me discuss a single point here. We were doing things using Object class and shifted towards generics because we wanted to ensure type safety or we don&#39;t want to lose our actual data type. But even in generics, the type perimeter gets changed to Object at run time then why generics ? bcz at the end it is again the Object class.. I am new to java so kindly bear my questions.....","body":"@tgdavies actually I want to understand the overall use and concept of generics. But let me discuss a single point here. We were doing things using Object class and shifted towards generics because we wanted to ensure type safety or we don&#39;t want to lose our actual data type. But even in generics, the type perimeter gets changed to Object at run time then why generics ? bcz at the end it is again the Object class.. I am new to java so kindly bear my questions....."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650109436,"creation_date":1650109436,"answer_id":71893585,"question_id":71893433,"body_markdown":"Mostly, generics just disappear entirely at runtime. Generics is, in essence, &quot;compiler checked documentation&quot;. It&#39;s a way to get both of these things at the same time:\r\n\r\n* You have a method that returns, say, a List. You&#39;d like to document that the list only contains strings.\r\n* You&#39;d like for the compiler to be aware of this and tell users who treat that list as if it contains something other than strings to go: &quot;Hey, there - hang on. I don&#39;t think you understand how this method works, given that you appear to be treating it as if it has non-strings in it, which it won&#39;t, as the documentation says that it won&#39;t&quot;. Or vice versa: &quot;Hey there - hang on. You documented that the list you return only contain strings but you appear to be attempting to stuff a number in there. That doesn&#39;t make sense. I shall not compile this inconsistency until you fix it&quot;.\r\n\r\nAnd very much in last place, generics makes your code very slightly shorter, as the compiler will inserts casts for you silently. When the method is documented to return only a list of strings, when you call that method and then call `.get(0)` on the result, the compiler &quot;pre-casts&quot; it to a String for you.\r\n\r\nThat&#39;s it. It doesn&#39;t change anything at runtime. Those casts are even generated by the compiler.\r\n\r\nSo, how does it work:\r\n\r\n* In _signatures_, generics is compiled into the class file, but the JVM treats these as effectively &#39;a comment&#39; - the JVM completely ignores them. The point of this is solely for the benefit of `javac`, who can read these comments and act accordingly. In other words, the fact that `ArrayList` has generics needs to be known by `javac` in order to properly compile the line `new ArrayList&lt;String&gt;()` - and how does `javac` know? By checking the class file that contains the ArrayList code. Signatures are:\r\n\r\n  * The name of a class.\r\n  * The `extends` and `implements` clauses of a class.\r\n  * The type of every field, and the name of every field.\r\n  * The return type of every method, and the name of every method.\r\n  * The type (not name) of every parameter of a method.\r\n  * The throws clause of a method.\r\n\r\nEverywhere else, generics just __disappear__. So, if you write inside a method: `List&lt;String&gt; list = new ArrayList&lt;String&gt;();`, the code you end up with is _JUST_ `new ArrayList()` in the class file. That string is just __gone__. It also explains why given a `List&lt;?&gt; x;` there is simply no way to ask this list: What is your component type. Because it is no longer available at runtime.\r\n\r\n* Javac uses this information to figure out what to do.\r\n* For the purposes of compilation, _ALL_ generics-typed stuff is compiled as if they are their _lower bound_.\r\n\r\n## What about generic casts?\r\n\r\nThe closest other java language feature to a generic cast is `@SuppressWarnings`. A generic cast does __literally nothing__. It&#39;s just you telling the compiler: Shut up, I know what I&#39;m doing (hence, you best really know what you are doing to use them!!).\r\n\r\nFor example, given:\r\n\r\n```\r\nvoid foo(List&lt;?&gt; x) {\r\n  List&lt;String&gt; y = (List&lt;String&gt;) x;\r\n}\r\n```\r\n\r\nThe compiler __does nothing__. There is no way for the compiler to generate code that actually checks if `x` really is a List&lt;String&gt;. The above code __cannot__ throw an exception, even if there are non-strings in that list. As I said before, generics also cause the compiler to inject casts. So, if you later write:\r\n\r\n```\r\nx.get(0).toLowerCase();\r\n```\r\n\r\nThat will compile (there is no need to cast `x.get(0)` to String, however, it is compiled that way!) - and if you pass a list to this method that has a non-string object as first item, that line throws a `ClassCastException` even though you didn&#39;t write any casts on that line. That&#39;s because the compiler inserted a cast for you.\r\n\r\n## Think about it like this: Generics are for linking types in signatures.\r\n\r\nImagine you want to write a method that logs its argument and then just returns it. That&#39;s all it does.\r\n\r\nYou want to now &#39;link&#39; the type of the argument to the return type: You want to tell the compiler and all users of this method: Whatever type you feed into this method is identical to the type that rolls of it.\r\n\r\nIn normal java you cannot do this:\r\n\r\n```\r\nObject log(Object o) {\r\n  log.mark(&quot;Logged: {}&quot;, o);\r\n   return o;\r\n}\r\n```\r\n\r\nThe above works fine but is annoying to use. I can&#39;t do this:\r\n\r\n```\r\n  String y = scanner.next();\r\n  new URL(log(y)).openConnection();\r\n```\r\n\r\nThe reason I can&#39;t do that, is the `log(y)` expression is of type `Object`, and the URL constructor requires a String. Us humans can _clearly_ see that `log(y)` is obviously going to return a string, but the _signature_ of the `log` method doesn&#39;t indicate this at all. We have to look at the implementation of `log` to know this, and perhaps tomorrow this implementation changes. The `log` method does not indicate that any future updates will continue to just &#39;return the parameter&#39; like this. So javac __does not let you write this code__.\r\n\r\nBut now we add generics:\r\n\r\n```\r\npublic &lt;T&gt; T log(T o) {\r\n log.mark(&quot;Logged: {}&quot;, o);\r\n return o;\r\n}\r\n```\r\n\r\nAnd now it works fine. We&#39;ve told the compiler that there exists a link between the 2 places we used `T` in this code: The caller gets to choose what T ends up being, and the compiler ensures that no matter what the caller chose, your code works.\r\n\r\nHence, if you define a type parameter and use it exactly 0 or 1 times, it&#39;s virtually always either a bug or a weird hack. The point is to link things and &#39;0 or 1 times&#39; is obviously not linking things.\r\n\r\nGenerics goes much further than this, your question&#39;s scope is far too broad. If you want to know every detail, read the Java Lang Spec, which gets into hopeless amounts of detail that will take your 6 months to even understand. There&#39;s no real point to this. You don&#39;t need to know the chemical composition of brake fluid to drive a car either.\r\n","title":"Generic working : compile time vs runtime","body":"<p>Mostly, generics just disappear entirely at runtime. Generics is, in essence, &quot;compiler checked documentation&quot;. It's a way to get both of these things at the same time:</p>\n<ul>\n<li>You have a method that returns, say, a List. You'd like to document that the list only contains strings.</li>\n<li>You'd like for the compiler to be aware of this and tell users who treat that list as if it contains something other than strings to go: &quot;Hey, there - hang on. I don't think you understand how this method works, given that you appear to be treating it as if it has non-strings in it, which it won't, as the documentation says that it won't&quot;. Or vice versa: &quot;Hey there - hang on. You documented that the list you return only contain strings but you appear to be attempting to stuff a number in there. That doesn't make sense. I shall not compile this inconsistency until you fix it&quot;.</li>\n</ul>\n<p>And very much in last place, generics makes your code very slightly shorter, as the compiler will inserts casts for you silently. When the method is documented to return only a list of strings, when you call that method and then call <code>.get(0)</code> on the result, the compiler &quot;pre-casts&quot; it to a String for you.</p>\n<p>That's it. It doesn't change anything at runtime. Those casts are even generated by the compiler.</p>\n<p>So, how does it work:</p>\n<ul>\n<li><p>In <em>signatures</em>, generics is compiled into the class file, but the JVM treats these as effectively 'a comment' - the JVM completely ignores them. The point of this is solely for the benefit of <code>javac</code>, who can read these comments and act accordingly. In other words, the fact that <code>ArrayList</code> has generics needs to be known by <code>javac</code> in order to properly compile the line <code>new ArrayList&lt;String&gt;()</code> - and how does <code>javac</code> know? By checking the class file that contains the ArrayList code. Signatures are:</p>\n<ul>\n<li>The name of a class.</li>\n<li>The <code>extends</code> and <code>implements</code> clauses of a class.</li>\n<li>The type of every field, and the name of every field.</li>\n<li>The return type of every method, and the name of every method.</li>\n<li>The type (not name) of every parameter of a method.</li>\n<li>The throws clause of a method.</li>\n</ul>\n</li>\n</ul>\n<p>Everywhere else, generics just <strong>disappear</strong>. So, if you write inside a method: <code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();</code>, the code you end up with is <em>JUST</em> <code>new ArrayList()</code> in the class file. That string is just <strong>gone</strong>. It also explains why given a <code>List&lt;?&gt; x;</code> there is simply no way to ask this list: What is your component type. Because it is no longer available at runtime.</p>\n<ul>\n<li>Javac uses this information to figure out what to do.</li>\n<li>For the purposes of compilation, <em>ALL</em> generics-typed stuff is compiled as if they are their <em>lower bound</em>.</li>\n</ul>\n<h2>What about generic casts?</h2>\n<p>The closest other java language feature to a generic cast is <code>@SuppressWarnings</code>. A generic cast does <strong>literally nothing</strong>. It's just you telling the compiler: Shut up, I know what I'm doing (hence, you best really know what you are doing to use them!!).</p>\n<p>For example, given:</p>\n<pre><code>void foo(List&lt;?&gt; x) {\n  List&lt;String&gt; y = (List&lt;String&gt;) x;\n}\n</code></pre>\n<p>The compiler <strong>does nothing</strong>. There is no way for the compiler to generate code that actually checks if <code>x</code> really is a List. The above code <strong>cannot</strong> throw an exception, even if there are non-strings in that list. As I said before, generics also cause the compiler to inject casts. So, if you later write:</p>\n<pre><code>x.get(0).toLowerCase();\n</code></pre>\n<p>That will compile (there is no need to cast <code>x.get(0)</code> to String, however, it is compiled that way!) - and if you pass a list to this method that has a non-string object as first item, that line throws a <code>ClassCastException</code> even though you didn't write any casts on that line. That's because the compiler inserted a cast for you.</p>\n<h2>Think about it like this: Generics are for linking types in signatures.</h2>\n<p>Imagine you want to write a method that logs its argument and then just returns it. That's all it does.</p>\n<p>You want to now 'link' the type of the argument to the return type: You want to tell the compiler and all users of this method: Whatever type you feed into this method is identical to the type that rolls of it.</p>\n<p>In normal java you cannot do this:</p>\n<pre><code>Object log(Object o) {\n  log.mark(&quot;Logged: {}&quot;, o);\n   return o;\n}\n</code></pre>\n<p>The above works fine but is annoying to use. I can't do this:</p>\n<pre><code>  String y = scanner.next();\n  new URL(log(y)).openConnection();\n</code></pre>\n<p>The reason I can't do that, is the <code>log(y)</code> expression is of type <code>Object</code>, and the URL constructor requires a String. Us humans can <em>clearly</em> see that <code>log(y)</code> is obviously going to return a string, but the <em>signature</em> of the <code>log</code> method doesn't indicate this at all. We have to look at the implementation of <code>log</code> to know this, and perhaps tomorrow this implementation changes. The <code>log</code> method does not indicate that any future updates will continue to just 'return the parameter' like this. So javac <strong>does not let you write this code</strong>.</p>\n<p>But now we add generics:</p>\n<pre><code>public &lt;T&gt; T log(T o) {\n log.mark(&quot;Logged: {}&quot;, o);\n return o;\n}\n</code></pre>\n<p>And now it works fine. We've told the compiler that there exists a link between the 2 places we used <code>T</code> in this code: The caller gets to choose what T ends up being, and the compiler ensures that no matter what the caller chose, your code works.</p>\n<p>Hence, if you define a type parameter and use it exactly 0 or 1 times, it's virtually always either a bug or a weird hack. The point is to link things and '0 or 1 times' is obviously not linking things.</p>\n<p>Generics goes much further than this, your question's scope is far too broad. If you want to know every detail, read the Java Lang Spec, which gets into hopeless amounts of detail that will take your 6 months to even understand. There's no real point to this. You don't need to know the chemical composition of brake fluid to drive a car either.</p>\n"},{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650128247,"creation_date":1650128247,"answer_id":71895828,"question_id":71893433,"body_markdown":"This is the way I was taught the importance of generics.\r\n\r\nImagine that you were blindfolded, then told to do some basic task, such as move boxes from one side of the room to the other. Now also imagine that the room is full of other blindfolded people doing exactly the same thing as you.\r\n\r\nProgramming without generics would be tell all of these people to do their tasks, and then run the risk of them accidentally crashing into each other and damaging the boxes.\r\n\r\nProgramming with generics would be to sit down with each blindfolded person, and give all of them a very specific plan beforehand. For example, tell one of them to go forward 10 feet, grab the box on the floor in front of them, turn 180 degress, then go 10 feet, then put the box down. Then (and this is the important part) ***you draw a map of all of the plans and make sure that each of the blindfolded people&#39;s paths CANNOT cross each other***. That is what generics give you. If you can prove that none of paths cross each other, then it doesn&#39;t matter if they are blindfolded - they cannot bump into each other - by design!\r\n\r\nOnce you can prove that they cannot bump into each other, you can start doing something more complex, like telling one blindfolded person to hand a box to another blindfolded person. And if you get really good at it, you can have paths that actually do cross, but only one person is crossing the intersection at the time.\r\n\r\nThat is the power of generics in Java - ***you can perform unsafe actions safely by planning it all ahead of time - at compile time***! Then, when you are at runtime, it doesn&#39;t matter that you are blind - you know exactly what to do, and you have proven that you cannot crash into anyone else. As a result, when you actually do the task, you don&#39;t slowly shuffle forwards, putting your hands in front of you, constantly checking in fear that you will bump into someone else. You sprint headfirst forwards, blindly, but confident that you cannot fail, because the entire path has been mapped out for you.\r\n\r\nNow, I should mention, the only way Java generics work is by ensuring none of the paths cross. You do this by turning on warnings when you compile your java code. If you get warnings about `unchecked` or `raw`, then that means your code is not safe, and you need to fix your plan. Once you compile with no warnings related to generics, you can be certain that your types are safe and will not crash into each other unexpectedly.\r\n\r\nAnd finally, generics are powerful, but they do not play well with nulls. If you let nulls sneak into your code, that is a blindspot which generics cannot protect you from. Be very certain to limit, if not remove, the nulls in your code, otherwise your generics may not be bulletproof. If you avoid nulls and compile without warnings, you can guarantee that your code will never run into a type error unexpectedly.","title":"Generic working : compile time vs runtime","body":"<p>This is the way I was taught the importance of generics.</p>\n<p>Imagine that you were blindfolded, then told to do some basic task, such as move boxes from one side of the room to the other. Now also imagine that the room is full of other blindfolded people doing exactly the same thing as you.</p>\n<p>Programming without generics would be tell all of these people to do their tasks, and then run the risk of them accidentally crashing into each other and damaging the boxes.</p>\n<p>Programming with generics would be to sit down with each blindfolded person, and give all of them a very specific plan beforehand. For example, tell one of them to go forward 10 feet, grab the box on the floor in front of them, turn 180 degress, then go 10 feet, then put the box down. Then (and this is the important part) <em><strong>you draw a map of all of the plans and make sure that each of the blindfolded people's paths CANNOT cross each other</strong></em>. That is what generics give you. If you can prove that none of paths cross each other, then it doesn't matter if they are blindfolded - they cannot bump into each other - by design!</p>\n<p>Once you can prove that they cannot bump into each other, you can start doing something more complex, like telling one blindfolded person to hand a box to another blindfolded person. And if you get really good at it, you can have paths that actually do cross, but only one person is crossing the intersection at the time.</p>\n<p>That is the power of generics in Java - <em><strong>you can perform unsafe actions safely by planning it all ahead of time - at compile time</strong></em>! Then, when you are at runtime, it doesn't matter that you are blind - you know exactly what to do, and you have proven that you cannot crash into anyone else. As a result, when you actually do the task, you don't slowly shuffle forwards, putting your hands in front of you, constantly checking in fear that you will bump into someone else. You sprint headfirst forwards, blindly, but confident that you cannot fail, because the entire path has been mapped out for you.</p>\n<p>Now, I should mention, the only way Java generics work is by ensuring none of the paths cross. You do this by turning on warnings when you compile your java code. If you get warnings about <code>unchecked</code> or <code>raw</code>, then that means your code is not safe, and you need to fix your plan. Once you compile with no warnings related to generics, you can be certain that your types are safe and will not crash into each other unexpectedly.</p>\n<p>And finally, generics are powerful, but they do not play well with nulls. If you let nulls sneak into your code, that is a blindspot which generics cannot protect you from. Be very certain to limit, if not remove, the nulls in your code, otherwise your generics may not be bulletproof. If you avoid nulls and compile without warnings, you can guarantee that your code will never run into a type error unexpectedly.</p>\n"}],"owner":{"account_id":24945622,"reputation":101,"user_id":18810982,"display_name":"Wahab Khaddim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1468,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1650128247,"creation_date":1650107918,"question_id":71893433,"body_markdown":"What actually happens in a generic class when we compile the file and what happens at runtime? how does T behave at compile time vs runtime? What was the main purpose of introducing generics? Since we can do the same thing with the Object class. I am very much confused and have spent 3 months understanding this generic topic. Kindly anyone here, explain it in every detail. Thanks\r\n\r\n    //demo class, basically what is happening here ?\r\n    class Generic&lt;T&gt;{\r\n    Generic(){\r\n    T[] arr = (T[]) new Object[5];\r\n    }\r\n    public static void main(String [] args) {\r\n    new Generic();\r\n    }\r\n    }  // class\r\n\r\n\r\n    // another demo class , let say i have a Student class\r\n    class AnotherGeneric&lt;T extends Student&gt; {\r\n    T fun(){\r\n    T data = (T)new Object();\r\n    return data;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n    Student std = new AnotherGeneric&lt;Student&gt;().fun();\r\n    }\r\n    }// class","title":"Generic working : compile time vs runtime","body":"<p>What actually happens in a generic class when we compile the file and what happens at runtime? how does T behave at compile time vs runtime? What was the main purpose of introducing generics? Since we can do the same thing with the Object class. I am very much confused and have spent 3 months understanding this generic topic. Kindly anyone here, explain it in every detail. Thanks</p>\n<pre><code>//demo class, basically what is happening here ?\nclass Generic&lt;T&gt;{\nGeneric(){\nT[] arr = (T[]) new Object[5];\n}\npublic static void main(String [] args) {\nnew Generic();\n}\n}  // class\n\n\n// another demo class , let say i have a Student class\nclass AnotherGeneric&lt;T extends Student&gt; {\nT fun(){\nT data = (T)new Object();\nreturn data;\n}\n\npublic static void main(String[] args) {\nStudent std = new AnotherGeneric&lt;Student&gt;().fun();\n}\n}// class\n</code></pre>\n"},{"tags":["java","android","xml","drawable","android-5.0-lollipop"],"comments":[{"owner":{"account_id":1824296,"reputation":23996,"user_id":1657537,"display_name":"alanv"},"score":0,"creation_date":1430615739,"post_id":30002948,"comment_id":48136790,"body_markdown":"Are you trying to change the color of the VectorDrawable at run-time? It&#39;s not clear from the title of the post.","body":"Are you trying to change the color of the VectorDrawable at run-time? It&#39;s not clear from the title of the post."},{"owner":{"account_id":3686375,"reputation":1411,"user_id":3070080,"accept_rate":53,"display_name":"iamatsundere181"},"score":0,"creation_date":1431431677,"post_id":30002948,"comment_id":48485183,"body_markdown":"I am so sorry for this and yes, I want to change the value of &quot;path&quot; variable in this xml file, can you help me please ?","body":"I am so sorry for this and yes, I want to change the value of &quot;path&quot; variable in this xml file, can you help me please ?"}],"answers":[{"tags":[],"owner":{"account_id":12669241,"reputation":34,"user_id":9207341,"display_name":"Ramazan Akbal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650127107,"creation_date":1650127107,"answer_id":71895692,"question_id":30002948,"body_markdown":"basically, use @color.\r\n\r\n    &lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:name=&quot;left&quot;\r\n        android:width=&quot;24dp&quot;\r\n        android:height=&quot;24dp&quot;\r\n        android:viewportHeight=&quot;24&quot;\r\n        android:viewportWidth=&quot;24&quot;&gt;\r\n    &lt;path\r\n            android:id=&quot;@+id/chervon_left&quot;\r\n            android:fillColor=&quot;@color/purple_200&quot;\r\n            android:pathData=&quot;M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z&quot; /&gt;\r\n&lt;/vector&gt;\r\n","title":"How to customize a vector in Android Studio?","body":"<p>basically, use @color.</p>\n<pre><code>&lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:name=&quot;left&quot;\n    android:width=&quot;24dp&quot;\n    android:height=&quot;24dp&quot;\n    android:viewportHeight=&quot;24&quot;\n    android:viewportWidth=&quot;24&quot;&gt;\n&lt;path\n        android:id=&quot;@+id/chervon_left&quot;\n        android:fillColor=&quot;@color/purple_200&quot;\n        android:pathData=&quot;M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z&quot; /&gt;\n</code></pre>\n\n"}],"owner":{"account_id":3686375,"reputation":1411,"user_id":3070080,"accept_rate":53,"display_name":"iamatsundere181"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650127107,"creation_date":1430573841,"question_id":30002948,"body_markdown":"I am working with an Android app (using API 21) in which I can change the color of a vector manually depends on previous Activity, but I have a problem, I can not access the &#39;Path&#39; object in my xml file\r\n\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!-- drawable/chevron_left.xml --&gt;\r\n    &lt;vector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:name=&quot;left&quot;\r\n        android:width=&quot;24dp&quot;\r\n        android:height=&quot;24dp&quot;\r\n        android:viewportHeight=&quot;24&quot;\r\n        android:viewportWidth=&quot;24&quot;&gt;\r\n        &lt;path\r\n            android:id=&quot;@+id/chervon_left&quot;\r\n            android:fillColor=&quot;#000&quot;\r\n            android:pathData=&quot;M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z&quot; /&gt;\r\n    &lt;/vector&gt;\r\n\r\n\r\nSo how can I customize this vector in MainActivity.java file ?\r\nI read this but it did not work: &lt;a href=&quot;https://developer.android.com/training/material/drawables.html&quot;&gt;Working with Drawables&lt;/a&gt;","title":"How to customize a vector in Android Studio?","body":"<p>I am working with an Android app (using API 21) in which I can change the color of a vector manually depends on previous Activity, but I have a problem, I can not access the 'Path' object in my xml file</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!-- drawable/chevron_left.xml --&gt;\n&lt;vector xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:name=\"left\"\n    android:width=\"24dp\"\n    android:height=\"24dp\"\n    android:viewportHeight=\"24\"\n    android:viewportWidth=\"24\"&gt;\n    &lt;path\n        android:id=\"@+id/chervon_left\"\n        android:fillColor=\"#000\"\n        android:pathData=\"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z\" /&gt;\n&lt;/vector&gt;\n</code></pre>\n\n<p>So how can I customize this vector in MainActivity.java file ?\nI read this but it did not work: <a href=\"https://developer.android.com/training/material/drawables.html\" rel=\"nofollow\">Working with Drawables</a></p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650126719,"creation_date":1650126488,"answer_id":71895625,"question_id":71895561,"body_markdown":"The aggregate function [`Stream::max`][StreamMaxApi] returns an [`Optional`][OptionalApi], and the `toString`-implementation of `Optional` produces the `String` we observe.\r\n\r\nWe can prevent this by unwrapping the `Optional`. One possible way would be to call [`Optional::orElse`][OptionalOrElseApi]:\r\n\r\n    System.out.print(patients.stream()\r\n      .max(Comparator.comparingInt(Human::getHeight))\r\n      .orElse(null));\r\n\r\nAnother possibility would be to only `print` the value if a value is present through [`Optional::ifPresent`][OptionalIfPresentApi]:\r\n\r\n    patients.stream()\r\n      .max(Comparator.comparingInt(Human::getHeight))\r\n      .ifPresent(System.out::println)\r\n\r\n---\r\n\r\nA remark on the code: The decision to catch the `NullPointerException` is at least questionable. I would advice to enforce non-`null`ity explicitly.\r\n\r\n\r\n[StreamMaxApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#max(java.util.Comparator)\r\n\r\n[OptionalApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html\r\n\r\n[OptionalOrElseApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#orElse(T)\r\n\r\n[OptionalIfPresentApi]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#ifPresent(java.util.function.Consumer)","title":"Remove &quot;Optional[...]&quot; from a Console OutPrint in Java / IntelliJ","body":"<p>The aggregate function <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#max(java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>Stream::max</code></a> returns an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>Optional</code></a>, and the <code>toString</code>-implementation of <code>Optional</code> produces the <code>String</code> we observe.</p>\n<p>We can prevent this by unwrapping the <code>Optional</code>. One possible way would be to call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#orElse(T)\" rel=\"nofollow noreferrer\"><code>Optional::orElse</code></a>:</p>\n<pre><code>System.out.print(patients.stream()\n  .max(Comparator.comparingInt(Human::getHeight))\n  .orElse(null));\n</code></pre>\n<p>Another possibility would be to only <code>print</code> the value if a value is present through <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#ifPresent(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>Optional::ifPresent</code></a>:</p>\n<pre><code>patients.stream()\n  .max(Comparator.comparingInt(Human::getHeight))\n  .ifPresent(System.out::println)\n</code></pre>\n<hr />\n<p>A remark on the code: The decision to catch the <code>NullPointerException</code> is at least questionable. I would advice to enforce non-<code>null</code>ity explicitly.</p>\n"}],"owner":{"account_id":24963169,"reputation":3,"user_id":18826952,"display_name":"Justin Oliveira"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1650126869,"accepted_answer_id":71895625,"answer_count":1,"score":-1,"last_activity_date":1650126988,"creation_date":1650125955,"question_id":71895561,"body_markdown":"I&#39;m studying programming and I&#39;m working on streams in Java. I wrote a methode which should return the tallest Human-Object out of a doctors-patient List.\r\n\r\n    public static void tallestPatient(List&lt;Human&gt; patients) throws NullPointerException {\r\n        try {\r\n            System.out.println(&quot;Tallest patient: &quot;);\r\n            System.out.print(patients.stream().max(Comparator.comparingInt(Human::getHeight)));\r\n            System.out.println();\r\n        } catch (NullPointerException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nThe method itself works. I just noticed, that there&#39;s this &quot;Optional[...]&quot; Tag ont the console whenever I try to print the toString() Method of the choosen Object (tallest Human) out.\r\n\r\nConsole-Output:\r\n\r\nTallest patient: \r\nOptional[Peter is a man with private insurance from USA and is about 220cm high.]\r\n\r\n\r\nIDE told me, that&#39;s because the element could be zero if it&#39;s a empty list. tried to cancel that out, by considering NullPointerExceptions as well as an if and else condition, which also didn&#39;t solve the problem, why is stayed with the exception variant.\r\n\r\nDoes anyone have an idea, what I could fix?\r\n\r\nGreetings Justin","title":"Remove &quot;Optional[...]&quot; from a Console OutPrint in Java / IntelliJ","body":"<p>I'm studying programming and I'm working on streams in Java. I wrote a methode which should return the tallest Human-Object out of a doctors-patient List.</p>\n<pre><code>public static void tallestPatient(List&lt;Human&gt; patients) throws NullPointerException {\n    try {\n        System.out.println(&quot;Tallest patient: &quot;);\n        System.out.print(patients.stream().max(Comparator.comparingInt(Human::getHeight)));\n        System.out.println();\n    } catch (NullPointerException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>The method itself works. I just noticed, that there's this &quot;Optional[...]&quot; Tag ont the console whenever I try to print the toString() Method of the choosen Object (tallest Human) out.</p>\n<p>Console-Output:</p>\n<p>Tallest patient:\nOptional[Peter is a man with private insurance from USA and is about 220cm high.]</p>\n<p>IDE told me, that's because the element could be zero if it's a empty list. tried to cancel that out, by considering NullPointerExceptions as well as an if and else condition, which also didn't solve the problem, why is stayed with the exception variant.</p>\n<p>Does anyone have an idea, what I could fix?</p>\n<p>Greetings Justin</p>\n"},{"tags":["java","android","android-studio","google-maps"],"answers":[{"tags":[],"owner":{"account_id":6684282,"reputation":342,"user_id":5156186,"display_name":"Sabriael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650124096,"creation_date":1650124096,"answer_id":71895317,"question_id":71894039,"body_markdown":"Maybe not best solution, but i think you could update your map style on activity resume. After opening settings activity and selecting style you could return to map activity. OnResume function would be called and you would check which style has been selected and update map based on this information.\r\n\r\nMaybe something like so would be sufficient:\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        SetMapStyle(map);\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        map = googleMap;\r\n        map.setOnMapClickListener(this);\r\n        map.setOnMarkerClickListener(this);\r\n        map.getUiSettings().setZoomControlsEnabled(true);\r\n        SetMapStyle(googleMap);\r\n    }\r\n\r\n    private void SetMapStyle(GoogleMap googleMap){\r\n\r\n        if(googleMap == null)\r\n            return;\r\n\r\n        prefs = PreferenceManager.getDefaultSharedPreferences(this);\r\n        mapStyle = prefs.getString(&quot;list_preference_1&quot;, &quot;&lt;unset&gt;&quot;);\r\n\r\n        try {\r\n            \r\n            int res;\r\n            if (mapStyle.equals(&quot;Silver&quot;)){\r\n                res = R.raw.silver_style;\r\n            } else if (mapStyle.equals(&quot;Retro&quot;)) {\r\n                res = R.raw.retro_style;\r\n            } else if (mapStyle.equals(&quot;Dark&quot;)) {\r\n                res = R.raw.dark_style;\r\n            } else if (mapStyle.equals(&quot;Night&quot;)) {\r\n                res = R.raw.night_style;\r\n            } else if (mapStyle.equals(&quot;Aubergine&quot;)) {\r\n                res = R.raw.aubergine_style;\r\n            } else {\r\n                res = R.raw.standard;\r\n            }\r\n            boolean success = googleMap.setMapStyle(\r\n                    MapStyleOptions.loadRawResourceStyle(\r\n                            this, res));\r\n\r\n            if (!success) {\r\n                Log.e(TAG, &quot;Style parsing failed.&quot;);\r\n            }\r\n        } catch (Resources.NotFoundException e) {\r\n            Log.e(TAG, &quot;Can&#39;t find style. Error: &quot;, e);\r\n        }\r\n\r\n    }\r\n\r\n\r\n","title":"Listening to preference changes and applying them on another activity in android studio","body":"<p>Maybe not best solution, but i think you could update your map style on activity resume. After opening settings activity and selecting style you could return to map activity. OnResume function would be called and you would check which style has been selected and update map based on this information.</p>\n<p>Maybe something like so would be sufficient:</p>\n<pre><code>@Override\nprotected void onResume() {\n    super.onResume();\n    SetMapStyle(map);\n}\n\n@Override\npublic void onMapReady(GoogleMap googleMap) {\n    map = googleMap;\n    map.setOnMapClickListener(this);\n    map.setOnMarkerClickListener(this);\n    map.getUiSettings().setZoomControlsEnabled(true);\n    SetMapStyle(googleMap);\n}\n\nprivate void SetMapStyle(GoogleMap googleMap){\n\n    if(googleMap == null)\n        return;\n\n    prefs = PreferenceManager.getDefaultSharedPreferences(this);\n    mapStyle = prefs.getString(&quot;list_preference_1&quot;, &quot;&lt;unset&gt;&quot;);\n\n    try {\n        \n        int res;\n        if (mapStyle.equals(&quot;Silver&quot;)){\n            res = R.raw.silver_style;\n        } else if (mapStyle.equals(&quot;Retro&quot;)) {\n            res = R.raw.retro_style;\n        } else if (mapStyle.equals(&quot;Dark&quot;)) {\n            res = R.raw.dark_style;\n        } else if (mapStyle.equals(&quot;Night&quot;)) {\n            res = R.raw.night_style;\n        } else if (mapStyle.equals(&quot;Aubergine&quot;)) {\n            res = R.raw.aubergine_style;\n        } else {\n            res = R.raw.standard;\n        }\n        boolean success = googleMap.setMapStyle(\n                MapStyleOptions.loadRawResourceStyle(\n                        this, res));\n\n        if (!success) {\n            Log.e(TAG, &quot;Style parsing failed.&quot;);\n        }\n    } catch (Resources.NotFoundException e) {\n        Log.e(TAG, &quot;Can't find style. Error: &quot;, e);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":13910328,"reputation":1402,"user_id":10043695,"display_name":"3nws"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71895317,"answer_count":1,"score":0,"last_activity_date":1650124096,"creation_date":1650113576,"question_id":71894039,"body_markdown":"I have a google maps fragment in my `MainActivity` and a `SettingsActivity` that has a `ListPreference` option to select styles for the map. What I want to do is to listen to the changes in that preference, and change the map on the `MainActivity` accordingly. I can only change it  on `onMapReady` which is a one time thing it is not a listener. How can I do this? I tried to do it in the `SettingsActivity` but I can&#39;t access `mapStyle`. \r\n\r\nMainActivity:\r\n```\r\n    private MapFragment mapFragment;\r\n    String mapStyle;\r\n    private GoogleMap map;\r\n    private GoogleApiClient googleApiClient;\r\n    SharedPreferences prefs;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        prefs = PreferenceManager.getDefaultSharedPreferences(this);\r\n        mapStyle = prefs.getString(&quot;list_preference_1&quot;, &quot;&lt;unset&gt;&quot;);\r\n\r\n        mapFragment = (MapFragment) getFragmentManager().findFragmentById(R.id.map);\r\n        mapFragment.getMapAsync(this);\r\n\r\n        if (googleApiClient == null) {\r\n                    googleApiClient = new GoogleApiClient.Builder(this)\r\n                            .addConnectionCallbacks(this)\r\n                            .addOnConnectionFailedListener(this)\r\n                            .addApi(LocationServices.API)\r\n                            .build();\r\n                }\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        map = googleMap;\r\n        map.setOnMapClickListener(this);\r\n        map.setOnMarkerClickListener(this);\r\n        map.getUiSettings().setZoomControlsEnabled(true);\r\n\r\n        try {\r\n            // Customise the styling of the base map using a JSON object defined\r\n            // in a raw resource file.\r\n            int res;\r\n            if (mapStyle.equals(&quot;Silver&quot;)){\r\n                res = R.raw.silver_style;\r\n            } else if (mapStyle.equals(&quot;Retro&quot;)) {\r\n                res = R.raw.retro_style;\r\n            } else if (mapStyle.equals(&quot;Dark&quot;)) {\r\n                res = R.raw.dark_style;\r\n            } else if (mapStyle.equals(&quot;Night&quot;)) {\r\n                res = R.raw.night_style;\r\n            } else if (mapStyle.equals(&quot;Aubergine&quot;)) {\r\n                res = R.raw.aubergine_style;\r\n            } else {\r\n                res = R.raw.standard;\r\n            }\r\n            boolean success = googleMap.setMapStyle(\r\n                    MapStyleOptions.loadRawResourceStyle(\r\n                            this, res));\r\n\r\n            if (!success) {\r\n                Log.e(TAG, &quot;Style parsing failed.&quot;);\r\n            }\r\n        } catch (Resources.NotFoundException e) {\r\n            Log.e(TAG, &quot;Can&#39;t find style. Error: &quot;, e);\r\n        }\r\n    }\r\n```\r\nSettingsActivity:\r\n```\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.settings_activity);\r\n        if (savedInstanceState == null) {\r\n            getSupportFragmentManager()\r\n                    .beginTransaction()\r\n                    .replace(R.id.settings, new SettingsFragment())\r\n                    .commit();\r\n        }\r\n        ActionBar actionBar = getSupportActionBar();\r\n        if (actionBar != null) {\r\n            actionBar.setDisplayHomeAsUpEnabled(true);\r\n        }\r\n    }\r\n\r\n    public static class SettingsFragment extends PreferenceFragmentCompat {\r\n        @Override\r\n        public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\r\n            setPreferencesFromResource(R.xml.root_preferences, rootKey);\r\n        }\r\n    }","title":"Listening to preference changes and applying them on another activity in android studio","body":"<p>I have a google maps fragment in my <code>MainActivity</code> and a <code>SettingsActivity</code> that has a <code>ListPreference</code> option to select styles for the map. What I want to do is to listen to the changes in that preference, and change the map on the <code>MainActivity</code> accordingly. I can only change it  on <code>onMapReady</code> which is a one time thing it is not a listener. How can I do this? I tried to do it in the <code>SettingsActivity</code> but I can't access <code>mapStyle</code>.</p>\n<p>MainActivity:</p>\n<pre><code>    private MapFragment mapFragment;\n    String mapStyle;\n    private GoogleMap map;\n    private GoogleApiClient googleApiClient;\n    SharedPreferences prefs;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        prefs = PreferenceManager.getDefaultSharedPreferences(this);\n        mapStyle = prefs.getString(&quot;list_preference_1&quot;, &quot;&lt;unset&gt;&quot;);\n\n        mapFragment = (MapFragment) getFragmentManager().findFragmentById(R.id.map);\n        mapFragment.getMapAsync(this);\n\n        if (googleApiClient == null) {\n                    googleApiClient = new GoogleApiClient.Builder(this)\n                            .addConnectionCallbacks(this)\n                            .addOnConnectionFailedListener(this)\n                            .addApi(LocationServices.API)\n                            .build();\n                }\n    }\n\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        map = googleMap;\n        map.setOnMapClickListener(this);\n        map.setOnMarkerClickListener(this);\n        map.getUiSettings().setZoomControlsEnabled(true);\n\n        try {\n            // Customise the styling of the base map using a JSON object defined\n            // in a raw resource file.\n            int res;\n            if (mapStyle.equals(&quot;Silver&quot;)){\n                res = R.raw.silver_style;\n            } else if (mapStyle.equals(&quot;Retro&quot;)) {\n                res = R.raw.retro_style;\n            } else if (mapStyle.equals(&quot;Dark&quot;)) {\n                res = R.raw.dark_style;\n            } else if (mapStyle.equals(&quot;Night&quot;)) {\n                res = R.raw.night_style;\n            } else if (mapStyle.equals(&quot;Aubergine&quot;)) {\n                res = R.raw.aubergine_style;\n            } else {\n                res = R.raw.standard;\n            }\n            boolean success = googleMap.setMapStyle(\n                    MapStyleOptions.loadRawResourceStyle(\n                            this, res));\n\n            if (!success) {\n                Log.e(TAG, &quot;Style parsing failed.&quot;);\n            }\n        } catch (Resources.NotFoundException e) {\n            Log.e(TAG, &quot;Can't find style. Error: &quot;, e);\n        }\n    }\n</code></pre>\n<p>SettingsActivity:</p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.settings_activity);\n        if (savedInstanceState == null) {\n            getSupportFragmentManager()\n                    .beginTransaction()\n                    .replace(R.id.settings, new SettingsFragment())\n                    .commit();\n        }\n        ActionBar actionBar = getSupportActionBar();\n        if (actionBar != null) {\n            actionBar.setDisplayHomeAsUpEnabled(true);\n        }\n    }\n\n    public static class SettingsFragment extends PreferenceFragmentCompat {\n        @Override\n        public void onCreatePreferences(Bundle savedInstanceState, String rootKey) {\n            setPreferencesFromResource(R.xml.root_preferences, rootKey);\n        }\n    }\n</code></pre>\n"},{"tags":["java","intellij-idea","rdf","semantic-web"],"comments":[{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":1,"creation_date":1646232104,"post_id":71323572,"comment_id":126072324,"body_markdown":"rdf4j is just a Java API - it will work in whatever IDE or Java environment you want to use. It&#39;s the same like you would ask if Google Guava or whatever works in IntelliJ","body":"rdf4j is just a Java API - it will work in whatever IDE or Java environment you want to use. It&#39;s the same like you would ask if Google Guava or whatever works in IntelliJ"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1646263215,"post_id":71323572,"comment_id":126083049,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650123958,"creation_date":1650107430,"answer_id":71893370,"question_id":71323572,"body_markdown":"[RDF4J](https://rdf4j.org/) is a library that can be used within any Java IDE such as [IntelliJ IDEA](https://www.jetbrains.com/idea/), [Visual Studio Code](https://code.visualstudio.com/), [Eclipse IDE](https://www.eclipse.org/ide/) or [NetBeans](https://netbeans.apache.org/).\r\n\r\nIf you use IntelliJ IDEA, you can import the project from GitHub using the menu `Git -&gt; Clone ...` and using `https://github.com/eclipse/rdf4j` as the URL.\r\n\r\nYou can then open an example, by navigating in the Project window to `rdf4j -&gt; examples -&gt; src -&gt; main -&gt; java -&gt; org.eclipse.rdf4j.examples -&gt; model` and then right click on the green arrow, on the left of the source code, to run it.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZJAPs.jpg","title":"rdf4j on IntelliJ IDE?","body":"<p><a href=\"https://rdf4j.org/\" rel=\"nofollow noreferrer\">RDF4J</a> is a library that can be used within any Java IDE such as <a href=\"https://www.jetbrains.com/idea/\" rel=\"nofollow noreferrer\">IntelliJ IDEA</a>, <a href=\"https://code.visualstudio.com/\" rel=\"nofollow noreferrer\">Visual Studio Code</a>, <a href=\"https://www.eclipse.org/ide/\" rel=\"nofollow noreferrer\">Eclipse IDE</a> or <a href=\"https://netbeans.apache.org/\" rel=\"nofollow noreferrer\">NetBeans</a>.</p>\n<p>If you use IntelliJ IDEA, you can import the project from GitHub using the menu <code>Git -&gt; Clone ...</code> and using <code>https://github.com/eclipse/rdf4j</code> as the URL.</p>\n<p>You can then open an example, by navigating in the Project window to <code>rdf4j -&gt; examples -&gt; src -&gt; main -&gt; java -&gt; org.eclipse.rdf4j.examples -&gt; model</code> and then right click on the green arrow, on the left of the source code, to run it.</p>\n<p><a href=\"https://i.stack.imgur.com/ZJAPs.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZJAPs.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18756542,"reputation":19,"user_id":13676410,"display_name":"Mudit Balooja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1650123958,"creation_date":1646227896,"question_id":71323572,"body_markdown":"Extreme beginner here trying to work on RDF. Can rdf4j work on IntelliJ IDEA or it works on Eclipse only? If it can work on IntelliJ, could anyone show me how?","title":"rdf4j on IntelliJ IDE?","body":"<p>Extreme beginner here trying to work on RDF. Can rdf4j work on IntelliJ IDEA or it works on Eclipse only? If it can work on IntelliJ, could anyone show me how?</p>\n"},{"tags":["java","android","location"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650123112,"creation_date":1650123112,"answer_id":71895202,"question_id":71895101,"body_markdown":"On Android there are two types of Services-  foreground and background.  Background (the default) on modern Android are killed 2 minutes after your app is no longer in the foreground.  Foreground services are kept for longer, require you to have a notification so the user knows you&#39;re tacking him (think of Uber and the notification you can&#39;t swipe away you get while its running), but can still be killed for resources if other apps need it.  You cannot rely on any Service running permanently.\r\n\r\nSo the answer is going to be either Foreground Service, or its going to be a completely different architecture for your program.  The second really depends on exactly when and why you want to get the location.","title":"get a location once in the background at any time Android Studio Java","body":"<p>On Android there are two types of Services-  foreground and background.  Background (the default) on modern Android are killed 2 minutes after your app is no longer in the foreground.  Foreground services are kept for longer, require you to have a notification so the user knows you're tacking him (think of Uber and the notification you can't swipe away you get while its running), but can still be killed for resources if other apps need it.  You cannot rely on any Service running permanently.</p>\n<p>So the answer is going to be either Foreground Service, or its going to be a completely different architecture for your program.  The second really depends on exactly when and why you want to get the location.</p>\n"},{"tags":[],"owner":{"account_id":8026684,"reputation":219,"user_id":6053336,"display_name":"dito cesartista"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650123497,"creation_date":1650123497,"answer_id":71895249,"question_id":71895101,"body_markdown":"There are many limitations on getting on getting location in background, refer to [this][1]\r\n\r\n 1. Do you target API level 29 or up? if yes, have you add `ACCESS_BACKGROUND_LOCATION` permission in manifest? If this is not declared, app can only access location while in foreground.\r\n 2. Even after declaring `ACCESS_BACKGROUND_LOCATION` permission, app can only get location data a few time in an hour due to limitations. Maybe you can consider using [foreground service][2] instead to avoid such limitations.\r\n\r\n\r\n  [1]: https://developer.android.com/training/location/background\r\n  [2]: https://developer.android.com/guide/components/foreground-services","title":"get a location once in the background at any time Android Studio Java","body":"<p>There are many limitations on getting on getting location in background, refer to <a href=\"https://developer.android.com/training/location/background\" rel=\"nofollow noreferrer\">this</a></p>\n<ol>\n<li>Do you target API level 29 or up? if yes, have you add <code>ACCESS_BACKGROUND_LOCATION</code> permission in manifest? If this is not declared, app can only access location while in foreground.</li>\n<li>Even after declaring <code>ACCESS_BACKGROUND_LOCATION</code> permission, app can only get location data a few time in an hour due to limitations. Maybe you can consider using <a href=\"https://developer.android.com/guide/components/foreground-services\" rel=\"nofollow noreferrer\">foreground service</a> instead to avoid such limitations.</li>\n</ol>\n"}],"owner":{"account_id":17582527,"reputation":71,"user_id":12756021,"display_name":"Oleh Prukhnytskyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1849,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650123497,"creation_date":1650122276,"question_id":71895101,"body_markdown":"I want to get the location of the device once when the service is running in the background (the tracker monitors the change in the database and then executes the code that should get the geolocation of the phone). I encountered a problem: the program receives location data when the application is running, but when it goes into the background, the location data stops being received in a few seconds. I tried all the codes and options that I could find, but everything stops working when the program goes into the background. For this I use AndroidStudio Java. So how do I implement this and is it even possible? Thanks.","title":"get a location once in the background at any time Android Studio Java","body":"<p>I want to get the location of the device once when the service is running in the background (the tracker monitors the change in the database and then executes the code that should get the geolocation of the phone). I encountered a problem: the program receives location data when the application is running, but when it goes into the background, the location data stops being received in a few seconds. I tried all the codes and options that I could find, but everything stops working when the program goes into the background. For this I use AndroidStudio Java. So how do I implement this and is it even possible? Thanks.</p>\n"},{"tags":["java","spring-boot","jackson","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1650125030,"post_id":71890089,"comment_id":127044853,"body_markdown":"Your code does not seem to work even with Boot 2.4.4 (which brings spring batch 4.3.2 and jackson 2.11.4), it fails with `java.lang.ClassCastException: class java.lang.String cannot be cast to class java.time.LocalDateTime`. Please provide a unit test for a serializarion round trip of `LocalDateTime` that passes with Boot 2.4.4 and fails with Boot 2.6.6.","body":"Your code does not seem to work even with Boot 2.4.4 (which brings spring batch 4.3.2 and jackson 2.11.4), it fails with <code>java.lang.ClassCastException: class java.lang.String cannot be cast to class java.time.LocalDateTime</code>. Please provide a unit test for a serializarion round trip of <code>LocalDateTime</code> that passes with Boot 2.4.4 and fails with Boot 2.6.6."}],"owner":{"account_id":24421224,"reputation":393,"user_id":18347432,"display_name":"CKT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":953,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650123279,"creation_date":1650068711,"question_id":71890089,"body_markdown":"My Spring Batch job was working prior to upgrading Spring Boot to 2.6.6 from 2.4.4.\r\n After the upgrade, I started getting errors about how my execution context could not be serialized:\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Could not serialize the execution context...\r\n\r\n    Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Type id handling not \r\n    implemented for type java.lang.Object (by serializer of type com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer) \r\n    (through reference chain: java.util.HashMap[&quot;test-reader.start.after&quot;]-&gt;java.util.LinkedHashMap[&quot;CREATION_DATE&quot;])\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)\r\n\tat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300)\r\n\tat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400)\r\n\tat com.fasterxml.jackson.databind.JsonSerializer.serializeWithType(JsonSerializer.java:160)...\r\n\r\nAfter searching all over Stack Overflow, I learned it was an issue with Jackon and found several solutions involving JavaTimeModule as a module inside ObjectMapper that would go inside Jackson2ExecutionContextStringSerializer.  This was my solution which was set inside the JobRepo and JobExplorer as a serializer:\r\n\r\n    private ExecutionContextSerializer getSerializer() {\r\n      ObjectMapper objectMapper = new ObjectMapper().registerModule(new JavaTimeModule());\r\n      objectMapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n      Jackson2ExecutionContextStringSerializer serializer = new Jackson2ExecutionContextStringSerializer(TRUSTED_CLASS_NAMES);\r\n      serializer.setObjectMapper(objectMapper);\r\n      return serializer;\r\n    }\r\n\r\nThis helped me resolve my serialization errors above and I was able to serialize my execution context to this json and it was saved in the SHORT_CONTEXT column inside the BATCH_STEP_EXECUTION table:\r\n\r\n      {&quot;test-reader.start.after&quot;:{&quot;CREATION_DATE&quot;:&quot;2022-04-12T01:54:00&quot;},&quot;batch.taskletType&quot;:&quot;org.springframework.batch.core.step.item.ChunkOrientedTasklet&quot;,&quot;test-reader.read.count&quot;:3,&quot;batch.stepType&quot;:&quot;org.springframework.batch.core.step.tasklet.TaskletStep&quot;}\r\n\r\nMy main concern was how would it handle deserializing the LocalDateTime it serialized, would it deserialize the string back to a LocalDateTime:\r\n\r\n    {&quot;CREATION_DATE&quot;:&quot;2022-04-12T01:54:00&quot;}\r\n\r\nSo I deserialized the json using the serializer above:\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper().registerModule(new JavaTimeModule());\r\n    objectMapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\r\n    Jackson2ExecutionContextStringSerializer serializer1 = new Jackson2ExecutionContextStringSerializer();\r\n    serializer1.setObjectMapper(objectMapper);\r\n    \r\n    serializer1.deserialize(new ByteArrayInputStream(&quot;{\\&quot;test-reader.start.after\\&quot;:{\\&quot;CREATION_DATE\\&quot;:\\&quot;2022-04-12T01:54:00\\&quot;},\\&quot;batch.taskletType\\&quot;:\\&quot;org.springframework.batch.core.step.item.ChunkOrientedTasklet\\&quot;,\\&quot;scheduled-delivery-reader.read.count\\&quot;:1,\\&quot;batch.stepType\\&quot;:\\&quot;org.springframework.batch.core.step.tasklet.TaskletStep\\&quot;}&quot;\r\n    .getBytes(&quot;ISO-8859-1&quot;)));\r\n\r\nIt deserialized but it did not put back into a LocalDateTime:\r\n\r\n[Deserialized string][1]\r\n\r\nIt left &quot;2022-04-12T01:54:00&quot; as a String...  I&#39;m worried there will be issues when the the Execution Context is read from the table.  How can I get &quot;2022-04-12T01:54:00&quot; deserialized back into a LocalDateTime and not a String?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DwR4M.png","title":"Deserializing LocalDateTime inside Spring Batch Execution Context with Jackson2ExecutionContextStringSerializer","body":"<p>My Spring Batch job was working prior to upgrading Spring Boot to 2.6.6 from 2.4.4.\nAfter the upgrade, I started getting errors about how my execution context could not be serialized:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Could not serialize the execution context...\n\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Type id handling not \nimplemented for type java.lang.Object (by serializer of type com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer) \n(through reference chain: java.util.HashMap[&quot;test-reader.start.after&quot;]-&gt;java.util.LinkedHashMap[&quot;CREATION_DATE&quot;])\nat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)\nat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300)\nat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400)\nat com.fasterxml.jackson.databind.JsonSerializer.serializeWithType(JsonSerializer.java:160)...\n</code></pre>\n<p>After searching all over Stack Overflow, I learned it was an issue with Jackon and found several solutions involving JavaTimeModule as a module inside ObjectMapper that would go inside Jackson2ExecutionContextStringSerializer.  This was my solution which was set inside the JobRepo and JobExplorer as a serializer:</p>\n<pre><code>private ExecutionContextSerializer getSerializer() {\n  ObjectMapper objectMapper = new ObjectMapper().registerModule(new JavaTimeModule());\n  objectMapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n  Jackson2ExecutionContextStringSerializer serializer = new Jackson2ExecutionContextStringSerializer(TRUSTED_CLASS_NAMES);\n  serializer.setObjectMapper(objectMapper);\n  return serializer;\n}\n</code></pre>\n<p>This helped me resolve my serialization errors above and I was able to serialize my execution context to this json and it was saved in the SHORT_CONTEXT column inside the BATCH_STEP_EXECUTION table:</p>\n<pre><code>  {&quot;test-reader.start.after&quot;:{&quot;CREATION_DATE&quot;:&quot;2022-04-12T01:54:00&quot;},&quot;batch.taskletType&quot;:&quot;org.springframework.batch.core.step.item.ChunkOrientedTasklet&quot;,&quot;test-reader.read.count&quot;:3,&quot;batch.stepType&quot;:&quot;org.springframework.batch.core.step.tasklet.TaskletStep&quot;}\n</code></pre>\n<p>My main concern was how would it handle deserializing the LocalDateTime it serialized, would it deserialize the string back to a LocalDateTime:</p>\n<pre><code>{&quot;CREATION_DATE&quot;:&quot;2022-04-12T01:54:00&quot;}\n</code></pre>\n<p>So I deserialized the json using the serializer above:</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper().registerModule(new JavaTimeModule());\nobjectMapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\nJackson2ExecutionContextStringSerializer serializer1 = new Jackson2ExecutionContextStringSerializer();\nserializer1.setObjectMapper(objectMapper);\n\nserializer1.deserialize(new ByteArrayInputStream(&quot;{\\&quot;test-reader.start.after\\&quot;:{\\&quot;CREATION_DATE\\&quot;:\\&quot;2022-04-12T01:54:00\\&quot;},\\&quot;batch.taskletType\\&quot;:\\&quot;org.springframework.batch.core.step.item.ChunkOrientedTasklet\\&quot;,\\&quot;scheduled-delivery-reader.read.count\\&quot;:1,\\&quot;batch.stepType\\&quot;:\\&quot;org.springframework.batch.core.step.tasklet.TaskletStep\\&quot;}&quot;\n.getBytes(&quot;ISO-8859-1&quot;)));\n</code></pre>\n<p>It deserialized but it did not put back into a LocalDateTime:</p>\n<p><a href=\"https://i.stack.imgur.com/DwR4M.png\" rel=\"nofollow noreferrer\">Deserialized string</a></p>\n<p>It left &quot;2022-04-12T01:54:00&quot; as a String...  I'm worried there will be issues when the the Execution Context is read from the table.  How can I get &quot;2022-04-12T01:54:00&quot; deserialized back into a LocalDateTime and not a String?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1650116065,"post_id":71894201,"comment_id":127042930,"body_markdown":"See this: https://stackoverflow.com/a/151940/13373270","body":"See this: <a href=\"https://stackoverflow.com/a/151940/13373270\">stackoverflow.com/a/151940/13373270</a>"}],"answers":[{"tags":[],"owner":{"account_id":3088260,"reputation":777,"user_id":2614982,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650122935,"creation_date":1650118136,"answer_id":71894577,"question_id":71894201,"body_markdown":"Since Activity A is destroyed when you move to B, in order to restore the data you had in the EditText you first have to store it somewhere. To do this you can use the [`onSaveInstanceState()`][1] method from Activity which will be called right before the Activity is destroyed.\r\n\r\nYou can then restore the data by using either `onRestoreInstanceState(savedInstanceState: Bundle?)` or directly in `onCreate(savedInstanceState: Bundle?)`\r\n\r\nFor example:\r\n\r\n    \r\n    const val TEXT_KEY = &quot;editText_text&quot;\r\n    \r\n    override fun onSaveInstanceState(outState: Bundle) {\r\n      super.onSaveInstanceState(outState)\r\n      outState.putInt(TEXT_KEY, yourEditText.text)\r\n    }\r\n\r\n    override fun onRestoreInstanceState(savedInstanceState: Bundle?) {\r\n      super.onRestoreInstanceState(savedInstanceState)\r\n\r\n      savedInstanceState?.run {\r\n        yourEditText.text = getString(TEXT_KEY)\r\n      }\r\n    }\r\n\r\nNote: you should only save simple, lightweight data using onSaveInstanceState.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/Activity#onSaveInstanceState(android.os.Bundle)","title":"Existence of EditText data prior to int activity?","body":"<p>Since Activity A is destroyed when you move to B, in order to restore the data you had in the EditText you first have to store it somewhere. To do this you can use the <a href=\"https://developer.android.com/reference/android/app/Activity#onSaveInstanceState(android.os.Bundle)\" rel=\"nofollow noreferrer\"><code>onSaveInstanceState()</code></a> method from Activity which will be called right before the Activity is destroyed.</p>\n<p>You can then restore the data by using either <code>onRestoreInstanceState(savedInstanceState: Bundle?)</code> or directly in <code>onCreate(savedInstanceState: Bundle?)</code></p>\n<p>For example:</p>\n<pre><code>const val TEXT_KEY = &quot;editText_text&quot;\n\noverride fun onSaveInstanceState(outState: Bundle) {\n  super.onSaveInstanceState(outState)\n  outState.putInt(TEXT_KEY, yourEditText.text)\n}\n\noverride fun onRestoreInstanceState(savedInstanceState: Bundle?) {\n  super.onRestoreInstanceState(savedInstanceState)\n\n  savedInstanceState?.run {\n    yourEditText.text = getString(TEXT_KEY)\n  }\n}\n</code></pre>\n<p>Note: you should only save simple, lightweight data using onSaveInstanceState.</p>\n"}],"owner":{"account_id":23936790,"reputation":5,"user_id":17930426,"display_name":"better"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71894577,"answer_count":1,"score":0,"last_activity_date":1650122935,"creation_date":1650115174,"question_id":71894201,"body_markdown":"There is activity, activity. I enter the text in EditText of A, click the button, move to B, do other activities, and come back to A. At this time, I hope the text remains in A&#39;s EditText. What should I do? Attempted startActivityForResult, but onActivityResult() is not invoked. Is this the wrong way?","title":"Existence of EditText data prior to int activity?","body":"<p>There is activity, activity. I enter the text in EditText of A, click the button, move to B, do other activities, and come back to A. At this time, I hope the text remains in A's EditText. What should I do? Attempted startActivityForResult, but onActivityResult() is not invoked. Is this the wrong way?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650122629,"creation_date":1650122629,"answer_id":71895144,"question_id":71894783,"body_markdown":"You will need to use an `interface` or an `abstract class` and `dependency injection`, to inject the type of object search you want to do. The code will look something like this:\r\n\r\n    public interface SearchForAction&lt;N, Q&gt; {\r\n        Optional&lt;List&lt;Q&gt;&gt; findActions(Problem&lt;N, Q&gt; problem);\r\n    }\r\n\r\n    public class BreadthFirstSearch implements SearchForAction&lt;N, Q&gt; {\r\n        Optional&lt;List&lt;Q&gt;&gt; findActions(Problem&lt;N, Q&gt; problem) {\r\n            // Do your action\r\n        }    \r\n    }\r\n\r\n    public class SearchEngine&lt;N, Q&gt; {\r\n        \r\n        private SearchForAction&lt;N, Q&gt; searchForAction;\r\n        public Optional&lt;List&lt;Q&gt;&gt; runCode(SearchForAction&lt;N, Q&gt; searchForAction, Problem&lt;N, Q&gt; problem) {\r\n            this.searchForAction = searchForAction;\r\n            return this.searchForAction.findActions(problem);\r\n        }\r\n    }\r\n\r\n    public class Program {\r\n    \r\n        private SearchEngine&lt;NQueensBoard, QueenAction&gt; searchEngine = new SearchEngine&lt;&gt;();\r\n        private SearchForActions&lt;NQueensBoard, QueenAction&gt; breadthFirstSearch = new BreadthFirstSearch&lt;&gt;();\r\n        private SearchForActions&lt;NQueensBoard, QueenAction&gt; depthFirstSearch = new DepthFirstSearch&lt;&gt;();\r\n    \r\n        // In your program call your method and you inject your dependency\r\n        searchEngine.runCode(breadthFirstSearch);\r\n        searchEngine.runCode(depthFirstSearch);\r\n    }\r\n\r\n","title":"How to create a method with an object wildcard (parameter) in Java?","body":"<p>You will need to use an <code>interface</code> or an <code>abstract class</code> and <code>dependency injection</code>, to inject the type of object search you want to do. The code will look something like this:</p>\n<pre><code>public interface SearchForAction&lt;N, Q&gt; {\n    Optional&lt;List&lt;Q&gt;&gt; findActions(Problem&lt;N, Q&gt; problem);\n}\n\npublic class BreadthFirstSearch implements SearchForAction&lt;N, Q&gt; {\n    Optional&lt;List&lt;Q&gt;&gt; findActions(Problem&lt;N, Q&gt; problem) {\n        // Do your action\n    }    \n}\n\npublic class SearchEngine&lt;N, Q&gt; {\n    \n    private SearchForAction&lt;N, Q&gt; searchForAction;\n    public Optional&lt;List&lt;Q&gt;&gt; runCode(SearchForAction&lt;N, Q&gt; searchForAction, Problem&lt;N, Q&gt; problem) {\n        this.searchForAction = searchForAction;\n        return this.searchForAction.findActions(problem);\n    }\n}\n\npublic class Program {\n\n    private SearchEngine&lt;NQueensBoard, QueenAction&gt; searchEngine = new SearchEngine&lt;&gt;();\n    private SearchForActions&lt;NQueensBoard, QueenAction&gt; breadthFirstSearch = new BreadthFirstSearch&lt;&gt;();\n    private SearchForActions&lt;NQueensBoard, QueenAction&gt; depthFirstSearch = new DepthFirstSearch&lt;&gt;();\n\n    // In your program call your method and you inject your dependency\n    searchEngine.runCode(breadthFirstSearch);\n    searchEngine.runCode(depthFirstSearch);\n}\n</code></pre>\n"}],"owner":{"account_id":19421106,"reputation":1,"user_id":14203629,"display_name":"aliefee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650122629,"creation_date":1650119813,"question_id":71894783,"body_markdown":"\tProblem&lt;NQueensBoard, QueenAction&gt; problem = new GeneralProblem&lt;&gt;(createBoard(),\r\n\tTailoredNQF::getIFActions, TailoredNQF::getResult, TailoredNQF::testGoal);\r\n\t\r\n\tSearchForActions&lt;NQueensBoard, QueenAction&gt; search = new BreadthFirstSearch&lt;&gt;(new GraphSearch&lt;&gt;());\r\n\tOptional&lt;List&lt;QueenAction&gt;&gt; actions = search.findActions(problem);\r\n    actions.ifPresent(qActions -&gt; qActions.forEach(System.out::println));\r\n    System.out.println(search.getMetrics());\r\nI want &quot;BreadthFirstSearch&quot; to be some kind of a wildcard(*) (or parameter in a method structure) here, so that I can run this entire piece of code just as;\r\n\r\n    runCode(BreadthFirstSearch);\r\n    runCode(DepthFirstSearch);\r\n    ...\r\nwithout repeating.\r\nHow can I do it?","title":"How to create a method with an object wildcard (parameter) in Java?","body":"<pre><code>Problem&lt;NQueensBoard, QueenAction&gt; problem = new GeneralProblem&lt;&gt;(createBoard(),\nTailoredNQF::getIFActions, TailoredNQF::getResult, TailoredNQF::testGoal);\n\nSearchForActions&lt;NQueensBoard, QueenAction&gt; search = new BreadthFirstSearch&lt;&gt;(new GraphSearch&lt;&gt;());\nOptional&lt;List&lt;QueenAction&gt;&gt; actions = search.findActions(problem);\nactions.ifPresent(qActions -&gt; qActions.forEach(System.out::println));\nSystem.out.println(search.getMetrics());\n</code></pre>\n<p>I want &quot;BreadthFirstSearch&quot; to be some kind of a wildcard(*) (or parameter in a method structure) here, so that I can run this entire piece of code just as;</p>\n<pre><code>runCode(BreadthFirstSearch);\nrunCode(DepthFirstSearch);\n...\n</code></pre>\n<p>without repeating.\nHow can I do it?</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":8567,"page":1425,"page_size":100}
