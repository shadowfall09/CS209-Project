{"items":[{"tags":["java","spring-boot","azure-blob-storage","resttemplate"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1668278141,"post_id":74415548,"comment_id":131368363,"body_markdown":"We need to see code","body":"We need to see code"}],"answers":[{"tags":[],"owner":{"account_id":7893671,"reputation":618,"user_id":5963060,"display_name":"AidH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668289683,"creation_date":1668289198,"answer_id":74416783,"question_id":74415548,"body_markdown":"First tip: Do not load the file into memory. That is why you are getting out of memory exception. Instead, read it buffered.\r\n\r\nIf you are using Spring&#39;s RestTemplate, open the download stream like this:\r\n\r\n    InputStream fileDownloadUrlStream = new URL(downloadUrl).openStream();\r\n    return new BufferedInputStream(fileDownloadUrlStream);\r\n\r\nYou can try to accomplish it with this [example][1].\r\n\r\nBut there is also an Azure Storage client which you can add to Maven(or Gradle) project (check the latest versions).\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n        &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\r\n        &lt;version&gt;12.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n        &lt;artifactId&gt;azure-storage&lt;/artifactId&gt;\r\n        &lt;version&gt;8.6.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nUsing chunks is a good approach. Here is an example of how can you use chunked blob client to download chunks of the file from Azure Storage:\r\n\r\n     String connectionString = getAzureBlobStorageConnectionKeyName(accountName);\r\n     BlobServiceClient blobServiceClient = new BlobServiceClientBuilder().connectionString(connectionString).buildClient();\r\n     BlobContainerClient containerClient = blobServiceClient.getBlobContainerClient(containerId); \r\n     BlobClient blobClient = containerClient.getBlobClient(blobName);\r\n     BlockBlobClient blockBlobClient = blobClient.getBlockBlobClient();\r\n     blockBlobClient.downloadWithResponse(new FileOutputStream(file),\r\n                                          new BlobRange(0L, downloadSize * 1024 * 1024), // convert chunk size to MB\r\n                                          null,\r\n                                          null,\r\n                                          false,\r\n                                          Duration.ofMinutes(1L),\r\n                                          null);\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-resttemplate-download-large-file","title":"How to read large CSV file from azure blob in chunks using rest template","body":"<p>First tip: Do not load the file into memory. That is why you are getting out of memory exception. Instead, read it buffered.</p>\n<p>If you are using Spring's RestTemplate, open the download stream like this:</p>\n<pre><code>InputStream fileDownloadUrlStream = new URL(downloadUrl).openStream();\nreturn new BufferedInputStream(fileDownloadUrlStream);\n</code></pre>\n<p>You can try to accomplish it with this <a href=\"https://www.baeldung.com/spring-resttemplate-download-large-file\" rel=\"nofollow noreferrer\">example</a>.</p>\n<p>But there is also an Azure Storage client which you can add to Maven(or Gradle) project (check the latest versions).</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\n    &lt;version&gt;12.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-storage&lt;/artifactId&gt;\n    &lt;version&gt;8.6.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Using chunks is a good approach. Here is an example of how can you use chunked blob client to download chunks of the file from Azure Storage:</p>\n<pre><code> String connectionString = getAzureBlobStorageConnectionKeyName(accountName);\n BlobServiceClient blobServiceClient = new BlobServiceClientBuilder().connectionString(connectionString).buildClient();\n BlobContainerClient containerClient = blobServiceClient.getBlobContainerClient(containerId); \n BlobClient blobClient = containerClient.getBlobClient(blobName);\n BlockBlobClient blockBlobClient = blobClient.getBlockBlobClient();\n blockBlobClient.downloadWithResponse(new FileOutputStream(file),\n                                      new BlobRange(0L, downloadSize * 1024 * 1024), // convert chunk size to MB\n                                      null,\n                                      null,\n                                      false,\n                                      Duration.ofMinutes(1L),\n                                      null);\n</code></pre>\n"}],"owner":{"account_id":26707771,"reputation":11,"user_id":20313687,"display_name":"charan charan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668289683,"creation_date":1668278029,"question_id":74415548,"body_markdown":"I need to read large CSV file from azure blob, process the records and store those records into Db. Currently I am using rest template to accomplish this. For small sized file it&#39;s working fine. However for large sized files it&#39;s giving out of memory error. \r\n\r\n1. How to read large CSV files from azure blob using rest template.\r\n2. I need to read the data in chunks.\r\n3. Process the chunks of data and insert it to database.","title":"How to read large CSV file from azure blob in chunks using rest template","body":"<p>I need to read large CSV file from azure blob, process the records and store those records into Db. Currently I am using rest template to accomplish this. For small sized file it's working fine. However for large sized files it's giving out of memory error.</p>\n<ol>\n<li>How to read large CSV files from azure blob using rest template.</li>\n<li>I need to read the data in chunks.</li>\n<li>Process the chunks of data and insert it to database.</li>\n</ol>\n"},{"tags":["java","spring-data-jpa","composite-primary-key"],"answers":[{"tags":[],"owner":{"account_id":17113942,"reputation":623,"user_id":12383992,"display_name":"dbrewster"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668289565,"creation_date":1668289565,"answer_id":74416836,"question_id":74350209,"body_markdown":"@JoinColumn has a special property for when there is a Composite PK in the referenced table - referencedColumnName\r\n\r\n```\r\n@OneToMany\r\n@JoinColumn(name = &quot;TRANSLATION_DV_ID&quot;, referencedColumnName = &quot;TRANSLATION_DV_ID&quot;)\r\nprivate List&lt;Translation&gt; translation;\r\n```","title":"How to map JPA OneToMany relationship when FK is part of CompositeId","body":"<p>@JoinColumn has a special property for when there is a Composite PK in the referenced table - referencedColumnName</p>\n<pre><code>@OneToMany\n@JoinColumn(name = &quot;TRANSLATION_DV_ID&quot;, referencedColumnName = &quot;TRANSLATION_DV_ID&quot;)\nprivate List&lt;Translation&gt; translation;\n</code></pre>\n"}],"owner":{"account_id":19093025,"reputation":250,"user_id":13942948,"display_name":"rainmaker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74416836,"answer_count":1,"score":1,"last_activity_date":1668289565,"creation_date":1667840330,"question_id":74350209,"body_markdown":"So I have a pre-existing Service Entity with multiple OneToMany relationships. Now I need to add one more but I am having trouble and I assume it must be because the Many side uses a Composite Key. \r\n\r\nI have the Service.java with its new fields\r\n```\r\n@Column(name = &quot;TRANSLATION_DV_ID&quot;)\r\nprivate String translationDvId;\r\n\r\n@OneToMany(cascade = CascadeType.All, fetch = FetchType.Eager, mappedBy = &quot;service&quot;)\r\nprivate List&lt;Translation&gt; translation;\r\n```\r\nand\r\n```\r\n@IdClass(TranslationId.class)\r\npublic class Translation {\r\n @Id\r\n @Column(name = &quot;TRANSLATION_DV_ID&quot;)\r\n private String translationDvId;\r\n\r\n @Id\r\n @Column(name = &quot;LOCALE_CD&quot;)\r\n private String localeCd;\r\n\r\n @Column(name = &quot;TRANSLATED_NAME&quot;)\r\n private String translatedName;\r\n\r\n @Column(name = &quot;TRANSLATED_DESC&quot;)\r\n private String translatedDesc;\r\n\r\n @ManyToOne\r\n @JoinColumn(name = &quot;TRANSLATION_DV_ID&quot;, insertable = false, updatable = false)\r\n private Service service;\r\n\r\n```\r\n\r\nThe test data is generated with sql scripts. I entered the new data and matched the translationDvId&#39;s. The data is all present with the correct information except for Translation relationship- each Service always has an empty ```List&lt;Translation&gt;```.\r\n\r\nI am not sure what I am missing but here is an example of a data entry \r\n```\r\nINSERT INTO SCHEMA.SERVICE(SERVICE_CD, TRANSLATION_DV_ID, etc, etc)\r\nVALUES (&#39;servicePrimaryKey&#39;, &#39;12345&#39;, &#39;etc, &#39;etc);\r\n\r\nINSERT INTO SCHEMA.TRANSLATION(TRANSLATION_DV_ID, LOCALE_CD, TRANSLATED_NAME, TRANSLATED_DESC)\r\nVALUES (&#39;12345&#39;, &#39;English&#39;, &#39;Guardian&#39;, &#39;Cool stuff&#39;);\r\nINSERT INTO SCHEMA.TRANSLATION(TRANSLATION_DV_ID, LOCALE_CD, TRANSLATED_NAME, TRANSLATED_DESC)\r\nVALUES (&#39;12345&#39;, &#39;Spanish&#39;, &#39;Guardia&#39;, &#39;Cosas interesantes&#39;);\r\n```","title":"How to map JPA OneToMany relationship when FK is part of CompositeId","body":"<p>So I have a pre-existing Service Entity with multiple OneToMany relationships. Now I need to add one more but I am having trouble and I assume it must be because the Many side uses a Composite Key.</p>\n<p>I have the Service.java with its new fields</p>\n<pre><code>@Column(name = &quot;TRANSLATION_DV_ID&quot;)\nprivate String translationDvId;\n\n@OneToMany(cascade = CascadeType.All, fetch = FetchType.Eager, mappedBy = &quot;service&quot;)\nprivate List&lt;Translation&gt; translation;\n</code></pre>\n<p>and</p>\n<pre><code>@IdClass(TranslationId.class)\npublic class Translation {\n @Id\n @Column(name = &quot;TRANSLATION_DV_ID&quot;)\n private String translationDvId;\n\n @Id\n @Column(name = &quot;LOCALE_CD&quot;)\n private String localeCd;\n\n @Column(name = &quot;TRANSLATED_NAME&quot;)\n private String translatedName;\n\n @Column(name = &quot;TRANSLATED_DESC&quot;)\n private String translatedDesc;\n\n @ManyToOne\n @JoinColumn(name = &quot;TRANSLATION_DV_ID&quot;, insertable = false, updatable = false)\n private Service service;\n\n</code></pre>\n<p>The test data is generated with sql scripts. I entered the new data and matched the translationDvId's. The data is all present with the correct information except for Translation relationship- each Service always has an empty <code>List&lt;Translation&gt;</code>.</p>\n<p>I am not sure what I am missing but here is an example of a data entry</p>\n<pre><code>INSERT INTO SCHEMA.SERVICE(SERVICE_CD, TRANSLATION_DV_ID, etc, etc)\nVALUES ('servicePrimaryKey', '12345', 'etc, 'etc);\n\nINSERT INTO SCHEMA.TRANSLATION(TRANSLATION_DV_ID, LOCALE_CD, TRANSLATED_NAME, TRANSLATED_DESC)\nVALUES ('12345', 'English', 'Guardian', 'Cool stuff');\nINSERT INTO SCHEMA.TRANSLATION(TRANSLATION_DV_ID, LOCALE_CD, TRANSLATED_NAME, TRANSLATED_DESC)\nVALUES ('12345', 'Spanish', 'Guardia', 'Cosas interesantes');\n</code></pre>\n"},{"tags":["java","spring-boot","maven","jenkins","devops"],"comments":[{"owner":{"account_id":25771,"reputation":21236,"user_id":66519,"accept_rate":99,"display_name":"ojblass"},"score":0,"creation_date":1668289865,"post_id":74416815,"comment_id":131370589,"body_markdown":"Does your Jenkins have any Maven plug in installed?","body":"Does your Jenkins have any Maven plug in installed?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668290443,"post_id":74416815,"comment_id":131370705,"body_markdown":"First the jenkins setup does not see the maven version because of the given error: `maven-resources-plugin:3.2.0 requires Maven version 3.1.0`... If you configured the global tools configuration the usage of `M2_HOME` does not work because those are environment variables which are related to the environment of your starting process (Jenkins!)... You should simply configure the absolute path to your Maven installation in your Jenkins Setup...","body":"First the jenkins setup does not see the maven version because of the given error: <code>maven-resources-plugin:3.2.0 requires Maven version 3.1.0</code>... If you configured the global tools configuration the usage of <code>M2_HOME</code> does not work because those are environment variables which are related to the environment of your starting process (Jenkins!)... You should simply configure the absolute path to your Maven installation in your Jenkins Setup..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668290508,"post_id":74416815,"comment_id":131370720,"body_markdown":"Also defining a maven-plugin as a dependency in your project is simply wrong. Remove the dependency to `maven-compiler-plugin`...","body":"Also defining a maven-plugin as a dependency in your project is simply wrong. Remove the dependency to <code>maven-compiler-plugin</code>..."},{"owner":{"account_id":16020038,"reputation":11,"user_id":11561751,"display_name":"Leith Majdoub"},"score":0,"creation_date":1668336242,"post_id":74416815,"comment_id":131376031,"body_markdown":"@khmarbaise even after configuring the absolute path in the jenkins setup, jenkins still doesn&#39;t see Maven. Is there something specific i need to restart for the changes to be seen ?","body":"@khmarbaise even after configuring the absolute path in the jenkins setup, jenkins still doesn&#39;t see Maven. Is there something specific i need to restart for the changes to be seen ?"}],"owner":{"account_id":16020038,"reputation":11,"user_id":11561751,"display_name":"Leith Majdoub"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":686,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668289378,"creation_date":1668289378,"question_id":74416815,"body_markdown":"This is my first Devops project. I created a pipeline on jenkins that pulls from a spring boot project on github then executes Maven commands. Then Sonar Nexus and Docker. And i have this compatibility error at the maven install stage that i can&#39;t fix: \r\n\r\n```\r\n+ mvn install\r\n[INFO] Scanning for projects...\r\n[WARNING] \r\n[WARNING] Some problems were encountered while building the effective model for tn.esprit.rh:achat:jar:1.0\r\n[WARNING] &#39;dependencyManagement.dependencies.dependency.exclusions.exclusion.artifactId&#39; for org.quartz-scheduler:quartz:jar with value &#39;*&#39; does not match a valid id pattern. @ org.springframework.boot:spring-boot-dependencies:2.5.3, /var/lib/jenkins/.m2/repository/org/springframework/boot/spring-boot-dependencies/2.5.3/spring-boot-dependencies-2.5.3.pom, line 1691, column 25\r\n[WARNING] \r\n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\r\n[WARNING] \r\n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\r\n[WARNING] \r\n[INFO]                                                                         \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Building achat 1.0\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time: 2.059s\r\n[INFO] Finished at: Sat Nov 12 19:01:24 UTC 2022\r\n[INFO] Final Memory: 7M/29M\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.2.0:resources (default-resources) on project achat: The plugin org.apache.maven.plugins:maven-resources-plugin:3.2.0 requires Maven version 3.1.0 -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginIncompatibleException\r\n```\r\n\r\nThis is the content of pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.3&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;tn.esprit.rh&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;achat&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t&lt;name&gt;achat&lt;/name&gt;\r\n\t&lt;description&gt;Projet pour le module DevOps&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;maven-jar-plugin.version&gt;3.3.0&lt;/maven-jar-plugin.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nThis is Java and Maven configuration on the Vagrant CentOS7 VM from where i&#39;m launching Jenkins:\r\n\r\n```\r\n[vagrant@localhost ~]$ mvn --version\r\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\r\nMaven home: /opt/maven\r\nJava version: 11.0.17, vendor: Red Hat, Inc., runtime: /usr/lib/jvm/java-11-openjdk-11.0.17.0.8-2.el7_9.x86_64\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;3.10.0-1160.76.1.el7.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n```\r\n\r\n\r\nThis is maven configuration in Jenkins Global Tool Configuration: [![Global tool config maven]:\r\nName: M2_HOME\r\nMAVEN_HOME: /opt/maven\r\n\r\n\r\n\r\nI tried all the fixes i could think of or find on internet but it&#39;s a pretty specifix problem that&#39;s why i&#39;m posting it here.","title":"Error Maven install in Jenkins Pipeline: Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.2.0:resources","body":"<p>This is my first Devops project. I created a pipeline on jenkins that pulls from a spring boot project on github then executes Maven commands. Then Sonar Nexus and Docker. And i have this compatibility error at the maven install stage that i can't fix:</p>\n<pre><code>+ mvn install\n[INFO] Scanning for projects...\n[WARNING] \n[WARNING] Some problems were encountered while building the effective model for tn.esprit.rh:achat:jar:1.0\n[WARNING] 'dependencyManagement.dependencies.dependency.exclusions.exclusion.artifactId' for org.quartz-scheduler:quartz:jar with value '*' does not match a valid id pattern. @ org.springframework.boot:spring-boot-dependencies:2.5.3, /var/lib/jenkins/.m2/repository/org/springframework/boot/spring-boot-dependencies/2.5.3/spring-boot-dependencies-2.5.3.pom, line 1691, column 25\n[WARNING] \n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\n[WARNING] \n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\n[WARNING] \n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building achat 1.0\n[INFO] ------------------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 2.059s\n[INFO] Finished at: Sat Nov 12 19:01:24 UTC 2022\n[INFO] Final Memory: 7M/29M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.2.0:resources (default-resources) on project achat: The plugin org.apache.maven.plugins:maven-resources-plugin:3.2.0 requires Maven version 3.1.0 -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginIncompatibleException\n</code></pre>\n<p>This is the content of pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.3&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;tn.esprit.rh&lt;/groupId&gt;\n    &lt;artifactId&gt;achat&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;name&gt;achat&lt;/name&gt;\n    &lt;description&gt;Projet pour le module DevOps&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;maven-jar-plugin.version&gt;3.3.0&lt;/maven-jar-plugin.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>This is Java and Maven configuration on the Vagrant CentOS7 VM from where i'm launching Jenkins:</p>\n<pre><code>[vagrant@localhost ~]$ mvn --version\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\nMaven home: /opt/maven\nJava version: 11.0.17, vendor: Red Hat, Inc., runtime: /usr/lib/jvm/java-11-openjdk-11.0.17.0.8-2.el7_9.x86_64\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;3.10.0-1160.76.1.el7.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<p>This is maven configuration in Jenkins Global Tool Configuration: [![Global tool config maven]:\nName: M2_HOME\nMAVEN_HOME: /opt/maven</p>\n<p>I tried all the fixes i could think of or find on internet but it's a pretty specifix problem that's why i'm posting it here.</p>\n"},{"tags":["java","mysql","database","jdbc"],"comments":[{"owner":{"account_id":19061,"reputation":185746,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":1,"creation_date":1261602102,"post_id":1955268,"comment_id":1867421,"body_markdown":"&quot;pragmatically&quot; should be &quot;programmatically&quot;","body":"&quot;pragmatically&quot; should be &quot;programmatically&quot;"}],"answers":[{"comments":[{"owner":{"account_id":236549,"reputation":2564,"user_id":504112,"accept_rate":55,"display_name":"gumuruh"},"score":0,"creation_date":1593858183,"post_id":1955310,"comment_id":110927274,"body_markdown":"don&#39;t they have the library for import / exporting mysql in java?","body":"don&#39;t they have the library for import / exporting mysql in java?"}],"tags":[],"owner":{"account_id":83981,"reputation":31313,"user_id":235058,"accept_rate":70,"display_name":"Roland Bouman"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1261602346,"creation_date":1261602346,"answer_id":1955310,"question_id":1955268,"body_markdown":"Personally I would disrecommend loading a regular SQL dump in this way, because you would need non-trivial code to parse or at least tokenize SQL. \r\n\r\nI would recommend using CSV data dumps, you can load these with a the LOAD DATA INFILE syntax. See: [http://dev.mysql.com/doc/refman/5.1/en/load-data.html][1]\r\n\r\nOf course, you would still need to ensure the target tables exist, but if you know you only have to parse table creation DDL stattemnts, that will drastically simplify your java code.\r\n\r\nNote that you can use mysqldump to extract CSV data from your database, see: [http://dev.mysql.com/doc/refman/5.1/en/mysqldump.html#option_mysqldump_tab][2]\r\n\r\n\r\n  [1]: http://dev.mysql.com/doc/refman/5.1/en/load-data.html\r\n  [2]: http://dev.mysql.com/doc/refman/5.1/en/mysqldump.html#option_mysqldump_tab","title":"Importing a (mysql) database dump programmatically through Java","body":"<p>Personally I would disrecommend loading a regular SQL dump in this way, because you would need non-trivial code to parse or at least tokenize SQL. </p>\n\n<p>I would recommend using CSV data dumps, you can load these with a the LOAD DATA INFILE syntax. See: <a href=\"http://dev.mysql.com/doc/refman/5.1/en/load-data.html\" rel=\"nofollow noreferrer\">http://dev.mysql.com/doc/refman/5.1/en/load-data.html</a></p>\n\n<p>Of course, you would still need to ensure the target tables exist, but if you know you only have to parse table creation DDL stattemnts, that will drastically simplify your java code.</p>\n\n<p>Note that you can use mysqldump to extract CSV data from your database, see: <a href=\"http://dev.mysql.com/doc/refman/5.1/en/mysqldump.html#option_mysqldump_tab\" rel=\"nofollow noreferrer\">http://dev.mysql.com/doc/refman/5.1/en/mysqldump.html#option_mysqldump_tab</a></p>\n"},{"comments":[{"owner":{"account_id":7823,"reputation":62812,"user_id":13724,"accept_rate":29,"display_name":"MarkR"},"score":0,"creation_date":1261605029,"post_id":1955483,"comment_id":1867739,"body_markdown":"This is the *right* way to do this. Any other way may fail to work in subtle edge-cases. Mysql dumps are written to be imported with the mysql client, not any other tool.","body":"This is the <i>right</i> way to do this. Any other way may fail to work in subtle edge-cases. Mysql dumps are written to be imported with the mysql client, not any other tool."},{"owner":{"account_id":75516,"reputation":6939,"user_id":216575,"accept_rate":56,"display_name":"Ali Salehi"},"score":2,"creation_date":1261605714,"post_id":1955483,"comment_id":1867821,"body_markdown":"Just a fix, we cant use redirection like that in java:\n\nProcess pr = rt.exec(new String[]{&quot;/bin/bash&quot;,&quot;-c&quot;,&quot;mysql -p -h ServerName DbName &lt; dump.sql&quot;});\n\nThanks for the answer :)","body":"Just a fix, we cant use redirection like that in java:  Process pr = rt.exec(new String[]{&quot;/bin/bash&quot;,&quot;-c&quot;,&quot;mysql -p -h ServerName DbName &lt; dump.sql&quot;});  Thanks for the answer :)"},{"owner":{"account_id":109969,"reputation":14798,"user_id":291180,"accept_rate":80,"display_name":"Travis Webb"},"score":1,"creation_date":1321991576,"post_id":1955483,"comment_id":10125804,"body_markdown":"any ideas on how to do this in Windows?","body":"any ideas on how to do this in Windows?"}],"tags":[],"owner":{"account_id":55865,"reputation":6709,"user_id":167388,"display_name":"jvilalta"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1261604584,"creation_date":1261604584,"answer_id":1955483,"question_id":1955268,"body_markdown":"You could start a new process from java and execute this command if you have access to the mysql executable wherever you are running the import. Something like this:\r\n\r\n    Runtime rt = Runtime.getRuntime();\r\n    Process pr = rt.exec(&quot;mysql -p -h ServerName DbName &lt; dump.sql&quot;);\r\n\r\n","title":"Importing a (mysql) database dump programmatically through Java","body":"<p>You could start a new process from java and execute this command if you have access to the mysql executable wherever you are running the import. Something like this:</p>\n\n<pre><code>Runtime rt = Runtime.getRuntime();\nProcess pr = rt.exec(\"mysql -p -h ServerName DbName &lt; dump.sql\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":223431,"reputation":4406,"user_id":482628,"accept_rate":92,"display_name":"Mehdi"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1346426405,"creation_date":1346426405,"answer_id":12218284,"question_id":1955268,"body_markdown":"Backup:\r\n\r\n    /******************************************************/\r\n    //Database Properties\r\n    /******************************************************/\r\n    String dbName = “dbName”;\r\n    String dbUser = “dbUser”;\r\n    String dbPass = “dbPass”;\r\n    \r\n    /***********************************************************/\r\n    // Execute Shell Command\r\n    /***********************************************************/\r\n    String executeCmd = “”;\r\n    executeCmd = “mysqldump -u “+dbUser+” -p”+dbPass+” “+dbName+” -r backup.sql”;\r\n    }\r\n    Process runtimeProcess =Runtime.getRuntime().exec(executeCmd);\r\n    int processComplete = runtimeProcess.waitFor();\r\n    if(processComplete == 0){\r\n    \r\n    out.println(“Backup taken successfully”);\r\n    \r\n    } else {\r\n    \r\n    out.println(“Could not take mysql backup”);\r\n    \r\n    }\r\n\r\nRestore:\r\n\r\n    /******************************************************/\r\n    //Database Properties\r\n    /******************************************************/\r\n    String dbName = “dbName”;\r\n    String dbUser = “dbUser”;\r\n    String dbPass = “dbPass”;\r\n    \r\n    /***********************************************************/\r\n    // Execute Shell Command\r\n    /***********************************************************/\r\n    String executeCmd = “”;\r\n    \r\n    executeCmd = new String[]{“/bin/sh”, “-c”, “mysql -u” + dbUser+ ” -p”+dbPass+” ” + dbName+ ” &lt; backup.sql” };\r\n    \r\n    }\r\n    Process runtimeProcess =Runtime.getRuntime().exec(executeCmd);\r\n    int processComplete = runtimeProcess.waitFor();\r\n    if(processComplete == 0){\r\n    \r\n    out.println(“success”);\r\n    \r\n    } else {\r\n    \r\n    out.println(“restore failure”);\r\n    \r\n    }","title":"Importing a (mysql) database dump programmatically through Java","body":"<p>Backup:</p>\n\n<pre><code>/******************************************************/\n//Database Properties\n/******************************************************/\nString dbName = “dbName”;\nString dbUser = “dbUser”;\nString dbPass = “dbPass”;\n\n/***********************************************************/\n// Execute Shell Command\n/***********************************************************/\nString executeCmd = “”;\nexecuteCmd = “mysqldump -u “+dbUser+” -p”+dbPass+” “+dbName+” -r backup.sql”;\n}\nProcess runtimeProcess =Runtime.getRuntime().exec(executeCmd);\nint processComplete = runtimeProcess.waitFor();\nif(processComplete == 0){\n\nout.println(“Backup taken successfully”);\n\n} else {\n\nout.println(“Could not take mysql backup”);\n\n}\n</code></pre>\n\n<p>Restore:</p>\n\n<pre><code>/******************************************************/\n//Database Properties\n/******************************************************/\nString dbName = “dbName”;\nString dbUser = “dbUser”;\nString dbPass = “dbPass”;\n\n/***********************************************************/\n// Execute Shell Command\n/***********************************************************/\nString executeCmd = “”;\n\nexecuteCmd = new String[]{“/bin/sh”, “-c”, “mysql -u” + dbUser+ ” -p”+dbPass+” ” + dbName+ ” &lt; backup.sql” };\n\n}\nProcess runtimeProcess =Runtime.getRuntime().exec(executeCmd);\nint processComplete = runtimeProcess.waitFor();\nif(processComplete == 0){\n\nout.println(“success”);\n\n} else {\n\nout.println(“restore failure”);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":379940,"reputation":53,"user_id":733650,"display_name":"shandor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361531577,"creation_date":1361531577,"answer_id":15022853,"question_id":1955268,"body_markdown":"Effective solution can be found here:\r\n\r\nhttps://stackoverflow.com/a/1044837\r\n\r\nThis explains how to run any sql script over jdbc.\r\n\r\n ","title":"Importing a (mysql) database dump programmatically through Java","body":"<p>Effective solution can be found here:</p>\n\n<p><a href=\"https://stackoverflow.com/a/1044837\">https://stackoverflow.com/a/1044837</a></p>\n\n<p>This explains how to run any sql script over jdbc.</p>\n"},{"tags":[],"owner":{"account_id":18455933,"reputation":311,"user_id":13444713,"display_name":"Abderaouf Boucenna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668288991,"creation_date":1668288991,"answer_id":74416760,"question_id":1955268,"body_markdown":"I know this question is a bit old, but I think people are still looking for an answer like me.\r\n\r\nBasically, I wanted to make two buttons in my GUI (one to import, and the other to export) and generate an SQL file, I tested the chosen solution to start a process from java and execute it with Runtime but it didn&#39;t work, I had an *Access Denied* error eventhought I am the only user in my computer. After some researches, I found [this library (mysql-backup4j)][1] and did this code :\r\n\r\n*EXPORT FUNCTION :*\r\n```\r\nProperties properties = new Properties();\r\nproperties.setProperty(MysqlExportService.DB_NAME, &quot;DATABASE_NAME&quot;);\r\nproperties.setProperty(MysqlExportService.DB_USERNAME, &quot;DATABASE_USERNAME&quot;);\r\nproperties.setProperty(MysqlExportService.DB_PASSWORD, &quot;DATABASE_PWD&quot;);\r\n\r\nproperties.setProperty(MysqlExportService.TEMP_DIR, new File(System.getProperty(&quot;user.dir&quot;) + &quot;\\\\database_dump&quot;).getAbsolutePath());\r\nproperties.setProperty(MysqlExportService.PRESERVE_GENERATED_ZIP, &quot;true&quot;);\r\nMysqlExportService mysqlExportService = new MysqlExportService(properties); mysqlExportService.export();\r\n```\r\n\r\n*IMPORT FUNCTION (the user chooses the SQL file) :*\r\n```\r\nFileChooser fc = new FileChooser();\r\n\r\nList&lt;String&gt; sqlExtensions = new ArrayList&lt;&gt;(List.of(&quot;*.sql&quot;, &quot;*.SQL&quot;));\r\nfc.getExtensionFilters().add(new FileChooser.ExtensionFilter(&quot;Fichier SQL&quot;, sqlExtensions));\r\n\r\nFile f = fc.showOpenDialog(null);\r\nif (f != null) {\r\n        System.out.println(&quot;database path : &quot; + f.getAbsolutePath());\r\n        String sql = new String(Files.readAllBytes(Paths.get(f.getAbsolutePath())));\r\n        boolean res = MysqlImportService.builder()\r\n                    .setDatabase(&quot;DATABASE_NAME&quot;).setSqlString(sql)\r\n                    .setUsername(&quot;DATABASE_USERNAME&quot;).setPassword(&quot;DATABASE_PWD&quot;).setDeleteExisting(true)\r\n                    .setDropExisting(true)\r\n                    .importDatabase();\r\n}\r\n```\r\n\r\nP.S.: I am using JavaFX for the GUI with JDK11.\r\n\r\nReference : [How to backup your MySQL database programmatically using mysql-backup4j][2]\r\n\r\n\r\n  [1]: https://search.maven.org/artifact/com.smattme/mysql-backup4j/1.2.1/jar\r\n  [2]: https://medium.com/free-code-camp/how-to-backup-mysql-database-programmatically-using-mysql-backup4j-2b53a1cbf9b2","title":"Importing a (mysql) database dump programmatically through Java","body":"<p>I know this question is a bit old, but I think people are still looking for an answer like me.</p>\n<p>Basically, I wanted to make two buttons in my GUI (one to import, and the other to export) and generate an SQL file, I tested the chosen solution to start a process from java and execute it with Runtime but it didn't work, I had an <em>Access Denied</em> error eventhought I am the only user in my computer. After some researches, I found <a href=\"https://search.maven.org/artifact/com.smattme/mysql-backup4j/1.2.1/jar\" rel=\"nofollow noreferrer\">this library (mysql-backup4j)</a> and did this code :</p>\n<p><em>EXPORT FUNCTION :</em></p>\n<pre><code>Properties properties = new Properties();\nproperties.setProperty(MysqlExportService.DB_NAME, &quot;DATABASE_NAME&quot;);\nproperties.setProperty(MysqlExportService.DB_USERNAME, &quot;DATABASE_USERNAME&quot;);\nproperties.setProperty(MysqlExportService.DB_PASSWORD, &quot;DATABASE_PWD&quot;);\n\nproperties.setProperty(MysqlExportService.TEMP_DIR, new File(System.getProperty(&quot;user.dir&quot;) + &quot;\\\\database_dump&quot;).getAbsolutePath());\nproperties.setProperty(MysqlExportService.PRESERVE_GENERATED_ZIP, &quot;true&quot;);\nMysqlExportService mysqlExportService = new MysqlExportService(properties); mysqlExportService.export();\n</code></pre>\n<p><em>IMPORT FUNCTION (the user chooses the SQL file) :</em></p>\n<pre><code>FileChooser fc = new FileChooser();\n\nList&lt;String&gt; sqlExtensions = new ArrayList&lt;&gt;(List.of(&quot;*.sql&quot;, &quot;*.SQL&quot;));\nfc.getExtensionFilters().add(new FileChooser.ExtensionFilter(&quot;Fichier SQL&quot;, sqlExtensions));\n\nFile f = fc.showOpenDialog(null);\nif (f != null) {\n        System.out.println(&quot;database path : &quot; + f.getAbsolutePath());\n        String sql = new String(Files.readAllBytes(Paths.get(f.getAbsolutePath())));\n        boolean res = MysqlImportService.builder()\n                    .setDatabase(&quot;DATABASE_NAME&quot;).setSqlString(sql)\n                    .setUsername(&quot;DATABASE_USERNAME&quot;).setPassword(&quot;DATABASE_PWD&quot;).setDeleteExisting(true)\n                    .setDropExisting(true)\n                    .importDatabase();\n}\n</code></pre>\n<p>P.S.: I am using JavaFX for the GUI with JDK11.</p>\n<p>Reference : <a href=\"https://medium.com/free-code-camp/how-to-backup-mysql-database-programmatically-using-mysql-backup4j-2b53a1cbf9b2\" rel=\"nofollow noreferrer\">How to backup your MySQL database programmatically using mysql-backup4j</a></p>\n"}],"owner":{"account_id":75516,"reputation":6939,"user_id":216575,"accept_rate":56,"display_name":"Ali Salehi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22998,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":1955483,"answer_count":5,"score":17,"last_activity_date":1668288991,"creation_date":1261601787,"question_id":1955268,"body_markdown":"How can I import a mysql database dump file (contains insert and create table statements) programmatically through a java program. I need this as the setup phase of a unit test. \r\n\r\nUnfortunately this doesn&#39;t work:\r\n\r\n    Connection conn = dbConnectionSource.getConnection();\r\n    Statement stmt = conn.createStatement();\r\n    stmt.execute(FileUtils.readFileToString(new File(&quot;./some-sql-file&quot;)));\r\n    conn.close();\r\n\r\nThanks,\r\n-A\r\n\r\nPS - In Rails, I used fixtures for filling a test database. I made rails rails create the underlying tables through setting the environment to test, anything similar in Java.\r\n","title":"Importing a (mysql) database dump programmatically through Java","body":"<p>How can I import a mysql database dump file (contains insert and create table statements) programmatically through a java program. I need this as the setup phase of a unit test. </p>\n\n<p>Unfortunately this doesn't work:</p>\n\n<pre><code>Connection conn = dbConnectionSource.getConnection();\nStatement stmt = conn.createStatement();\nstmt.execute(FileUtils.readFileToString(new File(\"./some-sql-file\")));\nconn.close();\n</code></pre>\n\n<p>Thanks,\n-A</p>\n\n<p>PS - In Rails, I used fixtures for filling a test database. I made rails rails create the underlying tables through setting the environment to test, anything similar in Java.</p>\n"},{"tags":["java","multithreading","game-engine","message-bus","netbeans-14"],"owner":{"account_id":24521938,"reputation":1,"user_id":18434851,"display_name":"Dan M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":0,"score":-2,"last_activity_date":1668288942,"creation_date":1668280188,"question_id":74415803,"body_markdown":"I&#39;m developing a novelty game/sim in Java Netbeans IDE 14, using a Message Bus/Manager system to handle communication between various elements. The game engine works, but after a while (several thousand frames) one of the managers will lock up and stop checking its queue, freezing the game.\r\n\r\nI use an abstract Manager class, a MessageBus class that extends the Manager class, and 11 game logic classes that also extend Manager.  Any of the classes can be the culprit of a lockup, per the &quot;check&quot; performed each game tick. I don&#39;t believe threads are not being lost in the actual execution of message handling, since the same lock up happens to any of them, including the simplest MessageBus.  The lockup can occur at any time, but cannot be induced intentionally.\r\n\r\nI&#39;ll give the relevant extract of code from the abstract Manager, extended GameManager and MessageBus classes:\r\n\r\n```\r\npublic abstract class Manager {\r\n    \r\n    \r\n    //     *****     PROTECTED MEMBERS     *****\r\n    \r\n    protected Thread thread;    \r\n    protected String name;        \r\n    protected final Queue queue = new LinkedList&lt;&gt;();        \r\n    protected boolean loaded = false;        \r\n    \r\n\r\n    //     *****     PROTECTED METHODS     *****\r\n\r\n    protected void checkQueue() {\r\n        \r\n        MessageBus.Message m = (MessageBus.Message)queue.poll();            \r\n        \r\n        if (m != null) { execute(m); }\r\n        else {\r\n            try {\r\n                Thread.sleep(1);\r\n            } catch (InterruptedException ex) { Logger.getLogger(Manager.class.getName()).log(Level.SEVERE, null, ex); }\r\n        }                \r\n    }    \r\n    \r\n    protected abstract void execute(MessageBus.Message m);\r\n    \r\n    protected class ProcessMessages implements Runnable {\r\n        \r\n        @Override\r\n        public void run() {\r\n            \r\n            while (Engine.isRunning()) { checkQueue(); }                           \r\n        }                      \r\n    }\r\n    \r\n    \r\n    //     *****     PUBLIC METHODS     *****\r\n    \r\n    public String getName() {       return name; }    \r\n    public boolean hasMessages() {  return !queue.isEmpty(); }    \r\n    public boolean isLoaded() {     return loaded; }    \r\n    \r\n    public void initialize() { thread = new Thread(new ProcessMessages()); }\r\n    \r\n    public void start() { thread.start(); }\r\n    \r\n    public synchronized void addToQueue(MessageBus.Message m) { queue.add(m); }\r\n    \r\n    public void check() {\r\n        \r\n        if (!thread.isAlive()) { System.out.println(&quot;Thread has died &quot; + thread.getName() + &quot;-&quot; + name + &quot;  &quot; + queue.size()); }\r\n        if (queue.size() &gt; 10) { System.out.println(&quot;Queue building up for &quot; + thread.getName() + &quot;-&quot; + name + &quot;  &quot; + queue.size()); }\r\n        \r\n    }     \r\n}\r\n```\r\n\r\nThe MessageBus continually checks its queue, and delivers the message to the queue of the Recipient.  \r\n\r\n\r\n```\r\npublic class MessageBus extends Manager {\r\n    \r\n    \r\n     //     *****     ENUM DECLARATIONS     *****\r\n    \r\n    public enum Type {  \r\n        \r\n                        INITIALIZE_GAME,        // args: none, run by GameManager to start the loading of game data and bring the engine to useable status; also used by GovernanceManager to initialize\r\n                        INITIALIZE_FILE_DATA,   // args: none, sent to each Manager that has a file to load, telling it send the request to IOManager\r\n                        ...\r\n    }\r\n    \r\n    \r\n     //     *****     CONSTRUCTOR &amp; SINGLETON INSTANCE     *****\r\n    \r\n    private MessageBus() { }\r\n    \r\n    private static class Singleton { private static final MessageBus INSTANCE = new MessageBus(); }\r\n    \r\n    public static MessageBus get() { return Singleton.INSTANCE; }\r\n    \r\n    \r\n     //     *****     NON-STATIC MEMBERS     *****\r\n    \r\n    private Long messageCounter = -1l; // it&#39;s an L not a ONE\r\n    \r\n    private final HashMap&lt;Long, Message&gt; openMessages = new HashMap&lt;&gt;();\r\n    \r\n    \r\n    //     *****     NON-STATIC METHODS     *****\r\n    \r\n    private Long addMess(Type ty, Manager dest, Manager send, ArrayList&lt;Object&gt; arg, long m) {\r\n        \r\n        Message mes = new Message(ty, dest, send, arg, m);        \r\n        openMessages.put(mes.getID(), mes);        \r\n        queue.add(mes);       \r\n        return mes.getID();\r\n        \r\n    }\r\n    \r\n    @Override\r\n    protected synchronized void execute(MessageBus.Message m) {\r\n        \r\n        if (m != null) { m.getDestination().addToQueue(m); }           \r\n        \r\n    }\r\n        \r\n    private void closeMess(Long id) {\r\n        \r\n        Message m = Singleton.INSTANCE.openMessages.get(id);\r\n        \r\n        if (m != null) {\r\n        \r\n            try { Engine.get().write(Calendar.getInstance().getTimeInMillis() + &quot;,&quot; + m.getID() + &quot;,&quot; + &quot;END&quot; + &quot;,&quot; + m.getType() + &quot;,&quot; + m.getDestination().getName() + &quot;,&quot; + m.getSender().getName()); } catch (IOException ex) { Logger.getLogger(MessageBus.class.getName()).log(Level.SEVERE, null, ex);        } \r\n            Singleton.INSTANCE.openMessages.remove(id);                \r\n            \r\n        }        \r\n    }\r\n    \r\n    private synchronized Long getNextID() { return ++messageCounter; }\r\n    \r\n    \r\n    //     *****     STATIC METHODS     *****\r\n    \r\n    public static synchronized Long addMessage(Type ty, Manager dest, Manager send, ArrayList&lt;Object&gt; arg, long m) { return Singleton.INSTANCE.addMess(ty, dest, send, arg, m); }\r\n    \r\n    public static void closeMessage(Long id) { Singleton.INSTANCE.closeMess(id); }\r\n    \r\n    public static boolean confirmClosed(Long id) { return !Singleton.INSTANCE.openMessages.containsKey(id); }\r\n    \r\n    \r\n    //     *****     MESSAGE SUB-CLASS     *****\r\n    \r\n    public class Message {        \r\n        \r\n        public Message(Type ty, Manager dest, Manager send, ArrayList&lt;Object&gt; arg, long m) {\r\n            \r\n            id = MessageBus.get().getNextID();\r\n            t = ty;            \r\n            timeStampMillis = Calendar.getInstance().getTimeInMillis();            \r\n            destination = dest;\r\n            sender = send;\r\n            args = arg;\r\n            origMessageTimestamp = m;\r\n            try { Engine.get().write(Calendar.getInstance().getTimeInMillis() + &quot;,&quot; + id + &quot;,&quot; + &quot;NEW&quot; + &quot;,&quot; + t + &quot;,&quot; + destination.getName() + &quot;,&quot; + sender.getName()); } catch (IOException ex) { Logger.getLogger(MessageBus.class.getName()).log(Level.SEVERE, null, ex);        }\r\n            \r\n        }\r\n        \r\n        private final Long id;\r\n        public Long getID() { return id; }\r\n        \r\n        private final Type t;\r\n        public Type getType() { return t; }\r\n        \r\n        private final long timeStampMillis;\r\n        public long getEntryDate() { return timeStampMillis; }\r\n        \r\n        private long startedTimeStampMillis;\r\n        public long getStartedTimeStamp() { return startedTimeStampMillis; }\r\n        public void setStartedTimeStamp(Long ln) { startedTimeStampMillis = ln; }\r\n        \r\n        private long completedTimeStampMillis;\r\n        public long getCompletedTimeStamp() { return completedTimeStampMillis; }\r\n        public void setCcompletedTimeStamp(Long ln) { completedTimeStampMillis = ln; }\r\n        \r\n        private long origMessageTimestamp;\r\n        public long getOriginalMessageTimeStamp() { return origMessageTimestamp; }\r\n        \r\n        private final Manager destination;   \r\n        public Manager getDestination() { return destination; }\r\n                \r\n        private final Manager sender;  \r\n        public Manager getSender() { return sender; }\r\n        \r\n        private final ArrayList&lt;Object&gt; args;                \r\n        public ArrayList&lt;Object&gt; getArgs() { return args; }\r\n        \r\n    }        \r\n}\r\n```\r\n\r\nAn example of an extended class, the following is the GameManager:\r\n\r\n\r\n```\r\npublic class GameManager extends Manager {\r\n    \r\n    \r\n    //     *****     CONSTRUCTOR     *****\r\n    \r\n    private static class Singleton { private static final GameManager INSTANCE = new GameManager(); }\r\n    \r\n    public static GameManager get() { return Singleton.INSTANCE; }\r\n    \r\n    \r\n    //     *****     ABSTRACT OVERRIDES     *****\r\n        \r\n    @Override\r\n    public void execute(MessageBus.Message m) {        \r\n        \r\n        if (m.getDestination() == Singleton.INSTANCE) {\r\n            \r\n            m.setStartedTimeStamp(System.currentTimeMillis());\r\n                    \r\n            switch (m.getType()) {      \r\n                \r\n                case INITIALIZE_GAME:\r\n                    \r\n                    MessageBus.addMessage(MessageBus.Type.INITIALIZE_FILE_DATA, UIManager.get(), this, new ArrayList&lt;&gt;(Arrays.asList(&quot;Load file&quot;)), 0);                    \r\n                    MessageBus.addMessage(MessageBus.Type.FILE_DATA_REQUEST, IOManager.get(), this, new ArrayList&lt;&gt;(Arrays.asList(FILELOCATION)), 0);\r\n                    break;\r\n                    \r\n                case INITIALIZE_FILE_DATA:\r\n                    \r\n                    MessageBus.addMessage(MessageBus.Type.INITIALIZE_FILE_DATA, EconomyManager.get(), this, new ArrayList&lt;&gt;(Arrays.asList(&quot;Load file&quot;)), 0);\r\n\r\n...\r\n\r\n                    MessageBus.addMessage(MessageBus.Type.INITIALIZE_FILE_DATA, EventManager.get(), this, new ArrayList&lt;&gt;(Arrays.asList(&quot;Load file&quot;)), 0);                    \r\n                    break;\r\n                \r\n                case ENGINE_TICK:                    \r\n                        long tickID = getNextID();\r\n                        \r\n                        MessageBus.addMessage(MessageBus.Type.TICK, UIManager.get(), this, m.getArgs(), m.getOriginalMessageTimeStamp()); \r\n                    break;                   \r\n                \r\n                default:\r\n                    throw new AssertionError(m.getType().name());\r\n            }       \r\n            \r\n            MessageBus.closeMessage(m.getID());                    \r\n        }\r\n    }   \r\n}\r\n```\r\n\r\nAfter successfully executing for several hundred/thousand frames, things will freeze, and my output will display:\r\n\r\nQueue building up for Thread-2-UiM  11\r\nQueue building up for Thread-2-UiM  11\r\nQueue building up for Thread-2-UiM  12\r\nQueue building up for Thread-2-UiM  14\r\nQueue building up for Thread-2-UiM  15\r\nQueue building up for Thread-2-UiM  15\r\nQueue building up for Thread-2-UiM  17\r\nQueue building up for Thread-2-UiM  17\r\n...\r\n\r\n\r\nIf anyone has any idea where I might be loosing the threads to based on the above, please let me know.\r\n\r\nUPDATE:  Adding Synchronized when adding Messages to queues reduces the frequency of the issue occurring, but it still occurs occasionally as before.\r\n","title":"Why do my Java message bus threads stop executing, but stay Alive?","body":"<p>I'm developing a novelty game/sim in Java Netbeans IDE 14, using a Message Bus/Manager system to handle communication between various elements. The game engine works, but after a while (several thousand frames) one of the managers will lock up and stop checking its queue, freezing the game.</p>\n<p>I use an abstract Manager class, a MessageBus class that extends the Manager class, and 11 game logic classes that also extend Manager.  Any of the classes can be the culprit of a lockup, per the &quot;check&quot; performed each game tick. I don't believe threads are not being lost in the actual execution of message handling, since the same lock up happens to any of them, including the simplest MessageBus.  The lockup can occur at any time, but cannot be induced intentionally.</p>\n<p>I'll give the relevant extract of code from the abstract Manager, extended GameManager and MessageBus classes:</p>\n<pre><code>public abstract class Manager {\n    \n    \n    //     *****     PROTECTED MEMBERS     *****\n    \n    protected Thread thread;    \n    protected String name;        \n    protected final Queue queue = new LinkedList&lt;&gt;();        \n    protected boolean loaded = false;        \n    \n\n    //     *****     PROTECTED METHODS     *****\n\n    protected void checkQueue() {\n        \n        MessageBus.Message m = (MessageBus.Message)queue.poll();            \n        \n        if (m != null) { execute(m); }\n        else {\n            try {\n                Thread.sleep(1);\n            } catch (InterruptedException ex) { Logger.getLogger(Manager.class.getName()).log(Level.SEVERE, null, ex); }\n        }                \n    }    \n    \n    protected abstract void execute(MessageBus.Message m);\n    \n    protected class ProcessMessages implements Runnable {\n        \n        @Override\n        public void run() {\n            \n            while (Engine.isRunning()) { checkQueue(); }                           \n        }                      \n    }\n    \n    \n    //     *****     PUBLIC METHODS     *****\n    \n    public String getName() {       return name; }    \n    public boolean hasMessages() {  return !queue.isEmpty(); }    \n    public boolean isLoaded() {     return loaded; }    \n    \n    public void initialize() { thread = new Thread(new ProcessMessages()); }\n    \n    public void start() { thread.start(); }\n    \n    public synchronized void addToQueue(MessageBus.Message m) { queue.add(m); }\n    \n    public void check() {\n        \n        if (!thread.isAlive()) { System.out.println(&quot;Thread has died &quot; + thread.getName() + &quot;-&quot; + name + &quot;  &quot; + queue.size()); }\n        if (queue.size() &gt; 10) { System.out.println(&quot;Queue building up for &quot; + thread.getName() + &quot;-&quot; + name + &quot;  &quot; + queue.size()); }\n        \n    }     \n}\n</code></pre>\n<p>The MessageBus continually checks its queue, and delivers the message to the queue of the Recipient.</p>\n<pre><code>public class MessageBus extends Manager {\n    \n    \n     //     *****     ENUM DECLARATIONS     *****\n    \n    public enum Type {  \n        \n                        INITIALIZE_GAME,        // args: none, run by GameManager to start the loading of game data and bring the engine to useable status; also used by GovernanceManager to initialize\n                        INITIALIZE_FILE_DATA,   // args: none, sent to each Manager that has a file to load, telling it send the request to IOManager\n                        ...\n    }\n    \n    \n     //     *****     CONSTRUCTOR &amp; SINGLETON INSTANCE     *****\n    \n    private MessageBus() { }\n    \n    private static class Singleton { private static final MessageBus INSTANCE = new MessageBus(); }\n    \n    public static MessageBus get() { return Singleton.INSTANCE; }\n    \n    \n     //     *****     NON-STATIC MEMBERS     *****\n    \n    private Long messageCounter = -1l; // it's an L not a ONE\n    \n    private final HashMap&lt;Long, Message&gt; openMessages = new HashMap&lt;&gt;();\n    \n    \n    //     *****     NON-STATIC METHODS     *****\n    \n    private Long addMess(Type ty, Manager dest, Manager send, ArrayList&lt;Object&gt; arg, long m) {\n        \n        Message mes = new Message(ty, dest, send, arg, m);        \n        openMessages.put(mes.getID(), mes);        \n        queue.add(mes);       \n        return mes.getID();\n        \n    }\n    \n    @Override\n    protected synchronized void execute(MessageBus.Message m) {\n        \n        if (m != null) { m.getDestination().addToQueue(m); }           \n        \n    }\n        \n    private void closeMess(Long id) {\n        \n        Message m = Singleton.INSTANCE.openMessages.get(id);\n        \n        if (m != null) {\n        \n            try { Engine.get().write(Calendar.getInstance().getTimeInMillis() + &quot;,&quot; + m.getID() + &quot;,&quot; + &quot;END&quot; + &quot;,&quot; + m.getType() + &quot;,&quot; + m.getDestination().getName() + &quot;,&quot; + m.getSender().getName()); } catch (IOException ex) { Logger.getLogger(MessageBus.class.getName()).log(Level.SEVERE, null, ex);        } \n            Singleton.INSTANCE.openMessages.remove(id);                \n            \n        }        \n    }\n    \n    private synchronized Long getNextID() { return ++messageCounter; }\n    \n    \n    //     *****     STATIC METHODS     *****\n    \n    public static synchronized Long addMessage(Type ty, Manager dest, Manager send, ArrayList&lt;Object&gt; arg, long m) { return Singleton.INSTANCE.addMess(ty, dest, send, arg, m); }\n    \n    public static void closeMessage(Long id) { Singleton.INSTANCE.closeMess(id); }\n    \n    public static boolean confirmClosed(Long id) { return !Singleton.INSTANCE.openMessages.containsKey(id); }\n    \n    \n    //     *****     MESSAGE SUB-CLASS     *****\n    \n    public class Message {        \n        \n        public Message(Type ty, Manager dest, Manager send, ArrayList&lt;Object&gt; arg, long m) {\n            \n            id = MessageBus.get().getNextID();\n            t = ty;            \n            timeStampMillis = Calendar.getInstance().getTimeInMillis();            \n            destination = dest;\n            sender = send;\n            args = arg;\n            origMessageTimestamp = m;\n            try { Engine.get().write(Calendar.getInstance().getTimeInMillis() + &quot;,&quot; + id + &quot;,&quot; + &quot;NEW&quot; + &quot;,&quot; + t + &quot;,&quot; + destination.getName() + &quot;,&quot; + sender.getName()); } catch (IOException ex) { Logger.getLogger(MessageBus.class.getName()).log(Level.SEVERE, null, ex);        }\n            \n        }\n        \n        private final Long id;\n        public Long getID() { return id; }\n        \n        private final Type t;\n        public Type getType() { return t; }\n        \n        private final long timeStampMillis;\n        public long getEntryDate() { return timeStampMillis; }\n        \n        private long startedTimeStampMillis;\n        public long getStartedTimeStamp() { return startedTimeStampMillis; }\n        public void setStartedTimeStamp(Long ln) { startedTimeStampMillis = ln; }\n        \n        private long completedTimeStampMillis;\n        public long getCompletedTimeStamp() { return completedTimeStampMillis; }\n        public void setCcompletedTimeStamp(Long ln) { completedTimeStampMillis = ln; }\n        \n        private long origMessageTimestamp;\n        public long getOriginalMessageTimeStamp() { return origMessageTimestamp; }\n        \n        private final Manager destination;   \n        public Manager getDestination() { return destination; }\n                \n        private final Manager sender;  \n        public Manager getSender() { return sender; }\n        \n        private final ArrayList&lt;Object&gt; args;                \n        public ArrayList&lt;Object&gt; getArgs() { return args; }\n        \n    }        \n}\n</code></pre>\n<p>An example of an extended class, the following is the GameManager:</p>\n<pre><code>public class GameManager extends Manager {\n    \n    \n    //     *****     CONSTRUCTOR     *****\n    \n    private static class Singleton { private static final GameManager INSTANCE = new GameManager(); }\n    \n    public static GameManager get() { return Singleton.INSTANCE; }\n    \n    \n    //     *****     ABSTRACT OVERRIDES     *****\n        \n    @Override\n    public void execute(MessageBus.Message m) {        \n        \n        if (m.getDestination() == Singleton.INSTANCE) {\n            \n            m.setStartedTimeStamp(System.currentTimeMillis());\n                    \n            switch (m.getType()) {      \n                \n                case INITIALIZE_GAME:\n                    \n                    MessageBus.addMessage(MessageBus.Type.INITIALIZE_FILE_DATA, UIManager.get(), this, new ArrayList&lt;&gt;(Arrays.asList(&quot;Load file&quot;)), 0);                    \n                    MessageBus.addMessage(MessageBus.Type.FILE_DATA_REQUEST, IOManager.get(), this, new ArrayList&lt;&gt;(Arrays.asList(FILELOCATION)), 0);\n                    break;\n                    \n                case INITIALIZE_FILE_DATA:\n                    \n                    MessageBus.addMessage(MessageBus.Type.INITIALIZE_FILE_DATA, EconomyManager.get(), this, new ArrayList&lt;&gt;(Arrays.asList(&quot;Load file&quot;)), 0);\n\n...\n\n                    MessageBus.addMessage(MessageBus.Type.INITIALIZE_FILE_DATA, EventManager.get(), this, new ArrayList&lt;&gt;(Arrays.asList(&quot;Load file&quot;)), 0);                    \n                    break;\n                \n                case ENGINE_TICK:                    \n                        long tickID = getNextID();\n                        \n                        MessageBus.addMessage(MessageBus.Type.TICK, UIManager.get(), this, m.getArgs(), m.getOriginalMessageTimeStamp()); \n                    break;                   \n                \n                default:\n                    throw new AssertionError(m.getType().name());\n            }       \n            \n            MessageBus.closeMessage(m.getID());                    \n        }\n    }   \n}\n</code></pre>\n<p>After successfully executing for several hundred/thousand frames, things will freeze, and my output will display:</p>\n<p>Queue building up for Thread-2-UiM  11\nQueue building up for Thread-2-UiM  11\nQueue building up for Thread-2-UiM  12\nQueue building up for Thread-2-UiM  14\nQueue building up for Thread-2-UiM  15\nQueue building up for Thread-2-UiM  15\nQueue building up for Thread-2-UiM  17\nQueue building up for Thread-2-UiM  17\n...</p>\n<p>If anyone has any idea where I might be loosing the threads to based on the above, please let me know.</p>\n<p>UPDATE:  Adding Synchronized when adding Messages to queues reduces the frequency of the issue occurring, but it still occurs occasionally as before.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22086,"reputation":14236,"user_id":54200,"accept_rate":83,"display_name":"KevinDTimm"},"score":0,"creation_date":1387639253,"post_id":20720341,"comment_id":31040604,"body_markdown":"I wouldn&#39;t have written a line of code to show the OP, I would have just said to write the comma first on every iteration through the loop after the first. (give a man a fish, he eats for a day.....)","body":"I wouldn&#39;t have written a line of code to show the OP, I would have just said to write the comma first on every iteration through the loop after the first. (give a man a fish, he eats for a day.....)"}],"answers":[{"comments":[{"owner":{"account_id":3321430,"reputation":61779,"user_id":2792531,"accept_rate":79,"display_name":"nhgrif"},"score":0,"creation_date":1387640411,"post_id":20720356,"comment_id":31040931,"body_markdown":"Could the `while` loop be nested into the `if` after `number /= 10`?  After all, if `(number &gt; 0)` evaluated false the first time, won&#39;t it evaluate false for the `while` loop as well, so we shouldn&#39;t need to check it twice if it failed the first time?","body":"Could the <code>while</code> loop be nested into the <code>if</code> after <code>number &#47;= 10</code>?  After all, if <code>(number &gt; 0)</code> evaluated false the first time, won&#39;t it evaluate false for the <code>while</code> loop as well, so we shouldn&#39;t need to check it twice if it failed the first time?"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1387640478,"post_id":20720356,"comment_id":31040947,"body_markdown":"@nhgrif Yeah, good point.","body":"@nhgrif Yeah, good point."}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387640523,"creation_date":1387638694,"answer_id":20720356,"question_id":20720341,"body_markdown":"I would do the following\r\n\r\n    if (number &gt; 0) {\r\n        System.out.print( number % 10 );\r\n        number = number / 10;\r\n        while (number &gt; 0) { \r\n            System.out.print(&quot;,&quot; + (number % 10) );\r\n            number = number / 10;\r\n        }\r\n    }\r\n\r\n\r\n\r\nPrint the first element and then for all the other ones prepend a `,`. In this way, you always end with a \r\n\r\n    , X\r\n\r\nThe other options are doing unnecessary `if` checks. ","title":"Remove the comma after the last number in a loop","body":"<p>I would do the following</p>\n\n<pre><code>if (number &gt; 0) {\n    System.out.print( number % 10 );\n    number = number / 10;\n    while (number &gt; 0) { \n        System.out.print(\",\" + (number % 10) );\n        number = number / 10;\n    }\n}\n</code></pre>\n\n<p>Print the first element and then for all the other ones prepend a <code>,</code>. In this way, you always end with a </p>\n\n<pre><code>, X\n</code></pre>\n\n<p>The other options are doing unnecessary <code>if</code> checks. </p>\n"},{"tags":[],"owner":{"account_id":947184,"reputation":49004,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387639032,"creation_date":1387639032,"answer_id":20720419,"question_id":20720341,"body_markdown":"I would do it this way\r\n\r\n    while (number &gt; 0) {\r\n        System.out.print(number % 10);\r\n        number = number / 10;\r\n        if (number &gt; 0)\r\n            System.out.print(&quot;,&quot;);\r\n    }","title":"Remove the comma after the last number in a loop","body":"<p>I would do it this way</p>\n\n<pre><code>while (number &gt; 0) {\n    System.out.print(number % 10);\n    number = number / 10;\n    if (number &gt; 0)\n        System.out.print(\",\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1339399,"reputation":21672,"user_id":1281407,"accept_rate":93,"display_name":"mprivat"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1387639042,"creation_date":1387639042,"answer_id":20720421,"question_id":20720341,"body_markdown":"Since everyone is having a field day, here&#39;s mine:\r\n\r\n    while (number &gt; 0) {\r\n        System.out.print( number % 10 + ((number/=10)&gt;0 ? &quot;,&quot; : &quot;&quot;));\r\n    }","title":"Remove the comma after the last number in a loop","body":"<p>Since everyone is having a field day, here's mine:</p>\n\n<pre><code>while (number &gt; 0) {\n    System.out.print( number % 10 + ((number/=10)&gt;0 ? \",\" : \"\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":321831,"reputation":188,"user_id":640890,"accept_rate":100,"display_name":"Rohit Jose"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387639105,"creation_date":1387639105,"answer_id":20720428,"question_id":20720341,"body_markdown":"This could do the trick:\r\n\r\n    while (number &gt; 0) {\r\n\t\t\tSystem.out.print(number % 10);\r\n\t\t\tnumber = number / 10;\r\n\t\t\tif(number!=0) System.out.print(&quot;,&quot;);\r\n\t\t}","title":"Remove the comma after the last number in a loop","body":"<p>This could do the trick:</p>\n\n<pre><code>while (number &gt; 0) {\n        System.out.print(number % 10);\n        number = number / 10;\n        if(number!=0) System.out.print(\",\");\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1387639678,"post_id":20720503,"comment_id":31040713,"body_markdown":"OP clearly states `while (number &gt; 0)`.","body":"OP clearly states <code>while (number &gt; 0)</code>."},{"owner":{"account_id":3433601,"reputation":304014,"user_id":2877241,"accept_rate":52,"display_name":"Vlad from Moscow"},"score":0,"creation_date":1387639773,"post_id":20720503,"comment_id":31040741,"body_markdown":"@Sotirios Delimanolis, I think he made the same mistake as others.","body":"@Sotirios Delimanolis, I think he made the same mistake as others."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1387639807,"post_id":20720503,"comment_id":31040748,"body_markdown":"So OP doesn&#39;t know what they want?","body":"So OP doesn&#39;t know what they want?"},{"owner":{"account_id":3433601,"reputation":304014,"user_id":2877241,"accept_rate":52,"display_name":"Vlad from Moscow"},"score":0,"creation_date":1387639925,"post_id":20720503,"comment_id":31040775,"body_markdown":"@ Sotirios Delimanolis. The problem is not whether he knows or not. The problem is usually this mistake is common among beginners. They forget that zero is a valid number and can be entered by the user or that the number can be negative.","body":"@ Sotirios Delimanolis. The problem is not whether he knows or not. The problem is usually this mistake is common among beginners. They forget that zero is a valid number and can be entered by the user or that the number can be negative."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1387640012,"post_id":20720503,"comment_id":31040804,"body_markdown":"I think OP is saying: &quot;If 0 is entered, nothing should be printed.&quot;","body":"I think OP is saying: &quot;If 0 is entered, nothing should be printed.&quot;"},{"owner":{"account_id":3433601,"reputation":304014,"user_id":2877241,"accept_rate":52,"display_name":"Vlad from Moscow"},"score":0,"creation_date":1387640066,"post_id":20720503,"comment_id":31040822,"body_markdown":"@Sotirios Delimanolis I do not see this phrase.","body":"@Sotirios Delimanolis I do not see this phrase."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1387640084,"post_id":20720503,"comment_id":31040829,"body_markdown":"The OP clearly states `while (number &gt; 0)`. If you enter `0`, then the `while` loop will not execute.","body":"The OP clearly states <code>while (number &gt; 0)</code>. If you enter <code>0</code>, then the <code>while</code> loop will not execute."},{"owner":{"account_id":3433601,"reputation":304014,"user_id":2877241,"accept_rate":52,"display_name":"Vlad from Moscow"},"score":0,"creation_date":1387640215,"post_id":20720503,"comment_id":31040868,"body_markdown":"@ Sotirios Delimanolis. It is funny. Why do not you accept that it is simply an error?! The task that is announced is to split a number into digits and insert commas between two digits. Zero is a valid number.","body":"@ Sotirios Delimanolis. It is funny. Why do not you accept that it is simply an error?! The task that is announced is to split a number into digits and insert commas between two digits. Zero is a valid number."},{"owner":{"account_id":3321430,"reputation":61779,"user_id":2792531,"accept_rate":79,"display_name":"nhgrif"},"score":0,"creation_date":1387640241,"post_id":20720503,"comment_id":31040881,"body_markdown":"This answer makes too many assumptions about the intent of the program without also providing the correct way to do it without making the assumptions.  Vlad, your answer could easily provide the solution without the assumptions and also include a comment about the case of the user entering 0, and provide this code which handles that.","body":"This answer makes too many assumptions about the intent of the program without also providing the correct way to do it without making the assumptions.  Vlad, your answer could easily provide the solution without the assumptions and also include a comment about the case of the user entering 0, and provide this code which handles that."},{"owner":{"account_id":3321430,"reputation":61779,"user_id":2792531,"accept_rate":79,"display_name":"nhgrif"},"score":0,"creation_date":1387640323,"post_id":20720503,"comment_id":31040903,"body_markdown":"@VladfromMoscow Why should he accept that a person answering the question knows the **intent** of the program better than the person asking the question?  Most likely this is a homework assignment, and any homeworks I ever had like this all said something along the lines of &quot;When the user enters 0, the program should quit&quot;.","body":"@VladfromMoscow Why should he accept that a person answering the question knows the <b>intent</b> of the program better than the person asking the question?  Most likely this is a homework assignment, and any homeworks I ever had like this all said something along the lines of &quot;When the user enters 0, the program should quit&quot;."},{"owner":{"account_id":3433601,"reputation":304014,"user_id":2877241,"accept_rate":52,"display_name":"Vlad from Moscow"},"score":0,"creation_date":1387640380,"post_id":20720503,"comment_id":31040920,"body_markdown":"@ nhgrif I saw many such code of beginners. And usually it is simply an error. So I am strongly sure that here is also an error.","body":"@ nhgrif I saw many such code of beginners. And usually it is simply an error. So I am strongly sure that here is also an error."},{"owner":{"account_id":3321430,"reputation":61779,"user_id":2792531,"accept_rate":79,"display_name":"nhgrif"},"score":0,"creation_date":1387640492,"post_id":20720503,"comment_id":31040952,"body_markdown":"@VladfromMoscow The problem continues to be that you&#39;re making an assumption WITHOUT providing what would be the correct answer without the assumption.  If you are strongly sure that it is an error, that&#39;s fine, and it&#39;s fine to include the correct code to solve that error, but for me to change my downvote into an upvote, the answer will have to include the solution that doesn&#39;t make that assumption.","body":"@VladfromMoscow The problem continues to be that you&#39;re making an assumption WITHOUT providing what would be the correct answer without the assumption.  If you are strongly sure that it is an error, that&#39;s fine, and it&#39;s fine to include the correct code to solve that error, but for me to change my downvote into an upvote, the answer will have to include the solution that doesn&#39;t make that assumption."},{"owner":{"account_id":3433601,"reputation":304014,"user_id":2877241,"accept_rate":52,"display_name":"Vlad from Moscow"},"score":0,"creation_date":1387641061,"post_id":20720503,"comment_id":31041094,"body_markdown":"@ nhgrif Maybe I said too categorically but all examples of the task I saw before all contain the error. The problem is there is a confusing. The condition for positive numbess can be expressed either as number &gt; 0 or as number != 0. So usually if a beginner choice condition number &gt; 0 it is not mean that he was going to exclude 0. He simply choice number &gt; 0 instead of number != 0. All they make the same error. They place this condition in while loop instead of do-while loop.","body":"@ nhgrif Maybe I said too categorically but all examples of the task I saw before all contain the error. The problem is there is a confusing. The condition for positive numbess can be expressed either as number &gt; 0 or as number != 0. So usually if a beginner choice condition number &gt; 0 it is not mean that he was going to exclude 0. He simply choice number &gt; 0 instead of number != 0. All they make the same error. They place this condition in while loop instead of do-while loop."}],"tags":[],"owner":{"account_id":3433601,"reputation":304014,"user_id":2877241,"accept_rate":52,"display_name":"Vlad from Moscow"},"comment_count":13,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1387639538,"creation_date":1387639538,"answer_id":20720503,"question_id":20720341,"body_markdown":"All the code that was showed here is invalid because the user can enter 0 and 0 should be printed out.\r\n\r\nThe valid code will look the following way\r\n\r\n    do\r\n    {\r\n        System.out.print( number % 10 );\r\n        number = number / 10;\r\n        if ( number != 0 )\r\n            System.out.print( &quot;,&quot; );\r\n    } while ( number != 0 );\r\n\r\n","title":"Remove the comma after the last number in a loop","body":"<p>All the code that was showed here is invalid because the user can enter 0 and 0 should be printed out.</p>\n\n<p>The valid code will look the following way</p>\n\n<pre><code>do\n{\n    System.out.print( number % 10 );\n    number = number / 10;\n    if ( number != 0 )\n        System.out.print( \",\" );\n} while ( number != 0 );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668288845,"creation_date":1387639926,"answer_id":20720567,"question_id":20720341,"body_markdown":"This is the most elegant approach I have picked along the way:\r\n\r\n    String delimiter = &quot;&quot;;\r\n    while (number &gt; 0) { \r\n       System.out.print(delimiter + number % 10);\r\n       number /= 10;\r\n       delimiter = &quot;,&quot;;\r\n    }\r\n","title":"Remove the comma after the last number in a loop","body":"<p>This is the most elegant approach I have picked along the way:</p>\n<pre><code>String delimiter = &quot;&quot;;\nwhile (number &gt; 0) { \n   System.out.print(delimiter + number % 10);\n   number /= 10;\n   delimiter = &quot;,&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2261201,"reputation":320,"user_id":1991256,"display_name":"donleyp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387640302,"creation_date":1387640302,"answer_id":20720620,"question_id":20720341,"body_markdown":"Sotirios&#39;s solution works but here&#39;s an alternative:\r\n\r\n    // replacing &quot;scan&quot; with an example number.\r\n    int start = 123456789;\r\n    for (int number = start; number &gt; 0; number = number / 10) {\r\n        if(number &lt; start)\r\n            System.out.print(&#39;,&#39;);\r\n        System.out.print(number % 10);\r\n    }\r\n\r\n\r\nThis will DRY up the calculation of the count down (number/10) but does the test to see if it&#39;s not the first one in each loop. I think that that test, however, would turn out to be faster than doing string arithmetic (&quot;,&quot; + (number % 10)).\r\n\r\nHope this helps.\r\n","title":"Remove the comma after the last number in a loop","body":"<p>Sotirios's solution works but here's an alternative:</p>\n\n<pre><code>// replacing \"scan\" with an example number.\nint start = 123456789;\nfor (int number = start; number &gt; 0; number = number / 10) {\n    if(number &lt; start)\n        System.out.print(',');\n    System.out.print(number % 10);\n}\n</code></pre>\n\n<p>This will DRY up the calculation of the count down (number/10) but does the test to see if it's not the first one in each loop. I think that that test, however, would turn out to be faster than doing string arithmetic (\",\" + (number % 10)).</p>\n\n<p>Hope this helps.</p>\n"},{"comments":[{"owner":{"account_id":4890043,"reputation":11,"user_id":3941441,"display_name":"Ricky S"},"score":0,"creation_date":1408022171,"post_id":25308608,"comment_id":39448075,"body_markdown":"this definitely works if it loops round 4 down to 1.","body":"this definitely works if it loops round 4 down to 1."}],"tags":[],"owner":{"account_id":4890043,"reputation":11,"user_id":3941441,"display_name":"Ricky S"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1408023919,"creation_date":1408021035,"answer_id":25308608,"question_id":20720341,"body_markdown":"        int x;\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Enter integer : &quot;);\r\n\r\n        x = scan.nextInt();\r\n\r\n        for(x = 4; x&gt;1; x = x-1)\r\n        {\r\n            System.out.print(x + &quot;,&quot;);\r\n        }\r\n        if (x != 0) // this is so the last number doesn&#39;t end with a comma\r\n        {\r\n            System.out.print(x);\r\n        }","title":"Remove the comma after the last number in a loop","body":"<pre><code>    int x;\n    Scanner scan = new Scanner(System.in);\n\n    System.out.print(\"Enter integer : \");\n\n    x = scan.nextInt();\n\n    for(x = 4; x&gt;1; x = x-1)\n    {\n        System.out.print(x + \",\");\n    }\n    if (x != 0) // this is so the last number doesn't end with a comma\n    {\n        System.out.print(x);\n    }\n</code></pre>\n"}],"owner":{"account_id":3737496,"reputation":39,"user_id":3108110,"display_name":"user3108110"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3344,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1517184969,"answer_count":8,"score":4,"last_activity_date":1668288845,"creation_date":1387638582,"question_id":20720341,"body_markdown":"this is my code \r\n\r\n \r\n\r\n     System.out.println(&quot;Enter any integer number &quot;);\r\n\tint\tnumber = scan.nextInt();\r\n\twhile (number &gt; 0) { System.out.print( number % 10 + &quot;,&quot;);number = number / 10;}\r\n\r\n\r\n\r\n  \r\nTo clarify if the user enter 1234\r\nthe output should be 4,3,2,1,\r\n\r\nhow can i edit the code to remove the comma after the last num?\r\nsomething like 4,3,2,1 ","title":"Remove the comma after the last number in a loop","body":"<p>this is my code </p>\n\n<pre><code> System.out.println(\"Enter any integer number \");\nint number = scan.nextInt();\nwhile (number &gt; 0) { System.out.print( number % 10 + \",\");number = number / 10;}\n</code></pre>\n\n<p>To clarify if the user enter 1234\nthe output should be 4,3,2,1,</p>\n\n<p>how can i edit the code to remove the comma after the last num?\nsomething like 4,3,2,1 </p>\n"},{"tags":["java","android","xml","android-studio"],"answers":[{"tags":[],"owner":{"account_id":15470089,"reputation":38,"user_id":11160418,"display_name":"Pavel Startsev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668287782,"creation_date":1668287782,"answer_id":74416653,"question_id":74416247,"body_markdown":"I assume you&#39;re downloading images from the Internet. Maybe you forgot to specify the size of `ImaveView` in your `item_offer_list.xml`?\r\n\r\nI mean instead of this:\r\n```\r\nandroid:layout_width=&quot;wrap_content&quot;\r\nandroid:layout_height=&quot;wrap_content&quot;\r\n```\r\n\r\ntry something like this:\r\n```\r\nandroid:layout_width=&quot;60dp&quot;\r\nandroid:layout_height=&quot;60dp&quot;\r\n```\r\n\r\nOr your own size instead of **60dp**","title":"How to set image view and text view side by side?","body":"<p>I assume you're downloading images from the Internet. Maybe you forgot to specify the size of <code>ImaveView</code> in your <code>item_offer_list.xml</code>?</p>\n<p>I mean instead of this:</p>\n<pre><code>android:layout_width=&quot;wrap_content&quot;\nandroid:layout_height=&quot;wrap_content&quot;\n</code></pre>\n<p>try something like this:</p>\n<pre><code>android:layout_width=&quot;60dp&quot;\nandroid:layout_height=&quot;60dp&quot;\n</code></pre>\n<p>Or your own size instead of <strong>60dp</strong></p>\n"},{"tags":[],"owner":{"account_id":24164229,"reputation":1,"user_id":18127342,"display_name":"Abdul Haseeb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668288548,"creation_date":1668288548,"answer_id":74416727,"question_id":74416247,"body_markdown":"Here you have two options:\r\n 1. First you can resize the bitmap image and then set it.\r\n\r\nint maxHeight = 2000;\r\nint maxWidth = 2000;    \r\nfloat scale = Math.min(((float)maxHeight / bitmap.getWidth()), ((float)maxWidth / bitmap.getHeight()));\r\n\r\nMatrix matrix = new Matrix();\r\nmatrix.postScale(scale, scale);\r\n\r\nbitmap = Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix, true);\r\n\r\n 2.  use\r\n\r\n android:layout_width=&quot;wrap_content&quot;\r\n android:layout_height=&quot;wrap_content&quot;","title":"How to set image view and text view side by side?","body":"<p>Here you have two options:</p>\n<ol>\n<li>First you can resize the bitmap image and then set it.</li>\n</ol>\n<p>int maxHeight = 2000;\nint maxWidth = 2000;<br />\nfloat scale = Math.min(((float)maxHeight / bitmap.getWidth()), ((float)maxWidth / bitmap.getHeight()));</p>\n<p>Matrix matrix = new Matrix();\nmatrix.postScale(scale, scale);</p>\n<p>bitmap = Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix, true);</p>\n<ol start=\"2\">\n<li>use</li>\n</ol>\n<p>android:layout_width=&quot;wrap_content&quot;\nandroid:layout_height=&quot;wrap_content&quot;</p>\n"}],"owner":{"account_id":18086818,"reputation":194,"user_id":13147529,"display_name":"Harry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74416653,"answer_count":2,"score":0,"last_activity_date":1668288548,"creation_date":1668284121,"question_id":74416247,"body_markdown":"I am going to make the `imageView` and `textView` side by side in a `cardView`. It looks good when in design but behaves weird when I run the app.\r\n\r\nMy `item_offer_list.xml` file is as below:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;4dp&quot;\r\n        android:layout_marginTop=&quot;4dp&quot;\r\n        android:layout_marginRight=&quot;4dp&quot;\r\n        android:layout_marginBottom=&quot;8dp&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            tools:ignore=&quot;UseCompoundDrawables&quot;&gt;\r\n    \r\n            &lt;ImageView\r\n                android:id=&quot;@+id/cv_iv_photo_poster&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:contentDescription=&quot;null&quot;\r\n                tools:src=&quot;@drawable/ic_launcher_background&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/txtTitle&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:layout_toEndOf=&quot;@+id/cv_iv_photo_poster&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;@string/app_name&quot;&gt;\r\n    \r\n            &lt;/TextView&gt;\r\n        &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/androidx.cardview.widget.CardView&gt; \r\n\r\nI have used above design in recycler view as below:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        tools:context=&quot;.OfferWallListFragment&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/llRecyclerLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n            &lt;ProgressBar\r\n                android:id=&quot;@+id/pbLoadingItems&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:visibility=&quot;gone&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/txtNoConnection&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:visibility=&quot;gone&quot;\r\n                tools:text=&quot;No Internet Connection&quot; /&gt;\r\n    \r\n            &lt;androidx.recyclerview.widget.RecyclerView\r\n                android:id=&quot;@+id/rv_OfferData&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;4dp&quot;\r\n                android:visibility=&quot;visible&quot;\r\n                tools:listitem=&quot;@layout/item_offer_list&quot;&gt;\r\n    \r\n            &lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n        &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\nMy design looks good as below :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut when I run the app in emulator my image is very large but and covers all the space as below:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhy this behaves like this I dont know? Please look into it if any idea.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZFxS7.png\r\n  [2]: https://i.stack.imgur.com/XyZfJ.png","title":"How to set image view and text view side by side?","body":"<p>I am going to make the <code>imageView</code> and <code>textView</code> side by side in a <code>cardView</code>. It looks good when in design but behaves weird when I run the app.</p>\n<p>My <code>item_offer_list.xml</code> file is as below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginLeft=&quot;4dp&quot;\n    android:layout_marginTop=&quot;4dp&quot;\n    android:layout_marginRight=&quot;4dp&quot;\n    android:layout_marginBottom=&quot;8dp&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;\n        tools:ignore=&quot;UseCompoundDrawables&quot;&gt;\n\n        &lt;ImageView\n            android:id=&quot;@+id/cv_iv_photo_poster&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:contentDescription=&quot;null&quot;\n            tools:src=&quot;@drawable/ic_launcher_background&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txtTitle&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:layout_toEndOf=&quot;@+id/cv_iv_photo_poster&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;@string/app_name&quot;&gt;\n\n        &lt;/TextView&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/androidx.cardview.widget.CardView&gt; \n</code></pre>\n<p>I have used above design in recycler view as below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    tools:context=&quot;.OfferWallListFragment&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/llRecyclerLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;ProgressBar\n            android:id=&quot;@+id/pbLoadingItems&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:visibility=&quot;gone&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txtNoConnection&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:gravity=&quot;center&quot;\n            android:visibility=&quot;gone&quot;\n            tools:text=&quot;No Internet Connection&quot; /&gt;\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=&quot;@+id/rv_OfferData&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;4dp&quot;\n            android:visibility=&quot;visible&quot;\n            tools:listitem=&quot;@layout/item_offer_list&quot;&gt;\n\n        &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>My design looks good as below :</p>\n<p><a href=\"https://i.stack.imgur.com/ZFxS7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZFxS7.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I run the app in emulator my image is very large but and covers all the space as below:</p>\n<p><a href=\"https://i.stack.imgur.com/XyZfJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XyZfJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Why this behaves like this I dont know? Please look into it if any idea.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1668090895,"post_id":74390435,"comment_id":131326499,"body_markdown":"`GenerationType.AUTO` leaves it up to the JPA implementation (I assume Hibernate) to choose a generation strategy. Hibernate bases that choice on the DB dialect you&#39;re using. What is your dialect (which RDBMS and version)?","body":"<code>GenerationType.AUTO</code> leaves it up to the JPA implementation (I assume Hibernate) to choose a generation strategy. Hibernate bases that choice on the DB dialect you&#39;re using. What is your dialect (which RDBMS and version)?"}],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668093763,"creation_date":1668093763,"answer_id":74391381,"question_id":74390435,"body_markdown":"You don&#39;t say whether you&#39;re using Hibernate as the JPA implementation, but since that&#39;s by far the most common choice, I&#39;ll answer based on it.\r\n\r\nWhen you specify `GenerationType.AUTO` as the strategy for an `@GeneratedValue` identifier, the persistence provider (Hibernate) is left to choose the strategy. Hibernate uses `SEQUENCE` as its default choice* (unless you configure it otherwise), and that default behavior of `SEQUENCE` is to use a single, shared, DB sequence for all Hibernate-managed entities. That&#39;s why you&#39;re seeing the IDs increment across all entities/tables instead of each table&#39;s IDs be independent.\r\n\r\nIf you want to continue using sequence-based ID generation, it&#39;s possible to specify a sequence name for each entity, [example here][1]. That way, each entity type (table) can have an independent sequence of IDs. Note that if you have lots of entities/tables, this approach will produce a separate DB sequence for each one, which might not be ideal.\r\n\r\nAnother straightforward way to get what you&#39;re looking for would be to change the `GenerationType` to `IDENTITY`.\r\n\r\n**PLEASE NOTE**: there are other options and lots of considerations (such as performance and support for batch inserts) when deciding on the ID generation strategy. I strongly urge you to read the Hibernate documentation, [starting here][2], to fully understand the options and make an informed choice for your specific situation.\r\n\r\n----\r\n*This is not exactly true for MySQL since MySQL doesn&#39;t seem to natively support sequences. For MySQL, Hibernate will fall back to using the `TABLE` strategy, as [described here][3].\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#identifiers-generators-sequence-named\r\n  [2]: https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#identifiers-generators\r\n  [3]: https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#identifiers-generators-auto:~:text=It%20is%20important%20to,transparent%20to%20the%20user.","title":"Spring boot JPA BaseEntity with unique id to each class","body":"<p>You don't say whether you're using Hibernate as the JPA implementation, but since that's by far the most common choice, I'll answer based on it.</p>\n<p>When you specify <code>GenerationType.AUTO</code> as the strategy for an <code>@GeneratedValue</code> identifier, the persistence provider (Hibernate) is left to choose the strategy. Hibernate uses <code>SEQUENCE</code> as its default choice* (unless you configure it otherwise), and that default behavior of <code>SEQUENCE</code> is to use a single, shared, DB sequence for all Hibernate-managed entities. That's why you're seeing the IDs increment across all entities/tables instead of each table's IDs be independent.</p>\n<p>If you want to continue using sequence-based ID generation, it's possible to specify a sequence name for each entity, <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#identifiers-generators-sequence-named\" rel=\"nofollow noreferrer\">example here</a>. That way, each entity type (table) can have an independent sequence of IDs. Note that if you have lots of entities/tables, this approach will produce a separate DB sequence for each one, which might not be ideal.</p>\n<p>Another straightforward way to get what you're looking for would be to change the <code>GenerationType</code> to <code>IDENTITY</code>.</p>\n<p><strong>PLEASE NOTE</strong>: there are other options and lots of considerations (such as performance and support for batch inserts) when deciding on the ID generation strategy. I strongly urge you to read the Hibernate documentation, <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#identifiers-generators\" rel=\"nofollow noreferrer\">starting here</a>, to fully understand the options and make an informed choice for your specific situation.</p>\n<hr />\n<p>*This is not exactly true for MySQL since MySQL doesn't seem to natively support sequences. For MySQL, Hibernate will fall back to using the <code>TABLE</code> strategy, as <a href=\"https://docs.jboss.org/hibernate/orm/5.6/userguide/html_single/Hibernate_User_Guide.html#identifiers-generators-auto:%7E:text=It%20is%20important%20to,transparent%20to%20the%20user.\" rel=\"nofollow noreferrer\">described here</a>.</p>\n"},{"tags":[],"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668288331,"creation_date":1668288331,"answer_id":74416706,"question_id":74390435,"body_markdown":"If you want a different sequence for each concrete class, the @Id and @GeneratedValue annotations - and thus the PK field - should be in the concrete class not in the root abstract one.","title":"Spring boot JPA BaseEntity with unique id to each class","body":"<p>If you want a different sequence for each concrete class, the @Id and @GeneratedValue annotations - and thus the PK field - should be in the concrete class not in the root abstract one.</p>\n"}],"owner":{"account_id":8474404,"reputation":1045,"user_id":6356090,"accept_rate":71,"display_name":"Itzik.B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668288331,"creation_date":1668089587,"question_id":74390435,"body_markdown":"I have an abstract class BaseEntity which contains fields I want to share with multiple objects inside my project.\r\n\r\n \r\n\r\n        @MappedSuperclass\r\n        @AllArgsConstructor\r\n        @NoArgsConstructor\r\n        @Data\r\n        public abstract class BaseEntity {\r\n        \r\n            @Id\r\n            @Column(name = &quot;objectId&quot;, insertable = false, updatable = false)\r\n            @GeneratedValue(strategy = GenerationType.AUTO)\r\n            private long objectId;\r\n        \r\n            @Column(name = &quot;createdDate&quot;, updatable = false/*, columnDefinition=&quot;TIMESTAMP DEFAULT CURRENT_TIMESTAMP&quot;*/)\r\n            @CreationTimestamp\r\n            private Date createdDate;\r\n        \r\n            @Column(name = &quot;updatedDate&quot;/*, columnDefinition=&quot;TIMESTAMP DEFAULT CURRENT_TIMESTAMP&quot;*/)\r\n            @UpdateTimestamp\r\n            private Date updatedDate;\r\n        \r\n            @Column(name = &quot;active&quot;, columnDefinition = &quot;boolean default false&quot;)\r\n            private boolean active;\r\n    }\r\n\r\nI&#39;ve multiple entities that are inherited from this class\r\n\r\nFor my example let&#39;s take two of them:\r\n1) User\r\n2) Contact\r\n\r\nWhile saving a `User` object on the DB I can see the `objectId` field is getting incremented, but as well for another object such as `Contact`\r\n\r\nFor example:\r\n\r\nI created an instance of User and saved it on DB, After persisting I can see my `User.objectId = 1`.\r\n\r\nAfter that I created an instance of Contact and saved it on DB, After persisting I can see my `Contact.objectId = 2`\r\n\r\nHow can I make the field `objectId` increment separately for each Entity?\r\n\r\nThanks.","title":"Spring boot JPA BaseEntity with unique id to each class","body":"<p>I have an abstract class BaseEntity which contains fields I want to share with multiple objects inside my project.</p>\n<pre><code>    @MappedSuperclass\n    @AllArgsConstructor\n    @NoArgsConstructor\n    @Data\n    public abstract class BaseEntity {\n    \n        @Id\n        @Column(name = &quot;objectId&quot;, insertable = false, updatable = false)\n        @GeneratedValue(strategy = GenerationType.AUTO)\n        private long objectId;\n    \n        @Column(name = &quot;createdDate&quot;, updatable = false/*, columnDefinition=&quot;TIMESTAMP DEFAULT CURRENT_TIMESTAMP&quot;*/)\n        @CreationTimestamp\n        private Date createdDate;\n    \n        @Column(name = &quot;updatedDate&quot;/*, columnDefinition=&quot;TIMESTAMP DEFAULT CURRENT_TIMESTAMP&quot;*/)\n        @UpdateTimestamp\n        private Date updatedDate;\n    \n        @Column(name = &quot;active&quot;, columnDefinition = &quot;boolean default false&quot;)\n        private boolean active;\n}\n</code></pre>\n<p>I've multiple entities that are inherited from this class</p>\n<p>For my example let's take two of them:</p>\n<ol>\n<li>User</li>\n<li>Contact</li>\n</ol>\n<p>While saving a <code>User</code> object on the DB I can see the <code>objectId</code> field is getting incremented, but as well for another object such as <code>Contact</code></p>\n<p>For example:</p>\n<p>I created an instance of User and saved it on DB, After persisting I can see my <code>User.objectId = 1</code>.</p>\n<p>After that I created an instance of Contact and saved it on DB, After persisting I can see my <code>Contact.objectId = 2</code></p>\n<p>How can I make the field <code>objectId</code> increment separately for each Entity?</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring","log4j","build.gradle","web.xml"],"comments":[{"owner":{"account_id":26876381,"reputation":86,"user_id":20457576,"display_name":"Dinuka Silva"},"score":1,"creation_date":1668304608,"post_id":74416682,"comment_id":131372552,"body_markdown":"I think you are missing that library in your project that&#39;s why that exception occured.","body":"I think you are missing that library in your project that&#39;s why that exception occured."},{"owner":{"account_id":26876381,"reputation":86,"user_id":20457576,"display_name":"Dinuka Silva"},"score":0,"creation_date":1668304656,"post_id":74416682,"comment_id":131372557,"body_markdown":"Try to add that library manually to your project","body":"Try to add that library manually to your project"},{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1668360760,"post_id":74416682,"comment_id":131381008,"body_markdown":"BTW: version 2.12.2 has some serious security vulnerabilities (cf. Log4Shell). You should use the latest version available (2.19.0) if possible or 2.12.4 if you are stuck on Java 7.","body":"BTW: version 2.12.2 has some serious security vulnerabilities (cf. Log4Shell). You should use the latest version available (2.19.0) if possible or 2.12.4 if you are stuck on Java 7."},{"owner":{"account_id":17382325,"reputation":87,"user_id":12594294,"display_name":"Kai-Eiji"},"score":0,"creation_date":1668368029,"post_id":74416682,"comment_id":131382679,"body_markdown":"is adding \n```implementation &#39;org.apache.logging.log4j:log4j-web:2.12.2&#39;``` in dependencies different from adding the library?","body":"is adding  <code>implementation &#39;org.apache.logging.log4j:log4j-web:2.12.2&#39;</code> in dependencies different from adding the library?"}],"owner":{"account_id":17382325,"reputation":87,"user_id":12594294,"display_name":"Kai-Eiji"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668288063,"creation_date":1668288063,"question_id":74416682,"body_markdown":"I&#39;m trying to start my tomcat server but it fails and gives me \r\n```\r\norg.apache.catalina.core.StandardContext.listenerStart Exception sending context initialized event to listener instance of class [org.apache.logging.log4j.web.Log4jServletContextListener]\r\n java.lang.NoClassDefFoundError: org/apache/logging/log4j/core/util/SetUtils\r\n```\r\n\r\n\r\nI&#39;m using gradle and I have \r\n\r\n```\r\ndependencies{\r\n...\r\n    implementation &#39;org.apache.logging.log4j:log4j-core:2.12.2&#39;\r\n    implementation &#39;org.apache.logging.log4j:log4j-web:2.12.2&#39;\r\n...\r\n}\r\n```\r\n\r\nI have ``Log4jServletContextListener`` configued in web.xml as\r\n```\r\n...\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;isLog4jAutoInitializationDisabled&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\r\n\t&lt;listener&gt;\r\n\t\t&lt;listener-class&gt;org.apache.logging.log4j.web.Log4jServletContextListener&lt;/listener-class&gt;\r\n\t&lt;/listener&gt;\r\n...\r\n```\r\n\r\nHere is the complete error\r\n```\r\n12-Nov-2022 13:11:37.918 INFO [localhost-startStop-1] org.apache.catalina.core.ApplicationContext.log 1 Spring WebApplicationInitializers detected on classpath\r\n12-Nov-2022 13:11:37.981 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.listenerStart Exception sending context initialized event to listener instance of class [org.apache.logging.log4j.web.Log4jServletContextListener]\r\n java.lang.NoClassDefFoundError: org/apache/logging/log4j/core/util/SetUtils\r\n\tat org.apache.logging.log4j.web.Log4jWebInitializerImpl.getConfigURI(Log4jWebInitializerImpl.java:196)\r\n\tat org.apache.logging.log4j.web.Log4jWebInitializerImpl.initializeNonJndi(Log4jWebInitializerImpl.java:175)\r\n\tat org.apache.logging.log4j.web.Log4jWebInitializerImpl.start(Log4jWebInitializerImpl.java:112)\r\n\tat org.apache.logging.log4j.web.Log4jServletContextListener.contextInitialized(Log4jServletContextListener.java:64)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4745)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5207)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:752)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:728)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\r\n\tat org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:986)\r\n\tat org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1857)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.core.util.SetUtils\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1291)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1119)\r\n\t... 17 more\r\n```\r\n\r\nNot sure how to resolve this error\r\n","title":"Server fails to start due to java.lang.NoClassDefFoundError","body":"<p>I'm trying to start my tomcat server but it fails and gives me</p>\n<pre><code>org.apache.catalina.core.StandardContext.listenerStart Exception sending context initialized event to listener instance of class [org.apache.logging.log4j.web.Log4jServletContextListener]\n java.lang.NoClassDefFoundError: org/apache/logging/log4j/core/util/SetUtils\n</code></pre>\n<p>I'm using gradle and I have</p>\n<pre><code>dependencies{\n...\n    implementation 'org.apache.logging.log4j:log4j-core:2.12.2'\n    implementation 'org.apache.logging.log4j:log4j-web:2.12.2'\n...\n}\n</code></pre>\n<p>I have <code>Log4jServletContextListener</code> configued in web.xml as</p>\n<pre><code>...\n    &lt;context-param&gt;\n        &lt;param-name&gt;isLog4jAutoInitializationDisabled&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.apache.logging.log4j.web.Log4jServletContextListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n...\n</code></pre>\n<p>Here is the complete error</p>\n<pre><code>12-Nov-2022 13:11:37.918 INFO [localhost-startStop-1] org.apache.catalina.core.ApplicationContext.log 1 Spring WebApplicationInitializers detected on classpath\n12-Nov-2022 13:11:37.981 SEVERE [localhost-startStop-1] org.apache.catalina.core.StandardContext.listenerStart Exception sending context initialized event to listener instance of class [org.apache.logging.log4j.web.Log4jServletContextListener]\n java.lang.NoClassDefFoundError: org/apache/logging/log4j/core/util/SetUtils\n    at org.apache.logging.log4j.web.Log4jWebInitializerImpl.getConfigURI(Log4jWebInitializerImpl.java:196)\n    at org.apache.logging.log4j.web.Log4jWebInitializerImpl.initializeNonJndi(Log4jWebInitializerImpl.java:175)\n    at org.apache.logging.log4j.web.Log4jWebInitializerImpl.start(Log4jWebInitializerImpl.java:112)\n    at org.apache.logging.log4j.web.Log4jServletContextListener.contextInitialized(Log4jServletContextListener.java:64)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4745)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5207)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:752)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:728)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\n    at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:986)\n    at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1857)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.core.util.SetUtils\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1291)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1119)\n    ... 17 more\n</code></pre>\n<p>Not sure how to resolve this error</p>\n"},{"tags":["java","android","textview"],"answers":[{"tags":[],"owner":{"account_id":35743,"reputation":150884,"user_id":101361,"accept_rate":71,"display_name":"laalto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668287478,"creation_date":1668287478,"answer_id":74416633,"question_id":74415756,"body_markdown":"You&#39;re inflating `layout_navigation_header` layout and setting a value in one of its textviews. But you never seem to place the layout on screen, the layout instance simply gets discarded.\r\n\r\nWhat gets displayed is the `activity_menu2` layout you inflate and set as content view with `setContentView()`. If that layout includes `layout_navigation_header` or its look-a-like with some mechanism, it&#39;s not the same instance you inflated earlier.\r\n\r\nTo solve the issue, just call `setContentView()` to set your desired layout, call `findViewById()` to find the textview and set a text to it.\r\n\r\n","title":"TextView doesn&#39;t change visually, but the date it keeps is correct","body":"<p>You're inflating <code>layout_navigation_header</code> layout and setting a value in one of its textviews. But you never seem to place the layout on screen, the layout instance simply gets discarded.</p>\n<p>What gets displayed is the <code>activity_menu2</code> layout you inflate and set as content view with <code>setContentView()</code>. If that layout includes <code>layout_navigation_header</code> or its look-a-like with some mechanism, it's not the same instance you inflated earlier.</p>\n<p>To solve the issue, just call <code>setContentView()</code> to set your desired layout, call <code>findViewById()</code> to find the textview and set a text to it.</p>\n"}],"owner":{"account_id":22191154,"reputation":1,"user_id":16433327,"display_name":"DefLine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668287478,"creation_date":1668279793,"question_id":74415756,"body_markdown":"After login, I want to change text in TextView near profile on name_user.\r\n\r\nBut it doesn&#39;t change textView visually.\r\n\r\nIt is worth to mention, that when outputting (Toast), it gives out the data that is needed, but does not visually display it. Everything is fine with the TextView parameters (I think), because if you set the finished text in the parameters( i mean android:text=&quot;smth&quot;), it visually displays it.\r\n\r\n\r\n\r\nJava code:\r\n\r\n    `protected void onCreate(Bundle savedInstanceState) {\r\n    yourLayout = getLayoutInflater().inflate(R.layout.layout_navigation_header, null); \r\n    profileName = yourLayout.findViewById(R.id.profName); //\r\n    Intent intent = getIntent(); // Get data from previous activity.\r\n    String name_user = intent.getStringExtra(&quot;name&quot;);\r\n    String email_user = intent.getStringExtra(&quot;email&quot;);\r\n    String password_user = intent.getStringExtra(&quot;password&quot;);\r\n    profileName.setText(name_user); //0 changes, textView still don&#39;t change.\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_menu2); \r\n    \r\n    DrawerLayout drawerLayout = findViewById(R.id.drawerLayout);\r\n    Toast toast = Toast.makeText(getApplicationContext(), profileName.getText().toString(),\r\n    Toast.LENGTH_SHORT); // for debug, it works and show profileName that contains name_user, but.       \r\n    toast.show();\r\n\r\n\r\n    findViewById(R.id.imageMenu).setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            drawerLayout.openDrawer(GravityCompat.START);\r\n        }\r\n    });\r\n    }`\r\n\r\n\r\nPart of main XML\r\n\r\n\r\n    `&lt;com.google.android.material.navigation.NavigationView\r\n    android:id=&quot;@+id/navigationView&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    app:headerLayout=&quot;@layout/layout_navigation_header&quot;// layour_navigation_header -here is TextView\r\n    app:menu=&#39;@menu/navigation_menu&#39;\r\n    android:layout_gravity=&quot;start&quot;/&gt;`\r\n\r\n\r\n\r\nPart of layour_navigation_header with TextView that I need to change.\r\n\r\n    `&lt;TextView\r\n    android:id=&quot;@+id/profName&quot;\r\n    android:layout_width=&quot;0dp&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_marginStart=&quot;10dp&quot;\r\n    android:textColor=&quot;@color/black&quot;\r\n    android:textSize=&quot;18sp&quot;\r\n    android:text=&quot;Temporary&quot;\r\n    app:layout_constraintBottom_toTopOf=&quot;@id/viewSupporter&quot;\r\n    app:layout_constraintStart_toEndOf=&quot;@id/imageProfile&quot;/&gt;`\r\n\r\n\r\nHope you could help me\r\n\r\n\r\nI tried to move \r\n\r\n    `yourLayout = getLayoutInflater().inflate(R.layout.layout_navigation_header, null); \r\n    profileName = yourLayout.findViewById(R.id.profName); //\r\n    Intent intent = getIntent(); // Get data from previous activity.\r\n    String name_user = intent.getStringExtra(&quot;name&quot;);\r\n    String email_user = intent.getStringExtra(&quot;email&quot;);\r\n    String password_user = intent.getStringExtra(&quot;password&quot;);\r\n    profileName.setText(name_user); //0 changes, textView still don&#39;t change`\r\n\r\n \r\nbefore \r\n\r\n    `super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_menu2);`\r\n\r\nbut final result remains the same. It contains data, but not visually displays it.","title":"TextView doesn&#39;t change visually, but the date it keeps is correct","body":"<p>After login, I want to change text in TextView near profile on name_user.</p>\n<p>But it doesn't change textView visually.</p>\n<p>It is worth to mention, that when outputting (Toast), it gives out the data that is needed, but does not visually display it. Everything is fine with the TextView parameters (I think), because if you set the finished text in the parameters( i mean android:text=&quot;smth&quot;), it visually displays it.</p>\n<p>Java code:</p>\n<pre><code>`protected void onCreate(Bundle savedInstanceState) {\nyourLayout = getLayoutInflater().inflate(R.layout.layout_navigation_header, null); \nprofileName = yourLayout.findViewById(R.id.profName); //\nIntent intent = getIntent(); // Get data from previous activity.\nString name_user = intent.getStringExtra(&quot;name&quot;);\nString email_user = intent.getStringExtra(&quot;email&quot;);\nString password_user = intent.getStringExtra(&quot;password&quot;);\nprofileName.setText(name_user); //0 changes, textView still don't change.\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_menu2); \n\nDrawerLayout drawerLayout = findViewById(R.id.drawerLayout);\nToast toast = Toast.makeText(getApplicationContext(), profileName.getText().toString(),\nToast.LENGTH_SHORT); // for debug, it works and show profileName that contains name_user, but.       \ntoast.show();\n\n\nfindViewById(R.id.imageMenu).setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        drawerLayout.openDrawer(GravityCompat.START);\n    }\n});\n}`\n</code></pre>\n<p>Part of main XML</p>\n<pre><code>`&lt;com.google.android.material.navigation.NavigationView\nandroid:id=&quot;@+id/navigationView&quot;\nandroid:layout_width=&quot;wrap_content&quot;\nandroid:layout_height=&quot;match_parent&quot;\napp:headerLayout=&quot;@layout/layout_navigation_header&quot;// layour_navigation_header -here is TextView\napp:menu='@menu/navigation_menu'\nandroid:layout_gravity=&quot;start&quot;/&gt;`\n</code></pre>\n<p>Part of layour_navigation_header with TextView that I need to change.</p>\n<pre><code>`&lt;TextView\nandroid:id=&quot;@+id/profName&quot;\nandroid:layout_width=&quot;0dp&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:layout_marginStart=&quot;10dp&quot;\nandroid:textColor=&quot;@color/black&quot;\nandroid:textSize=&quot;18sp&quot;\nandroid:text=&quot;Temporary&quot;\napp:layout_constraintBottom_toTopOf=&quot;@id/viewSupporter&quot;\napp:layout_constraintStart_toEndOf=&quot;@id/imageProfile&quot;/&gt;`\n</code></pre>\n<p>Hope you could help me</p>\n<p>I tried to move</p>\n<pre><code>`yourLayout = getLayoutInflater().inflate(R.layout.layout_navigation_header, null); \nprofileName = yourLayout.findViewById(R.id.profName); //\nIntent intent = getIntent(); // Get data from previous activity.\nString name_user = intent.getStringExtra(&quot;name&quot;);\nString email_user = intent.getStringExtra(&quot;email&quot;);\nString password_user = intent.getStringExtra(&quot;password&quot;);\nprofileName.setText(name_user); //0 changes, textView still don't change`\n</code></pre>\n<p>before</p>\n<pre><code>`super.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_menu2);`\n</code></pre>\n<p>but final result remains the same. It contains data, but not visually displays it.</p>\n"},{"tags":["java","intellij-idea","ide"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1455109316,"post_id":35315216,"comment_id":58340666,"body_markdown":"https://www.jetbrains.com/idea/help/keyboard-shortcuts-you-cannot-miss.html","body":"<a href=\"https://www.jetbrains.com/idea/help/keyboard-shortcuts-you-cannot-miss.html\" rel=\"nofollow noreferrer\">jetbrains.com/idea/help/keyboard-shortcuts-you-cannot-miss.h&zwnj;&#8203;tml</a>"}],"answers":[{"tags":[],"owner":{"account_id":6139227,"reputation":18331,"user_id":4787126,"display_name":"Zbynek Vyskovsky - kvr000"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1455107106,"creation_date":1455107106,"answer_id":35315252,"question_id":35315216,"body_markdown":"`Alt-Enter` is the shortcut. Actually it&#39;s general shortcut for fixing problems which the IDE understands.\r\n","title":"How to auto add imports in IntelliJ?","body":"<p><code>Alt-Enter</code> is the shortcut. Actually it's general shortcut for fixing problems which the IDE understands.</p>\n"}],"owner":{"account_id":4973546,"reputation":28167,"user_id":4009451,"accept_rate":87,"display_name":"smeeb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9136,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":35315252,"answer_count":1,"score":3,"last_activity_date":1668286612,"creation_date":1455107001,"question_id":35315216,"body_markdown":"I am new to IntelliJ. I am writing some code and am seeing IntelliJ complain that it can&#39;t resolve a class/object:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt knows to suggest which import to add but I&#39;m looking for a shortcut that will allow me to say &quot;*Yes, please auto add that import!*&quot;. In Eclipse, this is as easy as `Cmd+Shift+O`...any ideas here?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/sItwS.png","title":"How to auto add imports in IntelliJ?","body":"<p>I am new to IntelliJ. I am writing some code and am seeing IntelliJ complain that it can't resolve a class/object:</p>\n\n<p><a href=\"https://i.stack.imgur.com/sItwS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sItwS.png\" alt=\"enter image description here\"></a></p>\n\n<p>It knows to suggest which import to add but I'm looking for a shortcut that will allow me to say \"<em>Yes, please auto add that import!</em>\". In Eclipse, this is as easy as <code>Cmd+Shift+O</code>...any ideas here?</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":16147551,"reputation":169,"user_id":11656785,"display_name":"Uday"},"score":0,"creation_date":1635746964,"post_id":69793146,"comment_id":123367596,"body_markdown":"Perfect, Thanks","body":"Perfect, Thanks"},{"owner":{"account_id":13753711,"reputation":676,"user_id":9925191,"display_name":"Rose"},"score":2,"creation_date":1635747134,"post_id":69793146,"comment_id":123367622,"body_markdown":"Do accept the answer if you get a solution from that. @bshr","body":"Do accept the answer if you get a solution from that. @bshr"}],"tags":[],"owner":{"account_id":15434928,"reputation":56,"user_id":11135289,"display_name":"Nthabiseng Mashiane"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635746664,"creation_date":1635746664,"answer_id":69793146,"question_id":69793115,"body_markdown":"You can change the settings on your intelliJ.\r\n\r\nGot to: Preferances --&gt; Editor --&gt; General --&gt; Auto imports then make sure that the &#39;Add unambiguous imports on the fly&#39; checkbox is checked.\r\n\r\n","title":"Intellij Tool : What is the short cut for auto import all java classes at one go?","body":"<p>You can change the settings on your intelliJ.</p>\n<p>Got to: Preferances --&gt; Editor --&gt; General --&gt; Auto imports then make sure that the 'Add unambiguous imports on the fly' checkbox is checked.</p>\n"},{"tags":[],"owner":{"account_id":13753711,"reputation":676,"user_id":9925191,"display_name":"Rose"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635746848,"creation_date":1635746848,"answer_id":69793169,"question_id":69793115,"body_markdown":"In intellij, Go to **File** -&gt; **Settings** -&gt; **Editor** -&gt; **General** -&gt; **Auto import** -&gt; Enable **Add unambiguous imports on the fly** -&gt; Click on **Apply** -&gt; **OK**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s3qN2.png","title":"Intellij Tool : What is the short cut for auto import all java classes at one go?","body":"<p>In intellij, Go to <strong>File</strong> -&gt; <strong>Settings</strong> -&gt; <strong>Editor</strong> -&gt; <strong>General</strong> -&gt; <strong>Auto import</strong> -&gt; Enable <strong>Add unambiguous imports on the fly</strong> -&gt; Click on <strong>Apply</strong> -&gt; <strong>OK</strong></p>\n<p><a href=\"https://i.stack.imgur.com/s3qN2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s3qN2.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":15388980,"reputation":1687,"user_id":11102299,"display_name":"Bayram Binbir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668286525,"creation_date":1668286525,"answer_id":74416514,"question_id":69793115,"body_markdown":"**Import IntelliJ imports shortcut for Mac**\r\n\r\n    Shift + Alt + Enter","title":"Intellij Tool : What is the short cut for auto import all java classes at one go?","body":"<p><strong>Import IntelliJ imports shortcut for Mac</strong></p>\n<pre><code>Shift + Alt + Enter\n</code></pre>\n"}],"owner":{"account_id":16147551,"reputation":169,"user_id":11656785,"display_name":"Uday"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1777,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1668286525,"creation_date":1635746237,"question_id":69793115,"body_markdown":"For example:-\r\n\r\n    LocalDate.now();\r\n    StringTokenizer stringTokenizer = new StringTokenizer(&quot;.&quot;);\r\n    CompletableFuture.runAsync( () -&gt; System.out.println(&quot;bingo&quot;));\r\n\r\nI can auto import class by moving pointer to respective class and click alt + enter, has to do same process for all classes. Is there any command that helps auto import all classes at one go?\r\n","title":"Intellij Tool : What is the short cut for auto import all java classes at one go?","body":"<p>For example:-</p>\n<pre><code>LocalDate.now();\nStringTokenizer stringTokenizer = new StringTokenizer(&quot;.&quot;);\nCompletableFuture.runAsync( () -&gt; System.out.println(&quot;bingo&quot;));\n</code></pre>\n<p>I can auto import class by moving pointer to respective class and click alt + enter, has to do same process for all classes. Is there any command that helps auto import all classes at one go?</p>\n"},{"tags":["java","spring","spring-mvc","model-view-controller","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1668299375,"post_id":74416389,"comment_id":131371984,"body_markdown":"Maybe you can explain a bit more about why you want to do this. And what do you mean by &quot;this iteration&quot;? Do you mean you want a specific index value to be returned along with each selected option? I am not sure how that information can help you.","body":"Maybe you can explain a bit more about why you want to do this. And what do you mean by &quot;this iteration&quot;? Do you mean you want a specific index value to be returned along with each selected option? I am not sure how that information can help you."},{"owner":{"account_id":26020646,"reputation":23,"user_id":19728398,"display_name":"Ege Coskun"},"score":0,"creation_date":1668347626,"post_id":74416389,"comment_id":131378128,"body_markdown":"I thought **Can I get the index of this iteration to my form?** this sentence is very self explanatory. But no problem. I want to get the index of for loop to my form. That form is wrapping the select tag and my for loop is in select tag. @andrewJames","body":"I thought <b>Can I get the index of this iteration to my form?</b> this sentence is very self explanatory. But no problem. I want to get the index of for loop to my form. That form is wrapping the select tag and my for loop is in select tag. @andrewJames"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1668347779,"post_id":74416389,"comment_id":131378166,"body_markdown":"Yes, that is clear already from your question. But why do you want to do this?","body":"Yes, that is clear already from your question. But why do you want to do this?"},{"owner":{"account_id":26020646,"reputation":23,"user_id":19728398,"display_name":"Ege Coskun"},"score":0,"creation_date":1668350116,"post_id":74416389,"comment_id":131378692,"body_markdown":"I will use that index to send the selected username to my controller. @andrewJames","body":"I will use that index to send the selected username to my controller. @andrewJames"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1668352463,"post_id":74416389,"comment_id":131379195,"body_markdown":"Thank you for the clarification. You should send the user name to the controller - or, if that is not guaranteed to be unique then send whatever unique ID you have already defined _at source_ (where the user name was defined) - for example, from a database. In other words, provide the unique identifier _to_ Thymeleaf. Don&#39;t expect Thymeleaf to generate it for you.","body":"Thank you for the clarification. You should send the user name to the controller - or, if that is not guaranteed to be unique then send whatever unique ID you have already defined <i>at source</i> (where the user name was defined) - for example, from a database. In other words, provide the unique identifier <i>to</i> Thymeleaf. Don&#39;t expect Thymeleaf to generate it for you."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1668352480,"post_id":74416389,"comment_id":131379203,"body_markdown":"Having said that, if you really still want to pursue this, then provide it in option&#39;s `value` attribute - because that is what your form will use when sending data to the controller. This is why I said &quot;_I am not sure how that information can help you_&quot;.","body":"Having said that, if you really still want to pursue this, then provide it in option&#39;s <code>value</code> attribute - because that is what your form will use when sending data to the controller. This is why I said &quot;<i>I am not sure how that information can help you</i>&quot;."},{"owner":{"account_id":26020646,"reputation":23,"user_id":19728398,"display_name":"Ege Coskun"},"score":0,"creation_date":1668353604,"post_id":74416389,"comment_id":131379459,"body_markdown":"`@RequestMapping(path = &quot;/saveProductToUser/{username}/{productName}&quot;)\n    public RedirectView saveProductToUser(@PathVariable(&quot;username&quot;) String username,@PathVariable(&quot;productName&quot;) String productName){\n\n        productService.addProductToUser(productName,username);\n        RedirectView redirectView = new RedirectView();\n        redirectView.setUrl(&quot;http://localhost:8093/api/v1/product/showAllProducts&quot;);\n        return redirectView;\n    }` ** I have to return this parameters via thymeleaf. But it seems that i can&#39;t reach that index from the container. Do you have any possible solution","body":"<code>@RequestMapping(path = &quot;&#47;saveProductToUser&#47;{username}&#47;{productName}&quot;)     public RedirectView saveProductToUser(@PathVariable(&quot;username&quot;) String username,@PathVariable(&quot;productName&quot;) String productName){          productService.addProductToUser(productName,username);         RedirectView redirectView = new RedirectView();         redirectView.setUrl(&quot;http:&#47;&#47;localhost:8093&#47;api&#47;v1&#47;product&#47;sh&zwnj;&#8203;owAllProducts&quot;);         return redirectView;     }</code> ** I have to return this parameters via thymeleaf. But it seems that i can&#39;t reach that index from the container. Do you have any possible solution"}],"owner":{"account_id":26020646,"reputation":23,"user_id":19728398,"display_name":"Ege Coskun"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668285466,"creation_date":1668285466,"question_id":74416389,"body_markdown":"I need to get the index of a th:each to outsider scope.\r\n\r\n```\r\n   &lt;div th:object=&quot;userList&quot;&gt;\r\n        &lt;form th:action=&quot;@{/api/v1/product/saveProductToUser/{username}/{productName}(username=${userList.get(iterstatus).getUserName()},productName=${productList.get(${iterstatus2})})}&quot; th:object=&quot;productList&quot;   id=&quot;register&quot; class=&quot;input-group&quot; method=&quot;post&quot;&gt;\r\n\r\n          &lt;select class=&quot;input-opt&quot;&gt;\r\n            &lt;option th:each=&quot;a,iterStatus : ${productList}&quot; th:text=&quot;${a.productName}&quot; th:value=&quot;${a.productName}&quot; th:with=&quot;iterstatus2=${iterStatus}&quot; id=&quot;opt2&quot;&gt;Choose a Product&lt;/option&gt;\r\n          &lt;/select &gt;\r\n\r\n          &lt;select  class=&quot;input-opt&quot;&gt;\r\n            &lt;option th:each=&quot;a,iterStatus : ${userList}&quot; th:text=&quot;${a.userName}&quot; th:value=&quot;${a.userName}&quot;  th:with=&quot;iterstatus=${iterStatus}&quot; id=&quot;opt2&quot;&gt;Choose a Product&lt;/option&gt;\r\n          &lt;/select &gt;\r\n\r\n          &lt;a th:href=&quot;@{/api/v1/product/showAllProducts}&quot; type=&quot;submit&quot; class=&quot;submit-btn&quot;&gt;Save&lt;/a&gt;\r\n```\r\nCan I get the index of this iteration to my **form**? Or any alternative solutions?\r\n","title":"Can you reach to embedded tags variable from outside?","body":"<p>I need to get the index of a th:each to outsider scope.</p>\n<pre><code>   &lt;div th:object=&quot;userList&quot;&gt;\n        &lt;form th:action=&quot;@{/api/v1/product/saveProductToUser/{username}/{productName}(username=${userList.get(iterstatus).getUserName()},productName=${productList.get(${iterstatus2})})}&quot; th:object=&quot;productList&quot;   id=&quot;register&quot; class=&quot;input-group&quot; method=&quot;post&quot;&gt;\n\n          &lt;select class=&quot;input-opt&quot;&gt;\n            &lt;option th:each=&quot;a,iterStatus : ${productList}&quot; th:text=&quot;${a.productName}&quot; th:value=&quot;${a.productName}&quot; th:with=&quot;iterstatus2=${iterStatus}&quot; id=&quot;opt2&quot;&gt;Choose a Product&lt;/option&gt;\n          &lt;/select &gt;\n\n          &lt;select  class=&quot;input-opt&quot;&gt;\n            &lt;option th:each=&quot;a,iterStatus : ${userList}&quot; th:text=&quot;${a.userName}&quot; th:value=&quot;${a.userName}&quot;  th:with=&quot;iterstatus=${iterStatus}&quot; id=&quot;opt2&quot;&gt;Choose a Product&lt;/option&gt;\n          &lt;/select &gt;\n\n          &lt;a th:href=&quot;@{/api/v1/product/showAllProducts}&quot; type=&quot;submit&quot; class=&quot;submit-btn&quot;&gt;Save&lt;/a&gt;\n</code></pre>\n<p>Can I get the index of this iteration to my <strong>form</strong>? Or any alternative solutions?</p>\n"},{"tags":["java","macos"],"comments":[{"owner":{"account_id":14244060,"reputation":75,"user_id":10289664,"display_name":"Lahiru Liyanage"},"score":0,"creation_date":1674205167,"post_id":74416000,"comment_id":132668343,"body_markdown":"Try with below StackOverFlow question and answer. [Intellij IDEA terminal shows wrong jVM version with ./gradlew -version or mvn -version](https://stackoverflow.com/questions/75167299/intellij-idea-terminal-shows-wrong-jvm-version-with-gradlew-version-or-mvn-v)","body":"Try with below StackOverFlow question and answer. <a href=\"https://stackoverflow.com/questions/75167299/intellij-idea-terminal-shows-wrong-jvm-version-with-gradlew-version-or-mvn-v\">Intellij IDEA terminal shows wrong jVM version with ./gradlew -version or mvn -version</a>"},{"owner":{"account_id":14244060,"reputation":75,"user_id":10289664,"display_name":"Lahiru Liyanage"},"score":0,"creation_date":1674205230,"post_id":74416000,"comment_id":132668358,"body_markdown":"Please CHeck Below Answer [Intellij IDEA terminal shows wrong jVM version with ./gradlew -version or mvn -version](https://stackoverflow.com/questions/75167299/intellij-idea-terminal-shows-wrong-jvm-version-with-gradlew-version-or-mvn-v)","body":"Please CHeck Below Answer <a href=\"https://stackoverflow.com/questions/75167299/intellij-idea-terminal-shows-wrong-jvm-version-with-gradlew-version-or-mvn-v\">Intellij IDEA terminal shows wrong jVM version with ./gradlew -version or mvn -version</a>"},{"owner":{"account_id":14244060,"reputation":75,"user_id":10289664,"display_name":"Lahiru Liyanage"},"score":0,"creation_date":1675130668,"post_id":74416000,"comment_id":132858454,"body_markdown":"Please refer this question https://stackoverflow.com/questions/75167299/intellij-idea-terminal-shows-wrong-jvm-version-with-gradlew-version-or-mvn-v","body":"Please refer this question <a href=\"https://stackoverflow.com/questions/75167299/intellij-idea-terminal-shows-wrong-jvm-version-with-gradlew-version-or-mvn-v\" title=\"intellij idea terminal shows wrong jvm version with gradlew version or mvn v\">stackoverflow.com/questions/75167299/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9558888,"reputation":429,"user_id":7100461,"display_name":"Bartosz Szymański"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668282441,"creation_date":1668282441,"answer_id":74416046,"question_id":74416000,"body_markdown":"Go to `File -&gt; Project Structure -&gt; Project` and set SDK to correct version. You can find path to it by executing \r\n\r\n    echo $JAVA_HOME\r\nin your terminal.","title":"Why my java version in terminal is different from the jdk version showed in idea?","body":"<p>Go to <code>File -&gt; Project Structure -&gt; Project</code> and set SDK to correct version. You can find path to it by executing</p>\n<pre><code>echo $JAVA_HOME\n</code></pre>\n<p>in your terminal.</p>\n"},{"comments":[{"owner":{"account_id":14244060,"reputation":75,"user_id":10289664,"display_name":"Lahiru Liyanage"},"score":0,"creation_date":1675130641,"post_id":74416119,"comment_id":132858451,"body_markdown":"If this didn&#39;t work, please check in File -&gt; Settings-&gt; Tools -&gt; Terminal in the idea","body":"If this didn&#39;t work, please check in File -&gt; Settings-&gt; Tools -&gt; Terminal in the idea"}],"tags":[],"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668284018,"creation_date":1668282977,"answer_id":74416119,"question_id":74416000,"body_markdown":"The command\r\n```bash\r\n$ java -version\r\n```\r\nwill use the first `java` executable from your [PATH][1] variable. For example:\r\n```bash\r\n$ which java\r\n/opt/dev/jdk/8/bin/java\r\n```\r\nIntelliJ IDEA uses JDK defined in settings. You can update it in `Project Structure`\r\n[![enter image description here][2]][2]\r\n\r\n&gt; I typed &#39; usr/libexec/java_home&#39; in the terminal, but get the result &#39;zsh: no such file or directory: usr/libexec/java_home&#39;. How should I fix it?\r\n\r\nTry this one instead:\r\n```bash\r\n/usr/libexec/java_home\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/7510249/path-environment-variable-in-linux\r\n  [2]: https://i.stack.imgur.com/DgkPd.png","title":"Why my java version in terminal is different from the jdk version showed in idea?","body":"<p>The command</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ java -version\n</code></pre>\n<p>will use the first <code>java</code> executable from your <a href=\"https://stackoverflow.com/questions/7510249/path-environment-variable-in-linux\">PATH</a> variable. For example:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ which java\n/opt/dev/jdk/8/bin/java\n</code></pre>\n<p>IntelliJ IDEA uses JDK defined in settings. You can update it in <code>Project Structure</code>\n<a href=\"https://i.stack.imgur.com/DgkPd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DgkPd.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p>I typed ' usr/libexec/java_home' in the terminal, but get the result 'zsh: no such file or directory: usr/libexec/java_home'. How should I fix it?</p>\n</blockquote>\n<p>Try this one instead:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>/usr/libexec/java_home\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18155026,"reputation":129,"user_id":13207158,"display_name":"Abishethvarman V"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668284071,"creation_date":1668284071,"answer_id":74416243,"question_id":74416000,"body_markdown":"This is happened due to multiple jdk version existence in a local machine. To tackle this, need to set up the environment variable for our ease. There are couple of ways to switch it. This link will give you an understanding. Also do the same approach for your OS. https://www.geeksforgeeks.org/how-to-install-multiple-jdks-in-windows/. Always need to address the foundations rather than making instant solutions. ","title":"Why my java version in terminal is different from the jdk version showed in idea?","body":"<p>This is happened due to multiple jdk version existence in a local machine. To tackle this, need to set up the environment variable for our ease. There are couple of ways to switch it. This link will give you an understanding. Also do the same approach for your OS. <a href=\"https://www.geeksforgeeks.org/how-to-install-multiple-jdks-in-windows/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/how-to-install-multiple-jdks-in-windows/</a>. Always need to address the foundations rather than making instant solutions.</p>\n"}],"owner":{"account_id":26912831,"reputation":1,"user_id":20488116,"display_name":"Tony Wang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":662,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74416119,"answer_count":3,"score":-1,"last_activity_date":1668284071,"creation_date":1668282023,"question_id":74416000,"body_markdown":"My java version in terminal is different from the version in IntelliJ.\r\n\r\nWhen I typed &#39;java -version&#39; in the terminal, the version is 13.0.2, but when I set the SDK in the IntelliJ IDEA, the version is 11.0.4. I typed &#39; usr/libexec/java_home&#39; in the terminal, but get the result &#39;zsh: no such file or directory: usr/libexec/java_home&#39;. How should I fix it?","title":"Why my java version in terminal is different from the jdk version showed in idea?","body":"<p>My java version in terminal is different from the version in IntelliJ.</p>\n<p>When I typed 'java -version' in the terminal, the version is 13.0.2, but when I set the SDK in the IntelliJ IDEA, the version is 11.0.4. I typed ' usr/libexec/java_home' in the terminal, but get the result 'zsh: no such file or directory: usr/libexec/java_home'. How should I fix it?</p>\n"},{"tags":["java","spring","spring-boot","h2","uuid"],"comments":[{"owner":{"account_id":3054958,"reputation":14933,"user_id":2588800,"accept_rate":100,"display_name":"Svetlin Zarev"},"score":0,"creation_date":1593065629,"post_id":62568885,"comment_id":110649669,"body_markdown":"What&#39;s the column type ? The dashes are only a cosmetic feature, so if you are storing the UUID as byte array you won&#39;t get any. If you store it as a text/varchar you&#39;ll get the dashes, but that&#39;s a pretty inefficient way to store uuids","body":"What&#39;s the column type ? The dashes are only a cosmetic feature, so if you are storing the UUID as byte array you won&#39;t get any. If you store it as a text/varchar you&#39;ll get the dashes, but that&#39;s a pretty inefficient way to store uuids"},{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":0,"creation_date":1593065802,"post_id":62568885,"comment_id":110649733,"body_markdown":"I have gone through this - https://tomharrisonjr.com/uuid-or-guid-as-primary-keys-be-careful-7b2aa3dcb439. Whats your suggestion @Svetlin? I mean how should I use it? I am clueless.","body":"I have gone through this - <a href=\"https://tomharrisonjr.com/uuid-or-guid-as-primary-keys-be-careful-7b2aa3dcb439\" rel=\"nofollow noreferrer\">tomharrisonjr.com/&hellip;</a>. Whats your suggestion @Svetlin? I mean how should I use it? I am clueless."},{"owner":{"account_id":348326,"reputation":6607,"user_id":682965,"display_name":"Simon G."},"score":8,"creation_date":1593066440,"post_id":62568885,"comment_id":110649956,"body_markdown":"H2 has a dedicated UUID type which is a 128 bit value. The dashes are purely cosmetic and it appears H2&#39;s console is not adding them for you. Since you are using the UUID as an opaque random external unique identifier, you don&#39;t need it to have dashes and when the Java UUID is viewed it will have dashes as the Java UUID class adds them for presentation.","body":"H2 has a dedicated UUID type which is a 128 bit value. The dashes are purely cosmetic and it appears H2&#39;s console is not adding them for you. Since you are using the UUID as an opaque random external unique identifier, you don&#39;t need it to have dashes and when the Java UUID is viewed it will have dashes as the Java UUID class adds them for presentation."},{"owner":{"account_id":348326,"reputation":6607,"user_id":682965,"display_name":"Simon G."},"score":2,"creation_date":1593066869,"post_id":62568885,"comment_id":110650111,"body_markdown":"Also - since you are using a UUID for security reasons, make sure you use &quot;uuid4&quot; not the others. You can tell what type of UUID it is by examining the bits. Type 1 reveals where and when the record was created. Type 4 is random and so secure. The other types require additional information which may be predictable and hence produce the predictable IDs you are trying to avoid.","body":"Also - since you are using a UUID for security reasons, make sure you use &quot;uuid4&quot; not the others. You can tell what type of UUID it is by examining the bits. Type 1 reveals where and when the record was created. Type 4 is random and so secure. The other types require additional information which may be predictable and hence produce the predictable IDs you are trying to avoid."},{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":0,"creation_date":1593093287,"post_id":62568885,"comment_id":110663865,"body_markdown":"Perfect. Got it Simon. Thanks for your valuable suggestion and help.","body":"Perfect. Got it Simon. Thanks for your valuable suggestion and help."}],"answers":[{"tags":[],"owner":{"account_id":12609810,"reputation":111,"user_id":9169379,"display_name":"Miguel Galindo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668284057,"creation_date":1668284057,"answer_id":74416241,"question_id":62568885,"body_markdown":"You can just remove\r\n\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid4&quot;)\r\n\r\nand the code will looks like \r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;useruuid&quot;)\r\n    @GeneratedValue\r\n    private UUID userUUID; ","title":"UUID does not have hyphens in between","body":"<p>You can just remove</p>\n<pre><code>@GeneratedValue(generator = &quot;uuid&quot;)\n@GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid4&quot;)\n</code></pre>\n<p>and the code will looks like</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;id&quot;)\nprivate Long id;\n\n@Column(name = &quot;useruuid&quot;)\n@GeneratedValue\nprivate UUID userUUID; \n</code></pre>\n"}],"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2599,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1668284057,"creation_date":1593065320,"question_id":62568885,"body_markdown":"Inspired by the suggestion given here - https://stackoverflow.com/questions/42129330/jpa-entity-class-giving-error-with-2-generatedvalue-fields, my question is the OPPOSITE of this - https://stackoverflow.com/questions/40724649/how-to-generate-uuids-without-dashes \r\n\r\nI am using H2 DB and have this in my model:\r\n\r\n   \r\n\r\n        @Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;id&quot;)\r\n    \tprivate Long id;\r\n    \r\n    \t@Column(name = &quot;useruuid&quot;)\r\n    \t@GeneratedValue(generator = &quot;uuid&quot;)\r\n    \t@GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid4&quot;)\r\n    \tprivate UUID userUUID; \r\n\r\nAnd in my controller it goes like this:\r\n\r\n        @PostConstruct\r\n        private void postConstruct() {\r\n            AppUser appUser = new AppUser(1l, UUID.randomUUID());\r\n            appUserJPARepository.save(appUser);\r\n        }\r\n\r\nNow when my Spring Boot app starts my H2 DB-Console shows this:\r\n\r\n    ID  \tUSERUUID  \r\n    1\t    25b9b7f391d94825b349866fe9a9077c\r\n\r\n**Question:** How do I get hyphens in the DB? So that my uuid in the DB will be - **25b9b7f3-91d9-4825-b349-866fe9a9077c**\r\n\r\nI fiddled with `@GenericGenerator(name = &quot;uuid4&quot;, strategy = &quot;uuid4&quot;)` uuid(1) to uuid5 but got the same result. What is going on here and what I am doing wrong or what should I do to get hyphens in the DB? Any help or related info/links relevant to this will be greatly appreciated.","title":"UUID does not have hyphens in between","body":"<p>Inspired by the suggestion given here - <a href=\"https://stackoverflow.com/questions/42129330/jpa-entity-class-giving-error-with-2-generatedvalue-fields\">JPA Entity class giving error with 2 @GeneratedValue fields</a>, my question is the OPPOSITE of this - <a href=\"https://stackoverflow.com/questions/40724649/how-to-generate-uuids-without-dashes\">How to generate uuids without dashes</a></p>\n<p>I am using H2 DB and have this in my model:</p>\n<pre><code>    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;useruuid&quot;)\n    @GeneratedValue(generator = &quot;uuid&quot;)\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid4&quot;)\n    private UUID userUUID; \n</code></pre>\n<p>And in my controller it goes like this:</p>\n<pre><code>    @PostConstruct\n    private void postConstruct() {\n        AppUser appUser = new AppUser(1l, UUID.randomUUID());\n        appUserJPARepository.save(appUser);\n    }\n</code></pre>\n<p>Now when my Spring Boot app starts my H2 DB-Console shows this:</p>\n<pre><code>ID      USERUUID  \n1       25b9b7f391d94825b349866fe9a9077c\n</code></pre>\n<p><strong>Question:</strong> How do I get hyphens in the DB? So that my uuid in the DB will be - <strong>25b9b7f3-91d9-4825-b349-866fe9a9077c</strong></p>\n<p>I fiddled with <code>@GenericGenerator(name = &quot;uuid4&quot;, strategy = &quot;uuid4&quot;)</code> uuid(1) to uuid5 but got the same result. What is going on here and what I am doing wrong or what should I do to get hyphens in the DB? Any help or related info/links relevant to this will be greatly appreciated.</p>\n"},{"tags":["java","audio","javasound"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1668204984,"post_id":74407833,"comment_id":131357257,"body_markdown":"You can read the .wav file and examine the data. What definition of &quot;volume&quot; are you using?","body":"You can read the .wav file and examine the data. What definition of &quot;volume&quot; are you using?"},{"owner":{"account_id":26898301,"reputation":1,"user_id":20475867,"display_name":"anti_waxxer"},"score":0,"creation_date":1668213136,"post_id":74407833,"comment_id":131358603,"body_markdown":"How can I read the .wav file? For the definition, i mean like how loud the sound is, either in Decibels or a linear scale (whichever one the computer offers).","body":"How can I read the .wav file? For the definition, i mean like how loud the sound is, either in Decibels or a linear scale (whichever one the computer offers)."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1668213653,"post_id":74407833,"comment_id":131358677,"body_markdown":"See https://stackoverflow.com/questions/3297749/java-reading-manipulating-and-writing-wav-files","body":"See <a href=\"https://stackoverflow.com/questions/3297749/java-reading-manipulating-and-writing-wav-files\" title=\"java reading manipulating and writing wav files\">stackoverflow.com/questions/3297749/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668283969,"creation_date":1668283969,"answer_id":74416230,"question_id":74407833,"body_markdown":"To deal with the amplitude of the sound signal, you will have to inspect the PCM data held in the .wav file. Unfortunately, the Java `Clip` does not expose the PCM values. Java makes the individual PCM data values available through the `AudioInputStream` class, but you have to read the data points sequentially. A code example is available at [The Java Tutorials: Using Files and Format Converters][1].\r\n\r\nHere&#39;s a block quote of the relevant portion of the page:\r\n\r\n&gt; Suppose you&#39;re writing a sound-editing application that allows the\r\n&gt; user to load sound data from a file, display a corresponding waveform\r\n&gt; or spectrogram, edit the sound, play back the edited data, and save\r\n&gt; the result in a new file. Or perhaps your program will read the data\r\n&gt; stored in a file, apply some kind of signal processing (such as an\r\n&gt; algorithm that slows the sound down without changing its pitch), and\r\n&gt; then play the processed audio. In either case, you need to get access\r\n&gt; to the data contained in the audio file. Assuming that your program\r\n&gt; provides some means for the user to select or specify an input sound\r\n&gt; file, reading that file&#39;s audio data involves three steps:\r\n&gt; \r\n&gt; 1. Get an AudioInputStream object from the file.\r\n&gt; 2. Create a byte array in which you&#39;ll store successive chunks of data from the file.\r\n&gt; 3. Repeatedly read bytes from the audio input stream into the array. On each iteration, do something useful with the bytes in the array\r\n&gt; (for example, you might play them, filter them, analyze them, display\r\n&gt; them, or write them to another file).\r\n&gt; \r\n&gt; The following code snippet outlines these steps:\r\n\r\n    int totalFramesRead = 0;\r\n    File fileIn = new File(somePathName);\r\n    // somePathName is a pre-existing string whose value was\r\n    // based on a user selection.\r\n    try {\r\n      AudioInputStream audioInputStream = \r\n        AudioSystem.getAudioInputStream(fileIn);\r\n      int bytesPerFrame = \r\n        audioInputStream.getFormat().getFrameSize();\r\n        if (bytesPerFrame == AudioSystem.NOT_SPECIFIED) {\r\n        // some audio formats may have unspecified frame size\r\n        // in that case we may read any amount of bytes\r\n        bytesPerFrame = 1;\r\n      } \r\n      // Set an arbitrary buffer size of 1024 frames.\r\n      int numBytes = 1024 * bytesPerFrame; \r\n      byte[] audioBytes = new byte[numBytes];\r\n      try {\r\n        int numBytesRead = 0;\r\n        int numFramesRead = 0;\r\n        // Try to read numBytes bytes from the file.\r\n        while ((numBytesRead = \r\n          audioInputStream.read(audioBytes)) != -1) {\r\n          // Calculate the number of frames actually read.\r\n          numFramesRead = numBytesRead / bytesPerFrame;\r\n          totalFramesRead += numFramesRead;\r\n          // Here, do something useful with the audio data that&#39;s \r\n          // now in the audioBytes array...\r\n        }\r\n      } catch (Exception ex) { \r\n        // Handle the error...\r\n      }\r\n    } catch (Exception e) {\r\n      // Handle the error...\r\n    }\r\n\r\n\r\nEND OF QUOTE\r\n\r\nThe values themselves will need another conversion step before they are PCM. If the file uses 16-bit encoding (most common), you will have to concatenate two bytes to make a single PCM value. With two bytes, the range of values is from -32778 to 32767 (a range of 2^16).\r\n\r\nIt is very common to normalize these values to `floats` that range from -1 to 1. This is done by float division using 32767 or 32768 in the denominator. I&#39;m not really sure which is more correct (or how much getting this exactly right matters). I just use 32768 to avoid getting a result less than -1 if the signal has any data points that hit the minimum possible value.\r\n\r\nI&#39;m not entirely clear on how to convert the PCM values to decibels. I think the formulas are out there for relative adjustments, such as, if you want to lower your volume by 6 dBs. Changing volumes is a matter of multiplying each PCM value by the desired factor that matches the volume change you wish to make.\r\n\r\nAs far as measuring the volume at a given point, since PCM signal values can range pretty widely as they zig zag back and forth across the 0, the usual operation is to take an average of the absolute value of many PCM values. The process is referred to as getting a *root mean square*. The number of values to include in a RMS calculation can vary. I think the main consideration is to make the number of values in the rolling average to be large enough such that they are greater than the period of the lowest frequency included in the signal.\r\n\r\nThere are some good tutorials at the *HackAudio* site. This link is for [the RMS calculation][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/sound/converters.html\r\n  [2]: https://www.hackaudio.com/digital-signal-processing/amplitude/rms-amplitude/","title":"How can the sound level at specific timestamps of a .wav file be measured using the Sound API in Java?","body":"<p>To deal with the amplitude of the sound signal, you will have to inspect the PCM data held in the .wav file. Unfortunately, the Java <code>Clip</code> does not expose the PCM values. Java makes the individual PCM data values available through the <code>AudioInputStream</code> class, but you have to read the data points sequentially. A code example is available at <a href=\"https://docs.oracle.com/javase/tutorial/sound/converters.html\" rel=\"nofollow noreferrer\">The Java Tutorials: Using Files and Format Converters</a>.</p>\n<p>Here's a block quote of the relevant portion of the page:</p>\n<blockquote>\n<p>Suppose you're writing a sound-editing application that allows the\nuser to load sound data from a file, display a corresponding waveform\nor spectrogram, edit the sound, play back the edited data, and save\nthe result in a new file. Or perhaps your program will read the data\nstored in a file, apply some kind of signal processing (such as an\nalgorithm that slows the sound down without changing its pitch), and\nthen play the processed audio. In either case, you need to get access\nto the data contained in the audio file. Assuming that your program\nprovides some means for the user to select or specify an input sound\nfile, reading that file's audio data involves three steps:</p>\n<ol>\n<li>Get an AudioInputStream object from the file.</li>\n<li>Create a byte array in which you'll store successive chunks of data from the file.</li>\n<li>Repeatedly read bytes from the audio input stream into the array. On each iteration, do something useful with the bytes in the array\n(for example, you might play them, filter them, analyze them, display\nthem, or write them to another file).</li>\n</ol>\n<p>The following code snippet outlines these steps:</p>\n</blockquote>\n<pre><code>int totalFramesRead = 0;\nFile fileIn = new File(somePathName);\n// somePathName is a pre-existing string whose value was\n// based on a user selection.\ntry {\n  AudioInputStream audioInputStream = \n    AudioSystem.getAudioInputStream(fileIn);\n  int bytesPerFrame = \n    audioInputStream.getFormat().getFrameSize();\n    if (bytesPerFrame == AudioSystem.NOT_SPECIFIED) {\n    // some audio formats may have unspecified frame size\n    // in that case we may read any amount of bytes\n    bytesPerFrame = 1;\n  } \n  // Set an arbitrary buffer size of 1024 frames.\n  int numBytes = 1024 * bytesPerFrame; \n  byte[] audioBytes = new byte[numBytes];\n  try {\n    int numBytesRead = 0;\n    int numFramesRead = 0;\n    // Try to read numBytes bytes from the file.\n    while ((numBytesRead = \n      audioInputStream.read(audioBytes)) != -1) {\n      // Calculate the number of frames actually read.\n      numFramesRead = numBytesRead / bytesPerFrame;\n      totalFramesRead += numFramesRead;\n      // Here, do something useful with the audio data that's \n      // now in the audioBytes array...\n    }\n  } catch (Exception ex) { \n    // Handle the error...\n  }\n} catch (Exception e) {\n  // Handle the error...\n}\n</code></pre>\n<p>END OF QUOTE</p>\n<p>The values themselves will need another conversion step before they are PCM. If the file uses 16-bit encoding (most common), you will have to concatenate two bytes to make a single PCM value. With two bytes, the range of values is from -32778 to 32767 (a range of 2^16).</p>\n<p>It is very common to normalize these values to <code>floats</code> that range from -1 to 1. This is done by float division using 32767 or 32768 in the denominator. I'm not really sure which is more correct (or how much getting this exactly right matters). I just use 32768 to avoid getting a result less than -1 if the signal has any data points that hit the minimum possible value.</p>\n<p>I'm not entirely clear on how to convert the PCM values to decibels. I think the formulas are out there for relative adjustments, such as, if you want to lower your volume by 6 dBs. Changing volumes is a matter of multiplying each PCM value by the desired factor that matches the volume change you wish to make.</p>\n<p>As far as measuring the volume at a given point, since PCM signal values can range pretty widely as they zig zag back and forth across the 0, the usual operation is to take an average of the absolute value of many PCM values. The process is referred to as getting a <em>root mean square</em>. The number of values to include in a RMS calculation can vary. I think the main consideration is to make the number of values in the rolling average to be large enough such that they are greater than the period of the lowest frequency included in the signal.</p>\n<p>There are some good tutorials at the <em>HackAudio</em> site. This link is for <a href=\"https://www.hackaudio.com/digital-signal-processing/amplitude/rms-amplitude/\" rel=\"nofollow noreferrer\">the RMS calculation</a>.</p>\n"}],"owner":{"account_id":26898301,"reputation":1,"user_id":20475867,"display_name":"anti_waxxer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668283969,"creation_date":1668198758,"question_id":74407833,"body_markdown":"After searching for over 12 hours, I was unable to find anything regarding this. ALl I could find is how to use functions from the Sound API to measure and change the volume of the device, not the .wav file. It would be great if someone could advise us/tell us how to get and/or change the volume from specific timestamps of a .wav file itself, thank you very much!\r\n\r\nEven if it is not possible to change the audio of the .wav file itself, we need to know at least how to measure the volume level at the specific timestamps. ","title":"How can the sound level at specific timestamps of a .wav file be measured using the Sound API in Java?","body":"<p>After searching for over 12 hours, I was unable to find anything regarding this. ALl I could find is how to use functions from the Sound API to measure and change the volume of the device, not the .wav file. It would be great if someone could advise us/tell us how to get and/or change the volume from specific timestamps of a .wav file itself, thank you very much!</p>\n<p>Even if it is not possible to change the audio of the .wav file itself, we need to know at least how to measure the volume level at the specific timestamps.</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":23176387,"reputation":29,"user_id":17274825,"display_name":"vegaLDN"},"score":0,"creation_date":1668283647,"post_id":74416159,"comment_id":131369488,"body_markdown":"how can I run this file on the command line so that everything works.\nthe fact is that when I want to run Main.class I get an error from the following article: https://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean","body":"how can I run this file on the command line so that everything works. the fact is that when I want to run Main.class I get an error from the following article: <a href=\"https://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean\" title=\"what does could not find or load main class mean\">stackoverflow.com/questions/18093928/&hellip;</a>"},{"owner":{"account_id":24009079,"reputation":21,"user_id":17992895,"display_name":"Heiko Zelt"},"score":0,"creation_date":1668438592,"post_id":74416159,"comment_id":131398675,"body_markdown":"First you should set the PATH environment variable. It depends on your operating system how to do it. Then call `java vsu.cs.vega.Main`","body":"First you should set the PATH environment variable. It depends on your operating system how to do it. Then call <code>java vsu.cs.vega.Main</code>"},{"owner":{"account_id":24009079,"reputation":21,"user_id":17992895,"display_name":"Heiko Zelt"},"score":0,"creation_date":1668440318,"post_id":74416159,"comment_id":131399356,"body_markdown":"ps: The file Main.class has to be in directory vsu/cs/vega/ relative to your current working directory.","body":"ps: The file Main.class has to be in directory vsu/cs/vega/ relative to your current working directory."}],"tags":[],"owner":{"account_id":24009079,"reputation":21,"user_id":17992895,"display_name":"Heiko Zelt"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668283745,"creation_date":1668283336,"answer_id":74416159,"question_id":74416096,"body_markdown":"Your program doesn&#39;t use the &quot;String[] args&quot; parameter of the main method. So you don&#39;t have to provide &quot;Program arguments&quot;. In IntelliJ in &quot;Run Configurations&quot; you can leave the input field empty or enter what ever you want. It doesn&#39;t make much of a difference.\r\n\r\nHowever for example you could pass path names of &quot;input.txt&quot; and &quot;output.txt&quot; via program arguments instead of hard coding them in your &quot;readMtx&quot; method.","title":"What should be entered in intellij IDEA command line arguments?","body":"<p>Your program doesn't use the &quot;String[] args&quot; parameter of the main method. So you don't have to provide &quot;Program arguments&quot;. In IntelliJ in &quot;Run Configurations&quot; you can leave the input field empty or enter what ever you want. It doesn't make much of a difference.</p>\n<p>However for example you could pass path names of &quot;input.txt&quot; and &quot;output.txt&quot; via program arguments instead of hard coding them in your &quot;readMtx&quot; method.</p>\n"}],"owner":{"account_id":23176387,"reputation":29,"user_id":17274825,"display_name":"vegaLDN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668283745,"creation_date":1668282784,"question_id":74416096,"body_markdown":"**What should be entered in intellij IDEA command line arguments? I have a file input.txt and output.txt (a matrix is ​​read from the first file, a new one is displayed in the second one) what should be passed to the command line arguments and how to do it syntactically correctly?**\r\n\r\n*I have the program logic, it works in idea, but I need to run it via console, and that requires command line arguments.*\r\n\r\n    package vsu.cs.vega;\r\n    import java.io.IOException;\r\n\r\n    public class Main {\r\n    public static void main(String[] args) throws IOException {\r\n        Solution output = new Solution();\r\n        String error = &quot;You entered a non-rectangular matrix, please check the data and \r\n    re-enter.&quot;;\r\n        try {\r\n            output.readMtx();\r\n        }\r\n        catch (ArrayIndexOutOfBoundsException exception){\r\n            System.err.print(error);\r\n        }\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n    package vsu.cs.vega;\r\n\r\n    import java.io.*;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.lang.ArrayIndexOutOfBoundsException;\r\n\r\n\r\n\r\n    public class Solution {\r\n\r\n    void readMtx() throws IOException {\r\n        BufferedReader br = new BufferedReader(new \r\n    FileReader(&quot;readInFileOutFromFile/src/vsu/cs/vega/input.txt&quot;));\r\n\r\n        ArrayList&lt;String&gt; lines = new ArrayList&lt;&gt;();\r\n        while (br.ready()) {\r\n            lines.add(br.readLine());\r\n        }\r\n        int matrixHeight = lines.size();\r\n\r\n        int[][] matrix = new int[matrixHeight][];\r\n\r\n        for(int i = 0; i &lt; matrixHeight; ++i) {\r\n            String[] nums = lines.get(i).split(&quot;\\s*,\\s*&quot;);\r\n            matrix[i] = new int[nums.length];\r\n            for(int j = 0; j &lt; nums.length; ++j) {\r\n                matrix[i][j] = Integer.parseInt(nums[j]);\r\n            }\r\n        }\r\n        int[][] matrixForOutput = calc(matrix);\r\n        try(PrintWriter out = new PrintWriter(new \r\n    FileOutputStream(&quot;readInFileOutFromFile/src/vsu/cs/vega/output.txt&quot;))) {\r\n            for (int i = 0; i &lt; matrixHeight; ++i) {\r\n               out.println(Arrays.toString(matrixForOutput[i]).replaceAll(&quot;^\\\\[|]$&quot;, \r\n    &quot;&quot;));\r\n            }\r\n        }\r\n        catch (ArrayIndexOutOfBoundsException ignored){\r\n        }\r\n\r\n\r\n        //out.println(Arrays.toString(matrixForOutput).replaceAll(&quot;^\\\\[|]$&quot;, &quot;&quot;));\r\n    }\r\n\r\n    int[][] calc(int[][] array) {\r\n        int rows = array.length;\r\n        int cols = array[0].length;\r\n        boolean[] minRows = null, maxRows = null;\r\n        boolean[] minCols = null, maxCols = null;\r\n\r\n        Integer min = null;\r\n        Integer max = null;\r\n\r\n        for (int i = 0; i &lt; rows; i++) {\r\n            for (int j = 0; j &lt; cols; j++) {\r\n                if (null == min || array[i][j] &lt; min) {\r\n                    minRows = new boolean[rows];\r\n                    minRows[i] = true;\r\n                    minCols = new boolean[cols];\r\n                    minCols[j] = true;\r\n                    min = array[i][j];\r\n                } else if (array[i][j] == min) {\r\n                    minRows[i] = true;\r\n                    minCols[j] = true;\r\n                }\r\n\r\n                if (null == max || array[i][j] &gt; max) {\r\n                    maxRows = new boolean[rows];\r\n                    maxRows[i] = true;\r\n                    maxCols = new boolean[cols];\r\n                    maxCols[j] = true;\r\n                    max = array[i][j];\r\n                } else if (array[i][j] == max) {\r\n                    maxRows[i] = true;\r\n                    maxCols[j] = true;\r\n                }\r\n            }\r\n        }\r\n   \r\n        int rowsToDelete = 0, colsToDelete = 0;\r\n        for (int i = 0; i &lt; rows; i++) {\r\n            if (minRows[i] || maxRows[i]) {\r\n                rowsToDelete++;\r\n            }\r\n        }\r\n        for (int i = 0; i &lt; cols; i++) {\r\n            if (minCols[i] || maxCols[i]) {\r\n                colsToDelete++;\r\n            }\r\n        }\r\n\r\n        if (rows == rowsToDelete || cols == colsToDelete) {\r\n            return new int[1][0];\r\n        }\r\n\r\n        int[][] result = new int[rows - rowsToDelete][cols - colsToDelete];\r\n\r\n        for (int i = 0, r = 0; i &lt; rows; i++) {\r\n            if (minRows[i] || maxRows[i])\r\n                continue; // пропустить строку, содержащую минимум или максимум\r\n            for (int j = 0, c = 0; j &lt; cols; j++) {\r\n                if (minCols[j] || maxCols[j])\r\n                    continue; // пропустить столбец, содержащий минимум или максимум\r\n                result[r][c++] = array[i][j];\r\n            }\r\n            r++;\r\n        }\r\n        //out.println(Arrays.toString(array).replaceAll(&quot;^\\\\[|]$&quot;, &quot;&quot;));\r\n\r\n        return result;\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n[![here we need write args][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/omoMz.png","title":"What should be entered in intellij IDEA command line arguments?","body":"<p><strong>What should be entered in intellij IDEA command line arguments? I have a file input.txt and output.txt (a matrix is ​​read from the first file, a new one is displayed in the second one) what should be passed to the command line arguments and how to do it syntactically correctly?</strong></p>\n<p><em>I have the program logic, it works in idea, but I need to run it via console, and that requires command line arguments.</em></p>\n<pre><code>package vsu.cs.vega;\nimport java.io.IOException;\n\npublic class Main {\npublic static void main(String[] args) throws IOException {\n    Solution output = new Solution();\n    String error = &quot;You entered a non-rectangular matrix, please check the data and \nre-enter.&quot;;\n    try {\n        output.readMtx();\n    }\n    catch (ArrayIndexOutOfBoundsException exception){\n        System.err.print(error);\n    }\n\n\n}\n</code></pre>\n<p>}</p>\n<pre><code>package vsu.cs.vega;\n\nimport java.io.*;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.lang.ArrayIndexOutOfBoundsException;\n\n\n\npublic class Solution {\n\nvoid readMtx() throws IOException {\n    BufferedReader br = new BufferedReader(new \nFileReader(&quot;readInFileOutFromFile/src/vsu/cs/vega/input.txt&quot;));\n\n    ArrayList&lt;String&gt; lines = new ArrayList&lt;&gt;();\n    while (br.ready()) {\n        lines.add(br.readLine());\n    }\n    int matrixHeight = lines.size();\n\n    int[][] matrix = new int[matrixHeight][];\n\n    for(int i = 0; i &lt; matrixHeight; ++i) {\n        String[] nums = lines.get(i).split(&quot;\\s*,\\s*&quot;);\n        matrix[i] = new int[nums.length];\n        for(int j = 0; j &lt; nums.length; ++j) {\n            matrix[i][j] = Integer.parseInt(nums[j]);\n        }\n    }\n    int[][] matrixForOutput = calc(matrix);\n    try(PrintWriter out = new PrintWriter(new \nFileOutputStream(&quot;readInFileOutFromFile/src/vsu/cs/vega/output.txt&quot;))) {\n        for (int i = 0; i &lt; matrixHeight; ++i) {\n           out.println(Arrays.toString(matrixForOutput[i]).replaceAll(&quot;^\\\\[|]$&quot;, \n&quot;&quot;));\n        }\n    }\n    catch (ArrayIndexOutOfBoundsException ignored){\n    }\n\n\n    //out.println(Arrays.toString(matrixForOutput).replaceAll(&quot;^\\\\[|]$&quot;, &quot;&quot;));\n}\n\nint[][] calc(int[][] array) {\n    int rows = array.length;\n    int cols = array[0].length;\n    boolean[] minRows = null, maxRows = null;\n    boolean[] minCols = null, maxCols = null;\n\n    Integer min = null;\n    Integer max = null;\n\n    for (int i = 0; i &lt; rows; i++) {\n        for (int j = 0; j &lt; cols; j++) {\n            if (null == min || array[i][j] &lt; min) {\n                minRows = new boolean[rows];\n                minRows[i] = true;\n                minCols = new boolean[cols];\n                minCols[j] = true;\n                min = array[i][j];\n            } else if (array[i][j] == min) {\n                minRows[i] = true;\n                minCols[j] = true;\n            }\n\n            if (null == max || array[i][j] &gt; max) {\n                maxRows = new boolean[rows];\n                maxRows[i] = true;\n                maxCols = new boolean[cols];\n                maxCols[j] = true;\n                max = array[i][j];\n            } else if (array[i][j] == max) {\n                maxRows[i] = true;\n                maxCols[j] = true;\n            }\n        }\n    }\n\n    int rowsToDelete = 0, colsToDelete = 0;\n    for (int i = 0; i &lt; rows; i++) {\n        if (minRows[i] || maxRows[i]) {\n            rowsToDelete++;\n        }\n    }\n    for (int i = 0; i &lt; cols; i++) {\n        if (minCols[i] || maxCols[i]) {\n            colsToDelete++;\n        }\n    }\n\n    if (rows == rowsToDelete || cols == colsToDelete) {\n        return new int[1][0];\n    }\n\n    int[][] result = new int[rows - rowsToDelete][cols - colsToDelete];\n\n    for (int i = 0, r = 0; i &lt; rows; i++) {\n        if (minRows[i] || maxRows[i])\n            continue; // пропустить строку, содержащую минимум или максимум\n        for (int j = 0, c = 0; j &lt; cols; j++) {\n            if (minCols[j] || maxCols[j])\n                continue; // пропустить столбец, содержащий минимум или максимум\n            result[r][c++] = array[i][j];\n        }\n        r++;\n    }\n    //out.println(Arrays.toString(array).replaceAll(&quot;^\\\\[|]$&quot;, &quot;&quot;));\n\n    return result;\n}\n</code></pre>\n<p>}</p>\n<p><a href=\"https://i.stack.imgur.com/omoMz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/omoMz.png\" alt=\"here we need write args\" /></a></p>\n"},{"tags":["java","list","stream","java-stream","iteration"],"owner":{"account_id":26912740,"reputation":1,"user_id":20488041,"display_name":"Apoorv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1668283341,"answer_count":0,"score":-1,"last_activity_date":1668283235,"creation_date":1668283235,"question_id":74416143,"body_markdown":"Suppose there is a list: infoList = {{&quot;Andy&quot;, 21, &quot;XYZ&quot;}, {&quot;Cole&quot;, 23, &quot;PQR&quot;}, {&quot;Zayn&quot;, 22, &quot;MNO&quot;}}\r\nI wish to create a list of names from the above list: nameList = {&quot;Andy&quot;, &quot;Cole&quot;, &quot;Zayn&quot;}\r\n\r\nUsing Iteration, we can get the list of names from infoList as follows:\r\n```\r\nList&lt;String&gt; nameList = new ArrayList&lt;&gt;();\r\nfor(Information i : infoList){\r\nnameList.add(i.name);\r\n}\r\n```\r\nCode for the same:\r\n\r\n```\r\nclass Information{\r\n  String name,\r\n  int age,\r\n  String address\r\n  Information(String name, int age, String address){\r\n    this.name = name;\r\n    this.age = age;\r\n    this.address = address;\r\n}}\r\n\r\npublic class Demo{\r\n  public static void main(String[] args){\r\n    List&lt;Information&gt; infoList = new ArrayList&lt;&gt;();\r\n    infoList.add(new Information(&quot;Andy&quot;, 21, &quot;XYZ&quot;));\r\n    infoList.add(new Information(&quot;Cody&quot;, 23, &quot;PQR&quot;));\r\n    infoList.add(new Information(&quot;Zayn&quot;, 22, &quot;MNO&quot;));\r\n    List&lt;String&gt; nameList = new ArrayList&lt;&gt;();\r\n    for(Information i : infoList){\r\n      nameList.add(i.name);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI wish to achieve the same using Streams. Please help me with this.","title":"There is a List of object A(which contains Objects B,C,D). I wish to create a list of object B. Can this be done using java Streams. If yes, then how?","body":"<p>Suppose there is a list: infoList = {{&quot;Andy&quot;, 21, &quot;XYZ&quot;}, {&quot;Cole&quot;, 23, &quot;PQR&quot;}, {&quot;Zayn&quot;, 22, &quot;MNO&quot;}}\nI wish to create a list of names from the above list: nameList = {&quot;Andy&quot;, &quot;Cole&quot;, &quot;Zayn&quot;}</p>\n<p>Using Iteration, we can get the list of names from infoList as follows:</p>\n<pre><code>List&lt;String&gt; nameList = new ArrayList&lt;&gt;();\nfor(Information i : infoList){\nnameList.add(i.name);\n}\n</code></pre>\n<p>Code for the same:</p>\n<pre><code>class Information{\n  String name,\n  int age,\n  String address\n  Information(String name, int age, String address){\n    this.name = name;\n    this.age = age;\n    this.address = address;\n}}\n\npublic class Demo{\n  public static void main(String[] args){\n    List&lt;Information&gt; infoList = new ArrayList&lt;&gt;();\n    infoList.add(new Information(&quot;Andy&quot;, 21, &quot;XYZ&quot;));\n    infoList.add(new Information(&quot;Cody&quot;, 23, &quot;PQR&quot;));\n    infoList.add(new Information(&quot;Zayn&quot;, 22, &quot;MNO&quot;));\n    List&lt;String&gt; nameList = new ArrayList&lt;&gt;();\n    for(Information i : infoList){\n      nameList.add(i.name);\n    }\n  }\n}\n</code></pre>\n<p>I wish to achieve the same using Streams. Please help me with this.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1668205327,"post_id":74408477,"comment_id":131357325,"body_markdown":"Maybe [this](https://stackoverflow.com/questions/35788856/spring-data-jpa-how-to-combine-multiple-and-and-or-through-method-name) helps","body":"Maybe <a href=\"https://stackoverflow.com/questions/35788856/spring-data-jpa-how-to-combine-multiple-and-and-or-through-method-name\">this</a> helps"},{"owner":{"account_id":7512109,"reputation":21,"user_id":5706726,"display_name":"Akash Phadtare"},"score":0,"creation_date":1668206075,"post_id":74408477,"comment_id":131357465,"body_markdown":"@Jens Could you please tell me how my method looks like ?","body":"@Jens Could you please tell me how my method looks like ?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1668206161,"post_id":74408477,"comment_id":131357497,"body_markdown":"I think `List&lt;Email&gt; findByAppnameAndStatusOrAppnameAndStatus(String appName1, String status1,String appName2, String status2)` where status 1 and status2 has the same value","body":"I think <code>List&lt;Email&gt; findByAppnameAndStatusOrAppnameAndStatus(String appName1, String status1,String appName2, String status2)</code> where status 1 and status2 has the same value"},{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1668251352,"post_id":74408477,"comment_id":131363116,"body_markdown":"It works in this case but if the logical expression becomes more complex the extra parameters may increase and the maintainability decrease.","body":"It works in this case but if the logical expression becomes more complex the extra parameters may increase and the maintainability decrease."}],"answers":[{"comments":[{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1668247848,"post_id":74408576,"comment_id":131362509,"body_markdown":"see https://stackoverflow.com/questions/10287971/spring-jpa-data-or-query","body":"see <a href=\"https://stackoverflow.com/questions/10287971/spring-jpa-data-or-query\" title=\"spring jpa data or query\">stackoverflow.com/questions/10287971/spring-jpa-data-or-quer&zwnj;&#8203;y</a>"},{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1668249354,"post_id":74408576,"comment_id":131362776,"body_markdown":"Could anyone help me finding what is wrong with this answer ?","body":"Could anyone help me finding what is wrong with this answer ?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1668260183,"post_id":74408576,"comment_id":131364729,"body_markdown":"That is clearly wrong. As you see in the link you provided","body":"That is clearly wrong. As you see in the link you provided"},{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1668271052,"post_id":74408576,"comment_id":131366921,"body_markdown":"I think that changing a boolean expression from (A1 or A2) and B to (A1 and B) or (A2 and B) is not a satifying maintenable solution when the corresponding method takes now 4 parameters instead of 3 ? How would we do if the expression was more complex ? In my opinion, changing the expression up to remove the need of brackets (relying only on the precedence rules) shows that you cannot manage the bracket levels with only a method name.","body":"I think that changing a boolean expression from (A1 or A2) and B to (A1 and B) or (A2 and B) is not a satifying maintenable solution when the corresponding method takes now 4 parameters instead of 3 ? How would we do if the expression was more complex ? In my opinion, changing the expression up to remove the need of brackets (relying only on the precedence rules) shows that you cannot manage the bracket levels with only a method name."}],"tags":[],"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668282952,"creation_date":1668204117,"answer_id":74408576,"question_id":74408477,"body_markdown":"With JpaRepository queries based on method name you cannot express any bracket setting. The underlying boolean expression will be analyzed from left to right applying the boolean operator precedence. If you need more complexity, you have to define the query with `@Query`.","title":"Spring data jpa - How to combine multiple Or Condition","body":"<p>With JpaRepository queries based on method name you cannot express any bracket setting. The underlying boolean expression will be analyzed from left to right applying the boolean operator precedence. If you need more complexity, you have to define the query with <code>@Query</code>.</p>\n"}],"owner":{"account_id":7512109,"reputation":21,"user_id":5706726,"display_name":"Akash Phadtare"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1329,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668282952,"creation_date":1668203374,"question_id":74408477,"body_markdown":"I want a method in jpa repository and it&#39;s work like: `select from abc.email e where (e.appname=&#39;facebook&#39; or e.appname=&#39;gmail&#39;) and e.status=&#39;Pending&#39;`\r\n\r\nFollowing is my current method in jpa repository:\r\n\r\n    List&lt;Email&gt; findByAppnameOrAppnameAndStatus(String appName1, String appName2, String status)\r\n\r\nBut it&#39;s not working as expected.\r\nIt&#39;s work like `select from abc.email e where e.appname=&#39;facebook&#39; or e.appname=&#39;gmail&#39; and e.status=&#39;Pending&#39;`\r\n\r\nHow I can add () bracket in jpa repository method?\r\n","title":"Spring data jpa - How to combine multiple Or Condition","body":"<p>I want a method in jpa repository and it's work like: <code>select from abc.email e where (e.appname='facebook' or e.appname='gmail') and e.status='Pending'</code></p>\n<p>Following is my current method in jpa repository:</p>\n<pre><code>List&lt;Email&gt; findByAppnameOrAppnameAndStatus(String appName1, String appName2, String status)\n</code></pre>\n<p>But it's not working as expected.\nIt's work like <code>select from abc.email e where e.appname='facebook' or e.appname='gmail' and e.status='Pending'</code></p>\n<p>How I can add () bracket in jpa repository method?</p>\n"},{"tags":["java","data-structures","collections","java-7"],"comments":[{"owner":{"account_id":309036,"reputation":7174,"user_id":621278,"display_name":"Anders Zommarin"},"score":4,"creation_date":1312401342,"post_id":6932358,"comment_id":8260924,"body_markdown":"As with all benchmarking you must test the performance characteristics that you are interested in. A winner for one kind of usage might be a looser for another. So ask yourself: What characteristics do I consider important and measure them!","body":"As with all benchmarking you must test the performance characteristics that you are interested in. A winner for one kind of usage might be a looser for another. So ask yourself: What characteristics do I consider important and measure them!"},{"owner":{"account_id":40652,"reputation":10480,"user_id":117802,"accept_rate":89,"display_name":"Roman Kagan"},"score":1,"creation_date":1312407685,"post_id":6932358,"comment_id":8262728,"body_markdown":"agree, also the convenience of utilizing one collection could outweigh the intention of shaving off couple of milliseconds for small subset of data.","body":"agree, also the convenience of utilizing one collection could outweigh the intention of shaving off couple of milliseconds for small subset of data."},{"owner":{"account_id":309036,"reputation":7174,"user_id":621278,"display_name":"Anders Zommarin"},"score":2,"creation_date":1312443159,"post_id":6932358,"comment_id":8268068,"body_markdown":"But still, it is probably so that you can identify some general use cases for collection classes - like &quot;fastest linked-list on non-synchronized inserts on 1 000 000 objects&quot; and others. Such measurements would be pretty generic.","body":"But still, it is probably so that you can identify some general use cases for collection classes - like &quot;fastest linked-list on non-synchronized inserts on 1 000 000 objects&quot; and others. Such measurements would be pretty generic."}],"answers":[{"comments":[{"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"score":2,"creation_date":1312470754,"post_id":6932414,"comment_id":8276435,"body_markdown":"Without the code, I would treat that paper as completely 100% useless, personally.","body":"Without the code, I would treat that paper as completely 100% useless, personally."},{"owner":{"account_id":21591,"reputation":15417,"user_id":52573,"accept_rate":85,"display_name":"nes1983"},"score":0,"creation_date":1312470982,"post_id":6932414,"comment_id":8276514,"body_markdown":"Just send the guy an email. Maybe, with some nudging, he&#39;ll put the code on github.","body":"Just send the guy an email. Maybe, with some nudging, he&#39;ll put the code on github."},{"owner":{"account_id":1840178,"reputation":1403,"user_id":1669747,"accept_rate":53,"display_name":"AKS"},"score":0,"creation_date":1360324369,"post_id":6932414,"comment_id":20678835,"body_markdown":"Well, I found it useful from performance perspective, and especially if you want to do sampling.","body":"Well, I found it useful from performance perspective, and especially if you want to do sampling."},{"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"score":0,"creation_date":1668281631,"post_id":6932414,"comment_id":131369047,"body_markdown":"The point is that we have no idea whether the methodology is sound.","body":"The point is that we have no idea whether the methodology is sound."}],"tags":[],"owner":{"account_id":21591,"reputation":15417,"user_id":52573,"accept_rate":85,"display_name":"nes1983"},"comment_count":4,"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1312401134,"creation_date":1312401134,"answer_id":6932414,"question_id":6932358,"body_markdown":"[There&#39;s a white paper on somebody benchmarking Java collections][1]. I didn&#39;t see any source code, though. \r\n\r\n\r\n  [1]: http://scrtchpad.files.wordpress.com/2008/10/java-collections-performance-evaluation.pdf","title":"What are the best practices for benchmarking different Java collections?","body":"<p><a href=\"http://scrtchpad.files.wordpress.com/2008/10/java-collections-performance-evaluation.pdf\" rel=\"nofollow\">There's a white paper on somebody benchmarking Java collections</a>. I didn't see any source code, though. </p>\n"},{"comments":[{"owner":{"account_id":21591,"reputation":15417,"user_id":52573,"accept_rate":85,"display_name":"nes1983"},"score":0,"creation_date":1312471018,"post_id":6943891,"comment_id":8276531,"body_markdown":"Well, those are tools to aid writing benchmarks. The benchmarks are still missing. Although one of the examples is an array sort benchmark.","body":"Well, those are tools to aid writing benchmarks. The benchmarks are still missing. Although one of the examples is an array sort benchmark."}],"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668281591,"creation_date":1312470633,"answer_id":6943891,"question_id":6932358,"body_markdown":"*Edit: JMH is better nowadays*\r\n\r\nCheck out [Caliper][1]. It will be having its 1.0 release this fall, but many people are already using it with good results (by building it from source; sorry).\r\n\r\nGlance over some of the ScareText at https://github.com/google/caliper/wiki/JavaMicrobenchmarks, though.\r\n\r\n\r\n  [1]: https://github.com/google/caliper","title":"What are the best practices for benchmarking different Java collections?","body":"<p><em>Edit: JMH is better nowadays</em></p>\n<p>Check out <a href=\"https://github.com/google/caliper\" rel=\"nofollow noreferrer\">Caliper</a>. It will be having its 1.0 release this fall, but many people are already using it with good results (by building it from source; sorry).</p>\n<p>Glance over some of the ScareText at <a href=\"https://github.com/google/caliper/wiki/JavaMicrobenchmarks\" rel=\"nofollow noreferrer\">https://github.com/google/caliper/wiki/JavaMicrobenchmarks</a>, though.</p>\n"}],"owner":{"account_id":40652,"reputation":10480,"user_id":117802,"accept_rate":89,"display_name":"Roman Kagan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1121,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":6932414,"answer_count":2,"score":11,"last_activity_date":1668281591,"creation_date":1312400845,"question_id":6932358,"body_markdown":"I have couple interesting Java collections in my hand such as:\r\n\r\n 1. http://code.google.com/p/guava-libraries/\r\n 2. Java 7\r\n 3. Java 7 concurrent collections\r\n 4. Scala collections\r\n 5. Homegrown collections that we have at some company\r\n\r\nI wonder what would be the best practices to test these API&#39;s, from a performance and scalability perspective, i.e. which one is fastest, most scalable, performant, etc.  Should I set with million(s) of random elements and use timer or something else?  Just wanted to satisfy my curiosity and see which one would win.","title":"What are the best practices for benchmarking different Java collections?","body":"<p>I have couple interesting Java collections in my hand such as:</p>\n\n<ol>\n<li><a href=\"http://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">http://code.google.com/p/guava-libraries/</a></li>\n<li>Java 7</li>\n<li>Java 7 concurrent collections</li>\n<li>Scala collections</li>\n<li>Homegrown collections that we have at some company</li>\n</ol>\n\n<p>I wonder what would be the best practices to test these API's, from a performance and scalability perspective, i.e. which one is fastest, most scalable, performant, etc.  Should I set with million(s) of random elements and use timer or something else?  Just wanted to satisfy my curiosity and see which one would win.</p>\n"},{"tags":["javascript","java","html","spring","spring-boot"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1668281548,"post_id":74415929,"comment_id":131369030,"body_markdown":"Did you already ask this or a similar question earlier today?","body":"Did you already ask this or a similar question earlier today?"},{"owner":{"account_id":26446486,"reputation":51,"user_id":20090266,"display_name":"Stefan Jankovic"},"score":0,"creation_date":1668281669,"post_id":74415929,"comment_id":131369057,"body_markdown":"Yes, I asked already, but there was almost no help so I thought maybe now someone see question and give help. I was trying to fix this by myself for previous three days and I&#39;m really desperate for help","body":"Yes, I asked already, but there was almost no help so I thought maybe now someone see question and give help. I was trying to fix this by myself for previous three days and I&#39;m really desperate for help"},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1668281757,"post_id":74415929,"comment_id":131369078,"body_markdown":"Does this answer your question? [How to override (disable) the &quot;submit&quot; behaviour of a button tag inside of a form tag?](https://stackoverflow.com/questions/5100696/how-to-override-disable-the-submit-behaviour-of-a-button-tag-inside-of-a-for)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5100696/how-to-override-disable-the-submit-behaviour-of-a-button-tag-inside-of-a-for\">How to override (disable) the &quot;submit&quot; behaviour of a button tag inside of a form tag?</a>"},{"owner":{"account_id":26446486,"reputation":51,"user_id":20090266,"display_name":"Stefan Jankovic"},"score":0,"creation_date":1668281851,"post_id":74415929,"comment_id":131369096,"body_markdown":"Unfortunately, no, I already came to it but no","body":"Unfortunately, no, I already came to it but no"},{"owner":{"account_id":26446486,"reputation":51,"user_id":20090266,"display_name":"Stefan Jankovic"},"score":0,"creation_date":1668282901,"post_id":74415929,"comment_id":131369326,"body_markdown":"Lmao, this site... As I said that question does not answer my question, its not even similar","body":"Lmao, this site... As I said that question does not answer my question, its not even similar"}],"owner":{"account_id":26446486,"reputation":51,"user_id":20090266,"display_name":"Stefan Jankovic"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1668282757,"answer_count":0,"score":0,"last_activity_date":1668281385,"creation_date":1668281385,"question_id":74415929,"body_markdown":"I have a controller that need to save some data on button click and stay on same page after it, but I have a problem, when I click on button nothing is saved in database, even controller is not called. \r\n\r\nThis is `controller:`\r\n\r\n    @PostMapping(&quot;/savedAdventureHolidays/post/{adventureHolidayId}&quot;)\r\n    public UserProfile saveAdventureHolidayElement(@PathVariable(value = &quot;adventureHolidayId&quot;) String adventureHolidayId) {\r\n        UserProfile comment = new UserProfile();\r\n\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        String username = authentication.getName();\r\n\r\n        return adventureHolidaysRepository.findById(adventureHolidayId).map(post -&gt; {\r\n            comment.setAdventureHolidaysList(Collections.singletonList(post));\r\n            comment.setLoggedUserId(username);\r\n            comment.setSavedHolidayTitle(adventureHolidaysRepository.findById(adventureHolidayId).get().getTitle());\r\n            logger.info(&quot;Calling method.&quot;);\r\n            return userProfileRepository.save(comment);\r\n        }).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;PostId &quot; + adventureHolidayId + &quot; not found&quot;));\r\n    }\r\n\r\nThis is `HTML button:`\r\n\r\n     &lt;form id=&quot;tweet-form&quot; th:action=&quot;@{/api/userProfile/savedAdventureHolidays} + &#39;{/post/}&#39;+ ${randomSummerCamp.id}&quot;\r\n                  th:method=&quot;post&quot;&gt;\r\n                &lt;input id=&quot;submit-form&quot; class=&quot;form-control&quot; type=&quot;button&quot; value=&quot;Submit&quot; /&gt;\r\n            &lt;/form&gt;\r\n\r\nAnd this is JS:\r\n\r\n    $(&#39;#submit-form&#39;).on(&#39;click&#39;, function() {\r\n    var form = $(&#39;#tweet-form&#39;);\r\n    let post;\r\n    $.ajax({\r\n        url: form.attr(&#39;action&#39;),\r\n        data: form.serialize(),\r\n        type: post,\r\n        success: function(result) {\r\n            // Do something with the response.\r\n            // Might want to check for errors here.\r\n        }, error: function(error) {\r\n            // Here you can handle exceptions thrown by the server or your controller.\r\n        }\r\n    })\r\n    })\r\n\r\nNo errors in IDE, no errors in console log, any idea how I can fix this, or someone already has something like this and can give me a advice how to fix it? Trying for couple of days and I&#39;m really feel demotivated, thanks.\r\n\r\n","title":"Stay on same page but process submit button","body":"<p>I have a controller that need to save some data on button click and stay on same page after it, but I have a problem, when I click on button nothing is saved in database, even controller is not called.</p>\n<p>This is <code>controller:</code></p>\n<pre><code>@PostMapping(&quot;/savedAdventureHolidays/post/{adventureHolidayId}&quot;)\npublic UserProfile saveAdventureHolidayElement(@PathVariable(value = &quot;adventureHolidayId&quot;) String adventureHolidayId) {\n    UserProfile comment = new UserProfile();\n\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    String username = authentication.getName();\n\n    return adventureHolidaysRepository.findById(adventureHolidayId).map(post -&gt; {\n        comment.setAdventureHolidaysList(Collections.singletonList(post));\n        comment.setLoggedUserId(username);\n        comment.setSavedHolidayTitle(adventureHolidaysRepository.findById(adventureHolidayId).get().getTitle());\n        logger.info(&quot;Calling method.&quot;);\n        return userProfileRepository.save(comment);\n    }).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;PostId &quot; + adventureHolidayId + &quot; not found&quot;));\n}\n</code></pre>\n<p>This is <code>HTML button:</code></p>\n<pre><code> &lt;form id=&quot;tweet-form&quot; th:action=&quot;@{/api/userProfile/savedAdventureHolidays} + '{/post/}'+ ${randomSummerCamp.id}&quot;\n              th:method=&quot;post&quot;&gt;\n            &lt;input id=&quot;submit-form&quot; class=&quot;form-control&quot; type=&quot;button&quot; value=&quot;Submit&quot; /&gt;\n        &lt;/form&gt;\n</code></pre>\n<p>And this is JS:</p>\n<pre><code>$('#submit-form').on('click', function() {\nvar form = $('#tweet-form');\nlet post;\n$.ajax({\n    url: form.attr('action'),\n    data: form.serialize(),\n    type: post,\n    success: function(result) {\n        // Do something with the response.\n        // Might want to check for errors here.\n    }, error: function(error) {\n        // Here you can handle exceptions thrown by the server or your controller.\n    }\n})\n})\n</code></pre>\n<p>No errors in IDE, no errors in console log, any idea how I can fix this, or someone already has something like this and can give me a advice how to fix it? Trying for couple of days and I'm really feel demotivated, thanks.</p>\n"},{"tags":["java","thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":25042600,"reputation":1,"user_id":18899321,"display_name":"Cuneyt YAZ"},"score":0,"creation_date":1668360406,"post_id":74415909,"comment_id":131380930,"body_markdown":"Thank you. My bad :) easy as that right :)","body":"Thank you. My bad :) easy as that right :)"}],"tags":[],"owner":{"account_id":26912724,"reputation":1,"user_id":20488027,"display_name":"Mohammed Al Mostafa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668281227,"creation_date":1668281227,"answer_id":74415909,"question_id":74415808,"body_markdown":"You Can Move Close Tag Of (form) After Submit Button It Will Work Like This \r\n\r\n   \r\n\r\n         &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Student Management System&lt;/title&gt;\r\n    &lt;link rel=&quot;stylesheet&quot;\r\n        href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css&quot;\r\n        integrity=&quot;sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh&quot;\r\n        crossorigin=&quot;anonymous&quot;&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \r\n        &lt;div class=&quot;container&quot;&gt;\r\n            &lt;div class=&quot;row&quot;&gt;\r\n                &lt;div\r\n                    class=&quot;col-lg-6 col-md-6 col-sm-6 container justify-content-center card&quot;&gt;\r\n                    &lt;h1 class=&quot;text-center&quot;&gt;Create New Student&lt;/h1&gt;\r\n                    &lt;div class=&quot;card-body&quot;&gt;&lt;/div&gt;\r\n                    &lt;form th:action=&quot;@{/students}&quot; th:object=&quot;${student}&quot; method=&quot;POST&quot;&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label&gt;Student First Name&lt;/label&gt; &lt;input type=&quot;text&quot;\r\n                            name=&quot;firstName&quot; th:field=&quot;*{student.firstName}&quot; class=&quot;form-control&quot;\r\n                            placeholder=&quot;Enter Student First Name&quot; /&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label&gt;Student Last Name&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;lastName&quot;\r\n                            th:field=&quot;*{student.lastName}&quot; class=&quot;form-control&quot;\r\n                            placeholder=&quot;Enter Student Last Name&quot; /&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label&gt;Student Email&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;email&quot;\r\n                            th:field=&quot;*{student.email}&quot; class=&quot;form-control&quot;\r\n                            placeholder=&quot;Enter Student Email&quot; /&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;box-footer&quot;&gt;\r\n                        &lt;button class=&quot;btn btn-primary&quot; type=&quot;submit&quot;    value=&quot;submit&quot;&gt;Submit&lt;/button&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;/form&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n    \r\n        &lt;/div&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;","title":"Submit button doesn&#39;t redirect to the main page &quot;/students&quot;","body":"<p>You Can Move Close Tag Of (form) After Submit Button It Will Work Like This</p>\n<pre><code>     &lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;title&gt;Student Management System&lt;/title&gt;\n&lt;link rel=&quot;stylesheet&quot;\n    href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css&quot;\n    integrity=&quot;sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh&quot;\n    crossorigin=&quot;anonymous&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;div class=&quot;container&quot;&gt;\n        &lt;div class=&quot;row&quot;&gt;\n            &lt;div\n                class=&quot;col-lg-6 col-md-6 col-sm-6 container justify-content-center card&quot;&gt;\n                &lt;h1 class=&quot;text-center&quot;&gt;Create New Student&lt;/h1&gt;\n                &lt;div class=&quot;card-body&quot;&gt;&lt;/div&gt;\n                &lt;form th:action=&quot;@{/students}&quot; th:object=&quot;${student}&quot; method=&quot;POST&quot;&gt;\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label&gt;Student First Name&lt;/label&gt; &lt;input type=&quot;text&quot;\n                        name=&quot;firstName&quot; th:field=&quot;*{student.firstName}&quot; class=&quot;form-control&quot;\n                        placeholder=&quot;Enter Student First Name&quot; /&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label&gt;Student Last Name&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;lastName&quot;\n                        th:field=&quot;*{student.lastName}&quot; class=&quot;form-control&quot;\n                        placeholder=&quot;Enter Student Last Name&quot; /&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label&gt;Student Email&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;email&quot;\n                        th:field=&quot;*{student.email}&quot; class=&quot;form-control&quot;\n                        placeholder=&quot;Enter Student Email&quot; /&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;box-footer&quot;&gt;\n                    &lt;button class=&quot;btn btn-primary&quot; type=&quot;submit&quot;    value=&quot;submit&quot;&gt;Submit&lt;/button&gt;\n                &lt;/div&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}],"owner":{"account_id":25042600,"reputation":1,"user_id":18899321,"display_name":"Cuneyt YAZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668281227,"creation_date":1668280224,"question_id":74415808,"body_markdown":"Here is my html page I couldn&#39;t really find the error here. Submit button doesn&#39;t work. Instructoins were clear somehow I think I am missing something. I tried to change the $ sign with * but still doest work even though I knew that wasn&#39;t really the problem here. Any feedback is very welcomed.\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n&lt;title&gt;Student Management System&lt;/title&gt;\r\n&lt;link rel=&quot;stylesheet&quot;\r\n\thref=&quot;https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css&quot;\r\n\tintegrity=&quot;sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh&quot;\r\n\tcrossorigin=&quot;anonymous&quot;&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n\t&lt;div class=&quot;container&quot;&gt;\r\n\t\t&lt;div class=&quot;row&quot;&gt;\r\n\t\t\t&lt;div\r\n\t\t\t\tclass=&quot;col-lg-6 col-md-6 col-sm-6 container justify-content-center card&quot;&gt;\r\n\t\t\t\t&lt;h1 class=&quot;text-center&quot;&gt;Create New Student&lt;/h1&gt;\r\n\t\t\t\t&lt;div class=&quot;card-body&quot;&gt;&lt;/div&gt;\r\n\t\t\t\t&lt;form th:action=&quot;@{/students}&quot; th:object=&quot;${student}&quot; method=&quot;POST&quot;&gt;&lt;/form&gt;\r\n\t\t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t\t\t\t\t&lt;label&gt;Student First Name&lt;/label&gt; &lt;input type=&quot;text&quot;\r\n\t\t\t\t\t\tname=&quot;firstName&quot; th:field=&quot;*{student.firstName}&quot; class=&quot;form-control&quot;\r\n\t\t\t\t\t\tplaceholder=&quot;Enter Student First Name&quot; /&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t\t\t\t\t&lt;label&gt;Student Last Name&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;lastName&quot;\r\n\t\t\t\t\t\tth:field=&quot;*{student.lastName}&quot; class=&quot;form-control&quot;\r\n\t\t\t\t\t\tplaceholder=&quot;Enter Student Last Name&quot; /&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n\t\t\t\t\t&lt;label&gt;Student Email&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;email&quot;\r\n\t\t\t\t\t\tth:field=&quot;*{student.email}&quot; class=&quot;form-control&quot;\r\n\t\t\t\t\t\tplaceholder=&quot;Enter Student Email&quot; /&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t&lt;div class=&quot;box-footer&quot;&gt;\r\n\t\t\t\t\t&lt;button class=&quot;btn btn-primary&quot; type=&quot;submit&quot;    value=&quot;submit&quot;&gt;Submit&lt;/button&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t&lt;/div&gt;\r\n\r\n\t&lt;/div&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\nI tried to change the $ sign with * but still doest work even though I knew that wasn&#39;t really the problem here. Any feedback is very welcomed.","title":"Submit button doesn&#39;t redirect to the main page &quot;/students&quot;","body":"<p>Here is my html page I couldn't really find the error here. Submit button doesn't work. Instructoins were clear somehow I think I am missing something. I tried to change the $ sign with * but still doest work even though I knew that wasn't really the problem here. Any feedback is very welcomed.</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;title&gt;Student Management System&lt;/title&gt;\n&lt;link rel=&quot;stylesheet&quot;\n    href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css&quot;\n    integrity=&quot;sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh&quot;\n    crossorigin=&quot;anonymous&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;div class=&quot;container&quot;&gt;\n        &lt;div class=&quot;row&quot;&gt;\n            &lt;div\n                class=&quot;col-lg-6 col-md-6 col-sm-6 container justify-content-center card&quot;&gt;\n                &lt;h1 class=&quot;text-center&quot;&gt;Create New Student&lt;/h1&gt;\n                &lt;div class=&quot;card-body&quot;&gt;&lt;/div&gt;\n                &lt;form th:action=&quot;@{/students}&quot; th:object=&quot;${student}&quot; method=&quot;POST&quot;&gt;&lt;/form&gt;\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label&gt;Student First Name&lt;/label&gt; &lt;input type=&quot;text&quot;\n                        name=&quot;firstName&quot; th:field=&quot;*{student.firstName}&quot; class=&quot;form-control&quot;\n                        placeholder=&quot;Enter Student First Name&quot; /&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label&gt;Student Last Name&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;lastName&quot;\n                        th:field=&quot;*{student.lastName}&quot; class=&quot;form-control&quot;\n                        placeholder=&quot;Enter Student Last Name&quot; /&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label&gt;Student Email&lt;/label&gt; &lt;input type=&quot;text&quot; name=&quot;email&quot;\n                        th:field=&quot;*{student.email}&quot; class=&quot;form-control&quot;\n                        placeholder=&quot;Enter Student Email&quot; /&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;box-footer&quot;&gt;\n                    &lt;button class=&quot;btn btn-primary&quot; type=&quot;submit&quot;    value=&quot;submit&quot;&gt;Submit&lt;/button&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I tried to change the $ sign with * but still doest work even though I knew that wasn't really the problem here. Any feedback is very welcomed.</p>\n"},{"tags":["java","spring-boot","jaxb","cxf","spring-cloud-feign"],"answers":[{"tags":[],"owner":{"account_id":3840303,"reputation":51,"user_id":3183614,"display_name":"PPeter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668281155,"creation_date":1668281155,"answer_id":74415901,"question_id":73035023,"body_markdown":"The default `SOAPDecoder` in OpenFeign does not handle MTOM correctly. To make it work, 2 changes need to be implemented:\r\n\r\n- propagate `MimeHeaders` to the `SOAPMessage`, as described in this Github issue https://github.com/OpenFeign/feign/issues/1732\r\n- add an `AttachmentUnmarshaller` to the JAXB `Unmarshaller`, as described here https://stackoverflow.com/questions/24407360/unmarshalling-xop-with-jaxb/24417032#24417032","title":"Not able to extract cid/attachment/binary data from WebService call |Spring Cloud feign |Apach cxf|Spring boot","body":"<p>The default <code>SOAPDecoder</code> in OpenFeign does not handle MTOM correctly. To make it work, 2 changes need to be implemented:</p>\n<ul>\n<li>propagate <code>MimeHeaders</code> to the <code>SOAPMessage</code>, as described in this Github issue <a href=\"https://github.com/OpenFeign/feign/issues/1732\" rel=\"nofollow noreferrer\">https://github.com/OpenFeign/feign/issues/1732</a></li>\n<li>add an <code>AttachmentUnmarshaller</code> to the JAXB <code>Unmarshaller</code>, as described here <a href=\"https://stackoverflow.com/questions/24407360/unmarshalling-xop-with-jaxb/24417032#24417032\">Unmarshalling XOP with JAXB</a></li>\n</ul>\n"}],"owner":{"account_id":13114695,"reputation":11,"user_id":9474331,"display_name":"Rohit yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668281155,"creation_date":1658225430,"question_id":73035023,"body_markdown":"&gt; I have a PersonProxy which contains one method which invokes third party webservice.\r\n&gt;AttachmentResponse is a wsdl generated class\r\n&gt;Decoder is configured to decode the response into Wsdl generated class.\r\n&gt; I have written an api which calls PersonProxy class method to get the response.\r\n&gt; While unmarshalling in decoder, in AttachmentResponse _return is coming as null.\r\n&gt;Not able to fetch binary data in _return variable.Please help on this       \r\n  \r\n\r\n      @FeignClient(name = &quot;PersonProxyWebService&quot;, url = &quot;${url}&quot;,configuration = ServiceConfiguration.class)\r\n        public interface PersonProxy {\r\n        \r\n        \t@GetMapping(value = &quot;&quot;, consumes = MediaType.TEXT_XML_VALUE, produces = {MediaType.APPLICATION_OCTET_STREAM_VALUE})\r\n        \tAttachmentResponse getResultAttachment(Long attachementId);\r\n        }\r\n    \r\n      \r\n\r\n    \r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n        @XmlType(name = &quot;attachmentResponse&quot;, propOrder = {\r\n            &quot;_return&quot;\r\n        })\r\n        @XmlRootElement(name = &quot;attachmentResponse&quot;)\r\n        public class AttachmentResponse {\r\n        \r\n            @XmlElement(name = &quot;return&quot;)\r\n            protected byte[] _return;\r\n        \t//getter and setter \r\n        }\r\n\r\n     \r\n\r\n       public class SOAPDecoder implements Decoder {\r\n        \r\n          @Override\r\n          public Object decode(Response response, Type type) throws IOException {\r\n            if (response.status() == 404)\r\n              return Util.emptyValueOf(type);\r\n            if (response.body() == null)\r\n              return null;\r\n            while (type instanceof ParameterizedType) {\r\n              ParameterizedType ptype = (ParameterizedType) type;\r\n              type = ptype.getRawType();\r\n            }\r\n            if (!(type instanceof Class)) {\r\n              throw new UnsupportedOperationException(\r\n                  &quot;SOAP only supports decoding raw types. Found &quot; + type);\r\n            }\r\n        \r\n            try (Scanner scanner = new Scanner(response.body().asInputStream())) {\r\n             Optional&lt;String&gt; soapEnvOpt= scanner.findAll(pattern).map(f-&gt;f.group(1)).findFirst();\r\n              if(soapEnvOpt.isPresent()) {\r\n        \t      SOAPMessage message =  MessageFactory.newInstance(soapProtocol).createMessage(null,new ByteArrayInputStream(soapEnvOpt.get().getBytes()));\r\n        \t      if (message.getSOAPBody() != null) {\r\n        \t        if (message.getSOAPBody().hasFault()) {\r\n        \t          throw new SOAPFaultException(message.getSOAPBody().getFault());\r\n        \t        }\r\n        \t       \r\n        \t        Unmarshaller unmarshaller = jaxbContextFactory.createUnmarshaller((Class&lt;?&gt;) type);\r\n        \t        if (this.useFirstChild) {\r\n        \t          return unmarshaller.unmarshal(message.getSOAPBody().getFirstChild());\r\n        \t        } else {\r\n        \t          return unmarshaller.unmarshal(message.getSOAPBody().extractContentAsDocument());\r\n        \t        }\r\n        \t      }\r\n              }\r\n            } catch (SOAPException | JAXBException e) {\r\n              throw new DecodeException(response.status(), e.toString(), response.request(), e);\r\n            } finally {\r\n              if (response.body() != null) {\r\n                response.body().close();\r\n              }\r\n            }\r\n            return Util.emptyValueOf(type);\r\n        \r\n          }\r\n        }\r\n &gt;&gt;&gt;On debug mode response is coming like this but return field is coming &gt;&gt;&gt;null in Wsdl generated class .     \r\n&gt;How to map contentId (cid) on client side to extract binary data?\r\n   \r\n\r\n      &lt;soap:Envelope\r\n        \txmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n        \t&lt;soap:Body&gt;\r\n        \t\t&lt;ns2:attachmentResponse&gt;\r\n        \t\t\txmlns:ns2=&quot;http://mscs.com/emr&quot;&gt;\r\n        \t\t\t&lt;return&gt;\r\n        \t\t\t\t&lt;xop:Include\r\n        \t\t\t\t\txmlns:xop=&quot;http://www.w3.org/2004/08/xop/include&quot; href=&quot;cid:180aba29-24c2-44cd-b0a5-63a3b5ff4189-5@cxf.apache.org&quot;/&gt;\r\n        \t\t\t\t&lt;/return&gt;\r\n        \t\t\t&lt;/ns2:attachmentResponse&gt;\r\n        \t\t&lt;/soap:Body&gt;\r\n        \t&lt;/soap:Envelope&gt;\r\n           \r\n        \t\r\n        \t\r\n        \r\n        \t\r\n        \t\r\n\r\n\r\n\r\n\r\n","title":"Not able to extract cid/attachment/binary data from WebService call |Spring Cloud feign |Apach cxf|Spring boot","body":"<blockquote>\n<p>I have a PersonProxy which contains one method which invokes third party webservice.\nAttachmentResponse is a wsdl generated class\nDecoder is configured to decode the response into Wsdl generated class.\nI have written an api which calls PersonProxy class method to get the response.\nWhile unmarshalling in decoder, in AttachmentResponse _return is coming as null.\nNot able to fetch binary data in _return variable.Please help on this</p>\n</blockquote>\n<pre><code>  @FeignClient(name = &quot;PersonProxyWebService&quot;, url = &quot;${url}&quot;,configuration = ServiceConfiguration.class)\n    public interface PersonProxy {\n    \n        @GetMapping(value = &quot;&quot;, consumes = MediaType.TEXT_XML_VALUE, produces = {MediaType.APPLICATION_OCTET_STREAM_VALUE})\n        AttachmentResponse getResultAttachment(Long attachementId);\n    }\n\n  \n\n\n@XmlAccessorType(XmlAccessType.FIELD)\n    @XmlType(name = &quot;attachmentResponse&quot;, propOrder = {\n        &quot;_return&quot;\n    })\n    @XmlRootElement(name = &quot;attachmentResponse&quot;)\n    public class AttachmentResponse {\n    \n        @XmlElement(name = &quot;return&quot;)\n        protected byte[] _return;\n        //getter and setter \n    }\n\n \n\n   public class SOAPDecoder implements Decoder {\n    \n      @Override\n      public Object decode(Response response, Type type) throws IOException {\n        if (response.status() == 404)\n          return Util.emptyValueOf(type);\n        if (response.body() == null)\n          return null;\n        while (type instanceof ParameterizedType) {\n          ParameterizedType ptype = (ParameterizedType) type;\n          type = ptype.getRawType();\n        }\n        if (!(type instanceof Class)) {\n          throw new UnsupportedOperationException(\n              &quot;SOAP only supports decoding raw types. Found &quot; + type);\n        }\n    \n        try (Scanner scanner = new Scanner(response.body().asInputStream())) {\n         Optional&lt;String&gt; soapEnvOpt= scanner.findAll(pattern).map(f-&gt;f.group(1)).findFirst();\n          if(soapEnvOpt.isPresent()) {\n              SOAPMessage message =  MessageFactory.newInstance(soapProtocol).createMessage(null,new ByteArrayInputStream(soapEnvOpt.get().getBytes()));\n              if (message.getSOAPBody() != null) {\n                if (message.getSOAPBody().hasFault()) {\n                  throw new SOAPFaultException(message.getSOAPBody().getFault());\n                }\n               \n                Unmarshaller unmarshaller = jaxbContextFactory.createUnmarshaller((Class&lt;?&gt;) type);\n                if (this.useFirstChild) {\n                  return unmarshaller.unmarshal(message.getSOAPBody().getFirstChild());\n                } else {\n                  return unmarshaller.unmarshal(message.getSOAPBody().extractContentAsDocument());\n                }\n              }\n          }\n        } catch (SOAPException | JAXBException e) {\n          throw new DecodeException(response.status(), e.toString(), response.request(), e);\n        } finally {\n          if (response.body() != null) {\n            response.body().close();\n          }\n        }\n        return Util.emptyValueOf(type);\n    \n      }\n    }\n</code></pre>\n<blockquote>\n<blockquote>\n<blockquote>\n<p>On debug mode response is coming like this but return field is coming &gt;&gt;&gt;null in Wsdl generated class .<br />\nHow to map contentId (cid) on client side to extract binary data?</p>\n</blockquote>\n</blockquote>\n</blockquote>\n<pre><code>  &lt;soap:Envelope\n        xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n        &lt;soap:Body&gt;\n            &lt;ns2:attachmentResponse&gt;\n                xmlns:ns2=&quot;http://mscs.com/emr&quot;&gt;\n                &lt;return&gt;\n                    &lt;xop:Include\n                        xmlns:xop=&quot;http://www.w3.org/2004/08/xop/include&quot; href=&quot;cid:180aba29-24c2-44cd-b0a5-63a3b5ff4189-5@cxf.apache.org&quot;/&gt;\n                    &lt;/return&gt;\n                &lt;/ns2:attachmentResponse&gt;\n            &lt;/soap:Body&gt;\n        &lt;/soap:Envelope&gt;\n       \n        \n        \n    \n        \n        \n</code></pre>\n"},{"tags":["java","simulation","anylogic"],"answers":[{"comments":[{"owner":{"account_id":19692734,"reputation":98,"user_id":14417296,"display_name":"Ignacio Aristimu&#241;o"},"score":0,"creation_date":1602449278,"post_id":64274654,"comment_id":113717172,"body_markdown":"Thank you very much Benjamin! I thought the lightbulb was just a warning but It helped us to solve the problem, thank you for taking your time to answer this question and the incredible article provided! We spent several days looking for the solution but it was right in front of us :)\n\nWe will take your advice and upgrade it and, for other people with the same issue, if the lightbulb does not show any commands if you are on hover with the mouse, use Ctrl+Enter and it may show these commands.","body":"Thank you very much Benjamin! I thought the lightbulb was just a warning but It helped us to solve the problem, thank you for taking your time to answer this question and the incredible article provided! We spent several days looking for the solution but it was right in front of us :)  We will take your advice and upgrade it and, for other people with the same issue, if the lightbulb does not show any commands if you are on hover with the mouse, use Ctrl+Enter and it may show these commands."},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1602485934,"post_id":64274654,"comment_id":113724438,"body_markdown":"@IgnacioAristimu&#241;o Glad the answer was helpful. Please upvote this answer as “useful” (up-arrow next to the answer) to help other users find it in the future as well. See https://stackoverflow.com/help/why-vote for more info on how SOF works :)","body":"@IgnacioAristimu&#241;o Glad the answer was helpful. Please upvote this answer as “useful” (up-arrow next to the answer) to help other users find it in the future as well. See <a href=\"https://stackoverflow.com/help/why-vote\">stackoverflow.com/help/why-vote</a> for more info on how SOF works :)"}],"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1602223063,"creation_date":1602223063,"answer_id":64274654,"question_id":64272747,"body_markdown":"You are using a very old AnyLogic version that still applies the old process-modelling library where entities are NOT actual agents. Instead of `agent` you could try `entity`. \r\n\r\nIn the fields causing the errors (where you typed `agent`), is there a small &quot;lightbulb&quot; when you have the cursor in the field? If so, what keywords does it allow you to write? Please see [this article][1] to understand what I am talking about\r\n\r\nStrongly suggest you upgrade asap :)\r\n\r\n  [1]: https://www.benjamin-schumann.com/blog/2016/2/4/the-magic-lightbulb-and-how-it-can-help-your-anylogic-modelling","title":"Priority-based queueing in AnyLogic","body":"<p>You are using a very old AnyLogic version that still applies the old process-modelling library where entities are NOT actual agents. Instead of <code>agent</code> you could try <code>entity</code>.</p>\n<p>In the fields causing the errors (where you typed <code>agent</code>), is there a small &quot;lightbulb&quot; when you have the cursor in the field? If so, what keywords does it allow you to write? Please see <a href=\"https://www.benjamin-schumann.com/blog/2016/2/4/the-magic-lightbulb-and-how-it-can-help-your-anylogic-modelling\" rel=\"nofollow noreferrer\">this article</a> to understand what I am talking about</p>\n<p>Strongly suggest you upgrade asap :)</p>\n"}],"owner":{"account_id":19692734,"reputation":98,"user_id":14417296,"display_name":"Ignacio Aristimu&#241;o"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64274654,"answer_count":1,"score":0,"last_activity_date":1668281069,"creation_date":1602206879,"question_id":64272747,"body_markdown":"I&#39;m new in **AnyLogic** and I&#39;m developing a model for a real Emergency Department. I have developed almost everything I need, however I&#39;m having trouble with **priority queueing**. In our model we have 2 different priorities for patients (red and yellow), where red has a higher priority in queueing. For example, if a yellow-priority patient and a red-priority patient are both in queue for going to the X-ray, the red should be picked first (Priority-based queueing NOT LIFO).\r\n\r\nI saw a lot of posts that explained how to do this but none of them worked for me. I tried making a *parameter* called &quot;priority&quot; within the &quot;Patient&quot; agent and using &quot;agent.priority=1;&quot; for assigning priorities on the exit of a *SelectOutput* and then selecting the &quot;Priority-based&quot; option in the *Queue* but that doesn&#39;t seem to work as I get the following error:\r\n\r\n[Queue priority][1]\r\n\r\n[Output priority][2]\r\n\r\n[Errors][3]\r\n\r\n  [1]: https://i.stack.imgur.com/YT8wu.png\r\n  [2]: https://i.stack.imgur.com/bvmmR.png\r\n  [3]: https://i.stack.imgur.com/EkOkj.png\r\n\r\nI also tried typing &quot;patient.priority=2;&quot; instead of &quot;agent.priority=2;&quot;, also using a variable instead of a parameter, and also initializing the variable&#39;s value with the following formula: uniform() &lt; 0.7 = 1 : 3. But this didn&#39;t worked.\r\n\r\nDoes anyone know how to use priority-based queueing or some sort of walkaround I could use? It&#39;s for my final project for becoming an engineer!\r\n\r\nThe version I&#39;m using is AnyLogic Professional 7.0.2\r\n\r\nThank you very much for your time!\r\n","title":"Priority-based queueing in AnyLogic","body":"<p>I'm new in <strong>AnyLogic</strong> and I'm developing a model for a real Emergency Department. I have developed almost everything I need, however I'm having trouble with <strong>priority queueing</strong>. In our model we have 2 different priorities for patients (red and yellow), where red has a higher priority in queueing. For example, if a yellow-priority patient and a red-priority patient are both in queue for going to the X-ray, the red should be picked first (Priority-based queueing NOT LIFO).</p>\n<p>I saw a lot of posts that explained how to do this but none of them worked for me. I tried making a <em>parameter</em> called &quot;priority&quot; within the &quot;Patient&quot; agent and using &quot;agent.priority=1;&quot; for assigning priorities on the exit of a <em>SelectOutput</em> and then selecting the &quot;Priority-based&quot; option in the <em>Queue</em> but that doesn't seem to work as I get the following error:</p>\n<p><a href=\"https://i.stack.imgur.com/YT8wu.png\" rel=\"nofollow noreferrer\">Queue priority</a></p>\n<p><a href=\"https://i.stack.imgur.com/bvmmR.png\" rel=\"nofollow noreferrer\">Output priority</a></p>\n<p><a href=\"https://i.stack.imgur.com/EkOkj.png\" rel=\"nofollow noreferrer\">Errors</a></p>\n<p>I also tried typing &quot;patient.priority=2;&quot; instead of &quot;agent.priority=2;&quot;, also using a variable instead of a parameter, and also initializing the variable's value with the following formula: uniform() &lt; 0.7 = 1 : 3. But this didn't worked.</p>\n<p>Does anyone know how to use priority-based queueing or some sort of walkaround I could use? It's for my final project for becoming an engineer!</p>\n<p>The version I'm using is AnyLogic Professional 7.0.2</p>\n<p>Thank you very much for your time!</p>\n"},{"tags":["java","netbeans","mouseevent","timertask"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1666715251,"post_id":74197258,"comment_id":131000373,"body_markdown":"The short answer is you have to make `a` final.  The longer answer is you can&#39;t do that so you need a variable inside the anonymous class instead.","body":"The short answer is you have to make <code>a</code> final.  The longer answer is you can&#39;t do that so you need a variable inside the anonymous class instead."}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668280562,"creation_date":1666715328,"answer_id":74197344,"question_id":74197258,"body_markdown":"Not tested, but I think this will work.\r\n\r\n        private void timerStartMouseClicked(java.awt.event.MouseEvent evt) {                                        \r\n            final int a = Integer.parseInt(timerInput.getText());\r\n            Timer timer = new Timer();\r\n            TimerTask task = new TimerTask() {    \r\n                int localCount = a;     \r\n                public void run() {  \r\n                    timeLeft.setText(Integer.toString(localCount));\r\n                    --localCount;\r\n                    if (localCount == -1){\r\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\r\n                        timer.cancel();                                       \r\n                    } else if(isRunning){\r\n    \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\r\n                    }\r\n                }\r\n            };\r\n        timer.scheduleAtFixedRate(task, 1000, 1000);\r\n      \r\nWhat&#39;s going on is that `a` is a local variable and is going to vanish into the ether when this method ends, therefore it&#39;s not safe to use.  If the variable is `final` then it&#39;s safe for Java to copy the value of `a` into your inner class.  However you need to modify `a` so a constant value won&#39;t work.\r\n\r\nSo we just copy the value into a different variable, one *inside* the inner class.  This makes everything work fine, because now the inner class has its own variable to work with.\r\n","title":"&quot;local variables referenced from an inner class must be final or effectively final&quot; in MouseEvent","body":"<p>Not tested, but I think this will work.</p>\n<pre><code>    private void timerStartMouseClicked(java.awt.event.MouseEvent evt) {                                        \n        final int a = Integer.parseInt(timerInput.getText());\n        Timer timer = new Timer();\n        TimerTask task = new TimerTask() {    \n            int localCount = a;     \n            public void run() {  \n                timeLeft.setText(Integer.toString(localCount));\n                --localCount;\n                if (localCount == -1){\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                    timer.cancel();                                       \n                } else if(isRunning){\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                }\n            }\n        };\n    timer.scheduleAtFixedRate(task, 1000, 1000);\n  \n</code></pre>\n<p>What's going on is that <code>a</code> is a local variable and is going to vanish into the ether when this method ends, therefore it's not safe to use.  If the variable is <code>final</code> then it's safe for Java to copy the value of <code>a</code> into your inner class.  However you need to modify <code>a</code> so a constant value won't work.</p>\n<p>So we just copy the value into a different variable, one <em>inside</em> the inner class.  This makes everything work fine, because now the inner class has its own variable to work with.</p>\n"}],"owner":{"account_id":26698973,"reputation":3,"user_id":20306341,"display_name":"Regular Lime"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74197344,"answer_count":1,"score":-1,"last_activity_date":1668280562,"creation_date":1666714968,"question_id":74197258,"body_markdown":"I am trying to get the integer input from a jtextfield and set it as the integer for a timer jlabel when the jbutton is clicked but I keep getting this error inside the MouseEvent method\r\n\r\n&gt; local variables referenced from an inner class must be final or effectively final\r\n\r\nCode:\r\n```\r\n    private void timerStartMouseClicked(java.awt.event.MouseEvent evt) {                                        \r\n        int a = Integer.parseInt(timerInput.getText());\r\n        Timer timer = new Timer();\r\n        TimerTask task = new TimerTask() {         \r\n            public void run() {  \r\n                timeLeft.setText(Integer.toString(a));\r\n                --a;\r\n                if (a == -1){\r\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\r\n                    timer.cancel();                                       \r\n                } else if(isRunning){\r\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\r\n                }\r\n            }\r\n        };\r\n    timer.scheduleAtFixedRate(task, 1000, 1000);\r\n    }\r\n```\r\nI am still new with Timer Events and Mouse Events, I tried to declare `a` as a global var which still gives me the same error unless I declare it a value within the method but I need to get the input from the jtextfield.\r\n","title":"&quot;local variables referenced from an inner class must be final or effectively final&quot; in MouseEvent","body":"<p>I am trying to get the integer input from a jtextfield and set it as the integer for a timer jlabel when the jbutton is clicked but I keep getting this error inside the MouseEvent method</p>\n<blockquote>\n<p>local variables referenced from an inner class must be final or effectively final</p>\n</blockquote>\n<p>Code:</p>\n<pre><code>    private void timerStartMouseClicked(java.awt.event.MouseEvent evt) {                                        \n        int a = Integer.parseInt(timerInput.getText());\n        Timer timer = new Timer();\n        TimerTask task = new TimerTask() {         \n            public void run() {  \n                timeLeft.setText(Integer.toString(a));\n                --a;\n                if (a == -1){\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                    timer.cancel();                                       \n                } else if(isRunning){\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n                }\n            }\n        };\n    timer.scheduleAtFixedRate(task, 1000, 1000);\n    }\n</code></pre>\n<p>I am still new with Timer Events and Mouse Events, I tried to declare <code>a</code> as a global var which still gives me the same error unless I declare it a value within the method but I need to get the input from the jtextfield.</p>\n"},{"tags":["java","boolean"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1512241400,"post_id":47611434,"comment_id":82181166,"body_markdown":"Use `==` to compare values; a single `=` is **assignment**. So `if (isPrime = false || n == 1)` is wrong, it must be: `if (isPrime == false || n == 1)` and even better would be: `if (!isPrime || n == 1)`.","body":"Use <code>==</code> to compare values; a single <code>=</code> is <b>assignment</b>. So <code>if (isPrime = false || n == 1)</code> is wrong, it must be: <code>if (isPrime == false || n == 1)</code> and even better would be: <code>if (!isPrime || n == 1)</code>."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512241439,"creation_date":1512241439,"answer_id":47611464,"question_id":47611434,"body_markdown":"Your `if` statement is wrong - you&#39;re assigning `false` to `isPrime` using the `=` operator instead of checking if it&#39;s `false` with the `==` operator:\r\n\r\n    if (isPrime == false || n == 1) {\r\n        // Here-^\r\n        System.out.print(n + &quot; is not prime.&quot;);\r\n    } else {\r\n        System.out.print(n + &quot; is prime.&quot;);\r\n    }\r\n\r\nOr, since `isPrime` is a `boolean`, just evaluate it directly:\r\n\r\n    if (!isPrime || n == 1) {\r\n        // Here^\r\n        System.out.print(n + &quot; is not prime.&quot;);\r\n    } else {\r\n        System.out.print(n + &quot; is prime.&quot;);\r\n    }\r\n","title":"&quot;The value of the local variable is not used.&quot;","body":"<p>Your <code>if</code> statement is wrong - you're assigning <code>false</code> to <code>isPrime</code> using the <code>=</code> operator instead of checking if it's <code>false</code> with the <code>==</code> operator:</p>\n\n<pre><code>if (isPrime == false || n == 1) {\n    // Here-^\n    System.out.print(n + \" is not prime.\");\n} else {\n    System.out.print(n + \" is prime.\");\n}\n</code></pre>\n\n<p>Or, since <code>isPrime</code> is a <code>boolean</code>, just evaluate it directly:</p>\n\n<pre><code>if (!isPrime || n == 1) {\n    // Here^\n    System.out.print(n + \" is not prime.\");\n} else {\n    System.out.print(n + \" is prime.\");\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1512281354,"post_id":47611466,"comment_id":82189850,"body_markdown":"Extra note… To prevent this kind of error, always reverse the test: `false == isPrime`, so that if you accidentally use a single `=` the `false = isPrime` generates a compiler error whereas `isPrime = false` compiles and runs but does not perform as desired.","body":"Extra note… To prevent this kind of error, always reverse the test: <code>false == isPrime</code>, so that if you accidentally use a single <code>=</code> the <code>false = isPrime</code> generates a compiler error whereas <code>isPrime = false</code> compiles and runs but does not perform as desired."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512241447,"creation_date":1512241447,"answer_id":47611466,"question_id":47611434,"body_markdown":"You made a mistake here:\r\n\r\n    if (isPrime = false || n == 1) {\r\n\r\nIt should have been:\r\n\r\n    if (isPrime == false || n == 1) {\r\n                ^^\r\n          double equals!\r\n\r\nThe warning occurs because without the double equal sign, you are assigning to `isPrime` instead of comparing it with `false`. If you do that here, then throughout the program, you have only assigned to `isPrime` but never used its value. \r\n\r\nBy the way, an assignment statement evaluates to the value assigned to it, so `isPrime = false` will always evaluate to `false`. This is also why the compiler did not warn you about using `=`. ","title":"&quot;The value of the local variable is not used.&quot;","body":"<p>You made a mistake here:</p>\n\n<pre><code>if (isPrime = false || n == 1) {\n</code></pre>\n\n<p>It should have been:</p>\n\n<pre><code>if (isPrime == false || n == 1) {\n            ^^\n      double equals!\n</code></pre>\n\n<p>The warning occurs because without the double equal sign, you are assigning to <code>isPrime</code> instead of comparing it with <code>false</code>. If you do that here, then throughout the program, you have only assigned to <code>isPrime</code> but never used its value. </p>\n\n<p>By the way, an assignment statement evaluates to the value assigned to it, so <code>isPrime = false</code> will always evaluate to <code>false</code>. This is also why the compiler did not warn you about using <code>=</code>. </p>\n"}],"owner":{"account_id":9727462,"reputation":21,"user_id":7213852,"display_name":"Matt H"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2247,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668280495,"creation_date":1512241269,"question_id":47611434,"body_markdown":"    package checkPrime;\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class CheckPrime {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t\r\n\t\t    boolean isPrime = true;\r\n\r\n\t\t    Scanner scanner = new Scanner(System.in);\r\n\t\t\r\n\t\t    System.out.print(&quot;Enter a number: &quot;);\t\r\n\t\t    int n = scanner.nextInt();\r\n\t\t\r\n\t\t    scanner.close();\r\n\r\n\t\t    for (int i = 2; i &lt; n; i++) {\r\n\t\t\t\r\n\t\t    \tif (n % i == 0) {\r\n\t\t\t\t\r\n\t\t\t    \tisPrime = false;\r\n\t\t\t\t\r\n\t\t    \t}\r\n\t\t\t\r\n\t    \t}\r\n\t\t\r\n\t\t    if (isPrime = false || n == 1) {\r\n\t\t\t\r\n\t\t    \tSystem.out.print(n + &quot; is not prime.&quot;);\r\n\t\t\r\n\t\t    } else {\r\n\t\t\t\r\n\t\t    \tSystem.out.print(n + &quot; is prime.&quot;);\r\n\t\t\t\r\n\t\t    }\r\n\t\t\r\n\t    }\r\n\r\n    }\r\n\r\nSo I wrote this program to check if a number is prime and it&#39;s working well, but I get this error on the line where the boolean &quot;isPrime&quot; is declared: &quot;The value of the local variable isPrime is not used.&quot;. It&#39;s not affecting the functionality of my program but I was wondering if there is any way to make it go away.\r\n","title":"&quot;The value of the local variable is not used.&quot;","body":"<pre><code>package checkPrime;\n\nimport java.util.Scanner;\n\npublic class CheckPrime {\n\n    public static void main(String[] args) {\n\n        boolean isPrime = true;\n\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.print(\"Enter a number: \");   \n        int n = scanner.nextInt();\n\n        scanner.close();\n\n        for (int i = 2; i &lt; n; i++) {\n\n            if (n % i == 0) {\n\n                isPrime = false;\n\n            }\n\n        }\n\n        if (isPrime = false || n == 1) {\n\n            System.out.print(n + \" is not prime.\");\n\n        } else {\n\n            System.out.print(n + \" is prime.\");\n\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>So I wrote this program to check if a number is prime and it's working well, but I get this error on the line where the boolean \"isPrime\" is declared: \"The value of the local variable isPrime is not used.\". It's not affecting the functionality of my program but I was wondering if there is any way to make it go away.</p>\n"},{"tags":["java","list","algorithm","set","cartesian-product"],"answers":[{"tags":[],"owner":{"account_id":879170,"reputation":11,"user_id":206320,"display_name":"Scott Ray"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1619166986,"creation_date":1257998498,"answer_id":1719801,"question_id":1719594,"body_markdown":"You might be interested in Another question about cartesian products (edit: removed to conserve hyperlinks, search for the tag cartesian products).  That answer has a nice recursive solution that I&#39;d be hard pressed to improve on.  Do you specifically want an iterative solution instead of recursive solution?\r\n\r\n---\r\n\r\nAfter looking at another iterative solution on stack overflow in perl and [a clean explanation][1], here is another solution:\r\n```java\r\npublic static &lt;T&gt; List&lt;Set&lt;T&gt;&gt; uglyCartesianProduct(List&lt;Set&lt;T&gt;&gt; list) {\r\n    List&lt;Iterator&lt;T&gt;&gt; iterators = new ArrayList&lt;Iterator&lt;T&gt;&gt;(list.size());\r\n    List&lt;T&gt; elements = new ArrayList&lt;T&gt;(list.size());\r\n    List&lt;Set&lt;T&gt;&gt; toRet = new ArrayList&lt;Set&lt;T&gt;&gt;();\r\n\r\n    for (int i = 0; i &lt; list.size(); i++) {\r\n        iterators.add(list.get(i).iterator());\r\n        elements.add(iterators.get(i).next());\r\n    }\r\n\r\n    for (int i = 0; i &lt; numberOfTuples(list); i++) {\r\n        toRet.add(new HashSet&lt;T&gt;());\r\n    }\r\n\r\n    int setIndex = 0;\r\n    for (Set&lt;T&gt; set : list) {\r\n        int index = 0;\r\n        for (int i = 0; i &lt; numberOfTuples(list); i++) {\r\n            toRet.get(index).add((T) set.toArray()[index % set.size()]);\r\n            index++;\r\n        }\r\n        setIndex++;\r\n    }\r\n    return toRet;\r\n}\r\n\r\nprivate static &lt;T&gt; int numberOfTuples(List&lt;Set&lt;T&gt;&gt; list) {\r\n    int product = 1;\r\n    for (Set&lt;T&gt; set : list) {\r\n        product *= set.size();\r\n    }\r\n    return product;\r\n}\r\n```\r\n\r\n\r\n  [1]: http://forums.asp.net/p/921291/1080671.aspx#1080671\r\n","title":"Iteratively compute the Cartesian product of an arbitrary number of sets","body":"<p>You might be interested in Another question about cartesian products (edit: removed to conserve hyperlinks, search for the tag cartesian products).  That answer has a nice recursive solution that I'd be hard pressed to improve on.  Do you specifically want an iterative solution instead of recursive solution?</p>\n<hr />\n<p>After looking at another iterative solution on stack overflow in perl and <a href=\"http://forums.asp.net/p/921291/1080671.aspx#1080671\" rel=\"nofollow noreferrer\">a clean explanation</a>, here is another solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; List&lt;Set&lt;T&gt;&gt; uglyCartesianProduct(List&lt;Set&lt;T&gt;&gt; list) {\n    List&lt;Iterator&lt;T&gt;&gt; iterators = new ArrayList&lt;Iterator&lt;T&gt;&gt;(list.size());\n    List&lt;T&gt; elements = new ArrayList&lt;T&gt;(list.size());\n    List&lt;Set&lt;T&gt;&gt; toRet = new ArrayList&lt;Set&lt;T&gt;&gt;();\n\n    for (int i = 0; i &lt; list.size(); i++) {\n        iterators.add(list.get(i).iterator());\n        elements.add(iterators.get(i).next());\n    }\n\n    for (int i = 0; i &lt; numberOfTuples(list); i++) {\n        toRet.add(new HashSet&lt;T&gt;());\n    }\n\n    int setIndex = 0;\n    for (Set&lt;T&gt; set : list) {\n        int index = 0;\n        for (int i = 0; i &lt; numberOfTuples(list); i++) {\n            toRet.get(index).add((T) set.toArray()[index % set.size()]);\n            index++;\n        }\n        setIndex++;\n    }\n    return toRet;\n}\n\nprivate static &lt;T&gt; int numberOfTuples(List&lt;Set&lt;T&gt;&gt; list) {\n    int product = 1;\n    for (Set&lt;T&gt; set : list) {\n        product *= set.size();\n    }\n    return product;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1619182324,"creation_date":1258000184,"answer_id":1719881,"question_id":1719594,"body_markdown":"I believe this is correct. It is not seeking efficiency, but a clean style through recursion and abstraction.\r\n\r\nThe key abstraction is to introduce a simple `Tuple` class. This helps the generics later:\r\n```java\r\nclass Tuple&lt;T&gt; {\r\n    private List&lt;T&gt; list = new ArrayList&lt;T&gt;();\r\n\r\n    public void add(T t) { list.add(t); }\r\n\r\n    public void addAll(Tuple&lt;T&gt; subT) {\r\n        for (T t : subT.list) {\r\n            list.add(t);\r\n        }\r\n    }\r\n\r\n    public String toString() {\r\n        String result = &quot;(&quot;;\r\n\r\n        for (T t : list) { result += t + &quot;, &quot;; }\r\n\r\n        result = result.substring(0, result.length() - 2);\r\n        result += &quot; )&quot;;\r\n\r\n        return result;\r\n    }\r\n}\r\n```\r\nWith this class, we can write a class like so:\r\n```java\r\npublic class Example {\r\n    public static &lt;T&gt; List&lt;Tuple&lt;T&gt;&gt; cartesianProduct(List&lt;Set&lt;T&gt;&gt; sets) {\r\n        List&lt;Tuple&lt;T&gt;&gt; tuples = new ArrayList&lt;Tuple&lt;T&gt;&gt;();\r\n\r\n        if (sets.size() == 1) {\r\n            Set&lt;T&gt; set = sets.get(0);\r\n            for (T t : set) {\r\n                Tuple&lt;T&gt; tuple = new Tuple&lt;T&gt;();\r\n                tuple.add(t);\r\n                tuples.add(tuple);\r\n            }\r\n        } else {\r\n            Set&lt;T&gt; set = sets.remove(0);\r\n            List&lt;Tuple&lt;T&gt;&gt; subTuples = cartesianProduct(sets);\r\n            System.out.println(&quot;TRACER size = &quot; + tuples.size());\r\n            for (Tuple&lt;T&gt; subTuple : subTuples) {\r\n                for (T t : set) {\r\n                    Tuple&lt;T&gt; tuple = new Tuple&lt;T&gt;();\r\n                    tuple.addAll(subTuple);\r\n                    tuple.add(t);\r\n                    tuples.add(tuple);\r\n                }\r\n            }\r\n        }\r\n        return tuples;\r\n    }\r\n}\r\n```\r\nI have a decent example of this working, but it is omitted for brevity.\r\n","title":"Iteratively compute the Cartesian product of an arbitrary number of sets","body":"<p>I believe this is correct. It is not seeking efficiency, but a clean style through recursion and abstraction.</p>\n<p>The key abstraction is to introduce a simple <code>Tuple</code> class. This helps the generics later:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Tuple&lt;T&gt; {\n    private List&lt;T&gt; list = new ArrayList&lt;T&gt;();\n\n    public void add(T t) { list.add(t); }\n\n    public void addAll(Tuple&lt;T&gt; subT) {\n        for (T t : subT.list) {\n            list.add(t);\n        }\n    }\n\n    public String toString() {\n        String result = &quot;(&quot;;\n\n        for (T t : list) { result += t + &quot;, &quot;; }\n\n        result = result.substring(0, result.length() - 2);\n        result += &quot; )&quot;;\n\n        return result;\n    }\n}\n</code></pre>\n<p>With this class, we can write a class like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n    public static &lt;T&gt; List&lt;Tuple&lt;T&gt;&gt; cartesianProduct(List&lt;Set&lt;T&gt;&gt; sets) {\n        List&lt;Tuple&lt;T&gt;&gt; tuples = new ArrayList&lt;Tuple&lt;T&gt;&gt;();\n\n        if (sets.size() == 1) {\n            Set&lt;T&gt; set = sets.get(0);\n            for (T t : set) {\n                Tuple&lt;T&gt; tuple = new Tuple&lt;T&gt;();\n                tuple.add(t);\n                tuples.add(tuple);\n            }\n        } else {\n            Set&lt;T&gt; set = sets.remove(0);\n            List&lt;Tuple&lt;T&gt;&gt; subTuples = cartesianProduct(sets);\n            System.out.println(&quot;TRACER size = &quot; + tuples.size());\n            for (Tuple&lt;T&gt; subTuple : subTuples) {\n                for (T t : set) {\n                    Tuple&lt;T&gt; tuple = new Tuple&lt;T&gt;();\n                    tuple.addAll(subTuple);\n                    tuple.add(t);\n                    tuples.add(tuple);\n                }\n            }\n        }\n        return tuples;\n    }\n}\n</code></pre>\n<p>I have a decent example of this working, but it is omitted for brevity.</p>\n"},{"comments":[{"owner":{"account_id":26547,"reputation":10270,"user_id":69178,"accept_rate":78,"display_name":"akappa"},"score":0,"creation_date":1258001882,"post_id":1719937,"comment_id":1598205,"body_markdown":"Interesting and clean approach, but I&#39;ve some doubts about memory consuption with all those intermediate tuples lost &quot;in the time, like tears in rain&quot; :P","body":"Interesting and clean approach, but I&#39;ve some doubts about memory consuption with all those intermediate tuples lost &quot;in the time, like tears in rain&quot; :P"},{"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"score":0,"creation_date":1258031041,"post_id":1719937,"comment_id":1600309,"body_markdown":"Agreed, the performance could be wretched. I guess you are really asking for an algorithm rather than a coding style?","body":"Agreed, the performance could be wretched. I guess you are really asking for an algorithm rather than a coding style?"}],"tags":[],"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619178006,"creation_date":1258001087,"answer_id":1719937,"question_id":1719594,"body_markdown":"\r\nThe following answer uses iteration and not recursion. It uses the same `Tuple` class from my previous answer. \r\n\r\nIt is a separate answer because IMHO both are valid, different approaches.\r\n\r\nHere is the new main class:\r\n```java\r\npublic class Example {\r\n    public static &lt;T&gt; List&lt;Tuple&lt;T&gt;&gt; cartesianProduct(List&lt;Set&lt;T&gt;&gt; sets) {\r\n        List&lt;Tuple&lt;T&gt;&gt; tuples = new ArrayList&lt;Tuple&lt;T&gt;&gt;();\r\n        for (Set&lt;T&gt; set : sets) {\r\n            if (tuples.isEmpty()) {\r\n                for (T t : set) {\r\n                    Tuple&lt;T&gt; tuple = new Tuple&lt;T&gt;();\r\n                    tuple.add(t);\r\n                    tuples.add(tuple);\r\n                }\r\n            } else {\r\n                List&lt;Tuple&lt;T&gt;&gt; newTuples = new ArrayList&lt;Tuple&lt;T&gt;&gt;();\r\n                for (Tuple&lt;T&gt; subTuple : tuples) {\r\n                    for (T t : set) {\r\n                        Tuple&lt;T&gt; tuple = new Tuple&lt;T&gt;();\r\n                        tuple.addAll(subTuple);\r\n                        tuple.add(t);\r\n                        newTuples.add(tuple);\r\n                    }\r\n                }\r\n                tuples = newTuples;\r\n            }\r\n        }\r\n        return tuples;\r\n    }\r\n}\r\n```\r\n","title":"Iteratively compute the Cartesian product of an arbitrary number of sets","body":"<p>The following answer uses iteration and not recursion. It uses the same <code>Tuple</code> class from my previous answer.</p>\n<p>It is a separate answer because IMHO both are valid, different approaches.</p>\n<p>Here is the new main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n    public static &lt;T&gt; List&lt;Tuple&lt;T&gt;&gt; cartesianProduct(List&lt;Set&lt;T&gt;&gt; sets) {\n        List&lt;Tuple&lt;T&gt;&gt; tuples = new ArrayList&lt;Tuple&lt;T&gt;&gt;();\n        for (Set&lt;T&gt; set : sets) {\n            if (tuples.isEmpty()) {\n                for (T t : set) {\n                    Tuple&lt;T&gt; tuple = new Tuple&lt;T&gt;();\n                    tuple.add(t);\n                    tuples.add(tuple);\n                }\n            } else {\n                List&lt;Tuple&lt;T&gt;&gt; newTuples = new ArrayList&lt;Tuple&lt;T&gt;&gt;();\n                for (Tuple&lt;T&gt; subTuple : tuples) {\n                    for (T t : set) {\n                        Tuple&lt;T&gt; tuple = new Tuple&lt;T&gt;();\n                        tuple.addAll(subTuple);\n                        tuple.add(t);\n                        newTuples.add(tuple);\n                    }\n                }\n                tuples = newTuples;\n            }\n        }\n        return tuples;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":3,"creation_date":1444849209,"post_id":1723050,"comment_id":54078476,"body_markdown":"What is the reason to implement this just for sets, and not generally for Iterables (i.e. given a list of Iterables, return an Iterable of lists)? Of course for Sets you can do a bit more like easy checking for contains, but I just needed this when I had no sets available (and had to implement it myself).","body":"What is the reason to implement this just for sets, and not generally for Iterables (i.e. given a list of Iterables, return an Iterable of lists)? Of course for Sets you can do a bit more like easy checking for contains, but I just needed this when I had no sets available (and had to implement it myself)."},{"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"score":0,"creation_date":1668280500,"post_id":1723050,"comment_id":131368834,"body_markdown":"@PaŭloEbermann sorry I never saw this, but there&#39;s been a `List` version of the method sitting next to that one all this time (in the `Lists` class).","body":"@PaŭloEbermann sorry I never saw this, but there&#39;s been a <code>List</code> version of the method sitting next to that one all this time (in the <code>Lists</code> class)."}],"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"comment_count":2,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1668280242,"creation_date":1258039755,"answer_id":1723050,"question_id":1719594,"body_markdown":"I&#39;ve written a solution that doesn&#39;t require you to fill up a large collection in memory. Unfortunately, the code required is hundreds of lines long. You may have to wait until it appears in the Guava project (https://github.com/google/guava), which I hope will be by the end of the year. Sorry. :(\r\n\r\nNote that you may not need such a utility if the number of sets you&#39;re cartesian-producting is a fixed number known at compile time -- you could just use that number of nested for loops.\r\n\r\n**EDIT:** the code is released now.\r\n\r\n[`Sets.cartesianProduct()`][1]\r\n\r\nI think you&#39;ll be very happy with it. It only creates the individual lists as you ask for them; doesn&#39;t fill up memory with all MxNxPxQ of them.\r\n\r\nIf you want to inspect the source, it&#39;s [here][2].\r\n\r\n  Enjoy!\r\n\r\n\r\n  [1]: https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/Sets.html#cartesianProduct%28java.util.Set...%29\r\n  [2]: https://github.com/google/guava/blob/593b5963269abc2b32ee7f4d0bbc96d1539a7afa/guava/src/com/google/common/collect/Sets.java#L1392","title":"Iteratively compute the Cartesian product of an arbitrary number of sets","body":"<p>I've written a solution that doesn't require you to fill up a large collection in memory. Unfortunately, the code required is hundreds of lines long. You may have to wait until it appears in the Guava project (<a href=\"https://github.com/google/guava\" rel=\"nofollow noreferrer\">https://github.com/google/guava</a>), which I hope will be by the end of the year. Sorry. :(</p>\n<p>Note that you may not need such a utility if the number of sets you're cartesian-producting is a fixed number known at compile time -- you could just use that number of nested for loops.</p>\n<p><strong>EDIT:</strong> the code is released now.</p>\n<p><a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/Sets.html#cartesianProduct%28java.util.Set...%29\" rel=\"nofollow noreferrer\"><code>Sets.cartesianProduct()</code></a></p>\n<p>I think you'll be very happy with it. It only creates the individual lists as you ask for them; doesn't fill up memory with all MxNxPxQ of them.</p>\n<p>If you want to inspect the source, it's <a href=\"https://github.com/google/guava/blob/593b5963269abc2b32ee7f4d0bbc96d1539a7afa/guava/src/com/google/common/collect/Sets.java#L1392\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Enjoy!</p>\n"},{"tags":[],"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619178401,"creation_date":1276116374,"answer_id":3009814,"question_id":1719594,"body_markdown":"Here is a lazy iterator approach that uses a function to produce an appropriate output type.\r\n```java\r\npublic static &lt;T&gt; Iterable&lt;T&gt; cartesianProduct(\r\n        final Function&lt;Object[], T&gt; fn, Object[]... options) {\r\n    final Object[][] opts = new Object[options.length][];\r\n    for (int i = opts.length; --i &gt;= 0; ) {\r\n        // NPE on null input collections, and handle the empty output case here\r\n        // since the iterator code below assumes that it is not exhausted the\r\n        // first time through fetch.\r\n        if (options[i].length == 0) {\r\n            return Collections.emptySet();\r\n        }\r\n        opts[i] = options[i].clone();\r\n    }\r\n    return new Iterable&lt;T&gt;() {\r\n        public Iterator&lt;T&gt; iterator() {\r\n            return new Iterator&lt;T&gt;() {\r\n                final int[] pos = new int[opts.length];\r\n                boolean hasPending;\r\n                T pending;\r\n                boolean exhausted;\r\n\r\n                public boolean hasNext() {\r\n                    fetch();\r\n                    return hasPending;\r\n                }\r\n\r\n                public T next() {\r\n                    fetch();\r\n                    if (!hasPending) {\r\n                        throw new NoSuchElementException();\r\n                    }\r\n                    T out = pending;\r\n                    pending = null;  // release for GC\r\n                    hasPending = false;\r\n                    return out;\r\n                }\r\n\r\n                public void remove() {\r\n                    throw new UnsupportedOperationException();\r\n                }\r\n\r\n                private void fetch() {\r\n                    if (hasPending || exhausted) {\r\n                        return;\r\n                    }\r\n                    // Produce a result.\r\n                    int n = pos.length;\r\n                    Object[] args = new Object[n];\r\n                    for (int j = n; --j &gt;= 0; ) {\r\n                        args[j] = opts[j][pos[j]];\r\n                    }\r\n                    pending = fn.apply(args);\r\n                    hasPending = true;\r\n                    // Increment to next.\r\n                    for (int i = n; --i &gt;= 0; ) {\r\n                        if (++pos[i] &lt; opts[i].length) {\r\n                            for (int j = n; --j &gt; i; ) {\r\n                                pos[j] = 0;\r\n                            }\r\n                            return;\r\n                        }\r\n                    }\r\n                    exhausted = true;\r\n                }\r\n            };\r\n        }\r\n    };\r\n}\r\n```\r\n","title":"Iteratively compute the Cartesian product of an arbitrary number of sets","body":"<p>Here is a lazy iterator approach that uses a function to produce an appropriate output type.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; Iterable&lt;T&gt; cartesianProduct(\n        final Function&lt;Object[], T&gt; fn, Object[]... options) {\n    final Object[][] opts = new Object[options.length][];\n    for (int i = opts.length; --i &gt;= 0; ) {\n        // NPE on null input collections, and handle the empty output case here\n        // since the iterator code below assumes that it is not exhausted the\n        // first time through fetch.\n        if (options[i].length == 0) {\n            return Collections.emptySet();\n        }\n        opts[i] = options[i].clone();\n    }\n    return new Iterable&lt;T&gt;() {\n        public Iterator&lt;T&gt; iterator() {\n            return new Iterator&lt;T&gt;() {\n                final int[] pos = new int[opts.length];\n                boolean hasPending;\n                T pending;\n                boolean exhausted;\n\n                public boolean hasNext() {\n                    fetch();\n                    return hasPending;\n                }\n\n                public T next() {\n                    fetch();\n                    if (!hasPending) {\n                        throw new NoSuchElementException();\n                    }\n                    T out = pending;\n                    pending = null;  // release for GC\n                    hasPending = false;\n                    return out;\n                }\n\n                public void remove() {\n                    throw new UnsupportedOperationException();\n                }\n\n                private void fetch() {\n                    if (hasPending || exhausted) {\n                        return;\n                    }\n                    // Produce a result.\n                    int n = pos.length;\n                    Object[] args = new Object[n];\n                    for (int j = n; --j &gt;= 0; ) {\n                        args[j] = opts[j][pos[j]];\n                    }\n                    pending = fn.apply(args);\n                    hasPending = true;\n                    // Increment to next.\n                    for (int i = n; --i &gt;= 0; ) {\n                        if (++pos[i] &lt; opts[i].length) {\n                            for (int j = n; --j &gt; i; ) {\n                                pos[j] = 0;\n                            }\n                            return;\n                        }\n                    }\n                    exhausted = true;\n                }\n            };\n        }\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":373084,"reputation":637,"user_id":1125873,"accept_rate":0,"display_name":"dbow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619178435,"creation_date":1307693515,"answer_id":6303681,"question_id":1719594,"body_markdown":"I wrote an recursive cartesian product algorithm for table of Strings. You can modify it to have sets istead. Below is the algorithm. It&#39;s also explained in my [article][1]\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String[] A = new String[]{&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;};\r\n        String[] B = new String[]{&quot;b1&quot;, &quot;b2&quot;, &quot;b3&quot;};\r\n        String[] C = new String[]{&quot;c1&quot;};\r\n\r\n        String[] cp = CartesianProduct(0, A, B, C);\r\n\r\n        for (String s : cp) {\r\n            System.out.println(s);\r\n        }\r\n    }\r\n\r\n    public static String[] CartesianProduct(int prodLevel, String[] res, String[]... s) {\r\n        if (prodLevel &lt; s.length) {\r\n            int cProdLen = res.length * s[prodLevel].length;\r\n            String[] tmpRes = new String[cProdLen];\r\n\r\n            for (int i = 0; i &lt; res.length; i++) {\r\n                for (int j = 0; j &lt; s[prodLevel].length; j++) {\r\n                    tmpRes[i * res.length + j] = res[i] + s[prodLevel][j];\r\n                }\r\n            }\r\n            res = Main.CartesianProduct(prodLevel + 1, tmpRes, s);\r\n        }\r\n        return res;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: http://www.doublebow.net/articles/java/cartesian-product-in-java","title":"Iteratively compute the Cartesian product of an arbitrary number of sets","body":"<p>I wrote an recursive cartesian product algorithm for table of Strings. You can modify it to have sets istead. Below is the algorithm. It's also explained in my <a href=\"http://www.doublebow.net/articles/java/cartesian-product-in-java\" rel=\"nofollow noreferrer\">article</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        String[] A = new String[]{&quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot;};\n        String[] B = new String[]{&quot;b1&quot;, &quot;b2&quot;, &quot;b3&quot;};\n        String[] C = new String[]{&quot;c1&quot;};\n\n        String[] cp = CartesianProduct(0, A, B, C);\n\n        for (String s : cp) {\n            System.out.println(s);\n        }\n    }\n\n    public static String[] CartesianProduct(int prodLevel, String[] res, String[]... s) {\n        if (prodLevel &lt; s.length) {\n            int cProdLen = res.length * s[prodLevel].length;\n            String[] tmpRes = new String[cProdLen];\n\n            for (int i = 0; i &lt; res.length; i++) {\n                for (int j = 0; j &lt; s[prodLevel].length; j++) {\n                    tmpRes[i * res.length + j] = res[i] + s[prodLevel][j];\n                }\n            }\n            res = Main.CartesianProduct(prodLevel + 1, tmpRes, s);\n        }\n        return res;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":942803,"reputation":61,"user_id":970583,"display_name":"John Kristian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1330411608,"creation_date":1330214738,"answer_id":9449311,"question_id":1719594,"body_markdown":"Here&#39;s an iterative, lazy implementation I wrote. The interface is very similar to Google&#39;s Sets.cartesianProduct, but it&#39;s a bit more flexible: it deals in Iterables instead of Sets.  This code and its unit tests are at [https://gist.github.com/1911614][1].\r\n\r\n    /* Copyright 2012 LinkedIn Corp.\r\n    \r\n       Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);\r\n       you may not use this file except in compliance with the License.\r\n       You may obtain a copy of the License at\r\n    \r\n           http://www.apache.org/licenses/LICENSE-2.0\r\n    \r\n       Unless required by applicable law or agreed to in writing, software\r\n       distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n       WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n       See the License for the specific language governing permissions and\r\n       limitations under the License.\r\n     */\r\n    \r\n    import com.google.common.base.Function;\r\n    import com.google.common.collect.Iterables;\r\n    import java.lang.reflect.Array;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.NoSuchElementException;\r\n    \r\n    /**\r\n     * Implements the Cartesian product of ordered collections.\r\n     * \r\n     * @author &lt;a href=&quot;mailto:jmkristian@gmail.com&quot;&gt;John Kristian&lt;/a&gt;\r\n     */\r\n    public class Cartesian {\r\n      /**\r\n       * Generate the &lt;a href=&quot;http://en.wikipedia.org/wiki/Cartesian_product&quot;&gt;Cartesian\r\n       * product&lt;/a&gt; of the given axes. For axes [[a1, a2 ...], [b1, b2 ...], [c1, c2 ...]\r\n       * ...] the product is [[a1, b1, c1 ...] ... [a1, b1, c2 ...] ... [a1, b2, c1 ...] ...\r\n       * [aN, bN, cN ...]]. In other words, the results are generated in same order as these\r\n       * nested loops:\r\n       * \r\n       * &lt;pre&gt;\r\n       * for (T a : [a1, a2 ...])\r\n       *   for (T b : [b1, b2 ...])\r\n       *     for (T c : [c1, c2 ...])\r\n       *       ...\r\n       *         result = new T[]{ a, b, c ... };\r\n       * &lt;/pre&gt;\r\n       * \r\n       * Each result is a new array of T, whose elements refer to the elements of the axes. If\r\n       * you prefer a List, you can call asLists(product(axes)).\r\n       * &lt;p&gt;\r\n       * Don&#39;t change the axes while iterating over their product, as a rule. Changes to an\r\n       * axis can affect the product or cause iteration to fail (which is usually bad). To\r\n       * prevent this, you can pass clones of your axes to this method.\r\n       * &lt;p&gt;\r\n       * The implementation is lazy. This method iterates over the axes, and returns an\r\n       * Iterable that contains a reference to each axis. Iterating over the product causes\r\n       * iteration over each axis. Methods of each axis are called as late as practical.\r\n       */\r\n      public static &lt;T&gt; Iterable&lt;T[]&gt; product(Class&lt;T&gt; resultType,\r\n                                              Iterable&lt;? extends Iterable&lt;? extends T&gt;&gt; axes) {\r\n        return new Product&lt;T&gt;(resultType, newArray(Iterable.class, axes));\r\n      }\r\n    \r\n      /** Works like product(resultType, Arrays.asList(axes)), but slightly more efficient. */\r\n      public static &lt;T&gt; Iterable&lt;T[]&gt; product(Class&lt;T&gt; resultType, Iterable&lt;? extends T&gt;... axes) {\r\n        return new Product&lt;T&gt;(resultType, axes.clone());\r\n      }\r\n    \r\n      /**\r\n       * Wrap the given arrays in fixed-size lists. Changes to the lists write through to the\r\n       * arrays.\r\n       */\r\n      public static &lt;T&gt; Iterable&lt;List&lt;T&gt;&gt; asLists(Iterable&lt;? extends T[]&gt; arrays) {\r\n        return Iterables.transform(arrays, new AsList&lt;T&gt;());\r\n      }\r\n    \r\n      /**\r\n       * Arrays.asList, represented as a Function (as used in Google collections).\r\n       */\r\n      public static class AsList&lt;T&gt; implements Function&lt;T[], List&lt;T&gt;&gt; {\r\n        @Override\r\n        public List&lt;T&gt; apply(T[] array) {\r\n          return Arrays.asList(array);\r\n        }\r\n      }\r\n    \r\n      /** Create a generic array containing references to the given objects. */\r\n      private static &lt;T&gt; T[] newArray(Class&lt;? super T&gt; elementType, Iterable&lt;? extends T&gt; from) {\r\n        List&lt;T&gt; list = new ArrayList&lt;T&gt;();\r\n        for (T f : from)\r\n          list.add(f);\r\n        return list.toArray(newArray(elementType, list.size()));\r\n      }\r\n    \r\n      /** Create a generic array. */\r\n      @SuppressWarnings(&quot;unchecked&quot;)\r\n      private static &lt;T&gt; T[] newArray(Class&lt;? super T&gt; elementType, int length) {\r\n        return (T[]) Array.newInstance(elementType, length);\r\n      }\r\n    \r\n      private static class Product&lt;T&gt; implements Iterable&lt;T[]&gt; {\r\n        private final Class&lt;T&gt; _resultType;\r\n        private final Iterable&lt;? extends T&gt;[] _axes;\r\n    \r\n        /** Caution: the given array of axes is contained by reference, not cloned. */\r\n        Product(Class&lt;T&gt; resultType, Iterable&lt;? extends T&gt;[] axes) {\r\n          _resultType = resultType;\r\n          _axes = axes;\r\n        }\r\n    \r\n        @Override\r\n        public Iterator&lt;T[]&gt; iterator() {\r\n          if (_axes.length &lt;= 0) // an edge case\r\n            return Collections.singleton(newArray(_resultType, 0)).iterator();\r\n          return new ProductIterator&lt;T&gt;(_resultType, _axes);\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n          return &quot;Cartesian.product(&quot; + Arrays.toString(_axes) + &quot;)&quot;;\r\n        }\r\n    \r\n        private static class ProductIterator&lt;T&gt; implements Iterator&lt;T[]&gt; {\r\n          private final Iterable&lt;? extends T&gt;[] _axes;\r\n          private final Iterator&lt;? extends T&gt;[] _iterators; // one per axis\r\n          private final T[] _result; // a copy of the last result\r\n          /**\r\n           * The minimum index such that this.next() will return an array that contains\r\n           * _iterators[index].next(). There are some special sentinel values: NEW means this\r\n           * is a freshly constructed iterator, DONE means all combinations have been\r\n           * exhausted (so this.hasNext() == false) and _iterators.length means the value is\r\n           * unknown (to be determined by this.hasNext).\r\n           */\r\n          private int _nextIndex = NEW;\r\n          private static final int NEW = -2;\r\n          private static final int DONE = -1;\r\n    \r\n          /** Caution: the given array of axes is contained by reference, not cloned. */\r\n          ProductIterator(Class&lt;T&gt; resultType, Iterable&lt;? extends T&gt;[] axes) {\r\n            _axes = axes;\r\n            _iterators = Cartesian.&lt;Iterator&lt;? extends T&gt;&gt; newArray(Iterator.class, _axes.length);\r\n            for (int a = 0; a &lt; _axes.length; ++a) {\r\n              _iterators[a] = axes[a].iterator();\r\n            }\r\n            _result = newArray(resultType, _iterators.length);\r\n          }\r\n    \r\n          private void close() {\r\n            _nextIndex = DONE;\r\n            // Release references, to encourage garbage collection:\r\n            Arrays.fill(_iterators, null);\r\n            Arrays.fill(_result, null);\r\n          }\r\n    \r\n          @Override\r\n          public boolean hasNext() {\r\n            if (_nextIndex == NEW) { // This is the first call to hasNext().\r\n              _nextIndex = 0; // start here\r\n              for (Iterator&lt;? extends T&gt; iter : _iterators) {\r\n                if (!iter.hasNext()) {\r\n                  close(); // no combinations\r\n                  break;\r\n                }\r\n              }\r\n            } else if (_nextIndex &gt;= _iterators.length) {\r\n              // This is the first call to hasNext() after next() returned a result.\r\n              // Determine the _nextIndex to be used by next():\r\n              for (_nextIndex = _iterators.length - 1; _nextIndex &gt;= 0; --_nextIndex) {\r\n                Iterator&lt;? extends T&gt; iter = _iterators[_nextIndex];\r\n                if (iter.hasNext()) {\r\n                  break; // start here\r\n                }\r\n                if (_nextIndex == 0) { // All combinations have been generated.\r\n                  close();\r\n                  break;\r\n                }\r\n                // Repeat this axis, with the next value from the previous axis.\r\n                iter = _axes[_nextIndex].iterator();\r\n                _iterators[_nextIndex] = iter;\r\n                if (!iter.hasNext()) { // Oops; this axis can&#39;t be repeated.\r\n                  close(); // no more combinations\r\n                  break;\r\n                }\r\n              }\r\n            }\r\n            return _nextIndex &gt;= 0;\r\n          }\r\n    \r\n          @Override\r\n          public T[] next() {\r\n            if (!hasNext())\r\n              throw new NoSuchElementException(&quot;!hasNext&quot;);\r\n            for (; _nextIndex &lt; _iterators.length; ++_nextIndex) {\r\n              _result[_nextIndex] = _iterators[_nextIndex].next();\r\n            }\r\n            return _result.clone();\r\n          }\r\n    \r\n          @Override\r\n          public void remove() {\r\n            for (Iterator&lt;? extends T&gt; iter : _iterators) {\r\n              iter.remove();\r\n            }\r\n          }\r\n    \r\n          @Override\r\n          public String toString() {\r\n            return &quot;Cartesian.product(&quot; + Arrays.toString(_axes) + &quot;).iterator()&quot;;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n [1]: https://gist.github.com/1911614\r\n\r\n\r\n\r\n\r\n","title":"Iteratively compute the Cartesian product of an arbitrary number of sets","body":"<p>Here's an iterative, lazy implementation I wrote. The interface is very similar to Google's Sets.cartesianProduct, but it's a bit more flexible: it deals in Iterables instead of Sets.  This code and its unit tests are at <a href=\"https://gist.github.com/1911614\" rel=\"nofollow\">https://gist.github.com/1911614</a>.</p>\n\n<pre><code>/* Copyright 2012 LinkedIn Corp.\n\n   Licensed under the Apache License, Version 2.0 (the \"License\");\n   you may not use this file except in compliance with the License.\n   You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n   Unless required by applicable law or agreed to in writing, software\n   distributed under the License is distributed on an \"AS IS\" BASIS,\n   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   See the License for the specific language governing permissions and\n   limitations under the License.\n */\n\nimport com.google.common.base.Function;\nimport com.google.common.collect.Iterables;\nimport java.lang.reflect.Array;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.NoSuchElementException;\n\n/**\n * Implements the Cartesian product of ordered collections.\n * \n * @author &lt;a href=\"mailto:jmkristian@gmail.com\"&gt;John Kristian&lt;/a&gt;\n */\npublic class Cartesian {\n  /**\n   * Generate the &lt;a href=\"http://en.wikipedia.org/wiki/Cartesian_product\"&gt;Cartesian\n   * product&lt;/a&gt; of the given axes. For axes [[a1, a2 ...], [b1, b2 ...], [c1, c2 ...]\n   * ...] the product is [[a1, b1, c1 ...] ... [a1, b1, c2 ...] ... [a1, b2, c1 ...] ...\n   * [aN, bN, cN ...]]. In other words, the results are generated in same order as these\n   * nested loops:\n   * \n   * &lt;pre&gt;\n   * for (T a : [a1, a2 ...])\n   *   for (T b : [b1, b2 ...])\n   *     for (T c : [c1, c2 ...])\n   *       ...\n   *         result = new T[]{ a, b, c ... };\n   * &lt;/pre&gt;\n   * \n   * Each result is a new array of T, whose elements refer to the elements of the axes. If\n   * you prefer a List, you can call asLists(product(axes)).\n   * &lt;p&gt;\n   * Don't change the axes while iterating over their product, as a rule. Changes to an\n   * axis can affect the product or cause iteration to fail (which is usually bad). To\n   * prevent this, you can pass clones of your axes to this method.\n   * &lt;p&gt;\n   * The implementation is lazy. This method iterates over the axes, and returns an\n   * Iterable that contains a reference to each axis. Iterating over the product causes\n   * iteration over each axis. Methods of each axis are called as late as practical.\n   */\n  public static &lt;T&gt; Iterable&lt;T[]&gt; product(Class&lt;T&gt; resultType,\n                                          Iterable&lt;? extends Iterable&lt;? extends T&gt;&gt; axes) {\n    return new Product&lt;T&gt;(resultType, newArray(Iterable.class, axes));\n  }\n\n  /** Works like product(resultType, Arrays.asList(axes)), but slightly more efficient. */\n  public static &lt;T&gt; Iterable&lt;T[]&gt; product(Class&lt;T&gt; resultType, Iterable&lt;? extends T&gt;... axes) {\n    return new Product&lt;T&gt;(resultType, axes.clone());\n  }\n\n  /**\n   * Wrap the given arrays in fixed-size lists. Changes to the lists write through to the\n   * arrays.\n   */\n  public static &lt;T&gt; Iterable&lt;List&lt;T&gt;&gt; asLists(Iterable&lt;? extends T[]&gt; arrays) {\n    return Iterables.transform(arrays, new AsList&lt;T&gt;());\n  }\n\n  /**\n   * Arrays.asList, represented as a Function (as used in Google collections).\n   */\n  public static class AsList&lt;T&gt; implements Function&lt;T[], List&lt;T&gt;&gt; {\n    @Override\n    public List&lt;T&gt; apply(T[] array) {\n      return Arrays.asList(array);\n    }\n  }\n\n  /** Create a generic array containing references to the given objects. */\n  private static &lt;T&gt; T[] newArray(Class&lt;? super T&gt; elementType, Iterable&lt;? extends T&gt; from) {\n    List&lt;T&gt; list = new ArrayList&lt;T&gt;();\n    for (T f : from)\n      list.add(f);\n    return list.toArray(newArray(elementType, list.size()));\n  }\n\n  /** Create a generic array. */\n  @SuppressWarnings(\"unchecked\")\n  private static &lt;T&gt; T[] newArray(Class&lt;? super T&gt; elementType, int length) {\n    return (T[]) Array.newInstance(elementType, length);\n  }\n\n  private static class Product&lt;T&gt; implements Iterable&lt;T[]&gt; {\n    private final Class&lt;T&gt; _resultType;\n    private final Iterable&lt;? extends T&gt;[] _axes;\n\n    /** Caution: the given array of axes is contained by reference, not cloned. */\n    Product(Class&lt;T&gt; resultType, Iterable&lt;? extends T&gt;[] axes) {\n      _resultType = resultType;\n      _axes = axes;\n    }\n\n    @Override\n    public Iterator&lt;T[]&gt; iterator() {\n      if (_axes.length &lt;= 0) // an edge case\n        return Collections.singleton(newArray(_resultType, 0)).iterator();\n      return new ProductIterator&lt;T&gt;(_resultType, _axes);\n    }\n\n    @Override\n    public String toString() {\n      return \"Cartesian.product(\" + Arrays.toString(_axes) + \")\";\n    }\n\n    private static class ProductIterator&lt;T&gt; implements Iterator&lt;T[]&gt; {\n      private final Iterable&lt;? extends T&gt;[] _axes;\n      private final Iterator&lt;? extends T&gt;[] _iterators; // one per axis\n      private final T[] _result; // a copy of the last result\n      /**\n       * The minimum index such that this.next() will return an array that contains\n       * _iterators[index].next(). There are some special sentinel values: NEW means this\n       * is a freshly constructed iterator, DONE means all combinations have been\n       * exhausted (so this.hasNext() == false) and _iterators.length means the value is\n       * unknown (to be determined by this.hasNext).\n       */\n      private int _nextIndex = NEW;\n      private static final int NEW = -2;\n      private static final int DONE = -1;\n\n      /** Caution: the given array of axes is contained by reference, not cloned. */\n      ProductIterator(Class&lt;T&gt; resultType, Iterable&lt;? extends T&gt;[] axes) {\n        _axes = axes;\n        _iterators = Cartesian.&lt;Iterator&lt;? extends T&gt;&gt; newArray(Iterator.class, _axes.length);\n        for (int a = 0; a &lt; _axes.length; ++a) {\n          _iterators[a] = axes[a].iterator();\n        }\n        _result = newArray(resultType, _iterators.length);\n      }\n\n      private void close() {\n        _nextIndex = DONE;\n        // Release references, to encourage garbage collection:\n        Arrays.fill(_iterators, null);\n        Arrays.fill(_result, null);\n      }\n\n      @Override\n      public boolean hasNext() {\n        if (_nextIndex == NEW) { // This is the first call to hasNext().\n          _nextIndex = 0; // start here\n          for (Iterator&lt;? extends T&gt; iter : _iterators) {\n            if (!iter.hasNext()) {\n              close(); // no combinations\n              break;\n            }\n          }\n        } else if (_nextIndex &gt;= _iterators.length) {\n          // This is the first call to hasNext() after next() returned a result.\n          // Determine the _nextIndex to be used by next():\n          for (_nextIndex = _iterators.length - 1; _nextIndex &gt;= 0; --_nextIndex) {\n            Iterator&lt;? extends T&gt; iter = _iterators[_nextIndex];\n            if (iter.hasNext()) {\n              break; // start here\n            }\n            if (_nextIndex == 0) { // All combinations have been generated.\n              close();\n              break;\n            }\n            // Repeat this axis, with the next value from the previous axis.\n            iter = _axes[_nextIndex].iterator();\n            _iterators[_nextIndex] = iter;\n            if (!iter.hasNext()) { // Oops; this axis can't be repeated.\n              close(); // no more combinations\n              break;\n            }\n          }\n        }\n        return _nextIndex &gt;= 0;\n      }\n\n      @Override\n      public T[] next() {\n        if (!hasNext())\n          throw new NoSuchElementException(\"!hasNext\");\n        for (; _nextIndex &lt; _iterators.length; ++_nextIndex) {\n          _result[_nextIndex] = _iterators[_nextIndex].next();\n        }\n        return _result.clone();\n      }\n\n      @Override\n      public void remove() {\n        for (Iterator&lt;? extends T&gt; iter : _iterators) {\n          iter.remove();\n        }\n      }\n\n      @Override\n      public String toString() {\n        return \"Cartesian.product(\" + Arrays.toString(_axes) + \").iterator()\";\n      }\n    }\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":1,"creation_date":1444848874,"post_id":10947389,"comment_id":54078277,"body_markdown":"Huh, this breaks if you try to iterate over this object twice.","body":"Huh, this breaks if you try to iterate over this object twice."}],"tags":[],"owner":{"account_id":1551949,"reputation":121,"user_id":1444139,"display_name":"Remko Popma"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619025147,"creation_date":1339152359,"answer_id":10947389,"question_id":1719594,"body_markdown":"**Index-based solution**\r\n\r\nWorking with the indices is a simple alternative that is fast and memory-efficient and can handle any number of sets. Implementing Iterable allows easy use in a for-each loop. See the #main method for a usage example.\r\n```java\r\npublic class CartesianProduct implements Iterable&lt;int[]&gt;, Iterator&lt;int[]&gt; {\r\n    private final int[] _lengths;\r\n    private final int[] _indices;\r\n    private boolean _hasNext = true;\r\n\r\n    public CartesianProduct(int[] lengths) {\r\n        _lengths = lengths;\r\n        _indices = new int[lengths.length];\r\n    }\r\n\r\n    public boolean hasNext() {\r\n        return _hasNext;\r\n    }\r\n\r\n    public int[] next() {\r\n        int[] result = Arrays.copyOf(_indices, _indices.length);\r\n        for (int i = _indices.length - 1; i &gt;= 0; i--) {\r\n            if (_indices[i] == _lengths[i] - 1) {\r\n                _indices[i] = 0;\r\n                if (i == 0) {\r\n                    _hasNext = false;\r\n                }\r\n            } else {\r\n                _indices[i]++;\r\n                break;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public Iterator&lt;int[]&gt; iterator() {\r\n        return this;\r\n    }\r\n\r\n    public void remove() {\r\n        throw new UnsupportedOperationException();\r\n    }\r\n\r\n    /**\r\n     * Usage example. Prints out\r\n     *\r\n     * &lt;pre&gt;\r\n     * [0, 0, 0] a, NANOSECONDS, 1\r\n     * [0, 0, 1] a, NANOSECONDS, 2\r\n     * [0, 0, 2] a, NANOSECONDS, 3\r\n     * [0, 0, 3] a, NANOSECONDS, 4\r\n     * [0, 1, 0] a, MICROSECONDS, 1\r\n     * [0, 1, 1] a, MICROSECONDS, 2\r\n     * [0, 1, 2] a, MICROSECONDS, 3\r\n     * [0, 1, 3] a, MICROSECONDS, 4\r\n     * [0, 2, 0] a, MILLISECONDS, 1\r\n     * [0, 2, 1] a, MILLISECONDS, 2\r\n     * [0, 2, 2] a, MILLISECONDS, 3\r\n     * [0, 2, 3] a, MILLISECONDS, 4\r\n     * [0, 3, 0] a, SECONDS, 1\r\n     * [0, 3, 1] a, SECONDS, 2\r\n     * [0, 3, 2] a, SECONDS, 3\r\n     * [0, 3, 3] a, SECONDS, 4\r\n     * [0, 4, 0] a, MINUTES, 1\r\n     * [0, 4, 1] a, MINUTES, 2\r\n     * ...\r\n     * &lt;/pre&gt;\r\n     */\r\n    public static void main(String[] args) {\r\n        String[] list1 = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;,};\r\n        TimeUnit[] list2 = TimeUnit.values();\r\n        int[] list3 = new int[]{1, 2, 3, 4};\r\n\r\n        int[] lengths = new int[]{list1.length, list2.length, list3.length};\r\n        for (int[] indices : new CartesianProduct(lengths)) {\r\n            System.out.println(Arrays.toString(indices) //\r\n                    + &quot; &quot; + list1[indices[0]] //\r\n                    + &quot;, &quot; + list2[indices[1]] //\r\n                    + &quot;, &quot; + list3[indices[2]]);\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Iteratively compute the Cartesian product of an arbitrary number of sets","body":"<p><strong>Index-based solution</strong></p>\n<p>Working with the indices is a simple alternative that is fast and memory-efficient and can handle any number of sets. Implementing Iterable allows easy use in a for-each loop. See the #main method for a usage example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CartesianProduct implements Iterable&lt;int[]&gt;, Iterator&lt;int[]&gt; {\n    private final int[] _lengths;\n    private final int[] _indices;\n    private boolean _hasNext = true;\n\n    public CartesianProduct(int[] lengths) {\n        _lengths = lengths;\n        _indices = new int[lengths.length];\n    }\n\n    public boolean hasNext() {\n        return _hasNext;\n    }\n\n    public int[] next() {\n        int[] result = Arrays.copyOf(_indices, _indices.length);\n        for (int i = _indices.length - 1; i &gt;= 0; i--) {\n            if (_indices[i] == _lengths[i] - 1) {\n                _indices[i] = 0;\n                if (i == 0) {\n                    _hasNext = false;\n                }\n            } else {\n                _indices[i]++;\n                break;\n            }\n        }\n        return result;\n    }\n\n    public Iterator&lt;int[]&gt; iterator() {\n        return this;\n    }\n\n    public void remove() {\n        throw new UnsupportedOperationException();\n    }\n\n    /**\n     * Usage example. Prints out\n     *\n     * &lt;pre&gt;\n     * [0, 0, 0] a, NANOSECONDS, 1\n     * [0, 0, 1] a, NANOSECONDS, 2\n     * [0, 0, 2] a, NANOSECONDS, 3\n     * [0, 0, 3] a, NANOSECONDS, 4\n     * [0, 1, 0] a, MICROSECONDS, 1\n     * [0, 1, 1] a, MICROSECONDS, 2\n     * [0, 1, 2] a, MICROSECONDS, 3\n     * [0, 1, 3] a, MICROSECONDS, 4\n     * [0, 2, 0] a, MILLISECONDS, 1\n     * [0, 2, 1] a, MILLISECONDS, 2\n     * [0, 2, 2] a, MILLISECONDS, 3\n     * [0, 2, 3] a, MILLISECONDS, 4\n     * [0, 3, 0] a, SECONDS, 1\n     * [0, 3, 1] a, SECONDS, 2\n     * [0, 3, 2] a, SECONDS, 3\n     * [0, 3, 3] a, SECONDS, 4\n     * [0, 4, 0] a, MINUTES, 1\n     * [0, 4, 1] a, MINUTES, 2\n     * ...\n     * &lt;/pre&gt;\n     */\n    public static void main(String[] args) {\n        String[] list1 = {&quot;a&quot;, &quot;b&quot;, &quot;c&quot;,};\n        TimeUnit[] list2 = TimeUnit.values();\n        int[] list3 = new int[]{1, 2, 3, 4};\n\n        int[] lengths = new int[]{list1.length, list2.length, list3.length};\n        for (int[] indices : new CartesianProduct(lengths)) {\n            System.out.println(Arrays.toString(indices) //\n                    + &quot; &quot; + list1[indices[0]] //\n                    + &quot;, &quot; + list2[indices[1]] //\n                    + &quot;, &quot; + list3[indices[2]]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":192592,"reputation":21571,"user_id":433814,"accept_rate":86,"display_name":"Marcello DeSales"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1464376483,"creation_date":1464376483,"answer_id":37490796,"question_id":1719594,"body_markdown":"Using Google Guava 19 and Java 8 is very simple:\r\n\r\nSay you have the List of all arrays you want to associate...\r\n\r\n    public static void main(String[] args) {\r\n      List&lt;String[]&gt; elements = Arrays.asList(\r\n        new String[]{&quot;John&quot;, &quot;Mary&quot;}, \r\n        new String[]{&quot;Eats&quot;, &quot;Works&quot;, &quot;Plays&quot;},\r\n        new String[]{&quot;Food&quot;, &quot;Computer&quot;, &quot;Guitar&quot;}\r\n      );\r\n\r\n      // Create a list of immutableLists of strings\r\n      List&lt;ImmutableList&lt;String&gt;&gt; immutableElements = makeListofImmutable(elements);\r\n\r\n      // Use Guava&#39;s Lists.cartesianProduct, since Guava 19\r\n      List&lt;List&lt;String&gt;&gt; cartesianProduct = Lists.cartesianProduct(immutableElements);\r\n\r\n      System.out.println(cartesianProduct);\r\n    }\r\n\r\nThe method to make the list of immutable lists is as follows:\r\n\r\n    /**\r\n     * @param values the list of all profiles provided by the client in matrix.json\r\n     * @return the list of ImmutableList to compute the Cartesian product of values\r\n     */\r\n    private static List&lt;ImmutableList&lt;String&gt;&gt; makeListofImmutable(List&lt;String[]&gt; values) {\r\n      List&lt;ImmutableList&lt;String&gt;&gt; converted = new LinkedList&lt;&gt;();\r\n      values.forEach(array -&gt; {\r\n        converted.add(ImmutableList.copyOf(array));\r\n      });\r\n      return converted;\r\n    }\r\n\r\nThe output is as follows:\r\n\r\n    [\r\n      [John, Eats, Food], [John, Eats, Computer], [John, Eats, Guitar],\r\n      [John, Works, Food], [John, Works, Computer], [John, Works, Guitar], \r\n      [John, Plays, Food], [John, Plays, Computer], [John, Plays, Guitar],\r\n      [Mary, Eats, Food], [Mary, Eats, Computer], [Mary, Eats, Guitar],\r\n      [Mary, Works, Food], [Mary, Works, Computer], [Mary, Works, Guitar],\r\n      [Mary, Plays, Food], [Mary, Plays, Computer], [Mary, Plays, Guitar]\r\n    ]\r\n","title":"Iteratively compute the Cartesian product of an arbitrary number of sets","body":"<p>Using Google Guava 19 and Java 8 is very simple:</p>\n\n<p>Say you have the List of all arrays you want to associate...</p>\n\n<pre><code>public static void main(String[] args) {\n  List&lt;String[]&gt; elements = Arrays.asList(\n    new String[]{\"John\", \"Mary\"}, \n    new String[]{\"Eats\", \"Works\", \"Plays\"},\n    new String[]{\"Food\", \"Computer\", \"Guitar\"}\n  );\n\n  // Create a list of immutableLists of strings\n  List&lt;ImmutableList&lt;String&gt;&gt; immutableElements = makeListofImmutable(elements);\n\n  // Use Guava's Lists.cartesianProduct, since Guava 19\n  List&lt;List&lt;String&gt;&gt; cartesianProduct = Lists.cartesianProduct(immutableElements);\n\n  System.out.println(cartesianProduct);\n}\n</code></pre>\n\n<p>The method to make the list of immutable lists is as follows:</p>\n\n<pre><code>/**\n * @param values the list of all profiles provided by the client in matrix.json\n * @return the list of ImmutableList to compute the Cartesian product of values\n */\nprivate static List&lt;ImmutableList&lt;String&gt;&gt; makeListofImmutable(List&lt;String[]&gt; values) {\n  List&lt;ImmutableList&lt;String&gt;&gt; converted = new LinkedList&lt;&gt;();\n  values.forEach(array -&gt; {\n    converted.add(ImmutableList.copyOf(array));\n  });\n  return converted;\n}\n</code></pre>\n\n<p>The output is as follows:</p>\n\n<pre><code>[\n  [John, Eats, Food], [John, Eats, Computer], [John, Eats, Guitar],\n  [John, Works, Food], [John, Works, Computer], [John, Works, Guitar], \n  [John, Plays, Food], [John, Plays, Computer], [John, Plays, Guitar],\n  [Mary, Eats, Food], [Mary, Eats, Computer], [Mary, Eats, Guitar],\n  [Mary, Works, Food], [Mary, Works, Computer], [Mary, Works, Guitar],\n  [Mary, Plays, Food], [Mary, Plays, Computer], [Mary, Plays, Guitar]\n]\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user15675591"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619213215,"creation_date":1618937266,"answer_id":67183097,"question_id":1719594,"body_markdown":"You can use [`Stream.reduce`][1] method.\r\n\r\n*Java 9* without additional libraries.\r\n```java\r\npublic static &lt;U&gt; List&lt;Set&lt;U&gt;&gt; cartesianProduct(List&lt;Set&lt;? extends U&gt;&gt; sets) {\r\n    // incorrect incoming data\r\n    if (sets == null) return Collections.emptyList();\r\n    return sets.stream()\r\n            // non-null and non-empty sets\r\n            .filter(set -&gt; set != null &amp;&amp; set.size() &gt; 0)\r\n            // represent each set element as Set&lt;U&gt;\r\n            .map(set -&gt; set.stream().map(Set::&lt;U&gt;of)\r\n                    // Stream&lt;List&lt;Set&lt;U&gt;&gt;&gt;\r\n                    .collect(Collectors.toList()))\r\n            // summation of pairs of inner sets\r\n            .reduce((set1, set2) -&gt; set1.stream()\r\n                    // combinations of inner sets\r\n                    .flatMap(inner1 -&gt; set2.stream()\r\n                            // merge two inner sets into one\r\n                            .map(inner2 -&gt; Stream.of(inner1, inner2)\r\n                                    .flatMap(Set::stream)\r\n                                    .collect(Collectors.toSet())))\r\n                    // list of combinations\r\n                    .collect(Collectors.toList()))\r\n            // List&lt;Set&lt;U&gt;&gt;\r\n            .orElse(Collections.emptyList());\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    Set&lt;Integer&gt; set1 = Set.of(1, 2);\r\n    Set&lt;Double&gt; set2 = Set.of(3.0, 4.0);\r\n    Set&lt;Long&gt; set3 = Set.of(5L, 6L);\r\n\r\n    List&lt;Set&lt;Number&gt;&gt; sets = cartesianProduct(List.of(set1, set2, set3));\r\n    // output\r\n    sets.forEach(System.out::println);\r\n}\r\n```\r\nOutput (the order of the elements may differ):\r\n```\r\n[1, 3.0, 5]\r\n[1, 3.0, 6]\r\n[1, 4.0, 5]\r\n[1, 4.0, 6]\r\n[2, 3.0, 5]\r\n[2, 3.0, 6]\r\n[2, 4.0, 5]\r\n[2, 4.0, 6]\r\n```\r\n\r\n---\r\n\r\n&lt;sup&gt;See also: [Cartesian product of an arbitrary number of sets][2]&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#reduce-java.util.function.BinaryOperator-\r\n  [2]: https://stackoverflow.com/a/67174557/15675591","title":"Iteratively compute the Cartesian product of an arbitrary number of sets","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#reduce-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\"><code>Stream.reduce</code></a> method.</p>\n<p><em>Java 9</em> without additional libraries.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;U&gt; List&lt;Set&lt;U&gt;&gt; cartesianProduct(List&lt;Set&lt;? extends U&gt;&gt; sets) {\n    // incorrect incoming data\n    if (sets == null) return Collections.emptyList();\n    return sets.stream()\n            // non-null and non-empty sets\n            .filter(set -&gt; set != null &amp;&amp; set.size() &gt; 0)\n            // represent each set element as Set&lt;U&gt;\n            .map(set -&gt; set.stream().map(Set::&lt;U&gt;of)\n                    // Stream&lt;List&lt;Set&lt;U&gt;&gt;&gt;\n                    .collect(Collectors.toList()))\n            // summation of pairs of inner sets\n            .reduce((set1, set2) -&gt; set1.stream()\n                    // combinations of inner sets\n                    .flatMap(inner1 -&gt; set2.stream()\n                            // merge two inner sets into one\n                            .map(inner2 -&gt; Stream.of(inner1, inner2)\n                                    .flatMap(Set::stream)\n                                    .collect(Collectors.toSet())))\n                    // list of combinations\n                    .collect(Collectors.toList()))\n            // List&lt;Set&lt;U&gt;&gt;\n            .orElse(Collections.emptyList());\n}\n\npublic static void main(String[] args) {\n    Set&lt;Integer&gt; set1 = Set.of(1, 2);\n    Set&lt;Double&gt; set2 = Set.of(3.0, 4.0);\n    Set&lt;Long&gt; set3 = Set.of(5L, 6L);\n\n    List&lt;Set&lt;Number&gt;&gt; sets = cartesianProduct(List.of(set1, set2, set3));\n    // output\n    sets.forEach(System.out::println);\n}\n</code></pre>\n<p>Output (the order of the elements may differ):</p>\n<pre><code>[1, 3.0, 5]\n[1, 3.0, 6]\n[1, 4.0, 5]\n[1, 4.0, 6]\n[2, 3.0, 5]\n[2, 3.0, 6]\n[2, 4.0, 5]\n[2, 4.0, 6]\n</code></pre>\n<hr />\n<p><sup>See also: <a href=\"https://stackoverflow.com/a/67174557/15675591\">Cartesian product of an arbitrary number of sets</a></sup></p>\n"}],"owner":{"account_id":26547,"reputation":10270,"user_id":69178,"accept_rate":78,"display_name":"akappa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13720,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":1723050,"answer_count":10,"score":21,"last_activity_date":1668280242,"creation_date":1257994576,"question_id":1719594,"body_markdown":"I want to compute the cartesian product of an arbitrary number of **nonempty** sets in Java.\r\n\r\nI&#39;ve wrote that iterative code...\r\n\r\n\tpublic static &lt;T&gt; List&lt;Set&lt;T&gt;&gt; cartesianProduct(List&lt;Set&lt;T&gt;&gt; list) {\r\n\t\tList&lt;Iterator&lt;T&gt;&gt; iterators = new ArrayList&lt;Iterator&lt;T&gt;&gt;(list.size());\r\n\t\tList&lt;T&gt; elements = new ArrayList&lt;T&gt;(list.size());\r\n\t\tList&lt;Set&lt;T&gt;&gt; toRet = new ArrayList&lt;Set&lt;T&gt;&gt;();\r\n\t\tfor (int i = 0; i &lt; list.size(); i++) {\r\n\t\t\titerators.add(list.get(i).iterator());\r\n\t\t\telements.add(iterators.get(i).next());\r\n\t\t}\r\n\t\tfor (int j = 1; j &gt;= 0;) {\r\n\t\t\ttoRet.add(Sets.newHashSet(elements));\r\n\t\t\tfor (j = iterators.size()-1; j &gt;= 0 &amp;&amp; !iterators.get(j).hasNext(); j--) {\r\n\t\t\t\titerators.set(j, list.get(j).iterator());\r\n\t\t\t\telements.set(j, iterators.get(j).next());\r\n\t\t\t}\r\n\t\t\telements.set(Math.abs(j), iterators.get(Math.abs(j)).next());\r\n\t\t}\r\n\t\treturn toRet;\r\n\t}\r\n\r\n...but I found it rather inelegant. \r\nSomeone has a better, still iterative solution? A solution that uses some wonderful functional-like approach?\r\nOtherwise... suggestion about how to improve it? Errors?","title":"Iteratively compute the Cartesian product of an arbitrary number of sets","body":"<p>I want to compute the cartesian product of an arbitrary number of <strong>nonempty</strong> sets in Java.</p>\n\n<p>I've wrote that iterative code...</p>\n\n<pre><code>public static &lt;T&gt; List&lt;Set&lt;T&gt;&gt; cartesianProduct(List&lt;Set&lt;T&gt;&gt; list) {\n    List&lt;Iterator&lt;T&gt;&gt; iterators = new ArrayList&lt;Iterator&lt;T&gt;&gt;(list.size());\n    List&lt;T&gt; elements = new ArrayList&lt;T&gt;(list.size());\n    List&lt;Set&lt;T&gt;&gt; toRet = new ArrayList&lt;Set&lt;T&gt;&gt;();\n    for (int i = 0; i &lt; list.size(); i++) {\n        iterators.add(list.get(i).iterator());\n        elements.add(iterators.get(i).next());\n    }\n    for (int j = 1; j &gt;= 0;) {\n        toRet.add(Sets.newHashSet(elements));\n        for (j = iterators.size()-1; j &gt;= 0 &amp;&amp; !iterators.get(j).hasNext(); j--) {\n            iterators.set(j, list.get(j).iterator());\n            elements.set(j, iterators.get(j).next());\n        }\n        elements.set(Math.abs(j), iterators.get(Math.abs(j)).next());\n    }\n    return toRet;\n}\n</code></pre>\n\n<p>...but I found it rather inelegant. \nSomeone has a better, still iterative solution? A solution that uses some wonderful functional-like approach?\nOtherwise... suggestion about how to improve it? Errors?</p>\n"},{"tags":["java","json","yaml"],"comments":[{"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"score":0,"creation_date":1668280250,"post_id":74415776,"comment_id":131368772,"body_markdown":"Does this one help? https://stackoverflow.com/questions/23744216/how-do-i-convert-from-yaml-to-json-in-java","body":"Does this one help? <a href=\"https://stackoverflow.com/questions/23744216/how-do-i-convert-from-yaml-to-json-in-java\" title=\"how do i convert from yaml to json in java\">stackoverflow.com/questions/23744216/&hellip;</a>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668280257,"post_id":74415776,"comment_id":131368776,"body_markdown":"Do you need to convert them programmatically? There are plenty of tools out there (online, IntelliJ, ...) that convert between those formats.","body":"Do you need to convert them programmatically? There are plenty of tools out there (online, IntelliJ, ...) that convert between those formats."},{"owner":{"account_id":4254831,"reputation":1,"user_id":3480794,"display_name":"Justo"},"score":0,"creation_date":1668281043,"post_id":74415776,"comment_id":131368929,"body_markdown":"@rosIvan, in the app we using keys with view &quot;rytFeePayment.edit.currency&quot; - to create translation terms for interface.\nThere is needed to create name of key from structure and back","body":"@rosIvan, in the app we using keys with view &quot;rytFeePayment.edit.currency&quot; - to create translation terms for interface. There is needed to create name of key from structure and back"},{"owner":{"account_id":4254831,"reputation":1,"user_id":3480794,"display_name":"Justo"},"score":0,"creation_date":1668281126,"post_id":74415776,"comment_id":131368943,"body_markdown":"@Turing85, yes we need to do that on server side","body":"@Turing85, yes we need to do that on server side"},{"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"score":0,"creation_date":1668283552,"post_id":74415776,"comment_id":131369468,"body_markdown":"@Justo, Do you need this one, but in the oposite way (Convert  tree-structured to dot notation keys YAML in Java)? https://stackoverflow.com/questions/40163376/convert-dot-notation-keys-to-tree-structured-yaml-in-ruby","body":"@Justo, Do you need this one, but in the oposite way (Convert  tree-structured to dot notation keys YAML in Java)? <a href=\"https://stackoverflow.com/questions/40163376/convert-dot-notation-keys-to-tree-structured-yaml-in-ruby\" title=\"convert dot notation keys to tree structured yaml in ruby\">stackoverflow.com/questions/40163376/&hellip;</a>"},{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":0,"creation_date":1668288186,"post_id":74415776,"comment_id":131370321,"body_markdown":"The first file has nothing to do with JSON, it is a properties file. [This answer](https://stackoverflow.com/a/69303779/347964) has a `yq` command that implements this transformation.","body":"The first file has nothing to do with JSON, it is a properties file. <a href=\"https://stackoverflow.com/a/69303779/347964\">This answer</a> has a <code>yq</code> command that implements this transformation."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668292968,"post_id":74415776,"comment_id":131371150,"body_markdown":"Can’t you just use the YaML directly, I am confident that there is at least one, open-sourced YaML interpreter available for Java. Especially since Spring Boot uses YaML","body":"Can’t you just use the YaML directly, I am confident that there is at least one, open-sourced YaML interpreter available for Java. Especially since Spring Boot uses YaML"},{"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"score":0,"creation_date":1668293248,"post_id":74415776,"comment_id":131371194,"body_markdown":"@flyx, yep to me it also looks as [Properties File Format](https://docs.oracle.com/cd/E23095_01/Platform.93/ATGProgGuide/html/s0204propertiesfileformat01.html)","body":"@flyx, yep to me it also looks as <a href=\"https://docs.oracle.com/cd/E23095_01/Platform.93/ATGProgGuide/html/s0204propertiesfileformat01.html\" rel=\"nofollow noreferrer\">Properties File Format</a>"},{"owner":{"account_id":4254831,"reputation":1,"user_id":3480794,"display_name":"Justo"},"score":0,"creation_date":1668336588,"post_id":74415776,"comment_id":131376090,"body_markdown":"@ChristophDahlen - oh, I have to check this idea. Thank you!!!","body":"@ChristophDahlen - oh, I have to check this idea. Thank you!!!"}],"owner":{"account_id":4254831,"reputation":1,"user_id":3480794,"display_name":"Justo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668279948,"creation_date":1668279948,"question_id":74415776,"body_markdown":"Java package read the JSON file with this data:\r\n\r\n```\r\nrytFeePayment.edit.currency: Currency\r\nrytFeePlan.edit.rightTypesGrid.title: Usage Types\r\nAvlReport.actions.addOisInMarketplace: Add to storefront\r\nAvlReport.actions.createInnerDeal: Create Acquisition deal\r\nAvlReport.actions.createSaleDeal: Create Sale deal\r\nAvlReportsResult.grid.create_deal.warn: Attention with deal creation\r\n\r\n```\r\nAlso in new project we using data in YAML format with below syntax:\r\n\r\n```\r\nrytFeePayment:\r\n   edit:\r\n      currency: &#39;Currency&#39;\r\n      rightTypesGrid:\r\n         title: &#39;Usage Types&#39;\r\nAviReport:\r\n   actions:\r\n      addOisInMarketplace: &#39;&#193;dd to storefront&#39;\r\n      createInnerDeal: &#39;Create Acquisition deal&#39;\r\n```\r\netc..\r\n\r\nAs I understand I have to transform YAML data to JSON with syntax that I showed in firts case\r\nHow to do that in command line?\r\n\r\nDoes jackson can help with it? ","title":"JSON &lt;-&gt; structured YAML","body":"<p>Java package read the JSON file with this data:</p>\n<pre><code>rytFeePayment.edit.currency: Currency\nrytFeePlan.edit.rightTypesGrid.title: Usage Types\nAvlReport.actions.addOisInMarketplace: Add to storefront\nAvlReport.actions.createInnerDeal: Create Acquisition deal\nAvlReport.actions.createSaleDeal: Create Sale deal\nAvlReportsResult.grid.create_deal.warn: Attention with deal creation\n\n</code></pre>\n<p>Also in new project we using data in YAML format with below syntax:</p>\n<pre><code>rytFeePayment:\n   edit:\n      currency: 'Currency'\n      rightTypesGrid:\n         title: 'Usage Types'\nAviReport:\n   actions:\n      addOisInMarketplace: 'Ádd to storefront'\n      createInnerDeal: 'Create Acquisition deal'\n</code></pre>\n<p>etc..</p>\n<p>As I understand I have to transform YAML data to JSON with syntax that I showed in firts case\nHow to do that in command line?</p>\n<p>Does jackson can help with it?</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":322007,"reputation":7050,"user_id":641170,"accept_rate":88,"display_name":"Rudy"},"score":2,"creation_date":1306168313,"post_id":6100148,"comment_id":7071850,"body_markdown":"Collections allows duplicate.","body":"Collections allows duplicate."},{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":0,"creation_date":1306168332,"post_id":6100148,"comment_id":7071855,"body_markdown":"Collections can (sometimes) contain duplicates based on their type. Sets can&#39;t, but lists can for example. It all depends on the (more specific) collection type.","body":"Collections can (sometimes) contain duplicates based on their type. Sets can&#39;t, but lists can for example. It all depends on the (more specific) collection type."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":0,"creation_date":1306168431,"post_id":6100148,"comment_id":7071887,"body_markdown":"@kreeSeeker: by &quot;array&quot; I take you mean a primitive array, like an *int[]* (seen that, say, an *ArrayList* is itself extending *Collection* at one point in its monstrously huge inheritance hierarchy).  Well, what you can do with, say, an int[], that you cannot do with an *List{Integer}* is get the most out of your hardware which is important for people doing, for example, number crunching (and, yes, Java can and *is* used to crunch numbers, just not with the default collection).  People don&#39;t realize that amount of waste that goes in *Map{Integer,Integer}*... Besides those using Trove ;)","body":"@kreeSeeker: by &quot;array&quot; I take you mean a primitive array, like an <i>int[]</i> (seen that, say, an <i>ArrayList</i> is itself extending <i>Collection</i> at one point in its monstrously huge inheritance hierarchy).  Well, what you can do with, say, an int[], that you cannot do with an <i>List{Integer}</i> is get the most out of your hardware which is important for people doing, for example, number crunching (and, yes, Java can and <i>is</i> used to crunch numbers, just not with the default collection).  People don&#39;t realize that amount of waste that goes in <i>Map{Integer,Integer}</i>... Besides those using Trove ;)"},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":4,"creation_date":1306168491,"post_id":6100148,"comment_id":7071903,"body_markdown":"@Marcelo Hern&#225;ndez Rishmawy: *&quot;Google is your friend&quot;* is not the kind of answer/comment welcome on SO.  And hiding it behind a *tinyurl* is lame.  SO is a place to find answers, not links to search engines.","body":"@Marcelo Hern&#225;ndez Rishmawy: <i>&quot;Google is your friend&quot;</i> is not the kind of answer/comment welcome on SO.  And hiding it behind a <i>tinyurl</i> is lame.  SO is a place to find answers, not links to search engines."},{"owner":{"account_id":64324,"reputation":76490,"user_id":189950,"accept_rate":79,"display_name":"Kirk Woll"},"score":2,"creation_date":1306168515,"post_id":6100148,"comment_id":7071916,"body_markdown":"@Rudy, @Berry120, @SyntaxT3rr0r, even answers to extremely simple questions should be **answers** and not comments.","body":"@Rudy, @Berry120, @SyntaxT3rr0r, even answers to extremely simple questions should be <b>answers</b> and not comments."},{"owner":{"account_id":395293,"reputation":543,"user_id":758172,"accept_rate":25,"display_name":"kreeSeeker"},"score":0,"creation_date":1306168617,"post_id":6100148,"comment_id":7071954,"body_markdown":"@SyntaxT3rr0r Yes That is exactly what I meant","body":"@SyntaxT3rr0r Yes That is exactly what I meant"},{"owner":{"account_id":395293,"reputation":543,"user_id":758172,"accept_rate":25,"display_name":"kreeSeeker"},"score":0,"creation_date":1306168733,"post_id":6100148,"comment_id":7071985,"body_markdown":"@SyntaxT3rr0r NUMBER Crunching! That was one of the things I have been looking for.","body":"@SyntaxT3rr0r NUMBER Crunching! That was one of the things I have been looking for."},{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":0,"creation_date":1306168775,"post_id":6100148,"comment_id":7071997,"body_markdown":"@Kirk Woll - my comment wasn&#39;t really an answer to the question at all though, it&#39;s just correcting a mistaken assumption that was mentioned in the last part of the question...","body":"@Kirk Woll - my comment wasn&#39;t really an answer to the question at all though, it&#39;s just correcting a mistaken assumption that was mentioned in the last part of the question..."},{"owner":{"account_id":120645,"reputation":11238,"user_id":313205,"display_name":"Marcelo"},"score":0,"creation_date":1306168981,"post_id":6100148,"comment_id":7072061,"body_markdown":"@SyntaxT3rr0r Yes, I was probably mean and not helpful. But I think the question is neither specific, nor was a proper research made, and a little more effort from the asker would have meant a lot more effort from me and other people wanting to help.","body":"@SyntaxT3rr0r Yes, I was probably mean and not helpful. But I think the question is neither specific, nor was a proper research made, and a little more effort from the asker would have meant a lot more effort from me and other people wanting to help."}],"answers":[{"tags":[],"owner":{"account_id":369568,"reputation":6016,"user_id":717027,"accept_rate":75,"display_name":"Liv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306168431,"creation_date":1306168431,"answer_id":6100196,"question_id":6100148,"body_markdown":"The Collection interface is just a base interface for specialised collections -- I am not aware yet of a class that simply just implements Collection; instead classes implement specialized interfaces which extend Collection. These specialized interfaces and abstract classes provide functionality for working with sets (unique objects), growing arrays (e.g. ArrayList), key-value maps etc -- all of which you cannot do out of the box with an array.\r\nHowever, iterating through an array and setting/reading items from an array remains one of the fastest methods of dealing with data in Java.","title":"Collection Interface vs arrays","body":"<p>The Collection interface is just a base interface for specialised collections -- I am not aware yet of a class that simply just implements Collection; instead classes implement specialized interfaces which extend Collection. These specialized interfaces and abstract classes provide functionality for working with sets (unique objects), growing arrays (e.g. ArrayList), key-value maps etc -- all of which you cannot do out of the box with an array.\nHowever, iterating through an array and setting/reading items from an array remains one of the fastest methods of dealing with data in Java.</p>\n"},{"comments":[{"owner":{"account_id":369568,"reputation":6016,"user_id":717027,"accept_rate":75,"display_name":"Liv"},"score":1,"creation_date":1306168687,"post_id":6100202,"comment_id":7071971,"body_markdown":"while that is true for some of the collection classes, it&#39;s not true for all of them! Look at some of the implementations of BlockingQueues (in java.util.concurrent) which don&#39;t expand necessarily -- as for shrinking apart from LinkedList I am not aware of any that does that -- which ones are you refering to?","body":"while that is true for some of the collection classes, it&#39;s not true for all of them! Look at some of the implementations of BlockingQueues (in java.util.concurrent) which don&#39;t expand necessarily -- as for shrinking apart from LinkedList I am not aware of any that does that -- which ones are you refering to?"},{"owner":{"account_id":369568,"reputation":6016,"user_id":717027,"accept_rate":75,"display_name":"Liv"},"score":0,"creation_date":1306168940,"post_id":6100202,"comment_id":7072050,"body_markdown":"that&#39;s ok -- it might help occasionally if you include the names of some of the classes you are referring to (e.g. the ones which grow and the ones which shrink -- in fact I&#39;m vary curious about that one as I only know of LinkedList to do so!).","body":"that&#39;s ok -- it might help occasionally if you include the names of some of the classes you are referring to (e.g. the ones which grow and the ones which shrink -- in fact I&#39;m vary curious about that one as I only know of LinkedList to do so!)."},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1306169061,"post_id":6100202,"comment_id":7072079,"body_markdown":"obviously depends on how you define shrink. An ArrayLists size can shrink, while an arrays .length stays fixed, right?","body":"obviously depends on how you define shrink. An ArrayLists size can shrink, while an arrays .length stays fixed, right?"},{"owner":{"account_id":369568,"reputation":6016,"user_id":717027,"accept_rate":75,"display_name":"Liv"},"score":0,"creation_date":1306170001,"post_id":6100202,"comment_id":7072329,"body_markdown":"oh right, i&#39;m with you! Obviously .size() can go up and down but the size of the array used internally never goes down -- I think that&#39;s the point I was trying to make. But I take your point!","body":"oh right, i&#39;m with you! Obviously .size() can go up and down but the size of the array used internally never goes down -- I think that&#39;s the point I was trying to make. But I take your point!"}],"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1306171266,"creation_date":1306168484,"answer_id":6100202,"question_id":6100148,"body_markdown":"It&#39;s basically a question of the desired **level of abstraction**.\r\n\r\nMost collections can be implemented in terms of arrays, but they provide many more methods on top of it for your convenience. Most collection implementations I know of for instance, can grow and shrink according to demand, or perform other &quot;high-level&quot; operations which basic arrays can&#39;t.\r\n\r\nSuppose for instance that you&#39;re loading strings from a file. You don&#39;t know how many new-line characters the file contains, thus you don&#39;t know what size to use when allocating the array. Therefore an ArrayList is a better choice.","title":"Collection Interface vs arrays","body":"<p>It's basically a question of the desired <strong>level of abstraction</strong>.</p>\n\n<p>Most collections can be implemented in terms of arrays, but they provide many more methods on top of it for your convenience. Most collection implementations I know of for instance, can grow and shrink according to demand, or perform other \"high-level\" operations which basic arrays can't.</p>\n\n<p>Suppose for instance that you're loading strings from a file. You don't know how many new-line characters the file contains, thus you don't know what size to use when allocating the array. Therefore an ArrayList is a better choice.</p>\n"},{"comments":[{"owner":{"account_id":395293,"reputation":543,"user_id":758172,"accept_rate":25,"display_name":"kreeSeeker"},"score":0,"creation_date":1306168854,"post_id":6100218,"comment_id":7072021,"body_markdown":"What about for example: ArrayList a {1,2,3,4,5,6,7,8,9,0}","body":"What about for example: ArrayList a {1,2,3,4,5,6,7,8,9,0}"},{"owner":{"account_id":395293,"reputation":543,"user_id":758172,"accept_rate":25,"display_name":"kreeSeeker"},"score":0,"creation_date":1306168882,"post_id":6100218,"comment_id":7072031,"body_markdown":"And ArrayList b {1,3,5,7,9,0}?","body":"And ArrayList b {1,3,5,7,9,0}?"},{"owner":{"account_id":395293,"reputation":543,"user_id":758172,"accept_rate":25,"display_name":"kreeSeeker"},"score":0,"creation_date":1306168925,"post_id":6100218,"comment_id":7072044,"body_markdown":"and a.addAll(b);  Wont it remove duplicates?","body":"and a.addAll(b);  Wont it remove duplicates?"},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1306168989,"post_id":6100218,"comment_id":7072062,"body_markdown":"ArrayList&#39;s can grow and shrink. Arrays can&#39;t. That&#39;s one of the main differences between arrays and ArrayLists. (See my answer for details.)","body":"ArrayList&#39;s can grow and shrink. Arrays can&#39;t. That&#39;s one of the main differences between arrays and ArrayLists. (See my answer for details.)"},{"owner":{"account_id":395293,"reputation":543,"user_id":758172,"accept_rate":25,"display_name":"kreeSeeker"},"score":0,"creation_date":1306169130,"post_id":6100218,"comment_id":7072095,"body_markdown":"Ok I think I see it now. So what if the ArrayLists I mentioned were instead primitive Arrays? What would the above code do?","body":"Ok I think I see it now. So what if the ArrayLists I mentioned were instead primitive Arrays? What would the above code do?"},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1306169316,"post_id":6100218,"comment_id":7072151,"body_markdown":"You can&#39;t do `addAll` on a primitive array. If you try to add elements past index `arr.length-1` you&#39;ll get an `ArrayIndexOutOfBoundsException`.","body":"You can&#39;t do <code>addAll</code> on a primitive array. If you try to add elements past index <code>arr.length-1</code> you&#39;ll get an <code>ArrayIndexOutOfBoundsException</code>."},{"owner":{"account_id":395293,"reputation":543,"user_id":758172,"accept_rate":25,"display_name":"kreeSeeker"},"score":0,"creation_date":1306169506,"post_id":6100218,"comment_id":7072198,"body_markdown":"@aioobe thats what I thought it would. So if you had two ArrayLists or LinkLists and wanted to combine them into the first List how could you use collections to do that?","body":"@aioobe thats what I thought it would. So if you had two ArrayLists or LinkLists and wanted to combine them into the first List how could you use collections to do that?"},{"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"score":0,"creation_date":1306169618,"post_id":6100218,"comment_id":7072226,"body_markdown":"the point is that the Collections have APIs that allow you to do things based on the type of the collection. An array is just an array.  It has very little abstraction around it.","body":"the point is that the Collections have APIs that allow you to do things based on the type of the collection. An array is just an array.  It has very little abstraction around it."},{"owner":{"account_id":395293,"reputation":543,"user_id":758172,"accept_rate":25,"display_name":"kreeSeeker"},"score":0,"creation_date":1306169848,"post_id":6100218,"comment_id":7072277,"body_markdown":"@hvgotcodes ok thanks. I have to go back to class. Thanks for All the Answers","body":"@hvgotcodes ok thanks. I have to go back to class. Thanks for All the Answers"}],"tags":[],"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1306168593,"creation_date":1306168593,"answer_id":6100218,"question_id":6100148,"body_markdown":"The details are in the sub interfaces of Collection, like Set, List, and Map.  Each of those types has *semantics*.  A Set typically cannot contain duplicates, and has no notion of order (although some implementations do), following the mathematical concept of a Set.  A List is closest to an Array.  A Map has specific behavior for push and get.  You push an object by its key, and you retrieve with the same key.  \r\n\r\nThere are even more details in the *implementations* of each collection type.  For example, any of the hash based collections (e.g. HashSet, HasMap) are based on the hashcode() method that exists on any Java object.\r\n\r\nYou could simulate the semantics of any collection type based of an array, but you would have to write a lot of code to do it.  For example, to back a Map with an array, you would need to write a method that puts any object entered into your Map into a specific bucket in the array.  You would need to handle duplicates.  For an array simulating a Set, you would need to write code to not allow duplicates.  ","title":"Collection Interface vs arrays","body":"<p>The details are in the sub interfaces of Collection, like Set, List, and Map.  Each of those types has <em>semantics</em>.  A Set typically cannot contain duplicates, and has no notion of order (although some implementations do), following the mathematical concept of a Set.  A List is closest to an Array.  A Map has specific behavior for push and get.  You push an object by its key, and you retrieve with the same key.  </p>\n\n<p>There are even more details in the <em>implementations</em> of each collection type.  For example, any of the hash based collections (e.g. HashSet, HasMap) are based on the hashcode() method that exists on any Java object.</p>\n\n<p>You could simulate the semantics of any collection type based of an array, but you would have to write a lot of code to do it.  For example, to back a Map with an array, you would need to write a method that puts any object entered into your Map into a specific bucket in the array.  You would need to handle duplicates.  For an array simulating a Set, you would need to write code to not allow duplicates.  </p>\n"},{"tags":[],"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306168728,"creation_date":1306168728,"answer_id":6100239,"question_id":6100148,"body_markdown":"One advantage is the Iterator interface. That is all Collections implement an Iterator. An Iterator is an object that knows how to iterate over the given collection and present the programmer with a uniformed interface regardless of the underlying implementation. That is, a linked list is traversed differently from a binary tree, but the iterator hides these differences from the programmer making it easier for the programmer to use one or the other collection.\r\n\r\nThis also leads to the ability to use various implementations of Collections interchangeably if the client code targets the Collection interface iteself.","title":"Collection Interface vs arrays","body":"<p>One advantage is the Iterator interface. That is all Collections implement an Iterator. An Iterator is an object that knows how to iterate over the given collection and present the programmer with a uniformed interface regardless of the underlying implementation. That is, a linked list is traversed differently from a binary tree, but the iterator hides these differences from the programmer making it easier for the programmer to use one or the other collection.</p>\n\n<p>This also leads to the ability to use various implementations of Collections interchangeably if the client code targets the Collection interface iteself.</p>\n"},{"comments":[{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":2,"creation_date":1348335426,"post_id":6105705,"comment_id":16895295,"body_markdown":"From what I understand, arrays are inherently threadsafe without locking in the scenario where different threads are accessing disjoint parts of the array.  Most collections are either not threadsafe at all for any operations concurrent with any writes, even when the regions being acted upon are disjoint, or else they impose substantial threading-related overhead even when all threads happen to access disjoint regions. In .net arrays can offer thread-safety even when threads use shared elements, via `Interlocked.CompareExchange` but I don&#39;t think that&#39;s available on Java array elements.","body":"From what I understand, arrays are inherently threadsafe without locking in the scenario where different threads are accessing disjoint parts of the array.  Most collections are either not threadsafe at all for any operations concurrent with any writes, even when the regions being acted upon are disjoint, or else they impose substantial threading-related overhead even when all threads happen to access disjoint regions. In .net arrays can offer thread-safety even when threads use shared elements, via <code>Interlocked.CompareExchange</code> but I don&#39;t think that&#39;s available on Java array elements."},{"owner":{"account_id":414189,"reputation":2169,"user_id":788273,"accept_rate":58,"display_name":"Kr0e"},"score":0,"creation_date":1430480153,"post_id":6105705,"comment_id":48091404,"body_markdown":"Maybe with com.sun.Unsafe, which will be public in JDK9.","body":"Maybe with com.sun.Unsafe, which will be public in JDK9."}],"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"comment_count":2,"down_vote_count":0,"up_vote_count":76,"is_accepted":false,"score":76,"last_activity_date":1668279897,"creation_date":1306211434,"answer_id":6105705,"question_id":6100148,"body_markdown":"The easy way to think of it is: Collections beat object arrays in basically every single way. Consider:\r\n\r\n - A collection can be mutable or immutable. A nonempty array must always be mutable.\r\n - A collection can allow or disallow null elements. An array must always permit null elements.\r\n - A collection can be thread-safe; even concurrent. An array is never safe to publish to multiple threads.\r\n - A list or set&#39;s `equals`, `hashCode` and `toString` methods do what users expect; on an array they are a common source of bugs.\r\n - A collection is type-safe; an array is not. Because arrays &quot;fake&quot; covariance, `ArrayStoreException` can result at runtime.\r\n - A collection can hold a non-reifiable type (e.g. `List&lt;Class&lt;? extends E&gt;&gt;` or `List&lt;Optional&lt;T&gt;&gt;`). An array will generate a warning for this.\r\n - A collection can have views (unmodifiable, subList...). No such luck for an array.\r\n - A collection has a full-fledged API; an array has only set-at-index, get-at-index, length and clone.\r\n - Type-use annotations like `@Nullable` are very confusing with arrays. I promise you can&#39;t guess what `@A String @B [] @C []` means.\r\n - Because of all the reasons above, third-party utility libraries should not bother adding much additional support for arrays, focusing only on collections, so you also have a network effect.\r\n\r\nObject arrays will never be first-class citizens in Java APIs.\r\n\r\nA _couple_ of the reasons above are covered -- but in much greater detail -- in _Effective Java, Third Edition_, Item 28, from page 126.\r\n\r\nSo, why would you ever use object arrays?\r\n\r\n - You&#39;re very tightly optimizing something\r\n - You have to interact with an API that uses them and you can&#39;t fix it\r\n   - so convert to/from a `List` as close to that API as you can\r\n - Because varargs (but varargs is overused)\r\n   - so ... same as previous\r\n - Obviously some collection implementations must be using them\r\n - I can&#39;t think of any other reasons, they suck bad","title":"Collection Interface vs arrays","body":"<p>The easy way to think of it is: Collections beat object arrays in basically every single way. Consider:</p>\n<ul>\n<li>A collection can be mutable or immutable. A nonempty array must always be mutable.</li>\n<li>A collection can allow or disallow null elements. An array must always permit null elements.</li>\n<li>A collection can be thread-safe; even concurrent. An array is never safe to publish to multiple threads.</li>\n<li>A list or set's <code>equals</code>, <code>hashCode</code> and <code>toString</code> methods do what users expect; on an array they are a common source of bugs.</li>\n<li>A collection is type-safe; an array is not. Because arrays &quot;fake&quot; covariance, <code>ArrayStoreException</code> can result at runtime.</li>\n<li>A collection can hold a non-reifiable type (e.g. <code>List&lt;Class&lt;? extends E&gt;&gt;</code> or <code>List&lt;Optional&lt;T&gt;&gt;</code>). An array will generate a warning for this.</li>\n<li>A collection can have views (unmodifiable, subList...). No such luck for an array.</li>\n<li>A collection has a full-fledged API; an array has only set-at-index, get-at-index, length and clone.</li>\n<li>Type-use annotations like <code>@Nullable</code> are very confusing with arrays. I promise you can't guess what <code>@A String @B [] @C []</code> means.</li>\n<li>Because of all the reasons above, third-party utility libraries should not bother adding much additional support for arrays, focusing only on collections, so you also have a network effect.</li>\n</ul>\n<p>Object arrays will never be first-class citizens in Java APIs.</p>\n<p>A <em>couple</em> of the reasons above are covered -- but in much greater detail -- in <em>Effective Java, Third Edition</em>, Item 28, from page 126.</p>\n<p>So, why would you ever use object arrays?</p>\n<ul>\n<li>You're very tightly optimizing something</li>\n<li>You have to interact with an API that uses them and you can't fix it\n<ul>\n<li>so convert to/from a <code>List</code> as close to that API as you can</li>\n</ul>\n</li>\n<li>Because varargs (but varargs is overused)\n<ul>\n<li>so ... same as previous</li>\n</ul>\n</li>\n<li>Obviously some collection implementations must be using them</li>\n<li>I can't think of any other reasons, they suck bad</li>\n</ul>\n"}],"owner":{"account_id":395293,"reputation":543,"user_id":758172,"accept_rate":25,"display_name":"kreeSeeker"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21222,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"answer_count":5,"score":49,"last_activity_date":1668279897,"creation_date":1306168180,"question_id":6100148,"body_markdown":"We are learning about the Collection Interface and I was wondering if you all have any good advice for it&#39;s general use? What can you do with an Collection that you cannot do with an array? What can you do with an array that you cannot do with a Collection(besides allowing duplicates)?","title":"Collection Interface vs arrays","body":"<p>We are learning about the Collection Interface and I was wondering if you all have any good advice for it's general use? What can you do with an Collection that you cannot do with an array? What can you do with an array that you cannot do with a Collection(besides allowing duplicates)?</p>\n"},{"tags":["java","javafx","fxml"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1651064873,"post_id":72029078,"comment_id":127273182,"body_markdown":"It&#39;s not really clear what you&#39;re doing here. What&#39;s the relationship between the FXML and what you described? If you want to add new blocks in your `addPlotBlock()` method, then that method should create a new `AnchorPane` (either directly in code or by loading an FXML). Which container are these supposed to be added to (the root `AnchorPane` defined in the FXML, the single child `AnchorPane` called `plot` defined in the FXML, or something else)? And it is *always* incorrect to initialize something annotated `@FXML`.","body":"It&#39;s not really clear what you&#39;re doing here. What&#39;s the relationship between the FXML and what you described? If you want to add new blocks in your <code>addPlotBlock()</code> method, then that method should create a new <code>AnchorPane</code> (either directly in code or by loading an FXML). Which container are these supposed to be added to (the root <code>AnchorPane</code> defined in the FXML, the single child <code>AnchorPane</code> called <code>plot</code> defined in the FXML, or something else)? And it is <i>always</i> incorrect to initialize something annotated <code>@FXML</code>."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1651066175,"post_id":72029078,"comment_id":127273748,"body_markdown":"That sounds like something you need to do in code and not FXML.","body":"That sounds like something you need to do in code and not FXML."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1651066362,"post_id":72029078,"comment_id":127273838,"body_markdown":"Also, I am not sure if you are laying things out in a grid. If you are have a look at `GridPane` and/or `TilePane`.","body":"Also, I am not sure if you are laying things out in a grid. If you are have a look at <code>GridPane</code> and/or <code>TilePane</code>."},{"owner":{"account_id":21268089,"reputation":39,"user_id":15648032,"display_name":"Pixtane"},"score":0,"creation_date":1651233887,"post_id":72029078,"comment_id":127321372,"body_markdown":"@James_D First I wanted to create AnchorPane with root using but I don&#39;t know how to show my widget. If I just declare anchorpane it won&#39;t show in the screen, so I founded that if I declare object in FXML I can show my widget and its work but only for one widget and not multiply, so if you can please tell how to show widget in controller class. I know if create loop in application class it works but for me it doesn&#39;t work in controller.","body":"@James_D First I wanted to create AnchorPane with root using but I don&#39;t know how to show my widget. If I just declare anchorpane it won&#39;t show in the screen, so I founded that if I declare object in FXML I can show my widget and its work but only for one widget and not multiply, so if you can please tell how to show widget in controller class. I know if create loop in application class it works but for me it doesn&#39;t work in controller."}],"answers":[{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1651321448,"post_id":72062787,"comment_id":127339844,"body_markdown":"beware: you __must not__ instantiate a field that&#39;s annotated with @fxml (aka: meant to be injected) - here you can probably simply remove the annotation, if it is not meant to be created by the fxml","body":"beware: you <b>must not</b> instantiate a field that&#39;s annotated with @fxml (aka: meant to be injected) - here you can probably simply remove the annotation, if it is not meant to be created by the fxml"}],"tags":[],"owner":{"account_id":21268089,"reputation":39,"user_id":15648032,"display_name":"Pixtane"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1651259946,"creation_date":1651259946,"answer_id":72062787,"question_id":72029078,"body_markdown":"Okay, I found how to fix it.\r\nTo make this you need to change id in FXML main file not in children but in pane (my AnchorPane) and then make AnchorPane with exact name in controller.\r\nThen you can initialyze your blocks or anything inside controller and add it in pane.\r\nHere is my solution.\r\n\r\ncontroller &gt;\r\n\r\n    plots.getChildren().add(card); // plots is id\r\n\r\nupper command is inside button click.\r\n\r\n    @FXML\r\n    private AnchorPane plot = new AnchorPane();\r\n\r\n    @FXML\r\n    public AnchorPane plots;\r\n\r\nplot is objects. You can place infinite objects (if you have memory)\r\n \r\nplots is id of anchorpane.\r\n\r\nFXML anchorpane\r\n\r\n    &lt;AnchorPane fx:id=&quot;plots&quot; maxHeight=&quot;-1.0&quot; maxWidth=&quot;-1.0&quot; prefHeight=&quot;-1.0&quot; prefWidth=&quot;-1.0&quot; VBox.vgrow=&quot;ALWAYS&quot; style=&quot;-fx-background-color: #301934;&quot; /&gt;\r\nSo anchorpane have id and you add child arguments (plot) to main pane (plots).\r\nThanks for commenting, and rules.","title":"Create multiple exact FXML objects in JavaFX","body":"<p>Okay, I found how to fix it.\nTo make this you need to change id in FXML main file not in children but in pane (my AnchorPane) and then make AnchorPane with exact name in controller.\nThen you can initialyze your blocks or anything inside controller and add it in pane.\nHere is my solution.</p>\n<p>controller &gt;</p>\n<pre><code>plots.getChildren().add(card); // plots is id\n</code></pre>\n<p>upper command is inside button click.</p>\n<pre><code>@FXML\nprivate AnchorPane plot = new AnchorPane();\n\n@FXML\npublic AnchorPane plots;\n</code></pre>\n<p>plot is objects. You can place infinite objects (if you have memory)</p>\n<p>plots is id of anchorpane.</p>\n<p>FXML anchorpane</p>\n<pre><code>&lt;AnchorPane fx:id=&quot;plots&quot; maxHeight=&quot;-1.0&quot; maxWidth=&quot;-1.0&quot; prefHeight=&quot;-1.0&quot; prefWidth=&quot;-1.0&quot; VBox.vgrow=&quot;ALWAYS&quot; style=&quot;-fx-background-color: #301934;&quot; /&gt;\n</code></pre>\n<p>So anchorpane have id and you add child arguments (plot) to main pane (plots).\nThanks for commenting, and rules.</p>\n"}],"owner":{"account_id":21268089,"reputation":39,"user_id":15648032,"display_name":"Pixtane"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":72062787,"answer_count":1,"score":-4,"last_activity_date":1668279838,"creation_date":1651063749,"question_id":72029078,"body_markdown":"I want to create multiple fxml objects inside the window, using code in fxml once. But they are not appearing more than once.\r\nHere is my controller code:\r\n\r\n```java\r\npublic class HelloController {\r\n    @FXML\r\n    private AnchorPane plot = new AnchorPane();\r\n\r\n    @FXML\r\n    void AddPlotBlock(ActionEvent event) {\r\n        this.plot.setMinHeight(110.0D);\r\n        this.plot.setMinWidth(250.0D);\r\n        this.plot.setStyle(&quot;-fx-background-color: grey&quot;);\r\n    }\r\n```\r\n\r\nAnd FXML:\r\n\r\n```xml\r\n&lt;AnchorPane maxHeight=&quot;-1.0&quot; maxWidth=&quot;-1.0&quot; prefHeight=&quot;-1.0&quot; prefWidth=&quot;-1.0&quot; VBox.vgrow=&quot;ALWAYS&quot; style=&quot;-fx-background-color: #301934;&quot;&gt;\r\n        &lt;children&gt;\r\n            &lt;AnchorPane fx:id=&quot;plot&quot;/&gt;\r\n        &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```","title":"Create multiple exact FXML objects in JavaFX","body":"<p>I want to create multiple fxml objects inside the window, using code in fxml once. But they are not appearing more than once.\nHere is my controller code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HelloController {\n    @FXML\n    private AnchorPane plot = new AnchorPane();\n\n    @FXML\n    void AddPlotBlock(ActionEvent event) {\n        this.plot.setMinHeight(110.0D);\n        this.plot.setMinWidth(250.0D);\n        this.plot.setStyle(&quot;-fx-background-color: grey&quot;);\n    }\n</code></pre>\n<p>And FXML:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;AnchorPane maxHeight=&quot;-1.0&quot; maxWidth=&quot;-1.0&quot; prefHeight=&quot;-1.0&quot; prefWidth=&quot;-1.0&quot; VBox.vgrow=&quot;ALWAYS&quot; style=&quot;-fx-background-color: #301934;&quot;&gt;\n        &lt;children&gt;\n            &lt;AnchorPane fx:id=&quot;plot&quot;/&gt;\n        &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n"},{"tags":["java","data-structures","tree"],"comments":[{"owner":{"account_id":1177422,"reputation":2169,"user_id":1153071,"accept_rate":77,"display_name":"Ned Twigg"},"score":3,"creation_date":1431628799,"post_id":3522454,"comment_id":48590675,"body_markdown":"If you&#39;re using Java 8, and would like to traverse your nodes with streams, filtering, etc; then you might want to take a look at Durian https://github.com/diffplug/durian/","body":"If you&#39;re using Java 8, and would like to traverse your nodes with streams, filtering, etc; then you might want to take a look at Durian <a href=\"https://github.com/diffplug/durian/\" rel=\"nofollow noreferrer\">github.com/diffplug/durian</a>"}],"answers":[{"comments":[{"owner":{"account_id":185131,"reputation":1851,"user_id":421652,"accept_rate":80,"display_name":"Ultimate Gobblement"},"score":7,"creation_date":1282226271,"post_id":3522481,"comment_id":3683808,"body_markdown":"You may want a parent field too if you want to get the path from a child node.","body":"You may want a parent field too if you want to get the path from a child node."},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":2,"creation_date":1282226488,"post_id":3522481,"comment_id":3683840,"body_markdown":"True, if you wanna be able to go up the tree you need a parent ref.","body":"True, if you wanna be able to go up the tree you need a parent ref."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":322,"creation_date":1282226525,"post_id":3522481,"comment_id":3683845,"body_markdown":"Strictly speaking the `Tree` class is not necessary, because every `Node` can in itself be seen as a tree.","body":"Strictly speaking the <code>Tree</code> class is not necessary, because every <code>Node</code> can in itself be seen as a tree."},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":43,"creation_date":1282226628,"post_id":3522481,"comment_id":3683862,"body_markdown":"@Joa, I like having a structure to contain the root.  You can add methods to the tree class that make more sense to call on a tree rather than a single node.","body":"@Joa, I like having a structure to contain the root.  You can add methods to the tree class that make more sense to call on a tree rather than a single node."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":26,"creation_date":1282226700,"post_id":3522481,"comment_id":3683874,"body_markdown":"@Justin: for example? That&#39;s an honest question: I can&#39;t think of a single method that makes sense on the whole tree that doesn&#39;t make sense on a sub-tree.","body":"@Justin: for example? That&#39;s an honest question: I can&#39;t think of a single method that makes sense on the whole tree that doesn&#39;t make sense on a sub-tree."},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":4,"creation_date":1282227051,"post_id":3522481,"comment_id":3683946,"body_markdown":"@Joachim, I guess I like to abstract out the representation of the tree.  You could swap out the node structure with an array based representation.  That is why I don&#39;t like exposing a node.","body":"@Joachim, I guess I like to abstract out the representation of the tree.  You could swap out the node structure with an array based representation.  That is why I don&#39;t like exposing a node."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1282228472,"post_id":3522481,"comment_id":3684230,"body_markdown":"@Justin: if you don&#39;t expose the nodes, how do you write a method that says &quot;add that node as a child to this other node&quot;? That argument only makes sense when you&#39;re implementing some ADT and use a tree internall (as done in `TreeSet`, for example). But I understood the question to be about an actual tree ADT.","body":"@Justin: if you don&#39;t expose the nodes, how do you write a method that says &quot;add that node as a child to this other node&quot;? That argument only makes sense when you&#39;re implementing some ADT and use a tree internall (as done in <code>TreeSet</code>, for example). But I understood the question to be about an actual tree ADT."},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":6,"creation_date":1282230286,"post_id":3522481,"comment_id":3684619,"body_markdown":"@Joa, well, I usually use a tree in some internal code.  SO, that is why I wrote this one the way I did.  Force of habit.  And, I think it is good practice.  I don&#39;t feel like you lose anything by having the outer tree structure.  And, it can be easier to understand if you have a concrete tree that you are working with, instead of just nodes.","body":"@Joa, well, I usually use a tree in some internal code.  SO, that is why I wrote this one the way I did.  Force of habit.  And, I think it is good practice.  I don&#39;t feel like you lose anything by having the outer tree structure.  And, it can be easier to understand if you have a concrete tree that you are working with, instead of just nodes."},{"owner":{"account_id":203031,"reputation":1241,"user_id":450448,"display_name":"jvdbogae"},"score":24,"creation_date":1349768605,"post_id":3522481,"comment_id":17300044,"body_markdown":"I agree with @Joa that the Tree class is not necessary. I prefer to leave the recursive nature of trees explicit in code by not adding a separate Tree class and consistently using the Node class. Instead I name a variable &#39;tree&#39; or &#39;root&#39; if it needs to be clear that you are dealing with the root Node of a tree.","body":"I agree with @Joa that the Tree class is not necessary. I prefer to leave the recursive nature of trees explicit in code by not adding a separate Tree class and consistently using the Node class. Instead I name a variable &#39;tree&#39; or &#39;root&#39; if it needs to be clear that you are dealing with the root Node of a tree."},{"owner":{"account_id":1450305,"reputation":3073,"user_id":1367449,"accept_rate":50,"display_name":"Grzegorz Dev"},"score":2,"creation_date":1373031229,"post_id":3522481,"comment_id":25421095,"body_markdown":"to save 40 minutes use more completed sample [here](http://stackoverflow.com/a/17490124)","body":"to save 40 minutes use more completed sample <a href=\"http://stackoverflow.com/a/17490124\">here</a>"},{"owner":{"account_id":2916861,"reputation":3224,"user_id":2499852,"accept_rate":96,"display_name":"El Marce"},"score":4,"creation_date":1409822975,"post_id":3522481,"comment_id":40101100,"body_markdown":"@Joa &quot;Strictly speaking the Tree class is not necessary&quot; in which sense? Semantically speaking (and for the data structure point of view) your comment is not correct. A root node is just one of the many *implementation* of the Tree concept. For example, one should not have a class Dog and say cat = new Dog() just because a dog does (for what we care) the same things as cats.","body":"@Joa &quot;Strictly speaking the Tree class is not necessary&quot; in which sense? Semantically speaking (and for the data structure point of view) your comment is not correct. A root node is just one of the many <i>implementation</i> of the Tree concept. For example, one should not have a class Dog and say cat = new Dog() just because a dog does (for what we care) the same things as cats."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":9,"creation_date":1409832520,"post_id":3522481,"comment_id":40106458,"body_markdown":"@ElMarce: the reason I say it&#39;s not strictly necessary is that it doesn&#39;t add any operations that you can&#39;t also take on any given sub-tree (a.k.a &quot;a Node&quot;). If you chose to have a Tree class (and that *is* of course a perfectly valid choice) then all you&#39;re doing is to *restrict* what can be viewed as a Tree. If I don&#39;t differentiate between a Tree and a Node, then I have the ability to trivially view every sub-tree as a tree in its own right. That might not be what your specific domain asks for, so you might still want to have a Tree class.","body":"@ElMarce: the reason I say it&#39;s not strictly necessary is that it doesn&#39;t add any operations that you can&#39;t also take on any given sub-tree (a.k.a &quot;a Node&quot;). If you chose to have a Tree class (and that <i>is</i> of course a perfectly valid choice) then all you&#39;re doing is to <i>restrict</i> what can be viewed as a Tree. If I don&#39;t differentiate between a Tree and a Node, then I have the ability to trivially view every sub-tree as a tree in its own right. That might not be what your specific domain asks for, so you might still want to have a Tree class."},{"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"score":108,"creation_date":1409923196,"post_id":3522481,"comment_id":40145939,"body_markdown":"@Joa A four-years-older me agrees with you completely. Nix the tree class.","body":"@Joa A four-years-older me agrees with you completely. Nix the tree class."},{"owner":{"account_id":285435,"reputation":2796,"user_id":584101,"accept_rate":100,"display_name":"Barney"},"score":3,"creation_date":1418831227,"post_id":3522481,"comment_id":43487373,"body_markdown":"Separate classes (interfaces) for me. `Tree` has `isEmpty()` and `size()`, `TreeNode` has `childCount()`, `descendentCount()` and `toTree()`. I find this to be a clearer description of the actual objects, and also provides more flexibility when writing implementations other than the common linked version. Not sure how you would represent an empty tree if you only had a single node class?","body":"Separate classes (interfaces) for me. <code>Tree</code> has <code>isEmpty()</code> and <code>size()</code>, <code>TreeNode</code> has <code>childCount()</code>, <code>descendentCount()</code> and <code>toTree()</code>. I find this to be a clearer description of the actual objects, and also provides more flexibility when writing implementations other than the common linked version. Not sure how you would represent an empty tree if you only had a single node class?"},{"owner":{"account_id":2833714,"reputation":1932,"user_id":2434726,"accept_rate":80,"display_name":"scottysseus"},"score":4,"creation_date":1451936954,"post_id":3522481,"comment_id":56942912,"body_markdown":"@Barney that is also an interesting implementation...but even those `Tree` class methods can be implemented in the `TreeNode` class in a manner of speaking. How is `size()` different from `childCount()`? As for `isEmpty()`, if the root `TreeNode` is `null` then it is empty, so the `isEmpty()` method could probably be replaced by a null check.","body":"@Barney that is also an interesting implementation...but even those <code>Tree</code> class methods can be implemented in the <code>TreeNode</code> class in a manner of speaking. How is <code>size()</code> different from <code>childCount()</code>? As for <code>isEmpty()</code>, if the root <code>TreeNode</code> is <code>null</code> then it is empty, so the <code>isEmpty()</code> method could probably be replaced by a null check."},{"owner":{"account_id":285435,"reputation":2796,"user_id":584101,"accept_rate":100,"display_name":"Barney"},"score":1,"creation_date":1452760088,"post_id":3522481,"comment_id":57313481,"body_markdown":"Sure @scott-scooter-weidenkopf, you can do it either way. But, for example, to flatten a tree I find  `array = new Object[tree.size()]` much more readable than `array = new Object[(node == null ? 0 : (node.descendentCount() + 1))]`.","body":"Sure @scott-scooter-weidenkopf, you can do it either way. But, for example, to flatten a tree I find  <code>array = new Object[tree.size()]</code> much more readable than <code>array = new Object[(node == null ? 0 : (node.descendentCount() + 1))]</code>."},{"owner":{"account_id":7362975,"reputation":727,"user_id":5605660,"accept_rate":78,"display_name":"Amit Gold"},"score":4,"creation_date":1462623085,"post_id":3522481,"comment_id":61720648,"body_markdown":"@JoachimSauer If you want it to be an AVL tree, a Node class is needed, since rotating the tree can change the root. (Just an example)","body":"@JoachimSauer If you want it to be an AVL tree, a Node class is needed, since rotating the tree can change the root. (Just an example)"},{"owner":{"account_id":1102899,"reputation":562,"user_id":4942129,"display_name":"luizfls"},"score":0,"creation_date":1621092778,"post_id":3522481,"comment_id":119393668,"body_markdown":"@AmitGold I don&#39;t think that holds.","body":"@AmitGold I don&#39;t think that holds."},{"owner":{"account_id":7400792,"reputation":1603,"user_id":5631308,"display_name":"mhadidg"},"score":0,"creation_date":1630172849,"post_id":3522481,"comment_id":121886019,"body_markdown":"Field &#39;root&#39; could be final. Using the final keyword makes code less error-prone. It may also be helpful for compiler optimisations.","body":"Field &#39;root&#39; could be final. Using the final keyword makes code less error-prone. It may also be helpful for compiler optimisations."}],"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"comment_count":19,"down_vote_count":7,"up_vote_count":342,"is_accepted":false,"score":335,"last_activity_date":1351622879,"creation_date":1282226168,"answer_id":3522481,"question_id":3522454,"body_markdown":"Here: \r\n\r\n    public class Tree&lt;T&gt; {\r\n        private Node&lt;T&gt; root;\r\n        \r\n        public Tree(T rootData) {\r\n            root = new Node&lt;T&gt;();\r\n            root.data = rootData;\r\n            root.children = new ArrayList&lt;Node&lt;T&gt;&gt;();\r\n        }\r\n\r\n        public static class Node&lt;T&gt; {\r\n            private T data;\r\n            private Node&lt;T&gt; parent;\r\n            private List&lt;Node&lt;T&gt;&gt; children;\r\n        }\r\n    }\r\n\r\nThat is a basic tree structure that can be used for `String` or any other object.  It is fairly easy to implement simple trees to do what you need.\r\n\r\nAll you need to add are methods for add to, removing from, traversing, and constructors.  The `Node` is the basic building block of the `Tree`.","title":"How to implement a tree data-structure in Java?","body":"<p>Here: </p>\n\n<pre><code>public class Tree&lt;T&gt; {\n    private Node&lt;T&gt; root;\n\n    public Tree(T rootData) {\n        root = new Node&lt;T&gt;();\n        root.data = rootData;\n        root.children = new ArrayList&lt;Node&lt;T&gt;&gt;();\n    }\n\n    public static class Node&lt;T&gt; {\n        private T data;\n        private Node&lt;T&gt; parent;\n        private List&lt;Node&lt;T&gt;&gt; children;\n    }\n}\n</code></pre>\n\n<p>That is a basic tree structure that can be used for <code>String</code> or any other object.  It is fairly easy to implement simple trees to do what you need.</p>\n\n<p>All you need to add are methods for add to, removing from, traversing, and constructors.  The <code>Node</code> is the basic building block of the <code>Tree</code>.</p>\n"},{"comments":[{"owner":{"account_id":185131,"reputation":1851,"user_id":421652,"accept_rate":80,"display_name":"Ultimate Gobblement"},"score":5,"creation_date":1282229657,"post_id":3522574,"comment_id":3684482,"body_markdown":"Yeah I used them in the past, and they will do everything you want from a tree. The only downside I can think of is the length of the names of their respective implementing classes: DefaultTreeModel and DefaultMutableTreeNode. Verbose, but not that its all that important I guess.","body":"Yeah I used them in the past, and they will do everything you want from a tree. The only downside I can think of is the length of the names of their respective implementing classes: DefaultTreeModel and DefaultMutableTreeNode. Verbose, but not that its all that important I guess."},{"owner":{"account_id":15075,"reputation":27761,"user_id":31480,"accept_rate":71,"display_name":"Gareth Davis"},"score":4,"creation_date":1282561446,"post_id":3522574,"comment_id":3714678,"body_markdown":"Good way to cope with that is to create a couple of static methods newModel() and newNode() and then static import them.","body":"Good way to cope with that is to create a couple of static methods newModel() and newNode() and then static import them."},{"owner":{"account_id":217470,"reputation":892,"user_id":473286,"display_name":"jasop"},"score":152,"creation_date":1343281802,"post_id":3522574,"comment_id":15457109,"body_markdown":"I would avoid using Swing libraries on non-Swing-related functions.\nThis is **bad coding practice**. You never know how Swing implements their trees, what their dependencies are and how this could change in the future. Swing is not a utility library but a UI library.","body":"I would avoid using Swing libraries on non-Swing-related functions. This is <b>bad coding practice</b>. You never know how Swing implements their trees, what their dependencies are and how this could change in the future. Swing is not a utility library but a UI library."},{"owner":{"account_id":15075,"reputation":27761,"user_id":31480,"accept_rate":71,"display_name":"Gareth Davis"},"score":45,"creation_date":1343290030,"post_id":3522574,"comment_id":15459679,"body_markdown":"I think bad coding practice is a little harsh.","body":"I think bad coding practice is a little harsh."},{"owner":{"account_id":1281940,"reputation":17524,"user_id":1235867,"accept_rate":80,"display_name":"lbalazscs"},"score":52,"creation_date":1345552717,"post_id":3522574,"comment_id":16097153,"body_markdown":"javax.swing.tree.TreeModel is a public interface (exactly like java.util.List) and it will not have incompatible changes. An added advantage is that you could easily debug/visualize your tree while developing.","body":"javax.swing.tree.TreeModel is a public interface (exactly like java.util.List) and it will not have incompatible changes. An added advantage is that you could easily debug/visualize your tree while developing."},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":1,"creation_date":1495030950,"post_id":3522574,"comment_id":75081439,"body_markdown":"@jasop I know this is very late to comment. But I agree to your point using libraries can be a bad practise for beginners.","body":"@jasop I know this is very late to comment. But I agree to your point using libraries can be a bad practise for beginners."},{"owner":{"account_id":57776,"reputation":9535,"user_id":173101,"display_name":"Tom Seidel"},"score":6,"creation_date":1509550637,"post_id":3522574,"comment_id":81064173,"body_markdown":"You should avoid using these classes, since in the future your code may has to run on a compact profile. On these profiles the classes from the swing-package are not available. (see http://www.oracle.com/technetwork/java/embedded/resources/tech/compact-profiles-overview-2157132.html). I already had to refactor code that had no ui at all but uses `TreeModel` and `TreeNode`. This is a risk that should be avoided...","body":"You should avoid using these classes, since in the future your code may has to run on a compact profile. On these profiles the classes from the swing-package are not available. (see <a href=\"http://www.oracle.com/technetwork/java/embedded/resources/tech/compact-profiles-overview-2157132.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/embedded/resources/tech/&hellip;</a>). I already had to refactor code that had no ui at all but uses <code>TreeModel</code> and <code>TreeNode</code>. This is a risk that should be avoided..."},{"owner":{"account_id":15075,"reputation":27761,"user_id":31480,"accept_rate":71,"display_name":"Gareth Davis"},"score":1,"creation_date":1509710371,"post_id":3522574,"comment_id":81139790,"body_markdown":"@TomSeidel seems like a reasonable point, have updated the answer so that people will actually see, I suspect that information in comments doesn&#39;t really get much attention.","body":"@TomSeidel seems like a reasonable point, have updated the answer so that people will actually see, I suspect that information in comments doesn&#39;t really get much attention."},{"owner":{"account_id":1186511,"reputation":4312,"user_id":1160360,"accept_rate":74,"display_name":"Fran Marzoa"},"score":2,"creation_date":1539851188,"post_id":3522574,"comment_id":92653364,"body_markdown":"&quot;there is nothing stopping you from using it with out a swing interface&quot;\n\nUntil you realize your Android APK is bloated with libraries you only need one or two classes from and account for 50% of the total size...","body":"&quot;there is nothing stopping you from using it with out a swing interface&quot;  Until you realize your Android APK is bloated with libraries you only need one or two classes from and account for 50% of the total size..."},{"owner":{"account_id":15075,"reputation":27761,"user_id":31480,"accept_rate":71,"display_name":"Gareth Davis"},"score":0,"creation_date":1539947008,"post_id":3522574,"comment_id":92694694,"body_markdown":"@FranMarzoa all the more reason to use something shipping in the JDK :) .. of course i haven&#39;t clue if Android ships swing in the runtime :(","body":"@FranMarzoa all the more reason to use something shipping in the JDK :) .. of course i haven&#39;t clue if Android ships swing in the runtime :("},{"owner":{"account_id":1186511,"reputation":4312,"user_id":1160360,"accept_rate":74,"display_name":"Fran Marzoa"},"score":0,"creation_date":1539952502,"post_id":3522574,"comment_id":92697441,"body_markdown":"Nope, actually it won&#39;t even work on Android... I think it&#39;s OK to use third party libraries in some cases, but having to add Swing only for this is not reasonable, even if it is a desktop project.","body":"Nope, actually it won&#39;t even work on Android... I think it&#39;s OK to use third party libraries in some cases, but having to add Swing only for this is not reasonable, even if it is a desktop project."}],"tags":[],"owner":{"account_id":15075,"reputation":27761,"user_id":31480,"accept_rate":71,"display_name":"Gareth Davis"},"comment_count":11,"down_vote_count":8,"up_vote_count":112,"is_accepted":false,"score":104,"last_activity_date":1509710229,"creation_date":1282226819,"answer_id":3522574,"question_id":3522454,"body_markdown":"There is actually a pretty good tree structure implemented in the JDK.\r\n\r\nHave a look at [javax.swing.tree][1], [TreeModel][2], and [TreeNode][3]. They are designed to be used with the `JTreePanel` but they are, in fact, a pretty good tree implementation and there is nothing stopping you from using it with out a swing interface.\r\n\r\nNote that as of Java 9 you may wish not to use these classes as they will not be present in the [&#39;Compact profiles&#39;][4].\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/javax/swing/tree/package-summary.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/javax/swing/tree/TreeModel.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/javax/swing/tree/TreeNode.html\r\n  [4]: http://www.oracle.com/technetwork/java/embedded/resources/tech/compact-profiles-overview-2157132.html","title":"How to implement a tree data-structure in Java?","body":"<p>There is actually a pretty good tree structure implemented in the JDK.</p>\n\n<p>Have a look at <a href=\"http://download.oracle.com/javase/6/docs/api/javax/swing/tree/package-summary.html\" rel=\"noreferrer\">javax.swing.tree</a>, <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/tree/TreeModel.html\" rel=\"noreferrer\">TreeModel</a>, and <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/tree/TreeNode.html\" rel=\"noreferrer\">TreeNode</a>. They are designed to be used with the <code>JTreePanel</code> but they are, in fact, a pretty good tree implementation and there is nothing stopping you from using it with out a swing interface.</p>\n\n<p>Note that as of Java 9 you may wish not to use these classes as they will not be present in the <a href=\"http://www.oracle.com/technetwork/java/embedded/resources/tech/compact-profiles-overview-2157132.html\" rel=\"noreferrer\">'Compact profiles'</a>.</p>\n"},{"comments":[{"owner":{"account_id":265882,"reputation":93,"user_id":553140,"display_name":"Madhur Bhargava"},"score":1,"creation_date":1561731259,"post_id":3522729,"comment_id":100171168,"body_markdown":"This suggests that the parent of a tree is a tree. I believe you were trying to create a Tree Node class.","body":"This suggests that the parent of a tree is a tree. I believe you were trying to create a Tree Node class."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1615537164,"post_id":3522729,"comment_id":117726341,"body_markdown":"@MadhurBhargava such a &quot;Node&quot; also represents a subtree hence a Tree. Though to have a separate top-level Tree class, and a separate Node class has two advantages: a redundant `int size;` can be kept in Tree, And with the above one has to write something like `tree = tree.sortedAdd(data)` for tree manipulations.","body":"@MadhurBhargava such a &quot;Node&quot; also represents a subtree hence a Tree. Though to have a separate top-level Tree class, and a separate Node class has two advantages: a redundant <code>int size;</code> can be kept in Tree, And with the above one has to write something like <code>tree = tree.sortedAdd(data)</code> for tree manipulations."}],"tags":[],"owner":{"account_id":27166,"reputation":19089,"user_id":71399,"accept_rate":65,"display_name":"pauljwilliams"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1425540400,"creation_date":1282227756,"answer_id":3522729,"question_id":3522454,"body_markdown":"    public class Tree {\r\n        private List&lt;Tree&gt; leaves = new LinkedList&lt;Tree&gt;();\r\n        private Tree parent = null;\r\n        private String data;\r\n    \r\n        public Tree(String data, Tree parent) {\r\n            this.data = data;\r\n            this.parent = parent;\r\n        }\r\n    }\r\n\r\nObviously you can add utility methods to add/remove children.\r\n","title":"How to implement a tree data-structure in Java?","body":"<pre><code>public class Tree {\n    private List&lt;Tree&gt; leaves = new LinkedList&lt;Tree&gt;();\n    private Tree parent = null;\n    private String data;\n\n    public Tree(String data, Tree parent) {\n        this.data = data;\n        this.parent = parent;\n    }\n}\n</code></pre>\n\n<p>Obviously you can add utility methods to add/remove children.</p>\n"},{"comments":[{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1580226450,"post_id":3933107,"comment_id":106024072,"body_markdown":"Lol, how did you even came across this class?","body":"Lol, how did you even came across this class?"}],"tags":[],"owner":{"account_id":37756,"reputation":1808,"user_id":108034,"display_name":"Mark"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1287059614,"creation_date":1287059614,"answer_id":3933107,"question_id":3522454,"body_markdown":"Along the same lines as Gareth&#39;s answer, check out [DefaultMutableTreeNode][1].  It&#39;s not generic, but otherwise seems to fit the bill.  Even though it&#39;s in the javax.swing package, it doesn&#39;t depend on any AWT or Swing classes.  In fact, the source code actually has the comment `// ISSUE: this class depends on nothing in AWT -- move to java.util?`\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/javax/swing/tree/DefaultMutableTreeNode.html","title":"How to implement a tree data-structure in Java?","body":"<p>Along the same lines as Gareth's answer, check out <a href=\"http://download.oracle.com/javase/6/docs/api/javax/swing/tree/DefaultMutableTreeNode.html\" rel=\"noreferrer\">DefaultMutableTreeNode</a>.  It's not generic, but otherwise seems to fit the bill.  Even though it's in the javax.swing package, it doesn't depend on any AWT or Swing classes.  In fact, the source code actually has the comment <code>// ISSUE: this class depends on nothing in AWT -- move to java.util?</code></p>\n"},{"comments":[{"owner":{"account_id":105984,"reputation":2828,"user_id":282544,"accept_rate":70,"display_name":"leba-lev"},"score":5,"creation_date":1331154306,"post_id":4054711,"comment_id":12191124,"body_markdown":"How would DFS be implemented on a tree created using this class object?","body":"How would DFS be implemented on a tree created using this class object?"},{"owner":{"account_id":61927,"reputation":325,"user_id":184283,"accept_rate":64,"display_name":"ghedas"},"score":3,"creation_date":1344144786,"post_id":4054711,"comment_id":15702741,"body_markdown":"How would removing a leaf be implemented using this class?","body":"How would removing a leaf be implemented using this class?"},{"owner":{"display_name":"user884542"},"score":2,"creation_date":1409711141,"post_id":4054711,"comment_id":40053375,"body_markdown":"What would the head field be used for?","body":"What would the head field be used for?"},{"owner":{"account_id":1767231,"reputation":7016,"user_id":1612814,"accept_rate":55,"display_name":"disasterkid"},"score":2,"creation_date":1534150762,"post_id":4054711,"comment_id":90591093,"body_markdown":"It would have been great if this class had some documentation. I don&#39;t quite understand what methods like `setAsParent` or `getHead` do and this is the time when I really could get some help on tree data structures.  Even the original source of the document has no comments.","body":"It would have been great if this class had some documentation. I don&#39;t quite understand what methods like <code>setAsParent</code> or <code>getHead</code> do and this is the time when I really could get some help on tree data structures.  Even the original source of the document has no comments."}],"tags":[],"owner":{"account_id":211682,"reputation":6257,"user_id":463994,"accept_rate":85,"display_name":"MountainX"},"comment_count":4,"down_vote_count":1,"up_vote_count":49,"is_accepted":false,"score":48,"last_activity_date":1520798945,"creation_date":1288376440,"answer_id":4054711,"question_id":3522454,"body_markdown":"What about this?\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.HashMap;\r\n\r\n    /**\r\n      * @author ycoppel@google.com (Yohann Coppel)\r\n      * \r\n      * @param &lt;T&gt;\r\n      *          Object&#39;s type in the tree.\r\n    */\r\n    public class Tree&lt;T&gt; {\r\n\r\n      private T head;\r\n\r\n      private ArrayList&lt;Tree&lt;T&gt;&gt; leafs = new ArrayList&lt;Tree&lt;T&gt;&gt;();\r\n\r\n      private Tree&lt;T&gt; parent = null;\r\n\r\n      private HashMap&lt;T, Tree&lt;T&gt;&gt; locate = new HashMap&lt;T, Tree&lt;T&gt;&gt;();\r\n\r\n      public Tree(T head) {\r\n        this.head = head;\r\n        locate.put(head, this);\r\n      }\r\n\r\n      public void addLeaf(T root, T leaf) {\r\n        if (locate.containsKey(root)) {\r\n          locate.get(root).addLeaf(leaf);\r\n        } else {\r\n          addLeaf(root).addLeaf(leaf);\r\n        }\r\n      }\r\n\r\n      public Tree&lt;T&gt; addLeaf(T leaf) {\r\n        Tree&lt;T&gt; t = new Tree&lt;T&gt;(leaf);\r\n        leafs.add(t);\r\n        t.parent = this;\r\n        t.locate = this.locate;\r\n        locate.put(leaf, t);\r\n        return t;\r\n      }\r\n\r\n      public Tree&lt;T&gt; setAsParent(T parentRoot) {\r\n        Tree&lt;T&gt; t = new Tree&lt;T&gt;(parentRoot);\r\n        t.leafs.add(this);\r\n        this.parent = t;\r\n        t.locate = this.locate;\r\n        t.locate.put(head, this);\r\n        t.locate.put(parentRoot, t);\r\n        return t;\r\n      }\r\n\r\n      public T getHead() {\r\n        return head;\r\n      }\r\n\r\n      public Tree&lt;T&gt; getTree(T element) {\r\n        return locate.get(element);\r\n      }\r\n\r\n      public Tree&lt;T&gt; getParent() {\r\n        return parent;\r\n      }\r\n\r\n      public Collection&lt;T&gt; getSuccessors(T root) {\r\n        Collection&lt;T&gt; successors = new ArrayList&lt;T&gt;();\r\n        Tree&lt;T&gt; tree = getTree(root);\r\n        if (null != tree) {\r\n          for (Tree&lt;T&gt; leaf : tree.leafs) {\r\n            successors.add(leaf.head);\r\n          }\r\n        }\r\n        return successors;\r\n      }\r\n\r\n      public Collection&lt;Tree&lt;T&gt;&gt; getSubTrees() {\r\n        return leafs;\r\n      }\r\n\r\n      public static &lt;T&gt; Collection&lt;T&gt; getSuccessors(T of, Collection&lt;Tree&lt;T&gt;&gt; in) {\r\n        for (Tree&lt;T&gt; tree : in) {\r\n          if (tree.locate.containsKey(of)) {\r\n            return tree.getSuccessors(of);\r\n          }\r\n        }\r\n        return new ArrayList&lt;T&gt;();\r\n      }\r\n\r\n      @Override\r\n      public String toString() {\r\n        return printTree(0);\r\n      }\r\n\r\n      private static final int indent = 2;\r\n\r\n      private String printTree(int increment) {\r\n        String s = &quot;&quot;;\r\n        String inc = &quot;&quot;;\r\n        for (int i = 0; i &lt; increment; ++i) {\r\n          inc = inc + &quot; &quot;;\r\n        }\r\n        s = inc + head;\r\n        for (Tree&lt;T&gt; child : leafs) {\r\n          s += &quot;\\n&quot; + child.printTree(increment + indent);\r\n        }\r\n        return s;\r\n      }\r\n    }\r\n","title":"How to implement a tree data-structure in Java?","body":"<p>What about this?</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.HashMap;\n\n/**\n  * @author ycoppel@google.com (Yohann Coppel)\n  * \n  * @param &lt;T&gt;\n  *          Object's type in the tree.\n*/\npublic class Tree&lt;T&gt; {\n\n  private T head;\n\n  private ArrayList&lt;Tree&lt;T&gt;&gt; leafs = new ArrayList&lt;Tree&lt;T&gt;&gt;();\n\n  private Tree&lt;T&gt; parent = null;\n\n  private HashMap&lt;T, Tree&lt;T&gt;&gt; locate = new HashMap&lt;T, Tree&lt;T&gt;&gt;();\n\n  public Tree(T head) {\n    this.head = head;\n    locate.put(head, this);\n  }\n\n  public void addLeaf(T root, T leaf) {\n    if (locate.containsKey(root)) {\n      locate.get(root).addLeaf(leaf);\n    } else {\n      addLeaf(root).addLeaf(leaf);\n    }\n  }\n\n  public Tree&lt;T&gt; addLeaf(T leaf) {\n    Tree&lt;T&gt; t = new Tree&lt;T&gt;(leaf);\n    leafs.add(t);\n    t.parent = this;\n    t.locate = this.locate;\n    locate.put(leaf, t);\n    return t;\n  }\n\n  public Tree&lt;T&gt; setAsParent(T parentRoot) {\n    Tree&lt;T&gt; t = new Tree&lt;T&gt;(parentRoot);\n    t.leafs.add(this);\n    this.parent = t;\n    t.locate = this.locate;\n    t.locate.put(head, this);\n    t.locate.put(parentRoot, t);\n    return t;\n  }\n\n  public T getHead() {\n    return head;\n  }\n\n  public Tree&lt;T&gt; getTree(T element) {\n    return locate.get(element);\n  }\n\n  public Tree&lt;T&gt; getParent() {\n    return parent;\n  }\n\n  public Collection&lt;T&gt; getSuccessors(T root) {\n    Collection&lt;T&gt; successors = new ArrayList&lt;T&gt;();\n    Tree&lt;T&gt; tree = getTree(root);\n    if (null != tree) {\n      for (Tree&lt;T&gt; leaf : tree.leafs) {\n        successors.add(leaf.head);\n      }\n    }\n    return successors;\n  }\n\n  public Collection&lt;Tree&lt;T&gt;&gt; getSubTrees() {\n    return leafs;\n  }\n\n  public static &lt;T&gt; Collection&lt;T&gt; getSuccessors(T of, Collection&lt;Tree&lt;T&gt;&gt; in) {\n    for (Tree&lt;T&gt; tree : in) {\n      if (tree.locate.containsKey(of)) {\n        return tree.getSuccessors(of);\n      }\n    }\n    return new ArrayList&lt;T&gt;();\n  }\n\n  @Override\n  public String toString() {\n    return printTree(0);\n  }\n\n  private static final int indent = 2;\n\n  private String printTree(int increment) {\n    String s = \"\";\n    String inc = \"\";\n    for (int i = 0; i &lt; increment; ++i) {\n      inc = inc + \" \";\n    }\n    s = inc + head;\n    for (Tree&lt;T&gt; child : leafs) {\n      s += \"\\n\" + child.printTree(increment + indent);\n    }\n    return s;\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":217470,"reputation":892,"user_id":473286,"display_name":"jasop"},"score":3,"creation_date":1343281723,"post_id":4949730,"comment_id":15457088,"body_markdown":"I am using it now, works brilliantly.\nHad to change the source significantly for my own customizations, but it was a great starting point.\nThanks Vivin!","body":"I am using it now, works brilliantly. Had to change the source significantly for my own customizations, but it was a great starting point. Thanks Vivin!"}],"tags":[],"owner":{"account_id":96837,"reputation":94466,"user_id":263004,"accept_rate":96,"display_name":"Vivin Paliath"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1425540339,"creation_date":1297281055,"answer_id":4949730,"question_id":3522454,"body_markdown":"I [wrote][1] a little library that handles generic trees. It&#39;s much more lightweight than the swing stuff. I also have a [maven project][2] for it.\r\n\r\n\r\n  [1]: https://github.com/vivin/GenericTree\r\n  [2]: http://vivin.net/2010/03/02/maven-project-for-generic-n-ary-tree-in-java/","title":"How to implement a tree data-structure in Java?","body":"<p>I <a href=\"https://github.com/vivin/GenericTree\" rel=\"noreferrer\">wrote</a> a little library that handles generic trees. It's much more lightweight than the swing stuff. I also have a <a href=\"http://vivin.net/2010/03/02/maven-project-for-generic-n-ary-tree-in-java/\" rel=\"noreferrer\">maven project</a> for it.</p>\n"},{"tags":[],"owner":{"account_id":189352,"reputation":2972,"user_id":428640,"display_name":"David"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1317898944,"creation_date":1317896300,"answer_id":7672950,"question_id":3522454,"body_markdown":"You can use the &lt;a href=&quot;http://jakarta.apache.org/jmeter/api/org/apache/jorphan/collections/HashTree.html&quot;&gt;HashTree&lt;/a&gt; class included in Apache JMeter that is part of the Jakarta Project.\r\n\r\nHashTree class is included in the package org.apache.jorphan.collections. Although this package is not released outside the JMeter project, you can get it easily:\r\n\r\n1) Download the &lt;a href=&quot;http://jakarta.apache.org/site/downloads/downloads_jmeter.cgi&quot;&gt;JMeter sources&lt;/a&gt;.\r\n\r\n2) Create a new package.\r\n\r\n3) Copy on it /src/jorphan/org/apache/jorphan/collections/ . All files except Data.java\r\n\r\n4) Copy also /src/jorphan/org/apache/jorphan/util/JOrphanUtils.java\r\n\r\n5) HashTree is ready to use.\r\n","title":"How to implement a tree data-structure in Java?","body":"<p>You can use the <a href=\"http://jakarta.apache.org/jmeter/api/org/apache/jorphan/collections/HashTree.html\" rel=\"nofollow\">HashTree</a> class included in Apache JMeter that is part of the Jakarta Project.</p>\n\n<p>HashTree class is included in the package org.apache.jorphan.collections. Although this package is not released outside the JMeter project, you can get it easily:</p>\n\n<p>1) Download the <a href=\"http://jakarta.apache.org/site/downloads/downloads_jmeter.cgi\" rel=\"nofollow\">JMeter sources</a>.</p>\n\n<p>2) Create a new package.</p>\n\n<p>3) Copy on it /src/jorphan/org/apache/jorphan/collections/ . All files except Data.java</p>\n\n<p>4) Copy also /src/jorphan/org/apache/jorphan/util/JOrphanUtils.java</p>\n\n<p>5) HashTree is ready to use.</p>\n"},{"comments":[{"owner":{"account_id":2159481,"reputation":2523,"user_id":1913989,"accept_rate":67,"display_name":"Ben Rhouma Zied"},"score":5,"creation_date":1401486138,"post_id":11099372,"comment_id":36919464,"body_markdown":"excellent Idea, We could use in memory XML schema using dom4j + jaxen xpath to search nodes.","body":"excellent Idea, We could use in memory XML schema using dom4j + jaxen xpath to search nodes."}],"tags":[],"owner":{"account_id":237701,"reputation":792,"user_id":506084,"accept_rate":54,"display_name":"Raja Nagendra Kumar"},"comment_count":1,"down_vote_count":2,"up_vote_count":12,"is_accepted":false,"score":10,"last_activity_date":1340102774,"creation_date":1340102774,"answer_id":11099372,"question_id":3522454,"body_markdown":"You can use any XML API of Java as Document and Node..as XML is a tree structure with Strings","title":"How to implement a tree data-structure in Java?","body":"<p>You can use any XML API of Java as Document and Node..as XML is a tree structure with Strings</p>\n"},{"tags":[],"owner":{"account_id":276404,"reputation":3376,"user_id":569814,"accept_rate":60,"display_name":"peenut"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1350232964,"creation_date":1350232964,"answer_id":12884315,"question_id":3522454,"body_markdown":"No answer mentions over-simplified but working code, so here it is:\r\n\r\n    public class TreeNodeArray&lt;T&gt; {\r\n    \tpublic T value;\r\n    \tpublic final  java.util.List&lt;TreeNodeArray&lt;T&gt;&gt; kids =  new java.util.ArrayList&lt;TreeNodeArray&lt;T&gt;&gt;();\r\n    }","title":"How to implement a tree data-structure in Java?","body":"<p>No answer mentions over-simplified but working code, so here it is:</p>\n\n<pre><code>public class TreeNodeArray&lt;T&gt; {\n    public T value;\n    public final  java.util.List&lt;TreeNodeArray&lt;T&gt;&gt; kids =  new java.util.ArrayList&lt;TreeNodeArray&lt;T&gt;&gt;();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":350405,"reputation":669,"user_id":686249,"display_name":"user686249"},"score":2,"creation_date":1434127239,"post_id":16608608,"comment_id":49664322,"body_markdown":"Quite ugly. And doesn&#39;t work, if your data objects may be arrays respectively lists.","body":"Quite ugly. And doesn&#39;t work, if your data objects may be arrays respectively lists."},{"owner":{"account_id":211620,"reputation":1885,"user_id":463897,"display_name":"Olathe"},"score":1,"creation_date":1462784148,"post_id":16608608,"comment_id":61764510,"body_markdown":"I agree that it&#39;s ugly. The `Object`s would either be the leaf objects (for example, `String`s) or branches (represented by arrays). And it does work: that code will compile, and it creates a small tree of `String`s.","body":"I agree that it&#39;s ugly. The <code>Object</code>s would either be the leaf objects (for example, <code>String</code>s) or branches (represented by arrays). And it does work: that code will compile, and it creates a small tree of <code>String</code>s."}],"tags":[],"owner":{"account_id":211620,"reputation":1885,"user_id":463897,"display_name":"Olathe"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1368792418,"creation_date":1368792418,"answer_id":16608608,"question_id":3522454,"body_markdown":"Since the question asks for an available data structure, a tree can be constructed from lists or arrays:\r\n\r\n    Object[] tree = new Object[2];\r\n    tree[0] = &quot;Hello&quot;;\r\n    {\r\n      Object[] subtree = new Object[2];\r\n      subtree[0] = &quot;Goodbye&quot;;\r\n      subtree[1] = &quot;&quot;;\r\n      tree[1] = subtree;\r\n    }\r\n\r\n`instanceof` can be used to determine whether an element is a subtree or a terminal node.","title":"How to implement a tree data-structure in Java?","body":"<p>Since the question asks for an available data structure, a tree can be constructed from lists or arrays:</p>\n\n<pre><code>Object[] tree = new Object[2];\ntree[0] = \"Hello\";\n{\n  Object[] subtree = new Object[2];\n  subtree[0] = \"Goodbye\";\n  subtree[1] = \"\";\n  tree[1] = subtree;\n}\n</code></pre>\n\n<p><code>instanceof</code> can be used to determine whether an element is a subtree or a terminal node.</p>\n"},{"comments":[{"owner":{"account_id":295597,"reputation":971,"user_id":600093,"accept_rate":75,"display_name":"d4v1dv00"},"score":2,"creation_date":1428419020,"post_id":17490124,"comment_id":47148475,"body_markdown":"Just found your library extremely useful. Thank you. But I would like to know how to implement dynamically populating the tree structure based on reference relationship between parent and child. Example given is I have one member1 sponsor another member2,  and member2 sponsor member 3 and so and so for. Already have the table records relationship but just unsure i can populate them into a tree using your library.","body":"Just found your library extremely useful. Thank you. But I would like to know how to implement dynamically populating the tree structure based on reference relationship between parent and child. Example given is I have one member1 sponsor another member2,  and member2 sponsor member 3 and so and so for. Already have the table records relationship but just unsure i can populate them into a tree using your library."},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":1,"creation_date":1483444756,"post_id":17490124,"comment_id":70091998,"body_markdown":"as of 2016, the link contains no source files or downloads","body":"as of 2016, the link contains no source files or downloads"},{"owner":{"account_id":8012388,"reputation":3367,"user_id":6043669,"accept_rate":79,"display_name":"HopeKing"},"score":3,"creation_date":1507363696,"post_id":17490124,"comment_id":80187396,"body_markdown":"In my view, this answer three years after the above higher rated answer, is the cleaner one. However, I would replace the LinkedList with an ArrayList for this.children.","body":"In my view, this answer three years after the above higher rated answer, is the cleaner one. However, I would replace the LinkedList with an ArrayList for this.children."},{"owner":{"account_id":1039514,"reputation":1970,"user_id":1045902,"accept_rate":100,"display_name":"DPM"},"score":1,"creation_date":1529258627,"post_id":17490124,"comment_id":88798104,"body_markdown":"I would use a Set for the children.","body":"I would use a Set for the children."},{"owner":{"account_id":5265996,"reputation":1867,"user_id":6683344,"accept_rate":59,"display_name":"Robert Lewis"},"score":0,"creation_date":1551718353,"post_id":17490124,"comment_id":96733535,"body_markdown":"I could be wrong but it appears that with this implementation, you must call `hasNext()` before each call to `next()` to get valid results. This isn&#39;t part of the `Iterator` spec.","body":"I could be wrong but it appears that with this implementation, you must call <code>hasNext()</code> before each call to <code>next()</code> to get valid results. This isn&#39;t part of the <code>Iterator</code> spec."},{"owner":{"account_id":7612618,"reputation":15612,"user_id":5773037,"display_name":"Nikunj Paradva"},"score":0,"creation_date":1614601561,"post_id":17490124,"comment_id":117426106,"body_markdown":"How can i remove child?","body":"How can i remove child?"}],"tags":[],"owner":{"account_id":1450305,"reputation":3073,"user_id":1367449,"accept_rate":50,"display_name":"Grzegorz Dev"},"comment_count":6,"down_vote_count":1,"up_vote_count":143,"is_accepted":false,"score":142,"last_activity_date":1483628807,"creation_date":1373031039,"answer_id":17490124,"question_id":3522454,"body_markdown":"Yet another tree structure:\r\n\r\n    public class TreeNode&lt;T&gt; implements Iterable&lt;TreeNode&lt;T&gt;&gt; {\r\n    \r\n    \tT data;\r\n    \tTreeNode&lt;T&gt; parent;\r\n    \tList&lt;TreeNode&lt;T&gt;&gt; children;\r\n    \r\n    \tpublic TreeNode(T data) {\r\n    \t\tthis.data = data;\r\n    \t\tthis.children = new LinkedList&lt;TreeNode&lt;T&gt;&gt;();\r\n    \t}\r\n    \r\n    \tpublic TreeNode&lt;T&gt; addChild(T child) {\r\n    \t\tTreeNode&lt;T&gt; childNode = new TreeNode&lt;T&gt;(child);\r\n    \t\tchildNode.parent = this;\r\n    \t\tthis.children.add(childNode);\r\n    \t\treturn childNode;\r\n    \t}\r\n\r\n    \t// other features ...\r\n    \r\n    }\r\n\r\nSample usage:\r\n\r\n    TreeNode&lt;String&gt; root = new TreeNode&lt;String&gt;(&quot;root&quot;);\r\n    {\r\n    \tTreeNode&lt;String&gt; node0 = root.addChild(&quot;node0&quot;);\r\n    \tTreeNode&lt;String&gt; node1 = root.addChild(&quot;node1&quot;);\r\n    \tTreeNode&lt;String&gt; node2 = root.addChild(&quot;node2&quot;);\r\n    \t{\r\n    \t\tTreeNode&lt;String&gt; node20 = node2.addChild(null);\r\n    \t\tTreeNode&lt;String&gt; node21 = node2.addChild(&quot;node21&quot;);\r\n    \t\t{\r\n    \t\t\tTreeNode&lt;String&gt; node210 = node20.addChild(&quot;node210&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**BONUS**  \r\nSee fully-fledged tree with:\r\n\r\n - iterator\r\n - searching\r\n - Java/C#\r\n\r\n[https://github.com/gt4dev/yet-another-tree-structure][1]\r\n\r\n\r\n  [1]: https://github.com/gt4dev/yet-another-tree-structure","title":"How to implement a tree data-structure in Java?","body":"<p>Yet another tree structure:</p>\n\n<pre><code>public class TreeNode&lt;T&gt; implements Iterable&lt;TreeNode&lt;T&gt;&gt; {\n\n    T data;\n    TreeNode&lt;T&gt; parent;\n    List&lt;TreeNode&lt;T&gt;&gt; children;\n\n    public TreeNode(T data) {\n        this.data = data;\n        this.children = new LinkedList&lt;TreeNode&lt;T&gt;&gt;();\n    }\n\n    public TreeNode&lt;T&gt; addChild(T child) {\n        TreeNode&lt;T&gt; childNode = new TreeNode&lt;T&gt;(child);\n        childNode.parent = this;\n        this.children.add(childNode);\n        return childNode;\n    }\n\n    // other features ...\n\n}\n</code></pre>\n\n<p>Sample usage:</p>\n\n<pre><code>TreeNode&lt;String&gt; root = new TreeNode&lt;String&gt;(\"root\");\n{\n    TreeNode&lt;String&gt; node0 = root.addChild(\"node0\");\n    TreeNode&lt;String&gt; node1 = root.addChild(\"node1\");\n    TreeNode&lt;String&gt; node2 = root.addChild(\"node2\");\n    {\n        TreeNode&lt;String&gt; node20 = node2.addChild(null);\n        TreeNode&lt;String&gt; node21 = node2.addChild(\"node21\");\n        {\n            TreeNode&lt;String&gt; node210 = node20.addChild(\"node210\");\n        }\n    }\n}\n</code></pre>\n\n<p><strong>BONUS</strong><br>\nSee fully-fledged tree with:</p>\n\n<ul>\n<li>iterator</li>\n<li>searching</li>\n<li>Java/C#</li>\n</ul>\n\n<p><a href=\"https://github.com/gt4dev/yet-another-tree-structure\" rel=\"noreferrer\">https://github.com/gt4dev/yet-another-tree-structure</a></p>\n"},{"comments":[{"owner":{"account_id":1264025,"reputation":754,"user_id":1221731,"accept_rate":80,"display_name":"saNiks"},"score":1,"creation_date":1461945278,"post_id":18439582,"comment_id":61444263,"body_markdown":"I&#39;m facing an issue when I follow this structure when I do\n tree.add(&quot;A&quot;, &quot;B&quot;);\n tree.add(&quot;A&quot;, &quot;C&quot;);\n tree.add(&quot;C&quot;, &quot;D&quot;);\n tree.add(&quot;E&quot;, &quot;A&quot;);   \n\nE is a parent of A \nHow do we go about doing this?","body":"I&#39;m facing an issue when I follow this structure when I do  tree.add(&quot;A&quot;, &quot;B&quot;);  tree.add(&quot;A&quot;, &quot;C&quot;);  tree.add(&quot;C&quot;, &quot;D&quot;);  tree.add(&quot;E&quot;, &quot;A&quot;);     E is a parent of A  How do we go about doing this?"},{"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"score":1,"creation_date":1461947942,"post_id":18439582,"comment_id":61445694,"body_markdown":"Hi saNicks, there was a bug in the code above which caused the last relation not to be added. It&#39;s fixed now, and I also added non-null checks and (more important): cyclic checks which prevents violating the tree structure (adding a code or one of its ancestors as a child to itself). Thanks for the hint!","body":"Hi saNicks, there was a bug in the code above which caused the last relation not to be added. It&#39;s fixed now, and I also added non-null checks and (more important): cyclic checks which prevents violating the tree structure (adding a code or one of its ancestors as a child to itself). Thanks for the hint!"},{"owner":{"account_id":1264025,"reputation":754,"user_id":1221731,"accept_rate":80,"display_name":"saNiks"},"score":1,"creation_date":1462045908,"post_id":18439582,"comment_id":61476555,"body_markdown":"I fixed the bug if anyone is looking for a fix for that bug what you have to do is see if add method returns false and if it&#39;s false just create a temp new LinkedHashSet&lt;N&gt; and clone the tree&#39;s nodelist into it then u can clear the tree, add the parent node which did not get added in the previous step and then addAll of the tempNode back to the parent tree...\nThanks for the structure though!","body":"I fixed the bug if anyone is looking for a fix for that bug what you have to do is see if add method returns false and if it&#39;s false just create a temp new LinkedHashSet&lt;N&gt; and clone the tree&#39;s nodelist into it then u can clear the tree, add the parent node which did not get added in the previous step and then addAll of the tempNode back to the parent tree... Thanks for the structure though!"},{"owner":{"account_id":211811,"reputation":726,"user_id":464219,"accept_rate":17,"display_name":"Hamedz"},"score":3,"creation_date":1469819203,"post_id":18439582,"comment_id":64712779,"body_markdown":"Just remove those useless **public** modifiers from your interfaces.","body":"Just remove those useless <b>public</b> modifiers from your interfaces."},{"owner":{"account_id":3422850,"reputation":338,"user_id":2869769,"accept_rate":50,"display_name":"Pawan Pandey"},"score":1,"creation_date":1470651072,"post_id":18439582,"comment_id":65018834,"body_markdown":"how can i generate a json array out of this","body":"how can i generate a json array out of this"},{"owner":{"account_id":13727319,"reputation":1969,"user_id":9905745,"display_name":"Yossarian42"},"score":0,"creation_date":1581310719,"post_id":18439582,"comment_id":106375273,"body_markdown":"how can I build a self-balanced binary tree with this interface?","body":"how can I build a self-balanced binary tree with this interface?"},{"owner":{"account_id":10798342,"reputation":318,"user_id":7943248,"display_name":"Zeuzif"},"score":0,"creation_date":1605632693,"post_id":18439582,"comment_id":114708059,"body_markdown":"@PawanPandey even if the keywords are optional. In my point of view it&#39;s important to write them. compression over redundancy :D","body":"@PawanPandey even if the keywords are optional. In my point of view it&#39;s important to write them. compression over redundancy :D"},{"owner":{"account_id":1275353,"reputation":1052,"user_id":1230748,"accept_rate":29,"display_name":"dcalap"},"score":0,"creation_date":1620676339,"post_id":18439582,"comment_id":119266273,"body_markdown":"Why a LinkedHashSet is needed? Is it not enough to use a HashSet?","body":"Why a LinkedHashSet is needed? Is it not enough to use a HashSet?"},{"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"score":0,"creation_date":1620768190,"post_id":18439582,"comment_id":119298055,"body_markdown":"@dcalap the `LinkedHashSet` retains the insertion order of the keys, so the nodes are ordered when traversing the tree.","body":"@dcalap the <code>LinkedHashSet</code> retains the insertion order of the keys, so the nodes are ordered when traversing the tree."}],"tags":[],"owner":{"account_id":24801,"reputation":15286,"user_id":63293,"accept_rate":50,"display_name":"Peter Walser"},"comment_count":9,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1545208801,"creation_date":1377504878,"answer_id":18439582,"question_id":3522454,"body_markdown":"You should start by defining what a tree is (for the domain), this is best done by defining the **interface** first. Not all trees structures are modifyable, being able to *add* and *remove* nodes should be an optional feature, so we make an extra interface for that.\r\n\r\n**There&#39;s no need to create node objects which hold the values**, in fact I see this as a major design flaw and overhead in most tree implementations. If you look at Swing, the `TreeModel` is free of node classes (only `DefaultTreeModel` makes use of `TreeNode`), as they are not really needed.\r\n\r\n    public interface Tree &lt;N extends Serializable&gt; extends Serializable {\r\n    \tList&lt;N&gt; getRoots ();\r\n    \tN getParent (N node);\r\n    \tList&lt;N&gt; getChildren (N node);\r\n    }\r\n\r\nMutable tree structure (allows to add and remove nodes):\r\n\r\n    public interface MutableTree &lt;N extends Serializable&gt; extends Tree&lt;N&gt; {\r\n    \tboolean add (N parent, N node);\r\n    \tboolean remove (N node, boolean cascade);\r\n    }\r\n\r\nGiven these interfaces, code that uses trees doesn&#39;t have to care much about how the tree is implemented. This allows you to use *generic implementations* as well as *specialized* ones, where you realize the tree by delegating functions to another API.&lt;br/&gt;\r\n\r\nExample: **file tree structure**\r\n\r\n    public class FileTree implements Tree&lt;File&gt; {\r\n    \r\n        @Override\r\n        public List&lt;File&gt; getRoots() {\r\n            return Arrays.stream(File.listRoots()).collect(Collectors.toList());\r\n        }\r\n    \r\n        @Override\r\n        public File getParent(File node) {\r\n            return node.getParentFile();\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;File&gt; getChildren(File node) {\r\n            if (node.isDirectory()) {\r\n                File[] children = node.listFiles();\r\n                if (children != null) {\r\n                    return Arrays.stream(children).collect(Collectors.toList());\r\n                }\r\n            }\r\n            return Collections.emptyList();\r\n        }\r\n    }\r\n\r\nExample: **generic tree structure** (based on parent/child relations):\r\n\r\n    public class MappedTreeStructure&lt;N extends Serializable&gt; implements MutableTree&lt;N&gt; {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            MutableTree&lt;String&gt; tree = new MappedTreeStructure&lt;&gt;();\r\n            tree.add(&quot;A&quot;, &quot;B&quot;);\r\n            tree.add(&quot;A&quot;, &quot;C&quot;);\r\n            tree.add(&quot;C&quot;, &quot;D&quot;);\r\n            tree.add(&quot;E&quot;, &quot;A&quot;);\r\n            System.out.println(tree);\r\n        }\r\n    \r\n        private final Map&lt;N, N&gt; nodeParent = new HashMap&lt;&gt;();\r\n        private final LinkedHashSet&lt;N&gt; nodeList = new LinkedHashSet&lt;&gt;();\r\n    \r\n        private void checkNotNull(N node, String parameterName) {\r\n            if (node == null)\r\n                throw new IllegalArgumentException(parameterName + &quot; must not be null&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public boolean add(N parent, N node) {\r\n            checkNotNull(parent, &quot;parent&quot;);\r\n            checkNotNull(node, &quot;node&quot;);\r\n    \r\n            // check for cycles\r\n            N current = parent;\r\n            do {\r\n                if (node.equals(current)) {\r\n                    throw new IllegalArgumentException(&quot; node must not be the same or an ancestor of the parent&quot;);\r\n                }\r\n            } while ((current = getParent(current)) != null);\r\n    \r\n            boolean added = nodeList.add(node);\r\n            nodeList.add(parent);\r\n            nodeParent.put(node, parent);\r\n            return added;\r\n        }\r\n    \r\n        @Override\r\n        public boolean remove(N node, boolean cascade) {\r\n            checkNotNull(node, &quot;node&quot;);\r\n    \r\n            if (!nodeList.contains(node)) {\r\n                return false;\r\n            }\r\n            if (cascade) {\r\n                for (N child : getChildren(node)) {\r\n                    remove(child, true);\r\n                }\r\n            } else {\r\n                for (N child : getChildren(node)) {\r\n                    nodeParent.remove(child);\r\n                }\r\n            }\r\n            nodeList.remove(node);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;N&gt; getRoots() {\r\n            return getChildren(null);\r\n        }\r\n    \r\n        @Override\r\n        public N getParent(N node) {\r\n            checkNotNull(node, &quot;node&quot;);\r\n            return nodeParent.get(node);\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;N&gt; getChildren(N node) {\r\n            List&lt;N&gt; children = new LinkedList&lt;&gt;();\r\n            for (N n : nodeList) {\r\n                N parent = nodeParent.get(n);\r\n                if (node == null &amp;&amp; parent == null) {\r\n                    children.add(n);\r\n                } else if (node != null &amp;&amp; parent != null &amp;&amp; parent.equals(node)) {\r\n                    children.add(n);\r\n                }\r\n            }\r\n            return children;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            StringBuilder builder = new StringBuilder();\r\n            dumpNodeStructure(builder, null, &quot;- &quot;);\r\n            return builder.toString();\r\n        }\r\n    \r\n        private void dumpNodeStructure(StringBuilder builder, N node, String prefix) {\r\n            if (node != null) {\r\n                builder.append(prefix);\r\n                builder.append(node.toString());\r\n                builder.append(&#39;\\n&#39;);\r\n                prefix = &quot;  &quot; + prefix;\r\n            }\r\n            for (N child : getChildren(node)) {\r\n                dumpNodeStructure(builder, child, prefix);\r\n            }\r\n        }\r\n    }","title":"How to implement a tree data-structure in Java?","body":"<p>You should start by defining what a tree is (for the domain), this is best done by defining the <strong>interface</strong> first. Not all trees structures are modifyable, being able to <em>add</em> and <em>remove</em> nodes should be an optional feature, so we make an extra interface for that.</p>\n\n<p><strong>There's no need to create node objects which hold the values</strong>, in fact I see this as a major design flaw and overhead in most tree implementations. If you look at Swing, the <code>TreeModel</code> is free of node classes (only <code>DefaultTreeModel</code> makes use of <code>TreeNode</code>), as they are not really needed.</p>\n\n<pre><code>public interface Tree &lt;N extends Serializable&gt; extends Serializable {\n    List&lt;N&gt; getRoots ();\n    N getParent (N node);\n    List&lt;N&gt; getChildren (N node);\n}\n</code></pre>\n\n<p>Mutable tree structure (allows to add and remove nodes):</p>\n\n<pre><code>public interface MutableTree &lt;N extends Serializable&gt; extends Tree&lt;N&gt; {\n    boolean add (N parent, N node);\n    boolean remove (N node, boolean cascade);\n}\n</code></pre>\n\n<p>Given these interfaces, code that uses trees doesn't have to care much about how the tree is implemented. This allows you to use <em>generic implementations</em> as well as <em>specialized</em> ones, where you realize the tree by delegating functions to another API.<br/></p>\n\n<p>Example: <strong>file tree structure</strong></p>\n\n<pre><code>public class FileTree implements Tree&lt;File&gt; {\n\n    @Override\n    public List&lt;File&gt; getRoots() {\n        return Arrays.stream(File.listRoots()).collect(Collectors.toList());\n    }\n\n    @Override\n    public File getParent(File node) {\n        return node.getParentFile();\n    }\n\n    @Override\n    public List&lt;File&gt; getChildren(File node) {\n        if (node.isDirectory()) {\n            File[] children = node.listFiles();\n            if (children != null) {\n                return Arrays.stream(children).collect(Collectors.toList());\n            }\n        }\n        return Collections.emptyList();\n    }\n}\n</code></pre>\n\n<p>Example: <strong>generic tree structure</strong> (based on parent/child relations):</p>\n\n<pre><code>public class MappedTreeStructure&lt;N extends Serializable&gt; implements MutableTree&lt;N&gt; {\n\n    public static void main(String[] args) {\n\n        MutableTree&lt;String&gt; tree = new MappedTreeStructure&lt;&gt;();\n        tree.add(\"A\", \"B\");\n        tree.add(\"A\", \"C\");\n        tree.add(\"C\", \"D\");\n        tree.add(\"E\", \"A\");\n        System.out.println(tree);\n    }\n\n    private final Map&lt;N, N&gt; nodeParent = new HashMap&lt;&gt;();\n    private final LinkedHashSet&lt;N&gt; nodeList = new LinkedHashSet&lt;&gt;();\n\n    private void checkNotNull(N node, String parameterName) {\n        if (node == null)\n            throw new IllegalArgumentException(parameterName + \" must not be null\");\n    }\n\n    @Override\n    public boolean add(N parent, N node) {\n        checkNotNull(parent, \"parent\");\n        checkNotNull(node, \"node\");\n\n        // check for cycles\n        N current = parent;\n        do {\n            if (node.equals(current)) {\n                throw new IllegalArgumentException(\" node must not be the same or an ancestor of the parent\");\n            }\n        } while ((current = getParent(current)) != null);\n\n        boolean added = nodeList.add(node);\n        nodeList.add(parent);\n        nodeParent.put(node, parent);\n        return added;\n    }\n\n    @Override\n    public boolean remove(N node, boolean cascade) {\n        checkNotNull(node, \"node\");\n\n        if (!nodeList.contains(node)) {\n            return false;\n        }\n        if (cascade) {\n            for (N child : getChildren(node)) {\n                remove(child, true);\n            }\n        } else {\n            for (N child : getChildren(node)) {\n                nodeParent.remove(child);\n            }\n        }\n        nodeList.remove(node);\n        return true;\n    }\n\n    @Override\n    public List&lt;N&gt; getRoots() {\n        return getChildren(null);\n    }\n\n    @Override\n    public N getParent(N node) {\n        checkNotNull(node, \"node\");\n        return nodeParent.get(node);\n    }\n\n    @Override\n    public List&lt;N&gt; getChildren(N node) {\n        List&lt;N&gt; children = new LinkedList&lt;&gt;();\n        for (N n : nodeList) {\n            N parent = nodeParent.get(n);\n            if (node == null &amp;&amp; parent == null) {\n                children.add(n);\n            } else if (node != null &amp;&amp; parent != null &amp;&amp; parent.equals(node)) {\n                children.add(n);\n            }\n        }\n        return children;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder builder = new StringBuilder();\n        dumpNodeStructure(builder, null, \"- \");\n        return builder.toString();\n    }\n\n    private void dumpNodeStructure(StringBuilder builder, N node, String prefix) {\n        if (node != null) {\n            builder.append(prefix);\n            builder.append(node.toString());\n            builder.append('\\n');\n            prefix = \"  \" + prefix;\n        }\n        for (N child : getChildren(node)) {\n            dumpNodeStructure(builder, child, prefix);\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"score":2,"creation_date":1407450625,"post_id":18503585,"comment_id":39231892,"body_markdown":"&quot;_without using Collection classes_&quot; Ah? So where the Queue class comes from? And as said above, it is a binary tree, failing at first requirement (any number of children nodes).","body":"&quot;<i>without using Collection classes</i>&quot; Ah? So where the Queue class comes from? And as said above, it is a binary tree, failing at first requirement (any number of children nodes)."}],"tags":[],"owner":{"account_id":3233270,"reputation":19,"user_id":2728017,"display_name":"Amit Mathur"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1377758422,"creation_date":1377757212,"answer_id":18503585,"question_id":3522454,"body_markdown":"Please check the below code, where I have used Tree data structures, without using Collection classes. The code may have bugs/improvements but please use this just for reference  \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.datastructure.tree;\r\n\r\n    public class BinaryTreeWithoutRecursion &lt;T&gt; {\r\n    \r\n    \tprivate TreeNode&lt;T&gt; root;\r\n    \t\r\n    \t\r\n    \tpublic BinaryTreeWithoutRecursion (){\r\n    \t\troot = null;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic void insert(T data){\r\n    \t\troot =insert(root, data);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic TreeNode&lt;T&gt;  insert(TreeNode&lt;T&gt; node, T data ){\r\n    \t\t\r\n    \t\tTreeNode&lt;T&gt; newNode = new TreeNode&lt;&gt;();\r\n    \t\tnewNode.data = data;\r\n    \t\tnewNode.right = newNode.left = null;\r\n    \t\r\n    \t\tif(node==null){\r\n    \t\t\tnode = newNode;\r\n    \t\t\treturn node;\r\n    \t\t}\r\n    \t\tQueue&lt;TreeNode&lt;T&gt;&gt; queue = new Queue&lt;TreeNode&lt;T&gt;&gt;();\r\n    \t\tqueue.enque(node);\r\n    \t\twhile(!queue.isEmpty()){\r\n    \t\t\t\r\n    \t\t\tTreeNode&lt;T&gt; temp= queue.deque();\r\n    \t\t\tif(temp.left!=null){\r\n    \t\t\t\tqueue.enque(temp.left);\r\n    \t\t\t}else\r\n    \t\t\t{\r\n    \t\t\t\ttemp.left = newNode;\r\n    \t\t\t\t\r\n    \t\t\t\tqueue =null;\r\n    \t\t\t\treturn node;\r\n    \t\t\t}\r\n    \t\t\tif(temp.right!=null){\r\n    \t\t\t\tqueue.enque(temp.right);\r\n    \t\t\t}else\r\n    \t\t\t{\r\n    \t\t\t\ttemp.right = newNode;\r\n    \t\t\t\tqueue =null;\r\n    \t\t\t\treturn node;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tqueue=null;\r\n    \t\treturn node; \r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic void inOrderPrint(TreeNode&lt;T&gt; root){\r\n    \t\tif(root!=null){\r\n    \t\t\t\r\n    \t\t\tinOrderPrint(root.left);\r\n    \t\t\tSystem.out.println(root.data);\r\n    \t\t\tinOrderPrint(root.right);\r\n    \t\t}\r\n    \t\r\n    \t}\r\n    \r\n    \tpublic void postOrderPrint(TreeNode&lt;T&gt; root){\r\n    \t\tif(root!=null){\r\n    \t\t\t\r\n    \t\t\tpostOrderPrint(root.left);\r\n    \t\t\t\r\n    \t\t\tpostOrderPrint(root.right);\r\n    \t\t\tSystem.out.println(root.data);\r\n    \t\t}\r\n    \t\r\n    \t}\r\n    \r\n    \tpublic void preOrderPrint(){\r\n    \t\tpreOrderPrint(root);\r\n    \t}\r\n    \t\r\n    \r\n    \tpublic void inOrderPrint(){\r\n    \t\tinOrderPrint(root);\r\n    \t}\r\n    \t\r\n    \tpublic void postOrderPrint(){\r\n    \t\tinOrderPrint(root);\r\n    \t}\r\n    \r\n    \t\r\n    \tpublic void preOrderPrint(TreeNode&lt;T&gt; root){\r\n    \t\tif(root!=null){\r\n    \t\t\tSystem.out.println(root.data);\r\n    \t\t\tpreOrderPrint(root.left);\r\n    \t\t\tpreOrderPrint(root.right);\r\n    \t\t}\r\n    \t\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tBinaryTreeWithoutRecursion &lt;Integer&gt; ls=  new BinaryTreeWithoutRecursion &lt;&gt;();\r\n    \t\tls.insert(1);\r\n    \t\tls.insert(2);\r\n    \t\tls.insert(3);\r\n    \t\tls.insert(4);\r\n    \t\tls.insert(5);\r\n    \t\tls.insert(6);\r\n    \t\tls.insert(7);\r\n    \t\t//ls.preOrderPrint();\r\n    \t\tls.inOrderPrint();\r\n    \t\t//ls.postOrderPrint();\r\n    \t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"How to implement a tree data-structure in Java?","body":"<p>Please check the below code, where I have used Tree data structures, without using Collection classes. The code may have bugs/improvements but please use this just for reference  </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package com.datastructure.tree;\n\npublic class BinaryTreeWithoutRecursion &lt;T&gt; {\n\n    private TreeNode&lt;T&gt; root;\n\n\n    public BinaryTreeWithoutRecursion (){\n        root = null;\n    }\n\n\n    public void insert(T data){\n        root =insert(root, data);\n\n    }\n\n    public TreeNode&lt;T&gt;  insert(TreeNode&lt;T&gt; node, T data ){\n\n        TreeNode&lt;T&gt; newNode = new TreeNode&lt;&gt;();\n        newNode.data = data;\n        newNode.right = newNode.left = null;\n\n        if(node==null){\n            node = newNode;\n            return node;\n        }\n        Queue&lt;TreeNode&lt;T&gt;&gt; queue = new Queue&lt;TreeNode&lt;T&gt;&gt;();\n        queue.enque(node);\n        while(!queue.isEmpty()){\n\n            TreeNode&lt;T&gt; temp= queue.deque();\n            if(temp.left!=null){\n                queue.enque(temp.left);\n            }else\n            {\n                temp.left = newNode;\n\n                queue =null;\n                return node;\n            }\n            if(temp.right!=null){\n                queue.enque(temp.right);\n            }else\n            {\n                temp.right = newNode;\n                queue =null;\n                return node;\n            }\n        }\n        queue=null;\n        return node; \n\n\n    }\n\n    public void inOrderPrint(TreeNode&lt;T&gt; root){\n        if(root!=null){\n\n            inOrderPrint(root.left);\n            System.out.println(root.data);\n            inOrderPrint(root.right);\n        }\n\n    }\n\n    public void postOrderPrint(TreeNode&lt;T&gt; root){\n        if(root!=null){\n\n            postOrderPrint(root.left);\n\n            postOrderPrint(root.right);\n            System.out.println(root.data);\n        }\n\n    }\n\n    public void preOrderPrint(){\n        preOrderPrint(root);\n    }\n\n\n    public void inOrderPrint(){\n        inOrderPrint(root);\n    }\n\n    public void postOrderPrint(){\n        inOrderPrint(root);\n    }\n\n\n    public void preOrderPrint(TreeNode&lt;T&gt; root){\n        if(root!=null){\n            System.out.println(root.data);\n            preOrderPrint(root.left);\n            preOrderPrint(root.right);\n        }\n\n    }\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        BinaryTreeWithoutRecursion &lt;Integer&gt; ls=  new BinaryTreeWithoutRecursion &lt;&gt;();\n        ls.insert(1);\n        ls.insert(2);\n        ls.insert(3);\n        ls.insert(4);\n        ls.insert(5);\n        ls.insert(6);\n        ls.insert(7);\n        //ls.preOrderPrint();\n        ls.inOrderPrint();\n        //ls.postOrderPrint();\n\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1913170,"reputation":19646,"user_id":1726413,"accept_rate":50,"display_name":"MagGGG"},"score":1,"creation_date":1541019168,"post_id":18934339,"comment_id":93080367,"body_markdown":"http://blog.pengyifan.com/yet-another-java-tree-structure/","body":"<a href=\"http://blog.pengyifan.com/yet-another-java-tree-structure/\" rel=\"nofollow noreferrer\">blog.pengyifan.com/yet-another-java-tree-structure</a>"}],"tags":[],"owner":{"account_id":2507164,"reputation":97,"user_id":2255110,"display_name":"Yifan Peng"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1379777196,"creation_date":1379777196,"answer_id":18934339,"question_id":3522454,"body_markdown":"There are a couple of tree data structures in Java, such as DefaultMutableTreeNode in JDK Swing, Tree in Stanford parser package, and other toy codes. But none of these are sufficient yet small enough for general purpose.\r\n\r\n[Java-tree][1] project attempts to provide another general-purpose tree data structure in Java. The difference between this and others are\r\n\r\n - Totally free. You can use it anywhere (except in your homework :P) \r\n - Small but general enough. I put everything of the data structure in one class file, so it would be easy to copy/paste. \r\n - Not just a toys. I am aware of dozens of Java tree codes that can only handle binary trees or limited operations. This TreeNode is much more than that. It provides different ways of visiting nodes, such as preorder, postorder, breadthfirst, leaves, path to root, etc. Moreover, iterators are provided too for the sufficiency. \r\n - More utils will be added. I am willing to add more operations to make this project comprehensive, especially if you send a request through github.\r\n\r\n  [1]: https://github.com/yfpeng/java-ds/wiki/Yet-another-Java-tree-structure%20Java-tree","title":"How to implement a tree data-structure in Java?","body":"<p>There are a couple of tree data structures in Java, such as DefaultMutableTreeNode in JDK Swing, Tree in Stanford parser package, and other toy codes. But none of these are sufficient yet small enough for general purpose.</p>\n\n<p><a href=\"https://github.com/yfpeng/java-ds/wiki/Yet-another-Java-tree-structure%20Java-tree\" rel=\"noreferrer\">Java-tree</a> project attempts to provide another general-purpose tree data structure in Java. The difference between this and others are</p>\n\n<ul>\n<li>Totally free. You can use it anywhere (except in your homework :P) </li>\n<li>Small but general enough. I put everything of the data structure in one class file, so it would be easy to copy/paste. </li>\n<li>Not just a toys. I am aware of dozens of Java tree codes that can only handle binary trees or limited operations. This TreeNode is much more than that. It provides different ways of visiting nodes, such as preorder, postorder, breadthfirst, leaves, path to root, etc. Moreover, iterators are provided too for the sufficiency. </li>\n<li>More utils will be added. I am willing to add more operations to make this project comprehensive, especially if you send a request through github.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":408442,"reputation":21426,"user_id":779111,"accept_rate":85,"display_name":"JAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1388515543,"creation_date":1388515543,"answer_id":20861938,"question_id":3522454,"body_markdown":"For example : \r\n\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    \r\n    \r\n    /**\r\n     * \r\n     * @author X2\r\n     *\r\n     * @param &lt;T&gt;\r\n     */\r\n    public class HisTree&lt;T&gt; \r\n    {\r\n        private Node&lt;T&gt; root;\r\n    \r\n        public HisTree(T rootData) \r\n        {\r\n            root = new Node&lt;T&gt;();\r\n            root.setData(rootData);\r\n            root.setChildren(new ArrayList&lt;Node&lt;T&gt;&gt;());\r\n        }\r\n    \r\n    }\r\n    \r\n    class Node&lt;T&gt; \r\n    {\r\n    \r\n    \tprivate T data;\r\n        private Node&lt;T&gt; parent;\r\n        private List&lt;Node&lt;T&gt;&gt; children;\r\n        \r\n        public T getData() {\r\n    \t\treturn data;\r\n    \t}\r\n    \tpublic void setData(T data) {\r\n    \t\tthis.data = data;\r\n    \t}\r\n    \tpublic Node&lt;T&gt; getParent() {\r\n    \t\treturn parent;\r\n    \t}\r\n    \tpublic void setParent(Node&lt;T&gt; parent) {\r\n    \t\tthis.parent = parent;\r\n    \t}\r\n    \tpublic List&lt;Node&lt;T&gt;&gt; getChildren() {\r\n    \t\treturn children;\r\n    \t}\r\n    \tpublic void setChildren(List&lt;Node&lt;T&gt;&gt; children) {\r\n    \t\tthis.children = children;\r\n    \t}\r\n    }","title":"How to implement a tree data-structure in Java?","body":"<p>For example : </p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\n\n\n/**\n * \n * @author X2\n *\n * @param &lt;T&gt;\n */\npublic class HisTree&lt;T&gt; \n{\n    private Node&lt;T&gt; root;\n\n    public HisTree(T rootData) \n    {\n        root = new Node&lt;T&gt;();\n        root.setData(rootData);\n        root.setChildren(new ArrayList&lt;Node&lt;T&gt;&gt;());\n    }\n\n}\n\nclass Node&lt;T&gt; \n{\n\n    private T data;\n    private Node&lt;T&gt; parent;\n    private List&lt;Node&lt;T&gt;&gt; children;\n\n    public T getData() {\n        return data;\n    }\n    public void setData(T data) {\n        this.data = data;\n    }\n    public Node&lt;T&gt; getParent() {\n        return parent;\n    }\n    public void setParent(Node&lt;T&gt; parent) {\n        this.parent = parent;\n    }\n    public List&lt;Node&lt;T&gt;&gt; getChildren() {\n        return children;\n    }\n    public void setChildren(List&lt;Node&lt;T&gt;&gt; children) {\n        this.children = children;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"score":13,"creation_date":1407450401,"post_id":21172856,"comment_id":39231833,"body_markdown":"That&#39;s a binary tree, it fails at the first requirement of the OP...","body":"That&#39;s a binary tree, it fails at the first requirement of the OP..."}],"tags":[],"owner":{"account_id":1715215,"reputation":426,"user_id":1572446,"display_name":"Shivam Verma"},"comment_count":1,"down_vote_count":5,"up_vote_count":4,"is_accepted":false,"score":-1,"last_activity_date":1528552032,"creation_date":1389906321,"answer_id":21172856,"question_id":3522454,"body_markdown":"Custom Tree implement of Tree without using the Collection framework. \r\nIt contains different fundamental operation needed in Tree implementation.\r\n    \r\n    class Node {\r\n\r\n\t\tint data;\r\n\t\tNode left;\r\n\t\tNode right;\r\n\t\t\r\n\t\tpublic Node(int ddata, Node left, Node right) {\r\n\t\t\tthis.data = ddata;\r\n\t\t\tthis.left = null;\r\n\t\t\tthis.right = null;\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic void displayNode(Node n) {\r\n\t\t\tSystem.out.print(n.data + &quot; &quot;);\t\r\n\t\t}\r\n\r\n    }\r\n\r\n    class BinaryTree {\r\n\r\n\t\tNode root;\r\n\r\n\t\tpublic BinaryTree() {\r\n\t\t\tthis.root = null;\r\n\t\t}\r\n\r\n\t\tpublic void insertLeft(int parent, int leftvalue ) {\r\n\t\t\tNode n = find(root, parent);\r\n\t\t\tNode leftchild = new Node(leftvalue, null, null);\r\n\t\t\tn.left = leftchild;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void insertRight(int parent, int rightvalue) {\r\n\t\t\tNode n = find(root, parent);\r\n\t\t\tNode rightchild = new Node(rightvalue, null, null);\r\n\t\t\tn.right = rightchild;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void insertRoot(int data) {\r\n\t\t\troot = new Node(data, null, null);\r\n\t\t}\r\n\t\t\r\n\t\tpublic Node getRoot() {\r\n\t\t\treturn root;\r\n\t\t}\r\n\t\t\r\n\t\tpublic Node find(Node n, int key) {\t\t\r\n\t\t\tNode result = null;\r\n\r\n\t\t\tif (n == null)\r\n\t\t\t\treturn null;\r\n\r\n\t\t\tif (n.data == key)\r\n\t\t\t\treturn n;\r\n\r\n\t\t\tif (n.left != null)\r\n\t\t\t\tresult = find(n.left, key);\r\n\r\n\t\t\tif (result == null)\r\n\t\t\t\tresult = find(n.right, key);\r\n\r\n\t\t\treturn result;\r\n\t\t} \r\n\t\t\r\n\t\tpublic int getheight(Node root){\r\n\t\t\tif (root == null)\r\n\t\t\t\treturn 0;\r\n\r\n\t\t\treturn Math.max(getheight(root.left), getheight(root.right)) + 1; \r\n\t\t}\r\n\t\t\r\n\t\tpublic void printTree(Node n) {\t\t\r\n\t\t\tif (n == null)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tprintTree(n.left);\r\n\t\t\tn.displayNode(n);\r\n\t\t\tprintTree(n.right);\t\t\t\t\r\n\t\t}\r\n\r\n    }","title":"How to implement a tree data-structure in Java?","body":"<p>Custom Tree implement of Tree without using the Collection framework. \nIt contains different fundamental operation needed in Tree implementation.</p>\n\n<pre><code>class Node {\n\n    int data;\n    Node left;\n    Node right;\n\n    public Node(int ddata, Node left, Node right) {\n        this.data = ddata;\n        this.left = null;\n        this.right = null;      \n    }\n\n    public void displayNode(Node n) {\n        System.out.print(n.data + \" \"); \n    }\n\n}\n\nclass BinaryTree {\n\n    Node root;\n\n    public BinaryTree() {\n        this.root = null;\n    }\n\n    public void insertLeft(int parent, int leftvalue ) {\n        Node n = find(root, parent);\n        Node leftchild = new Node(leftvalue, null, null);\n        n.left = leftchild;\n    }\n\n    public void insertRight(int parent, int rightvalue) {\n        Node n = find(root, parent);\n        Node rightchild = new Node(rightvalue, null, null);\n        n.right = rightchild;\n    }\n\n    public void insertRoot(int data) {\n        root = new Node(data, null, null);\n    }\n\n    public Node getRoot() {\n        return root;\n    }\n\n    public Node find(Node n, int key) {     \n        Node result = null;\n\n        if (n == null)\n            return null;\n\n        if (n.data == key)\n            return n;\n\n        if (n.left != null)\n            result = find(n.left, key);\n\n        if (result == null)\n            result = find(n.right, key);\n\n        return result;\n    } \n\n    public int getheight(Node root){\n        if (root == null)\n            return 0;\n\n        return Math.max(getheight(root.left), getheight(root.right)) + 1; \n    }\n\n    public void printTree(Node n) {     \n        if (n == null)\n            return;\n\n        printTree(n.left);\n        n.displayNode(n);\n        printTree(n.right);             \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3411536,"reputation":176,"user_id":2861336,"display_name":"aman rastogi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414518826,"creation_date":1414518826,"answer_id":26615163,"question_id":3522454,"body_markdown":"There is no specific data structure in Java which suits to your requirements. Your requirements are quite specific and for that you need to design your own data structure. Looking at your requirements anyone can say that you need some kind of n-ary tree with some specific functionality. You can design your data structure in following way:\r\n\r\n1. Structure of the node of the tree would be like content in the node and list of children like:\r\nclass Node { String value; List&lt;Node&gt; children;}\r\n2. You need to retrieve the children of a given string, so you can have 2 methods 1: Node searchNode(String str), will return the node that has the same value as given input (use BFS for searching) 2: List&lt;String&gt; getChildren(String str): this method will internally call the searchNode to get the node having same string and then it will create the list of all string values of children and return.\r\n3. You will also be required to insert a string in tree. You will have to write one method say void insert(String parent, String value): this will again search the node having value equal to parent and then you can create a Node with given value and add to the list of children to the found parent.\r\n\r\nI would suggest, you write structure of the node in one class like Class Node { String  value; List&lt;Node&gt; children;} and all other methods like search, insert and getChildren in another NodeUtils class so that you can also pass the root of tree to perform operation on specific tree like:\r\nclass NodeUtils{ public static Node search(Node root, String value){// perform BFS and return Node}","title":"How to implement a tree data-structure in Java?","body":"<p>There is no specific data structure in Java which suits to your requirements. Your requirements are quite specific and for that you need to design your own data structure. Looking at your requirements anyone can say that you need some kind of n-ary tree with some specific functionality. You can design your data structure in following way:</p>\n\n<ol>\n<li>Structure of the node of the tree would be like content in the node and list of children like:\nclass Node { String value; List children;}</li>\n<li>You need to retrieve the children of a given string, so you can have 2 methods 1: Node searchNode(String str), will return the node that has the same value as given input (use BFS for searching) 2: List getChildren(String str): this method will internally call the searchNode to get the node having same string and then it will create the list of all string values of children and return.</li>\n<li>You will also be required to insert a string in tree. You will have to write one method say void insert(String parent, String value): this will again search the node having value equal to parent and then you can create a Node with given value and add to the list of children to the found parent.</li>\n</ol>\n\n<p>I would suggest, you write structure of the node in one class like Class Node { String  value; List children;} and all other methods like search, insert and getChildren in another NodeUtils class so that you can also pass the root of tree to perform operation on specific tree like:\nclass NodeUtils{ public static Node search(Node root, String value){// perform BFS and return Node}</p>\n"},{"tags":[],"owner":{"account_id":1361091,"reputation":5961,"user_id":1298461,"accept_rate":89,"display_name":"KIC"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1437037464,"creation_date":1437037464,"answer_id":31449858,"question_id":3522454,"body_markdown":"In the past I have just used a nested map for this. This is what I use today, it is very simple but it fits my needs. Maybe this will help another one.\r\n\r\n\r\n    import com.fasterxml.jackson.annotation.JsonValue;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.TreeMap;\r\n    \r\n    /**\r\n     * Created by kic on 16.07.15.\r\n     */\r\n    public class NestedMap&lt;K, V&gt; {\r\n        private final Map root = new HashMap&lt;&gt;();\r\n    \r\n        public NestedMap&lt;K, V&gt; put(K key) {\r\n            Object nested = root.get(key);\r\n    \r\n            if (nested == null || !(nested instanceof NestedMap)) root.put(key, nested = new NestedMap&lt;&gt;());\r\n            return (NestedMap&lt;K, V&gt;) nested;\r\n        }\r\n    \r\n        public Map.Entry&lt;K,V &gt; put(K key, V value) {\r\n            root.put(key, value);\r\n    \r\n            return (Map.Entry&lt;K, V&gt;) root.entrySet().stream().filter(e -&gt; ((Map.Entry) e).getKey().equals(key)).findFirst().get();\r\n        }\r\n    \r\n        public NestedMap&lt;K, V&gt; get(K key) {\r\n            return (NestedMap&lt;K, V&gt;) root.get(key);\r\n        }\r\n    \r\n        public V getValue(K key) {\r\n            return (V) root.get(key);\r\n        }\r\n    \r\n        @JsonValue\r\n        public Map getRoot() {\r\n            return root;\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            NestedMap&lt;String, Integer&gt; test = new NestedMap&lt;&gt;();\r\n            test.put(&quot;a&quot;).put(&quot;b&quot;).put(&quot;c&quot;, 12);\r\n            Map.Entry&lt;String, Integer&gt; foo = test.put(&quot;a&quot;).put(&quot;b&quot;).put(&quot;d&quot;, 12);\r\n            test.put(&quot;b&quot;, 14);\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            System.out.println(mapper.writeValueAsString(test));\r\n    \r\n            foo.setValue(99);\r\n            System.out.println(mapper.writeValueAsString(test));\r\n    \r\n            System.out.println(test.get(&quot;a&quot;).get(&quot;b&quot;).getValue(&quot;d&quot;));\r\n        }\r\n    }\r\n\r\n","title":"How to implement a tree data-structure in Java?","body":"<p>In the past I have just used a nested map for this. This is what I use today, it is very simple but it fits my needs. Maybe this will help another one.</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonValue;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.TreeMap;\n\n/**\n * Created by kic on 16.07.15.\n */\npublic class NestedMap&lt;K, V&gt; {\n    private final Map root = new HashMap&lt;&gt;();\n\n    public NestedMap&lt;K, V&gt; put(K key) {\n        Object nested = root.get(key);\n\n        if (nested == null || !(nested instanceof NestedMap)) root.put(key, nested = new NestedMap&lt;&gt;());\n        return (NestedMap&lt;K, V&gt;) nested;\n    }\n\n    public Map.Entry&lt;K,V &gt; put(K key, V value) {\n        root.put(key, value);\n\n        return (Map.Entry&lt;K, V&gt;) root.entrySet().stream().filter(e -&gt; ((Map.Entry) e).getKey().equals(key)).findFirst().get();\n    }\n\n    public NestedMap&lt;K, V&gt; get(K key) {\n        return (NestedMap&lt;K, V&gt;) root.get(key);\n    }\n\n    public V getValue(K key) {\n        return (V) root.get(key);\n    }\n\n    @JsonValue\n    public Map getRoot() {\n        return root;\n    }\n\n    public static void main(String[] args) throws Exception {\n        NestedMap&lt;String, Integer&gt; test = new NestedMap&lt;&gt;();\n        test.put(\"a\").put(\"b\").put(\"c\", 12);\n        Map.Entry&lt;String, Integer&gt; foo = test.put(\"a\").put(\"b\").put(\"d\", 12);\n        test.put(\"b\", 14);\n        ObjectMapper mapper = new ObjectMapper();\n        System.out.println(mapper.writeValueAsString(test));\n\n        foo.setValue(99);\n        System.out.println(mapper.writeValueAsString(test));\n\n        System.out.println(test.get(\"a\").get(\"b\").getValue(\"d\"));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":241731,"reputation":8846,"user_id":512728,"accept_rate":80,"display_name":"Jan Doggen"},"score":3,"creation_date":1469299926,"post_id":38545182,"comment_id":64482464,"body_markdown":"Please do not just dump code - explain what it does, and especially why it differs (is better) than all the other answers.","body":"Please do not just dump code - explain what it does, and especially why it differs (is better) than all the other answers."}],"tags":[],"owner":{"account_id":8827151,"reputation":21,"user_id":6595039,"display_name":"Tony Narloch"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1469298587,"creation_date":1469298587,"answer_id":38545182,"question_id":3522454,"body_markdown":"        // TestTree.java\r\n    // A simple test to see how we can build a tree and populate it\r\n    //\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    import javax.swing.tree.*;\r\n    \r\n    public class TestTree extends JFrame {\r\n    \r\n      JTree tree;\r\n      DefaultTreeModel treeModel;\r\n    \r\n      public TestTree( ) {\r\n        super(&quot;Tree Test Example&quot;);\r\n        setSize(400, 300);\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n      }\r\n    \r\n      public void init( ) {\r\n        // Build up a bunch of TreeNodes. We use DefaultMutableTreeNode because the\r\n        // DefaultTreeModel can use it to build a complete tree.\r\n        DefaultMutableTreeNode root = new DefaultMutableTreeNode(&quot;Root&quot;);\r\n        DefaultMutableTreeNode subroot = new DefaultMutableTreeNode(&quot;SubRoot&quot;);\r\n        DefaultMutableTreeNode leaf1 = new DefaultMutableTreeNode(&quot;Leaf 1&quot;);\r\n        DefaultMutableTreeNode leaf2 = new DefaultMutableTreeNode(&quot;Leaf 2&quot;);\r\n        \r\n        // Build our tree model starting at the root node, and then make a JTree out\r\n        // of it.\r\n        treeModel = new DefaultTreeModel(root);\r\n        tree = new JTree(treeModel);\r\n    \r\n        // Build the tree up from the nodes we created.\r\n        treeModel.insertNodeInto(subroot, root, 0);\r\n        // Or, more succinctly:\r\n        subroot.add(leaf1);\r\n        root.add(leaf2);\r\n    \r\n        // Display it.\r\n        getContentPane( ).add(tree, BorderLayout.CENTER);\r\n      }\r\n    \r\n      public static void main(String args[]) {\r\n        TestTree tt = new TestTree( );\r\n        tt.init( );\r\n        tt.setVisible(true);\r\n      }\r\n    }","title":"How to implement a tree data-structure in Java?","body":"<pre><code>    // TestTree.java\n// A simple test to see how we can build a tree and populate it\n//\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport javax.swing.tree.*;\n\npublic class TestTree extends JFrame {\n\n  JTree tree;\n  DefaultTreeModel treeModel;\n\n  public TestTree( ) {\n    super(\"Tree Test Example\");\n    setSize(400, 300);\n    setDefaultCloseOperation(EXIT_ON_CLOSE);\n  }\n\n  public void init( ) {\n    // Build up a bunch of TreeNodes. We use DefaultMutableTreeNode because the\n    // DefaultTreeModel can use it to build a complete tree.\n    DefaultMutableTreeNode root = new DefaultMutableTreeNode(\"Root\");\n    DefaultMutableTreeNode subroot = new DefaultMutableTreeNode(\"SubRoot\");\n    DefaultMutableTreeNode leaf1 = new DefaultMutableTreeNode(\"Leaf 1\");\n    DefaultMutableTreeNode leaf2 = new DefaultMutableTreeNode(\"Leaf 2\");\n\n    // Build our tree model starting at the root node, and then make a JTree out\n    // of it.\n    treeModel = new DefaultTreeModel(root);\n    tree = new JTree(treeModel);\n\n    // Build the tree up from the nodes we created.\n    treeModel.insertNodeInto(subroot, root, 0);\n    // Or, more succinctly:\n    subroot.add(leaf1);\n    root.add(leaf2);\n\n    // Display it.\n    getContentPane( ).add(tree, BorderLayout.CENTER);\n  }\n\n  public static void main(String args[]) {\n    TestTree tt = new TestTree( );\n    tt.init( );\n    tt.setVisible(true);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1272601,"reputation":441,"user_id":1228553,"accept_rate":75,"display_name":"bretter"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1474217377,"creation_date":1474217377,"answer_id":39560218,"question_id":3522454,"body_markdown":"    public abstract class Node {\r\n      List&lt;Node&gt; children;\r\n\r\n      public List&lt;Node&gt; getChidren() {\r\n        if (children == null) {\r\n          children = new ArrayList&lt;&gt;();\r\n        }\r\n        return chidren;\r\n      }\r\n    }\r\n\r\nAs simple as it gets and very easy to use.  To use it, extend it:  \r\n\r\n    public class MenuItem extends Node {\r\n      String label;\r\n      String href;\r\n      ...\r\n    }\r\n\r\n\r\n","title":"How to implement a tree data-structure in Java?","body":"<pre><code>public abstract class Node {\n  List&lt;Node&gt; children;\n\n  public List&lt;Node&gt; getChidren() {\n    if (children == null) {\n      children = new ArrayList&lt;&gt;();\n    }\n    return chidren;\n  }\n}\n</code></pre>\n\n<p>As simple as it gets and very easy to use.  To use it, extend it:  </p>\n\n<pre><code>public class MenuItem extends Node {\n  String label;\n  String href;\n  ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2407283,"reputation":2568,"user_id":2103383,"accept_rate":93,"display_name":"RutledgePaulV"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1477449740,"creation_date":1477449740,"answer_id":40252857,"question_id":3522454,"body_markdown":"I wrote a tree library that plays nicely with Java8 and that has no other dependencies. It also provides a loose interpretation of some ideas from functional programming and lets you map/filter/prune/search the entire tree or subtrees.\r\n\r\nhttps://github.com/RutledgePaulV/prune\r\n\r\nThe implementation doesn&#39;t do anything special with indexing and I didn&#39;t stray away from recursion, so it&#39;s possible that with large trees performance will degrade and you could blow the stack. But if all you need is a straightforward tree of small to moderate depth, I think it works well enough. It provides a sane (value based) definition of equality and it also has a toString implementation that lets you visualize the tree!","title":"How to implement a tree data-structure in Java?","body":"<p>I wrote a tree library that plays nicely with Java8 and that has no other dependencies. It also provides a loose interpretation of some ideas from functional programming and lets you map/filter/prune/search the entire tree or subtrees.</p>\n\n<p><a href=\"https://github.com/RutledgePaulV/prune\" rel=\"nofollow\">https://github.com/RutledgePaulV/prune</a></p>\n\n<p>The implementation doesn't do anything special with indexing and I didn't stray away from recursion, so it's possible that with large trees performance will degrade and you could blow the stack. But if all you need is a straightforward tree of small to moderate depth, I think it works well enough. It provides a sane (value based) definition of equality and it also has a toString implementation that lets you visualize the tree!</p>\n"},{"tags":[],"owner":{"account_id":3657924,"reputation":1867,"user_id":3048431,"display_name":"Oguz"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1500271025,"creation_date":1500271025,"answer_id":45136875,"question_id":3522454,"body_markdown":"You can use TreeSet class in java.util.*. It is working like Binary search tree, so it is already sorted. TreeSet class implements Iterable, Collection and Set interfaces. You can traverse through the tree with iterator like a set. \r\n\r\n    TreeSet&lt;String&gt; treeSet = new TreeSet&lt;String&gt;();\r\n    Iterator&lt;String&gt; it  = treeSet.Iterator();\r\n    while(it.hasNext()){\r\n    ...\r\n    }\r\n\r\nYou can check, [Java Doc][1] and some [other][2] .\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/TreeSet.html\r\n  [2]: https://www.javatpoint.com/java-treeset","title":"How to implement a tree data-structure in Java?","body":"<p>You can use TreeSet class in java.util.*. It is working like Binary search tree, so it is already sorted. TreeSet class implements Iterable, Collection and Set interfaces. You can traverse through the tree with iterator like a set. </p>\n\n<pre><code>TreeSet&lt;String&gt; treeSet = new TreeSet&lt;String&gt;();\nIterator&lt;String&gt; it  = treeSet.Iterator();\nwhile(it.hasNext()){\n...\n}\n</code></pre>\n\n<p>You can check, <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/TreeSet.html\" rel=\"nofollow noreferrer\">Java Doc</a> and some <a href=\"https://www.javatpoint.com/java-treeset\" rel=\"nofollow noreferrer\">other</a> .</p>\n"},{"tags":[],"owner":{"account_id":368,"reputation":44335,"user_id":459,"accept_rate":81,"display_name":"dlamblin"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1505440804,"creation_date":1505375384,"answer_id":46213426,"question_id":3522454,"body_markdown":"If you&#39;re doing whiteboard coding, an interview, or even just planning to use a tree, the verbosity of these is all a little much.\r\n\r\nIt should further be said that the reason a tree is not in there like, say, a `Pair` (about which the same could be said), is because you should be encapsulating your data in the class using it, **and** the simplest implementation looks like:\r\n\r\n    /***\r\n    /* Within the class that&#39;s using a binary tree for any reason. You could \r\n    /* generalize with generics IFF the parent class needs different value types.\r\n     */\r\n    private class Node {\r\n      public String value;\r\n      public Node[] nodes; // Or an Iterable&lt;Node&gt; nodes;\r\n    }\r\n\r\nThat&#39;s really it for an arbitrary width tree.\r\n\r\nIf you wanted a binary tree it&#39;s often easier to use with named fields:\r\n\r\n    private class Node { // Using package visibility is an option\r\n      String value;\r\n      Node left;\r\n      Node right;\r\n    }\r\n\r\nOr if you wanted a trie:\r\n\r\n    private class Node {\r\n      String value;\r\n      Map&lt;char, Node&gt; nodes;\r\n    }\r\n\r\nNow you said you want\r\n&gt; to be able to get all the children (some sort of list or array of Strings) given an input string representing a given node\r\n\r\nThat sounds like your homework.  \r\nBut since I&#39;m reasonably sure any deadline has now passed…\r\n\r\n    import java.util.Arrays;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class kidsOfMatchTheseDays {\r\n     static private class Node {\r\n       String value;\r\n       Node[] nodes;\r\n     }\r\n\r\n     // Pre-order; you didn&#39;t specify.\r\n     static public List&lt;String&gt; list(Node node, String find) {\r\n       return list(node, find, new ArrayList&lt;String&gt;(), false);\r\n     }\r\n\r\n     static private ArrayList&lt;String&gt; list(\r\n         Node node,\r\n         String find,\r\n         ArrayList&lt;String&gt; list,\r\n         boolean add) {\r\n       if (node == null) {\r\n         return list;\r\n       }\r\n       if (node.value.equals(find)) {\r\n         add = true;\r\n       }\r\n       if (add) {\r\n         list.add(node.value);\r\n       }\r\n       if (node.nodes != null) {\r\n         for (Node child: node.nodes) {\r\n           list(child, find, list, add);\r\n         }\r\n       }\r\n       return list;\r\n     }\r\n\r\n     public static final void main(String... args) {\r\n       // Usually never have to do setup like this, so excuse the style\r\n       // And it could be cleaner by adding a constructor like:\r\n       //     Node(String val, Node... children) {\r\n       //         value = val;\r\n       //         nodes = children;\r\n       //     }\r\n       Node tree = new Node();\r\n       tree.value = &quot;root&quot;;\r\n       Node[] n = {new Node(), new Node()};\r\n       tree.nodes = n;\r\n       tree.nodes[0].value = &quot;leftish&quot;;\r\n       tree.nodes[1].value = &quot;rightish-leafy&quot;;\r\n       Node[] nn = {new Node()};\r\n       tree.nodes[0].nodes = nn;\r\n       tree.nodes[0].nodes[0].value = &quot;off-leftish-leaf&quot;;\r\n       // Enough setup\r\n       System.out.println(Arrays.toString(list(tree, args[0]).toArray()));\r\n     }\r\n    }\r\n\r\nThis gets you use like:\r\n\r\n    $ java kidsOfMatchTheseDays leftish\r\n    [leftish, off-leftish-leaf]\r\n    $ java kidsOfMatchTheseDays root\r\n    [root, leftish, off-leftish-leaf, rightish-leafy]\r\n    $ java kidsOfMatchTheseDays rightish-leafy\r\n    [rightish-leafy]\r\n    $ java kidsOfMatchTheseDays a\r\n    []\r\n","title":"How to implement a tree data-structure in Java?","body":"<p>If you're doing whiteboard coding, an interview, or even just planning to use a tree, the verbosity of these is all a little much.</p>\n\n<p>It should further be said that the reason a tree is not in there like, say, a <code>Pair</code> (about which the same could be said), is because you should be encapsulating your data in the class using it, <strong>and</strong> the simplest implementation looks like:</p>\n\n<pre><code>/***\n/* Within the class that's using a binary tree for any reason. You could \n/* generalize with generics IFF the parent class needs different value types.\n */\nprivate class Node {\n  public String value;\n  public Node[] nodes; // Or an Iterable&lt;Node&gt; nodes;\n}\n</code></pre>\n\n<p>That's really it for an arbitrary width tree.</p>\n\n<p>If you wanted a binary tree it's often easier to use with named fields:</p>\n\n<pre><code>private class Node { // Using package visibility is an option\n  String value;\n  Node left;\n  Node right;\n}\n</code></pre>\n\n<p>Or if you wanted a trie:</p>\n\n<pre><code>private class Node {\n  String value;\n  Map&lt;char, Node&gt; nodes;\n}\n</code></pre>\n\n<p>Now you said you want</p>\n\n<blockquote>\n  <p>to be able to get all the children (some sort of list or array of Strings) given an input string representing a given node</p>\n</blockquote>\n\n<p>That sounds like your homework.<br>\nBut since I'm reasonably sure any deadline has now passed…</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class kidsOfMatchTheseDays {\n static private class Node {\n   String value;\n   Node[] nodes;\n }\n\n // Pre-order; you didn't specify.\n static public List&lt;String&gt; list(Node node, String find) {\n   return list(node, find, new ArrayList&lt;String&gt;(), false);\n }\n\n static private ArrayList&lt;String&gt; list(\n     Node node,\n     String find,\n     ArrayList&lt;String&gt; list,\n     boolean add) {\n   if (node == null) {\n     return list;\n   }\n   if (node.value.equals(find)) {\n     add = true;\n   }\n   if (add) {\n     list.add(node.value);\n   }\n   if (node.nodes != null) {\n     for (Node child: node.nodes) {\n       list(child, find, list, add);\n     }\n   }\n   return list;\n }\n\n public static final void main(String... args) {\n   // Usually never have to do setup like this, so excuse the style\n   // And it could be cleaner by adding a constructor like:\n   //     Node(String val, Node... children) {\n   //         value = val;\n   //         nodes = children;\n   //     }\n   Node tree = new Node();\n   tree.value = \"root\";\n   Node[] n = {new Node(), new Node()};\n   tree.nodes = n;\n   tree.nodes[0].value = \"leftish\";\n   tree.nodes[1].value = \"rightish-leafy\";\n   Node[] nn = {new Node()};\n   tree.nodes[0].nodes = nn;\n   tree.nodes[0].nodes[0].value = \"off-leftish-leaf\";\n   // Enough setup\n   System.out.println(Arrays.toString(list(tree, args[0]).toArray()));\n }\n}\n</code></pre>\n\n<p>This gets you use like:</p>\n\n<pre><code>$ java kidsOfMatchTheseDays leftish\n[leftish, off-leftish-leaf]\n$ java kidsOfMatchTheseDays root\n[root, leftish, off-leftish-leaf, rightish-leafy]\n$ java kidsOfMatchTheseDays rightish-leafy\n[rightish-leafy]\n$ java kidsOfMatchTheseDays a\n[]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2294840,"reputation":1655,"user_id":2016554,"display_name":"mevdschee"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1520625851,"creation_date":1520623964,"answer_id":49200897,"question_id":3522454,"body_markdown":"I wrote a small &quot;TreeMap&quot; class based on &quot;HashMap&quot; that supports adding paths:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.LinkedList;\r\n    \r\n    public class TreeMap&lt;T&gt; extends LinkedHashMap&lt;T, TreeMap&lt;T&gt;&gt; {\r\n    \r\n    \tpublic void put(T[] path) {\r\n    \t\tLinkedList&lt;T&gt; list = new LinkedList&lt;&gt;();\r\n    \t\tfor (T key : path) {\r\n    \t\t\tlist.add(key);\r\n    \t\t}\r\n    \t\treturn put(list);\r\n    \t}\r\n    \r\n        public void put(LinkedList&lt;T&gt; path) {\r\n         \tif (path.isEmpty()) {\r\n         \t\treturn;\r\n         \t}\r\n         \tT key = path.removeFirst();\r\n         \tTreeMap&lt;T&gt; val = get(key);\r\n         \tif (val == null) {\r\n         \t\tval = new TreeMap&lt;&gt;();\r\n         \t\tput(key, val);\r\n         \t}\r\n         \tval.put(path);\r\n        }\r\n    \r\n    }\r\n\r\nIt can be use to store a Tree of things of type &quot;T&quot; (generic), but does not (yet) support storing extra data in it&#39;s nodes. If you have a file like this:\r\n\r\n    root, child 1\r\n    root, child 1, child 1a\r\n    root, child 1, child 1b\r\n    root, child 2\r\n    root, child 3, child 3a\r\n\r\nThen you can make it a tree by executing:\r\n\r\n    TreeMap&lt;String&gt; root = new TreeMap&lt;&gt;();\r\n    Scanner scanner = new Scanner(new File(&quot;input.txt&quot;));\r\n    while (scanner.hasNextLine()) {\r\n      root.put(scanner.nextLine().split(&quot;, &quot;));\r\n    }\r\n\r\nAnd you will get a nice tree. It should be easy to adapt to your needs.","title":"How to implement a tree data-structure in Java?","body":"<p>I wrote a small \"TreeMap\" class based on \"HashMap\" that supports adding paths:</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.LinkedList;\n\npublic class TreeMap&lt;T&gt; extends LinkedHashMap&lt;T, TreeMap&lt;T&gt;&gt; {\n\n    public void put(T[] path) {\n        LinkedList&lt;T&gt; list = new LinkedList&lt;&gt;();\n        for (T key : path) {\n            list.add(key);\n        }\n        return put(list);\n    }\n\n    public void put(LinkedList&lt;T&gt; path) {\n        if (path.isEmpty()) {\n            return;\n        }\n        T key = path.removeFirst();\n        TreeMap&lt;T&gt; val = get(key);\n        if (val == null) {\n            val = new TreeMap&lt;&gt;();\n            put(key, val);\n        }\n        val.put(path);\n    }\n\n}\n</code></pre>\n\n<p>It can be use to store a Tree of things of type \"T\" (generic), but does not (yet) support storing extra data in it's nodes. If you have a file like this:</p>\n\n<pre><code>root, child 1\nroot, child 1, child 1a\nroot, child 1, child 1b\nroot, child 2\nroot, child 3, child 3a\n</code></pre>\n\n<p>Then you can make it a tree by executing:</p>\n\n<pre><code>TreeMap&lt;String&gt; root = new TreeMap&lt;&gt;();\nScanner scanner = new Scanner(new File(\"input.txt\"));\nwhile (scanner.hasNextLine()) {\n  root.put(scanner.nextLine().split(\", \"));\n}\n</code></pre>\n\n<p>And you will get a nice tree. It should be easy to adapt to your needs.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1635141240,"post_id":69703374,"comment_id":123206238,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/69703374/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":14513000,"reputation":1,"user_id":10482865,"display_name":"changjin wei"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635231195,"creation_date":1635141128,"answer_id":69703374,"question_id":3522454,"body_markdown":"```java\r\n\r\nimport java.util.Collection;\r\nimport java.util.LinkedList;\r\nimport java.util.function.BiConsumer;\r\nimport java.util.function.Function;\r\n\r\n/**\r\n * @author changjin wei(魏昌进)\r\n * @since 2021/7/15\r\n */\r\npublic class TreeUtils {\r\n\r\n    private TreeUtils() {\r\n    }\r\n\r\n    /**\r\n     * @param collection this is a collection of elements\r\n     * @param getId this is a getId Function\r\n     * @param getParentId this is a getParentId Function\r\n     * @param setNode this is a setNode BiConsumer\r\n     * @param &lt;E&gt; the type of elements in this collection\r\n     * @param &lt;R&gt; the type of the result of the function\r\n     *\r\n     * @return Collection\r\n     */\r\n    public static &lt;E, R&gt; Collection&lt;E&gt; tree(Collection&lt;E&gt; collection, Function&lt;E, R&gt; getId, Function&lt;E, R&gt; getParentId, BiConsumer&lt;E, Collection&lt;E&gt;&gt; setNode) {\r\n        Collection&lt;E&gt; root = new LinkedList&lt;&gt;();\r\n        for (E node : collection) {\r\n            R parentId = getParentId.apply(node);\r\n            R id = getId.apply(node);\r\n            Collection&lt;E&gt; elements = new LinkedList&lt;&gt;();\r\n            boolean isParent = true;\r\n            for (E element : collection) {\r\n                if (id.equals(getParentId.apply(element))) {\r\n                    elements.add(element);\r\n                }\r\n                if (isParent &amp;&amp; getId.apply(element).equals(parentId)) {\r\n                    isParent = false;\r\n                }\r\n            }\r\n            if (isParent) {\r\n                root.add(node);\r\n            }\r\n            setNode.accept(node, elements);\r\n        }\r\n        return root;\r\n    }\r\n}\r\n```","title":"How to implement a tree data-structure in Java?","body":"<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.Collection;\nimport java.util.LinkedList;\nimport java.util.function.BiConsumer;\nimport java.util.function.Function;\n\n/**\n * @author changjin wei(魏昌进)\n * @since 2021/7/15\n */\npublic class TreeUtils {\n\n    private TreeUtils() {\n    }\n\n    /**\n     * @param collection this is a collection of elements\n     * @param getId this is a getId Function\n     * @param getParentId this is a getParentId Function\n     * @param setNode this is a setNode BiConsumer\n     * @param &lt;E&gt; the type of elements in this collection\n     * @param &lt;R&gt; the type of the result of the function\n     *\n     * @return Collection\n     */\n    public static &lt;E, R&gt; Collection&lt;E&gt; tree(Collection&lt;E&gt; collection, Function&lt;E, R&gt; getId, Function&lt;E, R&gt; getParentId, BiConsumer&lt;E, Collection&lt;E&gt;&gt; setNode) {\n        Collection&lt;E&gt; root = new LinkedList&lt;&gt;();\n        for (E node : collection) {\n            R parentId = getParentId.apply(node);\n            R id = getId.apply(node);\n            Collection&lt;E&gt; elements = new LinkedList&lt;&gt;();\n            boolean isParent = true;\n            for (E element : collection) {\n                if (id.equals(getParentId.apply(element))) {\n                    elements.add(element);\n                }\n                if (isParent &amp;&amp; getId.apply(element).equals(parentId)) {\n                    isParent = false;\n                }\n            }\n            if (isParent) {\n                root.add(node);\n            }\n            setNode.accept(node, elements);\n        }\n        return root;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12558993,"reputation":44,"user_id":9137528,"display_name":"Mohammed El Amine Mahmoudi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650693582,"creation_date":1650457465,"answer_id":71939599,"question_id":3522454,"body_markdown":"Simple example:\r\n\r\n    public class ArbrePlaner {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tArbrePlaner ll = new ArbrePlaner();\r\n\t\t\r\n\t\tll.add(1,&quot;A&quot;);\r\n\t\tll.add(2,&quot;B&quot;);\r\n\t\tll.add(1,&quot;C&quot;);\r\n\t\tll.add(3,&quot;D&quot;);\r\n\t\tll.add(1,&quot;Z&quot;);\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; ll.size; i++){\r\n\t\t//\tSystem.out.println(ll.isIdExist(i));\r\n\t\t\tSystem.out.println(&quot;-----------------&quot;);\r\n\t\t\tSystem.out.println(ll.getIdAt(i)+&quot; :&quot;);\r\n\t\t\tlinkedList lst = ll.getListDataById(ll.getIdAt(i));\r\n\t\t\tfor(int j = 0; j &lt; lst.size; j++){\r\n\t\t\t\tSystem.out.println(lst.getElementAt(j));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate int size;\r\n\tprivate Noeud root;\r\n\t\r\n\tpublic Noeud add(long Id, Object data){\r\n\t\tif(isIdExist(Id)){\r\n\t\t\tNoeud nd = getNoeudId(Id);\r\n\t\t\tnd.add(data);\r\n\t\t\treturn nd;\r\n\t\t}else{\r\n\t\t\tNoeud nd = new Noeud(Id, data, this.root);\r\n\t\t\tthis.root = nd;\r\n\t\t\tthis.size++;\r\n\t\t\treturn nd;\r\n\t\t}\r\n\t}\r\n\t \r\n\t public Object getDataById(long Id, int x){\r\n\t\t \tNoeud thisNode = this.root;\r\n\t    \twhile(thisNode!=null){\r\n\t    \t\tif(thisNode.getId() == Id){\r\n\t    \t\t\treturn thisNode.getLl().getElementAt(x);\r\n\t    \t\t}\r\n\t    \t\tthisNode = thisNode.getNextNoeud();\r\n\t    \t}\r\n\t    \treturn null;\r\n\t    }\r\n\t \r\n\t public long getIdAt(int x){\r\n\t\t\tif(size &gt;= x){\r\n\t\t\t\tNoeud nd = this.root;\r\n\t\t\t\tfor(int i = 0; i&lt;x; i++)try {nd = nd.getNextNoeud();} catch (Exception e) {return -1;}\r\n\t\t\t\treturn nd.getId();\r\n\t\t\t}\r\n\t\t\t\treturn -1;\r\n\t\t}\r\n\t \r\n\t public linkedList getListDataById(long Id){\r\n\t\t \tNoeud thisNode = this.root;\r\n\t    \twhile(thisNode!=null){\r\n\t    \t\tif(thisNode.getId() == Id){\r\n\t    \t\t\treturn thisNode.getLl();\r\n\t    \t\t}\r\n\t    \t\tthisNode = thisNode.getNextNoeud();\r\n\t    \t}\r\n\t    \treturn null;\r\n\t    }\r\n\t \r\n\tpublic boolean deleteById(long id){\r\n\t\tNoeud thisNode = this.root;\r\n\t\tNoeud prevNode = null;\r\n\t\t\r\n\t\twhile(thisNode != null){\r\n    \t\tif(thisNode.getId() == id){\r\n    \t\t\tprevNode.setNextNoeud(thisNode.getNextNoeud());\r\n    \t\t\tthis.setSize(this.getSize()-1);\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\tprevNode = thisNode;\r\n    \t\tthisNode = thisNode.getNextNoeud();\r\n    \t}\r\n    \treturn false;\r\n\t}\r\n\t\r\n\t public boolean isIdExist(long Id){\r\n\t\t    Noeud thisNode = this.root;\r\n\t    \twhile(thisNode!=null){\r\n\t    \t\tif(thisNode.getId()== Id){\r\n\t    \t\t\treturn true;\r\n\t    \t\t}\r\n\t    \t\tthisNode = thisNode.getNextNoeud();\r\n\t    \t}\r\n\t    \treturn false;\r\n\t    }\r\n\r\n\t public boolean isDataExist(long Id, Object data){\r\n\t\t if(isIdExist(Id)){\r\n\t\t\t Noeud thisNode = this.root;\r\n\t\t    \twhile(thisNode!=null){\r\n\t\t    \t\tif(thisNode.getId() == Id){\r\n\t\t    \t\t\tlinkedList ll = thisNode.getLl();\r\n\t\t    \t\t\tlong x = ll.hashCode();\r\n\t\t    \t\t\tlong y = data.hashCode();\r\n\t\t    \t\t\tif(x==y) return true;\r\n\t\t    \t\t}\r\n\t\t    \t\tthisNode = thisNode.getNextNoeud();\r\n\t\t    \t}\r\n\t\t }\r\n\t\t return false;\r\n\t }\r\n\t \r\n\t public Noeud getNoeudId(long Id){\r\n\t\t \tNoeud thisNode = this.root;\r\n\t    \twhile(thisNode!=null){\r\n\t    \t\tif(thisNode.getId() == Id){\r\n\t    \t\t\treturn thisNode;\r\n\t    \t\t}\r\n\t    \t\tthisNode = thisNode.getNextNoeud();\r\n\t    \t}\r\n\t    \treturn null;\r\n\t    }\r\n\t\r\n\tpublic ArbrePlaner() {\r\n\t\tthis.root = root;\r\n\t}\r\n\t\r\n\tpublic ArbrePlaner(Noeud root) {\r\n\t\tthis.root = root;\r\n\t}\r\n\r\n\tpublic ArbrePlaner(int size, Noeud root) {\r\n\t\tthis.size = size;\r\n\t\tthis.root = root;\r\n\t}\r\n\r\n\tpublic int getSize() {\r\n\t\treturn size;\r\n\t}\r\n\r\n\tpublic void setSize(int size) {\r\n\t\tthis.size = size;\r\n\t}\r\n\r\n\tpublic Noeud getRoot() {\r\n\t\treturn root;\r\n\t}\r\n\r\n\tpublic void setRoot(Noeud root) {\r\n\t\tthis.root = root;\r\n\t}\r\n\r\n\tprivate class Noeud{\r\n\t\tprivate long id;\r\n\t\tprivate Noeud nextNoeud;\r\n\t\tprivate linkedList Ll;\r\n\t\t\r\n\t\tpublic void add(Object data){\r\n\t\t\tLl.add(data);\r\n\t\t}\r\n\t\t\r\n\t\tpublic Noeud(long id, Object data ,Noeud nextNoeud){\r\n\t\t\tthis.id = id;\r\n\t\t\tthis.nextNoeud = nextNoeud;\r\n\t\t\tLl = new linkedList();\r\n\t\t\tLl.add(data);\r\n\t\t}\r\n\t\t\r\n\t\tpublic long getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\t\t\r\n\t\tpublic Noeud(Object data){\r\n\t\t\tLl.add(data);\r\n\t\t}\r\n\t\t\t\t\r\n\t\tpublic void setId(long id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\t\tpublic Noeud getNextNoeud() {\r\n\t\t\treturn nextNoeud;\r\n\t\t}\r\n\t\tpublic void setNextNoeud(Noeud nextNoeud) {\r\n\t\t\tthis.nextNoeud = nextNoeud;\r\n\t\t}\r\n\t\tpublic linkedList getLl() {\r\n\t\t\treturn Ll;\r\n\t\t}\r\n\t\tpublic void setLl(linkedList ll) {\r\n\t\t\tLl = ll;\r\n\t\t}\r\n\t}\r\n    }","title":"How to implement a tree data-structure in Java?","body":"<p>Simple example:</p>\n<pre><code>public class ArbrePlaner {\n\npublic static void main(String[] args) {\n    ArbrePlaner ll = new ArbrePlaner();\n    \n    ll.add(1,&quot;A&quot;);\n    ll.add(2,&quot;B&quot;);\n    ll.add(1,&quot;C&quot;);\n    ll.add(3,&quot;D&quot;);\n    ll.add(1,&quot;Z&quot;);\n    \n    for(int i = 0; i &lt; ll.size; i++){\n    //  System.out.println(ll.isIdExist(i));\n        System.out.println(&quot;-----------------&quot;);\n        System.out.println(ll.getIdAt(i)+&quot; :&quot;);\n        linkedList lst = ll.getListDataById(ll.getIdAt(i));\n        for(int j = 0; j &lt; lst.size; j++){\n            System.out.println(lst.getElementAt(j));\n        }\n    }\n    \n    \n    \n    \n}\n\nprivate int size;\nprivate Noeud root;\n\npublic Noeud add(long Id, Object data){\n    if(isIdExist(Id)){\n        Noeud nd = getNoeudId(Id);\n        nd.add(data);\n        return nd;\n    }else{\n        Noeud nd = new Noeud(Id, data, this.root);\n        this.root = nd;\n        this.size++;\n        return nd;\n    }\n}\n \n public Object getDataById(long Id, int x){\n        Noeud thisNode = this.root;\n        while(thisNode!=null){\n            if(thisNode.getId() == Id){\n                return thisNode.getLl().getElementAt(x);\n            }\n            thisNode = thisNode.getNextNoeud();\n        }\n        return null;\n    }\n \n public long getIdAt(int x){\n        if(size &gt;= x){\n            Noeud nd = this.root;\n            for(int i = 0; i&lt;x; i++)try {nd = nd.getNextNoeud();} catch (Exception e) {return -1;}\n            return nd.getId();\n        }\n            return -1;\n    }\n \n public linkedList getListDataById(long Id){\n        Noeud thisNode = this.root;\n        while(thisNode!=null){\n            if(thisNode.getId() == Id){\n                return thisNode.getLl();\n            }\n            thisNode = thisNode.getNextNoeud();\n        }\n        return null;\n    }\n \npublic boolean deleteById(long id){\n    Noeud thisNode = this.root;\n    Noeud prevNode = null;\n    \n    while(thisNode != null){\n        if(thisNode.getId() == id){\n            prevNode.setNextNoeud(thisNode.getNextNoeud());\n            this.setSize(this.getSize()-1);\n            return true;\n        }\n        prevNode = thisNode;\n        thisNode = thisNode.getNextNoeud();\n    }\n    return false;\n}\n\n public boolean isIdExist(long Id){\n        Noeud thisNode = this.root;\n        while(thisNode!=null){\n            if(thisNode.getId()== Id){\n                return true;\n            }\n            thisNode = thisNode.getNextNoeud();\n        }\n        return false;\n    }\n\n public boolean isDataExist(long Id, Object data){\n     if(isIdExist(Id)){\n         Noeud thisNode = this.root;\n            while(thisNode!=null){\n                if(thisNode.getId() == Id){\n                    linkedList ll = thisNode.getLl();\n                    long x = ll.hashCode();\n                    long y = data.hashCode();\n                    if(x==y) return true;\n                }\n                thisNode = thisNode.getNextNoeud();\n            }\n     }\n     return false;\n }\n \n public Noeud getNoeudId(long Id){\n        Noeud thisNode = this.root;\n        while(thisNode!=null){\n            if(thisNode.getId() == Id){\n                return thisNode;\n            }\n            thisNode = thisNode.getNextNoeud();\n        }\n        return null;\n    }\n\npublic ArbrePlaner() {\n    this.root = root;\n}\n\npublic ArbrePlaner(Noeud root) {\n    this.root = root;\n}\n\npublic ArbrePlaner(int size, Noeud root) {\n    this.size = size;\n    this.root = root;\n}\n\npublic int getSize() {\n    return size;\n}\n\npublic void setSize(int size) {\n    this.size = size;\n}\n\npublic Noeud getRoot() {\n    return root;\n}\n\npublic void setRoot(Noeud root) {\n    this.root = root;\n}\n\nprivate class Noeud{\n    private long id;\n    private Noeud nextNoeud;\n    private linkedList Ll;\n    \n    public void add(Object data){\n        Ll.add(data);\n    }\n    \n    public Noeud(long id, Object data ,Noeud nextNoeud){\n        this.id = id;\n        this.nextNoeud = nextNoeud;\n        Ll = new linkedList();\n        Ll.add(data);\n    }\n    \n    public long getId() {\n        return id;\n    }\n    \n    public Noeud(Object data){\n        Ll.add(data);\n    }\n            \n    public void setId(long id) {\n        this.id = id;\n    }\n    public Noeud getNextNoeud() {\n        return nextNoeud;\n    }\n    public void setNextNoeud(Noeud nextNoeud) {\n        this.nextNoeud = nextNoeud;\n    }\n    public linkedList getLl() {\n        return Ll;\n    }\n    public void setLl(linkedList ll) {\n        Ll = ll;\n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16581858,"reputation":11,"user_id":11982256,"display_name":"Davi S&#225;r&#225;nszky Mesquita"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668278601,"creation_date":1657646369,"answer_id":72956135,"question_id":3522454,"body_markdown":"I had a realproblem with all these aproaches.\r\n\r\nI was using the &quot;MappedTreeStructure&quot; implementation. Thats implementation reoganizes the Tree very well and does not contain Nodes &quot;replica&quot;.\r\n\r\nBut does not provides a hierarchical aproches.\r\n\r\nSee those Output with problem!\r\n\r\n```\r\nMutableTree&lt;String&gt; tree = new MappedTreeStructure&lt;&gt;();\r\n\r\n        tree.add(&quot;0&quot;, &quot;1&quot;);\r\n        tree.add(&quot;0&quot;, &quot;2&quot;);\r\n        tree.add(&quot;0&quot;, &quot;3&quot;);\r\n        tree.add(&quot;0&quot;, &quot;4&quot;);\r\n        tree.add(&quot;0&quot;, &quot;5&quot;);\r\n\r\n        tree.add(&quot;2&quot;, &quot;3&quot;);\r\n        tree.add(&quot;2&quot;, &quot;5&quot;);\r\n\r\n        tree.add(&quot;1&quot;, &quot;2&quot;);\r\n        tree.add(&quot;1&quot;, &quot;3&quot;);\r\n        tree.add(&quot;1&quot;, &quot;5&quot;);\r\n\r\n        System.out.println(\r\n                tree.toString()\r\n        );\r\n```\r\n\r\nWhich output: (wrong)\r\n\r\n```\r\n-  0\r\n  -  1\r\n    -  2\r\n    -  3\r\n    -  5\r\n  -  4\r\n```\r\n\r\nAnd this: (correct) \r\n\r\n```\r\ntree = new MappedTreeStructure&lt;&gt;();\r\n\r\n        tree.add(&quot;0&quot;, &quot;1&quot;);\r\n        tree.add(&quot;0&quot;, &quot;2&quot;);\r\n        tree.add(&quot;0&quot;, &quot;3&quot;);\r\n        tree.add(&quot;0&quot;, &quot;4&quot;);\r\n        tree.add(&quot;0&quot;, &quot;5&quot;);\r\n\r\n        tree.add(&quot;1&quot;, &quot;2&quot;);\r\n        tree.add(&quot;1&quot;, &quot;3&quot;);\r\n        tree.add(&quot;1&quot;, &quot;5&quot;);\r\n\r\n        tree.add(&quot;2&quot;, &quot;3&quot;);\r\n        tree.add(&quot;2&quot;, &quot;5&quot;);\r\n\r\n        System.out.println(\r\n                tree.toString()\r\n        );\r\n```\r\n\r\nCorrect Output:\r\n\r\n```\r\n-  0\r\n  -  1\r\n    -  2\r\n      -  3\r\n      -  5\r\n  -  4\r\n```\r\n\r\nSo! I created another implementation for apreciation. PLEASE give some advices and Feedback!\r\n\r\n```\r\npackage util;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Node&lt;N extends Comparable&lt;N&gt;&gt; {\r\n\r\n    public final Map&lt;N, Node&lt;N&gt;&gt; parents = new HashMap&lt;&gt;();\r\n    public final N value;\r\n    public final Map&lt;N, Node&lt;N&gt;&gt; children = new HashMap&lt;&gt;();\r\n\r\n    public Node(N value) {\r\n        this.value = value;\r\n    }\r\n}\r\n```\r\n```\r\npackage util;\r\n\r\nimport java.util.*;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class HierarchyTree&lt;N extends Comparable&lt;N&gt;&gt; {\r\n\r\n    protected final Map&lt;N, Node&lt;N&gt;&gt; nodeList = new HashMap&lt;&gt;();\r\n\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; Node&lt;T&gt; state(Map&lt;T, Node&lt;T&gt;&gt; nodeList, T node) {\r\n        Node&lt;T&gt; tmp = nodeList.getOrDefault(node, new Node&lt;&gt;(node));\r\n        nodeList.putIfAbsent(node, tmp);\r\n        return tmp;\r\n    }\r\n\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; Node&lt;T&gt; state(Map&lt;T, Node&lt;T&gt;&gt; nodeList, Node&lt;T&gt; node) {\r\n        Node&lt;T&gt; tmp = nodeList.getOrDefault(node.value, node);\r\n        nodeList.putIfAbsent(node.value, tmp);\r\n        return tmp;\r\n    }\r\n\r\n    public Node&lt;N&gt; state(N child) {\r\n        return state(nodeList, child);\r\n    }\r\n\r\n    public Node&lt;N&gt; stateChild(N parent, N child) {\r\n        Node&lt;N&gt; pai = state(parent);\r\n        Node&lt;N&gt; filho = state(child);\r\n        state(pai.children, filho);\r\n        state(filho.parents, pai);\r\n        return filho;\r\n    }\r\n\r\n    public List&lt;Node&lt;N&gt;&gt; addChildren(List&lt;N&gt; children) {\r\n        List&lt;Node&lt;N&gt;&gt; retorno = new LinkedList&lt;&gt;();\r\n        for (N child : children) {\r\n            retorno.add(state(child));\r\n        }\r\n        return retorno;\r\n    }\r\n\r\n    public List&lt;Node&lt;N&gt;&gt; addChildren(N parent, List&lt;N&gt; children) {\r\n        List&lt;Node&lt;N&gt;&gt; retorno = new LinkedList&lt;&gt;();\r\n        for (N child : children) {\r\n            retorno.add(stateChild(parent, child));\r\n        }\r\n        return retorno;\r\n    }\r\n\r\n    public List&lt;Node&lt;N&gt;&gt; addChildren(N parent, N... children) {\r\n        return addChildren(parent, Arrays.asList(children));\r\n    }\r\n\r\n    public List&lt;Node&lt;N&gt;&gt; getRoots() {\r\n        return nodeList.values().stream().filter(value -&gt; value.parents.size() == 0).collect(Collectors.toList());\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return deepPrint(&quot;- &quot;);\r\n    }\r\n\r\n    public String deepPrint(String prefix) {\r\n        StringBuilder builder = new StringBuilder();\r\n        deepPrint(builder, prefix, &quot;&quot;, getRoots());\r\n        return builder.toString();\r\n    }\r\n\r\n    protected void deepPrint(StringBuilder builder, String prefix, String sep, List&lt;Node&lt;N&gt;&gt; node) {\r\n        for (Node&lt;N&gt; item : node) {\r\n            builder.append(sep).append(item.value).append(&quot;\\n&quot;);\r\n            deepPrint(builder, prefix, sep + prefix, new ArrayList&lt;&gt;(item.children.values()));\r\n        }\r\n    }\r\n\r\n    public SortedMap&lt;Long, Set&lt;N&gt;&gt; tree() {\r\n        SortedMap&lt;Long, Set&lt;N&gt;&gt; tree = new TreeMap&lt;&gt;();\r\n        tree(0L, tree, getRoots());\r\n        return tree;\r\n    }\r\n\r\n    protected void tree(Long i, SortedMap&lt;Long, Set&lt;N&gt;&gt; tree, List&lt;Node&lt;N&gt;&gt; roots) {\r\n        for (Node&lt;N&gt; node : roots) {\r\n            Set&lt;N&gt; tmp = tree.getOrDefault(i, new HashSet&lt;&gt;());\r\n            tree.putIfAbsent(i, tmp);\r\n            tmp.add(node.value);\r\n            tree(i + 1L, tree, new ArrayList&lt;&gt;(node.children.values()));\r\n        }\r\n    }\r\n\r\n    public void prune() {\r\n        Set&lt;N&gt; nodes = new HashSet&lt;&gt;();\r\n        SortedMap&lt;Long, Set&lt;N&gt;&gt; tree = tree();\r\n        List&lt;Long&gt; treeInverse = tree.keySet().stream().sorted(Comparator.reverseOrder()).collect(Collectors.toList());\r\n        for (Long treeItem : treeInverse) {\r\n            for (N n : tree.get(treeItem)) {\r\n                Map&lt;N, Node&lt;N&gt;&gt; children = nodeList.get(n).children;\r\n                for (N node : nodes) {\r\n                    children.remove(node);\r\n                }\r\n                nodes.addAll(children.keySet());\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        HierarchyTree&lt;Integer&gt; tree = new HierarchyTree&lt;&gt;();\r\n        tree.addChildren(Arrays.asList(1, 2, 3, 4, 5));\r\n        tree.addChildren(1, Arrays.asList(2, 3, 5));\r\n        tree.addChildren(2, Arrays.asList(3, 5));\r\n        tree.prune();\r\n        System.out.println(tree);\r\n\r\n        tree = new HierarchyTree&lt;&gt;();\r\n        tree.addChildren(Arrays.asList(1, 2, 3, 4, 5));\r\n        tree.addChildren(2, Arrays.asList(3, 5));\r\n        tree.addChildren(1, Arrays.asList(2, 3, 5));\r\n        tree.prune();\r\n        System.out.println(tree);\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhich output always correct:\r\n\r\n```\r\n1\r\n- 2\r\n- - 3\r\n- - 5\r\n4\r\n\r\n1\r\n- 2\r\n- - 3\r\n- - 5\r\n4\r\n\r\n```","title":"How to implement a tree data-structure in Java?","body":"<p>I had a realproblem with all these aproaches.</p>\n<p>I was using the &quot;MappedTreeStructure&quot; implementation. Thats implementation reoganizes the Tree very well and does not contain Nodes &quot;replica&quot;.</p>\n<p>But does not provides a hierarchical aproches.</p>\n<p>See those Output with problem!</p>\n<pre><code>MutableTree&lt;String&gt; tree = new MappedTreeStructure&lt;&gt;();\n\n        tree.add(&quot;0&quot;, &quot;1&quot;);\n        tree.add(&quot;0&quot;, &quot;2&quot;);\n        tree.add(&quot;0&quot;, &quot;3&quot;);\n        tree.add(&quot;0&quot;, &quot;4&quot;);\n        tree.add(&quot;0&quot;, &quot;5&quot;);\n\n        tree.add(&quot;2&quot;, &quot;3&quot;);\n        tree.add(&quot;2&quot;, &quot;5&quot;);\n\n        tree.add(&quot;1&quot;, &quot;2&quot;);\n        tree.add(&quot;1&quot;, &quot;3&quot;);\n        tree.add(&quot;1&quot;, &quot;5&quot;);\n\n        System.out.println(\n                tree.toString()\n        );\n</code></pre>\n<p>Which output: (wrong)</p>\n<pre><code>-  0\n  -  1\n    -  2\n    -  3\n    -  5\n  -  4\n</code></pre>\n<p>And this: (correct)</p>\n<pre><code>tree = new MappedTreeStructure&lt;&gt;();\n\n        tree.add(&quot;0&quot;, &quot;1&quot;);\n        tree.add(&quot;0&quot;, &quot;2&quot;);\n        tree.add(&quot;0&quot;, &quot;3&quot;);\n        tree.add(&quot;0&quot;, &quot;4&quot;);\n        tree.add(&quot;0&quot;, &quot;5&quot;);\n\n        tree.add(&quot;1&quot;, &quot;2&quot;);\n        tree.add(&quot;1&quot;, &quot;3&quot;);\n        tree.add(&quot;1&quot;, &quot;5&quot;);\n\n        tree.add(&quot;2&quot;, &quot;3&quot;);\n        tree.add(&quot;2&quot;, &quot;5&quot;);\n\n        System.out.println(\n                tree.toString()\n        );\n</code></pre>\n<p>Correct Output:</p>\n<pre><code>-  0\n  -  1\n    -  2\n      -  3\n      -  5\n  -  4\n</code></pre>\n<p>So! I created another implementation for apreciation. PLEASE give some advices and Feedback!</p>\n<pre><code>package util;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Node&lt;N extends Comparable&lt;N&gt;&gt; {\n\n    public final Map&lt;N, Node&lt;N&gt;&gt; parents = new HashMap&lt;&gt;();\n    public final N value;\n    public final Map&lt;N, Node&lt;N&gt;&gt; children = new HashMap&lt;&gt;();\n\n    public Node(N value) {\n        this.value = value;\n    }\n}\n</code></pre>\n<pre><code>package util;\n\nimport java.util.*;\nimport java.util.stream.Collectors;\n\npublic class HierarchyTree&lt;N extends Comparable&lt;N&gt;&gt; {\n\n    protected final Map&lt;N, Node&lt;N&gt;&gt; nodeList = new HashMap&lt;&gt;();\n\n    public static &lt;T extends Comparable&lt;T&gt;&gt; Node&lt;T&gt; state(Map&lt;T, Node&lt;T&gt;&gt; nodeList, T node) {\n        Node&lt;T&gt; tmp = nodeList.getOrDefault(node, new Node&lt;&gt;(node));\n        nodeList.putIfAbsent(node, tmp);\n        return tmp;\n    }\n\n    public static &lt;T extends Comparable&lt;T&gt;&gt; Node&lt;T&gt; state(Map&lt;T, Node&lt;T&gt;&gt; nodeList, Node&lt;T&gt; node) {\n        Node&lt;T&gt; tmp = nodeList.getOrDefault(node.value, node);\n        nodeList.putIfAbsent(node.value, tmp);\n        return tmp;\n    }\n\n    public Node&lt;N&gt; state(N child) {\n        return state(nodeList, child);\n    }\n\n    public Node&lt;N&gt; stateChild(N parent, N child) {\n        Node&lt;N&gt; pai = state(parent);\n        Node&lt;N&gt; filho = state(child);\n        state(pai.children, filho);\n        state(filho.parents, pai);\n        return filho;\n    }\n\n    public List&lt;Node&lt;N&gt;&gt; addChildren(List&lt;N&gt; children) {\n        List&lt;Node&lt;N&gt;&gt; retorno = new LinkedList&lt;&gt;();\n        for (N child : children) {\n            retorno.add(state(child));\n        }\n        return retorno;\n    }\n\n    public List&lt;Node&lt;N&gt;&gt; addChildren(N parent, List&lt;N&gt; children) {\n        List&lt;Node&lt;N&gt;&gt; retorno = new LinkedList&lt;&gt;();\n        for (N child : children) {\n            retorno.add(stateChild(parent, child));\n        }\n        return retorno;\n    }\n\n    public List&lt;Node&lt;N&gt;&gt; addChildren(N parent, N... children) {\n        return addChildren(parent, Arrays.asList(children));\n    }\n\n    public List&lt;Node&lt;N&gt;&gt; getRoots() {\n        return nodeList.values().stream().filter(value -&gt; value.parents.size() == 0).collect(Collectors.toList());\n    }\n\n    @Override\n    public String toString() {\n        return deepPrint(&quot;- &quot;);\n    }\n\n    public String deepPrint(String prefix) {\n        StringBuilder builder = new StringBuilder();\n        deepPrint(builder, prefix, &quot;&quot;, getRoots());\n        return builder.toString();\n    }\n\n    protected void deepPrint(StringBuilder builder, String prefix, String sep, List&lt;Node&lt;N&gt;&gt; node) {\n        for (Node&lt;N&gt; item : node) {\n            builder.append(sep).append(item.value).append(&quot;\\n&quot;);\n            deepPrint(builder, prefix, sep + prefix, new ArrayList&lt;&gt;(item.children.values()));\n        }\n    }\n\n    public SortedMap&lt;Long, Set&lt;N&gt;&gt; tree() {\n        SortedMap&lt;Long, Set&lt;N&gt;&gt; tree = new TreeMap&lt;&gt;();\n        tree(0L, tree, getRoots());\n        return tree;\n    }\n\n    protected void tree(Long i, SortedMap&lt;Long, Set&lt;N&gt;&gt; tree, List&lt;Node&lt;N&gt;&gt; roots) {\n        for (Node&lt;N&gt; node : roots) {\n            Set&lt;N&gt; tmp = tree.getOrDefault(i, new HashSet&lt;&gt;());\n            tree.putIfAbsent(i, tmp);\n            tmp.add(node.value);\n            tree(i + 1L, tree, new ArrayList&lt;&gt;(node.children.values()));\n        }\n    }\n\n    public void prune() {\n        Set&lt;N&gt; nodes = new HashSet&lt;&gt;();\n        SortedMap&lt;Long, Set&lt;N&gt;&gt; tree = tree();\n        List&lt;Long&gt; treeInverse = tree.keySet().stream().sorted(Comparator.reverseOrder()).collect(Collectors.toList());\n        for (Long treeItem : treeInverse) {\n            for (N n : tree.get(treeItem)) {\n                Map&lt;N, Node&lt;N&gt;&gt; children = nodeList.get(n).children;\n                for (N node : nodes) {\n                    children.remove(node);\n                }\n                nodes.addAll(children.keySet());\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        HierarchyTree&lt;Integer&gt; tree = new HierarchyTree&lt;&gt;();\n        tree.addChildren(Arrays.asList(1, 2, 3, 4, 5));\n        tree.addChildren(1, Arrays.asList(2, 3, 5));\n        tree.addChildren(2, Arrays.asList(3, 5));\n        tree.prune();\n        System.out.println(tree);\n\n        tree = new HierarchyTree&lt;&gt;();\n        tree.addChildren(Arrays.asList(1, 2, 3, 4, 5));\n        tree.addChildren(2, Arrays.asList(3, 5));\n        tree.addChildren(1, Arrays.asList(2, 3, 5));\n        tree.prune();\n        System.out.println(tree);\n    }\n}\n\n</code></pre>\n<p>Which output always correct:</p>\n<pre><code>1\n- 2\n- - 3\n- - 5\n4\n\n1\n- 2\n- - 3\n- - 5\n4\n\n</code></pre>\n"}],"owner":{"account_id":643019,"reputation":5519,"user_id":425307,"display_name":"ikl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":828628,"favorite_count":0,"down_vote_count":1,"up_vote_count":551,"answer_count":27,"score":550,"last_activity_date":1668278601,"creation_date":1282225993,"question_id":3522454,"body_markdown":"Is there any standard Java library class to represent a tree in Java?\r\n\r\nSpecifically I need to represent the following:\r\n\r\n - The sub-tree at any node can have an arbitrary number of children\r\n - Each node (after the root) and it&#39;s children will have string value \r\n - I need to get all the children (some sort of list or array of Strings) of a given node and it&#39;s string value(i.e. a method that will take a node as input and return all the string values of the children node as output)\r\n\r\nIs there any available structure for this or do I need to create my own (if so implementation suggestions would be great).","title":"How to implement a tree data-structure in Java?","body":"<p>Is there any standard Java library class to represent a tree in Java?</p>\n\n<p>Specifically I need to represent the following:</p>\n\n<ul>\n<li>The sub-tree at any node can have an arbitrary number of children</li>\n<li>Each node (after the root) and it's children will have string value </li>\n<li>I need to get all the children (some sort of list or array of Strings) of a given node and it's string value(i.e. a method that will take a node as input and return all the string values of the children node as output)</li>\n</ul>\n\n<p>Is there any available structure for this or do I need to create my own (if so implementation suggestions would be great).</p>\n"},{"tags":["java","kubernetes","kubernetes-pod"],"answers":[{"comments":[{"owner":{"account_id":11546447,"reputation":351,"user_id":8460313,"display_name":"Ravi Teja Muddada"},"score":0,"creation_date":1668400310,"post_id":74415547,"comment_id":131387658,"body_markdown":"Even though your explanation is correct, My issue is specifically with fabric8 client.","body":"Even though your explanation is correct, My issue is specifically with fabric8 client."},{"owner":{"account_id":11546447,"reputation":351,"user_id":8460313,"display_name":"Ravi Teja Muddada"},"score":0,"creation_date":1668400406,"post_id":74415547,"comment_id":131387670,"body_markdown":"I&#39;m using pod.status.containerStatuses.stream().allMathch(ContainerStatus::getReady) .. It still returns the pod even when all of containers are not ready","body":"I&#39;m using pod.status.containerStatuses.stream().allMathch(ContainerSta&zwnj;&#8203;tus::getReady) .. It still returns the pod even when all of containers are not ready"}],"tags":[],"owner":{"account_id":17158114,"reputation":369,"user_id":12418459,"display_name":"JasonY"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668278025,"creation_date":1668278025,"answer_id":74415547,"question_id":74415179,"body_markdown":"`Running` is a Pod *status* state that is defined as:\r\n\r\n&gt; &quot;The Pod has been bound to a node, and all of the containers have been created. At least one container is still running, or is in the process of starting or restarting.&quot;\r\n\r\nJust one of the Pod&#39;s containers needs to be booting up or running to sufficiently mark the whole Pod as `Running`. Possible states are `Pending, Running, Succeeded, Failed, Unknown`. Think of these as the highest-level description of the Pod state. Each of these states has a Pod *condition* array amongst other metadata that provide more details about the containers inside.\r\n\r\n`Ready` is a Pod *condition* which is a sub-state of a Pod `status` (`status.condition`). In simplest terms, when a Pod is marked as `Ready`, it&#39;s fully booted up and able to accept *traffic*. Sometimes this does depend on how your Pod spec is set up; for example, if your Pod has a `readinessProbe`, it reaches `Ready` only if the `readinessProbe` succeeds. \r\n\r\nExample: `kubectl get po`\r\n```\r\nNAME                        READY   STATUS    RESTARTS   AGE\r\nnani-play-8b6b89455-9g674   1/1     Running   0          13s\r\n```\r\nIf I explore deeper into the pod via `kubectl describe po nani-play-8b6b89455-9g674`, amongst the other information is\r\n```\r\nConditions:\r\n  Type              Status\r\n  Initialized       True \r\n  Ready             True     &lt;---- &#128064;\r\n  ContainersReady   True \r\n  PodScheduled      True \r\n```","title":"io.fabric.k8s client : pod phase is showing as &quot;Running&quot; even when some of the containers are not in READY state","body":"<p><code>Running</code> is a Pod <em>status</em> state that is defined as:</p>\n<blockquote>\n<p>&quot;The Pod has been bound to a node, and all of the containers have been created. At least one container is still running, or is in the process of starting or restarting.&quot;</p>\n</blockquote>\n<p>Just one of the Pod's containers needs to be booting up or running to sufficiently mark the whole Pod as <code>Running</code>. Possible states are <code>Pending, Running, Succeeded, Failed, Unknown</code>. Think of these as the highest-level description of the Pod state. Each of these states has a Pod <em>condition</em> array amongst other metadata that provide more details about the containers inside.</p>\n<p><code>Ready</code> is a Pod <em>condition</em> which is a sub-state of a Pod <code>status</code> (<code>status.condition</code>). In simplest terms, when a Pod is marked as <code>Ready</code>, it's fully booted up and able to accept <em>traffic</em>. Sometimes this does depend on how your Pod spec is set up; for example, if your Pod has a <code>readinessProbe</code>, it reaches <code>Ready</code> only if the <code>readinessProbe</code> succeeds.</p>\n<p>Example: <code>kubectl get po</code></p>\n<pre><code>NAME                        READY   STATUS    RESTARTS   AGE\nnani-play-8b6b89455-9g674   1/1     Running   0          13s\n</code></pre>\n<p>If I explore deeper into the pod via <code>kubectl describe po nani-play-8b6b89455-9g674</code>, amongst the other information is</p>\n<pre><code>Conditions:\n  Type              Status\n  Initialized       True \n  Ready             True     &lt;---- 👀\n  ContainersReady   True \n  PodScheduled      True \n</code></pre>\n"}],"owner":{"account_id":11546447,"reputation":351,"user_id":8460313,"display_name":"Ravi Teja Muddada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74415547,"answer_count":1,"score":0,"last_activity_date":1668278025,"creation_date":1668274925,"question_id":74415179,"body_markdown":"I&#39;m using Java Fabric k8s client to get List of the PODs where phase is equal to  &quot;Running&quot;.\r\nI have 2 containers in the POD. What I noticed is getPods() method is returning POD as Running even one of the 2 containers is still not in READY state. \r\n\r\nWhy is this happening when all the containers in the pod are not in READY state? ","title":"io.fabric.k8s client : pod phase is showing as &quot;Running&quot; even when some of the containers are not in READY state","body":"<p>I'm using Java Fabric k8s client to get List of the PODs where phase is equal to  &quot;Running&quot;.\nI have 2 containers in the POD. What I noticed is getPods() method is returning POD as Running even one of the 2 containers is still not in READY state.</p>\n<p>Why is this happening when all the containers in the pod are not in READY state?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2379,"reputation":49909,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"score":2,"creation_date":1667764063,"post_id":74338942,"comment_id":131239559,"body_markdown":"Is using a regex a must?","body":"Is using a regex a must?"},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1667772026,"post_id":74338942,"comment_id":131241124,"body_markdown":"You can [capture](https://www.regular-expressions.info/brackets.html) each of the letters and check if [the same character](https://www.regular-expressions.info/backref.html) is not ahead by use of a lookahead: [`^(?:([a-zA-Z])(?!.*?\\1)){8}$`](https://regex101.com/r/xKA84M/2)","body":"You can <a href=\"https://www.regular-expressions.info/brackets.html\" rel=\"nofollow noreferrer\">capture</a> each of the letters and check if <a href=\"https://www.regular-expressions.info/backref.html\" rel=\"nofollow noreferrer\">the same character</a> is not ahead by use of a lookahead: <a href=\"https://regex101.com/r/xKA84M/2\" rel=\"nofollow noreferrer\"><code>^(?:([a-zA-Z])(?!.*?\\1)){8}$</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667762616,"creation_date":1667762616,"answer_id":74339029,"question_id":74338942,"body_markdown":"Well, this one matches strings containing duplicates. This is basically the **reverse** of what you are looking for.\r\n\r\n    .*(.)+.*\\1.*\r\n\r\nIf it&#39;s suitable, you can pick string that *do not match* this expression. Or maybe check [regex negative match][1] to improve it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/406230/regular-expression-to-match-a-line-that-doesnt-contain-a-word","title":"Regex: match only chars which aren&#39;t the same in a string","body":"<p>Well, this one matches strings containing duplicates. This is basically the <strong>reverse</strong> of what you are looking for.</p>\n<pre><code>.*(.)+.*\\1.*\n</code></pre>\n<p>If it's suitable, you can pick string that <em>do not match</em> this expression. Or maybe check <a href=\"https://stackoverflow.com/questions/406230/regular-expression-to-match-a-line-that-doesnt-contain-a-word\">regex negative match</a> to improve it.</p>\n"},{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667772678,"post_id":74339434,"comment_id":131241256,"body_markdown":"But where did the case thing come from? That wasn&#39;t mentioned in the spec","body":"But where did the case thing come from? That wasn&#39;t mentioned in the spec"},{"owner":{"account_id":2379,"reputation":49909,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"score":0,"creation_date":1667814352,"post_id":74339434,"comment_id":131248872,"body_markdown":"Oops. You are correct. It should be upper and lower :)","body":"Oops. You are correct. It should be upper and lower :)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667815945,"post_id":74339434,"comment_id":131249489,"body_markdown":"Actually the spec doesn&#39;t mention letters either, only characters.","body":"Actually the spec doesn&#39;t mention letters either, only characters."},{"owner":{"account_id":2379,"reputation":49909,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"score":0,"creation_date":1667819699,"post_id":74339434,"comment_id":131250718,"body_markdown":"Ah - but the example given was &quot;^[a-zA-Z]{8}$&quot; :)","body":"Ah - but the example given was &quot;^[a-zA-Z]{8}$&quot; :)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667819789,"post_id":74339434,"comment_id":131250746,"body_markdown":"True. That probably needs clarification","body":"True. That probably needs clarification"}],"tags":[],"owner":{"account_id":2379,"reputation":49909,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668277738,"creation_date":1667765860,"answer_id":74339434,"question_id":74338942,"body_markdown":"I have a very ugly way to do this using regex.\r\n\r\nIt uses named capture groups `(?&lt;name&gt;)`, back references `\\k&lt;name&gt;`, and negative lookahead assertions `(?!)`.\r\n\r\n    @Test\r\n    public void testForNonRepeatedCharactersUsingRegex() {\r\n        Pattern p = Pattern.compile(&quot;^(?&lt;c1&gt;[a-zA-Z])(?!.*\\\\k&lt;c1&gt;)&quot; +\r\n                &quot;(?&lt;c3&gt;[a-zA-Z])(?!.*\\\\k&lt;c3&gt;)&quot; +\r\n                &quot;(?&lt;c2&gt;[a-zA-Z])(?!.*\\\\k&lt;c2&gt;)&quot; +\r\n                &quot;(?&lt;c4&gt;[a-zA-Z])(?!.*\\\\k&lt;c4&gt;)&quot; +\r\n                &quot;(?&lt;c5&gt;[a-zA-Z])(?!.*\\\\k&lt;c5&gt;)&quot; +\r\n                &quot;(?&lt;c6&gt;[a-zA-Z])(?!.*\\\\k&lt;c6&gt;)&quot; +\r\n                &quot;(?&lt;c7&gt;[a-zA-Z])(?!.*\\\\k&lt;c7&gt;)&quot; +\r\n                &quot;.$&quot;);\r\n        Assertions.assertTrue(p.matcher(&quot;abcdefgh&quot;).matches());\r\n        Assertions.assertTrue(p.matcher(&quot;ABCDEFGH&quot;).matches());\r\n        Assertions.assertFalse(p.matcher(&quot;12345678&quot;).matches());\r\n        Assertions.assertFalse(p.matcher(&quot;abefgh&quot;).matches());\r\n        Assertions.assertFalse(p.matcher(&quot;&quot;).matches());\r\n        Assertions.assertFalse(p.matcher(&quot;abcdefga&quot;).matches());\r\n        Assertions.assertFalse(p.matcher(&quot;aaaabbbb&quot;).matches());\r\n    }\r\n\r\nIf you are able to not use regex, then a much cleaner, more legible solution is:\r\n\r\n    @Test\r\n    public void testForNonRepeatedCharactersUsingStreams() {\r\n        Assertions.assertTrue(uniqueCharacterSequence(&quot;abcdefgh&quot;, 8));\r\n        Assertions.assertTrue(uniqueCharacterSequence(&quot;ABCDEFGH&quot;, 8));\r\n        Assertions.assertFalse(uniqueCharacterSequence(&quot;12345678&quot;, 8));\r\n        Assertions.assertFalse(uniqueCharacterSequence(&quot;abefgh&quot;, 8));\r\n        Assertions.assertFalse(uniqueCharacterSequence(&quot;&quot;, 8));\r\n        Assertions.assertFalse(uniqueCharacterSequence(&quot;abcdefga&quot;, 8));\r\n        Assertions.assertFalse(uniqueCharacterSequence(&quot;aaaabbbb&quot;, 8));\r\n    }\r\n\r\n    private static boolean uniqueCharacterSequence(String s, int length) {\r\n        return  s.length() == length &amp;&amp;\r\n                s.codePoints().allMatch(Character::isLetter) &amp;&amp;\r\n                s.codePoints().distinct().count() == length;\r\n    }","title":"Regex: match only chars which aren&#39;t the same in a string","body":"<p>I have a very ugly way to do this using regex.</p>\n<p>It uses named capture groups <code>(?&lt;name&gt;)</code>, back references <code>\\k&lt;name&gt;</code>, and negative lookahead assertions <code>(?!)</code>.</p>\n<pre><code>@Test\npublic void testForNonRepeatedCharactersUsingRegex() {\n    Pattern p = Pattern.compile(&quot;^(?&lt;c1&gt;[a-zA-Z])(?!.*\\\\k&lt;c1&gt;)&quot; +\n            &quot;(?&lt;c3&gt;[a-zA-Z])(?!.*\\\\k&lt;c3&gt;)&quot; +\n            &quot;(?&lt;c2&gt;[a-zA-Z])(?!.*\\\\k&lt;c2&gt;)&quot; +\n            &quot;(?&lt;c4&gt;[a-zA-Z])(?!.*\\\\k&lt;c4&gt;)&quot; +\n            &quot;(?&lt;c5&gt;[a-zA-Z])(?!.*\\\\k&lt;c5&gt;)&quot; +\n            &quot;(?&lt;c6&gt;[a-zA-Z])(?!.*\\\\k&lt;c6&gt;)&quot; +\n            &quot;(?&lt;c7&gt;[a-zA-Z])(?!.*\\\\k&lt;c7&gt;)&quot; +\n            &quot;.$&quot;);\n    Assertions.assertTrue(p.matcher(&quot;abcdefgh&quot;).matches());\n    Assertions.assertTrue(p.matcher(&quot;ABCDEFGH&quot;).matches());\n    Assertions.assertFalse(p.matcher(&quot;12345678&quot;).matches());\n    Assertions.assertFalse(p.matcher(&quot;abefgh&quot;).matches());\n    Assertions.assertFalse(p.matcher(&quot;&quot;).matches());\n    Assertions.assertFalse(p.matcher(&quot;abcdefga&quot;).matches());\n    Assertions.assertFalse(p.matcher(&quot;aaaabbbb&quot;).matches());\n}\n</code></pre>\n<p>If you are able to not use regex, then a much cleaner, more legible solution is:</p>\n<pre><code>@Test\npublic void testForNonRepeatedCharactersUsingStreams() {\n    Assertions.assertTrue(uniqueCharacterSequence(&quot;abcdefgh&quot;, 8));\n    Assertions.assertTrue(uniqueCharacterSequence(&quot;ABCDEFGH&quot;, 8));\n    Assertions.assertFalse(uniqueCharacterSequence(&quot;12345678&quot;, 8));\n    Assertions.assertFalse(uniqueCharacterSequence(&quot;abefgh&quot;, 8));\n    Assertions.assertFalse(uniqueCharacterSequence(&quot;&quot;, 8));\n    Assertions.assertFalse(uniqueCharacterSequence(&quot;abcdefga&quot;, 8));\n    Assertions.assertFalse(uniqueCharacterSequence(&quot;aaaabbbb&quot;, 8));\n}\n\nprivate static boolean uniqueCharacterSequence(String s, int length) {\n    return  s.length() == length &amp;&amp;\n            s.codePoints().allMatch(Character::isLetter) &amp;&amp;\n            s.codePoints().distinct().count() == length;\n}\n</code></pre>\n"}],"owner":{"account_id":19934550,"reputation":23,"user_id":14607533,"display_name":"Philipp.kby"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74339029,"answer_count":2,"score":2,"last_activity_date":1668277738,"creation_date":1667761829,"question_id":74338942,"body_markdown":"Got a question regarding regex matching in Java.\r\nGiven is a string with a defined length.\r\nNow I want to check with a matcher if every char contained in that String is different.\r\n\r\nFor example (only pass of length = 8):\r\n```\r\nString a = &quot;abcdefgz&quot; -&gt; pass\r\nString b = &quot;aacdefgz&quot; -&gt; fail\r\nString c = &quot;abcdefghz&quot; -&gt; fail\r\n\r\n```\r\nSo matching the length would simply be:\r\n\r\n```\r\n&quot;^[a-zA-Z]{8}$&quot;\r\n```\r\n\r\nBut to get it working in combination with the condition that every contained char needs to be unique is quite tough.\r\n","title":"Regex: match only chars which aren&#39;t the same in a string","body":"<p>Got a question regarding regex matching in Java.\nGiven is a string with a defined length.\nNow I want to check with a matcher if every char contained in that String is different.</p>\n<p>For example (only pass of length = 8):</p>\n<pre><code>String a = &quot;abcdefgz&quot; -&gt; pass\nString b = &quot;aacdefgz&quot; -&gt; fail\nString c = &quot;abcdefghz&quot; -&gt; fail\n\n</code></pre>\n<p>So matching the length would simply be:</p>\n<pre><code>&quot;^[a-zA-Z]{8}$&quot;\n</code></pre>\n<p>But to get it working in combination with the condition that every contained char needs to be unique is quite tough.</p>\n"},{"tags":["java","spring-boot","stateless","stateful"],"comments":[{"owner":{"account_id":16373826,"reputation":157,"user_id":11826481,"display_name":"Utkarsh"},"score":0,"creation_date":1668244554,"post_id":74411648,"comment_id":131362028,"body_markdown":"For option 1 the object will be deconstructed(erased) once it becomes out of scope. Whereas using option 2 would be more efficient on memory because the reference of the domain object will be passed to all the methods.","body":"For option 1 the object will be deconstructed(erased) once it becomes out of scope. Whereas using option 2 would be more efficient on memory because the reference of the domain object will be passed to all the methods."},{"owner":{"account_id":19796354,"reputation":1,"user_id":14498255,"display_name":"ofa"},"score":0,"creation_date":1668267430,"post_id":74411648,"comment_id":131366204,"body_markdown":"How do you define `efficiency` here?","body":"How do you define <code>efficiency</code> here?"},{"owner":{"account_id":19796354,"reputation":1,"user_id":14498255,"display_name":"ofa"},"score":0,"creation_date":1668279958,"post_id":74411648,"comment_id":131368705,"body_markdown":"@Utkarsh can you clarify that point?","body":"@Utkarsh can you clarify that point?"},{"owner":{"account_id":16373826,"reputation":157,"user_id":11826481,"display_name":"Utkarsh"},"score":0,"creation_date":1668414593,"post_id":74411648,"comment_id":131390496,"body_markdown":"As you mentioned, when we are using bean it will create the object once in the container, and when you are passing the domain object it will pass as reference to each method.","body":"As you mentioned, when we are using bean it will create the object once in the container, and when you are passing the domain object it will pass as reference to each method."}],"owner":{"account_id":19796354,"reputation":1,"user_id":14498255,"display_name":"ofa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668277199,"creation_date":1668243908,"question_id":74411648,"body_markdown":"I got stuck in a situation where I have two options to implement a part of a project.\r\n\r\nI have a handler interface which internally contains a couple of methods to handle the incoming requests. The interface has been implemented by multiple concrete classes.\r\n\r\n**Option 1**\r\n\r\nI have a domain object that I can pass it to constructor by defining the related handler object with new keyword. So, it would be a stateful class, where I can not get benefit from having bean. In other words, I can not annotate the class with bean annotations such @component or @service.\r\n\r\n**Option 2**\r\n\r\nI can define handler classes as spring bean. But, in this case I will have to pass the domain object to each method (stateless) that is defined in the interface. It is a bit weird.\r\n\r\nCan you tell me what is the disadvantage of option 1 in terms of memory? You know for each request I will need to create a new object in option 1, whereas I will use the bean which will be handled by spring ioc in the option 2.\r\n\r\nThe both solution works as I implemented and tried. But, I want to know pros/cons.","title":"Using stateful vs stateless handler classes in Spring Boot","body":"<p>I got stuck in a situation where I have two options to implement a part of a project.</p>\n<p>I have a handler interface which internally contains a couple of methods to handle the incoming requests. The interface has been implemented by multiple concrete classes.</p>\n<p><strong>Option 1</strong></p>\n<p>I have a domain object that I can pass it to constructor by defining the related handler object with new keyword. So, it would be a stateful class, where I can not get benefit from having bean. In other words, I can not annotate the class with bean annotations such @component or @service.</p>\n<p><strong>Option 2</strong></p>\n<p>I can define handler classes as spring bean. But, in this case I will have to pass the domain object to each method (stateless) that is defined in the interface. It is a bit weird.</p>\n<p>Can you tell me what is the disadvantage of option 1 in terms of memory? You know for each request I will need to create a new object in option 1, whereas I will use the bean which will be handled by spring ioc in the option 2.</p>\n<p>The both solution works as I implemented and tried. But, I want to know pros/cons.</p>\n"},{"tags":["java","slf4j","java.util.logging"],"owner":{"account_id":20876886,"reputation":31,"user_id":15335478,"display_name":"Sweta Dhanuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1668277038,"creation_date":1668245183,"question_id":74411765,"body_markdown":"In my project we had been using java.util.logging for the logs and now we want to apply markers and filter those markers according to our need. So is there any way to use markers using just java.util and slf4j framework.\r\nBecause we can&#39;t change the existing things or it will increase the work significantly.","title":"Log filtering using markers in java","body":"<p>In my project we had been using java.util.logging for the logs and now we want to apply markers and filter those markers according to our need. So is there any way to use markers using just java.util and slf4j framework.\nBecause we can't change the existing things or it will increase the work significantly.</p>\n"},{"tags":["java","spring","date","format"],"answers":[{"tags":[],"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1497343620,"creation_date":1497343620,"answer_id":44516527,"question_id":44516370,"body_markdown":"You might use @JsonFormat, look the chapter 3.2 http://www.baeldung.com/jackson-jsonformat \r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd@HH:mm:ss.SSSZ&quot;) \r\n    private Date created;","title":"@Temporal to format date in Spring Boot","body":"<p>You might use @JsonFormat, look the chapter 3.2 <a href=\"http://www.baeldung.com/jackson-jsonformat\" rel=\"nofollow noreferrer\">http://www.baeldung.com/jackson-jsonformat</a> </p>\n\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = \"yyyy-MM-dd@HH:mm:ss.SSSZ\") \nprivate Date created;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23486565,"reputation":1,"user_id":17538036,"display_name":"Abdullahi Adedayo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668276948,"creation_date":1668276948,"answer_id":74415419,"question_id":44516370,"body_markdown":"I used this. \r\nYou can edit it to soothwhat you want to achieve\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date createdAt;\r\n    @PrePersist\r\n    protected void prePersist() {\r\n        if (this.createdAt == null) createdAt = new Date();\r\n    }\r\n    ","title":"@Temporal to format date in Spring Boot","body":"<p>I used this.\nYou can edit it to soothwhat you want to achieve</p>\n<pre><code>@Temporal(TemporalType.TIMESTAMP)\nprivate Date createdAt;\n@PrePersist\nprotected void prePersist() {\n    if (this.createdAt == null) createdAt = new Date();\n}\n</code></pre>\n"}],"owner":{"account_id":2898573,"reputation":1829,"user_id":2485825,"accept_rate":61,"display_name":"georgiana_e"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7833,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668276948,"creation_date":1497343252,"question_id":44516370,"body_markdown":"I have a date parameter in DB model and I want to retrive the date in this format &quot;dd/MM/yyyy&quot;. I have annotation on getter like below:\r\n\r\n\t@CreationTimestamp\r\n    @Temporal(TemporalType.DATE)\r\n    @DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\r\n\tpublic Date getCreated() {\r\n        return created;\r\n    }\r\n    \r\n\tpublic void setCreated(Date created) {\r\n        this.created = created;\r\n    }\r\n\r\nHowever, I receive date in format yyyy-MM-dd. It seems that the @Temporal annotations formats to &#39;yyyy-MM-dd&#39; but the DateTimeFormat has no effect.\r\n\r\nrest response:\r\n\r\n    {\r\n       &quot;id&quot;:&quot;token1497340427913&quot;,\r\n       &quot;status&quot;:&quot;finished&quot;,\r\n       &quot;startDate&quot;:null,\r\n       &quot;endDate&quot;:null,\r\n       &quot;created&quot;:&quot;2017-06-13&quot;,\r\n       &quot;modified&quot;:&quot;2017-06-13&quot;\r\n    }","title":"@Temporal to format date in Spring Boot","body":"<p>I have a date parameter in DB model and I want to retrive the date in this format &quot;dd/MM/yyyy&quot;. I have annotation on getter like below:</p>\n<pre><code>@CreationTimestamp\n@Temporal(TemporalType.DATE)\n@DateTimeFormat(pattern = &quot;dd/MM/yyyy&quot;)\npublic Date getCreated() {\n    return created;\n}\n\npublic void setCreated(Date created) {\n    this.created = created;\n}\n</code></pre>\n<p>However, I receive date in format yyyy-MM-dd. It seems that the @Temporal annotations formats to 'yyyy-MM-dd' but the DateTimeFormat has no effect.</p>\n<p>rest response:</p>\n<pre><code>{\n   &quot;id&quot;:&quot;token1497340427913&quot;,\n   &quot;status&quot;:&quot;finished&quot;,\n   &quot;startDate&quot;:null,\n   &quot;endDate&quot;:null,\n   &quot;created&quot;:&quot;2017-06-13&quot;,\n   &quot;modified&quot;:&quot;2017-06-13&quot;\n}\n</code></pre>\n"},{"tags":["java","random","timer"],"answers":[{"comments":[{"owner":{"account_id":9400,"reputation":54564,"user_id":17343,"accept_rate":81,"display_name":"Peter Lang"},"score":0,"creation_date":1265454717,"post_id":2212850,"comment_id":2165124,"body_markdown":"@Aravindkumar: Please edit your own question and put the code there.","body":"@Aravindkumar: Please edit your own question and put the code there."},{"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"score":0,"creation_date":1265455640,"post_id":2212850,"comment_id":2165173,"body_markdown":"Thats busy waiting, dont do that.","body":"Thats busy waiting, dont do that."},{"owner":{"account_id":12007,"reputation":17671,"user_id":23424,"accept_rate":92,"display_name":"VoidPointer"},"score":2,"creation_date":1265459388,"post_id":2212850,"comment_id":2165356,"body_markdown":"No, it&#39;s not necessarily busy waiting. Busy waiting occurs when you repeatedly check for a predicate without knowing whether it will hold or not. In this case, the predicate is determined by the wait-time and you know the predicate holds once you waited for two minutes. Thus this doesn&#39;t qualify as busy waiting/spinning in my opinion.","body":"No, it&#39;s not necessarily busy waiting. Busy waiting occurs when you repeatedly check for a predicate without knowing whether it will hold or not. In this case, the predicate is determined by the wait-time and you know the predicate holds once you waited for two minutes. Thus this doesn&#39;t qualify as busy waiting/spinning in my opinion."}],"tags":[],"owner":{"account_id":8291,"reputation":860527,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1265453619,"creation_date":1265453619,"answer_id":2212850,"question_id":2212848,"body_markdown":"I&#39;m not entirely sure I understand the problem. If you wish to generate a different random number every two minutes, simply call your `rnd` function every two minutes.\r\n\r\nThis could be as simple as something like (pseudo-code):\r\n\r\n    n = rnd()\r\n    repeat until finished:\r\n        use n for something\r\n        sleep for two minutes\r\n        n = rnd()\r\n\r\nIf you want to keep using the same random number for two minutes and generate a new one:\r\n\r\n    time t = 0\r\n    int n = 0\r\n\r\n    def sort_of_rnd():\r\n        if now() - t &gt; two minutes:\r\n            n = rnd()\r\n            t = now()\r\n        return n\r\nwhich will continue to return the *same* number for a two minute period.\r\n","title":"How to generate random numbers at set time intervals?","body":"<p>I'm not entirely sure I understand the problem. If you wish to generate a different random number every two minutes, simply call your <code>rnd</code> function every two minutes.</p>\n\n<p>This could be as simple as something like (pseudo-code):</p>\n\n<pre><code>n = rnd()\nrepeat until finished:\n    use n for something\n    sleep for two minutes\n    n = rnd()\n</code></pre>\n\n<p>If you want to keep using the same random number for two minutes and generate a new one:</p>\n\n<pre><code>time t = 0\nint n = 0\n\ndef sort_of_rnd():\n    if now() - t &gt; two minutes:\n        n = rnd()\n        t = now()\n    return n\n</code></pre>\n\n<p>which will continue to return the <em>same</em> number for a two minute period.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1265453675,"creation_date":1265453675,"answer_id":2212852,"question_id":2212848,"body_markdown":"You have two requirements which are unrelated:\r\n\r\n 1. Generate random numbers\r\n 2. Perform the task every 2 minutes.\r\n\r\nTo do anything every 2 minutes you can use a ScheduledExecutorService.\r\n","title":"How to generate random numbers at set time intervals?","body":"<p>You have two requirements which are unrelated:</p>\n\n<ol>\n<li>Generate random numbers</li>\n<li>Perform the task every 2 minutes.</li>\n</ol>\n\n<p>To do anything every 2 minutes you can use a ScheduledExecutorService.</p>\n"},{"comments":[{"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"score":0,"creation_date":1265455606,"post_id":2212853,"comment_id":2165171,"body_markdown":"Thats busy waiting and very inefficient.","body":"Thats busy waiting and very inefficient."},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":2,"creation_date":1265455924,"post_id":2212853,"comment_id":2165188,"body_markdown":"@Willi: No, it isn&#39;t. That&#39;s the whole *point* of using `sleep`. And note that it&#39;s not my first suggestion.","body":"@Willi: No, it isn&#39;t. That&#39;s the whole <i>point</i> of using <code>sleep</code>. And note that it&#39;s not my first suggestion."},{"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"score":0,"creation_date":1265457876,"post_id":2212853,"comment_id":2165279,"body_markdown":"Never said it is. And blocking the current thread is even not a solution to the problem. He wants a random number being generated every 2 seconds. What will be the point of blocking and waiting two seconds without doing anything? Using a ScheduledExecutorService would be the best solution here. Thread.sleep(..) almost never makes sense.","body":"Never said it is. And blocking the current thread is even not a solution to the problem. He wants a random number being generated every 2 seconds. What will be the point of blocking and waiting two seconds without doing anything? Using a ScheduledExecutorService would be the best solution here. Thread.sleep(..) almost never makes sense."},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1265458348,"post_id":2212853,"comment_id":2165307,"body_markdown":"@Willi: You said it was &quot;busy waiting.&quot; It isn&#39;t. It&#39;s thread suspension. All sorts of perfectly valid uses for it, including doing something every couple of seconds without introducing further dependencies. I think we&#39;re broadly in agreement, though, that it&#39;s not the first choice.","body":"@Willi: You said it was &quot;busy waiting.&quot; It isn&#39;t. It&#39;s thread suspension. All sorts of perfectly valid uses for it, including doing something every couple of seconds without introducing further dependencies. I think we&#39;re broadly in agreement, though, that it&#39;s not the first choice."},{"owner":{"account_id":12007,"reputation":17671,"user_id":23424,"accept_rate":92,"display_name":"VoidPointer"},"score":1,"creation_date":1265459000,"post_id":2212853,"comment_id":2165339,"body_markdown":"If you don&#39;t need to do anything else while waiting for the next number to be generated, this is the simplest solution. And no, it&#39;s not busy waiting.","body":"If you don&#39;t need to do anything else while waiting for the next number to be generated, this is the simplest solution. And no, it&#39;s not busy waiting."}],"tags":[],"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"comment_count":5,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1265458970,"creation_date":1265453706,"answer_id":2212853,"question_id":2212848,"body_markdown":"You can schedule your program to be run once every two minutes using whatever scheduling features are available to you in your target environment (e.g., `cron`, `at`, Windows Scheduled Tasks, etc.).\r\n\r\nOr you can use the [`Thread#sleep`][1] method to suspend your application for 2,000ms and run your code in a loop:\r\n\r\n    while (loopCondition) {\r\n        /* ...generate random number... */\r\n\r\n        // Suspend execution for 2 minutes\r\n        Thread.currentThread().sleep(1000 * 60 * 2);\r\n    }\r\n\r\n(That&#39;s just example code, you&#39;ll need to handle the InterruptedException and such.)\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/Thread.html#sleep(long)","title":"How to generate random numbers at set time intervals?","body":"<p>You can schedule your program to be run once every two minutes using whatever scheduling features are available to you in your target environment (e.g., <code>cron</code>, <code>at</code>, Windows Scheduled Tasks, etc.).</p>\n\n<p>Or you can use the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Thread.html#sleep(long)\" rel=\"nofollow noreferrer\"><code>Thread#sleep</code></a> method to suspend your application for 2,000ms and run your code in a loop:</p>\n\n<pre><code>while (loopCondition) {\n    /* ...generate random number... */\n\n    // Suspend execution for 2 minutes\n    Thread.currentThread().sleep(1000 * 60 * 2);\n}\n</code></pre>\n\n<p>(That's just example code, you'll need to handle the InterruptedException and such.)</p>\n"},{"tags":[],"owner":{"account_id":12007,"reputation":17671,"user_id":23424,"accept_rate":92,"display_name":"VoidPointer"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1265461705,"creation_date":1265454768,"answer_id":2212887,"question_id":2212848,"body_markdown":"This example adds a random number to a blocking dequeue every two minutes. You can take the numbers from the queue when you need them. You can use java.util.Timer as a lightweight facility to schedule the number generation or you can use java.util.concurrent.ScheduledExecutorService for a more versatile solution if you need more sophistication in the future. By writing the numbers to a dequeue, you have a unified interface of retrieving numbers from both facilities.\r\n\r\nFirst, we set up the blocking queue:\r\n\r\n    final BlockingDequeue&lt;Integer&gt; queue = new LinkedBlockingDequeue&lt;Integer&gt;();\r\n\r\nHere is the setup with java.utilTimer:\r\n\r\n    TimerTask task = new TimerTask() {\r\n        public void run() {\r\n            queue.put(Math.round(Math.random() * 99));\r\n            // or use whatever method you chose to generate the number...\r\n        }\r\n    };\r\n    Timer timer = new Timer(true)Timer();\r\n    timer.schedule(task, 0, 120000); \r\n\r\nThis is the setup with java.util.concurrent.ScheduledExecutorService\r\n\r\n    ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n    Runnable task = new Runnable() {\r\n        public void run() {\r\n            queue.put(Math.round(Math.random() * 99));\r\n            // or use whatever method you chose to generate the number...\r\n        }\r\n    };\r\n    scheduler.scheduleAtFixedRate(task, 0, 120, SECONDS);\r\n\r\n\r\nNow, you can get a new random number from the queue every two minutes. The queue will block until a new number becomes available...\r\n\r\n    int numbers = 100;\r\n    for (int i = 0; i &lt; numbers; i++) {\r\n        Inetger rand = queue.remove();\r\n        System.out.println(&quot;new random number: &quot; + rand);\r\n    }\r\n    \r\nOnce you are done, you can terminate the scheduler. If you used the Timer, just do\r\n\r\n    timer.cancel();\r\n\r\nIf you used ScheduledExecutorService you can do\r\n\r\n    scheduler.shutdown();\r\n","title":"How to generate random numbers at set time intervals?","body":"<p>This example adds a random number to a blocking dequeue every two minutes. You can take the numbers from the queue when you need them. You can use java.util.Timer as a lightweight facility to schedule the number generation or you can use java.util.concurrent.ScheduledExecutorService for a more versatile solution if you need more sophistication in the future. By writing the numbers to a dequeue, you have a unified interface of retrieving numbers from both facilities.</p>\n\n<p>First, we set up the blocking queue:</p>\n\n<pre><code>final BlockingDequeue&lt;Integer&gt; queue = new LinkedBlockingDequeue&lt;Integer&gt;();\n</code></pre>\n\n<p>Here is the setup with java.utilTimer:</p>\n\n<pre><code>TimerTask task = new TimerTask() {\n    public void run() {\n        queue.put(Math.round(Math.random() * 99));\n        // or use whatever method you chose to generate the number...\n    }\n};\nTimer timer = new Timer(true)Timer();\ntimer.schedule(task, 0, 120000); \n</code></pre>\n\n<p>This is the setup with java.util.concurrent.ScheduledExecutorService</p>\n\n<pre><code>ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\nRunnable task = new Runnable() {\n    public void run() {\n        queue.put(Math.round(Math.random() * 99));\n        // or use whatever method you chose to generate the number...\n    }\n};\nscheduler.scheduleAtFixedRate(task, 0, 120, SECONDS);\n</code></pre>\n\n<p>Now, you can get a new random number from the queue every two minutes. The queue will block until a new number becomes available...</p>\n\n<pre><code>int numbers = 100;\nfor (int i = 0; i &lt; numbers; i++) {\n    Inetger rand = queue.remove();\n    System.out.println(\"new random number: \" + rand);\n}\n</code></pre>\n\n<p>Once you are done, you can terminate the scheduler. If you used the Timer, just do</p>\n\n<pre><code>timer.cancel();\n</code></pre>\n\n<p>If you used ScheduledExecutorService you can do</p>\n\n<pre><code>scheduler.shutdown();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12007,"reputation":17671,"user_id":23424,"accept_rate":92,"display_name":"VoidPointer"},"score":0,"creation_date":1265459158,"post_id":2213004,"comment_id":2165342,"body_markdown":"Introducing a dependency on Swing seems a bit of overkill for this sort of problem.","body":"Introducing a dependency on Swing seems a bit of overkill for this sort of problem."},{"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"score":0,"creation_date":1265459899,"post_id":2213004,"comment_id":2165383,"body_markdown":"Of course java.util.TimerTask and Timer could also be used. I just extended an existing example...","body":"Of course java.util.TimerTask and Timer could also be used. I just extended an existing example..."}],"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1265458032,"creation_date":1265457712,"answer_id":2213004,"question_id":2212848,"body_markdown":"    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.Random;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.Timer;\r\n    \r\n    public class TimerExample {\r\n    \tRandom rand = new Random();\r\n    \tstatic int currRand;\r\n    \r\n    \tTimerExample() {\r\n    \t\tcurrRand = rand.nextInt(99);\r\n    \t\tActionListener actionListener = new ActionListener() {\r\n    \t\t\tpublic void actionPerformed(ActionEvent actionEvent) {\r\n    \t\t\t\tcurrRand = rand.nextInt(99);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tTimer timer = new Timer(2000, actionListener);\r\n    \t\ttimer.start();\r\n    \t}\r\n    \r\n    \tpublic static void main(String args[]) throws InterruptedException {\r\n    \t\tTimerExample te = new TimerExample();\r\n    \t\twhile( true ) {\r\n    \t\t\tThread.currentThread().sleep(500);\r\n    \t\t\tSystem.out.println(&quot;current value:&quot; + currRand );\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nEDIT: Of course you should set 2000 in  new Timer(2000, actionListener); to 120 000 for two minutes.\r\n","title":"How to generate random numbers at set time intervals?","body":"<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.Random;\n\nimport javax.swing.JFrame;\nimport javax.swing.Timer;\n\npublic class TimerExample {\n    Random rand = new Random();\n    static int currRand;\n\n    TimerExample() {\n        currRand = rand.nextInt(99);\n        ActionListener actionListener = new ActionListener() {\n            public void actionPerformed(ActionEvent actionEvent) {\n                currRand = rand.nextInt(99);\n            }\n        };\n        Timer timer = new Timer(2000, actionListener);\n        timer.start();\n    }\n\n    public static void main(String args[]) throws InterruptedException {\n        TimerExample te = new TimerExample();\n        while( true ) {\n            Thread.currentThread().sleep(500);\n            System.out.println(\"current value:\" + currRand );\n        }\n    }\n}\n</code></pre>\n\n<p>EDIT: Of course you should set 2000 in  new Timer(2000, actionListener); to 120 000 for two minutes.</p>\n"}],"owner":{"account_id":97346,"reputation":175,"user_id":264095,"accept_rate":0,"display_name":"Aravindkumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13942,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":5,"score":1,"last_activity_date":1668276518,"creation_date":1265453527,"question_id":2212848,"body_markdown":"I have developed code in Java for generating ten random numbers from a range 0 to 99.  The problem is I need to generate a random number for every 2 min.  I am new to this area and need your views.","title":"How to generate random numbers at set time intervals?","body":"<p>I have developed code in Java for generating ten random numbers from a range 0 to 99.  The problem is I need to generate a random number for every 2 min.  I am new to this area and need your views.</p>\n"},{"tags":["java","html","jsp","servlets","web-applications"],"answers":[{"comments":[{"owner":{"account_id":19987284,"reputation":11,"user_id":14649174,"display_name":"Chris Ryan"},"score":0,"creation_date":1668347190,"post_id":74415324,"comment_id":131378029,"body_markdown":"This makes a lot of sense. I&#39;ll give it a go. Thanks for the help!","body":"This makes a lot of sense. I&#39;ll give it a go. Thanks for the help!"}],"tags":[],"owner":{"account_id":1130089,"reputation":24025,"user_id":1116391,"display_name":"Bogdan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668276101,"creation_date":1668276101,"answer_id":74415324,"question_id":74395639,"body_markdown":"You don&#39;t need eight servlets. One `ProductServlet` should be enough. You just need to have some logic in your servlet to go to one JSP or to another. \r\n\r\nYou can add links to each product in your `ProductPage.jsp` that maybe link to the address `http://your.domain/yourServletMapping?productId=1`, or `http://your.domain/yourServletMapping?productId=2`, and so on. Then in your servlet you just need to see if the request contains a `productId` parameter and then you know you have to display a detail page for the product. Your code could look like:\r\n\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n\t\t\t\r\n        if (request.getParameter(&quot;productId&quot;) != null) {\r\n\t\t\t// use the value from request.getParameter(&quot;productId&quot;) to get the ID of the product\r\n\t\t\tint id = ...\r\n\t\t\t\r\n\t\t\t// get the data from the data class for this product\r\n\t\t\tProduct product = ...\r\n\t\t\t\r\n\t\t\t//add products to request object\r\n\t\t\trequest.setAttribute(&quot;product-details&quot;, product);\r\n\t\t\t\r\n\t\t\t//get request dispatcher\r\n\t\t\trequest.getRequestDispatcher(&quot;ProductDetail.jsp&quot;).forward(request, response);\r\n\t\t\t\r\n\t\t} else {\r\n\t\t\t// we are not looking for a particular product, so list all products\r\n\t\t\t\r\n\t\t\t// get data from data class\r\n\t\t\tArrayList&lt;Product&gt; products = ProductData.getProduct();\r\n\t\t   \r\n\t\t\t//add products to request object\r\n\t\t\trequest.setAttribute(&quot;product-list&quot;, products);\r\n\t\t\t\r\n\t\t\t//get request dispatcher\r\n\t\t\trequest.getRequestDispatcher(&quot;ProductPage.jsp&quot;).forward(request, response);\r\n\t\t}\r\n    }\r\n\r\nYou basically need to differentiate between the requests based on the presence or absence of certain parameters and then do the corresponding logic. It&#39;s just like you differentiate between the type of request (GET vs POST) by having two methods in your servlet to handle them.\r\n\r\nYou can also have different URLs to handle each situation, like `http://your.domain/products` to list the products and `http://your.domain/products/{productId}` that you can map to the same servlet and extract the path parameter from there, instead of a request parameter. \r\n\r\nYou can also have multiple servlets if things get more complicated, but considering the question you asked is simple, just try to keep things simple. \r\n\r\n","title":"Is it possible to use one Servlet to dispatch data to multiple JSP&#39;s using Request Dispatcher?","body":"<p>You don't need eight servlets. One <code>ProductServlet</code> should be enough. You just need to have some logic in your servlet to go to one JSP or to another.</p>\n<p>You can add links to each product in your <code>ProductPage.jsp</code> that maybe link to the address <code>http://your.domain/yourServletMapping?productId=1</code>, or <code>http://your.domain/yourServletMapping?productId=2</code>, and so on. Then in your servlet you just need to see if the request contains a <code>productId</code> parameter and then you know you have to display a detail page for the product. Your code could look like:</p>\n<pre><code>protected void doGet(HttpServletRequest request, HttpServletResponse response)\n        throws ServletException, IOException {\n        \n    if (request.getParameter(&quot;productId&quot;) != null) {\n        // use the value from request.getParameter(&quot;productId&quot;) to get the ID of the product\n        int id = ...\n        \n        // get the data from the data class for this product\n        Product product = ...\n        \n        //add products to request object\n        request.setAttribute(&quot;product-details&quot;, product);\n        \n        //get request dispatcher\n        request.getRequestDispatcher(&quot;ProductDetail.jsp&quot;).forward(request, response);\n        \n    } else {\n        // we are not looking for a particular product, so list all products\n        \n        // get data from data class\n        ArrayList&lt;Product&gt; products = ProductData.getProduct();\n       \n        //add products to request object\n        request.setAttribute(&quot;product-list&quot;, products);\n        \n        //get request dispatcher\n        request.getRequestDispatcher(&quot;ProductPage.jsp&quot;).forward(request, response);\n    }\n}\n</code></pre>\n<p>You basically need to differentiate between the requests based on the presence or absence of certain parameters and then do the corresponding logic. It's just like you differentiate between the type of request (GET vs POST) by having two methods in your servlet to handle them.</p>\n<p>You can also have different URLs to handle each situation, like <code>http://your.domain/products</code> to list the products and <code>http://your.domain/products/{productId}</code> that you can map to the same servlet and extract the path parameter from there, instead of a request parameter.</p>\n<p>You can also have multiple servlets if things get more complicated, but considering the question you asked is simple, just try to keep things simple.</p>\n"}],"owner":{"account_id":19987284,"reputation":11,"user_id":14649174,"display_name":"Chris Ryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74415324,"answer_count":1,"score":-1,"last_activity_date":1668276101,"creation_date":1668116846,"question_id":74395639,"body_markdown":"So I&#39;ve got an &quot;online shop&quot; set up using Java where I have one .jsp &#39;Products Page&#39; which shows 8 different products. The user can click on any of those products and be brought to another .jsp page for that individual product. I have a servlet set up like this:\r\n\r\n```@Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        // get data from data class\r\n        ArrayList&lt;Product&gt; products = ProductData.getProduct();\r\n       \r\n        //add products to request object\r\n        request.setAttribute(&quot;product-list&quot;, products);\r\n        \r\n        //get requesr dispatcher\r\n        RequestDispatcher dispatcher = request.getRequestDispatcher(&quot;ProductPage.jsp&quot;);\r\n        \r\n        //forward to jsp\r\n        dispatcher.forward(request, response);\r\n        \r\n    }\r\n```\r\n\r\nIt works so far with me being able to see the products on the &#39;Product Page&#39; but I&#39;m now trying to use the same servlet to send the same info to each of the 8 individual product pages as well. Is this possible ? Or do I need to create 8 individual servlets too for each jsp page?\r\n\r\nI know it would be possible to use a session but to save time explaining why, just assume for this project that I can&#39;t use a session.\r\n\r\nThanks!","title":"Is it possible to use one Servlet to dispatch data to multiple JSP&#39;s using Request Dispatcher?","body":"<p>So I've got an &quot;online shop&quot; set up using Java where I have one .jsp 'Products Page' which shows 8 different products. The user can click on any of those products and be brought to another .jsp page for that individual product. I have a servlet set up like this:</p>\n<pre><code>    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        // get data from data class\n        ArrayList&lt;Product&gt; products = ProductData.getProduct();\n       \n        //add products to request object\n        request.setAttribute(&quot;product-list&quot;, products);\n        \n        //get requesr dispatcher\n        RequestDispatcher dispatcher = request.getRequestDispatcher(&quot;ProductPage.jsp&quot;);\n        \n        //forward to jsp\n        dispatcher.forward(request, response);\n        \n    }\n</code></pre>\n<p>It works so far with me being able to see the products on the 'Product Page' but I'm now trying to use the same servlet to send the same info to each of the 8 individual product pages as well. Is this possible ? Or do I need to create 8 individual servlets too for each jsp page?</p>\n<p>I know it would be possible to use a session but to save time explaining why, just assume for this project that I can't use a session.</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring","bean-validation"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1668268364,"post_id":74414178,"comment_id":131366402,"body_markdown":"Can you please share full pom.xml file","body":"Can you please share full pom.xml file"},{"owner":{"account_id":5772761,"reputation":15,"user_id":4555728,"display_name":"Bubu Bhat"},"score":1,"creation_date":1668269690,"post_id":74414178,"comment_id":131366670,"body_markdown":"Shared ful pom.","body":"Shared ful pom."}],"answers":[{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668275653,"creation_date":1668275291,"answer_id":74415223,"question_id":74414178,"body_markdown":"I replicated this issue and fixed it by removing some unnecessary dependencies available in ```pom.xml```\r\n\r\n**Issue:** \r\n\r\nSome unnecessary dependencies are available in ```pom.xml``` that is causing this issue.\r\n\r\n**Solution:**\r\n\r\nPlease remove the following dependencies from ```pom.xml``` and try again.\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    &lt;version&gt;5.2.2.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0.GA&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;        \r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;            \r\n&lt;/dependency&gt;\r\n\r\n```\r\n \r\n**Why?:**\r\n\r\nIf you are using SpringBoot framework then following dependencies are enough to do database connectivity\r\n\r\n```\r\n&lt;dependency&gt;  \r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \r\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt; \r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    &lt;version&gt;42.2.12&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nand this dependency is enough to do Hibernate-related validations like annotations```@NotEmpty```, ```@Pattern```, ```@Min```, ```@Max``` etc\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Error creating Bean with name &#39;defaultValidator&#39;","body":"<p>I replicated this issue and fixed it by removing some unnecessary dependencies available in <code>pom.xml</code></p>\n<p><strong>Issue:</strong></p>\n<p>Some unnecessary dependencies are available in <code>pom.xml</code> that is causing this issue.</p>\n<p><strong>Solution:</strong></p>\n<p>Please remove the following dependencies from <code>pom.xml</code> and try again.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;5.2.2.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0.GA&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;        \n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;            \n&lt;/dependency&gt;\n\n</code></pre>\n<p><strong>Why?:</strong></p>\n<p>If you are using SpringBoot framework then following dependencies are enough to do database connectivity</p>\n<pre><code>&lt;dependency&gt;  \n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt; \n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;version&gt;42.2.12&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>and this dependency is enough to do Hibernate-related validations like annotations<code>@NotEmpty</code>, <code>@Pattern</code>, <code>@Min</code>, <code>@Max</code> etc</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5772761,"reputation":15,"user_id":4555728,"display_name":"Bubu Bhat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74415223,"answer_count":1,"score":1,"last_activity_date":1668275653,"creation_date":1668266665,"question_id":74414178,"body_markdown":"I have an entity class InAppNotification.java that looks like this:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;notification&quot;)\r\npublic class InAppNotification {\r\n    \r\n    @Column(name = &quot;inapptext&quot;)\r\n    String text;\r\n    \r\n    @Column(name = &quot;deeplink&quot;)\r\n    String deepLink;\r\n    \r\n    @Column(name = &quot;userid&quot;)\r\n    Integer userId;\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    Long id;\r\n    \r\n    @Column(name = &quot;isread&quot;)\r\n    Boolean isRead = false;\r\n```\r\n\r\nAm using JPA to handle the database queries and this is how the jpa interface is defined:\r\n\r\n```\r\npublic interface InAppNotificationRepository extends JpaRepository&lt;InAppNotification, Long&gt; {\r\n\r\n    List&lt;InAppNotification&gt; findByUserId(@Param(&quot;userid&quot;) Integer userId);\r\n    \r\n}\r\n```\r\n\r\nThis is how my application.properties looks like:\r\n\r\n```\r\nspring.datasource.url= jdbc:postgresql://....\r\nspring.datasource.username= ....\r\nspring.datasource.password= ....\r\n\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\r\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\r\n\r\n\r\n# Hibernate ddl auto (create, create-drop, validate, update)\r\nspring.jpa.hibernate.ddl-auto= update\r\n```\r\n\r\nHowever, when I try to package the application after building by running `mvn clean package`  \r\nThis is the issue that I am getting:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/rkWDJ.png)](https://i.stack.imgur.com/rkWDJ.png)\r\n\r\n[An attempt was made to call a method that does not exist. The attempt was made from the following location: javax.el.ELManager.getExpressionFactory(ELManager.java:38)][1]\r\n\r\n[[EDIT]] This is how my pom.xml looks like:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.demoproject&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;chart&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;chat&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-social-facebook&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;7.0.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.social/spring-social-linkedin --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-social-linkedin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4 --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n    &lt;version&gt;4.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    &lt;version&gt;3.11&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n\r\n    \r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    &lt;version&gt;20080701&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/javax.json/javax.json-api --&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n  &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/com.sun.mail/javax.mail --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n    &lt;version&gt;1.4.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n    &lt;version&gt;1.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    &lt;version&gt;42.2.12&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n    &lt;version&gt;1.11.773&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    &lt;version&gt;2.8.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.maxmind.geoip2&lt;/groupId&gt;\r\n    &lt;artifactId&gt;geoip2&lt;/artifactId&gt;\r\n    &lt;version&gt;2.8.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;biz.paluch.redis&lt;/groupId&gt;\r\n    &lt;artifactId&gt;lettuce&lt;/artifactId&gt;\r\n    &lt;version&gt;3.2.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    &lt;version&gt;5.2.2.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.reflections&lt;/groupId&gt; &lt;artifactId&gt;reflections&lt;/artifactId&gt; &lt;version&gt;0.9.9-RC1&lt;/version&gt; &lt;/dependency&gt; --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0.GA&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;        \r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;            \r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- &lt;dependency&gt;\r\n    &lt;groupId&gt;javax.el&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0&lt;/version&gt;\r\n     &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt; --&gt;\r\n\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    &lt;version&gt;5.2.12.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;  \r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \r\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt; \r\n&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\nAny help would be appreciated!\r\n\r\nTried with mvn clean install, and the suggestions listed over here - https://stackoverflow.com/questions/51853200/error-creating-bean-with-name-defaultvalidator-defined-in-class-path-resource.\r\n\r\nDidn&#39;t help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LjgUx.png","title":"Error creating Bean with name &#39;defaultValidator&#39;","body":"<p>I have an entity class InAppNotification.java that looks like this:</p>\n<pre><code>@Entity\n@Table(name = &quot;notification&quot;)\npublic class InAppNotification {\n    \n    @Column(name = &quot;inapptext&quot;)\n    String text;\n    \n    @Column(name = &quot;deeplink&quot;)\n    String deepLink;\n    \n    @Column(name = &quot;userid&quot;)\n    Integer userId;\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    Long id;\n    \n    @Column(name = &quot;isread&quot;)\n    Boolean isRead = false;\n</code></pre>\n<p>Am using JPA to handle the database queries and this is how the jpa interface is defined:</p>\n<pre><code>public interface InAppNotificationRepository extends JpaRepository&lt;InAppNotification, Long&gt; {\n\n    List&lt;InAppNotification&gt; findByUserId(@Param(&quot;userid&quot;) Integer userId);\n    \n}\n</code></pre>\n<p>This is how my application.properties looks like:</p>\n<pre><code>spring.datasource.url= jdbc:postgresql://....\nspring.datasource.username= ....\nspring.datasource.password= ....\n\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\n\n\n# Hibernate ddl auto (create, create-drop, validate, update)\nspring.jpa.hibernate.ddl-auto= update\n</code></pre>\n<p>However, when I try to package the application after building by running <code>mvn clean package</code><br />\nThis is the issue that I am getting:</p>\n<p><a href=\"https://i.stack.imgur.com/rkWDJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rkWDJ.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/LjgUx.png\" rel=\"nofollow noreferrer\">An attempt was made to call a method that does not exist. The attempt was made from the following location: javax.el.ELManager.getExpressionFactory(ELManager.java:38)</a></p>\n<p>[[EDIT]] This is how my pom.xml looks like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.demoproject&lt;/groupId&gt;\n    &lt;artifactId&gt;chart&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;chat&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-social-facebook&lt;/artifactId&gt;\n        &lt;version&gt;2.0.3.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        \n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n        &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n        &lt;version&gt;7.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.social/spring-social-linkedin --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-social-linkedin&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-collections4 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n    &lt;version&gt;4.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-lang3 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;version&gt;3.11&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n\n    \n&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20080701&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/javax.json/javax.json-api --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\n  &lt;version&gt;1.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/com.sun.mail/javax.mail --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n    &lt;version&gt;1.4.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n\n\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n    &lt;version&gt;1.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;version&gt;42.2.12&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n    &lt;version&gt;1.11.773&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.8.6&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.maxmind.geoip2&lt;/groupId&gt;\n    &lt;artifactId&gt;geoip2&lt;/artifactId&gt;\n    &lt;version&gt;2.8.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;biz.paluch.redis&lt;/groupId&gt;\n    &lt;artifactId&gt;lettuce&lt;/artifactId&gt;\n    &lt;version&gt;3.2.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;5.2.2.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.reflections&lt;/groupId&gt; &lt;artifactId&gt;reflections&lt;/artifactId&gt; &lt;version&gt;0.9.9-RC1&lt;/version&gt; &lt;/dependency&gt; --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0.GA&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;        \n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;            \n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.el&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;!-- &lt;dependency&gt;\n    &lt;groupId&gt;javax.el&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.el-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n     &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt; --&gt;\n\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;version&gt;5.2.12.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;  \n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt; \n&lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Any help would be appreciated!</p>\n<p>Tried with mvn clean install, and the suggestions listed over here - <a href=\"https://stackoverflow.com/questions/51853200/error-creating-bean-with-name-defaultvalidator-defined-in-class-path-resource\">Error creating bean with name &#39;defaultValidator&#39; defined in class path resource</a>.</p>\n<p>Didn't help.</p>\n"},{"tags":["java","time","localization","utc","datetimeformatter"],"comments":[{"owner":{"account_id":6384033,"reputation":1817,"user_id":5202007,"accept_rate":83,"display_name":"Mohammad Tauqir"},"score":0,"creation_date":1451440574,"post_id":34521733,"comment_id":56785260,"body_markdown":"see here http://www.journaldev.com/2800/java-8-date-time-api-example-tutorial-localdate-instant-localdatetime-parse-and-format","body":"see here <a href=\"http://www.journaldev.com/2800/java-8-date-time-api-example-tutorial-localdate-instant-localdatetime-parse-and-format\" rel=\"nofollow noreferrer\">journaldev.com/2800/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":90063,"reputation":9824,"user_id":248082,"accept_rate":64,"display_name":"nobeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1451441612,"creation_date":1451441612,"answer_id":34522022,"question_id":34521733,"body_markdown":"From [Wikipedia][1]:\r\n\r\n&gt; [YYYY] indicates the ISO week-numbering year which is slightly\r\n&gt; different from the traditional Gregorian calendar year (see below).\r\n\r\n1. `YYYY` is an ISO-8601 style representation of the year. \r\n2. `yyyy` is the Gregorian year-of-era representation. \r\n\r\nSince the the calculation of the two can be different by +1 or -1, hence the formatting. More useful info at [`YEAR_OF_ERA`][2], [`YEAR`][3], and [`weekBasedYear`][4].\r\n\r\n[1]: https://en.wikipedia.org/wiki/ISO_8601#Week_dates\r\n[2]: http://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html#YEAR_OF_ERA\r\n[3]: http://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html#YEAR\r\n[4]: http://docs.oracle.com/javase/8/docs/api/java/time/temporal/WeekFields.html#weekBasedYear\r\n","title":"Why does Java&#39;s java.time.format.DateTimeFormatter#format(LocalDateTime) add a year?","body":"<p>From <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Week_dates\" rel=\"noreferrer\">Wikipedia</a>:</p>\n\n<blockquote>\n  <p>[YYYY] indicates the ISO week-numbering year which is slightly\n  different from the traditional Gregorian calendar year (see below).</p>\n</blockquote>\n\n<ol>\n<li><code>YYYY</code> is an ISO-8601 style representation of the year. </li>\n<li><code>yyyy</code> is the Gregorian year-of-era representation. </li>\n</ol>\n\n<p>Since the the calculation of the two can be different by +1 or -1, hence the formatting. More useful info at <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html#YEAR_OF_ERA\" rel=\"noreferrer\"><code>YEAR_OF_ERA</code></a>, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html#YEAR\" rel=\"noreferrer\"><code>YEAR</code></a>, and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/temporal/WeekFields.html#weekBasedYear\" rel=\"noreferrer\"><code>weekBasedYear</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668275044,"creation_date":1668273985,"answer_id":74415056,"question_id":34521733,"body_markdown":"There are FIVE problems in your code\r\n--\r\n\r\n**Problem#1**:\r\n\r\n[`LocalDateTime`](https://docs.oracle.com/javase/tutorial/datetime/iso/datetime.html) is not supposed to have time-zone information but you have formatted it in that way by forcibly putting a `&#39;Z&#39;` in the `DateTimeFormatter` pattern.\r\n\r\n**Problem#2**:\r\n\r\nNote that [&#39;Z&#39; is not the same as Z](https://stackoverflow.com/a/67953075/10819573). So, you should never use &#39;Z&#39; in the date-time formatting/parsing API.\r\n\r\n**Problem#3**:\r\n\r\n`Y` ([week-based-year](https://docs.oracle.com/javase/8/docs/api/java/time/temporal/WeekFields.html#weekBasedYear--)) is not the same as `y` ([year-of-era](https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html#YEAR_OF_ERA)). Check [this Q/A](https://stackoverflow.com/q/26431882/10819573) to understand more about the difference between these two.\r\n\r\n**Problem#4**:\r\n\r\nIf all you need to specify is the UTC time-zone offset, you should use `ZoneOffset.UTC`. A `ZoneId` is more appropriate to specify a [time-zone ID](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones) in the *Region/Time-zone-reference-city* format e.g. `Europe/London`.\r\n\r\n**Problem#5**:\r\n\r\nYou do not need a `DateTimeFormatter` for the output you want. The `java.time` API is based on **[ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)** standards and therefore the [`toString`](https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--) implementation of a `java.time` type returns a string in ISO 8601 format by default. All you needed is the [string representation of `Instant`](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toString--):\r\n\r\n    String output = Instant.ofEpochMilli(1451438792953L).toString();\r\n\r\nThe `Z` (stands for Zulu) in the output represents a date-time in UTC and has a `ZoneOffset` of `+00:00`.\r\n\r\n**Demo**:\r\n\r\n    import java.time.Instant;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String output = Instant.ofEpochMilli(1451438792953L).toString();\r\n            System.out.println(output);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2015-12-30T01:26:32.953Z\r\n\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Why does Java&#39;s java.time.format.DateTimeFormatter#format(LocalDateTime) add a year?","body":"<h2>There are FIVE problems in your code</h2>\n<p><strong>Problem#1</strong>:</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/datetime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> is not supposed to have time-zone information but you have formatted it in that way by forcibly putting a <code>'Z'</code> in the <code>DateTimeFormatter</code> pattern.</p>\n<p><strong>Problem#2</strong>:</p>\n<p>Note that <a href=\"https://stackoverflow.com/a/67953075/10819573\">'Z' is not the same as Z</a>. So, you should never use 'Z' in the date-time formatting/parsing API.</p>\n<p><strong>Problem#3</strong>:</p>\n<p><code>Y</code> (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/WeekFields.html#weekBasedYear--\" rel=\"nofollow noreferrer\">week-based-year</a>) is not the same as <code>y</code> (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html#YEAR_OF_ERA\" rel=\"nofollow noreferrer\">year-of-era</a>). Check <a href=\"https://stackoverflow.com/q/26431882/10819573\">this Q/A</a> to understand more about the difference between these two.</p>\n<p><strong>Problem#4</strong>:</p>\n<p>If all you need to specify is the UTC time-zone offset, you should use <code>ZoneOffset.UTC</code>. A <code>ZoneId</code> is more appropriate to specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">time-zone ID</a> in the <em>Region/Time-zone-reference-city</em> format e.g. <code>Europe/London</code>.</p>\n<p><strong>Problem#5</strong>:</p>\n<p>You do not need a <code>DateTimeFormatter</code> for the output you want. The <code>java.time</code> API is based on <strong><a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a></strong> standards and therefore the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--\" rel=\"nofollow noreferrer\"><code>toString</code></a> implementation of a <code>java.time</code> type returns a string in ISO 8601 format by default. All you needed is the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toString--\" rel=\"nofollow noreferrer\">string representation of <code>Instant</code></a>:</p>\n<pre><code>String output = Instant.ofEpochMilli(1451438792953L).toString();\n</code></pre>\n<p>The <code>Z</code> (stands for Zulu) in the output represents a date-time in UTC and has a <code>ZoneOffset</code> of <code>+00:00</code>.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.Instant;\n\npublic class Main {\n    public static void main(String[] args) {\n        String output = Instant.ofEpochMilli(1451438792953L).toString();\n        System.out.println(output);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2015-12-30T01:26:32.953Z\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":3961317,"reputation":227,"user_id":3268232,"display_name":"user3268232"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":34522022,"answer_count":2,"score":2,"last_activity_date":1668275044,"creation_date":1451439372,"question_id":34521733,"body_markdown":"This is the code:\r\n\r\n    LocalDateTime localDateTime = LocalDateTime.ofInstant(Instant.ofEpochMilli(1451438792953L), ZoneId.of(&quot;UTC&quot;));\r\n    DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;YYYY-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);\r\n    String output = dateTimeFormatter.format(localDateTime);\r\n\r\nThis is the value of `localDateTime`:\r\n\r\n    2015-12-30T01:26:32.953\r\n\r\nThis is the value of `output`:\r\n\r\n    2016-12-30T01:26:32.953Z\r\n\r\nWhy does it add a year?\r\n\r\nIn `java.time.temporal.WeekFields` there are a couple of methods with a `newYearWeek` which increment the year by `1` on occasion. Why?\r\n\r\nThis is a strange bug.","title":"Why does Java&#39;s java.time.format.DateTimeFormatter#format(LocalDateTime) add a year?","body":"<p>This is the code:</p>\n\n<pre><code>LocalDateTime localDateTime = LocalDateTime.ofInstant(Instant.ofEpochMilli(1451438792953L), ZoneId.of(\"UTC\"));\nDateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(\"YYYY-MM-dd'T'HH:mm:ss.SSS'Z'\");\nString output = dateTimeFormatter.format(localDateTime);\n</code></pre>\n\n<p>This is the value of <code>localDateTime</code>:</p>\n\n<pre><code>2015-12-30T01:26:32.953\n</code></pre>\n\n<p>This is the value of <code>output</code>:</p>\n\n<pre><code>2016-12-30T01:26:32.953Z\n</code></pre>\n\n<p>Why does it add a year?</p>\n\n<p>In <code>java.time.temporal.WeekFields</code> there are a couple of methods with a <code>newYearWeek</code> which increment the year by <code>1</code> on occasion. Why?</p>\n\n<p>This is a strange bug.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1662560,"reputation":6894,"user_id":1530549,"accept_rate":81,"display_name":"Scooter"},"score":0,"creation_date":1668229075,"post_id":74410442,"comment_id":131360298,"body_markdown":"How many parts of the output are incorrect?","body":"How many parts of the output are incorrect?"},{"owner":{"account_id":26906781,"reputation":1,"user_id":20482989,"display_name":"PP-M_"},"score":0,"creation_date":1668230473,"post_id":74410442,"comment_id":131360436,"body_markdown":"sorry, the post doesn&#39;t look like I wanted it to. The spaces of the output are wrong, and the issue is the spaces vary, and i cannot custimize the spaces in each loop. so I would say the spaceses is the only wrong part of the output.","body":"sorry, the post doesn&#39;t look like I wanted it to. The spaces of the output are wrong, and the issue is the spaces vary, and i cannot custimize the spaces in each loop. so I would say the spaceses is the only wrong part of the output."}],"answers":[{"tags":[],"owner":{"account_id":26900313,"reputation":83,"user_id":20477563,"display_name":"Syed Asad Manzoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668233942,"creation_date":1668233892,"answer_id":74410793,"question_id":74410442,"body_markdown":"\r\n\r\n    package Tests;\r\n    \r\n    public class st1 {\r\n        public  static void main(String[] args) {\r\n           String[] stockNameList = {&quot;Saudi Aram&quot;,&quot;SAB&quot;,&quot;ALINAM BANK&quot;};\r\n           String[] stockSymbols = {&quot;SR&quot;,&quot;ABC!!&quot;,&quot;A&quot;};\r\n           String[] previousClosingPrice = {&quot;222.22&quot;,&quot;123456.55&quot;,&quot;1.00&quot;};\r\n          \r\n           System.out.println(padString(&quot;STOCK NAME&quot;,20)+padString(&quot;Stock Symbol&quot;,20)\r\n                   +padString(&quot;PREVIOUS CLOSING PRICE&quot;,20));\r\n         for(int i = 0 ; i &lt; 3;i++)\r\n         {\r\n             System.out.println(padString(stockNameList[i],20)+padString(stockSymbols[i],20)\r\n                   +padString(previousClosingPrice[i],20));\r\n         }\r\n    }\r\n        public static String padString(String s, int len)\r\n        {\r\n           String formatString = &quot;%-&quot;+len+&quot;s&quot;;\r\n           return String.format(formatString, s);\r\n        }\r\n    } \r\n","title":"Making a table printed from an array by a loop","body":"<pre><code>package Tests;\n\npublic class st1 {\n    public  static void main(String[] args) {\n       String[] stockNameList = {&quot;Saudi Aram&quot;,&quot;SAB&quot;,&quot;ALINAM BANK&quot;};\n       String[] stockSymbols = {&quot;SR&quot;,&quot;ABC!!&quot;,&quot;A&quot;};\n       String[] previousClosingPrice = {&quot;222.22&quot;,&quot;123456.55&quot;,&quot;1.00&quot;};\n      \n       System.out.println(padString(&quot;STOCK NAME&quot;,20)+padString(&quot;Stock Symbol&quot;,20)\n               +padString(&quot;PREVIOUS CLOSING PRICE&quot;,20));\n     for(int i = 0 ; i &lt; 3;i++)\n     {\n         System.out.println(padString(stockNameList[i],20)+padString(stockSymbols[i],20)\n               +padString(previousClosingPrice[i],20));\n     }\n}\n    public static String padString(String s, int len)\n    {\n       String formatString = &quot;%-&quot;+len+&quot;s&quot;;\n       return String.format(formatString, s);\n    }\n} \n</code></pre>\n"}],"owner":{"account_id":26906781,"reputation":1,"user_id":20482989,"display_name":"PP-M_"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668274995,"creation_date":1668228619,"question_id":74410442,"body_markdown":"I&#39;m trying to make a table using a loop but, the strings and numbers that make the table have different sizes so I can&#39;t a fixed size for the spaces. I can&#39;t just straight-up print the table because I&#39;m specifically to use a loop to print it from the array.\r\n\r\nThe print statement looks like this:\r\n\r\n~~~\r\ncase 2:\r\n    System.out.println(&quot;Stock Name\\t&quot; + &quot;Stock Symbol\\t&quot; + &quot;Previous Closing Price\\t &quot;\r\n                              &quot;\\t&quot; + &quot;Current Price\\t&quot; + &quot;Change Percet\\t&quot;);\r\n    for (int i = 0; i &lt; 3; i++) {\r\n        System.out.println(stockNameList[i] + &quot;\\t&quot; + stockSymbol[i] + PreviousClosingPrice[i] \r\n                            + &quot;\\t&quot; + CurrentPrice[i] + &quot;\\t&quot; + GetChangePercent(CurrentPrice, PreviousClosingPrice) + &quot;\\t&quot;);\r\n~~~\r\n\r\nand the output looks like this:\r\n~~~ none\r\nStock Name\tStock Symbol\tPrevious Closing Price\t \tCurrent Price\tChange Percent\t\r\nSaudi Aramco\t2222.SR30.91\t35.85\t-66.3013687133789\t\r\nSABIC\t2010.SR89.29\t88.8\t-66.3013687133789\t\r\nAlinam Bank\t1150.SR12.3\t36.5\t-66.3013687133789\r\n~~~\r\n\r\nwhat I want it to look like is like this:\r\n~~~ none\r\nStock Name\tStock Symbol\tPrevious Closing Price\t    Current Price\tChange Percent\t\r\nSaudi Aramco\t 2222.SR                30.91                  35.85\t        -66.3013687133789                 \t\r\nSABIC\t         2010.SR                89.29                  88.8             -66.3013687133789\t\r\nAlinam Bank\t     1150.SR                12.3\t               36.5             -66.3013687133789\r\n~~~\r\nI tried doing different print patterns but none of them seemed to work.  \r\nwould appreciate any help.","title":"Making a table printed from an array by a loop","body":"<p>I'm trying to make a table using a loop but, the strings and numbers that make the table have different sizes so I can't a fixed size for the spaces. I can't just straight-up print the table because I'm specifically to use a loop to print it from the array.</p>\n<p>The print statement looks like this:</p>\n<pre><code>case 2:\n    System.out.println(&quot;Stock Name\\t&quot; + &quot;Stock Symbol\\t&quot; + &quot;Previous Closing Price\\t &quot;\n                              &quot;\\t&quot; + &quot;Current Price\\t&quot; + &quot;Change Percet\\t&quot;);\n    for (int i = 0; i &lt; 3; i++) {\n        System.out.println(stockNameList[i] + &quot;\\t&quot; + stockSymbol[i] + PreviousClosingPrice[i] \n                            + &quot;\\t&quot; + CurrentPrice[i] + &quot;\\t&quot; + GetChangePercent(CurrentPrice, PreviousClosingPrice) + &quot;\\t&quot;);\n</code></pre>\n<p>and the output looks like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Stock Name  Stock Symbol    Previous Closing Price      Current Price   Change Percent  \nSaudi Aramco    2222.SR30.91    35.85   -66.3013687133789   \nSABIC   2010.SR89.29    88.8    -66.3013687133789   \nAlinam Bank 1150.SR12.3 36.5    -66.3013687133789\n</code></pre>\n<p>what I want it to look like is like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Stock Name  Stock Symbol    Previous Closing Price      Current Price   Change Percent  \nSaudi Aramco     2222.SR                30.91                  35.85            -66.3013687133789                   \nSABIC            2010.SR                89.29                  88.8             -66.3013687133789   \nAlinam Bank      1150.SR                12.3                   36.5             -66.3013687133789\n</code></pre>\n<p>I tried doing different print patterns but none of them seemed to work.<br />\nwould appreciate any help.</p>\n"},{"tags":["java","mysql","hibernate","jpa","jdbc"],"comments":[{"owner":{"account_id":4680540,"reputation":91,"user_id":3789359,"display_name":"LanaLang"},"score":0,"creation_date":1668153136,"post_id":74399368,"comment_id":131340947,"body_markdown":"possible duplicate of  https://stackoverflow.com/questions/19319712/hibernate-classnotfoundexception-com-mysql-jdbc-driver","body":"possible duplicate of  <a href=\"https://stackoverflow.com/questions/19319712/hibernate-classnotfoundexception-com-mysql-jdbc-driver\" title=\"hibernate classnotfoundexception com mysql jdbc driver\">stackoverflow.com/questions/19319712/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1668161158,"post_id":74399368,"comment_id":131343501,"body_markdown":"You made a typo, the class name is `com.mysql.jdbc.Driver`, not Driver**s**. With your version of MySQL Connector/J, it is recommended to use `com.mysql.cj.jdbc.Driver` instead (though `com.mysql.jdbc.Driver` still works). As an aside, you&#39;re using a pretty old version of MySQL Connector/J, please upgrade to a newer version (the latest is 8.0.31).","body":"You made a typo, the class name is <code>com.mysql.jdbc.Driver</code>, not Driver<b>s</b>. With your version of MySQL Connector/J, it is recommended to use <code>com.mysql.cj.jdbc.Driver</code> instead (though <code>com.mysql.jdbc.Driver</code> still works). As an aside, you&#39;re using a pretty old version of MySQL Connector/J, please upgrade to a newer version (the latest is 8.0.31)."}],"owner":{"account_id":21816360,"reputation":1,"user_id":16113130,"display_name":"Nishant Mishra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668274487,"creation_date":1668152465,"question_id":74399368,"body_markdown":"While mapping data to database (MySQL) this error pop up. I am new to Hibernate.\r\n\r\nVersions of Maven dependencies are listed in below images\r\n\r\n```none\r\nINFO: HHH000204: Processing PersistenceUnitInfo [\r\n\tname: BookStoreWebsite\r\n\t...]\r\nNov 11, 2022 12:50:45 PM org.hibernate.Version logVersion\r\nINFO: HHH000412: Hibernate Core {5.2.12.Final}\r\nNov 11, 2022 12:50:45 PM org.hibernate.cfg.Environment &lt;clinit&gt;\r\nINFO: HHH000206: hibernate.properties not found\r\nNov 11, 2022 12:50:45 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\nINFO: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\r\nNov 11, 2022 12:50:46 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\nException in thread &quot;main&quot; org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:271)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:233)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\r\n\tat org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:352)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:111)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:858)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:885)\r\n\tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:58)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:39)\r\n\tat UsersTest.main(UsersTest.java:16)\r\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [com.mysql.jdbc.Drivers]\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:348)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.loadDriverIfPossible(DriverManagerConnectionProviderImpl.java:160)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator(DriverManagerConnectionProviderImpl.java:116)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildPool(DriverManagerConnectionProviderImpl.java:100)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:72)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:145)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:88)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:259)\r\n\t... 14 more\r\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : com.mysql.jdbc.Drivers\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl$AggregatedClassLoader.findClass(ClassLoaderServiceImpl.java:336)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:488)\r\n\tat java.base/java.lang.Class.forName(Class.java:467)\r\n\tat org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:345)\r\n\t... 26 more\r\n```\r\n\r\n[![](https://i.stack.imgur.com/kwFSZ.png)](https://i.stack.imgur.com/kwFSZ.png)\r\n\r\nUserTest.java class.....to enter data into database and establish connection\r\n\r\npersistence.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\r\n          http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;\r\n        version=&quot;2.1&quot;&gt;\r\n\t\r\n\t&lt;persistence-unit name=&quot;BookStoreWebsite&quot;&gt;\r\n\t&lt;properties&gt;\r\n\t&lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/bookstoredb&quot;/&gt;\r\n\t&lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n\t&lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;root&quot;/&gt;\r\n\t&lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Drivers&quot;/&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```","title":"Hibernate and MySQL connector error.Unable to connect to database and map data","body":"<p>While mapping data to database (MySQL) this error pop up. I am new to Hibernate.</p>\n<p>Versions of Maven dependencies are listed in below images</p>\n<pre class=\"lang-none prettyprint-override\"><code>INFO: HHH000204: Processing PersistenceUnitInfo [\n    name: BookStoreWebsite\n    ...]\nNov 11, 2022 12:50:45 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate Core {5.2.12.Final}\nNov 11, 2022 12:50:45 PM org.hibernate.cfg.Environment &lt;clinit&gt;\nINFO: HHH000206: hibernate.properties not found\nNov 11, 2022 12:50:45 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\nINFO: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\nNov 11, 2022 12:50:46 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\nWARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\nException in thread &quot;main&quot; org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:271)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:233)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\n    at org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:51)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:352)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:111)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:858)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:885)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:58)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:39)\n    at UsersTest.main(UsersTest.java:16)\nCaused by: org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [com.mysql.jdbc.Drivers]\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:348)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.loadDriverIfPossible(DriverManagerConnectionProviderImpl.java:160)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildCreator(DriverManagerConnectionProviderImpl.java:116)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildPool(DriverManagerConnectionProviderImpl.java:100)\n    at org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:72)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:94)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:242)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:210)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:145)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:88)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:259)\n    ... 14 more\nCaused by: java.lang.ClassNotFoundException: Could not load requested class : com.mysql.jdbc.Drivers\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl$AggregatedClassLoader.findClass(ClassLoaderServiceImpl.java:336)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:588)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:488)\n    at java.base/java.lang.Class.forName(Class.java:467)\n    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.classForName(ClassLoaderServiceImpl.java:345)\n    ... 26 more\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/kwFSZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kwFSZ.png\" alt=\"\" /></a></p>\n<p>UserTest.java class.....to enter data into database and establish connection</p>\n<p>persistence.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\n          http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;\n        version=&quot;2.1&quot;&gt;\n    \n    &lt;persistence-unit name=&quot;BookStoreWebsite&quot;&gt;\n    &lt;properties&gt;\n    &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/bookstoredb&quot;/&gt;\n    &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\n    &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;root&quot;/&gt;\n    &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;com.mysql.jdbc.Drivers&quot;/&gt;\n    &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n"},{"tags":["java","jna"],"comments":[{"owner":{"account_id":964327,"reputation":6305,"user_id":988052,"display_name":"TacticalCoder"},"score":0,"creation_date":1329310290,"post_id":9293626,"comment_id":11720256,"body_markdown":"+1...  Finding the window&#39;s position and bringing it to front cannot be done in pure Java (at least not if it&#39;s a window belonging to another app), so JNA is great here but...  The mouse click can be done using a Java Robot.  Would it be an option for you to keep using your JNA to find the window and then bring it to front and *then* use a simple Java Robot to simulate the click?","body":"+1...  Finding the window&#39;s position and bringing it to front cannot be done in pure Java (at least not if it&#39;s a window belonging to another app), so JNA is great here but...  The mouse click can be done using a Java Robot.  Would it be an option for you to keep using your JNA to find the window and then bring it to front and <i>then</i> use a simple Java Robot to simulate the click?"},{"owner":{"account_id":243864,"reputation":954,"user_id":516305,"accept_rate":56,"display_name":"NullPointer"},"score":0,"creation_date":1329310739,"post_id":9293626,"comment_id":11720438,"body_markdown":"Robot moves real cursor and it&#39;s really annoying. Also it require the target window isn&#39;t overlapped with something else. But with PostMessage this will work without moving my cursor and even if the window is somewhere in background.","body":"Robot moves real cursor and it&#39;s really annoying. Also it require the target window isn&#39;t overlapped with something else. But with PostMessage this will work without moving my cursor and even if the window is somewhere in background."},{"owner":{"account_id":964327,"reputation":6305,"user_id":988052,"display_name":"TacticalCoder"},"score":0,"creation_date":1329310948,"post_id":9293626,"comment_id":11720520,"body_markdown":"a) *&quot;Robot moves real cursor and it&#39;s really annoying&quot;* [sic]  With Robot you can: save the mouse position, move the mouse, click, move back the mouse to the old location.  It&#39;s so fast users won&#39;t even see it (been there, done that ; )    b) *&quot;it require the target window isn&#39;t overlapped with something else&quot;* [sic]  You said you were bringing your window to front?  (in most cases once a window is in front, it&#39;s in front...  Although I agree in some cases there may still be some thing even more &quot;in front&quot;, but this should be more than rare no!?","body":"a) <i>&quot;Robot moves real cursor and it&#39;s really annoying&quot;</i> [sic]  With Robot you can: save the mouse position, move the mouse, click, move back the mouse to the old location.  It&#39;s so fast users won&#39;t even see it (been there, done that ; )    b) <i>&quot;it require the target window isn&#39;t overlapped with something else&quot;</i> [sic]  You said you were bringing your window to front?  (in most cases once a window is in front, it&#39;s in front...  Although I agree in some cases there may still be some thing even more &quot;in front&quot;, but this should be more than rare no!?"},{"owner":{"account_id":243864,"reputation":954,"user_id":516305,"accept_rate":56,"display_name":"NullPointer"},"score":0,"creation_date":1329311943,"post_id":9293626,"comment_id":11720899,"body_markdown":"I know what is robot and I can imagine many different workarounds about mouse clicking and emulation other events. But robot is still unreliable workaround. Yes, in this example the window is in front and robot will work fine. But in real word application the window can be in background. Also double click can take more time and it will not be so fast. If application needs series of clicks and other actions it can take some time. I already have JNA in this project and it can send any messages to any window.","body":"I know what is robot and I can imagine many different workarounds about mouse clicking and emulation other events. But robot is still unreliable workaround. Yes, in this example the window is in front and robot will work fine. But in real word application the window can be in background. Also double click can take more time and it will not be so fast. If application needs series of clicks and other actions it can take some time. I already have JNA in this project and it can send any messages to any window."}],"answers":[{"comments":[{"owner":{"account_id":243864,"reputation":954,"user_id":516305,"accept_rate":56,"display_name":"NullPointer"},"score":0,"creation_date":1329312597,"post_id":9293748,"comment_id":11721110,"body_markdown":"Yes, you are absolutely right. I&#39;ve tested it on application which doesn&#39;t based on Windows components: netbeans, firefox and it works fine. To click button in calculator it need to find button component and send message directly to it. Thanks","body":"Yes, you are absolutely right. I&#39;ve tested it on application which doesn&#39;t based on Windows components: netbeans, firefox and it works fine. To click button in calculator it need to find button component and send message directly to it. Thanks"}],"tags":[],"owner":{"account_id":911998,"reputation":64395,"user_id":947357,"accept_rate":75,"display_name":"A.H."},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1329310302,"creation_date":1329310302,"answer_id":9293748,"question_id":9293626,"body_markdown":"Just a wild guess: The click events should not be delivered to the main window but to the destination button objects themselves. On the given coordinates the button lay above the main window &quot;hiding&quot; it when a real click happens.","title":"Mouse click with JNA","body":"<p>Just a wild guess: The click events should not be delivered to the main window but to the destination button objects themselves. On the given coordinates the button lay above the main window \"hiding\" it when a real click happens.</p>\n"}],"owner":{"account_id":243864,"reputation":954,"user_id":516305,"accept_rate":56,"display_name":"NullPointer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5546,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":9293748,"answer_count":1,"score":7,"last_activity_date":1668273952,"creation_date":1329309869,"question_id":9293626,"body_markdown":"I&#39;m trying to simulate mouse click at window with JNA.\r\n\r\n    public class App {\r\n\r\n    public static final int WM_LBUTTONUP = 514;\r\n    public static final int WM_LBUTTONDOWN = 513;\r\n    public static final int WM_LBUTTONDBLCLK = 0x203;\r\n    static int WM_CLOSE = 0x10;\r\n    final static String winTitle = &quot;Untitled - Notepad&quot;;\r\n    \r\n    public static void main(String[] args) throws InterruptedException {\r\n        User32Extra user32 = (User32Extra) Native.loadLibrary(&quot;user32&quot;, User32Extra.class, W32APIOptions.DEFAULT_OPTIONS);\r\n\r\n        WinDef.HWND hwnd = user32.FindWindow(null, winTitle);\r\n        user32.SetForegroundWindow(hwnd);\r\n        Thread.sleep(1000);\r\n        \r\n        long y = 77 + (22 &lt;&lt; 16);//x + (y &lt;&lt; 16)\r\n        WinDef.LPARAM l = new WinDef.LPARAM(y);\r\n        WinDef.WPARAM w = new WinDef.WPARAM(0);\r\n        user32.PostMessage(hwnd, WM_LBUTTONDOWN, w, l);\r\n        Thread.sleep(1000);\r\n        user32.PostMessage(hwnd, WM_LBUTTONUP, w, l);\r\n    }\r\n    }\r\n\r\nIt find the window and bring it to front. but mouse click doesn&#39;t work. Also sending WM_CLOSE works. \r\nWhat&#39;s wrong with mouse click?\r\nTested on calculator and notepad. \r\nCoordinates are relative to the window.","title":"Mouse click with JNA","body":"<p>I'm trying to simulate mouse click at window with JNA.</p>\n\n<pre><code>public class App {\n\npublic static final int WM_LBUTTONUP = 514;\npublic static final int WM_LBUTTONDOWN = 513;\npublic static final int WM_LBUTTONDBLCLK = 0x203;\nstatic int WM_CLOSE = 0x10;\nfinal static String winTitle = \"Untitled - Notepad\";\n\npublic static void main(String[] args) throws InterruptedException {\n    User32Extra user32 = (User32Extra) Native.loadLibrary(\"user32\", User32Extra.class, W32APIOptions.DEFAULT_OPTIONS);\n\n    WinDef.HWND hwnd = user32.FindWindow(null, winTitle);\n    user32.SetForegroundWindow(hwnd);\n    Thread.sleep(1000);\n\n    long y = 77 + (22 &lt;&lt; 16);//x + (y &lt;&lt; 16)\n    WinDef.LPARAM l = new WinDef.LPARAM(y);\n    WinDef.WPARAM w = new WinDef.WPARAM(0);\n    user32.PostMessage(hwnd, WM_LBUTTONDOWN, w, l);\n    Thread.sleep(1000);\n    user32.PostMessage(hwnd, WM_LBUTTONUP, w, l);\n}\n}\n</code></pre>\n\n<p>It find the window and bring it to front. but mouse click doesn't work. Also sending WM_CLOSE works. \nWhat's wrong with mouse click?\nTested on calculator and notepad. \nCoordinates are relative to the window.</p>\n"},{"tags":["java","spring","pyspark","salesforce"],"comments":[{"owner":{"account_id":1042850,"reputation":306,"user_id":1048488,"accept_rate":42,"display_name":"Whitey Winn"},"score":0,"creation_date":1671021453,"post_id":74415033,"comment_id":132006333,"body_markdown":"Hi Dinesh, any update on this? I am facing the same issue. Please let me know if you have resolved it. Thanks!","body":"Hi Dinesh, any update on this? I am facing the same issue. Please let me know if you have resolved it. Thanks!"},{"owner":{"account_id":7957268,"reputation":95,"user_id":6006108,"display_name":"Dinesh Kumar"},"score":0,"creation_date":1671262666,"post_id":74415033,"comment_id":132065749,"body_markdown":"No. Not yet. I tried with different versions of jars. But still no luck. We may need to increase or decrease the spark version I guess. Let me know if you get any workaround.","body":"No. Not yet. I tried with different versions of jars. But still no luck. We may need to increase or decrease the spark version I guess. Let me know if you get any workaround."},{"owner":{"account_id":1042850,"reputation":306,"user_id":1048488,"accept_rate":42,"display_name":"Whitey Winn"},"score":0,"creation_date":1672162480,"post_id":74415033,"comment_id":132233568,"body_markdown":"Hey, we decided to use the SalesForce Bulk API","body":"Hey, we decided to use the SalesForce Bulk API"}],"owner":{"account_id":7957268,"reputation":95,"user_id":6006108,"display_name":"Dinesh Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668273682,"creation_date":1668273682,"question_id":74415033,"body_markdown":"I am trying to write the spark dataframe into salesforce object. But its failing with the below error.\r\n**java.lang.IllegalArgumentException: Can not instantiate Stax reader for XML source type class org.codehaus.stax2.io.Stax2ByteArraySource (unrecognized type)**\r\n\r\nI am able to read the data. But the write operation is failing. Not sure, I need to add any additional dependency or not.\r\n\r\n**Dependencies used:**\r\n\r\n    spark-salesforce_2.12-1.1.4.jar\r\n    force-partner-api-40.0.0.jar\r\n    force-wsc-40.0.0.jar\r\n    jackson-dataformat-xml-2.4.4.jar\r\n    java-sizeof_2.11-0.1.jar\r\n    mockito-core-2.0.31-beta.jar\r\n    salesforce-wave-api-1.0.10.jar\r\n    scala-library-2.12.10.jar\r\n    woodstox-core-asl-4.4.0.jar\r\n    stax2-api-4.2.1\r\n\r\n**Pyspark Version : 3.3.0**\r\n\r\nBelow is my code.\r\n\r\n    spark = SparkSession.builder.appName(&quot;salesforce_connect&quot;).master(&quot;local[*]&quot;).getOrCreate()\r\n    sc    = spark.sparkContext\r\n    sc.setLogLevel(&quot;Error&quot;)\r\n\r\n    soql = &quot;SELECT name, industry, type, billingaddress, sic, Phone, YearStarted FROM Account&quot;\r\n    df = spark.read.format(&quot;com.springml.spark.salesforce&quot;) \\\r\n                     .option(&quot;username&quot;, &quot;dinesh123@force.com&quot;) \\\r\n                     .option(&quot;password&quot;, &quot;password-securityToken&quot;) \\\r\n                     .option(&quot;soql&quot;, soql) \\\r\n                     .option(&quot;inferSchema&quot;, &quot;true&quot;) \\\r\n                     .load()\r\n    df.show()\r\n    \r\n    #Transformation\r\n    df = df.withColumn(&quot;YearStarted|&quot;, F.lit(&quot;2020&quot;))\\\r\n            .na.replace(&quot;null&quot;, &quot;Agriculture&quot;, &quot;Industry&quot;)\\\r\n            .na.replace(&quot;null&quot;, &quot;Default&quot;, &quot;Type&quot;)\r\n    df.show()\r\n    \r\n    df.write.format(&quot;com.springml.spark.salesforce&quot;) \\\r\n        .option(&quot;username&quot;, &quot;dinesh123@force.com&quot;) \\\r\n        .option(&quot;password&quot;, &quot;password-securityToken&quot;) \\\r\n        .option(&quot;sfObject&quot;, &quot;Account&quot;) \\\r\n        .option(&quot;login&quot;, &quot;https://sect-d3-dev-ed.develop.my.salesforce.com/&quot;)\\\r\n        .option(&quot;bulk&quot;, True)\\\r\n        .option(&quot;upsert&quot;, True)\\\r\n        .save()\r\n\r\n\r\n**Below is the Error:**\r\n   \r\n\r\n    java.lang.IllegalArgumentException: Can not instantiate Stax reader for XML source type class org.codehaus.stax2.io.Stax2ByteArraySource (unrecognized type)\r\n    at org.apache.hadoop.shaded.com.ctc.wstx.stax.WstxInputFactory.createSR(WstxInputFactory.java:802) at org.apache.hadoop.shaded.com.ctc.wstx.stax.WstxInputFactory.createXMLStreamReader(WstxInputFactory.java:358) at com.fasterxml.jackson.dataformat.xml.XmlFactory._createParser(XmlFactory.java:580)\r\n    at com.fasterxml.jackson.dataformat.xml.XmlFactory._createParser(XmlFactory.java:28) \r\n    at com.fasterxml.jackson.core.JsonFactory.createParser(JsonFactory.java:1122) \r\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3690) \r\n    at com.springml.salesforce.wave.impl.BulkAPIImpl.addBatch(BulkAPIImpl.java:76) \r\n    at com.springml.spark.salesforce.SFObjectWriter.$anonfun$writeData$3(SFObjectWriter.scala:45) \r\n    at com.springml.spark.salesforce.SFObjectWriter.$anonfun$writeData$3$adapted(SFObjectWriter.scala:39) at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndex$2(RDD.scala:907) \r\n    at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndex$2$adapted(RDD.scala:907) \r\n    at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52) \r\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365) \r\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:329) \r\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90) \r\n    at org.apache.spark.scheduler.Task.run(Task.scala:136) \r\n    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548) \r\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504) \r\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551) \r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) \r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) \r\n    at java.lang.Thread.run(Thread.java:748)\r\n\r\n","title":"Unable to write dataframe into salesforce object. Can not instantiate Stax reader for XML source type class org.codehaus.stax2.io.Stax2ByteArraySource","body":"<p>I am trying to write the spark dataframe into salesforce object. But its failing with the below error.\n<strong>java.lang.IllegalArgumentException: Can not instantiate Stax reader for XML source type class org.codehaus.stax2.io.Stax2ByteArraySource (unrecognized type)</strong></p>\n<p>I am able to read the data. But the write operation is failing. Not sure, I need to add any additional dependency or not.</p>\n<p><strong>Dependencies used:</strong></p>\n<pre><code>spark-salesforce_2.12-1.1.4.jar\nforce-partner-api-40.0.0.jar\nforce-wsc-40.0.0.jar\njackson-dataformat-xml-2.4.4.jar\njava-sizeof_2.11-0.1.jar\nmockito-core-2.0.31-beta.jar\nsalesforce-wave-api-1.0.10.jar\nscala-library-2.12.10.jar\nwoodstox-core-asl-4.4.0.jar\nstax2-api-4.2.1\n</code></pre>\n<p><strong>Pyspark Version : 3.3.0</strong></p>\n<p>Below is my code.</p>\n<pre><code>spark = SparkSession.builder.appName(&quot;salesforce_connect&quot;).master(&quot;local[*]&quot;).getOrCreate()\nsc    = spark.sparkContext\nsc.setLogLevel(&quot;Error&quot;)\n\nsoql = &quot;SELECT name, industry, type, billingaddress, sic, Phone, YearStarted FROM Account&quot;\ndf = spark.read.format(&quot;com.springml.spark.salesforce&quot;) \\\n                 .option(&quot;username&quot;, &quot;dinesh123@force.com&quot;) \\\n                 .option(&quot;password&quot;, &quot;password-securityToken&quot;) \\\n                 .option(&quot;soql&quot;, soql) \\\n                 .option(&quot;inferSchema&quot;, &quot;true&quot;) \\\n                 .load()\ndf.show()\n\n#Transformation\ndf = df.withColumn(&quot;YearStarted|&quot;, F.lit(&quot;2020&quot;))\\\n        .na.replace(&quot;null&quot;, &quot;Agriculture&quot;, &quot;Industry&quot;)\\\n        .na.replace(&quot;null&quot;, &quot;Default&quot;, &quot;Type&quot;)\ndf.show()\n\ndf.write.format(&quot;com.springml.spark.salesforce&quot;) \\\n    .option(&quot;username&quot;, &quot;dinesh123@force.com&quot;) \\\n    .option(&quot;password&quot;, &quot;password-securityToken&quot;) \\\n    .option(&quot;sfObject&quot;, &quot;Account&quot;) \\\n    .option(&quot;login&quot;, &quot;https://sect-d3-dev-ed.develop.my.salesforce.com/&quot;)\\\n    .option(&quot;bulk&quot;, True)\\\n    .option(&quot;upsert&quot;, True)\\\n    .save()\n</code></pre>\n<p><strong>Below is the Error:</strong></p>\n<pre><code>java.lang.IllegalArgumentException: Can not instantiate Stax reader for XML source type class org.codehaus.stax2.io.Stax2ByteArraySource (unrecognized type)\nat org.apache.hadoop.shaded.com.ctc.wstx.stax.WstxInputFactory.createSR(WstxInputFactory.java:802) at org.apache.hadoop.shaded.com.ctc.wstx.stax.WstxInputFactory.createXMLStreamReader(WstxInputFactory.java:358) at com.fasterxml.jackson.dataformat.xml.XmlFactory._createParser(XmlFactory.java:580)\nat com.fasterxml.jackson.dataformat.xml.XmlFactory._createParser(XmlFactory.java:28) \nat com.fasterxml.jackson.core.JsonFactory.createParser(JsonFactory.java:1122) \nat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3690) \nat com.springml.salesforce.wave.impl.BulkAPIImpl.addBatch(BulkAPIImpl.java:76) \nat com.springml.spark.salesforce.SFObjectWriter.$anonfun$writeData$3(SFObjectWriter.scala:45) \nat com.springml.spark.salesforce.SFObjectWriter.$anonfun$writeData$3$adapted(SFObjectWriter.scala:39) at org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndex$2(RDD.scala:907) \nat org.apache.spark.rdd.RDD.$anonfun$mapPartitionsWithIndex$2$adapted(RDD.scala:907) \nat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52) \nat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:365) \nat org.apache.spark.rdd.RDD.iterator(RDD.scala:329) \nat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90) \nat org.apache.spark.scheduler.Task.run(Task.scala:136) \nat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548) \nat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504) \nat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551) \nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) \nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) \nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","bufferedreader","tcpclient","tcpserver"],"answers":[{"comments":[{"owner":{"account_id":26845905,"reputation":37,"user_id":20431658,"display_name":"brah79"},"score":0,"creation_date":1668273450,"post_id":74414843,"comment_id":131367389,"body_markdown":"I worked perfectly thank you so much sir appreciate your effort and time :)","body":"I worked perfectly thank you so much sir appreciate your effort and time :)"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1668273701,"post_id":74414843,"comment_id":131367439,"body_markdown":"@brah79 Sorry, I forgot to close the socket.","body":"@brah79 Sorry, I forgot to close the socket."},{"owner":{"account_id":26845905,"reputation":37,"user_id":20431658,"display_name":"brah79"},"score":0,"creation_date":1668274101,"post_id":74414843,"comment_id":131367486,"body_markdown":"I closed it &#128513; your answer saved me thanks a lot sir and have a nice evening","body":"I closed it 😁 your answer saved me thanks a lot sir and have a nice evening"}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668273670,"creation_date":1668272100,"answer_id":74414843,"question_id":74414606,"body_markdown":"It is only reading one sentence because the server does not repeatedly ask for new input. Sure, you have a `while(true)` loop, but that loop is repeatedly accepting new connections (this is what `welcomeSocket.accept()` does). Once you asked for one line input, you go back to the start of the loop, and waits for another connection to come. Of course, no more connections are coming, so the server just does nothing forever.\r\n\r\nYou should add an inner loop,\r\n\r\n    while (true){\r\n        Socket connectionSocket = welcomeSocket.accept();\r\n        BufferedReader inFromClient = new BufferedReader(new InputStreamReader(connectionSocket.getInputStream()));\r\n        DataOutputStream outToClient = new DataOutputStream(connectionSocket.getOutputStream());\r\n        while(true) {\r\n            clientSentence = inFromClient.readLine();\r\n            if (clientSentence.equalsIgnoreCase(&quot;stop&quot;)) {\r\n                connectionSocket.close();\r\n                break;\r\n            }\r\n            capitalizedSentence = clientSentence.toUpperCase() + &#39;\\n&#39;;\r\n            outToClient.writeBytes(capitalizedSentence);\r\n        }\r\n    }\r\n\r\nOnce the server receives &quot;stop&quot;, it would close the connection with the current client, and wait for another client to connect as it goes back to the top of the outer loop. If you want the server to terminate completely (so only accepting one connection), just remove the outer loop, and close the `welcomeSocket`:\r\n\r\n    ServerSocket welcomeSocket = new ServerSocket(6789);\r\n    Socket connectionSocket = welcomeSocket.accept();\r\n    BufferedReader inFromClient = new BufferedReader(new InputStreamReader(connectionSocket.getInputStream()));\r\n    DataOutputStream outToClient = new DataOutputStream(connectionSocket.getOutputStream());\r\n    while(true) {\r\n        clientSentence = inFromClient.readLine();\r\n        if (clientSentence.equalsIgnoreCase(&quot;stop&quot;)) {\r\n            connectionSocket.close();\r\n            break;\r\n        }\r\n        capitalizedSentence = clientSentence.toUpperCase() + &#39;\\n&#39;;\r\n        outToClient.writeBytes(capitalizedSentence);\r\n    }\r\n    welcomeSocket.close();\r\n\r\nAs for the client, it can break out of the loop when `inFromServer.readLine` returns null, which is indication that the connection has been closed.\r\n\r\n    while (true){\r\n        sentence = inFromUser.readLine();\r\n        outToServer.writeBytes(sentence + &#39;\\n&#39;);\r\n        modifiedSentence = inFromServer.readLine();\r\n        if (modifiedSentence == null) {\r\n            break;\r\n        }\r\n        System.out.println(modifiedSentence);\r\n    }","title":"How to read data until eof() using BufferdReader in java","body":"<p>It is only reading one sentence because the server does not repeatedly ask for new input. Sure, you have a <code>while(true)</code> loop, but that loop is repeatedly accepting new connections (this is what <code>welcomeSocket.accept()</code> does). Once you asked for one line input, you go back to the start of the loop, and waits for another connection to come. Of course, no more connections are coming, so the server just does nothing forever.</p>\n<p>You should add an inner loop,</p>\n<pre><code>while (true){\n    Socket connectionSocket = welcomeSocket.accept();\n    BufferedReader inFromClient = new BufferedReader(new InputStreamReader(connectionSocket.getInputStream()));\n    DataOutputStream outToClient = new DataOutputStream(connectionSocket.getOutputStream());\n    while(true) {\n        clientSentence = inFromClient.readLine();\n        if (clientSentence.equalsIgnoreCase(&quot;stop&quot;)) {\n            connectionSocket.close();\n            break;\n        }\n        capitalizedSentence = clientSentence.toUpperCase() + '\\n';\n        outToClient.writeBytes(capitalizedSentence);\n    }\n}\n</code></pre>\n<p>Once the server receives &quot;stop&quot;, it would close the connection with the current client, and wait for another client to connect as it goes back to the top of the outer loop. If you want the server to terminate completely (so only accepting one connection), just remove the outer loop, and close the <code>welcomeSocket</code>:</p>\n<pre><code>ServerSocket welcomeSocket = new ServerSocket(6789);\nSocket connectionSocket = welcomeSocket.accept();\nBufferedReader inFromClient = new BufferedReader(new InputStreamReader(connectionSocket.getInputStream()));\nDataOutputStream outToClient = new DataOutputStream(connectionSocket.getOutputStream());\nwhile(true) {\n    clientSentence = inFromClient.readLine();\n    if (clientSentence.equalsIgnoreCase(&quot;stop&quot;)) {\n        connectionSocket.close();\n        break;\n    }\n    capitalizedSentence = clientSentence.toUpperCase() + '\\n';\n    outToClient.writeBytes(capitalizedSentence);\n}\nwelcomeSocket.close();\n</code></pre>\n<p>As for the client, it can break out of the loop when <code>inFromServer.readLine</code> returns null, which is indication that the connection has been closed.</p>\n<pre><code>while (true){\n    sentence = inFromUser.readLine();\n    outToServer.writeBytes(sentence + '\\n');\n    modifiedSentence = inFromServer.readLine();\n    if (modifiedSentence == null) {\n        break;\n    }\n    System.out.println(modifiedSentence);\n}\n</code></pre>\n"}],"owner":{"account_id":26845905,"reputation":37,"user_id":20431658,"display_name":"brah79"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74414843,"answer_count":1,"score":1,"last_activity_date":1668273670,"creation_date":1668270243,"question_id":74414606,"body_markdown":"Hi I&#39;m facing a little problem with eof() \r\n\r\nI created a tcp connection between a client and a server to send text to the server and \r\n\r\nreceive it back in capital letters but the problem is that it&#39;s reading one line only so\r\n\r\nI would like to modify the code so it reads until I type &quot;stopp&quot;. When I type stop both\r\n\r\nthe client and the receiver terminate at the same time. \r\n\r\n\r\n\r\n\r\nThis is the client class\r\n\r\n\r\n\r\n\r\n```\r\nimport java.io.*;\r\nimport java.net.*;\r\npublic class Klient {\r\n\t/**\r\n\t * @param args\r\n\t * @throws IOException \r\n\t * @throws UnknownHostException \r\n\t */\r\n\tpublic static void main(String[] args) throws UnknownHostException, \r\n\t\tIOException {\r\n\t\tString sentence;\r\n\t\tString modifiedSentence;\r\n\t\tBufferedReader inFromUser = new BufferedReader(new \r\n\t\t\t\tInputStreamReader(System.in));\r\n\t\tSocket clientSocket = new Socket(&quot;127.0.0.1&quot;, 6789);\r\n\t\tDataOutputStream outToServer = new \r\n\t\t\t\tDataOutputStream(clientSocket.getOutputStream());\r\n\t\tBufferedReader inFromServer = new BufferedReader(new \r\n\t\t\t\tInputStreamReader(clientSocket.getInputStream()));\r\n\t\twhile (true){\r\n\t\t\tsentence = inFromUser.readLine();\r\n\t\t\toutToServer.writeBytes(sentence + &#39;\\n&#39;);\r\n\t\t\tmodifiedSentence = inFromServer.readLine();\r\n\t\t\tSystem.out.println(modifiedSentence);\r\n\t\t}\r\n\t\t//clientSocket.close();\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nThis is the server class\r\n\r\n\r\n\r\n\r\n```\r\nimport java.io.*;\r\nimport java.net.*;\r\npublic class TCPServer {\r\n\t/**\r\n\t * @param args\r\n\t * @throws IOException \r\n\t */\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tString clientSentence;\r\n\t\tString capitalizedSentence;\r\n\t\tServerSocket welcomeSocket = new ServerSocket(6789);\r\n\t\twhile (true){\r\n\t\t\tSocket connectionSocket = welcomeSocket.accept();\r\n\t\t\tBufferedReader inFromClient = new BufferedReader(new \r\n\t\t\t\t\tInputStreamReader(connectionSocket.getInputStream()));\r\n\t\t\tDataOutputStream outToClient = new \r\n\t\t\t\t\tDataOutputStream(connectionSocket.getOutputStream());\r\n\t\t\tclientSentence = inFromClient.readLine();\r\n\t\t\tcapitalizedSentence = clientSentence.toUpperCase() + &#39;\\n&#39;;\r\n\t\t\toutToClient.writeBytes(capitalizedSentence);\r\n\t\t}\r\n\t}\r\n```\r\n","title":"How to read data until eof() using BufferdReader in java","body":"<p>Hi I'm facing a little problem with eof()</p>\n<p>I created a tcp connection between a client and a server to send text to the server and</p>\n<p>receive it back in capital letters but the problem is that it's reading one line only so</p>\n<p>I would like to modify the code so it reads until I type &quot;stopp&quot;. When I type stop both</p>\n<p>the client and the receiver terminate at the same time.</p>\n<p>This is the client class</p>\n<pre><code>import java.io.*;\nimport java.net.*;\npublic class Klient {\n    /**\n     * @param args\n     * @throws IOException \n     * @throws UnknownHostException \n     */\n    public static void main(String[] args) throws UnknownHostException, \n        IOException {\n        String sentence;\n        String modifiedSentence;\n        BufferedReader inFromUser = new BufferedReader(new \n                InputStreamReader(System.in));\n        Socket clientSocket = new Socket(&quot;127.0.0.1&quot;, 6789);\n        DataOutputStream outToServer = new \n                DataOutputStream(clientSocket.getOutputStream());\n        BufferedReader inFromServer = new BufferedReader(new \n                InputStreamReader(clientSocket.getInputStream()));\n        while (true){\n            sentence = inFromUser.readLine();\n            outToServer.writeBytes(sentence + '\\n');\n            modifiedSentence = inFromServer.readLine();\n            System.out.println(modifiedSentence);\n        }\n        //clientSocket.close();\n    }\n}\n</code></pre>\n<p>This is the server class</p>\n<pre><code>import java.io.*;\nimport java.net.*;\npublic class TCPServer {\n    /**\n     * @param args\n     * @throws IOException \n     */\n    public static void main(String[] args) throws IOException {\n        String clientSentence;\n        String capitalizedSentence;\n        ServerSocket welcomeSocket = new ServerSocket(6789);\n        while (true){\n            Socket connectionSocket = welcomeSocket.accept();\n            BufferedReader inFromClient = new BufferedReader(new \n                    InputStreamReader(connectionSocket.getInputStream()));\n            DataOutputStream outToClient = new \n                    DataOutputStream(connectionSocket.getOutputStream());\n            clientSentence = inFromClient.readLine();\n            capitalizedSentence = clientSentence.toUpperCase() + '\\n';\n            outToClient.writeBytes(capitalizedSentence);\n        }\n    }\n</code></pre>\n"},{"tags":["java","xml","exception"],"comments":[{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":1,"creation_date":1274178147,"post_id":2856126,"comment_id":2899862,"body_markdown":"tried escaping the `\\\\`?","body":"tried escaping the `\\`?"}],"answers":[{"comments":[{"owner":{"account_id":10541959,"reputation":8904,"user_id":7767664,"accept_rate":63,"display_name":"user924"},"score":0,"creation_date":1668273076,"post_id":2856542,"comment_id":131367313,"body_markdown":"it doesn&#39;t like spaces as well and it has to be / instead of \\\\ or `\\\\ or //","body":"it doesn&#39;t like spaces as well and it has to be / instead of \\\\ or `\\\\ or //"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1582078101,"creation_date":1274180325,"answer_id":2856542,"question_id":2856126,"body_markdown":"A valid URI does not contain backslashes, and if it contains a `:` then the characters before the first `:` must be a &quot;protocol&quot;.\r\n\r\nBasically `&quot;C:\\Documents and Settings\\All Users\\.SF\\config\\sd.xml&quot;` is a pathname, and not a valid URI.  \r\n\r\nIf you want to turn a pathname into a &quot;file:&quot; URI, then do the following:\r\n\r\n    File f = new File(&quot;C:\\Documents and Settings\\All Users\\.SF\\config\\sd.xml&quot;);\r\n    URI u = f.toURI();\r\n\r\nThis is the simplest, and most reliable and portable way to turn a pathname into a valid URI in Java.  It should work on Windows, Mac, Linux and any other platform that supports Java.  (Other solutions that involve using string bashing on a pathname are not portable.)\r\n\r\nBut you need to realize that &quot;file:&quot; URIs have a number of caveats, as described in the javadocs for the [`File.toURI()`][1] method.  For example, a &quot;file:&quot; URI created on one machine usually denotes a different resource (or no resource at all) on another machine.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/io/File.html#toURI()","title":"java.net.URISyntaxException","body":"<p>A valid URI does not contain backslashes, and if it contains a <code>:</code> then the characters before the first <code>:</code> must be a \"protocol\".</p>\n\n<p>Basically <code>\"C:\\Documents and Settings\\All Users\\.SF\\config\\sd.xml\"</code> is a pathname, and not a valid URI.  </p>\n\n<p>If you want to turn a pathname into a \"file:\" URI, then do the following:</p>\n\n<pre><code>File f = new File(\"C:\\Documents and Settings\\All Users\\.SF\\config\\sd.xml\");\nURI u = f.toURI();\n</code></pre>\n\n<p>This is the simplest, and most reliable and portable way to turn a pathname into a valid URI in Java.  It should work on Windows, Mac, Linux and any other platform that supports Java.  (Other solutions that involve using string bashing on a pathname are not portable.)</p>\n\n<p>But you need to realize that \"file:\" URIs have a number of caveats, as described in the javadocs for the <a href=\"http://java.sun.com/javase/6/docs/api/java/io/File.html#toURI()\" rel=\"noreferrer\"><code>File.toURI()</code></a> method.  For example, a \"file:\" URI created on one machine usually denotes a different resource (or no resource at all) on another machine.</p>\n"},{"comments":[{"owner":{"account_id":203782,"reputation":52318,"user_id":451634,"accept_rate":58,"display_name":"Benny Code"},"score":0,"creation_date":1391509972,"post_id":7451828,"comment_id":32543824,"body_markdown":"For me on Windows 8 the &quot;file:C:\\&quot; approach did not work but &quot;file:C:/&quot; was working. Thanks! :)","body":"For me on Windows 8 the &quot;file:C:\\&quot; approach did not work but &quot;file:C:/&quot; was working. Thanks! :)"}],"tags":[],"owner":{"account_id":801427,"reputation":89,"user_id":914974,"display_name":"sizu"},"comment_count":1,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1316222334,"creation_date":1316222334,"answer_id":7451828,"question_id":2856126,"body_markdown":"You must have the string like so:\r\n\r\n    String windowsPath = file:/C:/Users/sizu/myFile.txt;\r\n    URI uri = new URI(windowsPath);\r\n    File file = new File(uri);\r\n\r\nUsually, people do something like this:\r\n\r\n    String windowsPath = file:C:/Users/sizu/myFile.txt;\r\n    URI uri = new URI(windowsPath);\r\n    File file = new File(uri);\r\n\r\nor something like this:\r\n\r\n    String windowsPath = file:C:\\Users\\sizu\\myFile.txt;\r\n    URI uri = new URI(windowsPath);\r\n    File file = new File(uri);\r\n\r\n","title":"java.net.URISyntaxException","body":"<p>You must have the string like so:</p>\n\n<pre><code>String windowsPath = file:/C:/Users/sizu/myFile.txt;\nURI uri = new URI(windowsPath);\nFile file = new File(uri);\n</code></pre>\n\n<p>Usually, people do something like this:</p>\n\n<pre><code>String windowsPath = file:C:/Users/sizu/myFile.txt;\nURI uri = new URI(windowsPath);\nFile file = new File(uri);\n</code></pre>\n\n<p>or something like this:</p>\n\n<pre><code>String windowsPath = file:C:\\Users\\sizu\\myFile.txt;\nURI uri = new URI(windowsPath);\nFile file = new File(uri);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":982515,"reputation":83,"user_id":1001890,"display_name":"britt"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1400858275,"creation_date":1400858275,"answer_id":23832907,"question_id":2856126,"body_markdown":"I had the same &quot;opaque&quot; error while passing a URI on the command line to a script. This was on windows. I had to use forward slashes, NOT backslashes. This resolved it for me.","title":"java.net.URISyntaxException","body":"<p>I had the same \"opaque\" error while passing a URI on the command line to a script. This was on windows. I had to use forward slashes, NOT backslashes. This resolved it for me.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1582074112,"post_id":24885306,"comment_id":106648921,"body_markdown":"There is a better way: see https://stackoverflow.com/a/2856542/139985","body":"There is a better way: see <a href=\"https://stackoverflow.com/a/2856542/139985\">stackoverflow.com/a/2856542/139985</a>"}],"tags":[],"owner":{"account_id":917806,"reputation":1834,"user_id":950212,"display_name":"Ankireddy Polu"},"comment_count":1,"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1406027586,"creation_date":1406026109,"answer_id":24885306,"question_id":2856126,"body_markdown":"The root cause for this is file path contains the forward slashes instead of backward slashes in windows.\r\n\r\nTry like this to resolve the problem:\r\n\r\n    &quot;file:&quot; + string.replace(&quot;\\\\&quot;, &quot;/&quot;);  ","title":"java.net.URISyntaxException","body":"<p>The root cause for this is file path contains the forward slashes instead of backward slashes in windows.</p>\n\n<p>Try like this to resolve the problem:</p>\n\n<pre><code>\"file:\" + string.replace(\"\\\\\", \"/\");  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2814998,"reputation":2666,"user_id":2420329,"accept_rate":83,"display_name":"sampopes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504363652,"creation_date":1504363652,"answer_id":46014946,"question_id":2856126,"body_markdown":"It needs a complete uri with type/protocol\r\ne.g \r\n\r\n    file:/C:/Users/Sumit/Desktop/s%20folder/SAMPLETEXT.txt\r\n\r\n\r\n    File file = new File(&quot;C:/Users/Sumit/Desktop/s folder/SAMPLETEXT.txt&quot;);\r\n    file.toURI();//This will return the same string for you.\r\n\r\nI will rather use direct string to avoid creating extra file object.\r\n","title":"java.net.URISyntaxException","body":"<p>It needs a complete uri with type/protocol\ne.g </p>\n\n<pre><code>file:/C:/Users/Sumit/Desktop/s%20folder/SAMPLETEXT.txt\n\n\nFile file = new File(\"C:/Users/Sumit/Desktop/s folder/SAMPLETEXT.txt\");\nfile.toURI();//This will return the same string for you.\n</code></pre>\n\n<p>I will rather use direct string to avoid creating extra file object.</p>\n"},{"tags":[],"owner":{"account_id":10541959,"reputation":8904,"user_id":7767664,"accept_rate":63,"display_name":"user924"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668273167,"creation_date":1668273167,"answer_id":74414968,"question_id":2856126,"body_markdown":"it doesn&#39;t like spaces as well and it has to be / instead of \\\\ or `\\\\ or //\r\n\r\nzipFilePath = &quot;C:/test/v&quot;;","title":"java.net.URISyntaxException","body":"<p>it doesn't like spaces as well and it has to be / instead of \\ or `\\ or //</p>\n<p>zipFilePath = &quot;C:/test/v&quot;;</p>\n"}],"owner":{"account_id":614668,"reputation":331,"user_id":343873,"display_name":"aayushi soni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80924,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"answer_count":6,"score":33,"last_activity_date":1668273167,"creation_date":1274176261,"question_id":2856126,"body_markdown":"I have get this exception. but this exception is not reproduced again. I want to get the cause of this \r\n\r\n    Exception Caught while Checking tag in XMLjava.net.URISyntaxException:\r\n    Illegal character in opaque part at index 2:\r\n    C:\\Documents and Settings\\All Users\\.SF\\config\\sd.xml\r\n    stacktrace net.sf.saxon.trans.XPathException.\r\n\r\nWhy this exception occured. How to deal with so it will not reproduce.\r\n","title":"java.net.URISyntaxException","body":"<p>I have get this exception. but this exception is not reproduced again. I want to get the cause of this </p>\n\n<pre><code>Exception Caught while Checking tag in XMLjava.net.URISyntaxException:\nIllegal character in opaque part at index 2:\nC:\\Documents and Settings\\All Users\\.SF\\config\\sd.xml\nstacktrace net.sf.saxon.trans.XPathException.\n</code></pre>\n\n<p>Why this exception occured. How to deal with so it will not reproduce.</p>\n"},{"tags":["java","intervals","calc"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1668273051,"post_id":74414920,"comment_id":131367309,"body_markdown":"Why use arithmetic? Perhaps it should be `return this.lowerBound &gt;= other.lowerBound &amp;&amp; this.upperBound &lt;= other.upperBound;` You could write some *tests* to validate that it behaves as you expect. Then you would know if it is correct (or how it is not).","body":"Why use arithmetic? Perhaps it should be <code>return this.lowerBound &gt;= other.lowerBound &amp;&amp; this.upperBound &lt;= other.upperBound;</code> You could write some <i>tests</i> to validate that it behaves as you expect. Then you would know if it is correct (or how it is not)."},{"owner":{"account_id":2740071,"reputation":91,"user_id":2361812,"display_name":"Zen Leow"},"score":0,"creation_date":1668273197,"post_id":74414920,"comment_id":131367343,"body_markdown":"you should have a main method to do some boundary testing and show the code and output.","body":"you should have a main method to do some boundary testing and show the code and output."},{"owner":{"account_id":11833808,"reputation":1152,"user_id":8659747,"display_name":"Kitswas"},"score":2,"creation_date":1668273332,"post_id":74414920,"comment_id":131367367,"body_markdown":"When invoking, it will be `A.isSubsetOf(B)`. You would want to make it behave exactly as it naturally sounds. For Interval A to be a subset of Interval B, `A.lowerBound &gt;= B.lowerBound` and `A.upperBound &lt;= B.upperBound`. Remove the equals if you want a strict subset.","body":"When invoking, it will be <code>A.isSubsetOf(B)</code>. You would want to make it behave exactly as it naturally sounds. For Interval A to be a subset of Interval B, <code>A.lowerBound &gt;= B.lowerBound</code> and <code>A.upperBound &lt;= B.upperBound</code>. Remove the equals if you want a strict subset."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":2,"creation_date":1668275029,"post_id":74414920,"comment_id":131367679,"body_markdown":"Your approach of checking the difference of two int values to be greater than, equal to, or less than 0 instead of comparing the two values directly is error-prone because of the possibility of integer overflow. E.g. compare the results of `Integer.MIN_VALUE &lt; 10` and `Integer.MIN_VALUE - 10 &lt; 0`.","body":"Your approach of checking the difference of two int values to be greater than, equal to, or less than 0 instead of comparing the two values directly is error-prone because of the possibility of integer overflow. E.g. compare the results of <code>Integer.MIN_VALUE &lt; 10</code> and <code>Integer.MIN_VALUE - 10 &lt; 0</code>."}],"owner":{"account_id":26466763,"reputation":11,"user_id":20107844,"display_name":"Finn A."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668272789,"creation_date":1668272789,"question_id":74414920,"body_markdown":"I wrote this method for my Interval class with has 2 int-attributes. One for the lower Bound and one for the upper Bound. With this method i want to compare the given Interval other to the already existing Interval this and see, if other is a part or the whole Interval of this.\r\n\r\n```\r\nclass Interval {\r\n    int lowerBound;\r\n    int upperBound;\r\n    Interval(int lowerBound, int upperBound){\r\n        this.lowerBound = lowerBound;\r\n        this.upperBound = upperBound;\r\n    }\r\n\r\n    /**\r\n     * @return Gets the value of lowerBound and returns lowerBound.\r\n     */\r\n    public int getLowerBound() {\r\n        return lowerBound;\r\n    }\r\n\r\n    /**\r\n     * @return Gets the value of upperBound and returns upperBound.\r\n     */\r\n    public int getUpperBound() {\r\n        return upperBound;\r\n    }\r\n\r\nboolean isSubsetOf(Interval other){\r\n    return this.lowerBound - other.getLowerBound() &lt;= 0 &amp;&amp; this.upperBound - other.getUpperBound() &gt;= 0;\r\n}\r\n```\r\n\r\n\r\nI handed in this solution but got told that the calculation is wrong and I don&#39;t get where my mistake is.","title":"What is wrong with this isSubsetOf-Method?","body":"<p>I wrote this method for my Interval class with has 2 int-attributes. One for the lower Bound and one for the upper Bound. With this method i want to compare the given Interval other to the already existing Interval this and see, if other is a part or the whole Interval of this.</p>\n<pre><code>class Interval {\n    int lowerBound;\n    int upperBound;\n    Interval(int lowerBound, int upperBound){\n        this.lowerBound = lowerBound;\n        this.upperBound = upperBound;\n    }\n\n    /**\n     * @return Gets the value of lowerBound and returns lowerBound.\n     */\n    public int getLowerBound() {\n        return lowerBound;\n    }\n\n    /**\n     * @return Gets the value of upperBound and returns upperBound.\n     */\n    public int getUpperBound() {\n        return upperBound;\n    }\n\nboolean isSubsetOf(Interval other){\n    return this.lowerBound - other.getLowerBound() &lt;= 0 &amp;&amp; this.upperBound - other.getUpperBound() &gt;= 0;\n}\n</code></pre>\n<p>I handed in this solution but got told that the calculation is wrong and I don't get where my mistake is.</p>\n"},{"tags":["java","algorithm","recursion"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":2,"creation_date":1668267175,"post_id":74414212,"comment_id":131366130,"body_markdown":"What is your question?","body":"What is your question?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668267338,"post_id":74414212,"comment_id":131366180,"body_markdown":"... and what is &quot;the base satement&quot;? For me, it enters the `if(...)` when `n` is `0`.","body":"... and what is &quot;the base satement&quot;? For me, it enters the <code>if(...)</code> when <code>n</code> is <code>0</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668267379,"post_id":74414212,"comment_id":131366187,"body_markdown":"@neo-code The question is &quot;a solution maybe&quot;? This is not a question.","body":"@neo-code The question is &quot;a solution maybe&quot;? This is not a question."},{"owner":{"account_id":23352098,"reputation":5,"user_id":17425522,"display_name":"neo-code"},"score":0,"creation_date":1668267398,"post_id":74414212,"comment_id":131366192,"body_markdown":"for me the debugger skips the if statement and gives errore","body":"for me the debugger skips the if statement and gives errore"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668267461,"post_id":74414212,"comment_id":131366210,"body_markdown":"[Cannot reproduce](https://ideone.com/VsUlGQ).","body":"<a href=\"https://ideone.com/VsUlGQ\" rel=\"nofollow noreferrer\">Cannot reproduce</a>."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1668267466,"post_id":74414212,"comment_id":131366212,"body_markdown":"@neo-code If you get an error, please post the error message.","body":"@neo-code If you get an error, please post the error message."},{"owner":{"account_id":23352098,"reputation":5,"user_id":17425522,"display_name":"neo-code"},"score":0,"creation_date":1668267514,"post_id":74414212,"comment_id":131366226,"body_markdown":"@Turing85 yes I came here looking for solutions to my problem or if someone has better code. hope you understand.","body":"@Turing85 yes I came here looking for solutions to my problem or if someone has better code. hope you understand."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668267593,"post_id":74414212,"comment_id":131366242,"body_markdown":"This is not how Stack Overflow works. We do not do code review here (That is what [CodeReview](https://codereview.stackexchange.com/) is for). And we do not rewrite your program. We answer specific questions. So please provide the necessary information. I recommend taking the [tour].","body":"This is not how Stack Overflow works. We do not do code review here (That is what <a href=\"https://codereview.stackexchange.com/\">CodeReview</a> is for). And we do not rewrite your program. We answer specific questions. So please provide the necessary information. I recommend taking the <a href=\"https://stackoverflow.com/tour\">tour</a>."},{"owner":{"account_id":23352098,"reputation":5,"user_id":17425522,"display_name":"neo-code"},"score":0,"creation_date":1668267614,"post_id":74414212,"comment_id":131366246,"body_markdown":"@ThomasBehr no sorry not a error but always prompts the false value.","body":"@ThomasBehr no sorry not a error but always prompts the false value."},{"owner":{"account_id":23352098,"reputation":5,"user_id":17425522,"display_name":"neo-code"},"score":0,"creation_date":1668267669,"post_id":74414212,"comment_id":131366256,"body_markdown":"@Turing85 thank you this is my first time using overflow","body":"@Turing85 thank you this is my first time using overflow"},{"owner":{"account_id":32581,"reputation":76091,"user_id":90527,"accept_rate":85,"display_name":"outis"},"score":0,"creation_date":1668333017,"post_id":74414212,"comment_id":131375546,"body_markdown":"Please [edit] clarifications into to the question, rather than leaving [comments](/help/privileges/comment). For one thing, a question should be understandable without reading comments. For another, SO is a Q&amp;A site, not a forum, and comments aren&#39;t intended (nor are they well suited) for discussions. See the [help] for more, especially &quot;[ask]&quot;.","body":"Please <a href=\"https://stackoverflow.com/posts/74414212/edit\">edit</a> clarifications into to the question, rather than leaving <a href=\"/help/privileges/comment\">comments</a>. For one thing, a question should be understandable without reading comments. For another, SO is a Q&amp;A site, not a forum, and comments aren&#39;t intended (nor are they well suited) for discussions. See the <a href=\"https://stackoverflow.com/help\">help center</a> for more, especially &quot;<a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>&quot;."},{"owner":{"account_id":32581,"reputation":76091,"user_id":90527,"accept_rate":85,"display_name":"outis"},"score":0,"creation_date":1668333254,"post_id":74414212,"comment_id":131375582,"body_markdown":"On an unrelated topic, see [using optional parameters in Java](/a/12994104/90527) for how to avoid having to pass initial values to `isArm`.","body":"On an unrelated topic, see <a href=\"/a/12994104/90527\">using optional parameters in Java</a> for how to avoid having to pass initial values to <code>isArm</code>."},{"owner":{"account_id":32581,"reputation":76091,"user_id":90527,"accept_rate":85,"display_name":"outis"},"score":0,"creation_date":1668333314,"post_id":74414212,"comment_id":131375589,"body_markdown":"Using Stack Overflow as an interactive debugger is notoriously inefficient. Instead, find and learn to use whatever [debugger](/q/25385173/90527) your development suite provides. At that point, if you encounter a problem you can&#39;t solve you can then post a question about that specific issue. See &quot;[How much research effort is expected of Stack Overflow users?](//meta.stackoverflow.com/q/261592/90527)&quot;","body":"Using Stack Overflow as an interactive debugger is notoriously inefficient. Instead, find and learn to use whatever <a href=\"/q/25385173/90527\">debugger</a> your development suite provides. At that point, if you encounter a problem you can&#39;t solve you can then post a question about that specific issue. See &quot;<a href=\"//meta.stackoverflow.com/q/261592/90527\">How much research effort is expected of Stack Overflow users?</a>&quot;"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1668350434,"post_id":74414212,"comment_id":131378759,"body_markdown":"Probably you&#39;ve meant that when `last` is `4` the `if`-statement in the *Base case* gets executed and the `sum` happens to be incorrect? Please [**fix the last sentence**](https://stackoverflow.com/posts/74414212/edit) of the question. It&#39;s important because Questions on StackOverflow are supposed to **provide value to Future Readers**.","body":"Probably you&#39;ve meant that when <code>last</code> is <code>4</code> the <code>if</code>-statement in the <i>Base case</i> gets executed and the <code>sum</code> happens to be incorrect? Please <a href=\"https://stackoverflow.com/posts/74414212/edit\"><b>fix the last sentence</b></a> of the question. It&#39;s important because Questions on StackOverflow are supposed to <b>provide value to Future Readers</b>."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668267593,"creation_date":1668267593,"answer_id":74414282,"question_id":74414212,"body_markdown":"Your code will instantly jump to the answer (`if (n &lt;= 0)`) __before__ applying the cube of the last digit.\r\n\r\nFor example, trivially, let&#39;s try `9`, which obviously isn&#39;t armstrong.\r\n\r\nYour code will first check if 9 is 0 - it&#39;s not. So, we recurse, which will go with `self(0, 9, 0+0)`. The next run is supposed to then recurse once more, so that the `sum + last*last*last` can actually get some cubing done. But it&#39;ll never get there - n is 0, so, you jump into the `if`.\r\n\r\nAs your variable name kinda gives away `last` is referring to the digit that the previous run lopped off, and yet you aren&#39;t cubing it.\r\n\r\nThe solution is to simply get the cubing in _before_ checking if `n` is null:\r\n\r\nThe first thing your method should do is\r\n\r\n```\r\nsum += last*last*last;\r\n```\r\n\r\nThen, the second problem shows up: This correctly calculates your sum to be 407, but you check this against `n`, which is, obviously, `0` - you are &#39;destroying&#39; n as you go through. One trivial way to solve that is to pass the original n, unmolested, through, as a 4th parameter. I&#39;ll leave that as an exercise for the reader.\r\n","title":"Validating an Armstrong number using Recursion in Java","body":"<p>Your code will instantly jump to the answer (<code>if (n &lt;= 0)</code>) <strong>before</strong> applying the cube of the last digit.</p>\n<p>For example, trivially, let's try <code>9</code>, which obviously isn't armstrong.</p>\n<p>Your code will first check if 9 is 0 - it's not. So, we recurse, which will go with <code>self(0, 9, 0+0)</code>. The next run is supposed to then recurse once more, so that the <code>sum + last*last*last</code> can actually get some cubing done. But it'll never get there - n is 0, so, you jump into the <code>if</code>.</p>\n<p>As your variable name kinda gives away <code>last</code> is referring to the digit that the previous run lopped off, and yet you aren't cubing it.</p>\n<p>The solution is to simply get the cubing in <em>before</em> checking if <code>n</code> is null:</p>\n<p>The first thing your method should do is</p>\n<pre><code>sum += last*last*last;\n</code></pre>\n<p>Then, the second problem shows up: This correctly calculates your sum to be 407, but you check this against <code>n</code>, which is, obviously, <code>0</code> - you are 'destroying' n as you go through. One trivial way to solve that is to pass the original n, unmolested, through, as a 4th parameter. I'll leave that as an exercise for the reader.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668271769,"creation_date":1668271769,"answer_id":74414809,"question_id":74414212,"body_markdown":"Although *@rzwitserloot* has pointed at an issue which is rooted in the way you&#39;ve designed the recursion, the problem is still **not** resolved.\r\n\r\nYes, the recursive calls go &quot;one step ahead&quot; the calculation of the `sum` of digits, which happens in the *Recursive case*, and the left-most digit of the given number doesn&#39;t contribute the `sum`, since `n` is zero and recursion hits the *Base case*. That&#39;s true, but it&#39;s not the only thing you need to fix.\r\n\r\nHere&#39;s the definition of so-called [Narcissistic numbers](https://en.wikipedia.org/wiki/Narcissistic_number) (aka Armstrong numbers):\r\n\r\n&gt; In number theory, a narcissistic number (also known as a pluperfect digital invariant (PPDI), an Armstrong number (after Michael F. Armstrong)or a plus perfect number) in a given number base b b is a number that is the sum of its own digits each **raised to the power of the number of digits**.\r\n\r\nTherefore, a method with hard-coded power of `3` is capable to validate only three-digit Armstrong numbers. There are only few of them, for other valid Armstrong numbers it would produce an incorrect result.\r\n\r\nSo, before calculating the sum you need to know the numbers of digits there&#39;s no workaround. If you want to address the problem only by using Recursion, the numbers of digits can be also calculated recursively. If we take this route, the solution boils down to implementing two recursive methods.\r\n\r\nThat&#39;s how it might look like:\r\n\r\n    public static boolean isArm(int n) {\r\n        return n == getSum(n, getDigitCount(n));\r\n    }\r\n\r\n    public static int getSum(int n, int power) {\r\n        return n == 0 ? 0 : (int) Math.pow(n % 10, power) + getSum(n / 10, power);\r\n    }\r\n\r\n    public static int getDigitCount(int n) {\r\n        return n == 0 ? 0 : 1 + getDigitCount(n / 10);\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(isArm(10));  // is not an Armstrong number\r\n        System.out.println(isArm(21));  // is not an Armstrong number\r\n        System.out.println(isArm(407)); // is an Armstrong number\r\n        System.out.println(isArm(153)); // is an Armstrong number\r\n        System.out.println(isArm(9));   // is an Armstrong number\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\nfalse // 10\r\nfalse // 21\r\ntrue  // 407\r\ntrue  // 153\r\ntrue  // 9\r\n```","title":"Validating an Armstrong number using Recursion in Java","body":"<p>Although <em>@rzwitserloot</em> has pointed at an issue which is rooted in the way you've designed the recursion, the problem is still <strong>not</strong> resolved.</p>\n<p>Yes, the recursive calls go &quot;one step ahead&quot; the calculation of the <code>sum</code> of digits, which happens in the <em>Recursive case</em>, and the left-most digit of the given number doesn't contribute the <code>sum</code>, since <code>n</code> is zero and recursion hits the <em>Base case</em>. That's true, but it's not the only thing you need to fix.</p>\n<p>Here's the definition of so-called <a href=\"https://en.wikipedia.org/wiki/Narcissistic_number\" rel=\"nofollow noreferrer\">Narcissistic numbers</a> (aka Armstrong numbers):</p>\n<blockquote>\n<p>In number theory, a narcissistic number (also known as a pluperfect digital invariant (PPDI), an Armstrong number (after Michael F. Armstrong)or a plus perfect number) in a given number base b b is a number that is the sum of its own digits each <strong>raised to the power of the number of digits</strong>.</p>\n</blockquote>\n<p>Therefore, a method with hard-coded power of <code>3</code> is capable to validate only three-digit Armstrong numbers. There are only few of them, for other valid Armstrong numbers it would produce an incorrect result.</p>\n<p>So, before calculating the sum you need to know the numbers of digits there's no workaround. If you want to address the problem only by using Recursion, the numbers of digits can be also calculated recursively. If we take this route, the solution boils down to implementing two recursive methods.</p>\n<p>That's how it might look like:</p>\n<pre><code>public static boolean isArm(int n) {\n    return n == getSum(n, getDigitCount(n));\n}\n\npublic static int getSum(int n, int power) {\n    return n == 0 ? 0 : (int) Math.pow(n % 10, power) + getSum(n / 10, power);\n}\n\npublic static int getDigitCount(int n) {\n    return n == 0 ? 0 : 1 + getDigitCount(n / 10);\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(isArm(10));  // is not an Armstrong number\n    System.out.println(isArm(21));  // is not an Armstrong number\n    System.out.println(isArm(407)); // is an Armstrong number\n    System.out.println(isArm(153)); // is an Armstrong number\n    System.out.println(isArm(9));   // is an Armstrong number\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>false // 10\nfalse // 21\ntrue  // 407\ntrue  // 153\ntrue  // 9\n</code></pre>\n"}],"owner":{"account_id":23352098,"reputation":5,"user_id":17425522,"display_name":"neo-code"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":874,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74414809,"answer_count":2,"score":0,"last_activity_date":1668272189,"creation_date":1668266971,"question_id":74414212,"body_markdown":"I have to check whether a number is an [Armstrong number](https://en.wikipedia.org/wiki/Narcissistic_number) or not, using a recursive method.\r\n\r\n```\r\npublic class ArmStrong {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(isArm(407, 0, 0));\r\n    }\r\n\r\n    static boolean isArm(int n,int last,int sum) {\r\n        if (n &lt;= 0 ) {\r\n            if (sum == n) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n        return isArm(n / 10, n % 10,sum + last * last * last);\r\n    }\r\n}\r\n```\r\n\r\nWhen I debug, in the last call of `isArm` when `n` is 4, the base statement is skipped.","title":"Validating an Armstrong number using Recursion in Java","body":"<p>I have to check whether a number is an <a href=\"https://en.wikipedia.org/wiki/Narcissistic_number\" rel=\"nofollow noreferrer\">Armstrong number</a> or not, using a recursive method.</p>\n<pre><code>public class ArmStrong {\n\n    public static void main(String[] args) {\n        System.out.println(isArm(407, 0, 0));\n    }\n\n    static boolean isArm(int n,int last,int sum) {\n        if (n &lt;= 0 ) {\n            if (sum == n) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n        return isArm(n / 10, n % 10,sum + last * last * last);\n    }\n}\n</code></pre>\n<p>When I debug, in the last call of <code>isArm</code> when <code>n</code> is 4, the base statement is skipped.</p>\n"},{"tags":["java","android","java-time","week-number","java.util.date"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668275095,"post_id":74414707,"comment_id":131367692,"body_markdown":"I strongly recommend you don’t use `SimpleDateFormat`, `Date` and `Calendar`. Those classes are poorly designed and long outdated, the first in particular notoriously troublesome. Instead use `LocalDate` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). And find a date picker that supports java.time.","body":"I strongly recommend you don’t use <code>SimpleDateFormat</code>, <code>Date</code> and <code>Calendar</code>. Those classes are poorly designed and long outdated, the first in particular notoriously troublesome. Instead use <code>LocalDate</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. And find a date picker that supports java.time."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668275389,"post_id":74414707,"comment_id":131367758,"body_markdown":"I can’t reproduce. When I set `dateofweek` to `11/11/2022`. I get 45. When instead I set it to `01/11/2022`, I get only 44. How come you are getting the date as a string in a non-standard format from the date picker? Shouldn’t you be getting a `LocalDate` object (or some other date object)?","body":"I can’t reproduce. When I set <code>dateofweek</code> to <code>11&#47;11&#47;2022</code>. I get 45. When instead I set it to <code>01&#47;11&#47;2022</code>, I get only 44. How come you are getting the date as a string in a non-standard format from the date picker? Shouldn’t you be getting a <code>LocalDate</code> object (or some other date object)?"}],"owner":{"account_id":26911463,"reputation":1,"user_id":20486958,"display_name":"VANSH AMBAWAT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668271620,"answer_count":0,"score":0,"last_activity_date":1668271739,"creation_date":1668271006,"question_id":74414707,"body_markdown":"I want to get the week number from the date picker that user select even if the date was past date; \r\n\r\n\r\n\r\n\r\n\r\n```\r\nString dateofweek= dateselect.getText().toString();\r\nSimpleDateFormat format = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\nDate date = null;\r\n\r\n\r\n\r\ntry {\r\n    date=format.parse(dateofweek);\r\n} catch (ParseException e) {\r\n    e.printStackTrace();\r\n}\r\n\r\n\r\nCalendar cal2 = Calendar.getInstance();\r\ncal2.setTime(date);\r\n\r\nint weekofdate= cal2.get(Calendar.WEEK_OF_YEAR);\r\n````\r\n\r\n\r\n\r\n\r\n\r\nI tried this but it is showing same week number for every week. \r\n","title":"week number of anydate from datepicker","body":"<p>I want to get the week number from the date picker that user select even if the date was past date;</p>\n<pre><code>String dateofweek= dateselect.getText().toString();\nSimpleDateFormat format = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\nDate date = null;\n\n\n\ntry {\n    date=format.parse(dateofweek);\n} catch (ParseException e) {\n    e.printStackTrace();\n}\n\n\nCalendar cal2 = Calendar.getInstance();\ncal2.setTime(date);\n\nint weekofdate= cal2.get(Calendar.WEEK_OF_YEAR);\n</code></pre>\n<p>I tried this but it is showing same week number for every week.</p>\n"},{"tags":["java","scala","concurrency","thread-safety","thread-synchronization"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1668256677,"post_id":74412931,"comment_id":131364078,"body_markdown":"Nothing guarantees order of execution of the threads. `t3` could print before `t1` or `t2` had the chance to run. To convince yourself, add some logging statement ;)","body":"Nothing guarantees order of execution of the threads. <code>t3</code> could print before <code>t1</code> or <code>t2</code> had the chance to run. To convince yourself, add some logging statement ;)"},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":2,"creation_date":1668256767,"post_id":74412931,"comment_id":131364086,"body_markdown":"On a side note, we don&#39;t usually write code that uses Thread directly in Scala but we use higher abstractions like `Future`.","body":"On a side note, we don&#39;t usually write code that uses Thread directly in Scala but we use higher abstractions like <code>Future</code>."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1668258232,"post_id":74412931,"comment_id":131364370,"body_markdown":"I don&#39;t know Scala syntax. Is there a different `this` instance in each thread? or is `this` the same object in all three threads? Synchronization in the JVM has no effect between threads that are `synchronized` on different instances. It only works when the threads are all synchronized on the same, shared instance.","body":"I don&#39;t know Scala syntax. Is there a different <code>this</code> instance in each thread? or is <code>this</code> the same object in all three threads? Synchronization in the JVM has no effect between threads that are <code>synchronized</code> on different instances. It only works when the threads are all synchronized on the same, shared instance."},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":1,"creation_date":1668260948,"post_id":74412931,"comment_id":131364877,"body_markdown":"If you want to write **Java** code then use **Java**","body":"If you want to write <b>Java</b> code then use <b>Java</b>"}],"answers":[{"tags":[],"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668271447,"creation_date":1668265434,"answer_id":74414016,"question_id":74412931,"body_markdown":"Very entertaining example! It&#39;s so broken that it actually fails at failing to fail:\r\n\r\n  * It was already failing right from the beginning, because it started with the wrong assumption that the `synchronized` keyword would somehow force the `t3` to execute last. But that&#39;s simply not the case, the `synchronized` has nothing to do with the order in which the threads are executed. The threads can still run in arbitrary order, the `synchronized` merely ensures that they don&#39;t enter the `synchronized` block simultaneously.\r\n\r\n  * Then it additionally fails at generating a random `0` / `1` / `2` output, because there is no `synchronized` block around the `counter` in the `println`, i.e. there is no actual guarantee that the printing thread will see the random changes made by the two other threads. As it is, the printing thread had every right to print `0`, without being obliged to do so.\r\n  * The statements that are executed in the initializer of the `object` attempt to acquire `this` in `this.synchronized`. If one additionally adds `tN.join()` into the initializer, everything freezes with a deadlock (because the initialization cannot finish before `t1`, `t2`, `t3` can `join`, and they cannot `join` before they can enter a `this.synchronized`, and they cannot enter `this.synchronized` before the initialization has unlocked `this`).\r\n\r\n\r\nHere is the example that fixes all three problems:\r\n```\r\nobject Example {\r\n  def injectFunction(body: =&gt;Unit): Thread = {\r\n    val t = new Thread {\r\n      override def run() = body\r\n    }\r\n    t\r\n  }\r\n\r\n  private var counter: Int = 0\r\n  def increaseCounter(): Unit = {\r\n    // \r\n    Thread.sleep(util.Random.nextInt(1000))\r\n    this.synchronized {\r\n      counter += 1\r\n    }\r\n  }\r\n\r\n  def printCounter(): Unit = {\r\n    Thread.sleep(util.Random.nextInt(1000))\r\n    println(&quot;Random state: &quot; + this.synchronized { counter })\r\n  }\r\n\r\n  def main(args: Array[String]): Unit = {\r\n    val t1: Thread = injectFunction(increaseCounter())\r\n    val t2: Thread = injectFunction(increaseCounter())\r\n    val t3: Thread = injectFunction(printCounter())\r\n    t1.start()\r\n    t2.start()\r\n    t3.start()\r\n    t1.join()\r\n    t2.join()\r\n    t3.join()\r\n    println(&quot;Final state:  &quot; + counter)\r\n  }\r\n}\r\n```\r\nNow this will indeed randomly output\r\n```\r\nRandom state: 0\r\nFinal state:  2\r\n```\r\nor\r\n```\r\nRandom state: 1\r\nFinal state:  2\r\n```\r\nor\r\n```\r\nRandom state: 2\r\nFinal state:  2\r\n```\r\n\r\nThe crucial differences to your code are:\r\n\r\n  * random `sleep`s make the parallelism at least somewhat visible. Without this, you might get `2` &amp; `2` repeatedly.\r\n  * the reading access to `counter` in `println(counter)` must also be synchronized\r\n  * if you want to demonstrate that the final state of the counter is `2`, you have to wait for all three threads to `join`.\r\n  * All the statements are in the `main`, so that the `object` can be initialized correctly.","title":"Scala thread safety","body":"<p>Very entertaining example! It's so broken that it actually fails at failing to fail:</p>\n<ul>\n<li><p>It was already failing right from the beginning, because it started with the wrong assumption that the <code>synchronized</code> keyword would somehow force the <code>t3</code> to execute last. But that's simply not the case, the <code>synchronized</code> has nothing to do with the order in which the threads are executed. The threads can still run in arbitrary order, the <code>synchronized</code> merely ensures that they don't enter the <code>synchronized</code> block simultaneously.</p>\n</li>\n<li><p>Then it additionally fails at generating a random <code>0</code> / <code>1</code> / <code>2</code> output, because there is no <code>synchronized</code> block around the <code>counter</code> in the <code>println</code>, i.e. there is no actual guarantee that the printing thread will see the random changes made by the two other threads. As it is, the printing thread had every right to print <code>0</code>, without being obliged to do so.</p>\n</li>\n<li><p>The statements that are executed in the initializer of the <code>object</code> attempt to acquire <code>this</code> in <code>this.synchronized</code>. If one additionally adds <code>tN.join()</code> into the initializer, everything freezes with a deadlock (because the initialization cannot finish before <code>t1</code>, <code>t2</code>, <code>t3</code> can <code>join</code>, and they cannot <code>join</code> before they can enter a <code>this.synchronized</code>, and they cannot enter <code>this.synchronized</code> before the initialization has unlocked <code>this</code>).</p>\n</li>\n</ul>\n<p>Here is the example that fixes all three problems:</p>\n<pre><code>object Example {\n  def injectFunction(body: =&gt;Unit): Thread = {\n    val t = new Thread {\n      override def run() = body\n    }\n    t\n  }\n\n  private var counter: Int = 0\n  def increaseCounter(): Unit = {\n    // \n    Thread.sleep(util.Random.nextInt(1000))\n    this.synchronized {\n      counter += 1\n    }\n  }\n\n  def printCounter(): Unit = {\n    Thread.sleep(util.Random.nextInt(1000))\n    println(&quot;Random state: &quot; + this.synchronized { counter })\n  }\n\n  def main(args: Array[String]): Unit = {\n    val t1: Thread = injectFunction(increaseCounter())\n    val t2: Thread = injectFunction(increaseCounter())\n    val t3: Thread = injectFunction(printCounter())\n    t1.start()\n    t2.start()\n    t3.start()\n    t1.join()\n    t2.join()\n    t3.join()\n    println(&quot;Final state:  &quot; + counter)\n  }\n}\n</code></pre>\n<p>Now this will indeed randomly output</p>\n<pre><code>Random state: 0\nFinal state:  2\n</code></pre>\n<p>or</p>\n<pre><code>Random state: 1\nFinal state:  2\n</code></pre>\n<p>or</p>\n<pre><code>Random state: 2\nFinal state:  2\n</code></pre>\n<p>The crucial differences to your code are:</p>\n<ul>\n<li>random <code>sleep</code>s make the parallelism at least somewhat visible. Without this, you might get <code>2</code> &amp; <code>2</code> repeatedly.</li>\n<li>the reading access to <code>counter</code> in <code>println(counter)</code> must also be synchronized</li>\n<li>if you want to demonstrate that the final state of the counter is <code>2</code>, you have to wait for all three threads to <code>join</code>.</li>\n<li>All the statements are in the <code>main</code>, so that the <code>object</code> can be initialized correctly.</li>\n</ul>\n"}],"owner":{"account_id":17225050,"reputation":25,"user_id":12955251,"display_name":"matti1499"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74414016,"answer_count":1,"score":1,"last_activity_date":1668271447,"creation_date":1668256027,"question_id":74412931,"body_markdown":"I&#39;m running this code in Scala: \r\n\r\n```\r\n  def injectFunction(body: =&gt;Unit): Thread = {\r\n    val t = new Thread {\r\n      override def run() = body\r\n    }\r\n    t\r\n  }\r\n\r\n  private var counter: Int = 0\r\n  def increaseCounter(): Unit = this.synchronized {\r\n    //putting this as synchronized doesn&#39;t work for some reason..\r\n    counter = counter + 1\r\n    counter\r\n  }\r\n\r\n  def printCounter(): Unit = {\r\n    println(counter)\r\n  }\r\n\r\n  val t1: Thread = injectFunction(increaseCounter())\r\n  val t2: Thread = injectFunction(increaseCounter())\r\n  val t3: Thread = injectFunction(printCounter())\r\n  t1.start()\r\n  t2.start()\r\n  t3.start()\r\n```\r\n\r\nThis prints out 1 most of the time, though sometimes 2 and 0 a few times. Shouldn&#39;t the this.synchronized before the increaseCounter() method ensure that it&#39;s thread safe, and print 2 every time? I&#39;ve also tried adding this.synchronized in the definition of printCounter(), with no luck.","title":"Scala thread safety","body":"<p>I'm running this code in Scala:</p>\n<pre><code>  def injectFunction(body: =&gt;Unit): Thread = {\n    val t = new Thread {\n      override def run() = body\n    }\n    t\n  }\n\n  private var counter: Int = 0\n  def increaseCounter(): Unit = this.synchronized {\n    //putting this as synchronized doesn't work for some reason..\n    counter = counter + 1\n    counter\n  }\n\n  def printCounter(): Unit = {\n    println(counter)\n  }\n\n  val t1: Thread = injectFunction(increaseCounter())\n  val t2: Thread = injectFunction(increaseCounter())\n  val t3: Thread = injectFunction(printCounter())\n  t1.start()\n  t2.start()\n  t3.start()\n</code></pre>\n<p>This prints out 1 most of the time, though sometimes 2 and 0 a few times. Shouldn't the this.synchronized before the increaseCounter() method ensure that it's thread safe, and print 2 every time? I've also tried adding this.synchronized in the definition of printCounter(), with no luck.</p>\n"},{"tags":["java","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":7510409,"reputation":1883,"user_id":5705554,"display_name":"Marcus Hellberg"},"score":0,"creation_date":1668260788,"post_id":74412699,"comment_id":131364847,"body_markdown":"Have you considered swapping your actions? So that the primary button is Cancel and the secondary action is Delete. To me that would feel more appropriate than focusing the secondary action by default.","body":"Have you considered swapping your actions? So that the primary button is Cancel and the secondary action is Delete. To me that would feel more appropriate than focusing the secondary action by default."},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1668271596,"post_id":74412699,"comment_id":131367029,"body_markdown":"@MarcusHellberg. No I haven&#39;t. But I have tested it out now and added it to the question. It is not a solution I like, I&#39;m afraid. I&#39;ve been toying with having Cancel Button as a component (the API for ConfirmDialog allows this) and then calling `btnCancel.focus()`, but I cannot make it work. It doesn&#39;t seem to have any effect.","body":"@MarcusHellberg. No I haven&#39;t. But I have tested it out now and added it to the question. It is not a solution I like, I&#39;m afraid. I&#39;ve been toying with having Cancel Button as a component (the API for ConfirmDialog allows this) and then calling <code>btnCancel.focus()</code>, but I cannot make it work. It doesn&#39;t seem to have any effect."},{"owner":{"account_id":2740071,"reputation":91,"user_id":2361812,"display_name":"Zen Leow"},"score":0,"creation_date":1668274063,"post_id":74412699,"comment_id":131367480,"body_markdown":"would you consider disabling the enter key via javascript? or intercept that keypress event and close the modal?","body":"would you consider disabling the enter key via javascript? or intercept that keypress event and close the modal?"},{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":0,"creation_date":1668281844,"post_id":74412699,"comment_id":131369094,"body_markdown":"Instead of using the pre-build component that doesn&#39;t fit your needs, you can also use the Dialog and build it like you need it. There you can also listen for an open event to focus the button you want.","body":"Instead of using the pre-build component that doesn&#39;t fit your needs, you can also use the Dialog and build it like you need it. There you can also listen for an open event to focus the button you want."}],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668271435,"creation_date":1668253995,"question_id":74412699,"body_markdown":"Using Vaadin Flow [Confirm Dialog][1] I&#39;m creating a dialog like below:\r\n\r\n```java\r\nConfirmDialog dialog = new ConfirmDialog(\r\n    &quot;Delete Person&quot;,\r\n    &quot;Do you really want to delete Person?&quot;,\r\n    &quot;Delete&quot;,\r\n    deleteEvent -&gt; { Notification.show(&quot;Delete was clicked&quot;);},\r\n    &quot;Cancel&quot;,\r\n    cancelEvent -&gt; { Notification.show(&quot;Cancel was clicked&quot;);}\r\n);\r\n```\r\n\r\n[![enter image description here][2]][2]\r\n\r\nSince this is a **destructive action**, it is important that the initial focus is not on the \r\nDelete button, for example if user simply hits the Enter key. How can it be achieved that the initial focus is on the Cancel button? \r\n\r\n\r\n## MarcusHellberg suggestion for solution\r\n\r\nThe idea is to swap the actions. Like this:\r\n```java\r\nConfirmDialog dialog = new ConfirmDialog(\r\n    &quot;Delete Person&quot;,\r\n    &quot;Do you really want to delete Person?&quot;,\r\n    &quot;Cancel&quot;,\r\n    cancelEvent -&gt; { Notification.show(&quot;Cancel was clicked&quot;);},\r\n    &quot;Delete&quot;,\r\n    deleteEvent -&gt; { Notification.show(&quot;Delete was clicked&quot;);}\r\n);\r\n// We need to re-style the buttons:\r\ndialog.setCancelButtonTheme(ButtonVariant.LUMO_PRIMARY.getVariantName());    // Style the &quot;Confirm&quot; button\r\ndialog.setConfirmButtonTheme(ButtonVariant.LUMO_TERTIARY.getVariantName());  // Style the &quot;Cancel&quot; button\r\n```\r\n[![enter image description here][3]][3]\r\n\r\nAs can be seen it creates a different user experience where the primary action is now on the left.\r\nAlso, for the developer, it gets kind of confusing because developer has to remember that all actions are opposite, so for example calling method `addCancelListener()` actually refers to the Confirm action and vice versa. Very dangerous if developer forgets.\r\n\r\n  [1]: https://vaadin.com/docs/latest/components/confirm-dialog\r\n  [2]: https://i.stack.imgur.com/0i3fC.png\r\n  [3]: https://i.stack.imgur.com/5xMK1.png","title":"Vaadin ConfirmDialog - set focus to Cancel button","body":"<p>Using Vaadin Flow <a href=\"https://vaadin.com/docs/latest/components/confirm-dialog\" rel=\"nofollow noreferrer\">Confirm Dialog</a> I'm creating a dialog like below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ConfirmDialog dialog = new ConfirmDialog(\n    &quot;Delete Person&quot;,\n    &quot;Do you really want to delete Person?&quot;,\n    &quot;Delete&quot;,\n    deleteEvent -&gt; { Notification.show(&quot;Delete was clicked&quot;);},\n    &quot;Cancel&quot;,\n    cancelEvent -&gt; { Notification.show(&quot;Cancel was clicked&quot;);}\n);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0i3fC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0i3fC.png\" alt=\"enter image description here\" /></a></p>\n<p>Since this is a <strong>destructive action</strong>, it is important that the initial focus is not on the\nDelete button, for example if user simply hits the Enter key. How can it be achieved that the initial focus is on the Cancel button?</p>\n<h2>MarcusHellberg suggestion for solution</h2>\n<p>The idea is to swap the actions. Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ConfirmDialog dialog = new ConfirmDialog(\n    &quot;Delete Person&quot;,\n    &quot;Do you really want to delete Person?&quot;,\n    &quot;Cancel&quot;,\n    cancelEvent -&gt; { Notification.show(&quot;Cancel was clicked&quot;);},\n    &quot;Delete&quot;,\n    deleteEvent -&gt; { Notification.show(&quot;Delete was clicked&quot;);}\n);\n// We need to re-style the buttons:\ndialog.setCancelButtonTheme(ButtonVariant.LUMO_PRIMARY.getVariantName());    // Style the &quot;Confirm&quot; button\ndialog.setConfirmButtonTheme(ButtonVariant.LUMO_TERTIARY.getVariantName());  // Style the &quot;Cancel&quot; button\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/5xMK1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5xMK1.png\" alt=\"enter image description here\" /></a></p>\n<p>As can be seen it creates a different user experience where the primary action is now on the left.\nAlso, for the developer, it gets kind of confusing because developer has to remember that all actions are opposite, so for example calling method <code>addCancelListener()</code> actually refers to the Confirm action and vice versa. Very dangerous if developer forgets.</p>\n"},{"tags":["java","spring-integration","spring-tool-suite"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668270818,"creation_date":1446665705,"answer_id":33530497,"question_id":33524606,"body_markdown":"No, it isn&#39;t possible, because Java DSL doesn&#39;t generate XML at all. But that STS graph is fully based on the XML. \r\n\r\nWe are working for the `Flo for SI DSL` project to do something similar for Java DSL, but it is private yet. \r\n","title":"STS Visualisation of Spring Integration Java DSL flow","body":"<p>No, it isn't possible, because Java DSL doesn't generate XML at all. But that STS graph is fully based on the XML.</p>\n<p>We are working for the <code>Flo for SI DSL</code> project to do something similar for Java DSL, but it is private yet.</p>\n"}],"owner":{"account_id":2928802,"reputation":1845,"user_id":2509595,"accept_rate":38,"display_name":"Tom Bunting"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":543,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":33530497,"answer_count":1,"score":3,"last_activity_date":1668270818,"creation_date":1446647936,"question_id":33524606,"body_markdown":"Does anybody know if there is currently a way, in STS/Eclipse, to visualise an `IntegrationFlow` defined as a bean using **Spring Integration Java DSL**, as is possible via the &#39;integration-graph&#39; tab available when editing SI-XML-defined flows?","title":"STS Visualisation of Spring Integration Java DSL flow","body":"<p>Does anybody know if there is currently a way, in STS/Eclipse, to visualise an <code>IntegrationFlow</code> defined as a bean using <strong>Spring Integration Java DSL</strong>, as is possible via the 'integration-graph' tab available when editing SI-XML-defined flows?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668269978,"post_id":74414551,"comment_id":131366719,"body_markdown":"Does this answer your question? [List all files from a directory recursively with Java](https://stackoverflow.com/questions/2534632/list-all-files-from-a-directory-recursively-with-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2534632/list-all-files-from-a-directory-recursively-with-java\">List all files from a directory recursively with Java</a>"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1668270078,"post_id":74414551,"comment_id":131366735,"body_markdown":"Can you show me how I need to modify my code in order to implement the functionality?","body":"Can you show me how I need to modify my code in order to implement the functionality?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668270153,"post_id":74414551,"comment_id":131366752,"body_markdown":"What part is unclear?","body":"What part is unclear?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1668270244,"post_id":74414551,"comment_id":131366765,"body_markdown":"I want to implement this functionality with less memory usage maybe with Stream if possible because I have hundreds of files for read.","body":"I want to implement this functionality with less memory usage maybe with Stream if possible because I have hundreds of files for read."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668270401,"post_id":74414551,"comment_id":131366791,"body_markdown":"Doesn&#39;t sound like a big issue to me. Have you verified that there *is* actually a performance-/memory-problem with the solutions provided in the post I linked?","body":"Doesn&#39;t sound like a big issue to me. Have you verified that there <i>is</i> actually a performance-/memory-problem with the solutions provided in the post I linked?"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1668270699,"post_id":74414551,"comment_id":131366839,"body_markdown":"@PeterPenzov The answers linked in Turing85&#39;s first comment contain an example that uses [java.nio.file.DirectoryStream](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/DirectoryStream.html). I do not know if that is more memory-efficient (I somehow doubt it), but it is a &quot;streaming&quot; approach.","body":"@PeterPenzov The answers linked in Turing85&#39;s first comment contain an example that uses <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/DirectoryStream.html\" rel=\"nofollow noreferrer\">java.nio.file.DirectoryStream</a>. I do not know if that is more memory-efficient (I somehow doubt it), but it is a &quot;streaming&quot; approach."}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668269744,"creation_date":1668269744,"question_id":74414551,"body_markdown":"I use this code to read all .csv files into directory:\r\n\r\n            File directoryPath = new File(&quot;C:\\\\in_progress&quot;);\r\n            FilenameFilter textFileFilter = (dir, name) -&gt; {\r\n                String lowercaseName = name.toLowerCase();\r\n                if (lowercaseName.endsWith(&quot;.csv&quot;)) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            };\r\n            // List of all the csv files\r\n            File filesList[] = directoryPath.listFiles(textFileFilter);\r\n            System.out.println(&quot;List of the text files in the specified directory:&quot;);\r\n            for(File file : filesList) {\r\n                System.out.println(&quot;File name: &quot;+file.getName());\r\n                System.out.println(&quot;File path: &quot;+file.getAbsolutePath());\r\n                System.out.println(&quot;Size :&quot;+file.getTotalSpace());\r\n                System.out.println(&quot; &quot;);\r\n            }\r\n\r\nI want also to list all files which are located in many sub directories into the main directory.\r\nHow this can be implemented?","title":"List files in sub directories","body":"<p>I use this code to read all .csv files into directory:</p>\n<pre><code>        File directoryPath = new File(&quot;C:\\\\in_progress&quot;);\n        FilenameFilter textFileFilter = (dir, name) -&gt; {\n            String lowercaseName = name.toLowerCase();\n            if (lowercaseName.endsWith(&quot;.csv&quot;)) {\n                return true;\n            } else {\n                return false;\n            }\n        };\n        // List of all the csv files\n        File filesList[] = directoryPath.listFiles(textFileFilter);\n        System.out.println(&quot;List of the text files in the specified directory:&quot;);\n        for(File file : filesList) {\n            System.out.println(&quot;File name: &quot;+file.getName());\n            System.out.println(&quot;File path: &quot;+file.getAbsolutePath());\n            System.out.println(&quot;Size :&quot;+file.getTotalSpace());\n            System.out.println(&quot; &quot;);\n        }\n</code></pre>\n<p>I want also to list all files which are located in many sub directories into the main directory.\nHow this can be implemented?</p>\n"},{"tags":["java","python","py4j"],"owner":{"account_id":9650315,"reputation":1388,"user_id":7161679,"accept_rate":100,"display_name":"littlely"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":988,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668268076,"creation_date":1577516674,"question_id":59508849,"body_markdown":"I want python to call java method using py4j, when I packaged the java file as jar, and run in windows, it went wrong:\r\n\r\n    &gt;java -jar spark-1.0-SNAPSHOT.jar\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: py4j/GatewayServer\r\n        at com.littlely.AddNum.main(AddNum.java:11)\r\n    Caused by: java.lang.ClassNotFoundException: py4j.GatewayServer\r\n        at java.net.URLClassLoader.findClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        ... 1 more\r\n\r\nthe java:\r\n\r\n    package com.littlely;\r\n    import py4j.GatewayServer;\r\n\r\n    public class AddNum{\r\n        public float add(float a, float b){\r\n            return a + b;\r\n    }\r\n\r\n        public static void main(String[] args) {\r\n            GatewayServer server = new GatewayServer(new AddNum());\r\n            server.start();\r\n            System.out.println(&quot;server started!&quot;);\r\n    }}\r\n\r\nthe python:\r\n\r\n\r\n    from py4j.java_gateway import JavaGateway\r\n\r\n    def main():\r\n        jvm = JavaGateway().jvm\r\n        myadd = jvm.com.littlely.AddNum()\r\n        print(myadd.add(40.0, 80.0))\r\n\r\n\r\n    if __name__ == &quot;__main__&quot;:\r\n        main()\r\n\r\n\r\nI have add the main-class to the manifest.MF file, what is wrong with it? How can I deal with it, and I&#39;m new to java, please give me an example.\r\n\r\n\r\n","title":"Py4j Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: py4j/GatewayServer","body":"<p>I want python to call java method using py4j, when I packaged the java file as jar, and run in windows, it went wrong:</p>\n\n<pre><code>&gt;java -jar spark-1.0-SNAPSHOT.jar\n\nException in thread \"main\" java.lang.NoClassDefFoundError: py4j/GatewayServer\n    at com.littlely.AddNum.main(AddNum.java:11)\nCaused by: java.lang.ClassNotFoundException: py4j.GatewayServer\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    ... 1 more\n</code></pre>\n\n<p>the java:</p>\n\n<pre><code>package com.littlely;\nimport py4j.GatewayServer;\n\npublic class AddNum{\n    public float add(float a, float b){\n        return a + b;\n}\n\n    public static void main(String[] args) {\n        GatewayServer server = new GatewayServer(new AddNum());\n        server.start();\n        System.out.println(\"server started!\");\n}}\n</code></pre>\n\n<p>the python:</p>\n\n<pre><code>from py4j.java_gateway import JavaGateway\n\ndef main():\n    jvm = JavaGateway().jvm\n    myadd = jvm.com.littlely.AddNum()\n    print(myadd.add(40.0, 80.0))\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>I have add the main-class to the manifest.MF file, what is wrong with it? How can I deal with it, and I'm new to java, please give me an example.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1668008226,"post_id":74376979,"comment_id":131304498,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":18002275,"reputation":1,"user_id":13083960,"display_name":"paolo_1955"},"score":0,"creation_date":1668265073,"post_id":74376979,"comment_id":131365676,"body_markdown":"I am using android studio Dolphin  2021.3.1 Patch 1, using the supplied primary/details template. I found the folllowing code in the main activity:","body":"I am using android studio Dolphin  2021.3.1 Patch 1, using the supplied primary/details template. I found the folllowing code in the main activity:"}],"answers":[{"comments":[{"owner":{"account_id":18002275,"reputation":1,"user_id":13083960,"display_name":"paolo_1955"},"score":0,"creation_date":1668265815,"post_id":74377073,"comment_id":131365841,"body_markdown":"thanks @TheLil,\nI found the code in the supplied template Primary/detail in android studio  Dolphin | 2021.3.1 Patch 1.\nthe code is the following:\n&#39;&#39;&#39;","body":"thanks @TheLil, I found the code in the supplied template Primary/detail in android studio  Dolphin | 2021.3.1 Patch 1. the code is the following: &#39;&#39;&#39;"}],"tags":[],"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668006398,"creation_date":1668006398,"answer_id":74377073,"question_id":74376979,"body_markdown":"It looks like the project is using `DataBinding`. Classes `*DataBinding` are not classes(in core meaning) but they are layout resources for which the binding is generated.\r\n\r\nFor your case, it is `activity_item_detail.xml`","title":"using fragment following the template primary/details on android studio","body":"<p>It looks like the project is using <code>DataBinding</code>. Classes <code>*DataBinding</code> are not classes(in core meaning) but they are layout resources for which the binding is generated.</p>\n<p>For your case, it is <code>activity_item_detail.xml</code></p>\n"}],"owner":{"account_id":18002275,"reputation":1,"user_id":13083960,"display_name":"paolo_1955"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668268042,"creation_date":1668006045,"question_id":74376979,"body_markdown":"I tried using the template primary/details in Android studio.\r\nin the first rows I found in ItemDetailsHostActivity the element &quot;ActivityItemDetailBinding&quot; in onCreate method, but I have not found docs about that class, neither in android.developers nor in google.\r\nsomeone can explain me the use and where  found docs?.\r\nthanks\r\n\r\nP.B.\r\n\r\nI try using fragment and I would like some suggestions to understand in code found in template\r\n\r\nI found the code in the supplied template Primary/detail in android studio  Dolphin | 2021.3.1 Patch 1.\r\nthe code is the following:\r\n    \r\n```\r\npublic class ItemDetailHostActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        ActivityItemDetailBinding binding = ActivityItemDetailBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        NavHostFragment navHostFragment = (NavHostFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.nav_host_fragment_item_detail);\r\n        NavController navController = navHostFragment.getNavController();\r\n        AppBarConfiguration appBarConfiguration = new AppBarConfiguration.\r\n                Builder(navController.getGraph())\r\n                .build();\r\n\r\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\r\n    }\r\n```\r\n\r\nthe xml file is:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/container&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n        \r\n    &lt;androidx.fragment.app.FragmentContainerView\r\n        android:id=&quot;@+id/nav_host_fragment_item_detail&quot;\r\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:defaultNavHost=&quot;true&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:navGraph=&quot;@navigation/primary_details_nav_graph&quot;\r\n        tools:layout=&quot;@layout/fragment_item_detail&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\nI do not understand what is:\r\n\r\nActivityItemDetailBinding binding = ActivityItemDetailBinding.inflate(getLayoutInflater());\r\n\r\nit seems a class, but where are the docs?.\r\nif it is a resource..I don&#39;t understand where to find the related information.\r\n\r\nI am new to android programming, although i know java and c ++ quite well. i&#39;m new in stackoverflow too and i apologize if i&#39;m breaking any post management rules..\r\nthanks","title":"using fragment following the template primary/details on android studio","body":"<p>I tried using the template primary/details in Android studio.\nin the first rows I found in ItemDetailsHostActivity the element &quot;ActivityItemDetailBinding&quot; in onCreate method, but I have not found docs about that class, neither in android.developers nor in google.\nsomeone can explain me the use and where  found docs?.\nthanks</p>\n<p>P.B.</p>\n<p>I try using fragment and I would like some suggestions to understand in code found in template</p>\n<p>I found the code in the supplied template Primary/detail in android studio  Dolphin | 2021.3.1 Patch 1.\nthe code is the following:</p>\n<pre><code>public class ItemDetailHostActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        ActivityItemDetailBinding binding = ActivityItemDetailBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        NavHostFragment navHostFragment = (NavHostFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.nav_host_fragment_item_detail);\n        NavController navController = navHostFragment.getNavController();\n        AppBarConfiguration appBarConfiguration = new AppBarConfiguration.\n                Builder(navController.getGraph())\n                .build();\n\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\n    }\n</code></pre>\n<p>the xml file is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n        \n    &lt;androidx.fragment.app.FragmentContainerView\n        android:id=&quot;@+id/nav_host_fragment_item_detail&quot;\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:defaultNavHost=&quot;true&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:navGraph=&quot;@navigation/primary_details_nav_graph&quot;\n        tools:layout=&quot;@layout/fragment_item_detail&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<p>I do not understand what is:</p>\n<p>ActivityItemDetailBinding binding = ActivityItemDetailBinding.inflate(getLayoutInflater());</p>\n<p>it seems a class, but where are the docs?.\nif it is a resource..I don't understand where to find the related information.</p>\n<p>I am new to android programming, although i know java and c ++ quite well. i'm new in stackoverflow too and i apologize if i'm breaking any post management rules..\nthanks</p>\n"},{"tags":["java","hibernate","jdbc","quarkus"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668268187,"post_id":74414239,"comment_id":131366359,"body_markdown":"You just need a connection, right? No injectable bean? If so, this has nothing to do with quarkus and is outlined in the [JDBC Documentation of postgres (`jdbc.postgres.org`)](https://jdbc.postgresql.org/documentation/use/).","body":"You just need a connection, right? No injectable bean? If so, this has nothing to do with quarkus and is outlined in the <a href=\"https://jdbc.postgresql.org/documentation/use/\" rel=\"nofollow noreferrer\">JDBC Documentation of postgres (<code>jdbc.postgres.org</code>)</a>."},{"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"score":0,"creation_date":1668268393,"post_id":74414239,"comment_id":131366408,"body_markdown":"@Turing85 I suppose you are right, i was just wondering if i was missing something obvious here. It felt so &quot;hacky&quot; to just make a raw JDBC connection, but at the end of the day not everything needs to be abstracted away behind complex frameworks.","body":"@Turing85 I suppose you are right, i was just wondering if i was missing something obvious here. It felt so &quot;hacky&quot; to just make a raw JDBC connection, but at the end of the day not everything needs to be abstracted away behind complex frameworks."},{"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"score":0,"creation_date":1668268448,"post_id":74414239,"comment_id":131366416,"body_markdown":"I guess i need to find out where the driver class is sitting hibernate is using, but maybe that is something about hibernate API rather than Quarkus as well.","body":"I guess i need to find out where the driver class is sitting hibernate is using, but maybe that is something about hibernate API rather than Quarkus as well."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668268718,"post_id":74414239,"comment_id":131366472,"body_markdown":"I am confused. You said you wanted a `Connection`, and by using the postgres driver directly, we can create a `Connection`. What exactly do you mean by the &quot;*driver class [...] hibernate is using*&quot;? The driver class is loaded explicitly. In our `pom.xml`, we should see a dependency to `quarkus-jdbc-postgresql`.","body":"I am confused. You said you wanted a <code>Connection</code>, and by using the postgres driver directly, we can create a <code>Connection</code>. What exactly do you mean by the &quot;<i>driver class [...] hibernate is using</i>&quot;? The driver class is loaded explicitly. In our <code>pom.xml</code>, we should see a dependency to <code>quarkus-jdbc-postgresql</code>."}],"owner":{"account_id":2243576,"reputation":407,"user_id":1977508,"accept_rate":50,"display_name":"Furious Gamer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668267226,"creation_date":1668267226,"question_id":74414239,"body_markdown":"I have a java REST API application using Quarkus as the framework. The application uses a PostgreSQL database, which is configured via the *application.properties* config file for hibernate entities (using &quot;quarkus-hibernate-orm&quot; module) etc. However, there are cases where i will have to dynamically connect to a remote database (connection info will be supplied by parameters) to read and write data from during runtime as well. How do i go about this the best way with Quarkus? For simplicity reasons we can assume that the remote databases are of the same type (PostgreSQL) so we don&#39;t have to worry about whether the correct driver is locally available or not. \r\n\r\nIs there something provided by Quarkus or the environment to establish these connections and read/write? i dont need an ORM layer here necessarily, as i may not know the structure beforehand either. Simple queries are also sufficient. When i try to research this subject i can only get information about static hibernate or datasource configurations in Quarkus, but i won&#39;t know what they look like beforehand. Basically, is there some kind of &quot;db connection provider&quot; etc. i should use or do i simply have to manually create new plain JDBC connections in my own code for it?","title":"Create new database connections in Quarkus during runtime","body":"<p>I have a java REST API application using Quarkus as the framework. The application uses a PostgreSQL database, which is configured via the <em>application.properties</em> config file for hibernate entities (using &quot;quarkus-hibernate-orm&quot; module) etc. However, there are cases where i will have to dynamically connect to a remote database (connection info will be supplied by parameters) to read and write data from during runtime as well. How do i go about this the best way with Quarkus? For simplicity reasons we can assume that the remote databases are of the same type (PostgreSQL) so we don't have to worry about whether the correct driver is locally available or not.</p>\n<p>Is there something provided by Quarkus or the environment to establish these connections and read/write? i dont need an ORM layer here necessarily, as i may not know the structure beforehand either. Simple queries are also sufficient. When i try to research this subject i can only get information about static hibernate or datasource configurations in Quarkus, but i won't know what they look like beforehand. Basically, is there some kind of &quot;db connection provider&quot; etc. i should use or do i simply have to manually create new plain JDBC connections in my own code for it?</p>\n"},{"tags":["java","httpurlconnection"],"comments":[{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1552575263,"post_id":496651,"comment_id":97070431,"body_markdown":"Check here:https://stackoverflow.com/questions/1359689/how-to-send-http-request-in-java","body":"Check here:<a href=\"https://stackoverflow.com/questions/1359689/how-to-send-http-request-in-java\" title=\"how to send http request in java\">stackoverflow.com/questions/1359689/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":258084,"reputation":428,"user_id":540028,"accept_rate":100,"display_name":"Fuchida"},"score":2,"creation_date":1399482091,"post_id":496707,"comment_id":36083607,"body_markdown":"The above code works but is quite implicit as to whats going on.\nThere&#39;s subclassing and method overriding going on there, dig into the docs for those classes if you care to know what&#39;s going on.\nThe code here is more explicit [javacodegeeks](http://examples.javacodegeeks.com/core-java/net/authenticator/access-password-protected-url-with-authenticator/)","body":"The above code works but is quite implicit as to whats going on. There&#39;s subclassing and method overriding going on there, dig into the docs for those classes if you care to know what&#39;s going on. The code here is more explicit <a href=\"http://examples.javacodegeeks.com/core-java/net/authenticator/access-password-protected-url-with-authenticator/\" rel=\"nofollow noreferrer\">javacodegeeks</a>"},{"owner":{"account_id":1079937,"reputation":3752,"user_id":1077177,"accept_rate":86,"display_name":"Yuriy Nakonechnyy"},"score":13,"creation_date":1446124984,"post_id":496707,"comment_id":54620440,"body_markdown":"Is it possible to set specific `Authenticator` per specific `URL.openConnection()` invocation rather than setting it globally?","body":"Is it possible to set specific <code>Authenticator</code> per specific <code>URL.openConnection()</code> invocation rather than setting it globally?"},{"owner":{"account_id":174918,"reputation":13396,"user_id":404568,"accept_rate":45,"display_name":"David Given"},"score":0,"creation_date":1496069168,"post_id":496707,"comment_id":75499162,"body_markdown":"@Yura: no. It&#39;s got to be global. You can, however, do evil things such as setting a global authenticator which pulls the credentials out of thread-local variables, and set the credentials per thread before making the HTTP connection.","body":"@Yura: no. It&#39;s got to be global. You can, however, do evil things such as setting a global authenticator which pulls the credentials out of thread-local variables, and set the credentials per thread before making the HTTP connection."},{"owner":{"account_id":2494354,"reputation":379,"user_id":2171179,"display_name":"Punyapat"},"score":0,"creation_date":1531998758,"post_id":496707,"comment_id":89813211,"body_markdown":"You can do this: `connection.setAuthenticator(...)`","body":"You can do this: <code>connection.setAuthenticator(...)</code>"},{"owner":{"account_id":124062,"reputation":23813,"user_id":318921,"accept_rate":67,"display_name":"Neil Bartlett"},"score":4,"creation_date":1565360253,"post_id":496707,"comment_id":101342033,"body_markdown":"In response to @YuriyNakonechnyy... if you are using Java 9 or above then you can call `HttpURLConnection.setAuthenticator()`. Unfortunately on Java 8 and earlier, the Authenticator instance is a JVM-wide global variable. See: https://docs.oracle.com/javase/9/docs/api/java/net/HttpURLConnection.html#setAuthenticator-java.net.Authenticator-","body":"In response to @YuriyNakonechnyy... if you are using Java 9 or above then you can call <code>HttpURLConnection.setAuthenticator()</code>. Unfortunately on Java 8 and earlier, the Authenticator instance is a JVM-wide global variable. See: <a href=\"https://docs.oracle.com/javase/9/docs/api/java/net/HttpURLConnection.html#setAuthenticator-java.net.Authenticator-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/9/docs/api/java/net/&hellip;</a>"}],"tags":[],"owner":{"account_id":15190,"reputation":5491,"user_id":31828,"display_name":"James Van Huis"},"comment_count":5,"down_vote_count":4,"up_vote_count":146,"is_accepted":true,"score":142,"last_activity_date":1233341890,"creation_date":1233341475,"answer_id":496707,"question_id":496651,"body_markdown":"You can set the default authenticator for http requests like this:\r\n\r\n    Authenticator.setDefault (new Authenticator() {\r\n        protected PasswordAuthentication getPasswordAuthentication() {\r\n            return new PasswordAuthentication (&quot;username&quot;, &quot;password&quot;.toCharArray());\r\n        }\r\n    });\r\n\r\nAlso, if you require more flexibility, you can check out the [Apache HttpClient][1], which will give you more authentication options (as well as session support, etc.)\r\n\r\n\r\n  [1]: http://hc.apache.org/httpclient-3.x/","title":"Connecting to remote URL which requires authentication using Java","body":"<p>You can set the default authenticator for http requests like this:</p>\n\n<pre><code>Authenticator.setDefault (new Authenticator() {\n    protected PasswordAuthentication getPasswordAuthentication() {\n        return new PasswordAuthentication (\"username\", \"password\".toCharArray());\n    }\n});\n</code></pre>\n\n<p>Also, if you require more flexibility, you can check out the <a href=\"http://hc.apache.org/httpclient-3.x/\" rel=\"noreferrer\">Apache HttpClient</a>, which will give you more authentication options (as well as session support, etc.)</p>\n"},{"comments":[{"owner":{"account_id":88507,"reputation":4193,"user_id":244744,"accept_rate":33,"display_name":"Matthew Buckett"},"score":6,"creation_date":1304941511,"post_id":5137446,"comment_id":6840726,"body_markdown":"The Base64 class can be provided by Apache Commons Codec.","body":"The Base64 class can be provided by Apache Commons Codec."},{"owner":{"account_id":43995,"reputation":2927,"user_id":128857,"display_name":"Wanderson Santos"},"score":0,"creation_date":1346558024,"post_id":5137446,"comment_id":16394001,"body_markdown":"It&#39;s &#39;native&#39; on Grails and many other Java frameworks because them all use Apache Commons Libs.","body":"It&#39;s &#39;native&#39; on Grails and many other Java frameworks because them all use Apache Commons Libs."},{"owner":{"account_id":7433,"reputation":24739,"user_id":12916,"accept_rate":23,"display_name":"Jesse Glick"},"score":1,"creation_date":1368111659,"post_id":5137446,"comment_id":23621554,"body_markdown":"Does not work in general unless you `.trim()` the result, or call a method variant that does not produce chunked output. `javax.xml.bind.DatatypeConverter` seems safer.","body":"Does not work in general unless you <code>.trim()</code> the result, or call a method variant that does not produce chunked output. <code>javax.xml.bind.DatatypeConverter</code> seems safer."},{"owner":{"account_id":2394625,"reputation":8444,"user_id":2093695,"accept_rate":100,"display_name":"Brian McCutchon"},"score":0,"creation_date":1487527156,"post_id":5137446,"comment_id":71814085,"body_markdown":"Shouldn&#39;t you be storing the password in a `char[]`? http://stackoverflow.com/questions/8881291/why-is-char-preferred-over-string-for-passwords#8881376","body":"Shouldn&#39;t you be storing the password in a <code>char[]</code>? <a href=\"http://stackoverflow.com/questions/8881291/why-is-char-preferred-over-string-for-passwords#8881376\" title=\"why is char preferred over string for passwords%238881376\">stackoverflow.com/questions/8881291/&hellip;</a>"},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1515031941,"post_id":5137446,"comment_id":83150400,"body_markdown":"The native Base64 encoding was flawed until Java 8 so it might explain why it wasn&#39;t working on some configurations before.","body":"The native Base64 encoding was flawed until Java 8 so it might explain why it wasn&#39;t working on some configurations before."},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1515032135,"post_id":5137446,"comment_id":83150438,"body_markdown":"@BrianMcCutchon yes if you&#39;re using it internally for some other purpose. But as i&#39;s probably stored somewhere in plain text... You could use it as a `byte[]` though, along with the username and pass the whole thing to Base64 encoding to make it more &quot;secure&quot;.","body":"@BrianMcCutchon yes if you&#39;re using it internally for some other purpose. But as i&#39;s probably stored somewhere in plain text... You could use it as a <code>byte[]</code> though, along with the username and pass the whole thing to Base64 encoding to make it more &quot;secure&quot;."}],"tags":[],"owner":{"account_id":43995,"reputation":2927,"user_id":128857,"display_name":"Wanderson Santos"},"comment_count":6,"down_vote_count":2,"up_vote_count":150,"is_accepted":false,"score":148,"last_activity_date":1528009214,"creation_date":1298857349,"answer_id":5137446,"question_id":496651,"body_markdown":"There&#39;s a native and less intrusive alternative, which works only for your call.\r\n\r\n    URL url = new URL(“location address”);\r\n    URLConnection uc = url.openConnection();\r\n    String userpass = username + &quot;:&quot; + password;\r\n    String basicAuth = &quot;Basic &quot; + new String(Base64.getEncoder().encode(userpass.getBytes()));\r\n    uc.setRequestProperty (&quot;Authorization&quot;, basicAuth);\r\n    InputStream in = uc.getInputStream();","title":"Connecting to remote URL which requires authentication using Java","body":"<p>There's a native and less intrusive alternative, which works only for your call.</p>\n\n<pre><code>URL url = new URL(“location address”);\nURLConnection uc = url.openConnection();\nString userpass = username + \":\" + password;\nString basicAuth = \"Basic \" + new String(Base64.getEncoder().encode(userpass.getBytes()));\nuc.setRequestProperty (\"Authorization\", basicAuth);\nInputStream in = uc.getInputStream();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":223552,"reputation":7070,"user_id":482828,"accept_rate":100,"display_name":"Ed Randall"},"score":0,"creation_date":1566111688,"post_id":12603622,"comment_id":101548383,"body_markdown":"Note that for Java9+ you&#39;ll probably have to `--add-modules javax.xml.bind` since they removed the package from the default classpath.  And in Java11+ it&#39;s removed altogether, you need an external dependency again.  Such is progress!","body":"Note that for Java9+ you&#39;ll probably have to <code>--add-modules javax.xml.bind</code> since they removed the package from the default classpath.  And in Java11+ it&#39;s removed altogether, you need an external dependency again.  Such is progress!"}],"tags":[],"owner":{"account_id":543885,"reputation":931,"user_id":913153,"display_name":"gloo"},"comment_count":1,"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1348668917,"creation_date":1348668505,"answer_id":12603622,"question_id":496651,"body_markdown":"You can also use the following, which does not require using external packages:\r\n\r\n    URL url = new URL(“location address”);\r\n    URLConnection uc = url.openConnection();\r\n\r\n    String userpass = username + &quot;:&quot; + password;\r\n    String basicAuth = &quot;Basic &quot; + javax.xml.bind.DatatypeConverter.printBase64Binary(userpass.getBytes());\r\n\r\n    uc.setRequestProperty (&quot;Authorization&quot;, basicAuth);\r\n    InputStream in = uc.getInputStream();","title":"Connecting to remote URL which requires authentication using Java","body":"<p>You can also use the following, which does not require using external packages:</p>\n\n<pre><code>URL url = new URL(“location address”);\nURLConnection uc = url.openConnection();\n\nString userpass = username + \":\" + password;\nString basicAuth = \"Basic \" + javax.xml.bind.DatatypeConverter.printBase64Binary(userpass.getBytes());\n\nuc.setRequestProperty (\"Authorization\", basicAuth);\nInputStream in = uc.getInputStream();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1360719,"reputation":9063,"user_id":1298153,"accept_rate":100,"display_name":"m01"},"score":0,"creation_date":1492722889,"post_id":13122190,"comment_id":74112757,"body_markdown":"If your username/password contain special characters, I believe you would need to urlencode those. Then, in the snippet of code above, you would pass `url.getUserInfo()` thorugh `URLDecoder.decode()` first (@Peter Rader).","body":"If your username/password contain special characters, I believe you would need to urlencode those. Then, in the snippet of code above, you would pass <code>url.getUserInfo()</code> thorugh <code>URLDecoder.decode()</code> first (@Peter Rader)."},{"owner":{"account_id":1268962,"reputation":4245,"user_id":1225669,"accept_rate":64,"display_name":"valerybodak"},"score":0,"creation_date":1589795623,"post_id":13122190,"comment_id":109424907,"body_markdown":"Thanks, but for android you should use Base64 as following: String basicAuth = &quot;Basic &quot; + Base64.encodeToString(url.getUserInfo().getBytes(), Base64.DEFAULT);\n                    httpConn.setRequestProperty(&quot;Authorization&quot;, basicAuth);","body":"Thanks, but for android you should use Base64 as following: String basicAuth = &quot;Basic &quot; + Base64.encodeToString(url.getUserInfo().getBytes(), Base64.DEFAULT);                     httpConn.setRequestProperty(&quot;Authorization&quot;, basicAuth);"}],"tags":[],"owner":{"account_id":1988279,"reputation":7009,"user_id":1782954,"accept_rate":71,"display_name":"javabeangrinder"},"comment_count":2,"down_vote_count":1,"up_vote_count":49,"is_accepted":false,"score":48,"last_activity_date":1657032624,"creation_date":1351515612,"answer_id":13122190,"question_id":496651,"body_markdown":"If you are using the normal login whilst entering the username and password between the protocol and the domain this is simpler. It also works with and without login.\r\n\r\nSample URL: http://user:pass@example.com/url\r\n\r\n    URL url = new URL(&quot;http://user:pass@example.com/url&quot;);\r\n    URLConnection urlConnection = url.openConnection();\r\n\r\n    if (url.getUserInfo() != null) {\r\n    \tString basicAuth = &quot;Basic &quot; + new String(new Base64().encode(url.getUserInfo().getBytes()));\r\n    \turlConnection.setRequestProperty(&quot;Authorization&quot;, basicAuth);\r\n    }\r\n\r\n    InputStream inputStream = urlConnection.getInputStream();\r\n\r\nPlease note in the comment, from valerybodak, below how it is done in an Android development environment.","title":"Connecting to remote URL which requires authentication using Java","body":"<p>If you are using the normal login whilst entering the username and password between the protocol and the domain this is simpler. It also works with and without login.</p>\n<p>Sample URL: http://user:pass@example.com/url</p>\n<pre><code>URL url = new URL(&quot;http://user:pass@example.com/url&quot;);\nURLConnection urlConnection = url.openConnection();\n\nif (url.getUserInfo() != null) {\n    String basicAuth = &quot;Basic &quot; + new String(new Base64().encode(url.getUserInfo().getBytes()));\n    urlConnection.setRequestProperty(&quot;Authorization&quot;, basicAuth);\n}\n\nInputStream inputStream = urlConnection.getInputStream();\n</code></pre>\n<p>Please note in the comment, from valerybodak, below how it is done in an Android development environment.</p>\n"},{"tags":[],"owner":{"account_id":3490255,"reputation":969,"user_id":2920131,"display_name":"Lucien Boix"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1402007014,"creation_date":1402007014,"answer_id":24071189,"question_id":496651,"body_markdown":"Be really careful with the &quot;Base64().encode()&quot;approach, my team and I got 400 Apache bad request issues because it adds a \\r\\n at the end of the string generated.\r\n\r\nWe found it sniffing packets thanks to Wireshark.\r\n\r\nHere is our solution :\r\n\r\n    import org.apache.commons.codec.binary.Base64;\r\n\r\n    HttpGet getRequest = new HttpGet(endpoint);\r\n    getRequest.addHeader(&quot;Authorization&quot;, &quot;Basic &quot; + getBasicAuthenticationEncoding());\r\n    \r\n    private String getBasicAuthenticationEncoding() {\r\n    \r\n            String userPassword = username + &quot;:&quot; + password;\r\n            return new String(Base64.encodeBase64(userPassword.getBytes()));\r\n        }\r\n\r\nHope it helps!","title":"Connecting to remote URL which requires authentication using Java","body":"<p>Be really careful with the \"Base64().encode()\"approach, my team and I got 400 Apache bad request issues because it adds a \\r\\n at the end of the string generated.</p>\n\n<p>We found it sniffing packets thanks to Wireshark.</p>\n\n<p>Here is our solution :</p>\n\n<pre><code>import org.apache.commons.codec.binary.Base64;\n\nHttpGet getRequest = new HttpGet(endpoint);\ngetRequest.addHeader(\"Authorization\", \"Basic \" + getBasicAuthenticationEncoding());\n\nprivate String getBasicAuthenticationEncoding() {\n\n        String userPassword = username + \":\" + password;\n        return new String(Base64.encodeBase64(userPassword.getBytes()));\n    }\n</code></pre>\n\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":4964872,"reputation":1022,"user_id":3994580,"display_name":"DaniEll"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1657032652,"creation_date":1417862561,"answer_id":27330777,"question_id":496651,"body_markdown":"As I have came here looking for an Android-Java-Answer I am going to do a short summary:\r\n\r\n 1. Use *java.net.Authenticator* as shown by [James van Huis][1]\r\n 2. Use *Apache Commons HTTP Client*, as in [this Answer][2]\r\n 3. Use basic *java.net.URLConnection* and set the Authentication-Header manually like shown [here][3]\r\n\r\nIf you want to use *java.net.URLConnection* with Basic Authentication in **Android** try this code:\r\n\r\n    URL url = new URL(&quot;http://www.example.com/resource&quot;);\r\n\tURLConnection urlConnection = url.openConnection();\r\n\tString header = &quot;Basic &quot; + new String(android.util.Base64.encode(&quot;user:pass&quot;.getBytes(), android.util.Base64.NO_WRAP));\r\n\turlConnection.addRequestProperty(&quot;Authorization&quot;, header);\r\n\t// go on setting more request headers, reading the response, etc\r\n\r\n  [1]: https://stackoverflow.com/a/496707\r\n  [2]: https://stackoverflow.com/a/24071189\r\n  [3]: https://stackoverflow.com/a/5137446","title":"Connecting to remote URL which requires authentication using Java","body":"<p>As I have came here looking for an Android-Java-Answer I am going to do a short summary:</p>\n<ol>\n<li>Use <em>java.net.Authenticator</em> as shown by <a href=\"https://stackoverflow.com/a/496707\">James van Huis</a></li>\n<li>Use <em>Apache Commons HTTP Client</em>, as in <a href=\"https://stackoverflow.com/a/24071189\">this Answer</a></li>\n<li>Use basic <em>java.net.URLConnection</em> and set the Authentication-Header manually like shown <a href=\"https://stackoverflow.com/a/5137446\">here</a></li>\n</ol>\n<p>If you want to use <em>java.net.URLConnection</em> with Basic Authentication in <strong>Android</strong> try this code:</p>\n<pre><code>URL url = new URL(&quot;http://www.example.com/resource&quot;);\nURLConnection urlConnection = url.openConnection();\nString header = &quot;Basic &quot; + new String(android.util.Base64.encode(&quot;user:pass&quot;.getBytes(), android.util.Base64.NO_WRAP));\nurlConnection.addRequestProperty(&quot;Authorization&quot;, header);\n// go on setting more request headers, reading the response, etc\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7862760,"reputation":4624,"user_id":5942579,"accept_rate":74,"display_name":"Emmanuel Mtali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481843711,"creation_date":1481843058,"answer_id":41174761,"question_id":496651,"body_markdown":"**ANDROD IMPLEMENTATION**\r\nA complete method to request data/string response from web service requesting authorization with username and password\r\n\r\n    public static String getData(String uri, String userName, String userPassword) {\r\n            BufferedReader reader = null;\r\n            byte[] loginBytes = (userName + &quot;:&quot; + userPassword).getBytes();\r\n    \r\n            StringBuilder loginBuilder = new StringBuilder()\r\n                    .append(&quot;Basic &quot;)\r\n                    .append(Base64.encodeToString(loginBytes, Base64.DEFAULT));\r\n    \r\n            try {\r\n                URL url = new URL(uri);\r\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n                connection.addRequestProperty(&quot;Authorization&quot;, loginBuilder.toString());\r\n    \r\n                StringBuilder sb = new StringBuilder();\r\n                reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n                String line;\r\n                while ((line = reader.readLine())!= null){\r\n                    sb.append(line);\r\n                    sb.append(&quot;\\n&quot;);\r\n                }\r\n    \r\n                return  sb.toString();\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            } finally {\r\n                if (null != reader){\r\n                    try {\r\n                        reader.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n   ","title":"Connecting to remote URL which requires authentication using Java","body":"<p><strong>ANDROD IMPLEMENTATION</strong>\nA complete method to request data/string response from web service requesting authorization with username and password</p>\n\n<pre><code>public static String getData(String uri, String userName, String userPassword) {\n        BufferedReader reader = null;\n        byte[] loginBytes = (userName + \":\" + userPassword).getBytes();\n\n        StringBuilder loginBuilder = new StringBuilder()\n                .append(\"Basic \")\n                .append(Base64.encodeToString(loginBytes, Base64.DEFAULT));\n\n        try {\n            URL url = new URL(uri);\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n            connection.addRequestProperty(\"Authorization\", loginBuilder.toString());\n\n            StringBuilder sb = new StringBuilder();\n            reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n            String line;\n            while ((line = reader.readLine())!= null){\n                sb.append(line);\n                sb.append(\"\\n\");\n            }\n\n            return  sb.toString();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        } finally {\n            if (null != reader){\n                try {\n                    reader.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9281243,"reputation":43,"user_id":6892380,"display_name":"Sarith Nob"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1496044680,"creation_date":1496044680,"answer_id":44237347,"question_id":496651,"body_markdown":"Use this code for basic authentication.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    URL url = new URL(path);\r\n    String userPass = &quot;username:password&quot;;\r\n    String basicAuth = &quot;Basic &quot; + Base64.encodeToString(userPass.getBytes(), Base64.DEFAULT);//or\r\n    //String basicAuth = &quot;Basic &quot; + new String(Base64.encode(userPass.getBytes(), Base64.No_WRAP));\r\n    HttpURLConnection urlConnection = (HttpURLConnection)url.openConnection();\r\n    urlConnection.setRequestProperty(&quot;Authorization&quot;, basicAuth);\r\n    urlConnection.connect();\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Connecting to remote URL which requires authentication using Java","body":"<p>Use this code for basic authentication.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>URL url = new URL(path);\r\nString userPass = \"username:password\";\r\nString basicAuth = \"Basic \" + Base64.encodeToString(userPass.getBytes(), Base64.DEFAULT);//or\r\n//String basicAuth = \"Basic \" + new String(Base64.encode(userPass.getBytes(), Base64.No_WRAP));\r\nHttpURLConnection urlConnection = (HttpURLConnection)url.openConnection();\r\nurlConnection.setRequestProperty(\"Authorization\", basicAuth);\r\nurlConnection.connect();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":3921864,"reputation":758,"user_id":3243751,"display_name":"FLUXparticle"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1535718635,"creation_date":1514821713,"answer_id":48051026,"question_id":496651,"body_markdown":"I&#39;d like to provide an answer for the case that you do not have control over the code that opens the connection. Like I did when using the `URLClassLoader` to load a jar file from a password protected server.\r\n\r\nThe `Authenticator` solution would work but has the drawback that it first tries to reach the server without a password and only after the server asks for a password provides one. That&#39;s an unnecessary roundtrip if you already know the server would need a password.\r\n\r\n    public class MyStreamHandlerFactory implements URLStreamHandlerFactory {\r\n    \r\n        private final ServerInfo serverInfo;\r\n    \r\n        public MyStreamHandlerFactory(ServerInfo serverInfo) {\r\n            this.serverInfo = serverInfo;\r\n        }\r\n    \r\n        @Override\r\n        public URLStreamHandler createURLStreamHandler(String protocol) {\r\n            switch (protocol) {\r\n                case &quot;my&quot;:\r\n                    return new MyStreamHandler(serverInfo);\r\n                default:\r\n                    return null;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n    public class MyStreamHandler extends URLStreamHandler {\r\n    \r\n        private final String encodedCredentials;\r\n    \r\n        public MyStreamHandler(ServerInfo serverInfo) {\r\n            String strCredentials = serverInfo.getUsername() + &quot;:&quot; + serverInfo.getPassword();\r\n            this.encodedCredentials = Base64.getEncoder().encodeToString(strCredentials.getBytes());\r\n        }\r\n    \r\n        @Override\r\n        protected URLConnection openConnection(URL url) throws IOException {\r\n            String authority = url.getAuthority();\r\n            String protocol = &quot;http&quot;;\r\n            URL directUrl = new URL(protocol, url.getHost(), url.getPort(), url.getFile());\r\n    \r\n            HttpURLConnection connection = (HttpURLConnection) directUrl.openConnection();\r\n            connection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot; + encodedCredentials);\r\n    \r\n            return connection;\r\n        }\r\n    \r\n    }\r\n    \r\nThis registers a new protocol `my` that is replaced by `http` when credentials are added. So when creating the new `URLClassLoader` just replace `http` with `my` and everything is fine. I know `URLClassLoader` provides a constructor that takes an `URLStreamHandlerFactory` but this factory is not used if the URL points to a jar file.","title":"Connecting to remote URL which requires authentication using Java","body":"<p>I'd like to provide an answer for the case that you do not have control over the code that opens the connection. Like I did when using the <code>URLClassLoader</code> to load a jar file from a password protected server.</p>\n\n<p>The <code>Authenticator</code> solution would work but has the drawback that it first tries to reach the server without a password and only after the server asks for a password provides one. That's an unnecessary roundtrip if you already know the server would need a password.</p>\n\n<pre><code>public class MyStreamHandlerFactory implements URLStreamHandlerFactory {\n\n    private final ServerInfo serverInfo;\n\n    public MyStreamHandlerFactory(ServerInfo serverInfo) {\n        this.serverInfo = serverInfo;\n    }\n\n    @Override\n    public URLStreamHandler createURLStreamHandler(String protocol) {\n        switch (protocol) {\n            case \"my\":\n                return new MyStreamHandler(serverInfo);\n            default:\n                return null;\n        }\n    }\n\n}\n\npublic class MyStreamHandler extends URLStreamHandler {\n\n    private final String encodedCredentials;\n\n    public MyStreamHandler(ServerInfo serverInfo) {\n        String strCredentials = serverInfo.getUsername() + \":\" + serverInfo.getPassword();\n        this.encodedCredentials = Base64.getEncoder().encodeToString(strCredentials.getBytes());\n    }\n\n    @Override\n    protected URLConnection openConnection(URL url) throws IOException {\n        String authority = url.getAuthority();\n        String protocol = \"http\";\n        URL directUrl = new URL(protocol, url.getHost(), url.getPort(), url.getFile());\n\n        HttpURLConnection connection = (HttpURLConnection) directUrl.openConnection();\n        connection.setRequestProperty(\"Authorization\", \"Basic \" + encodedCredentials);\n\n        return connection;\n    }\n\n}\n</code></pre>\n\n<p>This registers a new protocol <code>my</code> that is replaced by <code>http</code> when credentials are added. So when creating the new <code>URLClassLoader</code> just replace <code>http</code> with <code>my</code> and everything is fine. I know <code>URLClassLoader</code> provides a constructor that takes an <code>URLStreamHandlerFactory</code> but this factory is not used if the URL points to a jar file.</p>\n"},{"tags":[],"owner":{"account_id":7497972,"reputation":1364,"user_id":5697474,"display_name":"Syed Danish Haider"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657032733,"creation_date":1522915043,"answer_id":49667059,"question_id":496651,"body_markdown":"i did that this way you need to do this just copy paste it be happy\r\n\r\n        HttpURLConnection urlConnection;\r\n        String url;\r\n     //   String data = json;\r\n        String result = null;\r\n        try {\r\n            String username =&quot;user@gmail.com&quot;;\r\n            String password = &quot;12345678&quot;;\r\n\r\n            String auth =new String(username + &quot;:&quot; + password);\r\n            byte[] data1 = auth.getBytes(UTF_8);\r\n            String base64 = Base64.encodeToString(data1, Base64.NO_WRAP);\r\n            //Connect\r\n            urlConnection = (HttpURLConnection) ((new URL(urlBasePath).openConnection()));\r\n            urlConnection.setDoOutput(true);\r\n            urlConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n            urlConnection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot;+base64);\r\n            urlConnection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n            urlConnection.setRequestMethod(&quot;POST&quot;);\r\n            urlConnection.setConnectTimeout(10000);\r\n            urlConnection.connect();\r\n            JSONObject obj = new JSONObject();\r\n\r\n            obj.put(&quot;MobileNumber&quot;, &quot;+97333746934&quot;);\r\n            obj.put(&quot;EmailAddress&quot;, &quot;danish.hussain@example.com&quot;);\r\n            obj.put(&quot;FirstName&quot;, &quot;Danish&quot;);\r\n            obj.put(&quot;LastName&quot;, &quot;Hussain&quot;);\r\n            obj.put(&quot;Country&quot;, &quot;BH&quot;);\r\n            obj.put(&quot;Language&quot;, &quot;EN&quot;);\r\n            String data = obj.toString();\r\n            //Write\r\n            OutputStream outputStream = urlConnection.getOutputStream();\r\n            BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(outputStream, &quot;UTF-8&quot;));\r\n            writer.write(data);\r\n            writer.close();\r\n            outputStream.close();\r\n            int responseCode=urlConnection.getResponseCode();\r\n            if (responseCode == HttpsURLConnection.HTTP_OK) {\r\n                //Read\r\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream(), &quot;UTF-8&quot;));\r\n\r\n            String line = null;\r\n            StringBuilder sb = new StringBuilder();\r\n\r\n            while ((line = bufferedReader.readLine()) != null) {\r\n                sb.append(line);\r\n            }\r\n\r\n            bufferedReader.close();\r\n            result = sb.toString();\r\n\r\n            }else {\r\n            //    return new String(&quot;false : &quot;+responseCode);\r\n            new String(&quot;false : &quot;+responseCode);\r\n            }\r\n\r\n        } catch (UnsupportedEncodingException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }","title":"Connecting to remote URL which requires authentication using Java","body":"<p>i did that this way you need to do this just copy paste it be happy</p>\n<pre><code>    HttpURLConnection urlConnection;\n    String url;\n //   String data = json;\n    String result = null;\n    try {\n        String username =&quot;user@gmail.com&quot;;\n        String password = &quot;12345678&quot;;\n\n        String auth =new String(username + &quot;:&quot; + password);\n        byte[] data1 = auth.getBytes(UTF_8);\n        String base64 = Base64.encodeToString(data1, Base64.NO_WRAP);\n        //Connect\n        urlConnection = (HttpURLConnection) ((new URL(urlBasePath).openConnection()));\n        urlConnection.setDoOutput(true);\n        urlConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        urlConnection.setRequestProperty(&quot;Authorization&quot;, &quot;Basic &quot;+base64);\n        urlConnection.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n        urlConnection.setRequestMethod(&quot;POST&quot;);\n        urlConnection.setConnectTimeout(10000);\n        urlConnection.connect();\n        JSONObject obj = new JSONObject();\n\n        obj.put(&quot;MobileNumber&quot;, &quot;+97333746934&quot;);\n        obj.put(&quot;EmailAddress&quot;, &quot;danish.hussain@example.com&quot;);\n        obj.put(&quot;FirstName&quot;, &quot;Danish&quot;);\n        obj.put(&quot;LastName&quot;, &quot;Hussain&quot;);\n        obj.put(&quot;Country&quot;, &quot;BH&quot;);\n        obj.put(&quot;Language&quot;, &quot;EN&quot;);\n        String data = obj.toString();\n        //Write\n        OutputStream outputStream = urlConnection.getOutputStream();\n        BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(outputStream, &quot;UTF-8&quot;));\n        writer.write(data);\n        writer.close();\n        outputStream.close();\n        int responseCode=urlConnection.getResponseCode();\n        if (responseCode == HttpsURLConnection.HTTP_OK) {\n            //Read\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream(), &quot;UTF-8&quot;));\n\n        String line = null;\n        StringBuilder sb = new StringBuilder();\n\n        while ((line = bufferedReader.readLine()) != null) {\n            sb.append(line);\n        }\n\n        bufferedReader.close();\n        result = sb.toString();\n\n        }else {\n        //    return new String(&quot;false : &quot;+responseCode);\n        new String(&quot;false : &quot;+responseCode);\n        }\n\n    } catch (UnsupportedEncodingException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":2,"creation_date":1552563994,"post_id":51421404,"comment_id":97062347,"body_markdown":"Haven&#39;t see `setAuthenticator()` method.","body":"Haven&#39;t see <code>setAuthenticator()</code> method."},{"owner":{"account_id":2805384,"reputation":228,"user_id":2412733,"display_name":"bigbadmouse"},"score":0,"creation_date":1686904032,"post_id":51421404,"comment_id":134865207,"body_markdown":"nor me....  I wish this were possible as the code is very tidy.","body":"nor me....  I wish this were possible as the code is very tidy."},{"owner":{"account_id":4364861,"reputation":517,"user_id":3560966,"display_name":"Paul Cuddihy"},"score":0,"creation_date":1693338820,"post_id":51421404,"comment_id":135747028,"body_markdown":"Works for me.  Clean.  I like it.","body":"Works for me.  Clean.  I like it."}],"tags":[],"owner":{"account_id":2494354,"reputation":379,"user_id":2171179,"display_name":"Punyapat"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1531999378,"creation_date":1531999378,"answer_id":51421404,"question_id":496651,"body_markdown":"Since Java 9, you can do this\r\n    \r\n    URL url = new URL(&quot;http://www.example.com&quot;);\r\n    HttpURLConnection connection = (HttpURLConnection)url.openConnection();\r\n    connection.setAuthenticator(new Authenticator() {\r\n        protected PasswordAuthentication getPasswordAuthentication() {\r\n            return new PasswordAuthentication (&quot;USER&quot;, &quot;PASS&quot;.toCharArray());\r\n        }\r\n    });","title":"Connecting to remote URL which requires authentication using Java","body":"<p>Since Java 9, you can do this</p>\n\n<pre><code>URL url = new URL(\"http://www.example.com\");\nHttpURLConnection connection = (HttpURLConnection)url.openConnection();\nconnection.setAuthenticator(new Authenticator() {\n    protected PasswordAuthentication getPasswordAuthentication() {\n        return new PasswordAuthentication (\"USER\", \"PASS\".toCharArray());\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3222171,"reputation":1361,"user_id":3192775,"accept_rate":33,"display_name":"Tim"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1553626400,"creation_date":1553626400,"answer_id":55364396,"question_id":496651,"body_markdown":"Was able to set the auth using the HttpsURLConnection \r\n           \r\n\r\n               URL myUrl = new URL(httpsURL);\r\n                HttpsURLConnection conn = (HttpsURLConnection)myUrl.openConnection();\r\n                String userpass = username + &quot;:&quot; + password;\r\n                String basicAuth = &quot;Basic &quot; + new String(Base64.getEncoder().encode(userpass.getBytes()));\r\n                //httpsurlconnection\r\n                conn.setRequestProperty(&quot;Authorization&quot;, basicAuth);\r\n\r\nfew of the changes fetched from this post. and Base64 is from java.util package.","title":"Connecting to remote URL which requires authentication using Java","body":"<p>Was able to set the auth using the HttpsURLConnection </p>\n\n<pre><code>           URL myUrl = new URL(httpsURL);\n            HttpsURLConnection conn = (HttpsURLConnection)myUrl.openConnection();\n            String userpass = username + \":\" + password;\n            String basicAuth = \"Basic \" + new String(Base64.getEncoder().encode(userpass.getBytes()));\n            //httpsurlconnection\n            conn.setRequestProperty(\"Authorization\", basicAuth);\n</code></pre>\n\n<p>few of the changes fetched from this post. and Base64 is from java.util package.</p>\n"}],"owner":{"account_id":8005,"reputation":2537,"user_id":14128,"accept_rate":33,"display_name":"user14128"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292346,"favorite_count":0,"down_vote_count":0,"up_vote_count":137,"accepted_answer_id":496707,"answer_count":12,"score":137,"last_activity_date":1668266737,"creation_date":1233340713,"question_id":496651,"body_markdown":"How do I connect to a remote URL in Java which requires authentication. I&#39;m trying to find a way to modify the following code to be able to programatically provide a username/password so it doesn&#39;t throw a 401.\r\n\r\n    URL url = new URL(String.format(&quot;http://%s/manager/list&quot;, _host + &quot;:8080&quot;));\r\n    HttpURLConnection connection = (HttpURLConnection)url.openConnection();","title":"Connecting to remote URL which requires authentication using Java","body":"<p>How do I connect to a remote URL in Java which requires authentication. I'm trying to find a way to modify the following code to be able to programatically provide a username/password so it doesn't throw a 401.</p>\n\n<pre><code>URL url = new URL(String.format(\"http://%s/manager/list\", _host + \":8080\"));\nHttpURLConnection connection = (HttpURLConnection)url.openConnection();\n</code></pre>\n"},{"tags":["java","getter-setter"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668266505,"post_id":74414125,"comment_id":131365974,"body_markdown":"For me, the question is unclear. You speak of `case 6`, but then of `case 5`. Please [edit] the post, provide a [MRE] (with input, expected and observe output) and clarify the question.","body":"For me, the question is unclear. You speak of <code>case 6</code>, but then of <code>case 5</code>. Please <a href=\"https://stackoverflow.com/posts/74414125/edit\">edit</a> the post, provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (with input, expected and observe output) and clarify the question."},{"owner":{"account_id":2678539,"reputation":1388,"user_id":2314347,"display_name":"Kurohige"},"score":0,"creation_date":1668266587,"post_id":74414125,"comment_id":131365988,"body_markdown":"a new MainChar Stats = new MainChar(); is created each time you call the southValley method","body":"a new MainChar Stats = new MainChar(); is created each time you call the southValley method"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668266722,"post_id":74414125,"comment_id":131366022,"body_markdown":"Some remarks: In Java, variable names should be writtein in `lowerCamelCase` (MainChar Stats = ...` -&gt; `MainChar stats = ...`) --- I would advice to use more descriptive variable names: `MainChar Stats` seems unintutiive. It&#39;s either some stats  or a character, using those names interchangably is confusing.","body":"Some remarks: In Java, variable names should be writtein in <code>lowerCamelCase</code> (MainChar Stats = ...` -&gt; <code>MainChar stats = ...</code>) --- I would advice to use more descriptive variable names: <code>MainChar Stats</code> seems unintutiive. It&#39;s either some stats  or a character, using those names interchangably is confusing."}],"answers":[{"tags":[],"owner":{"account_id":22878324,"reputation":362,"user_id":17020280,"display_name":"GabeRAMturn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668266624,"creation_date":1668266624,"answer_id":74414174,"question_id":74414125,"body_markdown":"The loop creates a new Mainchar every time. Every one of those objects have their own int stored as defence. If you create new one instead of using the one you previously created, it will create a new Mainchar with your default value, 25. that‘s why you get 25 instead of 50.","title":"Java setter does not update value","body":"<p>The loop creates a new Mainchar every time. Every one of those objects have their own int stored as defence. If you create new one instead of using the one you previously created, it will create a new Mainchar with your default value, 25. that‘s why you get 25 instead of 50.</p>\n"}],"owner":{"account_id":26910910,"reputation":1,"user_id":20486488,"display_name":"Isak Lockman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668266624,"creation_date":1668266196,"question_id":74414125,"body_markdown":"I am trying to make a menu system where the value of some attributes will be updated in another class.\r\n\r\nFirst method\r\n\r\n```\r\n public static void startmenu(){ \r\n        int path;\r\n        Scanner startscan = new Scanner(System.in); \r\n        System.out.println(&quot;-----------------------&quot;);\r\n        System.out.println(&quot;Enter Shop : 1&quot;); \r\n        System.out.println(&quot;Enter house : 2&quot;); \r\n        System.out.println(&quot;Enter town square : 3&quot;); \r\n        System.out.println(&quot;Leave town : 4&quot;); \r\n        System.out.println(&quot;Check stats : 5&quot;); \r\n        System.out.println(&quot;Chosen path: &quot;); \r\n        System.out.println(&quot;update defence : &quot;); \r\n        path = startscan.nextInt(); \r\n        SouthValley(path); \r\n    }\r\n```\r\n\r\nSecond method in same class as above where case 6 should update defence to 50 and restart the menu but when I chooose case 5 after it prints 25\r\n\r\n```\r\npublic static void SouthValley(int selectedPath){\r\n    MainChar Stats = new MainChar();\r\n    do {\r\n        switch(selectedPath){\r\n            case 1: \r\n                System.out.println(&quot;You Entered shop&quot;);\r\n                System.out.println(&quot;-----------------------------&quot;);\r\n                break;\r\n            case 2: \r\n                System.out.println(&quot;You Entered you house&quot;);\r\n                break;\r\n            case 3: \r\n                System.out.println(&quot;You Entered Town Square&quot;);\r\n                break;\r\n            case 4:\r\n                System.out.println(&quot;You left the town&quot;);\r\n                FirstPath();\r\n                break;\r\n            case 5:\r\n                System.out.println(&quot;--------------------------------&quot;);\r\n                System.out.println(&quot;Defence: &quot; + Stats.getDefence());\r\n                System.out.println(&quot;Strength: &quot; + Stats.getStrength());\r\n                System.out.println(&quot;Mana: &quot; + Stats.getMana());\r\n                System.out.println(&quot;Health: &quot; + Stats.gethealth());\r\n                startmenu();\r\n                break;\r\n            case 6:\r\n                Stats.setDefence(50);\r\n                System.out.println(Stats.getDefence());\r\n                startmenu();\r\n                break;\r\n            default:\r\n                startmenu();\r\n                break;\r\n        }\r\n    }\r\n    while(selectedPath &lt; 7);\r\n}\r\n```\r\n\r\nClass with the defined variables\r\n\r\n```\r\npublic class MainChar {\r\n    private int health = 100;\r\n    private int defence = 25;\r\n    private int strength = 15;\r\n    private int mana = 10;\r\n\r\n    public int gethealth(){\r\n        return health;\r\n    }\r\n\r\n    public int getStrength() {\r\n        return strength;\r\n    }\r\n\r\n    public int getDefence() {\r\n        return defence;\r\n    }\r\n\r\n    public int getMana() {\r\n        return mana;\r\n    }\r\n\r\n    public void setDefence(int Newdefence) {\r\n        this.defence = Newdefence;\r\n    }\r\n\r\n    public void setHealth(int Newhealth) {\r\n        this.health = Newhealth;\r\n    }\r\n\r\n    public void setMana(int Newmana) {\r\n        this.mana = Newmana;\r\n    }\r\n\r\n    public void setStrength(int Newstrength) {\r\n        this.strength = Newstrength;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI have tried googling a lot but have not fins a solution. This code is just trying to get the value updating to work.","title":"Java setter does not update value","body":"<p>I am trying to make a menu system where the value of some attributes will be updated in another class.</p>\n<p>First method</p>\n<pre><code> public static void startmenu(){ \n        int path;\n        Scanner startscan = new Scanner(System.in); \n        System.out.println(&quot;-----------------------&quot;);\n        System.out.println(&quot;Enter Shop : 1&quot;); \n        System.out.println(&quot;Enter house : 2&quot;); \n        System.out.println(&quot;Enter town square : 3&quot;); \n        System.out.println(&quot;Leave town : 4&quot;); \n        System.out.println(&quot;Check stats : 5&quot;); \n        System.out.println(&quot;Chosen path: &quot;); \n        System.out.println(&quot;update defence : &quot;); \n        path = startscan.nextInt(); \n        SouthValley(path); \n    }\n</code></pre>\n<p>Second method in same class as above where case 6 should update defence to 50 and restart the menu but when I chooose case 5 after it prints 25</p>\n<pre><code>public static void SouthValley(int selectedPath){\n    MainChar Stats = new MainChar();\n    do {\n        switch(selectedPath){\n            case 1: \n                System.out.println(&quot;You Entered shop&quot;);\n                System.out.println(&quot;-----------------------------&quot;);\n                break;\n            case 2: \n                System.out.println(&quot;You Entered you house&quot;);\n                break;\n            case 3: \n                System.out.println(&quot;You Entered Town Square&quot;);\n                break;\n            case 4:\n                System.out.println(&quot;You left the town&quot;);\n                FirstPath();\n                break;\n            case 5:\n                System.out.println(&quot;--------------------------------&quot;);\n                System.out.println(&quot;Defence: &quot; + Stats.getDefence());\n                System.out.println(&quot;Strength: &quot; + Stats.getStrength());\n                System.out.println(&quot;Mana: &quot; + Stats.getMana());\n                System.out.println(&quot;Health: &quot; + Stats.gethealth());\n                startmenu();\n                break;\n            case 6:\n                Stats.setDefence(50);\n                System.out.println(Stats.getDefence());\n                startmenu();\n                break;\n            default:\n                startmenu();\n                break;\n        }\n    }\n    while(selectedPath &lt; 7);\n}\n</code></pre>\n<p>Class with the defined variables</p>\n<pre><code>public class MainChar {\n    private int health = 100;\n    private int defence = 25;\n    private int strength = 15;\n    private int mana = 10;\n\n    public int gethealth(){\n        return health;\n    }\n\n    public int getStrength() {\n        return strength;\n    }\n\n    public int getDefence() {\n        return defence;\n    }\n\n    public int getMana() {\n        return mana;\n    }\n\n    public void setDefence(int Newdefence) {\n        this.defence = Newdefence;\n    }\n\n    public void setHealth(int Newhealth) {\n        this.health = Newhealth;\n    }\n\n    public void setMana(int Newmana) {\n        this.mana = Newmana;\n    }\n\n    public void setStrength(int Newstrength) {\n        this.strength = Newstrength;\n    }\n}\n</code></pre>\n<p>I have tried googling a lot but have not fins a solution. This code is just trying to get the value updating to work.</p>\n"},{"tags":["java","spring-boot","heroku","deployment"],"comments":[{"owner":{"account_id":16019646,"reputation":3305,"user_id":11745452,"display_name":"Ashok"},"score":0,"creation_date":1612554431,"post_id":66069592,"comment_id":116812661,"body_markdown":"Can you check what&#39;s the JAVA_HOME set in your mvn.bat","body":"Can you check what&#39;s the JAVA_HOME set in your mvn.bat"},{"owner":{"account_id":19916779,"reputation":123,"user_id":14593547,"display_name":"ThePorcius"},"score":0,"creation_date":1612554917,"post_id":66069592,"comment_id":116812865,"body_markdown":"Where is the mvn.bat stored by default?","body":"Where is the mvn.bat stored by default?"},{"owner":{"account_id":16019646,"reputation":3305,"user_id":11745452,"display_name":"Ashok"},"score":0,"creation_date":1612555092,"post_id":66069592,"comment_id":116812925,"body_markdown":"Check-in Maven installation folder--&gt;bin","body":"Check-in Maven installation folder--&gt;bin"}],"answers":[{"comments":[{"owner":{"account_id":19916779,"reputation":123,"user_id":14593547,"display_name":"ThePorcius"},"score":0,"creation_date":1612557301,"post_id":66069655,"comment_id":116813656,"body_markdown":"Adding this worked. It wasn&#39;t working because I had it set to 15.\n\nHowever, doesn&#39;t this mean that it rolled back to java 1.8?","body":"Adding this worked. It wasn&#39;t working because I had it set to 15.  However, doesn&#39;t this mean that it rolled back to java 1.8?"}],"tags":[],"owner":{"account_id":16019646,"reputation":3305,"user_id":11745452,"display_name":"Ashok"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1612554848,"creation_date":1612554299,"answer_id":66069655,"question_id":66069592,"body_markdown":"In your `pom.xml` add your own context as below. Paste this code in `effective POM` before the root element ends, after declaring dependencies, and adjust the version as per your requirement.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;source&gt;1.8&lt;/source&gt;\r\n            &lt;target&gt;1.8&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Heroku is installing the wrong JDK for my App and failing to deploy it","body":"<p>In your <code>pom.xml</code> add your own context as below. Paste this code in <code>effective POM</code> before the root element ends, after declaring dependencies, and adjust the version as per your requirement.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.5.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.8&lt;/source&gt;\n        &lt;target&gt;1.8&lt;/target&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11849391,"reputation":56,"user_id":8671123,"display_name":"Sravan Ch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630917720,"creation_date":1630917720,"answer_id":69071641,"question_id":66069592,"body_markdown":"I faced the same issue while deploying on Heroku, I solved it by creating a **system.properties** file in the root folder of your project, with the below content:\r\n\r\n`java.runtime.version=15`\r\n\r\nThe version should be same as the java version in pom.xml","title":"Heroku is installing the wrong JDK for my App and failing to deploy it","body":"<p>I faced the same issue while deploying on Heroku, I solved it by creating a <strong>system.properties</strong> file in the root folder of your project, with the below content:</p>\n<p><code>java.runtime.version=15</code></p>\n<p>The version should be same as the java version in pom.xml</p>\n"},{"tags":[],"owner":{"account_id":11228165,"reputation":689,"user_id":8237188,"accept_rate":75,"display_name":"Muahmmad Tayyib"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668266420,"creation_date":1668266420,"answer_id":74414153,"question_id":66069592,"body_markdown":"for ***Gradle*** based projects:\r\nhere are few steps:\r\n\r\n 1. pres `ctrl+alt+s` and verify your project sdk version\r\n 2. goto root of your project where build.gradle and setting.gradle files are present\r\n 3. here create a new file name system.properties(this file is dettected for deploying Heroku apps to override default propeties)\r\n 4. in this newly created file write this piece of line `java.runtime.version=17.0.5` or what  ever jdk version you want to deploy with..\r\n 5. update the repo with this file using `add.`&#39; &#39;`commit`&#39; and `git push heroku master`\r\nthats all :)","title":"Heroku is installing the wrong JDK for my App and failing to deploy it","body":"<p>for <em><strong>Gradle</strong></em> based projects:\nhere are few steps:</p>\n<ol>\n<li>pres <code>ctrl+alt+s</code> and verify your project sdk version</li>\n<li>goto root of your project where build.gradle and setting.gradle files are present</li>\n<li>here create a new file name system.properties(this file is dettected for deploying Heroku apps to override default propeties)</li>\n<li>in this newly created file write this piece of line <code>java.runtime.version=17.0.5</code> or what  ever jdk version you want to deploy with..</li>\n<li>update the repo with this file using <code>add.</code>' '<code>commit</code>' and <code>git push heroku master</code>\nthats all :)</li>\n</ol>\n"}],"owner":{"account_id":19916779,"reputation":123,"user_id":14593547,"display_name":"ThePorcius"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66069655,"answer_count":3,"score":1,"last_activity_date":1668266420,"creation_date":1612553998,"question_id":66069592,"body_markdown":"I&#39;m trying to deploy my spring boot app (JDK 15.0.1) on heroku through github, but I get the error message\r\n\r\n    Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project conference-demo: Fatal error compiling: invalid target release: 15 -&gt; [Help 1]\r\n\r\nI already added a file called system.properties to my application resources folder, with the following content \r\n\r\n    java.runtime.version =15\r\n\r\nAnd here&#39;s the pom\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.4.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.myPackage&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;conference-demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;myApp&lt;/name&gt;\r\n    \t&lt;description&gt;Something&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;15&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.23&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nBut heroku still seems to be trying to deploy with Java 1.8. The first message the build log shows is \r\n\r\n    -----&gt; Building on the Heroku-20 stack\r\n    \r\n    -----&gt; Java app detected\r\n    \r\n    -----&gt; Installing JDK 1.8... done\r\n\r\nIs there something I&#39;m missing?","title":"Heroku is installing the wrong JDK for my App and failing to deploy it","body":"<p>I'm trying to deploy my spring boot app (JDK 15.0.1) on heroku through github, but I get the error message</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project conference-demo: Fatal error compiling: invalid target release: 15 -&gt; [Help 1]\n</code></pre>\n<p>I already added a file called system.properties to my application resources folder, with the following content</p>\n<pre><code>java.runtime.version =15\n</code></pre>\n<p>And here's the pom</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.myPackage&lt;/groupId&gt;\n    &lt;artifactId&gt;conference-demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;myApp&lt;/name&gt;\n    &lt;description&gt;Something&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;15&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.23&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>But heroku still seems to be trying to deploy with Java 1.8. The first message the build log shows is</p>\n<pre><code>-----&gt; Building on the Heroku-20 stack\n\n-----&gt; Java app detected\n\n-----&gt; Installing JDK 1.8... done\n</code></pre>\n<p>Is there something I'm missing?</p>\n"},{"tags":["java","gradle","heroku","deployment"],"comments":[{"owner":{"account_id":20954061,"reputation":140,"user_id":15395051,"display_name":"Fleckinger"},"score":0,"creation_date":1641573616,"post_id":70606370,"comment_id":124847402,"body_markdown":"Hey, i have same issue.  Do you find solution?","body":"Hey, i have same issue.  Do you find solution?"},{"owner":{"account_id":20954061,"reputation":140,"user_id":15395051,"display_name":"Fleckinger"},"score":0,"creation_date":1641575030,"post_id":70606370,"comment_id":124848015,"body_markdown":"I just found that you can deploy app to heroku without git. Instead you can use gradle and heroku plugin for it https://github.com/heroku/heroku-gradle","body":"I just found that you can deploy app to heroku without git. Instead you can use gradle and heroku plugin for it <a href=\"https://github.com/heroku/heroku-gradle\" rel=\"nofollow noreferrer\">github.com/heroku/heroku-gradle</a>"},{"owner":{"account_id":20954061,"reputation":140,"user_id":15395051,"display_name":"Fleckinger"},"score":0,"creation_date":1641811040,"post_id":70606370,"comment_id":124895269,"body_markdown":"I was finally able to deploy war file to heroku with appropriate java version.\nIn terminal: heroku deploy:war &lt;path to your .war file&gt; --app &lt;your app name&gt; --jdk 11","body":"I was finally able to deploy war file to heroku with appropriate java version. In terminal: heroku deploy:war &lt;path to your .war file&gt; --app &lt;your app name&gt; --jdk 11"},{"owner":{"account_id":23845291,"reputation":11,"user_id":17849847,"display_name":"NinoH"},"score":0,"creation_date":1641820804,"post_id":70606370,"comment_id":124898931,"body_markdown":"thanks alot! going to try it later this day","body":"thanks alot! going to try it later this day"}],"answers":[{"tags":[],"owner":{"account_id":11228165,"reputation":689,"user_id":8237188,"accept_rate":75,"display_name":"Muahmmad Tayyib"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668266324,"creation_date":1668266324,"answer_id":74414139,"question_id":70606370,"body_markdown":"here are few steps:\r\n\r\n 1. pres `ctrl+alt+s` and verify your project sdk version\r\n 2. goto root of your project where build.gradle and setting.gradle files are present\r\n 3. here create a new file name system.properties(this file is dettected for deploying Heroku apps to override default propeties)\r\n 4. in this newly created file write this piece of line `java.runtime.version=17.0.5` or what  ever jdk version you want to deploy with..\r\n 5. update the repo with this file using `add.`&#39; &#39;`commit`&#39; and `git push heroku master`\r\nthats all :)\r\n","title":"Wrong Java version when deploying on heroku","body":"<p>here are few steps:</p>\n<ol>\n<li>pres <code>ctrl+alt+s</code> and verify your project sdk version</li>\n<li>goto root of your project where build.gradle and setting.gradle files are present</li>\n<li>here create a new file name system.properties(this file is dettected for deploying Heroku apps to override default propeties)</li>\n<li>in this newly created file write this piece of line <code>java.runtime.version=17.0.5</code> or what  ever jdk version you want to deploy with..</li>\n<li>update the repo with this file using <code>add.</code>' '<code>commit</code>' and <code>git push heroku master</code>\nthats all :)</li>\n</ol>\n"}],"owner":{"account_id":23845291,"reputation":11,"user_id":17849847,"display_name":"NinoH"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668266324,"creation_date":1641468191,"question_id":70606370,"body_markdown":"I build a little rest service to store data in a mongodb atlas db.\r\nEverything is working and I get no errors when I build with ./gradlew clean build.\r\n\r\nThe project is written in Java 11 and gradle is set to Java 11 too.\r\nBut when I try do deploy the app on heroku I get the following error : \r\n\r\n    -----&gt; Building on the Heroku-20 stack\r\n    -----&gt; Determining which buildpack to use for this app\r\n    -----&gt; Gradle app detected\r\n    -----&gt; Spring Boot detected\r\n    -----&gt; Installing **JDK 1.8**... done\r\n    -----&gt; Building Gradle app...\r\n    -----&gt; executing ./gradlew build -x check\r\n           Downloading https://services.gradle.org/distributions/gradle-7.3.2-bin.zip\r\n           ...........10%...........20%...........30%...........40%...........50%...........60%...........70%...........80%...........90%...........100%\r\n           To honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.3.2/userguide/gradle_daemon.html#sec:disabling_the_daemon.\r\n           Daemon will be stopped at the end of the build \r\n           &gt; Task :compileJava FAILED\r\n           \r\n           FAILURE: Build failed with an exception.\r\n           \r\n           * What went wrong:\r\n           Execution failed for task &#39;:compileJava&#39;.\r\n           &gt; invalid source release: 11\r\n\r\nI added a system.properties to my resources with :\r\njava.runtime.version=11\r\n\r\nBut it still seems to install java 8.\r\n\r\n\r\nCan anyone help me on this?\r\n\r\nGreetings from Berlin \r\nNino","title":"Wrong Java version when deploying on heroku","body":"<p>I build a little rest service to store data in a mongodb atlas db.\nEverything is working and I get no errors when I build with ./gradlew clean build.</p>\n<p>The project is written in Java 11 and gradle is set to Java 11 too.\nBut when I try do deploy the app on heroku I get the following error :</p>\n<pre><code>-----&gt; Building on the Heroku-20 stack\n-----&gt; Determining which buildpack to use for this app\n-----&gt; Gradle app detected\n-----&gt; Spring Boot detected\n-----&gt; Installing **JDK 1.8**... done\n-----&gt; Building Gradle app...\n-----&gt; executing ./gradlew build -x check\n       Downloading https://services.gradle.org/distributions/gradle-7.3.2-bin.zip\n       ...........10%...........20%...........30%...........40%...........50%...........60%...........70%...........80%...........90%...........100%\n       To honour the JVM settings for this build a single-use Daemon process will be forked. See https://docs.gradle.org/7.3.2/userguide/gradle_daemon.html#sec:disabling_the_daemon.\n       Daemon will be stopped at the end of the build \n       &gt; Task :compileJava FAILED\n       \n       FAILURE: Build failed with an exception.\n       \n       * What went wrong:\n       Execution failed for task ':compileJava'.\n       &gt; invalid source release: 11\n</code></pre>\n<p>I added a system.properties to my resources with :\njava.runtime.version=11</p>\n<p>But it still seems to install java 8.</p>\n<p>Can anyone help me on this?</p>\n<p>Greetings from Berlin\nNino</p>\n"},{"tags":["java","spring","spring-webflux","project-reactor","spring-webclient"],"answers":[{"comments":[{"owner":{"account_id":318890,"reputation":2484,"user_id":636334,"accept_rate":50,"display_name":"Babu Subburathinam"},"score":0,"creation_date":1618611567,"post_id":67131903,"comment_id":118663816,"body_markdown":"Thanks, Martin. The decision of whether to produce more elements or not is made from the BlahServiceResponse instance. Have updated the code snippet in my question to reflect this. Given this and your solution, is there a way to signal completion upstream from within the flatMap?","body":"Thanks, Martin. The decision of whether to produce more elements or not is made from the BlahServiceResponse instance. Have updated the code snippet in my question to reflect this. Given this and your solution, is there a way to signal completion upstream from within the flatMap?"},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1618649350,"post_id":67131903,"comment_id":118669753,"body_markdown":"Updated the answer accordingly.","body":"Updated the answer accordingly."}],"tags":[],"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1618649304,"creation_date":1618605393,"answer_id":67131903,"question_id":67129283,"body_markdown":"## Static pagination ##\r\nIf you know the page indexes in advance and you have a rule to generate it.\r\n\r\n```java\r\nvar elementsPerPage = 10;\r\n\r\nFlux.generate(\r\n        () -&gt; 0,\r\n        (pageIndex, emitter) -&gt; {\r\n            if (pageIndex &lt; 30) {\r\n                emitter.next(pageIndex);\r\n            } else {\r\n                emitter.complete();\r\n            }\r\n            return pageIndex + elementsPerPage;\r\n        })\r\n        .flatMap(pageIndex -&gt; webClient\r\n                .get()\r\n                .uri(&quot;/blah?pageIndex={pageIndex}&quot;, pageIndex)\r\n                .retrieve()\r\n                .bodyToMono(BlahServiceResponse.class))\r\n        .subscribe(System.out::println);\r\n```\r\n\r\n## Dynamic pagination ##\r\nIf the next page index depends on the last queried page.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    var elementsPerPage = 10;\r\n\r\n    callWithPageIndex(0)\r\n            .expand(pagedResponse -&gt; {\r\n                if (pagedResponse.getResponse().isEmpty()) {\r\n                    return Mono.empty();\r\n                } else {\r\n                    return callWithPageIndex(pagedResponse.getPageIndex() + elementsPerPage);\r\n                }\r\n            })\r\n            .subscribe(System.out::println);\r\n}\r\n\r\nprivate static Mono&lt;PagedResponse&lt;BlahServiceResponse&gt;&gt; callWithPageIndex(Integer pageIndex) {\r\n    return webClient\r\n            .get()\r\n            .uri(&quot;/blah?pageIndex={pageIndex}&quot;, pageIndex)\r\n            .retrieve()\r\n            .bodyToMono(BlahServiceResponse.class)\r\n            .map(response -&gt; new PagedResponse&lt;&gt;(pageIndex, response));\r\n}\r\n\r\n@lombok.Value\r\nstatic class PagedResponse&lt;T&gt; {\r\n    int pageIndex;\r\n    T response;\r\n}\r\n```","title":"How to do pagination in Reactor?","body":"<h2>Static pagination</h2>\n<p>If you know the page indexes in advance and you have a rule to generate it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var elementsPerPage = 10;\n\nFlux.generate(\n        () -&gt; 0,\n        (pageIndex, emitter) -&gt; {\n            if (pageIndex &lt; 30) {\n                emitter.next(pageIndex);\n            } else {\n                emitter.complete();\n            }\n            return pageIndex + elementsPerPage;\n        })\n        .flatMap(pageIndex -&gt; webClient\n                .get()\n                .uri(&quot;/blah?pageIndex={pageIndex}&quot;, pageIndex)\n                .retrieve()\n                .bodyToMono(BlahServiceResponse.class))\n        .subscribe(System.out::println);\n</code></pre>\n<h2>Dynamic pagination</h2>\n<p>If the next page index depends on the last queried page.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    var elementsPerPage = 10;\n\n    callWithPageIndex(0)\n            .expand(pagedResponse -&gt; {\n                if (pagedResponse.getResponse().isEmpty()) {\n                    return Mono.empty();\n                } else {\n                    return callWithPageIndex(pagedResponse.getPageIndex() + elementsPerPage);\n                }\n            })\n            .subscribe(System.out::println);\n}\n\nprivate static Mono&lt;PagedResponse&lt;BlahServiceResponse&gt;&gt; callWithPageIndex(Integer pageIndex) {\n    return webClient\n            .get()\n            .uri(&quot;/blah?pageIndex={pageIndex}&quot;, pageIndex)\n            .retrieve()\n            .bodyToMono(BlahServiceResponse.class)\n            .map(response -&gt; new PagedResponse&lt;&gt;(pageIndex, response));\n}\n\n@lombok.Value\nstatic class PagedResponse&lt;T&gt; {\n    int pageIndex;\n    T response;\n}\n</code></pre>\n"}],"owner":{"account_id":318890,"reputation":2484,"user_id":636334,"accept_rate":50,"display_name":"Babu Subburathinam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67131903,"answer_count":1,"score":2,"last_activity_date":1668266311,"creation_date":1618592029,"question_id":67129283,"body_markdown":"I make repeated paged WebClient requests to a third-party web service. The implementation I have now works *but is blocking*. \r\n\r\nMy implementation so far:\r\n\r\n    var elementsPerPage = 10;\r\n    Flux\r\n        .generate(\r\n            () -&gt; 0,\r\n            (pageIndex, emitter) -&gt; {\r\n                BlahServiceResponse blahServiceResponse =\r\n                    webClient\r\n                        .get()\r\n                        .uri(&quot;/blah?pageIndex={pageIndex}&quot;, pageIndex)\r\n                        .retrieve()\r\n                        .bodyToMono(BlahServiceResponse.class)\r\n                        .block(); // Yuck!!!\r\n                if (blahServiceResponse.getStudents().size() &gt; 0) {\r\n                    emitter.next(blahServiceResponse);\r\n                } else {\r\n                    emitter.complete();\r\n                }\r\n                return pageIndex + elementsPerPage;\r\n            }\r\n        )\r\n        .subscribe(System.out::println); // Replace me with actual logic\r\n\r\nFor understandable reasons, an &quot;IllegalStateException: The generator didn&#39;t call any of the SynchronousSink method&quot; exception is thrown if the code above is changed to the following:\r\n\r\n    webClient\r\n        .get()\r\n        ...\r\n        .bodyToMono(BlahServiceResponse.class)\r\n        .subscribe(emitter::next);\r\n\r\nSo I started looking for an async Sink and [realized it was Flux|MonoSink][1]. But as far as I can see there is no builder method in Flux that supports stateful element generation with Flux|MonoSink.\r\n\r\nAm I missing something and is there a more elegant approach to this?\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/SynchronousSink.html","title":"How to do pagination in Reactor?","body":"<p>I make repeated paged WebClient requests to a third-party web service. The implementation I have now works <em>but is blocking</em>.</p>\n<p>My implementation so far:</p>\n<pre><code>var elementsPerPage = 10;\nFlux\n    .generate(\n        () -&gt; 0,\n        (pageIndex, emitter) -&gt; {\n            BlahServiceResponse blahServiceResponse =\n                webClient\n                    .get()\n                    .uri(&quot;/blah?pageIndex={pageIndex}&quot;, pageIndex)\n                    .retrieve()\n                    .bodyToMono(BlahServiceResponse.class)\n                    .block(); // Yuck!!!\n            if (blahServiceResponse.getStudents().size() &gt; 0) {\n                emitter.next(blahServiceResponse);\n            } else {\n                emitter.complete();\n            }\n            return pageIndex + elementsPerPage;\n        }\n    )\n    .subscribe(System.out::println); // Replace me with actual logic\n</code></pre>\n<p>For understandable reasons, an &quot;IllegalStateException: The generator didn't call any of the SynchronousSink method&quot; exception is thrown if the code above is changed to the following:</p>\n<pre><code>webClient\n    .get()\n    ...\n    .bodyToMono(BlahServiceResponse.class)\n    .subscribe(emitter::next);\n</code></pre>\n<p>So I started looking for an async Sink and <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/SynchronousSink.html\" rel=\"nofollow noreferrer\">realized it was Flux|MonoSink</a>. But as far as I can see there is no builder method in Flux that supports stateful element generation with Flux|MonoSink.</p>\n<p>Am I missing something and is there a more elegant approach to this?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":14980463,"reputation":31,"user_id":11242814,"display_name":"Vladimir Belanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553375863,"creation_date":1553375863,"answer_id":55318490,"question_id":55318393,"body_markdown":"Your first loop is itterating over all chars in the first string of array. Second loop is checking char at `i` posistion of all strings of array. If characters do not match, or length of string is the same as `i` it returns substring result.\r\n\r\nI think the best way to understand is debug this example.","title":"LeetCode 14. longest common prefix","body":"<p>Your first loop is itterating over all chars in the first string of array. Second loop is checking char at <code>i</code> posistion of all strings of array. If characters do not match, or length of string is the same as <code>i</code> it returns substring result.</p>\n\n<p>I think the best way to understand is debug this example.</p>\n"},{"comments":[{"owner":{"account_id":15354818,"reputation":19,"user_id":11077365,"display_name":"beautifuldog"},"score":0,"creation_date":1553378917,"post_id":55318500,"comment_id":97364546,"body_markdown":"sorry i am still confused...if strs:[&quot;fliower&quot;,&quot;flight&quot;,&quot;fl&quot;] why does it return fl not fli ?if the third and follwing strings arenot necessary?","body":"sorry i am still confused...if strs:[&quot;fliower&quot;,&quot;flight&quot;,&quot;fl&quot;] why does it return fl not fli ?if the third and follwing strings arenot necessary?"},{"owner":{"account_id":8310021,"reputation":7568,"user_id":6245535,"display_name":"Loris Securo"},"score":0,"creation_date":1553379337,"post_id":55318500,"comment_id":97364638,"body_markdown":"@beautifuldog If the chars are equal then it does check the other strings. It checks the first char with all the first chars of the other strings, then the second char with all the second chars of the other strings, and so on, until it finds a difference.","body":"@beautifuldog If the chars are equal then it does check the other strings. It checks the first char with all the first chars of the other strings, then the second char with all the second chars of the other strings, and so on, until it finds a difference."}],"tags":[],"owner":{"account_id":8310021,"reputation":7568,"user_id":6245535,"display_name":"Loris Securo"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553375913,"creation_date":1553375913,"answer_id":55318500,"question_id":55318393,"body_markdown":"If the char in the second string is different than the char in the first one, then it is correct to return, since it means that the common prefix ends there. Checking the third and following strings is not necessary.\r\n\r\nBasically it returns as soon as it finds a mismatch char.","title":"LeetCode 14. longest common prefix","body":"<p>If the char in the second string is different than the char in the first one, then it is correct to return, since it means that the common prefix ends there. Checking the third and following strings is not necessary.</p>\n\n<p>Basically it returns as soon as it finds a mismatch char.</p>\n"},{"tags":[],"owner":{"account_id":7247949,"reputation":4924,"user_id":5529263,"display_name":"Boken"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553384146,"creation_date":1553384146,"answer_id":55319369,"question_id":55318393,"body_markdown":"You have to check same position in all of the words and just compare it.\r\n```\r\n         positions\r\nword    0 1 2 3 4 5\r\n=====================\r\nw[0]    F L O W E R\r\nw[1]    F L O W\r\nw[2]    F L I G H T\r\n```\r\n\r\n\r\nIn Java:\r\n\r\n```\r\nclass Main {\r\n\r\n    public static void main(String[] args) {\r\n        String[] words = {&quot;dog&quot;,&quot;racecar&quot;,&quot;car&quot;};\r\n\r\n        String prefix = commonPrefix(words);\r\n\r\n        System.out.println(prefix);\r\n        // return empty string\r\n\r\n        String[] words2 = {&quot;dog&quot;,&quot;racecar&quot;,&quot;car&quot;};\r\n\r\n        String prefix2 = commonPrefix(words2);\r\n\r\n        System.out.println(prefix2);\r\n        // Return &quot;fl&quot; (2 letters)\r\n    }\r\n\r\n    private static String commonPrefix(String[] words) {\r\n        // Common letter counter\r\n        int counter = 0;\r\n\r\n        external:\r\n        for (int i = 0; i &lt; words[0].length(); i++) {\r\n\r\n            // Get letter from first word\r\n            char letter = words[0].charAt(i);\r\n\r\n            // Check rest of the words on that same positions\r\n            for (int j = 1; j &lt; words.length; j++) {\r\n                // Break when word is shorter or letter is different\r\n                if (words[j].length() &lt;= i || letter != words[j].charAt(i)) {\r\n                    break external;\r\n                }\r\n            }\r\n\r\n            // Increase counter, because all of words\r\n            // has the same letter (e.g. &quot;E&quot;) on the same position (e.g. position &quot;5&quot;)\r\n            counter++;\r\n        }\r\n\r\n        // Return proper substring\r\n        return words[0].substring(0, counter);\r\n    }\r\n\r\n}\r\n```","title":"LeetCode 14. longest common prefix","body":"<p>You have to check same position in all of the words and just compare it.</p>\n\n<pre><code>         positions\nword    0 1 2 3 4 5\n=====================\nw[0]    F L O W E R\nw[1]    F L O W\nw[2]    F L I G H T\n</code></pre>\n\n<p>In Java:</p>\n\n<pre><code>class Main {\n\n    public static void main(String[] args) {\n        String[] words = {\"dog\",\"racecar\",\"car\"};\n\n        String prefix = commonPrefix(words);\n\n        System.out.println(prefix);\n        // return empty string\n\n        String[] words2 = {\"dog\",\"racecar\",\"car\"};\n\n        String prefix2 = commonPrefix(words2);\n\n        System.out.println(prefix2);\n        // Return \"fl\" (2 letters)\n    }\n\n    private static String commonPrefix(String[] words) {\n        // Common letter counter\n        int counter = 0;\n\n        external:\n        for (int i = 0; i &lt; words[0].length(); i++) {\n\n            // Get letter from first word\n            char letter = words[0].charAt(i);\n\n            // Check rest of the words on that same positions\n            for (int j = 1; j &lt; words.length; j++) {\n                // Break when word is shorter or letter is different\n                if (words[j].length() &lt;= i || letter != words[j].charAt(i)) {\n                    break external;\n                }\n            }\n\n            // Increase counter, because all of words\n            // has the same letter (e.g. \"E\") on the same position (e.g. position \"5\")\n            counter++;\n        }\n\n        // Return proper substring\n        return words[0].substring(0, counter);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14973311,"reputation":81,"user_id":12143521,"display_name":"TerenceP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583997311,"creation_date":1583997311,"answer_id":60649215,"question_id":55318393,"body_markdown":"If we first sort them then it would be very easy we have to only go and compare the first and the last element in the vector present there so, \r\nthe code would be like,This is C++ code for the implementation.\r\n\r\n    class Solution {\r\n    public:\r\n        string longestCommonPrefix(vector&lt;string&gt;&amp; str) {\r\n            int n = str.size();\r\n            if(n==0) return &quot;&quot;;\r\n            \r\n            string ans  = &quot;&quot;;\r\n            sort(begin(str), end(str));\r\n            string a = str[0];\r\n            string b = str[n-1];\r\n            \r\n            for(int i=0; i&lt;a.size(); i++){\r\n                if(a[i]==b[i]){\r\n                    ans = ans + a[i];\r\n                }\r\n                else{\r\n                    break;\r\n                }\r\n            }\r\n            \r\n            return ans;\r\n            \r\n        }\r\n    };","title":"LeetCode 14. longest common prefix","body":"<p>If we first sort them then it would be very easy we have to only go and compare the first and the last element in the vector present there so, \nthe code would be like,This is C++ code for the implementation.</p>\n\n<pre><code>class Solution {\npublic:\n    string longestCommonPrefix(vector&lt;string&gt;&amp; str) {\n        int n = str.size();\n        if(n==0) return \"\";\n\n        string ans  = \"\";\n        sort(begin(str), end(str));\n        string a = str[0];\n        string b = str[n-1];\n\n        for(int i=0; i&lt;a.size(); i++){\n            if(a[i]==b[i]){\n                ans = ans + a[i];\n            }\n            else{\n                break;\n            }\n        }\n\n        return ans;\n\n    }\n};\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24674280,"reputation":1,"user_id":18568887,"display_name":"BerCodingLive"},"score":0,"creation_date":1668265736,"post_id":74414063,"comment_id":131365825,"body_markdown":"for C# with love","body":"for C# with love"}],"tags":[],"owner":{"account_id":24674280,"reputation":1,"user_id":18568887,"display_name":"BerCodingLive"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668265833,"creation_date":1668265715,"answer_id":74414063,"question_id":55318393,"body_markdown":"    public class Solution {\r\n    public string LongestCommonPrefix(string[] strs) {\r\n\r\n\r\n        if(strs.Length == 0)\r\n        {\r\n            return string.Empty;\r\n\r\n        }\r\n\r\n        var prefix = strs[0];\r\n        for(int i=1; i&lt;strs.Length; i++) //always start from 1.index\r\n        {\r\n            while(!strs[i].StartsWith(prefix)) \r\n            {\r\n                prefix = prefix.Substring(0, prefix.Length-1);\r\n\r\n            }\r\n\r\n        }\r\n        return prefix;\r\n\r\n        \r\n    }\r\n    }","title":"LeetCode 14. longest common prefix","body":"<pre><code>public class Solution {\npublic string LongestCommonPrefix(string[] strs) {\n\n\n    if(strs.Length == 0)\n    {\n        return string.Empty;\n\n    }\n\n    var prefix = strs[0];\n    for(int i=1; i&lt;strs.Length; i++) //always start from 1.index\n    {\n        while(!strs[i].StartsWith(prefix)) \n        {\n            prefix = prefix.Substring(0, prefix.Length-1);\n\n        }\n\n    }\n    return prefix;\n\n    \n}\n}\n</code></pre>\n"}],"owner":{"account_id":15354818,"reputation":19,"user_id":11077365,"display_name":"beautifuldog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3191,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":5,"score":0,"last_activity_date":1668265833,"creation_date":1553375232,"question_id":55318393,"body_markdown":"Question:\r\n  \r\nWrite a function to find the longest common prefix string among an array of strings. If there is no common prefix, return an empty string &quot;&quot;.\r\n\r\nExample 1:\r\n\r\n&amp;nbsp;&amp;nbsp;Input: [&quot;flower&quot;,&quot;flow&quot;,&quot;flight&quot;]  \r\n&amp;nbsp;&amp;nbsp;Output: &quot;fl&quot;\r\n\r\nExample 2:\r\n\r\n&amp;nbsp;&amp;nbsp;Input: [&quot;dog&quot;,&quot;racecar&quot;,&quot;car&quot;]  \r\n&amp;nbsp;&amp;nbsp;Output: &quot;&quot;\r\n\r\nExplanation: There is no common prefix among the input strings.\r\n\r\nCode:\r\n\r\n```java\r\npublic class Solution {\r\n    public String longestCommonPrefix(String[] strs) {\r\n        if(strs==null || strs.length==0)\r\n            return &quot;&quot;;\r\n        for(int i=0;i&lt;strs[0].length();i++) {\r\n            char x = strs[0].charAt(i);\r\n            for(int j=0;j&lt;strs.length;j++) {\r\n                if((strs[j].length()==i)||(strs[j].charAt(i)!=x)) {\r\n                    return strs[0].substring(0,i);\r\n                }\r\n            }\r\n        }\r\n        return strs[0];\r\n    }\r\n}\r\n```\r\nThis is the second solution, but I don&#39;t understand the inner loop.\r\nI think if the second element in strs returns a string and ends the for loop, the third element will not have a chance to be compared.","title":"LeetCode 14. longest common prefix","body":"<p>Question:</p>\n\n<p>Write a function to find the longest common prefix string among an array of strings. If there is no common prefix, return an empty string \"\".</p>\n\n<p>Example 1:</p>\n\n<p>&nbsp;&nbsp;Input: [\"flower\",\"flow\",\"flight\"]<br>\n&nbsp;&nbsp;Output: \"fl\"</p>\n\n<p>Example 2:</p>\n\n<p>&nbsp;&nbsp;Input: [\"dog\",\"racecar\",\"car\"]<br>\n&nbsp;&nbsp;Output: \"\"</p>\n\n<p>Explanation: There is no common prefix among the input strings.</p>\n\n<p>Code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Solution {\n    public String longestCommonPrefix(String[] strs) {\n        if(strs==null || strs.length==0)\n            return \"\";\n        for(int i=0;i&lt;strs[0].length();i++) {\n            char x = strs[0].charAt(i);\n            for(int j=0;j&lt;strs.length;j++) {\n                if((strs[j].length()==i)||(strs[j].charAt(i)!=x)) {\n                    return strs[0].substring(0,i);\n                }\n            }\n        }\n        return strs[0];\n    }\n}\n</code></pre>\n\n<p>This is the second solution, but I don't understand the inner loop.\nI think if the second element in strs returns a string and ends the for loop, the third element will not have a chance to be compared.</p>\n"},{"tags":["java","command-line","classpath"],"comments":[{"owner":{"account_id":7696,"reputation":13316,"user_id":13435,"accept_rate":82,"display_name":"Chris Serra"},"score":4,"creation_date":1301324578,"post_id":219585,"comment_id":6189311,"body_markdown":"Sorry I&#39;ve never accepted this.  It should be a community wiki.  Never used one of the provided answers.  I believe I created a shell script that just scanned the lib/ directory and created the classpath from parsing file names.","body":"Sorry I&#39;ve never accepted this.  It should be a community wiki.  Never used one of the provided answers.  I believe I created a shell script that just scanned the lib/ directory and created the classpath from parsing file names."},{"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"score":0,"creation_date":1301789841,"post_id":219585,"comment_id":6278451,"body_markdown":"There&#39;s some kind of bug in this new Java feature, because it does not work as described. I gave up and used Ant to work around it, as described in one of the answers.","body":"There&#39;s some kind of bug in this new Java feature, because it does not work as described. I gave up and used Ant to work around it, as described in one of the answers."},{"owner":{"account_id":201558,"reputation":20199,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"score":1,"creation_date":1343033072,"post_id":219585,"comment_id":15368963,"body_markdown":"There is issue with wildcard processing in Windows.\r\nhttp://stackoverflow.com/questions/11607873/escape-wildcard-processing-in-java-classpath/11608165#comment15368871_11608165","body":"There is issue with wildcard processing in Windows.  <a href=\"http://stackoverflow.com/questions/11607873/escape-wildcard-processing-in-java-classpath/11608165#comment15368871_11608165\" title=\"escape wildcard processing in java classpath\">stackoverflow.com/questions/11607873/&hellip;</a>"},{"owner":{"account_id":2078676,"reputation":2468,"user_id":1851302,"accept_rate":62,"display_name":"KNU"},"score":0,"creation_date":1416482468,"post_id":219585,"comment_id":42596253,"body_markdown":"At first I thought the `.` after `jar:` is put by mistake but..... The standard symbol for `current directory&#39; is a single period (.) in both Unix and Windows systems.","body":"At first I thought the <code>.</code> after <code>jar:</code> is put by mistake but..... The standard symbol for `current directory&#39; is a single period (.) in both Unix and Windows systems."},{"owner":{"account_id":1164345,"reputation":22755,"user_id":1143274,"accept_rate":56,"display_name":"Evgeni Sergeev"},"score":8,"creation_date":1418348325,"post_id":219585,"comment_id":43311959,"body_markdown":"Short answer: (1) drop the `.jar` part, (2) must have **at least 2 parts, separated by a `;` on Windows** (which is usually `:` elsewhere). For example: `java -classpath &quot;.;lib/*&quot; Program`","body":"Short answer: (1) drop the <code>.jar</code> part, (2) must have <b>at least 2 parts, separated by a <code>;</code> on Windows</b> (which is usually <code>:</code> elsewhere). For example: <code>java -classpath &quot;.;lib&#47;*&quot; Program</code>"},{"owner":{"account_id":10692592,"reputation":369,"user_id":7870928,"display_name":"Sagar Kharab"},"score":0,"creation_date":1624492484,"post_id":219585,"comment_id":120376737,"body_markdown":"Really sorry but since this is a popular question and I can&#39;t ask my own question, I am seeking Java Expert Answer for what is the difference between the flag create vs create new at here\nhttps://github.com/frohoff/jdk8u-jdk/blob/master/src/solaris/classes/sun/nio/fs/UnixChannelFactory.java","body":"Really sorry but since this is a popular question and I can&#39;t ask my own question, I am seeking Java Expert Answer for what is the difference between the flag create vs create new at here <a href=\"https://github.com/frohoff/jdk8u-jdk/blob/master/src/solaris/classes/sun/nio/fs/UnixChannelFactory.java\" rel=\"nofollow noreferrer\">github.com/frohoff/jdk8u-jdk/blob/master/src/solaris/classes&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":4684234,"reputation":2137,"user_id":3792095,"display_name":"simo.3792"},"score":3,"creation_date":1412832668,"post_id":219595,"comment_id":41215986,"body_markdown":"This may have been the only way back in &#39;08, but not anymore.","body":"This may have been the only way back in &#39;08, but not anymore."}],"tags":[],"owner":{"account_id":5947,"reputation":54633,"user_id":9815,"accept_rate":100,"display_name":"Daniel Spiewak"},"comment_count":1,"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1224531363,"creation_date":1224531363,"answer_id":219595,"question_id":219585,"body_markdown":"You need to add them all separately.  Alternatively, if you *really* need to just specify a directory, you can unjar everything into one dir and add that to your classpath.  I don&#39;t recommend this approach however as you risk bizarre problems in classpath versioning and unmanagability.","title":"Including all the jars in a directory within the Java classpath","body":"<p>You need to add them all separately.  Alternatively, if you <em>really</em> need to just specify a directory, you can unjar everything into one dir and add that to your classpath.  I don't recommend this approach however as you risk bizarre problems in classpath versioning and unmanagability.</p>\n"},{"tags":[],"owner":{"account_id":209530,"reputation":203,"user_id":460599,"accept_rate":75,"display_name":"Robert Van Hoose"},"comment_count":0,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1224531469,"creation_date":1224531469,"answer_id":219603,"question_id":219585,"body_markdown":"Think of a jar file as the root of a directory structure. Yes, you need to add them all separately.","title":"Including all the jars in a directory within the Java classpath","body":"<p>Think of a jar file as the root of a directory structure. Yes, you need to add them all separately.</p>\n"},{"tags":[],"owner":{"display_name":"user7094"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1224532527,"creation_date":1224532527,"answer_id":219663,"question_id":219585,"body_markdown":"If you really need to specify all the .jar files dynamically you could use shell scripts, or [Apache Ant][1]. There&#39;s a commons project called [Commons Launcher][2] which basically lets you specify your startup script as an ant build file (if you see what I mean).\r\n\r\nThen, you can specify something like:\r\n\r\n    &lt;path id=&quot;base.class.path&quot;&gt;\r\n        &lt;pathelement path=&quot;${resources.dir}&quot;/&gt;\r\n\t\t&lt;fileset dir=&quot;${extensions.dir}&quot; includes=&quot;*.jar&quot; /&gt;\r\n        &lt;fileset dir=&quot;${lib.dir}&quot; includes=&quot;*.jar&quot;/&gt;\r\n    &lt;/path&gt;\r\n\r\nIn your launch build file, which will launch your application with the correct classpath.\r\n\r\n  [1]: http://ant.apache.org/\r\n  [2]: http://commons.apache.org/launcher/","title":"Including all the jars in a directory within the Java classpath","body":"<p>If you really need to specify all the .jar files dynamically you could use shell scripts, or <a href=\"http://ant.apache.org/\" rel=\"noreferrer\">Apache Ant</a>. There's a commons project called <a href=\"http://commons.apache.org/launcher/\" rel=\"noreferrer\">Commons Launcher</a> which basically lets you specify your startup script as an ant build file (if you see what I mean).</p>\n\n<p>Then, you can specify something like:</p>\n\n<pre><code>&lt;path id=\"base.class.path\"&gt;\n    &lt;pathelement path=\"${resources.dir}\"/&gt;\n    &lt;fileset dir=\"${extensions.dir}\" includes=\"*.jar\" /&gt;\n    &lt;fileset dir=\"${lib.dir}\" includes=\"*.jar\"/&gt;\n&lt;/path&gt;\n</code></pre>\n\n<p>In your launch build file, which will launch your application with the correct classpath.</p>\n"},{"comments":[{"owner":{"account_id":441528,"reputation":591,"user_id":831684,"display_name":"Raku"},"score":0,"creation_date":1318419374,"post_id":219706,"comment_id":9418148,"body_markdown":"This seems to work for a lot of people, however, Java seems to plainly ignore the Class-Path entries in the manifest file here. We cannot run the application without manually adding &quot;lib/*&quot; to the classpath using -cp. Any ideas?","body":"This seems to work for a lot of people, however, Java seems to plainly ignore the Class-Path entries in the manifest file here. We cannot run the application without manually adding &quot;lib/*&quot; to the classpath using -cp. Any ideas?"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":6,"creation_date":1357650045,"post_id":219706,"comment_id":19714826,"body_markdown":"oxbow_lakes&#39;s answer isn&#39;t entirely correct; the Class-Path thing is honored (and ONLY that is honored; -cp/-classpath is ignored!) if you start this jar with java -jar myapp.jar. I presume oxbow_lakes meant to write that when he wrote &#39;java -classpath myapp.jar&#39;.","body":"oxbow_lakes&#39;s answer isn&#39;t entirely correct; the Class-Path thing is honored (and ONLY that is honored; -cp/-classpath is ignored!) if you start this jar with java -jar myapp.jar. I presume oxbow_lakes meant to write that when he wrote &#39;java -classpath myapp.jar&#39;."}],"tags":[],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"comment_count":2,"down_vote_count":3,"up_vote_count":79,"is_accepted":false,"score":76,"last_activity_date":1412847827,"creation_date":1224533296,"answer_id":219706,"question_id":219585,"body_markdown":"We get around this problem by deploying a **main** jar file `myapp.jar` which contains a **manifest** (`Manifest.mf`) file specifying a classpath with the other required jars, which are then deployed alongside it. In this case, you only need to declare `java -jar myapp.jar` when running the code. \r\n\r\nSo if you deploy the main `jar` into some directory, and then put the dependent jars into a `lib` folder beneath that, the manifest looks like:\r\n\r\n    Manifest-Version: 1.0\r\n    Implementation-Title: myapp\r\n    Implementation-Version: 1.0.1\r\n    Class-Path: lib/dep1.jar lib/dep2.jar\r\n\r\nNB: this is platform-independent - we can use the same jars to launch on a UNIX server or on a Windows PC.","title":"Including all the jars in a directory within the Java classpath","body":"<p>We get around this problem by deploying a <strong>main</strong> jar file <code>myapp.jar</code> which contains a <strong>manifest</strong> (<code>Manifest.mf</code>) file specifying a classpath with the other required jars, which are then deployed alongside it. In this case, you only need to declare <code>java -jar myapp.jar</code> when running the code. </p>\n\n<p>So if you deploy the main <code>jar</code> into some directory, and then put the dependent jars into a <code>lib</code> folder beneath that, the manifest looks like:</p>\n\n<pre><code>Manifest-Version: 1.0\nImplementation-Title: myapp\nImplementation-Version: 1.0.1\nClass-Path: lib/dep1.jar lib/dep2.jar\n</code></pre>\n\n<p>NB: this is platform-independent - we can use the same jars to launch on a UNIX server or on a Windows PC.</p>\n"},{"comments":[{"owner":{"account_id":7696,"reputation":13316,"user_id":13435,"accept_rate":82,"display_name":"Chris Serra"},"score":0,"creation_date":1224563110,"post_id":219801,"comment_id":89469,"body_markdown":"We&#39;re actually using Java 5 at the moment.  But that is good to know for the future, thanks for the tip!","body":"We&#39;re actually using Java 5 at the moment.  But that is good to know for the future, thanks for the tip!"},{"owner":{"account_id":38281,"reputation":2015,"user_id":109795,"accept_rate":88,"display_name":"Tom"},"score":0,"creation_date":1290167936,"post_id":219801,"comment_id":4571567,"body_markdown":"Awesome. Something like this works for me:java -cp target/classes;target/lib/* de.byteconsult.Main","body":"Awesome. Something like this works for me:java -cp target/classes;target/lib/* de.byteconsult.Main"},{"owner":{"account_id":66899,"reputation":11449,"user_id":196032,"accept_rate":49,"display_name":"Alex R"},"score":5,"creation_date":1301790004,"post_id":219801,"comment_id":6278466,"body_markdown":"The feature is poorly documented, and seems to require some less-than-obvious pre-conditions to be satisfied in order to work as intended.","body":"The feature is poorly documented, and seems to require some less-than-obvious pre-conditions to be satisfied in order to work as intended."},{"owner":{"account_id":315381,"reputation":6586,"user_id":631051,"accept_rate":85,"display_name":"Ellen Spertus"},"score":0,"creation_date":1339527284,"post_id":219801,"comment_id":14378207,"body_markdown":"Lord Torgamus below provides an example and explanation.","body":"Lord Torgamus below provides an example and explanation."},{"owner":{"account_id":5872,"reputation":12730,"user_id":9648,"accept_rate":94,"display_name":"JohnnyLambada"},"score":0,"creation_date":1345064510,"post_id":219801,"comment_id":15967097,"body_markdown":"You can also use find:\n`cp=$(find /path/to/std/jars /path/to/your/jar -not -type d -printf &quot;%p:&quot;)`","body":"You can also use find: <code>cp=$(find &#47;path&#47;to&#47;std&#47;jars &#47;path&#47;to&#47;your&#47;jar -not -type d -printf &quot;%p:&quot;)</code>"},{"owner":{"account_id":1200234,"reputation":18702,"user_id":1171043,"display_name":"Supr"},"score":1,"creation_date":1368623618,"post_id":219801,"comment_id":23801334,"body_markdown":"+1 for the last bash/tr trick. Java/JamVM here doesn&#39;t like wildcards for paths outside the working directory, but explicitly referencing each JAR using shell wildcard + `tr` works!","body":"+1 for the last bash/tr trick. Java/JamVM here doesn&#39;t like wildcards for paths outside the working directory, but explicitly referencing each JAR using shell wildcard + <code>tr</code> works!"},{"owner":{"account_id":260406,"reputation":2851,"user_id":543935,"accept_rate":90,"display_name":"yellavon"},"score":4,"creation_date":1393855298,"post_id":219801,"comment_id":33609094,"body_markdown":"I have a command `java -classpath /jars/*:/anotherJarsDir/* com.test.MyClass` without any quotes and it works fine. I&#39;m wondering why shell isn&#39;t expanding it and erroring out?","body":"I have a command <code>java -classpath &#47;jars&#47;*:&#47;anotherJarsDir&#47;* com.test.MyClass</code> without any quotes and it works fine. I&#39;m wondering why shell isn&#39;t expanding it and erroring out?"},{"owner":{"account_id":88931,"reputation":68975,"user_id":245706,"accept_rate":72,"display_name":"AndiDog"},"score":0,"creation_date":1427320595,"post_id":219801,"comment_id":46736215,"body_markdown":"Mind that `java -cp &quot;Test.jar;lib/*&quot; my.package.MainClass` works but if the classpath parameter is given as second argument, it does not work (`java my.package.MainClass -cp &quot;Test.jar;lib/*&quot;`).","body":"Mind that <code>java -cp &quot;Test.jar;lib&#47;*&quot; my.package.MainClass</code> works but if the classpath parameter is given as second argument, it does not work (<code>java my.package.MainClass -cp &quot;Test.jar;lib&#47;*&quot;</code>)."},{"owner":{"account_id":1086342,"reputation":2788,"user_id":4374258,"accept_rate":55,"display_name":"Sohail Si"},"score":4,"creation_date":1439236883,"post_id":219801,"comment_id":51768372,"body_markdown":"Also don&#39;t use `~` in the -cp","body":"Also don&#39;t use <code>~</code> in the -cp"},{"owner":{"account_id":7734884,"reputation":437,"user_id":5856770,"accept_rate":89,"display_name":"manifold"},"score":0,"creation_date":1468830966,"post_id":219801,"comment_id":64269833,"body_markdown":"Following is not valid as well java -cp = &quot; &quot; like you use in set classpath=&quot; &quot;","body":"Following is not valid as well java -cp = &quot; &quot; like you use in set classpath=&quot; &quot;"},{"owner":{"account_id":1664196,"reputation":1353,"user_id":1531945,"accept_rate":50,"display_name":"Konstantin Pelepelin"},"score":0,"creation_date":1525522307,"post_id":219801,"comment_id":87395391,"body_markdown":"Single quotes should be used in bash","body":"Single quotes should be used in bash"},{"owner":{"account_id":338172,"reputation":634,"user_id":666886,"display_name":"philwalk"},"score":1,"creation_date":1531931527,"post_id":219801,"comment_id":89785050,"body_markdown":"Your windows example doesn&#39;t work with java 8 or earlier, but would with this classpath:  Test.jar;lib\\\\* ... forward slash is okay except when preceding an asterisk and a few others ... see https://bugs.openjdk.java.net/browse/JDK-8131329","body":"Your windows example doesn&#39;t work with java 8 or earlier, but would with this classpath:  Test.jar;lib\\* ... forward slash is okay except when preceding an asterisk and a few others ... see <a href=\"https://bugs.openjdk.java.net/browse/JDK-8131329\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8131329</a>"},{"owner":{"account_id":1780786,"reputation":1522,"user_id":1623598,"display_name":"Peter"},"score":0,"creation_date":1560958463,"post_id":219801,"comment_id":99910193,"body_markdown":"In Cygwin we need to use semicolon (`;`) separator instead of colon (`:`)","body":"In Cygwin we need to use semicolon (<code>;</code>) separator instead of colon (<code>:</code>)"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1578158273,"post_id":219801,"comment_id":105351236,"body_markdown":"@basszero With double quotes, It worked on MacOS 10.15.2 Catalina. Thanks :) +1 for this.","body":"@basszero With double quotes, It worked on MacOS 10.15.2 Catalina. Thanks :) +1 for this."},{"owner":{"account_id":15915975,"reputation":586,"user_id":11498860,"display_name":"Aman"},"score":0,"creation_date":1584790300,"post_id":219801,"comment_id":107548013,"body_markdown":"what about older version than java 6 @basszero","body":"what about older version than java 6 @basszero"},{"owner":{"account_id":16319949,"reputation":476,"user_id":11786034,"display_name":"Hardik Rana"},"score":0,"creation_date":1597906007,"post_id":219801,"comment_id":112285843,"body_markdown":"java -cp &quot;Test.jar;lib/*&quot; my.package.MainClass\n\nwill this not look for children folders under lib? Eg my jar is in directory lib/org/abc.jar","body":"java -cp &quot;Test.jar;lib/*&quot; my.package.MainClass  will this not look for children folders under lib? Eg my jar is in directory lib/org/abc.jar"},{"owner":{"account_id":4304114,"reputation":4450,"user_id":3517025,"accept_rate":73,"display_name":"Joey Baruch"},"score":0,"creation_date":1668164713,"post_id":219801,"comment_id":131344757,"body_markdown":"I&#39;m guessing `Test.jar` is supposed to be in the cwd, or is it just a name for the classloader to search in the `lib` directory?","body":"I&#39;m guessing <code>Test.jar</code> is supposed to be in the cwd, or is it just a name for the classloader to search in the <code>lib</code> directory?"}],"tags":[],"owner":{"account_id":232,"reputation":29734,"user_id":287,"accept_rate":91,"display_name":"basszero"},"comment_count":17,"down_vote_count":12,"up_vote_count":1328,"is_accepted":false,"score":1316,"last_activity_date":1597394699,"creation_date":1224534734,"answer_id":219801,"question_id":219585,"body_markdown":"Using Java 6 or later, the classpath option supports wildcards. Note the following:\r\n\r\n - Use straight quotes (`&quot;`)\r\n - Use `*`, not `*.jar`\r\n\r\n**Windows**\r\n\r\n&gt; `java -cp &quot;Test.jar;lib/*&quot; my.package.MainClass`\r\n\r\n**Unix**\r\n\r\n&gt; `java -cp &quot;Test.jar:lib/*&quot; my.package.MainClass`\r\n\r\nThis is similar to Windows, but uses `:` instead of `;`. If you cannot use wildcards, `bash` allows the following syntax (where `lib` is the directory containing all the Java archive files):\r\n\r\n&gt; `java -cp &quot;$(printf %s: lib/*.jar)&quot;`\r\n\r\n(Note that using a classpath is incompatible with the `-jar` option. See also: https://stackoverflow.com/questions/13018100/execute-jar-file-with-multiple-classpath-libraries-from-command-prompt)\r\n\r\n\r\n**Understanding Wildcards**\r\n\r\nFrom the [Classpath][1] document:\r\n\r\n&gt; Class path entries can contain the basename wildcard character `*`, which is considered equivalent to specifying a list of all the files\r\n&gt; in the directory with the extension `.jar` or `.JAR`. For example, the\r\n&gt; class path entry `foo/*` specifies all JAR files in the directory named\r\n&gt; foo. A classpath entry consisting simply of `*` expands to a list of all\r\n&gt; the jar files in the current directory.\r\n&gt; \r\n&gt; A class path entry that contains `*` will not match class files. To\r\n&gt; match both classes and JAR files in a single directory foo, use either\r\n&gt; `foo;foo/*` or `foo/*;foo`. The order chosen determines whether the\r\n&gt; classes and resources in `foo` are loaded before JAR files in `foo`, or\r\n&gt; vice versa.\r\n&gt; \r\n&gt; Subdirectories are not searched recursively. For example, `foo/*` looks\r\n&gt; for JAR files only in `foo`, not in `foo/bar`, `foo/baz`, etc.\r\n&gt; \r\n&gt; The order in which the JAR files in a directory are enumerated in the\r\n&gt; expanded class path is not specified and may vary from platform to\r\n&gt; platform and even from moment to moment on the same machine. A\r\n&gt; well-constructed application should not depend upon any particular\r\n&gt; order. If a specific order is required then the JAR files can be\r\n&gt; enumerated explicitly in the class path.\r\n&gt; \r\n&gt; Expansion of wildcards is done early, prior to the invocation of a\r\n&gt; program&#39;s main method, rather than late, during the class-loading\r\n&gt; process itself. Each element of the input class path containing a\r\n&gt; wildcard is replaced by the (possibly empty) sequence of elements\r\n&gt; generated by enumerating the JAR files in the named directory. For\r\n&gt; example, if the directory `foo` contains `a.jar`, `b.jar`, and `c.jar`, then\r\n&gt; the class path `foo/*` is expanded into `foo/a.jar;foo/b.jar;foo/c.jar`,\r\n&gt; and that string would be the value of the system property\r\n&gt; `java.class.path`.\r\n&gt; \r\n&gt; The `CLASSPATH` environment variable is not treated any differently from\r\n&gt; the `-classpath` (or `-cp`) command-line option. That is, wildcards are\r\n&gt; honored in all these cases. However, class path wildcards are not\r\n&gt; honored in the `Class-Path jar-manifest` header.\r\n\r\nNote: due to a known bug in java 8, the windows examples must use a backslash preceding entries with a trailing asterisk: https://bugs.openjdk.java.net/browse/JDK-8131329\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html","title":"Including all the jars in a directory within the Java classpath","body":"<p>Using Java 6 or later, the classpath option supports wildcards. Note the following:</p>\n<ul>\n<li>Use straight quotes (<code>&quot;</code>)</li>\n<li>Use <code>*</code>, not <code>*.jar</code></li>\n</ul>\n<p><strong>Windows</strong></p>\n<blockquote>\n<p><code>java -cp &quot;Test.jar;lib/*&quot; my.package.MainClass</code></p>\n</blockquote>\n<p><strong>Unix</strong></p>\n<blockquote>\n<p><code>java -cp &quot;Test.jar:lib/*&quot; my.package.MainClass</code></p>\n</blockquote>\n<p>This is similar to Windows, but uses <code>:</code> instead of <code>;</code>. If you cannot use wildcards, <code>bash</code> allows the following syntax (where <code>lib</code> is the directory containing all the Java archive files):</p>\n<blockquote>\n<p><code>java -cp &quot;$(printf %s: lib/*.jar)&quot;</code></p>\n</blockquote>\n<p>(Note that using a classpath is incompatible with the <code>-jar</code> option. See also: <a href=\"https://stackoverflow.com/questions/13018100/execute-jar-file-with-multiple-classpath-libraries-from-command-prompt\">Execute jar file with multiple classpath libraries from command prompt</a>)</p>\n<p><strong>Understanding Wildcards</strong></p>\n<p>From the <a href=\"http://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html\" rel=\"noreferrer\">Classpath</a> document:</p>\n<blockquote>\n<p>Class path entries can contain the basename wildcard character <code>*</code>, which is considered equivalent to specifying a list of all the files\nin the directory with the extension <code>.jar</code> or <code>.JAR</code>. For example, the\nclass path entry <code>foo/*</code> specifies all JAR files in the directory named\nfoo. A classpath entry consisting simply of <code>*</code> expands to a list of all\nthe jar files in the current directory.</p>\n<p>A class path entry that contains <code>*</code> will not match class files. To\nmatch both classes and JAR files in a single directory foo, use either\n<code>foo;foo/*</code> or <code>foo/*;foo</code>. The order chosen determines whether the\nclasses and resources in <code>foo</code> are loaded before JAR files in <code>foo</code>, or\nvice versa.</p>\n<p>Subdirectories are not searched recursively. For example, <code>foo/*</code> looks\nfor JAR files only in <code>foo</code>, not in <code>foo/bar</code>, <code>foo/baz</code>, etc.</p>\n<p>The order in which the JAR files in a directory are enumerated in the\nexpanded class path is not specified and may vary from platform to\nplatform and even from moment to moment on the same machine. A\nwell-constructed application should not depend upon any particular\norder. If a specific order is required then the JAR files can be\nenumerated explicitly in the class path.</p>\n<p>Expansion of wildcards is done early, prior to the invocation of a\nprogram's main method, rather than late, during the class-loading\nprocess itself. Each element of the input class path containing a\nwildcard is replaced by the (possibly empty) sequence of elements\ngenerated by enumerating the JAR files in the named directory. For\nexample, if the directory <code>foo</code> contains <code>a.jar</code>, <code>b.jar</code>, and <code>c.jar</code>, then\nthe class path <code>foo/*</code> is expanded into <code>foo/a.jar;foo/b.jar;foo/c.jar</code>,\nand that string would be the value of the system property\n<code>java.class.path</code>.</p>\n<p>The <code>CLASSPATH</code> environment variable is not treated any differently from\nthe <code>-classpath</code> (or <code>-cp</code>) command-line option. That is, wildcards are\nhonored in all these cases. However, class path wildcards are not\nhonored in the <code>Class-Path jar-manifest</code> header.</p>\n</blockquote>\n<p>Note: due to a known bug in java 8, the windows examples must use a backslash preceding entries with a trailing asterisk: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8131329\" rel=\"noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8131329</a></p>\n"},{"comments":[{"owner":{"account_id":4684234,"reputation":2137,"user_id":3792095,"display_name":"simo.3792"},"score":0,"creation_date":1412832629,"post_id":344818,"comment_id":41215969,"body_markdown":"This may have been the only way back in &#39;08, but not anymore.","body":"This may have been the only way back in &#39;08, but not anymore."},{"owner":{"account_id":1459321,"reputation":430,"user_id":1374061,"display_name":"Devon Peticolas"},"score":0,"creation_date":1428363884,"post_id":344818,"comment_id":47123449,"body_markdown":"This isn&#39;t the worst thing. It&#39;s a hack, but I have this set in my bashrc\n`for jar in $(ls $HOME/bin/*.jar); do\n        export CLASSPATH=$jar:$CLASSPATH;\n    done\n`","body":"This isn&#39;t the worst thing. It&#39;s a hack, but I have this set in my bashrc <code>for jar in $(ls $HOME&#47;bin&#47;*.jar); do         export CLASSPATH=$jar:$CLASSPATH;     done </code>"}],"tags":[],"owner":{"account_id":16574,"reputation":147,"user_id":36268,"display_name":"ParseTheData"},"comment_count":2,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1372671418,"creation_date":1228504048,"answer_id":344818,"question_id":219585,"body_markdown":"The only way I know how is to do it individually, for example:\r\n\r\n    setenv CLASSPATH /User/username/newfolder/jarfile.jar:jarfile2.jar:jarfile3.jar:.\r\n\r\nHope that helps!\r\n","title":"Including all the jars in a directory within the Java classpath","body":"<p>The only way I know how is to do it individually, for example:</p>\n\n<pre><code>setenv CLASSPATH /User/username/newfolder/jarfile.jar:jarfile2.jar:jarfile3.jar:.\n</code></pre>\n\n<p>Hope that helps!</p>\n"},{"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":25,"creation_date":1354530033,"post_id":1275467,"comment_id":18781393,"body_markdown":"The perfect answer. 2 important things to notice: 1) Use quotes and 2) Use * only, not *.jar","body":"The perfect answer. 2 important things to notice: 1) Use quotes and 2) Use * only, not *.jar"},{"owner":{"account_id":265671,"reputation":33764,"user_id":552792,"accept_rate":43,"display_name":"jamesmortensen"},"score":5,"creation_date":1380413577,"post_id":1275467,"comment_id":28192955,"body_markdown":"A year and 8 months later, the edit I made to include the UNIX version saved me yet again. :)  Funny how it wouldn&#39;t recognize my jar files with `*.jar` but only with `*`.","body":"A year and 8 months later, the edit I made to include the UNIX version saved me yet again. :)  Funny how it wouldn&#39;t recognize my jar files with <code>*.jar</code> but only with <code>*</code>."},{"owner":{"account_id":1725042,"reputation":3279,"user_id":1729501,"accept_rate":79,"display_name":"user13107"},"score":0,"creation_date":1395214073,"post_id":1275467,"comment_id":34229964,"body_markdown":"I found that the order of classpaths is important (but I don&#39;t know why). I was getting errors until I switched order of classpaths.","body":"I found that the order of classpaths is important (but I don&#39;t know why). I was getting errors until I switched order of classpaths."},{"owner":{"account_id":105404,"reputation":6333,"user_id":281306,"accept_rate":94,"display_name":"Sebastian"},"score":0,"creation_date":1399577361,"post_id":1275467,"comment_id":36134033,"body_markdown":"@jmort253, the thing is, this is not the shell * expanding, but the wildcard is java parsing the classpath, seeing the * and filling in the wildcard","body":"@jmort253, the thing is, this is not the shell * expanding, but the wildcard is java parsing the classpath, seeing the * and filling in the wildcard"},{"owner":{"account_id":265671,"reputation":33764,"user_id":552792,"accept_rate":43,"display_name":"jamesmortensen"},"score":2,"creation_date":1399577594,"post_id":1275467,"comment_id":36134157,"body_markdown":"@SebastianGodelet - Yeh, that&#39;s just me getting confused between Regex wildcards and this notation, which isn&#39;t the same I guess. Mostly, what saved me is knowing the difference between `:` on one platform and `;` on the other. :) I compile with Java from the command line about once per year, just enough not to remember how yet often enough to be annoying.","body":"@SebastianGodelet - Yeh, that&#39;s just me getting confused between Regex wildcards and this notation, which isn&#39;t the same I guess. Mostly, what saved me is knowing the difference between <code>:</code> on one platform and <code>;</code> on the other. :) I compile with Java from the command line about once per year, just enough not to remember how yet often enough to be annoying."},{"owner":{"account_id":16319949,"reputation":476,"user_id":11786034,"display_name":"Hardik Rana"},"score":0,"creation_date":1597907655,"post_id":1275467,"comment_id":112286468,"body_markdown":"java -cp &quot;Test.jar;lib/*&quot; my.package.MainClass will this not look for children folders under lib? Eg my jar is in directory lib/org/abc.ja","body":"java -cp &quot;Test.jar;lib/*&quot; my.package.MainClass will this not look for children folders under lib? Eg my jar is in directory lib/org/abc.ja"},{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1637283210,"post_id":1275467,"comment_id":123791679,"body_markdown":"I may no longer need groovy!  `-classpath ~/&quot;.groovy/lib/*&quot;`","body":"I may no longer need groovy!  <code>-classpath ~&#47;&quot;.groovy&#47;lib&#47;*&quot;</code>"}],"tags":[],"owner":{"account_id":18334,"reputation":4176,"user_id":41939,"accept_rate":60,"display_name":"davorp"},"comment_count":7,"down_vote_count":0,"up_vote_count":280,"is_accepted":false,"score":280,"last_activity_date":1612794636,"creation_date":1250210526,"answer_id":1275467,"question_id":219585,"body_markdown":"Under Windows this works:\r\n\r\n    java -cp &quot;Test.jar;lib/*&quot; my.package.MainClass\r\n\r\nand this does not work:\r\n\r\n    java -cp &quot;Test.jar;lib/*.jar&quot; my.package.MainClass\r\n\r\nNotice the `*.jar`, **so the * wildcard should be used alone**.\r\n\r\n----\r\nOn Linux, the following works:\r\n    \r\n    java -cp &quot;Test.jar:lib/*&quot; my.package.MainClass\r\n\r\nThe separators are ***colons*** instead of *semicolons*.","title":"Including all the jars in a directory within the Java classpath","body":"<p>Under Windows this works:</p>\n<pre><code>java -cp &quot;Test.jar;lib/*&quot; my.package.MainClass\n</code></pre>\n<p>and this does not work:</p>\n<pre><code>java -cp &quot;Test.jar;lib/*.jar&quot; my.package.MainClass\n</code></pre>\n<p>Notice the <code>*.jar</code>, <strong>so the * wildcard should be used alone</strong>.</p>\n<hr />\n<p>On Linux, the following works:</p>\n<pre><code>java -cp &quot;Test.jar:lib/*&quot; my.package.MainClass\n</code></pre>\n<p>The separators are <em><strong>colons</strong></em> instead of <em>semicolons</em>.</p>\n"},{"tags":[],"owner":{"account_id":43300,"reputation":9257,"user_id":126529,"accept_rate":54,"display_name":"Alexey"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1372671377,"creation_date":1261706939,"answer_id":1960268,"question_id":219585,"body_markdown":"For windows quotes are required and ; should be used as separator. e.g.:\r\n\r\n    java -cp &quot;target\\\\*;target\\\\dependency\\\\*&quot; my.package.Main","title":"Including all the jars in a directory within the Java classpath","body":"<p>For windows quotes are required and ; should be used as separator. e.g.:</p>\n\n<pre><code>java -cp \"target\\\\*;target\\\\dependency\\\\*\" my.package.Main\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22611,"reputation":9024,"user_id":55935,"accept_rate":93,"display_name":"Giovanni Funchal"},"score":4,"creation_date":1275658289,"post_id":2394082,"comment_id":3034605,"body_markdown":"This works, but watch out, pass the `-Djava.ext.dirs=` BEFORE `-jar`","body":"This works, but watch out, pass the <code>-Djava.ext.dirs=</code> BEFORE <code>-jar</code>"},{"owner":{"account_id":17795,"reputation":24571,"user_id":40214,"accept_rate":79,"display_name":"Dennis C"},"score":6,"creation_date":1291082184,"post_id":2394082,"comment_id":4680080,"body_markdown":"java.ext.dirs will work very different from a normal jar in classpath. It has higher priority and permission which will able to somehow override classes in bootstamp(rt.jar)","body":"java.ext.dirs will work very different from a normal jar in classpath. It has higher priority and permission which will able to somehow override classes in bootstamp(rt.jar)"},{"owner":{"account_id":874523,"reputation":2017,"user_id":1216686,"accept_rate":11,"display_name":"Matt Campbell"},"score":0,"creation_date":1572992954,"post_id":2394082,"comment_id":103733661,"body_markdown":"Thanks.  On &#39;java version &quot;1.8.0_221&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_221-b27)\nJava HotSpot(TM) 64-Bit Server VM (build 25.221-b27, mixed mode)&#39;, only this -D version of passing in the classpath worked.  The traditional form did not.","body":"Thanks.  On &#39;java version &quot;1.8.0_221&quot; Java(TM) SE Runtime Environment (build 1.8.0_221-b27) Java HotSpot(TM) 64-Bit Server VM (build 25.221-b27, mixed mode)&#39;, only this -D version of passing in the classpath worked.  The traditional form did not."},{"owner":{"account_id":3187435,"reputation":2438,"user_id":3325931,"display_name":"troyfolger"},"score":0,"creation_date":1659112082,"post_id":2394082,"comment_id":129223369,"body_markdown":"Not any more: `JVMJ9VM149E java.ext.dirs=/core/dev1/lib is no longer supported. Please add the required libraries/jar files to the classpath.`","body":"Not any more: <code>JVMJ9VM149E java.ext.dirs=&#47;core&#47;dev1&#47;lib is no longer supported. Please add the required libraries&#47;jar files to the classpath.</code>"}],"tags":[],"owner":{"account_id":108387,"reputation":8648,"user_id":287727,"accept_rate":100,"display_name":"Navi"},"comment_count":4,"down_vote_count":4,"up_vote_count":35,"is_accepted":false,"score":31,"last_activity_date":1446047634,"creation_date":1267909217,"answer_id":2394082,"question_id":219585,"body_markdown":"You can try java `-Djava.ext.dirs=jarDirectory` \r\nhttp://docs.oracle.com/javase/6/docs/technotes/guides/extensions/spec.html\r\n\r\nDirectory for external jars when running java","title":"Including all the jars in a directory within the Java classpath","body":"<p>You can try java <code>-Djava.ext.dirs=jarDirectory</code> \n<a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/extensions/spec.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/6/docs/technotes/guides/extensions/spec.html</a></p>\n\n<p>Directory for external jars when running java</p>\n"},{"tags":[],"owner":{"account_id":665067,"reputation":136,"user_id":494130,"display_name":"prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1407931619,"creation_date":1288650691,"answer_id":4073636,"question_id":219585,"body_markdown":"If you are using Java 6, then you can use wildcards in the classpath.\r\n\r\nNow it is possible to use wildcards in classpath definition:\r\n\r\n    javac -cp libs/* -verbose -encoding UTF-8 src/mypackage/*.java  -d build/classes\r\n\r\nRef: http://www.rekk.de/bloggy/2008/add-all-jars-in-a-directory-to-classpath-with-java-se-6-using-wildcards/","title":"Including all the jars in a directory within the Java classpath","body":"<p>If you are using Java 6, then you can use wildcards in the classpath.</p>\n\n<p>Now it is possible to use wildcards in classpath definition:</p>\n\n<pre><code>javac -cp libs/* -verbose -encoding UTF-8 src/mypackage/*.java  -d build/classes\n</code></pre>\n\n<p>Ref: <a href=\"http://www.rekk.de/bloggy/2008/add-all-jars-in-a-directory-to-classpath-with-java-se-6-using-wildcards/\" rel=\"noreferrer\">http://www.rekk.de/bloggy/2008/add-all-jars-in-a-directory-to-classpath-with-java-se-6-using-wildcards/</a></p>\n"},{"comments":[{"owner":{"account_id":451920,"reputation":12682,"user_id":848072,"accept_rate":47,"display_name":"albfan"},"score":4,"creation_date":1332453805,"post_id":5338035,"comment_id":12526757,"body_markdown":"a funny note. java -cp lib/* my.main.Class will fail always because shell glob expansion of lib/*, while java -cp .:lib/* my.main.Class will not because .:lib/* is not a valid glob path. Take a while to note that","body":"a funny note. java -cp lib/* my.main.Class will fail always because shell glob expansion of lib/*, while java -cp .:lib/* my.main.Class will not because .:lib/* is not a valid glob path. Take a while to note that"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1357650090,"post_id":5338035,"comment_id":19714845,"body_markdown":"This does not work; linux will expand the *. you can try: java -cp &#39;.:lib/*&#39; and that works fine (note the single quotes! It won&#39;t work with double quotes!). Actually, .:lib/* might work if that&#39;s not a legit glob due to the colon, but it feels a bit iffy. I&#39;d add the quotes. The single quotes tell bash to not touch any part of the contents.","body":"This does not work; linux will expand the <i>. you can try: java -cp &#39;.:lib/</i>&#39; and that works fine (note the single quotes! It won&#39;t work with double quotes!). Actually, .:lib/* might work if that&#39;s not a legit glob due to the colon, but it feels a bit iffy. I&#39;d add the quotes. The single quotes tell bash to not touch any part of the contents."},{"owner":{"account_id":147441,"reputation":2640,"user_id":358562,"display_name":"Angel O&#39;Sphere"},"score":0,"creation_date":1464613532,"post_id":5338035,"comment_id":62544298,"body_markdown":"It does not matter (in this context) if you use single or double quotes. You want to prevent the shell from expanding (globbing) the *, that is all. And pass the text &quot;lib/\\*&quot; litterally to the JVM, so the VM recognices this as a &quot;special pattern&quot; and searches by itself for jar files.","body":"It does not matter (in this context) if you use single or double quotes. You want to prevent the shell from expanding (globbing) the *, that is all. And pass the text &quot;lib/*&quot; litterally to the JVM, so the VM recognices this as a &quot;special pattern&quot; and searches by itself for jar files."}],"tags":[],"owner":{"account_id":725726,"reputation":549,"user_id":664167,"display_name":"Habi"},"comment_count":3,"down_vote_count":1,"up_vote_count":55,"is_accepted":false,"score":54,"last_activity_date":1300359682,"creation_date":1300359328,"answer_id":5338035,"question_id":219585,"body_markdown":"My solution on Ubuntu 10.04 using java-sun 1.6.0_24 having all jars in &quot;lib&quot; directory:\r\n\r\n&lt;pre&gt;java -cp .:lib/* my.main.Class&lt;/pre&gt;\r\n\r\nIf this fails, the following command should work (prints out all *.jars in lib directory to the classpath param)\r\n\r\n&lt;pre&gt;java -cp $(for i in lib/*.jar ; do echo -n $i: ; done). my.main.Class&lt;/pre&gt;\r\n\r\n","title":"Including all the jars in a directory within the Java classpath","body":"<p>My solution on Ubuntu 10.04 using java-sun 1.6.0_24 having all jars in \"lib\" directory:</p>\n\n<pre>java -cp .:lib/* my.main.Class</pre>\n\n<p>If this fails, the following command should work (prints out all *.jars in lib directory to the classpath param)</p>\n\n<pre>java -cp $(for i in lib/*.jar ; do echo -n $i: ; done). my.main.Class</pre>\n"},{"tags":[],"owner":{"account_id":455032,"reputation":2720,"user_id":853001,"display_name":"realPK"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1321847679,"creation_date":1321847679,"answer_id":8207081,"question_id":219585,"body_markdown":"All the above solutions work great if you develop and run the Java application outside any IDE like Eclipse or Netbeans.\r\n\r\nIf you are on Windows 7 and used Eclipse IDE for Development in Java, you might run into issues if using Command Prompt to run the class files built inside Eclipse.\r\n\r\nE.g. Your source code in Eclipse is having the following package hierarchy:\r\nedu.sjsu.myapp.Main.java\r\n\r\nYou have json.jar as an external dependency for the Main.java\r\n\r\nWhen you try running Main.java from within Eclipse, it will run without any issues.\r\n\r\nBut when you try running this using Command Prompt after compiling Main.java in Eclipse, it will shoot some weird errors saying &quot;ClassNotDef Error blah blah&quot;.\r\n\r\n**I assume you are in the working directory of your source code !!**\r\n\r\nUse the following syntax to run it from command prompt:\r\n\r\n 1. &gt;javac -cp **&quot;.;json.jar&quot;** Main.java\r\n  \r\n 2. &gt;java -cp **&quot;.;json.jar&quot;** edu.sjsu.myapp.Main\r\n\r\n  [Don&#39;t miss the . above]\r\n\r\nThis is because you have placed the Main.java inside the package edu.sjsu.myapp and java.exe will look for the exact pattern.\r\n\r\nHope it helps !!","title":"Including all the jars in a directory within the Java classpath","body":"<p>All the above solutions work great if you develop and run the Java application outside any IDE like Eclipse or Netbeans.</p>\n\n<p>If you are on Windows 7 and used Eclipse IDE for Development in Java, you might run into issues if using Command Prompt to run the class files built inside Eclipse.</p>\n\n<p>E.g. Your source code in Eclipse is having the following package hierarchy:\nedu.sjsu.myapp.Main.java</p>\n\n<p>You have json.jar as an external dependency for the Main.java</p>\n\n<p>When you try running Main.java from within Eclipse, it will run without any issues.</p>\n\n<p>But when you try running this using Command Prompt after compiling Main.java in Eclipse, it will shoot some weird errors saying \"ClassNotDef Error blah blah\".</p>\n\n<p><strong>I assume you are in the working directory of your source code !!</strong></p>\n\n<p>Use the following syntax to run it from command prompt:</p>\n\n<ol>\n<li><blockquote>\n  <p>javac -cp <strong>\".;json.jar\"</strong> Main.java</p>\n</blockquote></li>\n<li><blockquote>\n  <p>java -cp <strong>\".;json.jar\"</strong> edu.sjsu.myapp.Main</p>\n</blockquote>\n\n<p>[Don't miss the . above]</p></li>\n</ol>\n\n<p>This is because you have placed the Main.java inside the package edu.sjsu.myapp and java.exe will look for the exact pattern.</p>\n\n<p>Hope it helps !!</p>\n"},{"comments":[{"owner":{"account_id":979173,"reputation":981,"user_id":999371,"accept_rate":89,"display_name":"Eyad Ebrahim"},"score":0,"creation_date":1348041931,"post_id":8595267,"comment_id":16806419,"body_markdown":"my problem was with lib/*.jar rather than lib/*. Thanks a lot this fixed it. I noticed that there&#39;s a difference between : and ; but that could be my testing-many-changes-at-the-same-time kind of thing.","body":"my problem was with lib/*.jar rather than lib/*. Thanks a lot this fixed it. I noticed that there&#39;s a difference between : and ; but that could be my testing-many-changes-at-the-same-time kind of thing."},{"owner":{"account_id":5522480,"reputation":3879,"user_id":4385010,"display_name":"burak"},"score":0,"creation_date":1533902208,"post_id":8595267,"comment_id":90528946,"body_markdown":"Thanks for the emphasising the difference between * and *.jar","body":"Thanks for the emphasising the difference between * and *.jar"},{"owner":{"account_id":327803,"reputation":316,"user_id":650382,"display_name":"Datbates"},"score":0,"creation_date":1595262294,"post_id":8595267,"comment_id":111407308,"body_markdown":"I am not sure why having the additional classpath entry for &quot;.&quot;  fixed my problem, but it works now.   &quot;.&quot; is the same directory as the directory I specified with the wildcard.  I can&#39;t see why this would matter, but it did.   Thanks!","body":"I am not sure why having the additional classpath entry for &quot;.&quot;  fixed my problem, but it works now.   &quot;.&quot; is the same directory as the directory I specified with the wildcard.  I can&#39;t see why this would matter, but it did.   Thanks!"}],"tags":[],"owner":{"account_id":42117,"reputation":30319,"user_id":122607,"accept_rate":92,"display_name":"Pops"},"comment_count":3,"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1324495929,"creation_date":1324495929,"answer_id":8595267,"question_id":219585,"body_markdown":"Short answer: `java -classpath lib/*:. my.package.Program`\r\n\r\nOracle provides documentation on using wildcards in classpaths [here for Java 6](http://java.sun.com/javase/6/docs/technotes/tools/windows/classpath.html) and [here for Java 7](http://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html), under the section heading __Understanding class path wildcards__. (As I write this, the two pages contain the same information.) Here&#39;s a summary of the highlights:\r\n\r\n- In general, to include all of the JARs in a given directory, you can use the wildcard `*` (__not__ `*.jar`).\r\n\r\n- The wildcard only matches JARs, not class files; to get all classes in a directory, just end the classpath entry at the directory name.\r\n\r\n- The above two options can be combined to include all JAR and class files in a directory, and the usual classpath precedence rules apply. E.g. `-cp /classes;/jars/*`\r\n\r\n- The wildcard will __not__ search for JARs in subdirectories.\r\n\r\n- The above bullet points are true if you use the `CLASSPATH` system property or the `-cp` or `-classpath` command line flags. However, if you use the `Class-Path` JAR manifest header (as you might do with an ant build file), wildcards will __not__ be honored.\r\n\r\n_Yes, my first link is the same one provided in the top-scoring answer (which I have no hope of overtaking), but that answer doesn&#39;t provide much explanation beyond the link. Since that sort of behavior is [discouraged](https://meta.stackexchange.com/questions/8231/are-answers-that-just-contain-links-elsewhere-really-good-answers) on Stack Overflow [these days](https://meta.stackexchange.com/q/116301/131713), I thought I&#39;d expand on it._","title":"Including all the jars in a directory within the Java classpath","body":"<p>Short answer: <code>java -classpath lib/*:. my.package.Program</code></p>\n\n<p>Oracle provides documentation on using wildcards in classpaths <a href=\"http://java.sun.com/javase/6/docs/technotes/tools/windows/classpath.html\" rel=\"noreferrer\">here for Java 6</a> and <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\" rel=\"noreferrer\">here for Java 7</a>, under the section heading <strong>Understanding class path wildcards</strong>. (As I write this, the two pages contain the same information.) Here's a summary of the highlights:</p>\n\n<ul>\n<li><p>In general, to include all of the JARs in a given directory, you can use the wildcard <code>*</code> (<strong>not</strong> <code>*.jar</code>).</p></li>\n<li><p>The wildcard only matches JARs, not class files; to get all classes in a directory, just end the classpath entry at the directory name.</p></li>\n<li><p>The above two options can be combined to include all JAR and class files in a directory, and the usual classpath precedence rules apply. E.g. <code>-cp /classes;/jars/*</code></p></li>\n<li><p>The wildcard will <strong>not</strong> search for JARs in subdirectories.</p></li>\n<li><p>The above bullet points are true if you use the <code>CLASSPATH</code> system property or the <code>-cp</code> or <code>-classpath</code> command line flags. However, if you use the <code>Class-Path</code> JAR manifest header (as you might do with an ant build file), wildcards will <strong>not</strong> be honored.</p></li>\n</ul>\n\n<p><em>Yes, my first link is the same one provided in the top-scoring answer (which I have no hope of overtaking), but that answer doesn't provide much explanation beyond the link. Since that sort of behavior is <a href=\"https://meta.stackexchange.com/questions/8231/are-answers-that-just-contain-links-elsewhere-really-good-answers\">discouraged</a> on Stack Overflow <a href=\"https://meta.stackexchange.com/q/116301/131713\">these days</a>, I thought I'd expand on it.</em></p>\n"},{"comments":[{"owner":{"account_id":3641890,"reputation":410,"user_id":3035786,"accept_rate":50,"display_name":"Mugeesh Husain"},"score":0,"creation_date":1591847664,"post_id":9265429,"comment_id":110213094,"body_markdown":"java -classpath &quot;lib/*:.&quot; my.package.Program\nis worked for me","body":"java -classpath &quot;lib/*:.&quot; my.package.Program is worked for me"}],"tags":[],"owner":{"account_id":183388,"reputation":1208,"user_id":418730,"display_name":"rvernica"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1329155826,"creation_date":1329155826,"answer_id":9265429,"question_id":219585,"body_markdown":"**Correct**:\r\n\r\n    java -classpath &quot;lib/*:.&quot; my.package.Program\r\n\r\nIncorrect:\r\n\r\n    java -classpath &quot;lib/a*.jar:.&quot; my.package.Program\r\n    java -classpath &quot;lib/a*:.&quot;     my.package.Program\r\n    java -classpath &quot;lib/*.jar:.&quot;  my.package.Program\r\n    java -classpath  lib/*:.       my.package.Program\r\n\r\n","title":"Including all the jars in a directory within the Java classpath","body":"<p><strong>Correct</strong>:</p>\n\n<pre><code>java -classpath \"lib/*:.\" my.package.Program\n</code></pre>\n\n<p>Incorrect:</p>\n\n<pre><code>java -classpath \"lib/a*.jar:.\" my.package.Program\njava -classpath \"lib/a*:.\"     my.package.Program\njava -classpath \"lib/*.jar:.\"  my.package.Program\njava -classpath  lib/*:.       my.package.Program\n</code></pre>\n"},{"comments":[{"owner":{"account_id":338172,"reputation":634,"user_id":666886,"display_name":"philwalk"},"score":0,"creation_date":1531943176,"post_id":12891240,"comment_id":89791212,"body_markdown":"windows example seems to have worked for java 6, maybe java 7, but not for java 8 (see https://bugs.openjdk.java.net/browse/JDK-8131329)","body":"windows example seems to have worked for java 6, maybe java 7, but not for java 8 (see <a href=\"https://bugs.openjdk.java.net/browse/JDK-8131329\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8131329</a>)"},{"owner":{"account_id":404984,"reputation":2612,"user_id":773623,"display_name":"Jonathan Drapeau"},"score":0,"creation_date":1547216103,"post_id":12891240,"comment_id":95127465,"body_markdown":"Works for java 8 in linux","body":"Works for java 8 in linux"},{"owner":{"account_id":16319949,"reputation":476,"user_id":11786034,"display_name":"Hardik Rana"},"score":0,"creation_date":1597907676,"post_id":12891240,"comment_id":112286483,"body_markdown":"java -cp &quot;Test.jar;lib/*&quot; my.package.MainClass will this not look for children folders under lib? Eg my jar is in directory lib/org/abc.ja","body":"java -cp &quot;Test.jar;lib/*&quot; my.package.MainClass will this not look for children folders under lib? Eg my jar is in directory lib/org/abc.ja"}],"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"comment_count":3,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1415864559,"creation_date":1350287024,"answer_id":12891240,"question_id":219585,"body_markdown":"For me this works in windows .\r\n\r\n    java -cp &quot;/lib/*;&quot; sample\r\n\r\nFor linux\r\n   \r\n\r\n    java -cp &quot;/lib/*:&quot; sample\r\n\r\nI am using [Java 6][1]\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/technotes/tools/windows/classpath.html\r\n\r\n","title":"Including all the jars in a directory within the Java classpath","body":"<p>For me this works in windows .</p>\n\n<pre><code>java -cp \"/lib/*;\" sample\n</code></pre>\n\n<p>For linux</p>\n\n<pre><code>java -cp \"/lib/*:\" sample\n</code></pre>\n\n<p>I am using <a href=\"http://java.sun.com/javase/6/docs/technotes/tools/windows/classpath.html\" rel=\"noreferrer\">Java 6</a></p>\n"},{"tags":[],"owner":{"account_id":52081,"reputation":888,"user_id":155631,"accept_rate":78,"display_name":"Matt S."},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1480406739,"creation_date":1372492135,"answer_id":17377968,"question_id":219585,"body_markdown":"Short Form: If your main is within a jar, you&#39;ll probably need an additional &#39;-jar pathTo/yourJar/YourJarsName.jar &#39;  explicitly declared to get it working (even though &#39;YourJarsName.jar&#39; was on the classpath)\r\n(or, expressed to answer the original question that was asked 5 years ago: you don&#39;t need to redeclare each jar explicitly, but does seem, even with java6 you need to redeclare your own jar ...) \r\n\r\n-----------------------------------------\r\nLong Form: \r\n(I&#39;ve made this explicit to the point that I hope even interlopers to java can make use of this) \r\n\r\nLike many here I&#39;m using eclipse to export jars: (File-&gt;Export--&gt;&#39;Runnable JAR File&#39;). There are three options on &#39;Library handling&#39; eclipse (Juno) offers:\r\n\r\n    opt1: &quot;Extract required libraries into generated JAR&quot;\r\n    opt2: &quot;Package required libraries into generated JAR&quot;\r\n    opt3: &quot;Copy required libraries into a sub-folder next to the generated JAR&quot;\r\n\r\nTypically I&#39;d use opt2 (and opt1 was definitely breaking), however native code in one of the jars I&#39;m using I discovered breaks with the handy &quot;jarinjar&quot; trick that eclipse leverages when you choose that option. Even after realizing I needed opt3, and then finding this StackOverflow entry, it still took me some time to figure it out how to launch my main outside of eclipse, so here&#39;s what worked for me, as it&#39;s useful for others...\r\n\r\n---\r\nIf  you named your jar: &quot;fooBarTheJarFile.jar&quot; \r\nand all is set to export to the  dir:     &quot;/theFully/qualifiedPath/toYourChosenDir&quot;. \r\n\r\n(meaning the  &#39;Export destination&#39; field will read:   &#39;/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile.jar&#39; )\r\n\r\nAfter you hit finish, you&#39;ll find eclipse then puts all the libraries into a folder named &#39;fooBarTheJarFile_lib&#39; within that export directory, giving you something like:\r\n\r\n    /theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile.jar\r\n    /theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/SomeOtherJar01.jar\r\n    /theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/SomeOtherJar02.jar\r\n    /theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/SomeOtherJar03.jar\r\n    /theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/SomeOtherJar04.jar\r\n\r\n\r\n---   \r\nYou can then launch from anywhere on your system with: \r\n\r\n    java -classpath &quot;/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/*&quot; -jar  /theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile.jar   package.path_to.the_class_with.your_main.TheClassWithYourMain\r\n\r\n(For Java Newbies:  &#39;package.path_to.the_class_with.your_main&#39; is the declared package-path that you&#39;ll find at the top of the &#39;TheClassWithYourMain.java&#39; file that contains the &#39;main(String[] args){...}&#39; that you wish to run from outside java)\r\n\r\n-------------\r\nThe pitfall to notice: is that having &#39;fooBarTheJarFile.jar&#39; within the list of jars on your declared classpath is not enough.  You need to explicitly declare &#39;-jar&#39;, and redeclare the location of that jar. \r\n\r\n e.g. this breaks:  \r\n \r\n     java -classpath &quot;/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile.jar;/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/*&quot;  somepackages.inside.yourJar.leadingToTheMain.TheClassWithYourMain\r\n \r\n restated with relative paths:\r\n \r\n    cd /theFully/qualifiedPath/toYourChosenDir/;\r\n    BREAKS:  java -cp &quot;fooBarTheJarFile_lib/*&quot;                                package.path_to.the_class_with.your_main.TheClassWithYourMain    \r\n    BREAKS:  java -cp &quot;.;fooBarTheJarFile_lib/*&quot;                              package.path_to.the_class_with.your_main.TheClassWithYourMain   \r\n    BREAKS:  java -cp &quot;.;fooBarTheJarFile_lib/*&quot;   -jar                       package.path_to.the_class_with.your_main.TheClassWithYourMain   \r\n    WORKS:   java -cp &quot;.;fooBarTheJarFile_lib/*&quot;   -jar  fooBarTheJarFile.jar package.path_to.the_class_with.your_main.TheClassWithYourMain   \r\n           \r\n  \r\n(using java version &quot;1.6.0_27&quot;; via  OpenJDK 64-Bit Server VM  on ubuntu 12.04)","title":"Including all the jars in a directory within the Java classpath","body":"<p>Short Form: If your main is within a jar, you'll probably need an additional '-jar pathTo/yourJar/YourJarsName.jar '  explicitly declared to get it working (even though 'YourJarsName.jar' was on the classpath)\n(or, expressed to answer the original question that was asked 5 years ago: you don't need to redeclare each jar explicitly, but does seem, even with java6 you need to redeclare your own jar ...) </p>\n\n<hr>\n\n<p>Long Form: \n(I've made this explicit to the point that I hope even interlopers to java can make use of this) </p>\n\n<p>Like many here I'm using eclipse to export jars: (File->Export-->'Runnable JAR File'). There are three options on 'Library handling' eclipse (Juno) offers:</p>\n\n<pre><code>opt1: \"Extract required libraries into generated JAR\"\nopt2: \"Package required libraries into generated JAR\"\nopt3: \"Copy required libraries into a sub-folder next to the generated JAR\"\n</code></pre>\n\n<p>Typically I'd use opt2 (and opt1 was definitely breaking), however native code in one of the jars I'm using I discovered breaks with the handy \"jarinjar\" trick that eclipse leverages when you choose that option. Even after realizing I needed opt3, and then finding this StackOverflow entry, it still took me some time to figure it out how to launch my main outside of eclipse, so here's what worked for me, as it's useful for others...</p>\n\n<hr>\n\n<p>If  you named your jar: \"fooBarTheJarFile.jar\" \nand all is set to export to the  dir:     \"/theFully/qualifiedPath/toYourChosenDir\". </p>\n\n<p>(meaning the  'Export destination' field will read:   '/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile.jar' )</p>\n\n<p>After you hit finish, you'll find eclipse then puts all the libraries into a folder named 'fooBarTheJarFile_lib' within that export directory, giving you something like:</p>\n\n<pre><code>/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile.jar\n/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/SomeOtherJar01.jar\n/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/SomeOtherJar02.jar\n/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/SomeOtherJar03.jar\n/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/SomeOtherJar04.jar\n</code></pre>\n\n<hr>\n\n<p>You can then launch from anywhere on your system with: </p>\n\n<pre><code>java -classpath \"/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/*\" -jar  /theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile.jar   package.path_to.the_class_with.your_main.TheClassWithYourMain\n</code></pre>\n\n<p>(For Java Newbies:  'package.path_to.the_class_with.your_main' is the declared package-path that you'll find at the top of the 'TheClassWithYourMain.java' file that contains the 'main(String[] args){...}' that you wish to run from outside java)</p>\n\n<hr>\n\n<p>The pitfall to notice: is that having 'fooBarTheJarFile.jar' within the list of jars on your declared classpath is not enough.  You need to explicitly declare '-jar', and redeclare the location of that jar. </p>\n\n<p>e.g. this breaks:  </p>\n\n<pre><code> java -classpath \"/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile.jar;/theFully/qualifiedPath/toYourChosenDir/fooBarTheJarFile_lib/*\"  somepackages.inside.yourJar.leadingToTheMain.TheClassWithYourMain\n</code></pre>\n\n<p>restated with relative paths:</p>\n\n<pre><code>cd /theFully/qualifiedPath/toYourChosenDir/;\nBREAKS:  java -cp \"fooBarTheJarFile_lib/*\"                                package.path_to.the_class_with.your_main.TheClassWithYourMain    \nBREAKS:  java -cp \".;fooBarTheJarFile_lib/*\"                              package.path_to.the_class_with.your_main.TheClassWithYourMain   \nBREAKS:  java -cp \".;fooBarTheJarFile_lib/*\"   -jar                       package.path_to.the_class_with.your_main.TheClassWithYourMain   \nWORKS:   java -cp \".;fooBarTheJarFile_lib/*\"   -jar  fooBarTheJarFile.jar package.path_to.the_class_with.your_main.TheClassWithYourMain   \n</code></pre>\n\n<p>(using java version \"1.6.0_27\"; via  OpenJDK 64-Bit Server VM  on ubuntu 12.04)</p>\n"},{"tags":[],"owner":{"account_id":2181152,"reputation":3524,"user_id":1930619,"display_name":"Jake Toronto"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1379101085,"creation_date":1379101085,"answer_id":18793968,"question_id":219585,"body_markdown":"Please note that wildcard expansion is broken for Java 7 on Windows.\r\n\r\nCheck out [this StackOverflow issue](https://stackoverflow.com/questions/9195073/broken-wildcard-expansion-for-java7-commandline-on-windows7) for more information.\r\n\r\nThe workaround is to put a semicolon right after the wildcard. `java -cp &quot;somewhere/*;&quot;`\r\n","title":"Including all the jars in a directory within the Java classpath","body":"<p>Please note that wildcard expansion is broken for Java 7 on Windows.</p>\n\n<p>Check out <a href=\"https://stackoverflow.com/questions/9195073/broken-wildcard-expansion-for-java7-commandline-on-windows7\">this StackOverflow issue</a> for more information.</p>\n\n<p>The workaround is to put a semicolon right after the wildcard. <code>java -cp \"somewhere/*;\"</code></p>\n"},{"tags":[],"owner":{"account_id":1164345,"reputation":22755,"user_id":1143274,"accept_rate":56,"display_name":"Evgeni Sergeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1418348010,"creation_date":1418348010,"answer_id":27435495,"question_id":219585,"body_markdown":"To whom it may concern,\r\n\r\nI found this strange behaviour on Windows under an MSYS/MinGW shell.\r\n\r\n**Works:**\r\n\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    $ javac -cp &#39;.;c:\\Programs\\COMSOL44\\plugins\\*&#39; Reclaim.java\r\n\r\n**Doesn&#39;t work:**\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    $ javac -cp &#39;c:\\Programs\\COMSOL44\\plugins\\*&#39; Reclaim.java\r\n    javac: invalid flag: c:\\Programs\\COMSOL44\\plugins\\com.comsol.aco_1.0.0.jar\r\n    Usage: javac &lt;options&gt; &lt;source files&gt;\r\n    use -help for a list of possible options\r\n    \r\nI am quite sure that the wildcard is not expanded by the shell, because e.g.\r\n\r\n    $ echo &#39;./*&#39;\r\n    ./*\r\n\r\n(Tried it with another program too, rather than the built-in `echo`, with the same result.)\r\n\r\nI believe that it&#39;s `javac` which is trying to expand it, and it behaves differently whether there is a semicolon in the argument or not. First, it may be trying to expand all arguments that look like paths. And only then it would parse them, with `-cp` taking only the following token. (Note that `com.comsol.aco_1.0.0.jar` is the second JAR in that directory.) That&#39;s all a guess.\r\n\r\nThis is \r\n\r\n    $ javac -version\r\n    javac 1.7.0\r\n\r\n\r\n","title":"Including all the jars in a directory within the Java classpath","body":"<p>To whom it may concern,</p>\n\n<p>I found this strange behaviour on Windows under an MSYS/MinGW shell.</p>\n\n<p><strong>Works:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ javac -cp '.;c:\\Programs\\COMSOL44\\plugins\\*' Reclaim.java\n</code></pre>\n\n<p><strong>Doesn't work:</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ javac -cp 'c:\\Programs\\COMSOL44\\plugins\\*' Reclaim.java\njavac: invalid flag: c:\\Programs\\COMSOL44\\plugins\\com.comsol.aco_1.0.0.jar\nUsage: javac &lt;options&gt; &lt;source files&gt;\nuse -help for a list of possible options\n</code></pre>\n\n<p>I am quite sure that the wildcard is not expanded by the shell, because e.g.</p>\n\n<pre><code>$ echo './*'\n./*\n</code></pre>\n\n<p>(Tried it with another program too, rather than the built-in <code>echo</code>, with the same result.)</p>\n\n<p>I believe that it's <code>javac</code> which is trying to expand it, and it behaves differently whether there is a semicolon in the argument or not. First, it may be trying to expand all arguments that look like paths. And only then it would parse them, with <code>-cp</code> taking only the following token. (Note that <code>com.comsol.aco_1.0.0.jar</code> is the second JAR in that directory.) That's all a guess.</p>\n\n<p>This is </p>\n\n<pre><code>$ javac -version\njavac 1.7.0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5709614,"reputation":433,"user_id":4512086,"display_name":"Mindaugas K."},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1430290556,"creation_date":1430290556,"answer_id":29936380,"question_id":219585,"body_markdown":"class from wepapp:\r\n\r\n      &gt; mvn clean install\r\n      \r\n      &gt; java -cp &quot;webapp/target/webapp-1.17.0-SNAPSHOT/WEB-INF/lib/tool-jar-1.17.0-SNAPSHOT.jar;webapp/target/webapp-1.17.0-SNAPSHOT/WEB-INF/lib/*&quot; com.xx.xx.util.EncryptorUtils param1 param2","title":"Including all the jars in a directory within the Java classpath","body":"<p>class from wepapp:</p>\n\n<pre><code>  &gt; mvn clean install\n\n  &gt; java -cp \"webapp/target/webapp-1.17.0-SNAPSHOT/WEB-INF/lib/tool-jar-1.17.0-SNAPSHOT.jar;webapp/target/webapp-1.17.0-SNAPSHOT/WEB-INF/lib/*\" com.xx.xx.util.EncryptorUtils param1 param2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1916790,"reputation":299,"user_id":1729234,"display_name":"Sreesankar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467029144,"creation_date":1467029144,"answer_id":38053543,"question_id":219585,"body_markdown":"Not a direct solution to being able to set /* to -cp but I hope you could use the following script to ease the situation a bit for dynamic class-paths and lib directories.\r\n\r\n     libDir2Scan4jars=&quot;../test&quot;;cp=&quot;&quot;; for j in `ls ${libDir2Scan4jars}/*.jar`; do if [ &quot;$j&quot; != &quot;&quot; ]; then cp=$cp:$j; fi; done; echo $cp| cut -c2-${#cp} &gt; .tmpCP.tmp; export tmpCLASSPATH=`cat .tmpCP.tmp`; if [ &quot;$tmpCLASSPATH&quot; != &quot;&quot; ]; then echo .; echo &quot;classpath set, you can now use  ~&gt;         java -cp \\$tmpCLASSPATH&quot;; echo .; else echo .; echo &quot;Error please check libDir2Scan4jars path&quot;; echo .; fi; \r\n\r\nScripted for Linux, could have a similar one for windows too. If proper directory is provided as input to the &quot;libDir2Scan4jars&quot;; the script will scan all the jars and create a classpath string and export it to a env variable &quot;tmpCLASSPATH&quot;. \r\n","title":"Including all the jars in a directory within the Java classpath","body":"<p>Not a direct solution to being able to set /* to -cp but I hope you could use the following script to ease the situation a bit for dynamic class-paths and lib directories.</p>\n\n<pre><code> libDir2Scan4jars=\"../test\";cp=\"\"; for j in `ls ${libDir2Scan4jars}/*.jar`; do if [ \"$j\" != \"\" ]; then cp=$cp:$j; fi; done; echo $cp| cut -c2-${#cp} &gt; .tmpCP.tmp; export tmpCLASSPATH=`cat .tmpCP.tmp`; if [ \"$tmpCLASSPATH\" != \"\" ]; then echo .; echo \"classpath set, you can now use  ~&gt;         java -cp \\$tmpCLASSPATH\"; echo .; else echo .; echo \"Error please check libDir2Scan4jars path\"; echo .; fi; \n</code></pre>\n\n<p>Scripted for Linux, could have a similar one for windows too. If proper directory is provided as input to the \"libDir2Scan4jars\"; the script will scan all the jars and create a classpath string and export it to a env variable \"tmpCLASSPATH\". </p>\n"},{"tags":[],"owner":{"account_id":6625221,"reputation":5148,"user_id":5115670,"accept_rate":70,"display_name":"Girdhar Singh Rathore"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1467308801,"creation_date":1467308801,"answer_id":38130048,"question_id":219585,"body_markdown":"Set the classpath in a way suitable multiple jars and current directory&#39;s class files. \r\n\r\n    CLASSPATH=${ORACLE_HOME}/jdbc/lib/ojdbc6.jar:${ORACLE_HOME}/jdbc/lib/ojdbc14.jar:${ORACLE_HOME}/jdbc/lib/nls_charset12.jar; \r\n    CLASSPATH=$CLASSPATH:/export/home/gs806e/tops/jconn2.jar:.;\r\n    export CLASSPATH","title":"Including all the jars in a directory within the Java classpath","body":"<p>Set the classpath in a way suitable multiple jars and current directory's class files. </p>\n\n<pre><code>CLASSPATH=${ORACLE_HOME}/jdbc/lib/ojdbc6.jar:${ORACLE_HOME}/jdbc/lib/ojdbc14.jar:${ORACLE_HOME}/jdbc/lib/nls_charset12.jar; \nCLASSPATH=$CLASSPATH:/export/home/gs806e/tops/jconn2.jar:.;\nexport CLASSPATH\n</code></pre>\n"},{"comments":[{"owner":{"account_id":338172,"reputation":634,"user_id":666886,"display_name":"philwalk"},"score":0,"creation_date":1531931677,"post_id":38444175,"comment_id":89785144,"body_markdown":"windows example doesn&#39;t work for java 8 and earlier: see https://bugs.openjdk.java.net/browse/JDK-8131329","body":"windows example doesn&#39;t work for java 8 and earlier: see <a href=\"https://bugs.openjdk.java.net/browse/JDK-8131329\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8131329</a>"},{"owner":{"account_id":2364348,"reputation":991,"user_id":2070363,"accept_rate":100,"display_name":"Wender"},"score":0,"creation_date":1531938664,"post_id":38444175,"comment_id":89788870,"body_markdown":"Maybe does not work for open JDK, I will test this and I will talk about here","body":"Maybe does not work for open JDK, I will test this and I will talk about here"},{"owner":{"account_id":2364348,"reputation":991,"user_id":2070363,"accept_rate":100,"display_name":"Wender"},"score":0,"creation_date":1537208135,"post_id":38444175,"comment_id":91691865,"body_markdown":"Sorry, I did test with HotSpot and I did think that works with openjdk.","body":"Sorry, I did test with HotSpot and I did think that works with openjdk."},{"owner":{"account_id":338172,"reputation":634,"user_id":666886,"display_name":"philwalk"},"score":0,"creation_date":1537544261,"post_id":38444175,"comment_id":91836880,"body_markdown":"Oracle java under windows requires a backslash prior to the asterisk rather than a forward slash, although I haven&#39;t re-tested the most recent or alternate java versions.","body":"Oracle java under windows requires a backslash prior to the asterisk rather than a forward slash, although I haven&#39;t re-tested the most recent or alternate java versions."},{"owner":{"account_id":16319949,"reputation":476,"user_id":11786034,"display_name":"Hardik Rana"},"score":0,"creation_date":1597907668,"post_id":38444175,"comment_id":112286478,"body_markdown":"java -cp &quot;Test.jar;lib/*&quot; my.package.MainClass will this not look for children folders under lib? Eg my jar is in directory lib/org/abc.ja","body":"java -cp &quot;Test.jar;lib/*&quot; my.package.MainClass will this not look for children folders under lib? Eg my jar is in directory lib/org/abc.ja"}],"tags":[],"owner":{"account_id":2364348,"reputation":991,"user_id":2070363,"accept_rate":100,"display_name":"Wender"},"comment_count":5,"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1552622455,"creation_date":1468868596,"answer_id":38444175,"question_id":219585,"body_markdown":"**Windows**:&lt;br/&gt;\r\n```lang-bash\r\n java -cp file.jar;dir/* my.app.ClassName\r\n```\r\n\r\n**Linux**:&lt;br/&gt;\r\n```lang-bash\r\n java -cp file.jar:dir/* my.app.ClassName\r\n```\r\n\r\n\r\nRemind:&lt;br/&gt;\r\n- **Windows** path separator is `;`&lt;br/&gt;\r\n- **Linux** path separator is `:`&lt;br/&gt;\r\n- In Windows if cp argument does not contains white space, the &quot;quotes&quot; is optional","title":"Including all the jars in a directory within the Java classpath","body":"<p><strong>Windows</strong>:<br/></p>\n\n<pre class=\"lang-bash prettyprint-override\"><code> java -cp file.jar;dir/* my.app.ClassName\n</code></pre>\n\n<p><strong>Linux</strong>:<br/></p>\n\n<pre class=\"lang-bash prettyprint-override\"><code> java -cp file.jar:dir/* my.app.ClassName\n</code></pre>\n\n<p>Remind:<br/>\n- <strong>Windows</strong> path separator is <code>;</code><br/>\n- <strong>Linux</strong> path separator is <code>:</code><br/>\n- In Windows if cp argument does not contains white space, the \"quotes\" is optional</p>\n"},{"tags":[],"owner":{"account_id":376199,"reputation":7329,"user_id":727495,"accept_rate":87,"display_name":"vkrams"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1552537127,"creation_date":1552531618,"answer_id":55154206,"question_id":219585,"body_markdown":"I have multiple jars in a folder. The below command worked for me in `JDK1.8` to include all jars present in the folder. Please note that to include in quotes if you have a space in the classpath\r\n\r\n**Windows**\r\n\r\nCompiling: `javac -classpath &quot;C:\\My Jars\\sdk\\lib\\*&quot; c:\\programs\\MyProgram.java`\r\n\r\nRunning: `java -classpath &quot;C:\\My Jars\\sdk\\lib\\*;c:\\programs&quot; MyProgram`\r\n\r\n**Linux**\r\n\r\nCompiling: `javac -classpath &quot;/home/guestuser/My Jars/sdk/lib/*&quot; MyProgram.java`\r\n\r\nRunning: `java -classpath &quot;/home/guestuser/My Jars/sdk/lib/*:/home/guestuser/programs&quot; MyProgram`\r\n\r\n","title":"Including all the jars in a directory within the Java classpath","body":"<p>I have multiple jars in a folder. The below command worked for me in <code>JDK1.8</code> to include all jars present in the folder. Please note that to include in quotes if you have a space in the classpath</p>\n\n<p><strong>Windows</strong></p>\n\n<p>Compiling: <code>javac -classpath \"C:\\My Jars\\sdk\\lib\\*\" c:\\programs\\MyProgram.java</code></p>\n\n<p>Running: <code>java -classpath \"C:\\My Jars\\sdk\\lib\\*;c:\\programs\" MyProgram</code></p>\n\n<p><strong>Linux</strong></p>\n\n<p>Compiling: <code>javac -classpath \"/home/guestuser/My Jars/sdk/lib/*\" MyProgram.java</code></p>\n\n<p>Running: <code>java -classpath \"/home/guestuser/My Jars/sdk/lib/*:/home/guestuser/programs\" MyProgram</code></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1573339293,"creation_date":1573338963,"answer_id":58784144,"question_id":219585,"body_markdown":"# macOS, current folder\r\n\r\nFor Java 13 on [macOS Mojave][1]…\r\n\r\nIf all your `.jar` files are in the same folder, use [`cd`][2] to make that your [current working directory][3]. Verify with [`pwd`][4]. \r\n\r\nFor the `-classpath` you must first list the [JAR file][5] for your app. Using a colon character `:` as a delimiter, append an asterisk `*` to get all other JAR files within the same folder. Lastly, pass the full package name of the class with your [`main` method][6]. \r\n\r\nFor example, for an app in a JAR file named `my_app.jar` with a `main` method in a class named `App` in a package named `com.example`, alongside some needed jars in the same folder:\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    java -classpath my_app.jar:* com.example.App\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/MacOS_Mojave\r\n  [2]: https://en.wikipedia.org/wiki/Cd_(command)\r\n  [3]: https://en.wikipedia.org/wiki/Working_directory\r\n  [4]: https://en.wikipedia.org/wiki/Pwd\r\n  [5]: https://en.wikipedia.org/wiki/JAR_(file_format)\r\n  [6]: https://en.wikipedia.org/wiki/Entry_point#Java","title":"Including all the jars in a directory within the Java classpath","body":"<h1>macOS, current folder</h1>\n\n<p>For Java 13 on <a href=\"https://en.wikipedia.org/wiki/MacOS_Mojave\" rel=\"noreferrer\">macOS Mojave</a>…</p>\n\n<p>If all your <code>.jar</code> files are in the same folder, use <a href=\"https://en.wikipedia.org/wiki/Cd_(command)\" rel=\"noreferrer\"><code>cd</code></a> to make that your <a href=\"https://en.wikipedia.org/wiki/Working_directory\" rel=\"noreferrer\">current working directory</a>. Verify with <a href=\"https://en.wikipedia.org/wiki/Pwd\" rel=\"noreferrer\"><code>pwd</code></a>. </p>\n\n<p>For the <code>-classpath</code> you must first list the <a href=\"https://en.wikipedia.org/wiki/JAR_(file_format)\" rel=\"noreferrer\">JAR file</a> for your app. Using a colon character <code>:</code> as a delimiter, append an asterisk <code>*</code> to get all other JAR files within the same folder. Lastly, pass the full package name of the class with your <a href=\"https://en.wikipedia.org/wiki/Entry_point#Java\" rel=\"noreferrer\"><code>main</code> method</a>. </p>\n\n<p>For example, for an app in a JAR file named <code>my_app.jar</code> with a <code>main</code> method in a class named <code>App</code> in a package named <code>com.example</code>, alongside some needed jars in the same folder:</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>java -classpath my_app.jar:* com.example.App\n</code></pre>\n"},{"tags":[],"owner":{"account_id":88053,"reputation":2847,"user_id":243827,"accept_rate":67,"display_name":"kellogs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611777607,"creation_date":1611777607,"answer_id":65926518,"question_id":219585,"body_markdown":"Order of arguments to `java` command is also important:\r\n\r\n    c:\\projects\\CloudMirror&gt;java Javaside -cp &quot;jna-5.6.0.jar;.\\&quot;\r\n    Error: Unable to initialize main class Javaside\r\n    Caused by: java.lang.NoClassDefFoundError: com/sun/jna/Callback\r\n\r\nversus\r\n\r\n    c:\\projects\\CloudMirror&gt;java -cp &quot;jna-5.6.0.jar;.\\&quot; Javaside\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Unable","title":"Including all the jars in a directory within the Java classpath","body":"<p>Order of arguments to <code>java</code> command is also important:</p>\n<pre><code>c:\\projects\\CloudMirror&gt;java Javaside -cp &quot;jna-5.6.0.jar;.\\&quot;\nError: Unable to initialize main class Javaside\nCaused by: java.lang.NoClassDefFoundError: com/sun/jna/Callback\n</code></pre>\n<p>versus</p>\n<pre><code>c:\\projects\\CloudMirror&gt;java -cp &quot;jna-5.6.0.jar;.\\&quot; Javaside\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Unable\n</code></pre>\n"}],"owner":{"account_id":7696,"reputation":13316,"user_id":13435,"accept_rate":82,"display_name":"Chris Serra"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1269334,"favorite_count":0,"down_vote_count":2,"up_vote_count":1179,"answer_count":25,"score":1177,"last_activity_date":1668265740,"creation_date":1224531165,"question_id":219585,"body_markdown":"Is there a way to include all the jar files within a directory in the classpath?\r\n\r\nI&#39;m trying `java -classpath lib/*.jar:. my.package.Program` and it is not able to find class files that are certainly in those jars.  Do I need to add each jar file to the classpath separately? ","title":"Including all the jars in a directory within the Java classpath","body":"<p>Is there a way to include all the jar files within a directory in the classpath?</p>\n\n<p>I'm trying <code>java -classpath lib/*.jar:. my.package.Program</code> and it is not able to find class files that are certainly in those jars.  Do I need to add each jar file to the classpath separately? </p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","arraylist"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668265568,"creation_date":1668265568,"answer_id":74414034,"question_id":74411827,"body_markdown":"The Firebase SDK always loads complete nodes from the Realtime Database. \r\n\r\nThere is no way to get `a` without also getting `b` in your current data model. In your code you can exclude `b` by looping over the children of your `snapshot` too, and check [if they have any children](https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot#hasChildren()).\r\n\r\nIf this is a common use-case for your app, consider changing your data structure, or adding an additional node where you only have `a`, to save bandwidth.\r\n\r\n","title":"ValueEventListener read only one layer","body":"<p>The Firebase SDK always loads complete nodes from the Realtime Database.</p>\n<p>There is no way to get <code>a</code> without also getting <code>b</code> in your current data model. In your code you can exclude <code>b</code> by looping over the children of your <code>snapshot</code> too, and check <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DataSnapshot#hasChildren()\" rel=\"nofollow noreferrer\">if they have any children</a>.</p>\n<p>If this is a common use-case for your app, consider changing your data structure, or adding an additional node where you only have <code>a</code>, to save bandwidth.</p>\n"}],"owner":{"account_id":9571851,"reputation":807,"user_id":7109256,"accept_rate":71,"display_name":"random1234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668265568,"creation_date":1668245782,"question_id":74411827,"body_markdown":"I have a Firebase database and I am using `addValueEventListener` to populate an `ArrayList` which is then displayed in a `RecyclerView` however I want the `ArrayList` to be populated with only one layer of the data and not the embedded data in another branch. Here is an example of how the database could look like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fjeo5.png\r\n\r\nThe desired outcome is that my `RecyclerView` will be populated with the objects that is the content of branch `a` but the current outcome is that it is also being populated with the object `b` as one object with the children of it as values, I want only the values of branch `a` in my list. Is this possible, if so, how?\r\n\r\nCode:\r\n\r\n    databaseReference.addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n            list.clear();\r\n            recyclerViewAdapter.notifyDataSetChanged();\r\n\r\n            progressBar.setVisibility(View.VISIBLE);\r\n\r\n            for (DataSnapshot snapshot : dataSnapshot.getChildren())\r\n            {\r\n                Object value = snapshot.getValue();\r\n                if (value != null)\r\n                {\r\n                    list.add(new Task(value.toString(), snapshot.getKey()));\r\n                    recyclerViewAdapter.notifyItemInserted(list.size() - 1);\r\n                }\r\n            }\r\n\r\n            progressBar.setVisibility(View.GONE);\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError databaseError) {\r\n        }\r\n    });","title":"ValueEventListener read only one layer","body":"<p>I have a Firebase database and I am using <code>addValueEventListener</code> to populate an <code>ArrayList</code> which is then displayed in a <code>RecyclerView</code> however I want the <code>ArrayList</code> to be populated with only one layer of the data and not the embedded data in another branch. Here is an example of how the database could look like:</p>\n<p><a href=\"https://i.stack.imgur.com/fjeo5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fjeo5.png\" alt=\"enter image description here\" /></a></p>\n<p>The desired outcome is that my <code>RecyclerView</code> will be populated with the objects that is the content of branch <code>a</code> but the current outcome is that it is also being populated with the object <code>b</code> as one object with the children of it as values, I want only the values of branch <code>a</code> in my list. Is this possible, if so, how?</p>\n<p>Code:</p>\n<pre><code>databaseReference.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n        list.clear();\n        recyclerViewAdapter.notifyDataSetChanged();\n\n        progressBar.setVisibility(View.VISIBLE);\n\n        for (DataSnapshot snapshot : dataSnapshot.getChildren())\n        {\n            Object value = snapshot.getValue();\n            if (value != null)\n            {\n                list.add(new Task(value.toString(), snapshot.getKey()));\n                recyclerViewAdapter.notifyItemInserted(list.size() - 1);\n            }\n        }\n\n        progressBar.setVisibility(View.GONE);\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError databaseError) {\n    }\n});\n</code></pre>\n"},{"tags":["java","logging","slf4j","lombok"],"answers":[{"tags":[],"owner":{"account_id":13104635,"reputation":186,"user_id":9467865,"display_name":"Dariusz Urbanek"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1597848473,"creation_date":1597848473,"answer_id":63489584,"question_id":63489477,"body_markdown":"You need a configuration file in your resources folder with STDOUT appender.\r\n\r\nFor example:\r\n```\r\nlog4j.xml\r\n```\r\n```xml\r\n&lt;configuration&gt;\r\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n    &lt;encoder&gt;\r\n      &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n  &lt;/appender&gt;\r\n \r\n  &lt;root level=&quot;debug&quot;&gt;\r\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n  &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\n\r\nOr in `application.properties` file, eg:\r\n```\r\nlog4j.appender.consoleAppender=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.consoleAppender.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.consoleAppender.layout.ConversionPattern=[%t] %-5p %c %x - %m%n\r\n```","title":"Java - Slf4j not showing on the console :","body":"<p>You need a configuration file in your resources folder with STDOUT appender.</p>\n<p>For example:</p>\n<pre><code>log4j.xml\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder&gt;\n      &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n \n  &lt;root level=&quot;debug&quot;&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n  &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Or in <code>application.properties</code> file, eg:</p>\n<pre><code>log4j.appender.consoleAppender=org.apache.log4j.ConsoleAppender\nlog4j.appender.consoleAppender.layout=org.apache.log4j.PatternLayout\nlog4j.appender.consoleAppender.layout.ConversionPattern=[%t] %-5p %c %x - %m%n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19322488,"reputation":273,"user_id":14125901,"display_name":"san"},"score":1,"creation_date":1597925830,"post_id":63490130,"comment_id":112294984,"body_markdown":"Which xml file?","body":"Which xml file?"},{"owner":{"account_id":12491957,"reputation":154,"user_id":9093208,"display_name":"Rohit Maurya"},"score":1,"creation_date":1598265122,"post_id":63490130,"comment_id":112391965,"body_markdown":"@san In your log4j.xml","body":"@san In your log4j.xml"}],"tags":[],"owner":{"account_id":12491957,"reputation":154,"user_id":9093208,"display_name":"Rohit Maurya"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1597850158,"creation_date":1597850158,"answer_id":63490130,"question_id":63489477,"body_markdown":"You need to add the below line in your XML file inside &lt;configuration&gt;...&lt;/configuration&gt;\r\nref=&quot;CONSOLE&quot; will help to print on console.\r\n          \t\r\n        \t&lt;root&gt;\r\n        \t\t&lt;level value=&quot;INFO&quot; /&gt;\r\n        \t\t&lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n    \t\t\t&lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n        \t&lt;/root&gt;\r\n        ","title":"Java - Slf4j not showing on the console :","body":"<p>You need to add the below line in your XML file inside ...\nref=&quot;CONSOLE&quot; will help to print on console.</p>\n<pre><code>        &lt;root&gt;\n            &lt;level value=&quot;INFO&quot; /&gt;\n            &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n            &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n        &lt;/root&gt;\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6271996,"reputation":2560,"user_id":4957620,"accept_rate":88,"display_name":"chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654320747,"creation_date":1654320747,"answer_id":72497336,"question_id":63489477,"body_markdown":"It is not required to have a log4j.xml or logback.xml files for logging configuration.\r\n\r\n**If you are importing Slf4j with Lombok,** **make sure you have the following dependencies in your pom.xml file**:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;version&gt;1.18.24&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.7.26&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n      &lt;version&gt;1.7.21&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Java - Slf4j not showing on the console :","body":"<p>It is not required to have a log4j.xml or logback.xml files for logging configuration.</p>\n<p><strong>If you are importing Slf4j with Lombok,</strong> <strong>make sure you have the following dependencies in your pom.xml file</strong>:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n  &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n  &lt;version&gt;1.18.24&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n  &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n  &lt;version&gt;1.7.26&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n  &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n  &lt;version&gt;1.7.21&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":19322488,"reputation":273,"user_id":14125901,"display_name":"san"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13133,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1668265295,"creation_date":1597848130,"question_id":63489477,"body_markdown":" I am trying to display this log.info(&quot;String is:&quot;+str1); on the console but it doesn&#39;t show at all, how do I display log.info on the console?\r\n\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    @Component\r\n    public class TTD {\r\n\r\n    public ResponseEntity&lt;InputStreamResource&gt; transform() {\r\n\r\n\r\n        try {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            Jsonb jsonb = JsonbBuilder.create();\r\n\r\n            EcrionIntegration ei = new EcrionIntegration();\r\n            ei.setHelloWord(&quot;Hello Sharon&quot;);\r\n\r\n\r\n            String str1 = mapper.writeValueAsString(ei);\r\n\r\n            log.info(&quot;String is:&quot;+str1);\r\n\r\n        } catch (Exception ex) {\r\n  \r\n            throw new RuntimeException(ex);\r\n        }\r\n    }\r\n\r\nThe console is displaying the attached image:\r\n\r\n[The console without the logs][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mwVFy.png","title":"Java - Slf4j not showing on the console :","body":"<p>I am trying to display this log.info(&quot;String is:&quot;+str1); on the console but it doesn't show at all, how do I display log.info on the console?</p>\n<pre><code>@Slf4j\n@RequiredArgsConstructor\n@Component\npublic class TTD {\n\npublic ResponseEntity&lt;InputStreamResource&gt; transform() {\n\n\n    try {\n        ObjectMapper mapper = new ObjectMapper();\n        Jsonb jsonb = JsonbBuilder.create();\n\n        EcrionIntegration ei = new EcrionIntegration();\n        ei.setHelloWord(&quot;Hello Sharon&quot;);\n\n\n        String str1 = mapper.writeValueAsString(ei);\n\n        log.info(&quot;String is:&quot;+str1);\n\n    } catch (Exception ex) {\n\n        throw new RuntimeException(ex);\n    }\n}\n</code></pre>\n<p>The console is displaying the attached image:</p>\n<p><a href=\"https://i.stack.imgur.com/mwVFy.png\" rel=\"nofollow noreferrer\">The console without the logs</a></p>\n"},{"tags":["java","swing","actionlistener"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1668264027,"post_id":74413818,"comment_id":131365475,"body_markdown":"Why not just use a **JSpinner**  or **JSpinField** component instead of a JTextField, Buttons, icons, etc, etc?","body":"Why not just use a <b>JSpinner</b>  or <b>JSpinField</b> component instead of a JTextField, Buttons, icons, etc, etc?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1668264994,"post_id":74413818,"comment_id":131365662,"body_markdown":"Make your variable an &quot;instance&quot; variable, not a &quot;local&quot; variable.","body":"Make your variable an &quot;instance&quot; variable, not a &quot;local&quot; variable."}],"answers":[{"comments":[{"owner":{"account_id":26910433,"reputation":13,"user_id":20486093,"display_name":"Quarinal"},"score":0,"creation_date":1668265214,"post_id":74413888,"comment_id":131365711,"body_markdown":"pa.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent actionEvent) {\n                pt.setText(String.valueOf(Integer.valueOf(pt.getText())+1));\n                int num = Integer.parseInt(pt.getText());\n            }\n        });\n\nIt worked like that, but can&#39;t use &quot;num&quot; outside of ActionListener, do you have any advice for that?","body":"pa.addActionListener(new ActionListener() {             @Override             public void actionPerformed(ActionEvent actionEvent) {                 pt.setText(String.valueOf(Integer.valueOf(pt.getText())+1));                 int num = Integer.parseInt(pt.getText());             }         });  It worked like that, but can&#39;t use &quot;num&quot; outside of ActionListener, do you have any advice for that?"},{"owner":{"account_id":26910433,"reputation":13,"user_id":20486093,"display_name":"Quarinal"},"score":0,"creation_date":1668266677,"post_id":74413888,"comment_id":131366008,"body_markdown":"@camickr Thanks for advice, I will try it. I am a new member, so I don&#39;t know the rules. Unfortunately, I noticed that it seems complex when I post my code in comments after I shared it. Sorry for that.","body":"@camickr Thanks for advice, I will try it. I am a new member, so I don&#39;t know the rules. Unfortunately, I noticed that it seems complex when I post my code in comments after I shared it. Sorry for that."}],"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668264353,"creation_date":1668264353,"answer_id":74413888,"question_id":74413818,"body_markdown":"Your first approach is not far off. There is just a little error in line `pt.setText(String.valueOf(Integer.valueOf(pt.getText() + 1)));`: the `+1` should not be inside `Integer.value(...)` but right after it.\r\nYour current code gets the text, appends the character `1` to the text, and parses the modified text as number. But you need to get the text, parse the text as number, and then add `1` to the parsed number.\r\nIt might help to do each step in a separate line and assign each intermediate result to a local variable instead of doing everything in one statement.\r\n\r\n\r\nStill, the idea from the second approach is the better one. Change your `int counter` from a local variable to a field of your class and it will work.","title":"How can I increase the value in the text field with JButton?","body":"<p>Your first approach is not far off. There is just a little error in line <code>pt.setText(String.valueOf(Integer.valueOf(pt.getText() + 1)));</code>: the <code>+1</code> should not be inside <code>Integer.value(...)</code> but right after it.\nYour current code gets the text, appends the character <code>1</code> to the text, and parses the modified text as number. But you need to get the text, parse the text as number, and then add <code>1</code> to the parsed number.\nIt might help to do each step in a separate line and assign each intermediate result to a local variable instead of doing everything in one statement.</p>\n<p>Still, the idea from the second approach is the better one. Change your <code>int counter</code> from a local variable to a field of your class and it will work.</p>\n"}],"owner":{"account_id":26910433,"reputation":13,"user_id":20486093,"display_name":"Quarinal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74413888,"answer_count":1,"score":0,"last_activity_date":1668264535,"creation_date":1668263744,"question_id":74413818,"body_markdown":"I have a school project and I want to do an online shopping cart with Java. It has a frame, 4 different types of clothing with JLabels, one text field that displays 0 in the starting for each of them and two JButtons that have plus and minus icons for each text fields. I want to increase the number which is in the text field with plus button and decrease it with minus button. Also it needs to count how many clothes I want to buy, for calculating the money.\r\n\r\npa = JButton which has a plus sign and need to increase the number of Pants.\r\npt = JTextField which shows us the number of pants.\r\n```\r\npa.addActionListener(new ActionListener() {\r\n    @Override\r\n    public void actionPerformed(ActionEvent actionEvent) {\r\n        pt.setText(String.valueOf(Integer.valueOf(pt.getText() + 1)));\r\n    }\r\n});\r\n```\r\nOutput:\r\nPants: 0    (*Press + button once*)    Pants: 1    (*Press + button once*)    Pants: 11\r\n\r\nMy expectation:\r\nPants: 0    (*Press + button once*)    Pants: 1    (*Press + button once*)    Pants: 2 \r\n\r\nAlso, decreasing similarly with - button, but I can&#39;t.\r\n\r\nAlso, I tried this one but it didn&#39;t work:\r\n\r\n```\r\nint counter = 0;\r\npa.addActionListener(new ActionListener() {\r\n    @Override\r\n    public void actionPerformed(ActionEvent actionEvent) {\r\n        counter++;\r\n        pt.setText(String.valueOf(counter));\r\n    }\r\n});\r\n```\r\nError: java: local variables referenced from an inner class must be final or effectively final\r\n","title":"How can I increase the value in the text field with JButton?","body":"<p>I have a school project and I want to do an online shopping cart with Java. It has a frame, 4 different types of clothing with JLabels, one text field that displays 0 in the starting for each of them and two JButtons that have plus and minus icons for each text fields. I want to increase the number which is in the text field with plus button and decrease it with minus button. Also it needs to count how many clothes I want to buy, for calculating the money.</p>\n<p>pa = JButton which has a plus sign and need to increase the number of Pants.\npt = JTextField which shows us the number of pants.</p>\n<pre><code>pa.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent actionEvent) {\n        pt.setText(String.valueOf(Integer.valueOf(pt.getText() + 1)));\n    }\n});\n</code></pre>\n<p>Output:\nPants: 0    (<em>Press + button once</em>)    Pants: 1    (<em>Press + button once</em>)    Pants: 11</p>\n<p>My expectation:\nPants: 0    (<em>Press + button once</em>)    Pants: 1    (<em>Press + button once</em>)    Pants: 2</p>\n<p>Also, decreasing similarly with - button, but I can't.</p>\n<p>Also, I tried this one but it didn't work:</p>\n<pre><code>int counter = 0;\npa.addActionListener(new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent actionEvent) {\n        counter++;\n        pt.setText(String.valueOf(counter));\n    }\n});\n</code></pre>\n<p>Error: java: local variables referenced from an inner class must be final or effectively final</p>\n"},{"tags":["java","maven","unit-testing","gradle","junit"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1668265238,"post_id":74413900,"comment_id":131365718,"body_markdown":"As an aside: I would advice to use [`Arrays.toString(...)` (`docs.oracle.com`)](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Arrays.html#toString(int%5B%5D)).","body":"As an aside: I would advice to use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Arrays.html#toString(int%5B%5D)\" rel=\"nofollow noreferrer\"><code>Arrays.toString(...)</code> (<code>docs.oracle.com</code>)</a>."},{"owner":{"account_id":26739101,"reputation":1,"user_id":20340181,"display_name":"raj7vasani"},"score":0,"creation_date":1668271556,"post_id":74413900,"comment_id":131367018,"body_markdown":"I was able to solve the Problem. Thank you very much for your help:).","body":"I was able to solve the Problem. Thank you very much for your help:)."}],"owner":{"account_id":26739101,"reputation":1,"user_id":20340181,"display_name":"raj7vasani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668265388,"answer_count":0,"score":0,"last_activity_date":1668264444,"creation_date":1668264444,"question_id":74413900,"body_markdown":"This is the code snippet I have to test. I am not able to figure out how to test the following method which takes an array as a parameter and returns nothing. Is there a function on JUnit which tests this. \r\n```\r\ndefault void print(int[] a) {\r\n   System.out.print(&quot;{&quot;);\r\n   if (a.length &gt; 0) {\r\n      System.out.print(a[0]);\r\n      for (int i = 1; i &lt; a.length; i++) {\r\n         System.out.print(&quot;, &quot; + a[i]);\r\n      }\r\n   }\r\n   System.out.println(&quot;}&quot;);\r\n}\r\n\r\n```\r\n\r\n\r\nIf I put an Array in the expected field it tells me that an int[] output cannot be compared with a void function. This is what I have written. \r\n```\r\n@Test\r\nvoid test() {\r\n   var arr = new Array();\r\n   assertArrayEquals(new int[]{1, 2, 3}, arr.print(new int[]{1, 2, 3}));\r\n\r\n}\r\n```\r\n","title":"How to test a void Method on JUnit 5 which takes Array as an input","body":"<p>This is the code snippet I have to test. I am not able to figure out how to test the following method which takes an array as a parameter and returns nothing. Is there a function on JUnit which tests this.</p>\n<pre><code>default void print(int[] a) {\n   System.out.print(&quot;{&quot;);\n   if (a.length &gt; 0) {\n      System.out.print(a[0]);\n      for (int i = 1; i &lt; a.length; i++) {\n         System.out.print(&quot;, &quot; + a[i]);\n      }\n   }\n   System.out.println(&quot;}&quot;);\n}\n\n</code></pre>\n<p>If I put an Array in the expected field it tells me that an int[] output cannot be compared with a void function. This is what I have written.</p>\n<pre><code>@Test\nvoid test() {\n   var arr = new Array();\n   assertArrayEquals(new int[]{1, 2, 3}, arr.print(new int[]{1, 2, 3}));\n\n}\n</code></pre>\n"},{"tags":["java","android","xml","android-layout"],"comments":[{"owner":{"account_id":9122362,"reputation":103,"user_id":6787372,"display_name":"Julia Williams"},"score":0,"creation_date":1633581646,"post_id":66813668,"comment_id":122798916,"body_markdown":"Hello @fohibi, did you get code for showing app icon in share dialog top bar.","body":"Hello @fohibi, did you get code for showing app icon in share dialog top bar."},{"owner":{"account_id":10517980,"reputation":409,"user_id":7751464,"display_name":"venu46"},"score":0,"creation_date":1642665672,"post_id":66813668,"comment_id":125132683,"body_markdown":"HI @fohibi , if you get the solution please let me know , actually i am waiting for this","body":"HI @fohibi , if you get the solution please let me know , actually i am waiting for this"},{"owner":{"account_id":2541410,"reputation":1193,"user_id":2207137,"accept_rate":38,"display_name":"TomV"},"score":0,"creation_date":1651164027,"post_id":66813668,"comment_id":127304246,"body_markdown":"@fohibi, Did you get a solution. I have the same issue.","body":"@fohibi, Did you get a solution. I have the same issue."}],"answers":[{"tags":[],"owner":{"account_id":3261346,"reputation":1761,"user_id":2746883,"accept_rate":56,"display_name":"Acuna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668264363,"creation_date":1668264363,"answer_id":74413889,"question_id":66813668,"body_markdown":"Congratulations guys, you waited for this :)\r\n\r\nIn some cases you need to add several Intent filters:\r\n\r\n    &lt;activity\r\n\t\t\tandroid:name=&quot;.activity.FeedActivity&quot;\r\n\t\t\tandroid:exported=&quot;true&quot;\r\n\t\t\tandroid:label=&quot;@string/app_name&quot;\r\n\t\t\t&gt;\r\n\t\t\t\r\n\t\t\t&lt;intent-filter&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n\t\t\t\r\n\t\t\t&lt;/intent-filter&gt;\r\n\t\t\t\r\n\t\t\t&lt;intent-filter&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;data android:mimeType=&quot;image/*&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t&lt;/intent-filter&gt;\r\n\t\t\t\r\n\t\t\t&lt;intent-filter&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;data android:mimeType=&quot;text/plain&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t&lt;/intent-filter&gt;\r\n\t\t\t\r\n\t\t\t&lt;intent-filter&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;action android:name=&quot;android.intent.action.SEND_MULTIPLE&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t\t&lt;data android:mimeType=&quot;image/*&quot; /&gt;\r\n\t\t\t\t\r\n\t\t\t&lt;/intent-filter&gt;\r\n\t\t\t\r\n\t\t&lt;/activity&gt;\r\n\r\nAnd be sure you add the `android:exported=&quot;true&quot;` tag otherwise you app won&#39;t appear in other share intents.","title":"How to show App icon in ACTION_SEND intent - android","body":"<p>Congratulations guys, you waited for this :)</p>\n<p>In some cases you need to add several Intent filters:</p>\n<pre><code>&lt;activity\n        android:name=&quot;.activity.FeedActivity&quot;\n        android:exported=&quot;true&quot;\n        android:label=&quot;@string/app_name&quot;\n        &gt;\n        \n        &lt;intent-filter&gt;\n            \n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            \n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        \n        &lt;/intent-filter&gt;\n        \n        &lt;intent-filter&gt;\n            \n            &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\n            \n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            \n            &lt;data android:mimeType=&quot;image/*&quot; /&gt;\n            \n        &lt;/intent-filter&gt;\n        \n        &lt;intent-filter&gt;\n            \n            &lt;action android:name=&quot;android.intent.action.SEND&quot; /&gt;\n            \n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            \n            &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\n            \n        &lt;/intent-filter&gt;\n        \n        &lt;intent-filter&gt;\n            \n            &lt;action android:name=&quot;android.intent.action.SEND_MULTIPLE&quot; /&gt;\n            \n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            \n            &lt;data android:mimeType=&quot;image/*&quot; /&gt;\n            \n        &lt;/intent-filter&gt;\n        \n    &lt;/activity&gt;\n</code></pre>\n<p>And be sure you add the <code>android:exported=&quot;true&quot;</code> tag otherwise you app won't appear in other share intents.</p>\n"}],"owner":{"account_id":21067528,"reputation":51,"user_id":15484400,"display_name":"fohibi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":909,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1668264363,"creation_date":1616748651,"question_id":66813668,"body_markdown":"I want the app icon to be shown when sharing my app inside my app. When clicking the Share the App button in my App. It works but instead of my icon, it shows some other icon.\r\nIt shows like Below\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHere&#39;s the code I used:\r\n\r\n    Intent shareIntent = new Intent(Intent.ACTION_SEND);\r\n    shareIntent.setType(&quot;text/plain&quot;);\r\n    shareIntent.putExtra(Intent.EXTRA_SUBJECT, &quot; Knowledge&quot;);\r\n    String shareMessage= &quot;\\n Download now for free !\\n\\n&quot;;\r\n    shareMessage = shareMessage + &quot;https://play.google.com/store/apps/details?id=&quot; + BuildConfig.APPLICATION_ID +&quot;\\n\\n&quot;;\r\n    shareIntent.putExtra(Intent.EXTRA_TEXT, shareMessage);\r\n    context.startActivity(Intent.createChooser(shareIntent, &quot;choose one&quot;));\r\n\r\n\r\nHow can I set my icon in here? Please help me with some solution\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VUNSz.png","title":"How to show App icon in ACTION_SEND intent - android","body":"<p>I want the app icon to be shown when sharing my app inside my app. When clicking the Share the App button in my App. It works but instead of my icon, it shows some other icon.\nIt shows like Below</p>\n<p><a href=\"https://i.stack.imgur.com/VUNSz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VUNSz.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's the code I used:</p>\n<pre><code>Intent shareIntent = new Intent(Intent.ACTION_SEND);\nshareIntent.setType(&quot;text/plain&quot;);\nshareIntent.putExtra(Intent.EXTRA_SUBJECT, &quot; Knowledge&quot;);\nString shareMessage= &quot;\\n Download now for free !\\n\\n&quot;;\nshareMessage = shareMessage + &quot;https://play.google.com/store/apps/details?id=&quot; + BuildConfig.APPLICATION_ID +&quot;\\n\\n&quot;;\nshareIntent.putExtra(Intent.EXTRA_TEXT, shareMessage);\ncontext.startActivity(Intent.createChooser(shareIntent, &quot;choose one&quot;));\n</code></pre>\n<p>How can I set my icon in here? Please help me with some solution</p>\n"},{"tags":["java","methods","calculation","pi"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1668264097,"post_id":74413843,"comment_id":131365489,"body_markdown":"The format specifier for floating point numbers (`float` and `double`) is `%f`, not `%d`.","body":"The format specifier for floating point numbers (<code>float</code> and <code>double</code>) is <code>%f</code>, not <code>%d</code>."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1668264678,"post_id":74413843,"comment_id":131365596,"body_markdown":"Cast to **int**: `int calCircumference(int radius) { return (int) (2 * PI * radius); }` and `int calArea(int radius) { return (int) (PI * radius * radius); }`.","body":"Cast to <b>int</b>: <code>int calCircumference(int radius) { return (int) (2 * PI * radius); }</code> and <code>int calArea(int radius) { return (int) (PI * radius * radius); }</code>."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1668265584,"post_id":74413843,"comment_id":131365793,"body_markdown":"You can also use `Math.PI` as the value.  Check out the [Math](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Math.html) class for more useful methods and constants.","body":"You can also use <code>Math.PI</code> as the value.  Check out the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Math.html\" rel=\"nofollow noreferrer\">Math</a> class for more useful methods and constants."},{"owner":{"account_id":2740071,"reputation":91,"user_id":2361812,"display_name":"Zen Leow"},"score":0,"creation_date":1668272109,"post_id":74413843,"comment_id":131367122,"body_markdown":"for your `int calCircumference(int radius)` and `int calArea (int radius)`, you should consider if you just want to get the whole number portion of the floating number result. or do you want to round up/down the number. e.g., if the calculated value is 5.678. doing type casting like what @DevilsHnd suggested will result in an integer of 5. you can also use `.intValue()` function which can give you the same outcome. But if you are expecting 5.678 to round to 6 instead of 5, you should use Math.round() in combination with type casting. like this `return (int) Math.round(2 * PI * radius);`","body":"for your <code>int calCircumference(int radius)</code> and <code>int calArea (int radius)</code>, you should consider if you just want to get the whole number portion of the floating number result. or do you want to round up/down the number. e.g., if the calculated value is 5.678. doing type casting like what @DevilsHnd suggested will result in an integer of 5. you can also use <code>.intValue()</code> function which can give you the same outcome. But if you are expecting 5.678 to round to 6 instead of 5, you should use Math.round() in combination with type casting. like this <code>return (int) Math.round(2 * PI * radius);</code>"}],"owner":{"account_id":26910511,"reputation":1,"user_id":20486162,"display_name":"z2214562712"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668264026,"creation_date":1668263948,"question_id":74413843,"body_markdown":"I&#39;m a very beginner in programming Java and I need to solve this task. I&#39;ve got a preset and need to implement a method. The method needs to contain the contant PI. \r\nMy task is &quot;The radius is set via the parameter list either in mm (double)\r\nor passed in px(int). The calculated value is returned in the same unit of measurement via the return interface\r\nreturned (with return). If the radius is &lt; 0, the calculation of the perimeter and area is 0&quot;\r\n\r\n```\r\npublic class Methods {\r\n\r\n\t public static final double PI = 3.14159265358979323846;\r\n\r\n\t static double calCircumference(double radius) {\r\n\t return 2 * PI * radius;\r\n}\r\n\r\n\t static double calArea(double radius) {\r\n\t return PI * radius * radius;\r\n}\r\n\r\n\t static int calCircumference(int radius) {\r\n\t return 2 * PI * radius;\r\n}\r\n\r\n\t static int calArea(int radius) {\r\n\t return PI * radius * radius;\r\n}\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t{ // Test Calculate Circle double\r\n\t\t    double radius = 5.00;\r\n\t\t    System.out.printf(&quot;Radius =  %10.2f mm.\\n&quot;, radius);\r\n\t\t    System.out.printf(&quot;Circumference =  %10.2f mm.\\n&quot;, calCircumference(radius));\r\n\t\t    System.out.printf(&quot;Area = %10.2f mm.^2\\n&quot;, calArea(radius));\r\n\t\t    radius = -5.00;\r\n\t\t    System.out.printf(&quot;Radius =  %10.2f mm.\\n&quot;, radius);\r\n\t\t    System.out.printf(&quot;Circumference =  %10.2f mm.\\n&quot;, calCircumference(radius));\r\n\t\t    System.out.printf(&quot;Area = %10.2f mm.^2\\n&quot;, calArea(radius));\r\n\t\t}\r\n\t\t{ // Test Calculate Circle int\r\n\t\t    int radius = 5;\r\n\t\t    System.out.printf(&quot;Radius =  %10d px.\\n&quot;, radius);\r\n\t\t    System.out.printf(&quot;Circumference =  %10d px.\\n&quot;, calCircumference(radius));\r\n\t\t    System.out.printf(&quot;Area = %10d px.^2\\n&quot;, calArea(radius));\r\n\t\t    radius = -5;\r\n\r\n                    System.out.printf(&quot;Radius =  %10d px.\\n&quot;, radius);\r\n\t\t    System.out.printf(&quot;Circumference =  %10d px.\\n&quot;, calCircumference(radius));\r\n\t\t    System.out.printf(&quot;Area = %10d px.^2\\n&quot;, calArea(radius));\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nMy output is:\r\n\r\n\r\n```\r\nRadius =        5,00 mm.\r\nCircumference =       31,42 mm.\r\nArea =      78,54 mm.^2\r\nRadius =       -5,00 mm.\r\nCircumference =      -31,42 mm.\r\nArea =      78,54 mm.^2\r\nRadius =           5 px.\r\nCircumference =  Exception in thread &quot;main&quot; java.util.IllegalFormatConversionException: d != java.lang.Double\r\n\tat java.base/java.util.Formatter$FormatSpecifier.failConversion(Formatter.java:4442)\r\n\tat java.base/java.util.Formatter$FormatSpecifier.printInteger(Formatter.java:2963)\r\n\tat java.base/java.util.Formatter$FormatSpecifier.print(Formatter.java:2918)\r\n\tat java.base/java.util.Formatter.format(Formatter.java:2689)\r\n\tat java.base/java.io.PrintStream.format(PrintStream.java:1209)\r\n\tat java.base/java.io.PrintStream.printf(PrintStream.java:1105)\r\n\tat Methoden.main(Methoden.java:40)\r\n```\r\n","title":"Java calculating area/circumference of a circle using double and int w/ return","body":"<p>I'm a very beginner in programming Java and I need to solve this task. I've got a preset and need to implement a method. The method needs to contain the contant PI.\nMy task is &quot;The radius is set via the parameter list either in mm (double)\nor passed in px(int). The calculated value is returned in the same unit of measurement via the return interface\nreturned (with return). If the radius is &lt; 0, the calculation of the perimeter and area is 0&quot;</p>\n<pre><code>public class Methods {\n\n     public static final double PI = 3.14159265358979323846;\n\n     static double calCircumference(double radius) {\n     return 2 * PI * radius;\n}\n\n     static double calArea(double radius) {\n     return PI * radius * radius;\n}\n\n     static int calCircumference(int radius) {\n     return 2 * PI * radius;\n}\n\n     static int calArea(int radius) {\n     return PI * radius * radius;\n}\n\n\n    public static void main(String[] args) {\n        { // Test Calculate Circle double\n            double radius = 5.00;\n            System.out.printf(&quot;Radius =  %10.2f mm.\\n&quot;, radius);\n            System.out.printf(&quot;Circumference =  %10.2f mm.\\n&quot;, calCircumference(radius));\n            System.out.printf(&quot;Area = %10.2f mm.^2\\n&quot;, calArea(radius));\n            radius = -5.00;\n            System.out.printf(&quot;Radius =  %10.2f mm.\\n&quot;, radius);\n            System.out.printf(&quot;Circumference =  %10.2f mm.\\n&quot;, calCircumference(radius));\n            System.out.printf(&quot;Area = %10.2f mm.^2\\n&quot;, calArea(radius));\n        }\n        { // Test Calculate Circle int\n            int radius = 5;\n            System.out.printf(&quot;Radius =  %10d px.\\n&quot;, radius);\n            System.out.printf(&quot;Circumference =  %10d px.\\n&quot;, calCircumference(radius));\n            System.out.printf(&quot;Area = %10d px.^2\\n&quot;, calArea(radius));\n            radius = -5;\n\n                    System.out.printf(&quot;Radius =  %10d px.\\n&quot;, radius);\n            System.out.printf(&quot;Circumference =  %10d px.\\n&quot;, calCircumference(radius));\n            System.out.printf(&quot;Area = %10d px.^2\\n&quot;, calArea(radius));\n        }\n    }\n}\n</code></pre>\n<p>My output is:</p>\n<pre><code>Radius =        5,00 mm.\nCircumference =       31,42 mm.\nArea =      78,54 mm.^2\nRadius =       -5,00 mm.\nCircumference =      -31,42 mm.\nArea =      78,54 mm.^2\nRadius =           5 px.\nCircumference =  Exception in thread &quot;main&quot; java.util.IllegalFormatConversionException: d != java.lang.Double\n    at java.base/java.util.Formatter$FormatSpecifier.failConversion(Formatter.java:4442)\n    at java.base/java.util.Formatter$FormatSpecifier.printInteger(Formatter.java:2963)\n    at java.base/java.util.Formatter$FormatSpecifier.print(Formatter.java:2918)\n    at java.base/java.util.Formatter.format(Formatter.java:2689)\n    at java.base/java.io.PrintStream.format(PrintStream.java:1209)\n    at java.base/java.io.PrintStream.printf(PrintStream.java:1105)\n    at Methoden.main(Methoden.java:40)\n</code></pre>\n"},{"tags":["java","spring-boot","hsqldb"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668253050,"post_id":74409956,"comment_id":131363439,"body_markdown":"You could start the DB server from within your Spring Boot App, see end of https://stackoverflow.com/questions/40114231/how-to-start-hsqldb-in-server-mode-from-spring-boot-application","body":"You could start the DB server from within your Spring Boot App, see end of <a href=\"https://stackoverflow.com/questions/40114231/how-to-start-hsqldb-in-server-mode-from-spring-boot-application\" title=\"how to start hsqldb in server mode from spring boot application\">stackoverflow.com/questions/40114231/&hellip;</a>"},{"owner":{"account_id":25480497,"reputation":35,"user_id":19276945,"display_name":"Marcin Knapik"},"score":0,"creation_date":1668257086,"post_id":74409956,"comment_id":131364142,"body_markdown":"First or second answer?","body":"First or second answer?"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668257510,"post_id":74409956,"comment_id":131364214,"body_markdown":"second/last one","body":"second/last one"},{"owner":{"account_id":25480497,"reputation":35,"user_id":19276945,"display_name":"Marcin Knapik"},"score":0,"creation_date":1668259345,"post_id":74409956,"comment_id":131364576,"body_markdown":"unfortunatle doesnt work for me... ;/","body":"unfortunatle doesnt work for me... ;/"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668260326,"post_id":74409956,"comment_id":131364765,"body_markdown":"Not adoptable or technical error?","body":"Not adoptable or technical error?"},{"owner":{"account_id":25480497,"reputation":35,"user_id":19276945,"display_name":"Marcin Knapik"},"score":0,"creation_date":1668260986,"post_id":74409956,"comment_id":131364886,"body_markdown":"I copied the first answer and I have errors.","body":"I copied the first answer and I have errors."},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1668278388,"post_id":74409956,"comment_id":131368416,"body_markdown":"This issue can be solved using Docker. Let me know if you are interested to use Docker.","body":"This issue can be solved using Docker. Let me know if you are interested to use Docker."},{"owner":{"account_id":25480497,"reputation":35,"user_id":19276945,"display_name":"Marcin Knapik"},"score":0,"creation_date":1668292115,"post_id":74409956,"comment_id":131371026,"body_markdown":"If it&#39;s easy to make with Docker, of course we can do it. But I didnt use docker before, so that will be my first time.","body":"If it&#39;s easy to make with Docker, of course we can do it. But I didnt use docker before, so that will be my first time."}],"owner":{"account_id":25480497,"reputation":35,"user_id":19276945,"display_name":"Marcin Knapik"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668263049,"creation_date":1668220092,"question_id":74409956,"body_markdown":"I decited to build a spring boot app using javafx. And I want to have a &quot;light&quot; database. I selected a HSQL database. The problem is when I run my database in powershell\r\n\r\n&gt; java -cp .\\hsqldb-2.6.1.jar org.hsqldb.Server --database bazaX\r\n\r\nthen my database is turn on and my spring app works fine. But when I dont turn on my database by that script, it won&#39;t work. Can I somehow execute that script before a springboot app start? And what is the best/the easiest way.\r\n\r\nMaybe some can help you:\r\n1.Command in Powershell:\r\n\r\n    PS C:\\Users\\knapi\\IdeaProjects\\demo1\\myAppSpring\\database&gt; java -cp .\\hsqldb-2.6.1.jar org.hsqldb.Server --database bazaX [Server@76707e36]: Startup sequence initiated from main() method [Server@76707e36]: Could not load properties from file [Server@76707e36]: Using cli/default properties only [Server@76707e36]: Initiating startup sequence... [Server@76707e36]: Server socket opened successfully in 4 ms. [Server@76707e36]: Database [index=0, id=0, db=file:bazaX, alias=] opened successfully in 233 ms. [Server@76707e36]: Startup sequence completed in 274 ms. [Server@76707e36]: 2022-11-12 13:52:01.856 HSQLDB server 2.6.1 is online on port 9001 [Server@76707e36]: To close normally, connect and execute SHUTDOWN SQL [Server@76707e36]: From command line, use [Ctrl]+[C] to abort abruptly\r\n\r\n\r\nmy hsqlConfigFile.xml:\r\n\r\n```xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n        &lt;bean id=&quot;hqlServer&quot; class=&quot;org.hsqldb.server.Server&quot; init-method=&quot;start&quot; destroy-method=&quot;stop&quot;&gt;\r\n            &lt;property name=&quot;properties&quot;&gt;&lt;bean class=&quot;org.hsqldb.persist.HsqlProperties&quot;&gt;\r\n                &lt;constructor-arg&gt;&lt;props&gt;\r\n                    &lt;prop key=&quot;server.database.0&quot;&gt;file:bazaX&lt;/prop&gt;\r\n                    &lt;prop key=&quot;server.dbname.0&quot;&gt;bazaX&lt;/prop&gt;&lt;!--DB name for network connection--&gt;\r\n                    &lt;prop key=&quot;server.no_system_exit&quot;&gt;true&lt;/prop&gt;\r\n                    &lt;prop key=&quot;server.port&quot;&gt;9001&lt;/prop&gt;&lt;!--default port is 9001 --&gt;\r\n                &lt;/props&gt;&lt;/constructor-arg&gt;\r\n            &lt;/bean&gt;&lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n```\r\nmy main file:\r\n\r\n```java\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.context.event.ApplicationReadyEvent;\r\n    import org.springframework.context.ConfigurableApplicationContext;\r\n    import org.springframework.context.annotation.ImportResource;\r\n    import org.springframework.context.event.ContextRefreshedEvent;\r\n    import org.springframework.context.event.EventListener;\r\n    \r\n    @SpringBootApplication\r\n    @ImportResource(value=&quot;classpath:/hsqlConfigFile.xml&quot;)\r\n    public class MyAppSpringApplication extends Application {\r\n    \r\n        private ConfigurableApplicationContext springContext;\r\n        private FXMLLoader fxmlLoader;\r\n    \r\n        public static void main(String[] args) {\r\n            Application.launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            fxmlLoader.setLocation(getClass().getResource(&quot;/sample.fxml&quot;));\r\n            Parent root = fxmlLoader.load();\r\n            stage.setTitle(&quot;Sample app&quot;);\r\n            Scene scene = new Scene(root);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        @Override\r\n        public void stop() throws Exception {\r\n            springContext.stop();\r\n        }\r\n    \r\n        @Override\r\n        public void init() throws Exception {\r\n            springContext = SpringApplication.run(MyAppSpringApplication.class);\r\n            fxmlLoader = new FXMLLoader();\r\n            fxmlLoader.setControllerFactory(springContext::getBean);\r\n        }\r\n    }\r\n```\r\n\r\nAnd erros are in files.\r\nhttps://drive.google.com/drive/folders/1YnxLWAXhDz-xF95Lu1OXgRU2bYdanOv1?usp=share_link\r\n\r\n","title":"How to turn on a hsql before spring boot app start?","body":"<p>I decited to build a spring boot app using javafx. And I want to have a &quot;light&quot; database. I selected a HSQL database. The problem is when I run my database in powershell</p>\n<blockquote>\n<p>java -cp .\\hsqldb-2.6.1.jar org.hsqldb.Server --database bazaX</p>\n</blockquote>\n<p>then my database is turn on and my spring app works fine. But when I dont turn on my database by that script, it won't work. Can I somehow execute that script before a springboot app start? And what is the best/the easiest way.</p>\n<p>Maybe some can help you:\n1.Command in Powershell:</p>\n<pre><code>PS C:\\Users\\knapi\\IdeaProjects\\demo1\\myAppSpring\\database&gt; java -cp .\\hsqldb-2.6.1.jar org.hsqldb.Server --database bazaX [Server@76707e36]: Startup sequence initiated from main() method [Server@76707e36]: Could not load properties from file [Server@76707e36]: Using cli/default properties only [Server@76707e36]: Initiating startup sequence... [Server@76707e36]: Server socket opened successfully in 4 ms. [Server@76707e36]: Database [index=0, id=0, db=file:bazaX, alias=] opened successfully in 233 ms. [Server@76707e36]: Startup sequence completed in 274 ms. [Server@76707e36]: 2022-11-12 13:52:01.856 HSQLDB server 2.6.1 is online on port 9001 [Server@76707e36]: To close normally, connect and execute SHUTDOWN SQL [Server@76707e36]: From command line, use [Ctrl]+[C] to abort abruptly\n</code></pre>\n<p>my hsqlConfigFile.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n        &lt;bean id=&quot;hqlServer&quot; class=&quot;org.hsqldb.server.Server&quot; init-method=&quot;start&quot; destroy-method=&quot;stop&quot;&gt;\n            &lt;property name=&quot;properties&quot;&gt;&lt;bean class=&quot;org.hsqldb.persist.HsqlProperties&quot;&gt;\n                &lt;constructor-arg&gt;&lt;props&gt;\n                    &lt;prop key=&quot;server.database.0&quot;&gt;file:bazaX&lt;/prop&gt;\n                    &lt;prop key=&quot;server.dbname.0&quot;&gt;bazaX&lt;/prop&gt;&lt;!--DB name for network connection--&gt;\n                    &lt;prop key=&quot;server.no_system_exit&quot;&gt;true&lt;/prop&gt;\n                    &lt;prop key=&quot;server.port&quot;&gt;9001&lt;/prop&gt;&lt;!--default port is 9001 --&gt;\n                &lt;/props&gt;&lt;/constructor-arg&gt;\n            &lt;/bean&gt;&lt;/property&gt;\n        &lt;/bean&gt;\n    &lt;/beans&gt;\n</code></pre>\n<p>my main file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import javafx.application.Application;\n    import javafx.fxml.FXMLLoader;\n    import javafx.scene.Parent;\n    import javafx.scene.Scene;\n    import javafx.stage.Stage;\n    import org.springframework.boot.SpringApplication;\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\n    import org.springframework.boot.context.event.ApplicationReadyEvent;\n    import org.springframework.context.ConfigurableApplicationContext;\n    import org.springframework.context.annotation.ImportResource;\n    import org.springframework.context.event.ContextRefreshedEvent;\n    import org.springframework.context.event.EventListener;\n    \n    @SpringBootApplication\n    @ImportResource(value=&quot;classpath:/hsqlConfigFile.xml&quot;)\n    public class MyAppSpringApplication extends Application {\n    \n        private ConfigurableApplicationContext springContext;\n        private FXMLLoader fxmlLoader;\n    \n        public static void main(String[] args) {\n            Application.launch(args);\n        }\n    \n        @Override\n        public void start(Stage stage) throws Exception {\n            fxmlLoader.setLocation(getClass().getResource(&quot;/sample.fxml&quot;));\n            Parent root = fxmlLoader.load();\n            stage.setTitle(&quot;Sample app&quot;);\n            Scene scene = new Scene(root);\n            stage.setScene(scene);\n            stage.show();\n        }\n    \n        @Override\n        public void stop() throws Exception {\n            springContext.stop();\n        }\n    \n        @Override\n        public void init() throws Exception {\n            springContext = SpringApplication.run(MyAppSpringApplication.class);\n            fxmlLoader = new FXMLLoader();\n            fxmlLoader.setControllerFactory(springContext::getBean);\n        }\n    }\n</code></pre>\n<p>And erros are in files.\n<a href=\"https://drive.google.com/drive/folders/1YnxLWAXhDz-xF95Lu1OXgRU2bYdanOv1?usp=share_link\" rel=\"nofollow noreferrer\">https://drive.google.com/drive/folders/1YnxLWAXhDz-xF95Lu1OXgRU2bYdanOv1?usp=share_link</a></p>\n"},{"tags":["java","android","kotlin","admob"],"comments":[{"owner":{"account_id":6684285,"reputation":1647,"user_id":5156187,"display_name":"Yasiru Nayanajith"},"score":0,"creation_date":1655573907,"post_id":71455403,"comment_id":128366091,"body_markdown":"did you found a fix","body":"did you found a fix"},{"owner":{"account_id":18002107,"reputation":552,"user_id":13083841,"display_name":"mrzbn"},"score":0,"creation_date":1655621555,"post_id":71455403,"comment_id":128371962,"body_markdown":"no, not yet. and the issue still exists in my project.","body":"no, not yet. and the issue still exists in my project."},{"owner":{"account_id":25417380,"reputation":526,"user_id":19224040,"display_name":"Rob"},"score":0,"creation_date":1668571441,"post_id":71455403,"comment_id":131435642,"body_markdown":"It would be helpful to share how you init AdMob. I use AdMob and I have not seen this problem before.","body":"It would be helpful to share how you init AdMob. I use AdMob and I have not seen this problem before."},{"owner":{"account_id":18002107,"reputation":552,"user_id":13083841,"display_name":"mrzbn"},"score":0,"creation_date":1668634274,"post_id":71455403,"comment_id":131456454,"body_markdown":"@Rob I just call MobileAds.intialize in the application class. it is weird that it only happens on android 11.","body":"@Rob I just call MobileAds.intialize in the application class. it is weird that it only happens on android 11."},{"owner":{"account_id":10927511,"reputation":3072,"user_id":8031784,"display_name":"Aniruddh Parihar"},"score":0,"creation_date":1668762760,"post_id":71455403,"comment_id":131489963,"body_markdown":"can you share your gradle and Manifest file?","body":"can you share your gradle and Manifest file?"}],"owner":{"account_id":18002107,"reputation":552,"user_id":13083841,"display_name":"mrzbn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1668262796,"creation_date":1647163418,"question_id":71455403,"body_markdown":"I am initilizing AdMob in application class. for some devices with android 11 a crash occurs. \r\nrelated logs:\r\n\r\n```\r\njava.lang.SecurityException: Package android does not belong to 10275\r\n```\r\n\r\n```\r\nRemote stack trace:\r\n\tat android.app.AppOpsManager.checkPackage(AppOpsManager.java:7794)\r\n\tat com.android.server.ConnectivityService.ensureSufficientPermissionsForRequest(ConnectivityService.java:5672)\r\n\tat com.android.server.ConnectivityService.requestNetwork(ConnectivityService.java:5767)\r\n\tat android.net.IConnectivityManager$Stub.onTransact(IConnectivityManager.java:1570)\r\n\tat android.os.Binder.execTransactInternal(Binder.java:1154)\r\n```\r\n\r\nI was not able to reproduce the crash and I was wondering if anyone else encountered this issue.","title":"crash on initialization of AdMob, occuring on android 11 devices","body":"<p>I am initilizing AdMob in application class. for some devices with android 11 a crash occurs.\nrelated logs:</p>\n<pre><code>java.lang.SecurityException: Package android does not belong to 10275\n</code></pre>\n<pre><code>Remote stack trace:\n    at android.app.AppOpsManager.checkPackage(AppOpsManager.java:7794)\n    at com.android.server.ConnectivityService.ensureSufficientPermissionsForRequest(ConnectivityService.java:5672)\n    at com.android.server.ConnectivityService.requestNetwork(ConnectivityService.java:5767)\n    at android.net.IConnectivityManager$Stub.onTransact(IConnectivityManager.java:1570)\n    at android.os.Binder.execTransactInternal(Binder.java:1154)\n</code></pre>\n<p>I was not able to reproduce the crash and I was wondering if anyone else encountered this issue.</p>\n"},{"tags":["java","macos","java-8","homebrew"],"comments":[{"owner":{"account_id":14647585,"reputation":421,"user_id":10578466,"display_name":"Gleb Yan"},"score":0,"creation_date":1640786355,"post_id":70475814,"comment_id":124658331,"body_markdown":"I faced the same problem. I install the arm64 OpenJDK from binary dmg, but it is not the decision.","body":"I faced the same problem. I install the arm64 OpenJDK from binary dmg, but it is not the decision."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1640938108,"post_id":70475814,"comment_id":124694261,"body_markdown":"Try installing everything manually, outside of homebrew","body":"Try installing everything manually, outside of homebrew"},{"owner":{"account_id":6613917,"reputation":31,"user_id":5107912,"display_name":"Sainath Bysani"},"score":0,"creation_date":1640968356,"post_id":70475814,"comment_id":124701352,"body_markdown":"Thank you @OneCricketeer for your suggestion. I downloaded from below site &quot;https://downloads.apache.org/hive/stable-2/&quot;. After downloading, when I click hive cmd file from bin folder it gave me below text..\n\nSaving session...\n...copying shared history...\n...saving history...truncating history files...\n...completed.\n\n[Process completed]","body":"Thank you @OneCricketeer for your suggestion. I downloaded from below site &quot;<a href=\"https://downloads.apache.org/hive/stable-2/\" rel=\"nofollow noreferrer\">downloads.apache.org/hive/stable-2</a>&quot;. After downloading, when I click hive cmd file from bin folder it gave me below text..  Saving session... ...copying shared history... ...saving history...truncating history files... ...completed.  [Process completed]"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1640969593,"post_id":70475814,"comment_id":124701620,"body_markdown":"Not sure what you ran... cmd files are for windows, not Mac, and you don&#39;t &quot;click&quot; on any of the executables because most of them accept arguments from the CLI","body":"Not sure what you ran... cmd files are for windows, not Mac, and you don&#39;t &quot;click&quot; on any of the executables because most of them accept arguments from the CLI"},{"owner":{"account_id":6613917,"reputation":31,"user_id":5107912,"display_name":"Sainath Bysani"},"score":0,"creation_date":1641091201,"post_id":70475814,"comment_id":124718792,"body_markdown":"It is Unix Executable File. \nCan you help me how to install hive outside of homebrew. I have been trying since a week and I ain&#39;t getting any source.  \nMuch appreciated in advance.","body":"It is Unix Executable File.  Can you help me how to install hive outside of homebrew. I have been trying since a week and I ain&#39;t getting any source.   Much appreciated in advance."},{"owner":{"account_id":6613917,"reputation":31,"user_id":5107912,"display_name":"Sainath Bysani"},"score":0,"creation_date":1641091426,"post_id":70475814,"comment_id":124718819,"body_markdown":"@GlebYan - Installing arm64 OpenJDK solved the issue? I mean are you able to install Hive, Sqoop everything? Basically we need a solution to bypass or override &quot;Error: openjdk@8: no bottle available!&quot; error.","body":"@GlebYan - Installing arm64 OpenJDK solved the issue? I mean are you able to install Hive, Sqoop everything? Basically we need a solution to bypass or override &quot;Error: openjdk@8: no bottle available!&quot; error."},{"owner":{"account_id":14647585,"reputation":421,"user_id":10578466,"display_name":"Gleb Yan"},"score":0,"creation_date":1641995215,"post_id":70475814,"comment_id":124954010,"body_markdown":"@SainathBysani nope, it&#39;s the wrong way. You should install another `homebrew` copy and launch it with `arch -x86_64` as I described in answer to the topic question.","body":"@SainathBysani nope, it&#39;s the wrong way. You should install another <code>homebrew</code> copy and launch it with <code>arch -x86_64</code> as I described in answer to the topic question."}],"answers":[{"comments":[{"owner":{"account_id":13941407,"reputation":341,"user_id":10067192,"display_name":"Harish Thalluri"},"score":0,"creation_date":1651872457,"post_id":70597422,"comment_id":127476475,"body_markdown":"would you please write down the steps you followed in-order to get this HIVE installation successful on M1 chip. Thanks in advance.","body":"would you please write down the steps you followed in-order to get this HIVE installation successful on M1 chip. Thanks in advance."},{"owner":{"account_id":6613917,"reputation":31,"user_id":5107912,"display_name":"Sainath Bysani"},"score":0,"creation_date":1651983748,"post_id":70597422,"comment_id":127493645,"body_markdown":"It didn’t work for me, throwing me errors on DataNucleus. I just stopped there.","body":"It didn’t work for me, throwing me errors on DataNucleus. I just stopped there."},{"owner":{"account_id":13941407,"reputation":341,"user_id":10067192,"display_name":"Harish Thalluri"},"score":0,"creation_date":1652481239,"post_id":70597422,"comment_id":127625130,"body_markdown":"Thank you @Sainath Bysani for confirming.","body":"Thank you @Sainath Bysani for confirming."}],"tags":[],"owner":{"account_id":6613917,"reputation":31,"user_id":5107912,"display_name":"Sainath Bysani"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641405207,"creation_date":1641405207,"answer_id":70597422,"question_id":70475814,"body_markdown":"Finally, I found a solution. First, We need to install Homebrew with Rosetta under /usr/local and then we can try installing everything the same way.\r\n","title":"openjdk@8: no bottle available","body":"<p>Finally, I found a solution. First, We need to install Homebrew with Rosetta under /usr/local and then we can try installing everything the same way.</p>\n"},{"tags":[],"owner":{"account_id":14647585,"reputation":421,"user_id":10578466,"display_name":"Gleb Yan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641994325,"creation_date":1641994325,"answer_id":70682446,"question_id":70475814,"body_markdown":"Apple silicone M1 and similar processors have the `ARMv8.4` architecture and `rosetta2` to launch native amd64 binaries on the arm64 processor. So apple silicone may launch nearly any app compiled for the Intel platform (there is some exception, for example, the older version of PostgreSQL won&#39;t be launched by rosetta2). \r\n\r\nBy default, `homebrew` detects the platform that is installed and tries to find the bottle that is appropriate for arm64. In some cases, there is no bottle for some applications (for example, you can&#39;t install `openjdk@8` on arm64 because there is no bottle). But you can install, for example, oracle JDK because there is the bottle for arm64 (but it will install amd64 binaries). It is a pretty confusing situation, isn&#39;t it? \r\n\r\nThe decision is to install the second copy of homebrew into the `/usr/local/homebrew` directory and launch it in compatibility mode with the command `arch -x86_64`. You won&#39;t start the original `homebrew` with this command because it will lid to mix arm64 and amd64 binaries (and what you will do, if you need the same library for both platforms? libpq as an example).\r\n\r\nSo there is the step-by-step guide:\r\n\r\n 1. Download homebrew `curl -L\r\n    https://github.com/Homebrew/brew/tarball/master --output homebrew.tar`\r\n2. Extract tarball to `/usr/local/homebrew` \r\n3. chown -R to     allow start apps from this folder \r\n4. Add aliases to your ~/.zshrc file\r\n\r\n&gt;     # If you come from bash you might have to change your $PATH.\r\n&gt;     # need this for x86_64 brew\r\n&gt;     export PATH=$HOME/bin:/usr/local/bin:$PATH\r\n&gt;     # for intel x86_64 brew\r\n&gt;     alias axbrew=&#39;arch -x86_64 /usr/local/homebrew/bin/brew&#39;\r\n5. Now start new console and launch installation, for example `axbrew install openjdk@8`\r\n\r\nInstall other Intel binaries you need the same way. Remember that it will be installed into the `/usr/local/homebrew/` directory - fill free to create a symlink if you wanna use it something else. \r\nThe slight disadvantage - the `java_version` tool won&#39;t see the OpenJDK in `/user/local directory`, but symlink to `/Library/Java/JavaVirtualMachines/` will solve this problem. ","title":"openjdk@8: no bottle available","body":"<p>Apple silicone M1 and similar processors have the <code>ARMv8.4</code> architecture and <code>rosetta2</code> to launch native amd64 binaries on the arm64 processor. So apple silicone may launch nearly any app compiled for the Intel platform (there is some exception, for example, the older version of PostgreSQL won't be launched by rosetta2).</p>\n<p>By default, <code>homebrew</code> detects the platform that is installed and tries to find the bottle that is appropriate for arm64. In some cases, there is no bottle for some applications (for example, you can't install <code>openjdk@8</code> on arm64 because there is no bottle). But you can install, for example, oracle JDK because there is the bottle for arm64 (but it will install amd64 binaries). It is a pretty confusing situation, isn't it?</p>\n<p>The decision is to install the second copy of homebrew into the <code>/usr/local/homebrew</code> directory and launch it in compatibility mode with the command <code>arch -x86_64</code>. You won't start the original <code>homebrew</code> with this command because it will lid to mix arm64 and amd64 binaries (and what you will do, if you need the same library for both platforms? libpq as an example).</p>\n<p>So there is the step-by-step guide:</p>\n<ol>\n<li>Download homebrew <code>curl -L https://github.com/Homebrew/brew/tarball/master --output homebrew.tar</code></li>\n<li>Extract tarball to <code>/usr/local/homebrew</code></li>\n<li>chown -R to     allow start apps from this folder</li>\n<li>Add aliases to your ~/.zshrc file</li>\n</ol>\n<blockquote>\n<pre><code># If you come from bash you might have to change your $PATH.\n# need this for x86_64 brew\nexport PATH=$HOME/bin:/usr/local/bin:$PATH\n# for intel x86_64 brew\nalias axbrew='arch -x86_64 /usr/local/homebrew/bin/brew'\n</code></pre>\n</blockquote>\n<ol start=\"5\">\n<li>Now start new console and launch installation, for example <code>axbrew install openjdk@8</code></li>\n</ol>\n<p>Install other Intel binaries you need the same way. Remember that it will be installed into the <code>/usr/local/homebrew/</code> directory - fill free to create a symlink if you wanna use it something else.\nThe slight disadvantage - the <code>java_version</code> tool won't see the OpenJDK in <code>/user/local directory</code>, but symlink to <code>/Library/Java/JavaVirtualMachines/</code> will solve this problem.</p>\n"},{"comments":[{"owner":{"account_id":6613917,"reputation":31,"user_id":5107912,"display_name":"Sainath Bysani"},"score":0,"creation_date":1647944843,"post_id":70805107,"comment_id":126493038,"body_markdown":"Thank you for reply, however, am still getting errors. \nWARN DataNucleus.Query: Query for candidates of org.apache.hadoop.hive.metastore.model.MVersionTable and subclasses resulted in no possible candidates\nRequired table missing : &quot;VERSION&quot; in Catalog &quot;&quot; Schema &quot;&quot;. DataNucleus requires this table to perform its persistence operations. Either your MetaData is incorrect, or you need to enable &quot;datanucleus.schema.autoCreateTables&quot;\norg.datanucleus.store.rdbms.exceptions.MissingTableException:","body":"Thank you for reply, however, am still getting errors.  WARN DataNucleus.Query: Query for candidates of org.apache.hadoop.hive.metastore.model.MVersionTable and subclasses resulted in no possible candidates Required table missing : &quot;VERSION&quot; in Catalog &quot;&quot; Schema &quot;&quot;. DataNucleus requires this table to perform its persistence operations. Either your MetaData is incorrect, or you need to enable &quot;datanucleus.schema.autoCreateTables&quot; org.datanucleus.store.rdbms.exceptions.MissingTableException&zwnj;&#8203;:"}],"tags":[],"owner":{"account_id":12800181,"reputation":365,"user_id":9261745,"display_name":"Youshikyou"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642785187,"creation_date":1642785187,"answer_id":70805107,"question_id":70475814,"body_markdown":"Combine Gleb Yan&#39;s answer and another website&#39;s solution [https://github.com/Homebrew/discussions/discussions/2723][1]. What I do is \r\n\r\n    arch -x86_64 /bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;\r\n\r\nThen run \r\n \r\n\r\n    arch -x86_64 /usr/local/homebrew/bin/brew install openjdk@8\r\n\r\n\r\nThen \r\n\r\n    arch -x86_64 /usr/local/homebrew/bin/brew install hive\r\n\r\nReminder two separate Homebrew hierarchies on your machine, an Intel-only one under /usr/local, and an M1-only one under /opt/homebrew\r\n\r\n  [1]: https://github.com/Homebrew/discussions/discussions/2723","title":"openjdk@8: no bottle available","body":"<p>Combine Gleb Yan's answer and another website's solution <a href=\"https://github.com/Homebrew/discussions/discussions/2723\" rel=\"nofollow noreferrer\">https://github.com/Homebrew/discussions/discussions/2723</a>. What I do is</p>\n<pre><code>arch -x86_64 /bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;\n</code></pre>\n<p>Then run</p>\n<pre><code>arch -x86_64 /usr/local/homebrew/bin/brew install openjdk@8\n</code></pre>\n<p>Then</p>\n<pre><code>arch -x86_64 /usr/local/homebrew/bin/brew install hive\n</code></pre>\n<p>Reminder two separate Homebrew hierarchies on your machine, an Intel-only one under /usr/local, and an M1-only one under /opt/homebrew</p>\n"}],"owner":{"account_id":6613917,"reputation":31,"user_id":5107912,"display_name":"Sainath Bysani"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1987,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1668262469,"creation_date":1640371579,"question_id":70475814,"body_markdown":"When I tried to install Hive through homebrew it throws below error:\r\n\r\n    homebrew install hive\r\n    Error: openjdk@8: no bottle available!\r\n\r\nHas anyone solved this issue?\r\nI did a bit of research in google and someone said &quot;this is because the M1 chip needs it&#39;s own special version of OpenJDK &quot;. \r\n\r\n","title":"openjdk@8: no bottle available","body":"<p>When I tried to install Hive through homebrew it throws below error:</p>\n<pre><code>homebrew install hive\nError: openjdk@8: no bottle available!\n</code></pre>\n<p>Has anyone solved this issue?\nI did a bit of research in google and someone said &quot;this is because the M1 chip needs it's own special version of OpenJDK &quot;.</p>\n"},{"tags":["java","selenium","selenium-webdriver","rest-assured","rest-assured-jsonpath"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1668260331,"post_id":74413394,"comment_id":131364766,"body_markdown":"Most likely you have mix of conflicting dependencies in your pom.xml","body":"Most likely you have mix of conflicting dependencies in your pom.xml"},{"owner":{"account_id":26639401,"reputation":3,"user_id":20255341,"display_name":"Ravi Ranjan"},"score":0,"creation_date":1668260713,"post_id":74413394,"comment_id":131364833,"body_markdown":"I have added these dependency&lt;dependency&gt;\n      &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n      &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n      &lt;version&gt;4.1.1&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;dependency&gt;\n          &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n          &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n          &lt;version&gt;4.3.3&lt;/version&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n          &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\n          &lt;version&gt;4.3.3&lt;/version&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;","body":"I have added these dependency&lt;dependency&gt;       &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;       &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;       &lt;version&gt;4.1.1&lt;/version&gt;   &lt;/dependency&gt; &lt;dependency&gt;           &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;           &lt;artifactId&gt;json-path&lt;/artifactId&gt;           &lt;version&gt;4.3.3&lt;/version&gt;           &lt;scope&gt;test&lt;/scope&gt;         &lt;/dependency&gt;         &lt;dependency&gt;           &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;           &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;           &lt;version&gt;4.3.3&lt;/version&gt;           &lt;scope&gt;test&lt;/scope&gt;         &lt;/dependency&gt;"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1668260781,"post_id":74413394,"comment_id":131364844,"body_markdown":"Add the pom to your question not as unreadable comment","body":"Add the pom to your question not as unreadable comment"}],"answers":[{"comments":[{"owner":{"account_id":26639401,"reputation":3,"user_id":20255341,"display_name":"Ravi Ranjan"},"score":0,"creation_date":1668262423,"post_id":74413585,"comment_id":131365176,"body_markdown":"Getting a new error saying this       &quot;SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n&quot;","body":"Getting a new error saying this       &quot;SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;. SLF4J: Defaulting to no-operation (NOP) logger implementation SLF4J: See <a href=\"http://www.slf4j.org/codes.html#StaticLoggerBinder\" rel=\"nofollow noreferrer\">slf4j.org/codes.html#StaticLoggerBinder</a> for further details. &quot;"},{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1668262642,"post_id":74413585,"comment_id":131365226,"body_markdown":"This is warning I believe. You should be able to send request now. You can log it by using this RestAssured.given().log().all().when().get(&quot;https://reqres.in/api/users/2&quot;);","body":"This is warning I believe. You should be able to send request now. You can log it by using this RestAssured.given().log().all().when().get(&quot;<a href=\"https://reqres.in/api/users/2&quot;\" rel=\"nofollow noreferrer\">reqres.in/api/us&zwnj;&#8203;ers/2&quot;</a>);"},{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1668262787,"post_id":74413585,"comment_id":131365256,"body_markdown":"You can fix the slf4j warning by adding dependencies :                    \n      &lt;dependency&gt;\n       &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n       &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n       &lt;version&gt;1.7.5&lt;/version&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n       &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n       &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n       &lt;version&gt;1.7.5&lt;/version&gt;\n   &lt;/dependency&gt;","body":"You can fix the slf4j warning by adding dependencies :                           &lt;dependency&gt;        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;        &lt;version&gt;1.7.5&lt;/version&gt;    &lt;/dependency&gt;    &lt;dependency&gt;        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;        &lt;version&gt;1.7.5&lt;/version&gt;    &lt;/dependency&gt;"}],"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668261844,"creation_date":1668261844,"answer_id":74413585,"question_id":74413394,"body_markdown":"Add this dependency and remove all other rest assured dependencies.\r\njson-path is already included in rest-assured dependency.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n    &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n    &lt;version&gt;5.2.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIf you need schema validator you can add:\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/io.rest-assured/json-schema-validator --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n    &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\r\n    &lt;version&gt;5.2.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nMake sure you have JDK/JAVA_HOME env variable properly installed. The abouve depedencies should work with JDK 8+","title":"Getting an error Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache","body":"<p>Add this dependency and remove all other rest assured dependencies.\njson-path is already included in rest-assured dependency.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n    &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n    &lt;version&gt;5.2.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>If you need schema validator you can add:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/io.rest-assured/json-schema-validator --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n    &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\n    &lt;version&gt;5.2.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>Make sure you have JDK/JAVA_HOME env variable properly installed. The abouve depedencies should work with JDK 8+</p>\n"}],"owner":{"account_id":26639401,"reputation":3,"user_id":20255341,"display_name":"Ravi Ranjan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":530,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74413585,"answer_count":1,"score":-1,"last_activity_date":1668261844,"creation_date":1668260277,"question_id":74413394,"body_markdown":"getting an error while executing the Rest Assured program\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache\r\n\tat org.codehaus.groovy.runtime.dgmimpl.NumberNumberMetaMethod.&lt;clinit&gt;(NumberNumberMetaMethod.java:33)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n```\r\n\r\n```\r\nResponse response = RestAssured.get(&quot;https://reqres.in/api/users/2&quot;);\r\nAssert.assertEquals(response.getStatusCode(), 200);\r\n```\r\nCode\r\n[Maven Dependency][1]\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Iq4Tv.png","title":"Getting an error Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache","body":"<p>getting an error while executing the Rest Assured program</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache\n    at org.codehaus.groovy.runtime.dgmimpl.NumberNumberMetaMethod.&lt;clinit&gt;(NumberNumberMetaMethod.java:33)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n</code></pre>\n<pre><code>Response response = RestAssured.get(&quot;https://reqres.in/api/users/2&quot;);\nAssert.assertEquals(response.getStatusCode(), 200);\n</code></pre>\n<p>Code\n<a href=\"https://i.stack.imgur.com/Iq4Tv.png\" rel=\"nofollow noreferrer\">Maven Dependency</a></p>\n"},{"tags":["java","arrays","list","difference"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1668260815,"post_id":74413458,"comment_id":131364852,"body_markdown":"Read the java doc","body":"Read the java doc"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1668260932,"post_id":74413458,"comment_id":131364872,"body_markdown":"The [javadoc on `Deque` (`docs.oracle.com`)](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Deque.html) to be exact.","body":"The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Deque.html\" rel=\"nofollow noreferrer\">javadoc on <code>Deque</code> (<code>docs.oracle.com</code>)</a> to be exact."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1668261054,"post_id":74413458,"comment_id":131364901,"body_markdown":"`List&lt;Integer&gt;::remove(int x)` *is* somewhat tricky, though! ;(https://stackoverflow.com/q/4534146/592355, https://stackoverflow.com/q/21795376/592355)","body":"<code>List&lt;Integer&gt;::remove(int x)</code> <i>is</i> somewhat tricky, though! ;(<a href=\"https://stackoverflow.com/q/4534146/592355\">stackoverflow.com/q/4534146/592355</a>, <a href=\"https://stackoverflow.com/q/21795376/592355\">stackoverflow.com/q/21795376/592355</a>)"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1668261136,"post_id":74413458,"comment_id":131364916,"body_markdown":"`list.remove(int n)` will remove the `n`th element. `list.remove(Integer x)` will remove the first occurrence of element with value `x` from the list.","body":"<code>list.remove(int n)</code> will remove the <code>n</code>th element. <code>list.remove(Integer x)</code> will remove the first occurrence of element with value <code>x</code> from the list."}],"answers":[{"tags":[],"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668261650,"creation_date":1668261650,"answer_id":74413565,"question_id":74413458,"body_markdown":"Technically, `LinkedList` has three `remove` methods. They have the same name, but differ in their parameter lists. Having several methods by the same name, but different parameter lists, is called &quot;overloading&quot;.\r\n\r\nSo, to answer your question: There is no difference between `pop()` and `remove()`, but there is a difference between `pop()` and `remove(int index)`.\r\n\r\nThis is possible, because `remove()` and `remove(int index)` are two different methods. (Technically, `remove()` and `remove(int index)` could do totally different things. But that would be very bad practice, because any sensible person expects two methods that share the same name to do similar things.)\r\n\r\nThe [Java API documentation for LinkedList](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedList.html) lists all available methods and explains their behavior.","title":"The real differences between pop(), remove() and poll() in LinkedList&lt;E&gt;","body":"<p>Technically, <code>LinkedList</code> has three <code>remove</code> methods. They have the same name, but differ in their parameter lists. Having several methods by the same name, but different parameter lists, is called &quot;overloading&quot;.</p>\n<p>So, to answer your question: There is no difference between <code>pop()</code> and <code>remove()</code>, but there is a difference between <code>pop()</code> and <code>remove(int index)</code>.</p>\n<p>This is possible, because <code>remove()</code> and <code>remove(int index)</code> are two different methods. (Technically, <code>remove()</code> and <code>remove(int index)</code> could do totally different things. But that would be very bad practice, because any sensible person expects two methods that share the same name to do similar things.)</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/LinkedList.html\" rel=\"nofollow noreferrer\">Java API documentation for LinkedList</a> lists all available methods and explains their behavior.</p>\n"}],"owner":{"account_id":11757171,"reputation":13,"user_id":8604495,"display_name":"Karlz-Bandz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74413565,"answer_count":1,"score":0,"last_activity_date":1668261650,"creation_date":1668260708,"question_id":74413458,"body_markdown":"I&#39;ve tried to find some information about differences between pop(), poll() and remove() in LinkedList&lt;E&gt; but unfortunately I didn&#39;t find out any precision answer. The only information I have got was that:\r\n\r\n-pop() removes first element of the list and throws exception if the list is empty\r\n-remove() works the same as pop()\r\n-poll() removes first element of the list but if the list is empty return null\r\n\r\nAnd here&#39;s my question. Is it true that remove() and pop() have one small difference that I can add an Index to remove method? For example list.remove(3). I see that it is impossible to do with pop()\r\n\r\n`````\r\nLinkedList&lt;Integer&gt; list = new LinkedList&lt;&gt;();\r\n\r\nlist.push(1);\r\nlist.push(2);\r\nlist.push(3);\r\nlist.push(4);\r\nlist.push(5);\r\n```\r\nlist.pop(); //Output: 4, 3, 2, 1\r\n//or\r\nlist.poll(); //Output: 4, 3, 2, 1\r\n//or\r\nlist.remove(3); //Output: 5, 4, 3, 1","title":"The real differences between pop(), remove() and poll() in LinkedList&lt;E&gt;","body":"<p>I've tried to find some information about differences between pop(), poll() and remove() in LinkedList but unfortunately I didn't find out any precision answer. The only information I have got was that:</p>\n<p>-pop() removes first element of the list and throws exception if the list is empty\n-remove() works the same as pop()\n-poll() removes first element of the list but if the list is empty return null</p>\n<p>And here's my question. Is it true that remove() and pop() have one small difference that I can add an Index to remove method? For example list.remove(3). I see that it is impossible to do with pop()</p>\n<pre><code>LinkedList&lt;Integer&gt; list = new LinkedList&lt;&gt;();\n\nlist.push(1);\nlist.push(2);\nlist.push(3);\nlist.push(4);\nlist.push(5);\n```\nlist.pop(); //Output: 4, 3, 2, 1\n//or\nlist.poll(); //Output: 4, 3, 2, 1\n//or\nlist.remove(3); //Output: 5, 4, 3, 1\n</code></pre>\n"},{"tags":["java","gradle","build.gradle"],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668260990,"creation_date":1668260990,"question_id":74413492,"body_markdown":"I have two gradle projects:\r\n\r\n - core project (Built `jar` file for this)\r\n - client project (This uses the core project)\r\n\r\nFor the client project, I added the jar file dependency (`local jar file`) in `build.gradle` like below:\r\n\r\n```\r\n\timplementation files(&#39;/core-service/build/libs/food-app-service-0.0.1-SNAPSHOT.jar&#39;)\r\n\r\n```\r\n\r\nI can see that core project dependencies are resolving in the client project:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut, when I add it in the client project, I get errors like this:\r\n[![enter image description here][2]][2]\r\n\r\nIt is not properly detecting the package/package structure. \r\n\r\nI&#39;m not sure whats going wrong here. Is there anything I need to add in `build.gradle` or `settings.gradle` ?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R9SwL.png\r\n  [2]: https://i.stack.imgur.com/ydh12.png","title":"Gradle unable to resolve the package from external dependencies","body":"<p>I have two gradle projects:</p>\n<ul>\n<li>core project (Built <code>jar</code> file for this)</li>\n<li>client project (This uses the core project)</li>\n</ul>\n<p>For the client project, I added the jar file dependency (<code>local jar file</code>) in <code>build.gradle</code> like below:</p>\n<pre><code>    implementation files('/core-service/build/libs/food-app-service-0.0.1-SNAPSHOT.jar')\n\n</code></pre>\n<p>I can see that core project dependencies are resolving in the client project:\n<a href=\"https://i.stack.imgur.com/R9SwL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R9SwL.png\" alt=\"enter image description here\" /></a></p>\n<p>But, when I add it in the client project, I get errors like this:\n<a href=\"https://i.stack.imgur.com/ydh12.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ydh12.png\" alt=\"enter image description here\" /></a></p>\n<p>It is not properly detecting the package/package structure.</p>\n<p>I'm not sure whats going wrong here. Is there anything I need to add in <code>build.gradle</code> or <code>settings.gradle</code> ?</p>\n"},{"tags":["java","spring","maven","querydsl"],"comments":[{"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"score":0,"creation_date":1458310471,"post_id":36086193,"comment_id":59817694,"body_markdown":"too less information ... sorry","body":"too less information ... sorry"},{"owner":{"account_id":5874325,"reputation":542,"user_id":4625667,"accept_rate":37,"display_name":"Tom Wally"},"score":0,"creation_date":1458310666,"post_id":36086193,"comment_id":59817841,"body_markdown":"So, here is my pom.xml  https://github.com/TheNakedMan/remindme.server/blob/master/pom.xml    What kind of information do you need?","body":"So, here is my pom.xml  <a href=\"https://github.com/TheNakedMan/remindme.server/blob/master/pom.xml\" rel=\"nofollow noreferrer\">github.com/TheNakedMan/remindme.server/blob/master/pom.xml</a>    What kind of information do you need?"},{"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"score":0,"creation_date":1458310923,"post_id":36086193,"comment_id":59818029,"body_markdown":"what type of error, log messages, minimal example ... see http://stackoverflow.com/help/how-to-ask","body":"what type of error, log messages, minimal example ... see <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":5874325,"reputation":542,"user_id":4625667,"accept_rate":37,"display_name":"Tom Wally"},"score":0,"creation_date":1458311355,"post_id":36086193,"comment_id":59818317,"body_markdown":"Ok, Log message was added.","body":"Ok, Log message was added."},{"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"score":0,"creation_date":1458315298,"post_id":36086193,"comment_id":59821116,"body_markdown":"remove this dependency from your pom com.qoobico.remindme.server ?!","body":"remove this dependency from your pom com.qoobico.remindme.server ?!"},{"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"score":0,"creation_date":1458315391,"post_id":36086193,"comment_id":59821175,"body_markdown":"or if this is a valid dependency ... run mvn install in that project... after that it is installed in your local repository and you should be able to build this project","body":"or if this is a valid dependency ... run mvn install in that project... after that it is installed in your local repository and you should be able to build this project"},{"owner":{"account_id":5874325,"reputation":542,"user_id":4625667,"accept_rate":37,"display_name":"Tom Wally"},"score":0,"creation_date":1458316247,"post_id":36086193,"comment_id":59821818,"body_markdown":"Thanks! After deleting the wrong dependency and command mvn install, class QUser was install!","body":"Thanks! After deleting the wrong dependency and command mvn install, class QUser was install!"},{"owner":{"account_id":5874325,"reputation":542,"user_id":4625667,"accept_rate":37,"display_name":"Tom Wally"},"score":0,"creation_date":1458316289,"post_id":36086193,"comment_id":59821841,"body_markdown":"But during the install I&#39;ve got this:  [ERROR] Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.1.1:war (default-war) on project com.qoobico.remindme.server: Error assembling WAR: webxml attribute is required (or pre-existing WEB-INF/web.xml if executing in update mode) -&gt;","body":"But during the install I&#39;ve got this:  [ERROR] Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.1.1:war (default-war) on project com.qoobico.remindme.server: Error assembling WAR: webxml attribute is required (or pre-existing WEB-INF/web.xml if executing in update mode) -&gt;"},{"owner":{"account_id":5874325,"reputation":542,"user_id":4625667,"accept_rate":37,"display_name":"Tom Wally"},"score":0,"creation_date":1458316356,"post_id":36086193,"comment_id":59821886,"body_markdown":"I, perhaps that will not be problem for using QueryDsl...","body":"I, perhaps that will not be problem for using QueryDsl..."},{"owner":{"account_id":5874325,"reputation":542,"user_id":4625667,"accept_rate":37,"display_name":"Tom Wally"},"score":0,"creation_date":1458317864,"post_id":36086193,"comment_id":59822945,"body_markdown":"@Meiko, Please, add  command run mvn  to your answer, and I will mark answer as useful. Because, there a lot of noobs like me, that will not find this command in QueryDSL plugin instruction.","body":"@Meiko, Please, add  command run mvn  to your answer, and I will mark answer as useful. Because, there a lot of noobs like me, that will not find this command in QueryDSL plugin instruction."},{"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"score":0,"creation_date":1458327973,"post_id":36086193,"comment_id":59829081,"body_markdown":"Yes you are right, It is not documented. I edited my Post!","body":"Yes you are right, It is not documented. I edited my Post!"}],"answers":[{"comments":[{"owner":{"account_id":5874325,"reputation":542,"user_id":4625667,"accept_rate":37,"display_name":"Tom Wally"},"score":0,"creation_date":1458315345,"post_id":36087555,"comment_id":59821148,"body_markdown":"Ok, now, after apt:process command I have an error that may cleaned situation... My post was updated.","body":"Ok, now, after apt:process command I have an error that may cleaned situation... My post was updated."},{"owner":{"account_id":4680147,"reputation":5404,"user_id":3825975,"accept_rate":49,"display_name":"varunkr"},"score":0,"creation_date":1503309026,"post_id":36087555,"comment_id":78545758,"body_markdown":"hey can u please take a look at my post, https://stackoverflow.com/questions/45794079/query-dsl-q-type-classes-not-generated I think you can help me !!","body":"hey can u please take a look at my post, <a href=\"https://stackoverflow.com/questions/45794079/query-dsl-q-type-classes-not-generated\" title=\"query dsl q type classes not generated\">stackoverflow.com/questions/45794079/&hellip;</a> I think you can help me !!"},{"owner":{"account_id":3664004,"reputation":324,"user_id":3053012,"accept_rate":62,"display_name":"jensanity5000"},"score":3,"creation_date":1526858086,"post_id":36087555,"comment_id":87894675,"body_markdown":"For anyone with the same issue in eclipse, what worked for me was: 1. right clicking on the project, 2. selecting Maven, 3. Selecting Update Project, 4. Selecting ok.\n\nAfter that the Q classes were in my path for my Models, so hovering over the error gave me the option to automatically import them.","body":"For anyone with the same issue in eclipse, what worked for me was: 1. right clicking on the project, 2. selecting Maven, 3. Selecting Update Project, 4. Selecting ok.  After that the Q classes were in my path for my Models, so hovering over the error gave me the option to automatically import them."},{"owner":{"account_id":13039133,"reputation":148,"user_id":9423058,"display_name":"Purushottam"},"score":0,"creation_date":1594628803,"post_id":36087555,"comment_id":111180730,"body_markdown":"in intellij idea 2018.3 it not find the  class","body":"in intellij idea 2018.3 it not find the  class"}],"tags":[],"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1458329802,"creation_date":1458312933,"answer_id":36087555,"question_id":36086193,"body_markdown":"In your sources you did not import the generated classes, for instance:\r\n\r\n    import com.qoobico.remindme.server.entity.QUser;\r\n\r\nIf you want to generate the classes without compile and/or install the package use the [maven goal][1] `apt:process`. \r\n\r\nYou can use IntelliJ to start such a maven goal, use the [Maven Projects window][2]. The window will show you all available goals. \r\n\r\nOn the commandline you could use the `mvn` cli, which can be downloaded [here][3]. \r\nHint: the command from the [help plugin][4] `mvn help:describe -Dplugin=com.mysema.maven:apt-maven-plugin` will show you a list of all available apt-maven-plugin goals.\r\n\r\nYou configured the outputDirectory to: `target/generated-sources/java`\r\nTo let your IDE find that classes, put them into your class path. Some IDEs like IntelliJ will do this automatically for maven projects, because that folder is the default.\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\r\n  [2]: https://www.jetbrains.com/help/idea/2016.1/maven-projects-tool-window.html?origin=old_help\r\n  [3]: https://maven.apache.org/download.cgi\r\n  [4]: https://maven.apache.org/plugins/maven-help-plugin/describe-mojo.html","title":"QueryDsl error. Q classes not generated","body":"<p>In your sources you did not import the generated classes, for instance:</p>\n\n<pre><code>import com.qoobico.remindme.server.entity.QUser;\n</code></pre>\n\n<p>If you want to generate the classes without compile and/or install the package use the <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"noreferrer\">maven goal</a> <code>apt:process</code>. </p>\n\n<p>You can use IntelliJ to start such a maven goal, use the <a href=\"https://www.jetbrains.com/help/idea/2016.1/maven-projects-tool-window.html?origin=old_help\" rel=\"noreferrer\">Maven Projects window</a>. The window will show you all available goals. </p>\n\n<p>On the commandline you could use the <code>mvn</code> cli, which can be downloaded <a href=\"https://maven.apache.org/download.cgi\" rel=\"noreferrer\">here</a>. \nHint: the command from the <a href=\"https://maven.apache.org/plugins/maven-help-plugin/describe-mojo.html\" rel=\"noreferrer\">help plugin</a> <code>mvn help:describe -Dplugin=com.mysema.maven:apt-maven-plugin</code> will show you a list of all available apt-maven-plugin goals.</p>\n\n<p>You configured the outputDirectory to: <code>target/generated-sources/java</code>\nTo let your IDE find that classes, put them into your class path. Some IDEs like IntelliJ will do this automatically for maven projects, because that folder is the default.</p>\n"}],"owner":{"account_id":5874325,"reputation":542,"user_id":4625667,"accept_rate":37,"display_name":"Tom Wally"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12990,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":36087555,"answer_count":1,"score":4,"last_activity_date":1668260818,"creation_date":1458309148,"question_id":36086193,"body_markdown":"I try to generate query type classes (e.g. `QUser`) but got errors... \r\n\r\nYou can find my source code here: [https://github.com/TheNakedMan/remindme.server/][1]\r\n\r\nI&#39;am working with IntelliJ IDEA, and it seems like I have working plugin.\r\nHelp me, please.\r\n\r\nLog message:\r\n\r\n&gt; /remindme.server/src/main/java/com/qoobico/remindme/server/repository/UserRepository.java\r\n&gt; Error:(21, 126) java: cannot find symbol   symbol: class QUser\r\n&gt; \r\n&gt; Error:(25, 62) java: cannot find symbol   symbol:   class QUser  \r\n&gt; location: interface\r\n&gt; com.qoobico.remindme.server.repository.UserRepository\r\n\r\n\r\n**UPDATE:**\r\n\r\nAfter `LifeCycle-&gt;clean` and run `apt:process` in IntelliJ, I have this error:\r\n\r\n&gt; [ERROR] Failed to execute goal on project com.qoobico.remindme.server:\r\n&gt; Could not resolve dependencies for project\r\n&gt; com.qoobico.remindme.server:com.qoobico.remindme.server:war:1.0-SNAPSHOT:\r\n&gt; Could not find artifact\r\n&gt; com.qoobico.remindme.server:com.qoobico.remindme.server:jar:1.0-SNAPSHOT\r\n\r\n \r\n\r\n\r\n  [1]: http://UserRepository","title":"QueryDsl error. Q classes not generated","body":"<p>I try to generate query type classes (e.g. <code>QUser</code>) but got errors... </p>\n\n<p>You can find my source code here: <a href=\"http://UserRepository\" rel=\"nofollow\">https://github.com/TheNakedMan/remindme.server/</a></p>\n\n<p>I'am working with IntelliJ IDEA, and it seems like I have working plugin.\nHelp me, please.</p>\n\n<p>Log message:</p>\n\n<blockquote>\n  <p>/remindme.server/src/main/java/com/qoobico/remindme/server/repository/UserRepository.java\n  Error:(21, 126) java: cannot find symbol   symbol: class QUser</p>\n  \n  <p>Error:(25, 62) java: cannot find symbol   symbol:   class QUser<br>\n  location: interface\n  com.qoobico.remindme.server.repository.UserRepository</p>\n</blockquote>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>After <code>LifeCycle-&gt;clean</code> and run <code>apt:process</code> in IntelliJ, I have this error:</p>\n\n<blockquote>\n  <p>[ERROR] Failed to execute goal on project com.qoobico.remindme.server:\n  Could not resolve dependencies for project\n  com.qoobico.remindme.server:com.qoobico.remindme.server:war:1.0-SNAPSHOT:\n  Could not find artifact\n  com.qoobico.remindme.server:com.qoobico.remindme.server:jar:1.0-SNAPSHOT</p>\n</blockquote>\n"},{"tags":["java","intellij-idea","java-8"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1668257238,"post_id":74413002,"comment_id":131364167,"body_markdown":"The terminal is just that: a terminal. It will use whatever `java` executable it can find on the `$PATH` / `%PATH%` first. In your case, this seems to be a Java 11 JRE.","body":"The terminal is just that: a terminal. It will use whatever <code>java</code> executable it can find on the <code>$PATH</code> / <code>%PATH%</code> first. In your case, this seems to be a Java 11 JRE."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1668257364,"post_id":74413002,"comment_id":131364188,"body_markdown":"Try to print result of `System.getProperty(&quot;java.version&quot;)` like `System.out.println(System.getProperty(&quot;java.version&quot;));` to see what java version is used by IDE to *run* your code.","body":"Try to print result of <code>System.getProperty(&quot;java.version&quot;)</code> like <code>System.out.println(System.getProperty(&quot;java.version&quot;));</code> to see what java version is used by IDE to <i>run</i> your code."}],"answers":[{"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1668257631,"post_id":74413077,"comment_id":131364242,"body_markdown":"This is only partial correct. It depends on the exact local setup. The `$PATH` / `%PATH%` variable is the determining factor on what JDK is used (although it is best practice to put `$JAVA_HOME/bin` / `%JAVA_HOME%/bin` on the `$PATH` / `%PATH%`).","body":"This is only partial correct. It depends on the exact local setup. The <code>$PATH</code> / <code>%PATH%</code> variable is the determining factor on what JDK is used (although it is best practice to put <code>$JAVA_HOME&#47;bin</code> / <code>%JAVA_HOME%&#47;bin</code> on the <code>$PATH</code> / <code>%PATH%</code>)."}],"tags":[],"owner":{"account_id":16346435,"reputation":324,"user_id":11806050,"display_name":"Thaiminhpv"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1668260802,"creation_date":1668257441,"answer_id":74413077,"question_id":74413002,"body_markdown":"Changing the JDK in IntelliJ UI [does not affect](https://www.baeldung.com/intellij-change-java-version#gotchas:~:text=this%20only%20affects%20the%20JDK%20used%20by%20IntelliJ) its Intellij terminal:\r\n\r\n&gt; When changing the JDK, we need to remember that this only affects the JDK used by IntelliJ. Therefore, **when running the Java project via the command line, it&#39;ll still use the JDK specified in the JAVA_HOME environment variable**\r\n\r\nSo when running `java` on Intellij terminal, you still have to [set `JAVA_HOME`](https://stackoverflow.com/a/65661794/11806050) to change java version","title":"How to change java version in Intellij?","body":"<p>Changing the JDK in IntelliJ UI <a href=\"https://www.baeldung.com/intellij-change-java-version#gotchas:%7E:text=this%20only%20affects%20the%20JDK%20used%20by%20IntelliJ\" rel=\"nofollow noreferrer\">does not affect</a> its Intellij terminal:</p>\n<blockquote>\n<p>When changing the JDK, we need to remember that this only affects the JDK used by IntelliJ. Therefore, <strong>when running the Java project via the command line, it'll still use the JDK specified in the JAVA_HOME environment variable</strong></p>\n</blockquote>\n<p>So when running <code>java</code> on Intellij terminal, you still have to <a href=\"https://stackoverflow.com/a/65661794/11806050\">set <code>JAVA_HOME</code></a> to change java version</p>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12017,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":74413077,"answer_count":1,"score":4,"last_activity_date":1668260802,"creation_date":1668256765,"question_id":74413002,"body_markdown":"I have a simple java project and I try to change java version in Intellij from java 11 to java 8. It isn&#39;t a maven project. I found something on google and it looks easy, but it&#39;s not working.\r\n\r\nSo, I pressed ctrl + shift + alt + s and here I changed jdk11 with jdk1.8:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut now if I run java -version on Intellij terminal I get this in the console:\r\n\r\n    java version &quot;11.0.14&quot; 2022-01-18 LTS\r\n    Java(TM) SE Runtime Environment 18.9 (build 11.0.14+8-LTS-263)\r\n    Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.14+8-LTS-263, mixed mode)\r\n\r\nIt looks that it continue to use java 11. What else should I do?\r\nThank you!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MFkDW.jpg","title":"How to change java version in Intellij?","body":"<p>I have a simple java project and I try to change java version in Intellij from java 11 to java 8. It isn't a maven project. I found something on google and it looks easy, but it's not working.</p>\n<p>So, I pressed ctrl + shift + alt + s and here I changed jdk11 with jdk1.8:</p>\n<p><a href=\"https://i.stack.imgur.com/MFkDW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MFkDW.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But now if I run java -version on Intellij terminal I get this in the console:</p>\n<pre><code>java version &quot;11.0.14&quot; 2022-01-18 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.14+8-LTS-263)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.14+8-LTS-263, mixed mode)\n</code></pre>\n<p>It looks that it continue to use java 11. What else should I do?\nThank you!</p>\n"},{"tags":["java","spring","eclipse","querydsl"],"comments":[{"owner":{"account_id":4143152,"reputation":2367,"user_id":3397712,"accept_rate":77,"display_name":"yaswanth"},"score":0,"creation_date":1503309531,"post_id":45794079,"comment_id":78546062,"body_markdown":"Have you tried debugging via maven debug output like `mvn -X clean install`. That will give you better info on what is happening in that plugin. If possible, can you post the relevant console output for this plugin?","body":"Have you tried debugging via maven debug output like <code>mvn -X clean install</code>. That will give you better info on what is happening in that plugin. If possible, can you post the relevant console output for this plugin?"},{"owner":{"account_id":4680147,"reputation":5404,"user_id":3825975,"accept_rate":49,"display_name":"varunkr"},"score":0,"creation_date":1503310128,"post_id":45794079,"comment_id":78546469,"body_markdown":"@yaswanth Thanks for the reply. Without using the QReportingParamDAO in the class, when I do mvn -X clean install I don&#39;t get any error.","body":"@yaswanth Thanks for the reply. Without using the QReportingParamDAO in the class, when I do mvn -X clean install I don&#39;t get any error."},{"owner":{"account_id":1475853,"reputation":1017,"user_id":1386245,"accept_rate":50,"display_name":"tim-phillips"},"score":0,"creation_date":1691777572,"post_id":45794079,"comment_id":135542558,"body_markdown":"For those using Kotlin, you&#39;ll have to generate the Q-classes before compiling your sources: https://felixzett.com/articles/minimal-maven-kotlin-querydsl-example/","body":"For those using Kotlin, you&#39;ll have to generate the Q-classes before compiling your sources: <a href=\"https://felixzett.com/articles/minimal-maven-kotlin-querydsl-example/\" rel=\"nofollow noreferrer\">felixzett.com/articles/minimal-maven-kotlin-querydsl-example</a>"}],"answers":[{"comments":[{"owner":{"account_id":4680147,"reputation":5404,"user_id":3825975,"accept_rate":49,"display_name":"varunkr"},"score":0,"creation_date":1503311459,"post_id":45794836,"comment_id":78547289,"body_markdown":"Hey yes they are in target/generated-sources I will try your method and comment.","body":"Hey yes they are in target/generated-sources I will try your method and comment."},{"owner":{"account_id":4680147,"reputation":5404,"user_id":3825975,"accept_rate":49,"display_name":"varunkr"},"score":0,"creation_date":1503311803,"post_id":45794836,"comment_id":78547517,"body_markdown":"Would you mind explaining the class path stuff. Why exactly it didn&#39;t work earlier? That would be helpful. Thanks !!","body":"Would you mind explaining the class path stuff. Why exactly it didn&#39;t work earlier? That would be helpful. Thanks !!"},{"owner":{"account_id":4143152,"reputation":2367,"user_id":3397712,"accept_rate":77,"display_name":"yaswanth"},"score":1,"creation_date":1503313376,"post_id":45794836,"comment_id":78548462,"body_markdown":"The application should know that it has to look into that directory as well for the classes. You can see what classpath means in java. Modern IDEs like intellij add the `generated-sources/java` folder automatically to classpath.","body":"The application should know that it has to look into that directory as well for the classes. You can see what classpath means in java. Modern IDEs like intellij add the <code>generated-sources&#47;java</code> folder automatically to classpath."},{"owner":{"account_id":316018,"reputation":2519,"user_id":631965,"accept_rate":68,"display_name":"Olgun Kaya"},"score":1,"creation_date":1545311725,"post_id":45794836,"comment_id":94585727,"body_markdown":"Intellij by default excludes the /target from the classpath. that&#39;s why you can not access them. One option is to add /target as src folder from project settings. Other option is to configure maven plugin to generate code in the src folder at some package (preferably next to the entities package). And run &quot;mvn clean compile&quot; this should generate the qdsl classes.","body":"Intellij by default excludes the /target from the classpath. that&#39;s why you can not access them. One option is to add /target as src folder from project settings. Other option is to configure maven plugin to generate code in the src folder at some package (preferably next to the entities package). And run &quot;mvn clean compile&quot; this should generate the qdsl classes."}],"tags":[],"owner":{"account_id":4143152,"reputation":2367,"user_id":3397712,"accept_rate":77,"display_name":"yaswanth"},"comment_count":4,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1503311367,"creation_date":1503311367,"answer_id":45794836,"question_id":45794079,"body_markdown":"I have tested with your pom.xml. The Q classes were generated for me but I couldn&#39;t access them from my source code. The problem is that the generated-sources is not on classpath by default. Add that on the classpath and you will be able to use them in your source code.\r\n\r\n 1. Check the target/generated-sources directory to see if the classes are actually there. (You should be able to find them because I tested with your pom.xml)\r\n 2. If you add target/generated-sources to classpath, you application will work. But I don&#39;t think that is a good idea. Because all the files in the classpath will be indexed by the IDE and your IDE will be slower. All the files in the generated-sources folder need not be indexed. So add `target/generated-sources/java` to classpath and change your query-dsl plugin to generated Q class to `target/generated-sources/java`","title":"Query DSL Q type classes not generated","body":"<p>I have tested with your pom.xml. The Q classes were generated for me but I couldn't access them from my source code. The problem is that the generated-sources is not on classpath by default. Add that on the classpath and you will be able to use them in your source code.</p>\n\n<ol>\n<li>Check the target/generated-sources directory to see if the classes are actually there. (You should be able to find them because I tested with your pom.xml)</li>\n<li>If you add target/generated-sources to classpath, you application will work. But I don't think that is a good idea. Because all the files in the classpath will be indexed by the IDE and your IDE will be slower. All the files in the generated-sources folder need not be indexed. So add <code>target/generated-sources/java</code> to classpath and change your query-dsl plugin to generated Q class to <code>target/generated-sources/java</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17492398,"reputation":929,"user_id":12684279,"display_name":"Ruokki"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608666600,"creation_date":1606835840,"answer_id":65093255,"question_id":45794079,"body_markdown":"I recently have the same issue has you. \r\n\r\nIt seems apt-maven-plugin doesn&#39;t like empty .java file.\r\nIf you have one in your project he will not generate any class without indication about the empty file, which can be very hard to find.\r\n\r\n\r\n","title":"Query DSL Q type classes not generated","body":"<p>I recently have the same issue has you.</p>\n<p>It seems apt-maven-plugin doesn't like empty .java file.\nIf you have one in your project he will not generate any class without indication about the empty file, which can be very hard to find.</p>\n"},{"comments":[{"owner":{"account_id":5882885,"reputation":501,"user_id":4631752,"accept_rate":62,"display_name":"Siick"},"score":0,"creation_date":1654870230,"post_id":65415059,"comment_id":128202481,"body_markdown":"After testing a lot of things on my IntelliJ, that command does the job! No more error for generated Q class!","body":"After testing a lot of things on my IntelliJ, that command does the job! No more error for generated Q class!"}],"tags":[],"owner":{"account_id":3753631,"reputation":2325,"user_id":3120564,"accept_rate":80,"display_name":"Jaumzera"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1608666968,"creation_date":1608666968,"answer_id":65415059,"question_id":45794079,"body_markdown":"In my case, here, what was causing the error was the `&quot;&quot;&quot; multiline string &quot;&quot;&quot;` syntax from Java 14 (preview feature).\r\n\r\nI figured it out by `mvn clean compile -e`.\r\n","title":"Query DSL Q type classes not generated","body":"<p>In my case, here, what was causing the error was the <code>&quot;&quot;&quot; multiline string &quot;&quot;&quot;</code> syntax from Java 14 (preview feature).</p>\n<p>I figured it out by <code>mvn clean compile -e</code>.</p>\n"},{"tags":[],"owner":{"account_id":21789643,"reputation":36,"user_id":16090047,"display_name":"Guilherme Alves Silveira"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637866570,"creation_date":1637866570,"answer_id":70116091,"question_id":45794079,"body_markdown":"To solve the problem, i put the plugin com.mysema.maven before the plugin org.codehaus.mojo, this made the generated-source be put in the correct folder and was recognized by the intelijj. Example:\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n\r\n           ...\r\n\r\n    \t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.1.3&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;process&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;${basedir}/target/generated-sources&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${build.helper.maven.version}&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;add-source&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;sources&gt;\r\n\t\t\t\t\t\t\t\t&lt;source&gt;target/generated-sources&lt;/source&gt;\r\n\t\t\t\t\t\t\t&lt;/sources&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n            ....\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Query DSL Q type classes not generated","body":"<p>To solve the problem, i put the plugin com.mysema.maven before the plugin org.codehaus.mojo, this made the generated-source be put in the correct folder and was recognized by the intelijj. Example:\n\n</p>\n<pre><code>       ...\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.1.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;process&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${basedir}/target/generated-sources&lt;/outputDirectory&gt;\n                        &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${build.helper.maven.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;add-source&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;sources&gt;\n                            &lt;source&gt;target/generated-sources&lt;/source&gt;\n                        &lt;/sources&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n        ....\n\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10842003,"reputation":496,"user_id":7972923,"display_name":"VFX"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668260752,"creation_date":1668260752,"answer_id":74413465,"question_id":45794079,"body_markdown":"**Note: I am using IntelliJ**\r\n\r\nI was having trouble getting the files generated(the Q classes), and it turned out that building my maven project using IntelliJ would not work, so I had to run this command instead in the command line to build the project:\r\n```\r\n./mvnw install\r\n```\r\nAnd the files were generated for me, and in order to be able to use these generated files in my source code, I had to mark the folder that contains these\r\nfiles as &quot;Generated Sources Root&quot;, so in this case navigate to this path:\r\n```\r\ntarget/generated-sources/java\r\n```\r\nright mouse click on **java** folder --&gt; mark directory as --&gt; Generated Sources Root.\r\n\r\nAfter this you will be able to import these Q classes in your source code.","title":"Query DSL Q type classes not generated","body":"<p><strong>Note: I am using IntelliJ</strong></p>\n<p>I was having trouble getting the files generated(the Q classes), and it turned out that building my maven project using IntelliJ would not work, so I had to run this command instead in the command line to build the project:</p>\n<pre><code>./mvnw install\n</code></pre>\n<p>And the files were generated for me, and in order to be able to use these generated files in my source code, I had to mark the folder that contains these\nfiles as &quot;Generated Sources Root&quot;, so in this case navigate to this path:</p>\n<pre><code>target/generated-sources/java\n</code></pre>\n<p>right mouse click on <strong>java</strong> folder --&gt; mark directory as --&gt; Generated Sources Root.</p>\n<p>After this you will be able to import these Q classes in your source code.</p>\n"}],"owner":{"account_id":4680147,"reputation":5404,"user_id":3825975,"accept_rate":49,"display_name":"varunkr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23484,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":45794836,"answer_count":5,"score":5,"last_activity_date":1668260752,"creation_date":1503308968,"question_id":45794079,"body_markdown":"I am trying to use QueryDSL in my eclipse maven project. These are the dependencies.\r\n\r\n    &lt;properties&gt;\r\n    \t\t&lt;!-- The main class to start by executing java -jar --&gt;\r\n    \t\t&lt;start-class&gt;my.app.market.DBApp&lt;/start-class&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;querydsl.version&gt;4.1.4&lt;/querydsl.version&gt;\r\n    \t\t&lt;apt-maven-plugin.version&gt;1.1.3&lt;/apt-maven-plugin.version&gt;\r\n    \r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1.4&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    &lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.1.3&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;process&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t\t&lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\nAfter this I try to write the queries.\r\n\r\n    @Repository\r\n    public class QueryDSLRepo {\r\n    \t\r\n    \t@PersistenceContext\r\n        private EntityManager em;\r\n    \r\n        public ReportingParamDAO save(final ReportingParamDAO reportingParamDAO) {\r\n            em.persist(reportingParamDAO);\r\n            return reportingParamDAO;\r\n        }\r\n    \r\n        public List&lt;ReportingParamDAO&gt; findreportingParamDAOsByIdQueryDSL(final Integer id) {\r\n            final JPAQuery&lt;ReportingParamDAO&gt; query = new JPAQuery&lt;&gt;(em);\r\n            final QReportingParamDAO reportingParamDAO = QReportingParamDAO.reportingParamDAO;\r\n    \r\n            return query.from(reportingParamDAO).where(reportingParamDAO.id.eq(id)).fetch();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nBut I get the error\r\n\r\n    QReportingParamDAO cannot be resolved to a type\r\n\r\nNote: `ReportingParamDAO` is an entity class.\r\n\r\nThis means that the Q type class for my DAO is not generated. I am not sure why it wasn&#39;t generated. Do I need to do something else? I came across [this][1] post but the user is working on `IntelliJ` and I can&#39;t seem to make it work in my case. Can someone please help me. Thanks !!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/36086193/querydsl-error-q-classes-not-generated","title":"Query DSL Q type classes not generated","body":"<p>I am trying to use QueryDSL in my eclipse maven project. These are the dependencies.</p>\n\n<pre><code>&lt;properties&gt;\n        &lt;!-- The main class to start by executing java -jar --&gt;\n        &lt;start-class&gt;my.app.market.DBApp&lt;/start-class&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;querydsl.version&gt;4.1.4&lt;/querydsl.version&gt;\n        &lt;apt-maven-plugin.version&gt;1.1.3&lt;/apt-maven-plugin.version&gt;\n\n&lt;/properties&gt;\n\n&lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n            &lt;version&gt;4.1.4&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\n            &lt;version&gt;4.1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.1.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\n                            &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>After this I try to write the queries.</p>\n\n<pre><code>@Repository\npublic class QueryDSLRepo {\n\n    @PersistenceContext\n    private EntityManager em;\n\n    public ReportingParamDAO save(final ReportingParamDAO reportingParamDAO) {\n        em.persist(reportingParamDAO);\n        return reportingParamDAO;\n    }\n\n    public List&lt;ReportingParamDAO&gt; findreportingParamDAOsByIdQueryDSL(final Integer id) {\n        final JPAQuery&lt;ReportingParamDAO&gt; query = new JPAQuery&lt;&gt;(em);\n        final QReportingParamDAO reportingParamDAO = QReportingParamDAO.reportingParamDAO;\n\n        return query.from(reportingParamDAO).where(reportingParamDAO.id.eq(id)).fetch();\n    }\n\n\n}\n</code></pre>\n\n<p>But I get the error</p>\n\n<pre><code>QReportingParamDAO cannot be resolved to a type\n</code></pre>\n\n<p>Note: <code>ReportingParamDAO</code> is an entity class.</p>\n\n<p>This means that the Q type class for my DAO is not generated. I am not sure why it wasn't generated. Do I need to do something else? I came across <a href=\"https://stackoverflow.com/questions/36086193/querydsl-error-q-classes-not-generated\">this</a> post but the user is working on <code>IntelliJ</code> and I can't seem to make it work in my case. Can someone please help me. Thanks !!</p>\n"},{"tags":["java","recursion","tree","iteration","binary-search-tree"],"answers":[{"tags":[],"owner":{"account_id":453089,"reputation":70352,"user_id":849891,"accept_rate":100,"display_name":"Will Ness"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668260652,"creation_date":1666269747,"answer_id":74140072,"question_id":74132878,"body_markdown":"But recursion *is* a kind of iteration.\r\n\r\nA conventional loop repeats a computational recipe, a loop&#39;s body, with (potentially) new values of the loop variables on each repetition, until the stopping condition is met.\r\n\r\nA recursive function repeats a computational recipe, a function&#39;s body, with (potentially) new values of its parameter variables on each invocation, until the base test condition is met -- then, the preceding invocations are returned to, and continue executing their computational recipe(s) -- which is the same recipe, since it&#39;s the same function -- until all computations are finished.\r\n\r\nConceptually, it&#39;s the same thing.\r\n\r\nSpecifically, your example invokes the same recipe -- the function for calculating the height of a binary tree -- separately for each of the argument tree&#39;s branches, which _are_ themselves trees as well, just like the argument tree itself. Just like a loop&#39;s body is the same for all the iterations.\r\n\r\nSo your *function* calculates the height of the left branch, saves it in a temporary variable; calculates the height of the right branch, saves it in another temporary variable; and then combines the two results to produce *its own* result.\r\n\r\nThus it repeats a lot of computational steps over and over.\r\n\r\nWhen a particular invocation encounters a leaf, this is treated as a base case. This invocation then just returns its result directly, without invoking any more instances of the same recipe.\r\n\r\nAs an illustration, (writing `height &lt;tree&gt;` to mean `&lt;tree&gt;.height()`),\r\n```\r\nheight { {{* 1 *} 2 *} 3 {* 4 {{* 5 *} 6 *}} }\r\n=\r\n set\r\n  a = height {{* 1 *} 2 *}\r\n  b = height {* 4 {{* 5 *} 6 *}}\r\n  return max(a,b)+1\r\n=\r\n set\r\n  a = /// height {{* 1 *} 2 *}\r\n        set a2 = height {* 1 *}\r\n            b2 = height *\r\n            return max(a2,b2)+1\r\n  b = height {* 4 {{* 5 *} 6 *}}\r\n  return max(a,b)+1\r\n=\r\n set\r\n  a = /// height {{* 1 *} 2 *}\r\n        set a2 = /// height {* 1 *}\r\n                   set a3 = height *\r\n                       b3 = height *\r\n                       return max(a3,b3)+1\r\n            b2 = height *\r\n            return max(a2,b2)+1\r\n  b = height {* 4 {{* 5 *} 6 *}}\r\n  return max(a,b)+1\r\n=\r\n set\r\n  a = /// height {{* 1 *} 2 *}\r\n        set a2 = /// height {* 1 *}\r\n                   set a3 = -1\r\n                       b3 = height *\r\n                       return max(a3,b3)+1\r\n            b2 = height *\r\n            return max(a2,b2)+1\r\n  b = height {* 4 {{* 5 *} 6 *}}\r\n  return max(a,b)+1\r\n=\r\n set\r\n  a = /// height {{* 1 *} 2 *}\r\n        set a2 = /// height {* 1 *}\r\n                   set a3 = -1\r\n                       b3 = -1\r\n                       return max(a3,b3)+1\r\n            b2 = height *\r\n            return max(a2,b2)+1\r\n  b = height {* 4 {{* 5 *} 6 *}}\r\n  return max(a,b)+1\r\n=\r\n set\r\n  a = /// height {{* 1 *} 2 *}\r\n        set a2 = /// height {* 1 *}\r\n                       return max(-1,-1)+1\r\n            b2 = height *\r\n            return max(a2,b2)+1\r\n  b = height {* 4 {{* 5 *} 6 *}}\r\n  return max(a,b)+1\r\n=\r\n set\r\n  a = /// height {{* 1 *} 2 *}\r\n        set a2 = 0\r\n            b2 = height *\r\n            return max(a2,b2)+1\r\n  b = height {* 4 {{* 5 *} 6 *}}\r\n  return max(a,b)+1\r\n=\r\n set\r\n  a = /// height {{* 1 *} 2 *}\r\n        set a2 = 0\r\n            b2 = -1\r\n            return max(a2,b2)+1\r\n  b = height {* 4 {{* 5 *} 6 *}}\r\n  return max(a,b)+1\r\n=\r\n set\r\n  a = /// height {{* 1 *} 2 *}\r\n            return max(0,-1)+1\r\n  b = height {* 4 {{* 5 *} 6 *}}\r\n  return max(a,b)+1\r\n=\r\n```\r\ncontinuing,\r\n```\r\n=\r\n set\r\n  a = /// height {{* 1 *} 2 *}\r\n            return max(0,-1)+1\r\n  b = height {* 4 {{* 5 *} 6 *}}\r\n  return max(a,b)+1\r\n=\r\n set\r\n  a = 1\r\n  b = height {* 4 {{* 5 *} 6 *}}\r\n  return max(a,b)+1\r\n=\r\n set\r\n  a = 1\r\n  b = /// height {* 4 {{* 5 *} 6 *}}\r\n        set a2 = height *\r\n            b2 = height {{* 5 *} 6 *}\r\n            return max(a2,b2)+1\r\n  return max(a,b)+1\r\n=\r\n...... etc.\r\n```\r\nJust as outer variables&#39; values are remembered between each invocation of *a loop*&#39;s body, the variables belonging to outer invocation of a *recursive function* are remembered while the inner invocations do their work.\r\n\r\n**The key** here is that each invocation of a recursive function is a **copy** of the same computational recipe, together with its own set of variables whose use is prescribed by that recipe.\r\n\r\nSo the recipe is the same, but each copy is separate, independent, different. A *given copy* (i.e. invocation) works with its own set of the function recipe&#39;s variables, and remembers by which copy *it* was invoked -- so that&#39;s where its result will be returned to, when this copy finishes its work.\r\n\r\nAnd when the topmost copy -- the very first to be invoked -- finishes up, the whole work is done, and [the final result is returned][1] as the overall value.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/46613542/849891","title":"why is this recursive method work in this BST","body":"<p>But recursion <em>is</em> a kind of iteration.</p>\n<p>A conventional loop repeats a computational recipe, a loop's body, with (potentially) new values of the loop variables on each repetition, until the stopping condition is met.</p>\n<p>A recursive function repeats a computational recipe, a function's body, with (potentially) new values of its parameter variables on each invocation, until the base test condition is met -- then, the preceding invocations are returned to, and continue executing their computational recipe(s) -- which is the same recipe, since it's the same function -- until all computations are finished.</p>\n<p>Conceptually, it's the same thing.</p>\n<p>Specifically, your example invokes the same recipe -- the function for calculating the height of a binary tree -- separately for each of the argument tree's branches, which <em>are</em> themselves trees as well, just like the argument tree itself. Just like a loop's body is the same for all the iterations.</p>\n<p>So your <em>function</em> calculates the height of the left branch, saves it in a temporary variable; calculates the height of the right branch, saves it in another temporary variable; and then combines the two results to produce <em>its own</em> result.</p>\n<p>Thus it repeats a lot of computational steps over and over.</p>\n<p>When a particular invocation encounters a leaf, this is treated as a base case. This invocation then just returns its result directly, without invoking any more instances of the same recipe.</p>\n<p>As an illustration, (writing <code>height &lt;tree&gt;</code> to mean <code>&lt;tree&gt;.height()</code>),</p>\n<pre><code>height { {{* 1 *} 2 *} 3 {* 4 {{* 5 *} 6 *}} }\n=\n set\n  a = height {{* 1 *} 2 *}\n  b = height {* 4 {{* 5 *} 6 *}}\n  return max(a,b)+1\n=\n set\n  a = /// height {{* 1 *} 2 *}\n        set a2 = height {* 1 *}\n            b2 = height *\n            return max(a2,b2)+1\n  b = height {* 4 {{* 5 *} 6 *}}\n  return max(a,b)+1\n=\n set\n  a = /// height {{* 1 *} 2 *}\n        set a2 = /// height {* 1 *}\n                   set a3 = height *\n                       b3 = height *\n                       return max(a3,b3)+1\n            b2 = height *\n            return max(a2,b2)+1\n  b = height {* 4 {{* 5 *} 6 *}}\n  return max(a,b)+1\n=\n set\n  a = /// height {{* 1 *} 2 *}\n        set a2 = /// height {* 1 *}\n                   set a3 = -1\n                       b3 = height *\n                       return max(a3,b3)+1\n            b2 = height *\n            return max(a2,b2)+1\n  b = height {* 4 {{* 5 *} 6 *}}\n  return max(a,b)+1\n=\n set\n  a = /// height {{* 1 *} 2 *}\n        set a2 = /// height {* 1 *}\n                   set a3 = -1\n                       b3 = -1\n                       return max(a3,b3)+1\n            b2 = height *\n            return max(a2,b2)+1\n  b = height {* 4 {{* 5 *} 6 *}}\n  return max(a,b)+1\n=\n set\n  a = /// height {{* 1 *} 2 *}\n        set a2 = /// height {* 1 *}\n                       return max(-1,-1)+1\n            b2 = height *\n            return max(a2,b2)+1\n  b = height {* 4 {{* 5 *} 6 *}}\n  return max(a,b)+1\n=\n set\n  a = /// height {{* 1 *} 2 *}\n        set a2 = 0\n            b2 = height *\n            return max(a2,b2)+1\n  b = height {* 4 {{* 5 *} 6 *}}\n  return max(a,b)+1\n=\n set\n  a = /// height {{* 1 *} 2 *}\n        set a2 = 0\n            b2 = -1\n            return max(a2,b2)+1\n  b = height {* 4 {{* 5 *} 6 *}}\n  return max(a,b)+1\n=\n set\n  a = /// height {{* 1 *} 2 *}\n            return max(0,-1)+1\n  b = height {* 4 {{* 5 *} 6 *}}\n  return max(a,b)+1\n=\n</code></pre>\n<p>continuing,</p>\n<pre><code>=\n set\n  a = /// height {{* 1 *} 2 *}\n            return max(0,-1)+1\n  b = height {* 4 {{* 5 *} 6 *}}\n  return max(a,b)+1\n=\n set\n  a = 1\n  b = height {* 4 {{* 5 *} 6 *}}\n  return max(a,b)+1\n=\n set\n  a = 1\n  b = /// height {* 4 {{* 5 *} 6 *}}\n        set a2 = height *\n            b2 = height {{* 5 *} 6 *}\n            return max(a2,b2)+1\n  return max(a,b)+1\n=\n...... etc.\n</code></pre>\n<p>Just as outer variables' values are remembered between each invocation of <em>a loop</em>'s body, the variables belonging to outer invocation of a <em>recursive function</em> are remembered while the inner invocations do their work.</p>\n<p><strong>The key</strong> here is that each invocation of a recursive function is a <strong>copy</strong> of the same computational recipe, together with its own set of variables whose use is prescribed by that recipe.</p>\n<p>So the recipe is the same, but each copy is separate, independent, different. A <em>given copy</em> (i.e. invocation) works with its own set of the function recipe's variables, and remembers by which copy <em>it</em> was invoked -- so that's where its result will be returned to, when this copy finishes its work.</p>\n<p>And when the topmost copy -- the very first to be invoked -- finishes up, the whole work is done, and <a href=\"https://stackoverflow.com/a/46613542/849891\">the final result is returned</a> as the overall value.</p>\n"}],"owner":{"account_id":26676206,"reputation":13,"user_id":20286886,"display_name":"Sexual2Chocolate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74140072,"answer_count":1,"score":1,"last_activity_date":1668260652,"creation_date":1666221539,"question_id":74132878,"body_markdown":"I&#39;m having a hard time trying to understand why this code works\r\n\r\nso we have a tree which we use this method to calculate the height\r\n\r\nthe problem for me is how does this method work to calculate the total height of the tree without a loop or something like that from my own understanding this can only work for 1 node but i cant see how is it possible to work for the whole tree without any kind of iteration \r\n\r\n\r\n\r\n    public int height() {\r\n        if (isEmpty()) {\r\n            return -1;\r\n        }\r\n        else {\r\n            int leftHeight = left.height();\r\n            int rightHeight = right.height();\r\n            return Math.max(leftHeight, rightHeight)+1;\r\n        }\r\n    }","title":"why is this recursive method work in this BST","body":"<p>I'm having a hard time trying to understand why this code works</p>\n<p>so we have a tree which we use this method to calculate the height</p>\n<p>the problem for me is how does this method work to calculate the total height of the tree without a loop or something like that from my own understanding this can only work for 1 node but i cant see how is it possible to work for the whole tree without any kind of iteration</p>\n<pre><code>public int height() {\n    if (isEmpty()) {\n        return -1;\n    }\n    else {\n        int leftHeight = left.height();\n        int rightHeight = right.height();\n        return Math.max(leftHeight, rightHeight)+1;\n    }\n}\n</code></pre>\n"},{"tags":["java","code-generation","querydsl"],"answers":[{"comments":[{"owner":{"account_id":5243888,"reputation":101,"user_id":4190206,"display_name":"iron24"},"score":0,"creation_date":1540041712,"post_id":52906002,"comment_id":92722848,"body_markdown":"Could you explain to me, how you do it? Do i just change the pom.xml contents then just build? Or is there something else? I wanna make a lot more entities, and all of them are gonna need a Q class as well.","body":"Could you explain to me, how you do it? Do i just change the pom.xml contents then just build? Or is there something else? I wanna make a lot more entities, and all of them are gonna need a Q class as well."},{"owner":{"display_name":"user10527814"},"score":0,"creation_date":1540042713,"post_id":52906002,"comment_id":92723148,"body_markdown":"@iron24 Can you post your pom.xml? Also, how do you trigger the build, with: mvn clean package?","body":"@iron24 Can you post your pom.xml? Also, how do you trigger the build, with: mvn clean package?"}],"tags":[],"owner":{"display_name":"user10527814"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540040865,"creation_date":1540040865,"answer_id":52906002,"question_id":52905768,"body_markdown":"Here is a working *pom.xml*\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;org.hello&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;querydsl&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;querydsl&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;querydsl.version&gt;4.1.0&lt;/querydsl.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate.javax.persistence/hibernate-jpa-2.0-api --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.1.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.6.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.7.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.1.3&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;process&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t\t&lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nand the generated class:\r\n\r\n    /**\r\n     * QPermission is a Querydsl query type for Permission\r\n     */\r\n    @Generated(&quot;com.querydsl.codegen.EntitySerializer&quot;)\r\n    public class QPermission extends EntityPathBase&lt;Permission&gt; {\r\n    \r\n        private static final long serialVersionUID = -479242270L;\r\n    \r\n        public static final QPermission permission = new QPermission(&quot;permission&quot;);\r\n    \r\n        public final NumberPath&lt;Long&gt; id = createNumber(&quot;id&quot;, Long.class);\r\n    \r\n        public final StringPath name = createString(&quot;name&quot;);\r\n    \r\n        public QPermission(String variable) {\r\n            super(Permission.class, forVariable(variable));\r\n        }\r\n    \r\n        public QPermission(Path&lt;? extends Permission&gt; path) {\r\n            super(path.getType(), path.getMetadata());\r\n        }\r\n    \r\n        public QPermission(PathMetadata metadata) {\r\n            super(Permission.class, metadata);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Java QueryDsl code generation does not generate Q class","body":"<p>Here is a working <em>pom.xml</em></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.hello&lt;/groupId&gt;\n    &lt;artifactId&gt;querydsl&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;querydsl&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;querydsl.version&gt;4.1.0&lt;/querydsl.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n            &lt;version&gt;${querydsl.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\n            &lt;version&gt;${querydsl.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate.javax.persistence/hibernate-jpa-2.0-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.1.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;\n                            &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>and the generated class:</p>\n\n<pre><code>/**\n * QPermission is a Querydsl query type for Permission\n */\n@Generated(\"com.querydsl.codegen.EntitySerializer\")\npublic class QPermission extends EntityPathBase&lt;Permission&gt; {\n\n    private static final long serialVersionUID = -479242270L;\n\n    public static final QPermission permission = new QPermission(\"permission\");\n\n    public final NumberPath&lt;Long&gt; id = createNumber(\"id\", Long.class);\n\n    public final StringPath name = createString(\"name\");\n\n    public QPermission(String variable) {\n        super(Permission.class, forVariable(variable));\n    }\n\n    public QPermission(Path&lt;? extends Permission&gt; path) {\n        super(path.getType(), path.getMetadata());\n    }\n\n    public QPermission(PathMetadata metadata) {\n        super(Permission.class, metadata);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6599982,"reputation":201,"user_id":5098594,"display_name":"Julien O"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1540042322,"creation_date":1540042322,"answer_id":52906209,"question_id":52905768,"body_markdown":"Can you show the dependencies you put in your pom.xml ?\r\n\r\nI&#39;ve made some tests starting from scratch\r\n\r\nHere are the dependencies :\r\n\r\n    &lt;dependencies&gt;\r\n        ...\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        ...\r\n    &lt;/dependencies&gt;\r\n\r\nAnd the plugin :\r\n\r\n            &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.1.3&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;process&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/generated-sources&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\nThe complete source code I&#39;ve tried to generate QFiles and that worked :\r\n\r\nhttps://github.com/githubjul/test-so-querydsl\r\n\r\nI don&#39;t run the project, only compile it to verify it works.\r\n","title":"Java QueryDsl code generation does not generate Q class","body":"<p>Can you show the dependencies you put in your pom.xml ?</p>\n\n<p>I've made some tests starting from scratch</p>\n\n<p>Here are the dependencies :</p>\n\n<pre><code>&lt;dependencies&gt;\n    ...\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n        &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n        &lt;version&gt;4.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n        &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\n        &lt;version&gt;4.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    ...\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>And the plugin :</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.1.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;process&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;${project.build.directory}/generated-sources&lt;/outputDirectory&gt;\n                        &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>The complete source code I've tried to generate QFiles and that worked :</p>\n\n<p><a href=\"https://github.com/githubjul/test-so-querydsl\" rel=\"nofollow noreferrer\">https://github.com/githubjul/test-so-querydsl</a></p>\n\n<p>I don't run the project, only compile it to verify it works.</p>\n"},{"tags":[],"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610957626,"creation_date":1610957626,"answer_id":65770834,"question_id":52905768,"body_markdown":"Adding the following dependency did it for me:\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.mysema.querydsl&lt;/groupId&gt;\r\n        &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\r\n        &lt;version&gt;3.7.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nYou can look up the latest version here:\r\n\r\nhttps://mvnrepository.com/artifact/com.mysema.querydsl/querydsl-jpa\r\n\r\n","title":"Java QueryDsl code generation does not generate Q class","body":"<p>Adding the following dependency did it for me:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.mysema.querydsl&lt;/groupId&gt;\n    &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\n    &lt;version&gt;3.7.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You can look up the latest version here:</p>\n<p><a href=\"https://mvnrepository.com/artifact/com.mysema.querydsl/querydsl-jpa\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.mysema.querydsl/querydsl-jpa</a></p>\n"},{"tags":[],"owner":{"account_id":1092885,"reputation":37679,"user_id":1087131,"accept_rate":54,"display_name":"Stephen Paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634149856,"creation_date":1634149856,"answer_id":69560586,"question_id":52905768,"body_markdown":"I was having this issue using IntelliJ.\r\n\r\nThe following steps worked for me:\r\n\r\n 1. Right-clicked my POM, \r\n 2. Clicked &#39;Maven&#39;, \r\n 3. Clicked &#39;reload project&#39;.\r\n\r\nThis seemed to do the trick.","title":"Java QueryDsl code generation does not generate Q class","body":"<p>I was having this issue using IntelliJ.</p>\n<p>The following steps worked for me:</p>\n<ol>\n<li>Right-clicked my POM,</li>\n<li>Clicked 'Maven',</li>\n<li>Clicked 'reload project'.</li>\n</ol>\n<p>This seemed to do the trick.</p>\n"},{"comments":[{"owner":{"account_id":3426540,"reputation":188,"user_id":2872163,"accept_rate":100,"display_name":"Shoaib"},"score":0,"creation_date":1677496233,"post_id":74413444,"comment_id":133342454,"body_markdown":"I could not execute mvnw. But i ran mvn install. I checked my generated sources folder and the Q files were there. Then the second part of this answer helped me resolve the errors on Intellij","body":"I could not execute mvnw. But i ran mvn install. I checked my generated sources folder and the Q files were there. Then the second part of this answer helped me resolve the errors on Intellij"}],"tags":[],"owner":{"account_id":10842003,"reputation":496,"user_id":7972923,"display_name":"VFX"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668260609,"creation_date":1668260609,"answer_id":74413444,"question_id":52905768,"body_markdown":"I was having trouble getting the files generated(the Q classes), and it turned out that building my maven project using IntelliJ would not work, so I had to run this command instead in the command line to build the project:\r\n```\r\n./mvnw install\r\n```\r\nAnd the files were generated for me, and in order to be able to use these generated files in my source code, I had to mark the folder that contains these\r\nfiles as &quot;Generated Sources Root&quot;, so in this case navigate to this path:\r\n```\r\ntarget/generated-sources/java\r\n```\r\nright mouse click on **java** folder --&gt; mark directory as --&gt; Generated Sources Root.\r\n\r\nAfter this you will be able to import these Q classes in your source code.","title":"Java QueryDsl code generation does not generate Q class","body":"<p>I was having trouble getting the files generated(the Q classes), and it turned out that building my maven project using IntelliJ would not work, so I had to run this command instead in the command line to build the project:</p>\n<pre><code>./mvnw install\n</code></pre>\n<p>And the files were generated for me, and in order to be able to use these generated files in my source code, I had to mark the folder that contains these\nfiles as &quot;Generated Sources Root&quot;, so in this case navigate to this path:</p>\n<pre><code>target/generated-sources/java\n</code></pre>\n<p>right mouse click on <strong>java</strong> folder --&gt; mark directory as --&gt; Generated Sources Root.</p>\n<p>After this you will be able to import these Q classes in your source code.</p>\n"}],"owner":{"account_id":5243888,"reputation":101,"user_id":4190206,"display_name":"iron24"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12228,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52906209,"answer_count":5,"score":2,"last_activity_date":1668260609,"creation_date":1540039323,"question_id":52905768,"body_markdown":"I&#39;m making a Spring project, where i&#39;m using QueryDsl for the entities. I&#39;m picking up this project from a few months back, where i already had 1 generated class (QUser). Now i made a new entity called Permission, and modified the User entity. When i&#39;m building the project, the QUser doesn&#39;t change, and the QPermission class is not generating either. What am i doing wrong? Here&#39;s the entity and pom.xml for QueryDsl.\r\n\r\n    @Entity\r\n    @Table(name = &quot;permission&quot;)\r\n    public class Permission {\r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n       private Long id;\r\n\r\n       @Column(name = &quot;name&quot;, length = 100, nullable = false)\r\n       private String name;\r\n\r\n\r\n       public Long getId() {\r\n           return id;\r\n       }\r\n\r\n       public void setId(Long id) {\r\n           this.id = id;\r\n      }\r\n\r\n        public String getName() {\r\n           return name;\r\n       }\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\nAnd the pom.xml: \r\n\r\n    [..]\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;process&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\r\n                            &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    [...]\r\n\r\nI was following the documentation:\r\nhttp://www.querydsl.com/static/querydsl/3.2.0/reference/html/ch03s03.html\r\nI&#39;m using IntellIJ IDEA and tried the &quot;Rebuild project&quot; option as well.","title":"Java QueryDsl code generation does not generate Q class","body":"<p>I'm making a Spring project, where i'm using QueryDsl for the entities. I'm picking up this project from a few months back, where i already had 1 generated class (QUser). Now i made a new entity called Permission, and modified the User entity. When i'm building the project, the QUser doesn't change, and the QPermission class is not generating either. What am i doing wrong? Here's the entity and pom.xml for QueryDsl.</p>\n\n<pre><code>@Entity\n@Table(name = \"permission\")\npublic class Permission {\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private Long id;\n\n   @Column(name = \"name\", length = 100, nullable = false)\n   private String name;\n\n\n   public Long getId() {\n       return id;\n   }\n\n   public void setId(Long id) {\n       this.id = id;\n  }\n\n    public String getName() {\n       return name;\n   }\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n\n<p>And the pom.xml: </p>\n\n<pre><code>[..]\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.1.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;process&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\n                        &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n[...]\n</code></pre>\n\n<p>I was following the documentation:\n<a href=\"http://www.querydsl.com/static/querydsl/3.2.0/reference/html/ch03s03.html\" rel=\"nofollow noreferrer\">http://www.querydsl.com/static/querydsl/3.2.0/reference/html/ch03s03.html</a>\nI'm using IntellIJ IDEA and tried the \"Rebuild project\" option as well.</p>\n"},{"tags":["java","filter","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1413237,"reputation":17260,"user_id":1339429,"accept_rate":89,"display_name":"JeanValjean"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1397656574,"creation_date":1397654800,"answer_id":23110891,"question_id":23110853,"body_markdown":"Try:\r\n\r\n    int sum = lst.stream().filter(o -&gt; o.field &gt; 10).mapToInt(o -&gt; o.field).sum();","title":"Sum values from specific field of the objects in a list","body":"<p>Try:</p>\n\n<pre><code>int sum = lst.stream().filter(o -&gt; o.field &gt; 10).mapToInt(o -&gt; o.field).sum();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4146553,"reputation":32805,"user_id":5743988,"accept_rate":67,"display_name":"4castle"},"score":5,"creation_date":1518452276,"post_id":23111269,"comment_id":84502182,"body_markdown":"Or `int sum = lst.stream().mapToInt(Obj::getField).filter(n -&gt; n &gt; 10).sum();`","body":"Or <code>int sum = lst.stream().mapToInt(Obj::getField).filter(n -&gt; n &gt; 10).sum();</code>"}],"tags":[],"owner":{"account_id":2784842,"reputation":67281,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"comment_count":1,"down_vote_count":0,"up_vote_count":208,"is_accepted":true,"score":208,"last_activity_date":1501769294,"creation_date":1397655832,"answer_id":23111269,"question_id":23110853,"body_markdown":"You can do\r\n\r\n    int sum = lst.stream().filter(o -&gt; o.getField() &gt; 10).mapToInt(o -&gt; o.getField()).sum();\r\n\r\nor (using Method reference)\r\n\r\n    int sum = lst.stream().filter(o -&gt; o.getField() &gt; 10).mapToInt(Obj::getField).sum();","title":"Sum values from specific field of the objects in a list","body":"<p>You can do</p>\n\n<pre><code>int sum = lst.stream().filter(o -&gt; o.getField() &gt; 10).mapToInt(o -&gt; o.getField()).sum();\n</code></pre>\n\n<p>or (using Method reference)</p>\n\n<pre><code>int sum = lst.stream().filter(o -&gt; o.getField() &gt; 10).mapToInt(Obj::getField).sum();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":354706,"reputation":151,"user_id":693210,"display_name":"Paweł Ćwik"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1397656481,"creation_date":1397656481,"answer_id":23111529,"question_id":23110853,"body_markdown":"You can try\r\n\r\n    int sum = list.stream().filter(o-&gt;o.field&gt;10).mapToInt(o-&gt;o.field).sum();\r\n\r\nLike explained [here](http://docs.oracle.com/javase/tutorial/collections/streams/reduction.html)","title":"Sum values from specific field of the objects in a list","body":"<p>You can try</p>\n\n<pre><code>int sum = list.stream().filter(o-&gt;o.field&gt;10).mapToInt(o-&gt;o.field).sum();\n</code></pre>\n\n<p>Like explained <a href=\"http://docs.oracle.com/javase/tutorial/collections/streams/reduction.html\" rel=\"noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1483460826,"creation_date":1483460826,"answer_id":41447948,"question_id":23110853,"body_markdown":"You can also `collect` with an appropriate summing collector like [`Collectors#summingInt(ToIntFunction)`][1]\r\n\r\n&gt; Returns a `Collector` that produces the sum of a integer-valued function\r\n&gt; applied to the input elements. If no elements are present, the result\r\n&gt; is 0.\r\n\r\nFor example\r\n\r\n    Stream&lt;Obj&gt; filtered = list.stream().filter(o -&gt; o.field &gt; 10);\r\n    int sum = filtered.collect(Collectors.summingInt(o -&gt; o.field));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#summingInt-java.util.function.ToIntFunction-","title":"Sum values from specific field of the objects in a list","body":"<p>You can also <code>collect</code> with an appropriate summing collector like <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#summingInt-java.util.function.ToIntFunction-\" rel=\"noreferrer\"><code>Collectors#summingInt(ToIntFunction)</code></a></p>\n\n<blockquote>\n  <p>Returns a <code>Collector</code> that produces the sum of a integer-valued function\n  applied to the input elements. If no elements are present, the result\n  is 0.</p>\n</blockquote>\n\n<p>For example</p>\n\n<pre><code>Stream&lt;Obj&gt; filtered = list.stream().filter(o -&gt; o.field &gt; 10);\nint sum = filtered.collect(Collectors.summingInt(o -&gt; o.field));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1547136740,"post_id":54132244,"comment_id":95096777,"body_markdown":"What does this answer add to the topic? There is no mention of `Indicator` anywhere in the question, and all the answers are already very specific. So unless you can edit your answer to really add something useful to the topic at hand, I suggest you delete it.","body":"What does this answer add to the topic? There is no mention of <code>Indicator</code> anywhere in the question, and all the answers are already very specific. So unless you can edit your answer to really add something useful to the topic at hand, I suggest you delete it."},{"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"score":0,"creation_date":1547143076,"post_id":54132244,"comment_id":95100264,"body_markdown":"Changed names to help Olivier&#39;s abstract thinking.","body":"Changed names to help Olivier&#39;s abstract thinking."}],"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1668259709,"creation_date":1547135249,"answer_id":54132244,"question_id":23110853,"body_markdown":"In Java 8 for an `Obj` entity with `field` and getField() method you can use:\r\n\r\n    List&lt;Obj&gt; objs ...\r\n\r\n    Double sum = objs.stream()\r\n      .filter(Objects::notNull);\r\n      .mapToDouble(Obj::getField)\r\n      .sum();","title":"Sum values from specific field of the objects in a list","body":"<p>In Java 8 for an <code>Obj</code> entity with <code>field</code> and getField() method you can use:</p>\n<pre><code>List&lt;Obj&gt; objs ...\n\nDouble sum = objs.stream()\n  .filter(Objects::notNull);\n  .mapToDouble(Obj::getField)\n  .sum();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12654863,"reputation":97,"user_id":9197698,"display_name":"Muruganandam C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598860023,"creation_date":1598859671,"answer_id":63666713,"question_id":23110853,"body_markdown":"You can do this method: &quot;IntSummaryStatistics&quot;\r\n\r\n\r\n    IntSummaryStatistics insum = li.stream().filter(v-&gt; v%2==0).mapToInt(mapper-&gt;mapper).summaryStatistics();","title":"Sum values from specific field of the objects in a list","body":"<p>You can do this method: &quot;IntSummaryStatistics&quot;</p>\n<pre><code>IntSummaryStatistics insum = li.stream().filter(v-&gt; v%2==0).mapToInt(mapper-&gt;mapper).summaryStatistics();\n</code></pre>\n"}],"owner":{"account_id":2251953,"reputation":13178,"user_id":1983997,"accept_rate":78,"display_name":"mat_boy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178555,"favorite_count":0,"down_vote_count":0,"up_vote_count":111,"accepted_answer_id":23111269,"answer_count":6,"score":111,"last_activity_date":1668259709,"creation_date":1397654724,"question_id":23110853,"body_markdown":"Suppose to have a class `Obj`:\r\n\r\n    class Obj {\r\n      int field;\r\n    }\r\n\r\n...and that you have a list of `Obj` instances, i.e. `List&lt;Obj&gt; lst`.\r\n\r\nNow, how can I find with streams the sum of the values of the int fields `field` from the objects in list `lst` under a filtering criterion (e.g. for an object `o`, the criterion is `o.field &gt; 10`)?","title":"Sum values from specific field of the objects in a list","body":"<p>Suppose to have a class <code>Obj</code>:</p>\n<pre><code>class Obj {\n  int field;\n}\n</code></pre>\n<p>...and that you have a list of <code>Obj</code> instances, i.e. <code>List&lt;Obj&gt; lst</code>.</p>\n<p>Now, how can I find with streams the sum of the values of the int fields <code>field</code> from the objects in list <code>lst</code> under a filtering criterion (e.g. for an object <code>o</code>, the criterion is <code>o.field &gt; 10</code>)?</p>\n"},{"tags":["java","mongodb","spring-boot","sorting"],"answers":[{"tags":[],"owner":{"account_id":3957137,"reputation":2210,"user_id":3265253,"display_name":"dangarfield"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668259531,"creation_date":1668259531,"answer_id":74413315,"question_id":74409984,"body_markdown":"Is this not simply a Java convention?\r\n\r\n```\r\nThe L suffix tells the compiler that we have a long number literal.\r\n\r\nJava byte, short, int and long types are used do represent fixed precision numbers.q This means that they can represent a limited amount of integers\r\n```\r\nfrom: https://zetcode.com/java/data-type/#:~:text=The%20L%20suffix%20tells%20the,type%20can%20represent%20is%209223372036854775807.\r\n\r\nAs these are values are ultimately being collated into a request to Mongo, I don&#39;t think it should really make a difference in this instance as there would be not difference in the type instances sent to Mongo. I&#39;m sure you could look in the MongoDriver code and see this fairly easily. I may link it. ","title":"-1L Sort Field Value in Mongodb With Spring Boot","body":"<p>Is this not simply a Java convention?</p>\n<pre><code>The L suffix tells the compiler that we have a long number literal.\n\nJava byte, short, int and long types are used do represent fixed precision numbers.q This means that they can represent a limited amount of integers\n</code></pre>\n<p>from: <a href=\"https://zetcode.com/java/data-type/#:%7E:text=The%20L%20suffix%20tells%20the,type%20can%20represent%20is%209223372036854775807\" rel=\"nofollow noreferrer\">https://zetcode.com/java/data-type/#:~:text=The%20L%20suffix%20tells%20the,type%20can%20represent%20is%209223372036854775807</a>.</p>\n<p>As these are values are ultimately being collated into a request to Mongo, I don't think it should really make a difference in this instance as there would be not difference in the type instances sent to Mongo. I'm sure you could look in the MongoDriver code and see this fairly easily. I may link it.</p>\n"}],"owner":{"account_id":18610690,"reputation":27,"user_id":13563196,"display_name":"HannibalTN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74413315,"answer_count":1,"score":0,"last_activity_date":1668259531,"creation_date":1668220485,"question_id":74409984,"body_markdown":"I came across a solution when I was working on a basic join within an aggregation pipeline.\r\n\r\nThe Solution&#39;s Code Snippet:\r\n```\r\npublic Document getMovie(String movieId) {\r\n        if (!validIdValue(movieId)) {\r\n            return null;\r\n        }\r\n        \r\n        List&lt;Bson&gt; pipeline = new ArrayList&lt;&gt;();\r\n        // match stage to find movie\r\n        Bson match = Aggregates.match(Filters.eq(&quot;_id&quot;, new ObjectId(movieId)));\r\n        pipeline.add(match);\r\n        // TODO&gt; Ticket: Get Comments - implement the lookup stage that allows the comments to\r\n        // retrieved with Movies.\r\n        pipeline.addAll(Arrays.asList(new Document(&quot;$lookup&quot;,\r\n                new Document(&quot;from&quot;, &quot;comments&quot;)\r\n                        .append(&quot;let&quot;,\r\n                                new Document(&quot;id&quot;, &quot;$_id&quot;))\r\n                        .append(&quot;pipeline&quot;, Arrays.asList(new Document(&quot;$match&quot;,\r\n                                        new Document(&quot;$expr&quot;,\r\n                                                new Document(&quot;$eq&quot;, Arrays.asList(&quot;$movie_id&quot;, &quot;$$id&quot;)))),\r\n                                new Document(&quot;$sort&quot;,\r\n                                        new Document(&quot;date&quot;, -1L))))\r\n                        .append(&quot;as&quot;, &quot;comments&quot;))));\r\n        \r\n        Document movie = moviesCollection.aggregate(pipeline).first();\r\n        \r\n        return movie;\r\n    }\r\n```\r\n\r\nI am simply wondering what was the purpose of `-1L` in this case? As the tests have already passed with only `-1` value.\r\n\r\nI tried searching for it but in vain.\r\n\r\nThe Tests Code Snippet:\r\n\r\n```\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\n  @Test\r\n  public void testGetMovieComments() {\r\n    String movieId = &quot;573a13b5f29313caabd42c2f&quot;;\r\n    Document movieDocument = dao.getMovie(movieId);\r\n    Assert.assertNotNull(&quot;Should not return null. Check getMovie()&quot;, movieDocument);\r\n\r\n    List&lt;Document&gt; commentDocs = (List&lt;Document&gt;) movieDocument.get(&quot;comments&quot;);\r\n    int expectedSize = 147;\r\n    Assert.assertEquals(\r\n        &quot;Comments list size does not match expected&quot;, expectedSize, commentDocs.size());\r\n\r\n    String expectedName = &quot;Arya Stark&quot;;\r\n    Assert.assertEquals(\r\n        &quot;Expected `name` field does match: check your &quot; + &quot;getMovie() comments sort order.&quot;,\r\n        expectedName,\r\n        commentDocs.get(1).getString(&quot;name&quot;));\r\n  }\r\n```\r\n\r\n\r\nThank you.","title":"-1L Sort Field Value in Mongodb With Spring Boot","body":"<p>I came across a solution when I was working on a basic join within an aggregation pipeline.</p>\n<p>The Solution's Code Snippet:</p>\n<pre><code>public Document getMovie(String movieId) {\n        if (!validIdValue(movieId)) {\n            return null;\n        }\n        \n        List&lt;Bson&gt; pipeline = new ArrayList&lt;&gt;();\n        // match stage to find movie\n        Bson match = Aggregates.match(Filters.eq(&quot;_id&quot;, new ObjectId(movieId)));\n        pipeline.add(match);\n        // TODO&gt; Ticket: Get Comments - implement the lookup stage that allows the comments to\n        // retrieved with Movies.\n        pipeline.addAll(Arrays.asList(new Document(&quot;$lookup&quot;,\n                new Document(&quot;from&quot;, &quot;comments&quot;)\n                        .append(&quot;let&quot;,\n                                new Document(&quot;id&quot;, &quot;$_id&quot;))\n                        .append(&quot;pipeline&quot;, Arrays.asList(new Document(&quot;$match&quot;,\n                                        new Document(&quot;$expr&quot;,\n                                                new Document(&quot;$eq&quot;, Arrays.asList(&quot;$movie_id&quot;, &quot;$$id&quot;)))),\n                                new Document(&quot;$sort&quot;,\n                                        new Document(&quot;date&quot;, -1L))))\n                        .append(&quot;as&quot;, &quot;comments&quot;))));\n        \n        Document movie = moviesCollection.aggregate(pipeline).first();\n        \n        return movie;\n    }\n</code></pre>\n<p>I am simply wondering what was the purpose of <code>-1L</code> in this case? As the tests have already passed with only <code>-1</code> value.</p>\n<p>I tried searching for it but in vain.</p>\n<p>The Tests Code Snippet:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\n  @Test\n  public void testGetMovieComments() {\n    String movieId = &quot;573a13b5f29313caabd42c2f&quot;;\n    Document movieDocument = dao.getMovie(movieId);\n    Assert.assertNotNull(&quot;Should not return null. Check getMovie()&quot;, movieDocument);\n\n    List&lt;Document&gt; commentDocs = (List&lt;Document&gt;) movieDocument.get(&quot;comments&quot;);\n    int expectedSize = 147;\n    Assert.assertEquals(\n        &quot;Comments list size does not match expected&quot;, expectedSize, commentDocs.size());\n\n    String expectedName = &quot;Arya Stark&quot;;\n    Assert.assertEquals(\n        &quot;Expected `name` field does match: check your &quot; + &quot;getMovie() comments sort order.&quot;,\n        expectedName,\n        commentDocs.get(1).getString(&quot;name&quot;));\n  }\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","multithreading","synchronization","thread-safety","synchronized"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":5,"creation_date":1668255716,"post_id":74412824,"comment_id":131363926,"body_markdown":"Looks totally crazy to me; if they use the same locking object in other classes, then all of those will block eachother.   Typically you want to block  only those threads performing the same operation, so a good practice is to generates a unique object (eg a random string)","body":"Looks totally crazy to me; if they use the same locking object in other classes, then all of those will block eachother.   Typically you want to block  only those threads performing the same operation, so a good practice is to generates a unique object (eg a random string)"},{"owner":{"account_id":5629853,"reputation":91,"user_id":4457102,"display_name":"Santanu Guha"},"score":1,"creation_date":1668256007,"post_id":74412824,"comment_id":131363970,"body_markdown":"Yes I totally agree with you. If we use synchronized on Stiring.class then the lock will be on the String class during the period when that operation is performing. Does that mean other section of code which is using String will also be blocked as the whole String class is synchronized ? If the answer is yes then it&#39;s dangerous. Please suggest .","body":"Yes I totally agree with you. If we use synchronized on Stiring.class then the lock will be on the String class during the period when that operation is performing. Does that mean other section of code which is using String will also be blocked as the whole String class is synchronized ? If the answer is yes then it&#39;s dangerous. Please suggest ."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":2,"creation_date":1668256843,"post_id":74412824,"comment_id":131364097,"body_markdown":"It&#39;ll only block other code that also synchronizes on String.class, not all code that merely uses Strings.  There probably isn&#39;t a lot of code doing that.  Still, it&#39;s a nutty thing to do in the first place.","body":"It&#39;ll only block other code that also synchronizes on String.class, not all code that merely uses Strings.  There probably isn&#39;t a lot of code doing that.  Still, it&#39;s a nutty thing to do in the first place."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668259275,"creation_date":1668256101,"answer_id":74412938,"question_id":74412824,"body_markdown":"There is no _need_ to use `String.class`. You can synchronize on any object, including any `Class` instance. Using the `String` class is a poor choice, but it would work.\r\n\r\nThe reason it&#39;s a poor choice is because (a) it&#39;s `public`—your code could interact in unexpected ways with some other part of a large program where some other programmer also decided to write `synchronized(String.class)`—But more important is (b) it&#39;s completely demented. It will make other programmers waste time trying to understand what you did and why you thought it was smart to do it.\r\n\r\nThere&#39;s maybe a third reason (c) but hard to tell without seeing more of your code. Reason (c) would be that `String.class` is a `static` instance, and if you&#39;re using that one global object to synchronize many different `MyTimerTask` instances, and if those instances do not interact with each other through shared, `static` variables, then using the one global synchronization object probably adds an un-necessary performance bottleneck.\r\n\r\nThis would be better (takes care of reasons (a) and (b)):\r\n\r\n``` lang-java\r\npublic class MyTimerTask extends TimerTask{\r\n    private final static Object mutex = new Object();\r\n    ...\r\n    public void run(){    \r\n        synchronized(mutex){\r\n            service.callSomeMethod();\r\n        }    \r\n    }   \r\n}\r\n```\r\n\r\nOr, depending on how `MyTimerTask` is used, removing `static` from the declaration of `mutex` might be better still (takes care of reason (c)).","title":"Synchronized on String.class","body":"<p>There is no <em>need</em> to use <code>String.class</code>. You can synchronize on any object, including any <code>Class</code> instance. Using the <code>String</code> class is a poor choice, but it would work.</p>\n<p>The reason it's a poor choice is because (a) it's <code>public</code>—your code could interact in unexpected ways with some other part of a large program where some other programmer also decided to write <code>synchronized(String.class)</code>—But more important is (b) it's completely demented. It will make other programmers waste time trying to understand what you did and why you thought it was smart to do it.</p>\n<p>There's maybe a third reason (c) but hard to tell without seeing more of your code. Reason (c) would be that <code>String.class</code> is a <code>static</code> instance, and if you're using that one global object to synchronize many different <code>MyTimerTask</code> instances, and if those instances do not interact with each other through shared, <code>static</code> variables, then using the one global synchronization object probably adds an un-necessary performance bottleneck.</p>\n<p>This would be better (takes care of reasons (a) and (b)):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyTimerTask extends TimerTask{\n    private final static Object mutex = new Object();\n    ...\n    public void run(){    \n        synchronized(mutex){\n            service.callSomeMethod();\n        }    \n    }   \n}\n</code></pre>\n<p>Or, depending on how <code>MyTimerTask</code> is used, removing <code>static</code> from the declaration of <code>mutex</code> might be better still (takes care of reason (c)).</p>\n"}],"owner":{"account_id":5629853,"reputation":91,"user_id":4457102,"display_name":"Santanu Guha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668259275,"creation_date":1668255240,"question_id":74412824,"body_markdown":"In one of my existing Spring Java code some one has written code like below : \r\nI am not sure why we need to synchronize String class for thread safety. Can anyone suggest?\r\n```\r\npublic class MyTimerTask extends TimerTask{\r\n    \r\n    @Autowired \r\n    MyService service;\r\n    \r\n    public void run(){\r\n        synchronized(String.class){\r\n            service.callSomeMethod();\r\n        }\r\n    }   \r\n    \r\n}\r\n```","title":"Synchronized on String.class","body":"<p>In one of my existing Spring Java code some one has written code like below :\nI am not sure why we need to synchronize String class for thread safety. Can anyone suggest?</p>\n<pre><code>public class MyTimerTask extends TimerTask{\n    \n    @Autowired \n    MyService service;\n    \n    public void run(){\n        synchronized(String.class){\n            service.callSomeMethod();\n        }\n    }   \n    \n}\n</code></pre>\n"},{"tags":["java","random","duplicates","set","hashset"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1668258463,"post_id":74412863,"comment_id":131364421,"body_markdown":"`nextInt` can return &quot;duplicates&quot; -- it&#39;s just a stream of random numbers.","body":"<code>nextInt</code> can return &quot;duplicates&quot; -- it&#39;s just a stream of random numbers."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668290000,"post_id":74412863,"comment_id":131370614,"body_markdown":"And by the way your `indexes` array is unused, other than providing its size.","body":"And by the way your <code>indexes</code> array is unused, other than providing its size."}],"answers":[{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668289960,"post_id":74413288,"comment_id":131370606,"body_markdown":"You don&#39;t need to remove them -- you can just use them from index 0 to size-1.","body":"You don&#39;t need to remove them -- you can just use them from index 0 to size-1."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668293582,"post_id":74413288,"comment_id":131371252,"body_markdown":"Removing them means that they can&#39;t be used again and therefore cause duplicates. It also keeps track of what has been used","body":"Removing them means that they can&#39;t be used again and therefore cause duplicates. It also keeps track of what has been used"}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668259229,"creation_date":1668259229,"answer_id":74413288,"question_id":74412863,"body_markdown":"Removing from a shuffled `List` is the way to go for something like this, so:\r\n\r\n       int numQuestions = quizQuestions.size();\r\n        List&lt;Integer&gt; randomQuestionIndexes = IntStream.range(0, numQuestions)\r\n            .boxed()\r\n            .collect(Collectors.toList());\r\n        Collections.shuffle(randomQuestionIndexes);\r\n        // Now *remove* n indexes at a time to ensure no repeat questions\r\n\r\nHere&#39;s how to [remove](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html#remove(int))","title":"Quiz Application returning duplicates","body":"<p>Removing from a shuffled <code>List</code> is the way to go for something like this, so:</p>\n<pre><code>   int numQuestions = quizQuestions.size();\n    List&lt;Integer&gt; randomQuestionIndexes = IntStream.range(0, numQuestions)\n        .boxed()\n        .collect(Collectors.toList());\n    Collections.shuffle(randomQuestionIndexes);\n    // Now *remove* n indexes at a time to ensure no repeat questions\n</code></pre>\n<p>Here's how to <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/List.html#remove(int)\" rel=\"nofollow noreferrer\">remove</a></p>\n"}],"owner":{"account_id":26909590,"reputation":1,"user_id":20485396,"display_name":"TeeDeey M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668259229,"creation_date":1668255499,"question_id":74412863,"body_markdown":"I&#39;m relatively new to programming , and I&#39;m creating a quiz application. The problem is it keeps on repeating questions\r\n```\r\nRandom random = new Random();\r\nSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\nwhile (set.size() &lt; 3) {\r\n    set.add(random.nextInt(quizQuestions.size())); }\r\n// three random QuizQuestion indexes. e.g., [2, 6, 9] which may represent: [run, cry, jump]\r\nInteger[] answers = set.toArray(new Integer[set.size()]);\r\n// indexes [0, 1 , 2] to randomly fetch the QuizQuestion indexes:\r\nArrayList&lt;Integer&gt; indexes = new ArrayList&lt;&gt;(Arrays.asList(0, 1, 2));\r\n//set the animation question and increment:\r\nfor (int index = 0; index &lt; indexes.size(); index++){\r\nquizAnswer = quizQuestions.get(answers[index]);}\r\n```\r\n\r\n\r\nCan someone please direct me to where I&#39;m getting it wrong , and a solution with code will be highly appreciated.","title":"Quiz Application returning duplicates","body":"<p>I'm relatively new to programming , and I'm creating a quiz application. The problem is it keeps on repeating questions</p>\n<pre><code>Random random = new Random();\nSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\nwhile (set.size() &lt; 3) {\n    set.add(random.nextInt(quizQuestions.size())); }\n// three random QuizQuestion indexes. e.g., [2, 6, 9] which may represent: [run, cry, jump]\nInteger[] answers = set.toArray(new Integer[set.size()]);\n// indexes [0, 1 , 2] to randomly fetch the QuizQuestion indexes:\nArrayList&lt;Integer&gt; indexes = new ArrayList&lt;&gt;(Arrays.asList(0, 1, 2));\n//set the animation question and increment:\nfor (int index = 0; index &lt; indexes.size(); index++){\nquizAnswer = quizQuestions.get(answers[index]);}\n</code></pre>\n<p>Can someone please direct me to where I'm getting it wrong , and a solution with code will be highly appreciated.</p>\n"},{"tags":["java","oop","design-patterns"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1530675571,"post_id":51165280,"comment_id":89314004,"body_markdown":"What does your catch clause look like for these exceptions?  Can&#39;t you just have some different Java methods depending on what the exception is?","body":"What does your catch clause look like for these exceptions?  Can&#39;t you just have some different Java methods depending on what the exception is?"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1530685445,"post_id":51165280,"comment_id":89317120,"body_markdown":"Visitor patterns won&#39;t help you if you can&#39;t implement `accept` methods in the element classes.","body":"Visitor patterns won&#39;t help you if you can&#39;t implement <code>accept</code> methods in the element classes."},{"owner":{"account_id":1196791,"reputation":11743,"user_id":1168342,"accept_rate":76,"display_name":"Fuhrmanator"},"score":0,"creation_date":1530799541,"post_id":51165280,"comment_id":89368181,"body_markdown":"Who&#39;s calling `someJavaMethod`? Can you give more details about the method you&#39;re calling that generates the exception? Adapter might be possible, but more info is needed. Otherwise, couldn&#39;t Template method work? The if/then/else block would be an abstract polymorphic method to log the exceptions. With more info I could maybe write up a design as an answer.","body":"Who&#39;s calling <code>someJavaMethod</code>? Can you give more details about the method you&#39;re calling that generates the exception? Adapter might be possible, but more info is needed. Otherwise, couldn&#39;t Template method work? The if/then/else block would be an abstract polymorphic method to log the exceptions. With more info I could maybe write up a design as an answer."},{"owner":{"account_id":3176461,"reputation":832,"user_id":2684198,"accept_rate":37,"display_name":"user2684198"},"score":0,"creation_date":1530810050,"post_id":51165280,"comment_id":89374843,"body_markdown":"AWS allows attaching an instance of RequestHandler2 with every request. If the request fails, it calls the afterError(Request, Response, Exception) method from the catch block. (We have a lot of such requests and catch blocks)\n\nhttps://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/handlers/RequestHandler2.html#afterError-com.amazonaws.Request-com.amazonaws.Response-java.lang.Exception-","body":"AWS allows attaching an instance of RequestHandler2 with every request. If the request fails, it calls the afterError(Request, Response, Exception) method from the catch block. (We have a lot of such requests and catch blocks)  <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/handlers/RequestHandler2.html#afterError-com.amazonaws.Request-com.amazonaws.Response-java.lang.Exception-\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1531368968,"post_id":51165280,"comment_id":89571567,"body_markdown":"I appreciate the quick comeback!","body":"I appreciate the quick comeback!"}],"answers":[{"comments":[{"owner":{"account_id":3176461,"reputation":832,"user_id":2684198,"accept_rate":37,"display_name":"user2684198"},"score":0,"creation_date":1530859604,"post_id":51165336,"comment_id":89389933,"body_markdown":"So there is no way to get rid of the &quot;if instanceof&quot; clauses if I am doing this in Java? I understand I can clean it beyond that.","body":"So there is no way to get rid of the &quot;if instanceof&quot; clauses if I am doing this in Java? I understand I can clean it beyond that."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1530860609,"post_id":51165336,"comment_id":89390447,"body_markdown":"As said, the only other approach would be to use a map with class objects, or to rethrow the exception and use try catch, as outlined in the other answer. For some problems, there simply isnt a great solution, due to the limitations of the language. Been in that spot to, my recommendation: make sure you have good unit tests that test each different exception type. But yes, overall, such code can turn ugly quickly. Finally: please consider accepting an answer at some point.","body":"As said, the only other approach would be to use a map with class objects, or to rethrow the exception and use try catch, as outlined in the other answer. For some problems, there simply isnt a great solution, due to the limitations of the language. Been in that spot to, my recommendation: make sure you have good unit tests that test each different exception type. But yes, overall, such code can turn ugly quickly. Finally: please consider accepting an answer at some point."}],"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1530674833,"creation_date":1530674833,"answer_id":51165336,"question_id":51165280,"body_markdown":"There are no fundamentally different ways of solving this (at least not in Java). If you were using a language that allows for multi-dispatch, you could overload the message for the different exception types.\r\n\r\nI would rather suggest to simply accept it. If at all I would see how the clean code rules help here, for example by making sure that each if block goes into a distinct method.\r\n\r\nWell, there is one slightly different approach: you could potentially use a map. Keys would be the exception class, the values would be *something* that contains the values for your different variables that need to be assigned. ","title":"Best design pattern to avoid instanceof when working with classes that cannot be modified?","body":"<p>There are no fundamentally different ways of solving this (at least not in Java). If you were using a language that allows for multi-dispatch, you could overload the message for the different exception types.</p>\n\n<p>I would rather suggest to simply accept it. If at all I would see how the clean code rules help here, for example by making sure that each if block goes into a distinct method.</p>\n\n<p>Well, there is one slightly different approach: you could potentially use a map. Keys would be the exception class, the values would be <em>something</em> that contains the values for your different variables that need to be assigned. </p>\n"},{"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1530675700,"post_id":51165349,"comment_id":89314036,"body_markdown":"Really bad practice. Try catch should not be used for normal control flow. It would definitely surprise most readers, and potentially cost regarding runtime performance.","body":"Really bad practice. Try catch should not be used for normal control flow. It would definitely surprise most readers, and potentially cost regarding runtime performance."},{"owner":{"account_id":1550320,"reputation":16282,"user_id":1442874,"accept_rate":88,"display_name":"Chris Gerken"},"score":1,"creation_date":1530676442,"post_id":51165349,"comment_id":89314163,"body_markdown":"@GhostCat Weird questions get weird answers.  Once you start passing exceptions around all bets are off.","body":"@GhostCat Weird questions get weird answers.  Once you start passing exceptions around all bets are off."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1530676608,"post_id":51165349,"comment_id":89314201,"body_markdown":"As said, there are good arguments why your answer should not be followed. And arguing that further breaking a broken thing is okay, well, not in my eyes.","body":"As said, there are good arguments why your answer should not be followed. And arguing that further breaking a broken thing is okay, well, not in my eyes."},{"owner":{"account_id":3176461,"reputation":832,"user_id":2684198,"accept_rate":37,"display_name":"user2684198"},"score":0,"creation_date":1530678714,"post_id":51165349,"comment_id":89314706,"body_markdown":"Unfortunately this is the method that the library offers.","body":"Unfortunately this is the method that the library offers."},{"owner":{"account_id":1550320,"reputation":16282,"user_id":1442874,"accept_rate":88,"display_name":"Chris Gerken"},"score":0,"creation_date":1530680614,"post_id":51165349,"comment_id":89315263,"body_markdown":"@GhostCat I actually agree with you, but the question was specific to the problem of running case-type logic based on the class of an exception including, perhaps, subclasses of those exceptions that aren&#39;t even known or  visible to the code being written. The OP was asking if there&#39;s another way to do that without using instanceof and my answer is the only other approach I can think of.","body":"@GhostCat I actually agree with you, but the question was specific to the problem of running case-type logic based on the class of an exception including, perhaps, subclasses of those exceptions that aren&#39;t even known or  visible to the code being written. The OP was asking if there&#39;s another way to do that without using instanceof and my answer is the only other approach I can think of."}],"tags":[],"owner":{"account_id":1550320,"reputation":16282,"user_id":1442874,"accept_rate":88,"display_name":"Chris Gerken"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530674970,"creation_date":1530674970,"answer_id":51165349,"question_id":51165280,"body_markdown":"What about throwing the exception in a try-catch block and using the catch clauses to identify which exception it is?","title":"Best design pattern to avoid instanceof when working with classes that cannot be modified?","body":"<p>What about throwing the exception in a try-catch block and using the catch clauses to identify which exception it is?</p>\n"},{"tags":[],"owner":{"account_id":262777,"reputation":77,"user_id":547885,"accept_rate":0,"display_name":"Gfalco"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668259207,"creation_date":1668259207,"answer_id":74413286,"question_id":51165280,"body_markdown":"Where you get the exception you define a map `Map&lt;String, ExceptionHandler&gt;` and call something like this:\r\n\r\n    Optional.of(stringExceptionMap.get(throwable.getClass().getSimpleName()))\r\n                                     .map(errorHandlers -&gt; errorHandlers.handle(throwable).orElseGet(() -&gt;  whatever));  \r\n\r\nwhere\r\n\r\n    public interface ExceptionHandler {\r\n    \r\n        T handle(Throwable throwable);\r\n    }\r\n\r\nhave strategies like \r\n\r\n    @Component(&quot;WebExchangeBindException&quot;)\r\n    public class WebExchangeBindExceptionErrorsExtractor implements ErrorsExtractor {\r\n    \r\n        @Override\r\n        public T handle(Throwable throwable) { ... } \r\n    }\r\n\r\n","title":"Best design pattern to avoid instanceof when working with classes that cannot be modified?","body":"<p>Where you get the exception you define a map <code>Map&lt;String, ExceptionHandler&gt;</code> and call something like this:</p>\n<pre><code>Optional.of(stringExceptionMap.get(throwable.getClass().getSimpleName()))\n                                 .map(errorHandlers -&gt; errorHandlers.handle(throwable).orElseGet(() -&gt;  whatever));  \n</code></pre>\n<p>where</p>\n<pre><code>public interface ExceptionHandler {\n\n    T handle(Throwable throwable);\n}\n</code></pre>\n<p>have strategies like</p>\n<pre><code>@Component(&quot;WebExchangeBindException&quot;)\npublic class WebExchangeBindExceptionErrorsExtractor implements ErrorsExtractor {\n\n    @Override\n    public T handle(Throwable throwable) { ... } \n}\n</code></pre>\n"}],"owner":{"account_id":3176461,"reputation":832,"user_id":2684198,"accept_rate":37,"display_name":"user2684198"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51165336,"answer_count":3,"score":2,"last_activity_date":1668259207,"creation_date":1530674298,"question_id":51165280,"body_markdown":"I am overriding a method provided by third-party library class and trying to record exceptions that occur:\r\n\r\n    @Override\r\n    someJavaMethod(arg1, arg2, Exception ex){\r\n            //Declare some variables with default values\r\n        if (ex instanceof SpecificException1)\r\n            //Set values for the variables\r\n        else if (ex instanceof SpecificException2)\r\n            //Set some other values for the variables\r\n        else\r\n            //Do nothing\r\n    }\r\n\r\nThe issue here is that `SpecificException1` and `SpecificException2` are both third-party exceptions and I cannot modify them.\r\n\r\nI understand that using `instanceof` is not a great way to handle this. What design pattern / OO principles I should use to handle this?\r\n\r\n(Also, I was advised to see the visitor and acyclic visitor design pattern, but I am not sure if they can be applied to classes that cannot be modified)\r\n","title":"Best design pattern to avoid instanceof when working with classes that cannot be modified?","body":"<p>I am overriding a method provided by third-party library class and trying to record exceptions that occur:</p>\n\n<pre><code>@Override\nsomeJavaMethod(arg1, arg2, Exception ex){\n        //Declare some variables with default values\n    if (ex instanceof SpecificException1)\n        //Set values for the variables\n    else if (ex instanceof SpecificException2)\n        //Set some other values for the variables\n    else\n        //Do nothing\n}\n</code></pre>\n\n<p>The issue here is that <code>SpecificException1</code> and <code>SpecificException2</code> are both third-party exceptions and I cannot modify them.</p>\n\n<p>I understand that using <code>instanceof</code> is not a great way to handle this. What design pattern / OO principles I should use to handle this?</p>\n\n<p>(Also, I was advised to see the visitor and acyclic visitor design pattern, but I am not sure if they can be applied to classes that cannot be modified)</p>\n"},{"tags":["java","bouncycastle","pgp"],"answers":[{"comments":[{"owner":{"account_id":46937,"reputation":4996,"user_id":138883,"accept_rate":90,"display_name":"dstarh"},"score":0,"creation_date":1287138022,"post_id":3939475,"comment_id":4207476,"body_markdown":"Yep I saw this just after posting however I&#39;d rather not rewrite something that someone by now has already written and shared :). I&#39;ll write it if I have to but I&#39;m not into that whole wheel reinvention scene","body":"Yep I saw this just after posting however I&#39;d rather not rewrite something that someone by now has already written and shared :). I&#39;ll write it if I have to but I&#39;m not into that whole wheel reinvention scene"},{"owner":{"account_id":46937,"reputation":4996,"user_id":138883,"accept_rate":90,"display_name":"dstarh"},"score":2,"creation_date":1287454614,"post_id":3939475,"comment_id":4238874,"body_markdown":"Turns out there was a byte array example that used passphrases instead of pub/private but i was abele to combine the public private example with the byte array example and got it working.  One thing to note that if there is no file at all you can just use the filename PGPLiteralData.CONSOLE instead","body":"Turns out there was a byte array example that used passphrases instead of pub/private but i was abele to combine the public private example with the byte array example and got it working.  One thing to note that if there is no file at all you can just use the filename PGPLiteralData.CONSOLE instead"}],"tags":[],"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1494977632,"creation_date":1287116307,"answer_id":3939475,"question_id":3939447,"body_markdown":"Looking at the [source of PGPUtil][1] you can see what API to call when working with streams or arrays directly:\r\n  \r\n    \r\n\r\n    public static void writeFileToLiteralData(OutputStream out,\r\n                   char fileType, File file, byte[] buffer) throws IOException {\r\n       PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\r\n       OutputStream pOut = lData.open(out, fileType, file.getName(),\r\n                       new Date(file.lastModified()), buffer);\r\n       FileInputStream in = new FileInputStream(file);\r\n       byte[] buf = new byte[buffer.length];\r\n       int len;\r\n\r\n       while ((len = in.read(buf)) &gt; 0) {\r\n             pOut.write(buf, 0, len);\r\n       }\r\n\r\n       lData.close();\r\n       in.close();\r\n    }\r\n\r\n\r\n  [1]: http://www.docjar.org/html/api/org/bouncycastle/openpgp/PGPUtil.java.html","title":"How to encrypt a string/stream with bouncycastle pgp without starting with a file","body":"<p>Looking at the <a href=\"http://www.docjar.org/html/api/org/bouncycastle/openpgp/PGPUtil.java.html\" rel=\"noreferrer\">source of PGPUtil</a> you can see what API to call when working with streams or arrays directly:</p>\n\n<pre><code>public static void writeFileToLiteralData(OutputStream out,\n               char fileType, File file, byte[] buffer) throws IOException {\n   PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\n   OutputStream pOut = lData.open(out, fileType, file.getName(),\n                   new Date(file.lastModified()), buffer);\n   FileInputStream in = new FileInputStream(file);\n   byte[] buf = new byte[buffer.length];\n   int len;\n\n   while ((len = in.read(buf)) &gt; 0) {\n         pOut.write(buf, 0, len);\n   }\n\n   lData.close();\n   in.close();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":46937,"reputation":4996,"user_id":138883,"accept_rate":90,"display_name":"dstarh"},"score":2,"creation_date":1347478462,"post_id":12377301,"comment_id":16654598,"body_markdown":"This isn&#39;t really an answer to my question, nor is it really appropriate in the SO guidelines.  The question was specifically about NOT writing to a file and your example adds the ability to write to and from a file, of which there are plenty of examples elsewhere.  There dod not seem to be a canonical example on how to do that in memory only.","body":"This isn&#39;t really an answer to my question, nor is it really appropriate in the SO guidelines.  The question was specifically about NOT writing to a file and your example adds the ability to write to and from a file, of which there are plenty of examples elsewhere.  There dod not seem to be a canonical example on how to do that in memory only."}],"tags":[],"owner":{"account_id":28367,"reputation":131,"user_id":75739,"display_name":"JWHardcastle"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1347394782,"creation_date":1347394782,"answer_id":12377301,"question_id":3939447,"body_markdown":"Your code was extremely useful to me.  I am working in ColdFusion (with Java) and needed to take passwords, encode them in a short import file for LDIFDE (to be used in Active Directory on another server) and I never wanted the passwords to touch the disk in plaintext.  I modified it only slightly to add two functions that abstract out the common use case of encrypting a string *to* disk and decrypting *from* disk. Thank you @dstarh.\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.security.NoSuchProviderException;\r\n    import java.security.SecureRandom;\r\n    import java.security.Security;\r\n    import java.util.Date;\r\n    import java.util.Iterator;\r\n    \r\n    import org.bouncycastle.bcpg.ArmoredOutputStream;\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import org.bouncycastle.openpgp.PGPCompressedData;\r\n    import org.bouncycastle.openpgp.PGPCompressedDataGenerator;\r\n    import org.bouncycastle.openpgp.PGPEncryptedData;\r\n    import org.bouncycastle.openpgp.PGPEncryptedDataGenerator;\r\n    import org.bouncycastle.openpgp.PGPEncryptedDataList;\r\n    import org.bouncycastle.openpgp.PGPException;\r\n    import org.bouncycastle.openpgp.PGPLiteralData;\r\n    import org.bouncycastle.openpgp.PGPLiteralDataGenerator;\r\n    import org.bouncycastle.openpgp.PGPObjectFactory;\r\n    import org.bouncycastle.openpgp.PGPPrivateKey;\r\n    import org.bouncycastle.openpgp.PGPPublicKey;\r\n    import org.bouncycastle.openpgp.PGPPublicKeyEncryptedData;\r\n    import org.bouncycastle.openpgp.PGPPublicKeyRing;\r\n    import org.bouncycastle.openpgp.PGPPublicKeyRingCollection;\r\n    import org.bouncycastle.openpgp.PGPSecretKey;\r\n    import org.bouncycastle.openpgp.PGPSecretKeyRingCollection;\r\n    import org.bouncycastle.openpgp.PGPUtil;\r\n    \r\n    /**\r\n     * Simple routine to encrypt and decrypt using a Public and Private key with passphrase. This service\r\n     * routine provides the basic PGP services between byte arrays.\r\n     * \r\n     */\r\n    public class PgpEncryption {\r\n    \t\r\n    \tpublic PgpEncryption() {\r\n    \t\t// Empty constructor\r\n    \t}\r\n    \r\n        private static PGPPrivateKey findSecretKey(\r\n                PGPSecretKeyRingCollection pgpSec, long keyID, char[] pass)\r\n                throws PGPException, NoSuchProviderException {\r\n            PGPSecretKey pgpSecKey = pgpSec.getSecretKey(keyID);\r\n    \r\n            if (pgpSecKey == null) {\r\n                return null;\r\n            }\r\n    \r\n            return pgpSecKey.extractPrivateKey(pass, &quot;BC&quot;);\r\n        }\r\n    \r\n        /**\r\n         * decrypt the passed in message stream\r\n         * \r\n         * @param encrypted\r\n         *            The message to be decrypted.\r\n         * @param passPhrase\r\n         *            Pass phrase (key)\r\n         * \r\n         * @return Clear text as a byte array. I18N considerations are not handled\r\n         *         by this routine\r\n         * @exception IOException\r\n         * @exception PGPException\r\n         * @exception NoSuchProviderException\r\n         */\r\n        public static byte[] decrypt(byte[] encrypted, InputStream keyIn, char[] password)\r\n                throws IOException, PGPException, NoSuchProviderException {\r\n            InputStream in = new ByteArrayInputStream(encrypted);\r\n    \r\n            in = PGPUtil.getDecoderStream(in);\r\n    \r\n            PGPObjectFactory pgpF = new PGPObjectFactory(in);\r\n            PGPEncryptedDataList enc = null;\r\n            Object o = pgpF.nextObject();\r\n    \r\n            //\r\n            // the first object might be a PGP marker packet.\r\n            //\r\n            if (o instanceof PGPEncryptedDataList) {\r\n                enc = (PGPEncryptedDataList) o;\r\n            } else {\r\n                enc = (PGPEncryptedDataList) pgpF.nextObject();\r\n            }\r\n    \r\n    \r\n    \r\n            //\r\n            // find the secret key\r\n            //\r\n            Iterator it = enc.getEncryptedDataObjects();\r\n            PGPPrivateKey sKey = null;\r\n            PGPPublicKeyEncryptedData pbe = null;\r\n            PGPSecretKeyRingCollection pgpSec = new PGPSecretKeyRingCollection(\r\n                    PGPUtil.getDecoderStream(keyIn));\r\n    \r\n            while (sKey == null &amp;&amp; it.hasNext()) {\r\n                pbe = (PGPPublicKeyEncryptedData) it.next();\r\n    \r\n                sKey = findSecretKey(pgpSec, pbe.getKeyID(), password);\r\n            }\r\n    \r\n            if (sKey == null) {\r\n                throw new IllegalArgumentException(\r\n                        &quot;secret key for message not found.&quot;);\r\n            }\r\n    \r\n            InputStream clear = pbe.getDataStream(sKey, &quot;BC&quot;);\r\n    \r\n    \r\n    \r\n            PGPObjectFactory pgpFact = new PGPObjectFactory(clear);\r\n    \r\n            PGPCompressedData cData = (PGPCompressedData) pgpFact.nextObject();\r\n    \r\n            pgpFact = new PGPObjectFactory(cData.getDataStream());\r\n    \r\n            PGPLiteralData ld = (PGPLiteralData) pgpFact.nextObject();\r\n    \r\n            InputStream unc = ld.getInputStream();\r\n    \r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            int ch;\r\n    \r\n            while ((ch = unc.read()) &gt;= 0) {\r\n                out.write(ch);\r\n    \r\n            }\r\n    \r\n            byte[] returnBytes = out.toByteArray();\r\n            out.close();\r\n            return returnBytes;\r\n        }\r\n    \r\n        /**\r\n         * Simple PGP encryptor between byte[].\r\n         * \r\n         * @param clearData\r\n         *            The test to be encrypted\r\n         * @param passPhrase\r\n         *            The pass phrase (key). This method assumes that the key is a\r\n         *            simple pass phrase, and does not yet support RSA or more\r\n         *            sophisiticated keying.\r\n         * @param fileName\r\n         *            File name. This is used in the Literal Data Packet (tag 11)\r\n         *            which is really inly important if the data is to be related to\r\n         *            a file to be recovered later. Because this routine does not\r\n         *            know the source of the information, the caller can set\r\n         *            something here for file name use that will be carried. If this\r\n         *            routine is being used to encrypt SOAP MIME bodies, for\r\n         *            example, use the file name from the MIME type, if applicable.\r\n         *            Or anything else appropriate.\r\n         * \r\n         * @param armor\r\n         * \r\n         * @return encrypted data.\r\n         * @exception IOException\r\n         * @exception PGPException\r\n         * @exception NoSuchProviderException\r\n         */\r\n        public static byte[] encrypt(byte[] clearData, PGPPublicKey encKey,\r\n                String fileName,boolean withIntegrityCheck, boolean armor)\r\n                throws IOException, PGPException, NoSuchProviderException {\r\n            if (fileName == null) {\r\n                fileName = PGPLiteralData.CONSOLE;\r\n            }\r\n    \r\n            ByteArrayOutputStream encOut = new ByteArrayOutputStream();\r\n    \r\n            OutputStream out = encOut;\r\n            if (armor) {\r\n                out = new ArmoredOutputStream(out);\r\n            }\r\n    \r\n            ByteArrayOutputStream bOut = new ByteArrayOutputStream();\r\n    \r\n            PGPCompressedDataGenerator comData = new PGPCompressedDataGenerator(\r\n                    PGPCompressedDataGenerator.ZIP);\r\n            OutputStream cos = comData.open(bOut); // open it with the final\r\n            // destination\r\n            PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\r\n    \r\n            // we want to generate compressed data. This might be a user option\r\n            // later,\r\n            // in which case we would pass in bOut.\r\n            OutputStream pOut = lData.open(cos, // the compressed output stream\r\n                    PGPLiteralData.BINARY, fileName, // &quot;filename&quot; to store\r\n                    clearData.length, // length of clear data\r\n                    new Date() // current time\r\n                    );\r\n            pOut.write(clearData);\r\n    \r\n            lData.close();\r\n            comData.close();\r\n    \r\n            PGPEncryptedDataGenerator cPk = new PGPEncryptedDataGenerator(\r\n                    PGPEncryptedData.CAST5, withIntegrityCheck, new SecureRandom(),\r\n                    &quot;BC&quot;);\r\n    \r\n            cPk.addMethod(encKey);\r\n    \r\n            byte[] bytes = bOut.toByteArray();\r\n    \r\n            OutputStream cOut = cPk.open(out, bytes.length);\r\n    \r\n            cOut.write(bytes); // obtain the actual bytes from the compressed stream\r\n    \r\n            cOut.close();\r\n    \r\n            out.close();\r\n    \r\n            return encOut.toByteArray();\r\n        }\r\n    \r\n        private static PGPPublicKey readPublicKey(InputStream in)\r\n                throws IOException, PGPException {\r\n            in = PGPUtil.getDecoderStream(in);\r\n    \r\n            PGPPublicKeyRingCollection pgpPub = new PGPPublicKeyRingCollection(in);\r\n    \r\n            //\r\n            // we just loop through the collection till we find a key suitable for\r\n            // encryption, in the real\r\n            // world you would probably want to be a bit smarter about this.\r\n            //\r\n    \r\n            //\r\n            // iterate through the key rings.\r\n            //\r\n            Iterator rIt = pgpPub.getKeyRings();\r\n    \r\n            while (rIt.hasNext()) {\r\n                PGPPublicKeyRing kRing = (PGPPublicKeyRing) rIt.next();\r\n                Iterator kIt = kRing.getPublicKeys();\r\n    \r\n                while (kIt.hasNext()) {\r\n                    PGPPublicKey k = (PGPPublicKey) kIt.next();\r\n    \r\n                    if (k.isEncryptionKey()) {\r\n                        return k;\r\n                    }\r\n                }\r\n            }\r\n    \r\n            throw new IllegalArgumentException(\r\n                    &quot;Can&#39;t find encryption key in key ring.&quot;);\r\n        }\r\n    \r\n        public static byte[] getBytesFromFile(File file) throws IOException {\r\n            InputStream is = new FileInputStream(file);\r\n    \r\n            // Get the size of the file\r\n            long length = file.length();\r\n    \r\n            if (length &gt; Integer.MAX_VALUE) {\r\n                // File is too large\r\n            }\r\n    \r\n            // Create the byte array to hold the data\r\n            byte[] bytes = new byte[(int)length];\r\n    \r\n            // Read in the bytes\r\n            int offset = 0;\r\n            int numRead = 0;\r\n            while (offset &lt; bytes.length\r\n                   &amp;&amp; (numRead=is.read(bytes, offset, bytes.length-offset)) &gt;= 0) {\r\n                offset += numRead;\r\n            }\r\n    \r\n            // Ensure all the bytes have been read in\r\n            if (offset &lt; bytes.length) {\r\n                throw new IOException(&quot;Could not completely read file &quot;+file.getName());\r\n            }\r\n    \r\n            // Close the input stream and return bytes\r\n            is.close();\r\n            return bytes;\r\n        }\r\n    \t\r\n    \tpublic static String encryptToFile(String inputStr, String keyFile, String outFile) throws Exception {\r\n            Security.addProvider(new BouncyCastleProvider());\r\n    \t\t\r\n    \t\tbyte[] original = inputStr.getBytes();\r\n    \t\t\r\n            FileInputStream pubKey = new FileInputStream(keyFile);\r\n            byte[] encrypted = encrypt(original, readPublicKey(pubKey), null,\r\n                    true, true);\r\n    \r\n            FileOutputStream dfis = new FileOutputStream(outFile);\r\n            dfis.write(encrypted);\r\n            dfis.close();\r\n    \t\t\r\n    \t\treturn new String(encrypted);\r\n    \t}\r\n    \t\r\n    \tpublic static String decryptFromFile(String passphrase, String keyFile, String inputFile) throws Exception {\r\n            Security.addProvider(new BouncyCastleProvider());\r\n    \t\t\r\n            byte[] encFromFile = getBytesFromFile(new File(inputFile));\r\n            FileInputStream secKey = new FileInputStream(keyFile);\r\n    \r\n            byte[] decrypted = decrypt(encFromFile, secKey, passphrase.toCharArray());\r\n    \r\n    \t\treturn new String(decrypted);\r\n    \t}\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \t\tString encrypted = encryptToFile(&quot;Hello world&quot;,&quot;pub.asc&quot;,&quot;enc.asc&quot;);\r\n            System.out.println(&quot;\\nencrypted data = &#39;&quot; + new String(encrypted) + &quot;&#39;&quot;);\r\n    \r\n    \t\tString decrypted = decryptFromFile(&quot;open sesame&quot;, &quot;secret.asc&quot;, &quot;enc.asc&quot;);\r\n            System.out.println(&quot;\\ndecrypted data = &#39;&quot; + decrypted + &quot;&#39;&quot;);\r\n    \r\n        }\r\n    }\r\n\r\n","title":"How to encrypt a string/stream with bouncycastle pgp without starting with a file","body":"<p>Your code was extremely useful to me.  I am working in ColdFusion (with Java) and needed to take passwords, encode them in a short import file for LDIFDE (to be used in Active Directory on another server) and I never wanted the passwords to touch the disk in plaintext.  I modified it only slightly to add two functions that abstract out the common use case of encrypting a string <em>to</em> disk and decrypting <em>from</em> disk. Thank you @dstarh.</p>\n\n<pre><code>import java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.security.NoSuchProviderException;\nimport java.security.SecureRandom;\nimport java.security.Security;\nimport java.util.Date;\nimport java.util.Iterator;\n\nimport org.bouncycastle.bcpg.ArmoredOutputStream;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.openpgp.PGPCompressedData;\nimport org.bouncycastle.openpgp.PGPCompressedDataGenerator;\nimport org.bouncycastle.openpgp.PGPEncryptedData;\nimport org.bouncycastle.openpgp.PGPEncryptedDataGenerator;\nimport org.bouncycastle.openpgp.PGPEncryptedDataList;\nimport org.bouncycastle.openpgp.PGPException;\nimport org.bouncycastle.openpgp.PGPLiteralData;\nimport org.bouncycastle.openpgp.PGPLiteralDataGenerator;\nimport org.bouncycastle.openpgp.PGPObjectFactory;\nimport org.bouncycastle.openpgp.PGPPrivateKey;\nimport org.bouncycastle.openpgp.PGPPublicKey;\nimport org.bouncycastle.openpgp.PGPPublicKeyEncryptedData;\nimport org.bouncycastle.openpgp.PGPPublicKeyRing;\nimport org.bouncycastle.openpgp.PGPPublicKeyRingCollection;\nimport org.bouncycastle.openpgp.PGPSecretKey;\nimport org.bouncycastle.openpgp.PGPSecretKeyRingCollection;\nimport org.bouncycastle.openpgp.PGPUtil;\n\n/**\n * Simple routine to encrypt and decrypt using a Public and Private key with passphrase. This service\n * routine provides the basic PGP services between byte arrays.\n * \n */\npublic class PgpEncryption {\n\n    public PgpEncryption() {\n        // Empty constructor\n    }\n\n    private static PGPPrivateKey findSecretKey(\n            PGPSecretKeyRingCollection pgpSec, long keyID, char[] pass)\n            throws PGPException, NoSuchProviderException {\n        PGPSecretKey pgpSecKey = pgpSec.getSecretKey(keyID);\n\n        if (pgpSecKey == null) {\n            return null;\n        }\n\n        return pgpSecKey.extractPrivateKey(pass, \"BC\");\n    }\n\n    /**\n     * decrypt the passed in message stream\n     * \n     * @param encrypted\n     *            The message to be decrypted.\n     * @param passPhrase\n     *            Pass phrase (key)\n     * \n     * @return Clear text as a byte array. I18N considerations are not handled\n     *         by this routine\n     * @exception IOException\n     * @exception PGPException\n     * @exception NoSuchProviderException\n     */\n    public static byte[] decrypt(byte[] encrypted, InputStream keyIn, char[] password)\n            throws IOException, PGPException, NoSuchProviderException {\n        InputStream in = new ByteArrayInputStream(encrypted);\n\n        in = PGPUtil.getDecoderStream(in);\n\n        PGPObjectFactory pgpF = new PGPObjectFactory(in);\n        PGPEncryptedDataList enc = null;\n        Object o = pgpF.nextObject();\n\n        //\n        // the first object might be a PGP marker packet.\n        //\n        if (o instanceof PGPEncryptedDataList) {\n            enc = (PGPEncryptedDataList) o;\n        } else {\n            enc = (PGPEncryptedDataList) pgpF.nextObject();\n        }\n\n\n\n        //\n        // find the secret key\n        //\n        Iterator it = enc.getEncryptedDataObjects();\n        PGPPrivateKey sKey = null;\n        PGPPublicKeyEncryptedData pbe = null;\n        PGPSecretKeyRingCollection pgpSec = new PGPSecretKeyRingCollection(\n                PGPUtil.getDecoderStream(keyIn));\n\n        while (sKey == null &amp;&amp; it.hasNext()) {\n            pbe = (PGPPublicKeyEncryptedData) it.next();\n\n            sKey = findSecretKey(pgpSec, pbe.getKeyID(), password);\n        }\n\n        if (sKey == null) {\n            throw new IllegalArgumentException(\n                    \"secret key for message not found.\");\n        }\n\n        InputStream clear = pbe.getDataStream(sKey, \"BC\");\n\n\n\n        PGPObjectFactory pgpFact = new PGPObjectFactory(clear);\n\n        PGPCompressedData cData = (PGPCompressedData) pgpFact.nextObject();\n\n        pgpFact = new PGPObjectFactory(cData.getDataStream());\n\n        PGPLiteralData ld = (PGPLiteralData) pgpFact.nextObject();\n\n        InputStream unc = ld.getInputStream();\n\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        int ch;\n\n        while ((ch = unc.read()) &gt;= 0) {\n            out.write(ch);\n\n        }\n\n        byte[] returnBytes = out.toByteArray();\n        out.close();\n        return returnBytes;\n    }\n\n    /**\n     * Simple PGP encryptor between byte[].\n     * \n     * @param clearData\n     *            The test to be encrypted\n     * @param passPhrase\n     *            The pass phrase (key). This method assumes that the key is a\n     *            simple pass phrase, and does not yet support RSA or more\n     *            sophisiticated keying.\n     * @param fileName\n     *            File name. This is used in the Literal Data Packet (tag 11)\n     *            which is really inly important if the data is to be related to\n     *            a file to be recovered later. Because this routine does not\n     *            know the source of the information, the caller can set\n     *            something here for file name use that will be carried. If this\n     *            routine is being used to encrypt SOAP MIME bodies, for\n     *            example, use the file name from the MIME type, if applicable.\n     *            Or anything else appropriate.\n     * \n     * @param armor\n     * \n     * @return encrypted data.\n     * @exception IOException\n     * @exception PGPException\n     * @exception NoSuchProviderException\n     */\n    public static byte[] encrypt(byte[] clearData, PGPPublicKey encKey,\n            String fileName,boolean withIntegrityCheck, boolean armor)\n            throws IOException, PGPException, NoSuchProviderException {\n        if (fileName == null) {\n            fileName = PGPLiteralData.CONSOLE;\n        }\n\n        ByteArrayOutputStream encOut = new ByteArrayOutputStream();\n\n        OutputStream out = encOut;\n        if (armor) {\n            out = new ArmoredOutputStream(out);\n        }\n\n        ByteArrayOutputStream bOut = new ByteArrayOutputStream();\n\n        PGPCompressedDataGenerator comData = new PGPCompressedDataGenerator(\n                PGPCompressedDataGenerator.ZIP);\n        OutputStream cos = comData.open(bOut); // open it with the final\n        // destination\n        PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\n\n        // we want to generate compressed data. This might be a user option\n        // later,\n        // in which case we would pass in bOut.\n        OutputStream pOut = lData.open(cos, // the compressed output stream\n                PGPLiteralData.BINARY, fileName, // \"filename\" to store\n                clearData.length, // length of clear data\n                new Date() // current time\n                );\n        pOut.write(clearData);\n\n        lData.close();\n        comData.close();\n\n        PGPEncryptedDataGenerator cPk = new PGPEncryptedDataGenerator(\n                PGPEncryptedData.CAST5, withIntegrityCheck, new SecureRandom(),\n                \"BC\");\n\n        cPk.addMethod(encKey);\n\n        byte[] bytes = bOut.toByteArray();\n\n        OutputStream cOut = cPk.open(out, bytes.length);\n\n        cOut.write(bytes); // obtain the actual bytes from the compressed stream\n\n        cOut.close();\n\n        out.close();\n\n        return encOut.toByteArray();\n    }\n\n    private static PGPPublicKey readPublicKey(InputStream in)\n            throws IOException, PGPException {\n        in = PGPUtil.getDecoderStream(in);\n\n        PGPPublicKeyRingCollection pgpPub = new PGPPublicKeyRingCollection(in);\n\n        //\n        // we just loop through the collection till we find a key suitable for\n        // encryption, in the real\n        // world you would probably want to be a bit smarter about this.\n        //\n\n        //\n        // iterate through the key rings.\n        //\n        Iterator rIt = pgpPub.getKeyRings();\n\n        while (rIt.hasNext()) {\n            PGPPublicKeyRing kRing = (PGPPublicKeyRing) rIt.next();\n            Iterator kIt = kRing.getPublicKeys();\n\n            while (kIt.hasNext()) {\n                PGPPublicKey k = (PGPPublicKey) kIt.next();\n\n                if (k.isEncryptionKey()) {\n                    return k;\n                }\n            }\n        }\n\n        throw new IllegalArgumentException(\n                \"Can't find encryption key in key ring.\");\n    }\n\n    public static byte[] getBytesFromFile(File file) throws IOException {\n        InputStream is = new FileInputStream(file);\n\n        // Get the size of the file\n        long length = file.length();\n\n        if (length &gt; Integer.MAX_VALUE) {\n            // File is too large\n        }\n\n        // Create the byte array to hold the data\n        byte[] bytes = new byte[(int)length];\n\n        // Read in the bytes\n        int offset = 0;\n        int numRead = 0;\n        while (offset &lt; bytes.length\n               &amp;&amp; (numRead=is.read(bytes, offset, bytes.length-offset)) &gt;= 0) {\n            offset += numRead;\n        }\n\n        // Ensure all the bytes have been read in\n        if (offset &lt; bytes.length) {\n            throw new IOException(\"Could not completely read file \"+file.getName());\n        }\n\n        // Close the input stream and return bytes\n        is.close();\n        return bytes;\n    }\n\n    public static String encryptToFile(String inputStr, String keyFile, String outFile) throws Exception {\n        Security.addProvider(new BouncyCastleProvider());\n\n        byte[] original = inputStr.getBytes();\n\n        FileInputStream pubKey = new FileInputStream(keyFile);\n        byte[] encrypted = encrypt(original, readPublicKey(pubKey), null,\n                true, true);\n\n        FileOutputStream dfis = new FileOutputStream(outFile);\n        dfis.write(encrypted);\n        dfis.close();\n\n        return new String(encrypted);\n    }\n\n    public static String decryptFromFile(String passphrase, String keyFile, String inputFile) throws Exception {\n        Security.addProvider(new BouncyCastleProvider());\n\n        byte[] encFromFile = getBytesFromFile(new File(inputFile));\n        FileInputStream secKey = new FileInputStream(keyFile);\n\n        byte[] decrypted = decrypt(encFromFile, secKey, passphrase.toCharArray());\n\n        return new String(decrypted);\n    }\n\n    public static void main(String[] args) throws Exception {\n        String encrypted = encryptToFile(\"Hello world\",\"pub.asc\",\"enc.asc\");\n        System.out.println(\"\\nencrypted data = '\" + new String(encrypted) + \"'\");\n\n        String decrypted = decryptFromFile(\"open sesame\", \"secret.asc\", \"enc.asc\");\n        System.out.println(\"\\ndecrypted data = '\" + decrypted + \"'\");\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3006965,"reputation":4976,"user_id":2551287,"accept_rate":89,"display_name":"young-ceo"},"score":0,"creation_date":1562200723,"post_id":22789151,"comment_id":100307215,"body_markdown":"Working link: https://github.com/payneteasy/superfly/blob/master/superfly-crypto/src/main/java/com/payneteasy/superfly/crypto/pgp/PGPUtils.java","body":"Working link: <a href=\"https://github.com/payneteasy/superfly/blob/master/superfly-crypto/src/main/java/com/payneteasy/superfly/crypto/pgp/PGPUtils.java\" rel=\"nofollow noreferrer\">github.com/payneteasy/superfly/blob/master/superfly-crypto/s&zwnj;&#8203;rc/&hellip;</a>"}],"tags":[],"owner":{"account_id":3486446,"reputation":51,"user_id":2917263,"display_name":"Dima Katzir"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1396363150,"creation_date":1396363150,"answer_id":22789151,"question_id":3939447,"body_markdown":"Found at [grepcode repository - payneteasy superfly sources](http://grepcode.com/file/repo1.maven.org/maven2/com.payneteasy.superfly/superfly-crypto/1.6-1/com/payneteasy/superfly/crypto/pgp/PGPUtils.java#PGPUtils.writeBytesToLiteralData%28java.io.OutputStream%2Cchar%2Cjava.lang.String%2Cbyte%5B%5D%29)\r\n\r\n    private static void writeBytesToLiteralData(OutputStream out,\r\n        char fileType, String name, byte[] bytes) throws IOException {\r\n            PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\r\n            OutputStream pOut = lData.open(out, fileType, name,bytes.length, new Date());\r\n            pOut.write(bytes);\r\n    }\r\n","title":"How to encrypt a string/stream with bouncycastle pgp without starting with a file","body":"<p>Found at <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/com.payneteasy.superfly/superfly-crypto/1.6-1/com/payneteasy/superfly/crypto/pgp/PGPUtils.java#PGPUtils.writeBytesToLiteralData%28java.io.OutputStream%2Cchar%2Cjava.lang.String%2Cbyte%5B%5D%29\" rel=\"nofollow\">grepcode repository - payneteasy superfly sources</a></p>\n\n<pre><code>private static void writeBytesToLiteralData(OutputStream out,\n    char fileType, String name, byte[] bytes) throws IOException {\n        PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\n        OutputStream pOut = lData.open(out, fileType, name,bytes.length, new Date());\n        pOut.write(bytes);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2613618,"reputation":991,"user_id":2263214,"display_name":"Rasheed"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1539339797,"creation_date":1539339797,"answer_id":52777466,"question_id":3939447,"body_markdown":"This post may be old but this answer may be useful to someone else. To avoid writing to disk, if all you want to do is encrypt and decrypt text. You can do something like this (from the code snippet in the original post)...\r\n\r\n        // the string you will like to encrypt\r\n        byte[] original = &quot;I love programming&quot;.getBytes(); \r\n\r\n        // KeyProvider.PUBLIC_KEY this is just a string holding your public key. you can have it stored in memory or something. \r\n        byte[] encrypted = encrypt(original, readPublicKey(new ByteArrayInputStream(KeyProvider.PUBLIC_KEY.getBytes())), null, true, true); \r\n\r\n        System.out.println(new String(encrypted)); // this will output your encrypted message\r\n\r\n        //encryted here is the encrypted string in byte array you will like to decrypt and also the KeyProvider.PRIVATE_KEY is string holding your private key\r\n        byte[] decrypted = decrypt(encrypted, new ByteArrayInputStream(KeyProvider.PRIVATE_KEY.getBytes()), &quot;&quot;.toCharArray());\r\n\r\n\r\n        System.out.println(new String(decrypted)); //output the decrypted message\r\n\r\nHope this helps","title":"How to encrypt a string/stream with bouncycastle pgp without starting with a file","body":"<p>This post may be old but this answer may be useful to someone else. To avoid writing to disk, if all you want to do is encrypt and decrypt text. You can do something like this (from the code snippet in the original post)...</p>\n\n<pre><code>    // the string you will like to encrypt\n    byte[] original = \"I love programming\".getBytes(); \n\n    // KeyProvider.PUBLIC_KEY this is just a string holding your public key. you can have it stored in memory or something. \n    byte[] encrypted = encrypt(original, readPublicKey(new ByteArrayInputStream(KeyProvider.PUBLIC_KEY.getBytes())), null, true, true); \n\n    System.out.println(new String(encrypted)); // this will output your encrypted message\n\n    //encryted here is the encrypted string in byte array you will like to decrypt and also the KeyProvider.PRIVATE_KEY is string holding your private key\n    byte[] decrypted = decrypt(encrypted, new ByteArrayInputStream(KeyProvider.PRIVATE_KEY.getBytes()), \"\".toCharArray());\n\n\n    System.out.println(new String(decrypted)); //output the decrypted message\n</code></pre>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622426539,"creation_date":1622426539,"answer_id":67767170,"question_id":3939447,"body_markdown":"Here is my solution.  No file is created throughout the compress and encryption processes.\r\n\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import org.bouncycastle.openpgp.*;\r\n    \r\n    import java.io.*;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.security.NoSuchProviderException;\r\n    import java.security.SecureRandom;\r\n    import java.security.Security;\r\n    import java.util.Date;\r\n    import java.util.Iterator;\r\n    \r\n    public class PgpHelper {\r\n    \r\n        public static byte[] encrypt(String fileName, String content, String pgpPublicKey) throws IOException, PGPException, NoSuchProviderException {\r\n            Security.addProvider(new BouncyCastleProvider());\r\n    \r\n            ByteArrayOutputStream zipOut = new ByteArrayOutputStream();\r\n            PGPCompressedDataGenerator zipData = new PGPCompressedDataGenerator(PGPCompressedData.ZIP);\r\n            OutputStream zipPacket = new PGPLiteralDataGenerator()\r\n                .open(zipData.open(zipOut), PGPLiteralData.BINARY, fileName, content.length(), new Date());\r\n            zipPacket.write(content.getBytes(StandardCharsets.UTF_8));\r\n            zipPacket.close();\r\n            zipData.close();\r\n            byte[] zipBytes = zipOut.toByteArray();\r\n            zipOut.close();\r\n    \r\n            PGPEncryptedDataGenerator encryptor = new PGPEncryptedDataGenerator(\r\n                PGPEncryptedData.CAST5, true, new SecureRandom(), &quot;BC&quot;);\r\n            InputStream keyIn = new ByteArrayInputStream(pgpPublicKey.getBytes());\r\n            encryptor.addMethod(readPublicKey(keyIn));\r\n            keyIn.close();\r\n    \r\n            ByteArrayOutputStream encryptOut = new ByteArrayOutputStream();\r\n            OutputStream encryptPacket = encryptor.open(encryptOut, zipBytes.length);\r\n            encryptPacket.write(zipBytes);\r\n            encryptPacket.close();\r\n            byte[] encryptBytes = encryptOut.toByteArray();\r\n            encryptOut.close();\r\n            return encryptBytes;\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        private static PGPPublicKey readPublicKey(InputStream in) throws IOException, PGPException {\r\n            PGPPublicKeyRingCollection pgpPub = new PGPPublicKeyRingCollection(PGPUtil.getDecoderStream(in));\r\n            Iterator&lt;PGPPublicKeyRing&gt; itKeyRings = pgpPub.getKeyRings();\r\n            while (itKeyRings.hasNext()) {\r\n                PGPPublicKeyRing keyRing = itKeyRings.next();\r\n                Iterator&lt;PGPPublicKey&gt; itKeys = keyRing.getPublicKeys();\r\n                while (itKeys.hasNext()) {\r\n                    PGPPublicKey key = itKeys.next();\r\n                    if (key.isEncryptionKey()) {\r\n                        return key;\r\n                    }\r\n                }\r\n            }\r\n            throw new IllegalArgumentException(&quot;Can&#39;t find encryption key in key ring.&quot;);\r\n        }\r\n    }\r\n\r\n","title":"How to encrypt a string/stream with bouncycastle pgp without starting with a file","body":"<p>Here is my solution.  No file is created throughout the compress and encryption processes.</p>\n<pre><code>import org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.openpgp.*;\n\nimport java.io.*;\nimport java.nio.charset.StandardCharsets;\nimport java.security.NoSuchProviderException;\nimport java.security.SecureRandom;\nimport java.security.Security;\nimport java.util.Date;\nimport java.util.Iterator;\n\npublic class PgpHelper {\n\n    public static byte[] encrypt(String fileName, String content, String pgpPublicKey) throws IOException, PGPException, NoSuchProviderException {\n        Security.addProvider(new BouncyCastleProvider());\n\n        ByteArrayOutputStream zipOut = new ByteArrayOutputStream();\n        PGPCompressedDataGenerator zipData = new PGPCompressedDataGenerator(PGPCompressedData.ZIP);\n        OutputStream zipPacket = new PGPLiteralDataGenerator()\n            .open(zipData.open(zipOut), PGPLiteralData.BINARY, fileName, content.length(), new Date());\n        zipPacket.write(content.getBytes(StandardCharsets.UTF_8));\n        zipPacket.close();\n        zipData.close();\n        byte[] zipBytes = zipOut.toByteArray();\n        zipOut.close();\n\n        PGPEncryptedDataGenerator encryptor = new PGPEncryptedDataGenerator(\n            PGPEncryptedData.CAST5, true, new SecureRandom(), &quot;BC&quot;);\n        InputStream keyIn = new ByteArrayInputStream(pgpPublicKey.getBytes());\n        encryptor.addMethod(readPublicKey(keyIn));\n        keyIn.close();\n\n        ByteArrayOutputStream encryptOut = new ByteArrayOutputStream();\n        OutputStream encryptPacket = encryptor.open(encryptOut, zipBytes.length);\n        encryptPacket.write(zipBytes);\n        encryptPacket.close();\n        byte[] encryptBytes = encryptOut.toByteArray();\n        encryptOut.close();\n        return encryptBytes;\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    private static PGPPublicKey readPublicKey(InputStream in) throws IOException, PGPException {\n        PGPPublicKeyRingCollection pgpPub = new PGPPublicKeyRingCollection(PGPUtil.getDecoderStream(in));\n        Iterator&lt;PGPPublicKeyRing&gt; itKeyRings = pgpPub.getKeyRings();\n        while (itKeyRings.hasNext()) {\n            PGPPublicKeyRing keyRing = itKeyRings.next();\n            Iterator&lt;PGPPublicKey&gt; itKeys = keyRing.getPublicKeys();\n            while (itKeys.hasNext()) {\n                PGPPublicKey key = itKeys.next();\n                if (key.isEncryptionKey()) {\n                    return key;\n                }\n            }\n        }\n        throw new IllegalArgumentException(&quot;Can't find encryption key in key ring.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8810132,"reputation":245,"user_id":6583432,"display_name":"Malkeith Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668259133,"creation_date":1668259133,"answer_id":74413277,"question_id":3939447,"body_markdown":"I also had the exact same use case, where I could not store the unencrypted data anywhere and I had to encrypt both bytes and inputstream. So I wrote a utility for it:\r\n\r\nFeel free to browse and use whatever chunk of code of code you want. Hope it helps !\r\n\r\nHere is the [repo link][1]\r\n\r\nThe [readme.md][2] contains instructions on how to use it\r\n\r\n[Here][3] is also a full fledged article on it.\r\n\r\nBelow is a snippet of the [test class][4], where I have working test cases for the **PGP encryption and decryption** of **bytes**, **inputstreams**, **outputstreams** and **files** which I guess covers every use case.\r\n\r\n\r\n    @Test\r\n    public void testByteEncryption() throws IOException, PGPException {\r\n        // Encrypting the test bytes\r\n        byte[] encryptedBytes = pgpEncryptionUtil.encrypt(testString.getBytes(Charset.defaultCharset()),\r\n                publicKey.openStream());\r\n        // Decrypting the generated encrypted bytes\r\n        byte[] decryptedBytes = pgpDecryptionUtil.decrypt(encryptedBytes);\r\n        // Comparing the original test string with string generated using the decrypted bytes\r\n        assertEquals(testString, new String(decryptedBytes, Charset.defaultCharset()));\r\n    }\r\n\r\n    @Test\r\n    public void testFileEncryption() throws IOException, URISyntaxException, PGPException {\r\n        // Generating a pgp encrypted temp file from the test file\r\n        File encryptedFile = tempFolder.newFile();\r\n        File originalFile = new File(testFile.toURI());\r\n        try (OutputStream fos = Files.newOutputStream(encryptedFile.toPath())) {\r\n            pgpEncryptionUtil.encrypt(fos, Files.newInputStream(originalFile.toPath()), originalFile.length(),\r\n                    publicKey.openStream());\r\n        }\r\n        // Decrypting the generated pgp encrypted temp file and writing to another temp file\r\n        File decryptedFile = tempFolder.newFile();\r\n        pgpDecryptionUtil.decrypt(Files.newInputStream(encryptedFile.toPath()),\r\n                Files.newOutputStream(decryptedFile.toPath()));\r\n        // Comparing the original file contents with the decrypted file contents\r\n        assertEquals(IOUtils.toString(Files.newInputStream(originalFile.toPath()), Charset.defaultCharset()),\r\n                IOUtils.toString(Files.newInputStream(decryptedFile.toPath()), Charset.defaultCharset()));\r\n    }\r\n\r\n    @Test\r\n    public void testInputStreamEncryption() throws IOException, URISyntaxException, PGPException {\r\n        // Generating a pgp encrypted input stream from the test file\r\n        File originalFile = new File(testFile.toURI());\r\n        InputStream encryptedIn = pgpEncryptionUtil.encrypt(Files.newInputStream(originalFile.toPath()),\r\n                originalFile.length(), publicKey.openStream());\r\n        // Decrypting the generated input stream and writing to a temp file\r\n        File decryptedFile = tempFolder.newFile();\r\n        pgpDecryptionUtil.decrypt(encryptedIn, Files.newOutputStream(decryptedFile.toPath()));\r\n        // Comparing the original file contents with the decrypted file contents\r\n        assertEquals(IOUtils.toString(Files.newInputStream(originalFile.toPath()), Charset.defaultCharset()),\r\n                IOUtils.toString(Files.newInputStream(decryptedFile.toPath()), Charset.defaultCharset()));\r\n    }\r\n\r\n\r\n\r\n  [1]: https://github.com/keith0591/pgp-encryption\r\n  [2]: https://github.com/keith0591/pgp-encryption/blob/main/README.md\r\n  [3]: https://medium.com/@kthsingh.ms/encrypt-and-decrypt-anything-bytes-files-streams-with-pgp-using-bouncy-castle-and-java-ad335ae9f747\r\n  [4]: https://github.com/keith0591/pgp-encryption/blob/main/src/test/java/com/malkeith/pgpUtils/PgpEncryptionTest.java","title":"How to encrypt a string/stream with bouncycastle pgp without starting with a file","body":"<p>I also had the exact same use case, where I could not store the unencrypted data anywhere and I had to encrypt both bytes and inputstream. So I wrote a utility for it:</p>\n<p>Feel free to browse and use whatever chunk of code of code you want. Hope it helps !</p>\n<p>Here is the <a href=\"https://github.com/keith0591/pgp-encryption\" rel=\"nofollow noreferrer\">repo link</a></p>\n<p>The <a href=\"https://github.com/keith0591/pgp-encryption/blob/main/README.md\" rel=\"nofollow noreferrer\">readme.md</a> contains instructions on how to use it</p>\n<p><a href=\"https://medium.com/@kthsingh.ms/encrypt-and-decrypt-anything-bytes-files-streams-with-pgp-using-bouncy-castle-and-java-ad335ae9f747\" rel=\"nofollow noreferrer\">Here</a> is also a full fledged article on it.</p>\n<p>Below is a snippet of the <a href=\"https://github.com/keith0591/pgp-encryption/blob/main/src/test/java/com/malkeith/pgpUtils/PgpEncryptionTest.java\" rel=\"nofollow noreferrer\">test class</a>, where I have working test cases for the <strong>PGP encryption and decryption</strong> of <strong>bytes</strong>, <strong>inputstreams</strong>, <strong>outputstreams</strong> and <strong>files</strong> which I guess covers every use case.</p>\n<pre><code>@Test\npublic void testByteEncryption() throws IOException, PGPException {\n    // Encrypting the test bytes\n    byte[] encryptedBytes = pgpEncryptionUtil.encrypt(testString.getBytes(Charset.defaultCharset()),\n            publicKey.openStream());\n    // Decrypting the generated encrypted bytes\n    byte[] decryptedBytes = pgpDecryptionUtil.decrypt(encryptedBytes);\n    // Comparing the original test string with string generated using the decrypted bytes\n    assertEquals(testString, new String(decryptedBytes, Charset.defaultCharset()));\n}\n\n@Test\npublic void testFileEncryption() throws IOException, URISyntaxException, PGPException {\n    // Generating a pgp encrypted temp file from the test file\n    File encryptedFile = tempFolder.newFile();\n    File originalFile = new File(testFile.toURI());\n    try (OutputStream fos = Files.newOutputStream(encryptedFile.toPath())) {\n        pgpEncryptionUtil.encrypt(fos, Files.newInputStream(originalFile.toPath()), originalFile.length(),\n                publicKey.openStream());\n    }\n    // Decrypting the generated pgp encrypted temp file and writing to another temp file\n    File decryptedFile = tempFolder.newFile();\n    pgpDecryptionUtil.decrypt(Files.newInputStream(encryptedFile.toPath()),\n            Files.newOutputStream(decryptedFile.toPath()));\n    // Comparing the original file contents with the decrypted file contents\n    assertEquals(IOUtils.toString(Files.newInputStream(originalFile.toPath()), Charset.defaultCharset()),\n            IOUtils.toString(Files.newInputStream(decryptedFile.toPath()), Charset.defaultCharset()));\n}\n\n@Test\npublic void testInputStreamEncryption() throws IOException, URISyntaxException, PGPException {\n    // Generating a pgp encrypted input stream from the test file\n    File originalFile = new File(testFile.toURI());\n    InputStream encryptedIn = pgpEncryptionUtil.encrypt(Files.newInputStream(originalFile.toPath()),\n            originalFile.length(), publicKey.openStream());\n    // Decrypting the generated input stream and writing to a temp file\n    File decryptedFile = tempFolder.newFile();\n    pgpDecryptionUtil.decrypt(encryptedIn, Files.newOutputStream(decryptedFile.toPath()));\n    // Comparing the original file contents with the decrypted file contents\n    assertEquals(IOUtils.toString(Files.newInputStream(originalFile.toPath()), Charset.defaultCharset()),\n            IOUtils.toString(Files.newInputStream(decryptedFile.toPath()), Charset.defaultCharset()));\n}\n</code></pre>\n"}],"owner":{"account_id":46937,"reputation":4996,"user_id":138883,"accept_rate":90,"display_name":"dstarh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55621,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":3939475,"answer_count":6,"score":45,"last_activity_date":1668259133,"creation_date":1287115786,"question_id":3939447,"body_markdown":"I need to encrypt a stream with pgp using the bouncycastle provider.  All of the examples I can find are about taking a plain text file and encrypting that however I won&#39;t have a file and it&#39;s important that the plain text never be written to disk.\r\n\r\nMost of the methods I&#39;ve seen are using\r\n\r\nPGPUtil.writeFileToLiteralData which wants the plaintext passed in.  I&#39;d rather passin a byte[] or an inputStream.\r\n\r\nCan someone point me to an example that \r\n\r\n - starts from string/byte[]/inputstream\r\n - encrypts said string/byte[] to an outputStrem that I can write to a file\r\n - decrypts from an inputStream\r\n\r\nIn case anyone else stumbles upon this and wants the full solution\r\n\r\n\r\n    package com.common.security.pgp;\r\n    \r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.security.NoSuchProviderException;\r\n    import java.security.SecureRandom;\r\n    import java.security.Security;\r\n    import java.util.Date;\r\n    import java.util.Iterator;\r\n    \r\n    import org.bouncycastle.bcpg.ArmoredOutputStream;\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import org.bouncycastle.openpgp.PGPCompressedData;\r\n    import org.bouncycastle.openpgp.PGPCompressedDataGenerator;\r\n    import org.bouncycastle.openpgp.PGPEncryptedData;\r\n    import org.bouncycastle.openpgp.PGPEncryptedDataGenerator;\r\n    import org.bouncycastle.openpgp.PGPEncryptedDataList;\r\n    import org.bouncycastle.openpgp.PGPException;\r\n    import org.bouncycastle.openpgp.PGPLiteralData;\r\n    import org.bouncycastle.openpgp.PGPLiteralDataGenerator;\r\n    import org.bouncycastle.openpgp.PGPObjectFactory;\r\n    import org.bouncycastle.openpgp.PGPPrivateKey;\r\n    import org.bouncycastle.openpgp.PGPPublicKey;\r\n    import org.bouncycastle.openpgp.PGPPublicKeyEncryptedData;\r\n    import org.bouncycastle.openpgp.PGPPublicKeyRing;\r\n    import org.bouncycastle.openpgp.PGPPublicKeyRingCollection;\r\n    import org.bouncycastle.openpgp.PGPSecretKey;\r\n    import org.bouncycastle.openpgp.PGPSecretKeyRingCollection;\r\n    import org.bouncycastle.openpgp.PGPUtil;\r\n    \r\n    /**\r\n     * Simple routine to encrypt and decrypt using a Public and Private key with passphrase. This service\r\n     * routine provides the basic PGP services between byte arrays.\r\n     * \r\n     */\r\n    public class PgpEncryption {\r\n    \r\n    \r\n        private static PGPPrivateKey findSecretKey(\r\n                PGPSecretKeyRingCollection pgpSec, long keyID, char[] pass)\r\n                throws PGPException, NoSuchProviderException {\r\n            PGPSecretKey pgpSecKey = pgpSec.getSecretKey(keyID);\r\n    \r\n            if (pgpSecKey == null) {\r\n                return null;\r\n            }\r\n    \r\n            return pgpSecKey.extractPrivateKey(pass, &quot;BC&quot;);\r\n        }\r\n    \r\n        /**\r\n         * decrypt the passed in message stream\r\n         * \r\n         * @param encrypted\r\n         *            The message to be decrypted.\r\n         * @param passPhrase\r\n         *            Pass phrase (key)\r\n         * \r\n         * @return Clear text as a byte array. I18N considerations are not handled\r\n         *         by this routine\r\n         * @exception IOException\r\n         * @exception PGPException\r\n         * @exception NoSuchProviderException\r\n         */\r\n        public static byte[] decrypt(byte[] encrypted, InputStream keyIn, char[] password)\r\n                throws IOException, PGPException, NoSuchProviderException {\r\n            InputStream in = new ByteArrayInputStream(encrypted);\r\n    \r\n            in = PGPUtil.getDecoderStream(in);\r\n    \r\n            PGPObjectFactory pgpF = new PGPObjectFactory(in);\r\n            PGPEncryptedDataList enc = null;\r\n            Object o = pgpF.nextObject();\r\n    \r\n            //\r\n            // the first object might be a PGP marker packet.\r\n            //\r\n            if (o instanceof PGPEncryptedDataList) {\r\n                enc = (PGPEncryptedDataList) o;\r\n            } else {\r\n                enc = (PGPEncryptedDataList) pgpF.nextObject();\r\n            }\r\n    \r\n    \r\n    \r\n            //\r\n            // find the secret key\r\n            //\r\n            Iterator it = enc.getEncryptedDataObjects();\r\n            PGPPrivateKey sKey = null;\r\n            PGPPublicKeyEncryptedData pbe = null;\r\n            PGPSecretKeyRingCollection pgpSec = new PGPSecretKeyRingCollection(\r\n                    PGPUtil.getDecoderStream(keyIn));\r\n    \r\n            while (sKey == null &amp;&amp; it.hasNext()) {\r\n                pbe = (PGPPublicKeyEncryptedData) it.next();\r\n    \r\n                sKey = findSecretKey(pgpSec, pbe.getKeyID(), password);\r\n            }\r\n    \r\n            if (sKey == null) {\r\n                throw new IllegalArgumentException(\r\n                        &quot;secret key for message not found.&quot;);\r\n            }\r\n    \r\n            InputStream clear = pbe.getDataStream(sKey, &quot;BC&quot;);\r\n    \r\n    \r\n    \r\n            PGPObjectFactory pgpFact = new PGPObjectFactory(clear);\r\n    \r\n            PGPCompressedData cData = (PGPCompressedData) pgpFact.nextObject();\r\n    \r\n            pgpFact = new PGPObjectFactory(cData.getDataStream());\r\n    \r\n            PGPLiteralData ld = (PGPLiteralData) pgpFact.nextObject();\r\n    \r\n            InputStream unc = ld.getInputStream();\r\n    \r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            int ch;\r\n    \r\n            while ((ch = unc.read()) &gt;= 0) {\r\n                out.write(ch);\r\n    \r\n            }\r\n    \r\n            byte[] returnBytes = out.toByteArray();\r\n            out.close();\r\n            return returnBytes;\r\n        }\r\n    \r\n        /**\r\n         * Simple PGP encryptor between byte[].\r\n         * \r\n         * @param clearData\r\n         *            The test to be encrypted\r\n         * @param passPhrase\r\n         *            The pass phrase (key). This method assumes that the key is a\r\n         *            simple pass phrase, and does not yet support RSA or more\r\n         *            sophisiticated keying.\r\n         * @param fileName\r\n         *            File name. This is used in the Literal Data Packet (tag 11)\r\n         *            which is really inly important if the data is to be related to\r\n         *            a file to be recovered later. Because this routine does not\r\n         *            know the source of the information, the caller can set\r\n         *            something here for file name use that will be carried. If this\r\n         *            routine is being used to encrypt SOAP MIME bodies, for\r\n         *            example, use the file name from the MIME type, if applicable.\r\n         *            Or anything else appropriate.\r\n         * \r\n         * @param armor\r\n         * \r\n         * @return encrypted data.\r\n         * @exception IOException\r\n         * @exception PGPException\r\n         * @exception NoSuchProviderException\r\n         */\r\n        public static byte[] encrypt(byte[] clearData, PGPPublicKey encKey,\r\n                String fileName,boolean withIntegrityCheck, boolean armor)\r\n                throws IOException, PGPException, NoSuchProviderException {\r\n            if (fileName == null) {\r\n                fileName = PGPLiteralData.CONSOLE;\r\n            }\r\n    \r\n            ByteArrayOutputStream encOut = new ByteArrayOutputStream();\r\n    \r\n            OutputStream out = encOut;\r\n            if (armor) {\r\n                out = new ArmoredOutputStream(out);\r\n            }\r\n    \r\n            ByteArrayOutputStream bOut = new ByteArrayOutputStream();\r\n    \r\n            PGPCompressedDataGenerator comData = new PGPCompressedDataGenerator(\r\n                    PGPCompressedDataGenerator.ZIP);\r\n            OutputStream cos = comData.open(bOut); // open it with the final\r\n            // destination\r\n            PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\r\n    \r\n            // we want to generate compressed data. This might be a user option\r\n            // later,\r\n            // in which case we would pass in bOut.\r\n            OutputStream pOut = lData.open(cos, // the compressed output stream\r\n                    PGPLiteralData.BINARY, fileName, // &quot;filename&quot; to store\r\n                    clearData.length, // length of clear data\r\n                    new Date() // current time\r\n                    );\r\n            pOut.write(clearData);\r\n    \r\n            lData.close();\r\n            comData.close();\r\n    \r\n            PGPEncryptedDataGenerator cPk = new PGPEncryptedDataGenerator(\r\n                    PGPEncryptedData.CAST5, withIntegrityCheck, new SecureRandom(),\r\n                    &quot;BC&quot;);\r\n    \r\n            cPk.addMethod(encKey);\r\n    \r\n            byte[] bytes = bOut.toByteArray();\r\n    \r\n            OutputStream cOut = cPk.open(out, bytes.length);\r\n    \r\n            cOut.write(bytes); // obtain the actual bytes from the compressed stream\r\n    \r\n            cOut.close();\r\n    \r\n            out.close();\r\n    \r\n            return encOut.toByteArray();\r\n        }\r\n    \r\n        private static PGPPublicKey readPublicKey(InputStream in)\r\n                throws IOException, PGPException {\r\n            in = PGPUtil.getDecoderStream(in);\r\n    \r\n            PGPPublicKeyRingCollection pgpPub = new PGPPublicKeyRingCollection(in);\r\n    \r\n            //\r\n            // we just loop through the collection till we find a key suitable for\r\n            // encryption, in the real\r\n            // world you would probably want to be a bit smarter about this.\r\n            //\r\n    \r\n            //\r\n            // iterate through the key rings.\r\n            //\r\n            Iterator rIt = pgpPub.getKeyRings();\r\n    \r\n            while (rIt.hasNext()) {\r\n                PGPPublicKeyRing kRing = (PGPPublicKeyRing) rIt.next();\r\n                Iterator kIt = kRing.getPublicKeys();\r\n    \r\n                while (kIt.hasNext()) {\r\n                    PGPPublicKey k = (PGPPublicKey) kIt.next();\r\n    \r\n                    if (k.isEncryptionKey()) {\r\n                        return k;\r\n                    }\r\n                }\r\n            }\r\n    \r\n            throw new IllegalArgumentException(\r\n                    &quot;Can&#39;t find encryption key in key ring.&quot;);\r\n        }\r\n    \r\n        public static byte[] getBytesFromFile(File file) throws IOException {\r\n            InputStream is = new FileInputStream(file);\r\n    \r\n            // Get the size of the file\r\n            long length = file.length();\r\n    \r\n            if (length &gt; Integer.MAX_VALUE) {\r\n                // File is too large\r\n            }\r\n    \r\n            // Create the byte array to hold the data\r\n            byte[] bytes = new byte[(int)length];\r\n    \r\n            // Read in the bytes\r\n            int offset = 0;\r\n            int numRead = 0;\r\n            while (offset &lt; bytes.length\r\n                   &amp;&amp; (numRead=is.read(bytes, offset, bytes.length-offset)) &gt;= 0) {\r\n                offset += numRead;\r\n            }\r\n    \r\n            // Ensure all the bytes have been read in\r\n            if (offset &lt; bytes.length) {\r\n                throw new IOException(&quot;Could not completely read file &quot;+file.getName());\r\n            }\r\n    \r\n            // Close the input stream and return bytes\r\n            is.close();\r\n            return bytes;\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            Security.addProvider(new BouncyCastleProvider());\r\n    \r\n    \r\n            byte[] original = &quot;Hello world&quot;.getBytes();\r\n            System.out.println(&quot;Starting PGP test&quot;);\r\n    \r\n            FileInputStream pubKey = new FileInputStream(&quot;/Users/me/pub.key&quot;);\r\n            byte[] encrypted = encrypt(original, readPublicKey(pubKey), null,\r\n                    true, true);\r\n    \r\n            FileOutputStream dfis = new FileOutputStream(&quot;/Users/me/enc.asc&quot;);\r\n            dfis.write(encrypted);\r\n            dfis.close();\r\n    \r\n            byte[] encFromFile = getBytesFromFile(new File(&quot;/Users/me/enc.asc&quot;));\r\n            FileInputStream secKey = new FileInputStream(&quot;/Users/me/sec.key&quot;);\r\n    \r\n            System.out.println(&quot;\\nencrypted data = &#39;&quot; + new String(encrypted) + &quot;&#39;&quot;);\r\n    \r\n            byte[] decrypted = decrypt(encFromFile, secKey, &quot;passphrase&quot;.toCharArray());\r\n    \r\n            System.out.println(&quot;\\ndecrypted data = &#39;&quot; + new String(decrypted) + &quot;&#39;&quot;);\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n","title":"How to encrypt a string/stream with bouncycastle pgp without starting with a file","body":"<p>I need to encrypt a stream with pgp using the bouncycastle provider.  All of the examples I can find are about taking a plain text file and encrypting that however I won't have a file and it's important that the plain text never be written to disk.</p>\n\n<p>Most of the methods I've seen are using</p>\n\n<p>PGPUtil.writeFileToLiteralData which wants the plaintext passed in.  I'd rather passin a byte[] or an inputStream.</p>\n\n<p>Can someone point me to an example that </p>\n\n<ul>\n<li>starts from string/byte[]/inputstream</li>\n<li>encrypts said string/byte[] to an outputStrem that I can write to a file</li>\n<li>decrypts from an inputStream</li>\n</ul>\n\n<p>In case anyone else stumbles upon this and wants the full solution</p>\n\n<pre><code>package com.common.security.pgp;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.security.NoSuchProviderException;\nimport java.security.SecureRandom;\nimport java.security.Security;\nimport java.util.Date;\nimport java.util.Iterator;\n\nimport org.bouncycastle.bcpg.ArmoredOutputStream;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.openpgp.PGPCompressedData;\nimport org.bouncycastle.openpgp.PGPCompressedDataGenerator;\nimport org.bouncycastle.openpgp.PGPEncryptedData;\nimport org.bouncycastle.openpgp.PGPEncryptedDataGenerator;\nimport org.bouncycastle.openpgp.PGPEncryptedDataList;\nimport org.bouncycastle.openpgp.PGPException;\nimport org.bouncycastle.openpgp.PGPLiteralData;\nimport org.bouncycastle.openpgp.PGPLiteralDataGenerator;\nimport org.bouncycastle.openpgp.PGPObjectFactory;\nimport org.bouncycastle.openpgp.PGPPrivateKey;\nimport org.bouncycastle.openpgp.PGPPublicKey;\nimport org.bouncycastle.openpgp.PGPPublicKeyEncryptedData;\nimport org.bouncycastle.openpgp.PGPPublicKeyRing;\nimport org.bouncycastle.openpgp.PGPPublicKeyRingCollection;\nimport org.bouncycastle.openpgp.PGPSecretKey;\nimport org.bouncycastle.openpgp.PGPSecretKeyRingCollection;\nimport org.bouncycastle.openpgp.PGPUtil;\n\n/**\n * Simple routine to encrypt and decrypt using a Public and Private key with passphrase. This service\n * routine provides the basic PGP services between byte arrays.\n * \n */\npublic class PgpEncryption {\n\n\n    private static PGPPrivateKey findSecretKey(\n            PGPSecretKeyRingCollection pgpSec, long keyID, char[] pass)\n            throws PGPException, NoSuchProviderException {\n        PGPSecretKey pgpSecKey = pgpSec.getSecretKey(keyID);\n\n        if (pgpSecKey == null) {\n            return null;\n        }\n\n        return pgpSecKey.extractPrivateKey(pass, \"BC\");\n    }\n\n    /**\n     * decrypt the passed in message stream\n     * \n     * @param encrypted\n     *            The message to be decrypted.\n     * @param passPhrase\n     *            Pass phrase (key)\n     * \n     * @return Clear text as a byte array. I18N considerations are not handled\n     *         by this routine\n     * @exception IOException\n     * @exception PGPException\n     * @exception NoSuchProviderException\n     */\n    public static byte[] decrypt(byte[] encrypted, InputStream keyIn, char[] password)\n            throws IOException, PGPException, NoSuchProviderException {\n        InputStream in = new ByteArrayInputStream(encrypted);\n\n        in = PGPUtil.getDecoderStream(in);\n\n        PGPObjectFactory pgpF = new PGPObjectFactory(in);\n        PGPEncryptedDataList enc = null;\n        Object o = pgpF.nextObject();\n\n        //\n        // the first object might be a PGP marker packet.\n        //\n        if (o instanceof PGPEncryptedDataList) {\n            enc = (PGPEncryptedDataList) o;\n        } else {\n            enc = (PGPEncryptedDataList) pgpF.nextObject();\n        }\n\n\n\n        //\n        // find the secret key\n        //\n        Iterator it = enc.getEncryptedDataObjects();\n        PGPPrivateKey sKey = null;\n        PGPPublicKeyEncryptedData pbe = null;\n        PGPSecretKeyRingCollection pgpSec = new PGPSecretKeyRingCollection(\n                PGPUtil.getDecoderStream(keyIn));\n\n        while (sKey == null &amp;&amp; it.hasNext()) {\n            pbe = (PGPPublicKeyEncryptedData) it.next();\n\n            sKey = findSecretKey(pgpSec, pbe.getKeyID(), password);\n        }\n\n        if (sKey == null) {\n            throw new IllegalArgumentException(\n                    \"secret key for message not found.\");\n        }\n\n        InputStream clear = pbe.getDataStream(sKey, \"BC\");\n\n\n\n        PGPObjectFactory pgpFact = new PGPObjectFactory(clear);\n\n        PGPCompressedData cData = (PGPCompressedData) pgpFact.nextObject();\n\n        pgpFact = new PGPObjectFactory(cData.getDataStream());\n\n        PGPLiteralData ld = (PGPLiteralData) pgpFact.nextObject();\n\n        InputStream unc = ld.getInputStream();\n\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        int ch;\n\n        while ((ch = unc.read()) &gt;= 0) {\n            out.write(ch);\n\n        }\n\n        byte[] returnBytes = out.toByteArray();\n        out.close();\n        return returnBytes;\n    }\n\n    /**\n     * Simple PGP encryptor between byte[].\n     * \n     * @param clearData\n     *            The test to be encrypted\n     * @param passPhrase\n     *            The pass phrase (key). This method assumes that the key is a\n     *            simple pass phrase, and does not yet support RSA or more\n     *            sophisiticated keying.\n     * @param fileName\n     *            File name. This is used in the Literal Data Packet (tag 11)\n     *            which is really inly important if the data is to be related to\n     *            a file to be recovered later. Because this routine does not\n     *            know the source of the information, the caller can set\n     *            something here for file name use that will be carried. If this\n     *            routine is being used to encrypt SOAP MIME bodies, for\n     *            example, use the file name from the MIME type, if applicable.\n     *            Or anything else appropriate.\n     * \n     * @param armor\n     * \n     * @return encrypted data.\n     * @exception IOException\n     * @exception PGPException\n     * @exception NoSuchProviderException\n     */\n    public static byte[] encrypt(byte[] clearData, PGPPublicKey encKey,\n            String fileName,boolean withIntegrityCheck, boolean armor)\n            throws IOException, PGPException, NoSuchProviderException {\n        if (fileName == null) {\n            fileName = PGPLiteralData.CONSOLE;\n        }\n\n        ByteArrayOutputStream encOut = new ByteArrayOutputStream();\n\n        OutputStream out = encOut;\n        if (armor) {\n            out = new ArmoredOutputStream(out);\n        }\n\n        ByteArrayOutputStream bOut = new ByteArrayOutputStream();\n\n        PGPCompressedDataGenerator comData = new PGPCompressedDataGenerator(\n                PGPCompressedDataGenerator.ZIP);\n        OutputStream cos = comData.open(bOut); // open it with the final\n        // destination\n        PGPLiteralDataGenerator lData = new PGPLiteralDataGenerator();\n\n        // we want to generate compressed data. This might be a user option\n        // later,\n        // in which case we would pass in bOut.\n        OutputStream pOut = lData.open(cos, // the compressed output stream\n                PGPLiteralData.BINARY, fileName, // \"filename\" to store\n                clearData.length, // length of clear data\n                new Date() // current time\n                );\n        pOut.write(clearData);\n\n        lData.close();\n        comData.close();\n\n        PGPEncryptedDataGenerator cPk = new PGPEncryptedDataGenerator(\n                PGPEncryptedData.CAST5, withIntegrityCheck, new SecureRandom(),\n                \"BC\");\n\n        cPk.addMethod(encKey);\n\n        byte[] bytes = bOut.toByteArray();\n\n        OutputStream cOut = cPk.open(out, bytes.length);\n\n        cOut.write(bytes); // obtain the actual bytes from the compressed stream\n\n        cOut.close();\n\n        out.close();\n\n        return encOut.toByteArray();\n    }\n\n    private static PGPPublicKey readPublicKey(InputStream in)\n            throws IOException, PGPException {\n        in = PGPUtil.getDecoderStream(in);\n\n        PGPPublicKeyRingCollection pgpPub = new PGPPublicKeyRingCollection(in);\n\n        //\n        // we just loop through the collection till we find a key suitable for\n        // encryption, in the real\n        // world you would probably want to be a bit smarter about this.\n        //\n\n        //\n        // iterate through the key rings.\n        //\n        Iterator rIt = pgpPub.getKeyRings();\n\n        while (rIt.hasNext()) {\n            PGPPublicKeyRing kRing = (PGPPublicKeyRing) rIt.next();\n            Iterator kIt = kRing.getPublicKeys();\n\n            while (kIt.hasNext()) {\n                PGPPublicKey k = (PGPPublicKey) kIt.next();\n\n                if (k.isEncryptionKey()) {\n                    return k;\n                }\n            }\n        }\n\n        throw new IllegalArgumentException(\n                \"Can't find encryption key in key ring.\");\n    }\n\n    public static byte[] getBytesFromFile(File file) throws IOException {\n        InputStream is = new FileInputStream(file);\n\n        // Get the size of the file\n        long length = file.length();\n\n        if (length &gt; Integer.MAX_VALUE) {\n            // File is too large\n        }\n\n        // Create the byte array to hold the data\n        byte[] bytes = new byte[(int)length];\n\n        // Read in the bytes\n        int offset = 0;\n        int numRead = 0;\n        while (offset &lt; bytes.length\n               &amp;&amp; (numRead=is.read(bytes, offset, bytes.length-offset)) &gt;= 0) {\n            offset += numRead;\n        }\n\n        // Ensure all the bytes have been read in\n        if (offset &lt; bytes.length) {\n            throw new IOException(\"Could not completely read file \"+file.getName());\n        }\n\n        // Close the input stream and return bytes\n        is.close();\n        return bytes;\n    }\n\n    public static void main(String[] args) throws Exception {\n        Security.addProvider(new BouncyCastleProvider());\n\n\n        byte[] original = \"Hello world\".getBytes();\n        System.out.println(\"Starting PGP test\");\n\n        FileInputStream pubKey = new FileInputStream(\"/Users/me/pub.key\");\n        byte[] encrypted = encrypt(original, readPublicKey(pubKey), null,\n                true, true);\n\n        FileOutputStream dfis = new FileOutputStream(\"/Users/me/enc.asc\");\n        dfis.write(encrypted);\n        dfis.close();\n\n        byte[] encFromFile = getBytesFromFile(new File(\"/Users/me/enc.asc\"));\n        FileInputStream secKey = new FileInputStream(\"/Users/me/sec.key\");\n\n        System.out.println(\"\\nencrypted data = '\" + new String(encrypted) + \"'\");\n\n        byte[] decrypted = decrypt(encFromFile, secKey, \"passphrase\".toCharArray());\n\n        System.out.println(\"\\ndecrypted data = '\" + new String(decrypted) + \"'\");\n\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android-studio","google-play","google-play-console","android-app-bundle"],"owner":{"account_id":24618580,"reputation":11,"user_id":18519242,"display_name":"carlvindevzw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668259039,"creation_date":1668253609,"question_id":74412639,"body_markdown":"I just deployed my app on the play store. It crashed when users downloaded it and does not open. Here are screenshots from Google&#39;s crash report. I don&#39;t understand the errors. Please help. [Screenshot1][1] and [Screenshot2][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cICN7.png\r\n  [2]: https://i.stack.imgur.com/FaZUh.png","title":"App crashing on launch when downloaded from google playstore","body":"<p>I just deployed my app on the play store. It crashed when users downloaded it and does not open. Here are screenshots from Google's crash report. I don't understand the errors. Please help. <a href=\"https://i.stack.imgur.com/cICN7.png\" rel=\"nofollow noreferrer\">Screenshot1</a> and <a href=\"https://i.stack.imgur.com/FaZUh.png\" rel=\"nofollow noreferrer\">Screenshot2</a></p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":272038,"reputation":16255,"user_id":562906,"accept_rate":60,"display_name":"sinelaw"},"score":1,"creation_date":1344740656,"post_id":11919400,"comment_id":15871370,"body_markdown":"Check out this related question: http://stackoverflow.com/q/1481178/562906","body":"Check out this related question: <a href=\"http://stackoverflow.com/q/1481178/562906\">stackoverflow.com/q/1481178/562906</a>"}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344740693,"creation_date":1344740693,"answer_id":11919414,"question_id":11919400,"body_markdown":"You can dispose of objects and suggest the garbage collector do its work, but if the GC does not feel it is necessary, the request will be ignored.  So in summary, &#39;no&#39;.\r\n\r\nNote that memory assigned to Java apps. is set before the app. starts, and is not adjustable.","title":"Release java memory for OS at runtime","body":"<p>You can dispose of objects and suggest the garbage collector do its work, but if the GC does not feel it is necessary, the request will be ignored.  So in summary, 'no'.</p>\n\n<p>Note that memory assigned to Java apps. is set before the app. starts, and is not adjustable.</p>\n"},{"comments":[{"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"score":1,"creation_date":1344750707,"post_id":11919654,"comment_id":15872384,"body_markdown":"Is it a matter of GC? I don&#39;t think so. The GC clears the objects and frees the heap but disposing heap is something else.","body":"Is it a matter of GC? I don&#39;t think so. The GC clears the objects and frees the heap but disposing heap is something else."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1344756802,"post_id":11919654,"comment_id":15873053,"body_markdown":"@AmirPashazadeh - you&#39;d need to read the JVM source code to know where the code that gives back memory actually is.","body":"@AmirPashazadeh - you&#39;d need to read the JVM source code to know where the code that gives back memory actually is."},{"owner":{"account_id":406165,"reputation":2268,"user_id":775513,"accept_rate":82,"display_name":"cproinger"},"score":1,"creation_date":1407317485,"post_id":11919654,"comment_id":39163798,"body_markdown":"Please note that this settings is only considered when the singeThreadGC is used. I found that out in this answer http://stackoverflow.com/a/8170123/775513 after not observing any behaviour changes when using this option.","body":"Please note that this settings is only considered when the singeThreadGC is used. I found that out in this answer <a href=\"http://stackoverflow.com/a/8170123/775513\">stackoverflow.com/a/8170123/775513</a> after not observing any behaviour changes when using this option."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1407320135,"post_id":11919654,"comment_id":39165392,"body_markdown":"@cproinger - I think you should be careful about generalizing from that Q&amp;A.  The Question is about the behaviour of a Java 5  JVM.  A lot has changed in Java memory management / garbage collection since then.","body":"@cproinger - I think you should be careful about generalizing from that Q&amp;A.  The Question is about the behaviour of a Java 5  JVM.  A lot has changed in Java memory management / garbage collection since then."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1427627828,"creation_date":1344744405,"answer_id":11919654,"question_id":11919400,"body_markdown":"&gt; I want my application release the memory to the OS when it doesn&#39;t need to use a big memory. Can I do it at runtime with java app?\r\n\r\nNo you can&#39;t.\r\n\r\nUnder some circumstances, the GC will release memory back to the OS of its own accord, but I&#39;m not aware of any JVM that allows an application to tell the GC to do this.  And on top of that, the GC is rather conservative about doing this because ... as a general rule ... the JVM will operate more efficiently with more memory, and continually requesting / giving back memory to the OS is inefficient.\r\n\r\n----------------\r\n\r\nNote that the GC tuning option `-XX:MaxHeapFreeRatio` can be used to specify the maximum ratio of free to used heap before the GC will give memory back.  However, there are complications.  For example, not all available GCs respect this option.  If you are going to try this approach, I suggest you do some research ... and don&#39;t expect miracles.","title":"Release java memory for OS at runtime","body":"<blockquote>\n  <p>I want my application release the memory to the OS when it doesn't need to use a big memory. Can I do it at runtime with java app?</p>\n</blockquote>\n\n<p>No you can't.</p>\n\n<p>Under some circumstances, the GC will release memory back to the OS of its own accord, but I'm not aware of any JVM that allows an application to tell the GC to do this.  And on top of that, the GC is rather conservative about doing this because ... as a general rule ... the JVM will operate more efficiently with more memory, and continually requesting / giving back memory to the OS is inefficient.</p>\n\n<hr>\n\n<p>Note that the GC tuning option <code>-XX:MaxHeapFreeRatio</code> can be used to specify the maximum ratio of free to used heap before the GC will give memory back.  However, there are complications.  For example, not all available GCs respect this option.  If you are going to try this approach, I suggest you do some research ... and don't expect miracles.</p>\n"},{"comments":[{"owner":{"account_id":1741732,"reputation":71,"user_id":1592936,"display_name":"user1592936"},"score":2,"creation_date":1344763722,"post_id":11919681,"comment_id":15874075,"body_markdown":"Because my client didn&#39;t like it. In 99% cases they did the job which consume about 300 - 400MB of RAM. There&#39;s 1% cases where they did some heavy job then the application uses 2GB of RAM. And they said that my application use too much memory when it is not necessary to do that. They need memory for another apps.\n\nIt seems that whenever a java app run in the maximum memory using, it will not give the memory back to the OS when it runs in the minimum memory using.\n\nIs it right?","body":"Because my client didn&#39;t like it. In 99% cases they did the job which consume about 300 - 400MB of RAM. There&#39;s 1% cases where they did some heavy job then the application uses 2GB of RAM. And they said that my application use too much memory when it is not necessary to do that. They need memory for another apps.  It seems that whenever a java app run in the maximum memory using, it will not give the memory back to the OS when it runs in the minimum memory using.  Is it right?"},{"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"score":1,"creation_date":1346352899,"post_id":11919681,"comment_id":16344604,"body_markdown":"see update, I discovered some new info... :) I&#39;m sorry your client is so picky, they shouldn&#39;t be. They should rely on their operating system to manage the memory correctly.","body":"see update, I discovered some new info... :) I&#39;m sorry your client is so picky, they shouldn&#39;t be. They should rely on their operating system to manage the memory correctly."},{"owner":{"account_id":452419,"reputation":916,"user_id":848850,"accept_rate":20,"display_name":"nsandersen"},"score":0,"creation_date":1481305534,"post_id":11919681,"comment_id":69339085,"body_markdown":"Well it isn&#39;t unreasonable to ask that java handles memory correctly also (and I say this as a java developer). I don&#39;t agree in general that holding onto 5-10 times the memory currently required indefinitely, or even for a prolonged period, is correct behavior unless there is nothing else running on the machine.","body":"Well it isn&#39;t unreasonable to ask that java handles memory correctly also (and I say this as a java developer). I don&#39;t agree in general that holding onto 5-10 times the memory currently required indefinitely, or even for a prolonged period, is correct behavior unless there is nothing else running on the machine."},{"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"score":0,"creation_date":1481573747,"post_id":11919681,"comment_id":69421918,"body_markdown":"It **is** correct behavior. The incorrect behavior is people&#39;s understanding of how memory works. You&#39;d be shocked to discover what&#39;s actually physically happening with the JDK, garbage collector, and the page table on your system. It&#39;s all a grand illusion :)","body":"It <b>is</b> correct behavior. The incorrect behavior is people&#39;s understanding of how memory works. You&#39;d be shocked to discover what&#39;s actually physically happening with the JDK, garbage collector, and the page table on your system. It&#39;s all a grand illusion :)"},{"owner":{"account_id":52453,"reputation":26429,"user_id":156755,"accept_rate":90,"display_name":"Basic"},"score":1,"creation_date":1502965200,"post_id":11919681,"comment_id":78422502,"body_markdown":"&quot;Memory is cheap&quot; is a great line, as long as you&#39;ve got additional slots. Talk to me when you&#39;re running 256GB/slice and want 3-4 java programs to run at the same time in a VM/container. If any one of them takes a huge chunk of memory, it can cripple the others. Either that or you artificially limit them to a fraction each, thus wasting resources just in case they&#39;re needed elsewhere. It&#39;s a lose-lose.","body":"&quot;Memory is cheap&quot; is a great line, as long as you&#39;ve got additional slots. Talk to me when you&#39;re running 256GB/slice and want 3-4 java programs to run at the same time in a VM/container. If any one of them takes a huge chunk of memory, it can cripple the others. Either that or you artificially limit them to a fraction each, thus wasting resources just in case they&#39;re needed elsewhere. It&#39;s a lose-lose."}],"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502981206,"creation_date":1344744880,"answer_id":11919681,"question_id":11919400,"body_markdown":"The serialgc in hotspot will give memory back... at least it used to. Your performance will nose dive.\r\n\r\nAll of the garbage collectors in IBM J9 jvm will release memory. I&#39;m not sure this jvm is a free download...\r\n\r\n\r\nThe best answer is, why are you concerned? Memory is dirt cheap these days and free memory is wasted memory. Is this *actually* a problem? The OS will page the extra unused memory to disk anyway. The best answer is to ignore it. :)\r\n\r\n\r\nYou might also consider Googling off-heap storage, perhaps Teracotta/eh cache.\r\n\r\nEDIT:\r\n\r\nI just noticed in JDK1.7u6, that using G1GC with a small Xms and large Xmx, the garbage collector will reduce the size of the heap after a few garbage collections where excess objects have been freed.","title":"Release java memory for OS at runtime","body":"<p>The serialgc in hotspot will give memory back... at least it used to. Your performance will nose dive.</p>\n\n<p>All of the garbage collectors in IBM J9 jvm will release memory. I'm not sure this jvm is a free download...</p>\n\n<p>The best answer is, why are you concerned? Memory is dirt cheap these days and free memory is wasted memory. Is this <em>actually</em> a problem? The OS will page the extra unused memory to disk anyway. The best answer is to ignore it. :)</p>\n\n<p>You might also consider Googling off-heap storage, perhaps Teracotta/eh cache.</p>\n\n<p>EDIT:</p>\n\n<p>I just noticed in JDK1.7u6, that using G1GC with a small Xms and large Xmx, the garbage collector will reduce the size of the heap after a few garbage collections where excess objects have been freed.</p>\n"},{"comments":[{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1381991575,"post_id":15535249,"comment_id":28788409,"body_markdown":"Interesting blog. Good work. However I would like to know for how long time you&#39;ve waited. Example: How would the JVM memory consumption be (as seen from the OS) after you&#39;ve done your loops and hoops and then went idle for say 1 hour? By &#39;idle&#39; I mean no memory alloc activity.","body":"Interesting blog. Good work. However I would like to know for how long time you&#39;ve waited. Example: How would the JVM memory consumption be (as seen from the OS) after you&#39;ve done your loops and hoops and then went idle for say 1 hour? By &#39;idle&#39; I mean no memory alloc activity."},{"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"score":0,"creation_date":1407407309,"post_id":15535249,"comment_id":39206602,"body_markdown":"AFAIK the GC is triggered by memory changes.... so just waiting will not do anything at all. Try it yourself, the code is there.","body":"AFAIK the GC is triggered by memory changes.... so just waiting will not do anything at all. Try it yourself, the code is there."},{"owner":{"account_id":1172729,"reputation":5492,"user_id":1149528,"accept_rate":92,"display_name":"xav"},"score":0,"creation_date":1417292468,"post_id":15535249,"comment_id":42895545,"body_markdown":"Interesting post. By the way, it seems that for Oracle and IBM VMs, values for `Xminf` and `Xmaxf` should be percentages (from 0.0 to 1.0) and without the leading `=`. See [here](https://docs.oracle.com/cd/E19683-01/806-7930/filestructure-8/index.html), [here](http://www-01.ibm.com/support/knowledgecenter/SSYKE2_7.0.0/com.ibm.java.lnx.70.doc/diag/appendixes/cmdline/xmaxf.html), and [here](http://bugs.java.com/bugdatabase/view_bug.do?bug_id=8025661).","body":"Interesting post. By the way, it seems that for Oracle and IBM VMs, values for <code>Xminf</code> and <code>Xmaxf</code> should be percentages (from 0.0 to 1.0) and without the leading <code>=</code>. See <a href=\"https://docs.oracle.com/cd/E19683-01/806-7930/filestructure-8/index.html\" rel=\"nofollow noreferrer\">here</a>, <a href=\"http://www-01.ibm.com/support/knowledgecenter/SSYKE2_7.0.0/com.ibm.java.lnx.70.doc/diag/appendixes/cmdline/xmaxf.html\" rel=\"nofollow noreferrer\">here</a>, and <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=8025661\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":1172729,"reputation":5492,"user_id":1149528,"accept_rate":92,"display_name":"xav"},"score":0,"creation_date":1417293080,"post_id":15535249,"comment_id":42895694,"body_markdown":"In my opinion, what makes the VM release memory back to OS is only `-XX:UseSerialGC` in your example since `Xminf` and `Xmaxf` are ignored due to bad syntax (see my previous comment). With a correct syntax, you can indeed tune this release with `Xminf` and `Xmaxf`.","body":"In my opinion, what makes the VM release memory back to OS is only <code>-XX:UseSerialGC</code> in your example since <code>Xminf</code> and <code>Xmaxf</code> are ignored due to bad syntax (see my previous comment). With a correct syntax, you can indeed tune this release with <code>Xminf</code> and <code>Xmaxf</code>."},{"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"score":0,"creation_date":1421150780,"post_id":15535249,"comment_id":44240594,"body_markdown":"I&#39;m only using Sun/Orcale JVMs. It works there. If you use anything special, it is of course up to you to check it.","body":"I&#39;m only using Sun/Orcale JVMs. It works there. If you use anything special, it is of course up to you to check it."}],"tags":[],"owner":{"account_id":1045732,"reputation":11348,"user_id":1050755,"accept_rate":51,"display_name":"user1050755"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1363815490,"creation_date":1363815490,"answer_id":15535249,"question_id":11919400,"body_markdown":"I have posted my test results [over there][1]. Basically, MaxHeapFreeRatio is not respected by every GC implementation, and, to make it worse, it seems to be necessary that there is enough heap activity in order to trigger it in a timely manner, ie. could be that you require 2 full GC runs to actually release the memory to the OS. And if you have a burst memory footprint of X GB, then you probably have to allocate 1 or 2 times of that amount in order to trigger the heap downsize. Or you call System.gc() manually.\r\n\r\nIf performance is not an issue, and memory footprint is all that counts, try:\r\n\r\n    -XX:UseSerialGC -Xms16M -Xminf=5 -Xmaxf=10\r\n\r\n  [1]: http://javagc.blogspot.de/2013/03/java-hotspot-vm-footprint-optimization.html","title":"Release java memory for OS at runtime","body":"<p>I have posted my test results <a href=\"http://javagc.blogspot.de/2013/03/java-hotspot-vm-footprint-optimization.html\" rel=\"noreferrer\">over there</a>. Basically, MaxHeapFreeRatio is not respected by every GC implementation, and, to make it worse, it seems to be necessary that there is enough heap activity in order to trigger it in a timely manner, ie. could be that you require 2 full GC runs to actually release the memory to the OS. And if you have a burst memory footprint of X GB, then you probably have to allocate 1 or 2 times of that amount in order to trigger the heap downsize. Or you call System.gc() manually.</p>\n\n<p>If performance is not an issue, and memory footprint is all that counts, try:</p>\n\n<pre><code>-XX:UseSerialGC -Xms16M -Xminf=5 -Xmaxf=10\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1427627969,"post_id":18064531,"comment_id":46846656,"body_markdown":"This makes little sense in the context of Java.  (And if you are referring to Java threads, then this is not going to achieve what the OP is trying to do -- convincing the JVM to give heap memory back to the OS.)","body":"This makes little sense in the context of Java.  (And if you are referring to Java threads, then this is not going to achieve what the OP is trying to do -- convincing the JVM to give heap memory back to the OS.)"}],"tags":[],"owner":{"account_id":1573267,"reputation":7512,"user_id":1460461,"accept_rate":38,"display_name":"Benvorth"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375725240,"creation_date":1375725240,"answer_id":18064531,"question_id":11919400,"body_markdown":"Try forking parts of your code to a separate thread and dispose it when you don&#39;t need it anymore.","title":"Release java memory for OS at runtime","body":"<p>Try forking parts of your code to a separate thread and dispose it when you don't need it anymore.</p>\n"}],"owner":{"account_id":1741732,"reputation":71,"user_id":1592936,"display_name":"user1592936"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6871,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1668258146,"creation_date":1344740526,"question_id":11919400,"body_markdown":"Suppose I have a Swings Java Application,\r\nI set the min Heap is 64MB and max Heap 2GB,\r\nwhen the user start the application, the log in screen\r\nwill be displayed, at this time the app uses 64MB, rights?\r\nFrom my Windows 7, I can see the java application is allocated 64MB\r\nfrom the Memory Resource Monitor of the OS (actually, it&#39;s more than 64MB because JVM need some memory for it&#39;s task).\r\n\r\nAfter that the user does some very heavy job then the application uses 2G.\r\nThen the user log out the application, the log in screen is displayed again (the application is not closed yet). At this time the real memory that the application\r\nis using 64MB (suppose this is the perfect memory management application),\r\nbut with the OS this application is still using 2G of RAM, I can see it on the resource monitor of the OS.\r\n\r\nI want my application release the memory to the OS when it doesn&#39;t need to use a big memory. Can I do it at runtime with java app?\r\n\r\nI mean when my application need to use 64MB of Ram,\r\nthen the OS gives it 64MB only,\r\nwhen it need 2GB of ram then the OS gives it 2GB,\r\nafter that it need 64MB of ram then the OS gives it 64MB only again,\r\nI don&#39;t want it waste 2000MB - 64MB = 1936MB.\r\n\r\nCan I do that?\r\n\r\n","title":"Release java memory for OS at runtime","body":"<p>Suppose I have a Swings Java Application,\nI set the min Heap is 64MB and max Heap 2GB,\nwhen the user start the application, the log in screen\nwill be displayed, at this time the app uses 64MB, rights?\nFrom my Windows 7, I can see the java application is allocated 64MB\nfrom the Memory Resource Monitor of the OS (actually, it's more than 64MB because JVM need some memory for it's task).</p>\n<p>After that the user does some very heavy job then the application uses 2G.\nThen the user log out the application, the log in screen is displayed again (the application is not closed yet). At this time the real memory that the application\nis using 64MB (suppose this is the perfect memory management application),\nbut with the OS this application is still using 2G of RAM, I can see it on the resource monitor of the OS.</p>\n<p>I want my application release the memory to the OS when it doesn't need to use a big memory. Can I do it at runtime with java app?</p>\n<p>I mean when my application need to use 64MB of Ram,\nthen the OS gives it 64MB only,\nwhen it need 2GB of ram then the OS gives it 2GB,\nafter that it need 64MB of ram then the OS gives it 64MB only again,\nI don't want it waste 2000MB - 64MB = 1936MB.</p>\n<p>Can I do that?</p>\n"},{"tags":["java","h2"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1668258048,"post_id":74413111,"comment_id":131364340,"body_markdown":"Depending on the garbage collector Java uses (either automatically configured, or explicitly by you), and its configuration, the Java process might not release memory back to the OS once allocated.","body":"Depending on the garbage collector Java uses (either automatically configured, or explicitly by you), and its configuration, the Java process might not release memory back to the OS once allocated."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668258141,"post_id":74413111,"comment_id":131364354,"body_markdown":"Furthermore, if H2 runs in-memory, then all data related to the H2 database is kept in-memory. This data can obviously not be deleted and can only be removed when the application stops (and tears down the in-memory H2 database as well).","body":"Furthermore, if H2 runs in-memory, then all data related to the H2 database is kept in-memory. This data can obviously not be deleted and can only be removed when the application stops (and tears down the in-memory H2 database as well)."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668269368,"post_id":74413111,"comment_id":131366609,"body_markdown":"please try these: `System.gc();` and `System.out.println(Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory());` (before/after gc)","body":"please try these: <code>System.gc();</code> and <code>System.out.println(Runtime.getRuntime().totalMemory() - Runtime.getRuntime().freeMemory());</code> (before/after gc)"},{"owner":{"account_id":23517909,"reputation":11,"user_id":20485663,"display_name":"drevnicky"},"score":0,"creation_date":1668276306,"post_id":74413111,"comment_id":131367941,"body_markdown":"The value 110184176 is displayed before System.gc() is executed, and 9480752 is displayed afterwards. In Task Manager, the maximum value of occupied RAM is 250 MB. This is much smaller than in the photo attached to the question. It turns out that the garbage collector partially helps to solve the problem","body":"The value 110184176 is displayed before System.gc() is executed, and 9480752 is displayed afterwards. In Task Manager, the maximum value of occupied RAM is 250 MB. This is much smaller than in the photo attached to the question. It turns out that the garbage collector partially helps to solve the problem"}],"owner":{"account_id":23517909,"reputation":11,"user_id":20485663,"display_name":"drevnicky"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668257993,"creation_date":1668257721,"question_id":74413111,"body_markdown":"Below is my test code. H2 database. In the example, at startup, the first 15 seconds of RAM consumption is 11 MB. Next comes the creation of a table and repeated access to the database to write data. At this point, the consumption of RAM increases. After the cycle with calls is completed, there is no connection to the database, but the RAM is still busy. Why is that? Shouldn&#39;t the memory be freed? And how to achieve this? And in general, what is this occupied volume? If you increase the number of repetitions of the loop, the occupied memory will no longer be, or it will become slightly larger. \r\n\r\nI tried to change the fields of the created table. Tried to forcefully close the connection to the database. I expected that the DBMS, after accessing it, would not take up space in RAM\r\n\r\n\r\n[![](https://i.stack.imgur.com/YWeQb.png)](https://i.stack.imgur.com/YWeQb.png)\r\n\r\n[![](https://i.stack.imgur.com/kqCgM.png)](https://i.stack.imgur.com/kqCgM.png)\r\n\r\n\r\n```package h2test;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.sql.Connection;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\nimport java.util.Date;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.ImageIcon;\r\n\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\n\r\npublic class H2CreateExample {\r\n    \r\n    private static String jdbcURL = &quot;jdbc:h2:~/biba&quot;;\r\n    private static String jdbcUsername = &quot;sa&quot;;\r\n    private static String jdbcPassword = &quot;&quot;;\r\n\r\n    private static Connection getConnection() {\r\n        Connection connection = null;\r\n        try {\r\n            connection = DriverManager.getConnection(jdbcURL, jdbcUsername, jdbcPassword);\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return connection;\r\n    }\r\n\r\n    private static void printSQLException(SQLException ex) {\r\n        for(Throwable e: ex) {\r\n            if(e instanceof SQLException) {\r\n                e.printStackTrace(System.err);\r\n                System.err.println(&quot;SQLState: &quot; + ((SQLException) e).getSQLState());\r\n                System.err.println(&quot;Error Code: &quot; + ((SQLException) e).getErrorCode());\r\n                System.err.println(&quot;Message: &quot; + e.getMessage());\r\n                Throwable t = ex.getCause();\r\n                while (t != null) {\r\n                    System.out.println(&quot;Cause: &quot; + t);\r\n                    t = t.getCause();\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    private static final String createTableSQL = &quot;CREATE TABLE `data` (\\n&quot;\r\n            + &quot; `id` BIGINT auto_increment,\\n&quot;\r\n            + &quot; `date` DATE NOT NULL,\\n&quot;\r\n            + &quot; `dataText` TEXT,\\n&quot;\r\n            + &quot; `dataImage` JAVA_OBJECT,\\n&quot;\r\n            + &quot; PRIMARY KEY (`id`)&quot;\r\n            + &quot;);&quot;;\r\n    \r\n    private static void createDataTable() throws SQLException {\r\n        try (Connection connection = getConnection(); Statement statement = connection.createStatement()) {\r\n            statement.execute(createTableSQL);\r\n        } catch (SQLException e) {\r\n            printSQLException(e);\r\n        }\r\n    }\r\n    \r\n    private static final String INSERT_USERS_SQL = &quot;INSERT INTO `data`&quot; +\r\n            &quot; (`date`, `dataText`, `dataImage`) VALUES &quot; +\r\n            &quot; (?, ?, ?);&quot;; //ПОПРАВИТЬ ЗАПРОС\r\n    \r\n    public static long add(Date date,\r\n            String dataText,\r\n            ImageIcon image) throws SQLException {\r\n        \r\n        long result = -1;\r\n        \r\n        try (Connection connection = getConnection();\r\n                PreparedStatement preparedStatement = connection.prepareStatement(INSERT_USERS_SQL)) {\r\n            preparedStatement.setDate(1, new java.sql.Date(date.getTime()));\r\n            preparedStatement.setString(2, dataText);\r\n            preparedStatement.setObject(3, image);\r\n            \r\n            preparedStatement.executeUpdate();\r\n            \r\n        } catch (SQLException e) {\r\n            printSQLException(e);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public static void main(String[] argv) throws SQLException {\r\n        try {\r\n            Thread.sleep(15000);\r\n        } catch (InterruptedException e) { }\r\n        \r\n        createDataTable();\r\n        System.out.println(&quot;Таблица создана&quot;);\r\n        \r\n        File file = new File(&quot;/home/drevnicky/Images/black.jpg&quot;);\r\n        ImageIcon image = null;\r\n        \r\n        try {\r\n            image = new ImageIcon(ImageIO.read(file));\r\n        } catch (IOException e) { }\r\n        \r\n        for(int k = 0; k&lt;50; k++) {\r\n            add(new Date(), &quot;Text 123&quot;, image);\r\n            System.out.println(&quot;k &quot; + k);\r\n        }\r\n        \r\n        try {\r\n            Thread.sleep(15000);\r\n        } catch (InterruptedException e) { }\r\n        \r\n    }\r\n}```","title":"Why does my application occupy and not release memory?","body":"<p>Below is my test code. H2 database. In the example, at startup, the first 15 seconds of RAM consumption is 11 MB. Next comes the creation of a table and repeated access to the database to write data. At this point, the consumption of RAM increases. After the cycle with calls is completed, there is no connection to the database, but the RAM is still busy. Why is that? Shouldn't the memory be freed? And how to achieve this? And in general, what is this occupied volume? If you increase the number of repetitions of the loop, the occupied memory will no longer be, or it will become slightly larger.</p>\n<p>I tried to change the fields of the created table. Tried to forcefully close the connection to the database. I expected that the DBMS, after accessing it, would not take up space in RAM</p>\n<p><a href=\"https://i.stack.imgur.com/YWeQb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YWeQb.png\" alt=\"\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/kqCgM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kqCgM.png\" alt=\"\" /></a></p>\n<pre><code>\nimport java.io.File;\nimport java.io.IOException;\nimport java.sql.Connection;\nimport java.sql.SQLException;\nimport java.sql.Statement;\nimport java.util.Date;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\n\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\n\npublic class H2CreateExample {\n    \n    private static String jdbcURL = &quot;jdbc:h2:~/biba&quot;;\n    private static String jdbcUsername = &quot;sa&quot;;\n    private static String jdbcPassword = &quot;&quot;;\n\n    private static Connection getConnection() {\n        Connection connection = null;\n        try {\n            connection = DriverManager.getConnection(jdbcURL, jdbcUsername, jdbcPassword);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n        return connection;\n    }\n\n    private static void printSQLException(SQLException ex) {\n        for(Throwable e: ex) {\n            if(e instanceof SQLException) {\n                e.printStackTrace(System.err);\n                System.err.println(&quot;SQLState: &quot; + ((SQLException) e).getSQLState());\n                System.err.println(&quot;Error Code: &quot; + ((SQLException) e).getErrorCode());\n                System.err.println(&quot;Message: &quot; + e.getMessage());\n                Throwable t = ex.getCause();\n                while (t != null) {\n                    System.out.println(&quot;Cause: &quot; + t);\n                    t = t.getCause();\n                }\n            }\n        }\n    }\n    \n    private static final String createTableSQL = &quot;CREATE TABLE `data` (\\n&quot;\n            + &quot; `id` BIGINT auto_increment,\\n&quot;\n            + &quot; `date` DATE NOT NULL,\\n&quot;\n            + &quot; `dataText` TEXT,\\n&quot;\n            + &quot; `dataImage` JAVA_OBJECT,\\n&quot;\n            + &quot; PRIMARY KEY (`id`)&quot;\n            + &quot;);&quot;;\n    \n    private static void createDataTable() throws SQLException {\n        try (Connection connection = getConnection(); Statement statement = connection.createStatement()) {\n            statement.execute(createTableSQL);\n        } catch (SQLException e) {\n            printSQLException(e);\n        }\n    }\n    \n    private static final String INSERT_USERS_SQL = &quot;INSERT INTO `data`&quot; +\n            &quot; (`date`, `dataText`, `dataImage`) VALUES &quot; +\n            &quot; (?, ?, ?);&quot;; //ПОПРАВИТЬ ЗАПРОС\n    \n    public static long add(Date date,\n            String dataText,\n            ImageIcon image) throws SQLException {\n        \n        long result = -1;\n        \n        try (Connection connection = getConnection();\n                PreparedStatement preparedStatement = connection.prepareStatement(INSERT_USERS_SQL)) {\n            preparedStatement.setDate(1, new java.sql.Date(date.getTime()));\n            preparedStatement.setString(2, dataText);\n            preparedStatement.setObject(3, image);\n            \n            preparedStatement.executeUpdate();\n            \n        } catch (SQLException e) {\n            printSQLException(e);\n        }\n        return result;\n    }\n\n    public static void main(String[] argv) throws SQLException {\n        try {\n            Thread.sleep(15000);\n        } catch (InterruptedException e) { }\n        \n        createDataTable();\n        System.out.println(&quot;Таблица создана&quot;);\n        \n        File file = new File(&quot;/home/drevnicky/Images/black.jpg&quot;);\n        ImageIcon image = null;\n        \n        try {\n            image = new ImageIcon(ImageIO.read(file));\n        } catch (IOException e) { }\n        \n        for(int k = 0; k&lt;50; k++) {\n            add(new Date(), &quot;Text 123&quot;, image);\n            System.out.println(&quot;k &quot; + k);\n        }\n        \n        try {\n            Thread.sleep(15000);\n        } catch (InterruptedException e) { }\n        \n    }\n}```\n</code></pre>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668252505,"post_id":74412440,"comment_id":131363333,"body_markdown":"Convert and join both arrays into java.util.List, sort it using Collections.sort (descending) and pick the 2nd element.","body":"Convert and join both arrays into java.util.List, sort it using Collections.sort (descending) and pick the 2nd element."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1668252656,"post_id":74412440,"comment_id":131363365,"body_markdown":"...or do it in O(N) ;) https://jdoodle.com/ia/zdo","body":"...or do it in O(N) ;) <a href=\"https://jdoodle.com/ia/zdo\" rel=\"nofollow noreferrer\">jdoodle.com/ia/zdo</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668253156,"post_id":74412440,"comment_id":131363469,"body_markdown":"only &quot;corner case&quot; I see: multiple players have max score. with the above solution the output would be (equal to) max score.","body":"only &quot;corner case&quot; I see: multiple players have max score. with the above solution the output would be (equal to) max score."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668253263,"post_id":74412440,"comment_id":131363490,"body_markdown":"..and &quot;absolute corner case&quot;: all players have same score/0 ...","body":"..and &quot;absolute corner case&quot;: all players have same score/0 ..."},{"owner":{"account_id":25602293,"reputation":31,"user_id":19377080,"display_name":"Pranay Mahajan"},"score":0,"creation_date":1668255550,"post_id":74412440,"comment_id":131363899,"body_markdown":"@xerx593 Can you please tell me what does &quot;int[]... arrs&quot; mean. I have never used this. Does it combine both the arrays as one?","body":"@xerx593 Can you please tell me what does &quot;int[]... arrs&quot; mean. I have never used this. Does it combine both the arrays as one?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1668255941,"post_id":74412440,"comment_id":131363964,"body_markdown":"Not combine..., this method accepts (1-)N (int) arrays... It&#39;s called &quot;varargs&quot; https://docs.oracle.com/javase/8/docs/technotes/guides/language/varargs.html , then just iterate over all `arrs`","body":"Not combine..., this method accepts (1-)N (int) arrays... It&#39;s called &quot;varargs&quot; <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/varargs.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/language/&hellip;</a> , then just iterate over all <code>arrs</code>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668257621,"post_id":74412440,"comment_id":131364239,"body_markdown":"More corner cases: - only 1 player;(( - invalid/negative score...;(;(","body":"More corner cases: - only 1 player;(( - invalid/negative score...;(;("}],"owner":{"account_id":25602293,"reputation":31,"user_id":19377080,"display_name":"Pranay Mahajan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1668257955,"answer_count":0,"score":0,"last_activity_date":1668257978,"creation_date":1668252041,"question_id":74412440,"body_markdown":"In a cricket match, the runs made by players of both teams are stored in two arrays. The sizes of the array can be variable based on the wickets being taken by the other team. Find the second highest score after the entire match.\r\n\r\nExample Input: arr1 = {25, 45, 43, 67, 82};\r\n\r\narr2 = {30, 18, 10, 90, 85};\r\n\r\nOutput: 85\r\n\r\nMy Approach: Sort both the arrays and then take two variables max and second_Max and based on conditioning find the second highest score. But, I am not able to get efficient solution.\r\n\r\nPlease help me in solving this array based problem. And if you could consider all the corner cases.\r\n\r\nThanks in advance","title":"Find the second highest Score in a cricket match","body":"<p>In a cricket match, the runs made by players of both teams are stored in two arrays. The sizes of the array can be variable based on the wickets being taken by the other team. Find the second highest score after the entire match.</p>\n<p>Example Input: arr1 = {25, 45, 43, 67, 82};</p>\n<p>arr2 = {30, 18, 10, 90, 85};</p>\n<p>Output: 85</p>\n<p>My Approach: Sort both the arrays and then take two variables max and second_Max and based on conditioning find the second highest score. But, I am not able to get efficient solution.</p>\n<p>Please help me in solving this array based problem. And if you could consider all the corner cases.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":1129042,"reputation":48154,"user_id":1115554,"accept_rate":100,"display_name":"micha"},"score":12,"creation_date":1401278066,"post_id":428918,"comment_id":36819518,"body_markdown":"If you are using Java 8 or newer you can use the new date/time api. See this answer: http://stackoverflow.com/a/23910924/1115554","body":"If you are using Java 8 or newer you can use the new date/time api. See this answer: <a href=\"http://stackoverflow.com/a/23910924/1115554\">stackoverflow.com/a/23910924/1115554</a>"},{"owner":{"account_id":227011,"reputation":1825,"user_id":488413,"accept_rate":85,"display_name":"Pietro"},"score":6,"creation_date":1422368495,"post_id":428918,"comment_id":44714452,"body_markdown":"new DateTime().plusDays(1).toDate() ???","body":"new DateTime().plusDays(1).toDate() ???"}],"answers":[{"tags":[],"owner":{"account_id":12111,"reputation":75875,"user_id":23691,"accept_rate":71,"display_name":"krosenvold"},"comment_count":0,"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1641836842,"creation_date":1231522046,"answer_id":428942,"question_id":428918,"body_markdown":"Construct a Calendar object and call `add(Calendar.DATE, 1);`","title":"How can I increment a date by one day in Java?","body":"<p>Construct a Calendar object and call <code>add(Calendar.DATE, 1);</code></p>\n"},{"tags":[],"owner":{"account_id":14254,"reputation":9688,"user_id":29173,"accept_rate":86,"display_name":"Ross"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1231522128,"creation_date":1231522128,"answer_id":428947,"question_id":428918,"body_markdown":"Use the [`DateFormat`][1] API to convert the String into a Date object, then use the [`Calendar`][2] API to add one day. Let me know if you want specific code examples, and I can update my answer.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/text/DateFormat.html\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Calendar.html","title":"How can I increment a date by one day in Java?","body":"<p>Use the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/text/DateFormat.html\" rel=\"noreferrer\"><code>DateFormat</code></a> API to convert the String into a Date object, then use the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a> API to add one day. Let me know if you want specific code examples, and I can update my answer.</p>\n"},{"tags":[],"owner":{"account_id":4169,"reputation":24716,"user_id":6180,"accept_rate":83,"display_name":"Alex B"},"comment_count":0,"down_vote_count":2,"up_vote_count":72,"is_accepted":false,"score":70,"last_activity_date":1247845249,"creation_date":1231522246,"answer_id":428953,"question_id":428918,"body_markdown":"    SimpleDateFormat dateFormat = new SimpleDateFormat( &quot;yyyy-MM-dd&quot; );\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.setTime( dateFormat.parse( inputString ) );\r\n    cal.add( Calendar.DATE, 1 );\r\n","title":"How can I increment a date by one day in Java?","body":"<pre><code>SimpleDateFormat dateFormat = new SimpleDateFormat( \"yyyy-MM-dd\" );\nCalendar cal = Calendar.getInstance();\ncal.setTime( dateFormat.parse( inputString ) );\ncal.add( Calendar.DATE, 1 );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"score":2,"creation_date":1231529101,"post_id":428966,"comment_id":252891,"body_markdown":"c.roll(Calendar.DATE, true); would be somewhat better for clarity.","body":"c.roll(Calendar.DATE, true); would be somewhat better for clarity."},{"owner":{"account_id":1847,"reputation":12474,"user_id":2541,"accept_rate":61,"display_name":"Sam Hasler"},"score":53,"creation_date":1249079912,"post_id":428966,"comment_id":1039478,"body_markdown":"@Esko, c.roll(Calendar.DATE, true) won&#39;t roll the month on the last day of the month.","body":"@Esko, c.roll(Calendar.DATE, true) won&#39;t roll the month on the last day of the month."},{"owner":{"account_id":400321,"reputation":4722,"user_id":766233,"accept_rate":83,"display_name":"jcalfee314"},"score":14,"creation_date":1346328415,"post_id":428966,"comment_id":16332507,"body_markdown":"I&#39;ll quote some JavaDocs... Calendar.DATE: &quot;...This is a synonym for DAY_OF_MONTH.&quot;  I wish the JavaDocs would clarify that this would increment larger fields (like the month and year).  \n\nCalendar.roll &quot;Adds or subtracts (up/down) a single unit of time on the given time field without changing larger fields&quot; .. Again, &quot;larger fields&quot; is vague but that seems consistent with Sam&#39;s comment.\n\nI wish there were a StackOverflow for fixing old the JavaDocs.","body":"I&#39;ll quote some JavaDocs... Calendar.DATE: &quot;...This is a synonym for DAY_OF_MONTH.&quot;  I wish the JavaDocs would clarify that this would increment larger fields (like the month and year).    Calendar.roll &quot;Adds or subtracts (up/down) a single unit of time on the given time field without changing larger fields&quot; .. Again, &quot;larger fields&quot; is vague but that seems consistent with Sam&#39;s comment.  I wish there were a StackOverflow for fixing old the JavaDocs."},{"owner":{"account_id":1606009,"reputation":1068,"user_id":1486100,"accept_rate":83,"display_name":"Tyzoid"},"score":0,"creation_date":1369403116,"post_id":428966,"comment_id":24102486,"body_markdown":"Note that now many `Date` methods are deprecated, and `Calendar` should be use instead of `Date` anyway.","body":"Note that now many <code>Date</code> methods are deprecated, and <code>Calendar</code> should be use instead of <code>Date</code> anyway."},{"owner":{"account_id":1486037,"reputation":773,"user_id":1394305,"accept_rate":27,"display_name":"anujin"},"score":0,"creation_date":1383208512,"post_id":428966,"comment_id":29265193,"body_markdown":"`&quot;yyyy-MM-dd&quot;` Observe - month has to be in uppercase. `&quot;mm&quot;` would give minutes :).","body":"<code>&quot;yyyy-MM-dd&quot;</code> Observe - month has to be in uppercase. <code>&quot;mm&quot;</code> would give minutes :)."},{"owner":{"account_id":3515404,"reputation":943,"user_id":2938966,"accept_rate":73,"display_name":"Dmitry Gryazin"},"score":4,"creation_date":1410964726,"post_id":428966,"comment_id":40525426,"body_markdown":"guys, unfortunately, it&#39;s quite useless to add days using DATE, DAY_OF_MONTH or even DAY_OF_YEAR - they all are incremented by modulus.  So considering Calendar of 31-12-1970, add(DAY_OF_YEAR, 1)   or roll(), however roll() finally calls add(), will give 01-01-1970.\nI guess the only correct way is to set time with milliseconds.\n\nAs for me, I&#39;m never using Calendar class again.","body":"guys, unfortunately, it&#39;s quite useless to add days using DATE, DAY_OF_MONTH or even DAY_OF_YEAR - they all are incremented by modulus.  So considering Calendar of 31-12-1970, add(DAY_OF_YEAR, 1)   or roll(), however roll() finally calls add(), will give 01-01-1970. I guess the only correct way is to set time with milliseconds.  As for me, I&#39;m never using Calendar class again."},{"owner":{"account_id":39267,"reputation":16578,"user_id":113158,"accept_rate":88,"display_name":"Jean Hominal"},"score":15,"creation_date":1423491281,"post_id":428966,"comment_id":45156974,"body_markdown":"@Bagzerg: You are **wrong**. `add()` will roll the date. See on [ideone](http://ideone.com/YQp7rp).","body":"@Bagzerg: You are <b>wrong</b>. <code>add()</code> will roll the date. See on <a href=\"http://ideone.com/YQp7rp\" rel=\"nofollow noreferrer\">ideone</a>."},{"owner":{"account_id":470389,"reputation":5211,"user_id":877570,"accept_rate":40,"display_name":"user64141"},"score":1,"creation_date":1431616876,"post_id":428966,"comment_id":48583474,"body_markdown":"I&#39;d add one important thing: Make sure that the timezone of SimpleDateFormat and Calendar are the same.  I was inadvertently using UTC as the timezone of the SimpleDateFormat, but was using a local timezone for the Calendar object.   UTC doesn&#39;t observe daylight saving time, but my local time zone does.  So, when I incremented the calendar 1 day in the Spring when we &quot;lose&quot; an hour, UTC recorded it as only gaining 23 hours -- and therefore on the same day.  Thus the above algorithm uses the same day &quot;2012-03-11&quot; twice.  The opposite happens in the Fall, and day &quot;2012-11-04&quot; would be skipped.","body":"I&#39;d add one important thing: Make sure that the timezone of SimpleDateFormat and Calendar are the same.  I was inadvertently using UTC as the timezone of the SimpleDateFormat, but was using a local timezone for the Calendar object.   UTC doesn&#39;t observe daylight saving time, but my local time zone does.  So, when I incremented the calendar 1 day in the Spring when we &quot;lose&quot; an hour, UTC recorded it as only gaining 23 hours -- and therefore on the same day.  Thus the above algorithm uses the same day &quot;2012-03-11&quot; twice.  The opposite happens in the Fall, and day &quot;2012-11-04&quot; would be skipped."},{"owner":{"account_id":7546897,"reputation":3757,"user_id":5729579,"display_name":"Derrick"},"score":0,"creation_date":1517230539,"post_id":428966,"comment_id":83996800,"body_markdown":"@SamHasler If i am adding 1 day to the last day of month, the month remains same instead of moving to next month, how to make that work ?","body":"@SamHasler If i am adding 1 day to the last day of month, the month remains same instead of moving to next month, how to make that work ?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":4,"creation_date":1533022170,"post_id":428966,"comment_id":90180509,"body_markdown":"FYI, the terribly troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the terribly troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."},{"owner":{"account_id":7517801,"reputation":51,"user_id":5710682,"display_name":"Lokesh Reddy"},"score":0,"creation_date":1654597853,"post_id":428966,"comment_id":128123256,"body_markdown":"@SamHasler I need date need to format in DDMMM - when I used the below code I see Date as 08JAN instead of 08JUN , can someone help? \n\n`String dt = &quot;07JUN&quot;;  // Start date\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;DDMMM&quot;);\nCalendar c = Calendar.getInstance();\nc.setTime(sdf.parse(dt));\nc.add(Calendar.DATE, 1);\nc.roll(Calendar.DATE, true);\ndt = sdf.format(c.getTime()); `","body":"@SamHasler I need date need to format in DDMMM - when I used the below code I see Date as 08JAN instead of 08JUN , can someone help?   <code>String dt = &quot;07JUN&quot;;  &#47;&#47; Start date SimpleDateFormat sdf = new SimpleDateFormat(&quot;DDMMM&quot;); Calendar c = Calendar.getInstance(); c.setTime(sdf.parse(dt)); c.add(Calendar.DATE, 1); c.roll(Calendar.DATE, true); dt = sdf.format(c.getTime()); </code>"},{"owner":{"account_id":1847,"reputation":12474,"user_id":2541,"accept_rate":61,"display_name":"Sam Hasler"},"score":0,"creation_date":1654704022,"post_id":428966,"comment_id":128156511,"body_markdown":"@LokeshReddy not my answer, I only edited it. You&#39;re right though: https://www.online-java.com/jTnRcCApzq I can&#39;t understand why though: https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html","body":"@LokeshReddy not my answer, I only edited it. You&#39;re right though: <a href=\"https://www.online-java.com/jTnRcCApzq\" rel=\"nofollow noreferrer\">online-java.com/jTnRcCApzq</a> I can&#39;t understand why though: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/text/&hellip;</a>"}],"tags":[],"owner":{"account_id":18677,"reputation":7818,"user_id":43016,"display_name":"Dave"},"comment_count":12,"down_vote_count":3,"up_vote_count":759,"is_accepted":false,"score":756,"last_activity_date":1247844684,"creation_date":1231522433,"answer_id":428966,"question_id":428918,"body_markdown":"Something like this should do the trick:\r\n\r\n    String dt = &quot;2008-01-01&quot;;  // Start date\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    Calendar c = Calendar.getInstance();\r\n    c.setTime(sdf.parse(dt));\r\n    c.add(Calendar.DATE, 1);  // number of days to add\r\n    dt = sdf.format(c.getTime());  // dt is now the new date","title":"How can I increment a date by one day in Java?","body":"<p>Something like this should do the trick:</p>\n\n<pre><code>String dt = \"2008-01-01\";  // Start date\nSimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nCalendar c = Calendar.getInstance();\nc.setTime(sdf.parse(dt));\nc.add(Calendar.DATE, 1);  // number of days to add\ndt = sdf.format(c.getTime());  // dt is now the new date\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5100,"reputation":29377,"user_id":8026,"accept_rate":63,"display_name":"MetroidFan2002"},"score":4,"creation_date":1231569211,"post_id":429100,"comment_id":254198,"body_markdown":"You can remove the parser calls for constructing the DateTime.  Use DateTime date = new DateTime(dateString);  Then, nextDay is ISODateTimeFormat.date().print(date.plusDays(1));  See http://joda-time.sourceforge.net/api-release/org/joda/time/DateTime.html#DateTime(java.lang.Object) for more info.","body":"You can remove the parser calls for constructing the DateTime.  Use DateTime date = new DateTime(dateString);  Then, nextDay is ISODateTimeFormat.date().print(date.plusDays(1));  See <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/DateTime.html#DateTime(java.lang.Object)\" rel=\"nofollow noreferrer\">joda-time.sourceforge.net/api-release/org/joda/time/&hellip;</a> for more info."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1384822625,"post_id":429100,"comment_id":29882158,"body_markdown":"For more detailed example code using Joda-Time, see [my answer](http://stackoverflow.com/a/20061066/642706) to a similar question, [How to add one day to a date?](http://stackoverflow.com/q/1005523/642706).","body":"For more detailed example code using Joda-Time, see <a href=\"http://stackoverflow.com/a/20061066/642706\">my answer</a> to a similar question, <a href=\"http://stackoverflow.com/q/1005523/642706\">How to add one day to a date?</a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1532895295,"post_id":429100,"comment_id":90133720,"body_markdown":"FYI… The Joda-Time project is now in maintenance-mode, and advises migration to the *java.time* classes. Both efforts were led by the same man, Stephen Colebourne. So they share similar concepts, and migration is not difficult.","body":"FYI… The Joda-Time project is now in maintenance-mode, and advises migration to the <i>java.time</i> classes. Both efforts were led by the same man, Stephen Colebourne. So they share similar concepts, and migration is not difficult."}],"tags":[],"owner":{"account_id":15869,"reputation":4818,"user_id":33974,"display_name":"DaWilli"},"comment_count":3,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1549360663,"creation_date":1231524785,"answer_id":429100,"question_id":428918,"body_markdown":"Take a look at Joda-Time (https://www.joda.org/joda-time/).\r\n\r\n    DateTimeFormatter parser = ISODateTimeFormat.date();\r\n\r\n    DateTime date = parser.parseDateTime(dateString);\r\n\r\n    String nextDay = parser.print(date.plusDays(1));\r\n    ","title":"How can I increment a date by one day in Java?","body":"<p>Take a look at Joda-Time (<a href=\"https://www.joda.org/joda-time/\" rel=\"noreferrer\">https://www.joda.org/joda-time/</a>).</p>\n\n<pre><code>DateTimeFormatter parser = ISODateTimeFormat.date();\n\nDateTime date = parser.parseDateTime(dateString);\n\nString nextDay = parser.print(date.plusDays(1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":680062,"reputation":441,"user_id":528112,"display_name":"Florian R."},"comment_count":0,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1291300650,"creation_date":1291300650,"answer_id":4336131,"question_id":428918,"body_markdown":"Please note that this line adds 24 hours:\r\n\r\n    d1.getTime() + 1 * 24 * 60 * 60 * 1000\r\n\r\nbut this line adds one day\r\n\r\n    cal.add( Calendar.DATE, 1 );\r\nOn days with a daylight savings time change (25 or 23 hours) you will get different results!\r\n\r\n","title":"How can I increment a date by one day in Java?","body":"<p>Please note that this line adds 24 hours:</p>\n\n<pre><code>d1.getTime() + 1 * 24 * 60 * 60 * 1000\n</code></pre>\n\n<p>but this line adds one day</p>\n\n<pre><code>cal.add( Calendar.DATE, 1 );\n</code></pre>\n\n<p>On days with a daylight savings time change (25 or 23 hours) you will get different results!</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":8,"creation_date":1533022211,"post_id":9613729,"comment_id":90180533,"body_markdown":"FYI, the terribly troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the terribly troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."}],"tags":[],"owner":{"account_id":121289,"reputation":4343,"user_id":314283,"accept_rate":92,"display_name":"Lisa"},"comment_count":1,"down_vote_count":4,"up_vote_count":259,"is_accepted":false,"score":255,"last_activity_date":1620970576,"creation_date":1331188003,"answer_id":9613729,"question_id":428918,"body_markdown":"UPDATE (May 2021): This is a really outdated answer for old, old Java. For Java 8 and above, see https://stackoverflow.com/a/20906602/314283\r\n\r\nJava does appear to be well behind the eight-ball compared to C#. This utility method shows the way to do in Java SE 6 using the [Calendar.add method][1] (presumably the only easy way).\r\n\r\n    public class DateUtil\r\n    {\r\n        public static Date addDays(Date date, int days)\r\n        {\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.setTime(date);\r\n            cal.add(Calendar.DATE, days); //minus number would decrement the days\r\n            return cal.getTime();\r\n        }\r\n    }\r\n\r\nTo add one day, per the question asked, call it as follows:\r\n\r\n    String sourceDate = &quot;2012-02-29&quot;;\r\n    SimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    Date myDate = format.parse(sourceDate);\r\n    myDate = DateUtil.addDays(myDate, 1);\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Calendar.html#add%28int,%20int%29","title":"How can I increment a date by one day in Java?","body":"<p>UPDATE (May 2021): This is a really outdated answer for old, old Java. For Java 8 and above, see <a href=\"https://stackoverflow.com/a/20906602/314283\">https://stackoverflow.com/a/20906602/314283</a></p>\n<p>Java does appear to be well behind the eight-ball compared to C#. This utility method shows the way to do in Java SE 6 using the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Calendar.html#add%28int,%20int%29\" rel=\"noreferrer\">Calendar.add method</a> (presumably the only easy way).</p>\n<pre><code>public class DateUtil\n{\n    public static Date addDays(Date date, int days)\n    {\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(date);\n        cal.add(Calendar.DATE, days); //minus number would decrement the days\n        return cal.getTime();\n    }\n}\n</code></pre>\n<p>To add one day, per the question asked, call it as follows:</p>\n<pre><code>String sourceDate = &quot;2012-02-29&quot;;\nSimpleDateFormat format = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\nDate myDate = format.parse(sourceDate);\nmyDate = DateUtil.addDays(myDate, 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1220512,"reputation":936,"user_id":1187246,"display_name":"Risav Karna"},"comment_count":0,"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1376102832,"creation_date":1344861204,"answer_id":11934356,"question_id":428918,"body_markdown":"I prefer to use **DateUtils** from Apache. Check this http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/time/DateUtils.html. It is handy especially when you have to use it multiple places in your project and would not want to write your one liner method for this. \r\n\r\nThe API says: \r\n\r\n&gt; addDays(Date date, int amount) : Adds a number of days to a date returning a new object.\r\n\r\nNote that it returns a new Date object and does not make changes to the previous one itself.","title":"How can I increment a date by one day in Java?","body":"<p>I prefer to use <strong>DateUtils</strong> from Apache. Check this <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/time/DateUtils.html\">http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/time/DateUtils.html</a>. It is handy especially when you have to use it multiple places in your project and would not want to write your one liner method for this. </p>\n\n<p>The API says: </p>\n\n<blockquote>\n  <p>addDays(Date date, int amount) : Adds a number of days to a date returning a new object.</p>\n</blockquote>\n\n<p>Note that it returns a new Date object and does not make changes to the previous one itself.</p>\n"},{"comments":[{"owner":{"account_id":45775,"reputation":12238,"user_id":135078,"accept_rate":94,"display_name":"Kelly S. French"},"score":14,"creation_date":1344964189,"post_id":11949674,"comment_id":15933720,"body_markdown":"fyi, Date.setDate() is deprecated","body":"fyi, Date.setDate() is deprecated"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1492180057,"post_id":11949674,"comment_id":73885732,"body_markdown":"On my computer it seems to work across a month border. After `Sun Apr 30 16:25:33 CEST 2017` comes `Mon May 01 16:25:33 CEST 2017`. It’s still a discouraged solution though. Not only is the method deprecated for a good reason, also in 2017 we have very good alternatives to the `Date` class.","body":"On my computer it seems to work across a month border. After <code>Sun Apr 30 16:25:33 CEST 2017</code> comes <code>Mon May 01 16:25:33 CEST 2017</code>. It’s still a discouraged solution though. Not only is the method deprecated for a good reason, also in 2017 we have very good alternatives to the <code>Date</code> class."}],"tags":[],"owner":{"account_id":425560,"reputation":71,"user_id":806232,"display_name":"Filip Trajcevski"},"comment_count":2,"down_vote_count":5,"up_vote_count":5,"is_accepted":false,"score":0,"last_activity_date":1344937490,"creation_date":1344937490,"answer_id":11949674,"question_id":428918,"body_markdown":"    Date newDate = new Date();\r\n    newDate.setDate(newDate.getDate()+1);\r\n    System.out.println(newDate);\r\n\r\n","title":"How can I increment a date by one day in Java?","body":"<pre><code>Date newDate = new Date();\nnewDate.setDate(newDate.getDate()+1);\nSystem.out.println(newDate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2559868,"reputation":1793,"user_id":2221087,"accept_rate":83,"display_name":"ROCKY"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1364496578,"creation_date":1364496578,"answer_id":15689884,"question_id":428918,"body_markdown":"Apache Commons already has this DateUtils.addDays(Date date, int amount)     http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/time/DateUtils.html#addDays%28java.util.Date,%20int%29 which you use or you could go with the JodaTime to make it more cleaner.","title":"How can I increment a date by one day in Java?","body":"<p>Apache Commons already has this DateUtils.addDays(Date date, int amount)     <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/time/DateUtils.html#addDays%28java.util.Date,%20int%29\">http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/time/DateUtils.html#addDays%28java.util.Date,%20int%29</a> which you use or you could go with the JodaTime to make it more cleaner.</p>\n"},{"comments":[{"owner":{"account_id":385766,"reputation":1224,"user_id":743117,"display_name":"Linh Lino"},"score":2,"creation_date":1402003499,"post_id":20488107,"comment_id":37118185,"body_markdown":"you can do something like c.setTime(Date object) to set a specific Date before adding.","body":"you can do something like c.setTime(Date object) to set a specific Date before adding."},{"owner":{"account_id":6443707,"reputation":806,"user_id":4992846,"display_name":"Shane Sepac"},"score":0,"creation_date":1514052766,"post_id":20488107,"comment_id":82879002,"body_markdown":"I wish the default java packages would make handling dates less convoluted... I mean it&#39;s such a pain every time you want to deal with dates... just a rant...","body":"I wish the default java packages would make handling dates less convoluted... I mean it&#39;s such a pain every time you want to deal with dates... just a rant..."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1532895747,"post_id":20488107,"comment_id":90133856,"body_markdown":"@Shn_Android_Dev The *java.time* classes built into Java 8 and later supplant the terrible old date-time classes, and answer your wish. Also back-ported to Java 6/7 &amp; earlier Android in the *ThreeTen-Backport* and *ThreeTenABP* projects. No need to ever use `Date` or `Calendar` again.","body":"@Shn_Android_Dev The <i>java.time</i> classes built into Java 8 and later supplant the terrible old date-time classes, and answer your wish. Also back-ported to Java 6/7 &amp; earlier Android in the <i>ThreeTen-Backport</i> and <i>ThreeTenABP</i> projects. No need to ever use <code>Date</code> or <code>Calendar</code> again."}],"tags":[],"owner":{"account_id":3707694,"reputation":261,"user_id":3085767,"display_name":"Akhilesh T."},"comment_count":3,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1509469386,"creation_date":1386658807,"answer_id":20488107,"question_id":428918,"body_markdown":"    Date today = new Date();               \r\n    SimpleDateFormat formattedDate = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\t\t\t  \r\n    Calendar c = Calendar.getInstance();\t\t\r\n    c.add(Calendar.DATE, 1);  // number of days to add\t\t\r\n    String tomorrow = (String)(formattedDate.format(c.getTime()));\r\n    System.out.println(&quot;Tomorrows date is &quot; + tomorrow);\r\n\r\nThis will give tomorrow&#39;s date. `c.add(...)` parameters could be changed from 1 to another number for appropriate increment.","title":"How can I increment a date by one day in Java?","body":"<pre><code>Date today = new Date();               \nSimpleDateFormat formattedDate = new SimpleDateFormat(\"yyyyMMdd\");            \nCalendar c = Calendar.getInstance();        \nc.add(Calendar.DATE, 1);  // number of days to add      \nString tomorrow = (String)(formattedDate.format(c.getTime()));\nSystem.out.println(\"Tomorrows date is \" + tomorrow);\n</code></pre>\n\n<p>This will give tomorrow's date. <code>c.add(...)</code> parameters could be changed from 1 to another number for appropriate increment.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":8,"creation_date":1458146935,"post_id":20906602,"comment_id":59732761,"body_markdown":"FYI, both [`ZonedDateDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html) and [`OffsetDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html) also have `plusDays` and `minusDays` methods as well as `LocalDate`","body":"FYI, both <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateDateTime</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a> also have <code>plusDays</code> and <code>minusDays</code> methods as well as <code>LocalDate</code>"},{"owner":{"account_id":21713,"reputation":295602,"user_id":53013,"accept_rate":78,"display_name":"Daniel C. Sobral"},"score":0,"creation_date":1458155560,"post_id":20906602,"comment_id":59738328,"body_markdown":"@BasilBourque Sure, but the information available in the question is that of a `LocalDate`.","body":"@BasilBourque Sure, but the information available in the question is that of a <code>LocalDate</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":4,"creation_date":1458164060,"post_id":20906602,"comment_id":59743327,"body_markdown":"@DanielCSobral Yep. Just adding links for your readers’ edification. Not a criticism.","body":"@DanielCSobral Yep. Just adding links for your readers’ edification. Not a criticism."}],"tags":[],"owner":{"account_id":21713,"reputation":295602,"user_id":53013,"accept_rate":78,"display_name":"Daniel C. Sobral"},"comment_count":3,"down_vote_count":1,"up_vote_count":106,"is_accepted":false,"score":105,"last_activity_date":1435685614,"creation_date":1388761697,"answer_id":20906602,"question_id":428918,"body_markdown":"# java.time\n\nOn Java 8 and later, the [java.time package][1] makes this pretty much automatic. ([Tutorial][2])\n\nAssuming `String` input and output:\r\n\r\n    import java.time.LocalDate;\r\n\r\n    public class DateIncrementer {\r\n      static public String addOneDay(String date) {\r\n        return LocalDate.parse(date).plusDays(1).toString();\r\n      }\r\n    }\r\n\n\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\n  [2]: http://docs.oracle.com/javase/tutorial/datetime/overview/index.html","title":"How can I increment a date by one day in Java?","body":"<h1>java.time</h1>\n\n<p>On Java 8 and later, the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\">java.time package</a> makes this pretty much automatic. (<a href=\"http://docs.oracle.com/javase/tutorial/datetime/overview/index.html\">Tutorial</a>)</p>\n\n<p>Assuming <code>String</code> input and output:</p>\n\n<pre><code>import java.time.LocalDate;\n\npublic class DateIncrementer {\n  static public String addOneDay(String date) {\n    return LocalDate.parse(date).plusDays(1).toString();\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8289127,"reputation":6118,"user_id":6231376,"display_name":"TeWu"},"score":2,"creation_date":1473587191,"post_id":23910924,"comment_id":66192228,"body_markdown":"I guess you meant `januaryFirst.plusDays(1)` not `date.plusDays(1)`.","body":"I guess you meant <code>januaryFirst.plusDays(1)</code> not <code>date.plusDays(1)</code>."},{"owner":{"account_id":3975243,"reputation":539,"user_id":3278589,"accept_rate":73,"display_name":"Subho"},"score":0,"creation_date":1495095601,"post_id":23910924,"comment_id":75110402,"body_markdown":"This is only supported on android O https://developer.android.com/reference/java/time/package-summary.html","body":"This is only supported on android O <a href=\"https://developer.android.com/reference/java/time/package-summary.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/java/time/package-summary.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1532895892,"post_id":23910924,"comment_id":90133899,"body_markdown":"@Subho For Android before 26, see the *ThreeTenABP* project that adapts the *ThreeTen-Backport* project, a back-port if most of the *java-time* functionality to Java 6 and Java 7.","body":"@Subho For Android before 26, see the <i>ThreeTenABP</i> project that adapts the <i>ThreeTen-Backport</i> project, a back-port if most of the <i>java-time</i> functionality to Java 6 and Java 7."}],"tags":[],"owner":{"account_id":1129042,"reputation":48154,"user_id":1115554,"accept_rate":100,"display_name":"micha"},"comment_count":3,"down_vote_count":1,"up_vote_count":48,"is_accepted":false,"score":47,"last_activity_date":1473630080,"creation_date":1401278028,"answer_id":23910924,"question_id":428918,"body_markdown":"Java 8 added a new API for working with dates and times.\r\n\r\nWith Java 8 you can use the following lines of code:\r\n\r\n    // parse date from yyyy-mm-dd pattern\r\n    LocalDate januaryFirst = LocalDate.parse(&quot;2014-01-01&quot;);\r\n\r\n    // add one day\r\n    LocalDate januarySecond = januaryFirst.plusDays(1);\r\n    \r\n\r\n    ","title":"How can I increment a date by one day in Java?","body":"<p>Java 8 added a new API for working with dates and times.</p>\n\n<p>With Java 8 you can use the following lines of code:</p>\n\n<pre><code>// parse date from yyyy-mm-dd pattern\nLocalDate januaryFirst = LocalDate.parse(\"2014-01-01\");\n\n// add one day\nLocalDate januarySecond = januaryFirst.plusDays(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2524897,"reputation":2922,"user_id":2194456,"accept_rate":47,"display_name":"LMK"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1402921675,"creation_date":1402921675,"answer_id":24243737,"question_id":428918,"body_markdown":"Just pass date in String and number of next days  \r\n  \r\n     private String getNextDate(String givenDate,int noOfDays) {\r\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            Calendar cal = Calendar.getInstance();\r\n            String nextDaysDate = null;\r\n        try {\r\n            cal.setTime(dateFormat.parse(givenDate));\r\n            cal.add(Calendar.DATE, noOfDays);\r\n            \r\n           nextDaysDate = dateFormat.format(cal.getTime());\r\n            \r\n        } catch (ParseException ex) {\r\n            Logger.getLogger(GR_TravelRepublic.class.getName()).log(Level.SEVERE, null, ex);\r\n        }finally{\r\n        dateFormat = null;\r\n        cal = null;\r\n        }\r\n\r\n        return nextDaysDate;\r\n\r\n    }","title":"How can I increment a date by one day in Java?","body":"<p>Just pass date in String and number of next days  </p>\n\n<pre><code> private String getNextDate(String givenDate,int noOfDays) {\n        SimpleDateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd\");\n        Calendar cal = Calendar.getInstance();\n        String nextDaysDate = null;\n    try {\n        cal.setTime(dateFormat.parse(givenDate));\n        cal.add(Calendar.DATE, noOfDays);\n\n       nextDaysDate = dateFormat.format(cal.getTime());\n\n    } catch (ParseException ex) {\n        Logger.getLogger(GR_TravelRepublic.class.getName()).log(Level.SEVERE, null, ex);\n    }finally{\n    dateFormat = null;\n    cal = null;\n    }\n\n    return nextDaysDate;\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":31280,"reputation":768,"user_id":85783,"accept_rate":100,"display_name":"mrec"},"score":0,"creation_date":1411060138,"post_id":25854287,"comment_id":40571453,"body_markdown":"This is probably not what OP wanted; it doesn&#39;t make any allowance for Daylight Savings-type adjustments, leap seconds and so on.","body":"This is probably not what OP wanted; it doesn&#39;t make any allowance for Daylight Savings-type adjustments, leap seconds and so on."},{"owner":{"account_id":4997827,"reputation":310,"user_id":4017733,"display_name":"dvaey"},"score":1,"creation_date":1411085744,"post_id":25854287,"comment_id":40582190,"body_markdown":"Daylight savings should be handled by timezone/locale. My example was showing how to increment by small durations. When incrementing by days, leap seconds can be an issue but when adding hours, it is less likely although still possible.","body":"Daylight savings should be handled by timezone/locale. My example was showing how to increment by small durations. When incrementing by days, leap seconds can be an issue but when adding hours, it is less likely although still possible."}],"tags":[],"owner":{"account_id":4997827,"reputation":310,"user_id":4017733,"display_name":"dvaey"},"comment_count":2,"down_vote_count":3,"up_vote_count":21,"is_accepted":false,"score":18,"last_activity_date":1410804933,"creation_date":1410804933,"answer_id":25854287,"question_id":428918,"body_markdown":"    long timeadj = 24*60*60*1000;\n    Date newDate = new Date (oldDate.getTime ()+timeadj);\n\nThis takes the number of milliseconds since epoch from oldDate and adds 1 day worth of milliseconds then uses the Date() public constructor to create a date using the new value. This method allows you to add 1 day, or any number of hours/minutes, not only whole days.","title":"How can I increment a date by one day in Java?","body":"<pre><code>long timeadj = 24*60*60*1000;\nDate newDate = new Date (oldDate.getTime ()+timeadj);\n</code></pre>\n\n<p>This takes the number of milliseconds since epoch from oldDate and adds 1 day worth of milliseconds then uses the Date() public constructor to create a date using the new value. This method allows you to add 1 day, or any number of hours/minutes, not only whole days.</p>\n"},{"comments":[{"owner":{"account_id":1813321,"reputation":113,"user_id":1648958,"display_name":"terrmith"},"score":0,"creation_date":1423558728,"post_id":28411462,"comment_id":45186723,"body_markdown":"There is no accepted answer and I felt there was overall confusion if other fields are updated aswell.","body":"There is no accepted answer and I felt there was overall confusion if other fields are updated aswell."}],"tags":[],"owner":{"account_id":1813321,"reputation":113,"user_id":1648958,"display_name":"terrmith"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1423490320,"creation_date":1423490320,"answer_id":28411462,"question_id":428918,"body_markdown":"If you want to add a single unit of time and you expect that other fields to be incremented as well, you can safely use add method. See example below:\r\n\r\n    SimpleDateFormat simpleDateFormat1 = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.set(1970,Calendar.DECEMBER,31);\r\n    System.out.println(simpleDateFormat1.format(cal.getTime()));\r\n    cal.add(Calendar.DATE, 1);\r\n    System.out.println(simpleDateFormat1.format(cal.getTime()));\r\n    cal.add(Calendar.DATE, -1);\r\n    System.out.println(simpleDateFormat1.format(cal.getTime()));\r\n\r\nWill Print:\r\n\r\n    1970-12-31\r\n    1971-01-01\r\n    1970-12-31","title":"How can I increment a date by one day in Java?","body":"<p>If you want to add a single unit of time and you expect that other fields to be incremented as well, you can safely use add method. See example below:</p>\n\n<pre><code>SimpleDateFormat simpleDateFormat1 = new SimpleDateFormat(\"yyyy-MM-dd\");\nCalendar cal = Calendar.getInstance();\ncal.set(1970,Calendar.DECEMBER,31);\nSystem.out.println(simpleDateFormat1.format(cal.getTime()));\ncal.add(Calendar.DATE, 1);\nSystem.out.println(simpleDateFormat1.format(cal.getTime()));\ncal.add(Calendar.DATE, -1);\nSystem.out.println(simpleDateFormat1.format(cal.getTime()));\n</code></pre>\n\n<p>Will Print:</p>\n\n<pre><code>1970-12-31\n1971-01-01\n1970-12-31\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1435685327,"post_id":31114423,"comment_id":50299675,"body_markdown":"This Answer duplicates the content of multiple Answers including [the accepted Answer](http://stackoverflow.com/a/428966/642706) from three years ago. Please delete your Answer or edit to add value.","body":"This Answer duplicates the content of multiple Answers including <a href=\"http://stackoverflow.com/a/428966/642706\">the accepted Answer</a> from three years ago. Please delete your Answer or edit to add value."},{"owner":{"account_id":1142389,"reputation":2598,"user_id":1125913,"accept_rate":68,"display_name":"Mickey Perlstein"},"score":6,"creation_date":1512047969,"post_id":31114423,"comment_id":82105662,"body_markdown":"this answer is cleaner, doesnt parse the date in the middle. the &quot;accepted answer&quot; is too convoluted. it&#39;s good you added yours, disregard basil&#39;s automated remark","body":"this answer is cleaner, doesnt parse the date in the middle. the &quot;accepted answer&quot; is too convoluted. it&#39;s good you added yours, disregard basil&#39;s automated remark"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1543350548,"post_id":31114423,"comment_id":93885083,"body_markdown":"FYI, the terribly troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the terribly troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."},{"owner":{"account_id":6669510,"reputation":338,"user_id":5146017,"display_name":"eramirez75"},"score":0,"creation_date":1585340162,"post_id":31114423,"comment_id":107735119,"body_markdown":"Best answer, straight to the point. I agree with Mickey, just disregard basil&#39;s comment","body":"Best answer, straight to the point. I agree with Mickey, just disregard basil&#39;s comment"}],"tags":[],"owner":{"account_id":5516732,"reputation":479,"user_id":4381218,"display_name":"Pawan Pareek"},"comment_count":4,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1435577080,"creation_date":1435577080,"answer_id":31114423,"question_id":428918,"body_markdown":"you can use Simple java.util lib\r\n\r\n    Calendar cal = Calendar.getInstance(); \r\n    cal.setTime(yourDate); \r\n    cal.add(Calendar.DATE, 1);\r\n    yourDate = cal.getTime();","title":"How can I increment a date by one day in Java?","body":"<p>you can use Simple java.util lib</p>\n\n<pre><code>Calendar cal = Calendar.getInstance(); \ncal.setTime(yourDate); \ncal.add(Calendar.DATE, 1);\nyourDate = cal.getTime();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3204517,"reputation":4873,"user_id":2924323,"accept_rate":96,"display_name":"Ramesh-X"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1448958022,"creation_date":1448958022,"answer_id":34015665,"question_id":428918,"body_markdown":"In java 8 you can use `java.time.LocalDate`\r\n\r\n    LocalDate parsedDate = LocalDate.parse(&quot;2015-10-30&quot;); //Parse date from String\r\n    LocalDate addedDate = parsedDate.plusDays(1);   //Add one to the day field\r\n\r\nYou can convert in into `java.util.Date` object as follows.\r\n\r\n    Date date = Date.from(addedDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\r\n\r\nYou can formate `LocalDate` into a String as follows.\r\n\r\n    String str = addedDate.format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;));","title":"How can I increment a date by one day in Java?","body":"<p>In java 8 you can use <code>java.time.LocalDate</code></p>\n\n<pre><code>LocalDate parsedDate = LocalDate.parse(\"2015-10-30\"); //Parse date from String\nLocalDate addedDate = parsedDate.plusDays(1);   //Add one to the day field\n</code></pre>\n\n<p>You can convert in into <code>java.util.Date</code> object as follows.</p>\n\n<pre><code>Date date = Date.from(addedDate.atStartOfDay(ZoneId.systemDefault()).toInstant());\n</code></pre>\n\n<p>You can formate <code>LocalDate</code> into a String as follows.</p>\n\n<pre><code>String str = addedDate.format(DateTimeFormatter.ofPattern(\"yyyy-MM-dd\"));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1492166941,"post_id":35125368,"comment_id":73878916,"body_markdown":"Even simpler: Drop the formatter and just use `toString()` to produce the string i yyyy-MM-dd format (and if you insist, remember that `mm` is minutes while `MM` is the month).","body":"Even simpler: Drop the formatter and just use <code>toString()</code> to produce the string i yyyy-MM-dd format (and if you insist, remember that <code>mm</code> is minutes while <code>MM</code> is the month)."}],"tags":[],"owner":{"account_id":5149275,"reputation":955,"user_id":4124310,"display_name":"realhu"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1454313024,"creation_date":1454313024,"answer_id":35125368,"question_id":428918,"body_markdown":"If you are using Java 8, ```java.time.LocalDate``` and ```java.time.format.DateTimeFormatter``` can make this work quite simple.\r\n    \r\n    public String nextDate(String date){\r\n          LocalDate parsedDate = LocalDate.parse(date);\r\n          LocalDate addedDate = parsedDate.plusDays(1);\r\n          DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-mm-dd&quot;);\r\n          return addedDate.format(formatter); \r\n    }\r\n","title":"How can I increment a date by one day in Java?","body":"<p>If you are using Java 8, <code>java.time.LocalDate</code> and <code>java.time.format.DateTimeFormatter</code> can make this work quite simple.</p>\n\n<pre><code>public String nextDate(String date){\n      LocalDate parsedDate = LocalDate.parse(date);\n      LocalDate addedDate = parsedDate.plusDays(1);\n      DateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-mm-dd\");\n      return addedDate.format(formatter); \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1487974225,"post_id":42447357,"comment_id":72042068,"body_markdown":"This creates a date-time value where the Question asks for a date-only. I suggest a much wiser approach is the [`LocalDate`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) class in the java.time classes for Java 8 and later, and the back-port to Java 6 &amp; Java 7 found in the [ThreeTen-Backport](http://www.threeten.org/threetenbp/) project.","body":"This creates a date-time value where the Question asks for a date-only. I suggest a much wiser approach is the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> class in the java.time classes for Java 8 and later, and the back-port to Java 6 &amp; Java 7 found in the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen-Backport</a> project."}],"tags":[],"owner":{"account_id":1031960,"reputation":1619,"user_id":1040124,"display_name":"Jens"},"comment_count":1,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1487966692,"creation_date":1487966692,"answer_id":42447357,"question_id":428918,"body_markdown":"Since **Java 1.5** [TimeUnit.DAYS.toMillis(1)][1] looks more clean to me.\r\n\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat( &quot;yyyy-MM-dd&quot; );\r\n    Date day = dateFormat.parse(string);\r\n    // add the day\r\n    Date dayAfter = new Date(day.getTime() + TimeUnit.DAYS.toMillis(1));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/TimeUnit.html","title":"How can I increment a date by one day in Java?","body":"<p>Since <strong>Java 1.5</strong> <a href=\"https://docs.oracle.com/javase/1.5.0/docs/api/java/util/concurrent/TimeUnit.html\" rel=\"noreferrer\">TimeUnit.DAYS.toMillis(1)</a> looks more clean to me.</p>\n\n<pre><code>SimpleDateFormat dateFormat = new SimpleDateFormat( \"yyyy-MM-dd\" );\nDate day = dateFormat.parse(string);\n// add the day\nDate dayAfter = new Date(day.getTime() + TimeUnit.DAYS.toMillis(1));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1495866664,"post_id":44213568,"comment_id":75439160,"body_markdown":"No, the Question asked for a date-only value not a date-time. So use the `LocalDate` class not `LocalDateTime`.","body":"No, the Question asked for a date-only value not a date-time. So use the <code>LocalDate</code> class not <code>LocalDateTime</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1495867166,"post_id":44213568,"comment_id":75439265,"body_markdown":"Your Answer repeats the content of at least four other Answers. Please explain how yours adds value beyond those, or else delete before you collect down-votes.","body":"Your Answer repeats the content of at least four other Answers. Please explain how yours adds value beyond those, or else delete before you collect down-votes."}],"tags":[],"owner":{"account_id":6890350,"reputation":9038,"user_id":5294091,"accept_rate":100,"display_name":"Avijit Karmakar"},"comment_count":2,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1515925555,"creation_date":1495865352,"answer_id":44213568,"question_id":428918,"body_markdown":"If you are using **Java 8**, then do it like this.\r\n\r\n    LocalDate sourceDate = LocalDate.of(2017, Month.MAY, 27);  // Source Date\r\n    LocalDate destDate = sourceDate.plusDays(1); // Adding a day to source date.\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;); // Setting date format\r\n\r\n    String destDate = destDate.format(formatter));  // End date\r\n\r\nIf you want to use **SimpleDateFormat**, then do it like this.\r\n\r\n    String sourceDate = &quot;2017-05-27&quot;;  // Start date\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.setTime(sdf.parse(sourceDate)); // parsed date and setting to calendar\r\n\r\n    calendar.add(Calendar.DATE, 1);  // number of days to add\r\n    String destDate = sdf.format(calendar.getTime());  // End date","title":"How can I increment a date by one day in Java?","body":"<p>If you are using <strong>Java 8</strong>, then do it like this.</p>\n\n<pre><code>LocalDate sourceDate = LocalDate.of(2017, Month.MAY, 27);  // Source Date\nLocalDate destDate = sourceDate.plusDays(1); // Adding a day to source date.\n\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd\"); // Setting date format\n\nString destDate = destDate.format(formatter));  // End date\n</code></pre>\n\n<p>If you want to use <strong>SimpleDateFormat</strong>, then do it like this.</p>\n\n<pre><code>String sourceDate = \"2017-05-27\";  // Start date\n\nSimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n\nCalendar calendar = Calendar.getInstance();\ncalendar.setTime(sdf.parse(sourceDate)); // parsed date and setting to calendar\n\ncalendar.add(Calendar.DATE, 1);  // number of days to add\nString destDate = sdf.format(calendar.getTime());  // End date\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10541959,"reputation":8904,"user_id":7767664,"accept_rate":63,"display_name":"user924"},"score":0,"creation_date":1618151919,"post_id":47976131,"comment_id":118509877,"body_markdown":"it&#39;s better to use synonym constant `Calendar.DAY_OF_MONTH` for code readability","body":"it&#39;s better to use synonym constant <code>Calendar.DAY_OF_MONTH</code> for code readability"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1668328738,"post_id":47976131,"comment_id":131374970,"body_markdown":"Update: The terribly flawed `Calendar` was years ago supplanted by the modern *java.time* classes defined in JSR 310.","body":"Update: The terribly flawed <code>Calendar</code> was years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."}],"tags":[],"owner":{"account_id":7441676,"reputation":860,"user_id":5659278,"display_name":"Kushwaha"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1532551359,"creation_date":1514278704,"answer_id":47976131,"question_id":428918,"body_markdown":"It&#39;s very simple, trying to explain in a simple word.\r\nget the today&#39;s date as below \r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    System.out.println(calendar.getTime());// print today&#39;s date\r\n    calendar.add(Calendar.DATE, 1);\r\n\r\nNow set one day ahead with this date by calendar.add method which takes (constant, value). Here constant could be DATE, hours, min, sec etc. and value is the value of constant. Like for one day, ahead constant is Calendar.DATE and its value are 1 because we want one day ahead value.\r\n\t\t\r\n`System.out.println(calendar.getTime());// print modified date which is` tomorrow&#39;s date\r\n\r\nThanks","title":"How can I increment a date by one day in Java?","body":"<p>It's very simple, trying to explain in a simple word.\nget the today's date as below </p>\n\n<pre><code>Calendar calendar = Calendar.getInstance();\nSystem.out.println(calendar.getTime());// print today's date\ncalendar.add(Calendar.DATE, 1);\n</code></pre>\n\n<p>Now set one day ahead with this date by calendar.add method which takes (constant, value). Here constant could be DATE, hours, min, sec etc. and value is the value of constant. Like for one day, ahead constant is Calendar.DATE and its value are 1 because we want one day ahead value.</p>\n\n<p><code>System.out.println(calendar.getTime());// print modified date which is</code> tomorrow's date</p>\n\n<p>Thanks</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":6,"creation_date":1519761340,"post_id":49015643,"comment_id":85038805,"body_markdown":"Suggesting `Date` class in 2018 is poor advice. The troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html), `java.util.Calendar`, and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [java.time](https://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes built into Java 8 &amp; Java 9. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html). See other Answers using `LocalDate` class.","body":"Suggesting <code>Date</code> class in 2018 is poor advice. The troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <code>java.util.Calendar</code>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes built into Java 8 &amp; Java 9. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>. See other Answers using <code>LocalDate</code> class."},{"owner":{"account_id":7730752,"reputation":92,"user_id":5853985,"display_name":"Shaheed"},"score":0,"creation_date":1519848415,"post_id":49015643,"comment_id":85080439,"body_markdown":"Yes it is, LocalDate IS the best way to do that,","body":"Yes it is, LocalDate IS the best way to do that,"},{"owner":{"account_id":8254104,"reputation":314,"user_id":6207773,"accept_rate":0,"display_name":"Lucke"},"score":0,"creation_date":1532678491,"post_id":49015643,"comment_id":90073792,"body_markdown":"however some frameworks like jsf have a little integration problems with time API so sometimes you should use Date; plus environment java  &lt; 8","body":"however some frameworks like jsf have a little integration problems with time API so sometimes you should use Date; plus environment java  &lt; 8"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1532896113,"post_id":49015643,"comment_id":90133962,"body_markdown":"@Lucke Most of the *java.time* functionality was back-ported to Java 6 &amp; 7 in the *ThreeTen-Backport* project. Further adapted to older Android in *ThreeTenABP* project. So, really no need to ever touch those bloody awful old date-time classes. Many frameworks have been updated. But not all. So if you must interoperate with old code not yet updated to *java.time*, write your new code in *java.time* and convert to/from the old types by calling new conversion methods added to the old classes.","body":"@Lucke Most of the <i>java.time</i> functionality was back-ported to Java 6 &amp; 7 in the <i>ThreeTen-Backport</i> project. Further adapted to older Android in <i>ThreeTenABP</i> project. So, really no need to ever touch those bloody awful old date-time classes. Many frameworks have been updated. But not all. So if you must interoperate with old code not yet updated to <i>java.time</i>, write your new code in <i>java.time</i> and convert to/from the old types by calling new conversion methods added to the old classes."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1543350487,"post_id":49015643,"comment_id":93885050,"body_markdown":"This code ignores the **crucial issue of time zone**. For any given moment, the date varies around the glob by zone. The `SimpleDateFormat` class unfortunately injects a time zone, implicitly applying the JVM’s current default zone. So the results of this code will vary by whatever the current default is —&#160;and that default can change at any moment *during* runtime.","body":"This code ignores the <b>crucial issue of time zone</b>. For any given moment, the date varies around the glob by zone. The <code>SimpleDateFormat</code> class unfortunately injects a time zone, implicitly applying the JVM’s current default zone. So the results of this code will vary by whatever the current default is — and that default can change at any moment <i>during</i> runtime."}],"tags":[],"owner":{"account_id":7730752,"reputation":92,"user_id":5853985,"display_name":"Shaheed"},"comment_count":5,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1519761671,"creation_date":1519756426,"answer_id":49015643,"question_id":428918,"body_markdown":"You can use this package from &quot;org.apache.commons.lang3.time&quot;:\r\n \r\n     SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n     Date myNewDate = DateUtils.addDays(myDate, 4);\r\n     Date yesterday = DateUtils.addDays(myDate, -1);\r\n     String formatedDate = sdf.format(myNewDate);  \r\n","title":"How can I increment a date by one day in Java?","body":"<p>You can use this package from \"org.apache.commons.lang3.time\":</p>\n\n<pre><code> SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n Date myNewDate = DateUtils.addDays(myDate, 4);\n Date yesterday = DateUtils.addDays(myDate, -1);\n String formatedDate = sdf.format(myNewDate);  \n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":19,"creation_date":1533022103,"post_id":51606457,"comment_id":90180476,"body_markdown":"Seems a bit of a stretch. Why not just go with [`Instant.now().plus( 1 , ChronoUnit.DAYS )`](https://docs.oracle.com/javase/10/docs/api/java/time/Instant.html#plus(long,java.time.temporal.TemporalUnit)) ?","body":"Seems a bit of a stretch. Why not just go with <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Instant.html#plus(long,java.time.temporal.TemporalUnit)\" rel=\"nofollow noreferrer\"><code>Instant.now().plus( 1 , ChronoUnit.DAYS )</code></a> ?"}],"tags":[],"owner":{"account_id":3659366,"reputation":641,"user_id":3049589,"display_name":"dpk"},"comment_count":1,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1533017347,"creation_date":1533017347,"answer_id":51606457,"question_id":428918,"body_markdown":"In Java 8 simple way to do is:\r\n\r\n    Date.from(Instant.now().plusSeconds(SECONDS_PER_DAY))\r\n\r\n","title":"How can I increment a date by one day in Java?","body":"<p>In Java 8 simple way to do is:</p>\n\n<pre><code>Date.from(Instant.now().plusSeconds(SECONDS_PER_DAY))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1543350118,"post_id":53507387,"comment_id":93884885,"body_markdown":"Never mix the terrible legacy classes such as `Date` with the modern *java.time* classes such as `Instant`. The *java.time* classes entirely supplant the legacy classes. Specifically, `Instant` replaces `java.util.Date`.","body":"Never mix the terrible legacy classes such as <code>Date</code> with the modern <i>java.time</i> classes such as <code>Instant</code>. The <i>java.time</i> classes entirely supplant the legacy classes. Specifically, <code>Instant</code> replaces <code>java.util.Date</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1543350325,"post_id":53507387,"comment_id":93884983,"body_markdown":"**Does not address the Question.** You are using classes representing a moment (a date with time-of-day in context of an offset or zone). But the Question asks about date-only without time-of-day and without time zone. See [correct Answer](https://stackoverflow.com/a/20906602/642706) by Sobral and [correct Answer](https://stackoverflow.com/a/23910924/642706) by micha.","body":"<b>Does not address the Question.</b> You are using classes representing a moment (a date with time-of-day in context of an offset or zone). But the Question asks about date-only without time-of-day and without time zone. See <a href=\"https://stackoverflow.com/a/20906602/642706\">correct Answer</a> by Sobral and <a href=\"https://stackoverflow.com/a/23910924/642706\">correct Answer</a> by micha."}],"tags":[],"owner":{"account_id":5423691,"reputation":1195,"user_id":4316647,"display_name":"Chad Juliano"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543349482,"creation_date":1543349482,"answer_id":53507387,"question_id":428918,"body_markdown":"Let&#39;s clarify the use case: You want to do calendar arithmetic and start/end with a [java.util.Date][1]. \r\n\r\nSome approaches:\r\n\r\n1. Convert to string and back with [SimpleDateFormat][2]: This is an inefficient solution.\r\n2. Convert to [LocalDate][3]: You would lose any time-of-day information.\r\n3. Convert to [LocalDateTime][4]: This involves more steps and you need to worry about timezone.\r\n4. Convert to epoch with [Date.getTime()][5]: This is efficient but you are calculating with milliseconds.\r\n\r\nConsider using [java.time.Instant][6]:\r\n\r\n    Date _now = new Date();\r\n    Instant _instant = _now.toInstant().minus(5, ChronoUnit.DAYS);\r\n    Date _newDate = Date.from(_instant);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Date.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\r\n  [5]: https://docs.oracle.com/javase/7/docs/api/java/util/Date.html#getTime()\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html","title":"How can I increment a date by one day in Java?","body":"<p>Let's clarify the use case: You want to do calendar arithmetic and start/end with a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\">java.util.Date</a>. </p>\n\n<p>Some approaches:</p>\n\n<ol>\n<li>Convert to string and back with <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">SimpleDateFormat</a>: This is an inefficient solution.</li>\n<li>Convert to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\">LocalDate</a>: You would lose any time-of-day information.</li>\n<li>Convert to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\">LocalDateTime</a>: This involves more steps and you need to worry about timezone.</li>\n<li>Convert to epoch with <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Date.html#getTime()\" rel=\"nofollow noreferrer\">Date.getTime()</a>: This is efficient but you are calculating with milliseconds.</li>\n</ol>\n\n<p>Consider using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\">java.time.Instant</a>:</p>\n\n<pre><code>Date _now = new Date();\nInstant _instant = _now.toInstant().minus(5, ChronoUnit.DAYS);\nDate _newDate = Date.from(_instant);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":6,"creation_date":1550481594,"post_id":54742578,"comment_id":96269864,"body_markdown":"Thank you for wanting to contribute. However this is already in several of the other answers, so I really see no point… Apart from that IMHO nobody should use the poorly designed and long outdated `Calendar` class in 2019.","body":"Thank you for wanting to contribute. However this is already in several of the other answers, so I really see no point… Apart from that IMHO nobody should use the poorly designed and long outdated <code>Calendar</code> class in 2019."},{"owner":{"account_id":10541959,"reputation":8904,"user_id":7767664,"accept_rate":63,"display_name":"user924"},"score":1,"creation_date":1618151971,"post_id":54742578,"comment_id":118509896,"body_markdown":"it&#39;s better to use synonym constant `Calendar.DAY_OF_MONTH` for code readability","body":"it&#39;s better to use synonym constant <code>Calendar.DAY_OF_MONTH</code> for code readability"}],"tags":[],"owner":{"account_id":13880155,"reputation":2869,"user_id":10020712,"display_name":"Abdurahman Popal"},"comment_count":2,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1550476172,"creation_date":1550476172,"answer_id":54742578,"question_id":428918,"body_markdown":"    startCalendar.add(Calendar.DATE, 1); //Add 1 Day to the current Calender","title":"How can I increment a date by one day in Java?","body":"<pre><code>startCalendar.add(Calendar.DATE, 1); //Add 1 Day to the current Calender\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1557415866,"post_id":56059611,"comment_id":98765822,"body_markdown":"This code uses the terrible `Date` class that was supplanted years ago by the modern *java.time* classes. So much simpler to simply use: `LocalDate.parse( &quot;2019-01-23&quot; ).plusDays( 1 )`","body":"This code uses the terrible <code>Date</code> class that was supplanted years ago by the modern <i>java.time</i> classes. So much simpler to simply use: <code>LocalDate.parse( &quot;2019-01-23&quot; ).plusDays( 1 )</code>"}],"tags":[],"owner":{"account_id":12271551,"reputation":105,"user_id":8956569,"display_name":"Mike T"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1557412388,"creation_date":1557405405,"answer_id":56059611,"question_id":428918,"body_markdown":"It&#39;s simple actually.\r\nOne day contains 86400000 milliSeconds. \r\nSo first you get the current time in millis from The System by using`System.currentTimeMillis()` then\r\nadd the 84000000 milliSeconds and use the `Date` Class to generate A date format for the milliseconds.\r\n\r\nExample \r\n\r\n`String Today = new Date(System.currentTimeMillis()).toString();`\r\n\r\nString Today will be 2019-05-9 \r\n\r\n`String Tommorow = new Date(System.currentTimeMillis() + 86400000).toString();`\r\n\r\nString Tommorow will be 2019-05-10\r\n\r\n`String DayAfterTommorow = new Date(System.currentTimeMillis() + (2 * 86400000)).toString();`\r\n\r\nString DayAfterTommorow will be 2019-05-11","title":"How can I increment a date by one day in Java?","body":"<p>It's simple actually.\nOne day contains 86400000 milliSeconds. \nSo first you get the current time in millis from The System by using<code>System.currentTimeMillis()</code> then\nadd the 84000000 milliSeconds and use the <code>Date</code> Class to generate A date format for the milliseconds.</p>\n\n<p>Example </p>\n\n<p><code>String Today = new Date(System.currentTimeMillis()).toString();</code></p>\n\n<p>String Today will be 2019-05-9 </p>\n\n<p><code>String Tommorow = new Date(System.currentTimeMillis() + 86400000).toString();</code></p>\n\n<p>String Tommorow will be 2019-05-10</p>\n\n<p><code>String DayAfterTommorow = new Date(System.currentTimeMillis() + (2 * 86400000)).toString();</code></p>\n\n<p>String DayAfterTommorow will be 2019-05-11</p>\n"},{"tags":[],"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1602438320,"creation_date":1561391076,"answer_id":56739994,"question_id":428918,"body_markdown":"With Java SE 8 or higher you should use the new [Date/Time API][1]\r\n  \r\n\r\n     int days = 7;       \r\n     LocalDate dateRedeemed = LocalDate.now();\r\n     DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/YYYY&quot;);\r\n\r\n     String newDate = dateRedeemed.plusDays(days).format(formatter);   \r\n     System.out.println(newDate);\r\n\r\nIf you need to convert from `java.util.Date` to `java.time.LocalDate`, you may use this method.\r\n\r\n      public LocalDate asLocalDate(Date date) {\r\n          Instant instant = date.toInstant();\r\n          ZonedDateTime zdt = instant.atZone(ZoneId.systemDefault());\r\n          return zdt.toLocalDate();\r\n      }\r\n\r\nWith a version prior to Java SE 8 you may use [Joda-Time][2]\r\n\r\n&gt; Joda-Time provides a quality replacement for the Java date and time\r\n&gt; classes and is the de facto standard date and time library for Java\r\n&gt; prior to Java SE 8\r\n\r\n       int days = 7;       \r\n       DateTime dateRedeemed = DateTime.now();\r\n       DateTimeFormatter formatter = DateTimeFormat.forPattern(&quot;dd/MM/uuuu&quot;);\r\n            \r\n       String newDate = dateRedeemed.plusDays(days).toString(formatter);   \r\n       System.out.println(newDate);\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-8-date-time-intro\r\n  [2]: https://www.joda.org/joda-time/","title":"How can I increment a date by one day in Java?","body":"<p>With Java SE 8 or higher you should use the new <a href=\"https://www.baeldung.com/java-8-date-time-intro\" rel=\"nofollow noreferrer\">Date/Time API</a></p>\n<pre><code> int days = 7;       \n LocalDate dateRedeemed = LocalDate.now();\n DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/YYYY&quot;);\n\n String newDate = dateRedeemed.plusDays(days).format(formatter);   \n System.out.println(newDate);\n</code></pre>\n<p>If you need to convert from <code>java.util.Date</code> to <code>java.time.LocalDate</code>, you may use this method.</p>\n<pre><code>  public LocalDate asLocalDate(Date date) {\n      Instant instant = date.toInstant();\n      ZonedDateTime zdt = instant.atZone(ZoneId.systemDefault());\n      return zdt.toLocalDate();\n  }\n</code></pre>\n<p>With a version prior to Java SE 8 you may use <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a></p>\n<blockquote>\n<p>Joda-Time provides a quality replacement for the Java date and time\nclasses and is the de facto standard date and time library for Java\nprior to Java SE 8</p>\n</blockquote>\n<pre><code>   int days = 7;       \n   DateTime dateRedeemed = DateTime.now();\n   DateTimeFormatter formatter = DateTimeFormat.forPattern(&quot;dd/MM/uuuu&quot;);\n        \n   String newDate = dateRedeemed.plusDays(days).toString(formatter);   \n   System.out.println(newDate);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1610721520,"post_id":65736169,"comment_id":116229097,"body_markdown":"It looks correct, but the `Calendar` and `Date` classes are poorly designed and long outdated, so this is not the recommended way. Prefer `LocalDate.now(ZoneId.systemDefault()).plusDays(day)`. Also I can’t see you’re contributing anything essential that isn’t already in the second highest voted answer by Lisa.","body":"It looks correct, but the <code>Calendar</code> and <code>Date</code> classes are poorly designed and long outdated, so this is not the recommended way. Prefer <code>LocalDate.now(ZoneId.systemDefault()).plusDays(day)</code>. Also I can’t see you’re contributing anything essential that isn’t already in the second highest voted answer by Lisa."},{"owner":{"account_id":6614846,"reputation":115,"user_id":5108504,"display_name":"Z4n3tti"},"score":0,"creation_date":1610964167,"post_id":65736169,"comment_id":116289314,"body_markdown":"Hello, I totally agree with you, but I have not seen the second highest voted answer before publishing mine.","body":"Hello, I totally agree with you, but I have not seen the second highest voted answer before publishing mine."},{"owner":{"account_id":10541959,"reputation":8904,"user_id":7767664,"accept_rate":63,"display_name":"user924"},"score":0,"creation_date":1618151978,"post_id":65736169,"comment_id":118509899,"body_markdown":"it&#39;s better to use synonym constant `Calendar.DAY_OF_MONTH` for code readability","body":"it&#39;s better to use synonym constant <code>Calendar.DAY_OF_MONTH</code> for code readability"}],"tags":[],"owner":{"account_id":6614846,"reputation":115,"user_id":5108504,"display_name":"Z4n3tti"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1610713825,"creation_date":1610713825,"answer_id":65736169,"question_id":428918,"body_markdown":"Try this method:\r\n\r\n    public static Date addDay(int day) {\r\n    \t\tCalendar calendar = Calendar.getInstance();\r\n    \t\tcalendar.setTime(new Date());\r\n    \t\tcalendar.add(Calendar.DATE, day);\r\n    \t\treturn calendar.getTime();\r\n    }\r\n\r\n","title":"How can I increment a date by one day in Java?","body":"<p>Try this method:</p>\n<pre><code>public static Date addDay(int day) {\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTime(new Date());\n        calendar.add(Calendar.DATE, day);\n        return calendar.getTime();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1617490631,"post_id":66936080,"comment_id":118320034,"body_markdown":"I am glad to see you participating in Stack Overflow. But I have to say your Answer has multiple problems. First of all, you are using a type that represents a date with time-of-day as seen in UTC, `java.util.Date`, while the Question asks for only a date, no time-of-day and no time zone or offset-from-UTC. Or perhaps, you meant `java.sql.Date` which is very badly designed as a hack, a subclass of `java.util.Date` that *pretends* to be only a date but actually has a time-of-day, and that asks we ignore the fact it is a subclass of `Date`.","body":"I am glad to see you participating in Stack Overflow. But I have to say your Answer has multiple problems. First of all, you are using a type that represents a date with time-of-day as seen in UTC, <code>java.util.Date</code>, while the Question asks for only a date, no time-of-day and no time zone or offset-from-UTC. Or perhaps, you meant <code>java.sql.Date</code> which is very badly designed as a hack, a subclass of <code>java.util.Date</code> that <i>pretends</i> to be only a date but actually has a time-of-day, and that asks we ignore the fact it is a subclass of <code>Date</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1617490720,"post_id":66936080,"comment_id":118320049,"body_markdown":"Both of these wretched classes, `java.util.Date` and `java.sql.Date`, were supplanted years ago by the modern *java.time* classes defined in JSR 310. As for never being deprecated, these classes are entirely replaced by *java.time* functionality, so I expect they will indeed be deprecated some day. Sun, Oracle, and the JCP gave up on these terrible date-time classes with the adoption of JSR 310, and I suggest we all do the same.","body":"Both of these wretched classes, <code>java.util.Date</code> and <code>java.sql.Date</code>, were supplanted years ago by the modern <i>java.time</i> classes defined in JSR 310. As for never being deprecated, these classes are entirely replaced by <i>java.time</i> functionality, so I expect they will indeed be deprecated some day. Sun, Oracle, and the JCP gave up on these terrible date-time classes with the adoption of JSR 310, and I suggest we all do the same."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1617490796,"post_id":66936080,"comment_id":118320056,"body_markdown":"Another problem is that your code only works for UTC. For any other time zone, a day is not necessarily 24 hours long. Days can be 23 or 25 hours, or 23.5 or 25.5 hours long, or any other length dreamed up by politicians.","body":"Another problem is that your code only works for UTC. For any other time zone, a day is not necessarily 24 hours long. Days can be 23 or 25 hours, or 23.5 or 25.5 hours long, or any other length dreamed up by politicians."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1617490865,"post_id":66936080,"comment_id":118320067,"body_markdown":"The modern solution using *java.time* is also much simpler: `LocalDate.parse( &quot;2021-01-23&quot; ).plusDays( 1 )`. See correct [Answer by Sobral](https://stackoverflow.com/a/20906602/642706).","body":"The modern solution using <i>java.time</i> is also much simpler: <code>LocalDate.parse( &quot;2021-01-23&quot; ).plusDays( 1 )</code>. See correct <a href=\"https://stackoverflow.com/a/20906602/642706\">Answer by Sobral</a>."},{"owner":{"account_id":1018718,"reputation":634,"user_id":5053475,"display_name":"Daniele Rugginenti"},"score":1,"creation_date":1617560977,"post_id":66936080,"comment_id":118333376,"body_markdown":"Wow thanks I&#39;ll study it, I&#39;ll check java.time.","body":"Wow thanks I&#39;ll study it, I&#39;ll check java.time."}],"tags":[],"owner":{"account_id":1018718,"reputation":634,"user_id":5053475,"display_name":"Daniele Rugginenti"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617485615,"creation_date":1617485615,"answer_id":66936080,"question_id":428918,"body_markdown":"I think the fastest one, that never will be deprecated, it&#39;s the one that go to the core\r\n\r\n    let d=new Date();\r\n    d.setTime(d.getTime()+86400000);\r\n    console.log(d);\r\n\r\nIt&#39;s just one line,\r\nand just 2 commands.\r\nIt works on Date type, without using calendar.\r\n\r\nI always think it&#39;s better to work with unix times on code side, and present the date just when it&#39;s ready to be shown to the user.\r\n\r\nTo print a date d, I use \r\n\r\n    let format1 = new Intl.DateTimeFormat(&#39;en&#39;, { year: &#39;numeric&#39;, month: &#39;numeric&#39;, month: &#39;2-digit&#39;, day: &#39;2-digit&#39;});\r\n    let [{ value: month },,{ value: day },,{ value: year }] = format1.formatToParts(d);\r\n\r\nIt sets vars month year and day but can be extended to hours minutes and seconds and can be used also in standard rapresentations depending on country flag.","title":"How can I increment a date by one day in Java?","body":"<p>I think the fastest one, that never will be deprecated, it's the one that go to the core</p>\n<pre><code>let d=new Date();\nd.setTime(d.getTime()+86400000);\nconsole.log(d);\n</code></pre>\n<p>It's just one line,\nand just 2 commands.\nIt works on Date type, without using calendar.</p>\n<p>I always think it's better to work with unix times on code side, and present the date just when it's ready to be shown to the user.</p>\n<p>To print a date d, I use</p>\n<pre><code>let format1 = new Intl.DateTimeFormat('en', { year: 'numeric', month: 'numeric', month: '2-digit', day: '2-digit'});\nlet [{ value: month },,{ value: day },,{ value: year }] = format1.formatToParts(d);\n</code></pre>\n<p>It sets vars month year and day but can be extended to hours minutes and seconds and can be used also in standard rapresentations depending on country flag.</p>\n"},{"tags":[],"owner":{"account_id":7029640,"reputation":884,"user_id":5385845,"display_name":"samtax01"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1626456215,"creation_date":1626456215,"answer_id":68413024,"question_id":428918,"body_markdown":"You can do this just in one line.\r\n\r\ne.g to add 5 days\r\n\r\n    Date newDate = Date.from(Date().toInstant().plus(5, ChronoUnit.DAYS));\r\n\r\nto subtract 5 days\r\n\r\n    Date newDate = Date.from(Date().toInstant().minus(5, ChronoUnit.DAYS));","title":"How can I increment a date by one day in Java?","body":"<p>You can do this just in one line.</p>\n<p>e.g to add 5 days</p>\n<pre><code>Date newDate = Date.from(Date().toInstant().plus(5, ChronoUnit.DAYS));\n</code></pre>\n<p>to subtract 5 days</p>\n<pre><code>Date newDate = Date.from(Date().toInstant().minus(5, ChronoUnit.DAYS));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":262968,"reputation":767160,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1668919785,"post_id":74413124,"comment_id":131521440,"body_markdown":"*How to switch from the legacy to the modern date-time API*: So well written","body":"<i>How to switch from the legacy to the modern date-time API</i>: So well written"}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668257865,"creation_date":1668257865,"answer_id":74413124,"question_id":428918,"body_markdown":"The [highest voted answer](https://stackoverflow.com/a/428966/10819573) uses legacy `java.util` date-time API which was the correct thing to do in 2009 when the question was asked. In March 2014, `java.time` API supplanted the [error-prone legacy date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html). Since then, it is strongly recommended to use this modern date-time API.\r\n\r\n&gt; I&#39;m working with a date in this format: `yyyy-mm-dd`\r\n\r\nYou have used the wrong letter for the month, irrespective of whether you are using the [legacy parsing/formatting API](https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html) or the [modern one](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html). The letter `m` is used for *minute-of-hour* and the correct letter for *month-of-year* is `M`.\r\n\r\n`yyyy-MM-dd` is the default format of `java.time.LocalDate`\r\n--\r\n\r\nThe `java.time` API is based on **[ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)** standards and therefore it does not require specifying a `DateTimeFormatter` explicitly to parse a date-time string if it is already in ISO 8601 format. Similarly, the [`toString`](https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--) implementation of a `java.time` type returns a string in ISO 8601 format. Check [`LocalDate#parse`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#parse-java.lang.CharSequence-) and [`LocalDate#toString`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#toString--) for more information.\r\n\r\nWays to increment a local date by one day\r\n--\r\n\r\nThere are three options:\r\n\r\n 1. [`LocalDate#plusDays(long daysToAdd)`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#plusDays-long-)\r\n 2. [`LocalDate#plus(long amountToAdd, TemporalUnit unit)`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#plus-long-java.time.temporal.TemporalUnit-): It has got some additional capabilities e.g. you can use it to increment a local date by days, weeks, months, years etc.\r\n 3. [`LocalDate#plus(TemporalAmount amountToAdd)`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#plus-java.time.temporal.TemporalAmount-): You can specify a `Period` (or any other type implementing the `TemporalAmount`) to add.\r\n\r\n**Demo**:\r\n\r\n    import java.time.Instant;\r\n    import java.time.LocalDate;\r\n    import java.time.Period;\r\n    import java.time.temporal.ChronoUnit;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            // Parsing\r\n            LocalDate ldt = LocalDate.parse(&quot;2020-10-20&quot;);\r\n            System.out.println(ldt);\r\n    \r\n            // Incrementing by one day\r\n            LocalDate oneDayLater = ldt.plusDays(1);\r\n            System.out.println(oneDayLater);\r\n    \r\n            // Alternatively\r\n            oneDayLater = ldt.plus(1, ChronoUnit.DAYS);\r\n            System.out.println(oneDayLater);\r\n    \r\n            oneDayLater = ldt.plus(Period.ofDays(1));\r\n            System.out.println(oneDayLater);\r\n    \r\n            String desiredString = oneDayLater.toString();\r\n            System.out.println(desiredString);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2020-10-20\r\n    2020-10-21\r\n    2020-10-21\r\n    2020-10-21\r\n    2020-10-21\r\n\r\nHow to switch from the legacy to the modern date-time API?\r\n--\r\n\r\nYou can switch from the legacy to the modern date-time API using [`Date#toInstant`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toInstant--) on a java-util-date instance. Once you have an `Instant`, you can easily obtain other date-time types of `java.time` API. An `Instant` represents a moment in time and is independent of a time-zone i.e. it represents a date-time in UTC (often displayed as `Z` which stands for Zulu-time and has a `ZoneOffset` of `+00:00`).\r\n\r\n**Demo**:\r\n\r\n    import java.time.Instant;\r\n    import java.time.LocalDateTime;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZoneOffset;\r\n    import java.time.ZonedDateTime;\r\n    import java.util.Date;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Date date = new Date();\r\n            Instant instant = date.toInstant();\r\n            System.out.println(instant);\r\n    \r\n            ZonedDateTime zdt = instant.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;));\r\n            System.out.println(zdt);\r\n    \r\n            OffsetDateTime odt = instant.atOffset(ZoneOffset.of(&quot;+05:30&quot;));\r\n            System.out.println(odt);\r\n            // Alternatively, using time-zone\r\n            odt = instant.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;)).toOffsetDateTime();\r\n            System.out.println(odt);\r\n    \r\n            LocalDateTime ldt = LocalDateTime.ofInstant(instant, ZoneId.of(&quot;Asia/Kolkata&quot;));\r\n            System.out.println(ldt);\r\n            // Alternatively,\r\n            ldt = instant.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;)).toLocalDateTime();\r\n            System.out.println(ldt);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-11-12T12:52:18.016Z\r\n    2022-11-12T18:22:18.016+05:30[Asia/Kolkata]\r\n    2022-11-12T18:22:18.016+05:30\r\n    2022-11-12T18:22:18.016+05:30\r\n    2022-11-12T18:22:18.016\r\n    2022-11-12T18:22:18.016\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"How can I increment a date by one day in Java?","body":"<p>The <a href=\"https://stackoverflow.com/a/428966/10819573\">highest voted answer</a> uses legacy <code>java.util</code> date-time API which was the correct thing to do in 2009 when the question was asked. In March 2014, <code>java.time</code> API supplanted the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">error-prone legacy date-time API</a>. Since then, it is strongly recommended to use this modern date-time API.</p>\n<blockquote>\n<p>I'm working with a date in this format: <code>yyyy-mm-dd</code></p>\n</blockquote>\n<p>You have used the wrong letter for the month, irrespective of whether you are using the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">legacy parsing/formatting API</a> or the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">modern one</a>. The letter <code>m</code> is used for <em>minute-of-hour</em> and the correct letter for <em>month-of-year</em> is <code>M</code>.</p>\n<h2><code>yyyy-MM-dd</code> is the default format of <code>java.time.LocalDate</code></h2>\n<p>The <code>java.time</code> API is based on <strong><a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a></strong> standards and therefore it does not require specifying a <code>DateTimeFormatter</code> explicitly to parse a date-time string if it is already in ISO 8601 format. Similarly, the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--\" rel=\"nofollow noreferrer\"><code>toString</code></a> implementation of a <code>java.time</code> type returns a string in ISO 8601 format. Check <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#parse-java.lang.CharSequence-\" rel=\"nofollow noreferrer\"><code>LocalDate#parse</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#toString--\" rel=\"nofollow noreferrer\"><code>LocalDate#toString</code></a> for more information.</p>\n<h2>Ways to increment a local date by one day</h2>\n<p>There are three options:</p>\n<ol>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#plusDays-long-\" rel=\"nofollow noreferrer\"><code>LocalDate#plusDays(long daysToAdd)</code></a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#plus-long-java.time.temporal.TemporalUnit-\" rel=\"nofollow noreferrer\"><code>LocalDate#plus(long amountToAdd, TemporalUnit unit)</code></a>: It has got some additional capabilities e.g. you can use it to increment a local date by days, weeks, months, years etc.</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#plus-java.time.temporal.TemporalAmount-\" rel=\"nofollow noreferrer\"><code>LocalDate#plus(TemporalAmount amountToAdd)</code></a>: You can specify a <code>Period</code> (or any other type implementing the <code>TemporalAmount</code>) to add.</li>\n</ol>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.Instant;\nimport java.time.LocalDate;\nimport java.time.Period;\nimport java.time.temporal.ChronoUnit;\n\npublic class Main {\n    public static void main(String[] args) {\n        // Parsing\n        LocalDate ldt = LocalDate.parse(&quot;2020-10-20&quot;);\n        System.out.println(ldt);\n\n        // Incrementing by one day\n        LocalDate oneDayLater = ldt.plusDays(1);\n        System.out.println(oneDayLater);\n\n        // Alternatively\n        oneDayLater = ldt.plus(1, ChronoUnit.DAYS);\n        System.out.println(oneDayLater);\n\n        oneDayLater = ldt.plus(Period.ofDays(1));\n        System.out.println(oneDayLater);\n\n        String desiredString = oneDayLater.toString();\n        System.out.println(desiredString);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2020-10-20\n2020-10-21\n2020-10-21\n2020-10-21\n2020-10-21\n</code></pre>\n<h2>How to switch from the legacy to the modern date-time API?</h2>\n<p>You can switch from the legacy to the modern date-time API using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toInstant--\" rel=\"nofollow noreferrer\"><code>Date#toInstant</code></a> on a java-util-date instance. Once you have an <code>Instant</code>, you can easily obtain other date-time types of <code>java.time</code> API. An <code>Instant</code> represents a moment in time and is independent of a time-zone i.e. it represents a date-time in UTC (often displayed as <code>Z</code> which stands for Zulu-time and has a <code>ZoneOffset</code> of <code>+00:00</code>).</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.Instant;\nimport java.time.LocalDateTime;\nimport java.time.OffsetDateTime;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\nimport java.time.ZonedDateTime;\nimport java.util.Date;\n\npublic class Main {\n    public static void main(String[] args) {\n        Date date = new Date();\n        Instant instant = date.toInstant();\n        System.out.println(instant);\n\n        ZonedDateTime zdt = instant.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;));\n        System.out.println(zdt);\n\n        OffsetDateTime odt = instant.atOffset(ZoneOffset.of(&quot;+05:30&quot;));\n        System.out.println(odt);\n        // Alternatively, using time-zone\n        odt = instant.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;)).toOffsetDateTime();\n        System.out.println(odt);\n\n        LocalDateTime ldt = LocalDateTime.ofInstant(instant, ZoneId.of(&quot;Asia/Kolkata&quot;));\n        System.out.println(ldt);\n        // Alternatively,\n        ldt = instant.atZone(ZoneId.of(&quot;Asia/Kolkata&quot;)).toLocalDateTime();\n        System.out.println(ldt);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-11-12T12:52:18.016Z\n2022-11-12T18:22:18.016+05:30[Asia/Kolkata]\n2022-11-12T18:22:18.016+05:30\n2022-11-12T18:22:18.016+05:30\n2022-11-12T18:22:18.016\n2022-11-12T18:22:18.016\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":20215,"reputation":10531,"user_id":48094,"accept_rate":0,"display_name":"user48094"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1159641,"favorite_count":0,"down_vote_count":1,"up_vote_count":664,"answer_count":32,"score":663,"last_activity_date":1668257865,"creation_date":1231521609,"question_id":428918,"body_markdown":"I&#39;m working with a date in this format: `yyyy-mm-dd`.\r\n\r\nHow can I increment this date by one day?\r\n","title":"How can I increment a date by one day in Java?","body":"<p>I'm working with a date in this format: <code>yyyy-mm-dd</code>.</p>\n\n<p>How can I increment this date by one day?</p>\n"},{"tags":["java","hibernate","h2"],"comments":[{"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"score":0,"creation_date":1668086873,"post_id":74389094,"comment_id":131324877,"body_markdown":"Does doing `EntityManager.clear()` to clear the cache after the delete&#39;s commit help things?","body":"Does doing <code>EntityManager.clear()</code> to clear the cache after the delete&#39;s commit help things?"},{"owner":{"account_id":333116,"reputation":1720,"user_id":658801,"display_name":"zolv"},"score":0,"creation_date":1668116282,"post_id":74389094,"comment_id":131334826,"body_markdown":"Hi, yes, it has helped! Thank you! Add an answer and I will accept it.","body":"Hi, yes, it has helped! Thank you! Add an answer and I will accept it."}],"answers":[{"tags":[],"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668257518,"creation_date":1668257518,"answer_id":74413090,"question_id":74389094,"body_markdown":"The JPA `EntityManager` may be caching the result from your query, even across transactions (not sure whether the spec says this should or should not happen).  Try doing an `EntityManager.clear()` to clear its cache after the delete&#39;s commit so that the subsequent queries go to the real database.","title":"Deleting entity in in-memory H2 database","body":"<p>The JPA <code>EntityManager</code> may be caching the result from your query, even across transactions (not sure whether the spec says this should or should not happen).  Try doing an <code>EntityManager.clear()</code> to clear its cache after the delete's commit so that the subsequent queries go to the real database.</p>\n"}],"owner":{"account_id":333116,"reputation":1720,"user_id":658801,"display_name":"zolv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74413090,"answer_count":1,"score":0,"last_activity_date":1668257518,"creation_date":1668083659,"question_id":74389094,"body_markdown":"In my test I have an in-memory H2 DB and I want to test deleting an entity.\r\n\r\nMy entity:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;REPORT_BLOB&quot;)\r\npublic class BlobInfoDBVO {\r\n\r\n  @Id\r\n  @Column(name = &quot;REPORT_ID&quot;)\r\n  private long reportId;\r\n\r\n}\r\n```\r\n\r\nTest code\r\n\r\n```\r\n @Test\r\n  void deleteByReportId() {\r\n    var reportId = 1L;\r\n\r\n    EntityTransaction tx = em.getTransaction();\r\n\r\n    tx.begin();\r\n\r\n    var blobInfo = new BlobInfoDBVO();\r\n    blobInfo.setReportId(reportId);\r\n    em.persist(blobInfo);\r\n\r\n    tx.commit();\r\n    tx.begin();\r\n\r\n    BlobInfoDBVO findByReportId1 = em.find(BlobInfoDBVO.class, reportId);\r\n    assertNotNull(findByReportId1); // ---- OK\r\n\r\n    var getByReportId1 = blobInfoDao.getByReportId(reportId);\r\n    assertTrue(getByReportId1.isPresent()); // ---- OK\r\n\r\n    tx.commit();\r\n    tx.begin();\r\n\r\n    blobInfoDao.deleteByReportId(reportId);\r\n\r\n    tx.commit();\r\n    tx.begin();\r\n\r\n    var getByReportId2 = blobInfoDao.getByReportId(reportId);\r\n    assertFalse(getByReportId2.isPresent()); // ---- OK\r\n\r\n    BlobInfoDBVO findByReportId2 = em.find(BlobInfoDBVO.class, reportId);\r\n    assertNull(findByReportId2); // ---- FAILS\r\n\r\n    tx.commit();\r\n  }\r\n```\r\n\r\nAnd here is my DAO code to find and delete an entity by `reportId`:\r\n```\r\npublic class BlobInfoDaoImpl {\r\n\r\n  EntityManager em;\r\n\r\n  public BlobInfoDaoImpl(EntityManager em) {\r\n    super();\r\n    this.em = em;\r\n  }\r\n\r\n  public Optional&lt;BlobInfoDBVO&gt; getByReportId(long reportId) {\r\n    var query =\r\n        em.createQuery(\r\n            &quot;&quot;&quot;\r\n            select blobInfo\r\n              from BlobInfoDBVO blobInfo\r\n             where blobInfo.reportId = :reportId\r\n            &quot;&quot;&quot;,\r\n            BlobInfoDBVO.class);\r\n    query.setParameter(&quot;reportId&quot;, reportId);\r\n    return query\r\n        .getResultStream()\r\n        .findFirst();\r\n  }\r\n\r\n  public void deleteByReportId(long reportId) {\r\n    var query =\r\n        em.createQuery(\r\n            &quot;&quot;&quot;\r\n            delete from BlobInfoDBVO\r\n             where reportId = :reportId\r\n            &quot;&quot;&quot;);\r\n    query.setParameter(&quot;reportId&quot;, reportId);\r\n\r\n    query.executeUpdate();\r\n  }\r\n}\r\n```\r\n\r\nAfter deleting an entity, I cannot find it anymore using manually executing a query by calling my DAO (`getByReportId`) what is correct and expected.\r\n\r\nBut when I use a `find` method from an `EntityManager` using a `reportId` field as a primary key (it&#39;s marked as `@Id`) - it still returns not deleted entity, even if transaction was commited before.\r\n\r\nAny idea?\r\n\r\nhobernate-core 5.6.14\r\n\r\nquarkus-test-h2 2.14.0.Final","title":"Deleting entity in in-memory H2 database","body":"<p>In my test I have an in-memory H2 DB and I want to test deleting an entity.</p>\n<p>My entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;REPORT_BLOB&quot;)\npublic class BlobInfoDBVO {\n\n  @Id\n  @Column(name = &quot;REPORT_ID&quot;)\n  private long reportId;\n\n}\n</code></pre>\n<p>Test code</p>\n<pre><code> @Test\n  void deleteByReportId() {\n    var reportId = 1L;\n\n    EntityTransaction tx = em.getTransaction();\n\n    tx.begin();\n\n    var blobInfo = new BlobInfoDBVO();\n    blobInfo.setReportId(reportId);\n    em.persist(blobInfo);\n\n    tx.commit();\n    tx.begin();\n\n    BlobInfoDBVO findByReportId1 = em.find(BlobInfoDBVO.class, reportId);\n    assertNotNull(findByReportId1); // ---- OK\n\n    var getByReportId1 = blobInfoDao.getByReportId(reportId);\n    assertTrue(getByReportId1.isPresent()); // ---- OK\n\n    tx.commit();\n    tx.begin();\n\n    blobInfoDao.deleteByReportId(reportId);\n\n    tx.commit();\n    tx.begin();\n\n    var getByReportId2 = blobInfoDao.getByReportId(reportId);\n    assertFalse(getByReportId2.isPresent()); // ---- OK\n\n    BlobInfoDBVO findByReportId2 = em.find(BlobInfoDBVO.class, reportId);\n    assertNull(findByReportId2); // ---- FAILS\n\n    tx.commit();\n  }\n</code></pre>\n<p>And here is my DAO code to find and delete an entity by <code>reportId</code>:</p>\n<pre><code>public class BlobInfoDaoImpl {\n\n  EntityManager em;\n\n  public BlobInfoDaoImpl(EntityManager em) {\n    super();\n    this.em = em;\n  }\n\n  public Optional&lt;BlobInfoDBVO&gt; getByReportId(long reportId) {\n    var query =\n        em.createQuery(\n            &quot;&quot;&quot;\n            select blobInfo\n              from BlobInfoDBVO blobInfo\n             where blobInfo.reportId = :reportId\n            &quot;&quot;&quot;,\n            BlobInfoDBVO.class);\n    query.setParameter(&quot;reportId&quot;, reportId);\n    return query\n        .getResultStream()\n        .findFirst();\n  }\n\n  public void deleteByReportId(long reportId) {\n    var query =\n        em.createQuery(\n            &quot;&quot;&quot;\n            delete from BlobInfoDBVO\n             where reportId = :reportId\n            &quot;&quot;&quot;);\n    query.setParameter(&quot;reportId&quot;, reportId);\n\n    query.executeUpdate();\n  }\n}\n</code></pre>\n<p>After deleting an entity, I cannot find it anymore using manually executing a query by calling my DAO (<code>getByReportId</code>) what is correct and expected.</p>\n<p>But when I use a <code>find</code> method from an <code>EntityManager</code> using a <code>reportId</code> field as a primary key (it's marked as <code>@Id</code>) - it still returns not deleted entity, even if transaction was commited before.</p>\n<p>Any idea?</p>\n<p>hobernate-core 5.6.14</p>\n<p>quarkus-test-h2 2.14.0.Final</p>\n"},{"tags":["java","foreach","java-stream"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668257093,"creation_date":1668256544,"answer_id":74412987,"question_id":74412930,"body_markdown":"Don&#39;t get obsessed with streams, trying to apply them everywhere.\r\n\r\nThe operations you&#39;re performing doesn&#39;t require a generating a Stream. You can use [`Iterable.forEach`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)) if you want to express it with a lambda.\r\n\r\n```\r\nList&lt;CtStaticIPDetailsList&gt; ctStaticIPDetailsList = new ArrayList&lt;&gt;();\r\n    \r\nctStaticIPDetailsList.forEach(l -&gt; {\r\n    l.setIsDeleted(true);\r\n    l.setModifiedDate(new Date());\r\n    l.setModifiedBy(boqCreationDTO.getUserId());\r\n});\r\n```\r\n\r\nAlso avoid using `java.util.Date`, this class is obsolete. Sinse Java 8 we have new Time API represented by classes like `Instant`, `LocalDateTime`, etc. which reside in the [`java.time`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html) package.","title":"Setting multiple values in stream list using for each reference in Java 8","body":"<p>Don't get obsessed with streams, trying to apply them everywhere.</p>\n<p>The operations you're performing doesn't require a generating a Stream. You can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>Iterable.forEach</code></a> if you want to express it with a lambda.</p>\n<pre><code>List&lt;CtStaticIPDetailsList&gt; ctStaticIPDetailsList = new ArrayList&lt;&gt;();\n    \nctStaticIPDetailsList.forEach(l -&gt; {\n    l.setIsDeleted(true);\n    l.setModifiedDate(new Date());\n    l.setModifiedBy(boqCreationDTO.getUserId());\n});\n</code></pre>\n<p>Also avoid using <code>java.util.Date</code>, this class is obsolete. Sinse Java 8 we have new Time API represented by classes like <code>Instant</code>, <code>LocalDateTime</code>, etc. which reside in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.time</code></a> package.</p>\n"}],"owner":{"account_id":9276213,"reputation":44,"user_id":6888806,"display_name":"Rachit07"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668257166,"creation_date":1668255997,"question_id":74412930,"body_markdown":"Below is the code snippet, I want to set `isDeleted`, `modifiedDate` &amp; `modifiedBy` in a single statement using Stream API.\r\n\r\nHow can I do it?\r\n\r\n```\r\nList&lt;CtStaticIPDetailsList&gt; ctStaticIPDetailsList =new ArrayList()&lt;&gt;;\r\n\r\nctStaticIPDetailsList.stream().forEach(l -&gt; l.setIsDeleted(true));\r\n\r\nctStaticIPDetailsList.stream()\r\n    .forEach(l -&gt; l.setModifiedDate(new Date()));\r\n\r\nctStaticIPDetailsList.stream()\r\n    .forEach(l -&gt; l.setModifiedBy(boqCreationDTO.getUserId()));\r\n```","title":"Setting multiple values in stream list using for each reference in Java 8","body":"<p>Below is the code snippet, I want to set <code>isDeleted</code>, <code>modifiedDate</code> &amp; <code>modifiedBy</code> in a single statement using Stream API.</p>\n<p>How can I do it?</p>\n<pre><code>List&lt;CtStaticIPDetailsList&gt; ctStaticIPDetailsList =new ArrayList()&lt;&gt;;\n\nctStaticIPDetailsList.stream().forEach(l -&gt; l.setIsDeleted(true));\n\nctStaticIPDetailsList.stream()\n    .forEach(l -&gt; l.setModifiedDate(new Date()));\n\nctStaticIPDetailsList.stream()\n    .forEach(l -&gt; l.setModifiedBy(boqCreationDTO.getUserId()));\n</code></pre>\n"},{"tags":["java","android","push-notification","ringtone"],"comments":[{"owner":{"account_id":20029443,"reputation":297,"user_id":14682570,"display_name":"Dev007"},"score":0,"creation_date":1668257456,"post_id":74412993,"comment_id":131364205,"body_markdown":"did you checked this - [click here](https://stackoverflow.com/a/71159936/14682570) and add some info like what Android version you tested,notifcation from firebase or locally.","body":"did you checked this - <a href=\"https://stackoverflow.com/a/71159936/14682570\">click here</a> and add some info like what Android version you tested,notifcation from firebase or locally."},{"owner":{"account_id":21992727,"reputation":39,"user_id":16265809,"display_name":"Urvish Vocsy"},"score":0,"creation_date":1668402624,"post_id":74412993,"comment_id":131387996,"body_markdown":"Yes but my situation is set ringtone from application","body":"Yes but my situation is set ringtone from application"}],"owner":{"account_id":21992727,"reputation":39,"user_id":16265809,"display_name":"Urvish Vocsy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668256614,"creation_date":1668256586,"question_id":74412993,"body_markdown":"I need to set `custom sound` for `only my application`. I&#39;ve assigned a custom ringtone from my storage to be used in notifications.\r\n\r\n**What did I try...**\r\n```java\r\n(NotificationChannel) channel.setSound(Uri.parse(&quot;MY_PATH&quot;), audio_atrr);\r\n```\r\n```java\r\n(NotificationCompact.Builder) mBuilder.setSound(Uri.parse(&quot;MY_PATH&quot;));\r\n```\r\n```java\r\n(Notification) mNotification.sound = Uri.parse(&quot;MY_PATH&quot;);\r\n```\r\n\r\nIt&#39;s useless for me, my device always plays the default sound when a notification is coming. what can i do?","title":"set custom Sound from only my application in push notification android","body":"<p>I need to set <code>custom sound</code> for <code>only my application</code>. I've assigned a custom ringtone from my storage to be used in notifications.</p>\n<p><strong>What did I try...</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>(NotificationChannel) channel.setSound(Uri.parse(&quot;MY_PATH&quot;), audio_atrr);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>(NotificationCompact.Builder) mBuilder.setSound(Uri.parse(&quot;MY_PATH&quot;));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>(Notification) mNotification.sound = Uri.parse(&quot;MY_PATH&quot;);\n</code></pre>\n<p>It's useless for me, my device always plays the default sound when a notification is coming. what can i do?</p>\n"},{"tags":["java","spring","spring-boot","hikaricp"],"answers":[{"tags":[],"owner":{"account_id":9928255,"reputation":1591,"user_id":7349101,"display_name":"Shaunak Patel"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1528871129,"creation_date":1528871129,"answer_id":50830372,"question_id":50828209,"body_markdown":"I am able to use _springboot_ with _hikari_. I do not see following class. Can you add and check? \r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;spring.datasource.hikari&quot;)\r\n    public class CustomHikariConfig extends HikariConfig {\r\n    \r\n    \t@Bean\r\n    \tpublic DataSource dataSource() {\r\n    \t\treturn new HikariDataSource(this);\r\n    \t}\r\n    \r\n    }\r\n\r\n  Though you already mentioned that you have used _spring.datasource.hikari.*_, you can recheck one more time with below mentioned properties(In case if you have missed any)\r\n\r\n    ###\r\n    # HikariCP Properties\r\n    ###\r\n    \r\n    spring.datasource.hikari.connection-timeout=60000\r\n    spring.datasource.hikari.maximum-pool-size=200\r\n    spring.datasource.hikari.minimum-idle=30\r\n    spring.datasource.hikari.idle-timeout=3000\r\n    spring.datasource.hikari.poolName=HikariCP\r\n    spring.datasource.type=com.zaxxer.hikari.HikariDataSource\r\n    \r\n    \r\n    \r\n    spring.datasource.hikari.jdbcUrl=**data source url**\r\n    spring.datasource.hikari.username=**username**\r\n    spring.datasource.hikari.password=**password**\r\n    spring.datasource.hikari.driverClassName=com.mysql.jdbc.Driver\r\n","title":"Spring Boot 2 Upgrade with JPA Failed to instantiate [com.zaxxer.hikari.HikariDataSource]","body":"<p>I am able to use <em>springboot</em> with <em>hikari</em>. I do not see following class. Can you add and check? </p>\n\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = \"spring.datasource.hikari\")\npublic class CustomHikariConfig extends HikariConfig {\n\n    @Bean\n    public DataSource dataSource() {\n        return new HikariDataSource(this);\n    }\n\n}\n</code></pre>\n\n<p>Though you already mentioned that you have used <em>spring.datasource.hikari.*</em>, you can recheck one more time with below mentioned properties(In case if you have missed any)</p>\n\n<pre><code>###\n# HikariCP Properties\n###\n\nspring.datasource.hikari.connection-timeout=60000\nspring.datasource.hikari.maximum-pool-size=200\nspring.datasource.hikari.minimum-idle=30\nspring.datasource.hikari.idle-timeout=3000\nspring.datasource.hikari.poolName=HikariCP\nspring.datasource.type=com.zaxxer.hikari.HikariDataSource\n\n\n\nspring.datasource.hikari.jdbcUrl=**data source url**\nspring.datasource.hikari.username=**username**\nspring.datasource.hikari.password=**password**\nspring.datasource.hikari.driverClassName=com.mysql.jdbc.Driver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20952855,"reputation":435,"user_id":15394108,"display_name":"cng.buff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668256497,"creation_date":1668256497,"answer_id":74412979,"question_id":50828209,"body_markdown":"mycase is problem in pom.xml\r\ni use oracle and i add this one. it works\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.nls&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;orai18n&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;","title":"Spring Boot 2 Upgrade with JPA Failed to instantiate [com.zaxxer.hikari.HikariDataSource]","body":"<p>mycase is problem in pom.xml\ni use oracle and i add this one. it works</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle.database.nls&lt;/groupId&gt;\n        &lt;artifactId&gt;orai18n&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":3989215,"reputation":107,"user_id":3288756,"display_name":"user3288756"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34119,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":50830372,"answer_count":2,"score":7,"last_activity_date":1668256497,"creation_date":1528856167,"question_id":50828209,"body_markdown":"I&#39;m upgrading to Spring Boot 2.0.1.RELEASE, using Spring data JPA with Eclipselink as my provider and Liquibase. I&#39;m encountering the following error trying to start the server:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;liquibase&#39; defined in class path resource [com/zoomdata/scheduler/service/dao/JPASpringConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;scopedTarget.dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Illegal arguments to factory method &#39;dataSource&#39;; args: ; nested exception is java.lang.IllegalArgumentException: wrong number of arguments\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1702)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:579)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:304)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1089)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:859)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:327)\r\n    \tat org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:137)\r\n    \tat com.zoomdata.scheduler.service.Main.main(Main.java:54)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;scopedTarget.dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Illegal arguments to factory method &#39;dataSource&#39;; args: ; nested exception is java.lang.IllegalArgumentException: wrong number of arguments\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:587)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1250)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1099)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:353)\r\n    \tat org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:385)\r\n    \tat org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:184)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:350)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n    \tat org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\r\n    \tat com.zaxxer.hikari.HikariDataSource$$EnhancerBySpringCGLIB$$fea845fa.getConnection(&lt;generated&gt;)\r\n    \tat com.zoomdata.scheduler.service.dao.JPASpringConfiguration$1.afterPropertiesSet(JPASpringConfiguration.java:85)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1761)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1698)\r\n    \t... 17 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Illegal arguments to factory method &#39;dataSource&#39;; args: ; nested exception is java.lang.IllegalArgumentException: wrong number of arguments\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:172)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:579)\r\n    \t... 32 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: wrong number of arguments\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n    \t... 33 common frames omitted\r\n\r\nThe dependencies in my POM are:\r\n\r\n    &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;!-- Import dependency management from Spring Boot --&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0.RC1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-actuator-autoconfigure&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n                &lt;version&gt;6.0.10.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.7.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.5.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n                        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.7.RELEASE&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nMy JPA Configuration class looks like:\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(&quot;com.example.my.classes&quot;)\r\n    @EntityScan({&quot;com.example.entities&quot;})\r\n    public class JPASpringConfiguration extends JpaBaseConfiguration {\r\n    \r\n        private String targetDatabase;\r\n        private final String sqlLoggingLevel;\r\n    \r\n        @Autowired\r\n        public JPASpringConfiguration(\r\n            @Value(&quot;${spring.datasource.target-database}&quot;) String targetDatabase,\r\n            @Value(&quot;${eclipselink.logging.level.sql:INFO}&quot;) String sqlLoggingLevel,\r\n            DataSource dataSource,\r\n            JpaProperties jpaProperties,\r\n            ObjectProvider&lt;JtaTransactionManager&gt; transactionManagerObjectProvider,\r\n            ObjectProvider&lt;TransactionManagerCustomizers&gt; transactionManagerCustomizers) {\r\n            super(dataSource, jpaProperties, transactionManagerObjectProvider, transactionManagerCustomizers);\r\n            this.targetDatabase = targetDatabase;\r\n            this.sqlLoggingLevel = sqlLoggingLevel;\r\n        }\r\n    \r\n        @Override\r\n        protected AbstractJpaVendorAdapter createJpaVendorAdapter() {\r\n            return new EclipseLinkJpaVendorAdapter();\r\n        }\r\n    \r\n        @Override\r\n        protected Map&lt;String, Object&gt; getVendorProperties() {\r\n            HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n            map.put(&quot;eclipselink.weaving&quot;, &quot;false&quot;);\r\n            map.put(&quot;eclipselink.target-database&quot;, targetDatabase);\r\n            map.put(&quot;eclipselink.logging.level.sql&quot;, sqlLoggingLevel);\r\n            map.put(&quot;eclipselink.cache.shared.default&quot;, &quot;false&quot;);\r\n            map.put(PersistenceUnitProperties.SESSION_CUSTOMIZER, IDSequenceRegistrar.class.getName());\r\n            return map;\r\n        }\r\n    \r\n        @Bean\r\n        public SpringLiquibase liquibase(DataSource dataSource) {\r\n            SpringLiquibase springLiquibase = new SpringLiquibase() {\r\n    \r\n                @Override\r\n                public void afterPropertiesSet() throws LiquibaseException {\r\n                    configureLiquibase();\r\n                    Liquibase liquibase = null;\r\n                    try (Connection versionConnection = dataSource.getConnection()) {\r\n                        versionConnection.setAutoCommit(true);\r\n                        liquibase = createLiquibase(dataSource.getConnection());\r\n    \r\n                        String version = getDbVersion(versionConnection);\r\n                        String previous = null;\r\n                        while (!Objects.equals(version, previous)) {\r\n                            setContexts(version);\r\n                            performUpdate(liquibase);\r\n                            previous = version;\r\n                            version = getDbVersion(versionConnection);\r\n                        }\r\n                    } catch (SQLException e) {\r\n                        throw new RuntimeException(e);\r\n                    } finally {\r\n                        if (liquibase != null &amp;&amp; liquibase.getDatabase() != null) {\r\n                            liquibase.getDatabase().close();\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            springLiquibase.setDataSource(dataSource);\r\n            springLiquibase.setChangeLog(&quot;classpath:/upgrade/db-changelog.xml&quot;);\r\n            return springLiquibase;\r\n        }\r\n    \r\n        private String getDbVersion(Connection connection) throws SQLException {\r\n            String sql = &quot;select tag from databasechangelog where tag is not null order by dateexecuted desc&quot;;\r\n            try (Statement statement = connection.createStatement();\r\n                 ResultSet rs = statement.executeQuery(sql)) {\r\n                if (rs.next()) {\r\n                    return rs.getString(1);\r\n                }\r\n                return &quot;initial&quot;;\r\n            } catch (SQLException e) {\r\n                try (ResultSet rs = connection.getMetaData().getTables(null, null, &quot;databasechangelog&quot;, null)) {\r\n                    if (rs.next()) {\r\n                        throw e;\r\n                    } else {\r\n                        return &quot;initial&quot;;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void configureLiquibase() {\r\n            ChangeFactory.getInstance().register(ChangeSetAwareCustomChangeWrapper.class);\r\n        }\r\n    }\r\n\r\nIn my application.properties, I have defined:\r\n\r\n    spring.datasource.target-database=PostgreSQL\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/mydatabase\r\n    spring.datasource.username=myuser\r\n    spring.datasource.password=mypassword\r\n    \r\n    spring.datasource.max-active=20\r\n    spring.datasource.max-idle=4\r\n    spring.datasource.max-wait=60000\r\n    spring.datasource.min-idle=2\r\n    spring.datasource.test-on-borrow=true\r\n    spring.datasource.test-on-return=true\r\n    spring.datasource.time-between-eviction-runs-millis=120000\r\n    spring.datasource.validation-query=select 1\r\n\r\nThis worked previously in Spring Boot 1.3.5 (before the HikariCP switch in Spring Boot 2). JPASpringConfiguration was formerly able to invoke super() without the additional arguments.\r\n\r\nWhen I put a breakpoint in SimpleInstantiationStrategy, I can see the args passed are null.\r\n\r\nSo far I&#39;ve tried:\r\n\r\n - Using spring.datasource.hikari.* properties \r\n - Adding @AutoConfigureAfter({ DataSourceAutoConfiguration.class }) to my\r\n   configuration class\r\n - Upgrading HikariCP to 3.2.0 from what&#39;s currently provided by Spring Boot\r\n - Several other reworkings of various config options, properties, and classes\r\n\r\nThank you to anyone who can help!","title":"Spring Boot 2 Upgrade with JPA Failed to instantiate [com.zaxxer.hikari.HikariDataSource]","body":"<p>I'm upgrading to Spring Boot 2.0.1.RELEASE, using Spring data JPA with Eclipselink as my provider and Liquibase. I'm encountering the following error trying to start the server:</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [com/zoomdata/scheduler/service/dao/JPASpringConfiguration.class]: Invocation of init method failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'scopedTarget.dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Illegal arguments to factory method 'dataSource'; args: ; nested exception is java.lang.IllegalArgumentException: wrong number of arguments\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1702)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:579)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:304)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1089)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:859)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327)\n    at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:137)\n    at com.zoomdata.scheduler.service.Main.main(Main.java:54)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'scopedTarget.dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Illegal arguments to factory method 'dataSource'; args: ; nested exception is java.lang.IllegalArgumentException: wrong number of arguments\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:587)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1250)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1099)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$1(AbstractBeanFactory.java:353)\n    at org.springframework.cloud.context.scope.GenericScope$BeanLifecycleWrapper.getBean(GenericScope.java:385)\n    at org.springframework.cloud.context.scope.GenericScope.get(GenericScope.java:184)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:350)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\n    at com.zaxxer.hikari.HikariDataSource$$EnhancerBySpringCGLIB$$fea845fa.getConnection(&lt;generated&gt;)\n    at com.zoomdata.scheduler.service.dao.JPASpringConfiguration$1.afterPropertiesSet(JPASpringConfiguration.java:85)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1761)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1698)\n    ... 17 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Illegal arguments to factory method 'dataSource'; args: ; nested exception is java.lang.IllegalArgumentException: wrong number of arguments\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:172)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:579)\n    ... 32 common frames omitted\nCaused by: java.lang.IllegalArgumentException: wrong number of arguments\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 33 common frames omitted\n</code></pre>\n\n<p>The dependencies in my POM are:</p>\n\n<pre><code>&lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;!-- Import dependency management from Spring Boot --&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0.RC1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-actuator-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;6.0.10.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.3.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-commons&lt;/artifactId&gt;\n            &lt;version&gt;2.0.7.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;eclipselink&lt;/artifactId&gt;\n            &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;5.0.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.RELEASE&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.0.7.RELEASE&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;version&gt;42.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>My JPA Configuration class looks like:</p>\n\n<pre><code>@Configuration\n@EnableJpaRepositories(\"com.example.my.classes\")\n@EntityScan({\"com.example.entities\"})\npublic class JPASpringConfiguration extends JpaBaseConfiguration {\n\n    private String targetDatabase;\n    private final String sqlLoggingLevel;\n\n    @Autowired\n    public JPASpringConfiguration(\n        @Value(\"${spring.datasource.target-database}\") String targetDatabase,\n        @Value(\"${eclipselink.logging.level.sql:INFO}\") String sqlLoggingLevel,\n        DataSource dataSource,\n        JpaProperties jpaProperties,\n        ObjectProvider&lt;JtaTransactionManager&gt; transactionManagerObjectProvider,\n        ObjectProvider&lt;TransactionManagerCustomizers&gt; transactionManagerCustomizers) {\n        super(dataSource, jpaProperties, transactionManagerObjectProvider, transactionManagerCustomizers);\n        this.targetDatabase = targetDatabase;\n        this.sqlLoggingLevel = sqlLoggingLevel;\n    }\n\n    @Override\n    protected AbstractJpaVendorAdapter createJpaVendorAdapter() {\n        return new EclipseLinkJpaVendorAdapter();\n    }\n\n    @Override\n    protected Map&lt;String, Object&gt; getVendorProperties() {\n        HashMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n        map.put(\"eclipselink.weaving\", \"false\");\n        map.put(\"eclipselink.target-database\", targetDatabase);\n        map.put(\"eclipselink.logging.level.sql\", sqlLoggingLevel);\n        map.put(\"eclipselink.cache.shared.default\", \"false\");\n        map.put(PersistenceUnitProperties.SESSION_CUSTOMIZER, IDSequenceRegistrar.class.getName());\n        return map;\n    }\n\n    @Bean\n    public SpringLiquibase liquibase(DataSource dataSource) {\n        SpringLiquibase springLiquibase = new SpringLiquibase() {\n\n            @Override\n            public void afterPropertiesSet() throws LiquibaseException {\n                configureLiquibase();\n                Liquibase liquibase = null;\n                try (Connection versionConnection = dataSource.getConnection()) {\n                    versionConnection.setAutoCommit(true);\n                    liquibase = createLiquibase(dataSource.getConnection());\n\n                    String version = getDbVersion(versionConnection);\n                    String previous = null;\n                    while (!Objects.equals(version, previous)) {\n                        setContexts(version);\n                        performUpdate(liquibase);\n                        previous = version;\n                        version = getDbVersion(versionConnection);\n                    }\n                } catch (SQLException e) {\n                    throw new RuntimeException(e);\n                } finally {\n                    if (liquibase != null &amp;&amp; liquibase.getDatabase() != null) {\n                        liquibase.getDatabase().close();\n                    }\n                }\n            }\n        };\n        springLiquibase.setDataSource(dataSource);\n        springLiquibase.setChangeLog(\"classpath:/upgrade/db-changelog.xml\");\n        return springLiquibase;\n    }\n\n    private String getDbVersion(Connection connection) throws SQLException {\n        String sql = \"select tag from databasechangelog where tag is not null order by dateexecuted desc\";\n        try (Statement statement = connection.createStatement();\n             ResultSet rs = statement.executeQuery(sql)) {\n            if (rs.next()) {\n                return rs.getString(1);\n            }\n            return \"initial\";\n        } catch (SQLException e) {\n            try (ResultSet rs = connection.getMetaData().getTables(null, null, \"databasechangelog\", null)) {\n                if (rs.next()) {\n                    throw e;\n                } else {\n                    return \"initial\";\n                }\n            }\n        }\n    }\n\n    private void configureLiquibase() {\n        ChangeFactory.getInstance().register(ChangeSetAwareCustomChangeWrapper.class);\n    }\n}\n</code></pre>\n\n<p>In my application.properties, I have defined:</p>\n\n<pre><code>spring.datasource.target-database=PostgreSQL\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.url=jdbc:postgresql://localhost:5432/mydatabase\nspring.datasource.username=myuser\nspring.datasource.password=mypassword\n\nspring.datasource.max-active=20\nspring.datasource.max-idle=4\nspring.datasource.max-wait=60000\nspring.datasource.min-idle=2\nspring.datasource.test-on-borrow=true\nspring.datasource.test-on-return=true\nspring.datasource.time-between-eviction-runs-millis=120000\nspring.datasource.validation-query=select 1\n</code></pre>\n\n<p>This worked previously in Spring Boot 1.3.5 (before the HikariCP switch in Spring Boot 2). JPASpringConfiguration was formerly able to invoke super() without the additional arguments.</p>\n\n<p>When I put a breakpoint in SimpleInstantiationStrategy, I can see the args passed are null.</p>\n\n<p>So far I've tried:</p>\n\n<ul>\n<li>Using spring.datasource.hikari.* properties </li>\n<li>Adding @AutoConfigureAfter({ DataSourceAutoConfiguration.class }) to my\nconfiguration class</li>\n<li>Upgrading HikariCP to 3.2.0 from what's currently provided by Spring Boot</li>\n<li>Several other reworkings of various config options, properties, and classes</li>\n</ul>\n\n<p>Thank you to anyone who can help!</p>\n"},{"tags":["java","bigdecimal"],"answers":[{"comments":[{"owner":{"account_id":1091376,"reputation":5589,"user_id":1085958,"accept_rate":83,"display_name":"djmj"},"score":0,"creation_date":1360633612,"post_id":14823879,"comment_id":20768304,"body_markdown":"In a jsf view its very usefull if data can be null checked, to display other informations to user. I am currently not using this at the DAO layer where everything is checked for null values. Currently just some testing for only view related data.","body":"In a jsf view its very usefull if data can be null checked, to display other informations to user. I am currently not using this at the DAO layer where everything is checked for null values. Currently just some testing for only view related data."},{"owner":{"account_id":2399,"reputation":3795,"user_id":3335,"accept_rate":80,"display_name":"Kyle"},"score":0,"creation_date":1360633738,"post_id":14823879,"comment_id":20768331,"body_markdown":"Ah ok. Then maybe some static methods like you have above could save you some trouble. Just doubt you&#39;ll have much luck finding a BigDecimal library that treats nulls as zeros or that won&#39;t throw an NPE when one of the arguments into it are null.","body":"Ah ok. Then maybe some static methods like you have above could save you some trouble. Just doubt you&#39;ll have much luck finding a BigDecimal library that treats nulls as zeros or that won&#39;t throw an NPE when one of the arguments into it are null."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1360634960,"post_id":14823879,"comment_id":20768656,"body_markdown":"Convert nulls to zeroes everywhere you get them; don&#39;t just leave nulls lying there.","body":"Convert nulls to zeroes everywhere you get them; don&#39;t just leave nulls lying there."}],"tags":[],"owner":{"account_id":2399,"reputation":3795,"user_id":3335,"accept_rate":80,"display_name":"Kyle"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1360631403,"creation_date":1360631403,"answer_id":14823879,"question_id":14823772,"body_markdown":"I guess I don&#39;t see the point of the library checking for null. Sure, the library won&#39;t throw a NPE, but the caller is eventually going to have to check for it. What is the caller of your above multiply going to do? It can&#39;t just use the output. It&#39;s going to have to check to see if the returned value is null at some point before it can do anything with the value. \r\n\r\nAlso, for any application I&#39;ve ever written, a null is much different than zero. I wouldn&#39;t want to use one that treated a null as zero.\r\n\r\nIf your requirement is that nulls aren&#39;t allowed in your DB, I would check for nulls in your DAO layer before writing to the DB. \r\n\r\n\r\n","title":"java math library for BigDecimal which allows null values","body":"<p>I guess I don't see the point of the library checking for null. Sure, the library won't throw a NPE, but the caller is eventually going to have to check for it. What is the caller of your above multiply going to do? It can't just use the output. It's going to have to check to see if the returned value is null at some point before it can do anything with the value. </p>\n\n<p>Also, for any application I've ever written, a null is much different than zero. I wouldn't want to use one that treated a null as zero.</p>\n\n<p>If your requirement is that nulls aren't allowed in your DB, I would check for nulls in your DAO layer before writing to the DB. </p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1361837703,"post_id":14823899,"comment_id":21207570,"body_markdown":"@dmj A fair trade for what? Is that intended as a comment on my answer? The relevance escapes me.","body":"@dmj A fair trade for what? Is that intended as a comment on my answer? The relevance escapes me."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1453849845,"post_id":14823899,"comment_id":57778185,"body_markdown":"@dmj You haven&#39;t answered my question, and I can&#39;t make head or tail or your new comment either. That piece of JSTL works for me.","body":"@dmj You haven&#39;t answered my question, and I can&#39;t make head or tail or your new comment either. That piece of JSTL works for me."},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":1,"creation_date":1610371986,"post_id":14823899,"comment_id":116103755,"body_markdown":"flawless answer!","body":"flawless answer!"}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":3,"down_vote_count":5,"up_vote_count":31,"is_accepted":true,"score":26,"last_activity_date":1360631512,"creation_date":1360631512,"answer_id":14823899,"question_id":14823772,"body_markdown":"Save the coding, just don&#39;t allow null values in the database. Make the default value zero.\r\n\r\nAs for `new BigDecimal(0)`: no, use `BigDecimal.ZERO`.","title":"java math library for BigDecimal which allows null values","body":"<p>Save the coding, just don't allow null values in the database. Make the default value zero.</p>\n\n<p>As for <code>new BigDecimal(0)</code>: no, use <code>BigDecimal.ZERO</code>.</p>\n"},{"comments":[{"owner":{"account_id":1531336,"reputation":447,"user_id":1428467,"accept_rate":100,"display_name":"slim"},"score":0,"creation_date":1618210849,"post_id":29168720,"comment_id":118523346,"body_markdown":"varargs cannot be null.","body":"varargs cannot be null."}],"tags":[],"owner":{"account_id":1872284,"reputation":1600,"user_id":1694265,"display_name":"Bunarro"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1642773049,"creation_date":1426861194,"answer_id":29168720,"question_id":14823772,"body_markdown":"I had a similar problem (not related to a database though, just needed to sum up a couple of nullable `BigDecimal`s). Did not find any library, so had to write the following function myself:\r\n\r\n    public static BigDecimal add(BigDecimal... addends) {\r\n        BigDecimal sum = BigDecimal.ZERO;\r\n        if (addends != null) {\r\n            for (BigDecimal addend : addends) {\r\n                if (addend == null) {\r\n                    addend = BigDecimal.ZERO;\r\n                }\r\n                sum = sum.add(addend);\r\n            }\r\n        }\r\n        return sum;\r\n    }\r\n\r\nThe same in Java 8:\r\n\r\n    public static BigDecimal add(BigDecimal... addends) {\r\n        if (addends == null) {\r\n            return BigDecimal.ZERO;\r\n        }\r\n        return Arrays.stream(addends)\r\n                .filter(Objects::nonNull)\r\n                .reduce(BigDecimal.ZERO, BigDecimal::add);\r\n    }","title":"java math library for BigDecimal which allows null values","body":"<p>I had a similar problem (not related to a database though, just needed to sum up a couple of nullable <code>BigDecimal</code>s). Did not find any library, so had to write the following function myself:</p>\n<pre><code>public static BigDecimal add(BigDecimal... addends) {\n    BigDecimal sum = BigDecimal.ZERO;\n    if (addends != null) {\n        for (BigDecimal addend : addends) {\n            if (addend == null) {\n                addend = BigDecimal.ZERO;\n            }\n            sum = sum.add(addend);\n        }\n    }\n    return sum;\n}\n</code></pre>\n<p>The same in Java 8:</p>\n<pre><code>public static BigDecimal add(BigDecimal... addends) {\n    if (addends == null) {\n        return BigDecimal.ZERO;\n    }\n    return Arrays.stream(addends)\n            .filter(Objects::nonNull)\n            .reduce(BigDecimal.ZERO, BigDecimal::add);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1531336,"reputation":447,"user_id":1428467,"accept_rate":100,"display_name":"slim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668256095,"creation_date":1617791711,"answer_id":66984298,"question_id":14823772,"body_markdown":"If the list contains null elements, it doesn&#39;t equals null... \r\nSo here is a unit test that test all the cases and its implementation :\r\n\r\n        @ParameterizedTest\r\n        @MethodSource(&quot;shouldSumBigDecimalsParams&quot;)\r\n        void shouldSumBigDecimals(BigDecimal expectedSum, BigDecimal first, BigDecimal second) {\r\n            BigDecimal sum = bigDecimalsSum(first, second);\r\n            assertThat(sum).isEqualTo(expectedSum);\r\n        }\r\n    \r\n        private static Stream&lt;Arguments&gt; shouldSumBigDecimalsParams() {\r\n            return Stream.of(\r\n                Arguments.of(new BigDecimal(&quot;1010&quot;), new BigDecimal(&quot;1000&quot;), BigDecimal.TEN),\r\n                Arguments.of(new BigDecimal(&quot;1000&quot;), new BigDecimal(&quot;1000&quot;), null),\r\n                Arguments.of(BigDecimal.TEN, null, BigDecimal.TEN),\r\n                Arguments.of(BigDecimal.ZERO, null, BigDecimal.ZERO),\r\n                Arguments.of(BigDecimal.ZERO, BigDecimal.ZERO, null),\r\n                Arguments.of(BigDecimal.ZERO, BigDecimal.ZERO, BigDecimal.ZERO),\r\n                Arguments.of(null, null, null)\r\n            );\r\n        }\r\n\r\nThe implementation : \r\n\r\n    static BigDecimal bigDecimalsSum(BigDecimal... bigdecimals) {\r\n        if (bigdecimals == null || Arrays.stream(bigdecimals).allMatch(Objects::isNull)) {\r\n            return null;\r\n        }\r\n        return Arrays.stream(bigdecimals)\r\n                .filter(Objects::nonNull)\r\n                .reduce(BigDecimal.ZERO, BigDecimal::add);\r\n    }","title":"java math library for BigDecimal which allows null values","body":"<p>If the list contains null elements, it doesn't equals null...\nSo here is a unit test that test all the cases and its implementation :</p>\n<pre><code>    @ParameterizedTest\n    @MethodSource(&quot;shouldSumBigDecimalsParams&quot;)\n    void shouldSumBigDecimals(BigDecimal expectedSum, BigDecimal first, BigDecimal second) {\n        BigDecimal sum = bigDecimalsSum(first, second);\n        assertThat(sum).isEqualTo(expectedSum);\n    }\n\n    private static Stream&lt;Arguments&gt; shouldSumBigDecimalsParams() {\n        return Stream.of(\n            Arguments.of(new BigDecimal(&quot;1010&quot;), new BigDecimal(&quot;1000&quot;), BigDecimal.TEN),\n            Arguments.of(new BigDecimal(&quot;1000&quot;), new BigDecimal(&quot;1000&quot;), null),\n            Arguments.of(BigDecimal.TEN, null, BigDecimal.TEN),\n            Arguments.of(BigDecimal.ZERO, null, BigDecimal.ZERO),\n            Arguments.of(BigDecimal.ZERO, BigDecimal.ZERO, null),\n            Arguments.of(BigDecimal.ZERO, BigDecimal.ZERO, BigDecimal.ZERO),\n            Arguments.of(null, null, null)\n        );\n    }\n</code></pre>\n<p>The implementation :</p>\n<pre><code>static BigDecimal bigDecimalsSum(BigDecimal... bigdecimals) {\n    if (bigdecimals == null || Arrays.stream(bigdecimals).allMatch(Objects::isNull)) {\n        return null;\n    }\n    return Arrays.stream(bigdecimals)\n            .filter(Objects::nonNull)\n            .reduce(BigDecimal.ZERO, BigDecimal::add);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7216452,"reputation":99,"user_id":5508764,"display_name":"MatWein"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648409114,"creation_date":1648409114,"answer_id":71639599,"question_id":14823772,"body_markdown":"You can have a look on this library: https://github.com/MatWein/SCalc\r\n\r\nIt can handle every number (BigDecimal, Double, custom types, ...) and handles null values as zero.","title":"java math library for BigDecimal which allows null values","body":"<p>You can have a look on this library: <a href=\"https://github.com/MatWein/SCalc\" rel=\"nofollow noreferrer\">https://github.com/MatWein/SCalc</a></p>\n<p>It can handle every number (BigDecimal, Double, custom types, ...) and handles null values as zero.</p>\n"}],"owner":{"account_id":1091376,"reputation":5589,"user_id":1085958,"accept_rate":83,"display_name":"djmj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135258,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":14823899,"answer_count":5,"score":30,"last_activity_date":1668256095,"creation_date":1360630552,"question_id":14823772,"body_markdown":"Is there a BigDecimal library with the basic operations of BigDecimal which allows null values?\r\n\r\nNull should be treated as 0 for mathematical purpose.\r\n\r\nI don&#39;t want to do all the null checks for possible null values.\r\n\r\nYou either never allow null values in database, application or view and initialize everything with `new BigDecimal(0)` or perform null checks on every usage for nullable values.\r\n\r\nSomething like:\r\n\r\n\r\n\tpublic static BigDecimal add(final BigDecimal value, final BigDecimal augend)\r\n\t{\r\n\t\tif (value == null)\r\n\t\t\treturn augend;\r\n\t\telse if (augend == null)\r\n\t\t\treturn value;\r\n\t\telse\r\n\t\t\treturn value.add(augend);\r\n\t}\r\n\r\n\tpublic static BigDecimal multiply(final BigDecimal value, final BigDecimal multiplicand)\r\n\t{\r\n\t\tif (value == null || multiplicand == null)\r\n\t\t\treturn null;\r\n\r\n\t\treturn value.multiply(multiplicand);\r\n\t}","title":"java math library for BigDecimal which allows null values","body":"<p>Is there a BigDecimal library with the basic operations of BigDecimal which allows null values?</p>\n\n<p>Null should be treated as 0 for mathematical purpose.</p>\n\n<p>I don't want to do all the null checks for possible null values.</p>\n\n<p>You either never allow null values in database, application or view and initialize everything with <code>new BigDecimal(0)</code> or perform null checks on every usage for nullable values.</p>\n\n<p>Something like:</p>\n\n<pre><code>public static BigDecimal add(final BigDecimal value, final BigDecimal augend)\n{\n    if (value == null)\n        return augend;\n    else if (augend == null)\n        return value;\n    else\n        return value.add(augend);\n}\n\npublic static BigDecimal multiply(final BigDecimal value, final BigDecimal multiplicand)\n{\n    if (value == null || multiplicand == null)\n        return null;\n\n    return value.multiply(multiplicand);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1668167610,"post_id":74401671,"comment_id":131345710,"body_markdown":"No there isn&#39;t. The `@Order` doesn&#39;t support SpEL.","body":"No there isn&#39;t. The <code>@Order</code> doesn&#39;t support SpEL."},{"owner":{"account_id":14117715,"reputation":29,"user_id":10199082,"display_name":"developer"},"score":0,"creation_date":1668431639,"post_id":74401671,"comment_id":131396013,"body_markdown":"Okay, so in that case, is it possible to switch different WebSecurityConfigurerAdapter based on environment variables?","body":"Okay, so in that case, is it possible to switch different WebSecurityConfigurerAdapter based on environment variables?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1668436032,"post_id":74401671,"comment_id":131397670,"body_markdown":"Use a conditionalOn.. .Apparently you want to load something based on profile Use an `@Profile` or else an `@ConditionalOnProperty` if you want properties.","body":"Use a conditionalOn.. .Apparently you want to load something based on profile Use an <code>@Profile</code> or else an <code>@ConditionalOnProperty</code> if you want properties."}],"answers":[{"comments":[{"owner":{"account_id":14117715,"reputation":29,"user_id":10199082,"display_name":"developer"},"score":0,"creation_date":1668431657,"post_id":74402710,"comment_id":131396022,"body_markdown":"is it possible to switch different WebSecurityConfigurerAdapter based on environment variables then?","body":"is it possible to switch different WebSecurityConfigurerAdapter based on environment variables then?"}],"tags":[],"owner":{"account_id":15785289,"reputation":42,"user_id":11390260,"display_name":"Khair Muhammad"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668170724,"creation_date":1668170724,"answer_id":74402710,"question_id":74401671,"body_markdown":"The `@Order` annotation does not support this.","title":"How to set Spring annotation value from environment variable?","body":"<p>The <code>@Order</code> annotation does not support this.</p>\n"}],"owner":{"account_id":14117715,"reputation":29,"user_id":10199082,"display_name":"developer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74402710,"answer_count":1,"score":1,"last_activity_date":1668255769,"creation_date":1668165333,"question_id":74401671,"body_markdown":"I am trying to set the value for `@Order` annotation in the following way:\r\n \r\n```java \r\n@Order(value = &quot;#{environment.orderConfig}&quot;)\r\n@EnableWebSecurity\r\npublic class LocalDevSecurityConfig extends WebSecurityConfigurerAdapter {\r\n...\r\n}\r\n```\r\n\r\nIn my environment file, I have the value of `orderConfig` as an integer.\r\nThe issue here is that `value` expects an `int` whereas `#{environment.orderConfig}` is a `String`. Is there any way to use the value stored in the environment variable?\r\n","title":"How to set Spring annotation value from environment variable?","body":"<p>I am trying to set the value for <code>@Order</code> annotation in the following way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Order(value = &quot;#{environment.orderConfig}&quot;)\n@EnableWebSecurity\npublic class LocalDevSecurityConfig extends WebSecurityConfigurerAdapter {\n...\n}\n</code></pre>\n<p>In my environment file, I have the value of <code>orderConfig</code> as an integer.\nThe issue here is that <code>value</code> expects an <code>int</code> whereas <code>#{environment.orderConfig}</code> is a <code>String</code>. Is there any way to use the value stored in the environment variable?</p>\n"},{"tags":["java","insert","binary-tree"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668253675,"post_id":74412574,"comment_id":131363569,"body_markdown":"If reaches `return false;` for any but the root element.","body":"If reaches <code>return false;</code> for any but the root element."},{"owner":{"account_id":24171958,"reputation":1,"user_id":18133904,"display_name":"Sza2002"},"score":0,"creation_date":1668254172,"post_id":74412574,"comment_id":131363672,"body_markdown":"@ChristophDahlen any help on where i should put it? i&#39;m trying to make it return false if the t.root.data==data","body":"@ChristophDahlen any help on where i should put it? i&#39;m trying to make it return false if the t.root.data==data"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668254656,"post_id":74412574,"comment_id":131363752,"body_markdown":"As you said: Return false if t.root.data == data, true in any other case.","body":"As you said: Return false if t.root.data == data, true in any other case."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668255237,"creation_date":1668255237,"answer_id":74412823,"question_id":74412574,"body_markdown":"Your code is modifying `t.root` when the tree is not empty. This is wrong. During the decent through the tree, the root reference should not be changed. \r\n\r\nSecondly, your algorithm is using *both* iteration (`while`) and recursion. But these are alternatives that you should not *combine*: choose either the iterative version or the recursive version.\r\n\r\nSince your function takes a `BTree` instance, and there is only one such instance at play, a recursive implementation would need a different function; one that takes a `Node` type as argument.\r\n\r\nHere I will just stick to the iterative idea and remove the recursion. Use a separate variable for traversing down the tree:\r\n\r\n```\r\n        else {\r\n            Node node = t.root;\r\n            while (node.data != data) {\r\n                if (node.data &gt; data) {\r\n                    if (node.left == null) {\r\n                        node.left = newNode;\r\n                        return true;\r\n                    }\r\n                    node = node.left;\r\n                } else if (node.data &lt; data) {\r\n                    if (node.right == null) {\r\n                        node.right = newNode;\r\n                        return true;\r\n                    }\r\n                    node = node.right;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n```\r\n\r\n","title":"Binary tree insert - java","body":"<p>Your code is modifying <code>t.root</code> when the tree is not empty. This is wrong. During the decent through the tree, the root reference should not be changed.</p>\n<p>Secondly, your algorithm is using <em>both</em> iteration (<code>while</code>) and recursion. But these are alternatives that you should not <em>combine</em>: choose either the iterative version or the recursive version.</p>\n<p>Since your function takes a <code>BTree</code> instance, and there is only one such instance at play, a recursive implementation would need a different function; one that takes a <code>Node</code> type as argument.</p>\n<p>Here I will just stick to the iterative idea and remove the recursion. Use a separate variable for traversing down the tree:</p>\n<pre><code>        else {\n            Node node = t.root;\n            while (node.data != data) {\n                if (node.data &gt; data) {\n                    if (node.left == null) {\n                        node.left = newNode;\n                        return true;\n                    }\n                    node = node.left;\n                } else if (node.data &lt; data) {\n                    if (node.right == null) {\n                        node.right = newNode;\n                        return true;\n                    }\n                    node = node.right;\n                }\n            }\n            return false;\n        }\n</code></pre>\n"}],"owner":{"account_id":24171958,"reputation":1,"user_id":18133904,"display_name":"Sza2002"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668255553,"creation_date":1668253094,"question_id":74412574,"body_markdown":"I&#39;m trying to insert elements into binary tree, if the element is inserted it should return true and if the element is already in the tree it should return false. \r\n\r\n\r\n\r\nHere is what i did, It doesn&#39;t give me any error message but it only returns true for the first element inserted and for the rest of them false even if they are not the same as the first element.\r\n\r\n\r\n\r\n  \r\n```\r\n\tpublic static class Node { \r\n\t\tint data;\r\n\t\tNode left;\r\n\t\tNode right;\r\n\t\t\r\n\t\tNode(int d) \r\n\t\t{data=d;\r\n\t\tleft=null;\r\n\t\tright=null;}\r\n\t\t\r\n\t}\r\n\tstatic class BTree{\r\n\t\tNode root;\r\n\t}\r\n\t\r\n\t\r\n\tstatic boolean insert(BTree t,int data) {\r\n\t\tNode newNode=new Node(data);\r\n\t\tif (t.root==null) {\r\n\t\t\tt.root=newNode;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\telse {\r\n\t\t\twhile (t.root.data!=data) {\r\n\t\t\t\tif (t.root.data&gt;data) \r\n\t\t\t\t{t.root=t.root.left;  insert(t, data);}\r\n\t\t\t\telse if (t.root.data&lt;data) \r\n\t\t\t\t{t.root=t.root.right; insert(t, data);}}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t}\r\n```\r\n\r\n\r\n\r\n","title":"Binary tree insert - java","body":"<p>I'm trying to insert elements into binary tree, if the element is inserted it should return true and if the element is already in the tree it should return false.</p>\n<p>Here is what i did, It doesn't give me any error message but it only returns true for the first element inserted and for the rest of them false even if they are not the same as the first element.</p>\n<pre><code>    public static class Node { \n        int data;\n        Node left;\n        Node right;\n        \n        Node(int d) \n        {data=d;\n        left=null;\n        right=null;}\n        \n    }\n    static class BTree{\n        Node root;\n    }\n    \n    \n    static boolean insert(BTree t,int data) {\n        Node newNode=new Node(data);\n        if (t.root==null) {\n            t.root=newNode;\n            return true;\n        }\n        \n        else {\n            while (t.root.data!=data) {\n                if (t.root.data&gt;data) \n                {t.root=t.root.left;  insert(t, data);}\n                else if (t.root.data&lt;data) \n                {t.root=t.root.right; insert(t, data);}}\n            return false;\n        }\n        \n    }\n</code></pre>\n"},{"tags":["java","arrays","java-stream","groupingby"],"comments":[{"owner":{"account_id":2598227,"reputation":19,"user_id":2251356,"display_name":"prachi Kadam"},"score":0,"creation_date":1668175926,"post_id":74402900,"comment_id":131348649,"body_markdown":"I wanted to group it with mentioned fields only(0,1,3,5). dataLines might be this","body":"I wanted to group it with mentioned fields only(0,1,3,5). dataLines might be this"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1668187715,"post_id":74402900,"comment_id":131352903,"body_markdown":"Please don&#39;t add comments to clarify. They can be hard to read. [Edit] your question instead.","body":"Please don&#39;t add comments to clarify. They can be hard to read. <a href=\"https://stackoverflow.com/posts/74402900/edit\">Edit</a> your question instead."}],"answers":[{"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1668177213,"post_id":74403419,"comment_id":131349221,"body_markdown":"@prachiKadam Sorry, I&#39;m not sure what you&#39;re trying to say. Can you explain this message.","body":"@prachiKadam Sorry, I&#39;m not sure what you&#39;re trying to say. Can you explain this message."},{"owner":{"account_id":2598227,"reputation":19,"user_id":2251356,"display_name":"prachi Kadam"},"score":0,"creation_date":1668248813,"post_id":74403419,"comment_id":131362691,"body_markdown":"Hi Alex, Could you check updated input and output. I wanted to groupby the data only for 0,1,3,5 index. Also record Key() is not supported by java 1.8","body":"Hi Alex, Could you check updated input and output. I wanted to groupby the data only for 0,1,3,5 index. Also record Key() is not supported by java 1.8"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1668262341,"post_id":74403419,"comment_id":131365156,"body_markdown":"@prachiKadam I&#39;ve provided an implementation of `Key` as a plain `class` (*see the updated answer*). The code is fully compliant with Java 8 (just use class instead of the record), and the output matches the one you&#39;ve expected.","body":"@prachiKadam I&#39;ve provided an implementation of <code>Key</code> as a plain <code>class</code> (<i>see the updated answer</i>). The code is fully compliant with Java 8 (just use class instead of the record), and the output matches the one you&#39;ve expected."},{"owner":{"account_id":2598227,"reputation":19,"user_id":2251356,"display_name":"prachi Kadam"},"score":0,"creation_date":1668579956,"post_id":74403419,"comment_id":131437050,"body_markdown":"Thanks Alex for the solution. What else required if I want the round of value for s6 filed. Example -1799.1599999999999 should be displyed as -1799.16","body":"Thanks Alex for the solution. What else required if I want the round of value for s6 filed. Example -1799.1599999999999 should be displyed as -1799.16"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668255240,"creation_date":1668174226,"answer_id":74403419,"question_id":74402900,"body_markdown":"&gt; I want the new list List&lt;String[]&gt; newDataLine as if 0th,1st,3rd,5th are same then do the addition of 6th element\r\n\r\nTo group these arrays in the required way and merge their data, you can use a `HashMap`, non-nested one. Nested maps, like the one in your code, are cumbersome and difficult to deal with.\r\n\r\nFor that, we need an object which would serve as a *Key*. I&#39;ll use a [Java 16 `record`](https://docs.oracle.com/en/java/javase/18/language/records.html), but it can be implemented a `class` as well.\r\n\r\n    public record Key(String s0, String s1, String s2, String s3, String s4, String s5, String s7) {\r\n        public Key(String[] line) {\r\n            this(line[0], line[1], line[2], line[3], line[4], line[5], line[7]);\r\n        }\r\n        \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Key key = (Key) o;\r\n            return Objects.equals(s0, key.s0) &amp;&amp; Objects.equals(s1, key.s1) &amp;&amp; Objects.equals(s3, key.s3) &amp;&amp; Objects.equals(s5, key.s5);\r\n        }\r\n        \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(s0, s1, s3, s5);\r\n        }\r\n        \r\n        public String[] toArray(Double s6) {\r\n            return new String[]{s0, s1, s2, s3, s4, s5, String.valueOf(s6), s7};\r\n        }\r\n    }\r\n\r\nIf we translate it into a `class` here&#39;s how it would look like:\r\n\r\n    public class Key {\r\n        private final String s0;\r\n        private final String s1;\r\n        private final String s2;\r\n        private final String s3;\r\n        private final String s4;\r\n        private final String s5;\r\n        private final String s7;\r\n        \r\n        public Key(String s0, String s1, String s2, String s3, String s4, String s5, String s7) {\r\n            this.s0 = s0;\r\n            this.s1 = s1;\r\n            this.s2 = s2;\r\n            this.s3 = s3;\r\n            this.s4 = s4;\r\n            this.s5 = s5;\r\n            this.s7 = s7;\r\n        }\r\n        \r\n        public Key(String[] line) {\r\n            this(line[0], line[1], line[2], line[3], line[4], line[5], line[7]);\r\n        }\r\n        \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            Key key = (Key) o;\r\n            return Objects.equals(s0, key.s0) &amp;&amp; Objects.equals(s1, key.s1) &amp;&amp; Objects.equals(s3, key.s3) &amp;&amp; Objects.equals(s5, key.s5);\r\n        }\r\n        \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(s0, s1, s3, s5);\r\n        }\r\n        \r\n        public String[] toArray(Double s6) {\r\n            return new String[]{s0, s1, s2, s3, s4, s5, String.valueOf(s6), s7};\r\n        }\r\n    }\r\n\r\n**Note:**\r\n\r\n* `List&lt;String[]&gt;` - is not the most convenient type to dial with, and it&#39;s better to avoid mixing arrays and Collections.\r\n\r\n* These **Arrays should be custom Objects**, to begin with, because you&#39;re expecting them to contain a particular number of elements and each to have a certain shape. If you organize them into a class, your data would have a structure, each element would become a property with an appropriate data type, instead of being a nameless String.\r\n\r\n* It&#39;s highly advisable to use `BigDecimal` instead of `Double` for floating-point calculations when don&#39;t want to lose precision (e.g.). Although Collector `summingDouble()` is implemented to mitigate inaccuracies, `double` is not a good choice for calculating prices, tax rates, etc.\r\n\r\nAnd here how the stream would look like:\r\n\r\n```\r\nList&lt;String[]&gt; dataLines = List.of(\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;84M&quot;, &quot;-101.87&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-102.48&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-103.75&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-10.8&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-110.39&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-10.8&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;CZK&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-103.75&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4066&quot;, &quot;20M&quot;, &quot;-10.8&quot;, &quot;0&quot;}\r\n);\r\n        \r\nList&lt;String[]&gt; amountByKey = dataLines.stream()\r\n    .collect(Collectors.groupingBy(\r\n        Key::new,\r\n        Collectors.summingDouble(s -&gt; Double.parseDouble(s[6]))\r\n    ))\r\n    .entrySet().stream()\r\n    .map(entry -&gt; entry.getKey().toArray(entry.getValue()))\r\n    .collect(Collectors.toList());\r\n\r\nnewDataLine.forEach(arr -&gt; System.out.println(Arrays.toString(arr)));\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\n[2002, BRBTSS, BRSTNCNTF212, BRL, 12670012.4055, 84M, -101.87, 0]\r\n[2002, BRBTSS, BRSTNCNTF212, BRL, 12670012.4055, 60M, -214.14, 0]\r\n[2002, BRBTSS, BRSTNCNTF212, BRL, 12670012.4055, 120M, -124.08000000000001, 0]\r\n[2002, BRBTSS, BRSTNCNTF212, BRL, 12670012.4066, 20M, -10.8, 0]\r\n[2002, BRBTSS, BRSTNCNTF212, CZK, 12670012.4055, 60M, -103.75, 0]\r\n```","title":"Java-Stream - Group by Array 4 elements and add up threir last elements using Java 8","body":"<blockquote>\n<p>I want the new list List&lt;String[]&gt; newDataLine as if 0th,1st,3rd,5th are same then do the addition of 6th element</p>\n</blockquote>\n<p>To group these arrays in the required way and merge their data, you can use a <code>HashMap</code>, non-nested one. Nested maps, like the one in your code, are cumbersome and difficult to deal with.</p>\n<p>For that, we need an object which would serve as a <em>Key</em>. I'll use a <a href=\"https://docs.oracle.com/en/java/javase/18/language/records.html\" rel=\"nofollow noreferrer\">Java 16 <code>record</code></a>, but it can be implemented a <code>class</code> as well.</p>\n<pre><code>public record Key(String s0, String s1, String s2, String s3, String s4, String s5, String s7) {\n    public Key(String[] line) {\n        this(line[0], line[1], line[2], line[3], line[4], line[5], line[7]);\n    }\n    \n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Key key = (Key) o;\n        return Objects.equals(s0, key.s0) &amp;&amp; Objects.equals(s1, key.s1) &amp;&amp; Objects.equals(s3, key.s3) &amp;&amp; Objects.equals(s5, key.s5);\n    }\n    \n    @Override\n    public int hashCode() {\n        return Objects.hash(s0, s1, s3, s5);\n    }\n    \n    public String[] toArray(Double s6) {\n        return new String[]{s0, s1, s2, s3, s4, s5, String.valueOf(s6), s7};\n    }\n}\n</code></pre>\n<p>If we translate it into a <code>class</code> here's how it would look like:</p>\n<pre><code>public class Key {\n    private final String s0;\n    private final String s1;\n    private final String s2;\n    private final String s3;\n    private final String s4;\n    private final String s5;\n    private final String s7;\n    \n    public Key(String s0, String s1, String s2, String s3, String s4, String s5, String s7) {\n        this.s0 = s0;\n        this.s1 = s1;\n        this.s2 = s2;\n        this.s3 = s3;\n        this.s4 = s4;\n        this.s5 = s5;\n        this.s7 = s7;\n    }\n    \n    public Key(String[] line) {\n        this(line[0], line[1], line[2], line[3], line[4], line[5], line[7]);\n    }\n    \n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        Key key = (Key) o;\n        return Objects.equals(s0, key.s0) &amp;&amp; Objects.equals(s1, key.s1) &amp;&amp; Objects.equals(s3, key.s3) &amp;&amp; Objects.equals(s5, key.s5);\n    }\n    \n    @Override\n    public int hashCode() {\n        return Objects.hash(s0, s1, s3, s5);\n    }\n    \n    public String[] toArray(Double s6) {\n        return new String[]{s0, s1, s2, s3, s4, s5, String.valueOf(s6), s7};\n    }\n}\n</code></pre>\n<p><strong>Note:</strong></p>\n<ul>\n<li><p><code>List&lt;String[]&gt;</code> - is not the most convenient type to dial with, and it's better to avoid mixing arrays and Collections.</p>\n</li>\n<li><p>These <strong>Arrays should be custom Objects</strong>, to begin with, because you're expecting them to contain a particular number of elements and each to have a certain shape. If you organize them into a class, your data would have a structure, each element would become a property with an appropriate data type, instead of being a nameless String.</p>\n</li>\n<li><p>It's highly advisable to use <code>BigDecimal</code> instead of <code>Double</code> for floating-point calculations when don't want to lose precision (e.g.). Although Collector <code>summingDouble()</code> is implemented to mitigate inaccuracies, <code>double</code> is not a good choice for calculating prices, tax rates, etc.</p>\n</li>\n</ul>\n<p>And here how the stream would look like:</p>\n<pre><code>List&lt;String[]&gt; dataLines = List.of(\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;84M&quot;, &quot;-101.87&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-102.48&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-103.75&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-10.8&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-110.39&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-10.8&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;CZK&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-103.75&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4066&quot;, &quot;20M&quot;, &quot;-10.8&quot;, &quot;0&quot;}\n);\n        \nList&lt;String[]&gt; amountByKey = dataLines.stream()\n    .collect(Collectors.groupingBy(\n        Key::new,\n        Collectors.summingDouble(s -&gt; Double.parseDouble(s[6]))\n    ))\n    .entrySet().stream()\n    .map(entry -&gt; entry.getKey().toArray(entry.getValue()))\n    .collect(Collectors.toList());\n\nnewDataLine.forEach(arr -&gt; System.out.println(Arrays.toString(arr)));\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[2002, BRBTSS, BRSTNCNTF212, BRL, 12670012.4055, 84M, -101.87, 0]\n[2002, BRBTSS, BRSTNCNTF212, BRL, 12670012.4055, 60M, -214.14, 0]\n[2002, BRBTSS, BRSTNCNTF212, BRL, 12670012.4055, 120M, -124.08000000000001, 0]\n[2002, BRBTSS, BRSTNCNTF212, BRL, 12670012.4066, 20M, -10.8, 0]\n[2002, BRBTSS, BRSTNCNTF212, CZK, 12670012.4055, 60M, -103.75, 0]\n</code></pre>\n"}],"owner":{"account_id":2598227,"reputation":19,"user_id":2251356,"display_name":"prachi Kadam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668255240,"creation_date":1668171766,"question_id":74402900,"body_markdown":"I have a list of string arrays `List&lt;String[]&gt;` which looks like this:\r\n```\r\nList&lt;String[]&gt; dataLines = List.of(\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;84M&quot;, &quot;-101.87&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-102.48&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-103.75&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-10.8&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-110.39&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-10.8&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;CZK&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-103.75&quot;, &quot;0&quot;},\r\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4066&quot;, &quot;20M&quot;, &quot;-10.8&quot;, &quot;0&quot;}\r\n);\r\n```\r\n\r\nI want to create a new list of arrays `List&lt;String[]&gt;` `newDataLine` by grouping arrays where the `0th`, `1st`, `3rd`, and `5th` elements are same and add up their `6th` elements.\r\n\r\n*Expected Output:*\r\n\r\n```none\r\n[&quot;2002&quot;,&quot;BRBTSS&quot;,&quot;BRSTNCNTF212&quot;,&quot;BRL&quot;,&quot;12670012.4055&quot;,&quot;84M&quot;,&quot;-101.87&quot;,&quot;0&quot;],\r\n[&quot;2002&quot;,&quot;BRBTSS&quot;,&quot;BRSTNCNTF212&quot;,&quot;BRL&quot;,&quot;12670012.4055&quot;,&quot;120M&quot;,&quot;-124.08000000000001&quot;,&quot;0&quot;],\r\n[&quot;2002&quot;,&quot;BRBTSS&quot;,&quot;BRSTNCNTF212&quot;,&quot;BRL&quot;,&quot;12670012.4055&quot;,&quot;60M&quot;,&quot;-214.14&quot;,&quot;0&quot;],\r\n[&quot;2002&quot;,&quot;BRBTSS&quot;,&quot;BRSTNCNTF212&quot;,&quot;CZK&quot;,&quot;12670012.4055&quot;,&quot;60M&quot;,&quot;-103.75&quot;,&quot;0&quot;], \r\n[&quot;2002&quot;,&quot;BRBTSS&quot;,&quot;BRSTNCNTF212&quot;,&quot;BRL&quot;,&quot;12670012.4066&quot;,&quot;20M&quot;,&quot;-10.8&quot;,&quot;0&quot;]\r\n```\r\n\r\nI&#39;ve tried the following:\r\n```\r\nMap&lt;String, Map&lt;String, Map&lt;String, Map&lt;String, Double&gt;&gt;&gt;&gt; map = \r\n    dataLines.stream()\r\n    .collect(Collectors.groupingBy(\r\n        s -&gt; s[0],\r\n        Collectors.groupingBy(s -&gt; s[1],\r\n            Collectors.groupingBy(s -&gt; s[3],\r\n                Collectors.groupingBy(s -&gt; s[5],\r\n                    Collectors.summingDouble(s -&gt; Double.valueOf(s[6])))))\r\n    ));\r\n```\r\n\r\nWhich gives me the following output:\r\n\r\n```\r\n{2002={BRBTSS={BRL={84M=-101.87, 60M=-214.14, 120M=-124.08000000000001}}}}\r\n```\r\n\r\nHow can group the data in a way described above?\r\n","title":"Java-Stream - Group by Array 4 elements and add up threir last elements using Java 8","body":"<p>I have a list of string arrays <code>List&lt;String[]&gt;</code> which looks like this:</p>\n<pre><code>List&lt;String[]&gt; dataLines = List.of(\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;84M&quot;, &quot;-101.87&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-102.48&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-103.75&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-10.8&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-110.39&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4055&quot;, &quot;120M&quot;, &quot;-10.8&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;CZK&quot;, &quot;12670012.4055&quot;, &quot;60M&quot;, &quot;-103.75&quot;, &quot;0&quot;},\n    new String[]{&quot;2002&quot;, &quot;BRBTSS&quot;, &quot;BRSTNCNTF212&quot;, &quot;BRL&quot;, &quot;12670012.4066&quot;, &quot;20M&quot;, &quot;-10.8&quot;, &quot;0&quot;}\n);\n</code></pre>\n<p>I want to create a new list of arrays <code>List&lt;String[]&gt;</code> <code>newDataLine</code> by grouping arrays where the <code>0th</code>, <code>1st</code>, <code>3rd</code>, and <code>5th</code> elements are same and add up their <code>6th</code> elements.</p>\n<p><em>Expected Output:</em></p>\n<pre class=\"lang-none prettyprint-override\"><code>[&quot;2002&quot;,&quot;BRBTSS&quot;,&quot;BRSTNCNTF212&quot;,&quot;BRL&quot;,&quot;12670012.4055&quot;,&quot;84M&quot;,&quot;-101.87&quot;,&quot;0&quot;],\n[&quot;2002&quot;,&quot;BRBTSS&quot;,&quot;BRSTNCNTF212&quot;,&quot;BRL&quot;,&quot;12670012.4055&quot;,&quot;120M&quot;,&quot;-124.08000000000001&quot;,&quot;0&quot;],\n[&quot;2002&quot;,&quot;BRBTSS&quot;,&quot;BRSTNCNTF212&quot;,&quot;BRL&quot;,&quot;12670012.4055&quot;,&quot;60M&quot;,&quot;-214.14&quot;,&quot;0&quot;],\n[&quot;2002&quot;,&quot;BRBTSS&quot;,&quot;BRSTNCNTF212&quot;,&quot;CZK&quot;,&quot;12670012.4055&quot;,&quot;60M&quot;,&quot;-103.75&quot;,&quot;0&quot;], \n[&quot;2002&quot;,&quot;BRBTSS&quot;,&quot;BRSTNCNTF212&quot;,&quot;BRL&quot;,&quot;12670012.4066&quot;,&quot;20M&quot;,&quot;-10.8&quot;,&quot;0&quot;]\n</code></pre>\n<p>I've tried the following:</p>\n<pre><code>Map&lt;String, Map&lt;String, Map&lt;String, Map&lt;String, Double&gt;&gt;&gt;&gt; map = \n    dataLines.stream()\n    .collect(Collectors.groupingBy(\n        s -&gt; s[0],\n        Collectors.groupingBy(s -&gt; s[1],\n            Collectors.groupingBy(s -&gt; s[3],\n                Collectors.groupingBy(s -&gt; s[5],\n                    Collectors.summingDouble(s -&gt; Double.valueOf(s[6])))))\n    ));\n</code></pre>\n<p>Which gives me the following output:</p>\n<pre><code>{2002={BRBTSS={BRL={84M=-101.87, 60M=-214.14, 120M=-124.08000000000001}}}}\n</code></pre>\n<p>How can group the data in a way described above?</p>\n"},{"tags":["java","jax-rs"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1668212183,"post_id":74406539,"comment_id":131358481,"body_markdown":"Have you tried to url encode it?","body":"Have you tried to url encode it?"},{"owner":{"account_id":6386225,"reputation":207,"user_id":4954056,"accept_rate":14,"display_name":"gurdingering"},"score":0,"creation_date":1668452524,"post_id":74406539,"comment_id":131403613,"body_markdown":"@PaulSamsotha yea I&#39;ve tried url encoding it before passing it to the UriBuilder. But the UriBuilder will try encoding it again won&#39;t it?","body":"@PaulSamsotha yea I&#39;ve tried url encoding it before passing it to the UriBuilder. But the UriBuilder will try encoding it again won&#39;t it?"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1668453268,"post_id":74406539,"comment_id":131403861,"body_markdown":"_&quot;URI template names and delimiters are never encoded but their values are encoded when a URI is built&quot;_ - I don&#39;t know if by delimiter, they mean curly brackets.","body":"<i>&quot;URI template names and delimiters are never encoded but their values are encoded when a URI is built&quot;</i> - I don&#39;t know if by delimiter, they mean curly brackets."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1668453394,"post_id":74406539,"comment_id":131403907,"body_markdown":"Yea I&#39;m not sure how that works at all.","body":"Yea I&#39;m not sure how that works at all."}],"owner":{"account_id":6386225,"reputation":207,"user_id":4954056,"accept_rate":14,"display_name":"gurdingering"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668254386,"creation_date":1668190099,"question_id":74406539,"body_markdown":"Trying to use this UriBuilder class to create an endpoint for my Http client to hit https://jakarta.ee/specifications/platform/8/apidocs/javax/ws/rs/core/uribuilder\r\n\r\n```\r\n        String key = &quot;b4o3h4{g}fghg3&quot;;\r\n        String uri = UriBuilder.fromUri(getUriForName(name))\r\n            .queryParam(&quot;name&quot;, name)\r\n            .queryParam(&quot;key&quot;, key)\r\n            .build();\r\n```\r\n\r\nBut I&#39;m getting the following stacktrace:\r\n\r\n```\r\nThe template variable &#39;g&#39; has no value\r\njava.lang.IllegalArgumentException: The template variable &#39;g&#39; has no value\r\n\tat org.glassfish.jersey.uri.UriTemplate$1ValuesFromArrayStrategy.valueFor(UriTemplate.java:996)\r\n\tat org.glassfish.jersey.uri.UriTemplate.resolveTemplate(UriTemplate.java:682)\r\n\tat org.glassfish.jersey.uri.UriTemplate.createUriComponent(UriTemplate.java:1006)\r\n\tat org.glassfish.jersey.uri.UriTemplate.createURIWithStringValues(UriTemplate.java:946)\r\n\tat org.glassfish.jersey.uri.UriTemplate.createURIWithStringValues(UriTemplate.java:882)\r\n\tat org.glassfish.jersey.uri.UriTemplate.createURI(UriTemplate.java:847)\r\n\tat org.glassfish.jersey.uri.internal.JerseyUriBuilder._build(JerseyUriBuilder.java:890)\r\n\tat org.glassfish.jersey.uri.internal.JerseyUriBuilder.build(JerseyUriBuilder.java:807)\r\n```\r\n\r\nThis is due to my query parameter&#39;s value just happening to look like a template. Is there a way for me to pass this value in if that&#39;s my actual value and not a template?","title":"UriBuilder doesn&#39;t work if parameter&#39;s value happens to look like a template?","body":"<p>Trying to use this UriBuilder class to create an endpoint for my Http client to hit <a href=\"https://jakarta.ee/specifications/platform/8/apidocs/javax/ws/rs/core/uribuilder\" rel=\"nofollow noreferrer\">https://jakarta.ee/specifications/platform/8/apidocs/javax/ws/rs/core/uribuilder</a></p>\n<pre><code>        String key = &quot;b4o3h4{g}fghg3&quot;;\n        String uri = UriBuilder.fromUri(getUriForName(name))\n            .queryParam(&quot;name&quot;, name)\n            .queryParam(&quot;key&quot;, key)\n            .build();\n</code></pre>\n<p>But I'm getting the following stacktrace:</p>\n<pre><code>The template variable 'g' has no value\njava.lang.IllegalArgumentException: The template variable 'g' has no value\n    at org.glassfish.jersey.uri.UriTemplate$1ValuesFromArrayStrategy.valueFor(UriTemplate.java:996)\n    at org.glassfish.jersey.uri.UriTemplate.resolveTemplate(UriTemplate.java:682)\n    at org.glassfish.jersey.uri.UriTemplate.createUriComponent(UriTemplate.java:1006)\n    at org.glassfish.jersey.uri.UriTemplate.createURIWithStringValues(UriTemplate.java:946)\n    at org.glassfish.jersey.uri.UriTemplate.createURIWithStringValues(UriTemplate.java:882)\n    at org.glassfish.jersey.uri.UriTemplate.createURI(UriTemplate.java:847)\n    at org.glassfish.jersey.uri.internal.JerseyUriBuilder._build(JerseyUriBuilder.java:890)\n    at org.glassfish.jersey.uri.internal.JerseyUriBuilder.build(JerseyUriBuilder.java:807)\n</code></pre>\n<p>This is due to my query parameter's value just happening to look like a template. Is there a way for me to pass this value in if that's my actual value and not a template?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9333,"page":890,"page_size":100}
